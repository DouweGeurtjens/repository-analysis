[{"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/5722", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/5722/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/5722/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/5722/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/5722", "id": 1674799245, "node_id": "I_kwDOFAsknM5j02iN", "number": 5722, "title": "[Bug]: paddlenlp.trainer.Trainer \u62a5\u9519\uff1aError in `python': double free or corruption (!prev): 0x00007f8eefe42d30", "user": {"login": "Hhhhhhhzf", "id": 39818832, "node_id": "MDQ6VXNlcjM5ODE4ODMy", "avatar_url": "https://avatars.githubusercontent.com/u/39818832?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Hhhhhhhzf", "html_url": "https://github.com/Hhhhhhhzf", "followers_url": "https://api.github.com/users/Hhhhhhhzf/followers", "following_url": "https://api.github.com/users/Hhhhhhhzf/following{/other_user}", "gists_url": "https://api.github.com/users/Hhhhhhhzf/gists{/gist_id}", "starred_url": "https://api.github.com/users/Hhhhhhhzf/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Hhhhhhhzf/subscriptions", "organizations_url": "https://api.github.com/users/Hhhhhhhzf/orgs", "repos_url": "https://api.github.com/users/Hhhhhhhzf/repos", "events_url": "https://api.github.com/users/Hhhhhhhzf/events{/privacy}", "received_events_url": "https://api.github.com/users/Hhhhhhhzf/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4880074605, "node_id": "LA_kwDOFAsknM8AAAABIuAHbQ", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/triage", "name": "triage", "color": "8F57AB", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "ZHUI", "id": 16911935, "node_id": "MDQ6VXNlcjE2OTExOTM1", "avatar_url": "https://avatars.githubusercontent.com/u/16911935?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ZHUI", "html_url": "https://github.com/ZHUI", "followers_url": "https://api.github.com/users/ZHUI/followers", "following_url": "https://api.github.com/users/ZHUI/following{/other_user}", "gists_url": "https://api.github.com/users/ZHUI/gists{/gist_id}", "starred_url": "https://api.github.com/users/ZHUI/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ZHUI/subscriptions", "organizations_url": "https://api.github.com/users/ZHUI/orgs", "repos_url": "https://api.github.com/users/ZHUI/repos", "events_url": "https://api.github.com/users/ZHUI/events{/privacy}", "received_events_url": "https://api.github.com/users/ZHUI/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ZHUI", "id": 16911935, "node_id": "MDQ6VXNlcjE2OTExOTM1", "avatar_url": "https://avatars.githubusercontent.com/u/16911935?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ZHUI", "html_url": "https://github.com/ZHUI", "followers_url": "https://api.github.com/users/ZHUI/followers", "following_url": "https://api.github.com/users/ZHUI/following{/other_user}", "gists_url": "https://api.github.com/users/ZHUI/gists{/gist_id}", "starred_url": "https://api.github.com/users/ZHUI/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ZHUI/subscriptions", "organizations_url": "https://api.github.com/users/ZHUI/orgs", "repos_url": "https://api.github.com/users/ZHUI/repos", "events_url": "https://api.github.com/users/ZHUI/events{/privacy}", "received_events_url": "https://api.github.com/users/ZHUI/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2023-04-19T12:25:37Z", "updated_at": "2023-04-25T03:52:11Z", "closed_at": "2023-04-25T03:52:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\n\n```Markdown\n\u88c5\u7684\u662fcpu\u7248\u672c\u7684\r\n- paddle-bfloat      0.1.7\r\n- paddle2onnx        1.0.6\r\n- paddlefsl          1.1.0\r\n- paddlenlp          2.5.2\r\n- paddlepaddle       2.4.2\n```\n\n\n### \u91cd\u590d\u95ee\u9898\n\n- [x] I have searched the existing issues\n\n### \u9519\u8bef\u63cf\u8ff0\n\n```Markdown\n\u57fa\u4e8epaddlenlp\u642d\u5efa\u7684\u4e00\u4e2a\u7b80\u5355\u6587\u672c\u5206\u7c7b\u7a0b\u5e8f\uff0c\u5728linux+cpu\u7248\u672c\u4e0b\u8fd0\u884c\uff0c\u4e0d\u8fc7\u5728\u7a0b\u5e8f\u8bad\u7ec3\u5b8c\u6bd5\u540e\u5c31\u53d1\u751f\u4e86\u62a5\u9519\u3002\r\n\u62a5\u9519\u53ef\u4ee5\u67e5\u770b\u65e5\u5fd7\uff0c\u4ece\u65e5\u5fd7\u4e2d\u53ef\u4ee5\u770b\u5230\u201cTraining completed.\u201d\u8fd9\u4e00\u53e5\u5df2\u7ecf\u88ab\u8f93\u51fa\uff0c\u4f46\u662f\u4e4b\u540e\u8fd8\u662f\u62a5\u4e86\u201cError in `python': double free or corruption (!prev): 0x00007f8eefe42d30\u201d\u8fd9\u6837\u7684\u95ee\u9898\u3002\r\n\u4ee3\u7801\u662f\u76f4\u63a5\u6309\u7167\u201chttps://github.com/PaddlePaddle/PaddleNLP/tree/develop/model_zoo/ernie-tiny\u201d\u6765\u6539\u5199\u7684\uff0c\u5e94\u8be5\u6ca1\u5565\u95ee\u9898\u3002\n```\n\n\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\n\n### \u672c\u9879\u76ee\u5305\u542b\u4e09\u4e2a\u4ee3\u7801\uff1a\r\n\r\n1. run_train.py\r\n2. model.py\r\n3. utils.py\r\n\r\n\u8fd0\u884c\u4ee3\u7801\r\n```\r\npython run_train.py --output_dir /home/xxx/project/paddle --device cpu --do_train --num_train_epochs 1 --do_eval --evaluation_strategy epoch --do_export\r\n```\r\n\r\n### \u6570\u636e\r\n\u6570\u636e\u6587\u4ef6\u4e2d\u6bcf\u884c\u6837\u672c\u90fd\u662f\u5982\u4e0b\u683c\u5f0f\uff1a\r\n\u53e5\u5b50 + \"\\t\" + \u6807\u7b7e\r\n\r\n\r\n### \u4ee3\u7801\u6587\u4ef6\r\n1. run_train.py\r\n```\r\n# Copyright (c) 2023 PaddlePaddle Authors. All Rights Reserved.\r\n#\r\n# Licensed under the Apache License, Version 2.0 (the \"License\");\r\n# you may not use this file except in compliance with the License.\r\n# You may obtain a copy of the License at\r\n#\r\n#     http://www.apache.org/licenses/LICENSE-2.0\r\n#\r\n# Unless required by applicable law or agreed to in writing, software\r\n# distributed under the License is distributed on an \"AS IS\" BASIS,\r\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n# See the License for the specific language governing permissions and\r\n# limitations under the License.\r\n\r\nimport os\r\nfrom dataclasses import dataclass, field\r\nfrom typing import Optional\r\n\r\nimport paddle\r\nimport sklearn\r\nfrom model import ErnieClassificationModel\r\nfrom utils import compute_metrics, get_label_name, read_example\r\nfrom paddle.nn import CrossEntropyLoss\r\n\r\nfrom paddlenlp.data import DataCollatorForTokenClassification, DataCollatorWithPadding\r\nfrom paddlenlp.datasets import load_dataset\r\nfrom paddlenlp.trainer import (\r\n    CompressionArguments,\r\n    PdArgumentParser,\r\n    Trainer,\r\n    get_last_checkpoint,\r\n)\r\nfrom paddlenlp.transformers import AutoTokenizer, ErnieConfig\r\nfrom paddlenlp.utils.log import logger\r\n\r\n\r\n@dataclass\r\nclass DataArguments:\r\n    \"\"\"\r\n    Arguments pertaining to what data we are going to input our model for training and eval.\r\n    Using `PdArgumentParser` we can turn this class into argparse arguments to be able to\r\n    specify them on the command line.\r\n    \"\"\"\r\n\r\n    train_path: str = field(\r\n        default='train.txt', \r\n        metadata={\"help\": \"The screen data path for train dataset.\"})\r\n    dev_path: str = field(\r\n        default='dev.txt',\r\n        metadata={\"help\": \"The screen data path for dev dataset. Defaults to None.\"},\r\n    )\r\n    test_path: str = field(default=None, metadata={\"help\": \"Test data path. Defaults to None.\"})\r\n    label_path: str = field(default='labels', metadata={\"help\": \"Intent label dict path. Defaults to None.\"})\r\n    max_seq_length: Optional[int] = field(\r\n        default=128,\r\n        metadata={\r\n            \"help\": \"The maximum total input sequence length after tokenization. Sequences longer \"\r\n            \"than this will be truncated, sequences shorter will be padded. Defaults to 16.\"\r\n        },\r\n    )\r\n    max_vocab_size: Optional[int] = field(\r\n        default=8000,\r\n        metadata={\"help\": \"The Maximum vocab size after pruning word embeddings. Defaults to 8000.\"},\r\n    )\r\n    ignore_index: Optional[int] = field(\r\n        default=0,\r\n        metadata={\r\n            \"help\": \"Padding index, and it's used to pad noscreen label in screen data, \"\r\n            \"and pad screen label in noscreen data. Defaults to 9999.\"\r\n        },\r\n    )\r\n\r\n\r\n@dataclass\r\nclass ModelArguments:\r\n    \"\"\"\r\n    Arguments pertaining to which model/config/tokenizer we are going to fine-tune from.\r\n    \"\"\"\r\n\r\n    model_name_or_path: Optional[str] = field(\r\n        default=\"ernie-3.0-tiny-nano-v2-zh\",\r\n        metadata={\"help\": \"Path to pretrained model. Defaults to 'ernie-3.0-tiny-nano-v2-zh'\"},\r\n    )\r\n    dropout: float = field(default=0.1, metadata={\"help\": \"Dropout rate for JointErnie. Defaults to 0.1.\"})\r\n\r\n\r\ndef main():\r\n    parser = PdArgumentParser((ModelArguments, DataArguments, CompressionArguments))\r\n    model_args, data_args, compression_args = parser.parse_args_into_dataclasses()\r\n\r\n    paddle.set_device(compression_args.device)\r\n\r\n    _, label2id = get_label_name(data_args.label_path)\r\n\r\n    model = ErnieClassificationModel.from_pretrained(\r\n        pretrained_model_name_or_path=model_args.model_name_or_path,\r\n        n_class=len(label2id),\r\n        dropout=model_args.dropout,\r\n    )\r\n\r\n    tokenizer = AutoTokenizer.from_pretrained(model_args.model_name_or_path)\r\n\r\n    train_dataset = load_dataset(\r\n        read_example,\r\n        filename=data_args.train_path,\r\n        label2id=label2id,\r\n        tokenizer=tokenizer,\r\n        max_seq_length=data_args.max_seq_length,\r\n        lazy=False,\r\n    )\r\n\r\n    eval_dataset = load_dataset(\r\n        read_example,\r\n        filename=data_args.dev_path,\r\n        label2id=label2id,\r\n        tokenizer=tokenizer,\r\n        max_seq_length=data_args.max_seq_length,\r\n        lazy=False,\r\n    )\r\n\r\n    data_collator = DataCollatorWithPadding(\r\n        tokenizer, \r\n        padding=\"max_length\", \r\n        max_length=data_args.max_seq_length, \r\n        return_attention_mask=True\r\n    )\r\n\r\n    criterion = CrossEntropyLoss()\r\n\r\n    trainer = Trainer(\r\n        model=model,\r\n        args=compression_args,\r\n        data_collator=data_collator,\r\n        train_dataset=train_dataset if compression_args.do_train or compression_args.do_compress else None,\r\n        eval_dataset=eval_dataset if compression_args.do_eval or compression_args.do_compress else None,\r\n        criterion=criterion,\r\n        tokenizer=tokenizer,\r\n        compute_metrics=compute_metrics,\r\n    )\r\n\r\n    # compression_args.print_config()\r\n\r\n    # # Detecting last checkpoint.\r\n    # last_checkpoint = None\r\n    # if (\r\n    #     os.path.isdir(compression_args.output_dir)\r\n    #     and compression_args.do_train\r\n    #     and not compression_args.overwrite_output_dir\r\n    # ):\r\n    #     last_checkpoint = get_last_checkpoint(compression_args.output_dir)\r\n    #     if last_checkpoint is None and len(os.listdir(compression_args.output_dir)) > 0:\r\n    #         raise ValueError(\r\n    #             f\"Output directory ({compression_args.output_dir}) already exists and is not empty. \"\r\n    #             \"Use --overwrite_output_dir to overcome.\"\r\n    #         )\r\n    #     elif last_checkpoint is not None and compression_args.resume_from_checkpoint is None:\r\n    #         logger.info(\r\n    #             f\"Checkpoint detected, resuming training at {last_checkpoint}. To avoid this behavior, change \"\r\n    #             \"the `--output_dir` or add `--overwrite_output_dir` to train from scratch.\"\r\n    #         )\r\n\r\n    checkpoint = None\r\n    # if compression_args.resume_from_checkpoint is not None:\r\n    #     checkpoint = compression_args.resume_from_checkpoint\r\n    # elif last_checkpoint is not None:\r\n    #     checkpoint = last_checkpoint\r\n\r\n    if compression_args.do_train:\r\n        trainer.train(resume_from_checkpoint=checkpoint)\r\n\r\n    # if compression_args.do_eval:\r\n    #     trainer.evaluate()\r\n    # if compression_args.do_export:\r\n    #     model.eval()\r\n    #     # convert to static graph with specific input description\r\n    #     model = paddle.jit.to_static(\r\n    #         model,\r\n    #         input_spec=[\r\n    #             paddle.static.InputSpec(shape=[None, None], dtype=compression_args.input_dtype),  # input_ids\r\n    #         ],\r\n    #     )\r\n    #     # save converted static graph model\r\n    #     paddle.jit.save(model, os.path.join(compression_args.output_dir, \"infer_model\"))\r\n    #     tokenizer.save_pretrained(compression_args.output_dir)\r\n\r\n\r\nif __name__ == \"__main__\":\r\n    main()\r\n\r\n```\r\n\r\n\r\n\r\n2. model.py\r\n```\r\nfrom cmath import log\r\nfrom paddle import nn\r\nfrom paddlenlp.transformers import ErnieModel, ErniePretrainedModel\r\n\r\n\r\nclass ErnieClassificationModel(ErniePretrainedModel):\r\n    def __init__(self, config, n_class, dropout=None):\r\n        super(ErnieClassificationModel, self).__init__(config)\r\n        self.num_labels = n_class\r\n        self.ernie = ErnieModel(config)\r\n        self.dropout = nn.Dropout(dropout if dropout is not None else config['hidden_dropout_prob'])\r\n\r\n        self.classifier = nn.Linear(\r\n            config['hidden_size'], \r\n            n_class,\r\n            weight_attr=nn.initializer.KaimingNormal(),\r\n            bias_attr=nn.initializer.KaimingNormal(),\r\n            )\r\n        self.apply(self.init_weights)\r\n\r\n    def forward(self, input_ids, token_type_ids=None, position_ids=None, attention_mask=None):\r\n        _, pooled_output = self.ernie(\r\n            input_ids, \r\n            token_type_ids=token_type_ids, \r\n            position_ids=position_ids, \r\n            attention_mask=attention_mask\r\n            )\r\n        pooled_output = self.dropout(pooled_output)\r\n        logits = self.classifier(pooled_output)\r\n        return logits \r\n\r\n```\r\n\r\n\r\n\r\n3. utils.py\r\n```\r\n# Copyright (c) 2023 PaddlePaddle Authors. All Rights Reserved.\r\n#\r\n# Licensed under the Apache License, Version 2.0 (the \"License\");\r\n# you may not use this file except in compliance with the License.\r\n# You may obtain a copy of the License at\r\n#\r\n#     http://www.apache.org/licenses/LICENSE-2.0\r\n#\r\n# Unless required by applicable law or agreed to in writing, software\r\n# distributed under the License is distributed on an \"AS IS\" BASIS,\r\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n# See the License for the specific language governing permissions and\r\n# limitations under the License.\r\n\r\nimport numpy as np\r\n\r\n\r\ndef get_label_name(filename_label):\r\n    label_names, label2id = [], {}\r\n    for idx, line in enumerate(open(filename_label)):\r\n        line = line.strip()\r\n        label_names.append(line)\r\n        label2id[line] = idx\r\n\r\n    return label_names, label2id\r\n\r\n\r\ndef read_example(filename, label2id, tokenizer, max_seq_length=16):\r\n    \"\"\"\r\n    Reads data from file.\r\n    \"\"\"\r\n    for line in open(filename):\r\n        example = {}\r\n        line = line.strip().split(\"\\t\")\r\n        if len(line) != 2:\r\n            continue\r\n        title, label = line\r\n        tokenized_input = tokenizer(\r\n            title, max_seq_len=max_seq_length, padding=\"max_length\", truncation=True\r\n        )\r\n        example[\"label\"] = label2id[label]\r\n        example[\"input_ids\"] = tokenized_input[\"input_ids\"]\r\n        yield example\r\n\r\n\r\ndef compute_metrics(p):\r\n    \"\"\"\r\n    \u8ba1\u7b97\u6307\u6807\r\n    \"\"\"\r\n    logits, label = p.predictions, p.label_ids\r\n    preds = logits.argmax(axis=-1)\r\n    right = 0\r\n    right += sum(preds == label)\r\n    accuracy = right / label.shape[0] * 100\r\n    return {\"accuracy\": accuracy}\r\n\r\n\r\ndef read_test_file(filename):\r\n    \"\"\"\r\n    \u8bfb\u53d6\u6d4b\u8bd5\u6570\u636e\r\n    \"\"\"\r\n    for line in open(filename):\r\n        line = line.strip()\r\n        yield {\"title\": line}\r\n\r\n\r\ndef input_preprocess(text, tokenizer, max_seq_length=16):\r\n    \"\"\"\r\n    \u8f93\u5165\u6570\u636e\u9884\u5904\u7406\r\n    \"\"\"\r\n    data = tokenizer(text, max_length=max_seq_length)\r\n    input_ids = data[\"input_ids\"]\r\n    return {\r\n        \"input_ids\": np.array(input_ids, dtype=\"int32\"),\r\n    }\r\n\r\n\r\ndef cls_postprocess(logits, id2label):\r\n    \"\"\"\r\n    \u9884\u6d4b\u7ed3\u679c\u540e\u5904\u7406\r\n    \"\"\"\r\n    max_value = np.max(logits, axis=1, keepdims=True)\r\n    exp_data = np.exp(logits - max_value)\r\n    probs = exp_data / np.sum(exp_data, axis=1, keepdims=True)\r\n    out_dict = {\"label\": id2label[int(probs.argmax(axis=-1))], \"confidence\": probs.max(axis=-1)}\r\n    return out_dict\r\n\r\n```\r\n\r\n\r\n### \u8fd0\u884c\u65e5\u5fd7\r\n```\r\n[2023-04-17 20:46:20,224] [    INFO] - The default value for the training argument `--report_to` will change in v5 (from all installed integrations to none). In v5, you will need to use `--report_to all` to get the same behavior as now. You should start updating your code and make this info disappear :-).\r\n[2023-04-17 20:46:20,226] [    INFO] - Model config ErnieConfig {\r\n  \"attention_probs_dropout_prob\": 0.1,\r\n  \"classifier_dropout\": 0.1,\r\n  \"enable_recompute\": false,\r\n  \"fuse\": false,\r\n  \"hidden_act\": \"gelu\",\r\n  \"hidden_dropout_prob\": 0.1,\r\n  \"hidden_size\": 312,\r\n  \"initializer_range\": 0.02,\r\n  \"intermediate_size\": 1248,\r\n  \"layer_norm_eps\": 1e-12,\r\n  \"max_position_embeddings\": 2048,\r\n  \"model_type\": \"ernie\",\r\n  \"num_attention_heads\": 12,\r\n  \"num_hidden_layers\": 4,\r\n  \"pad_token_id\": 0,\r\n  \"paddlenlp_version\": null,\r\n  \"pool_act\": \"tanh\",\r\n  \"task_id\": 0,\r\n  \"task_type_vocab_size\": 16,\r\n  \"type_vocab_size\": 4,\r\n  \"use_task_id\": false,\r\n  \"vocab_size\": 40000\r\n}\r\n\r\n[2023-04-17 20:46:22,150] [    INFO] - All model checkpoint weights were used when initializing ErnieClassificationModel.\r\n\r\n[2023-04-17 20:46:22,150] [ WARNING] - Some weights of ErnieClassificationModel were not initialized from the model checkpoint at ernie-3.0-tiny-nano-v2-zh and are newly initialized: ['ernie.pooler.dense.weight', 'classifier.bias', 'ernie.pooler.dense.bias', 'classifier.weight']\r\nYou should probably TRAIN this model on a down-stream task to be able to use it for predictions and inference.\r\n[2023-04-17 20:46:22,152] [    INFO] - We are using <class 'paddlenlp.transformers.ernie.tokenizer.ErnieTokenizer'> to load 'ernie-3.0-tiny-nano-v2-zh'.\r\n[2023-04-17 20:46:22,152] [    INFO] - Already cached /home/xxx/.paddlenlp/models/ernie-3.0-tiny-nano-v2-zh/ernie_3.0_tiny_nano_v2_vocab.txt\r\n[2023-04-17 20:46:22,180] [    INFO] - tokenizer config file saved in /home/xxx/.paddlenlp/models/ernie-3.0-tiny-nano-v2-zh/tokenizer_config.json\r\n[2023-04-17 20:46:22,180] [    INFO] - Special tokens file saved in /home/xxx/.paddlenlp/models/ernie-3.0-tiny-nano-v2-zh/special_tokens_map.json\r\n[2023-04-17 20:46:22,505] [    INFO] - ============================================================\r\n[2023-04-17 20:46:22,505] [    INFO] -     Training Configuration Arguments\r\n[2023-04-17 20:46:22,505] [    INFO] - paddle commit id              :0e92adceae06b6b7463f2dc7790ffb0601730009\r\n[2023-04-17 20:46:22,506] [    INFO] - _no_sync_in_gradient_accumulation:True\r\n[2023-04-17 20:46:22,506] [    INFO] - activation_quantize_type      :None\r\n[2023-04-17 20:46:22,506] [    INFO] - adam_beta1                    :0.9\r\n[2023-04-17 20:46:22,506] [    INFO] - adam_beta2                    :0.999\r\n[2023-04-17 20:46:22,506] [    INFO] - adam_epsilon                  :1e-08\r\n[2023-04-17 20:46:22,506] [    INFO] - algo_list                     :None\r\n[2023-04-17 20:46:22,506] [    INFO] - batch_num_list                :None\r\n[2023-04-17 20:46:22,506] [    INFO] - batch_size_list               :None\r\n[2023-04-17 20:46:22,506] [    INFO] - bf16                          :False\r\n[2023-04-17 20:46:22,506] [    INFO] - bf16_full_eval                :False\r\n[2023-04-17 20:46:22,506] [    INFO] - bias_correction               :False\r\n[2023-04-17 20:46:22,507] [    INFO] - current_device                :cpu\r\n[2023-04-17 20:46:22,507] [    INFO] - dataloader_drop_last          :False\r\n[2023-04-17 20:46:22,507] [    INFO] - dataloader_num_workers        :0\r\n[2023-04-17 20:46:22,507] [    INFO] - device                        :cpu\r\n[2023-04-17 20:46:22,507] [    INFO] - disable_tqdm                  :False\r\n[2023-04-17 20:46:22,507] [    INFO] - do_compress                   :False\r\n[2023-04-17 20:46:22,507] [    INFO] - do_eval                       :True\r\n[2023-04-17 20:46:22,507] [    INFO] - do_export                     :True\r\n[2023-04-17 20:46:22,507] [    INFO] - do_predict                    :False\r\n[2023-04-17 20:46:22,507] [    INFO] - do_train                      :True\r\n[2023-04-17 20:46:22,507] [    INFO] - eval_batch_size               :8\r\n[2023-04-17 20:46:22,507] [    INFO] - eval_steps                    :None\r\n[2023-04-17 20:46:22,508] [    INFO] - evaluation_strategy           :IntervalStrategy.EPOCH\r\n[2023-04-17 20:46:22,508] [    INFO] - flatten_param_grads           :False\r\n[2023-04-17 20:46:22,508] [    INFO] - fp16                          :False\r\n[2023-04-17 20:46:22,508] [    INFO] - fp16_full_eval                :False\r\n[2023-04-17 20:46:22,508] [    INFO] - fp16_opt_level                :O1\r\n[2023-04-17 20:46:22,508] [    INFO] - gradient_accumulation_steps   :1\r\n[2023-04-17 20:46:22,508] [    INFO] - greater_is_better             :None\r\n[2023-04-17 20:46:22,508] [    INFO] - ignore_data_skip              :False\r\n[2023-04-17 20:46:22,508] [    INFO] - input_dtype                   :int64\r\n[2023-04-17 20:46:22,508] [    INFO] - input_infer_model_path        :None\r\n[2023-04-17 20:46:22,508] [    INFO] - label_names                   :None\r\n[2023-04-17 20:46:22,508] [    INFO] - lazy_data_processing          :True\r\n[2023-04-17 20:46:22,508] [    INFO] - learning_rate                 :5e-05\r\n[2023-04-17 20:46:22,509] [    INFO] - load_best_model_at_end        :False\r\n[2023-04-17 20:46:22,509] [    INFO] - local_process_index           :0\r\n[2023-04-17 20:46:22,509] [    INFO] - local_rank                    :-1\r\n[2023-04-17 20:46:22,509] [    INFO] - log_level                     :-1\r\n[2023-04-17 20:46:22,509] [    INFO] - log_level_replica             :-1\r\n[2023-04-17 20:46:22,509] [    INFO] - log_on_each_node              :True\r\n[2023-04-17 20:46:22,509] [    INFO] - logging_dir                   :/home/xxx/project/paddle/\r\n[2023-04-17 20:46:22,509] [    INFO] - logging_first_step            :False\r\n[2023-04-17 20:46:22,509] [    INFO] - logging_steps                 :100\r\n[2023-04-17 20:46:22,509] [    INFO] - logging_strategy              :IntervalStrategy.STEPS\r\n[2023-04-17 20:46:22,509] [    INFO] - lr_scheduler_type             :SchedulerType.LINEAR\r\n[2023-04-17 20:46:22,509] [    INFO] - max_grad_norm                 :1.0\r\n[2023-04-17 20:46:22,510] [    INFO] - max_steps                     :-1\r\n[2023-04-17 20:46:22,510] [    INFO] - metric_for_best_model         :None\r\n[2023-04-17 20:46:22,510] [    INFO] - minimum_eval_times            :None\r\n[2023-04-17 20:46:22,510] [    INFO] - moving_rate                   :0.9\r\n[2023-04-17 20:46:22,510] [    INFO] - no_cuda                       :False\r\n[2023-04-17 20:46:22,510] [    INFO] - num_train_epochs              :1.0\r\n[2023-04-17 20:46:22,510] [    INFO] - onnx_format                   :True\r\n[2023-04-17 20:46:22,510] [    INFO] - optim                         :OptimizerNames.ADAMW\r\n[2023-04-17 20:46:22,510] [    INFO] - output_dir                    :/home/xxx/project/paddle/\r\n[2023-04-17 20:46:22,510] [    INFO] - overwrite_output_dir          :False\r\n[2023-04-17 20:46:22,510] [    INFO] - past_index                    :-1\r\n[2023-04-17 20:46:22,510] [    INFO] - per_device_eval_batch_size    :8\r\n[2023-04-17 20:46:22,510] [    INFO] - per_device_train_batch_size   :8\r\n[2023-04-17 20:46:22,511] [    INFO] - prediction_loss_only          :False\r\n[2023-04-17 20:46:22,511] [    INFO] - process_index                 :0\r\n[2023-04-17 20:46:22,511] [    INFO] - prune_embeddings              :False\r\n[2023-04-17 20:46:22,511] [    INFO] - recompute                     :False\r\n[2023-04-17 20:46:22,511] [    INFO] - remove_unused_columns         :True\r\n[2023-04-17 20:46:22,511] [    INFO] - report_to                     :['visualdl']\r\n[2023-04-17 20:46:22,511] [    INFO] - resume_from_checkpoint        :None\r\n[2023-04-17 20:46:22,511] [    INFO] - round_type                    :round\r\n[2023-04-17 20:46:22,511] [    INFO] - run_name                      :/home/xxx/project/paddle\r\n[2023-04-17 20:46:22,511] [    INFO] - save_on_each_node             :False\r\n[2023-04-17 20:46:22,511] [    INFO] - save_steps                    :100\r\n[2023-04-17 20:46:22,511] [    INFO] - save_strategy                 :IntervalStrategy.STEPS\r\n[2023-04-17 20:46:22,512] [    INFO] - save_total_limit              :None\r\n[2023-04-17 20:46:22,512] [    INFO] - scale_loss                    :32768\r\n[2023-04-17 20:46:22,512] [    INFO] - seed                          :42\r\n[2023-04-17 20:46:22,512] [    INFO] - sharding                      :[]\r\n[2023-04-17 20:46:22,512] [    INFO] - sharding_degree               :-1\r\n[2023-04-17 20:46:22,512] [    INFO] - should_log                    :True\r\n[2023-04-17 20:46:22,512] [    INFO] - should_save                   :True\r\n[2023-04-17 20:46:22,512] [    INFO] - skip_memory_metrics           :True\r\n[2023-04-17 20:46:22,512] [    INFO] - strategy                      :dynabert+ptq\r\n[2023-04-17 20:46:22,512] [    INFO] - train_batch_size              :8\r\n[2023-04-17 20:46:22,512] [    INFO] - use_pact                      :True\r\n[2023-04-17 20:46:22,512] [    INFO] - warmup_ratio                  :0.1\r\n[2023-04-17 20:46:22,512] [    INFO] - warmup_steps                  :0\r\n[2023-04-17 20:46:22,513] [    INFO] - weight_decay                  :0.0\r\n[2023-04-17 20:46:22,513] [    INFO] - weight_quantize_type          :channel_wise_abs_max\r\n[2023-04-17 20:46:22,513] [    INFO] - width_mult_list               :None\r\n[2023-04-17 20:46:22,513] [    INFO] - world_size                    :1\r\n[2023-04-17 20:46:22,513] [    INFO] -\r\n[2023-04-17 20:46:22,514] [    INFO] - ***** Running training *****\r\n[2023-04-17 20:46:22,514] [    INFO] -   Num examples = 450\r\n[2023-04-17 20:46:22,514] [    INFO] -   Num Epochs = 1\r\n[2023-04-17 20:46:22,514] [    INFO] -   Instantaneous batch size per device = 8\r\n[2023-04-17 20:46:22,514] [    INFO] -   Total train batch size (w. parallel, distributed & accumulation) = 8\r\n[2023-04-17 20:46:22,514] [    INFO] -   Gradient Accumulation steps = 1\r\n[2023-04-17 20:46:22,514] [    INFO] -   Total optimization steps = 57.0\r\n[2023-04-17 20:46:22,514] [    INFO] -   Total num train samples = 450.0\r\n[2023-04-17 20:46:22,515] [    INFO] -   Number of trainable parameters = 17907866\r\n100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 57/57 [00:44<00:00,  1.58it/s][2023-04-17 20:47:06,738] [    INFO] - ***** Running Evaluation *****\r\n[2023-04-17 20:47:06,738] [    INFO] -   Num examples = 113\r\n[2023-04-17 20:47:06,738] [    INFO] -   Total prediction steps = 15\r\n[2023-04-17 20:47:06,738] [    INFO] -   Pre device batch size = 8\r\n[2023-04-17 20:47:06,738] [    INFO] -   Total Batch size = 8\r\neval_loss: 0.4924260079860687, eval_accuracy: 71.68141592920354, eval_runtime: 3.0462, eval_samples_per_second: 37.095, eval_steps_per_second: 4.924, epoch: 1.0\r\n100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 57/57 [00:47<00:00,  1.58it/s[2023-04-17 20:47:09,785] [    INFO] -\r\nTraining completed.\r\n\r\ntrain_runtime: 47.2703, train_samples_per_second: 9.52, train_steps_per_second: 1.206, train_loss: 0.5549765135112562, epoch: 1.0\r\n100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 57/57 [00:47<00:00,  1.21it/s]\r\n[2023-04-17 20:47:12,484] [    INFO] - tokenizer config file saved in /home/xxx/project/paddle/\r\n[2023-04-17 20:47:12,484] [    INFO] - Special tokens file saved in /home/xxx/project/paddle/\r\n\r\n*** Error in `python': double free or corruption (!prev): 0x00007f9496386800 ***\r\n======= Backtrace: =========\r\n/lib64/libc.so.6(+0x784b6)[0x7f9493f154b6]\r\n/lib64/libc.so.6(+0x7a403)[0x7f9493f17403]\r\npython(+0x181c1c)[0x7f9494f13c1c]\r\npython(+0x1803ab)[0x7f9494f123ab]\r\npython(PyDict_Clear+0x141)[0x7f9494e8e0b1]\r\npython(+0xfc179)[0x7f9494e8e179]\r\npython(+0x1638c6)[0x7f9494ef58c6]\r\npython(_PyGC_CollectNoFail+0x2a)[0x7f9494f9375a]\r\npython(PyImport_Cleanup+0x4bc)[0x7f9494f3ef9c]\r\npython(Py_FinalizeEx+0x64)[0x7f9494fb3714]\r\npython(+0x232e20)[0x7f9494fc4e20]\r\npython(_Py_UnixMain+0x3c)[0x7f9494fc518c]\r\n/lib64/libc.so.6(__libc_start_main+0x100)[0x7f9493ebc850]\r\npython(+0x1d803a)[0x7f9494f6a03a]\r\n======= Memory map: ========\r\n7f93f0000000-7f93f0021000 rw-p 00000000 00:00 0\r\n7f93f0021000-7f93f4000000 ---p 00000000 00:00 0\r\n7f93f8000000-7f93f8021000 rw-p 00000000 00:00 0\r\n7f93f8021000-7f93fc000000 ---p 00000000 00:00 0\r\n7f93fc131000-7f9403c54000 r-xp 00000000 fc:10 57938935                   /home/xxx/anaconda3/envs/paddle/lib/python3.7/site-packages/paddle/libs/libmklml_intel.so\r\n7f9403c54000-7f9403e53000 ---p 07b23000 fc:10 57938935                   /home/xxx/anaconda3/envs/paddle/lib/python3.7/site-packages/paddle/libs/libmklml_intel.so\r\n7f9403e53000-7f9403e79000 r--p 07b22000 fc:10 57938935                   /home/xxx/anaconda3/envs/paddle/lib/python3.7/site-packages/paddle/libs/libmklml_intel.so\r\n7f9403e79000-7f9403f43000 rw-p 07b48000 fc:10 57938935                   /home/xxx/anaconda3/envs/paddle/lib/python3.7/site-packages/paddle/libs/libmklml_intel.so\r\n7f9403f43000-7f9403f69000 rw-p 00000000 00:00 0\r\n7f9403f69000-7f9404000000 rw-p 07c12000 fc:10 57938935                   /home/xxx/anaconda3/envs/paddle/lib/python3.7/site-packages/paddle/libs/libmklml_intel.so\r\n7f9404000000-7f9404021000 rw-p 00000000 00:00 0\r\n7f9404021000-7f9408000000 ---p 00000000 00:00 0\r\n7f9408000000-7f9408021000 rw-p 00000000 00:00 0\r\n7f9408021000-7f940c000000 ---p 00000000 00:00 0\r\n7f940c000000-7f940c021000 rw-p 00000000 00:00 0\r\n7f940c021000-7f9410000000 ---p 00000000 00:00 0\r\n7f9410000000-7f9410021000 rw-p 00000000 00:00 0\r\n7f9410021000-7f9414000000 ---p 00000000 00:00 0\r\n7f9414000000-7f9414021000 rw-p 00000000 00:00 0\r\n7f9414021000-7f9418000000 ---p 00000000 00:00 0\r\n7f941a618000-7f9439667000 rw-p 00000000 00:00 0\r\n7f943a668000-7f943a728000 rw-p 00000000 00:00 0\r\n7f943a7a8000-7f943a928000 rw-p 00000000 00:00 0\r\n7f943aa28000-7f943aa68000 rw-p 00000000 00:00 0\r\n7f943aaa8000-7f943abe8000 rw-p 00000000 00:00 0\r\n7f943ac28000-7f943ac68000 rw-p 00000000 00:00 0\r\n7f943ace8000-7f943aea8000 rw-p 00000000 00:00 0\r\n7f943b6a9000-7f943b6aa000 ---p 00000000 00:00 0\r\n7f943b6aa000-7f943cd7a000 rw-p 00000000 00:00 0\r\n7f943cd7a000-7f943cd7b000 ---p 00000000 00:00 0\r\n7f943cd7b000-7f943d57b000 rw-p 00000000 00:00 0\r\n```\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/5722/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/5722/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/5697", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/5697/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/5697/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/5697/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/5697", "id": 1671273006, "node_id": "I_kwDOFAsknM5jnZou", "number": 5697, "title": "[Bug]: paddlenlp\u517c\u5bb9\u6027\u95ee\u9898", "user": {"login": "ZOUG", "id": 2490328, "node_id": "MDQ6VXNlcjI0OTAzMjg=", "avatar_url": "https://avatars.githubusercontent.com/u/2490328?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ZOUG", "html_url": "https://github.com/ZOUG", "followers_url": "https://api.github.com/users/ZOUG/followers", "following_url": "https://api.github.com/users/ZOUG/following{/other_user}", "gists_url": "https://api.github.com/users/ZOUG/gists{/gist_id}", "starred_url": "https://api.github.com/users/ZOUG/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ZOUG/subscriptions", "organizations_url": "https://api.github.com/users/ZOUG/orgs", "repos_url": "https://api.github.com/users/ZOUG/repos", "events_url": "https://api.github.com/users/ZOUG/events{/privacy}", "received_events_url": "https://api.github.com/users/ZOUG/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "sijunhe", "id": 11987277, "node_id": "MDQ6VXNlcjExOTg3Mjc3", "avatar_url": "https://avatars.githubusercontent.com/u/11987277?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sijunhe", "html_url": "https://github.com/sijunhe", "followers_url": "https://api.github.com/users/sijunhe/followers", "following_url": "https://api.github.com/users/sijunhe/following{/other_user}", "gists_url": "https://api.github.com/users/sijunhe/gists{/gist_id}", "starred_url": "https://api.github.com/users/sijunhe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sijunhe/subscriptions", "organizations_url": "https://api.github.com/users/sijunhe/orgs", "repos_url": "https://api.github.com/users/sijunhe/repos", "events_url": "https://api.github.com/users/sijunhe/events{/privacy}", "received_events_url": "https://api.github.com/users/sijunhe/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sijunhe", "id": 11987277, "node_id": "MDQ6VXNlcjExOTg3Mjc3", "avatar_url": "https://avatars.githubusercontent.com/u/11987277?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sijunhe", "html_url": "https://github.com/sijunhe", "followers_url": "https://api.github.com/users/sijunhe/followers", "following_url": "https://api.github.com/users/sijunhe/following{/other_user}", "gists_url": "https://api.github.com/users/sijunhe/gists{/gist_id}", "starred_url": "https://api.github.com/users/sijunhe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sijunhe/subscriptions", "organizations_url": "https://api.github.com/users/sijunhe/orgs", "repos_url": "https://api.github.com/users/sijunhe/repos", "events_url": "https://api.github.com/users/sijunhe/events{/privacy}", "received_events_url": "https://api.github.com/users/sijunhe/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2023-04-17T14:08:43Z", "updated_at": "2023-04-27T15:47:20Z", "closed_at": "2023-04-27T15:47:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\r\n\r\n```Markdown\r\n- paddlenlp: 2.5.2\r\n```\r\n\r\n\r\n### \u91cd\u590d\u95ee\u9898\r\n\r\n- [x] I have searched the existing issues\r\n\r\n### \u9519\u8bef\u63cf\u8ff0\r\n\r\npaddlenlp2.5.2\u4e0evisualdl 2.5.0\u7248\u672c\u4e0d\u517c\u5bb9\u3002paddlenlp 2.5.2\u7248\u672c\u7684[requirements.txt](https://github.com/PaddlePaddle/PaddleNLP/blob/v2.5.2/requirements.txt)\u8981\u6c42visualdl\u548cFlask-Babel < 3.0.0\u3002\u800cvisualdl 2.5.0\u4ee5\u4e0a\u7248\u672c\u7684[requirements.txt](https://github.com/PaddlePaddle/VisualDL/blob/v2.5.0/requirements.txt) \u8981\u6c42Flask-Babel >= 3.0.0\u3002\u56e0\u6b64\u4e8c\u8005\u5b58\u5728\u517c\u5bb9\u6027\u51b2\u7a81\u3002\r\n\r\n\u76f4\u63a5\u89e3\u51b3\u65b9\u6cd5\u662f\u4fee\u6539Flask-Babel\u9650\u5236\u6216\u8bbe\u7f6evisualdl < 2.5.0\u3002\u66f4\u6df1\u5c42\u6b21\u7684\u95ee\u9898\u662f\u98de\u6868\u53d1\u5e03\u5404\u4e2a\u5de5\u5177\u5305\u65f6\u7f3a\u4e4f\u517c\u5bb9\u6027\u68c0\u9a8c\u3002\u5e0c\u671b\u80fd\u5c06paddlenlp\u7b49\u5e38\u7528\u98de\u6868\u5de5\u5177\u5305\u90fd\u7f16\u8bd1\u653e\u5230conda\u4e0a\u8fdb\u884c\u7ba1\u7406\uff0c\u8fd9\u6837\u5728\u53d1\u5e03\u5de5\u5177\u5305\u65f6\u5c31\u53ef\u4ee5\u53ca\u65f6\u53d1\u73b0\u7c7b\u4f3c\u95ee\u9898\u3002", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/5697/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/5697/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/5685", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/5685/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/5685/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/5685/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/5685", "id": 1670348581, "node_id": "I_kwDOFAsknM5jj38l", "number": 5685, "title": "[Bug]: JiebaTokenizer", "user": {"login": "chenchun0629", "id": 3328490, "node_id": "MDQ6VXNlcjMzMjg0OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/3328490?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chenchun0629", "html_url": "https://github.com/chenchun0629", "followers_url": "https://api.github.com/users/chenchun0629/followers", "following_url": "https://api.github.com/users/chenchun0629/following{/other_user}", "gists_url": "https://api.github.com/users/chenchun0629/gists{/gist_id}", "starred_url": "https://api.github.com/users/chenchun0629/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chenchun0629/subscriptions", "organizations_url": "https://api.github.com/users/chenchun0629/orgs", "repos_url": "https://api.github.com/users/chenchun0629/repos", "events_url": "https://api.github.com/users/chenchun0629/events{/privacy}", "received_events_url": "https://api.github.com/users/chenchun0629/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4880074605, "node_id": "LA_kwDOFAsknM8AAAABIuAHbQ", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/triage", "name": "triage", "color": "8F57AB", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-04-17T03:42:08Z", "updated_at": "2023-04-17T10:29:32Z", "closed_at": "2023-04-17T10:29:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\n\n```Markdown\n- paddlepaddle: -\r\n- paddlepaddle-gpu: 2.4.2.post117\r\n- paddlenlp: 2.5.2\r\n- jieba: 0.42.1\n```\n\n\n### \u91cd\u590d\u95ee\u9898\n\n- [X] I have searched the existing issues\n\n### \u9519\u8bef\u63cf\u8ff0\n\n```Markdown\n`JiebaTokenizer`\u6dfb\u52a0\u81ea\u5b9a\u4e49`vocab`\u4e4b\u540e\uff0c`cut`\u51fd\u6570\u6ca1\u6709\u6839\u636e\u5b57\u5178\u5206\u8bcd\u3002\n```\n\n\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\n\n```python\r\nfrom paddlenlp.data import JiebaTokenizer, Vocab\r\n\r\nvocab = Vocab.load_vocabulary('./senta_word_dict.txt', unk_token='[UNK]', pad_token='[PAD]')\r\nprint(vocab.to_json())\r\ntokenizer = JiebaTokenizer(vocab)\r\n\r\nprint(tokenizer.cut(\"\u4f60\u597d\u6211\u597d\u5927\u5bb6\u597d\"))\r\n# \u8f93\u51fa\uff1a ['\u4f60', '\u597d', '\u6211', '\u597d', '\u5927\u5bb6', '\u597d']\r\n\r\nprint(tokenizer.encode(\"\u4f60\u597d\u6211\u597d\u5927\u5bb6\u597d\"))\r\n# \u8f93\u51fa\uff1a[0, 0, 0, 0, 0, 0]\r\n```\r\n\r\n`senta_word_dict.txt`\u5185\u5bb9\u5206\u4e3a\uff1a\r\n``` bash\r\n$ cat senta_word_dict.txt\r\n[UNK]\r\n[PAD]\r\n\u4f60\u597d\r\n\u6211\u597d\r\n\u5927\u5bb6\u597d\r\n```", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/5685/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/5685/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/5633", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/5633/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/5633/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/5633/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/5633", "id": 1664288492, "node_id": "I_kwDOFAsknM5jMwbs", "number": 5633, "title": "\u5361\u6b7b\uff1a python milvus_ann_search.py --data_path data/qa_pair.csv --embedding_path corpus_embedding.npy --batch_size 100000  --insert", "user": {"login": "gg22mm", "id": 6648329, "node_id": "MDQ6VXNlcjY2NDgzMjk=", "avatar_url": "https://avatars.githubusercontent.com/u/6648329?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gg22mm", "html_url": "https://github.com/gg22mm", "followers_url": "https://api.github.com/users/gg22mm/followers", "following_url": "https://api.github.com/users/gg22mm/following{/other_user}", "gists_url": "https://api.github.com/users/gg22mm/gists{/gist_id}", "starred_url": "https://api.github.com/users/gg22mm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gg22mm/subscriptions", "organizations_url": "https://api.github.com/users/gg22mm/orgs", "repos_url": "https://api.github.com/users/gg22mm/repos", "events_url": "https://api.github.com/users/gg22mm/events{/privacy}", "received_events_url": "https://api.github.com/users/gg22mm/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4880074605, "node_id": "LA_kwDOFAsknM8AAAABIuAHbQ", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/triage", "name": "triage", "color": "8F57AB", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2023-04-12T10:27:04Z", "updated_at": "2023-04-14T11:11:51Z", "closed_at": "2023-04-14T11:11:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\n\n```Markdown\n(paddle38) [root@localhost faq_finance]# pip list | grep paddle\r\npaddle-bfloat                  0.1.7\r\npaddle-pipelines               0.5.2\r\npaddle2onnx                    1.0.6\r\npaddlefsl                      1.1.0\r\npaddlenlp                      2.5.2\r\npaddleocr                      2.6.1.3\r\npaddlepaddle-gpu               2.4.2\r\nx2paddle                       1.4.1\n```\n\n\n### \u91cd\u590d\u95ee\u9898\n\n- [X] I have searched the existing issues\n\n### \u9519\u8bef\u63cf\u8ff0\n\n```Markdown\n#\u5c1d\u8bd5\u4fee\u590d\uff0c\u4e0d\u77e5\u5bf9\u4e0d\u5bf9\r\nvi \\paddleNLP\\applications\\question_answering\\supervised_qa\\faq_finance\\milvus_util.py\r\n\r\ndef create_index(self, index_name):\r\n        try:\r\n            print(fmt.format(\"Start Creating index\"))\r\n            \r\n            #\u5b98\u65b9\u5230\u8fd9\u91cc\u76f4\u63a5\u5361\u6b7b\r\n            self.collection.create_index(index_name, index_config) \r\n            print(fmt.format(\"Start loading\")) \r\n            self.collection.load()\r\n\r\n            # \u81ea\u5df1\u4fee\u6539 collection \u66ff\u6362\u6210 connections \u89e3\u51b3\u5b98\u65b9\u5230\u8fd9\u91cc\u76f4\u63a5\u5361\u6b7b\r\n            # self.connections.create_index(index_name, index_config)\r\n            # print(fmt.format(\"Start loading\")) \r\n            # self.connections.load()    \r\n                       \r\n\r\n        except Exception as e:\r\n            print(\"Milvus create index error:\", e)\n```\n\n\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\n\n\u5361\u6b7b\u5728\u8fd9\u91cc\uff1a python milvus_ann_search.py --data_path data/qa_pair.csv --embedding_path corpus_embedding.npy --batch_size 100000  --insert\r\n![\u56fe\u7247](https://user-images.githubusercontent.com/6648329/231430507-97de2989-e295-4537-afc7-9720b7f51855.png)\r\n\r\n\r\n#\u5c1d\u8bd5\u4fee\u590d\uff0c\u4e0d\u77e5\u5bf9\u4e0d\u5bf9 vi \\paddleNLP\\applications\\question_answering\\supervised_qa\\faq_finance\\milvus_util.py\r\ndef create_index(self, index_name):\r\n        try:\r\n            print(fmt.format(\"Start Creating index\"))\r\n            \r\n            #\u5b98\u65b9\u5230\u8fd9\u91cc\u76f4\u63a5\u5361\u6b7b\r\n            self.collection.create_index(index_name, index_config) \r\n            print(fmt.format(\"Start loading\")) \r\n            self.collection.load()\r\n\r\n            # \u81ea\u5df1\u4fee\u6539 collection \u66ff\u6362\u6210 connections \u89e3\u51b3\u5b98\u65b9\u5230\u8fd9\u91cc\u76f4\u63a5\u5361\u6b7b\r\n            # self.connections.create_index(index_name, index_config)\r\n            # print(fmt.format(\"Start loading\")) \r\n            # self.connections.load()    \r\n                       \r\n\r\n        except Exception as e:\r\n            print(\"Milvus create index error:\", e)\r\n\r\n![\u56fe\u7247](https://user-images.githubusercontent.com/6648329/231430850-08e6041e-7821-4ea7-a599-500e22219da9.png)\r\n", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/5633/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/5633/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/5627", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/5627/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/5627/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/5627/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/5627", "id": 1664021529, "node_id": "I_kwDOFAsknM5jLvQZ", "number": 5627, "title": "[Bug]: [Errno 13] Permission denied in windows", "user": {"login": "invokerbyxv", "id": 43714368, "node_id": "MDQ6VXNlcjQzNzE0MzY4", "avatar_url": "https://avatars.githubusercontent.com/u/43714368?v=4", "gravatar_id": "", "url": "https://api.github.com/users/invokerbyxv", "html_url": "https://github.com/invokerbyxv", "followers_url": "https://api.github.com/users/invokerbyxv/followers", "following_url": "https://api.github.com/users/invokerbyxv/following{/other_user}", "gists_url": "https://api.github.com/users/invokerbyxv/gists{/gist_id}", "starred_url": "https://api.github.com/users/invokerbyxv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/invokerbyxv/subscriptions", "organizations_url": "https://api.github.com/users/invokerbyxv/orgs", "repos_url": "https://api.github.com/users/invokerbyxv/repos", "events_url": "https://api.github.com/users/invokerbyxv/events{/privacy}", "received_events_url": "https://api.github.com/users/invokerbyxv/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4880074605, "node_id": "LA_kwDOFAsknM8AAAABIuAHbQ", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/triage", "name": "triage", "color": "8F57AB", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-04-12T07:41:15Z", "updated_at": "2023-04-13T03:20:21Z", "closed_at": "2023-04-13T03:20:21Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\n\n```Markdown\n- paddlepaddle:2.5.2\r\n- paddlenlp: 2.4.2\r\n- paddleocr: 2.6.1.3\n```\n\n\n### \u91cd\u590d\u95ee\u9898\n\n- [X] I have searched the existing issues\n\n### \u9519\u8bef\u63cf\u8ff0\n\n```Markdown\nwindows11\u4e0b\u7aef\u5230\u7aef\u8bed\u4e49\u641c\u7d22\u4e0a\u4f20pdf\u65f6\uff0c\u51fa\u73b0[Errno 13] Permission denied\u9519\u8bef\n```\n\n\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\n\nwindows11\u4e0b\u90e8\u7f72semantic-search\u7aef\u5230\u7aef\u8bed\u4e49\u641c\u7d22web\u6d4b\u8bd5\u65f6\uff0c\u4fee\u6539semantic_search.yaml\u4e2d\u7684PDFFileConverter type\u4e3aPDFToTextOCRConverter\u3002\u4ece\u524d\u7aef\u4e0a\u4f20pdf\u51fa\u73b0[Errno 13] Permission denied\u9519\u8bef\u3002\u5b9a\u4f4d\u4ee3\u7801\u5e94\u8be5\u662fpipelines/pipelines/nodes/file_converter/pdf.py \u4e2d PDFToTextOCRConverter\u7c7b\u7684convert\u65b9\u6cd5\uff1a\r\n`temp_img = tempfile.NamedTemporaryFile(dir=os.path.dirname(os.path.realpath(__file__)), suffix=\".jpeg\")`\r\n`image.save(temp_img.name)`\r\n\u5728\u7f51\u4e0a\u770b\u5230\u4e86\u7c7b\u4f3c\u7684[\u95ee\u9898](https://stackoverflow.com/questions/53163438/permissionerror-errno-13-permission-denied-when-saving-holomap-to-gif)\uff0c[\u53c2\u8003](https://github.com/holoviz/holoviews/pull/3162/commits/1e9c90fe00501960bc2ba8a1c21fd5f32fc54bb7)\u4fee\u6539\u4ee3\u7801\u540e\u5df2\u89e3\u51b3\uff0c\u5e0c\u671b\u66f4\u65b0\u4ee3\u7801\u3002\r\n`temp_img = tempfile.NamedTemporaryFile(dir=os.path.dirname(os.path.realpath(__file__)), suffix=\".jpeg\",\r\n                                                       delete=False)`\r\n`image.save(temp_img.name)`\r\n`convert_result = self.image_2_text.convert(temp_img.name)`\r\n`temp_img.close()`\r\n`os.remove(temp_img.name)`", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/5627/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/5627/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/5616", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/5616/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/5616/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/5616/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/5616", "id": 1662311415, "node_id": "I_kwDOFAsknM5jFNv3", "number": 5616, "title": "[Bug]: \u4f7f\u7528fastdeploy\u7684\u9ad8\u6027\u80fd\u90e8\u7f72stablediffusion\u51fa\u73b0\u5206\u8bcd\u5668\u9519\u8bef", "user": {"login": "sanbuphy", "id": 96160062, "node_id": "U_kgDOBbtJPg", "avatar_url": "https://avatars.githubusercontent.com/u/96160062?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sanbuphy", "html_url": "https://github.com/sanbuphy", "followers_url": "https://api.github.com/users/sanbuphy/followers", "following_url": "https://api.github.com/users/sanbuphy/following{/other_user}", "gists_url": "https://api.github.com/users/sanbuphy/gists{/gist_id}", "starred_url": "https://api.github.com/users/sanbuphy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sanbuphy/subscriptions", "organizations_url": "https://api.github.com/users/sanbuphy/orgs", "repos_url": "https://api.github.com/users/sanbuphy/repos", "events_url": "https://api.github.com/users/sanbuphy/events{/privacy}", "received_events_url": "https://api.github.com/users/sanbuphy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4880074605, "node_id": "LA_kwDOFAsknM8AAAABIuAHbQ", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/triage", "name": "triage", "color": "8F57AB", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-04-11T11:48:43Z", "updated_at": "2023-04-12T07:11:41Z", "closed_at": "2023-04-12T07:11:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\n\n```Markdown\n- paddlepaddle:dev\u6700\u65b0\r\n- paddlenlp: dev\u6700\u65b0\r\n- fast-deploy\uff1adev\u6700\u65b0\r\nhttps://github.com/PaddlePaddle/PaddleNLP/tree/develop/ppdiffusers/deploy\n```\n\n\n### \u91cd\u590d\u95ee\u9898\n\n- [X] I have searched the existing issues\n\n### \u9519\u8bef\u63cf\u8ff0\n\n```Markdown\n\u8fd0\u884c\u4efb\u610f\u5982\uff1a\r\npython text_to_img_infer.py --model_dir stable-diffusion-v1-4/ --scheduler \"pndm\" --backend paddle\n```\n\n\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\n\n![image](https://user-images.githubusercontent.com/96160062/231153750-bed734af-7c53-4b6f-bcd1-2454be7ea03e.png)\r\n", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/5616/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/5616/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/5585", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/5585/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/5585/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/5585/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/5585", "id": 1660168728, "node_id": "I_kwDOFAsknM5i9CoY", "number": 5585, "title": "IndexError: basic_string::at: __n (which is 0) >= this->size() (which is 0)", "user": {"login": "gg22mm", "id": 6648329, "node_id": "MDQ6VXNlcjY2NDgzMjk=", "avatar_url": "https://avatars.githubusercontent.com/u/6648329?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gg22mm", "html_url": "https://github.com/gg22mm", "followers_url": "https://api.github.com/users/gg22mm/followers", "following_url": "https://api.github.com/users/gg22mm/following{/other_user}", "gists_url": "https://api.github.com/users/gg22mm/gists{/gist_id}", "starred_url": "https://api.github.com/users/gg22mm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gg22mm/subscriptions", "organizations_url": "https://api.github.com/users/gg22mm/orgs", "repos_url": "https://api.github.com/users/gg22mm/repos", "events_url": "https://api.github.com/users/gg22mm/events{/privacy}", "received_events_url": "https://api.github.com/users/gg22mm/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4880074605, "node_id": "LA_kwDOFAsknM8AAAABIuAHbQ", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/triage", "name": "triage", "color": "8F57AB", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-04-10T03:17:47Z", "updated_at": "2023-04-11T05:57:55Z", "closed_at": "2023-04-11T05:57:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\r\n\r\n```Markdown\r\npaddlenlp                      2.5.2\r\npaddlepaddle-gpu               2.4.2\r\npaddle-bfloat                  0.1.7\r\npaddle-pipelines               0.5.2\r\npaddle2onnx                    1.0.6\r\npaddlefsl                      1.1.0\r\npaddleocr                      2.6.1.3\r\nx2paddle                       1.4.1\r\n\r\n(paddle38) [root@localhost pipelines]# python\r\nPython 3.8.16 (default, Mar  2 2023, 03:21:46) \r\n[GCC 11.2.0] :: Anaconda, Inc. on linux\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> import paddle\r\n>>> paddle.utils.run_check()\r\nRunning verify PaddlePaddle program ... \r\nW0410 10:57:10.102068  2898 gpu_resources.cc:61] Please NOTE: device: 0, GPU Compute Capability: 3.7, Driver API Version: 10.2, Runtime API Version: 10.2\r\nW0410 10:57:10.111130  2898 gpu_resources.cc:91] device: 0, cuDNN Version: 7.6.\r\nPaddlePaddle works well on 1 GPU.\r\n/home/data/miniconda3/envs/paddle38/lib/python3.8/site-packages/paddle/fluid/executor.py:1583: UserWarning: Standalone executor is not used for data parallel\r\n  warnings.warn(\r\nW0410 10:57:14.340587  2898 fuse_all_reduce_op_pass.cc:79] Find all_reduce operators: 2. To make the speed faster, some all_reduce ops are fused during training, after fusion, the number of all_reduce ops is 2.\r\nPaddlePaddle works well on 2 GPUs.\r\nPaddlePaddle is installed successfully! Let's start deep learning with PaddlePaddle now.\r\n>>>\r\n```\r\n\r\n\r\n### \u91cd\u590d\u95ee\u9898\r\n\r\n- [X] I have searched the existing issues\r\n\r\n### \u9519\u8bef\u63cf\u8ff0\r\n\r\n```Markdown\r\n\u4e00\u952e\u4f53\u9a8c\u8bed\u4e49\u68c0\u7d22\u7cfb\u7edf: \r\nexport CUDA_VISIBLE_DEVICES=0,1\r\npython examples/semantic-search/semantic_search_example.py --device gpu\r\n\u62a5\u9519\uff1aIndexError: basic_string::at: __n (which is 0) >= this->size() (which is 0)\r\n```\r\n\r\n\r\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\r\n\r\nhttps://github.com/PaddlePaddle/PaddleNLP/tree/develop/pipelines/examples/semantic-search#3-%E5%BF%AB%E9%80%9F%E5%BC%80%E5%A7%8B-%E5%BF%AB%E9%80%9F%E6%90%AD%E5%BB%BA%E8%AF%AD%E4%B9%89%E6%A3%80%E7%B4%A2%E7%B3%BB%E7%BB%9F\r\n\r\n\r\n\u8fd0\u884c\uff1a\r\nexport CUDA_VISIBLE_DEVICES=0,1\r\npython examples/semantic-search/semantic_search_example.py --device gpu\r\n\r\n![\u56fe\u7247](https://user-images.githubusercontent.com/6648329/230818600-d15ade87-05b8-44b7-b78c-800e731c7caf.png)\r\n![\u56fe\u7247](https://user-images.githubusercontent.com/6648329/230818612-094a6396-edb7-41ec-bec7-e56107904d52.png)\r\n", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/5585/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/5585/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/5457", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/5457/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/5457/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/5457/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/5457", "id": 1644977483, "node_id": "I_kwDOFAsknM5iDF1L", "number": 5457, "title": "[Bug]: ", "user": {"login": "fxb392", "id": 40045460, "node_id": "MDQ6VXNlcjQwMDQ1NDYw", "avatar_url": "https://avatars.githubusercontent.com/u/40045460?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fxb392", "html_url": "https://github.com/fxb392", "followers_url": "https://api.github.com/users/fxb392/followers", "following_url": "https://api.github.com/users/fxb392/following{/other_user}", "gists_url": "https://api.github.com/users/fxb392/gists{/gist_id}", "starred_url": "https://api.github.com/users/fxb392/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fxb392/subscriptions", "organizations_url": "https://api.github.com/users/fxb392/orgs", "repos_url": "https://api.github.com/users/fxb392/repos", "events_url": "https://api.github.com/users/fxb392/events{/privacy}", "received_events_url": "https://api.github.com/users/fxb392/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4880074605, "node_id": "LA_kwDOFAsknM8AAAABIuAHbQ", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/triage", "name": "triage", "color": "8F57AB", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "LemonNoel", "id": 25607475, "node_id": "MDQ6VXNlcjI1NjA3NDc1", "avatar_url": "https://avatars.githubusercontent.com/u/25607475?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LemonNoel", "html_url": "https://github.com/LemonNoel", "followers_url": "https://api.github.com/users/LemonNoel/followers", "following_url": "https://api.github.com/users/LemonNoel/following{/other_user}", "gists_url": "https://api.github.com/users/LemonNoel/gists{/gist_id}", "starred_url": "https://api.github.com/users/LemonNoel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LemonNoel/subscriptions", "organizations_url": "https://api.github.com/users/LemonNoel/orgs", "repos_url": "https://api.github.com/users/LemonNoel/repos", "events_url": "https://api.github.com/users/LemonNoel/events{/privacy}", "received_events_url": "https://api.github.com/users/LemonNoel/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "LemonNoel", "id": 25607475, "node_id": "MDQ6VXNlcjI1NjA3NDc1", "avatar_url": "https://avatars.githubusercontent.com/u/25607475?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LemonNoel", "html_url": "https://github.com/LemonNoel", "followers_url": "https://api.github.com/users/LemonNoel/followers", "following_url": "https://api.github.com/users/LemonNoel/following{/other_user}", "gists_url": "https://api.github.com/users/LemonNoel/gists{/gist_id}", "starred_url": "https://api.github.com/users/LemonNoel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LemonNoel/subscriptions", "organizations_url": "https://api.github.com/users/LemonNoel/orgs", "repos_url": "https://api.github.com/users/LemonNoel/repos", "events_url": "https://api.github.com/users/LemonNoel/events{/privacy}", "received_events_url": "https://api.github.com/users/LemonNoel/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2023-03-29T03:35:21Z", "updated_at": "2023-04-03T17:04:59Z", "closed_at": "2023-04-03T17:04:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\n\n```Markdown\n- paddlepaddle:\r\n- paddlepaddle-gpu: \r\n- paddlenlp: \r\npaddle-bfloat      0.1.7\r\npaddlepaddle-gpu   2.4.2.post112\n```\n\n\n### \u91cd\u590d\u95ee\u9898\n\n- [X] I have searched the existing issues\n\n### \u9519\u8bef\u63cf\u8ff0\n\n```Markdown\n\u4f7f\u7528ernie-health \u63d0\u4f9b\u7684\u5fae\u8c03ner\u4ee3\u7801train_ner.py\u52a0\u8f7d\u6a21\u578b\u62a5\u9519\n```\n\n\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\n\n\r\n![image](https://user-images.githubusercontent.com/40045460/228420118-e72085ec-01f2-4b9f-82bc-88c257da98ce.png)\r\n\r\n![image](https://user-images.githubusercontent.com/40045460/228419936-473530e7-4008-4268-bd78-d5bf7e800a6f.png)\r\n", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/5457/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/5457/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/5433", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/5433/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/5433/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/5433/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/5433", "id": 1642425738, "node_id": "I_kwDOFAsknM5h5W2K", "number": 5433, "title": "[Bug]: UnboundLocalError: local variable 'paddle2onnx' referenced before assignment", "user": {"login": "sunzhaoyang", "id": 2182116, "node_id": "MDQ6VXNlcjIxODIxMTY=", "avatar_url": "https://avatars.githubusercontent.com/u/2182116?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sunzhaoyang", "html_url": "https://github.com/sunzhaoyang", "followers_url": "https://api.github.com/users/sunzhaoyang/followers", "following_url": "https://api.github.com/users/sunzhaoyang/following{/other_user}", "gists_url": "https://api.github.com/users/sunzhaoyang/gists{/gist_id}", "starred_url": "https://api.github.com/users/sunzhaoyang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sunzhaoyang/subscriptions", "organizations_url": "https://api.github.com/users/sunzhaoyang/orgs", "repos_url": "https://api.github.com/users/sunzhaoyang/repos", "events_url": "https://api.github.com/users/sunzhaoyang/events{/privacy}", "received_events_url": "https://api.github.com/users/sunzhaoyang/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4880074605, "node_id": "LA_kwDOFAsknM8AAAABIuAHbQ", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/triage", "name": "triage", "color": "8F57AB", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2023-03-27T16:28:25Z", "updated_at": "2023-04-02T15:46:32Z", "closed_at": "2023-03-27T16:38:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\r\n\r\n```Markdown\r\npaddle-bfloat                  0.1.7\r\npaddle-serving-app             0.8.3\r\npaddle-serving-client          0.8.3\r\npaddle2onnx                    1.0.5\r\npaddleaudio                    1.1.0\r\npaddleclas                     2.5.1\r\npaddlefsl                      1.1.0\r\npaddlehub                      2.3.1\r\npaddlenlp                      2.5.2\r\npaddleocr                      2.6.1.1\r\npaddlepaddle-gpu               2.4.1.post112\r\npaddleslim                     2.3.4\r\npaddlespeech                   1.3.0\r\npaddlespeech-ctcdecoders       0.2.1\r\npaddlespeech-feat              0.1.0\r\n```\r\n\r\n\r\n### \u91cd\u590d\u95ee\u9898\r\n\r\n- [X] I have searched the existing issues\r\n\r\n### \u9519\u8bef\u63cf\u8ff0\r\n\r\n```Markdown\r\n\u6309\u7167\u6587\u6863\u64cd\u4f5c\uff1ahttps://github.com/PaddlePaddle/PaddleNLP/tree/develop/applications/information_extraction/document\r\n\r\n\u5f97\u5230\u62a5\u9519\uff1a\r\n\r\n\r\nW0328 00:23:38.642962 21812 gpu_resources.cc:61] Please NOTE: device: 0, GPU Compute Capability: 7.5, Driver API Version: 11.2, Runtime API Version: 11.2\r\nW0328 00:23:38.739926 21812 gpu_resources.cc:91] device: 0, cuDNN Version: 8.2.\r\n[2023-03-28 00:23:39,621] [    INFO] - All model checkpoint weights were used when initializing UIEX.\r\n\r\n[2023-03-28 00:23:39,621] [    INFO] - All the weights of UIEX were initialized from the model checkpoint at ./checkpoint/model_best.\r\nIf your task is similar to the task the model of the checkpoint was trained on, you can already use UIEX for predictions without further training.\r\n[2023-03-28 00:23:39,622] [    INFO] - Converting to the inference model cost a little time.\r\n[2023-03-28 00:23:54,592] [    INFO] - The inference model save in the path:./checkpoint/model_best/static/inference\r\n[2023-03-28 00:23:54,592] [ WARNING] - The inference precision is change to 'fp32', please install the dependencies that required for 'fp16' inference, pip install onnxruntime-gpu onnx onnxconverter-common\r\nTraceback (most recent call last):\r\n  File \"predict.py\", line 6, in <module>\r\n    my_ie = Taskflow(\"information_extraction\", model=\"uie-x-base\", schema=schema, task_path='./checkpoint/model_best', precision='fp16')\r\n  File \"/opt/miniconda3/envs/paddle/lib/python3.8/site-packages/paddlenlp/taskflow/taskflow.py\", line 837, in __init__\r\n    self.task_instance = task_class(\r\n  File \"/opt/miniconda3/envs/paddle/lib/python3.8/site-packages/paddlenlp/taskflow/information_extraction.py\", line 536, in __init__\r\n    self._get_inference_model()\r\n  File \"/opt/miniconda3/envs/paddle/lib/python3.8/site-packages/paddlenlp/taskflow/task.py\", line 368, in _get_inference_model\r\n    self._prepare_onnx_mode()\r\n  File \"/opt/miniconda3/envs/paddle/lib/python3.8/site-packages/paddlenlp/taskflow/task.py\", line 246, in _prepare_onnx_mode\r\n    onnx_model = paddle2onnx.command.c_paddle_to_onnx(\r\nUnboundLocalError: local variable 'paddle2onnx' referenced before assignment\r\n```\r\n\r\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\r\n\r\n```\r\nfrom pprint import pprint\r\nfrom paddlenlp import Taskflow\r\nfrom paddlenlp.utils.doc_parser import DocParser\r\n\r\nschema = ['os_al','os_k','od_al','od_k']\r\nmy_ie = Taskflow(\"information_extraction\", model=\"uie-x-base\", schema=schema, task_path='./checkpoint/model_best', precision='fp16')\r\n\r\ndoc_path = \"/tmp/WechatIMG8337.jpeg\"\r\nresults = my_ie({\"doc\": doc_path})\r\npprint(results)\r\n\r\nDocParser.write_image_with_results(\r\n    doc_path,\r\n    result=results[0],\r\n    save_path=\"./image_show.png\")\r\n```", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/5433/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/5433/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/5365", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/5365/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/5365/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/5365/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/5365", "id": 1635406767, "node_id": "I_kwDOFAsknM5helOv", "number": 5365, "title": "[Bug]: \u4f7f\u7528taskflow\u548cuie-x-base\u9884\u6d4b\u7684\u65f6\u5019\uff0c\u5982\u679c\u673a\u5668\u6709\u591a\u5f20gpu\uff0c\u9664\u4e86\u4e00\u5f20\u5916\u5176\u4ed6\u90fd\u662f\u6ee1\u7684\uff0c\u63a8\u7406\u7684\u65f6\u5019\u4f1a\u7531\u4e8e\u5176\u4ed6gpu\u65e0\u6cd5\u4f7f\u7528\u62a5\u9519", "user": {"login": "zhiyongLiu1114", "id": 47651345, "node_id": "MDQ6VXNlcjQ3NjUxMzQ1", "avatar_url": "https://avatars.githubusercontent.com/u/47651345?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zhiyongLiu1114", "html_url": "https://github.com/zhiyongLiu1114", "followers_url": "https://api.github.com/users/zhiyongLiu1114/followers", "following_url": "https://api.github.com/users/zhiyongLiu1114/following{/other_user}", "gists_url": "https://api.github.com/users/zhiyongLiu1114/gists{/gist_id}", "starred_url": "https://api.github.com/users/zhiyongLiu1114/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zhiyongLiu1114/subscriptions", "organizations_url": "https://api.github.com/users/zhiyongLiu1114/orgs", "repos_url": "https://api.github.com/users/zhiyongLiu1114/repos", "events_url": "https://api.github.com/users/zhiyongLiu1114/events{/privacy}", "received_events_url": "https://api.github.com/users/zhiyongLiu1114/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "linjieccc", "id": 40840292, "node_id": "MDQ6VXNlcjQwODQwMjky", "avatar_url": "https://avatars.githubusercontent.com/u/40840292?v=4", "gravatar_id": "", "url": "https://api.github.com/users/linjieccc", "html_url": "https://github.com/linjieccc", "followers_url": "https://api.github.com/users/linjieccc/followers", "following_url": "https://api.github.com/users/linjieccc/following{/other_user}", "gists_url": "https://api.github.com/users/linjieccc/gists{/gist_id}", "starred_url": "https://api.github.com/users/linjieccc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/linjieccc/subscriptions", "organizations_url": "https://api.github.com/users/linjieccc/orgs", "repos_url": "https://api.github.com/users/linjieccc/repos", "events_url": "https://api.github.com/users/linjieccc/events{/privacy}", "received_events_url": "https://api.github.com/users/linjieccc/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "linjieccc", "id": 40840292, "node_id": "MDQ6VXNlcjQwODQwMjky", "avatar_url": "https://avatars.githubusercontent.com/u/40840292?v=4", "gravatar_id": "", "url": "https://api.github.com/users/linjieccc", "html_url": "https://github.com/linjieccc", "followers_url": "https://api.github.com/users/linjieccc/followers", "following_url": "https://api.github.com/users/linjieccc/following{/other_user}", "gists_url": "https://api.github.com/users/linjieccc/gists{/gist_id}", "starred_url": "https://api.github.com/users/linjieccc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/linjieccc/subscriptions", "organizations_url": "https://api.github.com/users/linjieccc/orgs", "repos_url": "https://api.github.com/users/linjieccc/repos", "events_url": "https://api.github.com/users/linjieccc/events{/privacy}", "received_events_url": "https://api.github.com/users/linjieccc/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2023-03-22T09:45:59Z", "updated_at": "2023-04-19T08:48:12Z", "closed_at": "2023-04-19T08:48:12Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\n\n```Markdown\n- paddlepaddle:\r\n- paddlepaddle-gpu: 2.3.1.post112\r\n- paddlenlp: 2.5.2\n```\n\n\n### \u91cd\u590d\u95ee\u9898\n\n- [X] I have searched the existing issues\n\n### \u9519\u8bef\u63cf\u8ff0\n\n```Markdown\n\u8bbe\u7f6e \r\nos.environ[\"CUDA_DEVICE_ORDER\"] = \"PCI_BUS_ID\"\r\nos.environ[\"CUDA_VISIBLE_DEVICES\"] = \"1\" \u65e0\u6548\r\n\u5982\u679c\u673a\u5668\u6709\u591a\u5f20gpu\uff0c\u9664\u4e86\u4e00\u5f20\u5916\u5176\u4ed6\u90fd\u662f\u6ee1\u7684\uff0c\u63a8\u7406\u7684\u65f6\u5019\u4f1a\u7531\u4e8e\u5176\u4ed6gpu\u65e0\u6cd5\u4f7f\u7528\u62a5\u9519\uff0c\u9884\u6d4b\u65f6\u62a5\u9519\uff1a\r\n ExternalError: CUDNN error(8), CUDNN_STATUS_EXECUTION_FAILED. \r\n      [Hint: 'CUDNN_STATUS_EXECUTION_FAILED'.  The GPU program failed to execute. This is usually caused by a failure to launch some cuDNN kernel on the GPU, which can occur for multiple reasons.  To correct, check that the hardware, an appropriate version of the driver, and the cuDNN library are correctly installed.  Otherwise, this may indicate an internal error/bug in the library.  ] (at /paddle/paddle/fluid/operators/fused/conv_fusion_op.cu:373)\r\n      [operator < conv2d_fusion > error]\n```\n\n\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\n\nfrom pprint import pprint\r\nfrom paddlenlp import Taskflow\r\nfrom paddlenlp.utils.doc_parser import DocParser\r\nimport os\r\n\r\nos.environ[\"CUDA_DEVICE_ORDER\"] = \"PCI_BUS_ID\"\r\nos.environ[\"CUDA_VISIBLE_DEVICES\"] = \"1\"\r\nschema = ['\u540d\u79f0', '\u7eb3\u7a0e\u4eba\u8bc6\u522b\u53f7', '\u5f00\u6237\u884c\u53ca\u8d26\u53f7', '\u91d1\u989d', '\u4ef7\u7a0e\u5408\u8ba1', 'No', '\u7a0e\u7387', '\u5730\u5740\u3001\u7535\u8bdd', '\u7a0e\u989d']\r\nmy_ie = Taskflow(\"information_extraction\", model=\"uie-x-base\", schema=schema, task_path='./checkpoint/model_best', precision='fp32',device_id=1)\r\n\r\nresult = my_ie({\"doc\":\"./p0/data/images/b0.jpg\"})", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/5365/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/5365/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/5286", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/5286/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/5286/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/5286/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/5286", "id": 1628769216, "node_id": "I_kwDOFAsknM5hFQvA", "number": 5286, "title": "[Bug]: official project BUG", "user": {"login": "ucas010", "id": 50656998, "node_id": "MDQ6VXNlcjUwNjU2OTk4", "avatar_url": "https://avatars.githubusercontent.com/u/50656998?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ucas010", "html_url": "https://github.com/ucas010", "followers_url": "https://api.github.com/users/ucas010/followers", "following_url": "https://api.github.com/users/ucas010/following{/other_user}", "gists_url": "https://api.github.com/users/ucas010/gists{/gist_id}", "starred_url": "https://api.github.com/users/ucas010/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ucas010/subscriptions", "organizations_url": "https://api.github.com/users/ucas010/orgs", "repos_url": "https://api.github.com/users/ucas010/repos", "events_url": "https://api.github.com/users/ucas010/events{/privacy}", "received_events_url": "https://api.github.com/users/ucas010/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4880074605, "node_id": "LA_kwDOFAsknM8AAAABIuAHbQ", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/triage", "name": "triage", "color": "8F57AB", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-17T06:21:41Z", "updated_at": "2023-03-21T11:10:15Z", "closed_at": "2023-03-21T11:10:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\n\n```Markdown\npaddle-bfloat                                0.1.7\r\npaddle-pipelines                             0.4.0\r\npaddle2onnx                                  1.0.5\r\npaddlefsl                                    1.1.0\r\npaddlehub                                    2.3.1\r\npaddlenlp                                    2.5.1\r\npaddleocr                                    2.6.1.3\r\npaddlepaddle-gpu                             2.3.2\r\n\r\nbug\u590d\u73b0\uff1a\r\n>>> text_to_image = Taskflow(\"text_to_image\")\r\n[2023-03-17 14:17:50,295] [ WARNING] - 'TextToImageGenerationTask' is now deprecated and will be removed after v2.6.0Please Refer to PPDiffusers for Text-to-Image Capabilities\r\n[2023-03-17 14:17:50,296] [    INFO] - We are using <class 'paddlenlp.transformers.artist.tokenizer.ArtistTokenizer'> to load 'pai-painter-painting-base-zh'.\r\n[2023-03-17 14:17:50,296] [    INFO] - Downloading https://bj.bcebos.com/paddlenlp/models/transformers/artist/pai-painter-painting-base-zh/vocab.txt and saved to .paddlenlp/models/pai-painter-painting-base-zh/pai-painter-painting-base-zh\r\n[2023-03-17 14:17:50,413] [    INFO] - Downloading vocab.txt from https://bj.bcebos.com/paddlenlp/models/transformers/artist/pai-painter-painting-base-zh/vocab.txt\r\n100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 107k/107k [00:00<00:00, 2.41MB/s]\r\n[2023-03-17 14:17:50,580] [    INFO] - tokenizer config file saved in /.paddlenlp/models/pai-painter-painting-base-zh/pai-painter-painting-base-zh/tokenizer_config.json\r\n[2023-03-17 14:17:50,580] [    INFO] - Special tokens file saved in /.paddlenlp/models/pai-painter-painting-base-zh/pai-painter-painting-base-zh/special_tokens_map.json\r\n[2023-03-17 14:17:50,581] [    INFO] - We are using <class 'paddlenlp.transformers.artist.modeling.ArtistForImageGeneration'> to load 'pai-painter-painting-base-zh'.\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/lib/python3.9/site-packages/paddlenlp/taskflow/taskflow.py\", line 696, in __init__\r\n    self.task_instance = task_class(\r\n  File \"/python3.9/site-packages/paddlenlp/taskflow/text_to_image.py\", line 65, in __init__\r\n    self._construct_model(model)\r\n  File \"/python3.9/site-packages/paddlenlp/taskflow/text_to_image.py\", line 71, in _construct_model\r\n    self._model = AutoModelForImageGeneration.from_pretrained(model)\r\n  File \"/python3.9/site-packages/paddlenlp/transformers/auto/modeling.py\", line 1075, in from_pretrained\r\n    return cls._from_pretrained(pretrained_model_name_or_path, *model_args, **kwargs)\r\n  File \"/python3.9/site-packages/paddlenlp/transformers/auto/modeling.py\", line 315, in _from_pretrained\r\n    return model_class.from_pretrained(pretrained_model_name_or_path, *model_args, **kwargs)\r\n  File \"/python3.9/site-packages/paddlenlp/transformers/model_utils.py\", line 485, in from_pretrained\r\n    return cls.from_pretrained_v2(\r\n  File \"/python3.9/site-packages/paddlenlp/transformers/model_utils.py\", line 1326, in from_pretrained_v2\r\n    config, model_kwargs = cls.config_class.from_pretrained(\r\n  File \"python3.9/site-packages/paddlenlp/transformers/configuration_utils.py\", line 735, in from_pretrained\r\n    config_dict, kwargs = cls.get_config_dict(pretrained_model_name_or_path, **kwargs)\r\n  File \"/python3.9/site-packages/paddlenlp/transformers/configuration_utils.py\", line 761, in get_config_dict\r\n    config_dict, kwargs = cls._get_config_dict(\r\n  File \"/lib/python3.9/site-packages/paddlenlp/transformers/configuration_utils.py\", line 836, in _get_config_dict\r\n    raise FileNotFoundError(f\"configuration file<{CONFIG_NAME}> or <{LEGACY_CONFIG_NAME}> not found\")\r\nFileNotFoundError: configuration file<config.json> or <model_config.json> not found\n```\n\n\n### \u91cd\u590d\u95ee\u9898\n\n- [X] I have searched the existing issues\n\n### \u9519\u8bef\u63cf\u8ff0\n\n```Markdown\n\u7f3a\u5c11\u6587\u4ef6\n```\n\n\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\n\n\u5982\u4e0a\u6240\u8ff0", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/5286/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/5286/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/5036", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/5036/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/5036/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/5036/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/5036", "id": 1604440172, "node_id": "I_kwDOFAsknM5fodBs", "number": 5036, "title": "[Bug]:unimo\u6a21\u578b\u9009\u62e9advertisegen\u8fdb\u884c\u8bad\u7ec3\uff0c\u6267\u884c\u5230\u7b2c\u4e09\u4e2a\u5faa\u73af\uff0c\u6ca1\u6709\u62a5\u9519\u76f4\u63a5\u9000\u51fa", "user": {"login": "jiweizhangxu", "id": 88191580, "node_id": "MDQ6VXNlcjg4MTkxNTgw", "avatar_url": "https://avatars.githubusercontent.com/u/88191580?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jiweizhangxu", "html_url": "https://github.com/jiweizhangxu", "followers_url": "https://api.github.com/users/jiweizhangxu/followers", "following_url": "https://api.github.com/users/jiweizhangxu/following{/other_user}", "gists_url": "https://api.github.com/users/jiweizhangxu/gists{/gist_id}", "starred_url": "https://api.github.com/users/jiweizhangxu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jiweizhangxu/subscriptions", "organizations_url": "https://api.github.com/users/jiweizhangxu/orgs", "repos_url": "https://api.github.com/users/jiweizhangxu/repos", "events_url": "https://api.github.com/users/jiweizhangxu/events{/privacy}", "received_events_url": "https://api.github.com/users/jiweizhangxu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4880074605, "node_id": "LA_kwDOFAsknM8AAAABIuAHbQ", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/triage", "name": "triage", "color": "8F57AB", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-03-01T07:50:26Z", "updated_at": "2023-03-01T09:06:09Z", "closed_at": "2023-03-01T09:05:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\n\n```Markdown\n- paddlepaddle-gpu: 2.4.1\r\n- paddlenlp: 2.5.0\n```\n\n\n### \u91cd\u590d\u95ee\u9898\n\n- [X] I have searched the existing issues\n\n### \u9519\u8bef\u63cf\u8ff0\n\n```Markdown\nfor inputs in train_data_loader\u65f6\uff0c\u5230\u7b2c\u56db\u4e2a\u5faa\u73af logits = model(*inputs[:-1])\u52a0\u8f7d\u65f6\u95f4\u53d8\u957f\uff0c\u4e4b\u540e\u8df3\u51fa\u7a0b\u5e8f\u4e14\u6ca1\u6709\u4efb\u4f55\u62a5\u9519\u51fa\u73b0\uff0c\u8bf7\u95ee\u662f\u4ec0\u4e48\u539f\u56e0\uff1f\r\n\u4e0b\u56fe\u4e3adebug\u56fe\u7247\uff0c\u518d\u5f80\u4e0b\u6267\u884c\u76f4\u63a5\u5c31\u4f1a\u9000\u51fa\n```\n\n\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\n\n\r\n![\u9519\u8bef](https://user-images.githubusercontent.com/88191580/222076805-6839e614-3b2e-45a7-a35c-8a6b0a9d93d7.png)\r\n\r\n\r\n/root/anaconda3/envs/paddle_fei_new_1/bin/python /usr/local/zx/12345_for_baogao/unimo_advertisegen/run_gen.py\r\n/root/anaconda3/envs/paddle_fei_new_1/lib/python3.9/site-packages/_distutils_hack/__init__.py:33: UserWarning: Setuptools is replacing distutils.\r\n  warnings.warn(\"Setuptools is replacing distutils.\")\r\n[2023-03-01 15:34:49,166] [    INFO] - Model config UNIMOConfig {\r\n  \"attention_probs_dropout_prob\": 0.1,\r\n  \"bos_token_id\": 1,\r\n  \"eos_token_id\": 3,\r\n  \"hidden_act\": \"relu\",\r\n  \"hidden_dropout_prob\": 0.1,\r\n  \"hidden_size\": 768,\r\n  \"initializer_range\": 0.02,\r\n  \"intermediate_size\": 3072,\r\n  \"mask_token_id\": 3,\r\n  \"max_position_embeddings\": 513,\r\n  \"model_type\": \"unimo\",\r\n  \"normalize_before\": false,\r\n  \"num_attention_heads\": 12,\r\n  \"num_hidden_layers\": 12,\r\n  \"pad_token_id\": 0,\r\n  \"paddlenlp_version\": null,\r\n  \"type_vocab_size\": 4,\r\n  \"unk_token_id\": 17963,\r\n  \"vocab_size\": 18000\r\n}\r\n\r\n-----------  Configuration Arguments -----------\r\nbatch_size: 16\r\nbeta1: 0.9\r\nbeta2: 0.98\r\ndataset_name: advertisegen\r\ndecode_strategy: beam_search\r\ndevice: gpu\r\ndo_predict: True\r\ndo_train: True\r\nepochs: 10\r\nepsilon: 1e-06\r\nlearning_rate: 5e-05\r\nlength_penalty: 1.2\r\nlogging_steps: 10\r\nmax_dec_len: 20\r\nmax_grad_norm: 1.0\r\nmax_seq_len: 512\r\nmax_target_len: 30\r\nmax_title_len: 30\r\nmin_dec_len: 3\r\nmodel_name_or_path: unimo-text-1.0\r\nnum_beams: 6\r\nnum_return_sequences: 1\r\noutput_path: ./predict.txt\r\npredict_file: ../unimo-text/data/predict_1.json\r\nsave_dir: ./checkpoints\r\nsave_steps: 1000\r\nseed: 1\r\ntemperature: 1.0\r\ntop_k: 0\r\ntop_p: 1.0\r\ntrain_file: ../unimo-text/data/wait_data_2.json\r\nwarmup_proportion: 0.02\r\nweight_decay: 0.01\r\n------------------------------------------------\r\nW0301 15:34:52.443105 12987 gpu_resources.cc:61] Please NOTE: device: 0, GPU Compute Capability: 3.7, Driver API Version: 10.2, Runtime API Version: 10.2\r\nW0301 15:34:52.450660 12987 gpu_resources.cc:91] device: 0, cuDNN Version: 7.6.\r\n[2023-03-01 15:34:53,340] [    INFO] - All model checkpoint weights were used when initializing UNIMOLMHeadModel.\r\n\r\n[2023-03-01 15:34:53,340] [    INFO] - All the weights of UNIMOLMHeadModel were initialized from the model checkpoint at unimo-text-1.0.\r\nIf your task is similar to the task the model of the checkpoint was trained on, you can already use UNIMOLMHeadModel for predictions without further training.\r\n[2023-03-01 15:34:53,341] [    INFO] - Already cached /root/.paddlenlp/models/unimo-text-1.0/unimo-text-1.0-vocab.txt\r\n[2023-03-01 15:34:53,358] [    INFO] - tokenizer config file saved in /root/.paddlenlp/models/unimo-text-1.0/tokenizer_config.json\r\n[2023-03-01 15:34:53,359] [    INFO] - Special tokens file saved in /root/.paddlenlp/models/unimo-text-1.0/special_tokens_map.json\r\n\r\nEpoch 1/10\r\n\r\n\r\nProcess finished with exit code 134 (interrupted by signal 6: SIGABRT)\r\n", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/5036/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/5036/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4971", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4971/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4971/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4971/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/4971", "id": 1597789039, "node_id": "I_kwDOFAsknM5fPFNv", "number": 4971, "title": "[Bug]:uie \u591a\u5361\u5fae\u8c03\u4f7f\u7528--recompute\u53c2\u6570\u8fdb\u884c\u91cd\u8ba1\u7b97\u8bad\u7ec3 \uff0c\u6765\u8282\u7701\u7f13\u5b58\u65f6\u62a5\u9519", "user": {"login": "LANSEYOUYUMOWANG", "id": 36221128, "node_id": "MDQ6VXNlcjM2MjIxMTI4", "avatar_url": "https://avatars.githubusercontent.com/u/36221128?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LANSEYOUYUMOWANG", "html_url": "https://github.com/LANSEYOUYUMOWANG", "followers_url": "https://api.github.com/users/LANSEYOUYUMOWANG/followers", "following_url": "https://api.github.com/users/LANSEYOUYUMOWANG/following{/other_user}", "gists_url": "https://api.github.com/users/LANSEYOUYUMOWANG/gists{/gist_id}", "starred_url": "https://api.github.com/users/LANSEYOUYUMOWANG/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LANSEYOUYUMOWANG/subscriptions", "organizations_url": "https://api.github.com/users/LANSEYOUYUMOWANG/orgs", "repos_url": "https://api.github.com/users/LANSEYOUYUMOWANG/repos", "events_url": "https://api.github.com/users/LANSEYOUYUMOWANG/events{/privacy}", "received_events_url": "https://api.github.com/users/LANSEYOUYUMOWANG/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4143329222, "node_id": "LA_kwDOFAsknM729i_G", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/ie", "name": "ie", "color": "AC7854", "default": false, "description": "Issues related to Information Extraction"}], "state": "closed", "locked": false, "assignee": {"login": "linjieccc", "id": 40840292, "node_id": "MDQ6VXNlcjQwODQwMjky", "avatar_url": "https://avatars.githubusercontent.com/u/40840292?v=4", "gravatar_id": "", "url": "https://api.github.com/users/linjieccc", "html_url": "https://github.com/linjieccc", "followers_url": "https://api.github.com/users/linjieccc/followers", "following_url": "https://api.github.com/users/linjieccc/following{/other_user}", "gists_url": "https://api.github.com/users/linjieccc/gists{/gist_id}", "starred_url": "https://api.github.com/users/linjieccc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/linjieccc/subscriptions", "organizations_url": "https://api.github.com/users/linjieccc/orgs", "repos_url": "https://api.github.com/users/linjieccc/repos", "events_url": "https://api.github.com/users/linjieccc/events{/privacy}", "received_events_url": "https://api.github.com/users/linjieccc/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "linjieccc", "id": 40840292, "node_id": "MDQ6VXNlcjQwODQwMjky", "avatar_url": "https://avatars.githubusercontent.com/u/40840292?v=4", "gravatar_id": "", "url": "https://api.github.com/users/linjieccc", "html_url": "https://github.com/linjieccc", "followers_url": "https://api.github.com/users/linjieccc/followers", "following_url": "https://api.github.com/users/linjieccc/following{/other_user}", "gists_url": "https://api.github.com/users/linjieccc/gists{/gist_id}", "starred_url": "https://api.github.com/users/linjieccc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/linjieccc/subscriptions", "organizations_url": "https://api.github.com/users/linjieccc/orgs", "repos_url": "https://api.github.com/users/linjieccc/repos", "events_url": "https://api.github.com/users/linjieccc/events{/privacy}", "received_events_url": "https://api.github.com/users/linjieccc/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2023-02-24T02:12:45Z", "updated_at": "2023-03-22T00:50:14Z", "closed_at": "2023-03-22T00:50:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\n\n```Markdown\n- paddlepaddle:2.4.5 \r\n- paddlepaddle-gpu:  2.4.1.post117\r\n- paddlenlp:\n```\n\n\n### \u91cd\u590d\u95ee\u9898\n\n- [X] I have searched the existing issues\n\n### \u9519\u8bef\u63cf\u8ff0\n\n```Markdown\nLAUNCH INFO 2023-02-24 09:09:09,334 ------------------------- ERROR LOG DETAIL -------------------------\r\nenlp_fen/lib/python3.8/site-packages/paddle/fluid/dygraph/dygraph_to_static/program_translator.py\", line 955, in __getitem__\r\n    self._caches[item_id] = self._build_once(item)\r\n  File \"/home/**/anaconda3/envs/paddlenlp_fen/lib/python3.8/site-packages/paddle/fluid/dygraph/dygraph_to_static/program_translator.py\", line 939, in _build_once\r\n    concrete_program = ConcreteProgram.from_func_spec(\r\n  File \"/home/**/anaconda3/envs/paddlenlp_fen/lib/python3.8/site-packages/decorator.py\", line 232, in fun\r\n    return caller(func, *(extras + args), **kw)\r\n  File \"/home/**/anaconda3/envs/paddlenlp_fen/lib/python3.8/site-packages/paddle/fluid/wrapped_decorator.py\", line 26, in __impl__\r\n    return wrapped_func(*args, **kwargs)\r\n  File \"/home/**/anaconda3/envs/paddlenlp_fen/lib/python3.8/site-packages/paddle/fluid/dygraph/base.py\", line 67, in __impl__\r\n    return func(*args, **kwargs)\r\n  File \"/home/**/anaconda3/envs/paddlenlp_fen/lib/python3.8/site-packages/paddle/fluid/dygraph/dygraph_to_static/program_translator.py\", line 895, in from_func_spec\r\n    error_data.raise_new_exception()\r\n  File \"/home/**/anaconda3/envs/paddlenlp_fen/lib/python3.8/site-packages/paddle/fluid/dygraph/dygraph_to_static/error.py\", line 350, in raise_new_exception\r\n    six.exec_(\"raise new_exception from None\")\r\n  File \"<string>\", line 1, in <module>\r\nAttributeError: In transformed code:\r\n\r\n    File \"/home/**/PaddleNLP-develop/model_zoo/uie/model.py\", line 30, in forward\r\n\tsequence_output, _ = self.encoder(\r\n    File \"/home/**/anaconda3/envs/paddlenlp_fen/lib/python3.8/site-packages/paddlenlp/transformers/ernie/modeling.py\", line 1322, in forward\r\n        self.encoder._use_cache = use_cache  # To be consistent with HF\r\n        encoder_outputs = self.encoder(\r\n        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ <--- HERE\r\n            embedding_output,\r\n            src_mask=attention_mask,\r\n\r\n    File \"/home/**/anaconda3/envs/paddlenlp_fen/lib/python3.8/site-packages/paddle/fluid/dygraph/layers.py\", line 950, in __call__\r\n\treturn self._dygraph_call_func(*inputs, **kwargs)\r\n    File \"/home/**/anaconda3/envs/paddlenlp_fen/lib/python3.8/site-packages/paddle/fluid/dygraph/layers.py\", line 935, in _dygraph_call_func\r\n\toutputs = self.forward(*inputs, **kwargs)\r\n    File \"/home/**/anaconda3/envs/paddlenlp_fen/lib/python3.8/site-packages/paddlenlp/transformers/model_outputs.py\", line 283, in _transformer_encoder_fwd\r\n\tlayer_outputs = recompute(\r\n    File \"/home/**/anaconda3/envs/paddlenlp_fen/lib/python3.8/site-packages/paddle/distributed/fleet/utils/__init__.py\", line 129, in recompute\r\n\treturn fleet.recompute.recompute(function, *args, **kwargs)\r\n    File \"/home/**/anaconda3/envs/paddlenlp_fen/lib/python3.8/site-packages/paddle/distributed/fleet/recompute/recompute.py\", line 500, in recompute\r\n\tif framework._dygraph_tracer()._has_grad:\r\n\r\n    AttributeError: 'NoneType' object has no attribute '_has_grad'\r\n\r\nI0224 09:09:08.221947 15232 tcp_store.cc:257] receive shutdown event and so quit from MasterDaemon run loop\n```\n\n\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\n\n1\u3001\u4f7f\u7528python doccano.py --splits 0.8 0.2 0 \u8fdb\u884c\u6570\u636e\u8f6c\u6362\u3002\r\n2\u3001\u4f7f\u7528\u6a21\u578buie-base\u8fdb\u884c\u591a\u5361\u5fae\u8c03\uff0c\u5e76\u8bbe\u7f6e\u53c2\u6570--recompute 1\uff0c\u5177\u4f53\u547d\u4ee4\u5982\u4e0b\uff1a\r\npython -u -m paddle.distributed.launch --gpus \"0,1,2,3\" finetune.py  --device gpu --logging_steps 10 --save_steps 100 --eval_steps 100 --seed 42 --model_name_or_path uie-base  --output_dir ./checkpoint/model_best20 --train_path data/train.txt  --dev_path data/dev.txt --max_seq_length 512 --per_device_eval_batch_size 16 --per_device_train_batch_size  16 --num_train_epochs 20 --learning_rate 1e-5 --do_train --do_eval --do_export --export_model_dir ./checkpoint/model_best20 --label_names 'start_positions' 'end_positions' --overwrite_output_dir --disable_tqdm True   --metric_for_best_model eval_f1  --save_total_limit 1  --recompute 1 ", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4971/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4971/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4970", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4970/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4970/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4970/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/4970", "id": 1597788519, "node_id": "I_kwDOFAsknM5fPFFn", "number": 4970, "title": "[Bug]:uie \u591a\u5361\u5fae\u8c03\u4f7f\u7528--recompute\u53c2\u6570\u8fdb\u884c\u91cd\u8ba1\u7b97\u8bad\u7ec3 \uff0c\u6765\u8282\u7701\u7f13\u5b58\u65f6\u62a5\u9519", "user": {"login": "LANSEYOUYUMOWANG", "id": 36221128, "node_id": "MDQ6VXNlcjM2MjIxMTI4", "avatar_url": "https://avatars.githubusercontent.com/u/36221128?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LANSEYOUYUMOWANG", "html_url": "https://github.com/LANSEYOUYUMOWANG", "followers_url": "https://api.github.com/users/LANSEYOUYUMOWANG/followers", "following_url": "https://api.github.com/users/LANSEYOUYUMOWANG/following{/other_user}", "gists_url": "https://api.github.com/users/LANSEYOUYUMOWANG/gists{/gist_id}", "starred_url": "https://api.github.com/users/LANSEYOUYUMOWANG/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LANSEYOUYUMOWANG/subscriptions", "organizations_url": "https://api.github.com/users/LANSEYOUYUMOWANG/orgs", "repos_url": "https://api.github.com/users/LANSEYOUYUMOWANG/repos", "events_url": "https://api.github.com/users/LANSEYOUYUMOWANG/events{/privacy}", "received_events_url": "https://api.github.com/users/LANSEYOUYUMOWANG/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4880074605, "node_id": "LA_kwDOFAsknM8AAAABIuAHbQ", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/triage", "name": "triage", "color": "8F57AB", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-02-24T02:12:21Z", "updated_at": "2023-02-24T02:14:13Z", "closed_at": "2023-02-24T02:14:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\n\n```Markdown\n- paddlepaddle:2.4.5 \r\n- paddlepaddle-gpu:  2.4.1.post117\r\n- paddlenlp:\n```\n\n\n### \u91cd\u590d\u95ee\u9898\n\n- [X] I have searched the existing issues\n\n### \u9519\u8bef\u63cf\u8ff0\n\n```Markdown\nLAUNCH INFO 2023-02-24 09:09:09,334 ------------------------- ERROR LOG DETAIL -------------------------\r\nenlp_fen/lib/python3.8/site-packages/paddle/fluid/dygraph/dygraph_to_static/program_translator.py\", line 955, in __getitem__\r\n    self._caches[item_id] = self._build_once(item)\r\n  File \"/home/**/anaconda3/envs/paddlenlp_fen/lib/python3.8/site-packages/paddle/fluid/dygraph/dygraph_to_static/program_translator.py\", line 939, in _build_once\r\n    concrete_program = ConcreteProgram.from_func_spec(\r\n  File \"/home/**/anaconda3/envs/paddlenlp_fen/lib/python3.8/site-packages/decorator.py\", line 232, in fun\r\n    return caller(func, *(extras + args), **kw)\r\n  File \"/home/**/anaconda3/envs/paddlenlp_fen/lib/python3.8/site-packages/paddle/fluid/wrapped_decorator.py\", line 26, in __impl__\r\n    return wrapped_func(*args, **kwargs)\r\n  File \"/home/**/anaconda3/envs/paddlenlp_fen/lib/python3.8/site-packages/paddle/fluid/dygraph/base.py\", line 67, in __impl__\r\n    return func(*args, **kwargs)\r\n  File \"/home/**/anaconda3/envs/paddlenlp_fen/lib/python3.8/site-packages/paddle/fluid/dygraph/dygraph_to_static/program_translator.py\", line 895, in from_func_spec\r\n    error_data.raise_new_exception()\r\n  File \"/home/**/anaconda3/envs/paddlenlp_fen/lib/python3.8/site-packages/paddle/fluid/dygraph/dygraph_to_static/error.py\", line 350, in raise_new_exception\r\n    six.exec_(\"raise new_exception from None\")\r\n  File \"<string>\", line 1, in <module>\r\nAttributeError: In transformed code:\r\n\r\n    File \"/home/**/PaddleNLP-develop/model_zoo/uie/model.py\", line 30, in forward\r\n\tsequence_output, _ = self.encoder(\r\n    File \"/home/**/anaconda3/envs/paddlenlp_fen/lib/python3.8/site-packages/paddlenlp/transformers/ernie/modeling.py\", line 1322, in forward\r\n        self.encoder._use_cache = use_cache  # To be consistent with HF\r\n        encoder_outputs = self.encoder(\r\n        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ <--- HERE\r\n            embedding_output,\r\n            src_mask=attention_mask,\r\n\r\n    File \"/home/**/anaconda3/envs/paddlenlp_fen/lib/python3.8/site-packages/paddle/fluid/dygraph/layers.py\", line 950, in __call__\r\n\treturn self._dygraph_call_func(*inputs, **kwargs)\r\n    File \"/home/**/anaconda3/envs/paddlenlp_fen/lib/python3.8/site-packages/paddle/fluid/dygraph/layers.py\", line 935, in _dygraph_call_func\r\n\toutputs = self.forward(*inputs, **kwargs)\r\n    File \"/home/**/anaconda3/envs/paddlenlp_fen/lib/python3.8/site-packages/paddlenlp/transformers/model_outputs.py\", line 283, in _transformer_encoder_fwd\r\n\tlayer_outputs = recompute(\r\n    File \"/home/**/anaconda3/envs/paddlenlp_fen/lib/python3.8/site-packages/paddle/distributed/fleet/utils/__init__.py\", line 129, in recompute\r\n\treturn fleet.recompute.recompute(function, *args, **kwargs)\r\n    File \"/home/**/anaconda3/envs/paddlenlp_fen/lib/python3.8/site-packages/paddle/distributed/fleet/recompute/recompute.py\", line 500, in recompute\r\n\tif framework._dygraph_tracer()._has_grad:\r\n\r\n    AttributeError: 'NoneType' object has no attribute '_has_grad'\r\n\r\nI0224 09:09:08.221947 15232 tcp_store.cc:257] receive shutdown event and so quit from MasterDaemon run loop\n```\n\n\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\n\n1\u3001\u4f7f\u7528python doccano.py --splits 0.8 0.2 0 \u8fdb\u884c\u6570\u636e\u8f6c\u6362\u3002\r\n2\u3001\u4f7f\u7528\u6a21\u578buie-base\u8fdb\u884c\u591a\u5361\u5fae\u8c03\uff0c\u5e76\u8bbe\u7f6e\u53c2\u6570--recompute 1\uff0c\u5177\u4f53\u547d\u4ee4\u5982\u4e0b\uff1a", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4970/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4970/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4904", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4904/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4904/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4904/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/4904", "id": 1592753771, "node_id": "I_kwDOFAsknM5e735r", "number": 4904, "title": "`model_zoo/bert`\u9884\u8bad\u7ec3\u95ee\u9898", "user": {"login": "xiaotingyun", "id": 51204375, "node_id": "MDQ6VXNlcjUxMjA0Mzc1", "avatar_url": "https://avatars.githubusercontent.com/u/51204375?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xiaotingyun", "html_url": "https://github.com/xiaotingyun", "followers_url": "https://api.github.com/users/xiaotingyun/followers", "following_url": "https://api.github.com/users/xiaotingyun/following{/other_user}", "gists_url": "https://api.github.com/users/xiaotingyun/gists{/gist_id}", "starred_url": "https://api.github.com/users/xiaotingyun/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xiaotingyun/subscriptions", "organizations_url": "https://api.github.com/users/xiaotingyun/orgs", "repos_url": "https://api.github.com/users/xiaotingyun/repos", "events_url": "https://api.github.com/users/xiaotingyun/events{/privacy}", "received_events_url": "https://api.github.com/users/xiaotingyun/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-02-21T04:21:07Z", "updated_at": "2023-03-01T03:15:49Z", "closed_at": "2023-03-01T03:15:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\n\n```Markdown\n- paddlepaddle:\r\n- paddlepaddle-gpu: \r\n- paddlenlp:\n```\n\n\n### \u91cd\u590d\u95ee\u9898\n\n- [X] I have searched the existing issues\n\n### \u9519\u8bef\u63cf\u8ff0\n\n```Markdown\nhttps://github.com/PaddlePaddle/PaddleNLP/blob/develop/model_zoo/bert/create_pretraining_data.py\r\n246\u884c\u7684max_num_tokens\u662f\u5426\u5e94\u8be5\u6539\u6210target_seq_length\uff0c\u6bd5\u7adf183\u884c\u6709\u4e00\u5b9a\u51e0\u7387\u7f29\u77ed\u6700\u5927\u957f\u5ea6\n```\n\n\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\n\nhttps://github.com/PaddlePaddle/PaddleNLP/blob/develop/model_zoo/bert/create_pretraining_data.py", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4904/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4904/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4903", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4903/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4903/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4903/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/4903", "id": 1592729341, "node_id": "I_kwDOFAsknM5e7x79", "number": 4903, "title": "[Bug]: bug in `model_zoo/bert/run_pretrain.py`", "user": {"login": "sijunhe", "id": 11987277, "node_id": "MDQ6VXNlcjExOTg3Mjc3", "avatar_url": "https://avatars.githubusercontent.com/u/11987277?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sijunhe", "html_url": "https://github.com/sijunhe", "followers_url": "https://api.github.com/users/sijunhe/followers", "following_url": "https://api.github.com/users/sijunhe/following{/other_user}", "gists_url": "https://api.github.com/users/sijunhe/gists{/gist_id}", "starred_url": "https://api.github.com/users/sijunhe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sijunhe/subscriptions", "organizations_url": "https://api.github.com/users/sijunhe/orgs", "repos_url": "https://api.github.com/users/sijunhe/repos", "events_url": "https://api.github.com/users/sijunhe/events{/privacy}", "received_events_url": "https://api.github.com/users/sijunhe/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "JunnYu", "id": 50394665, "node_id": "MDQ6VXNlcjUwMzk0NjY1", "avatar_url": "https://avatars.githubusercontent.com/u/50394665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JunnYu", "html_url": "https://github.com/JunnYu", "followers_url": "https://api.github.com/users/JunnYu/followers", "following_url": "https://api.github.com/users/JunnYu/following{/other_user}", "gists_url": "https://api.github.com/users/JunnYu/gists{/gist_id}", "starred_url": "https://api.github.com/users/JunnYu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JunnYu/subscriptions", "organizations_url": "https://api.github.com/users/JunnYu/orgs", "repos_url": "https://api.github.com/users/JunnYu/repos", "events_url": "https://api.github.com/users/JunnYu/events{/privacy}", "received_events_url": "https://api.github.com/users/JunnYu/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "JunnYu", "id": 50394665, "node_id": "MDQ6VXNlcjUwMzk0NjY1", "avatar_url": "https://avatars.githubusercontent.com/u/50394665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JunnYu", "html_url": "https://github.com/JunnYu", "followers_url": "https://api.github.com/users/JunnYu/followers", "following_url": "https://api.github.com/users/JunnYu/following{/other_user}", "gists_url": "https://api.github.com/users/JunnYu/gists{/gist_id}", "starred_url": "https://api.github.com/users/JunnYu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JunnYu/subscriptions", "organizations_url": "https://api.github.com/users/JunnYu/orgs", "repos_url": "https://api.github.com/users/JunnYu/repos", "events_url": "https://api.github.com/users/JunnYu/events{/privacy}", "received_events_url": "https://api.github.com/users/JunnYu/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2023-02-21T03:45:10Z", "updated_at": "2023-02-21T12:45:13Z", "closed_at": "2023-02-21T12:45:13Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\n\n```Markdown\n- paddlepaddle:\r\n- paddlepaddle-gpu:\r\n- paddlenlp:\n```\n\n\n### \u91cd\u590d\u95ee\u9898\n\n- [X] I have searched the existing issues\n\n### \u9519\u8bef\u63cf\u8ff0\n\n```Markdown\nhttps://github.com/PaddlePaddle/PaddleNLP/blob/develop/model_zoo/bert/run_pretrain.py#L297\n```\n\n\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\n\nhttps://github.com/PaddlePaddle/PaddleNLP/blob/develop/model_zoo/bert/run_pretrain.py#L297", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4903/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4903/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4880", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4880/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4880/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4880/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/4880", "id": 1591161309, "node_id": "I_kwDOFAsknM5e1zHd", "number": 4880, "title": "[Bug]: 'Namespace' object has no attribute 'warmup_propotion'", "user": {"login": "tinycen", "id": 60254197, "node_id": "MDQ6VXNlcjYwMjU0MTk3", "avatar_url": "https://avatars.githubusercontent.com/u/60254197?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tinycen", "html_url": "https://github.com/tinycen", "followers_url": "https://api.github.com/users/tinycen/followers", "following_url": "https://api.github.com/users/tinycen/following{/other_user}", "gists_url": "https://api.github.com/users/tinycen/gists{/gist_id}", "starred_url": "https://api.github.com/users/tinycen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tinycen/subscriptions", "organizations_url": "https://api.github.com/users/tinycen/orgs", "repos_url": "https://api.github.com/users/tinycen/repos", "events_url": "https://api.github.com/users/tinycen/events{/privacy}", "received_events_url": "https://api.github.com/users/tinycen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "westfish", "id": 20476674, "node_id": "MDQ6VXNlcjIwNDc2Njc0", "avatar_url": "https://avatars.githubusercontent.com/u/20476674?v=4", "gravatar_id": "", "url": "https://api.github.com/users/westfish", "html_url": "https://github.com/westfish", "followers_url": "https://api.github.com/users/westfish/followers", "following_url": "https://api.github.com/users/westfish/following{/other_user}", "gists_url": "https://api.github.com/users/westfish/gists{/gist_id}", "starred_url": "https://api.github.com/users/westfish/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/westfish/subscriptions", "organizations_url": "https://api.github.com/users/westfish/orgs", "repos_url": "https://api.github.com/users/westfish/repos", "events_url": "https://api.github.com/users/westfish/events{/privacy}", "received_events_url": "https://api.github.com/users/westfish/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "westfish", "id": 20476674, "node_id": "MDQ6VXNlcjIwNDc2Njc0", "avatar_url": "https://avatars.githubusercontent.com/u/20476674?v=4", "gravatar_id": "", "url": "https://api.github.com/users/westfish", "html_url": "https://github.com/westfish", "followers_url": "https://api.github.com/users/westfish/followers", "following_url": "https://api.github.com/users/westfish/following{/other_user}", "gists_url": "https://api.github.com/users/westfish/gists{/gist_id}", "starred_url": "https://api.github.com/users/westfish/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/westfish/subscriptions", "organizations_url": "https://api.github.com/users/westfish/orgs", "repos_url": "https://api.github.com/users/westfish/repos", "events_url": "https://api.github.com/users/westfish/events{/privacy}", "received_events_url": "https://api.github.com/users/westfish/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2023-02-20T05:21:25Z", "updated_at": "2023-02-20T14:17:28Z", "closed_at": "2023-02-20T14:17:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\n\n```Markdown\npaddle-bfloat                  0.1.7\r\npaddle2onnx                    1.0.0\r\npaddlefsl                      1.1.0\r\npaddlehub                      2.3.0\r\npaddlenlp                      2.5.1\r\npaddlepaddle-gpu               2.4.1.post112\r\ntb-paddle                      0.3.6\r\nx2paddle                       1.4.0\n```\n\n\n### \u91cd\u590d\u95ee\u9898\n\n- [X] I have searched the existing issues\n\n### \u9519\u8bef\u63cf\u8ff0\n\n```Markdown\nFile \"/home/aistudio/PaddleNLP/examples/text_summarization/unimo-text/train.py\", line 160, in run\r\nlr_scheduler = LinearDecayWithWarmup(args.learning_rate, num_training_steps, args.warmup_propotion)\r\nAttributeError: 'Namespace' object has no attribute 'warmup_propotion'\n```\n\n\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\n\n- \u7b2c55\u884c\r\n-- parser.add_argument(\"--warmup_proportion\", type=float, default=0.02, help=\"The number of warmup steps.\")\r\n- \u7b2c160\u884c\r\n-- lr_scheduler = LinearDecayWithWarmup(args.learning_rate, num_training_steps, args.warmup_propotion)\r\n### \u524d\u540e \u53c2\u6570\u540d\u79f0\uff08\u62fc\u5199\uff09\u4e0d\u4e00\u81f4\r\n**warmup_proportion**\r\n**warmup_propotion**\r\n\r\n\u5f53\u6211\u6267\u884c\u4e0b\u9762\u8bad\u7ec3\u7684\u65f6\u5019\uff0c\u5c31\u4f1a\u62a5\u9519\uff1a\r\n`python train.py --model_name_or_path=unimo-text-1.0-summary --train_file /home/aistudio/data/data192549/train_set.json --eval_file /home/aistudio/data/data192549/val_set.json --save_dir=${log_dir}/checkpoints --logging_steps=100 --save_steps=10000 --epochs=10 --batch_size=64 --learning_rate=5e-5 --weight_decay=0.01 --max_seq_len=1000 --max_target_len=50 --max_dec_len=50  --min_dec_len=30 --do_train --do_eval --device=gpu`\r\n", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4880/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4880/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4859", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4859/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4859/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4859/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/4859", "id": 1588899526, "node_id": "I_kwDOFAsknM5etK7G", "number": 4859, "title": "[Bug]: doccano.py\u5728\u5bfc\u5165utils.py\u4e2d\u7684str2bool\u62a5\u9519", "user": {"login": "Godlikemandyy", "id": 36065226, "node_id": "MDQ6VXNlcjM2MDY1MjI2", "avatar_url": "https://avatars.githubusercontent.com/u/36065226?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Godlikemandyy", "html_url": "https://github.com/Godlikemandyy", "followers_url": "https://api.github.com/users/Godlikemandyy/followers", "following_url": "https://api.github.com/users/Godlikemandyy/following{/other_user}", "gists_url": "https://api.github.com/users/Godlikemandyy/gists{/gist_id}", "starred_url": "https://api.github.com/users/Godlikemandyy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Godlikemandyy/subscriptions", "organizations_url": "https://api.github.com/users/Godlikemandyy/orgs", "repos_url": "https://api.github.com/users/Godlikemandyy/repos", "events_url": "https://api.github.com/users/Godlikemandyy/events{/privacy}", "received_events_url": "https://api.github.com/users/Godlikemandyy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "sijunhe", "id": 11987277, "node_id": "MDQ6VXNlcjExOTg3Mjc3", "avatar_url": "https://avatars.githubusercontent.com/u/11987277?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sijunhe", "html_url": "https://github.com/sijunhe", "followers_url": "https://api.github.com/users/sijunhe/followers", "following_url": "https://api.github.com/users/sijunhe/following{/other_user}", "gists_url": "https://api.github.com/users/sijunhe/gists{/gist_id}", "starred_url": "https://api.github.com/users/sijunhe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sijunhe/subscriptions", "organizations_url": "https://api.github.com/users/sijunhe/orgs", "repos_url": "https://api.github.com/users/sijunhe/repos", "events_url": "https://api.github.com/users/sijunhe/events{/privacy}", "received_events_url": "https://api.github.com/users/sijunhe/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sijunhe", "id": 11987277, "node_id": "MDQ6VXNlcjExOTg3Mjc3", "avatar_url": "https://avatars.githubusercontent.com/u/11987277?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sijunhe", "html_url": "https://github.com/sijunhe", "followers_url": "https://api.github.com/users/sijunhe/followers", "following_url": "https://api.github.com/users/sijunhe/following{/other_user}", "gists_url": "https://api.github.com/users/sijunhe/gists{/gist_id}", "starred_url": "https://api.github.com/users/sijunhe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sijunhe/subscriptions", "organizations_url": "https://api.github.com/users/sijunhe/orgs", "repos_url": "https://api.github.com/users/sijunhe/repos", "events_url": "https://api.github.com/users/sijunhe/events{/privacy}", "received_events_url": "https://api.github.com/users/sijunhe/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2023-02-17T07:52:58Z", "updated_at": "2023-02-17T12:28:47Z", "closed_at": "2023-02-17T12:28:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\n\n```Markdown\n- paddlepaddle:\r\n- paddlepaddle-gpu: 2.4.1.post112\r\n- paddlenlp: 2.5.0\n```\n\n\n### \u91cd\u590d\u95ee\u9898\n\n- [X] I have searched the existing issues\n\n### \u9519\u8bef\u63cf\u8ff0\n\n```Markdown\nImportError: cannot import name 'str2bool' from 'utils' (/home/aistudio/uie/utils.py)\r\nutils.py\u6587\u4ef6\u4e2d\u4e0d\u5b58\u5728'str2bool'\u51fd\u6570\n```\n\n\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\n\npython doccano.py \\\r\n    --doccano_file ./data/doccano_ext.json \\\r\n    --task_type ext \\\r\n    --save_dir ./data \\\r\n    --splits 0.8 0.2 0 \\\r\n    --schema_lang ch", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4859/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4859/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4801", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4801/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4801/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4801/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/4801", "id": 1585119188, "node_id": "I_kwDOFAsknM5eev_U", "number": 4801, "title": "[Bug]: ocr_process.py ocr\u7ed3\u679c\u5904\u7406\u5f02\u5e38", "user": {"login": "DayTimeDreamer", "id": 20766940, "node_id": "MDQ6VXNlcjIwNzY2OTQw", "avatar_url": "https://avatars.githubusercontent.com/u/20766940?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DayTimeDreamer", "html_url": "https://github.com/DayTimeDreamer", "followers_url": "https://api.github.com/users/DayTimeDreamer/followers", "following_url": "https://api.github.com/users/DayTimeDreamer/following{/other_user}", "gists_url": "https://api.github.com/users/DayTimeDreamer/gists{/gist_id}", "starred_url": "https://api.github.com/users/DayTimeDreamer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DayTimeDreamer/subscriptions", "organizations_url": "https://api.github.com/users/DayTimeDreamer/orgs", "repos_url": "https://api.github.com/users/DayTimeDreamer/repos", "events_url": "https://api.github.com/users/DayTimeDreamer/events{/privacy}", "received_events_url": "https://api.github.com/users/DayTimeDreamer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "1649759610", "id": 35913314, "node_id": "MDQ6VXNlcjM1OTEzMzE0", "avatar_url": "https://avatars.githubusercontent.com/u/35913314?v=4", "gravatar_id": "", "url": "https://api.github.com/users/1649759610", "html_url": "https://github.com/1649759610", "followers_url": "https://api.github.com/users/1649759610/followers", "following_url": "https://api.github.com/users/1649759610/following{/other_user}", "gists_url": "https://api.github.com/users/1649759610/gists{/gist_id}", "starred_url": "https://api.github.com/users/1649759610/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/1649759610/subscriptions", "organizations_url": "https://api.github.com/users/1649759610/orgs", "repos_url": "https://api.github.com/users/1649759610/repos", "events_url": "https://api.github.com/users/1649759610/events{/privacy}", "received_events_url": "https://api.github.com/users/1649759610/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "1649759610", "id": 35913314, "node_id": "MDQ6VXNlcjM1OTEzMzE0", "avatar_url": "https://avatars.githubusercontent.com/u/35913314?v=4", "gravatar_id": "", "url": "https://api.github.com/users/1649759610", "html_url": "https://github.com/1649759610", "followers_url": "https://api.github.com/users/1649759610/followers", "following_url": "https://api.github.com/users/1649759610/following{/other_user}", "gists_url": "https://api.github.com/users/1649759610/gists{/gist_id}", "starred_url": "https://api.github.com/users/1649759610/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/1649759610/subscriptions", "organizations_url": "https://api.github.com/users/1649759610/orgs", "repos_url": "https://api.github.com/users/1649759610/repos", "events_url": "https://api.github.com/users/1649759610/events{/privacy}", "received_events_url": "https://api.github.com/users/1649759610/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2023-02-15T02:45:23Z", "updated_at": "2023-02-21T03:32:47Z", "closed_at": "2023-02-21T03:32:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\n\n```Markdown\n- paddlepaddle:\r\n- paddlepaddle-gpu: 2.4.1\r\n- paddlenlp: 2.5.0\n```\n\n\n### \u91cd\u590d\u95ee\u9898\n\n- [X] I have searched the existing issues\n\n### \u9519\u8bef\u63cf\u8ff0\n\n```Markdown\nTraceback (most recent call last):\r\n  File \"/home/zhengzhenhong/paddlenlp/applications/document_intelligence/doc_vqa/OCR_process/ocr_process.py\", line 277, in <module>\r\n    process_input(ocr_results, tokenizer, save_path)\r\n  File \"/home/zhengzhenhong/paddlenlp/applications/document_intelligence/doc_vqa/OCR_process/ocr_process.py\", line 240, in process_input\r\n    ocr_reses = tokenize_ocr_res(ocr_reses)\r\n  File \"/home/zhengzhenhong/paddlenlp/applications/document_intelligence/doc_vqa/OCR_process/ocr_process.py\", line 203, in tokenize_ocr_res\r\n    x_min, y_min = [int(min(idx)) for idx in zip(*text_box)]\r\n  File \"/home/zhengzhenhong/paddlenlp/applications/document_intelligence/doc_vqa/OCR_process/ocr_process.py\", line 203, in <listcomp>\r\n    x_min, y_min = [int(min(idx)) for idx in zip(*text_box)]\r\nTypeError: '<' not supported between instances of 'str' and 'list'\r\n\r\n\u4ee5\u4e0b\u662fpara\u7684\u6253\u5370\u6570\u636e\uff1a\r\n{'text': [[288.0, 303.0], [638.0, 303.0], [638.0, 382.0], [288.0, 382.0]], 'bbox': [[[2530.0, 105.0], [2654.0, 105.0], [2654.0, 171.0], [2530.0, 171.0]], ('\u89e3\u9501', 0.993677020072937)]}\n```\n\n\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\n\ncd OCR_process/\r\npython3 ocr_process.py\r\ncd ..", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4801/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4801/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4777", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4777/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4777/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4777/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/4777", "id": 1582092016, "node_id": "I_kwDOFAsknM5eTM7w", "number": 4777, "title": "[Bug]: Zero-shot\u6587\u672c\u5206\u7c7b_postprocess\u51fd\u6570\u5bf9\u6570\u5b57\u7c7b\u578b\u53d8\u91cf\u8fdb\u884c\u5faa\u73af", "user": {"login": "SakigamiYang", "id": 15279135, "node_id": "MDQ6VXNlcjE1Mjc5MTM1", "avatar_url": "https://avatars.githubusercontent.com/u/15279135?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SakigamiYang", "html_url": "https://github.com/SakigamiYang", "followers_url": "https://api.github.com/users/SakigamiYang/followers", "following_url": "https://api.github.com/users/SakigamiYang/following{/other_user}", "gists_url": "https://api.github.com/users/SakigamiYang/gists{/gist_id}", "starred_url": "https://api.github.com/users/SakigamiYang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SakigamiYang/subscriptions", "organizations_url": "https://api.github.com/users/SakigamiYang/orgs", "repos_url": "https://api.github.com/users/SakigamiYang/repos", "events_url": "https://api.github.com/users/SakigamiYang/events{/privacy}", "received_events_url": "https://api.github.com/users/SakigamiYang/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4880074605, "node_id": "LA_kwDOFAsknM8AAAABIuAHbQ", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/triage", "name": "triage", "color": "8F57AB", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-02-13T10:36:54Z", "updated_at": "2023-02-13T10:42:53Z", "closed_at": "2023-02-13T10:42:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\n\n```Markdown\n- paddlepaddle: 2.5.0\r\n- paddlenlp: 2.2.0\n```\n\n\n### \u91cd\u590d\u95ee\u9898\n\n- [X] I have searched the existing issues\n\n### \u9519\u8bef\u63cf\u8ff0\n\n```Markdown\n\u4ee3\u7801\uff1apaddlenlp/taskflow/zero_shot_text_classification.py\r\n\u51fd\u6570\uff1a_postprocess\r\n\r\n\r\nfor logits in inputs[\"batch_logits\"]:\r\n            scores = self.sigmoid(np.array(logits))\r\n            output = {}\r\n            output[\"predictions\"] = []\r\n            for i, class_score in enumerate(scores[0]):   <-- \u8fd9\u91cc\u4e0d\u5e94\u8be5\u6709 [0]\r\n                if class_score > self._pred_threshold:\r\n                    output[\"predictions\"].append({\"label\": i, \"score\": class_score})\r\n            outputs.append(output)\r\n```\n```\n\n\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\n\n# \u4f60README\u4e0a\u7684\u4f8b\u5b50\u90fd\u8dd1\u4e0d\u8fc7\u53bb\r\nfrom pprint import pprint\r\n\r\nfrom paddlenlp import Taskflow\r\n\r\nschema = [\"\u623f\u95f4\u6e05\u6d01\", \"\u623f\u95f4\u80ae\u810f\"]\r\nmy_cls = Taskflow(\"zero_shot_text_classification\",\r\n                  model=\"utc-large\",\r\n                  task_path=\"./models/utc-large\",\r\n                  schema=schema,\r\n                  precision=\"fp16\",\r\n                  pred_threshold=0.0)\r\npprint(my_cls(\"\u623f\u95f4\u5f88\u5e72\u51c0\uff0c\u633a\u597d\u7684\"))\r\n", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4777/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4777/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4760", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4760/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4760/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4760/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/4760", "id": 1581523066, "node_id": "I_kwDOFAsknM5eRCB6", "number": 4760, "title": "[Bug]: Cannot load cudnn shared library. Cannot invoke method cudnnGetVersion", "user": {"login": "jiweizhangxu", "id": 88191580, "node_id": "MDQ6VXNlcjg4MTkxNTgw", "avatar_url": "https://avatars.githubusercontent.com/u/88191580?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jiweizhangxu", "html_url": "https://github.com/jiweizhangxu", "followers_url": "https://api.github.com/users/jiweizhangxu/followers", "following_url": "https://api.github.com/users/jiweizhangxu/following{/other_user}", "gists_url": "https://api.github.com/users/jiweizhangxu/gists{/gist_id}", "starred_url": "https://api.github.com/users/jiweizhangxu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jiweizhangxu/subscriptions", "organizations_url": "https://api.github.com/users/jiweizhangxu/orgs", "repos_url": "https://api.github.com/users/jiweizhangxu/repos", "events_url": "https://api.github.com/users/jiweizhangxu/events{/privacy}", "received_events_url": "https://api.github.com/users/jiweizhangxu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4880074605, "node_id": "LA_kwDOFAsknM8AAAABIuAHbQ", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/triage", "name": "triage", "color": "8F57AB", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "linjieccc", "id": 40840292, "node_id": "MDQ6VXNlcjQwODQwMjky", "avatar_url": "https://avatars.githubusercontent.com/u/40840292?v=4", "gravatar_id": "", "url": "https://api.github.com/users/linjieccc", "html_url": "https://github.com/linjieccc", "followers_url": "https://api.github.com/users/linjieccc/followers", "following_url": "https://api.github.com/users/linjieccc/following{/other_user}", "gists_url": "https://api.github.com/users/linjieccc/gists{/gist_id}", "starred_url": "https://api.github.com/users/linjieccc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/linjieccc/subscriptions", "organizations_url": "https://api.github.com/users/linjieccc/orgs", "repos_url": "https://api.github.com/users/linjieccc/repos", "events_url": "https://api.github.com/users/linjieccc/events{/privacy}", "received_events_url": "https://api.github.com/users/linjieccc/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "linjieccc", "id": 40840292, "node_id": "MDQ6VXNlcjQwODQwMjky", "avatar_url": "https://avatars.githubusercontent.com/u/40840292?v=4", "gravatar_id": "", "url": "https://api.github.com/users/linjieccc", "html_url": "https://github.com/linjieccc", "followers_url": "https://api.github.com/users/linjieccc/followers", "following_url": "https://api.github.com/users/linjieccc/following{/other_user}", "gists_url": "https://api.github.com/users/linjieccc/gists{/gist_id}", "starred_url": "https://api.github.com/users/linjieccc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/linjieccc/subscriptions", "organizations_url": "https://api.github.com/users/linjieccc/orgs", "repos_url": "https://api.github.com/users/linjieccc/repos", "events_url": "https://api.github.com/users/linjieccc/events{/privacy}", "received_events_url": "https://api.github.com/users/linjieccc/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 7, "created_at": "2023-02-13T02:12:23Z", "updated_at": "2023-02-14T10:39:26Z", "closed_at": "2023-02-14T10:39:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\n\n```Markdown\n- paddlepaddle:\u65e0\r\n- paddlepaddle-gpu: 2.4.1\r\n- paddlenlp: 2.5.0\n```\n\n\n### \u91cd\u590d\u95ee\u9898\n\n- [X] I have searched the existing issues\n\n### \u9519\u8bef\u63cf\u8ff0\n\n```Markdown\n\u4e4b\u524d\u90fd\u80fd\u7528GPU\u8bad\u7ec3UIE\uff0c\u4f7f\u7528\u65b0\u7248\u672c\u540e\u7a81\u7136\u62a5\u9519cudnn\u7684\u9519\u8bef\uff0c\u5c1d\u8bd5\u91cd\u65b0\u914dcudnn\u65e0\u6548\uff0c\u6267\u884cpaddle.utils.run_check()\u5982\u4e0b\uff1a\n```\n\n\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\n\n![issue_1](https://user-images.githubusercontent.com/88191580/218355163-154138e9-051a-4537-ba50-3bcc1dd6274c.png)\r\n![issue_2](https://user-images.githubusercontent.com/88191580/218355165-966ee3c3-c2d6-4593-ada0-875cadc34d18.png)\r\n", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4760/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4760/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4748", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4748/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4748/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4748/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/4748", "id": 1579277069, "node_id": "I_kwDOFAsknM5eIdsN", "number": 4748, "title": "[Bug]:  AutoModel \u65e0\u6cd5\u6b63\u786e\u52a0\u8f7d\u7531 `from_pretrained` \u4fdd\u5b58\u7684 Config", "user": {"login": "LemonNoel", "id": 25607475, "node_id": "MDQ6VXNlcjI1NjA3NDc1", "avatar_url": "https://avatars.githubusercontent.com/u/25607475?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LemonNoel", "html_url": "https://github.com/LemonNoel", "followers_url": "https://api.github.com/users/LemonNoel/followers", "following_url": "https://api.github.com/users/LemonNoel/following{/other_user}", "gists_url": "https://api.github.com/users/LemonNoel/gists{/gist_id}", "starred_url": "https://api.github.com/users/LemonNoel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LemonNoel/subscriptions", "organizations_url": "https://api.github.com/users/LemonNoel/orgs", "repos_url": "https://api.github.com/users/LemonNoel/repos", "events_url": "https://api.github.com/users/LemonNoel/events{/privacy}", "received_events_url": "https://api.github.com/users/LemonNoel/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "sijunhe", "id": 11987277, "node_id": "MDQ6VXNlcjExOTg3Mjc3", "avatar_url": "https://avatars.githubusercontent.com/u/11987277?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sijunhe", "html_url": "https://github.com/sijunhe", "followers_url": "https://api.github.com/users/sijunhe/followers", "following_url": "https://api.github.com/users/sijunhe/following{/other_user}", "gists_url": "https://api.github.com/users/sijunhe/gists{/gist_id}", "starred_url": "https://api.github.com/users/sijunhe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sijunhe/subscriptions", "organizations_url": "https://api.github.com/users/sijunhe/orgs", "repos_url": "https://api.github.com/users/sijunhe/repos", "events_url": "https://api.github.com/users/sijunhe/events{/privacy}", "received_events_url": "https://api.github.com/users/sijunhe/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sijunhe", "id": 11987277, "node_id": "MDQ6VXNlcjExOTg3Mjc3", "avatar_url": "https://avatars.githubusercontent.com/u/11987277?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sijunhe", "html_url": "https://github.com/sijunhe", "followers_url": "https://api.github.com/users/sijunhe/followers", "following_url": "https://api.github.com/users/sijunhe/following{/other_user}", "gists_url": "https://api.github.com/users/sijunhe/gists{/gist_id}", "starred_url": "https://api.github.com/users/sijunhe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sijunhe/subscriptions", "organizations_url": "https://api.github.com/users/sijunhe/orgs", "repos_url": "https://api.github.com/users/sijunhe/repos", "events_url": "https://api.github.com/users/sijunhe/events{/privacy}", "received_events_url": "https://api.github.com/users/sijunhe/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2023-02-10T08:53:12Z", "updated_at": "2023-02-13T06:33:02Z", "closed_at": "2023-02-13T06:33:02Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\r\n\r\n```Markdown\r\n- paddlepaddle: None\r\n- paddlepaddle-gpu: 2.4.1(develop)\r\n- paddlenlp: 2.5.0(develop)\r\n```\r\n\r\n\r\n### \u91cd\u590d\u95ee\u9898\r\n\r\n- [X] I have searched the existing issues\r\n\r\n### \u9519\u8bef\u63cf\u8ff0\r\n\r\n```Markdown\r\nAutoModel \u52a0\u8f7d\u4f7f\u7528 `from_pretrained` \u4e0b\u8f7d\u4fdd\u5b58\u7684 Config\uff0c\u7f3a\u5c11 `init_class` \u53c2\u6570\uff0c\u540c\u65f6\u6ca1\u6709\u660e\u786e\u7684\u62a5\u9519\u63d0\u793a\u3002\r\n```\r\n\r\n\r\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\r\n\r\n```python\r\nfrom paddlenlp.transformers import AutoModelForMaskedLM\r\n\r\nmodel = AutoModelForMaskedLM.from_pretrained(\"ernie-3.0-base-zh\")\r\nmodel = AutoModelForMaskedLM.from_pretrained(\"~/.paddlenlp/models/ernie-3.0-base-zh\")\r\n```\r\n\r\n```text\r\n# \u62a5\u9519\u65e5\u5fd7\r\n\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/ssd2/debug/PaddleNLP/paddlenlp/transformers/auto/modeling.py\", line 757, in from_pretrained\r\n    return cls._from_pretrained(pretrained_model_name_or_path, *model_args, **kwargs)\r\n  File \"/ssd2/debug/PaddleNLP/paddlenlp/transformers/auto/modeling.py\", line 316, in _from_pretrained\r\n    model_class = cls._get_model_class_from_config(pretrained_model_name_or_path, config_file)\r\n  File \"/ssd2/debug/PaddleNLP/paddlenlp/transformers/auto/modeling.py\", line 209, in _get_model_class_from_config\r\n    init_class = init_class[:-5] if init_class.endswith(\"Model\") else init_class\r\nAttributeError: 'NoneType' object has no attribute 'endswith'\r\n```", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4748/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4748/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4738", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4738/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4738/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4738/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/4738", "id": 1579072913, "node_id": "I_kwDOFAsknM5eHr2R", "number": 4738, "title": "[Bug]: FileNotFoundError: configuration file<config.json> or <model_config.json> not found", "user": {"login": "gcr1992", "id": 14836627, "node_id": "MDQ6VXNlcjE0ODM2NjI3", "avatar_url": "https://avatars.githubusercontent.com/u/14836627?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gcr1992", "html_url": "https://github.com/gcr1992", "followers_url": "https://api.github.com/users/gcr1992/followers", "following_url": "https://api.github.com/users/gcr1992/following{/other_user}", "gists_url": "https://api.github.com/users/gcr1992/gists{/gist_id}", "starred_url": "https://api.github.com/users/gcr1992/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gcr1992/subscriptions", "organizations_url": "https://api.github.com/users/gcr1992/orgs", "repos_url": "https://api.github.com/users/gcr1992/repos", "events_url": "https://api.github.com/users/gcr1992/events{/privacy}", "received_events_url": "https://api.github.com/users/gcr1992/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "gongel", "id": 24390500, "node_id": "MDQ6VXNlcjI0MzkwNTAw", "avatar_url": "https://avatars.githubusercontent.com/u/24390500?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gongel", "html_url": "https://github.com/gongel", "followers_url": "https://api.github.com/users/gongel/followers", "following_url": "https://api.github.com/users/gongel/following{/other_user}", "gists_url": "https://api.github.com/users/gongel/gists{/gist_id}", "starred_url": "https://api.github.com/users/gongel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gongel/subscriptions", "organizations_url": "https://api.github.com/users/gongel/orgs", "repos_url": "https://api.github.com/users/gongel/repos", "events_url": "https://api.github.com/users/gongel/events{/privacy}", "received_events_url": "https://api.github.com/users/gongel/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gongel", "id": 24390500, "node_id": "MDQ6VXNlcjI0MzkwNTAw", "avatar_url": "https://avatars.githubusercontent.com/u/24390500?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gongel", "html_url": "https://github.com/gongel", "followers_url": "https://api.github.com/users/gongel/followers", "following_url": "https://api.github.com/users/gongel/following{/other_user}", "gists_url": "https://api.github.com/users/gongel/gists{/gist_id}", "starred_url": "https://api.github.com/users/gongel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gongel/subscriptions", "organizations_url": "https://api.github.com/users/gongel/orgs", "repos_url": "https://api.github.com/users/gongel/repos", "events_url": "https://api.github.com/users/gongel/events{/privacy}", "received_events_url": "https://api.github.com/users/gongel/received_events", "type": "User", "site_admin": false}, {"login": "JunnYu", "id": 50394665, "node_id": "MDQ6VXNlcjUwMzk0NjY1", "avatar_url": "https://avatars.githubusercontent.com/u/50394665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JunnYu", "html_url": "https://github.com/JunnYu", "followers_url": "https://api.github.com/users/JunnYu/followers", "following_url": "https://api.github.com/users/JunnYu/following{/other_user}", "gists_url": "https://api.github.com/users/JunnYu/gists{/gist_id}", "starred_url": "https://api.github.com/users/JunnYu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JunnYu/subscriptions", "organizations_url": "https://api.github.com/users/JunnYu/orgs", "repos_url": "https://api.github.com/users/JunnYu/repos", "events_url": "https://api.github.com/users/JunnYu/events{/privacy}", "received_events_url": "https://api.github.com/users/JunnYu/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 10, "created_at": "2023-02-10T06:32:49Z", "updated_at": "2023-03-11T16:10:19Z", "closed_at": "2023-02-14T08:51:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\n\n```Markdown\n- paddlepaddle:\r\n- paddlepaddle-gpu: 2.3.2.post111\r\n- paddlenlp:  2.5.0.post0   2.5.0 \u90fd\u8bd5\u8fc7\n```\n\n\n### \u91cd\u590d\u95ee\u9898\n\n- [X] I have searched the existing issues\n\n### \u9519\u8bef\u63cf\u8ff0\n\n```Markdown\nhttps://github.com/PaddlePaddle/PaddleNLP/tree/develop/examples/code_generation/codegen\r\n\r\n\u8bd5\u7528PaddleNLP codegen\uff0c\u5b89\u88c5\u4e4b\u540e\uff0c\u901a\u8fc7\u4ee3\u7801\u8fdb\u884c\u6d4b\u8bd5\uff0c\u4e00\u76f4\u63d0\u793aFileNotFoundError: configuration file<config.json> or <model_config.json> not found\uff0c\u5c1d\u8bd5\u8fc7\u5b89\u88c5paddlenlp:  2.5.0.post0 2.5.0 \r\n\r\n\u8ddf\u8e2a\u8fc7\u6e90\u7801\uff0ccode_generation.py \r\nself._construct_tokenizer(model) \u53ef\u4ee5\u6b63\u5e38\u4e0b\u8f7d\r\nself._construct_model(model)  \u4e0b\u8f7d\u4e0d\u4e86\u914d\u7f6e\u6587\u4ef6\r\n\r\n'https://bj.bcebos.com/paddlenlp/models/community/Salesforce/codegen-350M-mono/config.json'\r\n'https://bj.bcebos.com/paddlenlp/models/community/Salesforce/codegen-350M-mono/model_config.json'\n```\n\n\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\n\n1.\u5b89\u88c5\r\n\uff081\uff09\u4ecehttps://github.com/PaddlePaddle/PaddleNLP\u4e0b\u8f7d develop \u6216\u8005 v2.5.0 \u5230\u672c\u5730window10\u673a\u5668\r\n\uff082\uff09pip uninstall -y paddlenlp\r\n\uff083\uff09\u8fdb\u5165 PaddleNLP\u89e3\u538b\u76ee\u5f55 \u6267\u884c python setup.py install\r\n2.\u4ee3\u7801\u6d4b\u8bd5\r\nfrom paddlenlp import Taskflow\r\nprompt = \"def lengthOfLongestSubstring(self, s: str) -> int:\"\r\ncodegen = Taskflow(\"code_generation\", model=\"Salesforce/codegen-350M-mono\",decode_strategy=\"greedy_search\", repetition_penalty=1.0)\r\nprint(codegen(prompt))\r\n\r\n3.\u7ed3\u679c\u65e5\u5fd7\uff1a\r\n\r\nD:\\Program Files\\Python37\\lib\\site-packages\\_distutils_hack\\__init__.py:33: UserWarning: Setuptools is replacing distutils.\r\n  warnings.warn(\"Setuptools is replacing distutils.\")\r\n[2023-02-10 14:12:35,367] [    INFO] - Downloading https://bj.bcebos.com/paddlenlp/models/community//Salesforce/codegen-350M-mono/vocab.json and saved to C:\\Users\\gcr\\.paddlenlp\\models\\Salesforce/codegen-350M-mono\r\n[2023-02-10 14:12:35,512] [    INFO] - Downloading vocab.json from https://bj.bcebos.com/paddlenlp/models/community//Salesforce/codegen-350M-mono/vocab.json\r\n100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 779k/779k [00:01<00:00, 773kB/s]\r\n[2023-02-10 14:12:36,900] [    INFO] - Downloading https://bj.bcebos.com/paddlenlp/models/community//Salesforce/codegen-350M-mono/merges.txt and saved to C:\\Users\\gcr\\.paddlenlp\\models\\Salesforce/codegen-350M-mono\r\n[2023-02-10 14:12:37,069] [    INFO] - Downloading merges.txt from https://bj.bcebos.com/paddlenlp/models/community//Salesforce/codegen-350M-mono/merges.txt\r\n100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 446k/446k [00:00<00:00, 562kB/s]\r\n[2023-02-10 14:12:38,164] [    INFO] - Downloading https://bj.bcebos.com/paddlenlp/models/community//Salesforce/codegen-350M-mono/added_tokens.json and saved to C:\\Users\\gcr\\.paddlenlp\\models\\Salesforce/codegen-350M-mono\r\n[2023-02-10 14:12:38,305] [    INFO] - Downloading added_tokens.json from https://bj.bcebos.com/paddlenlp/models/community//Salesforce/codegen-350M-mono/added_tokens.json\r\n100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 0.98k/0.98k [00:00<?, ?B/s]\r\n[2023-02-10 14:12:38,429] [    INFO] - Downloading https://bj.bcebos.com/paddlenlp/models/community//Salesforce/codegen-350M-mono/special_tokens_map.json and saved to C:\\Users\\gcr\\.paddlenlp\\models\\Salesforce/codegen-350M-mono\r\n[2023-02-10 14:12:38,561] [    INFO] - Downloading special_tokens_map.json from https://bj.bcebos.com/paddlenlp/models/community//Salesforce/codegen-350M-mono/special_tokens_map.json\r\n100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 90.0/90.0 [00:00<?, ?B/s]\r\n[2023-02-10 14:12:38,708] [    INFO] - Downloading https://bj.bcebos.com/paddlenlp/models/community//Salesforce/codegen-350M-mono/tokenizer_config.json and saved to C:\\Users\\gcr\\.paddlenlp\\models\\Salesforce/codegen-350M-mono\r\n[2023-02-10 14:12:38,831] [    INFO] - Downloading tokenizer_config.json from https://bj.bcebos.com/paddlenlp/models/community//Salesforce/codegen-350M-mono/tokenizer_config.json\r\n100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 177/177 [00:00<?, ?B/s] \r\n[2023-02-10 14:12:39,008] [    INFO] - Adding                                 to the vocabulary\r\n[2023-02-10 14:12:39,008] [    INFO] - Adding                                to the vocabulary\r\n[2023-02-10 14:12:39,008] [    INFO] - Adding                               to the vocabulary\r\n[2023-02-10 14:12:39,008] [    INFO] - Adding                              to the vocabulary\r\n[2023-02-10 14:12:39,008] [    INFO] - Adding                             to the vocabulary\r\n[2023-02-10 14:12:39,008] [    INFO] - Adding                            to the vocabulary\r\n[2023-02-10 14:12:39,008] [    INFO] - Adding                           to the vocabulary\r\n[2023-02-10 14:12:39,008] [    INFO] - Adding                          to the vocabulary\r\n[2023-02-10 14:12:39,008] [    INFO] - Adding                         to the vocabulary\r\n[2023-02-10 14:12:39,008] [    INFO] - Adding                        to the vocabulary\r\n[2023-02-10 14:12:39,024] [    INFO] - Adding                       to the vocabulary\r\n[2023-02-10 14:12:39,024] [    INFO] - Adding                      to the vocabulary\r\n[2023-02-10 14:12:39,024] [    INFO] - Adding                     to the vocabulary\r\n[2023-02-10 14:12:39,024] [    INFO] - Adding                    to the vocabulary\r\n[2023-02-10 14:12:39,024] [    INFO] - Adding                   to the vocabulary\r\n[2023-02-10 14:12:39,024] [    INFO] - Adding                  to the vocabulary\r\n[2023-02-10 14:12:39,024] [    INFO] - Adding                 to the vocabulary\r\n[2023-02-10 14:12:39,024] [    INFO] - Adding                to the vocabulary\r\n[2023-02-10 14:12:39,024] [    INFO] - Adding               to the vocabulary\r\n[2023-02-10 14:12:39,024] [    INFO] - Adding              to the vocabulary\r\n[2023-02-10 14:12:39,024] [    INFO] - Adding             to the vocabulary\r\n[2023-02-10 14:12:39,024] [    INFO] - Adding            to the vocabulary\r\n[2023-02-10 14:12:39,024] [    INFO] - Adding           to the vocabulary\r\n[2023-02-10 14:12:39,024] [    INFO] - Adding          to the vocabulary\r\n[2023-02-10 14:12:39,024] [    INFO] - Adding         to the vocabulary\r\n[2023-02-10 14:12:39,024] [    INFO] - Adding        to the vocabulary\r\n[2023-02-10 14:12:39,024] [    INFO] - Adding       to the vocabulary\r\n[2023-02-10 14:12:39,024] [    INFO] - Adding      to the vocabulary\r\n[2023-02-10 14:12:39,024] [    INFO] - Adding     to the vocabulary\r\n[2023-02-10 14:12:39,024] [    INFO] - Adding    to the vocabulary\r\n[2023-02-10 14:12:39,024] [    INFO] - Adding \t\t\t\t\t\t\t\t\t to the vocabulary\r\n[2023-02-10 14:12:39,024] [    INFO] - Adding \t\t\t\t\t\t\t\t to the vocabulary\r\n[2023-02-10 14:12:39,024] [    INFO] - Adding \t\t\t\t\t\t\t to the vocabulary\r\n[2023-02-10 14:12:39,024] [    INFO] - Adding \t\t\t\t\t\t to the vocabulary\r\n[2023-02-10 14:12:39,024] [    INFO] - Adding \t\t\t\t\t to the vocabulary\r\n[2023-02-10 14:12:39,024] [    INFO] - Adding \t\t\t\t to the vocabulary\r\n[2023-02-10 14:12:39,024] [    INFO] - Adding \t\t\t to the vocabulary\r\n[2023-02-10 14:12:39,024] [    INFO] - Adding \t\t to the vocabulary\r\nTraceback (most recent call last):\r\n  File \"F:/pythonProject/rpa/PaddleNLP/testCode.py\", line 6, in <module>\r\n    codegen = Taskflow(\"code_generation\", model=\"Salesforce/codegen-350M-mono\",decode_strategy=\"greedy_search\", repetition_penalty=1.0)\r\n  File \"D:\\Program Files\\Python37\\lib\\site-packages\\paddlenlp\\taskflow\\taskflow.py\", line 591, in __init__\r\n    model=self.model, task=self.task, priority_path=self.priority_path, from_hf_hub=from_hf_hub, **self.kwargs\r\n  File \"D:\\Program Files\\Python37\\lib\\site-packages\\paddlenlp\\taskflow\\code_generation.py\", line 59, in __init__\r\n    self._construct_model(model)\r\n  File \"D:\\Program Files\\Python37\\lib\\site-packages\\paddlenlp\\taskflow\\code_generation.py\", line 65, in _construct_model\r\n    self._model = CodeGenForCausalLM.from_pretrained(model)\r\n  File \"D:\\Program Files\\Python37\\lib\\site-packages\\paddlenlp\\transformers\\model_utils.py\", line 486, in from_pretrained\r\n    pretrained_model_name_or_path, from_hf_hub=from_hf_hub, subfolder=subfolder, *args, **kwargs\r\n  File \"D:\\Program Files\\Python37\\lib\\site-packages\\paddlenlp\\transformers\\model_utils.py\", line 1328, in from_pretrained_v2\r\n    **kwargs,\r\n  File \"D:\\Program Files\\Python37\\lib\\site-packages\\paddlenlp\\transformers\\configuration_utils.py\", line 736, in from_pretrained\r\n    config_dict, kwargs = cls.get_config_dict(pretrained_model_name_or_path, **kwargs)\r\n  File \"D:\\Program Files\\Python37\\lib\\site-packages\\paddlenlp\\transformers\\configuration_utils.py\", line 758, in get_config_dict\r\n    config_dict, kwargs = cls._get_config_dict(pretrained_model_name_or_path, **kwargs)\r\n  File \"D:\\Program Files\\Python37\\lib\\site-packages\\paddlenlp\\transformers\\configuration_utils.py\", line 831, in _get_config_dict\r\n    raise FileNotFoundError(f\"configuration file<{CONFIG_NAME}> or <{LEGACY_CONFIG_NAME}> not found\")\r\nFileNotFoundError: configuration file<config.json> or <model_config.json> not found\r\n", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4738/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4738/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4737", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4737/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4737/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4737/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/4737", "id": 1579017950, "node_id": "I_kwDOFAsknM5eHebe", "number": 4737, "title": "[Bug]: CMake Error: Error in cmake code at", "user": {"login": "ucas010", "id": 50656998, "node_id": "MDQ6VXNlcjUwNjU2OTk4", "avatar_url": "https://avatars.githubusercontent.com/u/50656998?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ucas010", "html_url": "https://github.com/ucas010", "followers_url": "https://api.github.com/users/ucas010/followers", "following_url": "https://api.github.com/users/ucas010/following{/other_user}", "gists_url": "https://api.github.com/users/ucas010/gists{/gist_id}", "starred_url": "https://api.github.com/users/ucas010/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ucas010/subscriptions", "organizations_url": "https://api.github.com/users/ucas010/orgs", "repos_url": "https://api.github.com/users/ucas010/repos", "events_url": "https://api.github.com/users/ucas010/events{/privacy}", "received_events_url": "https://api.github.com/users/ucas010/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4882422102, "node_id": "LA_kwDOFAsknM8AAAABIwPZVg", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/stale", "name": "stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "lugimzzz", "id": 63761690, "node_id": "MDQ6VXNlcjYzNzYxNjkw", "avatar_url": "https://avatars.githubusercontent.com/u/63761690?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lugimzzz", "html_url": "https://github.com/lugimzzz", "followers_url": "https://api.github.com/users/lugimzzz/followers", "following_url": "https://api.github.com/users/lugimzzz/following{/other_user}", "gists_url": "https://api.github.com/users/lugimzzz/gists{/gist_id}", "starred_url": "https://api.github.com/users/lugimzzz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lugimzzz/subscriptions", "organizations_url": "https://api.github.com/users/lugimzzz/orgs", "repos_url": "https://api.github.com/users/lugimzzz/repos", "events_url": "https://api.github.com/users/lugimzzz/events{/privacy}", "received_events_url": "https://api.github.com/users/lugimzzz/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "lugimzzz", "id": 63761690, "node_id": "MDQ6VXNlcjYzNzYxNjkw", "avatar_url": "https://avatars.githubusercontent.com/u/63761690?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lugimzzz", "html_url": "https://github.com/lugimzzz", "followers_url": "https://api.github.com/users/lugimzzz/followers", "following_url": "https://api.github.com/users/lugimzzz/following{/other_user}", "gists_url": "https://api.github.com/users/lugimzzz/gists{/gist_id}", "starred_url": "https://api.github.com/users/lugimzzz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lugimzzz/subscriptions", "organizations_url": "https://api.github.com/users/lugimzzz/orgs", "repos_url": "https://api.github.com/users/lugimzzz/repos", "events_url": "https://api.github.com/users/lugimzzz/events{/privacy}", "received_events_url": "https://api.github.com/users/lugimzzz/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2023-02-10T05:38:45Z", "updated_at": "2023-04-26T00:17:16Z", "closed_at": "2023-04-26T00:17:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\n\n```Markdown\npaddle-bfloat      0.1.7\r\npaddle2onnx        1.0.5\r\npaddlefsl          1.1.0\r\npaddlehub          2.3.1\r\npaddlenlp          2.5.0.post0\r\npaddlepaddle-gpu   2.4.1.post116\n```\n\n\n### \u91cd\u590d\u95ee\u9898\n\n- [X] I have searched the existing issues\n\n### \u9519\u8bef\u63cf\u8ff0\n\n```Markdown\n\u5982\u4e0b\n```\n\n\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\n\n>>> from paddlenlp.dataaug import SentenceBackTranslate\r\n/data/soft/anaconda3/envs/xuuie/lib/python3.9/site-packages/_distutils_hack/__init__.py:33: UserWarning: Setuptools is replacing distutils.\r\n  warnings.warn(\"Setuptools is replacing distutils.\")\r\n>>> import paddle\r\n>>> # \u5efa\u8bae\u5728\u5728GPU\u73af\u5883\u4e0b\u8fd0\u884c\r\n>>> paddle.set_device(\"gpu\")\r\nPlace(gpu:0)\r\n\r\n>>> aug = SentenceBackTranslate(src_lang='zh', tgt_lang='en', batch_size=1, max_length=128)\r\n[2023-02-10 13:35:17,571] [    INFO] - We are using <class 'paddlenlp.transformers.mbart.modeling.MBartForConditionalGeneration'> to load 'mbart-large-50-many-to-one-mmt'.\r\n[2023-02-10 13:35:17,572] [    INFO] - Model config MBartConfig {\r\n  \"activation_dropout\": 0.0,\r\n  \"activation_function\": \"relu\",\r\n  \"attention_dropout\": 0.0,\r\n  \"bos_token_id\": 0,\r\n  \"d_model\": 1024,\r\n  \"decoder_attention_heads\": 16,\r\n  \"decoder_ffn_dim\": 4096,\r\n  \"decoder_layers\": 12,\r\n  \"decoder_start_token_id\": 2,\r\n  \"dropout\": 0.1,\r\n  \"encoder_attention_heads\": 16,\r\n  \"encoder_ffn_dim\": 4096,\r\n  \"encoder_layers\": 12,\r\n  \"eos_token_id\": 2,\r\n  \"forced_bos_token_id\": 250004,\r\n  \"forced_eos_token_id\": 2,\r\n  \"init_std\": 0.02,\r\n  \"is_encoder_decoder\": true,\r\n  \"max_position_embeddings\": 1024,\r\n  \"model_type\": \"mbart\",\r\n  \"pad_token_id\": 1,\r\n  \"paddlenlp_version\": null,\r\n  \"scale_embedding\": true,\r\n  \"vocab_size\": 250054\r\n}\r\n\r\nW0210 13:35:24.933018 84417 gpu_resources.cc:61] Please NOTE: device: 0, GPU Compute Capability: 7.5, Driver API Version: 11.6, Runtime API Version: 11.6\r\nW0210 13:35:24.941478 84417 gpu_resources.cc:91] device: 0, cuDNN Version: 8.7.\r\n[2023-02-10 13:35:42,531] [    INFO] - All model checkpoint weights were used when initializing MBartForConditionalGeneration.\r\n\r\n[2023-02-10 13:35:42,531] [    INFO] - All the weights of MBartForConditionalGeneration were initialized from the model checkpoint at mbart-large-50-many-to-one-mmt.\r\nIf your task is similar to the task the model of the checkpoint was trained on, you can already use MBartForConditionalGeneration for predictions without further training.\r\n[2023-02-10 13:35:42,533] [    INFO] - We are using <class 'paddlenlp.transformers.mbart.modeling.MBartForConditionalGeneration'> to load 'mbart-large-50-one-to-many-mmt'.\r\n[2023-02-10 13:35:42,534] [    INFO] - Model config MBartConfig {\r\n  \"activation_dropout\": 0.0,\r\n  \"activation_function\": \"relu\",\r\n  \"attention_dropout\": 0.0,\r\n  \"bos_token_id\": 0,\r\n  \"d_model\": 1024,\r\n  \"decoder_attention_heads\": 16,\r\n  \"decoder_ffn_dim\": 4096,\r\n  \"decoder_layers\": 12,\r\n  \"decoder_start_token_id\": 2,\r\n  \"dropout\": 0.1,\r\n  \"encoder_attention_heads\": 16,\r\n  \"encoder_ffn_dim\": 4096,\r\n  \"encoder_layers\": 12,\r\n  \"eos_token_id\": 2,\r\n  \"forced_eos_token_id\": 2,\r\n  \"init_std\": 0.02,\r\n  \"is_encoder_decoder\": true,\r\n  \"max_position_embeddings\": 1024,\r\n  \"model_type\": \"mbart\",\r\n  \"pad_token_id\": 1,\r\n  \"paddlenlp_version\": null,\r\n  \"scale_embedding\": true,\r\n  \"vocab_size\": 250054\r\n}\r\n\r\n[2023-02-10 13:36:05,248] [    INFO] - All model checkpoint weights were used when initializing MBartForConditionalGeneration.\r\n\r\n[2023-02-10 13:36:05,249] [    INFO] - All the weights of MBartForConditionalGeneration were initialized from the model checkpoint at mbart-large-50-one-to-many-mmt.\r\nIf your task is similar to the task the model of the checkpoint was trained on, you can already use MBartForConditionalGeneration for predictions without further training.\r\n[2023-02-10 13:36:05,255] [    INFO] - We are using <class 'paddlenlp.transformers.mbart.tokenizer.MBart50Tokenizer'> to load 'mbart-large-50-many-to-one-mmt'.\r\n[2023-02-10 13:36:05,255] [    INFO] - Already cached /root/.paddlenlp/models/mbart-large-50-many-to-one-mmt/mbart-large-50-many-to-one-mmt.sentencepiece.bpe.model\r\n[2023-02-10 13:36:05,894] [    INFO] - tokenizer config file saved in /root/.paddlenlp/models/mbart-large-50-many-to-one-mmt/tokenizer_config.json\r\n[2023-02-10 13:36:05,895] [    INFO] - Special tokens file saved in /root/.paddlenlp/models/mbart-large-50-many-to-one-mmt/special_tokens_map.json\r\n[2023-02-10 13:36:05,901] [    INFO] - We are using <class 'paddlenlp.transformers.mbart.tokenizer.MBart50Tokenizer'> to load 'mbart-large-50-one-to-many-mmt'.\r\n[2023-02-10 13:36:05,902] [    INFO] - Already cached /root/.paddlenlp/models/mbart-large-50-one-to-many-mmt/mbart-large-50-one-to-many-mmt.sentencepiece.bpe.model\r\n[2023-02-10 13:36:06,533] [    INFO] - tokenizer config file saved in /root/.paddlenlp/models/mbart-large-50-one-to-many-mmt/tokenizer_config.json\r\n[2023-02-10 13:36:06,533] [    INFO] - Special tokens file saved in /root/.paddlenlp/models/mbart-large-50-one-to-many-mmt/special_tokens_map.json\r\ns=[\"\u597d\u597d\u5b66\u4e60\",\"\u5929\u5929\u4eab\u53d7\",\"\u52aa\u529b\u594b\u6597\",\"\u5927\u5c55\u5b8f\u56fe\"]\r\n>>> augmented = aug.augment(s)\r\n[2023-02-10 13:36:16,660] [ WARNING] - `use_faster` will be deprecated in near future. Please use `use_fast` instead. \r\n[2023-02-10 13:36:16,660] [ WARNING] - Accessing `bos_token_id` through `model.bos_token_id` will be deprecated after v2.6.0. Instead, do `model.config.bos_token_id`\r\n[2023-02-10 13:36:16,660] [ WARNING] - Accessing `eos_token_id` through `model.eos_token_id` will be deprecated after v2.6.0. Instead, do `model.config.eos_token_id`\r\n[2023-02-10 13:36:16,660] [ WARNING] - Accessing `pad_token_id` through `model.pad_token_id` will be deprecated after v2.6.0. Instead, do `model.config.pad_token_id`\r\n[2023-02-10 13:36:16,660] [ WARNING] - Accessing `forced_eos_token_id` through `model.forced_eos_token_id` will be deprecated after v2.6.0. Instead, do `model.config.forced_eos_token_id`\r\n[2023-02-10 13:36:16,661] [ WARNING] - Accessing `decoder_start_token_id` through `model.decoder_start_token_id` will be deprecated after v2.6.0. Instead, do `model.config.decoder_start_token_id`\r\n[2023-02-10 13:36:16,661] [ WARNING] - Accessing `no_repeat_ngram_size` through `model.no_repeat_ngram_size` will be deprecated after v2.6.0. Instead, do `model.config.no_repeat_ngram_size`\r\n2023-02-10 13:36:16,746 - INFO - Using Python interpreter: /data/soft/anaconda3/envs/xuuie/bin/python, version: Python 3.9.15\r\n[2023-02-10 13:36:16,746] [    INFO] extension_utils.py:1238 - Using Python interpreter: /data/soft/anaconda3/envs/xuuie/bin/python, version: Python 3.9.15\r\nCompiling user custom op, it will cost a few seconds.....\r\n2023-02-10 13:36:16,746 - INFO - execute command: cd /root/.paddlenlp/extensions/ccee645048289e11125374d31635abf3/FastGeneration && /data/soft/anaconda3/envs/xuuie/bin/python FastGeneration_setup.py build\r\n[2023-02-10 13:36:16,746] [    INFO] extension_utils.py:1238 - execute command: cd /root/.paddlenlp/extensions/ccee645048289e11125374d31635abf3/FastGeneration && /data/soft/anaconda3/envs/xuuie/bin/python FastGeneration_setup.py build\r\nrunning build\r\nrunning build_ext\r\nCMake Error: Error in cmake code at\r\n/data/soft/anaconda3/envs/xuuie/lib/python3.9/site-packages/paddlenlp/ops/CMakeLists.txt:202:\r\nParse error.  Expected a command name, got unquoted argument with text \"]]\".\r\n-- Configuring incomplete, errors occurred!\r\n[2023-02-10 13:36:19,755] [ WARNING] - FastGeneration is not available due to build errors.\r\nTraceback (most recent call last):\r\n  File \"/root/.paddlenlp/extensions/ccee645048289e11125374d31635abf3/FastGeneration/FastGeneration_setup.py\", line 4, in <module>\r\n    setup(\r\n  File \"/data/soft/anaconda3/envs/xuuie/lib/python3.9/site-packages/setuptools/__init__.py\", line 87, in setup\r\n    return distutils.core.setup(**attrs)\r\n  File \"/data/soft/anaconda3/envs/xuuie/lib/python3.9/site-packages/setuptools/_distutils/core.py\", line 185, in setup\r\n    return run_commands(dist)\r\n  File \"/data/soft/anaconda3/envs/xuuie/lib/python3.9/site-packages/setuptools/_distutils/core.py\", line 201, in run_commands\r\n    dist.run_commands()\r\n  File \"/data/soft/anaconda3/envs/xuuie/lib/python3.9/site-packages/setuptools/_distutils/dist.py\", line 968, in run_commands\r\n    self.run_command(cmd)\r\n  File \"/data/soft/anaconda3/envs/xuuie/lib/python3.9/site-packages/setuptools/dist.py\", line 1217, in run_command\r\n    super().run_command(command)\r\n  File \"/data/soft/anaconda3/envs/xuuie/lib/python3.9/site-packages/setuptools/_distutils/dist.py\", line 987, in run_command\r\n    cmd_obj.run()\r\n  File \"/data/soft/anaconda3/envs/xuuie/lib/python3.9/site-packages/setuptools/_distutils/command/build.py\", line 132, in run\r\n    self.run_command(cmd_name)\r\n  File \"/data/soft/anaconda3/envs/xuuie/lib/python3.9/site-packages/setuptools/_distutils/cmd.py\", line 319, in run_command\r\n    self.distribution.run_command(command)\r\n  File \"/data/soft/anaconda3/envs/xuuie/lib/python3.9/site-packages/setuptools/dist.py\", line 1217, in run_command\r\n    super().run_command(command)\r\n  File \"/data/soft/anaconda3/envs/xuuie/lib/python3.9/site-packages/setuptools/_distutils/dist.py\", line 987, in run_command\r\n    cmd_obj.run()\r\n  File \"/data/soft/anaconda3/envs/xuuie/lib/python3.9/site-packages/setuptools/command/build_ext.py\", line 84, in run\r\n    _build_ext.run(self)\r\n  File \"/data/soft/anaconda3/envs/xuuie/lib/python3.9/site-packages/setuptools/_distutils/command/build_ext.py\", line 346, in run\r\n    self.build_extensions()\r\n  File \"/data/soft/anaconda3/envs/xuuie/lib/python3.9/site-packages/paddlenlp/ops/ext_utils.py\", line 198, in build_extensions\r\n    ext.build_with_command(self)\r\n  File \"/data/soft/anaconda3/envs/xuuie/lib/python3.9/site-packages/paddlenlp/ops/ext_utils.py\", line 176, in build_with_command\r\n    raise e\r\n  File \"/data/soft/anaconda3/envs/xuuie/lib/python3.9/site-packages/paddlenlp/ops/ext_utils.py\", line 165, in build_with_command\r\n    super(FasterTransformerExtension, self).build_with_command(ext_builder)\r\n  File \"/data/soft/anaconda3/envs/xuuie/lib/python3.9/site-packages/paddlenlp/ops/ext_utils.py\", line 112, in build_with_command\r\n    subprocess.check_call(\r\n  File \"/data/soft/anaconda3/envs/xuuie/lib/python3.9/subprocess.py\", line 373, in check_call\r\n    raise CalledProcessError(retcode, cmd)\r\nsubprocess.CalledProcessError: Command '['cmake', '/data/soft/anaconda3/envs/xuuie/lib/python3.9/site-packages/paddlenlp/ops', '-DPY_CMD=/data/soft/anaconda3/envs/xuuie/bin/python', '-DWITH_GPT=ON', '-DCMAKE_BUILD_TYPE=Release', '-DCMAKE_LIBRARY_OUTPUT_DIRECTORY=/root/.paddlenlp/extensions/ccee645048289e11125374d31635abf3/FastGeneration']' returned non-zero exit status 1.\r\n[2023-02-10 13:36:20,276] [ WARNING] - Failed to run command: <built-in function compile>, errors: Command 'cd /root/.paddlenlp/extensions/ccee645048289e11125374d31635abf3/FastGeneration && /data/soft/anaconda3/envs/xuuie/bin/python FastGeneration_setup.py build' returned non-zero exit status 1.\r\n[2023-02-10 13:36:20,276] [ WARNING] - FastGeneration is not available, and the original version would be used instead.\r\n[2023-02-10 13:36:22,618] [ WARNING] - `use_faster` will be deprecated in near future. Please use `use_fast` instead. \r\n[2023-02-10 13:36:22,618] [ WARNING] - Accessing `bos_token_id` through `model.bos_token_id` will be deprecated after v2.6.0. Instead, do `model.config.bos_token_id`\r\n[2023-02-10 13:36:22,618] [ WARNING] - Accessing `eos_token_id` through `model.eos_token_id` will be deprecated after v2.6.0. Instead, do `model.config.eos_token_id`\r\n[2023-02-10 13:36:22,618] [ WARNING] - Accessing `pad_token_id` through `model.pad_token_id` will be deprecated after v2.6.0. Instead, do `model.config.pad_token_id`\r\n[2023-02-10 13:36:22,618] [ WARNING] - Accessing `forced_eos_token_id` through `model.forced_eos_token_id` will be deprecated after v2.6.0. Instead, do `model.config.forced_eos_token_id`\r\n[2023-02-10 13:36:22,618] [ WARNING] - Accessing `decoder_start_token_id` through `model.decoder_start_token_id` will be deprecated after v2.6.0. Instead, do `model.config.decoder_start_token_id`\r\n[2023-02-10 13:36:22,618] [ WARNING] - Accessing `no_repeat_ngram_size` through `model.no_repeat_ngram_size` will be deprecated after v2.6.0. Instead, do `model.config.no_repeat_ngram_size`\r\n2023-02-10 13:36:22,725 - INFO - Using Python interpreter: /data/soft/anaconda3/envs/xuuie/bin/python, version: Python 3.9.15\r\n[2023-02-10 13:36:22,725] [    INFO] extension_utils.py:1238 - Using Python interpreter: /data/soft/anaconda3/envs/xuuie/bin/python, version: Python 3.9.15\r\nCompiling user custom op, it will cost a few seconds.....\r\n2023-02-10 13:36:22,725 - INFO - execute command: cd /root/.paddlenlp/extensions/ccee645048289e11125374d31635abf3/FastGeneration && /data/soft/anaconda3/envs/xuuie/bin/python FastGeneration_setup.py build\r\n[2023-02-10 13:36:22,725] [    INFO] extension_utils.py:1238 - execute command: cd /root/.paddlenlp/extensions/ccee645048289e11125374d31635abf3/FastGeneration && /data/soft/anaconda3/envs/xuuie/bin/python FastGeneration_setup.py build\r\nrunning build\r\nrunning build_ext\r\nCMake Error: Error in cmake code at\r\n/data/soft/anaconda3/envs/xuuie/lib/python3.9/site-packages/paddlenlp/ops/CMakeLists.txt:202:\r\nParse error.  Expected a command name, got unquoted argument with text \"]]\".\r\n-- Configuring incomplete, errors occurred!\r\n[2023-02-10 13:36:25,757] [ WARNING] - FastGeneration is not available due to build errors.\r\nTraceback (most recent call last):\r\n  File \"/root/.paddlenlp/extensions/ccee645048289e11125374d31635abf3/FastGeneration/FastGeneration_setup.py\", line 4, in <module>\r\n    setup(\r\n  File \"/data/soft/anaconda3/envs/xuuie/lib/python3.9/site-packages/setuptools/__init__.py\", line 87, in setup\r\n    return distutils.core.setup(**attrs)\r\n  File \"/data/soft/anaconda3/envs/xuuie/lib/python3.9/site-packages/setuptools/_distutils/core.py\", line 185, in setup\r\n    return run_commands(dist)\r\n  File \"/data/soft/anaconda3/envs/xuuie/lib/python3.9/site-packages/setuptools/_distutils/core.py\", line 201, in run_commands\r\n    dist.run_commands()\r\n  File \"/data/soft/anaconda3/envs/xuuie/lib/python3.9/site-packages/setuptools/_distutils/dist.py\", line 968, in run_commands\r\n    self.run_command(cmd)\r\n  File \"/data/soft/anaconda3/envs/xuuie/lib/python3.9/site-packages/setuptools/dist.py\", line 1217, in run_command\r\n    super().run_command(command)\r\n  File \"/data/soft/anaconda3/envs/xuuie/lib/python3.9/site-packages/setuptools/_distutils/dist.py\", line 987, in run_command\r\n    cmd_obj.run()\r\n  File \"/data/soft/anaconda3/envs/xuuie/lib/python3.9/site-packages/setuptools/_distutils/command/build.py\", line 132, in run\r\n    self.run_command(cmd_name)\r\n  File \"/data/soft/anaconda3/envs/xuuie/lib/python3.9/site-packages/setuptools/_distutils/cmd.py\", line 319, in run_command\r\n    self.distribution.run_command(command)\r\n  File \"/data/soft/anaconda3/envs/xuuie/lib/python3.9/site-packages/setuptools/dist.py\", line 1217, in run_command\r\n    super().run_command(command)\r\n  File \"/data/soft/anaconda3/envs/xuuie/lib/python3.9/site-packages/setuptools/_distutils/dist.py\", line 987, in run_command\r\n    cmd_obj.run()\r\n  File \"/data/soft/anaconda3/envs/xuuie/lib/python3.9/site-packages/setuptools/command/build_ext.py\", line 84, in run\r\n    _build_ext.run(self)\r\n  File \"/data/soft/anaconda3/envs/xuuie/lib/python3.9/site-packages/setuptools/_distutils/command/build_ext.py\", line 346, in run\r\n    self.build_extensions()\r\n  File \"/data/soft/anaconda3/envs/xuuie/lib/python3.9/site-packages/paddlenlp/ops/ext_utils.py\", line 198, in build_extensions\r\n    ext.build_with_command(self)\r\n  File \"/data/soft/anaconda3/envs/xuuie/lib/python3.9/site-packages/paddlenlp/ops/ext_utils.py\", line 176, in build_with_command\r\n    raise e\r\n  File \"/data/soft/anaconda3/envs/xuuie/lib/python3.9/site-packages/paddlenlp/ops/ext_utils.py\", line 165, in build_with_command\r\n    super(FasterTransformerExtension, self).build_with_command(ext_builder)\r\n  File \"/data/soft/anaconda3/envs/xuuie/lib/python3.9/site-packages/paddlenlp/ops/ext_utils.py\", line 112, in build_with_command\r\n    subprocess.check_call(\r\n  File \"/data/soft/anaconda3/envs/xuuie/lib/python3.9/subprocess.py\", line 373, in check_call\r\n    raise CalledProcessError(retcode, cmd)\r\nsubprocess.CalledProcessError: Command '['cmake', '/data/soft/anaconda3/envs/xuuie/lib/python3.9/site-packages/paddlenlp/ops', '-DPY_CMD=/data/soft/anaconda3/envs/xuuie/bin/python', '-DWITH_GPT=ON', '-DCMAKE_BUILD_TYPE=Release', '-DCMAKE_LIBRARY_OUTPUT_DIRECTORY=/root/.paddlenlp/extensions/ccee645048289e11125374d31635abf3/FastGeneration']' returned non-zero exit status 1.\r\n[2023-02-10 13:36:26,255] [ WARNING] - Failed to run command: <built-in function compile>, errors: Command 'cd /root/.paddlenlp/extensions/ccee645048289e11125374d31635abf3/FastGeneration && /data/soft/anaconda3/envs/xuuie/bin/python FastGeneration_setup.py build' returned non-zero exit status 1.\r\n[2023-02-10 13:36:26,255] [ WARNING] - FastGeneration is not available, and the original version would be used instead.", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4737/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4737/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4734", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4734/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4734/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4734/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/4734", "id": 1578934944, "node_id": "I_kwDOFAsknM5eHKKg", "number": 4734, "title": "[Bug]: \u5b89\u88c5\u62a5\u9519: module 'cv2' has no attribute 'INTER_NEAREST'", "user": {"login": "puppyjuan", "id": 57520204, "node_id": "MDQ6VXNlcjU3NTIwMjA0", "avatar_url": "https://avatars.githubusercontent.com/u/57520204?v=4", "gravatar_id": "", "url": "https://api.github.com/users/puppyjuan", "html_url": "https://github.com/puppyjuan", "followers_url": "https://api.github.com/users/puppyjuan/followers", "following_url": "https://api.github.com/users/puppyjuan/following{/other_user}", "gists_url": "https://api.github.com/users/puppyjuan/gists{/gist_id}", "starred_url": "https://api.github.com/users/puppyjuan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/puppyjuan/subscriptions", "organizations_url": "https://api.github.com/users/puppyjuan/orgs", "repos_url": "https://api.github.com/users/puppyjuan/repos", "events_url": "https://api.github.com/users/puppyjuan/events{/privacy}", "received_events_url": "https://api.github.com/users/puppyjuan/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4285758027, "node_id": "LA_kwDOFAsknM7_c3pL", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/pipelines", "name": "pipelines", "color": "fbca04", "default": false, "description": ""}, {"id": 4882422102, "node_id": "LA_kwDOFAsknM8AAAABIwPZVg", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/stale", "name": "stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "w5688414", "id": 12107462, "node_id": "MDQ6VXNlcjEyMTA3NDYy", "avatar_url": "https://avatars.githubusercontent.com/u/12107462?v=4", "gravatar_id": "", "url": "https://api.github.com/users/w5688414", "html_url": "https://github.com/w5688414", "followers_url": "https://api.github.com/users/w5688414/followers", "following_url": "https://api.github.com/users/w5688414/following{/other_user}", "gists_url": "https://api.github.com/users/w5688414/gists{/gist_id}", "starred_url": "https://api.github.com/users/w5688414/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/w5688414/subscriptions", "organizations_url": "https://api.github.com/users/w5688414/orgs", "repos_url": "https://api.github.com/users/w5688414/repos", "events_url": "https://api.github.com/users/w5688414/events{/privacy}", "received_events_url": "https://api.github.com/users/w5688414/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "w5688414", "id": 12107462, "node_id": "MDQ6VXNlcjEyMTA3NDYy", "avatar_url": "https://avatars.githubusercontent.com/u/12107462?v=4", "gravatar_id": "", "url": "https://api.github.com/users/w5688414", "html_url": "https://github.com/w5688414", "followers_url": "https://api.github.com/users/w5688414/followers", "following_url": "https://api.github.com/users/w5688414/following{/other_user}", "gists_url": "https://api.github.com/users/w5688414/gists{/gist_id}", "starred_url": "https://api.github.com/users/w5688414/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/w5688414/subscriptions", "organizations_url": "https://api.github.com/users/w5688414/orgs", "repos_url": "https://api.github.com/users/w5688414/repos", "events_url": "https://api.github.com/users/w5688414/events{/privacy}", "received_events_url": "https://api.github.com/users/w5688414/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2023-02-10T03:43:30Z", "updated_at": "2023-04-26T00:17:18Z", "closed_at": "2023-04-26T00:17:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\n\n```Markdown\n- paddlepaddle: \r\n- paddlepaddle-gpu: 2.4.1.post117\r\n- paddlenlp: \r\npython=3.8\n```\n\n\n### \u91cd\u590d\u95ee\u9898\n\n- [X] I have searched the existing issues\n\n### \u9519\u8bef\u63cf\u8ff0\n\n```Markdown\n\u6309\u7167WINDOWS\u73af\u5883\u4e0b\u642d\u5efa\u7aef\u5230\u7aef\u8bed\u4e49\u68c0\u7d22\u7cfb\u7edf\u6b65\u9aa4\u6267\u884c\u5230 python utils/offline_ann.py --index_name dureader_robust_query_encoder --doc_dir data/dureader_dev\u62a5\u9519\uff1a\r\n\r\nC:\\anaconda3\\lib\\site-packages\\pandas\\core\\computation\\expressions.py:20: UserWarning: Pandas requires version '2.7.3' or newer of 'numexpr' (version '2.7.1' currently installed).\r\n  from pandas.core.computation.check import NUMEXPR_INSTALLED\r\nC:\\anaconda3\\lib\\site-packages\\setuptools\\distutils_patch.py:25: UserWarning: Distutils was imported before Setuptools. This usage is discouraged and may exhibit undesirable behaviors or errors. Please use Setuptools' objects directly or at least import Setuptools first.\r\n  warnings.warn(\r\nC:\\anaconda3\\lib\\site-packages\\win32\\lib\\pywintypes.py:2: DeprecationWarning: the imp module is deprecated in favour of importlib; see the module's documentation for alternative uses\r\n  import imp, sys, os\r\nC:\\anaconda3\\lib\\site-packages\\skimage\\morphology\\_skeletonize.py:241: DeprecationWarning: `np.bool` is a deprecated alias for the builtin `bool`. To silence this warning, use `bool` by itself. Doing this will not modify any behavior and is safe. If you specifically wanted the numpy scalar type, use `np.bool_` here.\r\nDeprecated in NumPy 1.20; for more details and guidance: https://numpy.org/devdocs/release/1.20.0-notes.html#deprecations\r\n  0, 1, 1, 0, 0, 1, 0, 0, 0], dtype=np.bool)\r\nC:\\anaconda3\\lib\\site-packages\\skimage\\morphology\\_skeletonize.py:256: DeprecationWarning: `np.bool` is a deprecated alias for the builtin `bool`. To silence this warning, use `bool` by itself. Doing this will not modify any behavior and is safe. If you specifically wanted the numpy scalar type, use `np.bool_` here.\r\nDeprecated in NumPy 1.20; for more details and guidance: https://numpy.org/devdocs/release/1.20.0-notes.html#deprecations\r\n  0, 0, 0, 0, 0, 0, 0, 0, 0], dtype=np.bool)\r\nTraceback (most recent call last):\r\n  File \"utils/offline_ann.py\", line 17, in <module>\r\n    from pipelines.document_stores import ElasticsearchDocumentStore, MilvusDocumentStore\r\n  File \"C:\\anaconda3\\lib\\site-packages\\pipelines\\__init__.py\", line 37, in <module>\r\n    from pipelines import pipelines, utils\r\n  File \"C:\\anaconda3\\lib\\site-packages\\pipelines\\pipelines\\__init__.py\", line 15, in <module>\r\n    from pipelines.pipelines.base import Pipeline, RootNode\r\n  File \"C:\\anaconda3\\lib\\site-packages\\pipelines\\pipelines\\base.py\", line 55, in <module>\r\n    from pipelines.nodes.base import BaseComponent\r\n  File \"C:\\anaconda3\\lib\\site-packages\\pipelines\\nodes\\__init__.py\", line 15, in <module>\r\n    from pipelines.utils.import_utils import safe_import  # isort: skip\r\n  File \"C:\\anaconda3\\lib\\site-packages\\pipelines\\utils\\__init__.py\", line 15, in <module>\r\n    from pipelines.utils.preprocessing import convert_files_to_dicts, tika_convert_files_to_dicts\r\n  File \"C:\\anaconda3\\lib\\site-packages\\pipelines\\utils\\preprocessing.py\", line 21, in <module>\r\n    from pipelines.nodes.file_converter import BaseConverter, DocxToTextConverter, PDFToTextConverter, TextConverter, ImageToTextConverter\r\n  File \"C:\\anaconda3\\lib\\site-packages\\pipelines\\nodes\\file_converter\\__init__.py\", line 23, in <module>\r\n    ImageToTextConverter = safe_import(\"pipelines.nodes.file_converter.image\",\r\n  File \"C:\\anaconda3\\lib\\site-packages\\pipelines\\utils\\import_utils.py\", line 39, in safe_import\r\n    module = importlib.import_module(import_path)\r\n  File \"C:\\anaconda3\\lib\\importlib\\__init__.py\", line 127, in import_module\r\n    return _bootstrap._gcd_import(name[level:], package, level)\r\n  File \"C:\\anaconda3\\lib\\site-packages\\pipelines\\nodes\\file_converter\\image.py\", line 22, in <module>\r\n    from paddleocr import PaddleOCR\r\n  File \"C:\\anaconda3\\lib\\site-packages\\paddleocr\\__init__.py\", line 14, in <module>\r\n    from .paddleocr import *\r\n  File \"C:\\anaconda3\\lib\\site-packages\\paddleocr\\paddleocr.py\", line 37, in <module>\r\n    from tools.infer import predict_system\r\n  File \"C:\\anaconda3\\lib\\site-packages\\paddleocr\\tools\\infer\\predict_system.py\", line 33, in <module>\r\n    import tools.infer.predict_det as predict_det\r\n  File \"C:\\anaconda3\\lib\\site-packages\\paddleocr\\tools\\infer\\predict_det.py\", line 31, in <module>\r\n    from ppocr.data import create_operators, transform\r\n  File \"C:\\anaconda3\\lib\\site-packages\\paddleocr\\ppocr\\data\\__init__.py\", line 35, in <module>\r\n    from ppocr.data.imaug import transform, create_operators\r\n  File \"C:\\anaconda3\\lib\\site-packages\\paddleocr\\ppocr\\data\\imaug\\__init__.py\", line 19, in <module>\r\n    from .iaa_augment import IaaAugment\r\n  File \"C:\\anaconda3\\lib\\site-packages\\paddleocr\\ppocr\\data\\imaug\\iaa_augment.py\", line 24, in <module>\r\n    import imgaug\r\n  File \"C:\\anaconda3\\lib\\site-packages\\imgaug\\__init__.py\", line 7, in <module>\r\n    from imgaug.imgaug import *  # pylint: disable=redefined-builtin\r\n  File \"C:\\anaconda3\\lib\\site-packages\\imgaug\\imgaug.py\", line 53, in <module>\r\n    cv2.INTER_NEAREST, cv2.INTER_LINEAR, cv2.INTER_AREA, cv2.INTER_CUBIC]\r\nAttributeError: module 'cv2' has no attribute 'INTER_NEAREST'\r\n(base) PS C:\\projects\\PaddleNLP-develop\\pipelines>\n```\n\n\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\n\nconda create -n nlp python=3.8\r\nconda activate nlp\r\ngit clone https://github.com/tvst/htbuilder.git\r\ncd htbuilder/\r\npython setup install\r\npython -m pip install paddlepaddle-gpu==2.4.1.post117 -f https://www.paddlepaddle.org.cn/whl/windows/mkl/avx/stable.html\r\ncd ${HOME}/PaddleNLP/pipelines/\r\npip install -r requirements.txt -i https://pypi.tuna.tsinghua.edu.cn/simple\r\npython setup.py install\r\n\u628a\u6587\u4ef6config\\elasticsearch.yml \u91cc\u6dfb\u52a0xpack.security.enabled: false, \u7136\u540e\u76f4\u63a5\u53cc\u51fbbin\u76ee\u5f55\u4e0b\u7684elasticsearch.bat\u5373\u53ef\u542f\u52a8\u3002\r\n\r\n\r\n\u6267\u884c python utils/offline_ann.py --index_name dureader_robust_query_encoder --doc_dir data/dureader_dev\r\n\u62a5\u9519\r\n", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4734/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4734/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4731", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4731/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4731/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4731/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/4731", "id": 1578894822, "node_id": "I_kwDOFAsknM5eHAXm", "number": 4731, "title": "[Bug]: zero shot text classification\u7684taskflow\u79bb\u7ebf\u52a0\u8f7d\u6a21\u578b\u5931\u8d25", "user": {"login": "feng-1985", "id": 8215563, "node_id": "MDQ6VXNlcjgyMTU1NjM=", "avatar_url": "https://avatars.githubusercontent.com/u/8215563?v=4", "gravatar_id": "", "url": "https://api.github.com/users/feng-1985", "html_url": "https://github.com/feng-1985", "followers_url": "https://api.github.com/users/feng-1985/followers", "following_url": "https://api.github.com/users/feng-1985/following{/other_user}", "gists_url": "https://api.github.com/users/feng-1985/gists{/gist_id}", "starred_url": "https://api.github.com/users/feng-1985/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/feng-1985/subscriptions", "organizations_url": "https://api.github.com/users/feng-1985/orgs", "repos_url": "https://api.github.com/users/feng-1985/repos", "events_url": "https://api.github.com/users/feng-1985/events{/privacy}", "received_events_url": "https://api.github.com/users/feng-1985/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "LemonNoel", "id": 25607475, "node_id": "MDQ6VXNlcjI1NjA3NDc1", "avatar_url": "https://avatars.githubusercontent.com/u/25607475?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LemonNoel", "html_url": "https://github.com/LemonNoel", "followers_url": "https://api.github.com/users/LemonNoel/followers", "following_url": "https://api.github.com/users/LemonNoel/following{/other_user}", "gists_url": "https://api.github.com/users/LemonNoel/gists{/gist_id}", "starred_url": "https://api.github.com/users/LemonNoel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LemonNoel/subscriptions", "organizations_url": "https://api.github.com/users/LemonNoel/orgs", "repos_url": "https://api.github.com/users/LemonNoel/repos", "events_url": "https://api.github.com/users/LemonNoel/events{/privacy}", "received_events_url": "https://api.github.com/users/LemonNoel/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "LemonNoel", "id": 25607475, "node_id": "MDQ6VXNlcjI1NjA3NDc1", "avatar_url": "https://avatars.githubusercontent.com/u/25607475?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LemonNoel", "html_url": "https://github.com/LemonNoel", "followers_url": "https://api.github.com/users/LemonNoel/followers", "following_url": "https://api.github.com/users/LemonNoel/following{/other_user}", "gists_url": "https://api.github.com/users/LemonNoel/gists{/gist_id}", "starred_url": "https://api.github.com/users/LemonNoel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LemonNoel/subscriptions", "organizations_url": "https://api.github.com/users/LemonNoel/orgs", "repos_url": "https://api.github.com/users/LemonNoel/repos", "events_url": "https://api.github.com/users/LemonNoel/events{/privacy}", "received_events_url": "https://api.github.com/users/LemonNoel/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 9, "created_at": "2023-02-10T02:39:27Z", "updated_at": "2023-02-24T03:38:16Z", "closed_at": "2023-02-13T04:00:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\r\n\r\n```Markdown\r\n- paddlepaddle-gpu: 2.3.1\r\n- paddlenlp: 2.5.0.post0\r\n```\r\n\r\n\r\n### \u91cd\u590d\u95ee\u9898\r\n\r\n- [X] I have searched the existing issues\r\n\r\n### \u9519\u8bef\u63cf\u8ff0\r\n\r\n```Markdown\r\nmkvirtualenv \u521b\u5efa\u865a\u62df\u73af\u5883\r\n\u5c06utc-large\u7684\u6a21\u578b\u6587\u4ef6\u8fc1\u79fb\u5230\u7f13\u5b58\u76ee\u5f55:~/.paddlenlp/models/utc-large\r\n```\r\n\r\n\r\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\r\n\r\nschema = [\"\u597d\u8bc4\", \"\u5dee\u8bc4\"]\r\nmy_cls = Taskflow(\"zero_shot_text_classification\", \r\n                  schema=schema)\r\n\r\n\u6ca1\u6709\u52a0\u8f7d\u7f13\u5b58\u7684\u6a21\u578b\uff0c\u4f9d\u7136\u5728\u8c03\u7528\u63a5\u53e3\u4e0b\u8f7d", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4731/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4731/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4726", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4726/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4726/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4726/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/4726", "id": 1577513698, "node_id": "I_kwDOFAsknM5eBvLi", "number": 4726, "title": "[Bug]: \u5355\u5361\u8bad\u7ec3uie\u4fdd\u9519FileNotFoundError: configuration file<config.json> or <model_config.json> not found", "user": {"login": "jiweizhangxu", "id": 88191580, "node_id": "MDQ6VXNlcjg4MTkxNTgw", "avatar_url": "https://avatars.githubusercontent.com/u/88191580?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jiweizhangxu", "html_url": "https://github.com/jiweizhangxu", "followers_url": "https://api.github.com/users/jiweizhangxu/followers", "following_url": "https://api.github.com/users/jiweizhangxu/following{/other_user}", "gists_url": "https://api.github.com/users/jiweizhangxu/gists{/gist_id}", "starred_url": "https://api.github.com/users/jiweizhangxu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jiweizhangxu/subscriptions", "organizations_url": "https://api.github.com/users/jiweizhangxu/orgs", "repos_url": "https://api.github.com/users/jiweizhangxu/repos", "events_url": "https://api.github.com/users/jiweizhangxu/events{/privacy}", "received_events_url": "https://api.github.com/users/jiweizhangxu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4882422102, "node_id": "LA_kwDOFAsknM8AAAABIwPZVg", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/stale", "name": "stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "linjieccc", "id": 40840292, "node_id": "MDQ6VXNlcjQwODQwMjky", "avatar_url": "https://avatars.githubusercontent.com/u/40840292?v=4", "gravatar_id": "", "url": "https://api.github.com/users/linjieccc", "html_url": "https://github.com/linjieccc", "followers_url": "https://api.github.com/users/linjieccc/followers", "following_url": "https://api.github.com/users/linjieccc/following{/other_user}", "gists_url": "https://api.github.com/users/linjieccc/gists{/gist_id}", "starred_url": "https://api.github.com/users/linjieccc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/linjieccc/subscriptions", "organizations_url": "https://api.github.com/users/linjieccc/orgs", "repos_url": "https://api.github.com/users/linjieccc/repos", "events_url": "https://api.github.com/users/linjieccc/events{/privacy}", "received_events_url": "https://api.github.com/users/linjieccc/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "linjieccc", "id": 40840292, "node_id": "MDQ6VXNlcjQwODQwMjky", "avatar_url": "https://avatars.githubusercontent.com/u/40840292?v=4", "gravatar_id": "", "url": "https://api.github.com/users/linjieccc", "html_url": "https://github.com/linjieccc", "followers_url": "https://api.github.com/users/linjieccc/followers", "following_url": "https://api.github.com/users/linjieccc/following{/other_user}", "gists_url": "https://api.github.com/users/linjieccc/gists{/gist_id}", "starred_url": "https://api.github.com/users/linjieccc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/linjieccc/subscriptions", "organizations_url": "https://api.github.com/users/linjieccc/orgs", "repos_url": "https://api.github.com/users/linjieccc/repos", "events_url": "https://api.github.com/users/linjieccc/events{/privacy}", "received_events_url": "https://api.github.com/users/linjieccc/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2023-02-09T09:11:37Z", "updated_at": "2023-04-26T00:17:28Z", "closed_at": "2023-04-26T00:17:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\n\n```Markdown\n- paddlepaddle:2.3.0\r\n- paddlepaddle-gpu: 2.4.1\r\n- paddlenlp: 2.5.0\n```\n\n\n### \u91cd\u590d\u95ee\u9898\n\n- [X] I have searched the existing issues\n\n### \u9519\u8bef\u63cf\u8ff0\n\n```Markdown\n\u6709\u4e9b\u53c2\u6570\u5982\u8bad\u7ec3\u96c6\u548c\u6d4b\u8bd5\u96c6\u7b49\u8bbe\u7f6e\u4e3a\u9ed8\u8ba4\u53c2\u6570\u4e86\uff0c\u95ee\u4e0b\u5982\u9898\u7684\u539f\u56e0\n```\n\n\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\n\n/root/anaconda3/envs/paddle_fei/bin/python3.9 finetune.py --device gpu --logging_steps 10 --save_steps 200 --eval_steps 200 --seed 42 --output_dir \"./for_12345_address_checkpoint\" --per_device_eval_batch_size 4 --per_device_train_batch_size 4 --num_train_epochs 100 --learning_rate 1e-5 --do_train --do_eval --do_export --export_model_dir \"./for_12345_large_checkpoint\" --label_names 'start_positions' 'end_positions' --overwrite_output_dir --disable_tqdm True --metric_for_best_model eval_f1 --load_best_model_at_end True --save_total_limit 1 --multilingual\r\n/root/anaconda3/envs/paddle_fei/lib/python3.9/site-packages/_distutils_hack/__init__.py:30: UserWarning: Setuptools is replacing distutils.\r\n  warnings.warn(\"Setuptools is replacing distutils.\")\r\n[2023-02-09 17:07:28,407] [ WARNING] - evaluation_strategy reset to IntervalStrategy.STEPS for do_eval is True. you can also set evaluation_strategy='epoch'.\r\n[2023-02-09 17:07:28,407] [    INFO] - The default value for the training argument `--report_to` will change in v5 (from all installed integrations to none). In v5, you will need to use `--report_to all` to get the same behavior as now. You should start updating your code and make this info disappear :-).\r\n[2023-02-09 17:07:28,407] [    INFO] - ============================================================\r\n[2023-02-09 17:07:28,408] [    INFO] -      Model Configuration Arguments      \r\n[2023-02-09 17:07:28,408] [    INFO] - paddle commit id              :4743cc8b9a8d77ea47e08a42a16246b538bda56f\r\n[2023-02-09 17:07:28,408] [    INFO] - export_model_dir              :./for_12345_large_checkpoint\r\n[2023-02-09 17:07:28,408] [    INFO] - model_name_or_path            :uie-base\r\n[2023-02-09 17:07:28,408] [    INFO] - multilingual                  :True\r\n[2023-02-09 17:07:28,409] [    INFO] - \r\n[2023-02-09 17:07:28,409] [    INFO] - ============================================================\r\n[2023-02-09 17:07:28,409] [    INFO] -       Data Configuration Arguments      \r\n[2023-02-09 17:07:28,409] [    INFO] - paddle commit id              :4743cc8b9a8d77ea47e08a42a16246b538bda56f\r\n[2023-02-09 17:07:28,409] [    INFO] - dev_path                      :../data_for1234/data_for_address/dev.txt\r\n[2023-02-09 17:07:28,409] [    INFO] - max_seq_length                :128\r\n[2023-02-09 17:07:28,410] [    INFO] - train_path                    :../data_for1234/data_for_address/train.txt\r\n[2023-02-09 17:07:28,410] [    INFO] - \r\n[2023-02-09 17:07:28,410] [ WARNING] - Process rank: -1, device: gpu, world_size: 1, distributed training: False, 16-bits training: False\r\n[2023-02-09 17:07:28,410] [    INFO] - We are using <class 'paddlenlp.transformers.ernie.tokenizer.ErnieTokenizer'> to load 'uie-base'.\r\n[2023-02-09 17:07:28,411] [    INFO] - Already cached /root/.paddlenlp/models/uie-base/ernie_3.0_base_zh_vocab.txt\r\n[2023-02-09 17:07:28,452] [    INFO] - tokenizer config file saved in /root/.paddlenlp/models/uie-base/tokenizer_config.json\r\n[2023-02-09 17:07:28,453] [    INFO] - Special tokens file saved in /root/.paddlenlp/models/uie-base/special_tokens_map.json\r\nTraceback (most recent call last):\r\n  File \"/usr/local/zx/uie/uie_new_2yue9ri/finetune.py\", line 250, in <module>\r\n    main()\r\n  File \"/usr/local/zx/uie/uie_new_2yue9ri/finetune.py\", line 123, in main\r\n    model = UIEM.from_pretrained(model_args.model_name_or_path)\r\n  File \"/root/anaconda3/envs/paddle_fei/lib/python3.9/site-packages/paddlenlp/transformers/model_utils.py\", line 477, in from_pretrained\r\n    return cls.from_pretrained_v2(pretrained_model_name_or_path, from_hf_hub=from_hf_hub, *args, **kwargs)\r\n  File \"/root/anaconda3/envs/paddle_fei/lib/python3.9/site-packages/paddlenlp/transformers/model_utils.py\", line 1292, in from_pretrained_v2\r\n    config, model_kwargs = cls.config_class.from_pretrained(\r\n  File \"/root/anaconda3/envs/paddle_fei/lib/python3.9/site-packages/paddlenlp/transformers/configuration_utils.py\", line 734, in from_pretrained\r\n    config_dict, kwargs = cls.get_config_dict(pretrained_model_name_or_path, **kwargs)\r\n  File \"/root/anaconda3/envs/paddle_fei/lib/python3.9/site-packages/paddlenlp/transformers/configuration_utils.py\", line 756, in get_config_dict\r\n    config_dict, kwargs = cls._get_config_dict(pretrained_model_name_or_path, **kwargs)\r\n  File \"/root/anaconda3/envs/paddle_fei/lib/python3.9/site-packages/paddlenlp/transformers/configuration_utils.py\", line 827, in _get_config_dict\r\n    raise FileNotFoundError(f\"configuration file<{CONFIG_NAME}> or <{LEGACY_CONFIG_NAME}> not found\")\r\nFileNotFoundError: configuration file<config.json> or <model_config.json> not found", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4726/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4726/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4721", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4721/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4721/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4721/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/4721", "id": 1577403632, "node_id": "I_kwDOFAsknM5eBUTw", "number": 4721, "title": "[Bug]: \u52a0\u8f7d\u8bad\u7ec3\u6a21\u578b\u9884\u6d4b\u6570\u636e\u51fa\u73b0\u9519\u8bef", "user": {"login": "xiabingbao-ok", "id": 84067090, "node_id": "MDQ6VXNlcjg0MDY3MDkw", "avatar_url": "https://avatars.githubusercontent.com/u/84067090?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xiabingbao-ok", "html_url": "https://github.com/xiabingbao-ok", "followers_url": "https://api.github.com/users/xiabingbao-ok/followers", "following_url": "https://api.github.com/users/xiabingbao-ok/following{/other_user}", "gists_url": "https://api.github.com/users/xiabingbao-ok/gists{/gist_id}", "starred_url": "https://api.github.com/users/xiabingbao-ok/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xiabingbao-ok/subscriptions", "organizations_url": "https://api.github.com/users/xiabingbao-ok/orgs", "repos_url": "https://api.github.com/users/xiabingbao-ok/repos", "events_url": "https://api.github.com/users/xiabingbao-ok/events{/privacy}", "received_events_url": "https://api.github.com/users/xiabingbao-ok/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4882422102, "node_id": "LA_kwDOFAsknM8AAAABIwPZVg", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/stale", "name": "stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "ZHUI", "id": 16911935, "node_id": "MDQ6VXNlcjE2OTExOTM1", "avatar_url": "https://avatars.githubusercontent.com/u/16911935?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ZHUI", "html_url": "https://github.com/ZHUI", "followers_url": "https://api.github.com/users/ZHUI/followers", "following_url": "https://api.github.com/users/ZHUI/following{/other_user}", "gists_url": "https://api.github.com/users/ZHUI/gists{/gist_id}", "starred_url": "https://api.github.com/users/ZHUI/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ZHUI/subscriptions", "organizations_url": "https://api.github.com/users/ZHUI/orgs", "repos_url": "https://api.github.com/users/ZHUI/repos", "events_url": "https://api.github.com/users/ZHUI/events{/privacy}", "received_events_url": "https://api.github.com/users/ZHUI/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ZHUI", "id": 16911935, "node_id": "MDQ6VXNlcjE2OTExOTM1", "avatar_url": "https://avatars.githubusercontent.com/u/16911935?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ZHUI", "html_url": "https://github.com/ZHUI", "followers_url": "https://api.github.com/users/ZHUI/followers", "following_url": "https://api.github.com/users/ZHUI/following{/other_user}", "gists_url": "https://api.github.com/users/ZHUI/gists{/gist_id}", "starred_url": "https://api.github.com/users/ZHUI/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ZHUI/subscriptions", "organizations_url": "https://api.github.com/users/ZHUI/orgs", "repos_url": "https://api.github.com/users/ZHUI/repos", "events_url": "https://api.github.com/users/ZHUI/events{/privacy}", "received_events_url": "https://api.github.com/users/ZHUI/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2023-02-09T07:47:02Z", "updated_at": "2023-04-27T00:17:19Z", "closed_at": "2023-04-27T00:17:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\n\n```Markdown\npaddle2onnx        1.0.5\r\npaddlefsl          1.1.0\r\npaddlenlp          2.3.2\r\npaddlepaddle-gpu   2.3.2\n```\n\n\n### \u91cd\u590d\u95ee\u9898\n\n- [X] I have searched the existing issues\n\n### \u9519\u8bef\u63cf\u8ff0\n\n```Markdown\nTraceback (most recent call last):\r\n  File \"predict_text.py\", line 100, in <module>\r\n    model = AutoForTokenClassification.from_pretrained(model_path, num_classes=label_num)\r\n  File \"/data/sdc/xiaxianjun/brand_ner/ernie_crf/paddle_env/lib/python3.7/site-packages/paddlenlp/transformers/model_utils.py\", line 253, in from_pretrained\r\n    file_path, default_root)\r\n  File \"/data/sdc/xiaxianjun/brand_ner/ernie_crf/paddle_env/lib/python3.7/site-packages/paddlenlp/utils/downloader.py\", line 154, in get_path_from_url\r\n    assert is_url(url), \"downloading from {} not a url\".format(url)\r\nAssertionError: downloading from ./premodel/model_state.pdparams not a url\n```\n\n\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\n\nmasr_ner\u5b9e\u4f53\u62bd\u53d6\u793a\u4f8b\uff1ahttps://github.com/PaddlePaddle/PaddleNLP/tree/develop/examples/information_extraction/msra_ner\r\n\u9884\u8bad\u7ec3\u6a21\u578b\u4f7f\u7528\uff1aernie-1.0-large-zh-cw\r\npredmodel \u6587\u4ef6\u5b58\u653e\u7684\u662f\u9884\u8bad\u7ec3\u6a21\u578b\u76842\u6b4c\u6587\u4ef6\uff1aernie_1.0_large_zh_cw.pdparams  vocab.txt  \r\n\r\nexport CUDA_VISIBLE_DEVICES=0\r\npython -u ./predict.py \\\r\n    --model_name_or_path .predmodel  \\\r\n    --max_seq_length 128 \\\r\n    --batch_size 32 \\\r\n    --device gpu \\\r\n    --init_checkpoint_path tmp/msra_ner/model_500.pdparams\r\n", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4721/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4721/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4666", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4666/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4666/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4666/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/4666", "id": 1572267663, "node_id": "I_kwDOFAsknM5dtuaP", "number": 4666, "title": "[Bug]: ChineseBert\u8bad\u7ec3\u62a5\u9519", "user": {"login": "USTCKAY", "id": 50285351, "node_id": "MDQ6VXNlcjUwMjg1MzUx", "avatar_url": "https://avatars.githubusercontent.com/u/50285351?v=4", "gravatar_id": "", "url": "https://api.github.com/users/USTCKAY", "html_url": "https://github.com/USTCKAY", "followers_url": "https://api.github.com/users/USTCKAY/followers", "following_url": "https://api.github.com/users/USTCKAY/following{/other_user}", "gists_url": "https://api.github.com/users/USTCKAY/gists{/gist_id}", "starred_url": "https://api.github.com/users/USTCKAY/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/USTCKAY/subscriptions", "organizations_url": "https://api.github.com/users/USTCKAY/orgs", "repos_url": "https://api.github.com/users/USTCKAY/repos", "events_url": "https://api.github.com/users/USTCKAY/events{/privacy}", "received_events_url": "https://api.github.com/users/USTCKAY/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4882422102, "node_id": "LA_kwDOFAsknM8AAAABIwPZVg", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/stale", "name": "stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "wj-Mcat", "id": 10242208, "node_id": "MDQ6VXNlcjEwMjQyMjA4", "avatar_url": "https://avatars.githubusercontent.com/u/10242208?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wj-Mcat", "html_url": "https://github.com/wj-Mcat", "followers_url": "https://api.github.com/users/wj-Mcat/followers", "following_url": "https://api.github.com/users/wj-Mcat/following{/other_user}", "gists_url": "https://api.github.com/users/wj-Mcat/gists{/gist_id}", "starred_url": "https://api.github.com/users/wj-Mcat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wj-Mcat/subscriptions", "organizations_url": "https://api.github.com/users/wj-Mcat/orgs", "repos_url": "https://api.github.com/users/wj-Mcat/repos", "events_url": "https://api.github.com/users/wj-Mcat/events{/privacy}", "received_events_url": "https://api.github.com/users/wj-Mcat/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "wj-Mcat", "id": 10242208, "node_id": "MDQ6VXNlcjEwMjQyMjA4", "avatar_url": "https://avatars.githubusercontent.com/u/10242208?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wj-Mcat", "html_url": "https://github.com/wj-Mcat", "followers_url": "https://api.github.com/users/wj-Mcat/followers", "following_url": "https://api.github.com/users/wj-Mcat/following{/other_user}", "gists_url": "https://api.github.com/users/wj-Mcat/gists{/gist_id}", "starred_url": "https://api.github.com/users/wj-Mcat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wj-Mcat/subscriptions", "organizations_url": "https://api.github.com/users/wj-Mcat/orgs", "repos_url": "https://api.github.com/users/wj-Mcat/repos", "events_url": "https://api.github.com/users/wj-Mcat/events{/privacy}", "received_events_url": "https://api.github.com/users/wj-Mcat/received_events", "type": "User", "site_admin": false}, {"login": "sijunhe", "id": 11987277, "node_id": "MDQ6VXNlcjExOTg3Mjc3", "avatar_url": "https://avatars.githubusercontent.com/u/11987277?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sijunhe", "html_url": "https://github.com/sijunhe", "followers_url": "https://api.github.com/users/sijunhe/followers", "following_url": "https://api.github.com/users/sijunhe/following{/other_user}", "gists_url": "https://api.github.com/users/sijunhe/gists{/gist_id}", "starred_url": "https://api.github.com/users/sijunhe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sijunhe/subscriptions", "organizations_url": "https://api.github.com/users/sijunhe/orgs", "repos_url": "https://api.github.com/users/sijunhe/repos", "events_url": "https://api.github.com/users/sijunhe/events{/privacy}", "received_events_url": "https://api.github.com/users/sijunhe/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2023-02-06T10:02:52Z", "updated_at": "2023-04-23T00:17:08Z", "closed_at": "2023-04-23T00:17:08Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\n\n```Markdown\n- paddlepaddle:0.0.0\r\n- paddlepaddle-gpu: 0.0.0.post102\r\n- paddlenlp:2.5.0.post0\n```\n\n\n### \u91cd\u590d\u95ee\u9898\n\n- [X] I have searched the existing issues\n\n### \u9519\u8bef\u63cf\u8ff0\n\n```Markdown\n\u62a5\u9519\u4fe1\u606f\u5982\u4e0b\uff1a\r\nTraceback (most recent call last):\r\n  File \"train_chn.py\", line 81, in <module>\r\n    model = ChineseBertForSequenceClassification.from_pretrained(\"ChineseBERT-large\", num_classes=2)\r\n  File \"/workspace/PaddleNLP/paddlenlp/transformers/model_utils.py\", line 617, in from_pretrained\r\n    base_model = cls.base_model_class(*base_args, **base_kwargs)\r\n  File \"/workspace/PaddleNLP/paddlenlp/transformers/utils.py\", line 170, in __impl__\r\n    init_func(self, *args, **kwargs)\r\n  File \"/workspace/PaddleNLP/paddlenlp/transformers/chinesebert/modeling.py\", line 391, in __init__\r\n    self.pooler = BertPooler(hidden_size, pool_act)\r\nTypeError: __init__() takes 2 positional arguments but 3 were given\r\n\u9605\u8bfbChineseBert\u7684\u6a21\u578b\u7ec4\u7f51\u4ee3\u7801\u770b\u5230\u8c03\u7528\u4e86Bert\u7684BertPooler\uff0c\u4f46\u662f\u63d0\u4f9b\u7684\u521d\u59cb\u5316\u53c2\u6570\u5374\u4e0d\u662fBertConfig\u7c7b\u578b\u7684\uff0c\u4f3c\u4e4e\u662f\u8fd9\u4e2a\u539f\u56e0\u5bfc\u81f4\u7684\u62a5\u9519\u3002\n```\n\n\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\n\n\u8bad\u7ec3\u6307\u4ee4\uff1a\r\n`python train_chn.py \\\r\n--data_path './data/ChnSentiCorp' \\\r\n--device 'gpu' \\\r\n--epochs 10 \\\r\n--max_seq_length 512 \\\r\n--batch_size 8 \\\r\n--learning_rate 2e-5 \\\r\n--weight_decay 0.0001 \\\r\n--warmup_proportion 0.1 \\\r\n--seed 2333 \\\r\n--save_dir 'outputs/chn' | tee outputs/train_chn.log`", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4666/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4666/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4657", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4657/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4657/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4657/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/4657", "id": 1572042299, "node_id": "I_kwDOFAsknM5ds3Y7", "number": 4657, "title": "[Bug]: uie-senta-base\u6a21\u578b\u5904\u7406\u9152\u5e97\u573a\u666f\u7684\u90e8\u5206\u6d4b\u8bd5\u6570\u636e\u65f6\u8fd4\u56de\u7ed3\u679c\u4e3a\u7a7a[{}] ", "user": {"login": "ccc008", "id": 8074421, "node_id": "MDQ6VXNlcjgwNzQ0MjE=", "avatar_url": "https://avatars.githubusercontent.com/u/8074421?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ccc008", "html_url": "https://github.com/ccc008", "followers_url": "https://api.github.com/users/ccc008/followers", "following_url": "https://api.github.com/users/ccc008/following{/other_user}", "gists_url": "https://api.github.com/users/ccc008/gists{/gist_id}", "starred_url": "https://api.github.com/users/ccc008/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ccc008/subscriptions", "organizations_url": "https://api.github.com/users/ccc008/orgs", "repos_url": "https://api.github.com/users/ccc008/repos", "events_url": "https://api.github.com/users/ccc008/events{/privacy}", "received_events_url": "https://api.github.com/users/ccc008/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2717960704, "node_id": "MDU6TGFiZWwyNzE3OTYwNzA0", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/question", "name": "question", "color": "d876e3", "default": true, "description": "Further information is requested"}], "state": "closed", "locked": false, "assignee": {"login": "wawltor", "id": 16698950, "node_id": "MDQ6VXNlcjE2Njk4OTUw", "avatar_url": "https://avatars.githubusercontent.com/u/16698950?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wawltor", "html_url": "https://github.com/wawltor", "followers_url": "https://api.github.com/users/wawltor/followers", "following_url": "https://api.github.com/users/wawltor/following{/other_user}", "gists_url": "https://api.github.com/users/wawltor/gists{/gist_id}", "starred_url": "https://api.github.com/users/wawltor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wawltor/subscriptions", "organizations_url": "https://api.github.com/users/wawltor/orgs", "repos_url": "https://api.github.com/users/wawltor/repos", "events_url": "https://api.github.com/users/wawltor/events{/privacy}", "received_events_url": "https://api.github.com/users/wawltor/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "wawltor", "id": 16698950, "node_id": "MDQ6VXNlcjE2Njk4OTUw", "avatar_url": "https://avatars.githubusercontent.com/u/16698950?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wawltor", "html_url": "https://github.com/wawltor", "followers_url": "https://api.github.com/users/wawltor/followers", "following_url": "https://api.github.com/users/wawltor/following{/other_user}", "gists_url": "https://api.github.com/users/wawltor/gists{/gist_id}", "starred_url": "https://api.github.com/users/wawltor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wawltor/subscriptions", "organizations_url": "https://api.github.com/users/wawltor/orgs", "repos_url": "https://api.github.com/users/wawltor/repos", "events_url": "https://api.github.com/users/wawltor/events{/privacy}", "received_events_url": "https://api.github.com/users/wawltor/received_events", "type": "User", "site_admin": false}, {"login": "1649759610", "id": 35913314, "node_id": "MDQ6VXNlcjM1OTEzMzE0", "avatar_url": "https://avatars.githubusercontent.com/u/35913314?v=4", "gravatar_id": "", "url": "https://api.github.com/users/1649759610", "html_url": "https://github.com/1649759610", "followers_url": "https://api.github.com/users/1649759610/followers", "following_url": "https://api.github.com/users/1649759610/following{/other_user}", "gists_url": "https://api.github.com/users/1649759610/gists{/gist_id}", "starred_url": "https://api.github.com/users/1649759610/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/1649759610/subscriptions", "organizations_url": "https://api.github.com/users/1649759610/orgs", "repos_url": "https://api.github.com/users/1649759610/repos", "events_url": "https://api.github.com/users/1649759610/events{/privacy}", "received_events_url": "https://api.github.com/users/1649759610/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2023-02-06T07:11:02Z", "updated_at": "2023-02-10T06:22:44Z", "closed_at": "2023-02-10T06:22:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\n\n```Markdown\n- paddlepaddle:\r\n- paddlepaddle-gpu: 2.4.1.post112\r\n- paddlenlp: 2.5.0\n```\n\n\n### \u91cd\u590d\u95ee\u9898\n\n- [X] I have searched the existing issues\n\n### \u9519\u8bef\u63cf\u8ff0\n\n```Markdown\ntest_hotel.txt \u5185\u7684\u90e8\u5206\u6d4b\u8bd5\u6587\u672c\u5728uie-senta-base\u6a21\u578b\u6d4b\u8bd5\uff0c\u53d1\u73b0\u8fd4\u56de\u7ed3\u679c\u4e3a\u7a7a\u3002\u5982\u4e0b\uff1a\r\n\r\n\u623f\u95f4\u633a\u5927\u7684\uff0c\u8fd8\u7b97\u5e72\u51c0\uff0c\u4f46\u670d\u52a1\u6001\u5ea6\u6709\u70b9\u51b7\u6de1\uff0c\r\n\u9152\u5e97\u5473\u9053\u5927\uff0c\u9694\u97f3\u5dee\r\n\u9152\u5e97\u8bbe\u65bd\u7565\u663e\u9648\u65e7\uff0c\u706f\u5149\u8fd8\u9700\u8981\u518d\u4eae\u70b9\uff0c\u6709\u4e9b\u6697\n```\n\n\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\n\nfrom paddlenlp import Taskflow\r\nschema = ['\u60c5\u611f\u503e\u5411[\u6b63\u5411\uff0c\u8d1f\u5411]']\r\nsenta = Taskflow(\"sentiment_analysis\", model=\"uie-senta-base\", schema=schema)\r\nprint(senta('\u9152\u5e97\u8bbe\u65bd\u7565\u663e\u9648\u65e7\uff0c\u706f\u5149\u8fd8\u9700\u8981\u518d\u4eae\u70b9\uff0c\u6709\u4e9b\u6697'))\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4657/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4657/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4656", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4656/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4656/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4656/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/4656", "id": 1572008419, "node_id": "I_kwDOFAsknM5dsvHj", "number": 4656, "title": "[Bug]: uie\u6587\u6863\u62bd\u53d6\uff0c\u7d22\u5f15\u8d8a\u754c", "user": {"login": "shiyun123456789", "id": 31406086, "node_id": "MDQ6VXNlcjMxNDA2MDg2", "avatar_url": "https://avatars.githubusercontent.com/u/31406086?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shiyun123456789", "html_url": "https://github.com/shiyun123456789", "followers_url": "https://api.github.com/users/shiyun123456789/followers", "following_url": "https://api.github.com/users/shiyun123456789/following{/other_user}", "gists_url": "https://api.github.com/users/shiyun123456789/gists{/gist_id}", "starred_url": "https://api.github.com/users/shiyun123456789/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shiyun123456789/subscriptions", "organizations_url": "https://api.github.com/users/shiyun123456789/orgs", "repos_url": "https://api.github.com/users/shiyun123456789/repos", "events_url": "https://api.github.com/users/shiyun123456789/events{/privacy}", "received_events_url": "https://api.github.com/users/shiyun123456789/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4882422102, "node_id": "LA_kwDOFAsknM8AAAABIwPZVg", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/stale", "name": "stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "linjieccc", "id": 40840292, "node_id": "MDQ6VXNlcjQwODQwMjky", "avatar_url": "https://avatars.githubusercontent.com/u/40840292?v=4", "gravatar_id": "", "url": "https://api.github.com/users/linjieccc", "html_url": "https://github.com/linjieccc", "followers_url": "https://api.github.com/users/linjieccc/followers", "following_url": "https://api.github.com/users/linjieccc/following{/other_user}", "gists_url": "https://api.github.com/users/linjieccc/gists{/gist_id}", "starred_url": "https://api.github.com/users/linjieccc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/linjieccc/subscriptions", "organizations_url": "https://api.github.com/users/linjieccc/orgs", "repos_url": "https://api.github.com/users/linjieccc/repos", "events_url": "https://api.github.com/users/linjieccc/events{/privacy}", "received_events_url": "https://api.github.com/users/linjieccc/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "linjieccc", "id": 40840292, "node_id": "MDQ6VXNlcjQwODQwMjky", "avatar_url": "https://avatars.githubusercontent.com/u/40840292?v=4", "gravatar_id": "", "url": "https://api.github.com/users/linjieccc", "html_url": "https://github.com/linjieccc", "followers_url": "https://api.github.com/users/linjieccc/followers", "following_url": "https://api.github.com/users/linjieccc/following{/other_user}", "gists_url": "https://api.github.com/users/linjieccc/gists{/gist_id}", "starred_url": "https://api.github.com/users/linjieccc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/linjieccc/subscriptions", "organizations_url": "https://api.github.com/users/linjieccc/orgs", "repos_url": "https://api.github.com/users/linjieccc/repos", "events_url": "https://api.github.com/users/linjieccc/events{/privacy}", "received_events_url": "https://api.github.com/users/linjieccc/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2023-02-06T06:41:44Z", "updated_at": "2023-04-22T00:16:03Z", "closed_at": "2023-04-22T00:16:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\n\n```Markdown\npaddle-bfloat                  0.1.7\r\npaddle2onnx                    1.0.1\r\npaddleclas                     2.4.3\r\npaddledet                      2.5.0\r\npaddlefsl                      1.1.0\r\npaddlehub                      2.1.0\r\npaddlelabel                    0.5.0\r\npaddlenlp                      2.5.0\r\npaddleocr                      2.6.1.0\r\npaddlepaddle                   2.4.0\r\npaddleslim                     2.4.0\n```\n\n\n### \u91cd\u590d\u95ee\u9898\n\n- [X] I have searched the existing issues\n\n### \u9519\u8bef\u63cf\u8ff0\n\n```Markdown\n\u5728\u8fdb\u884cuie\u6587\u6863\u62bd\u53d6\u6d4b\u8bd5\u65f6\uff0c\u7d22\u5f15\u8d8a\u754c\r\n\u62a5\u9519\u4fe1\u606f\uff1a\r\nTraceback (most recent call last):\r\n  File \"D:\\tools\\PyCharm 2022.2.3\\plugins\\python\\helpers\\pydev\\pydevd.py\", line 1496, in _exec\r\n    pydev_imports.execfile(file, globals, locals)  # execute the script\r\n  File \"D:\\tools\\PyCharm 2022.2.3\\plugins\\python\\helpers\\pydev\\_pydev_imps\\_pydev_execfile.py\", line 18, in execfile\r\n    exec(compile(contents+\"\\n\", file, 'exec'), glob, loc)\r\n  File \"E:\\project\\python\\ocr\\uie.py\", line 15, in <module>\r\n    results = ie({\"doc\":doc_path})\r\n  File \"D:\\tools\\anaconda\\lib\\site-packages\\paddlenlp\\taskflow\\taskflow.py\", line 603, in __call__\r\n    results = self.task_instance(inputs)\r\n  File \"D:\\tools\\anaconda\\lib\\site-packages\\paddlenlp\\taskflow\\task.py\", line 439, in __call__\r\n    outputs = self._run_model(inputs)\r\n  File \"D:\\tools\\anaconda\\lib\\site-packages\\paddlenlp\\taskflow\\information_extraction.py\", line 941, in _run_model\r\n    results = self._multi_stage_predict(_inputs)\r\n  File \"D:\\tools\\anaconda\\lib\\site-packages\\paddlenlp\\taskflow\\information_extraction.py\", line 1086, in _multi_stage_predict\r\n    results = self._add_bbox_info(results, data)\r\n  File \"D:\\tools\\anaconda\\lib\\site-packages\\paddlenlp\\taskflow\\information_extraction.py\", line 1133, in _add_bbox_info\r\n    result = _add_bbox(result, char_boxes)\r\n  File \"D:\\tools\\anaconda\\lib\\site-packages\\paddlenlp\\taskflow\\information_extraction.py\", line 1096, in _add_bbox\r\n    cur_box = char_boxes[i][1]\r\nIndexError: list index out of range\n```\n\n\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\n\nfrom pprint import pprint\r\nfrom paddlenlp import Taskflow\r\nfrom paddlenlp.utils.doc_parser import DocParser\r\nschema = ['\u6536\u8d27\u4eba\u540d\u79f0','\u6536\u8d27\u5730\u70b9','\u53d1\u8d27\u5730\u70b9','\u4f9b\u7164\u5730\u70b9','\u53d1\u7ad9','\u5230\u7ad9','\u4ea4\u8d27\u5730\u70b9','\u542b\u7a0e\u5355\u4ef7\uff08\u5143/\u5428\uff09','\u4e0d\u542b\u7a0e\u5355\u4ef7\uff08\u5143/\u5428\uff09','\u5408\u540c\u4ef7\uff08\u5143/\u5428\uff09','\u6570\u91cf\uff08\u5428\uff09','\u8fd0\u8f93\u65b9\u5f0f','\u6807\u7164\u5355\u4ef7\uff08\u5143/\u5428\uff09','\u5355\u4ef7']\r\nie = Taskflow('information_extraction', schema=schema,model='uie-x-base')\r\ndoc_path = \"C:/Users/Administrator/Desktop/1675663754789.jpg\"\r\nresults = ie({\"doc\":doc_path})\r\n\r\n\u56fe\u7247\uff1a\r\n![1675663754789](https://user-images.githubusercontent.com/31406086/216900525-9b3892f6-8ce0-4a5a-8a96-2f93cf0625f3.jpg)\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4656/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4656/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4648", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4648/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4648/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4648/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/4648", "id": 1571286797, "node_id": "I_kwDOFAsknM5dp-8N", "number": 4648, "title": "[Bug]: \u8fd0\u884c PPDiffusers \u6587\u56fe\u751f\u6210 \uff08Text-to-Image Generation\uff09\u76f4\u63a5\u62a5\u9519\uff1f", "user": {"login": "jxrjlxc02", "id": 66405878, "node_id": "MDQ6VXNlcjY2NDA1ODc4", "avatar_url": "https://avatars.githubusercontent.com/u/66405878?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jxrjlxc02", "html_url": "https://github.com/jxrjlxc02", "followers_url": "https://api.github.com/users/jxrjlxc02/followers", "following_url": "https://api.github.com/users/jxrjlxc02/following{/other_user}", "gists_url": "https://api.github.com/users/jxrjlxc02/gists{/gist_id}", "starred_url": "https://api.github.com/users/jxrjlxc02/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jxrjlxc02/subscriptions", "organizations_url": "https://api.github.com/users/jxrjlxc02/orgs", "repos_url": "https://api.github.com/users/jxrjlxc02/repos", "events_url": "https://api.github.com/users/jxrjlxc02/events{/privacy}", "received_events_url": "https://api.github.com/users/jxrjlxc02/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "JunnYu", "id": 50394665, "node_id": "MDQ6VXNlcjUwMzk0NjY1", "avatar_url": "https://avatars.githubusercontent.com/u/50394665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JunnYu", "html_url": "https://github.com/JunnYu", "followers_url": "https://api.github.com/users/JunnYu/followers", "following_url": "https://api.github.com/users/JunnYu/following{/other_user}", "gists_url": "https://api.github.com/users/JunnYu/gists{/gist_id}", "starred_url": "https://api.github.com/users/JunnYu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JunnYu/subscriptions", "organizations_url": "https://api.github.com/users/JunnYu/orgs", "repos_url": "https://api.github.com/users/JunnYu/repos", "events_url": "https://api.github.com/users/JunnYu/events{/privacy}", "received_events_url": "https://api.github.com/users/JunnYu/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "JunnYu", "id": 50394665, "node_id": "MDQ6VXNlcjUwMzk0NjY1", "avatar_url": "https://avatars.githubusercontent.com/u/50394665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JunnYu", "html_url": "https://github.com/JunnYu", "followers_url": "https://api.github.com/users/JunnYu/followers", "following_url": "https://api.github.com/users/JunnYu/following{/other_user}", "gists_url": "https://api.github.com/users/JunnYu/gists{/gist_id}", "starred_url": "https://api.github.com/users/JunnYu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JunnYu/subscriptions", "organizations_url": "https://api.github.com/users/JunnYu/orgs", "repos_url": "https://api.github.com/users/JunnYu/repos", "events_url": "https://api.github.com/users/JunnYu/events{/privacy}", "received_events_url": "https://api.github.com/users/JunnYu/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2023-02-05T06:30:05Z", "updated_at": "2023-02-06T06:29:22Z", "closed_at": "2023-02-06T06:29:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\n\n```Markdown\npaddle-bfloat        0.1.7\r\npaddle2onnx          1.0.5\r\npaddlefsl            1.1.0\r\npaddlenlp            2.5.0\r\npaddlepaddle-gpu     2.4.1.post112\r\nx2paddle             1.4.0\n```\n\n\n### \u91cd\u590d\u95ee\u9898\n\n- [X] I have searched the existing issues\n\n### \u9519\u8bef\u63cf\u8ff0\n\n```Markdown\npaddle_difusse.py\r\nimport paddle\r\nfrom ppdiffusers import StableDiffusionPipeline\r\n\r\n# \u53ef\u9009\u6a21\u578b\u6743\u91cd\r\n# CompVis/stable-diffusion-v1-4\r\n# runwayml/stable-diffusion-v1-5\r\n# stabilityai/stable-diffusion-2-base \uff08\u539f\u59cb\u7b56\u7565 512x512\uff09\r\n# stabilityai/stable-diffusion-2 \uff08v-objective 768x768\uff09\r\n# Linaqruf/anything-v3.0\r\n# ......\r\npipe = StableDiffusionPipeline.from_pretrained(\"stabilityai/stable-diffusion-2\")\r\n\r\n# \u8bbe\u7f6e\u968f\u673a\u79cd\u5b50\uff0c\u6211\u4eec\u53ef\u4ee5\u590d\u73b0\u4e0b\u9762\u7684\u7ed3\u679c\uff01\r\npaddle.seed(5232132133)\r\n# prompt = \"a portrait of shiba inu with a red cap growing on its head. intricate. lifelike. soft light. sony a 7 r iv 5 5 mm. cinematic post - processing \"\r\nprompt = \"a portrait of shiba inu with a yellow cap growing on its head. intricate. lifelike. soft light. sony a 7 r iv 5 5 mm. cinematic post - processing \"\r\n\r\n\r\nimage = pipe(prompt, guidance_scale=7.5, height=768, width=768).images[0]\r\n\r\n========================== \u6267\u884c\u7ed3\u679c\u5982\u4e0b\uff1a\r\nothers@xxx:/data/others/difusse_project$ /data/others/difusse_project/.venv/bin/python /data/others/difusse_project/paddle_difusse.py\r\n[2023-02-05 06:25:11,923] [    INFO] - Already cached /home/others/.paddlenlp/models/stabilityai/stable-diffusion-2/model_index.json\r\n[2023-02-05 06:25:12,111] [    INFO] - Found /home/others/.paddlenlp/models/stabilityai/stable-diffusion-2/text_encoder/model_config.json\r\n[2023-02-05 06:25:12,113] [    INFO] - loading configuration file /home/others/.paddlenlp/models/stabilityai/stable-diffusion-2/text_encoder/model_config.json\r\n[2023-02-05 06:25:12,115] [    INFO] - Model config CLIPTextConfig {\r\n  \"architectures\": [\r\n    \"CLIPTextModel\"\r\n  ],\r\n  \"attention_dropout\": 0.0,\r\n  \"bos_token_id\": 0,\r\n  \"dropout\": 0.0,\r\n  \"eos_token_id\": 2,\r\n  \"hidden_act\": \"gelu\",\r\n  \"hidden_size\": 1024,\r\n  \"initializer_factor\": 1.0,\r\n  \"initializer_range\": 0.02,\r\n  \"intermediate_size\": 4096,\r\n  \"layer_norm_eps\": 1e-05,\r\n  \"max_position_embeddings\": 77,\r\n  \"model_type\": \"clip_text_model\",\r\n  \"num_attention_heads\": 16,\r\n  \"num_hidden_layers\": 23,\r\n  \"pad_token_id\": 1,\r\n  \"paddlenlp_version\": null,\r\n  \"projection_dim\": 512,\r\n  \"return_dict\": true,\r\n  \"vocab_size\": 49408\r\n}\r\n\r\nW0205 06:25:12.123654 63081 gpu_resources.cc:61] Please NOTE: device: 0, GPU Compute Capability: 7.5, Driver API Version: 12.0, Runtime API Version: 11.2\r\nW0205 06:25:12.128930 63081 gpu_resources.cc:91] device: 0, cuDNN Version: 8.2.\r\n[2023-02-05 06:25:14,128] [    INFO] - Found /home/others/.paddlenlp/models/stabilityai/stable-diffusion-2/text_encoder/model_state.pdparams\r\n[2023-02-05 06:25:16,063] [    INFO] - All model checkpoint weights were used when initializing CLIPTextModel.\r\n\r\n[2023-02-05 06:25:16,063] [    INFO] - All the weights of CLIPTextModel were initialized from the model checkpoint at stabilityai/stable-diffusion-2/text_encoder.\r\nIf your task is similar to the task the model of the checkpoint was trained on, you can already use CLIPTextModel for predictions without further training.\r\n[2023-02-05 06:25:16,065] [    INFO] - Already cached /home/others/.paddlenlp/models/stabilityai/stable-diffusion-2/unet/model_state.pdparams\r\n[2023-02-05 06:25:16,066] [    INFO] - Already cached /home/others/.paddlenlp/models/stabilityai/stable-diffusion-2/unet/config.json\r\n[2023-02-05 06:25:22,016] [    INFO] - Already cached /home/others/.paddlenlp/models/stabilityai/stable-diffusion-2/vae/model_state.pdparams\r\n[2023-02-05 06:25:22,017] [    INFO] - Already cached /home/others/.paddlenlp/models/stabilityai/stable-diffusion-2/vae/config.json\r\n[2023-02-05 06:25:22,567] [    INFO] - Already cached /home/others/.paddlenlp/models/stabilityai/stable-diffusion-2/scheduler/scheduler_config.json\r\n[2023-02-05 06:25:22,569] [    INFO] - Already cached /home/others/.paddlenlp/models/stabilityai/stable-diffusion-2/tokenizer/vocab.json\r\n[2023-02-05 06:25:22,569] [    INFO] - Already cached /home/others/.paddlenlp/models/stabilityai/stable-diffusion-2/tokenizer/merges.txt\r\n[2023-02-05 06:25:22,569] [    INFO] - Already cached /home/others/.paddlenlp/models/stabilityai/stable-diffusion-2/tokenizer/added_tokens.json\r\n[2023-02-05 06:25:22,569] [    INFO] - Already cached /home/others/.paddlenlp/models/stabilityai/stable-diffusion-2/tokenizer/special_tokens_map.json\r\n[2023-02-05 06:25:22,569] [    INFO] - Already cached /home/others/.paddlenlp/models/stabilityai/stable-diffusion-2/tokenizer/tokenizer_config.json\r\n  0%|                                                                                                                            | 0/50 [00:00<?, ?it/s]Aborted (core dumped)\n```\n\n\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\n\n\u76f4\u63a5\u6267\u884c\u5b98\u65b9\u793a\u4f8b\uff1a\r\n\r\n========================== \u6267\u884c\u7ed3\u679c\u5982\u4e0b\uff1a\r\nothers@xxx:/data/others/difusse_project$ /data/others/difusse_project/.venv/bin/python /data/others/difusse_project/paddle_difusse.py", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4648/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4648/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4621", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4621/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4621/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4621/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/4621", "id": 1567331266, "node_id": "I_kwDOFAsknM5da5PC", "number": 4621, "title": "[Bug]: paddlepaddle\u7248\u672c\u8fc7\u4f4e\u5bfc\u81f4\u6a21\u578b\u4fdd\u5b58\u51fa\u9519", "user": {"login": "JunnYu", "id": 50394665, "node_id": "MDQ6VXNlcjUwMzk0NjY1", "avatar_url": "https://avatars.githubusercontent.com/u/50394665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JunnYu", "html_url": "https://github.com/JunnYu", "followers_url": "https://api.github.com/users/JunnYu/followers", "following_url": "https://api.github.com/users/JunnYu/following{/other_user}", "gists_url": "https://api.github.com/users/JunnYu/gists{/gist_id}", "starred_url": "https://api.github.com/users/JunnYu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JunnYu/subscriptions", "organizations_url": "https://api.github.com/users/JunnYu/orgs", "repos_url": "https://api.github.com/users/JunnYu/repos", "events_url": "https://api.github.com/users/JunnYu/events{/privacy}", "received_events_url": "https://api.github.com/users/JunnYu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4882422102, "node_id": "LA_kwDOFAsknM8AAAABIwPZVg", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/stale", "name": "stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "wj-Mcat", "id": 10242208, "node_id": "MDQ6VXNlcjEwMjQyMjA4", "avatar_url": "https://avatars.githubusercontent.com/u/10242208?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wj-Mcat", "html_url": "https://github.com/wj-Mcat", "followers_url": "https://api.github.com/users/wj-Mcat/followers", "following_url": "https://api.github.com/users/wj-Mcat/following{/other_user}", "gists_url": "https://api.github.com/users/wj-Mcat/gists{/gist_id}", "starred_url": "https://api.github.com/users/wj-Mcat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wj-Mcat/subscriptions", "organizations_url": "https://api.github.com/users/wj-Mcat/orgs", "repos_url": "https://api.github.com/users/wj-Mcat/repos", "events_url": "https://api.github.com/users/wj-Mcat/events{/privacy}", "received_events_url": "https://api.github.com/users/wj-Mcat/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "wj-Mcat", "id": 10242208, "node_id": "MDQ6VXNlcjEwMjQyMjA4", "avatar_url": "https://avatars.githubusercontent.com/u/10242208?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wj-Mcat", "html_url": "https://github.com/wj-Mcat", "followers_url": "https://api.github.com/users/wj-Mcat/followers", "following_url": "https://api.github.com/users/wj-Mcat/following{/other_user}", "gists_url": "https://api.github.com/users/wj-Mcat/gists{/gist_id}", "starred_url": "https://api.github.com/users/wj-Mcat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wj-Mcat/subscriptions", "organizations_url": "https://api.github.com/users/wj-Mcat/orgs", "repos_url": "https://api.github.com/users/wj-Mcat/repos", "events_url": "https://api.github.com/users/wj-Mcat/events{/privacy}", "received_events_url": "https://api.github.com/users/wj-Mcat/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2023-02-02T05:11:26Z", "updated_at": "2023-04-19T00:16:49Z", "closed_at": "2023-04-19T00:16:49Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\n\n```Markdown\n- paddlepaddle: 2.2.2\r\n- paddlepaddle-gpu: 2.2.2\r\n- paddlenlp: 2.5.0\n```\n\n\n### \u91cd\u590d\u95ee\u9898\n\n- [X] I have searched the existing issues\n\n### \u9519\u8bef\u63cf\u8ff0\n\n```Markdown\npaddlepaddle\u7248\u672c\u95ee\u9898\uff0cParamBase \u7f3a\u5c11is_floating_point\u5c5e\u6027\uff0c\u5bfc\u81f4\u4fdd\u5b58\u6a21\u578b\u51fa\u9519\n```\n\n\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\n\nhttps://github.com/PaddlePaddle/PaddleNLP/blob/71540c89e3899741b09007f845c5bb690ae39edb/paddlenlp/transformers/model_utils.py#L86-L103 \u7684\r\nhttps://github.com/PaddlePaddle/PaddleNLP/blob/71540c89e3899741b09007f845c5bb690ae39edb/paddlenlp/transformers/model_utils.py#L99\r\n\r\n![image](https://user-images.githubusercontent.com/50394665/216237094-8ed63827-2e03-4918-8cc2-d0ed68380227.png)\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4621/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4621/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4615", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4615/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4615/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4615/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/4615", "id": 1565716073, "node_id": "I_kwDOFAsknM5dUu5p", "number": 4615, "title": "[Question]: UIE\u8bc4\u8bba\u89c2\u70b9\u62bd\u53d6\uff0c\u5b98\u65b9\u6848\u4f8b\u7ed3\u679c\u4e3a\u7a7a[{}]", "user": {"login": "wfs420100", "id": 64070362, "node_id": "MDQ6VXNlcjY0MDcwMzYy", "avatar_url": "https://avatars.githubusercontent.com/u/64070362?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wfs420100", "html_url": "https://github.com/wfs420100", "followers_url": "https://api.github.com/users/wfs420100/followers", "following_url": "https://api.github.com/users/wfs420100/following{/other_user}", "gists_url": "https://api.github.com/users/wfs420100/gists{/gist_id}", "starred_url": "https://api.github.com/users/wfs420100/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wfs420100/subscriptions", "organizations_url": "https://api.github.com/users/wfs420100/orgs", "repos_url": "https://api.github.com/users/wfs420100/repos", "events_url": "https://api.github.com/users/wfs420100/events{/privacy}", "received_events_url": "https://api.github.com/users/wfs420100/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2717960704, "node_id": "MDU6TGFiZWwyNzE3OTYwNzA0", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/question", "name": "question", "color": "d876e3", "default": true, "description": "Further information is requested"}, {"id": 4882422102, "node_id": "LA_kwDOFAsknM8AAAABIwPZVg", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/stale", "name": "stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "linjieccc", "id": 40840292, "node_id": "MDQ6VXNlcjQwODQwMjky", "avatar_url": "https://avatars.githubusercontent.com/u/40840292?v=4", "gravatar_id": "", "url": "https://api.github.com/users/linjieccc", "html_url": "https://github.com/linjieccc", "followers_url": "https://api.github.com/users/linjieccc/followers", "following_url": "https://api.github.com/users/linjieccc/following{/other_user}", "gists_url": "https://api.github.com/users/linjieccc/gists{/gist_id}", "starred_url": "https://api.github.com/users/linjieccc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/linjieccc/subscriptions", "organizations_url": "https://api.github.com/users/linjieccc/orgs", "repos_url": "https://api.github.com/users/linjieccc/repos", "events_url": "https://api.github.com/users/linjieccc/events{/privacy}", "received_events_url": "https://api.github.com/users/linjieccc/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "linjieccc", "id": 40840292, "node_id": "MDQ6VXNlcjQwODQwMjky", "avatar_url": "https://avatars.githubusercontent.com/u/40840292?v=4", "gravatar_id": "", "url": "https://api.github.com/users/linjieccc", "html_url": "https://github.com/linjieccc", "followers_url": "https://api.github.com/users/linjieccc/followers", "following_url": "https://api.github.com/users/linjieccc/following{/other_user}", "gists_url": "https://api.github.com/users/linjieccc/gists{/gist_id}", "starred_url": "https://api.github.com/users/linjieccc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/linjieccc/subscriptions", "organizations_url": "https://api.github.com/users/linjieccc/orgs", "repos_url": "https://api.github.com/users/linjieccc/repos", "events_url": "https://api.github.com/users/linjieccc/events{/privacy}", "received_events_url": "https://api.github.com/users/linjieccc/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2023-02-01T09:06:01Z", "updated_at": "2023-04-19T00:16:51Z", "closed_at": "2023-04-19T00:16:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "### \u8bf7\u63d0\u51fa\u4f60\u7684\u95ee\u9898\n\n\r\n<img width=\"1075\" alt=\"image\" src=\"https://user-images.githubusercontent.com/64070362/215998852-c8f72ccc-110a-4d77-b809-ade79107e686.png\">\r\n<img width=\"945\" alt=\"image\" src=\"https://user-images.githubusercontent.com/64070362/215998959-343c4ef0-0ab2-4f51-9b2c-5173a2162234.png\">\r\n", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4615/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4615/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4583", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4583/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4583/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4583/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/4583", "id": 1563521898, "node_id": "I_kwDOFAsknM5dMXNq", "number": 4583, "title": "[Bug]: datasets.load_dataset('dureader_qg')\u62a5\u9519", "user": {"login": "xiehuanyi", "id": 74809554, "node_id": "MDQ6VXNlcjc0ODA5NTU0", "avatar_url": "https://avatars.githubusercontent.com/u/74809554?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xiehuanyi", "html_url": "https://github.com/xiehuanyi", "followers_url": "https://api.github.com/users/xiehuanyi/followers", "following_url": "https://api.github.com/users/xiehuanyi/following{/other_user}", "gists_url": "https://api.github.com/users/xiehuanyi/gists{/gist_id}", "starred_url": "https://api.github.com/users/xiehuanyi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xiehuanyi/subscriptions", "organizations_url": "https://api.github.com/users/xiehuanyi/orgs", "repos_url": "https://api.github.com/users/xiehuanyi/repos", "events_url": "https://api.github.com/users/xiehuanyi/events{/privacy}", "received_events_url": "https://api.github.com/users/xiehuanyi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4882422102, "node_id": "LA_kwDOFAsknM8AAAABIwPZVg", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/stale", "name": "stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2023-01-31T02:42:15Z", "updated_at": "2023-04-17T00:15:59Z", "closed_at": "2023-04-17T00:15:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\r\n\r\n```Markdown\r\n- paddle2onnx                    1.0.5\r\n- paddlefsl                      1.1.0\r\n- paddlehub                      2.0.4\r\n- paddlenlp                      2.5.0\r\n- paddlepaddle-gpu               2.1.2.post101\r\n- tb-paddle                      0.3.6\r\n```\r\n\r\n\r\n### \u91cd\u590d\u95ee\u9898\r\n\r\n- [X] I have searched the existing issues\r\n\r\n### \u9519\u8bef\u63cf\u8ff0\r\n\r\n```Markdown\r\n---------------------------------------------------------------------------TypeError                                 Traceback (most recent call last)/tmp/ipykernel_98/2820687049.py in <module>\r\n----> 1 from paddlenlp.datasets import load_dataset\r\n      2 import paddlenlp\r\n      3 train_ds, dev_ds = paddlenlp.datasets.load_dataset('dureader_qg')\r\n      4 \r\n      5 # for idx in range(2):\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlenlp/__init__.py in <module>\r\n     27 import paddle\r\n     28 \r\n---> 29 from . import (\r\n     30     data,\r\n     31     dataaug,\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlenlp/data/__init__.py in <module>\r\n     14 \r\n     15 from .collate import *\r\n---> 16 from .data_collator import *\r\n     17 from .vocab import *\r\n     18 from .sampler import *\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlenlp/data/data_collator.py in <module>\r\n     21 import warnings\r\n     22 from dataclasses import dataclass\r\n---> 23 from ..transformers.tokenizer_utils_base import BatchEncoding, PretrainedTokenizerBase, PaddingStrategy\r\n     24 \r\n     25 __all__ = [\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlenlp/transformers/__init__.py in <module>\r\n     15 \r\n     16 from .configuration_utils import PretrainedConfig\r\n---> 17 from .model_utils import PretrainedModel, register_base_model\r\n     18 from .tokenizer_utils import (\r\n     19     PretrainedTokenizer,\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlenlp/transformers/model_utils.py in <module>\r\n    214 \r\n    215 @six.add_metaclass(InitTrackerMeta)\r\n--> 216 class PretrainedModel(Layer, GenerationMixin, ConversionMixin):\r\n    217     \"\"\"\r\n    218     The base class for all pretrained models. It mainly provides common methods\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/six.py in wrapper(cls)\r\n    892         if hasattr(cls, '__qualname__'):\r\n    893             orig_vars['__qualname__'] = cls.__qualname__\r\n--> 894         return metaclass(cls.__name__, cls.__bases__, orig_vars)\r\n    895     return wrapper\r\n    896 \r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlenlp/transformers/utils.py in __init__(cls, name, bases, attrs)\r\n    140         pre_init_func = getattr(cls, \"_pre_init\", None) if \"__init__\" in attrs else None\r\n    141         post_init_func = getattr(cls, \"_post_init\", None) if \"__init__\" in attrs else None\r\n--> 142         cls.__init__ = InitTrackerMeta.init_and_track_conf(init_func, pre_init_func, post_init_func)\r\n    143         super(InitTrackerMeta, cls).__init__(name, bases, attrs)\r\n    144 \r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlenlp/transformers/utils.py in __setattr__(self, name, value)\r\n    181     def __setattr__(self, name, value):\r\n    182         value = adapt_stale_fwd_patch(self, name, value)\r\n--> 183         return super(InitTrackerMeta, self).__setattr__(name, value)\r\n    184 \r\n    185 \r\nTypeError: can't apply this __setattr__ to type object\r\n```\r\n\r\n\r\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\r\n\r\nai studio 16G V100\u73af\u5883\r\n\u2018\u2019\u2018\r\n!pip install --upgrade paddlenlp\r\nimport paddlenlp\r\ntrain_ds, dev_ds = paddlenlp.datasets.load_dataset('dureader_qg')\r\n\r\n\u2019\u2018\u2019", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4583/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4583/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4525", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4525/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4525/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4525/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/4525", "id": 1548837284, "node_id": "I_kwDOFAsknM5cUWGk", "number": 4525, "title": "[Bug]: \u4ecehuggingface hub\u4e0a\u52a0\u8f7dtokenizer\u7684\u65f6\u5019\u62a5\u9519", "user": {"login": "lugimzzz", "id": 63761690, "node_id": "MDQ6VXNlcjYzNzYxNjkw", "avatar_url": "https://avatars.githubusercontent.com/u/63761690?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lugimzzz", "html_url": "https://github.com/lugimzzz", "followers_url": "https://api.github.com/users/lugimzzz/followers", "following_url": "https://api.github.com/users/lugimzzz/following{/other_user}", "gists_url": "https://api.github.com/users/lugimzzz/gists{/gist_id}", "starred_url": "https://api.github.com/users/lugimzzz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lugimzzz/subscriptions", "organizations_url": "https://api.github.com/users/lugimzzz/orgs", "repos_url": "https://api.github.com/users/lugimzzz/repos", "events_url": "https://api.github.com/users/lugimzzz/events{/privacy}", "received_events_url": "https://api.github.com/users/lugimzzz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4823287676, "node_id": "LA_kwDOFAsknM8AAAABH32HfA", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/fast_tokenizer", "name": "fast_tokenizer", "color": "18F0F5", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "joey12300", "id": 10826371, "node_id": "MDQ6VXNlcjEwODI2Mzcx", "avatar_url": "https://avatars.githubusercontent.com/u/10826371?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joey12300", "html_url": "https://github.com/joey12300", "followers_url": "https://api.github.com/users/joey12300/followers", "following_url": "https://api.github.com/users/joey12300/following{/other_user}", "gists_url": "https://api.github.com/users/joey12300/gists{/gist_id}", "starred_url": "https://api.github.com/users/joey12300/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joey12300/subscriptions", "organizations_url": "https://api.github.com/users/joey12300/orgs", "repos_url": "https://api.github.com/users/joey12300/repos", "events_url": "https://api.github.com/users/joey12300/events{/privacy}", "received_events_url": "https://api.github.com/users/joey12300/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "joey12300", "id": 10826371, "node_id": "MDQ6VXNlcjEwODI2Mzcx", "avatar_url": "https://avatars.githubusercontent.com/u/10826371?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joey12300", "html_url": "https://github.com/joey12300", "followers_url": "https://api.github.com/users/joey12300/followers", "following_url": "https://api.github.com/users/joey12300/following{/other_user}", "gists_url": "https://api.github.com/users/joey12300/gists{/gist_id}", "starred_url": "https://api.github.com/users/joey12300/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joey12300/subscriptions", "organizations_url": "https://api.github.com/users/joey12300/orgs", "repos_url": "https://api.github.com/users/joey12300/repos", "events_url": "https://api.github.com/users/joey12300/events{/privacy}", "received_events_url": "https://api.github.com/users/joey12300/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2023-01-19T09:56:40Z", "updated_at": "2023-01-30T16:15:16Z", "closed_at": "2023-01-30T16:15:16Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\n\n```Markdown\n- paddlepaddle: None\r\n- paddlepaddle-gpu: 2.4.1\r\n- paddlenlp: develop\r\n- fast-tokenizer-python\uff1a1.0.1\n```\n\n\n### \u91cd\u590d\u95ee\u9898\n\n- [X] I have searched the existing issues\n\n### \u9519\u8bef\u63cf\u8ff0\n\n```Markdown\n\u4ecehub\u4e0a\u52a0\u8f7d\u7684\u5206\u8bcd\u6a21\u578b\u5e76\u4e0d\u652f\u6301fast tokenizer\uff0c\u5b89\u88c5\u4e86fast tokenizer\u7684\u73af\u5883\u4e0b\u4ecehub\u52a0\u8f7d\u5206\u8bcd\u5668\u4f1a\u62a5\u9519\u6ca1\u6709'BertFastTokenizer'\u3002\u903b\u8f91\u7f3a\u5c11\u5728init_class\u4e3aNone\uff08\u4e5f\u5373\u4ecehub\u52a0\u8f7dtokenizer\uff09\u7684\u60c5\u51b5\u4e0b\uff0c\u73af\u5883\u652f\u6301fast tokenizer\uff0c\u4f46\u5206\u8bcd\u5668\u4e0d\u652f\u6301\u7684\u60c5\u51b5\u8fdb\u884c\u5224\u65ad\u3002\r\n\r\n\u5e94\u8be5\u4f18\u5316\u6b64\u5904\u4ee3\u7801\uff1ahttps://github.com/PaddlePaddle/PaddleNLP/blob/develop/paddlenlp/transformers/auto/tokenizer.py#L185\r\n\r\n\u62a5\u9519\u5185\u5bb9\uff1a\r\n[2023-01-19 08:59:08,320] [    INFO] - We use pattern recognition to recognize the Tokenizer class.\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/workspace/PaddleNLP/paddlenlp/transformers/auto/tokenizer.py\", line 262, in from_pretrained\r\n    pretrained_model_name_or_path, config_file, use_fast\r\n  File \"/workspace/PaddleNLP/paddlenlp/transformers/auto/tokenizer.py\", line 194, in _get_tokenizer_class_from_config\r\n    tokenizer_class = getattr(import_class, init_class)\r\nAttributeError: module 'paddlenlp.transformers.bert.tokenizer' has no attribute 'BertFastTokenizer'\n```\n\n\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\n\n\u5728\u5b89\u88c5fast tokenizer\u7684\u73af\u5883\u4e0b\u6267\u884c\uff1a\r\n```\r\nfrom paddlenlp.transformers import AutoTokenizer\r\ntokenizer = AutoTokenizer.from_pretrained(\"bert-base-uncased\", from_hf_hub=True, use_fast=False)\r\n```", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4525/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4525/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4495", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4495/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4495/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4495/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/4495", "id": 1534806998, "node_id": "I_kwDOFAsknM5be0vW", "number": 4495, "title": "[Bug]: elmo\u8bad\u7ec3\u62a5\u9519", "user": {"login": "USTCKAY", "id": 50285351, "node_id": "MDQ6VXNlcjUwMjg1MzUx", "avatar_url": "https://avatars.githubusercontent.com/u/50285351?v=4", "gravatar_id": "", "url": "https://api.github.com/users/USTCKAY", "html_url": "https://github.com/USTCKAY", "followers_url": "https://api.github.com/users/USTCKAY/followers", "following_url": "https://api.github.com/users/USTCKAY/following{/other_user}", "gists_url": "https://api.github.com/users/USTCKAY/gists{/gist_id}", "starred_url": "https://api.github.com/users/USTCKAY/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/USTCKAY/subscriptions", "organizations_url": "https://api.github.com/users/USTCKAY/orgs", "repos_url": "https://api.github.com/users/USTCKAY/repos", "events_url": "https://api.github.com/users/USTCKAY/events{/privacy}", "received_events_url": "https://api.github.com/users/USTCKAY/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2023-01-16T11:57:57Z", "updated_at": "2023-01-17T08:07:56Z", "closed_at": "2023-01-17T08:07:34Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\r\n\r\n```Markdown\r\n- paddlepaddle:0.0.0\r\n- paddlepaddle-gpu: 0.0.0.post102\r\n- paddlenlp: 2.4.0.dev0/2.5.0\r\n```\r\n\r\n\r\n### \u91cd\u590d\u95ee\u9898\r\n\r\n- [X] I have searched the existing issues\r\n\r\n### \u9519\u8bef\u63cf\u8ff0\r\n\r\n```Markdown\r\nelmo\u6a21\u578b\u8bad\u7ec3\u65f6\u62a5\u5982\u4e0b\u9519\u8bef\uff1a\r\n\r\nTraceback (most recent call last):\r\n  File \"run_pretrain.py\", line 123, in <module>\r\n    train(args)\r\n  File \"run_pretrain.py\", line 52, in train\r\n    char_vocab_size=vocab.char_size,\r\n  File \"/paddle/PaddleNLP/examples/language_model/elmo/elmo.py\", line 67, in __init__\r\n    char_vocab_size, char_embed_dim, projection_dim, num_highways, cnn_filters, max_characters_per_token\r\n  File \"/paddle/PaddleNLP/examples/language_model/elmo/elmo.py\", line 182, in __init__\r\n    self._char_embedding_layer.weight[0, :] = 0\r\n  File \"/usr/local/python3.7.0/lib/python3.7/site-packages/paddle/fluid/dygraph/varbase_patch_methods.py\", line 845, in __setitem__\r\n    return self.__setitem_eager_tensor__(item, value)\r\nValueError: (InvalidArgument) Leaf Tensor (embedding_0.w_0) that doesn't stop gradient can't use inplace strategy.\r\n  [Hint: Expected egr::egr_utils_api::IsLeafTensor(self->tensor) && !egr::EagerUtils::autograd_meta(&self->tensor)->StopGradient() == false, but received egr::egr_utils_api::IsLeafTensor(self->tensor) && !egr::EagerUtils::autograd_meta(&self->tensor)->StopGradient():1 != false:0.] (at /paddle/paddle/fluid/pybind/eager_method.cc:1128)\r\n```\r\n\r\n\u5728https://github.com/PaddlePaddle/PaddleNLP/blob/d9a485568074d12b3382441f2b6f9f318b0f67a5/examples/language_model/elmo/elmo.py#L182\r\n\u4e4b\u524d\u5c06weight\u7684stop_gradient\u5c5e\u6027\u7f6e\u4e3aTrue\uff0c\u8fd9\u884c\u4e4b\u540e\u518d\u5c06stop_gradient\u5c5e\u6027\u7f6e\u4e3aFalse\u6a21\u578b\u53ef\u4ee5\u6b63\u5e38\u8fd0\u884c\u3002\r\n```\r\n\r\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\r\n\r\nunset CUDA_VISIBLE_DEVICES\r\npython -m paddle.distributed.launch --gpus '0' run_pretrain.py --train_data_path='./1-billion-word/training-tokenized-shuffled/*' --vocab_file='./1-billion-word/vocab-15w.txt' --save_dir='./checkpoints' --device='gpu'", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4495/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4495/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4485", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4485/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4485/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4485/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/4485", "id": 1534131856, "node_id": "I_kwDOFAsknM5bcP6Q", "number": 4485, "title": "[Bug]: \u5f53\u6587\u672c\u4e2d\u5b58\u5728emoji\u65f6\uff0c\u4f7f\u7528tokenizer\u83b7\u53d6offset_mapping\u51fa\u73b0list\u8d8a\u754c\u95ee\u9898", "user": {"login": "1649759610", "id": 35913314, "node_id": "MDQ6VXNlcjM1OTEzMzE0", "avatar_url": "https://avatars.githubusercontent.com/u/35913314?v=4", "gravatar_id": "", "url": "https://api.github.com/users/1649759610", "html_url": "https://github.com/1649759610", "followers_url": "https://api.github.com/users/1649759610/followers", "following_url": "https://api.github.com/users/1649759610/following{/other_user}", "gists_url": "https://api.github.com/users/1649759610/gists{/gist_id}", "starred_url": "https://api.github.com/users/1649759610/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/1649759610/subscriptions", "organizations_url": "https://api.github.com/users/1649759610/orgs", "repos_url": "https://api.github.com/users/1649759610/repos", "events_url": "https://api.github.com/users/1649759610/events{/privacy}", "received_events_url": "https://api.github.com/users/1649759610/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4882422102, "node_id": "LA_kwDOFAsknM8AAAABIwPZVg", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/stale", "name": "stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "wj-Mcat", "id": 10242208, "node_id": "MDQ6VXNlcjEwMjQyMjA4", "avatar_url": "https://avatars.githubusercontent.com/u/10242208?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wj-Mcat", "html_url": "https://github.com/wj-Mcat", "followers_url": "https://api.github.com/users/wj-Mcat/followers", "following_url": "https://api.github.com/users/wj-Mcat/following{/other_user}", "gists_url": "https://api.github.com/users/wj-Mcat/gists{/gist_id}", "starred_url": "https://api.github.com/users/wj-Mcat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wj-Mcat/subscriptions", "organizations_url": "https://api.github.com/users/wj-Mcat/orgs", "repos_url": "https://api.github.com/users/wj-Mcat/repos", "events_url": "https://api.github.com/users/wj-Mcat/events{/privacy}", "received_events_url": "https://api.github.com/users/wj-Mcat/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "wj-Mcat", "id": 10242208, "node_id": "MDQ6VXNlcjEwMjQyMjA4", "avatar_url": "https://avatars.githubusercontent.com/u/10242208?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wj-Mcat", "html_url": "https://github.com/wj-Mcat", "followers_url": "https://api.github.com/users/wj-Mcat/followers", "following_url": "https://api.github.com/users/wj-Mcat/following{/other_user}", "gists_url": "https://api.github.com/users/wj-Mcat/gists{/gist_id}", "starred_url": "https://api.github.com/users/wj-Mcat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wj-Mcat/subscriptions", "organizations_url": "https://api.github.com/users/wj-Mcat/orgs", "repos_url": "https://api.github.com/users/wj-Mcat/repos", "events_url": "https://api.github.com/users/wj-Mcat/events{/privacy}", "received_events_url": "https://api.github.com/users/wj-Mcat/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2023-01-16T02:00:55Z", "updated_at": "2023-04-01T00:16:33Z", "closed_at": "2023-04-01T00:16:33Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\r\n\r\n```Markdown\r\n- paddlepaddle-gpu: 2.4.1\r\n- paddlenlp: 2.5.0\r\n```\r\n\r\n\r\n### \u91cd\u590d\u95ee\u9898\r\n\r\n- [X] I have searched the existing issues\r\n\r\n### \u9519\u8bef\u63cf\u8ff0\r\n\r\n```Markdown\r\n\u5f53\u6587\u672c\u4e2d\u5b58\u5728emoji\u65f6\uff0c\u4f7f\u7528tokenizer\u83b7\u53d6offset_mapping\u4f1a\u51fa\u73b0list\u8d8a\u754c\u95ee\u9898\u3002\u62a5\u9519\u4fe1\u606f\u5982\u4e0b\u3002\r\n\r\n\r\nTraceback (most recent call last):\r\n  File \"/wangqinghui/mynlp/PaddleNLP/test_taskflow.py\", line 28, in <module>\r\n    encoded_inputs = tokenizer(text=text, text_pair=prompt,truncation=True,\r\n  File \"/wangqinghui/mynlp/PaddleNLP/paddlenlp/transformers/tokenizer_utils_base.py\", line 2209, in __call__\r\n    return self.encode(\r\n  File \"/wangqinghui/mynlp/PaddleNLP/paddlenlp/transformers/tokenizer_utils_base.py\", line 2286, in encode\r\n    return self._encode_plus(\r\n  File \"/wangqinghui/mynlp/PaddleNLP/paddlenlp/transformers/tokenizer_utils.py\", line 985, in _encode_plus\r\n    return self.prepare_for_model(\r\n  File \"/wangqinghui/mynlp/PaddleNLP/paddlenlp/transformers/tokenizer_utils_base.py\", line 2768, in prepare_for_model\r\n    token_offset_mapping = self.get_offset_mapping(text)\r\n  File \"/wangqinghui/mynlp/PaddleNLP/paddlenlp/transformers/tokenizer_utils.py\", line 1362, in get_offset_mapping\r\n    return self._get_bert_like_offset_mapping(text)\r\n  File \"/wangqinghui/mynlp/PaddleNLP/paddlenlp/transformers/tokenizer_utils.py\", line 1338, in _get_bert_like_offset_mapping\r\n    token_mapping.append((char_mapping[start], char_mapping[end - 1] + 1))\r\nIndexError: list index out of range\r\n```\r\n\r\n\r\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\r\n\r\nfrom paddlenlp.transformers import AutoTokenizer\r\n\r\ntokenizer = AutoTokenizer.from_pretrained(\"ernie-1.0\")\r\ntext = \"\u3002\u274c\u274c \"\r\nprompt = '\u8bc4\u4ef7\u7ef4\u5ea6'\r\nencoded_inputs = tokenizer(text=text, runcation=True,truncation=True, max_seq_len=self._max_seq_len, pad_to_max_seq_len=True, return_attention_mask=True, return_position_ids=True, return_offsets_mapping=True)\r\n\r\nprint(res)", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4485/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4485/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4458", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4458/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4458/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4458/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/4458", "id": 1530222300, "node_id": "I_kwDOFAsknM5bNVbc", "number": 4458, "title": "[Bug]: \u52a0\u8f7dernie3-nano\u9884\u8bad\u7ec3\u6743\u91cd\u7684\u65f6\u5019\uff0c\u62a5\u4e86\u8b66\u544a\uff0cnano\u6a21\u578b\u67094\u5c42\uff0c\u4e3a\u4ec0\u4e48\u8b66\u544a\u7b2c5\u5c42\u6743\u91cd\u6ca1\u7528\u5230\uff1f", "user": {"login": "Shulin-Zhang", "id": 17463933, "node_id": "MDQ6VXNlcjE3NDYzOTMz", "avatar_url": "https://avatars.githubusercontent.com/u/17463933?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Shulin-Zhang", "html_url": "https://github.com/Shulin-Zhang", "followers_url": "https://api.github.com/users/Shulin-Zhang/followers", "following_url": "https://api.github.com/users/Shulin-Zhang/following{/other_user}", "gists_url": "https://api.github.com/users/Shulin-Zhang/gists{/gist_id}", "starred_url": "https://api.github.com/users/Shulin-Zhang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Shulin-Zhang/subscriptions", "organizations_url": "https://api.github.com/users/Shulin-Zhang/orgs", "repos_url": "https://api.github.com/users/Shulin-Zhang/repos", "events_url": "https://api.github.com/users/Shulin-Zhang/events{/privacy}", "received_events_url": "https://api.github.com/users/Shulin-Zhang/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-01-12T07:15:19Z", "updated_at": "2023-01-19T06:49:00Z", "closed_at": "2023-01-19T06:49:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\r\n\r\n```Markdown\r\npaddlenlp                      2.4.9\r\npaddlepaddle-gpu               2.4.0.post112\r\n```\r\n\r\n\r\n### \u91cd\u590d\u95ee\u9898\r\n\r\n- [X] I have searched the existing issues\r\n\r\n\r\n### \u9519\u8bef\u63cf\u8ff0\r\n\r\n```Markdown\r\nmodel = ErnieForSequenceClassification.from_pretrained('ernie-3.0-nano-zh', num_classes=3)\r\n```\r\n\r\n\u5728\u4f7f\u7528\u4e0a\u9762\u4ee3\u7801\u52a0\u8f7dernie3-nano\u6743\u91cd\u7684\u65f6\u5019\uff0c\u62a5\u4e86\u5982\u4e0b\u8b66\u544a\uff0cnano\u6a21\u578b\u67094\u5c42\uff0c\u4e3a\u4ec0\u4e48\u8b66\u544a\u7b2c5\u5c42\u6743\u91cd\u6ca1\u7528\u5230\uff1f\r\n\r\n<img width=\"935\" alt=\"WechatIMG907\" src=\"https://user-images.githubusercontent.com/17463933/212001940-e8497a54-244b-49c5-ace7-ea6b5eb299b9.png\">\r\n\r\n\r\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\r\n\r\n```Markdown\r\nmodel = ErnieForSequenceClassification.from_pretrained('ernie-3.0-nano-zh', num_classes=3)\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4458/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4458/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4450", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4450/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4450/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4450/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/4450", "id": 1530020483, "node_id": "I_kwDOFAsknM5bMkKD", "number": 4450, "title": "[Bug]: \u8bad\u7ec3GPT\u65f6\u5bfc\u5165parse_config_file\u51fa\u9519", "user": {"login": "USTCKAY", "id": 50285351, "node_id": "MDQ6VXNlcjUwMjg1MzUx", "avatar_url": "https://avatars.githubusercontent.com/u/50285351?v=4", "gravatar_id": "", "url": "https://api.github.com/users/USTCKAY", "html_url": "https://github.com/USTCKAY", "followers_url": "https://api.github.com/users/USTCKAY/followers", "following_url": "https://api.github.com/users/USTCKAY/following{/other_user}", "gists_url": "https://api.github.com/users/USTCKAY/gists{/gist_id}", "starred_url": "https://api.github.com/users/USTCKAY/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/USTCKAY/subscriptions", "organizations_url": "https://api.github.com/users/USTCKAY/orgs", "repos_url": "https://api.github.com/users/USTCKAY/repos", "events_url": "https://api.github.com/users/USTCKAY/events{/privacy}", "received_events_url": "https://api.github.com/users/USTCKAY/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4882422102, "node_id": "LA_kwDOFAsknM8AAAABIwPZVg", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/stale", "name": "stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "wj-Mcat", "id": 10242208, "node_id": "MDQ6VXNlcjEwMjQyMjA4", "avatar_url": "https://avatars.githubusercontent.com/u/10242208?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wj-Mcat", "html_url": "https://github.com/wj-Mcat", "followers_url": "https://api.github.com/users/wj-Mcat/followers", "following_url": "https://api.github.com/users/wj-Mcat/following{/other_user}", "gists_url": "https://api.github.com/users/wj-Mcat/gists{/gist_id}", "starred_url": "https://api.github.com/users/wj-Mcat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wj-Mcat/subscriptions", "organizations_url": "https://api.github.com/users/wj-Mcat/orgs", "repos_url": "https://api.github.com/users/wj-Mcat/repos", "events_url": "https://api.github.com/users/wj-Mcat/events{/privacy}", "received_events_url": "https://api.github.com/users/wj-Mcat/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "wj-Mcat", "id": 10242208, "node_id": "MDQ6VXNlcjEwMjQyMjA4", "avatar_url": "https://avatars.githubusercontent.com/u/10242208?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wj-Mcat", "html_url": "https://github.com/wj-Mcat", "followers_url": "https://api.github.com/users/wj-Mcat/followers", "following_url": "https://api.github.com/users/wj-Mcat/following{/other_user}", "gists_url": "https://api.github.com/users/wj-Mcat/gists{/gist_id}", "starred_url": "https://api.github.com/users/wj-Mcat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wj-Mcat/subscriptions", "organizations_url": "https://api.github.com/users/wj-Mcat/orgs", "repos_url": "https://api.github.com/users/wj-Mcat/repos", "events_url": "https://api.github.com/users/wj-Mcat/events{/privacy}", "received_events_url": "https://api.github.com/users/wj-Mcat/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2023-01-12T03:03:55Z", "updated_at": "2023-03-28T00:17:08Z", "closed_at": "2023-03-28T00:17:08Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\r\n\r\n```Markdown\r\n- paddlepaddle:0.0.0\r\n- paddlepaddle-gpu: \r\n- paddlenlp: 2.4.9/2.4.0.dev0\r\n\r\n\u8bad\u7ec3GPT fine-tuning\u4efb\u52a1\u65f6import parse_config_file\u5931\u8d25\uff0c\r\n\r\n\u6211\u67e5\u770b\u4e86args.py\u7684\u4ee3\u7801\uff0c\u5176\u4e2d\u786e\u5b9e\u6ca1\u6709parse_config_file\uff0c\u53ef\u80fd\u662fimport\u4e86\u9519\u8bef\u7684\u51fd\u6570\uff1f\u8fd8\u662f\u5fd8\u8bb0\u5b9e\u73b0\u4e86\uff1f\u9ebb\u70e6\u6a21\u578b\u540c\u5b66\u786e\u8ba4\u4e00\u4e0b\u3002\r\n```\r\n\r\n\r\n### \u91cd\u590d\u95ee\u9898\r\n\r\n- [X] I have searched the existing issues\r\n\r\n### \u9519\u8bef\u63cf\u8ff0\r\n\r\n```Markdown\r\n\u62a5\u9519\u4fe1\u606f\u5982\u4e0b\uff1a\r\nTraceback (most recent call last):\r\n  File \"run_glue.py\", line 21, in <module>\r\n    from args import parse_config_file\r\nImportError: cannot import name 'parse_config_file' from 'args' (/paddle/PaddleNLP/model_zoo/gpt/args.py)\r\n```\r\n\r\n\r\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\r\n\r\n\u62c9\u53d6\u7684paddleNLP\u6700\u65b0develop\u5206\u652f\u4ee3\u7801\uff0c\u8bad\u7ec3\u6307\u4ee4\u5982\u4e0b\uff1a \r\n```Markdown\r\n    python -m paddle.distributed.launch --gpus \"0\" run_glue.py \\\r\n   --model_name_or_path gpt2-medium-en \\\r\n   --task_name SST-2 \\\r\n   --max_seq_length 128 \\\r\n   --per_device_train_batch_size 32   \\\r\n   --learning_rate 2e-5 \\\r\n   --num_train_epochs 3 \\\r\n   --logging_steps 1 \\\r\n   --save_steps 500 \\\r\n   --output_dir ./output_dir/glue \\\r\n   --eval_steps 1 \\\r\n   --device gpu \\\r\n   --do_train true >train.log 2>&1 &\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4450/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4450/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4430", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4430/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4430/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4430/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/4430", "id": 1528647100, "node_id": "I_kwDOFAsknM5bHU28", "number": 4430, "title": " text_summariztion\u4e2d523M\u7684pegasus tokenizer\u65e0\u6cd5\u4e0b\u8f7d", "user": {"login": "stonebb", "id": 27668466, "node_id": "MDQ6VXNlcjI3NjY4NDY2", "avatar_url": "https://avatars.githubusercontent.com/u/27668466?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stonebb", "html_url": "https://github.com/stonebb", "followers_url": "https://api.github.com/users/stonebb/followers", "following_url": "https://api.github.com/users/stonebb/following{/other_user}", "gists_url": "https://api.github.com/users/stonebb/gists{/gist_id}", "starred_url": "https://api.github.com/users/stonebb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stonebb/subscriptions", "organizations_url": "https://api.github.com/users/stonebb/orgs", "repos_url": "https://api.github.com/users/stonebb/repos", "events_url": "https://api.github.com/users/stonebb/events{/privacy}", "received_events_url": "https://api.github.com/users/stonebb/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "gongel", "id": 24390500, "node_id": "MDQ6VXNlcjI0MzkwNTAw", "avatar_url": "https://avatars.githubusercontent.com/u/24390500?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gongel", "html_url": "https://github.com/gongel", "followers_url": "https://api.github.com/users/gongel/followers", "following_url": "https://api.github.com/users/gongel/following{/other_user}", "gists_url": "https://api.github.com/users/gongel/gists{/gist_id}", "starred_url": "https://api.github.com/users/gongel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gongel/subscriptions", "organizations_url": "https://api.github.com/users/gongel/orgs", "repos_url": "https://api.github.com/users/gongel/repos", "events_url": "https://api.github.com/users/gongel/events{/privacy}", "received_events_url": "https://api.github.com/users/gongel/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gongel", "id": 24390500, "node_id": "MDQ6VXNlcjI0MzkwNTAw", "avatar_url": "https://avatars.githubusercontent.com/u/24390500?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gongel", "html_url": "https://github.com/gongel", "followers_url": "https://api.github.com/users/gongel/followers", "following_url": "https://api.github.com/users/gongel/following{/other_user}", "gists_url": "https://api.github.com/users/gongel/gists{/gist_id}", "starred_url": "https://api.github.com/users/gongel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gongel/subscriptions", "organizations_url": "https://api.github.com/users/gongel/orgs", "repos_url": "https://api.github.com/users/gongel/repos", "events_url": "https://api.github.com/users/gongel/events{/privacy}", "received_events_url": "https://api.github.com/users/gongel/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2023-01-11T08:45:35Z", "updated_at": "2023-01-12T03:54:34Z", "closed_at": "2023-01-12T03:54:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "RuntimeError: Can't load tokenizer for 'IDEA-CCNL/Randeng-Pegasus-523M-Summary-Chinese'.\r\nPlease make sure that 'IDEA-CCNL/Randeng-Pegasus-523M-Summary-Chinese' is:\r\n- a correct model-identifier of built-in pretrained models,\r\n- or a correct model-identifier of community-contributed pretrained models,\r\n- or the correct path to a directory containing relevant tokenizer files.", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4430/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4430/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4391", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4391/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4391/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4391/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/4391", "id": 1526581265, "node_id": "I_kwDOFAsknM5a_cgR", "number": 4391, "title": "[Bug]: Paddle Inference\u8fd0\u884c\u9884\u6d4b\u793a\u4f8b\u7a0b\u5e8fmobilenetv1_full_api.py\u62a5\u9519\uff1aValueError: Unsupported backend: .", "user": {"login": "sweetboxwwy", "id": 38718118, "node_id": "MDQ6VXNlcjM4NzE4MTE4", "avatar_url": "https://avatars.githubusercontent.com/u/38718118?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sweetboxwwy", "html_url": "https://github.com/sweetboxwwy", "followers_url": "https://api.github.com/users/sweetboxwwy/followers", "following_url": "https://api.github.com/users/sweetboxwwy/following{/other_user}", "gists_url": "https://api.github.com/users/sweetboxwwy/gists{/gist_id}", "starred_url": "https://api.github.com/users/sweetboxwwy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sweetboxwwy/subscriptions", "organizations_url": "https://api.github.com/users/sweetboxwwy/orgs", "repos_url": "https://api.github.com/users/sweetboxwwy/repos", "events_url": "https://api.github.com/users/sweetboxwwy/events{/privacy}", "received_events_url": "https://api.github.com/users/sweetboxwwy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-01-10T00:58:50Z", "updated_at": "2023-01-15T04:08:22Z", "closed_at": "2023-01-15T04:08:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\n\n```Markdown\n- paddlepaddle:\r\n- paddlepaddle-gpu: 2.4.1\r\n- paddlenlp: \r\n- CUDA 10.2\r\n- DOCKER\r\n- UBUNTU 18.04\r\n- paddlelite 2.8\n```\n\n\n### \u91cd\u590d\u95ee\u9898\n\n- [X] I have searched the existing issues\n\n### \u9519\u8bef\u63cf\u8ff0\n\n```Markdown\n\u8fd0\u884c\u9884\u6d4b\u793a\u4f8b\u7a0b\u5e8fmobilenetv1_full_api.py\u62a5\u9519\uff1aValueError: Unsupported backend: .\r\n\r\npython mobilenetv1_full_api.py --model_dir=./mobilenet_v1\r\n\r\nTraceback (most recent call last):\r\nFile \"mobilenetv1_full_api.py\", line 237, in <module>\r\nRunModel(args)\r\nFile \"mobilenetv1_full_api.py\", line 184, in RunModel\r\nraise ValueError(\"Unsupported backend: %s.\" % args.backend)\r\nValueError: Unsupported backend: .\n```\n\n\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\n\nhttps://github.com/PaddlePaddle/Paddle-Lite/blob/develop/lite/demo/python/mobilenetv1_full_api.py", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4391/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4391/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4384", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4384/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4384/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4384/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/4384", "id": 1525028983, "node_id": "I_kwDOFAsknM5a5hh3", "number": 4384, "title": "[Bug]: Can't load Mengzi t5 models", "user": {"login": "sijunhe", "id": 11987277, "node_id": "MDQ6VXNlcjExOTg3Mjc3", "avatar_url": "https://avatars.githubusercontent.com/u/11987277?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sijunhe", "html_url": "https://github.com/sijunhe", "followers_url": "https://api.github.com/users/sijunhe/followers", "following_url": "https://api.github.com/users/sijunhe/following{/other_user}", "gists_url": "https://api.github.com/users/sijunhe/gists{/gist_id}", "starred_url": "https://api.github.com/users/sijunhe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sijunhe/subscriptions", "organizations_url": "https://api.github.com/users/sijunhe/orgs", "repos_url": "https://api.github.com/users/sijunhe/repos", "events_url": "https://api.github.com/users/sijunhe/events{/privacy}", "received_events_url": "https://api.github.com/users/sijunhe/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4880074605, "node_id": "LA_kwDOFAsknM8AAAABIuAHbQ", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/triage", "name": "triage", "color": "8F57AB", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "wj-Mcat", "id": 10242208, "node_id": "MDQ6VXNlcjEwMjQyMjA4", "avatar_url": "https://avatars.githubusercontent.com/u/10242208?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wj-Mcat", "html_url": "https://github.com/wj-Mcat", "followers_url": "https://api.github.com/users/wj-Mcat/followers", "following_url": "https://api.github.com/users/wj-Mcat/following{/other_user}", "gists_url": "https://api.github.com/users/wj-Mcat/gists{/gist_id}", "starred_url": "https://api.github.com/users/wj-Mcat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wj-Mcat/subscriptions", "organizations_url": "https://api.github.com/users/wj-Mcat/orgs", "repos_url": "https://api.github.com/users/wj-Mcat/repos", "events_url": "https://api.github.com/users/wj-Mcat/events{/privacy}", "received_events_url": "https://api.github.com/users/wj-Mcat/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "wj-Mcat", "id": 10242208, "node_id": "MDQ6VXNlcjEwMjQyMjA4", "avatar_url": "https://avatars.githubusercontent.com/u/10242208?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wj-Mcat", "html_url": "https://github.com/wj-Mcat", "followers_url": "https://api.github.com/users/wj-Mcat/followers", "following_url": "https://api.github.com/users/wj-Mcat/following{/other_user}", "gists_url": "https://api.github.com/users/wj-Mcat/gists{/gist_id}", "starred_url": "https://api.github.com/users/wj-Mcat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wj-Mcat/subscriptions", "organizations_url": "https://api.github.com/users/wj-Mcat/orgs", "repos_url": "https://api.github.com/users/wj-Mcat/repos", "events_url": "https://api.github.com/users/wj-Mcat/events{/privacy}", "received_events_url": "https://api.github.com/users/wj-Mcat/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2023-01-09T06:51:58Z", "updated_at": "2023-01-11T08:06:29Z", "closed_at": "2023-01-11T08:06:29Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\r\n\r\n```Markdown\r\n- paddlepaddle: 2.4.1\r\n- paddlepaddle-gpu: \r\n- paddlenlp: 2.4.9\r\n```\r\n\r\n\r\n### \u91cd\u590d\u95ee\u9898\r\n\r\n- [X] I have searched the existing issues\r\n\r\n### \u9519\u8bef\u63cf\u8ff0\r\n\r\n```Markdown\r\nFile \"/ssd2/hesijun/workspace/PaddleNLP_sijun/paddlenlp/transformers/model_utils.py\", line 440, in from_pretrained\r\n    return cls.from_pretrained_v2(pretrained_model_name_or_path, from_hf_hub=from_hf_hub, *args, **kwargs)\r\n  File \"/ssd2/hesijun/workspace/PaddleNLP_sijun/paddlenlp/transformers/model_utils.py\", line 1261, in from_pretrained_v2\r\n    model = cls(config, *init_args, **model_kwargs)\r\n  File \"/ssd2/hesijun/workspace/PaddleNLP_sijun/paddlenlp/transformers/utils.py\", line 170, in __impl__\r\n    init_func(self, *args, **kwargs)\r\n  File \"/ssd2/hesijun/workspace/PaddleNLP_sijun/paddlenlp/transformers/t5/modeling.py\", line 1284, in __init__\r\n    self.t5 = T5Model(config)\r\n  File \"/ssd2/hesijun/workspace/PaddleNLP_sijun/paddlenlp/transformers/utils.py\", line 170, in __impl__\r\n    init_func(self, *args, **kwargs)\r\n  File \"/ssd2/hesijun/workspace/PaddleNLP_sijun/paddlenlp/transformers/t5/modeling.py\", line 1043, in __init__\r\n    self.shared = nn.Embedding(config.vocab_size, config.d_model)\r\n  File \"/ssd2/hesijun/miniconda3/envs/paddle_dev/lib/python3.8/site-packages/paddle/nn/layer/common.py\", line 1437, in __init__\r\n    if self._embedding_dim <= 0:\r\nTypeError: '<=' not supported between instances of 'NoneType' and 'int'\r\n```\r\n\r\n\r\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\r\n\r\n```\r\nmodel = AutoModelForConditionalGeneration.from_pretrained(\"Langboat/mengzi-t5-base-mt\")\r\n```\r\n\r\nBoth `Langboat/mengzi-t5-base-mt` and `Langboat/mengzi-t5-base` are broken", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4384/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4384/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4381", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4381/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4381/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4381/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/4381", "id": 1524800323, "node_id": "I_kwDOFAsknM5a4ptD", "number": 4381, "title": "[Bug]: finetune.py\u591a\u5361\u5fae\u8c03\u62a5PretrainedConfig instance not found in the arguments, you can set it as args or kwargs with config field", "user": {"login": "LANSEYOUYUMOWANG", "id": 36221128, "node_id": "MDQ6VXNlcjM2MjIxMTI4", "avatar_url": "https://avatars.githubusercontent.com/u/36221128?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LANSEYOUYUMOWANG", "html_url": "https://github.com/LANSEYOUYUMOWANG", "followers_url": "https://api.github.com/users/LANSEYOUYUMOWANG/followers", "following_url": "https://api.github.com/users/LANSEYOUYUMOWANG/following{/other_user}", "gists_url": "https://api.github.com/users/LANSEYOUYUMOWANG/gists{/gist_id}", "starred_url": "https://api.github.com/users/LANSEYOUYUMOWANG/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LANSEYOUYUMOWANG/subscriptions", "organizations_url": "https://api.github.com/users/LANSEYOUYUMOWANG/orgs", "repos_url": "https://api.github.com/users/LANSEYOUYUMOWANG/repos", "events_url": "https://api.github.com/users/LANSEYOUYUMOWANG/events{/privacy}", "received_events_url": "https://api.github.com/users/LANSEYOUYUMOWANG/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "linjieccc", "id": 40840292, "node_id": "MDQ6VXNlcjQwODQwMjky", "avatar_url": "https://avatars.githubusercontent.com/u/40840292?v=4", "gravatar_id": "", "url": "https://api.github.com/users/linjieccc", "html_url": "https://github.com/linjieccc", "followers_url": "https://api.github.com/users/linjieccc/followers", "following_url": "https://api.github.com/users/linjieccc/following{/other_user}", "gists_url": "https://api.github.com/users/linjieccc/gists{/gist_id}", "starred_url": "https://api.github.com/users/linjieccc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/linjieccc/subscriptions", "organizations_url": "https://api.github.com/users/linjieccc/orgs", "repos_url": "https://api.github.com/users/linjieccc/repos", "events_url": "https://api.github.com/users/linjieccc/events{/privacy}", "received_events_url": "https://api.github.com/users/linjieccc/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "linjieccc", "id": 40840292, "node_id": "MDQ6VXNlcjQwODQwMjky", "avatar_url": "https://avatars.githubusercontent.com/u/40840292?v=4", "gravatar_id": "", "url": "https://api.github.com/users/linjieccc", "html_url": "https://github.com/linjieccc", "followers_url": "https://api.github.com/users/linjieccc/followers", "following_url": "https://api.github.com/users/linjieccc/following{/other_user}", "gists_url": "https://api.github.com/users/linjieccc/gists{/gist_id}", "starred_url": "https://api.github.com/users/linjieccc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/linjieccc/subscriptions", "organizations_url": "https://api.github.com/users/linjieccc/orgs", "repos_url": "https://api.github.com/users/linjieccc/repos", "events_url": "https://api.github.com/users/linjieccc/events{/privacy}", "received_events_url": "https://api.github.com/users/linjieccc/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2023-01-09T01:57:06Z", "updated_at": "2023-02-10T00:52:25Z", "closed_at": "2023-02-10T00:52:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\n\n```Markdown\n- paddlepaddle:\r\n- paddlepaddle-gpu: 2.4.1.post112 \r\n- paddlenlp: 2.4.9\n```\n\n\n### \u91cd\u590d\u95ee\u9898\n\n- [X] I have searched the existing issues\n\n### \u9519\u8bef\u63cf\u8ff0\n\n```Markdown\n\u4f7f\u7528\u4e00\u4e0b\u547d\u4ee4\uff1a\r\npython -u -m paddle.distributed.launch --gpus \"0,1\" finetune.py   --device gpu  --logging_steps 10 --save_steps 100 --eval_steps 100  --seed 42  --model_name_or_path uie-base --output_dir ./checkpoint/model_best --train_path data/train.txt --dev_path data/dev.txt --max_seq_length 512  \r\n\u8fdb\u884c\u591a\u5361\u5fae\u8c03\u65f6\uff0c\u62a5\u5982\u4e0b\u9519\u8bef\r\nTraceback (most recent call last):\r\n  File \"finetune.py\", line 250, in <module>\r\n    main()\r\n  File \"finetune.py\", line 125, in main\r\n    model = UIE.from_pretrained(model_args.model_name_or_path)\r\n  File \"/home/zkzy/anaconda3/envs/paddlenlp_test/lib/python3.8/site-packages/paddlenlp/transformers/model_utils.py\", line 440, in from_pretrained\r\n    return cls.from_pretrained_v2(pretrained_model_name_or_path, from_hf_hub=from_hf_hub, *args, **kwargs)\r\n  File \"/home/zkzy/anaconda3/envs/paddlenlp_test/lib/python3.8/site-packages/paddlenlp/transformers/model_utils.py\", line 1261, in from_pretrained_v2\r\n    model = cls(config, *init_args, **model_kwargs)\r\n  File \"/home/zkzy/anaconda3/envs/paddlenlp_test/lib/python3.8/site-packages/paddlenlp/transformers/utils.py\", line 170, in __impl__\r\n    init_func(self, *args, **kwargs)\r\n  File \"/home/zkzy/PaddleNLP-develop/model_zoo/uie/model.py\", line 22, in __init__\r\n    super(UIE, self).__init__()\r\n  File \"/home/zkzy/anaconda3/envs/paddlenlp_test/lib/python3.8/site-packages/paddlenlp/transformers/utils.py\", line 170, in __impl__\r\n    init_func(self, *args, **kwargs)\r\n  File \"/home/zkzy/anaconda3/envs/paddlenlp_test/lib/python3.8/site-packages/paddlenlp/transformers/utils.py\", line 170, in __impl__\r\n    init_func(self, *args, **kwargs)\r\n  File \"/home/zkzy/anaconda3/envs/paddlenlp_test/lib/python3.8/site-packages/paddlenlp/transformers/model_utils.py\", line 261, in __init__\r\n    raise ValueError(\r\nValueError: PretrainedConfig instance not found in the arguments, you can set it as args or kwargs with config field\n```\n\n\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\n\n\r\n\u73af\u5883\u5982\u4e0b\uff1a\r\n![image](https://user-images.githubusercontent.com/36221128/211230431-d9d9b6d4-7388-47eb-a24f-63dd34f1527a.png)\r\n\u4f7f\u7528python -u -m paddle.distributed.launch --gpus \"0,1\" finetune.py   --device gpu  --logging_steps 10 --save_steps 100 --eval_steps 100  --seed 42  --model_name_or_path uie-base --output_dir ./checkpoint/model_best --train_path data/train.txt --dev_path data/dev.txt --max_seq_length 512  \u547d\u4ee4\u8fdb\u884c\u591a\u5361\u5fae\u8c03", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4381/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4381/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4345", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4345/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4345/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4345/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/4345", "id": 1519840220, "node_id": "I_kwDOFAsknM5aluvc", "number": 4345, "title": "[Bug]: \"PretrainedConfig instance not found in the arguments, you can set it as args or kwargs with config field\" ValueError: PretrainedConfig instance not found in the arguments, you can set it as args or kwargs with config field", "user": {"login": "datalee", "id": 13651873, "node_id": "MDQ6VXNlcjEzNjUxODcz", "avatar_url": "https://avatars.githubusercontent.com/u/13651873?v=4", "gravatar_id": "", "url": "https://api.github.com/users/datalee", "html_url": "https://github.com/datalee", "followers_url": "https://api.github.com/users/datalee/followers", "following_url": "https://api.github.com/users/datalee/following{/other_user}", "gists_url": "https://api.github.com/users/datalee/gists{/gist_id}", "starred_url": "https://api.github.com/users/datalee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/datalee/subscriptions", "organizations_url": "https://api.github.com/users/datalee/orgs", "repos_url": "https://api.github.com/users/datalee/repos", "events_url": "https://api.github.com/users/datalee/events{/privacy}", "received_events_url": "https://api.github.com/users/datalee/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 24, "created_at": "2023-01-05T01:18:08Z", "updated_at": "2023-01-30T08:58:59Z", "closed_at": "2023-01-06T03:28:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\n\n```Markdown\n- paddlepaddle:2.4.1\r\n- paddlepaddle-gpu: None\r\n- paddlenlp: 2.4.9\n```\n\n\n### \u91cd\u590d\u95ee\u9898\n\n- [x] I have searched the existing issues\n\n### \u9519\u8bef\u63cf\u8ff0\n\n```Markdown\n\u4f7f\u7528paddlenlp 2.4.9\u52a8\u6001\u8f6c\u9759\u6001\u6a21\u578b\u65f6\uff0c\u51fa\u73b0\u5982\u4e0b\u62a5\u9519\uff1a\r\n\r\n\"PretrainedConfig instance not found in the arguments, you can set it as args or kwargs with config field\"\r\nValueError: PretrainedConfig instance not found in the arguments, you can set it as args or kwargs with config field\r\n```\r\n\u6a21\u578b\u6587\u4ef6\u5305\u542b\u4ee5\u4e0b\u5185\u5bb9\uff0c\u662f\u57282.4.5\u7248\u672c\u4e0b\u8bad\u7ec3\u7684\uff1a\r\nmodel_config.json\r\nmodel_state.pdparams\r\nspecial_tokens_map.json\r\ntokenizer_config.json\r\nvocab.txt\n```\n\n\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\n\n```\r\nfrom model import UIE\r\n\r\nparser = argparse.ArgumentParser()\r\nparser.add_argument(\"--model_path\", type=str, required=True, default='./checkpoint/model_best', help=\"The path to model parameters to be loaded.\")\r\nparser.add_argument(\"--output_path\", type=str, default='./export', help=\"The path of model parameter in static graph to be saved.\")\r\nargs = parser.parse_args()\r\n\r\nif __name__ == \"__main__\":\r\n    model = UIE.from_pretrained(args.model_path)\r\n    model.eval()\r\n\r\n    # Convert to static graph with specific input description\r\n    model = paddle.jit.to_static(model,\r\n                                 input_spec=[\r\n                                     paddle.static.InputSpec(shape=[None, None],\r\n                                                             dtype=\"int64\",\r\n                                                             name='input_ids'),\r\n                                     paddle.static.InputSpec(\r\n                                         shape=[None, None],\r\n                                         dtype=\"int64\",\r\n                                         name='token_type_ids'),\r\n                                     paddle.static.InputSpec(shape=[None, None],\r\n                                                             dtype=\"int64\",\r\n                                                             name='pos_ids'),\r\n                                     paddle.static.InputSpec(shape=[None, None],\r\n                                                             dtype=\"int64\",\r\n                                                             name='att_mask'),\r\n                                 ])\r\n    # Save in static graph model.\r\n    save_path = os.path.join(args.output_path, \"inference\")\r\n    paddle.jit.save(model, save_path)\r\n```", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4345/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4345/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4336", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4336/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4336/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4336/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/pull/4336", "id": 1518468218, "node_id": "PR_kwDOFAsknM5GmTMa", "number": 4336, "title": "[PPDiffusers] fix dead link and add sd License", "user": {"login": "JunnYu", "id": 50394665, "node_id": "MDQ6VXNlcjUwMzk0NjY1", "avatar_url": "https://avatars.githubusercontent.com/u/50394665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JunnYu", "html_url": "https://github.com/JunnYu", "followers_url": "https://api.github.com/users/JunnYu/followers", "following_url": "https://api.github.com/users/JunnYu/following{/other_user}", "gists_url": "https://api.github.com/users/JunnYu/gists{/gist_id}", "starred_url": "https://api.github.com/users/JunnYu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JunnYu/subscriptions", "organizations_url": "https://api.github.com/users/JunnYu/orgs", "repos_url": "https://api.github.com/users/JunnYu/repos", "events_url": "https://api.github.com/users/JunnYu/events{/privacy}", "received_events_url": "https://api.github.com/users/JunnYu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-01-04T07:29:40Z", "updated_at": "2023-01-04T10:45:48Z", "closed_at": "2023-01-04T07:44:44Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/pulls/4336", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/pull/4336", "diff_url": "https://github.com/PaddlePaddle/PaddleNLP/pull/4336.diff", "patch_url": "https://github.com/PaddlePaddle/PaddleNLP/pull/4336.patch", "merged_at": "2023-01-04T07:44:44Z"}, "body": "<!-- Demo: https://github.com/PaddlePaddle/PaddleNLP/pull/26 -->\r\n### PR types\r\n<!-- One of [ New features | Bug fixes | Function optimization | Performance optimization | Breaking changes | Others ] -->\r\nBug fixes\r\n### PR changes\r\n<!-- One of [ Models | APIs | Docs | Others ] -->\r\nDocs\r\n### Description\r\n<!-- Describe what this PR does -->\r\n- \u4fee\u590d\u6b7b\u94fe\u3002\r\n- \u6dfb\u52a0SD\u7684License\u3002", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4336/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4336/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4328", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4328/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4328/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4328/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/4328", "id": 1518213274, "node_id": "I_kwDOFAsknM5afhia", "number": 4328, "title": "[Bug]: T5 prepare_decoder_input_ids_from_labels return None", "user": {"login": "geasyheart", "id": 11239531, "node_id": "MDQ6VXNlcjExMjM5NTMx", "avatar_url": "https://avatars.githubusercontent.com/u/11239531?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geasyheart", "html_url": "https://github.com/geasyheart", "followers_url": "https://api.github.com/users/geasyheart/followers", "following_url": "https://api.github.com/users/geasyheart/following{/other_user}", "gists_url": "https://api.github.com/users/geasyheart/gists{/gist_id}", "starred_url": "https://api.github.com/users/geasyheart/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geasyheart/subscriptions", "organizations_url": "https://api.github.com/users/geasyheart/orgs", "repos_url": "https://api.github.com/users/geasyheart/repos", "events_url": "https://api.github.com/users/geasyheart/events{/privacy}", "received_events_url": "https://api.github.com/users/geasyheart/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "linjieccc", "id": 40840292, "node_id": "MDQ6VXNlcjQwODQwMjky", "avatar_url": "https://avatars.githubusercontent.com/u/40840292?v=4", "gravatar_id": "", "url": "https://api.github.com/users/linjieccc", "html_url": "https://github.com/linjieccc", "followers_url": "https://api.github.com/users/linjieccc/followers", "following_url": "https://api.github.com/users/linjieccc/following{/other_user}", "gists_url": "https://api.github.com/users/linjieccc/gists{/gist_id}", "starred_url": "https://api.github.com/users/linjieccc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/linjieccc/subscriptions", "organizations_url": "https://api.github.com/users/linjieccc/orgs", "repos_url": "https://api.github.com/users/linjieccc/repos", "events_url": "https://api.github.com/users/linjieccc/events{/privacy}", "received_events_url": "https://api.github.com/users/linjieccc/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "linjieccc", "id": 40840292, "node_id": "MDQ6VXNlcjQwODQwMjky", "avatar_url": "https://avatars.githubusercontent.com/u/40840292?v=4", "gravatar_id": "", "url": "https://api.github.com/users/linjieccc", "html_url": "https://github.com/linjieccc", "followers_url": "https://api.github.com/users/linjieccc/followers", "following_url": "https://api.github.com/users/linjieccc/following{/other_user}", "gists_url": "https://api.github.com/users/linjieccc/gists{/gist_id}", "starred_url": "https://api.github.com/users/linjieccc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/linjieccc/subscriptions", "organizations_url": "https://api.github.com/users/linjieccc/orgs", "repos_url": "https://api.github.com/users/linjieccc/repos", "events_url": "https://api.github.com/users/linjieccc/events{/privacy}", "received_events_url": "https://api.github.com/users/linjieccc/received_events", "type": "User", "site_admin": false}, {"login": "JunnYu", "id": 50394665, "node_id": "MDQ6VXNlcjUwMzk0NjY1", "avatar_url": "https://avatars.githubusercontent.com/u/50394665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JunnYu", "html_url": "https://github.com/JunnYu", "followers_url": "https://api.github.com/users/JunnYu/followers", "following_url": "https://api.github.com/users/JunnYu/following{/other_user}", "gists_url": "https://api.github.com/users/JunnYu/gists{/gist_id}", "starred_url": "https://api.github.com/users/JunnYu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JunnYu/subscriptions", "organizations_url": "https://api.github.com/users/JunnYu/orgs", "repos_url": "https://api.github.com/users/JunnYu/repos", "events_url": "https://api.github.com/users/JunnYu/events{/privacy}", "received_events_url": "https://api.github.com/users/JunnYu/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 8, "created_at": "2023-01-04T02:57:02Z", "updated_at": "2023-01-04T10:45:15Z", "closed_at": "2023-01-04T10:45:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\n\n```Markdown\n- paddlepaddle:\r\n- paddlepaddle-gpu: 2.3.1.post101\r\n- paddlenlp: latest\n```\n\n\n### \u91cd\u590d\u95ee\u9898\n\n- [X] I have searched the existing issues\n\n### \u9519\u8bef\u63cf\u8ff0\n\n```Markdown\n[here](https://github.com/PaddlePaddle/PaddleNLP/blob/255360ffcfb9637a01667311e642a6e8d867694e/examples/information_extraction/DuUIE/uie/seq2struct/data_collator.py#L506)\uff0cself.model.prepare_decoder_input_ids_from_labels\u65b9\u6cd5\u8fd4\u56deNone\u3002\r\n\r\ntype(self.model)\r\n<class 'paddlenlp.transformers.t5.modeling.T5ForConditionalGeneration'>\r\ngetattr(self.model, \"prepare_decoder_input_ids_from_labels\")\r\ngetattr(self.model, \"prepare_decoder_input_ids_from_labels\") is None\r\nTrue\n```\n\n\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\n\n![image](https://user-images.githubusercontent.com/11239531/210475997-67f09d9e-603b-4602-862c-ed02c0e43a10.png)\r\n", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4328/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4328/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4325", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4325/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4325/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4325/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/4325", "id": 1518176257, "node_id": "I_kwDOFAsknM5afYgB", "number": 4325, "title": "[Bug]: autotokenizer\u7684\u5e93\u5c31\u82b1\u4e862.5\u79d2\u800c\u8c03transformer\u7684autotokenizer\u624d\u7528\u4e860.2\u79d2", "user": {"login": "w5688414", "id": 12107462, "node_id": "MDQ6VXNlcjEyMTA3NDYy", "avatar_url": "https://avatars.githubusercontent.com/u/12107462?v=4", "gravatar_id": "", "url": "https://api.github.com/users/w5688414", "html_url": "https://github.com/w5688414", "followers_url": "https://api.github.com/users/w5688414/followers", "following_url": "https://api.github.com/users/w5688414/following{/other_user}", "gists_url": "https://api.github.com/users/w5688414/gists{/gist_id}", "starred_url": "https://api.github.com/users/w5688414/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/w5688414/subscriptions", "organizations_url": "https://api.github.com/users/w5688414/orgs", "repos_url": "https://api.github.com/users/w5688414/repos", "events_url": "https://api.github.com/users/w5688414/events{/privacy}", "received_events_url": "https://api.github.com/users/w5688414/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4882422102, "node_id": "LA_kwDOFAsknM8AAAABIwPZVg", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/stale", "name": "stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2023-01-04T02:04:52Z", "updated_at": "2023-03-21T00:16:18Z", "closed_at": "2023-03-21T00:16:18Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\n\n```Markdown\n- paddlepaddle:\r\n- paddlepaddle-gpu: \r\n- paddlenlp: \r\n\r\n\u7528\u6237\u7fa4\u63d0\u5230\u7684\u95ee\u9898\n```\n\n\n### \u91cd\u590d\u95ee\u9898\n\n- [X] I have searched the existing issues\n\n### \u9519\u8bef\u63cf\u8ff0\n\n```Markdown\nautotokenizer\u7684\u5e93\u5c31\u82b1\u4e862.5\u79d2\u800c\u8c03transformer\u7684autotokenizer\u624d\u7528\u4e860.2\u79d2\n```\n\n\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\n\n![WechatIMG2007](https://user-images.githubusercontent.com/12107462/210471325-d2df7215-15a1-425e-aecc-914a533d6379.jpeg)\r\n![WechatIMG2008](https://user-images.githubusercontent.com/12107462/210471330-45ad836f-da5a-4cc2-8c95-66bb6d7b7887.jpeg)\r\n", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4325/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4325/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4319", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4319/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4319/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4319/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/4319", "id": 1517069129, "node_id": "I_kwDOFAsknM5abKNJ", "number": 4319, "title": "[Bug]: OPT-6.7b\u6a21\u578b\u8bc4\u6d4b\u4e0d\u6b63\u5e38", "user": {"login": "penghanyuphy", "id": 116705918, "node_id": "U_kgDOBvTKfg", "avatar_url": "https://avatars.githubusercontent.com/u/116705918?v=4", "gravatar_id": "", "url": "https://api.github.com/users/penghanyuphy", "html_url": "https://github.com/penghanyuphy", "followers_url": "https://api.github.com/users/penghanyuphy/followers", "following_url": "https://api.github.com/users/penghanyuphy/following{/other_user}", "gists_url": "https://api.github.com/users/penghanyuphy/gists{/gist_id}", "starred_url": "https://api.github.com/users/penghanyuphy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/penghanyuphy/subscriptions", "organizations_url": "https://api.github.com/users/penghanyuphy/orgs", "repos_url": "https://api.github.com/users/penghanyuphy/repos", "events_url": "https://api.github.com/users/penghanyuphy/events{/privacy}", "received_events_url": "https://api.github.com/users/penghanyuphy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4882422102, "node_id": "LA_kwDOFAsknM8AAAABIwPZVg", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/stale", "name": "stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "wj-Mcat", "id": 10242208, "node_id": "MDQ6VXNlcjEwMjQyMjA4", "avatar_url": "https://avatars.githubusercontent.com/u/10242208?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wj-Mcat", "html_url": "https://github.com/wj-Mcat", "followers_url": "https://api.github.com/users/wj-Mcat/followers", "following_url": "https://api.github.com/users/wj-Mcat/following{/other_user}", "gists_url": "https://api.github.com/users/wj-Mcat/gists{/gist_id}", "starred_url": "https://api.github.com/users/wj-Mcat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wj-Mcat/subscriptions", "organizations_url": "https://api.github.com/users/wj-Mcat/orgs", "repos_url": "https://api.github.com/users/wj-Mcat/repos", "events_url": "https://api.github.com/users/wj-Mcat/events{/privacy}", "received_events_url": "https://api.github.com/users/wj-Mcat/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "wj-Mcat", "id": 10242208, "node_id": "MDQ6VXNlcjEwMjQyMjA4", "avatar_url": "https://avatars.githubusercontent.com/u/10242208?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wj-Mcat", "html_url": "https://github.com/wj-Mcat", "followers_url": "https://api.github.com/users/wj-Mcat/followers", "following_url": "https://api.github.com/users/wj-Mcat/following{/other_user}", "gists_url": "https://api.github.com/users/wj-Mcat/gists{/gist_id}", "starred_url": "https://api.github.com/users/wj-Mcat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wj-Mcat/subscriptions", "organizations_url": "https://api.github.com/users/wj-Mcat/orgs", "repos_url": "https://api.github.com/users/wj-Mcat/repos", "events_url": "https://api.github.com/users/wj-Mcat/events{/privacy}", "received_events_url": "https://api.github.com/users/wj-Mcat/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2023-01-03T08:26:03Z", "updated_at": "2023-03-13T01:11:14Z", "closed_at": "2023-03-13T01:11:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\r\n\r\n```Markdown\r\n- paddlepaddle:\r\n- paddlepaddle-gpu: \r\n- paddlenlp:\r\n```\r\n\r\n\r\n### \u91cd\u590d\u95ee\u9898\r\n\r\n- [X] I have searched the existing issues\r\n\r\n### \u9519\u8bef\u63cf\u8ff0\r\n\r\n```Markdown\r\n\u6309\u7167https://github.com/PaddlePaddle/PaddleNLP/tree/develop/examples/text_generation/opt\u91cc\u9762\u7684demo.py\uff0c\u5c06\u91cc\u9762\u7684opt-2.7b\u6a21\u578b\u6362\u6210opt-6.7b\u7684\u6a21\u578b\uff0c\u5bf9\u4e8e\u4e0b\u9762\u540c\u6837\u7684\u8bc4\u6d4b\u6587\u672c\uff0c2.7b\u80fd\u7ed9\u51fa\u5408\u7406\u7684\u56de\u7b54\uff0c\u4f46\u662f6.7b\u6ca1\u6709\u7ed9\u51fa\u5408\u7406\u7684\u56de\u7b54\r\n\r\ninput text: \r\nQuestion:If x is 2 and y is 5, what is x+y?\r\nAnswer: 7\r\n\r\nQuestion: if x is 12 and y is 9, what is x+y?\r\nAnswer:21\r\n\r\nQuestion: if x is 3 and y is 4, what is x+y?\r\n\r\noutput text: \r\nascriptroorooru\r\n igginsatarrooischsql\r\n```\r\n\r\n\r\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\r\n\r\n    demo = Demo(model_name_or_path=\"facebook/opt-6.7b\", max_predict_len=10)", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4319/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4319/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4309", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4309/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4309/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4309/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/4309", "id": 1516232476, "node_id": "I_kwDOFAsknM5aX98c", "number": 4309, "title": "[Bug]: NER\u8f93\u51fa\u9519\u8bef\u7387\u5347\u9ad8", "user": {"login": "axfv", "id": 20575027, "node_id": "MDQ6VXNlcjIwNTc1MDI3", "avatar_url": "https://avatars.githubusercontent.com/u/20575027?v=4", "gravatar_id": "", "url": "https://api.github.com/users/axfv", "html_url": "https://github.com/axfv", "followers_url": "https://api.github.com/users/axfv/followers", "following_url": "https://api.github.com/users/axfv/following{/other_user}", "gists_url": "https://api.github.com/users/axfv/gists{/gist_id}", "starred_url": "https://api.github.com/users/axfv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/axfv/subscriptions", "organizations_url": "https://api.github.com/users/axfv/orgs", "repos_url": "https://api.github.com/users/axfv/repos", "events_url": "https://api.github.com/users/axfv/events{/privacy}", "received_events_url": "https://api.github.com/users/axfv/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4882422102, "node_id": "LA_kwDOFAsknM8AAAABIwPZVg", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/stale", "name": "stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "wj-Mcat", "id": 10242208, "node_id": "MDQ6VXNlcjEwMjQyMjA4", "avatar_url": "https://avatars.githubusercontent.com/u/10242208?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wj-Mcat", "html_url": "https://github.com/wj-Mcat", "followers_url": "https://api.github.com/users/wj-Mcat/followers", "following_url": "https://api.github.com/users/wj-Mcat/following{/other_user}", "gists_url": "https://api.github.com/users/wj-Mcat/gists{/gist_id}", "starred_url": "https://api.github.com/users/wj-Mcat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wj-Mcat/subscriptions", "organizations_url": "https://api.github.com/users/wj-Mcat/orgs", "repos_url": "https://api.github.com/users/wj-Mcat/repos", "events_url": "https://api.github.com/users/wj-Mcat/events{/privacy}", "received_events_url": "https://api.github.com/users/wj-Mcat/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "wj-Mcat", "id": 10242208, "node_id": "MDQ6VXNlcjEwMjQyMjA4", "avatar_url": "https://avatars.githubusercontent.com/u/10242208?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wj-Mcat", "html_url": "https://github.com/wj-Mcat", "followers_url": "https://api.github.com/users/wj-Mcat/followers", "following_url": "https://api.github.com/users/wj-Mcat/following{/other_user}", "gists_url": "https://api.github.com/users/wj-Mcat/gists{/gist_id}", "starred_url": "https://api.github.com/users/wj-Mcat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wj-Mcat/subscriptions", "organizations_url": "https://api.github.com/users/wj-Mcat/orgs", "repos_url": "https://api.github.com/users/wj-Mcat/repos", "events_url": "https://api.github.com/users/wj-Mcat/events{/privacy}", "received_events_url": "https://api.github.com/users/wj-Mcat/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2023-01-02T10:15:07Z", "updated_at": "2023-03-21T00:16:24Z", "closed_at": "2023-03-21T00:16:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\r\n\r\n```Markdown\r\naistudio notebook\r\nPython\u7248\u672c python 3.7\r\n\u6846\u67b6\u7248\u672c PaddlePaddle 2.2.2\r\n```\r\n\r\n\r\n### \u91cd\u590d\u95ee\u9898\r\n\r\n- [X] I have searched the existing issues\r\n\r\n### \u9519\u8bef\u63cf\u8ff0\r\n\r\n```Markdown\r\n\u5b9e\u4f53\u8bc6\u522b\u8f93\u51fa\u9519\u8bef\u7387\u5f88\u9ad8\uff0c2022\u5e7412\u6708\u4f7f\u7528\u90fd\u8fd8\u5f88\u6b63\u5e38\u3002\r\n```\r\n\r\n\r\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\r\n\r\n```console\r\n!pip install --upgrade paddlenlp\r\n```\r\n```python\r\nfrom paddlenlp import Taskflow\r\nner = Taskflow(\"ner\")\r\nner(\"\u300a\u5b64\u5973\u300b\u662f2010\u5e74\u4e5d\u5dde\u51fa\u7248\u793e\u51fa\u7248\u7684\u5c0f\u8bf4\uff0c\u4f5c\u8005\u662f\u4f59\u517c\u7fbd\")\r\n```\r\n```console\r\n>>>[('\u300a\u5b64', '\u836f\u7269\u7c7b'), ('\u5973', '\u7ec4\u7ec7\u673a\u6784\u7c7b'), ('\u300b', 'O'), ('\u662f', 'O'), ('2', 'O'), ('0', '\u65f6\u95f4\u7c7b'), ('1', '\u4ee3\u8bcd'), ('0', '\u672f\u8bed\u7c7b_\u7b26\u53f7\u6307\u6807\u7c7b'), ('\u5e74', '\u672f\u8bed\u7c7b_\u7b26\u53f7\u6307\u6807\u7c7b'), ('\u4e5d', '\u672f\u8bed\u7c7b_\u751f\u7269\u4f53'), ('\u5dde\u51fa', '\u52a9\u8bcd'), ('\u7248\u793e\u51fa ('\u7248\u793e\u51fa\u7248\u7684\u5c0f\u8bf4\uff0c\u4f5c\u8005\u662f\u4f59', '\u75be\u75c5\u635f\u4f24\u7c7b_\u690d\u7269\u75c5\u866b\u5bb3'), ('\u517c', 'O'), ('\u7fbd', 'O')]\r\n```", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4309/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4309/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4308", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4308/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4308/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4308/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/4308", "id": 1516056714, "node_id": "I_kwDOFAsknM5aXTCK", "number": 4308, "title": "[Bug]: paddlenlp\u7684\u7cbe\u786e\u5206\u8bcd\u6548\u679c\u5947\u5dee~", "user": {"login": "ScottishFold007", "id": 36957508, "node_id": "MDQ6VXNlcjM2OTU3NTA4", "avatar_url": "https://avatars.githubusercontent.com/u/36957508?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ScottishFold007", "html_url": "https://github.com/ScottishFold007", "followers_url": "https://api.github.com/users/ScottishFold007/followers", "following_url": "https://api.github.com/users/ScottishFold007/following{/other_user}", "gists_url": "https://api.github.com/users/ScottishFold007/gists{/gist_id}", "starred_url": "https://api.github.com/users/ScottishFold007/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ScottishFold007/subscriptions", "organizations_url": "https://api.github.com/users/ScottishFold007/orgs", "repos_url": "https://api.github.com/users/ScottishFold007/repos", "events_url": "https://api.github.com/users/ScottishFold007/events{/privacy}", "received_events_url": "https://api.github.com/users/ScottishFold007/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4882422102, "node_id": "LA_kwDOFAsknM8AAAABIwPZVg", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/stale", "name": "stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "wj-Mcat", "id": 10242208, "node_id": "MDQ6VXNlcjEwMjQyMjA4", "avatar_url": "https://avatars.githubusercontent.com/u/10242208?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wj-Mcat", "html_url": "https://github.com/wj-Mcat", "followers_url": "https://api.github.com/users/wj-Mcat/followers", "following_url": "https://api.github.com/users/wj-Mcat/following{/other_user}", "gists_url": "https://api.github.com/users/wj-Mcat/gists{/gist_id}", "starred_url": "https://api.github.com/users/wj-Mcat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wj-Mcat/subscriptions", "organizations_url": "https://api.github.com/users/wj-Mcat/orgs", "repos_url": "https://api.github.com/users/wj-Mcat/repos", "events_url": "https://api.github.com/users/wj-Mcat/events{/privacy}", "received_events_url": "https://api.github.com/users/wj-Mcat/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "wj-Mcat", "id": 10242208, "node_id": "MDQ6VXNlcjEwMjQyMjA4", "avatar_url": "https://avatars.githubusercontent.com/u/10242208?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wj-Mcat", "html_url": "https://github.com/wj-Mcat", "followers_url": "https://api.github.com/users/wj-Mcat/followers", "following_url": "https://api.github.com/users/wj-Mcat/following{/other_user}", "gists_url": "https://api.github.com/users/wj-Mcat/gists{/gist_id}", "starred_url": "https://api.github.com/users/wj-Mcat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wj-Mcat/subscriptions", "organizations_url": "https://api.github.com/users/wj-Mcat/orgs", "repos_url": "https://api.github.com/users/wj-Mcat/repos", "events_url": "https://api.github.com/users/wj-Mcat/events{/privacy}", "received_events_url": "https://api.github.com/users/wj-Mcat/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2023-01-02T06:00:14Z", "updated_at": "2023-03-20T00:17:36Z", "closed_at": "2023-03-20T00:17:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\n\n```Markdown\n- paddlepaddle-gpu: 2.4.1\r\n- paddlenlp: 2.4.9\n```\n\n\n### \u91cd\u590d\u95ee\u9898\n\n- [X] I have searched the existing issues\n\n### \u9519\u8bef\u63cf\u8ff0\n\n```Markdown\n\u5982\u4e0b\u56fe\u6240\u793a\uff0c\u591a\u6b21\u6d4b\u8bd5\uff0cpaddlenlp\u7684\u7cbe\u786e\u5206\u8bcd\u6548\u679c\u5947\u5dee~\n```\n\n\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\n\n![image](https://user-images.githubusercontent.com/36957508/210198861-c55a4a7a-fb63-431d-8e3a-e4f55463348b.png)\r\n", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4308/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4308/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4280", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4280/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4280/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4280/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/4280", "id": 1513386617, "node_id": "I_kwDOFAsknM5aNHJ5", "number": 4280, "title": "[Bug]: ERNIE-M DynaBERT develop \u5206\u652f\u62a5\u9519", "user": {"login": "LiuChiachi", "id": 26483581, "node_id": "MDQ6VXNlcjI2NDgzNTgx", "avatar_url": "https://avatars.githubusercontent.com/u/26483581?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LiuChiachi", "html_url": "https://github.com/LiuChiachi", "followers_url": "https://api.github.com/users/LiuChiachi/followers", "following_url": "https://api.github.com/users/LiuChiachi/following{/other_user}", "gists_url": "https://api.github.com/users/LiuChiachi/gists{/gist_id}", "starred_url": "https://api.github.com/users/LiuChiachi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LiuChiachi/subscriptions", "organizations_url": "https://api.github.com/users/LiuChiachi/orgs", "repos_url": "https://api.github.com/users/LiuChiachi/repos", "events_url": "https://api.github.com/users/LiuChiachi/events{/privacy}", "received_events_url": "https://api.github.com/users/LiuChiachi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4882422102, "node_id": "LA_kwDOFAsknM8AAAABIwPZVg", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/stale", "name": "stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "LiuChiachi", "id": 26483581, "node_id": "MDQ6VXNlcjI2NDgzNTgx", "avatar_url": "https://avatars.githubusercontent.com/u/26483581?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LiuChiachi", "html_url": "https://github.com/LiuChiachi", "followers_url": "https://api.github.com/users/LiuChiachi/followers", "following_url": "https://api.github.com/users/LiuChiachi/following{/other_user}", "gists_url": "https://api.github.com/users/LiuChiachi/gists{/gist_id}", "starred_url": "https://api.github.com/users/LiuChiachi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LiuChiachi/subscriptions", "organizations_url": "https://api.github.com/users/LiuChiachi/orgs", "repos_url": "https://api.github.com/users/LiuChiachi/repos", "events_url": "https://api.github.com/users/LiuChiachi/events{/privacy}", "received_events_url": "https://api.github.com/users/LiuChiachi/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "LiuChiachi", "id": 26483581, "node_id": "MDQ6VXNlcjI2NDgzNTgx", "avatar_url": "https://avatars.githubusercontent.com/u/26483581?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LiuChiachi", "html_url": "https://github.com/LiuChiachi", "followers_url": "https://api.github.com/users/LiuChiachi/followers", "following_url": "https://api.github.com/users/LiuChiachi/following{/other_user}", "gists_url": "https://api.github.com/users/LiuChiachi/gists{/gist_id}", "starred_url": "https://api.github.com/users/LiuChiachi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LiuChiachi/subscriptions", "organizations_url": "https://api.github.com/users/LiuChiachi/orgs", "repos_url": "https://api.github.com/users/LiuChiachi/repos", "events_url": "https://api.github.com/users/LiuChiachi/events{/privacy}", "received_events_url": "https://api.github.com/users/LiuChiachi/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2022-12-29T05:18:06Z", "updated_at": "2023-03-15T00:16:49Z", "closed_at": "2023-03-15T00:16:49Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\n\n```Markdown\npaddlepaddle-gpu 2.4.1\n```\n\n\n### \u91cd\u590d\u95ee\u9898\n\n- [X] I have searched the existing issues\n\n### \u9519\u8bef\u63cf\u8ff0\n\n```Markdown\n<img width=\"961\" alt=\"57e5ded92d673930fa382bcc7a754821\" src=\"https://user-images.githubusercontent.com/26483581/209906563-3f494805-8452-41f5-aad9-ba660eff6ba1.png\">\n```\n\n\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\n\n<img width=\"961\" alt=\"57e5ded92d673930fa382bcc7a754821\" src=\"https://user-images.githubusercontent.com/26483581/209906563-3f494805-8452-41f5-aad9-ba660eff6ba1.png\">\r\n", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4280/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4280/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4275", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4275/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4275/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4275/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/4275", "id": 1513309698, "node_id": "I_kwDOFAsknM5aM0YC", "number": 4275, "title": "[Bug]: config\u591a\u5361\u4e0b\u8f7d\u62a5\u9519", "user": {"login": "gongel", "id": 24390500, "node_id": "MDQ6VXNlcjI0MzkwNTAw", "avatar_url": "https://avatars.githubusercontent.com/u/24390500?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gongel", "html_url": "https://github.com/gongel", "followers_url": "https://api.github.com/users/gongel/followers", "following_url": "https://api.github.com/users/gongel/following{/other_user}", "gists_url": "https://api.github.com/users/gongel/gists{/gist_id}", "starred_url": "https://api.github.com/users/gongel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gongel/subscriptions", "organizations_url": "https://api.github.com/users/gongel/orgs", "repos_url": "https://api.github.com/users/gongel/repos", "events_url": "https://api.github.com/users/gongel/events{/privacy}", "received_events_url": "https://api.github.com/users/gongel/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "sijunhe", "id": 11987277, "node_id": "MDQ6VXNlcjExOTg3Mjc3", "avatar_url": "https://avatars.githubusercontent.com/u/11987277?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sijunhe", "html_url": "https://github.com/sijunhe", "followers_url": "https://api.github.com/users/sijunhe/followers", "following_url": "https://api.github.com/users/sijunhe/following{/other_user}", "gists_url": "https://api.github.com/users/sijunhe/gists{/gist_id}", "starred_url": "https://api.github.com/users/sijunhe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sijunhe/subscriptions", "organizations_url": "https://api.github.com/users/sijunhe/orgs", "repos_url": "https://api.github.com/users/sijunhe/repos", "events_url": "https://api.github.com/users/sijunhe/events{/privacy}", "received_events_url": "https://api.github.com/users/sijunhe/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sijunhe", "id": 11987277, "node_id": "MDQ6VXNlcjExOTg3Mjc3", "avatar_url": "https://avatars.githubusercontent.com/u/11987277?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sijunhe", "html_url": "https://github.com/sijunhe", "followers_url": "https://api.github.com/users/sijunhe/followers", "following_url": "https://api.github.com/users/sijunhe/following{/other_user}", "gists_url": "https://api.github.com/users/sijunhe/gists{/gist_id}", "starred_url": "https://api.github.com/users/sijunhe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sijunhe/subscriptions", "organizations_url": "https://api.github.com/users/sijunhe/orgs", "repos_url": "https://api.github.com/users/sijunhe/repos", "events_url": "https://api.github.com/users/sijunhe/events{/privacy}", "received_events_url": "https://api.github.com/users/sijunhe/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2022-12-29T02:23:09Z", "updated_at": "2022-12-30T07:51:48Z", "closed_at": "2022-12-30T07:51:48Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\n\n```Markdown\n- paddlepaddle: \r\n- paddlepaddle-gpu: develop\r\n- paddlenlp: develop\n```\n\n\n### \u91cd\u590d\u95ee\u9898\n\n- [X] I have searched the existing issues\n\n### \u9519\u8bef\u63cf\u8ff0\n\n```Markdown\nconfig\u591a\u5361\u4e0b\u8f7d\u62a5\u9519\n```\n\n\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\n\n<img width=\"1109\" alt=\"4ce8bba3197e225245bb465dfc44537e\" src=\"https://user-images.githubusercontent.com/24390500/209895016-bc86ae93-fb46-4d80-b27c-eb0a30bb9bc4.png\">\r\n", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4275/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4275/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4267", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4267/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4267/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4267/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/4267", "id": 1512619938, "node_id": "I_kwDOFAsknM5aKL-i", "number": 4267, "title": "https://github.com/PaddlePaddle/PaddleNLP/blob/develop/applications/information_extraction/label_studio.py\u9a8c\u8bc1\u96c6\u548c\u6d4b\u8bd5\u96c6\u9ed8\u8ba4\u6784\u9020\u5168\u8d1f\u4f8b\u65e0\u6548", "user": {"login": "AI-Mart", "id": 63343847, "node_id": "MDQ6VXNlcjYzMzQzODQ3", "avatar_url": "https://avatars.githubusercontent.com/u/63343847?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AI-Mart", "html_url": "https://github.com/AI-Mart", "followers_url": "https://api.github.com/users/AI-Mart/followers", "following_url": "https://api.github.com/users/AI-Mart/following{/other_user}", "gists_url": "https://api.github.com/users/AI-Mart/gists{/gist_id}", "starred_url": "https://api.github.com/users/AI-Mart/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AI-Mart/subscriptions", "organizations_url": "https://api.github.com/users/AI-Mart/orgs", "repos_url": "https://api.github.com/users/AI-Mart/repos", "events_url": "https://api.github.com/users/AI-Mart/events{/privacy}", "received_events_url": "https://api.github.com/users/AI-Mart/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4882422102, "node_id": "LA_kwDOFAsknM8AAAABIwPZVg", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/stale", "name": "stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "linjieccc", "id": 40840292, "node_id": "MDQ6VXNlcjQwODQwMjky", "avatar_url": "https://avatars.githubusercontent.com/u/40840292?v=4", "gravatar_id": "", "url": "https://api.github.com/users/linjieccc", "html_url": "https://github.com/linjieccc", "followers_url": "https://api.github.com/users/linjieccc/followers", "following_url": "https://api.github.com/users/linjieccc/following{/other_user}", "gists_url": "https://api.github.com/users/linjieccc/gists{/gist_id}", "starred_url": "https://api.github.com/users/linjieccc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/linjieccc/subscriptions", "organizations_url": "https://api.github.com/users/linjieccc/orgs", "repos_url": "https://api.github.com/users/linjieccc/repos", "events_url": "https://api.github.com/users/linjieccc/events{/privacy}", "received_events_url": "https://api.github.com/users/linjieccc/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "linjieccc", "id": 40840292, "node_id": "MDQ6VXNlcjQwODQwMjky", "avatar_url": "https://avatars.githubusercontent.com/u/40840292?v=4", "gravatar_id": "", "url": "https://api.github.com/users/linjieccc", "html_url": "https://github.com/linjieccc", "followers_url": "https://api.github.com/users/linjieccc/followers", "following_url": "https://api.github.com/users/linjieccc/following{/other_user}", "gists_url": "https://api.github.com/users/linjieccc/gists{/gist_id}", "starred_url": "https://api.github.com/users/linjieccc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/linjieccc/subscriptions", "organizations_url": "https://api.github.com/users/linjieccc/orgs", "repos_url": "https://api.github.com/users/linjieccc/repos", "events_url": "https://api.github.com/users/linjieccc/events{/privacy}", "received_events_url": "https://api.github.com/users/linjieccc/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 9, "created_at": "2022-12-28T09:55:40Z", "updated_at": "2023-03-16T00:18:16Z", "closed_at": "2023-03-16T00:18:16Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\n\n```Markdown\n- paddlepaddle:2.4.1\r\n- paddlepaddle-gpu: \r\n- paddlenlp: 2.4.7\n```\n\n\n### \u91cd\u590d\u95ee\u9898\n\n- [X] I have searched the existing issues\n\n### \u9519\u8bef\u63cf\u8ff0\n\n```Markdown\nhttps://github.com/PaddlePaddle/PaddleNLP/blob/develop/applications/information_extraction/label_studio.py\u9a8c\u8bc1\u96c6\u548c\u6d4b\u8bd5\u96c6\u9ed8\u8ba4\u6784\u9020\u5168\u8d1f\u4f8b\u65e0\u6548\n```\n\n\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\n\n```\r\npython ../label_studio.py \\\r\n    --label_studio_file ./data/label_studio.json \\\r\n    --save_dir ./data \\\r\n    --splits 0 1 0 \\\r\n    --task_type ext \\\r\n    --layout_analysis True\r\n```\r\n```\r\npython ../label_studio.py \\\r\n    --label_studio_file ./data/label_studio.json \\\r\n    --save_dir ./data \\\r\n    --splits 1 0 0 \\\r\n    --task_type ext \\\r\n    --layout_analysis True\r\n```\r\n\u6267\u884c\u4ee5\u4e0a\u4e24\u4e2a\u4ee3\u7801\uff0c\u751f\u6210\u7684\u6570\u636e\u96c6\u662f\u4e00\u6837\u7684\uff0c\u5373\u9a8c\u8bc1\u96c6\u5e76\u6ca1\u6709\u6784\u9020\u5168\u8d1f\u4f8b\uff0cnegative_ratio\u53c2\u6570\u4e5f\u65e0\u6548\uff0c\u76ee\u524d\u8bad\u7ec3\u6a21\u578b\u9700\u8981\u6784\u9020\u5168\u8d1f\u4f8b\u7684\u6570\u636e\u624d\u80fd\u4fdd\u8bc1\u6548\u679c\uff0c\u8bf7\u95ee\u5982\u4f55\u64cd\u4f5c\u624d\u80fd\u751f\u6210\u5168\u8d1f\u4f8b\u7684\u6837\u672c\u6570\u636e\uff1f", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4267/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4267/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4261", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4261/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4261/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4261/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/4261", "id": 1512432249, "node_id": "I_kwDOFAsknM5aJeJ5", "number": 4261, "title": "\u6587\u672c\u5206\u7c7b\u9884\u6d4b\u51fa\u73b0\u7684\u95ee\u9898 ", "user": {"login": "wanggei", "id": 61741330, "node_id": "MDQ6VXNlcjYxNzQxMzMw", "avatar_url": "https://avatars.githubusercontent.com/u/61741330?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wanggei", "html_url": "https://github.com/wanggei", "followers_url": "https://api.github.com/users/wanggei/followers", "following_url": "https://api.github.com/users/wanggei/following{/other_user}", "gists_url": "https://api.github.com/users/wanggei/gists{/gist_id}", "starred_url": "https://api.github.com/users/wanggei/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wanggei/subscriptions", "organizations_url": "https://api.github.com/users/wanggei/orgs", "repos_url": "https://api.github.com/users/wanggei/repos", "events_url": "https://api.github.com/users/wanggei/events{/privacy}", "received_events_url": "https://api.github.com/users/wanggei/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4276088311, "node_id": "LA_kwDOFAsknM7-3-33", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/text%20classification", "name": "text classification", "color": "2ACA78", "default": false, "description": ""}, {"id": 4882422102, "node_id": "LA_kwDOFAsknM8AAAABIwPZVg", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/stale", "name": "stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "lugimzzz", "id": 63761690, "node_id": "MDQ6VXNlcjYzNzYxNjkw", "avatar_url": "https://avatars.githubusercontent.com/u/63761690?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lugimzzz", "html_url": "https://github.com/lugimzzz", "followers_url": "https://api.github.com/users/lugimzzz/followers", "following_url": "https://api.github.com/users/lugimzzz/following{/other_user}", "gists_url": "https://api.github.com/users/lugimzzz/gists{/gist_id}", "starred_url": "https://api.github.com/users/lugimzzz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lugimzzz/subscriptions", "organizations_url": "https://api.github.com/users/lugimzzz/orgs", "repos_url": "https://api.github.com/users/lugimzzz/repos", "events_url": "https://api.github.com/users/lugimzzz/events{/privacy}", "received_events_url": "https://api.github.com/users/lugimzzz/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "lugimzzz", "id": 63761690, "node_id": "MDQ6VXNlcjYzNzYxNjkw", "avatar_url": "https://avatars.githubusercontent.com/u/63761690?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lugimzzz", "html_url": "https://github.com/lugimzzz", "followers_url": "https://api.github.com/users/lugimzzz/followers", "following_url": "https://api.github.com/users/lugimzzz/following{/other_user}", "gists_url": "https://api.github.com/users/lugimzzz/gists{/gist_id}", "starred_url": "https://api.github.com/users/lugimzzz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lugimzzz/subscriptions", "organizations_url": "https://api.github.com/users/lugimzzz/orgs", "repos_url": "https://api.github.com/users/lugimzzz/repos", "events_url": "https://api.github.com/users/lugimzzz/events{/privacy}", "received_events_url": "https://api.github.com/users/lugimzzz/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 29, "created_at": "2022-12-28T05:59:17Z", "updated_at": "2023-03-16T03:14:30Z", "closed_at": "2023-03-15T00:16:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "### \u8bf7\u63d0\u51fa\u4f60\u7684\u95ee\u9898\n\n\u8fdb\u884c\u6587\u672c\u5206\u7c7b\u9884\u6d4b\u65f6\uff0c\u5b89\u88c5\u5b98\u65b9\u7684\u6b65\u9aa4\u751f\u6210\u4e86\u6a21\u677f\uff0c\u4f46\u662f\u8fdb\u884c\u9884\u6d4b\u65f6\u5374\u51fa\u73b0\u4e86\u95ee\u9898``\r\n![image](https://user-images.githubusercontent.com/61741330/209765033-3f6470e2-680f-4106-b0ad-b8548e389875.png)\r\n\u901a\u8fc7\u65ad\u70b9\u5f97\u77e5\u662fmodeling.py\u4e2d\u7684\u5c5e\u6027\u83b7\u53d6\u51fa\u73b0\u95ee\u9898\uff0c\u4f46\u662f\u6a21\u578b\u8bad\u7ec3\u51fa\u6765\u7684config.json\u5e76\u6ca1\u6709\u8fd9\u4e2a\u5c5e\u6027\uff0c\u5bfc\u81f4\u4e0b\u9762\u4ee3\u7801\u7a0b\u5e8f\u51fa\u73b0\u9519\u8bef\r\n![image](https://user-images.githubusercontent.com/61741330/209765252-7cd51340-df2b-4ac6-8cb4-985e7b62cb53.png)\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4261/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4261/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4256", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4256/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4256/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4256/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/4256", "id": 1511673153, "node_id": "I_kwDOFAsknM5aGk1B", "number": 4256, "title": "[Bug]: ErnieLayout  ErnieLayoutEmbedding \u7c7b\u4ee3\u7801bug", "user": {"login": "bo-ke", "id": 30041307, "node_id": "MDQ6VXNlcjMwMDQxMzA3", "avatar_url": "https://avatars.githubusercontent.com/u/30041307?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bo-ke", "html_url": "https://github.com/bo-ke", "followers_url": "https://api.github.com/users/bo-ke/followers", "following_url": "https://api.github.com/users/bo-ke/following{/other_user}", "gists_url": "https://api.github.com/users/bo-ke/gists{/gist_id}", "starred_url": "https://api.github.com/users/bo-ke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bo-ke/subscriptions", "organizations_url": "https://api.github.com/users/bo-ke/orgs", "repos_url": "https://api.github.com/users/bo-ke/repos", "events_url": "https://api.github.com/users/bo-ke/events{/privacy}", "received_events_url": "https://api.github.com/users/bo-ke/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4880074605, "node_id": "LA_kwDOFAsknM8AAAABIuAHbQ", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/triage", "name": "triage", "color": "8F57AB", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-12-27T10:36:33Z", "updated_at": "2022-12-27T11:18:42Z", "closed_at": "2022-12-27T11:18:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\n\n```Markdown\n- paddlepaddle:\r\n- paddlepaddle-gpu: \r\n- paddlenlp: 2.4.5\n```\n\n\n### \u91cd\u590d\u95ee\u9898\n\n- [X] I have searched the existing issues\n\n### \u9519\u8bef\u63cf\u8ff0\n\n```Markdown\nforward \u65b9\u6cd5 \u7684`self.embeddings._cal_spatial_position_embeddings(` `self.layer_norm` \u90fd\u662fbug\u3002\n```\n\n\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\n\n```\r\n# https://github.com/PaddlePaddle/PaddleNLP/blob/develop/paddlenlp/transformers/ernie_layout/modeling.py #line108\r\n\r\nclass ErnieLayoutEmbeddings(Layer):\r\n    \"\"\"\r\n    Include embeddings from word, position and token_type embeddings\r\n    \"\"\"\r\n\r\n    def __init__(self, config: ErnieLayoutConfig):\r\n        super(ErnieLayoutEmbeddings, self).__init__()\r\n        self.word_embeddings = nn.Embedding(config.vocab_size, config.hidden_size)\r\n        self.position_embeddings = nn.Embedding(config.max_position_embeddings, config.hidden_size)\r\n\r\n        self.x_position_embeddings = nn.Embedding(config.max_2d_position_embeddings, config.hidden_size)\r\n        self.y_position_embeddings = nn.Embedding(config.max_2d_position_embeddings, config.hidden_size)\r\n        self.h_position_embeddings = nn.Embedding(config.max_2d_position_embeddings, config.hidden_size)\r\n        self.w_position_embeddings = nn.Embedding(config.max_2d_position_embeddings, config.hidden_size)\r\n\r\n        self.token_type_embeddings = nn.Embedding(config.type_vocab_size, config.hidden_size)\r\n        self.LayerNorm = nn.LayerNorm(config.hidden_size, epsilon=config.layer_norm_eps)\r\n        self.dropout = nn.Dropout(config.hidden_dropout_prob)\r\n\r\n        self.register_buffer(\"position_ids\", paddle.arange(config.max_position_embeddings).expand((1, -1)))\r\n\r\n    def _cal_spatial_position_embeddings(self, bbox):\r\n        try:\r\n            left_position_embeddings = self.x_position_embeddings(bbox[:, :, 0])\r\n            upper_position_embeddings = self.y_position_embeddings(bbox[:, :, 1])\r\n            right_position_embeddings = self.x_position_embeddings(bbox[:, :, 2])\r\n            lower_position_embeddings = self.y_position_embeddings(bbox[:, :, 3])\r\n        except IndexError as e:\r\n            raise IndexError(\"The :obj:`bbox`coordinate values should be within 0-1000 range.\") from e\r\n\r\n        h_position_embeddings = self.h_position_embeddings(bbox[:, :, 3] - bbox[:, :, 1])\r\n        w_position_embeddings = self.w_position_embeddings(bbox[:, :, 2] - bbox[:, :, 0])\r\n        return (\r\n            left_position_embeddings,\r\n            upper_position_embeddings,\r\n            right_position_embeddings,\r\n            lower_position_embeddings,\r\n            h_position_embeddings,\r\n            w_position_embeddings,\r\n        )\r\n\r\n    def forward(self, input_ids, bbox=None, token_type_ids=None, position_ids=None):\r\n        if position_ids is None:\r\n            ones = paddle.ones_like(input_ids, dtype=\"int64\")\r\n            seq_length = paddle.cumsum(ones, axis=-1)\r\n\r\n            position_ids = seq_length - ones\r\n            position_ids.stop_gradient = True\r\n        if token_type_ids is None:\r\n            token_type_ids = paddle.zeros_like(input_ids, dtype=\"int64\")\r\n\r\n        input_embedings = self.word_embeddings(input_ids)\r\n        position_embeddings = self.position_embeddings(position_ids)\r\n        # >>>>>>> bugs\r\n        x1, y1, x2, y2, h, w = self.embeddings._cal_spatial_position_embeddings(bbox)\r\n        # <<<<<<< =======\r\n        token_type_embeddings = self.token_type_embeddings(token_type_ids)\r\n\r\n        embeddings = input_embedings + position_embeddings + x1 + y1 + x2 + y2 + h + w + token_type_embeddings\r\n         # >>>>>>> bugs\r\n        embeddings = self.layer_norm(embeddings)\r\n        # <<<<<<< =======\r\n        embeddings = self.dropout(embeddings)\r\n        return embeddings\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4256/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4256/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4253", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4253/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4253/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4253/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/4253", "id": 1511609660, "node_id": "I_kwDOFAsknM5aGVU8", "number": 4253, "title": "[Bug]: ErnieLayout export_model \u52a8\u8f6c\u9759 \u524d\u5411\u7ed3\u679c\u4e0d\u4e00\u81f4\u95ee\u9898\u3002\u52a8\u8f6c\u9759 input_spec\u5185\u53c2\u6570\uff0c\u9700\u8981\u4e0emodel forward\u65b9\u6cd5\u53c2\u6570\u7684\u987a\u5e8f\u4fdd\u6301\u4e00\u81f4", "user": {"login": "bo-ke", "id": 30041307, "node_id": "MDQ6VXNlcjMwMDQxMzA3", "avatar_url": "https://avatars.githubusercontent.com/u/30041307?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bo-ke", "html_url": "https://github.com/bo-ke", "followers_url": "https://api.github.com/users/bo-ke/followers", "following_url": "https://api.github.com/users/bo-ke/following{/other_user}", "gists_url": "https://api.github.com/users/bo-ke/gists{/gist_id}", "starred_url": "https://api.github.com/users/bo-ke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bo-ke/subscriptions", "organizations_url": "https://api.github.com/users/bo-ke/orgs", "repos_url": "https://api.github.com/users/bo-ke/repos", "events_url": "https://api.github.com/users/bo-ke/events{/privacy}", "received_events_url": "https://api.github.com/users/bo-ke/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "linjieccc", "id": 40840292, "node_id": "MDQ6VXNlcjQwODQwMjky", "avatar_url": "https://avatars.githubusercontent.com/u/40840292?v=4", "gravatar_id": "", "url": "https://api.github.com/users/linjieccc", "html_url": "https://github.com/linjieccc", "followers_url": "https://api.github.com/users/linjieccc/followers", "following_url": "https://api.github.com/users/linjieccc/following{/other_user}", "gists_url": "https://api.github.com/users/linjieccc/gists{/gist_id}", "starred_url": "https://api.github.com/users/linjieccc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/linjieccc/subscriptions", "organizations_url": "https://api.github.com/users/linjieccc/orgs", "repos_url": "https://api.github.com/users/linjieccc/repos", "events_url": "https://api.github.com/users/linjieccc/events{/privacy}", "received_events_url": "https://api.github.com/users/linjieccc/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "linjieccc", "id": 40840292, "node_id": "MDQ6VXNlcjQwODQwMjky", "avatar_url": "https://avatars.githubusercontent.com/u/40840292?v=4", "gravatar_id": "", "url": "https://api.github.com/users/linjieccc", "html_url": "https://github.com/linjieccc", "followers_url": "https://api.github.com/users/linjieccc/followers", "following_url": "https://api.github.com/users/linjieccc/following{/other_user}", "gists_url": "https://api.github.com/users/linjieccc/gists{/gist_id}", "starred_url": "https://api.github.com/users/linjieccc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/linjieccc/subscriptions", "organizations_url": "https://api.github.com/users/linjieccc/orgs", "repos_url": "https://api.github.com/users/linjieccc/repos", "events_url": "https://api.github.com/users/linjieccc/events{/privacy}", "received_events_url": "https://api.github.com/users/linjieccc/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2022-12-27T09:22:06Z", "updated_at": "2022-12-30T07:32:49Z", "closed_at": "2022-12-30T07:32:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\n\n```Markdown\n- paddlepaddle:\r\n- paddlepaddle-gpu: 2.3.2.post110\r\n- paddlenlp: 2.4.5\n```\n\n\n### \u91cd\u590d\u95ee\u9898\n\n- [X] I have searched the existing issues\n\n### \u9519\u8bef\u63cf\u8ff0\n\n```Markdown\npaddlepaddle 2.3.2 \u7248\u672c\u4e0b\uff0c\u52a8\u8f6c\u9759 input_spec\u5185\u53c2\u6570\uff0c\u9700\u8981\u4e0emodel forward\u65b9\u6cd5\u53c2\u6570\u7684\u987a\u5e8f\u4fdd\u6301\u4e00\u81f4 \uff08\u6700\u65b0\u7248\u672c\u672a\u9a8c\u8bc1\uff09\u3002\n```\n\n\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\n\n### \u590d\u73b0\u4ee3\u7801\r\n\r\n```\r\nimport numpy as np\r\nimport paddle\r\n \r\n \r\nclass InferBackend(object):\r\n    def __init__(self, model_path_prefix, device=\"gpu\"):\r\n        print(\">>> [InferBackend] Creating Engine ...\")\r\n        config = paddle.inference.Config(\r\n            model_path_prefix + \".pdmodel\",\r\n            model_path_prefix + \".pdiparams\",\r\n        )\r\n        if device == \"gpu\":\r\n            config.enable_use_gpu(100, 0)\r\n            config.switch_ir_optim(False)\r\n        else:\r\n            config.disable_gpu()\r\n            config.enable_mkldnn()\r\n        config.switch_use_feed_fetch_ops(False)\r\n        config.disable_glog_info()\r\n        config.enable_memory_optim()\r\n        self.predictor = paddle.inference.create_predictor(config)\r\n        self.input_names = [name for name in self.predictor.get_input_names()]\r\n        self.input_handles = [self.predictor.get_input_handle(\r\n            name) for name in self.predictor.get_input_names()]\r\n        self.output_handles = [self.predictor.get_output_handle(\r\n            name) for name in self.predictor.get_output_names()]\r\n        print(\">>> [InferBackend] Engine Created ...\")\r\n \r\n    def infer(self, input_dict: dict):\r\n        for idx, input_name in enumerate(self.input_names):\r\n            self.input_handles[idx].copy_from_cpu(input_dict[input_name])\r\n        self.predictor.run()\r\n        outputs = [output_handle.copy_to_cpu()\r\n                   for output_handle in self.output_handles]\r\n        return outputs\r\n \r\n \r\ndef test_inputs():\r\n    encoding_input = {\r\n        'input_ids': [[0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2]],\r\n        'bbox': [[[0,   0,   0,   0],\r\n                 [56,  31, 377,  60],\r\n                 [56,  78, 947, 107],\r\n                 [56, 121, 964, 149],\r\n                 [56, 163, 957, 192],\r\n                 [56, 205, 964, 249],\r\n                 [56, 263, 964, 322],\r\n                 [56, 336, 964, 382],\r\n                 [88, 393, 418, 407],\r\n                 [56, 420, 964, 464],\r\n                 [56, 478, 964, 523],\r\n                 [56, 536, 964, 564],\r\n                 [56, 578, 964, 623],\r\n                 [56, 635, 964, 696],\r\n                 [0,   0,   0,   0]\r\n                  ]],\r\n        'image': [np.zeros([3, 224, 224])],\r\n        'position_ids': [[0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14]],\r\n        'attention_mask': [[1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]],\r\n        'token_type_ids': [[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]]\r\n    }\r\n    return encoding_input\r\n \r\n \r\ndef raw_model():\r\n    from paddlenlp.transformers.ernie_layout.modeling import ErnieLayoutModel\r\n    model = ErnieLayoutModel.from_pretrained(\"ernie-layoutx-base-uncased\")\r\n    model.eval()\r\n    return model\r\n \r\n \r\ndef export_model():\r\n    model = raw_model()\r\n    model.eval()\r\n    model = paddle.jit.to_static(\r\n        model,\r\n        input_spec=[\r\n            paddle.static.InputSpec(\r\n                shape=[None, None], dtype=\"int64\", name=\"input_ids\"),\r\n            paddle.static.InputSpec(\r\n                shape=[None, None, None], dtype=\"int64\", name=\"bbox\"),\r\n            paddle.static.InputSpec(\r\n                shape=[None, None, None, None], dtype=\"int64\", name=\"image\"),\r\n            paddle.static.InputSpec(\r\n                shape=[None, None], dtype=\"int64\", name=\"attention_mask\"),\r\n            paddle.static.InputSpec(\r\n                shape=[None, None], dtype=\"int64\", name=\"token_type_ids\"),\r\n            paddle.static.InputSpec(\r\n                shape=[None, None], dtype=\"int64\", name=\"position_ids\"),\r\n        ],\r\n    )\r\n    paddle.jit.save(model, \"./inference\")\r\n \r\n \r\nif __name__ == \"__main__\":\r\n    # \u5bfc\u51fainference model\r\n    export_model()\r\n \r\n    inputs = test_inputs()\r\n    inputs = {k: np.array(v) for k, v in inputs.items()}\r\n \r\n    infer_backend = InferBackend(\"./inference\")\r\n \r\n    outputs = infer_backend.infer(inputs)\r\n \r\n    model = raw_model()\r\n    inputs = {k: paddle.to_tensor(v) for k, v in inputs.items()}\r\n    res = model(**inputs)\r\n \r\n    print(res[0])\r\n    print(outputs[0])\r\n    import pdb\r\n    pdb.set_trace()\r\n```\r\n### \u4fee\u590d\u65b9\u6848\r\n```\r\n# https://github.com/PaddlePaddle/PaddleNLP/blob/develop/model_zoo/ernie-layout/export_model.py #line45\r\n model = paddle.jit.to_static(\r\n        model,\r\n        input_spec=[\r\n            paddle.static.InputSpec(shape=[None, None], dtype=\"int64\", name=\"input_ids\"),\r\n            paddle.static.InputSpec(shape=[None, None, None], dtype=\"int64\", name=\"bbox\"),\r\n            paddle.static.InputSpec(shape=[None, None, None, None], dtype=\"int64\", name=\"image\"),\r\n            paddle.static.InputSpec(shape=[None, None], dtype=\"int64\", name=\"attention_mask\"),\r\n            paddle.static.InputSpec(shape=[None, None], dtype=\"int64\", name=\"token_type_ids\"),\r\n            paddle.static.InputSpec(shape=[None, None], dtype=\"int64\", name=\"position_ids\"),\r\n        ],\r\n    )\r\n```\r\n\r\n```\r\n# https://github.com/PaddlePaddle/PaddleNLP/blob/develop/paddlenlp/transformers/ernie_layout/modeling.py #line702\r\ndef forward(\r\n        self,\r\n        input_ids=None,\r\n        bbox=None,\r\n        image=None,\r\n        token_type_ids=None,\r\n        position_ids=None,\r\n        attention_mask=None,\r\n        head_mask=None,\r\n        output_hidden_states=False,\r\n        output_attentions=False,\r\n    ):\r\n```\r\n\u8fd9\u91cc\u53c2\u6570\u987a\u5e8f \u9700\u8981\u6539\u6210\u4e00\u81f4\uff0cname\u5e76\u4e0d\u80fd\u8d77\u5230\u5bf9\u5e94\u53c2\u6570\u5230\u4f5c\u7528\u3002", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4253/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4253/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4246", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4246/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4246/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4246/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/4246", "id": 1511375368, "node_id": "I_kwDOFAsknM5aFcII", "number": 4246, "title": "[Bug]: Taskflow UIE-X config\u52a0\u8f7d\u95ee\u9898", "user": {"login": "linjieccc", "id": 40840292, "node_id": "MDQ6VXNlcjQwODQwMjky", "avatar_url": "https://avatars.githubusercontent.com/u/40840292?v=4", "gravatar_id": "", "url": "https://api.github.com/users/linjieccc", "html_url": "https://github.com/linjieccc", "followers_url": "https://api.github.com/users/linjieccc/followers", "following_url": "https://api.github.com/users/linjieccc/following{/other_user}", "gists_url": "https://api.github.com/users/linjieccc/gists{/gist_id}", "starred_url": "https://api.github.com/users/linjieccc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/linjieccc/subscriptions", "organizations_url": "https://api.github.com/users/linjieccc/orgs", "repos_url": "https://api.github.com/users/linjieccc/repos", "events_url": "https://api.github.com/users/linjieccc/events{/privacy}", "received_events_url": "https://api.github.com/users/linjieccc/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "linjieccc", "id": 40840292, "node_id": "MDQ6VXNlcjQwODQwMjky", "avatar_url": "https://avatars.githubusercontent.com/u/40840292?v=4", "gravatar_id": "", "url": "https://api.github.com/users/linjieccc", "html_url": "https://github.com/linjieccc", "followers_url": "https://api.github.com/users/linjieccc/followers", "following_url": "https://api.github.com/users/linjieccc/following{/other_user}", "gists_url": "https://api.github.com/users/linjieccc/gists{/gist_id}", "starred_url": "https://api.github.com/users/linjieccc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/linjieccc/subscriptions", "organizations_url": "https://api.github.com/users/linjieccc/orgs", "repos_url": "https://api.github.com/users/linjieccc/repos", "events_url": "https://api.github.com/users/linjieccc/events{/privacy}", "received_events_url": "https://api.github.com/users/linjieccc/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "linjieccc", "id": 40840292, "node_id": "MDQ6VXNlcjQwODQwMjky", "avatar_url": "https://avatars.githubusercontent.com/u/40840292?v=4", "gravatar_id": "", "url": "https://api.github.com/users/linjieccc", "html_url": "https://github.com/linjieccc", "followers_url": "https://api.github.com/users/linjieccc/followers", "following_url": "https://api.github.com/users/linjieccc/following{/other_user}", "gists_url": "https://api.github.com/users/linjieccc/gists{/gist_id}", "starred_url": "https://api.github.com/users/linjieccc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/linjieccc/subscriptions", "organizations_url": "https://api.github.com/users/linjieccc/orgs", "repos_url": "https://api.github.com/users/linjieccc/repos", "events_url": "https://api.github.com/users/linjieccc/events{/privacy}", "received_events_url": "https://api.github.com/users/linjieccc/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2022-12-27T02:31:43Z", "updated_at": "2022-12-29T03:44:39Z", "closed_at": "2022-12-29T03:44:39Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\n\n```Markdown\n- paddlepaddle-gpu: 2.4.1\r\n- paddlenlp: 2.4.8\n```\n\n\n### \u91cd\u590d\u95ee\u9898\n\n- [X] I have searched the existing issues\n\n### \u9519\u8bef\u63cf\u8ff0\n\n```Markdown\nTaskflow UIE-X\u901a\u8fc7task_path\u52a0\u8f7d\u5b9a\u5236\u6a21\u578b\u62a5\u9519\n```\n\n\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\n\n\u5f53\u524d\u5347\u7ea7\u4e86PretrainedConfig\u7684\u6a21\u578b\u7edf\u4e00\u7528config.json\u8bfb\u5199\uff08\u4e4b\u524d\u662fmodel_config.json\uff09\uff0cTaskflow\u9700\u8981\u505a\u5bf9\u5e94\u5347\u7ea7\u8fdb\u884c\u517c\u5bb9", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4246/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4246/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4238", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4238/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4238/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4238/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/4238", "id": 1510649858, "node_id": "I_kwDOFAsknM5aCrAC", "number": 4238, "title": "[Bug]: PretrainedConfig \u4e0d\u517c\u5bb9\u5347\u7ea7\u5bfc\u81f4 fast generation \u5168\u90e8\u5931\u8d25", "user": {"login": "FrostML", "id": 7160927, "node_id": "MDQ6VXNlcjcxNjA5Mjc=", "avatar_url": "https://avatars.githubusercontent.com/u/7160927?v=4", "gravatar_id": "", "url": "https://api.github.com/users/FrostML", "html_url": "https://github.com/FrostML", "followers_url": "https://api.github.com/users/FrostML/followers", "following_url": "https://api.github.com/users/FrostML/following{/other_user}", "gists_url": "https://api.github.com/users/FrostML/gists{/gist_id}", "starred_url": "https://api.github.com/users/FrostML/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/FrostML/subscriptions", "organizations_url": "https://api.github.com/users/FrostML/orgs", "repos_url": "https://api.github.com/users/FrostML/repos", "events_url": "https://api.github.com/users/FrostML/events{/privacy}", "received_events_url": "https://api.github.com/users/FrostML/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "FrostML", "id": 7160927, "node_id": "MDQ6VXNlcjcxNjA5Mjc=", "avatar_url": "https://avatars.githubusercontent.com/u/7160927?v=4", "gravatar_id": "", "url": "https://api.github.com/users/FrostML", "html_url": "https://github.com/FrostML", "followers_url": "https://api.github.com/users/FrostML/followers", "following_url": "https://api.github.com/users/FrostML/following{/other_user}", "gists_url": "https://api.github.com/users/FrostML/gists{/gist_id}", "starred_url": "https://api.github.com/users/FrostML/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/FrostML/subscriptions", "organizations_url": "https://api.github.com/users/FrostML/orgs", "repos_url": "https://api.github.com/users/FrostML/repos", "events_url": "https://api.github.com/users/FrostML/events{/privacy}", "received_events_url": "https://api.github.com/users/FrostML/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "FrostML", "id": 7160927, "node_id": "MDQ6VXNlcjcxNjA5Mjc=", "avatar_url": "https://avatars.githubusercontent.com/u/7160927?v=4", "gravatar_id": "", "url": "https://api.github.com/users/FrostML", "html_url": "https://github.com/FrostML", "followers_url": "https://api.github.com/users/FrostML/followers", "following_url": "https://api.github.com/users/FrostML/following{/other_user}", "gists_url": "https://api.github.com/users/FrostML/gists{/gist_id}", "starred_url": "https://api.github.com/users/FrostML/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/FrostML/subscriptions", "organizations_url": "https://api.github.com/users/FrostML/orgs", "repos_url": "https://api.github.com/users/FrostML/repos", "events_url": "https://api.github.com/users/FrostML/events{/privacy}", "received_events_url": "https://api.github.com/users/FrostML/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2022-12-26T06:15:13Z", "updated_at": "2023-01-03T02:19:37Z", "closed_at": "2023-01-03T02:19:18Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\r\n\r\n```Markdown\r\n- paddlepaddle:\r\n- paddlepaddle-gpu: \r\n- paddlenlp: develop \u4ee5\u53ca\u53ef\u80fd\u5305\u542b\u4e00\u4e2a\u6216\u591a\u4e2a\u6b63\u5f0f\u7248\r\n```\r\n\r\n\r\n### \u91cd\u590d\u95ee\u9898\r\n\r\n- [X] I have searched the existing issues\r\n\r\n### \u9519\u8bef\u63cf\u8ff0\r\n\r\n```Markdown\r\nPretrainedConfig \u4e0d\u517c\u5bb9\u5347\u7ea7\u5bfc\u81f4 fast generation \u5168\u90e8\u5931\u8d25\r\n```\r\n\r\n\r\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\r\n\r\n`model.generate(use_faster=True)`", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4238/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4238/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4227", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4227/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4227/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4227/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/4227", "id": 1509305337, "node_id": "I_kwDOFAsknM5Z9iv5", "number": 4227, "title": "[Bug]: UIE Taskflow loads from model_config.json instead of config.json", "user": {"login": "sijunhe", "id": 11987277, "node_id": "MDQ6VXNlcjExOTg3Mjc3", "avatar_url": "https://avatars.githubusercontent.com/u/11987277?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sijunhe", "html_url": "https://github.com/sijunhe", "followers_url": "https://api.github.com/users/sijunhe/followers", "following_url": "https://api.github.com/users/sijunhe/following{/other_user}", "gists_url": "https://api.github.com/users/sijunhe/gists{/gist_id}", "starred_url": "https://api.github.com/users/sijunhe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sijunhe/subscriptions", "organizations_url": "https://api.github.com/users/sijunhe/orgs", "repos_url": "https://api.github.com/users/sijunhe/repos", "events_url": "https://api.github.com/users/sijunhe/events{/privacy}", "received_events_url": "https://api.github.com/users/sijunhe/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "sijunhe", "id": 11987277, "node_id": "MDQ6VXNlcjExOTg3Mjc3", "avatar_url": "https://avatars.githubusercontent.com/u/11987277?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sijunhe", "html_url": "https://github.com/sijunhe", "followers_url": "https://api.github.com/users/sijunhe/followers", "following_url": "https://api.github.com/users/sijunhe/following{/other_user}", "gists_url": "https://api.github.com/users/sijunhe/gists{/gist_id}", "starred_url": "https://api.github.com/users/sijunhe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sijunhe/subscriptions", "organizations_url": "https://api.github.com/users/sijunhe/orgs", "repos_url": "https://api.github.com/users/sijunhe/repos", "events_url": "https://api.github.com/users/sijunhe/events{/privacy}", "received_events_url": "https://api.github.com/users/sijunhe/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sijunhe", "id": 11987277, "node_id": "MDQ6VXNlcjExOTg3Mjc3", "avatar_url": "https://avatars.githubusercontent.com/u/11987277?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sijunhe", "html_url": "https://github.com/sijunhe", "followers_url": "https://api.github.com/users/sijunhe/followers", "following_url": "https://api.github.com/users/sijunhe/following{/other_user}", "gists_url": "https://api.github.com/users/sijunhe/gists{/gist_id}", "starred_url": "https://api.github.com/users/sijunhe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sijunhe/subscriptions", "organizations_url": "https://api.github.com/users/sijunhe/orgs", "repos_url": "https://api.github.com/users/sijunhe/repos", "events_url": "https://api.github.com/users/sijunhe/events{/privacy}", "received_events_url": "https://api.github.com/users/sijunhe/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2022-12-23T12:38:20Z", "updated_at": "2022-12-26T07:30:21Z", "closed_at": "2022-12-26T07:30:21Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\n\n```Markdown\n- paddlepaddle:\r\n- paddlepaddle-gpu: \r\n- paddlenlp: 2.4.7\n```\n\n\n### \u91cd\u590d\u95ee\u9898\n\n- [X] I have searched the existing issues\n\n### \u9519\u8bef\u63cf\u8ff0\n\n```Markdown\nFile \"/home/user/.pyenv/versions/3.8.9/lib/python3.8/site-packages/paddlenlp/taskflow/information_extraction.py\", line 401, in __init__\r\n    config_file_path = hf_hub_download(repo_id=self._task_path, filename=\"model_config.json\")\r\n  File \"/home/user/.pyenv/versions/3.8.9/lib/python3.8/site-packages/huggingface_hub/utils/_validators.py\", line 124, in _inner_fn\r\n    return fn(*args, **kwargs)\r\n  File \"/home/user/.pyenv/versions/3.8.9/lib/python3.8/site-packages/huggingface_hub/file_download.py\", line 1067, in hf_hub_download\r\n    metadata = get_hf_file_metadata(\r\n  File \"/home/user/.pyenv/versions/3.8.9/lib/python3.8/site-packages/huggingface_hub/utils/_validators.py\", line 124, in _inner_fn\r\n    return fn(*args, **kwargs)\r\n```\n```\n\n\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\n\n```\r\ntask_instance = Taskflow(\r\n\"information_extraction\",\r\nmodel=\"uie-x-base\",\r\ntask_path=\"PaddlePaddle/uie-x-base\",\r\nfrom_hf_hub=True)\r\n```", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4227/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4227/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4224", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4224/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4224/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4224/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/4224", "id": 1509185215, "node_id": "I_kwDOFAsknM5Z9Fa_", "number": 4224, "title": "[Bug]: Ernie 3.0 has extra parameters in model_state.pdparams", "user": {"login": "sijunhe", "id": 11987277, "node_id": "MDQ6VXNlcjExOTg3Mjc3", "avatar_url": "https://avatars.githubusercontent.com/u/11987277?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sijunhe", "html_url": "https://github.com/sijunhe", "followers_url": "https://api.github.com/users/sijunhe/followers", "following_url": "https://api.github.com/users/sijunhe/following{/other_user}", "gists_url": "https://api.github.com/users/sijunhe/gists{/gist_id}", "starred_url": "https://api.github.com/users/sijunhe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sijunhe/subscriptions", "organizations_url": "https://api.github.com/users/sijunhe/orgs", "repos_url": "https://api.github.com/users/sijunhe/repos", "events_url": "https://api.github.com/users/sijunhe/events{/privacy}", "received_events_url": "https://api.github.com/users/sijunhe/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4882422102, "node_id": "LA_kwDOFAsknM8AAAABIwPZVg", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/stale", "name": "stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "wawltor", "id": 16698950, "node_id": "MDQ6VXNlcjE2Njk4OTUw", "avatar_url": "https://avatars.githubusercontent.com/u/16698950?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wawltor", "html_url": "https://github.com/wawltor", "followers_url": "https://api.github.com/users/wawltor/followers", "following_url": "https://api.github.com/users/wawltor/following{/other_user}", "gists_url": "https://api.github.com/users/wawltor/gists{/gist_id}", "starred_url": "https://api.github.com/users/wawltor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wawltor/subscriptions", "organizations_url": "https://api.github.com/users/wawltor/orgs", "repos_url": "https://api.github.com/users/wawltor/repos", "events_url": "https://api.github.com/users/wawltor/events{/privacy}", "received_events_url": "https://api.github.com/users/wawltor/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "wawltor", "id": 16698950, "node_id": "MDQ6VXNlcjE2Njk4OTUw", "avatar_url": "https://avatars.githubusercontent.com/u/16698950?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wawltor", "html_url": "https://github.com/wawltor", "followers_url": "https://api.github.com/users/wawltor/followers", "following_url": "https://api.github.com/users/wawltor/following{/other_user}", "gists_url": "https://api.github.com/users/wawltor/gists{/gist_id}", "starred_url": "https://api.github.com/users/wawltor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wawltor/subscriptions", "organizations_url": "https://api.github.com/users/wawltor/orgs", "repos_url": "https://api.github.com/users/wawltor/repos", "events_url": "https://api.github.com/users/wawltor/events{/privacy}", "received_events_url": "https://api.github.com/users/wawltor/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2022-12-23T10:40:27Z", "updated_at": "2023-02-24T04:04:10Z", "closed_at": "2023-02-24T04:04:10Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\n\n```Markdown\n- paddlepaddle:\r\n- paddlepaddle-gpu: \r\n- paddlenlp: 2.4.6\n```\n\n\n### \u91cd\u590d\u95ee\u9898\n\n- [X] I have searched the existing issues\n\n### \u9519\u8bef\u63cf\u8ff0\n\n```Markdown\nSome weights of the model checkpoint at ernie-3.0-micro-zh were not used when initializing. Looks like the model checkpoint has one extra layer `ernie.encoder.layers.4` ?\n```\n\n\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\n\n```\r\n>> model = AutoModel.from_pretrained(\"ernie-3.0-micro-zh\")\r\nConfiguration saved in /ssd2/hesijun/.paddlenlp/models/ernie-3.0-micro-zh/config.json\r\nW1223 18:36:22.823575 38775 gpu_resources.cc:61] Please NOTE: device: 0, GPU Compute Capability: 7.0, Driver API Version: 10.2, Runtime API Version: 10.2\r\nW1223 18:36:22.831390 38775 gpu_resources.cc:91] device: 0, cuDNN Version: 7.6.\r\n[2022-12-23 18:36:24,770] [ WARNING] - Some weights of the model checkpoint at ernie-3.0-micro-zh were not used when initializing ErnieModel: ['ernie.encoder.layers.4.self_attn.out_proj.bias', 'ernie.encoder.layers.4.self_attn.v_proj.bias', 'ernie.encoder.layers.4.norm2.weight', 'ernie.encoder.layers.4.self_attn.k_proj.weight', 'ernie.encoder.layers.4.self_attn.q_proj.bias', 'ernie.encoder.layers.4.linear2.weight', 'ernie.encoder.layers.4.linear1.bias', 'ernie.encoder.layers.4.linear2.bias', 'ernie.encoder.layers.4.self_attn.q_proj.weight', 'ernie.encoder.layers.4.linear1.weight', 'ernie.encoder.layers.4.self_attn.v_proj.weight', 'ernie.encoder.layers.4.self_attn.out_proj.weight', 'ernie.encoder.layers.4.norm1.bias', 'ernie.encoder.layers.4.norm1.weight', 'ernie.encoder.layers.4.norm2.bias', 'ernie.encoder.layers.4.self_attn.k_proj.bias']\r\n- This IS expected if you are initializing ErnieModel from the checkpoint of a model trained on another task or with another architecture (e.g. initializing a BertForSequenceClassification model from a BertForPreTraining model).\r\n- This IS NOT expected if you are initializing ErnieModel from the checkpoint of a model that you expect to be exactly identical (initializing a BertForSequenceClassification model from a BertForSequenceClassification model).\r\n[2022-12-23 18:36:24,771] [ WARNING] - Some weights of ErnieModel were not initialized from the model checkpoint at ernie-3.0-micro-zh and are newly initialized: ['ernie.pooler.dense.bias', 'ernie.pooler.dense.weight']\r\n```", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4224/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4224/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4204", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4204/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4204/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4204/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/4204", "id": 1507525863, "node_id": "I_kwDOFAsknM5Z2wTn", "number": 4204, "title": "PaddleNLP/applications/information_extraction/document/ uie-x \u8bad\u7ec3\u96c6\u62df\u5408\u4e0d\u5145\u5206", "user": {"login": "AI-Mart", "id": 63343847, "node_id": "MDQ6VXNlcjYzMzQzODQ3", "avatar_url": "https://avatars.githubusercontent.com/u/63343847?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AI-Mart", "html_url": "https://github.com/AI-Mart", "followers_url": "https://api.github.com/users/AI-Mart/followers", "following_url": "https://api.github.com/users/AI-Mart/following{/other_user}", "gists_url": "https://api.github.com/users/AI-Mart/gists{/gist_id}", "starred_url": "https://api.github.com/users/AI-Mart/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AI-Mart/subscriptions", "organizations_url": "https://api.github.com/users/AI-Mart/orgs", "repos_url": "https://api.github.com/users/AI-Mart/repos", "events_url": "https://api.github.com/users/AI-Mart/events{/privacy}", "received_events_url": "https://api.github.com/users/AI-Mart/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4882422102, "node_id": "LA_kwDOFAsknM8AAAABIwPZVg", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/stale", "name": "stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "linjieccc", "id": 40840292, "node_id": "MDQ6VXNlcjQwODQwMjky", "avatar_url": "https://avatars.githubusercontent.com/u/40840292?v=4", "gravatar_id": "", "url": "https://api.github.com/users/linjieccc", "html_url": "https://github.com/linjieccc", "followers_url": "https://api.github.com/users/linjieccc/followers", "following_url": "https://api.github.com/users/linjieccc/following{/other_user}", "gists_url": "https://api.github.com/users/linjieccc/gists{/gist_id}", "starred_url": "https://api.github.com/users/linjieccc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/linjieccc/subscriptions", "organizations_url": "https://api.github.com/users/linjieccc/orgs", "repos_url": "https://api.github.com/users/linjieccc/repos", "events_url": "https://api.github.com/users/linjieccc/events{/privacy}", "received_events_url": "https://api.github.com/users/linjieccc/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "linjieccc", "id": 40840292, "node_id": "MDQ6VXNlcjQwODQwMjky", "avatar_url": "https://avatars.githubusercontent.com/u/40840292?v=4", "gravatar_id": "", "url": "https://api.github.com/users/linjieccc", "html_url": "https://github.com/linjieccc", "followers_url": "https://api.github.com/users/linjieccc/followers", "following_url": "https://api.github.com/users/linjieccc/following{/other_user}", "gists_url": "https://api.github.com/users/linjieccc/gists{/gist_id}", "starred_url": "https://api.github.com/users/linjieccc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/linjieccc/subscriptions", "organizations_url": "https://api.github.com/users/linjieccc/orgs", "repos_url": "https://api.github.com/users/linjieccc/repos", "events_url": "https://api.github.com/users/linjieccc/events{/privacy}", "received_events_url": "https://api.github.com/users/linjieccc/received_events", "type": "User", "site_admin": false}, {"login": "lugimzzz", "id": 63761690, "node_id": "MDQ6VXNlcjYzNzYxNjkw", "avatar_url": "https://avatars.githubusercontent.com/u/63761690?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lugimzzz", "html_url": "https://github.com/lugimzzz", "followers_url": "https://api.github.com/users/lugimzzz/followers", "following_url": "https://api.github.com/users/lugimzzz/following{/other_user}", "gists_url": "https://api.github.com/users/lugimzzz/gists{/gist_id}", "starred_url": "https://api.github.com/users/lugimzzz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lugimzzz/subscriptions", "organizations_url": "https://api.github.com/users/lugimzzz/orgs", "repos_url": "https://api.github.com/users/lugimzzz/repos", "events_url": "https://api.github.com/users/lugimzzz/events{/privacy}", "received_events_url": "https://api.github.com/users/lugimzzz/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 7, "created_at": "2022-12-22T09:22:11Z", "updated_at": "2023-03-14T00:16:25Z", "closed_at": "2023-03-14T00:16:25Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\r\n\r\n```Markdown\r\n- paddlepaddle:2.4\r\n- paddlepaddle-gpu: 2.4\r\n- paddlenlp: 2.4.5\r\n```\r\n\r\n\r\n### \u91cd\u590d\u95ee\u9898\r\n\r\n- [X] I have searched the existing issues\r\n\r\n### \u9519\u8bef\u63cf\u8ff0\r\n\r\n\u5b98\u65b9\u539f\u59cb\u6570\u636e\u548c\u4ee3\u7801\uff0c\u7528\u5b98\u65b9\u7684\u8bad\u7ec3\u96c6\u6570\u636e\u76f4\u63a5\u4f5c\u4e3a\u9a8c\u8bc1\u96c6\u6570\u636e\uff0c\u8bad\u7ec3\u6a21\u578b\uff0c\u53d1\u73b0\u9a8c\u8bc1\u96c6\u7684\u7ed3\u679cp/c/f\u8fbe\u4e0d\u5230100%\uff0c\u6700\u597d\u5927\u698290%\u591a\uff0c\u6309\u7406\u4e00\u822c\u90fd\u662f\u5728\u8bad\u7ec3\u96c6\u4e0a\u8981100%\u62df\u5408\u624d\u80fd\u8bf4\u660e\u6a21\u578b\u6216\u8005\u6570\u636e\u9884\u5904\u7406\u672c\u8eab\u6ca1\u95ee\u9898\uff0c\u76ee\u524d\u8bf4\u660e\u6a21\u578b\u4e0d\u80fd\u5b8c\u5168\u62df\u5408\u81ea\u5df1\u8bad\u7ec3\u7684\u6570\u636e\u96c6\uff0c\u662f\u4e0d\u662f\u6570\u636e\u96c6\u672c\u8eab\u6709\u95ee\u9898\u6216\u8005\u6a21\u578b\u7684\u62df\u5408\u5ea6\u4e0d\u591f\uff0c\u80fd\u5426\u9a8c\u8bc1\u4e0b\uff0c\u627e\u4e0b\u539f\u56e0\uff0c\u8c22\u8c22\u3002\r\n\r\n\r\n\r\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\r\n\r\n\u6309\u7167\u5b98\u65b9\u6b65\u9aa4\uff0c\u628a\u539f\u59cb\u751f\u6210\u7684\u9a8c\u8bc1\u96c6dev\u5220\u9664\u4e86\uff0c\u628a\u539f\u59cb\u8bad\u7ec3\u96c6train,\u590d\u5236\u7c98\u8d34\u4e00\u4efd\uff0c\u7136\u540e\u628a\u540d\u5b57\u6539\u6210dev\u5373\u53ef\u9a8c\u8bc1", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4204/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4204/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4200", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4200/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4200/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4200/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/4200", "id": 1507259062, "node_id": "I_kwDOFAsknM5Z1vK2", "number": 4200, "title": "[Bug]: TypeError: forward() got an unexpected keyword argument 'pos_ids'", "user": {"login": "xiaohuqi", "id": 25559268, "node_id": "MDQ6VXNlcjI1NTU5MjY4", "avatar_url": "https://avatars.githubusercontent.com/u/25559268?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xiaohuqi", "html_url": "https://github.com/xiaohuqi", "followers_url": "https://api.github.com/users/xiaohuqi/followers", "following_url": "https://api.github.com/users/xiaohuqi/following{/other_user}", "gists_url": "https://api.github.com/users/xiaohuqi/gists{/gist_id}", "starred_url": "https://api.github.com/users/xiaohuqi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xiaohuqi/subscriptions", "organizations_url": "https://api.github.com/users/xiaohuqi/orgs", "repos_url": "https://api.github.com/users/xiaohuqi/repos", "events_url": "https://api.github.com/users/xiaohuqi/events{/privacy}", "received_events_url": "https://api.github.com/users/xiaohuqi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4882422102, "node_id": "LA_kwDOFAsknM8AAAABIwPZVg", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/stale", "name": "stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "wawltor", "id": 16698950, "node_id": "MDQ6VXNlcjE2Njk4OTUw", "avatar_url": "https://avatars.githubusercontent.com/u/16698950?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wawltor", "html_url": "https://github.com/wawltor", "followers_url": "https://api.github.com/users/wawltor/followers", "following_url": "https://api.github.com/users/wawltor/following{/other_user}", "gists_url": "https://api.github.com/users/wawltor/gists{/gist_id}", "starred_url": "https://api.github.com/users/wawltor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wawltor/subscriptions", "organizations_url": "https://api.github.com/users/wawltor/orgs", "repos_url": "https://api.github.com/users/wawltor/repos", "events_url": "https://api.github.com/users/wawltor/events{/privacy}", "received_events_url": "https://api.github.com/users/wawltor/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "wawltor", "id": 16698950, "node_id": "MDQ6VXNlcjE2Njk4OTUw", "avatar_url": "https://avatars.githubusercontent.com/u/16698950?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wawltor", "html_url": "https://github.com/wawltor", "followers_url": "https://api.github.com/users/wawltor/followers", "following_url": "https://api.github.com/users/wawltor/following{/other_user}", "gists_url": "https://api.github.com/users/wawltor/gists{/gist_id}", "starred_url": "https://api.github.com/users/wawltor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wawltor/subscriptions", "organizations_url": "https://api.github.com/users/wawltor/orgs", "repos_url": "https://api.github.com/users/wawltor/repos", "events_url": "https://api.github.com/users/wawltor/events{/privacy}", "received_events_url": "https://api.github.com/users/wawltor/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2022-12-22T04:40:42Z", "updated_at": "2023-03-07T00:18:43Z", "closed_at": "2023-03-07T00:18:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\n\n```Markdown\n- paddlepaddle:\r\n- paddlepaddle-gpu: 2.4.0.post112\r\n- paddlenlp: 2.4.5\n```\n\n\n### \u91cd\u590d\u95ee\u9898\n\n- [X] I have searched the existing issues\n\n### \u9519\u8bef\u63cf\u8ff0\n\n```Markdown\nTraceback (most recent call last):\r\n  File \"finetune.py\", line 245, in <module>\r\n    main()\r\n  File \"finetune.py\", line 184, in main\r\n    train_result = trainer.train(resume_from_checkpoint=checkpoint)\r\n  File \"/work/anaconda3/envs/uie_env/lib/python3.8/site-packages/paddlenlp/trainer/trainer.py\", line 614, in train\r\n    tr_loss_step = self.training_step(model, inputs)\r\n  File \"/work/anaconda3/envs/uie_env/lib/python3.8/site-packages/paddlenlp/trainer/trainer.py\", line 1253, in training_step\r\n    loss = self.compute_loss(model, inputs)\r\n  File \"/work/anaconda3/envs/uie_env/lib/python3.8/site-packages/paddlenlp/trainer/trainer.py\", line 1215, in compute_loss\r\n    outputs = model(**inputs)\r\n  File \"/work/anaconda3/envs/uie_env/lib/python3.8/site-packages/paddle/fluid/dygraph/layers.py\", line 948, in __call__\r\n    return self.forward(*inputs, **kwargs)\r\nTypeError: forward() got an unexpected keyword argument 'pos_ids'\n```\n\n\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\n\npython finetune.py  \\\r\n    --device gpu \\\r\n    --logging_steps 10 \\\r\n    --save_steps 10 \\\r\n    --eval_steps 10 \\\r\n    --seed 42 \\\r\n    --model_name_or_path uie-base \\\r\n    --output_dir ./checkpoint/model_best \\\r\n    --train_path ./train.txt \\\r\n    --dev_path ./dev.txt  \\\r\n    --max_seq_length 512  \\\r\n    --per_device_eval_batch_size 5 \\\r\n    --per_device_train_batch_size  5 \\\r\n    --num_train_epochs 5 \\\r\n    --learning_rate 1e-5 \\\r\n    --label_names 'start_positions' 'end_positions' \\\r\n    --do_train \\\r\n    --do_eval \\\r\n    --do_export \\\r\n    --export_model_dir ./checkpoint/model_best \\\r\n    --overwrite_output_dir \\\r\n    --disable_tqdm True \\\r\n    --metric_for_best_model eval_f1 \\\r\n    --load_best_model_at_end  True \\\r\n    --save_total_limit 1", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4200/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4200/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4189", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4189/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4189/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4189/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/4189", "id": 1506013914, "node_id": "I_kwDOFAsknM5Zw_La", "number": 4189, "title": "[Bug]: paddlenlp \u7684Taskflow\u90e8\u5206\u7c7b\u578b\u65e0\u6cd5\u5b9e\u4f8b\u5316", "user": {"login": "yangdanbo", "id": 8272299, "node_id": "MDQ6VXNlcjgyNzIyOTk=", "avatar_url": "https://avatars.githubusercontent.com/u/8272299?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yangdanbo", "html_url": "https://github.com/yangdanbo", "followers_url": "https://api.github.com/users/yangdanbo/followers", "following_url": "https://api.github.com/users/yangdanbo/following{/other_user}", "gists_url": "https://api.github.com/users/yangdanbo/gists{/gist_id}", "starred_url": "https://api.github.com/users/yangdanbo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yangdanbo/subscriptions", "organizations_url": "https://api.github.com/users/yangdanbo/orgs", "repos_url": "https://api.github.com/users/yangdanbo/repos", "events_url": "https://api.github.com/users/yangdanbo/events{/privacy}", "received_events_url": "https://api.github.com/users/yangdanbo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "linjieccc", "id": 40840292, "node_id": "MDQ6VXNlcjQwODQwMjky", "avatar_url": "https://avatars.githubusercontent.com/u/40840292?v=4", "gravatar_id": "", "url": "https://api.github.com/users/linjieccc", "html_url": "https://github.com/linjieccc", "followers_url": "https://api.github.com/users/linjieccc/followers", "following_url": "https://api.github.com/users/linjieccc/following{/other_user}", "gists_url": "https://api.github.com/users/linjieccc/gists{/gist_id}", "starred_url": "https://api.github.com/users/linjieccc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/linjieccc/subscriptions", "organizations_url": "https://api.github.com/users/linjieccc/orgs", "repos_url": "https://api.github.com/users/linjieccc/repos", "events_url": "https://api.github.com/users/linjieccc/events{/privacy}", "received_events_url": "https://api.github.com/users/linjieccc/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "linjieccc", "id": 40840292, "node_id": "MDQ6VXNlcjQwODQwMjky", "avatar_url": "https://avatars.githubusercontent.com/u/40840292?v=4", "gravatar_id": "", "url": "https://api.github.com/users/linjieccc", "html_url": "https://github.com/linjieccc", "followers_url": "https://api.github.com/users/linjieccc/followers", "following_url": "https://api.github.com/users/linjieccc/following{/other_user}", "gists_url": "https://api.github.com/users/linjieccc/gists{/gist_id}", "starred_url": "https://api.github.com/users/linjieccc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/linjieccc/subscriptions", "organizations_url": "https://api.github.com/users/linjieccc/orgs", "repos_url": "https://api.github.com/users/linjieccc/repos", "events_url": "https://api.github.com/users/linjieccc/events{/privacy}", "received_events_url": "https://api.github.com/users/linjieccc/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2022-12-21T09:47:12Z", "updated_at": "2022-12-23T08:46:52Z", "closed_at": "2022-12-23T08:46:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\n\n```Markdown\npaddle2onnx                    1.0.5\r\npaddlefsl                      1.1.0\r\npaddlehub                      2.0.4\r\npaddlenlp                      2.4.5\r\npaddlepaddle                   2.2.2\r\ntb-paddle                      0.3.6\n```\n\n\n### \u91cd\u590d\u95ee\u9898\n\n- [X] I have searched the existing issues\n\n### \u9519\u8bef\u63cf\u8ff0\n\n```Markdown\n1. ie = Taskflow('information_extraction', schema=schema) \u62a5\u9519\uff1aNameError: name 'Tensor' is not defined\r\n2. seg = Taskflow(\"word_segmentation\") \u62a5\u9519\uff1aValueError: Can not find Variable 'linear_chain_crf_0.w_0' in the Scope.\r\n3. seg_fast = Taskflow(\"word_segmentation\", mode=\"fast\")  \u8fd9\u4e2a\u5feb\u901f\u6a21\u5f0f\u662fOK\u7684\uff0c\u662f\u5426\u4e0a\u9762\u7684\u7f3a\u7701\u6a21\u5f0f\u53d6\u6d88\u4e86\uff1f\r\n4. seg_accurate = Taskflow(\"word_segmentation\", mode=\"accurate\", batch_size=32) \u62a5\u9519\uff1aValueError: (InvalidArgument) Python object is not type of St10shared_ptrIN6paddle10imperative7VarBaseEE (at /paddle/paddle/fluid/pybind/imperative.cc:79)\r\n5. seg = Taskflow(\"word_segmentation\", user_dict=\"/home/aistudio/user_dict.txt\") \u62a5\u9519\uff1aValueError: Can not find Variable 'linear_chain_crf_2.w_0' in the Scope.\r\n6. tag = Taskflow(\"pos_tagging\") \u62a5\u9519\uff1aValueError: Can not find Variable 'linear_chain_crf_3.w_0' in the Scope.\r\n7. ner = Taskflow(\"ner\") \u62a5\u9519\uff1aValueError: (InvalidArgument) Python object is not type of St10shared_ptrIN6paddle10imperative7VarBaseEE (at /paddle/paddle/fluid/pybind/imperative.cc:79)\r\n8. ner_fast = Taskflow(\"ner\", mode=\"fast\") \u62a5\u9519\uff1aValueError: Can not find Variable 'linear_chain_crf_4.w_0' in the Scope.\r\n9. ddp = Taskflow(\"dependency_parsing\")  \u8fd9\u4e2aOK\r\n10. ddp = Taskflow(\"dependency_parsing\", model=\"ddparser-ernie-1.0\") \u62a5\u9519\uff1aValueError: (InvalidArgument) Python object is not type of St10shared_ptrIN6paddle10imperative7VarBaseEE (at /paddle/paddle/fluid/pybind/imperative.cc:79)\r\n11. ddp = Taskflow(\"dependency_parsing\", prob=True, use_pos=True) \u8fd9\u4e2aOK\r\n12. ddp = Taskflow(\"dependency_parsing\")  \u8fd9\u4e2a\u4e5fOK\r\n13. senta = Taskflow(\"sentiment_analysis\") \u62a5\u9519\uff1aValueError: (InvalidArgument) Python object is not type of St10shared_ptrIN6paddle10imperative7VarBaseEE (at /paddle/paddle/fluid/pybind/imperative.cc:79)\r\n14. senta = Taskflow(\"sentiment_analysis\", model=\"skep_ernie_1.0_large_ch\") \u62a5\u9519\uff1aValueError: (InvalidArgument) Python object is not type of St10shared_ptrIN6paddle10imperative7VarBaseEE (at /paddle/paddle/fluid/pybind/imperative.cc:79)\r\n15. corrector = Taskflow(\"text_correction\") \u62a5\u9519\uff1aValueError: (InvalidArgument) Python object is not type of St10shared_ptrIN6paddle10imperative7VarBaseEE (at /paddle/paddle/fluid/pybind/imperative.cc:79)\r\n16. similarity = Taskflow(\"text_similarity\") \u62a5\u9519\uff1aNameError: name 'Tensor' is not defined\r\n17. wordtag = Taskflow(\"knowledge_mining\") \u62a5\u9519\uff1aValueError: (InvalidArgument) Python object is not type of St10shared_ptrIN6paddle10imperative7VarBaseEE (at /paddle/paddle/fluid/pybind/imperative.cc:79)\r\n18. dialogue = Taskflow(\"dialogue\") \u62a5\u9519\uff1aAssertionError:\n```\n\n\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\n\nhttps://aistudio.baidu.com/aistudio/projectdetail/5295945?forkThirdPart=1\r\n\u4e09\u884c\u4ee3\u7801\uff0c\u4e00\u952e\u9884\u6d4b\uff1a\u73a9\u8f6c12\u5927NLP\u4efb\u52a1_\u526f\u672c\r\nPaddleNLP\u4e00\u952e\u9884\u6d4b\u529f\u80fd\u2014\u2014Taskflow API Tutorial", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4189/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4189/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4177", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4177/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4177/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4177/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/4177", "id": 1504478381, "node_id": "I_kwDOFAsknM5ZrISt", "number": 4177, "title": "[Bug]: \u5b89\u88c5pipelines\u7684\u65f6\u5019\u9047\u5230\u7684\u4e00\u4e9b\u95ee\u9898", "user": {"login": "qhpeklh5959", "id": 5755812, "node_id": "MDQ6VXNlcjU3NTU4MTI=", "avatar_url": "https://avatars.githubusercontent.com/u/5755812?v=4", "gravatar_id": "", "url": "https://api.github.com/users/qhpeklh5959", "html_url": "https://github.com/qhpeklh5959", "followers_url": "https://api.github.com/users/qhpeklh5959/followers", "following_url": "https://api.github.com/users/qhpeklh5959/following{/other_user}", "gists_url": "https://api.github.com/users/qhpeklh5959/gists{/gist_id}", "starred_url": "https://api.github.com/users/qhpeklh5959/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/qhpeklh5959/subscriptions", "organizations_url": "https://api.github.com/users/qhpeklh5959/orgs", "repos_url": "https://api.github.com/users/qhpeklh5959/repos", "events_url": "https://api.github.com/users/qhpeklh5959/events{/privacy}", "received_events_url": "https://api.github.com/users/qhpeklh5959/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4882422102, "node_id": "LA_kwDOFAsknM8AAAABIwPZVg", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/stale", "name": "stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "w5688414", "id": 12107462, "node_id": "MDQ6VXNlcjEyMTA3NDYy", "avatar_url": "https://avatars.githubusercontent.com/u/12107462?v=4", "gravatar_id": "", "url": "https://api.github.com/users/w5688414", "html_url": "https://github.com/w5688414", "followers_url": "https://api.github.com/users/w5688414/followers", "following_url": "https://api.github.com/users/w5688414/following{/other_user}", "gists_url": "https://api.github.com/users/w5688414/gists{/gist_id}", "starred_url": "https://api.github.com/users/w5688414/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/w5688414/subscriptions", "organizations_url": "https://api.github.com/users/w5688414/orgs", "repos_url": "https://api.github.com/users/w5688414/repos", "events_url": "https://api.github.com/users/w5688414/events{/privacy}", "received_events_url": "https://api.github.com/users/w5688414/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "w5688414", "id": 12107462, "node_id": "MDQ6VXNlcjEyMTA3NDYy", "avatar_url": "https://avatars.githubusercontent.com/u/12107462?v=4", "gravatar_id": "", "url": "https://api.github.com/users/w5688414", "html_url": "https://github.com/w5688414", "followers_url": "https://api.github.com/users/w5688414/followers", "following_url": "https://api.github.com/users/w5688414/following{/other_user}", "gists_url": "https://api.github.com/users/w5688414/gists{/gist_id}", "starred_url": "https://api.github.com/users/w5688414/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/w5688414/subscriptions", "organizations_url": "https://api.github.com/users/w5688414/orgs", "repos_url": "https://api.github.com/users/w5688414/repos", "events_url": "https://api.github.com/users/w5688414/events{/privacy}", "received_events_url": "https://api.github.com/users/w5688414/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2022-12-20T12:23:05Z", "updated_at": "2023-03-16T00:18:25Z", "closed_at": "2023-03-16T00:18:25Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\r\n\r\n```Markdown\r\n- paddlepaddle:2.4.0\r\n- paddlepaddle-gpu: \r\n- paddlenlp: 2.4.5\r\n```\r\n\r\n\r\n### \u91cd\u590d\u95ee\u9898\r\n\r\n- [X] I have searched the existing issues\r\n\r\n### \u9519\u8bef\u63cf\u8ff0\r\n\r\n```Markdown\r\n1. pipelines.nodes.file_converter\u91cc\u9762\u62a5\u4e86\u5faa\u73af\u5f15\u7528\u7684\u9519\uff0c\u5e94\u8be5\u662f\u5728\u6a21\u5757\u5185\u90e8\u7528\u4e86\u672c\u6a21\u5757__init__\u91cc\u9762import\u5230\u7684\u7c7b\uff0c\u5bfc\u81f4\u51fa\u73b0\u5faa\u73af\u5f15\u7528\uff0c\u8fdb\u6e90\u7801\u6539\u6210\u4e86\u76f8\u5bf9\u5f15\u7528\uff0c\u8c03\u6574\u4e86\u8bed\u53e5\u987a\u5e8f\uff0c\u76ee\u524d\u770b\u53ef\u4ee5\u89e3\u51b3\u3002\u770b\u5230\u6a21\u5757\u91cc\u9762\u5f88\u591aimport\u90fd\u662f\u7528\u7684\u5b8c\u6574\u8def\u5f84\u5f15\u7528\uff0c\u5faa\u73af\u5f15\u7528\u7684\u98ce\u9669\u53ef\u80fd\u4e0d\u5c0f\r\n\r\n2. python 3.10+\uff0celasticsearch\u4f9d\u8d56\u7248\u672c\u8fc7\u4f4e\uff08requirements.txt\u91cc\u9762\u660e\u786e\u5199\u4e86<=7.10\uff09\uff0c\u4f1a\u5bfc\u81f4\u62a5\u9519Cannot import Mapping from collections\uff0c\u662f\u56e0\u4e3a3.10\u628aMapping\u632a\u5230\u4e86collections.ABC\u91cc\u9762\r\n```\r\n\r\n\r\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\r\n\r\npython3 setup.py install\r\n\u76f4\u63a5\u62a5\u9519", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4177/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4177/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4174", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4174/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4174/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4174/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/4174", "id": 1504291158, "node_id": "I_kwDOFAsknM5ZqalW", "number": 4174, "title": " \u5f53data.txt\u4e2d\u7684 \u6d4b\u8bd5\u6837\u672c\u6570\u76ee\u5927\u4e8ebatch_size\u65f6\uff0c \u4f1a\u62a5\u9519", "user": {"login": "PrayChen", "id": 30518279, "node_id": "MDQ6VXNlcjMwNTE4Mjc5", "avatar_url": "https://avatars.githubusercontent.com/u/30518279?v=4", "gravatar_id": "", "url": "https://api.github.com/users/PrayChen", "html_url": "https://github.com/PrayChen", "followers_url": "https://api.github.com/users/PrayChen/followers", "following_url": "https://api.github.com/users/PrayChen/following{/other_user}", "gists_url": "https://api.github.com/users/PrayChen/gists{/gist_id}", "starred_url": "https://api.github.com/users/PrayChen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/PrayChen/subscriptions", "organizations_url": "https://api.github.com/users/PrayChen/orgs", "repos_url": "https://api.github.com/users/PrayChen/repos", "events_url": "https://api.github.com/users/PrayChen/events{/privacy}", "received_events_url": "https://api.github.com/users/PrayChen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4882422102, "node_id": "LA_kwDOFAsknM8AAAABIwPZVg", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/stale", "name": "stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "LemonNoel", "id": 25607475, "node_id": "MDQ6VXNlcjI1NjA3NDc1", "avatar_url": "https://avatars.githubusercontent.com/u/25607475?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LemonNoel", "html_url": "https://github.com/LemonNoel", "followers_url": "https://api.github.com/users/LemonNoel/followers", "following_url": "https://api.github.com/users/LemonNoel/following{/other_user}", "gists_url": "https://api.github.com/users/LemonNoel/gists{/gist_id}", "starred_url": "https://api.github.com/users/LemonNoel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LemonNoel/subscriptions", "organizations_url": "https://api.github.com/users/LemonNoel/orgs", "repos_url": "https://api.github.com/users/LemonNoel/repos", "events_url": "https://api.github.com/users/LemonNoel/events{/privacy}", "received_events_url": "https://api.github.com/users/LemonNoel/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "LemonNoel", "id": 25607475, "node_id": "MDQ6VXNlcjI1NjA3NDc1", "avatar_url": "https://avatars.githubusercontent.com/u/25607475?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LemonNoel", "html_url": "https://github.com/LemonNoel", "followers_url": "https://api.github.com/users/LemonNoel/followers", "following_url": "https://api.github.com/users/LemonNoel/following{/other_user}", "gists_url": "https://api.github.com/users/LemonNoel/gists{/gist_id}", "starred_url": "https://api.github.com/users/LemonNoel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LemonNoel/subscriptions", "organizations_url": "https://api.github.com/users/LemonNoel/orgs", "repos_url": "https://api.github.com/users/LemonNoel/repos", "events_url": "https://api.github.com/users/LemonNoel/events{/privacy}", "received_events_url": "https://api.github.com/users/LemonNoel/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2022-12-20T10:01:17Z", "updated_at": "2023-03-05T00:20:24Z", "closed_at": "2023-03-05T00:20:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "https://github.com/PaddlePaddle/PaddleNLP/blob/f8d36ed274d3986e669feca03e5f07c4b896a72d/applications/text_classification/multi_label/few-shot/infer.py#L227\r\n\r\n\u5f53data.txt\u4e2d\u7684 \u6d4b\u8bd5\u6837\u672c\u6570\u76ee\u5927\u4e8ebatch_size\u65f6\uff0c \u4f1a\u62a5\u9519\r\n\r\n\r\ninfer.py\", line 188, in infer_batch\r\n    infer_data[i] = np.concatenate(infer_data[i], axis=0)\r\n  File \"<__array_function__ internals>\", line 200, in concatenate\r\nValueError: all the input array dimensions except for the concatenation axis must match exactly, but along dimension 1, the array at index 0 has size 94 and the array at index 1 has size 112\r\n(pp-nlp24) fyt@localhost: /home/storage/czq_bak/test/sentence_classification 17:52:09\r\n$ ValueError: all the input array dimensions except for the concatenation axis must match exactly, but along dimension 1, the array at index 0 has size 94 and the array at index 1 has size 112", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4174/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4174/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4144", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4144/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4144/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4144/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/4144", "id": 1500129735, "node_id": "I_kwDOFAsknM5ZainH", "number": 4144, "title": "[Bug]: codegen\u7684python\u8865\u5168\u6709\u65f6\u4f1a\u7f3a\u5c11\u56de\u8f66", "user": {"login": "allendred", "id": 4343664, "node_id": "MDQ6VXNlcjQzNDM2NjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/4343664?v=4", "gravatar_id": "", "url": "https://api.github.com/users/allendred", "html_url": "https://github.com/allendred", "followers_url": "https://api.github.com/users/allendred/followers", "following_url": "https://api.github.com/users/allendred/following{/other_user}", "gists_url": "https://api.github.com/users/allendred/gists{/gist_id}", "starred_url": "https://api.github.com/users/allendred/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/allendred/subscriptions", "organizations_url": "https://api.github.com/users/allendred/orgs", "repos_url": "https://api.github.com/users/allendred/repos", "events_url": "https://api.github.com/users/allendred/events{/privacy}", "received_events_url": "https://api.github.com/users/allendred/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4882422102, "node_id": "LA_kwDOFAsknM8AAAABIwPZVg", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/stale", "name": "stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "gongel", "id": 24390500, "node_id": "MDQ6VXNlcjI0MzkwNTAw", "avatar_url": "https://avatars.githubusercontent.com/u/24390500?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gongel", "html_url": "https://github.com/gongel", "followers_url": "https://api.github.com/users/gongel/followers", "following_url": "https://api.github.com/users/gongel/following{/other_user}", "gists_url": "https://api.github.com/users/gongel/gists{/gist_id}", "starred_url": "https://api.github.com/users/gongel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gongel/subscriptions", "organizations_url": "https://api.github.com/users/gongel/orgs", "repos_url": "https://api.github.com/users/gongel/repos", "events_url": "https://api.github.com/users/gongel/events{/privacy}", "received_events_url": "https://api.github.com/users/gongel/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gongel", "id": 24390500, "node_id": "MDQ6VXNlcjI0MzkwNTAw", "avatar_url": "https://avatars.githubusercontent.com/u/24390500?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gongel", "html_url": "https://github.com/gongel", "followers_url": "https://api.github.com/users/gongel/followers", "following_url": "https://api.github.com/users/gongel/following{/other_user}", "gists_url": "https://api.github.com/users/gongel/gists{/gist_id}", "starred_url": "https://api.github.com/users/gongel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gongel/subscriptions", "organizations_url": "https://api.github.com/users/gongel/orgs", "repos_url": "https://api.github.com/users/gongel/repos", "events_url": "https://api.github.com/users/gongel/events{/privacy}", "received_events_url": "https://api.github.com/users/gongel/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2022-12-16T12:27:24Z", "updated_at": "2023-03-29T11:21:22Z", "closed_at": "2023-03-02T00:18:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\r\n\r\n```Markdown\r\n- paddlepaddle:\r\n- paddlepaddle-gpu: 2.3.1.post112\r\n- paddlenlp: 2.4.5\r\n```\r\n\r\n\r\n### \u91cd\u590d\u95ee\u9898\r\n\r\n- [X] I have searched the existing issues\r\n\r\n### \u9519\u8bef\u63cf\u8ff0\r\n\r\n```Markdown\r\n\u6211\u5728\u4f7f\u7528codegen mono-2b\u7684\u6a21\u578b,\u4f7f\u7528\u4e86fauxpilot\u7684vscode\u7684\u63d2\u4ef6,\u6211\u53d1\u73b0\u8865\u5168\u4ee3\u7801python\u4ee3\u7801\u7684\u65f6\u5019,\u6709\u65f6\u5019\u4f1a\u7f3a\u5c11\u56de\u8f66,\u6211\u5728\u4f7f\u7528huggingface \u7684\u6a21\u578b\u4ed3\u5e93\u7684 mono-2b\u6a21\u578b\u65f6\u5e76\u6ca1\u6709\u51fa\u73b0\u76f8\u540c\u7684\u95ee\u9898,\u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u6211\u4f7f\u7528\u4e86\u6b63\u5219\u8868\u8fbe\u5f0f\u6765\u89e3\u51b3\r\n\r\n\r\nimport re\r\nregex = re.compile(\"     +\")\r\noutput = regex.sub(lambda s: ('\\n'+s.group(0)), output)\r\n```\r\n\u6211\u4e0d\u592a\u786e\u5b9a\u8fd9\u9002\u7528\u4e8e\u6240\u6709\u573a\u666f,\u4e5f\u4e0d\u592a\u6e05\u695a\u4e3a\u4ec0\u4e48\u4f1a\u4ea7\u751f\u8fd9\u79cd\u4e0d\u540c,\u8bf7\u95ee\u8fd9\u6709\u53ef\u80fd\u662f\u4ec0\u4e48\u5bfc\u81f4\u7684\uff1f\u975e\u5e38\u611f\u8c22\u3002\r\n```\r\n\r\n\r\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\r\n\r\n\u7c7b\u4f3c\u7684\u4ee3\u7801\r\n```\r\nclass Net(nn.Module):\r\n    def __init__(self, input_dim, hidden_dim, output_dim):\r\n        super(Net, self).__init__()\r\n        self.fc1 = nn.Linear(input_dim, hidden_dim)\r\n        self.fc2 = nn.Linear(hidden_dim, output_dim)\r\n        self.relu = nn.ReLU()\r\n\r\n\u9519\u8bef\u53d1\u751f\u7684\u56fe\u7247\r\n<img width=\"705\" alt=\"image\" src=\"https://user-images.githubusercontent.com/4343664/208098497-544106e1-431a-45c8-9c75-661cb5ab2e63.png\">\r\n", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4144/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4144/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4129", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4129/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4129/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4129/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/4129", "id": 1498316065, "node_id": "I_kwDOFAsknM5ZTn0h", "number": 4129, "title": "[Bug]: Unit tests fails in T5 generation ", "user": {"login": "sijunhe", "id": 11987277, "node_id": "MDQ6VXNlcjExOTg3Mjc3", "avatar_url": "https://avatars.githubusercontent.com/u/11987277?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sijunhe", "html_url": "https://github.com/sijunhe", "followers_url": "https://api.github.com/users/sijunhe/followers", "following_url": "https://api.github.com/users/sijunhe/following{/other_user}", "gists_url": "https://api.github.com/users/sijunhe/gists{/gist_id}", "starred_url": "https://api.github.com/users/sijunhe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sijunhe/subscriptions", "organizations_url": "https://api.github.com/users/sijunhe/orgs", "repos_url": "https://api.github.com/users/sijunhe/repos", "events_url": "https://api.github.com/users/sijunhe/events{/privacy}", "received_events_url": "https://api.github.com/users/sijunhe/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "FrostML", "id": 7160927, "node_id": "MDQ6VXNlcjcxNjA5Mjc=", "avatar_url": "https://avatars.githubusercontent.com/u/7160927?v=4", "gravatar_id": "", "url": "https://api.github.com/users/FrostML", "html_url": "https://github.com/FrostML", "followers_url": "https://api.github.com/users/FrostML/followers", "following_url": "https://api.github.com/users/FrostML/following{/other_user}", "gists_url": "https://api.github.com/users/FrostML/gists{/gist_id}", "starred_url": "https://api.github.com/users/FrostML/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/FrostML/subscriptions", "organizations_url": "https://api.github.com/users/FrostML/orgs", "repos_url": "https://api.github.com/users/FrostML/repos", "events_url": "https://api.github.com/users/FrostML/events{/privacy}", "received_events_url": "https://api.github.com/users/FrostML/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "FrostML", "id": 7160927, "node_id": "MDQ6VXNlcjcxNjA5Mjc=", "avatar_url": "https://avatars.githubusercontent.com/u/7160927?v=4", "gravatar_id": "", "url": "https://api.github.com/users/FrostML", "html_url": "https://github.com/FrostML", "followers_url": "https://api.github.com/users/FrostML/followers", "following_url": "https://api.github.com/users/FrostML/following{/other_user}", "gists_url": "https://api.github.com/users/FrostML/gists{/gist_id}", "starred_url": "https://api.github.com/users/FrostML/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/FrostML/subscriptions", "organizations_url": "https://api.github.com/users/FrostML/orgs", "repos_url": "https://api.github.com/users/FrostML/repos", "events_url": "https://api.github.com/users/FrostML/events{/privacy}", "received_events_url": "https://api.github.com/users/FrostML/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2022-12-15T12:09:09Z", "updated_at": "2022-12-26T06:05:38Z", "closed_at": "2022-12-26T06:05:38Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\r\n\r\n```Markdown\r\n- paddlepaddle: 2.3.2\r\n- paddlepaddle-gpu: \r\n- paddlenlp: develop\r\n```\r\n\r\n\r\n### \u91cd\u590d\u95ee\u9898\r\n\r\n- [X] I have searched the existing issues\r\n\r\n### \u9519\u8bef\u63cf\u8ff0\r\n\r\nSee the following [CI link](https://github.com/sijunhe/PaddleNLP/actions/runs/3704274496/jobs/6276705452)\r\n\r\n```Markdown\r\nFAILED tests/transformers/t5/test_modeling.py::T5ModelTest_0::test_beam_search_generate - AssertionError: Lists differ: [[12, 67, 46, 29], [12, 67, 73, 24], [12, 67, 46, 29], [12, 67, 73, 24]] != [[12, 67, 46, 29], [61, 41, 25, 60], [12, 67, 46, ...\r\nFAILED tests/transformers/t5/test_modeling.py::T5ModelTest_0::test_group_beam_search_generate - AssertionError: Lists differ: [[4, 56, 77, 48], [4, 56, 77, 48]] != [[16, 94, 29, 68], [16, 94, 29, 68]]\r\nFAILED tests/transformers/t5/test_modeling.py::T5ModelTest_2::test_beam_search_generate - AssertionError: Lists differ: [[12, 67, 46, 29], [12, 67, 73, 24], [12, 67, 46, 29], [12, 67, 73, 24]] != [[12, 67, 46, 29], [61, 41, 25, 60], [12, 67, 46, ...\r\nFAILED tests/transformers/t5/test_modeling.py::T5ModelTest_2::test_group_beam_search_generate - AssertionError: Lists differ: [[4, 56, 77, 48], [4, 56, 77, 48]] != [[16, 94, 29, 68], [16, 94, 29, 68]]\r\nFAILED tests/transformers/t5/test_modeling.py::T5ModelTest::test_beam_search_generate - AssertionError: Lists differ: [[12, 67, 46, 29], [12, 67, 73, 24], [12, 67, 46, 29], [12, 67, 73, 24]] != [[12, 67, 46, 29], [61, 41, 25, 60], [12, 67, 46, ...\r\nFAILED tests/transformers/t5/test_modeling.py::T5ModelTest::test_group_beam_search_generate - AssertionError: Lists differ: [[4, 56, 77, 48], [4, 56, 77, 48]] != [[16, 94, 29, 68], [16, 94, 29, 68]]\r\n```\r\n```\r\n\r\n\r\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\r\n\r\n`pytest tests/transformers/t5/test_modeling.py`", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4129/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4129/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4103", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4103/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4103/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4103/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/4103", "id": 1494128340, "node_id": "I_kwDOFAsknM5ZDpbU", "number": 4103, "title": "[Question]: UIE\u9879\u76ee\u4e2d\u4f7f\u7528simpleserver\u90e8\u7f72\u65f6\u62a5\u9519", "user": {"login": "lddcdut", "id": 43358822, "node_id": "MDQ6VXNlcjQzMzU4ODIy", "avatar_url": "https://avatars.githubusercontent.com/u/43358822?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lddcdut", "html_url": "https://github.com/lddcdut", "followers_url": "https://api.github.com/users/lddcdut/followers", "following_url": "https://api.github.com/users/lddcdut/following{/other_user}", "gists_url": "https://api.github.com/users/lddcdut/gists{/gist_id}", "starred_url": "https://api.github.com/users/lddcdut/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lddcdut/subscriptions", "organizations_url": "https://api.github.com/users/lddcdut/orgs", "repos_url": "https://api.github.com/users/lddcdut/repos", "events_url": "https://api.github.com/users/lddcdut/events{/privacy}", "received_events_url": "https://api.github.com/users/lddcdut/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "wawltor", "id": 16698950, "node_id": "MDQ6VXNlcjE2Njk4OTUw", "avatar_url": "https://avatars.githubusercontent.com/u/16698950?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wawltor", "html_url": "https://github.com/wawltor", "followers_url": "https://api.github.com/users/wawltor/followers", "following_url": "https://api.github.com/users/wawltor/following{/other_user}", "gists_url": "https://api.github.com/users/wawltor/gists{/gist_id}", "starred_url": "https://api.github.com/users/wawltor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wawltor/subscriptions", "organizations_url": "https://api.github.com/users/wawltor/orgs", "repos_url": "https://api.github.com/users/wawltor/repos", "events_url": "https://api.github.com/users/wawltor/events{/privacy}", "received_events_url": "https://api.github.com/users/wawltor/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "wawltor", "id": 16698950, "node_id": "MDQ6VXNlcjE2Njk4OTUw", "avatar_url": "https://avatars.githubusercontent.com/u/16698950?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wawltor", "html_url": "https://github.com/wawltor", "followers_url": "https://api.github.com/users/wawltor/followers", "following_url": "https://api.github.com/users/wawltor/following{/other_user}", "gists_url": "https://api.github.com/users/wawltor/gists{/gist_id}", "starred_url": "https://api.github.com/users/wawltor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wawltor/subscriptions", "organizations_url": "https://api.github.com/users/wawltor/orgs", "repos_url": "https://api.github.com/users/wawltor/repos", "events_url": "https://api.github.com/users/wawltor/events{/privacy}", "received_events_url": "https://api.github.com/users/wawltor/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 9, "created_at": "2022-12-13T12:17:39Z", "updated_at": "2022-12-15T04:54:33Z", "closed_at": "2022-12-15T04:54:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "### \u8bf7\u63d0\u51fa\u4f60\u7684\u95ee\u9898\n\n\u8fd0\u884cclient\uff0c\u51fa\u73b0\u9519\u8bef\r\n```\r\nTraceback (most recent call last):\r\n  File \"D:\\code\\PaddleNLP-develop\\model_zoo\\uie\\deploy\\serving\\simple_serving\\client.py\", line 28, in <module>\r\n    datas = json.loads(r.text)\r\n  File \"C:\\ProgramData\\Miniconda3\\envs\\sms\\lib\\json\\__init__.py\", line 346, in loads\r\n    return _default_decoder.decode(s)\r\n  File \"C:\\ProgramData\\Miniconda3\\envs\\sms\\lib\\json\\decoder.py\", line 337, in decode\r\n    obj, end = self.raw_decode(s, idx=_w(s, 0).end())\r\n  File \"C:\\ProgramData\\Miniconda3\\envs\\sms\\lib\\json\\decoder.py\", line 355, in raw_decode\r\n    raise JSONDecodeError(\"Expecting value\", s, err.value) from None\r\njson.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)\r\n```\r\n\u6253\u5370\u4e86\u4e0b\u9519\u8bef\u7ed3\u679c\u662f\uff1a\r\n`<Response [502]>`\r\n\u4ee3\u7801\u6ca1\u6709\u4fee\u6539\u8fc7  \u7528\u7684\u793a\u4f8b\u4ee3\u7801", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4103/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4103/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4078", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4078/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4078/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4078/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/4078", "id": 1490715543, "node_id": "I_kwDOFAsknM5Y2oOX", "number": 4078, "title": "[Bug]: \u6a21\u578b\u5fae\u8c03finetune.py\uff0cfrom paddlenlp.transformers import UIE\u62a5\u9519\uff0c\u8bf7\u95ee\u5982\u4f55\u89e3\u51b3\uff1f", "user": {"login": "RONG-SONG", "id": 48174107, "node_id": "MDQ6VXNlcjQ4MTc0MTA3", "avatar_url": "https://avatars.githubusercontent.com/u/48174107?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RONG-SONG", "html_url": "https://github.com/RONG-SONG", "followers_url": "https://api.github.com/users/RONG-SONG/followers", "following_url": "https://api.github.com/users/RONG-SONG/following{/other_user}", "gists_url": "https://api.github.com/users/RONG-SONG/gists{/gist_id}", "starred_url": "https://api.github.com/users/RONG-SONG/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RONG-SONG/subscriptions", "organizations_url": "https://api.github.com/users/RONG-SONG/orgs", "repos_url": "https://api.github.com/users/RONG-SONG/repos", "events_url": "https://api.github.com/users/RONG-SONG/events{/privacy}", "received_events_url": "https://api.github.com/users/RONG-SONG/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "linjieccc", "id": 40840292, "node_id": "MDQ6VXNlcjQwODQwMjky", "avatar_url": "https://avatars.githubusercontent.com/u/40840292?v=4", "gravatar_id": "", "url": "https://api.github.com/users/linjieccc", "html_url": "https://github.com/linjieccc", "followers_url": "https://api.github.com/users/linjieccc/followers", "following_url": "https://api.github.com/users/linjieccc/following{/other_user}", "gists_url": "https://api.github.com/users/linjieccc/gists{/gist_id}", "starred_url": "https://api.github.com/users/linjieccc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/linjieccc/subscriptions", "organizations_url": "https://api.github.com/users/linjieccc/orgs", "repos_url": "https://api.github.com/users/linjieccc/repos", "events_url": "https://api.github.com/users/linjieccc/events{/privacy}", "received_events_url": "https://api.github.com/users/linjieccc/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "linjieccc", "id": 40840292, "node_id": "MDQ6VXNlcjQwODQwMjky", "avatar_url": "https://avatars.githubusercontent.com/u/40840292?v=4", "gravatar_id": "", "url": "https://api.github.com/users/linjieccc", "html_url": "https://github.com/linjieccc", "followers_url": "https://api.github.com/users/linjieccc/followers", "following_url": "https://api.github.com/users/linjieccc/following{/other_user}", "gists_url": "https://api.github.com/users/linjieccc/gists{/gist_id}", "starred_url": "https://api.github.com/users/linjieccc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/linjieccc/subscriptions", "organizations_url": "https://api.github.com/users/linjieccc/orgs", "repos_url": "https://api.github.com/users/linjieccc/repos", "events_url": "https://api.github.com/users/linjieccc/events{/privacy}", "received_events_url": "https://api.github.com/users/linjieccc/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2022-12-12T02:07:00Z", "updated_at": "2022-12-12T02:31:49Z", "closed_at": "2022-12-12T02:31:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\n\n```Markdown\n- paddlepaddle:2.4.0\r\n- paddlepaddle-gpu: \r\n- paddlenlp:  2.4.4\n```\n\n\n### \u91cd\u590d\u95ee\u9898\n\n- [X] I have searched the existing issues\n\n### \u9519\u8bef\u63cf\u8ff0\n\n```Markdown\n\u6a21\u578b\u5fae\u8c03finetune.py\uff0cfrom paddlenlp.transformers import UIE\u62a5\u9519\uff0c\u8bf7\u95ee\u5982\u4f55\u89e3\u51b3\uff1f\n```\n\n\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\n\nfrom paddlenlp.transformers import UIE", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4078/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4078/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4068", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4068/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4068/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4068/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/4068", "id": 1486632580, "node_id": "I_kwDOFAsknM5YnDaE", "number": 4068, "title": "[Bug]: paddlenlp/transformers/mobilebert/tokenizer.py \u4e2d\u7684 self.get_offset_mapping \u51fd\u6570\u672a\u5b9a\u4e49 \u5bfc\u81f4\u62a5\u9519", "user": {"login": "yc556600", "id": 12397350, "node_id": "MDQ6VXNlcjEyMzk3MzUw", "avatar_url": "https://avatars.githubusercontent.com/u/12397350?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yc556600", "html_url": "https://github.com/yc556600", "followers_url": "https://api.github.com/users/yc556600/followers", "following_url": "https://api.github.com/users/yc556600/following{/other_user}", "gists_url": "https://api.github.com/users/yc556600/gists{/gist_id}", "starred_url": "https://api.github.com/users/yc556600/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yc556600/subscriptions", "organizations_url": "https://api.github.com/users/yc556600/orgs", "repos_url": "https://api.github.com/users/yc556600/repos", "events_url": "https://api.github.com/users/yc556600/events{/privacy}", "received_events_url": "https://api.github.com/users/yc556600/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4880074605, "node_id": "LA_kwDOFAsknM8AAAABIuAHbQ", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/triage", "name": "triage", "color": "8F57AB", "default": false, "description": ""}, {"id": 4882422102, "node_id": "LA_kwDOFAsknM8AAAABIwPZVg", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/stale", "name": "stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "wj-Mcat", "id": 10242208, "node_id": "MDQ6VXNlcjEwMjQyMjA4", "avatar_url": "https://avatars.githubusercontent.com/u/10242208?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wj-Mcat", "html_url": "https://github.com/wj-Mcat", "followers_url": "https://api.github.com/users/wj-Mcat/followers", "following_url": "https://api.github.com/users/wj-Mcat/following{/other_user}", "gists_url": "https://api.github.com/users/wj-Mcat/gists{/gist_id}", "starred_url": "https://api.github.com/users/wj-Mcat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wj-Mcat/subscriptions", "organizations_url": "https://api.github.com/users/wj-Mcat/orgs", "repos_url": "https://api.github.com/users/wj-Mcat/repos", "events_url": "https://api.github.com/users/wj-Mcat/events{/privacy}", "received_events_url": "https://api.github.com/users/wj-Mcat/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "wj-Mcat", "id": 10242208, "node_id": "MDQ6VXNlcjEwMjQyMjA4", "avatar_url": "https://avatars.githubusercontent.com/u/10242208?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wj-Mcat", "html_url": "https://github.com/wj-Mcat", "followers_url": "https://api.github.com/users/wj-Mcat/followers", "following_url": "https://api.github.com/users/wj-Mcat/following{/other_user}", "gists_url": "https://api.github.com/users/wj-Mcat/gists{/gist_id}", "starred_url": "https://api.github.com/users/wj-Mcat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wj-Mcat/subscriptions", "organizations_url": "https://api.github.com/users/wj-Mcat/orgs", "repos_url": "https://api.github.com/users/wj-Mcat/repos", "events_url": "https://api.github.com/users/wj-Mcat/events{/privacy}", "received_events_url": "https://api.github.com/users/wj-Mcat/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2022-12-09T11:59:00Z", "updated_at": "2023-02-28T04:56:05Z", "closed_at": "2023-02-28T04:56:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\n\n```Markdown\n- paddlepaddle:\r\n- paddlepaddle-gpu: \r\n- paddlenlp:\n```\n\n\n### \u91cd\u590d\u95ee\u9898\n\n- [X] I have searched the existing issues\n\n### \u9519\u8bef\u63cf\u8ff0\n\n```Markdown\nAttributeError: 'ErnieTokenizer' object has no attribute 'get_offset_mapping'\n```\n\n\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\n\nbatch_encode\u8c03\u7528\u65f6\u62a5\u9519", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4068/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4068/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4038", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4038/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4038/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4038/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/4038", "id": 1481470307, "node_id": "I_kwDOFAsknM5YTXFj", "number": 4038, "title": "[Bug]: \u8fd0\u884c\u4e8b\u4ef6\u62bd\u53d6\u84b8\u998f\u65f6\u4ea7\u751f\u4e86\u51e0\u4e2a\u7591\u95ee\uff1a", "user": {"login": "996-icu-FuJian", "id": 36201952, "node_id": "MDQ6VXNlcjM2MjAxOTUy", "avatar_url": "https://avatars.githubusercontent.com/u/36201952?v=4", "gravatar_id": "", "url": "https://api.github.com/users/996-icu-FuJian", "html_url": "https://github.com/996-icu-FuJian", "followers_url": "https://api.github.com/users/996-icu-FuJian/followers", "following_url": "https://api.github.com/users/996-icu-FuJian/following{/other_user}", "gists_url": "https://api.github.com/users/996-icu-FuJian/gists{/gist_id}", "starred_url": "https://api.github.com/users/996-icu-FuJian/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/996-icu-FuJian/subscriptions", "organizations_url": "https://api.github.com/users/996-icu-FuJian/orgs", "repos_url": "https://api.github.com/users/996-icu-FuJian/repos", "events_url": "https://api.github.com/users/996-icu-FuJian/events{/privacy}", "received_events_url": "https://api.github.com/users/996-icu-FuJian/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4882422102, "node_id": "LA_kwDOFAsknM8AAAABIwPZVg", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/stale", "name": "stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "linjieccc", "id": 40840292, "node_id": "MDQ6VXNlcjQwODQwMjky", "avatar_url": "https://avatars.githubusercontent.com/u/40840292?v=4", "gravatar_id": "", "url": "https://api.github.com/users/linjieccc", "html_url": "https://github.com/linjieccc", "followers_url": "https://api.github.com/users/linjieccc/followers", "following_url": "https://api.github.com/users/linjieccc/following{/other_user}", "gists_url": "https://api.github.com/users/linjieccc/gists{/gist_id}", "starred_url": "https://api.github.com/users/linjieccc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/linjieccc/subscriptions", "organizations_url": "https://api.github.com/users/linjieccc/orgs", "repos_url": "https://api.github.com/users/linjieccc/repos", "events_url": "https://api.github.com/users/linjieccc/events{/privacy}", "received_events_url": "https://api.github.com/users/linjieccc/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "linjieccc", "id": 40840292, "node_id": "MDQ6VXNlcjQwODQwMjky", "avatar_url": "https://avatars.githubusercontent.com/u/40840292?v=4", "gravatar_id": "", "url": "https://api.github.com/users/linjieccc", "html_url": "https://github.com/linjieccc", "followers_url": "https://api.github.com/users/linjieccc/followers", "following_url": "https://api.github.com/users/linjieccc/following{/other_user}", "gists_url": "https://api.github.com/users/linjieccc/gists{/gist_id}", "starred_url": "https://api.github.com/users/linjieccc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/linjieccc/subscriptions", "organizations_url": "https://api.github.com/users/linjieccc/orgs", "repos_url": "https://api.github.com/users/linjieccc/repos", "events_url": "https://api.github.com/users/linjieccc/events{/privacy}", "received_events_url": "https://api.github.com/users/linjieccc/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 7, "created_at": "2022-12-07T09:41:31Z", "updated_at": "2023-03-01T00:20:49Z", "closed_at": "2023-03-01T00:20:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\n\n```Markdown\n- paddlepaddle:\r\n- paddlepaddle-gpu: 2.4.0.post116\r\n- paddlenlp: 2.4.0\n```\n\n\n### \u91cd\u590d\u95ee\u9898\n\n- [X] I have searched the existing issues\n\n### \u9519\u8bef\u63cf\u8ff0\n\n```Markdown\n1) labelmap.json\u4e2d\u7684relation2id\u548centity2id\u662f\u4e0d\u662f\u5f04\u53cd\u4e86\uff1f\r\n2) student_data\u4e2d\u7684train.json\u5982\u679c\u6559\u5e08\u6a21\u578b\u7684\u9884\u6d4b\u7ed3\u679c\u4e0d\u5305\u542blabelmap\u4e2d\u6240\u6709\u503c\u4f1a\u6709keyerror\u62a5\u9519\u3002\n```\n\n\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\n\nTraceback (most recent call last):\r\n  File \"/root/miniconda3/envs/paddlenlp/lib/python3.9/threading.py\", line 980, in _bootstrap_inner\r\n    self.run()\r\n  File \"/root/miniconda3/envs/paddlenlp/lib/python3.9/threading.py\", line 917, in run\r\n    self._target(*self._args, **self._kwargs)\r\n  File \"/root/miniconda3/envs/paddlenlp/lib/python3.9/site-packages/paddle/fluid/dataloader/dataloader_iter.py\", line 217, in _thread_loop\r\n    batch = self._dataset_fetcher.fetch(indices,\r\n  File \"/root/miniconda3/envs/paddlenlp/lib/python3.9/site-packages/paddle/fluid/dataloader/fetcher.py\", line 125, in fetch\r\n    data.append(self.dataset[idx])\r\n  File \"/root/miniconda3/envs/paddlenlp/lib/python3.9/site-packages/paddlenlp/datasets/dataset.py\", line 275, in __getitem__\r\n    return self._transform(\r\n  File \"/root/miniconda3/envs/paddlenlp/lib/python3.9/site-packages/paddlenlp/datasets/dataset.py\", line 267, in _transform\r\n    data = fn(data)\r\n  File \"/workspace/PaddleNLP-release-2.4/model_zoo/uie-ext/data_distill/utils.py\", line 138, in tokenize_and_align_train_labels\r\n    p = label_maps[\"relation2id\"][r[\"predicate\"]]\r\nKeyError: '\u7ed3\u5a5a'", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4038/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4038/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4024", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4024/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4024/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4024/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/4024", "id": 1478557249, "node_id": "I_kwDOFAsknM5YIP5B", "number": 4024, "title": "[Bug]: ernie3 tokenizer\u7684vocab\u7f3a\u5c11\u4e00\u4e9b\u5e26\u97f3\u6807\u7684\u5143\u97f3\uff1btokenize\u7684\u65f6\u5019\u4f1a\u5ffd\u7565\u4e00\u4e9b\u672a\u8bc6\u522b\u7684\u5b57\u7b26", "user": {"login": "zouhan6806504", "id": 94092329, "node_id": "U_kgDOBZu8KQ", "avatar_url": "https://avatars.githubusercontent.com/u/94092329?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zouhan6806504", "html_url": "https://github.com/zouhan6806504", "followers_url": "https://api.github.com/users/zouhan6806504/followers", "following_url": "https://api.github.com/users/zouhan6806504/following{/other_user}", "gists_url": "https://api.github.com/users/zouhan6806504/gists{/gist_id}", "starred_url": "https://api.github.com/users/zouhan6806504/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zouhan6806504/subscriptions", "organizations_url": "https://api.github.com/users/zouhan6806504/orgs", "repos_url": "https://api.github.com/users/zouhan6806504/repos", "events_url": "https://api.github.com/users/zouhan6806504/events{/privacy}", "received_events_url": "https://api.github.com/users/zouhan6806504/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-12-06T08:37:58Z", "updated_at": "2022-12-07T02:13:38Z", "closed_at": "2022-12-07T02:13:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\n\n```Markdown\n- paddlepaddle:\r\n- paddlepaddle-gpu: 2.3.2.post112\r\n- paddlenlp: 2.4.4\n```\n\n\n### \u91cd\u590d\u95ee\u9898\n\n- [X] I have searched the existing issues\n\n### \u9519\u8bef\u63cf\u8ff0\n\n```Markdown\n\u7f3a\u5c11\u4e00\u4e9b\u5355\u4e2a\u7684\u5143\u97f3\uff0c\u5982 '\u00e0', '\u0101', '\u016b', '\u014d', '\u00f2', '\u00ec', '\u00f9', '\u00ed', '\u00fa', '\u0113', '\u01d2', '\u012b', '\u011b', '\u01d0'\r\nvocab\u91cc\u9762\u53ea\u6709sh\u016b\u4e4b\u7c7b\u6210\u97f3\u8282\u7684\r\n\r\n\u5bf9\u4e8e\u542b\u6709\u67d0\u4e9b\u7279\u6b8a\u5b57\u7b26\u7684\u6587\u672c\u4f1a\u5ffd\u7565\u7279\u6b8a\u5b57\u7b26\n```\n\n\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\n\n\r\n![1q2](https://user-images.githubusercontent.com/94092329/205861421-874a2c6e-5de7-461f-8892-ce104cc7231a.jpg)\r\n\r\n```\r\nb = tokenizer.tokenize(text='||\ueb617\ueab751\ud83d\ude0d\ud83d\ude18\ud83d\udc6f\ud83d\ude0b\u8d70\u4e86', max_seq_len=15)\r\n\u5f97\u5230\u7684\u7ed3\u679c\u662f\r\n['|', '|', '751', '[UNK]', '[UNK]', '[UNK]', '[UNK]', '\u8d70', '\u4e86']\r\n```", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4024/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4024/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4009", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4009/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4009/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4009/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/4009", "id": 1475477860, "node_id": "I_kwDOFAsknM5X8gFk", "number": 4009, "title": "[Bug]: ernie tokenizer output different ids", "user": {"login": "wj-Mcat", "id": 10242208, "node_id": "MDQ6VXNlcjEwMjQyMjA4", "avatar_url": "https://avatars.githubusercontent.com/u/10242208?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wj-Mcat", "html_url": "https://github.com/wj-Mcat", "followers_url": "https://api.github.com/users/wj-Mcat/followers", "following_url": "https://api.github.com/users/wj-Mcat/following{/other_user}", "gists_url": "https://api.github.com/users/wj-Mcat/gists{/gist_id}", "starred_url": "https://api.github.com/users/wj-Mcat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wj-Mcat/subscriptions", "organizations_url": "https://api.github.com/users/wj-Mcat/orgs", "repos_url": "https://api.github.com/users/wj-Mcat/repos", "events_url": "https://api.github.com/users/wj-Mcat/events{/privacy}", "received_events_url": "https://api.github.com/users/wj-Mcat/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4882422102, "node_id": "LA_kwDOFAsknM8AAAABIwPZVg", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/stale", "name": "stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "wj-Mcat", "id": 10242208, "node_id": "MDQ6VXNlcjEwMjQyMjA4", "avatar_url": "https://avatars.githubusercontent.com/u/10242208?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wj-Mcat", "html_url": "https://github.com/wj-Mcat", "followers_url": "https://api.github.com/users/wj-Mcat/followers", "following_url": "https://api.github.com/users/wj-Mcat/following{/other_user}", "gists_url": "https://api.github.com/users/wj-Mcat/gists{/gist_id}", "starred_url": "https://api.github.com/users/wj-Mcat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wj-Mcat/subscriptions", "organizations_url": "https://api.github.com/users/wj-Mcat/orgs", "repos_url": "https://api.github.com/users/wj-Mcat/repos", "events_url": "https://api.github.com/users/wj-Mcat/events{/privacy}", "received_events_url": "https://api.github.com/users/wj-Mcat/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "wj-Mcat", "id": 10242208, "node_id": "MDQ6VXNlcjEwMjQyMjA4", "avatar_url": "https://avatars.githubusercontent.com/u/10242208?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wj-Mcat", "html_url": "https://github.com/wj-Mcat", "followers_url": "https://api.github.com/users/wj-Mcat/followers", "following_url": "https://api.github.com/users/wj-Mcat/following{/other_user}", "gists_url": "https://api.github.com/users/wj-Mcat/gists{/gist_id}", "starred_url": "https://api.github.com/users/wj-Mcat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wj-Mcat/subscriptions", "organizations_url": "https://api.github.com/users/wj-Mcat/orgs", "repos_url": "https://api.github.com/users/wj-Mcat/repos", "events_url": "https://api.github.com/users/wj-Mcat/events{/privacy}", "received_events_url": "https://api.github.com/users/wj-Mcat/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2022-12-05T02:42:51Z", "updated_at": "2023-02-19T00:18:27Z", "closed_at": "2023-02-19T00:18:27Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\r\n\r\n```Markdown\r\npaddle-bfloat                  0.1.7\r\npaddle-cppt                    0.0.1\r\npaddle-pipelines               0.4.0\r\npaddle2onnx                    1.0.1\r\npaddlefsl                      1.1.0\r\npaddlehub                      2.2.0\r\npaddlenlp                      2.4.4\r\npaddleocr                      2.5.0.3\r\npaddlepaddle-gpu               2.3.2\r\n```\r\n\r\n\r\n### \u91cd\u590d\u95ee\u9898\r\n\r\n- [X] I have searched the existing issues\r\n\r\n### \u9519\u8bef\u63cf\u8ff0\r\n\r\n```Markdown\r\n\u5728\u521d\u59cb\u5316 ernie tokenizer\u4e4b\u540e\u53d1\u73b0\u901a\u8fc7\u4e0d\u901a\u8fc7\u65b9\u5f0f\u5728\u7f16\u7801\u82f1\u6587\u5f15\u53f7\uff08\"'\"\uff09\u65f6\u51fa\u73b0\u9519\u8bef\uff0c\u8f93\u51fa\u7ed3\u679c\u4e0d\u5bf9\u3002\r\n```\r\n\r\n\r\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\r\n\r\n\u901a\u8fc7\u4ee5\u4e0b\u4ee3\u7801\u5373\u53ef\u590d\u73b0\u6b64\u95ee\u9898\uff1a\r\n\r\n```python\r\nfrom paddlenlp.transformers import AutoTokenizer\r\ntest_str = \"'\u53f0\u6e7e\uff4f\uff42\uff55\u4eba\u6c11\u5e01\u4e1a\u52a1\u4eca\u65e5\u542f\u822a'\"\r\ntokenizer = AutoTokenizer.from_pretrained(\"ernie-1.0-base-zh\")\r\n\r\n\r\ntoken_id = tokenizer.convert_tokens_to_ids(\"'\")\r\n\r\ntoken = tokenizer.tokenize(\"'\")\r\nnew_token_id = tokenizer.convert_tokens_to_ids(token)\r\n\r\nassert token_id == new_token_id\r\n```\r\n\r\n\u8fd9\u4e2a case \u662f\u4ece\u8fd9\u91cc\u800c\u6765\uff1a https://github.com/PaddlePaddle/PaddleNLP/issues/3953#issuecomment-1334854961\r\n\r\n\u4ee5\u4e0a\u6d4b\u8bd5\u6ca1\u529e\u6cd5\u901a\u8fc7\u3002", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4009/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4009/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4007", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4007/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4007/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4007/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/4007", "id": 1475424450, "node_id": "I_kwDOFAsknM5X8TDC", "number": 4007, "title": "Target 0 is out of lower bound.", "user": {"login": "liuliuNLP", "id": 84298165, "node_id": "MDQ6VXNlcjg0Mjk4MTY1", "avatar_url": "https://avatars.githubusercontent.com/u/84298165?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liuliuNLP", "html_url": "https://github.com/liuliuNLP", "followers_url": "https://api.github.com/users/liuliuNLP/followers", "following_url": "https://api.github.com/users/liuliuNLP/following{/other_user}", "gists_url": "https://api.github.com/users/liuliuNLP/gists{/gist_id}", "starred_url": "https://api.github.com/users/liuliuNLP/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liuliuNLP/subscriptions", "organizations_url": "https://api.github.com/users/liuliuNLP/orgs", "repos_url": "https://api.github.com/users/liuliuNLP/repos", "events_url": "https://api.github.com/users/liuliuNLP/events{/privacy}", "received_events_url": "https://api.github.com/users/liuliuNLP/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4882422102, "node_id": "LA_kwDOFAsknM8AAAABIwPZVg", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/stale", "name": "stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "westfish", "id": 20476674, "node_id": "MDQ6VXNlcjIwNDc2Njc0", "avatar_url": "https://avatars.githubusercontent.com/u/20476674?v=4", "gravatar_id": "", "url": "https://api.github.com/users/westfish", "html_url": "https://github.com/westfish", "followers_url": "https://api.github.com/users/westfish/followers", "following_url": "https://api.github.com/users/westfish/following{/other_user}", "gists_url": "https://api.github.com/users/westfish/gists{/gist_id}", "starred_url": "https://api.github.com/users/westfish/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/westfish/subscriptions", "organizations_url": "https://api.github.com/users/westfish/orgs", "repos_url": "https://api.github.com/users/westfish/repos", "events_url": "https://api.github.com/users/westfish/events{/privacy}", "received_events_url": "https://api.github.com/users/westfish/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "westfish", "id": 20476674, "node_id": "MDQ6VXNlcjIwNDc2Njc0", "avatar_url": "https://avatars.githubusercontent.com/u/20476674?v=4", "gravatar_id": "", "url": "https://api.github.com/users/westfish", "html_url": "https://github.com/westfish", "followers_url": "https://api.github.com/users/westfish/followers", "following_url": "https://api.github.com/users/westfish/following{/other_user}", "gists_url": "https://api.github.com/users/westfish/gists{/gist_id}", "starred_url": "https://api.github.com/users/westfish/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/westfish/subscriptions", "organizations_url": "https://api.github.com/users/westfish/orgs", "repos_url": "https://api.github.com/users/westfish/repos", "events_url": "https://api.github.com/users/westfish/events{/privacy}", "received_events_url": "https://api.github.com/users/westfish/received_events", "type": "User", "site_admin": false}, {"login": "gongel", "id": 24390500, "node_id": "MDQ6VXNlcjI0MzkwNTAw", "avatar_url": "https://avatars.githubusercontent.com/u/24390500?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gongel", "html_url": "https://github.com/gongel", "followers_url": "https://api.github.com/users/gongel/followers", "following_url": "https://api.github.com/users/gongel/following{/other_user}", "gists_url": "https://api.github.com/users/gongel/gists{/gist_id}", "starred_url": "https://api.github.com/users/gongel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gongel/subscriptions", "organizations_url": "https://api.github.com/users/gongel/orgs", "repos_url": "https://api.github.com/users/gongel/repos", "events_url": "https://api.github.com/users/gongel/events{/privacy}", "received_events_url": "https://api.github.com/users/gongel/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2022-12-05T02:13:15Z", "updated_at": "2023-02-25T00:17:57Z", "closed_at": "2023-02-25T00:17:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\n\n```Markdown\n- paddlepaddle:\r\n- paddlepaddle-gpu: 2.4.02.4.0rc0\r\n- paddlenlp: 2.4.3\n```\n\n\n### \u91cd\u590d\u95ee\u9898\n\n- [X] I have searched the existing issues\n\n### \u9519\u8bef\u63cf\u8ff0\n\n```Markdown\nTraceback (most recent call last):\r\n  File \"run_summarization.py\", line 339, in <module>\r\n    do_train(args)\r\n  File \"run_summarization.py\", line 290, in do_train\r\n    lm_logits, new_cache, loss = model(**batch)\r\n  File \"/home/nlper/anaconda3/envs/tf24/lib/python3.7/site-packages/paddle/fluid/dygraph/layers.py\", line 948, in __call__\r\n    return self.forward(*inputs, **kwargs)\r\n  File \"/home/nlper/anaconda3/envs/tf24/lib/python3.7/site-packages/paddle/fluid/dygraph/parallel.py\", line 774, in forward\r\n    outputs = self._layers(*inputs, **kwargs)\r\n  File \"/home/nlper/anaconda3/envs/tf24/lib/python3.7/site-packages/paddle/fluid/dygraph/layers.py\", line 948, in __call__\r\n    return self.forward(*inputs, **kwargs)\r\n  File \"/home/nlper/anaconda3/envs/tf24/lib/python3.7/site-packages/paddlenlp/transformers/pegasus/modeling.py\", line 654, in forward\r\n    labels.reshape((-1, )))\r\n  File \"/home/nlper/anaconda3/envs/tf24/lib/python3.7/site-packages/paddle/fluid/dygraph/layers.py\", line 948, in __call__\r\n    return self.forward(*inputs, **kwargs)\r\n  File \"/home/nlper/anaconda3/envs/tf24/lib/python3.7/site-packages/paddle/nn/layer/loss.py\", line 404, in forward\r\n    name=self.name)\r\n  File \"/home/nlper/anaconda3/envs/tf24/lib/python3.7/site-packages/paddle/nn/functional/loss.py\", line 2393, in cross_entropy\r\n    label_min.item()))\r\nValueError: Target 0 is out of lower bound.\r\nLAUNCH INFO 2022-12-05 10:09:01,228 Exit code -15\n```\n\n\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\n\n\u7528\u54b1\u4eec\u7ed9\u7684\u6570\u636e\u96c6\u76f4\u63a5\u8dd1\u7684https://github.com/PaddlePaddle/PaddleNLP/tree/develop/applications/text_summarization/pegasus \u5e0c\u671b\u5e2e\u5fd9\u770b\u4e00\u4e0b", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4007/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/4007/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3995", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3995/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3995/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3995/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/3995", "id": 1472261928, "node_id": "I_kwDOFAsknM5XwO8o", "number": 3995, "title": "please check your input or input array data type. (at /paddle/paddle/fluid/pybind/tensor_py.h:549)", "user": {"login": "liuliuNLP", "id": 84298165, "node_id": "MDQ6VXNlcjg0Mjk4MTY1", "avatar_url": "https://avatars.githubusercontent.com/u/84298165?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liuliuNLP", "html_url": "https://github.com/liuliuNLP", "followers_url": "https://api.github.com/users/liuliuNLP/followers", "following_url": "https://api.github.com/users/liuliuNLP/following{/other_user}", "gists_url": "https://api.github.com/users/liuliuNLP/gists{/gist_id}", "starred_url": "https://api.github.com/users/liuliuNLP/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liuliuNLP/subscriptions", "organizations_url": "https://api.github.com/users/liuliuNLP/orgs", "repos_url": "https://api.github.com/users/liuliuNLP/repos", "events_url": "https://api.github.com/users/liuliuNLP/events{/privacy}", "received_events_url": "https://api.github.com/users/liuliuNLP/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4882422102, "node_id": "LA_kwDOFAsknM8AAAABIwPZVg", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/stale", "name": "stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "gongel", "id": 24390500, "node_id": "MDQ6VXNlcjI0MzkwNTAw", "avatar_url": "https://avatars.githubusercontent.com/u/24390500?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gongel", "html_url": "https://github.com/gongel", "followers_url": "https://api.github.com/users/gongel/followers", "following_url": "https://api.github.com/users/gongel/following{/other_user}", "gists_url": "https://api.github.com/users/gongel/gists{/gist_id}", "starred_url": "https://api.github.com/users/gongel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gongel/subscriptions", "organizations_url": "https://api.github.com/users/gongel/orgs", "repos_url": "https://api.github.com/users/gongel/repos", "events_url": "https://api.github.com/users/gongel/events{/privacy}", "received_events_url": "https://api.github.com/users/gongel/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gongel", "id": 24390500, "node_id": "MDQ6VXNlcjI0MzkwNTAw", "avatar_url": "https://avatars.githubusercontent.com/u/24390500?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gongel", "html_url": "https://github.com/gongel", "followers_url": "https://api.github.com/users/gongel/followers", "following_url": "https://api.github.com/users/gongel/following{/other_user}", "gists_url": "https://api.github.com/users/gongel/gists{/gist_id}", "starred_url": "https://api.github.com/users/gongel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gongel/subscriptions", "organizations_url": "https://api.github.com/users/gongel/orgs", "repos_url": "https://api.github.com/users/gongel/repos", "events_url": "https://api.github.com/users/gongel/events{/privacy}", "received_events_url": "https://api.github.com/users/gongel/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2022-12-02T03:37:54Z", "updated_at": "2023-03-10T00:17:42Z", "closed_at": "2023-03-10T00:17:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\r\n\r\n```Markdown\r\n- paddlepaddle:\r\n- paddlepaddle-gpu: 2.4.0rc0\r\n- paddlenlp: 2.4.3\r\n```\r\n\r\n\r\n### \u91cd\u590d\u95ee\u9898\r\n\r\n- [X] I have searched the existing issues\r\n\r\n### \u9519\u8bef\u63cf\u8ff0\r\n\r\n```Markdown\r\n[2022-12-02 11:27:54,609] [   DEBUG] - 0: main local process completed dev dataset map pre-processing, releasing all replicas\r\nException in thread Thread-2:\r\nTraceback (most recent call last):\r\n  File \"/home/nlper/anaconda3/envs/tf24/lib/python3.7/site-packages/paddlenlp/transformers/tokenizer_utils_base.py\", line 724, in convert_to_tensors\r\n    tensor = as_tensor(value)\r\n  File \"/home/nlper/anaconda3/envs/tf24/lib/python3.7/site-packages/paddle/tensor/creation.py\", line 469, in to_tensor\r\n    return _to_tensor_non_static(data, dtype, place, stop_gradient)\r\n  File \"/home/nlper/anaconda3/envs/tf24/lib/python3.7/site-packages/paddle/tensor/creation.py\", line 344, in _to_tensor_non_static\r\n    stop_gradient=stop_gradient)\r\nValueError: (InvalidArgument) Input object type error or incompatible array data type. tensor.set() supports array with bool, float16, float32, float64, int8, int16, int32, int64, uint8 or uint16, please check your input or input array data type. (at /paddle/paddle/fluid/pybind/tensor_py.h:549)\r\n\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/home/nlper/anaconda3/envs/tf24/lib/python3.7/threading.py\", line 926, in _bootstrap_inner\r\n    self.run()\r\n  File \"/home/nlper/anaconda3/envs/tf24/lib/python3.7/threading.py\", line 870, in run\r\n    self._target(*self._args, **self._kwargs)\r\n  File \"/home/nlper/anaconda3/envs/tf24/lib/python3.7/site-packages/paddle/fluid/dataloader/dataloader_iter.py\", line 218, in _thread_loop\r\n    self._thread_done_event)\r\n  File \"/home/nlper/anaconda3/envs/tf24/lib/python3.7/site-packages/paddle/fluid/dataloader/fetcher.py\", line 138, in fetch\r\n    data = self.collate_fn(data)\r\n  File \"/home/nlper/anaconda3/envs/tf24/lib/python3.7/site-packages/paddlenlp/data/data_collator.py\", line 396, in __call__\r\n    return_tensors=return_tensors,\r\n  File \"/home/nlper/anaconda3/envs/tf24/lib/python3.7/site-packages/paddlenlp/transformers/tokenizer_utils_base.py\", line 2642, in pad\r\n    return BatchEncoding(batch_outputs, tensor_type=return_tensors)\r\n  File \"/home/nlper/anaconda3/envs/tf24/lib/python3.7/site-packages/paddlenlp/transformers/tokenizer_utils_base.py\", line 218, in __init__\r\n    prepend_batch_axis=prepend_batch_axis)\r\n  File \"/home/nlper/anaconda3/envs/tf24/lib/python3.7/site-packages/paddlenlp/transformers/tokenizer_utils_base.py\", line 734, in convert_to_tensors\r\n    \"Unable to create tensor, you should probably activate truncation and/or padding \"\r\nValueError: Unable to create tensor, you should probably activate truncation and/or padding with 'padding=True' 'truncation=True' to have batched tensors with the same length.\r\n```\r\n\r\n\r\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\r\n\r\n\u7528\u81ea\u5df1\u7684\u6570\u636e\u96c6\u76f4\u63a5\u8dd1\u7684https://github.com/PaddlePaddle/PaddleNLP/tree/develop/applications/text_summarization/pegasus \u5e0c\u671b\u5e2e\u5fd9\u770b\u4e00\u4e0b", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3995/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3995/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3990", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3990/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3990/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3990/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/3990", "id": 1471355504, "node_id": "I_kwDOFAsknM5Xsxpw", "number": 3990, "title": "[Question]: \u8bf7\u95eeBatchEncoding\u8fd9\u4e2a\u7c7b\u7684char_to_token\u65b9\u6cd5\u662f\u8fd8\u7528\u4e0d\u4e86\u5417\uff1f", "user": {"login": "Li-fAngyU", "id": 56572498, "node_id": "MDQ6VXNlcjU2NTcyNDk4", "avatar_url": "https://avatars.githubusercontent.com/u/56572498?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Li-fAngyU", "html_url": "https://github.com/Li-fAngyU", "followers_url": "https://api.github.com/users/Li-fAngyU/followers", "following_url": "https://api.github.com/users/Li-fAngyU/following{/other_user}", "gists_url": "https://api.github.com/users/Li-fAngyU/gists{/gist_id}", "starred_url": "https://api.github.com/users/Li-fAngyU/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Li-fAngyU/subscriptions", "organizations_url": "https://api.github.com/users/Li-fAngyU/orgs", "repos_url": "https://api.github.com/users/Li-fAngyU/repos", "events_url": "https://api.github.com/users/Li-fAngyU/events{/privacy}", "received_events_url": "https://api.github.com/users/Li-fAngyU/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2717960704, "node_id": "MDU6TGFiZWwyNzE3OTYwNzA0", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/question", "name": "question", "color": "d876e3", "default": true, "description": "Further information is requested"}, {"id": 4882422102, "node_id": "LA_kwDOFAsknM8AAAABIwPZVg", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/stale", "name": "stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "wj-Mcat", "id": 10242208, "node_id": "MDQ6VXNlcjEwMjQyMjA4", "avatar_url": "https://avatars.githubusercontent.com/u/10242208?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wj-Mcat", "html_url": "https://github.com/wj-Mcat", "followers_url": "https://api.github.com/users/wj-Mcat/followers", "following_url": "https://api.github.com/users/wj-Mcat/following{/other_user}", "gists_url": "https://api.github.com/users/wj-Mcat/gists{/gist_id}", "starred_url": "https://api.github.com/users/wj-Mcat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wj-Mcat/subscriptions", "organizations_url": "https://api.github.com/users/wj-Mcat/orgs", "repos_url": "https://api.github.com/users/wj-Mcat/repos", "events_url": "https://api.github.com/users/wj-Mcat/events{/privacy}", "received_events_url": "https://api.github.com/users/wj-Mcat/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "wj-Mcat", "id": 10242208, "node_id": "MDQ6VXNlcjEwMjQyMjA4", "avatar_url": "https://avatars.githubusercontent.com/u/10242208?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wj-Mcat", "html_url": "https://github.com/wj-Mcat", "followers_url": "https://api.github.com/users/wj-Mcat/followers", "following_url": "https://api.github.com/users/wj-Mcat/following{/other_user}", "gists_url": "https://api.github.com/users/wj-Mcat/gists{/gist_id}", "starred_url": "https://api.github.com/users/wj-Mcat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wj-Mcat/subscriptions", "organizations_url": "https://api.github.com/users/wj-Mcat/orgs", "repos_url": "https://api.github.com/users/wj-Mcat/repos", "events_url": "https://api.github.com/users/wj-Mcat/events{/privacy}", "received_events_url": "https://api.github.com/users/wj-Mcat/received_events", "type": "User", "site_admin": false}, {"login": "guoshengCS", "id": 14105589, "node_id": "MDQ6VXNlcjE0MTA1NTg5", "avatar_url": "https://avatars.githubusercontent.com/u/14105589?v=4", "gravatar_id": "", "url": "https://api.github.com/users/guoshengCS", "html_url": "https://github.com/guoshengCS", "followers_url": "https://api.github.com/users/guoshengCS/followers", "following_url": "https://api.github.com/users/guoshengCS/following{/other_user}", "gists_url": "https://api.github.com/users/guoshengCS/gists{/gist_id}", "starred_url": "https://api.github.com/users/guoshengCS/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/guoshengCS/subscriptions", "organizations_url": "https://api.github.com/users/guoshengCS/orgs", "repos_url": "https://api.github.com/users/guoshengCS/repos", "events_url": "https://api.github.com/users/guoshengCS/events{/privacy}", "received_events_url": "https://api.github.com/users/guoshengCS/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 15, "created_at": "2022-12-01T13:51:48Z", "updated_at": "2023-02-19T00:18:30Z", "closed_at": "2023-02-19T00:18:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "### \u8bf7\u63d0\u51fa\u4f60\u7684\u95ee\u9898\r\n\r\n[\u6e90\u7801\u4f4d\u7f6e](https://github.com/PaddlePaddle/PaddleNLP/blob/develop/paddlenlp/transformers/tokenizer_utils_base.py#L556-L599)\r\n\r\n\u6848\u4f8b\uff1a\r\n```python\r\nfrom paddlenlp.transformers import AutoTokenizer\r\ntokenizer = AutoTokenizer.from_pretrained(\"bert-base-uncased\")\r\ntokenized = tokenizer_test('asd. asd. aaa')\r\ntokenized.char_to_token(0)\r\n```\r\n\r\n\u62a5\u9519\u4fe1\u606f\uff1a\r\n```python\r\n    585         if not self._encodings:\r\n    586             raise ValueError(\r\n--> 587                 \"char_to_token() is not available when using Python based tokenizers\"\r\n    588             )\r\n    589         if char_index is not None:\r\n\r\nValueError: char_to_token() is not available when using Python based tokenizers\r\n```\r\n\r\n\u8bf7\u95ee\u53ef\u4ee5\u63d0\u4f9b\u4e00\u4e2a\u5b9e\u73b0\u65b9\u5f0f\u5417\uff1f(\u5e0c\u671b\u80fd\u548chuggingface/transformers\u7684char_to_token\u5bf9\u9f50)", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3990/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3990/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3989", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3989/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3989/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3989/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/3989", "id": 1471353782, "node_id": "I_kwDOFAsknM5XsxO2", "number": 3989, "title": "[Bug]: UIE  PaddleNLP SimpleServing  \u90e8\u7f72\u4e0d\u652f\u6301\u7f57\u9a6c\u6570\u5b57", "user": {"login": "yangxuan14nlp", "id": 75772827, "node_id": "MDQ6VXNlcjc1NzcyODI3", "avatar_url": "https://avatars.githubusercontent.com/u/75772827?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yangxuan14nlp", "html_url": "https://github.com/yangxuan14nlp", "followers_url": "https://api.github.com/users/yangxuan14nlp/followers", "following_url": "https://api.github.com/users/yangxuan14nlp/following{/other_user}", "gists_url": "https://api.github.com/users/yangxuan14nlp/gists{/gist_id}", "starred_url": "https://api.github.com/users/yangxuan14nlp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yangxuan14nlp/subscriptions", "organizations_url": "https://api.github.com/users/yangxuan14nlp/orgs", "repos_url": "https://api.github.com/users/yangxuan14nlp/repos", "events_url": "https://api.github.com/users/yangxuan14nlp/events{/privacy}", "received_events_url": "https://api.github.com/users/yangxuan14nlp/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4882422102, "node_id": "LA_kwDOFAsknM8AAAABIwPZVg", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/stale", "name": "stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "wj-Mcat", "id": 10242208, "node_id": "MDQ6VXNlcjEwMjQyMjA4", "avatar_url": "https://avatars.githubusercontent.com/u/10242208?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wj-Mcat", "html_url": "https://github.com/wj-Mcat", "followers_url": "https://api.github.com/users/wj-Mcat/followers", "following_url": "https://api.github.com/users/wj-Mcat/following{/other_user}", "gists_url": "https://api.github.com/users/wj-Mcat/gists{/gist_id}", "starred_url": "https://api.github.com/users/wj-Mcat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wj-Mcat/subscriptions", "organizations_url": "https://api.github.com/users/wj-Mcat/orgs", "repos_url": "https://api.github.com/users/wj-Mcat/repos", "events_url": "https://api.github.com/users/wj-Mcat/events{/privacy}", "received_events_url": "https://api.github.com/users/wj-Mcat/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "wj-Mcat", "id": 10242208, "node_id": "MDQ6VXNlcjEwMjQyMjA4", "avatar_url": "https://avatars.githubusercontent.com/u/10242208?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wj-Mcat", "html_url": "https://github.com/wj-Mcat", "followers_url": "https://api.github.com/users/wj-Mcat/followers", "following_url": "https://api.github.com/users/wj-Mcat/following{/other_user}", "gists_url": "https://api.github.com/users/wj-Mcat/gists{/gist_id}", "starred_url": "https://api.github.com/users/wj-Mcat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wj-Mcat/subscriptions", "organizations_url": "https://api.github.com/users/wj-Mcat/orgs", "repos_url": "https://api.github.com/users/wj-Mcat/repos", "events_url": "https://api.github.com/users/wj-Mcat/events{/privacy}", "received_events_url": "https://api.github.com/users/wj-Mcat/received_events", "type": "User", "site_admin": false}, {"login": "linjieccc", "id": 40840292, "node_id": "MDQ6VXNlcjQwODQwMjky", "avatar_url": "https://avatars.githubusercontent.com/u/40840292?v=4", "gravatar_id": "", "url": "https://api.github.com/users/linjieccc", "html_url": "https://github.com/linjieccc", "followers_url": "https://api.github.com/users/linjieccc/followers", "following_url": "https://api.github.com/users/linjieccc/following{/other_user}", "gists_url": "https://api.github.com/users/linjieccc/gists{/gist_id}", "starred_url": "https://api.github.com/users/linjieccc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/linjieccc/subscriptions", "organizations_url": "https://api.github.com/users/linjieccc/orgs", "repos_url": "https://api.github.com/users/linjieccc/repos", "events_url": "https://api.github.com/users/linjieccc/events{/privacy}", "received_events_url": "https://api.github.com/users/linjieccc/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2022-12-01T13:50:31Z", "updated_at": "2023-02-16T00:18:00Z", "closed_at": "2023-02-16T00:18:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\r\n\r\n```Markdown\r\n- paddlepaddle:\r\n- paddlepaddle-gpu: \r\n- paddlenlp: \r\npaddlenlp               2.4.4\r\npaddlepaddle-gpu        2.4.0\r\n```\r\n\r\n\r\n### \u91cd\u590d\u95ee\u9898\r\n\r\n- [X] I have searched the existing issues\r\n\r\n### \u9519\u8bef\u63cf\u8ff0\r\n\r\n```Markdown\r\n##########\r\n1.\u5b50\u5bab\u5185\u819c\u591a\u53d1\u6027\u606f\u80892.\u5b50\u5bab\u9888\u4e0a\u76ae\u7624\u6837\u75c5\u53d8CIN\u2161-\u2162\u7ea7\u7d2f\u817a3.\u4e2d\u5ea6\u8d2b\u8840\r\n<Response [500]>\r\nExpecting value: line 1 column 1 (char 0)\r\n##########\r\n1\u3001\u9ad8\u8840\u538b\u75c52\u7ea7\uff08\u4e2d\u5371\uff092\u3001\u623f\u6027\u65e9\u640f3\u3001\u690e\u57fa\u5e95\u52a8\u8109\u4f9b\u8840\u4e0d\u8db34\u3001\u8154\u9699\u6027\u8111\u6897\u585e5\u3001\u9888\u690e\u95f4\u76d8\u7a81\u51fa6\u3001\u9888\u5185\u52a8\u8109\u72ed\u7a84\r\n<Response [200]>  \r\n\r\n\r\n\u5982\u679c\u8f93\u5165\u5e26\u7f57\u9a6c\u5219500\uff0c\u4e14\u670d\u52a1\u7aef\u62a5\u9519\r\n```\r\n\r\n\r\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\r\n\r\n```shell\r\n[2022-12-01 21:41:38,375] [    INFO] - The predictor id: 0 is selected by running the taskflow.\r\nINFO:     127.0.0.1:58673 - \"POST /taskflow/uie HTTP/1.1\" 200 OK\r\n[2022-12-01 21:41:38,391] [    INFO] - The predictor id: 0 is selected by running the taskflow.\r\nINFO:     127.0.0.1:58674 - \"POST /taskflow/uie HTTP/1.1\" 200 OK\r\n[2022-12-01 21:41:38,406] [    INFO] - The predictor id: 0 is selected by running the taskflow.\r\nINFO:     127.0.0.1:58675 - \"POST /taskflow/uie HTTP/1.1\" 500 Internal Server Error\r\nERROR:    Exception in ASGI application\r\nTraceback (most recent call last):\r\n  File \"c:\\users\\yangxuan\\miniconda3\\lib\\site-packages\\uvicorn\\protocols\\http\\h11_impl.py\", line 407, in run_asgi\r\n    result = await app(  # type: ignore[func-returns-value]\r\n  File \"c:\\users\\yangxuan\\miniconda3\\lib\\site-packages\\uvicorn\\middleware\\proxy_headers.py\", line 78, in __call__\r\n    return await self.app(scope, receive, send)\r\n  File \"c:\\users\\yangxuan\\miniconda3\\lib\\site-packages\\fastapi\\applications.py\", line 270, in __call__\r\n    await super().__call__(scope, receive, send)\r\n  File \"c:\\users\\yangxuan\\miniconda3\\lib\\site-packages\\starlette\\applications.py\", line 124, in __call__\r\n    await self.middleware_stack(scope, receive, send)\r\n  File \"c:\\users\\yangxuan\\miniconda3\\lib\\site-packages\\starlette\\middleware\\errors.py\", line 184, in __call__\r\n    raise exc\r\n  File \"c:\\users\\yangxuan\\miniconda3\\lib\\site-packages\\starlette\\middleware\\errors.py\", line 162, in __call__\r\n    await self.app(scope, receive, _send)\r\n  File \"c:\\users\\yangxuan\\miniconda3\\lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 79, in __call__\r\n    raise exc\r\n  File \"c:\\users\\yangxuan\\miniconda3\\lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 68, in __call__\r\n    await self.app(scope, receive, sender)\r\n  File \"c:\\users\\yangxuan\\miniconda3\\lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py\", line 21, in __call__\r\n    raise e\r\n  File \"c:\\users\\yangxuan\\miniconda3\\lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py\", line 18, in __call__\r\n    await self.app(scope, receive, send)\r\n  File \"c:\\users\\yangxuan\\miniconda3\\lib\\site-packages\\starlette\\routing.py\", line 706, in __call__\r\n    await route.handle(scope, receive, send)\r\n  File \"c:\\users\\yangxuan\\miniconda3\\lib\\site-packages\\starlette\\routing.py\", line 276, in handle\r\n    await self.app(scope, receive, send)\r\n  File \"c:\\users\\yangxuan\\miniconda3\\lib\\site-packages\\starlette\\routing.py\", line 66, in app\r\n    response = await func(request)\r\n  File \"c:\\users\\yangxuan\\miniconda3\\lib\\site-packages\\fastapi\\routing.py\", line 235, in app\r\n    raw_response = await run_endpoint_function(\r\n  File \"c:\\users\\yangxuan\\miniconda3\\lib\\site-packages\\fastapi\\routing.py\", line 163, in run_endpoint_function\r\n    return await run_in_threadpool(dependant.call, **values)\r\n  File \"c:\\users\\yangxuan\\miniconda3\\lib\\site-packages\\starlette\\concurrency.py\", line 41, in run_in_threadpool\r\n    return await anyio.to_thread.run_sync(func, *args)\r\n  File \"c:\\users\\yangxuan\\miniconda3\\lib\\site-packages\\anyio\\to_thread.py\", line 31, in run_sync\r\n    return await get_asynclib().run_sync_in_worker_thread(\r\n  File \"c:\\users\\yangxuan\\miniconda3\\lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 937, in run_sync_in_worker_th\r\nread\r\n    return await future\r\n  File \"c:\\users\\yangxuan\\miniconda3\\lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 867, in run\r\n    result = context.run(func, *args)\r\n  File \"c:\\users\\yangxuan\\miniconda3\\lib\\site-packages\\paddlenlp\\server\\http_router\\router.py\", line 109, in predict\r\n    result = self._app._taskflow_manager.predict(\r\n  File \"c:\\users\\yangxuan\\miniconda3\\lib\\site-packages\\paddlenlp\\server\\taskflow_manager.py\", line 42, in predict\r\n    return self._handler_func(self._task[task_index], data, parameters)\r\n  File \"c:\\users\\yangxuan\\miniconda3\\lib\\site-packages\\paddlenlp\\server\\handlers\\taskflow_handler.py\", line 30, in proc\r\ness\r\n    return predictor(text)\r\n  File \"c:\\users\\yangxuan\\miniconda3\\lib\\site-packages\\paddlenlp\\taskflow\\taskflow.py\", line 611, in __call__\r\n    results = self.task_instance(inputs)\r\n  File \"c:\\users\\yangxuan\\miniconda3\\lib\\site-packages\\paddlenlp\\taskflow\\task.py\", line 388, in __call__\r\n    outputs = self._run_model(inputs)\r\n  File \"c:\\users\\yangxuan\\miniconda3\\lib\\site-packages\\paddlenlp\\taskflow\\information_extraction.py\", line 615, in _run\r\n_model\r\n    results = self._multi_stage_predict(raw_inputs)\r\n  File \"c:\\users\\yangxuan\\miniconda3\\lib\\site-packages\\paddlenlp\\taskflow\\information_extraction.py\", line 680, in _mul\r\nti_stage_predict\r\n    result_list = self._single_stage_predict(examples)\r\n  File \"c:\\users\\yangxuan\\miniconda3\\lib\\site-packages\\paddlenlp\\taskflow\\information_extraction.py\", line 491, in _sin\r\ngle_stage_predict\r\n    infer_ds = load_dataset(read, inputs=short_inputs, lazy=self._lazy_load)\r\n  File \"c:\\users\\yangxuan\\miniconda3\\lib\\site-packages\\paddlenlp\\datasets\\dataset.py\", line 196, in load_dataset\r\n    return reader_instance.read(**custom_kwargs)\r\n  File \"c:\\users\\yangxuan\\miniconda3\\lib\\site-packages\\paddlenlp\\datasets\\dataset.py\", line 833, in read\r\n    return MapDataset(list(examples))\r\n  File \"c:\\users\\yangxuan\\miniconda3\\lib\\site-packages\\paddlenlp\\taskflow\\information_extraction.py\", line 464, in read\r\n\r\n    encoded_inputs = self._tokenizer(text=[example[\"prompt\"]],\r\n  File \"c:\\users\\yangxuan\\miniconda3\\lib\\site-packages\\paddlenlp\\transformers\\tokenizer_utils_base.py\", line 2259, in _\r\n_call__\r\n    return self.batch_encode(\r\n  File \"c:\\users\\yangxuan\\miniconda3\\lib\\site-packages\\paddlenlp\\transformers\\tokenizer_utils_base.py\", line 2465, in b\r\natch_encode\r\n    return self._batch_encode_plus(\r\n  File \"c:\\users\\yangxuan\\miniconda3\\lib\\site-packages\\paddlenlp\\transformers\\tokenizer_utils.py\", line 1129, in _batch\r\n_encode_plus\r\n    batch_outputs = self._batch_prepare_for_model(\r\n  File \"c:\\users\\yangxuan\\miniconda3\\lib\\site-packages\\paddlenlp\\transformers\\tokenizer_utils.py\", line 1273, in _batch\r\n_prepare_for_model\r\n    encoded_inputs = self.prepare_for_model(\r\n  File \"c:\\users\\yangxuan\\miniconda3\\lib\\site-packages\\paddlenlp\\transformers\\tokenizer_utils_base.py\", line 2837, in p\r\nrepare_for_model\r\n    token_pair_offset_mapping = self.get_offset_mapping(\r\n  File \"c:\\users\\yangxuan\\miniconda3\\lib\\site-packages\\paddlenlp\\transformers\\tokenizer_utils.py\", line 1404, in get_of\r\nfset_mapping\r\n    return self._get_bert_like_offset_mapping(text)\r\n  File \"c:\\users\\yangxuan\\miniconda3\\lib\\site-packages\\paddlenlp\\transformers\\tokenizer_utils.py\", line 1371, in _get_b\r\nert_like_offset_mapping\r\n    start = text[offset:].index(token) + offset\r\n```", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3989/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3989/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3985", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3985/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3985/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3985/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/3985", "id": 1471196664, "node_id": "I_kwDOFAsknM5XsK34", "number": 3985, "title": "[Bug]: get_offset_mapping can not handle [unk] token", "user": {"login": "wj-Mcat", "id": 10242208, "node_id": "MDQ6VXNlcjEwMjQyMjA4", "avatar_url": "https://avatars.githubusercontent.com/u/10242208?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wj-Mcat", "html_url": "https://github.com/wj-Mcat", "followers_url": "https://api.github.com/users/wj-Mcat/followers", "following_url": "https://api.github.com/users/wj-Mcat/following{/other_user}", "gists_url": "https://api.github.com/users/wj-Mcat/gists{/gist_id}", "starred_url": "https://api.github.com/users/wj-Mcat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wj-Mcat/subscriptions", "organizations_url": "https://api.github.com/users/wj-Mcat/orgs", "repos_url": "https://api.github.com/users/wj-Mcat/repos", "events_url": "https://api.github.com/users/wj-Mcat/events{/privacy}", "received_events_url": "https://api.github.com/users/wj-Mcat/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-12-01T12:04:19Z", "updated_at": "2022-12-06T03:19:54Z", "closed_at": "2022-12-06T03:19:54Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\n\n```Markdown\npaddle-bfloat                 0.1.7\r\npaddle-cppt                   0.0.1\r\npaddle2onnx                   1.0.1\r\npaddlefsl                     1.1.0\r\npaddlehub                     2.2.0\r\npaddlenlp                     2.4.2\r\npaddleocr                     2.5.0.3\r\npaddlepaddle-gpu              2.3.2\r\ntypes-paddle                  0.0.2\n```\n\n\n### \u91cd\u590d\u95ee\u9898\n\n- [X] I have searched the existing issues\n\n### \u9519\u8bef\u63cf\u8ff0\n\n```Markdown\n\u5982\u679c tokenizer \u9700\u8981\u8fd4\u56de`offset_mapping`\u6570\u636e\uff0c\u53ef\u662f sentence \u5f53\u4e2d\u4f1a\u51fa\u73b0[unk]\uff0c\u4e8e\u662f\u5728\u8ba1\u7b97\u7d22\u5f15\u7684\u65f6\u5019\u4f1a\u51fa\u73b0\u95ee\u9898\u3002\n```\n\n\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\n\n```python\r\nfrom paddlenlp.transformers import BertModel, BertTokenizer, ErnieTokenizer\r\n\r\ntokenizer = ErnieTokenizer.from_pretrained(\"ernie-3.0-base-zh\")\r\nsentence = \"\u4ee5\u03c3\u03c0\u03b4\u6765\u63cf\u8ff0\uff0c\u5305\u62ec\u4e00\u4e2a\u03c3\u952e\u3001\u4e24\u4e2a\u03c0\u952e\u548c\u4e00\u4e2a\u03b4\u952e\"\r\nprint(tokenizer.get_offset_mapping(sentence))\r\n```", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3985/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3985/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3966", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3966/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3966/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3966/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/3966", "id": 1469343556, "node_id": "I_kwDOFAsknM5XlGdE", "number": 3966, "title": "[Bug]: TypeError: float() argument must be a string or a number, not 'tuple'", "user": {"login": "liuliuNLP", "id": 84298165, "node_id": "MDQ6VXNlcjg0Mjk4MTY1", "avatar_url": "https://avatars.githubusercontent.com/u/84298165?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liuliuNLP", "html_url": "https://github.com/liuliuNLP", "followers_url": "https://api.github.com/users/liuliuNLP/followers", "following_url": "https://api.github.com/users/liuliuNLP/following{/other_user}", "gists_url": "https://api.github.com/users/liuliuNLP/gists{/gist_id}", "starred_url": "https://api.github.com/users/liuliuNLP/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liuliuNLP/subscriptions", "organizations_url": "https://api.github.com/users/liuliuNLP/orgs", "repos_url": "https://api.github.com/users/liuliuNLP/repos", "events_url": "https://api.github.com/users/liuliuNLP/events{/privacy}", "received_events_url": "https://api.github.com/users/liuliuNLP/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4882422102, "node_id": "LA_kwDOFAsknM8AAAABIwPZVg", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/stale", "name": "stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2022-11-30T09:47:52Z", "updated_at": "2023-02-16T00:18:05Z", "closed_at": "2023-02-16T00:18:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\n\n```Markdown\n- paddlepaddle:2.3.0\r\n- paddlepaddle-gpu: \r\n- paddlenlp: 2.4.3\n```\n\n\n### \u91cd\u590d\u95ee\u9898\n\n- [X] I have searched the existing issues\n\n### \u9519\u8bef\u63cf\u8ff0\n\n```Markdown\nTypeError: float() argument must be a string or a number, not 'tuple'\n```\n\n\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\n\n  if args.params_path and os.path.isfile(args.params_path):\r\n        state_dict = paddle.load(args.params_path)\r\n        model.set_dict(state_dict)\r\n        print(\"Loaded parameters from %s\" % args.params_path)\r\n    model.eval()\r\n\r\n    model = paddle.jit.to_static(\r\n        model,\r\n        input_spec=[\r\n            paddle.static.InputSpec(shape=[None, None],\r\n                                    dtype=\"int64\"),  # input_ids\r\n            paddle.static.InputSpec(shape=[None, None],\r\n                                    dtype=\"int64\"),  # segment_ids\r\n            paddle.static.InputSpec(shape=[None], dtype=\"int64\")  # lengths\r\n        ])\r\n\r\n    save_path = os.path.join(args.static_model_path, \"inference\")\r\n    paddle.jit.save(model, save_path)\r\n", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3966/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3966/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3959", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3959/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3959/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3959/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/3959", "id": 1469268289, "node_id": "I_kwDOFAsknM5Xk0FB", "number": 3959, "title": "[Bug]: tokenizer\uff1asubstring not found", "user": {"login": "Deeeerek", "id": 13641044, "node_id": "MDQ6VXNlcjEzNjQxMDQ0", "avatar_url": "https://avatars.githubusercontent.com/u/13641044?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Deeeerek", "html_url": "https://github.com/Deeeerek", "followers_url": "https://api.github.com/users/Deeeerek/followers", "following_url": "https://api.github.com/users/Deeeerek/following{/other_user}", "gists_url": "https://api.github.com/users/Deeeerek/gists{/gist_id}", "starred_url": "https://api.github.com/users/Deeeerek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Deeeerek/subscriptions", "organizations_url": "https://api.github.com/users/Deeeerek/orgs", "repos_url": "https://api.github.com/users/Deeeerek/repos", "events_url": "https://api.github.com/users/Deeeerek/events{/privacy}", "received_events_url": "https://api.github.com/users/Deeeerek/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4882422102, "node_id": "LA_kwDOFAsknM8AAAABIwPZVg", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/stale", "name": "stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "wj-Mcat", "id": 10242208, "node_id": "MDQ6VXNlcjEwMjQyMjA4", "avatar_url": "https://avatars.githubusercontent.com/u/10242208?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wj-Mcat", "html_url": "https://github.com/wj-Mcat", "followers_url": "https://api.github.com/users/wj-Mcat/followers", "following_url": "https://api.github.com/users/wj-Mcat/following{/other_user}", "gists_url": "https://api.github.com/users/wj-Mcat/gists{/gist_id}", "starred_url": "https://api.github.com/users/wj-Mcat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wj-Mcat/subscriptions", "organizations_url": "https://api.github.com/users/wj-Mcat/orgs", "repos_url": "https://api.github.com/users/wj-Mcat/repos", "events_url": "https://api.github.com/users/wj-Mcat/events{/privacy}", "received_events_url": "https://api.github.com/users/wj-Mcat/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "wj-Mcat", "id": 10242208, "node_id": "MDQ6VXNlcjEwMjQyMjA4", "avatar_url": "https://avatars.githubusercontent.com/u/10242208?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wj-Mcat", "html_url": "https://github.com/wj-Mcat", "followers_url": "https://api.github.com/users/wj-Mcat/followers", "following_url": "https://api.github.com/users/wj-Mcat/following{/other_user}", "gists_url": "https://api.github.com/users/wj-Mcat/gists{/gist_id}", "starred_url": "https://api.github.com/users/wj-Mcat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wj-Mcat/subscriptions", "organizations_url": "https://api.github.com/users/wj-Mcat/orgs", "repos_url": "https://api.github.com/users/wj-Mcat/repos", "events_url": "https://api.github.com/users/wj-Mcat/events{/privacy}", "received_events_url": "https://api.github.com/users/wj-Mcat/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2022-11-30T08:52:57Z", "updated_at": "2023-02-14T00:17:42Z", "closed_at": "2023-02-14T00:17:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\n\n```Markdown\npaddle-bfloat      0.1.7\r\npaddle2onnx        1.0.1\r\npaddlefsl          1.1.0\r\npaddlenlp          2.4.4\n```\n\n\n### \u91cd\u590d\u95ee\u9898\n\n- [X] I have searched the existing issues\n\n### \u9519\u8bef\u63cf\u8ff0\n\n```Markdown\n\u8fdb\u884cBERT BASE UNCASED \u8bad\u7ec3\uff0c\u6570\u636e\u96c6\u4e3a\u811a\u672c\u81ea\u884c\u4e0b\u8f7d\u7684SQuAD\uff1a\r\n\r\nPaddleNLP/examples/machine_reading_comprehension/SQuAD \r\n\r\npython  run_squad.py  xxx\r\n\r\n\u62a5\u9519\u5982\u4e0b\uff1a\r\n\r\nFile \"/opt/py37env/lib/python3.7/site-packages/paddlenlp/transformers/tokenizer_utils.py\", line 1413, in get_offset_mapping\r\n    return self._get_bert_like_offset_mapping(text)\r\n  File \"/opt/py37env/lib/python3.7/site-packages/paddlenlp/transformers/tokenizer_utils.py\", line 1374, in _get_bert_like_offset_mapping\r\n    start = text[offset:].index(token) + offset\r\n\r\n\r\n\u5747\u4e3a\u5f02\u5e38\u5b57\u7b26\u62a5\u9519\r\n\r\n\u6211\u770b\u5df2\u7ecfreport\u8fc7\u591a\u4e2a\u7c7b\u4f3c\u7684\u9519\u8bef\u4e86\uff0c\u4ecd\u7136\u6ca1\u6709\u89e3\u51b3?\n```\n\n\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\n\nPaddleNLP/examples/machine_reading_comprehension/SQuAD \r\n\r\npython  run_squad.py  xxx", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3959/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3959/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3958", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3958/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3958/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3958/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/3958", "id": 1469190562, "node_id": "I_kwDOFAsknM5XkhGi", "number": 3958, "title": "[Bug]: ModuleNotFoundError: No module named 'paddle.distributed.sharding'", "user": {"login": "liuliuNLP", "id": 84298165, "node_id": "MDQ6VXNlcjg0Mjk4MTY1", "avatar_url": "https://avatars.githubusercontent.com/u/84298165?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liuliuNLP", "html_url": "https://github.com/liuliuNLP", "followers_url": "https://api.github.com/users/liuliuNLP/followers", "following_url": "https://api.github.com/users/liuliuNLP/following{/other_user}", "gists_url": "https://api.github.com/users/liuliuNLP/gists{/gist_id}", "starred_url": "https://api.github.com/users/liuliuNLP/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liuliuNLP/subscriptions", "organizations_url": "https://api.github.com/users/liuliuNLP/orgs", "repos_url": "https://api.github.com/users/liuliuNLP/repos", "events_url": "https://api.github.com/users/liuliuNLP/events{/privacy}", "received_events_url": "https://api.github.com/users/liuliuNLP/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4882422102, "node_id": "LA_kwDOFAsknM8AAAABIwPZVg", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/stale", "name": "stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2022-11-30T07:44:52Z", "updated_at": "2023-02-13T00:18:09Z", "closed_at": "2023-02-13T00:18:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\n\n```Markdown\n- paddlepaddle:2.2.0\r\n- paddlenlp: 2.4.3\n```\n\n\n### \u91cd\u590d\u95ee\u9898\n\n- [X] I have searched the existing issues\n\n### \u9519\u8bef\u63cf\u8ff0\n\n```Markdown\n\u4efb\u610f\u6267\u884c\u4e00\u884c\u4ee3\u7801\u5c31\u62a5\u8fd9\u4e2a\u9519\u8bef\n```\n\n\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\n\nfrom paddlenlp import Taskflow\r\n\r\n# \u9ed8\u8ba4\u6a21\u5f0f\u2014\u2014\u2014\u2014\u5b9e\u4f53\u7c92\u5ea6\u5206\u8bcd\uff0c\u5728\u7cbe\u5ea6\u548c\u901f\u5ea6\u4e0a\u7684\u6743\u8861\uff0c\u57fa\u4e8e\u767e\u5ea6LAC\r\nseg = Taskflow(\"word_segmentation\")\r\nseg(\"\u8fd1\u65e5\u56fd\u5bb6\u536b\u5065\u59d4\u53d1\u5e03\u7b2c\u4e5d\u7248\u65b0\u578b\u51a0\u72b6\u75c5\u6bd2\u80ba\u708e\u8bca\u7597\u65b9\u6848\")\r\n", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3958/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3958/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3926", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3926/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3926/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3926/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/3926", "id": 1465888623, "node_id": "I_kwDOFAsknM5XX69v", "number": 3926, "title": "[Bug]:\u4e0b\u8f7d\u9884\u8bad\u7ec3\u6a21\u578b\u65f6\u62a5\u9519404", "user": {"login": "zcg-joker", "id": 77949815, "node_id": "MDQ6VXNlcjc3OTQ5ODE1", "avatar_url": "https://avatars.githubusercontent.com/u/77949815?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zcg-joker", "html_url": "https://github.com/zcg-joker", "followers_url": "https://api.github.com/users/zcg-joker/followers", "following_url": "https://api.github.com/users/zcg-joker/following{/other_user}", "gists_url": "https://api.github.com/users/zcg-joker/gists{/gist_id}", "starred_url": "https://api.github.com/users/zcg-joker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zcg-joker/subscriptions", "organizations_url": "https://api.github.com/users/zcg-joker/orgs", "repos_url": "https://api.github.com/users/zcg-joker/repos", "events_url": "https://api.github.com/users/zcg-joker/events{/privacy}", "received_events_url": "https://api.github.com/users/zcg-joker/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4882422102, "node_id": "LA_kwDOFAsknM8AAAABIwPZVg", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/stale", "name": "stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-11-28T06:29:33Z", "updated_at": "2023-02-12T00:18:45Z", "closed_at": "2023-02-12T00:18:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\n\n```Markdown\n- paddlepaddle: 2.4.0rc0\r\n- paddlepaddle-gpu:  /\r\n- paddlenlp:  2.4.3\n```\n\n\n### \u91cd\u590d\u95ee\u9898\n\n- [X] I have searched the existing issues\n\n### \u9519\u8bef\u63cf\u8ff0\n\n```Markdown\n\u52a0\u8f7drefomer\u9884\u8bad\u7ec3\u8bed\u8a00\u6a21\u578b\u65f6\uff0c\u4e0b\u8f7d\u62a5\u9519\u3002\r\n\u62a5\u9519\u5982\u4e0b\uff1a\r\n[2022-11-27 18:23:00,098] [    INFO] - We are using <class 'paddlenlp.transformers.roformer.tokenizer.RoFormerTokenizer'> to load 'roformer-chinese-base'.\r\n[2022-11-27 18:23:00,098] [    INFO] - Downloading https://bj.bcebos.com/paddlenlp/models/transformers/roformer/roformer-chinese-base/vocab.txt and saved to /home/aistudio/.paddlenlp/models/roformer-chinese-base\r\n[2022-11-27 18:23:00,099] [    INFO] - Downloading vocab.txt from https://bj.bcebos.com/paddlenlp/models/transformers/roformer/roformer-chinese-base/vocab.txt\r\n100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 365k/365k [00:00<00:00, 28.9MB/s]\r\n[2022-11-27 18:23:00,270] [    INFO] - tokenizer config file saved in /home/aistudio/.paddlenlp/models/roformer-chinese-base/tokenizer_config.json\r\n[2022-11-27 18:23:00,270] [    INFO] - Special tokens file saved in /home/aistudio/.paddlenlp/models/roformer-chinese-base/special_tokens_map.json\r\n[2022-11-27 18:23:00,271] [    INFO] - Downloading https://bj.bcebos.com/paddlenlp/models/community//roformer-chinese-base/model_state.pdparams and saved to /home/aistudio/.paddlenlp/models/roformer-chinese-base\r\n[2022-11-27 18:23:00,309] [   ERROR] - Downloading from https://bj.bcebos.com/paddlenlp/models/community//roformer-chinese-base/model_state.pdparams failed with code 404!\r\nTraceback (most recent call last):\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlenlp/transformers/model_utils.py\", line 428, in from_pretrained\r\n    file_path, default_root)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/utils/download.py\", line 159, in get_path_from_url\r\n    fullpath = _download(url, root_dir, md5sum, method=method)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/utils/download.py\", line 262, in _download\r\n    if not _download_methods[method](url, fullname):\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/utils/download.py\", line 184, in _get_download\r\n    \"{}!\".format(url, req.status_code))\r\nRuntimeError: Downloading from https://bj.bcebos.com/paddlenlp/models/community//roformer-chinese-base/model_state.pdparams failed with code 404!\n```\n\n\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\n\nfrom paddlenlp.transformers import AutoTokenizer\r\nfrom model import UIE\r\n\r\ntokenizer = AutoTokenizer.from_pretrained(\"roformer-chinese-base\")\r\nmodel = UIE.from_pretrained(\"roformer-chinese-base\")", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3926/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3926/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3912", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3912/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3912/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3912/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/3912", "id": 1465182594, "node_id": "I_kwDOFAsknM5XVOmC", "number": 3912, "title": "[Bug]: pipelines\u82f1\u6587\u8bed\u4e49\u68c0\u7d22\uff0c\u9996\u6b21\u7528web\u754c\u9762\u5bfc\u5165\u6570\u636e\u4f1a\u62a5\u9519", "user": {"login": "w5688414", "id": 12107462, "node_id": "MDQ6VXNlcjEyMTA3NDYy", "avatar_url": "https://avatars.githubusercontent.com/u/12107462?v=4", "gravatar_id": "", "url": "https://api.github.com/users/w5688414", "html_url": "https://github.com/w5688414", "followers_url": "https://api.github.com/users/w5688414/followers", "following_url": "https://api.github.com/users/w5688414/following{/other_user}", "gists_url": "https://api.github.com/users/w5688414/gists{/gist_id}", "starred_url": "https://api.github.com/users/w5688414/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/w5688414/subscriptions", "organizations_url": "https://api.github.com/users/w5688414/orgs", "repos_url": "https://api.github.com/users/w5688414/repos", "events_url": "https://api.github.com/users/w5688414/events{/privacy}", "received_events_url": "https://api.github.com/users/w5688414/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "w5688414", "id": 12107462, "node_id": "MDQ6VXNlcjEyMTA3NDYy", "avatar_url": "https://avatars.githubusercontent.com/u/12107462?v=4", "gravatar_id": "", "url": "https://api.github.com/users/w5688414", "html_url": "https://github.com/w5688414", "followers_url": "https://api.github.com/users/w5688414/followers", "following_url": "https://api.github.com/users/w5688414/following{/other_user}", "gists_url": "https://api.github.com/users/w5688414/gists{/gist_id}", "starred_url": "https://api.github.com/users/w5688414/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/w5688414/subscriptions", "organizations_url": "https://api.github.com/users/w5688414/orgs", "repos_url": "https://api.github.com/users/w5688414/repos", "events_url": "https://api.github.com/users/w5688414/events{/privacy}", "received_events_url": "https://api.github.com/users/w5688414/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "w5688414", "id": 12107462, "node_id": "MDQ6VXNlcjEyMTA3NDYy", "avatar_url": "https://avatars.githubusercontent.com/u/12107462?v=4", "gravatar_id": "", "url": "https://api.github.com/users/w5688414", "html_url": "https://github.com/w5688414", "followers_url": "https://api.github.com/users/w5688414/followers", "following_url": "https://api.github.com/users/w5688414/following{/other_user}", "gists_url": "https://api.github.com/users/w5688414/gists{/gist_id}", "starred_url": "https://api.github.com/users/w5688414/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/w5688414/subscriptions", "organizations_url": "https://api.github.com/users/w5688414/orgs", "repos_url": "https://api.github.com/users/w5688414/repos", "events_url": "https://api.github.com/users/w5688414/events{/privacy}", "received_events_url": "https://api.github.com/users/w5688414/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2022-11-26T15:23:26Z", "updated_at": "2022-11-30T09:27:15Z", "closed_at": "2022-11-30T09:27:15Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\r\n\r\n```Markdown\r\n- paddlepaddle:\r\n- paddlepaddle-gpu: 2.3.2\r\n- paddlenlp: 2.4.3\r\n```\r\n\r\n\r\n### \u91cd\u590d\u95ee\u9898\r\n\r\n- [X] I have searched the existing issues\r\n\r\n### \u9519\u8bef\u63cf\u8ff0\r\n\r\n```Markdown\r\npipelines\u82f1\u6587\u8bed\u4e49\u68c0\u7d22\uff0c\u9996\u6b21\u7528web\u754c\u9762\u5bfc\u5165\u6570\u636e\u4f1a\u62a5\u9519\r\n```\r\n\r\n\r\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\r\n\r\n\u65e0\r\n![WechatIMG759](https://user-images.githubusercontent.com/12107462/204096263-060efa22-2bfd-4c4f-9602-af4e7d09796c.jpeg)\r\n\r\n![WechatIMG763](https://user-images.githubusercontent.com/12107462/204096270-5a4f0985-a421-474b-9a34-34d4f9ccfb76.jpeg)\r\n\r\n![WechatIMG762](https://user-images.githubusercontent.com/12107462/204096266-31e9bb64-1851-4ef0-8584-0aa9a08f4021.jpeg)\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3912/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3912/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3908", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3908/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3908/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3908/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/3908", "id": 1464784469, "node_id": "I_kwDOFAsknM5XTtZV", "number": 3908, "title": "[Bug]: GPT\u5bfc\u51fa\u6a21\u578b\u540e\uff0c\u63a8\u7406\u62a5\u9519", "user": {"login": "littletomatodonkey", "id": 14270174, "node_id": "MDQ6VXNlcjE0MjcwMTc0", "avatar_url": "https://avatars.githubusercontent.com/u/14270174?v=4", "gravatar_id": "", "url": "https://api.github.com/users/littletomatodonkey", "html_url": "https://github.com/littletomatodonkey", "followers_url": "https://api.github.com/users/littletomatodonkey/followers", "following_url": "https://api.github.com/users/littletomatodonkey/following{/other_user}", "gists_url": "https://api.github.com/users/littletomatodonkey/gists{/gist_id}", "starred_url": "https://api.github.com/users/littletomatodonkey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/littletomatodonkey/subscriptions", "organizations_url": "https://api.github.com/users/littletomatodonkey/orgs", "repos_url": "https://api.github.com/users/littletomatodonkey/repos", "events_url": "https://api.github.com/users/littletomatodonkey/events{/privacy}", "received_events_url": "https://api.github.com/users/littletomatodonkey/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4882422102, "node_id": "LA_kwDOFAsknM8AAAABIwPZVg", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/stale", "name": "stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "ZHUI", "id": 16911935, "node_id": "MDQ6VXNlcjE2OTExOTM1", "avatar_url": "https://avatars.githubusercontent.com/u/16911935?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ZHUI", "html_url": "https://github.com/ZHUI", "followers_url": "https://api.github.com/users/ZHUI/followers", "following_url": "https://api.github.com/users/ZHUI/following{/other_user}", "gists_url": "https://api.github.com/users/ZHUI/gists{/gist_id}", "starred_url": "https://api.github.com/users/ZHUI/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ZHUI/subscriptions", "organizations_url": "https://api.github.com/users/ZHUI/orgs", "repos_url": "https://api.github.com/users/ZHUI/repos", "events_url": "https://api.github.com/users/ZHUI/events{/privacy}", "received_events_url": "https://api.github.com/users/ZHUI/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ZHUI", "id": 16911935, "node_id": "MDQ6VXNlcjE2OTExOTM1", "avatar_url": "https://avatars.githubusercontent.com/u/16911935?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ZHUI", "html_url": "https://github.com/ZHUI", "followers_url": "https://api.github.com/users/ZHUI/followers", "following_url": "https://api.github.com/users/ZHUI/following{/other_user}", "gists_url": "https://api.github.com/users/ZHUI/gists{/gist_id}", "starred_url": "https://api.github.com/users/ZHUI/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ZHUI/subscriptions", "organizations_url": "https://api.github.com/users/ZHUI/orgs", "repos_url": "https://api.github.com/users/ZHUI/repos", "events_url": "https://api.github.com/users/ZHUI/events{/privacy}", "received_events_url": "https://api.github.com/users/ZHUI/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2022-11-25T17:16:47Z", "updated_at": "2023-02-12T00:18:51Z", "closed_at": "2023-02-12T00:18:51Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\n\n```Markdown\n- paddlepaddle:\r\n- paddlepaddle-gpu: 2.2.0~2.4.0\u5747\u51fa\u73b0\r\n- paddlenlp: develop\n```\n\n\n### \u91cd\u590d\u95ee\u9898\n\n- [X] I have searched the existing issues\n\n### \u9519\u8bef\u63cf\u8ff0\n\n```Markdown\nTraceback (most recent call last):\r\n  File \"deploy/python/inference.py\", line 129, in <module>\r\n    main()\r\n  File \"deploy/python/inference.py\", line 121, in main\r\n    outs = predictor.predict(dataset)\r\n  File \"deploy/python/inference.py\", line 89, in predict\r\n    output = self.predict_batch(data)\r\n  File \"deploy/python/inference.py\", line 80, in predict_batch\r\n    self.predictor.run()\r\nRuntimeError: In user code:\r\n\r\n    File \"export_model.py\", line 84, in <module>\r\n      main()\r\n    File \"export_model.py\", line 78, in main\r\n      paddle.jit.save(model, args.output_path)\r\n    File \"<decorator-gen-123>\", line 2, in save\r\n      \r\n    File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/wrapped_decorator.py\", line 26, in __impl__\r\n      return wrapped_func(*args, **kwargs)\r\n    File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/dygraph/jit.py\", line 649, in wrapper\r\n      func(layer, path, input_spec, **configs)\r\n    File \"<decorator-gen-122>\", line 2, in save\r\n      \r\n    File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/wrapped_decorator.py\", line 26, in __impl__\r\n      return wrapped_func(*args, **kwargs)\r\n    File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/dygraph/base.py\", line 67, in __impl__\r\n      return func(*args, **kwargs)\r\n    File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/dygraph/jit.py\", line 928, in save\r\n      inner_input_spec, with_hook=with_hook)\r\n    File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/dygraph/dygraph_to_static/program_translator.py\", line 580, in concrete_program_specify_input_spec\r\n      is_train=self._is_train_mode())\r\n    File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/dygraph/dygraph_to_static/program_translator.py\", line 485, in get_concrete_program\r\n      concrete_program, partial_program_layer = self._program_cache[cache_key]\r\n    File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/dygraph/dygraph_to_static/program_translator.py\", line 955, in __getitem__\r\n      self._caches[item_id] = self._build_once(item)\r\n    File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/dygraph/dygraph_to_static/program_translator.py\", line 944, in _build_once\r\n      **cache_key.kwargs)\r\n    File \"<decorator-gen-119>\", line 2, in from_func_spec\r\n      \r\n    File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/wrapped_decorator.py\", line 26, in __impl__\r\n      return wrapped_func(*args, **kwargs)\r\n    File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/dygraph/base.py\", line 67, in __impl__\r\n      return func(*args, **kwargs)\r\n    File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/dygraph/dygraph_to_static/program_translator.py\", line 888, in from_func_spec\r\n      outputs = static_func(*inputs)\r\n    File \"/home/aistudio/PaddleNLP/paddlenlp/transformers/gpt/modeling.py\", line 1050, in forward\r\n      output, cached_kvs = self.model(input_ids, use_cache=True, cache=None)\r\n    File \"/home/aistudio/PaddleNLP/paddlenlp/transformers/gpt/modeling.py\", line 1021, in model\r\n      outputs = self.gpt(input_ids,\r\n    File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/dygraph/layers.py\", line 950, in __call__\r\n      return self._dygraph_call_func(*inputs, **kwargs)\r\n    File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/dygraph/layers.py\", line 935, in _dygraph_call_func\r\n      outputs = self.forward(*inputs, **kwargs)\r\n    File \"/home/aistudio/PaddleNLP/paddlenlp/transformers/gpt/modeling.py\", line 813, in forward\r\n      if position_ids is None:\r\n    File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/dygraph/dygraph_to_static/convert_operators.py\", line 324, in convert_ifelse\r\n      return_name_ids)\r\n    File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/dygraph/dygraph_to_static/convert_operators.py\", line 380, in _run_py_ifelse\r\n      py_outs = true_fn() if pred else false_fn()\r\n    File \"/home/aistudio/PaddleNLP/paddlenlp/transformers/gpt/modeling.py\", line 823, in forward\r\n      position_ids = paddle.expand_as(position_ids, input_ids)\r\n    File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/tensor/manipulation.py\", line 3270, in expand_as\r\n      outputs={'Out': out},\r\n    File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/layer_helper.py\", line 45, in append_op\r\n      return self.main_program.current_block().append_op(*args, **kwargs)\r\n    File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/framework.py\", line 4023, in append_op\r\n      attrs=kwargs.get(\"attrs\", None),\r\n    File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/framework.py\", line 2858, in __init__\r\n      for frame in traceback.extract_stack():\r\n\r\n    PreconditionNotMetError: The meta data must be valid when call the mutable data function. (at /paddle/paddle/phi/core/dense_tensor.cc:111)\r\n      [operator < expand_as_v2 > error]\r\n```\n```\n\n\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\n\n\u5bfc\u51fa\u7684\u65f6\u5019\u6ca1\u6709\u95ee\u9898\u3002\r\n\r\n```sh\r\npython export_model.py --model_type=gpt \\\r\n    --model_path=gpt2-medium-en \\\r\n    --output_path=./infer_model/model\r\n```\r\n\r\n\u63a8\u7406\u7684\u65f6\u5019\uff0c\u62a5\u4e86\u4e0a\u9762\u7684\u9519\u8bef\u3002\r\n\r\n```sh\r\npython deploy/python/inference.py --model_type gpt \\\r\n    --model_path ./infer_model/model\r\n```", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3908/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3908/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3907", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3907/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3907/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3907/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/3907", "id": 1464599596, "node_id": "I_kwDOFAsknM5XTAQs", "number": 3907, "title": "[Bug]: UIE\u6587\u6863\u6709\u8bef", "user": {"login": "littletomatodonkey", "id": 14270174, "node_id": "MDQ6VXNlcjE0MjcwMTc0", "avatar_url": "https://avatars.githubusercontent.com/u/14270174?v=4", "gravatar_id": "", "url": "https://api.github.com/users/littletomatodonkey", "html_url": "https://github.com/littletomatodonkey", "followers_url": "https://api.github.com/users/littletomatodonkey/followers", "following_url": "https://api.github.com/users/littletomatodonkey/following{/other_user}", "gists_url": "https://api.github.com/users/littletomatodonkey/gists{/gist_id}", "starred_url": "https://api.github.com/users/littletomatodonkey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/littletomatodonkey/subscriptions", "organizations_url": "https://api.github.com/users/littletomatodonkey/orgs", "repos_url": "https://api.github.com/users/littletomatodonkey/repos", "events_url": "https://api.github.com/users/littletomatodonkey/events{/privacy}", "received_events_url": "https://api.github.com/users/littletomatodonkey/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4882422102, "node_id": "LA_kwDOFAsknM8AAAABIwPZVg", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/stale", "name": "stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "linjieccc", "id": 40840292, "node_id": "MDQ6VXNlcjQwODQwMjky", "avatar_url": "https://avatars.githubusercontent.com/u/40840292?v=4", "gravatar_id": "", "url": "https://api.github.com/users/linjieccc", "html_url": "https://github.com/linjieccc", "followers_url": "https://api.github.com/users/linjieccc/followers", "following_url": "https://api.github.com/users/linjieccc/following{/other_user}", "gists_url": "https://api.github.com/users/linjieccc/gists{/gist_id}", "starred_url": "https://api.github.com/users/linjieccc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/linjieccc/subscriptions", "organizations_url": "https://api.github.com/users/linjieccc/orgs", "repos_url": "https://api.github.com/users/linjieccc/repos", "events_url": "https://api.github.com/users/linjieccc/events{/privacy}", "received_events_url": "https://api.github.com/users/linjieccc/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "linjieccc", "id": 40840292, "node_id": "MDQ6VXNlcjQwODQwMjky", "avatar_url": "https://avatars.githubusercontent.com/u/40840292?v=4", "gravatar_id": "", "url": "https://api.github.com/users/linjieccc", "html_url": "https://github.com/linjieccc", "followers_url": "https://api.github.com/users/linjieccc/followers", "following_url": "https://api.github.com/users/linjieccc/following{/other_user}", "gists_url": "https://api.github.com/users/linjieccc/gists{/gist_id}", "starred_url": "https://api.github.com/users/linjieccc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/linjieccc/subscriptions", "organizations_url": "https://api.github.com/users/linjieccc/orgs", "repos_url": "https://api.github.com/users/linjieccc/repos", "events_url": "https://api.github.com/users/linjieccc/events{/privacy}", "received_events_url": "https://api.github.com/users/linjieccc/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2022-11-25T14:09:43Z", "updated_at": "2023-02-10T01:21:38Z", "closed_at": "2023-02-10T01:21:38Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "```Markdown\r\nUIE \u6a21\u578b\u5fae\u8c03\u65f6\uff0c\u6ca1\u6709\u751f\u6210\u5bf9\u5e94\u7684inference\u6a21\u578b\r\n```\r\n\r\n\r\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\r\n\r\n<img width=\"1071\" alt=\"image\" src=\"https://user-images.githubusercontent.com/14270174/204002380-dc2701c7-8b62-4ce9-939f-653ddcbd2cca.png\">\r\n", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3907/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3907/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3901", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3901/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3901/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3901/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/3901", "id": 1464109835, "node_id": "I_kwDOFAsknM5XRIsL", "number": 3901, "title": "[Bug]: paddlenlp\u4e2d\u5173\u4e8eErnieLayoutTokenizer\u7684\u8fd4\u56deoffset_mapping\u7684\u9519\u8bef", "user": {"login": "wn1652400018", "id": 35511759, "node_id": "MDQ6VXNlcjM1NTExNzU5", "avatar_url": "https://avatars.githubusercontent.com/u/35511759?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wn1652400018", "html_url": "https://github.com/wn1652400018", "followers_url": "https://api.github.com/users/wn1652400018/followers", "following_url": "https://api.github.com/users/wn1652400018/following{/other_user}", "gists_url": "https://api.github.com/users/wn1652400018/gists{/gist_id}", "starred_url": "https://api.github.com/users/wn1652400018/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wn1652400018/subscriptions", "organizations_url": "https://api.github.com/users/wn1652400018/orgs", "repos_url": "https://api.github.com/users/wn1652400018/repos", "events_url": "https://api.github.com/users/wn1652400018/events{/privacy}", "received_events_url": "https://api.github.com/users/wn1652400018/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4882422102, "node_id": "LA_kwDOFAsknM8AAAABIwPZVg", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/stale", "name": "stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "linjieccc", "id": 40840292, "node_id": "MDQ6VXNlcjQwODQwMjky", "avatar_url": "https://avatars.githubusercontent.com/u/40840292?v=4", "gravatar_id": "", "url": "https://api.github.com/users/linjieccc", "html_url": "https://github.com/linjieccc", "followers_url": "https://api.github.com/users/linjieccc/followers", "following_url": "https://api.github.com/users/linjieccc/following{/other_user}", "gists_url": "https://api.github.com/users/linjieccc/gists{/gist_id}", "starred_url": "https://api.github.com/users/linjieccc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/linjieccc/subscriptions", "organizations_url": "https://api.github.com/users/linjieccc/orgs", "repos_url": "https://api.github.com/users/linjieccc/repos", "events_url": "https://api.github.com/users/linjieccc/events{/privacy}", "received_events_url": "https://api.github.com/users/linjieccc/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "linjieccc", "id": 40840292, "node_id": "MDQ6VXNlcjQwODQwMjky", "avatar_url": "https://avatars.githubusercontent.com/u/40840292?v=4", "gravatar_id": "", "url": "https://api.github.com/users/linjieccc", "html_url": "https://github.com/linjieccc", "followers_url": "https://api.github.com/users/linjieccc/followers", "following_url": "https://api.github.com/users/linjieccc/following{/other_user}", "gists_url": "https://api.github.com/users/linjieccc/gists{/gist_id}", "starred_url": "https://api.github.com/users/linjieccc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/linjieccc/subscriptions", "organizations_url": "https://api.github.com/users/linjieccc/orgs", "repos_url": "https://api.github.com/users/linjieccc/repos", "events_url": "https://api.github.com/users/linjieccc/events{/privacy}", "received_events_url": "https://api.github.com/users/linjieccc/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2022-11-25T06:49:31Z", "updated_at": "2023-02-12T00:18:53Z", "closed_at": "2023-02-12T00:18:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\n\n```Markdown\n- paddlepaddle:\r\n- paddlepaddle-gpu: \r\n- paddlenlp:\n```\n\n\n### \u91cd\u590d\u95ee\u9898\n\n- [x] I have searched the existing issues\n\n### \u9519\u8bef\u63cf\u8ff0\n\n```Markdown\n\u5f53\u6211\u5c06return_offset_mapping\u53c2\u6570\u8bbe\u7f6e\u4e3aTrue\u65f6\uff0c\u8fd4\u56de\u7684offset_mapping\u957f\u5ea6\u6bd4input_ids\u77ed\u4e86\u3002\u7ecf\u8fc7\u5206\u6790\u53d1\u73b0\uff0cpaddlenlp\u4e2d\u628a\u6240\u6709\u7684'\u2581'\u5bf9\u5e94\u7684offset_mapping\u90fd\u4e22\u4e86\u3002\u8fd9\u660e\u663e\u662f\u4e0d\u65b9\u4fbf\u540e\u7eed\u64cd\u4f5c\u7684\u3002\n```\n\n\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\n\n2", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3901/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3901/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3894", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3894/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3894/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3894/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/3894", "id": 1463131376, "node_id": "I_kwDOFAsknM5XNZzw", "number": 3894, "title": "[Bug]: ERNIE-Doc\u8fd0\u884c\u8bed\u4e49\u5339\u914d\u4efb\u52a1\u65f6adamw\u62a5\u9519", "user": {"login": "chenqianhe", "id": 54462604, "node_id": "MDQ6VXNlcjU0NDYyNjA0", "avatar_url": "https://avatars.githubusercontent.com/u/54462604?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chenqianhe", "html_url": "https://github.com/chenqianhe", "followers_url": "https://api.github.com/users/chenqianhe/followers", "following_url": "https://api.github.com/users/chenqianhe/following{/other_user}", "gists_url": "https://api.github.com/users/chenqianhe/gists{/gist_id}", "starred_url": "https://api.github.com/users/chenqianhe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chenqianhe/subscriptions", "organizations_url": "https://api.github.com/users/chenqianhe/orgs", "repos_url": "https://api.github.com/users/chenqianhe/repos", "events_url": "https://api.github.com/users/chenqianhe/events{/privacy}", "received_events_url": "https://api.github.com/users/chenqianhe/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "lugimzzz", "id": 63761690, "node_id": "MDQ6VXNlcjYzNzYxNjkw", "avatar_url": "https://avatars.githubusercontent.com/u/63761690?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lugimzzz", "html_url": "https://github.com/lugimzzz", "followers_url": "https://api.github.com/users/lugimzzz/followers", "following_url": "https://api.github.com/users/lugimzzz/following{/other_user}", "gists_url": "https://api.github.com/users/lugimzzz/gists{/gist_id}", "starred_url": "https://api.github.com/users/lugimzzz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lugimzzz/subscriptions", "organizations_url": "https://api.github.com/users/lugimzzz/orgs", "repos_url": "https://api.github.com/users/lugimzzz/repos", "events_url": "https://api.github.com/users/lugimzzz/events{/privacy}", "received_events_url": "https://api.github.com/users/lugimzzz/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "lugimzzz", "id": 63761690, "node_id": "MDQ6VXNlcjYzNzYxNjkw", "avatar_url": "https://avatars.githubusercontent.com/u/63761690?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lugimzzz", "html_url": "https://github.com/lugimzzz", "followers_url": "https://api.github.com/users/lugimzzz/followers", "following_url": "https://api.github.com/users/lugimzzz/following{/other_user}", "gists_url": "https://api.github.com/users/lugimzzz/gists{/gist_id}", "starred_url": "https://api.github.com/users/lugimzzz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lugimzzz/subscriptions", "organizations_url": "https://api.github.com/users/lugimzzz/orgs", "repos_url": "https://api.github.com/users/lugimzzz/repos", "events_url": "https://api.github.com/users/lugimzzz/events{/privacy}", "received_events_url": "https://api.github.com/users/lugimzzz/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2022-11-24T10:35:21Z", "updated_at": "2022-12-01T02:15:30Z", "closed_at": "2022-12-01T02:15:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\n\n```Markdown\n- paddle-bfloat                  0.1.7\r\n- paddle2onnx                    1.0.0\r\n- paddlefsl                      1.1.0\r\n- paddlehub                      2.3.0\r\n- paddlenlp                      2.2.6\r\n- paddlepaddle-gpu               2.4.0rc0.post112\r\n- tb-paddle                      0.3.6\n```\n\n\n### \u91cd\u590d\u95ee\u9898\n\n- [X] I have searched the existing issues\n\n### \u9519\u8bef\u63cf\u8ff0\n\n```Markdown\nTraceback (most recent call last):\r\n  File \"run_semantic_matching.py\", line 369, in <module>\r\n    do_train(args)\r\n  File \"run_semantic_matching.py\", line 316, in do_train\r\n    optimizer.step()\r\n  File \"<decorator-gen-294>\", line 2, in step\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/dygraph/base.py\", line 300, in __impl__\r\n    return func(*args, **kwargs)\r\n  File \"<decorator-gen-292>\", line 2, in step\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/wrapped_decorator.py\", line 26, in __impl__\r\n    return wrapped_func(*args, **kwargs)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/framework.py\", line 509, in __impl__\r\n    return func(*args, **kwargs)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/optimizer/adamw.py\", line 580, in step\r\n    params_grads=params_grads)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/optimizer/optimizer.py\", line 1015, in _apply_optimize\r\n    optimize_ops = self._create_optimization_pass(params_grads)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/optimizer/optimizer.py\", line 813, in _create_optimization_pass\r\n    param_and_grad)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/optimizer/adamw.py\", line 451, in _append_optimize_op\r\n    find_master, False)\r\nValueError: (InvalidArgument) adamw_(): argument (position 13) must be double, but got NoneType (at /paddle/paddle/fluid/pybind/op_function_common.cc:211)\r\n```\n```\n\n\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\n\nhttps://github.com/PaddlePaddle/PaddleNLP/blob/develop/model_zoo/ernie-doc/README.md\r\n\r\n```\r\npython run_semantic_matching.py  --batch_size 6 --learning_rate 2e-5\r\n```\r\n\r\npaddlenlp 2.2.6\u7248\u672c\u9700\u8981\u4fee\u6539layerwise_lr_decay\u5f15\u5165\u4e3a\uff1a\r\n```\r\nfrom paddlenlp.ops.optimizer.adamwdl import layerwise_lr_decay\r\n```", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3894/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3894/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3867", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3867/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3867/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3867/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/3867", "id": 1460882201, "node_id": "I_kwDOFAsknM5XE0sZ", "number": 3867, "title": "[Bug]: \u9884\u8bad\u7ec3\u6a21\u578b\u5185\u5b58\u6ea2\u51fa", "user": {"login": "chenchun0629", "id": 3328490, "node_id": "MDQ6VXNlcjMzMjg0OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/3328490?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chenchun0629", "html_url": "https://github.com/chenchun0629", "followers_url": "https://api.github.com/users/chenchun0629/followers", "following_url": "https://api.github.com/users/chenchun0629/following{/other_user}", "gists_url": "https://api.github.com/users/chenchun0629/gists{/gist_id}", "starred_url": "https://api.github.com/users/chenchun0629/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chenchun0629/subscriptions", "organizations_url": "https://api.github.com/users/chenchun0629/orgs", "repos_url": "https://api.github.com/users/chenchun0629/repos", "events_url": "https://api.github.com/users/chenchun0629/events{/privacy}", "received_events_url": "https://api.github.com/users/chenchun0629/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4882422102, "node_id": "LA_kwDOFAsknM8AAAABIwPZVg", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/stale", "name": "stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "ZHUI", "id": 16911935, "node_id": "MDQ6VXNlcjE2OTExOTM1", "avatar_url": "https://avatars.githubusercontent.com/u/16911935?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ZHUI", "html_url": "https://github.com/ZHUI", "followers_url": "https://api.github.com/users/ZHUI/followers", "following_url": "https://api.github.com/users/ZHUI/following{/other_user}", "gists_url": "https://api.github.com/users/ZHUI/gists{/gist_id}", "starred_url": "https://api.github.com/users/ZHUI/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ZHUI/subscriptions", "organizations_url": "https://api.github.com/users/ZHUI/orgs", "repos_url": "https://api.github.com/users/ZHUI/repos", "events_url": "https://api.github.com/users/ZHUI/events{/privacy}", "received_events_url": "https://api.github.com/users/ZHUI/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ZHUI", "id": 16911935, "node_id": "MDQ6VXNlcjE2OTExOTM1", "avatar_url": "https://avatars.githubusercontent.com/u/16911935?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ZHUI", "html_url": "https://github.com/ZHUI", "followers_url": "https://api.github.com/users/ZHUI/followers", "following_url": "https://api.github.com/users/ZHUI/following{/other_user}", "gists_url": "https://api.github.com/users/ZHUI/gists{/gist_id}", "starred_url": "https://api.github.com/users/ZHUI/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ZHUI/subscriptions", "organizations_url": "https://api.github.com/users/ZHUI/orgs", "repos_url": "https://api.github.com/users/ZHUI/repos", "events_url": "https://api.github.com/users/ZHUI/events{/privacy}", "received_events_url": "https://api.github.com/users/ZHUI/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 10, "created_at": "2022-11-23T02:52:51Z", "updated_at": "2023-03-20T00:17:49Z", "closed_at": "2023-03-20T00:17:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\r\n\r\n```Markdown\r\npaddle-bfloat                  0.1.7\r\npaddle2onnx                    1.0.0\r\npaddlefsl                      1.1.0\r\npaddlehub                      2.3.0\r\npaddlenlp                      2.4.3\r\npaddlepaddle-gpu               2.4.0rc0.post112\r\ntb-paddle                      0.3.6\r\n```\r\n\r\n\r\n### \u91cd\u590d\u95ee\u9898\r\n\r\n- [x] I have searched the existing issues\r\n\r\n### \u9519\u8bef\u63cf\u8ff0\r\n\r\n```Markdown\r\n\u6309\u7167 https://github.com/PaddlePaddle/PaddleNLP/blob/develop/model_zoo/ernie-1.0/pretraining_introduction.md \u4e2d\u6240\u5199\u7684\u6b65\u9aa4\uff0c\u8fdb\u884c\u6a21\u578b\u9884\u8bad\u7ec3\uff0c\u5b58\u5728\u5185\u5b58\u6ea2\u51fa\u7684\u95ee\u9898\u3002\r\n\r\n\u56e0\u4e3a\u662f\u5728ai_studio\u6267\u884c\u7684\uff0c\u6240\u4ee5\u6267\u884c\u5230\u4e00\u6bb5\u65f6\u95f4\u5185\u5b58\u4e0d\u591f\u4ee5\u540e\uff0c\u9875\u9762\u4f1a\u5f39\u7a97\u63d0\u793a\u5185\u5b58\u4e0d\u8db3\uff08\u6ea2\u51fa\uff09\uff0c\u7136\u540e\u5173\u95ed\u9875\u9762\u3002\r\n\r\n/home/aistudio/PaddleNLP/model_zoo/ernie-1.0\r\nLAUNCH INFO 2022-11-23 09:34:38,635 -----------  Configuration  ----------------------\r\nLAUNCH INFO 2022-11-23 09:34:38,635 devices: 0\r\nLAUNCH INFO 2022-11-23 09:34:38,635 elastic_level: -1\r\nLAUNCH INFO 2022-11-23 09:34:38,635 elastic_timeout: 30\r\nLAUNCH INFO 2022-11-23 09:34:38,635 gloo_port: 6767\r\nLAUNCH INFO 2022-11-23 09:34:38,635 host: None\r\nLAUNCH INFO 2022-11-23 09:34:38,635 ips: None\r\nLAUNCH INFO 2022-11-23 09:34:38,635 job_id: default\r\nLAUNCH INFO 2022-11-23 09:34:38,635 legacy: False\r\nLAUNCH INFO 2022-11-23 09:34:38,635 log_dir: /home/aistudio/PaddleNLP/model_zoo/ernie-1.0/output/v1/logs\r\nLAUNCH INFO 2022-11-23 09:34:38,635 log_level: INFO\r\nLAUNCH INFO 2022-11-23 09:34:38,635 master: None\r\nLAUNCH INFO 2022-11-23 09:34:38,635 max_restart: 3\r\nLAUNCH INFO 2022-11-23 09:34:38,635 nnodes: 1\r\nLAUNCH INFO 2022-11-23 09:34:38,635 nproc_per_node: None\r\nLAUNCH INFO 2022-11-23 09:34:38,635 rank: -1\r\nLAUNCH INFO 2022-11-23 09:34:38,635 run_mode: collective\r\nLAUNCH INFO 2022-11-23 09:34:38,635 server_num: None\r\nLAUNCH INFO 2022-11-23 09:34:38,635 servers: \r\nLAUNCH INFO 2022-11-23 09:34:38,635 start_port: 6070\r\nLAUNCH INFO 2022-11-23 09:34:38,635 trainer_num: None\r\nLAUNCH INFO 2022-11-23 09:34:38,635 trainers: \r\nLAUNCH INFO 2022-11-23 09:34:38,635 training_script: run_pretrain.py\r\nLAUNCH INFO 2022-11-23 09:34:38,635 training_script_args: ['--model_type', 'ernie', '--model_name_or_path', 'ernie-3.0-base-zh', '--tokenizer_name_or_path', 'ernie-3.0-base-zh', '--input_dir', '/home/aistudio/PaddleNLP/model_zoo/ernie-1.0/data', '--output_dir', '/home/aistudio/PaddleNLP/model_zoo/ernie-1.0/output/v1', '--split', '949,50,1', '--max_seq_len', '512', '--binary_head', 'true', '--micro_batch_size', '32', '--use_amp', 'true', '--fp16_opt_level', 'O1', '--use_recompute', 'false', '--max_lr', '0.0001', '--min_lr', '0.00001', '--max_steps', '4000000', '--save_steps', '100000', '--checkpoint_steps', '5000', '--decay_steps', '3900000', '--weight_decay', '0.01', '--warmup_rate', '0.01', '--grad_clip', '1.0', '--logging_freq', '1000', '--num_workers', '3', '--eval_freq', '1000', '--device', 'gpu', '--share_folder', 'true', '--hidden_dropout_prob', '0.1', '--attention_probs_dropout_prob', '0.1', '--seed', '1234']\r\nLAUNCH INFO 2022-11-23 09:34:38,635 with_gloo: 1\r\nLAUNCH INFO 2022-11-23 09:34:38,635 --------------------------------------------------\r\nLAUNCH INFO 2022-11-23 09:34:38,636 Job: default, mode collective, replicas 1[1:1], elastic False\r\nLAUNCH INFO 2022-11-23 09:34:38,643 Run Pod: vxpojd, replicas 1, status ready\r\nLAUNCH INFO 2022-11-23 09:34:38,656 Watching Pod: vxpojd, replicas 1, status running\r\n[2022-11-23 09:34:41,385] [    INFO] - paddle commit id    :083853cd4e4a9bdad22c70fa48eb9a036d2def27\r\n[2022-11-23 09:34:41,385] [    INFO] - model_type          :ernie\r\n[2022-11-23 09:34:41,385] [    INFO] - model_name_or_path  :ernie-3.0-base-zh\r\n[2022-11-23 09:34:41,385] [    INFO] - tokenizer_name_or_path:ernie-3.0-base-zh\r\n[2022-11-23 09:34:41,385] [    INFO] - continue_training   :False\r\n[2022-11-23 09:34:41,385] [    INFO] - input_dir           :/home/aistudio/PaddleNLP/model_zoo/ernie-1.0/data\r\n[2022-11-23 09:34:41,385] [    INFO] - output_dir          :/home/aistudio/PaddleNLP/model_zoo/ernie-1.0/output/v1\r\n[2022-11-23 09:34:41,385] [    INFO] - split               :949,50,1\r\n[2022-11-23 09:34:41,386] [    INFO] - binary_head         :True\r\n[2022-11-23 09:34:41,386] [    INFO] - max_seq_len         :512\r\n[2022-11-23 09:34:41,386] [    INFO] - micro_batch_size    :32\r\n[2022-11-23 09:34:41,386] [    INFO] - global_batch_size   :32\r\n[2022-11-23 09:34:41,386] [    INFO] - weight_decay        :0.01\r\n[2022-11-23 09:34:41,386] [    INFO] - grad_clip           :1.0\r\n[2022-11-23 09:34:41,386] [    INFO] - max_lr              :0.0001\r\n[2022-11-23 09:34:41,386] [    INFO] - min_lr              :1e-05\r\n[2022-11-23 09:34:41,386] [    INFO] - warmup_rate         :0.01\r\n[2022-11-23 09:34:41,386] [    INFO] - adam_beta1          :0.9\r\n[2022-11-23 09:34:41,386] [    INFO] - adam_beta2          :0.999\r\n[2022-11-23 09:34:41,386] [    INFO] - adam_epsilon        :1e-08\r\n[2022-11-23 09:34:41,386] [    INFO] - num_train_epochs    :1\r\n[2022-11-23 09:34:41,386] [    INFO] - max_steps           :4000000\r\n[2022-11-23 09:34:41,386] [    INFO] - checkpoint_steps    :5000\r\n[2022-11-23 09:34:41,386] [    INFO] - save_steps          :100000\r\n[2022-11-23 09:34:41,386] [    INFO] - decay_steps         :3900000\r\n[2022-11-23 09:34:41,387] [    INFO] - logging_freq        :1000\r\n[2022-11-23 09:34:41,387] [    INFO] - eval_freq           :1000\r\n[2022-11-23 09:34:41,387] [    INFO] - eval_iters          :10\r\n[2022-11-23 09:34:41,387] [    INFO] - use_sharding        :None\r\n[2022-11-23 09:34:41,387] [    INFO] - sharding_degree     :1\r\n[2022-11-23 09:34:41,387] [    INFO] - dp_degree           :1\r\n[2022-11-23 09:34:41,387] [    INFO] - mp_degree           :1\r\n[2022-11-23 09:34:41,387] [    INFO] - pp_degree           :1\r\n[2022-11-23 09:34:41,387] [    INFO] - use_recompute       :False\r\n[2022-11-23 09:34:41,387] [    INFO] - use_amp             :True\r\n[2022-11-23 09:34:41,387] [    INFO] - fp16_opt_level      :O1\r\n[2022-11-23 09:34:41,387] [    INFO] - enable_addto        :True\r\n[2022-11-23 09:34:41,387] [    INFO] - scale_loss          :32768\r\n[2022-11-23 09:34:41,387] [    INFO] - hidden_dropout_prob :0.1\r\n[2022-11-23 09:34:41,387] [    INFO] - attention_probs_dropout_prob:0.1\r\n[2022-11-23 09:34:41,387] [    INFO] - seed                :1234\r\n[2022-11-23 09:34:41,387] [    INFO] - num_workers         :3\r\n[2022-11-23 09:34:41,387] [    INFO] - check_accuracy      :None\r\n[2022-11-23 09:34:41,388] [    INFO] - device              :gpu\r\n[2022-11-23 09:34:41,388] [    INFO] - lr_decay_style      :cosine\r\n[2022-11-23 09:34:41,388] [    INFO] - share_folder        :True\r\n[2022-11-23 09:34:41,388] [    INFO] - masked_lm_prob      :0.15\r\n[2022-11-23 09:34:41,388] [    INFO] - short_seq_prob      :0.1\r\n[2022-11-23 09:34:41,388] [    INFO] - favor_longer_ngram  :False\r\n[2022-11-23 09:34:41,388] [    INFO] - max_ngrams          :3\r\n[2022-11-23 09:34:41,388] [    INFO] - test_iters          :100\r\n[2022-11-23 09:34:41,388] [    INFO] - accumulate_steps    :1\r\n2022-11-23 09:34:41,389-INFO: [topology.py:187:__init__] HybridParallelInfo: rank_id: 0, mp_degree: 1, sharding_degree: 1, pp_degree: 1, dp_degree: 1, mp_group: [0],  sharding_group: [0], pp_group: [0], dp_group: [0], check/clip group: [0]\r\n[2022-11-23 09:34:41,390] [ WARNING] - Your model ernie-3.0-base-zh is training from scratch !!!\r\nW1123 09:34:41.391795  2677 gpu_resources.cc:61] Please NOTE: device: 0, GPU Compute Capability: 7.0, Driver API Version: 11.2, Runtime API Version: 11.2\r\nW1123 09:34:41.396157  2677 gpu_resources.cc:91] device: 0, cuDNN Version: 8.2.\r\n[2022-11-23 09:34:43,312] [    INFO] - Using paddle.optimizer.AdamW.\r\n[2022-11-23 09:34:43,313] [    INFO] - Already cached /home/aistudio/.paddlenlp/models/ernie-3.0-base-zh/ernie_3.0_base_zh_vocab.txt\r\n[2022-11-23 09:34:43,335] [    INFO] - tokenizer config file saved in /home/aistudio/.paddlenlp/models/ernie-3.0-base-zh/tokenizer_config.json\r\n[2022-11-23 09:34:43,336] [    INFO] - Special tokens file saved in /home/aistudio/.paddlenlp/models/ernie-3.0-base-zh/special_tokens_map.json\r\nAdding 20902 ## chinese tokens to the vocabulary\r\n > building dataset index ...\r\n > finished creating indexed dataset in 0.232573 seconds\r\n > indexed dataset stats:\r\n    number of documents: 580385\r\n    number of sentences: 16685229\r\n > dataset split:\r\n    train:\r\n     document indices in [0, 550786) total of 550786 documents\r\n     sentence indices in [0, 15848844) total of 15848844 sentences\r\n    validation:\r\n     document indices in [550786, 579805) total of 29019 documents\r\n     sentence indices in [15848844, 16666472) total of 817628 sentences\r\n    test:\r\n     document indices in [579805, 580385) total of 580 documents\r\n     sentence indices in [16666472, 16685229) total of 18757 sentences\r\n > loading indexed mapping from /home/aistudio/PaddleNLP/model_zoo/ernie-1.0/data/wudao_200g_sample_ernie-3.0-base-zh_train_indexmap_128000000mns_509msl_0.10ssp_1234s.npy\r\n    loaded indexed file in 0.000 seconds\r\n    total number of samples: 129390979\r\n > loading indexed mapping from /home/aistudio/PaddleNLP/model_zoo/ernie-1.0/data/wudao_200g_sample_ernie-3.0-base-zh_valid_indexmap_1280320mns_509msl_0.10ssp_1234s.npy\r\n    loaded indexed file in 0.000 seconds\r\n    total number of samples: 1318095\r\n > loading indexed mapping from /home/aistudio/PaddleNLP/model_zoo/ernie-1.0/data/wudao_200g_sample_ernie-3.0-base-zh_test_indexmap_3200mns_509msl_0.10ssp_1234s.npy\r\n    loaded indexed file in 0.000 seconds\r\n    total number of samples: 3204\r\n[2022-11-23 09:34:47,117] [    INFO] - Sample data for train mode\r\n[2022-11-23 09:34:47,120] [    INFO] - [CLS] \u738b \u6709 \u6770 : \u539f \u6cb3 \u5357 \u7701 \u4eba \u5927 \u526f \u4e3b \u4efb, 2007 [MASK] 1 \u6708 19 \u65e5 \u4ee5 [MASK] [MASK] \u3001 \u5de8 \u989d \u8d22 \u4ea7 \u6765 \u6e90 \u4e0d \u660e \u88ab \u5224 \u5904 \u6b7b \u5211, \u7f13 \u671f \u4e8c \u5e74 \u6267 \u884c, \u88ab \u5173 \u62bc \u4e8e [MASK] [MASK] [MASK] [MASK] \u67ea [MASK] \u6362 \u62bc \u6e56 \u5317 \u6c99 \u6d0b \u53bf \u5e7f \u534e \u76d1 \u72f1 \u3002 \u5218 \u7ef4 \u660e : [MASK] [MASK] [MASK] [MASK] \u8337 [MASK] [MASK] \u3001 \u7701 \u653f \u534f \u5e38 \u52a1 \u526f \u4e3b \u5e2d, 2007 \u5e74 1 \u6708 22 \u65e5, \u56e0 \u4e25 \u91cd \u8fdd \u7eaa, \u5bfc \u81f4 [MASK] 1 [MASK] \u5b31otte \u5143 \u56fd \u6709 \u8d44 \u4ea7 [MASK] [MASK] [MASK] \u88ab \u7f62 \u514d \u7b2c \u5341 \u5c4a \u5168 \u56fd \u4eba \u5927 \u4ee3 \u8868 \u8d44 \u683c, \u6b64 \u524d \u5df2 \u88ab \" \u53cc \u5f00 \" \u3002 \u6731 \u4f5c \u52c7 : \u539f \u7518 \u8083 \u7701 \u653f \u534f \u526f \u4e3b \u5e2d [MASK] \u5170 \u5dde \u5e02 \u59d4 \u526f \u4e66 \u8bb0 \u3001 \u5e02 \u957f [MASK] 2007 [MASK] [MASK] \u6708, \u4ee5 \u53d7 \u8d3f \u7f6a \u88ab \u5224 \u5904 \u6709 \u671f \u5f92 \u5211 12 \u5e74 \u3002 \u6bb5 \u4e49 \u548c : \u539f \u6d4e \u5357 \u5e02 \u4eba \u5927 \u4e3b \u4efb [MASK] 2007 \u5e74 8 [MASK] \u8ca0 [MASK], \u56e0 \u6545 \u610f \u6740 \u4eba \u7f6a \u6e20 \u53d7 [MASK] [MASK] \u3001 \u5de8 \u989d \u8d22 \u4ea7 [MASK] [MASK] [MASK] [MASK] [MASK], \u7ec8 \u5ba1 \u88ab \u5224 \u5904 \u6b7b \u5211 \u3002 [SEP] \u5b88 \u6240 \u3002 \u5e9e \u5bb6 \u94b0 : \u539f [MASK] [MASK] [MASK] [MASK] [MASK] \u526f \u4e3b \u5e2d, [MASK] \u5e74 \u56e0 \u53d7 \u8d3f \u7f6a \u3001 \u73a9 \u5ffd \u804c \u5b88 \u7f6a \u88ab \u5224 \u5904 \u6709 \u671f \u5f92 \u5211 12 \u5e74 \u3002 \u88ab \u5173 \u62bc \u4e8e \u79e6 \u57ce \u76d1 \u72f1 \u3002 \u3042 \u745c : \u539f \u5e7f \u897f \u58ee \u65cf \u81ea \u6cbb \u533a \u653f \u5e9c \u526f \u4e3b \u5e2d, \u8d2a \u6c61 \u3001 \u6536 \u53d7 \u5de8 \u989d \u94b1 \u6b3e \u3001 \u751f \u6d3b \u8150 \u5316 \u3002 2007 \u5e74 11 \u6708, \u88ab \" \u53cc \u89c4 [MASK] \u3001 \u514d \u804c, 2008 \u5e74 10 \u6708, \u88ab \" \u53cc \u5f00 \" \u3002 \u674e \u5b9d \u91d1 : \u539f \u5929 \u6d25 \u5e02 \u68c0 \u5bdf \u9662 \u68c0 \u5bdf \u957f, 2007 \u5e74 12 \u6708 [MASK] [MASK] [MASK] \r\n[2022-11-23 09:34:47,122] [    INFO] - [CLS] \u738b \u6709 \u6770 : \u539f \u6cb3 \u5357 \u7701 \u4eba \u5927 \u526f \u4e3b \u4efb, 2007 \u5e74 1 \u6708 19 \u65e5 \u4ee5 \u53d7 \u8d3f \u3001 \u5de8 \u989d \u8d22 \u4ea7 \u6765 \u6e90 \u4e0d \u660e \u88ab \u5224 \u5904 \u6b7b \u5211, \u7f13 \u671f \u4e8c \u5e74 \u6267 \u884c, \u88ab \u5173 \u62bc \u4e8e \u79e6 \u57ce \u76d1 \u72f1, \u540e \u6362 \u62bc \u6e56 \u5317 \u6c99 \u6d0b \u53bf \u5e7f \u534e \u76d1 \u72f1 \u3002 \u5218 \u7ef4 \u660e : \u539f \u5e7f \u4e1c \u7701 \u526f \u7701 \u957f \u3001 \u7701 \u653f \u534f \u5e38 \u52a1 \u526f \u4e3b \u5e2d, 2007 \u5e74 1 \u6708 22 \u65e5, \u56e0 \u4e25 \u91cd \u8fdd \u7eaa, \u5bfc \u81f4 \u7ea6 1. 6 \u4ebf \u5143 \u56fd \u6709 \u8d44 \u4ea7 \u6d41 \u5931, \u88ab \u7f62 \u514d \u7b2c \u5341 \u5c4a \u5168 \u56fd \u4eba \u5927 \u4ee3 \u8868 \u8d44 \u683c, \u6b64 \u524d \u5df2 \u88ab \" \u53cc \u5f00 \" \u3002 \u6731 \u4f5c \u52c7 : \u539f \u7518 \u8083 \u7701 \u653f \u534f \u526f \u4e3b \u5e2d, \u5170 \u5dde \u5e02 \u59d4 \u526f \u4e66 \u8bb0 \u3001 \u5e02 \u957f, 2007 \u5e74 1 \u6708, \u4ee5 \u53d7 \u8d3f \u7f6a \u88ab \u5224 \u5904 \u6709 \u671f \u5f92 \u5211 12 \u5e74 \u3002 \u6bb5 \u4e49 \u548c : \u539f \u6d4e \u5357 \u5e02 \u4eba \u5927 \u4e3b \u4efb, 2007 \u5e74 8 \u6708 23 \u65e5, \u56e0 \u6545 \u610f \u6740 \u4eba \u7f6a \u3001 \u53d7 \u8d3f \u7f6a \u3001 \u5de8 \u989d \u8d22 \u4ea7 \u6765 \u6e90 \u4e0d \u660e \u7f6a, \u7ec8 \u5ba1 \u88ab \u5224 \u5904 \u6b7b \u5211 \u3002 [SEP] \u5b88 \u6240 \u3002 \u5e9e \u5bb6 \u94b0 : \u539f \u9655 \u897f \u7701 \u653f \u534f \u526f \u4e3b \u5e2d, 2007 \u5e74 \u56e0 \u53d7 \u8d3f \u7f6a \u3001 \u73a9 \u5ffd \u804c \u5b88 \u7f6a \u88ab \u5224 \u5904 \u6709 \u671f \u5f92 \u5211 12 \u5e74 \u3002 \u88ab \u5173 \u62bc \u4e8e \u79e6 \u57ce \u76d1 \u72f1 \u3002 \u5b59 \u745c : \u539f \u5e7f \u897f \u58ee \u65cf \u81ea \u6cbb \u533a \u653f \u5e9c \u526f \u4e3b \u5e2d, \u8d2a \u6c61 \u3001 \u6536 \u53d7 \u5de8 \u989d \u94b1 \u6b3e \u3001 \u751f \u6d3b \u8150 \u5316 \u3002 2007 \u5e74 11 \u6708, \u88ab \" \u53cc \u89c4 \" \u3001 \u514d \u804c, 2008 \u5e74 10 \u6708, \u88ab \" \u53cc \u5f00 \" \u3002 \u674e \u5b9d \u91d1 : \u539f \u5929 \u6d25 \u5e02 \u68c0 \u5bdf \u9662 \u68c0 \u5bdf \u957f, 2007 \u5e74 12 \u6708 \u4ee5 \u53d7 \u8d3f \u7f6a \u548c \u632a \u7528 \u516c \u6b3e \u7f6a \u88ab \u5224 \u5904 \u6b7b \u5211, \u7f13 \u671f \u4e8c \u5e74 \u6267 \u884c \u3002 \u88ab \u5173 \u62bc \u4e8e \u79e6 \u57ce \u76d1 \u72f1 \u3002 2006 \u5e74 ( 10, 92 - 101 ) \u5389 \u5efa \u4e2d : \u4e2d \u56fd \u8fd0 \u8f7d \u706b \u7bad \u6280 \u672f \u7814 \u7a76 \u9662 ( \u822a \u5929 \u4e00 \u9662 ) \u7b2c \u516b \u4efb \u9662 \u957f \u3001 \u822a \u5929 \u529f \u81e3, 2004 \u5e74 3 \u6708 \u88ab \" \u53cc \u89c4 \", 2006 \u5e74 3 \u6708 7 \u65e5 \u56e0 \u72af \u8d2a \u6c61 \u3001 \u53d7 \u8d3f \u3001 \u632a \u7528 \u516c \u6b3e \u7f6a \u4e00 \u5ba1 \u88ab \u5224 \u5904 \u65e0 \r\n[2022-11-23 09:34:47,122] [    INFO] - ['\u5e74', '\u53d7', '\u8d3f', '\u79e6', '\u57ce', '\u76d1', '\u72f1', ',', '\u540e', '\u539f', '\u5e7f', '\u4e1c', '\u7701', '\u526f', '\u7701', '\u957f', '\u7ea6', '.', '6', '\u4ebf', '\u6d41', '\u5931', ',', ',', ',', '\u5e74', '1', ',', '\u6708', '23', '\u65e5', '\u3001', '\u53d7', '\u8d3f', '\u7f6a', '\u6765', '\u6e90', '\u4e0d', '\u660e', '\u7f6a', '\u9655', '\u897f', '\u7701', '\u653f', '\u534f', '2007', '\u5b59', '\"', '\u4ee5', '\u53d7', '\u8d3f', '\u7f6a', '\u88ab', '\u5173', '\u62bc', '\u9662', '(', '\u822a', '\u5929', '\u4e00', '\u9662', '\u72af', '\u632a', '\u7528', '\u516c', '\u6b3e', '\u7f6a', '\u4e00', '\u5ba1', '\u88ab', '\u5f20', '\u6069', '\u7167', '\u4e2d', '\u7eaa', '\u59d4']\r\n[2022-11-23 09:34:47,129] [    INFO] - Sample data for valid mode\r\n[2022-11-23 09:34:47,131] [    INFO] - [CLS] \u6bcf \u6b21 \u770b \u7f51 \u53cb \u56de \u590d, \u5c0f \u7f16 \u90fd [MASK] [MASK] [MASK] \u6298 \u670d \uff01 @ \u4f60 [MASK] \u60f3 \u8bf4 \u70b9 \u4ec0 \u4e48 \u5462 \uff1f \u8bf4 \u8bf4 \u5427 \uff01 [SEP] [MASK] [MASK] [MASK] \u5927 \u5bb6 \u7cbe \u5fc3 \u6574 \u7406 \u4e86 \u4e00 \u4e9b \u7f51 \u53cb \u7684 \u7cbe \u5f69 \u8bc4 \u8bba, \u5feb \u6765 \u770b \u4e00 \u770b ~ \u90e8 \u5206 \u7f51 \u53cb \u4eec \u7eb7 \u7eb7 \u5927 \u547c \" \u652f \u6301 \u67ea [MASK] @ \u8352 \u91ce \u66f0 \u8fbd \u6742 : \u522b \u5728 \u63ba \u548c \u4e86 \u3002 \u5e94 \u652f \u6301 \u5409 \u5229 \u6210 \u4e3a \u5954 \u9a70 \u7684 \u63a7 \u80a1 \u5927 \u80a1 \u4e1c, [MASK] [MASK] [MASK] \u6301 \u80a1 40 % \u4ee5 \u4e0a @ \u857e \u52a8 \u98ce \u8f7b : \u652f \u6301 \u5954 \u9a70 [MASK] [MASK] [MASK] \u72ec \u8d44 \u5efa \u5382 \uff01 \u70b9 \u8bc4 \" \u5317 \u6c7d \" \u7684 : @ \u68a7 \u4f5f [MASK] [MASK] [MASK] \u9020 \u8f66, \u5317 \u6c7d [MASK] master @ \u8fd9 \u5e74 \u5934 [MASK] [MASK] [MASK] : \u5317 \u6c7d \u662f \u81ea \u4e3b \u4f01 \u4e1a \uff1f \u4e0d \u53ea \u8fd9 \u4e9b, \u8be5 \u8bdd \u9898 \u8fd8 \u5438 \u5f15 \u4e86 \u66f4 \u591a \u5927 \u795e, \u4e0b \u9762 \u5927 \u5bb6 \u611f \u53d7 \u4e0b [MASK] [MASK] [MASK] \u6c1b \u56f4 \uff01 \u7b2c \u4e00 \u56de \u5408 : @ \u5317 \u4eac \u4e00 \u5bb6 \u4eb2 : \u8fd9 \u4e48 \u8bf4 \u8d77 \u6765, \u6709 \u94b1 \u5165 \u80a1 \u5409 \u5229 [MASK] [MASK] [MASK] 682, \u770b \u770b [MASK] rj45 [MASK] [MASK] \u8d5a \u4e86 \u591a \u5c11 \u94b1, \u4e70 \u8fd9 \u4e2a \u4e70 [MASK] [MASK] [MASK] \u3002 @ \u7ea2 \u65d7 \u98d8 \u98d8 : \u6240 \u6709 \u5408 \u8d44 \u751f \u4ea7 \u6c7d \u8f66 \u7684 \u56fd \u4f01 \u5c31 \u6ca1 \u6323 [MASK] \u4ec0 \u4e48 \u94b1 \u3002 \u94b1 \u5168 \u8ba9 [MASK] [MASK] [MASK] [MASK] [MASK] \u4e86 \u3002 \u4e22 \u4e86 \u81ea \u5df1 \u7684 \u54c1 \u724c \u53bb \u5408 \u8d44 [MASK] [MASK] [MASK] [MASK] \u8337 \u597d \u3002 [MASK] [MASK] [MASK] [MASK] \u4e00 \u661f \u80fd \u751f \u4ea7, \u751f \u4ea7 \u4e0d \u4e86 \u7834 \u6c7d \u8f66 \uff1f \u603b \u662f \u5916 \u56fd \u7684 \u6708 \u4eae \u6bd4 \u4e2d \u56fd \u5706, \u5c31 \u8fd9 \u601d \u60f3, \u5c31 \u5df1 \u7ecf \u5931 [MASK] [MASK] [MASK] \u3002 \u6211 \u4eec \u7684 \u7ea2 \u65d7, [MASK] breake\r\n[2022-11-23 09:34:47,133] [    INFO] - [CLS] \u6bcf \u6b21 \u770b \u7f51 \u53cb \u56de \u590d, \u5c0f \u7f16 \u90fd \u6df1 \u6df1 \u7684 \u6298 \u670d \uff01 @ \u4f60, \u60f3 \u8bf4 \u70b9 \u4ec0 \u4e48 \u5462 \uff1f \u8bf4 \u8bf4 \u5427 \uff01 [SEP] \u5c0f \u7f16 \u4e3a \u5927 \u5bb6 \u7cbe \u5fc3 \u6574 \u7406 \u4e86 \u4e00 \u4e9b \u7f51 \u53cb \u7684 \u7cbe \u5f69 \u8bc4 \u8bba, \u5feb \u6765 \u770b \u4e00 \u770b ~ \u90e8 \u5206 \u7f51 \u53cb \u4eec \u7eb7 \u7eb7 \u5927 \u547c \" \u652f \u6301 \" : @ \u8352 \u91ce \u66f0 \u8fbd \u6742 : \u522b \u5728 \u63ba \u548c \u4e86 \u3002 \u5e94 \u652f \u6301 \u5409 \u5229 \u6210 \u4e3a \u5954 \u9a70 \u7684 \u63a7 \u80a1 \u5927 \u80a1 \u4e1c, \u6700 \u597d \u80fd \u6301 \u80a1 40 % \u4ee5 \u4e0a @ \u857e \u52a8 \u98ce \u8f7b : \u652f \u6301 \u5954 \u9a70 \u5728 \u5317 \u4eac \u72ec \u8d44 \u5efa \u5382 \uff01 \u70b9 \u8bc4 \" \u5317 \u6c7d \" \u7684 : @ \u68a7 \u4f5f : \u5954 \u9a70 \u9020 \u8f66, \u5317 \u6c7d \u9020 \u52bf @ \u8fd9 \u5e74 \u5934 \u5c11 \u8bf4 \u8bdd : \u5317 \u6c7d \u662f \u81ea \u4e3b \u4f01 \u4e1a \uff1f \u4e0d \u53ea \u8fd9 \u4e9b, \u8be5 \u8bdd \u9898 \u8fd8 \u5438 \u5f15 \u4e86 \u66f4 \u591a \u5927 \u795e, \u4e0b \u9762 \u5927 \u5bb6 \u611f \u53d7 \u4e0b \u70ed \u70c8 \u7684 \u6c1b \u56f4 \uff01 \u7b2c \u4e00 \u56de \u5408 : @ \u5317 \u4eac \u4e00 \u5bb6 \u4eb2 : \u8fd9 \u4e48 \u8bf4 \u8d77 \u6765, \u6709 \u94b1 \u5165 \u80a1 \u5409 \u5229 \u624d \u662f \u771f \u7684, \u770b \u770b \u8fd9 \u4e48 \u4e9b \u5e74 \u8d5a \u4e86 \u591a \u5c11 \u94b1, \u4e70 \u8fd9 \u4e2a \u4e70 \u90a3 \u4e2a \u7684 \u3002 @ \u7ea2 \u65d7 \u98d8 \u98d8 : \u6240 \u6709 \u5408 \u8d44 \u751f \u4ea7 \u6c7d \u8f66 \u7684 \u56fd \u4f01 \u5c31 \u6ca1 \u6323 \u5230 \u4ec0 \u4e48 \u94b1 \u3002 \u94b1 \u5168 \u8ba9 \u5916 \u56fd \u4eba \u62ff \u8d70 \u4e86 \u3002 \u4e22 \u4e86 \u81ea \u5df1 \u7684 \u54c1 \u724c \u53bb \u5408 \u8d44, \u4e0b \u573a \u4e0d \u4f1a \u597d \u3002 \u6211 \u4eec \u4e24 \u5f39 \u4e00 \u661f \u80fd \u751f \u4ea7, \u751f \u4ea7 \u4e0d \u4e86 \u7834 \u6c7d \u8f66 \uff1f \u603b \u662f \u5916 \u56fd \u7684 \u6708 \u4eae \u6bd4 \u4e2d \u56fd \u5706, \u5c31 \u8fd9 \u601d \u60f3, \u5c31 \u5df1 \u7ecf \u5931 \u8d25 \u5b9a \u4e86 \u3002 \u6211 \u4eec \u7684 \u7ea2 \u65d7, \u5317 \u4eac \u548c \u4e0a \u6d77 \u724c \u6c7d \u8f66 \u8fc7 \u53bb \u81ea \u5df1 \u597d \u597d \u751f \u4ea7, \u4e00 \u5b9a \u4f1a \u6bd4 \u5916 \u56fd \u4eba \u9020 \u7684 \u597d \uff01 \u6536 \u8d2d \u5954 \u9a70 \uff1f \u4eba \u5bb6 \u50bb \u5b50 \u5440, \u4eba \u5bb6 \u662f \u8d44 \u672c \u5bb6 \u4e2a \u4eba, \u4f60 \u662f \u56fd \u4f01 \u3002 \u505a \u68a6 \u5427 \uff01 @ \u4f20 \u8bf4 \u4e2d \u7684 : \u82b1 \u94b1 \u662f \u4e00 \u6d41 \u7684, \u6323 \u94b1 \u662f \u672b \u6d41 \u7684 \u7b2c \u4e8c \u56de \u5408 : @ \u9177 \u70ab \u72c2 \u9738 \u62fd : \u5954 \u9a70 \u4e0d \u662f \u8981 \u642c \u8d70 \u4e86 \u4e48 \uff1f \u4e3a \u5565 \u8fd8 \u8ba9 \u5317 \u4eac \u51fa \u94b1 @ \u6d77 \u52d2 \u8bbe \u8ba1 : \u5954 \u9a70 \u72ec \u8d44 \u5efa \u5382 \u597d \u4e86, \u73b0 \u5728 \u5916 \u8d44 \u80fd \u72ec \u8d44 \u4e86 @ \u963f \u70b3 \u5927 \u7237 : \u53c8 \u5bfb \u5fc3 \u601d \u5708 \r\n[2022-11-23 09:34:47,134] [    INFO] - ['\u6df1', '\u6df1', '\u7684', ',', '\u5c0f', '\u7f16', '\u4e3a', '\"', ':', ',', '\u6700', '\u597d', '\u80fd', '\u5728', '\u5317', '\u4eac', ':', '\u5954', '\u9a70', '\u9020', '\u52bf', '\u5c11', '\u8bf4', '\u8bdd', '\u70ed', '\u70c8', '\u7684', '\u624d', '\u662f', '\u771f', '\u7684', '\u8fd9', '\u4e48', '\u4e9b', '\u5e74', '\u90a3', '\u4e2a', '\u7684', '\u5230', '\u5916', '\u56fd', '\u4eba', '\u62ff', '\u8d70', ',', '\u4e0b', '\u573a', '\u4e0d', '\u4f1a', '\u6211', '\u4eec', '\u4e24', '\u5f39', '\u5931', '\u8d25', '\u5b9a', '\u4e86', '\u5317', '\u4eac', '\u8fc7', '\u53bb', '\u4e00', '\u6d41', '\u7684', ',', '\u62fd', ':', '\u5954', '\u9a70', '\u72ec', '\u8d44', '\u4e86', '@']\r\n[2022-11-23 09:34:47,154] [    INFO] - Sample data for test mode\r\n[2022-11-23 09:34:47,156] [    INFO] - [CLS] \u4f60 \u89c9 \u5f97 \u4f60 \u997f \u4e86 \u5f88 \u4e45 \u53cd \u800c [MASK] [MASK] \u4e0b \u53bb, \u4e0d \u5229 \u4e8e \u957f \u671f \u4f5c \u6218 \u3002 3 \u8fd0 \u52a8 \u6211 \u81ea \u5df1 \u53d1 \u73b0 \u4e3a \u4ec0 \u4e48 \u51ac \u5929 \u5bb9 \u6613 [MASK] \u80d6 \u5c31 \u662f \u56e0 \u4e3a \u6d3b \u52a8 \u91cf \u5c0f, \u6211 \u4eec \u6d88 \u8017 \u7684 [MASK] \u800c \u6444 \u53d6 \u5f97 \u591a \u81ea \u7136 \u5c31 \u56e4 \u79ef \u4e86 \u4e0d \u5c11 incre \u91cf, \u7136 \u540e \u70ed \u91cf \u5f97 \u4e0d \u5230 \u53ca \u65f6 \u7684 \u6d88 \u8017, \u5c31 \u53d8 \u6210 \u8ba8 [MASK] \u7684 \u8102 \u80aa \u4e86, \u6240 \u4ee5 \u5c31 \u957f \u80d6 \u4e86 \u3002 \u6211 \u4e4b [MASK] \u51cf \u80a5 \u6bcf \u5929 \u628a [MASK] [MASK] [MASK] [MASK] \u7684 \u975e \u5e38 \u4f4e, \u521a \u5f00 \u59cb \u51cf \u80a5 \u901f \u5ea6 \u5f88 \u5feb, \u4e00 \u661f \u671f \u5c31 \u80fd \u51cf \u4e2a 5 \u65a4 \u591a, \u53ef \u540e \u6765 \u6162 \u6162 \u5c31 \u505c \u4e0b \u6765 \u7626 \u4e0d \u4e0b \u53bb \u4e86, rj45 [MASK] [MASK] \u7684 [MASK] [MASK] \u5df2 \u7ecf \u9002 \u5e94 \u4e86 [MASK] breaker \u7684 \u70ed \u91cf, \u4f60 \u7684 \u4ee3 \u8c22 \u7387 \u4e5f \u4f1a \u53d8 \u5f97 [MASK] [MASK] [MASK] [MASK] [MASK] \u7136 \u540e \u53ea \u8981 \u4f60 \u4e00 \u6062 \u590d \u996e \u98df \u6216 \u8005 \u591a [MASK] [MASK] [MASK] \u5c31 \u4f1a \u7acb \u9a6c \u957f \u80d6 \u56de \u53bb, [MASK] \u4ea7 \u82e6 \u607c \u3002 [SEP] \u6837, \u6240 \u4ee5 \u5c31 \u589e \u52a0 \u81ea \u5df1 \u7684 \u6d88 \u8017, \u63d0 \u9ad8 \u81ea \u5df1 \u7684 \u4ee3 \u8c22 \u7387 \u3002 \u56e0 \u4e3a [MASK] [MASK] [MASK], \u800c \u4e14 \u5728 \u5317 \u4eac, \u6bcf \u5929 \u98ce \u5f88 \u5927 [MASK] [MASK] [MASK] \u4e0d [MASK] \u9009 \u8af1 \u5ba4 \u5916 \u8fd0 \u52a8, \u957f \u8dd1 \u4e5f \u4e0d [MASK], \u89c9 \u5f97 \u4f1a \u628a \u8138 \u8138 \u5439 \u574f, [MASK] [MASK] \u4e86 \u76ae \u80a4 \u67ea [MASK] \u4e0d \u6765 \u554a \uff01 \u8df3 \u7ef3 \u4f1a \u628a \u5c0f \u817f t \u8df3 \u7c97 \u3002 \u6240 \u4ee5 \u6211 \u5c31 \u4e70 \u3042 \u4e2a \u547c \u5566 \u5708 \u3002 \u5728 \u5bdd \u5ba4 \u91cc \u6447 [MASK] \u6bcf \u5929 \u5927 \u6982 \u4f1a \u6447 \u4e24 \u6b21, \u4f46 \u662f \u6bcf \u6b21 \u4e00 \u5b9a [MASK] 30 \u5206 \u949f \u4ee5 \u4e0a, \u7136 \u540e \u4e3a \u4e86 \u907f \u514d \u65e0 \u804a, \u6211 \u4f1a \u4e00 \u8fb9 \u8ddf \u5b31otte [MASK] \u59d0 \u59b9 \u804a \u5929, \u6216 \u8005 \u6709 \u65f6 \u5019 \u4f1a \u62ff \u7740 \u5355 \u8bcd \u4e66 \u80cc, [MASK] [MASK] \r\n[2022-11-23 09:34:47,158] [    INFO] - [CLS] \u4f60 \u89c9 \u5f97 \u4f60 \u997f \u4e86 \u5f88 \u4e45 \u53cd \u800c \u7626 \u4e0d \u4e0b \u53bb, \u4e0d \u5229 \u4e8e \u957f \u671f \u4f5c \u6218 \u3002 3 \u8fd0 \u52a8 \u6211 \u81ea \u5df1 \u53d1 \u73b0 \u4e3a \u4ec0 \u4e48 \u51ac \u5929 \u5bb9 \u6613 \u957f \u80d6 \u5c31 \u662f \u56e0 \u4e3a \u6d3b \u52a8 \u91cf \u5c0f, \u6211 \u4eec \u6d88 \u8017 \u7684 \u5c11 \u800c \u6444 \u53d6 \u5f97 \u591a \u81ea \u7136 \u5c31 \u56e4 \u79ef \u4e86 \u4e0d \u5c11 \u70ed \u91cf, \u7136 \u540e \u70ed \u91cf \u5f97 \u4e0d \u5230 \u53ca \u65f6 \u7684 \u6d88 \u8017, \u5c31 \u53d8 \u6210 \u8ba8 \u538c \u7684 \u8102 \u80aa \u4e86, \u6240 \u4ee5 \u5c31 \u957f \u80d6 \u4e86 \u3002 \u6211 \u4e4b \u524d \u51cf \u80a5 \u6bcf \u5929 \u628a \u70ed \u91cf \u63a7 \u5236 \u7684 \u975e \u5e38 \u4f4e, \u521a \u5f00 \u59cb \u51cf \u80a5 \u901f \u5ea6 \u5f88 \u5feb, \u4e00 \u661f \u671f \u5c31 \u80fd \u51cf \u4e2a 5 \u65a4 \u591a, \u53ef \u540e \u6765 \u6162 \u6162 \u5c31 \u505c \u4e0b \u6765 \u7626 \u4e0d \u4e0b \u53bb \u4e86, \u56e0 \u4e3a \u4f60 \u7684 \u8eab \u4f53 \u5df2 \u7ecf \u9002 \u5e94 \u4e86 \u8fd9 \u6837 \u7684 \u70ed \u91cf, \u4f60 \u7684 \u4ee3 \u8c22 \u7387 \u4e5f \u4f1a \u53d8 \u5f97 \u975e \u5e38 \u7684 \u6162 \u3002 \u7136 \u540e \u53ea \u8981 \u4f60 \u4e00 \u6062 \u590d \u996e \u98df \u6216 \u8005 \u591a \u5403 \u4e00 \u70b9 \u5c31 \u4f1a \u7acb \u9a6c \u957f \u80d6 \u56de \u53bb, \u975e \u4ea7 \u82e6 \u607c \u3002 [SEP] \u6837, \u6240 \u4ee5 \u5c31 \u589e \u52a0 \u81ea \u5df1 \u7684 \u6d88 \u8017, \u63d0 \u9ad8 \u81ea \u5df1 \u7684 \u4ee3 \u8c22 \u7387 \u3002 \u56e0 \u4e3a \u662f \u51ac \u5929, \u800c \u4e14 \u5728 \u5317 \u4eac, \u6bcf \u5929 \u98ce \u5f88 \u5927 \u3002 \u6240 \u4ee5 \u4e0d \u60f3 \u9009 \u62e9 \u5ba4 \u5916 \u8fd0 \u52a8, \u957f \u8dd1 \u4e5f \u4e0d \u60f3, \u89c9 \u5f97 \u4f1a \u628a \u8138 \u8138 \u5439 \u574f, \u635f \u5931 \u4e86 \u76ae \u80a4 \u53ef \u5212 \u4e0d \u6765 \u554a \uff01 \u8df3 \u7ef3 \u4f1a \u628a \u5c0f \u817f t \u8df3 \u7c97 \u3002 \u6240 \u4ee5 \u6211 \u5c31 \u4e70 \u4e86 \u4e2a \u547c \u5566 \u5708 \u3002 \u5728 \u5bdd \u5ba4 \u91cc \u6447, \u6bcf \u5929 \u5927 \u6982 \u4f1a \u6447 \u4e24 \u6b21, \u4f46 \u662f \u6bcf \u6b21 \u4e00 \u5b9a \u662f 30 \u5206 \u949f \u4ee5 \u4e0a, \u7136 \u540e \u4e3a \u4e86 \u907f \u514d \u65e0 \u804a, \u6211 \u4f1a \u4e00 \u8fb9 \u8ddf \u5bdd \u5ba4 \u7684 \u59d0 \u59b9 \u804a \u5929, \u6216 \u8005 \u6709 \u65f6 \u5019 \u4f1a \u62ff \u7740 \u5355 \u8bcd \u4e66 \u80cc, \u8fd9 \u6837 \u5c31 \u4e00 \u4e3e \u4e24 \u5f97 \u3002 \u4e0d \u4f46 \u8282 \u7701 \u4e86 \u65f6 \u95f4 \u8fd8 \u5728 \u4e0d \u77e5 \u4e0d \u89c9 \u4e2d \u51cf \u53bb \u4e86 \u8089 \u8089 \u3002 \u6bcf \u6b21 \u6447 \u5b8c \u809a \u5b50 \u4e0a \u90fd \u4f1a \u7ea2 \u7ea2 \u7684, \u800c \u4e14 \u611f \u89c9 \u706b \u8fa3 \u8fa3 \u7684 \u4e00 \u7247, \u6211 \u77e5 \u9053 \u90a3 \u662f \u5728 \u71c3 \u70e7 \u8102 \u80aa \u554a \u54c8 \u54c8 \uff01 \u7136 \u540e \u6bcf \u5929 \u665a \u4e0a \u7761 \u89c9 \u524d \u6211 \u8fd8 \u4f1a \u505a 100 \u4e2a \u4ef0 \u5367 \u8d77 \u5750 \u3002 \u8fd9 \u4e2a \u5bf9 \u5176 \u4ed6 mm \u4e0d \u5f3a \u6c42, \u4f46 \u662f \u4ef0 \u5367 \u8d77 \u5750 \u771f \u7684 \u5bf9 \u8170 \u90e8 \u8179 \u90e8 \u7684 \r\n[2022-11-23 09:34:47,159] [    INFO] - ['\u7626', '\u4e0d', '\u957f', '\u5c11', '\u70ed', '\u91cf', '\u8ba8', '\u538c', '\u524d', '\u70ed', '\u91cf', '\u63a7', '\u5236', '\u4e86', '\u56e0', '\u4e3a', '\u4f60', '\u8eab', '\u4f53', '\u8fd9', '\u6837', '\u975e', '\u5e38', '\u7684', '\u6162', '\u3002', '\u591a', '\u5403', '\u4e00', '\u70b9', '\u975e', '\u662f', '\u51ac', '\u5929', '\u3002', '\u6240', '\u4ee5', '\u60f3', '\u9009', '\u62e9', '\u60f3', '\u635f', '\u5931', '\u53ef', '\u5212', '\u4e86', ',', '\u662f', '\u5bdd', '\u5ba4', '\u7684', '\u8fd9', '\u6837', '\u4e0d', '\u77e5', '\u4e0d', '\u89c9', '\u4e2d', '\u7684', ',', '\u6211', '\u77e5', '\u9053', '\u71c3', '\u70e7', '\u8102', '\u80aa', '\u554a', '\u524d', '\u6211', '\u8fd8', '\u4f1a', '\u5176', '\u4ed6', 'mm', ',']\r\n[2022-11-23 09:40:39,893] [    INFO] - global step 1000, loss: 10.237608, lm_loss: 9.541624, sop_loss: 0.695980, speed: 2.84 steps/s, ips: 90.72 seqs/s, learning rate: 2.50000e-06, loss_scaling: 65536.00, incr_count: 0.00, decr_count: 0.00\r\n[2022-11-23 09:40:41,715] [    INFO] - valid step 1000, batch: 10, loss: 9.042688, lm_loss: 8.348528, sop_loss: 0.694160, ips: 176 seqs/s\r\n[2022-11-23 09:46:28,799] [    INFO] - global step 2000, loss: 8.075826, lm_loss: 7.379850, sop_loss: 0.695985, speed: 2.88 steps/s, ips: 92.20 seqs/s, learning rate: 5.00000e-06, loss_scaling: 131072.00, incr_count: 0.00, decr_count: 0.00\r\n[2022-11-23 09:46:31,176] [    INFO] - valid step 2000, batch: 10, loss: 7.448310, lm_loss: 6.745527, sop_loss: 0.702782, ips: 135 seqs/s\r\n[2022-11-23 09:52:19,596] [    INFO] - global step 3000, loss: 7.211366, lm_loss: 6.515039, sop_loss: 0.696318, speed: 2.87 steps/s, ips: 91.84 seqs/s, learning rate: 7.50000e-06, loss_scaling: 262144.00, incr_count: 0.00, decr_count: 0.00\r\n[2022-11-23 09:52:21,581] [    INFO] - valid step 3000, batch: 10, loss: 7.004147, lm_loss: 6.310410, sop_loss: 0.693736, ips: 161 seqs/s\r\n[2022-11-23 09:58:07,013] [    INFO] - global step 4000, loss: 6.933494, lm_loss: 6.236543, sop_loss: 0.696950, speed: 2.89 steps/s, ips: 92.64 seqs/s, learning rate: 1.00000e-05, loss_scaling: 262144.00, incr_count: 70.00, decr_count: 0.00\r\n[2022-11-23 09:58:08,881] [    INFO] - valid step 4000, batch: 10, loss: 6.875438, lm_loss: 6.182033, sop_loss: 0.693405, ips: 171 seqs/s\r\n[2022-11-23 10:03:57,122] [    INFO] - global step 5000, loss: 6.785443, lm_loss: 6.089367, sop_loss: 0.696073, speed: 2.87 steps/s, ips: 91.89 seqs/s, learning rate: 1.25000e-05, loss_scaling: 262144.00, incr_count: 218.00, decr_count: 0.00\r\n[2022-11-23 10:03:58,781] [    INFO] - valid step 5000, batch: 10, loss: 6.750724, lm_loss: 6.044644, sop_loss: 0.706081, ips: 193 seqs/s\r\n[2022-11-23 10:03:58,783] [   DEBUG] - saving models to /home/aistudio/PaddleNLP/model_zoo/ernie-1.0/output/v1/model_last\r\n[2022-11-23 10:03:58,783] [    INFO] - tokenizer config file saved in /home/aistudio/PaddleNLP/model_zoo/ernie-1.0/output/v1/model_last/tokenizer_config.json\r\n[2022-11-23 10:03:58,784] [    INFO] - Special tokens file saved in /home/aistudio/PaddleNLP/model_zoo/ernie-1.0/output/v1/model_last/special_tokens_map.json\r\n[2022-11-23 10:03:58,796] [    INFO] - added tokens file saved in /home/aistudio/PaddleNLP/model_zoo/ernie-1.0/output/v1/model_last/added_tokens.json\r\n[2022-11-23 10:09:47,322] [    INFO] - global step 6000, loss: 6.691045, lm_loss: 5.994508, sop_loss: 0.696538, speed: 2.87 steps/s, ips: 91.81 seqs/s, learning rate: 1.50000e-05, loss_scaling: 262144.00, incr_count: 106.00, decr_count: 0.00\r\n[2022-11-23 10:09:49,080] [    INFO] - valid step 6000, batch: 10, loss: 6.728981, lm_loss: 6.030967, sop_loss: 0.698014, ips: 182 seqs/s\r\n[2022-11-23 10:15:36,481] [    INFO] - global step 7000, loss: 6.614108, lm_loss: 5.917492, sop_loss: 0.696612, speed: 2.88 steps/s, ips: 92.11 seqs/s, learning rate: 1.75000e-05, loss_scaling: 262144.00, incr_count: 216.00, decr_count: 0.00\r\n[2022-11-23 10:15:38,181] [    INFO] - valid step 7000, batch: 10, loss: 6.611036, lm_loss: 5.910600, sop_loss: 0.700437, ips: 188 seqs/s\r\n[2022-11-23 10:21:24,163] [    INFO] - global step 8000, loss: 6.546292, lm_loss: 5.850548, sop_loss: 0.695744, speed: 2.89 steps/s, ips: 92.49 seqs/s, learning rate: 2.00000e-05, loss_scaling: 262144.00, incr_count: 762.00, decr_count: 0.00\r\n[2022-11-23 10:21:25,998] [    INFO] - valid step 8000, batch: 10, loss: 6.572305, lm_loss: 5.866651, sop_loss: 0.705653, ips: 175 seqs/s\r\n[2022-11-23 10:27:13,283] [    INFO] - global step 9000, loss: 6.495670, lm_loss: 5.799578, sop_loss: 0.696096, speed: 2.88 steps/s, ips: 92.14 seqs/s, learning rate: 2.25000e-05, loss_scaling: 262144.00, incr_count: 34.00, decr_count: 0.00\r\n[2022-11-23 10:27:14,981] [    INFO] - valid step 9000, batch: 10, loss: 6.507533, lm_loss: 5.812423, sop_loss: 0.695109, ips: 189 seqs/s\r\n[2022-11-23 10:33:02,787] [    INFO] - global step 10000, loss: 6.456399, lm_loss: 5.760599, sop_loss: 0.695800, speed: 2.88 steps/s, ips: 92.01 seqs/s, learning rate: 2.50000e-05, loss_scaling: 262144.00, incr_count: 280.00, decr_count: 0.00\r\n[2022-11-23 10:33:04,681] [    INFO] - valid step 10000, batch: 10, loss: 6.472654, lm_loss: 5.778451, sop_loss: 0.694203, ips: 169 seqs/s\r\n[2022-11-23 10:33:04,683] [   DEBUG] - saving models to /home/aistudio/PaddleNLP/model_zoo/ernie-1.0/output/v1/model_last\r\n[2022-11-23 10:33:04,684] [    INFO] - tokenizer config file saved in /home/aistudio/PaddleNLP/model_zoo/ernie-1.0/output/v1/model_last/tokenizer_config.json\r\n[2022-11-23 10:33:04,684] [    INFO] - Special tokens file saved in /home/aistudio/PaddleNLP/model_zoo/ernie-1.0/output/v1/model_last/special_tokens_map.json\r\n[2022-11-23 10:33:04,697] [    INFO] - added tokens file saved in /home/aistudio/PaddleNLP/model_zoo/ernie-1.0/output/v1/model_last/added_tokens.json\r\n[2022-11-23 10:39:00,615] [    INFO] - global step 11000, loss: 6.426615, lm_loss: 5.730542, sop_loss: 0.696069, speed: 2.81 steps/s, ips: 89.90 seqs/s, learning rate: 2.75000e-05, loss_scaling: 262144.00, incr_count: 16.00, decr_count: 0.00\r\n[2022-11-23 10:39:02,380] [    INFO] - valid step 11000, batch: 10, loss: 6.386240, lm_loss: 5.694253, sop_loss: 0.691987, ips: 181 seqs/s\r\nFound inf or nan, current scale is: 262144.0, decrease to: 262144.0*0.5\r\n[2022-11-23 10:44:52,801] [    INFO] - global step 12000, loss: 6.397447, lm_loss: 5.702149, sop_loss: 0.695303, speed: 2.85 steps/s, ips: 91.32 seqs/s, learning rate: 3.00000e-05, loss_scaling: 131072.00, incr_count: 61.00, decr_count: 0.00\r\n[2022-11-23 10:44:54,481] [    INFO] - valid step 12000, batch: 10, loss: 6.422120, lm_loss: 5.730480, sop_loss: 0.691639, ips: 191 seqs/s\r\nTraceback (most recent call last):\r\n  File \"run_pretrain.py\", line 778, in <module>\r\n    do_train(config)\r\n  File \"run_pretrain.py\", line 606, in do_train\r\n    scaler.scale(tr_loss_step).backward()\r\n  File \"<decorator-gen-155>\", line 2, in backward\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/wrapped_decorator.py\", line 26, in __impl__\r\n    return wrapped_func(*args, **kwargs)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/framework.py\", line 509, in __impl__\r\n    return func(*args, **kwargs)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/dygraph/varbase_patch_methods.py\", line 297, in backward\r\n    core.eager.run_backward([self], grad_tensor, retain_graph)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/multiprocess_utils.py\", line 135, in __handler__\r\n    core._throw_error_if_process_failed()\r\nSystemError: (Fatal) DataLoader process (pid 2730) exited is killed by signal: Killed. (at /paddle/paddle/fluid/imperative/data_loader.cc:188)\r\n\r\nLAUNCH INFO 2022-11-23 10:46:25,700 Pod failed\r\nLAUNCH ERROR 2022-11-23 10:46:25,700 Container failed !!!\r\nContainer rank 0 status failed cmd ['/opt/conda/envs/python35-paddle120-env/bin/python', '-u', 'run_pretrain.py', '--model_type', 'ernie', '--model_name_or_path', 'ernie-3.0-base-zh', '--tokenizer_name_or_path', 'ernie-3.0-base-zh', '--input_dir', '/home/aistudio/PaddleNLP/model_zoo/ernie-1.0/data', '--output_dir', '/home/aistudio/PaddleNLP/model_zoo/ernie-1.0/output/v1', '--split', '949,50,1', '--max_seq_len', '512', '--binary_head', 'true', '--micro_batch_size', '32', '--use_amp', 'true', '--fp16_opt_level', 'O1', '--use_recompute', 'false', '--max_lr', '0.0001', '--min_lr', '0.00001', '--max_steps', '4000000', '--save_steps', '100000', '--checkpoint_steps', '5000', '--decay_steps', '3900000', '--weight_decay', '0.01', '--warmup_rate', '0.01', '--grad_clip', '1.0', '--logging_freq', '1000', '--num_workers', '3', '--eval_freq', '1000', '--device', 'gpu', '--share_folder', 'true', '--hidden_dropout_prob', '0.1', '--attention_probs_dropout_prob', '0.1', '--seed', '1234'] code 1 log /hom\r\nenv {'JUPYTER_2895570_4884644_PORT_8888_TCP': 'tcp://10.33.211.116:8888', 'JUPYTER_2893660_4930340_SERVICE_PORT': '8888', 'JUPYTER_76563_4991259_PORT_8888_TCP_PORT': '8888', 'JUPYTER_1867272_3341443_PORT_8888_TCP_PROTO': 'tcp', 'JUPYTER_7900_5067443_PORT_8888_TCP_PROTO': 'tcp', 'JUPYTER_2529422_4439795_PORT_8888_TCP_PROTO': 'tcp', 'JUPYTER_2316893_4985567_PORT_8888_TCP_ADDR': '10.33.142.157', 'JUPYTER_3024457_5092836_SERVICE_HOST': '10.33.4.90', 'JUPYTER_2737046_4985373_SERVICE_PORT': '8888', 'JUPYTER_2833784_5103969_PORT': 'tcp://10.33.60.185:8888', 'JUPYTER_3024457_5092836_PORT_8888_TCP_PROTO': 'tcp', 'JUPYTER_394579_5004928_SERVICE_PORT_JUPYTER_394579_5004928': '8888', 'CUDNN_VERSION': '7.3.1.20', 'JUPYTER_2644767_5074168_PORT_8888_TCP_PORT': '8888', 'JUPYTER_751783_2551170_SERVICE_PORT_JUPYTER_751783_2551170': '8888', 'STUDIO_STATIC_URL': 'https://ai-studio-static-online.cdn.bcebos.com/studio-notebook/dist/webide', 'JUPYTER_2648914_5103954_SERVICE_PORT': '8888', 'JUPYTER_1064305_47\r\nLAUNCH INFO 2022-11-23 10:46:25,703 ------------------------- ERROR LOG DETAIL -------------------------\r\np 9000, batch: 10, loss: 6.507533, lm_loss: 5.812423, sop_loss: 0.695109, ips: 189 seqs/s\r\n[2022-11-23 10:33:02,787] [    INFO] - global step 10000, loss: 6.456399, lm_loss: 5.760599, sop_loss: 0.695800, speed: 2.88 steps/s, ips: 92.01 seqs/s, learning rate: 2.50000e-05, loss_scaling: 262144.00, incr_count: 280.00, decr_count: 0.00\r\n[2022-11-23 10:33:04,681] [    INFO] - valid step 10000, batch: 10, loss: 6.472654, lm_loss: 5.778451, sop_loss: 0.694203, ips: 169 seqs/s\r\n[2022-11-23 10:33:04,683] [   DEBUG] - saving models to /home/aistudio/PaddleNLP/model_zoo/ernie-1.0/output/v1/model_last\r\n[2022-11-23 10:33:04,684] [    INFO] - tokenizer config file saved in /home/aistudio/PaddleNLP/model_zoo/ernie-1.0/output/v1/model_last/tokenizer_config.json\r\n[2022-11-23 10:33:04,684] [    INFO] - Special tokens file saved in /home/aistudio/PaddleNLP/model_zoo/ernie-1.0/output/v1/model_last/special_tokens_map.json\r\n[2022-11-23 10:33:04,697] [    INFO] - added tokens file saved in /home/aistudio/PaddleNLP/model_zoo/ernie-1.0/output/v1/model_last/added_tokens.json\r\n[2022-11-23 10:39:00,615] [    INFO] - global step 11000, loss: 6.426615, lm_loss: 5.730542, sop_loss: 0.696069, speed: 2.81 steps/s, ips: 89.90 seqs/s, learning rate: 2.75000e-05, loss_scaling: 262144.00, incr_count: 16.00, decr_count: 0.00\r\n[2022-11-23 10:39:02,380] [    INFO] - valid step 11000, batch: 10, loss: 6.386240, lm_loss: 5.694253, sop_loss: 0.691987, ips: 181 seqs/s\r\nFound inf or nan, current scale is: 262144.0, decrease to: 262144.0*0.5\r\n[2022-11-23 10:44:52,801] [    INFO] - global step 12000, loss: 6.397447, lm_loss: 5.702149, sop_loss: 0.695303, speed: 2.85 steps/s, ips: 91.32 seqs/s, learning rate: 3.00000e-05, loss_scaling: 131072.00, incr_count: 61.00, decr_count: 0.00\r\n[2022-11-23 10:44:54,481] [    INFO] - valid step 12000, batch: 10, loss: 6.422120, lm_loss: 5.730480, sop_loss: 0.691639, ips: 191 seqs/s\r\nTraceback (most recent call last):\r\n  File \"run_pretrain.py\", line 778, in <module>\r\n    do_train(config)\r\n  File \"run_pretrain.py\", line 606, in do_train\r\n    scaler.scale(tr_loss_step).backward()\r\n  File \"<decorator-gen-155>\", line 2, in backward\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/wrapped_decorator.py\", line 26, in __impl__\r\n    return wrapped_func(*args, **kwargs)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/framework.py\", line 509, in __impl__\r\n    return func(*args, **kwargs)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/dygraph/varbase_patch_methods.py\", line 297, in backward\r\n    core.eager.run_backward([self], grad_tensor, retain_graph)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/multiprocess_utils.py\", line 135, in __handler__\r\n    core._throw_error_if_process_failed()\r\nSystemError: (Fatal) DataLoader process (pid 2730) exited is killed by signal: Killed. (at /paddle/paddle/fluid/imperative/data_loader.cc:188)\r\n\r\nLAUNCH INFO 2022-11-23 10:46:25,703 Exit code 1\r\n```\r\n\r\n\r\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\r\n\r\n\u73af\u5883\uff1aai_studio\r\n\r\n\u6b65\u9aa4\uff1a\r\n```bash\r\n# \u5347\u7ea7\u6700\u65b0\u6269\u5c55\r\n!pip install --upgrade paddlenlp tqdm numpy pybind11 tool_helpers lac zstandard\r\n\r\n# \u62c9\u53d6\u4ee3\u7801\r\n%cd /home/aistudio/\r\n!git clone https://github.com/PaddlePaddle/PaddleNLP.git\r\n\r\n# \u5efa\u76ee\u5f55\uff0c\u4e0b\u8f7d\u8bad\u7ec3\u6570\u636e\r\n!mkdir -p /home/aistudio/PaddleNLP/model_zoo/ernie-1.0/output/v1/logs\r\n!mkdir -p /home/aistudio/PaddleNLP/model_zoo/ernie-1.0/data\r\n%cd /home/aistudio/PaddleNLP/model_zoo/ernie-1.0/data\r\n!!wget https://bj.bcebos.com/paddlenlp/models/transformers/data_tools/wudao_200g_sample_ernie-3.0-base-zh_ids.npy\r\n!!wget https://bj.bcebos.com/paddlenlp/models/transformers/data_tools/wudao_200g_sample_ernie-3.0-base-zh_idx.npz\r\n\r\n# \u9884\u8bad\u7ec3\r\n%cd /home/aistudio/PaddleNLP/model_zoo/ernie-1.0\r\n!python -u  -m paddle.distributed.launch \\\r\n    --gpus \"0\" \\\r\n    --log_dir \"/home/aistudio/PaddleNLP/model_zoo/ernie-1.0/output/v1/logs\" \\\r\n    run_pretrain.py \\\r\n    --model_type \"ernie\" \\\r\n    --model_name_or_path \"ernie-3.0-base-zh\" \\\r\n    --tokenizer_name_or_path \"ernie-3.0-base-zh\" \\\r\n    --input_dir \"/home/aistudio/PaddleNLP/model_zoo/ernie-1.0/data\" \\\r\n    --output_dir \"/home/aistudio/PaddleNLP/model_zoo/ernie-1.0/output/v1\" \\\r\n    --split 949,50,1 \\\r\n    --max_seq_len 512 \\\r\n    --binary_head true \\\r\n    --micro_batch_size 32 \\\r\n    --use_amp true \\\r\n    --fp16_opt_level \"O1\" \\\r\n    --use_recompute false \\\r\n    --max_lr 0.0001 \\\r\n    --min_lr 0.00001 \\\r\n    --max_steps 4000000 \\\r\n    --save_steps 100000 \\\r\n    --checkpoint_steps 5000 \\\r\n    --decay_steps 3900000 \\\r\n    --weight_decay 0.01 \\\r\n    --warmup_rate 0.01 \\\r\n    --grad_clip 1.0 \\\r\n    --logging_freq 1000 \\\r\n    --num_workers 3 \\\r\n    --eval_freq 1000 \\\r\n    --device \"gpu\"\\\r\n    --share_folder true \\\r\n    --hidden_dropout_prob 0.1 \\\r\n    --attention_probs_dropout_prob 0.1 \\\r\n    --seed 1234 \\\r\n```\r\n\r\n\u4e0b\u56fe\u5206\u914d\u4e3a\uff1a\u6267\u884c0\u5206\u949f\uff0c30\u5206\u949f\uff0c60\u5206\u949f\u65f6\u5019\u7684\u5185\u5b58\u72b6\u6001\u3002\r\n\r\n![image](https://user-images.githubusercontent.com/3328490/203460115-1295c822-b29d-4309-87ff-baac83e5dd63.png)\r\n![image](https://user-images.githubusercontent.com/3328490/203460126-968c643e-6901-454d-9483-bd088d5a28e4.png)\r\n![image](https://user-images.githubusercontent.com/3328490/203460133-db90cff9-9271-4bb8-a190-927761f2a09a.png)\r\n", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3867/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3867/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3866", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3866/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3866/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3866/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/3866", "id": 1460175694, "node_id": "I_kwDOFAsknM5XCINO", "number": 3866, "title": "[Bug]: fast_tokenizer\u9047\u5230GLIBCXX_3.4.20 not found \u95ee\u9898", "user": {"login": "barrierye", "id": 28446721, "node_id": "MDQ6VXNlcjI4NDQ2NzIx", "avatar_url": "https://avatars.githubusercontent.com/u/28446721?v=4", "gravatar_id": "", "url": "https://api.github.com/users/barrierye", "html_url": "https://github.com/barrierye", "followers_url": "https://api.github.com/users/barrierye/followers", "following_url": "https://api.github.com/users/barrierye/following{/other_user}", "gists_url": "https://api.github.com/users/barrierye/gists{/gist_id}", "starred_url": "https://api.github.com/users/barrierye/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/barrierye/subscriptions", "organizations_url": "https://api.github.com/users/barrierye/orgs", "repos_url": "https://api.github.com/users/barrierye/repos", "events_url": "https://api.github.com/users/barrierye/events{/privacy}", "received_events_url": "https://api.github.com/users/barrierye/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4882422102, "node_id": "LA_kwDOFAsknM8AAAABIwPZVg", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/stale", "name": "stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "joey12300", "id": 10826371, "node_id": "MDQ6VXNlcjEwODI2Mzcx", "avatar_url": "https://avatars.githubusercontent.com/u/10826371?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joey12300", "html_url": "https://github.com/joey12300", "followers_url": "https://api.github.com/users/joey12300/followers", "following_url": "https://api.github.com/users/joey12300/following{/other_user}", "gists_url": "https://api.github.com/users/joey12300/gists{/gist_id}", "starred_url": "https://api.github.com/users/joey12300/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joey12300/subscriptions", "organizations_url": "https://api.github.com/users/joey12300/orgs", "repos_url": "https://api.github.com/users/joey12300/repos", "events_url": "https://api.github.com/users/joey12300/events{/privacy}", "received_events_url": "https://api.github.com/users/joey12300/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "joey12300", "id": 10826371, "node_id": "MDQ6VXNlcjEwODI2Mzcx", "avatar_url": "https://avatars.githubusercontent.com/u/10826371?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joey12300", "html_url": "https://github.com/joey12300", "followers_url": "https://api.github.com/users/joey12300/followers", "following_url": "https://api.github.com/users/joey12300/following{/other_user}", "gists_url": "https://api.github.com/users/joey12300/gists{/gist_id}", "starred_url": "https://api.github.com/users/joey12300/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joey12300/subscriptions", "organizations_url": "https://api.github.com/users/joey12300/orgs", "repos_url": "https://api.github.com/users/joey12300/repos", "events_url": "https://api.github.com/users/joey12300/events{/privacy}", "received_events_url": "https://api.github.com/users/joey12300/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 8, "created_at": "2022-11-22T16:21:34Z", "updated_at": "2023-02-06T00:16:53Z", "closed_at": "2023-02-06T00:16:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\n\n```Markdown\n\u4e0ePaddle\u73af\u5883\u65e0\u5173\uff0c\u4ec5\u4f7f\u7528fast_tokenizer\n```\n\n\n### \u91cd\u590d\u95ee\u9898\n\n- [X] I have searched the existing issues\n\n### \u9519\u8bef\u63cf\u8ff0\n\n```Markdown\n\u8dd1fast_tokenizer README\uff0c\u9047\u5230\u5982\u4e0b\u62a5\u9519\uff1a\r\n[root@bfd2b0147273 work]# python test.py\r\nTraceback (most recent call last):\r\n  File \"test.py\", line 1, in <module>\r\n    import fast_tokenizer\r\n  File \"/opt/rh/rh-python38/root/usr/local/lib64/python3.8/site-packages/fast_tokenizer/__init__.py\", line 21, in <module>\r\n    from . import core_tokenizers as C\r\nImportError: /lib64/libstdc++.so.6: version `GLIBCXX_3.4.20' not found (required by /opt/rh/rh-python38/root/usr/local/lib64/python3.8/site-packages/fast_tokenizer/core_tokenizers.so)\r\n\r\n\u672c\u5730gcc\u7248\u672c9.3.1\uff0c\u6ee1\u8db3\u7f16\u8bd1\u6587\u6863\u4e2dgcc\u7248\u672c\u8981\u6c42\u3002\r\n\u6c42\u95ee\u5982\u4f55\u5728\u4e0d\u52a8\u73af\u5883\u7684\u6761\u4ef6\u4e0b\u89e3\u51b3\uff1f\u5c1d\u8bd5\u57fa\u4e8erepo\u5b89\u88c5whl\u5305\uff1apip install git+https://github.com/PaddlePaddle/PaddleNLP.git@v2.4.3#subdirectory=fast_tokenizer \uff0c\u4f46\u8c8c\u4f3c\u53ea\u8dd1\u4e86setup.py\u6ca1\u6709\u8dd1C++\u7f16\u8bd1\u90e8\u5206\n```\n\n\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\n\npip install fast-tokenizer-python==1.0.0 -i https://pypi.tuna.tsinghua.edu.cn/simple\r\n\u6267\u884cREADME\u4e2d\u7684\u4ee3\u7801\r\n```\r\nimport fast_tokenizer\r\nfrom fast_tokenizer import ErnieFastTokenizer, models\r\n\r\n# 0.\uff08\u53ef\u9009\uff09\u8bbe\u7f6e\u7ebf\u7a0b\u6570\r\nfast_tokenizer.set_thread_num(1)\r\n# 1. \u52a0\u8f7d\u8bcd\u8868\r\nvocab = models.WordPiece.read_file(\"ernie_vocab.txt\")\r\n# 2. \u5b9e\u4f8b\u5316ErnieFastTokenizer\u5bf9\u8c61\r\nfast_tokenizer = ErnieFastTokenizer(vocab)\r\n# 3. \u5207\u8bcd\r\noutput = fast_tokenizer.encode(\"\u6211\u7231\u4e2d\u56fd\")\r\n# 4. \u8f93\u51fa\u7ed3\u679c\r\nprint(\"ids: \", output.ids)\r\nprint(\"type_ids: \", output.type_ids)\r\nprint(\"tokens: \", output.tokens)\r\nprint(\"offsets: \", output.offsets)\r\nprint(\"attention_mask: \", output.attention_mask)\r\n```", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3866/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3866/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3857", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3857/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3857/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3857/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/3857", "id": 1459132498, "node_id": "I_kwDOFAsknM5W-JhS", "number": 3857, "title": "[Bug] question_generation: error: unrecognized arguments: --ignore_pad_token_for_loss=True", "user": {"login": "Yam0214", "id": 40912707, "node_id": "MDQ6VXNlcjQwOTEyNzA3", "avatar_url": "https://avatars.githubusercontent.com/u/40912707?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Yam0214", "html_url": "https://github.com/Yam0214", "followers_url": "https://api.github.com/users/Yam0214/followers", "following_url": "https://api.github.com/users/Yam0214/following{/other_user}", "gists_url": "https://api.github.com/users/Yam0214/gists{/gist_id}", "starred_url": "https://api.github.com/users/Yam0214/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Yam0214/subscriptions", "organizations_url": "https://api.github.com/users/Yam0214/orgs", "repos_url": "https://api.github.com/users/Yam0214/repos", "events_url": "https://api.github.com/users/Yam0214/events{/privacy}", "received_events_url": "https://api.github.com/users/Yam0214/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "westfish", "id": 20476674, "node_id": "MDQ6VXNlcjIwNDc2Njc0", "avatar_url": "https://avatars.githubusercontent.com/u/20476674?v=4", "gravatar_id": "", "url": "https://api.github.com/users/westfish", "html_url": "https://github.com/westfish", "followers_url": "https://api.github.com/users/westfish/followers", "following_url": "https://api.github.com/users/westfish/following{/other_user}", "gists_url": "https://api.github.com/users/westfish/gists{/gist_id}", "starred_url": "https://api.github.com/users/westfish/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/westfish/subscriptions", "organizations_url": "https://api.github.com/users/westfish/orgs", "repos_url": "https://api.github.com/users/westfish/repos", "events_url": "https://api.github.com/users/westfish/events{/privacy}", "received_events_url": "https://api.github.com/users/westfish/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "westfish", "id": 20476674, "node_id": "MDQ6VXNlcjIwNDc2Njc0", "avatar_url": "https://avatars.githubusercontent.com/u/20476674?v=4", "gravatar_id": "", "url": "https://api.github.com/users/westfish", "html_url": "https://github.com/westfish", "followers_url": "https://api.github.com/users/westfish/followers", "following_url": "https://api.github.com/users/westfish/following{/other_user}", "gists_url": "https://api.github.com/users/westfish/gists{/gist_id}", "starred_url": "https://api.github.com/users/westfish/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/westfish/subscriptions", "organizations_url": "https://api.github.com/users/westfish/orgs", "repos_url": "https://api.github.com/users/westfish/repos", "events_url": "https://api.github.com/users/westfish/events{/privacy}", "received_events_url": "https://api.github.com/users/westfish/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2022-11-22T05:40:18Z", "updated_at": "2022-11-24T12:05:56Z", "closed_at": "2022-11-24T08:10:51Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\n\n```Markdown\n- paddlepaddle-gpu: 2.3.2\r\n- paddlenlp: 2.4.2\n```\n\n\n### \u91cd\u590d\u95ee\u9898\n\n- [X] I have searched the existing issues\n\n### \u9519\u8bef\u63cf\u8ff0\n\n```Markdown\nerror: unrecognized arguments: --ignore_pad_token_for_loss=True\n```\n\n\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\n\n`train.py`\u548c`predict.py`\u4e0d\u652f\u6301`--ignore_pad_token_for_loss=True`\uff0c\u4f46\u662f\u4ee3\u7801\u91cc\u7528\u5230\u4e86\u6539\u53c2\u6570\r\n\r\n```python\r\ntrans_func = partial(\r\n    convert_example,\r\n    tokenizer=tokenizer,\r\n    decoder_start_token_id=model.t5.bos_token_id,\r\n    max_source_length=args.max_source_length,\r\n    max_target_length=args.max_target_length,\r\n    ignore_pad_token_for_loss=args.ignore_pad_token_for_loss)\r\n```\r\n\r\n\u590d\u73b0\u5982\u4e0b\uff1a\r\n```zsh\r\ncd ./examples/question_generation/t5\r\nunset CUDA_VISIBLE_DEVICES   \r\npython -m paddle.distributed.launch --gpus 1,2 train.py \\\r\n    --model_name_or_path=t5-base \\\r\n    --dataset_name=squad \\\r\n    --output_dir=output \\\r\n    --max_source_length=1024 \\\r\n    --max_target_length=142 \\\r\n    --learning_rate=1e-4 \\\r\n    --num_train_epochs=2 \\\r\n    --logging_steps=100 \\\r\n    --save_steps=1000 \\\r\n    --seed=42 \\\r\n    --train_batch_size=2 \\\r\n    --eval_batch_size=8 \\\r\n    --warmup_proportion=0.1 \\\r\n    --ignore_pad_token_for_loss=True \\\r\n    --device=gpu\r\n```\r\n\u6216\u8005\r\n```zsh\r\ncd ./examples/question_generation/t5\r\nexport CUDA_VISIBLE_DEVICES=0\r\npython predict.py \\\r\n    --model_name_or_path=./checkpoints/model_xx/ \\\r\n    --dataset_name=squad \\\r\n    --output_path=generate.txt \\\r\n    --max_source_length=1024 \\\r\n    --max_target_length=142 \\\r\n    --decode_strategy=greedy_search \\\r\n    --top_k=2 \\\r\n    --top_p=1.0 \\\r\n    --num_beams=1 \\\r\n    --length_penalty=0.0 \\\r\n    --batch_size=64 \\\r\n    --seed=42 \\\r\n    --ignore_pad_token_for_loss=True \\\r\n    --logging_steps=100 \\\r\n    --device=gpu\r\n```", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3857/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3857/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3855", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3855/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3855/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3855/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/3855", "id": 1459005396, "node_id": "I_kwDOFAsknM5W9qfU", "number": 3855, "title": "[Bug]: \u9759\u6001\u56fe\u548c\u52a8\u6001\u56fe\u7684tokenizer\u5bf9\u7279\u6b8a\u5b57\u7b26\u7684tokenize\u7684\u7ed3\u679c\u4e0d\u4e00\u6837", "user": {"login": "w5688414", "id": 12107462, "node_id": "MDQ6VXNlcjEyMTA3NDYy", "avatar_url": "https://avatars.githubusercontent.com/u/12107462?v=4", "gravatar_id": "", "url": "https://api.github.com/users/w5688414", "html_url": "https://github.com/w5688414", "followers_url": "https://api.github.com/users/w5688414/followers", "following_url": "https://api.github.com/users/w5688414/following{/other_user}", "gists_url": "https://api.github.com/users/w5688414/gists{/gist_id}", "starred_url": "https://api.github.com/users/w5688414/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/w5688414/subscriptions", "organizations_url": "https://api.github.com/users/w5688414/orgs", "repos_url": "https://api.github.com/users/w5688414/repos", "events_url": "https://api.github.com/users/w5688414/events{/privacy}", "received_events_url": "https://api.github.com/users/w5688414/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4882422102, "node_id": "LA_kwDOFAsknM8AAAABIwPZVg", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/stale", "name": "stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "wj-Mcat", "id": 10242208, "node_id": "MDQ6VXNlcjEwMjQyMjA4", "avatar_url": "https://avatars.githubusercontent.com/u/10242208?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wj-Mcat", "html_url": "https://github.com/wj-Mcat", "followers_url": "https://api.github.com/users/wj-Mcat/followers", "following_url": "https://api.github.com/users/wj-Mcat/following{/other_user}", "gists_url": "https://api.github.com/users/wj-Mcat/gists{/gist_id}", "starred_url": "https://api.github.com/users/wj-Mcat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wj-Mcat/subscriptions", "organizations_url": "https://api.github.com/users/wj-Mcat/orgs", "repos_url": "https://api.github.com/users/wj-Mcat/repos", "events_url": "https://api.github.com/users/wj-Mcat/events{/privacy}", "received_events_url": "https://api.github.com/users/wj-Mcat/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "wj-Mcat", "id": 10242208, "node_id": "MDQ6VXNlcjEwMjQyMjA4", "avatar_url": "https://avatars.githubusercontent.com/u/10242208?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wj-Mcat", "html_url": "https://github.com/wj-Mcat", "followers_url": "https://api.github.com/users/wj-Mcat/followers", "following_url": "https://api.github.com/users/wj-Mcat/following{/other_user}", "gists_url": "https://api.github.com/users/wj-Mcat/gists{/gist_id}", "starred_url": "https://api.github.com/users/wj-Mcat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wj-Mcat/subscriptions", "organizations_url": "https://api.github.com/users/wj-Mcat/orgs", "repos_url": "https://api.github.com/users/wj-Mcat/repos", "events_url": "https://api.github.com/users/wj-Mcat/events{/privacy}", "received_events_url": "https://api.github.com/users/wj-Mcat/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2022-11-22T03:57:52Z", "updated_at": "2023-02-05T00:18:20Z", "closed_at": "2023-02-05T00:18:20Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\r\n\r\n```Markdown\r\n- paddlepaddle:\r\n- paddlepaddle-gpu: 2.3.2\r\n- paddlenlp: 2.4.1\r\n```\r\n\r\n\r\n### \u91cd\u590d\u95ee\u9898\r\n\r\n- [X] I have searched the existing issues\r\n\r\n### \u9519\u8bef\u63cf\u8ff0\r\n\r\n```Markdown\r\n\u8f93\u5165\u7684\u53e5\u5b50\uff1a\r\n\r\nwhat is paula deen's brother\tPaula Deen & Brother Bubba Sued for Harassment\tPaula Deen and her brother Earl W. Bubba Hiers are being sued by a former general manager at Uncle Bubba's\u00e2\u0080\u00a6 Paula Deen and her brother Earl W. Bubba Hiers are being sued by a former general manager at Uncle Bubba's\u00e2\u0080\u00a6\r\n```\r\n\r\n\u9759\u6001\u56fe\u7684id\u5316\u7ed3\u679c\uff1a\r\n\r\n```\r\n[101, 2054, 2003, 13723, 9266, 2078, 1005, 1055, 2567, 102, 13723, 9266, 2078, 1004, 2567, 19606, 12923, 2005, 16011, 102, 13723, 9266, 2078, 1998, 2014, 2567, 4656, 1059, 1012, 19606, 7632, 2545, 2024, 2108, 12923, 2011, 1037, 2280, 2236, 3208, 2012, 4470, 19606, 1005, 7842, 29649, 13723, 9266, 2078, 1998, 2014, 2567, 4656, 1059, 1012, 19606, 7632, 2545, 2024, 2108, 12923, 2011, 1037, 2280, 2236, 3208, 2012, 4470, 19606, 1005, 7842, 29649, 102]\r\n[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2]\r\n```\r\n\u52a8\u6001\u56fe\u7684id\u5316\u7684\u7ed3\u679c\uff1a\r\n\r\n```\r\n[101, 2054, 2003, 13723, 9266, 2078, 1005, 1055, 2567, 102, 13723, 9266, 2078, 1004, 2567, 19606, 12923, 2005, 16011, 102, 13723, 9266, 2078, 1998, 2014, 2567, 4656, 1059, 1012, 19606, 7632, 2545, 2024, 2108, 12923, 2011, 1037, 2280, 2236, 3208, 2012, 4470, 19606, 1005, 7842, 1072, 13723, 9266, 2078, 1998, 2014, 2567, 4656, 1059, 1012, 19606, 7632, 2545, 2024, 2108, 12923, 2011, 1037, 2280, 2236, 3208, 2012, 4470, 19606, 1005, 7842, 1072, 102]\r\n[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2]\r\n```\r\n\r\n\u53ef\u4ee5\u770b\u5230\u9759\u6001\u56fe\u548c\u52a8\u6001\u56fe\u4e2d\u6709\u4e00\u4e2aid\u4e0d\u4e00\u6837\uff0c\u9759\u6001\u56feid\u662f29649\uff0c\u800c\u52a8\u6001\u56fe\u5bf9\u5e94\u7684id\u53d8\u6210\u4e861072\r\n\r\n\r\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\r\n\r\n\r\n```\r\nfrom paddlenlp.transformers import AutoTokenizer, AutoModel\r\n\r\ntext = \"Uncle Bubba's\u00e2\u0080\u00a6\"\r\nmodel_name_or_path = 'ernie-2.0-large-en'\r\ntokenizer = AutoTokenizer.from_pretrained(model_name_or_path)\r\n\r\ntokenized_inputs = tokenizer(text)\r\nprint(tokenized_inputs)\r\n```", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3855/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3855/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3845", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3845/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3845/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3845/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/3845", "id": 1457640610, "node_id": "I_kwDOFAsknM5W4dSi", "number": 3845, "title": "[Bug]: centos7 python3.6.8 \u5b89\u88c5paddlenlp 2.3.5\u4e4b\u540e\u6240\u6709\u7248\u672c\u62a5\u9519", "user": {"login": "yangy996", "id": 15188456, "node_id": "MDQ6VXNlcjE1MTg4NDU2", "avatar_url": "https://avatars.githubusercontent.com/u/15188456?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yangy996", "html_url": "https://github.com/yangy996", "followers_url": "https://api.github.com/users/yangy996/followers", "following_url": "https://api.github.com/users/yangy996/following{/other_user}", "gists_url": "https://api.github.com/users/yangy996/gists{/gist_id}", "starred_url": "https://api.github.com/users/yangy996/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yangy996/subscriptions", "organizations_url": "https://api.github.com/users/yangy996/orgs", "repos_url": "https://api.github.com/users/yangy996/repos", "events_url": "https://api.github.com/users/yangy996/events{/privacy}", "received_events_url": "https://api.github.com/users/yangy996/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "w5688414", "id": 12107462, "node_id": "MDQ6VXNlcjEyMTA3NDYy", "avatar_url": "https://avatars.githubusercontent.com/u/12107462?v=4", "gravatar_id": "", "url": "https://api.github.com/users/w5688414", "html_url": "https://github.com/w5688414", "followers_url": "https://api.github.com/users/w5688414/followers", "following_url": "https://api.github.com/users/w5688414/following{/other_user}", "gists_url": "https://api.github.com/users/w5688414/gists{/gist_id}", "starred_url": "https://api.github.com/users/w5688414/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/w5688414/subscriptions", "organizations_url": "https://api.github.com/users/w5688414/orgs", "repos_url": "https://api.github.com/users/w5688414/repos", "events_url": "https://api.github.com/users/w5688414/events{/privacy}", "received_events_url": "https://api.github.com/users/w5688414/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "w5688414", "id": 12107462, "node_id": "MDQ6VXNlcjEyMTA3NDYy", "avatar_url": "https://avatars.githubusercontent.com/u/12107462?v=4", "gravatar_id": "", "url": "https://api.github.com/users/w5688414", "html_url": "https://github.com/w5688414", "followers_url": "https://api.github.com/users/w5688414/followers", "following_url": "https://api.github.com/users/w5688414/following{/other_user}", "gists_url": "https://api.github.com/users/w5688414/gists{/gist_id}", "starred_url": "https://api.github.com/users/w5688414/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/w5688414/subscriptions", "organizations_url": "https://api.github.com/users/w5688414/orgs", "repos_url": "https://api.github.com/users/w5688414/repos", "events_url": "https://api.github.com/users/w5688414/events{/privacy}", "received_events_url": "https://api.github.com/users/w5688414/received_events", "type": "User", "site_admin": false}, {"login": "wawltor", "id": 16698950, "node_id": "MDQ6VXNlcjE2Njk4OTUw", "avatar_url": "https://avatars.githubusercontent.com/u/16698950?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wawltor", "html_url": "https://github.com/wawltor", "followers_url": "https://api.github.com/users/wawltor/followers", "following_url": "https://api.github.com/users/wawltor/following{/other_user}", "gists_url": "https://api.github.com/users/wawltor/gists{/gist_id}", "starred_url": "https://api.github.com/users/wawltor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wawltor/subscriptions", "organizations_url": "https://api.github.com/users/wawltor/orgs", "repos_url": "https://api.github.com/users/wawltor/repos", "events_url": "https://api.github.com/users/wawltor/events{/privacy}", "received_events_url": "https://api.github.com/users/wawltor/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2022-11-21T09:53:44Z", "updated_at": "2022-11-21T10:37:00Z", "closed_at": "2022-11-21T10:37:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\n\n```Markdown\n- paddlenlp: paddlenlp 2.3.7\u53ca\u4ee5\u540e\u7248\u672c\u90fd\u62a5\u9519\n```\n\n\n### \u91cd\u590d\u95ee\u9898\n\n- [X] I have searched the existing issues\n\n### \u9519\u8bef\u63cf\u8ff0\n\n```Markdown\nDownloading https://pypi.tuna.tsinghua.edu.cn/packages/9d/2d/233c79d5b4e5ab1dbf111242299153f3caddddbb691219f363ad55ce783d/seqeval-1.2.2.tar.gz (43kB)\r\n    100% |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 51kB 221kB/s\r\n    Complete output from command python setup.py egg_info:\r\n    Traceback (most recent call last):\r\n      File \"<string>\", line 1, in <module>\r\n      File \"/tmp/pip-build-aglcx40k/seqeval/setup.py\", line 56, in <module>\r\n        'Programming Language :: Python :: Implementation :: PyPy'\r\n      File \"/usr/lib/python3.6/site-packages/setuptools/__init__.py\", line 129, in setup\r\n        return distutils.core.setup(**attrs)\r\n      File \"/usr/lib64/python3.6/distutils/core.py\", line 108, in setup\r\n        _setup_distribution = dist = klass(attrs)\r\n      File \"/usr/lib/python3.6/site-packages/setuptools/dist.py\", line 370, in __init__\r\n        k: v for k, v in attrs.items()\r\n      File \"/usr/lib64/python3.6/distutils/dist.py\", line 281, in __init__\r\n        self.finalize_options()\r\n      File \"/usr/lib/python3.6/site-packages/setuptools/dist.py\", line 529, in finalize_options\r\n        ep.load()(self, ep.name, value)\r\n      File \"/usr/lib/python3.6/site-packages/pkg_resources/__init__.py\", line 2318, in load\r\n        return self.resolve()\r\n      File \"/usr/lib/python3.6/site-packages/pkg_resources/__init__.py\", line 2324, in resolve\r\n        module = __import__(self.module_name, fromlist=['__name__'], level=0)\r\n      File \"/tmp/pip-build-aglcx40k/seqeval/.eggs/setuptools_scm-7.0.5-py3.6.egg/setuptools_scm/__init__.py\", line 5\r\n        from __future__ import annotations\r\n        ^\r\n    SyntaxError: future feature annotations is not defined\r\n\r\n    ----------------------------------------\r\nCommand \"python setup.py egg_info\" failed with error code 1 in /tmp/pip-build-aglcx40k/seqeval/\n```\n\n\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\n\npip3 install paddlenlp==2.3.7  -i https://pypi.tuna.tsinghua.edu.cn/simple", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3845/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3845/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3844", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3844/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3844/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3844/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/3844", "id": 1457618980, "node_id": "I_kwDOFAsknM5W4YAk", "number": 3844, "title": "[Bug]: AttributeError: 'BertConfig' object has no attribute 'get'", "user": {"login": "Yam0214", "id": 40912707, "node_id": "MDQ6VXNlcjQwOTEyNzA3", "avatar_url": "https://avatars.githubusercontent.com/u/40912707?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Yam0214", "html_url": "https://github.com/Yam0214", "followers_url": "https://api.github.com/users/Yam0214/followers", "following_url": "https://api.github.com/users/Yam0214/following{/other_user}", "gists_url": "https://api.github.com/users/Yam0214/gists{/gist_id}", "starred_url": "https://api.github.com/users/Yam0214/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Yam0214/subscriptions", "organizations_url": "https://api.github.com/users/Yam0214/orgs", "repos_url": "https://api.github.com/users/Yam0214/repos", "events_url": "https://api.github.com/users/Yam0214/events{/privacy}", "received_events_url": "https://api.github.com/users/Yam0214/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4882422102, "node_id": "LA_kwDOFAsknM8AAAABIwPZVg", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/stale", "name": "stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "wj-Mcat", "id": 10242208, "node_id": "MDQ6VXNlcjEwMjQyMjA4", "avatar_url": "https://avatars.githubusercontent.com/u/10242208?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wj-Mcat", "html_url": "https://github.com/wj-Mcat", "followers_url": "https://api.github.com/users/wj-Mcat/followers", "following_url": "https://api.github.com/users/wj-Mcat/following{/other_user}", "gists_url": "https://api.github.com/users/wj-Mcat/gists{/gist_id}", "starred_url": "https://api.github.com/users/wj-Mcat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wj-Mcat/subscriptions", "organizations_url": "https://api.github.com/users/wj-Mcat/orgs", "repos_url": "https://api.github.com/users/wj-Mcat/repos", "events_url": "https://api.github.com/users/wj-Mcat/events{/privacy}", "received_events_url": "https://api.github.com/users/wj-Mcat/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "wj-Mcat", "id": 10242208, "node_id": "MDQ6VXNlcjEwMjQyMjA4", "avatar_url": "https://avatars.githubusercontent.com/u/10242208?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wj-Mcat", "html_url": "https://github.com/wj-Mcat", "followers_url": "https://api.github.com/users/wj-Mcat/followers", "following_url": "https://api.github.com/users/wj-Mcat/following{/other_user}", "gists_url": "https://api.github.com/users/wj-Mcat/gists{/gist_id}", "starred_url": "https://api.github.com/users/wj-Mcat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wj-Mcat/subscriptions", "organizations_url": "https://api.github.com/users/wj-Mcat/orgs", "repos_url": "https://api.github.com/users/wj-Mcat/repos", "events_url": "https://api.github.com/users/wj-Mcat/events{/privacy}", "received_events_url": "https://api.github.com/users/wj-Mcat/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2022-11-21T09:39:24Z", "updated_at": "2023-02-05T00:18:24Z", "closed_at": "2023-02-05T00:18:24Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\n\n```Markdown\n- paddlepaddle: 2.3.2\r\n- paddlepaddle-gpu: 2.3.2\r\n- paddlenlp: 2.4.0.dev\n```\n\n\n### \u91cd\u590d\u95ee\u9898\n\n- [X] I have searched the existing issues\n\n### \u9519\u8bef\u63cf\u8ff0\n\n```Markdown\n\u5f53\u4f7f\u7528`config.get()`\u65f6\u62a5\u9519`'BertConfig' object has no attribute 'get'`\n```\n\n\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\n\n```bash\r\n$ python\r\nPython 3.8.3 (default, May 19 2020, 18:47:26) \r\n[GCC 7.3.0] :: Anaconda, Inc. on linux\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> from paddlenlp.transformers import BertConfig\r\n>>> config = BertConfig()\r\n>>> config.get(\"hidden_size\")\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/root/oyhy/Yam0214/PaddleNLP/paddlenlp/transformers/configuration_utils.py\", line 419, in __getattribute__\r\n    return super().__getattribute__(key)\r\nAttributeError: 'BertConfig' object has no attribute 'get'\r\n>>> \r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3844/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3844/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3840", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3840/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3840/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3840/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/3840", "id": 1457504419, "node_id": "I_kwDOFAsknM5W38Cj", "number": 3840, "title": "[Bug]: question_generation/unimo-text GPU\u8bad\u7ec3\u62a5\u9519", "user": {"login": "YYGe01", "id": 45594167, "node_id": "MDQ6VXNlcjQ1NTk0MTY3", "avatar_url": "https://avatars.githubusercontent.com/u/45594167?v=4", "gravatar_id": "", "url": "https://api.github.com/users/YYGe01", "html_url": "https://github.com/YYGe01", "followers_url": "https://api.github.com/users/YYGe01/followers", "following_url": "https://api.github.com/users/YYGe01/following{/other_user}", "gists_url": "https://api.github.com/users/YYGe01/gists{/gist_id}", "starred_url": "https://api.github.com/users/YYGe01/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/YYGe01/subscriptions", "organizations_url": "https://api.github.com/users/YYGe01/orgs", "repos_url": "https://api.github.com/users/YYGe01/repos", "events_url": "https://api.github.com/users/YYGe01/events{/privacy}", "received_events_url": "https://api.github.com/users/YYGe01/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4390884097, "node_id": "LA_kwDOFAsknM8AAAABBbeTAQ", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/question%20generation", "name": "question generation", "color": "063FF1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "westfish", "id": 20476674, "node_id": "MDQ6VXNlcjIwNDc2Njc0", "avatar_url": "https://avatars.githubusercontent.com/u/20476674?v=4", "gravatar_id": "", "url": "https://api.github.com/users/westfish", "html_url": "https://github.com/westfish", "followers_url": "https://api.github.com/users/westfish/followers", "following_url": "https://api.github.com/users/westfish/following{/other_user}", "gists_url": "https://api.github.com/users/westfish/gists{/gist_id}", "starred_url": "https://api.github.com/users/westfish/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/westfish/subscriptions", "organizations_url": "https://api.github.com/users/westfish/orgs", "repos_url": "https://api.github.com/users/westfish/repos", "events_url": "https://api.github.com/users/westfish/events{/privacy}", "received_events_url": "https://api.github.com/users/westfish/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "westfish", "id": 20476674, "node_id": "MDQ6VXNlcjIwNDc2Njc0", "avatar_url": "https://avatars.githubusercontent.com/u/20476674?v=4", "gravatar_id": "", "url": "https://api.github.com/users/westfish", "html_url": "https://github.com/westfish", "followers_url": "https://api.github.com/users/westfish/followers", "following_url": "https://api.github.com/users/westfish/following{/other_user}", "gists_url": "https://api.github.com/users/westfish/gists{/gist_id}", "starred_url": "https://api.github.com/users/westfish/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/westfish/subscriptions", "organizations_url": "https://api.github.com/users/westfish/orgs", "repos_url": "https://api.github.com/users/westfish/repos", "events_url": "https://api.github.com/users/westfish/events{/privacy}", "received_events_url": "https://api.github.com/users/westfish/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2022-11-21T08:15:38Z", "updated_at": "2022-11-23T12:32:20Z", "closed_at": "2022-11-23T12:32:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\n\n```Markdown\n- paddlepaddle:2.3.2\r\n- paddlepaddle-gpu: 2.3.2.post116\r\n- paddlenlp: paddleNLP/develop\r\n- windows10\n```\n\n\n### \u91cd\u590d\u95ee\u9898\n\n- [X] I have searched the existing issues\n\n### \u9519\u8bef\u63cf\u8ff0\n\n```Markdown\n\u95ee\u9898\uff1aquestion_generation/unimo-text/train.py \u8fd0\u884c\u62a5\u9519\u3002\r\ncpu\u8bad\u7ec3\u6ca1\u95ee\u9898\uff0cgpu\u8bad\u7ec3\u6709\u95ee\u9898. \u540c\u6837\u95ee\u9898\u89c1\uff1a\r\nhttps://github.com/PaddlePaddle/PaddleOCR/issues/6936\r\nhttps://github.com/PaddlePaddle/PaddleDetection/issues/6252\r\n\u6211\u770b\u6709\u4f4d\u670b\u53cb\u8bf4\u964dpaddle\u7248\u672c\uff0c\u6211\u8fd9\u8fb9\u662f11.6\u7684cuda\uff0c\u4e0d\u77e5\u9053\u964d\u7248\u672c\u540e\u662f\u5426\u652f\u6301\u3002\n```\n\n\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\n\ndureader_qg\u6570\u636e\u96c6\u6709\u70b9\u5927\uff0c\u4ece\u91cc\u9762\u62ff\u4e86\u4e00\u4e2a\u6837\u672c\u8fdb\u884c\u8bad\uff0c\u5e76\u590d\u523610\u904d\uff0c\u540c\u65f6\u4f5c\u4e3atrain.json\u548ctest.json\uff0c\u5982\u4e0b\uff1b\r\n```python\r\n{\"context\": \"\u6b20\u6761\u662f\u6c38\u4e45\u6709\u6548\u7684,\u672a\u7ea6\u5b9a\u8fd8\u6b3e\u671f\u9650\u7684\u501f\u6b3e\u5408\u540c\u7ea0\u7eb7,\u8bc9\u8bbc\u65f6\u6548\u81ea\u503a\u6743\u4eba\u4e3b\u5f20\u503a\u6743\u4e4b\u65e5\u8d77\u8ba1\u7b97,\u65f6\u6548\u4e3a2\u5e74\u3002 \u6839\u636e\u300a\u4e2d\u534e\u4eba\u6c11\u5171\u548c\u56fd\u6c11\u6cd5\u901a\u5219\u300b\u7b2c\u4e00\u767e\u4e09\u5341\u4e94\u6761:\u5411\u4eba\u6c11\u6cd5\u9662\u8bf7\u6c42\u4fdd\u62a4\u6c11\u4e8b\u6743\u5229\u7684\u8bc9\u8bbc\u65f6\u6548\u671f\u95f4\u4e3a\u4e8c\u5e74,\u6cd5\u5f8b\u53e6\u6709\u89c4\u5b9a\u7684\u9664\u5916\u3002 \u7b2c\u4e00\u767e\u4e09\u5341\u4e03\u6761:\u8bc9\u8bbc\u65f6\u6548\u671f\u95f4\u4ece\u77e5\u9053\u6216\u8005\u5e94\u5f53\u77e5\u9053\u6743\u5229\u88ab\u4fb5\u5bb3\u65f6\u8d77\u8ba1\u7b97\u3002\u4f46\u662f,\u4ece\u6743\u5229\u88ab\u4fb5\u5bb3\u4e4b\u65e5\u8d77\u8d85\u8fc7\u4e8c\u5341\u5e74\u7684,\u4eba\u6c11\u6cd5\u9662\u4e0d\u4e88\u4fdd\u62a4\u3002\u6709\u7279\u6b8a\u60c5\u51b5\u7684,\u4eba\u6c11\u6cd5\u9662\u53ef\u4ee5\u5ef6\u957f\u8bc9\u8bbc\u65f6\u6548\u671f\u95f4\u3002 \u7b2c\u516d\u5341\u4e8c\u6761\u7b2c(\u56db)\u9879:\u5c65\u884c\u671f\u9650\u4e0d\u660e\u786e\u7684,\u503a\u52a1\u4eba\u53ef\u4ee5\u968f\u65f6\u5c65\u884c,\u503a\u6743\u4eba\u4e5f\u53ef\u4ee5\u968f\u65f6\u8981\u6c42\u5c65\u884c,\u4f46\u5e94\u5f53\u7ed9\u5bf9\u65b9\u5fc5\u8981\u7684\u51c6\u5907\u65f6\u95f4\u3002\",\"answer\": \"\u6c38\u4e45\u6709\u6548\", \"question\": \"\u6b20\u6761\u7684\u6709\u6548\u671f\u662f\u591a\u4e45\"}\r\n```\r\n```python\r\nEval begin...\r\nError: ../paddle/phi/kernels/funcs/elementwise_functor.h:545 Assertion `b != 0` failed. InvalidArgumentError: Integer division by zero encountered in (floor) divide. Please check the input value.\r\n...\r\nError: ../paddle/phi/kernels/funcs/elementwise_functor.h:545 Assertion `b != 0` failed. InvalidArgumentError: Integer division by zero encountered in (floor) divide. Please check the input value.\r\nTraceback (most recent call last):\r\n  File \"C:/Users/49476/glory/work/learn/PaddleNLP/examples/question_generation/unimo-text/train.py\", line 303, in <module>\r\n    run(args)\r\n  File \"C:/Users/49476/glory/work/learn/PaddleNLP/examples/question_generation/unimo-text/train.py\", line 222, in run\r\n    bleu4 = evaluation(model_eval, dev_data_loader,\r\n  File \"C:\\Users\\49476\\anaconda3\\envs\\test_paddlenlp\\lib\\site-packages\\decorator.py\", line 232, in fun\r\n    return caller(func, *(extras + args), **kw)\r\n  File \"C:\\Users\\49476\\anaconda3\\envs\\test_paddlenlp\\lib\\site-packages\\paddle\\fluid\\dygraph\\base.py\", line 354, in _decorate_function\r\n    return func(*args, **kwargs)\r\n  File \"C:/Users/49476/glory/work/learn/PaddleNLP/examples/question_generation/unimo-text/train.py\", line 251, in evaluation\r\n    ids, scores = model.generate(\r\n  File \"C:\\Users\\49476\\anaconda3\\envs\\test_paddlenlp\\lib\\site-packages\\decorator.py\", line 232, in fun\r\n    return caller(func, *(extras + args), **kw)\r\n  File \"C:\\Users\\49476\\anaconda3\\envs\\test_paddlenlp\\lib\\site-packages\\paddle\\fluid\\dygraph\\base.py\", line 354, in _decorate_function\r\n    return func(*args, **kwargs)\r\n  File \"C:\\Users\\49476\\glory\\work\\learn\\PaddleNLP\\paddlenlp\\transformers\\generation_utils.py\", line 942, in generate\r\n    return self.beam_search(input_ids, beam_scorer,\r\n  File \"C:\\Users\\49476\\glory\\work\\learn\\PaddleNLP\\paddlenlp\\transformers\\generation_utils.py\", line 1164, in beam_search\r\n    beam_outputs = beam_scorer.process(\r\n  File \"C:\\Users\\49476\\glory\\work\\learn\\PaddleNLP\\paddlenlp\\transformers\\generation_utils.py\", line 152, in process\r\n    if self._done[batch_idx] == 1:\r\n  File \"C:\\Users\\49476\\anaconda3\\envs\\test_paddlenlp\\lib\\site-packages\\paddle\\fluid\\dygraph\\varbase_patch_methods.py\", line 669, in __bool__\r\n    return self.__nonzero__()\r\n  File \"C:\\Users\\49476\\anaconda3\\envs\\test_paddlenlp\\lib\\site-packages\\paddle\\fluid\\dygraph\\varbase_patch_methods.py\", line 666, in __nonzero__\r\n    return bool(np.all(tensor.__array__() > 0))\r\nOSError: (External) CUDA error(719), unspecified launch failure. \r\n  [Hint: 'cudaErrorLaunchFailure'. An exception occurred on the device while executing a kernel. Common causes include dereferencing an invalid device pointerand accessing out of bounds shared memory. Less common cases can be system specific - more information about these cases canbe found in the system specific user guide. This leaves the process in an inconsistent state and any further CUDA work willreturn the same error. To continue using CUDA, the process must be terminated and relaunched.] (at ..\\paddle\\phi\\backends\\gpu\\cuda\\cuda_info.cc:258)\r\n\r\n\r\n```", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3840/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3840/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3823", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3823/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3823/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3823/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/3823", "id": 1456091796, "node_id": "I_kwDOFAsknM5WyjKU", "number": 3823, "title": "[Bug]: semantic-search\u4f8b\u5b50\u4f7f\u7528streamlit\u4e0a\u4f20\u6587\u4ef6\u65e0\u6cd5\u81ea\u52a8\u5efa\u7acb\u7d22\u5f15", "user": {"login": "fangjiyuan", "id": 36502693, "node_id": "MDQ6VXNlcjM2NTAyNjkz", "avatar_url": "https://avatars.githubusercontent.com/u/36502693?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fangjiyuan", "html_url": "https://github.com/fangjiyuan", "followers_url": "https://api.github.com/users/fangjiyuan/followers", "following_url": "https://api.github.com/users/fangjiyuan/following{/other_user}", "gists_url": "https://api.github.com/users/fangjiyuan/gists{/gist_id}", "starred_url": "https://api.github.com/users/fangjiyuan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fangjiyuan/subscriptions", "organizations_url": "https://api.github.com/users/fangjiyuan/orgs", "repos_url": "https://api.github.com/users/fangjiyuan/repos", "events_url": "https://api.github.com/users/fangjiyuan/events{/privacy}", "received_events_url": "https://api.github.com/users/fangjiyuan/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4285758027, "node_id": "LA_kwDOFAsknM7_c3pL", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/pipelines", "name": "pipelines", "color": "fbca04", "default": false, "description": ""}, {"id": 4882422102, "node_id": "LA_kwDOFAsknM8AAAABIwPZVg", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/stale", "name": "stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "w5688414", "id": 12107462, "node_id": "MDQ6VXNlcjEyMTA3NDYy", "avatar_url": "https://avatars.githubusercontent.com/u/12107462?v=4", "gravatar_id": "", "url": "https://api.github.com/users/w5688414", "html_url": "https://github.com/w5688414", "followers_url": "https://api.github.com/users/w5688414/followers", "following_url": "https://api.github.com/users/w5688414/following{/other_user}", "gists_url": "https://api.github.com/users/w5688414/gists{/gist_id}", "starred_url": "https://api.github.com/users/w5688414/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/w5688414/subscriptions", "organizations_url": "https://api.github.com/users/w5688414/orgs", "repos_url": "https://api.github.com/users/w5688414/repos", "events_url": "https://api.github.com/users/w5688414/events{/privacy}", "received_events_url": "https://api.github.com/users/w5688414/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "w5688414", "id": 12107462, "node_id": "MDQ6VXNlcjEyMTA3NDYy", "avatar_url": "https://avatars.githubusercontent.com/u/12107462?v=4", "gravatar_id": "", "url": "https://api.github.com/users/w5688414", "html_url": "https://github.com/w5688414", "followers_url": "https://api.github.com/users/w5688414/followers", "following_url": "https://api.github.com/users/w5688414/following{/other_user}", "gists_url": "https://api.github.com/users/w5688414/gists{/gist_id}", "starred_url": "https://api.github.com/users/w5688414/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/w5688414/subscriptions", "organizations_url": "https://api.github.com/users/w5688414/orgs", "repos_url": "https://api.github.com/users/w5688414/repos", "events_url": "https://api.github.com/users/w5688414/events{/privacy}", "received_events_url": "https://api.github.com/users/w5688414/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 7, "created_at": "2022-11-19T01:36:58Z", "updated_at": "2023-04-19T00:17:07Z", "closed_at": "2023-04-19T00:17:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\n\n```Markdown\n- paddlepaddle Version: 2.2.2\r\n \r\n- paddlenlp Version: 2.4.2\n```\n\n\n### \u91cd\u590d\u95ee\u9898\n\n- [X] I have searched the existing issues\n\n### \u9519\u8bef\u63cf\u8ff0\n\n```Markdown\nPaddleNLP/pipelines/examples/semantic-search/\r\n\u6211\u4f7f\u7528\u8fd9\u4e2a\u4f8b\u5b50\u8fd0\u884cstreamlit\uff0c\u901a\u8fc7\u4e0a\u4f20\u6587\u4ef6\u7684\u65b9\u5f0f\u5efa\u7acb\u7d22\u5f15\u4f3c\u4e4e\u65e0\u6cd5\u751f\u6548\uff0c\u6211\u5c1d\u8bd5\u4f7f\u7528\u547d\u4ee4\u66f4\u65b0\u7d22\u5f15\u662f\u6210\u529f\u7684\u3002\r\n\u6d4b\u8bd5\u4e86\u4e00\u4e0b\uff0c\u76f4\u63a5\u5bfc\u5165docx\u6587\u4ef6\u5c31\u65e0\u6cd5\u751f\u6548\u3002\u5982\u679c\u5bfc\u5165\u7684\u662f\u4e00\u4e2a\u6587\u4ef6\u5939\u5c31\u53ef\u4ee5\u751f\u6548\u3002\r\n\u53ef\u80fd\u662f\u8bfb\u53d6\u6587\u4ef6\u7684\u547d\u4ee4\u6709\u95ee\u9898\u3002\n```\n\n\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\n\npython3 utils/offline_ann.py --index_name dureader_robust_query_encoder --doc_dir data/TEST --search_engine elastic --delete_index\r\n\u8fd9\u662fok\u7684\u3002\r\npython3 utils/offline_ann.py --index_name dureader_robust_query_encoder --doc_dir data/test.docx --search_engine elastic --delete_index\r\n\u65e0\u6548\u3002", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3823/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3823/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3822", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3822/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3822/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3822/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/3822", "id": 1455979269, "node_id": "I_kwDOFAsknM5WyHsF", "number": 3822, "title": "[Bug]: uie-x f1\u53ea\u80fd\u8fbe\u52300.55\uff0c\u5e76\u4e14labelstudio.py\u8f6c\u6362\u811a\u672c\u751f\u6210\u7684\u6570\u636e\u96c6bboxes\u751f\u6210\u9519\u8bef", "user": {"login": "hehuang139", "id": 9929843, "node_id": "MDQ6VXNlcjk5Mjk4NDM=", "avatar_url": "https://avatars.githubusercontent.com/u/9929843?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hehuang139", "html_url": "https://github.com/hehuang139", "followers_url": "https://api.github.com/users/hehuang139/followers", "following_url": "https://api.github.com/users/hehuang139/following{/other_user}", "gists_url": "https://api.github.com/users/hehuang139/gists{/gist_id}", "starred_url": "https://api.github.com/users/hehuang139/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hehuang139/subscriptions", "organizations_url": "https://api.github.com/users/hehuang139/orgs", "repos_url": "https://api.github.com/users/hehuang139/repos", "events_url": "https://api.github.com/users/hehuang139/events{/privacy}", "received_events_url": "https://api.github.com/users/hehuang139/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "linjieccc", "id": 40840292, "node_id": "MDQ6VXNlcjQwODQwMjky", "avatar_url": "https://avatars.githubusercontent.com/u/40840292?v=4", "gravatar_id": "", "url": "https://api.github.com/users/linjieccc", "html_url": "https://github.com/linjieccc", "followers_url": "https://api.github.com/users/linjieccc/followers", "following_url": "https://api.github.com/users/linjieccc/following{/other_user}", "gists_url": "https://api.github.com/users/linjieccc/gists{/gist_id}", "starred_url": "https://api.github.com/users/linjieccc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/linjieccc/subscriptions", "organizations_url": "https://api.github.com/users/linjieccc/orgs", "repos_url": "https://api.github.com/users/linjieccc/repos", "events_url": "https://api.github.com/users/linjieccc/events{/privacy}", "received_events_url": "https://api.github.com/users/linjieccc/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "linjieccc", "id": 40840292, "node_id": "MDQ6VXNlcjQwODQwMjky", "avatar_url": "https://avatars.githubusercontent.com/u/40840292?v=4", "gravatar_id": "", "url": "https://api.github.com/users/linjieccc", "html_url": "https://github.com/linjieccc", "followers_url": "https://api.github.com/users/linjieccc/followers", "following_url": "https://api.github.com/users/linjieccc/following{/other_user}", "gists_url": "https://api.github.com/users/linjieccc/gists{/gist_id}", "starred_url": "https://api.github.com/users/linjieccc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/linjieccc/subscriptions", "organizations_url": "https://api.github.com/users/linjieccc/orgs", "repos_url": "https://api.github.com/users/linjieccc/repos", "events_url": "https://api.github.com/users/linjieccc/events{/privacy}", "received_events_url": "https://api.github.com/users/linjieccc/received_events", "type": "User", "site_admin": false}, {"login": "lugimzzz", "id": 63761690, "node_id": "MDQ6VXNlcjYzNzYxNjkw", "avatar_url": "https://avatars.githubusercontent.com/u/63761690?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lugimzzz", "html_url": "https://github.com/lugimzzz", "followers_url": "https://api.github.com/users/lugimzzz/followers", "following_url": "https://api.github.com/users/lugimzzz/following{/other_user}", "gists_url": "https://api.github.com/users/lugimzzz/gists{/gist_id}", "starred_url": "https://api.github.com/users/lugimzzz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lugimzzz/subscriptions", "organizations_url": "https://api.github.com/users/lugimzzz/orgs", "repos_url": "https://api.github.com/users/lugimzzz/repos", "events_url": "https://api.github.com/users/lugimzzz/events{/privacy}", "received_events_url": "https://api.github.com/users/lugimzzz/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 7, "created_at": "2022-11-18T23:32:26Z", "updated_at": "2022-11-24T02:29:16Z", "closed_at": "2022-11-24T02:29:16Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\n\n```Markdown\n- paddle-bfloat                  0.1.7\r\n- paddle2onnx                    1.0.1\r\n- paddlefsl                      1.1.0\r\n- paddlenlp                      2.4.1.dev0  /home/hehuang/dev/git/uie-x\r\n- paddleocr                      2.6.0.1\r\n- paddlepaddle-gpu               2.4.0rc0\n```\n\n\n### \u91cd\u590d\u95ee\u9898\n\n- [X] I have searched the existing issues\n\n### \u9519\u8bef\u63cf\u8ff0\n\n```Markdown\n1. label_studio.py\u8bad\u7ec3\u96c6\u521b\u5efabug\uff0c\u672a\u751f\u6210bboxes\r\n2. f1\u65e0\u6cd5\u8fbe\u5230\u6548\u679c\r\n3. ocr\u89e3\u6790\u7ed3\u679c\u672a\u62c6\u5206bbox\uff1f\n```\n\n\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\n\n1. \u4e0b\u8f7d\u6807\u8bb0\r\nwget https://paddlenlp.bj.bcebos.com/datasets/tax.tar.gz\r\ntar -zxvf tax.tar.gz\r\nmv tax data\r\nrm tax.tar.gz\r\n\r\n2. \u901a\u8fc7label_studio.py \u8f6c\u6362\r\npython ../label_studio.py \\\r\n    --label_studio_file ./data/label_studio.json \\\r\n    --save_dir ./data \\\r\n    --splits 0.8 0.2 0\\\r\n    --task_type ext\r\n\u53d1\u73b0\u751f\u6210\u7684\u8bad\u7ec3\u96c6bboxes\u5b57\u6bb5\u4e3aboxes\uff0c\u5bfc\u81f4utils.py\u89e3\u6790\u65f6\u65e0\u6cd5\u89e3\u6790\u5230bbox\u4fe1\u606f\uff0c\u5219\u8ba4\u4e3a\u662f\u4e00\u822c\u7684text\uff0c\u4e0d\u4f5c\u4e3adoc\u5904\u7406\uff0c\u8fd9\u6837\u8bad\u7ec3\u786e\u5b9e\u53ef\u4ee5\u5f97\u5230f1 >0.95\u4ee5\u4e0a\r\n\r\n\u9519\u8bef\u4ee3\u78011\u4e3a\uff1a\r\npaddlenlp.utils.convertor.Convertor#process_image_tag:189\r\nitems['boxes'] = boxes  --> \u5e94\u8be5\u6539\u4e3aitems['bboxes'] = boxes \r\n\r\n\u5176\u4ed6\u9519\u8bef\u4ee3\u7801\uff1a\r\n\u8fd8\u6709\u591a\u5904\r\nitems['boxes'] = boxes  --> \u5e94\u8be5\u6539\u4e3aitems['bboxes'] = boxes \r\n\r\n3. \u4fee\u6539bboxes\u6b63\u786e\u540e\uff0c\uff0c\u8dd1document/fineture.py\uff0c\u8fd9\u662f\u7ec8\u4e8e\u662flayout doc\u4e86\uff0c\u4f46\u662fF1\u53ea\u67090.55\r\n[2022-11-19 07:06:34,554] [    INFO] - ***** train metrics *****\r\n[2022-11-19 07:06:34,554] [    INFO] -   epoch                    =       10.0\r\n[2022-11-19 07:06:34,554] [    INFO] -   train_loss               =     0.0012\r\n[2022-11-19 07:06:34,554] [    INFO] -   train_runtime            = 0:27:47.64\r\n[2022-11-19 07:06:34,554] [    INFO] -   train_samples_per_second =      3.598\r\n[2022-11-19 07:06:34,554] [    INFO] -   train_steps_per_second   =       0.45\r\n[2022-11-19 07:06:34,563] [    INFO] - ***** Running Evaluation *****\r\n[2022-11-19 07:06:34,563] [    INFO] -   Num examples = 80\r\n[2022-11-19 07:06:34,563] [    INFO] -   Total prediction steps = 10\r\n[2022-11-19 07:06:34,563] [    INFO] -   Pre device batch size = 8\r\n[2022-11-19 07:06:34,563] [    INFO] -   Total Batch size = 8\r\n100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 10/10 [00:20<00:00,  2.01s/it]\r\n[2022-11-19 07:06:56,886] [    INFO] - ***** eval metrics *****\r\n[2022-11-19 07:06:56,886] [    INFO] -   epoch                   =       10.0\r\n[2022-11-19 07:06:56,886] [    INFO] -   eval_f1                 =     0.5556\r\n[2022-11-19 07:06:56,887] [    INFO] -   eval_loss               =     0.0016\r\n[2022-11-19 07:06:56,887] [    INFO] -   eval_precision          =      0.625\r\n[2022-11-19 07:06:56,887] [    INFO] -   eval_recall             =        0.5\r\n[2022-11-19 07:06:56,887] [    INFO] -   eval_runtime            = 0:00:22.32\r\n[2022-11-19 07:06:56,887] [    INFO] -   eval_samples_per_second =      3.584\r\n[2022-11-19 07:06:56,887] [    INFO] -   eval_steps_per_second   =      0.448\r\n[2022-11-19 07:06:56,889] [    INFO] - Exporting inference model to ./checkpoint/model_best_no1/model\r\n\r\n\r\n\u4ee5\u4e0b\u6211\u7684\u8d85\u53c2\uff0c\r\n--device\r\ngpu\r\n--logging_steps\r\n5\r\n--save_steps\r\n50\r\n--eval_steps\r\n50\r\n--seed\r\n42\r\n--model_name_or_path\r\nuie-x-base\r\n--output_dir\r\n./checkpoint/model_best_no1\r\n--train_path\r\ndata/train.txt\r\n--dev_path\r\ndata/dev.txt\r\n--max_seq_len\r\n512\r\n--per_device_train_batch_size\r\n8\r\n--per_device_eval_batch_size\r\n8\r\n--num_train_epochs\r\n10\r\n--learning_rate\r\n1e-5\r\n--label_names\r\nstart_positions\r\nend_positions\r\n--do_train\r\n--do_eval\r\n--do_export\r\n--export_model_dir\r\n./checkpoint/model_best_no1\r\n--disable_tqdm\r\nFalse\r\n--metric_for_best_model\r\neval_f1\r\n--load_best_model_at_end\r\nTrue\r\n--save_total_limit\r\n1\r\n--overwrite_output_dir\r\n\r\n4. \u5e76\u4e14\u6211\u53d1\u73b0\u4e00\u70b9\uff0cuie-x\uff0c\u5e76\u6ca1\u6709\u5bf9ocr\u89e3\u6790\u51fa\u6765\u7684text\u884c\uff0c\u505a\u5355\u4e2a\u5b57\u7b26bbox\u7684\u62c6\u5206\uff0c\u4f46\u662f\u5947\u602a\u7684\u662f\uff0c\u6211\u624b\u52a8\u6539\u4e86\u62c6\u5206\u548c\u4e0d\u6539\u62c6\u5206\u6548\u679c\u786e\u5b9e\u6ca1\u6709\u592a\u5927\u533a\u522b\uff0cF1\uff0c\u4f46\u662f\u8fd9\u4e2a\u548clayout\u7684\u8bba\u6587\u5c31\u4e0d\u4e00\u6837\uff0c\u8fd9\u91cc\u662f\u5426\u5c31\u662f\u53ef\u4ee5\u4e0d\u62c6\u5206bbox\uff0c\u8fd8\u662f\u4ee3\u7801\u7684\u95ee\u9898\r\npaddlenlp.utils.convertor.Convertor#process_image_tag\uff1a181\r\n        for segment in parsed_doc['layout']:\r\n            box = doc_parser._normalize_box(segment[0], [img_w, img_h],\r\n                                            [1000, 1000])\r\n            text += segment[1]  \r\n            boxes.extend([box] * len(segment[1]))   -- \u8fd9\u91cc\u6ca1\u6709\u62c6\u5206char\uff1f\u662f\u5426\u5c31\u662f\u6545\u610f\u4e3a\u4e4b\uff0c\u56e0\u4e3a\u770bfineture\uff0c\u786e\u5b9e\u6709\u4e00\u4e2a\u5224\u65ad\u540c\u4e00\u884c\u7684text\u7684input_ids\u7684\u5904\u7406", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3822/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3822/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3820", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3820/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3820/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3820/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/3820", "id": 1455325465, "node_id": "I_kwDOFAsknM5WvoEZ", "number": 3820, "title": "[Bug]: \u6dfb\u52a0\u81ea\u5b9a\u4e49tokens\u540e\uff0ctokenizer\u8fd4\u56deoffsets mapping\u672a\u80fd\u8bc6\u522b\u51fa\u81ea\u5b9a\u4e49tokens", "user": {"login": "canghongjian", "id": 34473193, "node_id": "MDQ6VXNlcjM0NDczMTkz", "avatar_url": "https://avatars.githubusercontent.com/u/34473193?v=4", "gravatar_id": "", "url": "https://api.github.com/users/canghongjian", "html_url": "https://github.com/canghongjian", "followers_url": "https://api.github.com/users/canghongjian/followers", "following_url": "https://api.github.com/users/canghongjian/following{/other_user}", "gists_url": "https://api.github.com/users/canghongjian/gists{/gist_id}", "starred_url": "https://api.github.com/users/canghongjian/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/canghongjian/subscriptions", "organizations_url": "https://api.github.com/users/canghongjian/orgs", "repos_url": "https://api.github.com/users/canghongjian/repos", "events_url": "https://api.github.com/users/canghongjian/events{/privacy}", "received_events_url": "https://api.github.com/users/canghongjian/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "wj-Mcat", "id": 10242208, "node_id": "MDQ6VXNlcjEwMjQyMjA4", "avatar_url": "https://avatars.githubusercontent.com/u/10242208?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wj-Mcat", "html_url": "https://github.com/wj-Mcat", "followers_url": "https://api.github.com/users/wj-Mcat/followers", "following_url": "https://api.github.com/users/wj-Mcat/following{/other_user}", "gists_url": "https://api.github.com/users/wj-Mcat/gists{/gist_id}", "starred_url": "https://api.github.com/users/wj-Mcat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wj-Mcat/subscriptions", "organizations_url": "https://api.github.com/users/wj-Mcat/orgs", "repos_url": "https://api.github.com/users/wj-Mcat/repos", "events_url": "https://api.github.com/users/wj-Mcat/events{/privacy}", "received_events_url": "https://api.github.com/users/wj-Mcat/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "wj-Mcat", "id": 10242208, "node_id": "MDQ6VXNlcjEwMjQyMjA4", "avatar_url": "https://avatars.githubusercontent.com/u/10242208?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wj-Mcat", "html_url": "https://github.com/wj-Mcat", "followers_url": "https://api.github.com/users/wj-Mcat/followers", "following_url": "https://api.github.com/users/wj-Mcat/following{/other_user}", "gists_url": "https://api.github.com/users/wj-Mcat/gists{/gist_id}", "starred_url": "https://api.github.com/users/wj-Mcat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wj-Mcat/subscriptions", "organizations_url": "https://api.github.com/users/wj-Mcat/orgs", "repos_url": "https://api.github.com/users/wj-Mcat/repos", "events_url": "https://api.github.com/users/wj-Mcat/events{/privacy}", "received_events_url": "https://api.github.com/users/wj-Mcat/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2022-11-18T15:25:22Z", "updated_at": "2022-11-30T08:40:26Z", "closed_at": "2022-11-24T15:32:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\n\n```Markdown\n- paddlepaddle:\r\n- paddlepaddle-gpu: 2.3.2.post112\r\n- paddlenlp: 2.4.3\n```\n\n\n### \u91cd\u590d\u95ee\u9898\n\n- [X] I have searched the existing issues\n\n### \u9519\u8bef\u63cf\u8ff0\n\n```Markdown\npaddlenlp\u5bf9\u6dfb\u52a0\u81ea\u5b9a\u4e49tokens\u7684\u60c5\u51b5\u5b58\u5728bug\u3002\u6b64\u65f6\u5982\u679c\u6307\u5b9a\u8fd4\u56deoffsets mapping\uff0c\u90a3\u4e48\u504f\u79fb\u91cf\u91cc\u5e76\u672a\u8bc6\u522b\u51fa\u81ea\u5b9a\u4e49tokens.\n```\n\n\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\n\n\u590d\u73b0\u4ee3\u7801\u53ca\u7ed3\u679c\u5982\u4e0b\u3002\r\n\u5982\u56fe\uff0c\u5e76\u672a\u8bc6\u522b\u51fa\u6211\u81ea\u5b9a\u4e49\u7684\"d\"token\r\n![image](https://user-images.githubusercontent.com/34473193/202739041-d1f0ce5d-d5bd-4bf4-a4ee-c037112acbe3.png)\r\n\u4e0b\u9762\u662fhuggingface\u7684\u5bf9\u5e94\u7ed3\u679c\uff0c\u6b63\u786e\u5c55\u793a\r\n![image](https://user-images.githubusercontent.com/34473193/202739248-8000eca2-4f49-46ef-99c8-e026746e0aae.png)\r\n", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3820/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3820/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3790", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3790/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3790/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3790/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/3790", "id": 1452598561, "node_id": "I_kwDOFAsknM5WlOUh", "number": 3790, "title": "[Bug]: \u6587\u672c\u5206\u7c7b\u7684\u6570\u636e\u9884\u5904\u7406\u811a\u672c\u5b58\u5728\u9519\u8bef", "user": {"login": "FFinchR", "id": 61258341, "node_id": "MDQ6VXNlcjYxMjU4MzQx", "avatar_url": "https://avatars.githubusercontent.com/u/61258341?v=4", "gravatar_id": "", "url": "https://api.github.com/users/FFinchR", "html_url": "https://github.com/FFinchR", "followers_url": "https://api.github.com/users/FFinchR/followers", "following_url": "https://api.github.com/users/FFinchR/following{/other_user}", "gists_url": "https://api.github.com/users/FFinchR/gists{/gist_id}", "starred_url": "https://api.github.com/users/FFinchR/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/FFinchR/subscriptions", "organizations_url": "https://api.github.com/users/FFinchR/orgs", "repos_url": "https://api.github.com/users/FFinchR/repos", "events_url": "https://api.github.com/users/FFinchR/events{/privacy}", "received_events_url": "https://api.github.com/users/FFinchR/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "lugimzzz", "id": 63761690, "node_id": "MDQ6VXNlcjYzNzYxNjkw", "avatar_url": "https://avatars.githubusercontent.com/u/63761690?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lugimzzz", "html_url": "https://github.com/lugimzzz", "followers_url": "https://api.github.com/users/lugimzzz/followers", "following_url": "https://api.github.com/users/lugimzzz/following{/other_user}", "gists_url": "https://api.github.com/users/lugimzzz/gists{/gist_id}", "starred_url": "https://api.github.com/users/lugimzzz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lugimzzz/subscriptions", "organizations_url": "https://api.github.com/users/lugimzzz/orgs", "repos_url": "https://api.github.com/users/lugimzzz/repos", "events_url": "https://api.github.com/users/lugimzzz/events{/privacy}", "received_events_url": "https://api.github.com/users/lugimzzz/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "lugimzzz", "id": 63761690, "node_id": "MDQ6VXNlcjYzNzYxNjkw", "avatar_url": "https://avatars.githubusercontent.com/u/63761690?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lugimzzz", "html_url": "https://github.com/lugimzzz", "followers_url": "https://api.github.com/users/lugimzzz/followers", "following_url": "https://api.github.com/users/lugimzzz/following{/other_user}", "gists_url": "https://api.github.com/users/lugimzzz/gists{/gist_id}", "starred_url": "https://api.github.com/users/lugimzzz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lugimzzz/subscriptions", "organizations_url": "https://api.github.com/users/lugimzzz/orgs", "repos_url": "https://api.github.com/users/lugimzzz/repos", "events_url": "https://api.github.com/users/lugimzzz/events{/privacy}", "received_events_url": "https://api.github.com/users/lugimzzz/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2022-11-17T02:37:47Z", "updated_at": "2022-11-18T02:24:03Z", "closed_at": "2022-11-18T02:24:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\n\n```Markdown\n- paddle-bfloat           0.1.7\r\n- paddle2onnx             0.9.8\r\n- paddlefsl               1.1.0\r\n- paddlenlp               2.4.1\r\n- paddleocr               2.6.0.1\r\n- paddlepaddle-gpu        2.4.0rc0\r\n- paddleslim              0.0.0.dev0\n```\n\n\n### \u91cd\u590d\u95ee\u9898\n\n- [X] I have searched the existing issues\n\n### \u9519\u8bef\u63cf\u8ff0\n\n```Markdown\nargs.task_type == 'hierarchical'\u65f6, \u751f\u6210\u7684example\u62fc\u63a5\u4e86\u5305\u542b\u6587\u6863\u6240\u6709\u6807\u7b7e\u7684label_list, \u6b64\u5904\u9519\u8bef, \u5e94\u62fc\u63a5\u7684\u662f\u5305\u542b\u5355\u884c\u6807\u7b7e\u7684label_dict.\n```\n\n\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\n\n\u6587\u672c\u5206\u7c7b\u7684\u6570\u636e\u9884\u5904\u7406\u811a\u672c\u5b58\u5728\u9519\u8bef\uff1a\r\n[doccano.py](https://github.com/PaddlePaddle/PaddleNLP/blob/develop/applications/text_classification/doccano.py#L112)\r\n```Python\r\n            if args.task_type == 'hierarchical':\r\n                label_dict = []\r\n                for label in labels:\r\n                    level_labels = label.split(args.separator)\r\n                    for i in range(len(level_labels)):\r\n                        l = args.separator.join(level_labels[:i + 1])\r\n                        label_dict.append(l)\r\n                        if l not in label_list:\r\n                            label_list.append(l)\r\n                if args.dirty:\r\n                    text = ' '.join(text.strip().split('\\t')[:-1])\r\n                else:\r\n                    text = ' '.join(text.strip().split('\\t'))\r\n                example = text + '\\t' + ','.join(label_list) + '\\n'\r\n```\r\n\u5e94\u8be5\u4fee\u6539\u4e3a\uff1a\r\n```Python\r\n            if args.task_type == 'hierarchical':\r\n                label_dict = []\r\n                for label in labels:\r\n                    level_labels = label.split(args.separator)\r\n                    for i in range(len(level_labels)):\r\n                        l = args.separator.join(level_labels[:i + 1])\r\n                        if l not in label_dict:\r\n                            label_dict.append(l)\r\n                        if l not in label_list:\r\n                            label_list.append(l)\r\n                if args.dirty:\r\n                    text = ' '.join(text.strip().split('\\t')[:-1])\r\n                else:\r\n                    text = ' '.join(text.strip().split('\\t'))\r\n                example = text + '\\t' + ','.join(label_dict) + '\\n'\r\n```\r\nargs.task_type == 'hierarchical'\u65f6, \u751f\u6210\u7684example\u62fc\u63a5\u4e86\u5305\u542b\u6587\u6863\u6240\u6709\u6807\u7b7e\u7684label_list, \u6b64\u5904\u9519\u8bef, \u5e94\u62fc\u63a5\u7684\u662f\u5305\u542b\u5355\u884c\u6807\u7b7e\u7684label_dict.", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3790/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3790/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3761", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3761/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3761/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3761/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/3761", "id": 1449059237, "node_id": "I_kwDOFAsknM5WXuOl", "number": 3761, "title": "[Bug]: cpu\u4e0b\u8fd0\u884cpaddlenlp\u4e2dexamples/few_shot/pet\u9879\u76ee\u51fa\u9519", "user": {"login": "Tygors", "id": 95200377, "node_id": "U_kgDOBaykeQ", "avatar_url": "https://avatars.githubusercontent.com/u/95200377?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Tygors", "html_url": "https://github.com/Tygors", "followers_url": "https://api.github.com/users/Tygors/followers", "following_url": "https://api.github.com/users/Tygors/following{/other_user}", "gists_url": "https://api.github.com/users/Tygors/gists{/gist_id}", "starred_url": "https://api.github.com/users/Tygors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Tygors/subscriptions", "organizations_url": "https://api.github.com/users/Tygors/orgs", "repos_url": "https://api.github.com/users/Tygors/repos", "events_url": "https://api.github.com/users/Tygors/events{/privacy}", "received_events_url": "https://api.github.com/users/Tygors/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4882422102, "node_id": "LA_kwDOFAsknM8AAAABIwPZVg", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/stale", "name": "stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "LemonNoel", "id": 25607475, "node_id": "MDQ6VXNlcjI1NjA3NDc1", "avatar_url": "https://avatars.githubusercontent.com/u/25607475?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LemonNoel", "html_url": "https://github.com/LemonNoel", "followers_url": "https://api.github.com/users/LemonNoel/followers", "following_url": "https://api.github.com/users/LemonNoel/following{/other_user}", "gists_url": "https://api.github.com/users/LemonNoel/gists{/gist_id}", "starred_url": "https://api.github.com/users/LemonNoel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LemonNoel/subscriptions", "organizations_url": "https://api.github.com/users/LemonNoel/orgs", "repos_url": "https://api.github.com/users/LemonNoel/repos", "events_url": "https://api.github.com/users/LemonNoel/events{/privacy}", "received_events_url": "https://api.github.com/users/LemonNoel/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "LemonNoel", "id": 25607475, "node_id": "MDQ6VXNlcjI1NjA3NDc1", "avatar_url": "https://avatars.githubusercontent.com/u/25607475?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LemonNoel", "html_url": "https://github.com/LemonNoel", "followers_url": "https://api.github.com/users/LemonNoel/followers", "following_url": "https://api.github.com/users/LemonNoel/following{/other_user}", "gists_url": "https://api.github.com/users/LemonNoel/gists{/gist_id}", "starred_url": "https://api.github.com/users/LemonNoel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LemonNoel/subscriptions", "organizations_url": "https://api.github.com/users/LemonNoel/orgs", "repos_url": "https://api.github.com/users/LemonNoel/repos", "events_url": "https://api.github.com/users/LemonNoel/events{/privacy}", "received_events_url": "https://api.github.com/users/LemonNoel/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2022-11-15T02:32:28Z", "updated_at": "2023-01-29T00:18:38Z", "closed_at": "2023-01-29T00:18:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\n\n```Markdown\n- paddlepaddle:2.3.2\r\n- paddlepaddle-gpu: \r\n- paddlenlp: paddlenlp-2.4.2\n```\n\n\n### \u91cd\u590d\u95ee\u9898\n\n- [X] I have searched the existing issues\n\n### \u9519\u8bef\u63cf\u8ff0\n\n```Markdown\n\u5728\u672c\u5730\u4e24\u53f0\u8bbe\u5907\u53caaistudio\u5747\u8fdb\u884c\u5c1d\u8bd5\u8fd0\u884c\r\npython pet.py --task_name \"tnews\" --device cpu --pattern_id 4 --save_dir \"./tnews\" --index 0 --batch_size 4 --epochs 10 --language_model \"ernie-3.0-medium-zh\" \r\nISSUE\u91cc\u641c\u7d22\u6709\u7c7b\u4f3c\u7f3a\u9677https://github.com/PaddlePaddle/PaddleNLP/issues/2892\r\n\u672c\u5730\u5c1d\u8bd5GPU\u65f6\u6ca1\u95ee\u9898\uff0c\u4f46\u6307\u5b9aCPU\u8fd0\u884c\u5c31\u51fa\u9519\uff0c\u66f4\u6362\u4e00\u53f0\u53ea\u6709CPU\u7684\u8bbe\u5907\u4e5f\u51fa\u73b0\u540c\u6837\u62a5\u9519\uff0caistudio\u4e5f\u62a5\u540c\u6837\u9519\u8bef\r\n[2022-11-15 10:22:19,348] [    INFO] - Downloading https://bj.bcebos.com/paddlenlp/models/transformers/ernie_3.0/ernie_3.0_medium_zh.pdparams and saved to /home/aistudio/.paddlenlp/models/ernie-3.0-medium-zh\r\n[2022-11-15 10:22:19,349] [    INFO] - Downloading ernie_3.0_medium_zh.pdparams from https://bj.bcebos.com/paddlenlp/models/transformers/ernie_3.0/ernie_3.0_medium_zh.pdparams\r\n100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 313M/313M [00:04<00:00, 72.5MB/s]\r\n[2022-11-15 10:22:32,911] [    INFO] - We are using <class 'paddlenlp.transformers.ernie.tokenizer.ErnieTokenizer'> to load 'ernie-3.0-medium-zh'.\r\n[2022-11-15 10:22:32,911] [    INFO] - Downloading https://bj.bcebos.com/paddlenlp/models/transformers/ernie_3.0/ernie_3.0_medium_zh_vocab.txt and saved to /home/aistudio/.paddlenlp/models/ernie-3.0-medium-zh\r\n[2022-11-15 10:22:32,912] [    INFO] - Downloading ernie_3.0_medium_zh_vocab.txt from https://bj.bcebos.com/paddlenlp/models/transformers/ernie_3.0/ernie_3.0_medium_zh_vocab.txt\r\n100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 182k/182k [00:00<00:00, 27.1MB/s]\r\n[2022-11-15 10:22:32,990] [    INFO] - tokenizer config file saved in /home/aistudio/.paddlenlp/models/ernie-3.0-medium-zh/tokenizer_config.json\r\n[2022-11-15 10:22:32,991] [    INFO] - Special tokens file saved in /home/aistudio/.paddlenlp/models/ernie-3.0-medium-zh/special_tokens_map.json\r\n\u6570\u636e\u5df2\u52a0\u8f7d 240 1500\r\n\u5f00\u59cbepoch 1\r\nglobal step 10, epoch: 1, batch: 10, loss: 8.99321, speed: 0.86 step/s\r\nglobal step 20, epoch: 1, batch: 20, loss: 6.27184, speed: 0.88 step/s\r\nglobal step 30, epoch: 1, batch: 30, loss: 4.76376, speed: 0.88 step/s\r\nglobal step 40, epoch: 1, batch: 40, loss: 4.34881, speed: 0.88 step/s\r\nglobal step 50, epoch: 1, batch: 50, loss: 4.21099, speed: 0.85 step/s\r\nTraceback (most recent call last):\r\n  File \"pet.py\", line 334, in <module>\r\n    do_train(args)\r\n  File \"pet.py\", line 228, in do_train\r\n    loss.backward()\r\n  File \"<decorator-gen-133>\", line 2, in backward\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/wrapped_decorator.py\", line 25, in __impl__\r\n    return wrapped_func(*args, **kwargs)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/framework.py\", line 434, in __impl__\r\n    return func(*args, **kwargs)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/dygraph/varbase_patch_methods.py\", line 293, in backward\r\n    framework._dygraph_tracer())\r\nIndexError: (OutOfRange) The index is out of bounds, please check whether the dimensions of index and input meet the requirements. It should be less than 160, but received 160\r\n  [Hint: Expected index_val < max_index, but received index_val:160 >= max_index:160.] (at /paddle/paddle/phi/kernels/funcs/scatter.h:206)\n```\n\n\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\n\npython pet.py --task_name \"tnews\" --device cpu --pattern_id 4 --save_dir \"./tnews\" --index 0 --batch_size 4 --epochs 10 --language_model \"ernie-3.0-medium-zh\" ", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3761/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3761/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3754", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3754/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3754/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3754/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/3754", "id": 1447612846, "node_id": "I_kwDOFAsknM5WSNGu", "number": 3754, "title": "[Bug]: ppdiffusers bug", "user": {"login": "westfish", "id": 20476674, "node_id": "MDQ6VXNlcjIwNDc2Njc0", "avatar_url": "https://avatars.githubusercontent.com/u/20476674?v=4", "gravatar_id": "", "url": "https://api.github.com/users/westfish", "html_url": "https://github.com/westfish", "followers_url": "https://api.github.com/users/westfish/followers", "following_url": "https://api.github.com/users/westfish/following{/other_user}", "gists_url": "https://api.github.com/users/westfish/gists{/gist_id}", "starred_url": "https://api.github.com/users/westfish/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/westfish/subscriptions", "organizations_url": "https://api.github.com/users/westfish/orgs", "repos_url": "https://api.github.com/users/westfish/repos", "events_url": "https://api.github.com/users/westfish/events{/privacy}", "received_events_url": "https://api.github.com/users/westfish/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4882422102, "node_id": "LA_kwDOFAsknM8AAAABIwPZVg", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/stale", "name": "stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "JunnYu", "id": 50394665, "node_id": "MDQ6VXNlcjUwMzk0NjY1", "avatar_url": "https://avatars.githubusercontent.com/u/50394665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JunnYu", "html_url": "https://github.com/JunnYu", "followers_url": "https://api.github.com/users/JunnYu/followers", "following_url": "https://api.github.com/users/JunnYu/following{/other_user}", "gists_url": "https://api.github.com/users/JunnYu/gists{/gist_id}", "starred_url": "https://api.github.com/users/JunnYu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JunnYu/subscriptions", "organizations_url": "https://api.github.com/users/JunnYu/orgs", "repos_url": "https://api.github.com/users/JunnYu/repos", "events_url": "https://api.github.com/users/JunnYu/events{/privacy}", "received_events_url": "https://api.github.com/users/JunnYu/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "JunnYu", "id": 50394665, "node_id": "MDQ6VXNlcjUwMzk0NjY1", "avatar_url": "https://avatars.githubusercontent.com/u/50394665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JunnYu", "html_url": "https://github.com/JunnYu", "followers_url": "https://api.github.com/users/JunnYu/followers", "following_url": "https://api.github.com/users/JunnYu/following{/other_user}", "gists_url": "https://api.github.com/users/JunnYu/gists{/gist_id}", "starred_url": "https://api.github.com/users/JunnYu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JunnYu/subscriptions", "organizations_url": "https://api.github.com/users/JunnYu/orgs", "repos_url": "https://api.github.com/users/JunnYu/repos", "events_url": "https://api.github.com/users/JunnYu/events{/privacy}", "received_events_url": "https://api.github.com/users/JunnYu/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2022-11-14T08:31:02Z", "updated_at": "2023-01-28T00:16:32Z", "closed_at": "2023-01-28T00:16:32Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\n\n```Markdown\n- paddlepaddle:\r\n- paddlepaddle-gpu: \r\n- paddlenlp:\n```\n\n\n### \u91cd\u590d\u95ee\u9898\n\n- [X] I have searched the existing issues\n\n### \u9519\u8bef\u63cf\u8ff0\n\n```Markdown\n\u9519\u8bef\u63d0\u793a\uff1a\r\nAttributeError: 'int' object has no attribute 'numpy'\r\n\u51fa\u9519\u4f4d\u7f6e\uff1a\r\nPaddleNLP/ppdiffusers/models/embeddings.py\r\n- self.register_buffer(\"weight\", paddle.randn(embedding_size * scale)\r\n\u4fee\u6539\u610f\u89c1\uff1a\r\nself.register_buffer(\"weight\", paddle.randn((embedding_size, )) * scale)\r\n\r\n\r\n\u9519\u8bef\u63d0\u793a\uff1a\r\nAttributeError: 'int' object has no attribute 'numpy'\r\n\u51fa\u9519\u4f4d\u7f6e\uff1a\r\nPaddleNLP/ppdiffusers/pipelines/score_sde_ve/pipeline_score_sde_ve.py\r\n- sigma_t = self.scheduler.sigmas[i] * paddle.ones(shape[0])\r\n\u4fee\u6539\u610f\u89c1\uff1a\r\nsigma_t = self.scheduler.sigmas[i] * paddle.ones((shape[0], ))\r\n\r\n\r\n\r\n\u9519\u8bef\u63d0\u793a\uff1a\r\nAssertionError: input tesor dimension must be in [3, 4, 5] but got 6\r\n\u51fa\u9519\u4f4d\u7f6e\uff1a\r\nPaddleNLP/ppdiffusers/models/resnet.py\r\n    out = F.pad(out, [0, 0, 0, up_x - 1, 0, 0, 0, up_y - 1])\r\n    out = out.reshape([-1, in_h * up_y, in_w * up_x, minor])\n```\n\n\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\n\npython unconditional_image_generation-score_sde_ve.py", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3754/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3754/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3742", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3742/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3742/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3742/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/3742", "id": 1446692386, "node_id": "I_kwDOFAsknM5WOsYi", "number": 3742, "title": "[Bug]: PretrainedTokenizer\u7684save_vocabulary\u65b9\u6cd5\u662f\u9519\u8bef\u7684", "user": {"login": "boxiaowave", "id": 8451460, "node_id": "MDQ6VXNlcjg0NTE0NjA=", "avatar_url": "https://avatars.githubusercontent.com/u/8451460?v=4", "gravatar_id": "", "url": "https://api.github.com/users/boxiaowave", "html_url": "https://github.com/boxiaowave", "followers_url": "https://api.github.com/users/boxiaowave/followers", "following_url": "https://api.github.com/users/boxiaowave/following{/other_user}", "gists_url": "https://api.github.com/users/boxiaowave/gists{/gist_id}", "starred_url": "https://api.github.com/users/boxiaowave/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/boxiaowave/subscriptions", "organizations_url": "https://api.github.com/users/boxiaowave/orgs", "repos_url": "https://api.github.com/users/boxiaowave/repos", "events_url": "https://api.github.com/users/boxiaowave/events{/privacy}", "received_events_url": "https://api.github.com/users/boxiaowave/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4882422102, "node_id": "LA_kwDOFAsknM8AAAABIwPZVg", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/stale", "name": "stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "wj-Mcat", "id": 10242208, "node_id": "MDQ6VXNlcjEwMjQyMjA4", "avatar_url": "https://avatars.githubusercontent.com/u/10242208?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wj-Mcat", "html_url": "https://github.com/wj-Mcat", "followers_url": "https://api.github.com/users/wj-Mcat/followers", "following_url": "https://api.github.com/users/wj-Mcat/following{/other_user}", "gists_url": "https://api.github.com/users/wj-Mcat/gists{/gist_id}", "starred_url": "https://api.github.com/users/wj-Mcat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wj-Mcat/subscriptions", "organizations_url": "https://api.github.com/users/wj-Mcat/orgs", "repos_url": "https://api.github.com/users/wj-Mcat/repos", "events_url": "https://api.github.com/users/wj-Mcat/events{/privacy}", "received_events_url": "https://api.github.com/users/wj-Mcat/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "wj-Mcat", "id": 10242208, "node_id": "MDQ6VXNlcjEwMjQyMjA4", "avatar_url": "https://avatars.githubusercontent.com/u/10242208?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wj-Mcat", "html_url": "https://github.com/wj-Mcat", "followers_url": "https://api.github.com/users/wj-Mcat/followers", "following_url": "https://api.github.com/users/wj-Mcat/following{/other_user}", "gists_url": "https://api.github.com/users/wj-Mcat/gists{/gist_id}", "starred_url": "https://api.github.com/users/wj-Mcat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wj-Mcat/subscriptions", "organizations_url": "https://api.github.com/users/wj-Mcat/orgs", "repos_url": "https://api.github.com/users/wj-Mcat/repos", "events_url": "https://api.github.com/users/wj-Mcat/events{/privacy}", "received_events_url": "https://api.github.com/users/wj-Mcat/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2022-11-13T02:15:27Z", "updated_at": "2023-01-29T00:18:47Z", "closed_at": "2023-01-29T00:18:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\n\n```Markdown\n- paddlepaddle:2.3.1\r\n- paddlepaddle-gpu: 2.3.1\r\n- paddlenlp: 2.4.1\n```\n\n\n### \u91cd\u590d\u95ee\u9898\n\n- [X] I have searched the existing issues\n\n### \u9519\u8bef\u63cf\u8ff0\n\n```Markdown\nPretrainedTokenizer\u7684save_vocabulary\u65b9\u6cd5\u662f\u9519\u8bef\u7684\uff0c\u6e90\u7801\u4e2d\u7684\u65b9\u6cd5\uff1a\r\n\r\nif isinstance(vocab, Vocab):\r\n            tokens = vocab.idx_to_token\r\n        else:\r\n            tokens = sorted(vocab.keys(), key=lambda token: vocab[token])\r\n        with io.open(filepath, 'w', encoding='utf-8') as f:\r\n            for token in tokens:\r\n                f.write(token + '\\n')\r\n\r\ntokens\u8fd9\u91cc\u53d6\u7684\u662fidx_to_token\u8fd9\u4e2a\u5b57\u5178\uff0ckey\u662fid\uff0c\u5728\u5199\u5165\u6587\u4ef6\u65f6\u4f1a\u5c1d\u8bd5\u628aid\u5199\u5165\uff0c\u4f46\u662f\u8fd9\u4e2a\u51fd\u6570\u7684\u76ee\u7684\u662f\u628a\u5bf9\u5e94\u7684\u5b57\u5199\u5165\u6587\u4ef6\uff0c\u5e94\u8be5\u7528token_to_idx\u8fd9\u4e2a\u6210\u5458\u53d8\u91cf\n```\n\n\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\n\nt = AutoTokenizer.from_pretrained('ernie-3.0-xbase-zh')\r\nt.save_vocabulary(filepath='vocab.txt',vocab=t.vocab)", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3742/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3742/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3717", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3717/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3717/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3717/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/3717", "id": 1443373569, "node_id": "I_kwDOFAsknM5WCCIB", "number": 3717, "title": "[Bug]: applications-text_summarization-pegasus\u4f7f\u7528run_train.py\u51fa\u73b0\u95ee\u9898\uff0c\u73af\u5883\u7248\u672c\u4e0eaistudio\u4e00\u81f4\uff0c\u65e0\u6cd5\u8fd0\u884c", "user": {"login": "yangzijiang98", "id": 102526523, "node_id": "U_kgDOBhxuOw", "avatar_url": "https://avatars.githubusercontent.com/u/102526523?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yangzijiang98", "html_url": "https://github.com/yangzijiang98", "followers_url": "https://api.github.com/users/yangzijiang98/followers", "following_url": "https://api.github.com/users/yangzijiang98/following{/other_user}", "gists_url": "https://api.github.com/users/yangzijiang98/gists{/gist_id}", "starred_url": "https://api.github.com/users/yangzijiang98/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yangzijiang98/subscriptions", "organizations_url": "https://api.github.com/users/yangzijiang98/orgs", "repos_url": "https://api.github.com/users/yangzijiang98/repos", "events_url": "https://api.github.com/users/yangzijiang98/events{/privacy}", "received_events_url": "https://api.github.com/users/yangzijiang98/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4882422102, "node_id": "LA_kwDOFAsknM8AAAABIwPZVg", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/stale", "name": "stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "gongel", "id": 24390500, "node_id": "MDQ6VXNlcjI0MzkwNTAw", "avatar_url": "https://avatars.githubusercontent.com/u/24390500?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gongel", "html_url": "https://github.com/gongel", "followers_url": "https://api.github.com/users/gongel/followers", "following_url": "https://api.github.com/users/gongel/following{/other_user}", "gists_url": "https://api.github.com/users/gongel/gists{/gist_id}", "starred_url": "https://api.github.com/users/gongel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gongel/subscriptions", "organizations_url": "https://api.github.com/users/gongel/orgs", "repos_url": "https://api.github.com/users/gongel/repos", "events_url": "https://api.github.com/users/gongel/events{/privacy}", "received_events_url": "https://api.github.com/users/gongel/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gongel", "id": 24390500, "node_id": "MDQ6VXNlcjI0MzkwNTAw", "avatar_url": "https://avatars.githubusercontent.com/u/24390500?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gongel", "html_url": "https://github.com/gongel", "followers_url": "https://api.github.com/users/gongel/followers", "following_url": "https://api.github.com/users/gongel/following{/other_user}", "gists_url": "https://api.github.com/users/gongel/gists{/gist_id}", "starred_url": "https://api.github.com/users/gongel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gongel/subscriptions", "organizations_url": "https://api.github.com/users/gongel/orgs", "repos_url": "https://api.github.com/users/gongel/repos", "events_url": "https://api.github.com/users/gongel/events{/privacy}", "received_events_url": "https://api.github.com/users/gongel/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2022-11-10T07:11:56Z", "updated_at": "2023-01-25T00:17:30Z", "closed_at": "2023-01-25T00:17:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\n\n```Markdown\n- paddlepaddle:\r\n- paddlepaddle-gpu: 2.3.2\r\n- paddlenlp: 2.4.2\n```\n\n\n### \u91cd\u590d\u95ee\u9898\n\n- [X] I have searched the existing issues\n\n### \u9519\u8bef\u63cf\u8ff0\n\n```Markdown\n_init_parallel_ctx\r\n    __parallel_ctx__clz__.init()\r\nOSError: (External) NCCL error(1), unhandled cuda error. \r\n  [Hint: 'ncclUnhandledCudaError'. A call to a CUDA function failed.] (at /paddle/paddle/fluid/platform/collective_helper.cc:100)\r\n\r\nLAUNCH INFO 2022-11-10 15:08:16,662 Exit code 1\r\nINFO 2022-11-10 15:08:16,662 controller.py:124] Exit code 1\n```\n\n\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\n\nsh run_train.sh", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3717/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3717/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3691", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3691/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3691/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3691/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/3691", "id": 1437867809, "node_id": "I_kwDOFAsknM5VtB8h", "number": 3691, "title": "[Bug]: \u4f7f\u7528Taskflow\u8fdb\u884c\u60c5\u611f\u5206\u6790\u4efb\u52a1\u7684\u4e00\u952e\u9884\u6d4b\u7684\u65f6\u5019\u62a5\u9519", "user": {"login": "tigerbaby1515", "id": 31126890, "node_id": "MDQ6VXNlcjMxMTI2ODkw", "avatar_url": "https://avatars.githubusercontent.com/u/31126890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tigerbaby1515", "html_url": "https://github.com/tigerbaby1515", "followers_url": "https://api.github.com/users/tigerbaby1515/followers", "following_url": "https://api.github.com/users/tigerbaby1515/following{/other_user}", "gists_url": "https://api.github.com/users/tigerbaby1515/gists{/gist_id}", "starred_url": "https://api.github.com/users/tigerbaby1515/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tigerbaby1515/subscriptions", "organizations_url": "https://api.github.com/users/tigerbaby1515/orgs", "repos_url": "https://api.github.com/users/tigerbaby1515/repos", "events_url": "https://api.github.com/users/tigerbaby1515/events{/privacy}", "received_events_url": "https://api.github.com/users/tigerbaby1515/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4882422102, "node_id": "LA_kwDOFAsknM8AAAABIwPZVg", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/stale", "name": "stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "linjieccc", "id": 40840292, "node_id": "MDQ6VXNlcjQwODQwMjky", "avatar_url": "https://avatars.githubusercontent.com/u/40840292?v=4", "gravatar_id": "", "url": "https://api.github.com/users/linjieccc", "html_url": "https://github.com/linjieccc", "followers_url": "https://api.github.com/users/linjieccc/followers", "following_url": "https://api.github.com/users/linjieccc/following{/other_user}", "gists_url": "https://api.github.com/users/linjieccc/gists{/gist_id}", "starred_url": "https://api.github.com/users/linjieccc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/linjieccc/subscriptions", "organizations_url": "https://api.github.com/users/linjieccc/orgs", "repos_url": "https://api.github.com/users/linjieccc/repos", "events_url": "https://api.github.com/users/linjieccc/events{/privacy}", "received_events_url": "https://api.github.com/users/linjieccc/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "linjieccc", "id": 40840292, "node_id": "MDQ6VXNlcjQwODQwMjky", "avatar_url": "https://avatars.githubusercontent.com/u/40840292?v=4", "gravatar_id": "", "url": "https://api.github.com/users/linjieccc", "html_url": "https://github.com/linjieccc", "followers_url": "https://api.github.com/users/linjieccc/followers", "following_url": "https://api.github.com/users/linjieccc/following{/other_user}", "gists_url": "https://api.github.com/users/linjieccc/gists{/gist_id}", "starred_url": "https://api.github.com/users/linjieccc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/linjieccc/subscriptions", "organizations_url": "https://api.github.com/users/linjieccc/orgs", "repos_url": "https://api.github.com/users/linjieccc/repos", "events_url": "https://api.github.com/users/linjieccc/events{/privacy}", "received_events_url": "https://api.github.com/users/linjieccc/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2022-11-07T07:04:41Z", "updated_at": "2023-01-22T00:18:18Z", "closed_at": "2023-01-22T00:18:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\n\n```Markdown\n- paddlepaddle:\r\n- paddlepaddle-gpu: 2.3.2.post112\r\n- paddlenlp: 2.4.2\n```\n\n\n### \u91cd\u590d\u95ee\u9898\n\n- [X] I have searched the existing issues\n\n### \u9519\u8bef\u63cf\u8ff0\n\n```Markdown\n\u5229\u7528paddlenlp\u8fdb\u884c\u60c5\u611f\u5206\u6790\u4efb\u52a1\u4e00\u952e\u9884\u6d4b\u7684\u65f6\u5019\uff0c\u4f7f\u7528skep_ernie_1.0_large_ch\u6a21\u578b\u65f6\u4f1a\u62a5\u9519\n```\n\n\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\n\n>>> senta = Taskflow(\"sentiment_analysis\", model=\"skep_ernie_1.0_large_ch\")\r\n[2022-11-06 21:18:44,262] [    INFO] - Already cached /home/wanghan/.paddlenlp/models/skep_ernie_1.0_large_ch/skep_ernie_1.0_large_ch.vocab.txt\r\n[2022-11-06 21:18:44,268] [    INFO] - tokenizer config file saved in /home/wanghan/.paddlenlp/models/skep_ernie_1.0_large_ch/tokenizer_config.json\r\n[2022-11-06 21:18:44,268] [    INFO] - Special tokens file saved in /home/wanghan/.paddlenlp/models/skep_ernie_1.0_large_ch/special_tokens_map.json\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/home/wanghan/.conda/envs/paddle/lib/python3.8/site-packages/paddlenlp/taskflow/taskflow.py\", line 569, in __init__\r\n    self.task_instance = task_class(model=self.model,\r\n  File \"/home/wanghan/.conda/envs/paddle/lib/python3.8/site-packages/paddlenlp/taskflow/sentiment_analysis.py\", line 255, in __init__\r\n    self._get_inference_model()\r\n  File \"/home/wanghan/.conda/envs/paddle/lib/python3.8/site-packages/paddlenlp/taskflow/task.py\", line 245, in _get_inference_model\r\n    self._construct_model(self.model)\r\n  File \"/home/wanghan/.conda/envs/paddle/lib/python3.8/site-packages/paddlenlp/taskflow/sentiment_analysis.py\", line 264, in _construct_model\r\n    model_instance = SkepSequenceModel.from_pretrained(self._task_path,\r\n  File \"/home/wanghan/.conda/envs/paddle/lib/python3.8/site-packages/paddlenlp/transformers/model_utils.py\", line 348, in from_pretrained\r\n    base_model = cls.base_model_class(*base_args, **base_kwargs)\r\n  File \"/home/wanghan/.conda/envs/paddle/lib/python3.8/site-packages/paddlenlp/transformers/utils.py\", line 159, in __impl__\r\n    init_func(self, *args, **kwargs)\r\n  File \"/home/wanghan/.conda/envs/paddle/lib/python3.8/site-packages/paddlenlp/transformers/skep/modeling.py\", line 270, in __init__\r\n    self.embeddings = SkepEmbeddings(vocab_size, hidden_size,\r\n  File \"/home/wanghan/.conda/envs/paddle/lib/python3.8/site-packages/paddlenlp/transformers/skep/modeling.py\", line 54, in __init__\r\n    self.word_embeddings = nn.Embedding(vocab_size,\r\n  File \"/home/wanghan/.conda/envs/paddle/lib/python3.8/site-packages/paddle/nn/layer/common.py\", line 1461, in __init__\r\n    self.weight[padding_idx] = 0.0\r\n  File \"/home/wanghan/.conda/envs/paddle/lib/python3.8/site-packages/paddle/fluid/framework.py\", line 2189, in __setitem__\r\n    return _setitem_impl_(self, item, value)\r\n  File \"/home/wanghan/.conda/envs/paddle/lib/python3.8/site-packages/paddle/fluid/variable_index.py\", line 696, in _setitem_impl_\r\n    var._bump_inplace_version()\r\nAttributeError: 'Parameter' object has no attribute '_bump_inplace_version'\r\n", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3691/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3691/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3680", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3680/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3680/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3680/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/3680", "id": 1435976493, "node_id": "I_kwDOFAsknM5Vl0Mt", "number": 3680, "title": "[Question]: gpu \u8dd1chinese_bert \u7684 xnli, \u62a5\u9519", "user": {"login": "taixiurong", "id": 6076976, "node_id": "MDQ6VXNlcjYwNzY5NzY=", "avatar_url": "https://avatars.githubusercontent.com/u/6076976?v=4", "gravatar_id": "", "url": "https://api.github.com/users/taixiurong", "html_url": "https://github.com/taixiurong", "followers_url": "https://api.github.com/users/taixiurong/followers", "following_url": "https://api.github.com/users/taixiurong/following{/other_user}", "gists_url": "https://api.github.com/users/taixiurong/gists{/gist_id}", "starred_url": "https://api.github.com/users/taixiurong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/taixiurong/subscriptions", "organizations_url": "https://api.github.com/users/taixiurong/orgs", "repos_url": "https://api.github.com/users/taixiurong/repos", "events_url": "https://api.github.com/users/taixiurong/events{/privacy}", "received_events_url": "https://api.github.com/users/taixiurong/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4882422102, "node_id": "LA_kwDOFAsknM8AAAABIwPZVg", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/stale", "name": "stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "wj-Mcat", "id": 10242208, "node_id": "MDQ6VXNlcjEwMjQyMjA4", "avatar_url": "https://avatars.githubusercontent.com/u/10242208?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wj-Mcat", "html_url": "https://github.com/wj-Mcat", "followers_url": "https://api.github.com/users/wj-Mcat/followers", "following_url": "https://api.github.com/users/wj-Mcat/following{/other_user}", "gists_url": "https://api.github.com/users/wj-Mcat/gists{/gist_id}", "starred_url": "https://api.github.com/users/wj-Mcat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wj-Mcat/subscriptions", "organizations_url": "https://api.github.com/users/wj-Mcat/orgs", "repos_url": "https://api.github.com/users/wj-Mcat/repos", "events_url": "https://api.github.com/users/wj-Mcat/events{/privacy}", "received_events_url": "https://api.github.com/users/wj-Mcat/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "wj-Mcat", "id": 10242208, "node_id": "MDQ6VXNlcjEwMjQyMjA4", "avatar_url": "https://avatars.githubusercontent.com/u/10242208?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wj-Mcat", "html_url": "https://github.com/wj-Mcat", "followers_url": "https://api.github.com/users/wj-Mcat/followers", "following_url": "https://api.github.com/users/wj-Mcat/following{/other_user}", "gists_url": "https://api.github.com/users/wj-Mcat/gists{/gist_id}", "starred_url": "https://api.github.com/users/wj-Mcat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wj-Mcat/subscriptions", "organizations_url": "https://api.github.com/users/wj-Mcat/orgs", "repos_url": "https://api.github.com/users/wj-Mcat/repos", "events_url": "https://api.github.com/users/wj-Mcat/events{/privacy}", "received_events_url": "https://api.github.com/users/wj-Mcat/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2022-11-04T12:05:07Z", "updated_at": "2023-01-30T00:15:13Z", "closed_at": "2023-01-30T00:15:13Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### \u8bf7\u63d0\u51fa\u4f60\u7684\u95ee\u9898\n\n![1372219de945bee36b576379af2853fd](https://user-images.githubusercontent.com/6076976/199968511-1eee5921-e46a-4b80-9c1b-172d4819ebbc.png)\r\ngpu\u4e0a\uff0c\u8dd1\u76f4\u63a5\u62a5\u9519\u3002", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3680/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3680/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3671", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3671/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3671/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3671/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/3671", "id": 1435103497, "node_id": "I_kwDOFAsknM5VifEJ", "number": 3671, "title": "[Bug]: \u7ee7\u7eed\u5728\u81ea\u5b9a\u4e49\u6570\u636e\u4e0a\u9884\u8bad\u7ec3ernie3\uff0c\u5f53\u4e2d\u65ad\u8bad\u7ec3resume\u540e\uff0c\u5728save_step\u65f6\u4f1a\u62a5\u627e\u4e0d\u5230vocab.txt", "user": {"login": "zouhan6806504", "id": 94092329, "node_id": "U_kgDOBZu8KQ", "avatar_url": "https://avatars.githubusercontent.com/u/94092329?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zouhan6806504", "html_url": "https://github.com/zouhan6806504", "followers_url": "https://api.github.com/users/zouhan6806504/followers", "following_url": "https://api.github.com/users/zouhan6806504/following{/other_user}", "gists_url": "https://api.github.com/users/zouhan6806504/gists{/gist_id}", "starred_url": "https://api.github.com/users/zouhan6806504/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zouhan6806504/subscriptions", "organizations_url": "https://api.github.com/users/zouhan6806504/orgs", "repos_url": "https://api.github.com/users/zouhan6806504/repos", "events_url": "https://api.github.com/users/zouhan6806504/events{/privacy}", "received_events_url": "https://api.github.com/users/zouhan6806504/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4882422102, "node_id": "LA_kwDOFAsknM8AAAABIwPZVg", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/stale", "name": "stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "ZHUI", "id": 16911935, "node_id": "MDQ6VXNlcjE2OTExOTM1", "avatar_url": "https://avatars.githubusercontent.com/u/16911935?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ZHUI", "html_url": "https://github.com/ZHUI", "followers_url": "https://api.github.com/users/ZHUI/followers", "following_url": "https://api.github.com/users/ZHUI/following{/other_user}", "gists_url": "https://api.github.com/users/ZHUI/gists{/gist_id}", "starred_url": "https://api.github.com/users/ZHUI/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ZHUI/subscriptions", "organizations_url": "https://api.github.com/users/ZHUI/orgs", "repos_url": "https://api.github.com/users/ZHUI/repos", "events_url": "https://api.github.com/users/ZHUI/events{/privacy}", "received_events_url": "https://api.github.com/users/ZHUI/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ZHUI", "id": 16911935, "node_id": "MDQ6VXNlcjE2OTExOTM1", "avatar_url": "https://avatars.githubusercontent.com/u/16911935?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ZHUI", "html_url": "https://github.com/ZHUI", "followers_url": "https://api.github.com/users/ZHUI/followers", "following_url": "https://api.github.com/users/ZHUI/following{/other_user}", "gists_url": "https://api.github.com/users/ZHUI/gists{/gist_id}", "starred_url": "https://api.github.com/users/ZHUI/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ZHUI/subscriptions", "organizations_url": "https://api.github.com/users/ZHUI/orgs", "repos_url": "https://api.github.com/users/ZHUI/repos", "events_url": "https://api.github.com/users/ZHUI/events{/privacy}", "received_events_url": "https://api.github.com/users/ZHUI/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2022-11-03T18:34:11Z", "updated_at": "2023-01-18T00:17:32Z", "closed_at": "2023-01-18T00:17:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\n\n```Markdown\n- paddlepaddle:\r\n- paddlepaddle-gpu: 2.3.2\r\n- paddlenlp: 2.4.2\r\n\u4f7f\u7528\u6700\u8fd1\u7684devlop\u7248\u672c\uff0caistudio\u73af\u5883\n```\n\n\n### \u91cd\u590d\u95ee\u9898\n\n- [X] I have searched the existing issues\n\n### \u9519\u8bef\u63cf\u8ff0\n\n```Markdown\nsave_steps\u65f6\uff0c\u4f1a\u4e22\u5931vocab.txt\n```\n\n\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\n\nresume\u8bad\u7ec3\u547d\u4ee4\uff0c\u4ece13000\u5f00\u59cb\u8bad\u7ec3\uff0c\u7ed3\u679c15000\u62a5\u9519\u7684\u65f6\u5019\uff0c\u627e\u4e0d\u5230vocab.txt\uff0c\u6211\u53bbmodel_last\u770b\u4e86\u770b\u5c11\u4e86\u8fd9\u4e2a\uff0c\u4e8e\u662fcopy\u4e86\u4e00\u4efd\u8fc7\u6765\uff0c\u63a5\u7740\u7ee7\u7eed\u4ece14000\u5f00\u59cb\uff0c15000\u62a5\u5b58\u6b63\u5e38\uff0c\u7136\u540e\u4e0b\u4e00\u4e2a20000\u6b65\u65f6\u53c8\u53d1\u751f\u4e86\u8fd9\u4e2a\u95ee\u9898\r\n```\r\n!python3 -u  -m paddle.distributed.launch \\\r\n    --gpus \"0,1,2,3\" \\\r\n    --log_dir \"/home/aistudio/work\" \\\r\n    /home/aistudio/PaddleNLP-develop/model_zoo/ernie-1.0/run_pretrain.py \\\r\n    --model_type \"ernie\" \\\r\n    --model_name_or_path \"/home/aistudio/work/out/model_last\" \\\r\n    --tokenizer_name_or_path \"/home/aistudio/work/out/model_last\" \\\r\n    --continue_training True \\\r\n    --input_dir \"/home/aistudio/work/data/\" \\\r\n    --output_dir \"/home/aistudio/work/out\" \\\r\n    --split 800,100,100 \\\r\n    --max_seq_len 512 \\\r\n    --binary_head true \\\r\n    --micro_batch_size 32 \\\r\n    --max_lr 0.0001 \\\r\n    --min_lr 0.00001 \\\r\n    --max_steps 200000 \\\r\n    --save_steps 5000 \\\r\n    --checkpoint_steps 1000 \\\r\n    --decay_steps 190000 \\\r\n    --weight_decay 0.01 \\\r\n    --warmup_rate 0.01 \\\r\n    --grad_clip 1.0 \\\r\n    --logging_freq 100 \\\r\n    --num_workers 3 \\\r\n    --eval_freq 1000 \\\r\n    --device \"gpu\"\\\r\n    --share_folder true \\\r\n    --hidden_dropout_prob 0.1 \\\r\n    --attention_probs_dropout_prob 0.1 \\\r\n    --seed 222 \r\n```\r\n\r\n\u5f02\u5e38\u4fe1\u606f\r\n```\r\n[2022-11-04 02:01:12,119] [   DEBUG] - saving models to /home/aistudio/work/out/model_20000\r\n[2022-11-04 02:01:12,120] [    INFO] - tokenizer config file saved in /home/aistudio/work/out/model_20000/tokenizer_config.json\r\n[2022-11-04 02:01:12,120] [    INFO] - Special tokens file saved in /home/aistudio/work/out/model_20000/special_tokens_map.json\r\n[2022-11-04 02:01:12,130] [    INFO] - added tokens file saved in /home/aistudio/work/out/model_20000/added_tokens.json\r\nTraceback (most recent call last):\r\n  File \"/home/aistudio/PaddleNLP-develop/model_zoo/ernie-1.0/run_pretrain.py\", line 790, in <module>\r\n    do_train(config)\r\n  File \"/home/aistudio/PaddleNLP-develop/model_zoo/ernie-1.0/run_pretrain.py\", line 749, in do_train\r\n    args, global_step)\r\n  File \"/home/aistudio/PaddleNLP-develop/model_zoo/ernie-1.0/run_pretrain.py\", line 719, in save_ckpt\r\n    tokenizer.save_pretrained(output_dir)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlenlp/transformers/tokenizer_utils_base.py\", line 1796, in save_pretrained\r\n    filename_prefix=filename_prefix,\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlenlp/transformers/tokenizer_utils_base.py\", line 1821, in _save_pretrained\r\n    self.save_resources(save_directory)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlenlp/transformers/tokenizer_utils_base.py\", line 1837, in save_resources\r\n    copyfile(src_path, dst_path)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/shutil.py\", line 120, in copyfile\r\n    with open(src, 'rb') as fsrc:\r\nFileNotFoundError: [Errno 2] No such file or directory: '/home/aistudio/work/out/model_last/vocab.txt'\r\nINFO 2022-11-04 02:01:21,760 launch_utils.py:322] terminate process group gid:16691\r\nINFO 2022-11-04 02:01:21,760 launch_utils.py:322] terminate process group gid:16691\r\nINFO 2022-11-04 02:01:21,761 launch_utils.py:322] terminate process group gid:16696\r\n```\r\n\u611f\u89c9\u662f\u4e0d\u662fsave_steps\u548ccheckpoint_steps\u8981\u8bbe\u6210\u4e00\u81f4\u554a\uff1f", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3671/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3671/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3664", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3664/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3664/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3664/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/3664", "id": 1434284698, "node_id": "I_kwDOFAsknM5VfXKa", "number": 3664, "title": "[Bug]: \u7cbe\u8c03UIE\u6a21\u578b\u62a5\u9519", "user": {"login": "joesong168", "id": 10493864, "node_id": "MDQ6VXNlcjEwNDkzODY0", "avatar_url": "https://avatars.githubusercontent.com/u/10493864?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joesong168", "html_url": "https://github.com/joesong168", "followers_url": "https://api.github.com/users/joesong168/followers", "following_url": "https://api.github.com/users/joesong168/following{/other_user}", "gists_url": "https://api.github.com/users/joesong168/gists{/gist_id}", "starred_url": "https://api.github.com/users/joesong168/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joesong168/subscriptions", "organizations_url": "https://api.github.com/users/joesong168/orgs", "repos_url": "https://api.github.com/users/joesong168/repos", "events_url": "https://api.github.com/users/joesong168/events{/privacy}", "received_events_url": "https://api.github.com/users/joesong168/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4882422102, "node_id": "LA_kwDOFAsknM8AAAABIwPZVg", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/stale", "name": "stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 15, "created_at": "2022-11-03T08:31:38Z", "updated_at": "2023-01-28T00:16:45Z", "closed_at": "2023-01-28T00:16:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\n\n```Markdown\n- paddlepaddle:\r\n- paddlepaddle-gpu: 2.3.2\r\n- paddlenlp: 2.4\n```\n\n\n### \u91cd\u590d\u95ee\u9898\n\n- [X] I have searched the existing issues\n\n### \u9519\u8bef\u63cf\u8ff0\n\n```Markdown\nTraceback (most recent call last):\r\n  File \"/home/aistudio/PaddleNLP/model_zoo/uie/finetune.py\", line 287, in <module>\r\n    main()\r\n  File \"/home/aistudio/PaddleNLP/model_zoo/uie/finetune.py\", line 209, in main\r\n    train_result = trainer.train(resume_from_checkpoint=checkpoint)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlenlp/trainer/trainer_base.py\", line 582, in train\r\n    ignore_keys_for_eval)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlenlp/trainer/trainer_base.py\", line 710, in _maybe_log_save_evaluate\r\n    metrics = self.evaluate(ignore_keys=ignore_keys_for_eval)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlenlp/trainer/trainer_base.py\", line 1324, in evaluate\r\n    metric_key_prefix=metric_key_prefix,\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlenlp/trainer/trainer_base.py\", line 1423, in evaluation_loop\r\n    ignore_keys=ignore_keys)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlenlp/trainer/trainer_base.py\", line 1605, in prediction_step\r\n    outputs = model(**inputs)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/dygraph/layers.py\", line 930, in __call__\r\n    return self._dygraph_call_func(*inputs, **kwargs)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/dygraph/layers.py\", line 915, in _dygraph_call_func\r\n    outputs = self.forward(*inputs, **kwargs)\r\nTypeError: forward() got an unexpected keyword argument 'start_positions'\n```\n\n\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\n\npython3 /home/aistudio/PaddleNLP/model_zoo/uie/finetune.py  \\\r\n    --device gpu \\\r\n    --logging_steps 10 \\\r\n    --save_steps 100 \\\r\n    --eval_steps 100 \\\r\n    --seed 42 \\\r\n    --model_name_or_path uie-base \\\r\n    --output_dir $finetuned_model \\\r\n    --train_path data/train.txt \\\r\n    --dev_path data/dev.txt  \\\r\n    --max_seq_length 512  \\\r\n    --per_device_eval_batch_size 16 \\\r\n    --per_device_train_batch_size  16 \\\r\n    --num_train_epochs 100 \\\r\n    --learning_rate 1e-5 \\\r\n    --do_train \\\r\n    --do_eval \\\r\n    --do_export \\\r\n    --export_model_dir $finetuned_model \\\r\n    --overwrite_output_dir \\\r\n    --disable_tqdm True \\\r\n    --metric_for_best_model eval_f1 \\\r\n    --load_best_model_at_end  True \\\r\n    --save_total_limit 1", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3664/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3664/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3650", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3650/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3650/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3650/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/3650", "id": 1432907124, "node_id": "I_kwDOFAsknM5VaG10", "number": 3650, "title": "[Bug]: StableDiffusionPipelineAllinOne \u7684 inpaint \u65b9\u6cd5\u62a5\u9519", "user": {"login": "ryanqx", "id": 11242425, "node_id": "MDQ6VXNlcjExMjQyNDI1", "avatar_url": "https://avatars.githubusercontent.com/u/11242425?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ryanqx", "html_url": "https://github.com/ryanqx", "followers_url": "https://api.github.com/users/ryanqx/followers", "following_url": "https://api.github.com/users/ryanqx/following{/other_user}", "gists_url": "https://api.github.com/users/ryanqx/gists{/gist_id}", "starred_url": "https://api.github.com/users/ryanqx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ryanqx/subscriptions", "organizations_url": "https://api.github.com/users/ryanqx/orgs", "repos_url": "https://api.github.com/users/ryanqx/repos", "events_url": "https://api.github.com/users/ryanqx/events{/privacy}", "received_events_url": "https://api.github.com/users/ryanqx/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4882422102, "node_id": "LA_kwDOFAsknM8AAAABIwPZVg", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/stale", "name": "stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "JunnYu", "id": 50394665, "node_id": "MDQ6VXNlcjUwMzk0NjY1", "avatar_url": "https://avatars.githubusercontent.com/u/50394665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JunnYu", "html_url": "https://github.com/JunnYu", "followers_url": "https://api.github.com/users/JunnYu/followers", "following_url": "https://api.github.com/users/JunnYu/following{/other_user}", "gists_url": "https://api.github.com/users/JunnYu/gists{/gist_id}", "starred_url": "https://api.github.com/users/JunnYu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JunnYu/subscriptions", "organizations_url": "https://api.github.com/users/JunnYu/orgs", "repos_url": "https://api.github.com/users/JunnYu/repos", "events_url": "https://api.github.com/users/JunnYu/events{/privacy}", "received_events_url": "https://api.github.com/users/JunnYu/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "JunnYu", "id": 50394665, "node_id": "MDQ6VXNlcjUwMzk0NjY1", "avatar_url": "https://avatars.githubusercontent.com/u/50394665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JunnYu", "html_url": "https://github.com/JunnYu", "followers_url": "https://api.github.com/users/JunnYu/followers", "following_url": "https://api.github.com/users/JunnYu/following{/other_user}", "gists_url": "https://api.github.com/users/JunnYu/gists{/gist_id}", "starred_url": "https://api.github.com/users/JunnYu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JunnYu/subscriptions", "organizations_url": "https://api.github.com/users/JunnYu/orgs", "repos_url": "https://api.github.com/users/JunnYu/repos", "events_url": "https://api.github.com/users/JunnYu/events{/privacy}", "received_events_url": "https://api.github.com/users/JunnYu/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2022-11-02T10:39:21Z", "updated_at": "2023-01-16T00:16:48Z", "closed_at": "2023-01-16T00:16:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\n\n```Markdown\npaddle-bfloat                  0.1.7\r\npaddle2onnx                    1.0.0\r\npaddlefsl                      1.1.0\r\npaddlehub                      2.3.0\r\npaddlenlp                      2.4.2\r\npaddlepaddle-gpu               2.3.2.post112\r\ntb-paddle                      0.3.6\n```\n\n\n### \u91cd\u590d\u95ee\u9898\n\n- [X] I have searched the existing issues\n\n### \u9519\u8bef\u63cf\u8ff0\n\n```Markdown\n\u4f7f\u7528 StableDiffusionPipelineAllinOne \u7684 inpaint \u65b9\u6cd5\uff0cLine 1203\u884c\u62a5\u9519\uff1a\r\n\r\n\r\n~/.data/webide/pip/lib/python3.7/site-packages/ppdiffusers/pipelines/stable_diffusion/pipeline_stable_diffusion_all_in_one.py in inpaint(self, prompt, init_image, mask_image, height, width, strength, num_inference_steps, guidance_scale, negative_prompt, num_images_per_prompt, eta, seed, output_type, return_dict, callback, callback_steps, max_embeddings_multiples, no_boseos_middle, skip_parsing, skip_weighting, **kwargs)\r\n   1201             init_image = preprocess_image(init_image)\r\n   1202 \r\n-> 1203         init_image.resize((width, height))\r\n   1204         # encode the init image into latents and scale the latents\r\n   1205         latents_dtype = text_embeddings.dtype\r\n\r\nAttributeError: 'Tensor' object has no attribute 'resize'\n```\n\n\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\n\n```\r\n        # preprocess image\r\n        if not isinstance(init_image, paddle.Tensor):\r\n            init_image = init_image.resize((width, height))\r\n            init_image = preprocess_image(init_image)\r\n\r\n        init_image.resize((width, height))\r\n        # encode the init image into latents and scale the latents\r\n        latents_dtype = text_embeddings.dtype\r\n```\r\n\r\n\u7b2c\u4e8c\u4e2ainit_image.resize((width, height))\u662f\u9519\u7684\uff0c\u4e0a\u9762\u7684\u4ee3\u7801\u5df2\u7ecf\u628ainit_image\u8f6c\u6210paddle.Tensor\u4e86\uff0c\u8fd9\u4e2aresize\u5e94\u8be5\u5220\u6389\u3002", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3650/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3650/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3634", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3634/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3634/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3634/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/3634", "id": 1430847415, "node_id": "I_kwDOFAsknM5VSP-3", "number": 3634, "title": "[Bug]: [question generation] template 3 NameError: name 'tokenizer' is not defined", "user": {"login": "shm007g", "id": 16999665, "node_id": "MDQ6VXNlcjE2OTk5NjY1", "avatar_url": "https://avatars.githubusercontent.com/u/16999665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shm007g", "html_url": "https://github.com/shm007g", "followers_url": "https://api.github.com/users/shm007g/followers", "following_url": "https://api.github.com/users/shm007g/following{/other_user}", "gists_url": "https://api.github.com/users/shm007g/gists{/gist_id}", "starred_url": "https://api.github.com/users/shm007g/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shm007g/subscriptions", "organizations_url": "https://api.github.com/users/shm007g/orgs", "repos_url": "https://api.github.com/users/shm007g/repos", "events_url": "https://api.github.com/users/shm007g/events{/privacy}", "received_events_url": "https://api.github.com/users/shm007g/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "westfish", "id": 20476674, "node_id": "MDQ6VXNlcjIwNDc2Njc0", "avatar_url": "https://avatars.githubusercontent.com/u/20476674?v=4", "gravatar_id": "", "url": "https://api.github.com/users/westfish", "html_url": "https://github.com/westfish", "followers_url": "https://api.github.com/users/westfish/followers", "following_url": "https://api.github.com/users/westfish/following{/other_user}", "gists_url": "https://api.github.com/users/westfish/gists{/gist_id}", "starred_url": "https://api.github.com/users/westfish/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/westfish/subscriptions", "organizations_url": "https://api.github.com/users/westfish/orgs", "repos_url": "https://api.github.com/users/westfish/repos", "events_url": "https://api.github.com/users/westfish/events{/privacy}", "received_events_url": "https://api.github.com/users/westfish/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "westfish", "id": 20476674, "node_id": "MDQ6VXNlcjIwNDc2Njc0", "avatar_url": "https://avatars.githubusercontent.com/u/20476674?v=4", "gravatar_id": "", "url": "https://api.github.com/users/westfish", "html_url": "https://github.com/westfish", "followers_url": "https://api.github.com/users/westfish/followers", "following_url": "https://api.github.com/users/westfish/following{/other_user}", "gists_url": "https://api.github.com/users/westfish/gists{/gist_id}", "starred_url": "https://api.github.com/users/westfish/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/westfish/subscriptions", "organizations_url": "https://api.github.com/users/westfish/orgs", "repos_url": "https://api.github.com/users/westfish/repos", "events_url": "https://api.github.com/users/westfish/events{/privacy}", "received_events_url": "https://api.github.com/users/westfish/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2022-11-01T04:21:30Z", "updated_at": "2022-11-02T06:48:48Z", "closed_at": "2022-11-02T06:48:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\r\n\r\n```Markdown\r\n- paddlepaddle: 2.3.2\r\n- paddlepaddle-gpu: None\r\n- paddlenlp: 2.4.2\r\n```\r\n\r\n\r\n### \u91cd\u590d\u95ee\u9898\r\n\r\n- [X] I have searched the existing issues\r\n\r\n### \u9519\u8bef\u63cf\u8ff0\r\n\r\n```Markdown\r\n\\paddlenlp\\taskflow\\question_generation.py\", line 194, in _convert_example\r\n\r\nsource = '\u8fd9\u662f\u4e00\u4e2a\u95ee\u9898\u751f\u6210\u4efb\u52a1\uff0c\u6839\u636e\u63d0\u4f9b\u7684\u7b54\u6848\u548c\u4e0a\u4e0b\u6587\uff0c\u6765\u751f\u6210\u95ee\u9898\u3002' + title + tokenizer.sep_token + '\u4e0a\u4e0b\u6587\uff1a' + source\r\nNameError: name 'tokenizer' is not defined\r\n```\r\n\r\n\u8fd9\u91cc\u4ee3\u7801\u6709\u95ee\u9898\uff0ctemplate 3 \u5199\u4e86\u4e00\u4e2a\u6ca1\u5b9a\u4e49\u7684tokenizer\u3002unittest\u8981\u8ddf\u8fdb\u554a\u767e\u5ea6gg\u4eec\u3002\r\n```\r\n\r\n\r\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\r\n\r\nTaskflow(\r\n    \"question_generation\",\r\n    model='unimo-text-1.0-question-generation-dureader_qg',\r\n    # model='unimo-text-1.0-question-generation',\r\n    # model='unimo-text-1.0-dureader_qg',\r\n    # model='unimo-text-1.0',\r\n    template=3,\r\n    device='cpu',\r\n    min_length=1,\r\n    num_beams=15,\r\n    num_return_sequences=10,\r\n    is_select_from_num_return_sequences=False,\r\n    output_scores=True,\r\n)", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3634/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3634/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3599", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3599/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3599/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3599/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/3599", "id": 1426760622, "node_id": "I_kwDOFAsknM5VCqOu", "number": 3599, "title": "[Bug]: uie\u6a21\u578b\u90e8\u7f72\u62a5\u9519\uff0c\u663e\u793aGPU\u4e0d\u53ef\u7528CUDAExecutionProvider\uff0cCPU\u53ef\u4ee5\u7528", "user": {"login": "done520", "id": 111326875, "node_id": "U_kgDOBqK2mw", "avatar_url": "https://avatars.githubusercontent.com/u/111326875?v=4", "gravatar_id": "", "url": "https://api.github.com/users/done520", "html_url": "https://github.com/done520", "followers_url": "https://api.github.com/users/done520/followers", "following_url": "https://api.github.com/users/done520/following{/other_user}", "gists_url": "https://api.github.com/users/done520/gists{/gist_id}", "starred_url": "https://api.github.com/users/done520/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/done520/subscriptions", "organizations_url": "https://api.github.com/users/done520/orgs", "repos_url": "https://api.github.com/users/done520/repos", "events_url": "https://api.github.com/users/done520/events{/privacy}", "received_events_url": "https://api.github.com/users/done520/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4882422102, "node_id": "LA_kwDOFAsknM8AAAABIwPZVg", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/stale", "name": "stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "linjieccc", "id": 40840292, "node_id": "MDQ6VXNlcjQwODQwMjky", "avatar_url": "https://avatars.githubusercontent.com/u/40840292?v=4", "gravatar_id": "", "url": "https://api.github.com/users/linjieccc", "html_url": "https://github.com/linjieccc", "followers_url": "https://api.github.com/users/linjieccc/followers", "following_url": "https://api.github.com/users/linjieccc/following{/other_user}", "gists_url": "https://api.github.com/users/linjieccc/gists{/gist_id}", "starred_url": "https://api.github.com/users/linjieccc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/linjieccc/subscriptions", "organizations_url": "https://api.github.com/users/linjieccc/orgs", "repos_url": "https://api.github.com/users/linjieccc/repos", "events_url": "https://api.github.com/users/linjieccc/events{/privacy}", "received_events_url": "https://api.github.com/users/linjieccc/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "linjieccc", "id": 40840292, "node_id": "MDQ6VXNlcjQwODQwMjky", "avatar_url": "https://avatars.githubusercontent.com/u/40840292?v=4", "gravatar_id": "", "url": "https://api.github.com/users/linjieccc", "html_url": "https://github.com/linjieccc", "followers_url": "https://api.github.com/users/linjieccc/followers", "following_url": "https://api.github.com/users/linjieccc/following{/other_user}", "gists_url": "https://api.github.com/users/linjieccc/gists{/gist_id}", "starred_url": "https://api.github.com/users/linjieccc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/linjieccc/subscriptions", "organizations_url": "https://api.github.com/users/linjieccc/orgs", "repos_url": "https://api.github.com/users/linjieccc/repos", "events_url": "https://api.github.com/users/linjieccc/events{/privacy}", "received_events_url": "https://api.github.com/users/linjieccc/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 14, "created_at": "2022-10-28T06:34:58Z", "updated_at": "2023-01-14T00:16:22Z", "closed_at": "2023-01-14T00:16:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\n\n```Markdown\npaddle-bfloat        0.1.7\r\npaddle2onnx          1.0.1\r\npaddlefsl            1.1.0\r\npaddlenlp            2.4.2\r\npaddlepaddle-gpu     2.3.2.post101\r\nonnx                 1.12.2\r\nonnxconverter-common 1.12.2\r\nonnxruntime-gpu      1.13.1\n```\n\n\n### \u91cd\u590d\u95ee\u9898\n\n- [X] I have searched the existing issues\n\n### \u9519\u8bef\u63cf\u8ff0\n\n```Markdown\nPaddlePaddle-gpu\u53ef\u7528\uff0c\u4f46\u662fpaddlenlp\u65e0\u6cd5\u4f7f\u7528gpu:\r\n----------------------------------------\r\nPython 3.7.11 (default, Jul 27 2021, 14:32:16) \r\n[GCC 7.5.0] :: Anaconda, Inc. on linux\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> import paddle \r\n>>> paddle.utils.run_check()\r\nRunning verify PaddlePaddle program ... \r\nW1028 14:25:17.988360 10222 gpu_resources.cc:61] Please NOTE: device: 0, GPU Compute Capability: 7.5, Driver API Version: 11.2, Runtime API Version: 10.1\r\nW1028 14:25:18.120314 10222 gpu_resources.cc:91] device: 0, cuDNN Version: 7.6.\r\nPaddlePaddle works well on 1 GPU.\r\nPaddlePaddle works well on 1 GPUs.\r\nPaddlePaddle is installed successfully! Let's start deep learning with PaddlePaddle now.\r\n>>> \r\n-----------------------------------\r\n\u53c2\u8003\uff1ahttps://github.com/PaddlePaddle/PaddleNLP/tree/develop/model_zoo/uie#%E6%A8%A1%E5%9E%8B%E9%83%A8%E7%BD%B2\r\n\u5bfc\u51fauie\u6a21\u578b\uff0c\u7136\u540e\u4f7f\u7528\uff1apython deploy/python/infer_gpu.py --model_path_prefix export/inference --use_fp16 --device_id 0 \u62a5\u9519\uff1a\r\n2022-10-28 14:30:49,033] [    INFO] - We are using <class 'paddlenlp.transformers.ernie.tokenizer.ErnieTokenizer'> to load 'ernie-3.0-base-zh'.\r\n[2022-10-28 14:30:49,033] [    INFO] - Already cached /home/user/.paddlenlp/models/ernie-3.0-base-zh/ernie_3.0_base_zh_vocab.txt\r\n[2022-10-28 14:30:49,088] [    INFO] - tokenizer config file saved in /home/user/.paddlenlp/models/ernie-3.0-base-zh/tokenizer_config.json\r\n[2022-10-28 14:30:49,089] [    INFO] - Special tokens file saved in /home/user/.paddlenlp/models/ernie-3.0-base-zh/special_tokens_map.json\r\n>>> [InferBackend] Creating Engine ...\r\n[Paddle2ONNX] Start to parse PaddlePaddle model...\r\n[Paddle2ONNX] Model file path: export/inference.pdmodel\r\n[Paddle2ONNX] Paramters file path: export/inference.pdiparams\r\n[Paddle2ONNX] Start to parsing Paddle model...\r\n[Paddle2ONNX] Use opset_version = 13 for ONNX export.\r\n[Paddle2ONNX] PaddlePaddle model is exported as ONNX format now.\r\n>>> [InferBackend] Use GPU to inference ...\r\n2022-10-28 14:31:01.979889643 [W:onnxruntime:Default, onnxruntime_pybind_state.cc:578 CreateExecutionProviderInstance] Failed to create CUDAExecutionProvider. Please reference https://onnxruntime.ai/docs/reference/execution-providers/CUDA-ExecutionProvider.html#requirements to ensure all dependencies are met.\r\nTraceback (most recent call last):\r\n  File \"deploy/python/infer_gpu.py\", line 101, in <module>\r\n    main()\r\n  File \"deploy/python/infer_gpu.py\", line 74, in main\r\n    predictor = UIEPredictor(args)\r\n  File \"/data/1_qunosen/project/key_pharse/uie/deploy/python/uie_predictor.py\", line 103, in __init__\r\n    device_id=args.device_id)\r\n  File \"/data/1_qunosen/project/key_pharse/uie/deploy/python/uie_predictor.py\", line 67, in __init__\r\n    assert 'CUDAExecutionProvider' in self.predictor.get_providers(), f\"The environment for GPU inference is not set properly. \" \\\r\nAssertionError: The environment for GPU inference is not set properly. A possible cause is that you had installed both onnxruntime and onnxruntime-gpu. Please run the following commands to reinstall: \r\n 1) pip uninstall -y onnxruntime onnxruntime-gpu \r\n 2) pip install onnxruntime-gpu\r\n\r\n\u53e6\u5916\uff0c\u5c1d\u8bd5\u5c06onnx\u964d\u7ea7\u4e3a1.9.0\uff0cGpu\u63a8\u7406\u4ecd\u662f\u76f8\u540c\u7684\u9519\u8bef\n```\n\n\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\n\nCPU\u53ef\u7528\uff1apython deploy/python/infer_cpu.py --model_path_prefix export/inference\r\n\r\nGPU\u4e0d\u53ef\u7528\uff1apython deploy/python/infer_gpu.py --model_path_prefix export/inference", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3599/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3599/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3564", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3564/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3564/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3564/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/3564", "id": 1424945925, "node_id": "I_kwDOFAsknM5U7vMF", "number": 3564, "title": "[Bug]: pipelines\u524d\u7aef\u9875\u9762\u4f1a\u91cd\u590d\u4e0a\u4f20\u6587\u4ef6", "user": {"login": "superzhaoyy", "id": 8530746, "node_id": "MDQ6VXNlcjg1MzA3NDY=", "avatar_url": "https://avatars.githubusercontent.com/u/8530746?v=4", "gravatar_id": "", "url": "https://api.github.com/users/superzhaoyy", "html_url": "https://github.com/superzhaoyy", "followers_url": "https://api.github.com/users/superzhaoyy/followers", "following_url": "https://api.github.com/users/superzhaoyy/following{/other_user}", "gists_url": "https://api.github.com/users/superzhaoyy/gists{/gist_id}", "starred_url": "https://api.github.com/users/superzhaoyy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/superzhaoyy/subscriptions", "organizations_url": "https://api.github.com/users/superzhaoyy/orgs", "repos_url": "https://api.github.com/users/superzhaoyy/repos", "events_url": "https://api.github.com/users/superzhaoyy/events{/privacy}", "received_events_url": "https://api.github.com/users/superzhaoyy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4882422102, "node_id": "LA_kwDOFAsknM8AAAABIwPZVg", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/stale", "name": "stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "w5688414", "id": 12107462, "node_id": "MDQ6VXNlcjEyMTA3NDYy", "avatar_url": "https://avatars.githubusercontent.com/u/12107462?v=4", "gravatar_id": "", "url": "https://api.github.com/users/w5688414", "html_url": "https://github.com/w5688414", "followers_url": "https://api.github.com/users/w5688414/followers", "following_url": "https://api.github.com/users/w5688414/following{/other_user}", "gists_url": "https://api.github.com/users/w5688414/gists{/gist_id}", "starred_url": "https://api.github.com/users/w5688414/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/w5688414/subscriptions", "organizations_url": "https://api.github.com/users/w5688414/orgs", "repos_url": "https://api.github.com/users/w5688414/repos", "events_url": "https://api.github.com/users/w5688414/events{/privacy}", "received_events_url": "https://api.github.com/users/w5688414/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "w5688414", "id": 12107462, "node_id": "MDQ6VXNlcjEyMTA3NDYy", "avatar_url": "https://avatars.githubusercontent.com/u/12107462?v=4", "gravatar_id": "", "url": "https://api.github.com/users/w5688414", "html_url": "https://github.com/w5688414", "followers_url": "https://api.github.com/users/w5688414/followers", "following_url": "https://api.github.com/users/w5688414/following{/other_user}", "gists_url": "https://api.github.com/users/w5688414/gists{/gist_id}", "starred_url": "https://api.github.com/users/w5688414/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/w5688414/subscriptions", "organizations_url": "https://api.github.com/users/w5688414/orgs", "repos_url": "https://api.github.com/users/w5688414/repos", "events_url": "https://api.github.com/users/w5688414/events{/privacy}", "received_events_url": "https://api.github.com/users/w5688414/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2022-10-27T02:49:17Z", "updated_at": "2023-01-10T01:18:52Z", "closed_at": "2023-01-10T01:18:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\n\n```Markdown\n- paddlepaddle:\r\n- paddlepaddle-gpu: \r\n- paddlenlp:\n```\n\n\n### \u91cd\u590d\u95ee\u9898\n\n- [X] I have searched the existing issues\n\n### \u9519\u8bef\u63cf\u8ff0\n\n```Markdown\n\u6211\u4e0a\u4f20\u4e86\u6587\u4ef6\uff0c\u7136\u540e\u53bb\u70b9\u51fb\u68c0\u7d22\uff0c\u6587\u4ef6\u4f1a\u88ab\u518d\u6b21\u4e0a\u4f20\u4e00\u904d\u3002\r\n\u53e6\u5916\u6211\u4f9d\u6b21\u4e0a\u4f20\u4e09\u4e2a\u6587\u4ef6\uff0c\u6bcf\u6b21\u65b0\u589e\u6587\u4ef6\u4f1a\u628a\u8001\u7684\u4e5f\u4e0a\u4f20\u4e00\u904d\n```\n\n\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\n\n\u9875\u9762\u6d4b\u8bd5\u53ef\u4ee5\u5f97\u51fa", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3564/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3564/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3556", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3556/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3556/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3556/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/3556", "id": 1423641952, "node_id": "I_kwDOFAsknM5U2w1g", "number": 3556, "title": "[Bug]: Attr name wrong in paddle.sum", "user": {"login": "MARD1NO", "id": 42901638, "node_id": "MDQ6VXNlcjQyOTAxNjM4", "avatar_url": "https://avatars.githubusercontent.com/u/42901638?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MARD1NO", "html_url": "https://github.com/MARD1NO", "followers_url": "https://api.github.com/users/MARD1NO/followers", "following_url": "https://api.github.com/users/MARD1NO/following{/other_user}", "gists_url": "https://api.github.com/users/MARD1NO/gists{/gist_id}", "starred_url": "https://api.github.com/users/MARD1NO/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MARD1NO/subscriptions", "organizations_url": "https://api.github.com/users/MARD1NO/orgs", "repos_url": "https://api.github.com/users/MARD1NO/repos", "events_url": "https://api.github.com/users/MARD1NO/events{/privacy}", "received_events_url": "https://api.github.com/users/MARD1NO/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "ZHUI", "id": 16911935, "node_id": "MDQ6VXNlcjE2OTExOTM1", "avatar_url": "https://avatars.githubusercontent.com/u/16911935?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ZHUI", "html_url": "https://github.com/ZHUI", "followers_url": "https://api.github.com/users/ZHUI/followers", "following_url": "https://api.github.com/users/ZHUI/following{/other_user}", "gists_url": "https://api.github.com/users/ZHUI/gists{/gist_id}", "starred_url": "https://api.github.com/users/ZHUI/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ZHUI/subscriptions", "organizations_url": "https://api.github.com/users/ZHUI/orgs", "repos_url": "https://api.github.com/users/ZHUI/repos", "events_url": "https://api.github.com/users/ZHUI/events{/privacy}", "received_events_url": "https://api.github.com/users/ZHUI/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ZHUI", "id": 16911935, "node_id": "MDQ6VXNlcjE2OTExOTM1", "avatar_url": "https://avatars.githubusercontent.com/u/16911935?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ZHUI", "html_url": "https://github.com/ZHUI", "followers_url": "https://api.github.com/users/ZHUI/followers", "following_url": "https://api.github.com/users/ZHUI/following{/other_user}", "gists_url": "https://api.github.com/users/ZHUI/gists{/gist_id}", "starred_url": "https://api.github.com/users/ZHUI/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ZHUI/subscriptions", "organizations_url": "https://api.github.com/users/ZHUI/orgs", "repos_url": "https://api.github.com/users/ZHUI/repos", "events_url": "https://api.github.com/users/ZHUI/events{/privacy}", "received_events_url": "https://api.github.com/users/ZHUI/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2022-10-26T08:34:03Z", "updated_at": "2022-10-27T02:52:45Z", "closed_at": "2022-10-27T02:52:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\n\n```Markdown\npaddlenlp              2.4.0          \r\npaddlepaddle-gpu       0.0.0 develop branch\n```\n\n\n### \u91cd\u590d\u95ee\u9898\n\n- [X] I have searched the existing issues\n\n### \u9519\u8bef\u63cf\u8ff0\n\n```Markdown\nhttps://github.com/PaddlePaddle/PaddleNLP/blob/develop/examples/language_model/gpt-3/static/modeling.py#L1123-L1124\r\n\r\n\r\nprobs = candidate_probs / paddle.sum(\r\n            candidate_probs, axis=-1, keep_dim=True)\r\n\r\n\u5e94\u8be5\u662fkeepdim=True\n```\n\n\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\n\nhttps://github.com/PaddlePaddle/PaddleNLP/blob/develop/examples/language_model/gpt-3/static/modeling.py#L1123-L1124", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3556/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3556/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3555", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3555/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3555/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3555/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/3555", "id": 1423540843, "node_id": "I_kwDOFAsknM5U2YJr", "number": 3555, "title": "[Bug]: \u4f7f\u7528rocketqa-zh-nano-query-encoder\u540e\uff0c\u4e0a\u4f20\u6587\u6863\u6570\u636e\u62a5\u9519", "user": {"login": "bruce0210", "id": 100854336, "node_id": "U_kgDOBgLqQA", "avatar_url": "https://avatars.githubusercontent.com/u/100854336?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bruce0210", "html_url": "https://github.com/bruce0210", "followers_url": "https://api.github.com/users/bruce0210/followers", "following_url": "https://api.github.com/users/bruce0210/following{/other_user}", "gists_url": "https://api.github.com/users/bruce0210/gists{/gist_id}", "starred_url": "https://api.github.com/users/bruce0210/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bruce0210/subscriptions", "organizations_url": "https://api.github.com/users/bruce0210/orgs", "repos_url": "https://api.github.com/users/bruce0210/repos", "events_url": "https://api.github.com/users/bruce0210/events{/privacy}", "received_events_url": "https://api.github.com/users/bruce0210/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4882422102, "node_id": "LA_kwDOFAsknM8AAAABIwPZVg", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/stale", "name": "stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "w5688414", "id": 12107462, "node_id": "MDQ6VXNlcjEyMTA3NDYy", "avatar_url": "https://avatars.githubusercontent.com/u/12107462?v=4", "gravatar_id": "", "url": "https://api.github.com/users/w5688414", "html_url": "https://github.com/w5688414", "followers_url": "https://api.github.com/users/w5688414/followers", "following_url": "https://api.github.com/users/w5688414/following{/other_user}", "gists_url": "https://api.github.com/users/w5688414/gists{/gist_id}", "starred_url": "https://api.github.com/users/w5688414/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/w5688414/subscriptions", "organizations_url": "https://api.github.com/users/w5688414/orgs", "repos_url": "https://api.github.com/users/w5688414/repos", "events_url": "https://api.github.com/users/w5688414/events{/privacy}", "received_events_url": "https://api.github.com/users/w5688414/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "w5688414", "id": 12107462, "node_id": "MDQ6VXNlcjEyMTA3NDYy", "avatar_url": "https://avatars.githubusercontent.com/u/12107462?v=4", "gravatar_id": "", "url": "https://api.github.com/users/w5688414", "html_url": "https://github.com/w5688414", "followers_url": "https://api.github.com/users/w5688414/followers", "following_url": "https://api.github.com/users/w5688414/following{/other_user}", "gists_url": "https://api.github.com/users/w5688414/gists{/gist_id}", "starred_url": "https://api.github.com/users/w5688414/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/w5688414/subscriptions", "organizations_url": "https://api.github.com/users/w5688414/orgs", "repos_url": "https://api.github.com/users/w5688414/repos", "events_url": "https://api.github.com/users/w5688414/events{/privacy}", "received_events_url": "https://api.github.com/users/w5688414/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2022-10-26T07:08:01Z", "updated_at": "2023-01-09T00:17:35Z", "closed_at": "2023-01-09T00:17:35Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\n\n```Markdown\n- paddlepaddle:2.3.0\r\n- paddlepaddle-gpu: false\uff08cpu\uff09\r\n- paddlenlp:\n```\n\n\n### \u91cd\u590d\u95ee\u9898\n\n- [X] I have searched the existing issues\n\n### \u9519\u8bef\u63cf\u8ff0\n\n```Markdown\n\u4f7f\u7528rocketqa-zh-nano-query-encoder\u540e\uff0c\u4e0a\u4f20\u6587\u6863\u6570\u636e\u62a5\u9519\uff0c\u4f46\u540c\u6837\u7684\u6587\u6863\u4f7f\u7528rocketqa-zh-base-query-encoder\u4e0a\u4f20\u540e\u662fOK\u7684\u3002\n```\n\n\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\n\n\u8fd9\u662f\u4f7f\u7528rocketqa-zh-nano-query-encoder\u65f6\u7684\u5f02\u5e38\r\n![a8b3717e8d511d33e9675217c0f67c2](https://user-images.githubusercontent.com/100854336/197957754-178a9dc8-d32e-4553-baf6-8dc582f9e189.jpg)\r\n\r\n\u8fd9\u662f\u7ee7\u7eed\u4f7f\u7528rocketqa-zh-base-query-encoder\u4e0a\u4f20\u540e\u6210\u529f\r\n![0e2adcdd9b3b6d74757355179f85a95](https://user-images.githubusercontent.com/100854336/197957802-ad9601d8-8708-408a-ade7-cefb5639d5b9.jpg)\r\n", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3555/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3555/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3552", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3552/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3552/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3552/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/3552", "id": 1422234108, "node_id": "I_kwDOFAsknM5UxZH8", "number": 3552, "title": "[Bug]: too much cpu memory usage in taskflow", "user": {"login": "wj-Mcat", "id": 10242208, "node_id": "MDQ6VXNlcjEwMjQyMjA4", "avatar_url": "https://avatars.githubusercontent.com/u/10242208?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wj-Mcat", "html_url": "https://github.com/wj-Mcat", "followers_url": "https://api.github.com/users/wj-Mcat/followers", "following_url": "https://api.github.com/users/wj-Mcat/following{/other_user}", "gists_url": "https://api.github.com/users/wj-Mcat/gists{/gist_id}", "starred_url": "https://api.github.com/users/wj-Mcat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wj-Mcat/subscriptions", "organizations_url": "https://api.github.com/users/wj-Mcat/orgs", "repos_url": "https://api.github.com/users/wj-Mcat/repos", "events_url": "https://api.github.com/users/wj-Mcat/events{/privacy}", "received_events_url": "https://api.github.com/users/wj-Mcat/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4882422102, "node_id": "LA_kwDOFAsknM8AAAABIwPZVg", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/stale", "name": "stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-10-25T10:24:18Z", "updated_at": "2022-12-27T00:42:13Z", "closed_at": "2022-12-27T00:42:13Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\n\n```Markdown\npaddle-bfloat                 0.1.2\r\npaddle-cppt                   0.0.1\r\npaddle2onnx                   1.0.1\r\npaddlefsl                     1.1.0\r\npaddlehub                     2.2.0\r\npaddlenlp                     2.4.0.dev0\r\npaddleocr                     2.5.0.3\r\npaddlepaddle-gpu              2.3.0\r\ntypes-paddle                  0.0.2\n```\n\n\n### \u91cd\u590d\u95ee\u9898\n\n- [X] I have searched the existing issues\n\n### \u9519\u8bef\u63cf\u8ff0\n\n```Markdown\n\u5f53\u4f7f\u7528lexial_analysis\u4efb\u52a1\u65f6\uff0c\u53d1\u73b0\u5185\u5b58\u7684\u5360\u7528\u60c5\u51b5\u592a\u591a\uff0c\u751a\u81f3\u662f\u8fbe\u5230\u4e864G\uff0c\u53ef\u662f\u6a21\u578b\u4f7f\u7528\u4e5f\u5f88\u7b80\u5355\u3002\r\n\r\n\u5f53\u9884\u6d4b\u5b8c\u4e00\u4e2a\u6587\u672c\u4e4b\u540e\u53d1\u73b0\u5185\u5b58\u5360\u7528\u60c5\u51b5\u8fbe\u5230\u4e86\u5dc5\u5cf0\u72b6\u6001\uff1a4G\u3002\n```\n\n\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\n\n```python\r\nimport os, psutil\r\np = psutil.Process(int(os.getpid()))\r\nmemory_info = lambda x: print(f\"{x} \\t\\t -> memory: %dMB\" % int(p.memory_info().rss / 1024 / 1024))\r\n\r\nfrom paddlenlp import Taskflow\r\nmemory_info(\"Before TaskFlow\")\r\nlac = Taskflow(\"lexical_analysis\")\r\nmemory_info(\"After TaskFlow\")\r\nlac(\"LAC\u662f\u4e2a\u4f18\u79c0\u7684\u5206\u8bcd\u5de5\u5177\")\r\nmemory_info(\"After LAC\")\r\n```\r\n\r\n\u8fd0\u884c\u5b8c\u4e4b\u540e\u7684\u60c5\u51b5\u5982\u4e0b\u6240\u793a\uff1a\r\n\r\n```shell\r\nBefore TaskFlow          -> memory: 367MB\r\nAfter TaskFlow           -> memory: 1661MB\r\nAfter LAC                -> memory: 4306MB\r\n```", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3552/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3552/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3550", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3550/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3550/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3550/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/3550", "id": 1421960233, "node_id": "I_kwDOFAsknM5UwWQp", "number": 3550, "title": "[Bug]: TaskFlow\u62bd\u53d6\u6458\u8981\u6a21\u578b\u62a5\u9519CUDA error 719", "user": {"login": "softpeng", "id": 13324817, "node_id": "MDQ6VXNlcjEzMzI0ODE3", "avatar_url": "https://avatars.githubusercontent.com/u/13324817?v=4", "gravatar_id": "", "url": "https://api.github.com/users/softpeng", "html_url": "https://github.com/softpeng", "followers_url": "https://api.github.com/users/softpeng/followers", "following_url": "https://api.github.com/users/softpeng/following{/other_user}", "gists_url": "https://api.github.com/users/softpeng/gists{/gist_id}", "starred_url": "https://api.github.com/users/softpeng/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/softpeng/subscriptions", "organizations_url": "https://api.github.com/users/softpeng/orgs", "repos_url": "https://api.github.com/users/softpeng/repos", "events_url": "https://api.github.com/users/softpeng/events{/privacy}", "received_events_url": "https://api.github.com/users/softpeng/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4882422102, "node_id": "LA_kwDOFAsknM8AAAABIwPZVg", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/stale", "name": "stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2022-10-25T07:00:18Z", "updated_at": "2023-01-08T00:17:49Z", "closed_at": "2023-01-08T00:17:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\n\n```Markdown\n- paddlepaddle: --\r\n- paddlepaddle-gpu: 2.3.2.post116\r\n- paddlenlp: 2.4.1\n```\n\n\n### \u91cd\u590d\u95ee\u9898\n\n- [x] I have searched the existing issues\n\n### \u9519\u8bef\u63cf\u8ff0\n\n```Markdown\nWINDOWS SERVER 2012, NAVDIA A100, \u5b89\u57f9\u67b6\u6784\uff0c\u6309\u7167\u5b89\u88c5\u6559\u7a0b\uff0c\u63a8\u8350\u5b89\u57f9\u67b6\u6784\u4f7f\u752811.x\u3002\r\n\u6211\u5b89\u88c5\u4e86\r\nCUDA Toolkit 11.6.0:  https://developer.download.nvidia.com/compute/cuda/11.6.0/local_installers/cuda_11.6.0_511.23_windows.exe\r\ncuDNN 8.4.0: \r\nhttps://developer.nvidia.com/compute/cudnn/secure/8.4.0/local_installers/11.6/cudnn-windows-x86_64-8.4.0.27_cuda11.6-archive.zip \r\n\r\n\u8fd0\u884cTaskFlow\u8fdb\u884c\u6458\u8981\u62bd\u53d6\u65f6\u5019\u62a5\u5982\u4e0b\u9519\u8bef\uff1a\r\nException has occurred: OSError\r\n\r\n(External) CUDA error(719), unspecified launch failure. \r\n  [Hint: 'cudaErrorLaunchFailure'. An exception occurred on the device while executing a kernel. Common causes include dereferencing an invalid device pointerand accessing out of bounds shared memory. Less common cases can be system specific - more information about these cases canbe found in the system specific user guide. This leaves the process in an inconsistent state and any further CUDA work willreturn the same error. To continue using CUDA, the process must be terminated and relaunched.] (at ..\\paddle\\phi\\backends\\gpu\\cuda\\cuda_info.cc:258)\r\n  File \"C:\\Users\\Administrator\\Desktop\\paddle\\testSummary.py\", line 14, in <module>\r\n    result=summarizer(text)\n```\n\n\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\n\nimport paddlenlp\r\n\r\nfrom paddlenlp import Taskflow\r\nsummarizer = Taskflow(\"text_summarization\", model='unimo-text-1.0-summary')\r\ntext=\"\u6839\u636e\u201c\u5341\u4e2a\u5de5\u4f5c\u65e5\u201d\u539f\u5219\uff0c\u4e0b\u8f6e\u8c03\u4ef7\u7a97\u53e3\u4e3a8\u670823\u65e524\u65f6\u3002\u5353\u521b\u8d44\u8baf\u5206\u6790\uff0c\u539f\u6cb9\u4ef7\u683c\u6216\u5ef6\u7eed\u9707\u8361\u504f\u5f31\u8d70\u52bf\uff0c\u4e14\u65b0\u5468\u671f\u7684\u539f\u6cb9\u53d8\u5316\u7387\u4ecd\u5c06\u8d1f\u503c\u5f00\u5c40\uff0c\u6d88\u606f\u9762\u5bf9\u56fd\u5185\u6210\u54c1\u6cb9\u5e02\u573a\u5e76\u65e0\u63d0\u632f\u3002\u53d7\u6b64\u5f71\u54cd\uff0c\u9884\u8ba1\u56fd\u5185\u6210\u54c1\u6cb9\u6279\u53d1\u4ef7\u683c\u6216\u6574\u4f53\u5448\u73b0\u7a33\u4e2d\u4e0b\u6ed1\u8d70\u52bf\uff0c\u4f46\u201c\u91d1\u4e5d\u94f6\u5341\u201d\u5373\u5c06\u5230\u6765\uff0c\u5356\u65b9\u770b\u597d\u540e\u671f\u5e02\u573a\uff0c\u9884\u8ba1\u8dcc\u5e45\u8f83\u4e3a\u6709\u9650\u3002\"\r\nresult=summarizer(text)\r\n\r\nprint(result)", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3550/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3550/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3547", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3547/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3547/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3547/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/3547", "id": 1421815286, "node_id": "I_kwDOFAsknM5Uvy32", "number": 3547, "title": "[Bug]: webapp_semantic_search\u524d\u7aef\u9875\u9762\u65e0\u6cd5\u6b63\u5e38\u5e26\u51fa\u56fe\u7247\u663e\u793a", "user": {"login": "bruce0210", "id": 100854336, "node_id": "U_kgDOBgLqQA", "avatar_url": "https://avatars.githubusercontent.com/u/100854336?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bruce0210", "html_url": "https://github.com/bruce0210", "followers_url": "https://api.github.com/users/bruce0210/followers", "following_url": "https://api.github.com/users/bruce0210/following{/other_user}", "gists_url": "https://api.github.com/users/bruce0210/gists{/gist_id}", "starred_url": "https://api.github.com/users/bruce0210/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bruce0210/subscriptions", "organizations_url": "https://api.github.com/users/bruce0210/orgs", "repos_url": "https://api.github.com/users/bruce0210/repos", "events_url": "https://api.github.com/users/bruce0210/events{/privacy}", "received_events_url": "https://api.github.com/users/bruce0210/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4285758027, "node_id": "LA_kwDOFAsknM7_c3pL", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/pipelines", "name": "pipelines", "color": "fbca04", "default": false, "description": ""}, {"id": 4882422102, "node_id": "LA_kwDOFAsknM8AAAABIwPZVg", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/stale", "name": "stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "w5688414", "id": 12107462, "node_id": "MDQ6VXNlcjEyMTA3NDYy", "avatar_url": "https://avatars.githubusercontent.com/u/12107462?v=4", "gravatar_id": "", "url": "https://api.github.com/users/w5688414", "html_url": "https://github.com/w5688414", "followers_url": "https://api.github.com/users/w5688414/followers", "following_url": "https://api.github.com/users/w5688414/following{/other_user}", "gists_url": "https://api.github.com/users/w5688414/gists{/gist_id}", "starred_url": "https://api.github.com/users/w5688414/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/w5688414/subscriptions", "organizations_url": "https://api.github.com/users/w5688414/orgs", "repos_url": "https://api.github.com/users/w5688414/repos", "events_url": "https://api.github.com/users/w5688414/events{/privacy}", "received_events_url": "https://api.github.com/users/w5688414/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "w5688414", "id": 12107462, "node_id": "MDQ6VXNlcjEyMTA3NDYy", "avatar_url": "https://avatars.githubusercontent.com/u/12107462?v=4", "gravatar_id": "", "url": "https://api.github.com/users/w5688414", "html_url": "https://github.com/w5688414", "followers_url": "https://api.github.com/users/w5688414/followers", "following_url": "https://api.github.com/users/w5688414/following{/other_user}", "gists_url": "https://api.github.com/users/w5688414/gists{/gist_id}", "starred_url": "https://api.github.com/users/w5688414/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/w5688414/subscriptions", "organizations_url": "https://api.github.com/users/w5688414/orgs", "repos_url": "https://api.github.com/users/w5688414/repos", "events_url": "https://api.github.com/users/w5688414/events{/privacy}", "received_events_url": "https://api.github.com/users/w5688414/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2022-10-25T04:13:04Z", "updated_at": "2023-01-08T00:17:51Z", "closed_at": "2023-01-08T00:17:51Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\n\n```Markdown\n- paddlepaddle:2.3.1\r\n- paddlepaddle-gpu: cpu\r\n- paddlenlp:\n```\n\n\n### \u91cd\u590d\u95ee\u9898\n\n- [X] I have searched the existing issues\n\n### \u9519\u8bef\u63cf\u8ff0\n\n```Markdown\nnodes/file_converter/docx.py\u4e2d\u7684\u5224\u65ad\u6709\u8bef\n```\n\n\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\n\nnodes/file_converter/docx.py", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3547/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3547/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3530", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3530/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3530/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3530/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/3530", "id": 1417865811, "node_id": "I_kwDOFAsknM5UgupT", "number": 3530, "title": "[Bug]: multi-class\u88c1\u526a\u62a5\u9519", "user": {"login": "FFinchR", "id": 61258341, "node_id": "MDQ6VXNlcjYxMjU4MzQx", "avatar_url": "https://avatars.githubusercontent.com/u/61258341?v=4", "gravatar_id": "", "url": "https://api.github.com/users/FFinchR", "html_url": "https://github.com/FFinchR", "followers_url": "https://api.github.com/users/FFinchR/followers", "following_url": "https://api.github.com/users/FFinchR/following{/other_user}", "gists_url": "https://api.github.com/users/FFinchR/gists{/gist_id}", "starred_url": "https://api.github.com/users/FFinchR/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/FFinchR/subscriptions", "organizations_url": "https://api.github.com/users/FFinchR/orgs", "repos_url": "https://api.github.com/users/FFinchR/repos", "events_url": "https://api.github.com/users/FFinchR/events{/privacy}", "received_events_url": "https://api.github.com/users/FFinchR/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3237662397, "node_id": "MDU6TGFiZWwzMjM3NjYyMzk3", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/model-compression", "name": "model-compression", "color": "c5def5", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "LiuChiachi", "id": 26483581, "node_id": "MDQ6VXNlcjI2NDgzNTgx", "avatar_url": "https://avatars.githubusercontent.com/u/26483581?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LiuChiachi", "html_url": "https://github.com/LiuChiachi", "followers_url": "https://api.github.com/users/LiuChiachi/followers", "following_url": "https://api.github.com/users/LiuChiachi/following{/other_user}", "gists_url": "https://api.github.com/users/LiuChiachi/gists{/gist_id}", "starred_url": "https://api.github.com/users/LiuChiachi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LiuChiachi/subscriptions", "organizations_url": "https://api.github.com/users/LiuChiachi/orgs", "repos_url": "https://api.github.com/users/LiuChiachi/repos", "events_url": "https://api.github.com/users/LiuChiachi/events{/privacy}", "received_events_url": "https://api.github.com/users/LiuChiachi/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "LiuChiachi", "id": 26483581, "node_id": "MDQ6VXNlcjI2NDgzNTgx", "avatar_url": "https://avatars.githubusercontent.com/u/26483581?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LiuChiachi", "html_url": "https://github.com/LiuChiachi", "followers_url": "https://api.github.com/users/LiuChiachi/followers", "following_url": "https://api.github.com/users/LiuChiachi/following{/other_user}", "gists_url": "https://api.github.com/users/LiuChiachi/gists{/gist_id}", "starred_url": "https://api.github.com/users/LiuChiachi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LiuChiachi/subscriptions", "organizations_url": "https://api.github.com/users/LiuChiachi/orgs", "repos_url": "https://api.github.com/users/LiuChiachi/repos", "events_url": "https://api.github.com/users/LiuChiachi/events{/privacy}", "received_events_url": "https://api.github.com/users/LiuChiachi/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2022-10-21T07:11:39Z", "updated_at": "2022-11-04T03:34:25Z", "closed_at": "2022-11-04T03:34:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\n\n```Markdown\n- paddle-bfloat         0.1.7           \r\n- paddle2onnx           1.0.1           \r\n- paddlefsl             1.1.0           \r\n- paddlenlp             2.4.1           \r\n- paddleocr             2.6.0.1         \r\n- paddlepaddle-gpu      2.4.0rc0.post112\r\n- paddleslim            2.3.4\n```\n\n\n### \u91cd\u590d\u95ee\u9898\n\n- [X] I have searched the existing issues\n\n### \u9519\u8bef\u63cf\u8ff0\n\n```Markdown\n\u591a\u5206\u7c7b\u6a21\u578b\u88c1\u526a\u62a5\u9519\n```\n\n\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\n\n\u53c2\u8003[multi_class](https://github.com/PaddlePaddle/PaddleNLP/tree/develop/applications/text_classification/multi_class)\u7684\u88c1\u526a\u65f6\u62a5\u9519\u3002\r\n\u6307\u4ee4\uff1a\r\n```shell\r\npython prune.py \\\r\n    --device \"gpu\" \\\r\n    --dataset_dir \"data\" \\\r\n    --output_dir \"prune\" \\\r\n    --per_device_train_batch_size 32 \\\r\n    --per_device_eval_batch_size 32 \\\r\n    --num_train_epochs 10 \\\r\n    --max_seq_length 128 \\\r\n    --logging_steps 5 \\\r\n    --save_steps 100 \\\r\n    --width_mult_list '3/4' '2/3' '1/2'\r\n```\r\n\u62a5\u9519\u4fe1\u606f\uff1a\r\n```\r\nTraceback (most recent call last):\r\n  File \"prune.py\", line 112, in <module>\r\n    main()\r\n  File \"prune.py\", line 108, in main\r\n    trainer.compress()\r\n  File \"/usr/local/lib/python3.7/dist-packages/paddlenlp/trainer/trainer_compress.py\", line 63, in compress\r\n    _dynabert(self, self.model, args.output_dir)\r\n  File \"/usr/local/lib/python3.7/dist-packages/paddlenlp/trainer/trainer_compress.py\", line 123, in _dynabert\r\n    ofa_model, teacher_model = _dynabert_init(self, model, eval_dataloader)\r\n  File \"/usr/local/lib/python3.7/dist-packages/paddlenlp/trainer/trainer_compress.py\", line 265, in _dynabert_init\r\n    custom_dynabert_calc_loss=self.custom_dynabert_calc_loss)\r\n  File \"/usr/local/lib/python3.7/dist-packages/paddlenlp/transformers/ofa_utils.py\", line 348, in compute_neuron_head_importance\r\n    loss = calc_loss(loss_fct, model, batch, head_mask)\r\n  File \"/usr/local/lib/python3.7/dist-packages/paddlenlp/transformers/ofa_utils.py\", line 269, in calc_loss\r\n    attention_mask=[None, head_mask])\r\n  File \"/usr/local/lib/python3.7/dist-packages/paddle/fluid/dygraph/layers.py\", line 948, in __call__\r\n    return self.forward(*inputs, **kwargs)\r\n  File \"/usr/local/lib/python3.7/dist-packages/paddlenlp/transformers/ernie/modeling.py\", line 1131, in forward\r\n    return_dict=return_dict)\r\n  File \"/usr/local/lib/python3.7/dist-packages/paddle/fluid/dygraph/layers.py\", line 948, in __call__\r\n    return self.forward(*inputs, **kwargs)\r\n  File \"/usr/local/lib/python3.7/dist-packages/paddlenlp/trainer/trainer_compress.py\", line 671, in auto_model_forward\r\n    embedding_output = self.embeddings(**embedding_kwargs)\r\n  File \"/usr/local/lib/python3.7/dist-packages/paddle/fluid/dygraph/layers.py\", line 948, in __call__\r\n    return self.forward(*inputs, **kwargs)\r\n  File \"/usr/local/lib/python3.7/dist-packages/paddlenlp/transformers/ernie/modeling.py\", line 119, in forward\r\n    embeddings = self.layer_norm(embeddings)\r\n  File \"/usr/local/lib/python3.7/dist-packages/paddle/fluid/dygraph/layers.py\", line 948, in __call__\r\n    return self.forward(*inputs, **kwargs)\r\n  File \"/usr/local/lib/python3.7/dist-packages/paddleslim/nas/ofa/layers.py\", line 1186, in forward\r\n    out, _, _, = _C_ops.final_state_layer_norm(\r\nAttributeError: module 'paddle.fluid.libpaddle.eager.ops' has no attribute 'final_state_layer_norm'\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3530/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3530/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3529", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3529/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3529/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3529/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/3529", "id": 1417614100, "node_id": "I_kwDOFAsknM5UfxMU", "number": 3529, "title": "[Bug]: \u6839\u636e\u5b98\u7f51\u90e8\u7f72\u8bf4\u660e\uff0c\u90e8\u7f72\u591a\u6807\u7b7e\u5206\u7c7b\u62a5\u9519", "user": {"login": "sxf20220704", "id": 108640316, "node_id": "U_kgDOBnm4PA", "avatar_url": "https://avatars.githubusercontent.com/u/108640316?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sxf20220704", "html_url": "https://github.com/sxf20220704", "followers_url": "https://api.github.com/users/sxf20220704/followers", "following_url": "https://api.github.com/users/sxf20220704/following{/other_user}", "gists_url": "https://api.github.com/users/sxf20220704/gists{/gist_id}", "starred_url": "https://api.github.com/users/sxf20220704/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sxf20220704/subscriptions", "organizations_url": "https://api.github.com/users/sxf20220704/orgs", "repos_url": "https://api.github.com/users/sxf20220704/repos", "events_url": "https://api.github.com/users/sxf20220704/events{/privacy}", "received_events_url": "https://api.github.com/users/sxf20220704/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4882422102, "node_id": "LA_kwDOFAsknM8AAAABIwPZVg", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/stale", "name": "stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "lugimzzz", "id": 63761690, "node_id": "MDQ6VXNlcjYzNzYxNjkw", "avatar_url": "https://avatars.githubusercontent.com/u/63761690?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lugimzzz", "html_url": "https://github.com/lugimzzz", "followers_url": "https://api.github.com/users/lugimzzz/followers", "following_url": "https://api.github.com/users/lugimzzz/following{/other_user}", "gists_url": "https://api.github.com/users/lugimzzz/gists{/gist_id}", "starred_url": "https://api.github.com/users/lugimzzz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lugimzzz/subscriptions", "organizations_url": "https://api.github.com/users/lugimzzz/orgs", "repos_url": "https://api.github.com/users/lugimzzz/repos", "events_url": "https://api.github.com/users/lugimzzz/events{/privacy}", "received_events_url": "https://api.github.com/users/lugimzzz/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "lugimzzz", "id": 63761690, "node_id": "MDQ6VXNlcjYzNzYxNjkw", "avatar_url": "https://avatars.githubusercontent.com/u/63761690?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lugimzzz", "html_url": "https://github.com/lugimzzz", "followers_url": "https://api.github.com/users/lugimzzz/followers", "following_url": "https://api.github.com/users/lugimzzz/following{/other_user}", "gists_url": "https://api.github.com/users/lugimzzz/gists{/gist_id}", "starred_url": "https://api.github.com/users/lugimzzz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lugimzzz/subscriptions", "organizations_url": "https://api.github.com/users/lugimzzz/orgs", "repos_url": "https://api.github.com/users/lugimzzz/repos", "events_url": "https://api.github.com/users/lugimzzz/events{/privacy}", "received_events_url": "https://api.github.com/users/lugimzzz/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2022-10-21T02:41:48Z", "updated_at": "2023-01-29T00:19:00Z", "closed_at": "2023-01-29T00:19:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\r\n\r\n```Markdown\r\n\u73af\u5883\uff1a\r\npaddle-serving-app        0.9.0\r\npaddle-serving-client     0.9.0\r\npaddle-serving-server-gpu 0.9.0.post112\r\npaddle2onnx               1.0.1\r\npaddlefsl                 1.1.0\r\npaddlenlp                 2.4.1\r\npaddlepaddle-gpu          2.3.2.post112\r\n```\r\n\r\n\r\n### \u91cd\u590d\u95ee\u9898\r\n\r\n- [x] I have searched the existing issues\r\n\r\n### \u9519\u8bef\u63cf\u8ff0\r\n\r\n```Markdown\r\n\u6839\u636e\u5b98\u7f51\u4f7f\u7528 conda \u90e8\u7f72 GPU \u63a8\u7406\u670d\u52a1\uff1a\r\nhttps://github.com/PaddlePaddle/PaddleNLP/blob/develop/applications/text_classification/multi_label/deploy/paddle_serving/README.md\uff0c\u90e8\u7f72\u540e\u62a5\u9519\uff0c\u62a5\u9519\u4fe1\u606f\u5982\u4e0b\uff1a\r\nERROR 2022-10-21 09:24:17,167 [error_catch.py:125] \r\nLog_id: 0\r\nTraceback (most recent call last):\r\n  File \"/home/wb/miniconda3/envs/ke-nlp/lib/python3.9/site-packages/paddle_serving_server/pipeline/error_catch.py\", line 97, in wrapper\r\n    res = func(*args, **kw)\r\n  File \"/home/wb/miniconda3/envs/ke-nlp/lib/python3.9/site-packages/paddle_serving_app/local_predict.py\", line 286, in create_predictor_check\r\n    predictor = paddle_infer.create_predictor(config)\r\nOSError: (External) CUDA error(3), initialization error. \r\n  [Hint: 'cudaErrorInitializationError'. The API call failed because the CUDA driver and runtime could not be initialized. ] (at /paddle/paddle/phi/backends/gpu/cuda/cuda_info.cc:243)\r\n\r\nClassname: LocalPredictor.load_model_config.<locals>.create_predictor_check\r\nFunctionName: create_predictor_check\r\nCRITICAL 2022-10-21 09:24:17,167 [local_predict.py:290] failed to create predictor: Log_id: 0  Raise_msg: (External) CUDA error(3), initialization error. \r\n  [Hint: cudaErrorInitializationError. The API call failed because the CUDA driver and runtime could not be initialized. ] (at /paddle/paddle/phi/backends/gpu/cuda/cuda_info.cc:243)\r\n  ClassName: LocalPredictor.load_model_config.<locals>.create_predictor_check  FunctionName: create_predictor_check\r\n```\r\n\r\n\r\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\r\n\r\n\u5b98\u7f51\u7684 multi_label \u4ee3\u7801\u6ca1\u6709\u4fee\u6539\u8fc7\uff0c\u53ea\u662f\u6539\u8fc7 config.yml \u6587\u4ef6\uff0c\u6a21\u578b\u4e5f\u662f\u7528\u7684\u5b98\u65b9\u6570\u636e\u8bad\u7ec3\u51fa\u6765\u7684", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3529/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3529/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3526", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3526/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3526/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3526/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/3526", "id": 1416447972, "node_id": "I_kwDOFAsknM5UbUfk", "number": 3526, "title": "[Bug]: ocr_process.py ocr\u7ed3\u679c\u5904\u7406\u5f02\u5e38", "user": {"login": "hehuang139", "id": 9929843, "node_id": "MDQ6VXNlcjk5Mjk4NDM=", "avatar_url": "https://avatars.githubusercontent.com/u/9929843?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hehuang139", "html_url": "https://github.com/hehuang139", "followers_url": "https://api.github.com/users/hehuang139/followers", "following_url": "https://api.github.com/users/hehuang139/following{/other_user}", "gists_url": "https://api.github.com/users/hehuang139/gists{/gist_id}", "starred_url": "https://api.github.com/users/hehuang139/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hehuang139/subscriptions", "organizations_url": "https://api.github.com/users/hehuang139/orgs", "repos_url": "https://api.github.com/users/hehuang139/repos", "events_url": "https://api.github.com/users/hehuang139/events{/privacy}", "received_events_url": "https://api.github.com/users/hehuang139/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-10-20T11:26:57Z", "updated_at": "2022-10-20T11:31:05Z", "closed_at": "2022-10-20T11:30:51Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\n\n```Markdown\npaddle-bfloat             0.1.7                    pypi_0    pypi\r\npaddle2onnx               1.0.1                    pypi_0    pypi\r\npaddlefsl                 1.1.0                    pypi_0    pypi\r\npaddlenlp                 2.4.0.dev0                dev_0    <develop>\r\npaddleocr                 2.5                      pypi_0    pypi\r\npaddlepaddle              2.4.0rc0                 pypi_0    pypi\n```\n\n\n### \u91cd\u590d\u95ee\u9898\n\n- [X] I have searched the existing issues\n\n### \u9519\u8bef\u63cf\u8ff0\n\n```Markdown\nhttps://github.com/PaddlePaddle/PaddleNLP/blob/develop/applications/document_intelligence/doc_vqa/OCR_process/ocr_process.py\r\n\r\n\r\ndef ocr_preprocess(img_dir):\r\n    ocr = PaddleOCR(use_angle_cls=True, lang=\"ch\", use_gpu=True)\r\n    ocr_reses = []\r\n    img_names = sorted(os.listdir(img_dir),\r\n                       key=lambda x: int(x.split(\"_\")[1].split(\".\")[0]))\r\n    for img_name in img_names:\r\n        img_path = os.path.join(img_dir, img_name)\r\n        parsing_res = ocr.ocr(img_path, cls=True)\r\n        ocr_res = []\r\n        for para in parsing_res:\r\n            ocr_res.append({\"text\": para[1][0], \"bbox\": para[0]})\r\n        ocr_reses.append((img_name, ocr_res))\r\n\r\n    return ocr_reses\r\n```\r\nocr_res.append({\"text\": para[1][0], \"bbox\": para[0]}) \u8fd9\u91cc\u6709\u95ee\u9898\uff0c\u83b7\u53d6\u7684\u662f\u7b2c\u4e8c\u884c\u6587\u672c\u7684bbox\u548c\u7b2c\u4e00\u884c\u6587\u672c\uff1f\u660e\u663e\u662f\u6709\u95ee\u9898\u7684\n```\n\n\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\n\n\u4ee3\u7801\u95ee\u9898\uff0c\u8bf7\u786e\u8ba4", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3526/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3526/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3519", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3519/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3519/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3519/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/3519", "id": 1415849521, "node_id": "I_kwDOFAsknM5UZCYx", "number": 3519, "title": "uie\u7684base\u6a21\u578b\u548cnano\u6a21\u578b \u7ed3\u679c\u8f93\u51fa\u7ed3\u6784\u4f1a\u6709\u5dee\u5f02", "user": {"login": "mingo-doer", "id": 28819717, "node_id": "MDQ6VXNlcjI4ODE5NzE3", "avatar_url": "https://avatars.githubusercontent.com/u/28819717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mingo-doer", "html_url": "https://github.com/mingo-doer", "followers_url": "https://api.github.com/users/mingo-doer/followers", "following_url": "https://api.github.com/users/mingo-doer/following{/other_user}", "gists_url": "https://api.github.com/users/mingo-doer/gists{/gist_id}", "starred_url": "https://api.github.com/users/mingo-doer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mingo-doer/subscriptions", "organizations_url": "https://api.github.com/users/mingo-doer/orgs", "repos_url": "https://api.github.com/users/mingo-doer/repos", "events_url": "https://api.github.com/users/mingo-doer/events{/privacy}", "received_events_url": "https://api.github.com/users/mingo-doer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4882422102, "node_id": "LA_kwDOFAsknM8AAAABIwPZVg", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/stale", "name": "stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-10-20T02:52:22Z", "updated_at": "2023-01-04T00:16:08Z", "closed_at": "2023-01-04T00:16:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\n\n```Markdown\n- paddlepaddle:2.3.4\r\n- paddlepaddle-gpu: 2.3.1\r\n- paddlenlp: 2.3.4\n```\n\n\n### \u91cd\u590d\u95ee\u9898\n\n- [X] I have searched the existing issues\n\n### \u9519\u8bef\u63cf\u8ff0\n\n```Markdown\nuie\u7684base\u6a21\u578b\u548cnano\u6a21\u578b \u7ed3\u679c\u8f93\u51fa\u7ed3\u6784\u90fd\u4f1a\u6709\u5dee\u5f02\r\n\u5728\u89c2\u70b9\u5206\u6790\u4e2d\r\n\u6d4b\u8bd5\u7528\u4f8b\r\nschema = {'\u8bc4\u4ef7\u7ef4\u5ea6': ['\u89c2\u70b9\u8bcd', '\u60c5\u611f\u503e\u5411[\u6b63\u5411\uff0c\u8d1f\u5411]']}\r\ntexts = ['\u4e70\u7ed9\u8001\u7238\u7684\uff0c\u62a2\u4e0d\u5230mate40\uff0c\u52a0\u4ef7\u592a\u591a\u4e86\u3002\u9ed1\u8272\uff0c\u91d1\u8fb9\uff0c\u8fd9\u989c\u8272\u6700\u9002\u5408\u7537\u6027\uff0c\u9ed1\u4eae\u80cc\u9762\uff0c\u8fb9\u6846\u4e5f\u662f\u4e4c\u9ed1\uff0c\u6d51\u7136\u4e00\u4f53\uff0c\u4e0d\u50cf\u767d\u8272\u548c\u91d1\u8272\uff0c\u8fb9\u6846\u662f\u4eae\u94f6\u8272\u3002p50\u66f4\u50cf\u662fp30\u7684\u5347\u7ea7\u653e\u5927\u7248\uff0c\u548cp40\u4e0d\u50cf\uff0c\u548cp30\u5f88\u50cf\uff0c\u5f88\u6f02\u4eae\uff0c\u624b\u611f\u4e5f\u597d\uff0c\u955c\u5934\u7a81\u51fa\u4e0d\u591a\u3002\u62cd\u7167\u81ea\u62cd\u90fd\u4e0d\u9519\uff0c\u56fe\u7247\u7f16\u8f91\u91cc\u5c45\u7136\u591a\u4e86\u5c0f\u7c73\u7684\u6d82\u62b9\u6d88\u9664\u529f\u80fd\uff0c\u975e\u5e38\u597d\u3002\u771f\u4e0d\u9519\u771f\u6f02\u4eae\uff0c\u4e4b\u524d\u770b\u5230\u6709\u4eba\u8bf4\u6444\u50cf\u5934\u4e0d\u597d\u770b\uff0c\u54ea\u91cc\u4e0d\u597d\u770b\u5566\uff01\u8bd5\u4e86\u62cd\u7167\u529f\u80fd\uff0c\u81ea\u62cd\u6bd4\u82f9\u679c\u7684\u597d\u770b\u591a\u4e86?\u81ea\u5e26\u7f8e\u989c\u3002\u6574\u673a\u6bd4\u6211\u7684\u82f9\u679c11\u8981\u8f7b\u5f88\u591a\uff0c\u5c4f\u5e55\u6bd411\u5927\uff0c\u6211\u4e0b\u4e00\u90e8\u4e5f\u8981\u6362\u534e\u4e3a\uff01\u4eceP10\u5f00\u59cb\u5bb6\u4eba\u5c31\u4e00\u76f4\u534e\u4e3a\u7684\u5fe0\u7c89\u3002\u559c\u6b22\u76f4\u5c4f\uff0c\u6240\u4ee5\u7b49\u5f85P50\u3002\u9e3f\u8499\u7cfb\u7edf\u7ed9\u529b\uff0c\u652f\u6301\u534e\u4e3a\u3002\u4eac\u4e1c\u7269\u6d41\u592a\u8d5e\u4e86\uff0c\u5916\u5730\u8c03\u8d27\uff0c\u51cc\u6668\u5230\u5317\u4eac\uff0c\u5341\u70b9\u5c31\u6536\u5230\u8d27\u4e86\u3002\u6ca1\u6709\u5145\u7535\u5934\uff0c\u6570\u636e\u7ebf\u4e5f\u6ca1\u6709\uff0c\u53ea\u80fd\u7528\u8001\u7684\u4e86\u3002\u819c\u5df2\u8d34\u597d\uff0c\u8fd8\u6709\u8f6f\u58f3\uff0c\u8fd8\u662f\u633a\u8d34\u5fc3\u7684\u3002\u4f7f\u7528\u624b\u611f\u8212\u9002\uff0c\u7cfb\u7edf\u64cd\u4f5c\u6d41\u7545\uff0c\u4e00\u5982\u5373\u5f80\u7684\u9009\u62e9\u534e\u4e3a\uff0c\u652f\u6301\u56fd\u8d27\uff0c\u5145\u5206\u4f53\u9a8c\u5f3a\u5927\u7684\u79d1\u6280\u6210\u679c\u662f\u4e00\u79cd\u7f8e\u5999\u7edd\u4f26\u7684\u611f\u89c9\uff01']\r\n\r\nnano\u7ed3\u679c\uff1a\r\n[{'\u8bc4\u4ef7\u7ef4\u5ea6': [{'text': '\u7269\u6d41', 'start': 272, 'end': 274, 'probability': 0.31816332047639406, 'relations': {'\u89c2\u70b9\u8bcd': [{'text': '\u8d5e', 'start': 275, 'end': 276, 'probability': 0.9617211002210624}], '\u60c5\u611f\u503e\u5411[\u6b63\u5411\uff0c\u8d1f\u5411]': [{'text': '\u6b63\u5411', 'probability': 0.9971398925107948}]}}, {'text': '\u955c\u5934', 'start': 108, 'end': 110, 'probability': 0.3653783948863776, 'relations': {'\u89c2\u70b9\u8bcd': [{'text': '\u4e0d\u591a', 'start': 112, 'end': 114, 'probability': 0.8128309107217291}], '\u60c5\u611f\u503e\u5411[\u6b63\u5411\uff0c\u8d1f\u5411]': [{'text': '\u6b63\u5411', 'probability': 0.9874560741484935}]}}, {'text': '\u81ea\u62cd\u90fd\u4e0d\u9519\uff0c\u56fe\u7247\u7f16\u8f91\u91cc\u5c45\u7136\u591a\u4e86\u5c0f\u7c73\u7684\u6d82\u62b9\u6d88\u9664\u529f\u80fd\uff0c\u975e\u5e38\u597d\u3002\u771f\u4e0d\u9519\u771f\u6f02\u4eae\uff0c\u4e4b\u524d\u770b\u5230\u6709\u4eba\u8bf4\u6444\u50cf\u5934\u4e0d\u597d\u770b\uff0c\u54ea\u91cc\u4e0d\u597d\u770b\u5566\uff01\u8bd5\u4e86\u62cd\u7167\u529f\u80fd\uff0c\u81ea\u62cd\u6bd4\u82f9\u679c\u7684\u597d\u770b\u591a\u4e86?\u81ea\u5e26\u7f8e\u989c\u3002\u6574\u673a\u6bd4\u6211\u7684\u82f9\u679c11\u8981\u8f7b\u5f88\u591a\uff0c\u5c4f\u5e55', 'start': 117, 'end': 213, 'probability': 0.3629341638574637}, {'text': '\u624b\u611f', 'start': 103, 'end': 105, 'probability': 0.8424754638841847, 'relations': {'\u89c2\u70b9\u8bcd': [{'text': '\u597d', 'start': 106, 'end': 107, 'probability': 0.4268193481605067}, {'text': '\u8212\u9002', 'start': 338, 'end': 340, 'probability': 0.42000726171846026}], '\u60c5\u611f\u503e\u5411[\u6b63\u5411\uff0c\u8d1f\u5411]': [{'text': '\u6b63\u5411', 'probability': 0.997272266502307}]}}]}]\r\n\r\n\u7f3a\u5931relations\u5b57\u6bb5\uff0c\u8f93\u51fa\u683c\u5f0f\u4e0d\u56fa\u5b9a\u7684\u8bdd  \u4e0d\u597d\u89e3\u6790\r\n\r\nbase \u7ed3\u679c\uff1a\r\n\r\n[{'\u8bc4\u4ef7\u7ef4\u5ea6': [{'text': '\u7cfb\u7edf', 'start': 260, 'end': 262, 'probability': 0.40780190872501976, 'relations': {'\u89c2\u70b9\u8bcd': [{'text': '\u6d41\u7545', 'start': 345, 'end': 347, 'probability': 0.40692694274151364}, {'text': '\u7ed9\u529b', 'start': 262, 'end': 264, 'probability': 0.8634844741184757}], '\u60c5\u611f\u503e\u5411[\u6b63\u5411\uff0c\u8d1f\u5411]': [{'text': '\u6b63\u5411', 'probability': 0.9990105085202075}]}}, {'text': '\u81ea\u62cd', 'start': 117, 'end': 119, 'probability': 0.30679681017929283, 'relations': {'\u89c2\u70b9\u8bcd': [{'text': '\u4e0d\u9519', 'start': 120, 'end': 122, 'probability': 0.8739527756724499}], '\u60c5\u611f\u503e\u5411[\u6b63\u5411\uff0c\u8d1f\u5411]': [{'text': '\u6b63\u5411', 'probability': 0.9993610210610768}]}}, {'text': '\u624b\u611f', 'start': 103, 'end': 105, 'probability': 0.8560884019442128, 'relations': {'\u89c2\u70b9\u8bcd': [{'text': '\u597d', 'start': 106, 'end': 107, 'probability': 0.5581009671925372}, {'text': '\u8212\u9002', 'start': 338, 'end': 340, 'probability': 0.5427722021559802}], '\u60c5\u611f\u503e\u5411[\u6b63\u5411\uff0c\u8d1f\u5411]': [{'text': '\u6b63\u5411', 'probability': 0.9992083088161152}]}}, {'text': '\u6444\u50cf\u5934', 'start': 160, 'end': 163, 'probability': 0.3416025706755832, 'relations': {'\u89c2\u70b9\u8bcd': [{'text': '\u4e0d\u597d\u770b', 'start': 163, 'end': 166, 'probability': 0.5190085281233436}], '\u60c5\u611f\u503e\u5411[\u6b63\u5411\uff0c\u8d1f\u5411]': [{'text': '\u6b63\u5411', 'probability': 0.9870823263909436}]}}]}]\r\n\r\n\u8f93\u51fa\u683c\u5f0f\u662f\u6b63\u5e38\u7684\n```\n\n\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\n\nuie\u4e2d\u7684 taskflow\u6a21\u5f0f\r\n\r\nschema = {'\u8bc4\u4ef7\u7ef4\u5ea6': ['\u89c2\u70b9\u8bcd', '\u60c5\u611f\u503e\u5411[\u6b63\u5411\uff0c\u8d1f\u5411]']}\r\nie = Taskflow('information_extraction', schema=schema)\r\nie.set_schema(schema) ", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3519/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3519/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3514", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3514/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3514/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3514/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/3514", "id": 1414914216, "node_id": "I_kwDOFAsknM5UVeCo", "number": 3514, "title": "[Bug]: tokenizer.save_pretrained \u62a5\u9519", "user": {"login": "gongel", "id": 24390500, "node_id": "MDQ6VXNlcjI0MzkwNTAw", "avatar_url": "https://avatars.githubusercontent.com/u/24390500?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gongel", "html_url": "https://github.com/gongel", "followers_url": "https://api.github.com/users/gongel/followers", "following_url": "https://api.github.com/users/gongel/following{/other_user}", "gists_url": "https://api.github.com/users/gongel/gists{/gist_id}", "starred_url": "https://api.github.com/users/gongel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gongel/subscriptions", "organizations_url": "https://api.github.com/users/gongel/orgs", "repos_url": "https://api.github.com/users/gongel/repos", "events_url": "https://api.github.com/users/gongel/events{/privacy}", "received_events_url": "https://api.github.com/users/gongel/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "wj-Mcat", "id": 10242208, "node_id": "MDQ6VXNlcjEwMjQyMjA4", "avatar_url": "https://avatars.githubusercontent.com/u/10242208?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wj-Mcat", "html_url": "https://github.com/wj-Mcat", "followers_url": "https://api.github.com/users/wj-Mcat/followers", "following_url": "https://api.github.com/users/wj-Mcat/following{/other_user}", "gists_url": "https://api.github.com/users/wj-Mcat/gists{/gist_id}", "starred_url": "https://api.github.com/users/wj-Mcat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wj-Mcat/subscriptions", "organizations_url": "https://api.github.com/users/wj-Mcat/orgs", "repos_url": "https://api.github.com/users/wj-Mcat/repos", "events_url": "https://api.github.com/users/wj-Mcat/events{/privacy}", "received_events_url": "https://api.github.com/users/wj-Mcat/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "wj-Mcat", "id": 10242208, "node_id": "MDQ6VXNlcjEwMjQyMjA4", "avatar_url": "https://avatars.githubusercontent.com/u/10242208?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wj-Mcat", "html_url": "https://github.com/wj-Mcat", "followers_url": "https://api.github.com/users/wj-Mcat/followers", "following_url": "https://api.github.com/users/wj-Mcat/following{/other_user}", "gists_url": "https://api.github.com/users/wj-Mcat/gists{/gist_id}", "starred_url": "https://api.github.com/users/wj-Mcat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wj-Mcat/subscriptions", "organizations_url": "https://api.github.com/users/wj-Mcat/orgs", "repos_url": "https://api.github.com/users/wj-Mcat/repos", "events_url": "https://api.github.com/users/wj-Mcat/events{/privacy}", "received_events_url": "https://api.github.com/users/wj-Mcat/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2022-10-19T12:48:04Z", "updated_at": "2022-11-15T09:32:42Z", "closed_at": "2022-11-15T09:32:42Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\r\n\r\n```Markdown\r\n- paddlepaddle: \r\n- paddlepaddle-gpu: 2.3.2\r\n- paddlenlp: 2.4.1\r\n```\r\n\r\n\r\n### \u91cd\u590d\u95ee\u9898\r\n\r\n- [X] I have searched the existing issues\r\n\r\n### \u9519\u8bef\u63cf\u8ff0\r\n\r\n```Markdown\r\ntokenizer.save_pretrained\u65f6\uff0c\u5982\u679c__init__\u7684\u53c2\u6570\u4e2d\u542b\u6709lambda\u8868\u8fbe\u5f0f\uff0csave_pretrained\u65f6\u4f1a\u4e00\u8d77\u4fdd\u5b58\uff0c\u5bfc\u81f4json.dumps\u62a5\u9519\uff1aTypeError: Object of type function is not JSON serializable\u3002HF\u6ca1\u6709\u6b64\u7c7b\u95ee\u9898\u3002\r\n\r\n\u8be5\u95ee\u9898\u76ee\u524d\u4ed3\u5e93\u5e94\u8be5\u4e0d\u4f1a\u89e6\u53d1\uff0c\u82e5\u6709\u7c7b\u4f3c\u5199\u6cd5\u5219\u4f1a\u89e6\u53d1\uff1ahttps://github.com/IDEA-CCNL/Fengshenbang-LM/blob/main/fengshen/examples/pegasus/tokenizers_pegasus.py#L110\r\n```\r\n\r\n\r\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\r\n\r\n-", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3514/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3514/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3513", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3513/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3513/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3513/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/3513", "id": 1414900363, "node_id": "I_kwDOFAsknM5UVaqL", "number": 3513, "title": "[Bug]: \u591a\u5361\u8bad\u7ec3\u65f6\uff0ctokenizer\u4e0b\u8f7dhang\u4f4f", "user": {"login": "gongel", "id": 24390500, "node_id": "MDQ6VXNlcjI0MzkwNTAw", "avatar_url": "https://avatars.githubusercontent.com/u/24390500?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gongel", "html_url": "https://github.com/gongel", "followers_url": "https://api.github.com/users/gongel/followers", "following_url": "https://api.github.com/users/gongel/following{/other_user}", "gists_url": "https://api.github.com/users/gongel/gists{/gist_id}", "starred_url": "https://api.github.com/users/gongel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gongel/subscriptions", "organizations_url": "https://api.github.com/users/gongel/orgs", "repos_url": "https://api.github.com/users/gongel/repos", "events_url": "https://api.github.com/users/gongel/events{/privacy}", "received_events_url": "https://api.github.com/users/gongel/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "wj-Mcat", "id": 10242208, "node_id": "MDQ6VXNlcjEwMjQyMjA4", "avatar_url": "https://avatars.githubusercontent.com/u/10242208?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wj-Mcat", "html_url": "https://github.com/wj-Mcat", "followers_url": "https://api.github.com/users/wj-Mcat/followers", "following_url": "https://api.github.com/users/wj-Mcat/following{/other_user}", "gists_url": "https://api.github.com/users/wj-Mcat/gists{/gist_id}", "starred_url": "https://api.github.com/users/wj-Mcat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wj-Mcat/subscriptions", "organizations_url": "https://api.github.com/users/wj-Mcat/orgs", "repos_url": "https://api.github.com/users/wj-Mcat/repos", "events_url": "https://api.github.com/users/wj-Mcat/events{/privacy}", "received_events_url": "https://api.github.com/users/wj-Mcat/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "wj-Mcat", "id": 10242208, "node_id": "MDQ6VXNlcjEwMjQyMjA4", "avatar_url": "https://avatars.githubusercontent.com/u/10242208?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wj-Mcat", "html_url": "https://github.com/wj-Mcat", "followers_url": "https://api.github.com/users/wj-Mcat/followers", "following_url": "https://api.github.com/users/wj-Mcat/following{/other_user}", "gists_url": "https://api.github.com/users/wj-Mcat/gists{/gist_id}", "starred_url": "https://api.github.com/users/wj-Mcat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wj-Mcat/subscriptions", "organizations_url": "https://api.github.com/users/wj-Mcat/orgs", "repos_url": "https://api.github.com/users/wj-Mcat/repos", "events_url": "https://api.github.com/users/wj-Mcat/events{/privacy}", "received_events_url": "https://api.github.com/users/wj-Mcat/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2022-10-19T12:38:54Z", "updated_at": "2022-12-01T13:59:17Z", "closed_at": "2022-12-01T13:59:17Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\r\n\r\n```Markdown\r\n- paddlenlp: 2.4.1\r\n- paddlepaddle-gpu: 2.3.2\r\n```\r\n\r\n\r\n### \u91cd\u590d\u95ee\u9898\r\n\r\n- [X] I have searched the existing issues\r\n\r\n### \u9519\u8bef\u63cf\u8ff0\r\n\r\n```Markdown\r\n\u591a\u5361\u8bad\u7ec3\u65f6\uff0c\u5982\u679c\u6a21\u578btokenizer\u6ca1\u6709added_tokens.json\u548ctokenizer_config.json\u4e24\u4e2a\u6587\u4ef6\u65f6\uff0c\u8bad\u7ec3\u4f1ahang\u4f4f\uff0chang\u5728\u4e0b\u8f7d\u5904\u3002\r\n```\r\n\r\n\r\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\r\n\r\n--", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3513/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3513/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3511", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3511/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3511/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3511/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/3511", "id": 1414683428, "node_id": "I_kwDOFAsknM5UUlsk", "number": 3511, "title": "[Bug]: ValueError: parameter name [conv1_weights] have be been used. In dygraph mode, the name of parameter can't be same.Please check the parameter attr value passed to self.create_parameter or constructor of dygraph Layers", "user": {"login": "wn1652400018", "id": 35511759, "node_id": "MDQ6VXNlcjM1NTExNzU5", "avatar_url": "https://avatars.githubusercontent.com/u/35511759?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wn1652400018", "html_url": "https://github.com/wn1652400018", "followers_url": "https://api.github.com/users/wn1652400018/followers", "following_url": "https://api.github.com/users/wn1652400018/following{/other_user}", "gists_url": "https://api.github.com/users/wn1652400018/gists{/gist_id}", "starred_url": "https://api.github.com/users/wn1652400018/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wn1652400018/subscriptions", "organizations_url": "https://api.github.com/users/wn1652400018/orgs", "repos_url": "https://api.github.com/users/wn1652400018/repos", "events_url": "https://api.github.com/users/wn1652400018/events{/privacy}", "received_events_url": "https://api.github.com/users/wn1652400018/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4882422102, "node_id": "LA_kwDOFAsknM8AAAABIwPZVg", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/stale", "name": "stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "linjieccc", "id": 40840292, "node_id": "MDQ6VXNlcjQwODQwMjky", "avatar_url": "https://avatars.githubusercontent.com/u/40840292?v=4", "gravatar_id": "", "url": "https://api.github.com/users/linjieccc", "html_url": "https://github.com/linjieccc", "followers_url": "https://api.github.com/users/linjieccc/followers", "following_url": "https://api.github.com/users/linjieccc/following{/other_user}", "gists_url": "https://api.github.com/users/linjieccc/gists{/gist_id}", "starred_url": "https://api.github.com/users/linjieccc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/linjieccc/subscriptions", "organizations_url": "https://api.github.com/users/linjieccc/orgs", "repos_url": "https://api.github.com/users/linjieccc/repos", "events_url": "https://api.github.com/users/linjieccc/events{/privacy}", "received_events_url": "https://api.github.com/users/linjieccc/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "linjieccc", "id": 40840292, "node_id": "MDQ6VXNlcjQwODQwMjky", "avatar_url": "https://avatars.githubusercontent.com/u/40840292?v=4", "gravatar_id": "", "url": "https://api.github.com/users/linjieccc", "html_url": "https://github.com/linjieccc", "followers_url": "https://api.github.com/users/linjieccc/followers", "following_url": "https://api.github.com/users/linjieccc/following{/other_user}", "gists_url": "https://api.github.com/users/linjieccc/gists{/gist_id}", "starred_url": "https://api.github.com/users/linjieccc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/linjieccc/subscriptions", "organizations_url": "https://api.github.com/users/linjieccc/orgs", "repos_url": "https://api.github.com/users/linjieccc/repos", "events_url": "https://api.github.com/users/linjieccc/events{/privacy}", "received_events_url": "https://api.github.com/users/linjieccc/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2022-10-19T10:07:03Z", "updated_at": "2023-01-07T00:15:44Z", "closed_at": "2023-01-07T00:15:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\n\n```Markdown\n- paddlepaddle:\r\n- paddlepaddle-gpu:  2.3.2 \r\n- paddlenlp: 2.4.1\n```\n\n\n### \u91cd\u590d\u95ee\u9898\n\n- [ ] I have searched the existing issues\n\n### \u9519\u8bef\u63cf\u8ff0\n\n```Markdown\n\u6267\u884c\u8fd9\u4e00\u884c\u4ee3\u7801\uff1aErnieLayoutForTokenClassification.from_pretrained('ernie-layoutx-base-uncased', num_classes=2)\u62a5\u9519\uff1a\r\nTraceback (most recent call last):\r\n  File \"C:\\Users\\16524\\.conda\\envs\\torch10\\lib\\site-packages\\IPython\\core\\interactiveshell.py\", line 3378, in run_code\r\n    exec(code_obj, self.user_global_ns, self.user_ns)\r\n  File \"<ipython-input-18-4a05e53adfe6>\", line 1, in <module>\r\n    ErnieLayoutForTokenClassification.from_pretrained('ernie-layoutx-base-uncased', num_classes=2)\r\n  File \"C:\\Users\\16524\\.conda\\envs\\torch10\\lib\\site-packages\\paddlenlp\\transformers\\model_utils.py\", line 348, in from_pretrained\r\n    base_model = cls.base_model_class(*base_args, **base_kwargs)\r\n  File \"C:\\Users\\16524\\.conda\\envs\\torch10\\lib\\site-packages\\paddlenlp\\transformers\\utils.py\", line 159, in __impl__\r\n    init_func(self, *args, **kwargs)\r\n  File \"C:\\Users\\16524\\.conda\\envs\\torch10\\lib\\site-packages\\paddlenlp\\transformers\\ernie_layout\\modeling.py\", line 697, in __init__\r\n    self.visual = VisualBackbone(config)\r\n  File \"C:\\Users\\16524\\.conda\\envs\\torch10\\lib\\site-packages\\paddlenlp\\transformers\\ernie_layout\\modeling.py\", line 624, in __init__\r\n    self.backbone = ResNet(layers=101)\r\n  File \"C:\\Users\\16524\\.conda\\envs\\torch10\\lib\\site-packages\\paddlenlp\\transformers\\ernie_layout\\visual_backbone.py\", line 200, in __init__\r\n    self.conv = ConvBNLayer(num_channels=self.input_image_channel,\r\n  File \"C:\\Users\\16524\\.conda\\envs\\torch10\\lib\\site-packages\\paddlenlp\\transformers\\ernie_layout\\visual_backbone.py\", line 37, in __init__\r\n    self._conv = Conv2D(in_channels=num_channels,\r\n  File \"C:\\Users\\16524\\.conda\\envs\\torch10\\lib\\site-packages\\paddle\\nn\\layer\\conv.py\", line 644, in __init__\r\n    super(Conv2D, self).__init__(\r\n  File \"C:\\Users\\16524\\.conda\\envs\\torch10\\lib\\site-packages\\paddle\\nn\\layer\\conv.py\", line 133, in __init__\r\n    self.weight = self.create_parameter(\r\n  File \"C:\\Users\\16524\\.conda\\envs\\torch10\\lib\\site-packages\\paddle\\fluid\\dygraph\\layers.py\", line 423, in create_parameter\r\n    return self._helper.create_parameter(temp_attr, shape, dtype, is_bias,\r\n  File \"C:\\Users\\16524\\.conda\\envs\\torch10\\lib\\site-packages\\paddle\\fluid\\layer_helper_base.py\", line 371, in create_parameter\r\n    raise ValueError(\r\nValueError: parameter name [conv1_weights] have be been used. In dygraph mode, the name of parameter can't be same.Please check the parameter attr value passed to self.create_parameter or constructor of dygraph Layers\n```\n\n\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\n\nErnieLayoutForTokenClassification.from_pretrained('ernie-layoutx-base-uncased', num_classes=2)", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3511/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3511/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3509", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3509/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3509/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3509/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/3509", "id": 1414616579, "node_id": "I_kwDOFAsknM5UUVYD", "number": 3509, "title": "[Bug]:  \u6587\u672c\u5206\u7c7b\u79bb\u7ebf\u90e8\u7f72\u4f7f\u7528fp16\u52a0\u901f\u62a5\u9519", "user": {"login": "FFinchR", "id": 61258341, "node_id": "MDQ6VXNlcjYxMjU4MzQx", "avatar_url": "https://avatars.githubusercontent.com/u/61258341?v=4", "gravatar_id": "", "url": "https://api.github.com/users/FFinchR", "html_url": "https://github.com/FFinchR", "followers_url": "https://api.github.com/users/FFinchR/followers", "following_url": "https://api.github.com/users/FFinchR/following{/other_user}", "gists_url": "https://api.github.com/users/FFinchR/gists{/gist_id}", "starred_url": "https://api.github.com/users/FFinchR/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/FFinchR/subscriptions", "organizations_url": "https://api.github.com/users/FFinchR/orgs", "repos_url": "https://api.github.com/users/FFinchR/repos", "events_url": "https://api.github.com/users/FFinchR/events{/privacy}", "received_events_url": "https://api.github.com/users/FFinchR/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "lugimzzz", "id": 63761690, "node_id": "MDQ6VXNlcjYzNzYxNjkw", "avatar_url": "https://avatars.githubusercontent.com/u/63761690?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lugimzzz", "html_url": "https://github.com/lugimzzz", "followers_url": "https://api.github.com/users/lugimzzz/followers", "following_url": "https://api.github.com/users/lugimzzz/following{/other_user}", "gists_url": "https://api.github.com/users/lugimzzz/gists{/gist_id}", "starred_url": "https://api.github.com/users/lugimzzz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lugimzzz/subscriptions", "organizations_url": "https://api.github.com/users/lugimzzz/orgs", "repos_url": "https://api.github.com/users/lugimzzz/repos", "events_url": "https://api.github.com/users/lugimzzz/events{/privacy}", "received_events_url": "https://api.github.com/users/lugimzzz/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "lugimzzz", "id": 63761690, "node_id": "MDQ6VXNlcjYzNzYxNjkw", "avatar_url": "https://avatars.githubusercontent.com/u/63761690?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lugimzzz", "html_url": "https://github.com/lugimzzz", "followers_url": "https://api.github.com/users/lugimzzz/followers", "following_url": "https://api.github.com/users/lugimzzz/following{/other_user}", "gists_url": "https://api.github.com/users/lugimzzz/gists{/gist_id}", "starred_url": "https://api.github.com/users/lugimzzz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lugimzzz/subscriptions", "organizations_url": "https://api.github.com/users/lugimzzz/orgs", "repos_url": "https://api.github.com/users/lugimzzz/repos", "events_url": "https://api.github.com/users/lugimzzz/events{/privacy}", "received_events_url": "https://api.github.com/users/lugimzzz/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2022-10-19T09:24:07Z", "updated_at": "2022-11-18T02:25:38Z", "closed_at": "2022-11-18T02:25:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\n\n```Markdown\n- paddle-bfloat         0.1.7          \r\n- paddle2onnx           1.0.1          \r\n- paddlefsl             1.1.0          \r\n- paddlenlp             2.4.1          \r\n- paddleocr             2.6.0.1        \r\n- paddlepaddle-gpu      2.4.0rc0\n```\n\n\n### \u91cd\u590d\u95ee\u9898\n\n- [X] I have searched the existing issues\n\n### \u9519\u8bef\u63cf\u8ff0\n\n```Markdown\n\u6587\u672c\u5206\u7c7b\u79bb\u7ebf\u90e8\u7f72\u4f7f\u7528fp16\u52a0\u901f\u62a5\u9519\n```\n\n\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\n\n\u5c1d\u8bd5\u6309\u7167[multi_class](https://github.com/PaddlePaddle/PaddleNLP/tree/develop/applications/text_classification/multi_class)\u4f7f\u7528fp16\u52a0\u901f\u8fdb\u884c\u6587\u672c\u5206\u7c7b\u9884\u8bad\u7ec3\u6a21\u578b\u5fae\u8c03\u7684\u79bb\u7ebf\u90e8\u7f72\u65f6\uff08\u4e0d\u4f7f\u7528fp16\u52a0\u901f\u65f6\u53ef\u6b63\u5e38\u90e8\u7f72\uff0c\u4e14\u6211\u5728\u4f7f\u7528uie\u65f6\uff0cfp16\u52a0\u901f\u4e5f\u53ef\u6b63\u5e38\u90e8\u7f72\uff09\uff0c\u9047\u5230\u4e86\u8fd9\u4e2a\u62a5\u9519\uff1a\r\n\u6307\u4ee4\uff1a\r\n`python infer.py     --device \"gpu\"     --model_path_prefix \"../../export/float32\"     --model_name_or_path \"ernie-3.0-medium-zh\"     --max_seq_length 128     --batch_size 32     --dataset_dir \"../../data\" --use_fp16`\r\n\u62a5\u9519\u5982\u4e0b\uff1a\r\n```\r\nTraceback (most recent call last):\r\n  File \"infer.py\", line 62, in <module>\r\n    predictor = Predictor(args, label_list)\r\n  File \"/opt/paddleocr/applications/text_classification/multi_class/deploy/predictor/predictor.py\", line 127, in __init__\r\n    args.num_threads)\r\n  File \"/opt/paddleocr/applications/text_classification/multi_class/deploy/predictor/predictor.py\", line 76, in __init__\r\n    'device_id': device_id\r\n  File \"/usr/local/lib/python3.7/dist-packages/onnxruntime/capi/onnxruntime_inference_collection.py\", line 347, in __init__\r\n    self._create_inference_session(providers, provider_options, disabled_optimizers)\r\n  File \"/usr/local/lib/python3.7/dist-packages/onnxruntime/capi/onnxruntime_inference_collection.py\", line 384, in _create_inference_session\r\n    sess = C.InferenceSession(session_options, self._model_path, True, self._read_config_from_model)\r\nonnxruntime.capi.onnxruntime_pybind11_state.Fail: [ONNXRuntimeError] : 1 : FAIL : Load model from ../../export/fp16_model.onnx failed:Node (p2o.Squeeze.0) Op (Squeeze) [ShapeInferenceError] Dimension of input 1 must be 1 instead of 0\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3509/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3509/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3504", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3504/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3504/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3504/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/3504", "id": 1414245876, "node_id": "I_kwDOFAsknM5US630", "number": 3504, "title": "[Bug]: \u6587\u672c\u5206\u7c7bfew-shot\u79bb\u7ebf\u90e8\u7f72\u62a5\u9519", "user": {"login": "FFinchR", "id": 61258341, "node_id": "MDQ6VXNlcjYxMjU4MzQx", "avatar_url": "https://avatars.githubusercontent.com/u/61258341?v=4", "gravatar_id": "", "url": "https://api.github.com/users/FFinchR", "html_url": "https://github.com/FFinchR", "followers_url": "https://api.github.com/users/FFinchR/followers", "following_url": "https://api.github.com/users/FFinchR/following{/other_user}", "gists_url": "https://api.github.com/users/FFinchR/gists{/gist_id}", "starred_url": "https://api.github.com/users/FFinchR/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/FFinchR/subscriptions", "organizations_url": "https://api.github.com/users/FFinchR/orgs", "repos_url": "https://api.github.com/users/FFinchR/repos", "events_url": "https://api.github.com/users/FFinchR/events{/privacy}", "received_events_url": "https://api.github.com/users/FFinchR/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "LemonNoel", "id": 25607475, "node_id": "MDQ6VXNlcjI1NjA3NDc1", "avatar_url": "https://avatars.githubusercontent.com/u/25607475?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LemonNoel", "html_url": "https://github.com/LemonNoel", "followers_url": "https://api.github.com/users/LemonNoel/followers", "following_url": "https://api.github.com/users/LemonNoel/following{/other_user}", "gists_url": "https://api.github.com/users/LemonNoel/gists{/gist_id}", "starred_url": "https://api.github.com/users/LemonNoel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LemonNoel/subscriptions", "organizations_url": "https://api.github.com/users/LemonNoel/orgs", "repos_url": "https://api.github.com/users/LemonNoel/repos", "events_url": "https://api.github.com/users/LemonNoel/events{/privacy}", "received_events_url": "https://api.github.com/users/LemonNoel/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "LemonNoel", "id": 25607475, "node_id": "MDQ6VXNlcjI1NjA3NDc1", "avatar_url": "https://avatars.githubusercontent.com/u/25607475?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LemonNoel", "html_url": "https://github.com/LemonNoel", "followers_url": "https://api.github.com/users/LemonNoel/followers", "following_url": "https://api.github.com/users/LemonNoel/following{/other_user}", "gists_url": "https://api.github.com/users/LemonNoel/gists{/gist_id}", "starred_url": "https://api.github.com/users/LemonNoel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LemonNoel/subscriptions", "organizations_url": "https://api.github.com/users/LemonNoel/orgs", "repos_url": "https://api.github.com/users/LemonNoel/repos", "events_url": "https://api.github.com/users/LemonNoel/events{/privacy}", "received_events_url": "https://api.github.com/users/LemonNoel/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2022-10-19T04:03:49Z", "updated_at": "2022-10-19T09:03:06Z", "closed_at": "2022-10-19T09:03:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\n\n```Markdown\n- paddle-bfloat         0.1.7          \r\n- paddle2onnx           1.0.0          \r\n- paddlefsl             1.1.0          \r\n- paddlenlp             2.4.1          \r\n- paddleocr             2.6.0.1        \r\n- paddlepaddle-gpu      2.3.2.post112\n```\n\n\n### \u91cd\u590d\u95ee\u9898\n\n- [X] I have searched the existing issues\n\n### \u9519\u8bef\u63cf\u8ff0\n\n```Markdown\n\u6587\u672c\u5206\u7c7b\u591a\u6807\u7b7efew-shot\u79bb\u7ebf\u90e8\u7f72\u62a5\u9519\n```\n\n\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\n\n\u6309\u7167[few-shot](https://github.com/PaddlePaddle/PaddleNLP/tree/develop/applications/text_classification/multi_class/few-shot)\u7684\u6b65\u9aa4\u8fdb\u884c\u8bad\u7ec3\u4e0e\u90e8\u7f72\uff0c\u5728\u79bb\u7ebf\u90e8\u7f72\u65f6\u62a5\u9519\uff1a\r\n\u6307\u4ee4\uff1a\r\n`python infer.py --model_path_prefix checkpoints/export/model --data_dir ./data --batch_size 32 --device gpu --device_id 0`\r\n\u62a5\u9519\uff1a\r\n```\r\n2022-10-19 03:38:33.285240768 [E:onnxruntime:, sequential_executor.cc:368 Execute] Non-zero status code returned while running Mul node. Name:'p2o.Mul.118' Status Message: p2o.Mul.118: right operand cannot broadcast on dim 1 LeftShape: {10,128,768}, RightShape: {10,127,1}\r\nTraceback (most recent call last):\r\n  File \"infer.py\", line 212, in <module>\r\n    predictor.predict(text_list)\r\n  File \"infer.py\", line 149, in predict\r\n    infer_result = self.infer_batch(encoded_inputs)\r\n  File \"infer.py\", line 166, in infer_batch\r\n    results = self._infer(input_dict)\r\n  File \"infer.py\", line 155, in _infer\r\n    infer_data = self.inference_backend.infer(input_dict)\r\n  File \"infer.py\", line 129, in infer\r\n    result = self.predictor.run(None, input_dict)\r\n  File \"/usr/local/lib/python3.7/dist-packages/onnxruntime/capi/onnxruntime_inference_collection.py\", line 200, in run\r\n    return self._sess.run(output_names, input_feed, run_options)\r\nonnxruntime.capi.onnxruntime_pybind11_state.Fail: [ONNXRuntimeError] : 1 : FAIL : Non-zero status code returned while running Mul node. Name:'p2o.Mul.118' Status Message: p2o.Mul.118: right operand cannot broadcast on dim 1 LeftShape: {10,128,768}, RightShape: {10,127,1}\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3504/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3504/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3500", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3500/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3500/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3500/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/3500", "id": 1412917178, "node_id": "I_kwDOFAsknM5UN2e6", "number": 3500, "title": "[Bug]: GPTModel.from_pretrained() \u52a0\u8f7d\u4ec5\u6709 config \u65e0\u6743\u91cd\u6587\u4ef6\u6a21\u578b \"gpt2-small-en\" \u62a5\u9519 FileNotFoundError", "user": {"login": "Yam0214", "id": 40912707, "node_id": "MDQ6VXNlcjQwOTEyNzA3", "avatar_url": "https://avatars.githubusercontent.com/u/40912707?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Yam0214", "html_url": "https://github.com/Yam0214", "followers_url": "https://api.github.com/users/Yam0214/followers", "following_url": "https://api.github.com/users/Yam0214/following{/other_user}", "gists_url": "https://api.github.com/users/Yam0214/gists{/gist_id}", "starred_url": "https://api.github.com/users/Yam0214/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Yam0214/subscriptions", "organizations_url": "https://api.github.com/users/Yam0214/orgs", "repos_url": "https://api.github.com/users/Yam0214/repos", "events_url": "https://api.github.com/users/Yam0214/events{/privacy}", "received_events_url": "https://api.github.com/users/Yam0214/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4882422102, "node_id": "LA_kwDOFAsknM8AAAABIwPZVg", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/stale", "name": "stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "wj-Mcat", "id": 10242208, "node_id": "MDQ6VXNlcjEwMjQyMjA4", "avatar_url": "https://avatars.githubusercontent.com/u/10242208?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wj-Mcat", "html_url": "https://github.com/wj-Mcat", "followers_url": "https://api.github.com/users/wj-Mcat/followers", "following_url": "https://api.github.com/users/wj-Mcat/following{/other_user}", "gists_url": "https://api.github.com/users/wj-Mcat/gists{/gist_id}", "starred_url": "https://api.github.com/users/wj-Mcat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wj-Mcat/subscriptions", "organizations_url": "https://api.github.com/users/wj-Mcat/orgs", "repos_url": "https://api.github.com/users/wj-Mcat/repos", "events_url": "https://api.github.com/users/wj-Mcat/events{/privacy}", "received_events_url": "https://api.github.com/users/wj-Mcat/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "wj-Mcat", "id": 10242208, "node_id": "MDQ6VXNlcjEwMjQyMjA4", "avatar_url": "https://avatars.githubusercontent.com/u/10242208?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wj-Mcat", "html_url": "https://github.com/wj-Mcat", "followers_url": "https://api.github.com/users/wj-Mcat/followers", "following_url": "https://api.github.com/users/wj-Mcat/following{/other_user}", "gists_url": "https://api.github.com/users/wj-Mcat/gists{/gist_id}", "starred_url": "https://api.github.com/users/wj-Mcat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wj-Mcat/subscriptions", "organizations_url": "https://api.github.com/users/wj-Mcat/orgs", "repos_url": "https://api.github.com/users/wj-Mcat/repos", "events_url": "https://api.github.com/users/wj-Mcat/events{/privacy}", "received_events_url": "https://api.github.com/users/wj-Mcat/received_events", "type": "User", "site_admin": false}, {"login": "guoshengCS", "id": 14105589, "node_id": "MDQ6VXNlcjE0MTA1NTg5", "avatar_url": "https://avatars.githubusercontent.com/u/14105589?v=4", "gravatar_id": "", "url": "https://api.github.com/users/guoshengCS", "html_url": "https://github.com/guoshengCS", "followers_url": "https://api.github.com/users/guoshengCS/followers", "following_url": "https://api.github.com/users/guoshengCS/following{/other_user}", "gists_url": "https://api.github.com/users/guoshengCS/gists{/gist_id}", "starred_url": "https://api.github.com/users/guoshengCS/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/guoshengCS/subscriptions", "organizations_url": "https://api.github.com/users/guoshengCS/orgs", "repos_url": "https://api.github.com/users/guoshengCS/repos", "events_url": "https://api.github.com/users/guoshengCS/events{/privacy}", "received_events_url": "https://api.github.com/users/guoshengCS/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2022-10-18T09:54:04Z", "updated_at": "2023-01-01T00:18:25Z", "closed_at": "2023-01-01T00:18:25Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\n\n```Markdown\n- paddlepaddle-gpu: 2.3.2.post116\r\n- paddlenlp: 2.4.0\n```\n\n\n### \u91cd\u590d\u95ee\u9898\n\n- [X] I have searched the existing issues\n\n### \u9519\u8bef\u63cf\u8ff0\n\n```Markdown\n\u5f53\u4f7f\u7528 `GPTModel.from_pretrained(\"gpt2-small-en\")`\u65f6\u65e0\u6cd5\u521b\u5efa\u6a21\u578b\uff0c\u62a5\u9519\uff1a\r\n\r\nFileNotFoundError: [Errno 2] No such file or directory: '/home/username/.paddlenlp/models/gpt2-small-en/model_config.json'\r\n\r\n\u800c\u4e8b\u5b9e\u4e0a\u5728\u8be5\u76ee\u5f55\u4e0b\uff0c\u8fde gpt2-small-en \u6587\u4ef6\u5939\u4e5f\u6ca1\u6709\u521b\u5efa\u3002\r\n\r\n\u66f4\u65b0 paddlenlp \u7248\u672c\u81f3 2.4.1 \u4e5f\u4e0d\u80fd\u89e3\u51b3\u8be5\u95ee\u9898\u3002\n```\n\n\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\n\n\u9996\u5148\u5220\u9664\u672c\u5730\u5df2\u6709\u7684\u6587\u4ef6\u5939\r\n\r\n```bash\r\nrm -rf ~/.paddlenlp/models/gpt2-small-en\r\n```\r\n\r\n\u7136\u540e\u8fd0\u884c\u4ee5\u4e0b\u811a\u672c\r\n\r\n```python\r\nfrom paddlenlp.transformers import GPTModel\r\n\r\ngpt = GPTModel.from_pretrained(\"gpt2-small-en\")\r\n```", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3500/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3500/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3488", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3488/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3488/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3488/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/3488", "id": 1410975480, "node_id": "I_kwDOFAsknM5UGcb4", "number": 3488, "title": "[Bug]: uie\u8bad\u7ec3\u4ee3\u7801\u4e2dutils.py\u6587\u4ef6\u4e2dresult\u53d8\u91cf\u672a\u5b9a\u4e49", "user": {"login": "MachineSheep", "id": 109952192, "node_id": "U_kgDOBo28wA", "avatar_url": "https://avatars.githubusercontent.com/u/109952192?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MachineSheep", "html_url": "https://github.com/MachineSheep", "followers_url": "https://api.github.com/users/MachineSheep/followers", "following_url": "https://api.github.com/users/MachineSheep/following{/other_user}", "gists_url": "https://api.github.com/users/MachineSheep/gists{/gist_id}", "starred_url": "https://api.github.com/users/MachineSheep/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MachineSheep/subscriptions", "organizations_url": "https://api.github.com/users/MachineSheep/orgs", "repos_url": "https://api.github.com/users/MachineSheep/repos", "events_url": "https://api.github.com/users/MachineSheep/events{/privacy}", "received_events_url": "https://api.github.com/users/MachineSheep/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "westfish", "id": 20476674, "node_id": "MDQ6VXNlcjIwNDc2Njc0", "avatar_url": "https://avatars.githubusercontent.com/u/20476674?v=4", "gravatar_id": "", "url": "https://api.github.com/users/westfish", "html_url": "https://github.com/westfish", "followers_url": "https://api.github.com/users/westfish/followers", "following_url": "https://api.github.com/users/westfish/following{/other_user}", "gists_url": "https://api.github.com/users/westfish/gists{/gist_id}", "starred_url": "https://api.github.com/users/westfish/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/westfish/subscriptions", "organizations_url": "https://api.github.com/users/westfish/orgs", "repos_url": "https://api.github.com/users/westfish/repos", "events_url": "https://api.github.com/users/westfish/events{/privacy}", "received_events_url": "https://api.github.com/users/westfish/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "westfish", "id": 20476674, "node_id": "MDQ6VXNlcjIwNDc2Njc0", "avatar_url": "https://avatars.githubusercontent.com/u/20476674?v=4", "gravatar_id": "", "url": "https://api.github.com/users/westfish", "html_url": "https://github.com/westfish", "followers_url": "https://api.github.com/users/westfish/followers", "following_url": "https://api.github.com/users/westfish/following{/other_user}", "gists_url": "https://api.github.com/users/westfish/gists{/gist_id}", "starred_url": "https://api.github.com/users/westfish/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/westfish/subscriptions", "organizations_url": "https://api.github.com/users/westfish/orgs", "repos_url": "https://api.github.com/users/westfish/repos", "events_url": "https://api.github.com/users/westfish/events{/privacy}", "received_events_url": "https://api.github.com/users/westfish/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2022-10-17T06:21:30Z", "updated_at": "2022-10-17T08:34:17Z", "closed_at": "2022-10-17T08:34:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\n\n```Markdown\n- paddlepaddle-gpu: 2.3.0\r\n- paddlenlp: 2.4\n```\n\n\n### \u91cd\u590d\u95ee\u9898\n\n- [X] I have searched the existing issues\n\n### \u9519\u8bef\u63cf\u8ff0\n\n```Markdown\nTraceback (most recent call last):\r\n  File \"./finetune.py\", line 167, in <module>\r\n    do_train()\r\n  File \"./finetune.py\", line 51, in do_train\r\n    train_ds = load_dataset(reader,\r\n  File \"/home/ma-user/work/name_ner/uie_slim/paddlenlp/datasets/dataset.py\", line 196, in load_dataset\r\n    return reader_instance.read(**custom_kwargs)\r\n  File \"/home/ma-user/work/name_ner/uie_slim/paddlenlp/datasets/dataset.py\", line 833, in read\r\n    return MapDataset(list(examples))\r\n  File \"/home/ma-user/work/name_ner/uie_slim/utils.py\", line 225, in reader\r\n    if result['end'] - result['start'] > max_content_len:\r\nUnboundLocalError: local variable 'result' referenced before assignment\n```\n\n\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\n\nhttps://github.com/PaddlePaddle/PaddleNLP/blob/develop/model_zoo/uie/utils.py\r\n\u7b2c225\u884c\uff0cresult\u53d8\u91cf\u672a\u5b9a\u4e49\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3488/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3488/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3477", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3477/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3477/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3477/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/3477", "id": 1409381168, "node_id": "I_kwDOFAsknM5UAXMw", "number": 3477, "title": "[Bug]: \u5b89\u88c5paddle-pipelines\u4e00\u76f4\u5931\u8d25", "user": {"login": "superzhaoyy", "id": 8530746, "node_id": "MDQ6VXNlcjg1MzA3NDY=", "avatar_url": "https://avatars.githubusercontent.com/u/8530746?v=4", "gravatar_id": "", "url": "https://api.github.com/users/superzhaoyy", "html_url": "https://github.com/superzhaoyy", "followers_url": "https://api.github.com/users/superzhaoyy/followers", "following_url": "https://api.github.com/users/superzhaoyy/following{/other_user}", "gists_url": "https://api.github.com/users/superzhaoyy/gists{/gist_id}", "starred_url": "https://api.github.com/users/superzhaoyy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/superzhaoyy/subscriptions", "organizations_url": "https://api.github.com/users/superzhaoyy/orgs", "repos_url": "https://api.github.com/users/superzhaoyy/repos", "events_url": "https://api.github.com/users/superzhaoyy/events{/privacy}", "received_events_url": "https://api.github.com/users/superzhaoyy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4882422102, "node_id": "LA_kwDOFAsknM8AAAABIwPZVg", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/stale", "name": "stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-10-14T13:44:44Z", "updated_at": "2022-12-28T10:09:34Z", "closed_at": "2022-12-28T10:09:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\n\n```Markdown\n- paddlepaddle:\r\n- paddlepaddle-gpu: 2.3.2.post112\r\n- paddlenlp: 2.4.0\n```\n\n\n### \u91cd\u590d\u95ee\u9898\n\n- [X] I have searched the existing issues\n\n### \u9519\u8bef\u63cf\u8ff0\n\n```Markdown\n\u6267\u884cpython -m pip install --upgrade paddle-pipelines -i https://pypi.tuna.tsinghua.edu.cn/simple   \u8fd9\u4e2a\u4e00\u76f4\u5931\u8d25\uff0c\u63d0\u793aPolygon3\u5b89\u88c5\u4e0d\u4e0a\u3002\n```\n\n\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\n\n\u6267\u884cpython -m pip install --upgrade paddle-pipelines -i https://pypi.tuna.tsinghua.edu.cn/simple   \u8fd9\u4e2a\u4e00\u76f4\u5931\u8d25\uff0c\u63d0\u793aPolygon3\u5b89\u88c5\u8865\u4e0a\u3002", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3477/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3477/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3473", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3473/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3473/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3473/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/3473", "id": 1409078056, "node_id": "I_kwDOFAsknM5T_NMo", "number": 3473, "title": "[Bug]: \u4e24\u4e2a\u8bcd\u7684\u8bcd\u5411\u91cf\u7ed3\u679c\u83b7\u53d6\u7684\u662f\u4e00\u6837\u7684", "user": {"login": "sxf20220704", "id": 108640316, "node_id": "U_kgDOBnm4PA", "avatar_url": "https://avatars.githubusercontent.com/u/108640316?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sxf20220704", "html_url": "https://github.com/sxf20220704", "followers_url": "https://api.github.com/users/sxf20220704/followers", "following_url": "https://api.github.com/users/sxf20220704/following{/other_user}", "gists_url": "https://api.github.com/users/sxf20220704/gists{/gist_id}", "starred_url": "https://api.github.com/users/sxf20220704/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sxf20220704/subscriptions", "organizations_url": "https://api.github.com/users/sxf20220704/orgs", "repos_url": "https://api.github.com/users/sxf20220704/repos", "events_url": "https://api.github.com/users/sxf20220704/events{/privacy}", "received_events_url": "https://api.github.com/users/sxf20220704/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4882422102, "node_id": "LA_kwDOFAsknM8AAAABIwPZVg", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/stale", "name": "stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "w5688414", "id": 12107462, "node_id": "MDQ6VXNlcjEyMTA3NDYy", "avatar_url": "https://avatars.githubusercontent.com/u/12107462?v=4", "gravatar_id": "", "url": "https://api.github.com/users/w5688414", "html_url": "https://github.com/w5688414", "followers_url": "https://api.github.com/users/w5688414/followers", "following_url": "https://api.github.com/users/w5688414/following{/other_user}", "gists_url": "https://api.github.com/users/w5688414/gists{/gist_id}", "starred_url": "https://api.github.com/users/w5688414/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/w5688414/subscriptions", "organizations_url": "https://api.github.com/users/w5688414/orgs", "repos_url": "https://api.github.com/users/w5688414/repos", "events_url": "https://api.github.com/users/w5688414/events{/privacy}", "received_events_url": "https://api.github.com/users/w5688414/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "w5688414", "id": 12107462, "node_id": "MDQ6VXNlcjEyMTA3NDYy", "avatar_url": "https://avatars.githubusercontent.com/u/12107462?v=4", "gravatar_id": "", "url": "https://api.github.com/users/w5688414", "html_url": "https://github.com/w5688414", "followers_url": "https://api.github.com/users/w5688414/followers", "following_url": "https://api.github.com/users/w5688414/following{/other_user}", "gists_url": "https://api.github.com/users/w5688414/gists{/gist_id}", "starred_url": "https://api.github.com/users/w5688414/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/w5688414/subscriptions", "organizations_url": "https://api.github.com/users/w5688414/orgs", "repos_url": "https://api.github.com/users/w5688414/repos", "events_url": "https://api.github.com/users/w5688414/events{/privacy}", "received_events_url": "https://api.github.com/users/w5688414/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2022-10-14T09:46:56Z", "updated_at": "2022-12-28T10:09:35Z", "closed_at": "2022-12-28T10:09:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\r\n\r\n```Markdown\r\n- paddlepaddle:2.3.2\r\n- paddlenlp: 2.4.0\r\n```\r\n\r\n\r\n### \u91cd\u590d\u95ee\u9898\r\n\r\n- [X] I have searched the existing issues\r\n\r\n### \u9519\u8bef\u63cf\u8ff0\r\n\r\n```Markdown\r\n\u6309\u7167\u5b98\u65b9\u4f8b\u5b50\u6d4b\u8bd5\u67e5\u8be2embedding\u7ed3\u679c\uff0c\u5b98\u65b9\u6587\u6863\u5730\u5740\u4e3ahttps://github.com/PaddlePaddle/PaddleNLP/blob/develop/docs/model_zoo/embeddings.md\uff0c\u8f93\u5165\u5217\u8868['\u6211\u4eec\u53bb\u8fd0\u52a8','\u4e2d\u56fd\u4eba\u6c11']\u4e24\u4e2a\u8bcd\uff0c\u8fd4\u56de\u7684\u8bcd\u5411\u91cf\u662f\u4e00\u6837\u7684\r\n```\r\n\r\n\r\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\r\n\r\nfrom paddlenlp.embeddings import TokenEmbedding\r\n\r\ntoken_embedding = TokenEmbedding()\r\nprint(token_embedding.search(['\u6211\u4eec\u53bb\u8fd0\u52a8','\u4e2d\u56fd\u4eba\u6c11']))", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3473/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3473/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3451", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3451/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3451/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3451/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/3451", "id": 1406015693, "node_id": "I_kwDOFAsknM5TzhjN", "number": 3451, "title": "[Bug]: ERNIE-LayoutX \u6309\u7167\u793a\u4f8b\u7a0b\u5e8f\u8fd0\u884cdemo \u62a5\u9519\uff1a IndexError: list index out of range", "user": {"login": "CycloneBoy", "id": 13173452, "node_id": "MDQ6VXNlcjEzMTczNDUy", "avatar_url": "https://avatars.githubusercontent.com/u/13173452?v=4", "gravatar_id": "", "url": "https://api.github.com/users/CycloneBoy", "html_url": "https://github.com/CycloneBoy", "followers_url": "https://api.github.com/users/CycloneBoy/followers", "following_url": "https://api.github.com/users/CycloneBoy/following{/other_user}", "gists_url": "https://api.github.com/users/CycloneBoy/gists{/gist_id}", "starred_url": "https://api.github.com/users/CycloneBoy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/CycloneBoy/subscriptions", "organizations_url": "https://api.github.com/users/CycloneBoy/orgs", "repos_url": "https://api.github.com/users/CycloneBoy/repos", "events_url": "https://api.github.com/users/CycloneBoy/events{/privacy}", "received_events_url": "https://api.github.com/users/CycloneBoy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4882422102, "node_id": "LA_kwDOFAsknM8AAAABIwPZVg", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/stale", "name": "stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "linjieccc", "id": 40840292, "node_id": "MDQ6VXNlcjQwODQwMjky", "avatar_url": "https://avatars.githubusercontent.com/u/40840292?v=4", "gravatar_id": "", "url": "https://api.github.com/users/linjieccc", "html_url": "https://github.com/linjieccc", "followers_url": "https://api.github.com/users/linjieccc/followers", "following_url": "https://api.github.com/users/linjieccc/following{/other_user}", "gists_url": "https://api.github.com/users/linjieccc/gists{/gist_id}", "starred_url": "https://api.github.com/users/linjieccc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/linjieccc/subscriptions", "organizations_url": "https://api.github.com/users/linjieccc/orgs", "repos_url": "https://api.github.com/users/linjieccc/repos", "events_url": "https://api.github.com/users/linjieccc/events{/privacy}", "received_events_url": "https://api.github.com/users/linjieccc/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "linjieccc", "id": 40840292, "node_id": "MDQ6VXNlcjQwODQwMjky", "avatar_url": "https://avatars.githubusercontent.com/u/40840292?v=4", "gravatar_id": "", "url": "https://api.github.com/users/linjieccc", "html_url": "https://github.com/linjieccc", "followers_url": "https://api.github.com/users/linjieccc/followers", "following_url": "https://api.github.com/users/linjieccc/following{/other_user}", "gists_url": "https://api.github.com/users/linjieccc/gists{/gist_id}", "starred_url": "https://api.github.com/users/linjieccc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/linjieccc/subscriptions", "organizations_url": "https://api.github.com/users/linjieccc/orgs", "repos_url": "https://api.github.com/users/linjieccc/repos", "events_url": "https://api.github.com/users/linjieccc/events{/privacy}", "received_events_url": "https://api.github.com/users/linjieccc/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2022-10-12T11:06:23Z", "updated_at": "2022-12-28T00:15:44Z", "closed_at": "2022-12-28T00:15:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\r\n\r\n```Markdown\r\n- paddlepaddle:\r\n- paddlepaddle-gpu:  2.3.0.post112\r\n- paddlenlp:  2.4.0\r\n- paddleocr\uff1a 2.6.0.2\r\n```\r\n\r\n\r\n### \u91cd\u590d\u95ee\u9898\r\n\r\n- [X] I have searched the existing issues\r\n\r\n### \u9519\u8bef\u63cf\u8ff0\r\n\r\n```Markdown\r\ndev \u5206\u652f\uff1a\r\n\r\nbug\u539f\u56e0\u5206\u6790\uff1a paddleocr \u8bc6\u522b\u7684\u7ed3\u679c\u8d4b\u503c\u6709\u8bef\r\n\u6587\u4ef6\uff1a paddlenlp/taskflow/document_intelligence.py  106 \r\n\r\n            example[\"ocr_result\"] = ocr_result\r\n```\r\n\r\n\u6539\u6210 \r\n\r\n```\r\n            example[\"ocr_result\"] = ocr_result[0]\r\n```\r\n\r\n\u4fee\u6539\u540e \u793a\u4f8b\u8fd0\u884c\u65e0\u8bef\uff0c\u7ed3\u679c\u6b63\u786e\r\n\r\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\r\n\r\n```\r\n>>> from pprint import pprint\r\n>>> from paddlenlp import Taskflow\r\n\r\n>>> docprompt = Taskflow(\"document_intelligence\")\r\n>>> docprompt([{\"doc\": \"./resume.png\", \"prompt\": [\"\u4e94\u767e\u4e01\u672c\u6b21\u60f3\u8981\u62c5\u4efb\u7684\u662f\u4ec0\u4e48\u804c\u4f4d?\", \"\u4e94\u767e\u4e01\u662f\u5728\u54ea\u91cc\u4e0a\u7684\u5927\u5b66?\", \"\u5927\u5b66\u5b66\u7684\u662f\u4ec0\u4e48\u4e13\u4e1a?\"]}])\r\n[{'prompt': '\u4e94\u767e\u4e01\u672c\u6b21\u60f3\u8981\u62c5\u4efb\u7684\u662f\u4ec0\u4e48\u804c\u4f4d?',\r\n  'result': [{'end': 183, 'prob': 1.0, 'start': 180, 'value': '\u5ba2\u6237\u7ecf\u7406'}]},\r\n {'prompt': '\u4e94\u767e\u4e01\u662f\u5728\u54ea\u91cc\u4e0a\u7684\u5927\u5b66?',\r\n  'result': [{'end': 38, 'prob': 1.0, 'start': 32, 'value': '\u5e7f\u5dde\u4e94\u767e\u4e01\u5b66\u9662'}]},\r\n {'prompt': '\u5927\u5b66\u5b66\u7684\u662f\u4ec0\u4e48\u4e13\u4e1a?',\r\n  'result': [{'end': 45, 'prob': 0.74, 'start': 39, 'value': '\u91d1\u878d\u5b66(\u672c\u79d1\uff09'}]}]\r\n\r\n```\r\n![image](https://user-images.githubusercontent.com/13173452/195325943-fd40a05d-12f7-4c71-a769-dc560cf30384.png)\r\n\r\n\r\n\u4fee\u6539\u540e\uff1a\r\nbug\u539f\u56e0\u5206\u6790\uff1a paddleocr \u8bc6\u522b\u7684\u7ed3\u679c\u8d4b\u503c\u6709\u8bef\r\n\u6587\u4ef6\uff1a paddlenlp/taskflow/document_intelligence.py  \u7b2c 106  \u884c ocr\u7ed3\u679c\u53d6\u503c\u6709\u4e9b\u95ee\u9898\r\n```\r\n            example[\"ocr_result\"] = ocr_result\r\n```\r\n\r\n\u6539\u6210 \r\n\r\n```\r\n            example[\"ocr_result\"] = ocr_result[0]\r\n```\r\n\r\n\u4fee\u6539\u540e \u793a\u4f8b\u8fd0\u884c\u65e0\u8bef\uff0c\u7ed3\u679c\u6b63\u786e\r\n\r\n![image](https://user-images.githubusercontent.com/13173452/195326982-2c76ad67-5f93-4303-85f0-1bc255a6ac6a.png)\r\n", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3451/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3451/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3446", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3446/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3446/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3446/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/3446", "id": 1405652119, "node_id": "I_kwDOFAsknM5TyIyX", "number": 3446, "title": "[Bug]: import paddlenlp \u62a5\u9519\uff0cPillow \u7248\u672c\u95ee\u9898", "user": {"login": "FrostML", "id": 7160927, "node_id": "MDQ6VXNlcjcxNjA5Mjc=", "avatar_url": "https://avatars.githubusercontent.com/u/7160927?v=4", "gravatar_id": "", "url": "https://api.github.com/users/FrostML", "html_url": "https://github.com/FrostML", "followers_url": "https://api.github.com/users/FrostML/followers", "following_url": "https://api.github.com/users/FrostML/following{/other_user}", "gists_url": "https://api.github.com/users/FrostML/gists{/gist_id}", "starred_url": "https://api.github.com/users/FrostML/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/FrostML/subscriptions", "organizations_url": "https://api.github.com/users/FrostML/orgs", "repos_url": "https://api.github.com/users/FrostML/repos", "events_url": "https://api.github.com/users/FrostML/events{/privacy}", "received_events_url": "https://api.github.com/users/FrostML/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "JunnYu", "id": 50394665, "node_id": "MDQ6VXNlcjUwMzk0NjY1", "avatar_url": "https://avatars.githubusercontent.com/u/50394665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JunnYu", "html_url": "https://github.com/JunnYu", "followers_url": "https://api.github.com/users/JunnYu/followers", "following_url": "https://api.github.com/users/JunnYu/following{/other_user}", "gists_url": "https://api.github.com/users/JunnYu/gists{/gist_id}", "starred_url": "https://api.github.com/users/JunnYu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JunnYu/subscriptions", "organizations_url": "https://api.github.com/users/JunnYu/orgs", "repos_url": "https://api.github.com/users/JunnYu/repos", "events_url": "https://api.github.com/users/JunnYu/events{/privacy}", "received_events_url": "https://api.github.com/users/JunnYu/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "JunnYu", "id": 50394665, "node_id": "MDQ6VXNlcjUwMzk0NjY1", "avatar_url": "https://avatars.githubusercontent.com/u/50394665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JunnYu", "html_url": "https://github.com/JunnYu", "followers_url": "https://api.github.com/users/JunnYu/followers", "following_url": "https://api.github.com/users/JunnYu/following{/other_user}", "gists_url": "https://api.github.com/users/JunnYu/gists{/gist_id}", "starred_url": "https://api.github.com/users/JunnYu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JunnYu/subscriptions", "organizations_url": "https://api.github.com/users/JunnYu/orgs", "repos_url": "https://api.github.com/users/JunnYu/repos", "events_url": "https://api.github.com/users/JunnYu/events{/privacy}", "received_events_url": "https://api.github.com/users/JunnYu/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2022-10-12T06:35:51Z", "updated_at": "2022-10-13T07:58:40Z", "closed_at": "2022-10-13T07:58:40Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\r\n\r\n```Markdown\r\n- paddlenlp: develop\r\n```\r\n\r\n### \u9519\u8bef\u63cf\u8ff0\r\n\r\nimport paddlenlp \u62a5\u9519\uff0cPillow \u7248\u672c\u95ee\u9898\u3002\r\n\r\nPaddle \u4e3b\u5e93\u672c\u8eab\u5bf9 Pillow \u7248\u672c\u6ca1\u6709\u9650\u5236\uff0c\u56e0\u6b64\u5728\u8f83\u4f4e\u7248\u672c\u7684 Pillow \u73af\u5883\u4e2d\u4f7f\u7528 Paddle \u6ca1\u6709\u95ee\u9898\uff0c\u4f46\u662f\u4f7f\u7528 PaddleNLP \u4f1a\u62a5\u9519\uff0c\u662f\u5426\u9700\u8981\u5728 PaddleNLP requirements.txt \u91cc\u9762\u52a0\u4ee5\u9650\u5236\uff0c\u6216\u662f\u5728\u5177\u4f53\u7684\u4ee3\u7801\u4e2d\uff0c\u7528\u5230\u76f8\u5173\u529f\u80fd\u518d import\u3002\r\n\r\n\u4fee\u590d\u65b9\u5f0f\uff1a\r\n\r\n``` bash\r\npip install --upgrade Pillow\r\n```\r\n\r\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\r\n\r\n``` python\r\nimport paddlenlp\r\n```", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3446/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3446/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3443", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3443/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3443/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3443/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/3443", "id": 1405455167, "node_id": "I_kwDOFAsknM5TxYs_", "number": 3443, "title": "[Bug]: paddlenlp debug\u4e00\u81f4\u63d0\u793a\u627e\u4e0d\u5230cv2\u6a21\u5757\u3002", "user": {"login": "YYGe01", "id": 45594167, "node_id": "MDQ6VXNlcjQ1NTk0MTY3", "avatar_url": "https://avatars.githubusercontent.com/u/45594167?v=4", "gravatar_id": "", "url": "https://api.github.com/users/YYGe01", "html_url": "https://github.com/YYGe01", "followers_url": "https://api.github.com/users/YYGe01/followers", "following_url": "https://api.github.com/users/YYGe01/following{/other_user}", "gists_url": "https://api.github.com/users/YYGe01/gists{/gist_id}", "starred_url": "https://api.github.com/users/YYGe01/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/YYGe01/subscriptions", "organizations_url": "https://api.github.com/users/YYGe01/orgs", "repos_url": "https://api.github.com/users/YYGe01/repos", "events_url": "https://api.github.com/users/YYGe01/events{/privacy}", "received_events_url": "https://api.github.com/users/YYGe01/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-10-12T02:18:06Z", "updated_at": "2022-10-12T08:35:12Z", "closed_at": "2022-10-12T08:35:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\n\n```Markdown\n- paddlepaddle: 2.3.2\r\n- paddlepaddle-gpu: \u65e0\r\n- paddlenlp: 2.4.0\n```\n\n\n### \u91cd\u590d\u95ee\u9898\n\n- [X] I have searched the existing issues\n\n### \u9519\u8bef\u63cf\u8ff0\n\n```Markdown\n\u7528pycharm debug\uff0c\u663e\u793a\u672a\u627e\u5230cv2\u6a21\u5757\u3002\n```\n\n\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\n\n```python\r\nfrom paddlenlp.transformers import AutoTokenizer\r\nprint(\"fsfsdfsf\")\r\n```\r\n\r\n[](\u7528pycharm\u5728print\u5904\u6253\u65ad\u70b9\uff0c\u4e00\u81f4\u63d0\u793a\u672a\u627e\u5230cv2\u6a21\u5757\u3002\u867d\u7136\u53ef\u4ee5\u4e0d\u7528\u7ba1\uff0c\u4e0d\u4f1a\u62a5\u9519\uff0c\u4f46\u662f\u6bcf\u6b21\u8c03\u8bd5\u90fd\u4f1a\u8df3\u51fa\u8fd9\u591a\u4f59\u7684\u4e00\u6b65\uff0c\u6bd4\u8f83\u70e6\u3002\u53d1\u73b0\u548c\u95ee\u9898[850](https://github.com/PaddlePaddle/PaddleNLP/issues/850) \u4e00\u6837\uff0c\u9700\u8981\u5b89\u88c5opencv-python\u6a21\u5757\uff0c\u624d\u4e0d\u4f1a\u8df3\u51fa\u3002\u4e0d\u786e\u8ba4\u8fd9\u662f\u5426\u662f\u4e00\u4e2abug\uff0c\u5efa\u8bae\u9ed8\u8ba4\u5b89\u88c5opencv\u5e93\u3002\r\n![image](https://user-images.githubusercontent.com/45594167/195232806-04d41be9-4429-4280-b35e-db29ce0c9169.png)\r\n", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3443/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3443/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3440", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3440/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3440/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3440/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/3440", "id": 1404509455, "node_id": "I_kwDOFAsknM5Ttx0P", "number": 3440, "title": "[Bug]: examples/fewshot/pet\u4e2d\u7684prompt\u6a21\u677f\u548canswer\u6a21\u677f\u4e0d\u5339\u914d", "user": {"login": "sijunhe", "id": 11987277, "node_id": "MDQ6VXNlcjExOTg3Mjc3", "avatar_url": "https://avatars.githubusercontent.com/u/11987277?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sijunhe", "html_url": "https://github.com/sijunhe", "followers_url": "https://api.github.com/users/sijunhe/followers", "following_url": "https://api.github.com/users/sijunhe/following{/other_user}", "gists_url": "https://api.github.com/users/sijunhe/gists{/gist_id}", "starred_url": "https://api.github.com/users/sijunhe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sijunhe/subscriptions", "organizations_url": "https://api.github.com/users/sijunhe/orgs", "repos_url": "https://api.github.com/users/sijunhe/repos", "events_url": "https://api.github.com/users/sijunhe/events{/privacy}", "received_events_url": "https://api.github.com/users/sijunhe/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4882422102, "node_id": "LA_kwDOFAsknM8AAAABIwPZVg", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/stale", "name": "stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "LemonNoel", "id": 25607475, "node_id": "MDQ6VXNlcjI1NjA3NDc1", "avatar_url": "https://avatars.githubusercontent.com/u/25607475?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LemonNoel", "html_url": "https://github.com/LemonNoel", "followers_url": "https://api.github.com/users/LemonNoel/followers", "following_url": "https://api.github.com/users/LemonNoel/following{/other_user}", "gists_url": "https://api.github.com/users/LemonNoel/gists{/gist_id}", "starred_url": "https://api.github.com/users/LemonNoel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LemonNoel/subscriptions", "organizations_url": "https://api.github.com/users/LemonNoel/orgs", "repos_url": "https://api.github.com/users/LemonNoel/repos", "events_url": "https://api.github.com/users/LemonNoel/events{/privacy}", "received_events_url": "https://api.github.com/users/LemonNoel/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "LemonNoel", "id": 25607475, "node_id": "MDQ6VXNlcjI1NjA3NDc1", "avatar_url": "https://avatars.githubusercontent.com/u/25607475?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LemonNoel", "html_url": "https://github.com/LemonNoel", "followers_url": "https://api.github.com/users/LemonNoel/followers", "following_url": "https://api.github.com/users/LemonNoel/following{/other_user}", "gists_url": "https://api.github.com/users/LemonNoel/gists{/gist_id}", "starred_url": "https://api.github.com/users/LemonNoel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LemonNoel/subscriptions", "organizations_url": "https://api.github.com/users/LemonNoel/orgs", "repos_url": "https://api.github.com/users/LemonNoel/repos", "events_url": "https://api.github.com/users/LemonNoel/events{/privacy}", "received_events_url": "https://api.github.com/users/LemonNoel/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2022-10-11T11:54:32Z", "updated_at": "2022-12-11T06:59:23Z", "closed_at": "2022-12-11T06:59:23Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\r\n\r\n```Markdown\r\n- paddlepaddle:\r\n- paddlepaddle-gpu:  2.3.2.post112\r\n- paddlenlp: 2.4.0\r\n```\r\n\r\n\r\n### \u91cd\u590d\u95ee\u9898\r\n\r\n- [X] I have searched the existing issues\r\n\r\n### \u9519\u8bef\u63cf\u8ff0\r\n\r\n```Markdown\r\nexamples/fewshot/pet\u4e2d\u7684\u6709\u597d\u51e0\u4e2aprompt\u6a21\u677f\u548canswer\u6a21\u677f\u660e\u663e\u4e0d\u5339\u914d\uff0c\u62fc\u8d77\u6765\u4e0d\u662f\u901a\u987a\u7684\u81ea\u7136\u8bed\u8a00\uff0c\u4e5f\u4e0d\u80fd\u4ee3\u8868label\u7684\u542b\u4e49\u3002\u770b\u8d77\u6765\u53ef\u80fd\u662f\u4e4b\u524d\u66f4\u6539\u7248\u672c\u7684\u65f6\u5019\u6ca1\u6709\u5bf9\u9f50\uff1f\r\n```\r\n\r\n\r\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\r\n\r\n\r\n1. EPRSTMT\u4efb\u52a1\r\n[\u63d0\u793a\u6a21\u677f](https://github.com/PaddlePaddle/PaddleNLP/blob/develop/examples/few_shot/pet/data.py#L310)\r\n```\r\nif pattern_id == 0:\r\n  example[\"sentence1\"] = u'\u611f\u89c9\u5f88<unk>\uff01' + example[\"sentence\"]\r\nelif pattern_id == 1:\r\n  example[\"sentence1\"] = u'\u7efc\u5408\u6765\u8bb2\u5f88<unk>\uff01\uff0c' + example[\"sentence\"]\r\nelif pattern_id == 2:\r\n  example[\"sentence1\"] = example[\"sentence\"] + u'\u611f\u89c9\u975e\u5e38<unk>'\r\nelif pattern_id == 3:\r\n  example[\"sentence1\"] = example[\"sentence\"] + u'\uff0c \u6211\u611f\u5230\u975e\u5e38<unk>'\r\n```\r\n[\u7b54\u6848\u6a21\u677f](https://github.com/PaddlePaddle/PaddleNLP/blob/develop/examples/few_shot/pet/label_normalized/eprstmt.json)\r\n```\r\n{\r\n\"Negative\":\"\u4e0d\",\r\n\"Positive\":\"\u5f88\"\r\n}\r\n```\r\n```\r\n{\"sentence\": \"\u5916\u5305\u88c5\u4e0a\u6709\u70b9\u78e8\u635f\uff0c\u8bd5\u542c\u540e\u611f\u89c9\u4e0d\u9519\", \"label\": \"Positive\"}\r\n```\r\n\u6a21\u677f\u62fc\u63a5\u540e\u7684\u4f8b\u5b50\uff1a\"\u611f\u89c9\u5f88\u5f88\uff01\u5916\u5305\u88c5\u4e0a\u6709\u70b9\u78e8\u635f\uff0c\u8bd5\u542c\u540e\u611f\u89c9\u4e0d\u9519\"\r\n\r\n2. OCNLI\u4efb\u52a1\r\n[\u63d0\u793a\u6a21\u677f](https://github.com/PaddlePaddle/PaddleNLP/blob/develop/examples/few_shot/pet/data.py#L367)\r\n```\r\n        if pattern_id == 0:\r\n            example['sentence1'] = example['sentence1'] + \"\uff0c <unk>\"\r\n        elif pattern_id == 1:\r\n            example[\"sentence2\"] = \"\u548c\" + example['sentence2'] + u\"\uff1f\u770b\u6765<unk>\u4e00\u53e5\u8bdd\"\r\n        elif pattern_id == 2:\r\n            example[\"sentence1\"] = \"\u548c\" + example['sentence2'] + u\"\uff1f<unk>\u4e00\u6837\"\r\n        elif pattern_id == 3:\r\n            example[\"sentence2\"] = \"\u548c\" + example['sentence2'] + u\"\uff1f<unk>\u4e00\u53e5\u8bdd\"\r\n```\r\n[\u7b54\u6848\u6a21\u677f](https://github.com/PaddlePaddle/PaddleNLP/blob/develop/examples/few_shot/pet/label_normalized/ocnli.json)\r\n```\r\n{\r\n  \"entailment\": \"\u5f88\",\r\n  \"contradiction\": \"\u4e0d\",\r\n  \"neutral\": \"\u65e0\"\r\n}\r\n```\r\n```\r\n{\r\n  \"sentence1\":\"\u8eab\u4e0a\u88f9\u4e00\u4ef6\u5de5\u5382\u53d1\u7684\u68c9\u5927\u8863,\u624b\u63d2\u5728\u8896\u7b52\u91cc\",\r\n  \"sentence2\":\"\u8eab\u4e0a\u81f3\u5c11\u4e00\u4ef6\u8863\u670d\",\r\n  \"label\":\"entailment\"\r\n}\r\n```\r\n\u6a21\u677f\u62fc\u63a5\u540e\u7684\u4f8b\u5b50\uff1a\"\u8eab\u4e0a\u88f9\u4e00\u4ef6\u5de5\u5382\u53d1\u7684\u68c9\u5927\u8863,\u5f88\u624b\u63d2\u5728\u8896\u7b52\u91cc\u548c\u8eab\u4e0a\u81f3\u5c11\u4e00\u4ef6\u8863\u670d\"", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3440/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3440/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3428", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3428/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3428/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3428/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/3428", "id": 1403425393, "node_id": "I_kwDOFAsknM5TppJx", "number": 3428, "title": "[Bug]: Data Preprocessing Logic in `examples/pet` has a few bugs", "user": {"login": "sijunhe", "id": 11987277, "node_id": "MDQ6VXNlcjExOTg3Mjc3", "avatar_url": "https://avatars.githubusercontent.com/u/11987277?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sijunhe", "html_url": "https://github.com/sijunhe", "followers_url": "https://api.github.com/users/sijunhe/followers", "following_url": "https://api.github.com/users/sijunhe/following{/other_user}", "gists_url": "https://api.github.com/users/sijunhe/gists{/gist_id}", "starred_url": "https://api.github.com/users/sijunhe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sijunhe/subscriptions", "organizations_url": "https://api.github.com/users/sijunhe/orgs", "repos_url": "https://api.github.com/users/sijunhe/repos", "events_url": "https://api.github.com/users/sijunhe/events{/privacy}", "received_events_url": "https://api.github.com/users/sijunhe/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "LemonNoel", "id": 25607475, "node_id": "MDQ6VXNlcjI1NjA3NDc1", "avatar_url": "https://avatars.githubusercontent.com/u/25607475?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LemonNoel", "html_url": "https://github.com/LemonNoel", "followers_url": "https://api.github.com/users/LemonNoel/followers", "following_url": "https://api.github.com/users/LemonNoel/following{/other_user}", "gists_url": "https://api.github.com/users/LemonNoel/gists{/gist_id}", "starred_url": "https://api.github.com/users/LemonNoel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LemonNoel/subscriptions", "organizations_url": "https://api.github.com/users/LemonNoel/orgs", "repos_url": "https://api.github.com/users/LemonNoel/repos", "events_url": "https://api.github.com/users/LemonNoel/events{/privacy}", "received_events_url": "https://api.github.com/users/LemonNoel/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "LemonNoel", "id": 25607475, "node_id": "MDQ6VXNlcjI1NjA3NDc1", "avatar_url": "https://avatars.githubusercontent.com/u/25607475?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LemonNoel", "html_url": "https://github.com/LemonNoel", "followers_url": "https://api.github.com/users/LemonNoel/followers", "following_url": "https://api.github.com/users/LemonNoel/following{/other_user}", "gists_url": "https://api.github.com/users/LemonNoel/gists{/gist_id}", "starred_url": "https://api.github.com/users/LemonNoel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LemonNoel/subscriptions", "organizations_url": "https://api.github.com/users/LemonNoel/orgs", "repos_url": "https://api.github.com/users/LemonNoel/repos", "events_url": "https://api.github.com/users/LemonNoel/events{/privacy}", "received_events_url": "https://api.github.com/users/LemonNoel/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2022-10-10T16:20:06Z", "updated_at": "2022-12-11T06:59:19Z", "closed_at": "2022-12-11T06:59:19Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\r\n\r\n```Markdown\r\n- paddlepaddle: 2.3.2.post112\r\n- paddlepaddle-gpu: 2.3.2.post112\r\n- paddlenlp: 2.4.0\r\n```\r\n\r\n\r\n### \u91cd\u590d\u95ee\u9898\r\n\r\n- [X] I have searched the existing issues\r\n\r\n### \u9519\u8bef\u63cf\u8ff0\r\n\r\n```Markdown\r\nThe current logic around https://github.com/PaddlePaddle/PaddleNLP/blob/develop/examples/few_shot/pet/data.py#L84 has a few bugs.\r\n\r\n1. `start_mask_position` is the character offset of the mask, not the token offset. This is correct when the text is entirely Chinese. But when there is English characters in the text, it produces the wrong results due to subword tokenization.\r\n2. Even without English characters, the code produces wrong results due to a simple off-by-one mistakes\r\n\r\nI can submit a PR that fixes this. In my own benchmarks, I see a few points of performance improvement after correcting this error.\r\n```\r\n\r\n\r\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\r\n\r\n1. Wrong results when text contains English characters.\r\n```\r\nexample = {'sentence1': '\u8fd9\u90e8\u7535\u5f71\u771f\u597d\u770b\uff01steam\u5267\u60c5\u4ea4\u4e92\u5f0f\u6e38\u620f\u76d8\u70b9\u3002 \u8fd9\u662f<unk>\uff01', 'text_label': '\u7535\u7ade'}\r\ntext_label = example['text_label']\r\nlabel_length = len(text_label)\r\n\r\nmask_tokens = [\"[MASK]\"] * label_length\r\nmask_ids = tokenizer.convert_tokens_to_ids(mask_tokens)\r\nsentence1 = example[\"sentence1\"]\r\nstart_mask_position = sentence1.index(\"<unk>\") + 1\r\nsentence1 = sentence1.replace(\"<unk>\", \"\")\r\nencoded_inputs = tokenizer(text=sentence1, max_seq_len=512)\r\nsrc_ids = encoded_inputs[\"input_ids\"]\r\n# Step2: Insert \"[MASK]\" to src_ids based on start_mask_position\r\nsrc_ids = src_ids[0:start_mask_position] + mask_ids + src_ids[\r\n            start_mask_position:]\r\nprint(tokenizer.decode(src_ids))\r\n>> [CLS] \u8fd9 \u90e8 \u7535 \u5f71 \u771f \u597d \u770b \uff01 steam \u5267 \u60c5 \u4ea4 \u4e92 \u5f0f \u6e38 \u620f \u76d8 \u70b9 \u3002 \u8fd9 \u662f \uff01 [SEP] [MASK] [MASK]\r\n```\r\n2. Even without English characters, the code produces wrong results due to a simple off-by-one mistakes\r\n```\r\nexample = {'sentence1': '\u4e3a\u4f55\u519c\u6c11\u5de5\u6bcf\u5929\u65e5\u591c\u52a0\u73ed\u5374\u6ca1\u6709\u7f51\u7ea2\u5728\u5bb6\u91cc\u76f4\u64ad\u51e0\u5929\u7684\u6536\u5165\u9ad8\uff1f\u3002 \u8fd9\u662f<unk>\uff01', 'text_label': '\u5a31\u4e50'}\r\ntext_label = example['text_label']\r\nlabel_length = len(text_label)\r\n\r\nmask_tokens = [\"[MASK]\"] * label_length\r\nmask_ids = tokenizer.convert_tokens_to_ids(mask_tokens)\r\nsentence1 = example[\"sentence1\"]\r\nstart_mask_position = sentence1.index(\"<unk>\") + 1\r\nsentence1 = sentence1.replace(\"<unk>\", \"\")\r\nencoded_inputs = tokenizer(text=sentence1, max_seq_len=512)\r\nsrc_ids = encoded_inputs[\"input_ids\"]\r\n# Step2: Insert \"[MASK]\" to src_ids based on start_mask_position\r\nsrc_ids = src_ids[0:start_mask_position] + mask_ids + src_ids[\r\n            start_mask_position:]\r\nprint(tokenizer.decode(src_ids))\r\n>> [CLS] \u4e3a \u4f55 \u519c \u6c11 \u5de5 \u6bcf \u5929 \u65e5 \u591c \u52a0 \u73ed \u5374 \u6ca1 \u6709 \u7f51 \u7ea2 \u5728 \u5bb6 \u91cc \u76f4 \u64ad \u51e0 \u5929 \u7684 \u6536 \u5165 \u9ad8 \uff1f \u3002 \u8fd9 \u662f \uff01 [MASK] [MASK] [SEP]\r\n```", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3428/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3428/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3416", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3416/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3416/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3416/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/3416", "id": 1402159742, "node_id": "I_kwDOFAsknM5Tk0J-", "number": 3416, "title": "[Bug]: CUBLAS_STATUS_INTERNAL_ERROR", "user": {"login": "jack-gits", "id": 30545972, "node_id": "MDQ6VXNlcjMwNTQ1OTcy", "avatar_url": "https://avatars.githubusercontent.com/u/30545972?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jack-gits", "html_url": "https://github.com/jack-gits", "followers_url": "https://api.github.com/users/jack-gits/followers", "following_url": "https://api.github.com/users/jack-gits/following{/other_user}", "gists_url": "https://api.github.com/users/jack-gits/gists{/gist_id}", "starred_url": "https://api.github.com/users/jack-gits/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jack-gits/subscriptions", "organizations_url": "https://api.github.com/users/jack-gits/orgs", "repos_url": "https://api.github.com/users/jack-gits/repos", "events_url": "https://api.github.com/users/jack-gits/events{/privacy}", "received_events_url": "https://api.github.com/users/jack-gits/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4882422102, "node_id": "LA_kwDOFAsknM8AAAABIwPZVg", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/stale", "name": "stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2022-10-09T05:41:46Z", "updated_at": "2022-12-25T00:17:37Z", "closed_at": "2022-12-25T00:17:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\n\n```Markdown\npaddlenlp                   2.3.0\r\npaddleocr                   2.6         /home/model-server/PaddleOCR\r\npaddlepaddle-gpu            2.2.1\n```\n\n\n### \u91cd\u590d\u95ee\u9898\n\n- [X] I have searched the existing issues\n\n### \u9519\u8bef\u63cf\u8ff0\n\n```Markdown\n2022-10-09T05:37:08,861 [INFO ] W-9000-uie-cro_vl_ba_vin_snapshot-2022-10-10-stdout MODEL_LOG -   File \"/home/venv/lib/python3.8/site-packages/paddlenlp/taskflow/taskflow.py\", line 314, in __call__\r\n2022-10-09T05:37:08,861 [INFO ] W-9000-uie-cro_vl_ba_vin_snapshot-2022-10-10-stdout MODEL_LOG -     results = self.task_instance(inputs)\r\n2022-10-09T05:37:08,861 [INFO ] W-9000-uie-cro_vl_ba_vin_snapshot-2022-10-10-stdout MODEL_LOG -   File \"/home/venv/lib/python3.8/site-packages/paddlenlp/taskflow/task.py\", line 293, in __call__\r\n2022-10-09T05:37:08,861 [INFO ] W-9000-uie-cro_vl_ba_vin_snapshot-2022-10-10-stdout MODEL_LOG -     outputs = self._run_model(inputs)\r\n2022-10-09T05:37:08,861 [INFO ] W-9000-uie-cro_vl_ba_vin_snapshot-2022-10-10-stdout MODEL_LOG -   File \"/home/venv/lib/python3.8/site-packages/paddlenlp/taskflow/information_extraction.py\", line 334, in _run_model\r\n2022-10-09T05:37:08,861 [INFO ] W-9000-uie-cro_vl_ba_vin_snapshot-2022-10-10-stdout MODEL_LOG -     results = self._multi_stage_predict(raw_inputs, schema_tree)\r\n2022-10-09T05:37:08,862 [INFO ] W-9000-uie-cro_vl_ba_vin_snapshot-2022-10-10-stdout MODEL_LOG -   File \"/home/venv/lib/python3.8/site-packages/paddlenlp/taskflow/information_extraction.py\", line 375, in _multi_stage_predict\r\n2022-10-09T05:37:08,862 [INFO ] W-9000-uie-cro_vl_ba_vin_snapshot-2022-10-10-stdout MODEL_LOG -     result_list = self._single_stage_predict(examples)\r\n2022-10-09T05:37:08,862 [INFO ] W-9000-uie-cro_vl_ba_vin_snapshot-2022-10-10-stdout MODEL_LOG -   File \"/home/venv/lib/python3.8/site-packages/paddlenlp/taskflow/information_extraction.py\", line 251, in _single_stage_predict\r\n2022-10-09T05:37:08,862 [INFO ] W-9000-uie-cro_vl_ba_vin_snapshot-2022-10-10-stdout MODEL_LOG -     self.predictor.run()\r\n2022-10-09T05:37:08,862 [INFO ] W-9000-uie-cro_vl_ba_vin_snapshot-2022-10-10-stdout MODEL_LOG - OSError: (External) CUBLAS error(14). \r\n2022-10-09T05:37:08,862 [INFO ] W-9000-uie-cro_vl_ba_vin_snapshot-2022-10-10-stdout MODEL_LOG -   [Hint: 'CUBLAS_STATUS_INTERNAL_ERROR'.  An internal cuBLAS operation failed. This error is usually caused by a cudaMemcpyAsync() failure.  To correct: check that the hardware, an appropriate version of the driver, and the cuBLAS library are correctly installed. Also, check that the memory passed as a parameter to the routine is not being deallocated prior to the routine\u2019s completion.  ] (at /paddle/paddle/fluid/operators/math/blas_impl.cu.h:35)\r\n2022-10-09T05:37:08,862 [INFO ] W-9000-uie-cro_vl_ba_vin_snapshot-2022-10-10-stdout MODEL_LOG -   [operator < fc > error]\n```\n\n\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\n\nNone", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3416/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3416/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3412", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3412/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3412/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3412/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/3412", "id": 1402112806, "node_id": "I_kwDOFAsknM5Tkosm", "number": 3412, "title": "[Bug]: tokenizer_config.json failed with code 404!", "user": {"login": "engineer1109", "id": 11912040, "node_id": "MDQ6VXNlcjExOTEyMDQw", "avatar_url": "https://avatars.githubusercontent.com/u/11912040?v=4", "gravatar_id": "", "url": "https://api.github.com/users/engineer1109", "html_url": "https://github.com/engineer1109", "followers_url": "https://api.github.com/users/engineer1109/followers", "following_url": "https://api.github.com/users/engineer1109/following{/other_user}", "gists_url": "https://api.github.com/users/engineer1109/gists{/gist_id}", "starred_url": "https://api.github.com/users/engineer1109/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/engineer1109/subscriptions", "organizations_url": "https://api.github.com/users/engineer1109/orgs", "repos_url": "https://api.github.com/users/engineer1109/repos", "events_url": "https://api.github.com/users/engineer1109/events{/privacy}", "received_events_url": "https://api.github.com/users/engineer1109/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "wj-Mcat", "id": 10242208, "node_id": "MDQ6VXNlcjEwMjQyMjA4", "avatar_url": "https://avatars.githubusercontent.com/u/10242208?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wj-Mcat", "html_url": "https://github.com/wj-Mcat", "followers_url": "https://api.github.com/users/wj-Mcat/followers", "following_url": "https://api.github.com/users/wj-Mcat/following{/other_user}", "gists_url": "https://api.github.com/users/wj-Mcat/gists{/gist_id}", "starred_url": "https://api.github.com/users/wj-Mcat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wj-Mcat/subscriptions", "organizations_url": "https://api.github.com/users/wj-Mcat/orgs", "repos_url": "https://api.github.com/users/wj-Mcat/repos", "events_url": "https://api.github.com/users/wj-Mcat/events{/privacy}", "received_events_url": "https://api.github.com/users/wj-Mcat/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "wj-Mcat", "id": 10242208, "node_id": "MDQ6VXNlcjEwMjQyMjA4", "avatar_url": "https://avatars.githubusercontent.com/u/10242208?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wj-Mcat", "html_url": "https://github.com/wj-Mcat", "followers_url": "https://api.github.com/users/wj-Mcat/followers", "following_url": "https://api.github.com/users/wj-Mcat/following{/other_user}", "gists_url": "https://api.github.com/users/wj-Mcat/gists{/gist_id}", "starred_url": "https://api.github.com/users/wj-Mcat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wj-Mcat/subscriptions", "organizations_url": "https://api.github.com/users/wj-Mcat/orgs", "repos_url": "https://api.github.com/users/wj-Mcat/repos", "events_url": "https://api.github.com/users/wj-Mcat/events{/privacy}", "received_events_url": "https://api.github.com/users/wj-Mcat/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2022-10-09T01:22:07Z", "updated_at": "2022-10-13T05:29:06Z", "closed_at": "2022-10-13T05:29:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\r\n\r\n```Markdown\r\n- paddlepaddle:\r\n- paddlepaddle-gpu: 2.3.2.post116\r\n- paddlenlp: 2.4.0.dev0  d6f460e54ab400aeb1160dc220e53c28be44ea85\r\n```\r\n\r\n\r\n### \u91cd\u590d\u95ee\u9898\r\n\r\n- [X] I have searched the existing issues\r\n\r\n### \u9519\u8bef\u63cf\u8ff0\r\n\r\n```Markdown\r\n[2022-10-09 09:05:48,042] [    INFO] - Over-writing compression config by yaml config!\r\n[2022-10-09 09:05:48,042] [    INFO] - ============================================================\r\n[2022-10-09 09:05:48,042] [    INFO] -      Model Configuration Arguments      \r\n[2022-10-09 09:05:48,042] [    INFO] - paddle commit id              :4596b9a22540fb0ea5d369c3c804544de61d03d0\r\n[2022-10-09 09:05:48,043] [    INFO] - cache_dir                     :None\r\n[2022-10-09 09:05:48,043] [    INFO] - config_name                   :None\r\n[2022-10-09 09:05:48,043] [    INFO] - export_model_dir              :None\r\n[2022-10-09 09:05:48,043] [    INFO] - model_name_or_path            :best_models/TNEWS\r\n[2022-10-09 09:05:48,043] [    INFO] - tokenizer_name                :None\r\n[2022-10-09 09:05:48,043] [    INFO] - \r\n[2022-10-09 09:05:48,043] [    INFO] - ============================================================\r\n[2022-10-09 09:05:48,043] [    INFO] -       Data Configuration Arguments      \r\n[2022-10-09 09:05:48,043] [    INFO] - paddle commit id              :4596b9a22540fb0ea5d369c3c804544de61d03d0\r\n[2022-10-09 09:05:48,043] [    INFO] - dataset                       :clue tnews\r\n[2022-10-09 09:05:48,043] [    INFO] - do_lower_case                 :False\r\n[2022-10-09 09:05:48,043] [    INFO] - doc_stride                    :128\r\n[2022-10-09 09:05:48,043] [    INFO] - max_answer_length             :30\r\n[2022-10-09 09:05:48,043] [    INFO] - max_query_length              :64\r\n[2022-10-09 09:05:48,043] [    INFO] - max_seq_length                :128\r\n[2022-10-09 09:05:48,043] [    INFO] - n_best_size                   :20\r\n[2022-10-09 09:05:48,043] [    INFO] - null_score_diff_threshold     :0.0\r\n[2022-10-09 09:05:48,043] [    INFO] - overwrite_cache               :False\r\n[2022-10-09 09:05:48,043] [    INFO] - preprocessing_num_workers     :None\r\n[2022-10-09 09:05:48,043] [    INFO] - \r\n[2022-10-09 09:05:48,196] [    INFO] - Downloading tokenizer_config.json from https://bj.bcebos.com/paddlenlp/models/community/best_models/TNEWS/tokenizer_config.json\r\n[2022-10-09 09:05:48,590] [   ERROR] - Downloading from https://bj.bcebos.com/paddlenlp/models/community/best_models/TNEWS/tokenizer_config.json failed with code 404!\r\n```\r\n\r\n404\r\n\r\nthe json file not exists\r\n\r\n\r\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\r\n\r\n```\r\ncd PaddleNLP/model_zoo/ernie-3.0\r\npython compress_seq_cls.py \\\r\n     --dataset \"clue tnews\"  \\\r\n     --model_name_or_path best_models/TNEWS  \\\r\n     --output_dir ./\r\n```", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3412/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3412/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3405", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3405/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3405/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3405/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/3405", "id": 1401856113, "node_id": "I_kwDOFAsknM5TjqBx", "number": 3405, "title": "[Bug]: https://bj.bcebos.com/paddlenlp/models/community/ernie-doc-base-en\\vocab.txt failed with code 404!", "user": {"login": "yangy996", "id": 15188456, "node_id": "MDQ6VXNlcjE1MTg4NDU2", "avatar_url": "https://avatars.githubusercontent.com/u/15188456?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yangy996", "html_url": "https://github.com/yangy996", "followers_url": "https://api.github.com/users/yangy996/followers", "following_url": "https://api.github.com/users/yangy996/following{/other_user}", "gists_url": "https://api.github.com/users/yangy996/gists{/gist_id}", "starred_url": "https://api.github.com/users/yangy996/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yangy996/subscriptions", "organizations_url": "https://api.github.com/users/yangy996/orgs", "repos_url": "https://api.github.com/users/yangy996/repos", "events_url": "https://api.github.com/users/yangy996/events{/privacy}", "received_events_url": "https://api.github.com/users/yangy996/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "wj-Mcat", "id": 10242208, "node_id": "MDQ6VXNlcjEwMjQyMjA4", "avatar_url": "https://avatars.githubusercontent.com/u/10242208?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wj-Mcat", "html_url": "https://github.com/wj-Mcat", "followers_url": "https://api.github.com/users/wj-Mcat/followers", "following_url": "https://api.github.com/users/wj-Mcat/following{/other_user}", "gists_url": "https://api.github.com/users/wj-Mcat/gists{/gist_id}", "starred_url": "https://api.github.com/users/wj-Mcat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wj-Mcat/subscriptions", "organizations_url": "https://api.github.com/users/wj-Mcat/orgs", "repos_url": "https://api.github.com/users/wj-Mcat/repos", "events_url": "https://api.github.com/users/wj-Mcat/events{/privacy}", "received_events_url": "https://api.github.com/users/wj-Mcat/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "wj-Mcat", "id": 10242208, "node_id": "MDQ6VXNlcjEwMjQyMjA4", "avatar_url": "https://avatars.githubusercontent.com/u/10242208?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wj-Mcat", "html_url": "https://github.com/wj-Mcat", "followers_url": "https://api.github.com/users/wj-Mcat/followers", "following_url": "https://api.github.com/users/wj-Mcat/following{/other_user}", "gists_url": "https://api.github.com/users/wj-Mcat/gists{/gist_id}", "starred_url": "https://api.github.com/users/wj-Mcat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wj-Mcat/subscriptions", "organizations_url": "https://api.github.com/users/wj-Mcat/orgs", "repos_url": "https://api.github.com/users/wj-Mcat/repos", "events_url": "https://api.github.com/users/wj-Mcat/events{/privacy}", "received_events_url": "https://api.github.com/users/wj-Mcat/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 10, "created_at": "2022-10-08T07:29:48Z", "updated_at": "2022-10-08T14:17:47Z", "closed_at": "2022-10-08T14:17:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\n\n```Markdown\n- paddlepaddle-gpu: 2.3.2.post112\r\n- paddlenlp: 2.4\n```\n\n\n### \u91cd\u590d\u95ee\u9898\n\n- [X] I have searched the existing issues\n\n### \u9519\u8bef\u63cf\u8ff0\n\n```Markdown\n\u4e0b\u8f7d\u5730\u5740\u4e2d\u4e0d\u5b58\u5728\u6b64\u6587\u4ef6\n```\n\n\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\n\n\u76f4\u63a5\u5728\u6d4f\u89c8\u5668\u4e2d\u8bbf\u95ee\u8fd9\u4e2a\u5730\u5740\u62a5\u6587\u4ef6\u4e0d\u5b58\u5728\uff1a\r\nhttps://bj.bcebos.com/paddlenlp/models/community/ernie-doc-base-en/vocab.txt\r\n", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3405/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3405/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3402", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3402/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3402/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3402/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/3402", "id": 1400595210, "node_id": "I_kwDOFAsknM5Te2MK", "number": 3402, "title": "[Bug]: stable diffusion\u505aset_argument\u65f6cudnn\u62a5\u9519\u0000", "user": {"login": "bigbrother666sh", "id": 96130569, "node_id": "U_kgDOBbrWCQ", "avatar_url": "https://avatars.githubusercontent.com/u/96130569?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bigbrother666sh", "html_url": "https://github.com/bigbrother666sh", "followers_url": "https://api.github.com/users/bigbrother666sh/followers", "following_url": "https://api.github.com/users/bigbrother666sh/following{/other_user}", "gists_url": "https://api.github.com/users/bigbrother666sh/gists{/gist_id}", "starred_url": "https://api.github.com/users/bigbrother666sh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bigbrother666sh/subscriptions", "organizations_url": "https://api.github.com/users/bigbrother666sh/orgs", "repos_url": "https://api.github.com/users/bigbrother666sh/repos", "events_url": "https://api.github.com/users/bigbrother666sh/events{/privacy}", "received_events_url": "https://api.github.com/users/bigbrother666sh/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "JunnYu", "id": 50394665, "node_id": "MDQ6VXNlcjUwMzk0NjY1", "avatar_url": "https://avatars.githubusercontent.com/u/50394665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JunnYu", "html_url": "https://github.com/JunnYu", "followers_url": "https://api.github.com/users/JunnYu/followers", "following_url": "https://api.github.com/users/JunnYu/following{/other_user}", "gists_url": "https://api.github.com/users/JunnYu/gists{/gist_id}", "starred_url": "https://api.github.com/users/JunnYu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JunnYu/subscriptions", "organizations_url": "https://api.github.com/users/JunnYu/orgs", "repos_url": "https://api.github.com/users/JunnYu/repos", "events_url": "https://api.github.com/users/JunnYu/events{/privacy}", "received_events_url": "https://api.github.com/users/JunnYu/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "JunnYu", "id": 50394665, "node_id": "MDQ6VXNlcjUwMzk0NjY1", "avatar_url": "https://avatars.githubusercontent.com/u/50394665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JunnYu", "html_url": "https://github.com/JunnYu", "followers_url": "https://api.github.com/users/JunnYu/followers", "following_url": "https://api.github.com/users/JunnYu/following{/other_user}", "gists_url": "https://api.github.com/users/JunnYu/gists{/gist_id}", "starred_url": "https://api.github.com/users/JunnYu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JunnYu/subscriptions", "organizations_url": "https://api.github.com/users/JunnYu/orgs", "repos_url": "https://api.github.com/users/JunnYu/repos", "events_url": "https://api.github.com/users/JunnYu/events{/privacy}", "received_events_url": "https://api.github.com/users/JunnYu/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2022-10-07T04:15:21Z", "updated_at": "2022-10-10T06:45:05Z", "closed_at": "2022-10-10T06:45:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\r\n\r\n```Markdown\r\n- paddlepaddle-gpu: 2.3.2.post112\ufffd\r\n- paddlenlp: 2.4.0\r\n\r\nUbuntu 18.04\uff08WSL2\uff09\r\nGPU 3090\r\nCuda 11.2 Cudnn 8.2.1\r\nGPU Compute Capability: 8.6, Driver API Version: 11.7, Runtime API Version: 11.2\r\n```\r\n\r\n\r\n### \u91cd\u590d\u95ee\u9898\r\n\r\n- [X] I have searched the existing issues\r\n\r\n### \u9519\u8bef\u63cf\u8ff0\r\n\r\n```Markdown\r\ntaskflow\u4e2d\u4f7f\u7528table diffusion\u521b\u5efatext_to_image\u5b9e\u4f8b\uff0c\u5bf9\u8be5\u5b9e\u4f8b\u8fdb\u884c.set_argument\ufffd\uff0c\u5219\u62a5\u9519\u5982\u4e0b\uff1a\r\n\r\nOSError: (External) CUDNN error(8), CUDNN_STATUS_EXECUTION_FAILED.\r\n  [Hint: 'CUDNN_STATUS_EXECUTION_FAILED'.  The GPU program failed to execute. This is usually caused by a failure to launch some cuDNN kernel on the GPU, which can occur for multiple reasons.  To correct, check that the hardware, an appropriate version of the driver, and the cuDNN library are correctly installed.  Otherwise, this may indicate an internal error/bug in the library.  ] (at /paddle/paddle/phi/kernels/gpudnn/conv_kernel.cu:379)\r\n  [operator < conv2d > error]\ufffd\r\n```\r\n\r\n\u4e0d\u8fdb\u884c.set_argument\uff0c\u76f4\u63a5\u751f\u6210\u662f\u6210\u529f\u7684\uff0c\u53ef\u4ee5\u51fa\u56fe\u3002\r\n\r\n\r\n\r\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\r\n\r\n```\r\nfrom paddlenlp import Taskflow\r\n\r\ntext_to_image = Taskflow(\"text_to_image\", model=\"CompVis/stable-diffusion-v1-4\")\r\n\r\ntext_to_image.set_argument({'height': 768, 'width': 768})\r\n\r\nimage_list = text_to_image(['a baby tiger on the moon'])\r\nfor batch_index, batch_image in enumerate(image_list):\r\n# len(batch_image) == 2 (num_return_images)\r\n    for image_index_in_returned_images, each_image in enumerate(batch_image):\r\n        each_image.save(f\"stable-diffusion-figure_{batch_index}_{image_index_in_returned_images}.png\")\r\n```", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3402/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3402/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3398", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3398/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3398/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3398/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/3398", "id": 1392212513, "node_id": "I_kwDOFAsknM5S-3oh", "number": 3398, "title": "windows\u73af\u5883\u4e0bpipelines\u7684quesion-answering\u3001semantic-search\u8fd0\u884c\u51fa\u73b0Segmentation fault", "user": {"login": "butear", "id": 57161821, "node_id": "MDQ6VXNlcjU3MTYxODIx", "avatar_url": "https://avatars.githubusercontent.com/u/57161821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/butear", "html_url": "https://github.com/butear", "followers_url": "https://api.github.com/users/butear/followers", "following_url": "https://api.github.com/users/butear/following{/other_user}", "gists_url": "https://api.github.com/users/butear/gists{/gist_id}", "starred_url": "https://api.github.com/users/butear/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/butear/subscriptions", "organizations_url": "https://api.github.com/users/butear/orgs", "repos_url": "https://api.github.com/users/butear/repos", "events_url": "https://api.github.com/users/butear/events{/privacy}", "received_events_url": "https://api.github.com/users/butear/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4285758027, "node_id": "LA_kwDOFAsknM7_c3pL", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/pipelines", "name": "pipelines", "color": "fbca04", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "w5688414", "id": 12107462, "node_id": "MDQ6VXNlcjEyMTA3NDYy", "avatar_url": "https://avatars.githubusercontent.com/u/12107462?v=4", "gravatar_id": "", "url": "https://api.github.com/users/w5688414", "html_url": "https://github.com/w5688414", "followers_url": "https://api.github.com/users/w5688414/followers", "following_url": "https://api.github.com/users/w5688414/following{/other_user}", "gists_url": "https://api.github.com/users/w5688414/gists{/gist_id}", "starred_url": "https://api.github.com/users/w5688414/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/w5688414/subscriptions", "organizations_url": "https://api.github.com/users/w5688414/orgs", "repos_url": "https://api.github.com/users/w5688414/repos", "events_url": "https://api.github.com/users/w5688414/events{/privacy}", "received_events_url": "https://api.github.com/users/w5688414/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "w5688414", "id": 12107462, "node_id": "MDQ6VXNlcjEyMTA3NDYy", "avatar_url": "https://avatars.githubusercontent.com/u/12107462?v=4", "gravatar_id": "", "url": "https://api.github.com/users/w5688414", "html_url": "https://github.com/w5688414", "followers_url": "https://api.github.com/users/w5688414/followers", "following_url": "https://api.github.com/users/w5688414/following{/other_user}", "gists_url": "https://api.github.com/users/w5688414/gists{/gist_id}", "starred_url": "https://api.github.com/users/w5688414/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/w5688414/subscriptions", "organizations_url": "https://api.github.com/users/w5688414/orgs", "repos_url": "https://api.github.com/users/w5688414/repos", "events_url": "https://api.github.com/users/w5688414/events{/privacy}", "received_events_url": "https://api.github.com/users/w5688414/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2022-09-30T10:18:58Z", "updated_at": "2022-10-19T03:27:45Z", "closed_at": "2022-10-19T03:21:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\n\n```Markdown\n-win10\r\n-python 3.7\r\n-CUDA 11.2  \r\n-cudnn 8.4.0\r\n-paddlepaddle-gpu 2.3\r\n-paddlenlp 2.4.0\n```\n\n\n### \u91cd\u590d\u95ee\u9898\n\n- [X] I have searched the existing issues\n\n### \u9519\u8bef\u63cf\u8ff0\n\n```Markdown\nTraceback (most recent call last):\r\n  File \"D:\\Aaron\\PaddleNLP\\pipelines\\ui\\webapp_question_answering.py\", line 178, in main\r\n    top_k_retriever=top_k_retriever)\r\n  File \"D:\\Aaron\\PaddleNLP\\pipelines\\ui\\utils.py\", line 94, in query\r\n    response_raw = requests.post(url, json=req)\r\n  File \"C:\\Dev\\Python\\lib\\site-packages\\requests\\api.py\", line 117, in post\r\n    return request('post', url, data=data, json=json, **kwargs)\r\n  File \"C:\\Dev\\Python\\lib\\site-packages\\requests\\api.py\", line 61, in request\r\n    return session.request(method=method, url=url, **kwargs)\r\n  File \"C:\\Dev\\Python\\lib\\site-packages\\requests\\sessions.py\", line 542, in request\r\n    resp = self.send(prep, **send_kwargs)\r\n  File \"C:\\Dev\\Python\\lib\\site-packages\\requests\\sessions.py\", line 655, in send\r\n    r = adapter.send(request, **kwargs)\r\n  File \"C:\\Dev\\Python\\lib\\site-packages\\requests\\adapters.py\", line 498, in send\r\n    raise ConnectionError(err, request=request)\r\nrequests.exceptions.ConnectionError: ('Connection aborted.', ConnectionResetError(10054, '\u8fdc\u7a0b\u4e3b\u4e86\u4e00\u4e2a\u73b0\u6709\u7684\u8fde\u63a5\u3002', None, 10054, None))\r\n\r\n\r\nINFO:     Application startup complete.\r\n09/30/2022 09:18:57 AM Application startup complete.\r\nINFO:     Uvicorn running on http://0.0.0.0:8891 (Press CTRL+C to quit)\r\n09/30/2022 09:18:57 AM Uvicorn running on http://0.0.0.0:8891 (Press CTRL+C to quit)\r\nINFO:     127.0.0.1:65016 - \"GET /hs_version HTTP/1.1\" 200 OK\r\nINFO:     127.0.0.1:65017 - \"GET /initialized HTTP/1.1\" 200 OK\r\nSegmentation fault\n```\n\n\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\n\nexport PIPELINE_YAML_PATH=rest_api/pipeline/dense_qa.yaml\r\npython rest_api/application.py 8891\r\n\r\nunset http_proxy && unset https_proxy\r\nexport API_ENDPOINT=http://127.0.0.1:8891\r\npython -m streamlit run ui/webapp_question_answering.py --server.port 8502", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3398/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3398/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3359", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3359/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3359/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3359/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/3359", "id": 1383440360, "node_id": "I_kwDOFAsknM5SdZ_o", "number": 3359, "title": "[Bug]: UIE\u84b8\u998f\u540e\u9884\u6d4b\u63a8\u7406\u662f\u6709bug\uff0c\u4f1a\u5361\u6b7b\u5728Taskflow\u9884\u6d4b\u6b65\u9aa4\uff0c\u5177\u4f53\u95ee\u9898\u89c1\u8be6\u7ec6\u63cf\u8ff0\uff1f", "user": {"login": "dingidng", "id": 34392683, "node_id": "MDQ6VXNlcjM0MzkyNjgz", "avatar_url": "https://avatars.githubusercontent.com/u/34392683?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dingidng", "html_url": "https://github.com/dingidng", "followers_url": "https://api.github.com/users/dingidng/followers", "following_url": "https://api.github.com/users/dingidng/following{/other_user}", "gists_url": "https://api.github.com/users/dingidng/gists{/gist_id}", "starred_url": "https://api.github.com/users/dingidng/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dingidng/subscriptions", "organizations_url": "https://api.github.com/users/dingidng/orgs", "repos_url": "https://api.github.com/users/dingidng/repos", "events_url": "https://api.github.com/users/dingidng/events{/privacy}", "received_events_url": "https://api.github.com/users/dingidng/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4882422102, "node_id": "LA_kwDOFAsknM8AAAABIwPZVg", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/stale", "name": "stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "linjieccc", "id": 40840292, "node_id": "MDQ6VXNlcjQwODQwMjky", "avatar_url": "https://avatars.githubusercontent.com/u/40840292?v=4", "gravatar_id": "", "url": "https://api.github.com/users/linjieccc", "html_url": "https://github.com/linjieccc", "followers_url": "https://api.github.com/users/linjieccc/followers", "following_url": "https://api.github.com/users/linjieccc/following{/other_user}", "gists_url": "https://api.github.com/users/linjieccc/gists{/gist_id}", "starred_url": "https://api.github.com/users/linjieccc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/linjieccc/subscriptions", "organizations_url": "https://api.github.com/users/linjieccc/orgs", "repos_url": "https://api.github.com/users/linjieccc/repos", "events_url": "https://api.github.com/users/linjieccc/events{/privacy}", "received_events_url": "https://api.github.com/users/linjieccc/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "linjieccc", "id": 40840292, "node_id": "MDQ6VXNlcjQwODQwMjky", "avatar_url": "https://avatars.githubusercontent.com/u/40840292?v=4", "gravatar_id": "", "url": "https://api.github.com/users/linjieccc", "html_url": "https://github.com/linjieccc", "followers_url": "https://api.github.com/users/linjieccc/followers", "following_url": "https://api.github.com/users/linjieccc/following{/other_user}", "gists_url": "https://api.github.com/users/linjieccc/gists{/gist_id}", "starred_url": "https://api.github.com/users/linjieccc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/linjieccc/subscriptions", "organizations_url": "https://api.github.com/users/linjieccc/orgs", "repos_url": "https://api.github.com/users/linjieccc/repos", "events_url": "https://api.github.com/users/linjieccc/events{/privacy}", "received_events_url": "https://api.github.com/users/linjieccc/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2022-09-23T08:06:00Z", "updated_at": "2022-12-22T16:14:33Z", "closed_at": "2022-12-22T16:14:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\n\n```Markdown\n- paddlepaddle:\r\n- paddlepaddle-gpu: 2.3.2.post112\r\n- paddlenlp: 2.4.0\n```\n\n\n### \u91cd\u590d\u95ee\u9898\n\n- [X] I have searched the existing issues\n\n### \u9519\u8bef\u63cf\u8ff0\n\n```Markdown\n[2022-09-23 15:57:58,851] [    INFO] - We are using <class 'paddlenlp.transformers.ernie.tokenizer.ErnieTokenizer'> to load '/home/aistudio/data_distill/checkpoint_mini_v1/model_best'.\r\n\u6570\u636e\u7ed3\u679c\u5df2\u5bfc\u51fa\r\n[2022-09-23 15:58:16,897] [    INFO] - We are using <class 'paddlenlp.transformers.ernie.tokenizer.ErnieTokenizer'> to load '/home/aistudio/data_distill/checkpoint_mini_v1/model_best'.\r\n\u6570\u636e\u7ed3\u679c\u5df2\u5bfc\u51fa\r\n[2022-09-23 15:58:32,719] [    INFO] - We are using <class 'paddlenlp.transformers.ernie.tokenizer.ErnieTokenizer'> to load '/home/aistudio/data_distill/checkpoint_mini_v1/model_best'.\r\n\u6570\u636e\u7ed3\u679c\u5df2\u5bfc\u51fa\r\n[2022-09-23 15:58:48,466] [    INFO] - We are using <class 'paddlenlp.transformers.ernie.tokenizer.ErnieTokenizer'> to load '/home/aistudio/data_distill/checkpoint_mini_v1/model_best'.\r\n\u6570\u636e\u7ed3\u679c\u5df2\u5bfc\u51fa\r\n[2022-09-23 15:59:04,221] [    INFO] - We are using <class 'paddlenlp.transformers.ernie.tokenizer.ErnieTokenizer'> to load '/home/aistudio/data_distill/checkpoint_mini_v1/model_best'.\r\n\u6570\u636e\u7ed3\u679c\u5df2\u5bfc\u51fa\r\n[2022-09-23 15:59:20,001] [    INFO] - We are using <class 'paddlenlp.transformers.ernie.tokenizer.ErnieTokenizer'> to load '/home/aistudio/data_distill/checkpoint_mini_v1/model_best'.\r\n\r\n\r\n\u5361\u6b7b\u5728\u8fd9\u4e00\u6b65\uff0c\u8fd0\u884c\u4e00\u76f4\u5728\u8f6c\u5708\uff0c\u8fd9\u4e2a\u60c5\u51b5\u5728\u672c\u5730\u4e5f\u4f1a\u51fa\u73b0\uff0c\u731c\u6d4b\u662f\u84b8\u998f\u540e\u53ef\u80fd\u4e00\u4e9b\u4f9d\u8d56\u4f1a\u5b9a\u65f6\u4ece\u5185\u5b58\u4e2d\u91ca\u653e\u8c03\u5bfc\u81f4\u7684\uff0c\u6d4b\u8bd5\u4e86\u672a\u84b8\u998f\u6a21\u578bUIE\u5219\u4e0d\u4f1a\u51fa\u73b0\u8fd9\u4e2a\u95ee\u9898\u3002\n```\n\n\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\n\nfrom pprint import pprint\r\nimport json\r\nfrom paddlenlp.taskflow import Taskflow\r\nimport pandas as pd\r\n#\u8fd0\u884c\u65f6\u95f4\r\nimport time\r\n\r\n\r\n\r\ndef openreadtxt(file_name):\r\n    data = []\r\n    file = open(file_name,'r',encoding='UTF-8')  #\u6253\u5f00\u6587\u4ef6\r\n    file_data = file.readlines() #\u8bfb\u53d6\u6240\u6709\u884c\r\n    for row in file_data:\r\n        data.append(row) #\u5c06\u6bcf\u884c\u6570\u636e\u63d2\u5165data\u4e2d     \r\n    return data\r\n\r\ndef predict_run():\r\n    data_input=openreadtxt('/home/aistudio/\u6570\u636e\u96c6/pre_result_plain_text.txt')\r\n    few_ie = Taskflow(\"information_extraction\", model=\"uie-data-distill-gp\",task_path=\"/home/aistudio/data_distill/checkpoint_mini_v1/model_best\",batch_size=32) # Schema \u5728\u95ed\u57df\u4fe1\u606f\u62bd\u53d6\u4e2d\u662f\u56fa\u5b9a\u7684\r\n    results=few_ie(data_input)\r\n\r\n    print(\"\u6570\u636e\u7ed3\u679c\u5df2\u5bfc\u51fa\")\r\n\r\ni=0\r\nwhile i < 30:\r\n    predict_run()\r\n    time.sleep(15)\r\n    i = i + 1", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3359/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3359/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3295", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3295/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3295/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3295/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/pull/3295", "id": 1377302965, "node_id": "PR_kwDOFAsknM4_Kj13", "number": 3295, "title": "fix bug of relation example is empty", "user": {"login": "linjieccc", "id": 40840292, "node_id": "MDQ6VXNlcjQwODQwMjky", "avatar_url": "https://avatars.githubusercontent.com/u/40840292?v=4", "gravatar_id": "", "url": "https://api.github.com/users/linjieccc", "html_url": "https://github.com/linjieccc", "followers_url": "https://api.github.com/users/linjieccc/followers", "following_url": "https://api.github.com/users/linjieccc/following{/other_user}", "gists_url": "https://api.github.com/users/linjieccc/gists{/gist_id}", "starred_url": "https://api.github.com/users/linjieccc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/linjieccc/subscriptions", "organizations_url": "https://api.github.com/users/linjieccc/orgs", "repos_url": "https://api.github.com/users/linjieccc/repos", "events_url": "https://api.github.com/users/linjieccc/events{/privacy}", "received_events_url": "https://api.github.com/users/linjieccc/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "linjieccc", "id": 40840292, "node_id": "MDQ6VXNlcjQwODQwMjky", "avatar_url": "https://avatars.githubusercontent.com/u/40840292?v=4", "gravatar_id": "", "url": "https://api.github.com/users/linjieccc", "html_url": "https://github.com/linjieccc", "followers_url": "https://api.github.com/users/linjieccc/followers", "following_url": "https://api.github.com/users/linjieccc/following{/other_user}", "gists_url": "https://api.github.com/users/linjieccc/gists{/gist_id}", "starred_url": "https://api.github.com/users/linjieccc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/linjieccc/subscriptions", "organizations_url": "https://api.github.com/users/linjieccc/orgs", "repos_url": "https://api.github.com/users/linjieccc/repos", "events_url": "https://api.github.com/users/linjieccc/events{/privacy}", "received_events_url": "https://api.github.com/users/linjieccc/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "linjieccc", "id": 40840292, "node_id": "MDQ6VXNlcjQwODQwMjky", "avatar_url": "https://avatars.githubusercontent.com/u/40840292?v=4", "gravatar_id": "", "url": "https://api.github.com/users/linjieccc", "html_url": "https://github.com/linjieccc", "followers_url": "https://api.github.com/users/linjieccc/followers", "following_url": "https://api.github.com/users/linjieccc/following{/other_user}", "gists_url": "https://api.github.com/users/linjieccc/gists{/gist_id}", "starred_url": "https://api.github.com/users/linjieccc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/linjieccc/subscriptions", "organizations_url": "https://api.github.com/users/linjieccc/orgs", "repos_url": "https://api.github.com/users/linjieccc/repos", "events_url": "https://api.github.com/users/linjieccc/events{/privacy}", "received_events_url": "https://api.github.com/users/linjieccc/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2022-09-19T02:29:00Z", "updated_at": "2022-09-19T02:33:49Z", "closed_at": "2022-09-19T02:33:43Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/pulls/3295", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/pull/3295", "diff_url": "https://github.com/PaddlePaddle/PaddleNLP/pull/3295.diff", "patch_url": "https://github.com/PaddlePaddle/PaddleNLP/pull/3295.patch", "merged_at": "2022-09-19T02:33:43Z"}, "body": "<!-- Demo: https://github.com/PaddlePaddle/PaddleNLP/pull/26 -->\r\n### PR types\r\n<!-- One of [ New features | Bug fixes | Function optimization | Performance optimization | Breaking changes | Others ] -->\r\nBug fixes\r\n### PR changes\r\n<!-- One of [ Models | APIs | Docs | Others ] -->\r\nOthers\r\n### Description\r\n<!-- Describe what this PR does -->\r\n- fix bug of relation example is empty #3294 ", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3295/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3295/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3294", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3294/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3294/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3294/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/3294", "id": 1376992040, "node_id": "I_kwDOFAsknM5SEzso", "number": 3294, "title": "[Bug]: model_zoo/utils.py, #744, all_relation_examples\u5728is_train=True\u4e0b\u5747\u4e3a\u7a7a\u3002", "user": {"login": "Q-amazing", "id": 89431684, "node_id": "MDQ6VXNlcjg5NDMxNjg0", "avatar_url": "https://avatars.githubusercontent.com/u/89431684?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Q-amazing", "html_url": "https://github.com/Q-amazing", "followers_url": "https://api.github.com/users/Q-amazing/followers", "following_url": "https://api.github.com/users/Q-amazing/following{/other_user}", "gists_url": "https://api.github.com/users/Q-amazing/gists{/gist_id}", "starred_url": "https://api.github.com/users/Q-amazing/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Q-amazing/subscriptions", "organizations_url": "https://api.github.com/users/Q-amazing/orgs", "repos_url": "https://api.github.com/users/Q-amazing/repos", "events_url": "https://api.github.com/users/Q-amazing/events{/privacy}", "received_events_url": "https://api.github.com/users/Q-amazing/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4882422102, "node_id": "LA_kwDOFAsknM8AAAABIwPZVg", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/stale", "name": "stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "linjieccc", "id": 40840292, "node_id": "MDQ6VXNlcjQwODQwMjky", "avatar_url": "https://avatars.githubusercontent.com/u/40840292?v=4", "gravatar_id": "", "url": "https://api.github.com/users/linjieccc", "html_url": "https://github.com/linjieccc", "followers_url": "https://api.github.com/users/linjieccc/followers", "following_url": "https://api.github.com/users/linjieccc/following{/other_user}", "gists_url": "https://api.github.com/users/linjieccc/gists{/gist_id}", "starred_url": "https://api.github.com/users/linjieccc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/linjieccc/subscriptions", "organizations_url": "https://api.github.com/users/linjieccc/orgs", "repos_url": "https://api.github.com/users/linjieccc/repos", "events_url": "https://api.github.com/users/linjieccc/events{/privacy}", "received_events_url": "https://api.github.com/users/linjieccc/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "linjieccc", "id": 40840292, "node_id": "MDQ6VXNlcjQwODQwMjky", "avatar_url": "https://avatars.githubusercontent.com/u/40840292?v=4", "gravatar_id": "", "url": "https://api.github.com/users/linjieccc", "html_url": "https://github.com/linjieccc", "followers_url": "https://api.github.com/users/linjieccc/followers", "following_url": "https://api.github.com/users/linjieccc/following{/other_user}", "gists_url": "https://api.github.com/users/linjieccc/gists{/gist_id}", "starred_url": "https://api.github.com/users/linjieccc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/linjieccc/subscriptions", "organizations_url": "https://api.github.com/users/linjieccc/orgs", "repos_url": "https://api.github.com/users/linjieccc/repos", "events_url": "https://api.github.com/users/linjieccc/events{/privacy}", "received_events_url": "https://api.github.com/users/linjieccc/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2022-09-18T09:06:08Z", "updated_at": "2022-12-21T11:51:29Z", "closed_at": "2022-12-21T11:51:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\n\n```Markdown\n- paddlepaddle:\r\n- paddlepaddle-gpu: \r\n- paddlenlp:\n```\n\n\n### \u91cd\u590d\u95ee\u9898\n\n- [X] I have searched the existing issues\n\n### \u9519\u8bef\u63cf\u8ff0\n\n```Markdown\nmodel_zoo/utils.py, #744, all_relation_examples\u5728is_train=True\u4e0b\u5747\u4e3a\u7a7a\u3002\r\nprint\uff08all_relation_examples\uff09\r\n# all_relation_examples=[]\r\n\u5bfc\u81f4doccano.py\u5728\u8f6c\u6362uie\u6a21\u578b\u6570\u636e\u8fdb\u884c\u5fae\u8c03\u8bad\u7ec3\u4efb\u52a1\u4e2d\uff0c\u5173\u7cfb\u62bd\u53d6\u7684\u8bed\u6599\u4e3a\u7a7a\u3002\n```\n\n\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\n\npython doccano.py \\\r\n    --doccano_file ./data/doccano_ext.json \\\r\n    --task_type ext \\\r\n    --save_dir ./data \\\r\n    --splits 0.8 0.2 0", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3294/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3294/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3289", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3289/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3289/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3289/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/3289", "id": 1376714607, "node_id": "I_kwDOFAsknM5SDv9v", "number": 3289, "title": "[Bug]: There are no kernels which are registered in the strided_slice operator.", "user": {"login": "linonetwo", "id": 3746270, "node_id": "MDQ6VXNlcjM3NDYyNzA=", "avatar_url": "https://avatars.githubusercontent.com/u/3746270?v=4", "gravatar_id": "", "url": "https://api.github.com/users/linonetwo", "html_url": "https://github.com/linonetwo", "followers_url": "https://api.github.com/users/linonetwo/followers", "following_url": "https://api.github.com/users/linonetwo/following{/other_user}", "gists_url": "https://api.github.com/users/linonetwo/gists{/gist_id}", "starred_url": "https://api.github.com/users/linonetwo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/linonetwo/subscriptions", "organizations_url": "https://api.github.com/users/linonetwo/orgs", "repos_url": "https://api.github.com/users/linonetwo/repos", "events_url": "https://api.github.com/users/linonetwo/events{/privacy}", "received_events_url": "https://api.github.com/users/linonetwo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "gongel", "id": 24390500, "node_id": "MDQ6VXNlcjI0MzkwNTAw", "avatar_url": "https://avatars.githubusercontent.com/u/24390500?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gongel", "html_url": "https://github.com/gongel", "followers_url": "https://api.github.com/users/gongel/followers", "following_url": "https://api.github.com/users/gongel/following{/other_user}", "gists_url": "https://api.github.com/users/gongel/gists{/gist_id}", "starred_url": "https://api.github.com/users/gongel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gongel/subscriptions", "organizations_url": "https://api.github.com/users/gongel/orgs", "repos_url": "https://api.github.com/users/gongel/repos", "events_url": "https://api.github.com/users/gongel/events{/privacy}", "received_events_url": "https://api.github.com/users/gongel/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gongel", "id": 24390500, "node_id": "MDQ6VXNlcjI0MzkwNTAw", "avatar_url": "https://avatars.githubusercontent.com/u/24390500?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gongel", "html_url": "https://github.com/gongel", "followers_url": "https://api.github.com/users/gongel/followers", "following_url": "https://api.github.com/users/gongel/following{/other_user}", "gists_url": "https://api.github.com/users/gongel/gists{/gist_id}", "starred_url": "https://api.github.com/users/gongel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gongel/subscriptions", "organizations_url": "https://api.github.com/users/gongel/orgs", "repos_url": "https://api.github.com/users/gongel/repos", "events_url": "https://api.github.com/users/gongel/events{/privacy}", "received_events_url": "https://api.github.com/users/gongel/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2022-09-17T09:02:13Z", "updated_at": "2022-09-19T07:21:52Z", "closed_at": "2022-09-17T11:49:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "### \u8f6f\u4ef6\u73af\u5883\r\n\r\n```Markdown\r\npaddle-bfloat      0.1.7\r\npaddle2onnx        1.0.0\r\npaddlefsl          1.1.0\r\npaddlenlp          2.4.0\r\npaddlepaddle       2.3.2\r\npaddlepaddle-gpu   2.3.2.post112\r\n```\r\n\r\n\r\n### \u91cd\u590d\u95ee\u9898\r\n\r\n- [X] I have searched the existing issues\r\n\r\nhttps://github.com/PaddlePaddle/Paddle/issues?q=There+are+no+kernels+which+are+registered+in\r\n\r\n### \u9519\u8bef\u63cf\u8ff0\r\n\r\n```Markdown\r\npython3.9/site-packages/paddlenlp/transformers/image_utils.py:213: DeprecationWarning: BILINEAR is deprecated and will be removed in Pillow 10 (2023-07-01). Use Resampling.BILINEAR instead.\r\n  resample=Image.BILINEAR,\r\npython3.9/site-packages/paddlenlp/transformers/image_utils.py:379: DeprecationWarning: NEAREST is deprecated and will be removed in Pillow 10 (2023-07-01). Use Resampling.NEAREST or Dither.NONE instead.\r\n  resample=Image.NEAREST,\r\npython3.9/site-packages/paddlenlp/transformers/ernie_vil/feature_extraction.py:65: DeprecationWarning: BICUBIC is deprecated and will be removed in Pillow 10 (2023-07-01). Use Resampling.BICUBIC instead.\r\n  resample=Image.BICUBIC,\r\npython3.9/site-packages/paddlenlp/transformers/clip/feature_extraction.py:64: DeprecationWarning: BICUBIC is deprecated and will be removed in Pillow 10 (2023-07-01). Use Resampling.BICUBIC instead.\r\n  resample=Image.BICUBIC,\r\nrunning build\r\nrunning build_ext\r\n\u001b[33m[2022-09-17 19:37:31,742] [ WARNING]\u001b[0m - FasterTransformer is not available due to build errors.\u001b[0m\r\nerror: [Errno 2] No such file or directory: 'cmake'\r\nCompiling user custom op, it will cost a few seconds.....\r\nINFO:     10.68.53.252:60982 - \"POST /v1/engines/codegen/completions HTTP/1.1\" 500 Internal Server Error\r\n\r\n....\r\n\r\nreturn self._getitem_index_not_tensor(item)\r\nRuntimeError: (NotFound) There are no kernels which are registered in the strided_slice operator.\r\n  [Hint: Expected kernels_iter != all_op_kernels.end(), but received kernels_iter == all_op_kernels.end().] (at /paddle/paddle/fluid/imperative/prepared_operator.cc:341)\r\n  [operator < strided_slice > error]\r\n```\r\n\r\n\r\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\r\n\r\n\u540c https://github.com/PaddlePaddle/PaddleNLP/issues/3265 \uff0c\u4f46\u8fd9\u6b21\u5728\u516c\u53f8\u5f00\u53d1\u673a\u4e0a\u8fd0\u884c https://bytedance.feishu.cn/docx/doxcnG8QhkQpAmjggvk0RpGv1Rh", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3289/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3289/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3265", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3265/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3265/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3265/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/3265", "id": 1372493880, "node_id": "I_kwDOFAsknM5Rzpg4", "number": 3265, "title": "[Bug]: Mac CPU \u73af\u5883\u4e0b codegeneration \u793a\u4f8b\u62a5\u9519 (NotFound) There are no kernels which are registered in the unsqueeze2 operator.", "user": {"login": "linonetwo", "id": 3746270, "node_id": "MDQ6VXNlcjM3NDYyNzA=", "avatar_url": "https://avatars.githubusercontent.com/u/3746270?v=4", "gravatar_id": "", "url": "https://api.github.com/users/linonetwo", "html_url": "https://github.com/linonetwo", "followers_url": "https://api.github.com/users/linonetwo/followers", "following_url": "https://api.github.com/users/linonetwo/following{/other_user}", "gists_url": "https://api.github.com/users/linonetwo/gists{/gist_id}", "starred_url": "https://api.github.com/users/linonetwo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/linonetwo/subscriptions", "organizations_url": "https://api.github.com/users/linonetwo/orgs", "repos_url": "https://api.github.com/users/linonetwo/repos", "events_url": "https://api.github.com/users/linonetwo/events{/privacy}", "received_events_url": "https://api.github.com/users/linonetwo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "gongel", "id": 24390500, "node_id": "MDQ6VXNlcjI0MzkwNTAw", "avatar_url": "https://avatars.githubusercontent.com/u/24390500?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gongel", "html_url": "https://github.com/gongel", "followers_url": "https://api.github.com/users/gongel/followers", "following_url": "https://api.github.com/users/gongel/following{/other_user}", "gists_url": "https://api.github.com/users/gongel/gists{/gist_id}", "starred_url": "https://api.github.com/users/gongel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gongel/subscriptions", "organizations_url": "https://api.github.com/users/gongel/orgs", "repos_url": "https://api.github.com/users/gongel/repos", "events_url": "https://api.github.com/users/gongel/events{/privacy}", "received_events_url": "https://api.github.com/users/gongel/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gongel", "id": 24390500, "node_id": "MDQ6VXNlcjI0MzkwNTAw", "avatar_url": "https://avatars.githubusercontent.com/u/24390500?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gongel", "html_url": "https://github.com/gongel", "followers_url": "https://api.github.com/users/gongel/followers", "following_url": "https://api.github.com/users/gongel/following{/other_user}", "gists_url": "https://api.github.com/users/gongel/gists{/gist_id}", "starred_url": "https://api.github.com/users/gongel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gongel/subscriptions", "organizations_url": "https://api.github.com/users/gongel/orgs", "repos_url": "https://api.github.com/users/gongel/repos", "events_url": "https://api.github.com/users/gongel/events{/privacy}", "received_events_url": "https://api.github.com/users/gongel/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2022-09-14T07:25:25Z", "updated_at": "2022-09-14T08:00:52Z", "closed_at": "2022-09-14T08:00:52Z", "author_association": "NONE", "active_lock_reason": null, "body": " @gongel \r\n\r\n### \u8f6f\u4ef6\u73af\u5883\r\n\r\n```Markdown\r\npaddle-bfloat      0.1.7\r\npaddle2onnx        1.0.0\r\npaddlefsl          1.1.0\r\npaddlenlp          2.4.0\r\npaddlepaddle       2.3.2\r\n```\r\n\r\n\r\n### \u91cd\u590d\u95ee\u9898\r\n\r\n- [X] I have searched the existing issues\r\n\r\n### \u9519\u8bef\u63cf\u8ff0\r\n\r\n\u6d4b\u8bd5 example https://github.com/PaddlePaddle/PaddleNLP/tree/develop/examples/code_generation/codegen#%E6%B5%8B%E8%AF%95%E6%9C%8D%E5%8A%A1 \u65f6\u62a5\u9519\r\n\r\n```\r\nINFO:     Uvicorn running on http://0.0.0.0:8978 (Press CTRL+C to quit)\r\nINFO 2022-09-14 15:14:01,346 server.py:206] Uvicorn running on http://0.0.0.0:8978 (Press CTRL+C to quit)\r\n[2022-09-14 15:20:21,718] [    INFO] - Request: {'prompt': 'def hello', 'stream': False}\r\n[2022-09-14 15:20:21,724] [    INFO] - Start generating code\r\n[2022-09-14 15:20:21,796] [ WARNING] - FasterTransformer is not available because CUDA can not be found.\r\n[2022-09-14 15:20:21,796] [ WARNING] - \r\n[2022-09-14 15:20:21,796] [ WARNING] - FasterGeneration is not available, and the original version would be used instead.\r\nINFO:     127.0.0.1:59261 - \"POST /v1/engines/codegen/completions HTTP/1.1\" 500 Internal Server Error\r\nERROR:    Exception in ASGI application\r\nTraceback (most recent call last):\r\n  File \"/usr/local/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py\", line 366, in run_asgi\r\n    result = await app(self.scope, self.receive, self.send)\r\n  File \"/usr/local/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py\", line 75, in __call__\r\n    return await self.app(scope, receive, send)\r\n  File \"/usr/local/lib/python3.9/site-packages/fastapi/applications.py\", line 269, in __call__\r\n    await super().__call__(scope, receive, send)\r\n  File \"/usr/local/lib/python3.9/site-packages/starlette/applications.py\", line 124, in __call__\r\n    await self.middleware_stack(scope, receive, send)\r\n  File \"/usr/local/lib/python3.9/site-packages/starlette/middleware/errors.py\", line 184, in __call__\r\n    raise exc\r\n  File \"/usr/local/lib/python3.9/site-packages/starlette/middleware/errors.py\", line 162, in __call__\r\n    await self.app(scope, receive, _send)\r\n  File \"/usr/local/lib/python3.9/site-packages/starlette/exceptions.py\", line 93, in __call__\r\n    raise exc\r\n  File \"/usr/local/lib/python3.9/site-packages/starlette/exceptions.py\", line 82, in __call__\r\n    await self.app(scope, receive, sender)\r\n  File \"/usr/local/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py\", line 21, in __call__\r\n    raise e\r\n  File \"/usr/local/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py\", line 18, in __call__\r\n    await self.app(scope, receive, send)\r\n  File \"/usr/local/lib/python3.9/site-packages/starlette/routing.py\", line 670, in __call__\r\n    await route.handle(scope, receive, send)\r\n  File \"/usr/local/lib/python3.9/site-packages/starlette/routing.py\", line 266, in handle\r\n    await self.app(scope, receive, send)\r\n  File \"/usr/local/lib/python3.9/site-packages/starlette/routing.py\", line 65, in app\r\n    response = await func(request)\r\n  File \"/usr/local/lib/python3.9/site-packages/fastapi/routing.py\", line 227, in app\r\n    raw_response = await run_endpoint_function(\r\n  File \"/usr/local/lib/python3.9/site-packages/fastapi/routing.py\", line 160, in run_endpoint_function\r\n    return await dependant.call(**values)\r\n  File \"/Users/lindongwu/Desktop/github/PaddleNLP/examples/code_generation/codegen/codegen_server.py\", line 94, in gen\r\n    output, _ = model.generate(\r\n  File \"/usr/local/lib/python3.9/site-packages/decorator.py\", line 232, in fun\r\n    return caller(func, *(extras + args), **kw)\r\n  File \"/usr/local/lib/python3.9/site-packages/paddle/fluid/dygraph/base.py\", line 354, in _decorate_function\r\n    return func(*args, **kwargs)\r\n  File \"/usr/local/lib/python3.9/site-packages/paddlenlp/transformers/generation_utils.py\", line 838, in generate\r\n    \"attention_mask\"] = self.prepare_attention_mask_for_generation(\r\n  File \"/usr/local/lib/python3.9/site-packages/paddlenlp/transformers/generation_utils.py\", line 307, in prepare_attention_mask_for_generation\r\n    return paddle.unsqueeze(attention_mask, axis=[1, 2])\r\n  File \"/usr/local/lib/python3.9/site-packages/paddle/tensor/manipulation.py\", line 1339, in unsqueeze\r\n    return layers.unsqueeze(x, axis, name)\r\n  File \"/usr/local/lib/python3.9/site-packages/paddle/fluid/layers/nn.py\", line 6572, in unsqueeze\r\n    out, _ = _C_ops.unsqueeze2(input, 'axes', axes)\r\nRuntimeError: (NotFound) There are no kernels which are registered in the unsqueeze2 operator.\r\n  [Hint: Expected kernels_iter != all_op_kernels.end(), but received kernels_iter == all_op_kernels.end().] (at /home/Paddle/paddle/fluid/imperative/prepared_operator.cc:341)\r\n  [operator < unsqueeze2 > error]\r\nERROR 2022-09-14 15:20:21,829 h11_impl.py:369] Exception in ASGI application\r\nTraceback (most recent call last):\r\n  File \"/usr/local/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py\", line 366, in run_asgi\r\n    result = await app(self.scope, self.receive, self.send)\r\n  File \"/usr/local/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py\", line 75, in __call__\r\n    return await self.app(scope, receive, send)\r\n  File \"/usr/local/lib/python3.9/site-packages/fastapi/applications.py\", line 269, in __call__\r\n    await super().__call__(scope, receive, send)\r\n  File \"/usr/local/lib/python3.9/site-packages/starlette/applications.py\", line 124, in __call__\r\n    await self.middleware_stack(scope, receive, send)\r\n  File \"/usr/local/lib/python3.9/site-packages/starlette/middleware/errors.py\", line 184, in __call__\r\n    raise exc\r\n  File \"/usr/local/lib/python3.9/site-packages/starlette/middleware/errors.py\", line 162, in __call__\r\n    await self.app(scope, receive, _send)\r\n  File \"/usr/local/lib/python3.9/site-packages/starlette/exceptions.py\", line 93, in __call__\r\n    raise exc\r\n  File \"/usr/local/lib/python3.9/site-packages/starlette/exceptions.py\", line 82, in __call__\r\n    await self.app(scope, receive, sender)\r\n  File \"/usr/local/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py\", line 21, in __call__\r\n    raise e\r\n  File \"/usr/local/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py\", line 18, in __call__\r\n    await self.app(scope, receive, send)\r\n  File \"/usr/local/lib/python3.9/site-packages/starlette/routing.py\", line 670, in __call__\r\n    await route.handle(scope, receive, send)\r\n  File \"/usr/local/lib/python3.9/site-packages/starlette/routing.py\", line 266, in handle\r\n    await self.app(scope, receive, send)\r\n  File \"/usr/local/lib/python3.9/site-packages/starlette/routing.py\", line 65, in app\r\n    response = await func(request)\r\n  File \"/usr/local/lib/python3.9/site-packages/fastapi/routing.py\", line 227, in app\r\n    raw_response = await run_endpoint_function(\r\n  File \"/usr/local/lib/python3.9/site-packages/fastapi/routing.py\", line 160, in run_endpoint_function\r\n    return await dependant.call(**values)\r\n  File \"/Users/lindongwu/Desktop/github/PaddleNLP/examples/code_generation/codegen/codegen_server.py\", line 94, in gen\r\n    output, _ = model.generate(\r\n  File \"/usr/local/lib/python3.9/site-packages/decorator.py\", line 232, in fun\r\n    return caller(func, *(extras + args), **kw)\r\n  File \"/usr/local/lib/python3.9/site-packages/paddle/fluid/dygraph/base.py\", line 354, in _decorate_function\r\n    return func(*args, **kwargs)\r\n  File \"/usr/local/lib/python3.9/site-packages/paddlenlp/transformers/generation_utils.py\", line 838, in generate\r\n    \"attention_mask\"] = self.prepare_attention_mask_for_generation(\r\n  File \"/usr/local/lib/python3.9/site-packages/paddlenlp/transformers/generation_utils.py\", line 307, in prepare_attention_mask_for_generation\r\n    return paddle.unsqueeze(attention_mask, axis=[1, 2])\r\n  File \"/usr/local/lib/python3.9/site-packages/paddle/tensor/manipulation.py\", line 1339, in unsqueeze\r\n    return layers.unsqueeze(x, axis, name)\r\n  File \"/usr/local/lib/python3.9/site-packages/paddle/fluid/layers/nn.py\", line 6572, in unsqueeze\r\n    out, _ = _C_ops.unsqueeze2(input, 'axes', axes)\r\nRuntimeError: (NotFound) There are no kernels which are registered in the unsqueeze2 operator.\r\n  [Hint: Expected kernels_iter != all_op_kernels.end(), but received kernels_iter == all_op_kernels.end().] (at /home/Paddle/paddle/fluid/imperative/prepared_operator.cc:341)\r\n  [operator < unsqueeze2 > error]\r\n```\r\n\r\n\r\n### \u7a33\u5b9a\u590d\u73b0\u6b65\u9aa4 & \u4ee3\u7801\r\n\r\n\u6309 https://github.com/PaddlePaddle/PaddleNLP/discussions/3264 \u542f\u52a8\u793a\u4f8b\uff0c\u7136\u540e\u6309 https://github.com/PaddlePaddle/PaddleNLP/tree/develop/examples/code_generation/codegen#%E6%B5%8B%E8%AF%95%E6%9C%8D%E5%8A%A1 \u5c1d\u8bd5\u8bf7\u6c42\u670d\u52a1\uff0c\u7b2c\u4e00\u6b65\uff0c\u8fd8\u5728\u8bd5\u7528\u4e2d", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3265/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3265/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3254", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3254/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3254/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3254/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/3254", "id": 1371094231, "node_id": "I_kwDOFAsknM5RuTzX", "number": 3254, "title": "\u589e\u52a0special tokens\u540e\uff0csave_pretrained\u4fdd\u5b58\u7684model_config\uff0cvocab size\u6ca1\u6709\u6539\u53d8", "user": {"login": "gongel", "id": 24390500, "node_id": "MDQ6VXNlcjI0MzkwNTAw", "avatar_url": "https://avatars.githubusercontent.com/u/24390500?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gongel", "html_url": "https://github.com/gongel", "followers_url": "https://api.github.com/users/gongel/followers", "following_url": "https://api.github.com/users/gongel/following{/other_user}", "gists_url": "https://api.github.com/users/gongel/gists{/gist_id}", "starred_url": "https://api.github.com/users/gongel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gongel/subscriptions", "organizations_url": "https://api.github.com/users/gongel/orgs", "repos_url": "https://api.github.com/users/gongel/repos", "events_url": "https://api.github.com/users/gongel/events{/privacy}", "received_events_url": "https://api.github.com/users/gongel/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "wj-Mcat", "id": 10242208, "node_id": "MDQ6VXNlcjEwMjQyMjA4", "avatar_url": "https://avatars.githubusercontent.com/u/10242208?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wj-Mcat", "html_url": "https://github.com/wj-Mcat", "followers_url": "https://api.github.com/users/wj-Mcat/followers", "following_url": "https://api.github.com/users/wj-Mcat/following{/other_user}", "gists_url": "https://api.github.com/users/wj-Mcat/gists{/gist_id}", "starred_url": "https://api.github.com/users/wj-Mcat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wj-Mcat/subscriptions", "organizations_url": "https://api.github.com/users/wj-Mcat/orgs", "repos_url": "https://api.github.com/users/wj-Mcat/repos", "events_url": "https://api.github.com/users/wj-Mcat/events{/privacy}", "received_events_url": "https://api.github.com/users/wj-Mcat/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "wj-Mcat", "id": 10242208, "node_id": "MDQ6VXNlcjEwMjQyMjA4", "avatar_url": "https://avatars.githubusercontent.com/u/10242208?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wj-Mcat", "html_url": "https://github.com/wj-Mcat", "followers_url": "https://api.github.com/users/wj-Mcat/followers", "following_url": "https://api.github.com/users/wj-Mcat/following{/other_user}", "gists_url": "https://api.github.com/users/wj-Mcat/gists{/gist_id}", "starred_url": "https://api.github.com/users/wj-Mcat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wj-Mcat/subscriptions", "organizations_url": "https://api.github.com/users/wj-Mcat/orgs", "repos_url": "https://api.github.com/users/wj-Mcat/repos", "events_url": "https://api.github.com/users/wj-Mcat/events{/privacy}", "received_events_url": "https://api.github.com/users/wj-Mcat/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2022-09-13T08:53:19Z", "updated_at": "2022-09-14T07:41:53Z", "closed_at": "2022-09-14T07:41:53Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "\u95ee\u9898\uff1a\u589e\u52a0special tokens\u540e\uff0c\u8fdb\u884cresize_token_embeddings\uff0csave_pretrained\u4fdd\u5b58\u7684model_config\uff0cvocab size\u6ca1\u6709\u6539\u53d8\uff0c\u5bfc\u81f4from_pretrained\u7684\u65f6\u5019\uff0cembedding\u5c42\u52a0\u8f7d\u6709\u8bef\uff0c\u800c\u4e14\u6ca1\u6709warning\u3002\r\n\r\n\u7248\u672c\uff1aPaddleNLP develop\r\n\r\n\u590d\u73b0\u4ee3\u7801\uff1a\r\n```python\r\nimport os\r\nfrom paddlenlp.transformers import GPTModel, GPTTokenizer\r\n\r\nmodel = GPTModel(**GPTModel.pretrained_init_configuration['gpt2-en'])\r\nprint(model.embeddings.word_embeddings.weight.shape) # [50257, 768]\r\n\r\ntokenizer = GPTTokenizer.from_pretrained('gpt2-en')\r\ntokenizer.add_tokens(['gongenlei'], True)\r\nprint(len(tokenizer)) # 50258\r\n\r\nmodel.resize_token_embeddings(len(tokenizer))\r\nprint(model.embeddings.word_embeddings.weight.shape) # [50258, 768]\r\n\r\nmodel.save_pretrained('test')\r\nos.system('cat test/model_config.json')\r\n```\r\nHF\u6ca1\u6709\u6b64\u95ee\u9898", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3254/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3254/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3195", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3195/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3195/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3195/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/3195", "id": 1361500702, "node_id": "I_kwDOFAsknM5RJtoe", "number": 3195, "title": "[BUG] Tokenizer is_split_into_words \u53c2\u6570\u9009\u9879\u4e0d\u7b26\u5408\u9884\u671f\u3002", "user": {"login": "ZHUI", "id": 16911935, "node_id": "MDQ6VXNlcjE2OTExOTM1", "avatar_url": "https://avatars.githubusercontent.com/u/16911935?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ZHUI", "html_url": "https://github.com/ZHUI", "followers_url": "https://api.github.com/users/ZHUI/followers", "following_url": "https://api.github.com/users/ZHUI/following{/other_user}", "gists_url": "https://api.github.com/users/ZHUI/gists{/gist_id}", "starred_url": "https://api.github.com/users/ZHUI/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ZHUI/subscriptions", "organizations_url": "https://api.github.com/users/ZHUI/orgs", "repos_url": "https://api.github.com/users/ZHUI/repos", "events_url": "https://api.github.com/users/ZHUI/events{/privacy}", "received_events_url": "https://api.github.com/users/ZHUI/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 2717960704, "node_id": "MDU6TGFiZWwyNzE3OTYwNzA0", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/question", "name": "question", "color": "d876e3", "default": true, "description": "Further information is requested"}], "state": "closed", "locked": false, "assignee": {"login": "wj-Mcat", "id": 10242208, "node_id": "MDQ6VXNlcjEwMjQyMjA4", "avatar_url": "https://avatars.githubusercontent.com/u/10242208?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wj-Mcat", "html_url": "https://github.com/wj-Mcat", "followers_url": "https://api.github.com/users/wj-Mcat/followers", "following_url": "https://api.github.com/users/wj-Mcat/following{/other_user}", "gists_url": "https://api.github.com/users/wj-Mcat/gists{/gist_id}", "starred_url": "https://api.github.com/users/wj-Mcat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wj-Mcat/subscriptions", "organizations_url": "https://api.github.com/users/wj-Mcat/orgs", "repos_url": "https://api.github.com/users/wj-Mcat/repos", "events_url": "https://api.github.com/users/wj-Mcat/events{/privacy}", "received_events_url": "https://api.github.com/users/wj-Mcat/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "wj-Mcat", "id": 10242208, "node_id": "MDQ6VXNlcjEwMjQyMjA4", "avatar_url": "https://avatars.githubusercontent.com/u/10242208?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wj-Mcat", "html_url": "https://github.com/wj-Mcat", "followers_url": "https://api.github.com/users/wj-Mcat/followers", "following_url": "https://api.github.com/users/wj-Mcat/following{/other_user}", "gists_url": "https://api.github.com/users/wj-Mcat/gists{/gist_id}", "starred_url": "https://api.github.com/users/wj-Mcat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wj-Mcat/subscriptions", "organizations_url": "https://api.github.com/users/wj-Mcat/orgs", "repos_url": "https://api.github.com/users/wj-Mcat/repos", "events_url": "https://api.github.com/users/wj-Mcat/events{/privacy}", "received_events_url": "https://api.github.com/users/wj-Mcat/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2022-09-05T07:10:47Z", "updated_at": "2022-09-06T11:13:47Z", "closed_at": "2022-09-06T11:13:47Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "\u6b22\u8fce\u60a8\u53cd\u9988PaddleNLP\u4f7f\u7528\u95ee\u9898\uff0c\u8f9b\u82e6\u60a8\u63d0\u4f9b\u4ee5\u4e0b\u4fe1\u606f\uff0c\u65b9\u4fbf\u6211\u4eec\u5feb\u901f\u5b9a\u4f4d\u548c\u89e3\u51b3\u95ee\u9898\uff1a\r\n 1. PaddleNLP\u7248\u672c\uff1adevelop\r\n\r\nTokenizer `is_split_into_words` \u53c2\u6570\u9009\u9879\u4e0d\u7b26\u5408\u9884\u671f\u3002\r\n\r\n```python\r\n>>> ernie_tokenizer = paddlenlp.transformers.AutoTokenizer.from_pretrained(\"ernie-2.0-base-zh\")\r\n>>> ernie_tokenizer.convert_tokens_to_ids([\"241\", \"##5\",\"\u4eba\"])\r\n[5494, 9486, 8]\r\n>>> ernie_tokenizer([\"241\", \"##5\",\"\u4eba\"], is_split_into_words=True)\r\n{'input_ids': [1, 5494, 9474, 9474, 317, 8, 2], 'token_type_ids': [0, 0, 0, 0, 0, 0, 0]}\r\n```\r\n\r\n\u867d\u7136\u52a0\u4e86`is_split_into_words`\u9009\u9879\uff0c \u8fd9\u91cc\u7684 `##5` \u6ca1\u6709\u8f6c\u5316\u6210\u4e00\u4e2a\u5355\u72ectoken\uff0c\u800c\u662f\u5207\u5206\u4e3a `# # 5`", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3195/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/3195/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/2832", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/2832/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/2832/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/2832/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/2832", "id": 1308925616, "node_id": "I_kwDOFAsknM5OBJ6w", "number": 2832, "title": "\u4f7f\u7528\u8bed\u4e49\u68c0\u7d22\u7cfb\u7edf\u4e2d\u7684example semantic_search_example.py\u62a5\u9519  \uff08\u5df2\u4f7f\u7528\u6700\u65b0\u4ee3\u7801\uff09", "user": {"login": "mingo-doer", "id": 28819717, "node_id": "MDQ6VXNlcjI4ODE5NzE3", "avatar_url": "https://avatars.githubusercontent.com/u/28819717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mingo-doer", "html_url": "https://github.com/mingo-doer", "followers_url": "https://api.github.com/users/mingo-doer/followers", "following_url": "https://api.github.com/users/mingo-doer/following{/other_user}", "gists_url": "https://api.github.com/users/mingo-doer/gists{/gist_id}", "starred_url": "https://api.github.com/users/mingo-doer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mingo-doer/subscriptions", "organizations_url": "https://api.github.com/users/mingo-doer/orgs", "repos_url": "https://api.github.com/users/mingo-doer/repos", "events_url": "https://api.github.com/users/mingo-doer/events{/privacy}", "received_events_url": "https://api.github.com/users/mingo-doer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4285758027, "node_id": "LA_kwDOFAsknM7_c3pL", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/pipelines", "name": "pipelines", "color": "fbca04", "default": false, "description": ""}, {"id": 4882422102, "node_id": "LA_kwDOFAsknM8AAAABIwPZVg", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/stale", "name": "stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "w5688414", "id": 12107462, "node_id": "MDQ6VXNlcjEyMTA3NDYy", "avatar_url": "https://avatars.githubusercontent.com/u/12107462?v=4", "gravatar_id": "", "url": "https://api.github.com/users/w5688414", "html_url": "https://github.com/w5688414", "followers_url": "https://api.github.com/users/w5688414/followers", "following_url": "https://api.github.com/users/w5688414/following{/other_user}", "gists_url": "https://api.github.com/users/w5688414/gists{/gist_id}", "starred_url": "https://api.github.com/users/w5688414/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/w5688414/subscriptions", "organizations_url": "https://api.github.com/users/w5688414/orgs", "repos_url": "https://api.github.com/users/w5688414/repos", "events_url": "https://api.github.com/users/w5688414/events{/privacy}", "received_events_url": "https://api.github.com/users/w5688414/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "w5688414", "id": 12107462, "node_id": "MDQ6VXNlcjEyMTA3NDYy", "avatar_url": "https://avatars.githubusercontent.com/u/12107462?v=4", "gravatar_id": "", "url": "https://api.github.com/users/w5688414", "html_url": "https://github.com/w5688414", "followers_url": "https://api.github.com/users/w5688414/followers", "following_url": "https://api.github.com/users/w5688414/following{/other_user}", "gists_url": "https://api.github.com/users/w5688414/gists{/gist_id}", "starred_url": "https://api.github.com/users/w5688414/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/w5688414/subscriptions", "organizations_url": "https://api.github.com/users/w5688414/orgs", "repos_url": "https://api.github.com/users/w5688414/repos", "events_url": "https://api.github.com/users/w5688414/events{/privacy}", "received_events_url": "https://api.github.com/users/w5688414/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 7, "created_at": "2022-07-19T03:28:02Z", "updated_at": "2022-12-22T16:29:00Z", "closed_at": "2022-12-22T16:29:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "PaddleNLP 2.3.4   \uff0cPaddlePaddle-gpu 2.3.1   \r\n\r\n\u4f7f\u7528CPU \u8fd0\u884c\r\n\r\n\u95ee\u9898\u548chttps://github.com/PaddlePaddle/PaddleNLP/issues/2198 \u4e00\u81f4\uff0c\u4f46\u662f\u6211\u5df2\u62c9\u53d6\u6700\u65b0\u4ee3\u7801\uff0c\u4ecd\u65e7\u62a5\u9519\r\n\r\n File \"/root/anaconda3/envs/paddlenlp/lib/python3.7/site-packages/paddle/nn/functional/input.py\", line 206, in embedding\r\n    'remote_prefetch', False, 'padding_idx', padding_idx)\r\nValueError: (InvalidArgument) Variable value (input) of OP(fluid.layers.embedding) expected >= 0 and < 513, but got 513. Please check input value.\r\n  [Hint: Expected ids[i] < row_number, but received ids[i]:513 >= row_number:513.] (at /paddle/paddle/phi/kernels/cpu/embedding_kernel.cc:63)\r\n  [operator < lookup_table_v2 > error]", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/2832/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/2832/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/2761", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/2761/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/2761/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/2761/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/2761", "id": 1298403732, "node_id": "I_kwDOFAsknM5NZBGU", "number": 2761, "title": "Pipelines\u8bed\u4e49\u7d22\u5f15 ImagetoTextConverter\u7f3a\u5931\u95ee\u9898\u548c\u8bed\u4e49\u7d22\u5f15docdir\u8def\u5f84\u95ee\u9898", "user": {"login": "w5688414", "id": 12107462, "node_id": "MDQ6VXNlcjEyMTA3NDYy", "avatar_url": "https://avatars.githubusercontent.com/u/12107462?v=4", "gravatar_id": "", "url": "https://api.github.com/users/w5688414", "html_url": "https://github.com/w5688414", "followers_url": "https://api.github.com/users/w5688414/followers", "following_url": "https://api.github.com/users/w5688414/following{/other_user}", "gists_url": "https://api.github.com/users/w5688414/gists{/gist_id}", "starred_url": "https://api.github.com/users/w5688414/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/w5688414/subscriptions", "organizations_url": "https://api.github.com/users/w5688414/orgs", "repos_url": "https://api.github.com/users/w5688414/repos", "events_url": "https://api.github.com/users/w5688414/events{/privacy}", "received_events_url": "https://api.github.com/users/w5688414/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4285758027, "node_id": "LA_kwDOFAsknM7_c3pL", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/pipelines", "name": "pipelines", "color": "fbca04", "default": false, "description": ""}, {"id": 4882422102, "node_id": "LA_kwDOFAsknM8AAAABIwPZVg", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/stale", "name": "stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "w5688414", "id": 12107462, "node_id": "MDQ6VXNlcjEyMTA3NDYy", "avatar_url": "https://avatars.githubusercontent.com/u/12107462?v=4", "gravatar_id": "", "url": "https://api.github.com/users/w5688414", "html_url": "https://github.com/w5688414", "followers_url": "https://api.github.com/users/w5688414/followers", "following_url": "https://api.github.com/users/w5688414/following{/other_user}", "gists_url": "https://api.github.com/users/w5688414/gists{/gist_id}", "starred_url": "https://api.github.com/users/w5688414/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/w5688414/subscriptions", "organizations_url": "https://api.github.com/users/w5688414/orgs", "repos_url": "https://api.github.com/users/w5688414/repos", "events_url": "https://api.github.com/users/w5688414/events{/privacy}", "received_events_url": "https://api.github.com/users/w5688414/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "w5688414", "id": 12107462, "node_id": "MDQ6VXNlcjEyMTA3NDYy", "avatar_url": "https://avatars.githubusercontent.com/u/12107462?v=4", "gravatar_id": "", "url": "https://api.github.com/users/w5688414", "html_url": "https://github.com/w5688414", "followers_url": "https://api.github.com/users/w5688414/followers", "following_url": "https://api.github.com/users/w5688414/following{/other_user}", "gists_url": "https://api.github.com/users/w5688414/gists{/gist_id}", "starred_url": "https://api.github.com/users/w5688414/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/w5688414/subscriptions", "organizations_url": "https://api.github.com/users/w5688414/orgs", "repos_url": "https://api.github.com/users/w5688414/repos", "events_url": "https://api.github.com/users/w5688414/events{/privacy}", "received_events_url": "https://api.github.com/users/w5688414/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2022-07-08T02:39:08Z", "updated_at": "2022-12-22T16:29:58Z", "closed_at": "2022-12-22T16:29:58Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "\u6b22\u8fce\u60a8\u53cd\u9988PaddleNLP\u4f7f\u7528\u95ee\u9898\uff0c\u975e\u5e38\u611f\u8c22\u60a8\u5bf9PaddleNLP\u7684\u8d21\u732e\uff01\r\n\u5728\u7559\u4e0b\u60a8\u7684\u95ee\u9898\u65f6\uff0c\u8f9b\u82e6\u60a8\u540c\u6b65\u63d0\u4f9b\u5982\u4e0b\u4fe1\u606f\uff1a\r\n- \u7248\u672c\u3001\u73af\u5883\u4fe1\u606f\r\n1\uff09PaddleNLP\u548cPaddlePaddle\u7248\u672c\uff1a\u8bf7\u63d0\u4f9b\u60a8\u7684PaddleNLP\u548cPaddlePaddle\u7248\u672c\u53f7\uff0c\u4f8b\u5982PaddleNLP 2.0.4\uff0cPaddlePaddle2.1.1\r\n2\uff09\u7cfb\u7edf\u73af\u5883\uff1a\u8bf7\u60a8\u63cf\u8ff0\u7cfb\u7edf\u7c7b\u578b\uff0c\u4f8b\u5982Linux/Windows/MacOS/\uff0cpython\u7248\u672c\r\n- \u590d\u73b0\u4fe1\u606f\uff1a\u5982\u4e3a\u62a5\u9519\uff0c\u8bf7\u7ed9\u51fa\u590d\u73b0\u73af\u5883\u3001\u590d\u73b0\u6b65\u9aa4\r\n![image](https://user-images.githubusercontent.com/12107462/177905807-322b2b27-fd71-412a-84fd-ccda1d60cceb.png)\r\n\r\n![image](https://user-images.githubusercontent.com/12107462/177905815-48e9a939-3a60-4e27-b3c4-70ee953bcdf8.png)\r\n\r\n\u6628\u5929\u8fd0\u884c\u8fd9\u4e00\u6b65\u7684\u65f6\u5019\uff0c\u4f1a\u51fa\u73b0\u56fe\u4e2d\u9519\u8bef\uff0c\u6211\u6ce8\u91ca\u6389\u56fe\u4e2d\u90a3\u4e24\u5904\u540e\uff0c\u624d\u6267\u884c\u901a\u8fc7\r\n\r\n![image](https://user-images.githubusercontent.com/12107462/177905855-8437b04b-11cd-4929-a30f-14b2b314e410.png)\r\n\r\n\u518d\u5c31\u662fUI\u642d\u5efa\u8d77\u6765\u4e4b\u540e\uff0c\u8fd0\u884c\u4f1a\u6709\u8fd9\u4e2a\u9519\u8bef\r\n\r\n![image](https://user-images.githubusercontent.com/12107462/177905885-6b8e2c5a-47c9-47e1-a994-547506459bab.png)\r\n\r\n\u6211\u5c06doc_dir\u8def\u5f84\u4fee\u6539\u540e\uff0c\u624d\u80fd\u8fd0\u884c\u641c\u7d22\u51fa\u7ed3\u679c\uff0c\u6000\u7591\u662f\u5199\u5165 ANN \u7d22\u5f15\u5e93\r\n\u6570\u636e\u662f\u4e0d\u662f\u6709\u95ee\u9898\r\n\r\nrest_api/pipeline/semantic_search.yaml\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/2761/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/2761/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/2729", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/2729/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/2729/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/2729/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/2729", "id": 1293201206, "node_id": "I_kwDOFAsknM5NFK82", "number": 2729, "title": "semantic-search\u7528CPU\u8dd1\u65f6\u51fa\u73b0ValueError: (InvalidArgument) Variable value (input) of OP(fluid.layers.embedding) expected >= 0 and < 513", "user": {"login": "bruce0210", "id": 100854336, "node_id": "U_kgDOBgLqQA", "avatar_url": "https://avatars.githubusercontent.com/u/100854336?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bruce0210", "html_url": "https://github.com/bruce0210", "followers_url": "https://api.github.com/users/bruce0210/followers", "following_url": "https://api.github.com/users/bruce0210/following{/other_user}", "gists_url": "https://api.github.com/users/bruce0210/gists{/gist_id}", "starred_url": "https://api.github.com/users/bruce0210/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bruce0210/subscriptions", "organizations_url": "https://api.github.com/users/bruce0210/orgs", "repos_url": "https://api.github.com/users/bruce0210/repos", "events_url": "https://api.github.com/users/bruce0210/events{/privacy}", "received_events_url": "https://api.github.com/users/bruce0210/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4285758027, "node_id": "LA_kwDOFAsknM7_c3pL", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/pipelines", "name": "pipelines", "color": "fbca04", "default": false, "description": ""}, {"id": 4882422102, "node_id": "LA_kwDOFAsknM8AAAABIwPZVg", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/stale", "name": "stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "tianxin1860", "id": 6829601, "node_id": "MDQ6VXNlcjY4Mjk2MDE=", "avatar_url": "https://avatars.githubusercontent.com/u/6829601?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tianxin1860", "html_url": "https://github.com/tianxin1860", "followers_url": "https://api.github.com/users/tianxin1860/followers", "following_url": "https://api.github.com/users/tianxin1860/following{/other_user}", "gists_url": "https://api.github.com/users/tianxin1860/gists{/gist_id}", "starred_url": "https://api.github.com/users/tianxin1860/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tianxin1860/subscriptions", "organizations_url": "https://api.github.com/users/tianxin1860/orgs", "repos_url": "https://api.github.com/users/tianxin1860/repos", "events_url": "https://api.github.com/users/tianxin1860/events{/privacy}", "received_events_url": "https://api.github.com/users/tianxin1860/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tianxin1860", "id": 6829601, "node_id": "MDQ6VXNlcjY4Mjk2MDE=", "avatar_url": "https://avatars.githubusercontent.com/u/6829601?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tianxin1860", "html_url": "https://github.com/tianxin1860", "followers_url": "https://api.github.com/users/tianxin1860/followers", "following_url": "https://api.github.com/users/tianxin1860/following{/other_user}", "gists_url": "https://api.github.com/users/tianxin1860/gists{/gist_id}", "starred_url": "https://api.github.com/users/tianxin1860/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tianxin1860/subscriptions", "organizations_url": "https://api.github.com/users/tianxin1860/orgs", "repos_url": "https://api.github.com/users/tianxin1860/repos", "events_url": "https://api.github.com/users/tianxin1860/events{/privacy}", "received_events_url": "https://api.github.com/users/tianxin1860/received_events", "type": "User", "site_admin": false}, {"login": "w5688414", "id": 12107462, "node_id": "MDQ6VXNlcjEyMTA3NDYy", "avatar_url": "https://avatars.githubusercontent.com/u/12107462?v=4", "gravatar_id": "", "url": "https://api.github.com/users/w5688414", "html_url": "https://github.com/w5688414", "followers_url": "https://api.github.com/users/w5688414/followers", "following_url": "https://api.github.com/users/w5688414/following{/other_user}", "gists_url": "https://api.github.com/users/w5688414/gists{/gist_id}", "starred_url": "https://api.github.com/users/w5688414/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/w5688414/subscriptions", "organizations_url": "https://api.github.com/users/w5688414/orgs", "repos_url": "https://api.github.com/users/w5688414/repos", "events_url": "https://api.github.com/users/w5688414/events{/privacy}", "received_events_url": "https://api.github.com/users/w5688414/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2022-07-04T13:46:34Z", "updated_at": "2022-12-22T16:30:27Z", "closed_at": "2022-12-22T16:30:27Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "centos\uff1a7.5\r\nanaconda->python\uff1a3.8.5\r\nPaddlePaddle2.3.0\uff08CPU\uff09\r\n\r\n\u5c1d\u8bd5\u642d\u5efa\uff1ahttps://github.com/PaddlePaddle/PaddleNLP/tree/develop/applications/experimental/pipelines/examples/semantic-search\u4e2d\u7684CPU\u7248\u672c\u65f6\uff1a\r\nunset CUDA_VISIBLE_DEVICES\r\npython examples/semantic-search/semantic_search_example.py --device cpu\uff0c\u4e4b\u540e\uff0c\u51fa\u73b0\u5982\u4e0b\u9519\u8bef\uff1a\r\n![\u5fae\u4fe1\u622a\u56fe_20220704214439](https://user-images.githubusercontent.com/100854336/177167449-a3d31416-3886-439d-8e11-3c5d79394f7f.png)\r\n\r\n\u8bf7\u95ee\u4ec0\u4e48\u60c5\u51b5\uff1f\u5982\u4f55\u5904\u7406\uff1f\u8c22\u8c22\r\n", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/2729/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/2729/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/2712", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/2712/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/2712/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/2712/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/2712", "id": 1291159827, "node_id": "I_kwDOFAsknM5M9YkT", "number": 2712, "title": "example\u4e2d\u7684mrc2018\u62a5\u9519\uff0c\u770b\u4e86\u4e00\u4e0b\u8c8c\u4f3c\u662ftokenizer_utils_base.py\u548cchineseberttoken\u4e0d\u517c\u5bb9\u4e86", "user": {"login": "zltgo", "id": 22386625, "node_id": "MDQ6VXNlcjIyMzg2NjI1", "avatar_url": "https://avatars.githubusercontent.com/u/22386625?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zltgo", "html_url": "https://github.com/zltgo", "followers_url": "https://api.github.com/users/zltgo/followers", "following_url": "https://api.github.com/users/zltgo/following{/other_user}", "gists_url": "https://api.github.com/users/zltgo/gists{/gist_id}", "starred_url": "https://api.github.com/users/zltgo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zltgo/subscriptions", "organizations_url": "https://api.github.com/users/zltgo/orgs", "repos_url": "https://api.github.com/users/zltgo/repos", "events_url": "https://api.github.com/users/zltgo/events{/privacy}", "received_events_url": "https://api.github.com/users/zltgo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4882422102, "node_id": "LA_kwDOFAsknM8AAAABIwPZVg", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/stale", "name": "stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "guoshengCS", "id": 14105589, "node_id": "MDQ6VXNlcjE0MTA1NTg5", "avatar_url": "https://avatars.githubusercontent.com/u/14105589?v=4", "gravatar_id": "", "url": "https://api.github.com/users/guoshengCS", "html_url": "https://github.com/guoshengCS", "followers_url": "https://api.github.com/users/guoshengCS/followers", "following_url": "https://api.github.com/users/guoshengCS/following{/other_user}", "gists_url": "https://api.github.com/users/guoshengCS/gists{/gist_id}", "starred_url": "https://api.github.com/users/guoshengCS/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/guoshengCS/subscriptions", "organizations_url": "https://api.github.com/users/guoshengCS/orgs", "repos_url": "https://api.github.com/users/guoshengCS/repos", "events_url": "https://api.github.com/users/guoshengCS/events{/privacy}", "received_events_url": "https://api.github.com/users/guoshengCS/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "guoshengCS", "id": 14105589, "node_id": "MDQ6VXNlcjE0MTA1NTg5", "avatar_url": "https://avatars.githubusercontent.com/u/14105589?v=4", "gravatar_id": "", "url": "https://api.github.com/users/guoshengCS", "html_url": "https://github.com/guoshengCS", "followers_url": "https://api.github.com/users/guoshengCS/followers", "following_url": "https://api.github.com/users/guoshengCS/following{/other_user}", "gists_url": "https://api.github.com/users/guoshengCS/gists{/gist_id}", "starred_url": "https://api.github.com/users/guoshengCS/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/guoshengCS/subscriptions", "organizations_url": "https://api.github.com/users/guoshengCS/orgs", "repos_url": "https://api.github.com/users/guoshengCS/repos", "events_url": "https://api.github.com/users/guoshengCS/events{/privacy}", "received_events_url": "https://api.github.com/users/guoshengCS/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2022-07-01T09:30:40Z", "updated_at": "2022-12-23T12:40:08Z", "closed_at": "2022-12-23T12:40:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "\u6b22\u8fce\u60a8\u53cd\u9988PaddleNLP\u4f7f\u7528\u95ee\u9898\uff0c\u975e\u5e38\u611f\u8c22\u60a8\u5bf9PaddleNLP\u7684\u8d21\u732e\uff01\r\n\u5728\u7559\u4e0b\u60a8\u7684\u95ee\u9898\u65f6\uff0c\u8f9b\u82e6\u60a8\u540c\u6b65\u63d0\u4f9b\u5982\u4e0b\u4fe1\u606f\uff1a\r\n- \u7248\u672c\u3001\u73af\u5883\u4fe1\u606f\r\n1\uff09PaddleNLP\u548cPaddlePaddle\u7248\u672c\uff1aPaddleNLP 2.3.0\r\n2\uff09\u7cfb\u7edf\u73af\u5883\uff1a\u8bf7\u60a8\u63cf\u8ff0\u7cfb\u7edf\u7c7b\u578b\uff0c\u4f8b\u5982Linux/Windows/MacOS/\uff0cpython\u7248\u672c\r\n- \u590d\u73b0\u4fe1\u606f\uff1a\u5982\u4e3a\u62a5\u9519\uff0c\u8bf7\u7ed9\u51fa\u590d\u73b0\u73af\u5883\u3001\u590d\u73b0\u6b65\u9aa4\r\ntokenizer_utils_base.py\u4e2d\u8c03\u7528self.batch_encode()\u65f6\u5b9e\u9645\u8c03\u7528\u7684\u662fchinesebert\u7684batch_encode,\u800c\u540e\u8005\u8f93\u5165\u53c2\u6570\u4e2d\u6ca1\u6709max_length\r\n\u5bfc\u81f4\u8fd0\u884c\u65f6\u62a5\u9519\r\nTypeError: batch_encode() got an unexpected keyword argument 'max_length'\r\n", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/2712/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/2712/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/2708", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/2708/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/2708/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/2708/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/2708", "id": 1291045457, "node_id": "I_kwDOFAsknM5M88pR", "number": 2708, "title": "\u751f\u6210\u7684\u6a21\u578b\u641c\u7d22\u4e0d\u51c6\u786e\uff0c\u800c\u4e14\u6bcf\u6b21\u6267\u884c\u7684\u7ed3\u679c\u90fd\u4e0d\u4e00\u81f4", "user": {"login": "yspyhp", "id": 23613386, "node_id": "MDQ6VXNlcjIzNjEzMzg2", "avatar_url": "https://avatars.githubusercontent.com/u/23613386?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yspyhp", "html_url": "https://github.com/yspyhp", "followers_url": "https://api.github.com/users/yspyhp/followers", "following_url": "https://api.github.com/users/yspyhp/following{/other_user}", "gists_url": "https://api.github.com/users/yspyhp/gists{/gist_id}", "starred_url": "https://api.github.com/users/yspyhp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yspyhp/subscriptions", "organizations_url": "https://api.github.com/users/yspyhp/orgs", "repos_url": "https://api.github.com/users/yspyhp/repos", "events_url": "https://api.github.com/users/yspyhp/events{/privacy}", "received_events_url": "https://api.github.com/users/yspyhp/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4882422102, "node_id": "LA_kwDOFAsknM8AAAABIwPZVg", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/stale", "name": "stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "w5688414", "id": 12107462, "node_id": "MDQ6VXNlcjEyMTA3NDYy", "avatar_url": "https://avatars.githubusercontent.com/u/12107462?v=4", "gravatar_id": "", "url": "https://api.github.com/users/w5688414", "html_url": "https://github.com/w5688414", "followers_url": "https://api.github.com/users/w5688414/followers", "following_url": "https://api.github.com/users/w5688414/following{/other_user}", "gists_url": "https://api.github.com/users/w5688414/gists{/gist_id}", "starred_url": "https://api.github.com/users/w5688414/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/w5688414/subscriptions", "organizations_url": "https://api.github.com/users/w5688414/orgs", "repos_url": "https://api.github.com/users/w5688414/repos", "events_url": "https://api.github.com/users/w5688414/events{/privacy}", "received_events_url": "https://api.github.com/users/w5688414/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "w5688414", "id": 12107462, "node_id": "MDQ6VXNlcjEyMTA3NDYy", "avatar_url": "https://avatars.githubusercontent.com/u/12107462?v=4", "gravatar_id": "", "url": "https://api.github.com/users/w5688414", "html_url": "https://github.com/w5688414", "followers_url": "https://api.github.com/users/w5688414/followers", "following_url": "https://api.github.com/users/w5688414/following{/other_user}", "gists_url": "https://api.github.com/users/w5688414/gists{/gist_id}", "starred_url": "https://api.github.com/users/w5688414/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/w5688414/subscriptions", "organizations_url": "https://api.github.com/users/w5688414/orgs", "repos_url": "https://api.github.com/users/w5688414/repos", "events_url": "https://api.github.com/users/w5688414/events{/privacy}", "received_events_url": "https://api.github.com/users/w5688414/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2022-07-01T07:49:33Z", "updated_at": "2022-12-23T12:40:10Z", "closed_at": "2022-12-23T12:40:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "\u6b22\u8fce\u60a8\u53cd\u9988PaddleNLP\u4f7f\u7528\u95ee\u9898\uff0c\u975e\u5e38\u611f\u8c22\u60a8\u5bf9PaddleNLP\u7684\u8d21\u732e\uff01\r\n\u5728\u7559\u4e0b\u60a8\u7684\u95ee\u9898\u65f6\uff0c\u8f9b\u82e6\u60a8\u540c\u6b65\u63d0\u4f9b\u5982\u4e0b\u4fe1\u606f\uff1a\r\n- \u7248\u672c\u3001\u73af\u5883\u4fe1\u606f\r\n1\uff09paddlenlp 2.3.3  paddlepaddle-gpu 2.3.0.post101\r\n2\uff09linux python3.9\r\n- \u590d\u73b0\u4fe1\u606f\uff1a\u5982\u4e3a\u62a5\u9519\uff0c\u8bf7\u7ed9\u51fa\u590d\u73b0\u73af\u5883\u3001\u590d\u73b0\u6b65\u9aa4\r\n- https://github.com/PaddlePaddle/PaddleNLP/tree/develop/applications/neural_search/recall/simcse\r\n\u6839\u636e\u8fd9\u4e2a\u6587\u6863\u64cd\u4f5c\u6709\u4e9b\u7591\u95ee\uff0c\u751f\u6210\u7684\u6a21\u578b\u641c\u7d22\u4e0d\u51c6\u786e\uff0c\u800c\u4e14\u6bcf\u6b21\u6267\u884c\u7684\u7ed3\u679c\u90fd\u4e0d\u4e00\u81f4\uff0c\u54ea\u4f4d\u5927\u4f6c\u80fd\u5e2e\u5fd9\u770b\u4e0b\r\n![48a50f7f7a9919d6c88f10b717ce4136](https://user-images.githubusercontent.com/23613386/176849789-2a4116c6-d5ec-4cd0-bf8f-d7766013ce18.png)\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/2708/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/2708/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/2705", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/2705/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/2705/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/2705/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/2705", "id": 1290869347, "node_id": "I_kwDOFAsknM5M8Rpj", "number": 2705, "title": "taskflow \u4e2d question_answer \u7684md5 \u95ee\u9898", "user": {"login": "zhiyongLiu1114", "id": 47651345, "node_id": "MDQ6VXNlcjQ3NjUxMzQ1", "avatar_url": "https://avatars.githubusercontent.com/u/47651345?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zhiyongLiu1114", "html_url": "https://github.com/zhiyongLiu1114", "followers_url": "https://api.github.com/users/zhiyongLiu1114/followers", "following_url": "https://api.github.com/users/zhiyongLiu1114/following{/other_user}", "gists_url": "https://api.github.com/users/zhiyongLiu1114/gists{/gist_id}", "starred_url": "https://api.github.com/users/zhiyongLiu1114/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zhiyongLiu1114/subscriptions", "organizations_url": "https://api.github.com/users/zhiyongLiu1114/orgs", "repos_url": "https://api.github.com/users/zhiyongLiu1114/repos", "events_url": "https://api.github.com/users/zhiyongLiu1114/events{/privacy}", "received_events_url": "https://api.github.com/users/zhiyongLiu1114/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "linjieccc", "id": 40840292, "node_id": "MDQ6VXNlcjQwODQwMjky", "avatar_url": "https://avatars.githubusercontent.com/u/40840292?v=4", "gravatar_id": "", "url": "https://api.github.com/users/linjieccc", "html_url": "https://github.com/linjieccc", "followers_url": "https://api.github.com/users/linjieccc/followers", "following_url": "https://api.github.com/users/linjieccc/following{/other_user}", "gists_url": "https://api.github.com/users/linjieccc/gists{/gist_id}", "starred_url": "https://api.github.com/users/linjieccc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/linjieccc/subscriptions", "organizations_url": "https://api.github.com/users/linjieccc/orgs", "repos_url": "https://api.github.com/users/linjieccc/repos", "events_url": "https://api.github.com/users/linjieccc/events{/privacy}", "received_events_url": "https://api.github.com/users/linjieccc/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "linjieccc", "id": 40840292, "node_id": "MDQ6VXNlcjQwODQwMjky", "avatar_url": "https://avatars.githubusercontent.com/u/40840292?v=4", "gravatar_id": "", "url": "https://api.github.com/users/linjieccc", "html_url": "https://github.com/linjieccc", "followers_url": "https://api.github.com/users/linjieccc/followers", "following_url": "https://api.github.com/users/linjieccc/following{/other_user}", "gists_url": "https://api.github.com/users/linjieccc/gists{/gist_id}", "starred_url": "https://api.github.com/users/linjieccc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/linjieccc/subscriptions", "organizations_url": "https://api.github.com/users/linjieccc/orgs", "repos_url": "https://api.github.com/users/linjieccc/repos", "events_url": "https://api.github.com/users/linjieccc/events{/privacy}", "received_events_url": "https://api.github.com/users/linjieccc/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2022-07-01T03:47:48Z", "updated_at": "2022-07-05T02:02:04Z", "closed_at": "2022-07-05T02:02:04Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "\u6bcf\u6b21\u4f7f\u7528gpt-cpm-large-cn\u521d\u59cb\u5316qa\u6a21\u578b\uff0c\u90fd\u4f1a\r\nUpdating static/inference.pdiparams from https://bj.bcebos.com/paddlenlp/taskflow/text_generation/gpt-cpm/gpt-cpm-large-cn_params.tar\r\n\u67e5\u770b\u4ee3\u7801\u662futils.py\u6587\u4ef6\u4e2d\u6709\u6821\u9a8cmd5\u64cd\u4f5c\uff1a\r\nif os.path.exists(fullname):\r\n        if md5 and (not md5file(fullname) == md5):\r\n            logger.info(\"Updating {} from {}\".format(filename, url))\r\n            logger.disable()\r\n            get_path_from_url(url, save_dir, md5)\r\n\u7ecf\u8fc7\u6d4b\u8bd5\uff0cmd5file(fullname) \u66f4\u65b0\u524d\u540e\u90fd\u4e0d\u53d8\uff0c\u4e3a64d8dd294b9cda055ec62844f88a99cc\r\n\u800c \u4f20\u5165\u7684md5 \u4e3a \r\nURLS = {\r\n    \"gpt-cpm-large-cn\": [\r\n        \"https://bj.bcebos.com/paddlenlp/taskflow/text_generation/gpt-cpm/gpt-cpm-large-cn_params.tar\",\r\n        \"5aad6f81053cfdbba4797f044fcf66d1\"\r\n    ],\r\n}\r\n\u5bfc\u81f4\u6bcf\u6b21\u90fd\u4f1a\u6267\u884c\u4e00\u6b21update\uff0c\r\n\u9ebb\u70e6\u4fee\u6b63\u4e00\u4e0b\uff0c\u8c22\u8c22\r\n", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/2705/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/2705/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/2612", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/2612/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/2612/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/2612/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/2612", "id": 1279665509, "node_id": "I_kwDOFAsknM5MRiVl", "number": 2612, "title": "uie\u5bfc\u51fa\u540e\u7684\u6a21\u578b\u9884\u6d4b\u65f6\u5982\u4f55\u6307\u5b9agpu\u7f16\u53f7\uff1f", "user": {"login": "Chikeke", "id": 95728480, "node_id": "U_kgDOBbSzYA", "avatar_url": "https://avatars.githubusercontent.com/u/95728480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Chikeke", "html_url": "https://github.com/Chikeke", "followers_url": "https://api.github.com/users/Chikeke/followers", "following_url": "https://api.github.com/users/Chikeke/following{/other_user}", "gists_url": "https://api.github.com/users/Chikeke/gists{/gist_id}", "starred_url": "https://api.github.com/users/Chikeke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Chikeke/subscriptions", "organizations_url": "https://api.github.com/users/Chikeke/orgs", "repos_url": "https://api.github.com/users/Chikeke/repos", "events_url": "https://api.github.com/users/Chikeke/events{/privacy}", "received_events_url": "https://api.github.com/users/Chikeke/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4882422102, "node_id": "LA_kwDOFAsknM8AAAABIwPZVg", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/stale", "name": "stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "linjieccc", "id": 40840292, "node_id": "MDQ6VXNlcjQwODQwMjky", "avatar_url": "https://avatars.githubusercontent.com/u/40840292?v=4", "gravatar_id": "", "url": "https://api.github.com/users/linjieccc", "html_url": "https://github.com/linjieccc", "followers_url": "https://api.github.com/users/linjieccc/followers", "following_url": "https://api.github.com/users/linjieccc/following{/other_user}", "gists_url": "https://api.github.com/users/linjieccc/gists{/gist_id}", "starred_url": "https://api.github.com/users/linjieccc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/linjieccc/subscriptions", "organizations_url": "https://api.github.com/users/linjieccc/orgs", "repos_url": "https://api.github.com/users/linjieccc/repos", "events_url": "https://api.github.com/users/linjieccc/events{/privacy}", "received_events_url": "https://api.github.com/users/linjieccc/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "linjieccc", "id": 40840292, "node_id": "MDQ6VXNlcjQwODQwMjky", "avatar_url": "https://avatars.githubusercontent.com/u/40840292?v=4", "gravatar_id": "", "url": "https://api.github.com/users/linjieccc", "html_url": "https://github.com/linjieccc", "followers_url": "https://api.github.com/users/linjieccc/followers", "following_url": "https://api.github.com/users/linjieccc/following{/other_user}", "gists_url": "https://api.github.com/users/linjieccc/gists{/gist_id}", "starred_url": "https://api.github.com/users/linjieccc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/linjieccc/subscriptions", "organizations_url": "https://api.github.com/users/linjieccc/orgs", "repos_url": "https://api.github.com/users/linjieccc/repos", "events_url": "https://api.github.com/users/linjieccc/events{/privacy}", "received_events_url": "https://api.github.com/users/linjieccc/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 9, "created_at": "2022-06-22T07:09:17Z", "updated_at": "2023-01-06T00:17:47Z", "closed_at": "2023-01-06T00:17:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "uie\u6a21\u578b\u5bfc\u51fa\u540e\u8fd0\u884cinfer_gpu.py\u8fdb\u884c\u9884\u6d4b\u65f6\uff0c\u5982\u4f55\u6307\u5b9agpu\u7f16\u53f7\uff1f\r\n", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/2612/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/2612/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/2584", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/2584/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/2584/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/2584/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/2584", "id": 1276652405, "node_id": "I_kwDOFAsknM5MGCt1", "number": 2584, "title": "ChineseBertTokenizer got an unexpected keyword argument 'tokenizer_class'", "user": {"login": "wj-Mcat", "id": 10242208, "node_id": "MDQ6VXNlcjEwMjQyMjA4", "avatar_url": "https://avatars.githubusercontent.com/u/10242208?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wj-Mcat", "html_url": "https://github.com/wj-Mcat", "followers_url": "https://api.github.com/users/wj-Mcat/followers", "following_url": "https://api.github.com/users/wj-Mcat/following{/other_user}", "gists_url": "https://api.github.com/users/wj-Mcat/gists{/gist_id}", "starred_url": "https://api.github.com/users/wj-Mcat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wj-Mcat/subscriptions", "organizations_url": "https://api.github.com/users/wj-Mcat/orgs", "repos_url": "https://api.github.com/users/wj-Mcat/repos", "events_url": "https://api.github.com/users/wj-Mcat/events{/privacy}", "received_events_url": "https://api.github.com/users/wj-Mcat/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "guoshengCS", "id": 14105589, "node_id": "MDQ6VXNlcjE0MTA1NTg5", "avatar_url": "https://avatars.githubusercontent.com/u/14105589?v=4", "gravatar_id": "", "url": "https://api.github.com/users/guoshengCS", "html_url": "https://github.com/guoshengCS", "followers_url": "https://api.github.com/users/guoshengCS/followers", "following_url": "https://api.github.com/users/guoshengCS/following{/other_user}", "gists_url": "https://api.github.com/users/guoshengCS/gists{/gist_id}", "starred_url": "https://api.github.com/users/guoshengCS/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/guoshengCS/subscriptions", "organizations_url": "https://api.github.com/users/guoshengCS/orgs", "repos_url": "https://api.github.com/users/guoshengCS/repos", "events_url": "https://api.github.com/users/guoshengCS/events{/privacy}", "received_events_url": "https://api.github.com/users/guoshengCS/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "guoshengCS", "id": 14105589, "node_id": "MDQ6VXNlcjE0MTA1NTg5", "avatar_url": "https://avatars.githubusercontent.com/u/14105589?v=4", "gravatar_id": "", "url": "https://api.github.com/users/guoshengCS", "html_url": "https://github.com/guoshengCS", "followers_url": "https://api.github.com/users/guoshengCS/followers", "following_url": "https://api.github.com/users/guoshengCS/following{/other_user}", "gists_url": "https://api.github.com/users/guoshengCS/gists{/gist_id}", "starred_url": "https://api.github.com/users/guoshengCS/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/guoshengCS/subscriptions", "organizations_url": "https://api.github.com/users/guoshengCS/orgs", "repos_url": "https://api.github.com/users/guoshengCS/repos", "events_url": "https://api.github.com/users/guoshengCS/events{/privacy}", "received_events_url": "https://api.github.com/users/guoshengCS/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2022-06-20T09:41:05Z", "updated_at": "2022-06-26T09:20:38Z", "closed_at": "2022-06-26T09:20:38Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "## Introduction\r\n\r\nWhen I init the ChineseBertTokenizer, it raise the exception with the following code:\r\n\r\n* reproduction code\r\n```python\r\nfrom paddlenlp.transformers.chinesebert.tokenizer import ChineseBertTokenizer\r\ntokenizer = ChineseBertTokenizer.from_pretrained('ChineseBERT-base')\r\n```\r\n\r\n* exception\r\n\r\n```shell\r\n[2022-06-20 09:38:52,656] [    INFO] - Already cached /root/.paddlenlp/models/ChineseBERT-base/vocab.txt\r\n[2022-06-20 09:38:52,656] [    INFO] - Already cached /root/.paddlenlp/models/ChineseBERT-base/tokenizer_config.json\r\nTraceback (most recent call last):\r\n  File \"notebooK_cli.py\", line 76, in <module>\r\n    ernie_tiny()\r\n  File \"notebooK_cli.py\", line 72, in ernie_tiny\r\n    tokenizer = ChineseBertTokenizer.from_pretrained('ChineseBERT-base')\r\n  File \"/root/miniconda3/envs/paddle2.3/lib/python3.7/site-packages/paddlenlp/transformers/tokenizer_utils_base.py\", line 1626, in from_pretrained\r\n    tokenizer = cls(*init_args, **init_kwargs)\r\n  File \"/root/miniconda3/envs/paddle2.3/lib/python3.7/site-packages/paddlenlp/transformers/utils.py\", line 86, in __impl__\r\n    init_func(self, *args, **kwargs)\r\nTypeError: __init__() got an unexpected keyword argument 'tokenizer_class'\r\n```", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/2584/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/2584/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/2528", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/2528/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/2528/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/2528/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/2528", "id": 1271927082, "node_id": "I_kwDOFAsknM5L0BEq", "number": 2528, "title": "ERNIE-doc dataloader cal_loss \u62fc\u5199\u9519\u8bef", "user": {"login": "sunjd6958", "id": 22573426, "node_id": "MDQ6VXNlcjIyNTczNDI2", "avatar_url": "https://avatars.githubusercontent.com/u/22573426?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sunjd6958", "html_url": "https://github.com/sunjd6958", "followers_url": "https://api.github.com/users/sunjd6958/followers", "following_url": "https://api.github.com/users/sunjd6958/following{/other_user}", "gists_url": "https://api.github.com/users/sunjd6958/gists{/gist_id}", "starred_url": "https://api.github.com/users/sunjd6958/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sunjd6958/subscriptions", "organizations_url": "https://api.github.com/users/sunjd6958/orgs", "repos_url": "https://api.github.com/users/sunjd6958/repos", "events_url": "https://api.github.com/users/sunjd6958/events{/privacy}", "received_events_url": "https://api.github.com/users/sunjd6958/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4882422102, "node_id": "LA_kwDOFAsknM8AAAABIwPZVg", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/stale", "name": "stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "joey12300", "id": 10826371, "node_id": "MDQ6VXNlcjEwODI2Mzcx", "avatar_url": "https://avatars.githubusercontent.com/u/10826371?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joey12300", "html_url": "https://github.com/joey12300", "followers_url": "https://api.github.com/users/joey12300/followers", "following_url": "https://api.github.com/users/joey12300/following{/other_user}", "gists_url": "https://api.github.com/users/joey12300/gists{/gist_id}", "starred_url": "https://api.github.com/users/joey12300/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joey12300/subscriptions", "organizations_url": "https://api.github.com/users/joey12300/orgs", "repos_url": "https://api.github.com/users/joey12300/repos", "events_url": "https://api.github.com/users/joey12300/events{/privacy}", "received_events_url": "https://api.github.com/users/joey12300/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "joey12300", "id": 10826371, "node_id": "MDQ6VXNlcjEwODI2Mzcx", "avatar_url": "https://avatars.githubusercontent.com/u/10826371?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joey12300", "html_url": "https://github.com/joey12300", "followers_url": "https://api.github.com/users/joey12300/followers", "following_url": "https://api.github.com/users/joey12300/following{/other_user}", "gists_url": "https://api.github.com/users/joey12300/gists{/gist_id}", "starred_url": "https://api.github.com/users/joey12300/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joey12300/subscriptions", "organizations_url": "https://api.github.com/users/joey12300/orgs", "repos_url": "https://api.github.com/users/joey12300/repos", "events_url": "https://api.github.com/users/joey12300/events{/privacy}", "received_events_url": "https://api.github.com/users/joey12300/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2022-06-15T09:14:21Z", "updated_at": "2023-01-06T00:18:50Z", "closed_at": "2023-01-06T00:18:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "\u5728 ERNIE-doc dataloader\uff08\u8be6\u89c1 [data.py](https://github.com/PaddlePaddle/PaddleNLP/blob/v2.3.3/model_zoo/ernie-doc/data.py )\uff09\u4e2d\uff0cline 562\u3001line 845\u3001line_1069 \u7684 ```cal_loss``` \u9519\u62fc\u6210\u4e86 ```cla_loss```\u3002\r\n", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/2528/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/2528/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/2495", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/2495/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/2495/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/2495/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/pull/2495", "id": 1268971976, "node_id": "PR_kwDOFAsknM45ia0U", "number": 2495, "title": "[BugFix] fix albert pad token id", "user": {"login": "ZHUI", "id": 16911935, "node_id": "MDQ6VXNlcjE2OTExOTM1", "avatar_url": "https://avatars.githubusercontent.com/u/16911935?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ZHUI", "html_url": "https://github.com/ZHUI", "followers_url": "https://api.github.com/users/ZHUI/followers", "following_url": "https://api.github.com/users/ZHUI/following{/other_user}", "gists_url": "https://api.github.com/users/ZHUI/gists{/gist_id}", "starred_url": "https://api.github.com/users/ZHUI/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ZHUI/subscriptions", "organizations_url": "https://api.github.com/users/ZHUI/orgs", "repos_url": "https://api.github.com/users/ZHUI/repos", "events_url": "https://api.github.com/users/ZHUI/events{/privacy}", "received_events_url": "https://api.github.com/users/ZHUI/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "wawltor", "id": 16698950, "node_id": "MDQ6VXNlcjE2Njk4OTUw", "avatar_url": "https://avatars.githubusercontent.com/u/16698950?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wawltor", "html_url": "https://github.com/wawltor", "followers_url": "https://api.github.com/users/wawltor/followers", "following_url": "https://api.github.com/users/wawltor/following{/other_user}", "gists_url": "https://api.github.com/users/wawltor/gists{/gist_id}", "starred_url": "https://api.github.com/users/wawltor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wawltor/subscriptions", "organizations_url": "https://api.github.com/users/wawltor/orgs", "repos_url": "https://api.github.com/users/wawltor/repos", "events_url": "https://api.github.com/users/wawltor/events{/privacy}", "received_events_url": "https://api.github.com/users/wawltor/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "wawltor", "id": 16698950, "node_id": "MDQ6VXNlcjE2Njk4OTUw", "avatar_url": "https://avatars.githubusercontent.com/u/16698950?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wawltor", "html_url": "https://github.com/wawltor", "followers_url": "https://api.github.com/users/wawltor/followers", "following_url": "https://api.github.com/users/wawltor/following{/other_user}", "gists_url": "https://api.github.com/users/wawltor/gists{/gist_id}", "starred_url": "https://api.github.com/users/wawltor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wawltor/subscriptions", "organizations_url": "https://api.github.com/users/wawltor/orgs", "repos_url": "https://api.github.com/users/wawltor/repos", "events_url": "https://api.github.com/users/wawltor/events{/privacy}", "received_events_url": "https://api.github.com/users/wawltor/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2022-06-13T06:34:03Z", "updated_at": "2022-06-13T12:56:21Z", "closed_at": "2022-06-13T11:53:00Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/pulls/2495", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/pull/2495", "diff_url": "https://github.com/PaddlePaddle/PaddleNLP/pull/2495.diff", "patch_url": "https://github.com/PaddlePaddle/PaddleNLP/pull/2495.patch", "merged_at": "2022-06-13T11:53:00Z"}, "body": "<!-- Demo: https://github.com/PaddlePaddle/PaddleNLP/pull/26 -->\r\n### PR types\r\n<!-- One of [ New features | Bug fixes | Function optimization | Performance optimization | Breaking changes | Others ] -->\r\nBug fixes\r\n### PR changes\r\n<!-- One of [ Models | APIs | Docs | Others ] -->\r\nOthers\r\n### Description\r\n<!-- Describe what this PR does -->\r\nfix albert pad token id https://github.com/PaddlePaddle/PaddleNLP/issues/2494", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/2495/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/2495/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/2479", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/2479/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/2479/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/2479/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/pull/2479", "id": 1267300865, "node_id": "PR_kwDOFAsknM45dC37", "number": 2479, "title": "[BugFix] Fix load ckpt weight for amp 02", "user": {"login": "ZHUI", "id": 16911935, "node_id": "MDQ6VXNlcjE2OTExOTM1", "avatar_url": "https://avatars.githubusercontent.com/u/16911935?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ZHUI", "html_url": "https://github.com/ZHUI", "followers_url": "https://api.github.com/users/ZHUI/followers", "following_url": "https://api.github.com/users/ZHUI/following{/other_user}", "gists_url": "https://api.github.com/users/ZHUI/gists{/gist_id}", "starred_url": "https://api.github.com/users/ZHUI/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ZHUI/subscriptions", "organizations_url": "https://api.github.com/users/ZHUI/orgs", "repos_url": "https://api.github.com/users/ZHUI/repos", "events_url": "https://api.github.com/users/ZHUI/events{/privacy}", "received_events_url": "https://api.github.com/users/ZHUI/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "wawltor", "id": 16698950, "node_id": "MDQ6VXNlcjE2Njk4OTUw", "avatar_url": "https://avatars.githubusercontent.com/u/16698950?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wawltor", "html_url": "https://github.com/wawltor", "followers_url": "https://api.github.com/users/wawltor/followers", "following_url": "https://api.github.com/users/wawltor/following{/other_user}", "gists_url": "https://api.github.com/users/wawltor/gists{/gist_id}", "starred_url": "https://api.github.com/users/wawltor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wawltor/subscriptions", "organizations_url": "https://api.github.com/users/wawltor/orgs", "repos_url": "https://api.github.com/users/wawltor/repos", "events_url": "https://api.github.com/users/wawltor/events{/privacy}", "received_events_url": "https://api.github.com/users/wawltor/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "wawltor", "id": 16698950, "node_id": "MDQ6VXNlcjE2Njk4OTUw", "avatar_url": "https://avatars.githubusercontent.com/u/16698950?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wawltor", "html_url": "https://github.com/wawltor", "followers_url": "https://api.github.com/users/wawltor/followers", "following_url": "https://api.github.com/users/wawltor/following{/other_user}", "gists_url": "https://api.github.com/users/wawltor/gists{/gist_id}", "starred_url": "https://api.github.com/users/wawltor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wawltor/subscriptions", "organizations_url": "https://api.github.com/users/wawltor/orgs", "repos_url": "https://api.github.com/users/wawltor/repos", "events_url": "https://api.github.com/users/wawltor/events{/privacy}", "received_events_url": "https://api.github.com/users/wawltor/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2022-06-10T09:33:17Z", "updated_at": "2022-06-15T06:58:04Z", "closed_at": "2022-06-15T03:07:48Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/pulls/2479", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/pull/2479", "diff_url": "https://github.com/PaddlePaddle/PaddleNLP/pull/2479.diff", "patch_url": "https://github.com/PaddlePaddle/PaddleNLP/pull/2479.patch", "merged_at": "2022-06-15T03:07:48Z"}, "body": "<!-- Demo: https://github.com/PaddlePaddle/PaddleNLP/pull/26 -->\r\n### PR types\r\n<!-- One of [ New features | Bug fixes | Function optimization | Performance optimization | Breaking changes | Others ] -->\r\nBug fixes\r\n### PR changes\r\n<!-- One of [ Models | APIs | Docs | Others ] -->\r\nModels\r\n### Description\r\n<!-- Describe what this PR does -->\r\nFix load ckpt weight for amp 02\r\n\r\n\u5728 amp-o2\u529f\u80fd\u5f00\u53d1\u8fc7\u7a0b\u4e2d\uff0c\u4e3a\u4e86\u652f\u6301\u6307\u5b9a\u7f51\u7edc\u5b58\u50a8\u6570\u636e\u7c7b\u578b\u7684\u529f\u80fd\uff0c\u6dfb\u52a0state_dict hook\u529f\u80fd\uff0c\u4f46\u662f\u5728Layer\u7684set_state_dict\u662f\u901a\u8fc7state_dict\u83b7\u53d6\u7f51\u7edc\u53c2\u6570\u5e76\u52a0\u8f7d\u7684\uff0chook\u63a5\u53e3\u7684\u5b58\u5728\u5bfc\u81f4 set_state_dict\u65e0\u6cd5\u52a0\u8f7d\u5230\u539f\u672c\u7f51\u7edc\u53c2\u6570\u3002\r\n\r\n\u5bfc\u81f4\u53c2\u6570\u52a0\u8f7d\u51fa\u73b0\u95ee\u9898\u3002\u672cPR\u4e0d\u518d\u4f7f\u7528 save_dtype \u9009\u9879\u3002\r\n\r\nhttps://github.com/PaddlePaddle/Paddle/pull/43407\r\n", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/2479/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/2479/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/2259", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/2259/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/2259/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/2259/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/2259", "id": 1241630927, "node_id": "I_kwDOFAsknM5KAcjP", "number": 2259, "title": "CLUE benchmark \u4e0d\u652f\u6301ERNIE-Doc\u6a21\u578b", "user": {"login": "LiuChiachi", "id": 26483581, "node_id": "MDQ6VXNlcjI2NDgzNTgx", "avatar_url": "https://avatars.githubusercontent.com/u/26483581?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LiuChiachi", "html_url": "https://github.com/LiuChiachi", "followers_url": "https://api.github.com/users/LiuChiachi/followers", "following_url": "https://api.github.com/users/LiuChiachi/following{/other_user}", "gists_url": "https://api.github.com/users/LiuChiachi/gists{/gist_id}", "starred_url": "https://api.github.com/users/LiuChiachi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LiuChiachi/subscriptions", "organizations_url": "https://api.github.com/users/LiuChiachi/orgs", "repos_url": "https://api.github.com/users/LiuChiachi/repos", "events_url": "https://api.github.com/users/LiuChiachi/events{/privacy}", "received_events_url": "https://api.github.com/users/LiuChiachi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4882422102, "node_id": "LA_kwDOFAsknM8AAAABIwPZVg", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/stale", "name": "stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "LiuChiachi", "id": 26483581, "node_id": "MDQ6VXNlcjI2NDgzNTgx", "avatar_url": "https://avatars.githubusercontent.com/u/26483581?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LiuChiachi", "html_url": "https://github.com/LiuChiachi", "followers_url": "https://api.github.com/users/LiuChiachi/followers", "following_url": "https://api.github.com/users/LiuChiachi/following{/other_user}", "gists_url": "https://api.github.com/users/LiuChiachi/gists{/gist_id}", "starred_url": "https://api.github.com/users/LiuChiachi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LiuChiachi/subscriptions", "organizations_url": "https://api.github.com/users/LiuChiachi/orgs", "repos_url": "https://api.github.com/users/LiuChiachi/repos", "events_url": "https://api.github.com/users/LiuChiachi/events{/privacy}", "received_events_url": "https://api.github.com/users/LiuChiachi/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "LiuChiachi", "id": 26483581, "node_id": "MDQ6VXNlcjI2NDgzNTgx", "avatar_url": "https://avatars.githubusercontent.com/u/26483581?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LiuChiachi", "html_url": "https://github.com/LiuChiachi", "followers_url": "https://api.github.com/users/LiuChiachi/followers", "following_url": "https://api.github.com/users/LiuChiachi/following{/other_user}", "gists_url": "https://api.github.com/users/LiuChiachi/gists{/gist_id}", "starred_url": "https://api.github.com/users/LiuChiachi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LiuChiachi/subscriptions", "organizations_url": "https://api.github.com/users/LiuChiachi/orgs", "repos_url": "https://api.github.com/users/LiuChiachi/repos", "events_url": "https://api.github.com/users/LiuChiachi/events{/privacy}", "received_events_url": "https://api.github.com/users/LiuChiachi/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2022-05-19T11:29:02Z", "updated_at": "2023-01-12T16:24:07Z", "closed_at": "2023-01-12T16:24:07Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "ERNIE-Doc\u6709memories\u8f93\u5165\uff0c\u7ed3\u6784\u548c\u5176\u4ed6transformer-based models\u4e0d\u592a\u4e00\u6837\uff0c\u9700\u8981\u5347\u7ea7 CLUE Benchmark\u4ee5\u652f\u6301ERNIE-Doc", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/2259/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/2259/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/2255", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/2255/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/2255/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/2255/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/2255", "id": 1241599353, "node_id": "I_kwDOFAsknM5KAU15", "number": 2255, "title": "gpt-cpm-large-cn CLUE \u5206\u7c7b\u4efb\u52a1\u5931\u8d25", "user": {"login": "LiuChiachi", "id": 26483581, "node_id": "MDQ6VXNlcjI2NDgzNTgx", "avatar_url": "https://avatars.githubusercontent.com/u/26483581?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LiuChiachi", "html_url": "https://github.com/LiuChiachi", "followers_url": "https://api.github.com/users/LiuChiachi/followers", "following_url": "https://api.github.com/users/LiuChiachi/following{/other_user}", "gists_url": "https://api.github.com/users/LiuChiachi/gists{/gist_id}", "starred_url": "https://api.github.com/users/LiuChiachi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LiuChiachi/subscriptions", "organizations_url": "https://api.github.com/users/LiuChiachi/orgs", "repos_url": "https://api.github.com/users/LiuChiachi/repos", "events_url": "https://api.github.com/users/LiuChiachi/events{/privacy}", "received_events_url": "https://api.github.com/users/LiuChiachi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4882422102, "node_id": "LA_kwDOFAsknM8AAAABIwPZVg", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/stale", "name": "stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "ZHUI", "id": 16911935, "node_id": "MDQ6VXNlcjE2OTExOTM1", "avatar_url": "https://avatars.githubusercontent.com/u/16911935?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ZHUI", "html_url": "https://github.com/ZHUI", "followers_url": "https://api.github.com/users/ZHUI/followers", "following_url": "https://api.github.com/users/ZHUI/following{/other_user}", "gists_url": "https://api.github.com/users/ZHUI/gists{/gist_id}", "starred_url": "https://api.github.com/users/ZHUI/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ZHUI/subscriptions", "organizations_url": "https://api.github.com/users/ZHUI/orgs", "repos_url": "https://api.github.com/users/ZHUI/repos", "events_url": "https://api.github.com/users/ZHUI/events{/privacy}", "received_events_url": "https://api.github.com/users/ZHUI/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ZHUI", "id": 16911935, "node_id": "MDQ6VXNlcjE2OTExOTM1", "avatar_url": "https://avatars.githubusercontent.com/u/16911935?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ZHUI", "html_url": "https://github.com/ZHUI", "followers_url": "https://api.github.com/users/ZHUI/followers", "following_url": "https://api.github.com/users/ZHUI/following{/other_user}", "gists_url": "https://api.github.com/users/ZHUI/gists{/gist_id}", "starred_url": "https://api.github.com/users/ZHUI/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ZHUI/subscriptions", "organizations_url": "https://api.github.com/users/ZHUI/orgs", "repos_url": "https://api.github.com/users/ZHUI/repos", "events_url": "https://api.github.com/users/ZHUI/events{/privacy}", "received_events_url": "https://api.github.com/users/ZHUI/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2022-05-19T10:59:53Z", "updated_at": "2023-01-12T16:24:11Z", "closed_at": "2023-01-12T16:24:11Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "\r\n\r\n![image](https://user-images.githubusercontent.com/26483581/169278003-85c26323-163b-499d-acdb-e27b7feec1fb.png)\r\n\r\n\u5206\u7c7b\u4efb\u52a1\u5feb\u901f\u590d\u73b0\u65b9\u6cd5\uff1a\r\n\r\n```\r\ncd PaddleNLP/examples/benchmark/clue\r\npython classification/run_clue_classifier.py --task_name tnews --model_name_or_path ${model_name} --do_train --max_steps 100\r\n```", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/2255/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/2255/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/2254", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/2254/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/2254/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/2254/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/2254", "id": 1241591654, "node_id": "I_kwDOFAsknM5KAS9m", "number": 2254, "title": "ERNIE-Doc\u4e0d\u652f\u6301\u591a\u9009\u4efb\u52a1", "user": {"login": "LiuChiachi", "id": 26483581, "node_id": "MDQ6VXNlcjI2NDgzNTgx", "avatar_url": "https://avatars.githubusercontent.com/u/26483581?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LiuChiachi", "html_url": "https://github.com/LiuChiachi", "followers_url": "https://api.github.com/users/LiuChiachi/followers", "following_url": "https://api.github.com/users/LiuChiachi/following{/other_user}", "gists_url": "https://api.github.com/users/LiuChiachi/gists{/gist_id}", "starred_url": "https://api.github.com/users/LiuChiachi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LiuChiachi/subscriptions", "organizations_url": "https://api.github.com/users/LiuChiachi/orgs", "repos_url": "https://api.github.com/users/LiuChiachi/repos", "events_url": "https://api.github.com/users/LiuChiachi/events{/privacy}", "received_events_url": "https://api.github.com/users/LiuChiachi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3610377114, "node_id": "LA_kwDOFAsknM7XMfua", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/transformers", "name": "transformers", "color": "B5A61F", "default": false, "description": "Transformer-based pre-trained models"}, {"id": 4882422102, "node_id": "LA_kwDOFAsknM8AAAABIwPZVg", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/stale", "name": "stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "joey12300", "id": 10826371, "node_id": "MDQ6VXNlcjEwODI2Mzcx", "avatar_url": "https://avatars.githubusercontent.com/u/10826371?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joey12300", "html_url": "https://github.com/joey12300", "followers_url": "https://api.github.com/users/joey12300/followers", "following_url": "https://api.github.com/users/joey12300/following{/other_user}", "gists_url": "https://api.github.com/users/joey12300/gists{/gist_id}", "starred_url": "https://api.github.com/users/joey12300/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joey12300/subscriptions", "organizations_url": "https://api.github.com/users/joey12300/orgs", "repos_url": "https://api.github.com/users/joey12300/repos", "events_url": "https://api.github.com/users/joey12300/events{/privacy}", "received_events_url": "https://api.github.com/users/joey12300/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "joey12300", "id": 10826371, "node_id": "MDQ6VXNlcjEwODI2Mzcx", "avatar_url": "https://avatars.githubusercontent.com/u/10826371?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joey12300", "html_url": "https://github.com/joey12300", "followers_url": "https://api.github.com/users/joey12300/followers", "following_url": "https://api.github.com/users/joey12300/following{/other_user}", "gists_url": "https://api.github.com/users/joey12300/gists{/gist_id}", "starred_url": "https://api.github.com/users/joey12300/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joey12300/subscriptions", "organizations_url": "https://api.github.com/users/joey12300/orgs", "repos_url": "https://api.github.com/users/joey12300/repos", "events_url": "https://api.github.com/users/joey12300/events{/privacy}", "received_events_url": "https://api.github.com/users/joey12300/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2022-05-19T10:52:59Z", "updated_at": "2023-01-12T16:24:13Z", "closed_at": "2023-01-12T16:24:13Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "ERNIE-Doc\u4e0d\u652f\u6301\u591a\u9009\u4efb\u52a1\uff0c\u8865\u5145`ErnieDocForMultipleChoice`\u5373\u53ef\r\n\r\n\r\n\u590d\u73b0\u6b65\u9aa4\uff1a\r\n```\r\ncd PaddleNLP/examples/benchmark/clue/mrc\r\npython run_c3.py --model_name_or_path ernie-doc-base-zh --do_train\r\n```\r\nTIPS\uff1a\r\nHF dataset\u6570\u636e\u4e0b\u8f7d\u8fc7\u7a0b\u5982\u679c\u592a\u957f\u53ef\u4ee5\u901a\u8fc7\u5f00\u5173\u4ee3\u7406\u89e3\u51b3\uff0c\u4e3a\u4e86\u51cf\u5c11\u6570\u636e\u5904\u7406\u65f6\u95f4\uff0c\u53ef\u4ee5\u7528slice\u65b9\u5f0f\u53ea\u4f7f\u7528\u90e8\u5206\u6570\u636e\u96c6\uff0c\u4f8b\u5982\uff1a\r\n```\r\nload_dataset(\"clue\", \"c3\", \"train[:1%]\")\r\n```", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/2254/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/2254/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/2252", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/2252/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/2252/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/2252/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/2252", "id": 1241510803, "node_id": "I_kwDOFAsknM5J__OT", "number": 2252, "title": "ernie-health-chinese \u6a21\u578b\u56e0tokenizer do_lower_case\u76f8\u5173\u62a5\u9519\u5bfc\u81f4cmrc2018\u4efb\u52a1\u5931\u8d25", "user": {"login": "LiuChiachi", "id": 26483581, "node_id": "MDQ6VXNlcjI2NDgzNTgx", "avatar_url": "https://avatars.githubusercontent.com/u/26483581?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LiuChiachi", "html_url": "https://github.com/LiuChiachi", "followers_url": "https://api.github.com/users/LiuChiachi/followers", "following_url": "https://api.github.com/users/LiuChiachi/following{/other_user}", "gists_url": "https://api.github.com/users/LiuChiachi/gists{/gist_id}", "starred_url": "https://api.github.com/users/LiuChiachi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LiuChiachi/subscriptions", "organizations_url": "https://api.github.com/users/LiuChiachi/orgs", "repos_url": "https://api.github.com/users/LiuChiachi/repos", "events_url": "https://api.github.com/users/LiuChiachi/events{/privacy}", "received_events_url": "https://api.github.com/users/LiuChiachi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4882422102, "node_id": "LA_kwDOFAsknM8AAAABIwPZVg", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/stale", "name": "stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "LemonNoel", "id": 25607475, "node_id": "MDQ6VXNlcjI1NjA3NDc1", "avatar_url": "https://avatars.githubusercontent.com/u/25607475?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LemonNoel", "html_url": "https://github.com/LemonNoel", "followers_url": "https://api.github.com/users/LemonNoel/followers", "following_url": "https://api.github.com/users/LemonNoel/following{/other_user}", "gists_url": "https://api.github.com/users/LemonNoel/gists{/gist_id}", "starred_url": "https://api.github.com/users/LemonNoel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LemonNoel/subscriptions", "organizations_url": "https://api.github.com/users/LemonNoel/orgs", "repos_url": "https://api.github.com/users/LemonNoel/repos", "events_url": "https://api.github.com/users/LemonNoel/events{/privacy}", "received_events_url": "https://api.github.com/users/LemonNoel/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "LemonNoel", "id": 25607475, "node_id": "MDQ6VXNlcjI1NjA3NDc1", "avatar_url": "https://avatars.githubusercontent.com/u/25607475?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LemonNoel", "html_url": "https://github.com/LemonNoel", "followers_url": "https://api.github.com/users/LemonNoel/followers", "following_url": "https://api.github.com/users/LemonNoel/following{/other_user}", "gists_url": "https://api.github.com/users/LemonNoel/gists{/gist_id}", "starred_url": "https://api.github.com/users/LemonNoel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LemonNoel/subscriptions", "organizations_url": "https://api.github.com/users/LemonNoel/orgs", "repos_url": "https://api.github.com/users/LemonNoel/repos", "events_url": "https://api.github.com/users/LemonNoel/events{/privacy}", "received_events_url": "https://api.github.com/users/LemonNoel/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2022-05-19T09:42:21Z", "updated_at": "2022-12-29T13:38:55Z", "closed_at": "2022-12-29T13:38:55Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "\u5931\u8d25\u622a\u56fe\uff1a\r\n![image](https://user-images.githubusercontent.com/26483581/169256721-4b514dbf-af3d-4fa6-9b52-5fed739dab46.png)\r\n\u590d\u73b0\u6b65\u9aa4\uff1a\r\n```\r\ncd PaddleNLP/examples/benchmark/clue/mrc\r\npython run_cmrc.py --model_name_or_path ernie-health-chinese --do_train\r\n```\r\nTIPS\uff1a\r\nHF dataset\u6570\u636e\u4e0b\u8f7d\u8fc7\u7a0b\u5982\u679c\u592a\u957f\u53ef\u4ee5\u901a\u8fc7\u5f00\u5173\u4ee3\u7406\u89e3\u51b3\uff0c\u4e3a\u4e86\u51cf\u5c11\u6570\u636e\u5904\u7406\u65f6\u95f4\uff0c\u53ef\u4ee5\u7528slice\u65b9\u5f0f\u53ea\u4f7f\u7528\u90e8\u5206\u6570\u636e\u96c6\uff0c\u4f8b\u5982\uff1a\r\n```\r\nload_dataset(\"clue\", \"cmrc2018\", \"train[:1%]\")\r\n```", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/2252/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/2252/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/2249", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/2249/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/2249/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/2249/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/2249", "id": 1241465210, "node_id": "I_kwDOFAsknM5J_0F6", "number": 2249, "title": "ernie-m-base\u6a21\u578b\u56e0\u4e3atokenizer\u4e0d\u652f\u6301\u5bfc\u81f4\u9605\u8bfb\u7406\u89e3cmrc2018\u4efb\u52a1\u5931\u8d25", "user": {"login": "LiuChiachi", "id": 26483581, "node_id": "MDQ6VXNlcjI2NDgzNTgx", "avatar_url": "https://avatars.githubusercontent.com/u/26483581?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LiuChiachi", "html_url": "https://github.com/LiuChiachi", "followers_url": "https://api.github.com/users/LiuChiachi/followers", "following_url": "https://api.github.com/users/LiuChiachi/following{/other_user}", "gists_url": "https://api.github.com/users/LiuChiachi/gists{/gist_id}", "starred_url": "https://api.github.com/users/LiuChiachi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LiuChiachi/subscriptions", "organizations_url": "https://api.github.com/users/LiuChiachi/orgs", "repos_url": "https://api.github.com/users/LiuChiachi/repos", "events_url": "https://api.github.com/users/LiuChiachi/events{/privacy}", "received_events_url": "https://api.github.com/users/LiuChiachi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 3610371561, "node_id": "LA_kwDOFAsknM7XMeXp", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/faster", "name": "faster", "color": "52253B", "default": false, "description": "Make training or inference faster"}, {"id": 4882422102, "node_id": "LA_kwDOFAsknM8AAAABIwPZVg", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/stale", "name": "stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "gongel", "id": 24390500, "node_id": "MDQ6VXNlcjI0MzkwNTAw", "avatar_url": "https://avatars.githubusercontent.com/u/24390500?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gongel", "html_url": "https://github.com/gongel", "followers_url": "https://api.github.com/users/gongel/followers", "following_url": "https://api.github.com/users/gongel/following{/other_user}", "gists_url": "https://api.github.com/users/gongel/gists{/gist_id}", "starred_url": "https://api.github.com/users/gongel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gongel/subscriptions", "organizations_url": "https://api.github.com/users/gongel/orgs", "repos_url": "https://api.github.com/users/gongel/repos", "events_url": "https://api.github.com/users/gongel/events{/privacy}", "received_events_url": "https://api.github.com/users/gongel/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gongel", "id": 24390500, "node_id": "MDQ6VXNlcjI0MzkwNTAw", "avatar_url": "https://avatars.githubusercontent.com/u/24390500?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gongel", "html_url": "https://github.com/gongel", "followers_url": "https://api.github.com/users/gongel/followers", "following_url": "https://api.github.com/users/gongel/following{/other_user}", "gists_url": "https://api.github.com/users/gongel/gists{/gist_id}", "starred_url": "https://api.github.com/users/gongel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gongel/subscriptions", "organizations_url": "https://api.github.com/users/gongel/orgs", "repos_url": "https://api.github.com/users/gongel/repos", "events_url": "https://api.github.com/users/gongel/events{/privacy}", "received_events_url": "https://api.github.com/users/gongel/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2022-05-19T09:04:13Z", "updated_at": "2023-01-13T01:18:20Z", "closed_at": "2023-01-13T01:18:20Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "\r\n\u5931\u8d25\u622a\u56fe\uff1a\r\n![image](https://user-images.githubusercontent.com/26483581/169256240-6fe750de-e9a6-4536-9b8c-4dc3cb9183e4.png)\r\n\r\n\u590d\u73b0\u6b65\u9aa4\uff1a\r\n```\r\ncd PaddleNLP/examples/benchmark/clue/mrc\r\npython run_cmrc.py --model_name_or_path ernie-m-base --do_train\r\n```\r\nTIPS\uff1a\r\nHF dataset\u6570\u636e\u4e0b\u8f7d\u8fc7\u7a0b\u5982\u679c\u592a\u957f\u53ef\u4ee5\u901a\u8fc7\u5f00\u5173\u4ee3\u7406\u89e3\u51b3\uff0c\u4e3a\u4e86\u51cf\u5c11\u6570\u636e\u5904\u7406\u65f6\u95f4\uff0c\u53ef\u4ee5\u7528slice\u65b9\u5f0f\u53ea\u4f7f\u7528\u90e8\u5206\u6570\u636e\u96c6\uff0c\u4f8b\u5982\uff1a\r\n```\r\nload_dataset(\"clue\", \"cmrc2018\", \"train[:1%]\")\r\n```", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/2249/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/2249/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/1854", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/1854/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/1854/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/1854/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/1854", "id": 1184202716, "node_id": "I_kwDOFAsknM5GlX_c", "number": 1854, "title": "FewClue\u4e2d\u7684cluewsc\u5b50\u6570\u636e\u96c6\u4e3a\u7a7a", "user": {"login": "smallv0221", "id": 33639025, "node_id": "MDQ6VXNlcjMzNjM5MDI1", "avatar_url": "https://avatars.githubusercontent.com/u/33639025?v=4", "gravatar_id": "", "url": "https://api.github.com/users/smallv0221", "html_url": "https://github.com/smallv0221", "followers_url": "https://api.github.com/users/smallv0221/followers", "following_url": "https://api.github.com/users/smallv0221/following{/other_user}", "gists_url": "https://api.github.com/users/smallv0221/gists{/gist_id}", "starred_url": "https://api.github.com/users/smallv0221/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/smallv0221/subscriptions", "organizations_url": "https://api.github.com/users/smallv0221/orgs", "repos_url": "https://api.github.com/users/smallv0221/repos", "events_url": "https://api.github.com/users/smallv0221/events{/privacy}", "received_events_url": "https://api.github.com/users/smallv0221/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "tianxin1860", "id": 6829601, "node_id": "MDQ6VXNlcjY4Mjk2MDE=", "avatar_url": "https://avatars.githubusercontent.com/u/6829601?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tianxin1860", "html_url": "https://github.com/tianxin1860", "followers_url": "https://api.github.com/users/tianxin1860/followers", "following_url": "https://api.github.com/users/tianxin1860/following{/other_user}", "gists_url": "https://api.github.com/users/tianxin1860/gists{/gist_id}", "starred_url": "https://api.github.com/users/tianxin1860/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tianxin1860/subscriptions", "organizations_url": "https://api.github.com/users/tianxin1860/orgs", "repos_url": "https://api.github.com/users/tianxin1860/repos", "events_url": "https://api.github.com/users/tianxin1860/events{/privacy}", "received_events_url": "https://api.github.com/users/tianxin1860/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tianxin1860", "id": 6829601, "node_id": "MDQ6VXNlcjY4Mjk2MDE=", "avatar_url": "https://avatars.githubusercontent.com/u/6829601?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tianxin1860", "html_url": "https://github.com/tianxin1860", "followers_url": "https://api.github.com/users/tianxin1860/followers", "following_url": "https://api.github.com/users/tianxin1860/following{/other_user}", "gists_url": "https://api.github.com/users/tianxin1860/gists{/gist_id}", "starred_url": "https://api.github.com/users/tianxin1860/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tianxin1860/subscriptions", "organizations_url": "https://api.github.com/users/tianxin1860/orgs", "repos_url": "https://api.github.com/users/tianxin1860/repos", "events_url": "https://api.github.com/users/tianxin1860/events{/privacy}", "received_events_url": "https://api.github.com/users/tianxin1860/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2022-03-29T02:12:37Z", "updated_at": "2022-03-31T10:14:11Z", "closed_at": "2022-03-31T10:14:11Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "<img width=\"1430\" alt=\"image\" src=\"https://user-images.githubusercontent.com/33639025/160518734-d033a125-0d38-4422-9d9d-73998753e5c3.png\">\r\n", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/1854/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/1854/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/1760", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/1760/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/1760/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/1760/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/1760", "id": 1166370234, "node_id": "I_kwDOFAsknM5FhWW6", "number": 1760, "title": "\u52a8\u6001\u56fe\u5bfc\u51fa\u4e3a\u9759\u6001\u56fe\u62a5\u9519\uff1aAttributeError: 'builtin_function_or_method' object has no attribute 'transpose'", "user": {"login": "githanyongjin", "id": 48081711, "node_id": "MDQ6VXNlcjQ4MDgxNzEx", "avatar_url": "https://avatars.githubusercontent.com/u/48081711?v=4", "gravatar_id": "", "url": "https://api.github.com/users/githanyongjin", "html_url": "https://github.com/githanyongjin", "followers_url": "https://api.github.com/users/githanyongjin/followers", "following_url": "https://api.github.com/users/githanyongjin/following{/other_user}", "gists_url": "https://api.github.com/users/githanyongjin/gists{/gist_id}", "starred_url": "https://api.github.com/users/githanyongjin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/githanyongjin/subscriptions", "organizations_url": "https://api.github.com/users/githanyongjin/orgs", "repos_url": "https://api.github.com/users/githanyongjin/repos", "events_url": "https://api.github.com/users/githanyongjin/events{/privacy}", "received_events_url": "https://api.github.com/users/githanyongjin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4882422102, "node_id": "LA_kwDOFAsknM8AAAABIwPZVg", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/stale", "name": "stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "linjieccc", "id": 40840292, "node_id": "MDQ6VXNlcjQwODQwMjky", "avatar_url": "https://avatars.githubusercontent.com/u/40840292?v=4", "gravatar_id": "", "url": "https://api.github.com/users/linjieccc", "html_url": "https://github.com/linjieccc", "followers_url": "https://api.github.com/users/linjieccc/followers", "following_url": "https://api.github.com/users/linjieccc/following{/other_user}", "gists_url": "https://api.github.com/users/linjieccc/gists{/gist_id}", "starred_url": "https://api.github.com/users/linjieccc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/linjieccc/subscriptions", "organizations_url": "https://api.github.com/users/linjieccc/orgs", "repos_url": "https://api.github.com/users/linjieccc/repos", "events_url": "https://api.github.com/users/linjieccc/events{/privacy}", "received_events_url": "https://api.github.com/users/linjieccc/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "linjieccc", "id": 40840292, "node_id": "MDQ6VXNlcjQwODQwMjky", "avatar_url": "https://avatars.githubusercontent.com/u/40840292?v=4", "gravatar_id": "", "url": "https://api.github.com/users/linjieccc", "html_url": "https://github.com/linjieccc", "followers_url": "https://api.github.com/users/linjieccc/followers", "following_url": "https://api.github.com/users/linjieccc/following{/other_user}", "gists_url": "https://api.github.com/users/linjieccc/gists{/gist_id}", "starred_url": "https://api.github.com/users/linjieccc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/linjieccc/subscriptions", "organizations_url": "https://api.github.com/users/linjieccc/orgs", "repos_url": "https://api.github.com/users/linjieccc/repos", "events_url": "https://api.github.com/users/linjieccc/events{/privacy}", "received_events_url": "https://api.github.com/users/linjieccc/received_events", "type": "User", "site_admin": false}, {"login": "Steffy-zxf", "id": 48793257, "node_id": "MDQ6VXNlcjQ4NzkzMjU3", "avatar_url": "https://avatars.githubusercontent.com/u/48793257?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Steffy-zxf", "html_url": "https://github.com/Steffy-zxf", "followers_url": "https://api.github.com/users/Steffy-zxf/followers", "following_url": "https://api.github.com/users/Steffy-zxf/following{/other_user}", "gists_url": "https://api.github.com/users/Steffy-zxf/gists{/gist_id}", "starred_url": "https://api.github.com/users/Steffy-zxf/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Steffy-zxf/subscriptions", "organizations_url": "https://api.github.com/users/Steffy-zxf/orgs", "repos_url": "https://api.github.com/users/Steffy-zxf/repos", "events_url": "https://api.github.com/users/Steffy-zxf/events{/privacy}", "received_events_url": "https://api.github.com/users/Steffy-zxf/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2022-03-11T12:37:50Z", "updated_at": "2023-01-25T00:18:23Z", "closed_at": "2023-01-25T00:18:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "\u6587\u672c\u5206\u7c7b rnn\u4e2d\u4f7f\u7528bilstm_attn\u8bad\u7ec3\u597d\u6a21\u578b\u540e\uff0c\u5bfc\u51fa\u9759\u6001\u56fe\u62a5\u9519AttributeError: 'builtin_function_or_method' object has no attribute 'transpose'", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/1760/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/1760/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/1730", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/1730/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/1730/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/1730/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/1730", "id": 1160850346, "node_id": "I_kwDOFAsknM5FMSuq", "number": 1730, "title": "roberta-en-base  roberta-en-large\u6a21\u578b\u7f3a\u5931", "user": {"login": "tanhanzhuo", "id": 92439758, "node_id": "U_kgDOBYKEzg", "avatar_url": "https://avatars.githubusercontent.com/u/92439758?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tanhanzhuo", "html_url": "https://github.com/tanhanzhuo", "followers_url": "https://api.github.com/users/tanhanzhuo/followers", "following_url": "https://api.github.com/users/tanhanzhuo/following{/other_user}", "gists_url": "https://api.github.com/users/tanhanzhuo/gists{/gist_id}", "starred_url": "https://api.github.com/users/tanhanzhuo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tanhanzhuo/subscriptions", "organizations_url": "https://api.github.com/users/tanhanzhuo/orgs", "repos_url": "https://api.github.com/users/tanhanzhuo/repos", "events_url": "https://api.github.com/users/tanhanzhuo/events{/privacy}", "received_events_url": "https://api.github.com/users/tanhanzhuo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "yingyibiao", "id": 52000032, "node_id": "MDQ6VXNlcjUyMDAwMDMy", "avatar_url": "https://avatars.githubusercontent.com/u/52000032?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yingyibiao", "html_url": "https://github.com/yingyibiao", "followers_url": "https://api.github.com/users/yingyibiao/followers", "following_url": "https://api.github.com/users/yingyibiao/following{/other_user}", "gists_url": "https://api.github.com/users/yingyibiao/gists{/gist_id}", "starred_url": "https://api.github.com/users/yingyibiao/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yingyibiao/subscriptions", "organizations_url": "https://api.github.com/users/yingyibiao/orgs", "repos_url": "https://api.github.com/users/yingyibiao/repos", "events_url": "https://api.github.com/users/yingyibiao/events{/privacy}", "received_events_url": "https://api.github.com/users/yingyibiao/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "yingyibiao", "id": 52000032, "node_id": "MDQ6VXNlcjUyMDAwMDMy", "avatar_url": "https://avatars.githubusercontent.com/u/52000032?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yingyibiao", "html_url": "https://github.com/yingyibiao", "followers_url": "https://api.github.com/users/yingyibiao/followers", "following_url": "https://api.github.com/users/yingyibiao/following{/other_user}", "gists_url": "https://api.github.com/users/yingyibiao/gists{/gist_id}", "starred_url": "https://api.github.com/users/yingyibiao/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yingyibiao/subscriptions", "organizations_url": "https://api.github.com/users/yingyibiao/orgs", "repos_url": "https://api.github.com/users/yingyibiao/repos", "events_url": "https://api.github.com/users/yingyibiao/events{/privacy}", "received_events_url": "https://api.github.com/users/yingyibiao/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/milestones/1", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/milestone/1", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/milestones/1/labels", "id": 7768204, "node_id": "MI_kwDOFAsknM4AdoiM", "number": 1, "title": "PaddleNLP v2.3", "description": "", "creator": {"login": "ZeyuChen", "id": 1371212, "node_id": "MDQ6VXNlcjEzNzEyMTI=", "avatar_url": "https://avatars.githubusercontent.com/u/1371212?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ZeyuChen", "html_url": "https://github.com/ZeyuChen", "followers_url": "https://api.github.com/users/ZeyuChen/followers", "following_url": "https://api.github.com/users/ZeyuChen/following{/other_user}", "gists_url": "https://api.github.com/users/ZeyuChen/gists{/gist_id}", "starred_url": "https://api.github.com/users/ZeyuChen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ZeyuChen/subscriptions", "organizations_url": "https://api.github.com/users/ZeyuChen/orgs", "repos_url": "https://api.github.com/users/ZeyuChen/repos", "events_url": "https://api.github.com/users/ZeyuChen/events{/privacy}", "received_events_url": "https://api.github.com/users/ZeyuChen/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 7, "state": "closed", "created_at": "2022-03-15T08:02:24Z", "updated_at": "2022-09-16T15:36:31Z", "due_on": "2022-03-31T07:00:00Z", "closed_at": "2022-09-16T15:36:31Z"}, "comments": 1, "created_at": "2022-03-07T03:16:31Z", "updated_at": "2022-05-17T11:51:00Z", "closed_at": "2022-05-17T11:51:00Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "```\r\nfrom paddlenlp.transformers import RobertaTokenizer, RobertaModel\r\nRobertaTokenizer.from_pretrained('roberta-en-base')\r\nRobertaModel.from_pretrained('roberta-en-base')\r\n```\r\n\u5176\u4e2dtokenizer\u6b63\u5e38\u8f7d\u5165\uff0c\u5bfc\u5165\u6a21\u578b\u663e\u793a\uff1a\r\n```\r\nRuntimeError: Can't load weights for 'roberta-en-base'.\r\nPlease make sure that 'roberta-en-base' is:\r\n- a correct model-identifier of built-in pretrained models,\r\n- or a correct model-identifier of community-contributed pretrained models,\r\n- or the correct path to a directory containing relevant modeling files(model_weights and model_config).\r\n```\r\n\u6a21\u578b\u5217\u8868\u4e2d\u663e\u793a\u63d0\u4f9broberta-en-base\u548croberta-en-large\r\n(https://paddlenlp.readthedocs.io/zh/latest/model_zoo/transformers.html)\r\n\u5728\u6e90\u4ee3\u7801\u4e2d\r\nhttps://github.com/PaddlePaddle/PaddleNLP/blob/487162262196bead8d9b4c2306f313b8f64edf9b/paddlenlp/transformers/roberta/modeling.py#L96\r\n\u9057\u6f0frobert-en-base\u7b49\u6a21\u578b \uff08\u53e6\u4e00\u4e2aissue\u4e2d\u4e5f\u6709\u5f00\u53d1\u8005\u9047\u5230\u7c7b\u4f3c\u95ee\u9898https://github.com/PaddlePaddle/PaddleNLP/issues/1719\uff09\r\n\r\n\u53e6\uff1a\r\nPaddle\u7684roberta-en-base\u7684tokenizer\uff0cpad_token, mask_token\u7b49\u548c\u539froberta\u6a21\u578b\u4e0d\u540c\uff08e.g. [PAD] vs <pad>\uff09\uff0c\u867d\u7136pad_token_id\u76f8\u540c\uff0c\u4f46\u53ef\u80fd\u4f1a\u5bfc\u81f4\u8bef\u89e3", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/1730/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/1730/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/1729", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/1729/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/1729/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/1729/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/1729", "id": 1160568803, "node_id": "I_kwDOFAsknM5FLN_j", "number": 1729, "title": "MultiLabelsMetric import\u8bed\u53e5\u5bfc\u5165\u95ee\u9898\uff0c\u671b\u4fee\u590d\u3002", "user": {"login": "ChrisMengxl", "id": 37732788, "node_id": "MDQ6VXNlcjM3NzMyNzg4", "avatar_url": "https://avatars.githubusercontent.com/u/37732788?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ChrisMengxl", "html_url": "https://github.com/ChrisMengxl", "followers_url": "https://api.github.com/users/ChrisMengxl/followers", "following_url": "https://api.github.com/users/ChrisMengxl/following{/other_user}", "gists_url": "https://api.github.com/users/ChrisMengxl/gists{/gist_id}", "starred_url": "https://api.github.com/users/ChrisMengxl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ChrisMengxl/subscriptions", "organizations_url": "https://api.github.com/users/ChrisMengxl/orgs", "repos_url": "https://api.github.com/users/ChrisMengxl/repos", "events_url": "https://api.github.com/users/ChrisMengxl/events{/privacy}", "received_events_url": "https://api.github.com/users/ChrisMengxl/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "smallv0221", "id": 33639025, "node_id": "MDQ6VXNlcjMzNjM5MDI1", "avatar_url": "https://avatars.githubusercontent.com/u/33639025?v=4", "gravatar_id": "", "url": "https://api.github.com/users/smallv0221", "html_url": "https://github.com/smallv0221", "followers_url": "https://api.github.com/users/smallv0221/followers", "following_url": "https://api.github.com/users/smallv0221/following{/other_user}", "gists_url": "https://api.github.com/users/smallv0221/gists{/gist_id}", "starred_url": "https://api.github.com/users/smallv0221/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/smallv0221/subscriptions", "organizations_url": "https://api.github.com/users/smallv0221/orgs", "repos_url": "https://api.github.com/users/smallv0221/repos", "events_url": "https://api.github.com/users/smallv0221/events{/privacy}", "received_events_url": "https://api.github.com/users/smallv0221/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "smallv0221", "id": 33639025, "node_id": "MDQ6VXNlcjMzNjM5MDI1", "avatar_url": "https://avatars.githubusercontent.com/u/33639025?v=4", "gravatar_id": "", "url": "https://api.github.com/users/smallv0221", "html_url": "https://github.com/smallv0221", "followers_url": "https://api.github.com/users/smallv0221/followers", "following_url": "https://api.github.com/users/smallv0221/following{/other_user}", "gists_url": "https://api.github.com/users/smallv0221/gists{/gist_id}", "starred_url": "https://api.github.com/users/smallv0221/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/smallv0221/subscriptions", "organizations_url": "https://api.github.com/users/smallv0221/orgs", "repos_url": "https://api.github.com/users/smallv0221/repos", "events_url": "https://api.github.com/users/smallv0221/events{/privacy}", "received_events_url": "https://api.github.com/users/smallv0221/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2022-03-06T10:03:21Z", "updated_at": "2022-04-11T11:41:07Z", "closed_at": "2022-04-11T11:41:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "\u6b22\u8fce\u60a8\u53cd\u9988PaddleNLP\u4f7f\u7528\u95ee\u9898\uff0c\u975e\u5e38\u611f\u8c22\u60a8\u5bf9PaddleNLP\u7684\u8d21\u732e\uff01\r\n\u5728\u7559\u4e0b\u60a8\u7684\u95ee\u9898\u65f6\uff0c\u8f9b\u82e6\u60a8\u540c\u6b65\u63d0\u4f9b\u5982\u4e0b\u4fe1\u606f\uff1a\r\n- \u7248\u672c\u3001\u73af\u5883\u4fe1\u606f\r\n1\uff09PaddleNLP\u548cPaddlePaddle\u7248\u672c\uff1a\u8bf7\u63d0\u4f9b\u60a8\u7684PaddleNLP\u548cPaddlePaddle\u7248\u672c\u53f7\uff0c\u4f8b\u5982PaddleNLP 2.0.4\uff0cPaddlePaddle2.1.1\r\n2\uff09\u7cfb\u7edf\u73af\u5883\uff1a\u8bf7\u60a8\u63cf\u8ff0\u7cfb\u7edf\u7c7b\u578b\uff0c\u4f8b\u5982Linux/Windows/MacOS/\uff0cpython\u7248\u672c\r\n- \u590d\u73b0\u4fe1\u606f\uff1a\u5982\u4e3a\u62a5\u9519\uff0c\u8bf7\u7ed9\u51fa\u590d\u73b0\u73af\u5883\u3001\u590d\u73b0\u6b65\u9aa4\r\nPaddleNLP 2.2\r\n\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\r\n[PaddleNLP/blob/release/2.2/paddlenlp/metrics/__init__.py\u6587\u4ef6](https://github.com/PaddlePaddle/PaddleNLP/blob/release/2.2/paddlenlp/metrics/__init__.py)\r\n\u65e0 \uff1aMultiLabelsMetric\r\n\u5e94\uff1a\r\nfrom .glue import AccuracyAndF1, Mcc, PearsonAndSpearman, MultiLabelsMetric", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/1729/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/1729/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/1624", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/1624/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/1624/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/1624/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/1624", "id": 1111372028, "node_id": "I_kwDOFAsknM5CPjD8", "number": 1624, "title": "ERNIE-doc\u5206\u7c7b\u95ee\u9898 \u9884\u8bad\u7ec3\u6a21\u578bernie-doc-base-zh\u52a0\u8f7d\u9519\u8bef", "user": {"login": "Maydaytyh", "id": 13815598, "node_id": "MDQ6VXNlcjEzODE1NTk4", "avatar_url": "https://avatars.githubusercontent.com/u/13815598?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Maydaytyh", "html_url": "https://github.com/Maydaytyh", "followers_url": "https://api.github.com/users/Maydaytyh/followers", "following_url": "https://api.github.com/users/Maydaytyh/following{/other_user}", "gists_url": "https://api.github.com/users/Maydaytyh/gists{/gist_id}", "starred_url": "https://api.github.com/users/Maydaytyh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Maydaytyh/subscriptions", "organizations_url": "https://api.github.com/users/Maydaytyh/orgs", "repos_url": "https://api.github.com/users/Maydaytyh/repos", "events_url": "https://api.github.com/users/Maydaytyh/events{/privacy}", "received_events_url": "https://api.github.com/users/Maydaytyh/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "joey12300", "id": 10826371, "node_id": "MDQ6VXNlcjEwODI2Mzcx", "avatar_url": "https://avatars.githubusercontent.com/u/10826371?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joey12300", "html_url": "https://github.com/joey12300", "followers_url": "https://api.github.com/users/joey12300/followers", "following_url": "https://api.github.com/users/joey12300/following{/other_user}", "gists_url": "https://api.github.com/users/joey12300/gists{/gist_id}", "starred_url": "https://api.github.com/users/joey12300/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joey12300/subscriptions", "organizations_url": "https://api.github.com/users/joey12300/orgs", "repos_url": "https://api.github.com/users/joey12300/repos", "events_url": "https://api.github.com/users/joey12300/events{/privacy}", "received_events_url": "https://api.github.com/users/joey12300/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "joey12300", "id": 10826371, "node_id": "MDQ6VXNlcjEwODI2Mzcx", "avatar_url": "https://avatars.githubusercontent.com/u/10826371?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joey12300", "html_url": "https://github.com/joey12300", "followers_url": "https://api.github.com/users/joey12300/followers", "following_url": "https://api.github.com/users/joey12300/following{/other_user}", "gists_url": "https://api.github.com/users/joey12300/gists{/gist_id}", "starred_url": "https://api.github.com/users/joey12300/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joey12300/subscriptions", "organizations_url": "https://api.github.com/users/joey12300/orgs", "repos_url": "https://api.github.com/users/joey12300/repos", "events_url": "https://api.github.com/users/joey12300/events{/privacy}", "received_events_url": "https://api.github.com/users/joey12300/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2022-01-22T09:15:31Z", "updated_at": "2022-01-23T13:06:56Z", "closed_at": "2022-01-23T13:06:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "paddlepaddle\u548cpaddlenlp\u7248\u672c\u4fe1\u606f\u5982\u4e0b\u56fe\u6240\u793a\r\n![image](https://user-images.githubusercontent.com/13815598/150632430-d8ef35ea-19f9-4264-8127-a256adcfa190.png)\r\n\u62a5\u9519\u4fe1\u606f\u5982\u4e0b\u6240\u793a\r\n![image](https://user-images.githubusercontent.com/13815598/150632454-91204c7c-2ac5-40c9-921e-57de969f02a3.png)\r\n\u6a21\u578b\u9009\u62e9\u90e8\u5206\u4e3a\r\n![image](https://user-images.githubusercontent.com/13815598/150632476-603ec006-664f-41ab-ba0f-38ad4f5d68d5.png)\r\n\u8bf7\u95ee\u8fd9\u662f\u4ec0\u4e48\u60c5\u51b5\u5462\uff1f", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/1624/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/1624/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/1372", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/1372/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/1372/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/1372/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/1372", "id": 1065994821, "node_id": "I_kwDOFAsknM4_icpF", "number": 1372, "title": "AlbertTokenizer Pad\u7684id\u662f\u5426\u6b63\u786e\uff1f", "user": {"login": "hermitgreen", "id": 31271515, "node_id": "MDQ6VXNlcjMxMjcxNTE1", "avatar_url": "https://avatars.githubusercontent.com/u/31271515?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hermitgreen", "html_url": "https://github.com/hermitgreen", "followers_url": "https://api.github.com/users/hermitgreen/followers", "following_url": "https://api.github.com/users/hermitgreen/following{/other_user}", "gists_url": "https://api.github.com/users/hermitgreen/gists{/gist_id}", "starred_url": "https://api.github.com/users/hermitgreen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hermitgreen/subscriptions", "organizations_url": "https://api.github.com/users/hermitgreen/orgs", "repos_url": "https://api.github.com/users/hermitgreen/repos", "events_url": "https://api.github.com/users/hermitgreen/events{/privacy}", "received_events_url": "https://api.github.com/users/hermitgreen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "yingyibiao", "id": 52000032, "node_id": "MDQ6VXNlcjUyMDAwMDMy", "avatar_url": "https://avatars.githubusercontent.com/u/52000032?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yingyibiao", "html_url": "https://github.com/yingyibiao", "followers_url": "https://api.github.com/users/yingyibiao/followers", "following_url": "https://api.github.com/users/yingyibiao/following{/other_user}", "gists_url": "https://api.github.com/users/yingyibiao/gists{/gist_id}", "starred_url": "https://api.github.com/users/yingyibiao/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yingyibiao/subscriptions", "organizations_url": "https://api.github.com/users/yingyibiao/orgs", "repos_url": "https://api.github.com/users/yingyibiao/repos", "events_url": "https://api.github.com/users/yingyibiao/events{/privacy}", "received_events_url": "https://api.github.com/users/yingyibiao/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "yingyibiao", "id": 52000032, "node_id": "MDQ6VXNlcjUyMDAwMDMy", "avatar_url": "https://avatars.githubusercontent.com/u/52000032?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yingyibiao", "html_url": "https://github.com/yingyibiao", "followers_url": "https://api.github.com/users/yingyibiao/followers", "following_url": "https://api.github.com/users/yingyibiao/following{/other_user}", "gists_url": "https://api.github.com/users/yingyibiao/gists{/gist_id}", "starred_url": "https://api.github.com/users/yingyibiao/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yingyibiao/subscriptions", "organizations_url": "https://api.github.com/users/yingyibiao/orgs", "repos_url": "https://api.github.com/users/yingyibiao/repos", "events_url": "https://api.github.com/users/yingyibiao/events{/privacy}", "received_events_url": "https://api.github.com/users/yingyibiao/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 7, "created_at": "2021-11-29T12:44:23Z", "updated_at": "2021-12-31T11:43:32Z", "closed_at": "2021-12-31T11:43:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "\u6b22\u8fce\u60a8\u53cd\u9988PaddleNLP\u4f7f\u7528\u95ee\u9898\uff0c\u975e\u5e38\u611f\u8c22\u60a8\u5bf9PaddleNLP\u7684\u8d21\u732e\uff01\r\n\u5728\u7559\u4e0b\u60a8\u7684\u95ee\u9898\u65f6\uff0c\u8f9b\u82e6\u60a8\u540c\u6b65\u63d0\u4f9b\u5982\u4e0b\u4fe1\u606f\uff1a\r\n- \u7248\u672c\u3001\u73af\u5883\u4fe1\u606f\r\n1\uff09PaddleNLP\u548cPaddlePaddle\u7248\u672c\uff1a\u8bf7\u63d0\u4f9b\u60a8\u7684PaddleNLP\u548cPaddlePaddle\u7248\u672c\u53f7\uff0c\u4f8b\u5982PaddleNLP 2.0.4\uff0cPaddlePaddle2.1.1\r\nPaddleNLP 2.1.1 PaddlePaddle-GPU 2.2.0\r\n2\uff09\u7cfb\u7edf\u73af\u5883\uff1a\u8bf7\u60a8\u63cf\u8ff0\u7cfb\u7edf\u7c7b\u578b\uff0c\u4f8b\u5982Linux/Windows/MacOS/\uff0cpython\u7248\u672c\r\nLinux Python 3.8.11\r\n- \u590d\u73b0\u4fe1\u606f\uff1a\u5982\u4e3a\u62a5\u9519\uff0c\u8bf7\u7ed9\u51fa\u590d\u73b0\u73af\u5883\u3001\u590d\u73b0\u6b65\u9aa4\r\n\r\n\u5728\u4f7f\u7528albert_tokenizer\u65f6\uff1a\u8bbe\u7f6e\u5982\u4e0b\u4ee3\u7801\r\n```python\r\n    encode_inputs = tokenizer(\r\n        text=raw_inputs,\r\n        max_seq_len=128,\r\n        pad_to_max_seq_len=True,\r\n    )\r\n```\r\n\r\n\u5f97\u5230\u7684\u90e8\u5206\u8f93\u51fa\u5982\u4e0b\uff1a\r\n```\r\n'input_ids': [101, 1184, 697, 1921, 2769, 2970, 1168, 8287, 9632, 8157, 5314, 2769, 2802, 4510, 6413, 1285, 5277, 4635, 7032, 1305, 749, 8024, 6656, 2769, 6432, 5543, 6444, 7583, 8024, 3221, 4696, 4638, 1408, 8024, 679, 3221, 7745, 2094, 1416, 511, 102, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100]\r\n```\r\n\r\n\u53ef\u4ee5\u770b\u5230Pad\u7684\u503c\u4e3a100\uff0c\u800calbert doc\u4e2d\u6709\u5982\u4e0b\u63cf\u8ff0\uff1a\r\n```\r\n\"pad_token_id\": 0,\r\n```\r\n\r\n\u8bf7\u95eePad\u7684id\u5e94\u8be5\u662f0\u8fd8\u662f100\uff1f\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/1372/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/1372/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/1090", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/1090/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/1090/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/1090/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/1090", "id": 1007019030, "node_id": "I_kwDOFAsknM48BeQW", "number": 1090, "title": "albert-chinese-tiny \u6a21\u578b\u4fdd\u5b58\u51fa\u73b0\u9519\u8bef", "user": {"login": "stronger123-boa", "id": 75199243, "node_id": "MDQ6VXNlcjc1MTk5MjQz", "avatar_url": "https://avatars.githubusercontent.com/u/75199243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stronger123-boa", "html_url": "https://github.com/stronger123-boa", "followers_url": "https://api.github.com/users/stronger123-boa/followers", "following_url": "https://api.github.com/users/stronger123-boa/following{/other_user}", "gists_url": "https://api.github.com/users/stronger123-boa/gists{/gist_id}", "starred_url": "https://api.github.com/users/stronger123-boa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stronger123-boa/subscriptions", "organizations_url": "https://api.github.com/users/stronger123-boa/orgs", "repos_url": "https://api.github.com/users/stronger123-boa/repos", "events_url": "https://api.github.com/users/stronger123-boa/events{/privacy}", "received_events_url": "https://api.github.com/users/stronger123-boa/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "yingyibiao", "id": 52000032, "node_id": "MDQ6VXNlcjUyMDAwMDMy", "avatar_url": "https://avatars.githubusercontent.com/u/52000032?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yingyibiao", "html_url": "https://github.com/yingyibiao", "followers_url": "https://api.github.com/users/yingyibiao/followers", "following_url": "https://api.github.com/users/yingyibiao/following{/other_user}", "gists_url": "https://api.github.com/users/yingyibiao/gists{/gist_id}", "starred_url": "https://api.github.com/users/yingyibiao/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yingyibiao/subscriptions", "organizations_url": "https://api.github.com/users/yingyibiao/orgs", "repos_url": "https://api.github.com/users/yingyibiao/repos", "events_url": "https://api.github.com/users/yingyibiao/events{/privacy}", "received_events_url": "https://api.github.com/users/yingyibiao/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "yingyibiao", "id": 52000032, "node_id": "MDQ6VXNlcjUyMDAwMDMy", "avatar_url": "https://avatars.githubusercontent.com/u/52000032?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yingyibiao", "html_url": "https://github.com/yingyibiao", "followers_url": "https://api.github.com/users/yingyibiao/followers", "following_url": "https://api.github.com/users/yingyibiao/following{/other_user}", "gists_url": "https://api.github.com/users/yingyibiao/gists{/gist_id}", "starred_url": "https://api.github.com/users/yingyibiao/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yingyibiao/subscriptions", "organizations_url": "https://api.github.com/users/yingyibiao/orgs", "repos_url": "https://api.github.com/users/yingyibiao/repos", "events_url": "https://api.github.com/users/yingyibiao/events{/privacy}", "received_events_url": "https://api.github.com/users/yingyibiao/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2021-09-25T08:17:19Z", "updated_at": "2021-09-28T14:43:42Z", "closed_at": "2021-09-28T14:43:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "1.\u6211\u662f\u6309\u7167\u5b98\u7f51\u7684\u6848\u4f8b\u6765\u5199\u7684\r\n\r\n\r\n`\r\nmodel = paddlenlp.transformers.ErnieForSequenceClassification.from_pretrained(\r\n    MODEL_NAME, num_classes=len(label_list))\r\ntokenizer = paddlenlp.transformers.ErnieTokenizer.from_pretrained(MODEL_NAME)\r\n`\r\n\r\n\u8fd9\u6837\u5b50\u6267\u884c\u6a21\u578b\u8bad\u7ec3\u662f\u6ca1\u6709\u95ee\u9898\u7684\uff0c\u5e76\u4e14\u6a21\u578b\u4fdd\u5b58\u5728\u6307\u5b9a\u7684\u6587\u4ef6\u5939\u4e0a\r\n\r\n2.\u4f46\u662f\u6211\u6539\u6210albert\u6a21\u578b\u5c31\u51fa\u9519\u4e86\r\n\r\n\r\n`\r\nMODEL_NAME = \"albert-chinese-tiny\"  \r\nmodel = AlbertForSequenceClassification.from_pretrained(MODEL_NAME, num_classes=2)\r\ntokenizer = AlbertTokenizer.from_pretrained(MODEL_NAME)\r\n`\r\n3.\u6a21\u578b\u8bad\u7ec3\u6ca1\u6709\u95ee\u9898\uff0c\u800c\u662f\u6a21\u578b\u4fdd\u5b58\u62a5\u9519\r\n`\r\nmodel.save_pretrained('./checkpoint_CN')\r\ntokenizer.save_pretrained('./checkpoint_CN')\r\n`\r\n\r\n\r\n4.\u62a5\u9519\u4fe1\u606f\r\n\r\n\r\n---> 39 tokenizer.save_pretrained('./checkpoint_CN')\r\n     40 \r\n     41 # model.save_pretrained('/home/aistudio/checkpoint_EN')\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlenlp/transformers/tokenizer_utils.py in save_pretrained(self, save_directory)\r\n    624             f.write(json.dumps(tokenizer_config, ensure_ascii=False))\r\n    625 \r\n--> 626         self.save_resources(save_directory)\r\n    627 \r\n    628     def save_resources(self, save_directory):\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlenlp/transformers/albert/tokenizer.py in save_resources(self, save_directory)\r\n    221 \r\n    222     def save_resources(self, save_directory):\r\n--> 223         return self.tokenizer.save_resources(save_directory)\r\n    224 \r\n    225 \r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlenlp/transformers/tokenizer_utils.py in save_resources(self, save_directory)\r\n    635         \"\"\"\r\n    636         for name, file_name in self.resource_files_names.items():\r\n--> 637             src_path = self.init_config[name]\r\n    638             dst_path = os.path.join(save_directory, file_name)\r\n    639             if os.path.abspath(src_path) != os.path.abspath(dst_path):\r\nKeyError: 'vocab_file'", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/1090/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/1090/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/1084", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/1084/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/1084/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/1084/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/1084", "id": 1005326574, "node_id": "I_kwDOFAsknM477BDu", "number": 1084, "title": "[\u751f\u4ea7Bug]uwsgi\u591a\u8fdb\u7a0b\u65b9\u5f0f\u89e6\u53d1paddlenlp\u751f\u4ea7\u95ee\u9898", "user": {"login": "LangDaoAI", "id": 83859417, "node_id": "MDQ6VXNlcjgzODU5NDE3", "avatar_url": "https://avatars.githubusercontent.com/u/83859417?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LangDaoAI", "html_url": "https://github.com/LangDaoAI", "followers_url": "https://api.github.com/users/LangDaoAI/followers", "following_url": "https://api.github.com/users/LangDaoAI/following{/other_user}", "gists_url": "https://api.github.com/users/LangDaoAI/gists{/gist_id}", "starred_url": "https://api.github.com/users/LangDaoAI/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LangDaoAI/subscriptions", "organizations_url": "https://api.github.com/users/LangDaoAI/orgs", "repos_url": "https://api.github.com/users/LangDaoAI/repos", "events_url": "https://api.github.com/users/LangDaoAI/events{/privacy}", "received_events_url": "https://api.github.com/users/LangDaoAI/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4882422102, "node_id": "LA_kwDOFAsknM8AAAABIwPZVg", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/stale", "name": "stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "joey12300", "id": 10826371, "node_id": "MDQ6VXNlcjEwODI2Mzcx", "avatar_url": "https://avatars.githubusercontent.com/u/10826371?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joey12300", "html_url": "https://github.com/joey12300", "followers_url": "https://api.github.com/users/joey12300/followers", "following_url": "https://api.github.com/users/joey12300/following{/other_user}", "gists_url": "https://api.github.com/users/joey12300/gists{/gist_id}", "starred_url": "https://api.github.com/users/joey12300/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joey12300/subscriptions", "organizations_url": "https://api.github.com/users/joey12300/orgs", "repos_url": "https://api.github.com/users/joey12300/repos", "events_url": "https://api.github.com/users/joey12300/events{/privacy}", "received_events_url": "https://api.github.com/users/joey12300/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "joey12300", "id": 10826371, "node_id": "MDQ6VXNlcjEwODI2Mzcx", "avatar_url": "https://avatars.githubusercontent.com/u/10826371?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joey12300", "html_url": "https://github.com/joey12300", "followers_url": "https://api.github.com/users/joey12300/followers", "following_url": "https://api.github.com/users/joey12300/following{/other_user}", "gists_url": "https://api.github.com/users/joey12300/gists{/gist_id}", "starred_url": "https://api.github.com/users/joey12300/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joey12300/subscriptions", "organizations_url": "https://api.github.com/users/joey12300/orgs", "repos_url": "https://api.github.com/users/joey12300/repos", "events_url": "https://api.github.com/users/joey12300/events{/privacy}", "received_events_url": "https://api.github.com/users/joey12300/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2021-09-23T11:39:31Z", "updated_at": "2023-02-24T00:18:02Z", "closed_at": "2023-02-24T00:18:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "\u5f53\u4f7f\u7528uwsgi\u591a\u8fdb\u7a0b\u65b9\u5f0f\u90e8\u7f72paddlenlp\u6a21\u578b\u65f6\uff0c \u6240\u6709worker\u88abkill\uff0c \u68c0\u67e5log\u65f6\u53d1\u73b0\uff0c\u5f53\u591a\u4e2aprocess\u540c\u65f6\u53d1\u73b0'/root/.paddlenlp/datasets' \u4e0d\u5b58\u5728\u65f6\uff0c\u53bb\u521b\u5efa\u8be5\u76ee\u5f55\u65f6\u51fa\u73b0\u9519\u8bef\u3002\r\n\r\n----------------------\r\n\\n\r\n\\n2   paddle::platform::GetCurrentTraceBackString[abi:cxx11]()\r\n\\n1   paddle::framework::SignalHandle(char const*, int)\r\n\\n0   paddle::memory::allocation::MemoryMapFdSet::Clear()\r\n\\n  [TimeInfo: *** Aborted at 1632395519 (unix time) try \"date -d @1632395519\" if you are using GNU date ***]\r\n\\nFatalError: `Process abort signal` is detected by the operating system.\r\n\\n----------------------\r\n\\nError Message Summary:\r\n\\n--------------------------------------\r\n\\n\r\n\\n\r\n\\n\r\n\\n  [SignalInfo: *** SIGABRT (@0xc) received by PID 12 (TID 0x7fd7d709d600) from PID 12 ***]\r\n\\n0   paddle::memory::allocation::MemoryMapFdSet::Clear()\r\n\\n--------------------------------------\r\n\\nC++ Traceback (most recent call last):\r\n\\nError Message Summary:\r\n\\n----------------------\r\n\\n\r\n\\n2   paddle::platform::GetCurrentTraceBackString[abi:cxx11]()\r\n\\n1   paddle::framework::SignalHandle(char const*, int)\r\n\\n  [SignalInfo: *** SIGABRT (@0xd) received by PID 13 (TID 0x7fd7d709d600) from PID 13 ***]\r\n\\n  [TimeInfo: *** Aborted at 1632395519 (unix time) try \"date -d @1632395519\" if you are using GNU date ***]\r\n\\nFatalError: `Process abort signal` is detected by the operating system.\r\n\\n----------------------\r\n\\nC++ Traceback (most recent call last):\r\n\\n--------------------------------------\r\n\\n\r\n\\n\r\n\\n\r\n\\n2   paddle::platform::GetCurrentTraceBackString[abi:cxx11]()\r\n\\n1   paddle::framework::SignalHandle(char const*, int)\r\n\\n0   paddle::memory::allocation::MemoryMapFdSet::Clear()\r\n\\n--------------------------------------\r\n\\n----------------------\r\n\\nError Message Summary:\r\n\\n----------------------\r\n\\n\r\n\\nworker 2 buried after 1 seconds\r\n\\n\r\n\\n  [SignalInfo: *** SIGABRT (@0xb) received by PID 11 (TID 0x7fd7d709d600) from PID 11 ***]\r\n\\n  [TimeInfo: *** Aborted at 1632395519 (unix time) try \"date -d @1632395519\" if you are using GNU date ***]\r\n\\nFatalError: `Process abort signal` is detected by the operating system.\r\n\\nWSGI app 0 (mountpoint='') ready in 7 seconds on interpreter 0x5590dd960b20 pid: 10 (default app)\r\n\\nworker 4 buried after 1 seconds\r\n\\nworker 3 buried after 1 seconds\r\n\\nThu Sep 23 11:12:05 2021 - worker 1 (pid: 10) is taking too much time to die...NO MERCY !!!\r\n\\ngoodbye to uWSGI.\r\n\\nworker 1 buried after 1 seconds\r\n\\nVACUUM: pidfile removed.\r\n\\n[uWSGI] getting INI configuration from /home/service/uwsgi.ini\r\n\\ncompiled with version: 7.5.0 on 23 September 2021 09:27:57\r\n\\n*** Starting uWSGI 2.0.19.1 (64bit) on [Thu Sep 23 11:17:10 2021] ***\r\n\\nclock source: unix\r\n\\nmachine: x86_64\r\n\\nnodename: serve-1632311856048-d67cb8d7f-t2v82\r\n\\nos: Linux-3.10.0-1062.12.1.el7.x86_64 #1 SMP Tue Feb 4 23:02:59 UTC 2020\r\n\\ndetected binary path: /usr/local/bin/uwsgi\r\n\\nwriting pidfile to /home/service/uwsgi.pid\r\n\\ncurrent working directory: /home/service\r\n\\ndetected number of CPU cores: 16\r\n\\nchdir() to /home/service\r\n\\n*** WARNING: you are running uWSGI as root !!! (use the --uid flag) *** \r\n\\nuWSGI running as root, you can use --uid/--gid/--chroot options\r\n\\n!!! no internal routing support, rebuild with pcre support !!!\r\n\\nthunder lock: disabled (you can enable it with --thunder-lock)\r\n\\nlock engine: pthread robust mutexes\r\n\\ndetected max file descriptor number: 1048576\r\n\\nyour memory page size is 4096 bytes\r\n\\nyour processes number limit is 1048576\r\n\\n*** WARNING: you are running uWSGI as root !!! (use the --uid flag) *** \r\n\\nuWSGI running as root, you can use --uid/--gid/--chroot options\r\n\\nuwsgi socket 0 bound to TCP address 127.0.0.1:39023 (port auto-assigned) fd 3\r\n\\nuWSGI http bound on 0.0.0.0:8021 fd 4\r\n\\n*** WARNING: you are running uWSGI as root !!! (use the --uid flag) *** \r\n\\nuWSGI running as root, you can use --uid/--gid/--chroot options\r\n\\nPython main interpreter initialized at 0x560d7fffbb20\r\n\\nPython version: 3.7.10 (default, May  3 2021, 02:48:31)  [GCC 7.5.0]\r\n\\nmapped 521440 bytes (509 KB) for 16 cores\r\n\\nyour mercy for graceful operations on workers is 5 seconds\r\n\\nyour server socket listen backlog is limited to 100 connections\r\n\\npython threads support enabled\r\n\\nspawned uWSGI master process (pid: 9)\r\n\\n*** WARNING: you are running uWSGI as root !!! (use the --uid flag) *** \r\n\\nuWSGI running as root, you can use --uid/--gid/--chroot options\r\n\\n*** Operational MODE: preforking+threaded ***\r\n\\nspawned uWSGI worker 4 (pid: 13, cores: 4)\r\n\\nspawned uWSGI worker 3 (pid: 12, cores: 4)\r\n\\nspawned uWSGI worker 2 (pid: 11, cores: 4)\r\n\\nspawned uWSGI worker 1 (pid: 10, cores: 4)\r\n\\n    import paddlenlp as ppnlp\r\n\\nTraceback (most recent call last):\r\n  File \"crisis_cls_client.py\", line 10, in <module>\r\n  File \"crisis_cls_client.py\", line 10, in <module>\r\n\\nTraceback (most recent call last):\r\n  File \"crisis_cls_client.py\", line 10, in <module>\r\nTraceback (most recent call last):\r\n\\nspawned uWSGI http 1 (pid: 14)\r\n\\n  File \"/usr/local/lib/python3.7/dist-packages/paddlenlp/__init__.py\", line 18, in <module>\r\n\\n  File \"/usr/local/lib/python3.7/dist-packages/paddlenlp/__init__.py\", line 18, in <module>\r\n\\n    import paddlenlp as ppnlp\r\n\\n    import paddlenlp as ppnlp\r\n\\n  File \"/usr/local/lib/python3.7/dist-packages/paddlenlp/__init__.py\", line 18, in <module>\r\n\\n    from . import datasets\r\n\\n    from . import datasets\r\n\\n  File \"/usr/local/lib/python3.7/dist-packages/paddlenlp/datasets/__init__.py\", line 15, in <module>\r\n\\n    from . import datasets\r\n\\n    from .dataset import *\r\n\\n    from .dataset import *\r\n\\n  File \"/usr/local/lib/python3.7/dist-packages/paddlenlp/datasets/__init__.py\", line 15, in <module>\r\n\\n  File \"/usr/local/lib/python3.7/dist-packages/paddlenlp/datasets/__init__.py\", line 15, in <module>\r\n\\n    from paddlenlp.utils.env import DATA_HOME\r\n\\n  File \"/usr/local/lib/python3.7/dist-packages/paddlenlp/datasets/dataset.py\", line 30, in <module>\r\n\\n  File \"/usr/local/lib/python3.7/dist-packages/paddlenlp/datasets/dataset.py\", line 30, in <module>\r\n\\n    from .dataset import *\r\n\\n  File \"/usr/local/lib/python3.7/dist-packages/paddlenlp/datasets/dataset.py\", line 30, in <module>\r\n\\n    from paddlenlp.utils.env import DATA_HOME\r\n\\n  File \"/usr/local/lib/python3.7/dist-packages/paddlenlp/utils/env.py\", line 53, in <module>\r\n\\n  File \"/usr/local/lib/python3.7/dist-packages/paddlenlp/utils/env.py\", line 53, in <module>\r\n\\n    from paddlenlp.utils.env import DATA_HOME\r\n\\n    DATA_HOME = _get_sub_home('datasets')\r\n\\n  File \"/usr/local/lib/python3.7/dist-packages/paddlenlp/utils/env.py\", line 46, in _get_sub_home\r\n\\n    DATA_HOME = _get_sub_home('datasets')\r\n\\n  File \"/usr/local/lib/python3.7/dist-packages/paddlenlp/utils/env.py\", line 53, in <module>\r\n\\n  File \"/usr/lib/python3.7/os.py\", line 223, in makedirs\r\n\\n    os.makedirs(home)\r\n\\n  File \"/usr/lib/python3.7/os.py\", line 223, in makedirs\r\n\\n    os.makedirs(home)\r\n\\n  File \"/usr/local/lib/python3.7/dist-packages/paddlenlp/utils/env.py\", line 46, in _get_sub_home\r\n\\n  File \"/usr/lib/python3.7/os.py\", line 223, in makedirs\r\n\\n    os.makedirs(home)\r\n\\n  File \"/usr/local/lib/python3.7/dist-packages/paddlenlp/utils/env.py\", line 46, in _get_sub_home\r\n\\n    DATA_HOME = _get_sub_home('datasets')\r\n\\n    mkdir(name, mode)\r\n\\nunable to load app 0 (mountpoint='') (callable not found or import error)\r\n\\nFileExistsError: [Errno 17] File exists: '/root/.paddlenlp/datasets'\r\n\\n    mkdir(name, mode)\r\n\\n*** no app loaded. GAME OVER ***\r\n\\nFileExistsError: [Errno 17] File exists: '/root/.paddlenlp/datasets'\r\n\\nFileExistsError: [Errno 17] File exists: '/root/.paddlenlp/datasets'\r\n\\n    mkdir(name, mode)\r\n\\n*** no app loaded. GAME OVER ***\r\n\\n*** no app loaded. GAME OVER ***\r\n\\nunable to load app 0 (mountpoint='') (callable not found or import error)\r\n\\nunable to load app 0 (mountpoint='') (callable not found or import error)\r\n\\n\r\n\\ngateway \"uWSGI http 1\" has been buried (pid: 14)\r\n\\nSIGINT/SIGQUIT received...killing workers...\r\n\\n--------------------------------------\r\n\\nC++ Traceback (most recent call last):\r\n\\n--------------------------------------\r\n\\n\r\n\\n\r\n\\n2   paddle::platform::GetCurrentTraceBackString[abi:cxx11]()\r\n\\n1   paddle::framework::SignalHandle(char const*, int)\r\n\\n0   paddle::memory::allocation::MemoryMapFdSet::Clear()\r\n\\n----------------------\r\n\\nError Message Summary:\r\n\\n----------------------\r\n\\nFatalError: `Process abort signal` is detected by the operating system.\r\n\\n\r\n\\n\r\n\\n  [SignalInfo: *** SIGABRT (@0xa) received by PID 10 (TID 0x7f1d10fe8600) from PID 10 ***]\r\n\\n  [TimeInfo: *** Aborted at 1632395835 (unix time) try \"date -d @1632395835\" if you are using GNU date ***]\r\n\\n0   paddle::memory::allocation::MemoryMapFdSet::Clear()\r\n\\n--------------------------------------\r\n\\nC++ Traceback (most recent call last):\r\n\\n--------------------------------------\r\n\\n\r\n\\n----------------------\r\n\\n\r\n\\n2   paddle::platform::GetCurrentTraceBackString[abi:cxx11]()\r\n\\n1   paddle::framework::SignalHandle(char const*, int)\r\n\\n  [TimeInfo: *** Aborted at 1632395835 (unix time) try \"date -d @1632395835\" if you are using GNU date ***]\r\n\\nFatalError: `Process abort signal` is detected by the operating system.\r\n\\n----------------------\r\n\\nError Message Summary:\r\n\\n--------------------------------------\r\n\\n\r\n\\n\r\n\\n\r\n\\n  [SignalInfo: *** SIGABRT (@0xc) received by PID 12 (TID 0x7f1d10fe8600) from PID 12 ***]\r\n\\n2   paddle::platform::GetCurrentTraceBackString[abi:cxx11]()\r\n\\n1   paddle::framework::SignalHandle(char const*, int)\r\n\\n0   paddle::memory::allocation::MemoryMapFdSet::Clear()\r\n\\n--------------------------------------\r\n\\nC++ Traceback (most recent call last):\r\n\\n----------------------\r\n\\nError Message Summary:\r\n\\n----------------------\r\n\\n\r\n\\n\r\n\\n  [SignalInfo: *** SIGABRT (@0xb) received by PID 11 (TID 0x7f1d10fe8600) from PID 11 ***]\r\n\\n  [TimeInfo: *** Aborted at 1632395835 (unix time) try \"date -d @1632395835\" if you are using GNU date ***]\r\n\\nFatalError: `Process abort signal` is detected by the operating system.\r\n\\nThu Sep 23 11:17:21 2021 - worker 4 (pid: 13) is taking too much time to die...NO MERCY !!!\r\n\\nWSGI app 0 (mountpoint='') ready in 7 seconds on interpreter 0x560d7fffbb20 pid: 13 (default app)\r\n\\nworker 3 buried after 1 seconds\r\n\\nworker 2 buried after 1 seconds\r\n\\nworker 1 buried after 1 seconds\r\n\\nVACUUM: pidfile removed.\r\n\\ngoodbye to uWSGI.\r\n\\nworker 4 buried after 1 seconds\r\n", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/1084/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/1084/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/983", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/983/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/983/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/983/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/983", "id": 990709789, "node_id": "MDU6SXNzdWU5OTA3MDk3ODk=", "number": 983, "title": "\u4f7f\u7528paddleinference\u90e8\u7f72\uff0c\u63a8\u7406\u65f6\u95f4\u53cd\u800c\u6bd4\u52a8\u6001\u56fe\u63a8\u7406\u65f6\u95f4\u957f", "user": {"login": "CCZGG", "id": 44726956, "node_id": "MDQ6VXNlcjQ0NzI2OTU2", "avatar_url": "https://avatars.githubusercontent.com/u/44726956?v=4", "gravatar_id": "", "url": "https://api.github.com/users/CCZGG", "html_url": "https://github.com/CCZGG", "followers_url": "https://api.github.com/users/CCZGG/followers", "following_url": "https://api.github.com/users/CCZGG/following{/other_user}", "gists_url": "https://api.github.com/users/CCZGG/gists{/gist_id}", "starred_url": "https://api.github.com/users/CCZGG/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/CCZGG/subscriptions", "organizations_url": "https://api.github.com/users/CCZGG/orgs", "repos_url": "https://api.github.com/users/CCZGG/repos", "events_url": "https://api.github.com/users/CCZGG/events{/privacy}", "received_events_url": "https://api.github.com/users/CCZGG/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4882422102, "node_id": "LA_kwDOFAsknM8AAAABIwPZVg", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/stale", "name": "stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "joey12300", "id": 10826371, "node_id": "MDQ6VXNlcjEwODI2Mzcx", "avatar_url": "https://avatars.githubusercontent.com/u/10826371?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joey12300", "html_url": "https://github.com/joey12300", "followers_url": "https://api.github.com/users/joey12300/followers", "following_url": "https://api.github.com/users/joey12300/following{/other_user}", "gists_url": "https://api.github.com/users/joey12300/gists{/gist_id}", "starred_url": "https://api.github.com/users/joey12300/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joey12300/subscriptions", "organizations_url": "https://api.github.com/users/joey12300/orgs", "repos_url": "https://api.github.com/users/joey12300/repos", "events_url": "https://api.github.com/users/joey12300/events{/privacy}", "received_events_url": "https://api.github.com/users/joey12300/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "joey12300", "id": 10826371, "node_id": "MDQ6VXNlcjEwODI2Mzcx", "avatar_url": "https://avatars.githubusercontent.com/u/10826371?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joey12300", "html_url": "https://github.com/joey12300", "followers_url": "https://api.github.com/users/joey12300/followers", "following_url": "https://api.github.com/users/joey12300/following{/other_user}", "gists_url": "https://api.github.com/users/joey12300/gists{/gist_id}", "starred_url": "https://api.github.com/users/joey12300/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joey12300/subscriptions", "organizations_url": "https://api.github.com/users/joey12300/orgs", "repos_url": "https://api.github.com/users/joey12300/repos", "events_url": "https://api.github.com/users/joey12300/events{/privacy}", "received_events_url": "https://api.github.com/users/joey12300/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 8, "created_at": "2021-09-08T04:43:37Z", "updated_at": "2023-02-25T00:18:55Z", "closed_at": "2023-02-25T00:18:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "\u6b22\u8fce\u60a8\u53cd\u9988PaddleNLP\u4f7f\u7528\u95ee\u9898\uff0c\u975e\u5e38\u611f\u8c22\u60a8\u5bf9PaddleNLP\u7684\u8d21\u732e\uff01\r\n\u5728\u7559\u4e0b\u60a8\u7684\u95ee\u9898\u65f6\uff0c\u8f9b\u82e6\u60a8\u540c\u6b65\u63d0\u4f9b\u5982\u4e0b\u4fe1\u606f\uff1a\r\n- \u7248\u672c\u3001\u73af\u5883\u4fe1\u606f\r\n1\uff09PaddleNLP\u548cPaddlePaddle\u7248\u672c\uff1a\u8bf7\u63d0\u4f9b\u60a8\u7684PaddleNLP\u548cPaddlePaddle\u7248\u672c\u53f7\uff0c\u4f8b\u5982PaddleNLP 2.0.4\uff0cPaddlePaddle2.1.1\r\n2\uff09\u7cfb\u7edf\u73af\u5883\uff1a\u8bf7\u60a8\u63cf\u8ff0\u7cfb\u7edf\u7c7b\u578b\uff0c\u4f8b\u5982Linux/Windows/MacOS/\uff0cpython\u7248\u672c\r\n- \u590d\u73b0\u4fe1\u606f\uff1a\u5982\u4e3a\u62a5\u9519\uff0c\u8bf7\u7ed9\u51fa\u590d\u73b0\u73af\u5883\u3001\u590d\u73b0\u6b65\u9aa4\r\n\r\n<img width=\"906\" alt=\"cab6d47c79b8090c81c66a7b6aa0e52\" src=\"https://user-images.githubusercontent.com/44726956/132447587-37082b4f-0c9a-4d33-a685-bab5a39580ca.png\">\r\n\r\nubuntu18.04\r\npaddle\u7248\u672c\u662f\uff1apython -m pip install paddlepaddle-gpu==0.0.0.post112 -f https://www.paddlepaddle.org.cn/whl/linux/gpu/develop.html\r\n\r\n\u6a21\u578b\uff1abigru-crf\r\n\r\n\u4f7f\u7528\u7684paddleinference\u7684python\u63a5\u53e3\r\n\r\n\u7591\u95ee\uff1a\u4e3a\u4ec0\u4e48\u63a8\u7406\u65f6\u95f4\u6bd4\u52a8\u6001\u56fe\u66f4\u957f\uff1f\u600e\u4e48\u89e3\u51b3\uff1f", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/983/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/983/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/946", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/946/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/946/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/946/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/946", "id": 983379595, "node_id": "MDU6SXNzdWU5ODMzNzk1OTU=", "number": 946, "title": "[GPT pretrain] RuntimeError: std::future_error: No associated state", "user": {"login": "duchengyao", "id": 7941237, "node_id": "MDQ6VXNlcjc5NDEyMzc=", "avatar_url": "https://avatars.githubusercontent.com/u/7941237?v=4", "gravatar_id": "", "url": "https://api.github.com/users/duchengyao", "html_url": "https://github.com/duchengyao", "followers_url": "https://api.github.com/users/duchengyao/followers", "following_url": "https://api.github.com/users/duchengyao/following{/other_user}", "gists_url": "https://api.github.com/users/duchengyao/gists{/gist_id}", "starred_url": "https://api.github.com/users/duchengyao/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/duchengyao/subscriptions", "organizations_url": "https://api.github.com/users/duchengyao/orgs", "repos_url": "https://api.github.com/users/duchengyao/repos", "events_url": "https://api.github.com/users/duchengyao/events{/privacy}", "received_events_url": "https://api.github.com/users/duchengyao/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "ZHUI", "id": 16911935, "node_id": "MDQ6VXNlcjE2OTExOTM1", "avatar_url": "https://avatars.githubusercontent.com/u/16911935?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ZHUI", "html_url": "https://github.com/ZHUI", "followers_url": "https://api.github.com/users/ZHUI/followers", "following_url": "https://api.github.com/users/ZHUI/following{/other_user}", "gists_url": "https://api.github.com/users/ZHUI/gists{/gist_id}", "starred_url": "https://api.github.com/users/ZHUI/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ZHUI/subscriptions", "organizations_url": "https://api.github.com/users/ZHUI/orgs", "repos_url": "https://api.github.com/users/ZHUI/repos", "events_url": "https://api.github.com/users/ZHUI/events{/privacy}", "received_events_url": "https://api.github.com/users/ZHUI/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ZHUI", "id": 16911935, "node_id": "MDQ6VXNlcjE2OTExOTM1", "avatar_url": "https://avatars.githubusercontent.com/u/16911935?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ZHUI", "html_url": "https://github.com/ZHUI", "followers_url": "https://api.github.com/users/ZHUI/followers", "following_url": "https://api.github.com/users/ZHUI/following{/other_user}", "gists_url": "https://api.github.com/users/ZHUI/gists{/gist_id}", "starred_url": "https://api.github.com/users/ZHUI/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ZHUI/subscriptions", "organizations_url": "https://api.github.com/users/ZHUI/orgs", "repos_url": "https://api.github.com/users/ZHUI/repos", "events_url": "https://api.github.com/users/ZHUI/events{/privacy}", "received_events_url": "https://api.github.com/users/ZHUI/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 7, "created_at": "2021-08-31T02:43:06Z", "updated_at": "2021-11-09T09:59:53Z", "closed_at": "2021-09-01T06:30:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "\u8fd0\u884cgpt\u6570\u5c0f\u65f6\u540e\uff0c\u51fa\u73b0\u4ee5\u4e0b\u9519\u8bef\uff0c\u662f\u4ec0\u4e48\u539f\u56e0\u5462\u3002\r\n\r\n```\r\n python -m paddle.distributed.launch --gpus \"0,1,2,3,4,5,6,7\" run_pretrain.py     --model_type gpt     --model_name_or_path gpt2-en     --input_dir \"../data_tools/gpt_openwebtext\"    --output_dir \"output\"    --weig\r\nht_decay 0.01    --grad_clip 1.0    --max_steps 500000    --save_steps 5000    --decay_steps 320000    --warmup_rate 0.01    --micro_batch_size 8    --device gpu\r\n```\r\n\r\n```\r\n[2021-08-30 17:40:34,014] [    INFO] - global step 84498, epoch: 0, batch: 84497, loss: 3.752200842, speed: 3.85 step/s, ips: 252204 tokens/s, learning rate: 1.61551e-05\r\n[2021-08-30 17:40:34,267] [    INFO] - global step 84499, epoch: 0, batch: 84498, loss: 3.602007151, speed: 3.96 step/s, ips: 259658 tokens/s, learning rate: 1.61553e-05\r\n[2021-08-30 17:40:34,527] [    INFO] - global step 84500, epoch: 0, batch: 84499, loss: 3.798186541, speed: 3.86 step/s, ips: 252832 tokens/s, learning rate: 1.61554e-05\r\nTraceback (most recent call last):\r\n  File \"run_pretrain.py\", line 262, in <module>\r\n    do_train(args)\r\n  File \"run_pretrain.py\", line 229, in do_train\r\n    run_evaluate(valid_data_loader, model, criterion,\r\n  File \"<decorator-gen-275>\", line 2, in run_evaluate\r\n  File \"/home/duchengyao/.pyenv/versions/anaconda3-2020.11/lib/python3.8/site-packages/paddle/fluid/dygraph/base.py\", line 331, in _decorate_function\r\n    return func(*args, **kwargs)\r\n  File \"run_pretrain.py\", line 60, in run_evaluate\r\n    for eval_step, batch in enumerate(data_loader):\r\n  File \"/home/duchengyao/.pyenv/versions/anaconda3-2020.11/lib/python3.8/site-packages/paddle/fluid/dataloader/dataloader_iter.py\", line 197, in __next__\r\n    data = self._reader.read_next_var_list()\r\nRuntimeError: std::future_error: No associated state\r\nINFO 2021-08-30 17:40:46,168 launch_utils.py:327] terminate all the procs\r\nERROR 2021-08-30 17:40:46,168 launch_utils.py:582] ABORT!!! Out of all 8 trainers, the trainer process with rank=[0, 1, 2, 3, 4, 5, 6, 7] was aborted. Please check its log.\r\nINFO 2021-08-30 17:40:49,172 launch_utils.py:327] terminate all the procs\r\n```", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/946/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/946/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/878", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/878/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/878/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/878/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/pull/878", "id": 970025235, "node_id": "MDExOlB1bGxSZXF1ZXN0NzEyMDM1MjY5", "number": 878, "title": "fix #875", "user": {"login": "JunnYu", "id": 50394665, "node_id": "MDQ6VXNlcjUwMzk0NjY1", "avatar_url": "https://avatars.githubusercontent.com/u/50394665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JunnYu", "html_url": "https://github.com/JunnYu", "followers_url": "https://api.github.com/users/JunnYu/followers", "following_url": "https://api.github.com/users/JunnYu/following{/other_user}", "gists_url": "https://api.github.com/users/JunnYu/gists{/gist_id}", "starred_url": "https://api.github.com/users/JunnYu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JunnYu/subscriptions", "organizations_url": "https://api.github.com/users/JunnYu/orgs", "repos_url": "https://api.github.com/users/JunnYu/repos", "events_url": "https://api.github.com/users/JunnYu/events{/privacy}", "received_events_url": "https://api.github.com/users/JunnYu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "smallv0221", "id": 33639025, "node_id": "MDQ6VXNlcjMzNjM5MDI1", "avatar_url": "https://avatars.githubusercontent.com/u/33639025?v=4", "gravatar_id": "", "url": "https://api.github.com/users/smallv0221", "html_url": "https://github.com/smallv0221", "followers_url": "https://api.github.com/users/smallv0221/followers", "following_url": "https://api.github.com/users/smallv0221/following{/other_user}", "gists_url": "https://api.github.com/users/smallv0221/gists{/gist_id}", "starred_url": "https://api.github.com/users/smallv0221/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/smallv0221/subscriptions", "organizations_url": "https://api.github.com/users/smallv0221/orgs", "repos_url": "https://api.github.com/users/smallv0221/repos", "events_url": "https://api.github.com/users/smallv0221/events{/privacy}", "received_events_url": "https://api.github.com/users/smallv0221/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "smallv0221", "id": 33639025, "node_id": "MDQ6VXNlcjMzNjM5MDI1", "avatar_url": "https://avatars.githubusercontent.com/u/33639025?v=4", "gravatar_id": "", "url": "https://api.github.com/users/smallv0221", "html_url": "https://github.com/smallv0221", "followers_url": "https://api.github.com/users/smallv0221/followers", "following_url": "https://api.github.com/users/smallv0221/following{/other_user}", "gists_url": "https://api.github.com/users/smallv0221/gists{/gist_id}", "starred_url": "https://api.github.com/users/smallv0221/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/smallv0221/subscriptions", "organizations_url": "https://api.github.com/users/smallv0221/orgs", "repos_url": "https://api.github.com/users/smallv0221/repos", "events_url": "https://api.github.com/users/smallv0221/events{/privacy}", "received_events_url": "https://api.github.com/users/smallv0221/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2021-08-13T03:28:54Z", "updated_at": "2021-08-30T04:14:28Z", "closed_at": "2021-08-13T04:01:36Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/pulls/878", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/pull/878", "diff_url": "https://github.com/PaddlePaddle/PaddleNLP/pull/878.diff", "patch_url": "https://github.com/PaddlePaddle/PaddleNLP/pull/878.patch", "merged_at": "2021-08-13T04:01:36Z"}, "body": "\u4fee\u590d #875 \r\n\u539f\u56e0\uff1a`strip(\"##\")`\u4f1a\u628a\u539f\u672c\u6709\u610f\u4e49\u7684`#`\u7ed9\u5220\u9664\uff01\r\n\u4f8b\u5b50\uff1a\r\n```python\r\ntext = \"#1 it is a nice day 1##\"\r\nprint(text.strip(\"##\"))\r\n# \u6253\u5370\u7ed3\u679c\uff1a1 it is a nice day 1\r\nprint(text.replace(\"##\",\"\"))\r\n# \u6253\u5370\u7ed3\u679c\uff1a#1 it is a nice day 1\r\n```\r\n\u6d4b\u8bd5\u4ee3\u7801\uff1a\r\n```python\r\nexamples = [{'id': '56bf41013aeaaa14008c959c', 'title': 'Super_Bowl_50', 'context': '## a niThis was the first Super Bowl to feature a quarterback on both teams who was the #1 pick in their draft classes. Manning was the #1 selection of the 1998 NFL draft, while Newton was picked first in 2011. The matchup also pits the top two picks of the 2011 draft against each other: Newton for Carolina and Von Miller for Denver. Manning and Newton also set the record for the largest age difference between opposing Super Bowl quarterbacks at 13 years and 48 days (Manning was 39, Newton was 26).', 'question': 'In 2011, who was the first player to be chosen in the NFL draft?', 'answers': ['Newton', 'Newton', 'Newton'], 'answer_starts': [171, 171, 171], 'is_impossible': False}]\r\ndef prepare_validation_features(examples, tokenizer):\r\n    contexts = [examples[i]['context'] for i in range(len(examples))]\r\n    questions = [examples[i]['question'] for i in range(len(examples))]\r\n\r\n    tokenized_examples = tokenizer(\r\n        questions,\r\n        contexts,\r\n        stride=128,\r\n        max_seq_len=512)\r\n\r\n    # For validation, there is no need to compute start and end positions\r\n    for i, tokenized_example in enumerate(tokenized_examples):\r\n        # Grab the sequence corresponding to that example (to know what is the context and what is the question).\r\n        sequence_ids = tokenized_example['token_type_ids']\r\n\r\n        # One example can give several spans, this is the index of the example containing this span of text.\r\n        sample_index = tokenized_example['overflow_to_sample']\r\n        tokenized_examples[i][\"example_id\"] = examples[sample_index]['id']\r\n\r\n        # Set to None the offset_mapping that are not part of the context so it's easy to determine if a token\r\n        # position is part of the context or not.\r\n        tokenized_examples[i][\"offset_mapping\"] = [\r\n            (o if sequence_ids[k] == 1 else None)\r\n            for k, o in enumerate(tokenized_example[\"offset_mapping\"])\r\n        ]\r\n\r\n    return tokenized_examples[0]\r\noutputs = prepare_validation_features(examples,tokenizer)\r\nfor ids,offsetmap in zip(outputs[\"input_ids\"],outputs[\"offset_mapping\"]):\r\n    if offsetmap:\r\n        print(offsetmap,examples[0][\"context\"][offsetmap[0]:offsetmap[1]])\r\n        print(\"=\"*20)\r\n```\r\n\u6d4b\u8bd5\u7ed3\u679c\u6b63\u786e", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/878/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/878/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/831", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/831/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/831/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/831/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/831", "id": 958139662, "node_id": "MDU6SXNzdWU5NTgxMzk2NjI=", "number": 831, "title": "\u3010Bug\u3011EFL\u6a21\u578b\u8bad\u7ec3\u4ee3\u7801\u4e2doutput_dir\u521b\u5efa\u5931\u8d25", "user": {"login": "LangDaoAI", "id": 83859417, "node_id": "MDQ6VXNlcjgzODU5NDE3", "avatar_url": "https://avatars.githubusercontent.com/u/83859417?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LangDaoAI", "html_url": "https://github.com/LangDaoAI", "followers_url": "https://api.github.com/users/LangDaoAI/followers", "following_url": "https://api.github.com/users/LangDaoAI/following{/other_user}", "gists_url": "https://api.github.com/users/LangDaoAI/gists{/gist_id}", "starred_url": "https://api.github.com/users/LangDaoAI/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LangDaoAI/subscriptions", "organizations_url": "https://api.github.com/users/LangDaoAI/orgs", "repos_url": "https://api.github.com/users/LangDaoAI/repos", "events_url": "https://api.github.com/users/LangDaoAI/events{/privacy}", "received_events_url": "https://api.github.com/users/LangDaoAI/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "tianxin1860", "id": 6829601, "node_id": "MDQ6VXNlcjY4Mjk2MDE=", "avatar_url": "https://avatars.githubusercontent.com/u/6829601?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tianxin1860", "html_url": "https://github.com/tianxin1860", "followers_url": "https://api.github.com/users/tianxin1860/followers", "following_url": "https://api.github.com/users/tianxin1860/following{/other_user}", "gists_url": "https://api.github.com/users/tianxin1860/gists{/gist_id}", "starred_url": "https://api.github.com/users/tianxin1860/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tianxin1860/subscriptions", "organizations_url": "https://api.github.com/users/tianxin1860/orgs", "repos_url": "https://api.github.com/users/tianxin1860/repos", "events_url": "https://api.github.com/users/tianxin1860/events{/privacy}", "received_events_url": "https://api.github.com/users/tianxin1860/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tianxin1860", "id": 6829601, "node_id": "MDQ6VXNlcjY4Mjk2MDE=", "avatar_url": "https://avatars.githubusercontent.com/u/6829601?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tianxin1860", "html_url": "https://github.com/tianxin1860", "followers_url": "https://api.github.com/users/tianxin1860/followers", "following_url": "https://api.github.com/users/tianxin1860/following{/other_user}", "gists_url": "https://api.github.com/users/tianxin1860/gists{/gist_id}", "starred_url": "https://api.github.com/users/tianxin1860/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tianxin1860/subscriptions", "organizations_url": "https://api.github.com/users/tianxin1860/orgs", "repos_url": "https://api.github.com/users/tianxin1860/repos", "events_url": "https://api.github.com/users/tianxin1860/events{/privacy}", "received_events_url": "https://api.github.com/users/tianxin1860/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2021-08-02T13:20:44Z", "updated_at": "2021-08-03T12:53:42Z", "closed_at": "2021-08-03T12:53:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "> python train.py --task_name \"tnews\"\r\ngrep: warning: GREP_OPTIONS is deprecated; please use an alias or script\r\n100.0%\r\n[2021-08-02 13:16:42,623] [    INFO] - Already cached /root/.paddlenlp/models/ernie-1.0/ernie_v1_chn_base.pdparams\r\nW0802 13:16:42.624711 18335 device_context.cc:404] Please NOTE: device: 0, GPU Compute Capability: 7.0, Driver API Version: 11.2, Runtime API Version: 11.2\r\nW0802 13:16:42.631032 18335 device_context.cc:422] device: 0, cuDNN Version: 8.1.\r\n[2021-08-02 13:16:46,412] [    INFO] - Found /root/.paddlenlp/models/ernie-1.0/vocab.txt\r\nglobal step 10, epoch: 1, batch: 10, loss: 0.70893, speed: 8.15 step/s\r\nepoch:1, dev_accuracy:22.587, total_num:2010\r\nTraceback (most recent call last):\r\n  File \"train.py\", line 279, in <module>\r\n    do_train()\r\n  File \"train.py\", line 266, in do_train\r\n    write_fn[args.task_name](args.task_name, output_file, y_pred_labels)\r\n  File \"/home/data/pvoc/efl/predict.py\", line 135, in write_tnews\r\n    with open(output_file, 'w', encoding='utf-8') as f:\r\nFileNotFoundError: [Errno 2] No such file or directory: './predict_output/1tnewsf_predict.json'\r\n", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/831/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/831/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/636", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/636/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/636/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/636/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/636", "id": 929929960, "node_id": "MDU6SXNzdWU5Mjk5Mjk5NjA=", "number": 636, "title": "\u4e0b\u8f7d\u5668\u663e\u793a\u7684\u4e0b\u8f7d\u5355\u4f4d\u4e0d\u5bf9\uff0c\u5e94\u8be5\u662fKB/s\u6216\u8005MB/s\uff0c\u4f46\u663e\u793a\u7684\u662fit/s", "user": {"login": "ZeyuChen", "id": 1371212, "node_id": "MDQ6VXNlcjEzNzEyMTI=", "avatar_url": "https://avatars.githubusercontent.com/u/1371212?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ZeyuChen", "html_url": "https://github.com/ZeyuChen", "followers_url": "https://api.github.com/users/ZeyuChen/followers", "following_url": "https://api.github.com/users/ZeyuChen/following{/other_user}", "gists_url": "https://api.github.com/users/ZeyuChen/gists{/gist_id}", "starred_url": "https://api.github.com/users/ZeyuChen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ZeyuChen/subscriptions", "organizations_url": "https://api.github.com/users/ZeyuChen/orgs", "repos_url": "https://api.github.com/users/ZeyuChen/repos", "events_url": "https://api.github.com/users/ZeyuChen/events{/privacy}", "received_events_url": "https://api.github.com/users/ZeyuChen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 4882422102, "node_id": "LA_kwDOFAsknM8AAAABIwPZVg", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/stale", "name": "stale", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "wawltor", "id": 16698950, "node_id": "MDQ6VXNlcjE2Njk4OTUw", "avatar_url": "https://avatars.githubusercontent.com/u/16698950?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wawltor", "html_url": "https://github.com/wawltor", "followers_url": "https://api.github.com/users/wawltor/followers", "following_url": "https://api.github.com/users/wawltor/following{/other_user}", "gists_url": "https://api.github.com/users/wawltor/gists{/gist_id}", "starred_url": "https://api.github.com/users/wawltor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wawltor/subscriptions", "organizations_url": "https://api.github.com/users/wawltor/orgs", "repos_url": "https://api.github.com/users/wawltor/repos", "events_url": "https://api.github.com/users/wawltor/events{/privacy}", "received_events_url": "https://api.github.com/users/wawltor/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "wawltor", "id": 16698950, "node_id": "MDQ6VXNlcjE2Njk4OTUw", "avatar_url": "https://avatars.githubusercontent.com/u/16698950?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wawltor", "html_url": "https://github.com/wawltor", "followers_url": "https://api.github.com/users/wawltor/followers", "following_url": "https://api.github.com/users/wawltor/following{/other_user}", "gists_url": "https://api.github.com/users/wawltor/gists{/gist_id}", "starred_url": "https://api.github.com/users/wawltor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wawltor/subscriptions", "organizations_url": "https://api.github.com/users/wawltor/orgs", "repos_url": "https://api.github.com/users/wawltor/repos", "events_url": "https://api.github.com/users/wawltor/events{/privacy}", "received_events_url": "https://api.github.com/users/wawltor/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2021-06-25T07:55:52Z", "updated_at": "2023-03-07T00:19:28Z", "closed_at": "2023-03-07T00:19:28Z", "author_association": "MEMBER", "active_lock_reason": null, "body": null, "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/636/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/636/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/521", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/521/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/521/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/521/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/521", "id": 914670152, "node_id": "MDU6SXNzdWU5MTQ2NzAxNTI=", "number": 521, "title": "BERT glue\u4efb\u52a1\u5728windows\u7cfb\u7edf\u6267\u884c\u9519\u8bef", "user": {"login": "GetUsernametsy", "id": 24663912, "node_id": "MDQ6VXNlcjI0NjYzOTEy", "avatar_url": "https://avatars.githubusercontent.com/u/24663912?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GetUsernametsy", "html_url": "https://github.com/GetUsernametsy", "followers_url": "https://api.github.com/users/GetUsernametsy/followers", "following_url": "https://api.github.com/users/GetUsernametsy/following{/other_user}", "gists_url": "https://api.github.com/users/GetUsernametsy/gists{/gist_id}", "starred_url": "https://api.github.com/users/GetUsernametsy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GetUsernametsy/subscriptions", "organizations_url": "https://api.github.com/users/GetUsernametsy/orgs", "repos_url": "https://api.github.com/users/GetUsernametsy/repos", "events_url": "https://api.github.com/users/GetUsernametsy/events{/privacy}", "received_events_url": "https://api.github.com/users/GetUsernametsy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "wawltor", "id": 16698950, "node_id": "MDQ6VXNlcjE2Njk4OTUw", "avatar_url": "https://avatars.githubusercontent.com/u/16698950?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wawltor", "html_url": "https://github.com/wawltor", "followers_url": "https://api.github.com/users/wawltor/followers", "following_url": "https://api.github.com/users/wawltor/following{/other_user}", "gists_url": "https://api.github.com/users/wawltor/gists{/gist_id}", "starred_url": "https://api.github.com/users/wawltor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wawltor/subscriptions", "organizations_url": "https://api.github.com/users/wawltor/orgs", "repos_url": "https://api.github.com/users/wawltor/repos", "events_url": "https://api.github.com/users/wawltor/events{/privacy}", "received_events_url": "https://api.github.com/users/wawltor/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "wawltor", "id": 16698950, "node_id": "MDQ6VXNlcjE2Njk4OTUw", "avatar_url": "https://avatars.githubusercontent.com/u/16698950?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wawltor", "html_url": "https://github.com/wawltor", "followers_url": "https://api.github.com/users/wawltor/followers", "following_url": "https://api.github.com/users/wawltor/following{/other_user}", "gists_url": "https://api.github.com/users/wawltor/gists{/gist_id}", "starred_url": "https://api.github.com/users/wawltor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wawltor/subscriptions", "organizations_url": "https://api.github.com/users/wawltor/orgs", "repos_url": "https://api.github.com/users/wawltor/repos", "events_url": "https://api.github.com/users/wawltor/events{/privacy}", "received_events_url": "https://api.github.com/users/wawltor/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2021-06-08T09:23:07Z", "updated_at": "2021-06-11T11:56:47Z", "closed_at": "2021-06-11T11:56:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "Windows \u73af\u5883 \u9884\u8bad\u7ec3\u6a21\u578b\u8bad\u7ec3\u540e \u9996\u5148\u628a\u7528export_model.py\u8f6c\u6362\u6a21\u578b \r\n\r\n![QQ\u56fe\u724720210608172018](https://user-images.githubusercontent.com/24663912/121159570-df6f1b80-c87d-11eb-8707-3a0c44ea9e76.png)\r\n\u7136\u540e\u7528predict.py \u52a0\u8f7d\u6a21\u578b  \u62a5\u9519\r\n![QQ\u56fe\u724720210608171758](https://user-images.githubusercontent.com/24663912/121159759-0cbbc980-c87e-11eb-8b06-cd763e76342b.png)\r\n", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/521/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/521/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/460", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/460/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/460/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/460/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/460", "id": 904991843, "node_id": "MDU6SXNzdWU5MDQ5OTE4NDM=", "number": 460, "title": "window\u7cfb\u7edf\u8fd0\u884c\u51fa\u73b0\u666e\u904d\u6027\u7684\u62a5\u9519The current variable type is (int64_t), but the previous variable type is (int). ", "user": {"login": "AI-Mart", "id": 63343847, "node_id": "MDQ6VXNlcjYzMzQzODQ3", "avatar_url": "https://avatars.githubusercontent.com/u/63343847?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AI-Mart", "html_url": "https://github.com/AI-Mart", "followers_url": "https://api.github.com/users/AI-Mart/followers", "following_url": "https://api.github.com/users/AI-Mart/following{/other_user}", "gists_url": "https://api.github.com/users/AI-Mart/gists{/gist_id}", "starred_url": "https://api.github.com/users/AI-Mart/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AI-Mart/subscriptions", "organizations_url": "https://api.github.com/users/AI-Mart/orgs", "repos_url": "https://api.github.com/users/AI-Mart/repos", "events_url": "https://api.github.com/users/AI-Mart/events{/privacy}", "received_events_url": "https://api.github.com/users/AI-Mart/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "joey12300", "id": 10826371, "node_id": "MDQ6VXNlcjEwODI2Mzcx", "avatar_url": "https://avatars.githubusercontent.com/u/10826371?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joey12300", "html_url": "https://github.com/joey12300", "followers_url": "https://api.github.com/users/joey12300/followers", "following_url": "https://api.github.com/users/joey12300/following{/other_user}", "gists_url": "https://api.github.com/users/joey12300/gists{/gist_id}", "starred_url": "https://api.github.com/users/joey12300/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joey12300/subscriptions", "organizations_url": "https://api.github.com/users/joey12300/orgs", "repos_url": "https://api.github.com/users/joey12300/repos", "events_url": "https://api.github.com/users/joey12300/events{/privacy}", "received_events_url": "https://api.github.com/users/joey12300/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "joey12300", "id": 10826371, "node_id": "MDQ6VXNlcjEwODI2Mzcx", "avatar_url": "https://avatars.githubusercontent.com/u/10826371?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joey12300", "html_url": "https://github.com/joey12300", "followers_url": "https://api.github.com/users/joey12300/followers", "following_url": "https://api.github.com/users/joey12300/following{/other_user}", "gists_url": "https://api.github.com/users/joey12300/gists{/gist_id}", "starred_url": "https://api.github.com/users/joey12300/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joey12300/subscriptions", "organizations_url": "https://api.github.com/users/joey12300/orgs", "repos_url": "https://api.github.com/users/joey12300/repos", "events_url": "https://api.github.com/users/joey12300/events{/privacy}", "received_events_url": "https://api.github.com/users/joey12300/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2021-05-28T08:59:43Z", "updated_at": "2021-05-31T14:54:51Z", "closed_at": "2021-05-31T12:57:59Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "InvalidArgumentError: The DataType of greater_than Op's duplicable Variable Y must be consistent. The current variable type is (int64_t), but the previous variable type is (int). (at C:\\home\\workspace\\Paddle_release\\paddle\\fluid\\framework\\operator.cc:1574)\r\n  [operator < greater_than > error] \u8fd0\u884cPaddleNLP\\examples\\information_extraction\\waybill_ie\u91cc\u9762\u7684run_bigru_crf.py\u51fa\u73b0\u62a5\u9519\r\n\r\n\u5e94\u8be5\u662fwindows\u7cfb\u7edf\u8fd0\u884c\u7684\u539f\u56e0\uff0c\u8fd9\u4e9b\u4ee3\u7801\u5e94\u8be5\u8981linux\u548cwindow\u90fd\u9a8c\u8bc1\u8fc7\u5c31\u597d\u4e86,\u80fd\u7701\u5f00\u53d1\u8005\u5f88\u591a\u65f6\u95f4\uff0c\u4f60\u4eec\u7ef4\u62a4\u8d77\u6765\u4f30\u8ba1\u4e5f\u4f1a\u8f7b\u677e\u5f88\u591a", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/460/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/460/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/448", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/448/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/448/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/448/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/448", "id": 901976849, "node_id": "MDU6SXNzdWU5MDE5NzY4NDk=", "number": 448, "title": "AttributeError: module 'paddlenlp.datasets' has no attribute 'GlueCoLA'", "user": {"login": "Darshcg", "id": 48723743, "node_id": "MDQ6VXNlcjQ4NzIzNzQz", "avatar_url": "https://avatars.githubusercontent.com/u/48723743?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Darshcg", "html_url": "https://github.com/Darshcg", "followers_url": "https://api.github.com/users/Darshcg/followers", "following_url": "https://api.github.com/users/Darshcg/following{/other_user}", "gists_url": "https://api.github.com/users/Darshcg/gists{/gist_id}", "starred_url": "https://api.github.com/users/Darshcg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Darshcg/subscriptions", "organizations_url": "https://api.github.com/users/Darshcg/orgs", "repos_url": "https://api.github.com/users/Darshcg/repos", "events_url": "https://api.github.com/users/Darshcg/events{/privacy}", "received_events_url": "https://api.github.com/users/Darshcg/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "LiuChiachi", "id": 26483581, "node_id": "MDQ6VXNlcjI2NDgzNTgx", "avatar_url": "https://avatars.githubusercontent.com/u/26483581?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LiuChiachi", "html_url": "https://github.com/LiuChiachi", "followers_url": "https://api.github.com/users/LiuChiachi/followers", "following_url": "https://api.github.com/users/LiuChiachi/following{/other_user}", "gists_url": "https://api.github.com/users/LiuChiachi/gists{/gist_id}", "starred_url": "https://api.github.com/users/LiuChiachi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LiuChiachi/subscriptions", "organizations_url": "https://api.github.com/users/LiuChiachi/orgs", "repos_url": "https://api.github.com/users/LiuChiachi/repos", "events_url": "https://api.github.com/users/LiuChiachi/events{/privacy}", "received_events_url": "https://api.github.com/users/LiuChiachi/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "LiuChiachi", "id": 26483581, "node_id": "MDQ6VXNlcjI2NDgzNTgx", "avatar_url": "https://avatars.githubusercontent.com/u/26483581?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LiuChiachi", "html_url": "https://github.com/LiuChiachi", "followers_url": "https://api.github.com/users/LiuChiachi/followers", "following_url": "https://api.github.com/users/LiuChiachi/following{/other_user}", "gists_url": "https://api.github.com/users/LiuChiachi/gists{/gist_id}", "starred_url": "https://api.github.com/users/LiuChiachi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LiuChiachi/subscriptions", "organizations_url": "https://api.github.com/users/LiuChiachi/orgs", "repos_url": "https://api.github.com/users/LiuChiachi/repos", "events_url": "https://api.github.com/users/LiuChiachi/events{/privacy}", "received_events_url": "https://api.github.com/users/LiuChiachi/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 8, "created_at": "2021-05-26T08:18:51Z", "updated_at": "2021-05-28T19:36:34Z", "closed_at": "2021-05-28T19:36:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nI have installed paddlenlp and while running https://github.com/PaddlePaddle/PaddleSlim/blob/develop/demo/ofa/bert/run_glue_ofa.py this script, I am getting below error,\r\n\r\nPlease help me to resolve this issue:\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"run_glue_ofa.py\", line 37, in <module>\r\n    \"cola\": (datasets.GlueCoLA, Mcc),\r\nAttributeError: module 'paddlenlp.datasets' has no attribute 'GlueCoLA'\r\n```\r\n\r\n\r\nThanks,\r\nDarshan\r\n", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/448/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/448/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/425", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/425/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/425/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/425/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/425", "id": 897577612, "node_id": "MDU6SXNzdWU4OTc1Nzc2MTI=", "number": 425, "title": "\u4f7f\u7528paddle.utils.cpp_extension.cpp_extension.CUDA_HOME\u524d\u672a\u68c0\u67e5", "user": {"login": "nemon-", "id": 5126420, "node_id": "MDQ6VXNlcjUxMjY0MjA=", "avatar_url": "https://avatars.githubusercontent.com/u/5126420?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nemon-", "html_url": "https://github.com/nemon-", "followers_url": "https://api.github.com/users/nemon-/followers", "following_url": "https://api.github.com/users/nemon-/following{/other_user}", "gists_url": "https://api.github.com/users/nemon-/gists{/gist_id}", "starred_url": "https://api.github.com/users/nemon-/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nemon-/subscriptions", "organizations_url": "https://api.github.com/users/nemon-/orgs", "repos_url": "https://api.github.com/users/nemon-/repos", "events_url": "https://api.github.com/users/nemon-/events{/privacy}", "received_events_url": "https://api.github.com/users/nemon-/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": true, "assignee": {"login": "guoshengCS", "id": 14105589, "node_id": "MDQ6VXNlcjE0MTA1NTg5", "avatar_url": "https://avatars.githubusercontent.com/u/14105589?v=4", "gravatar_id": "", "url": "https://api.github.com/users/guoshengCS", "html_url": "https://github.com/guoshengCS", "followers_url": "https://api.github.com/users/guoshengCS/followers", "following_url": "https://api.github.com/users/guoshengCS/following{/other_user}", "gists_url": "https://api.github.com/users/guoshengCS/gists{/gist_id}", "starred_url": "https://api.github.com/users/guoshengCS/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/guoshengCS/subscriptions", "organizations_url": "https://api.github.com/users/guoshengCS/orgs", "repos_url": "https://api.github.com/users/guoshengCS/repos", "events_url": "https://api.github.com/users/guoshengCS/events{/privacy}", "received_events_url": "https://api.github.com/users/guoshengCS/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "guoshengCS", "id": 14105589, "node_id": "MDQ6VXNlcjE0MTA1NTg5", "avatar_url": "https://avatars.githubusercontent.com/u/14105589?v=4", "gravatar_id": "", "url": "https://api.github.com/users/guoshengCS", "html_url": "https://github.com/guoshengCS", "followers_url": "https://api.github.com/users/guoshengCS/followers", "following_url": "https://api.github.com/users/guoshengCS/following{/other_user}", "gists_url": "https://api.github.com/users/guoshengCS/gists{/gist_id}", "starred_url": "https://api.github.com/users/guoshengCS/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/guoshengCS/subscriptions", "organizations_url": "https://api.github.com/users/guoshengCS/orgs", "repos_url": "https://api.github.com/users/guoshengCS/repos", "events_url": "https://api.github.com/users/guoshengCS/events{/privacy}", "received_events_url": "https://api.github.com/users/guoshengCS/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2021-05-21T00:41:07Z", "updated_at": "2021-05-22T16:21:36Z", "closed_at": "2021-05-22T16:20:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "\u975eCUDA\u73af\u5883\u4e0b\uff0c\u5f15\u5165PaddleNLP\uff0c\u4f1a\u5728 paddlenlp\\ops\\ext_utils.py\u768419\u884c\u62a5\u9519,\r\nTypeError: stat: path should be string, bytes, os.PathLike or integer, not NoneType\r\n\u539f\u56e0\u5e94\u8be5\u662fif not os.path.exists(CUDA_HOME):\u8fd9\u884c\u76f4\u63a5\u4f7f\u7528\u4e86CUDA_HOME\u800c\u6ca1\u6709\u9a8c\u8bc1\u503c\u3002\r\n\u67e5\u5230\u572814-15\u884c\uff0c\u6709\uff1a\r\nfrom paddle.utils.cpp_extension.cpp_extension import (\r\n    CUDA_HOME, CppExtension, BuildExtension as PaddleBuildExtension)\r\n\u56e0\u6b64CUDA_HOME\u4e0d\u662f\u672c\u5305\u5185\u7684\u53d8\u91cf\uff0c\u4e0d\u5efa\u8bae\u4fee\u6539\uff0c\u56e0\u6b64\u5efa\u8bae\u4fee\u6539\\ext_utils.py\u768419\u884c\u4e3a\uff1a\r\nif CUDA_HOME==None or not os.path.exists(CUDA_HOME):\r\n", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/425/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/425/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/359", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/359/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/359/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/359/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/359", "id": 885752189, "node_id": "MDU6SXNzdWU4ODU3NTIxODk=", "number": 359, "title": "\u5c06lexical_analysis\u6a21\u578b\u4ece\u52a8\u6001\u56fe\u8f6c\u6362\u4e3a\u9759\u6001\u56fe\u5931\u8d25", "user": {"login": "yanzhelee", "id": 30402531, "node_id": "MDQ6VXNlcjMwNDAyNTMx", "avatar_url": "https://avatars.githubusercontent.com/u/30402531?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yanzhelee", "html_url": "https://github.com/yanzhelee", "followers_url": "https://api.github.com/users/yanzhelee/followers", "following_url": "https://api.github.com/users/yanzhelee/following{/other_user}", "gists_url": "https://api.github.com/users/yanzhelee/gists{/gist_id}", "starred_url": "https://api.github.com/users/yanzhelee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yanzhelee/subscriptions", "organizations_url": "https://api.github.com/users/yanzhelee/orgs", "repos_url": "https://api.github.com/users/yanzhelee/repos", "events_url": "https://api.github.com/users/yanzhelee/events{/privacy}", "received_events_url": "https://api.github.com/users/yanzhelee/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "joey12300", "id": 10826371, "node_id": "MDQ6VXNlcjEwODI2Mzcx", "avatar_url": "https://avatars.githubusercontent.com/u/10826371?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joey12300", "html_url": "https://github.com/joey12300", "followers_url": "https://api.github.com/users/joey12300/followers", "following_url": "https://api.github.com/users/joey12300/following{/other_user}", "gists_url": "https://api.github.com/users/joey12300/gists{/gist_id}", "starred_url": "https://api.github.com/users/joey12300/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joey12300/subscriptions", "organizations_url": "https://api.github.com/users/joey12300/orgs", "repos_url": "https://api.github.com/users/joey12300/repos", "events_url": "https://api.github.com/users/joey12300/events{/privacy}", "received_events_url": "https://api.github.com/users/joey12300/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "joey12300", "id": 10826371, "node_id": "MDQ6VXNlcjEwODI2Mzcx", "avatar_url": "https://avatars.githubusercontent.com/u/10826371?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joey12300", "html_url": "https://github.com/joey12300", "followers_url": "https://api.github.com/users/joey12300/followers", "following_url": "https://api.github.com/users/joey12300/following{/other_user}", "gists_url": "https://api.github.com/users/joey12300/gists{/gist_id}", "starred_url": "https://api.github.com/users/joey12300/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joey12300/subscriptions", "organizations_url": "https://api.github.com/users/joey12300/orgs", "repos_url": "https://api.github.com/users/joey12300/repos", "events_url": "https://api.github.com/users/joey12300/events{/privacy}", "received_events_url": "https://api.github.com/users/joey12300/received_events", "type": "User", "site_admin": false}, {"login": "kinghuin", "id": 11913168, "node_id": "MDQ6VXNlcjExOTEzMTY4", "avatar_url": "https://avatars.githubusercontent.com/u/11913168?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kinghuin", "html_url": "https://github.com/kinghuin", "followers_url": "https://api.github.com/users/kinghuin/followers", "following_url": "https://api.github.com/users/kinghuin/following{/other_user}", "gists_url": "https://api.github.com/users/kinghuin/gists{/gist_id}", "starred_url": "https://api.github.com/users/kinghuin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kinghuin/subscriptions", "organizations_url": "https://api.github.com/users/kinghuin/orgs", "repos_url": "https://api.github.com/users/kinghuin/repos", "events_url": "https://api.github.com/users/kinghuin/events{/privacy}", "received_events_url": "https://api.github.com/users/kinghuin/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 8, "created_at": "2021-05-11T02:56:38Z", "updated_at": "2021-05-23T09:58:51Z", "closed_at": "2021-05-23T09:58:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "\u6309\u7167 PaddleNLP/examples/lexical_analysis \u4e2d\u63d0\u4f9b\u7684demo\u53ef\u4ee5\u8bad\u7ec3\u7f51\u7edc\u6a21\u578b\uff0c\u4f46\u662f\u65e0\u6cd5\u5c06\u52a8\u6001\u56fe\u8f6c\u6362\u4e3a\u9759\u6001\u56fe\u3002\r\n\u76ee\u524d\u5c1d\u8bd5\u4e86 paddle.jit.save, paddle.jit.to_static, TracedLayer.trace \u7b49\u65b9\u6cd5\uff0c\u4f46\u662f\u5747\u5931\u8d25\u3002\r\n\u62a5\u9519\u4fe1\u606f\u5982\u4e0b\uff1a\r\n\r\n```python\r\nTraceback (most recent call last):\r\n  File \"/Users/liyanzhe/Library/Application Support/IntelliJIdea2019.2/python/helpers/pydev/pydevd.py\", line 2066, in <module>\r\n    main()\r\n  File \"/Users/liyanzhe/Library/Application Support/IntelliJIdea2019.2/python/helpers/pydev/pydevd.py\", line 2060, in main\r\n    globals = debugger.run(setup['file'], None, None, is_module)\r\n  File \"/Users/liyanzhe/Library/Application Support/IntelliJIdea2019.2/python/helpers/pydev/pydevd.py\", line 1411, in run\r\n    return self._exec(is_module, entry_point_fn, module_name, file, globals, locals)\r\n  File \"/Users/liyanzhe/Library/Application Support/IntelliJIdea2019.2/python/helpers/pydev/pydevd.py\", line 1418, in _exec\r\n    pydev_imports.execfile(file, globals, locals)  # execute the script\r\n  File \"/Users/liyanzhe/Library/Application Support/IntelliJIdea2019.2/python/helpers/pydev/_pydev_imps/_pydev_execfile.py\", line 18, in execfile\r\n    exec(compile(contents+\"\\n\", file, 'exec'), glob, loc)\r\n  File \"/Users/liyanzhe/code/baidupy/contact_ner_full/save_infer_model.py\", line 124, in <module>\r\n    save(args)\r\n  File \"/Users/liyanzhe/code/baidupy/contact_ner_full/save_infer_model.py\", line 110, in save\r\n    path=\"./infer_model\"\r\n  File \"<decorator-gen-167>\", line 2, in save\r\n  File \"/Users/liyanzhe/bin/anaconda3/envs/paddle20/lib/python3.7/site-packages/paddle/fluid/wrapped_decorator.py\", line 25, in __impl__\r\n    return wrapped_func(*args, **kwargs)\r\n  File \"/Users/liyanzhe/bin/anaconda3/envs/paddle20/lib/python3.7/site-packages/paddle/fluid/dygraph/base.py\", line 39, in __impl__\r\n    return func(*args, **kwargs)\r\n  File \"/Users/liyanzhe/bin/anaconda3/envs/paddle20/lib/python3.7/site-packages/paddle/fluid/dygraph/jit.py\", line 686, in save\r\n    concrete_program = static_forward.concrete_program\r\n  File \"/Users/liyanzhe/bin/anaconda3/envs/paddle20/lib/python3.7/site-packages/paddle/fluid/dygraph/dygraph_to_static/program_translator.py\", line 454, in concrete_program\r\n    return self.concrete_program_specify_input_spec(input_spec=None)\r\n  File \"/Users/liyanzhe/bin/anaconda3/envs/paddle20/lib/python3.7/site-packages/paddle/fluid/dygraph/dygraph_to_static/program_translator.py\", line 493, in concrete_program_specify_input_spec\r\n    format(self._function_spec))\r\nValueError: No valid transformed program for function: forward(inputs,lengths), input_spec: None.\r\n\t    Please specific `input_spec` in `@paddle.jit.to_static` or feed input tensor to call the decorated function at once.\r\n\r\n```", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/359/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/359/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/352", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/352/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/352/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/352/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/352", "id": 883503962, "node_id": "MDU6SXNzdWU4ODM1MDM5NjI=", "number": 352, "title": "XLNet load error", "user": {"login": "Qbop981001", "id": 41386411, "node_id": "MDQ6VXNlcjQxMzg2NDEx", "avatar_url": "https://avatars.githubusercontent.com/u/41386411?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Qbop981001", "html_url": "https://github.com/Qbop981001", "followers_url": "https://api.github.com/users/Qbop981001/followers", "following_url": "https://api.github.com/users/Qbop981001/following{/other_user}", "gists_url": "https://api.github.com/users/Qbop981001/gists{/gist_id}", "starred_url": "https://api.github.com/users/Qbop981001/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Qbop981001/subscriptions", "organizations_url": "https://api.github.com/users/Qbop981001/orgs", "repos_url": "https://api.github.com/users/Qbop981001/repos", "events_url": "https://api.github.com/users/Qbop981001/events{/privacy}", "received_events_url": "https://api.github.com/users/Qbop981001/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "guoshengCS", "id": 14105589, "node_id": "MDQ6VXNlcjE0MTA1NTg5", "avatar_url": "https://avatars.githubusercontent.com/u/14105589?v=4", "gravatar_id": "", "url": "https://api.github.com/users/guoshengCS", "html_url": "https://github.com/guoshengCS", "followers_url": "https://api.github.com/users/guoshengCS/followers", "following_url": "https://api.github.com/users/guoshengCS/following{/other_user}", "gists_url": "https://api.github.com/users/guoshengCS/gists{/gist_id}", "starred_url": "https://api.github.com/users/guoshengCS/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/guoshengCS/subscriptions", "organizations_url": "https://api.github.com/users/guoshengCS/orgs", "repos_url": "https://api.github.com/users/guoshengCS/repos", "events_url": "https://api.github.com/users/guoshengCS/events{/privacy}", "received_events_url": "https://api.github.com/users/guoshengCS/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "guoshengCS", "id": 14105589, "node_id": "MDQ6VXNlcjE0MTA1NTg5", "avatar_url": "https://avatars.githubusercontent.com/u/14105589?v=4", "gravatar_id": "", "url": "https://api.github.com/users/guoshengCS", "html_url": "https://github.com/guoshengCS", "followers_url": "https://api.github.com/users/guoshengCS/followers", "following_url": "https://api.github.com/users/guoshengCS/following{/other_user}", "gists_url": "https://api.github.com/users/guoshengCS/gists{/gist_id}", "starred_url": "https://api.github.com/users/guoshengCS/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/guoshengCS/subscriptions", "organizations_url": "https://api.github.com/users/guoshengCS/orgs", "repos_url": "https://api.github.com/users/guoshengCS/repos", "events_url": "https://api.github.com/users/guoshengCS/events{/privacy}", "received_events_url": "https://api.github.com/users/guoshengCS/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2021-05-10T06:30:05Z", "updated_at": "2021-05-23T09:57:47Z", "closed_at": "2021-05-23T09:57:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "When I import XLNet pretrained model with the following code:\r\n```\r\nfrom paddlenlp.transformers.xlnet.modeling import XLNetForTokenClassification\r\nfrom paddlenlp.transformers.xlnet.tokenizer import XLNetTokenizer\r\ndo_train():\r\n    .....\r\n    model = XLNetForTokenClassification.from_pretrained(\"chinese-xlnet-base\", num_classes=num_classes)\r\n    tokenizer = XLNetTokenizer.from_pretrained(\"chinese-xlnet-base\")\r\n```\r\nI meet this error:\r\n![\u5fae\u4fe1\u56fe\u7247_20210510142615](https://user-images.githubusercontent.com/41386411/117615020-bd5d7d00-b19b-11eb-85fc-658ba9ba6fea.png)\r\nHowever, when I replace XLNet with BertForTokenClassification, the error disappears.\r\nSo is this the problem of the XLNet framework?\r\n", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/352/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/352/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/335", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/335/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/335/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/335/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/335", "id": 874395930, "node_id": "MDU6SXNzdWU4NzQzOTU5MzA=", "number": 335, "title": "XLNet\u6a21\u578b\u65e0\u6cd5\u8fd0\u884c\uff0c\u6a21\u578b\u5185\u90e8\u62a5\u9519Tensor reshape\u65f6size\u4e0d\u5bf9", "user": {"login": "HanyuCheng", "id": 33544779, "node_id": "MDQ6VXNlcjMzNTQ0Nzc5", "avatar_url": "https://avatars.githubusercontent.com/u/33544779?v=4", "gravatar_id": "", "url": "https://api.github.com/users/HanyuCheng", "html_url": "https://github.com/HanyuCheng", "followers_url": "https://api.github.com/users/HanyuCheng/followers", "following_url": "https://api.github.com/users/HanyuCheng/following{/other_user}", "gists_url": "https://api.github.com/users/HanyuCheng/gists{/gist_id}", "starred_url": "https://api.github.com/users/HanyuCheng/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/HanyuCheng/subscriptions", "organizations_url": "https://api.github.com/users/HanyuCheng/orgs", "repos_url": "https://api.github.com/users/HanyuCheng/repos", "events_url": "https://api.github.com/users/HanyuCheng/events{/privacy}", "received_events_url": "https://api.github.com/users/HanyuCheng/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "yingyibiao", "id": 52000032, "node_id": "MDQ6VXNlcjUyMDAwMDMy", "avatar_url": "https://avatars.githubusercontent.com/u/52000032?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yingyibiao", "html_url": "https://github.com/yingyibiao", "followers_url": "https://api.github.com/users/yingyibiao/followers", "following_url": "https://api.github.com/users/yingyibiao/following{/other_user}", "gists_url": "https://api.github.com/users/yingyibiao/gists{/gist_id}", "starred_url": "https://api.github.com/users/yingyibiao/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yingyibiao/subscriptions", "organizations_url": "https://api.github.com/users/yingyibiao/orgs", "repos_url": "https://api.github.com/users/yingyibiao/repos", "events_url": "https://api.github.com/users/yingyibiao/events{/privacy}", "received_events_url": "https://api.github.com/users/yingyibiao/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "yingyibiao", "id": 52000032, "node_id": "MDQ6VXNlcjUyMDAwMDMy", "avatar_url": "https://avatars.githubusercontent.com/u/52000032?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yingyibiao", "html_url": "https://github.com/yingyibiao", "followers_url": "https://api.github.com/users/yingyibiao/followers", "following_url": "https://api.github.com/users/yingyibiao/following{/other_user}", "gists_url": "https://api.github.com/users/yingyibiao/gists{/gist_id}", "starred_url": "https://api.github.com/users/yingyibiao/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yingyibiao/subscriptions", "organizations_url": "https://api.github.com/users/yingyibiao/orgs", "repos_url": "https://api.github.com/users/yingyibiao/repos", "events_url": "https://api.github.com/users/yingyibiao/events{/privacy}", "received_events_url": "https://api.github.com/users/yingyibiao/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2021-05-03T09:21:44Z", "updated_at": "2021-05-20T02:16:47Z", "closed_at": "2021-05-20T02:16:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "\u60a8\u597d\uff0c\u6211\u5728\u5c1d\u8bd5\u4f7f\u7528Paddle\u5e73\u53f0\u548cXLNet\u6a21\u578b\u6784\u5efa\u957f\u6587\u672c\u751f\u6210\u4efb\u52a1\u3002\r\n\u4f46\u662f\u6211\u6309\u7167\u6a21\u578b\u8f93\u5165\u6307\u5b9a\u7684shape\u4f20\u5165\u53c2\u6570\u65f6\uff0c\u4f1a\u62a5\u9519\u3002\r\n\u6bd4\u5982\u4e0b\u9762\u8fd9\u6bb5\u4ee3\u7801\u662f\u4ece [huggingface](https://huggingface.co/transformers/_modules/transformers/models/xlnet/modeling_xlnet.html#XLNetLMHeadModel)\u4e0aXLNet\u7684\u4f7f\u7528demo\u4fee\u6539\u800c\u6765\u7684paddle\u7248\uff1a\r\n```\r\nfrom paddlenlp.transformers.xlnet.modeling import XLNetModel\r\nfrom paddlenlp.transformers.xlnet.tokenizer import XLNetTokenizer\r\nimport paddle\r\n\r\ntokenizer = XLNetTokenizer.from_pretrained('xlnet-large-cased')\r\nmodel = XLNetModel.from_pretrained('xlnet-large-cased')\r\n\r\n# We show how to setup inputs to predict a next token using a bi-directional context.\r\ninput_ids = paddle.to_tensor(tokenizer.encode(\"Hello, my dog is very <mask>\")['input_ids'][:-2]).unsqueeze(0)  # We will predict the masked token\r\nperm_mask = paddle.zeros((1, input_ids.shape[1], input_ids.shape[1]), dtype='float32')\r\nperm_mask[:, :, -1] = 1.0  # Previous tokens don't see last token\r\ntarget_mapping = paddle.zeros((1, 1, input_ids.shape[1]), dtype='float32')  # Shape [1, 1, seq_length] => let's predict one token\r\ntarget_mapping[0, 0, -1] = 1.0  # Our first (and only) prediction will be the last token of the sequence (the masked token)\r\noutputs = model(input_ids, perm_mask=perm_mask, target_mapping=target_mapping)\r\nnext_token_logits = outputs[0]  # Output has shape [target_mapping.size(0), target_mapping.size(1), config.vocab_size]\r\n```\r\n\u5728`paddle=2.0.1`\uff0c`paddlenlp=2.0.0rc20`\u7248\u672c\u4e0b\u8fd0\u884c\u4e0a\u8ff0\u4ee3\u7801\uff0c\u4f1a\u62a5\u51fa\u4e0b\u8ff0\u9519\u8bef\uff1a\r\n```\r\nValueError                                Traceback (most recent call last)\r\n<ipython-input-3-ed9d9f1e91e4> in <module>\r\n     12 target_mapping = paddle.zeros((1, 1, input_ids.shape[1]), dtype='float32')  # Shape [1, 1, seq_length] => let's predict one token\r\n     13 target_mapping[0, 0, -1] = 1.0  # Our first (and only) prediction will be the last token of the sequence (the masked token)\r\n---> 14 outputs = model(input_ids, perm_mask=perm_mask, target_mapping=target_mapping)\r\n     15 next_token_logits = outputs[0]  # Output has shape [target_mapping.size(0), target_mapping.size(1), config.vocab_size]\r\n\r\n~/.local/lib/python3.7/site-packages/paddle/fluid/dygraph/layers.py in __call__(self, *inputs, **kwargs)\r\n    900                 self._built = True\r\n    901 \r\n--> 902             outputs = self.forward(*inputs, **kwargs)\r\n    903 \r\n    904             for forward_post_hook in self._forward_post_hooks.values():\r\n\r\n~/.local/lib/python3.7/site-packages/paddlenlp/transformers/xlnet/modeling.py in forward(self, input_ids, token_type_ids, attention_mask, mems, perm_mask, target_mapping, input_mask, head_mask, inputs_embeds, use_mems_train, use_mems_eval, output_attentions, output_hidden_states, return_dict)\r\n   1155                 target_mapping=target_mapping,\r\n   1156                 head_mask=head_mask[i],\r\n-> 1157                 output_attentions=output_attentions, )\r\n   1158             output_h, output_g = outputs[:2]\r\n   1159 \r\n\r\n~/.local/lib/python3.7/site-packages/paddle/fluid/dygraph/layers.py in __call__(self, *inputs, **kwargs)\r\n    900                 self._built = True\r\n    901 \r\n--> 902             outputs = self.forward(*inputs, **kwargs)\r\n    903 \r\n    904             for forward_post_hook in self._forward_post_hooks.values():\r\n\r\n~/.local/lib/python3.7/site-packages/paddlenlp/transformers/xlnet/modeling.py in forward(self, output_h, output_g, attn_mask_h, attn_mask_g, r, seg_mat, mems, target_mapping, head_mask, output_attentions)\r\n    454             target_mapping=target_mapping,\r\n    455             head_mask=head_mask,\r\n--> 456             output_attentions=output_attentions, )\r\n    457 \r\n    458         output_h, output_g = outputs[:2]\r\n\r\n~/.local/lib/python3.7/site-packages/paddle/fluid/dygraph/layers.py in __call__(self, *inputs, **kwargs)\r\n    900                 self._built = True\r\n    901 \r\n--> 902             outputs = self.forward(*inputs, **kwargs)\r\n    903 \r\n    904             for forward_post_hook in self._forward_post_hooks.values():\r\n\r\n~/.local/lib/python3.7/site-packages/paddlenlp/transformers/xlnet/modeling.py in forward(self, h, g, attn_mask_h, attn_mask_g, r, seg_mat, mems, target_mapping, head_mask, output_attentions)\r\n    245             k_head_r = paddle.reshape(\r\n    246                 k_head_r,\r\n--> 247                 shape=[cat.shape[0], cat.shape[1], self.n_head, self.d_head])\r\n    248 \r\n    249             # H-stream\r\n\r\n~/.local/lib/python3.7/site-packages/paddle/tensor/manipulation.py in reshape(x, shape, name)\r\n   1548 \r\n   1549     \"\"\"\r\n-> 1550     return paddle.fluid.layers.reshape(x=x, shape=shape, name=name)\r\n   1551 \r\n   1552 \r\n\r\n~/.local/lib/python3.7/site-packages/paddle/fluid/layers/nn.py in reshape(x, shape, actual_shape, act, inplace, name)\r\n   6133                 for item in shape\r\n   6134             ]\r\n-> 6135             out, _ = core.ops.reshape2(x, None, 'shape', shape)\r\n   6136         elif isinstance(shape, Variable):\r\n   6137             shape.stop_gradient = True\r\n\r\nValueError: (InvalidArgument) The 'shape' in ReshapeOp is invalid. The input tensor X'size must be equal to the capacity of 'shape'. But received X's shape = [22, 1, 1024], X's size = 22528, 'shape' is [11, 1, 16, 64], the capacity of 'shape' is 11264.\r\n  [Hint: Expected capacity == in_size, but received capacity:11264 != in_size:22528.] (at /paddle/paddle/fluid/operators/reshape_op.cc:222)\r\n  [operator < reshape2 > error]\r\n```\r\n\u5e0c\u671b\u5f97\u5230\u60a8\u7684\u5e2e\u52a9\u548c\u6307\u70b9\uff0c\u8c22\u8c22\uff01", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/335/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/335/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/198", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/198/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/198/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/198/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/198", "id": 843430299, "node_id": "MDU6SXNzdWU4NDM0MzAyOTk=", "number": 198, "title": "example\u4e2d\u7684lexical_analysis\u5de5\u7a0b\u8bad\u7ec3train.py\u5728\u8bad\u7ec3\u62a5\u9519\u3002", "user": {"login": "lylyone", "id": 42239527, "node_id": "MDQ6VXNlcjQyMjM5NTI3", "avatar_url": "https://avatars.githubusercontent.com/u/42239527?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lylyone", "html_url": "https://github.com/lylyone", "followers_url": "https://api.github.com/users/lylyone/followers", "following_url": "https://api.github.com/users/lylyone/following{/other_user}", "gists_url": "https://api.github.com/users/lylyone/gists{/gist_id}", "starred_url": "https://api.github.com/users/lylyone/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lylyone/subscriptions", "organizations_url": "https://api.github.com/users/lylyone/orgs", "repos_url": "https://api.github.com/users/lylyone/repos", "events_url": "https://api.github.com/users/lylyone/events{/privacy}", "received_events_url": "https://api.github.com/users/lylyone/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "kinghuin", "id": 11913168, "node_id": "MDQ6VXNlcjExOTEzMTY4", "avatar_url": "https://avatars.githubusercontent.com/u/11913168?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kinghuin", "html_url": "https://github.com/kinghuin", "followers_url": "https://api.github.com/users/kinghuin/followers", "following_url": "https://api.github.com/users/kinghuin/following{/other_user}", "gists_url": "https://api.github.com/users/kinghuin/gists{/gist_id}", "starred_url": "https://api.github.com/users/kinghuin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kinghuin/subscriptions", "organizations_url": "https://api.github.com/users/kinghuin/orgs", "repos_url": "https://api.github.com/users/kinghuin/repos", "events_url": "https://api.github.com/users/kinghuin/events{/privacy}", "received_events_url": "https://api.github.com/users/kinghuin/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "kinghuin", "id": 11913168, "node_id": "MDQ6VXNlcjExOTEzMTY4", "avatar_url": "https://avatars.githubusercontent.com/u/11913168?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kinghuin", "html_url": "https://github.com/kinghuin", "followers_url": "https://api.github.com/users/kinghuin/followers", "following_url": "https://api.github.com/users/kinghuin/following{/other_user}", "gists_url": "https://api.github.com/users/kinghuin/gists{/gist_id}", "starred_url": "https://api.github.com/users/kinghuin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kinghuin/subscriptions", "organizations_url": "https://api.github.com/users/kinghuin/orgs", "repos_url": "https://api.github.com/users/kinghuin/repos", "events_url": "https://api.github.com/users/kinghuin/events{/privacy}", "received_events_url": "https://api.github.com/users/kinghuin/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2021-03-29T14:30:26Z", "updated_at": "2021-04-17T09:42:34Z", "closed_at": "2021-04-17T09:42:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "\u9519\u8bef\uff1a\r\nThe loss value printed in the log is the current step, and the metric is the average value of previous step.\r\nEpoch 1/10\r\nTraceback (most recent call last):\r\n  File \"train.py\", line 118, in <module>\r\n    train(args)\r\n  File \"train.py\", line 110, in train\r\n    callbacks=callbacks)\r\n  File \"D:\\Datalearn\\lib\\site-packages\\paddle\\hapi\\model.py\", line 1495, in fit\r\n    logs = self._run_one_epoch(train_loader, cbks, 'train')\r\n  File \"D:\\Datalearn\\lib\\site-packages\\paddle\\hapi\\model.py\", line 1802, in _run_one_epoch\r\n    data[len(self._inputs):])\r\n  File \"D:\\Datalearn\\lib\\site-packages\\paddle\\hapi\\model.py\", line 941, in train_batch\r\n    loss = self._adapter.train_batch(inputs, labels)\r\n  File \"D:\\Datalearn\\lib\\site-packages\\paddle\\hapi\\model.py\", line 656, in train_batch\r\n    * [to_variable(x) for x in inputs])\r\n  File \"E:\\NLP\u5b66\u4e60\\PaddleNLP\\PaddleNLP\\examples\\lexical_analysis\\model.py\", line 93, in forward\r\n    _, prediction = self.viterbi_decoder(emission, lengths)\r\n  File \"D:\\Datalearn\\lib\\site-packages\\paddle\\fluid\\dygraph\\layers.py\", line 902, in __call__\r\n    outputs = self.forward(*inputs, **kwargs)\r\n  File \"D:\\Datalearn\\lib\\site-packages\\paddlenlp\\layers\\crf.py\", line 355, in forward\r\n    idxs = paddle.stack([batch_index, last_index], axis=1)\r\n  File \"D:\\Datalearn\\lib\\site-packages\\paddle\\tensor\\manipulation.py\", line 443, in stack\r\n    return layers.stack(x, axis, name)\r\n  File \"D:\\Datalearn\\lib\\site-packages\\paddle\\fluid\\layers\\nn.py\", line 10069, in stack\r\n    return core.ops.stack(x, 'axis', axis)\r\nValueError: (InvalidArgument) The DataType of stack Op's duplicable Variable X must be consistent. The current variable type is (int),\r\n but the previous variable type is (int64_t). (at D:\\v2.0.1\\paddle\\paddle\\fluid\\framework\\operator.cc:1520)\r\n  [operator < stack > error]\r\n\u8fd9\u4e2a\u6709\u8dd1\u901a\u7684\u5417\uff1f", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/198/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/198/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/61", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/61/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/61/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/61/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/61", "id": 820950608, "node_id": "MDU6SXNzdWU4MjA5NTA2MDg=", "number": 61, "title": "\u8bcd\u6027\u6807\u6ce8\u591a\u5361\u8bad\u7ec3\u62a5\u9519", "user": {"login": "wdhxek", "id": 24445805, "node_id": "MDQ6VXNlcjI0NDQ1ODA1", "avatar_url": "https://avatars.githubusercontent.com/u/24445805?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wdhxek", "html_url": "https://github.com/wdhxek", "followers_url": "https://api.github.com/users/wdhxek/followers", "following_url": "https://api.github.com/users/wdhxek/following{/other_user}", "gists_url": "https://api.github.com/users/wdhxek/gists{/gist_id}", "starred_url": "https://api.github.com/users/wdhxek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wdhxek/subscriptions", "organizations_url": "https://api.github.com/users/wdhxek/orgs", "repos_url": "https://api.github.com/users/wdhxek/repos", "events_url": "https://api.github.com/users/wdhxek/events{/privacy}", "received_events_url": "https://api.github.com/users/wdhxek/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "kinghuin", "id": 11913168, "node_id": "MDQ6VXNlcjExOTEzMTY4", "avatar_url": "https://avatars.githubusercontent.com/u/11913168?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kinghuin", "html_url": "https://github.com/kinghuin", "followers_url": "https://api.github.com/users/kinghuin/followers", "following_url": "https://api.github.com/users/kinghuin/following{/other_user}", "gists_url": "https://api.github.com/users/kinghuin/gists{/gist_id}", "starred_url": "https://api.github.com/users/kinghuin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kinghuin/subscriptions", "organizations_url": "https://api.github.com/users/kinghuin/orgs", "repos_url": "https://api.github.com/users/kinghuin/repos", "events_url": "https://api.github.com/users/kinghuin/events{/privacy}", "received_events_url": "https://api.github.com/users/kinghuin/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "kinghuin", "id": 11913168, "node_id": "MDQ6VXNlcjExOTEzMTY4", "avatar_url": "https://avatars.githubusercontent.com/u/11913168?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kinghuin", "html_url": "https://github.com/kinghuin", "followers_url": "https://api.github.com/users/kinghuin/followers", "following_url": "https://api.github.com/users/kinghuin/following{/other_user}", "gists_url": "https://api.github.com/users/kinghuin/gists{/gist_id}", "starred_url": "https://api.github.com/users/kinghuin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kinghuin/subscriptions", "organizations_url": "https://api.github.com/users/kinghuin/orgs", "repos_url": "https://api.github.com/users/kinghuin/repos", "events_url": "https://api.github.com/users/kinghuin/events{/privacy}", "received_events_url": "https://api.github.com/users/kinghuin/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2021-03-03T10:01:43Z", "updated_at": "2021-03-25T08:19:42Z", "closed_at": "2021-03-25T08:19:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "paddle gpu 2.0.0\r\npaddlenlp 2.0.0rc5\r\ncuda 10.1\r\ncudnn: 7.6.5\r\nnccl 2.7.3\r\n\r\n\u6309\u7167[\u6587\u6863\u6559\u7a0b](https://github.com/PaddlePaddle/PaddleNLP/tree/develop/examples/lexical_analysis)\u8fdb\u884c\u591a\u5361\u8bad\u7ec3\u62a5\u9519\r\n$ python train.py         --data_dir ./lexical_analysis_dataset_tiny         --model_save_dir ./save_dir         --epochs 10         --batch_size 32         --n_gpu 2     \r\n-----------------------------------------------\r\n\r\nW0303 17:54:08.340672 24268 device_context.cc:362] Please NOTE: device: 0, GPU Compute Capability: 7.5, Driver API Version: 11.0, Runtime API Version: 10.1\r\nW0303 17:54:08.344925 24268 device_context.cc:372] device: 0, cuDNN Version: 7.6.\r\nW0303 17:54:08.365159 24269 device_context.cc:362] Please NOTE: device: 1, GPU Compute Capability: 7.5, Driver API Version: 11.0, Runtime API Version: 10.1\r\nW0303 17:54:08.369661 24269 device_context.cc:372] device: 1, cuDNN Version: 7.6.\r\nI0303 17:54:11.289988 24268 nccl_context.cc:189] init nccl context nranks: 2 local rank: 0 gpu id: 0 ring id: 0\r\nI0303 17:54:11.290007 24269 nccl_context.cc:189] init nccl context nranks: 2 local rank: 1 gpu id: 1 ring id: 0\r\nThe loss value printed in the log is the current step, and the metric is the average value of previous step.\r\nEpoch 1/10\r\n/public/home/gsliu/anaconda3/envs/paddle2/lib/python3.7/site-packages/paddle/fluid/layers/utils.py:77: DeprecationWarning: Using or importing the ABCs from 'collections' instead of from 'collections.abc' is depr\r\necated since Python 3.3,and in 3.9 it will stop working\r\n  return (isinstance(seq, collections.Sequence) and\r\n/public/home/gsliu/anaconda3/envs/paddle2/lib/python3.7/site-packages/paddle/fluid/layers/utils.py:77: DeprecationWarning: Using or importing the ABCs from 'collections' instead of from 'collections.abc' is depr\r\necated since Python 3.3,and in 3.9 it will stop working\r\n  return (isinstance(seq, collections.Sequence) and\r\nTraceback (most recent call last):\r\n  File \"train.py\", line 116, in <module>\r\n    paddle.distributed.spawn(train, args=(args, ), nprocs=args.n_gpu)\r\n  File \"/public/home/gsliu/anaconda3/envs/paddle2/lib/python3.7/site-packages/paddle/distributed/spawn.py\", line 449, in spawn\r\n    while not context.join():\r\n  File \"/public/home/gsliu/anaconda3/envs/paddle2/lib/python3.7/site-packages/paddle/distributed/spawn.py\", line 255, in join\r\n    self._throw_exception(error_index)\r\n  File \"/public/home/gsliu/anaconda3/envs/paddle2/lib/python3.7/site-packages/paddle/distributed/spawn.py\", line 273, in _throw_exception\r\n    raise Exception(msg)\r\nException: \r\n\r\n----------------------------------------------\r\nProcess 0 terminated with the following error:\r\n----------------------------------------------\r\n\r\nTraceback (most recent call last):\r\n  File \"/public/home/gsliu/anaconda3/envs/paddle2/lib/python3.7/site-packages/paddle/distributed/spawn.py\", line 204, in _func_wrapper\r\n    result = func(*args)\r\n  File \"/public/data_sharing/gsliu/codes/PaddleNLP/examples/lexical_analysis/train.py\", line 110, in train\r\n    callbacks=callbacks)\r\n  File \"/public/home/gsliu/anaconda3/envs/paddle2/lib/python3.7/site-packages/paddle/hapi/model.py\", line 1495, in fit\r\n    logs = self._run_one_epoch(train_loader, cbks, 'train')\r\n  File \"/public/home/gsliu/anaconda3/envs/paddle2/lib/python3.7/site-packages/paddle/hapi/model.py\", line 1802, in _run_one_epoch\r\n    data[len(self._inputs):])\r\n  File \"/public/home/gsliu/anaconda3/envs/paddle2/lib/python3.7/site-packages/paddle/hapi/model.py\", line 941, in train_batch\r\n    loss = self._adapter.train_batch(inputs, labels)\r\n  File \"/public/home/gsliu/anaconda3/envs/paddle2/lib/python3.7/site-packages/paddle/hapi/model.py\", line 661, in train_batch\r\n    final_loss.backward()\r\n  File \"<decorator-gen-114>\", line 2, in backward\r\n  File \"/public/home/gsliu/anaconda3/envs/paddle2/lib/python3.7/site-packages/paddle/fluid/wrapped_decorator.py\", line 25, in __impl__\r\n    return wrapped_func(*args, **kwargs)\r\n  File \"/public/home/gsliu/anaconda3/envs/paddle2/lib/python3.7/site-packages/paddle/fluid/framework.py\", line 225, in __impl__\r\n    return func(*args, **kwargs)\r\n  File \"/public/home/gsliu/anaconda3/envs/paddle2/lib/python3.7/site-packages/paddle/fluid/dygraph/varbase_patch_methods.py\", line 175, in backward\r\n    retain_graph)\r\nRuntimeError: (PreconditionNotMet) Rebuild vars's number should be equal to original vars'number, expect it to be 20, but got 21.\r\n  [Hint: Expected rebuild_vars_.size() == vars_.size(), but received rebuild_vars_.size():21 != vars_.size():20.] (at /paddle/paddle/fluid/imperative/reducer.cc:512)\r\n", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/61/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/61/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/217", "repository_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP", "labels_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/217/labels{/name}", "comments_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/217/comments", "events_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/217/events", "html_url": "https://github.com/PaddlePaddle/PaddleNLP/issues/217", "id": 848843531, "node_id": "MDU6SXNzdWU4NDg4NDM1MzE=", "number": 217, "title": "NER\u6559\u7a0b\u4e2d\u53d1\u73b0bug", "user": {"login": "cocoa0409", "id": 30222026, "node_id": "MDQ6VXNlcjMwMjIyMDI2", "avatar_url": "https://avatars.githubusercontent.com/u/30222026?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cocoa0409", "html_url": "https://github.com/cocoa0409", "followers_url": "https://api.github.com/users/cocoa0409/followers", "following_url": "https://api.github.com/users/cocoa0409/following{/other_user}", "gists_url": "https://api.github.com/users/cocoa0409/gists{/gist_id}", "starred_url": "https://api.github.com/users/cocoa0409/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cocoa0409/subscriptions", "organizations_url": "https://api.github.com/users/cocoa0409/orgs", "repos_url": "https://api.github.com/users/cocoa0409/repos", "events_url": "https://api.github.com/users/cocoa0409/events{/privacy}", "received_events_url": "https://api.github.com/users/cocoa0409/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2717960690, "node_id": "MDU6TGFiZWwyNzE3OTYwNjkw", "url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "kinghuin", "id": 11913168, "node_id": "MDQ6VXNlcjExOTEzMTY4", "avatar_url": "https://avatars.githubusercontent.com/u/11913168?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kinghuin", "html_url": "https://github.com/kinghuin", "followers_url": "https://api.github.com/users/kinghuin/followers", "following_url": "https://api.github.com/users/kinghuin/following{/other_user}", "gists_url": "https://api.github.com/users/kinghuin/gists{/gist_id}", "starred_url": "https://api.github.com/users/kinghuin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kinghuin/subscriptions", "organizations_url": "https://api.github.com/users/kinghuin/orgs", "repos_url": "https://api.github.com/users/kinghuin/repos", "events_url": "https://api.github.com/users/kinghuin/events{/privacy}", "received_events_url": "https://api.github.com/users/kinghuin/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "kinghuin", "id": 11913168, "node_id": "MDQ6VXNlcjExOTEzMTY4", "avatar_url": "https://avatars.githubusercontent.com/u/11913168?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kinghuin", "html_url": "https://github.com/kinghuin", "followers_url": "https://api.github.com/users/kinghuin/followers", "following_url": "https://api.github.com/users/kinghuin/following{/other_user}", "gists_url": "https://api.github.com/users/kinghuin/gists{/gist_id}", "starred_url": "https://api.github.com/users/kinghuin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kinghuin/subscriptions", "organizations_url": "https://api.github.com/users/kinghuin/orgs", "repos_url": "https://api.github.com/users/kinghuin/repos", "events_url": "https://api.github.com/users/kinghuin/events{/privacy}", "received_events_url": "https://api.github.com/users/kinghuin/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2021-01-31T16:38:28Z", "updated_at": "2021-05-11T12:35:16Z", "closed_at": "2021-05-11T12:35:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "hi,\r\nhttps://aistudio.baidu.com/aistudio/projectdetail/1317771\r\n\u5728\u8fd9\u4e2aNER\u4efb\u52a1\u4e2d\uff0c\u4e3b\u6a21\u578b\u4ee3\u7801\r\n`\r\nclass BiGRUWithCRF2(nn.Layer):\r\n    def __init__(self, emb_size, hidden_size, word_num, label_num):\r\n        super(BiGRUWithCRF2, self).__init__()\r\n        self.word_emb = TokenEmbedding(extended_vocab_path='./conf/word.dic', unknown_token='OOV') #EMB\r\n`\r\nTokenEmbedding\u7684\u5229\u7528\u6709\u8bef\r\n\r\n\u6211\u67e5\u770b\u4e86\u6e90\u7801\uff0cextended_vocab_path\u7684\u53c2\u6570\u4f1a\u4f5c\u4e3a\u8bfb\u53d6\u5b57\u5178\uff0c\u7ecf\u8fc7_read_vocab_list_from_file\u53d6\u51fa\u8bcd\u8868\r\n`   \r\ndef _read_vocab_list_from_file(self, extended_vocab_path):\r\n        # load new vocab table from file\r\n        vocab_list = []\r\n        with open(extended_vocab_path, \"r\", encoding=\"utf-8\") as f:\r\n            for line in f.readlines():\r\n                vocab = line.rstrip(\"\\n\").split(\"\\t\")[0]\r\n                vocab_list.append(vocab)\r\n        return vocab_list\r\n`\r\n\u8be5\u4efb\u52a1\u5bf9\u5e94\u7684\u5b57\u5178word.dic \uff0c\u7b2c\u4e00\u5217\u662f\u7d22\u5f15id\uff0c\u4e0d\u662fvocab\r\n\r\n\u6240\u4ee5TokenEmbedding\u65e0\u6cd5\u6b63\u786e\u52a0\u8f7dpretrain\u7684\u6743\u91cd", "reactions": {"url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/217/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PaddlePaddle/PaddleNLP/issues/217/timeline", "performed_via_github_app": null, "state_reason": "completed"}]