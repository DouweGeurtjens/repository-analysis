[{"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/1398", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/1398/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/1398/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/1398/events", "html_url": "https://github.com/django-haystack/django-haystack/issues/1398", "id": 163542728, "node_id": "MDU6SXNzdWUxNjM1NDI3Mjg=", "number": 1398, "title": "More like this not working", "user": {"login": "jTiKey", "id": 1391925, "node_id": "MDQ6VXNlcjEzOTE5MjU=", "avatar_url": "https://avatars.githubusercontent.com/u/1391925?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jTiKey", "html_url": "https://github.com/jTiKey", "followers_url": "https://api.github.com/users/jTiKey/followers", "following_url": "https://api.github.com/users/jTiKey/following{/other_user}", "gists_url": "https://api.github.com/users/jTiKey/gists{/gist_id}", "starred_url": "https://api.github.com/users/jTiKey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jTiKey/subscriptions", "organizations_url": "https://api.github.com/users/jTiKey/orgs", "repos_url": "https://api.github.com/users/jTiKey/repos", "events_url": "https://api.github.com/users/jTiKey/events{/privacy}", "received_events_url": "https://api.github.com/users/jTiKey/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}, {"id": 16626, "node_id": "MDU6TGFiZWwxNjYyNg==", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/needs%20review", "name": "needs review", "color": "fbca04", "default": false, "description": null}, {"id": 30282373, "node_id": "MDU6TGFiZWwzMDI4MjM3Mw==", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/backend%20:%20elasticsearch", "name": "backend : elasticsearch", "color": "d4c5f9", "default": false, "description": null}, {"id": 405658842, "node_id": "MDU6TGFiZWw0MDU2NTg4NDI=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/query", "name": "query", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2016-07-03T01:35:21Z", "updated_at": "2016-08-01T14:40:05Z", "closed_at": "2016-07-14T01:18:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "- [x] Tested with the latest Haystack release\n- [] Tested with the current Haystack master branch\n## Expected behaviour\n\nShould show 'More like this' for a current document.\n## Actual behaviour\n\n```\nTraceback (most recent call last):\n  File \"/home/vagrant/.pycharm_helpers/pydev/_pydevd_bundle/pydevd_exec.py\", line 3, in Exec\n    exec exp in global_vars, local_vars\n  File \"<input>\", line 1, in <module>\n  File \"/home/vagrant/.pyenv/versions/2.7.6/envs/blook/lib/python2.7/site-packages/haystack/query.py\", line 87, in __repr__\n    data = list(self[:REPR_OUTPUT_SIZE])\n  File \"/home/vagrant/.pyenv/versions/2.7.6/envs/blook/lib/python2.7/site-packages/haystack/query.py\", line 272, in __getitem__\n    self._fill_cache(start, bound)\n  File \"/home/vagrant/.pyenv/versions/2.7.6/envs/blook/lib/python2.7/site-packages/haystack/query.py\", line 171, in _fill_cache\n    results = self.query.get_results(**kwargs)\n  File \"/home/vagrant/.pyenv/versions/2.7.6/envs/blook/lib/python2.7/site-packages/haystack/backends/__init__.py\", line 640, in get_results\n    self.run_mlt(**kwargs)\n  File \"/home/vagrant/.pyenv/versions/2.7.6/envs/blook/lib/python2.7/site-packages/haystack/backends/elasticsearch_backend.py\", line 945, in run_mlt\n    results = self.backend.more_like_this(self._mlt_instance,\n    additional_query_string, **search_kwargs)\n  File \"/home/vagrant/.pyenv/versions/2.7.6/envs/blook/lib/python2.7/site-packages/haystack/backends/elasticsearch_backend.py\", line 555, in more_like_this\n    raw_results = self.conn.mlt(index=self.index_name, doc_type='modelresult', id=doc_id, mlt_fields=[field_name], **params)\nAttributeError: 'Elasticsearch' object has no attribute 'mlt'\n```\n## Steps to reproduce the behaviour\n1. Call the more_like_this method on a SearchQuerySet()\n## Configuration\n- Operating system version: Ubuntu 14.04.3 LTS\n- Search engine version: Elasticsearch 2.3.3\n- Python version: Python 2.7.6 \n- Django version: Django 1.8.8\n- Haystack version:  2.4.1\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/1398/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/1398/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/1350", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/1350/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/1350/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/1350/events", "html_url": "https://github.com/django-haystack/django-haystack/issues/1350", "id": 148252902, "node_id": "MDU6SXNzdWUxNDgyNTI5MDI=", "number": 1350, "title": "AttributeError: 'module' object has no attribute 'get_model'", "user": {"login": "SKisContent", "id": 4353999, "node_id": "MDQ6VXNlcjQzNTM5OTk=", "avatar_url": "https://avatars.githubusercontent.com/u/4353999?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SKisContent", "html_url": "https://github.com/SKisContent", "followers_url": "https://api.github.com/users/SKisContent/followers", "following_url": "https://api.github.com/users/SKisContent/following{/other_user}", "gists_url": "https://api.github.com/users/SKisContent/gists{/gist_id}", "starred_url": "https://api.github.com/users/SKisContent/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SKisContent/subscriptions", "organizations_url": "https://api.github.com/users/SKisContent/orgs", "repos_url": "https://api.github.com/users/SKisContent/repos", "events_url": "https://api.github.com/users/SKisContent/events{/privacy}", "received_events_url": "https://api.github.com/users/SKisContent/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}, {"id": 405658278, "node_id": "MDU6TGFiZWw0MDU2NTgyNzg=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/forms", "name": "forms", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2016-04-14T04:59:50Z", "updated_at": "2016-07-10T04:33:02Z", "closed_at": "2016-07-10T04:33:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "- [ x] Tested with the latest Haystack release\n- [ ] Tested with the current Haystack master branch\n## Expected behavior\n\nNo error.\n## Actual behavior\n\nI get an error.\n## Steps to reproduce the behaviour\n\n1.\nI created a very simple project using the example from Haystack. However, when I try to do a search, I get an exception. \n\nEnvironment:\n\nRequest Method: GET\nRequest URL: http://localhost:8000/search/?q=lassie&models=dog.dog\n\nDjango Version: 1.9.4\nPython Version: 2.7.10\nInstalled Applications:\n\n```\n['django.contrib.admin',\n 'django.contrib.auth',\n 'django.contrib.contenttypes',\n 'django.contrib.sessions',\n 'django.contrib.messages',\n 'django.contrib.staticfiles',\n 'haystack',\n 'dog']\nInstalled Middleware:\n['django.middleware.security.SecurityMiddleware',\n 'django.contrib.sessions.middleware.SessionMiddleware',\n 'django.middleware.common.CommonMiddleware',\n 'django.middleware.csrf.CsrfViewMiddleware',\n 'django.contrib.auth.middleware.AuthenticationMiddleware',\n 'django.contrib.auth.middleware.SessionAuthenticationMiddleware',\n 'django.contrib.messages.middleware.MessageMiddleware',\n 'django.middleware.clickjacking.XFrameOptionsMiddleware']\n```\n\n```\nTraceback:\n\nFile \"/Users/lebouuski/projects/django/lib/python2.7/site-packages/django/core/handlers/base.py\" in get_response\n  149.                     response = self.process_exception_by_middleware(e, request)\n\nFile \"/Users/lebouuski/projects/django/lib/python2.7/site-packages/django/core/handlers/base.py\" in get_response\n  147.                     response = wrapped_callback(request, *callback_args, **callback_kwargs)\n\nFile \"/Users/lebouuski/projects/django/lib/python2.7/site-packages/haystack/views.py\" in __call__\n  51.         self.results = self.get_results()\n\nFile \"/Users/lebouuski/projects/django/lib/python2.7/site-packages/haystack/views.py\" in get_results\n  91.         return self.form.search()\n\nFile \"/Users/lebouuski/projects/django/lib/python2.7/site-packages/haystack/forms.py\" in search\n  116.         return sqs.models(*self.get_models())\n\nFile \"/Users/lebouuski/projects/django/lib/python2.7/site-packages/haystack/forms.py\" in get_models\n  110.                 search_models.append(models.get_model(*model.split('.')))\n\nException Type: AttributeError at /search/\nException Value: 'module' object has no attribute 'get_model'\n```\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/1350/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/1350/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/1239", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/1239/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/1239/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/1239/events", "html_url": "https://github.com/django-haystack/django-haystack/pull/1239", "id": 102453176, "node_id": "MDExOlB1bGxSZXF1ZXN0NDMwNzU5MzU=", "number": 1239, "title": "Handle negative timestamps returned from ES.", "user": {"login": "speedplane", "id": 671052, "node_id": "MDQ6VXNlcjY3MTA1Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/671052?v=4", "gravatar_id": "", "url": "https://api.github.com/users/speedplane", "html_url": "https://github.com/speedplane", "followers_url": "https://api.github.com/users/speedplane/followers", "following_url": "https://api.github.com/users/speedplane/following{/other_user}", "gists_url": "https://api.github.com/users/speedplane/gists{/gist_id}", "starred_url": "https://api.github.com/users/speedplane/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/speedplane/subscriptions", "organizations_url": "https://api.github.com/users/speedplane/orgs", "repos_url": "https://api.github.com/users/speedplane/repos", "events_url": "https://api.github.com/users/speedplane/events{/privacy}", "received_events_url": "https://api.github.com/users/speedplane/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}, {"id": 30282373, "node_id": "MDU6TGFiZWwzMDI4MjM3Mw==", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/backend%20:%20elasticsearch", "name": "backend : elasticsearch", "color": "d4c5f9", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "acdha", "id": 46565, "node_id": "MDQ6VXNlcjQ2NTY1", "avatar_url": "https://avatars.githubusercontent.com/u/46565?v=4", "gravatar_id": "", "url": "https://api.github.com/users/acdha", "html_url": "https://github.com/acdha", "followers_url": "https://api.github.com/users/acdha/followers", "following_url": "https://api.github.com/users/acdha/following{/other_user}", "gists_url": "https://api.github.com/users/acdha/gists{/gist_id}", "starred_url": "https://api.github.com/users/acdha/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/acdha/subscriptions", "organizations_url": "https://api.github.com/users/acdha/orgs", "repos_url": "https://api.github.com/users/acdha/repos", "events_url": "https://api.github.com/users/acdha/events{/privacy}", "received_events_url": "https://api.github.com/users/acdha/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "acdha", "id": 46565, "node_id": "MDQ6VXNlcjQ2NTY1", "avatar_url": "https://avatars.githubusercontent.com/u/46565?v=4", "gravatar_id": "", "url": "https://api.github.com/users/acdha", "html_url": "https://github.com/acdha", "followers_url": "https://api.github.com/users/acdha/followers", "following_url": "https://api.github.com/users/acdha/following{/other_user}", "gists_url": "https://api.github.com/users/acdha/gists{/gist_id}", "starred_url": "https://api.github.com/users/acdha/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/acdha/subscriptions", "organizations_url": "https://api.github.com/users/acdha/orgs", "repos_url": "https://api.github.com/users/acdha/repos", "events_url": "https://api.github.com/users/acdha/events{/privacy}", "received_events_url": "https://api.github.com/users/acdha/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/django-haystack/django-haystack/milestones/12", "html_url": "https://github.com/django-haystack/django-haystack/milestone/12", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/milestones/12/labels", "id": 946036, "node_id": "MDk6TWlsZXN0b25lOTQ2MDM2", "number": 12, "title": "v2.5.0", "description": "", "creator": {"login": "acdha", "id": 46565, "node_id": "MDQ6VXNlcjQ2NTY1", "avatar_url": "https://avatars.githubusercontent.com/u/46565?v=4", "gravatar_id": "", "url": "https://api.github.com/users/acdha", "html_url": "https://github.com/acdha", "followers_url": "https://api.github.com/users/acdha/followers", "following_url": "https://api.github.com/users/acdha/following{/other_user}", "gists_url": "https://api.github.com/users/acdha/gists{/gist_id}", "starred_url": "https://api.github.com/users/acdha/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/acdha/subscriptions", "organizations_url": "https://api.github.com/users/acdha/orgs", "repos_url": "https://api.github.com/users/acdha/repos", "events_url": "https://api.github.com/users/acdha/events{/privacy}", "received_events_url": "https://api.github.com/users/acdha/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 8, "state": "open", "created_at": "2015-01-21T22:04:32Z", "updated_at": "2016-10-05T13:29:02Z", "due_on": null, "closed_at": null}, "comments": 1, "created_at": "2015-08-21T20:07:48Z", "updated_at": "2016-03-25T19:29:05Z", "closed_at": "2016-03-25T19:29:05Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/django-haystack/django-haystack/pulls/1239", "html_url": "https://github.com/django-haystack/django-haystack/pull/1239", "diff_url": "https://github.com/django-haystack/django-haystack/pull/1239.diff", "patch_url": "https://github.com/django-haystack/django-haystack/pull/1239.patch", "merged_at": null}, "body": "Elastic search can return negative timestamps for histograms if the dates are pre-1970. This PR properly handles these pre-1970 dates.\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/1239/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/1239/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/1194", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/1194/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/1194/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/1194/events", "html_url": "https://github.com/django-haystack/django-haystack/issues/1194", "id": 77545224, "node_id": "MDU6SXNzdWU3NzU0NTIyNA==", "number": 1194, "title": "Race condition when running update_index --remove", "user": {"login": "diwu1989", "id": 380950, "node_id": "MDQ6VXNlcjM4MDk1MA==", "avatar_url": "https://avatars.githubusercontent.com/u/380950?v=4", "gravatar_id": "", "url": "https://api.github.com/users/diwu1989", "html_url": "https://github.com/diwu1989", "followers_url": "https://api.github.com/users/diwu1989/followers", "following_url": "https://api.github.com/users/diwu1989/following{/other_user}", "gists_url": "https://api.github.com/users/diwu1989/gists{/gist_id}", "starred_url": "https://api.github.com/users/diwu1989/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/diwu1989/subscriptions", "organizations_url": "https://api.github.com/users/diwu1989/orgs", "repos_url": "https://api.github.com/users/diwu1989/repos", "events_url": "https://api.github.com/users/diwu1989/events{/privacy}", "received_events_url": "https://api.github.com/users/diwu1989/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}, {"id": 14924, "node_id": "MDU6TGFiZWwxNDkyNA==", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/refactor", "name": "refactor", "color": "006b75", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "acdha", "id": 46565, "node_id": "MDQ6VXNlcjQ2NTY1", "avatar_url": "https://avatars.githubusercontent.com/u/46565?v=4", "gravatar_id": "", "url": "https://api.github.com/users/acdha", "html_url": "https://github.com/acdha", "followers_url": "https://api.github.com/users/acdha/followers", "following_url": "https://api.github.com/users/acdha/following{/other_user}", "gists_url": "https://api.github.com/users/acdha/gists{/gist_id}", "starred_url": "https://api.github.com/users/acdha/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/acdha/subscriptions", "organizations_url": "https://api.github.com/users/acdha/orgs", "repos_url": "https://api.github.com/users/acdha/repos", "events_url": "https://api.github.com/users/acdha/events{/privacy}", "received_events_url": "https://api.github.com/users/acdha/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "acdha", "id": 46565, "node_id": "MDQ6VXNlcjQ2NTY1", "avatar_url": "https://avatars.githubusercontent.com/u/46565?v=4", "gravatar_id": "", "url": "https://api.github.com/users/acdha", "html_url": "https://github.com/acdha", "followers_url": "https://api.github.com/users/acdha/followers", "following_url": "https://api.github.com/users/acdha/following{/other_user}", "gists_url": "https://api.github.com/users/acdha/gists{/gist_id}", "starred_url": "https://api.github.com/users/acdha/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/acdha/subscriptions", "organizations_url": "https://api.github.com/users/acdha/orgs", "repos_url": "https://api.github.com/users/acdha/repos", "events_url": "https://api.github.com/users/acdha/events{/privacy}", "received_events_url": "https://api.github.com/users/acdha/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2015-05-18T07:48:33Z", "updated_at": "2015-05-29T22:05:19Z", "closed_at": "2015-05-29T22:02:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "Check out this line:\nhttps://github.com/django-haystack/django-haystack/blob/master/haystack/management/commands/update_index.py#L281\n\nYou are paginating over the search queryset from 1 to N, and at the same time, you're removing stale documents. Let's say that you're on page X, and you removed N documents, when you move forward to the next page X+1, you would have missed N documents that would have been on the next page, but they moved forward because your performed the deletion from the previous page.\n\nI think you should do a pass through to find the document ids that should be removed, and then perform the actual remove afterwards in a separate pass.\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/1194/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/1194/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/1152", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/1152/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/1152/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/1152/events", "html_url": "https://github.com/django-haystack/django-haystack/issues/1152", "id": 60282058, "node_id": "MDU6SXNzdWU2MDI4MjA1OA==", "number": 1152, "title": "App checks are invalid", "user": {"login": "dcramer", "id": 23610, "node_id": "MDQ6VXNlcjIzNjEw", "avatar_url": "https://avatars.githubusercontent.com/u/23610?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcramer", "html_url": "https://github.com/dcramer", "followers_url": "https://api.github.com/users/dcramer/followers", "following_url": "https://api.github.com/users/dcramer/following{/other_user}", "gists_url": "https://api.github.com/users/dcramer/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcramer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcramer/subscriptions", "organizations_url": "https://api.github.com/users/dcramer/orgs", "repos_url": "https://api.github.com/users/dcramer/repos", "events_url": "https://api.github.com/users/dcramer/events{/privacy}", "received_events_url": "https://api.github.com/users/dcramer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}, {"id": 8216, "node_id": "MDU6TGFiZWw4MjE2", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/highpriority", "name": "highpriority", "color": "d93f0b", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "acdha", "id": 46565, "node_id": "MDQ6VXNlcjQ2NTY1", "avatar_url": "https://avatars.githubusercontent.com/u/46565?v=4", "gravatar_id": "", "url": "https://api.github.com/users/acdha", "html_url": "https://github.com/acdha", "followers_url": "https://api.github.com/users/acdha/followers", "following_url": "https://api.github.com/users/acdha/following{/other_user}", "gists_url": "https://api.github.com/users/acdha/gists{/gist_id}", "starred_url": "https://api.github.com/users/acdha/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/acdha/subscriptions", "organizations_url": "https://api.github.com/users/acdha/orgs", "repos_url": "https://api.github.com/users/acdha/repos", "events_url": "https://api.github.com/users/acdha/events{/privacy}", "received_events_url": "https://api.github.com/users/acdha/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "acdha", "id": 46565, "node_id": "MDQ6VXNlcjQ2NTY1", "avatar_url": "https://avatars.githubusercontent.com/u/46565?v=4", "gravatar_id": "", "url": "https://api.github.com/users/acdha", "html_url": "https://github.com/acdha", "followers_url": "https://api.github.com/users/acdha/followers", "following_url": "https://api.github.com/users/acdha/following{/other_user}", "gists_url": "https://api.github.com/users/acdha/gists{/gist_id}", "starred_url": "https://api.github.com/users/acdha/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/acdha/subscriptions", "organizations_url": "https://api.github.com/users/acdha/orgs", "repos_url": "https://api.github.com/users/acdha/repos", "events_url": "https://api.github.com/users/acdha/events{/privacy}", "received_events_url": "https://api.github.com/users/acdha/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/django-haystack/django-haystack/milestones/11", "html_url": "https://github.com/django-haystack/django-haystack/milestone/11", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/milestones/11/labels", "id": 741343, "node_id": "MDk6TWlsZXN0b25lNzQxMzQz", "number": 11, "title": "v2.4.0", "description": null, "creator": {"login": "acdha", "id": 46565, "node_id": "MDQ6VXNlcjQ2NTY1", "avatar_url": "https://avatars.githubusercontent.com/u/46565?v=4", "gravatar_id": "", "url": "https://api.github.com/users/acdha", "html_url": "https://github.com/acdha", "followers_url": "https://api.github.com/users/acdha/followers", "following_url": "https://api.github.com/users/acdha/following{/other_user}", "gists_url": "https://api.github.com/users/acdha/gists{/gist_id}", "starred_url": "https://api.github.com/users/acdha/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/acdha/subscriptions", "organizations_url": "https://api.github.com/users/acdha/orgs", "repos_url": "https://api.github.com/users/acdha/repos", "events_url": "https://api.github.com/users/acdha/events{/privacy}", "received_events_url": "https://api.github.com/users/acdha/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 29, "state": "open", "created_at": "2014-08-03T23:26:06Z", "updated_at": "2015-06-05T13:39:15Z", "due_on": null, "closed_at": null}, "comments": 7, "created_at": "2015-03-08T23:14:52Z", "updated_at": "2015-06-05T13:40:16Z", "closed_at": "2015-03-14T20:19:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "https://github.com/django-haystack/django-haystack/blob/master/haystack/utils/app_loading.py#L14\n\nAs an example, raven-python's app name is \"raven.contrib.django.raven_compat\", so the length checks here will fail hard.\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/1152/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/1152/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/1149", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/1149/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/1149/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/1149/events", "html_url": "https://github.com/django-haystack/django-haystack/pull/1149", "id": 59603040, "node_id": "MDExOlB1bGxSZXF1ZXN0MzAzNTA2ODk=", "number": 1149, "title": "FacetedSearchMixin bugfixes and improvements - facet_fields attribute added", "user": {"login": "lovmat", "id": 4735449, "node_id": "MDQ6VXNlcjQ3MzU0NDk=", "avatar_url": "https://avatars.githubusercontent.com/u/4735449?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lovmat", "html_url": "https://github.com/lovmat", "followers_url": "https://api.github.com/users/lovmat/followers", "following_url": "https://api.github.com/users/lovmat/following{/other_user}", "gists_url": "https://api.github.com/users/lovmat/gists{/gist_id}", "starred_url": "https://api.github.com/users/lovmat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lovmat/subscriptions", "organizations_url": "https://api.github.com/users/lovmat/orgs", "repos_url": "https://api.github.com/users/lovmat/repos", "events_url": "https://api.github.com/users/lovmat/events{/privacy}", "received_events_url": "https://api.github.com/users/lovmat/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}, {"id": 405656609, "node_id": "MDU6TGFiZWw0MDU2NTY2MDk=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/views", "name": "views", "color": "c5def5", "default": false, "description": null}, {"id": 405665164, "node_id": "MDU6TGFiZWw0MDU2NjUxNjQ=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/facet", "name": "facet", "color": "fef2c0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "acdha", "id": 46565, "node_id": "MDQ6VXNlcjQ2NTY1", "avatar_url": "https://avatars.githubusercontent.com/u/46565?v=4", "gravatar_id": "", "url": "https://api.github.com/users/acdha", "html_url": "https://github.com/acdha", "followers_url": "https://api.github.com/users/acdha/followers", "following_url": "https://api.github.com/users/acdha/following{/other_user}", "gists_url": "https://api.github.com/users/acdha/gists{/gist_id}", "starred_url": "https://api.github.com/users/acdha/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/acdha/subscriptions", "organizations_url": "https://api.github.com/users/acdha/orgs", "repos_url": "https://api.github.com/users/acdha/repos", "events_url": "https://api.github.com/users/acdha/events{/privacy}", "received_events_url": "https://api.github.com/users/acdha/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "acdha", "id": 46565, "node_id": "MDQ6VXNlcjQ2NTY1", "avatar_url": "https://avatars.githubusercontent.com/u/46565?v=4", "gravatar_id": "", "url": "https://api.github.com/users/acdha", "html_url": "https://github.com/acdha", "followers_url": "https://api.github.com/users/acdha/followers", "following_url": "https://api.github.com/users/acdha/following{/other_user}", "gists_url": "https://api.github.com/users/acdha/gists{/gist_id}", "starred_url": "https://api.github.com/users/acdha/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/acdha/subscriptions", "organizations_url": "https://api.github.com/users/acdha/orgs", "repos_url": "https://api.github.com/users/acdha/repos", "events_url": "https://api.github.com/users/acdha/events{/privacy}", "received_events_url": "https://api.github.com/users/acdha/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2015-03-03T06:56:33Z", "updated_at": "2016-07-10T22:05:15Z", "closed_at": "2015-08-10T13:53:09Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/django-haystack/django-haystack/pulls/1149", "html_url": "https://github.com/django-haystack/django-haystack/pull/1149", "diff_url": "https://github.com/django-haystack/django-haystack/pull/1149.diff", "patch_url": "https://github.com/django-haystack/django-haystack/pull/1149.patch", "merged_at": "2015-08-10T13:53:09Z"}, "body": "", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/1149/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/1149/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/1125", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/1125/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/1125/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/1125/events", "html_url": "https://github.com/django-haystack/django-haystack/issues/1125", "id": 52620792, "node_id": "MDU6SXNzdWU1MjYyMDc5Mg==", "number": 1125, "title": "Haystack is broken with Django 1.7 AppConfig", "user": {"login": "jsma", "id": 24574, "node_id": "MDQ6VXNlcjI0NTc0", "avatar_url": "https://avatars.githubusercontent.com/u/24574?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsma", "html_url": "https://github.com/jsma", "followers_url": "https://api.github.com/users/jsma/followers", "following_url": "https://api.github.com/users/jsma/following{/other_user}", "gists_url": "https://api.github.com/users/jsma/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsma/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsma/subscriptions", "organizations_url": "https://api.github.com/users/jsma/orgs", "repos_url": "https://api.github.com/users/jsma/repos", "events_url": "https://api.github.com/users/jsma/events{/privacy}", "received_events_url": "https://api.github.com/users/jsma/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}, {"id": 14924, "node_id": "MDU6TGFiZWwxNDkyNA==", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/refactor", "name": "refactor", "color": "006b75", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "acdha", "id": 46565, "node_id": "MDQ6VXNlcjQ2NTY1", "avatar_url": "https://avatars.githubusercontent.com/u/46565?v=4", "gravatar_id": "", "url": "https://api.github.com/users/acdha", "html_url": "https://github.com/acdha", "followers_url": "https://api.github.com/users/acdha/followers", "following_url": "https://api.github.com/users/acdha/following{/other_user}", "gists_url": "https://api.github.com/users/acdha/gists{/gist_id}", "starred_url": "https://api.github.com/users/acdha/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/acdha/subscriptions", "organizations_url": "https://api.github.com/users/acdha/orgs", "repos_url": "https://api.github.com/users/acdha/repos", "events_url": "https://api.github.com/users/acdha/events{/privacy}", "received_events_url": "https://api.github.com/users/acdha/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "acdha", "id": 46565, "node_id": "MDQ6VXNlcjQ2NTY1", "avatar_url": "https://avatars.githubusercontent.com/u/46565?v=4", "gravatar_id": "", "url": "https://api.github.com/users/acdha", "html_url": "https://github.com/acdha", "followers_url": "https://api.github.com/users/acdha/followers", "following_url": "https://api.github.com/users/acdha/following{/other_user}", "gists_url": "https://api.github.com/users/acdha/gists{/gist_id}", "starred_url": "https://api.github.com/users/acdha/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/acdha/subscriptions", "organizations_url": "https://api.github.com/users/acdha/orgs", "repos_url": "https://api.github.com/users/acdha/repos", "events_url": "https://api.github.com/users/acdha/events{/privacy}", "received_events_url": "https://api.github.com/users/acdha/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/django-haystack/django-haystack/milestones/11", "html_url": "https://github.com/django-haystack/django-haystack/milestone/11", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/milestones/11/labels", "id": 741343, "node_id": "MDk6TWlsZXN0b25lNzQxMzQz", "number": 11, "title": "v2.4.0", "description": null, "creator": {"login": "acdha", "id": 46565, "node_id": "MDQ6VXNlcjQ2NTY1", "avatar_url": "https://avatars.githubusercontent.com/u/46565?v=4", "gravatar_id": "", "url": "https://api.github.com/users/acdha", "html_url": "https://github.com/acdha", "followers_url": "https://api.github.com/users/acdha/followers", "following_url": "https://api.github.com/users/acdha/following{/other_user}", "gists_url": "https://api.github.com/users/acdha/gists{/gist_id}", "starred_url": "https://api.github.com/users/acdha/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/acdha/subscriptions", "organizations_url": "https://api.github.com/users/acdha/orgs", "repos_url": "https://api.github.com/users/acdha/repos", "events_url": "https://api.github.com/users/acdha/events{/privacy}", "received_events_url": "https://api.github.com/users/acdha/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 29, "state": "open", "created_at": "2014-08-03T23:26:06Z", "updated_at": "2015-06-05T13:39:15Z", "due_on": null, "closed_at": null}, "comments": 6, "created_at": "2014-12-22T05:23:01Z", "updated_at": "2015-06-05T13:40:20Z", "closed_at": "2015-03-14T20:19:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "The app autodiscover code is broken when using Django 1.7's AppConfig. The code attempts to `importlib.import_module(app)` [here](https://github.com/django-haystack/django-haystack/blob/be67c37e3d23eed96d675e0c56e85eb6de0d484b/haystack/utils/loading.py#L172-L182) but this fails if the user has 'myapp.apps.MyAppConfig' in INSTALLED_APPS. \n\nDjango 1.7 converts all apps to AppConfig instances so the code should probably branch for 1.7 vs Django<1.7 and make use of the app registry for 1.7+. For now, I'll change my INSTALLED_APPS to use old-school 'project.app' notation so I can get on with my life but noticed [Django's admin](https://github.com/django/django/blob/master/django/utils/module_loading.py#L53) has a way of discovering admin.py files, perhaps this or something like this could be repurposed to do things the 'right' way with Django 1.7+.\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/1125/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/1125/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/1097", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/1097/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/1097/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/1097/events", "html_url": "https://github.com/django-haystack/django-haystack/issues/1097", "id": 46910517, "node_id": "MDU6SXNzdWU0NjkxMDUxNw==", "number": 1097, "title": "LookupError with Django 1.7 and an app without models.py", "user": {"login": "deschler", "id": 419162, "node_id": "MDQ6VXNlcjQxOTE2Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/419162?v=4", "gravatar_id": "", "url": "https://api.github.com/users/deschler", "html_url": "https://github.com/deschler", "followers_url": "https://api.github.com/users/deschler/followers", "following_url": "https://api.github.com/users/deschler/following{/other_user}", "gists_url": "https://api.github.com/users/deschler/gists{/gist_id}", "starred_url": "https://api.github.com/users/deschler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/deschler/subscriptions", "organizations_url": "https://api.github.com/users/deschler/orgs", "repos_url": "https://api.github.com/users/deschler/repos", "events_url": "https://api.github.com/users/deschler/events{/privacy}", "received_events_url": "https://api.github.com/users/deschler/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}, {"id": 8216, "node_id": "MDU6TGFiZWw4MjE2", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/highpriority", "name": "highpriority", "color": "d93f0b", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/django-haystack/django-haystack/milestones/11", "html_url": "https://github.com/django-haystack/django-haystack/milestone/11", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/milestones/11/labels", "id": 741343, "node_id": "MDk6TWlsZXN0b25lNzQxMzQz", "number": 11, "title": "v2.4.0", "description": null, "creator": {"login": "acdha", "id": 46565, "node_id": "MDQ6VXNlcjQ2NTY1", "avatar_url": "https://avatars.githubusercontent.com/u/46565?v=4", "gravatar_id": "", "url": "https://api.github.com/users/acdha", "html_url": "https://github.com/acdha", "followers_url": "https://api.github.com/users/acdha/followers", "following_url": "https://api.github.com/users/acdha/following{/other_user}", "gists_url": "https://api.github.com/users/acdha/gists{/gist_id}", "starred_url": "https://api.github.com/users/acdha/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/acdha/subscriptions", "organizations_url": "https://api.github.com/users/acdha/orgs", "repos_url": "https://api.github.com/users/acdha/repos", "events_url": "https://api.github.com/users/acdha/events{/privacy}", "received_events_url": "https://api.github.com/users/acdha/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 29, "state": "open", "created_at": "2014-08-03T23:26:06Z", "updated_at": "2015-06-05T13:39:15Z", "due_on": null, "closed_at": null}, "comments": 37, "created_at": "2014-10-27T14:22:09Z", "updated_at": "2015-06-05T14:36:23Z", "closed_at": "2015-01-22T15:37:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm in the process of upgrading a project to Django 1.7. Rebuilding or updating the haystack index fails in combination with django-grappelli's dashboard. Please note, that in latest grappelli, the dashboard module/app doesn't have a models.py (which is allowed in Django 1.7 as far as i understand).\n\n```\n$ ./manage.py rebuild_index\n\nWARNING: This will irreparably remove EVERYTHING from your search index in connection 'default'.\nYour choices after this are to restore from backups or rebuild via the `rebuild_index` command.\nAre you sure you wish to continue? [y/N] y\nRemoving all documents from your index because you said so.\nAll documents removed.\nERROR:root:Error updating grappelli.dashboard using default \nTraceback (most recent call last):\nFile \"/path/to/env/local/lib/python2.7/site-packages/haystack/management/commands/update_index.py\", line 189, in handle_label\n    self.update_backend(label, using)\nFile \"/path/to/env/local/lib/python2.7/site-packages/haystack/management/commands/update_index.py\", line 203, in update_backend\n    for model in get_models(label):\nFile \"/path/to/env/local/lib/python2.7/site-packages/haystack/utils/app_loading.py\", line 41, in get_models\n    return [apps.get_app_config(app_label).get_model(model_name)]\nFile \"/path/to/env/local/lib/python2.7/site-packages/django/apps/config.py\", line 166, in get_model\n    \"App '%s' doesn't have a '%s' model.\" % (self.label, model_name))\nLookupError: App 'grappelli' doesn't have a 'dashboard' model.\nTraceback (most recent call last):\nFile \"./manage.py\", line 10, in <module>\n    execute_from_command_line(sys.argv)\nFile \"/path/to/env/local/lib/python2.7/site-packages/django/core/management/__init__.py\", line 385, in execute_from_command_line\n    utility.execute()\nFile \"/path/to/env/local/lib/python2.7/site-packages/django/core/management/__init__.py\", line 377, in execute\n    self.fetch_command(subcommand).run_from_argv(self.argv)\nFile \"/path/to/env/local/lib/python2.7/site-packages/django/core/management/base.py\", line 288, in run_from_argv\n    self.execute(*args, **options.__dict__)\nFile \"/path/to/env/local/lib/python2.7/site-packages/django/core/management/base.py\", line 338, in execute\n    output = self.handle(*args, **options)\nFile \"/path/to/env/local/lib/python2.7/site-packages/haystack/management/commands/rebuild_index.py\", line 16, in handle\n    call_command('update_index', **options)\nFile \"/path/to/env/local/lib/python2.7/site-packages/django/core/management/__init__.py\", line 115, in call_command\n    return klass.execute(*args, **defaults)\nFile \"/path/to/env/local/lib/python2.7/site-packages/django/core/management/base.py\", line 338, in execute\n    output = self.handle(*args, **options)\nFile \"/path/to/env/local/lib/python2.7/site-packages/haystack/management/commands/update_index.py\", line 184, in handle\n    return super(Command, self).handle(*items, **options)\nFile \"/path/to/env/local/lib/python2.7/site-packages/django/core/management/base.py\", line 503, in handle\n    label_output = self.handle_label(label, **options)\nFile \"/path/to/env/local/lib/python2.7/site-packages/haystack/management/commands/update_index.py\", line 189, in handle_label\n    self.update_backend(label, using)\nFile \"/path/to/env/local/lib/python2.7/site-packages/haystack/management/commands/update_index.py\", line 203, in update_backend\n    for model in get_models(label):\nFile \"/path/to/env/local/lib/python2.7/site-packages/haystack/utils/app_loading.py\", line 41, in get_models\n    return [apps.get_app_config(app_label).get_model(model_name)]\nFile \"/path/to/env/local/lib/python2.7/site-packages/django/apps/config.py\", line 166, in get_model\n    \"App '%s' doesn't have a '%s' model.\" % (self.label, model_name))\nLookupError: App 'grappelli' doesn't have a 'dashboard' model.\n```\n\nDjango: 1.7.1\ndjango-haystack: 2.3.1\ndjango-grappelli: 2.6.2\n\n```\nINSTALLED_APPS = (\n    'grappelli.dashboard',\n    'grappelli',\n    # ...\n    'haystack',\n)\n```\n\nThe management command works when `'grappelli.dashboard'` is removed from INSTALLED_APPS.\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/1097/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/1097/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/1094", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/1094/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/1094/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/1094/events", "html_url": "https://github.com/django-haystack/django-haystack/pull/1094", "id": 46619658, "node_id": "MDExOlB1bGxSZXF1ZXN0MjMyMjQ5Mzk=", "number": 1094, "title": "Fixed exception message when resolving model_attr", "user": {"login": "wicol", "id": 1991586, "node_id": "MDQ6VXNlcjE5OTE1ODY=", "avatar_url": "https://avatars.githubusercontent.com/u/1991586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wicol", "html_url": "https://github.com/wicol", "followers_url": "https://api.github.com/users/wicol/followers", "following_url": "https://api.github.com/users/wicol/following{/other_user}", "gists_url": "https://api.github.com/users/wicol/gists{/gist_id}", "starred_url": "https://api.github.com/users/wicol/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wicol/subscriptions", "organizations_url": "https://api.github.com/users/wicol/orgs", "repos_url": "https://api.github.com/users/wicol/repos", "events_url": "https://api.github.com/users/wicol/events{/privacy}", "received_events_url": "https://api.github.com/users/wicol/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}, {"id": 31496, "node_id": "MDU6TGFiZWwzMTQ5Ng==", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/simple", "name": "simple", "color": "c2e0c6", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/django-haystack/django-haystack/milestones/11", "html_url": "https://github.com/django-haystack/django-haystack/milestone/11", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/milestones/11/labels", "id": 741343, "node_id": "MDk6TWlsZXN0b25lNzQxMzQz", "number": 11, "title": "v2.4.0", "description": null, "creator": {"login": "acdha", "id": 46565, "node_id": "MDQ6VXNlcjQ2NTY1", "avatar_url": "https://avatars.githubusercontent.com/u/46565?v=4", "gravatar_id": "", "url": "https://api.github.com/users/acdha", "html_url": "https://github.com/acdha", "followers_url": "https://api.github.com/users/acdha/followers", "following_url": "https://api.github.com/users/acdha/following{/other_user}", "gists_url": "https://api.github.com/users/acdha/gists{/gist_id}", "starred_url": "https://api.github.com/users/acdha/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/acdha/subscriptions", "organizations_url": "https://api.github.com/users/acdha/orgs", "repos_url": "https://api.github.com/users/acdha/repos", "events_url": "https://api.github.com/users/acdha/events{/privacy}", "received_events_url": "https://api.github.com/users/acdha/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 29, "state": "open", "created_at": "2014-08-03T23:26:06Z", "updated_at": "2015-06-05T13:39:15Z", "due_on": null, "closed_at": null}, "comments": 0, "created_at": "2014-10-23T12:37:53Z", "updated_at": "2015-02-03T02:21:27Z", "closed_at": "2015-01-21T22:27:38Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/django-haystack/django-haystack/pulls/1094", "html_url": "https://github.com/django-haystack/django-haystack/pull/1094", "diff_url": "https://github.com/django-haystack/django-haystack/pull/1094.diff", "patch_url": "https://github.com/django-haystack/django-haystack/pull/1094.patch", "merged_at": null}, "body": "Should make it easier to debug\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/1094/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/1094/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/1034", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/1034/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/1034/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/1034/events", "html_url": "https://github.com/django-haystack/django-haystack/issues/1034", "id": 38356384, "node_id": "MDU6SXNzdWUzODM1NjM4NA==", "number": 1034, "title": "connection_router is not actually a singleton when custom routers are used", "user": {"login": "phill-tornroth", "id": 220325, "node_id": "MDQ6VXNlcjIyMDMyNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/220325?v=4", "gravatar_id": "", "url": "https://api.github.com/users/phill-tornroth", "html_url": "https://github.com/phill-tornroth", "followers_url": "https://api.github.com/users/phill-tornroth/followers", "following_url": "https://api.github.com/users/phill-tornroth/following{/other_user}", "gists_url": "https://api.github.com/users/phill-tornroth/gists{/gist_id}", "starred_url": "https://api.github.com/users/phill-tornroth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/phill-tornroth/subscriptions", "organizations_url": "https://api.github.com/users/phill-tornroth/orgs", "repos_url": "https://api.github.com/users/phill-tornroth/repos", "events_url": "https://api.github.com/users/phill-tornroth/events{/privacy}", "received_events_url": "https://api.github.com/users/phill-tornroth/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/django-haystack/django-haystack/milestones/12", "html_url": "https://github.com/django-haystack/django-haystack/milestone/12", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/milestones/12/labels", "id": 946036, "node_id": "MDk6TWlsZXN0b25lOTQ2MDM2", "number": 12, "title": "v2.5.0", "description": "", "creator": {"login": "acdha", "id": 46565, "node_id": "MDQ6VXNlcjQ2NTY1", "avatar_url": "https://avatars.githubusercontent.com/u/46565?v=4", "gravatar_id": "", "url": "https://api.github.com/users/acdha", "html_url": "https://github.com/acdha", "followers_url": "https://api.github.com/users/acdha/followers", "following_url": "https://api.github.com/users/acdha/following{/other_user}", "gists_url": "https://api.github.com/users/acdha/gists{/gist_id}", "starred_url": "https://api.github.com/users/acdha/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/acdha/subscriptions", "organizations_url": "https://api.github.com/users/acdha/orgs", "repos_url": "https://api.github.com/users/acdha/repos", "events_url": "https://api.github.com/users/acdha/events{/privacy}", "received_events_url": "https://api.github.com/users/acdha/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 8, "state": "open", "created_at": "2015-01-21T22:04:32Z", "updated_at": "2016-10-05T13:29:02Z", "due_on": null, "closed_at": null}, "comments": 8, "created_at": "2014-07-21T23:45:13Z", "updated_at": "2016-02-16T17:34:04Z", "closed_at": "2016-02-16T17:34:04Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "In haystack/**init**.py a pattern is employed where connection_router is assigned to a ConnectionRouter instance with no custom routers, and then if settings says so we'll create a ConnectionRouter with the custom classes.\n\nProblem is, ConnectionRouter constructs those custom Router classes.. and there's a pretty good chance they live in modules that (directly or indirectly) import some haystack stuff (lots of my haystack customization was in the same module of mine).\n\nWhen that happens it's likely that things like haystack/indexes are gonna do a `from haystack import connections, connection_router` and permanently end up with the empty connection_router instance, which the stack is currently attempting to replace.\n\nIn my eyes, the only really solid solution is to make it impossible for there to be two instances assigned to haystack.connection_router at different times. The most reasonable way I came up with for doing that is to lazily load the router classes at first-use.\n\nHere's the commit on my fork, which is branched off of v2.0.0 at the moment. I'm happy to open up a pull request also but the routing functionality seems potentially experimental and without tests (unless I've overlooked them). So figured I'd open the issue first instead and see what folks think.\n\nhttps://github.com/phill-tornroth/django-haystack/commit/12536f4ee50c13786f70343dde72391a017212f7\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/1034/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/1034/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/960", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/960/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/960/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/960/events", "html_url": "https://github.com/django-haystack/django-haystack/pull/960", "id": 28389375, "node_id": "MDExOlB1bGxSZXF1ZXN0MTI5ODUzMjU=", "number": 960, "title": "Fix handling of slices in RelatedSearchQuerySet.", "user": {"login": "craigds", "id": 32112, "node_id": "MDQ6VXNlcjMyMTEy", "avatar_url": "https://avatars.githubusercontent.com/u/32112?v=4", "gravatar_id": "", "url": "https://api.github.com/users/craigds", "html_url": "https://github.com/craigds", "followers_url": "https://api.github.com/users/craigds/followers", "following_url": "https://api.github.com/users/craigds/following{/other_user}", "gists_url": "https://api.github.com/users/craigds/gists{/gist_id}", "starred_url": "https://api.github.com/users/craigds/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/craigds/subscriptions", "organizations_url": "https://api.github.com/users/craigds/orgs", "repos_url": "https://api.github.com/users/craigds/repos", "events_url": "https://api.github.com/users/craigds/events{/privacy}", "received_events_url": "https://api.github.com/users/craigds/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-02-27T02:35:08Z", "updated_at": "2015-11-11T20:13:24Z", "closed_at": "2015-11-11T20:13:20Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/django-haystack/django-haystack/pulls/960", "html_url": "https://github.com/django-haystack/django-haystack/pull/960", "diff_url": "https://github.com/django-haystack/django-haystack/pull/960.diff", "patch_url": "https://github.com/django-haystack/django-haystack/pull/960.patch", "merged_at": null}, "body": "We found whenever you do ?page=100 with RelatedSearchQuerySet, it will load all the results from all 100 pages in multiple solr queries (the exact number of solr queries is dependent on settings.HAYSTACK_ITERATOR_LOAD_PER_QUERY)\n\nNeedless to say that's not desired. This fixes the issues, and along the way gets rid of a heap of code duplicated from SearchQuerySet.\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/960/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/960/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/959", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/959/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/959/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/959/events", "html_url": "https://github.com/django-haystack/django-haystack/pull/959", "id": 28389313, "node_id": "MDExOlB1bGxSZXF1ZXN0MTI5ODUyOTE=", "number": 959, "title": "Fix concurrency issues.", "user": {"login": "craigds", "id": 32112, "node_id": "MDQ6VXNlcjMyMTEy", "avatar_url": "https://avatars.githubusercontent.com/u/32112?v=4", "gravatar_id": "", "url": "https://api.github.com/users/craigds", "html_url": "https://github.com/craigds", "followers_url": "https://api.github.com/users/craigds/followers", "following_url": "https://api.github.com/users/craigds/following{/other_user}", "gists_url": "https://api.github.com/users/craigds/gists{/gist_id}", "starred_url": "https://api.github.com/users/craigds/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/craigds/subscriptions", "organizations_url": "https://api.github.com/users/craigds/orgs", "repos_url": "https://api.github.com/users/craigds/repos", "events_url": "https://api.github.com/users/craigds/events{/privacy}", "received_events_url": "https://api.github.com/users/craigds/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}, {"id": 8216, "node_id": "MDU6TGFiZWw4MjE2", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/highpriority", "name": "highpriority", "color": "d93f0b", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/django-haystack/django-haystack/milestones/12", "html_url": "https://github.com/django-haystack/django-haystack/milestone/12", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/milestones/12/labels", "id": 946036, "node_id": "MDk6TWlsZXN0b25lOTQ2MDM2", "number": 12, "title": "v2.5.0", "description": "", "creator": {"login": "acdha", "id": 46565, "node_id": "MDQ6VXNlcjQ2NTY1", "avatar_url": "https://avatars.githubusercontent.com/u/46565?v=4", "gravatar_id": "", "url": "https://api.github.com/users/acdha", "html_url": "https://github.com/acdha", "followers_url": "https://api.github.com/users/acdha/followers", "following_url": "https://api.github.com/users/acdha/following{/other_user}", "gists_url": "https://api.github.com/users/acdha/gists{/gist_id}", "starred_url": "https://api.github.com/users/acdha/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/acdha/subscriptions", "organizations_url": "https://api.github.com/users/acdha/orgs", "repos_url": "https://api.github.com/users/acdha/repos", "events_url": "https://api.github.com/users/acdha/events{/privacy}", "received_events_url": "https://api.github.com/users/acdha/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 8, "state": "open", "created_at": "2015-01-21T22:04:32Z", "updated_at": "2016-10-05T13:29:02Z", "due_on": null, "closed_at": null}, "comments": 15, "created_at": "2014-02-27T02:33:41Z", "updated_at": "2016-02-17T08:50:10Z", "closed_at": "2016-02-16T17:34:04Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/django-haystack/django-haystack/pulls/959", "html_url": "https://github.com/django-haystack/django-haystack/pull/959", "diff_url": "https://github.com/django-haystack/django-haystack/pull/959.diff", "patch_url": "https://github.com/django-haystack/django-haystack/pull/959.patch", "merged_at": null}, "body": "We were getting this error a lot when under load in a multithreaded\nwsgi environment:\n\n```\nModel '%s' has more than one 'SearchIndex`` handling it.\n```\n\nTurns out the connections in haystack.connections and the\nUnifiedIndex instance were stored globally. However there is a race\ncondition in UnifiedIndex.build() when multiple threads both build()\nat once, resulting in the above error.\n\nBest fix is to never share the same engine or UnifiedIndex across\nmultiple threads. This commit does that.\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/959/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/959/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/851", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/851/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/851/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/851/events", "html_url": "https://github.com/django-haystack/django-haystack/pull/851", "id": 18494861, "node_id": "MDExOlB1bGxSZXF1ZXN0NzgzMzg0OQ==", "number": 851, "title": "UnifiedIndex.indexes is unpredictable for external callers", "user": {"login": "phill-tornroth", "id": 220325, "node_id": "MDQ6VXNlcjIyMDMyNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/220325?v=4", "gravatar_id": "", "url": "https://api.github.com/users/phill-tornroth", "html_url": "https://github.com/phill-tornroth", "followers_url": "https://api.github.com/users/phill-tornroth/followers", "following_url": "https://api.github.com/users/phill-tornroth/following{/other_user}", "gists_url": "https://api.github.com/users/phill-tornroth/gists{/gist_id}", "starred_url": "https://api.github.com/users/phill-tornroth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/phill-tornroth/subscriptions", "organizations_url": "https://api.github.com/users/phill-tornroth/orgs", "repos_url": "https://api.github.com/users/phill-tornroth/repos", "events_url": "https://api.github.com/users/phill-tornroth/events{/privacy}", "received_events_url": "https://api.github.com/users/phill-tornroth/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "acdha", "id": 46565, "node_id": "MDQ6VXNlcjQ2NTY1", "avatar_url": "https://avatars.githubusercontent.com/u/46565?v=4", "gravatar_id": "", "url": "https://api.github.com/users/acdha", "html_url": "https://github.com/acdha", "followers_url": "https://api.github.com/users/acdha/followers", "following_url": "https://api.github.com/users/acdha/following{/other_user}", "gists_url": "https://api.github.com/users/acdha/gists{/gist_id}", "starred_url": "https://api.github.com/users/acdha/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/acdha/subscriptions", "organizations_url": "https://api.github.com/users/acdha/orgs", "repos_url": "https://api.github.com/users/acdha/repos", "events_url": "https://api.github.com/users/acdha/events{/privacy}", "received_events_url": "https://api.github.com/users/acdha/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "acdha", "id": 46565, "node_id": "MDQ6VXNlcjQ2NTY1", "avatar_url": "https://avatars.githubusercontent.com/u/46565?v=4", "gravatar_id": "", "url": "https://api.github.com/users/acdha", "html_url": "https://github.com/acdha", "followers_url": "https://api.github.com/users/acdha/followers", "following_url": "https://api.github.com/users/acdha/following{/other_user}", "gists_url": "https://api.github.com/users/acdha/gists{/gist_id}", "starred_url": "https://api.github.com/users/acdha/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/acdha/subscriptions", "organizations_url": "https://api.github.com/users/acdha/orgs", "repos_url": "https://api.github.com/users/acdha/repos", "events_url": "https://api.github.com/users/acdha/events{/privacy}", "received_events_url": "https://api.github.com/users/acdha/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/django-haystack/django-haystack/milestones/11", "html_url": "https://github.com/django-haystack/django-haystack/milestone/11", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/milestones/11/labels", "id": 741343, "node_id": "MDk6TWlsZXN0b25lNzQxMzQz", "number": 11, "title": "v2.4.0", "description": null, "creator": {"login": "acdha", "id": 46565, "node_id": "MDQ6VXNlcjQ2NTY1", "avatar_url": "https://avatars.githubusercontent.com/u/46565?v=4", "gravatar_id": "", "url": "https://api.github.com/users/acdha", "html_url": "https://github.com/acdha", "followers_url": "https://api.github.com/users/acdha/followers", "following_url": "https://api.github.com/users/acdha/following{/other_user}", "gists_url": "https://api.github.com/users/acdha/gists{/gist_id}", "starred_url": "https://api.github.com/users/acdha/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/acdha/subscriptions", "organizations_url": "https://api.github.com/users/acdha/orgs", "repos_url": "https://api.github.com/users/acdha/repos", "events_url": "https://api.github.com/users/acdha/events{/privacy}", "received_events_url": "https://api.github.com/users/acdha/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 29, "state": "open", "created_at": "2014-08-03T23:26:06Z", "updated_at": "2015-06-05T13:39:15Z", "due_on": null, "closed_at": null}, "comments": 5, "created_at": "2013-08-23T22:00:47Z", "updated_at": "2015-02-03T22:30:08Z", "closed_at": "2015-02-03T22:30:08Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/django-haystack/django-haystack/pulls/851", "html_url": "https://github.com/django-haystack/django-haystack/pull/851", "diff_url": "https://github.com/django-haystack/django-haystack/pull/851.diff", "patch_url": "https://github.com/django-haystack/django-haystack/pull/851.patch", "merged_at": null}, "body": "I ran into a tricky bug whilst upgrading to Haystack2. My unit tests were failing because I have some stuff that depends on getting all of the indexes (something that used to be done via site.get_indexes()). When I looked into it I realized that `connections[using].get_unified_index().indexes` would be an empty dict if called early enough. After calling `connections[using].get_indexed_models()` (or anything that does the `.build()` indexes would be populated.\n\nI think it might be worth considering something like what I'm scratched together here. Proposing a `get_indexes()` method for external (and even internal) callers that will do a build if needed. Along with renaming the `index` property to `_index` to make folks wary of using it.\n\nThoughts?\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/851/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/851/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/825", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/825/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/825/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/825/events", "html_url": "https://github.com/django-haystack/django-haystack/pull/825", "id": 16716698, "node_id": "MDExOlB1bGxSZXF1ZXN0NjkwOTg5Ng==", "number": 825, "title": "Bugfix for index_fieldname argument which didn't have behaviour mentioned in the doc", "user": {"login": "jarig", "id": 375519, "node_id": "MDQ6VXNlcjM3NTUxOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/375519?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jarig", "html_url": "https://github.com/jarig", "followers_url": "https://api.github.com/users/jarig/followers", "following_url": "https://api.github.com/users/jarig/following{/other_user}", "gists_url": "https://api.github.com/users/jarig/gists{/gist_id}", "starred_url": "https://api.github.com/users/jarig/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jarig/subscriptions", "organizations_url": "https://api.github.com/users/jarig/orgs", "repos_url": "https://api.github.com/users/jarig/repos", "events_url": "https://api.github.com/users/jarig/events{/privacy}", "received_events_url": "https://api.github.com/users/jarig/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/django-haystack/django-haystack/milestones/11", "html_url": "https://github.com/django-haystack/django-haystack/milestone/11", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/milestones/11/labels", "id": 741343, "node_id": "MDk6TWlsZXN0b25lNzQxMzQz", "number": 11, "title": "v2.4.0", "description": null, "creator": {"login": "acdha", "id": 46565, "node_id": "MDQ6VXNlcjQ2NTY1", "avatar_url": "https://avatars.githubusercontent.com/u/46565?v=4", "gravatar_id": "", "url": "https://api.github.com/users/acdha", "html_url": "https://github.com/acdha", "followers_url": "https://api.github.com/users/acdha/followers", "following_url": "https://api.github.com/users/acdha/following{/other_user}", "gists_url": "https://api.github.com/users/acdha/gists{/gist_id}", "starred_url": "https://api.github.com/users/acdha/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/acdha/subscriptions", "organizations_url": "https://api.github.com/users/acdha/orgs", "repos_url": "https://api.github.com/users/acdha/repos", "events_url": "https://api.github.com/users/acdha/events{/privacy}", "received_events_url": "https://api.github.com/users/acdha/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 29, "state": "open", "created_at": "2014-08-03T23:26:06Z", "updated_at": "2015-06-05T13:39:15Z", "due_on": null, "closed_at": null}, "comments": 4, "created_at": "2013-07-13T16:08:03Z", "updated_at": "2015-06-05T14:20:05Z", "closed_at": "2015-01-21T19:47:56Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/django-haystack/django-haystack/pulls/825", "html_url": "https://github.com/django-haystack/django-haystack/pull/825", "diff_url": "https://github.com/django-haystack/django-haystack/pull/825.diff", "patch_url": "https://github.com/django-haystack/django-haystack/pull/825.patch", "merged_at": null}, "body": "From doc:\n\n> \"The index_fieldname option allows you to force the name of the field in the index. This does not change how Haystack refers to the field. This is useful when using Solr\u2019s dynamic attributes or when integrating with other external software.\n> Default is variable name of the field within the SearchIndex.\"\n\nHowever, once index_fieldname is set it was possible to refer to the related field only using its value, but not declared in an index class field name.\nThis patch fixes this behavior, so that index_fieldname will affect only how indexed field is stored in a backend, while it will be possible to refer to it using declared in the index class field name.\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/825/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/825/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/754", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/754/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/754/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/754/events", "html_url": "https://github.com/django-haystack/django-haystack/issues/754", "id": 12106046, "node_id": "MDU6SXNzdWUxMjEwNjA0Ng==", "number": 754, "title": "Building docs raises an undefined label warning", "user": {"login": "benspaulding", "id": 21705, "node_id": "MDQ6VXNlcjIxNzA1", "avatar_url": "https://avatars.githubusercontent.com/u/21705?v=4", "gravatar_id": "", "url": "https://api.github.com/users/benspaulding", "html_url": "https://github.com/benspaulding", "followers_url": "https://api.github.com/users/benspaulding/followers", "following_url": "https://api.github.com/users/benspaulding/following{/other_user}", "gists_url": "https://api.github.com/users/benspaulding/gists{/gist_id}", "starred_url": "https://api.github.com/users/benspaulding/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/benspaulding/subscriptions", "organizations_url": "https://api.github.com/users/benspaulding/orgs", "repos_url": "https://api.github.com/users/benspaulding/repos", "events_url": "https://api.github.com/users/benspaulding/events{/privacy}", "received_events_url": "https://api.github.com/users/benspaulding/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}, {"id": 2677, "node_id": "MDU6TGFiZWwyNjc3", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/documentation", "name": "documentation", "color": "ffffff", "default": true, "description": null}, {"id": 31496, "node_id": "MDU6TGFiZWwzMTQ5Ng==", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/simple", "name": "simple", "color": "c2e0c6", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2013-03-17T08:04:26Z", "updated_at": "2015-02-03T02:21:26Z", "closed_at": "2013-03-17T17:09:43Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Using the master branch with Sphinx 1.1.3, I receive the following error when running `make html`:\n\n```\n/<path>/haystack/docs/tutorial.rst:377: \u21b5\nWARNING: undefined label: ref-searchqueryset-api \u21b5\n(if the link has no caption the label must precede a section header)\n```\n\nI see that in commit faacbcb, the `..` was removed from the beginning of the hyperlink target, making it a target no longer. I am not sure if it was a mistake or if there was other reasons necessitating that change, but adding the `..` back fixes the error for me. \n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/754/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/754/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/543", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/543/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/543/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/543/events", "html_url": "https://github.com/django-haystack/django-haystack/issues/543", "id": 3867974, "node_id": "MDU6SXNzdWUzODY3OTc0", "number": 543, "title": "more_like_this doesn't work with models()", "user": {"login": "ozkatz", "id": 205955, "node_id": "MDQ6VXNlcjIwNTk1NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/205955?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ozkatz", "html_url": "https://github.com/ozkatz", "followers_url": "https://api.github.com/users/ozkatz/followers", "following_url": "https://api.github.com/users/ozkatz/following{/other_user}", "gists_url": "https://api.github.com/users/ozkatz/gists{/gist_id}", "starred_url": "https://api.github.com/users/ozkatz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ozkatz/subscriptions", "organizations_url": "https://api.github.com/users/ozkatz/orgs", "repos_url": "https://api.github.com/users/ozkatz/repos", "events_url": "https://api.github.com/users/ozkatz/events{/privacy}", "received_events_url": "https://api.github.com/users/ozkatz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/django-haystack/django-haystack/milestones/5", "html_url": "https://github.com/django-haystack/django-haystack/milestone/5", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/milestones/5/labels", "id": 6989, "node_id": "MDk6TWlsZXN0b25lNjk4OQ==", "number": 5, "title": "v2.0.0", "description": "", "creator": {"login": "toastdriven", "id": 2449, "node_id": "MDQ6VXNlcjI0NDk=", "avatar_url": "https://avatars.githubusercontent.com/u/2449?v=4", "gravatar_id": "", "url": "https://api.github.com/users/toastdriven", "html_url": "https://github.com/toastdriven", "followers_url": "https://api.github.com/users/toastdriven/followers", "following_url": "https://api.github.com/users/toastdriven/following{/other_user}", "gists_url": "https://api.github.com/users/toastdriven/gists{/gist_id}", "starred_url": "https://api.github.com/users/toastdriven/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/toastdriven/subscriptions", "organizations_url": "https://api.github.com/users/toastdriven/orgs", "repos_url": "https://api.github.com/users/toastdriven/repos", "events_url": "https://api.github.com/users/toastdriven/events{/privacy}", "received_events_url": "https://api.github.com/users/toastdriven/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 76, "state": "closed", "created_at": "2011-05-03T16:55:24Z", "updated_at": "2013-05-12T05:57:57Z", "due_on": "2012-01-08T08:00:00Z", "closed_at": "2013-05-12T05:57:57Z"}, "comments": 2, "created_at": "2012-03-29T00:03:22Z", "updated_at": "2013-05-03T14:39:36Z", "closed_at": "2013-05-03T14:39:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "I can't seem to get `more_like_this()` to work in conjunction with `models()` - using the Solr backend.\nSeems like when I change the order of the two calls, I get different results:\n\nWhen I do `sqs.models(MyModel).more_like_this(instance)`, the resulting query does go to `/mlt` but I get results from all content types.\n\nWhen I reverse the order, e.g. `sqs.more_like_this(instance).models(MyModel)`, the resulting query includes only the desired content type (only instances of MyModel) but it's a normal `/select/` query, that has nothing to do with my instance (e.g. `q=*:*`).\n\nNormat `more_like_this()` calls that don't include `models()` work as desired.\n\nHope this is clear enough. I would be happy to supply more detail if needed (and thanks for all the awesomeness!)\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/543/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/543/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/329", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/329/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/329/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/329/events", "html_url": "https://github.com/django-haystack/django-haystack/issues/329", "id": 642456, "node_id": "MDU6SXNzdWU2NDI0NTY=", "number": 329, "title": "TypeError: sequence item 2: expected string, long found when doing a remove with age", "user": {"login": "gremmie", "id": 597739, "node_id": "MDQ6VXNlcjU5NzczOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/597739?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gremmie", "html_url": "https://github.com/gremmie", "followers_url": "https://api.github.com/users/gremmie/followers", "following_url": "https://api.github.com/users/gremmie/following{/other_user}", "gists_url": "https://api.github.com/users/gremmie/gists{/gist_id}", "starred_url": "https://api.github.com/users/gremmie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gremmie/subscriptions", "organizations_url": "https://api.github.com/users/gremmie/orgs", "repos_url": "https://api.github.com/users/gremmie/repos", "events_url": "https://api.github.com/users/gremmie/events{/privacy}", "received_events_url": "https://api.github.com/users/gremmie/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2011-03-03T04:10:18Z", "updated_at": "2011-03-03T05:58:26Z", "closed_at": "2011-03-03T05:58:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "In Haystack 1.1.0, this command:\n\n```\nmanage.py update_index --age=24 --remove --verbosity=2\n```\n\nProduced a stack trace:\n\n```\n    removing 2985.\n  Traceback (most recent call last):\n    File \"manage.py\", line 11, in <module>\n      execute_manager(settings)\n    File \"/home/test/django/core/management/__init__.py\", line 438, in execute_manager\n      utility.execute()\n    File \"/home/test/django/core/management/__init__.py\", line 379, in execute\n      self.fetch_command(subcommand).run_from_argv(self.argv)\n    File \"/home/test/django/core/management/base.py\", line 191, in run_from_argv\n      self.execute(*args, **options.__dict__)\n    File \"/home/test/django/core/management/base.py\", line 220, in execute\n      output = self.handle(*args, **options)\n    File \"/home/test/3rdparty/haystack/management/commands/update_index.py\", line 78, in handle\n      return super(Command, self).handle(*apps, **options)\n    File \"/home/test/django/core/management/base.py\", line 286, in handle\n      app_output = self.handle_app(app, **options)\n    File \"/home/test/3rdparty/haystack/management/commands/update_index.py\", line 171, in handle_app\n      index.backend.remove(\".\".join([result.app_label, result.model_name, result.pk]))\n  TypeError: sequence item 2: expected string, long found\n```\n\nPerhaps result.pk there should be a string?\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/329/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/329/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/302", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/302/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/302/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/302/events", "html_url": "https://github.com/django-haystack/django-haystack/issues/302", "id": 470643, "node_id": "MDU6SXNzdWU0NzA2NDM=", "number": 302, "title": "Boost/weight mess", "user": {"login": "tomaszzielinski", "id": 462169, "node_id": "MDQ6VXNlcjQ2MjE2OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/462169?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tomaszzielinski", "html_url": "https://github.com/tomaszzielinski", "followers_url": "https://api.github.com/users/tomaszzielinski/followers", "following_url": "https://api.github.com/users/tomaszzielinski/following{/other_user}", "gists_url": "https://api.github.com/users/tomaszzielinski/gists{/gist_id}", "starred_url": "https://api.github.com/users/tomaszzielinski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tomaszzielinski/subscriptions", "organizations_url": "https://api.github.com/users/tomaszzielinski/orgs", "repos_url": "https://api.github.com/users/tomaszzielinski/repos", "events_url": "https://api.github.com/users/tomaszzielinski/events{/privacy}", "received_events_url": "https://api.github.com/users/tomaszzielinski/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}, {"id": 8217, "node_id": "MDU6TGFiZWw4MjE3", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/backend%20:%20whoosh", "name": "backend : whoosh", "color": "d4c5f9", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2010-12-12T20:04:00Z", "updated_at": "2011-05-03T17:02:25Z", "closed_at": "2011-05-03T17:02:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "http://docs.haystacksearch.org/dev/boost.html says that field boost is available by using `boost` parameter in field constructor. But SearchField.**init**() doesn't contain such parameter, it only contains `weight` one - which is mentioned here: http://docs.haystacksearch.org/dev/searchfield_api.html#method-reference (but not described in the section above: http://docs.haystacksearch.org/dev/searchfield_api.html#field-options).\n\nMoreover, that `weight` parameter seems to be used only in indexes.py:get_field_weights() function, which in turn seems to be only used in Solr backed.\n\nAs a result, portable boosting seems to be only available per-query.\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/302/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/302/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/300", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/300/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/300/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/300/events", "html_url": "https://github.com/django-haystack/django-haystack/issues/300", "id": 461590, "node_id": "MDU6SXNzdWU0NjE1OTA=", "number": 300, "title": "Durring Search: [Errno 24] Too many open files", "user": {"login": "erikcw", "id": 113129, "node_id": "MDQ6VXNlcjExMzEyOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/113129?v=4", "gravatar_id": "", "url": "https://api.github.com/users/erikcw", "html_url": "https://github.com/erikcw", "followers_url": "https://api.github.com/users/erikcw/followers", "following_url": "https://api.github.com/users/erikcw/following{/other_user}", "gists_url": "https://api.github.com/users/erikcw/gists{/gist_id}", "starred_url": "https://api.github.com/users/erikcw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/erikcw/subscriptions", "organizations_url": "https://api.github.com/users/erikcw/orgs", "repos_url": "https://api.github.com/users/erikcw/repos", "events_url": "https://api.github.com/users/erikcw/events{/privacy}", "received_events_url": "https://api.github.com/users/erikcw/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}, {"id": 8217, "node_id": "MDU6TGFiZWw4MjE3", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/backend%20:%20whoosh", "name": "backend : whoosh", "color": "d4c5f9", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2010-12-07T21:32:15Z", "updated_at": "2010-12-20T06:23:45Z", "closed_at": "2010-12-20T06:23:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "I've opened a bug with the Whoosh guys about this also.  They think the problem might be on the haystack side so I'm opening a bug report here as well.  \n\nPlease see: http://bitbucket.org/mchaput/whoosh/issue/75/durring-search-errno-24-too-many-open\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/300/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/300/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/297", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/297/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/297/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/297/events", "html_url": "https://github.com/django-haystack/django-haystack/issues/297", "id": 443675, "node_id": "MDU6SXNzdWU0NDM2NzU=", "number": 297, "title": "Field boosting in docs but not implemented?", "user": {"login": "kylemacfarlane", "id": 99594, "node_id": "MDQ6VXNlcjk5NTk0", "avatar_url": "https://avatars.githubusercontent.com/u/99594?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kylemacfarlane", "html_url": "https://github.com/kylemacfarlane", "followers_url": "https://api.github.com/users/kylemacfarlane/followers", "following_url": "https://api.github.com/users/kylemacfarlane/following{/other_user}", "gists_url": "https://api.github.com/users/kylemacfarlane/gists{/gist_id}", "starred_url": "https://api.github.com/users/kylemacfarlane/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kylemacfarlane/subscriptions", "organizations_url": "https://api.github.com/users/kylemacfarlane/orgs", "repos_url": "https://api.github.com/users/kylemacfarlane/repos", "events_url": "https://api.github.com/users/kylemacfarlane/events{/privacy}", "received_events_url": "https://api.github.com/users/kylemacfarlane/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2010-11-29T06:04:09Z", "updated_at": "2010-12-20T06:00:26Z", "closed_at": "2010-12-20T06:00:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "The docs at http://docs.haystacksearch.org/dev/boost.html show how to use field boosting, but when I try to use it I get the following error:\n\n```\nFile \"c:\\users\\kylemac\\.buildout\\eggs\\django_haystack-1.1.0-py2.7.egg\\haystack\\fields.py\", line 149, in __init__\nsuper(CharField, self).__init__(**kwargs)\n\nTypeError: __init__() got an unexpected keyword argument 'boost'\n```\n\nIn fields.py there is no mention of \"boost\" at all.\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/297/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/297/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/293", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/293/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/293/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/293/events", "html_url": "https://github.com/django-haystack/django-haystack/issues/293", "id": 420677, "node_id": "MDU6SXNzdWU0MjA2Nzc=", "number": 293, "title": "'FacetedSearchForm' object has no attribute 'cleaned_data' - when going to search url", "user": {"login": "imageinary", "id": 482895, "node_id": "MDQ6VXNlcjQ4Mjg5NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/482895?v=4", "gravatar_id": "", "url": "https://api.github.com/users/imageinary", "html_url": "https://github.com/imageinary", "followers_url": "https://api.github.com/users/imageinary/followers", "following_url": "https://api.github.com/users/imageinary/following{/other_user}", "gists_url": "https://api.github.com/users/imageinary/gists{/gist_id}", "starred_url": "https://api.github.com/users/imageinary/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/imageinary/subscriptions", "organizations_url": "https://api.github.com/users/imageinary/orgs", "repos_url": "https://api.github.com/users/imageinary/repos", "events_url": "https://api.github.com/users/imageinary/events{/privacy}", "received_events_url": "https://api.github.com/users/imageinary/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2010-11-15T21:30:41Z", "updated_at": "2010-11-16T06:31:05Z", "closed_at": "2010-11-16T06:31:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "Using faceting with a MultipleValueField() causes the application to break when going to the main haystack url.  Here was my setup:\nin my models:\n\n```\nclass Product(models.Model):\n    category = models.ManyToManyField(Category, blank=True,verbose_name=_(\"Category\"))\n\nclass Category(models.Model):\n    name = models.CharField(_(\"Name\"), max_length=200)\n```\n\nin search_indexes.py:\n\n```\nimport datetime\nfrom haystack.indexes import *\nfrom haystack import site\nfrom product.models import Product, Category\n\nclass ProductIndex(SearchIndex):\n    text = CharField(document=True, use_template=True)\n    categories = MultiValueField(faceted=True)\n    def prepare_categories(self, obj):\n        return [Category.name for Category in obj.category.filter(is_active=True)]\n\n    def get_queryset(self):\n        return Product.objects.filter(active=True)\n\n\nsite.register(Product, ProductIndex)\n```\n\nIn the traceback the issue was with line 72 of haystack/forms.py.  Adding ?q=foo to the end of the search url seemed to make it work.\nChanging line 72 from\n    if self.cleaned_data['selected_facets']:\nto\n    if self.is_valid() and self.cleaned_data['selected_facets']:\nfixes the issue as far as I can tell.\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/293/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/293/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/285", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/285/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/285/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/285/events", "html_url": "https://github.com/django-haystack/django-haystack/issues/285", "id": 402564, "node_id": "MDU6SXNzdWU0MDI1NjQ=", "number": 285, "title": "admin search should use SEARCH_VAR instead of hard coded \"q\"", "user": {"login": "robhudson", "id": 1106, "node_id": "MDQ6VXNlcjExMDY=", "avatar_url": "https://avatars.githubusercontent.com/u/1106?v=4", "gravatar_id": "", "url": "https://api.github.com/users/robhudson", "html_url": "https://github.com/robhudson", "followers_url": "https://api.github.com/users/robhudson/followers", "following_url": "https://api.github.com/users/robhudson/following{/other_user}", "gists_url": "https://api.github.com/users/robhudson/gists{/gist_id}", "starred_url": "https://api.github.com/users/robhudson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/robhudson/subscriptions", "organizations_url": "https://api.github.com/users/robhudson/orgs", "repos_url": "https://api.github.com/users/robhudson/repos", "events_url": "https://api.github.com/users/robhudson/events{/privacy}", "received_events_url": "https://api.github.com/users/robhudson/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2010-11-05T15:27:40Z", "updated_at": "2010-11-06T06:47:04Z", "closed_at": "2010-11-06T06:47:04Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "In admin.py line 27, use django.contrib.admin.views.main.SEARCH_VAR instead of hard coded \"q\".\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/285/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/285/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/283", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/283/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/283/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/283/events", "html_url": "https://github.com/django-haystack/django-haystack/pull/283", "id": 398385, "node_id": "MDExOlB1bGxSZXF1ZXN0MjM3OTI=", "number": 283, "title": "[FEATURE COMMIT] Added settings to control usage of the N-Gram field in Whoosh backend", "user": {"login": "chrisglass", "id": 25211, "node_id": "MDQ6VXNlcjI1MjEx", "avatar_url": "https://avatars.githubusercontent.com/u/25211?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chrisglass", "html_url": "https://github.com/chrisglass", "followers_url": "https://api.github.com/users/chrisglass/followers", "following_url": "https://api.github.com/users/chrisglass/following{/other_user}", "gists_url": "https://api.github.com/users/chrisglass/gists{/gist_id}", "starred_url": "https://api.github.com/users/chrisglass/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chrisglass/subscriptions", "organizations_url": "https://api.github.com/users/chrisglass/orgs", "repos_url": "https://api.github.com/users/chrisglass/repos", "events_url": "https://api.github.com/users/chrisglass/events{/privacy}", "received_events_url": "https://api.github.com/users/chrisglass/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}, {"id": 402, "node_id": "MDU6TGFiZWw0MDI=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/feature", "name": "feature", "color": "0e8a16", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2010-11-03T16:42:19Z", "updated_at": "2014-07-28T09:38:03Z", "closed_at": "2011-01-25T13:53:37Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/django-haystack/django-haystack/pulls/283", "html_url": "https://github.com/django-haystack/django-haystack/pull/283", "diff_url": "https://github.com/django-haystack/django-haystack/pull/283.diff", "patch_url": "https://github.com/django-haystack/django-haystack/pull/283.patch", "merged_at": null}, "body": "Hi All,\n\nHere's my \"feature commit\" for a way to tell haystack to use NGRAM fields when using the Whoosh backend.\n\nSetting HAYSTACK_WOOSH_USE_NGRAM_SEARCH to true in your settings will make Whoosh consider all text filelds as NGRAM fields, allowing you to search for both pre- and post- fixed wildcards.\n\nFor example:\n- '*dex' -> Index\n- 'Ind*' -> Index\n- 'Index' -> Index\n- '_nd_' -> Index\n\nThe \"Gram size\" is what lies between your wildcards. As you can imagine, this can make index files... quite large if you specify a small gram size and have long words. But well, if you're ready for a speed-memory tradeoff, it allows very powerful searching.\n\nPlease comment, criticize, debate, whatever :)\n- Chris\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/283/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/283/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/278", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/278/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/278/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/278/events", "html_url": "https://github.com/django-haystack/django-haystack/issues/278", "id": 389849, "node_id": "MDU6SXNzdWUzODk4NDk=", "number": 278, "title": "SearchQuerySet not pickleable", "user": {"login": "oyiptong", "id": 9365, "node_id": "MDQ6VXNlcjkzNjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oyiptong", "html_url": "https://github.com/oyiptong", "followers_url": "https://api.github.com/users/oyiptong/followers", "following_url": "https://api.github.com/users/oyiptong/following{/other_user}", "gists_url": "https://api.github.com/users/oyiptong/gists{/gist_id}", "starred_url": "https://api.github.com/users/oyiptong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oyiptong/subscriptions", "organizations_url": "https://api.github.com/users/oyiptong/orgs", "repos_url": "https://api.github.com/users/oyiptong/repos", "events_url": "https://api.github.com/users/oyiptong/events{/privacy}", "received_events_url": "https://api.github.com/users/oyiptong/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2010-10-29T22:24:32Z", "updated_at": "2010-10-30T05:01:15Z", "closed_at": "2010-10-30T05:01:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "Using 1.1.0 alpha (master on github), I found that SearchQuerySet's are not pickleable.\nHere's how to reproduce the error:\n\n```\n>>> from haystack.query import SearchQuerySet\n>>> import cPickle\n>>> sqs = SearchQuerySet().auto_query('search query')\n>>> qr = sqs[0]\n>>> cPickle.dumps(qr)\n<string dump>\n>>> cPickle.dumps(sqs)\nTraceback\n...\nUnpickleableError: Cannot pickle <type 'thread.lock'> objects\n```\n\nThis is due to the Site object in the **dict**\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/278/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/278/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/277", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/277/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/277/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/277/events", "html_url": "https://github.com/django-haystack/django-haystack/issues/277", "id": 389575, "node_id": "MDU6SXNzdWUzODk1NzU=", "number": 277, "title": "wrong field name (without _exact) is used for faceting and solr", "user": {"login": "desti", "id": 459924, "node_id": "MDQ6VXNlcjQ1OTkyNA==", "avatar_url": "https://avatars.githubusercontent.com/u/459924?v=4", "gravatar_id": "", "url": "https://api.github.com/users/desti", "html_url": "https://github.com/desti", "followers_url": "https://api.github.com/users/desti/followers", "following_url": "https://api.github.com/users/desti/following{/other_user}", "gists_url": "https://api.github.com/users/desti/gists{/gist_id}", "starred_url": "https://api.github.com/users/desti/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/desti/subscriptions", "organizations_url": "https://api.github.com/users/desti/orgs", "repos_url": "https://api.github.com/users/desti/repos", "events_url": "https://api.github.com/users/desti/events{/privacy}", "received_events_url": "https://api.github.com/users/desti/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2010-10-29T19:09:58Z", "updated_at": "2010-10-31T06:04:42Z", "closed_at": "2010-10-31T06:04:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "backends/**init**.py:\n    def add_field_facet(self, field):\n       self.facets.add(self.backend.site.get_facet_field_name(field))\n\nsite.get_facet_field_name returns the wrong fieldname (without the _exact ending), so faceting with solr doesn't always work.\n\nlooks like site.get_facet_field_name always returns the field name without _exact\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/277/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/277/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/275", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/275/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/275/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/275/events", "html_url": "https://github.com/django-haystack/django-haystack/issues/275", "id": 385903, "node_id": "MDU6SXNzdWUzODU5MDM=", "number": 275, "title": "Quotes are handled badly", "user": {"login": "craigds", "id": 32112, "node_id": "MDQ6VXNlcjMyMTEy", "avatar_url": "https://avatars.githubusercontent.com/u/32112?v=4", "gravatar_id": "", "url": "https://api.github.com/users/craigds", "html_url": "https://github.com/craigds", "followers_url": "https://api.github.com/users/craigds/followers", "following_url": "https://api.github.com/users/craigds/following{/other_user}", "gists_url": "https://api.github.com/users/craigds/gists{/gist_id}", "starred_url": "https://api.github.com/users/craigds/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/craigds/subscriptions", "organizations_url": "https://api.github.com/users/craigds/orgs", "repos_url": "https://api.github.com/users/craigds/repos", "events_url": "https://api.github.com/users/craigds/events{/privacy}", "received_events_url": "https://api.github.com/users/craigds/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}, {"id": 8760, "node_id": "MDU6TGFiZWw4NzYw", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/backend%20:%20solr", "name": "backend : solr", "color": "d4c5f9", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2010-10-27T21:09:40Z", "updated_at": "2010-11-23T05:49:15Z", "closed_at": "2010-11-23T05:49:15Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Only tested with solr but I suspect this is a haystack-wide bug since the offending behavior occurs in auto_query().\n\nSomeone typed some coordinates into our search box:\n\n```\n44\u00b048'40''N 20\u00b028'32''E\n```\n\nThe original query when passed directly to the solr backend works fine, even with the unicode chars included. \n\nThere are six single quotes in there. In query.py:341 (auto_query), these get regex-matched into the following 'exact match' groups:\n\n```\n\"40\"\n\"N 2028\"\n\"\" (empty string)\n```\n\nSo the backend gets hit with this query:\n\n```\n(40 OR \"N 2028\" OR  OR 444832E)\n```\n\nI think there's several issues with this basic iterative regex approach:\n1. The empty string gets stripped of its quotes at some point, causing a syntax error with the double OR.\n2. The unicode characters seem to get stripped out during the regex match, which is unnecessary.\n3. Quotes surrounded by non-whitespace characters shouldn't really be treated as exact match delimiters anyway.\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/275/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/275/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/272", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/272/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/272/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/272/events", "html_url": "https://github.com/django-haystack/django-haystack/issues/272", "id": 383242, "node_id": "MDU6SXNzdWUzODMyNDI=", "number": 272, "title": "Getting the length of a SearchQuerySet before any iteration over it marshalls entire hit set into SearchResults", "user": {"login": "j00bar", "id": 166664, "node_id": "MDQ6VXNlcjE2NjY2NA==", "avatar_url": "https://avatars.githubusercontent.com/u/166664?v=4", "gravatar_id": "", "url": "https://api.github.com/users/j00bar", "html_url": "https://github.com/j00bar", "followers_url": "https://api.github.com/users/j00bar/followers", "following_url": "https://api.github.com/users/j00bar/following{/other_user}", "gists_url": "https://api.github.com/users/j00bar/gists{/gist_id}", "starred_url": "https://api.github.com/users/j00bar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/j00bar/subscriptions", "organizations_url": "https://api.github.com/users/j00bar/orgs", "repos_url": "https://api.github.com/users/j00bar/repos", "events_url": "https://api.github.com/users/j00bar/events{/privacy}", "received_events_url": "https://api.github.com/users/j00bar/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2010-10-26T17:41:38Z", "updated_at": "2010-11-06T06:47:49Z", "closed_at": "2010-11-06T06:47:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "If you build a SearchQuerySet without iterating over the results, and feed it to a Django paginator, it tries to calculate the length of the SearchQuerySet. The call chain goes like:\n\nSearchQuerySet.**len** .... SearchQuery.get_count... SearchQuery.run... SearchBackend.search\n\nBut with no offset limits, the backend marshals the entire hit set into SearchResult objects, which can potentially use an obscene amount of memory and processing.\n\nThis only occurs when the SearchQuerySet's cache has not been warmed at all.\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/272/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/272/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/270", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/270/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/270/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/270/events", "html_url": "https://github.com/django-haystack/django-haystack/issues/270", "id": 381624, "node_id": "MDU6SXNzdWUzODE2MjQ=", "number": 270, "title": "LoadBackendTestCase fails if whoosh isn't installed.", "user": {"login": "tmc", "id": 3977, "node_id": "MDQ6VXNlcjM5Nzc=", "avatar_url": "https://avatars.githubusercontent.com/u/3977?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tmc", "html_url": "https://github.com/tmc", "followers_url": "https://api.github.com/users/tmc/followers", "following_url": "https://api.github.com/users/tmc/following{/other_user}", "gists_url": "https://api.github.com/users/tmc/gists{/gist_id}", "starred_url": "https://api.github.com/users/tmc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tmc/subscriptions", "organizations_url": "https://api.github.com/users/tmc/orgs", "repos_url": "https://api.github.com/users/tmc/repos", "events_url": "https://api.github.com/users/tmc/events{/privacy}", "received_events_url": "https://api.github.com/users/tmc/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2010-10-25T22:01:46Z", "updated_at": "2010-10-26T03:01:51Z", "closed_at": "2010-10-26T03:01:51Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "LoadBackendTestCase fails if whoosh isn't installed.\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/270/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/270/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/263", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/263/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/263/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/263/events", "html_url": "https://github.com/django-haystack/django-haystack/issues/263", "id": 364216, "node_id": "MDU6SXNzdWUzNjQyMTY=", "number": 263, "title": "SearchView __name__ method should be a property", "user": {"login": "trybik", "id": 207456, "node_id": "MDQ6VXNlcjIwNzQ1Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/207456?v=4", "gravatar_id": "", "url": "https://api.github.com/users/trybik", "html_url": "https://github.com/trybik", "followers_url": "https://api.github.com/users/trybik/followers", "following_url": "https://api.github.com/users/trybik/following{/other_user}", "gists_url": "https://api.github.com/users/trybik/gists{/gist_id}", "starred_url": "https://api.github.com/users/trybik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/trybik/subscriptions", "organizations_url": "https://api.github.com/users/trybik/orgs", "repos_url": "https://api.github.com/users/trybik/repos", "events_url": "https://api.github.com/users/trybik/events{/privacy}", "received_events_url": "https://api.github.com/users/trybik/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2010-10-15T14:50:01Z", "updated_at": "2010-10-26T03:48:47Z", "closed_at": "2010-10-26T03:48:47Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "This is a bug; without it you cannot safely use any decorator that uses wraps/update_wrapper utils, in particular, a login_required decorator, on a SearchView instance.\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/263/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/263/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/262", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/262/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/262/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/262/events", "html_url": "https://github.com/django-haystack/django-haystack/issues/262", "id": 359340, "node_id": "MDU6SXNzdWUzNTkzNDA=", "number": 262, "title": "solr_backend returned incorrect results with MultiValueField", "user": {"login": "jefftriplett", "id": 50527, "node_id": "MDQ6VXNlcjUwNTI3", "avatar_url": "https://avatars.githubusercontent.com/u/50527?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jefftriplett", "html_url": "https://github.com/jefftriplett", "followers_url": "https://api.github.com/users/jefftriplett/followers", "following_url": "https://api.github.com/users/jefftriplett/following{/other_user}", "gists_url": "https://api.github.com/users/jefftriplett/gists{/gist_id}", "starred_url": "https://api.github.com/users/jefftriplett/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jefftriplett/subscriptions", "organizations_url": "https://api.github.com/users/jefftriplett/orgs", "repos_url": "https://api.github.com/users/jefftriplett/repos", "events_url": "https://api.github.com/users/jefftriplett/events{/privacy}", "received_events_url": "https://api.github.com/users/jefftriplett/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}, {"id": 8760, "node_id": "MDU6TGFiZWw4NzYw", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/backend%20:%20solr", "name": "backend : solr", "color": "d4c5f9", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2010-10-12T20:09:14Z", "updated_at": "2010-10-30T18:44:49Z", "closed_at": "2010-10-30T18:44:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "solr_backend line #285 doesn't take in to account faceted field names which causes multi-value fields to break.\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/262/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/262/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/261", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/261/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/261/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/261/events", "html_url": "https://github.com/django-haystack/django-haystack/issues/261", "id": 359333, "node_id": "MDU6SXNzdWUzNTkzMzM=", "number": 261, "title": "Faceted results don't return when indexed=False", "user": {"login": "jefftriplett", "id": 50527, "node_id": "MDQ6VXNlcjUwNTI3", "avatar_url": "https://avatars.githubusercontent.com/u/50527?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jefftriplett", "html_url": "https://github.com/jefftriplett", "followers_url": "https://api.github.com/users/jefftriplett/followers", "following_url": "https://api.github.com/users/jefftriplett/following{/other_user}", "gists_url": "https://api.github.com/users/jefftriplett/gists{/gist_id}", "starred_url": "https://api.github.com/users/jefftriplett/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jefftriplett/subscriptions", "organizations_url": "https://api.github.com/users/jefftriplett/orgs", "repos_url": "https://api.github.com/users/jefftriplett/repos", "events_url": "https://api.github.com/users/jefftriplett/events{/privacy}", "received_events_url": "https://api.github.com/users/jefftriplett/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2010-10-12T20:07:49Z", "updated_at": "2010-10-26T07:24:57Z", "closed_at": "2010-10-26T07:24:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "Faceted results aren't returning for me when indexed=False and facted=True are set.\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/261/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/261/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/260", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/260/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/260/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/260/events", "html_url": "https://github.com/django-haystack/django-haystack/issues/260", "id": 355502, "node_id": "MDU6SXNzdWUzNTU1MDI=", "number": 260, "title": "Move the \"empty query\" logic to the form.", "user": {"login": "toastdriven", "id": 2449, "node_id": "MDQ6VXNlcjI0NDk=", "avatar_url": "https://avatars.githubusercontent.com/u/2449?v=4", "gravatar_id": "", "url": "https://api.github.com/users/toastdriven", "html_url": "https://github.com/toastdriven", "followers_url": "https://api.github.com/users/toastdriven/followers", "following_url": "https://api.github.com/users/toastdriven/following{/other_user}", "gists_url": "https://api.github.com/users/toastdriven/gists{/gist_id}", "starred_url": "https://api.github.com/users/toastdriven/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/toastdriven/subscriptions", "organizations_url": "https://api.github.com/users/toastdriven/orgs", "repos_url": "https://api.github.com/users/toastdriven/repos", "events_url": "https://api.github.com/users/toastdriven/events{/privacy}", "received_events_url": "https://api.github.com/users/toastdriven/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2010-10-10T16:06:21Z", "updated_at": "2010-10-27T05:19:41Z", "closed_at": "2010-10-27T05:19:41Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The logic in `SearchView` about whether or not to return `EmptySearchView` hurts and causes people to need to override more than they should. Move it to the form, dummy!\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/260/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/260/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/255", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/255/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/255/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/255/events", "html_url": "https://github.com/django-haystack/django-haystack/issues/255", "id": 335411, "node_id": "MDU6SXNzdWUzMzU0MTE=", "number": 255, "title": "Trying to exclude on a flat values_list of pks fails (solr backend)", "user": {"login": "jcdyer", "id": 77486, "node_id": "MDQ6VXNlcjc3NDg2", "avatar_url": "https://avatars.githubusercontent.com/u/77486?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jcdyer", "html_url": "https://github.com/jcdyer", "followers_url": "https://api.github.com/users/jcdyer/followers", "following_url": "https://api.github.com/users/jcdyer/following{/other_user}", "gists_url": "https://api.github.com/users/jcdyer/gists{/gist_id}", "starred_url": "https://api.github.com/users/jcdyer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jcdyer/subscriptions", "organizations_url": "https://api.github.com/users/jcdyer/orgs", "repos_url": "https://api.github.com/users/jcdyer/repos", "events_url": "https://api.github.com/users/jcdyer/events{/privacy}", "received_events_url": "https://api.github.com/users/jcdyer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2010-09-27T18:46:22Z", "updated_at": "2011-05-03T17:23:45Z", "closed_at": "2011-05-03T17:23:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "When trying to exclude results in a flattened values_list of standard django PKs, haystack sends a query that parses incorrectly.  As the PKs are represented as long integers, the query gets parsed as if it were a list of characters, rather than a list of integers.\n\n```\nsqs = sqs.exclude(feed_id__in=Feed.objects.values_list('id', flat=True))\n...\nFailed to query Solr using '(((status:\"analyzed\" OR status:\"assessment\") AND NOT\n((feed_id:\"[\" OR feed_id:\"1\" OR feed_id:\"2\" OR feed_id:\"L\" OR feed_id:\"]\")) AND \nsearch_text:world AND lexile:[100 TO *] AND lexile:[* TO 250])) AND \n(django_ct:content.content)': [Reason: None]\n...\n```\n\ninstead of searching for the one-element list containing `long(12)`, it searches for each character of the string `\"[12]\"`.\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/255/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/255/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/237", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/237/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/237/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/237/events", "html_url": "https://github.com/django-haystack/django-haystack/issues/237", "id": 260870, "node_id": "MDU6SXNzdWUyNjA4NzA=", "number": 237, "title": "Failing test: core.tests.sites.test_all_searchfields", "user": {"login": "carljm", "id": 61586, "node_id": "MDQ6VXNlcjYxNTg2", "avatar_url": "https://avatars.githubusercontent.com/u/61586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/carljm", "html_url": "https://github.com/carljm", "followers_url": "https://api.github.com/users/carljm/followers", "following_url": "https://api.github.com/users/carljm/following{/other_user}", "gists_url": "https://api.github.com/users/carljm/gists{/gist_id}", "starred_url": "https://api.github.com/users/carljm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/carljm/subscriptions", "organizations_url": "https://api.github.com/users/carljm/orgs", "repos_url": "https://api.github.com/users/carljm/repos", "events_url": "https://api.github.com/users/carljm/events{/privacy}", "received_events_url": "https://api.github.com/users/carljm/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2010-07-27T14:59:34Z", "updated_at": "2012-12-26T16:59:57Z", "closed_at": "2010-10-27T02:26:12Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I get this failure when running the core tests:\n\n.............................................................................................................................Object could not be found in database for SearchResult '<SearchResult: core.mockmodel (pk='1000000')>'.\nModel could not be found for SearchResult '<SearchResult: core.yetanothermockmodel (pk='1000000')>'.\nModel could not be found for SearchResult '<SearchResult: core.yetanothermockmodel (pk='1000000')>'.\nModel could not be found for SearchResult '<SearchResult: core.yetanothermockmodel (pk='1000000')>'.\n....F.............Name: foo\nName: bar\n# .\n## FAIL: test_all_searchfields (core.tests.sites.SearchSiteTestCase)\n\nTraceback (most recent call last):\n  File \"/home/carljm/projects/django/apps/django-haystack/tests/core/tests/sites.py\", line 115, in test_all_searchfields\n    self.assertEqual(fields['text'].use_template, True)\nAssertionError: False != True\n\n---\n\nRan 144 tests in 2.495s\n\nFAILED (failures=1)\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/237/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/237/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/236", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/236/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/236/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/236/events", "html_url": "https://github.com/django-haystack/django-haystack/issues/236", "id": 260742, "node_id": "MDU6SXNzdWUyNjA3NDI=", "number": 236, "title": "Failure with character pk that is castable as integer", "user": {"login": "carljm", "id": 61586, "node_id": "MDQ6VXNlcjYxNTg2", "avatar_url": "https://avatars.githubusercontent.com/u/61586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/carljm", "html_url": "https://github.com/carljm", "followers_url": "https://api.github.com/users/carljm/followers", "following_url": "https://api.github.com/users/carljm/following{/other_user}", "gists_url": "https://api.github.com/users/carljm/gists{/gist_id}", "starred_url": "https://api.github.com/users/carljm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/carljm/subscriptions", "organizations_url": "https://api.github.com/users/carljm/orgs", "repos_url": "https://api.github.com/users/carljm/repos", "events_url": "https://api.github.com/users/carljm/events{/privacy}", "received_events_url": "https://api.github.com/users/carljm/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2010-07-27T11:54:04Z", "updated_at": "2010-10-27T02:42:15Z", "closed_at": "2010-10-27T02:42:15Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I've got a model with a CharField primary key, but many (not all) of the actual primary key values are all-digit, meaning they can cast to an integer without error. This triggers a bug in SearchQuerySet._fill_cache, where it assumes that if it can successfully cast result.pk to an integer, it should. The symptom is that the SearchQuerySet returns a long list of Nones instead of SearchResults.\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/236/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/236/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/233", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/233/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/233/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/233/events", "html_url": "https://github.com/django-haystack/django-haystack/issues/233", "id": 247780, "node_id": "MDU6SXNzdWUyNDc3ODA=", "number": 233, "title": "Solr backend does not correctly handle indexing an ImageField", "user": {"login": "gregplaysguitar", "id": 23109, "node_id": "MDQ6VXNlcjIzMTA5", "avatar_url": "https://avatars.githubusercontent.com/u/23109?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gregplaysguitar", "html_url": "https://github.com/gregplaysguitar", "followers_url": "https://api.github.com/users/gregplaysguitar/followers", "following_url": "https://api.github.com/users/gregplaysguitar/following{/other_user}", "gists_url": "https://api.github.com/users/gregplaysguitar/gists{/gist_id}", "starred_url": "https://api.github.com/users/gregplaysguitar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gregplaysguitar/subscriptions", "organizations_url": "https://api.github.com/users/gregplaysguitar/orgs", "repos_url": "https://api.github.com/users/gregplaysguitar/repos", "events_url": "https://api.github.com/users/gregplaysguitar/events{/privacy}", "received_events_url": "https://api.github.com/users/gregplaysguitar/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2010-07-15T00:55:26Z", "updated_at": "2016-01-14T21:53:41Z", "closed_at": "2016-01-14T21:53:41Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Not sure whether this is really an issue with haystack or pysolr, but since ImageField is a django-specific field I'll report it here for now.\n\nBasically when you try to index an imagefield, whoosh and xapian just save the path to the image as a string, but pysolr sees the **iter** method and thinks it's a list or tuple, so tries to index everything it can iterate over.\n\nI'll see if I can patch the solr backend to fix this, or possibly I just need to explicitly return a string (and not an image field) in my prepare_image method.\n\nHere's the relevant pysolr code:\n\n```\ndef add(self, docs, commit=True):\n        \"\"\"Adds or updates documents. For now, docs is a list of dictionaies\n        where each key is the field name and each value is the value to index.\n        \"\"\"\n        message = ET.Element('add')\n        for doc in docs:\n            d = ET.Element('doc')\n            for key, value in doc.items():\n                # handle lists, tuples, and other iterabes\n                if hasattr(value, '__iter__'):\n                    for v in value:\n                        f = ET.Element('field', name=key)\n                        f.text = self._from_python(v)\n                        d.append(f)\n                # handle strings and unicode\n                else:\n                    f = ET.Element('field', name=key)\n                    f.text = self._from_python(value)\n                    d.append(f)\n            message.append(d)\n        m = ET.tostring(message)\n        response = self._update(m)\n        # TODO: Supposedly, we can put a <commit /> element in the same post body\n        # as the add element. That isn't working for some reason, and it would save us\n        # an extra trip to the server. This works for now.\n        if commit:\n            self.commit()\n```\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/233/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/233/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/229", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/229/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/229/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/229/events", "html_url": "https://github.com/django-haystack/django-haystack/issues/229", "id": 225545, "node_id": "MDU6SXNzdWUyMjU1NDU=", "number": 229, "title": "Bad quoting behavior", "user": {"login": "SardarNL", "id": 210892, "node_id": "MDQ6VXNlcjIxMDg5Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/210892?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SardarNL", "html_url": "https://github.com/SardarNL", "followers_url": "https://api.github.com/users/SardarNL/followers", "following_url": "https://api.github.com/users/SardarNL/following{/other_user}", "gists_url": "https://api.github.com/users/SardarNL/gists{/gist_id}", "starred_url": "https://api.github.com/users/SardarNL/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SardarNL/subscriptions", "organizations_url": "https://api.github.com/users/SardarNL/orgs", "repos_url": "https://api.github.com/users/SardarNL/repos", "events_url": "https://api.github.com/users/SardarNL/events{/privacy}", "received_events_url": "https://api.github.com/users/SardarNL/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2010-06-18T11:03:35Z", "updated_at": "2010-10-26T03:27:16Z", "closed_at": "2010-10-26T03:27:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "sqs.filter_and(my_field = 'bla:wow') gives syntax error because the resulting query is 'my_field:bla:wow'. Guys, this is... I have no words for this... :D\n\nPlease, do proper quoting, especially because some people pass user-input directly to .filter assuming it will quote/escape everything (backend specific. django models do the same). \n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/229/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/229/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/221", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/221/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/221/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/221/events", "html_url": "https://github.com/django-haystack/django-haystack/issues/221", "id": 217480, "node_id": "MDU6SXNzdWUyMTc0ODA=", "number": 221, "title": "sqs.count() not cached vs. len(sqs)", "user": {"login": "Nagyman", "id": 133376, "node_id": "MDQ6VXNlcjEzMzM3Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/133376?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Nagyman", "html_url": "https://github.com/Nagyman", "followers_url": "https://api.github.com/users/Nagyman/followers", "following_url": "https://api.github.com/users/Nagyman/following{/other_user}", "gists_url": "https://api.github.com/users/Nagyman/gists{/gist_id}", "starred_url": "https://api.github.com/users/Nagyman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Nagyman/subscriptions", "organizations_url": "https://api.github.com/users/Nagyman/orgs", "repos_url": "https://api.github.com/users/Nagyman/repos", "events_url": "https://api.github.com/users/Nagyman/events{/privacy}", "received_events_url": "https://api.github.com/users/Nagyman/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2010-06-09T04:09:53Z", "updated_at": "2010-10-28T01:04:37Z", "closed_at": "2010-10-28T01:04:37Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I'm not sure if this was intentional, but running count() on a SearchQuerySet multiple times runs the query multiple times, whereas len(sqs) does not. \n\nIt's a minor issue, but I think this is causing Django's pagination to make two queries when only one seems needed. The behaviour of pagination is to call count() over len for performance optimization in Django's QuerySet class. http://docs.djangoproject.com/en/dev/topics/pagination/#attributes\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/221/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/221/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/218", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/218/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/218/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/218/events", "html_url": "https://github.com/django-haystack/django-haystack/issues/218", "id": 204454, "node_id": "MDU6SXNzdWUyMDQ0NTQ=", "number": 218, "title": "Whoosh backend doesn't clear the index when using RAM storage", "user": {"login": "kylemacfarlane", "id": 99594, "node_id": "MDQ6VXNlcjk5NTk0", "avatar_url": "https://avatars.githubusercontent.com/u/99594?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kylemacfarlane", "html_url": "https://github.com/kylemacfarlane", "followers_url": "https://api.github.com/users/kylemacfarlane/followers", "following_url": "https://api.github.com/users/kylemacfarlane/following{/other_user}", "gists_url": "https://api.github.com/users/kylemacfarlane/gists{/gist_id}", "starred_url": "https://api.github.com/users/kylemacfarlane/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kylemacfarlane/subscriptions", "organizations_url": "https://api.github.com/users/kylemacfarlane/orgs", "repos_url": "https://api.github.com/users/kylemacfarlane/repos", "events_url": "https://api.github.com/users/kylemacfarlane/events{/privacy}", "received_events_url": "https://api.github.com/users/kylemacfarlane/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}, {"id": 8217, "node_id": "MDU6TGFiZWw4MjE3", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/backend%20:%20whoosh", "name": "backend : whoosh", "color": "d4c5f9", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2010-05-24T04:15:33Z", "updated_at": "2010-05-24T05:09:47Z", "closed_at": "2010-05-24T05:09:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "The default RamStorage that comes with Whoosh has a clean() method. So delete_index in Whoosh should be something like:\n\n```\ndef delete_index(self):\n    # Per the Whoosh mailing list, if wiping out everything from the index,\n    # it's much more efficient to simply delete the index files.\n    if self.use_file_storage and os.path.exists(settings.HAYSTACK_WHOOSH_PATH):\n        shutil.rmtree(settings.HAYSTACK_WHOOSH_PATH)\n    elif not self.use_file_storage:\n        self.storage.clean()\n```\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/218/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/218/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/209", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/209/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/209/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/209/events", "html_url": "https://github.com/django-haystack/django-haystack/issues/209", "id": 182298, "node_id": "MDU6SXNzdWUxODIyOTg=", "number": 209, "title": "'build_solr_schema' doesn't respect stored=False SearchField setting", "user": {"login": "johnthedebs", "id": 97469, "node_id": "MDQ6VXNlcjk3NDY5", "avatar_url": "https://avatars.githubusercontent.com/u/97469?v=4", "gravatar_id": "", "url": "https://api.github.com/users/johnthedebs", "html_url": "https://github.com/johnthedebs", "followers_url": "https://api.github.com/users/johnthedebs/followers", "following_url": "https://api.github.com/users/johnthedebs/following{/other_user}", "gists_url": "https://api.github.com/users/johnthedebs/gists{/gist_id}", "starred_url": "https://api.github.com/users/johnthedebs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/johnthedebs/subscriptions", "organizations_url": "https://api.github.com/users/johnthedebs/orgs", "repos_url": "https://api.github.com/users/johnthedebs/repos", "events_url": "https://api.github.com/users/johnthedebs/events{/privacy}", "received_events_url": "https://api.github.com/users/johnthedebs/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}, {"id": 8760, "node_id": "MDU6TGFiZWw4NzYw", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/backend%20:%20solr", "name": "backend : solr", "color": "d4c5f9", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2010-04-28T17:22:45Z", "updated_at": "2010-05-04T05:26:58Z", "closed_at": "2010-05-04T05:26:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "I built a search index for my model and set `stored=False` for a few of the fields. When I run the management command 'build_solr_schema', the output I get has `stored=\"true\"` for all fields.\n\nI'm running: django-haystack==1.0.1-final\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/209/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/209/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/199", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/199/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/199/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/199/events", "html_url": "https://github.com/django-haystack/django-haystack/issues/199", "id": 156596, "node_id": "MDU6SXNzdWUxNTY1OTY=", "number": 199, "title": "Building a schema can fail when the same fieldname has different options applied.", "user": {"login": "toastdriven", "id": 2449, "node_id": "MDQ6VXNlcjI0NDk=", "avatar_url": "https://avatars.githubusercontent.com/u/2449?v=4", "gravatar_id": "", "url": "https://api.github.com/users/toastdriven", "html_url": "https://github.com/toastdriven", "followers_url": "https://api.github.com/users/toastdriven/followers", "following_url": "https://api.github.com/users/toastdriven/following{/other_user}", "gists_url": "https://api.github.com/users/toastdriven/gists{/gist_id}", "starred_url": "https://api.github.com/users/toastdriven/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/toastdriven/subscriptions", "organizations_url": "https://api.github.com/users/toastdriven/orgs", "repos_url": "https://api.github.com/users/toastdriven/repos", "events_url": "https://api.github.com/users/toastdriven/events{/privacy}", "received_events_url": "https://api.github.com/users/toastdriven/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2010-03-23T05:52:28Z", "updated_at": "2010-03-23T07:40:02Z", "closed_at": "2010-03-23T07:40:02Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "If two different `SearchIndex` classes have the same field name but different options specified, only the first's options will be used. This can cause missing fields when using faceting, though this extends to other areas as well.\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/199/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/199/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/193", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/193/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/193/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/193/events", "html_url": "https://github.com/django-haystack/django-haystack/issues/193", "id": 154642, "node_id": "MDU6SXNzdWUxNTQ2NDI=", "number": 193, "title": "Dummy backend is not unicode compatible", "user": {"login": "kylemacfarlane", "id": 99594, "node_id": "MDQ6VXNlcjk5NTk0", "avatar_url": "https://avatars.githubusercontent.com/u/99594?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kylemacfarlane", "html_url": "https://github.com/kylemacfarlane", "followers_url": "https://api.github.com/users/kylemacfarlane/followers", "following_url": "https://api.github.com/users/kylemacfarlane/following{/other_user}", "gists_url": "https://api.github.com/users/kylemacfarlane/gists{/gist_id}", "starred_url": "https://api.github.com/users/kylemacfarlane/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kylemacfarlane/subscriptions", "organizations_url": "https://api.github.com/users/kylemacfarlane/orgs", "repos_url": "https://api.github.com/users/kylemacfarlane/repos", "events_url": "https://api.github.com/users/kylemacfarlane/events{/privacy}", "received_events_url": "https://api.github.com/users/kylemacfarlane/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2010-03-20T01:34:38Z", "updated_at": "2010-03-20T02:54:20Z", "closed_at": "2010-03-20T02:54:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "I created a pull request for this a while ago and I thought it became quickly superseded by notanumber's new simple backend, but apparently not.\n\nLine 80 in the dummy backend uses a str() which raises an exception when a search containting unicode characters is attempted. I believe it should be a force_unicode() from Django instead.\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/193/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/193/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/191", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/191/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/191/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/191/events", "html_url": "https://github.com/django-haystack/django-haystack/issues/191", "id": 154025, "node_id": "MDU6SXNzdWUxNTQwMjU=", "number": 191, "title": "Specifying an unregistered Model in ``SearchQuerySet().models()`` fails.", "user": {"login": "toastdriven", "id": 2449, "node_id": "MDQ6VXNlcjI0NDk=", "avatar_url": "https://avatars.githubusercontent.com/u/2449?v=4", "gravatar_id": "", "url": "https://api.github.com/users/toastdriven", "html_url": "https://github.com/toastdriven", "followers_url": "https://api.github.com/users/toastdriven/followers", "following_url": "https://api.github.com/users/toastdriven/following{/other_user}", "gists_url": "https://api.github.com/users/toastdriven/gists{/gist_id}", "starred_url": "https://api.github.com/users/toastdriven/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/toastdriven/subscriptions", "organizations_url": "https://api.github.com/users/toastdriven/orgs", "repos_url": "https://api.github.com/users/toastdriven/repos", "events_url": "https://api.github.com/users/toastdriven/events{/privacy}", "received_events_url": "https://api.github.com/users/toastdriven/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2010-03-18T23:48:40Z", "updated_at": "2010-03-20T03:22:52Z", "closed_at": "2010-03-20T03:22:52Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Complete with perfect timing during a demo.\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/191/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/191/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/190", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/190/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/190/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/190/events", "html_url": "https://github.com/django-haystack/django-haystack/issues/190", "id": 152488, "node_id": "MDU6SXNzdWUxNTI0ODg=", "number": 190, "title": "Highlighter find_window does not include words before the first hit", "user": {"login": "EmilStenstrom", "id": 224130, "node_id": "MDQ6VXNlcjIyNDEzMA==", "avatar_url": "https://avatars.githubusercontent.com/u/224130?v=4", "gravatar_id": "", "url": "https://api.github.com/users/EmilStenstrom", "html_url": "https://github.com/EmilStenstrom", "followers_url": "https://api.github.com/users/EmilStenstrom/followers", "following_url": "https://api.github.com/users/EmilStenstrom/following{/other_user}", "gists_url": "https://api.github.com/users/EmilStenstrom/gists{/gist_id}", "starred_url": "https://api.github.com/users/EmilStenstrom/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/EmilStenstrom/subscriptions", "organizations_url": "https://api.github.com/users/EmilStenstrom/orgs", "repos_url": "https://api.github.com/users/EmilStenstrom/repos", "events_url": "https://api.github.com/users/EmilStenstrom/events{/privacy}", "received_events_url": "https://api.github.com/users/EmilStenstrom/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "toastdriven", "id": 2449, "node_id": "MDQ6VXNlcjI0NDk=", "avatar_url": "https://avatars.githubusercontent.com/u/2449?v=4", "gravatar_id": "", "url": "https://api.github.com/users/toastdriven", "html_url": "https://github.com/toastdriven", "followers_url": "https://api.github.com/users/toastdriven/followers", "following_url": "https://api.github.com/users/toastdriven/following{/other_user}", "gists_url": "https://api.github.com/users/toastdriven/gists{/gist_id}", "starred_url": "https://api.github.com/users/toastdriven/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/toastdriven/subscriptions", "organizations_url": "https://api.github.com/users/toastdriven/orgs", "repos_url": "https://api.github.com/users/toastdriven/repos", "events_url": "https://api.github.com/users/toastdriven/events{/privacy}", "received_events_url": "https://api.github.com/users/toastdriven/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "toastdriven", "id": 2449, "node_id": "MDQ6VXNlcjI0NDk=", "avatar_url": "https://avatars.githubusercontent.com/u/2449?v=4", "gravatar_id": "", "url": "https://api.github.com/users/toastdriven", "html_url": "https://github.com/toastdriven", "followers_url": "https://api.github.com/users/toastdriven/followers", "following_url": "https://api.github.com/users/toastdriven/following{/other_user}", "gists_url": "https://api.github.com/users/toastdriven/gists{/gist_id}", "starred_url": "https://api.github.com/users/toastdriven/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/toastdriven/subscriptions", "organizations_url": "https://api.github.com/users/toastdriven/orgs", "repos_url": "https://api.github.com/users/toastdriven/repos", "events_url": "https://api.github.com/users/toastdriven/events{/privacy}", "received_events_url": "https://api.github.com/users/toastdriven/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/django-haystack/django-haystack/milestones/7", "html_url": "https://github.com/django-haystack/django-haystack/milestone/7", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/milestones/7/labels", "id": 332010, "node_id": "MDk6TWlsZXN0b25lMzMyMDEw", "number": 7, "title": "v2.0.X", "description": null, "creator": {"login": "toastdriven", "id": 2449, "node_id": "MDQ6VXNlcjI0NDk=", "avatar_url": "https://avatars.githubusercontent.com/u/2449?v=4", "gravatar_id": "", "url": "https://api.github.com/users/toastdriven", "html_url": "https://github.com/toastdriven", "followers_url": "https://api.github.com/users/toastdriven/followers", "following_url": "https://api.github.com/users/toastdriven/following{/other_user}", "gists_url": "https://api.github.com/users/toastdriven/gists{/gist_id}", "starred_url": "https://api.github.com/users/toastdriven/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/toastdriven/subscriptions", "organizations_url": "https://api.github.com/users/toastdriven/orgs", "repos_url": "https://api.github.com/users/toastdriven/repos", "events_url": "https://api.github.com/users/toastdriven/events{/privacy}", "received_events_url": "https://api.github.com/users/toastdriven/received_events", "type": "User", "site_admin": false}, "open_issues": 32, "closed_issues": 20, "state": "open", "created_at": "2013-05-12T05:57:27Z", "updated_at": "2022-02-05T22:32:45Z", "due_on": null, "closed_at": null}, "comments": 2, "created_at": "2010-03-16T21:29:23Z", "updated_at": "2016-01-14T21:46:44Z", "closed_at": "2016-01-14T21:46:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "When looking at the default highlighter, I see that all highlighted snippets start at the highlighted word, and continue forward only. It would be more useful if the highlighter centered the word inside the search snippet, so you could understand more of the context.\n\nIt should be something like this (although this is not complete by far):\n\n```\nfrom haystack.utils import Highlighter\n\nclass CenteredWordHighlighter(Highlighter):\n    def find_window(self, highlight_locations):\n        best_start = 0\n        best_end = self.max_length\n\n        # First, make sure we have words.\n        if not len(highlight_locations):\n            return (best_start, best_end)\n\n        words_found = []\n\n        # Next, make sure we found any words at all.\n        for word, offset_list in highlight_locations.items():\n            if len(offset_list):\n                # Add all of the locations to the list.\n                words_found.extend(offset_list)\n\n        if not len(words_found):\n            return (best_start, best_end)\n\n        return (max(0, words_found[0] - self.max_length/2), max(self.max_length,    words_found[0] + self.max_length/2))\n```\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/190/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/190/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/189", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/189/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/189/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/189/events", "html_url": "https://github.com/django-haystack/django-haystack/issues/189", "id": 152485, "node_id": "MDU6SXNzdWUxNTI0ODU=", "number": 189, "title": "Highlighter render_html breaks when searching for span or class", "user": {"login": "EmilStenstrom", "id": 224130, "node_id": "MDQ6VXNlcjIyNDEzMA==", "avatar_url": "https://avatars.githubusercontent.com/u/224130?v=4", "gravatar_id": "", "url": "https://api.github.com/users/EmilStenstrom", "html_url": "https://github.com/EmilStenstrom", "followers_url": "https://api.github.com/users/EmilStenstrom/followers", "following_url": "https://api.github.com/users/EmilStenstrom/following{/other_user}", "gists_url": "https://api.github.com/users/EmilStenstrom/gists{/gist_id}", "starred_url": "https://api.github.com/users/EmilStenstrom/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/EmilStenstrom/subscriptions", "organizations_url": "https://api.github.com/users/EmilStenstrom/orgs", "repos_url": "https://api.github.com/users/EmilStenstrom/repos", "events_url": "https://api.github.com/users/EmilStenstrom/events{/privacy}", "received_events_url": "https://api.github.com/users/EmilStenstrom/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2010-03-16T21:26:10Z", "updated_at": "2010-05-24T05:30:55Z", "closed_at": "2010-05-24T05:30:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "I experienced strange HTML code on my search page and started investigating. Seems that the Highlighter is a bit too naive. It loops over all terms in the search query, and replaces each word with some HTML. Problem is, the next step in the loop will replace things inside the tags just added, which turns into very nastily broken HTML.\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/189/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/189/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/188", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/188/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/188/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/188/events", "html_url": "https://github.com/django-haystack/django-haystack/issues/188", "id": 138878, "node_id": "MDU6SXNzdWUxMzg4Nzg=", "number": 188, "title": "Faceted data should occur in ``post_prepare``", "user": {"login": "toastdriven", "id": 2449, "node_id": "MDQ6VXNlcjI0NDk=", "avatar_url": "https://avatars.githubusercontent.com/u/2449?v=4", "gravatar_id": "", "url": "https://api.github.com/users/toastdriven", "html_url": "https://github.com/toastdriven", "followers_url": "https://api.github.com/users/toastdriven/followers", "following_url": "https://api.github.com/users/toastdriven/following{/other_user}", "gists_url": "https://api.github.com/users/toastdriven/gists{/gist_id}", "starred_url": "https://api.github.com/users/toastdriven/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/toastdriven/subscriptions", "organizations_url": "https://api.github.com/users/toastdriven/orgs", "repos_url": "https://api.github.com/users/toastdriven/repos", "events_url": "https://api.github.com/users/toastdriven/events{/privacy}", "received_events_url": "https://api.github.com/users/toastdriven/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2010-02-24T07:37:35Z", "updated_at": "2010-03-03T19:41:03Z", "closed_at": "2010-02-25T07:20:57Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Move the data population to a new `post_prepare` hook so subclasses don't have to do stupid tricks to make faceting work on data they're custom preparing.\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/188/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/188/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/186", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/186/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/186/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/186/events", "html_url": "https://github.com/django-haystack/django-haystack/issues/186", "id": 138293, "node_id": "MDU6SXNzdWUxMzgyOTM=", "number": 186, "title": "ImportError: No module named whoosh_backend", "user": {"login": "stefankoegl", "id": 184196, "node_id": "MDQ6VXNlcjE4NDE5Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/184196?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stefankoegl", "html_url": "https://github.com/stefankoegl", "followers_url": "https://api.github.com/users/stefankoegl/followers", "following_url": "https://api.github.com/users/stefankoegl/following{/other_user}", "gists_url": "https://api.github.com/users/stefankoegl/gists{/gist_id}", "starred_url": "https://api.github.com/users/stefankoegl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stefankoegl/subscriptions", "organizations_url": "https://api.github.com/users/stefankoegl/orgs", "repos_url": "https://api.github.com/users/stefankoegl/repos", "events_url": "https://api.github.com/users/stefankoegl/events{/privacy}", "received_events_url": "https://api.github.com/users/stefankoegl/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2010-02-23T11:14:28Z", "updated_at": "2010-04-01T19:21:42Z", "closed_at": "2010-03-20T03:24:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "As a follow-up of issue 166, I tried to install django-haystack from the git repo with \ngit clone git://github.com/toastdriven/django-haystack.git\ncd django-haystack\nsudo python setup.py install\n\nwhich left me with the following error message when rebuilding my index with \n\n./manage.py rebuild_index\nTraceback (most recent call last):\n  File \"./manage.py\", line 29, in <module>\n    execute_manager(settings)\n  File \"/usr/lib/pymodules/python2.6/django/core/management/**init**.py\", line 362, in execute_manager\n    utility.execute()\n  File \"/usr/lib/pymodules/python2.6/django/core/management/**init**.py\", line 303, in execute\n    self.fetch_command(subcommand).run_from_argv(self.argv)\n  File \"/usr/lib/pymodules/python2.6/django/core/management/**init**.py\", line 257, in fetch_command\n    klass = load_command_class(app_name, subcommand)\n  File \"/usr/lib/pymodules/python2.6/django/core/management/**init**.py\", line 67, in load_command_class\n    module = import_module('%s.management.commands.%s' % (app_name, name))\n  File \"/usr/lib/pymodules/python2.6/django/utils/importlib.py\", line 35, in import_module\n    **import**(name)\n  File \"/usr/local/lib/python2.6/dist-packages/haystack/**init**.py\", line 64, in <module>\n    backend = load_backend(settings.HAYSTACK_SEARCH_ENGINE)\n  File \"/usr/local/lib/python2.6/dist-packages/haystack/**init**.py\", line 44, in load_backend\n    return importlib.import_module('%s_backend' % backend_name)\n  File \"/usr/lib/pymodules/python2.6/django/utils/importlib.py\", line 35, in import_module\n    **import**(name)\nImportError: No module named whoosh_backend\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/186/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/186/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/181", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/181/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/181/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/181/events", "html_url": "https://github.com/django-haystack/django-haystack/issues/181", "id": 133144, "node_id": "MDU6SXNzdWUxMzMxNDQ=", "number": 181, "title": "more_like_this template tag explodes when used on a not yet indexed object", "user": {"login": "beniwohli", "id": 93675, "node_id": "MDQ6VXNlcjkzNjc1", "avatar_url": "https://avatars.githubusercontent.com/u/93675?v=4", "gravatar_id": "", "url": "https://api.github.com/users/beniwohli", "html_url": "https://github.com/beniwohli", "followers_url": "https://api.github.com/users/beniwohli/followers", "following_url": "https://api.github.com/users/beniwohli/following{/other_user}", "gists_url": "https://api.github.com/users/beniwohli/gists{/gist_id}", "starred_url": "https://api.github.com/users/beniwohli/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/beniwohli/subscriptions", "organizations_url": "https://api.github.com/users/beniwohli/orgs", "repos_url": "https://api.github.com/users/beniwohli/repos", "events_url": "https://api.github.com/users/beniwohli/events{/privacy}", "received_events_url": "https://api.github.com/users/beniwohli/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}, {"id": 16563, "node_id": "MDU6TGFiZWwxNjU2Mw==", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/backend%20:%20xapian", "name": "backend : xapian", "color": "d4c5f9", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2010-02-15T11:56:18Z", "updated_at": "2010-02-25T07:10:13Z", "closed_at": "2010-02-25T07:10:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "This is with the Xapian backend. The exception is:\n\n```\nOriginal Traceback (most recent call last):\nFile \"/data/www/project/instance/src/django/django/template/debug.py\", line 71, in render_node\n    result = node.render(context)\nFile \"/data/www/project/instance/lib/python2.4/site-packages/haystack/templatetags/more_like_this.py\", line 36, in render\n    sqs = sqs[:self.limit]\nFile \"/data/www/project/instance/lib/python2.4/site-packages/haystack/query.py\", line 208, in __getitem__\n    self._fill_cache(start, bound)\nFile \"/data/www/project/instance/lib/python2.4/site-packages/haystack/query.py\", line 119, in _fill_cache\n    results = self.query.get_results()\nFile \"/data/www/project/instance/lib/python2.4/site-packages/haystack/backends/__init__.py\", line 413, in get_results\n    self.run_mlt()\nFile \"/data/www/project/instance/lib/python2.4/site-packages/haystack/backends/__init__.py\", line 369, in run_mlt\n    results = self.backend.more_like_this(self._mlt_instance, additional_query_string)\nFile \"/data/www/project/instance/lib/python2.4/site-packages/xapian_backend.py\", line 443, in more_like_this\n    [expand.term for expand in enquire.get_eset(match.document.termlist_count(), rset, XHExpandDecider())]\nUnboundLocalError: local variable 'match' referenced before assignment\n```\n\nIn the spirit of Django's template system, shouldn't this error be silenced? See aeab22903e8fc8fa1b1c4d5edc725fbe2e66390a for a trivial patch\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/181/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/181/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/178", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/178/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/178/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/178/events", "html_url": "https://github.com/django-haystack/django-haystack/issues/178", "id": 128895, "node_id": "MDU6SXNzdWUxMjg4OTU=", "number": 178, "title": "Dummy backend clear method should accept no argument like other backend", "user": {"login": "batiste", "id": 66927, "node_id": "MDQ6VXNlcjY2OTI3", "avatar_url": "https://avatars.githubusercontent.com/u/66927?v=4", "gravatar_id": "", "url": "https://api.github.com/users/batiste", "html_url": "https://github.com/batiste", "followers_url": "https://api.github.com/users/batiste/followers", "following_url": "https://api.github.com/users/batiste/following{/other_user}", "gists_url": "https://api.github.com/users/batiste/gists{/gist_id}", "starred_url": "https://api.github.com/users/batiste/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/batiste/subscriptions", "organizations_url": "https://api.github.com/users/batiste/orgs", "repos_url": "https://api.github.com/users/batiste/repos", "events_url": "https://api.github.com/users/batiste/events{/privacy}", "received_events_url": "https://api.github.com/users/batiste/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2010-02-09T12:37:17Z", "updated_at": "2010-02-09T20:33:08Z", "closed_at": "2010-02-09T20:33:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\ndef clear(self, models):\n    pass\n```\n\nshould be\n\n```\ndef clear(self, models=[]):\n    pass\n```\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/178/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/178/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/175", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/175/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/175/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/175/events", "html_url": "https://github.com/django-haystack/django-haystack/issues/175", "id": 125885, "node_id": "MDU6SXNzdWUxMjU4ODU=", "number": 175, "title": "Update index and rebuild index commands should be executed in a defined order", "user": {"login": "mcroydon", "id": 1411, "node_id": "MDQ6VXNlcjE0MTE=", "avatar_url": "https://avatars.githubusercontent.com/u/1411?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mcroydon", "html_url": "https://github.com/mcroydon", "followers_url": "https://api.github.com/users/mcroydon/followers", "following_url": "https://api.github.com/users/mcroydon/following{/other_user}", "gists_url": "https://api.github.com/users/mcroydon/gists{/gist_id}", "starred_url": "https://api.github.com/users/mcroydon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mcroydon/subscriptions", "organizations_url": "https://api.github.com/users/mcroydon/orgs", "repos_url": "https://api.github.com/users/mcroydon/repos", "events_url": "https://api.github.com/users/mcroydon/events{/privacy}", "received_events_url": "https://api.github.com/users/mcroydon/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2010-02-04T21:05:56Z", "updated_at": "2010-02-07T04:32:32Z", "closed_at": "2010-02-07T04:32:32Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Current order is not predictable.\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/175/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/175/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/174", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/174/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/174/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/174/events", "html_url": "https://github.com/django-haystack/django-haystack/issues/174", "id": 125064, "node_id": "MDU6SXNzdWUxMjUwNjQ=", "number": 174, "title": "Solr hangs and runs out of memory when I do a date_facet", "user": {"login": "hlindset", "id": 15126, "node_id": "MDQ6VXNlcjE1MTI2", "avatar_url": "https://avatars.githubusercontent.com/u/15126?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hlindset", "html_url": "https://github.com/hlindset", "followers_url": "https://api.github.com/users/hlindset/followers", "following_url": "https://api.github.com/users/hlindset/following{/other_user}", "gists_url": "https://api.github.com/users/hlindset/gists{/gist_id}", "starred_url": "https://api.github.com/users/hlindset/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hlindset/subscriptions", "organizations_url": "https://api.github.com/users/hlindset/orgs", "repos_url": "https://api.github.com/users/hlindset/repos", "events_url": "https://api.github.com/users/hlindset/events{/privacy}", "received_events_url": "https://api.github.com/users/hlindset/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}, {"id": 8760, "node_id": "MDU6TGFiZWw4NzYw", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/backend%20:%20solr", "name": "backend : solr", "color": "d4c5f9", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2010-02-03T15:15:16Z", "updated_at": "2010-02-22T16:01:19Z", "closed_at": "2010-02-22T16:01:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "Solr hangs and then runs out of memory ever time I try to do a date_facet()\n\nThis is my `search_indexes.py` file. I've actually got two, but they are identical.\n\n```\nfrom haystack import indexes\nfrom haystack import site\nfrom blog.models import Post\n\nclass PostIndex(indexes.RealTimeSearchIndex):\n    text = indexes.CharField(document=True, use_template=True)\n    pub_date = indexes.DateTimeField(model_attr='published_date')\n\n    def get_queryset(self):\n        return Post.objects.published()\n\nsite.register(Post, PostIndex)\n```\n\nThis is my query.\n\n```\n>>> SearchQuerySet().date_facet('pub_date', start_date=datetime.date(2010, 2, 1), end_date=datetime.date(2010, 2, 3), gap_by='day')\nFailed to query Solr using '*:*': [Reason: None]\n```\n\nAnd finally, here's the java exception:\n\n```\nFeb 3, 2010 4:07:19 PM org.apache.solr.common.SolrException log\nSEVERE: java.lang.OutOfMemoryError: Java heap space\n    at java.util.Arrays.copyOf(Arrays.java:2734)\n    at java.util.ArrayList.ensureCapacity(ArrayList.java:167)\n    at java.util.ArrayList.add(ArrayList.java:351)\n    at org.apache.solr.common.util.NamedList.add(NamedList.java:145)\n    at org.apache.solr.request.SimpleFacets.getFacetDateCounts(SimpleFacets.java:620)\n    at org.apache.solr.request.SimpleFacets.getFacetCounts(SimpleFacets.java:167)\n    at org.apache.solr.handler.component.FacetComponent.process(FacetComponent.java:72)\n    at org.apache.solr.handler.component.SearchHandler.handleRequestBody(SearchHandler.java:195)\n    at org.apache.solr.handler.RequestHandlerBase.handleRequest(RequestHandlerBase.java:131)\n    at org.apache.solr.core.SolrCore.execute(SolrCore.java:1316)\n    at org.apache.solr.servlet.SolrDispatchFilter.execute(SolrDispatchFilter.java:338)\n    at org.apache.solr.servlet.SolrDispatchFilter.doFilter(SolrDispatchFilter.java:241)\n    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1089)\n    at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:365)\n    at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)\n    at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:181)\n    at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:712)\n    at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:405)\n    at org.mortbay.jetty.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:211)\n    at org.mortbay.jetty.handler.HandlerCollection.handle(HandlerCollection.java:114)\n    at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:139)\n    at org.mortbay.jetty.Server.handle(Server.java:285)\n    at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:502)\n    at org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:821)\n    at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:513)\n    at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:208)\n    at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:378)\n    at org.mortbay.jetty.bio.SocketConnector$Connection.run(SocketConnector.java:226)\n    at org.mortbay.thread.BoundedThreadPool$PoolThread.run(BoundedThreadPool.java:442)\n```\n\nDo you need any other data?\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/174/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/174/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/172", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/172/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/172/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/172/events", "html_url": "https://github.com/django-haystack/django-haystack/issues/172", "id": 120185, "node_id": "MDU6SXNzdWUxMjAxODU=", "number": 172, "title": "SearchView always binds form, preventing initial data from loading", "user": {"login": "greatestape", "id": 31014, "node_id": "MDQ6VXNlcjMxMDE0", "avatar_url": "https://avatars.githubusercontent.com/u/31014?v=4", "gravatar_id": "", "url": "https://api.github.com/users/greatestape", "html_url": "https://github.com/greatestape", "followers_url": "https://api.github.com/users/greatestape/followers", "following_url": "https://api.github.com/users/greatestape/following{/other_user}", "gists_url": "https://api.github.com/users/greatestape/gists{/gist_id}", "starred_url": "https://api.github.com/users/greatestape/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/greatestape/subscriptions", "organizations_url": "https://api.github.com/users/greatestape/orgs", "repos_url": "https://api.github.com/users/greatestape/repos", "events_url": "https://api.github.com/users/greatestape/events{/privacy}", "received_events_url": "https://api.github.com/users/greatestape/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2010-01-26T15:14:30Z", "updated_at": "2010-02-07T05:46:29Z", "closed_at": "2010-02-07T05:46:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "The build_form method in SearchView constructs the form like this:\n\n```\nreturn self.form_class(self.request.GET, ... )\n```\n\nBecause request.GET is never None, the form is always bound, even if no form parameters are in GET (even if no parameters are in GET at all).\n\nInitial data only gets loaded into non-bound forms, so this code prevents initial data from ever getting displayed. The default SearchForm doesn't have any fields with initial, but my subclass of SearchForm does, and I can imagine this being a common usage.\n\nThe solution I recommend is \n\n```\ndef build_form(self):\n    if 'q' in self.request.GET:\n        data = self.request.GET\n    else:\n        data = None\n    if self.searchqueryset is None:\n        return self.form_class(data, load_all=self.load_all)\n    return self.form_class(data, searchqueryset=self.searchqueryset, load_all=self.load_all)\n```\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/172/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/172/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/165", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/165/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/165/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/165/events", "html_url": "https://github.com/django-haystack/django-haystack/issues/165", "id": 113260, "node_id": "MDU6SXNzdWUxMTMyNjA=", "number": 165, "title": "Haystack will always fail with import error with Python2.4 with Whoosh", "user": {"login": "shabda", "id": 17330, "node_id": "MDQ6VXNlcjE3MzMw", "avatar_url": "https://avatars.githubusercontent.com/u/17330?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shabda", "html_url": "https://github.com/shabda", "followers_url": "https://api.github.com/users/shabda/followers", "following_url": "https://api.github.com/users/shabda/following{/other_user}", "gists_url": "https://api.github.com/users/shabda/gists{/gist_id}", "starred_url": "https://api.github.com/users/shabda/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shabda/subscriptions", "organizations_url": "https://api.github.com/users/shabda/orgs", "repos_url": "https://api.github.com/users/shabda/repos", "events_url": "https://api.github.com/users/shabda/events{/privacy}", "received_events_url": "https://api.github.com/users/shabda/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}, {"id": 8217, "node_id": "MDU6TGFiZWw4MjE3", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/backend%20:%20whoosh", "name": "backend : whoosh", "color": "d4c5f9", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2010-01-15T05:47:33Z", "updated_at": "2010-01-18T04:53:34Z", "closed_at": "2010-01-18T04:53:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "haystack/backends/whoosh_backend.py\n\nputs whoosh imports in a Except ImportError block, however whoosh imports defaultdict, which is not available in 2.4. his means even after installing whoosh I got messages saying whoosh was not installed, which was confusing.\n\nSolution:\n\nJust have whoosh in the except ImportError block (to ascertain whoosh is installed). The other things should be imported normally, so that if the fail, the correct Exception propagates.\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/165/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/165/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/161", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/161/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/161/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/161/events", "html_url": "https://github.com/django-haystack/django-haystack/issues/161", "id": 111049, "node_id": "MDU6SXNzdWUxMTEwNDk=", "number": 161, "title": "Queries need to be sanitized before being compiled as regular expressions.", "user": {"login": "alanzoppa", "id": 180469, "node_id": "MDQ6VXNlcjE4MDQ2OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/180469?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alanzoppa", "html_url": "https://github.com/alanzoppa", "followers_url": "https://api.github.com/users/alanzoppa/followers", "following_url": "https://api.github.com/users/alanzoppa/following{/other_user}", "gists_url": "https://api.github.com/users/alanzoppa/gists{/gist_id}", "starred_url": "https://api.github.com/users/alanzoppa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alanzoppa/subscriptions", "organizations_url": "https://api.github.com/users/alanzoppa/orgs", "repos_url": "https://api.github.com/users/alanzoppa/repos", "events_url": "https://api.github.com/users/alanzoppa/events{/privacy}", "received_events_url": "https://api.github.com/users/alanzoppa/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2010-01-12T04:07:06Z", "updated_at": "2010-02-08T05:41:54Z", "closed_at": "2010-02-08T05:41:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "I run a code sharing site (http://www.foobook.org) using xapian as a backend and haystack 1.1.0-alpha (problem was the same with 1.0). Naturally, \"i++\" and the like are common queries. I don't _think_ I'm doing anything wrong, but when using highlight, it fails with the following traceback. It seems that Highlighter.render_html() chokes on some things that look like regular expressions. I fixed this (for my purposes anyway) with one line. My alteration of the function follows the traceback.\n\nEnvironment:\n\nRequest Method: GET\nRequest URL: http://127.0.0.1:8000/search/?q=i%2B%2B&syntax=all&license=all\nDjango Version: 1.2 alpha 1\nPython Version: 2.6.4\nInstalled Applications:\nredacted\n\nInstalled Middleware:\nredacted\n\nTemplate error:\nIn template search/search.html, error at line 13\n   Caught an exception while rendering: multiple repeat\n   3 : {% load highlight %}\n\n   4 : {% load humanize_scraps %}\n\n   5 : \n\n   6 : {% block title %}Search for {{query}}{% endblock %}\n\n   7 : \n\n   8 : {% block content %}\n\n   9 : \n\n   10 : \n\n   11 : <h1>Results for <span class=\"highlighted\">{{ query }}</span></h1>\n\n   12 :     {% if page.object_list %} \n\n   13 :          {% for result in page.object_list %} \n\n   14 :             <h4><a href=\"{% url foobook.scraps.views.scrap result.object.user.username result.object.url_title %}\">{{ result.object.title }}</a></h4>\n\n   15 :             <h5>Syntax: {{ result.syntax|syntax }}</h5>\n\n   16 :             <h5>License: {{ result.license|license }}</h5>\n\n   17 :             <h5>User: <a href=\"/{{ result.object.user.username }}/scraps/\">{{ result.object.user.username }}</a></h5>\n\n   18 :             <p class=\"searchdescription\">{{ result.object.description }}</p>\n\n   19 :             <div class=\"codeexcerpt\">{% highlight result.object.text with query max_length 140 %}</div>\n\n   20 : \n\n   21 :         {% empty %}\n\n   22 :             <p>No results found.</p>\n\n   23 :         {% endfor %}\n\nTraceback:\nFile \"/usr/local/lib/python2.6/dist-packages/django/core/handlers/base.py\" in get_response\n1.                     response = callback(request, _callback_args, *_callback_kwargs)\n   File \"/usr/local/lib/python2.6/dist-packages/haystack/views.py\" in **call**\n2.         return self.create_response()\n   File \"/usr/local/lib/python2.6/dist-packages/haystack/views.py\" in create_response\n3.         return render_to_response(self.template, context, context_instance=self.context_class(self.request))\n   File \"/usr/local/lib/python2.6/dist-packages/django/shortcuts/**init**.py\" in render_to_response\n4.     return HttpResponse(loader.render_to_string(_args, *_kwargs), **httpresponse_kwargs)\n   File \"/usr/local/lib/python2.6/dist-packages/django/template/loader.py\" in render_to_string\n5.     return t.render(context_instance)\n   File \"/usr/local/lib/python2.6/dist-packages/django/template/**init**.py\" in render\n6.             return self._render(context)\n   File \"/usr/local/lib/python2.6/dist-packages/django/template/__init__.py\" in _render\n7.         return self.nodelist.render(context)\n   File \"/usr/local/lib/python2.6/dist-packages/django/template/**init**.py\" in render\n8.                 bits.append(self.render_node(node, context))\n   File \"/usr/local/lib/python2.6/dist-packages/django/template/debug.py\" in render_node\n9.             result = node.render(context)\n   File \"/usr/local/lib/python2.6/dist-packages/django/template/loader_tags.py\" in render\n10.         return compiled_parent._render(context)\n    File \"/usr/local/lib/python2.6/dist-packages/django/template/__init__.py\" in _render\n11.         return self.nodelist.render(context)\n    File \"/usr/local/lib/python2.6/dist-packages/django/template/**init**.py\" in render\n12.                 bits.append(self.render_node(node, context))\n    File \"/usr/local/lib/python2.6/dist-packages/django/template/debug.py\" in render_node\n13.             result = node.render(context)\n    File \"/usr/local/lib/python2.6/dist-packages/django/template/defaulttags.py\" in render\n14.         output = self.nodelist.render(context)\n    File \"/usr/local/lib/python2.6/dist-packages/django/template/**init**.py\" in render\n15.                 bits.append(self.render_node(node, context))\n    File \"/usr/local/lib/python2.6/dist-packages/django/template/debug.py\" in render_node\n16.             result = node.render(context)\n    File \"/usr/local/lib/python2.6/dist-packages/django/template/loader_tags.py\" in render\n17.             result = block.nodelist.render(context)\n    File \"/usr/local/lib/python2.6/dist-packages/django/template/**init**.py\" in render\n18.                 bits.append(self.render_node(node, context))\n    File \"/usr/local/lib/python2.6/dist-packages/django/template/debug.py\" in render_node\n19.             result = node.render(context)\n    File \"/usr/local/lib/python2.6/dist-packages/django/template/defaulttags.py\" in render\n20.             return self.nodelist_true.render(context)\n    File \"/usr/local/lib/python2.6/dist-packages/django/template/**init**.py\" in render\n21.                 bits.append(self.render_node(node, context))\n    File \"/usr/local/lib/python2.6/dist-packages/django/template/debug.py\" in render_node\n22.             raise wrapped\n\nException Type: TemplateSyntaxError at /search/\nException Value: Caught an exception while rendering: multiple repeat\n\n```\ndef render_html(self, highlight_locations=None, start_offset=None, end_offset=None):\n    # Start by chopping the block down to the proper window.\n    highlighted_chunk = self.text_block[start_offset:end_offset]\n\n    for word in self.query_words:\n        word = re.sub(r'\\+', r'\\\\\\+', word) # this is what I added\n        word_re = re.compile(\"(%s)\" % word, re.I)\n\n        if self.css_class:\n            highlighted_chunk = re.sub(word_re, r'<%s class=\"%s\">\\1</%s>' % (self.html_tag, self.css_class, self.html_tag), highlighted_chunk)\n        else:\n            highlighted_chunk = re.sub(word_re, r'<%s>\\1</%s>' % (self.html_tag, self.html_tag), highlighted_chunk)\n\n    if start_offset > 0:\n        highlighted_chunk = '...%s' % highlighted_chunk\n\n    if end_offset < len(self.text_block):\n        highlighted_chunk = '%s...' % highlighted_chunk\n\n    return highlighted_chunk\n```\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/161/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/161/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/157", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/157/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/157/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/157/events", "html_url": "https://github.com/django-haystack/django-haystack/issues/157", "id": 99544, "node_id": "MDU6SXNzdWU5OTU0NA==", "number": 157, "title": "{% highlight %} - bug", "user": {"login": "RobertGawron", "id": 169230, "node_id": "MDQ6VXNlcjE2OTIzMA==", "avatar_url": "https://avatars.githubusercontent.com/u/169230?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RobertGawron", "html_url": "https://github.com/RobertGawron", "followers_url": "https://api.github.com/users/RobertGawron/followers", "following_url": "https://api.github.com/users/RobertGawron/following{/other_user}", "gists_url": "https://api.github.com/users/RobertGawron/gists{/gist_id}", "starred_url": "https://api.github.com/users/RobertGawron/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RobertGawron/subscriptions", "organizations_url": "https://api.github.com/users/RobertGawron/orgs", "repos_url": "https://api.github.com/users/RobertGawron/repos", "events_url": "https://api.github.com/users/RobertGawron/events{/privacy}", "received_events_url": "https://api.github.com/users/RobertGawron/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2009-12-18T01:42:19Z", "updated_at": "2009-12-19T10:21:49Z", "closed_at": "2009-12-19T08:30:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "IMHO there is a bug in your highlighter, take a look:\n\n{% highlight \"xxxxxxxxxxxxx foo bbxxxxx foo\" with \"foo\" max_length 5\nhtml_tag \"span\"  %}\n\nthis will produce \"xxxxx...\"\n\nSubstring started from 0 is incorrect in this case because there isn't\nany keyword to highlight. IMHO this should return \"...foo b...\"\ninstead - it's much better substring because it contain highlighted\nkey. I made a little research and found (IMHO) problem in find_window\nfunction in utils.py:\n\n```\n   best_start = 0\n   best_end = self.max_length\n\n   # here you check if context is valid\n\n   for count, start in enumerate(words_found[:-1]):\n       # here  search for substring with the highest keywords density\n\n   return (best_start, best_end)\n```\n\nIf you don't find better substring you should return susbstring\nstarted from index of occurrence of first keyword, not from 0.\n\nIMHO this could be fixed by adding before this line:\n\n```\n   for count, start in enumerate(words_found[:-1]):\n```\n\nthis code:\n\n```\n   best_start = words_found[:-1][0]\n   best_end = best_start + self.max_length\n```\n\nregards,\nRobert Gawron\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/157/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/157/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/154", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/154/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/154/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/154/events", "html_url": "https://github.com/django-haystack/django-haystack/issues/154", "id": 98757, "node_id": "MDU6SXNzdWU5ODc1Nw==", "number": 154, "title": "Whoosh score attributes are always zero.", "user": {"login": "ansonschall", "id": 28018, "node_id": "MDQ6VXNlcjI4MDE4", "avatar_url": "https://avatars.githubusercontent.com/u/28018?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ansonschall", "html_url": "https://github.com/ansonschall", "followers_url": "https://api.github.com/users/ansonschall/followers", "following_url": "https://api.github.com/users/ansonschall/following{/other_user}", "gists_url": "https://api.github.com/users/ansonschall/gists{/gist_id}", "starred_url": "https://api.github.com/users/ansonschall/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ansonschall/subscriptions", "organizations_url": "https://api.github.com/users/ansonschall/orgs", "repos_url": "https://api.github.com/users/ansonschall/repos", "events_url": "https://api.github.com/users/ansonschall/events{/privacy}", "received_events_url": "https://api.github.com/users/ansonschall/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}, {"id": 8217, "node_id": "MDU6TGFiZWw4MjE3", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/backend%20:%20whoosh", "name": "backend : whoosh", "color": "d4c5f9", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2009-12-16T22:32:16Z", "updated_at": "2009-12-19T07:23:16Z", "closed_at": "2009-12-19T07:23:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm using Haystack 1.0.1 and Whoosh 0.3.9. Searching appears to return correct results, but each result has a score attribute of 0. When I use Solr instead, I don't experience the problem.\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/154/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/154/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/153", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/153/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/153/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/153/events", "html_url": "https://github.com/django-haystack/django-haystack/issues/153", "id": 98537, "node_id": "MDU6SXNzdWU5ODUzNw==", "number": 153, "title": "``EmptySearchQuerySet`` can consume a lot of memory", "user": {"login": "toastdriven", "id": 2449, "node_id": "MDQ6VXNlcjI0NDk=", "avatar_url": "https://avatars.githubusercontent.com/u/2449?v=4", "gravatar_id": "", "url": "https://api.github.com/users/toastdriven", "html_url": "https://github.com/toastdriven", "followers_url": "https://api.github.com/users/toastdriven/followers", "following_url": "https://api.github.com/users/toastdriven/following{/other_user}", "gists_url": "https://api.github.com/users/toastdriven/gists{/gist_id}", "starred_url": "https://api.github.com/users/toastdriven/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/toastdriven/subscriptions", "organizations_url": "https://api.github.com/users/toastdriven/orgs", "repos_url": "https://api.github.com/users/toastdriven/repos", "events_url": "https://api.github.com/users/toastdriven/events{/privacy}", "received_events_url": "https://api.github.com/users/toastdriven/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}, {"id": 8216, "node_id": "MDU6TGFiZWw4MjE2", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/highpriority", "name": "highpriority", "color": "d93f0b", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2009-12-16T15:59:42Z", "updated_at": "2013-07-16T17:54:34Z", "closed_at": "2009-12-17T07:17:02Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "From http://groups.google.com/group/django-haystack/browse_thread/thread/de45b8bd4e13a3e7?hl=en and important given that the `SearchView` now uses it by default.\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/153/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/153/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/148", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/148/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/148/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/148/events", "html_url": "https://github.com/django-haystack/django-haystack/issues/148", "id": 92357, "node_id": "MDU6SXNzdWU5MjM1Nw==", "number": 148, "title": "Solr TestCases don't always initialize the search index", "user": {"login": "notanumber", "id": 1370, "node_id": "MDQ6VXNlcjEzNzA=", "avatar_url": "https://avatars.githubusercontent.com/u/1370?v=4", "gravatar_id": "", "url": "https://api.github.com/users/notanumber", "html_url": "https://github.com/notanumber", "followers_url": "https://api.github.com/users/notanumber/followers", "following_url": "https://api.github.com/users/notanumber/following{/other_user}", "gists_url": "https://api.github.com/users/notanumber/gists{/gist_id}", "starred_url": "https://api.github.com/users/notanumber/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/notanumber/subscriptions", "organizations_url": "https://api.github.com/users/notanumber/orgs", "repos_url": "https://api.github.com/users/notanumber/repos", "events_url": "https://api.github.com/users/notanumber/events{/privacy}", "received_events_url": "https://api.github.com/users/notanumber/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2009-12-04T16:59:54Z", "updated_at": "2009-12-05T04:00:18Z", "closed_at": "2009-12-05T04:00:18Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "LiveSolrSearchQueryTestCase is neglecting this bit in the `SetUp` method:\n\n```\n    site = SearchSite()\n    site.register(MockModel, SolrMockSearchIndex)\n    sb = SearchBackend(site=site)\n    smmi = SolrMockSearchIndex(MockModel, backend=sb)\n```\n\nAs a result, if SolrSearchBackendTestCase isn't preformed prior, this test case will fail.\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/148/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/148/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/146", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/146/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/146/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/146/events", "html_url": "https://github.com/django-haystack/django-haystack/issues/146", "id": 91301, "node_id": "MDU6SXNzdWU5MTMwMQ==", "number": 146, "title": "Problem with sites.get_current()", "user": {"login": "tBaxter", "id": 161070, "node_id": "MDQ6VXNlcjE2MTA3MA==", "avatar_url": "https://avatars.githubusercontent.com/u/161070?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tBaxter", "html_url": "https://github.com/tBaxter", "followers_url": "https://api.github.com/users/tBaxter/followers", "following_url": "https://api.github.com/users/tBaxter/following{/other_user}", "gists_url": "https://api.github.com/users/tBaxter/gists{/gist_id}", "starred_url": "https://api.github.com/users/tBaxter/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tBaxter/subscriptions", "organizations_url": "https://api.github.com/users/tBaxter/orgs", "repos_url": "https://api.github.com/users/tBaxter/repos", "events_url": "https://api.github.com/users/tBaxter/events{/privacy}", "received_events_url": "https://api.github.com/users/tBaxter/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2009-12-02T21:04:23Z", "updated_at": "2016-01-14T21:36:07Z", "closed_at": "2016-01-14T21:36:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "using \ncurrent_site = Site.objects.get_current() in the model breaks `handle_registrations` when used from a request but not from a management command.\n\nSnippet:\nfrom django.contrib.sites.models import Site\n...\n\nclass Entry(models.Model):\n    blog             = models.ForeignKey(Blog, limit_choices_to={'site':Site.objects.get_current()}, blank=True, null=True)\n....\n\nusing settings.SITE_ID instead works, though.\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/146/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/146/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/139", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/139/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/139/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/139/events", "html_url": "https://github.com/django-haystack/django-haystack/issues/139", "id": 88204, "node_id": "MDU6SXNzdWU4ODIwNA==", "number": 139, "title": "``handle_registrations`` Causing Issues?", "user": {"login": "toastdriven", "id": 2449, "node_id": "MDQ6VXNlcjI0NDk=", "avatar_url": "https://avatars.githubusercontent.com/u/2449?v=4", "gravatar_id": "", "url": "https://api.github.com/users/toastdriven", "html_url": "https://github.com/toastdriven", "followers_url": "https://api.github.com/users/toastdriven/followers", "following_url": "https://api.github.com/users/toastdriven/following{/other_user}", "gists_url": "https://api.github.com/users/toastdriven/gists{/gist_id}", "starred_url": "https://api.github.com/users/toastdriven/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/toastdriven/subscriptions", "organizations_url": "https://api.github.com/users/toastdriven/orgs", "repos_url": "https://api.github.com/users/toastdriven/repos", "events_url": "https://api.github.com/users/toastdriven/events{/privacy}", "received_events_url": "https://api.github.com/users/toastdriven/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2009-11-25T19:20:40Z", "updated_at": "2009-12-01T15:06:42Z", "closed_at": "2009-12-01T15:06:42Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Under some (not totally clear) conditions, the stack inspecting portions of `handle_registrations` fall down. This check used to be required but may no longer be needed. Investigate.\n\nTraceback: http://dpaste.com/125099/\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/139/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/139/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/134", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/134/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/134/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/134/events", "html_url": "https://github.com/django-haystack/django-haystack/issues/134", "id": 86046, "node_id": "MDU6SXNzdWU4NjA0Ng==", "number": 134, "title": "Infinite loop when paging the last page with RelatedSearchQuerySet ", "user": {"login": "askfor", "id": 113444, "node_id": "MDQ6VXNlcjExMzQ0NA==", "avatar_url": "https://avatars.githubusercontent.com/u/113444?v=4", "gravatar_id": "", "url": "https://api.github.com/users/askfor", "html_url": "https://github.com/askfor", "followers_url": "https://api.github.com/users/askfor/followers", "following_url": "https://api.github.com/users/askfor/following{/other_user}", "gists_url": "https://api.github.com/users/askfor/gists{/gist_id}", "starred_url": "https://api.github.com/users/askfor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/askfor/subscriptions", "organizations_url": "https://api.github.com/users/askfor/orgs", "repos_url": "https://api.github.com/users/askfor/repos", "events_url": "https://api.github.com/users/askfor/events{/privacy}", "received_events_url": "https://api.github.com/users/askfor/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}, {"id": 16626, "node_id": "MDU6TGFiZWwxNjYyNg==", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/needs%20review", "name": "needs review", "color": "fbca04", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2009-11-21T06:50:56Z", "updated_at": "2009-11-23T03:30:29Z", "closed_at": "2009-11-23T03:30:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "I use xapian as backend.\ntest code:  \n    results = RelatedSearchQuerySet().filter(name='keyword')\n    print results.count()\n    paginator = Paginator(results, 4, allow_empty_first_page=True)\n    print paginator.num_pages\n    page_obj = paginator.page(3)\n\nThere're 11 result, so the total page is 3.\nWhen fetch the 3rd (last) page.  i got a infinite loop (fetch the first and second pages is fine).\n\nthis's the loop through which can be never passed.\n\n```\n            while len(self._result_cache) < bound and not self._cache_is_full():\n                current_max = len(self._result_cache) + self._ignored_result_count\n                self._fill_cache(current_max, current_max + ITERATOR_LOAD_PER_QUERY)\n```\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/134/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/134/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/129", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/129/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/129/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/129/events", "html_url": "https://github.com/django-haystack/django-haystack/issues/129", "id": 84786, "node_id": "MDU6SXNzdWU4NDc4Ng==", "number": 129, "title": "more_like_this() method doesn't work with .defer() ", "user": {"login": "simonw", "id": 9599, "node_id": "MDQ6VXNlcjk1OTk=", "avatar_url": "https://avatars.githubusercontent.com/u/9599?v=4", "gravatar_id": "", "url": "https://api.github.com/users/simonw", "html_url": "https://github.com/simonw", "followers_url": "https://api.github.com/users/simonw/followers", "following_url": "https://api.github.com/users/simonw/following{/other_user}", "gists_url": "https://api.github.com/users/simonw/gists{/gist_id}", "starred_url": "https://api.github.com/users/simonw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/simonw/subscriptions", "organizations_url": "https://api.github.com/users/simonw/orgs", "repos_url": "https://api.github.com/users/simonw/repos", "events_url": "https://api.github.com/users/simonw/events{/privacy}", "received_events_url": "https://api.github.com/users/simonw/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2009-11-18T09:15:23Z", "updated_at": "2009-11-22T07:31:02Z", "closed_at": "2009-11-22T07:31:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "Calling sqs.more_like_this(article) when article is an ORM object retrieved from a QuerySet created using .defer() throws an error that the ModelBase class has not been registered with haystack.\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/129/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/129/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/121", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/121/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/121/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/121/events", "html_url": "https://github.com/django-haystack/django-haystack/issues/121", "id": 78580, "node_id": "MDU6SXNzdWU3ODU4MA==", "number": 121, "title": "SearchIndex shouldn't automatically signal updates", "user": {"login": "notanumber", "id": 1370, "node_id": "MDQ6VXNlcjEzNzA=", "avatar_url": "https://avatars.githubusercontent.com/u/1370?v=4", "gravatar_id": "", "url": "https://api.github.com/users/notanumber", "html_url": "https://github.com/notanumber", "followers_url": "https://api.github.com/users/notanumber/followers", "following_url": "https://api.github.com/users/notanumber/following{/other_user}", "gists_url": "https://api.github.com/users/notanumber/gists{/gist_id}", "starred_url": "https://api.github.com/users/notanumber/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/notanumber/subscriptions", "organizations_url": "https://api.github.com/users/notanumber/orgs", "repos_url": "https://api.github.com/users/notanumber/repos", "events_url": "https://api.github.com/users/notanumber/events{/privacy}", "received_events_url": "https://api.github.com/users/notanumber/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2009-11-04T20:29:22Z", "updated_at": "2009-11-22T05:56:53Z", "closed_at": "2009-11-22T05:56:53Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "`SearchIndex` shouldn't automatically signal updates to a model to cause reindexing.  Instead, I'm proposing that this should be done in a separate class that could be added to an index as required.  In this way, it'd be up to the developer to decide how to reindex the site content.\n\nI've attached a patch for the above proposal, but this would entail a (sort of) backwards incompatible change.\n\nhttp://gist.github.com/226348\n\nAnother possible way of doing this would be to have a `BaseSearchIndex` that has all of the current functionality minus the signal bits and a `SearchIndex` that extends `BaseSearchIndex` to add the signal bits.  This way wouldn't \"break\" any existing sites.\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/121/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/121/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/120", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/120/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/120/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/120/events", "html_url": "https://github.com/django-haystack/django-haystack/issues/120", "id": 75200, "node_id": "MDU6SXNzdWU3NTIwMA==", "number": 120, "title": "Make `more_like_this` tag gracefully fail?", "user": {"login": "toastdriven", "id": 2449, "node_id": "MDQ6VXNlcjI0NDk=", "avatar_url": "https://avatars.githubusercontent.com/u/2449?v=4", "gravatar_id": "", "url": "https://api.github.com/users/toastdriven", "html_url": "https://github.com/toastdriven", "followers_url": "https://api.github.com/users/toastdriven/followers", "following_url": "https://api.github.com/users/toastdriven/following{/other_user}", "gists_url": "https://api.github.com/users/toastdriven/gists{/gist_id}", "starred_url": "https://api.github.com/users/toastdriven/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/toastdriven/subscriptions", "organizations_url": "https://api.github.com/users/toastdriven/orgs", "repos_url": "https://api.github.com/users/toastdriven/repos", "events_url": "https://api.github.com/users/toastdriven/events{/privacy}", "received_events_url": "https://api.github.com/users/toastdriven/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2009-10-28T16:21:56Z", "updated_at": "2009-11-14T07:10:09Z", "closed_at": "2009-11-14T07:10:09Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Need `more_like_this` tag to fail more gracefully when there's no search available.\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/120/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/120/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/114", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/114/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/114/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/114/events", "html_url": "https://github.com/django-haystack/django-haystack/issues/114", "id": 73968, "node_id": "MDU6SXNzdWU3Mzk2OA==", "number": 114, "title": "Fix the use of `default` in SearchFields.", "user": {"login": "toastdriven", "id": 2449, "node_id": "MDQ6VXNlcjI0NDk=", "avatar_url": "https://avatars.githubusercontent.com/u/2449?v=4", "gravatar_id": "", "url": "https://api.github.com/users/toastdriven", "html_url": "https://github.com/toastdriven", "followers_url": "https://api.github.com/users/toastdriven/followers", "following_url": "https://api.github.com/users/toastdriven/following{/other_user}", "gists_url": "https://api.github.com/users/toastdriven/gists{/gist_id}", "starred_url": "https://api.github.com/users/toastdriven/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/toastdriven/subscriptions", "organizations_url": "https://api.github.com/users/toastdriven/orgs", "repos_url": "https://api.github.com/users/toastdriven/repos", "events_url": "https://api.github.com/users/toastdriven/events{/privacy}", "received_events_url": "https://api.github.com/users/toastdriven/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2009-10-26T15:12:39Z", "updated_at": "2009-11-16T07:59:45Z", "closed_at": "2009-11-16T07:59:45Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The `default` kwarg doesn't behave the way one would think it might. Used for internal bits when it should be used for supplying a reasonable default.\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/114/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/114/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/108", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/108/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/108/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/108/events", "html_url": "https://github.com/django-haystack/django-haystack/issues/108", "id": 70834, "node_id": "MDU6SXNzdWU3MDgzNA==", "number": 108, "title": "Error handling", "user": {"login": "acdha", "id": 46565, "node_id": "MDQ6VXNlcjQ2NTY1", "avatar_url": "https://avatars.githubusercontent.com/u/46565?v=4", "gravatar_id": "", "url": "https://api.github.com/users/acdha", "html_url": "https://github.com/acdha", "followers_url": "https://api.github.com/users/acdha/followers", "following_url": "https://api.github.com/users/acdha/following{/other_user}", "gists_url": "https://api.github.com/users/acdha/gists{/gist_id}", "starred_url": "https://api.github.com/users/acdha/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/acdha/subscriptions", "organizations_url": "https://api.github.com/users/acdha/orgs", "repos_url": "https://api.github.com/users/acdha/repos", "events_url": "https://api.github.com/users/acdha/events{/privacy}", "received_events_url": "https://api.github.com/users/acdha/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2009-10-19T18:13:45Z", "updated_at": "2009-11-20T20:04:02Z", "closed_at": "2009-11-14T07:11:21Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Currently, exceptions are simply caught by the caller. This is sub-optimal\nbecause it forces the caller to check everywhere they use haystack, which is\nparticularly tedious when using templatetags.\n\nThis commit illustrates a very basic approach which seems likely to lead to\nrepetitive coding:\n\n[acdha django-haystack 5b42e32](http://github.com/acdha/django-haystack/commit/5b42e32b644533f20584c3763e24010faef4b5fb)\n\nPossible better approaches:\n1. Haystack is considered non-critical and the semantics are simple: failures\n   are caught, logged and an empty queryset is returned, possibly with some sort\n   of error flag:\n   \n   ```\n   try:\n       backend.search(\u2026)\n   except Exception:\n       logging(\u2026)\n       return SearchQuerySet()\n   ```\n2. The default error handler does nothing but log and can be extended with\n   something which can choose to ignore, modify or raise the exception: \n\nlocal_settings.py:\n\n```\n    HAYSTACK_ERROR_HANDLER=\"myapp.utils.search_error_handler\"\n```\n\nhaystack:\n\n```\n    try:\n        \u2026\n    except Exception, e:\n        logging(\u2026)\n        if getattr(settings, \"HAYSTACK_ERROR_HANDLER\", None):\n            return settings.HAYSTACK_ERROR_HANDLER(e)\n```\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/108/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/108/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/102", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/102/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/102/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/102/events", "html_url": "https://github.com/django-haystack/django-haystack/issues/102", "id": 69014, "node_id": "MDU6SXNzdWU2OTAxNA==", "number": 102, "title": "\"load_backend\" function does not respect \"backend_name\" parameter", "user": {"login": "newgene", "id": 130158, "node_id": "MDQ6VXNlcjEzMDE1OA==", "avatar_url": "https://avatars.githubusercontent.com/u/130158?v=4", "gravatar_id": "", "url": "https://api.github.com/users/newgene", "html_url": "https://github.com/newgene", "followers_url": "https://api.github.com/users/newgene/followers", "following_url": "https://api.github.com/users/newgene/following{/other_user}", "gists_url": "https://api.github.com/users/newgene/gists{/gist_id}", "starred_url": "https://api.github.com/users/newgene/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/newgene/subscriptions", "organizations_url": "https://api.github.com/users/newgene/orgs", "repos_url": "https://api.github.com/users/newgene/repos", "events_url": "https://api.github.com/users/newgene/events{/privacy}", "received_events_url": "https://api.github.com/users/newgene/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2009-10-14T22:00:02Z", "updated_at": "2009-10-17T21:28:06Z", "closed_at": "2009-10-17T21:28:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "\"backend_name\" parameter of \"load_backend\" function has no effect. Returned backend module is always based on global \"settings.HAYSTACK_SEARCH_ENGINE\". So the last three lines of this code block always return the same backend.\n\nfrom haystack import load_backend\nload_backend('solr')\nload_backend('xapian')\nload_backend('whoosh')\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/102/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/102/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/100", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/100/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/100/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/100/events", "html_url": "https://github.com/django-haystack/django-haystack/issues/100", "id": 68173, "node_id": "MDU6SXNzdWU2ODE3Mw==", "number": 100, "title": "Pagination breaks `raw_search`", "user": {"login": "toastdriven", "id": 2449, "node_id": "MDQ6VXNlcjI0NDk=", "avatar_url": "https://avatars.githubusercontent.com/u/2449?v=4", "gravatar_id": "", "url": "https://api.github.com/users/toastdriven", "html_url": "https://github.com/toastdriven", "followers_url": "https://api.github.com/users/toastdriven/followers", "following_url": "https://api.github.com/users/toastdriven/following{/other_user}", "gists_url": "https://api.github.com/users/toastdriven/gists{/gist_id}", "starred_url": "https://api.github.com/users/toastdriven/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/toastdriven/subscriptions", "organizations_url": "https://api.github.com/users/toastdriven/orgs", "repos_url": "https://api.github.com/users/toastdriven/repos", "events_url": "https://api.github.com/users/toastdriven/events{/privacy}", "received_events_url": "https://api.github.com/users/toastdriven/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2009-10-13T03:26:06Z", "updated_at": "2009-11-16T05:26:04Z", "closed_at": "2009-11-16T05:26:04Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Due to `self.query._reset()` being called in `_fill_cache`.\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/100/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/100/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/98", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/98/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/98/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/98/events", "html_url": "https://github.com/django-haystack/django-haystack/issues/98", "id": 66149, "node_id": "MDU6SXNzdWU2NjE0OQ==", "number": 98, "title": "SearchIndex fields using model_attr should raise an exception if the attribute is invalid", "user": {"login": "notanumber", "id": 1370, "node_id": "MDQ6VXNlcjEzNzA=", "avatar_url": "https://avatars.githubusercontent.com/u/1370?v=4", "gravatar_id": "", "url": "https://api.github.com/users/notanumber", "html_url": "https://github.com/notanumber", "followers_url": "https://api.github.com/users/notanumber/followers", "following_url": "https://api.github.com/users/notanumber/following{/other_user}", "gists_url": "https://api.github.com/users/notanumber/gists{/gist_id}", "starred_url": "https://api.github.com/users/notanumber/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/notanumber/subscriptions", "organizations_url": "https://api.github.com/users/notanumber/orgs", "repos_url": "https://api.github.com/users/notanumber/repos", "events_url": "https://api.github.com/users/notanumber/events{/privacy}", "received_events_url": "https://api.github.com/users/notanumber/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2009-10-07T18:37:57Z", "updated_at": "2009-10-19T07:00:39Z", "closed_at": "2009-10-19T07:00:39Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "SearchIndex fields using model_attr should raise an exception if the attribute is invalid.\n\neg.  The code below should raise some sort of exception indicating that 'baz' is not a valid model attribute.\n\n```\nclass Foo(models.Model):\n    bar = models.CharField(max_length=255)\n\nclass FooSearchIndex(indexes.SearchIndex):\n    text = indexes.CharField(document=True, use_template=True)\n    bar = indexes.CharField(model_attr='bar')\n    baz = indexes.CharField(model_attr='baz')\n```\n\nPreferably, this would be done as soon as possible, probably at 'reindex.\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/98/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/98/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/96", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/96/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/96/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/96/events", "html_url": "https://github.com/django-haystack/django-haystack/issues/96", "id": 66019, "node_id": "MDU6SXNzdWU2NjAxOQ==", "number": 96, "title": "\"index\" link on right hand side of haystacksearch.org is a broken link", "user": {"login": "notanumber", "id": 1370, "node_id": "MDQ6VXNlcjEzNzA=", "avatar_url": "https://avatars.githubusercontent.com/u/1370?v=4", "gravatar_id": "", "url": "https://api.github.com/users/notanumber", "html_url": "https://github.com/notanumber", "followers_url": "https://api.github.com/users/notanumber/followers", "following_url": "https://api.github.com/users/notanumber/following{/other_user}", "gists_url": "https://api.github.com/users/notanumber/gists{/gist_id}", "starred_url": "https://api.github.com/users/notanumber/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/notanumber/subscriptions", "organizations_url": "https://api.github.com/users/notanumber/orgs", "repos_url": "https://api.github.com/users/notanumber/repos", "events_url": "https://api.github.com/users/notanumber/events{/privacy}", "received_events_url": "https://api.github.com/users/notanumber/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}, {"id": 2677, "node_id": "MDU6TGFiZWwyNjc3", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/documentation", "name": "documentation", "color": "ffffff", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2009-10-07T14:48:01Z", "updated_at": "2009-10-17T22:59:49Z", "closed_at": "2009-10-17T22:59:49Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "\"index\" link on right hand side of haystacksearch.org is a broken link.\n\nClicking it goes to: http://haystacksearch.org/docs/genindex.html which is an empty page.\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/96/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/96/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/95", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/95/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/95/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/95/events", "html_url": "https://github.com/django-haystack/django-haystack/issues/95", "id": 65079, "node_id": "MDU6SXNzdWU2NTA3OQ==", "number": 95, "title": "Incompatible with certain other apps.", "user": {"login": "toastdriven", "id": 2449, "node_id": "MDQ6VXNlcjI0NDk=", "avatar_url": "https://avatars.githubusercontent.com/u/2449?v=4", "gravatar_id": "", "url": "https://api.github.com/users/toastdriven", "html_url": "https://github.com/toastdriven", "followers_url": "https://api.github.com/users/toastdriven/followers", "following_url": "https://api.github.com/users/toastdriven/following{/other_user}", "gists_url": "https://api.github.com/users/toastdriven/gists{/gist_id}", "starred_url": "https://api.github.com/users/toastdriven/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/toastdriven/subscriptions", "organizations_url": "https://api.github.com/users/toastdriven/orgs", "repos_url": "https://api.github.com/users/toastdriven/repos", "events_url": "https://api.github.com/users/toastdriven/events{/privacy}", "received_events_url": "https://api.github.com/users/toastdriven/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2009-10-05T14:05:38Z", "updated_at": "2009-11-23T06:05:42Z", "closed_at": "2009-11-23T06:05:42Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Reports of incompatibility with `django-transmeta`, `localemiddleware` and `django-cms2`. Generally speaking, these are apps that also try to load up all models. Investigate.\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/95/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/95/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/93", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/93/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/93/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/93/events", "html_url": "https://github.com/django-haystack/django-haystack/issues/93", "id": 63731, "node_id": "MDU6SXNzdWU2MzczMQ==", "number": 93, "title": "Please support i18n in the form generators. (super simple to fix)", "user": {"login": "hejsan", "id": 133708, "node_id": "MDQ6VXNlcjEzMzcwOA==", "avatar_url": "https://avatars.githubusercontent.com/u/133708?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hejsan", "html_url": "https://github.com/hejsan", "followers_url": "https://api.github.com/users/hejsan/followers", "following_url": "https://api.github.com/users/hejsan/following{/other_user}", "gists_url": "https://api.github.com/users/hejsan/gists{/gist_id}", "starred_url": "https://api.github.com/users/hejsan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hejsan/subscriptions", "organizations_url": "https://api.github.com/users/hejsan/orgs", "repos_url": "https://api.github.com/users/hejsan/repos", "events_url": "https://api.github.com/users/hejsan/events{/privacy}", "received_events_url": "https://api.github.com/users/hejsan/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2009-10-01T13:34:24Z", "updated_at": "2009-10-08T05:27:08Z", "closed_at": "2009-10-08T05:27:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "Currently the search forms create the labels \"Search\" and \"Models\" but they don't allow translation of these labels.\nTo suport that you just have to do (in forms.py): from django.utils.translation import ugettext_lazy as _  \n\nand then put _() around the label names. Oh, and create a folder named locale in the haystack directory.  \nThanks.\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/93/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/93/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/91", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/91/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/91/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/91/events", "html_url": "https://github.com/django-haystack/django-haystack/issues/91", "id": 63403, "node_id": "MDU6SXNzdWU2MzQwMw==", "number": 91, "title": "MultiValueField broken on Whoosh backend", "user": {"login": "codysoyland", "id": 45020, "node_id": "MDQ6VXNlcjQ1MDIw", "avatar_url": "https://avatars.githubusercontent.com/u/45020?v=4", "gravatar_id": "", "url": "https://api.github.com/users/codysoyland", "html_url": "https://github.com/codysoyland", "followers_url": "https://api.github.com/users/codysoyland/followers", "following_url": "https://api.github.com/users/codysoyland/following{/other_user}", "gists_url": "https://api.github.com/users/codysoyland/gists{/gist_id}", "starred_url": "https://api.github.com/users/codysoyland/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/codysoyland/subscriptions", "organizations_url": "https://api.github.com/users/codysoyland/orgs", "repos_url": "https://api.github.com/users/codysoyland/repos", "events_url": "https://api.github.com/users/codysoyland/events{/privacy}", "received_events_url": "https://api.github.com/users/codysoyland/received_events", "type": "User", "site_admin": true}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2009-09-30T20:45:58Z", "updated_at": "2009-11-22T05:35:56Z", "closed_at": "2009-11-22T05:35:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "Searching for values in MultiValueFields seems to produce no results when using Whoosh. Applying the same test to the Solr backend produces the correct results.\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/91/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/91/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/89", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/89/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/89/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/89/events", "html_url": "https://github.com/django-haystack/django-haystack/issues/89", "id": 61901, "node_id": "MDU6SXNzdWU2MTkwMQ==", "number": 89, "title": "db transaction failure and wrong documents", "user": {"login": "gcachet", "id": 91393, "node_id": "MDQ6VXNlcjkxMzkz", "avatar_url": "https://avatars.githubusercontent.com/u/91393?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gcachet", "html_url": "https://github.com/gcachet", "followers_url": "https://api.github.com/users/gcachet/followers", "following_url": "https://api.github.com/users/gcachet/following{/other_user}", "gists_url": "https://api.github.com/users/gcachet/gists{/gist_id}", "starred_url": "https://api.github.com/users/gcachet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gcachet/subscriptions", "organizations_url": "https://api.github.com/users/gcachet/orgs", "repos_url": "https://api.github.com/users/gcachet/repos", "events_url": "https://api.github.com/users/gcachet/events{/privacy}", "received_events_url": "https://api.github.com/users/gcachet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2009-09-27T14:35:21Z", "updated_at": "2009-10-18T06:06:54Z", "closed_at": "2009-10-18T06:06:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "Documents are updated in post_save for the related model. \n\nIf the db transaction fails, the document will be updated in the indexer, but it will not be relevant to what is stored in the db.\n\nAlso, when updating the indexer with task/queue management (such as celery), you need to make sure the transaction is commited before updating the indexer because you will be likely to update the previous version or, worse, cause deadlocks on the db if the task/queue system is faster than the django application (it happened to me). I started a related thread on Stackoverflow a while ago : http://stackoverflow.com/questions/950214/run-code-after-transaction-commit-in-django\n\nI have a custom and dirty method with callbacks but I guess it is a more general problem within django, that should provide a post_commit callback (which is hard to do because of concurrent threads in the web server ...)\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/89/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/89/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/88", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/88/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/88/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/88/events", "html_url": "https://github.com/django-haystack/django-haystack/issues/88", "id": 61897, "node_id": "MDU6SXNzdWU2MTg5Nw==", "number": 88, "title": "SearchView is not thread safe", "user": {"login": "gcachet", "id": 91393, "node_id": "MDQ6VXNlcjkxMzkz", "avatar_url": "https://avatars.githubusercontent.com/u/91393?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gcachet", "html_url": "https://github.com/gcachet", "followers_url": "https://api.github.com/users/gcachet/followers", "following_url": "https://api.github.com/users/gcachet/following{/other_user}", "gists_url": "https://api.github.com/users/gcachet/gists{/gist_id}", "starred_url": "https://api.github.com/users/gcachet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gcachet/subscriptions", "organizations_url": "https://api.github.com/users/gcachet/orgs", "repos_url": "https://api.github.com/users/gcachet/repos", "events_url": "https://api.github.com/users/gcachet/events{/privacy}", "received_events_url": "https://api.github.com/users/gcachet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2009-09-27T14:25:38Z", "updated_at": "2010-02-22T07:29:27Z", "closed_at": "2010-02-22T07:29:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "When using SearchView in urls.py as explained in the documentation, you can end up with weird results if 2 users are using the view at the same time and your web server uses multithreading (like mod_wsgi does).\n\nFor example, request is copied with the object in self.request. Since the threads are sharing the variables within the object (it's the same object for all threads), you can get the request coming from someone else at some point.\n\nWhen using class based views, you cannot use one instance if you are registering variables related to the request in the object. Either you construct an objet per-request or you use some way to store variables within the current thread.\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/88/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/88/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/83", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/83/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/83/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/83/events", "html_url": "https://github.com/django-haystack/django-haystack/issues/83", "id": 55787, "node_id": "MDU6SXNzdWU1NTc4Nw==", "number": 83, "title": "SearchQuerySet().all() returns `AssertionError: '*' is not unicode` with whoosh backend", "user": {"login": "simonwiles", "id": 96218, "node_id": "MDQ6VXNlcjk2MjE4", "avatar_url": "https://avatars.githubusercontent.com/u/96218?v=4", "gravatar_id": "", "url": "https://api.github.com/users/simonwiles", "html_url": "https://github.com/simonwiles", "followers_url": "https://api.github.com/users/simonwiles/followers", "following_url": "https://api.github.com/users/simonwiles/following{/other_user}", "gists_url": "https://api.github.com/users/simonwiles/gists{/gist_id}", "starred_url": "https://api.github.com/users/simonwiles/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/simonwiles/subscriptions", "organizations_url": "https://api.github.com/users/simonwiles/orgs", "repos_url": "https://api.github.com/users/simonwiles/repos", "events_url": "https://api.github.com/users/simonwiles/events{/privacy}", "received_events_url": "https://api.github.com/users/simonwiles/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}, {"id": 8217, "node_id": "MDU6TGFiZWw4MjE3", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/backend%20:%20whoosh", "name": "backend : whoosh", "color": "d4c5f9", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2009-09-09T11:33:12Z", "updated_at": "2009-10-06T21:08:48Z", "closed_at": "2009-10-06T21:08:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "As in the title :)  I suspect it's because my app's models.py requires `#-*- coding:utf-8 -*-` at the top?\n\nit's not a huge problem - actually filtering the SearchQuerySet works fine.\n\n```\n>>> from haystack.query import SearchQuerySet\n>>> SearchQuerySet()\nTraceback (most recent call last):\n  File \"<console>\", line 1, in <module>\n  File \"/home/simon/django/myproject/myapp/haystack/query.py\", line 39, in __repr__\n    data = list(self[:REPR_OUTPUT_SIZE])\n  File \"/home/simon/django/myproject/myapp/haystack/query.py\", line 156, in __getitem__\n    if not self._cache_is_full():\n  File \"/home/simon/django/myproject/myapp/haystack/query.py\", line 59, in _cache_is_full\n    return len(self._result_cache) >= len(self) - self._ignored_result_count\n  File \"/home/simon/django/myproject/myapp/haystack/query.py\", line 48, in __len__\n    return self.query.get_count()\n  File \"/home/simon/django/myproject/myapp/haystack/backends/__init__.py\", line 284, in get_count\n    self.run()\n  File \"/home/simon/django/myproject/myapp/haystack/backends/whoosh_backend.py\", line 583, in run\n    results = self.backend.search(final_query, **kwargs)\n  File \"/home/simon/django/myproject/myapp/haystack/backends/whoosh_backend.py\", line 271, in search\n    parsed_query = self.parser.parse(query_string)\n  File \"/usr/local/lib/python2.6/dist-packages/Whoosh-0.3.0b24-py2.6.egg/whoosh/qparser.py\", line 211, in parse\n    q = self._eval(ast, self.default_field)\n  File \"/usr/local/lib/python2.6/dist-packages/Whoosh-0.3.0b24-py2.6.egg/whoosh/qparser.py\", line 223, in _eval\n    return getattr(self, \"_\" + name)(node, fieldname)\n  File \"/usr/local/lib/python2.6/dist-packages/Whoosh-0.3.0b24-py2.6.egg/whoosh/qparser.py\", line 327, in _Toplevel\n    return self.conjunction([self._eval(s, fieldname) for s in node])\n  File \"/usr/local/lib/python2.6/dist-packages/Whoosh-0.3.0b24-py2.6.egg/whoosh/qparser.py\", line 223, in _eval\n    return getattr(self, \"_\" + name)(node, fieldname)\n  File \"/usr/local/lib/python2.6/dist-packages/Whoosh-0.3.0b24-py2.6.egg/whoosh/qparser.py\", line 347, in _Wildcard\n    return self.make_wildcard(fieldname, node[0])\n  File \"/usr/local/lib/python2.6/dist-packages/Whoosh-0.3.0b24-py2.6.egg/whoosh/qparser.py\", line 258, in make_wildcard\n    ptext = self.get_term_text(field, text, tokenize=False, removestops=False)\n  File \"/usr/local/lib/python2.6/dist-packages/Whoosh-0.3.0b24-py2.6.egg/whoosh/qparser.py\", line 230, in get_term_text\n    for token in field.format.analyze(text, **kwargs):\n  File \"/usr/local/lib/python2.6/dist-packages/Whoosh-0.3.0b24-py2.6.egg/whoosh/analysis.py\", line 652, in __call__\n    for t in tokens:\n  File \"/usr/local/lib/python2.6/dist-packages/Whoosh-0.3.0b24-py2.6.egg/whoosh/analysis.py\", line 595, in __call__\n    for t in tokens:\n  File \"/usr/local/lib/python2.6/dist-packages/Whoosh-0.3.0b24-py2.6.egg/whoosh/analysis.py\", line 529, in __call__\n    for t in tokens:\n  File \"/usr/local/lib/python2.6/dist-packages/Whoosh-0.3.0b24-py2.6.egg/whoosh/analysis.py\", line 237, in __call__\n    assert isinstance(value, unicode), \"%r is not unicode\" % value\nAssertionError: '*' is not unicode\n```\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/83/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/83/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/82", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/82/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/82/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/82/events", "html_url": "https://github.com/django-haystack/django-haystack/issues/82", "id": 54154, "node_id": "MDU6SXNzdWU1NDE1NA==", "number": 82, "title": "reindex management command only indexes the build in site", "user": {"login": "SmileyChris", "id": 109951, "node_id": "MDQ6VXNlcjEwOTk1MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/109951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SmileyChris", "html_url": "https://github.com/SmileyChris", "followers_url": "https://api.github.com/users/SmileyChris/followers", "following_url": "https://api.github.com/users/SmileyChris/following{/other_user}", "gists_url": "https://api.github.com/users/SmileyChris/gists{/gist_id}", "starred_url": "https://api.github.com/users/SmileyChris/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SmileyChris/subscriptions", "organizations_url": "https://api.github.com/users/SmileyChris/orgs", "repos_url": "https://api.github.com/users/SmileyChris/repos", "events_url": "https://api.github.com/users/SmileyChris/events{/privacy}", "received_events_url": "https://api.github.com/users/SmileyChris/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2009-09-03T23:16:16Z", "updated_at": "2009-09-25T04:18:46Z", "closed_at": "2009-09-25T04:18:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "Currently the reindex command only works with haystack.site - it'd be nice if there was some setting to provide the sites which should be reindexed.\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/82/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/82/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/78", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/78/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/78/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/78/events", "html_url": "https://github.com/django-haystack/django-haystack/issues/78", "id": 51634, "node_id": "MDU6SXNzdWU1MTYzNA==", "number": 78, "title": "Incorrect Spelling Suggestions", "user": {"login": "toastdriven", "id": 2449, "node_id": "MDQ6VXNlcjI0NDk=", "avatar_url": "https://avatars.githubusercontent.com/u/2449?v=4", "gravatar_id": "", "url": "https://api.github.com/users/toastdriven", "html_url": "https://github.com/toastdriven", "followers_url": "https://api.github.com/users/toastdriven/followers", "following_url": "https://api.github.com/users/toastdriven/following{/other_user}", "gists_url": "https://api.github.com/users/toastdriven/gists{/gist_id}", "starred_url": "https://api.github.com/users/toastdriven/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/toastdriven/subscriptions", "organizations_url": "https://api.github.com/users/toastdriven/orgs", "repos_url": "https://api.github.com/users/toastdriven/repos", "events_url": "https://api.github.com/users/toastdriven/events{/privacy}", "received_events_url": "https://api.github.com/users/toastdriven/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2009-08-27T14:33:53Z", "updated_at": "2009-08-31T06:35:09Z", "closed_at": "2009-08-31T06:35:09Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Spelling Suggestions currently use the full query (including the bits grafted on by Haystack). It should use just the user's query.\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/78/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/78/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/76", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/76/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/76/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/76/events", "html_url": "https://github.com/django-haystack/django-haystack/issues/76", "id": 49501, "node_id": "MDU6SXNzdWU0OTUwMQ==", "number": 76, "title": "prepare documentation should use object not self.", "user": {"login": "fud", "id": 8778, "node_id": "MDQ6VXNlcjg3Nzg=", "avatar_url": "https://avatars.githubusercontent.com/u/8778?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fud", "html_url": "https://github.com/fud", "followers_url": "https://api.github.com/users/fud/followers", "following_url": "https://api.github.com/users/fud/following{/other_user}", "gists_url": "https://api.github.com/users/fud/gists{/gist_id}", "starred_url": "https://api.github.com/users/fud/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fud/subscriptions", "organizations_url": "https://api.github.com/users/fud/orgs", "repos_url": "https://api.github.com/users/fud/repos", "events_url": "https://api.github.com/users/fud/events{/privacy}", "received_events_url": "https://api.github.com/users/fud/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}, {"id": 2677, "node_id": "MDU6TGFiZWwyNjc3", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/documentation", "name": "documentation", "color": "ffffff", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2009-08-21T01:03:55Z", "updated_at": "2010-03-11T12:42:58Z", "closed_at": "2009-08-23T06:10:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "http://haystacksearch.org/docs/searchindex_api.html\n\nIn the section prepare(self, object)\n\nLine: \n  self.prepared_data['tags'] = [tag.name for tag in self.tags.all()]\nShould be\n  self.prepared_data['tags'] = [tag.name for tag in object.tags.all()]\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/76/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/76/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/75", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/75/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/75/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/75/events", "html_url": "https://github.com/django-haystack/django-haystack/issues/75", "id": 48855, "node_id": "MDU6SXNzdWU0ODg1NQ==", "number": 75, "title": "Solr bakend bug with query content=''", "user": {"login": "gkapkowski", "id": 114996, "node_id": "MDQ6VXNlcjExNDk5Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/114996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gkapkowski", "html_url": "https://github.com/gkapkowski", "followers_url": "https://api.github.com/users/gkapkowski/followers", "following_url": "https://api.github.com/users/gkapkowski/following{/other_user}", "gists_url": "https://api.github.com/users/gkapkowski/gists{/gist_id}", "starred_url": "https://api.github.com/users/gkapkowski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gkapkowski/subscriptions", "organizations_url": "https://api.github.com/users/gkapkowski/orgs", "repos_url": "https://api.github.com/users/gkapkowski/repos", "events_url": "https://api.github.com/users/gkapkowski/events{/privacy}", "received_events_url": "https://api.github.com/users/gkapkowski/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2009-08-19T15:44:37Z", "updated_at": "2009-08-23T20:33:03Z", "closed_at": "2009-08-23T20:33:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "when using solr_backend:\nSearchQuerySet().filter(content=\"\")\nerror appears:\n\nFile \"/home/kapa/workspace/setjam/site-python/haystack/backends/solr_backend.py\", line 373, in run\n\nself._results = results.get('results', [])\n\nAttributeError: 'list' object has no attribute 'get'\n\nreason:\nin lines 78-79 solr_backend.py:\n        if len(query_string) == 0:\n            return []\nsearch method returns list instead of dictionary. \nerror is generated in lines 372-373 solr_backend.py:\n        results = self.backend.search(final_query, **kwargs)\n        self._results = results.get('results', [])\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/75/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/75/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/74", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/74/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/74/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/74/events", "html_url": "https://github.com/django-haystack/django-haystack/issues/74", "id": 48331, "node_id": "MDU6SXNzdWU0ODMzMQ==", "number": 74, "title": "CharField saves integers as integers", "user": {"login": "evgenius", "id": 116517, "node_id": "MDQ6VXNlcjExNjUxNw==", "avatar_url": "https://avatars.githubusercontent.com/u/116517?v=4", "gravatar_id": "", "url": "https://api.github.com/users/evgenius", "html_url": "https://github.com/evgenius", "followers_url": "https://api.github.com/users/evgenius/followers", "following_url": "https://api.github.com/users/evgenius/following{/other_user}", "gists_url": "https://api.github.com/users/evgenius/gists{/gist_id}", "starred_url": "https://api.github.com/users/evgenius/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/evgenius/subscriptions", "organizations_url": "https://api.github.com/users/evgenius/orgs", "repos_url": "https://api.github.com/users/evgenius/repos", "events_url": "https://api.github.com/users/evgenius/events{/privacy}", "received_events_url": "https://api.github.com/users/evgenius/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2009-08-18T10:53:44Z", "updated_at": "2009-08-23T21:35:25Z", "closed_at": "2009-08-23T21:35:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "I want to have stored field 'month' which will store info in format '%02d' (like '01', '02', ... '12').\nI have this field:\n\n```\nmonth = indexes.CharField(indexed=False)\ndef prepare_month(self, obj):\n    return '%02d' % obj.publish.month\n```\n\nSo prepare_month returns string. But search returns result with month = 7 (integer). I expect it returns '07'. It worked a few months ago, but today I've updated haystack and now it doesn't work.\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/74/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/74/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/71", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/71/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/71/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/71/events", "html_url": "https://github.com/django-haystack/django-haystack/issues/71", "id": 45372, "node_id": "MDU6SXNzdWU0NTM3Mg==", "number": 71, "title": "Haystack fails on empty excludes (search for \"test - test\")", "user": {"login": "ddanier", "id": 113563, "node_id": "MDQ6VXNlcjExMzU2Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/113563?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ddanier", "html_url": "https://github.com/ddanier", "followers_url": "https://api.github.com/users/ddanier/followers", "following_url": "https://api.github.com/users/ddanier/following{/other_user}", "gists_url": "https://api.github.com/users/ddanier/gists{/gist_id}", "starred_url": "https://api.github.com/users/ddanier/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ddanier/subscriptions", "organizations_url": "https://api.github.com/users/ddanier/orgs", "repos_url": "https://api.github.com/users/ddanier/repos", "events_url": "https://api.github.com/users/ddanier/events{/privacy}", "received_events_url": "https://api.github.com/users/ddanier/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2009-08-09T22:23:56Z", "updated_at": "2009-08-16T05:30:02Z", "closed_at": "2009-08-16T05:30:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "If I search for \"test - test\" (\"-\" is used as a separator for some text here, like done in headlines) haypian (or it's backends) might fail, because haystack creates some invalid query. I wrote a small patch so just ignore the \"-\" here, hope it is possible to attach this.\n\nBtw.: Searching for \"test | test\" fails at least for the (not official) Xapian backend. Perhaps lokking into this might reduce future problems.\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/71/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/71/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/68", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/68/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/68/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/68/events", "html_url": "https://github.com/django-haystack/django-haystack/issues/68", "id": 43040, "node_id": "MDU6SXNzdWU0MzA0MA==", "number": 68, "title": "AttributeError at /search/: 'module' object has no attribute 'FileStorage'", "user": {"login": "shurik", "id": 56950, "node_id": "MDQ6VXNlcjU2OTUw", "avatar_url": "https://avatars.githubusercontent.com/u/56950?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shurik", "html_url": "https://github.com/shurik", "followers_url": "https://api.github.com/users/shurik/followers", "following_url": "https://api.github.com/users/shurik/following{/other_user}", "gists_url": "https://api.github.com/users/shurik/gists{/gist_id}", "starred_url": "https://api.github.com/users/shurik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shurik/subscriptions", "organizations_url": "https://api.github.com/users/shurik/orgs", "repos_url": "https://api.github.com/users/shurik/repos", "events_url": "https://api.github.com/users/shurik/events{/privacy}", "received_events_url": "https://api.github.com/users/shurik/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}, {"id": 8217, "node_id": "MDU6TGFiZWw4MjE3", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/backend%20:%20whoosh", "name": "backend : whoosh", "color": "d4c5f9", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2009-08-03T07:23:07Z", "updated_at": "2009-08-04T06:42:40Z", "closed_at": "2009-08-04T06:42:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "After following instructions to setup haystack with whoosh i get the following error after submitting a querry.\n\nAttributeError at /search/\n\n'module' object has no attribute 'FileStorage'\n\nRequest Method:     GET\nRequest URL:    http://localhost:8000/search/?q=something\nException Type:     AttributeError\nException Value:    \n\n'module' object has no attribute 'FileStorage'\n\nException Location:     /Users/sasha/Sites/haystacksearch.org/lib/python2.5/site-packages/django_haystack-1.0.0b-py2.5.egg/haystack/backends/whoosh_backend.py in setup, line 60\nPython Executable:  /Users/sasha/Sites/haystacksearch.org/bin/python\nPython Version:     2.5.1\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/68/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/68/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/66", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/66/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/66/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/66/events", "html_url": "https://github.com/django-haystack/django-haystack/issues/66", "id": 42807, "node_id": "MDU6SXNzdWU0MjgwNw==", "number": 66, "title": "Since aabdc9... broken with admin.autodiscover()", "user": {"login": "kylemacfarlane", "id": 99594, "node_id": "MDQ6VXNlcjk5NTk0", "avatar_url": "https://avatars.githubusercontent.com/u/99594?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kylemacfarlane", "html_url": "https://github.com/kylemacfarlane", "followers_url": "https://api.github.com/users/kylemacfarlane/followers", "following_url": "https://api.github.com/users/kylemacfarlane/following{/other_user}", "gists_url": "https://api.github.com/users/kylemacfarlane/gists{/gist_id}", "starred_url": "https://api.github.com/users/kylemacfarlane/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kylemacfarlane/subscriptions", "organizations_url": "https://api.github.com/users/kylemacfarlane/orgs", "repos_url": "https://api.github.com/users/kylemacfarlane/repos", "events_url": "https://api.github.com/users/kylemacfarlane/events{/privacy}", "received_events_url": "https://api.github.com/users/kylemacfarlane/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}, {"id": 8216, "node_id": "MDU6TGFiZWw4MjE2", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/highpriority", "name": "highpriority", "color": "d93f0b", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2009-08-01T20:07:10Z", "updated_at": "2009-08-02T22:01:40Z", "closed_at": "2009-08-02T22:01:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "Since commit aabdc9d4b98edc4735ed0c8b22aa09796c0a29ab if haystack is in your installed apps then admin.autodiscover() will throw an ImproperlyConfigured exception about your urlconf.\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/66/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/66/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/62", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/62/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/62/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/62/events", "html_url": "https://github.com/django-haystack/django-haystack/issues/62", "id": 41684, "node_id": "MDU6SXNzdWU0MTY4NA==", "number": 62, "title": "default paginator page out of range problem", "user": {"login": "joep", "id": 109840, "node_id": "MDQ6VXNlcjEwOTg0MA==", "avatar_url": "https://avatars.githubusercontent.com/u/109840?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joep", "html_url": "https://github.com/joep", "followers_url": "https://api.github.com/users/joep/followers", "following_url": "https://api.github.com/users/joep/following{/other_user}", "gists_url": "https://api.github.com/users/joep/gists{/gist_id}", "starred_url": "https://api.github.com/users/joep/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joep/subscriptions", "organizations_url": "https://api.github.com/users/joep/orgs", "repos_url": "https://api.github.com/users/joep/repos", "events_url": "https://api.github.com/users/joep/events{/privacy}", "received_events_url": "https://api.github.com/users/joep/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2009-07-29T15:39:16Z", "updated_at": "2009-07-31T14:39:22Z", "closed_at": "2009-07-31T14:39:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "A query with a page number out of range causes an exception, i.e., /\nsearch?q=something&page=10000 (or whatever is beyond the last page)\nwill result in an EmptyPage exception from the default paginator. The\ndefault build_page routine should probably catch the Empty Page and\nInvalid Page exceptions, shouldn't it?\n\ni.e., currently you have:\n     try:\n        page = paginator.page(int(self.request.GET.get('page', 1)))\n     except ValueError:\n        raise Http404\n\nbut it should probably be:\n     try:\n        page = paginator.page(int(self.request.GET.get('page', 1)))\n     except (ValueError, EmptyPage, InvalidPage):\n        raise Http404\n\nor perhaps even coerce the page number to 1 or the last page.\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/62/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/62/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/61", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/61/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/61/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/61/events", "html_url": "https://github.com/django-haystack/django-haystack/issues/61", "id": 41287, "node_id": "MDU6SXNzdWU0MTI4Nw==", "number": 61, "title": "Typo in faceting docs", "user": {"login": "notanumber", "id": 1370, "node_id": "MDQ6VXNlcjEzNzA=", "avatar_url": "https://avatars.githubusercontent.com/u/1370?v=4", "gravatar_id": "", "url": "https://api.github.com/users/notanumber", "html_url": "https://github.com/notanumber", "followers_url": "https://api.github.com/users/notanumber/followers", "following_url": "https://api.github.com/users/notanumber/following{/other_user}", "gists_url": "https://api.github.com/users/notanumber/gists{/gist_id}", "starred_url": "https://api.github.com/users/notanumber/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/notanumber/subscriptions", "organizations_url": "https://api.github.com/users/notanumber/orgs", "repos_url": "https://api.github.com/users/notanumber/repos", "events_url": "https://api.github.com/users/notanumber/events{/privacy}", "received_events_url": "https://api.github.com/users/notanumber/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}, {"id": 2677, "node_id": "MDU6TGFiZWwyNjc3", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/documentation", "name": "documentation", "color": "ffffff", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2009-07-28T15:30:36Z", "updated_at": "2009-08-01T05:51:20Z", "closed_at": "2009-08-01T05:51:20Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Line 17 of docs/faceting.rst\n\nShould read 'The search engine will return the counts it sees for that match.'\n\nIt's missing the word 'for'\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/61/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/61/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/58", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/58/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/58/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/58/events", "html_url": "https://github.com/django-haystack/django-haystack/issues/58", "id": 37062, "node_id": "MDU6SXNzdWUzNzA2Mg==", "number": 58, "title": "Using Solr, results are repeated.", "user": {"login": "toastdriven", "id": 2449, "node_id": "MDQ6VXNlcjI0NDk=", "avatar_url": "https://avatars.githubusercontent.com/u/2449?v=4", "gravatar_id": "", "url": "https://api.github.com/users/toastdriven", "html_url": "https://github.com/toastdriven", "followers_url": "https://api.github.com/users/toastdriven/followers", "following_url": "https://api.github.com/users/toastdriven/following{/other_user}", "gists_url": "https://api.github.com/users/toastdriven/gists{/gist_id}", "starred_url": "https://api.github.com/users/toastdriven/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/toastdriven/subscriptions", "organizations_url": "https://api.github.com/users/toastdriven/orgs", "repos_url": "https://api.github.com/users/toastdriven/repos", "events_url": "https://api.github.com/users/toastdriven/events{/privacy}", "received_events_url": "https://api.github.com/users/toastdriven/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}, {"id": 8216, "node_id": "MDU6TGFiZWw4MjE2", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/highpriority", "name": "highpriority", "color": "d93f0b", "default": false, "description": null}, {"id": 8760, "node_id": "MDU6TGFiZWw4NzYw", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/backend%20:%20solr", "name": "backend : solr", "color": "d4c5f9", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2009-07-16T04:58:19Z", "updated_at": "2009-07-16T07:03:58Z", "closed_at": "2009-07-16T07:03:58Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "It appears that the start/end offsets are not being passed/set properly and, as a result, the top 10 results are repeated for the entire result set.\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/58/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/58/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/52", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/52/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/52/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/52/events", "html_url": "https://github.com/django-haystack/django-haystack/issues/52", "id": 31830, "node_id": "MDU6SXNzdWUzMTgzMA==", "number": 52, "title": "Investigate memory bloom on reindex", "user": {"login": "toastdriven", "id": 2449, "node_id": "MDQ6VXNlcjI0NDk=", "avatar_url": "https://avatars.githubusercontent.com/u/2449?v=4", "gravatar_id": "", "url": "https://api.github.com/users/toastdriven", "html_url": "https://github.com/toastdriven", "followers_url": "https://api.github.com/users/toastdriven/followers", "following_url": "https://api.github.com/users/toastdriven/following{/other_user}", "gists_url": "https://api.github.com/users/toastdriven/gists{/gist_id}", "starred_url": "https://api.github.com/users/toastdriven/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/toastdriven/subscriptions", "organizations_url": "https://api.github.com/users/toastdriven/orgs", "repos_url": "https://api.github.com/users/toastdriven/repos", "events_url": "https://api.github.com/users/toastdriven/events{/privacy}", "received_events_url": "https://api.github.com/users/toastdriven/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2009-06-30T03:37:05Z", "updated_at": "2009-07-09T01:43:21Z", "closed_at": "2009-06-30T07:22:06Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Even with moderately sized reindexes (~1K records), memory use can expand up to 1Gb or beyond. Needs to be fixed if possible.\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/52/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/52/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/51", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/51/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/51/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/51/events", "html_url": "https://github.com/django-haystack/django-haystack/issues/51", "id": 30530, "node_id": "MDU6SXNzdWUzMDUzMA==", "number": 51, "title": "Whoosh order_by is sorting by strings when it should be integer.", "user": {"login": "gregtap", "id": 26057, "node_id": "MDQ6VXNlcjI2MDU3", "avatar_url": "https://avatars.githubusercontent.com/u/26057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gregtap", "html_url": "https://github.com/gregtap", "followers_url": "https://api.github.com/users/gregtap/followers", "following_url": "https://api.github.com/users/gregtap/following{/other_user}", "gists_url": "https://api.github.com/users/gregtap/gists{/gist_id}", "starred_url": "https://api.github.com/users/gregtap/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gregtap/subscriptions", "organizations_url": "https://api.github.com/users/gregtap/orgs", "repos_url": "https://api.github.com/users/gregtap/repos", "events_url": "https://api.github.com/users/gregtap/events{/privacy}", "received_events_url": "https://api.github.com/users/gregtap/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}, {"id": 8217, "node_id": "MDU6TGFiZWw4MjE3", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/backend%20:%20whoosh", "name": "backend : whoosh", "color": "d4c5f9", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2009-06-25T15:56:38Z", "updated_at": "2009-08-04T06:57:14Z", "closed_at": "2009-08-04T06:57:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "Take an index with an integer field:\n\nclass ExerciseIndex(indexes.SearchIndex):\n    ...\n    views_total = indexes.IntegerField(model_attr='views_total')\n\nMapping to this Django model field:\n    ....\n    views_total = models.IntegerField(default=0, editable=False)\n\nWhen i manage.py reindex on some content and try to do an order_by(\"views_total\") \nviews_total being an integer,\nit seems to be ordering by string:\n\n> > > sqs = SearchQuerySet().order_by(\"views_total\")\n> > > [e.views_total for e in sqs]\n> > > [3, 22, 15, 0] \n\nI think i will go for sorl for now :/\n\nGreg\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/51/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/51/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/49", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/49/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/49/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/49/events", "html_url": "https://github.com/django-haystack/django-haystack/issues/49", "id": 29876, "node_id": "MDU6SXNzdWUyOTg3Ng==", "number": 49, "title": "SearchQuerySet Multiple Queries?", "user": {"login": "toastdriven", "id": 2449, "node_id": "MDQ6VXNlcjI0NDk=", "avatar_url": "https://avatars.githubusercontent.com/u/2449?v=4", "gravatar_id": "", "url": "https://api.github.com/users/toastdriven", "html_url": "https://github.com/toastdriven", "followers_url": "https://api.github.com/users/toastdriven/followers", "following_url": "https://api.github.com/users/toastdriven/following{/other_user}", "gists_url": "https://api.github.com/users/toastdriven/gists{/gist_id}", "starred_url": "https://api.github.com/users/toastdriven/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/toastdriven/subscriptions", "organizations_url": "https://api.github.com/users/toastdriven/orgs", "repos_url": "https://api.github.com/users/toastdriven/repos", "events_url": "https://api.github.com/users/toastdriven/events{/privacy}", "received_events_url": "https://api.github.com/users/toastdriven/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2009-06-23T20:51:27Z", "updated_at": "2009-07-09T01:43:13Z", "closed_at": "2009-06-26T05:56:21Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "SearchQuerySet seems to issue more than one query at a time? See http://dpaste.com/58744/, http://dpaste.com/58745/ and http://dpaste.com/58746/ for details.\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/49/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/49/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/47", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/47/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/47/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/47/events", "html_url": "https://github.com/django-haystack/django-haystack/issues/47", "id": 29827, "node_id": "MDU6SXNzdWUyOTgyNw==", "number": 47, "title": "Default BasicSearchIndex Registering Doesn't Seem To Work", "user": {"login": "toastdriven", "id": 2449, "node_id": "MDQ6VXNlcjI0NDk=", "avatar_url": "https://avatars.githubusercontent.com/u/2449?v=4", "gravatar_id": "", "url": "https://api.github.com/users/toastdriven", "html_url": "https://github.com/toastdriven", "followers_url": "https://api.github.com/users/toastdriven/followers", "following_url": "https://api.github.com/users/toastdriven/following{/other_user}", "gists_url": "https://api.github.com/users/toastdriven/gists{/gist_id}", "starred_url": "https://api.github.com/users/toastdriven/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/toastdriven/subscriptions", "organizations_url": "https://api.github.com/users/toastdriven/orgs", "repos_url": "https://api.github.com/users/toastdriven/repos", "events_url": "https://api.github.com/users/toastdriven/events{/privacy}", "received_events_url": "https://api.github.com/users/toastdriven/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2009-06-23T19:09:12Z", "updated_at": "2009-07-09T01:43:13Z", "closed_at": "2009-06-26T16:37:19Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Via http://paste.pocoo.org/show/124660/ and verified broken. Need to fix this.\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/47/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/47/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/45", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/45/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/45/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/45/events", "html_url": "https://github.com/django-haystack/django-haystack/issues/45", "id": 28499, "node_id": "MDU6SXNzdWUyODQ5OQ==", "number": 45, "title": "Removed the Solr-flavored bits from the internals.", "user": {"login": "toastdriven", "id": 2449, "node_id": "MDQ6VXNlcjI0NDk=", "avatar_url": "https://avatars.githubusercontent.com/u/2449?v=4", "gravatar_id": "", "url": "https://api.github.com/users/toastdriven", "html_url": "https://github.com/toastdriven", "followers_url": "https://api.github.com/users/toastdriven/followers", "following_url": "https://api.github.com/users/toastdriven/following{/other_user}", "gists_url": "https://api.github.com/users/toastdriven/gists{/gist_id}", "starred_url": "https://api.github.com/users/toastdriven/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/toastdriven/subscriptions", "organizations_url": "https://api.github.com/users/toastdriven/orgs", "repos_url": "https://api.github.com/users/toastdriven/repos", "events_url": "https://api.github.com/users/toastdriven/events{/privacy}", "received_events_url": "https://api.github.com/users/toastdriven/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2009-06-19T07:13:18Z", "updated_at": "2009-07-09T01:43:07Z", "closed_at": "2009-06-23T06:06:51Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I'm looking at you, `django_ct_s`, `django_id_s` and all the field types. Your days are numbered.\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/45/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/45/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/44", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/44/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/44/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/44/events", "html_url": "https://github.com/django-haystack/django-haystack/issues/44", "id": 27486, "node_id": "MDU6SXNzdWUyNzQ4Ng==", "number": 44, "title": "following tutorial, schema generated by build_solr_schema is \"empty\"", "user": {"login": "abeld", "id": 96024, "node_id": "MDQ6VXNlcjk2MDI0", "avatar_url": "https://avatars.githubusercontent.com/u/96024?v=4", "gravatar_id": "", "url": "https://api.github.com/users/abeld", "html_url": "https://github.com/abeld", "followers_url": "https://api.github.com/users/abeld/followers", "following_url": "https://api.github.com/users/abeld/following{/other_user}", "gists_url": "https://api.github.com/users/abeld/gists{/gist_id}", "starred_url": "https://api.github.com/users/abeld/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/abeld/subscriptions", "organizations_url": "https://api.github.com/users/abeld/orgs", "repos_url": "https://api.github.com/users/abeld/repos", "events_url": "https://api.github.com/users/abeld/events{/privacy}", "received_events_url": "https://api.github.com/users/abeld/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2009-06-16T18:31:23Z", "updated_at": "2009-07-09T01:43:01Z", "closed_at": "2009-06-30T05:05:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "I tried following the tutorial at http://haystacksearch.org/docs/tutorial.html#haystack-tutorial, but I ended up with the following problem:\neven if I have \n    import haystack\n    haystack.autodiscover()\nin urls.py, build_solr_schema generates the same output as if no SearchIndex was defined. Using this schema, solr understandably gives \n\n```\nSEVERE: org.apache.solr.common.SolrException: no field name specified in query and no defaultSearchField defined in schema.xml\n```\n\n(I'll try to attach or link to a minimal example that shows this problem.)\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/44/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/44/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/43", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/43/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/43/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/43/events", "html_url": "https://github.com/django-haystack/django-haystack/issues/43", "id": 24811, "node_id": "MDU6SXNzdWUyNDgxMQ==", "number": 43, "title": "search for \"a b\" causes an AttributeError exception", "user": {"login": "mthornhill", "id": 75718, "node_id": "MDQ6VXNlcjc1NzE4", "avatar_url": "https://avatars.githubusercontent.com/u/75718?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mthornhill", "html_url": "https://github.com/mthornhill", "followers_url": "https://api.github.com/users/mthornhill/followers", "following_url": "https://api.github.com/users/mthornhill/following{/other_user}", "gists_url": "https://api.github.com/users/mthornhill/gists{/gist_id}", "starred_url": "https://api.github.com/users/mthornhill/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mthornhill/subscriptions", "organizations_url": "https://api.github.com/users/mthornhill/orgs", "repos_url": "https://api.github.com/users/mthornhill/repos", "events_url": "https://api.github.com/users/mthornhill/events{/privacy}", "received_events_url": "https://api.github.com/users/mthornhill/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}, {"id": 8216, "node_id": "MDU6TGFiZWw4MjE2", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/highpriority", "name": "highpriority", "color": "d93f0b", "default": false, "description": null}, {"id": 8217, "node_id": "MDU6TGFiZWw4MjE3", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/backend%20:%20whoosh", "name": "backend : whoosh", "color": "d4c5f9", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2009-06-09T13:43:48Z", "updated_at": "2009-07-09T01:42:49Z", "closed_at": "2009-07-04T06:20:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "get AttributeError at /search/\n'NoneType' object has no attribute 'doc_scores'\nException Location:     /home/mick/src/iae/whoosh/searching.py in search, line 170\n\nThe following addition to the test cases causes this error\n\n~/src/django-haystack$ git diff\ndiff --git a/tests/whoosh_tests/tests/whoosh_backend.py b/tests/whoosh_tests/tests/whoosh_backend.py\nindex 0004f76..3e5f613 100644\n--- a/tests/whoosh_tests/tests/whoosh_backend.py\n+++ b/tests/whoosh_tests/tests/whoosh_backend.py\n@@ -112,7 +112,8 @@ class WhooshSearchBackendTestCase(TestCase):\n\n```\n     # A one letter query string gets nabbed by a stopwords filter. Should\n     # always yield zero results.\n```\n-        self.assertEqual(self.sb.search('a'), {'hits': 0, 'results': []})\n-        self.assertEqual(self.sb.search('a'), {'hits': 0, 'results': []})  \n- ```\n     self.assertEqual(self.sb.search('a b'), {'hits': 0, 'results': []})\n  \n  \n   self.assertEqual(self.sb.search('*')['hits'], 3)\n  ```\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/43/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/43/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/41", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/41/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/41/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/41/events", "html_url": "https://github.com/django-haystack/django-haystack/issues/41", "id": 24126, "node_id": "MDU6SXNzdWUyNDEyNg==", "number": 41, "title": "Error on 1 letter searches", "user": {"login": "silviogutierrez", "id": 92824, "node_id": "MDQ6VXNlcjkyODI0", "avatar_url": "https://avatars.githubusercontent.com/u/92824?v=4", "gravatar_id": "", "url": "https://api.github.com/users/silviogutierrez", "html_url": "https://github.com/silviogutierrez", "followers_url": "https://api.github.com/users/silviogutierrez/followers", "following_url": "https://api.github.com/users/silviogutierrez/following{/other_user}", "gists_url": "https://api.github.com/users/silviogutierrez/gists{/gist_id}", "starred_url": "https://api.github.com/users/silviogutierrez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/silviogutierrez/subscriptions", "organizations_url": "https://api.github.com/users/silviogutierrez/orgs", "repos_url": "https://api.github.com/users/silviogutierrez/repos", "events_url": "https://api.github.com/users/silviogutierrez/events{/privacy}", "received_events_url": "https://api.github.com/users/silviogutierrez/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2009-06-07T13:16:20Z", "updated_at": "2009-07-09T01:42:46Z", "closed_at": "2009-06-07T20:44:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "I was having errors when performing 1 letter searches. Not that anyone would usually do this, but if it happens, the user would get a server error. It seems like the code:\n\n```\n    # A one-character query (non-wildcard) gets nabbed by a stopwords\n    # filter and should yield zero results.\n    if len(query_string) <= 1 and query_string != '*':\n        return []\n```\n\nreturns a empty list, on which a `get()` method is called in line 497:\n        self._results = results.get('results', [])\n\nThis throws an error, because you can't use `get()` on a list.\n\nChanging the return statement to:\n        return {}\n\nFixes things for me.\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/41/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/41/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/40", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/40/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/40/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/40/events", "html_url": "https://github.com/django-haystack/django-haystack/issues/40", "id": 20465, "node_id": "MDU6SXNzdWUyMDQ2NQ==", "number": 40, "title": "SearchQuerySet unnecessarily loads in results not within the slice asked for", "user": {"login": "zbyte64", "id": 89620, "node_id": "MDQ6VXNlcjg5NjIw", "avatar_url": "https://avatars.githubusercontent.com/u/89620?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zbyte64", "html_url": "https://github.com/zbyte64", "followers_url": "https://api.github.com/users/zbyte64/followers", "following_url": "https://api.github.com/users/zbyte64/following{/other_user}", "gists_url": "https://api.github.com/users/zbyte64/gists{/gist_id}", "starred_url": "https://api.github.com/users/zbyte64/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zbyte64/subscriptions", "organizations_url": "https://api.github.com/users/zbyte64/orgs", "repos_url": "https://api.github.com/users/zbyte64/repos", "events_url": "https://api.github.com/users/zbyte64/events{/privacy}", "received_events_url": "https://api.github.com/users/zbyte64/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2009-05-28T17:38:48Z", "updated_at": "2009-10-05T06:16:32Z", "closed_at": "2009-10-05T06:16:32Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Given the following code:\n\n```\nfrom haystack.query import SearchQuerySet\nhello_results = SearchQuerySet().filter(content='hello')[80:100]\n```\n\nSearchQuerySet will load all results from 0 to 100 when all we need to do it load 80 to 100. This becomes painful on even larger sets. Currently SearchQuerySet will always load in the _result_cache up to the index being requested. It should do some checking, perhaps if the requested index is greater then the result_cache length + ITERATOR_LOAD_PER_QUERY, then skip the populating of the result_cache.\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/40/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/40/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/39", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/39/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/39/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/39/events", "html_url": "https://github.com/django-haystack/django-haystack/issues/39", "id": 19886, "node_id": "MDU6SXNzdWUxOTg4Ng==", "number": 39, "title": "Support for stemming", "user": {"login": "notanumber", "id": 1370, "node_id": "MDQ6VXNlcjEzNzA=", "avatar_url": "https://avatars.githubusercontent.com/u/1370?v=4", "gravatar_id": "", "url": "https://api.github.com/users/notanumber", "html_url": "https://github.com/notanumber", "followers_url": "https://api.github.com/users/notanumber/followers", "following_url": "https://api.github.com/users/notanumber/following{/other_user}", "gists_url": "https://api.github.com/users/notanumber/gists{/gist_id}", "starred_url": "https://api.github.com/users/notanumber/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/notanumber/subscriptions", "organizations_url": "https://api.github.com/users/notanumber/orgs", "repos_url": "https://api.github.com/users/notanumber/repos", "events_url": "https://api.github.com/users/notanumber/events{/privacy}", "received_events_url": "https://api.github.com/users/notanumber/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}, {"id": 8216, "node_id": "MDU6TGFiZWw4MjE2", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/highpriority", "name": "highpriority", "color": "d93f0b", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2009-05-27T15:20:05Z", "updated_at": "2009-07-09T01:42:25Z", "closed_at": "2009-07-04T06:10:44Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "It appears as though Whoosh has support for stemming analysis, but it is unclear if this is present in Haystack.  Presumably, it is, but documentation on how to set it up to work with Haystack doe not exist.\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/39/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/39/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/38", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/38/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/38/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/38/events", "html_url": "https://github.com/django-haystack/django-haystack/issues/38", "id": 19066, "node_id": "MDU6SXNzdWUxOTA2Ng==", "number": 38, "title": "./manage.py dumpdata is broken if haystack is installed", "user": {"login": "gregmuellegger", "id": 88278, "node_id": "MDQ6VXNlcjg4Mjc4", "avatar_url": "https://avatars.githubusercontent.com/u/88278?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gregmuellegger", "html_url": "https://github.com/gregmuellegger", "followers_url": "https://api.github.com/users/gregmuellegger/followers", "following_url": "https://api.github.com/users/gregmuellegger/following{/other_user}", "gists_url": "https://api.github.com/users/gregmuellegger/gists{/gist_id}", "starred_url": "https://api.github.com/users/gregmuellegger/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gregmuellegger/subscriptions", "organizations_url": "https://api.github.com/users/gregmuellegger/orgs", "repos_url": "https://api.github.com/users/gregmuellegger/repos", "events_url": "https://api.github.com/users/gregmuellegger/events{/privacy}", "received_events_url": "https://api.github.com/users/gregmuellegger/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2009-05-25T10:57:19Z", "updated_at": "2009-07-09T01:42:20Z", "closed_at": "2009-06-19T13:44:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "I tried to dumpdata from my current project to create a fixture.\n\nHere is the output for the dumpdata command:\n\nphxx@xenya$ ./manage.py dumpdata block --indent=2 | head\nLoaded URLconf to initialize SearchSite...\nMain site registered 2 index(es).\n[\n  {\n    \"pk\": 1,\n    \"model\": \"block.block\",\n    \"fields\": {\n      \"title\": \"Neueste Datenbl\\u00e4tter\",\n      \"sort_value\": 0.0,\n      \"created\": \"2009-05-11 11:35:31\",\n\nAs you can see, haystack outputs two lines before performing the command. Though dumpdata is not really broken but if redirect that output into a file (like explained in the django documentation) and try to load the fixture with \"./manage.py loaddata\", it will raise an error. The first two lines that cause that problem only occur if haystack is installed (in the INSTALLED_APPS setting).\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/38/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/38/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/34", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/34/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/34/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/34/events", "html_url": "https://github.com/django-haystack/django-haystack/issues/34", "id": 14119, "node_id": "MDU6SXNzdWUxNDExOQ==", "number": 34, "title": "Does Whoosh Support Date Fields?", "user": {"login": "JoeGermuska", "id": 46313, "node_id": "MDQ6VXNlcjQ2MzEz", "avatar_url": "https://avatars.githubusercontent.com/u/46313?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JoeGermuska", "html_url": "https://github.com/JoeGermuska", "followers_url": "https://api.github.com/users/JoeGermuska/followers", "following_url": "https://api.github.com/users/JoeGermuska/following{/other_user}", "gists_url": "https://api.github.com/users/JoeGermuska/gists{/gist_id}", "starred_url": "https://api.github.com/users/JoeGermuska/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JoeGermuska/subscriptions", "organizations_url": "https://api.github.com/users/JoeGermuska/orgs", "repos_url": "https://api.github.com/users/JoeGermuska/repos", "events_url": "https://api.github.com/users/JoeGermuska/events{/privacy}", "received_events_url": "https://api.github.com/users/JoeGermuska/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}, {"id": 8217, "node_id": "MDU6TGFiZWw4MjE3", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/backend%20:%20whoosh", "name": "backend : whoosh", "color": "d4c5f9", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2009-05-12T17:58:51Z", "updated_at": "2009-09-01T04:50:04Z", "closed_at": "2009-09-01T04:50:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "Sorry for a less pointed ticket here, but as you've probably guessed from the other issues I've filed, I'm trying to implement a date filter using the Whoosh backend.  I'm running into this error from Whoosh:\n\nIn [36]: q.query_filters\nOut[36]: \n[<QueryFilter: AND content__exact=nunc>,\n <QueryFilter: AND pub_date__gte=2009-05-12 12:08:21.131583>]\n\nIn [37]: q.build_query()\nOut[37]: u'nunc AND NOT pub_date:*..\"2009-05-12T12:08:21.000Z\"'\n\nIn [38]: q.run()\n\u2026\nParseException: Expected end of text (at char 23), (line:1, col:24)\n\nI'm totally green about how whoosh (or any search index, really) works, but I can't find any docs or code referring to handling dates.  I think it may be objecting to the \"*..\" operators being used for a string field?  Maybe this isn't even a whoosh specific problem, but for today I don't have time to see what Solr does with this data.\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/34/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/34/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/33", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/33/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/33/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/33/events", "html_url": "https://github.com/django-haystack/django-haystack/issues/33", "id": 14105, "node_id": "MDU6SXNzdWUxNDEwNQ==", "number": 33, "title": "QueryFilter.__repr__ assumes values are strings", "user": {"login": "JoeGermuska", "id": 46313, "node_id": "MDQ6VXNlcjQ2MzEz", "avatar_url": "https://avatars.githubusercontent.com/u/46313?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JoeGermuska", "html_url": "https://github.com/JoeGermuska", "followers_url": "https://api.github.com/users/JoeGermuska/followers", "following_url": "https://api.github.com/users/JoeGermuska/following{/other_user}", "gists_url": "https://api.github.com/users/JoeGermuska/gists{/gist_id}", "starred_url": "https://api.github.com/users/JoeGermuska/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JoeGermuska/subscriptions", "organizations_url": "https://api.github.com/users/JoeGermuska/orgs", "repos_url": "https://api.github.com/users/JoeGermuska/repos", "events_url": "https://api.github.com/users/JoeGermuska/events{/privacy}", "received_events_url": "https://api.github.com/users/JoeGermuska/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2009-05-12T17:09:09Z", "updated_at": "2009-07-09T01:41:53Z", "closed_at": "2009-05-13T04:21:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "In attempting to implement date filtering along the lines of the documentation (e.g. \nSearchQuerySet().filter(content='foo', pub_date__lte=datetime.date(2008, 1, 1))\n)\n\nI get an error when trying to inspect the filters.\n\n/Library/Frameworks/Python.framework/Versions/2.6/lib/python2.6/site-packages/haystack/backends/**init**.pyc in **repr**(self)\n    121             join = 'OR'\n    122 \n    123 -->       return '<QueryFilter: %s %s=%s>' % (join, FILTER_SEPARATOR.join((self.field, self.filter_type)), self.value.encode('utf8'))\n    124 \n    125     def split_expression(self, expression):\n\nAttributeError: 'datetime.date' object has no attribute 'encode'\n\nchanging line 123 to:\nreturn '<QueryFilter: %s %s=%s>' % (join, FILTER_SEPARATOR.join((self.field, self.filter_type)), str(self.value).encode('utf8'))\n\nseems to do the trick.\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/33/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/33/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/32", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/32/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/32/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/32/events", "html_url": "https://github.com/django-haystack/django-haystack/issues/32", "id": 13151, "node_id": "MDU6SXNzdWUxMzE1MQ==", "number": 32, "title": "whoosh_backend.build_query() mishandles date values", "user": {"login": "JoeGermuska", "id": 46313, "node_id": "MDQ6VXNlcjQ2MzEz", "avatar_url": "https://avatars.githubusercontent.com/u/46313?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JoeGermuska", "html_url": "https://github.com/JoeGermuska", "followers_url": "https://api.github.com/users/JoeGermuska/followers", "following_url": "https://api.github.com/users/JoeGermuska/following{/other_user}", "gists_url": "https://api.github.com/users/JoeGermuska/gists{/gist_id}", "starred_url": "https://api.github.com/users/JoeGermuska/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JoeGermuska/subscriptions", "organizations_url": "https://api.github.com/users/JoeGermuska/orgs", "repos_url": "https://api.github.com/users/JoeGermuska/repos", "events_url": "https://api.github.com/users/JoeGermuska/events{/privacy}", "received_events_url": "https://api.github.com/users/JoeGermuska/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2009-05-10T03:24:01Z", "updated_at": "2009-07-09T01:41:49Z", "closed_at": "2009-05-12T04:59:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "When attempting to implement code along the lines of this from the docs:\nNote.objects.filter(pub_date__lte=datetime.datetime.now())\nthe whoosh_backend yields an error:\n\n/Library/Frameworks/Python.framework/Versions/2.6/lib/python2.6/site-packages/haystack/backends/whoosh_backend.pyc in build_query(self)\n    316 \n    317                 # Check to see if it's a phrase for an exact match.\n\n--> 318                 if ' ' in value:\n    319                     value = '\"%s\"' % value\n    320 \n\nTypeError: argument of type 'datetime.datetime' is not iterable\n\nThe pysolr_backend has a bit right before the comparable code which converts to \"what pysolr\" wants, but I don't know what that would be for whoosh.\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/32/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/32/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/30", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/30/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/30/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/30/events", "html_url": "https://github.com/django-haystack/django-haystack/issues/30", "id": 12919, "node_id": "MDU6SXNzdWUxMjkxOQ==", "number": 30, "title": "Adding an easy way to narrow faceted search", "user": {"login": "cyberdelia", "id": 44535, "node_id": "MDQ6VXNlcjQ0NTM1", "avatar_url": "https://avatars.githubusercontent.com/u/44535?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cyberdelia", "html_url": "https://github.com/cyberdelia", "followers_url": "https://api.github.com/users/cyberdelia/followers", "following_url": "https://api.github.com/users/cyberdelia/following{/other_user}", "gists_url": "https://api.github.com/users/cyberdelia/gists{/gist_id}", "starred_url": "https://api.github.com/users/cyberdelia/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cyberdelia/subscriptions", "organizations_url": "https://api.github.com/users/cyberdelia/orgs", "repos_url": "https://api.github.com/users/cyberdelia/repos", "events_url": "https://api.github.com/users/cyberdelia/events{/privacy}", "received_events_url": "https://api.github.com/users/cyberdelia/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2009-05-08T20:23:33Z", "updated_at": "2009-07-09T01:41:47Z", "closed_at": "2009-05-09T05:24:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "Adding an easy way to narrow faceted search by adding a hidden field in a new FacetedSearchForm.\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/30/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/30/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/29", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/29/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/29/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/29/events", "html_url": "https://github.com/django-haystack/django-haystack/issues/29", "id": 12469, "node_id": "MDU6SXNzdWUxMjQ2OQ==", "number": 29, "title": "Whoosh backend fails on descending ordering", "user": {"login": "mcroydon", "id": 1411, "node_id": "MDQ6VXNlcjE0MTE=", "avatar_url": "https://avatars.githubusercontent.com/u/1411?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mcroydon", "html_url": "https://github.com/mcroydon", "followers_url": "https://api.github.com/users/mcroydon/followers", "following_url": "https://api.github.com/users/mcroydon/following{/other_user}", "gists_url": "https://api.github.com/users/mcroydon/gists{/gist_id}", "starred_url": "https://api.github.com/users/mcroydon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mcroydon/subscriptions", "organizations_url": "https://api.github.com/users/mcroydon/orgs", "repos_url": "https://api.github.com/users/mcroydon/repos", "events_url": "https://api.github.com/users/mcroydon/events{/privacy}", "received_events_url": "https://api.github.com/users/mcroydon/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2009-05-07T19:05:30Z", "updated_at": "2009-07-09T01:41:46Z", "closed_at": "2009-05-09T03:11:31Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I noticed that when I ran `SearchQuerySet().all().order_by('-pub_date')` that haystack was passing `\"-pub_date\"` as the name of the field and not `\"pub_date\"` with `reverse=True`.  I have a commit in my fork (http://github.com/mcroydon/django-haystack/commit/bdb0151cb85dc3a1b2bafcf9f5f410c9653a4ac5) that fixes the issue and have some tests (http://gist.github.com/108274) that should cover the problem but I haven't run them yet.\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/29/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/29/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/28", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/28/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/28/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/28/events", "html_url": "https://github.com/django-haystack/django-haystack/issues/28", "id": 12344, "node_id": "MDU6SXNzdWUxMjM0NA==", "number": 28, "title": "patch to solr backend to permit passing datetimes and dates to query filters", "user": {"login": "smulloni", "id": 39731, "node_id": "MDQ6VXNlcjM5NzMx", "avatar_url": "https://avatars.githubusercontent.com/u/39731?v=4", "gravatar_id": "", "url": "https://api.github.com/users/smulloni", "html_url": "https://github.com/smulloni", "followers_url": "https://api.github.com/users/smulloni/followers", "following_url": "https://api.github.com/users/smulloni/following{/other_user}", "gists_url": "https://api.github.com/users/smulloni/gists{/gist_id}", "starred_url": "https://api.github.com/users/smulloni/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/smulloni/subscriptions", "organizations_url": "https://api.github.com/users/smulloni/orgs", "repos_url": "https://api.github.com/users/smulloni/repos", "events_url": "https://api.github.com/users/smulloni/events{/privacy}", "received_events_url": "https://api.github.com/users/smulloni/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2009-05-07T15:59:36Z", "updated_at": "2009-07-09T01:41:45Z", "closed_at": "2009-05-09T04:41:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "Right now, solr_backend's build_query() will explode if you pass in a datetime to a query filter, a la \n\n```\n qs.filter(pub_date__lte=datetime.datetime.now())\n```\n\nwhich I think is desirable to support.  The patch is very straightforward:\n\n```\ndiff --git a/haystack/backends/solr_backend.py b/haystack/backends/solr_backend.py\nindex 122a636..a982421 100644\n--- a/haystack/backends/solr_backend.py\n+++ b/haystack/backends/solr_backend.py\n@@ -1,3 +1,4 @@\n+import datetime\n import sys\n from django.conf import settings\n from django.core.exceptions import ImproperlyConfigured\n@@ -202,6 +203,8 @@ class SearchQuery(BaseSearchQuery):\n\n                 if isinstance(value, (int, long, float, complex)):\n                     value = str(value)\n+                elif isinstance(value, (datetime.datetime, datetime.date)):\n+                    value=self.backend.conn._from_python(value)\n\n                 # Check to see if it's a phrase for an exact match.\n                 if ' ' in value:\n```\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/28/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/28/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/25", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/25/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/25/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/25/events", "html_url": "https://github.com/django-haystack/django-haystack/issues/25", "id": 11792, "node_id": "MDU6SXNzdWUxMTc5Mg==", "number": 25, "title": "patch to the search index metaclass to support inherited field declarations", "user": {"login": "smulloni", "id": 39731, "node_id": "MDQ6VXNlcjM5NzMx", "avatar_url": "https://avatars.githubusercontent.com/u/39731?v=4", "gravatar_id": "", "url": "https://api.github.com/users/smulloni", "html_url": "https://github.com/smulloni", "followers_url": "https://api.github.com/users/smulloni/followers", "following_url": "https://api.github.com/users/smulloni/following{/other_user}", "gists_url": "https://api.github.com/users/smulloni/gists{/gist_id}", "starred_url": "https://api.github.com/users/smulloni/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/smulloni/subscriptions", "organizations_url": "https://api.github.com/users/smulloni/orgs", "repos_url": "https://api.github.com/users/smulloni/repos", "events_url": "https://api.github.com/users/smulloni/events{/privacy}", "received_events_url": "https://api.github.com/users/smulloni/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2009-05-06T15:02:13Z", "updated_at": "2009-07-09T01:41:42Z", "closed_at": "2009-05-09T19:52:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "One may want to use a number of identical fields across a number of (in other respects distinct) SearchIndex classes, but the current DeclarativeMetaclass used doesn't support inheritance, so they need to be declared all over again in every index.  The patch below adds simple inheritance support.  (This doesn't seem to be the ideal way to submit a patch; if there is some cooler git way to proceed of which I am ignorant, feel free to bang me on the head.)\n\n```\ndiff --git a/haystack/indexes.py b/haystack/indexes.py\nindex 009dad5..bc7be57 100644\n--- a/haystack/indexes.py\n+++ b/haystack/indexes.py\n@@ -5,6 +5,15 @@ from haystack.fields import *\n class DeclarativeMetaclass(type):\n     def __new__(cls, name, bases, attrs):\n         attrs['fields'] = {}\n+        try:\n+            parents=[b for b in bases if issubclass(b, SearchIndex)]\n+        except NameError:\n+            pass\n+        else:\n+            for p in parents:\n+                fields=getattr(p, 'fields', None)\n+                if fields:\n+                    attrs['fields'].update(fields)\n\n         for field_name, obj in attrs.items():\n             if isinstance(obj, SearchField):\n```\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/25/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/25/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/23", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/23/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/23/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/23/events", "html_url": "https://github.com/django-haystack/django-haystack/issues/23", "id": 11609, "node_id": "MDU6SXNzdWUxMTYwOQ==", "number": 23, "title": "Query fails if the backend decides everything is a stopword", "user": {"login": "apollo13", "id": 81547, "node_id": "MDQ6VXNlcjgxNTQ3", "avatar_url": "https://avatars.githubusercontent.com/u/81547?v=4", "gravatar_id": "", "url": "https://api.github.com/users/apollo13", "html_url": "https://github.com/apollo13", "followers_url": "https://api.github.com/users/apollo13/followers", "following_url": "https://api.github.com/users/apollo13/following{/other_user}", "gists_url": "https://api.github.com/users/apollo13/gists{/gist_id}", "starred_url": "https://api.github.com/users/apollo13/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/apollo13/subscriptions", "organizations_url": "https://api.github.com/users/apollo13/orgs", "repos_url": "https://api.github.com/users/apollo13/repos", "events_url": "https://api.github.com/users/apollo13/events{/privacy}", "received_events_url": "https://api.github.com/users/apollo13/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2009-05-06T08:18:13Z", "updated_at": "2009-07-09T01:41:41Z", "closed_at": "2009-05-09T02:32:36Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "http://paste.pocoo.org/show/115982/\nI get this traceback searching for a single letter using whoosh as backend, the view should catch this, and tell me that my query is invalid. Apparently whoosh kicks out single letters, and as such my query is None\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/23/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/23/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/19", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/19/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/19/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/19/events", "html_url": "https://github.com/django-haystack/django-haystack/issues/19", "id": 9215, "node_id": "MDU6SXNzdWU5MjE1", "number": 19, "title": "Non-function prints should go to sys.stderr", "user": {"login": "zerok", "id": 3782, "node_id": "MDQ6VXNlcjM3ODI=", "avatar_url": "https://avatars.githubusercontent.com/u/3782?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zerok", "html_url": "https://github.com/zerok", "followers_url": "https://api.github.com/users/zerok/followers", "following_url": "https://api.github.com/users/zerok/following{/other_user}", "gists_url": "https://api.github.com/users/zerok/gists{/gist_id}", "starred_url": "https://api.github.com/users/zerok/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zerok/subscriptions", "organizations_url": "https://api.github.com/users/zerok/orgs", "repos_url": "https://api.github.com/users/zerok/repos", "events_url": "https://api.github.com/users/zerok/events{/privacy}", "received_events_url": "https://api.github.com/users/zerok/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2009-04-30T10:17:32Z", "updated_at": "2009-07-09T01:41:31Z", "closed_at": "2009-05-04T15:14:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "Non-functional prints like those in haystack/**init**.py prevent all commands to be used with pipes because everything is printed to stdout. I've created a small patch on http://github.com/zerok/django-haystack/tree/print_to_stderr to redirect those prints to stderr which also makes redirecting the output of the build_solr_schema-command directly into solr's schema.xml possible.\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/19/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/19/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/16", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/16/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/16/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/16/events", "html_url": "https://github.com/django-haystack/django-haystack/issues/16", "id": 8708, "node_id": "MDU6SXNzdWU4NzA4", "number": 16, "title": "Revamp Schema Building", "user": {"login": "toastdriven", "id": 2449, "node_id": "MDQ6VXNlcjI0NDk=", "avatar_url": "https://avatars.githubusercontent.com/u/2449?v=4", "gravatar_id": "", "url": "https://api.github.com/users/toastdriven", "html_url": "https://github.com/toastdriven", "followers_url": "https://api.github.com/users/toastdriven/followers", "following_url": "https://api.github.com/users/toastdriven/following{/other_user}", "gists_url": "https://api.github.com/users/toastdriven/gists{/gist_id}", "starred_url": "https://api.github.com/users/toastdriven/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/toastdriven/subscriptions", "organizations_url": "https://api.github.com/users/toastdriven/orgs", "repos_url": "https://api.github.com/users/toastdriven/repos", "events_url": "https://api.github.com/users/toastdriven/events{/privacy}", "received_events_url": "https://api.github.com/users/toastdriven/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2009-04-29T13:08:37Z", "updated_at": "2009-08-16T07:38:02Z", "closed_at": "2009-08-16T07:38:02Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The current schema setup is less than optimal, especially if one defines new fields. Need to add a way to allow for better extension so SearchBackends can take advantage of what's available.\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/16/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/16/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/15", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/15/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/15/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/15/events", "html_url": "https://github.com/django-haystack/django-haystack/issues/15", "id": 8428, "node_id": "MDU6SXNzdWU4NDI4", "number": 15, "title": "KeyError when reindexing", "user": {"login": "ryszard", "id": 37782, "node_id": "MDQ6VXNlcjM3Nzgy", "avatar_url": "https://avatars.githubusercontent.com/u/37782?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ryszard", "html_url": "https://github.com/ryszard", "followers_url": "https://api.github.com/users/ryszard/followers", "following_url": "https://api.github.com/users/ryszard/following{/other_user}", "gists_url": "https://api.github.com/users/ryszard/gists{/gist_id}", "starred_url": "https://api.github.com/users/ryszard/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ryszard/subscriptions", "organizations_url": "https://api.github.com/users/ryszard/orgs", "repos_url": "https://api.github.com/users/ryszard/repos", "events_url": "https://api.github.com/users/ryszard/events{/privacy}", "received_events_url": "https://api.github.com/users/ryszard/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}, {"id": 8217, "node_id": "MDU6TGFiZWw4MjE3", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/backend%20:%20whoosh", "name": "backend : whoosh", "color": "d4c5f9", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2009-04-28T21:08:48Z", "updated_at": "2009-09-01T04:49:53Z", "closed_at": "2009-09-01T04:49:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "I get a key error when reindexing. This is probably a whoosh issue, but I am not completely sure how to extract all haystack specific context.\n\n```\n(richard garibaldi):~/Projects/balkonetka/balkonetka% ./manage.py reindex\nLoaded URLconf to initialize SearchSite...\nMain site registered 2 index(es).\nIndexing 74 bras.\nIndexing 54 posts.\nTraceback (most recent call last):\n  File \"./manage.py\", line 11, in <module>\n    execute_manager(settings)\n  File \"/Users/richard/Projects/balkonetka/balkonetka/django/core/management/__init__.py\", line 340, in execute_manager\n    utility.execute()\n  File \"/Users/richard/Projects/balkonetka/balkonetka/django/core/management/__init__.py\", line 295, in execute\n    self.fetch_command(subcommand).run_from_argv(self.argv)\n  File \"/Users/richard/Projects/balkonetka/balkonetka/django/core/management/base.py\", line 192, in run_from_argv\n    self.execute(*args, **options.__dict__)\n  File \"/Users/richard/Projects/balkonetka/balkonetka/django/core/management/base.py\", line 219, in execute\n    output = self.handle(*args, **options)\n  File \"/Users/richard/Projects/balkonetka/balkonetka/haystack/management/commands/reindex.py\", line 34, in handle\n    self.handle_app(None, **options)\n  File \"/Users/richard/Projects/balkonetka/balkonetka/haystack/management/commands/reindex.py\", line 81, in handle_app\n    index.backend.update(index, small_cache_qs[start:end])\n  File \"/Users/richard/Projects/balkonetka/balkonetka/haystack/backends/whoosh_backend.py\", line 120, in update\n    writer.commit()\n  File \"/Users/richard/Projects/balkonetka/balkonetka/whoosh/writing.py\", line 218, in commit\n    self._merge_segments(mergetype)\n  File \"/Users/richard/Projects/balkonetka/balkonetka/whoosh/writing.py\", line 230, in _merge_segments\n    new_segments = mergetype(self.index, sw, self.segments)\n  File \"/Users/richard/Projects/balkonetka/balkonetka/whoosh/writing.py\", line 65, in MERGE_SMALL\n    writer.add_segment(ix, seg)\n  File \"/Users/richard/Projects/balkonetka/balkonetka/whoosh/writing.py\", line 406, in add_segment\n    newdoc = doc_map[docnum]\nKeyError: 109\n```\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/15/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/15/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/13", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/13/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/13/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/13/events", "html_url": "https://github.com/django-haystack/django-haystack/issues/13", "id": 7731, "node_id": "MDU6SXNzdWU3NzMx", "number": 13, "title": "manage.py reindex raises Exception for Whoosh backend", "user": {"login": "ryszard", "id": 37782, "node_id": "MDQ6VXNlcjM3Nzgy", "avatar_url": "https://avatars.githubusercontent.com/u/37782?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ryszard", "html_url": "https://github.com/ryszard", "followers_url": "https://api.github.com/users/ryszard/followers", "following_url": "https://api.github.com/users/ryszard/following{/other_user}", "gists_url": "https://api.github.com/users/ryszard/gists{/gist_id}", "starred_url": "https://api.github.com/users/ryszard/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ryszard/subscriptions", "organizations_url": "https://api.github.com/users/ryszard/orgs", "repos_url": "https://api.github.com/users/ryszard/repos", "events_url": "https://api.github.com/users/ryszard/events{/privacy}", "received_events_url": "https://api.github.com/users/ryszard/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2009-04-27T15:58:29Z", "updated_at": "2009-07-09T01:41:23Z", "closed_at": "2009-04-29T13:03:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "The first time you run reindex everything is fine. The second and subsequent times raise the following exception:\n\n   (richard garibaldi):~/Projects/balkonetka/balkonetka% ./manage.py reindex  \n    Loaded URLconf to initialize SearchSite...\n    Main site registered 1 index(es).\n    Indexing 73 bras.\n    Traceback (most recent call last):\n      File \"./manage.py\", line 11, in <module>\n        execute_manager(settings)\n      File \"/Users/richard/Projects/balkonetka/balkonetka/django/core/management/**init**.py\", line 340, in execute_manager\n        utility.execute()\n      File \"/Users/richard/Projects/balkonetka/balkonetka/django/core/management/**init**.py\", line 295, in execute\n        self.fetch_command(subcommand).run_from_argv(self.argv)\n      File \"/Users/richard/Projects/balkonetka/balkonetka/django/core/management/base.py\", line 192, in run_from_argv\n        self.execute(_args, *_options.**dict**)\n      File \"/Users/richard/Projects/balkonetka/balkonetka/django/core/management/base.py\", line 219, in execute\n        output = self.handle(_args, *_options)\n      File \"/Users/richard/Projects/balkonetka/balkonetka/haystack/management/commands/reindex.py\", line 34, in handle\n        self.handle_app(None, **options)\n      File \"/Users/richard/Projects/balkonetka/balkonetka/haystack/management/commands/reindex.py\", line 81, in handle_app\n        index.backend.update(index, small_cache_qs[start:end])\n      File \"/Users/richard/Projects/balkonetka/balkonetka/haystack/backends/whoosh_backend.py\", line 117, in update\n        writer.update_document(**doc)\n      File \"/Users/richard/Projects/balkonetka/balkonetka/whoosh/writing.py\", line 204, in update_document\n        self.delete_by_term(name, fields[name], searcher = searcher)\n      File \"/Users/richard/Projects/balkonetka/balkonetka/whoosh/index.py\", line 184, in delete_by_term\n        return self.delete_by_query(q, searcher = searcher)\n      File \"/Users/richard/Projects/balkonetka/balkonetka/whoosh/index.py\", line 205, in delete_by_query\n        for docnum in q.docs(s):\n      File \"/Users/richard/Projects/balkonetka/balkonetka/whoosh/query.py\", line 267, in docs\n        if (fieldnum, text) in searcher:\n      File \"/Users/richard/Projects/balkonetka/balkonetka/whoosh/searching.py\", line 62, in **contains**\n        return term in self.term_reader\n      File \"/Users/richard/Projects/balkonetka/balkonetka/whoosh/util.py\", line 177, in wrapper\n        raise Exception(\"This object has been closed\")\n    Exception: This object has been closed\n\nWhat is more, whoosh leaves a lock file behind itself, which you have to remove manually.\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/13/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/13/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/11", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/11/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/11/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/11/events", "html_url": "https://github.com/django-haystack/django-haystack/issues/11", "id": 7171, "node_id": "MDU6SXNzdWU3MTcx", "number": 11, "title": "Whoosh ParseException when searching for colons", "user": {"login": "ubershmekel", "id": 77754, "node_id": "MDQ6VXNlcjc3NzU0", "avatar_url": "https://avatars.githubusercontent.com/u/77754?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ubershmekel", "html_url": "https://github.com/ubershmekel", "followers_url": "https://api.github.com/users/ubershmekel/followers", "following_url": "https://api.github.com/users/ubershmekel/following{/other_user}", "gists_url": "https://api.github.com/users/ubershmekel/gists{/gist_id}", "starred_url": "https://api.github.com/users/ubershmekel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ubershmekel/subscriptions", "organizations_url": "https://api.github.com/users/ubershmekel/orgs", "repos_url": "https://api.github.com/users/ubershmekel/repos", "events_url": "https://api.github.com/users/ubershmekel/events{/privacy}", "received_events_url": "https://api.github.com/users/ubershmekel/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2009-04-25T22:06:23Z", "updated_at": "2009-07-09T01:41:21Z", "closed_at": "2009-04-26T20:25:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "Howdy Hays,\n\nThis is the exception I get when I search my site for \"http:\"\n(btw django 1.0.2)...\n\nParseException at /search/http:\n\nExpected end of text (at char 4), (line:1, col:5)\n\nRequest Method:     GET\nRequest URL:    http://localhost:8000/search/http:\nException Type:     ParseException\nException Value:    \n\nExpected end of text (at char 4), (line:1, col:5)\n\nException Location:     F:\\Documents and Settings...\\apps\\whoosh\\qparser.py in parse, line 184\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/11/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/11/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/10", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/10/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/10/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/10/events", "html_url": "https://github.com/django-haystack/django-haystack/issues/10", "id": 6943, "node_id": "MDU6SXNzdWU2OTQz", "number": 10, "title": "auto_query does not properly escape special characters when using whoosh backend", "user": {"login": "bartTC", "id": 1896, "node_id": "MDQ6VXNlcjE4OTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1896?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bartTC", "html_url": "https://github.com/bartTC", "followers_url": "https://api.github.com/users/bartTC/followers", "following_url": "https://api.github.com/users/bartTC/following{/other_user}", "gists_url": "https://api.github.com/users/bartTC/gists{/gist_id}", "starred_url": "https://api.github.com/users/bartTC/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bartTC/subscriptions", "organizations_url": "https://api.github.com/users/bartTC/orgs", "repos_url": "https://api.github.com/users/bartTC/repos", "events_url": "https://api.github.com/users/bartTC/events{/privacy}", "received_events_url": "https://api.github.com/users/bartTC/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2009-04-25T10:44:57Z", "updated_at": "2009-07-09T01:41:20Z", "closed_at": "2009-05-09T05:29:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "Using todays (patched) trunk-version of whoosh and latest haystack the auto_query SearchQuerySet fails if a  reserved character [1] is used.\n\n```\nIn [6]: SearchQuerySet().filter(content=u\"hello world :.'\")\nOut[6]: [<SearchResult: weblog.entry (pk=u'1477')>]\n\nIn [8]: SearchQuerySet().auto_query(u\"hello world :.'\")\nOut[8]: ERROR: An unexpected error occurred while tokenizing input\nThe following traceback may be corrupted or invalid\nThe error message is: ('EOF in multi-line statement', (364, 0))\n...\nParseException: Expected end of text (at char 20), (line:1, col:21)\n```\n\n[1] http://github.com/toastdriven/django-haystack/blob/38725f0891d15f638c67ee4fa714245ae2014314/haystack/backends/whoosh_backend.py#L28\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/10/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/10/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/7", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/7/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/7/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/7/events", "html_url": "https://github.com/django-haystack/django-haystack/issues/7", "id": 5908, "node_id": "MDU6SXNzdWU1OTA4", "number": 7, "title": "When no indexes are registered, Whoosh throws an exception.", "user": {"login": "benspaulding", "id": 21705, "node_id": "MDQ6VXNlcjIxNzA1", "avatar_url": "https://avatars.githubusercontent.com/u/21705?v=4", "gravatar_id": "", "url": "https://api.github.com/users/benspaulding", "html_url": "https://github.com/benspaulding", "followers_url": "https://api.github.com/users/benspaulding/followers", "following_url": "https://api.github.com/users/benspaulding/following{/other_user}", "gists_url": "https://api.github.com/users/benspaulding/gists{/gist_id}", "starred_url": "https://api.github.com/users/benspaulding/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/benspaulding/subscriptions", "organizations_url": "https://api.github.com/users/benspaulding/orgs", "repos_url": "https://api.github.com/users/benspaulding/repos", "events_url": "https://api.github.com/users/benspaulding/events{/privacy}", "received_events_url": "https://api.github.com/users/benspaulding/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2009-04-23T14:01:55Z", "updated_at": "2009-07-09T01:41:14Z", "closed_at": "2009-05-06T12:14:23Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "This is a bit of an edge-case, but when no indexes are registered (either manually or via autodiscover), the Whoosh backend fails miserably. A different (but similar looking) \"KeyError at /search/\" due to no \"document=True\" fields being available.\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/7/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/7/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/4", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/4/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/4/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/4/events", "html_url": "https://github.com/django-haystack/django-haystack/issues/4", "id": 5104, "node_id": "MDU6SXNzdWU1MTA0", "number": 4, "title": "Whoosh Error", "user": {"login": "toastdriven", "id": 2449, "node_id": "MDQ6VXNlcjI0NDk=", "avatar_url": "https://avatars.githubusercontent.com/u/2449?v=4", "gravatar_id": "", "url": "https://api.github.com/users/toastdriven", "html_url": "https://github.com/toastdriven", "followers_url": "https://api.github.com/users/toastdriven/followers", "following_url": "https://api.github.com/users/toastdriven/following{/other_user}", "gists_url": "https://api.github.com/users/toastdriven/gists{/gist_id}", "starred_url": "https://api.github.com/users/toastdriven/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/toastdriven/subscriptions", "organizations_url": "https://api.github.com/users/toastdriven/orgs", "repos_url": "https://api.github.com/users/toastdriven/repos", "events_url": "https://api.github.com/users/toastdriven/events{/privacy}", "received_events_url": "https://api.github.com/users/toastdriven/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2009-04-21T20:35:17Z", "updated_at": "2009-07-09T01:41:11Z", "closed_at": "2009-05-06T12:14:17Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Whoosh sometimes throws an exception when searching, usually to the effect of:\n\n\"KeyError at /search/: ([u'city'], {})\"\n@whoosh/fields.py in name_to_number, line 339\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/4/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/4/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/2", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/2/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/2/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/2/events", "html_url": "https://github.com/django-haystack/django-haystack/issues/2", "id": 4654, "node_id": "MDU6SXNzdWU0NjU0", "number": 2, "title": "indexes.DateTimeField should return a datetime-object", "user": {"login": "bartTC", "id": 1896, "node_id": "MDQ6VXNlcjE4OTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1896?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bartTC", "html_url": "https://github.com/bartTC", "followers_url": "https://api.github.com/users/bartTC/followers", "following_url": "https://api.github.com/users/bartTC/following{/other_user}", "gists_url": "https://api.github.com/users/bartTC/gists{/gist_id}", "starred_url": "https://api.github.com/users/bartTC/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bartTC/subscriptions", "organizations_url": "https://api.github.com/users/bartTC/orgs", "repos_url": "https://api.github.com/users/bartTC/repos", "events_url": "https://api.github.com/users/bartTC/events{/privacy}", "received_events_url": "https://api.github.com/users/bartTC/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2009-04-21T09:53:33Z", "updated_at": "2009-07-09T01:41:07Z", "closed_at": "2009-05-12T04:59:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "I've implemented a SearchIndex as the [tutorial](http://haystacksearch.org/docs/tutorial.html#creating-searchindexes) explained and the return of the pub_date field is a unicode string:\n\n```\n{% for result in page.object_list %}\n    {{ result.pub_date|timesince }} # won't work\n...\n```\n\nWould be better if DateTimeField and DateField return a datetime object.\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/2/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/2/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/1", "repository_url": "https://api.github.com/repos/django-haystack/django-haystack", "labels_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/1/labels{/name}", "comments_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/1/comments", "events_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/1/events", "html_url": "https://github.com/django-haystack/django-haystack/issues/1", "id": 773, "node_id": "MDU6SXNzdWU3NzM=", "number": 1, "title": "Narrowing search queries to specific models is not working properly", "user": {"login": "toastdriven", "id": 2449, "node_id": "MDQ6VXNlcjI0NDk=", "avatar_url": "https://avatars.githubusercontent.com/u/2449?v=4", "gravatar_id": "", "url": "https://api.github.com/users/toastdriven", "html_url": "https://github.com/toastdriven", "followers_url": "https://api.github.com/users/toastdriven/followers", "following_url": "https://api.github.com/users/toastdriven/following{/other_user}", "gists_url": "https://api.github.com/users/toastdriven/gists{/gist_id}", "starred_url": "https://api.github.com/users/toastdriven/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/toastdriven/subscriptions", "organizations_url": "https://api.github.com/users/toastdriven/orgs", "repos_url": "https://api.github.com/users/toastdriven/repos", "events_url": "https://api.github.com/users/toastdriven/events{/privacy}", "received_events_url": "https://api.github.com/users/toastdriven/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 401, "node_id": "MDU6TGFiZWw0MDE=", "url": "https://api.github.com/repos/django-haystack/django-haystack/labels/bug", "name": "bug", "color": "e99695", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2009-04-17T02:36:23Z", "updated_at": "2021-03-03T21:57:14Z", "closed_at": "2009-04-17T14:02:33Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Narrowing search queries to specific models is not working properly due to\na bug in the ModelSearchForm model handling: in forms.py a set of models is\npassed to the search query set (sqs.models(self.get_models())), whereas the\nmodels method itself is defined as def models(self, *models). Meaning, \"for\nmodel in models\" returns a set of models, instead of just one model.\n", "reactions": {"url": "https://api.github.com/repos/django-haystack/django-haystack/issues/1/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/django-haystack/django-haystack/issues/1/timeline", "performed_via_github_app": null, "state_reason": "completed"}]