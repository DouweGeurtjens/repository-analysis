[{"url": "https://api.github.com/repos/Zulko/moviepy/issues/1959", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1959/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1959/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1959/events", "html_url": "https://github.com/Zulko/moviepy/issues/1959", "id": 1689591951, "node_id": "I_kwDOALfols5ktSCP", "number": 1959, "title": "TextClip() showing text background but not text itself", "user": {"login": "siop1", "id": 111568080, "node_id": "U_kgDOBqZk0A", "avatar_url": "https://avatars.githubusercontent.com/u/111568080?v=4", "gravatar_id": "", "url": "https://api.github.com/users/siop1", "html_url": "https://github.com/siop1", "followers_url": "https://api.github.com/users/siop1/followers", "following_url": "https://api.github.com/users/siop1/following{/other_user}", "gists_url": "https://api.github.com/users/siop1/gists{/gist_id}", "starred_url": "https://api.github.com/users/siop1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/siop1/subscriptions", "organizations_url": "https://api.github.com/users/siop1/orgs", "repos_url": "https://api.github.com/users/siop1/repos", "events_url": "https://api.github.com/users/siop1/events{/privacy}", "received_events_url": "https://api.github.com/users/siop1/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-04-29T15:13:04Z", "updated_at": "2023-04-29T16:42:38Z", "closed_at": "2023-04-29T16:42:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "Code:\r\n```\r\nfrom moviepy.editor import ImageClip, AudioFileClip, CompositeAudioClip, CompositeVideoClip, concatenate_videoclips,TextClip\r\nimport os\r\nimport random\r\n\r\n# running this file from anywhere\r\nfull_path=os.path.dirname((__file__))\r\nos.chdir(full_path)\r\n\r\n# Set the path to your photo, background music, and voiceover files\r\nphotos_path = 'Photos'\r\nbackground_musics_path = 'Bg_music'\r\nvoiceover_path = 'Audiobook\\\\test.mp3'\r\noutput_path = 'Videos\\\\video.mp4'\r\n\r\n# Choosing\r\nphoto_path=os.path.join(photos_path,random.choice(os.listdir(photos_path)))\r\nbackground_music_path=os.path.join(background_musics_path,random.choice(os.listdir(background_musics_path)))\r\nprint(photo_path)\r\nprint(background_music_path)\r\n\r\n# Set the target duration to match the voiceover\r\ntarget_duration = AudioFileClip(voiceover_path).duration\r\n\r\n# Create the video clips\r\nphoto_clip = ImageClip(photo_path, duration=target_duration)\r\nbackground_music_clip = AudioFileClip(background_music_path).volumex(0.3)\r\nbackground_music_composite_clip = CompositeAudioClip([background_music_clip.audio_loop(duration=target_duration)])\r\nvoiceover_clip = AudioFileClip(voiceover_path)\r\n\r\n# Create the audio composition\r\naudio_clip = CompositeAudioClip([background_music_composite_clip, voiceover_clip])\r\n\r\n# Create the video composition\r\nvideo_clip = CompositeVideoClip([photo_clip.set_position('center')])\r\n\r\n# Add text clip to the video clip\r\ntxt_clip = TextClip(txt=\"\u0930\u093e\u091c\u0938\u094d\u0925\u093e\u0928 \u0915\u0947 \u0915\u094b\u091f\u093e \u0915\u0940 \\n\u092d\u0942\u0924\u093f\u092f\u093e \u0939\u0935\u0947\u0932\u0940\", fontsize=70, color='black',bg_color='aqua').set_position('center','center')\r\nvideo_clip = CompositeVideoClip([video_clip, txt_clip.set_duration(target_duration)])\r\n\r\n# Set the audio for the video clip\r\nvideo_clip = video_clip.set_audio(audio_clip)\r\n\r\n# Repeat the video clip for the duration of the audio clip\r\nvideo_clips = [video_clip.set_duration(target_duration)]\r\n\r\n# Concatenate the video clips together\r\nfinal_clip = concatenate_videoclips(video_clips)\r\n\r\n# Write the final clip to a video file\r\nfinal_clip.write_videofile(output_path, fps=24)\r\n```\r\n\r\nError:\r\nNo error\r\nBut output is not expected\r\n\r\nOutput:\r\nhttps://user-images.githubusercontent.com/111568080/235309925-0bd627ed-83fd-4528-9ae6-23e94e580d0e.png\r\n\r\nMagick Version:\r\nVersion: ImageMagick 7.1.0-62 Q16-HDRI x64\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1959/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1959/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1929", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1929/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1929/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1929/events", "html_url": "https://github.com/Zulko/moviepy/issues/1929", "id": 1610458910, "node_id": "I_kwDOALfols5f_ace", "number": 1929, "title": "Large files result in \"X bytes wanted but 0 bytes read at frame index\". Using the last valid frame instead.", "user": {"login": "diademiemi", "id": 56408488, "node_id": "MDQ6VXNlcjU2NDA4NDg4", "avatar_url": "https://avatars.githubusercontent.com/u/56408488?v=4", "gravatar_id": "", "url": "https://api.github.com/users/diademiemi", "html_url": "https://github.com/diademiemi", "followers_url": "https://api.github.com/users/diademiemi/followers", "following_url": "https://api.github.com/users/diademiemi/following{/other_user}", "gists_url": "https://api.github.com/users/diademiemi/gists{/gist_id}", "starred_url": "https://api.github.com/users/diademiemi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/diademiemi/subscriptions", "organizations_url": "https://api.github.com/users/diademiemi/orgs", "repos_url": "https://api.github.com/users/diademiemi/repos", "events_url": "https://api.github.com/users/diademiemi/events{/privacy}", "received_events_url": "https://api.github.com/users/diademiemi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-03-06T00:25:07Z", "updated_at": "2023-03-06T18:31:00Z", "closed_at": "2023-03-06T18:30:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hey, I'm having this issue with opening large files. I can't find any open issues that have the exact same issue. (some complain about the last or first frames, but I have more frames dropped than that). Some other issues were closed due to lack of info, so I hope this issue is thorough enough.\r\nI'm using the master branch, since the master branch fixes a bug I was dealing with.\r\n\r\n#### Expected Behavior\r\nThe image `watermark` gets overlayed on top of the video `video`.\r\n\r\n#### Actual Behavior\r\nOnly a few frames at the beginning of the video gets rendered. This log output will continue for all future frames and the end file will be broken. The first frames seem correct, but after it gets to the error (15 frames in this example) the video will be stuck. The audio still plays correctly.\r\n\r\n```\r\nMoviepy - Building video /mnt/files/Pictures/Saved/rule_206.mp4.\r\nMoviePy - Writing audio in rule_206TEMP_MPY_wvf_snd.mp3\r\nMoviePy - Done.                                                                                                                                                                                                                              \r\nMoviepy - Writing video /mnt/files/Pictures/Saved/rule_206.mp4\r\n\r\nframe_index:   0%|                                                                                                                                                                                        | 0/6341 [00:00<?, ?it/s, now=None]/home/diademiemi/.local/lib/python3.11/site-packages/moviepy/video/io/ffmpeg_reader.py:155: UserWarning: In file /mnt/files/Pictures/Saved/rule_206.mp4, 1244160 bytes wanted but 0 bytes read at frame index 15 (out of a total 6341 frames), at time 0.50/211.37 sec. Using the last valid frame instead.\r\n  warnings.warn(\r\n/home/diademiemi/.local/lib/python3.11/site-packages/moviepy/video/io/ffmpeg_reader.py:155: UserWarning: In file /mnt/files/Pictures/Saved/rule_206.mp4, 1244160 bytes wanted but 0 bytes read at frame index 16 (out of a total 6341 frames), at time 0.53/211.37 sec. Using the last valid frame instead.\r\n  warnings.warn(\r\n/home/diademiemi/.local/lib/python3.11/site-packages/moviepy/video/io/ffmpeg_reader.py:155: UserWarning: In file /mnt/files/Pictures/Saved/rule_206.mp4, 1244160 bytes wanted but 0 bytes read at frame index 17 (out of a total 6341 frames), at time 0.57/211.37 sec. Using the last valid frame instead.\r\n  warnings.warn(\r\n/home/diademiemi/.local/lib/python3.11/site-packages/moviepy/video/io/ffmpeg_reader.py:155: UserWarning: In file /mnt/files/Pictures/Saved/rule_206.mp4, 1244160 bytes wanted but 0 bytes read at frame index 18 (out of a total 6341 frames), at time 0.60/211.37 sec. Using the last valid frame instead.\r\n\r\n...\r\n```\r\n\r\nIt is just the same error but with the index counted up. The `1244160 bytes wanted` stays the same. This value is different per video.\r\n\r\n#### Steps to Reproduce the Problem\r\n```python3\r\n\r\ndef video_watermark(video, watermark, position, margin, scale):\r\n    watermark_aspect_ratio = watermark.size[0] / watermark.size[1]\r\n    watermark = watermark.resize((int(video.size[0] * scale), int(video.size[0] * scale / watermark_aspect_ratio)))\r\n\r\n    coordinates = get_coordinates(video.size[0], video.size[1], watermark.size[0], watermark.size[1], position, margin,\r\n                                  scale)\r\n\r\n    watermark_clip = ImageClip(numpy.array(watermark)).with_duration(video.duration).with_position(coordinates)\r\n\r\n    return CompositeVideoClip([video, watermark_clip])\r\n\r\ndef add_watermark(file, output_file, watermark, opacity, position, margin, scale):\r\n    # Backup the image or use the backup if it exists\r\n    # backup_image(file)\r\n    scale = scale / 100\r\n    margin = margin / 100\r\n    opacity = opacity / 100\r\n\r\n    watermark = Image.open(watermark).convert(\"RGBA\")\r\n\r\n    watermark = create_watermark(watermark, opacity) # This part does not cause the error, other files result in the same error\r\n\r\n    elif file.lower().endswith(('.mp4', '.avi', '.mov', '.mkv', '.flv', '.wmv', '.webm')):\r\n        video = VideoFileClip(file)\r\n\r\n        output = video_watermark(video, watermark, position, margin, scale)\r\n\r\n        output.write_videofile(output_file)\r\n\r\n\r\n```\r\n\r\nIn the `video_watermark` function it creates a CompositeVideoClip with the watermark layered on top of the video. `add_watermark` is just a preparation function and I don't believe this is where the error comes from, but I included it for context.\r\n\r\n#### Specifications\r\n\r\n  - Python Version: 3.11 \r\n  - MoviePy Version: master\r\n  - Platform Name: Fedora and Ubuntu (tried both)\r\n  - Platform Version: Fedora 37 and Ubuntu 20.04\r\nI have tried this with FFmpeg 5.1.2 on Fedora and FFmpeg 4.2.7 on Ubuntu, the same results on both. \r\n\r\n\r\n\r\n\r\n\r\nI attached a video file that I have been able to reproduce this with.\r\nhttps://user-images.githubusercontent.com/56408488/222994713-86b34d8b-75f9-4613-85f5-575f00ef55e6.mp4", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1929/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1929/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1893", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1893/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1893/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1893/events", "html_url": "https://github.com/Zulko/moviepy/issues/1893", "id": 1530073998, "node_id": "I_kwDOALfols5bMxOO", "number": 1893, "title": "add_watermark kills the perfomance of video exporting", "user": {"login": "RichardErkhov", "id": 104026872, "node_id": "U_kgDOBjNS-A", "avatar_url": "https://avatars.githubusercontent.com/u/104026872?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RichardErkhov", "html_url": "https://github.com/RichardErkhov", "followers_url": "https://api.github.com/users/RichardErkhov/followers", "following_url": "https://api.github.com/users/RichardErkhov/following{/other_user}", "gists_url": "https://api.github.com/users/RichardErkhov/gists{/gist_id}", "starred_url": "https://api.github.com/users/RichardErkhov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RichardErkhov/subscriptions", "organizations_url": "https://api.github.com/users/RichardErkhov/orgs", "repos_url": "https://api.github.com/users/RichardErkhov/repos", "events_url": "https://api.github.com/users/RichardErkhov/events{/privacy}", "received_events_url": "https://api.github.com/users/RichardErkhov/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-01-12T04:20:41Z", "updated_at": "2023-02-06T22:37:32Z", "closed_at": "2023-02-06T22:37:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "Everything is explained in this issue:\nhttps://github.com/elebumm/RedditVideoMakerBot/issues/1440\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1893/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1893/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1849", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1849/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1849/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1849/events", "html_url": "https://github.com/Zulko/moviepy/issues/1849", "id": 1416829677, "node_id": "I_kwDOALfols5Ucxrt", "number": 1849, "title": "cv2 circular import", "user": {"login": "rijobro", "id": 33289025, "node_id": "MDQ6VXNlcjMzMjg5MDI1", "avatar_url": "https://avatars.githubusercontent.com/u/33289025?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rijobro", "html_url": "https://github.com/rijobro", "followers_url": "https://api.github.com/users/rijobro/followers", "following_url": "https://api.github.com/users/rijobro/following{/other_user}", "gists_url": "https://api.github.com/users/rijobro/gists{/gist_id}", "starred_url": "https://api.github.com/users/rijobro/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rijobro/subscriptions", "organizations_url": "https://api.github.com/users/rijobro/orgs", "repos_url": "https://api.github.com/users/rijobro/repos", "events_url": "https://api.github.com/users/rijobro/events{/privacy}", "received_events_url": "https://api.github.com/users/rijobro/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-10-20T15:26:24Z", "updated_at": "2022-10-20T15:45:36Z", "closed_at": "2022-10-20T15:45:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm using tensorboardx which uses moviepy under the hood. I'm currently getting a circular import error and am unsure what to do with it. I have tried with installations via pip, conda and github master.\r\n\r\nHere's the stack trace:\r\n\r\n```\r\nTraceback (most recent call last):               \r\n  File \"instance_segmentation.py\", line 134, in <module>\r\n    main()\r\n  File \"instance_segmentation.py\", line 130, in main\r\n    train(dl, device, model)\r\n  File \"instance_segmentation.py\", line 119, in train\r\n    add_image(writer, epoch, inputs, pred, edges)\r\n  File \"instance_segmentation.py\", line 90, in add_image\r\n    writer.add_video(\"train/ims\", im[None], epoch, fps=20, dataformats=\"NCHWT\")\r\n  File \"/opt/conda/lib/python3.8/site-packages/tensorboardX/writer.py\", line 847, in add_video\r\n    summary = video(tag, vid_tensor, fps, dataformats=dataformats)\r\n  File \"/opt/conda/lib/python3.8/site-packages/tensorboardX/summary.py\", line 351, in video\r\n    video = make_video(tensor, fps)\r\n  File \"/opt/conda/lib/python3.8/site-packages/tensorboardX/summary.py\", line 357, in make_video\r\n    import moviepy  # noqa: F401\r\n  File \"<frozen importlib._bootstrap>\", line 991, in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 975, in _find_and_load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 655, in _load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 618, in _load_backward_compatible\r\n  File \"<frozen zipimport>\", line 259, in load_module\r\n  File \"/opt/conda/lib/python3.8/site-packages/moviepy-2.0.0.dev2-py3.8.egg/moviepy/__init__.py\", line 21, in <module>\r\n  File \"<frozen importlib._bootstrap>\", line 991, in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 975, in _find_and_load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 655, in _load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 618, in _load_backward_compatible\r\n  File \"<frozen zipimport>\", line 259, in load_module\r\n  File \"/opt/conda/lib/python3.8/site-packages/moviepy-2.0.0.dev2-py3.8.egg/moviepy/video/fx/__init__.py\", line 27, in <module>\r\n  File \"<frozen importlib._bootstrap>\", line 991, in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 975, in _find_and_load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 655, in _load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 618, in _load_backward_compatible\r\n  File \"<frozen zipimport>\", line 259, in load_module\r\n  File \"/opt/conda/lib/python3.8/site-packages/moviepy-2.0.0.dev2-py3.8.egg/moviepy/video/fx/resize.py\", line 114, in <module>\r\n  File \"/opt/conda/lib/python3.8/site-packages/moviepy-2.0.0.dev2-py3.8.egg/moviepy/video/fx/resize.py\", line 104, in _get_resizer\r\n  File \"/opt/conda/lib/python3.8/site-packages/moviepy-2.0.0.dev2-py3.8.egg/moviepy/video/fx/resize.py\", line 6, in _get_cv2_resizer\r\n  File \"/opt/conda/lib/python3.8/site-packages/cv2/__init__.py\", line 181, in <module>\r\n    bootstrap()\r\n  File \"/opt/conda/lib/python3.8/site-packages/cv2/__init__.py\", line 175, in bootstrap\r\n    if __load_extra_py_code_for_module(\"cv2\", submodule, DEBUG):\r\n  File \"/opt/conda/lib/python3.8/site-packages/cv2/__init__.py\", line 28, in __load_extra_py_code_for_module\r\n    py_module = importlib.import_module(module_name)\r\n  File \"/opt/conda/lib/python3.8/importlib/__init__.py\", line 127, in import_module\r\n    return _bootstrap._gcd_import(name[level:], package, level)\r\n  File \"/opt/conda/lib/python3.8/site-packages/cv2/mat_wrapper/__init__.py\", line 33, in <module>\r\n    cv._registerMatType(Mat)\r\nAttributeError: partially initialized module 'cv2' has no attribute '_registerMatType' (most likely due to a circular import)\r\n```", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1849/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1849/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1840", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1840/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1840/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1840/events", "html_url": "https://github.com/Zulko/moviepy/issues/1840", "id": 1402947058, "node_id": "I_kwDOALfols5Tn0Xy", "number": 1840, "title": "does it support m1 mac", "user": {"login": "rickstar666", "id": 35256398, "node_id": "MDQ6VXNlcjM1MjU2Mzk4", "avatar_url": "https://avatars.githubusercontent.com/u/35256398?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rickstar666", "html_url": "https://github.com/rickstar666", "followers_url": "https://api.github.com/users/rickstar666/followers", "following_url": "https://api.github.com/users/rickstar666/following{/other_user}", "gists_url": "https://api.github.com/users/rickstar666/gists{/gist_id}", "starred_url": "https://api.github.com/users/rickstar666/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rickstar666/subscriptions", "organizations_url": "https://api.github.com/users/rickstar666/orgs", "repos_url": "https://api.github.com/users/rickstar666/repos", "events_url": "https://api.github.com/users/rickstar666/events{/privacy}", "received_events_url": "https://api.github.com/users/rickstar666/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 1866683148, "node_id": "MDU6TGFiZWwxODY2NjgzMTQ4", "url": "https://api.github.com/repos/Zulko/moviepy/labels/lib-FFmpeg", "name": "lib-FFmpeg", "color": "d6b289", "default": false, "description": "Issues pertaining to dependency FFmpeg."}, {"id": 2411349218, "node_id": "MDU6TGFiZWwyNDExMzQ5MjE4", "url": "https://api.github.com/repos/Zulko/moviepy/labels/environment", "name": "environment", "color": "faf9f7", "default": false, "description": "Using moviepy with, or issues possibly stemming from specific OS/platforms/environments."}, {"id": 2411364268, "node_id": "MDU6TGFiZWwyNDExMzY0MjY4", "url": "https://api.github.com/repos/Zulko/moviepy/labels/lib-imageio", "name": "lib-imageio", "color": "d6b289", "default": false, "description": "Issues pertaining to dependency imageio."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2022-10-10T10:29:00Z", "updated_at": "2022-10-11T03:38:44Z", "closed_at": "2022-10-11T03:38:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "i successed import and run it in my windows pc.\r\nmy firends failed. it always says\r\n\r\nRuntimeError: No ffmpeg exe could be found. Install ffmpeg on your system, or set the IMAGEIO_FFMPEG_EXE environment variable.\r\n\r\nis it the result of the m1 mac ?\r\n\r\n\r\n#### Specifications\r\n\r\n  - Python Version: 3.10.7\r\n  - Moviepy Version: 1.0.3\r\n  - Platform Name: mac with m1 cpu\r\n  - Platform Version:\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1840/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1840/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1824", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1824/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1824/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1824/events", "html_url": "https://github.com/Zulko/moviepy/issues/1824", "id": 1360741308, "node_id": "I_kwDOALfols5RG0O8", "number": 1824, "title": "TypeError: must be real number, not NoneType", "user": {"login": "alejopaullier96", "id": 65294021, "node_id": "MDQ6VXNlcjY1Mjk0MDIx", "avatar_url": "https://avatars.githubusercontent.com/u/65294021?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alejopaullier96", "html_url": "https://github.com/alejopaullier96", "followers_url": "https://api.github.com/users/alejopaullier96/followers", "following_url": "https://api.github.com/users/alejopaullier96/following{/other_user}", "gists_url": "https://api.github.com/users/alejopaullier96/gists{/gist_id}", "starred_url": "https://api.github.com/users/alejopaullier96/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alejopaullier96/subscriptions", "organizations_url": "https://api.github.com/users/alejopaullier96/orgs", "repos_url": "https://api.github.com/users/alejopaullier96/repos", "events_url": "https://api.github.com/users/alejopaullier96/events{/privacy}", "received_events_url": "https://api.github.com/users/alejopaullier96/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 51698341, "node_id": "MDU6TGFiZWw1MTY5ODM0MQ==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/duplicate", "name": "duplicate", "color": "cdcdcd", "default": true, "description": "Duplicate of another issue/PR."}, {"id": 583252675, "node_id": "MDU6TGFiZWw1ODMyNTI2NzU=", "url": "https://api.github.com/repos/Zulko/moviepy/labels/video", "name": "video", "color": "bfd4f2", "default": false, "description": "Related to VideoClip and related classes, or handling of video in general."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-09-03T03:26:24Z", "updated_at": "2022-09-09T21:01:06Z", "closed_at": "2022-09-09T21:00:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am facing the following problem: `TypeError: must be real number, not NoneType` when I try executing my code:\r\n```\r\nwith VideoFileClip(video_path) as video:\r\n    new = video.subclip(start_time, end_time)\r\n    new.write_videofile(output_path)\r\n```\r\nI have tried upgrading/downgrading moviepy, ffmpeg, decorator, etc and the error persists.\r\n\r\n### My versions\r\n\r\n- decorator==4.4.2\r\n- ffmpeg==1.4\r\n- moviepy==1.0.3\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1824/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1824/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1811", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1811/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1811/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1811/events", "html_url": "https://github.com/Zulko/moviepy/issues/1811", "id": 1323753479, "node_id": "I_kwDOALfols5O5uAH", "number": 1811, "title": "Audio offset bug when splitting clips", "user": {"login": "RealHypnoticOcelot", "id": 57046530, "node_id": "MDQ6VXNlcjU3MDQ2NTMw", "avatar_url": "https://avatars.githubusercontent.com/u/57046530?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RealHypnoticOcelot", "html_url": "https://github.com/RealHypnoticOcelot", "followers_url": "https://api.github.com/users/RealHypnoticOcelot/followers", "following_url": "https://api.github.com/users/RealHypnoticOcelot/following{/other_user}", "gists_url": "https://api.github.com/users/RealHypnoticOcelot/gists{/gist_id}", "starred_url": "https://api.github.com/users/RealHypnoticOcelot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RealHypnoticOcelot/subscriptions", "organizations_url": "https://api.github.com/users/RealHypnoticOcelot/orgs", "repos_url": "https://api.github.com/users/RealHypnoticOcelot/repos", "events_url": "https://api.github.com/users/RealHypnoticOcelot/events{/privacy}", "received_events_url": "https://api.github.com/users/RealHypnoticOcelot/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 583252697, "node_id": "MDU6TGFiZWw1ODMyNTI2OTc=", "url": "https://api.github.com/repos/Zulko/moviepy/labels/audio", "name": "audio", "color": "bfd4f2", "default": false, "description": "Related to AudioClip, or handling of audio in general."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-08-01T03:25:08Z", "updated_at": "2022-08-10T06:27:36Z", "closed_at": "2022-08-10T06:27:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\nYou can format code by putting ``` (that's 3 backticks) on a line by itself at the beginning and end of each code block. For example:\r\n\r\n```\r\nfrom moviepy import *\r\nclip = ColorClip((600, 400), color=(255, 100, 0), duration=2)\r\n```\r\n-->\r\n\r\n\r\n#### Expected Behavior\r\nAudio syncs with video\r\n\r\n#### Actual Behavior\r\nVideo desyncs over time\r\n\r\n#### Steps to Reproduce the Problem\r\n<!-- Please include code that demonstrates this problem so that we can reproduce it. For advice on how to do this, see https://stackoverflow.com/help/mcve -->\r\n\r\nThe full code I'm using is [here](https://raw.githubusercontent.com/RealHypnoticOcelot/vidsplitter/main/vidsplitter.py), but essentially i'm taking a video and splitting it into equally-sized segments. It generates timestamps for the video to be cut into and puts them into a times.txt file, like so:\r\n```\r\n0-30\r\n30-60\r\n60-90\r\n90-120\r\n```\r\n... and so on. In this example the first clip would be from the first 30 seconds of the video. Then the next 30 seconds, and so on. However, as each clip is created, the audio desyncs further and further. I've also noticed that in some scenarioes it generates too many files than needed, but I'm figuring that's a code issue and not a moviepy issue. I'll be using a video of Family Guy episode 1 to demonstrate this, at 30 second intervals.\r\n\r\nClip 1(The first 30 seconds):\r\n\r\nhttps://user-images.githubusercontent.com/57046530/182065725-c0cd519c-32e7-470e-b0ef-bf30c04120fa.mp4\r\n\r\nClip 44(One of the last clips):\r\n\r\nhttps://user-images.githubusercontent.com/57046530/182065825-e543f03c-a547-416a-ac03-fbaddabbdcdb.mp4\r\n\r\nAs you can see, the audio desyncs to a point where any clip that you put through it is unwatchable. There also seems to be a slight pause at the beginning of the clip, in which the frame is frozen on screen.\r\n\r\n\r\n#### Specifications\r\n\r\n  - Python Version: 3.8.9\r\n  - Moviepy Version: 1.0.3\r\n  - Platform Name: Mac\r\n  - Platform Version: Monterey 12.4\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1811/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1811/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1808", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1808/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1808/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1808/events", "html_url": "https://github.com/Zulko/moviepy/issues/1808", "id": 1318802222, "node_id": "I_kwDOALfols5Om1Mu", "number": 1808, "title": "CompositeVideoClip of CompositeVideoClips does not provide expected behavior.", "user": {"login": "davidbernat", "id": 5396131, "node_id": "MDQ6VXNlcjUzOTYxMzE=", "avatar_url": "https://avatars.githubusercontent.com/u/5396131?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidbernat", "html_url": "https://github.com/davidbernat", "followers_url": "https://api.github.com/users/davidbernat/followers", "following_url": "https://api.github.com/users/davidbernat/following{/other_user}", "gists_url": "https://api.github.com/users/davidbernat/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidbernat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidbernat/subscriptions", "organizations_url": "https://api.github.com/users/davidbernat/orgs", "repos_url": "https://api.github.com/users/davidbernat/repos", "events_url": "https://api.github.com/users/davidbernat/events{/privacy}", "received_events_url": "https://api.github.com/users/davidbernat/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 583252675, "node_id": "MDU6TGFiZWw1ODMyNTI2NzU=", "url": "https://api.github.com/repos/Zulko/moviepy/labels/video", "name": "video", "color": "bfd4f2", "default": false, "description": "Related to VideoClip and related classes, or handling of video in general."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-07-26T22:12:25Z", "updated_at": "2022-10-11T00:43:01Z", "closed_at": "2022-10-11T00:43:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Expected Behavior\r\n\r\n```video = CompositeVideoClip([background, overlays])```\r\n\r\nWhen ```background``` and ```overlays``` are both ```CompositeVideoClip``` objects, the resulting new composite will often fail to contain the video elements of the latter. If, instead, the new composite is created using this code, the expected result occurs; however, under-the-hood functionality of true composites may be missed.\r\n\r\n``` video = CompositeVideoClip(background.clips + overlays.clips)```\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1808/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1808/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1805", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1805/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1805/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1805/events", "html_url": "https://github.com/Zulko/moviepy/issues/1805", "id": 1307230911, "node_id": "I_kwDOALfols5N6sK_", "number": 1805, "title": "Mp4 file audio alignment issue between 'mpeg4 codec' and 'libx264' codec and 'aac' audio_codec", "user": {"login": "jltchiu", "id": 2002877, "node_id": "MDQ6VXNlcjIwMDI4Nzc=", "avatar_url": "https://avatars.githubusercontent.com/u/2002877?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jltchiu", "html_url": "https://github.com/jltchiu", "followers_url": "https://api.github.com/users/jltchiu/followers", "following_url": "https://api.github.com/users/jltchiu/following{/other_user}", "gists_url": "https://api.github.com/users/jltchiu/gists{/gist_id}", "starred_url": "https://api.github.com/users/jltchiu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jltchiu/subscriptions", "organizations_url": "https://api.github.com/users/jltchiu/orgs", "repos_url": "https://api.github.com/users/jltchiu/repos", "events_url": "https://api.github.com/users/jltchiu/events{/privacy}", "received_events_url": "https://api.github.com/users/jltchiu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 583252697, "node_id": "MDU6TGFiZWw1ODMyNTI2OTc=", "url": "https://api.github.com/repos/Zulko/moviepy/labels/audio", "name": "audio", "color": "bfd4f2", "default": false, "description": "Related to AudioClip, or handling of audio in general."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-07-17T22:56:13Z", "updated_at": "2022-10-11T00:44:37Z", "closed_at": "2022-10-11T00:44:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Expected Behavior\r\nI am clipping a video and then export the clip using write_videofile to write to a mp4 file.\r\n\r\nWhen the codec='libx264' and audio_codec='aac'\r\nThe alignment between video and audio is perfect\r\nI expect the proper alignment will also happen when codec='mpeg4 ' and audio_codec='aac'\r\n\r\n#### Actual Behavior\r\n\r\nWhen using codec='mpeg4 ' and audio_codec='aac', the exported mp4 file will have misalignment between video and audio. At the beginning of the exported video both seems aligned yet as the video goes the audio video become very apparently not aligned. The audio sounds the same, yet the video will be delayed comparing with audio.  ", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1805/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1805/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1801", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1801/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1801/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1801/events", "html_url": "https://github.com/Zulko/moviepy/issues/1801", "id": 1293618517, "node_id": "I_kwDOALfols5NGw1V", "number": 1801, "title": "extremely buggy subclipping", "user": {"login": "sQur1", "id": 108050673, "node_id": "U_kgDOBnC48Q", "avatar_url": "https://avatars.githubusercontent.com/u/108050673?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sQur1", "html_url": "https://github.com/sQur1", "followers_url": "https://api.github.com/users/sQur1/followers", "following_url": "https://api.github.com/users/sQur1/following{/other_user}", "gists_url": "https://api.github.com/users/sQur1/gists{/gist_id}", "starred_url": "https://api.github.com/users/sQur1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sQur1/subscriptions", "organizations_url": "https://api.github.com/users/sQur1/orgs", "repos_url": "https://api.github.com/users/sQur1/repos", "events_url": "https://api.github.com/users/sQur1/events{/privacy}", "received_events_url": "https://api.github.com/users/sQur1/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 1866683148, "node_id": "MDU6TGFiZWwxODY2NjgzMTQ4", "url": "https://api.github.com/repos/Zulko/moviepy/labels/lib-FFmpeg", "name": "lib-FFmpeg", "color": "d6b289", "default": false, "description": "Issues pertaining to dependency FFmpeg."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-07-04T22:55:54Z", "updated_at": "2022-07-24T20:29:46Z", "closed_at": "2022-07-24T20:29:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "Subclipping was working fine until after about 15-20 rendering which is exceedingly odd. I have not changed the code but it suddenly stopped working properly. It started to exhibit strange behaviours. I'm quite puzzled by this.\r\n\r\nI've tried recreating the venv, still not working. It is my belief, after trial and error and trying to pinpoint the source of the problem, that the ```ffmpeg_extract_subclip``` function is broken in some way.\r\n\r\n\r\n#### Actual Behavior\r\nIt seems like the only clip that works flawlessly (which isn't included in my timestamps.txt file is if I cut a clip from the beginning of the video (0-5 for example).\r\n\r\nOtherwise:\r\n1. The clips take on a longer duration (filled with nothing in actuality)... the clip starts fine, then at the end of the 5 seconds, it ends but the duration of the file is like 9 or 10 seconds. \r\n2. The last audio part of each clips will echo in a loop until the end of the video\r\n3. Each clip (after 5 seconds) which should then switch to a different clip will instead freeze until the 9-10 seconds duration of the file... even though I specifically indicated in the timestamps.txt file that I only want 5 second clips.\r\n\r\n#### Steps to Reproduce the Problem\r\n\r\nsub_clip.py file:\r\n```\r\nfrom moviepy.video.io.ffmpeg_tools import ffmpeg_extract_subclip\r\nfrom moviepy.editor import VideoFileClip, concatenate_videoclips, CompositeVideoClip\r\n\r\nrequired_video_file = \"clip.mp4\"\r\nwith open(\"timestamps.txt\") as f:\r\n  times = f.readlines()\r\ntimes = [x.strip() for x in times] \r\nfor time in times:\r\n  starttime = int(time.split(\"-\")[0])\r\n  endtime = int(time.split(\"-\")[1])\r\n  ffmpeg_extract_subclip(required_video_file, starttime, endtime, targetname=str(times.index(time)+1)+\".mp4\")\r\n```\r\n\r\ntimestamps.txt file:\r\n```\r\n20-25\r\n10-15\r\n30-35\r\n```\r\n\r\nHere's a concatenated version of the 3 files put together:\r\n\r\n\r\nhttps://user-images.githubusercontent.com/108050673/177268638-fa329fbf-01a0-43af-be74-949d3ed3ad2c.mp4\r\n\r\n\r\n\r\n#### Specifications\r\n\r\n  - Python Version: 3.10.5\r\n  - Moviepy Version: Latest\r\n  - Platform Name: VSCodium\r\n  - Platform Version: 1.68.1", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1801/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 1}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1801/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1789", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1789/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1789/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1789/events", "html_url": "https://github.com/Zulko/moviepy/issues/1789", "id": 1260957160, "node_id": "I_kwDOALfols5LKK3o", "number": 1789, "title": "Syntax error(s) in moviepy/decorators.py", "user": {"login": "abulgher", "id": 12378877, "node_id": "MDQ6VXNlcjEyMzc4ODc3", "avatar_url": "https://avatars.githubusercontent.com/u/12378877?v=4", "gravatar_id": "", "url": "https://api.github.com/users/abulgher", "html_url": "https://github.com/abulgher", "followers_url": "https://api.github.com/users/abulgher/followers", "following_url": "https://api.github.com/users/abulgher/following{/other_user}", "gists_url": "https://api.github.com/users/abulgher/gists{/gist_id}", "starred_url": "https://api.github.com/users/abulgher/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/abulgher/subscriptions", "organizations_url": "https://api.github.com/users/abulgher/orgs", "repos_url": "https://api.github.com/users/abulgher/repos", "events_url": "https://api.github.com/users/abulgher/events{/privacy}", "received_events_url": "https://api.github.com/users/abulgher/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 583252675, "node_id": "MDU6TGFiZWw1ODMyNTI2NzU=", "url": "https://api.github.com/repos/Zulko/moviepy/labels/video", "name": "video", "color": "bfd4f2", "default": false, "description": "Related to VideoClip and related classes, or handling of video in general."}, {"id": 760686230, "node_id": "MDU6TGFiZWw3NjA2ODYyMzA=", "url": "https://api.github.com/repos/Zulko/moviepy/labels/images", "name": "images", "color": "bfd4f2", "default": false, "description": "Related to ImageClip, or handling of images in general."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2022-06-05T04:25:36Z", "updated_at": "2022-06-08T19:31:00Z", "closed_at": "2022-06-08T16:17:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "While I was creating a videoclip from a list of static images, I received a syntax error in the decorators.py file. The argument function f was mispelled func. Here below the two code snippets with the bug commented out and with the proposed correction. \r\n\r\n```\r\ndef preprocess_args(fun,varnames):\r\n    \"\"\" Applies fun to variables in varnames before launching the function \"\"\"\r\n    \r\n    def wrapper(f, *a, **kw):\r\n        #BUGFIX\r\n        #names = inspect.getfullargspec(func).args\r\n        names = inspect.getfullargspec(f).args\r\n        new_a = [fun(arg) if (name in varnames) else arg\r\n                 for (arg, name) in zip(a, names)]\r\n        new_kw = {k: fun(v) if k in varnames else v\r\n                 for (k,v) in kw.items()}\r\n        return f(*new_a, **new_kw)\r\n    return decorator.decorator(wrapper)\r\n\r\n```\r\nAnd here:\r\n\r\n```\r\n@decorator.decorator\r\ndef use_clip_fps_by_default(f, clip, *a, **k):\r\n    \"\"\" Will use clip.fps if no fps=... is provided in **k \"\"\"\r\n    \r\n    def fun(fps):\r\n        if fps is not None:\r\n            return fps\r\n        elif getattr(clip, 'fps', None):\r\n            return clip.fps\r\n        raise AttributeError(\"No 'fps' (frames per second) attribute specified\"\r\n                \" for function %s and the clip has no 'fps' attribute. Either\"\r\n                \" provide e.g. fps=24 in the arguments of the function, or define\"\r\n                \" the clip's fps with `clip.fps=24`\" % f.__name__)\r\n\r\n    #BUGFIX\r\n    #names = inspect.getfullargspec(func).args[1:]\r\n    names = inspect.getfullargspec(f).args[1:]\r\n    \r\n    new_a = [fun(arg) if (name=='fps') else arg\r\n             for (arg, name) in zip(a, names)]\r\n    new_kw = {k: fun(v) if k=='fps' else v\r\n             for (k,v) in k.items()}\r\n\r\n    return f(clip, *new_a, **new_kw)\r\n```\r\n#### Expected Behavior\r\nRun without problems\r\n\r\n#### Actual Behavior\r\nReturned syntax errors\r\n\r\n#### Steps to Reproduce the Problem\r\nBuild a video clip from a list of images\r\n\r\n#### Specifications\r\n\r\n  - Python Version: 3.9.7\r\n  - Moviepy Version: 1.0.3\r\n  - Platform Name: Win\r\n  - Platform Version: 10 Home\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1789/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1789/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1787", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1787/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1787/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1787/events", "html_url": "https://github.com/Zulko/moviepy/issues/1787", "id": 1260835935, "node_id": "I_kwDOALfols5LJtRf", "number": 1787, "title": "Providing filename instead of txt to TextClip results in filename being written instead of the actual content of the file", "user": {"login": "MohamedAbdultawab", "id": 19710525, "node_id": "MDQ6VXNlcjE5NzEwNTI1", "avatar_url": "https://avatars.githubusercontent.com/u/19710525?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MohamedAbdultawab", "html_url": "https://github.com/MohamedAbdultawab", "followers_url": "https://api.github.com/users/MohamedAbdultawab/followers", "following_url": "https://api.github.com/users/MohamedAbdultawab/following{/other_user}", "gists_url": "https://api.github.com/users/MohamedAbdultawab/gists{/gist_id}", "starred_url": "https://api.github.com/users/MohamedAbdultawab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MohamedAbdultawab/subscriptions", "organizations_url": "https://api.github.com/users/MohamedAbdultawab/orgs", "repos_url": "https://api.github.com/users/MohamedAbdultawab/repos", "events_url": "https://api.github.com/users/MohamedAbdultawab/events{/privacy}", "received_events_url": "https://api.github.com/users/MohamedAbdultawab/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 1163360583, "node_id": "MDU6TGFiZWwxMTYzMzYwNTgz", "url": "https://api.github.com/repos/Zulko/moviepy/labels/text", "name": "text", "color": "bfd4f2", "default": false, "description": "Issues dealing with TextClip, SubtitlesClip, or handling of text in general."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-06-04T16:34:34Z", "updated_at": "2022-10-10T15:10:58Z", "closed_at": "2022-10-10T15:10:58Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Expected Behavior\r\nProviding a filename to TextClip instead of txt parameter should produce an image with the text in the provided file being set on the image, for example the following two snippets should produce the same output:\r\n```python\r\ntext_clip = TextClip(\r\n    filename=temp.txt,\r\n    font=\"Roboto-Bold\",\r\n    size=(300, 135),\r\n    color=\"#4390C8\",\r\n    bg_color=\"#323232\",\r\n    method=\"caption\",\r\n    remove_temp=False,\r\n    print_cmd=True,\r\n)\r\n```\r\n\r\n```python\r\ntext_clip = TextClip(\r\n    txt=\"Hello\",\r\n    font=\"Roboto-Bold\",\r\n    size=(300, 135),\r\n    color=\"#4390C8\",\r\n    bg_color=\"#323232\",\r\n    method=\"caption\",\r\n    remove_temp=False,\r\n    print_cmd=True,\r\n)\r\n```\r\nWhere file temp.txt contains *Hello* in it.\r\nBoth snippets should produce an image like this one:\r\n![tmpsrd22otw](https://user-images.githubusercontent.com/19710525/171849838-989b294d-dc64-42b8-a1c3-1d32c95e6d3f.png)\r\n\r\n#### Actual Behavior\r\nThe first one produces the following image:\r\n![tmpam1o1mzg](https://user-images.githubusercontent.com/19710525/171849595-16942cc9-e333-4a87-8745-3e3f63c16e0e.png)\r\nWhere the second one produces the following image:\r\n![tmpsrd22otw](https://user-images.githubusercontent.com/19710525/171849838-989b294d-dc64-42b8-a1c3-1d32c95e6d3f.png)\r\n\r\n\r\n#### Steps to Reproduce the Problem\r\n<!-- Please include code that demonstrates this problem so that we can reproduce it. For advice on how to do this, see https://stackoverflow.com/help/mcve -->\r\nRun the above snippets after importing from editor\r\n```python\r\nfrom moviepy.editor import *\r\n```\r\nand check the temp file generated, it will be printed\r\n\r\n#### Specifications\r\n\r\n  - Python Version: 3.8.10 (default, Mar 15 2022, 12:22:08) \\n[GCC 9.4.0]\r\n  - Moviepy Version: 1.0.3\r\n  - Platform Name: Ubuntu\r\n  - Platform Version: 20.04.4 LTS 64bit\r\n\r\n#### Solution\r\nLIne: moviepy/video/VideoClip.py:1101\r\nis responsible of this bug, just deleting the `%` in parameter value will fix the problem, tested on multiple files, and also you can sse this is the correct way by looking at line: 1098 and also to check imagemagick [docs](https://imagemagick.org/Usage/text/#caption_paragraphs) \r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1787/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1787/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1767", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1767/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1767/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1767/events", "html_url": "https://github.com/Zulko/moviepy/issues/1767", "id": 1227363348, "node_id": "I_kwDOALfols5JKBQU", "number": 1767, "title": "My app gets an error when I turn it into an exe file but works fine when I run it into terminal.", "user": {"login": "lerry30", "id": 96895997, "node_id": "U_kgDOBcaD_Q", "avatar_url": "https://avatars.githubusercontent.com/u/96895997?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lerry30", "html_url": "https://github.com/lerry30", "followers_url": "https://api.github.com/users/lerry30/followers", "following_url": "https://api.github.com/users/lerry30/following{/other_user}", "gists_url": "https://api.github.com/users/lerry30/gists{/gist_id}", "starred_url": "https://api.github.com/users/lerry30/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lerry30/subscriptions", "organizations_url": "https://api.github.com/users/lerry30/orgs", "repos_url": "https://api.github.com/users/lerry30/repos", "events_url": "https://api.github.com/users/lerry30/events{/privacy}", "received_events_url": "https://api.github.com/users/lerry30/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-05-06T02:58:46Z", "updated_at": "2022-05-09T19:53:03Z", "closed_at": "2022-05-09T19:53:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "![error](https://user-images.githubusercontent.com/96895997/167059613-d1bdd9ef-f4ec-4457-a789-6df7ebe88afd.jpg)\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1767/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1767/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1766", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1766/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1766/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1766/events", "html_url": "https://github.com/Zulko/moviepy/issues/1766", "id": 1226761362, "node_id": "I_kwDOALfols5JHuSS", "number": 1766, "title": "CompositeVideoClip- NameError: name 'func' is not defined", "user": {"login": "rloiselle", "id": 3812659, "node_id": "MDQ6VXNlcjM4MTI2NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/3812659?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rloiselle", "html_url": "https://github.com/rloiselle", "followers_url": "https://api.github.com/users/rloiselle/followers", "following_url": "https://api.github.com/users/rloiselle/following{/other_user}", "gists_url": "https://api.github.com/users/rloiselle/gists{/gist_id}", "starred_url": "https://api.github.com/users/rloiselle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rloiselle/subscriptions", "organizations_url": "https://api.github.com/users/rloiselle/orgs", "repos_url": "https://api.github.com/users/rloiselle/repos", "events_url": "https://api.github.com/users/rloiselle/events{/privacy}", "received_events_url": "https://api.github.com/users/rloiselle/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 51698341, "node_id": "MDU6TGFiZWw1MTY5ODM0MQ==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/duplicate", "name": "duplicate", "color": "cdcdcd", "default": true, "description": "Duplicate of another issue/PR."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-05-05T14:36:19Z", "updated_at": "2022-05-09T17:58:51Z", "closed_at": "2022-05-09T14:00:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "Potentially related to #1765. Traceback is different so I am adding this issue. \r\n\r\n#### Expected Behavior\r\nCreate video composite from imageClip and videoFileClip\r\n\r\n#### Actual Behavior\r\n NameError: name 'func' is not defined.\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"C:\\Users\\rloiselle\\Anaconda3\\envs\\ros_env\\lib\\multiprocessing\\process.py\", line 315, in _bootstrap\r\n    self.run()\r\n  File \"C:\\Users\\rloiselle\\Anaconda3\\envs\\ros_env\\lib\\multiprocessing\\process.py\", line 108, in run\r\n    self._target(*self._args, **self._kwargs)\r\n  File \"C:\\Users\\rloiselle\\gitProjects\\auv\\GobyBot\\unpack\\unpackBagFunctions.py\", line 869, in AUV_bag_unpack_video_charts\r\n    add_USGS_reqs(videoName,videoName2)\r\n  File \"C:\\Users\\rloiselle\\gitProjects\\auv\\GobyBot\\video\\videoFunctions.py\", line 404, in add_USGS_reqs\r\n    video_watermarked = CompositeVideoClip([video, clip])\r\n  File \"C:\\Users\\rloiselle\\Anaconda3\\envs\\ros_env\\lib\\site-packages\\moviepy\\video\\compositing\\CompositeVideoClip.py\", line 97, in __init__\r\n    maskclips = [(c.mask if (c.mask is not None) else\r\n  File \"C:\\Users\\rloiselle\\Anaconda3\\envs\\ros_env\\lib\\site-packages\\moviepy\\video\\compositing\\CompositeVideoClip.py\", line 98, in <listcomp>\r\n    c.add_mask().mask).set_position(c.pos)\r\n  File \"C:\\Users\\rloiselle\\Anaconda3\\envs\\ros_env\\lib\\site-packages\\moviepy\\video\\VideoClip.py\", line 578, in add_mask\r\n    return self.set_mask(mask.set_duration(self.duration))\r\n  File \"C:\\Users\\rloiselle\\Anaconda3\\envs\\ros_env\\lib\\site-packages\\decorator.py\", line 232, in fun\r\n    return caller(func, *(extras + args), **kw)\r\n  File \"C:\\Users\\rloiselle\\Anaconda3\\envs\\ros_env\\lib\\site-packages\\moviepy\\decorators.py\", line 29, in apply_to_mask\r\n    newclip = f(clip, *a, **k)\r\n  File \"C:\\Users\\rloiselle\\Anaconda3\\envs\\ros_env\\lib\\site-packages\\decorator.py\", line 232, in fun\r\n    return caller(func, *(extras + args), **kw)\r\n  File \"C:\\Users\\rloiselle\\Anaconda3\\envs\\ros_env\\lib\\site-packages\\moviepy\\decorators.py\", line 41, in apply_to_audio\r\n    newclip = f(clip, *a, **k)\r\n  File \"C:\\Users\\rloiselle\\Anaconda3\\envs\\ros_env\\lib\\site-packages\\decorator.py\", line 232, in fun\r\n    return caller(func, *(extras + args), **kw)\r\n  File \"C:\\Users\\rloiselle\\Anaconda3\\envs\\ros_env\\lib\\site-packages\\moviepy\\decorators.py\", line 79, in wrapper\r\n    names = inspect.getfullargspec(func).args\r\nNameError: name 'func' is not defined\r\n```\r\n\r\n#### Steps to Reproduce the Problem\r\n\r\n```\r\nvideo = VideoFileClip(os.path.abspath(video_file))\r\ndur =video.duration\r\n\r\nim3 = \"path_to_PNG\"\r\nclip = ImageClip(im3,duration=dur)\r\n\r\nvideo_watermarked = CompositeVideoClip([video, clip])\r\n```\r\n#### Specifications\r\n\r\n- Python Version: 3.8.12\r\n- Moviepy Version: 1.0.3\r\n- Platform Name: Windows 10 Enterprise\r\n- Platform Version: 21H2 build 19044.1645\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1766/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1766/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1765", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1765/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1765/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1765/events", "html_url": "https://github.com/Zulko/moviepy/issues/1765", "id": 1226725147, "node_id": "I_kwDOALfols5JHlcb", "number": 1765, "title": "ImageClip methods- NameError: name 'func' is not defined", "user": {"login": "rloiselle", "id": 3812659, "node_id": "MDQ6VXNlcjM4MTI2NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/3812659?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rloiselle", "html_url": "https://github.com/rloiselle", "followers_url": "https://api.github.com/users/rloiselle/followers", "following_url": "https://api.github.com/users/rloiselle/following{/other_user}", "gists_url": "https://api.github.com/users/rloiselle/gists{/gist_id}", "starred_url": "https://api.github.com/users/rloiselle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rloiselle/subscriptions", "organizations_url": "https://api.github.com/users/rloiselle/orgs", "repos_url": "https://api.github.com/users/rloiselle/repos", "events_url": "https://api.github.com/users/rloiselle/events{/privacy}", "received_events_url": "https://api.github.com/users/rloiselle/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2022-05-05T14:07:54Z", "updated_at": "2022-05-25T07:43:16Z", "closed_at": "2022-05-09T13:55:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "NameError found for multiple moviepy functions while trying to resize an imageClip. I tested creating ImageClips different ways, from setting duration inside the ImageClip fxn (worked) and also using  moviepy.video.fx.resize function. I read the source code and discovered a work around to resizing the image clip by: \r\n\r\n1.)  converting the .png to PIL.Image.Image, \r\n2.) resizing using PIL methods [ ```Image.open()``` ] , \r\n3.) converting to a numpy array [ ```np.array()``` ], \r\n4.) and finally converting into ImageClip\r\n\r\nHowever, the same NameError also appears when I go to create a CompositeVideoClip.\r\n\r\nFollowing other user experiences, I ensured all dependencies are up-to-date, and also restarted my computer.\r\n\r\n#### Expected Behavior\r\nset size and duration of ImageClip in one line. Create a CompositeVideoClip which will be concatenated with other VideoFileClips later on.\r\n\r\n#### Actual Behavior\r\n```\r\nTraceback (most recent call last):\r\n  File \"C:\\Users\\rloiselle\\Anaconda3\\envs\\ros_env\\lib\\multiprocessing\\process.py\", line 315, in _bootstrap\r\n    self.run()\r\n  File \"C:\\Users\\rloiselle\\Anaconda3\\envs\\ros_env\\lib\\multiprocessing\\process.py\", line 108, in run\r\n    self._target(*self._args, **self._kwargs)\r\n  File \"C:\\Users\\rloiselle\\gitProjects\\auv\\GobyBot\\unpack\\unpackBagFunctions.py\", line 869, in AUV_bag_unpack_video_charts\r\n    add_USGS_reqs(videoName,videoName2)\r\n  File \"C:\\Users\\rloiselle\\gitProjects\\auv\\GobyBot\\video\\videoFunctions.py\", line 394, in add_USGS_reqs\r\n    USGS_logo = ImageClip(clipNm).set_duration(dur).resize(size)\r\n  File \"C:\\Users\\rloiselle\\Anaconda3\\envs\\ros_env\\lib\\site-packages\\decorator.py\", line 232, in fun\r\n    return caller(func, *(extras + args), **kw)\r\n  File \"C:\\Users\\rloiselle\\Anaconda3\\envs\\ros_env\\lib\\site-packages\\moviepy\\decorators.py\", line 29, in apply_to_mask\r\n    newclip = f(clip, *a, **k)\r\n  File \"C:\\Users\\rloiselle\\Anaconda3\\envs\\ros_env\\lib\\site-packages\\decorator.py\", line 232, in fun\r\n    return caller(func, *(extras + args), **kw)\r\n  File \"C:\\Users\\rloiselle\\Anaconda3\\envs\\ros_env\\lib\\site-packages\\moviepy\\decorators.py\", line 41, in apply_to_audio\r\n    newclip = f(clip, *a, **k)\r\n  File \"C:\\Users\\rloiselle\\Anaconda3\\envs\\ros_env\\lib\\site-packages\\decorator.py\", line 232, in fun\r\n    return caller(func, *(extras + args), **kw)\r\n  File \"C:\\Users\\rloiselle\\Anaconda3\\envs\\ros_env\\lib\\site-packages\\moviepy\\decorators.py\", line 79, in wrapper\r\n    names = inspect.getfullargspec(func).args\r\nNameError: name 'func' is not defined\r\n```\r\n#### Steps to Reproduce the Problem\r\n```\r\nfrom moviepy import *\r\n\r\nvideo_file= \"path_to_video.mp4\"\r\nvideo = VideoFileClip(video_file)\r\ndur = video.duration\r\nsize = video.size\r\n\r\nclipNm = \"path_to_watermark.png\"\r\nUSGS_logo = ImageClip(clipNm).set_duration(dur).resize(size)\r\nvideo_watermarked = CompositeVideoClip([video, USGS_logo])\r\n\r\n```\r\n\r\n\r\n#### Specifications\r\n\r\n  - Python Version: 3.8.12\r\n  - Moviepy Version: 1.0.3\r\n  - Platform Name: Windows 10 Enterprise\r\n  - Platform Version: 21H2 build 19044.1645\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1765/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 1}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1765/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1764", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1764/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1764/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1764/events", "html_url": "https://github.com/Zulko/moviepy/issues/1764", "id": 1225143854, "node_id": "I_kwDOALfols5JBjYu", "number": 1764, "title": "nothing works, gets \"NameError: name 'func' is not defined\"", "user": {"login": "vincenzooo", "id": 1136212, "node_id": "MDQ6VXNlcjExMzYyMTI=", "avatar_url": "https://avatars.githubusercontent.com/u/1136212?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vincenzooo", "html_url": "https://github.com/vincenzooo", "followers_url": "https://api.github.com/users/vincenzooo/followers", "following_url": "https://api.github.com/users/vincenzooo/following{/other_user}", "gists_url": "https://api.github.com/users/vincenzooo/gists{/gist_id}", "starred_url": "https://api.github.com/users/vincenzooo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vincenzooo/subscriptions", "organizations_url": "https://api.github.com/users/vincenzooo/orgs", "repos_url": "https://api.github.com/users/vincenzooo/repos", "events_url": "https://api.github.com/users/vincenzooo/events{/privacy}", "received_events_url": "https://api.github.com/users/vincenzooo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2022-05-04T09:43:39Z", "updated_at": "2022-09-10T02:40:46Z", "closed_at": "2022-05-04T21:47:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\nYou can format code by putting ``` (that's 3 backticks) on a line by itself at the beginning and end of each code block. For example:\r\n-->\r\nAny command fails with same error, I tried different examples and different files, as well as uninstalling and reinstalling moviepy and decorator, nothing worked.\r\nVideoFileClip is created and can be accessed, but it fails when methods are called.\r\nSee below a minimalistic example from frame extraction example:\r\n\r\n#### Expected Behavior\r\n\r\nExtract a frame (or equivalent command to perform any operation on file).\r\n\r\n#### Actual Behavior\r\n\r\n```\r\n---------------------------------------------------------------------------\r\nNameError                                 Traceback (most recent call last)\r\nd:\\dati\\ordine\\programmazione\\youtube\\pytube.ipynb Cell 29' in <cell line: 1>()\r\n----> [1](vscode-notebook-cell:/d%3A/dati/ordine/programmazione/youtube/pytube.ipynb#ch0000036?line=0) video.save_frame('prova.jpg')\r\n\r\nFile ~\\anaconda3\\envs\\youtube\\lib\\site-packages\\decorator.py:232, in decorate.<locals>.fun(*args, **kw)\r\n    [230](file:///c%3A/Users/kovor/anaconda3/envs/youtube/lib/site-packages/decorator.py?line=229) if not kwsyntax:\r\n    [231](file:///c%3A/Users/kovor/anaconda3/envs/youtube/lib/site-packages/decorator.py?line=230)     args, kw = fix(args, kw, sig)\r\n--> [232](file:///c%3A/Users/kovor/anaconda3/envs/youtube/lib/site-packages/decorator.py?line=231) return caller(func, *(extras + args), **kw)\r\n\r\nFile ~\\anaconda3\\envs\\youtube\\lib\\site-packages\\moviepy\\decorators.py:79, in preprocess_args.<locals>.wrapper(f, *a, **kw)\r\n     [78](file:///c%3A/Users/kovor/anaconda3/envs/youtube/lib/site-packages/moviepy/decorators.py?line=77) def wrapper(f, *a, **kw):\r\n---> [79](file:///c%3A/Users/kovor/anaconda3/envs/youtube/lib/site-packages/moviepy/decorators.py?line=78)     names = inspect.getfullargspec(func).args\r\n     [80](file:///c%3A/Users/kovor/anaconda3/envs/youtube/lib/site-packages/moviepy/decorators.py?line=79)     new_a = [fun(arg) if (name in varnames) else arg\r\n     [81](file:///c%3A/Users/kovor/anaconda3/envs/youtube/lib/site-packages/moviepy/decorators.py?line=80)              for (arg, name) in zip(a, names)]\r\n     [82](file:///c%3A/Users/kovor/anaconda3/envs/youtube/lib/site-packages/moviepy/decorators.py?line=81)     new_kw = {k: fun(v) if k in varnames else v\r\n     [83](file:///c%3A/Users/kovor/anaconda3/envs/youtube/lib/site-packages/moviepy/decorators.py?line=82)              for (k,v) in kw.items()}\r\n\r\nNameError: name 'func' is not defined\r\n```\r\n#### Steps to Reproduce the Problem\r\n\r\n```\r\nfrom moviepy import *\r\nfrom moviepy.editor import AudioFileClip, VideoFileClip\r\nvideo = VideoFileClip(r\"D:\\dati\\ordine\\programmazione\\youtube\\salmon.mp4\")\r\n\r\nvideo.save_frame('prova.jpg')  #this fails with error shown above\r\n```\r\n\r\n\r\n#### Specifications\r\n\r\n  - Python Version:  Python 3.10.4\r\n  - Moviepy Version: 1.0.3\r\n  - Platform Name:   Windows 10 Home\r\n  - Platform Version: 10.0.19043 Build 19043\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1764/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1764/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1762", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1762/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1762/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1762/events", "html_url": "https://github.com/Zulko/moviepy/issues/1762", "id": 1222002999, "node_id": "I_kwDOALfols5I1kk3", "number": 1762, "title": "My app gets an error when I turn it into an exe file but works fine when I run it into terminal.", "user": {"login": "lerry30", "id": 96895997, "node_id": "U_kgDOBcaD_Q", "avatar_url": "https://avatars.githubusercontent.com/u/96895997?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lerry30", "html_url": "https://github.com/lerry30", "followers_url": "https://api.github.com/users/lerry30/followers", "following_url": "https://api.github.com/users/lerry30/following{/other_user}", "gists_url": "https://api.github.com/users/lerry30/gists{/gist_id}", "starred_url": "https://api.github.com/users/lerry30/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lerry30/subscriptions", "organizations_url": "https://api.github.com/users/lerry30/orgs", "repos_url": "https://api.github.com/users/lerry30/repos", "events_url": "https://api.github.com/users/lerry30/events{/privacy}", "received_events_url": "https://api.github.com/users/lerry30/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-05-01T03:28:22Z", "updated_at": "2022-05-06T02:55:12Z", "closed_at": "2022-05-02T11:45:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "![Capture](https://user-images.githubusercontent.com/96895997/166130925-8753878d-1edc-417b-bbd7-145ab0e3135a.JPG)\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1762/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1762/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1753", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1753/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1753/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1753/events", "html_url": "https://github.com/Zulko/moviepy/issues/1753", "id": 1202203435, "node_id": "I_kwDOALfols5HqCsr", "number": 1753, "title": "ImageMagick Installed and path added but getting Imagemagick not installed error ", "user": {"login": "Coder-dot-com", "id": 89038386, "node_id": "MDQ6VXNlcjg5MDM4Mzg2", "avatar_url": "https://avatars.githubusercontent.com/u/89038386?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Coder-dot-com", "html_url": "https://github.com/Coder-dot-com", "followers_url": "https://api.github.com/users/Coder-dot-com/followers", "following_url": "https://api.github.com/users/Coder-dot-com/following{/other_user}", "gists_url": "https://api.github.com/users/Coder-dot-com/gists{/gist_id}", "starred_url": "https://api.github.com/users/Coder-dot-com/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Coder-dot-com/subscriptions", "organizations_url": "https://api.github.com/users/Coder-dot-com/orgs", "repos_url": "https://api.github.com/users/Coder-dot-com/repos", "events_url": "https://api.github.com/users/Coder-dot-com/events{/privacy}", "received_events_url": "https://api.github.com/users/Coder-dot-com/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 1163360583, "node_id": "MDU6TGFiZWwxMTYzMzYwNTgz", "url": "https://api.github.com/repos/Zulko/moviepy/labels/text", "name": "text", "color": "bfd4f2", "default": false, "description": "Issues dealing with TextClip, SubtitlesClip, or handling of text in general."}, {"id": 1866735520, "node_id": "MDU6TGFiZWwxODY2NzM1NTIw", "url": "https://api.github.com/repos/Zulko/moviepy/labels/lib-ImageMagick", "name": "lib-ImageMagick", "color": "d6b289", "default": false, "description": "Issues pertaining to dependency ImageMagick."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-04-12T17:51:54Z", "updated_at": "2022-04-26T17:36:14Z", "closed_at": "2022-04-12T20:41:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "New to movie.py and trying to get it to work, but keep getting this error. Can anyone help?\r\n\r\n```\r\nfrom moviepy.editor import *\r\n\r\nvideo = VideoFileClip(\"/home/user/dev/MoviePy Learning/illuminated-road-junction-and-cars-traffic.mov\").subclip(0,2)\r\n\r\n# Make the text. Many more options are available.\r\ntxt_clip = ( TextClip(\"My Holidays 2013\",fontsize=70,color='white')\r\n             .set_position('center')\r\n             .set_duration(1) )\r\n\r\nresult = CompositeVideoClip([video, txt_clip]) # Overlay text on video\r\nresult.write_videofile(\"myHolidays_edited.mov\",fps=25)\r\n\r\n```\r\n\r\n\r\n#### Expected Behavior\r\n\r\nThe command to complete successfully\r\n\r\n\r\n#### Actual Behavior\r\nReceive this error\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/home/user/.local/share/virtualenvs/MoviePy_Learning-86rjnLdd/lib/python3.9/site-packages/moviepy/video/VideoClip.py\", line 1137, in __init__\r\n    subprocess_call(cmd, logger=None)\r\n  File \"/home/user/.local/share/virtualenvs/MoviePy_Learning-86rjnLdd/lib/python3.9/site-packages/moviepy/tools.py\", line 54, in subprocess_call\r\n    raise IOError(err.decode('utf8'))\r\nOSError: convert: delegate library support not built-in '/usr/share/fonts/type1/gsfonts/n022003l.pfb' (Freetype) @ warning/annotate.c/RenderFreetype/1986.\r\nconvert: no decode delegate for this image format `' @ error/constitute.c/ReadImage/737.\r\nconvert: no images defined `PNG32:/tmp/tmpb4gjxzjk.png' @ error/convert.c/ConvertImageCommand/3325.\r\n\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/home/user/dev/MoviePy Learning/main.py\", line 6, in <module>\r\n    txt_clip = ( TextClip(\"My Holidays 2013\",fontsize=70,color='white')\r\n  File \"/home/user/.local/share/virtualenvs/MoviePy_Learning-86rjnLdd/lib/python3.9/site-packages/moviepy/video/VideoClip.py\", line 1146, in __init__\r\n    raise IOError(error)\r\nOSError: MoviePy Error: creation of None failed because of the following error:\r\n\r\nconvert: delegate library support not built-in '/usr/share/fonts/type1/gsfonts/n022003l.pfb' (Freetype) @ warning/annotate.c/RenderFreetype/1986.\r\nconvert: no decode delegate for this image format `' @ error/constitute.c/ReadImage/737.\r\nconvert: no images defined `PNG32:/tmp/tmpb4gjxzjk.png' @ error/convert.c/ConvertImageCommand/3325.\r\n.\r\n\r\n.This error can be due to the fact that ImageMagick is not installed on your computer, or (for Windows users) that you didn't specify the path to the ImageMagick binary in file conf.py, or that the path you specified is incorrect\r\n```\r\n\r\n#### Steps to Reproduce the Problem\r\n<!-- Please include code that demonstrates this problem so that we can reproduce it. For advice on how to do this, see https://stackoverflow.com/help/mcve -->\r\nAttempt to run the above code\r\n\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1753/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1753/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1751", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1751/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1751/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1751/events", "html_url": "https://github.com/Zulko/moviepy/issues/1751", "id": 1197060893, "node_id": "I_kwDOALfols5HWbMd", "number": 1751, "title": "Bad interaction with QT QLineEdit widget", "user": {"login": "John-Hollingum", "id": 96357619, "node_id": "U_kgDOBb5M8w", "avatar_url": "https://avatars.githubusercontent.com/u/96357619?v=4", "gravatar_id": "", "url": "https://api.github.com/users/John-Hollingum", "html_url": "https://github.com/John-Hollingum", "followers_url": "https://api.github.com/users/John-Hollingum/followers", "following_url": "https://api.github.com/users/John-Hollingum/following{/other_user}", "gists_url": "https://api.github.com/users/John-Hollingum/gists{/gist_id}", "starred_url": "https://api.github.com/users/John-Hollingum/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/John-Hollingum/subscriptions", "organizations_url": "https://api.github.com/users/John-Hollingum/orgs", "repos_url": "https://api.github.com/users/John-Hollingum/repos", "events_url": "https://api.github.com/users/John-Hollingum/events{/privacy}", "received_events_url": "https://api.github.com/users/John-Hollingum/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 51698343, "node_id": "MDU6TGFiZWw1MTY5ODM0Mw==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/invalid", "name": "invalid", "color": "bbbbbb", "default": true, "description": "An irrelevant or obsolete issue/PR."}, {"id": 547814220, "node_id": "MDU6TGFiZWw1NDc4MTQyMjA=", "url": "https://api.github.com/repos/Zulko/moviepy/labels/lib-misc", "name": "lib-misc", "color": "ffdcb5", "default": false, "description": "Issues pertaining to misc. 3rd-party libraries."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2022-04-08T09:18:20Z", "updated_at": "2022-08-23T18:57:24Z", "closed_at": "2022-08-23T18:57:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "This is a minimal case of a program that demonstrates the bug\r\n```\r\nfrom PyQt5.QtWidgets import *\r\nfrom PyQt5.QtCore import *\r\nfrom moviepy.editor import VideoFileClip, AudioFileClip, CompositeAudioClip\r\nimport sys\r\n\r\nclass AmenicMain(QMainWindow):\r\n\tdef __init__(self):\r\n\t\tsuper().__init__()\r\n\t\tself.initUI()\r\n\r\n\tdef initUI(self):\r\n\r\n\t\tself.setWindowTitle('Amenic')\r\n\t\tself.resize(900,500)\r\n\r\n\t\tssLabel = QLabel('Sound Source',self)\r\n\t\tself.ssFileShow= QLineEdit(self)\r\n\r\n\t\thbox2 = QHBoxLayout()\r\n\t\thbox2.addWidget(ssLabel)\r\n\t\thbox2.addWidget(self.ssFileShow)\r\n\t\tcontainer = QWidget()\r\n\t\tcontainer.setLayout(hbox2)\r\n\r\n\t\tself.setCentralWidget(container)\r\n\r\nif __name__ == '__main__':\r\n\tapp = QApplication(sys.argv)\r\n\tmain = AmenicMain()\r\n\tmain.show()\r\n\tsys.exit(app.exec_())\r\n\r\n```\r\n\r\nThis program should display a window with a label and a line edit widget that allows normal entry of text.\r\n\r\nWhat actually happens is that the window is displayed as expected, but normal editing is not possible. When a regular alphanumeric key is pressed the corresponding character appears twice in the line edit. Delete left does nothing. Delete right (ctrl-d) appears to replace the char to the right of the cursor with a space. I daresay there are other weirdnesses, but that'll do to be getting on with.\r\n\r\nIf the MoviePy import line is commented out, it works fine. \r\n\r\nTo reproduce the problem, run the program and start typing\r\n\r\n\r\n#### Specifications\r\nPython 3.10.2\r\n\r\nName: moviepy\r\nVersion: 1.0.3\r\n\r\n  Model Name:\tiMac\r\n  Model Identifier:\tiMac14,3\r\n  Processor Name:\tQuad-Core Intel Core i5\r\n  Processor Speed:\t2.9 GHz\r\n  Number of Processors:\t1\r\n  Total Number of Cores:\t4\r\n\r\nMacOS Catalina\r\n  System Version:\tmacOS 10.15.7 (19H1824)\r\n  Kernel Version:\tDarwin 19.6.0\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1751/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1751/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1746", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1746/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1746/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1746/events", "html_url": "https://github.com/Zulko/moviepy/issues/1746", "id": 1190603425, "node_id": "I_kwDOALfols5G9yqh", "number": 1746, "title": "About Chinese support in TextClip", "user": {"login": "Danee-wawawa", "id": 24379250, "node_id": "MDQ6VXNlcjI0Mzc5MjUw", "avatar_url": "https://avatars.githubusercontent.com/u/24379250?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Danee-wawawa", "html_url": "https://github.com/Danee-wawawa", "followers_url": "https://api.github.com/users/Danee-wawawa/followers", "following_url": "https://api.github.com/users/Danee-wawawa/following{/other_user}", "gists_url": "https://api.github.com/users/Danee-wawawa/gists{/gist_id}", "starred_url": "https://api.github.com/users/Danee-wawawa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Danee-wawawa/subscriptions", "organizations_url": "https://api.github.com/users/Danee-wawawa/orgs", "repos_url": "https://api.github.com/users/Danee-wawawa/repos", "events_url": "https://api.github.com/users/Danee-wawawa/events{/privacy}", "received_events_url": "https://api.github.com/users/Danee-wawawa/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 1163360583, "node_id": "MDU6TGFiZWwxMTYzMzYwNTgz", "url": "https://api.github.com/repos/Zulko/moviepy/labels/text", "name": "text", "color": "bfd4f2", "default": false, "description": "Issues dealing with TextClip, SubtitlesClip, or handling of text in general."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-04-02T11:22:21Z", "updated_at": "2022-04-20T03:16:16Z", "closed_at": "2022-04-20T03:16:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, thank you for your work.\r\nWhen I use TextClip to process Chinese, I have encountered a problem that the Chinese display will appear garbled.\r\nThe code is as following:\r\n# -*- coding: utf-8 -*-\r\n#encoding=utf-8\r\nfrom moviepy.editor import *\r\n\r\ntxt_clip1 = TextClip(\"happy~\",font = 'SimHei.ttf',fontsize=100,color='white')\r\ntxt_clip2 = TextClip(\"\u6211\u7231\u4f60\u4e2d\u56fd\uff01asd123!@#\",font = 'SimHei.ttf',fontsize=100,color='red')\r\n\r\ntxt_clip1 = txt_clip1.set_pos('center').set_duration(10)\r\ntxt_clip2 = txt_clip2.set_pos('bottom').set_duration(10)\r\ncvc = CompositeVideoClip( [txt_clip1.set_pos('center'),txt_clip2], size=(1280,720))\r\ncvc.write_videofile(\"test.mp4\",fps = 24)\r\n\r\nThe test.mp4 is like following:\r\n![image](https://user-images.githubusercontent.com/24379250/161380837-0215e4d3-da76-4468-810c-4dd1da4da511.png)\r\n\r\nLooking forward to your answer, thank you very much.", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1746/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1746/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1734", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1734/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1734/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1734/events", "html_url": "https://github.com/Zulko/moviepy/issues/1734", "id": 1167646141, "node_id": "I_kwDOALfols5FmN29", "number": 1734, "title": "files containing power operators fail formatting checks (Black library)", "user": {"login": "keikoro", "id": 559572, "node_id": "MDQ6VXNlcjU1OTU3Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/559572?v=4", "gravatar_id": "", "url": "https://api.github.com/users/keikoro", "html_url": "https://github.com/keikoro", "followers_url": "https://api.github.com/users/keikoro/followers", "following_url": "https://api.github.com/users/keikoro/following{/other_user}", "gists_url": "https://api.github.com/users/keikoro/gists{/gist_id}", "starred_url": "https://api.github.com/users/keikoro/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/keikoro/subscriptions", "organizations_url": "https://api.github.com/users/keikoro/orgs", "repos_url": "https://api.github.com/users/keikoro/repos", "events_url": "https://api.github.com/users/keikoro/events{/privacy}", "received_events_url": "https://api.github.com/users/keikoro/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 542141296, "node_id": "MDU6TGFiZWw1NDIxNDEyOTY=", "url": "https://api.github.com/repos/Zulko/moviepy/labels/good-first-issue", "name": "good-first-issue", "color": "5319e7", "default": false, "description": "Especially suitable for people new to moviepy and/or programming; beginner-friendly."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-03-13T17:41:25Z", "updated_at": "2022-03-13T18:38:03Z", "closed_at": "2022-03-13T18:38:03Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Version [22.1.0 ](https://github.com/psf/black/releases/tag/22.1.0) of Black from 22 January introduced a change in how power operators ought to be formatted. This now causes the checks for several files to fail.\r\n\r\nCopy/pasting these new errors for reference, excluding the one already filed in #1716 \r\n\r\n```--- examples/moving_letters.py  2022-03-13 17:14:16.989568 +0000\r\n+++ examples/moving_letters.py  2022-03-13 17:14:18.490964 +0000\r\n@@ -18,21 +18,21 @@\r\n # helper function\r\n rotMatrix = lambda a: np.array([[np.cos(a), np.sin(a)], [-np.sin(a), np.cos(a)]])\r\n \r\n \r\n def vortex(screenpos, i, nletters):  # noqa D103\r\n-    d = lambda t: 1.0 / (0.3 + t ** 8)  # damping\r\n+    d = lambda t: 1.0 / (0.3 + t**8)  # damping\r\n     a = i * np.pi / nletters  # angle of the movement\r\n     v = rotMatrix(a).dot([-1, 0])\r\n     if i % 2:\r\n         v[1] = -v[1]\r\n     return lambda t: screenpos + 400 * d(t) * rotMatrix(0.5 * d(t) * a).dot(v)\r\n \r\n \r\n def cascade(screenpos, i, nletters):  # noqa D103\r\n     v = np.array([0, -1])\r\n-    d = lambda t: 1 if t < 0 else abs(np.sinc(t) / (1 + t ** 4))\r\n+    d = lambda t: 1 if t < 0 else abs(np.sinc(t) / (1 + t**4))\r\n     return lambda t: screenpos + v * 400 * d(t - 0.15 * i)\r\n \r\n \r\n def arrive(screenpos, i, nletters):  # noqa D103\r\n     v = np.array([-1, 0])\r\nwould reformat examples/moving_letters.py\r\n--- moviepy/audio/tools/cuts.py 2022-03-13 17:14:17.057569 +0000\r\n+++ moviepy/audio/tools/cuts.py 2022-03-13 17:14:18.680594 +0000\r\n@@ -19,11 +19,11 @@\r\n       Numerical precision.\r\n     \"\"\"\r\n     chunksize = int(time_resolution * clip.fps)\r\n     chunk_duration = 1.0 * chunksize / clip.fps\r\n     # v denotes the list of volumes\r\n-    v = np.array([(chunk ** 2).sum() for chunk in clip.iter_chunks(chunksize)])\r\n+    v = np.array([(chunk**2).sum() for chunk in clip.iter_chunks(chunksize)])\r\n     v = v - v.mean()\r\n     corrs = np.correlate(v, v, mode=\"full\")[-len(v) :]\r\n     corrs[: int(min_time / chunk_duration)] = 0\r\n     corrs[int(max_time / chunk_duration) :] = 0\r\n     return chunk_duration * np.argmax(corrs)\r\nwould reformat moviepy/audio/tools/cuts.py\r\nwould reformat moviepy/video/fx/accel_decel.py\r\n--- moviepy/video/fx/accel_decel.py 2022-03-13 17:14:17.057569 +0000\r\n+++ moviepy/video/fx/accel_decel.py 2022-03-13 17:14:18.848212 +0000\r\n@@ -1,11 +1,11 @@\r\n def _f_accel_decel(t, old_duration, new_duration, abruptness=1.0, soonness=1.0):\r\n     a = 1.0 + abruptness\r\n \r\n     def _f(t):\r\n         def f1(t):\r\n-            return (0.5) ** (1 - a) * (t ** a)\r\n+            return (0.5) ** (1 - a) * (t**a)\r\n \r\n         def f2(t):\r\n             return 1 - f1(1 - t)\r\n \r\n         return (t < 0.5) * f1(t) + (t >= 0.5) * f2(t)\r\n--- moviepy/video/fx/mask_color.py  2022-03-13 17:14:17.057569 +0000\r\n+++ moviepy/video/fx/mask_color.py  2022-03-13 17:14:18.954361 +0000\r\n@@ -19,11 +19,11 @@\r\n \r\n     color = np.array(color)\r\n \r\n     def hill(x):\r\n         if threshold:\r\n-            return x ** stiffness / (threshold ** stiffness + x ** stiffness)\r\n+            return x**stiffness / (threshold**stiffness + x**stiffness)\r\n         else:\r\n             return 1.0 * (x != 0)\r\n \r\n     def flim(im):\r\n         return hill(np.sqrt(((im - color) ** 2).sum(axis=2)))\r\nwould reformat moviepy/video/fx/mask_color.py\r\n--- moviepy/video/io/ffmpeg_reader.py   2022-03-13 17:14:17.057569 +0000\r\n+++ moviepy/video/io/ffmpeg_reader.py   2022-03-13 17:14:19.500074 +0000\r\n@@ -789,11 +789,11 @@\r\n     if decode_file:\r\n         cmd.extend([\"-f\", \"null\", \"-\"])\r\n \r\n     popen_params = cross_platform_popen_params(\r\n         {\r\n-            \"bufsize\": 10 ** 5,\r\n+            \"bufsize\": 10**5,\r\n             \"stdout\": sp.PIPE,\r\n             \"stderr\": sp.PIPE,\r\n             \"stdin\": sp.DEVNULL,\r\n         }\r\n     )\r\nwould reformat moviepy/video/io/ffmpeg_reader.py\r\n--- moviepy/video/tools/drawing.py\t2022-03-13 17:14:17.057569 +0000\r\n+++ moviepy/video/tools/drawing.py\t2022-03-13 17:14:19.546538 +0000\r\n@@ -163,11 +163,11 @@\r\n                 raise ValueError(\"You must provide either 'p2' or 'vector'\")\r\n         else:\r\n             vector = np.array(vector[::-1])\r\n \r\n         norm = np.linalg.norm(vector)\r\n-        n_vec = vector / norm ** 2  # norm 1/norm(vector)\r\n+        n_vec = vector / norm**2  # norm 1/norm(vector)\r\n \r\n         p1 = p1 + offset * vector\r\n         arr = (M - p1).dot(n_vec) / (1 - offset)\r\n         arr = np.minimum(1, np.maximum(0, arr))\r\n         if color_1.size > 1:\r\nwould reformat moviepy/video/tools/drawing.py\r\n--- tests/test_examples.py\t2022-03-13 17:14:17.061568 +0000\r\n+++ tests/test_examples.py\t2022-03-13 17:14:19.864895 +0000\r\n@@ -29,11 +29,11 @@\r\n \r\n     fig, ax = plt.subplots()\r\n \r\n     def make_frame(t):\r\n         ax.clear()\r\n-        ax.plot(x, np.sinc(x ** 2) + np.sin(x + 2 * np.pi / duration * t), lw=3)\r\n+        ax.plot(x, np.sinc(x**2) + np.sin(x + 2 * np.pi / duration * t), lw=3)\r\n         ax.set_ylim(-1.5, 2.5)\r\n         return mplfig_to_npimage(fig)\r\n \r\n     animation = VideoClip(make_frame, duration=duration)\r\n \r\nwould reformat tests/test_examples.py\r\n--- tests/test_issues.py\t2022-03-13 17:14:17.061568 +0000\r\n+++ tests/test_issues.py\t2022-03-13 17:14:20.295908 +0000\r\n@@ -291,11 +291,11 @@\r\n         ax.axis(\"off\")\r\n         ax.set_title(\"SVC classification\", fontsize=16)\r\n \r\n         classifier = svm.SVC(gamma=2, C=1)\r\n         # the varying weights make the points appear one after the other\r\n-        weights = np.minimum(1, np.maximum(0, t ** 2 + 10 - np.arange(50)))\r\n+        weights = np.minimum(1, np.maximum(0, t**2 + 10 - np.arange(50)))\r\n         classifier.fit(X, Y, sample_weight=weights)\r\n         Z = classifier.decision_function(np.c_[xx.ravel(), yy.ravel()])\r\n         Z = Z.reshape(xx.shape)\r\n         ax.contourf(\r\n             xx,\r\nwould reformat tests/test_issues.py\r\n```", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1734/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1734/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1731", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1731/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1731/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1731/events", "html_url": "https://github.com/Zulko/moviepy/issues/1731", "id": 1164735318, "node_id": "I_kwDOALfols5FbHNW", "number": 1731, "title": "VideoFileClip getting wrong fps", "user": {"login": "arceus-jia", "id": 5162767, "node_id": "MDQ6VXNlcjUxNjI3Njc=", "avatar_url": "https://avatars.githubusercontent.com/u/5162767?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arceus-jia", "html_url": "https://github.com/arceus-jia", "followers_url": "https://api.github.com/users/arceus-jia/followers", "following_url": "https://api.github.com/users/arceus-jia/following{/other_user}", "gists_url": "https://api.github.com/users/arceus-jia/gists{/gist_id}", "starred_url": "https://api.github.com/users/arceus-jia/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arceus-jia/subscriptions", "organizations_url": "https://api.github.com/users/arceus-jia/orgs", "repos_url": "https://api.github.com/users/arceus-jia/repos", "events_url": "https://api.github.com/users/arceus-jia/events{/privacy}", "received_events_url": "https://api.github.com/users/arceus-jia/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 51698345, "node_id": "MDU6TGFiZWw1MTY5ODM0NQ==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/wont-fix", "name": "wont-fix", "color": "999999", "default": false, "description": "Beyond the scope of this project or not of interest."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-03-10T04:23:00Z", "updated_at": "2022-03-10T15:23:41Z", "closed_at": "2022-03-10T15:23:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\nYou can format code by putting ``` (that's 3 backticks) on a line by itself at the beginning and end of each code block. For example:\r\n\r\n```\r\nfrom moviepy import *\r\nclip = ColorClip((600, 400), color=(255, 100, 0), duration=2)\r\n```\r\n-->\r\n#### my code\r\n    filepath = '/tmp/tmp.mp4'\r\n    vc = VideoFileClip(filepath)\r\n    print ('vc.fps', vc.fps)\r\n\r\n\r\n#### Expected Behavior\r\nffmpeg -i /tmp/tmp.mp4 2>&1 | sed -n \"s/.*, \\(.*\\) fp.*/\\1/p\"\r\n53.12\r\n\r\n\r\n#### Actual Behavior\r\nvc.fps 90000.0\r\n\r\n#### Steps to Reproduce the Problem\r\n<!-- Please include code that demonstrates this problem so that we can reproduce it. For advice on how to do this, see https://stackoverflow.com/help/mcve -->\r\nthe video url is \r\nhttps://superboostaa.s3.us-west-2.amazonaws.com/screen-20220309-180051-1646873790786_1646886001442.mp4\r\n\r\nWhen I use vc.subclip to process the video, it processes up to 90,000 frames and throws a lot of warnings\r\n\r\n\r\n#### Specifications\r\n\r\n  - Python Version:  3.8.10\r\n  - Moviepy Version: 1.0.3\r\n  - Platform Name: ubuntu 18.04\r\n  - Platform Version: 5.4.0-90-generic #101~18.04.1-Ubuntu SMP Fri Oct 22 09:25:04 UTC 2021 x86_64 x86_64 x86_64 GNU/Linux\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1731/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1731/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1726", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1726/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1726/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1726/events", "html_url": "https://github.com/Zulko/moviepy/issues/1726", "id": 1150721510, "node_id": "I_kwDOALfols5Elp3m", "number": 1726, "title": "This error can be due to the fact that ImageMagick is not installed", "user": {"login": "Joseph-Marchant", "id": 97957102, "node_id": "U_kgDOBda07g", "avatar_url": "https://avatars.githubusercontent.com/u/97957102?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Joseph-Marchant", "html_url": "https://github.com/Joseph-Marchant", "followers_url": "https://api.github.com/users/Joseph-Marchant/followers", "following_url": "https://api.github.com/users/Joseph-Marchant/following{/other_user}", "gists_url": "https://api.github.com/users/Joseph-Marchant/gists{/gist_id}", "starred_url": "https://api.github.com/users/Joseph-Marchant/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Joseph-Marchant/subscriptions", "organizations_url": "https://api.github.com/users/Joseph-Marchant/orgs", "repos_url": "https://api.github.com/users/Joseph-Marchant/repos", "events_url": "https://api.github.com/users/Joseph-Marchant/events{/privacy}", "received_events_url": "https://api.github.com/users/Joseph-Marchant/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-02-25T18:10:43Z", "updated_at": "2022-03-04T11:06:25Z", "closed_at": "2022-03-04T11:06:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "I've been trying to install ImageMagick to work with text and I cannot get it to work no matter how many fixes I've tried.\r\nThis is the error I'm getting.\r\n\r\n``` \r\nOSError: MoviePy Error: creation of None failed because of the following error:\r\n\r\nconvert: delegate library support not built-in '/usr/share/fonts/type1/gsfonts/n022003l.pfb' (Freetype) @ warning/annotate.c/RenderFreetype/1919.\r\nconvert: no decode delegate for this image format `' @ error/constitute.c/ReadImage/737.\r\nconvert: no images defined `PNG32:/tmp/tmp2xeelsyg.png' @ error/convert.c/ConvertImageCommand/3325.\r\n.\r\n\r\n.This error can be due to the fact that ImageMagick is not installed on your computer, or (for Windows users) that you didn't specify the path to the ImageMagick binary in file conf.py, or that the path you specified is incorrect\r\n``` \r\n\r\nReally have no idea what's not going wrong here. The common fix below hasn't worked for me. Can anyone help?\r\n\r\n```\r\ncomment out (or remove the line that reads)\r\n<policy domain=\"path\" rights=\"none\" pattern=\"@*\" />\r\n\r\n<!-- <policy domain=\"path\" rights=\"none\" pattern=\"@*\" /> -->\r\n```", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1726/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1726/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1716", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1716/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1716/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1716/events", "html_url": "https://github.com/Zulko/moviepy/issues/1716", "id": 1103772968, "node_id": "I_kwDOALfols5Byj0o", "number": 1716, "title": "html_tools.py fails file formatting checks (Black library)", "user": {"login": "keikoro", "id": 559572, "node_id": "MDQ6VXNlcjU1OTU3Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/559572?v=4", "gravatar_id": "", "url": "https://api.github.com/users/keikoro", "html_url": "https://github.com/keikoro", "followers_url": "https://api.github.com/users/keikoro/followers", "following_url": "https://api.github.com/users/keikoro/following{/other_user}", "gists_url": "https://api.github.com/users/keikoro/gists{/gist_id}", "starred_url": "https://api.github.com/users/keikoro/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/keikoro/subscriptions", "organizations_url": "https://api.github.com/users/keikoro/orgs", "repos_url": "https://api.github.com/users/keikoro/repos", "events_url": "https://api.github.com/users/keikoro/events{/privacy}", "received_events_url": "https://api.github.com/users/keikoro/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 542141296, "node_id": "MDU6TGFiZWw1NDIxNDEyOTY=", "url": "https://api.github.com/repos/Zulko/moviepy/labels/good-first-issue", "name": "good-first-issue", "color": "5319e7", "default": false, "description": "Especially suitable for people new to moviepy and/or programming; beginner-friendly."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-01-14T15:13:30Z", "updated_at": "2022-03-13T18:38:03Z", "closed_at": "2022-03-13T18:38:03Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "The file formatting check fails for [html_tools.py](https://github.com/Zulko/moviepy/blob/master/moviepy/video/io/html_tools.py) (which results in unrelated PRs \"failing\" the tests we run on them):\r\n\r\n```\r\n--- moviepy/video/io/html_tools.py\t2022-01-13 15:20:33.354483 +0000\r\n+++ moviepy/video/io/html_tools.py\t2022-01-13 15:20:36.028119 +0000\r\n@@ -24,11 +24,10 @@\r\n     ipython_available = True\r\n \r\n     class HTML2(HTML):  # noqa D101\r\n         def __add__(self, other):\r\n             return HTML2(self.data + other.data)\r\n-\r\n \r\n except ImportError:\r\n \r\n     def HTML2(content):  # noqa D103\r\n         return content\r\n```\r\n\r\nVery easy first issue for anyone looking to contribute to the repository.", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1716/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1716/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1715", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1715/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1715/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1715/events", "html_url": "https://github.com/Zulko/moviepy/issues/1715", "id": 1100719311, "node_id": "I_kwDOALfols5Bm6TP", "number": 1715, "title": "SyntaxError: \"is\" with a literal. Did you mean \"==\"?", "user": {"login": "lalten", "id": 11611719, "node_id": "MDQ6VXNlcjExNjExNzE5", "avatar_url": "https://avatars.githubusercontent.com/u/11611719?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lalten", "html_url": "https://github.com/lalten", "followers_url": "https://api.github.com/users/lalten/followers", "following_url": "https://api.github.com/users/lalten/following{/other_user}", "gists_url": "https://api.github.com/users/lalten/gists{/gist_id}", "starred_url": "https://api.github.com/users/lalten/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lalten/subscriptions", "organizations_url": "https://api.github.com/users/lalten/orgs", "repos_url": "https://api.github.com/users/lalten/repos", "events_url": "https://api.github.com/users/lalten/events{/privacy}", "received_events_url": "https://api.github.com/users/lalten/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-01-12T19:37:26Z", "updated_at": "2022-03-13T17:22:44Z", "closed_at": "2022-03-13T17:22:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "The line\r\nhttps://github.com/Zulko/moviepy/blob/db19920764b5cb1d8aa6863019544fd8ae0d3cce/moviepy/video/io/sliders.py#L61\r\n\r\ncauses a SyntaxError warning in my code:\r\n```\r\nFile \"/worker/build/xxx/root/bazel-out/k8-opt/bin/xxx/xxx/xxx/xxx/tests/xxx.runfiles/site-packages_pypi__xxx__moviepy_1_0_3/moviepy/video/io/sliders.py\", line 61\r\n    if event.key is 'enter':\r\n       ^\r\nSyntaxError: \"is\" with a literal. Did you mean \"==\"?\r\n```", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1715/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1715/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1714", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1714/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1714/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1714/events", "html_url": "https://github.com/Zulko/moviepy/issues/1714", "id": 1100405540, "node_id": "I_kwDOALfols5Bltsk", "number": 1714, "title": "Changes in FFmpeg libavformat break FFmpegInfosParser", "user": {"login": "jwrona", "id": 2459480, "node_id": "MDQ6VXNlcjI0NTk0ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/2459480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwrona", "html_url": "https://github.com/jwrona", "followers_url": "https://api.github.com/users/jwrona/followers", "following_url": "https://api.github.com/users/jwrona/following{/other_user}", "gists_url": "https://api.github.com/users/jwrona/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwrona/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwrona/subscriptions", "organizations_url": "https://api.github.com/users/jwrona/orgs", "repos_url": "https://api.github.com/users/jwrona/repos", "events_url": "https://api.github.com/users/jwrona/events{/privacy}", "received_events_url": "https://api.github.com/users/jwrona/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 1866683148, "node_id": "MDU6TGFiZWwxODY2NjgzMTQ4", "url": "https://api.github.com/repos/Zulko/moviepy/labels/lib-FFmpeg", "name": "lib-FFmpeg", "color": "d6b289", "default": false, "description": "Issues pertaining to dependency FFmpeg."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2022-01-12T14:26:19Z", "updated_at": "2022-05-11T08:25:59Z", "closed_at": "2022-05-11T08:25:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Expected Behavior\r\n`FFmpegInfosParser.parse` can parse FFmpeg output.\r\n\r\n#### Actual Behavior\r\n`FFmpegInfosParser.parse` fails to parse FFmpeg output starting with commit [b7251ae](https://github.com/FFmpeg/FFmpeg/commit/b7251aed46f5ac96fe65c1c68ddac44b07429467), which reduced indentation for streams.\r\n\r\n#### Steps to Reproduce the Problem\r\nPoint MoviePy to FFmpeg executable with the mentioned revision or newer and run `FFmpegInfosParser.parse`.\r\n\r\n#### Specifications\r\n- Python Version: 3.9.9\r\n- Moviepy Version: 2.0.0.dev2 8eaf3f0\r\n- Platform Name: Linux\r\n- Platform Version: Fedora 34\r\n\r\n#### Additional Info\r\nffmpeg 4.2.2 (imageio) output:\r\n```\r\nInput #0, mov,mp4,m4a,3gp,3g2,mj2, from 'clip.mp4':\r\n  Metadata:\r\n    major_brand     : isom\r\n    minor_version   : 512\r\n    compatible_brands: isomiso2avc1mp41\r\n    encoder         : Lavf58.12.100\r\n  Duration: 01:00:00.00, start: 0.000000, bitrate: 1222 kb/s\r\n    Stream #0:0(und): Video: h264 (Main) (avc1 / 0x31637661), yuv420p, 1280x720 [SAR 1:1 DAR 16:9], 1221 kb/s, 25 fps, 25 tbr, 12800 tbn, 50 tbc (default)\r\n    Metadata:\r\n      handler_name    : VideoHandler\r\nAt least one output file must be specified\r\n```\r\nffmpeg 4.4.1 (system) output:\r\n```\r\nInput #0, mov,mp4,m4a,3gp,3g2,mj2, from 'clip.mp4':\r\n  Metadata:\r\n    major_brand     : isom\r\n    minor_version   : 512\r\n    compatible_brands: isomiso2avc1mp41\r\n    encoder         : Lavf58.12.100\r\n  Duration: 01:00:00.00, start: 0.000000, bitrate: 1222 kb/s\r\n  Stream #0:0(und): Video: h264 (Main) (avc1 / 0x31637661), yuv420p, 1280x720 [SAR 1:1 DAR 16:9], 1221 kb/s, 25 fps, 25 tbr, 12800 tbn, 50 tbc (default)\r\n    Metadata:\r\n      handler_name    : VideoHandler\r\n      vendor_id       : [0][0][0][0]\r\nAt least one output file must be specified\r\n```\r\nThere are other commits changing the output format too, but the mentioned one is the most problematic one.", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1714/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1714/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1710", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1710/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1710/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1710/events", "html_url": "https://github.com/Zulko/moviepy/issues/1710", "id": 1096147300, "node_id": "I_kwDOALfols5BVeFk", "number": 1710, "title": "abnormal audio playback using AudioFileClip", "user": {"login": "clotyxf", "id": 7359686, "node_id": "MDQ6VXNlcjczNTk2ODY=", "avatar_url": "https://avatars.githubusercontent.com/u/7359686?v=4", "gravatar_id": "", "url": "https://api.github.com/users/clotyxf", "html_url": "https://github.com/clotyxf", "followers_url": "https://api.github.com/users/clotyxf/followers", "following_url": "https://api.github.com/users/clotyxf/following{/other_user}", "gists_url": "https://api.github.com/users/clotyxf/gists{/gist_id}", "starred_url": "https://api.github.com/users/clotyxf/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/clotyxf/subscriptions", "organizations_url": "https://api.github.com/users/clotyxf/orgs", "repos_url": "https://api.github.com/users/clotyxf/repos", "events_url": "https://api.github.com/users/clotyxf/events{/privacy}", "received_events_url": "https://api.github.com/users/clotyxf/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 583252697, "node_id": "MDU6TGFiZWw1ODMyNTI2OTc=", "url": "https://api.github.com/repos/Zulko/moviepy/labels/audio", "name": "audio", "color": "bfd4f2", "default": false, "description": "Related to AudioClip, or handling of audio in general."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-01-07T09:40:36Z", "updated_at": "2022-09-15T15:07:39Z", "closed_at": "2022-01-14T07:03:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "```python\r\nimport moviepy.editor as mpy\r\n\r\n# https://drive.google.com/file/d/1isyI_-aZ62m_dNmHIzrSHam6OlfR2WLD/view?usp=sharing\r\n\r\naudio_file = \"/tmp/google_tts_audio.mp3\"\r\nclip = mpy.AudioFileClip(audio_file)\r\nclip.ipython_display()\r\n```\r\n\r\nUse AudioFileClip to read and play, there is a replay problem at the end position.\r\n\r\n\r\n#### Specifications\r\n\r\n  - Python Version:3.8.10\r\n  - Moviepy Version: 1.0.3\r\n  - Platform Name: centos\r\n  - Platform Version: 7\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1710/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1710/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1707", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1707/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1707/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1707/events", "html_url": "https://github.com/Zulko/moviepy/issues/1707", "id": 1092244042, "node_id": "I_kwDOALfols5BGlJK", "number": 1707, "title": "OSError: MoviePy error: the file `/Users/stardust/git-repos/audio-extractor/\u3010720P\u3011Kate Bush - Cloudbusting.flv` could not be found!", "user": {"login": "stardustman", "id": 22998204, "node_id": "MDQ6VXNlcjIyOTk4MjA0", "avatar_url": "https://avatars.githubusercontent.com/u/22998204?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stardustman", "html_url": "https://github.com/stardustman", "followers_url": "https://api.github.com/users/stardustman/followers", "following_url": "https://api.github.com/users/stardustman/following{/other_user}", "gists_url": "https://api.github.com/users/stardustman/gists{/gist_id}", "starred_url": "https://api.github.com/users/stardustman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stardustman/subscriptions", "organizations_url": "https://api.github.com/users/stardustman/orgs", "repos_url": "https://api.github.com/users/stardustman/repos", "events_url": "https://api.github.com/users/stardustman/events{/privacy}", "received_events_url": "https://api.github.com/users/stardustman/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 583252675, "node_id": "MDU6TGFiZWw1ODMyNTI2NzU=", "url": "https://api.github.com/repos/Zulko/moviepy/labels/video", "name": "video", "color": "bfd4f2", "default": false, "description": "Related to VideoClip and related classes, or handling of video in general."}, {"id": 1866683148, "node_id": "MDU6TGFiZWwxODY2NjgzMTQ4", "url": "https://api.github.com/repos/Zulko/moviepy/labels/lib-FFmpeg", "name": "lib-FFmpeg", "color": "d6b289", "default": false, "description": "Issues pertaining to dependency FFmpeg."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2022-01-03T05:53:42Z", "updated_at": "2022-04-25T03:38:22Z", "closed_at": "2022-01-13T15:16:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\nYou can format code by putting ``` (that's 3 backticks) on a line by itself at the beginning and end of each code block. For example:\r\n\r\n```\r\nfrom moviepy import *\r\nclip = ColorClip((600, 400), color=(255, 100, 0), duration=2)\r\n```\r\n-->\r\n\r\n\r\n#### Expected Behavior\r\nHello everyone, I'm writing a program [audio-extractor](https://github.com/stardustman/audio-extractor/blob/main/audio-extract.py) to extract audio from a video download from  Bilibili.\r\nBut when I get the file name of the video, the `moviepy` report an error. \r\n\r\n> OSError: MoviePy error: the file `/Users/stardust/git-repos/audio-extractor/\u3010720P\u3011Kate Bush - Cloudbusting.flv` could not be found!\r\n\r\nafter executed  `python3 audio-extract.py` and please input a video link: [https://www.bilibili.com/video/BV12p411o75M](https://www.bilibili.com/video/BV12p411o75M).\r\ncomplete log is saved in the [audio-extract-log.txt](https://github.com/stardustman/audio-extractor/blob/main/audio-extract-log.txt)\r\n\r\nI also write a `test.py` to test the file path `/Users/stardust/git-repos/audio-extractor/\u3010720P\u3011Kate Bush - Cloudbusting.flv`\r\nIt works sucessfully and exetract the audio.\r\n\r\n\r\n#### Actual Behavior\r\n `/Users/stardust/git-repos/audio-extractor/\u3010720P\u3011Kate Bush - Cloudbusting.flv` \r\nthe file path not work in `audio-extractor.py`\r\nbut work in `test.py`. \r\nI can't figure out the reason.\r\n\r\n\r\n#### Steps to Reproduce the Problem\r\n<!-- Please include code that demonstrates this problem so that we can reproduce it. For advice on how to do this, see https://stackoverflow.com/help/mcve -->\r\n\r\n1.  execute python3 audio-extractor.py and input the link is https://www.bilibili.com/video/BV12p411o75M, report `OSError: MoviePy error: the file /Users/stardust/git-repos/audio-extractor/\u3010720P\u3011Kate Bush - Cloudbusting.flv could not be found!`\r\n2. copy the `/Users/stardust/git-repos/audio-extractor/\u3010720P\u3011Kate Bush - Cloudbusting.flv` to `fileName` variable in test.py\r\n   this time the file path works well.\r\n#### Specifications\r\n\r\n  - Python Version: python3\r\n  - Moviepy Version:   1.0.3\r\n  - Platform Name: macOS\r\n  - Platform Version: Darwin bogon 21.1.0 Darwin Kernel Version 21.1.0\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1707/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1707/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1702", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1702/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1702/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1702/events", "html_url": "https://github.com/Zulko/moviepy/issues/1702", "id": 1079825687, "node_id": "I_kwDOALfols5AXNUX", "number": 1702, "title": "TextClip unable to read font and no images defined errors", "user": {"login": "Konark-Web", "id": 22732498, "node_id": "MDQ6VXNlcjIyNzMyNDk4", "avatar_url": "https://avatars.githubusercontent.com/u/22732498?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Konark-Web", "html_url": "https://github.com/Konark-Web", "followers_url": "https://api.github.com/users/Konark-Web/followers", "following_url": "https://api.github.com/users/Konark-Web/following{/other_user}", "gists_url": "https://api.github.com/users/Konark-Web/gists{/gist_id}", "starred_url": "https://api.github.com/users/Konark-Web/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Konark-Web/subscriptions", "organizations_url": "https://api.github.com/users/Konark-Web/orgs", "repos_url": "https://api.github.com/users/Konark-Web/repos", "events_url": "https://api.github.com/users/Konark-Web/events{/privacy}", "received_events_url": "https://api.github.com/users/Konark-Web/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 1163360583, "node_id": "MDU6TGFiZWwxMTYzMzYwNTgz", "url": "https://api.github.com/repos/Zulko/moviepy/labels/text", "name": "text", "color": "bfd4f2", "default": false, "description": "Issues dealing with TextClip, SubtitlesClip, or handling of text in general."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-12-14T14:27:17Z", "updated_at": "2021-12-15T14:07:54Z", "closed_at": "2021-12-15T14:07:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "I tried to work with MoviePy in Docker (add text for video in telegram bot). But, I have problem with TextClip. I already tried different fonts.\r\n\r\n> tgbot_1  | convert-im6.q16: unable to read font `Tahoma' @ warning/annotate.c/RenderType/949.\r\n> tgbot_1  | convert-im6.q16: unable to read font `Tahoma' @ error/annotate.c/RenderFreetype/1396.\r\n> tgbot_1  | convert-im6.q16: no images defined `PNG32:/tmp/tmpeqtu9ssc.png' @ error/convert.c/ConvertImageCommand/3229.\r\n\r\nMy Dockerfile:\r\n\r\n```\r\nFROM python:3.9\r\n\r\nENV PYTHONUNBUFFERED 1\r\nENV PYTHONDONTWRITEBYTECODE 1\r\nENV PIP_NO_CACHE_DIR false\r\n\r\nRUN pip install --upgrade pip && pip install pipenv\r\nRUN apt-get -y update && apt-get -y install ffmpeg imagemagick\r\n\r\n# Install some special fonts we use in testing, etc..\r\nRUN apt-get -y install fonts-liberation\r\n\r\nRUN apt-get install -y locales && \\\r\n    locale-gen C.UTF-8 && \\\r\n    /usr/sbin/update-locale LANG=C.UTF-8\r\n\r\nENV LC_ALL C.UTF-8\r\n\r\nCOPY ./requirements.txt /requirements.txt\r\nRUN pip install -r requirements.txt\r\n\r\n# modify ImageMagick policy file so that Textclips work correctly.\r\nRUN sed -i 's/none/read,write/g' /etc/ImageMagick-6/policy.xml\r\n\r\nWORKDIR /app\r\n\r\nCOPY . .\r\n```\r\n\r\n```\r\n    txt = TextClip('Audrey', font='Tahoma', fontsize=35).set_position(\"center\")\r\n    result = CompositeVideoClip([video, txt])\r\n\r\n    result.write_videofile(f\"{message.video.file_id}-new.mp4\", fps=25)\r\n```\r\n\r\n#### Specifications\r\n\r\n  - Python Version: 3.9\r\n  - Moviepy Version:  1.0.3\r\n  - Platform Name: Mac (but I use Docker)\r\n  - Platform Version:\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1702/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1702/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1700", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1700/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1700/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1700/events", "html_url": "https://github.com/Zulko/moviepy/issues/1700", "id": 1074192302, "node_id": "I_kwDOALfols5ABt-u", "number": 1700, "title": "module 'sys' has no attribute 'setcheckinterval'", "user": {"login": "hssnmnr", "id": 93258452, "node_id": "U_kgDOBY8C1A", "avatar_url": "https://avatars.githubusercontent.com/u/93258452?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hssnmnr", "html_url": "https://github.com/hssnmnr", "followers_url": "https://api.github.com/users/hssnmnr/followers", "following_url": "https://api.github.com/users/hssnmnr/following{/other_user}", "gists_url": "https://api.github.com/users/hssnmnr/gists{/gist_id}", "starred_url": "https://api.github.com/users/hssnmnr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hssnmnr/subscriptions", "organizations_url": "https://api.github.com/users/hssnmnr/orgs", "repos_url": "https://api.github.com/users/hssnmnr/repos", "events_url": "https://api.github.com/users/hssnmnr/events{/privacy}", "received_events_url": "https://api.github.com/users/hssnmnr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 583252675, "node_id": "MDU6TGFiZWw1ODMyNTI2NzU=", "url": "https://api.github.com/repos/Zulko/moviepy/labels/video", "name": "video", "color": "bfd4f2", "default": false, "description": "Related to VideoClip and related classes, or handling of video in general."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2021-12-08T09:28:05Z", "updated_at": "2022-09-14T17:14:50Z", "closed_at": "2021-12-21T12:38:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm getting this error in function call VideoFileClip().audio.write_audiofile().\r\nI'm not importing or using sys library anywhere in my code.\r\n\r\n=> The error occur when i deploy my python function to azure. (Doesn't get error in local environment)\r\n\r\n```\r\nfrom moviepy.editor import VideoFileClip\r\n\r\n\r\ndef convert_video_to_audio_moviepy(video_file, output_ext=\"wav\"):\r\n    filename, ext = os.path.splitext(video_file)\r\n    clip = VideoFileClip(video_file)\r\n    clip.audio.write_audiofile(f\"{filename}.{output_ext}\")\r\n\r\n    return f\"{filename}.{output_ext}\"\r\n```\r\n\r\n\r\n#### Expected Behavior\r\nConvert video file to wav\r\n\r\n#### Actual Behavior\r\nError at function call clip.audio.write_audiofile().\r\n\r\n\r\n#### Steps to Reproduce the Problem\r\n\r\nDeploy the function to azure functions.\r\n\r\n\r\n#### Specifications\r\n\r\n  - Python Version: 3.9.7\r\n  - Moviepy Version: 1.0.3\r\n  - Platform Name: Azure function\r\n  - Platform Version: latest\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1700/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1700/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1698", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1698/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1698/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1698/events", "html_url": "https://github.com/Zulko/moviepy/issues/1698", "id": 1066356100, "node_id": "I_kwDOALfols4_j02E", "number": 1698, "title": "Weird output of TextClip saved as png", "user": {"login": "anikfal", "id": 11738727, "node_id": "MDQ6VXNlcjExNzM4NzI3", "avatar_url": "https://avatars.githubusercontent.com/u/11738727?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anikfal", "html_url": "https://github.com/anikfal", "followers_url": "https://api.github.com/users/anikfal/followers", "following_url": "https://api.github.com/users/anikfal/following{/other_user}", "gists_url": "https://api.github.com/users/anikfal/gists{/gist_id}", "starred_url": "https://api.github.com/users/anikfal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anikfal/subscriptions", "organizations_url": "https://api.github.com/users/anikfal/orgs", "repos_url": "https://api.github.com/users/anikfal/repos", "events_url": "https://api.github.com/users/anikfal/events{/privacy}", "received_events_url": "https://api.github.com/users/anikfal/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 1163360583, "node_id": "MDU6TGFiZWwxMTYzMzYwNTgz", "url": "https://api.github.com/repos/Zulko/moviepy/labels/text", "name": "text", "color": "bfd4f2", "default": false, "description": "Issues dealing with TextClip, SubtitlesClip, or handling of text in general."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-11-29T18:22:35Z", "updated_at": "2022-12-11T12:33:13Z", "closed_at": "2022-12-11T12:33:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Code\r\n```\r\nfrom moviepy.editor import *\r\ntxt_clip = TextClip(txt=\"Hello There\", fontsize=66, color=\"yellow\", bg_color=\"blue\")\r\ntxt_clip.save_frame(\"out_clip.png\")\r\n```\r\n\r\n#### Output Image\r\nNot a real image, but just a blue line with yellow segments. It looks as if the image has width, but not height!\r\n![out_clip](https://user-images.githubusercontent.com/11738727/143921418-a205484d-3e94-41ed-ad2f-f9011c8f0911.png)\r\n\r\n\r\n#### Specifications\r\n\r\n  - Python Version: 3.9.7\r\n  - Moviepy Version: 1.0.3\r\n  - Platform Name: Fedora\r\n  - Platform Version: 33\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1698/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1698/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1677", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1677/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1677/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1677/events", "html_url": "https://github.com/Zulko/moviepy/issues/1677", "id": 1037709759, "node_id": "I_kwDOALfols492jG_", "number": 1677, "title": "Installation keeps on failing", "user": {"login": "gtxg16", "id": 64848274, "node_id": "MDQ6VXNlcjY0ODQ4Mjc0", "avatar_url": "https://avatars.githubusercontent.com/u/64848274?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gtxg16", "html_url": "https://github.com/gtxg16", "followers_url": "https://api.github.com/users/gtxg16/followers", "following_url": "https://api.github.com/users/gtxg16/following{/other_user}", "gists_url": "https://api.github.com/users/gtxg16/gists{/gist_id}", "starred_url": "https://api.github.com/users/gtxg16/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gtxg16/subscriptions", "organizations_url": "https://api.github.com/users/gtxg16/orgs", "repos_url": "https://api.github.com/users/gtxg16/repos", "events_url": "https://api.github.com/users/gtxg16/events{/privacy}", "received_events_url": "https://api.github.com/users/gtxg16/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 3729658835, "node_id": "LA_kwDOALfols7eThPT", "url": "https://api.github.com/repos/Zulko/moviepy/labels/lib-PIL-Pillow", "name": "lib-PIL-Pillow", "color": "d6b289", "default": false, "description": "Issues pertaining to dependency PIL (or PIL fork Pillow)."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-10-27T18:04:20Z", "updated_at": "2022-01-14T14:53:45Z", "closed_at": "2022-01-14T14:53:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\nYou can format code by putting ``` (that's 3 backticks) on a line by itself at the beginning and end of each code block. For example:\r\n\r\n```\r\nfrom moviepy import *\r\nclip = ColorClip((600, 400), color=(255, 100, 0), duration=2)\r\n```\r\n-->\r\n\r\n\r\n#### Expected Behavior\r\nFor it to install without any issue whatsoever.\r\n\r\n#### Actual Behavior\r\nIt errors out when installing pillow. See here:\r\n```\r\nibraheem@penguin:~$ pip3 install moviepy\r\nCollecting moviepy\r\nRequirement already satisfied: imageio-ffmpeg>=0.2.0; python_version >= \"3.4\" in ./.local/lib/python3.7/site-packages (from moviepy) (0.4.5)\r\nRequirement already satisfied: decorator<5.0,>=4.0.2 in ./.local/lib/python3.7/site-packages (from moviepy) (4.4.2)\r\nRequirement already satisfied: requests<3.0,>=2.8.1 in /usr/lib/python3/dist-packages (from moviepy) (2.21.0)\r\nRequirement already satisfied: numpy; python_version >= \"2.7\" in ./.local/lib/python3.7/site-packages (from moviepy) (1.21.3)\r\nCollecting imageio<3.0,>=2.5; python_version >= \"3.4\" (from moviepy)\r\n  Using cached https://files.pythonhosted.org/packages/67/e1/30c3a6f81841e3c2ca924a663317ce0624ca586fbc5b02279be30abeb867/imageio-2.10.1-py3-none-any.whl\r\nRequirement already satisfied: tqdm<5.0,>=4.11.2 in ./.local/lib/python3.7/site-packages (from moviepy) (4.62.3)\r\nRequirement already satisfied: proglog<=1.0.0 in ./.local/lib/python3.7/site-packages (from moviepy) (0.1.9)\r\nCollecting pillow>=8.3.2 (from imageio<3.0,>=2.5; python_version >= \"3.4\"->moviepy)\r\n  Using cached https://files.pythonhosted.org/packages/7d/2a/2fc11b54e2742db06297f7fa7f420a0e3069fdcf0e4b57dfec33f0b08622/Pillow-8.4.0.tar.gz\r\nBuilding wheels for collected packages: pillow\r\n  Running setup.py bdist_wheel for pillow ... error\r\n  Complete output from command /usr/bin/python3 -u -c \"import setuptools, tokenize;__file__='/tmp/pip-install-8y9yo1z6/pillow/setup.py';f=getattr(tokenize, 'open', open)(__file__);code=f.read().replace('\\r\\n', '\\n');f.close();exec(compile(code, __file__, 'exec'))\" bdist_wheel -d /tmp/pip-wheel-budhqac2 --python-tag cp37:\r\n  running bdist_wheel\r\n  running build\r\n  running build_py\r\n  creating build\r\n  creating build/lib.linux-x86_64-3.7\r\n  creating build/lib.linux-x86_64-3.7/PIL\r\n  copying src/PIL/BdfFontFile.py -> build/lib.linux-x86_64-3.7/PIL\r\n  copying src/PIL/BlpImagePlugin.py -> build/lib.linux-x86_64-3.7/PIL\r\n  copying src/PIL/BmpImagePlugin.py -> build/lib.linux-x86_64-3.7/PIL\r\n  copying src/PIL/BufrStubImagePlugin.py -> build/lib.linux-x86_64-3.7/PIL\r\n  copying src/PIL/ContainerIO.py -> build/lib.linux-x86_64-3.7/PIL\r\n  copying src/PIL/CurImagePlugin.py -> build/lib.linux-x86_64-3.7/PIL\r\n  copying src/PIL/DcxImagePlugin.py -> build/lib.linux-x86_64-3.7/PIL\r\n  copying src/PIL/DdsImagePlugin.py -> build/lib.linux-x86_64-3.7/PIL\r\n  copying src/PIL/EpsImagePlugin.py -> build/lib.linux-x86_64-3.7/PIL\r\n  copying src/PIL/ExifTags.py -> build/lib.linux-x86_64-3.7/PIL\r\n  copying src/PIL/FitsStubImagePlugin.py -> build/lib.linux-x86_64-3.7/PIL\r\n  copying src/PIL/FliImagePlugin.py -> build/lib.linux-x86_64-3.7/PIL\r\n  copying src/PIL/FontFile.py -> build/lib.linux-x86_64-3.7/PIL\r\n  copying src/PIL/FpxImagePlugin.py -> build/lib.linux-x86_64-3.7/PIL\r\n  copying src/PIL/FtexImagePlugin.py -> build/lib.linux-x86_64-3.7/PIL\r\n  copying src/PIL/GbrImagePlugin.py -> build/lib.linux-x86_64-3.7/PIL\r\n  copying src/PIL/GdImageFile.py -> build/lib.linux-x86_64-3.7/PIL\r\n  copying src/PIL/GifImagePlugin.py -> build/lib.linux-x86_64-3.7/PIL\r\n  copying src/PIL/GimpGradientFile.py -> build/lib.linux-x86_64-3.7/PIL\r\n  copying src/PIL/GimpPaletteFile.py -> build/lib.linux-x86_64-3.7/PIL\r\n  copying src/PIL/GribStubImagePlugin.py -> build/lib.linux-x86_64-3.7/PIL\r\n  copying src/PIL/Hdf5StubImagePlugin.py -> build/lib.linux-x86_64-3.7/PIL\r\n  copying src/PIL/IcnsImagePlugin.py -> build/lib.linux-x86_64-3.7/PIL\r\n  copying src/PIL/IcoImagePlugin.py -> build/lib.linux-x86_64-3.7/PIL\r\n  copying src/PIL/ImImagePlugin.py -> build/lib.linux-x86_64-3.7/PIL\r\n  copying src/PIL/Image.py -> build/lib.linux-x86_64-3.7/PIL\r\n  copying src/PIL/ImageChops.py -> build/lib.linux-x86_64-3.7/PIL\r\n  copying src/PIL/ImageCms.py -> build/lib.linux-x86_64-3.7/PIL\r\n  copying src/PIL/ImageColor.py -> build/lib.linux-x86_64-3.7/PIL\r\n  copying src/PIL/ImageDraw.py -> build/lib.linux-x86_64-3.7/PIL\r\n  copying src/PIL/ImageDraw2.py -> build/lib.linux-x86_64-3.7/PIL\r\n  copying src/PIL/ImageEnhance.py -> build/lib.linux-x86_64-3.7/PIL\r\n  copying src/PIL/ImageFile.py -> build/lib.linux-x86_64-3.7/PIL\r\n  copying src/PIL/ImageFilter.py -> build/lib.linux-x86_64-3.7/PIL\r\n  copying src/PIL/ImageFont.py -> build/lib.linux-x86_64-3.7/PIL\r\n  copying src/PIL/ImageGrab.py -> build/lib.linux-x86_64-3.7/PIL\r\n  copying src/PIL/ImageMath.py -> build/lib.linux-x86_64-3.7/PIL\r\n  copying src/PIL/ImageMode.py -> build/lib.linux-x86_64-3.7/PIL\r\n  copying src/PIL/ImageMorph.py -> build/lib.linux-x86_64-3.7/PIL\r\n  copying src/PIL/ImageOps.py -> build/lib.linux-x86_64-3.7/PIL\r\n  copying src/PIL/ImagePalette.py -> build/lib.linux-x86_64-3.7/PIL\r\n  copying src/PIL/ImagePath.py -> build/lib.linux-x86_64-3.7/PIL\r\n  copying src/PIL/ImageQt.py -> build/lib.linux-x86_64-3.7/PIL\r\n  copying src/PIL/ImageSequence.py -> build/lib.linux-x86_64-3.7/PIL\r\n  copying src/PIL/ImageShow.py -> build/lib.linux-x86_64-3.7/PIL\r\n  copying src/PIL/ImageStat.py -> build/lib.linux-x86_64-3.7/PIL\r\n  copying src/PIL/ImageTk.py -> build/lib.linux-x86_64-3.7/PIL\r\n  copying src/PIL/ImageTransform.py -> build/lib.linux-x86_64-3.7/PIL\r\n  copying src/PIL/ImageWin.py -> build/lib.linux-x86_64-3.7/PIL\r\n  copying src/PIL/ImtImagePlugin.py -> build/lib.linux-x86_64-3.7/PIL\r\n  copying src/PIL/IptcImagePlugin.py -> build/lib.linux-x86_64-3.7/PIL\r\n  copying src/PIL/Jpeg2KImagePlugin.py -> build/lib.linux-x86_64-3.7/PIL\r\n  copying src/PIL/JpegImagePlugin.py -> build/lib.linux-x86_64-3.7/PIL\r\n  copying src/PIL/JpegPresets.py -> build/lib.linux-x86_64-3.7/PIL\r\n  copying src/PIL/McIdasImagePlugin.py -> build/lib.linux-x86_64-3.7/PIL\r\n  copying src/PIL/MicImagePlugin.py -> build/lib.linux-x86_64-3.7/PIL\r\n  copying src/PIL/MpegImagePlugin.py -> build/lib.linux-x86_64-3.7/PIL\r\n  copying src/PIL/MpoImagePlugin.py -> build/lib.linux-x86_64-3.7/PIL\r\n  copying src/PIL/MspImagePlugin.py -> build/lib.linux-x86_64-3.7/PIL\r\n  copying src/PIL/PSDraw.py -> build/lib.linux-x86_64-3.7/PIL\r\n  copying src/PIL/PaletteFile.py -> build/lib.linux-x86_64-3.7/PIL\r\n  copying src/PIL/PalmImagePlugin.py -> build/lib.linux-x86_64-3.7/PIL\r\n  copying src/PIL/PcdImagePlugin.py -> build/lib.linux-x86_64-3.7/PIL\r\n  copying src/PIL/PcfFontFile.py -> build/lib.linux-x86_64-3.7/PIL\r\n  copying src/PIL/PcxImagePlugin.py -> build/lib.linux-x86_64-3.7/PIL\r\n  copying src/PIL/PdfImagePlugin.py -> build/lib.linux-x86_64-3.7/PIL\r\n  copying src/PIL/PdfParser.py -> build/lib.linux-x86_64-3.7/PIL\r\n  copying src/PIL/PixarImagePlugin.py -> build/lib.linux-x86_64-3.7/PIL\r\n  copying src/PIL/PngImagePlugin.py -> build/lib.linux-x86_64-3.7/PIL\r\n  copying src/PIL/PpmImagePlugin.py -> build/lib.linux-x86_64-3.7/PIL\r\n  copying src/PIL/PsdImagePlugin.py -> build/lib.linux-x86_64-3.7/PIL\r\n  copying src/PIL/PyAccess.py -> build/lib.linux-x86_64-3.7/PIL\r\n  copying src/PIL/SgiImagePlugin.py -> build/lib.linux-x86_64-3.7/PIL\r\n  copying src/PIL/SpiderImagePlugin.py -> build/lib.linux-x86_64-3.7/PIL\r\n  copying src/PIL/SunImagePlugin.py -> build/lib.linux-x86_64-3.7/PIL\r\n  copying src/PIL/TarIO.py -> build/lib.linux-x86_64-3.7/PIL\r\n  copying src/PIL/TgaImagePlugin.py -> build/lib.linux-x86_64-3.7/PIL\r\n  copying src/PIL/TiffImagePlugin.py -> build/lib.linux-x86_64-3.7/PIL\r\n  copying src/PIL/TiffTags.py -> build/lib.linux-x86_64-3.7/PIL\r\n  copying src/PIL/WalImageFile.py -> build/lib.linux-x86_64-3.7/PIL\r\n  copying src/PIL/WebPImagePlugin.py -> build/lib.linux-x86_64-3.7/PIL\r\n  copying src/PIL/WmfImagePlugin.py -> build/lib.linux-x86_64-3.7/PIL\r\n  copying src/PIL/XVThumbImagePlugin.py -> build/lib.linux-x86_64-3.7/PIL\r\n  copying src/PIL/XbmImagePlugin.py -> build/lib.linux-x86_64-3.7/PIL\r\n  copying src/PIL/XpmImagePlugin.py -> build/lib.linux-x86_64-3.7/PIL\r\n  copying src/PIL/__init__.py -> build/lib.linux-x86_64-3.7/PIL\r\n  copying src/PIL/__main__.py -> build/lib.linux-x86_64-3.7/PIL\r\n  copying src/PIL/_binary.py -> build/lib.linux-x86_64-3.7/PIL\r\n  copying src/PIL/_tkinter_finder.py -> build/lib.linux-x86_64-3.7/PIL\r\n  copying src/PIL/_util.py -> build/lib.linux-x86_64-3.7/PIL\r\n  copying src/PIL/_version.py -> build/lib.linux-x86_64-3.7/PIL\r\n  copying src/PIL/features.py -> build/lib.linux-x86_64-3.7/PIL\r\n  running egg_info\r\n  writing src/Pillow.egg-info/PKG-INFO\r\n  writing dependency_links to src/Pillow.egg-info/dependency_links.txt\r\n  writing top-level names to src/Pillow.egg-info/top_level.txt\r\n  reading manifest file 'src/Pillow.egg-info/SOURCES.txt'\r\n  reading manifest template 'MANIFEST.in'\r\n  warning: no files found matching '*.c'\r\n  warning: no files found matching '*.h'\r\n  warning: no files found matching '*.sh'\r\n  warning: no previously-included files found matching '.appveyor.yml'\r\n  warning: no previously-included files found matching '.clang-format'\r\n  warning: no previously-included files found matching '.coveragerc'\r\n  warning: no previously-included files found matching '.editorconfig'\r\n  warning: no previously-included files found matching '.readthedocs.yml'\r\n  warning: no previously-included files found matching 'codecov.yml'\r\n  warning: no previously-included files matching '.git*' found anywhere in distribution\r\n  warning: no previously-included files matching '*.pyc' found anywhere in distribution\r\n  warning: no previously-included files matching '*.so' found anywhere in distribution\r\n  no previously-included directories found matching '.ci'\r\n  writing manifest file 'src/Pillow.egg-info/SOURCES.txt'\r\n  running build_ext\r\n  \r\n  \r\n  The headers or library files could not be found for zlib,\r\n  a required dependency when compiling Pillow from source.\r\n  \r\n  Please see the install instructions at:\r\n     https://pillow.readthedocs.io/en/latest/installation.html\r\n  \r\n  Traceback (most recent call last):\r\n    File \"/tmp/pip-install-8y9yo1z6/pillow/setup.py\", line 1024, in <module>\r\n      zip_safe=not (debug_build() or PLATFORM_MINGW),\r\n    File \"/usr/lib/python3/dist-packages/setuptools/__init__.py\", line 145, in setup\r\n      return distutils.core.setup(**attrs)\r\n    File \"/usr/lib/python3.7/distutils/core.py\", line 148, in setup\r\n      dist.run_commands()\r\n    File \"/usr/lib/python3.7/distutils/dist.py\", line 966, in run_commands\r\n      self.run_command(cmd)\r\n    File \"/usr/lib/python3.7/distutils/dist.py\", line 985, in run_command\r\n      cmd_obj.run()\r\n    File \"/usr/lib/python3/dist-packages/wheel/bdist_wheel.py\", line 188, in run\r\n      self.run_command('build')\r\n    File \"/usr/lib/python3.7/distutils/cmd.py\", line 313, in run_command\r\n      self.distribution.run_command(command)\r\n    File \"/usr/lib/python3.7/distutils/dist.py\", line 985, in run_command\r\n      cmd_obj.run()\r\n    File \"/usr/lib/python3.7/distutils/command/build.py\", line 135, in run\r\n      self.run_command(cmd_name)\r\n    File \"/usr/lib/python3.7/distutils/cmd.py\", line 313, in run_command\r\n      self.distribution.run_command(command)\r\n    File \"/usr/lib/python3.7/distutils/dist.py\", line 985, in run_command\r\n      cmd_obj.run()\r\n    File \"/usr/lib/python3/dist-packages/setuptools/command/build_ext.py\", line 78, in run\r\n      _build_ext.run(self)\r\n    File \"/usr/lib/python3.7/distutils/command/build_ext.py\", line 340, in run\r\n      self.build_extensions()\r\n    File \"/tmp/pip-install-8y9yo1z6/pillow/setup.py\", line 790, in build_extensions\r\n      raise RequiredDependencyException(f)\r\n  __main__.RequiredDependencyException: zlib\r\n  \r\n  During handling of the above exception, another exception occurred:\r\n  \r\n  Traceback (most recent call last):\r\n    File \"<string>\", line 1, in <module>\r\n    File \"/tmp/pip-install-8y9yo1z6/pillow/setup.py\", line 1037, in <module>\r\n      raise RequiredDependencyException(msg)\r\n  __main__.RequiredDependencyException:\r\n  \r\n  The headers or library files could not be found for zlib,\r\n  a required dependency when compiling Pillow from source.\r\n  \r\n  Please see the install instructions at:\r\n     https://pillow.readthedocs.io/en/latest/installation.html\r\n  \r\n  \r\n  \r\n  ----------------------------------------\r\n  Failed building wheel for pillow\r\n  Running setup.py clean for pillow\r\nFailed to build pillow\r\nInstalling collected packages: pillow, imageio, moviepy\r\n  Running setup.py install for pillow ... error\r\n    Complete output from command /usr/bin/python3 -u -c \"import setuptools, tokenize;__file__='/tmp/pip-install-8y9yo1z6/pillow/setup.py';f=getattr(tokenize, 'open', open)(__file__);code=f.read().replace('\\r\\n', '\\n');f.close();exec(compile(code, __file__, 'exec'))\" install --record /tmp/pip-record-a0bjn04r/install-record.txt --single-version-externally-managed --compile --user --prefix=:\r\n    running install\r\n    running build\r\n    running build_py\r\n    creating build\r\n    creating build/lib.linux-x86_64-3.7\r\n    creating build/lib.linux-x86_64-3.7/PIL\r\n    copying src/PIL/BdfFontFile.py -> build/lib.linux-x86_64-3.7/PIL\r\n    copying src/PIL/BlpImagePlugin.py -> build/lib.linux-x86_64-3.7/PIL\r\n    copying src/PIL/BmpImagePlugin.py -> build/lib.linux-x86_64-3.7/PIL\r\n    copying src/PIL/BufrStubImagePlugin.py -> build/lib.linux-x86_64-3.7/PIL\r\n    copying src/PIL/ContainerIO.py -> build/lib.linux-x86_64-3.7/PIL\r\n    copying src/PIL/CurImagePlugin.py -> build/lib.linux-x86_64-3.7/PIL\r\n    copying src/PIL/DcxImagePlugin.py -> build/lib.linux-x86_64-3.7/PIL\r\n    copying src/PIL/DdsImagePlugin.py -> build/lib.linux-x86_64-3.7/PIL\r\n    copying src/PIL/EpsImagePlugin.py -> build/lib.linux-x86_64-3.7/PIL\r\n    copying src/PIL/ExifTags.py -> build/lib.linux-x86_64-3.7/PIL\r\n    copying src/PIL/FitsStubImagePlugin.py -> build/lib.linux-x86_64-3.7/PIL\r\n    copying src/PIL/FliImagePlugin.py -> build/lib.linux-x86_64-3.7/PIL\r\n    copying src/PIL/FontFile.py -> build/lib.linux-x86_64-3.7/PIL\r\n    copying src/PIL/FpxImagePlugin.py -> build/lib.linux-x86_64-3.7/PIL\r\n    copying src/PIL/FtexImagePlugin.py -> build/lib.linux-x86_64-3.7/PIL\r\n    copying src/PIL/GbrImagePlugin.py -> build/lib.linux-x86_64-3.7/PIL\r\n    copying src/PIL/GdImageFile.py -> build/lib.linux-x86_64-3.7/PIL\r\n    copying src/PIL/GifImagePlugin.py -> build/lib.linux-x86_64-3.7/PIL\r\n    copying src/PIL/GimpGradientFile.py -> build/lib.linux-x86_64-3.7/PIL\r\n    copying src/PIL/GimpPaletteFile.py -> build/lib.linux-x86_64-3.7/PIL\r\n    copying src/PIL/GribStubImagePlugin.py -> build/lib.linux-x86_64-3.7/PIL\r\n    copying src/PIL/Hdf5StubImagePlugin.py -> build/lib.linux-x86_64-3.7/PIL\r\n    copying src/PIL/IcnsImagePlugin.py -> build/lib.linux-x86_64-3.7/PIL\r\n    copying src/PIL/IcoImagePlugin.py -> build/lib.linux-x86_64-3.7/PIL\r\n    copying src/PIL/ImImagePlugin.py -> build/lib.linux-x86_64-3.7/PIL\r\n    copying src/PIL/Image.py -> build/lib.linux-x86_64-3.7/PIL\r\n    copying src/PIL/ImageChops.py -> build/lib.linux-x86_64-3.7/PIL\r\n    copying src/PIL/ImageCms.py -> build/lib.linux-x86_64-3.7/PIL\r\n    copying src/PIL/ImageColor.py -> build/lib.linux-x86_64-3.7/PIL\r\n    copying src/PIL/ImageDraw.py -> build/lib.linux-x86_64-3.7/PIL\r\n    copying src/PIL/ImageDraw2.py -> build/lib.linux-x86_64-3.7/PIL\r\n    copying src/PIL/ImageEnhance.py -> build/lib.linux-x86_64-3.7/PIL\r\n    copying src/PIL/ImageFile.py -> build/lib.linux-x86_64-3.7/PIL\r\n    copying src/PIL/ImageFilter.py -> build/lib.linux-x86_64-3.7/PIL\r\n    copying src/PIL/ImageFont.py -> build/lib.linux-x86_64-3.7/PIL\r\n    copying src/PIL/ImageGrab.py -> build/lib.linux-x86_64-3.7/PIL\r\n    copying src/PIL/ImageMath.py -> build/lib.linux-x86_64-3.7/PIL\r\n    copying src/PIL/ImageMode.py -> build/lib.linux-x86_64-3.7/PIL\r\n    copying src/PIL/ImageMorph.py -> build/lib.linux-x86_64-3.7/PIL\r\n    copying src/PIL/ImageOps.py -> build/lib.linux-x86_64-3.7/PIL\r\n    copying src/PIL/ImagePalette.py -> build/lib.linux-x86_64-3.7/PIL\r\n    copying src/PIL/ImagePath.py -> build/lib.linux-x86_64-3.7/PIL\r\n    copying src/PIL/ImageQt.py -> build/lib.linux-x86_64-3.7/PIL\r\n    copying src/PIL/ImageSequence.py -> build/lib.linux-x86_64-3.7/PIL\r\n    copying src/PIL/ImageShow.py -> build/lib.linux-x86_64-3.7/PIL\r\n    copying src/PIL/ImageStat.py -> build/lib.linux-x86_64-3.7/PIL\r\n    copying src/PIL/ImageTk.py -> build/lib.linux-x86_64-3.7/PIL\r\n    copying src/PIL/ImageTransform.py -> build/lib.linux-x86_64-3.7/PIL\r\n    copying src/PIL/ImageWin.py -> build/lib.linux-x86_64-3.7/PIL\r\n    copying src/PIL/ImtImagePlugin.py -> build/lib.linux-x86_64-3.7/PIL\r\n    copying src/PIL/IptcImagePlugin.py -> build/lib.linux-x86_64-3.7/PIL\r\n    copying src/PIL/Jpeg2KImagePlugin.py -> build/lib.linux-x86_64-3.7/PIL\r\n    copying src/PIL/JpegImagePlugin.py -> build/lib.linux-x86_64-3.7/PIL\r\n    copying src/PIL/JpegPresets.py -> build/lib.linux-x86_64-3.7/PIL\r\n    copying src/PIL/McIdasImagePlugin.py -> build/lib.linux-x86_64-3.7/PIL\r\n    copying src/PIL/MicImagePlugin.py -> build/lib.linux-x86_64-3.7/PIL\r\n    copying src/PIL/MpegImagePlugin.py -> build/lib.linux-x86_64-3.7/PIL\r\n    copying src/PIL/MpoImagePlugin.py -> build/lib.linux-x86_64-3.7/PIL\r\n    copying src/PIL/MspImagePlugin.py -> build/lib.linux-x86_64-3.7/PIL\r\n    copying src/PIL/PSDraw.py -> build/lib.linux-x86_64-3.7/PIL\r\n    copying src/PIL/PaletteFile.py -> build/lib.linux-x86_64-3.7/PIL\r\n    copying src/PIL/PalmImagePlugin.py -> build/lib.linux-x86_64-3.7/PIL\r\n    copying src/PIL/PcdImagePlugin.py -> build/lib.linux-x86_64-3.7/PIL\r\n    copying src/PIL/PcfFontFile.py -> build/lib.linux-x86_64-3.7/PIL\r\n    copying src/PIL/PcxImagePlugin.py -> build/lib.linux-x86_64-3.7/PIL\r\n    copying src/PIL/PdfImagePlugin.py -> build/lib.linux-x86_64-3.7/PIL\r\n    copying src/PIL/PdfParser.py -> build/lib.linux-x86_64-3.7/PIL\r\n    copying src/PIL/PixarImagePlugin.py -> build/lib.linux-x86_64-3.7/PIL\r\n    copying src/PIL/PngImagePlugin.py -> build/lib.linux-x86_64-3.7/PIL\r\n    copying src/PIL/PpmImagePlugin.py -> build/lib.linux-x86_64-3.7/PIL\r\n    copying src/PIL/PsdImagePlugin.py -> build/lib.linux-x86_64-3.7/PIL\r\n    copying src/PIL/PyAccess.py -> build/lib.linux-x86_64-3.7/PIL\r\n    copying src/PIL/SgiImagePlugin.py -> build/lib.linux-x86_64-3.7/PIL\r\n    copying src/PIL/SpiderImagePlugin.py -> build/lib.linux-x86_64-3.7/PIL\r\n    copying src/PIL/SunImagePlugin.py -> build/lib.linux-x86_64-3.7/PIL\r\n    copying src/PIL/TarIO.py -> build/lib.linux-x86_64-3.7/PIL\r\n    copying src/PIL/TgaImagePlugin.py -> build/lib.linux-x86_64-3.7/PIL\r\n    copying src/PIL/TiffImagePlugin.py -> build/lib.linux-x86_64-3.7/PIL\r\n    copying src/PIL/TiffTags.py -> build/lib.linux-x86_64-3.7/PIL\r\n    copying src/PIL/WalImageFile.py -> build/lib.linux-x86_64-3.7/PIL\r\n    copying src/PIL/WebPImagePlugin.py -> build/lib.linux-x86_64-3.7/PIL\r\n    copying src/PIL/WmfImagePlugin.py -> build/lib.linux-x86_64-3.7/PIL\r\n    copying src/PIL/XVThumbImagePlugin.py -> build/lib.linux-x86_64-3.7/PIL\r\n    copying src/PIL/XbmImagePlugin.py -> build/lib.linux-x86_64-3.7/PIL\r\n    copying src/PIL/XpmImagePlugin.py -> build/lib.linux-x86_64-3.7/PIL\r\n    copying src/PIL/__init__.py -> build/lib.linux-x86_64-3.7/PIL\r\n    copying src/PIL/__main__.py -> build/lib.linux-x86_64-3.7/PIL\r\n    copying src/PIL/_binary.py -> build/lib.linux-x86_64-3.7/PIL\r\n    copying src/PIL/_tkinter_finder.py -> build/lib.linux-x86_64-3.7/PIL\r\n    copying src/PIL/_util.py -> build/lib.linux-x86_64-3.7/PIL\r\n    copying src/PIL/_version.py -> build/lib.linux-x86_64-3.7/PIL\r\n    copying src/PIL/features.py -> build/lib.linux-x86_64-3.7/PIL\r\n    running egg_info\r\n    writing src/Pillow.egg-info/PKG-INFO\r\n    writing dependency_links to src/Pillow.egg-info/dependency_links.txt\r\n    writing top-level names to src/Pillow.egg-info/top_level.txt\r\n    reading manifest file 'src/Pillow.egg-info/SOURCES.txt'\r\n    reading manifest template 'MANIFEST.in'\r\n    warning: no files found matching '*.c'\r\n    warning: no files found matching '*.h'\r\n    warning: no files found matching '*.sh'\r\n    warning: no previously-included files found matching '.appveyor.yml'\r\n    warning: no previously-included files found matching '.clang-format'\r\n    warning: no previously-included files found matching '.coveragerc'\r\n    warning: no previously-included files found matching '.editorconfig'\r\n    warning: no previously-included files found matching '.readthedocs.yml'\r\n    warning: no previously-included files found matching 'codecov.yml'\r\n    warning: no previously-included files matching '.git*' found anywhere in distribution\r\n    warning: no previously-included files matching '*.pyc' found anywhere in distribution\r\n    warning: no previously-included files matching '*.so' found anywhere in distribution\r\n    no previously-included directories found matching '.ci'\r\n    writing manifest file 'src/Pillow.egg-info/SOURCES.txt'\r\n    running build_ext\r\n    \r\n    \r\n    The headers or library files could not be found for zlib,\r\n    a required dependency when compiling Pillow from source.\r\n    \r\n    Please see the install instructions at:\r\n       https://pillow.readthedocs.io/en/latest/installation.html\r\n    \r\n    Traceback (most recent call last):\r\n      File \"/tmp/pip-install-8y9yo1z6/pillow/setup.py\", line 1024, in <module>\r\n        zip_safe=not (debug_build() or PLATFORM_MINGW),\r\n      File \"/usr/lib/python3/dist-packages/setuptools/__init__.py\", line 145, in setup\r\n        return distutils.core.setup(**attrs)\r\n      File \"/usr/lib/python3.7/distutils/core.py\", line 148, in setup\r\n        dist.run_commands()\r\n      File \"/usr/lib/python3.7/distutils/dist.py\", line 966, in run_commands\r\n        self.run_command(cmd)\r\n      File \"/usr/lib/python3.7/distutils/dist.py\", line 985, in run_command\r\n        cmd_obj.run()\r\n      File \"/usr/lib/python3/dist-packages/setuptools/command/install.py\", line 61, in run\r\n        return orig.install.run(self)\r\n      File \"/usr/lib/python3.7/distutils/command/install.py\", line 589, in run\r\n        self.run_command('build')\r\n      File \"/usr/lib/python3.7/distutils/cmd.py\", line 313, in run_command\r\n        self.distribution.run_command(command)\r\n      File \"/usr/lib/python3.7/distutils/dist.py\", line 985, in run_command\r\n        cmd_obj.run()\r\n      File \"/usr/lib/python3.7/distutils/command/build.py\", line 135, in run\r\n        self.run_command(cmd_name)\r\n      File \"/usr/lib/python3.7/distutils/cmd.py\", line 313, in run_command\r\n        self.distribution.run_command(command)\r\n      File \"/usr/lib/python3.7/distutils/dist.py\", line 985, in run_command\r\n        cmd_obj.run()\r\n      File \"/usr/lib/python3/dist-packages/setuptools/command/build_ext.py\", line 78, in run\r\n        _build_ext.run(self)\r\n      File \"/usr/lib/python3.7/distutils/command/build_ext.py\", line 340, in run\r\n        self.build_extensions()\r\n      File \"/tmp/pip-install-8y9yo1z6/pillow/setup.py\", line 790, in build_extensions\r\n        raise RequiredDependencyException(f)\r\n    __main__.RequiredDependencyException: zlib\r\n    \r\n    During handling of the above exception, another exception occurred:\r\n    \r\n    Traceback (most recent call last):\r\n      File \"<string>\", line 1, in <module>\r\n      File \"/tmp/pip-install-8y9yo1z6/pillow/setup.py\", line 1037, in <module>\r\n        raise RequiredDependencyException(msg)\r\n    __main__.RequiredDependencyException:\r\n    \r\n    The headers or library files could not be found for zlib,\r\n    a required dependency when compiling Pillow from source.\r\n    \r\n    Please see the install instructions at:\r\n       https://pillow.readthedocs.io/en/latest/installation.html\r\n    \r\n    \r\n    \r\n    ----------------------------------------\r\nCommand \"/usr/bin/python3 -u -c \"import setuptools, tokenize;__file__='/tmp/pip-install-8y9yo1z6/pillow/setup.py';f=getattr(tokenize, 'open', open)(__file__);code=f.read().replace('\\r\\n', '\\n');f.close();exec(compile(code, __file__, 'exec'))\" install --record /tmp/pip-record-a0bjn04r/install-record.txt --single-version-externally-managed --compile --user --prefix=\" failed with error code 1 in /tmp/pip-install-8y9yo1z6/pillow/\r\n```\r\n\r\n#### Steps to Reproduce the Problem\r\n<!-- Please include code that demonstrates this problem so that we can reproduce it. For advice on how to do this, see https://stackoverflow.com/help/mcve -->\r\nBy installing it I guess?\r\n\r\n#### Specifications\r\n\r\n  - Python Version: 3.7.3\r\n  - Moviepy Version: Latest\r\n  - Platform Name: pip\r\n  - Platform Version: 18.1\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1677/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1677/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1669", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1669/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1669/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1669/events", "html_url": "https://github.com/Zulko/moviepy/issues/1669", "id": 1016286787, "node_id": "I_kwDOALfols48k05D", "number": 1669, "title": "Facing issue while converting Video file to audio .", "user": {"login": "sandeshchand", "id": 13101848, "node_id": "MDQ6VXNlcjEzMTAxODQ4", "avatar_url": "https://avatars.githubusercontent.com/u/13101848?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sandeshchand", "html_url": "https://github.com/sandeshchand", "followers_url": "https://api.github.com/users/sandeshchand/followers", "following_url": "https://api.github.com/users/sandeshchand/following{/other_user}", "gists_url": "https://api.github.com/users/sandeshchand/gists{/gist_id}", "starred_url": "https://api.github.com/users/sandeshchand/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sandeshchand/subscriptions", "organizations_url": "https://api.github.com/users/sandeshchand/orgs", "repos_url": "https://api.github.com/users/sandeshchand/repos", "events_url": "https://api.github.com/users/sandeshchand/events{/privacy}", "received_events_url": "https://api.github.com/users/sandeshchand/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 583252675, "node_id": "MDU6TGFiZWw1ODMyNTI2NzU=", "url": "https://api.github.com/repos/Zulko/moviepy/labels/video", "name": "video", "color": "bfd4f2", "default": false, "description": "Related to VideoClip and related classes, or handling of video in general."}, {"id": 583252697, "node_id": "MDU6TGFiZWw1ODMyNTI2OTc=", "url": "https://api.github.com/repos/Zulko/moviepy/labels/audio", "name": "audio", "color": "bfd4f2", "default": false, "description": "Related to AudioClip, or handling of audio in general."}, {"id": 1866683148, "node_id": "MDU6TGFiZWwxODY2NjgzMTQ4", "url": "https://api.github.com/repos/Zulko/moviepy/labels/lib-FFmpeg", "name": "lib-FFmpeg", "color": "d6b289", "default": false, "description": "Issues pertaining to dependency FFmpeg."}, {"id": 2411349218, "node_id": "MDU6TGFiZWwyNDExMzQ5MjE4", "url": "https://api.github.com/repos/Zulko/moviepy/labels/environment", "name": "environment", "color": "faf9f7", "default": false, "description": "Using moviepy with, or issues possibly stemming from specific OS/platforms/environments."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-10-05T12:48:48Z", "updated_at": "2022-01-16T21:05:58Z", "closed_at": "2022-01-16T21:05:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am facing error while converting  video file to audio files. The video file has beed chunked into many small video files and then it is converted to audio files.But, while my program wants to read from the last audio file which is audioless, the program throw the below error:\r\n\r\nOSError: MoviePy error: failed to read the first frame of video file video.mp4. That might mean that the file is corrupted. That may also mean that you are using a deprecated version of FFMPEG. On Ubuntu/Debian for instance the version in the repos is deprecated. Please update to a recent version from the website.\r\nHow can i solve this error.", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1669/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1669/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1665", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1665/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1665/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1665/events", "html_url": "https://github.com/Zulko/moviepy/issues/1665", "id": 1014129647, "node_id": "I_kwDOALfols48cmPv", "number": 1665, "title": "video stuck and audio repeats", "user": {"login": "donno2048", "id": 61805754, "node_id": "MDQ6VXNlcjYxODA1NzU0", "avatar_url": "https://avatars.githubusercontent.com/u/61805754?v=4", "gravatar_id": "", "url": "https://api.github.com/users/donno2048", "html_url": "https://github.com/donno2048", "followers_url": "https://api.github.com/users/donno2048/followers", "following_url": "https://api.github.com/users/donno2048/following{/other_user}", "gists_url": "https://api.github.com/users/donno2048/gists{/gist_id}", "starred_url": "https://api.github.com/users/donno2048/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/donno2048/subscriptions", "organizations_url": "https://api.github.com/users/donno2048/orgs", "repos_url": "https://api.github.com/users/donno2048/repos", "events_url": "https://api.github.com/users/donno2048/events{/privacy}", "received_events_url": "https://api.github.com/users/donno2048/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 583252675, "node_id": "MDU6TGFiZWw1ODMyNTI2NzU=", "url": "https://api.github.com/repos/Zulko/moviepy/labels/video", "name": "video", "color": "bfd4f2", "default": false, "description": "Related to VideoClip and related classes, or handling of video in general."}, {"id": 583252697, "node_id": "MDU6TGFiZWw1ODMyNTI2OTc=", "url": "https://api.github.com/repos/Zulko/moviepy/labels/audio", "name": "audio", "color": "bfd4f2", "default": false, "description": "Related to AudioClip, or handling of audio in general."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-10-02T18:16:54Z", "updated_at": "2021-11-30T19:27:47Z", "closed_at": "2021-11-30T19:27:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "I created this script to download YouTube videos for me\r\n\r\n```py\r\nfrom seleniumwire.webdriver import Firefox\r\nfrom selenium.webdriver.firefox.webdriver import Options\r\nfrom moviepy.editor import VideoFileClip, AudioFileClip\r\nfirefox_options = Options()\r\nfirefox_options.set_headless()\r\ndef download(id, outname='output.mp4', fps=60):\r\n    driver = Firefox(options=firefox_options) # needed\r\n    driver.get('https://www.youtube.com/watch?v=%s' % id)\r\n    vid, aud = list(filter(lambda req: '---' in req and 'generate' not in req, map(lambda req: req.url, driver.requests)))[:2]\r\n    VideoFileClip(vid).set_audio(AudioFileClip(aud)).write_videofile(outname,fps=fps)\r\n\r\n```\r\nBut the video just breaks at some point, from which the audio just repeats any idea why? (Might be because the next chunk from the URL is not being sent)", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1665/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1665/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1651", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1651/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1651/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1651/events", "html_url": "https://github.com/Zulko/moviepy/issues/1651", "id": 985162297, "node_id": "MDU6SXNzdWU5ODUxNjIyOTc=", "number": 1651, "title": "Tests don't run", "user": {"login": "pingvinton", "id": 68642472, "node_id": "MDQ6VXNlcjY4NjQyNDcy", "avatar_url": "https://avatars.githubusercontent.com/u/68642472?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pingvinton", "html_url": "https://github.com/pingvinton", "followers_url": "https://api.github.com/users/pingvinton/followers", "following_url": "https://api.github.com/users/pingvinton/following{/other_user}", "gists_url": "https://api.github.com/users/pingvinton/gists{/gist_id}", "starred_url": "https://api.github.com/users/pingvinton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pingvinton/subscriptions", "organizations_url": "https://api.github.com/users/pingvinton/orgs", "repos_url": "https://api.github.com/users/pingvinton/repos", "events_url": "https://api.github.com/users/pingvinton/events{/privacy}", "received_events_url": "https://api.github.com/users/pingvinton/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-09-01T13:34:52Z", "updated_at": "2021-09-01T14:04:30Z", "closed_at": "2021-09-01T14:04:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "After build docker container I try run tests with this command:\r\ncd tests && python test_issues.py but get error that media files don't found\r\n<img width=\"2061\" alt=\"image\" src=\"https://user-images.githubusercontent.com/68642472/131680481-e6c787ca-ec49-426a-b101-c919a4955740.png\">\r\n\r\nCatalog media with files are presented.\r\n\r\nThanks", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1651/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1651/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1647", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1647/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1647/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1647/events", "html_url": "https://github.com/Zulko/moviepy/issues/1647", "id": 976103395, "node_id": "MDU6SXNzdWU5NzYxMDMzOTU=", "number": 1647, "title": "Moviepy on centos server generates the video but the texts aren't visible. ", "user": {"login": "thankblitz", "id": 73340665, "node_id": "MDQ6VXNlcjczMzQwNjY1", "avatar_url": "https://avatars.githubusercontent.com/u/73340665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thankblitz", "html_url": "https://github.com/thankblitz", "followers_url": "https://api.github.com/users/thankblitz/followers", "following_url": "https://api.github.com/users/thankblitz/following{/other_user}", "gists_url": "https://api.github.com/users/thankblitz/gists{/gist_id}", "starred_url": "https://api.github.com/users/thankblitz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thankblitz/subscriptions", "organizations_url": "https://api.github.com/users/thankblitz/orgs", "repos_url": "https://api.github.com/users/thankblitz/repos", "events_url": "https://api.github.com/users/thankblitz/events{/privacy}", "received_events_url": "https://api.github.com/users/thankblitz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 1866735520, "node_id": "MDU6TGFiZWwxODY2NzM1NTIw", "url": "https://api.github.com/repos/Zulko/moviepy/labels/lib-ImageMagick", "name": "lib-ImageMagick", "color": "d6b289", "default": false, "description": "Issues pertaining to dependency ImageMagick."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2021-08-21T10:19:21Z", "updated_at": "2021-10-24T21:56:31Z", "closed_at": "2021-08-23T14:09:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\nYou can format code by putting ``` (that's 3 backticks) on a line by itself at the beginning and end of each code block. For example:\r\n\r\n```\r\nfrom moviepy import *\r\nclip = ColorClip((600, 400), color=(255, 100, 0), duration=2)\r\n```\r\n-->\r\n\r\n\r\n#### Expected Behavior\r\n\r\nThe code mentioned the **steps to reproduce** section works fine on my macbook and generates the video as expected. Whereas when I run the same code on a centos7 server, while the movie is getting generated the text portion isn't visible at all. It is displayed as white dots as you can see in the attachment. [](url)\r\n\r\n#### Actual Behavior\r\nThe code works on centos7 server and generates the mp4 file but the texts aren't rendered as can be seen in the screenshot below\r\n![moviepy-not-working-screenshot](https://user-images.githubusercontent.com/73340665/130318707-b504e7d2-ad55-4037-a2c0-e72fc8a54190.jpg)\r\n\r\n\r\n#### Steps to Reproduce the Problem\r\nRun the code below with the following testinput. You might need any background image and audio file in a res folder.\r\n\r\n```\r\ntestInput = [\r\n    {\r\n    #\"imageURL\" : \"res/testImage1.jpg\",\r\n    \"greeting\" : {\r\n        \"from\" : \"Anna\",\r\n        \"to\" : \"Alex\",\r\n        \"message\" : \"test message 1\"\r\n        }\r\n    }]\r\n\r\ndef generateVideo(clipConfigurations):\r\n    clips = []\r\n    for clipConfig in clipConfigurations:\r\n        clip = generateClip(clipConfig)\r\n        if clip != None:\r\n            clips.append(clip)\r\n\r\n    output = concatenate_videoclips(clips, method=\"compose\")\r\n\r\n    audio = AudioFileClip(\"res/audio.mp3\")\r\n\r\n    output.audio = audio\r\n    output = output.set_duration(5 * len(clips))\r\n\r\n    output.write_videofile(\"output.mp4\", audio_codec=\"aac\", fps=24)\r\n\r\n    return None\r\n\r\n\r\n\"\"\"\r\n    Generate a single clip containing one greeting card and message\r\n\"\"\"\r\ndef generateClip(clipConfiguration):\r\n    if (clipConfigurationCorrect(clipConfiguration)):\r\n        imageURL = clipConfiguration.get(\"imageUrl\")\r\n\r\n        image = ImageClip(imageURL)\r\n        image = image.set_duration(5)\r\n\r\n        image = image.resize(height=600, width=600)\r\n        image = image.set_position((50, \"center\"))\r\n\r\n        fromText = TextClip(\"From: \" + clipConfiguration.get(\"from\"), fontsize=70, color=\"white\")\r\n        fromText = fromText.set_position((800, 320))\r\n        fromText = fromText.set_duration(5)\r\n\r\n        toText = TextClip(\"To: \" + clipConfiguration.get(\"to\"), fontsize=70, color=\"white\")\r\n        toText = toText.set_position((800, 390))\r\n        toText = toText.set_duration(5)\r\n\r\n        message = TextClip(clipConfiguration.get(\"message\"), fontsize=70, color=\"white\", method=\"caption\", align=\"West\", size=(1000, None))\r\n        message = message.set_position((800, 610))\r\n        message = message.set_duration(5)\r\n\r\n        backgroundImage = ImageClip(\"res/background.png\")\r\n        backgroundImage = backgroundImage.set_duration(5)\r\n\r\n        return CompositeVideoClip([backgroundImage, image, fromText, toText, message])\r\n\r\n    return None\r\n\r\n\r\n\r\ndef clipConfigurationCorrect(input):\r\n    keysToCheck = [\"imageUrl\",\"from\", \"to\", \"message\"]\r\n    hasError = False\r\n    for key in keysToCheck:\r\n        if key in input:\r\n            print(\"key: \" + \"'\" + key + \"'\" + \"exists\")\r\n        else:\r\n            print(\"key: \" + \"'\" + key + \"'\" + \" does not exist in input dictionary\")\r\n            hasError = True\r\n\r\n    if hasError:\r\n        print(\"====input=====\")\r\n        print(input)\r\n        return False\r\n\r\n    return True\r\n\r\ngenerateVideo(testInput)\r\n\r\n```\r\n\r\n#### Specifications\r\n\r\n  - Python Version: Python 3.6.8\r\n  - Moviepy Version: moviepy==1.0.3\r\n  - Platform Name: Centos7\r\n  - Platform Version:\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1647/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1647/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1638", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1638/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1638/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1638/events", "html_url": "https://github.com/Zulko/moviepy/issues/1638", "id": 967318184, "node_id": "MDU6SXNzdWU5NjczMTgxODQ=", "number": 1638, "title": "ffmpeg_extract_subclip is changing framerate eventually", "user": {"login": "dennymarcels", "id": 12802916, "node_id": "MDQ6VXNlcjEyODAyOTE2", "avatar_url": "https://avatars.githubusercontent.com/u/12802916?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dennymarcels", "html_url": "https://github.com/dennymarcels", "followers_url": "https://api.github.com/users/dennymarcels/followers", "following_url": "https://api.github.com/users/dennymarcels/following{/other_user}", "gists_url": "https://api.github.com/users/dennymarcels/gists{/gist_id}", "starred_url": "https://api.github.com/users/dennymarcels/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dennymarcels/subscriptions", "organizations_url": "https://api.github.com/users/dennymarcels/orgs", "repos_url": "https://api.github.com/users/dennymarcels/repos", "events_url": "https://api.github.com/users/dennymarcels/events{/privacy}", "received_events_url": "https://api.github.com/users/dennymarcels/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 1866683148, "node_id": "MDU6TGFiZWwxODY2NjgzMTQ4", "url": "https://api.github.com/repos/Zulko/moviepy/labels/lib-FFmpeg", "name": "lib-FFmpeg", "color": "d6b289", "default": false, "description": "Issues pertaining to dependency FFmpeg."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-08-11T19:30:29Z", "updated_at": "2022-10-11T00:41:03Z", "closed_at": "2022-10-11T00:41:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am processing lots of videos where I have to extract and view subclips with function `ffmpeg_extract_subclip`, where the only parameters I feed are starting time and ending time. All videos were recorded in the same conditions (same hardware and software, therefore some file extensions, codecs etc etc). Most clips are fine, nonetheless some clips have a higher frame rate from the original file, which is 30 fps. As a result, some clips are played accelerated and others don't even render (html). I could not find out what might be causing this. Is this a known issue?\r\n\r\n\r\n#### Expected Behavior\r\nAll clips should have same fps as original video.\r\n\r\n#### Actual Behavior\r\nSome clips have a higher frame rate.\r\n\r\n#### Specifications\r\n\r\n  - Python Version: 3.7\r\n  - Moviepy Version: 0.2.3.5\r\n  - Platform Name: Google Colab\r\n  - Platform Version: N/A\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1638/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1638/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1629", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1629/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1629/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1629/events", "html_url": "https://github.com/Zulko/moviepy/issues/1629", "id": 939836681, "node_id": "MDU6SXNzdWU5Mzk4MzY2ODE=", "number": 1629, "title": "How to make rotated asset edges look smooth by using margin colorclip and mask", "user": {"login": "OneWorld-github", "id": 19984261, "node_id": "MDQ6VXNlcjE5OTg0MjYx", "avatar_url": "https://avatars.githubusercontent.com/u/19984261?v=4", "gravatar_id": "", "url": "https://api.github.com/users/OneWorld-github", "html_url": "https://github.com/OneWorld-github", "followers_url": "https://api.github.com/users/OneWorld-github/followers", "following_url": "https://api.github.com/users/OneWorld-github/following{/other_user}", "gists_url": "https://api.github.com/users/OneWorld-github/gists{/gist_id}", "starred_url": "https://api.github.com/users/OneWorld-github/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/OneWorld-github/subscriptions", "organizations_url": "https://api.github.com/users/OneWorld-github/orgs", "repos_url": "https://api.github.com/users/OneWorld-github/repos", "events_url": "https://api.github.com/users/OneWorld-github/events{/privacy}", "received_events_url": "https://api.github.com/users/OneWorld-github/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-07-08T13:03:02Z", "updated_at": "2021-07-20T10:58:11Z", "closed_at": "2021-07-13T10:13:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1629/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1629/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1627", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1627/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1627/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1627/events", "html_url": "https://github.com/Zulko/moviepy/issues/1627", "id": 938239074, "node_id": "MDU6SXNzdWU5MzgyMzkwNzQ=", "number": 1627, "title": "Movie Studio Platinum can't open .mp4 generated by MoviePy", "user": {"login": "nicholaskross", "id": 45185629, "node_id": "MDQ6VXNlcjQ1MTg1NjI5", "avatar_url": "https://avatars.githubusercontent.com/u/45185629?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nicholaskross", "html_url": "https://github.com/nicholaskross", "followers_url": "https://api.github.com/users/nicholaskross/followers", "following_url": "https://api.github.com/users/nicholaskross/following{/other_user}", "gists_url": "https://api.github.com/users/nicholaskross/gists{/gist_id}", "starred_url": "https://api.github.com/users/nicholaskross/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nicholaskross/subscriptions", "organizations_url": "https://api.github.com/users/nicholaskross/orgs", "repos_url": "https://api.github.com/users/nicholaskross/repos", "events_url": "https://api.github.com/users/nicholaskross/events{/privacy}", "received_events_url": "https://api.github.com/users/nicholaskross/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 583252675, "node_id": "MDU6TGFiZWw1ODMyNTI2NzU=", "url": "https://api.github.com/repos/Zulko/moviepy/labels/video", "name": "video", "color": "bfd4f2", "default": false, "description": "Related to VideoClip and related classes, or handling of video in general."}, {"id": 1866683148, "node_id": "MDU6TGFiZWwxODY2NjgzMTQ4", "url": "https://api.github.com/repos/Zulko/moviepy/labels/lib-FFmpeg", "name": "lib-FFmpeg", "color": "d6b289", "default": false, "description": "Issues pertaining to dependency FFmpeg."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2021-07-06T20:33:45Z", "updated_at": "2022-10-11T01:01:46Z", "closed_at": "2022-10-11T01:01:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\nYou can format code by putting ``` (that's 3 backticks) on a line by itself at the beginning and end of each code block. For example:\r\n\r\n```\r\nfrom moviepy import *\r\nclip = ColorClip((600, 400), color=(255, 100, 0), duration=2)\r\n```\r\n-->\r\n\r\n\r\n#### Expected Behavior\r\nSuccessfully creates `.mp4` that VLC can play, with image and audio both present and working.\r\nCan import the `.mp4` file into Movie Studio Platinum, it will load and play normally like other `.mp4` files.\r\n\r\n#### Actual Behavior\r\nSuccessfully creates `.mp4` that VLC can play, with image and audio both present and working.\r\nHowever, when importing the `.mp4` file into Movie Studio Platinum, the file is missing video and has loud corrupted gibberish audio.\r\n\r\nI've tried changing the mp4 codec and file formats used, with identical results.\r\n\r\n(Encoding as mp4 _again_ using Handbrake, gives me a file that works in Movie Studio Platinum. Not sure how or why.)\r\n\r\n#### Steps to Reproduce the Problem\r\n<!-- Please include code that demonstrates this problem so that we can reproduce it. For advice on how to do this, see https://stackoverflow.com/help/mcve -->\r\n```\r\nfrom moviepy.editor import ColorClip, ImageClip, VideoFileClip, CompositeVideoClip, concatenate_videoclips\r\n\r\nclip1bg = ColorClip((1920, 1080), (255, 255, 255), duration=3)\r\nclip1 = ImageClip(\"myimage1.png\", duration=3)\r\n\r\nclip2bg = VideoFileClip(\"my_working_vid1.mp4\").subclip(0, 3)\r\nclip2 = ImageClip(\"myimage2.png\", duration=3)\r\n\r\nfinal_clip = concatenate_videoclips([CompositeVideoClip([clip1bg, clip1]), CompositeVideoClip([clip2bg, clip2])])\r\n\r\nfinal_clip.write_videofile(\"output_clipbuilder_test_1.mp4\")\r\n\r\nfinal_clip.close()\r\nclip1.close()\r\nclip2.close()\r\nclip2bg.close()\r\nclip1bg.close()\r\n```\r\n\r\n#### Specifications\r\n\r\n  - Python Version: 3.9.0\r\n  - Moviepy Version: 1.0.3\r\n  - Platform Name: Microsoft Windows\r\n  - Platform Version:\r\n  - Movie Studio Platinum Version: 15.0 (Build 157)\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1627/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1627/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1626", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1626/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1626/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1626/events", "html_url": "https://github.com/Zulko/moviepy/issues/1626", "id": 937763313, "node_id": "MDU6SXNzdWU5Mzc3NjMzMTM=", "number": 1626, "title": "resample = 'bilinear' or 'bicubic' interpolation in rotate appears to give same result.", "user": {"login": "OneWorld-github", "id": 19984261, "node_id": "MDQ6VXNlcjE5OTg0MjYx", "avatar_url": "https://avatars.githubusercontent.com/u/19984261?v=4", "gravatar_id": "", "url": "https://api.github.com/users/OneWorld-github", "html_url": "https://github.com/OneWorld-github", "followers_url": "https://api.github.com/users/OneWorld-github/followers", "following_url": "https://api.github.com/users/OneWorld-github/following{/other_user}", "gists_url": "https://api.github.com/users/OneWorld-github/gists{/gist_id}", "starred_url": "https://api.github.com/users/OneWorld-github/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/OneWorld-github/subscriptions", "organizations_url": "https://api.github.com/users/OneWorld-github/orgs", "repos_url": "https://api.github.com/users/OneWorld-github/repos", "events_url": "https://api.github.com/users/OneWorld-github/events{/privacy}", "received_events_url": "https://api.github.com/users/OneWorld-github/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-07-06T10:46:04Z", "updated_at": "2021-07-08T11:57:19Z", "closed_at": "2021-07-08T11:57:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "I was wondering what do I need to do to improve the rendering of the edges of a rotation?  \r\nI have tried 'bilinear', and 'bicubic', however they appear to give the same result visually.\r\n\r\nI have attached an example image showing the comparison in this link here:-\r\nhttps://stackoverflow.com/questions/68268928/how-to-improve-edge-interpolation-of-rotation-in-moviepy#68268928\r\n\r\n```\r\nimport moviepy.editor as mped\r\nimport sys\r\nimport numpy as np\r\n\r\nbgrd_width = 200\r\nbgrd_height = 200\r\nsunset = mped.ImageClip(\"sunset200x100.jpg\", duration=1).set_position((1, 1))\r\nbgrd = mped.ColorClip(size=(bgrd_width, bgrd_height), color=np.array([200, 200, 200]).astype(np.uint8), duration=3).set_position((0, 0))\r\n\r\nangle = 56\r\ninterpolation = 'bicubic'\r\n\r\nrotated_sunset = sunset.add_mask().rotate(angle, unit='deg', expand=True, resample=interpolation).set_duration(3)\r\nstacked_clips = mped.CompositeVideoClip([bgrd, rotated_sunset], size=[bgrd_width, bgrd_height])\r\n\r\nstacked_clips.write_videofile(f'sunset_rotated_{angle}_{interpolation}.mp4', fps=5)\r\n```\r\n\r\n#### Expected Behavior\r\nAn improvement in edge quality when an asset is rotated.  ie a less jagged edge if we improve interpolation from bilinear to bicubic.\r\n\r\n#### Actual Behavior\r\n'bilinear', or 'bicubic' seems to not have an effect.\r\n\r\n#### Steps to Reproduce the Problem\r\nrun the code above for 'bilinear' and 'bicubic', compare them in VLC media player, or another video player.\r\n\r\n\r\n#### Specifications\r\n  - Python Version: 3.7\r\n  - Moviepy Version: 1.0.3\r\n  - Platform Name: Ubuntu\r\n  - Platform Version: 18.04\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1626/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1626/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1624", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1624/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1624/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1624/events", "html_url": "https://github.com/Zulko/moviepy/issues/1624", "id": 936151119, "node_id": "MDU6SXNzdWU5MzYxNTExMTk=", "number": 1624, "title": ".resize() causing cv2.error: OpenCV(4.5.1) /tmp/pip-req-build-jhawztrk/opencv/modules/imgproc/src/resize.cpp:4051: error: (-215:Assertion failed) !ssize.empty() in function 'resize'", "user": {"login": "Silreth", "id": 79972784, "node_id": "MDQ6VXNlcjc5OTcyNzg0", "avatar_url": "https://avatars.githubusercontent.com/u/79972784?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Silreth", "html_url": "https://github.com/Silreth", "followers_url": "https://api.github.com/users/Silreth/followers", "following_url": "https://api.github.com/users/Silreth/following{/other_user}", "gists_url": "https://api.github.com/users/Silreth/gists{/gist_id}", "starred_url": "https://api.github.com/users/Silreth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Silreth/subscriptions", "organizations_url": "https://api.github.com/users/Silreth/orgs", "repos_url": "https://api.github.com/users/Silreth/repos", "events_url": "https://api.github.com/users/Silreth/events{/privacy}", "received_events_url": "https://api.github.com/users/Silreth/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 583252675, "node_id": "MDU6TGFiZWw1ODMyNTI2NzU=", "url": "https://api.github.com/repos/Zulko/moviepy/labels/video", "name": "video", "color": "bfd4f2", "default": false, "description": "Related to VideoClip and related classes, or handling of video in general."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-07-03T02:36:43Z", "updated_at": "2022-10-11T01:00:57Z", "closed_at": "2022-10-11T01:00:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "Function runs fine on the majority of videos put through. \r\nHowever on one or two I get this error.\r\n\r\n> Jul  3 02:00:43 ip-172-31-41-4 web: FileNotFoundError: [Errno 2] No such file or directory: '/var/app/current/1366F3C1C6_cropped_vertical_4_5.mp4'\r\nJul  3 02:04:59 ip-172-31-41-4 web: Internal Server Error: /sqs/\r\nJul  3 02:04:59 ip-172-31-41-4 web: Traceback (most recent call last):\r\nJul  3 02:04:59 ip-172-31-41-4 web: File \"/var/app/venv/staging-LQM1lest/lib/python3.8/site-packages/django/core/handlers/exception.py\", line 47, in inner\r\nJul  3 02:04:59 ip-172-31-41-4 web: response = get_response(request)\r\nJul  3 02:04:59 ip-172-31-41-4 web: File \"/var/app/venv/staging-LQM1lest/lib/python3.8/site-packages/django/core/handlers/base.py\", line 181, in _get_response\r\nJul  3 02:04:59 ip-172-31-41-4 web: response = wrapped_callback(request, *callback_args, **callback_kwargs)\r\nJul  3 02:04:59 ip-172-31-41-4 web: File \"/var/app/venv/staging-LQM1lest/lib/python3.8/site-packages/django/views/generic/base.py\", line 70, in view\r\nJul  3 02:04:59 ip-172-31-41-4 web: return self.dispatch(request, *args, **kwargs)\r\nJul  3 02:04:59 ip-172-31-41-4 web: File \"/var/app/venv/staging-LQM1lest/lib/python3.8/site-packages/django/utils/decorators.py\", line 43, in _wrapper\r\nJul  3 02:04:59 ip-172-31-41-4 web: return bound_method(*args, **kwargs)\r\nJul  3 02:04:59 ip-172-31-41-4 web: File \"/var/app/venv/staging-LQM1lest/lib/python3.8/site-packages/django/views/decorators/csrf.py\", line 54, in wrapped_view\r\nJul  3 02:04:59 ip-172-31-41-4 web: return view_func(*args, **kwargs)\r\nJul  3 02:04:59 ip-172-31-41-4 web: File \"/var/app/venv/staging-LQM1lest/lib/python3.8/site-packages/django/views/generic/base.py\", line 98, in dispatch\r\nJul  3 02:04:59 ip-172-31-41-4 web: return handler(request, *args, **kwargs)\r\nJul  3 02:04:59 ip-172-31-41-4 web: File \"/var/app/venv/staging-LQM1lest/lib/python3.8/site-packages/eb_sqs_worker/views.py\", line 65, in post\r\nJul  3 02:04:59 ip-172-31-41-4 web: result = task.run_task()\r\nJul  3 02:04:59 ip-172-31-41-4 web: File \"/var/app/venv/staging-LQM1lest/lib/python3.8/site-packages/eb_sqs_worker/sqs.py\", line 164, in run_task\r\nJul  3 02:04:59 ip-172-31-41-4 web: result = task_method(**self.task_kwargs)\r\nJul  3 02:04:59 ip-172-31-41-4 web: File \"/var/app/venv/staging-LQM1lest/lib/python3.8/site-packages/eb_sqs_worker/decorators.py\", line 64, in <lambda>\r\nJul  3 02:04:59 ip-172-31-41-4 web: f.execute = lambda **kwargs: f(**kwargs)\r\nJul  3 02:04:59 ip-172-31-41-4 web: File \"/var/app/venv/staging-LQM1lest/lib/python3.8/site-packages/django/views/decorators/csrf.py\", line 54, in wrapped_view\r\nJul  3 02:04:59 ip-172-31-41-4 web: return view_func(*args, **kwargs)\r\nJul  3 02:04:59 ip-172-31-41-4 web: File \"/var/app/current/video/tasks.py\", line 177, in video_intake\r\nJul  3 02:04:59 ip-172-31-41-4 web: render_style(active_style.title, clip, video)\r\nJul  3 02:04:59 ip-172-31-41-4 web: File \"/var/app/current/video/styles.py\", line 49, in render_style\r\nJul  3 02:04:59 ip-172-31-41-4 web: cropped_horizontal_with_facecam_and_blurred_background_FULL(clip, video)\r\nJul  3 02:04:59 ip-172-31-41-4 web: File \"/var/app/current/video/styles.py\", line 424, in cropped_horizontal_with_facecam_and_blurred_background_FULL\r\nJul  3 02:04:59 ip-172-31-41-4 web: headcam = final_clip.resize(width=width*0.8) \r\nJul  3 02:04:59 ip-172-31-41-4 web: File \"/var/app/venv/staging-LQM1lest/lib/python3.8/site-packages/moviepy/video/fx/resize.py\", line 152, in resize\r\nJul  3 02:04:59 ip-172-31-41-4 web: newclip = clip.fl_image(fl)\r\nJul  3 02:04:59 ip-172-31-41-4 web: File \"/var/app/venv/staging-LQM1lest/lib/python3.8/site-packages/moviepy/video/VideoClip.py\", line 490, in fl_image\r\nJul  3 02:04:59 ip-172-31-41-4 web: return self.fl(lambda gf, t: image_func(gf(t)), apply_to)\r\nJul  3 02:04:59 ip-172-31-41-4 web: File \"/var/app/venv/staging-LQM1lest/lib/python3.8/site-packages/moviepy/Clip.py\", line 136, in fl\r\nJul  3 02:04:59 ip-172-31-41-4 web: newclip = self.set_make_frame(lambda t: fun(self.get_frame, t))\r\nJul  3 02:04:59 ip-172-31-41-4 web: File \"<decorator-gen-61>\", line 2, in set_make_frame\r\nJul  3 02:04:59 ip-172-31-41-4 web: File \"/var/app/venv/staging-LQM1lest/lib/python3.8/site-packages/moviepy/decorators.py\", line 14, in outplace\r\nJul  3 02:04:59 ip-172-31-41-4 web: f(newclip, *a, **k)\r\nJul  3 02:04:59 ip-172-31-41-4 web: File \"/var/app/venv/staging-LQM1lest/lib/python3.8/site-packages/moviepy/video/VideoClip.py\", line 644, in set_make_frame\r\nJul  3 02:04:59 ip-172-31-41-4 web: self.size = self.get_frame(0).shape[:2][::-1]\r\nJul  3 02:04:59 ip-172-31-41-4 web: File \"<decorator-gen-11>\", line 2, in get_frame\r\nJul  3 02:04:59 ip-172-31-41-4 web: File \"/var/app/venv/staging-LQM1lest/lib/python3.8/site-packages/moviepy/decorators.py\", line 89, in wrapper\r\nJul  3 02:04:59 ip-172-31-41-4 web: return f(*new_a, **new_kw)\r\nJul  3 02:04:59 ip-172-31-41-4 web: File \"/var/app/venv/staging-LQM1lest/lib/python3.8/site-packages/moviepy/Clip.py\", line 93, in get_frame\r\nJul  3 02:04:59 ip-172-31-41-4 web: return self.make_frame(t)\r\nJul  3 02:04:59 ip-172-31-41-4 web: File \"/var/app/venv/staging-LQM1lest/lib/python3.8/site-packages/moviepy/Clip.py\", line 136, in <lambda>\r\nJul  3 02:04:59 ip-172-31-41-4 web: newclip = self.set_make_frame(lambda t: fun(self.get_frame, t))\r\nJul  3 02:04:59 ip-172-31-41-4 web: File \"/var/app/venv/staging-LQM1lest/lib/python3.8/site-packages/moviepy/video/VideoClip.py\", line 490, in <lambda>\r\nJul  3 02:04:59 ip-172-31-41-4 web: return self.fl(lambda gf, t: image_func(gf(t)), apply_to)\r\nJul  3 02:04:59 ip-172-31-41-4 web: File \"/var/app/venv/staging-LQM1lest/lib/python3.8/site-packages/moviepy/video/fx/resize.py\", line 150, in <lambda>\r\nJul  3 02:04:59 ip-172-31-41-4 web: fl = lambda pic: resizer(pic.astype('uint8'), newsize)\r\nJul  3 02:04:59 ip-172-31-41-4 web: File \"/var/app/venv/staging-LQM1lest/lib/python3.8/site-packages/moviepy/video/fx/resize.py\", line 16, in resizer\r\nJul  3 02:04:59 ip-172-31-41-4 web: return cv2.resize(+pic.astype('uint8'), (lx, ly),\r\nJul  3 02:04:59 ip-172-31-41-4 web: cv2.error: OpenCV(4.5.1) /tmp/pip-req-build-jhawztrk/opencv/modules/imgproc/src/resize.cpp:4051: error: (-215:Assertion failed) !ssize.empty() in function 'resize'\r\n\r\nFunction looks like:\r\n\r\n> clip = VideoFileClip(clip_dir)\r\n    clip2 = clip.set_mask(mask) #assigns mask to highlight\r\n    final_clip = clip2.crop(x_center=x, y_center=y, width=150, height=150)\r\n    final__clip = final_clip.resize(width=width*0.8)\r\n\r\nI suspect it has to do with the file having a dud frame in it, freaking out cv2 and causing the whole function to fail.\r\nThe cv2 error seems to be an incorrect directory on the image being resized but that shouldn't really be happening here.\r\n\r\nAny ideas would be appreciated!\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1624/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1624/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1622", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1622/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1622/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1622/events", "html_url": "https://github.com/Zulko/moviepy/issues/1622", "id": 931391868, "node_id": "MDU6SXNzdWU5MzEzOTE4Njg=", "number": 1622, "title": "OSError: Error in file stream1.mkv, Accessing time t=17469.05-17469.10 seconds, with clip duration=17469 seconds", "user": {"login": "Timtaran", "id": 60805088, "node_id": "MDQ6VXNlcjYwODA1MDg4", "avatar_url": "https://avatars.githubusercontent.com/u/60805088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Timtaran", "html_url": "https://github.com/Timtaran", "followers_url": "https://api.github.com/users/Timtaran/followers", "following_url": "https://api.github.com/users/Timtaran/following{/other_user}", "gists_url": "https://api.github.com/users/Timtaran/gists{/gist_id}", "starred_url": "https://api.github.com/users/Timtaran/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Timtaran/subscriptions", "organizations_url": "https://api.github.com/users/Timtaran/orgs", "repos_url": "https://api.github.com/users/Timtaran/repos", "events_url": "https://api.github.com/users/Timtaran/events{/privacy}", "received_events_url": "https://api.github.com/users/Timtaran/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-06-28T09:58:15Z", "updated_at": "2021-06-29T02:32:18Z", "closed_at": "2021-06-29T02:32:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "\r\n```\r\nfrom moviepy.editor import VideoFileClip, clips_array, vfx, ImageClip, concatenate_videoclips\r\nclass Cut:\r\n    def __init__(self, file):\r\n        self.clips=[]\r\n        self.clip=VideoFileClip(file)\r\n    def get_time(self, seconds=0, minutes=0, hours=0): \r\n        return hours*60*60+minutes*60+seconds\r\n    def add_clip(self, start_seconds=0, start_minutes=0, start_hours=0, end_seconds=0, end_minutes=0, end_hours=0):\r\n        self.clips.append(\r\n            self.clip.subclip(\r\n                self.get_time(start_seconds, start_minutes, start_hours),\r\n                self.get_time(end_seconds, end_minutes, end_hours)\r\n            )\r\n        )\r\n    def render(self):\r\n        self.result=concatenate_videoclips(self.clips)\r\n        self.result.write_videofile('test.mp4', threads = 4) \r\ncut=Cut('stream1.mkv')\r\ncut.clips.append(cut.clip.subclip(31, 54))\r\ncut.clips.append(cut.clip.subclip(57, 90))\r\ncut.clips.append(cut.clip.subclip(95, cut.get_time(51, 1)))\r\ncut.add_clip(50, 52, 0, 14, 53)\r\ncut.add_clip(35, 57, 0, 55, 57)\r\ncut.add_clip(59, 53, 0, 0, 0, 1)\r\ncut.add_clip(41, 5, 1, 7, 6, 1)\r\ncut.add_clip(45, 7, 1, 5, 8, 9)\r\ncut.add_clip(33, 13, 1, 0, 14, 1)\r\ncut.add_clip(0, 19, 1, 20, 19, 1)\r\ncut.add_clip(5, 22, 2, 20, 22, 2)\r\ncut.add_clip(16, 59, 2, 11, 5, 3)\r\ncut.add_clip(30, 15, 3, 0, 16, 3)\r\ncut.add_clip(10, 25, 3, 30, 25, 3)\r\ncut.add_clip(50, 28, 3, 30, 30, 3)\r\ncut.add_clip(50, 46, 3, 54, 46, 3)\r\ncut.add_clip(45, 58, 3, 0, 59, 3)\r\ncut.add_clip(0, 13, 4, 10, 13, 4)\r\ncut.add_clip(40, 18, 4, 0, 19, 4)\r\ncut.add_clip(0, 30, 4, 10, 30, 4)\r\ncut.add_clip(20, 37, 4, 0, 38, 4)\r\ncut.add_clip(50, 44, 4, 1, 46, 4)\r\ncut.add_clip(0, 48, 4, 45, 48, 4)\r\ncut.add_clip(20, 49, 4, 35, 49, 4)\r\ncut.render()\r\n```\r\n-->\r\n```\r\n46%|\u2588\u2588\u2588\u2588\u258c     | 306642/664147 [13:21<14:00, 425.16it/s]\r\n---------------------------------------------------------------------------\r\nOSError                                   Traceback (most recent call last)\r\n<ipython-input-20-7f39db752f05> in <module>()\r\n     23 cut.add_clip(0, 48, 4, 45, 48, 4)\r\n     24 cut.add_clip(20, 49, 4, 35, 49, 4)\r\n---> 25 cut.render()\r\n     26 #result = clips_array(\r\n     27 #    [\r\n\r\n24 frames\r\n<decorator-gen-165> in write_videofile(self, filename, fps, codec, bitrate, audio, audio_fps, preset, audio_nbytes, audio_codec, audio_bitrate, audio_bufsize, temp_audiofile, rewrite_audio, remove_temp, write_logfile, verbose, threads, ffmpeg_params, progress_bar)\r\n\r\n<decorator-gen-164> in write_videofile(self, filename, fps, codec, bitrate, audio, audio_fps, preset, audio_nbytes, audio_codec, audio_bitrate, audio_bufsize, temp_audiofile, rewrite_audio, remove_temp, write_logfile, verbose, threads, ffmpeg_params, progress_bar)\r\n\r\n<decorator-gen-163> in write_videofile(self, filename, fps, codec, bitrate, audio, audio_fps, preset, audio_nbytes, audio_codec, audio_bitrate, audio_bufsize, temp_audiofile, rewrite_audio, remove_temp, write_logfile, verbose, threads, ffmpeg_params, progress_bar)\r\n\r\n<decorator-gen-187> in write_audiofile(self, filename, fps, nbytes, buffersize, codec, bitrate, ffmpeg_params, write_logfile, verbose, progress_bar)\r\n\r\n<decorator-gen-184> in ffmpeg_audiowrite(clip, filename, fps, nbytes, buffersize, codec, bitrate, write_logfile, verbose, ffmpeg_params, progress_bar)\r\n\r\n<decorator-gen-186> in to_soundarray(self, tt, fps, quantize, nbytes, buffersize)\r\n\r\n<decorator-gen-124> in get_frame(self, t)\r\n\r\n<decorator-gen-124> in get_frame(self, t)\r\n\r\n<decorator-gen-124> in get_frame(self, t)\r\n\r\n/usr/local/lib/python3.7/dist-packages/moviepy/audio/io/readers.py in get_frame(self, tt)\r\n    167                 raise IOError(\"Error in file %s, \"%(self.filename)+\r\n    168                        \"Accessing time t=%.02f-%.02f seconds, \"%(tt[0], tt[-1])+\r\n--> 169                        \"with clip duration=%d seconds, \"%self.duration)\r\n    170 \r\n    171             # The np.round in the next line is super-important.\r\n\r\nOSError: Error in file stream1.mkv, Accessing time t=17469.05-17469.10 seconds, with clip duration=17469 seconds, \r\n```\r\n\r\n\r\n#### Specifications\r\n\r\n  - Python Version: 3.8.5\r\n  - Moviepy Version: ? (newest)\r\n  - Platform Name: Linux Ubuntu\r\n  - Platform Version: 20.04\r\n\r\nP.S. Video what I editing is 5 hours and 10gb\nVideo destination 17469.05", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1622/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1622/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1616", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1616/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1616/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1616/events", "html_url": "https://github.com/Zulko/moviepy/issues/1616", "id": 917415526, "node_id": "MDU6SXNzdWU5MTc0MTU1MjY=", "number": 1616, "title": "black border around png, when composited.", "user": {"login": "OneWorld-github", "id": 19984261, "node_id": "MDQ6VXNlcjE5OTg0MjYx", "avatar_url": "https://avatars.githubusercontent.com/u/19984261?v=4", "gravatar_id": "", "url": "https://api.github.com/users/OneWorld-github", "html_url": "https://github.com/OneWorld-github", "followers_url": "https://api.github.com/users/OneWorld-github/followers", "following_url": "https://api.github.com/users/OneWorld-github/following{/other_user}", "gists_url": "https://api.github.com/users/OneWorld-github/gists{/gist_id}", "starred_url": "https://api.github.com/users/OneWorld-github/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/OneWorld-github/subscriptions", "organizations_url": "https://api.github.com/users/OneWorld-github/orgs", "repos_url": "https://api.github.com/users/OneWorld-github/repos", "events_url": "https://api.github.com/users/OneWorld-github/events{/privacy}", "received_events_url": "https://api.github.com/users/OneWorld-github/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 760686230, "node_id": "MDU6TGFiZWw3NjA2ODYyMzA=", "url": "https://api.github.com/repos/Zulko/moviepy/labels/images", "name": "images", "color": "bfd4f2", "default": false, "description": "Related to ImageClip, or handling of images in general."}, {"id": 3729658835, "node_id": "LA_kwDOALfols7eThPT", "url": "https://api.github.com/repos/Zulko/moviepy/labels/lib-PIL-Pillow", "name": "lib-PIL-Pillow", "color": "d6b289", "default": false, "description": "Issues pertaining to dependency PIL (or PIL fork Pillow)."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2021-06-10T14:32:14Z", "updated_at": "2022-10-11T05:32:12Z", "closed_at": "2022-10-11T00:58:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "When compositing a png onto a coloured background, it creates a black border around the edge of the opaque part of a png.  Why is this, and is there a workaround ?\r\nWould like to make it so it doesn't create a black border around the edge.  \r\n\r\n```\r\nimport numpy as np\r\nimport moviepy.editor as mped\r\ndef composite_txtpng_on_colour():\r\n    bg_color = mped.ColorClip(size=[400, 300], color=np.array([0, 255, 0]).astype(np.uint8),\r\n                              duration=2).set_position((0, 0))\r\n    text_png_postition = [5, 5]\r\n    text_png = mped.ImageClip(\"./txtpng.png\", duration=3).set_position((text_png_postition))\r\n\r\n    canvas_size = bg_color.size\r\n    stacked_clips = mped.CompositeVideoClip([bg_color, text_png], size=canvas_size).set_duration(2)\r\n    stacked_clips.write_videofile('play_png_video.mp4', fps=24)\r\n\r\n\r\ncomposite_txtpng_on_colour()\r\n\r\n```\r\n\r\n#### Expected Behavior\r\nIt should ideally composite without a black border around the edge of the opaque part of the png.\r\n\r\n#### Actual Behavior\r\nCreates a black border around the edge of the opaque part of the png\r\n\r\n#### Steps to Reproduce the Problem\r\nCopy and paste the code into your IDE.\r\nCopy and paste the input text png into the same directory as the script.\r\nRun the script.\r\nThere is also link to the issue on stack overflow that has the input png attached, and an example of the output result.  \r\nThe link is here:-\r\nhttps://stackoverflow.com/questions/67923181/moviepy-black-border-around-png-when-compositing-into-an-mp4\r\n\r\n#### Specifications\r\n  - Python Version: 3.6\r\n  - Moviepy Version: 1.0.0\r\n  - Platform Name: Ubuntu\r\n  - Platform Version: 18.04\r\n\r\n\r\nps. How would you apply a two pass to the rendering of this ?", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1616/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1616/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1615", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1615/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1615/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1615/events", "html_url": "https://github.com/Zulko/moviepy/issues/1615", "id": 912336719, "node_id": "MDU6SXNzdWU5MTIzMzY3MTk=", "number": 1615, "title": "myclip.write_videofile(\"movie.webm\",audio=False) TypeError: must be real number, not NoneType", "user": {"login": "KhawajaAli", "id": 12684484, "node_id": "MDQ6VXNlcjEyNjg0NDg0", "avatar_url": "https://avatars.githubusercontent.com/u/12684484?v=4", "gravatar_id": "", "url": "https://api.github.com/users/KhawajaAli", "html_url": "https://github.com/KhawajaAli", "followers_url": "https://api.github.com/users/KhawajaAli/followers", "following_url": "https://api.github.com/users/KhawajaAli/following{/other_user}", "gists_url": "https://api.github.com/users/KhawajaAli/gists{/gist_id}", "starred_url": "https://api.github.com/users/KhawajaAli/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/KhawajaAli/subscriptions", "organizations_url": "https://api.github.com/users/KhawajaAli/orgs", "repos_url": "https://api.github.com/users/KhawajaAli/repos", "events_url": "https://api.github.com/users/KhawajaAli/events{/privacy}", "received_events_url": "https://api.github.com/users/KhawajaAli/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 51698341, "node_id": "MDU6TGFiZWw1MTY5ODM0MQ==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/duplicate", "name": "duplicate", "color": "cdcdcd", "default": true, "description": "Duplicate of another issue/PR."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-06-05T16:29:34Z", "updated_at": "2021-10-24T21:43:10Z", "closed_at": "2021-06-06T10:57:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\nYou can format code by putting ``` (that's 3 backticks) on a line by itself at the beginning and end of each code block. For example:\r\n\r\n-->\r\n\r\n\r\n#### Expected Behavior\r\nFile should be exported without any issue\r\n\r\n#### Actual Behavior\r\nchunk:   0%|          | 0/152 [00:00<?, ?it/s, now=None]\r\nMoviepy - Building video movie.webm.\r\nMoviePy - Writing audio in movieTEMP_MPY_wvf_snd.ogg\r\n                                                                   \r\nMoviePy - Done.\r\nMoviepy - Writing video movie.webm\r\n\r\n---------------------------------------------------------------------------\r\nTypeError                                 Traceback (most recent call last)\r\n<ipython-input-22-dd7c1f8ed18c> in <module>\r\n----> 1 myclip.write_videofile(\"movie.webm\",audio=False)\r\n\r\n~\\anaconda3\\envs\\deep-music-visualizer\\lib\\site-packages\\decorator.py in fun(*args, **kw)\r\n    230             if not kwsyntax:\r\n    231                 args, kw = fix(args, kw, sig)\r\n--> 232             return caller(func, *(extras + args), **kw)\r\n    233     fun.__name__ = func.__name__\r\n    234     fun.__doc__ = func.__doc__\r\n\r\n~\\anaconda3\\envs\\deep-music-visualizer\\lib\\site-packages\\moviepy\\decorators.py in requires_duration(f, clip, *a, **k)\r\n     52         raise ValueError(\"Attribute 'duration' not set\")\r\n     53     else:\r\n---> 54         return f(clip, *a, **k)\r\n     55 \r\n     56 \r\n\r\n~\\anaconda3\\envs\\deep-music-visualizer\\lib\\site-packages\\decorator.py in fun(*args, **kw)\r\n    230             if not kwsyntax:\r\n    231                 args, kw = fix(args, kw, sig)\r\n--> 232             return caller(func, *(extras + args), **kw)\r\n    233     fun.__name__ = func.__name__\r\n    234     fun.__doc__ = func.__doc__\r\n\r\n~\\anaconda3\\envs\\deep-music-visualizer\\lib\\site-packages\\moviepy\\decorators.py in use_clip_fps_by_default(f, clip, *a, **k)\r\n    133              for (k,v) in k.items()}\r\n    134 \r\n--> 135     return f(clip, *new_a, **new_kw)\r\n\r\n~\\anaconda3\\envs\\deep-music-visualizer\\lib\\site-packages\\decorator.py in fun(*args, **kw)\r\n    230             if not kwsyntax:\r\n    231                 args, kw = fix(args, kw, sig)\r\n--> 232             return caller(func, *(extras + args), **kw)\r\n    233     fun.__name__ = func.__name__\r\n    234     fun.__doc__ = func.__doc__\r\n\r\n~\\anaconda3\\envs\\deep-music-visualizer\\lib\\site-packages\\moviepy\\decorators.py in convert_masks_to_RGB(f, clip, *a, **k)\r\n     20     if clip.ismask:\r\n     21         clip = clip.to_RGB()\r\n---> 22     return f(clip, *a, **k)\r\n     23 \r\n     24 @decorator.decorator\r\n\r\n~\\anaconda3\\envs\\deep-music-visualizer\\lib\\site-packages\\moviepy\\video\\VideoClip.py in write_videofile(self, filename, fps, codec, bitrate, audio, audio_fps, preset, audio_nbytes, audio_codec, audio_bitrate, audio_bufsize, temp_audiofile, rewrite_audio, remove_temp, write_logfile, verbose, threads, ffmpeg_params, logger)\r\n    305                            verbose=verbose, threads=threads,\r\n    306                            ffmpeg_params=ffmpeg_params,\r\n--> 307                            logger=logger)\r\n    308 \r\n    309         if remove_temp and make_audio:\r\n\r\n~\\anaconda3\\envs\\deep-music-visualizer\\lib\\site-packages\\moviepy\\video\\io\\ffmpeg_writer.py in ffmpeg_write_video(clip, filename, fps, codec, bitrate, preset, withmask, write_logfile, audiofile, verbose, threads, ffmpeg_params, logger)\r\n    214                                 preset=preset, bitrate=bitrate, logfile=logfile,\r\n    215                                 audiofile=audiofile, threads=threads,\r\n--> 216                                 ffmpeg_params=ffmpeg_params) as writer:\r\n    217 \r\n    218         nframes = int(clip.duration*fps)\r\n\r\n~\\anaconda3\\envs\\deep-music-visualizer\\lib\\site-packages\\moviepy\\video\\io\\ffmpeg_writer.py in __init__(self, filename, size, fps, codec, audiofile, preset, bitrate, withmask, logfile, threads, ffmpeg_params)\r\n     86             '-s', '%dx%d' % (size[0], size[1]),\r\n     87             '-pix_fmt', 'rgba' if withmask else 'rgb24',\r\n---> 88             '-r', '%.02f' % fps,\r\n     89             '-an', '-i', '-'\r\n     90         ]\r\n\r\nTypeError: must be real number, not NoneType\r\n\r\n#### Steps to Reproduce the Problem\r\n<!-- Please include code that demonstrates this problem so that we can reproduce it. For advice on how to do this, see https://stackoverflow.com/help/mcve -->\r\n\r\n```\r\nfrom moviepy.editor import VideoFileClip\r\nmyclip = VideoFileClip(\"D:\\Captures\\Zoom Meeting.mp4\")\r\nmyclip.write_videofile(\"movie.webm\",audio=False)\r\n```\r\n\r\n#### Specifications\r\n\r\n  - Python Version: 3.7.10\r\n  - Moviepy Version: 1.0.3\r\n  - Platform Name: Jupyter, windows\r\n  - Platform Version:\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1615/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1615/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1614", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1614/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1614/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1614/events", "html_url": "https://github.com/Zulko/moviepy/issues/1614", "id": 912335578, "node_id": "MDU6SXNzdWU5MTIzMzU1Nzg=", "number": 1614, "title": "myclip.write_videofile(\"movie.webm\",audio=False) TypeError: must be real number, not NoneType", "user": {"login": "KhawajaAli", "id": 12684484, "node_id": "MDQ6VXNlcjEyNjg0NDg0", "avatar_url": "https://avatars.githubusercontent.com/u/12684484?v=4", "gravatar_id": "", "url": "https://api.github.com/users/KhawajaAli", "html_url": "https://github.com/KhawajaAli", "followers_url": "https://api.github.com/users/KhawajaAli/followers", "following_url": "https://api.github.com/users/KhawajaAli/following{/other_user}", "gists_url": "https://api.github.com/users/KhawajaAli/gists{/gist_id}", "starred_url": "https://api.github.com/users/KhawajaAli/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/KhawajaAli/subscriptions", "organizations_url": "https://api.github.com/users/KhawajaAli/orgs", "repos_url": "https://api.github.com/users/KhawajaAli/repos", "events_url": "https://api.github.com/users/KhawajaAli/events{/privacy}", "received_events_url": "https://api.github.com/users/KhawajaAli/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 51698341, "node_id": "MDU6TGFiZWw1MTY5ODM0MQ==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/duplicate", "name": "duplicate", "color": "cdcdcd", "default": true, "description": "Duplicate of another issue/PR."}, {"id": 583252675, "node_id": "MDU6TGFiZWw1ODMyNTI2NzU=", "url": "https://api.github.com/repos/Zulko/moviepy/labels/video", "name": "video", "color": "bfd4f2", "default": false, "description": "Related to VideoClip and related classes, or handling of video in general."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2021-06-05T16:26:55Z", "updated_at": "2022-09-09T21:09:42Z", "closed_at": "2022-09-09T21:09:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\nYou can format code by putting ``` (that's 3 backticks) on a line by itself at the beginning and end of each code block. For example:\r\n\r\n\r\n-->\r\n\r\n\r\n#### Expected Behavior\r\nFile should be saved without the error\r\n\r\n#### Actual Behavior\r\nchunk:   0%|          | 0/152 [00:00<?, ?it/s, now=None]\r\nMoviepy - Building video movie.webm.\r\nMoviePy - Writing audio in movieTEMP_MPY_wvf_snd.ogg\r\n                                                                   \r\nMoviePy - Done.\r\nMoviepy - Writing video movie.webm\r\n\r\n---------------------------------------------------------------------------\r\nTypeError                                 Traceback (most recent call last)\r\n<ipython-input-22-dd7c1f8ed18c> in <module>\r\n----> 1 myclip.write_videofile(\"movie.webm\",audio=False)\r\n\r\n~\\anaconda3\\envs\\deep-music-visualizer\\lib\\site-packages\\decorator.py in fun(*args, **kw)\r\n    230             if not kwsyntax:\r\n    231                 args, kw = fix(args, kw, sig)\r\n--> 232             return caller(func, *(extras + args), **kw)\r\n    233     fun.__name__ = func.__name__\r\n    234     fun.__doc__ = func.__doc__\r\n\r\n~\\anaconda3\\envs\\deep-music-visualizer\\lib\\site-packages\\moviepy\\decorators.py in requires_duration(f, clip, *a, **k)\r\n     52         raise ValueError(\"Attribute 'duration' not set\")\r\n     53     else:\r\n---> 54         return f(clip, *a, **k)\r\n     55 \r\n     56 \r\n\r\n~\\anaconda3\\envs\\deep-music-visualizer\\lib\\site-packages\\decorator.py in fun(*args, **kw)\r\n    230             if not kwsyntax:\r\n    231                 args, kw = fix(args, kw, sig)\r\n--> 232             return caller(func, *(extras + args), **kw)\r\n    233     fun.__name__ = func.__name__\r\n    234     fun.__doc__ = func.__doc__\r\n\r\n~\\anaconda3\\envs\\deep-music-visualizer\\lib\\site-packages\\moviepy\\decorators.py in use_clip_fps_by_default(f, clip, *a, **k)\r\n    133              for (k,v) in k.items()}\r\n    134 \r\n--> 135     return f(clip, *new_a, **new_kw)\r\n\r\n~\\anaconda3\\envs\\deep-music-visualizer\\lib\\site-packages\\decorator.py in fun(*args, **kw)\r\n    230             if not kwsyntax:\r\n    231                 args, kw = fix(args, kw, sig)\r\n--> 232             return caller(func, *(extras + args), **kw)\r\n    233     fun.__name__ = func.__name__\r\n    234     fun.__doc__ = func.__doc__\r\n\r\n~\\anaconda3\\envs\\deep-music-visualizer\\lib\\site-packages\\moviepy\\decorators.py in convert_masks_to_RGB(f, clip, *a, **k)\r\n     20     if clip.ismask:\r\n     21         clip = clip.to_RGB()\r\n---> 22     return f(clip, *a, **k)\r\n     23 \r\n     24 @decorator.decorator\r\n\r\n~\\anaconda3\\envs\\deep-music-visualizer\\lib\\site-packages\\moviepy\\video\\VideoClip.py in write_videofile(self, filename, fps, codec, bitrate, audio, audio_fps, preset, audio_nbytes, audio_codec, audio_bitrate, audio_bufsize, temp_audiofile, rewrite_audio, remove_temp, write_logfile, verbose, threads, ffmpeg_params, logger)\r\n    305                            verbose=verbose, threads=threads,\r\n    306                            ffmpeg_params=ffmpeg_params,\r\n--> 307                            logger=logger)\r\n    308 \r\n    309         if remove_temp and make_audio:\r\n\r\n~\\anaconda3\\envs\\deep-music-visualizer\\lib\\site-packages\\moviepy\\video\\io\\ffmpeg_writer.py in ffmpeg_write_video(clip, filename, fps, codec, bitrate, preset, withmask, write_logfile, audiofile, verbose, threads, ffmpeg_params, logger)\r\n    214                                 preset=preset, bitrate=bitrate, logfile=logfile,\r\n    215                                 audiofile=audiofile, threads=threads,\r\n--> 216                                 ffmpeg_params=ffmpeg_params) as writer:\r\n    217 \r\n    218         nframes = int(clip.duration*fps)\r\n\r\n~\\anaconda3\\envs\\deep-music-visualizer\\lib\\site-packages\\moviepy\\video\\io\\ffmpeg_writer.py in __init__(self, filename, size, fps, codec, audiofile, preset, bitrate, withmask, logfile, threads, ffmpeg_params)\r\n     86             '-s', '%dx%d' % (size[0], size[1]),\r\n     87             '-pix_fmt', 'rgba' if withmask else 'rgb24',\r\n---> 88             '-r', '%.02f' % fps,\r\n     89             '-an', '-i', '-'\r\n     90         ]\r\n\r\n**TypeError: must be real number, not NoneType**\r\n\r\n#### Steps to Reproduce the Problem\r\n<!-- Please include code that demonstrates this problem so that we can reproduce it. For advice on how to do this, see https://stackoverflow.com/help/mcve -->\r\n\r\n```\r\nfrom moviepy.editor import VideoFileClip\r\nmyclip = VideoFileClip(\"D:\\Captures\\Zoom Meeting 2021-05-19 23-48-20.mp4\")\r\nmyclip.write_videofile(\"movie.webm\",audio=False)\r\n```\r\n\r\n#### Specifications\r\n\r\n  - Python Version: 3.7.10\r\n  - ffmpeg Version: 1.4\r\n  - imageio Version: 2.9.0\r\n  - Moviepy Version: 1.0.3\r\n  - Platform Name: Windows\r\n  - Platform Version: 10\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1614/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1614/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1603", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1603/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1603/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1603/events", "html_url": "https://github.com/Zulko/moviepy/issues/1603", "id": 907821897, "node_id": "MDU6SXNzdWU5MDc4MjE4OTc=", "number": 1603, "title": "python telling me fps is NoneType when it shouldn't", "user": {"login": "themindfactory", "id": 8609129, "node_id": "MDQ6VXNlcjg2MDkxMjk=", "avatar_url": "https://avatars.githubusercontent.com/u/8609129?v=4", "gravatar_id": "", "url": "https://api.github.com/users/themindfactory", "html_url": "https://github.com/themindfactory", "followers_url": "https://api.github.com/users/themindfactory/followers", "following_url": "https://api.github.com/users/themindfactory/following{/other_user}", "gists_url": "https://api.github.com/users/themindfactory/gists{/gist_id}", "starred_url": "https://api.github.com/users/themindfactory/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/themindfactory/subscriptions", "organizations_url": "https://api.github.com/users/themindfactory/orgs", "repos_url": "https://api.github.com/users/themindfactory/repos", "events_url": "https://api.github.com/users/themindfactory/events{/privacy}", "received_events_url": "https://api.github.com/users/themindfactory/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-06-01T02:55:06Z", "updated_at": "2021-06-01T16:58:38Z", "closed_at": "2021-06-01T16:58:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "clip1 = VideoFileClip(\"1.mp4\")\r\nclip2 = VideoFileClip(\"2.mp4\")\r\n  \r\nfinal = concatenate_videoclips([clip1,clip2])\r\nfinal.write_videofile(\"my_concatenation.mp4\")\r\n\r\n#### Error\r\n\r\nFile \"C:\\Users\\Richard\\anaconda3\\envs\\pexels2\\lib\\site-packages\\moviepy\\video\\io\\ffmpeg_writer.py\", line 88, in __init__\r\n    '-r', '%.02f' % fps,\r\nTypeError: must be real number, not NoneType\r\n\r\n#### Steps to Solve the Problem\r\n\r\nI have added fps=30.0 to final.write_videofile(\"my_concatenation.mp4\", fps=30.0)\r\nalso tried\r\nfinal.fps = 30.0\r\nfinal.write_videofile(\"my_concatenation.mp4\")\r\n\r\n#### Specifications\r\n\r\n  - Python Version: 3.7\r\n  - Moviepy Version: 1.0.3\r\n  - Platform Name: Anaconda 2.0.3 /Spyder 5.0.0\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1603/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1603/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1577", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1577/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1577/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1577/events", "html_url": "https://github.com/Zulko/moviepy/issues/1577", "id": 899072613, "node_id": "MDU6SXNzdWU4OTkwNzI2MTM=", "number": 1577, "title": "Video freezing after 5s,", "user": {"login": "tortueuh", "id": 67865912, "node_id": "MDQ6VXNlcjY3ODY1OTEy", "avatar_url": "https://avatars.githubusercontent.com/u/67865912?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tortueuh", "html_url": "https://github.com/tortueuh", "followers_url": "https://api.github.com/users/tortueuh/followers", "following_url": "https://api.github.com/users/tortueuh/following{/other_user}", "gists_url": "https://api.github.com/users/tortueuh/gists{/gist_id}", "starred_url": "https://api.github.com/users/tortueuh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tortueuh/subscriptions", "organizations_url": "https://api.github.com/users/tortueuh/orgs", "repos_url": "https://api.github.com/users/tortueuh/repos", "events_url": "https://api.github.com/users/tortueuh/events{/privacy}", "received_events_url": "https://api.github.com/users/tortueuh/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-05-23T17:49:59Z", "updated_at": "2021-05-23T17:56:46Z", "closed_at": "2021-05-23T17:54:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "I use compositevideoclip for adding text to a video and this work but when i watch the video, it's freezing after 5s, the sound isn't freezing.\r\nMy code \r\n```python\r\ndef add_text_to_clip(clip_file_path):\r\n    clip = mpy.VideoFileClip(clip_file_path)\r\n    clip_with_borders = clip.margin(top=111, bottom=111)\r\n    txt_clip = mpy.TextClip(\"partie 1 Abonnez vous\", font='Segoe-UI-Bold', fontsize = 75, color = 'white', bg_color='red')\r\n    txt_clip = txt_clip.set_pos((int(clip.w/2)-int(txt_clip.w/2),0)).set_duration(clip.duration) \r\n    txt_clip_with_borders = mpy.CompositeVideoClip([clip_with_borders, txt_clip]) \r\n    clip = mpy.CompositeVideoClip([clip,txt_clip_with_borders])\r\n    clip.write_videofile(clip_file_path)\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1577/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1577/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1563", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1563/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1563/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1563/events", "html_url": "https://github.com/Zulko/moviepy/issues/1563", "id": 891837028, "node_id": "MDU6SXNzdWU4OTE4MzcwMjg=", "number": 1563, "title": "potential bug of use_clip_fps_by_default", "user": {"login": "charmie11", "id": 57680262, "node_id": "MDQ6VXNlcjU3NjgwMjYy", "avatar_url": "https://avatars.githubusercontent.com/u/57680262?v=4", "gravatar_id": "", "url": "https://api.github.com/users/charmie11", "html_url": "https://github.com/charmie11", "followers_url": "https://api.github.com/users/charmie11/followers", "following_url": "https://api.github.com/users/charmie11/following{/other_user}", "gists_url": "https://api.github.com/users/charmie11/gists{/gist_id}", "starred_url": "https://api.github.com/users/charmie11/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/charmie11/subscriptions", "organizations_url": "https://api.github.com/users/charmie11/orgs", "repos_url": "https://api.github.com/users/charmie11/repos", "events_url": "https://api.github.com/users/charmie11/events{/privacy}", "received_events_url": "https://api.github.com/users/charmie11/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-05-14T11:14:49Z", "updated_at": "2022-03-10T21:33:11Z", "closed_at": "2021-05-27T13:50:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "use_clip_fps_by_default deletes specified fps information from function arguments.\r\n\r\nAt the end of the decorator, a and new_a are set as follows. I guess names or fun() is the cause of this bug.\r\n```python\r\nnames = ('kw',)\r\na = ('video.mp4', 30, 'libx264')\r\nnew_a = ['video.mp4']\r\nk = {'audio_codec': 'aac', 'temp_audiofile': 'tmp.m4a'}\r\nnew_k = {'audio_codec': 'aac', 'temp_audiofile': 'tmp.m4a'}\r\n```\r\n\r\n- Python: 3.6.10\r\n- MoviePy: 1.0.3\r\n- OS: Ubuntu 20.04", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1563/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1563/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1562", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1562/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1562/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1562/events", "html_url": "https://github.com/Zulko/moviepy/issues/1562", "id": 891545300, "node_id": "MDU6SXNzdWU4OTE1NDUzMDA=", "number": 1562, "title": "Export movie file dose not have sound.", "user": {"login": "sleepless-se", "id": 8334793, "node_id": "MDQ6VXNlcjgzMzQ3OTM=", "avatar_url": "https://avatars.githubusercontent.com/u/8334793?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sleepless-se", "html_url": "https://github.com/sleepless-se", "followers_url": "https://api.github.com/users/sleepless-se/followers", "following_url": "https://api.github.com/users/sleepless-se/following{/other_user}", "gists_url": "https://api.github.com/users/sleepless-se/gists{/gist_id}", "starred_url": "https://api.github.com/users/sleepless-se/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sleepless-se/subscriptions", "organizations_url": "https://api.github.com/users/sleepless-se/orgs", "repos_url": "https://api.github.com/users/sleepless-se/repos", "events_url": "https://api.github.com/users/sleepless-se/events{/privacy}", "received_events_url": "https://api.github.com/users/sleepless-se/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 583252697, "node_id": "MDU6TGFiZWw1ODMyNTI2OTc=", "url": "https://api.github.com/repos/Zulko/moviepy/labels/audio", "name": "audio", "color": "bfd4f2", "default": false, "description": "Related to AudioClip, or handling of audio in general."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-05-14T02:41:35Z", "updated_at": "2021-11-10T14:25:25Z", "closed_at": "2021-05-14T05:45:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm trying to set audio clip on image clip on Google Colab.\r\n\r\n```\r\n!pip install moviepy==1.0.3\r\nfrom moviepy.editor import *\r\nclip = ImageClip('sample.png')\r\naudio_clip = AudioFileClip('sample.mp3')\r\nclip = clip.set_duration(audio_clip.duration)\r\nclip = clip.set_audio(audio_clip)\r\n```\r\n\r\nAudio and duration are returns value.\r\n\r\n```\r\n>>> clip.audio\r\n<moviepy.audio.io.AudioFileClip.AudioFileClip object at 0x1241dbd30>\r\n>>> clip.duration\r\n4.18\r\n```\r\n\r\nHowever when I write as file.\r\n\r\n```\r\nclip.write_videofile('sample.mp4',fps=4)\r\n```\r\n\r\nI can't hear the sound. Are there any mistake on my code? I don't know how should I change my code... If you have any idea please help me!\r\n\r\nMy environment is\r\n\r\nI had run same code on google colab, I got same problem. The video has 4.18 seconds, however it's no sound...\r\n\r\nI downloaded audio file from [ondoku3](https://ondoku3.com/) and [youtube](https://yt1s.com/youtube-to-mp3/en2) as mp3\r\n\r\n#### Specifications\r\n\r\n - Google Colab\r\n - Python 3.7.10\r\n - moviepy 1.0.3\r\n\r\nAlso I try on my Mac, the problem has happened.\r\n\r\n - MacOS 11.3.1\r\n - Python 3.9.5\r\n - moviepy 1.0.3", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1562/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1562/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1561", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1561/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1561/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1561/events", "html_url": "https://github.com/Zulko/moviepy/issues/1561", "id": 890180159, "node_id": "MDU6SXNzdWU4OTAxODAxNTk=", "number": 1561, "title": "video.set_audio invalid", "user": {"login": "farons", "id": 27187429, "node_id": "MDQ6VXNlcjI3MTg3NDI5", "avatar_url": "https://avatars.githubusercontent.com/u/27187429?v=4", "gravatar_id": "", "url": "https://api.github.com/users/farons", "html_url": "https://github.com/farons", "followers_url": "https://api.github.com/users/farons/followers", "following_url": "https://api.github.com/users/farons/following{/other_user}", "gists_url": "https://api.github.com/users/farons/gists{/gist_id}", "starred_url": "https://api.github.com/users/farons/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/farons/subscriptions", "organizations_url": "https://api.github.com/users/farons/orgs", "repos_url": "https://api.github.com/users/farons/repos", "events_url": "https://api.github.com/users/farons/events{/privacy}", "received_events_url": "https://api.github.com/users/farons/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-05-12T14:59:17Z", "updated_at": "2021-05-13T01:36:27Z", "closed_at": "2021-05-13T01:36:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "# I  want to add mp3 to mp4\r\n\r\n```\r\nvideo_path = \"a.mp4\"  # 8 s\r\naudio_path = \"a.mp3\"  #  7s \r\nnew_video_path = \"c.mp4\"  \r\nvideo = VideoFileClip(video_path)\r\n# video = video.without_audio()\r\naudio = AudioFileClip(audio_path)\r\nvideo = video.set_audio(audio)\r\nvideo.write_videofile(new_video_path)\r\n```\r\nI noticed that the time had been added, but the new file had no sound", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1561/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1561/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1558", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1558/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1558/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1558/events", "html_url": "https://github.com/Zulko/moviepy/issues/1558", "id": 880558333, "node_id": "MDU6SXNzdWU4ODA1NTgzMzM=", "number": 1558, "title": "crossfadein on TextClip doesn't work with the newest code", "user": {"login": "ningzichun", "id": 30206254, "node_id": "MDQ6VXNlcjMwMjA2MjU0", "avatar_url": "https://avatars.githubusercontent.com/u/30206254?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ningzichun", "html_url": "https://github.com/ningzichun", "followers_url": "https://api.github.com/users/ningzichun/followers", "following_url": "https://api.github.com/users/ningzichun/following{/other_user}", "gists_url": "https://api.github.com/users/ningzichun/gists{/gist_id}", "starred_url": "https://api.github.com/users/ningzichun/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ningzichun/subscriptions", "organizations_url": "https://api.github.com/users/ningzichun/orgs", "repos_url": "https://api.github.com/users/ningzichun/repos", "events_url": "https://api.github.com/users/ningzichun/events{/privacy}", "received_events_url": "https://api.github.com/users/ningzichun/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 583252675, "node_id": "MDU6TGFiZWw1ODMyNTI2NzU=", "url": "https://api.github.com/repos/Zulko/moviepy/labels/video", "name": "video", "color": "bfd4f2", "default": false, "description": "Related to VideoClip and related classes, or handling of video in general."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-05-08T09:21:36Z", "updated_at": "2021-05-18T15:53:24Z", "closed_at": "2021-05-18T15:53:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello, I want the title text to fade in on the background, so I use crossfadein on TextClip.\r\nMoviepy v2 brings performance improvements, and while migrating codes, I found that crossfadein doesn't work.\r\n\r\n#### Expected Behavior\r\nOn moviepy v1.0.3, \r\n```\r\nfrom moviepy.editor import *\r\ncolor_clip = ColorClip(size=(1920,1080),color=(223, 234, 240)).set_duration(5)\r\ntitle_clip = TextClip(\"TestTitle\", color='green', kerning=5, fontsize=140).set_duration(8).set_start(0.5).crossfadein(2).set_position(('center',400))\r\nopenning = CompositeVideoClip([color_clip,title_clip], size=(1920,1080)).subclip(0, 3)\r\nopenning.write_videofile(\"op_v1.mp4\",fps=5)\r\n```\r\nthe output is\r\n\r\nhttps://user-images.githubusercontent.com/30206254/117535918-ca0e9380-b02a-11eb-8750-cd51ecd38bfd.mp4\r\n\r\nand it contains fade in animation.\r\n\r\n#### Actual Behavior\r\nOn newest code(b5e5a30), the output is\r\n\r\nhttps://user-images.githubusercontent.com/30206254/117535920-d0047480-b02a-11eb-9c85-6ab0b2c658b0.mp4\r\n\r\nIt doesn't have fade in animation.\r\n\r\n\r\n#### Steps to Reproduce the Problem\r\n```\r\nfrom moviepy.editor import *\r\ncolor_clip = ColorClip(size=(1920,1080),color=(223, 234, 240)).with_duration(5)\r\ntitle_clip = TextClip(\"TestTitle\", color='green', kerning=5, font_size=140).with_duration(8).with_start(0.5).crossfadein(2).with_position(('center',400))\r\nopenning = CompositeVideoClip([color_clip,title_clip], size=(1920,1080)).subclip(0, 3)\r\nopenning.write_videofile(\"op_v2.mp4\",fps=5)\r\n```\r\n\r\n#### Specifications\r\n\r\n  - Python Version: Python 3.9.1\r\n  - Moviepy Version: 2.0.0.dev2(master)\r\n  - Platform Name: Windows\r\n  - Platform Version: Windows 10 x64\r\n\r\n\r\nOr may there be other ways to achieve this function, thanks in advance for suggestions.", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1558/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1558/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1539", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1539/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1539/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1539/events", "html_url": "https://github.com/Zulko/moviepy/issues/1539", "id": 857506684, "node_id": "MDU6SXNzdWU4NTc1MDY2ODQ=", "number": 1539, "title": "Clip has an extra frame when using an fps of 43", "user": {"login": "richard-viney", "id": 236550, "node_id": "MDQ6VXNlcjIzNjU1MA==", "avatar_url": "https://avatars.githubusercontent.com/u/236550?v=4", "gravatar_id": "", "url": "https://api.github.com/users/richard-viney", "html_url": "https://github.com/richard-viney", "followers_url": "https://api.github.com/users/richard-viney/followers", "following_url": "https://api.github.com/users/richard-viney/following{/other_user}", "gists_url": "https://api.github.com/users/richard-viney/gists{/gist_id}", "starred_url": "https://api.github.com/users/richard-viney/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/richard-viney/subscriptions", "organizations_url": "https://api.github.com/users/richard-viney/orgs", "repos_url": "https://api.github.com/users/richard-viney/repos", "events_url": "https://api.github.com/users/richard-viney/events{/privacy}", "received_events_url": "https://api.github.com/users/richard-viney/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-04-14T04:21:57Z", "updated_at": "2021-05-19T17:02:52Z", "closed_at": "2021-05-19T17:02:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Expected Behavior\r\n\r\nThe following code should write a video file that has 100 frames, but it writes a video with 101 frames. This is triggered by having an fps of 43, which causes some rounding or other numerical inaccuracies to occur internally resulting in an extra frame being written.\r\n\r\nIf the FPS is 40 or 25 then no extra frame is written to the output file.\r\n\r\n```\r\nimport moviepy.video.io.ImageSequenceClip\r\nimport numpy as np\r\nframes = np.zeros((100, 640, 480, 3), 'float64')\r\nclip = moviepy.video.io.ImageSequenceClip.ImageSequenceClip([f for f in frames], fps=43)\r\nclip.write_videofile(\"output.mp4\")\r\n```\r\n\r\nUse `ffprobe` to read the number of frames in the output file:\r\n\r\n`ffprobe -v error -show_entries stream-nb_frames -of default=nokey=1:noprint_wrappers=1 output.mp4`\r\n\r\n#### Actual Behavior\r\n\r\nThe output video should have 100 frames to match the input data.\r\n\r\n#### Steps to Reproduce the Problem\r\n\r\nSee above for code and `ffprobe` command. Note that `clip.iter_frames` also iterates 101 frames instead of the expected 100, which I think is the underlying issue here.\r\n\r\n#### Specifications\r\n\r\n  - Python Version: 3.8.2\r\n  - Moviepy Version: 1.0.3\r\n  - Platform Name: macOS\r\n  - Platform Version: 10.15.7\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1539/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1539/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1538", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1538/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1538/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1538/events", "html_url": "https://github.com/Zulko/moviepy/issues/1538", "id": 854415044, "node_id": "MDU6SXNzdWU4NTQ0MTUwNDQ=", "number": 1538, "title": "AttributeError: 'TextClip' object has no attribute 'with_position'", "user": {"login": "TheNewThinkTank", "id": 22882700, "node_id": "MDQ6VXNlcjIyODgyNzAw", "avatar_url": "https://avatars.githubusercontent.com/u/22882700?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TheNewThinkTank", "html_url": "https://github.com/TheNewThinkTank", "followers_url": "https://api.github.com/users/TheNewThinkTank/followers", "following_url": "https://api.github.com/users/TheNewThinkTank/following{/other_user}", "gists_url": "https://api.github.com/users/TheNewThinkTank/gists{/gist_id}", "starred_url": "https://api.github.com/users/TheNewThinkTank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TheNewThinkTank/subscriptions", "organizations_url": "https://api.github.com/users/TheNewThinkTank/orgs", "repos_url": "https://api.github.com/users/TheNewThinkTank/repos", "events_url": "https://api.github.com/users/TheNewThinkTank/events{/privacy}", "received_events_url": "https://api.github.com/users/TheNewThinkTank/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 1163360583, "node_id": "MDU6TGFiZWwxMTYzMzYwNTgz", "url": "https://api.github.com/repos/Zulko/moviepy/labels/text", "name": "text", "color": "bfd4f2", "default": false, "description": "Issues dealing with TextClip, SubtitlesClip, or handling of text in general."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-04-09T10:57:42Z", "updated_at": "2022-11-16T22:17:42Z", "closed_at": "2021-04-09T11:43:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "Here is what I am trying to do:\r\n\r\n```\r\nfrom moviepy import *\r\nfrom moviepy.editor import *\r\n\r\nvideo = VideoFileClip(\"video_orig.mp4\")\r\n\r\ntxt_clip = (TextClip(\"Some dummy text\",\r\n                              fontsize=70,\r\n                              color='white'\r\n                              )\r\n                  .with_position('center')\r\n                  .with_duration(10)\r\n                  )\r\n```\r\n\r\nI am getting this error:\r\n\r\n`AttributeError: 'TextClip' object has no attribute 'with_position'`\r\n\r\n\r\n#### Expected Behavior\r\nI expected the TextClip to get created, so that I could create a composite of my original movie with this TextClip.\r\n\r\n#### Actual Behavior\r\nAttribute: 'with_position' is not recognized. I need this attribute in order to select area of video frame to insert my TextClip.\r\n\r\n#### Steps to Reproduce the Problem\r\nSimply run the script provided in the top.\r\n\r\n#### Specifications\r\n\r\n  - Python Version: 3.9.2\r\n  - Moviepy Version: 1.0.1\r\n  - Platform Name: Windows\r\n  - Platform Version: 10\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1538/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1538/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1531", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1531/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1531/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1531/events", "html_url": "https://github.com/Zulko/moviepy/issues/1531", "id": 849622002, "node_id": "MDU6SXNzdWU4NDk2MjIwMDI=", "number": 1531, "title": "Index out of bounds error when using write_audiofile()", "user": {"login": "MiniMinnoww", "id": 77149127, "node_id": "MDQ6VXNlcjc3MTQ5MTI3", "avatar_url": "https://avatars.githubusercontent.com/u/77149127?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MiniMinnoww", "html_url": "https://github.com/MiniMinnoww", "followers_url": "https://api.github.com/users/MiniMinnoww/followers", "following_url": "https://api.github.com/users/MiniMinnoww/following{/other_user}", "gists_url": "https://api.github.com/users/MiniMinnoww/gists{/gist_id}", "starred_url": "https://api.github.com/users/MiniMinnoww/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MiniMinnoww/subscriptions", "organizations_url": "https://api.github.com/users/MiniMinnoww/orgs", "repos_url": "https://api.github.com/users/MiniMinnoww/repos", "events_url": "https://api.github.com/users/MiniMinnoww/events{/privacy}", "received_events_url": "https://api.github.com/users/MiniMinnoww/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 583252697, "node_id": "MDU6TGFiZWw1ODMyNTI2OTc=", "url": "https://api.github.com/repos/Zulko/moviepy/labels/audio", "name": "audio", "color": "bfd4f2", "default": false, "description": "Related to AudioClip, or handling of audio in general."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-04-03T09:44:01Z", "updated_at": "2022-01-14T16:22:43Z", "closed_at": "2022-01-14T16:22:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Expected Behavior\r\nMy cut clip exports to an audiofile\r\n\r\n#### Actual Behavior\r\nIt gives me an index out of bounds error\r\n\r\n#### Steps to Reproduce the Problem\r\nHere is my function that cuts my video. It works, but something must be wrong.\r\n\r\n```\r\ndef cut_out_no_audio(self, videoObj, audioGap=1, minAudioLevel=0.005,\r\n                         speechGap=0.01):\r\n\r\n        vid = videoObj\r\n        vid = vid.set_duration(vid.duration)\r\n        b = vid.audio\r\n        frames_to_remove_2d = []\r\n        c_frames = []\r\n        frame_ranges = []\r\n        x = 0\r\n        indx = 0\r\n\r\n        a = b.to_soundarray()\r\n\r\n        frames_to_remove = getUnderAudio(a, minAudioLevel)\r\n\r\n        for item in frames_to_remove:\r\n            if x != 0:\r\n                if (c_frames[-1]) + 1 == item:\r\n                    c_frames.append(item)\r\n                    x += 1\r\n                else:\r\n                    frames_to_remove_2d.append(c_frames)\r\n                    c_frames = []\r\n                    x = 0\r\n            else:\r\n                c_frames.append(item)\r\n                x += 1\r\n        frames_to_remove_2d.append(c_frames)\r\n\r\n        try:\r\n            fps = vid.audio.fps\r\n        except:\r\n            fps = 11400\r\n\r\n        x = 0\r\n\r\n        for lst in frames_to_remove_2d:\r\n            try:\r\n                frame_ranges.append([lst[0] / fps, lst[-1] / fps])\r\n                x += 1\r\n            except Exception as e:\r\n                print(e)\r\n\r\n        for x in range(0, len(frame_ranges)):\r\n            if (frame_ranges[indx][1] - frame_ranges[indx][0]) < audioGap:\r\n                frame_ranges.pop(indx)\r\n            else:\r\n                indx += 1\r\n\r\n        vidAud = vid.audio\r\n        vid = vid.without_audio()\r\n\r\n        print(len(frame_ranges))\r\n        for lst in reversed(frame_ranges):\r\n            vid = vid.cutout(lst[0], lst[1])\r\n            vidAud = vidAud.cutout(lst[0], lst[1])\r\n\r\n        vid = vid.set_audio(vidAud)\r\n        if vid.audio.duration != vid.duration:\r\n            print(f\"BAD DURATION: {str(vid.duration)}, {str(vid.audio.duration)}\")\r\n\r\n        return vid\r\n```\r\n\r\nnow I go and do vid.write_videofile() and it starts but here `chunk:   1%|          | 339/28229` it gives me this long error, which ends with `IndexError: index -295637 is out of bounds for axis 0 with size 200000` (previewing the video works, so it isn't an issue with the video clip\r\n\r\nNote: This was in the exception for the make_frame() - \r\n```\r\nindices[indices >= len(self.buffer)] = len(self.buffer) - 1\r\n                result[in_time] = self.buffer[indices]\r\n                return result\r\n```\r\n\r\n#### Specifications\r\n\r\n  - Python Version: 3.9\r\n  - Moviepy Version: 2.0.0.dev2\r\n  - Let it be noted this happens on longer videos cut by this function (over 1000 seconds)\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1531/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1531/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1530", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1530/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1530/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1530/events", "html_url": "https://github.com/Zulko/moviepy/issues/1530", "id": 849488482, "node_id": "MDU6SXNzdWU4NDk0ODg0ODI=", "number": 1530, "title": "ValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()", "user": {"login": "Buster-2002", "id": 56275687, "node_id": "MDQ6VXNlcjU2Mjc1Njg3", "avatar_url": "https://avatars.githubusercontent.com/u/56275687?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Buster-2002", "html_url": "https://github.com/Buster-2002", "followers_url": "https://api.github.com/users/Buster-2002/followers", "following_url": "https://api.github.com/users/Buster-2002/following{/other_user}", "gists_url": "https://api.github.com/users/Buster-2002/gists{/gist_id}", "starred_url": "https://api.github.com/users/Buster-2002/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Buster-2002/subscriptions", "organizations_url": "https://api.github.com/users/Buster-2002/orgs", "repos_url": "https://api.github.com/users/Buster-2002/repos", "events_url": "https://api.github.com/users/Buster-2002/events{/privacy}", "received_events_url": "https://api.github.com/users/Buster-2002/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-04-02T21:18:57Z", "updated_at": "2021-04-02T21:27:08Z", "closed_at": "2021-04-02T21:25:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\nYou can format code by putting ``` (that's 3 backticks) on a line by itself at the beginning and end of each code block. For example:\r\n\r\n```\r\nfrom moviepy import *\r\nclip = ColorClip((600, 400), color=(255, 100, 0), duration=2)\r\n```\r\n-->\r\n\r\n\r\n#### Expected Behavior\r\nChange gradient\r\n\r\n#### Actual Behavior\r\nThis error being thrown:\r\n```\r\nTraceback (most recent call last):\r\n  File \"test.py\", line 54, in <module>\r\n    grad = color_gradient(moving_txt.size,p1=(0,2*h/3),\r\n  File \"C:\\Users\\User\\AppData\\Local\\Programs\\Python\\Python38\\lib\\site-packages\\moviepy\\video\\tools\\drawing.py\", line 147, in color_gradient\r\n    if vector:\r\nValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()\r\n```\r\n\r\n#### Steps to Reproduce the Problem\r\n<!-- Please include code that demonstrates this problem so that we can reproduce it. For advice on how to do this, see https://stackoverflow.com/help/mcve -->\r\nCopying the code used [here](https://zulko.github.io/moviepy/examples/star_worms.html) (also set the height to an int, not float, to avoid a `TypeError`)\r\n\r\nThis error has been mentioned [here](https://github.com/Zulko/moviepy/issues/1205), and was said to be fixed, but that doesn't appear to be the case anymore.\r\n\r\n#### Specifications\r\n\r\n  - Python Version: 3.8.5\r\n  - Moviepy Version: 1.0.3\r\n  - Platform Name: Windows 10 Pro\r\n  - Platform Version: Version 2004 OS Build 19041.867\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1530/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1530/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1529", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1529/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1529/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1529/events", "html_url": "https://github.com/Zulko/moviepy/issues/1529", "id": 842684776, "node_id": "MDU6SXNzdWU4NDI2ODQ3NzY=", "number": 1529, "title": "Video duration and Audio Duration different when using cutout()", "user": {"login": "MiniMinnoww", "id": 77149127, "node_id": "MDQ6VXNlcjc3MTQ5MTI3", "avatar_url": "https://avatars.githubusercontent.com/u/77149127?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MiniMinnoww", "html_url": "https://github.com/MiniMinnoww", "followers_url": "https://api.github.com/users/MiniMinnoww/followers", "following_url": "https://api.github.com/users/MiniMinnoww/following{/other_user}", "gists_url": "https://api.github.com/users/MiniMinnoww/gists{/gist_id}", "starred_url": "https://api.github.com/users/MiniMinnoww/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MiniMinnoww/subscriptions", "organizations_url": "https://api.github.com/users/MiniMinnoww/orgs", "repos_url": "https://api.github.com/users/MiniMinnoww/repos", "events_url": "https://api.github.com/users/MiniMinnoww/events{/privacy}", "received_events_url": "https://api.github.com/users/MiniMinnoww/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 583252697, "node_id": "MDU6TGFiZWw1ODMyNTI2OTc=", "url": "https://api.github.com/repos/Zulko/moviepy/labels/audio", "name": "audio", "color": "bfd4f2", "default": false, "description": "Related to AudioClip, or handling of audio in general."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-03-28T07:51:22Z", "updated_at": "2022-10-11T00:40:11Z", "closed_at": "2022-10-11T00:40:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "So I am using .cutout() on a file - my script looks something like this:\r\n\r\n```\r\nframe_ranges = [[10, 11], [15, 16]]\r\nfor lst in frame_ranges:\r\n            vid = vid.cutout(lst[0], lst[1])\r\n            if vid.audio.duration != vid.duration:\r\n                print(f\"BAD DURATION: {str(vid.duration)}, {str(vid.audio.duration)}\")\r\n```\r\n\r\nSo this prints 'BAD DURATION' if the audio and video times don't match - and they don't. I have checked and it is this part of the script that has the issue. It seems the audio is always a bit shorter than the video!\r\n\r\nI am using the latest dev version (it also did the same on the latest version)\r\n\r\n\r\nAs well as this - for some one clip that I am cutting with the above comes up with an ```Index out of bounds``` error when exporting (with the write_audiofile() part)  - here is the full output for that: https://pastebin.com/DELBDZC7", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1529/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1529/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1527", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1527/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1527/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1527/events", "html_url": "https://github.com/Zulko/moviepy/issues/1527", "id": 842410902, "node_id": "MDU6SXNzdWU4NDI0MTA5MDI=", "number": 1527, "title": "PyInstaller problem on Windows", "user": {"login": "mateus-werneck", "id": 25112157, "node_id": "MDQ6VXNlcjI1MTEyMTU3", "avatar_url": "https://avatars.githubusercontent.com/u/25112157?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mateus-werneck", "html_url": "https://github.com/mateus-werneck", "followers_url": "https://api.github.com/users/mateus-werneck/followers", "following_url": "https://api.github.com/users/mateus-werneck/following{/other_user}", "gists_url": "https://api.github.com/users/mateus-werneck/gists{/gist_id}", "starred_url": "https://api.github.com/users/mateus-werneck/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mateus-werneck/subscriptions", "organizations_url": "https://api.github.com/users/mateus-werneck/orgs", "repos_url": "https://api.github.com/users/mateus-werneck/repos", "events_url": "https://api.github.com/users/mateus-werneck/events{/privacy}", "received_events_url": "https://api.github.com/users/mateus-werneck/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 2411349218, "node_id": "MDU6TGFiZWwyNDExMzQ5MjE4", "url": "https://api.github.com/repos/Zulko/moviepy/labels/environment", "name": "environment", "color": "faf9f7", "default": false, "description": "Using moviepy with, or issues possibly stemming from specific OS/platforms/environments."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-03-27T04:09:03Z", "updated_at": "2022-01-14T15:43:26Z", "closed_at": "2022-01-14T15:43:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello, I've searched back and forth and couldn't find a solution for my problem. That's why i'm opening this issue.\r\n\r\nWhen using moviepy VideoFileClip and also concatenate_videos my PyInstaller executable won't work. This is what cmd returns me:\r\n\r\n![PyInstallerFFmpeg](https://user-images.githubusercontent.com/25112157/112709343-76d7eb80-8e97-11eb-87ae-5af46adb2821.png)\r\n\r\nStrangely this is the same error message that appears for me if geckodriver.exe is not in the same directory as my Pyinstaller generated exe, when using selenium webdriver. When copying geckodriver.exe to the same folder this problem just disappears.\r\n\r\nThings I've already tried:\r\n\r\n1)Set FFMPEG binary path to PATH on Windows\r\n2)--add-binary on pyinstaller\r\n3) --add-data on pyinstaller\r\n4) Copying my ffmpeg.exe to the same folder\r\n5) Importing each specific module from moviepy:\r\n\r\n\"from moviepy.video.io.VideoFileClip import VideoFileClip\"\r\n\"from moviepy.video.compositing.concatenate import concatenate_videoclips\"\r\n\r\n6) Changing binary path on config_defaullts.py\r\n\r\n\r\nI also tried to import FFPMEG_Writer, but no-go.\r\n\r\nOn Ubuntu 20.04 after importing each specific module from moviepy i was able run the pyinstaller executable. When import moviepy.editor it would not work too.\r\n\r\nAny ideas what the problem could be? Maybe permissions to open ffmpeg.exe on Windows with the .exe? \r\n\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1527/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1527/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1526", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1526/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1526/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1526/events", "html_url": "https://github.com/Zulko/moviepy/issues/1526", "id": 842008585, "node_id": "MDU6SXNzdWU4NDIwMDg1ODU=", "number": 1526, "title": "moviepy freezes original video file that i selected", "user": {"login": "bl4ckkdev", "id": 72033313, "node_id": "MDQ6VXNlcjcyMDMzMzEz", "avatar_url": "https://avatars.githubusercontent.com/u/72033313?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bl4ckkdev", "html_url": "https://github.com/bl4ckkdev", "followers_url": "https://api.github.com/users/bl4ckkdev/followers", "following_url": "https://api.github.com/users/bl4ckkdev/following{/other_user}", "gists_url": "https://api.github.com/users/bl4ckkdev/gists{/gist_id}", "starred_url": "https://api.github.com/users/bl4ckkdev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bl4ckkdev/subscriptions", "organizations_url": "https://api.github.com/users/bl4ckkdev/orgs", "repos_url": "https://api.github.com/users/bl4ckkdev/repos", "events_url": "https://api.github.com/users/bl4ckkdev/events{/privacy}", "received_events_url": "https://api.github.com/users/bl4ckkdev/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-03-26T14:28:04Z", "updated_at": "2021-04-05T22:15:19Z", "closed_at": "2021-04-05T22:15:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "Ok, moviepy kind of corrupts my video and freezes it after the first second wit the audio playing, the video before was working fine but then it froze the whole vieo file with no console output.\r\n\r\ncode:\r\n```\r\npy\r\nimport discord\r\nfrom discord.ext import commands\r\nfrom moviepy.editor import *\r\nimport cv2\r\n\r\nbot = commands.Bot(command_prefix='/')\r\n# discord.Client.wait_until_ready(self)\r\n@bot.event\r\nasync def on_ready():\r\n    print(f\"Logged In As: {bot.user.name}\")\r\n    print(f\"ID: {bot.user.id}\")\r\n    print(\"Ready To Use!\")\r\n\r\n@commands.command()\r\nasync def morshu(ctx, mes):\r\n    if len(mes) < 30:\r\n        await ctx.send(\"Please wait while I am rendering the video.\") \r\n        clip = VideoFileClip(\"morshu.mp4\")\r\n        txt_clip = TextClip(mes.lower(),fontsize = 72,color=\"white\")         \r\n        txt_clip = txt_clip.set_pos(\"bottom\").set_duration(15)\r\n        video = CompositeVideoClip([clip, txt_clip])  \r\n        video.write_videofile(\"morshu.mp4\",fps=30)\r\n        await ctx.send(file=discord.File('morshu.mp4'))\r\n    else:\r\n        await ctx.send(\"Make your message smaller sorry :/\")\r\n\r\nbot.add_command(morshu)\r\nbot.run(\"\")\r\n```\r\n\r\nconsole output: https://paste.pythondiscord.com/udowuyoqig.yaml", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1526/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1526/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1524", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1524/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1524/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1524/events", "html_url": "https://github.com/Zulko/moviepy/issues/1524", "id": 838902211, "node_id": "MDU6SXNzdWU4Mzg5MDIyMTE=", "number": 1524, "title": "example of moviepy logo with a moving shadow doesn't work anymore, please, fix it", "user": {"login": "WilliamPythonDL", "id": 38245817, "node_id": "MDQ6VXNlcjM4MjQ1ODE3", "avatar_url": "https://avatars.githubusercontent.com/u/38245817?v=4", "gravatar_id": "", "url": "https://api.github.com/users/WilliamPythonDL", "html_url": "https://github.com/WilliamPythonDL", "followers_url": "https://api.github.com/users/WilliamPythonDL/followers", "following_url": "https://api.github.com/users/WilliamPythonDL/following{/other_user}", "gists_url": "https://api.github.com/users/WilliamPythonDL/gists{/gist_id}", "starred_url": "https://api.github.com/users/WilliamPythonDL/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/WilliamPythonDL/subscriptions", "organizations_url": "https://api.github.com/users/WilliamPythonDL/orgs", "repos_url": "https://api.github.com/users/WilliamPythonDL/repos", "events_url": "https://api.github.com/users/WilliamPythonDL/events{/privacy}", "received_events_url": "https://api.github.com/users/WilliamPythonDL/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-03-23T16:26:24Z", "updated_at": "2021-03-23T16:29:52Z", "closed_at": "2021-03-23T16:29:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "My Moviepy version : Version: 2.0.0.dev2\r\n\r\nexample code in logo.py doesn't work,\r\nfirst Error: no attribute \"with_mask\"\r\nsecond Error: mask in \"with_mask(mask)\" is not defind\r\nthirth Error: NameError: name 'biGradientScreen' is not defined\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1524/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1524/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1519", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1519/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1519/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1519/events", "html_url": "https://github.com/Zulko/moviepy/issues/1519", "id": 836344694, "node_id": "MDU6SXNzdWU4MzYzNDQ2OTQ=", "number": 1519, "title": "AttributeError: 'VideoFileClip' object has no attribute 'with_position'", "user": {"login": "MaximKitaev", "id": 72766918, "node_id": "MDQ6VXNlcjcyNzY2OTE4", "avatar_url": "https://avatars.githubusercontent.com/u/72766918?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MaximKitaev", "html_url": "https://github.com/MaximKitaev", "followers_url": "https://api.github.com/users/MaximKitaev/followers", "following_url": "https://api.github.com/users/MaximKitaev/following{/other_user}", "gists_url": "https://api.github.com/users/MaximKitaev/gists{/gist_id}", "starred_url": "https://api.github.com/users/MaximKitaev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MaximKitaev/subscriptions", "organizations_url": "https://api.github.com/users/MaximKitaev/orgs", "repos_url": "https://api.github.com/users/MaximKitaev/repos", "events_url": "https://api.github.com/users/MaximKitaev/events{/privacy}", "received_events_url": "https://api.github.com/users/MaximKitaev/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-03-19T20:40:11Z", "updated_at": "2021-05-24T17:53:58Z", "closed_at": "2021-05-24T17:53:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "\r\n```\r\nfrom moviepy.editor import *\r\nstart = VideoFileClip(r'D:\\tiktok\\video\\pattern1\\start1.mp4')\r\nstart.with_position('center')\n```\r\n\r\n\r\n#### Expected Behavior\r\n\r\n\r\n#### Actual Behavior\r\nAttributeError: 'VideoFileClip' object has no attribute 'with_position'\r\n\r\n\r\n#### Steps to Reproduce the Problem\r\nI updated the moviepy version with the command \r\nI pip install moviepy --pre --upgrade\r\nBut the methods did not appear in the code and VideoClip class.\r\n\r\n#### Specifications\r\n\r\n  - Python Version: 3.60\r\n  - Moviepy Version:  2.0.0.dev2\r\n  - Platform Name: Windows\r\n  - Platform Version: 10\r\n\r\n![image](https://user-images.githubusercontent.com/72766918/111839798-6f02cf00-890c-11eb-9cee-58282a2ed973.png)\r\n\r\nPlease tell me what I need to change in order to update this wonderful library", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1519/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1519/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1508", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1508/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1508/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1508/events", "html_url": "https://github.com/Zulko/moviepy/issues/1508", "id": 817400278, "node_id": "MDU6SXNzdWU4MTc0MDAyNzg=", "number": 1508, "title": "High RAM use from Leftover FFMPEG processes when using write_videofile", "user": {"login": "Grenadier928", "id": 78811645, "node_id": "MDQ6VXNlcjc4ODExNjQ1", "avatar_url": "https://avatars.githubusercontent.com/u/78811645?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Grenadier928", "html_url": "https://github.com/Grenadier928", "followers_url": "https://api.github.com/users/Grenadier928/followers", "following_url": "https://api.github.com/users/Grenadier928/following{/other_user}", "gists_url": "https://api.github.com/users/Grenadier928/gists{/gist_id}", "starred_url": "https://api.github.com/users/Grenadier928/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Grenadier928/subscriptions", "organizations_url": "https://api.github.com/users/Grenadier928/orgs", "repos_url": "https://api.github.com/users/Grenadier928/repos", "events_url": "https://api.github.com/users/Grenadier928/events{/privacy}", "received_events_url": "https://api.github.com/users/Grenadier928/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-02-26T14:26:35Z", "updated_at": "2021-02-27T15:00:25Z", "closed_at": "2021-02-27T15:00:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm having an issue where writing a video to a file begins consuming all of my RAM. For example, during most of my program's execution, less than 4 gigs of RAM are in use. When I write to a video file, that number begins to drastically climb. Within less than a minute, its around 12 gigs. It typically crashes python around this point since my system runs out of memory. Looking at the task manager, I can see dozens of FFMPEG and conhost processes running when write_videofile is called. Typically, I can manage to write a file that is less than 2 minutes long, since it finishes writing to a file before I run out of memory. The resulting file is usually only around 50 megabytes, so I have no idea how writing to the file is taking this much memory.\r\n\r\nI tried to address this by running my code in a loop so that it outputs files in 30 second increments which I could manually stitch together later. My reasoning was that I could free up extra memory between each write to avoid running out of memory. This is where things get weird:\r\n```\r\niteration = 0\r\n\r\nwhile (iteration * 30) <= FileDuration:\r\n    goodExportClip = realFinalMovie.subclip(iteration * 30, (iteration * 30) + 30)\r\n    goodExportClip.write_videofile(outputFile + str(iteration) + \".mp4\", preset=\"ultrafast\")\r\n    \r\n    goodExportClip.close()\r\n    del goodExportClip\r\n    gc.collect()\r\n    iteration +=1\r\n    print(\"Now sleeping for 8 seconds...\")\r\n    time.sleep(8)\r\n```\r\n\r\nWhat happens here is that although I free up a small amount of memory by closing the subclips after writing them out, the old FFMPEG and conhost processes from the write_videofile STILL remain in memory. As a result, I can still only export around 2 minutes of video before I run out of RAM.\r\n\r\n\r\n#### Expected Behavior\r\nFFMPEG processes to use a \"normal\" amount of memory during a write, and the FFMPEG/conhost processes to terminate after the write is finished\r\n\r\n#### Actual Behavior\r\nFFMPEG continues to consume memory until the system runs out of memory or the write finishes; whichever happens first. Old FFMPEG processes from write_videofile do not terminate when the write is finished, even when the clips write_videofile was called on are manaully deleted in memory.\r\n\r\n#### Steps to Reproduce the Problem\r\nWrite a video file over a minute using write_videofile on Windows. The FFMPEG and conhost processes from the write will stay in memory, even after the write is finished and the clip has manually been closed and removed from memory.\r\n\r\n\r\n#### Specifications\r\n\r\n  - Python Version: 3.7.9\r\n  - Moviepy Version: 1.0.3\r\n  - Platform Name: Windows 10 Pro\r\n  - Platform Version: Build 18363\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1508/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1508/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1507", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1507/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1507/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1507/events", "html_url": "https://github.com/Zulko/moviepy/issues/1507", "id": 814917647, "node_id": "MDU6SXNzdWU4MTQ5MTc2NDc=", "number": 1507, "title": "TypeError Example LOGO", "user": {"login": "excellentiam-prog", "id": 66888451, "node_id": "MDQ6VXNlcjY2ODg4NDUx", "avatar_url": "https://avatars.githubusercontent.com/u/66888451?v=4", "gravatar_id": "", "url": "https://api.github.com/users/excellentiam-prog", "html_url": "https://github.com/excellentiam-prog", "followers_url": "https://api.github.com/users/excellentiam-prog/followers", "following_url": "https://api.github.com/users/excellentiam-prog/following{/other_user}", "gists_url": "https://api.github.com/users/excellentiam-prog/gists{/gist_id}", "starred_url": "https://api.github.com/users/excellentiam-prog/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/excellentiam-prog/subscriptions", "organizations_url": "https://api.github.com/users/excellentiam-prog/orgs", "repos_url": "https://api.github.com/users/excellentiam-prog/repos", "events_url": "https://api.github.com/users/excellentiam-prog/events{/privacy}", "received_events_url": "https://api.github.com/users/excellentiam-prog/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 760686230, "node_id": "MDU6TGFiZWw3NjA2ODYyMzA=", "url": "https://api.github.com/repos/Zulko/moviepy/labels/images", "name": "images", "color": "bfd4f2", "default": false, "description": "Related to ImageClip, or handling of images in general."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2021-02-23T23:23:44Z", "updated_at": "2022-01-14T15:50:58Z", "closed_at": "2022-01-14T15:50:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "Dear, greetings.\r\n\r\nI'm using moviepy 1.0.3, it's amazing. \r\n\r\nI tried to create a logo following:\r\nhttps://github.com/Zulko/moviepy/blob/master/examples/logo.py\r\n\r\nBut there are several issues. For example, \r\n1) the variable \"screen\" is never used\r\n2) 'ImageClip' object has no attribute 'with_mask'\r\n3) the variable \"im\" in \"im.set_pos(2 * [\"center\"]), shade]\" is not defined\r\n4) TypeError \"__init__() got an unexpected keyword argument 'is_mask'\" in VideoClip(is_mask=True, get_frame=mask_frame)\r\n\r\nI would like suggestions, please", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1507/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1507/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1504", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1504/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1504/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1504/events", "html_url": "https://github.com/Zulko/moviepy/issues/1504", "id": 811646254, "node_id": "MDU6SXNzdWU4MTE2NDYyNTQ=", "number": 1504, "title": "TextClip make line in linux", "user": {"login": "meitnerium", "id": 149830, "node_id": "MDQ6VXNlcjE0OTgzMA==", "avatar_url": "https://avatars.githubusercontent.com/u/149830?v=4", "gravatar_id": "", "url": "https://api.github.com/users/meitnerium", "html_url": "https://github.com/meitnerium", "followers_url": "https://api.github.com/users/meitnerium/followers", "following_url": "https://api.github.com/users/meitnerium/following{/other_user}", "gists_url": "https://api.github.com/users/meitnerium/gists{/gist_id}", "starred_url": "https://api.github.com/users/meitnerium/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/meitnerium/subscriptions", "organizations_url": "https://api.github.com/users/meitnerium/orgs", "repos_url": "https://api.github.com/users/meitnerium/repos", "events_url": "https://api.github.com/users/meitnerium/events{/privacy}", "received_events_url": "https://api.github.com/users/meitnerium/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 1163360583, "node_id": "MDU6TGFiZWwxMTYzMzYwNTgz", "url": "https://api.github.com/repos/Zulko/moviepy/labels/text", "name": "text", "color": "bfd4f2", "default": false, "description": "Issues dealing with TextClip, SubtitlesClip, or handling of text in general."}, {"id": 1866735520, "node_id": "MDU6TGFiZWwxODY2NzM1NTIw", "url": "https://api.github.com/repos/Zulko/moviepy/labels/lib-ImageMagick", "name": "lib-ImageMagick", "color": "d6b289", "default": false, "description": "Issues pertaining to dependency ImageMagick."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2021-02-19T03:16:17Z", "updated_at": "2022-01-14T15:48:06Z", "closed_at": "2022-01-14T15:48:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "I add text to a video and it's work fine in windows. \r\n<!--\r\nYou can format code by putting ``` (that's 3 backticks) on a line by itself at the beginning and end of each code block. For example:\r\n-->\r\n```\r\nfrom moviepy import TextClip\r\ntxt_clip = TextClip(\"HR = \" + str(hr[i]), fontsize=myfontsize, color='green')\r\ntxt_clip = txt_clip.set_position((posx,poxy)).set_duration(1)\r\n\r\n```\r\n\r\n\r\n![image](https://user-images.githubusercontent.com/149830/108451591-153bb600-7235-11eb-951b-dd23dd2f5de2.png)\r\n\r\nHowever, in Linux, the same code create line instead of text :\r\n![image](https://user-images.githubusercontent.com/149830/108451688-40260a00-7235-11eb-8d92-9f4c8e319757.png)\r\n\r\n#### Expected Behavior\r\nSame behavior in windows and linux, or an error ...\r\n\r\n#### Actual Behavior\r\n\r\n\r\n#### Steps to Reproduce the Problem\r\n<!-- Please include code that demonstrates this problem so that we can reproduce it. For advice on how to do this, see https://stackoverflow.com/help/mcve -->\r\n```\r\nfrom moviepy.editor import VideoFileClip, concatenate_videoclips, TextClip, CompositeVideoClip, VideoClip, ImageClip\r\nmyfontsize = 150\r\nposx=10\r\npoxy = 10\r\ntxt_clip = TextClip(\"HR = 150\", fontsize=myfontsize, color='green')\r\ntxt_clip = txt_clip.set_position((posx, poxy)).set_duration(1)\r\ntxt_clip.write_videofile(\"test.mp4\",fps=24)\r\n```\r\n#### Specifications\r\n\r\n  - Python Version: Linux 3.6, windows 3.8\r\n  - Moviepy Version: 1.0.3\r\n  - Platform Name: Windows 10 and CentOS 7\r\n  - Platform Version: \r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1504/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1504/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1503", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1503/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1503/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1503/events", "html_url": "https://github.com/Zulko/moviepy/issues/1503", "id": 809054906, "node_id": "MDU6SXNzdWU4MDkwNTQ5MDY=", "number": 1503, "title": "Moviepy large memory usage upon import", "user": {"login": "shin-illua", "id": 44135157, "node_id": "MDQ6VXNlcjQ0MTM1MTU3", "avatar_url": "https://avatars.githubusercontent.com/u/44135157?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shin-illua", "html_url": "https://github.com/shin-illua", "followers_url": "https://api.github.com/users/shin-illua/followers", "following_url": "https://api.github.com/users/shin-illua/following{/other_user}", "gists_url": "https://api.github.com/users/shin-illua/gists{/gist_id}", "starred_url": "https://api.github.com/users/shin-illua/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shin-illua/subscriptions", "organizations_url": "https://api.github.com/users/shin-illua/orgs", "repos_url": "https://api.github.com/users/shin-illua/repos", "events_url": "https://api.github.com/users/shin-illua/events{/privacy}", "received_events_url": "https://api.github.com/users/shin-illua/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-02-16T07:14:46Z", "updated_at": "2021-02-17T05:21:14Z", "closed_at": "2021-02-17T05:21:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\nYou can format code by putting ``` (that's 3 backticks) on a line by itself at the beginning and end of each code block. For example:\r\n\r\n```\r\nfrom moviepy import *\r\nclip = ColorClip((600, 400), color=(255, 100, 0), duration=2)\r\n```\r\n-->\r\n\r\nOn console, I do a simple \r\n```\r\nfrom moviepy.editor import * \r\n``` \r\nor even a \r\n```\r\nfrom moviepy.video.io.VideoFileClip import VideoFileClip\r\n```\r\n\r\n\r\n#### Expected Behavior\r\nShould use lesser memory? \r\n\r\n#### Actual Behavior\r\nIt uses 1+GB of memory. \r\n\r\n#### Steps to Reproduce the Problem\r\n<!-- Please include code that demonstrates this problem so that we can reproduce it. For advice on how to do this, see https://stackoverflow.com/help/mcve -->\r\n\r\n\r\n#### Specifications\r\n\r\n  - Python Version: `Python 3.8.7 (tags/v3.8.7:6503f05, Dec 21 2020, 17:59:51) [MSC v.1928 64 bit (AMD64)] on win32`\r\n  - Moviepy Version: `moviepy==1.0.1`\r\n  - Platform Name: `Windows`\r\n  - Platform Version: `10`\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1503/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1503/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1499", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1499/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1499/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1499/events", "html_url": "https://github.com/Zulko/moviepy/issues/1499", "id": 802897100, "node_id": "MDU6SXNzdWU4MDI4OTcxMDA=", "number": 1499, "title": "Image and audio out of sync when concatenate_videoclips", "user": {"login": "wuduhren", "id": 18545288, "node_id": "MDQ6VXNlcjE4NTQ1Mjg4", "avatar_url": "https://avatars.githubusercontent.com/u/18545288?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wuduhren", "html_url": "https://github.com/wuduhren", "followers_url": "https://api.github.com/users/wuduhren/followers", "following_url": "https://api.github.com/users/wuduhren/following{/other_user}", "gists_url": "https://api.github.com/users/wuduhren/gists{/gist_id}", "starred_url": "https://api.github.com/users/wuduhren/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wuduhren/subscriptions", "organizations_url": "https://api.github.com/users/wuduhren/orgs", "repos_url": "https://api.github.com/users/wuduhren/repos", "events_url": "https://api.github.com/users/wuduhren/events{/privacy}", "received_events_url": "https://api.github.com/users/wuduhren/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 583252697, "node_id": "MDU6TGFiZWw1ODMyNTI2OTc=", "url": "https://api.github.com/repos/Zulko/moviepy/labels/audio", "name": "audio", "color": "bfd4f2", "default": false, "description": "Related to AudioClip, or handling of audio in general."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-02-07T08:21:43Z", "updated_at": "2022-01-14T15:42:20Z", "closed_at": "2022-01-14T15:42:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Scenario 1: concatenate_videoclips from clips\r\n```\r\nclips1 = ...\r\nclips2 = ...\r\nclips3 = ...\r\nclips = clip1s + clip2s + clip3s\r\nclips = concatenate_videoclips(clips, method='compose')\r\nclips_concatenated.write_videofile(output_path, codec='png', fps=5, threads=4, logger=None)\r\n```\r\n\r\n#### Scenario 2: concatenate_videoclips from clips that reads from file\r\n```\r\nclips1 = ...\r\nclips2 = ...\r\nclips3 = ...\r\n\r\nclips1.write_videofile(output_path1, codec='png', fps=5, threads=4, logger=None)\r\nclips2.write_videofile(output_path2, codec='png', fps=5, threads=4, logger=None)\r\nclips3.write_videofile(output_path3, codec='png', fps=5, threads=4, logger=None)\r\n\r\nclips = [VideoFileClip(output_path1), VideoFileClip(output_path2), VideoFileClip(output_path3)]\r\nclips = concatenate_videoclips(clips, method='compose')\r\nclips_concatenated.write_videofile(output_path, codec='png', fps=5, threads=4, logger=None)\r\n```\r\n\r\n#### Unexpected Behavior\r\nI have lots of clips. Memory is not large enough for me to `concatenate_videoclips` all at once.\r\nSo I write those clips into video first then read those file as `VideoFileClip()` later, then `concatenate_videoclips`. (Scenario 2)\r\nHowever, I found that the image and audio of the video made in Scenario 2 are out of sync.\r\n\r\nIf I use Scenario 1, it will not.\r\n\r\n####\r\n  - Python Version: 3.7.3\r\n  - Moviepy Version: 1.0.3\r\n  - Platform Name: \r\n  - Platform Version:\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1499/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1499/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1491", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1491/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1491/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1491/events", "html_url": "https://github.com/Zulko/moviepy/issues/1491", "id": 792603570, "node_id": "MDU6SXNzdWU3OTI2MDM1NzA=", "number": 1491, "title": "Support multiline metadata values parsing in 'ffmpeg_parse_infos'", "user": {"login": "mondeja", "id": 23049315, "node_id": "MDQ6VXNlcjIzMDQ5MzE1", "avatar_url": "https://avatars.githubusercontent.com/u/23049315?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mondeja", "html_url": "https://github.com/mondeja", "followers_url": "https://api.github.com/users/mondeja/followers", "following_url": "https://api.github.com/users/mondeja/following{/other_user}", "gists_url": "https://api.github.com/users/mondeja/gists{/gist_id}", "starred_url": "https://api.github.com/users/mondeja/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mondeja/subscriptions", "organizations_url": "https://api.github.com/users/mondeja/orgs", "repos_url": "https://api.github.com/users/mondeja/repos", "events_url": "https://api.github.com/users/mondeja/events{/privacy}", "received_events_url": "https://api.github.com/users/mondeja/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}], "state": "closed", "locked": false, "assignee": {"login": "mondeja", "id": 23049315, "node_id": "MDQ6VXNlcjIzMDQ5MzE1", "avatar_url": "https://avatars.githubusercontent.com/u/23049315?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mondeja", "html_url": "https://github.com/mondeja", "followers_url": "https://api.github.com/users/mondeja/followers", "following_url": "https://api.github.com/users/mondeja/following{/other_user}", "gists_url": "https://api.github.com/users/mondeja/gists{/gist_id}", "starred_url": "https://api.github.com/users/mondeja/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mondeja/subscriptions", "organizations_url": "https://api.github.com/users/mondeja/orgs", "repos_url": "https://api.github.com/users/mondeja/repos", "events_url": "https://api.github.com/users/mondeja/events{/privacy}", "received_events_url": "https://api.github.com/users/mondeja/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "mondeja", "id": 23049315, "node_id": "MDQ6VXNlcjIzMDQ5MzE1", "avatar_url": "https://avatars.githubusercontent.com/u/23049315?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mondeja", "html_url": "https://github.com/mondeja", "followers_url": "https://api.github.com/users/mondeja/followers", "following_url": "https://api.github.com/users/mondeja/following{/other_user}", "gists_url": "https://api.github.com/users/mondeja/gists{/gist_id}", "starred_url": "https://api.github.com/users/mondeja/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mondeja/subscriptions", "organizations_url": "https://api.github.com/users/mondeja/orgs", "repos_url": "https://api.github.com/users/mondeja/repos", "events_url": "https://api.github.com/users/mondeja/events{/privacy}", "received_events_url": "https://api.github.com/users/mondeja/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2021-01-23T16:49:00Z", "updated_at": "2021-01-25T09:26:13Z", "closed_at": "2021-01-25T09:26:13Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "From #207, the output reported by the user can't be parsed correctly by `FFMpegInfosParser`:\r\n\r\n```\r\n  Metadata:\r\n    major_brand     : qt  \r\n    minor_version   : 537199360\r\n    compatible_brands: qt  \r\n    creation_time   : 2015-09-14 14:57:32\r\n    xmp             : <?xpacket begin=\"\ufeff\" id=\"W5M0MpCehiHzreSzNTczkc9d\"?>\r\n                    : <x:xmpmeta xmlns:x=\"adobe:ns:meta/\" x:xmptk=\"Adobe XMP Core 5.0-c060 61.136967, 2010/06/15-10:43:27        \">\r\n                    :  <rdf:RDF xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\">\r\n                    :   <rdf:Description rdf:about=\"\"\r\n                    :     xmlns:xmpMM=\"http://ns.adobe.com/xap/1.0/mm/\"\r\n                    :     xmlns:xmpDM=\"http://ns.adobe.com/xmp/1.0/DynamicMedia/\"\r\n                    :     xmlns:stDim=\"http://ns.adobe.com/xap/1.0/sType/Dimensions#\"\r\n                    :     xmlns:dc=\"http://purl.org/dc/elements/1.1/\"\r\n                    :    xmpMM:DocumentID=\"xmp.did:39FA818BE85AE511B9009F953BF804AA\"\r\n                    :    xmpMM:InstanceID=\"xmp.iid:39FA818BE85AE511B9009F953BF804AA\"\r\n                    :    xmpDM:videoFrameRate=\"24.000000\"\r\n                    :    xmpDM:videoFieldOrder=\"Progressive\"\r\n                    :    xmpDM:videoPixelAspectRatio=\"1/1\"\r\n                    :    xmpDM:audioSampleRate=\"44100\"\r\n                    :    xmpDM:audioSampleType=\"16Int\"\r\n                    :    xmpDM:audioChannelType=\"Mono\"\r\n                    :    dc:format=\"QuickTime\">\r\n                    :    <xmpDM:startTimecode\r\n                    :     xmpDM:timeValue=\"00:00:00:00\"\r\n                    :     xmpDM:timeFormat=\"24Timecode\"/>\r\n                    :    <xmpDM:altTimecode\r\n                    :     xmpDM:timeValue=\"00:00:00:00\"\r\n                    :     xmpDM:timeFormat=\"24Timecode\"/>\r\n                    :    <xmpDM:videoFrameSize\r\n                    :     stDim:w=\"768\"\r\n                    :     stDim:h=\"576\"\r\n                    :     stDim:unit=\"pixel\"/>\r\n                    :   </rdf:Description>\r\n                    :  </rdf:RDF>\r\n                    : </x:xmpmeta>\r\n                    :                                                                                                     \r\n                    :                                                                                                     \r\n                    :                                                                                                     \r\n                    :                                                                                                     \r\n                    :                                                                                                     \r\n                    :                                                                                                     \r\n                    :                                                                                                     \r\n                    :                                                                                                     \r\n                    :                                                                                                     \r\n                    :                                                                                                     \r\n                    :                                                                                                     \r\n                    :                                                                                                     \r\n                    :                                                                                                     \r\n                    :                                                                                                     \r\n                    :                                                                                                     \r\n                    :                                                                                                     \r\n                    :                                                                                                     \r\n                    :                                                                                                     \r\n                    :                                                                                                     \r\n                    :                                                                                                     \r\n                    :                            \r\n                    : <?xpacket end=\"w\"?>\r\n  Duration: 00:02:10.67, start: 0.000000, bitrate: 26287 kb/s\r\n    Stream #0:0(eng): Video: mjpeg (jpeg / 0x6765706A), yuvj422p(pc, bt470bg), 768x576 [SAR 72:72 DAR 4:3], 26213 kb/s, 24 fps, 24 tbr, 24 tbn, 24 tbc (default)\r\n    Metadata:\r\n      creation_time   : 2015-09-14 14:57:32\r\n      handler_name    : Gestionnaire d\ufffdalias Apple\r\n      encoder         : Photo - JPEG\r\n      timecode        : 00:00:00:00\r\n    Stream #0:1(eng): Audio: aac (mp4a / 0x6134706D), 44100 Hz, mono, fltp, 64 kb/s (default)\r\n    Metadata:\r\n      creation_time   : 2015-09-14 14:57:32\r\n      handler_name    : Gestionnaire d\ufffdalias Apple\r\n      timecode        : 00:00:00:00\r\n    Stream #0:2(eng): Data: none (tmcd / 0x64636D74) (default)\r\n    Metadata:\r\n      creation_time   : 2015-09-14 14:58:24\r\n      handler_name    : Gestionnaire d\ufffdalias Apple\r\n      timecode        : 00:00:00:00\r\nAt least one output file must be specified\r\n```\r\n\r\nXMP fields included currently in the result are:\r\n\r\n- `xmp` -> `<?xpacket begin=\"\ufeff\" id=\"W5M0MpCehiHzreSzNTczkc9d\"?>`\r\n- `<empty>` -> `<?xpacket end=\"w\"?>`\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1491/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1491/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1487", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1487/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1487/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1487/events", "html_url": "https://github.com/Zulko/moviepy/issues/1487", "id": 792566211, "node_id": "MDU6SXNzdWU3OTI1NjYyMTE=", "number": 1487, "title": "AttributeError: 'FFMPEG_AudioReader' object has no attribute 'proc'", "user": {"login": "thenewguy", "id": 77731, "node_id": "MDQ6VXNlcjc3NzMx", "avatar_url": "https://avatars.githubusercontent.com/u/77731?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thenewguy", "html_url": "https://github.com/thenewguy", "followers_url": "https://api.github.com/users/thenewguy/followers", "following_url": "https://api.github.com/users/thenewguy/following{/other_user}", "gists_url": "https://api.github.com/users/thenewguy/gists{/gist_id}", "starred_url": "https://api.github.com/users/thenewguy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thenewguy/subscriptions", "organizations_url": "https://api.github.com/users/thenewguy/orgs", "repos_url": "https://api.github.com/users/thenewguy/repos", "events_url": "https://api.github.com/users/thenewguy/events{/privacy}", "received_events_url": "https://api.github.com/users/thenewguy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2021-01-23T14:04:05Z", "updated_at": "2022-10-11T05:32:56Z", "closed_at": "2021-02-22T19:41:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\r\nException ignored in: <bound method FFMPEG_AudioReader.__del__ of <moviepy.audio.io.readers.FFMPEG_AudioReader object at 0x7fc339261cf8>>\r\nTraceback (most recent call last):\r\n  File \"/home/vagrant/.tox/py36/lib/python3.6/site-packages/moviepy/audio/io/readers.py\", line 264, in __del__\r\n    self.close()\r\n  File \"/home/vagrant/.tox/py36/lib/python3.6/site-packages/moviepy/audio/io/readers.py\", line 254, in close\r\n    if self.proc:\r\nAttributeError: 'FFMPEG_AudioReader' object has no attribute 'proc'\r\n```\r\n\r\nCommit a3787719bed2ca4834ae6dc2f04567e4c229e81a works, 2482d139dd5514463bc1985bbcb5203250957603 fails. Latest master fails similarly as well.\r\n\r\nI see this error littered through our test logs for a variety of file types of audio & video.  If you have trouble reproducing it then I will try to be more detailed.\r\n\r\nOnly difference with master is a slight change in line numbers:\r\n```\r\nException ignored in: <bound method FFMPEG_AudioReader.__del__ of <moviepy.audio.io.readers.FFMPEG_AudioReader object at 0x7fcbc5e229b0>>\r\nTraceback (most recent call last):\r\n  File \"/home/vagrant/.tox/py36/lib/python3.6/site-packages/moviepy/audio/io/readers.py\", line 266, in __del__\r\n    self.close()\r\n  File \"/home/vagrant/.tox/py36/lib/python3.6/site-packages/moviepy/audio/io/readers.py\", line 256, in close\r\n    if self.proc:\r\nAttributeError: 'FFMPEG_AudioReader' object has no attribute 'proc'\r\n```", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1487/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1487/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1457", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1457/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1457/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1457/events", "html_url": "https://github.com/Zulko/moviepy/issues/1457", "id": 787512003, "node_id": "MDU6SXNzdWU3ODc1MTIwMDM=", "number": 1457, "title": "CompositeAudioClip fails on preview", "user": {"login": "mondeja", "id": 23049315, "node_id": "MDQ6VXNlcjIzMDQ5MzE1", "avatar_url": "https://avatars.githubusercontent.com/u/23049315?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mondeja", "html_url": "https://github.com/mondeja", "followers_url": "https://api.github.com/users/mondeja/followers", "following_url": "https://api.github.com/users/mondeja/following{/other_user}", "gists_url": "https://api.github.com/users/mondeja/gists{/gist_id}", "starred_url": "https://api.github.com/users/mondeja/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mondeja/subscriptions", "organizations_url": "https://api.github.com/users/mondeja/orgs", "repos_url": "https://api.github.com/users/mondeja/repos", "events_url": "https://api.github.com/users/mondeja/events{/privacy}", "received_events_url": "https://api.github.com/users/mondeja/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}], "state": "closed", "locked": false, "assignee": {"login": "mondeja", "id": 23049315, "node_id": "MDQ6VXNlcjIzMDQ5MzE1", "avatar_url": "https://avatars.githubusercontent.com/u/23049315?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mondeja", "html_url": "https://github.com/mondeja", "followers_url": "https://api.github.com/users/mondeja/followers", "following_url": "https://api.github.com/users/mondeja/following{/other_user}", "gists_url": "https://api.github.com/users/mondeja/gists{/gist_id}", "starred_url": "https://api.github.com/users/mondeja/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mondeja/subscriptions", "organizations_url": "https://api.github.com/users/mondeja/orgs", "repos_url": "https://api.github.com/users/mondeja/repos", "events_url": "https://api.github.com/users/mondeja/events{/privacy}", "received_events_url": "https://api.github.com/users/mondeja/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "mondeja", "id": 23049315, "node_id": "MDQ6VXNlcjIzMDQ5MzE1", "avatar_url": "https://avatars.githubusercontent.com/u/23049315?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mondeja", "html_url": "https://github.com/mondeja", "followers_url": "https://api.github.com/users/mondeja/followers", "following_url": "https://api.github.com/users/mondeja/following{/other_user}", "gists_url": "https://api.github.com/users/mondeja/gists{/gist_id}", "starred_url": "https://api.github.com/users/mondeja/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mondeja/subscriptions", "organizations_url": "https://api.github.com/users/mondeja/orgs", "repos_url": "https://api.github.com/users/mondeja/repos", "events_url": "https://api.github.com/users/mondeja/events{/privacy}", "received_events_url": "https://api.github.com/users/mondeja/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2021-01-16T17:19:20Z", "updated_at": "2021-01-19T20:50:01Z", "closed_at": "2021-01-19T20:50:01Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "#### Expected Behavior\r\n\r\n`CompositeVideoClip.preview` should play video and audio.\r\n\r\n#### Actual Behavior\r\n\r\nImage is displayed but not audio.\r\n\r\n#### Steps to Reproduce the Problem\r\n\r\n```python3\r\nfrom moviepy.editor import *\r\n\r\nvideo = VideoFileClip(\"media/chaplin.mp4\").with_fps(60)\r\nimage = (\r\n    ImageClip(\"media/python_logo.png\")\r\n    .with_duration(video.duration)\r\n    .with_position((\"center\", \"center\"))\r\n)\r\nfinal = CompositeVideoClip([video, image], size=video.size)\r\n\r\nfinal.preview()\r\n```\r\n\r\nRaises error:\r\n\r\n```\r\nException in thread Thread-1:\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3.8/threading.py\", line 932, in _bootstrap_inner\r\n    self.run()\r\n  File \"/usr/lib/python3.8/threading.py\", line 870, in run\r\n    self._target(*self._args, **self._kwargs)\r\n  File \"<decorator-gen-126>\", line 2, in preview\r\n  File \"./moviepy/decorators.py\", line 56, in requires_duration\r\n    return func(clip, *args, **kwargs)\r\n  File \"./moviepy/audio/io/preview.py\", line 50, in preview\r\n    sndarray = clip.to_soundarray(timings, nbytes=nbytes, quantize=True)\r\n  File \"<decorator-gen-81>\", line 2, in to_soundarray\r\n  File \"./moviepy/decorators.py\", line 56, in requires_duration\r\n    return func(clip, *args, **kwargs)\r\n  File \"./moviepy/audio/AudioClip.py\", line 119, in to_soundarray\r\n    fps = self.fps\r\nAttributeError: 'CompositeAudioClip' object has no attribute 'fps'\r\n```\r\n\r\nThe error does not appear using `concatenate_videoclips`:\r\n\r\n```python\r\n\r\nfrom moviepy.editor import *\r\n\r\nvideo = VideoFileClip(\"media/chaplin.mp4\").with_fps(60)\r\nimage = (\r\n    ImageClip(\"media/python_logo.png\")\r\n    .with_duration(video.duration)\r\n    .with_position((\"center\", \"center\"))\r\n)\r\nfinal = concatenate_videoclips([video, image])\r\n\r\nfinal.preview()\r\n```\r\n\r\n#### Specifications\r\n\r\n  - Python Version: 3.8.5\r\n  - Moviepy Version: master\r\n  - Platform Name: Ubuntu\r\n  - Platform Version: 20.04\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1457/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1457/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1441", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1441/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1441/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1441/events", "html_url": "https://github.com/Zulko/moviepy/issues/1441", "id": 786030607, "node_id": "MDU6SXNzdWU3ODYwMzA2MDc=", "number": 1441, "title": "'coreader' methods of 'VideoFileClip' and 'AudioFileClip' are buggy", "user": {"login": "mondeja", "id": 23049315, "node_id": "MDQ6VXNlcjIzMDQ5MzE1", "avatar_url": "https://avatars.githubusercontent.com/u/23049315?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mondeja", "html_url": "https://github.com/mondeja", "followers_url": "https://api.github.com/users/mondeja/followers", "following_url": "https://api.github.com/users/mondeja/following{/other_user}", "gists_url": "https://api.github.com/users/mondeja/gists{/gist_id}", "starred_url": "https://api.github.com/users/mondeja/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mondeja/subscriptions", "organizations_url": "https://api.github.com/users/mondeja/orgs", "repos_url": "https://api.github.com/users/mondeja/repos", "events_url": "https://api.github.com/users/mondeja/events{/privacy}", "received_events_url": "https://api.github.com/users/mondeja/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}], "state": "closed", "locked": false, "assignee": {"login": "mondeja", "id": 23049315, "node_id": "MDQ6VXNlcjIzMDQ5MzE1", "avatar_url": "https://avatars.githubusercontent.com/u/23049315?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mondeja", "html_url": "https://github.com/mondeja", "followers_url": "https://api.github.com/users/mondeja/followers", "following_url": "https://api.github.com/users/mondeja/following{/other_user}", "gists_url": "https://api.github.com/users/mondeja/gists{/gist_id}", "starred_url": "https://api.github.com/users/mondeja/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mondeja/subscriptions", "organizations_url": "https://api.github.com/users/mondeja/orgs", "repos_url": "https://api.github.com/users/mondeja/repos", "events_url": "https://api.github.com/users/mondeja/events{/privacy}", "received_events_url": "https://api.github.com/users/mondeja/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "mondeja", "id": 23049315, "node_id": "MDQ6VXNlcjIzMDQ5MzE1", "avatar_url": "https://avatars.githubusercontent.com/u/23049315?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mondeja", "html_url": "https://github.com/mondeja", "followers_url": "https://api.github.com/users/mondeja/followers", "following_url": "https://api.github.com/users/mondeja/following{/other_user}", "gists_url": "https://api.github.com/users/mondeja/gists{/gist_id}", "starred_url": "https://api.github.com/users/mondeja/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mondeja/subscriptions", "organizations_url": "https://api.github.com/users/mondeja/orgs", "repos_url": "https://api.github.com/users/mondeja/repos", "events_url": "https://api.github.com/users/mondeja/events{/privacy}", "received_events_url": "https://api.github.com/users/mondeja/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2021-01-14T14:24:29Z", "updated_at": "2021-01-16T02:15:43Z", "closed_at": "2021-01-16T02:15:43Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "These methods were created at #1332 and https://github.com/Zulko/moviepy/commit/fdc51d29b7ce2f3b2c4d0d907c1c62b5da168128, but IMHO I think that are a misunderstanding of how `copy.copy` and `copy.deepcopy` works in Python.\r\n\r\n- `coreader` methods currently does a shallow copy (like `copy.copy`) but only taking into account `filename` parameter.\r\n- `Clip.copy` method is working like `copy.deepcopy`, but even for `AudioClip` the `mask` and `audio` attributes are checked in the instance.\r\n\r\n### Actual Behavior\r\n\r\nThe `coreader` functionality is not working. It's implemented as `return AudioFileClip(self.filename, self.buffersize)`, but `AudioFileClip` accepts `buffersize` as a kwarg argument, so it's not taking the `buffersize`. The same applies to `VideoFileClip`.\r\n\r\nThe documentation of `coreader` methods are very poor, what are they supposed to do? I think that should be added an example, if they are really implemented and are not bad `copy.copy`-like code.\r\n\r\n#### Steps to Reproduce the Problem\r\n\r\n```python\r\n>>> from moviepy.editor import *\r\n>>> clip = AudioFileClip('media/crunching.mp3', buffersize=1000)\r\n>>> clip_2 = clip.coreader()\r\n>>> clip.buffersize\r\n1000\r\n>>> clip_2.buffersize\r\n200000\r\n```\r\n\r\n### Expected behaviour\r\n\r\nI'm not sure, are a failed copy, I'm thinking in two possible cases:\r\n\r\n- New instance with only filename as the same argument\r\n- New instance with filename and buffersize as same arguments \r\n  \r\nI suspect that are just weird copy code, and `copy` method should be used instead (ovewriting it in `AudioClip` to because a `deepcopy` in those are not needed).\r\n\r\n### Specifications\r\n\r\n  - Python Version: 3.8.5\r\n  - Moviepy Version: master\r\n  - Platform Name: Ubuntu\r\n  - Platform Version: 20.04\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1441/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1441/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1418", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1418/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1418/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1418/events", "html_url": "https://github.com/Zulko/moviepy/issues/1418", "id": 783835328, "node_id": "MDU6SXNzdWU3ODM4MzUzMjg=", "number": 1418, "title": "Centering not working while zooming (in version 2)", "user": {"login": "jcbrockschmidt", "id": 10371153, "node_id": "MDQ6VXNlcjEwMzcxMTUz", "avatar_url": "https://avatars.githubusercontent.com/u/10371153?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jcbrockschmidt", "html_url": "https://github.com/jcbrockschmidt", "followers_url": "https://api.github.com/users/jcbrockschmidt/followers", "following_url": "https://api.github.com/users/jcbrockschmidt/following{/other_user}", "gists_url": "https://api.github.com/users/jcbrockschmidt/gists{/gist_id}", "starred_url": "https://api.github.com/users/jcbrockschmidt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jcbrockschmidt/subscriptions", "organizations_url": "https://api.github.com/users/jcbrockschmidt/orgs", "repos_url": "https://api.github.com/users/jcbrockschmidt/repos", "events_url": "https://api.github.com/users/jcbrockschmidt/events{/privacy}", "received_events_url": "https://api.github.com/users/jcbrockschmidt/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-01-12T01:32:04Z", "updated_at": "2021-01-13T20:07:55Z", "closed_at": "2021-01-13T20:07:55Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Expected Behavior\r\nWhen resizing/zooming in on an image clip with a centered position, the image should be centered while zooming.\r\n\r\n#### Actual Behavior\r\nThe upper left corner of the image is zoomed into\r\n\r\n\r\n#### Steps to Reproduce the Problem\r\nWith `moviepy` version `1.0.3`, the following code works as expected, zooming into the center of the image:\r\n```python\r\nimport moviepy.editor as mp\r\n\r\nsize = (1920, 1080)\r\nimg = \"https://www.colorado.edu/cumuseum/sites/default/files/styles/widescreen/public/slider/coachwhip2_1.jpg\"\r\n\r\nslide = mp.ImageClip(img).set_fps(25).set_duration(10).resize(size)\r\nslide = slide.resize(lambda t: 1 + 0.04 * t)\r\nslide = slide.set_position((\"center\", \"center\"))\r\nslide = mp.CompositeVideoClip([slide], size=size)\r\nslide.write_videofile(\"center-zoom-v1.mp4\")\r\n```\r\nBut in version `2.0.0.dev2` (f4b8caa9) this seemingly equivalent code instead zooms into the upper left corner:\r\n```python\r\nimport moviepy.editor as mp\r\n\r\nsize = (1920, 1080)\r\nimg = \"https://www.colorado.edu/cumuseum/sites/default/files/styles/widescreen/public/slider/coachwhip2_1.jpg\"\r\n\r\nslide = mp.ImageClip(img).with_fps(25).with_duration(10).resize(size)\r\nslide = slide.resize(lambda t: 1 + 0.04 * t)\r\nslide = slide.with_position((\"center\", \"center\"))\r\nslide = mp.CompositeVideoClip([slide], size=size)\r\nslide.write_videofile(\"center-zoom-v2.mp4\")\r\n```\r\nBoth tests are using `Pillow` version `8.1.0` for the resizer.\r\n\r\n\r\n#### Specifications\r\n\r\n  - Python Version: 3.9.1\r\n  - Moviepy Version: 2.0.0.dev (f4b8caa9)\r\n  - Platform Name: Ubuntu\r\n  - Platform Version: 20.04.1 LTS\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1418/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1418/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1409", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1409/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1409/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1409/events", "html_url": "https://github.com/Zulko/moviepy/issues/1409", "id": 783342781, "node_id": "MDU6SXNzdWU3ODMzNDI3ODE=", "number": 1409, "title": "CI is failing", "user": {"login": "tburrows13", "id": 22625968, "node_id": "MDQ6VXNlcjIyNjI1OTY4", "avatar_url": "https://avatars.githubusercontent.com/u/22625968?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tburrows13", "html_url": "https://github.com/tburrows13", "followers_url": "https://api.github.com/users/tburrows13/followers", "following_url": "https://api.github.com/users/tburrows13/following{/other_user}", "gists_url": "https://api.github.com/users/tburrows13/gists{/gist_id}", "starred_url": "https://api.github.com/users/tburrows13/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tburrows13/subscriptions", "organizations_url": "https://api.github.com/users/tburrows13/orgs", "repos_url": "https://api.github.com/users/tburrows13/repos", "events_url": "https://api.github.com/users/tburrows13/events{/privacy}", "received_events_url": "https://api.github.com/users/tburrows13/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 540132314, "node_id": "MDU6TGFiZWw1NDAxMzIzMTQ=", "url": "https://api.github.com/repos/Zulko/moviepy/labels/tests", "name": "tests", "color": "abb0ff", "default": false, "description": "Related to individual tests in the test suite or running the test suite."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-01-11T12:46:28Z", "updated_at": "2021-01-11T17:17:56Z", "closed_at": "2021-01-11T16:29:53Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "In case someone wants to investigate/fix:\r\n\r\nThe CI has stopped working properly in the last couple of months. Specifically, the macOS GH Actions and the Windows Appveyor tests both error early on with missing programs/files.\r\n\r\n- [x] #1411 Windows Appveyor\r\n- [ ] #1412 macOS GH Actions", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1409/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1409/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1395", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1395/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1395/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1395/events", "html_url": "https://github.com/Zulko/moviepy/issues/1395", "id": 776185197, "node_id": "MDU6SXNzdWU3NzYxODUxOTc=", "number": 1395, "title": "a good way to solve the black border of alpha channel (text/image/video), caused by using compositeVideoClip", "user": {"login": "clotyxf", "id": 7359686, "node_id": "MDQ6VXNlcjczNTk2ODY=", "avatar_url": "https://avatars.githubusercontent.com/u/7359686?v=4", "gravatar_id": "", "url": "https://api.github.com/users/clotyxf", "html_url": "https://github.com/clotyxf", "followers_url": "https://api.github.com/users/clotyxf/followers", "following_url": "https://api.github.com/users/clotyxf/following{/other_user}", "gists_url": "https://api.github.com/users/clotyxf/gists{/gist_id}", "starred_url": "https://api.github.com/users/clotyxf/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/clotyxf/subscriptions", "organizations_url": "https://api.github.com/users/clotyxf/orgs", "repos_url": "https://api.github.com/users/clotyxf/repos", "events_url": "https://api.github.com/users/clotyxf/events{/privacy}", "received_events_url": "https://api.github.com/users/clotyxf/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 1163360583, "node_id": "MDU6TGFiZWwxMTYzMzYwNTgz", "url": "https://api.github.com/repos/Zulko/moviepy/labels/text", "name": "text", "color": "bfd4f2", "default": false, "description": "Issues dealing with TextClip, SubtitlesClip, or handling of text in general."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-12-30T03:49:43Z", "updated_at": "2022-06-09T06:37:23Z", "closed_at": "2022-06-09T06:37:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "```python\r\nimport numpy as np\r\nimport moviepy.editor as mpy\r\nfrom PIL import Image\r\n\r\ndef clip_frame_to_img(\r\n    clip, frame=2.0, withmask=True\r\n):\r\n    try:\r\n        img = clip.get_frame(frame)\r\n\r\n        if withmask and clip.mask is not None:\r\n            mask = 255 * clip.mask.get_frame(frame)\r\n            img = np.dstack([img, mask])\r\n    except:\r\n        composite_clip = mpy.CompositeVideoClip([clip])\r\n        img = composite_clip.get_frame(frame)\r\n\r\n        if withmask and composite_clip.mask is not None:\r\n            mask = 255 * composite_clip.mask.get_frame(frame)\r\n            img = np.dstack([img, mask])\r\n      \r\n    im = Image.fromarray(img.astype(\"uint8\"))\r\n    return im\r\n\r\ndef cal_relative_position(bg_position, position, bg_size=(1,1), size=(1,1)):\r\n    bg_w, bg_h = bg_size\r\n    w, h = size\r\n    bg_pos_x, bg_pos_y = bg_position\r\n    pos_x, pos_y = position\r\n\r\n    if isinstance(pos_x, str):\r\n        D = {'left': 0, 'center': round((bg_w - w) / 2), 'right': round(bg_w - w)}\r\n        pos_x = D.get(pos_x, 0)\r\n\r\n    if isinstance(position[1], str):\r\n        D = {'top': 0, 'center': round((bg_h - h) / 2), 'bottom': round(bg_h - h)}\r\n        pos_y = D.get(pos_y, 0)\r\n\r\n    return bg_pos_x + pos_x, bg_pos_y + pos_y\r\n\r\ndef transform_to_video_clip(func: callable, duration: float, position=None):\r\n    im_dict = {\"memoized_t\": 0, \"memoized_frame\": None}\r\n    \r\n    def make_frame(t):\r\n        if t == im_dict[\"memoized_t\"] and im_dict[\"memoized_frame\"] is not None:\r\n            im = im_dict[\"memoized_frame\"]\r\n        else:\r\n            im = func(t)\r\n            im = np.array(im).astype(np.uint8)\r\n            im_dict[\"memoized_t\"] = t\r\n            im_dict[\"memoized_frame\"] = im\r\n    \r\n        return im[:,:,:3]\r\n\r\n    def mask_make_frame(t):\r\n        if t == im_dict[\"memoized_t\"] and im_dict[\"memoized_frame\"] is not None:\r\n            im = im_dict[\"memoized_frame\"]\r\n        else:\r\n            im = func(t)\r\n            im = np.array(im).astype(np.uint8)\r\n            im_dict[\"memoized_t\"] = t\r\n            im_dict[\"memoized_frame\"] = im\r\n\r\n        im = 1.0 * im[:, :, 3] / 255\r\n        return im\r\n    \r\n    newclip = mpy.VideoClip(make_frame, duration=duration)\r\n    newclip.mask = mpy.VideoClip(mask_make_frame, duration=duration, ismask=True)\r\n\r\n    if position is not None:\r\n        newclip = newclip.set_position(position)\r\n\r\n    return newclip\r\n\r\ndef refactor_to_video_clip(clips, duration=None, is_mask=False, position=None, bg_size=None, scale_size=None):\r\n    \"\"\" \u91cd\u6784 mpy.Clip (\u591a\u6b21\u8c03\u7528mpy.CompositeVideoClip\u65f6\u89e3\u51b3\u9ed1\u8fb9\u95ee\u9898)\r\n    \"\"\"\r\n    clips = clips if isinstance(clips, list) else [clips]\r\n    fpss = [c.fps for c in clips if getattr(c, 'fps', None)]\r\n    fps = max(fpss) if fpss else None\r\n    duration = duration if duration is not None else max([_.duration for _ in clips])\r\n    bg_size = bg_size if bg_size is not None else clips[0].size\r\n    # compute audio\r\n    audio_clips = [v.audio for v in clips if v.audio is not None]\r\n\r\n    def func(t):\r\n        bg_im = Image.new('RGBA', size=list(map(int, bg_size)), color=(0,0,0,0))\r\n        \r\n        for clip in clips:\r\n            if clip.is_playing(t) == False:\r\n                continue\r\n\r\n            im = clip_frame_to_img(clip=clip, frame=t - clip.start)\r\n\r\n            if im is None:\r\n                continue\r\n\r\n            if position is None and hasattr(clip, 'pos') and hasattr(clip.pos, '__call__'):\r\n                clip_pos = clip.pos(t - clip.start)\r\n            else:\r\n                clip_pos = position\r\n\r\n            if clip_pos is not None and bg_size is not None:\r\n                dest = cal_relative_position((0, 0), clip_pos, bg_size, im.size)\r\n                mask_im = Image.new('RGBA', size=list(map(int, bg_size)), color=(0,0,0,0))\r\n                dest = list(map(int, dest))\r\n\r\n                if dest[0] < 0:\r\n                    if abs(dest[0]) >= im.width:\r\n                        im = Image.new('RGBA', size=(im.size), color=(0,0,0,0))\r\n                    else:\r\n                        im = im.crop(box=(abs(dest[0]), 0, im.width, im.height))\r\n                    dest[0] = 0\r\n\r\n                if dest[1] < 0:\r\n                    if abs(dest[1]) >= im.height:\r\n                        im = Image.new('RGBA', size=(im.size), color=(0,0,0,0))\r\n                    else:\r\n                        im = im.crop(box=(0, abs(dest[1]), im.width, im.height))\r\n                    dest[1] = 0\r\n\r\n                mask_im.alpha_composite(im, dest=tuple(dest))\r\n                im = mask_im\r\n\r\n            bg_im.alpha_composite(im, dest=(0, 0))\r\n        \r\n        if scale_size is not None:\r\n            newsize = list(map(int, scale_size))[::-1]\r\n            bg_im = bg_im.resize(newsize[::-1], Image.ANTIALIAS)\r\n\r\n        return bg_im\r\n\r\n    newclip = transform_to_video_clip(func=func, duration=duration)\r\n    newclip.fps = fps\r\n    newclip.end = duration\r\n\r\n    if audio_clips:\r\n        newclip.audio = concatenate_audioclips(clips=audio_clips)\r\n    \r\n    return newclip\r\n\r\n```\r\n\r\n> using compositeVideoClip:\r\n\r\n```python\r\ntext_clip = mpy.TextClip(txt=\"PRIMARY TEXT\", fontsize=55, color='red')\r\ntext_clip = text_clip.set_duration(3).set_fps(30)\r\nbg_clip = mpy.ColorClip(size=[text_clip.w, text_clip.h * 2], color=(255, 255, 255, 255), duration=3)\r\n\r\n# change size\r\ntext_clip = mpy.CompositeVideoClip([text_clip.set_position(('center', 'center'))], size=(int(text_clip.w * 0.7), text_clip.h))\r\ntext_clip = mpy.CompositeVideoClip([text_clip])\r\ntext_clip = mpy.CompositeVideoClip([text_clip])\r\nnewclip = mpy.CompositeVideoClip([bg_clip, text_clip.set_position('center')])\r\n\r\n#newclip.ipython_display()\r\nImage.fromarray(newclip.get_frame(1))\r\n```\r\n![im1](https://user-images.githubusercontent.com/7359686/103327862-5ca59180-4a91-11eb-9edd-42cd174108f5.png)\r\n\r\n\r\n> using refactor_to_video_clip:\r\n\r\n```python\r\ntext_clip = mpy.TextClip(txt=\"PRIMARY TEXT\", fontsize=55, color='red')\r\ntext_clip = text_clip.set_duration(3).set_fps(30)\r\nbg_clip = mpy.ColorClip(size=[text_clip.w, text_clip.h * 2], color=(255, 255, 255, 255), duration=3)\r\n\r\n# change size\r\ntext_clip = refactor_to_video_clip(text_clip, position=('center', 'center'), bg_size=(int(text_clip.w * 0.7), text_clip.h))\r\ntext_clip = refactor_to_video_clip(text_clip)\r\ntext_clip = refactor_to_video_clip(text_clip)\r\n# ...#\r\ntext_clip = refactor_to_video_clip(text_clip)\r\nnewclip = refactor_to_video_clip([bg_clip, text_clip])\r\nnewclip = newclip.set_fps(30)\r\nnewclip.ipython_display()\r\n\r\n#newclip.ipython_display()\r\nImage.fromarray(newclip.get_frame(1))\r\n```\r\n![im2](https://user-images.githubusercontent.com/7359686/103327911-9a0a1f00-4a91-11eb-8bab-aa9bfc8de145.png)", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1395/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1395/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1394", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1394/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1394/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1394/events", "html_url": "https://github.com/Zulko/moviepy/issues/1394", "id": 775664386, "node_id": "MDU6SXNzdWU3NzU2NjQzODY=", "number": 1394, "title": "file_to_subtitles() unicode issue", "user": {"login": "kempeng", "id": 39567537, "node_id": "MDQ6VXNlcjM5NTY3NTM3", "avatar_url": "https://avatars.githubusercontent.com/u/39567537?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kempeng", "html_url": "https://github.com/kempeng", "followers_url": "https://api.github.com/users/kempeng/followers", "following_url": "https://api.github.com/users/kempeng/following{/other_user}", "gists_url": "https://api.github.com/users/kempeng/gists{/gist_id}", "starred_url": "https://api.github.com/users/kempeng/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kempeng/subscriptions", "organizations_url": "https://api.github.com/users/kempeng/orgs", "repos_url": "https://api.github.com/users/kempeng/repos", "events_url": "https://api.github.com/users/kempeng/events{/privacy}", "received_events_url": "https://api.github.com/users/kempeng/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 542141296, "node_id": "MDU6TGFiZWw1NDIxNDEyOTY=", "url": "https://api.github.com/repos/Zulko/moviepy/labels/good-first-issue", "name": "good-first-issue", "color": "5319e7", "default": false, "description": "Especially suitable for people new to moviepy and/or programming; beginner-friendly."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-12-29T02:28:36Z", "updated_at": "2021-01-13T15:15:19Z", "closed_at": "2021-01-13T15:15:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "Not sure if this is a bug or feature request:\r\nI was trying to create a SubtitlesClip() from a .srt file with Spanish subtitles. The special characters from the .srt did not convert properly:\r\n([5.169, 9.06], 'a su p\u00e1gina de inicio. Aqu\u00ed encontrar\u00e1 todas las tareas')\r\nwas converted into:\r\n([5.169, 9.06], 'a su p\u00c3\u00a1gina de inicio. Aqu\u00c3\\xad encontrar\u00c3\u00a1 todas las tareas')\r\n\r\nThe problem is with how the function\r\nfile_to_subtitles()\r\nopens the srt file.\r\n\r\nchanging line 153 in subtitles.py from:\r\nwith open(filename,'r') as f:\r\nto\r\nwith open(filename,'r',encoding=\"utf-8\") as f:\r\nsolved the problem\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1394/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1394/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1391", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1391/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1391/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1391/events", "html_url": "https://github.com/Zulko/moviepy/issues/1391", "id": 774902328, "node_id": "MDU6SXNzdWU3NzQ5MDIzMjg=", "number": 1391, "title": "lost many frames when reading network files, and causes \"xxx bytes wanted but 0 bytes read,at frame index xxx\" and \"Using the last valid frame instead\"", "user": {"login": "jayn1985", "id": 1553127, "node_id": "MDQ6VXNlcjE1NTMxMjc=", "avatar_url": "https://avatars.githubusercontent.com/u/1553127?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jayn1985", "html_url": "https://github.com/jayn1985", "followers_url": "https://api.github.com/users/jayn1985/followers", "following_url": "https://api.github.com/users/jayn1985/following{/other_user}", "gists_url": "https://api.github.com/users/jayn1985/gists{/gist_id}", "starred_url": "https://api.github.com/users/jayn1985/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jayn1985/subscriptions", "organizations_url": "https://api.github.com/users/jayn1985/orgs", "repos_url": "https://api.github.com/users/jayn1985/repos", "events_url": "https://api.github.com/users/jayn1985/events{/privacy}", "received_events_url": "https://api.github.com/users/jayn1985/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 1866683148, "node_id": "MDU6TGFiZWwxODY2NjgzMTQ4", "url": "https://api.github.com/repos/Zulko/moviepy/labels/lib-FFmpeg", "name": "lib-FFmpeg", "color": "d6b289", "default": false, "description": "Issues pertaining to dependency FFmpeg."}, {"id": 2411349218, "node_id": "MDU6TGFiZWwyNDExMzQ5MjE4", "url": "https://api.github.com/repos/Zulko/moviepy/labels/environment", "name": "environment", "color": "faf9f7", "default": false, "description": "Using moviepy with, or issues possibly stemming from specific OS/platforms/environments."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-12-26T16:48:14Z", "updated_at": "2022-10-11T02:58:08Z", "closed_at": "2022-10-11T02:58:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Expected Behavior\r\ncould read network file correctly\r\n\r\n\r\n#### Actual Behavior\r\nwhen reading some network files, it will lost many frames, and the final videos will have some issues, such as it likes freezing (may be \"stopping\" should be precise?) when watching it which cause the effect is not good.\r\n\r\n\r\nt:  63%|\u2588\u2588\u2588\u2588\u2588\u2588\u258e   | 2274/3620 [03:36<04:02,  5.54it/s, now=None]/Users/jayn/workspace/golang/ves/scripts/venv/lib/python3.7/site-packages/moviepy/video/io/ffmpeg_reader.py:161: UserWarning: In file https://xxx.mp4, 24883200 bytes wanted but 0 bytes read,at frame index 133 (out of a total 466 frames), at time 5.32/18.64 sec. Using the last valid frame instead.\r\n  UserWarning,\r\nt:  63%|\u2588\u2588\u2588\u2588\u2588\u2588\u258e   | 2275/3620 [03:36<04:07,  5.44it/s, now=None]/Users/jayn/workspace/golang/ves/scripts/venv/lib/python3.7/site-packages/moviepy/video/io/ffmpeg_reader.py:161: UserWarning: In file https://xxx.mp4, 24883200 bytes wanted but 0 bytes read,at frame index 134 (out of a total 466 frames), at time 5.36/18.64 sec. Using the last valid frame instead.\r\n  UserWarning,\r\nt:  63%|\u2588\u2588\u2588\u2588\u2588\u2588\u258e   | 2276/3620 [03:36<04:01,  5.57it/s, now=None]/Users/jayn/workspace/golang/ves/scripts/venv/lib/python3.7/site-packages/moviepy/video/io/ffmpeg_reader.py:161: UserWarning: In file https://xxx.mp4, 24883200 bytes wanted but 0 bytes read,at frame index 135 (out of a total 466 frames), at time 5.40/18.64 sec. Using the last valid frame instead.\r\n  UserWarning,\r\nt:  63%|\u2588\u2588\u2588\u2588\u2588\u2588\u258e   | 2277/3620 [03:37<04:03,  5.51it/s, now=None]/Users/jayn/workspace/golang/ves/scripts/venv/lib/python3.7/site-packages/moviepy/video/io/ffmpeg_reader.py:161: UserWarning: In file https://xxx.mp4, 24883200 bytes wanted but 0 bytes read,at frame index 136 (out of a total 466 frames), at time 5.44/18.64 sec. Using the last valid frame instead.\r\n  UserWarning,\r\nt:  63%|\u2588\u2588\u2588\u2588\u2588\u2588\u258e   | 2278/3620 [03:37<03:57,  5.66it/s, now=None]/Users/jayn/workspace/golang/ves/scripts/venv/lib/python3.7/site-packages/moviepy/video/io/ffmpeg_reader.py:161: UserWarning: In file https://xxx.mp4, 24883200 bytes wanted but 0 bytes read,at frame index 137 (out of a total 466 frames), at time 5.48/18.64 sec. Using the last valid frame instead.\r\n  UserWarning,\r\nt:  63%|\u2588\u2588\u2588\u2588\u2588\u2588\u258e   | 2279/3620 [03:37<03:56,  5.67it/s, now=None]/Users/jayn/workspace/golang/ves/scripts/venv/lib/python3.7/site-packages/moviepy/video/io/ffmpeg_reader.py:161: UserWarning: In file https://xxx.mp4, 24883200 bytes wanted but 0 bytes read,at frame index 138 (out of a total 466 frames), at time 5.52/18.64 sec. Using the last valid frame instead.\r\n  UserWarning,\r\nt:  63%|\u2588\u2588\u2588\u2588\u2588\u2588\u258e   | 2280/3620 [03:37<03:53,  5.73it/s, now=None]/Users/jayn/workspace/golang/ves/scripts/venv/lib/python3.7/site-packages/moviepy/video/io/ffmpeg_reader.py:161: UserWarning: In file https://xxx.mp4, 24883200 bytes wanted but 0 bytes read,at frame index 139 (out of a total 466 frames), at time 5.56/18.64 sec. Using the last valid frame instead.\r\n  UserWarning,\r\n\r\n(and more other warnings...)\r\n\r\n#### Specifications\r\n\r\n  - Python Version: 3.7.8\r\n  - Moviepy Version: 2.0.0.dev2\r\n  - Platform Name: MacBook Pro\r\n  - Platform Version: macOs BigSur 11.0.1\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1391/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1391/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1390", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1390/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1390/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1390/events", "html_url": "https://github.com/Zulko/moviepy/issues/1390", "id": 773952611, "node_id": "MDU6SXNzdWU3NzM5NTI2MTE=", "number": 1390, "title": "VideoFileClip with mask gives out warning if has_mask=True and video file is looped. ", "user": {"login": "Heedster", "id": 3810492, "node_id": "MDQ6VXNlcjM4MTA0OTI=", "avatar_url": "https://avatars.githubusercontent.com/u/3810492?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Heedster", "html_url": "https://github.com/Heedster", "followers_url": "https://api.github.com/users/Heedster/followers", "following_url": "https://api.github.com/users/Heedster/following{/other_user}", "gists_url": "https://api.github.com/users/Heedster/gists{/gist_id}", "starred_url": "https://api.github.com/users/Heedster/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Heedster/subscriptions", "organizations_url": "https://api.github.com/users/Heedster/orgs", "repos_url": "https://api.github.com/users/Heedster/repos", "events_url": "https://api.github.com/users/Heedster/events{/privacy}", "received_events_url": "https://api.github.com/users/Heedster/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 583252675, "node_id": "MDU6TGFiZWw1ODMyNTI2NzU=", "url": "https://api.github.com/repos/Zulko/moviepy/labels/video", "name": "video", "color": "bfd4f2", "default": false, "description": "Related to VideoClip and related classes, or handling of video in general."}, {"id": 760686230, "node_id": "MDU6TGFiZWw3NjA2ODYyMzA=", "url": "https://api.github.com/repos/Zulko/moviepy/labels/images", "name": "images", "color": "bfd4f2", "default": false, "description": "Related to ImageClip, or handling of images in general."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-12-23T17:37:55Z", "updated_at": "2022-01-14T18:04:53Z", "closed_at": "2022-01-14T18:04:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "The warning it gives out is along the lines of\r\n\r\n> UserWarning: In file /var/folders/t4/dkz1hgzn75ld0zn3y5943wd40000gn/T/tmpyar_2sw6/fxTB6tpe28cew14XIp.gif, 238680 bytes wanted but 0 bytes read,at frame index 8 (out of a total 7 frames), at time 0.96/0.96 sec. Using the last valid frame instead.\r\n\r\n\r\n#### Expected Behavior\r\nNo warning\r\n\r\n#### Actual Behavior\r\nSo many warnings\r\n\r\n#### Steps to Reproduce the Problem\r\n<!-- Please include code that demonstrates this problem so that we can reproduce it. For advice on how to do this, see https://stackoverflow.com/help/mcve -->\r\nRead a GIF file with some transparency layer with `VideoFileClip(file_name, has_mask=True)`\r\nLoop it for more than its actual duration `loop(clip, duration=60)`\r\nAfter the original duration of the clip, it will start emitting this warning. \r\n\r\n#### Specifications\r\n\r\n  - Python Version: 3.8\r\n  - Moviepy Version: 2.0.0dev2\r\n  - Platform Name: Mac OSX\r\n  - Platform Version:\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1390/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1390/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1388", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1388/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1388/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1388/events", "html_url": "https://github.com/Zulko/moviepy/issues/1388", "id": 769190849, "node_id": "MDU6SXNzdWU3NjkxOTA4NDk=", "number": 1388, "title": "audio_normalize() of mute video leads to division by zero", "user": {"login": "ksfire", "id": 33362538, "node_id": "MDQ6VXNlcjMzMzYyNTM4", "avatar_url": "https://avatars.githubusercontent.com/u/33362538?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ksfire", "html_url": "https://github.com/ksfire", "followers_url": "https://api.github.com/users/ksfire/followers", "following_url": "https://api.github.com/users/ksfire/following{/other_user}", "gists_url": "https://api.github.com/users/ksfire/gists{/gist_id}", "starred_url": "https://api.github.com/users/ksfire/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ksfire/subscriptions", "organizations_url": "https://api.github.com/users/ksfire/orgs", "repos_url": "https://api.github.com/users/ksfire/repos", "events_url": "https://api.github.com/users/ksfire/events{/privacy}", "received_events_url": "https://api.github.com/users/ksfire/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-12-16T18:56:35Z", "updated_at": "2021-01-13T23:10:39Z", "closed_at": "2021-01-13T23:10:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\r\nytclip = ytclip.subclip(0, 10).audio_normalize()\r\n```\r\n\r\n#### Expected Behavior\r\nNormalize the audio. In this case, the input video is mute, no audio.\r\n\r\n#### Actual Behavior\r\n\r\nIf the input video has no audio, division by zero is attempted.\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"test.py\", line 141, in <module>\r\n    ytclip = ytclip.subclip(0, 10).audio_normalize()\r\n  File \"<decorator-gen-96>\", line 2, in audio_normalize\r\n  File \"/Users/xxx/lib/python3.7/site-packages/moviepy/decorators.py\", line 70, in audio_video_fx\r\n    newclip.audio =  f(clip.audio, *a, **k)\r\n  File \"/Users/xxxx/lib/python3.7/site-packages/moviepy/audio/fx/audio_normalize.py\", line 23, in audio_normalize\r\n    return volumex(clip, 1 / mv)\r\n**ZeroDivisionError: division by zero**\r\n```\r\n\r\n#### Steps to Reproduce the Problem\r\n1. pick a video with no audio\r\n2. clip = VideoFileClip(\"test.mp4\").audio_normalize()\r\n\r\n#### Workaround\r\nConvert audio to soundarry and check if there are only zeros. In that case, do not normalize. ytclip.audio.to_soundarray(nbytes=4, buffersize=1000, fps=fps))\r\n\r\n#### Specifications\r\n\r\n  - Python Version: 3.7\r\n  - Moviepy Version: 1.0.3\r\n  - Platform Name: OSX\r\n  - Platform Version: 10.14.6\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1388/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1388/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1381", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1381/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1381/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1381/events", "html_url": "https://github.com/Zulko/moviepy/issues/1381", "id": 748023399, "node_id": "MDU6SXNzdWU3NDgwMjMzOTk=", "number": 1381, "title": "write_audiofile() - RecursionError: maximum recursion depth exceeded while calling a Python object", "user": {"login": "Wilann", "id": 40744757, "node_id": "MDQ6VXNlcjQwNzQ0NzU3", "avatar_url": "https://avatars.githubusercontent.com/u/40744757?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Wilann", "html_url": "https://github.com/Wilann", "followers_url": "https://api.github.com/users/Wilann/followers", "following_url": "https://api.github.com/users/Wilann/following{/other_user}", "gists_url": "https://api.github.com/users/Wilann/gists{/gist_id}", "starred_url": "https://api.github.com/users/Wilann/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Wilann/subscriptions", "organizations_url": "https://api.github.com/users/Wilann/orgs", "repos_url": "https://api.github.com/users/Wilann/repos", "events_url": "https://api.github.com/users/Wilann/events{/privacy}", "received_events_url": "https://api.github.com/users/Wilann/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-11-21T13:47:51Z", "updated_at": "2020-11-25T12:45:40Z", "closed_at": "2020-11-25T12:45:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm trying to crop audio (.mp3) from a video (.mp4), based on a list of frames. \r\nEx. `frame_list = [26, 51, ...]`, `fps=25` and I want to crop the audio from these frames, so I crop audio from frames 1-26, 26-51, etc. \r\n\r\nStats about my files and variables: \r\nThe video is ~857.7MB\r\n`frame_list` has 993 integer elements \r\nI set `skip_frames_interval` to `fps`, to process the frame at each second \r\n\r\nA brief explanation behind my code: \r\nI'm using `subclip()` to crop the audio, and when I divide `frame_num` by `fps`, I get the video's timestamp where I need to crop. For each frame I'm only cropping a second, hence, `audio_clip = audio.subclip(audio_timestamp, audio_timestamp+1)`. \r\n\r\n```\r\nimport sys\r\nimport time\r\nfrom moviepy.editor import *\r\n\r\ndef get_crop_audio(old_vid_path, new_audio_path, frame_list, fps, total_num_frames, skip_frames_interval):\r\n    '''\r\n    Crops audio from an video based on timestamps \r\n    \r\n    Parameters:\r\n        old_vid_path:            Path to original video \r\n        new_audio_path:          Path to new audio file  \r\n        frame_list:              List of frames to crop audio from\r\n        fps:                     Frames per second \r\n        total_num_frames:        Total number of frames \r\n        skip_frames_interval:    Process every ______ frames \r\n    '''\r\n    \r\n    video = VideoFileClip(old_vid_path)\r\n    audio = video.audio\r\n    new_audio = audio.subclip(0, 0)\r\n    \r\n    num_crop_clips = len(frame_list)\r\n    audio_counter = 0\r\n    start = time.time()\r\n    \r\n    for frame_num in range(1, total_num_frames, fps):\r\n        \r\n        # If the current frame should be cropped \r\n        if frame_num in crop_frames:\r\n            \r\n            # Clip a second of audio \r\n            # Frame 26 --> Sec 1 | 26 // 25 = 1\r\n            # Frame 51 --> Sec 2 | 51 // 25 = 2\r\n            # Frame 76 --> Sec 3 | 76 // 25 = 3\r\n            # ...\r\n            audio_timestamp = frame_num // skip_frames_interval                  \r\n            audio_clip = audio.subclip(audio_timestamp, audio_timestamp+1)\r\n            new_audio = concatenate_audioclips([new_audio, audio_clip])         \r\n            \r\n            audio_counter += 1\r\n            end = time.time()\r\n            time_min = int((end-start)/60)\r\n            time_sec = round((end-start)%60)\r\n            sys.stdout.write('\\rWriting Frame: {:.2f}% {}/{}        Time Elapsed: {} min, {} s'\r\n                             .format(audio_counter*100/num_crop_clips, audio_counter, num_crop_clips,\r\n                                     time_min, time_sec))\r\n            sys.stdout.flush()\r\n    \r\n    new_audio.write_audiofile(new_audio_path, logger='bar')\r\n```\r\n\r\n#### Expected Behavior\r\nWriting Frame: 100.00% 993/993        Time Elapsed: 0 min, 1 s\r\n...\r\nMoviePy - Writing audio in new_audio_path.mp3\r\nMoviePy - Done.\r\n\r\n#### Actual Behavior\r\nRecursionError: maximum recursion depth exceeded while calling a Python object\r\n\r\n<img width=\"1321\" alt=\"Screen Shot 2020-11-21 at 8 40 46 AM\" src=\"https://user-images.githubusercontent.com/40744757/99878750-78d22b00-2bd5-11eb-99b1-e60f176cd9ca.png\">\r\n\r\n\r\n#### Steps to Reproduce the Problem\r\nTo reproduce the problem, I believe any .mp4 file would be sufficient. (I tried several files) \r\nIf not, please let me know and I'll host the specific file on Google Drive. \r\n\r\n\r\n#### Specifications\r\n\r\n  - Python Version: 3.7.0\r\n  - Moviepy Version: 1.0.3\r\n  - Platform Name: MacOS \r\n  - Platform Version: 11.0.1\r\n\r\n#### Final Words\r\nIf there's anything you need to know to help solve this issue, please let me know. \r\nThank you for checking this issue out.", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1381/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1381/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1377", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1377/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1377/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1377/events", "html_url": "https://github.com/Zulko/moviepy/issues/1377", "id": 738659321, "node_id": "MDU6SXNzdWU3Mzg2NTkzMjE=", "number": 1377, "title": "VideoFileClip open gif frames num error", "user": {"login": "huahua-hu", "id": 37257003, "node_id": "MDQ6VXNlcjM3MjU3MDAz", "avatar_url": "https://avatars.githubusercontent.com/u/37257003?v=4", "gravatar_id": "", "url": "https://api.github.com/users/huahua-hu", "html_url": "https://github.com/huahua-hu", "followers_url": "https://api.github.com/users/huahua-hu/followers", "following_url": "https://api.github.com/users/huahua-hu/following{/other_user}", "gists_url": "https://api.github.com/users/huahua-hu/gists{/gist_id}", "starred_url": "https://api.github.com/users/huahua-hu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/huahua-hu/subscriptions", "organizations_url": "https://api.github.com/users/huahua-hu/orgs", "repos_url": "https://api.github.com/users/huahua-hu/repos", "events_url": "https://api.github.com/users/huahua-hu/events{/privacy}", "received_events_url": "https://api.github.com/users/huahua-hu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 760686230, "node_id": "MDU6TGFiZWw3NjA2ODYyMzA=", "url": "https://api.github.com/repos/Zulko/moviepy/labels/images", "name": "images", "color": "bfd4f2", "default": false, "description": "Related to ImageClip, or handling of images in general."}, {"id": 2658615185, "node_id": "MDU6TGFiZWwyNjU4NjE1MTg1", "url": "https://api.github.com/repos/Zulko/moviepy/labels/fx", "name": "fx", "color": "bfd4f2", "default": false, "description": "Related to advanced effects applied via clip.fx(), or effects in general."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-11-09T04:11:14Z", "updated_at": "2022-10-11T00:38:43Z", "closed_at": "2022-10-11T00:38:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "example code:\r\n```\r\n    from moviepy.video.io.VideoFileClip import VideoFileClip\r\n    from moviepy.video.fx.resize import resize\r\n    clip = VideoFileClip(\"123.gif\")\r\n    print(clip.reader.nframes)\r\n    clip = clip.fx(resize, width=1000)\r\n    clip.write_gif(\"99999.gif\", program='ffmpeg')\r\n```\r\n\r\nuse mac open 123.gif only 4  frames but  open 99999.gif have 22 frames.\r\nif not use `clip.fx(resize, width=1000)  ` file size form 4.7MB to 32.9MB,\r\nI want to get the correct number of output frames and file size.\r\n\r\ntest gif file:\r\n![123](https://user-images.githubusercontent.com/37257003/98499498-a2f62580-2284-11eb-83a7-3afd8894f63f.gif)\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1377/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1377/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1374", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1374/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1374/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1374/events", "html_url": "https://github.com/Zulko/moviepy/issues/1374", "id": 735373906, "node_id": "MDU6SXNzdWU3MzUzNzM5MDY=", "number": 1374, "title": "Loop vfx is broken", "user": {"login": "RealA10N", "id": 23400213, "node_id": "MDQ6VXNlcjIzNDAwMjEz", "avatar_url": "https://avatars.githubusercontent.com/u/23400213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RealA10N", "html_url": "https://github.com/RealA10N", "followers_url": "https://api.github.com/users/RealA10N/followers", "following_url": "https://api.github.com/users/RealA10N/following{/other_user}", "gists_url": "https://api.github.com/users/RealA10N/gists{/gist_id}", "starred_url": "https://api.github.com/users/RealA10N/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RealA10N/subscriptions", "organizations_url": "https://api.github.com/users/RealA10N/orgs", "repos_url": "https://api.github.com/users/RealA10N/repos", "events_url": "https://api.github.com/users/RealA10N/events{/privacy}", "received_events_url": "https://api.github.com/users/RealA10N/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 51698341, "node_id": "MDU6TGFiZWw1MTY5ODM0MQ==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/duplicate", "name": "duplicate", "color": "cdcdcd", "default": true, "description": "Duplicate of another issue/PR."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-11-03T14:38:40Z", "updated_at": "2020-11-03T15:42:51Z", "closed_at": "2020-11-03T15:42:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### The problem\r\n*Running:*\r\n```python\r\nimport moviepy.editor as mvpy\r\n\r\nvid = mvpy.VideoFileClip('test.mp4')\r\nvid = vid.fx(mvpy.vfx.loop, n=2)\r\n\r\nvid.write_videofile('test_result.mp4')\r\n```\r\n*Results:*\r\n`OSError: Error in file test.mp4, Accessing time t=64.03-64.08 seconds, with clip duration=64.030000 seconds,`\r\n\r\n---\r\n\r\n*Running:*\r\n`ffmpeg -i test.mp4`\r\n\r\n*Results with:*\r\n```cmd\r\nffmpeg version 4.3.1-full_build-www.gyan.dev Copyright (c) 2000-2020 the FFmpeg developers\r\n  built with gcc 10.2.0 (Rev1, Built by MSYS2 project)\r\n  configuration: --enable-gpl --enable-version3 --enable-static --disable-w32threads --disable-autodetect --enable-fontconfig --enable-iconv --enable-gnutls --enable-libxml2 --enable-gmp --enable-lzma --enable-libsnappy --enable-zlib --enable-libssh --enable-libzmq --enable-avisynth --enable-libbluray --enable-libcaca --enable-sdl2 --enable-libdav1d --enable-libzvbi --enable-librav1e --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxvid --enable-libaom --enable-libopenjpeg --enable-libvpx --enable-libass --enable-frei0r --enable-libfreetype --enable-libfribidi --enable-libvidstab --enable-libvmaf --enable-libzimg --enable-amf --enable-cuda-llvm --enable-cuvid --enable-ffnvcodec --enable-nvdec --enable-nvenc --enable-d3d11va --enable-dxva2 --enable-libmfx --enable-libcdio --enable-libgme --enable-libmodplug --enable-libopenmpt --enable-libopencore-amrwb --enable-libmp3lame --enable-libshine --enable-libtheora --enable-libtwolame --enable-libvo-amrwbenc --enable-libwavpack --enable-libilbc --enable-libgsm --enable-libopencore-amrnb --enable-libopus --enable-libspeex --enable-libvorbis --enable-ladspa --enable-libbs2b --enable-libflite --enable-libmysofa --enable-librubberband --enable-libsoxr --enable-chromaprint\r\n  libavutil      56. 51.100 / 56. 51.100\r\n  libavcodec     58. 91.100 / 58. 91.100\r\n  libavformat    58. 45.100 / 58. 45.100\r\n  libavdevice    58. 10.100 / 58. 10.100\r\n  libavfilter     7. 85.100 /  7. 85.100\r\n  libswscale      5.  7.100 /  5.  7.100\r\n  libswresample   3.  7.100 /  3.  7.100\r\n  libpostproc    55.  7.100 / 55.  7.100\r\nInput #0, mov,mp4,m4a,3gp,3g2,mj2, from 'test.mp4':\r\n  Metadata:\r\n    major_brand     : isom\r\n    minor_version   : 512\r\n    compatible_brands: isomiso2avc1mp41\r\n    encoder         : Lavf58.29.100\r\n  Duration: 00:01:04.03, start: 0.000000, bitrate: 2879 kb/s\r\n    Stream #0:0(und): Video: h264 (High) (avc1 / 0x31637661), yuv420p, 2520x1080, 2740 kb/s, 60 fps, 60 tbr, 15360 tbn, 120 tbc (default)\r\n    Metadata:\r\n      handler_name    : VideoHandler\r\n    Stream #0:1(und): Audio: mp3 (mp4a / 0x6134706D), 44100 Hz, stereo, fltp, 127 kb/s (default)\r\n    Metadata:\r\n      handler_name    : SoundHandler\r\n```\r\n\r\n#### Specifications\r\n\r\n  - Python Version: 3.6.7\r\n  - Moviepy Version: 2.0.0.dev2\r\n  - Platform Name: Windows 10 home\r\n  - Platform Version: 10\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1374/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1374/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1372", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1372/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1372/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1372/events", "html_url": "https://github.com/Zulko/moviepy/issues/1372", "id": 735095921, "node_id": "MDU6SXNzdWU3MzUwOTU5MjE=", "number": 1372, "title": "Loop vfx will cut audio unexpectedly", "user": {"login": "RealA10N", "id": 23400213, "node_id": "MDQ6VXNlcjIzNDAwMjEz", "avatar_url": "https://avatars.githubusercontent.com/u/23400213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RealA10N", "html_url": "https://github.com/RealA10N", "followers_url": "https://api.github.com/users/RealA10N/followers", "following_url": "https://api.github.com/users/RealA10N/following{/other_user}", "gists_url": "https://api.github.com/users/RealA10N/gists{/gist_id}", "starred_url": "https://api.github.com/users/RealA10N/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RealA10N/subscriptions", "organizations_url": "https://api.github.com/users/RealA10N/orgs", "repos_url": "https://api.github.com/users/RealA10N/repos", "events_url": "https://api.github.com/users/RealA10N/events{/privacy}", "received_events_url": "https://api.github.com/users/RealA10N/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 583252697, "node_id": "MDU6TGFiZWw1ODMyNTI2OTc=", "url": "https://api.github.com/repos/Zulko/moviepy/labels/audio", "name": "audio", "color": "bfd4f2", "default": false, "description": "Related to AudioClip, or handling of audio in general."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-11-03T07:44:38Z", "updated_at": "2021-01-13T21:56:27Z", "closed_at": "2021-01-13T21:56:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "### The bug\r\n\r\nWhen using the `loop` vfx with an `n` smaller than 1 (or a `duration` smaller than original duration),\r\nthe audio clip will cut unexpectedly. \r\n\r\n```python\r\nfrom moviepy.editor import *\r\n\r\nPATH = \"\"\r\nvid = VideoFileClip(PATH)\r\nvid = vid.fx(vfx.loop, n=0.5)\r\n\r\nvid.write_videofile(\"render.mp4\")\r\n\r\n# The resulting file length will be half of the original, as intended.\r\n# However, In the rendered file, the audio will cut halfway through! (a quarter of original duration)\r\n```\r\n\r\n\r\n#### Specifications\r\n\r\n  - Python Version: 3.6\r\n  - Moviepy Version: 2.0.0.dev2\r\n  - Platform Name: Windows 10\r\n  - Platform Version: 10.0\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1372/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1372/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1371", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1371/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1371/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1371/events", "html_url": "https://github.com/Zulko/moviepy/issues/1371", "id": 734658712, "node_id": "MDU6SXNzdWU3MzQ2NTg3MTI=", "number": 1371, "title": "VideoFileClip constructor freezes with a video with a transparent layer", "user": {"login": "RealA10N", "id": 23400213, "node_id": "MDQ6VXNlcjIzNDAwMjEz", "avatar_url": "https://avatars.githubusercontent.com/u/23400213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RealA10N", "html_url": "https://github.com/RealA10N", "followers_url": "https://api.github.com/users/RealA10N/followers", "following_url": "https://api.github.com/users/RealA10N/following{/other_user}", "gists_url": "https://api.github.com/users/RealA10N/gists{/gist_id}", "starred_url": "https://api.github.com/users/RealA10N/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RealA10N/subscriptions", "organizations_url": "https://api.github.com/users/RealA10N/orgs", "repos_url": "https://api.github.com/users/RealA10N/repos", "events_url": "https://api.github.com/users/RealA10N/events{/privacy}", "received_events_url": "https://api.github.com/users/RealA10N/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-11-02T16:45:43Z", "updated_at": "2020-11-02T17:04:17Z", "closed_at": "2020-11-02T16:59:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Actual Behavior\r\nWhile creating an instance of `VideoFileClip` for a file with a transparent layer (I've tried `.avi` and `.mov`),\r\nthe program freezes.\r\n\r\nI tried working with the files in FFMPEG and there was no problem. After further investigation, I found that the program freezes exactly [here](https://github.com/Zulko/moviepy/blob/master/moviepy/video/io/ffmpeg_reader.py#L148).\r\n\r\n#### Steps to Reproduce the Problem\r\n```python\r\nfrom moviepy.editor import *\r\n\r\npath = \"\"  # path to a video with a transparent layer\r\nvideo = VideoFileClip(path, is_mask=True)  # Tested without the `is_mask` flag too, and it didn't work either.\r\n```\r\n\r\n#### Specifications\r\n\r\n  - Python Version: 3.6\r\n  - Moviepy Version: 1.0.3\r\n  - Platform Name: Windows 10 Home\r\n  - Platform Version: 10.0.19042\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1371/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1371/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1369", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1369/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1369/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1369/events", "html_url": "https://github.com/Zulko/moviepy/issues/1369", "id": 734049608, "node_id": "MDU6SXNzdWU3MzQwNDk2MDg=", "number": 1369, "title": "Crossfade effects seem deprecated", "user": {"login": "LuluDavid", "id": 49950449, "node_id": "MDQ6VXNlcjQ5OTUwNDQ5", "avatar_url": "https://avatars.githubusercontent.com/u/49950449?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LuluDavid", "html_url": "https://github.com/LuluDavid", "followers_url": "https://api.github.com/users/LuluDavid/followers", "following_url": "https://api.github.com/users/LuluDavid/following{/other_user}", "gists_url": "https://api.github.com/users/LuluDavid/gists{/gist_id}", "starred_url": "https://api.github.com/users/LuluDavid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LuluDavid/subscriptions", "organizations_url": "https://api.github.com/users/LuluDavid/orgs", "repos_url": "https://api.github.com/users/LuluDavid/repos", "events_url": "https://api.github.com/users/LuluDavid/events{/privacy}", "received_events_url": "https://api.github.com/users/LuluDavid/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 583252675, "node_id": "MDU6TGFiZWw1ODMyNTI2NzU=", "url": "https://api.github.com/repos/Zulko/moviepy/labels/video", "name": "video", "color": "bfd4f2", "default": false, "description": "Related to VideoClip and related classes, or handling of video in general."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-11-01T20:05:52Z", "updated_at": "2021-05-18T15:53:24Z", "closed_at": "2021-05-18T15:53:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Expected Behavior\r\nIn the most recent version of moviepy (git clone + pip3 install .), the following code should produce a composition of two videos with a crossfadein/crossfadeout effect for both clips\r\n```\r\nfrom moviepy.editor import *\r\nfrom moviepy.video.compositing.transitions import crossfadein, crossfadeout\r\nclip1 = VideoFileClip(file1)\r\nclip2 = VideoFileClip(file2).with_start(clip1.end - crossfade_duration)\r\n\r\nclip1 = clip1.fx(crossfadein, crossfade_duration).fx(crossfadeout, crossfade_duration)\r\nclip2 = clip2.fx(crossfadein, crossfade_duration).fx(crossfadeout, crossfade_duration)\r\n\r\nfinal_clip = CompositeVideoClip([clip1, clip2])\r\nfinal_clip.write_videofile(output_file,\r\n                           threads=2,\r\n                           fps=24,\r\n                           codec='libx264',\r\n                           audio_codec='aac',\r\n                           temp_audiofile='temp-audio.m4a',\r\n                           remove_temp=True)\r\n```\r\n#### Actual Behavior\r\nIt seems the code does not apply crossfade in the output. I do not know if it comes from a detail (the encoding for example), but I tried several formulations, and could not make it work.  \r\n\r\nSo I came back to the old version with pip3 install moviepy, and it eventually worked with the code above.\r\nMaybe I am missing a point, or maybe the transition features became obsolete since last addings to pip3.\r\n#### Specifications\r\n\r\n  - Python Version: 3.8\r\n  - Moviepy Version: pip3 latest version\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1369/reactions", "total_count": 5, "+1": 4, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 1}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1369/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1368", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1368/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1368/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1368/events", "html_url": "https://github.com/Zulko/moviepy/issues/1368", "id": 731618723, "node_id": "MDU6SXNzdWU3MzE2MTg3MjM=", "number": 1368, "title": "Loop effect needs fixing", "user": {"login": "tburrows13", "id": 22625968, "node_id": "MDQ6VXNlcjIyNjI1OTY4", "avatar_url": "https://avatars.githubusercontent.com/u/22625968?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tburrows13", "html_url": "https://github.com/tburrows13", "followers_url": "https://api.github.com/users/tburrows13/followers", "following_url": "https://api.github.com/users/tburrows13/following{/other_user}", "gists_url": "https://api.github.com/users/tburrows13/gists{/gist_id}", "starred_url": "https://api.github.com/users/tburrows13/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tburrows13/subscriptions", "organizations_url": "https://api.github.com/users/tburrows13/orgs", "repos_url": "https://api.github.com/users/tburrows13/repos", "events_url": "https://api.github.com/users/tburrows13/events{/privacy}", "received_events_url": "https://api.github.com/users/tburrows13/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 542141296, "node_id": "MDU6TGFiZWw1NDIxNDEyOTY=", "url": "https://api.github.com/repos/Zulko/moviepy/labels/good-first-issue", "name": "good-first-issue", "color": "5319e7", "default": false, "description": "Especially suitable for people new to moviepy and/or programming; beginner-friendly."}], "state": "closed", "locked": false, "assignee": {"login": "ParikhNand", "id": 25660685, "node_id": "MDQ6VXNlcjI1NjYwNjg1", "avatar_url": "https://avatars.githubusercontent.com/u/25660685?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ParikhNand", "html_url": "https://github.com/ParikhNand", "followers_url": "https://api.github.com/users/ParikhNand/followers", "following_url": "https://api.github.com/users/ParikhNand/following{/other_user}", "gists_url": "https://api.github.com/users/ParikhNand/gists{/gist_id}", "starred_url": "https://api.github.com/users/ParikhNand/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ParikhNand/subscriptions", "organizations_url": "https://api.github.com/users/ParikhNand/orgs", "repos_url": "https://api.github.com/users/ParikhNand/repos", "events_url": "https://api.github.com/users/ParikhNand/events{/privacy}", "received_events_url": "https://api.github.com/users/ParikhNand/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ParikhNand", "id": 25660685, "node_id": "MDQ6VXNlcjI1NjYwNjg1", "avatar_url": "https://avatars.githubusercontent.com/u/25660685?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ParikhNand", "html_url": "https://github.com/ParikhNand", "followers_url": "https://api.github.com/users/ParikhNand/followers", "following_url": "https://api.github.com/users/ParikhNand/following{/other_user}", "gists_url": "https://api.github.com/users/ParikhNand/gists{/gist_id}", "starred_url": "https://api.github.com/users/ParikhNand/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ParikhNand/subscriptions", "organizations_url": "https://api.github.com/users/ParikhNand/orgs", "repos_url": "https://api.github.com/users/ParikhNand/repos", "events_url": "https://api.github.com/users/ParikhNand/events{/privacy}", "received_events_url": "https://api.github.com/users/ParikhNand/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2020-10-28T16:51:01Z", "updated_at": "2021-01-16T00:34:50Z", "closed_at": "2021-01-13T21:56:26Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "You can see in [`test_loop()`](https://github.com/Zulko/moviepy/blob/master/tests/test_fx.py#L189) that `loop` is not quite working as some tests are skipped or else they would cause the tests to fail. To close this issue you need to do the following\r\n\r\n- [x] Try running the tests that are currently broken\r\n- [x] Fix `loop` so that the tests can run (or convince me that the tests are wrong :) )\r\n- [x] Add some new tests using `BitmapClip` (in the vein of [`test_freeze()`](https://github.com/Zulko/moviepy/blob/master/tests/test_fx.py#L129) to test for frame-perfect looping\r\n\r\nFeel free to comment here or on GitHub if you need some help.\r\nThis is a specific case of #1355.", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1368/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1368/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1362", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1362/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1362/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1362/events", "html_url": "https://github.com/Zulko/moviepy/issues/1362", "id": 726880162, "node_id": "MDU6SXNzdWU3MjY4ODAxNjI=", "number": 1362, "title": "installation error on mac", "user": {"login": "harshjadon9", "id": 62889318, "node_id": "MDQ6VXNlcjYyODg5MzE4", "avatar_url": "https://avatars.githubusercontent.com/u/62889318?v=4", "gravatar_id": "", "url": "https://api.github.com/users/harshjadon9", "html_url": "https://github.com/harshjadon9", "followers_url": "https://api.github.com/users/harshjadon9/followers", "following_url": "https://api.github.com/users/harshjadon9/following{/other_user}", "gists_url": "https://api.github.com/users/harshjadon9/gists{/gist_id}", "starred_url": "https://api.github.com/users/harshjadon9/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/harshjadon9/subscriptions", "organizations_url": "https://api.github.com/users/harshjadon9/orgs", "repos_url": "https://api.github.com/users/harshjadon9/repos", "events_url": "https://api.github.com/users/harshjadon9/events{/privacy}", "received_events_url": "https://api.github.com/users/harshjadon9/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-10-21T21:35:53Z", "updated_at": "2020-10-21T21:58:41Z", "closed_at": "2020-10-21T21:58:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "error:\r\n\r\n```\r\nERROR: Command errored out with exit status 1:\r\n     command: /Library/Frameworks/Python.framework/Versions/3.9/bin/python3.9 /Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/site-packages/pip/_vendor/pep517/_in_process.py prepare_metadata_for_build_wheel /tmp/tmp3w8r6sul\r\n         cwd: /private/tmp/pip-install-wlam2mat/numpy\r\n    Complete output (189 lines):\r\n    Running from numpy source directory.\r\n    setup.py:470: UserWarning: Unrecognized setuptools command, proceeding with generating Cython sources and expanding templates\r\n      run_build = parse_setuppy_commands()\r\n    Processing numpy/random/_bounded_integers.pxd.in\r\n    Processing numpy/random/_philox.pyx\r\n    Processing numpy/random/_bounded_integers.pyx.in\r\n    Processing numpy/random/_sfc64.pyx\r\n    Processing numpy/random/_mt19937.pyx\r\n    Processing numpy/random/bit_generator.pyx\r\n    Processing numpy/random/mtrand.pyx\r\n    Processing numpy/random/_generator.pyx\r\n    Processing numpy/random/_pcg64.pyx\r\n    Processing numpy/random/_common.pyx\r\n    Cythonizing sources\r\n    blas_opt_info:\r\n    blas_mkl_info:\r\n    customize UnixCCompiler\r\n      libraries mkl_rt not found in ['/Library/Frameworks/Python.framework/Versions/3.9/lib', '/usr/lib']\r\n      NOT AVAILABLE\r\n    \r\n    blis_info:\r\n      libraries blis not found in ['/Library/Frameworks/Python.framework/Versions/3.9/lib', '/usr/lib']\r\n      NOT AVAILABLE\r\n    \r\n    openblas_info:\r\n      libraries openblas not found in ['/Library/Frameworks/Python.framework/Versions/3.9/lib', '/usr/lib']\r\n      NOT AVAILABLE\r\n    \r\n    atlas_3_10_blas_threads_info:\r\n    Setting PTATLAS=ATLAS\r\n      libraries tatlas not found in ['/Library/Frameworks/Python.framework/Versions/3.9/lib', '/usr/lib']\r\n      NOT AVAILABLE\r\n    \r\n    atlas_3_10_blas_info:\r\n      libraries satlas not found in ['/Library/Frameworks/Python.framework/Versions/3.9/lib', '/usr/lib']\r\n      NOT AVAILABLE\r\n    \r\n    atlas_blas_threads_info:\r\n    Setting PTATLAS=ATLAS\r\n      libraries ptf77blas,ptcblas,atlas not found in ['/Library/Frameworks/Python.framework/Versions/3.9/lib', '/usr/lib']\r\n      NOT AVAILABLE\r\n    \r\n    atlas_blas_info:\r\n      libraries f77blas,cblas,atlas not found in ['/Library/Frameworks/Python.framework/Versions/3.9/lib', '/usr/lib']\r\n      NOT AVAILABLE\r\n    \r\n    accelerate_info:\r\n      libraries accelerate not found in ['/Library/Frameworks/Python.framework/Versions/3.9/lib', '/usr/lib']\r\n    Library accelerate was not found. Ignoring\r\n      libraries veclib not found in ['/Library/Frameworks/Python.framework/Versions/3.9/lib', '/usr/lib']\r\n    Library veclib was not found. Ignoring\r\n      FOUND:\r\n        extra_compile_args = ['-msse3', '-I/System/Library/Frameworks/vecLib.framework/Headers']\r\n        extra_link_args = ['-Wl,-framework', '-Wl,Accelerate']\r\n        define_macros = [('NO_ATLAS_INFO', 3), ('HAVE_CBLAS', None)]\r\n    \r\n      FOUND:\r\n        extra_compile_args = ['-msse3', '-I/System/Library/Frameworks/vecLib.framework/Headers']\r\n        extra_link_args = ['-Wl,-framework', '-Wl,Accelerate']\r\n        define_macros = [('NO_ATLAS_INFO', 3), ('HAVE_CBLAS', None)]\r\n    \r\n    xcode-select: note: no developer tools were found at '/Applications/Xcode.app', requesting install. Choose an option in the dialog to download the command line developer tools.\r\n    non-existing path in 'numpy/distutils': 'site.cfg'\r\n    lapack_opt_info:\r\n    lapack_mkl_info:\r\n      libraries mkl_rt not found in ['/Library/Frameworks/Python.framework/Versions/3.9/lib', '/usr/lib']\r\n      NOT AVAILABLE\r\n    \r\n    openblas_lapack_info:\r\n      libraries openblas not found in ['/Library/Frameworks/Python.framework/Versions/3.9/lib', '/usr/lib']\r\n      NOT AVAILABLE\r\n    \r\n    openblas_clapack_info:\r\n      libraries openblas,lapack not found in ['/Library/Frameworks/Python.framework/Versions/3.9/lib', '/usr/lib']\r\n      NOT AVAILABLE\r\n    \r\n    flame_info:\r\n      libraries flame not found in ['/Library/Frameworks/Python.framework/Versions/3.9/lib', '/usr/lib']\r\n      NOT AVAILABLE\r\n    \r\n    atlas_3_10_threads_info:\r\n    Setting PTATLAS=ATLAS\r\n      libraries lapack_atlas not found in /Library/Frameworks/Python.framework/Versions/3.9/lib\r\n      libraries tatlas,tatlas not found in /Library/Frameworks/Python.framework/Versions/3.9/lib\r\n      libraries lapack_atlas not found in /usr/lib\r\n      libraries tatlas,tatlas not found in /usr/lib\r\n    <class 'numpy.distutils.system_info.atlas_3_10_threads_info'>\r\n      NOT AVAILABLE\r\n    \r\n    atlas_3_10_info:\r\n      libraries lapack_atlas not found in /Library/Frameworks/Python.framework/Versions/3.9/lib\r\n      libraries satlas,satlas not found in /Library/Frameworks/Python.framework/Versions/3.9/lib\r\n      libraries lapack_atlas not found in /usr/lib\r\n      libraries satlas,satlas not found in /usr/lib\r\n    <class 'numpy.distutils.system_info.atlas_3_10_info'>\r\n      NOT AVAILABLE\r\n    \r\n    atlas_threads_info:\r\n    Setting PTATLAS=ATLAS\r\n      libraries lapack_atlas not found in /Library/Frameworks/Python.framework/Versions/3.9/lib\r\n      libraries ptf77blas,ptcblas,atlas not found in /Library/Frameworks/Python.framework/Versions/3.9/lib\r\n      libraries lapack_atlas not found in /usr/lib\r\n      libraries ptf77blas,ptcblas,atlas not found in /usr/lib\r\n    <class 'numpy.distutils.system_info.atlas_threads_info'>\r\n      NOT AVAILABLE\r\n    \r\n    atlas_info:\r\n      libraries lapack_atlas not found in /Library/Frameworks/Python.framework/Versions/3.9/lib\r\n      libraries f77blas,cblas,atlas not found in /Library/Frameworks/Python.framework/Versions/3.9/lib\r\n      libraries lapack_atlas not found in /usr/lib\r\n      libraries f77blas,cblas,atlas not found in /usr/lib\r\n    <class 'numpy.distutils.system_info.atlas_info'>\r\n      NOT AVAILABLE\r\n    \r\n      FOUND:\r\n        extra_compile_args = ['-msse3', '-I/System/Library/Frameworks/vecLib.framework/Headers']\r\n        extra_link_args = ['-Wl,-framework', '-Wl,Accelerate']\r\n        define_macros = [('NO_ATLAS_INFO', 3), ('HAVE_CBLAS', None)]\r\n    \r\n    /Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/distutils/dist.py:274: UserWarning: Unknown distribution option: 'define_macros'\r\n      warnings.warn(msg)\r\n    running dist_info\r\n    running build_src\r\n    build_src\r\n    building py_modules sources\r\n    creating build\r\n    creating build/src.macosx-10.9-x86_64-3.9\r\n    creating build/src.macosx-10.9-x86_64-3.9/numpy\r\n    creating build/src.macosx-10.9-x86_64-3.9/numpy/distutils\r\n    building library \"npymath\" sources\r\n    Could not locate executable gfortran\r\n    Could not locate executable f95\r\n    Could not locate executable f90\r\n    Could not locate executable f77\r\n    Could not locate executable xlf90\r\n    Could not locate executable xlf\r\n    Could not locate executable ifort\r\n    Could not locate executable ifc\r\n    Could not locate executable g77\r\n    Could not locate executable g95\r\n    Could not locate executable pgfortran\r\n    don't know how to compile Fortran code on platform 'posix'\r\n    xcode-select: note: no developer tools were found at '/Applications/Xcode.app', requesting install. Choose an option in the dialog to download the command line developer tools.\r\n    Traceback (most recent call last):\r\n      File \"/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/site-packages/pip/_vendor/pep517/_in_process.py\", line 280, in <module>\r\n        main()\r\n      File \"/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/site-packages/pip/_vendor/pep517/_in_process.py\", line 263, in main\r\n        json_out['return_val'] = hook(**hook_input['kwargs'])\r\n      File \"/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/site-packages/pip/_vendor/pep517/_in_process.py\", line 133, in prepare_metadata_for_build_wheel\r\n        return hook(metadata_directory, config_settings)\r\n      File \"/private/tmp/pip-build-env-9a5t7wpv/overlay/lib/python3.9/site-packages/setuptools/build_meta.py\", line 157, in prepare_metadata_for_build_wheel\r\n        self.run_setup()\r\n      File \"/private/tmp/pip-build-env-9a5t7wpv/overlay/lib/python3.9/site-packages/setuptools/build_meta.py\", line 248, in run_setup\r\n        super(_BuildMetaLegacyBackend,\r\n      File \"/private/tmp/pip-build-env-9a5t7wpv/overlay/lib/python3.9/site-packages/setuptools/build_meta.py\", line 142, in run_setup\r\n        exec(compile(code, __file__, 'exec'), locals())\r\n      File \"setup.py\", line 499, in <module>\r\n        setup_package()\r\n      File \"setup.py\", line 491, in setup_package\r\n        setup(**metadata)\r\n      File \"/private/tmp/pip-install-wlam2mat/numpy/numpy/distutils/core.py\", line 169, in setup\r\n        return old_setup(**new_attr)\r\n      File \"/private/tmp/pip-build-env-9a5t7wpv/overlay/lib/python3.9/site-packages/setuptools/__init__.py\", line 165, in setup\r\n        return distutils.core.setup(**attrs)\r\n      File \"/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/distutils/core.py\", line 148, in setup\r\n        dist.run_commands()\r\n      File \"/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/distutils/dist.py\", line 966, in run_commands\r\n        self.run_command(cmd)\r\n      File \"/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/distutils/dist.py\", line 985, in run_command\r\n        cmd_obj.run()\r\n      File \"/private/tmp/pip-build-env-9a5t7wpv/overlay/lib/python3.9/site-packages/setuptools/command/dist_info.py\", line 31, in run\r\n        egg_info.run()\r\n      File \"/private/tmp/pip-install-wlam2mat/numpy/numpy/distutils/command/egg_info.py\", line 24, in run\r\n        self.run_command(\"build_src\")\r\n      File \"/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/distutils/cmd.py\", line 313, in run_command\r\n        self.distribution.run_command(command)\r\n      File \"/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/distutils/dist.py\", line 985, in run_command\r\n        cmd_obj.run()\r\n      File \"/private/tmp/pip-install-wlam2mat/numpy/numpy/distutils/command/build_src.py\", line 144, in run\r\n        self.build_sources()\r\n      File \"/private/tmp/pip-install-wlam2mat/numpy/numpy/distutils/command/build_src.py\", line 155, in build_sources\r\n        self.build_library_sources(*libname_info)\r\n      File \"/private/tmp/pip-install-wlam2mat/numpy/numpy/distutils/command/build_src.py\", line 288, in build_library_sources\r\n        sources = self.generate_sources(sources, (lib_name, build_info))\r\n      File \"/private/tmp/pip-install-wlam2mat/numpy/numpy/distutils/command/build_src.py\", line 378, in generate_sources\r\n        source = func(extension, build_dir)\r\n      File \"numpy/core/setup.py\", line 655, in get_mathlib_info\r\n        raise RuntimeError(\"Broken toolchain: cannot link a simple C program\")\r\n    RuntimeError: Broken toolchain: cannot link a simple C program\r\n    ----------------------------------------\r\nERROR: Command errored out with exit status 1: /Library/Frameworks/Python.framework/Versions/3.9/bin/python3.9 /Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/site-packages/pip/_vendor/pep517/_in_process.py prepare_metadata_for_build_wheel /tmp/tmp3w8r6sul Check the logs for full command output.\r\n```", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1362/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1362/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1347", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1347/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1347/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1347/events", "html_url": "https://github.com/Zulko/moviepy/issues/1347", "id": 718776875, "node_id": "MDU6SXNzdWU3MTg3NzY4NzU=", "number": 1347, "title": "OSError: [WinError 6] The handle is invalid", "user": {"login": "raj6996", "id": 16426916, "node_id": "MDQ6VXNlcjE2NDI2OTE2", "avatar_url": "https://avatars.githubusercontent.com/u/16426916?v=4", "gravatar_id": "", "url": "https://api.github.com/users/raj6996", "html_url": "https://github.com/raj6996", "followers_url": "https://api.github.com/users/raj6996/followers", "following_url": "https://api.github.com/users/raj6996/following{/other_user}", "gists_url": "https://api.github.com/users/raj6996/gists{/gist_id}", "starred_url": "https://api.github.com/users/raj6996/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/raj6996/subscriptions", "organizations_url": "https://api.github.com/users/raj6996/orgs", "repos_url": "https://api.github.com/users/raj6996/repos", "events_url": "https://api.github.com/users/raj6996/events{/privacy}", "received_events_url": "https://api.github.com/users/raj6996/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-10-11T07:17:04Z", "updated_at": "2020-10-19T06:20:42Z", "closed_at": "2020-10-11T07:42:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Expected Behavior\r\n```\r\nMoviepy - Done !\r\nMoviepy - video ready D:\\0.Github\\English\\supercut.mp4\r\nException ignored in: <function FFMPEG_VideoReader.__del__ at 0x000002318A9A6700>\r\nTraceback (most recent call last):\r\n  File \"C:\\Python38\\lib\\site-packages\\moviepy\\video\\io\\ffmpeg_reader.py\", line 199, in __del__\r\n    self.close()\r\n  File \"C:\\Python38\\lib\\site-packages\\moviepy\\video\\io\\ffmpeg_reader.py\", line 190, in close\r\n    self.proc.terminate()\r\n  File \"C:\\Python38\\lib\\subprocess.py\", line 1442, in terminate\r\n    _winapi.TerminateProcess(self._handle, 1)\r\nOSError: [WinError 6] The handle is invalid\r\nException ignored in: <function FFMPEG_AudioReader.__del__ at 0x000002318A9A6CA0>\r\nTraceback (most recent call last):\r\n  File \"C:\\Python38\\lib\\site-packages\\moviepy\\audio\\io\\readers.py\", line 254, in __del__\r\n    self.close_proc()\r\n  File \"C:\\Python38\\lib\\site-packages\\moviepy\\audio\\io\\readers.py\", line 149, in close_proc\r\n    self.proc.terminate()\r\n  File \"C:\\Python38\\lib\\subprocess.py\", line 1442, in terminate\r\n    _winapi.TerminateProcess(self._handle, 1)\r\nOSError: [WinError 6] The handle is invalid\r\n\r\nAdministrator@WIN-R2BWEDEWS MINGW64 /c/Python38/Lib/site-packages/videogrep\r\n$\r\n```\r\n\r\n#### Actual Behavior\r\nThis is not right place to discuss, but I checked code somehow related to moviepy,\r\nI used videogrep in Windows with Github bash.\r\n#### Specifications\r\n\r\n  - Python Version: 3.8\r\n  - Moviepy Version: Installed with Videogrep (not installed myself)\r\n  - Platform Name: Windows 10 pro\r\n  - Platform Version: [Version 10.0.19041.421]\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1347/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1347/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1343", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1343/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1343/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1343/events", "html_url": "https://github.com/Zulko/moviepy/issues/1343", "id": 718630385, "node_id": "MDU6SXNzdWU3MTg2MzAzODU=", "number": 1343, "title": "different images created with imperceivable difference when comparing frame created in Gitlab-Runner(Linux) and frame created locally using Mac OS", "user": {"login": "OneWorld-github", "id": 19984261, "node_id": "MDQ6VXNlcjE5OTg0MjYx", "avatar_url": "https://avatars.githubusercontent.com/u/19984261?v=4", "gravatar_id": "", "url": "https://api.github.com/users/OneWorld-github", "html_url": "https://github.com/OneWorld-github", "followers_url": "https://api.github.com/users/OneWorld-github/followers", "following_url": "https://api.github.com/users/OneWorld-github/following{/other_user}", "gists_url": "https://api.github.com/users/OneWorld-github/gists{/gist_id}", "starred_url": "https://api.github.com/users/OneWorld-github/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/OneWorld-github/subscriptions", "organizations_url": "https://api.github.com/users/OneWorld-github/orgs", "repos_url": "https://api.github.com/users/OneWorld-github/repos", "events_url": "https://api.github.com/users/OneWorld-github/events{/privacy}", "received_events_url": "https://api.github.com/users/OneWorld-github/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 1865899707, "node_id": "MDU6TGFiZWwxODY1ODk5NzA3", "url": "https://api.github.com/repos/Zulko/moviepy/labels/docker", "name": "docker", "color": "b0a2db", "default": false, "description": "Anything to do with running MoviePy in Docker containers."}, {"id": 2411349218, "node_id": "MDU6TGFiZWwyNDExMzQ5MjE4", "url": "https://api.github.com/repos/Zulko/moviepy/labels/environment", "name": "environment", "color": "faf9f7", "default": false, "description": "Using moviepy with, or issues possibly stemming from specific OS/platforms/environments."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-10-10T14:23:08Z", "updated_at": "2021-01-14T00:42:20Z", "closed_at": "2021-01-14T00:42:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Expected Behavior\r\nFor moviepy to create identical video regardless of whether run locally on Mac or in Gitlab-Runner (Linux) or using Docker.\r\n\r\n#### Actual Behavior\r\nWhen I \r\n1. create a gif video with a slide in of a colorClip on a coloured background (the video only has two colours) inside Docker set up for Gitlab-Runner (linux),\r\nand \r\n2. I create the gif video using exact same code locally on my mac\r\n3. and extract the frame from each of these gif videos that has a hash difference\r\n4. I extract them as PNGs because it is lossless, and then I compare the PNGs\r\n\r\nI see that there are values that are not zero and in most cases up to 255, which should be zero when subtracted from each other if they were identical.\r\n\r\nThe difference is not visually perceivable, however it is different enough to create a completely new SHA256 hash.\r\nMaybe there is a difference between the build in Linux and the build on Mac that creates a very slightly different video?\r\nThe difference artefacts can be seen in the top right and bottom right of the sliding color rectangle, like a little checkerboard pattern of\r\n\r\n255, 0, 255,\r\n0, 255, 0\r\n255, 0, 255\r\n\r\nIn the two colours of the video.\r\n\r\nWondering if anyone had experienced this, and if they have a fix or workaround for it?  Or indeed any experiment suggestions, to determine what could be the cause of the problem?\r\n\r\nI have been experimenting with difference and perceptual hashing, which seems to be a solution for this particular slide in unit-test.  However, Moviepy has lots of other effects.\r\n\r\n#### Steps to Reproduce the Problem\r\ncreate code that creates a background colour, and a colour clip rectangle in the video, apply slide in, extract gif video.  Push that code that creates the gif video to gitlab.  Locally, extract frames from video.\r\n\r\nssh in to gitlab-runner and run the same code to generate the gif video, copy the gif file to your local using sftp, then you can use the extract frames code.  Compare the local gif frames to the gitlab gif frames to see the differences.\r\n\r\nCreate some code to create the hash for the frame.  Compare the hashes, to see if they are the same.\r\n\r\n#### Specifications\r\n  - Python Version: 3.7.4\r\n  - Moviepy Version: 1.0.0\r\n  - Platform Name: Mac OS Mojave\r\n  - Platform Version: 10.14.6", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1343/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1343/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1338", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1338/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1338/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1338/events", "html_url": "https://github.com/Zulko/moviepy/issues/1338", "id": 717580158, "node_id": "MDU6SXNzdWU3MTc1ODAxNTg=", "number": 1338, "title": "Deprecation warnings", "user": {"login": "tburrows13", "id": 22625968, "node_id": "MDQ6VXNlcjIyNjI1OTY4", "avatar_url": "https://avatars.githubusercontent.com/u/22625968?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tburrows13", "html_url": "https://github.com/tburrows13", "followers_url": "https://api.github.com/users/tburrows13/followers", "following_url": "https://api.github.com/users/tburrows13/following{/other_user}", "gists_url": "https://api.github.com/users/tburrows13/gists{/gist_id}", "starred_url": "https://api.github.com/users/tburrows13/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tburrows13/subscriptions", "organizations_url": "https://api.github.com/users/tburrows13/orgs", "repos_url": "https://api.github.com/users/tburrows13/repos", "events_url": "https://api.github.com/users/tburrows13/events{/privacy}", "received_events_url": "https://api.github.com/users/tburrows13/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 542141296, "node_id": "MDU6TGFiZWw1NDIxNDEyOTY=", "url": "https://api.github.com/repos/Zulko/moviepy/labels/good-first-issue", "name": "good-first-issue", "color": "5319e7", "default": false, "description": "Especially suitable for people new to moviepy and/or programming; beginner-friendly."}], "state": "closed", "locked": false, "assignee": {"login": "mondeja", "id": 23049315, "node_id": "MDQ6VXNlcjIzMDQ5MzE1", "avatar_url": "https://avatars.githubusercontent.com/u/23049315?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mondeja", "html_url": "https://github.com/mondeja", "followers_url": "https://api.github.com/users/mondeja/followers", "following_url": "https://api.github.com/users/mondeja/following{/other_user}", "gists_url": "https://api.github.com/users/mondeja/gists{/gist_id}", "starred_url": "https://api.github.com/users/mondeja/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mondeja/subscriptions", "organizations_url": "https://api.github.com/users/mondeja/orgs", "repos_url": "https://api.github.com/users/mondeja/repos", "events_url": "https://api.github.com/users/mondeja/events{/privacy}", "received_events_url": "https://api.github.com/users/mondeja/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "mondeja", "id": 23049315, "node_id": "MDQ6VXNlcjIzMDQ5MzE1", "avatar_url": "https://avatars.githubusercontent.com/u/23049315?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mondeja", "html_url": "https://github.com/mondeja", "followers_url": "https://api.github.com/users/mondeja/followers", "following_url": "https://api.github.com/users/mondeja/following{/other_user}", "gists_url": "https://api.github.com/users/mondeja/gists{/gist_id}", "starred_url": "https://api.github.com/users/mondeja/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mondeja/subscriptions", "organizations_url": "https://api.github.com/users/mondeja/orgs", "repos_url": "https://api.github.com/users/mondeja/repos", "events_url": "https://api.github.com/users/mondeja/events{/privacy}", "received_events_url": "https://api.github.com/users/mondeja/received_events", "type": "User", "site_admin": false}, {"login": "somstrom", "id": 56190288, "node_id": "MDQ6VXNlcjU2MTkwMjg4", "avatar_url": "https://avatars.githubusercontent.com/u/56190288?v=4", "gravatar_id": "", "url": "https://api.github.com/users/somstrom", "html_url": "https://github.com/somstrom", "followers_url": "https://api.github.com/users/somstrom/followers", "following_url": "https://api.github.com/users/somstrom/following{/other_user}", "gists_url": "https://api.github.com/users/somstrom/gists{/gist_id}", "starred_url": "https://api.github.com/users/somstrom/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/somstrom/subscriptions", "organizations_url": "https://api.github.com/users/somstrom/orgs", "repos_url": "https://api.github.com/users/somstrom/repos", "events_url": "https://api.github.com/users/somstrom/events{/privacy}", "received_events_url": "https://api.github.com/users/somstrom/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/Zulko/moviepy/milestones/6", "html_url": "https://github.com/Zulko/moviepy/milestone/6", "labels_url": "https://api.github.com/repos/Zulko/moviepy/milestones/6/labels", "id": 5132992, "node_id": "MDk6TWlsZXN0b25lNTEzMjk5Mg==", "number": 6, "title": "Release v2.0.0", "description": "See #1089 for discussion", "creator": {"login": "tburrows13", "id": 22625968, "node_id": "MDQ6VXNlcjIyNjI1OTY4", "avatar_url": "https://avatars.githubusercontent.com/u/22625968?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tburrows13", "html_url": "https://github.com/tburrows13", "followers_url": "https://api.github.com/users/tburrows13/followers", "following_url": "https://api.github.com/users/tburrows13/following{/other_user}", "gists_url": "https://api.github.com/users/tburrows13/gists{/gist_id}", "starred_url": "https://api.github.com/users/tburrows13/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tburrows13/subscriptions", "organizations_url": "https://api.github.com/users/tburrows13/orgs", "repos_url": "https://api.github.com/users/tburrows13/repos", "events_url": "https://api.github.com/users/tburrows13/events{/privacy}", "received_events_url": "https://api.github.com/users/tburrows13/received_events", "type": "User", "site_admin": false}, "open_issues": 17, "closed_issues": 54, "state": "open", "created_at": "2020-02-23T16:34:44Z", "updated_at": "2022-10-10T23:57:57Z", "due_on": null, "closed_at": null}, "comments": 1, "created_at": "2020-10-08T18:48:53Z", "updated_at": "2021-01-14T23:55:48Z", "closed_at": "2021-01-14T23:55:48Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "When running the test suite it reveals some deprecations:\r\n\r\n      /home/runner/work/moviepy/moviepy/moviepy/audio/AudioClip.py:121: FutureWarning: arrays to stack must be passed as a \"sequence\" type such as list or tuple. Support for non-sequence iterables such as generators is deprecated as of NumPy 1.16 and will raise an error in the future.\r\n\r\n      /home/runner/work/moviepy/moviepy/moviepy/video/io/gif_writers.py:323: DeprecationWarning: tostring() is deprecated. Use tobytes() instead.\r\n\r\nSource: https://github.com/Zulko/moviepy/runs/1227641497 (under PyTest)\r\nI think that the first one is NumPy and the second is Pillow (PIL).\r\n\r\nIt would be good to investigate and fix these 2 warnings.", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1338/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1338/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1326", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1326/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1326/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1326/events", "html_url": "https://github.com/Zulko/moviepy/issues/1326", "id": 714132453, "node_id": "MDU6SXNzdWU3MTQxMzI0NTM=", "number": 1326, "title": "BitmapClip produces wrong output with fps != 1", "user": {"login": "mxbi", "id": 6796648, "node_id": "MDQ6VXNlcjY3OTY2NDg=", "avatar_url": "https://avatars.githubusercontent.com/u/6796648?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mxbi", "html_url": "https://github.com/mxbi", "followers_url": "https://api.github.com/users/mxbi/followers", "following_url": "https://api.github.com/users/mxbi/following{/other_user}", "gists_url": "https://api.github.com/users/mxbi/gists{/gist_id}", "starred_url": "https://api.github.com/users/mxbi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mxbi/subscriptions", "organizations_url": "https://api.github.com/users/mxbi/orgs", "repos_url": "https://api.github.com/users/mxbi/repos", "events_url": "https://api.github.com/users/mxbi/events{/privacy}", "received_events_url": "https://api.github.com/users/mxbi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 583252675, "node_id": "MDU6TGFiZWw1ODMyNTI2NzU=", "url": "https://api.github.com/repos/Zulko/moviepy/labels/video", "name": "video", "color": "bfd4f2", "default": false, "description": "Related to VideoClip and related classes, or handling of video in general."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Zulko/moviepy/milestones/6", "html_url": "https://github.com/Zulko/moviepy/milestone/6", "labels_url": "https://api.github.com/repos/Zulko/moviepy/milestones/6/labels", "id": 5132992, "node_id": "MDk6TWlsZXN0b25lNTEzMjk5Mg==", "number": 6, "title": "Release v2.0.0", "description": "See #1089 for discussion", "creator": {"login": "tburrows13", "id": 22625968, "node_id": "MDQ6VXNlcjIyNjI1OTY4", "avatar_url": "https://avatars.githubusercontent.com/u/22625968?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tburrows13", "html_url": "https://github.com/tburrows13", "followers_url": "https://api.github.com/users/tburrows13/followers", "following_url": "https://api.github.com/users/tburrows13/following{/other_user}", "gists_url": "https://api.github.com/users/tburrows13/gists{/gist_id}", "starred_url": "https://api.github.com/users/tburrows13/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tburrows13/subscriptions", "organizations_url": "https://api.github.com/users/tburrows13/orgs", "repos_url": "https://api.github.com/users/tburrows13/repos", "events_url": "https://api.github.com/users/tburrows13/events{/privacy}", "received_events_url": "https://api.github.com/users/tburrows13/received_events", "type": "User", "site_admin": false}, "open_issues": 17, "closed_issues": 54, "state": "open", "created_at": "2020-02-23T16:34:44Z", "updated_at": "2022-10-10T23:57:57Z", "due_on": null, "closed_at": null}, "comments": 0, "created_at": "2020-10-03T17:04:29Z", "updated_at": "2020-10-06T14:43:35Z", "closed_at": "2020-10-06T14:43:35Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "BitmapClip only produces the correct output when `fps=1`. When `fps>1`, frames are duplicated and later frames cut off.\r\n\r\nWorks fine for `fps=1`:\r\n```python\r\nfrom moviepy.video.VideoClip import BitmapClip\r\nclip=BitmapClip([[\"A\"], [\"B\"], [\"C\"], [\"D\"]], fps=1)\r\n\r\nIn [18]: clip.to_bitmap()\r\nOut[18]: [['A'], ['B'], ['C'], ['D']]\r\n```\r\n\r\nHowever, when you increase the fps, each frame is duplicated `fps` times, and later frames are cut off entirely. I suspect this is an issue within the creation of the bitmapclip, not with the `to_bitmap()` method, as `iter_frames()` returns a similar result.\r\n\r\n#### Expected Behavior\r\n\r\n```python\r\nclip=BitmapClip([[\"A\"], [\"B\"], [\"C\"], [\"D\"]], fps=2)\r\n\r\nIn [22]: clip.to_bitmap()\r\nOut[22]: [['A'], ['B'], ['C'], ['D']]\r\n```\r\n\r\n#### Actual Behavior\r\n\r\n```python\r\nclip=BitmapClip([[\"A\"], [\"B\"], [\"C\"], [\"D\"]], fps=2)\r\n\r\nIn [22]: clip.to_bitmap()\r\nOut[22]: [['A'], ['A'], ['B'], ['B']]\r\n```\r\n\r\n#### Specifications\r\n\r\n  - Python Version: 3.7.4\r\n  - Moviepy Version: 2.0.0.dev1 (git master branch)\r\n  - Platform Name: Ubuntu 16.04.4 (on WSL)\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1326/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1326/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1323", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1323/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1323/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1323/events", "html_url": "https://github.com/Zulko/moviepy/issues/1323", "id": 713971211, "node_id": "MDU6SXNzdWU3MTM5NzEyMTE=", "number": 1323, "title": "OSError: MoviePy error: failed to read the first frame of video file...", "user": {"login": "Perzan", "id": 46938038, "node_id": "MDQ6VXNlcjQ2OTM4MDM4", "avatar_url": "https://avatars.githubusercontent.com/u/46938038?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Perzan", "html_url": "https://github.com/Perzan", "followers_url": "https://api.github.com/users/Perzan/followers", "following_url": "https://api.github.com/users/Perzan/following{/other_user}", "gists_url": "https://api.github.com/users/Perzan/gists{/gist_id}", "starred_url": "https://api.github.com/users/Perzan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Perzan/subscriptions", "organizations_url": "https://api.github.com/users/Perzan/orgs", "repos_url": "https://api.github.com/users/Perzan/repos", "events_url": "https://api.github.com/users/Perzan/events{/privacy}", "received_events_url": "https://api.github.com/users/Perzan/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 583252675, "node_id": "MDU6TGFiZWw1ODMyNTI2NzU=", "url": "https://api.github.com/repos/Zulko/moviepy/labels/video", "name": "video", "color": "bfd4f2", "default": false, "description": "Related to VideoClip and related classes, or handling of video in general."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-10-03T00:56:52Z", "updated_at": "2020-10-06T13:37:35Z", "closed_at": "2020-10-06T13:37:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\nYou can format code by putting ``` (that's 3 backticks) on a line by itself at the beginning and end of each code block. For example:\r\n\r\n```\r\nfrom moviepy.editor import *\r\nclip = ColorClip((600, 400), color=(255, 100, 0), duration=2)\r\n```\r\n-->\r\n\r\n#### Steps to Reproduce the Problem\r\n<!-- Please include code that demonstrates this problem so that we can reproduce it. For advice on how to do this, see https://stackoverflow.com/help/mcve -->\r\n\r\n\r\n```python\r\nfrom moviepy.editor import VideoFileClip\r\nfrom moviepy.video.fx.all import time_mirror\r\n\r\nclip = VideoFileClip(\"original.mp4\")\r\n\r\nclip = clip.fx(time_mirror)\r\n\r\nclip.write_videofile(\"reversed.mp4\")\r\n```\r\n\r\n#### Expected Behavior\r\nThe source video will be reversed and saved to the specified destination.\r\nAccording to https://zulko.github.io/moviepy/getting_started/effects.html:\r\n```\r\nMore advanced and less common effects like loop (makes the clip play in a loop) or time_mirror (makes the clip play backwards) are placed in the special modules . . .\r\n```\r\n\r\n#### Actual Behavior\r\nThe following error shows in Command Prompt:\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"reverse.py\", line 6, in <module>\r\n    clip = clip.fx(time_mirror)\r\n  File \"C:\\Users\\<redacted>\\AppData\\Roaming\\Python\\Python38\\site-packages\\moviepy\\Clip.py\", line 212, in fx\r\n    return func(self, *args, **kwargs)\r\n  File \"<decorator-gen-89>\", line 2, in time_mirror\r\n  File \"C:\\Users\\<redacted>\\AppData\\Roaming\\Python\\Python38\\site-packages\\moviepy\\decorators.py\", line 54, in requires_duration\r\n    return f(clip, *a, **k)\r\n  File \"<decorator-gen-88>\", line 2, in time_mirror\r\n  File \"C:\\Users\\<redacted>\\AppData\\Roaming\\Python\\Python38\\site-packages\\moviepy\\decorators.py\", line 29, in apply_to_mask\r\n    newclip = f(clip, *a, **k)\r\n  File \"<decorator-gen-87>\", line 2, in time_mirror\r\n  File \"C:\\Users\\<redacted>\\AppData\\Roaming\\Python\\Python38\\site-packages\\moviepy\\decorators.py\", line 41, in apply_to_audio\r\n    newclip = f(clip, *a, **k)\r\n  File \"C:\\Users\\<redacted>\\AppData\\Roaming\\Python\\Python38\\site-packages\\moviepy\\video\\fx\\time_mirror.py\", line 13, in time_mirror\r\n    return self.fl_time(lambda t: self.duration - t, keep_duration=True)\r\n  File \"C:\\Users\\<redacted>\\AppData\\Roaming\\Python\\Python38\\site-packages\\moviepy\\Clip.py\", line 187, in fl_time\r\n    return self.fl(lambda gf, t: gf(t_func(t)), apply_to,\r\n  File \"C:\\Users\\<redacted>\\AppData\\Roaming\\Python\\Python38\\site-packages\\moviepy\\Clip.py\", line 136, in fl\r\n    newclip = self.set_make_frame(lambda t: fun(self.get_frame, t))\r\n  File \"<decorator-gen-61>\", line 2, in set_make_frame\r\n  File \"C:\\Users\\<redacted>\\AppData\\Roaming\\Python\\Python38\\site-packages\\moviepy\\decorators.py\", line 14, in outplace\r\n    f(newclip, *a, **k)\r\n  File \"C:\\Users\\<redacted>\\AppData\\Roaming\\Python\\Python38\\site-packages\\moviepy\\video\\VideoClip.py\", line 644, in set_make_frame\r\n    self.size = self.get_frame(0).shape[:2][::-1]\r\n  File \"<decorator-gen-11>\", line 2, in get_frame\r\n  File \"C:\\Users\\<redacted>\\AppData\\Roaming\\Python\\Python38\\site-packages\\moviepy\\decorators.py\", line 89, in wrapper\r\n    return f(*new_a, **new_kw)\r\n  File \"C:\\Users\\<redacted>\\AppData\\Roaming\\Python\\Python38\\site-packages\\moviepy\\Clip.py\", line 93, in get_frame\r\n    return self.make_frame(t)\r\n  File \"C:\\Users\\<redacted>\\AppData\\Roaming\\Python\\Python38\\site-packages\\moviepy\\Clip.py\", line 136, in <lambda>\r\n    newclip = self.set_make_frame(lambda t: fun(self.get_frame, t))\r\n  File \"C:\\Users\\<redacted>\\AppData\\Roaming\\Python\\Python38\\site-packages\\moviepy\\Clip.py\", line 187, in <lambda>\r\n    return self.fl(lambda gf, t: gf(t_func(t)), apply_to,\r\n  File \"<decorator-gen-11>\", line 2, in get_frame\r\n  File \"C:\\Users\\<redacted>\\AppData\\Roaming\\Python\\Python38\\site-packages\\moviepy\\decorators.py\", line 89, in wrapper\r\n    return f(*new_a, **new_kw)\r\n  File \"C:\\Users\\<redacted>\\AppData\\Roaming\\Python\\Python38\\site-packages\\moviepy\\Clip.py\", line 93, in get_frame\r\n    return self.make_frame(t)\r\n  File \"C:\\Users\\<redacted>\\AppData\\Roaming\\Python\\Python38\\site-packages\\moviepy\\video\\io\\VideoFileClip.py\", line 113, in <lambda>\r\n    self.make_frame = lambda t: self.reader.get_frame(t)\r\n  File \"C:\\Users\\<redacted>\\AppData\\Roaming\\Python\\Python38\\site-packages\\moviepy\\video\\io\\ffmpeg_reader.py\", line 184, in get_frame\r\n    result = self.read_frame()\r\n  File \"C:\\Users\\<redacted>\\AppData\\Roaming\\Python\\Python38\\site-packages\\moviepy\\video\\io\\ffmpeg_reader.py\", line 133, in read_frame\r\n    raise IOError((\"MoviePy error: failed to read the first frame of \"\r\nOSError: MoviePy error: failed to read the first frame of video file original.mp4. That might mean that the file is corrupted. That may also mean that you are using a deprecated version of FFMPEG. On Ubuntu/Debian for instance the version in the repos is deprecated. Please update to a recent version from the website.\r\n```\r\n\r\n#### Specifications\r\n\r\n  - Python Version: 3.8.2\r\n  - Moviepy Version: 1.0.3\r\n  - Platform Name: Windows 10 Pro\r\n  - Platform Version: 1909\r\n\r\n#### Files\r\nTwo files are compressed into [files.zip](https://github.com/Zulko/moviepy/files/5320843/files.zip):\r\n- original.mp4\r\n- reverse.mp4\r\n\r\n#### Other Info\r\nIf you manage to reverse the video, I am sure you will find it amusing ;)\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1323/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1323/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1321", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1321/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1321/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1321/events", "html_url": "https://github.com/Zulko/moviepy/issues/1321", "id": 711408012, "node_id": "MDU6SXNzdWU3MTE0MDgwMTI=", "number": 1321, "title": "Error when writing video file out", "user": {"login": "LvInSaNevL", "id": 33157232, "node_id": "MDQ6VXNlcjMzMTU3MjMy", "avatar_url": "https://avatars.githubusercontent.com/u/33157232?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LvInSaNevL", "html_url": "https://github.com/LvInSaNevL", "followers_url": "https://api.github.com/users/LvInSaNevL/followers", "following_url": "https://api.github.com/users/LvInSaNevL/following{/other_user}", "gists_url": "https://api.github.com/users/LvInSaNevL/gists{/gist_id}", "starred_url": "https://api.github.com/users/LvInSaNevL/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LvInSaNevL/subscriptions", "organizations_url": "https://api.github.com/users/LvInSaNevL/orgs", "repos_url": "https://api.github.com/users/LvInSaNevL/repos", "events_url": "https://api.github.com/users/LvInSaNevL/events{/privacy}", "received_events_url": "https://api.github.com/users/LvInSaNevL/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 583252675, "node_id": "MDU6TGFiZWw1ODMyNTI2NzU=", "url": "https://api.github.com/repos/Zulko/moviepy/labels/video", "name": "video", "color": "bfd4f2", "default": false, "description": "Related to VideoClip and related classes, or handling of video in general."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2020-09-29T20:00:02Z", "updated_at": "2022-08-09T16:05:04Z", "closed_at": "2020-09-30T15:56:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Expected Behavior\r\nUsing `write_videofile(\"data/output.mp4\", fps='30')` should produce a video file at `data/output.mp4`\r\n\r\n#### Actual Behavior\r\nMoviepy throws an error `TypeError: must be real number, not str` from the file `ffmpeg_writer.py` and exits the program. \r\n\r\n#### Steps to Reproduce the Problem\r\nBelow I have included the section of code that is responsible for actually generating and saving the video file to the disk\r\n```py\r\nclipData = []\r\nfor path in clipPaths:\r\n     newClip = VideoFileClip(path)\r\n    normalClip = audio_normalize(VideoFileClip(path))\r\n    clipData.append(newClip)\r\nfinalVideo = concatenate_videoclips(clipData, method='compose')\r\nfinalVideo.write_videofile(\"data/output.mp4\", fps='30')\r\n```\r\n* `clipPaths` is a list of paths to the clips that I am using to make the video.\r\n\r\nI have also included the full stack trace that I get when I run the code\r\n```\r\nMoviepy - Building video data/output.mp4.\r\nMoviePy - Writing audio in outputTEMP_MPY_wvf_snd.mp3\r\nMoviePy - Done.                                                                                                                                                                               \r\nMoviepy - Writing video data/output.mp4\r\n\r\nTraceback (most recent call last):\r\n  File \"src/videoEditor.py\", line 60, in <module>\r\n    globals()[sys.argv[1]]()\r\n  File \"src/videoEditor.py\", line 51, in GenerateVideo\r\n    finalVideo.write_videofile(\"data/output.mp4\", fps='30')\r\n  File \"<decorator-gen-55>\", line 2, in write_videofile\r\n  File \"/home/mwollam/.local/lib/python3.8/site-packages/moviepy/decorators.py\", line 54, in requires_duration\r\n    return f(clip, *a, **k)\r\n  File \"<decorator-gen-54>\", line 2, in write_videofile\r\n  File \"/home/mwollam/.local/lib/python3.8/site-packages/moviepy/decorators.py\", line 135, in use_clip_fps_by_default\r\n    return f(clip, *new_a, **new_kw)\r\n  File \"<decorator-gen-53>\", line 2, in write_videofile\r\n  File \"/home/mwollam/.local/lib/python3.8/site-packages/moviepy/decorators.py\", line 22, in convert_masks_to_RGB\r\n    return f(clip, *a, **k)\r\n  File \"/home/mwollam/.local/lib/python3.8/site-packages/moviepy/video/VideoClip.py\", line 300, in write_videofile\r\n    ffmpeg_write_video(self, filename, fps, codec,\r\n  File \"/home/mwollam/.local/lib/python3.8/site-packages/moviepy/video/io/ffmpeg_writer.py\", line 213, in ffmpeg_write_video\r\n    with FFMPEG_VideoWriter(filename, clip.size, fps, codec = codec,\r\n  File \"/home/mwollam/.local/lib/python3.8/site-packages/moviepy/video/io/ffmpeg_writer.py\", line 88, in __init__\r\n    '-r', '%.02f' % fps,\r\nTypeError: must be real number, not str\r\n```\r\n\r\n#### Specifications\r\n\r\n  - Python Version: Python 3.8.2\r\n  - Moviepy Version: moviepy 1.0.3     \r\n  - Platform Name: Ubuntu 20.04.1 LTS\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1321/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1321/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1320", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1320/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1320/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1320/events", "html_url": "https://github.com/Zulko/moviepy/issues/1320", "id": 711338472, "node_id": "MDU6SXNzdWU3MTEzMzg0NzI=", "number": 1320, "title": "get_frame(index>0) has unexpected results(when using ffmpeg_reader)", "user": {"login": "ikanreed", "id": 532792, "node_id": "MDQ6VXNlcjUzMjc5Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/532792?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ikanreed", "html_url": "https://github.com/ikanreed", "followers_url": "https://api.github.com/users/ikanreed/followers", "following_url": "https://api.github.com/users/ikanreed/following{/other_user}", "gists_url": "https://api.github.com/users/ikanreed/gists{/gist_id}", "starred_url": "https://api.github.com/users/ikanreed/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ikanreed/subscriptions", "organizations_url": "https://api.github.com/users/ikanreed/orgs", "repos_url": "https://api.github.com/users/ikanreed/repos", "events_url": "https://api.github.com/users/ikanreed/events{/privacy}", "received_events_url": "https://api.github.com/users/ikanreed/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-09-29T18:09:40Z", "updated_at": "2020-09-29T18:22:49Z", "closed_at": "2020-09-29T18:22:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "OS is Windows 10, with \r\n\r\n```\r\nfrom moviepy.editor import *\r\nvideo=VideoFileClip('filename.mp4')\r\n```\r\n\r\n#### Expected Behavior\r\nvideo.get_frame(10) yields an array of pixel data from frame 10 of filename\r\n\r\n#### Actual Behavior\r\nOSError: MoviePy error: failed to read the first frame of video file filename.mp4. That might mean that the file is corrupted. That may also mean that you are using a deprecated version of FFMPEG. On Ubuntu/Debian for instance the version in the repos is deprecated. Please update to a recent version from the website.\r\n\r\n\r\n#### Notes\r\n\r\nI've reviewed the code in ffmpeg_reader.py enough to verify that it is the source of the unexpected behavior, specifically that line 180:\r\n`self.initialize(t)`\r\nshould probably be \r\n`self.initialize(pos),`\r\nas t is in frames, and pos is in the -ss expected format of seconds\r\n\r\n\r\nThis seems to work, _possibly_, when I mangle my local files.\r\n\r\n\r\n#### Specifications\r\n\r\n  - Python Version: 3.8.3\r\n  - Moviepy Version: 1.0.3\r\n  - Platform Name: Windows 10\r\n  - Other: ffmpeg version 4.3.1-2020-09-21-full_build-www.gyan.dev\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1320/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1320/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1315", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1315/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1315/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1315/events", "html_url": "https://github.com/Zulko/moviepy/issues/1315", "id": 701132628, "node_id": "MDU6SXNzdWU3MDExMzI2Mjg=", "number": 1315, "title": "videofile fps_source", "user": {"login": "leemengxing", "id": 24696984, "node_id": "MDQ6VXNlcjI0Njk2OTg0", "avatar_url": "https://avatars.githubusercontent.com/u/24696984?v=4", "gravatar_id": "", "url": "https://api.github.com/users/leemengxing", "html_url": "https://github.com/leemengxing", "followers_url": "https://api.github.com/users/leemengxing/followers", "following_url": "https://api.github.com/users/leemengxing/following{/other_user}", "gists_url": "https://api.github.com/users/leemengxing/gists{/gist_id}", "starred_url": "https://api.github.com/users/leemengxing/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/leemengxing/subscriptions", "organizations_url": "https://api.github.com/users/leemengxing/orgs", "repos_url": "https://api.github.com/users/leemengxing/repos", "events_url": "https://api.github.com/users/leemengxing/events{/privacy}", "received_events_url": "https://api.github.com/users/leemengxing/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-09-14T14:02:02Z", "updated_at": "2020-10-04T00:34:33Z", "closed_at": "2020-10-04T00:34:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "hi, when the tbr and fps of the video are inconsistent, set fps=fps_source, some video will cause the video to jam.\r\nwhen fps=30, tbr=16k, set fps=fps_source ,it work great! but I find some video will be bad when fps=15, tbr=30. In the case ,video will jam a lot.\r\n\r\n\r\n#### Specifications\r\n\r\n  - Python Version: 2.7.12\r\n  - Moviepy Version: 1.0\r\n  - Platform Name: linux\r\n  - Platform Version: centos7\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1315/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1315/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1313", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1313/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1313/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1313/events", "html_url": "https://github.com/Zulko/moviepy/issues/1313", "id": 700572425, "node_id": "MDU6SXNzdWU3MDA1NzI0MjU=", "number": 1313, "title": "TextClip - TypeError: 'NoneType' object is not callable", "user": {"login": "zilton7", "id": 38778743, "node_id": "MDQ6VXNlcjM4Nzc4NzQz", "avatar_url": "https://avatars.githubusercontent.com/u/38778743?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zilton7", "html_url": "https://github.com/zilton7", "followers_url": "https://api.github.com/users/zilton7/followers", "following_url": "https://api.github.com/users/zilton7/following{/other_user}", "gists_url": "https://api.github.com/users/zilton7/gists{/gist_id}", "starred_url": "https://api.github.com/users/zilton7/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zilton7/subscriptions", "organizations_url": "https://api.github.com/users/zilton7/orgs", "repos_url": "https://api.github.com/users/zilton7/repos", "events_url": "https://api.github.com/users/zilton7/events{/privacy}", "received_events_url": "https://api.github.com/users/zilton7/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 1163360583, "node_id": "MDU6TGFiZWwxMTYzMzYwNTgz", "url": "https://api.github.com/repos/Zulko/moviepy/labels/text", "name": "text", "color": "bfd4f2", "default": false, "description": "Issues dealing with TextClip, SubtitlesClip, or handling of text in general."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-09-13T13:42:41Z", "updated_at": "2020-10-06T14:43:03Z", "closed_at": "2020-10-06T14:41:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\nYou can format code by putting ``` (that's 3 backticks) on a line by itself at the beginning and end of each code block. For example:\r\n\r\n```\r\nfrom moviepy.editor import *\r\n\r\nclip = TextClip(\"text\", font =\"Arial-Bold\", fontsize=50, color =\"black\").duration(3)\r\n\r\nclip.write_videofile('final/yes.mp4', fps=30)\r\n```\r\n-->\r\n\r\n\r\n#### Expected Behavior\r\nI want to add text to video\r\n\r\n#### Actual Behavior\r\nI am getting error - TypeError: 'NoneType' object is not callable\r\n\r\n#### Steps to Reproduce the Problem\r\n```\r\nfrom moviepy.editor import *\r\n\r\nclip = TextClip(\"text\", font =\"Arial-Bold\", fontsize=50, color =\"black\").duration(3)\r\n\r\nclip.write_videofile('final/yes.mp4', fps=30)\r\n``` \r\n\r\n\r\n#### Specifications\r\n\r\n  - Python Version: 3.7\r\n  - Moviepy Version: 1.01\r\n  - Platform Name: MacOS Mojave\r\n  - Platform Version: 10.14.6\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1313/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1313/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1312", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1312/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1312/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1312/events", "html_url": "https://github.com/Zulko/moviepy/issues/1312", "id": 700528146, "node_id": "MDU6SXNzdWU3MDA1MjgxNDY=", "number": 1312, "title": "Bug by saving frame by frame", "user": {"login": "A2va", "id": 49582555, "node_id": "MDQ6VXNlcjQ5NTgyNTU1", "avatar_url": "https://avatars.githubusercontent.com/u/49582555?v=4", "gravatar_id": "", "url": "https://api.github.com/users/A2va", "html_url": "https://github.com/A2va", "followers_url": "https://api.github.com/users/A2va/followers", "following_url": "https://api.github.com/users/A2va/following{/other_user}", "gists_url": "https://api.github.com/users/A2va/gists{/gist_id}", "starred_url": "https://api.github.com/users/A2va/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/A2va/subscriptions", "organizations_url": "https://api.github.com/users/A2va/orgs", "repos_url": "https://api.github.com/users/A2va/repos", "events_url": "https://api.github.com/users/A2va/events{/privacy}", "received_events_url": "https://api.github.com/users/A2va/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-09-13T08:55:28Z", "updated_at": "2020-10-03T19:53:19Z", "closed_at": "2020-10-03T19:53:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "\r\n```\r\nimport moviepy.editor as mpe_edit\r\n\r\nclip=mpe_edit.VideoFileClip('input.mp4')\r\n\r\nn_frames=clip.reader.nframes\r\nfps=clip.fps\r\n\r\nfor i in range(0,n_frames):\r\n    clip.save_frame('out/frame'+str(i)+'.jpg',t=i*fps)\r\n\r\nclip.close()\r\n```\r\n\r\n#### Expected Behavior\r\nMoviepy should save each frame of the video\r\n\r\n#### Actual Behavior\r\nMoviepy only saves the first frame, but 24 times (my video has 24 frames).\r\n\r\n#### Steps to Reproduce the Problem\r\nRun the above code\r\n\r\n#### Specifications\r\n\r\n  - Python Version:3.8.5\r\n  - Moviepy Version:1.0.3\r\n  - Platform Name: Windows 10\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1312/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1312/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1307", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1307/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1307/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1307/events", "html_url": "https://github.com/Zulko/moviepy/issues/1307", "id": 689811917, "node_id": "MDU6SXNzdWU2ODk4MTE5MTc=", "number": 1307, "title": "Freezing movie frame on last frame or end", "user": {"login": "etherrawr", "id": 69785649, "node_id": "MDQ6VXNlcjY5Nzg1NjQ5", "avatar_url": "https://avatars.githubusercontent.com/u/69785649?v=4", "gravatar_id": "", "url": "https://api.github.com/users/etherrawr", "html_url": "https://github.com/etherrawr", "followers_url": "https://api.github.com/users/etherrawr/followers", "following_url": "https://api.github.com/users/etherrawr/following{/other_user}", "gists_url": "https://api.github.com/users/etherrawr/gists{/gist_id}", "starred_url": "https://api.github.com/users/etherrawr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/etherrawr/subscriptions", "organizations_url": "https://api.github.com/users/etherrawr/orgs", "repos_url": "https://api.github.com/users/etherrawr/repos", "events_url": "https://api.github.com/users/etherrawr/events{/privacy}", "received_events_url": "https://api.github.com/users/etherrawr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 583252675, "node_id": "MDU6TGFiZWw1ODMyNTI2NzU=", "url": "https://api.github.com/repos/Zulko/moviepy/labels/video", "name": "video", "color": "bfd4f2", "default": false, "description": "Related to VideoClip and related classes, or handling of video in general."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-09-01T05:03:24Z", "updated_at": "2021-01-17T19:31:31Z", "closed_at": "2021-01-17T19:31:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "\r\nThis code freezes the _first frame at the end_ but it should **freeze the last frame** at the end?\r\n```\r\nfrom moviepy.editor import *\r\n\r\nmainclip = (VideoFileClip(\"C:/Users/Admin/Videos/ukulele.mp4\")\r\n            .fx( vfx.freeze, t='end', freeze_duration=2))\r\n\r\nfinal = CompositeVideoClip([mainclip])\r\nfinal.write_videofile(\"ukulele.mp4\",fps=24,codec='libx264')\r\n```\r\n\r\n\r\n\r\n#### Expected Behavior\r\nfreeze the last frame at the end\r\n\r\n#### Actual Behavior\r\nfreezes the _first frame_ at the end\r\n\r\n#### Steps to Reproduce the Problem\r\n<!-- Please include code that demonstrates this problem so that we can reproduce it. For advice on how to do this, see https://stackoverflow.com/help/mcve -->\r\n\r\n\r\n#### Specifications\r\n\r\n  - Python Version: 3.8.5\r\n  - Moviepy Version: 1.0.3\r\n  - Windows10\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1307/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1307/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1299", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1299/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1299/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1299/events", "html_url": "https://github.com/Zulko/moviepy/issues/1299", "id": 680927234, "node_id": "MDU6SXNzdWU2ODA5MjcyMzQ=", "number": 1299, "title": "Preview() fails, but write_videofile success", "user": {"login": "hpp0hpp", "id": 54829297, "node_id": "MDQ6VXNlcjU0ODI5Mjk3", "avatar_url": "https://avatars.githubusercontent.com/u/54829297?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hpp0hpp", "html_url": "https://github.com/hpp0hpp", "followers_url": "https://api.github.com/users/hpp0hpp/followers", "following_url": "https://api.github.com/users/hpp0hpp/following{/other_user}", "gists_url": "https://api.github.com/users/hpp0hpp/gists{/gist_id}", "starred_url": "https://api.github.com/users/hpp0hpp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hpp0hpp/subscriptions", "organizations_url": "https://api.github.com/users/hpp0hpp/orgs", "repos_url": "https://api.github.com/users/hpp0hpp/repos", "events_url": "https://api.github.com/users/hpp0hpp/events{/privacy}", "received_events_url": "https://api.github.com/users/hpp0hpp/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 583252675, "node_id": "MDU6TGFiZWw1ODMyNTI2NzU=", "url": "https://api.github.com/repos/Zulko/moviepy/labels/video", "name": "video", "color": "bfd4f2", "default": false, "description": "Related to VideoClip and related classes, or handling of video in general."}, {"id": 583252697, "node_id": "MDU6TGFiZWw1ODMyNTI2OTc=", "url": "https://api.github.com/repos/Zulko/moviepy/labels/audio", "name": "audio", "color": "bfd4f2", "default": false, "description": "Related to AudioClip, or handling of audio in general."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-08-18T10:48:04Z", "updated_at": "2022-09-09T21:13:44Z", "closed_at": "2022-09-09T21:13:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "When I do videoclip.Preview(), it fails as below. but write_videofile successful with right content.\r\n\r\nI am not sure where this problem is. \r\n\r\n#### Expected Behavior\r\nvideoclip.Preview() successful\r\n\r\n#### Actual Behavior\r\n\r\n> File \"C:\\Users\\hpp\\AppData\\Local\\Programs\\Python\\Python38\\lib\\threading.py\", line 870, in run\r\n>     self._target(*self._args, **self._kwargs)\r\n>   File \"<decorator-gen-218>\", line 2, in preview\r\n>   File \"C:\\Users\\hpp\\AppData\\Local\\Programs\\Python\\Python38\\lib\\site-packages\\moviepy\\decorators.py\", line 54, in requires_duration\r\n>     return f(clip, *a, **k)\r\n> , line 49, in preview\r\n>     sndarray = clip.to_soundarray(tt, nbytes=nbytes, quantize=True)\r\n>   File \"<decorator-gen-46>\", line 2, in to_soundarray\r\n>   File \"C:\\Users\\hpp\\AppData\\Local\\Programs\\Python\\Python38\\lib\\site-packages\\moviepy\\decorators.py\", line 54, in requires_duration\r\n>     return f(clip, *a, **k)\r\n>   File \"C:\\Users\\hpp\\AppData\\Local\\Programs\\Python\\Python38\\lib\\site-packages\\moviepy\\audio\\AudioClip.py\", line 110, in to_soundarray\r\n>     max_duration = 1.0 * buffersize / fps\r\n> TypeError: unsupported operand type(s) for /: 'float' and 'NoneType'\r\n> \r\n#### Steps to Reproduce the Problem\r\n<!-- Please include code that demonstrates this problem so that we can reproduce it. For advice on how to do this, see https://stackoverflow.com/help/mcve -->\r\n\r\n\r\n#### Specifications\r\n\r\n  - Python Version: 3.8\r\n  - Moviepy Version: latest\r\n  - Platform Name:windows\r\n  - Platform Version: 10\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1299/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1299/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1289", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1289/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1289/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1289/events", "html_url": "https://github.com/Zulko/moviepy/issues/1289", "id": 674502789, "node_id": "MDU6SXNzdWU2NzQ1MDI3ODk=", "number": 1289, "title": "IndexError: too many indices for array", "user": {"login": "sauceopet", "id": 56816287, "node_id": "MDQ6VXNlcjU2ODE2Mjg3", "avatar_url": "https://avatars.githubusercontent.com/u/56816287?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sauceopet", "html_url": "https://github.com/sauceopet", "followers_url": "https://api.github.com/users/sauceopet/followers", "following_url": "https://api.github.com/users/sauceopet/following{/other_user}", "gists_url": "https://api.github.com/users/sauceopet/gists{/gist_id}", "starred_url": "https://api.github.com/users/sauceopet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sauceopet/subscriptions", "organizations_url": "https://api.github.com/users/sauceopet/orgs", "repos_url": "https://api.github.com/users/sauceopet/repos", "events_url": "https://api.github.com/users/sauceopet/events{/privacy}", "received_events_url": "https://api.github.com/users/sauceopet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 760686230, "node_id": "MDU6TGFiZWw3NjA2ODYyMzA=", "url": "https://api.github.com/repos/Zulko/moviepy/labels/images", "name": "images", "color": "bfd4f2", "default": false, "description": "Related to ImageClip, or handling of images in general."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-08-06T18:04:25Z", "updated_at": "2022-10-10T23:53:49Z", "closed_at": "2022-10-10T23:53:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\r\nfrom moviepy.editor import *\r\nfrom moviepy.video.tools.segmenting import findObjects\r\n\r\n# Load the image specifying the regions.\r\nim = ImageClip(\"C:/Users/ABHISHEK/Desktop/stuff/compo_from_image.png\")\r\n\r\n# Loacate the regions, return a list of ImageClips\r\nregions = findObjects(im)\r\n\r\n\r\n# Load 7 clips from the US National Parks. Public Domain :D\r\nclips = [VideoFileClip(n, audio=False).subclip(18,22) for n in\r\n     [ \"C:/Users/ABHISHEK/Desktop/stuff/file1.mp4\",\r\n      \"C:/Users/ABHISHEK/Desktop/stuff/file2.mp4\",\r\n      \"C:/Users/ABHISHEK/Desktop/stuff/file3.mp4\",\r\n      \"C:/Users/ABHISHEK/Desktop/stuff/file4.mp4\",\r\n      \"C:/Users/ABHISHEK/Desktop/stuff/file5.mp4\",\r\n      \"C:/Users/ABHISHEK/Desktop/stuff/file6.mp4\",\r\n      \"\"]]\r\n\r\n# fit each clip into its region\r\ncomp_clips =  [c.resize(r.size)\r\n                .set_mask(r.mask)\r\n                .set_pos(r.screenpos)\r\n               for c,r in zip(clips,regions)]\r\n\r\ncc = CompositeVideoClip(comp_clips,im.size)\r\ncc.resize(0.6).set_duration(10).write_videofile(\"C:/Users/ABHISHEK/Desktop/stuff/composition.mp4\",fps=30)\r\n\r\n# Note that this particular composition takes quite a long time of\r\n# rendering (about 20s on my computer for just 4s of video).\r\n```\r\n**After running this code (code source : https://zulko.github.io/moviepy/examples/compo_from_image.html )  , i am getting the following issue :** \r\n```\r\nC:\\Users\\ABHISHEK\\Anaconda2\\lib\\site-packages\\moviepy\\video\\tools\\segmenting.pyc in findObjects(clip, rem_thr, preview)\r\n     20 \r\n     21     mask = clip.mask.get_frame(0)\r\n---> 22     labelled, num_features = ndi.measurements.label(image[:,:,0])\r\n     23 \r\n     24     #find the objects\r\n\r\nIndexError: too many indices for array\r\n```\r\n**please help me fix this issue !**", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1289/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1289/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1286", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1286/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1286/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1286/events", "html_url": "https://github.com/Zulko/moviepy/issues/1286", "id": 672447003, "node_id": "MDU6SXNzdWU2NzI0NDcwMDM=", "number": 1286, "title": "Mirrored Arabic Letters using TextClip ", "user": {"login": "wellisrite", "id": 33211155, "node_id": "MDQ6VXNlcjMzMjExMTU1", "avatar_url": "https://avatars.githubusercontent.com/u/33211155?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wellisrite", "html_url": "https://github.com/wellisrite", "followers_url": "https://api.github.com/users/wellisrite/followers", "following_url": "https://api.github.com/users/wellisrite/following{/other_user}", "gists_url": "https://api.github.com/users/wellisrite/gists{/gist_id}", "starred_url": "https://api.github.com/users/wellisrite/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wellisrite/subscriptions", "organizations_url": "https://api.github.com/users/wellisrite/orgs", "repos_url": "https://api.github.com/users/wellisrite/repos", "events_url": "https://api.github.com/users/wellisrite/events{/privacy}", "received_events_url": "https://api.github.com/users/wellisrite/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-08-04T01:55:27Z", "updated_at": "2020-08-04T13:01:34Z", "closed_at": "2020-08-04T13:01:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am trying to render the video which contains arabic letters. let's use \u0645\u0631\u062d\u0628\u0627 for the example. After video rendered the result is mirrored.\r\n\r\n```\r\nbackground = mp.ColorClip(mobile_size, (255, 255, 255), duration=0.5) #float(audiolength.info.length)\r\ntext1 = mp.TextClip(english, fontsize=45, color=fcolor, font=Font, size= (mobile_size[0], 185), method = 'caption', align=\"south\").set_duration(0.5) #float(audiolength.info.length)\r\ntext2 = mp.TextClip(formatChineseSentences(translated).encode(\"utf-8\"), fontsize=45, color=fcolor2, font=Font, size= (mobile_size[0], 185), method = 'caption', align=\"north\").set_duration(0.5) #float(audiolength.info.length)\r\n\r\nclip1 = mp.CompositeVideoClip([background, text1.set_position(('center', \"top\")), text2.set_position(('center', \"bottom\"))])\r\n```\r\n#### Expected Behavior\r\n![Pasted File at August 3, 2020 9_30 PM-2](https://user-images.githubusercontent.com/33211155/89243919-697f9f80-d62f-11ea-8a62-1ebddd9fffb4.png)\r\n\r\n#### Actual Behavior\r\n![Pasted File at August 3, 2020 9_30 PM](https://user-images.githubusercontent.com/33211155/89243914-6684af00-d62f-11ea-9bd1-d22704c56b51.png)\r\n\r\n#### Steps to Reproduce the Problem\r\nRendering TextClip with Arabic Characters. For this case we can use \u0645\u0631\u062d\u0628\u0627.\r\n\r\n#### Specifications\r\n\r\n  - Python Version: Python 3.8.5\r\n  - Moviepy Version: 1.0.3\r\n  - Platform Name: Mac OS Catalina\r\n  - Platform Version: 10.15.6 \r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1286/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1286/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1279", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1279/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1279/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1279/events", "html_url": "https://github.com/Zulko/moviepy/issues/1279", "id": 669908785, "node_id": "MDU6SXNzdWU2Njk5MDg3ODU=", "number": 1279, "title": "AudioClip.max_volume's bug and repair suggestion", "user": {"login": "LaoYuanPython", "id": 51265866, "node_id": "MDQ6VXNlcjUxMjY1ODY2", "avatar_url": "https://avatars.githubusercontent.com/u/51265866?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LaoYuanPython", "html_url": "https://github.com/LaoYuanPython", "followers_url": "https://api.github.com/users/LaoYuanPython/followers", "following_url": "https://api.github.com/users/LaoYuanPython/following{/other_user}", "gists_url": "https://api.github.com/users/LaoYuanPython/gists{/gist_id}", "starred_url": "https://api.github.com/users/LaoYuanPython/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LaoYuanPython/subscriptions", "organizations_url": "https://api.github.com/users/LaoYuanPython/orgs", "repos_url": "https://api.github.com/users/LaoYuanPython/repos", "events_url": "https://api.github.com/users/LaoYuanPython/events{/privacy}", "received_events_url": "https://api.github.com/users/LaoYuanPython/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 542141296, "node_id": "MDU6TGFiZWw1NDIxNDEyOTY=", "url": "https://api.github.com/repos/Zulko/moviepy/labels/good-first-issue", "name": "good-first-issue", "color": "5319e7", "default": false, "description": "Especially suitable for people new to moviepy and/or programming; beginner-friendly."}, {"id": 583252697, "node_id": "MDU6TGFiZWw1ODMyNTI2OTc=", "url": "https://api.github.com/repos/Zulko/moviepy/labels/audio", "name": "audio", "color": "bfd4f2", "default": false, "description": "Related to AudioClip, or handling of audio in general."}, {"id": 583865683, "node_id": "MDU6TGFiZWw1ODM4NjU2ODM=", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug-fix", "name": "bug-fix", "color": "ff8f8f", "default": false, "description": "For PRs and issues solving bugs."}], "state": "closed", "locked": false, "assignee": {"login": "barhenkro", "id": 7372114, "node_id": "MDQ6VXNlcjczNzIxMTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/7372114?v=4", "gravatar_id": "", "url": "https://api.github.com/users/barhenkro", "html_url": "https://github.com/barhenkro", "followers_url": "https://api.github.com/users/barhenkro/followers", "following_url": "https://api.github.com/users/barhenkro/following{/other_user}", "gists_url": "https://api.github.com/users/barhenkro/gists{/gist_id}", "starred_url": "https://api.github.com/users/barhenkro/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/barhenkro/subscriptions", "organizations_url": "https://api.github.com/users/barhenkro/orgs", "repos_url": "https://api.github.com/users/barhenkro/repos", "events_url": "https://api.github.com/users/barhenkro/events{/privacy}", "received_events_url": "https://api.github.com/users/barhenkro/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "barhenkro", "id": 7372114, "node_id": "MDQ6VXNlcjczNzIxMTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/7372114?v=4", "gravatar_id": "", "url": "https://api.github.com/users/barhenkro", "html_url": "https://github.com/barhenkro", "followers_url": "https://api.github.com/users/barhenkro/followers", "following_url": "https://api.github.com/users/barhenkro/following{/other_user}", "gists_url": "https://api.github.com/users/barhenkro/gists{/gist_id}", "starred_url": "https://api.github.com/users/barhenkro/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/barhenkro/subscriptions", "organizations_url": "https://api.github.com/users/barhenkro/orgs", "repos_url": "https://api.github.com/users/barhenkro/repos", "events_url": "https://api.github.com/users/barhenkro/events{/privacy}", "received_events_url": "https://api.github.com/users/barhenkro/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2020-07-31T15:02:17Z", "updated_at": "2021-01-21T20:42:15Z", "closed_at": "2021-01-21T20:42:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\r\nfrom  moviepy.editor import *\r\nimport numpy as np\r\n\r\nif __name__ == '__main__':\r\n    \r\n    make_frame = lambda t: 2 * [t*(-1) ]\r\n    clip = AudioClip(make_frame, duration=5,fps=24000)\r\n    v = clip.max_volume(True)\r\n \r\n    clip.write_audiofile(r\"f:\\video\\audio.mp3\")\r\n```\r\n\r\n\r\n#### Expected Behavior\r\n\r\nGenerate the sound and get the max value\r\n#### Actual Behavior\r\n\r\n```\r\n\"C:\\Program Files\\Python37\\python.exe\" F:/study/python/project/moviepyTest/moviepyTest.py \r\nTraceback (most recent call last):\r\n  File \"F:/study/python/project/moviepyTest/moviepyTest.py\", line 31, in <module>\r\n    v = clip.max_volume(True)\r\n  File \"C:\\Program Files\\Python37\\lib\\site-packages\\moviepy\\audio\\AudioClip.py\", line 144, in max_volume\r\n    maxi = np.maximum(maxi, abs(chunk).max(axis=0)) if stereo else max(maxi, abs(chunk).max())\r\nValueError: operands could not be broadcast together with shapes (2,) (40000,) \r\n\r\nProcess finished with exit code 1\r\n```\r\n\r\n#### Steps to Reproduce the Problem\r\n<!-- Please include code that demonstrates this problem so that we can reproduce it. For advice on how to do this, see https://stackoverflow.com/help/mcve -->\r\nExcute these scripts.\r\n\r\n Repair suggestion: add a line 'chunk = np.array(chunk) ' and modified 'max(axis=1)' to 'max(axis=0)' in max_volume :\r\n```\r\ndef max_volume(self, stereo=False, chunksize=50000, logger=None):\r\n        \r\n        stereo = stereo and (self.nchannels == 2)\r\n\r\n        maxi = np.array([0, 0]) if stereo else 0\r\n        for chunk in self.iter_chunks(chunksize=chunksize,logger=logger):\r\n            chunk = np.array(chunk) \r\n            maxi = np.maximum(maxi, abs(chunk).max(axis=0)) if stereo else max(maxi, abs(chunk).max())\r\n        return maxi\r\n```\r\n\r\n#### Specifications\r\n\r\n  - Python Version:3.7.2\r\n  - Moviepy Version:1.0.3\r\n  - Platform Name:windows\r\n  - Platform Version:win7 64bits\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1279/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1279/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1278", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1278/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1278/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1278/events", "html_url": "https://github.com/Zulko/moviepy/issues/1278", "id": 667964260, "node_id": "MDU6SXNzdWU2Njc5NjQyNjA=", "number": 1278, "title": "Transpose axes not matching error when rotating by 90 or -90 degrees", "user": {"login": "OneWorld-github", "id": 19984261, "node_id": "MDQ6VXNlcjE5OTg0MjYx", "avatar_url": "https://avatars.githubusercontent.com/u/19984261?v=4", "gravatar_id": "", "url": "https://api.github.com/users/OneWorld-github", "html_url": "https://github.com/OneWorld-github", "followers_url": "https://api.github.com/users/OneWorld-github/followers", "following_url": "https://api.github.com/users/OneWorld-github/following{/other_user}", "gists_url": "https://api.github.com/users/OneWorld-github/gists{/gist_id}", "starred_url": "https://api.github.com/users/OneWorld-github/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/OneWorld-github/subscriptions", "organizations_url": "https://api.github.com/users/OneWorld-github/orgs", "repos_url": "https://api.github.com/users/OneWorld-github/repos", "events_url": "https://api.github.com/users/OneWorld-github/events{/privacy}", "received_events_url": "https://api.github.com/users/OneWorld-github/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 760686230, "node_id": "MDU6TGFiZWw3NjA2ODYyMzA=", "url": "https://api.github.com/repos/Zulko/moviepy/labels/images", "name": "images", "color": "bfd4f2", "default": false, "description": "Related to ImageClip, or handling of images in general."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Zulko/moviepy/milestones/6", "html_url": "https://github.com/Zulko/moviepy/milestone/6", "labels_url": "https://api.github.com/repos/Zulko/moviepy/milestones/6/labels", "id": 5132992, "node_id": "MDk6TWlsZXN0b25lNTEzMjk5Mg==", "number": 6, "title": "Release v2.0.0", "description": "See #1089 for discussion", "creator": {"login": "tburrows13", "id": 22625968, "node_id": "MDQ6VXNlcjIyNjI1OTY4", "avatar_url": "https://avatars.githubusercontent.com/u/22625968?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tburrows13", "html_url": "https://github.com/tburrows13", "followers_url": "https://api.github.com/users/tburrows13/followers", "following_url": "https://api.github.com/users/tburrows13/following{/other_user}", "gists_url": "https://api.github.com/users/tburrows13/gists{/gist_id}", "starred_url": "https://api.github.com/users/tburrows13/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tburrows13/subscriptions", "organizations_url": "https://api.github.com/users/tburrows13/orgs", "repos_url": "https://api.github.com/users/tburrows13/repos", "events_url": "https://api.github.com/users/tburrows13/events{/privacy}", "received_events_url": "https://api.github.com/users/tburrows13/received_events", "type": "User", "site_admin": false}, "open_issues": 17, "closed_issues": 54, "state": "open", "created_at": "2020-02-23T16:34:44Z", "updated_at": "2022-10-10T23:57:57Z", "due_on": null, "closed_at": null}, "comments": 10, "created_at": "2020-07-29T16:10:23Z", "updated_at": "2020-10-08T23:19:34Z", "closed_at": "2020-10-08T23:19:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\r\nimport moviepy.editor as mped\r\nimport numpy as np\r\ncolour_clip = mped.ColorClip(size=[300, 200], color=np.array([250, 90, 0]).astype(np.uint8), duration=3).set_position((0, 0))\r\nrot_trans_col_clip = colour_clip.add_mask().rotate(90, unit='deg', expand=True, resample='bilinear')\r\nstacked_clips = mped.CompositeVideoClip([rot_trans_col_clip]).set_duration(3)\r\nstacked_clips.write_videofile('90_degrees_in_moviepy.mp4', fps=5)\r\n```\r\n\r\n#### Expected Behavior\r\n\r\na 90 degree rotated asset\r\n\r\n\r\n#### Actual Behavior\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"c:/..../pillow-rotation.py\", line 16, in <module>\r\n    rot_trans_col_clip = colour_clip.add_mask().rotate(90, unit='deg', expand=True, resample='bilinear')\r\n  File \"C:\\....\\Python38\\lib\\site-packages\\moviepy\\video\\fx\\rotate.py\", line 71, in rotate\r\n    return clip.fl(fl, apply_to=[\"mask\"])\r\n  File \"C:\\....\\Python38\\lib\\site-packages\\moviepy\\video\\VideoClip.py\", line 943, in fl\r\n    newclip = VideoClip.fl(self, fl, apply_to=apply_to,\r\n  File \"C:\\....\\Python38\\lib\\site-packages\\moviepy\\Clip.py\", line 151, in fl\r\n    new_a = a.fl(fun, keep_duration=keep_duration)\r\n  File \"C:\\....\\Python38\\lib\\site-packages\\moviepy\\video\\VideoClip.py\", line 943, in fl\r\n    newclip = VideoClip.fl(self, fl, apply_to=apply_to,\r\n  File \"C:\\....\\Python38\\lib\\site-packages\\moviepy\\Clip.py\", line 138, in fl\r\n    newclip = self.set_make_frame(lambda t: fun(self.get_frame, t))\r\n  File \"<decorator-gen-57>\", line 2, in set_make_frame\r\n  File \"C:\\....\\Python38\\lib\\site-packages\\moviepy\\decorators.py\", line 14, in outplace\r\n    f(newclip, *a, **k)\r\n  File \"C:\\....\\Python38\\lib\\site-packages\\moviepy\\video\\VideoClip.py\", line 666, in set_make_frame\r\n    self.size = self.get_frame(0).shape[:2][::-1]\r\n  File \"<decorator-gen-10>\", line 2, in get_frame\r\n  File \"C:\\....\\Python38\\lib\\site-packages\\moviepy\\decorators.py\", line 89, in wrapper\r\n    return f(*new_a, **new_kw)\r\n  File \"C:\\....\\Python38\\lib\\site-packages\\moviepy\\Clip.py\", line 95, in get_frame\r\n    return self.make_frame(t)\r\n  File \"C:\\....\\Python38\\lib\\site-packages\\moviepy\\Clip.py\", line 138, in <lambda>\r\n    newclip = self.set_make_frame(lambda t: fun(self.get_frame, t))\r\n  File \"C:\\....\\Python38\\lib\\site-packages\\moviepy\\video\\fx\\rotate.py\", line 59, in fl\r\n    return np.transpose(im, axes=transpo)[::-1]\r\n  File \"<__array_function__ internals>\", line 5, in transpose\r\n  File \"C:\\....\\Python38\\lib\\site-packages\\numpy\\core\\fromnumeric.py\", line 653, in transpose\r\n    return _wrapfunc(a, 'transpose', axes)\r\n  File \"C:\\....\\Python38\\lib\\site-packages\\numpy\\core\\fromnumeric.py\", line 58, in _wrapfunc\r\n    return bound(*args, **kwds)\r\nValueError: axes don't match array\r\n```\r\n\r\n#### Steps to Reproduce the Problem\r\ncopy the code above and paste into an IDE, and run the code\r\n\r\n\r\n#### Specifications\r\n\r\n  - Python Version: 3.8.4\r\n  - Moviepy Version: 1.0.0\r\n  - Platform Name: Windows\r\n  - Platform Version: 10\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1278/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1278/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1277", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1277/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1277/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1277/events", "html_url": "https://github.com/Zulko/moviepy/issues/1277", "id": 667404632, "node_id": "MDU6SXNzdWU2Njc0MDQ2MzI=", "number": 1277, "title": "Grabbing the Video From Livestreams makes Infinite Loop", "user": {"login": "Clause828", "id": 55769079, "node_id": "MDQ6VXNlcjU1NzY5MDc5", "avatar_url": "https://avatars.githubusercontent.com/u/55769079?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Clause828", "html_url": "https://github.com/Clause828", "followers_url": "https://api.github.com/users/Clause828/followers", "following_url": "https://api.github.com/users/Clause828/following{/other_user}", "gists_url": "https://api.github.com/users/Clause828/gists{/gist_id}", "starred_url": "https://api.github.com/users/Clause828/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Clause828/subscriptions", "organizations_url": "https://api.github.com/users/Clause828/orgs", "repos_url": "https://api.github.com/users/Clause828/repos", "events_url": "https://api.github.com/users/Clause828/events{/privacy}", "received_events_url": "https://api.github.com/users/Clause828/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 583252697, "node_id": "MDU6TGFiZWw1ODMyNTI2OTc=", "url": "https://api.github.com/repos/Zulko/moviepy/labels/audio", "name": "audio", "color": "bfd4f2", "default": false, "description": "Related to AudioClip, or handling of audio in general."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-07-28T21:51:22Z", "updated_at": "2022-10-11T01:06:08Z", "closed_at": "2022-10-11T01:06:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am trying to have grab audio from a livestream and it infinitely loops when I call clip = VideoFileClip(mp4_file). This only happens with Livestreams. Any Ideas as to why this is?\r\nEntire Code:\r\n```import pafy import youtube_dl \r\nimport speech_recognition as sr \r\nimport moviepy \r\nimport time from moviepy.editor \r\nimport VideoFileClip \r\nurl = \"https://www.youtube.com/watch?v=d3kNYgXJTEo\" \r\nvideo=pafy.new(url)\r\nbest=video.getbest(preftype=\"mp4\") \r\nbest.download() \r\nmp4_file = \"Watch NBC News NOW Live - July 28.mp4\" \r\nwav_file = \"cutafew.wav\" \r\n\r\nclip = VideoFileClip(mp4_file).subclip(-11, -1)  \r\nclip.audio.write_audiofile(\"newAudioFile.wav\") \r\nr = sr.Recognizer() \r\nwith sr.AudioFile(\"newAudioFile.wav\") as source: \r\n# listen for the data (load audio to memory)    \r\naudio_data = r.record(source) \r\n# recognize (convert from speech to text)    \r\ntext = r.recognize_google(audio_data, language = \"en-US\", show_all=True) \r\nprint(text)\r\n```\r\n\r\n#### Specifications\r\n\r\n  - Python Version: 3.9\r\n  - Moviepy Version:\r\n  - Platform Name: Pycharm\r\n  - Platform Version: N/A\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1277/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1277/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1275", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1275/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1275/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1275/events", "html_url": "https://github.com/Zulko/moviepy/issues/1275", "id": 665915205, "node_id": "MDU6SXNzdWU2NjU5MTUyMDU=", "number": 1275, "title": "Crash's when 25% done combining clips", "user": {"login": "michaelkremenetsky", "id": 28833521, "node_id": "MDQ6VXNlcjI4ODMzNTIx", "avatar_url": "https://avatars.githubusercontent.com/u/28833521?v=4", "gravatar_id": "", "url": "https://api.github.com/users/michaelkremenetsky", "html_url": "https://github.com/michaelkremenetsky", "followers_url": "https://api.github.com/users/michaelkremenetsky/followers", "following_url": "https://api.github.com/users/michaelkremenetsky/following{/other_user}", "gists_url": "https://api.github.com/users/michaelkremenetsky/gists{/gist_id}", "starred_url": "https://api.github.com/users/michaelkremenetsky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/michaelkremenetsky/subscriptions", "organizations_url": "https://api.github.com/users/michaelkremenetsky/orgs", "repos_url": "https://api.github.com/users/michaelkremenetsky/repos", "events_url": "https://api.github.com/users/michaelkremenetsky/events{/privacy}", "received_events_url": "https://api.github.com/users/michaelkremenetsky/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 2095151545, "node_id": "MDU6TGFiZWwyMDk1MTUxNTQ1", "url": "https://api.github.com/repos/Zulko/moviepy/labels/performance", "name": "performance", "color": "b57b4e", "default": false, "description": "Speed/performance of code or individual functionality."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-07-27T02:00:10Z", "updated_at": "2022-10-10T23:57:09Z", "closed_at": "2022-10-10T23:57:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Expected Behavior\r\nI wanted it to combine the 2 clips to make one longer clip.\r\n\r\n#### Actual Behavior\r\nIt crash's when it's around 25% done and gives me this error.\r\n```\r\nraceback (most recent call last):\r\n  File \"C:\\Users\\Administrator\\AppData\\Local\\Programs\\Python\\Python38\\lib\\site-packages\\moviepy\\video\\io\\ffmpeg_writer.py\", line 136, in write_frame\r\n    self.proc.stdin.write(img_array.tobytes())\r\nBrokenPipeError: [Errno 32] Broken pipe\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"D:\\Downloads\\Video Tools\\video.py\", line 8, in <module>\r\n    final_clip.write_videofile(\"edited.mp4\")\r\n  File \"<decorator-gen-55>\", line 2, in write_videofile\r\n  File \"C:\\Users\\Administrator\\AppData\\Local\\Programs\\Python\\Python38\\lib\\site-packages\\moviepy\\decorators.py\", line 54, in requires_duration\r\n    return f(clip, *a, **k)\r\n  File \"<decorator-gen-54>\", line 2, in write_videofile\r\n  File \"C:\\Users\\Administrator\\AppData\\Local\\Programs\\Python\\Python38\\lib\\site-packages\\moviepy\\decorators.py\", line 135, in use_clip_fps_by_default\r\n    return f(clip, *new_a, **new_kw)\r\n  File \"<decorator-gen-53>\", line 2, in write_videofile\r\n  File \"C:\\Users\\Administrator\\AppData\\Local\\Programs\\Python\\Python38\\lib\\site-packages\\moviepy\\decorators.py\", line 22, in convert_masks_to_RGB\r\n    return f(clip, *a, **k)\r\n  File \"C:\\Users\\Administrator\\AppData\\Local\\Programs\\Python\\Python38\\lib\\site-packages\\moviepy\\video\\VideoClip.py\", line 300, in write_videofile\r\n    ffmpeg_write_video(self, filename, fps, codec,\r\n  File \"C:\\Users\\Administrator\\AppData\\Local\\Programs\\Python\\Python38\\lib\\site-packages\\moviepy\\video\\io\\ffmpeg_writer.py\", line 228, in ffmpeg_write_video\r\n    writer.write_frame(frame)\r\n  File \"C:\\Users\\Administrator\\AppData\\Local\\Programs\\Python\\Python38\\lib\\site-packages\\moviepy\\video\\io\\ffmpeg_writer.py\", line 180, in write_frame\r\n    raise IOError(error)\r\nOSError: [Errno 32] Broken pipe\r\n\r\nMoviePy error: FFMPEG encountered the following error while writing file edited.mp4:\r\n\r\n b''\r\n```\r\n\r\n#### Steps to Reproduce the Problem\r\nI used this Code.\r\n\r\nCode:\r\n```\r\nfrom moviepy.editor import VideoFileClip, concatenate_videoclips\r\n\r\nclip1 = VideoFileClip(\"test.mp4\")\r\nclip2 = VideoFileClip(\"test2.mp4\")\r\n\r\nfinal_clip = concatenate_videoclips([clip1,clip2])\r\n\r\nfinal_clip.write_videofile(\"edited.mp4\")\r\n```\r\n\r\n\r\n#### Specifications\r\n\r\n  - Python Version: 3.8.3\r\n  - Moviepy Version: 1.0.3\r\n  - Platform Name: Windows\r\n  - Platform Version: 10\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1275/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1275/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1272", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1272/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1272/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1272/events", "html_url": "https://github.com/Zulko/moviepy/issues/1272", "id": 664868280, "node_id": "MDU6SXNzdWU2NjQ4NjgyODA=", "number": 1272, "title": "Video Freezes", "user": {"login": "Artucuno", "id": 28388670, "node_id": "MDQ6VXNlcjI4Mzg4Njcw", "avatar_url": "https://avatars.githubusercontent.com/u/28388670?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Artucuno", "html_url": "https://github.com/Artucuno", "followers_url": "https://api.github.com/users/Artucuno/followers", "following_url": "https://api.github.com/users/Artucuno/following{/other_user}", "gists_url": "https://api.github.com/users/Artucuno/gists{/gist_id}", "starred_url": "https://api.github.com/users/Artucuno/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Artucuno/subscriptions", "organizations_url": "https://api.github.com/users/Artucuno/orgs", "repos_url": "https://api.github.com/users/Artucuno/repos", "events_url": "https://api.github.com/users/Artucuno/events{/privacy}", "received_events_url": "https://api.github.com/users/Artucuno/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 583252675, "node_id": "MDU6TGFiZWw1ODMyNTI2NzU=", "url": "https://api.github.com/repos/Zulko/moviepy/labels/video", "name": "video", "color": "bfd4f2", "default": false, "description": "Related to VideoClip and related classes, or handling of video in general."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-07-24T02:02:44Z", "updated_at": "2022-10-11T00:00:57Z", "closed_at": "2022-10-11T00:00:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "After video generates the video freezes on any video at 2 seconds\r\n\r\n```\r\nytdl_format_options = {\r\n    'format': 'bestaudio/best',\r\n    'outtmpl': 'songs/%(id)s-%(title)s.%(ext)s',\r\n    'restrictfilenames': False,\r\n    'nocheckcertificate': True,\r\n    'quiet': True,\r\n    'no_warnings': True,\r\n    'default_search': 'auto',\r\n    'source_address': '0.0.0.0' # bind to ipv4 since ipv6 addresses cause issues sometimes\r\n}\r\n\r\nffmpeg_options = {\r\n    'options': '-vn'\r\n}\r\n\r\n                                                        with youtube_dl.YoutubeDL(ytdl_format_options) as ydl:\r\n                                                            info = ydl.extract_info(request.form['song'], download=True)\r\n                                                        if 'entries' in info:\r\n                                                            ta = info['entries'][0]\r\n                                                        #videoclip = mpe.VideoFileClip(os.path.join(fu, \"{}.{}\".format(vn, filename.rsplit('.', 1)[1].lower())))\r\n                                                        #background_music = mpe.AudioFileClip('songs/{}-{}.{}'.format(ta['id'], ta['title'], ta['ext']))\r\n                                                        #new_clip = videoclip.set_audio(background_music)\r\n                                                        #final.write_videofile(\"output.mp4\", audio=\"audio.mp3\")\r\n                                                        #Thread(new_clip.write_videofile(os.path.join(fu, \"{}.{}\".format(vn, filename.rsplit('.', 1)[1].lower())))).start()\r\n                                                        videoclip = VideoFileClip(os.path.join(fu, \"{}.{}\".format(vn, filename.rsplit('.', 1)[1].lower())))\r\n                                                        audioclip = AudioFileClip('songs/{}-{}.{}'.format(ta['id'], ta['title'], ta['ext']))\r\n\r\n                                                        new_audioclip = CompositeAudioClip([videoclip.audio, audioclip])\r\n                                                        videoclip.audio = new_audioclip\r\n                                                        videoclip.write_videofile(os.path.join(fu, \"{}.{}\".format(vn, filename.rsplit('.', 1)[1].lower())))\r\n```", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1272/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1272/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1270", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1270/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1270/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1270/events", "html_url": "https://github.com/Zulko/moviepy/issues/1270", "id": 663191810, "node_id": "MDU6SXNzdWU2NjMxOTE4MTA=", "number": 1270, "title": "error when masking and rotating a png containing text, that has a transparent background -  ValueError: operands could not be broadcast together with shapes (830,830) (830,830,3) ", "user": {"login": "OneWorld-github", "id": 19984261, "node_id": "MDQ6VXNlcjE5OTg0MjYx", "avatar_url": "https://avatars.githubusercontent.com/u/19984261?v=4", "gravatar_id": "", "url": "https://api.github.com/users/OneWorld-github", "html_url": "https://github.com/OneWorld-github", "followers_url": "https://api.github.com/users/OneWorld-github/followers", "following_url": "https://api.github.com/users/OneWorld-github/following{/other_user}", "gists_url": "https://api.github.com/users/OneWorld-github/gists{/gist_id}", "starred_url": "https://api.github.com/users/OneWorld-github/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/OneWorld-github/subscriptions", "organizations_url": "https://api.github.com/users/OneWorld-github/orgs", "repos_url": "https://api.github.com/users/OneWorld-github/repos", "events_url": "https://api.github.com/users/OneWorld-github/events{/privacy}", "received_events_url": "https://api.github.com/users/OneWorld-github/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 1163360583, "node_id": "MDU6TGFiZWwxMTYzMzYwNTgz", "url": "https://api.github.com/repos/Zulko/moviepy/labels/text", "name": "text", "color": "bfd4f2", "default": false, "description": "Issues dealing with TextClip, SubtitlesClip, or handling of text in general."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-07-21T17:39:22Z", "updated_at": "2022-01-13T15:41:44Z", "closed_at": "2022-01-13T15:41:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "Are there any patches or workarounds for this issue please ?\r\n\r\n```\r\nimport moviepy.editor as mped\r\ntext_png = mped.ImageClip(\"a_png_of_text_with_transparent_background.png\", duration=1).set_position((0,0))\r\nmasked_rotated_text_png = text_png.add_mask().rotate(45, unit='deg', expand=True)\r\nstacked_clips = mped.CompositeVideoClip([masked_rotated_text_png]).set_duration(1)\r\nstacked_clips.write_videofile('hello_masked_and_rotated_by_moviepy.mp4', fps=5)\r\n```\r\n\r\n#### Expected Behavior\r\nto rotate the png and maintain the transparency.  The Pillow code below works alright.  But it doesn't work with the moviepy code above:-\r\n```\r\nfrom PIL import Image\r\npng = Image.open(\"text_with_transparent_background.png\")\r\nim_masked_rotated = png.convert(\"RGBA\").rotate(45, expand=True)\r\nim_masked_rotated.save(\"hello_masked_and_rotated_using_pillow.png\")\r\n```\r\n\r\npng_of_text_on_transparent_background_rotated_using_moviepy.py\", line 28, in <module>\r\n    stacked_clips.write_videofile('hello_masked_and_rotated_by_moviepy.mp4', fps=5)\r\n  File \"<decorator-gen-51>\", line 2, in write_videofile\r\n  moviepy/decorators.py\", line 54, in requires_duration\r\n    return f(clip, *a, **k)\r\n  File \"<decorator-gen-50>\", line 2, in write_videofile\r\n  moviepy/decorators.py\", line 137, in use_clip_fps_by_default\r\n    return f(clip, *new_a, **new_kw)\r\n  File \"<decorator-gen-49>\", line 2, in write_videofile\r\n  /moviepy/decorators.py\", line 22, in convert_masks_to_RGB\r\n    return f(clip, *a, **k)\r\n  moviepy/video/VideoClip.py\", line 326, in write_videofile\r\n    logger=logger)\r\n  moviepy/video/io/ffmpeg_writer.py\", line 216, in ffmpeg_write_video\r\n    fps=fps, dtype=\"uint8\"):\r\n  moviepy/Clip.py\", line 475, in iter_frames\r\n    frame = self.get_frame(t)\r\n  File \"<decorator-gen-10>\", line 2, in get_frame\r\n  moviepy/decorators.py\", line 89, in wrapper\r\n    return f(*new_a, **new_kw)\r\n  moviepy/Clip.py\", line 95, in get_frame\r\n    return self.make_frame(t)\r\n  moviepy/video/compositing/CompositeVideoClip.py\", line 118, in make_frame\r\n    f = c.blit_on(f, t)\r\n  moviepy/video/VideoClip.py\", line 586, in blit_on\r\n    return blit(img, picture, pos, mask=mask, ismask=self.ismask)\r\n  moviepy/video/tools/drawing.py\", line 45, in blit\r\n    1.0 * mask * blitted + (1.0 - mask) * blit_region)\r\n\r\n#### Steps to Reproduce the Problem\r\ncopy and paste the code above, find a file that has text in it, on a transparent background.\r\nChange the filename in the function to match your downloaded png filename.\r\nRun the code.\r\n\r\n#### Specifications\r\n  - Python Version: 3.7.4\r\n  - Moviepy Version: 1.0.0\r\n  - Platform Name: Windows or Mac", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1270/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1270/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1269", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1269/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1269/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1269/events", "html_url": "https://github.com/Zulko/moviepy/issues/1269", "id": 663132534, "node_id": "MDU6SXNzdWU2NjMxMzI1MzQ=", "number": 1269, "title": "rotating TextClip on a coloured background creates a black box around the text, after adding a mask, and distorted edges without adding a mask", "user": {"login": "OneWorld-github", "id": 19984261, "node_id": "MDQ6VXNlcjE5OTg0MjYx", "avatar_url": "https://avatars.githubusercontent.com/u/19984261?v=4", "gravatar_id": "", "url": "https://api.github.com/users/OneWorld-github", "html_url": "https://github.com/OneWorld-github", "followers_url": "https://api.github.com/users/OneWorld-github/followers", "following_url": "https://api.github.com/users/OneWorld-github/following{/other_user}", "gists_url": "https://api.github.com/users/OneWorld-github/gists{/gist_id}", "starred_url": "https://api.github.com/users/OneWorld-github/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/OneWorld-github/subscriptions", "organizations_url": "https://api.github.com/users/OneWorld-github/orgs", "repos_url": "https://api.github.com/users/OneWorld-github/repos", "events_url": "https://api.github.com/users/OneWorld-github/events{/privacy}", "received_events_url": "https://api.github.com/users/OneWorld-github/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 1163360583, "node_id": "MDU6TGFiZWwxMTYzMzYwNTgz", "url": "https://api.github.com/repos/Zulko/moviepy/labels/text", "name": "text", "color": "bfd4f2", "default": false, "description": "Issues dealing with TextClip, SubtitlesClip, or handling of text in general."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-07-21T16:04:20Z", "updated_at": "2021-01-21T11:19:41Z", "closed_at": "2021-01-20T10:48:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\r\n# text rotation using moviepy\r\nimport moviepy.editor as mped\r\nimport numpy as np\r\n\r\ncolour_clip = mped.ColorClip(size=[300, 200], color=np.array([250, 90, 0]).astype(np.uint8), duration=1).set_position((0, 0))\r\ntxtClip = mped.TextClip('Text', color=\"#4a4a4a\", size=[200,100]).set_position((0,0)).set_duration(1)\r\ntxtClip = txtClip.add_mask().rotate(45, unit='deg', expand=True)\r\nstacked_clips = mped.CompositeVideoClip([colour_clip, txtClip]).set_duration(1)\r\nstacked_clips.write_videofile('text_rotated_with_mask_applied_to_rotation.mp4', fps=5)\r\n```\r\n\r\n#### Expected Behavior\r\nrotated text with nice edges, but without creating a black box around the text.\r\n\r\n#### Actual Behavior\r\ncreates a black box around the text\r\n\r\nps. if you take add_mask() out, then what happens is that the text looks distorted around the edges.\r\n\r\n#### Steps to Reproduce the Problem\r\ncopy and paste code above and run\r\n\r\nIf you try this line instead, ie without adding mask, you get distorted edges.\r\n```\r\ntxtClip = txtClip.rotate(45, unit='deg', expand=True)\r\n```\r\n\r\nI think this might have something to do with an asset having a transparent background\r\n\r\n#### Specifications\r\n  - Python Version: 3.7.4\r\n  - Moviepy Version: 1.0.0", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1269/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1269/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1268", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1268/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1268/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1268/events", "html_url": "https://github.com/Zulko/moviepy/issues/1268", "id": 663045631, "node_id": "MDU6SXNzdWU2NjMwNDU2MzE=", "number": 1268, "title": "ValueError: Attribute 'duration' not set when compositing a TextClip on a ColorClip", "user": {"login": "OneWorld-github", "id": 19984261, "node_id": "MDQ6VXNlcjE5OTg0MjYx", "avatar_url": "https://avatars.githubusercontent.com/u/19984261?v=4", "gravatar_id": "", "url": "https://api.github.com/users/OneWorld-github", "html_url": "https://github.com/OneWorld-github", "followers_url": "https://api.github.com/users/OneWorld-github/followers", "following_url": "https://api.github.com/users/OneWorld-github/following{/other_user}", "gists_url": "https://api.github.com/users/OneWorld-github/gists{/gist_id}", "starred_url": "https://api.github.com/users/OneWorld-github/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/OneWorld-github/subscriptions", "organizations_url": "https://api.github.com/users/OneWorld-github/orgs", "repos_url": "https://api.github.com/users/OneWorld-github/repos", "events_url": "https://api.github.com/users/OneWorld-github/events{/privacy}", "received_events_url": "https://api.github.com/users/OneWorld-github/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 1163360583, "node_id": "MDU6TGFiZWwxMTYzMzYwNTgz", "url": "https://api.github.com/repos/Zulko/moviepy/labels/text", "name": "text", "color": "bfd4f2", "default": false, "description": "Issues dealing with TextClip, SubtitlesClip, or handling of text in general."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-07-21T14:09:37Z", "updated_at": "2020-10-02T18:33:20Z", "closed_at": "2020-07-21T15:53:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\r\nimport moviepy.editor as mped\r\nimport numpy as np\r\ncolour_clip = mped.ColorClip(size=[500, 50], color=np.array([250, 90, 0]).astype(np.uint8), duration=3)\r\ntxtClip = mped.TextClip('Text', color=\"grey\", fontsize=10)\r\nstacked_clips = mped.CompositeVideoClip([colour_clip, txtClip])\r\nstacked_clips.write_videofile('text_on_colour.mp4', fps=5)\r\n```\r\n\r\n#### Expected Behavior\r\nI was expecting it to stack the text onto the coloured background.\r\n\r\n#### Actual Behavior\r\nTraceback (most recent call last):\r\n  line 18, in <module>\r\n    stacked_clips.write_videofile('text_on_colour.mp4', fps=5)\r\n  site-packages\\decorator.py:decorator-gen-51>\", line 2, in write_videofile\r\n  \\moviepy\\decorators.py\", line 52, in requires_duration\r\n    raise ValueError(\"Attribute 'duration' not set\")\r\nValueError: Attribute 'duration' not set\r\n\r\n#### Steps to Reproduce the Problem\r\nCopy and paste code above and run\r\n\r\n#### Specifications\r\n  - Python Version:  3.7.6\r\n  - Moviepy Version : 1.0.0\r\n  - Platform Name : Windows\r\n  - Platform Version : 10", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1268/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1268/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1267", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1267/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1267/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1267/events", "html_url": "https://github.com/Zulko/moviepy/issues/1267", "id": 662941309, "node_id": "MDU6SXNzdWU2NjI5NDEzMDk=", "number": 1267, "title": "[WinError 2] The system cannot find the file specified.", "user": {"login": "laxman432", "id": 34814823, "node_id": "MDQ6VXNlcjM0ODE0ODIz", "avatar_url": "https://avatars.githubusercontent.com/u/34814823?v=4", "gravatar_id": "", "url": "https://api.github.com/users/laxman432", "html_url": "https://github.com/laxman432", "followers_url": "https://api.github.com/users/laxman432/followers", "following_url": "https://api.github.com/users/laxman432/following{/other_user}", "gists_url": "https://api.github.com/users/laxman432/gists{/gist_id}", "starred_url": "https://api.github.com/users/laxman432/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/laxman432/subscriptions", "organizations_url": "https://api.github.com/users/laxman432/orgs", "repos_url": "https://api.github.com/users/laxman432/repos", "events_url": "https://api.github.com/users/laxman432/events{/privacy}", "received_events_url": "https://api.github.com/users/laxman432/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 547814220, "node_id": "MDU6TGFiZWw1NDc4MTQyMjA=", "url": "https://api.github.com/repos/Zulko/moviepy/labels/lib-misc", "name": "lib-misc", "color": "ffdcb5", "default": false, "description": "Issues pertaining to misc. 3rd-party libraries."}, {"id": 1866735520, "node_id": "MDU6TGFiZWwxODY2NzM1NTIw", "url": "https://api.github.com/repos/Zulko/moviepy/labels/lib-ImageMagick", "name": "lib-ImageMagick", "color": "d6b289", "default": false, "description": "Issues pertaining to dependency ImageMagick."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-07-21T12:04:34Z", "updated_at": "2021-01-21T21:07:51Z", "closed_at": "2021-01-21T21:07:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "WinError 2] The system cannot find the file specified.\r\n\r\n.This error can be due to the fact that ImageMagick is not installed on your computer, or (for Windows users) that you didn't specify the path to the ImageMagick binary in file conf.py, or that the path you specified is incorrect\r\n\r\n\r\nthe above error i am getting i am not able to get it i installed imagemagic but i am not able to give path in config defaults.py \r\ni am using anaconda spyder", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1267/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1267/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1265", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1265/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1265/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1265/events", "html_url": "https://github.com/Zulko/moviepy/issues/1265", "id": 660561256, "node_id": "MDU6SXNzdWU2NjA1NjEyNTY=", "number": 1265, "title": "AttributeError: 'str' object has no attribute 'decode'", "user": {"login": "reporter-law", "id": 61373015, "node_id": "MDQ6VXNlcjYxMzczMDE1", "avatar_url": "https://avatars.githubusercontent.com/u/61373015?v=4", "gravatar_id": "", "url": "https://api.github.com/users/reporter-law", "html_url": "https://github.com/reporter-law", "followers_url": "https://api.github.com/users/reporter-law/followers", "following_url": "https://api.github.com/users/reporter-law/following{/other_user}", "gists_url": "https://api.github.com/users/reporter-law/gists{/gist_id}", "starred_url": "https://api.github.com/users/reporter-law/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/reporter-law/subscriptions", "organizations_url": "https://api.github.com/users/reporter-law/orgs", "repos_url": "https://api.github.com/users/reporter-law/repos", "events_url": "https://api.github.com/users/reporter-law/events{/privacy}", "received_events_url": "https://api.github.com/users/reporter-law/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-07-19T03:43:13Z", "updated_at": "2020-07-21T01:02:37Z", "closed_at": "2020-07-21T01:02:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "first_error:\r\nffmpeg_parse_infos\r\n    infos = error.decode('utf8')\r\nAttributeError: 'str' object has no attribute 'decode'\r\n\r\nfix:\r\ninfos = error#.decode('utf8', 'ignore')\r\n\r\nsecond_error:\r\n(result, consumed) = self._buffer_decode(data, self.errors, final)\r\nUnicodeDecodeError: 'utf-8' codec can't decode byte 0x80 in position 7: invalid start byte\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1265/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1265/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1263", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1263/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1263/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1263/events", "html_url": "https://github.com/Zulko/moviepy/issues/1263", "id": 658197134, "node_id": "MDU6SXNzdWU2NTgxOTcxMzQ=", "number": 1263, "title": "Loading a 60fps VideoFileClip and saving it seems to make it 2x faster", "user": {"login": "jdjakub", "id": 16978710, "node_id": "MDQ6VXNlcjE2OTc4NzEw", "avatar_url": "https://avatars.githubusercontent.com/u/16978710?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jdjakub", "html_url": "https://github.com/jdjakub", "followers_url": "https://api.github.com/users/jdjakub/followers", "following_url": "https://api.github.com/users/jdjakub/following{/other_user}", "gists_url": "https://api.github.com/users/jdjakub/gists{/gist_id}", "starred_url": "https://api.github.com/users/jdjakub/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jdjakub/subscriptions", "organizations_url": "https://api.github.com/users/jdjakub/orgs", "repos_url": "https://api.github.com/users/jdjakub/repos", "events_url": "https://api.github.com/users/jdjakub/events{/privacy}", "received_events_url": "https://api.github.com/users/jdjakub/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 583252675, "node_id": "MDU6TGFiZWw1ODMyNTI2NzU=", "url": "https://api.github.com/repos/Zulko/moviepy/labels/video", "name": "video", "color": "bfd4f2", "default": false, "description": "Related to VideoClip and related classes, or handling of video in general."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-07-16T13:25:44Z", "updated_at": "2020-10-02T18:32:21Z", "closed_at": "2020-07-17T10:45:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Steps to Reproduce the Problem\r\n```\r\nfrom moviepy.editor import *\r\nclip = VideoFileClip('60fps-test.mp4')\r\nclip.write_videofile('duplicate.mp4')\r\n```\r\n\r\n#### Expected Behavior\r\nThis should be an identity operation, right? Read in a file, output a copy unchanged. `duplicate.mp4` should at least have the same speed as the original.\r\n\r\n#### Actual Behavior\r\n`duplicate.mp4` is sped up by what appears to be a factor of 2, yet has the same duration. So the original video finishes halfway through, and the second half of the output is just the final frame of the original.\r\n\r\n#### Other\r\nPerforming the above on a 24fps mp4 results in the expected behaviour. Just this 60fps one that gets sped up. And this speeding-up effect is unchanged by specifying the `fps` parameter in `write_videofile`, either as 60 or 24.\r\n\r\nI noticed this when trying to compose a transparent overlay on top of a gameplay video, but managed to reduce it to this case.\r\n\r\n#### Specifications\r\n  - Python Version: 3.8.3\r\n  - Moviepy Version: 1.0.3\r\n  - Platform Name: MacOS\r\n  - Platform Version: Catalina 10.15.1\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1263/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1263/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1262", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1262/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1262/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1262/events", "html_url": "https://github.com/Zulko/moviepy/issues/1262", "id": 656577395, "node_id": "MDU6SXNzdWU2NTY1NzczOTU=", "number": 1262, "title": "TextClip.list('font') error", "user": {"login": "lingting", "id": 59352063, "node_id": "MDQ6VXNlcjU5MzUyMDYz", "avatar_url": "https://avatars.githubusercontent.com/u/59352063?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lingting", "html_url": "https://github.com/lingting", "followers_url": "https://api.github.com/users/lingting/followers", "following_url": "https://api.github.com/users/lingting/following{/other_user}", "gists_url": "https://api.github.com/users/lingting/gists{/gist_id}", "starred_url": "https://api.github.com/users/lingting/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lingting/subscriptions", "organizations_url": "https://api.github.com/users/lingting/orgs", "repos_url": "https://api.github.com/users/lingting/repos", "events_url": "https://api.github.com/users/lingting/events{/privacy}", "received_events_url": "https://api.github.com/users/lingting/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 1163360583, "node_id": "MDU6TGFiZWwxMTYzMzYwNTgz", "url": "https://api.github.com/repos/Zulko/moviepy/labels/text", "name": "text", "color": "bfd4f2", "default": false, "description": "Issues dealing with TextClip, SubtitlesClip, or handling of text in general."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-07-14T12:33:41Z", "updated_at": "2021-01-21T15:52:49Z", "closed_at": "2021-01-21T15:52:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "run `TextClip.list('font')`\r\n\r\n\r\n#### Expected Behavior\r\n['Agency-FB', 'Agency-FB-Bold', 'Algerian', 'Arial',  .... ]\r\n\r\n#### Actual Behavior\r\nUnicodeDecodeError:'utf-8' codec can't decode byte 0xb7 in position 8: invalid start byte\r\n\r\n#### Steps to Reproduce the Problem\r\nUse Chinese window, the system default encoding is gbk, this time execute TextClip.list('font') will throw an exception\r\n`UnicodeDecodeError:'utf-8' codec can't decode byte 0xb7 in position 8: invalid start byte`\r\n\r\n\r\n#### Specifications\r\n\r\n  - Python 3.8:\r\n  - Moviepy 1.0.3:\r\n  - Platform windows:\r\n  - Platform 10:\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1262/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1262/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1261", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1261/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1261/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1261/events", "html_url": "https://github.com/Zulko/moviepy/issues/1261", "id": 654593117, "node_id": "MDU6SXNzdWU2NTQ1OTMxMTc=", "number": 1261, "title": "When set 'logger=None' in write_videofile function it goes error:  [WinError 6] The handle is invalid", "user": {"login": "shawnxiaoxiong", "id": 37019422, "node_id": "MDQ6VXNlcjM3MDE5NDIy", "avatar_url": "https://avatars.githubusercontent.com/u/37019422?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shawnxiaoxiong", "html_url": "https://github.com/shawnxiaoxiong", "followers_url": "https://api.github.com/users/shawnxiaoxiong/followers", "following_url": "https://api.github.com/users/shawnxiaoxiong/following{/other_user}", "gists_url": "https://api.github.com/users/shawnxiaoxiong/gists{/gist_id}", "starred_url": "https://api.github.com/users/shawnxiaoxiong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shawnxiaoxiong/subscriptions", "organizations_url": "https://api.github.com/users/shawnxiaoxiong/orgs", "repos_url": "https://api.github.com/users/shawnxiaoxiong/repos", "events_url": "https://api.github.com/users/shawnxiaoxiong/events{/privacy}", "received_events_url": "https://api.github.com/users/shawnxiaoxiong/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 583252675, "node_id": "MDU6TGFiZWw1ODMyNTI2NzU=", "url": "https://api.github.com/repos/Zulko/moviepy/labels/video", "name": "video", "color": "bfd4f2", "default": false, "description": "Related to VideoClip and related classes, or handling of video in general."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-07-10T08:03:59Z", "updated_at": "2021-01-21T14:51:03Z", "closed_at": "2021-01-21T14:51:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "When set 'logger=None' in write_videofile function it goes error:  [WinError 6] The handle is invalid\r\n\r\n```\r\nfinal_clip.write_videofile(clip_target_path,logger=None)\r\n```\r\n\r\n\r\n#### Expected Behavior\r\nSuccessful\r\n\r\n#### Actual Behavior\r\n```\r\nException ignored in: <function FFMPEG_VideoReader.__del__ at 0x0C826418>\r\nTraceback (most recent call last):\r\n  File \"C:\\Users\\xiongx\\AppData\\Local\\Programs\\Python\\Python38-32\\lib\\site-packages\\moviepy\\video\\io\\ffmpeg_reader.py\", line 199, in __del__\r\n    self.close()\r\n  File \"C:\\Users\\xiongx\\AppData\\Local\\Programs\\Python\\Python38-32\\lib\\site-packages\\moviepy\\video\\io\\ffmpeg_reader.py\", line 190, in close\r\n    self.proc.terminate()\r\n  File \"C:\\Users\\xiongx\\AppData\\Local\\Programs\\Python\\Python38-32\\lib\\subprocess.py\", line 1442, in terminate\r\n    _winapi.TerminateProcess(self._handle, 1)\r\nOSError: [WinError 6] The handle is invalid\r\n```\r\n\r\n#### Steps to Reproduce the Problem\r\nJust set  'logger=None' in write_videofile function\r\n\r\n\r\n#### Specifications\r\n\r\nPython Version: python3.8.3\r\nMoviepy Version: 1.0.3 \r\nPlatform Name: windows 10\r\nPlatform Version: windows 10\r\nffmprg version:ffmpeg version 4.2.3\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1261/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1261/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1259", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1259/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1259/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1259/events", "html_url": "https://github.com/Zulko/moviepy/issues/1259", "id": 652135815, "node_id": "MDU6SXNzdWU2NTIxMzU4MTU=", "number": 1259, "title": "video/tools/drawing.py  local variable 'norm' referenced before assignment", "user": {"login": "liikii", "id": 12583176, "node_id": "MDQ6VXNlcjEyNTgzMTc2", "avatar_url": "https://avatars.githubusercontent.com/u/12583176?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liikii", "html_url": "https://github.com/liikii", "followers_url": "https://api.github.com/users/liikii/followers", "following_url": "https://api.github.com/users/liikii/following{/other_user}", "gists_url": "https://api.github.com/users/liikii/gists{/gist_id}", "starred_url": "https://api.github.com/users/liikii/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liikii/subscriptions", "organizations_url": "https://api.github.com/users/liikii/orgs", "repos_url": "https://api.github.com/users/liikii/repos", "events_url": "https://api.github.com/users/liikii/events{/privacy}", "received_events_url": "https://api.github.com/users/liikii/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-07-07T08:53:45Z", "updated_at": "2020-07-07T09:15:08Z", "closed_at": "2020-07-07T09:15:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "# There seems to be a bug \r\n\r\n```\r\nFile \"/home/debian2/anaconda3/lib/python3.7/site-packages/moviepy-2.0.0.dev1-py3.7.egg/moviepy/video/tools/drawing.py\", line 156, in color_gradient\r\n    n_vec = vector / norm ** 2  # norm 1/norm(vector)\r\nUnboundLocalError: local variable 'norm' referenced before assignment\r\n```", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1259/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1259/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1256", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1256/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1256/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1256/events", "html_url": "https://github.com/Zulko/moviepy/issues/1256", "id": 650813697, "node_id": "MDU6SXNzdWU2NTA4MTM2OTc=", "number": 1256, "title": "\u201cThe End\u201d effect example scripts get fault -- TypeError: 'NoneType' object is not subscriptable", "user": {"login": "shawnxiaoxiong", "id": 37019422, "node_id": "MDQ6VXNlcjM3MDE5NDIy", "avatar_url": "https://avatars.githubusercontent.com/u/37019422?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shawnxiaoxiong", "html_url": "https://github.com/shawnxiaoxiong", "followers_url": "https://api.github.com/users/shawnxiaoxiong/followers", "following_url": "https://api.github.com/users/shawnxiaoxiong/following{/other_user}", "gists_url": "https://api.github.com/users/shawnxiaoxiong/gists{/gist_id}", "starred_url": "https://api.github.com/users/shawnxiaoxiong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shawnxiaoxiong/subscriptions", "organizations_url": "https://api.github.com/users/shawnxiaoxiong/orgs", "repos_url": "https://api.github.com/users/shawnxiaoxiong/repos", "events_url": "https://api.github.com/users/shawnxiaoxiong/events{/privacy}", "received_events_url": "https://api.github.com/users/shawnxiaoxiong/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 542172716, "node_id": "MDU6TGFiZWw1NDIxNzI3MTY=", "url": "https://api.github.com/repos/Zulko/moviepy/labels/examples", "name": "examples", "color": "bfd4f2", "default": false, "description": "Related to the code examples included in the documentation (examples dir)."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2020-07-04T02:35:24Z", "updated_at": "2022-10-02T10:41:48Z", "closed_at": "2021-01-19T20:33:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "I run the example scripts \u201cThe End\u201d effect  after complete the installation,the code is:\r\n```\r\nfrom moviepy.editor import *\r\nfrom moviepy.video.tools.drawing import circle\r\n\r\nclip = VideoFileClip(\"myvideo.mp4\", audio=False).\\\r\n           subclip(26,31).\\\r\n           add_mask()\r\n           \r\nw,h = clip.size\r\n\r\n# The mask is a circle with vanishing radius r(t) = 800-200*t               \r\nclip.mask.get_frame = lambda t: circle(screensize=(clip.w,clip.h),\r\n                                       center=(clip.w/2,clip.h/4),\r\n                                       radius=max(0,int(800-200*t)),\r\n                                       col1=1, col2=0, blur=4)\r\n\r\n\r\nthe_end = TextClip(\"The End\", font=\"Amiri-bold\", color=\"white\",\r\n                   fontsize=70).set_duration(clip.duration)\r\n\r\nfinal = CompositeVideoClip([the_end.set_pos('center'),clip],\r\n                           size =clip.size)\r\n                           \r\nfinal.write_videofile(\"theEnd.mp4\")\r\n```\r\n\r\n#### Expected Behavior\r\n\r\nReturn correct\r\n\r\n#### Actual Behavior\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"theend.py\", line 34, in <module>\r\n    video.write_videofile(\"theEnd.mp4\")\r\n  File \"<decorator-gen-61>\", line 2, in write_videofile\r\n  File \"/home/pandahub/.local/lib/python3.6/site-packages/moviepy/decorators.py\", line 56, in requires_duration\r\n    return f(clip, *a, **k)\r\n  File \"<decorator-gen-60>\", line 2, in write_videofile\r\n  File \"/home/pandahub/.local/lib/python3.6/site-packages/moviepy/decorators.py\", line 135, in use_clip_fps_by_default\r\n    return f(clip, *new_a, **new_kw)\r\n  File \"<decorator-gen-59>\", line 2, in write_videofile\r\n  File \"/home/pandahub/.local/lib/python3.6/site-packages/moviepy/decorators.py\", line 24, in convert_masks_to_RGB\r\n    return f(clip, *a, **k)\r\n  File \"<decorator-gen-58>\", line 2, in write_videofile\r\n  File \"/home/pandahub/.local/lib/python3.6/site-packages/moviepy/decorators.py\", line 89, in wrapper\r\n    return f(*new_a, **new_kw)\r\n  File \"/home/pandahub/.local/lib/python3.6/site-packages/moviepy/video/VideoClip.py\", line 350, in write_videofile\r\n    logger=logger,\r\n  File \"/home/pandahub/.local/lib/python3.6/site-packages/moviepy/video/io/ffmpeg_writer.py\", line 245, in ffmpeg_write_video\r\n    logger=logger, with_times=True, fps=fps, dtype=\"uint8\"\r\n  File \"/home/pandahub/.local/lib/python3.6/site-packages/moviepy/Clip.py\", line 473, in iter_frames\r\n    frame = self.get_frame(t)\r\n  File \"<decorator-gen-11>\", line 2, in get_frame\r\n  File \"/home/pandahub/.local/lib/python3.6/site-packages/moviepy/decorators.py\", line 89, in wrapper\r\n    return f(*new_a, **new_kw)\r\n  File \"/home/pandahub/.local/lib/python3.6/site-packages/moviepy/Clip.py\", line 98, in get_frame\r\n    return self.make_frame(t)\r\n  File \"/home/pandahub/.local/lib/python3.6/site-packages/moviepy/video/compositing/CompositeVideoClip.py\", line 123, in make_frame\r\n    f = c.blit_on(f, t)\r\n  File \"/home/pandahub/.local/lib/python3.6/site-packages/moviepy/video/VideoClip.py\", line 599, in blit_on\r\n    mask = self.mask.get_frame(ct) if self.mask else None\r\n  File \"movie.py\", line 15, in <lambda>\r\n    col1=1, col2=0,blur=4,)\r\n  File \"/home/pandahub/.local/lib/python3.6/site-packages/moviepy/video/tools/drawing.py\", line 280, in circle\r\n    offset=offset,\r\n  File \"/home/pandahub/.local/lib/python3.6/site-packages/moviepy/video/tools/drawing.py\", line 146, in color_gradient\r\n    vector = np.array(vector[::-1])\r\nTypeError: 'NoneType' object is not subscriptable\r\n```\r\n\r\n#### Steps to Reproduce the Problem\r\n1. install the moviepy ( I have tried both 1.0.3 & v2.0.0.dev1 version, and both are fault)\r\n   pip install moviepy\r\n2. install the ffmpeg, or it will be fault with \"ffmpeg not installed\" when run the script\r\n  sudo apt update\r\n  sudo add-apt-repository ppa:jonathonf/ffmpeg-4\r\n  sudo apt install ffmpeg\r\n3. update the /etc/ImageMagick-6/policy.xml, or it will be fault with \"ImageMagick not installed\" when run the script\r\n  <policy domain=\"path\" rights=\"none\" pattern=\"@*\" />\r\n   changed to \r\n  <!-- <policy domain=\"path\" rights=\"none\" pattern=\"@*\" /> -->\r\n4. finally I run the script, and it get thta error message: TypeError: 'NoneType' object is not subscriptable\r\n  python theend.py\r\n\r\n#### Specifications\r\n\r\n  - Python Version: python3.6\r\n  - Moviepy Version: both 1.0.3 & v2.0.0.dev1\r\n  - Platform Name: ubuntu 18.04\r\n  - Platform Version: 18.04\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1256/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1256/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1255", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1255/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1255/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1255/events", "html_url": "https://github.com/Zulko/moviepy/issues/1255", "id": 649767205, "node_id": "MDU6SXNzdWU2NDk3NjcyMDU=", "number": 1255, "title": "There are some runtime error when use PyInstaller to package exe/dmg", "user": {"login": "iChost", "id": 10738760, "node_id": "MDQ6VXNlcjEwNzM4NzYw", "avatar_url": "https://avatars.githubusercontent.com/u/10738760?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iChost", "html_url": "https://github.com/iChost", "followers_url": "https://api.github.com/users/iChost/followers", "following_url": "https://api.github.com/users/iChost/following{/other_user}", "gists_url": "https://api.github.com/users/iChost/gists{/gist_id}", "starred_url": "https://api.github.com/users/iChost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iChost/subscriptions", "organizations_url": "https://api.github.com/users/iChost/orgs", "repos_url": "https://api.github.com/users/iChost/repos", "events_url": "https://api.github.com/users/iChost/events{/privacy}", "received_events_url": "https://api.github.com/users/iChost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 2411349218, "node_id": "MDU6TGFiZWwyNDExMzQ5MjE4", "url": "https://api.github.com/repos/Zulko/moviepy/labels/environment", "name": "environment", "color": "faf9f7", "default": false, "description": "Using moviepy with, or issues possibly stemming from specific OS/platforms/environments."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-07-02T09:06:43Z", "updated_at": "2021-11-23T12:58:34Z", "closed_at": "2021-01-13T20:41:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "# AttributeError: module 'moviepy.audio.fx.all' has no attribute \u2018audio_fadein'\r\n\r\nIf I wan\u2019t to use PyInstaller to package exe/dmg, I must edit two file `moviepy.audio.fx.all.__init__.py` and `moviepy.video.fx.all.__init__.py` like this:\r\n\r\n## in moviepy.audio.fx.all.__init__.py\r\n```python\r\n\"\"\"\r\nLoads all the fx !\r\nUsage:\r\nimport moviepy.audio.fx.all as afx\r\naudio_clip = afx.volume_x(some_clip, .5)\r\n\"\"\"\r\n\r\nimport pkgutil\r\n\r\nimport moviepy.audio.fx as fx\r\n\r\n__all__ = [name for _, name, _ in pkgutil.iter_modules(\r\n    fx.__path__) if name != \"all\"]\r\n\r\n# for name in __all__:\r\n#     exec(\"from ..%s import %s\" % (name, name))\r\nfrom ..audio_fadein import audio_fadein\r\nfrom ..audio_fadeout import audio_fadeout\r\nfrom ..audio_left_right import audio_left_right\r\nfrom ..audio_loop import audio_loop\r\nfrom ..audio_normalize import audio_normalize\r\nfrom ..volumex import volumex\r\n\r\n```\r\n## in moviepy.video.fx.all.__init__.py\r\n\r\n```python\r\n\"\"\"\r\nLoads all the fx !\r\nUsage:\r\nimport moviepy.video.fx.all as vfx\r\nclip = vfx.resize(some_clip, width=400)\r\nclip = vfx.mirror_x(some_clip)\r\n\"\"\"\r\n\r\nimport pkgutil\r\n\r\nimport moviepy.video.fx as fx\r\n\r\n__all__ = [name for _, name, _ in pkgutil.iter_modules(\r\n    fx.__path__) if name != \"all\"]\r\n\r\n# for name in __all__:\r\n#     exec(\"from ..%s import %s\" % (name, name))\r\nfrom ..accel_decel import accel_decel\r\nfrom ..blackwhite import blackwhite\r\nfrom ..blink import blink\r\nfrom ..colorx import colorx\r\nfrom ..crop import crop\r\nfrom ..even_size import even_size\r\nfrom ..fadein import fadein\r\nfrom ..fadeout import fadeout\r\nfrom ..freeze import freeze\r\nfrom ..freeze_region import freeze_region\r\nfrom ..gamma_corr import gamma_corr\r\nfrom ..headblur import headblur\r\nfrom ..invert_colors import invert_colors\r\nfrom ..loop import loop\r\nfrom ..lum_contrast import lum_contrast\r\nfrom ..make_loopable import make_loopable\r\nfrom ..margin import margin\r\nfrom ..mask_and import mask_and\r\nfrom ..mask_color import mask_color\r\nfrom ..mask_or import mask_or\r\nfrom ..mirror_x import mirror_x\r\nfrom ..mirror_y import mirror_y\r\nfrom ..painting import painting\r\nfrom ..resize import resize\r\nfrom ..rotate import rotate\r\nfrom ..scroll import scroll\r\nfrom ..speedx import speedx\r\nfrom ..supersample import supersample\r\nfrom ..time_mirror import time_mirror\r\nfrom ..time_symmetrize import time_symmetrize\r\n\r\n\r\n```", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1255/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1255/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1249", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1249/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1249/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1249/events", "html_url": "https://github.com/Zulko/moviepy/issues/1249", "id": 646937577, "node_id": "MDU6SXNzdWU2NDY5Mzc1Nzc=", "number": 1249, "title": "TextClip can't preview", "user": {"login": "LaoYuanPython", "id": 51265866, "node_id": "MDQ6VXNlcjUxMjY1ODY2", "avatar_url": "https://avatars.githubusercontent.com/u/51265866?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LaoYuanPython", "html_url": "https://github.com/LaoYuanPython", "followers_url": "https://api.github.com/users/LaoYuanPython/followers", "following_url": "https://api.github.com/users/LaoYuanPython/following{/other_user}", "gists_url": "https://api.github.com/users/LaoYuanPython/gists{/gist_id}", "starred_url": "https://api.github.com/users/LaoYuanPython/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LaoYuanPython/subscriptions", "organizations_url": "https://api.github.com/users/LaoYuanPython/orgs", "repos_url": "https://api.github.com/users/LaoYuanPython/repos", "events_url": "https://api.github.com/users/LaoYuanPython/events{/privacy}", "received_events_url": "https://api.github.com/users/LaoYuanPython/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 1163360583, "node_id": "MDU6TGFiZWwxMTYzMzYwNTgz", "url": "https://api.github.com/repos/Zulko/moviepy/labels/text", "name": "text", "color": "bfd4f2", "default": false, "description": "Issues dealing with TextClip, SubtitlesClip, or handling of text in general."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-06-28T14:46:08Z", "updated_at": "2021-01-15T21:24:07Z", "closed_at": "2021-01-15T21:24:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\nYou can format code by putting ``` (that's 3 backticks) on a line by itself at the beginning and end of each code block. For example:\r\n\r\n```\r\nfrom moviepy.editor import *\r\nclip = ColorClip((600, 400), color=(255, 100, 0), duration=2)\r\n```\r\n-->\r\n\r\n```\r\nfrom  moviepy.editor import *\r\ninf =  \"\"\"\r\n    Scrolls horizontally or vertically a clip, e.g. to make end credits\r\n\r\n    Parameters\r\n    -----------\r\n\r\n    w, h\r\n      The width and height of the final clip. Default to clip.w and clip.h\r\n\r\n    x_speed, y_speed\r\n\r\n    x_start, y_start\r\n\r\n    apply_to\r\n    \u4e2d\u56fd\u6b22\u8fce\u4f60\uff01\r\n    Welcom to China!\r\n\r\n    \"\"\"\r\ntxtclip = TextClip(inf, font='Courier', fontsize=18, color='blue', bg_color='white', transparent=True).set_duration(8).set_fps(30).fx(vfx.scroll,x_speed=60,y_speed=60)\r\npreview(txtclip)\r\n```\r\n\r\n#### Expected Behavior\r\nText clip can be previewed.\r\n\r\n#### Actual Behavior\r\npreview failed because error:\r\n\r\n```\r\n>>> preview(txtclip)\r\nTraceback (most recent call last):\r\n  File \"<pyshell#5>\", line 1, in <module>\r\n    preview(txtclip)\r\n  File \"<decorator-gen-128>\", line 2, in preview\r\n  File \"C:\\Program Files\\Python37\\lib\\site-packages\\moviepy\\decorators.py\", line 56, in requires_duration\r\n    return f(clip, *a, **k)\r\n  File \"C:\\Program Files\\Python37\\lib\\site-packages\\moviepy\\audio\\io\\preview.py\", line 44, in preview\r\n    pg.mixer.init(fps, -8 * nbytes, clip.nchannels, 1024)\r\nAttributeError: 'VideoClip' object has no attribute 'nchannels'\r\n>>> \r\n```\r\n\r\n#### Steps to Reproduce the Problem\r\n<!-- Please include code that demonstrates this problem so that we can reproduce it. For advice on how to do this, see https://stackoverflow.com/help/mcve -->\r\nexcute the scripts\r\n\r\n#### Specifications\r\n\r\n  - Python Version:3.72\r\n  - Moviepy Version:2.0.0.dev1\r\n  - Platform Name:windows\r\n  - Platform Version:win7 64bits\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1249/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1249/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1248", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1248/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1248/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1248/events", "html_url": "https://github.com/Zulko/moviepy/issues/1248", "id": 646934136, "node_id": "MDU6SXNzdWU2NDY5MzQxMzY=", "number": 1248, "title": "TextClip's problem with Chinese support", "user": {"login": "LaoYuanPython", "id": 51265866, "node_id": "MDQ6VXNlcjUxMjY1ODY2", "avatar_url": "https://avatars.githubusercontent.com/u/51265866?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LaoYuanPython", "html_url": "https://github.com/LaoYuanPython", "followers_url": "https://api.github.com/users/LaoYuanPython/followers", "following_url": "https://api.github.com/users/LaoYuanPython/following{/other_user}", "gists_url": "https://api.github.com/users/LaoYuanPython/gists{/gist_id}", "starred_url": "https://api.github.com/users/LaoYuanPython/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LaoYuanPython/subscriptions", "organizations_url": "https://api.github.com/users/LaoYuanPython/orgs", "repos_url": "https://api.github.com/users/LaoYuanPython/repos", "events_url": "https://api.github.com/users/LaoYuanPython/events{/privacy}", "received_events_url": "https://api.github.com/users/LaoYuanPython/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-06-28T14:30:42Z", "updated_at": "2020-06-29T14:48:33Z", "closed_at": "2020-06-29T14:48:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\nYou can format code by putting ``` (that's 3 backticks) on a line by itself at the beginning and end of each code block. For example:\r\n\r\n```\r\nfrom moviepy.editor import *\r\nclip = ColorClip((600, 400), color=(255, 100, 0), duration=2)\r\n```\r\n-->\r\n'''\r\n inf =  \"\"\"\r\n    Scrolls horizontally or vertically a clip, e.g. to make end credits\r\n\r\n    Parameters\r\n    -----------\r\n\r\n    w, h\r\n      The width and height of the final clip. Default to clip.w and clip.h\r\n\r\n    x_speed, y_speed\r\n\r\n    x_start, y_start\r\n\r\n    apply_to\r\n    \u4e2d\u56fd\u6b22\u8fce\u4f60\uff01\r\n    Welcom to China!\r\n\r\n    \"\"\"\r\n    clip = VideoFileClip(r\"F:\\video\\WinBasedWorkHard_src.mp4\",audio=False).crop(0, 300, 540, 840).subclip(0,10)\r\n    txtclip = TextClip(inf, font='Courier', fontsize=18, color='blue', bg_color='white', transparent=True).set_duration(8).set_fps(clip.fps).fx(vfx.scroll,x_speed=60).set_start(clip.end)\r\n    newclip = CompositeVideoClip([clip,txtclip], bg_color=(255, 255, 255), ismask=False)\r\n    newclip.write_videofile(r\"F:\\video\\WinBasedWorkHard_scroll.mp4\", threads=8)\r\n'''\r\n\r\n#### Expected Behavior\r\nText will show nomally in the final clip;\r\n\r\n\r\n#### Actual Behavior\r\nThe chiness characters (the line before 'Welcom to China!') were disappered in clip,but other english characters were displayed normaly.\r\n\r\n\r\n#### Steps to Reproduce the Problem\r\n<!-- Please include code that demonstrates this problem so that we can reproduce it. For advice on how to do this, see https://stackoverflow.com/help/mcve -->\r\n\r\n\r\n#### Specifications\r\n\r\n  - Python Version:3.72\r\n  - Moviepy Version:2.0.0.dev1\r\n  - Platform Name:windows\r\n  - Platform Version:win7 64bits\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1248/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1248/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1247", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1247/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1247/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1247/events", "html_url": "https://github.com/Zulko/moviepy/issues/1247", "id": 646368027, "node_id": "MDU6SXNzdWU2NDYzNjgwMjc=", "number": 1247, "title": "make_loopable leading to preview clip:AttributeError: 'CompositeAudioClip' object has no attribute 'fps'", "user": {"login": "LaoYuanPython", "id": 51265866, "node_id": "MDQ6VXNlcjUxMjY1ODY2", "avatar_url": "https://avatars.githubusercontent.com/u/51265866?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LaoYuanPython", "html_url": "https://github.com/LaoYuanPython", "followers_url": "https://api.github.com/users/LaoYuanPython/followers", "following_url": "https://api.github.com/users/LaoYuanPython/following{/other_user}", "gists_url": "https://api.github.com/users/LaoYuanPython/gists{/gist_id}", "starred_url": "https://api.github.com/users/LaoYuanPython/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LaoYuanPython/subscriptions", "organizations_url": "https://api.github.com/users/LaoYuanPython/orgs", "repos_url": "https://api.github.com/users/LaoYuanPython/repos", "events_url": "https://api.github.com/users/LaoYuanPython/events{/privacy}", "received_events_url": "https://api.github.com/users/LaoYuanPython/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-06-26T16:14:46Z", "updated_at": "2020-06-28T02:57:07Z", "closed_at": "2020-06-28T02:57:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\r\nclip = VideoFileClip(r\"F:\\video\\WinBasedWorkHard_src.mp4\").subclip(0, 10)\r\nnewclip = clip.fx(vfx.make_loopable, 3).set_fps(clip.fps)\r\nnewclip.write_videofile(r\"F:\\video\\WinBasedWorkHard_loopable.mp4\", threads=8)\r\npreview(newclip)\r\n```\r\n\r\n#### Expected Behavior\r\n1.The newclip was saved and played accoording my mind;\r\n2.The newclip  can be previewed.\r\n\r\n#### Actual Behavior\r\n1.The newclip was saved and played accoording my mind;\r\n2.The newclip   previewed  fail,erro message as following:\r\n\r\n```\r\nMoviepy - video ready F:\\video\\WinBasedWorkHard_loopable.mp4\r\nException in thread Thread-7:\r\nTraceback (most recent call last):\r\n  File \"C:\\Program Files\\Python37\\lib\\threading.py\", line 917, in _bootstrap_inner\r\n    self.run()\r\n  File \"C:\\Program Files\\Python37\\lib\\threading.py\", line 865, in run\r\n    self._target(*self._args, **self._kwargs)\r\n  File \"<decorator-gen-128>\", line 2, in preview\r\n  File \"C:\\Program Files\\Python37\\lib\\site-packages\\moviepy\\decorators.py\", line 56, in requires_duration\r\n    return f(clip, *a, **k)\r\n  File \"C:\\Program Files\\Python37\\lib\\site-packages\\moviepy\\audio\\io\\preview.py\", line 48, in preview\r\n    sndarray = clip.to_soundarray(tt, nbytes=nbytes, quantize=True)\r\n  File \"<decorator-gen-44>\", line 2, in to_soundarray\r\n  File \"C:\\Program Files\\Python37\\lib\\site-packages\\moviepy\\decorators.py\", line 56, in requires_duration\r\n    return f(clip, *a, **k)\r\n  File \"C:\\Program Files\\Python37\\lib\\site-packages\\moviepy\\audio\\AudioClip.py\", line 116, in to_soundarray\r\n    fps = self.fps\r\nAttributeError: 'CompositeAudioClip' object has no attribute 'fps'\r\n```\r\n\r\n\r\n#### Steps to Reproduce the Problem\r\n<!-- Please include code that demonstrates this problem so that we can reproduce it. For advice on how to do this, see https://stackoverflow.com/help/mcve -->\r\nexcute the follwing scripts:\r\n```\r\nclip = VideoFileClip(r\"F:\\video\\WinBasedWorkHard_src.mp4\").subclip(0, 10)\r\nnewclip = clip.fx(vfx.make_loopable, 3).set_fps(clip.fps)\r\nnewclip.write_videofile(r\"F:\\video\\WinBasedWorkHard_loopable.mp4\", threads=8)\r\npreview(newclip)\r\n```\r\n\r\n#### Specifications\r\n\r\n  - Python Version:3.72\r\n  - Moviepy Version:2.0.0.DEV1\r\n  - Platform Name:windows\r\n  - Platform Version:win7 64bit\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1247/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1247/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1245", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1245/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1245/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1245/events", "html_url": "https://github.com/Zulko/moviepy/issues/1245", "id": 642901158, "node_id": "MDU6SXNzdWU2NDI5MDExNTg=", "number": 1245, "title": "VideoClip.write_videofile's result is not expected", "user": {"login": "LaoYuanPython", "id": 51265866, "node_id": "MDQ6VXNlcjUxMjY1ODY2", "avatar_url": "https://avatars.githubusercontent.com/u/51265866?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LaoYuanPython", "html_url": "https://github.com/LaoYuanPython", "followers_url": "https://api.github.com/users/LaoYuanPython/followers", "following_url": "https://api.github.com/users/LaoYuanPython/following{/other_user}", "gists_url": "https://api.github.com/users/LaoYuanPython/gists{/gist_id}", "starred_url": "https://api.github.com/users/LaoYuanPython/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LaoYuanPython/subscriptions", "organizations_url": "https://api.github.com/users/LaoYuanPython/orgs", "repos_url": "https://api.github.com/users/LaoYuanPython/repos", "events_url": "https://api.github.com/users/LaoYuanPython/events{/privacy}", "received_events_url": "https://api.github.com/users/LaoYuanPython/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-06-22T09:18:00Z", "updated_at": "2020-06-28T02:59:18Z", "closed_at": "2020-06-28T02:59:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\r\n    threads = 8\r\n    fps = 3\r\n    fname = r\"F:\\temp\\alphaimg\\txtjpg.PNG\"\r\n\r\n    imgclip = ImageClip(fname,  duration=3).set_fps(fps)\r\n    imgclip.save_frame(r\"F:\\temp\\alphaimg\\txtjpg1.PNG\", withmask=True)\r\n    imgclip.write_videofile(r\"F:\\temp\\alphaimg\\red.avi\", codec='rawvideo', threads=threads)\r\n    imgclip.close()\r\n```\r\n\r\n[alphaimg.zip](https://github.com/Zulko/moviepy/files/4812240/alphaimg.zip)\r\nThe above codes create a clip from  the file \"txtjpg.png\"  and use ImageClip.save_frame output a frame to the file \"txtjpg1.png\",and finally output the clip content to \"red.avi\" .\r\n\r\n\r\n#### Expected Behavior\r\n1.txtjpg.png  is the same as txtjpg1.png\r\n2.red.avi display contents like as  txtjpg.png\r\n\r\n#### Actual Behavior\r\nExecution results are:\r\n1.txtjpg.png  is the same as txtjpg1.png\r\n2.red.avi display contents  changes the color of the picture, and the text in the picture is  upside down.\r\n\r\ntxtjpg.png , txtjpg1.png and red.avi are compressed   together in the  alphaimg.zip attachmented\r\n\r\n#### Steps to Reproduce the Problem\r\n<!-- Please include code that demonstrates this problem so that we can reproduce it. For advice on how to do this, see https://stackoverflow.com/help/mcve -->\r\n\r\n1. Download the attachment and unzip it;\r\n2. Change the directory name in the above script according to the decompression directory;\r\n3. Execute script\r\n\r\nIn addition to using ImageClip for implementation, the following methods also tested:\r\n\r\n```\r\nimsClip = ImageSequenceClip([r\"F:\\temp\\alphaimg\\txtjpg.png]\",fps=1).set_duration(5)\r\n```\r\n\r\nThere is the same problem\u3002\r\n\r\n\r\n#### Specifications\r\n\r\n  - Python Version:3.7.2\r\n  - Moviepy Version: 1.03  &  2.0.0.dev1\r\n  - Platform Name: windows\r\n  - Platform Version:win7 64bits\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1245/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1245/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1242", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1242/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1242/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1242/events", "html_url": "https://github.com/Zulko/moviepy/issues/1242", "id": 642490941, "node_id": "MDU6SXNzdWU2NDI0OTA5NDE=", "number": 1242, "title": "TextClip", "user": {"login": "LaoYuanPython", "id": 51265866, "node_id": "MDQ6VXNlcjUxMjY1ODY2", "avatar_url": "https://avatars.githubusercontent.com/u/51265866?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LaoYuanPython", "html_url": "https://github.com/LaoYuanPython", "followers_url": "https://api.github.com/users/LaoYuanPython/followers", "following_url": "https://api.github.com/users/LaoYuanPython/following{/other_user}", "gists_url": "https://api.github.com/users/LaoYuanPython/gists{/gist_id}", "starred_url": "https://api.github.com/users/LaoYuanPython/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LaoYuanPython/subscriptions", "organizations_url": "https://api.github.com/users/LaoYuanPython/orgs", "repos_url": "https://api.github.com/users/LaoYuanPython/repos", "events_url": "https://api.github.com/users/LaoYuanPython/events{/privacy}", "received_events_url": "https://api.github.com/users/LaoYuanPython/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 1163360583, "node_id": "MDU6TGFiZWwxMTYzMzYwNTgz", "url": "https://api.github.com/repos/Zulko/moviepy/labels/text", "name": "text", "color": "bfd4f2", "default": false, "description": "Issues dealing with TextClip, SubtitlesClip, or handling of text in general."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-06-21T04:11:57Z", "updated_at": "2020-10-02T20:40:22Z", "closed_at": "2020-06-22T08:49:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\r\nfrom moviepy.editor import *\r\nfps = 3\r\ninf = r\"text clip test\"\r\n\r\ntxtclip=TextClip(inf,font='Courier',fontsize=12,color='red',bg_color='white',transparent=True,tempfilename=r'F:\\temp\\img\\txtjpg.png',temptxt=r'F:\\temp\\img\\txtjpg.txt',remove_temp=False).set_duration(15).set_fps(3)\r\n```\r\n\r\n#### Expected Behavior\r\n\r\n\r\n#### Actual Behavior\r\n\r\nWhen using the parameter temptxt of the construction method for TextClip to output the temporary file, it is found that the specified content of the txt parameter is replaced by the file name corresponding to temptxt. Therefore, after a careful look at the textclip related code, it is found that there should be a problem in the 1090 to 1098 lines of VideoCode.py. When enabling temptxt, replace the content of the txt parameter with '@' + temptxt\u3002the 1090 to 1098 lines of VideoCode.py are\uff1a\r\n\r\n```\r\n        if txt is not None:\r\n            if temptxt is None:\r\n                temptxt_fd, temptxt = tempfile.mkstemp(suffix='.txt')\r\n                try:  # only in Python3 will this work\r\n                    os.write(temptxt_fd, bytes(txt, 'UTF8'))\r\n                except TypeError:  # oops, fall back to Python2\r\n                    os.write(temptxt_fd, txt)\r\n                os.close(temptxt_fd)\r\n            txt = '@' + temptxt\r\n```\r\n\r\n\r\nFurther validation found that if the text to build TextClip comes from the file specified by the filename parameter, its content is also replaced by the file name.\r\n\r\n#### Steps to Reproduce the Problem\r\n<!-- Please include code that demonstrates this problem so that we can reproduce it. For advice on how to do this, see https://stackoverflow.com/help/mcve -->\r\n```\r\n1.\r\ntxtclip = TextClip(inf ,font='Courier',fontsize=12,color='red',bg_color='white',transparent=True,tempfilename=r'F:\\temp\\img\\txtjpg.png',temptxt=r'F:\\temp\\img\\txtjpg.txt',remove_temp=False).set_duration(15).set_fps(3)\r\n\r\n2.\r\ntxtclip = TextClip(filename=r'F:\\temp\\img\\test.txt', font='Courier', fontsize=12, color='red', bg_color='white', transparent=True,\r\n                       tempfilename=r'F:\\temp\\img\\txtjpg.png', temptxt=r'F:\\temp\\img\\txtjpg.txt',\r\n                       remove_temp=False).set_duration(15).set_fps(3)\r\n```\r\n#### Specifications\r\n\r\n  - Python Version:3.7.2\r\n  - Moviepy Version:1.03\r\n  - Platform Name:windows\r\n  - Platform Version:win7\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1242/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1242/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1240", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1240/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1240/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1240/events", "html_url": "https://github.com/Zulko/moviepy/issues/1240", "id": 642413962, "node_id": "MDU6SXNzdWU2NDI0MTM5NjI=", "number": 1240, "title": "Three Questions About TextClip", "user": {"login": "LaoYuanPython", "id": 51265866, "node_id": "MDQ6VXNlcjUxMjY1ODY2", "avatar_url": "https://avatars.githubusercontent.com/u/51265866?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LaoYuanPython", "html_url": "https://github.com/LaoYuanPython", "followers_url": "https://api.github.com/users/LaoYuanPython/followers", "following_url": "https://api.github.com/users/LaoYuanPython/following{/other_user}", "gists_url": "https://api.github.com/users/LaoYuanPython/gists{/gist_id}", "starred_url": "https://api.github.com/users/LaoYuanPython/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LaoYuanPython/subscriptions", "organizations_url": "https://api.github.com/users/LaoYuanPython/orgs", "repos_url": "https://api.github.com/users/LaoYuanPython/repos", "events_url": "https://api.github.com/users/LaoYuanPython/events{/privacy}", "received_events_url": "https://api.github.com/users/LaoYuanPython/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 1163360583, "node_id": "MDU6TGFiZWwxMTYzMzYwNTgz", "url": "https://api.github.com/repos/Zulko/moviepy/labels/text", "name": "text", "color": "bfd4f2", "default": false, "description": "Issues dealing with TextClip, SubtitlesClip, or handling of text in general."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-06-20T17:22:20Z", "updated_at": "2020-10-02T20:40:47Z", "closed_at": "2020-06-22T08:50:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\r\nfrom moviepy.editor import *\r\nfps = 3\r\ninf = r\"text clip test\"\r\n\r\ntxtclip = TextClip(inf ,font='Courier',fontsize=12,color='red',bg_color='white').set_duration(5).set_fps(1)\r\n\r\n   # print(\"font\", txtclip.list(\"font\"))\r\n   # print(\"color\", txtclip.list(\"color\"))\r\ntxtclip.write_videofile(r\"F:\\video\\text.avi\", codec='rawvideo', threads=threads)\r\ntxtclip.close()\r\n```\r\n\r\n#### Expected Behavior\r\nDisplay information according to the set font content, size and color during movie playing\uff0cthe font color is red,fontsize=12\r\n\r\n#### Actual Behavior\r\n\r\n1.The font color is blue;\r\n2.The fontsize is larger than 12,and when set fontsize=8,it will be more  larger than fontsize=12\r\n3. Letters upside down\uff1b\r\nThese three cases are shown in the capture.jpg,but I'm sorry  the upload failed,maybe upload later. \r\n4.txtclip.list(\"Font\") report\uff1a\r\n\r\n```\r\n\"C:\\Program Files\\Python37\\python.exe\" F:/study/python/project/moviepyTest/moviepyTest.py\r\nTraceback (most recent call last):\r\n  File \"F:/study/python/project/moviepyTest/moviepyTest.py\", line 17, in <module>\r\n    print(\"font\",txtclip.list(\"font\"))\r\n  File \"C:\\Program Files\\Python37\\lib\\site-packages\\moviepy\\video\\VideoClip.py\", line 1177, in list\r\n    return [l.decode('UTF-8')[8:] for l in lines if l.startswith(b\"  Font:\")]\r\n  File \"C:\\Program Files\\Python37\\lib\\site-packages\\moviepy\\video\\VideoClip.py\", line 1177, in <listcomp>\r\n    return [l.decode('UTF-8')[8:] for l in lines if l.startswith(b\"  Font:\")]\r\nUnicodeDecodeError: 'utf-8' codec can't decode byte 0xb7 in position 8: invalid start byte\r\n```\r\n\r\nWhen I modified VideoClip.py at line 1177\uff1a\r\n            return [l.decode('ANSI')[8:] for l in lines if l.startswith(b\"  Font:\")]\r\nto:\r\n       return [l.decode('ANSI')[8:] for l in lines if l.startswith(b\"  Font:\")]\r\n\r\nThere are other similar problems in codec, so it can be said that moviepy does not support Chinese environment or multi-national languages well\r\n\r\n5.There's another question(A question about CompositeVideoClip #1223) that hasn't received a final answer. Are you still following up?\r\n\r\n\r\n\r\n\r\n#### Steps to Reproduce the Problem\r\n<!-- Please include code that demonstrates this problem so that we can reproduce it. For advice on how to do this, see https://stackoverflow.com/help/mcve -->\r\n\r\nI can't confirm what environment will cause this problem. I think it may be related to the machine environment, especially the Chinese operating system environment.\r\n\r\n#### Specifications\r\n\r\n  - Python Version: 3.72\r\n  - Moviepy Version:1.03\r\n  - Platform Name:WINDOWS\r\n  - Platform Version:win7 64bit\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1240/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1240/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1239", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1239/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1239/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1239/events", "html_url": "https://github.com/Zulko/moviepy/issues/1239", "id": 641911238, "node_id": "MDU6SXNzdWU2NDE5MTEyMzg=", "number": 1239, "title": "Logger raise IO exception on Linux.", "user": {"login": "codeAshu", "id": 5406975, "node_id": "MDQ6VXNlcjU0MDY5NzU=", "avatar_url": "https://avatars.githubusercontent.com/u/5406975?v=4", "gravatar_id": "", "url": "https://api.github.com/users/codeAshu", "html_url": "https://github.com/codeAshu", "followers_url": "https://api.github.com/users/codeAshu/followers", "following_url": "https://api.github.com/users/codeAshu/following{/other_user}", "gists_url": "https://api.github.com/users/codeAshu/gists{/gist_id}", "starred_url": "https://api.github.com/users/codeAshu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/codeAshu/subscriptions", "organizations_url": "https://api.github.com/users/codeAshu/orgs", "repos_url": "https://api.github.com/users/codeAshu/repos", "events_url": "https://api.github.com/users/codeAshu/events{/privacy}", "received_events_url": "https://api.github.com/users/codeAshu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 2411349218, "node_id": "MDU6TGFiZWwyNDExMzQ5MjE4", "url": "https://api.github.com/repos/Zulko/moviepy/labels/environment", "name": "environment", "color": "faf9f7", "default": false, "description": "Using moviepy with, or issues possibly stemming from specific OS/platforms/environments."}, {"id": 2420893039, "node_id": "MDU6TGFiZWwyNDIwODkzMDM5", "url": "https://api.github.com/repos/Zulko/moviepy/labels/dependencies", "name": "dependencies", "color": "0366d6", "default": false, "description": "For issues and PRs concerning project dependencies. See lib- prefix for individual dependencies."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-06-19T11:44:57Z", "updated_at": "2022-01-14T16:03:09Z", "closed_at": "2022-01-14T16:03:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\nYou can format code by putting ``` (that's 3 backticks) on a line by itself at the beginning and end of each code block. For example:\r\n\r\n```\r\nfrom moviepy.editor import *\r\nclip = ColorClip((600, 400), color=(255, 100, 0), duration=2)\r\n```\r\n-->\r\n\r\n\r\n#### Expected Behavior\r\n```python\r\nout.write_videofile(out_file, fps=10, codec='libx264', audio_codec='aac', temp_audiofile=temp_audio_file,\r\n                            remove_temp=False)\r\n```\r\nThe bar logger should just work fine. It works fine on OSX but throws I/O exception on linux platform. \r\nIt works fine when ` verbose=False, logger=None` is passed. \r\n\r\n#### Actual Behavior\r\n```json\r\nreturn f(clip, *a, **k)   File \"/home/ubuntu/.env/spextenv/local/lib/python2.7/site-packages/moviepy/audio/io/ffmpeg_audiowriter.py\", line 169, in ffmpeg_audiowrite     \r\nlogger=logger):   File \"/home/ubuntu/.env/spextenv/local/lib/python2.7/site-packages/moviepy/audio/AudioClip.py\", line 81, in iter_chunks     \r\nfor i in logger.iter_bar(chunk=list(range(nchunks))):   File \"/home/ubuntu/.env/spextenv/local/lib/python2.7/site-packages/proglog/proglog.py\", line 190, in iter_bar     \r\nself(**{bar + '__total': len(iterable)})   File \"/home/ubuntu/.env/spextenv/local/lib/python2.7/site-packages/proglog/proglog.py\", line 255, in __call__     \r\nself.bars_callback(bar, attr, value, old_value)   File \"/home/ubuntu/.env/spextenv/local/lib/python2.7/site-packages/proglog/proglog.py\", line 330, in bars_callback     \r\nself.new_tqdm_bar(bar)   File \"/home/ubuntu/.env/spextenv/local/lib/python2.7/site-packages/proglog/proglog.py\", line 320, in new_tqdm_bar     \r\nleave=self.leave_bars   File \"/home/ubuntu/.env/spextenv/local/lib/python2.7/site-packages/tqdm/_tqdm.py\", line 742, in __init__     \r\nself.postfix))   File \"/home/ubuntu/.env/spextenv/local/lib/python2.7/site-packages/tqdm/_tqdm.py\", line 199, in print_status     \r\nfp_write('\\r' + s + (' ' * max(last_len[0] - len_s, 0)))   File \"/home/ubuntu/.env/spextenv/local/lib/python2.7/site-packages/tqdm/_tqdm.py\", line 192, in fp_write     \r\nfp.write(_unicode(s)) IOError: [Errno 5] Input/output error \r\n```\r\n\r\n\r\n#### Steps to Reproduce the Problem\r\n<!-- Please include code that demonstrates this problem so that we can reproduce it. For advice on how to do this, see https://stackoverflow.com/help/mcve -->\r\n\r\n\r\n#### Specifications\r\n\r\n  - Python Version: 2.7.12\r\n  - Moviepy Version:1.0.3\r\n  - Platform Name:Linux\r\n  - Platform Version: Ubuntu 16.04.5 LTS\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1239/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1239/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1234", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1234/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1234/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1234/events", "html_url": "https://github.com/Zulko/moviepy/issues/1234", "id": 639340375, "node_id": "MDU6SXNzdWU2MzkzNDAzNzU=", "number": 1234, "title": "Still crash.  ffmpeg_reader.py  \"bytes wanted but 0 bytes read\" \"Using the last valid frame instead.\"", "user": {"login": "mike592", "id": 47173469, "node_id": "MDQ6VXNlcjQ3MTczNDY5", "avatar_url": "https://avatars.githubusercontent.com/u/47173469?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mike592", "html_url": "https://github.com/mike592", "followers_url": "https://api.github.com/users/mike592/followers", "following_url": "https://api.github.com/users/mike592/following{/other_user}", "gists_url": "https://api.github.com/users/mike592/gists{/gist_id}", "starred_url": "https://api.github.com/users/mike592/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mike592/subscriptions", "organizations_url": "https://api.github.com/users/mike592/orgs", "repos_url": "https://api.github.com/users/mike592/repos", "events_url": "https://api.github.com/users/mike592/events{/privacy}", "received_events_url": "https://api.github.com/users/mike592/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 1866683148, "node_id": "MDU6TGFiZWwxODY2NjgzMTQ4", "url": "https://api.github.com/repos/Zulko/moviepy/labels/lib-FFmpeg", "name": "lib-FFmpeg", "color": "d6b289", "default": false, "description": "Issues pertaining to dependency FFmpeg."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-06-16T03:25:26Z", "updated_at": "2022-07-21T12:37:46Z", "closed_at": "2020-06-21T14:02:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "Still crash. But this crash occured when do time_mirror:  \r\ncrash test code:   `clip.fx(vfx.time_mirror)`\r\n\r\ncrash result:\r\n```\r\nWARNING:py.warnings:site-packages\\moviepy\\video\\io\\ffmpeg_reader.py:123: UserWarning: Warning: in file C:\\65D3.mp4, 608400 bytes wanted but 0 bytes read,at frame 766/766, at time 25.53/25.53 sec. Using the last valid frame instead.\r\n\r\n\r\nERROR:root:Traceback (most recent call last):\r\n  File \"<frozen myprogram>\", line 1910, in <module>\r\n  File \"<frozen myprogram>\", line 948, in MyProcessClip\r\n\r\n  File \"site-packages\\moviepy\\Clip.py\", line 212, in fx\r\n  File \"<decorator-gen-81>\", line 2, in time_mirror\r\n  File \"site-packages\\moviepy\\decorators.py\", line 54, in requires_duration\r\n  File \"<decorator-gen-80>\", line 2, in time_mirror\r\n  File \"site-packages\\moviepy\\decorators.py\", line 29, in apply_to_mask\r\n  File \"<decorator-gen-79>\", line 2, in time_mirror\r\n  File \"site-packages\\moviepy\\decorators.py\", line 41, in apply_to_audio\r\n  File \"site-packages\\moviepy\\video\\fx\\time_mirror.py\", line 13, in time_mirror\r\n  File \"site-packages\\moviepy\\Clip.py\", line 187, in fl_time\r\n  File \"site-packages\\moviepy\\Clip.py\", line 136, in fl\r\n  File \"<decorator-gen-61>\", line 2, in set_make_frame\r\n  File \"site-packages\\moviepy\\decorators.py\", line 14, in outplace\r\n  File \"site-packages\\moviepy\\video\\VideoClip.py\", line 646, in set_make_frame\r\n  File \"<decorator-gen-11>\", line 2, in get_frame\r\n  File \"site-packages\\moviepy\\decorators.py\", line 89, in wrapper\r\n  File \"site-packages\\moviepy\\Clip.py\", line 93, in get_frame\r\n  File \"site-packages\\moviepy\\Clip.py\", line 136, in <lambda>\r\n  File \"site-packages\\moviepy\\Clip.py\", line 187, in <lambda>\r\n  File \"<decorator-gen-11>\", line 2, in get_frame\r\n  File \"site-packages\\moviepy\\decorators.py\", line 89, in wrapper\r\n  File \"site-packages\\moviepy\\Clip.py\", line 93, in get_frame\r\n  File \"site-packages\\moviepy\\video\\io\\VideoFileClip.py\", line 113, in <lambda>\r\n  File \"site-packages\\moviepy\\video\\io\\ffmpeg_reader.py\", line 184, in get_frame\r\n  File \"site-packages\\moviepy\\video\\io\\ffmpeg_reader.py\", line 133, in read_frame\r\nOSError: MoviePy error: failed to read the first frame of video file C:\\65D3.mp4. That might mean that the file is corrupted. That may also mean that you are using a deprecated version of FFMPEG. On Ubuntu/Debian for instance the version in the repos is deprecated. Please update to a recent version from the website.\r\n```", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1234/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1234/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1233", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1233/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1233/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1233/events", "html_url": "https://github.com/Zulko/moviepy/issues/1233", "id": 639268023, "node_id": "MDU6SXNzdWU2MzkyNjgwMjM=", "number": 1233, "title": "ffmpeg_reader.py:139: UserWarning: Warning:  Using the last valid frame instead.  ", "user": {"login": "mike592", "id": 47173469, "node_id": "MDQ6VXNlcjQ3MTczNDY5", "avatar_url": "https://avatars.githubusercontent.com/u/47173469?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mike592", "html_url": "https://github.com/mike592", "followers_url": "https://api.github.com/users/mike592/followers", "following_url": "https://api.github.com/users/mike592/following{/other_user}", "gists_url": "https://api.github.com/users/mike592/gists{/gist_id}", "starred_url": "https://api.github.com/users/mike592/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mike592/subscriptions", "organizations_url": "https://api.github.com/users/mike592/orgs", "repos_url": "https://api.github.com/users/mike592/repos", "events_url": "https://api.github.com/users/mike592/events{/privacy}", "received_events_url": "https://api.github.com/users/mike592/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2020-06-16T00:02:47Z", "updated_at": "2020-06-16T01:38:47Z", "closed_at": "2020-06-16T01:38:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "tburrows13 just committed new code a few minutes ago, and I just download it replaced my moviepy and run my program.\r\n\r\nBut write_videofile still gave out this warnning:\r\n\r\n\\moviepy\\video\\io\\ffmpeg_reader.py:139: UserWarning: Warning: in file C:\\AAF350.mp4, 1769472 bytes wanted but 0 bytes read,at frame 307/308, at time 10.23/10.26 sec. Using the last valid frame instead.\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1233/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1233/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1232", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1232/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1232/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1232/events", "html_url": "https://github.com/Zulko/moviepy/issues/1232", "id": 639204723, "node_id": "MDU6SXNzdWU2MzkyMDQ3MjM=", "number": 1232, "title": "Cannot create video file from a CompositeVideoClip made of a VideoFileClip and an ImageClip", "user": {"login": "hellNo3333", "id": 13627015, "node_id": "MDQ6VXNlcjEzNjI3MDE1", "avatar_url": "https://avatars.githubusercontent.com/u/13627015?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hellNo3333", "html_url": "https://github.com/hellNo3333", "followers_url": "https://api.github.com/users/hellNo3333/followers", "following_url": "https://api.github.com/users/hellNo3333/following{/other_user}", "gists_url": "https://api.github.com/users/hellNo3333/gists{/gist_id}", "starred_url": "https://api.github.com/users/hellNo3333/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hellNo3333/subscriptions", "organizations_url": "https://api.github.com/users/hellNo3333/orgs", "repos_url": "https://api.github.com/users/hellNo3333/repos", "events_url": "https://api.github.com/users/hellNo3333/events{/privacy}", "received_events_url": "https://api.github.com/users/hellNo3333/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 583252675, "node_id": "MDU6TGFiZWw1ODMyNTI2NzU=", "url": "https://api.github.com/repos/Zulko/moviepy/labels/video", "name": "video", "color": "bfd4f2", "default": false, "description": "Related to VideoClip and related classes, or handling of video in general."}, {"id": 760686230, "node_id": "MDU6TGFiZWw3NjA2ODYyMzA=", "url": "https://api.github.com/repos/Zulko/moviepy/labels/images", "name": "images", "color": "bfd4f2", "default": false, "description": "Related to ImageClip, or handling of images in general."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-06-15T21:57:43Z", "updated_at": "2022-01-14T17:34:13Z", "closed_at": "2022-01-14T17:34:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\nYou can format code by putting ``` (that's 3 backticks) on a line by itself at the beginning and end of each code block. For example:\r\n\r\n```\r\nfrom moviepy.editor import *\r\nclip = ColorClip((600, 400), color=(255, 100, 0), duration=2)\r\n```\r\n-->\r\n\r\n\r\n#### Expected Behavior\r\nWrite a composite video clip of a VideoFileClip and an ImageClip, in order.\r\n\r\n#### Actual Behavior\r\nCrashes during the render when reaching the last frame of the VideoFileClip.\r\n```\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"<decorator-gen-61>\", line 2, in write_videofile\r\n  File \"C:\\Users\\X\\AppData\\Local\\Programs\\Python\\Python37-32\\lib\\site-packages\\moviepy\\decorators.py\", line 56, in requires_duration\r\n    return f(clip, *a, **k)\r\n  File \"<decorator-gen-60>\", line 2, in write_videofile\r\n  File \"C:\\Users\\X\\AppData\\Local\\Programs\\Python\\Python37-32\\lib\\site-packages\\moviepy\\decorators.py\", line 135, in use_clip_fps_by_default\r\n    return f(clip, *new_a, **new_kw)\r\n  File \"<decorator-gen-59>\", line 2, in write_videofile\r\n  File \"C:\\Users\\X\\AppData\\Local\\Programs\\Python\\Python37-32\\lib\\site-packages\\moviepy\\decorators.py\", line 24, in convert_masks_to_RGB\r\n    return f(clip, *a, **k)\r\n  File \"<decorator-gen-58>\", line 2, in write_videofile\r\n  File \"C:\\Users\\X\\AppData\\Local\\Programs\\Python\\Python37-32\\lib\\site-packages\\moviepy\\decorators.py\", line 89, in wrapper\r\n    return f(*new_a, **new_kw)\r\n  File \"C:\\Users\\X\\AppData\\Local\\Programs\\Python\\Python37-32\\lib\\site-packages\\moviepy\\video\\VideoClip.py\", line 350, in write_videofile\r\n    logger=logger,\r\n  File \"C:\\Users\\X\\AppData\\Local\\Programs\\Python\\Python37-32\\lib\\site-packages\\moviepy\\video\\io\\ffmpeg_writer.py\", line 245, in ffmpeg_write_video\r\n    logger=logger, with_times=True, fps=fps, dtype=\"uint8\"\r\n  File \"C:\\Users\\X\\AppData\\Local\\Programs\\Python\\Python37-32\\lib\\site-packages\\moviepy\\Clip.py\", line 473, in iter_frames\r\n    frame = self.get_frame(t)\r\n  File \"<decorator-gen-11>\", line 2, in get_frame\r\n  File \"C:\\Users\\X\\AppData\\Local\\Programs\\Python\\Python37-32\\lib\\site-packages\\moviepy\\decorators.py\", line 89, in wrapper\r\n    return f(*new_a, **new_kw)\r\n  File \"C:\\Users\\X\\AppData\\Local\\Programs\\Python\\Python37-32\\lib\\site-packages\\moviepy\\Clip.py\", line 98, in get_frame\r\n    return self.make_frame(t)\r\n  File \"C:\\Users\\X\\AppData\\Local\\Programs\\Python\\Python37-32\\lib\\site-packages\\moviepy\\video\\compositing\\CompositeVideoClip.py\", line 123, in make_frame\r\n    f = c.blit_on(f, t)\r\n  File \"C:\\Users\\X\\AppData\\Local\\Programs\\Python\\Python37-32\\lib\\site-packages\\moviepy\\video\\VideoClip.py\", line 639, in blit_on\r\n    return blit(img, picture, pos, mask=mask, ismask=self.ismask)\r\n  File \"C:\\Users\\X\\AppData\\Local\\Programs\\Python\\Python37-32\\lib\\site-packages\\moviepy\\video\\tools\\drawing.py\", line 41, in blit\r\n    new_im2[yp1:yp2, xp1:xp2] = blitted\r\nValueError: could not broadcast input array from shape (1080,1920) into shape (1080,1920,3)\r\n```\r\n\r\n#### Steps to Reproduce the Problem\r\n<!-- Please include code that demonstrates this problem so that we can reproduce it. For advice on how to do this, see https://stackoverflow.com/help/mcve -->\r\n\r\n```py\r\nfrom moviepy.editor import VideoFileClip, ImageClip, CompositeVideoClip\r\nclipa = VideoFileClip(\"1592249163\\\\0.mp4\")\r\nclipb = ImageClip(\"assets\\\\cut.png\")\r\nclipb = clipb.set_duration(4.0)\r\nclipb = clipb.set_start(clipa.duration)\r\nfin = CompositeVideoClip([clipa, clipb])\r\nfin.write_videofile(\"oh.mp4\")\r\n```\r\n\r\n#### Specifications\r\n\r\n  - Python Version: 3.7.1\r\n  - Moviepy Version: '2.0.0.dev1'\r\n  - Platform Name: Windows\r\n  - Platform Version: Windows 10 Version 2004 (OS Build 19041.264)\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1232/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1232/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1231", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1231/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1231/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1231/events", "html_url": "https://github.com/Zulko/moviepy/issues/1231", "id": 638860154, "node_id": "MDU6SXNzdWU2Mzg4NjAxNTQ=", "number": 1231, "title": "Moviepy blocks in the loop of `VideoFileClip.iter_frames()` for some gifs", "user": {"login": "jianjieluo", "id": 16987527, "node_id": "MDQ6VXNlcjE2OTg3NTI3", "avatar_url": "https://avatars.githubusercontent.com/u/16987527?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jianjieluo", "html_url": "https://github.com/jianjieluo", "followers_url": "https://api.github.com/users/jianjieluo/followers", "following_url": "https://api.github.com/users/jianjieluo/following{/other_user}", "gists_url": "https://api.github.com/users/jianjieluo/gists{/gist_id}", "starred_url": "https://api.github.com/users/jianjieluo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jianjieluo/subscriptions", "organizations_url": "https://api.github.com/users/jianjieluo/orgs", "repos_url": "https://api.github.com/users/jianjieluo/repos", "events_url": "https://api.github.com/users/jianjieluo/events{/privacy}", "received_events_url": "https://api.github.com/users/jianjieluo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-06-15T13:36:11Z", "updated_at": "2020-06-15T15:42:22Z", "closed_at": "2020-06-15T15:42:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, I found that `moviepy>=1.0.3` will block in `VideoFileClip.iter_frames()` loop at the second frame forever when it processes some specific gifs, and the code won't throw an exception.\r\n\r\n```\r\nfrom moviepy.video.io.VideoFileClip import VideoFileClip\r\nimport numpy as np\r\nfrom PIL import Image, ImageSequence\r\nfrom PIL import ImageFile\r\nImageFile.LOAD_TRUNCATED_IMAGES = True\r\n\r\nvideo = VideoFileClip(path)\r\nframe_iterator = video.iter_frames()\r\n\r\nframes = []\r\nfor frame in frame_iterator:  # block here in the second iteration\r\n    if isinstance(frame, np.ndarray):\r\n        frame = Image.fromarray(np.uint8(frame))\r\n    frames.append(frame.convert('RGB'))\r\n```\r\n\r\n#### Expected Behavior\r\nExtract the frames correctly\r\n\r\n#### Actual Behavior\r\nblock in `VideoFileClip.iter_frames() loop` at the second iteration forever\r\n\r\n#### Steps to Reproduce the Problem\r\nUse the code above to process the example Gifs below:\r\n\r\n![484631](https://user-images.githubusercontent.com/16987527/84663570-f40d2200-af4f-11ea-93c9-a1cb0a13aae2.gif)\r\n\r\n![404933](https://user-images.githubusercontent.com/16987527/84663682-11da8700-af50-11ea-8a06-484666c8d780.gif)\r\n\r\n![486514](https://user-images.githubusercontent.com/16987527/84663705-1a32c200-af50-11ea-9420-c5155cd151ab.gif)\r\n\r\nMore details in the stackoverflow question: https://stackoverflow.com/questions/62389087/python-detect-a-rare-strange-gif-when-extracting-its-frames\r\n\r\n#### Specifications\r\n\r\n  - Python Version: 3.6, 3.5\r\n  - Moviepy Version: >= 1.0.2\r\n  - Platform Name: Windows10, Ubuntu 16.04\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1231/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1231/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1229", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1229/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1229/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1229/events", "html_url": "https://github.com/Zulko/moviepy/issues/1229", "id": 638212632, "node_id": "MDU6SXNzdWU2MzgyMTI2MzI=", "number": 1229, "title": "Writing ImageSequenceClip with AudioFileClip results in video with no audio", "user": {"login": "brentshermana", "id": 8827592, "node_id": "MDQ6VXNlcjg4Mjc1OTI=", "avatar_url": "https://avatars.githubusercontent.com/u/8827592?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brentshermana", "html_url": "https://github.com/brentshermana", "followers_url": "https://api.github.com/users/brentshermana/followers", "following_url": "https://api.github.com/users/brentshermana/following{/other_user}", "gists_url": "https://api.github.com/users/brentshermana/gists{/gist_id}", "starred_url": "https://api.github.com/users/brentshermana/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brentshermana/subscriptions", "organizations_url": "https://api.github.com/users/brentshermana/orgs", "repos_url": "https://api.github.com/users/brentshermana/repos", "events_url": "https://api.github.com/users/brentshermana/events{/privacy}", "received_events_url": "https://api.github.com/users/brentshermana/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-06-13T18:54:17Z", "updated_at": "2020-06-14T14:36:36Z", "closed_at": "2020-06-14T14:36:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm executing the following code to create a video:\r\n\r\n```\r\nvideo = ImageSequenceClip(frames, fps)\r\naudioclip = AudioFileClip(audio_filename)\r\naudioclip.set_duration(10)\r\nvideo.set_audio(audioclip)\r\nvideo.write_videofile(\"test.mp4\", audio=True, threads=4)\r\n```\r\n\r\nWhere `frames` is a list of generated numpy ndarrays, and `fps` is 30\r\n\r\nFor reference, I'm also sharing this dropbox folder containing a wav and mp3 file that I've tried used as `audio_filename`. That folder also includes the resulting video files from each. If you try playing them you'll see they don't seem to have any sound.\r\n\r\nhttps://www.dropbox.com/sh/g2tj2a98u0ywkta/AACvRbpoV54HENxyYavWNB1Xa?dl=0\r\n\r\n### Expected Behavior\r\n\r\nThe video plays with sound, in either quicktime or vlc.\r\n\r\n#### Actual Behavior\r\n\r\nThe video does not play with sound, in either quicktime or vlc.\r\n\r\n#### Steps to Reproduce the Problem\r\n\r\nRun my code above using either of the audio files provided. Instead of using an image sequence clip like I did, you can also instantiate `video` like this:\r\n```\r\nvideo = VideoFileClip(video_path)\r\n```\r\nand point `video_path` to either of the videos in the attached dropbox folder.\r\n\r\n#### Specifications\r\n\r\n  - Python Version: 3.7\r\n  - Moviepy Version: 1.0.3\r\n  - Platform Name: Osx\r\n  - Platform Version: 10.14.6 (Mojave)\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1229/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1229/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1227", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1227/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1227/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1227/events", "html_url": "https://github.com/Zulko/moviepy/issues/1227", "id": 638018792, "node_id": "MDU6SXNzdWU2MzgwMTg3OTI=", "number": 1227, "title": "Cutout removes from the audio twice", "user": {"login": "spollard", "id": 1459574, "node_id": "MDQ6VXNlcjE0NTk1NzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1459574?v=4", "gravatar_id": "", "url": "https://api.github.com/users/spollard", "html_url": "https://github.com/spollard", "followers_url": "https://api.github.com/users/spollard/followers", "following_url": "https://api.github.com/users/spollard/following{/other_user}", "gists_url": "https://api.github.com/users/spollard/gists{/gist_id}", "starred_url": "https://api.github.com/users/spollard/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/spollard/subscriptions", "organizations_url": "https://api.github.com/users/spollard/orgs", "repos_url": "https://api.github.com/users/spollard/repos", "events_url": "https://api.github.com/users/spollard/events{/privacy}", "received_events_url": "https://api.github.com/users/spollard/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 542141296, "node_id": "MDU6TGFiZWw1NDIxNDEyOTY=", "url": "https://api.github.com/repos/Zulko/moviepy/labels/good-first-issue", "name": "good-first-issue", "color": "5319e7", "default": false, "description": "Especially suitable for people new to moviepy and/or programming; beginner-friendly."}, {"id": 583252697, "node_id": "MDU6TGFiZWw1ODMyNTI2OTc=", "url": "https://api.github.com/repos/Zulko/moviepy/labels/audio", "name": "audio", "color": "bfd4f2", "default": false, "description": "Related to AudioClip, or handling of audio in general."}], "state": "closed", "locked": false, "assignee": {"login": "rishabhvarshney14", "id": 53183977, "node_id": "MDQ6VXNlcjUzMTgzOTc3", "avatar_url": "https://avatars.githubusercontent.com/u/53183977?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rishabhvarshney14", "html_url": "https://github.com/rishabhvarshney14", "followers_url": "https://api.github.com/users/rishabhvarshney14/followers", "following_url": "https://api.github.com/users/rishabhvarshney14/following{/other_user}", "gists_url": "https://api.github.com/users/rishabhvarshney14/gists{/gist_id}", "starred_url": "https://api.github.com/users/rishabhvarshney14/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rishabhvarshney14/subscriptions", "organizations_url": "https://api.github.com/users/rishabhvarshney14/orgs", "repos_url": "https://api.github.com/users/rishabhvarshney14/repos", "events_url": "https://api.github.com/users/rishabhvarshney14/events{/privacy}", "received_events_url": "https://api.github.com/users/rishabhvarshney14/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rishabhvarshney14", "id": 53183977, "node_id": "MDQ6VXNlcjUzMTgzOTc3", "avatar_url": "https://avatars.githubusercontent.com/u/53183977?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rishabhvarshney14", "html_url": "https://github.com/rishabhvarshney14", "followers_url": "https://api.github.com/users/rishabhvarshney14/followers", "following_url": "https://api.github.com/users/rishabhvarshney14/following{/other_user}", "gists_url": "https://api.github.com/users/rishabhvarshney14/gists{/gist_id}", "starred_url": "https://api.github.com/users/rishabhvarshney14/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rishabhvarshney14/subscriptions", "organizations_url": "https://api.github.com/users/rishabhvarshney14/orgs", "repos_url": "https://api.github.com/users/rishabhvarshney14/repos", "events_url": "https://api.github.com/users/rishabhvarshney14/events{/privacy}", "received_events_url": "https://api.github.com/users/rishabhvarshney14/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/Zulko/moviepy/milestones/6", "html_url": "https://github.com/Zulko/moviepy/milestone/6", "labels_url": "https://api.github.com/repos/Zulko/moviepy/milestones/6/labels", "id": 5132992, "node_id": "MDk6TWlsZXN0b25lNTEzMjk5Mg==", "number": 6, "title": "Release v2.0.0", "description": "See #1089 for discussion", "creator": {"login": "tburrows13", "id": 22625968, "node_id": "MDQ6VXNlcjIyNjI1OTY4", "avatar_url": "https://avatars.githubusercontent.com/u/22625968?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tburrows13", "html_url": "https://github.com/tburrows13", "followers_url": "https://api.github.com/users/tburrows13/followers", "following_url": "https://api.github.com/users/tburrows13/following{/other_user}", "gists_url": "https://api.github.com/users/tburrows13/gists{/gist_id}", "starred_url": "https://api.github.com/users/tburrows13/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tburrows13/subscriptions", "organizations_url": "https://api.github.com/users/tburrows13/orgs", "repos_url": "https://api.github.com/users/tburrows13/repos", "events_url": "https://api.github.com/users/tburrows13/events{/privacy}", "received_events_url": "https://api.github.com/users/tburrows13/received_events", "type": "User", "site_admin": false}, "open_issues": 17, "closed_issues": 54, "state": "open", "created_at": "2020-02-23T16:34:44Z", "updated_at": "2022-10-10T23:57:57Z", "due_on": null, "closed_at": null}, "comments": 5, "created_at": "2020-06-12T21:46:40Z", "updated_at": "2021-01-19T18:11:22Z", "closed_at": "2021-01-19T18:11:22Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "<!--\r\nYou can format code by putting ``` (that's 3 backticks) on a line by itself at the beginning and end of each code block. For example:\r\n\r\n```\r\nfrom moviepy.editor import *\r\nclip = ColorClip((600, 400), color=(255, 100, 0), duration=2)\r\n```\r\n-->\r\n\r\n\r\n#### Expected Behavior\r\n Calling ```newclip = clip.cutout(start_remove,end_remove)``` should result in a clip with a ```newclip.audio.duration``` equal to the ```newclip.duration``` and a ```newclip.audio.end``` equal to the ```newclip.audio.end```. \r\n\r\n#### Actual Behavior\r\nCalling ```newclip = clip.cutout(start_remove,end_remove)``` correctly removes (end_remove-start_remove) seconds from the video, but it removes 2 * (end_remove-start_remove) from the audio. \r\n\r\n#### Steps to Reproduce the Problem\r\n<!-- Please include code that demonstrates this problem so that we can reproduce it. For advice on how to do this, see https://stackoverflow.com/help/mcve -->\r\n\r\n```\r\nfrom moviepy.editor import VideoFileClip\r\n\r\nclip = VideoFileClip(PATH_TO_VIDEO) # insert path to your video here\r\nprint(f\"Clip duration {clip.duration} and end {clip.end}\")\r\nprint(f\"clip audio duration {clip.audio.duration} and end {clip.audio.end}\")\r\nnewclip = clip.cutout(1,5)\r\nprint(f\"Newclip duration {newclip.duration} and end {newclip.end}\")\r\nprint(f\"Newclip audio duration {newclip.audio.duration} and end {newclip.audio.end}\")\r\n```\r\n\r\n#### Specifications\r\n\r\n  - Python Version: 3.6.9\r\n  - Moviepy Version: 1.0.0-1.0.3\r\n  - Platform Name: Linux/Ubuntu\r\n  - Platform Version: 18.04\r\n\r\n#### Specific issue\r\n\r\nClip.cutout() in Clip.py is decorated by apply_to_audio from decorators.py, and so it is called later on clip.audio. Clip.cutout() calls newclip.set_duration while Clip.set_duration also is decorated by apply_to_audio, and so it is called on clip.audio later. \r\n\r\nThe problem is that set_duration is called on newclip.audio *before* cutout() is called on newclip.audio. This results in the audio's duration being set to a shorter time (clip.duration - (end_remove-start_remove)) before the audio is cutout(), which calls set_duration again on the audio clip and reduces the audio duration to clip.duration - (end_remove-start_remove) - (end_remove-start_remove). \r\n\r\n#### Workarounds \r\n\r\nI am working around this issue this way:\r\n\r\n```\r\nnewaudio = clip.audio.cutout(1,5)\r\nnewclip = clip.cutout(1,5)\r\nnewclip.audio = newaudio\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1227/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1227/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1225", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1225/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1225/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1225/events", "html_url": "https://github.com/Zulko/moviepy/issues/1225", "id": 636876286, "node_id": "MDU6SXNzdWU2MzY4NzYyODY=", "number": 1225, "title": "writing clip with waterplay always results in broken clip ", "user": {"login": "CayoM", "id": 18421028, "node_id": "MDQ6VXNlcjE4NDIxMDI4", "avatar_url": "https://avatars.githubusercontent.com/u/18421028?v=4", "gravatar_id": "", "url": "https://api.github.com/users/CayoM", "html_url": "https://github.com/CayoM", "followers_url": "https://api.github.com/users/CayoM/followers", "following_url": "https://api.github.com/users/CayoM/following{/other_user}", "gists_url": "https://api.github.com/users/CayoM/gists{/gist_id}", "starred_url": "https://api.github.com/users/CayoM/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/CayoM/subscriptions", "organizations_url": "https://api.github.com/users/CayoM/orgs", "repos_url": "https://api.github.com/users/CayoM/repos", "events_url": "https://api.github.com/users/CayoM/events{/privacy}", "received_events_url": "https://api.github.com/users/CayoM/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-06-11T09:45:23Z", "updated_at": "2020-06-14T10:27:33Z", "closed_at": "2020-06-12T10:00:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "Im trying to augument a Clip adding some description to it. simply after adding some text to it and rewriting the clip, things get messy... i noticed this behaviour specially when dealing with clips where there is water. Everythime there is someone playing in water, or water splashes, the video output will be pretty much corrupt. When examining the video details, i noticed it had 1000 FPS and a huge file size. Im not sure how i can prevent this, since i have already tried many diferent settings (also fixing FPS) but nothing helped yet.\r\n\r\n\r\n#### Expected Behavior\r\ni expect that the output looks like any other clips with normal FPS.\r\n\r\n#### Actual Behavior\r\nafter writing the clip its buggy. there is pretty much almos no Frames changing, then until the rest of the clip, there is just a frozen frame. The clip itself took extremely long to write... it has 1000 FPS and almost 10x the size.\r\n\r\n#### Steps to Reproduce the Problem\r\nHere is an example, which will always produce an corrupt outcome after modifying it with moviepy.\r\n\r\nClip: https://clips-media-assets2.twitch.tv/AT-cm%7C744460198.mp4\r\n\r\nhere is the Code Snipet with 30 fps (normally i use the default value... 30 fps is for testing, so the video can be written faster):\r\n```\r\nimport requests\r\nfrom moviepy.editor import *\r\n\r\nremote_file = \"https://clips-media-assets2.twitch.tv/AT-cm%7C744460198.mp4\"\r\nlocal_file = \"./test_file.mp4\"\r\naugumented_local_file = \"./augumented_test_file.mp4\"\r\n\r\nr = requests.get(remote_file, allow_redirects=True)\r\n\r\nopen(local_file, 'wb').write(r.content)\r\n\r\n\r\nclip = VideoFileClip(local_file, target_resolution=(1080, 1920))\r\n\r\n# Make the text. Many more options are available.\r\ntxt_clip = (TextClip(\"test text\", fontsize=70, font=\"Arial\", color=\"white\", stroke_width=2, stroke_color=\"black\")\r\n            .set_position((295,870))\r\n            .set_duration(5)\r\n            .set_start(3))\r\n\r\nresult = CompositeVideoClip([clip, txt_clip.fx(transfx.crossfadein, duration=1).fx(transfx.crossfadeout, duration=1)])\r\n\r\nresult.write_videofile(augumented_local_file, codec='mpeg4', fps=30, bitrate=\"8000k\", threads=8)\r\n```\r\n\r\n\r\n#### Specifications\r\n\r\n  - Python Version: Python 3.6.9\r\n  - Moviepy Version:  1.0.2 / 1.0.3\r\n  - Platform Name: Linux\r\n  - Platform Version: Ubuntu 18.04.4 LTS", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1225/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1225/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1224", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1224/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1224/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1224/events", "html_url": "https://github.com/Zulko/moviepy/issues/1224", "id": 636354900, "node_id": "MDU6SXNzdWU2MzYzNTQ5MDA=", "number": 1224, "title": "Audio chopped off, video compositing tearing/errors", "user": {"login": "Immortalin", "id": 7126128, "node_id": "MDQ6VXNlcjcxMjYxMjg=", "avatar_url": "https://avatars.githubusercontent.com/u/7126128?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Immortalin", "html_url": "https://github.com/Immortalin", "followers_url": "https://api.github.com/users/Immortalin/followers", "following_url": "https://api.github.com/users/Immortalin/following{/other_user}", "gists_url": "https://api.github.com/users/Immortalin/gists{/gist_id}", "starred_url": "https://api.github.com/users/Immortalin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Immortalin/subscriptions", "organizations_url": "https://api.github.com/users/Immortalin/orgs", "repos_url": "https://api.github.com/users/Immortalin/repos", "events_url": "https://api.github.com/users/Immortalin/events{/privacy}", "received_events_url": "https://api.github.com/users/Immortalin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-06-10T15:41:57Z", "updated_at": "2020-06-11T04:48:47Z", "closed_at": "2020-06-11T04:48:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Expected Behavior\r\nVideo gets concatenated into a single video with voiceovers and and video transitions\r\n\r\n#### Actual Behavior\r\nLast half second worth of audio clip gets chopped off in first scene (audio chops off at \"individual\"):\r\n![image](https://user-images.githubusercontent.com/7126128/84287582-147f4b80-ab0e-11ea-9bdb-0f9a3c1e8207.png)\r\n \r\n\r\nTearing/various compositing errors start to occur after scene 4. Scene 4 and 5 renders perfectly by itself, but if combined with the rest of the clips then there will be tearing. \r\n![image](https://user-images.githubusercontent.com/7126128/84287440-ea2d8e00-ab0d-11ea-9904-0ec6952908db.png)\r\n\r\nIf only scene 4 + scene 5, there will be a compositing error reminiscent of `clips_array`:\r\n![image](https://user-images.githubusercontent.com/7126128/84287808-5f995e80-ab0e-11ea-9610-83e576ab1923.png)\r\n\r\n \r\n\r\n#### Steps to Reproduce the Problem\r\n<!-- Please include code that demonstrates this problem so that we can reproduce it. For advice on how to do this, see https://stackoverflow.com/help/mcve -->\r\n```Python\r\nfrom moviepy.editor import *\r\nimport time\r\n\r\ndef produce_text(text,duration,color='white',align=\"West\",font='Helvetica-Bold',stroke_width=\"150\",bg_image=True,bg_opaque=True,position=(\"right\", \"bottom\"),width=0):\r\n    if bg_image:\r\n        fontsize=40\r\n    else:\r\n        fontsize=80\r\n    scene_text=TextClip(\r\n    txt=resize_text(text),\r\n    kerning=1,\r\n    interline=2,\r\n    color=color,\r\n    align=align,\r\n    font=font,\r\n    stroke_width=stroke_width,\r\n    fontsize=fontsize)\r\n    scene_text=scene_text.set_duration(duration)\r\n    scene_text=scene_text.fx(vfx.fadein,1)  \r\n    if bg_opaque:\r\n        scene_text_attr=scene_text.__dict__\r\n        scene_text=scene_text.on_color(color=(0,0,0),col_opacity=0.6,size=(scene_text_attr['size'][0] + width, scene_text_attr['size'][1] + 40))\r\n    return scene_text\r\n\r\n\r\ndef produce_title(title,duration,color='red',align=\"West\",font='Helvetica-Bold',stroke_width=\"150\",bg_image=True,bg_opaque=False):\r\n    if bg_image:\r\n        fontsize=70\r\n    else:\r\n        fontsize=140\r\n    scene_title=TextClip(\r\n    txt=resize_text(text),\r\n    kerning=1,\r\n    interline=2,\r\n    color=color,\r\n    align=align,\r\n    font=font,\r\n    stroke_width=stroke_width,\r\n    fontsize=fontsize)\r\n    scene_title.set_duration(duration)\r\n    scene_title.fx(vfx.fadein,1)  \r\n    if bg_opaque:\r\n        scene_title_attr=scene_title.__dict__\r\n        scene_title.on_color(color=(0,0,0),col_opacity=0.6,size=(scene_title_attr['size'][0] + 10, scene_title_attr['size'][1] + 10))\r\n    return scene_title\r\n\r\n\r\ndef get_scene_duration(text, time_added=4):\r\n    result = readtime.of_text('The shortest blog post in the world!')\r\n    return result.seconds + time_added\r\n\r\n\r\ndef resize_text(text):\r\n    body = text\r\n    new_body = \"\"\r\n    lines = body.split(\"\\n\")\r\n\r\n    for line in lines:\r\n        if len(line) > 90:\r\n            w = textwrap.TextWrapper(width=55, break_long_words=False)\r\n            line = '\\n\\n'.join(w.wrap(line))\r\n\r\n    new_body += line + \"\\n\"\r\n    return new_body\r\n\r\n\r\ndef list_directory(path, sort_by='name'):\r\n    data = os.listdir(path)\r\n    if sort_by == 'name':\r\n        convert = lambda text: int(text) if text.isdigit() else text.lower()\r\n        alphanum_key = lambda key: [\r\n            convert(c) for c in re.split('([0-9]+)', key)\r\n        ]\r\n        return sorted(data, key=alphanum_key)\r\n\r\n\r\ndef resize_file(in_file, out_file, size):\r\n    fd_img = open(in_file, 'rb')\r\n    img = Image.open(fd_img)\r\n    img = resizeimage.resize_thumbnail(img, size)\r\n    img.save(out_file, img.format)\r\n    fd_img.close()\r\n\r\n\r\n\r\ndef produce_bg_image(image,duration):\r\n    bg_image = ImageClip(image).set_duration(duration)\r\n    return bg_image\r\n\r\ndef create_soundtrack(audio,duration):\r\n    result= AudioFileClip(audio).set_duration(duration).fx( afx.volumex, 0.2)#.fx( afx.audio_fadeout, duration)\r\n    return result\r\n\r\ndef create_transition_audio(scene_duration,duration=0.5,audio=\"assets/transition.aif\"):\r\n    result= AudioFileClip(audio).set_duration(duration)\r\n    result=result.fx(afx.audio_fadein,scene_duration)\r\n    return result\r\n\r\ndef create_narration(audio):\r\n    result= AudioFileClip(audio)\r\n    return result\r\n\r\ndef produce_bg_video(video,duration):\r\n    bg_video = VideoFileClip(video)\r\n    if bg_video.duration > duration:\r\n        bg_video = bg_video.set_duration(duration)\r\n    else:\r\n        bg_video = bg_video.fx(loop, duration=duration)\r\n    return bg_video\r\n\r\ndef create_scene(scene_data):\r\n    scene_components = []\r\n    if scene_data[\"narration\"]:\r\n        narration_component = create_narration(scene_data[\"narration\"])\r\n        duration = narration_component.duration\r\n    else:\r\n        duration = get_scene_duration(scene_data[\"text\"])\r\n    if scene_data[\"bg_image\"]:    \r\n        resize_file(\r\n        in_file=scene_data[\"bg_image\"],\r\n        out_file=scene_data[\"bg_image\"],\r\n        size=(1920, 1080),\r\n        )\r\n        bg_image_component = produce_bg_image(scene_data[\"bg_image\"], duration=duration)\r\n        # bg_image_component=bg_image_component.fx( vfx.fadeout,duration=bg_image_component.end-0.2)\r\n        scene_components.append(bg_image_component)\r\n    if scene_data[\"bg_video\"]:\r\n        bg_video_component = produce_bg_video(scene_data[\"bg_video\"], duration=duration)\r\n        scene_components.append(bg_video_component)\r\n        width=bg_video_component.size[1]\r\n        #print(width)\r\n    if scene_data[\"text\"]:\r\n        text_component = produce_text(\r\n            text=scene_data[\"text\"], duration=duration, position=\"center\",width=width\r\n        )\r\n        text_component = text_component.set_position((\"center\",\"bottom\"))\r\n        scene_components.append(text_component)\r\n    if scene_data[\"title\"]:\r\n        title_component = produce_title(title=scene_data[\"title\"], duration=duration)\r\n        scene_components.append(title_component)\r\n    scene = CompositeVideoClip(scene_components) \r\n    if scene_data[\"narration\"]:\r\n        scene = scene.set_audio(narration_component)\r\n    return scene\r\n\r\n\r\ndef concatenate_scenes(scene_list, soundtrack):\r\n    result = concatenate_videoclips(\r\n        scene_list\r\n    )\r\n    result.audio = CompositeAudioClip([result.audio, soundtrack])\r\n    return result\r\n\r\n\r\ndef create_video(video, video_name):\r\n    start=time.time()\r\n    scene_list = []\r\n    video_duration = 0\r\n    scene_start = []\r\n    scene_end = []\r\n    narrations = []\r\n\r\n    for scene_data in video[\"scenes\"]:\r\n        scene = create_scene(scene_data)\r\n        scene_list.append(scene)\r\n        video_duration += scene.duration\r\n    soundtrack = create_soundtrack(video[\"soundtrack\"], duration=video_duration)\r\n    final_video = concatenate_scenes(scene_list, soundtrack=soundtrack)\r\n    final_video.write_videofile(\r\n        video_name, fps=24, logger=None, threads=8, codec=\"libx264\"\r\n    )\r\n    elapsed=time.time()\r\n    print(elapsed-start)\r\n\r\n\r\nscene1 = {\r\n    \"bg_image\": None,\r\n    \"bg_video\": \"assets/herd_immunity/1.mp4\",\r\n    \"title\": None,\r\n    \"text\": \"Herd immunity is a form of indirect protection from infectious disease that occurs when a large percentage of a population has become immune to an infection, whether through vaccination or previous infections, thereby providing a measure of protection for individuals who are not immune.\",\r\n    \"narration\": \"assets/herd_immunity/narration1.mp3\",\r\n}\r\nscene2 = {\r\n     \"bg_image\": None,\r\n    \"bg_video\": \"assets/herd_immunity/2.mp4\",\r\n    \"title\": None,\r\n    \"text\": \"In a population in which a large proportion of individuals possess immunity, such people being unlikely to contribute to disease transmission, chains of infection are more likely to be disrupted, which either stops or slows the spread of disease.\",\r\n    \"narration\": \"assets/herd_immunity/narration2.mp3\",\r\n}\r\nscene3 = {\r\n    \"bg_image\": None,\r\n    \"bg_video\": \"assets/herd_immunity/3.mp4\",\r\n    \"title\": None,\r\n    \"text\": \"Some individuals cannot become immune because of medical conditions, such as an immunodeficiency or immunosuppression, and for this group herd immunity is a crucial method of protection.\",\r\n    \"narration\": \"assets/herd_immunity/narration3.mp3\",\r\n}\r\nscene4 = {\r\n    \"bg_image\": None,\r\n    \"bg_video\": \"assets/herd_immunity/4.mp4\",\r\n    \"title\": None,\r\n    \"text\": 'Herd immunity created via vaccination contributed to the eventual eradication of smallpox in 1977 and has contributed to the reduction of the frequencies of other diseases.',\r\n    \"narration\": \"assets/herd_immunity/narration4.mp3\",\r\n}\r\nscene5 = {\r\n    \"bg_image\": None,\r\n    \"bg_video\": \"assets/herd_immunity/5.mp4\",\r\n    \"title\": None,\r\n    \"text\": \"For these reasons, in certain populations it may be necessary to immunize high-risk persons or individuals of both sexes to establish herd immunity.\",\r\n    \"narration\": \"assets/herd_immunity/narration5.mp3\",\r\n}\r\nscene6 = {\r\n    \"bg_image\": None,\r\n    \"bg_video\": \"assets/herd_immunity/6.mp4\",\r\n    \"title\": None,\r\n    \"text\": \"As this evolution poses a challenge to herd immunity, broadly neutralizing antibodies and universal vaccines that can provide protection beyond a specific serotype are in replacement, or serotype shifting, may occur if the prevalence of a specific serotype declines due to high levels of immunity, allowing other serotypes to replace it.\",\r\n    \"narration\": \"assets/herd_immunity/narration6.mp3\",\r\n}\r\nscene7 = {\r\n    \"bg_image\": None,\r\n    \"bg_video\": \"assets/herd_immunity/7.mp4\",\r\n    \"title\": None,\r\n    \"text\": \"As the number of free riders in a population increases, outbreaks of preventable diseases become more common and more severe due to loss of herd immunity.\",\r\n    \"narration\": \"assets/herd_immunity/narration7.mp3\",\r\n}\r\nherd_immunity_video = {\r\n    \"scenes\": [scene1, scene2, scene3, scene4, scene5],\r\n    \"soundtrack\": \"assets/herd_immunity/soundtrack.mp3\",\r\n}\r\n\r\n\r\n\r\ncreate_video(herd_immunity_video, video_name=\"herd_immunity_video.mov\")\r\n\r\n\r\n\r\n```\r\nAssets:\r\nhttps://drive.google.com/file/d/1G_XjCnInKXbLpfNYo_FWSJJN78GE4YFt/view?usp=sharing\r\n#### Specifications\r\n\r\n  - Python Version: Python 3.8\r\n  - Moviepy Version: latest master\r\n  - Platform Name: Ubuntu, Mac OS X\r\n  - Platform Version: 18.04, catalina 10.15.3\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1224/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1224/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1217", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1217/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1217/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1217/events", "html_url": "https://github.com/Zulko/moviepy/issues/1217", "id": 629744817, "node_id": "MDU6SXNzdWU2Mjk3NDQ4MTc=", "number": 1217, "title": "Support needed: alueError: t_start (50.00) should be smaller than the clip's duration (11.05)", "user": {"login": "santokalayil", "id": 49450970, "node_id": "MDQ6VXNlcjQ5NDUwOTcw", "avatar_url": "https://avatars.githubusercontent.com/u/49450970?v=4", "gravatar_id": "", "url": "https://api.github.com/users/santokalayil", "html_url": "https://github.com/santokalayil", "followers_url": "https://api.github.com/users/santokalayil/followers", "following_url": "https://api.github.com/users/santokalayil/following{/other_user}", "gists_url": "https://api.github.com/users/santokalayil/gists{/gist_id}", "starred_url": "https://api.github.com/users/santokalayil/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/santokalayil/subscriptions", "organizations_url": "https://api.github.com/users/santokalayil/orgs", "repos_url": "https://api.github.com/users/santokalayil/repos", "events_url": "https://api.github.com/users/santokalayil/events{/privacy}", "received_events_url": "https://api.github.com/users/santokalayil/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-06-03T06:59:50Z", "updated_at": "2021-01-14T17:56:40Z", "closed_at": "2020-12-15T12:05:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\nYou can format code by putting ``` (that's 3 backticks) on a line by itself at the beginning and end of each code block. For example:\r\n\r\n```\r\nfrom moviepy.editor import *\r\nclip = ColorClip((600, 400), color=(255, 100, 0), duration=2)\r\n```\r\n-->\r\n\r\n\r\n#### Code copied from your documentation\r\n\n```\nclip = VideoFileClip('test.mp4').subclip(50,60)\r\nclip = clip.volumex(0.8)\r\ntxt_clip = TextClip(\"My Holidays 2013\",fontsize=70,color='white')\r\ntxt_clip = txt_clip.set_pos('center').set_duration(10)\r\nvideo = CompositeVideoClip([clip, txt_clip])\r\nvideo.write_videofile(\"test.webm\")\r\n```\n\n#### Error\r\n\r\n```\nValueError                                Traceback (most recent call last)\r\n<ipython-input-31-1360741d82c1> in <module>\r\n      1 # Load myHolidays.mp4 and select the subclip 00:00:50 - 00:00:60\r\n----> 2 clip = VideoFileClip(path).subclip(50,60)\r\n      3 \r\n      4 clip.set_duration(clip.duration).subclip(clip.duration-10)\r\n      5 \r\n\r\n<decorator-gen-161> in subclip(self, t_start, t_end)\r\n\r\n~/.local/lib/python3.8/site-packages/moviepy/decorators.py in wrapper(f, *a, **kw)\r\n     87         new_kw = {k: fun(v) if k in varnames else v\r\n     88                  for (k,v) in kw.items()}\r\n---> 89         return f(*new_a, **new_kw)\r\n     90     return decorator.decorator(wrapper)\r\n     91 \r\n\r\n<decorator-gen-160> in subclip(self, t_start, t_end)\r\n\r\n~/.local/lib/python3.8/site-packages/moviepy/decorators.py in apply_to_mask(f, clip, *a, **k)\r\n     27         the clip created with f \"\"\"\r\n     28 \r\n---> 29     newclip = f(clip, *a, **k)\r\n     30     if getattr(newclip, 'mask', None):\r\n     31         newclip.mask = f(newclip.mask, *a, **k)\r\n\r\n<decorator-gen-159> in subclip(self, t_start, t_end)\r\n\r\n~/.local/lib/python3.8/site-packages/moviepy/decorators.py in apply_to_audio(f, clip, *a, **k)\r\n     39         the clip created with f \"\"\"\r\n     40 \r\n---> 41     newclip = f(clip, *a, **k)\r\n     42     if getattr(newclip, 'audio', None):\r\n     43         newclip.audio = f(newclip.audio, *a, **k)\r\n\r\n~/.local/lib/python3.8/site-packages/moviepy/Clip.py in subclip(self, t_start, t_end)\r\n    383 \r\n    384         if (self.duration is not None) and (t_start > self.duration):\r\n--> 385             raise ValueError(\"t_start (%.02f) \" % t_start +\r\n    386                              \"should be smaller than the clip's \" +\r\n    387                              \"duration (%.02f).\" % self.duration)\r\n\r\nValueError: t_start (50.00) should be smaller than the clip's duration (11.05).\r\n\r\n```\n#### Specifications\r\nlatest python and moviepy version just installed now only after reinstallting my os\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1217/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1217/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1215", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1215/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1215/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1215/events", "html_url": "https://github.com/Zulko/moviepy/issues/1215", "id": 629297090, "node_id": "MDU6SXNzdWU2MjkyOTcwOTA=", "number": 1215, "title": "Array ValueError when applying a Masking clip ", "user": {"login": "bilel", "id": 291110, "node_id": "MDQ6VXNlcjI5MTExMA==", "avatar_url": "https://avatars.githubusercontent.com/u/291110?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bilel", "html_url": "https://github.com/bilel", "followers_url": "https://api.github.com/users/bilel/followers", "following_url": "https://api.github.com/users/bilel/following{/other_user}", "gists_url": "https://api.github.com/users/bilel/gists{/gist_id}", "starred_url": "https://api.github.com/users/bilel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bilel/subscriptions", "organizations_url": "https://api.github.com/users/bilel/orgs", "repos_url": "https://api.github.com/users/bilel/repos", "events_url": "https://api.github.com/users/bilel/events{/privacy}", "received_events_url": "https://api.github.com/users/bilel/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-06-02T15:27:35Z", "updated_at": "2020-06-04T17:29:03Z", "closed_at": "2020-06-03T10:43:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi :)\r\nI'm having trouble applying a mask clip on a movie ... \r\n\r\nI'm receiving the following error :\r\n```\r\nFile \"C:\\Python38\\lib\\site-packages\\moviepy\\video\\tools\\drawing.py\", line 147, in color_gradient\r\n    if vector:\r\nValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()\r\n```\r\n\r\nRunning the same code present [here in the Docs](https://zulko.github.io/moviepy/examples/example_with_sound.html) gives the same error\r\n\r\nI tried to update MoviePy but all dependant packages are installed... Is it a dependancy issue ? \r\nIs there an updated syntax to generate masks on movies...\r\nBecause It seems to me like a numpy error", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1215/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1215/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1209", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1209/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1209/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1209/events", "html_url": "https://github.com/Zulko/moviepy/issues/1209", "id": 627877714, "node_id": "MDU6SXNzdWU2Mjc4Nzc3MTQ=", "number": 1209, "title": "Bug: Video processed by fl_time has no duration", "user": {"login": "LaoYuanPython", "id": 51265866, "node_id": "MDQ6VXNlcjUxMjY1ODY2", "avatar_url": "https://avatars.githubusercontent.com/u/51265866?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LaoYuanPython", "html_url": "https://github.com/LaoYuanPython", "followers_url": "https://api.github.com/users/LaoYuanPython/followers", "following_url": "https://api.github.com/users/LaoYuanPython/following{/other_user}", "gists_url": "https://api.github.com/users/LaoYuanPython/gists{/gist_id}", "starred_url": "https://api.github.com/users/LaoYuanPython/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LaoYuanPython/subscriptions", "organizations_url": "https://api.github.com/users/LaoYuanPython/orgs", "repos_url": "https://api.github.com/users/LaoYuanPython/repos", "events_url": "https://api.github.com/users/LaoYuanPython/events{/privacy}", "received_events_url": "https://api.github.com/users/LaoYuanPython/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-05-31T02:40:51Z", "updated_at": "2020-06-01T11:17:48Z", "closed_at": "2020-06-01T11:17:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "My Code is:\r\n\r\n```\r\nfrom  moviepy.editor import *\r\nfrom  moviepy.Clip import *\r\nclip = VideoFileClip(r\"F:\\video\\WinBasedWorkHard.mp4\")\t\r\nnewclip = clip.fl_time(lambda t: 2*t, apply_to=['mask', 'audio'],keep_duration=False)\r\nnewclip.write_videofile(r\"F:\\video\\WinBasedWorkHard_new.mp4\")\r\n```\r\n\r\n\r\n#### Expected Behavior\r\n\r\nnewclip was saved to file successful\r\n#### Actual Behavior\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"<pyshell#5>\", line 1, in <module>\r\n    newclip.write_videofile(r\"F:\\video\\WinBasedWorkHard_new.mp4\")\r\n  File \"<decorator-gen-55>\", line 2, in write_videofile\r\n  File \"C:\\Program Files\\Python37\\lib\\site-packages\\moviepy\\decorators.py\", line 52, in requires_duration\r\n    raise ValueError(\"Attribute 'duration' not set\")\r\nValueError: Attribute 'duration' not set\r\n```\r\n\r\n#### Steps to Reproduce the Problem\r\n<!-- Please include code that demonstrates this problem so that we can reproduce it. For advice on how to do this, see https://stackoverflow.com/help/mcve -->\r\n1\u3001unzip the file WinBasedWorkHard.zip by winrar or other tools\r\n2\u3001excute the scripts in IDLE (Python 3.7.2 64bit)\r\n3\u3001show newclip and clip's duration\r\n\r\nNote:\r\n1.if any question about this issues,please send mail to :jwp139@139.com\r\n2.Some examples in Clip.py has errors:\r\n`.fx.`:\r\n1>\r\n`clip.fx( volumex, 0.5).fx( resize, 0.3).fx( mirrorx )` Is equivalent `resize( volumex( mirrorx( clip ), 0.5), 0.3)` should be `mirrorx(resize (volumex ( clip , 0.5), 0.3))`\r\n`.fl_time`:\r\n2>\r\n`newclip = clip.fl_time(lambda: 2*t, apply_to=['mask', 'audio'])` should be `newclip = clip.fl_time(lambda t: 2*t, apply_to=['mask', 'audio'])`\r\n3>\r\n`newclip = clip.fl_time(lambda: 3-t)` should be `newclip = clip.fl_time(lambda t: 3-t)`\r\n\r\n\r\n[WinBasedWorkHard.zip](https://github.com/Zulko/moviepy/files/4707008/WinBasedWorkHard.zip)\r\n\r\n#### Specifications\r\n\r\n  - Python Version:Python 3.7.2 64bit\r\n  - Moviepy Version:1.03\r\n  - Platform Name:win7 \r\n  - Platform Version:win7 64bit\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1209/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1209/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1208", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1208/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1208/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1208/events", "html_url": "https://github.com/Zulko/moviepy/issues/1208", "id": 627873528, "node_id": "MDU6SXNzdWU2Mjc4NzM1Mjg=", "number": 1208, "title": "Simple moviepy script, getting error: unhashable type: 'list'", "user": {"login": "JacobStephenson97", "id": 4707784, "node_id": "MDQ6VXNlcjQ3MDc3ODQ=", "avatar_url": "https://avatars.githubusercontent.com/u/4707784?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JacobStephenson97", "html_url": "https://github.com/JacobStephenson97", "followers_url": "https://api.github.com/users/JacobStephenson97/followers", "following_url": "https://api.github.com/users/JacobStephenson97/following{/other_user}", "gists_url": "https://api.github.com/users/JacobStephenson97/gists{/gist_id}", "starred_url": "https://api.github.com/users/JacobStephenson97/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JacobStephenson97/subscriptions", "organizations_url": "https://api.github.com/users/JacobStephenson97/orgs", "repos_url": "https://api.github.com/users/JacobStephenson97/repos", "events_url": "https://api.github.com/users/JacobStephenson97/events{/privacy}", "received_events_url": "https://api.github.com/users/JacobStephenson97/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 2658615185, "node_id": "MDU6TGFiZWwyNjU4NjE1MTg1", "url": "https://api.github.com/repos/Zulko/moviepy/labels/fx", "name": "fx", "color": "bfd4f2", "default": false, "description": "Related to advanced effects applied via clip.fx(), or effects in general."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-05-31T02:14:35Z", "updated_at": "2022-01-14T16:10:11Z", "closed_at": "2022-01-14T16:10:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "i'm working on a little script to concat all clips in a folder with a small transition using moviepy, but I'm unable to run it as I'm getting the error unhashable type 'list'. I've been reading through many posts about this error and I understand that you're unable to hash a list, and casting to a tuple can fix the problem, i've tried multiple suggestions from other answers but can't fully understand why my code isn't fully working\r\n\r\n \r\n\r\n    from moviepy.editor import concatenate_videoclips\r\n    from moviepy.video.io.VideoFileClip import VideoFileClip  \r\n    import os\r\n     \r\n    \r\n    clips = []\r\n        for filename in os.listdir('D:/Clip Project/ClipsTest'):\r\n            if filename.endswith(\".mp4\"):\r\n                clips.append(VideoFileClip('D:/Clip Project/ClipsTest/' + filename))\r\n        clips = [clip.crossfadein(1) for clip in clips]\r\n        video = concatenate_videoclips(clips, padding=-1, method='compose', )\r\n        video.write_videofile('D:/Clip Project/ClipsTest/League-' + '.mp4', threads=4, fps=24)\r\n\r\nThis is the code I orginally ran into the problem with and am struggling to fix, any tips would be amazing!\r\n\r\nHere is the full error:\r\n\r\n    Traceback (most recent call last):\r\n      File \"teststuff.py\", line 2, in <module>\r\n        from moviepy.editor import concatenate_videoclips\r\n      File \"C:\\Users\\user\\AppData\\Local\\Programs\\Python\\Python38\\lib\\site-packages\\moviepy\\editor.py\", line 48, in <module>\r\n        import moviepy.video.fx.all as vfx\r\n      File \"C:\\Users\\user\\AppData\\Local\\Programs\\Python\\Python38\\lib\\site-packages\\moviepy\\video\\fx\\all\\__init__.py\", line 13, in <module>\r\n        __all__ = [name for _, name, _ in pkgutil.iter_modules(\r\n      File \"C:\\Users\\user\\AppData\\Local\\Programs\\Python\\Python38\\lib\\site-packages\\moviepy\\video\\fx\\all\\__init__.py\", line 13, in <listcomp>\r\n        __all__ = [name for _, name, _ in pkgutil.iter_modules(\r\n      File \"C:\\Users\\user\\AppData\\Local\\Programs\\Python\\Python38\\lib\\pkgutil.py\", line 129, in iter_modules\r\n        for i in importers:\r\n      File \"C:\\Users\\user\\AppData\\Local\\Programs\\Python\\Python38\\lib\\pkgutil.py\", line 415, in get_importer\r\n        importer = sys.path_importer_cache[path_item]\r\n    TypeError: unhashable type: 'list'\r\n\r\nIs it possible this is an issue with moviepy itself? I've looked into the documentation below but to no avail, as well as fiddled with the imports.", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1208/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1208/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1205", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1205/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1205/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1205/events", "html_url": "https://github.com/Zulko/moviepy/issues/1205", "id": 627572343, "node_id": "MDU6SXNzdWU2Mjc1NzIzNDM=", "number": 1205, "title": "color_gradient has \"if vector\" ", "user": {"login": "pinq-", "id": 10464992, "node_id": "MDQ6VXNlcjEwNDY0OTky", "avatar_url": "https://avatars.githubusercontent.com/u/10464992?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pinq-", "html_url": "https://github.com/pinq-", "followers_url": "https://api.github.com/users/pinq-/followers", "following_url": "https://api.github.com/users/pinq-/following{/other_user}", "gists_url": "https://api.github.com/users/pinq-/gists{/gist_id}", "starred_url": "https://api.github.com/users/pinq-/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pinq-/subscriptions", "organizations_url": "https://api.github.com/users/pinq-/orgs", "repos_url": "https://api.github.com/users/pinq-/repos", "events_url": "https://api.github.com/users/pinq-/events{/privacy}", "received_events_url": "https://api.github.com/users/pinq-/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-05-29T22:10:38Z", "updated_at": "2020-06-01T11:41:07Z", "closed_at": "2020-06-01T11:41:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\nYou can format code by putting ``` (that's 3 backticks) on a line by itself at the beginning and end of each code block. For example:\r\n\r\n```\r\nfrom moviepy.editor import *\r\nclip = ColorClip((600, 400), color=(255, 100, 0), duration=2)\r\n```\r\n-->\r\n```\r\nhalf_mask = color_gradient((2000,2000),p1=(0,200), p2=(100,200))\r\n```\r\n#### Expected Behavior\r\nmake the color gradient\r\n\r\n#### Actual Behavior\r\nget error:\r\n```\r\nmoviepy\\video\\tools\\drawing.py\", line 147, in color_gradient\r\n    if vector:\r\nValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()\r\n```\r\n\r\n\r\n#### Steps to Reproduce the Problem\r\nRun `half_mask = color_gradient((2000,2000),p1=(0,200), p2=(100,200))` line. \r\n<!-- Please include code that demonstrates this problem so that we can reproduce it. For advice on how to do this, see https://stackoverflow.com/help/mcve -->\r\n\r\n\r\n#### Specifications\r\n\r\n  - Python Version: 3.6.5\r\n  - Moviepy Version: 1.0.3\r\n  - Platform Name: Windows\r\n  - Platform Version: 10\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1205/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1205/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1204", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1204/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1204/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1204/events", "html_url": "https://github.com/Zulko/moviepy/issues/1204", "id": 627299662, "node_id": "MDU6SXNzdWU2MjcyOTk2NjI=", "number": 1204, "title": "GitHub actions ImageMagick: convert-im6.q16: not authorized", "user": {"login": "filiptronicek", "id": 29888641, "node_id": "MDQ6VXNlcjI5ODg4NjQx", "avatar_url": "https://avatars.githubusercontent.com/u/29888641?v=4", "gravatar_id": "", "url": "https://api.github.com/users/filiptronicek", "html_url": "https://github.com/filiptronicek", "followers_url": "https://api.github.com/users/filiptronicek/followers", "following_url": "https://api.github.com/users/filiptronicek/following{/other_user}", "gists_url": "https://api.github.com/users/filiptronicek/gists{/gist_id}", "starred_url": "https://api.github.com/users/filiptronicek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/filiptronicek/subscriptions", "organizations_url": "https://api.github.com/users/filiptronicek/orgs", "repos_url": "https://api.github.com/users/filiptronicek/repos", "events_url": "https://api.github.com/users/filiptronicek/events{/privacy}", "received_events_url": "https://api.github.com/users/filiptronicek/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-05-29T14:10:47Z", "updated_at": "2020-05-29T16:04:00Z", "closed_at": "2020-05-29T14:27:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "I wanted to setup moviepy as a small experiment on GitHub actions, but I stumbled upon a problem with moviepy locating the binary.\r\n![image](https://user-images.githubusercontent.com/29888641/83268651-37cd0100-a1c6-11ea-8776-03852b02d1ed.png)\r\n\r\n\r\nAlthough it's a part of the preinstalled suite of dependencies and programs on GitHub's Ubuntu distribution (complete list [here](https://github.com/actions/virtual-environments/blob/master/images/linux/Ubuntu1804-README.md)). moviepy cannot locate it.\r\nIs this a GitHub or a moviepy problem?\r\n#### Expected Behavior\r\nThe program renders the video just fine (tested on my Windows 10 PC.)\r\n\r\n#### Actual Behavior\r\n![image](https://user-images.githubusercontent.com/29888641/83268450-f0467500-a1c5-11ea-8434-986f5877101e.png)\r\n\r\n#### Specifications\r\n\r\n  - Python Version: 3.8\r\n  - Moviepy Version: 1.0.3\r\n  - Platform Name: Ubuntu Linux \r\n  - Platform Version: 18.04.4 LTS\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1204/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1204/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1202", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1202/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1202/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1202/events", "html_url": "https://github.com/Zulko/moviepy/issues/1202", "id": 624359922, "node_id": "MDU6SXNzdWU2MjQzNTk5MjI=", "number": 1202, "title": "The __init__() of Clip init vars'problem", "user": {"login": "LaoYuanPython", "id": 51265866, "node_id": "MDQ6VXNlcjUxMjY1ODY2", "avatar_url": "https://avatars.githubusercontent.com/u/51265866?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LaoYuanPython", "html_url": "https://github.com/LaoYuanPython", "followers_url": "https://api.github.com/users/LaoYuanPython/followers", "following_url": "https://api.github.com/users/LaoYuanPython/following{/other_user}", "gists_url": "https://api.github.com/users/LaoYuanPython/gists{/gist_id}", "starred_url": "https://api.github.com/users/LaoYuanPython/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LaoYuanPython/subscriptions", "organizations_url": "https://api.github.com/users/LaoYuanPython/orgs", "repos_url": "https://api.github.com/users/LaoYuanPython/repos", "events_url": "https://api.github.com/users/LaoYuanPython/events{/privacy}", "received_events_url": "https://api.github.com/users/LaoYuanPython/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-05-25T15:15:51Z", "updated_at": "2020-06-21T13:51:22Z", "closed_at": "2020-06-10T13:21:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\r\nclass Clip:\r\n    def __init__(self):\r\n\r\n        self.start = 0\r\n        self.end = None\r\n        self.duration = None\r\n\r\n        self.memoize = False\r\n        self.memoized_t = None\r\n        self.memoize_frame = None\r\n```\r\n#### Expected Behavior\r\n self.memoized_frame = None\r\n\r\n#### Actual Behavior\r\n self.memoize_frame = None\r\n\r\n#### Steps to Reproduce the Problem\r\n<!-- Please include code that demonstrates this problem so that we can reproduce it. For advice on how to do this, see https://stackoverflow.com/help/mcve -->\r\n\r\n\r\n#### Specifications\r\n\r\n  - Python Version:3.73\r\n  - Moviepy Version:1.03\r\n  - Platform Name:win7\r\n  - Platform Version:win7\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1202/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1202/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1199", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1199/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1199/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1199/events", "html_url": "https://github.com/Zulko/moviepy/issues/1199", "id": 623578632, "node_id": "MDU6SXNzdWU2MjM1Nzg2MzI=", "number": 1199, "title": "cv2.resize() caused 'Fatal Python error: PyEval_SaveThread: NULL tstate' in Celery/Threading environment", "user": {"login": "cyberpsyche", "id": 221194, "node_id": "MDQ6VXNlcjIyMTE5NA==", "avatar_url": "https://avatars.githubusercontent.com/u/221194?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cyberpsyche", "html_url": "https://github.com/cyberpsyche", "followers_url": "https://api.github.com/users/cyberpsyche/followers", "following_url": "https://api.github.com/users/cyberpsyche/following{/other_user}", "gists_url": "https://api.github.com/users/cyberpsyche/gists{/gist_id}", "starred_url": "https://api.github.com/users/cyberpsyche/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cyberpsyche/subscriptions", "organizations_url": "https://api.github.com/users/cyberpsyche/orgs", "repos_url": "https://api.github.com/users/cyberpsyche/repos", "events_url": "https://api.github.com/users/cyberpsyche/events{/privacy}", "received_events_url": "https://api.github.com/users/cyberpsyche/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 547814220, "node_id": "MDU6TGFiZWw1NDc4MTQyMjA=", "url": "https://api.github.com/repos/Zulko/moviepy/labels/lib-misc", "name": "lib-misc", "color": "ffdcb5", "default": false, "description": "Issues pertaining to misc. 3rd-party libraries."}, {"id": 3729658835, "node_id": "LA_kwDOALfols7eThPT", "url": "https://api.github.com/repos/Zulko/moviepy/labels/lib-PIL-Pillow", "name": "lib-PIL-Pillow", "color": "d6b289", "default": false, "description": "Issues pertaining to dependency PIL (or PIL fork Pillow)."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-05-23T04:22:38Z", "updated_at": "2022-01-14T14:43:50Z", "closed_at": "2022-01-14T14:43:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "If I use 'clip.resize()' function in program running in Celery/Threading environment, the  'Fatal Python error: PyEval_SaveThread: NULL tstate' will be caused.  For I need distribute moviepy tasks to several machines so I use Celery with tasks.xxxxx.apply_async(args=[...], kwargs={...}) to post the tasks to message queue. Everything is okay except the resizer() function in .../lib/python3.7/site-packages/moviepy/video/fx/resize.py.  Even if I have only create one task, the fatal error still will be caused. \r\n\r\nI wonder if there is any problem with the procession of cv2.resize() \r\n\r\nError info here:\r\n\r\n```\r\n> Fatal Python error: PyEval_SaveThread: NULL tstate\r\n> \r\n> Current thread 0x00000001091f45c0 (most recent call first):\r\n>   File \"/Users/sam/.local/share/virtualenvs/hollywood-u0AC6LZU/lib/python3.7/site-packages/moviepy/video/fx/resize.py\", line 16 in resizer\r\n>   File \"/Users/sam/.local/share/virtualenvs/hollywood-u0AC6LZU/lib/python3.7/site-packages/moviepy/video/fx/resize.py\", line 113 in <lambda>\r\n>   File \"/Users/sam/.local/share/virtualenvs/hollywood-u0AC6LZU/lib/python3.7/site-packages/moviepy/video/VideoClip.py\", line 490 in <lambda>\r\n>   File \"/Users/sam/.local/share/virtualenvs/hollywood-u0AC6LZU/lib/python3.7/site-packages/moviepy/Clip.py\", line 136 in <lambda>\r\n>   File \"/Users/sam/.local/share/virtualenvs/hollywood-u0AC6LZU/lib/python3.7/site-packages/moviepy/Clip.py\", line 93 in get_frame\r\n>   File \"/Users/sam/.local/share/virtualenvs/hollywood-u0AC6LZU/lib/python3.7/site-packages/moviepy/decorators.py\", line 89 in wrapper\r\n>   File \"<decorator-gen-11>\", line 2 in get_frame\r\n>   File \"/Users/sam/.local/share/virtualenvs/hollywood-u0AC6LZU/lib/python3.7/site-packages/moviepy/video/VideoClip.py\", line 644 in set_make_frame\r\n>   File \"/Users/sam/.local/share/virtualenvs/hollywood-u0AC6LZU/lib/python3.7/site-packages/moviepy/decorators.py\", line 14 in outplace\r\n>   File \"<decorator-gen-61>\", line 2 in set_make_frame\r\n>   File \"/Users/sam/.local/share/virtualenvs/hollywood-u0AC6LZU/lib/python3.7/site-packages/moviepy/Clip.py\", line 136 in fl\r\n>   File \"/Users/sam/.local/share/virtualenvs/hollywood-u0AC6LZU/lib/python3.7/site-packages/moviepy/video/VideoClip.py\", line 490 in fl_image\r\n>   File \"/Users/sam/.local/share/virtualenvs/hollywood-u0AC6LZU/lib/python3.7/site-packages/moviepy/video/fx/resize.py\", line 115 in resize\r\n>   File \"/Users/sam/Projects/hollywood/mystudio/moviemaker/clipmaker.py\", line 1468 in make_theme_clip\r\n>   File \"/Users/sam/Projects/hollywood/mystudio/director/tasks.py\", line 339 in create_video\r\n>   File \"/Users/sam/Projects/hollywood/mystudio/director/tasks.py\", line 296 in create_video_by_script\r\n>   File \"/Users/sam/.local/share/virtualenvs/hollywood-u0AC6LZU/lib/python3.7/site-packages/celery/app/trace.py\", line 650 in __protected_call__\r\n>   File \"/Users/sam/.local/share/virtualenvs/hollywood-u0AC6LZU/lib/python3.7/site-packages/celery/app/trace.py\", line 385 in trace_task\r\n>   File \"/Users/sam/.local/share/virtualenvs/hollywood-u0AC6LZU/lib/python3.7/site-packages/celery/app/trace.py\", line 558 in _fast_trace_task\r\n>   File \"/Users/sam/.local/share/virtualenvs/hollywood-u0AC6LZU/lib/python3.7/site-packages/billiard/pool.py\", line 362 in workloop\r\n>   File \"/Users/sam/.local/share/virtualenvs/hollywood-u0AC6LZU/lib/python3.7/site-packages/billiard/pool.py\", line 292 in __call__\r\n>   File \"/Users/sam/.local/share/virtualenvs/hollywood-u0AC6LZU/lib/python3.7/site-packages/billiard/process.py\", line 114 in run\r\n>   File \"/Users/sam/.local/share/virtualenvs/hollywood-u0AC6LZU/lib/python3.7/site-packages/billiard/process.py\", line 327 in _bootstrap\r\n>   File \"/Users/sam/.local/share/virtualenvs/hollywood-u0AC6LZU/lib/python3.7/site-packages/billiard/popen_fork.py\", line 79 in _launch\r\n>   File \"/Users/sam/.local/share/virtualenvs/hollywood-u0AC6LZU/lib/python3.7/site-packages/billiard/popen_fork.py\", line 24 in __init__\r\n>   File \"/Users/sam/.local/share/virtualenvs/hollywood-u0AC6LZU/lib/python3.7/site-packages/billiard/context.py\", line 333 in _Popen\r\n>   File \"/Users/sam/.local/share/virtualenvs/hollywood-u0AC6LZU/lib/python3.7/site-packages/billiard/process.py\", line 124 in start\r\n>   File \"/Users/sam/.local/share/virtualenvs/hollywood-u0AC6LZU/lib/python3.7/site-packages/billiard/pool.py\", line 1158 in _create_worker_process\r\n>   File \"/Users/sam/.local/share/virtualenvs/hollywood-u0AC6LZU/lib/python3.7/site-packages/celery/concurrency/asynpool.py\", line 503 in _create_worker_process\r\n>   File \"/Users/sam/.local/share/virtualenvs/hollywood-u0AC6LZU/lib/python3.7/site-packages/billiard/pool.py\", line 1046 in __init__\r\n>   File \"/Users/sam/.local/share/virtualenvs/hollywood-u0AC6LZU/lib/python3.7/site-packages/celery/concurrency/asynpool.py\", line 486 in __init__\r\n>   File \"/Users/sam/.local/share/virtualenvs/hollywood-u0AC6LZU/lib/python3.7/site-packages/celery/concurrency/prefork.py\", line 117 in on_start\r\n>   File \"/Users/sam/.local/share/virtualenvs/hollywood-u0AC6LZU/lib/python3.7/site-packages/celery/concurrency/base.py\", line 132 in start\r\n>   File \"/Users/sam/.local/share/virtualenvs/hollywood-u0AC6LZU/lib/python3.7/site-packages/celery/bootsteps.py\", line 369 in start\r\n>   File \"/Users/sam/.local/share/virtualenvs/hollywood-u0AC6LZU/lib/python3.7/site-packages/celery/bootsteps.py\", line 119 in start\r\n>   File \"/Users/sam/.local/share/virtualenvs/hollywood-u0AC6LZU/lib/python3.7/site-packages/celery/worker/worker.py\", line 205 in start\r\n>   File \"/Users/sam/.local/share/virtualenvs/hollywood-u0AC6LZU/lib/python3.7/site-packages/celery/bin/worker.py\", line 259 in run\r\n>   File \"/Users/sam/.local/share/virtualenvs/hollywood-u0AC6LZU/lib/python3.7/site-packages/celery/bin/base.py\", line 253 in __call__\r\n>   File \"/Users/sam/.local/share/virtualenvs/hollywood-u0AC6LZU/lib/python3.7/site-packages/celery/bin/worker.py\", line 223 in run_from_argv\r\n>   File \"/Users/sam/.local/share/virtualenvs/hollywood-u0AC6LZU/lib/python3.7/site-packages/celery/bin/celery.py\", line 419 in execute\r\n>   File \"/Users/sam/.local/share/virtualenvs/hollywood-u0AC6LZU/lib/python3.7/site-packages/celery/bin/celery.py\", line 487 in handle_argv\r\n>   File \"/Users/sam/.local/share/virtualenvs/hollywood-u0AC6LZU/lib/python3.7/site-packages/celery/bin/base.py\", line 305 in execute_from_commandline\r\n>   File \"/Users/sam/.local/share/virtualenvs/hollywood-u0AC6LZU/lib/python3.7/site-packages/celery/bin/celery.py\", line 495 in execute_from_commandline\r\n>   File \"/Users/sam/.local/share/virtualenvs/hollywood-u0AC6LZU/lib/python3.7/site-packages/celery/app/base.py\", line 358 in start\r\n>   File \"director/master.py\", line 18 in <module>\r\n```\r\n\r\nIf I run my program as a standalone job, no celery involved, then there will be no any error.  Jobs will be done correctly. \r\n\r\nI checked the .../lib/python3.7/site-packages/moviepy/video/fx/resize.py code list as follows :\r\n\r\n\r\n```\r\nresize_possible = True\r\n  \r\ntry:\r\n    # TRY USING OpenCV AS RESIZER\r\n    #raise ImportError #debugging\r\n    import cv2\r\n    import numpy as np\r\n    def resizer (pic, newsize):\r\n        lx, ly = int(newsize[0]), int(newsize[1])\r\n        if lx > pic.shape[1] or ly > pic.shape[0]:\r\n            # For upsizing use linear for good quality & decent speed\r\n            interpolation = cv2.INTER_LINEAR\r\n        else:\r\n            # For dowsizing use area to prevent aliasing\r\n            interpolation = cv2.INTER_AREA\r\n        return cv2.resize(+pic.astype('uint8'), (lx, ly),             <-------- Error line\r\n                          interpolation=interpolation)\r\n\r\n    resizer.origin = \"cv2\"\r\n\r\nexcept ImportError:\r\n    try:\r\n        # TRY USING PIL/PILLOW AS RESIZER\r\n        from PIL import Image\r\n        import numpy as np\r\n        def resizer(pic, newsize):\r\n            newsize = list(map(int, newsize))[::-1]\r\n            shape = pic.shape\r\n            if len(shape)==3:\r\n                newshape = (newsize[0],newsize[1], shape[2] )\r\n            else:\r\n                newshape = (newsize[0],newsize[1])\r\n\r\n            pilim = Image.fromarray(pic)\r\n            resized_pil = pilim.resize(newsize[::-1], Image.ANTIALIAS)\r\n            #arr = np.fromstring(resized_pil.tostring(), dtype='uint8')\r\n            #arr.reshape(newshape)\r\n            return np.array(resized_pil)\r\n\r\n        resizer.origin = \"PIL\"\r\n\r\n    except ImportError:\r\n        # TRY USING SCIPY AS RESIZER\r\n        try:\r\n            from scipy.misc import imresize\r\n            resizer = lambda pic, newsize : imresize(pic,\r\n                                            map(int, newsize[::-1]))\r\n            resizer.origin = \"Scipy\"\r\n\r\n        except ImportError:\r\n            resize_possible = False\r\n```\r\n\r\n\r\nIf I change to PIL to do the resize job, then there will be no any error reported (both in standalone program mode and in Celery mode). But cv2 and numpy code definitely will cause the error in Celery mode.\r\n\r\nBecause PIL resize job is slower than cv2/numpy resize job, I prefer to use cv2/numpy code. But I cannot find any problem with the code in  .../lib/python3.7/site-packages/moviepy/video/fx/resize.py\r\n\r\n\r\n### Specifications\r\n\r\n  - Python Version: 3.7.3\r\n  - Moviepy Version: 1.0.2\r\n  - Platform Name: Mac OS X\r\n  - Platform Version: Mojave\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1199/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1199/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1198", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1198/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1198/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1198/events", "html_url": "https://github.com/Zulko/moviepy/issues/1198", "id": 619541527, "node_id": "MDU6SXNzdWU2MTk1NDE1Mjc=", "number": 1198, "title": "AttributeError: 'NoneType' object has no attribute 'write_audiofile'", "user": {"login": "neongreen13", "id": 48419376, "node_id": "MDQ6VXNlcjQ4NDE5Mzc2", "avatar_url": "https://avatars.githubusercontent.com/u/48419376?v=4", "gravatar_id": "", "url": "https://api.github.com/users/neongreen13", "html_url": "https://github.com/neongreen13", "followers_url": "https://api.github.com/users/neongreen13/followers", "following_url": "https://api.github.com/users/neongreen13/following{/other_user}", "gists_url": "https://api.github.com/users/neongreen13/gists{/gist_id}", "starred_url": "https://api.github.com/users/neongreen13/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/neongreen13/subscriptions", "organizations_url": "https://api.github.com/users/neongreen13/orgs", "repos_url": "https://api.github.com/users/neongreen13/repos", "events_url": "https://api.github.com/users/neongreen13/events{/privacy}", "received_events_url": "https://api.github.com/users/neongreen13/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-05-16T19:35:45Z", "updated_at": "2020-05-17T17:50:08Z", "closed_at": "2020-05-17T17:50:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi! Thanks for this awesome package.\r\n\r\nI used the following code a few days ago, and it worked perfectly to extract an audio (.wav) file from video (.mp4). Today I'm getting the error below. Did something change? Suggestions on how to solve? Thanks in advance :-)\r\n\r\n```\r\nvideoclip = VideoFileClip(path + 'match_video.mp4')\r\n\r\naudioclip = videoclip.audio\r\n\r\naudioclip.write_audiofile(path + \"match_audio.wav\")\r\n```\r\n```\r\nError:\r\nAttributeError: 'NoneType' object has no attribute 'write_audiofile'\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1198/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1198/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1197", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1197/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1197/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1197/events", "html_url": "https://github.com/Zulko/moviepy/issues/1197", "id": 619490400, "node_id": "MDU6SXNzdWU2MTk0OTA0MDA=", "number": 1197, "title": "Imagemagick not working", "user": {"login": "maikeeb", "id": 62631371, "node_id": "MDQ6VXNlcjYyNjMxMzcx", "avatar_url": "https://avatars.githubusercontent.com/u/62631371?v=4", "gravatar_id": "", "url": "https://api.github.com/users/maikeeb", "html_url": "https://github.com/maikeeb", "followers_url": "https://api.github.com/users/maikeeb/followers", "following_url": "https://api.github.com/users/maikeeb/following{/other_user}", "gists_url": "https://api.github.com/users/maikeeb/gists{/gist_id}", "starred_url": "https://api.github.com/users/maikeeb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/maikeeb/subscriptions", "organizations_url": "https://api.github.com/users/maikeeb/orgs", "repos_url": "https://api.github.com/users/maikeeb/repos", "events_url": "https://api.github.com/users/maikeeb/events{/privacy}", "received_events_url": "https://api.github.com/users/maikeeb/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 1866735520, "node_id": "MDU6TGFiZWwxODY2NzM1NTIw", "url": "https://api.github.com/repos/Zulko/moviepy/labels/lib-ImageMagick", "name": "lib-ImageMagick", "color": "d6b289", "default": false, "description": "Issues pertaining to dependency ImageMagick."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-05-16T14:43:48Z", "updated_at": "2023-04-21T12:17:27Z", "closed_at": "2021-01-21T21:02:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "\r\n\r\n```\r\nfrom moviepy.editor import *\r\n\r\n\r\ndef oneTransition(clipName, tranName):\r\n    print(tranName)\r\n    TextClip(clipName, color='white', size=(1920, 1080), bg_color='black', fontsize=50).set_duration(5).write_videofile(\r\n        '../currentVideos/' + str(tranName).strip('\\n') + '.mp4',\r\n        fps=60,logger=None, remove_temp=True, threads=8)\r\n```\r\n\r\n### Expected Behavior\r\n\r\ncreates a 5-second clip with a black background with text in the middle saying a string\r\n\r\n### Actual Behavior\r\n\r\nsometimes works\r\n\r\nsometimes gives me this error\r\n\r\n```\r\nException in thread Thread-7:\r\nTraceback (most recent call last):\r\n  File \"/home/maiku/.local/lib/python3.7/site-packages/moviepy/video/VideoClip.py\", line 1161, in __init__\r\n    subprocess_call(cmd, logger=None)\r\n  File \"/home/maiku/.local/lib/python3.7/site-packages/moviepy/tools.py\", line 54, in subprocess_call\r\n    raise IOError(err.decode('utf8'))\r\nOSError: convert-im6.q16: attempt to perform an operation not allowed by the security policy `@/tmp/tmpmr4ard3d.txt' @ error/property.c/InterpretImageProperties/3666.\r\nconvert-im6.q16: no images defined `PNG32:/tmp/tmpupxr37mx.png' @ error/convert.c/ConvertImageCommand/3258.\r\n\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3.7/threading.py\", line 926, in _bootstrap_inner\r\n    self.run()\r\n  File \"/usr/lib/python3.7/threading.py\", line 870, in run\r\n    self._target(*self._args, **self._kwargs)\r\n  File \"/home/maiku/Desktop/offlinetvv montage maker/scripts/transition.py\", line 6, in oneTransition\r\n    TextClip(clipName, color='white', size=(1920, 1080), bg_color='black', fontsize=50).set_duration(5).write_videofile(\r\n  File \"/home/maiku/.local/lib/python3.7/site-packages/moviepy/video/VideoClip.py\", line 1170, in __init__\r\n    raise IOError(error)\r\nOSError: MoviePy Error: creation of None failed because of the following error:\r\n\r\nconvert-im6.q16: attempt to perform an operation not allowed by the security policy `@/tmp/tmpmr4ard3d.txt' @ error/property.c/InterpretImageProperties/3666.\r\nconvert-im6.q16: no images defined `PNG32:/tmp/tmpupxr37mx.png' @ error/convert.c/ConvertImageCommand/3258.\r\n.\r\n\r\n.This error can be due to the fact that ImageMagick is not installed on your computer, or (for Windows users) that you didn't specify the path to the ImageMagick binary in file conf.py, or that the path you specified is incorrect\r\n\r\n\r\n```\r\n\r\n### Steps to Reproduce the Problem\r\nI have no idea \r\n\r\n### Other\r\n\r\nI am running this in threads with about 10 happening at the same time.\r\n\r\n### Specifications\r\n\r\n  - Python Version: 3.7.4\r\n  - Moviepy Version: 1.0.0\r\n  - Platform Name: ubuntu\r\n  - Platform Version: 19.10\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1197/reactions", "total_count": 2, "+1": 0, "-1": 0, "laugh": 1, "hooray": 0, "confused": 0, "heart": 0, "rocket": 1, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1197/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1194", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1194/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1194/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1194/events", "html_url": "https://github.com/Zulko/moviepy/issues/1194", "id": 618479060, "node_id": "MDU6SXNzdWU2MTg0NzkwNjA=", "number": 1194, "title": "OSError - WinError 6 - Python 3.7.4 (32 bit)", "user": {"login": "Kaszanas", "id": 34846245, "node_id": "MDQ6VXNlcjM0ODQ2MjQ1", "avatar_url": "https://avatars.githubusercontent.com/u/34846245?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Kaszanas", "html_url": "https://github.com/Kaszanas", "followers_url": "https://api.github.com/users/Kaszanas/followers", "following_url": "https://api.github.com/users/Kaszanas/following{/other_user}", "gists_url": "https://api.github.com/users/Kaszanas/gists{/gist_id}", "starred_url": "https://api.github.com/users/Kaszanas/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Kaszanas/subscriptions", "organizations_url": "https://api.github.com/users/Kaszanas/orgs", "repos_url": "https://api.github.com/users/Kaszanas/repos", "events_url": "https://api.github.com/users/Kaszanas/events{/privacy}", "received_events_url": "https://api.github.com/users/Kaszanas/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-05-14T19:24:00Z", "updated_at": "2020-05-14T20:51:50Z", "closed_at": "2020-05-14T20:51:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\nThank you for submitting this issue!\r\nIf you are *not* reporting a bug, please delete all of the following text.\r\nIf you *are* reporting a bug, please ensure that moviepy is updated to the latest version before submitting, as some bugs may only be present on older versions.\r\n\r\nYou can format code by putting ``` (that's 3 backticks) on a line by itself at the beginning and end of each code block. For example:\r\n-->\r\n### Expected Behavior\r\n```\r\nopen_file = VideoFileClip('valid\\path\\to\\file.mp4')\r\n```\r\n\r\n### Actual Behavior\r\nError which is shown below\r\n\r\n### Steps to Reproduce the Problem\r\nIt is not clear on how to exactly reproduce that issue.\r\nI am using a rapid succession of opening files to extract metadata from them and I am also closing them right after getting what I need with `open_file.close()` which should effectively free up resources.\r\n\r\n### Stack Trace:\r\n```\r\nraised unexpected: OSError(9, 'Nieprawid\u0142owe doj\u015bcie', None, 6, None)\r\nTraceback (most recent call last):\r\n  File \"c:\\envs\\audiovideopy\\lib\\site-packages\\celery\\app\\trace.py\", line 385, in trace_task\r\n    R = retval = fun(*args, **kwargs)\r\n  File \"c:\\envs\\audiovideopy\\lib\\site-packages\\celery\\app\\trace.py\", line 650, in __protected_call__\r\n    return self.run(*args, **kwargs)\r\n  File \"Y:\\Projects\\AudioVideoPy\\TheVi_Django\\uploadapp\\tasks\\highlights_tasks\\generate_highlights.py\", line 181, in generate_highlights_celery_task\r\n    is_generated=True).save()\r\n  File \"c:\\envs\\audiovideopy\\lib\\site-packages\\django\\db\\models\\base.py\", line 746, in save\r\n    force_update=force_update, update_fields=update_fields)\r\n  File \"c:\\envs\\audiovideopy\\lib\\site-packages\\django\\db\\models\\base.py\", line 795, in save_base\r\n    update_fields=update_fields, raw=raw, using=using,\r\n  File \"c:\\envs\\audiovideopy\\lib\\site-packages\\django\\dispatch\\dispatcher.py\", line 175, in send\r\n    for receiver in self._live_receivers(sender)\r\n  File \"c:\\envs\\audiovideopy\\lib\\site-packages\\django\\dispatch\\dispatcher.py\", line 175, in <listcomp>\r\n    for receiver in self._live_receivers(sender)\r\n  File \"Y:\\Projects\\AudioVideoPy\\TheVi_Django\\uploadapp\\receivers.py\", line 51, in extract_video_metadata\r\n    open_file = VideoFileClip(instance.file.path)\r\n  File \"c:\\envs\\audiovideopy\\lib\\site-packages\\moviepy\\video\\io\\VideoFileClip.py\", line 91, in __init__\r\n    fps_source=fps_source)\r\n  File \"c:\\envs\\audiovideopy\\lib\\site-packages\\moviepy\\video\\io\\ffmpeg_reader.py\", line 33, in __init__\r\n    fps_source)\r\n  File \"c:\\envs\\audiovideopy\\lib\\site-packages\\moviepy\\video\\io\\ffmpeg_reader.py\", line 258, in ffmpeg_parse_infos\r\n    proc = sp.Popen(cmd, **popen_params)\r\n  File \"C:\\Python\\lib\\subprocess.py\", line 664, in __init__\r\n    _cleanup()\r\n  File \"C:\\Python\\lib\\subprocess.py\", line 228, in _cleanup\r\n    res = inst._internal_poll(_deadstate=sys.maxsize)\r\n  File \"C:\\Python\\lib\\subprocess.py\", line 1216, in _internal_poll\r\n    if _WaitForSingleObject(self._handle, 0) == _WAIT_OBJECT_0:\r\nOSError: [WinError 6] Nieprawid\u0142owe doj\u015bcie\r\n```\r\n\r\n### Specifications\r\n\r\n  - Python Version: 3.7.4 (32 bit)\r\n  - Moviepy Version: `moviepy==1.0.0` - as per requirements.txt\r\n  - Platform Name: Windows\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1194/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1194/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1191", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1191/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1191/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1191/events", "html_url": "https://github.com/Zulko/moviepy/issues/1191", "id": 616658195, "node_id": "MDU6SXNzdWU2MTY2NTgxOTU=", "number": 1191, "title": "Warnings are suppressed by moviepy", "user": {"login": "fepegar", "id": 12688084, "node_id": "MDQ6VXNlcjEyNjg4MDg0", "avatar_url": "https://avatars.githubusercontent.com/u/12688084?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fepegar", "html_url": "https://github.com/fepegar", "followers_url": "https://api.github.com/users/fepegar/followers", "following_url": "https://api.github.com/users/fepegar/following{/other_user}", "gists_url": "https://api.github.com/users/fepegar/gists{/gist_id}", "starred_url": "https://api.github.com/users/fepegar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fepegar/subscriptions", "organizations_url": "https://api.github.com/users/fepegar/orgs", "repos_url": "https://api.github.com/users/fepegar/repos", "events_url": "https://api.github.com/users/fepegar/events{/privacy}", "received_events_url": "https://api.github.com/users/fepegar/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Zulko/moviepy/milestones/6", "html_url": "https://github.com/Zulko/moviepy/milestone/6", "labels_url": "https://api.github.com/repos/Zulko/moviepy/milestones/6/labels", "id": 5132992, "node_id": "MDk6TWlsZXN0b25lNTEzMjk5Mg==", "number": 6, "title": "Release v2.0.0", "description": "See #1089 for discussion", "creator": {"login": "tburrows13", "id": 22625968, "node_id": "MDQ6VXNlcjIyNjI1OTY4", "avatar_url": "https://avatars.githubusercontent.com/u/22625968?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tburrows13", "html_url": "https://github.com/tburrows13", "followers_url": "https://api.github.com/users/tburrows13/followers", "following_url": "https://api.github.com/users/tburrows13/following{/other_user}", "gists_url": "https://api.github.com/users/tburrows13/gists{/gist_id}", "starred_url": "https://api.github.com/users/tburrows13/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tburrows13/subscriptions", "organizations_url": "https://api.github.com/users/tburrows13/orgs", "repos_url": "https://api.github.com/users/tburrows13/repos", "events_url": "https://api.github.com/users/tburrows13/events{/privacy}", "received_events_url": "https://api.github.com/users/tburrows13/received_events", "type": "User", "site_admin": false}, "open_issues": 17, "closed_issues": 54, "state": "open", "created_at": "2020-02-23T16:34:44Z", "updated_at": "2022-10-10T23:57:57Z", "due_on": null, "closed_at": null}, "comments": 1, "created_at": "2020-05-12T13:30:04Z", "updated_at": "2020-06-15T23:20:38Z", "closed_at": "2020-06-15T23:20:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nThanks for the library, I think it's great.\r\n\r\nMy warnings are being suppressed/captured after I import certain `moviepy` modules. I suspect it's caused by this line:\r\nhttps://github.com/Zulko/moviepy/blob/4d70eabd784a73c16ab91bc90914df99fa9cc322/moviepy/video/io/ffmpeg_reader.py#L19\r\n\r\n### Steps to Reproduce the Problem\r\n<!-- Please include code that demonstrates this problem so that we can reproduce it. For advice on how to do this, see https://stackoverflow.com/help/mcve -->\r\n```\r\niPython 3.8.2 (default, May  6 2020, 02:49:43)\r\nType 'copyright', 'credits' or 'license' for more information\r\nIPython 7.13.0 -- An enhanced Interactive Python. Type '?' for help.\r\n\r\nIn [1]: import warnings\r\n\r\nIn [2]: import moviepy\r\n\r\nIn [3]: warnings.warn('x')\r\n<ipython-input-3-5759b8345431>:1: UserWarning: x\r\n  warnings.warn('x')\r\n\r\nIn [4]: from moviepy.video.io.VideoFileClip import VideoFileClip\r\n\r\nIn [5]: warnings.warn('x')\r\n\r\nIn [6]:\r\n```\r\n\r\n### Specifications\r\n\r\n  - Python Version: `3.8.2`\r\n  - Moviepy Version: `1.0.3`\r\n  - Platform Name: `macOS`\r\n  - Platform Version: `Catalina 10.15.4`\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1191/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1191/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1184", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1184/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1184/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1184/events", "html_url": "https://github.com/Zulko/moviepy/issues/1184", "id": 613756173, "node_id": "MDU6SXNzdWU2MTM3NTYxNzM=", "number": 1184, "title": "can't get the example on the mixing clips moviepy documentation to work", "user": {"login": "maikeeb", "id": 62631371, "node_id": "MDQ6VXNlcjYyNjMxMzcx", "avatar_url": "https://avatars.githubusercontent.com/u/62631371?v=4", "gravatar_id": "", "url": "https://api.github.com/users/maikeeb", "html_url": "https://github.com/maikeeb", "followers_url": "https://api.github.com/users/maikeeb/followers", "following_url": "https://api.github.com/users/maikeeb/following{/other_user}", "gists_url": "https://api.github.com/users/maikeeb/gists{/gist_id}", "starred_url": "https://api.github.com/users/maikeeb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/maikeeb/subscriptions", "organizations_url": "https://api.github.com/users/maikeeb/orgs", "repos_url": "https://api.github.com/users/maikeeb/repos", "events_url": "https://api.github.com/users/maikeeb/events{/privacy}", "received_events_url": "https://api.github.com/users/maikeeb/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 2658615185, "node_id": "MDU6TGFiZWwyNjU4NjE1MTg1", "url": "https://api.github.com/repos/Zulko/moviepy/labels/fx", "name": "fx", "color": "bfd4f2", "default": false, "description": "Related to advanced effects applied via clip.fx(), or effects in general."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-05-07T04:01:23Z", "updated_at": "2022-01-14T16:10:50Z", "closed_at": "2022-01-14T16:10:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "\r\n\r\n### Expected Behavior\r\n\r\nthe result is on the website, but it is just the same clip 4 times at the same time and the bottom right one is slightly smaller\r\n\r\n### Actual Behavior\r\n```\r\nMoviepy - Building video my_stack.mp4.\r\nMoviePy - Writing audio in %s\r\nchunk:  42%|\u2588\u2588\u2588\u2588\u258f     | 152/363 [00:19<00:00, 398.10it/s, now=None]\r\n\r\n```\r\n\r\n\r\n### Steps to Reproduce the Problem\r\n\r\n\r\nI copy and pasted the tutorial for mixing clips from [here](https://zulko.github.io/moviepy/getting_started/compositing.html) and it just got stuck on writing the audio\r\n\r\n\r\n```\r\nfrom moviepy.editor import VideoFileClip, clips_array, vfx\r\n\r\nclip1 = VideoFileClip(\"myvideo.mp4\").margin(10)  # add 10px contour\r\nclip2 = clip1.fx(vfx.mirror_x)\r\nclip3 = clip1.fx(vfx.mirror_y)\r\nclip4 = clip1.resize(0.60)  # downsize 60%\r\nfinal_clip = clips_array([[clip1, clip2],\r\n                          [clip3, clip4]])\r\nfinal_clip.resize(width=480).write_videofile(\"my_stack.mp4\")\r\n\r\n```\r\n\r\n\r\n### Specifications\r\n\r\n  - Python Version: 3.7.6\r\n  - Moviepy Version: 1.0.0\r\n  - Platform Name: windows 10\r\n  - Platform Version: 1909\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1184/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1184/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1163", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1163/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1163/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1163/events", "html_url": "https://github.com/Zulko/moviepy/issues/1163", "id": 608059898, "node_id": "MDU6SXNzdWU2MDgwNTk4OTg=", "number": 1163, "title": "TypeError: 'float' object cannot be interpreted as an integer - CompositeVideoClip", "user": {"login": "sahils2410", "id": 6917546, "node_id": "MDQ6VXNlcjY5MTc1NDY=", "avatar_url": "https://avatars.githubusercontent.com/u/6917546?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sahils2410", "html_url": "https://github.com/sahils2410", "followers_url": "https://api.github.com/users/sahils2410/followers", "following_url": "https://api.github.com/users/sahils2410/following{/other_user}", "gists_url": "https://api.github.com/users/sahils2410/gists{/gist_id}", "starred_url": "https://api.github.com/users/sahils2410/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sahils2410/subscriptions", "organizations_url": "https://api.github.com/users/sahils2410/orgs", "repos_url": "https://api.github.com/users/sahils2410/repos", "events_url": "https://api.github.com/users/sahils2410/events{/privacy}", "received_events_url": "https://api.github.com/users/sahils2410/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-04-28T06:28:55Z", "updated_at": "2020-04-28T15:56:58Z", "closed_at": "2020-04-28T15:56:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am trying to composite a '.mp4' video and 'text' using VideoFileClip and TextClip respectively by appending them to a variable 'clip_list'.\r\n\r\nIf I try to print 'clip_list' on console it logs:\r\n\r\n```\r\n[<moviepy.video.io.VideoFileClip.VideoFileClip object at 0x7f3d1da98208>,\r\n <moviepy.video.VideoClip.TextClip object at 0x7f3d20699a20>]\r\n```\r\nNow using CompositeVideoClip on clip_list gives me following error.\r\n\r\n```\r\nTraceback (most recent call last): File \"test.py\", line 155, in <module> scene_composition = CompositeVideoClip(clip_list).set_duration(scenes[i].get('duration')).on_color(size=screensize, color=(0, 0, 0)) File \"/usr/local/lib/python3.7/site-packages/moviepy/video/VideoClip.py\", line 616, in on_color colorclip = ColorClip(size, color=color) File \"/usr/local/lib/python3.7/site-packages/moviepy/video/VideoClip.py\", line 1014, in __init__ ImageClip.__init__(self, np.tile(color, w * h).reshape(shape), File \"<__array_function__ internals>\", line 6, in tile File \"/usr/local/lib/python3.7/site-packages/numpy/lib/shape_base.py\", line 1258, in tile return c.reshape(shape_out) TypeError: 'float' object cannot be interpreted as an integer\r\n```\r\n\r\nAny help here? I am using:\r\n\r\nPython 3.7.3\r\nmoviepy==1.0.2\r\nnumpy==1.18.3", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1163/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1163/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1158", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1158/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1158/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1158/events", "html_url": "https://github.com/Zulko/moviepy/issues/1158", "id": 606045559, "node_id": "MDU6SXNzdWU2MDYwNDU1NTk=", "number": 1158, "title": "RuntimeError: No ffmpeg exe could be found. Install ffmpeg on your system, or set the IMAGEIO_FFMPEG_EXE environment variable.", "user": {"login": "Directory", "id": 26686708, "node_id": "MDQ6VXNlcjI2Njg2NzA4", "avatar_url": "https://avatars.githubusercontent.com/u/26686708?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Directory", "html_url": "https://github.com/Directory", "followers_url": "https://api.github.com/users/Directory/followers", "following_url": "https://api.github.com/users/Directory/following{/other_user}", "gists_url": "https://api.github.com/users/Directory/gists{/gist_id}", "starred_url": "https://api.github.com/users/Directory/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Directory/subscriptions", "organizations_url": "https://api.github.com/users/Directory/orgs", "repos_url": "https://api.github.com/users/Directory/repos", "events_url": "https://api.github.com/users/Directory/events{/privacy}", "received_events_url": "https://api.github.com/users/Directory/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 1866683148, "node_id": "MDU6TGFiZWwxODY2NjgzMTQ4", "url": "https://api.github.com/repos/Zulko/moviepy/labels/lib-FFmpeg", "name": "lib-FFmpeg", "color": "d6b289", "default": false, "description": "Issues pertaining to dependency FFmpeg."}, {"id": 2411349218, "node_id": "MDU6TGFiZWwyNDExMzQ5MjE4", "url": "https://api.github.com/repos/Zulko/moviepy/labels/environment", "name": "environment", "color": "faf9f7", "default": false, "description": "Using moviepy with, or issues possibly stemming from specific OS/platforms/environments."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 20, "created_at": "2020-04-24T05:10:40Z", "updated_at": "2022-11-09T01:02:44Z", "closed_at": "2020-04-25T22:24:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Expected Behavior\r\nnot getting an error\r\n\r\n### Actual Behavior\r\ngetting the error in the title\r\n\r\n### Steps to Reproduce the Problem\r\nbe me and try to run `from moviepy.video.io.ffmpeg_tools import ffmpeg_extract_subclip`\r\n\r\nffmpeg is installed with apt and i can confirm its location in `/usr/bin/`. additionally ive also executed `pip install imageio-ffmpeg` in the python virtual environment and it is installed. ive logged `platform.python_version()` to confirm i was in the 3.8.0 venv.\r\nexecuting a plain interpreter terminal in the venv and trying to import it manually does not resault in an error. only during execution. the execution is in a flask application deployed with gunicorn and nginx. \r\n\r\n### Specifications\r\n\r\n  - Python Version: 3.8.0\r\n  - Moviepy Version: the newest\r\n  - Platform Name: Ubunto server\r\n  - Platform Version: 18.04\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1158/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1158/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1150", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1150/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1150/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1150/events", "html_url": "https://github.com/Zulko/moviepy/issues/1150", "id": 601480463, "node_id": "MDU6SXNzdWU2MDE0ODA0NjM=", "number": 1150, "title": "Writing of CompositeVideoClip hangs/slows to a crawl in drawing.py", "user": {"login": "zamirkhan", "id": 2654175, "node_id": "MDQ6VXNlcjI2NTQxNzU=", "avatar_url": "https://avatars.githubusercontent.com/u/2654175?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zamirkhan", "html_url": "https://github.com/zamirkhan", "followers_url": "https://api.github.com/users/zamirkhan/followers", "following_url": "https://api.github.com/users/zamirkhan/following{/other_user}", "gists_url": "https://api.github.com/users/zamirkhan/gists{/gist_id}", "starred_url": "https://api.github.com/users/zamirkhan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zamirkhan/subscriptions", "organizations_url": "https://api.github.com/users/zamirkhan/orgs", "repos_url": "https://api.github.com/users/zamirkhan/repos", "events_url": "https://api.github.com/users/zamirkhan/events{/privacy}", "received_events_url": "https://api.github.com/users/zamirkhan/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 2095151545, "node_id": "MDU6TGFiZWwyMDk1MTUxNTQ1", "url": "https://api.github.com/repos/Zulko/moviepy/labels/performance", "name": "performance", "color": "b57b4e", "default": false, "description": "Speed/performance of code or individual functionality."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-04-16T21:12:05Z", "updated_at": "2022-01-05T23:56:38Z", "closed_at": "2022-01-05T23:56:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "We use moviepy extensively, writing thousands of clips. I recently ran into one video which caused our system to hang. There is no obvious corruption to the file, but when it is part of a CompositeVideoClip, the writing of that clip never finishes and whenever I kill the process, below is where the stack trace is executing at:\r\n\r\n```\r\n File \"/usr/local/lib/python3.7/site-packages/moviepy/Clip.py\", line 95, in get_frame\r\n    return self.make_frame(t)\r\n  File \"/usr/local/lib/python3.7/site-packages/moviepy/video/compositing/CompositeVideoClip.py\", line 118, in make_frame\r\n    f = c.blit_on(f, t)\r\n  File \"/usr/local/lib/python3.7/site-packages/moviepy/video/VideoClip.py\", line 586, in blit_on\r\n    return blit(img, picture, pos, mask=mask, ismask=self.ismask)\r\n  File \"/usr/local/lib/python3.7/site-packages/moviepy/video/tools/drawing.py\", line 45, in blit\r\n    1.0 * mask * blitted + (1.0 - mask) * blit_region)\r\n```\r\n-->\r\n\r\nI know this video is partly at fault, but any idea what might be going on and how this could be prevented?", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1150/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1150/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1140", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1140/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1140/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1140/events", "html_url": "https://github.com/Zulko/moviepy/issues/1140", "id": 596773733, "node_id": "MDU6SXNzdWU1OTY3NzM3MzM=", "number": 1140, "title": "ColorClip Rotation Bug:  TypeError(\"Cannot handle this data type: %s, %s\" % typekey)  TypeError: Cannot handle this data type:(1, 1, 3) <i8", "user": {"login": "OneWorld-github", "id": 19984261, "node_id": "MDQ6VXNlcjE5OTg0MjYx", "avatar_url": "https://avatars.githubusercontent.com/u/19984261?v=4", "gravatar_id": "", "url": "https://api.github.com/users/OneWorld-github", "html_url": "https://github.com/OneWorld-github", "followers_url": "https://api.github.com/users/OneWorld-github/followers", "following_url": "https://api.github.com/users/OneWorld-github/following{/other_user}", "gists_url": "https://api.github.com/users/OneWorld-github/gists{/gist_id}", "starred_url": "https://api.github.com/users/OneWorld-github/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/OneWorld-github/subscriptions", "organizations_url": "https://api.github.com/users/OneWorld-github/orgs", "repos_url": "https://api.github.com/users/OneWorld-github/repos", "events_url": "https://api.github.com/users/OneWorld-github/events{/privacy}", "received_events_url": "https://api.github.com/users/OneWorld-github/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-04-08T18:30:39Z", "updated_at": "2020-04-14T15:41:47Z", "closed_at": "2020-04-14T15:41:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "Bug when rotating a ColorClip in MoviePy\r\n\r\n```\r\nimport moviepy.editor as mped\r\ncolour_clip = mped.ColorClip((600, 400), color=(255, 100, 0), duration=2)\r\nrotated_colour_clip = colour_clip.rotate(20)\r\nrotated_colour_clip.write_videofile('rotated_colour_clip.mp4, fps=5)\r\n```\r\n\r\n### Expected Behavior\r\nThe expected behaviour is to have a 2 second long video containing this colour clip, but rotated by 20 degrees.  Ideally without a black background (ie with everything else transparent apart from the rotated colour clip)\r\n\r\n### Actual Behavior\r\n\r\n```\r\nTraceback (most recent call last):\r\nMoviePy\\venv\\lib\\site-packages\\PIL\\Image.py\", line 2680, in fromarray\r\n    mode, rawmode = _fromarray_typemap[typekey]\r\nKeyError: ((1, 1, 3), '<i4')\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n rotation_test.py\", line 10, in <module>\r\n rotated_image = colour_clip.rotate(20)\r\n\r\nMoviePy\\venv\\lib\\site-packages\\moviepy\\video\\fx\\rotate.py\", line 71, in rotate\r\n return clip.fl(fl, apply_to=[\"mask\"])\r\n\r\nMoviePy\\venv\\lib\\site-packages\\moviepy\\video\\VideoClip.py\", line 951, in fl\r\n keep_duration=keep_duration)\r\n\r\nMoviePy\\venv\\lib\\site-packages\\moviepy\\Clip.py\", line 138, in fl\r\n newclip = self.set_make_frame(lambda t: fun(self.get_frame, t))\r\n  File \"<decorator-gen-57>\", line 2, in set_make_frame\r\n\r\nMoviePy\\venv\\lib\\site-packages\\moviepy\\decorators.py\", line 14, in outplace\r\n    f(newclip, *a, **k)\r\n\r\nMoviePy\\venv\\lib\\site-packages\\moviepy\\video\\VideoClip.py\", line 673, in set_make_frame\r\n    self.size = self.get_frame(0).shape[:2][::-1]\r\n  File \"<decorator-gen-10>\", line 2, in get_frame\r\n\r\nMoviePy\\venv\\lib\\site-packages\\moviepy\\decorators.py\", line 89, in wrapper\r\n    return f(*new_a, **new_kw)\r\n\r\nMoviePy\\venv\\lib\\site-packages\\moviepy\\Clip.py\", line 95, in get_frame\r\n    return self.make_frame(t)\r\n\r\nMoviePy\\venv\\lib\\site-packages\\moviepy\\Clip.py\", line 138, in <lambda>\r\n    newclip = self.set_make_frame(lambda t: fun(self.get_frame, t))\r\n\r\nMoviePy\\venv\\lib\\site-packages\\moviepy\\video\\fx\\rotate.py\", line 69, in fl\r\n    return pil_rotater(im, a, resample=resample, expand=expand)\r\n\r\nMoviePy\\venv\\lib\\site-packages\\moviepy\\video\\fx\\rotate.py\", line 7, in pil_rotater\r\n    return np.array( Image.fromarray(pic).rotate(angle, expand=expand,\r\n\r\nMoviePy\\venv\\lib\\site-packages\\PIL\\Image.py\", line 2682, in fromarray\r\n    raise TypeError(\"Cannot handle this data type: %s, %s\" % typekey)\r\nTypeError: Cannot handle this data type: (1, 1, 3), <i4  \r\n\r\nProcess finished with exit code 1\r\n```\r\n\r\nps.  This <i4,  is <i8 on a Mac\r\n\r\nPillow tries to convert fromarray to pillow object.  It tries to find the object variable descr which is <i8, in a dictionary, but unfortunately, <i8 doesn't exist there, so it throws this error message.  It seems that ColorClip code that initialises to the ImageClip code is identifying the array as <i8 from somewhere.  However, i can't see where this descr variable is assigned.\r\n\r\nIt would be good if the mask operation worked on ColorClip aswell, so that a black background isn't created upon rotation.  It seems that image_clip.rotate(20).add_mask() does add a black background still.\r\n\r\n### Steps to Reproduce the Problem\r\nCopy and paste the above code into a py file after installing MoviePy 1.0.2\r\nand run the py file.\r\n\r\n### Specifications\r\n  - Python Version: 3.7.3\r\n  - Moviepy Version: 1.0.2\r\n  - Platform Name: Windows and Mac\r\n  - Platform Version: Windows10 and MacOs Mojave 10.14.5", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1140/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1140/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1136", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1136/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1136/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1136/events", "html_url": "https://github.com/Zulko/moviepy/issues/1136", "id": 594756757, "node_id": "MDU6SXNzdWU1OTQ3NTY3NTc=", "number": 1136, "title": "BlockingIOError: [Errno 35] Resource temporarily unavailable", "user": {"login": "bigshirtjonny", "id": 41275306, "node_id": "MDQ6VXNlcjQxMjc1MzA2", "avatar_url": "https://avatars.githubusercontent.com/u/41275306?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bigshirtjonny", "html_url": "https://github.com/bigshirtjonny", "followers_url": "https://api.github.com/users/bigshirtjonny/followers", "following_url": "https://api.github.com/users/bigshirtjonny/following{/other_user}", "gists_url": "https://api.github.com/users/bigshirtjonny/gists{/gist_id}", "starred_url": "https://api.github.com/users/bigshirtjonny/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bigshirtjonny/subscriptions", "organizations_url": "https://api.github.com/users/bigshirtjonny/orgs", "repos_url": "https://api.github.com/users/bigshirtjonny/repos", "events_url": "https://api.github.com/users/bigshirtjonny/events{/privacy}", "received_events_url": "https://api.github.com/users/bigshirtjonny/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 583252675, "node_id": "MDU6TGFiZWw1ODMyNTI2NzU=", "url": "https://api.github.com/repos/Zulko/moviepy/labels/video", "name": "video", "color": "bfd4f2", "default": false, "description": "Related to VideoClip and related classes, or handling of video in general."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-04-06T02:15:57Z", "updated_at": "2022-01-14T16:11:35Z", "closed_at": "2022-01-14T16:11:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "### # Expected Behavior\r\nAll the videos to be working correctly and concatenated. \r\n\r\n### Actual Behavior\r\nI get an error in the for loop, with the write_videofile(). I get this error: `BlockingIOError: [Errno 35] Resource temporarily unavailable`\r\n\r\nI am only trying to concatenate ~5 mp4 files.\r\n\r\n\r\n### Steps to Reproduce the Problem\r\n```\r\n    for count in range(len(videoFileClips)):\r\n        videoFileClips[count] = (VideoFileClip(videoFileClips[count]))\r\n    finalRender = concatenate_videoclips(videoFileClips, method=\"compose\")\r\n    finalRender.write_videofile('/Users/--/Desktop/test/render.mp4', codec='libx264',audio_codec='aac', temp_audiofile='temp-audio.m4a', remove_temp=True)\r\n\r\n```\r\n### Specifications\r\n\r\n  - Python Version: 3.7\r\n  - Moviepy Version: 1.0.0\r\n  - Platform Name: Mac OSX", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1136/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1136/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1134", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1134/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1134/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1134/events", "html_url": "https://github.com/Zulko/moviepy/issues/1134", "id": 594446879, "node_id": "MDU6SXNzdWU1OTQ0NDY4Nzk=", "number": 1134, "title": "video artifacts and audio mismatch", "user": {"login": "maikeeb", "id": 62631371, "node_id": "MDQ6VXNlcjYyNjMxMzcx", "avatar_url": "https://avatars.githubusercontent.com/u/62631371?v=4", "gravatar_id": "", "url": "https://api.github.com/users/maikeeb", "html_url": "https://github.com/maikeeb", "followers_url": "https://api.github.com/users/maikeeb/followers", "following_url": "https://api.github.com/users/maikeeb/following{/other_user}", "gists_url": "https://api.github.com/users/maikeeb/gists{/gist_id}", "starred_url": "https://api.github.com/users/maikeeb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/maikeeb/subscriptions", "organizations_url": "https://api.github.com/users/maikeeb/orgs", "repos_url": "https://api.github.com/users/maikeeb/repos", "events_url": "https://api.github.com/users/maikeeb/events{/privacy}", "received_events_url": "https://api.github.com/users/maikeeb/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2020-04-05T13:07:53Z", "updated_at": "2020-04-06T11:39:55Z", "closed_at": "2020-04-06T11:39:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "The following code opens a folder of videos with a naming convention of:  order# videoname transition(1)/video(0)\r\n\r\nex. 100surfing1\r\n\r\nthen concatenates them all together into one video.\r\n\r\nThis also only keeps adding them until the videos add up to 10 minutes.\r\n```\r\nfrom moviepy.editor import *\r\nimport os\r\nfrom natsort import natsorted\r\nfrom datetime import date\r\n\r\ndef compile(name):\r\n    L = []\r\n\r\n    for root, dirs, files in os.walk(\"../currentVideos\"):\r\n\r\n        # files.sort()\r\n        files = natsorted(files)\r\n        for file in files:\r\n            print(file)\r\n            if os.path.splitext(file)[1] == '.mp4':\r\n                filePath = os.path.join(root, file)\r\n                video = VideoFileClip(filePath)\r\n                L.append(video)\r\n    L.reverse()\r\n    currentVideo = []\r\n    currentVideoLength = 0\r\n    while currentVideoLength <= 600:\r\n        print(\"Clips left from the collection grabbed: \" + str(len(L)/2), \"Current video length from clips currently selected: \", currentVideoLength)\r\n        currentVideo.append(L[0])\r\n        currentVideo.append(L[1])\r\n        L.remove(L[0])\r\n        L.remove(L[0])\r\n        currentVideoLength = 0\r\n        for videoo in currentVideo:\r\n            currentVideoLength += videoo.duration\r\n    final_clip = concatenate_videoclips(currentVideo)\r\n    final_clip.to_videofile(\r\n        \"/home/maiku/Desktop/montage maker/fullVideos/%s.mp4\" % name,\r\n        fps=60, remove_temp=True)\r\n\r\n\r\nif __name__ == '__main__':\r\n    compile(str(date.today()))\r\n```\r\n\r\n### Expected Behavior\r\n\r\nOne big video which is 10 minutes which is made out of transition, video, transition, video....\r\n### Actual Behavior\r\n\r\nIt does make this video but there are video artifacts halfway through and audio is mismatched halfway through.\r\n\r\n### Steps to Reproduce the Problem\r\n You need to have a folder full of videos that at least add up to 10 minutes. And an output folder which stores finished videos.\r\n\r\nIm using mp4's as the videos, if that means anything.\r\n### Specifications\r\n\r\n  - Python Version: 3.7.4\r\n  - Moviepy Version: 1.0.2\r\n  - Platform Name: linux ubuntu\r\n  - Platform Version: 19.10\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1134/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1134/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1131", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1131/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1131/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1131/events", "html_url": "https://github.com/Zulko/moviepy/issues/1131", "id": 594260640, "node_id": "MDU6SXNzdWU1OTQyNjA2NDA=", "number": 1131, "title": "ColorClip's color doesn't default to black", "user": {"login": "mgaitan", "id": 2355719, "node_id": "MDQ6VXNlcjIzNTU3MTk=", "avatar_url": "https://avatars.githubusercontent.com/u/2355719?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mgaitan", "html_url": "https://github.com/mgaitan", "followers_url": "https://api.github.com/users/mgaitan/followers", "following_url": "https://api.github.com/users/mgaitan/following{/other_user}", "gists_url": "https://api.github.com/users/mgaitan/gists{/gist_id}", "starred_url": "https://api.github.com/users/mgaitan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mgaitan/subscriptions", "organizations_url": "https://api.github.com/users/mgaitan/orgs", "repos_url": "https://api.github.com/users/mgaitan/repos", "events_url": "https://api.github.com/users/mgaitan/events{/privacy}", "received_events_url": "https://api.github.com/users/mgaitan/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 542141296, "node_id": "MDU6TGFiZWw1NDIxNDEyOTY=", "url": "https://api.github.com/repos/Zulko/moviepy/labels/good-first-issue", "name": "good-first-issue", "color": "5319e7", "default": false, "description": "Especially suitable for people new to moviepy and/or programming; beginner-friendly."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Zulko/moviepy/milestones/6", "html_url": "https://github.com/Zulko/moviepy/milestone/6", "labels_url": "https://api.github.com/repos/Zulko/moviepy/milestones/6/labels", "id": 5132992, "node_id": "MDk6TWlsZXN0b25lNTEzMjk5Mg==", "number": 6, "title": "Release v2.0.0", "description": "See #1089 for discussion", "creator": {"login": "tburrows13", "id": 22625968, "node_id": "MDQ6VXNlcjIyNjI1OTY4", "avatar_url": "https://avatars.githubusercontent.com/u/22625968?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tburrows13", "html_url": "https://github.com/tburrows13", "followers_url": "https://api.github.com/users/tburrows13/followers", "following_url": "https://api.github.com/users/tburrows13/following{/other_user}", "gists_url": "https://api.github.com/users/tburrows13/gists{/gist_id}", "starred_url": "https://api.github.com/users/tburrows13/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tburrows13/subscriptions", "organizations_url": "https://api.github.com/users/tburrows13/orgs", "repos_url": "https://api.github.com/users/tburrows13/repos", "events_url": "https://api.github.com/users/tburrows13/events{/privacy}", "received_events_url": "https://api.github.com/users/tburrows13/received_events", "type": "User", "site_admin": false}, "open_issues": 17, "closed_issues": 54, "state": "open", "created_at": "2020-02-23T16:34:44Z", "updated_at": "2022-10-10T23:57:57Z", "due_on": null, "closed_at": null}, "comments": 0, "created_at": "2020-04-05T05:05:01Z", "updated_at": "2020-05-07T10:01:48Z", "closed_at": "2020-05-07T10:01:48Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "The docstring says \r\n\r\n> If argument ``ismask`` is False, ``color`` indicates  the color in RGB of the clip (default is black)\r\n\r\nhowever\r\n\r\n```\r\nIn [1]: from moviepy.editor import ColorClip                                                                                                                                                  \r\n\r\nIn [2]: c = ColorClip((10,10), duration=1)                                                                                                                                                    \r\n---------------------------------------------------------------------------\r\nTypeError                                 Traceback (most recent call last)\r\n<ipython-input-2-5c98bac84586> in <module>\r\n----> 1 c = ColorClip((10,10), duration=1)\r\n\r\n~/lab/moviepy/moviepy/video/VideoClip.py in __init__(self, size, color, ismask, duration, col)\r\n   1094                 color = col\r\n   1095         w, h = size\r\n-> 1096         shape = (h, w) if np.isscalar(color) else (h, w, len(color))\r\n   1097         ImageClip.__init__(\r\n   1098             self, np.tile(color, w * h).reshape(shape), ismask=ismask, duration=duration\r\n\r\nTypeError: object of type 'NoneType' has no len()\r\n```", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1131/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1131/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1126", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1126/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1126/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1126/events", "html_url": "https://github.com/Zulko/moviepy/issues/1126", "id": 592131010, "node_id": "MDU6SXNzdWU1OTIxMzEwMTA=", "number": 1126, "title": "Clip rotation does not work for RGBA images in 90 degrees steps", "user": {"login": "GrigoreAlexandru", "id": 25285065, "node_id": "MDQ6VXNlcjI1Mjg1MDY1", "avatar_url": "https://avatars.githubusercontent.com/u/25285065?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GrigoreAlexandru", "html_url": "https://github.com/GrigoreAlexandru", "followers_url": "https://api.github.com/users/GrigoreAlexandru/followers", "following_url": "https://api.github.com/users/GrigoreAlexandru/following{/other_user}", "gists_url": "https://api.github.com/users/GrigoreAlexandru/gists{/gist_id}", "starred_url": "https://api.github.com/users/GrigoreAlexandru/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GrigoreAlexandru/subscriptions", "organizations_url": "https://api.github.com/users/GrigoreAlexandru/orgs", "repos_url": "https://api.github.com/users/GrigoreAlexandru/repos", "events_url": "https://api.github.com/users/GrigoreAlexandru/events{/privacy}", "received_events_url": "https://api.github.com/users/GrigoreAlexandru/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-04-01T18:52:00Z", "updated_at": "2020-10-08T23:19:20Z", "closed_at": "2020-10-08T23:19:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Expected Behavior\r\nclip rotates\r\n\r\n### Actual Behavior\r\nValueError: axes don't match array\r\n\r\n### Steps to Reproduce the Problem\r\n\r\n```\r\nimg = PIL.Image.new(\"RGBA\",(10,10))\r\narray = np.array(img)\r\nclip = ImageClip(array).add_mask().rotate(90)\r\n```\r\n\r\n\r\n### Specifications\r\n\r\n  - Python Version: 3.7\r\n  - Moviepy Version: 1.0.2\r\n  - Platform Name: Windows\r\n  - Platform Version: 10\r\n\r\n### More info\r\n\r\nfrom rotate.py\r\n\r\n```\r\ntranspo = [1,0] if clip.ismask else [1,0,2]\r\n\r\n....        \r\nim = gf(t)\r\n....\r\n        if (a==90) and expand:\r\n            return np.transpose(im, axes=transpo)[::-1]\r\n```\r\nThis happens because gf() returns the frame 2 times, once with the RGB matrix and the other one with the alpha channel matrix.\r\n\r\nSo to fix this you would need a way to find out what matrix you're getting and pass the proper axes to transpose. This is done with the\r\n```\r\ntranspo = [1,0] if clip.ismask else [1,0,2]\r\n```\r\nbut it's weird since the clip is constant and so is .ismask, furthermore, from my findings, ismask returns false even when using clip.add_mask(), not sure what gives.\r\n\r\nOne other way is to use rot90 from numpy instead of transpose which eliminates the need to differentiate between the matrices.\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1126/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1126/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1117", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1117/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1117/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1117/events", "html_url": "https://github.com/Zulko/moviepy/issues/1117", "id": 589909578, "node_id": "MDU6SXNzdWU1ODk5MDk1Nzg=", "number": 1117, "title": "example \"moving_letters.py\" fails when changing color from \"white\" to \"blue\"", "user": {"login": "ghistes", "id": 35006480, "node_id": "MDQ6VXNlcjM1MDA2NDgw", "avatar_url": "https://avatars.githubusercontent.com/u/35006480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghistes", "html_url": "https://github.com/ghistes", "followers_url": "https://api.github.com/users/ghistes/followers", "following_url": "https://api.github.com/users/ghistes/following{/other_user}", "gists_url": "https://api.github.com/users/ghistes/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghistes/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghistes/subscriptions", "organizations_url": "https://api.github.com/users/ghistes/orgs", "repos_url": "https://api.github.com/users/ghistes/repos", "events_url": "https://api.github.com/users/ghistes/events{/privacy}", "received_events_url": "https://api.github.com/users/ghistes/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 1163360583, "node_id": "MDU6TGFiZWwxMTYzMzYwNTgz", "url": "https://api.github.com/repos/Zulko/moviepy/labels/text", "name": "text", "color": "bfd4f2", "default": false, "description": "Issues dealing with TextClip, SubtitlesClip, or handling of text in general."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-03-29T23:22:30Z", "updated_at": "2022-10-03T15:23:53Z", "closed_at": "2022-01-14T16:13:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "The example script \"moving_letters.py\" fails when the text-color is changed from \"white\" to \"blue\".\r\n\r\n### Expected Behavior\r\n\r\nThe video is rendered with blue text.\r\n\r\n### Actual Behavior\r\n\r\nAn exception is thrown:\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"moving_letters.py\", line 70, in <module>\r\n    for funcpos in [vortex, cascade, arrive, vortexout]\r\n  File \"moving_letters.py\", line 70, in <listcomp>\r\n    for funcpos in [vortex, cascade, arrive, vortexout]\r\n  File \"/home/mh/pymods/moviepy/video/compositing/CompositeVideoClip.py\", line 94, in __init__\r\n    self.duration = max(ends)\r\nValueError: max() arg is an empty sequence\r\n```\r\n\r\n### Steps to Reproduce the Problem\r\n\r\nIn moving_letters.py change\r\n\r\n```\r\ntxtClip = TextClip(                                                                                      \r\n    \"Cool effect\", color=\"white\", font=\"Amiri-Bold\", kerning=5, fontsize=100                              \r\n) \r\n```\r\n\r\nto\r\n\r\n```\r\ntxtClip = TextClip(                                                                                      \r\n    \"Cool effect\", color=\"blue\", font=\"Amiri-Bold\", kerning=5, fontsize=100                              \r\n) \r\n```\r\n\r\n\r\n\r\n### Specifications\r\n\r\n  - Python Version: 3.7.2\r\n  - Moviepy Version: 1.0.1\r\n  - Platform Name: Linux\r\n  - Platform Version: Debian testing\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1117/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1117/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1112", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1112/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1112/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1112/events", "html_url": "https://github.com/Zulko/moviepy/issues/1112", "id": 589214956, "node_id": "MDU6SXNzdWU1ODkyMTQ5NTY=", "number": 1112, "title": "NO chinese subtitle", "user": {"login": "micro-helper-ai", "id": 50979817, "node_id": "MDQ6VXNlcjUwOTc5ODE3", "avatar_url": "https://avatars.githubusercontent.com/u/50979817?v=4", "gravatar_id": "", "url": "https://api.github.com/users/micro-helper-ai", "html_url": "https://github.com/micro-helper-ai", "followers_url": "https://api.github.com/users/micro-helper-ai/followers", "following_url": "https://api.github.com/users/micro-helper-ai/following{/other_user}", "gists_url": "https://api.github.com/users/micro-helper-ai/gists{/gist_id}", "starred_url": "https://api.github.com/users/micro-helper-ai/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/micro-helper-ai/subscriptions", "organizations_url": "https://api.github.com/users/micro-helper-ai/orgs", "repos_url": "https://api.github.com/users/micro-helper-ai/repos", "events_url": "https://api.github.com/users/micro-helper-ai/events{/privacy}", "received_events_url": "https://api.github.com/users/micro-helper-ai/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 51698344, "node_id": "MDU6TGFiZWw1MTY5ODM0NA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/question", "name": "question", "color": "ff96d0", "default": true, "description": "Questions regarding functionality, usage"}, {"id": 1866735520, "node_id": "MDU6TGFiZWwxODY2NzM1NTIw", "url": "https://api.github.com/repos/Zulko/moviepy/labels/lib-ImageMagick", "name": "lib-ImageMagick", "color": "d6b289", "default": false, "description": "Issues pertaining to dependency ImageMagick."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-03-27T15:30:52Z", "updated_at": "2023-04-02T12:39:15Z", "closed_at": "2020-04-04T19:45:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,i'am chinese,sorry for my poor english at first\r\nthis is a code to add chinese subtitle,but after i set right font and successful create my video,chinese don't have,it just have \"english letters,Special symbols\uff08ASCII\uff09\"\r\nAfter looking for help form internet,other's chinese problem show \"????\"(I know this mean wrong font,but i had set it right)\r\n\r\nEnvironment:\r\n------------------------------------------------\r\n\r\nversion = ImageMagick-7.0.10-Q16\r\nmoviepy = 1.0.2(I had try 1.0.0 and 1.0.1,but they didn't work)\r\npython = 3.6.4\r\nworking_IDE = spyder (belong to anaconda3)\r\n\r\nnext is my code:\r\n----------------------------------------\r\n\r\n```\r\n# -*- coding: utf-8 -*-\r\n#encoding=utf-8\r\n\"\"\"\r\nCreated on Fri Mar 27 18:13:04 2020\r\n\r\n@author: HPN\r\n\"\"\"\r\n\r\n# Import everything needed to edit video clips\r\nfrom moviepy.editor import *\r\n\r\nscreensize = (1280,720)\r\n\r\n\r\ntxt_clip = TextClip(\"\u4f60\u597dasd123!@#\",font = 'Agency-FB',fontsize=100,color='white')\r\ntxt_clip2 = TextClip(\"\u6211\u7231\u4f60\u4e2d\u56fd\u5927\u82cf\u6253\uff01\uff01\uff01\uff01\uff01123\",font = '\u5e7c\u5706',fontsize=100,color='red')\r\n\r\ntxt_clip = txt_clip.set_pos('center').set_duration(10)\r\ntxt_clip2 = txt_clip2.set_pos('bottom').set_duration(10)\r\ncvc = CompositeVideoClip( [txt_clip.set_pos('center'),txt_clip2],\r\n                        size=screensize)\r\ncvc.write_videofile(\"chinese_no.mp4\",fps = 24)\r\n```\r\n------------------------------------------\r\nnext is my true get:\r\n-------------------------------------\r\n![\u56fe\u7247](https://user-images.githubusercontent.com/50979817/77771830-30805e80-7082-11ea-987d-c7325dddb3a4.png)\r\n--------------------------------------\r\nThank you for your help!!!\r\nThank you for your help!!!\r\nThank you for your help!!!\r\n\uff08In china,important thing need to speak three times\uff09", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1112/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1112/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1111", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1111/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1111/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1111/events", "html_url": "https://github.com/Zulko/moviepy/issues/1111", "id": 588533478, "node_id": "MDU6SXNzdWU1ODg1MzM0Nzg=", "number": 1111, "title": "VideoFileClip object not iterable", "user": {"login": "segalinc", "id": 9353106, "node_id": "MDQ6VXNlcjkzNTMxMDY=", "avatar_url": "https://avatars.githubusercontent.com/u/9353106?v=4", "gravatar_id": "", "url": "https://api.github.com/users/segalinc", "html_url": "https://github.com/segalinc", "followers_url": "https://api.github.com/users/segalinc/followers", "following_url": "https://api.github.com/users/segalinc/following{/other_user}", "gists_url": "https://api.github.com/users/segalinc/gists{/gist_id}", "starred_url": "https://api.github.com/users/segalinc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/segalinc/subscriptions", "organizations_url": "https://api.github.com/users/segalinc/orgs", "repos_url": "https://api.github.com/users/segalinc/repos", "events_url": "https://api.github.com/users/segalinc/events{/privacy}", "received_events_url": "https://api.github.com/users/segalinc/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-03-26T16:01:39Z", "updated_at": "2020-04-27T09:27:51Z", "closed_at": "2020-04-27T09:27:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, \r\n\r\nI am trying to merge side by side  some videos using your repo.\r\n\r\nclips = []\r\nfor v in video_list: clips.append(VideoFileClip(v))\r\nfinal_clip = clips_array(clips)\r\n\r\nbut I get VideoFileClip object not iterable.\r\nI have the latest version of the package.\r\n\r\nIf I run your doc example it works. Not sure what I am doing wrong then", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1111/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1111/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1102", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1102/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1102/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1102/events", "html_url": "https://github.com/Zulko/moviepy/issues/1102", "id": 583476084, "node_id": "MDU6SXNzdWU1ODM0NzYwODQ=", "number": 1102, "title": "audio.write_audiofile just stucks while writing frames", "user": {"login": "ajiteshsingh", "id": 22662498, "node_id": "MDQ6VXNlcjIyNjYyNDk4", "avatar_url": "https://avatars.githubusercontent.com/u/22662498?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ajiteshsingh", "html_url": "https://github.com/ajiteshsingh", "followers_url": "https://api.github.com/users/ajiteshsingh/followers", "following_url": "https://api.github.com/users/ajiteshsingh/following{/other_user}", "gists_url": "https://api.github.com/users/ajiteshsingh/gists{/gist_id}", "starred_url": "https://api.github.com/users/ajiteshsingh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ajiteshsingh/subscriptions", "organizations_url": "https://api.github.com/users/ajiteshsingh/orgs", "repos_url": "https://api.github.com/users/ajiteshsingh/repos", "events_url": "https://api.github.com/users/ajiteshsingh/events{/privacy}", "received_events_url": "https://api.github.com/users/ajiteshsingh/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 583252697, "node_id": "MDU6TGFiZWw1ODMyNTI2OTc=", "url": "https://api.github.com/repos/Zulko/moviepy/labels/audio", "name": "audio", "color": "bfd4f2", "default": false, "description": "Related to AudioClip, or handling of audio in general."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-03-18T05:26:40Z", "updated_at": "2022-01-14T16:16:04Z", "closed_at": "2022-01-14T16:16:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have a videofile for which I am trying to write_audiofile. in ffmpeg_writer.py it just stucks in the for loop after 34%. Doesn't give error just keeps the process open for infinite time and after some time i get too many open files error, because there are many open processes\r\n\r\nI just want to error out whenever such problem occurs. i saw there is no configuration for timing out the write_audiofile. Let me know if there is a workaround for closing the processes opened by ffmpeg_writer.\r\nAlso i have tried video_clip.close(). it doesn't kill the process\r\n\r\nhere is the video file for which it is happening \r\nhttps://invideo-uploads-ap-south-1.s3.ap-south-1.amazonaws.com/Screenrecorder202003162040087215843703161681584506036640.mp4\r\n\r\n![Screenshot 2020-03-17 at 12 03 15 PM](https://user-images.githubusercontent.com/22662498/76928140-9fcdb400-6906-11ea-87de-ce152ac3b157.png)\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1102/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1102/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1099", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1099/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1099/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1099/events", "html_url": "https://github.com/Zulko/moviepy/issues/1099", "id": 580570235, "node_id": "MDU6SXNzdWU1ODA1NzAyMzU=", "number": 1099, "title": "Cannot create TextClip", "user": {"login": "jossiekat", "id": 12046027, "node_id": "MDQ6VXNlcjEyMDQ2MDI3", "avatar_url": "https://avatars.githubusercontent.com/u/12046027?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jossiekat", "html_url": "https://github.com/jossiekat", "followers_url": "https://api.github.com/users/jossiekat/followers", "following_url": "https://api.github.com/users/jossiekat/following{/other_user}", "gists_url": "https://api.github.com/users/jossiekat/gists{/gist_id}", "starred_url": "https://api.github.com/users/jossiekat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jossiekat/subscriptions", "organizations_url": "https://api.github.com/users/jossiekat/orgs", "repos_url": "https://api.github.com/users/jossiekat/repos", "events_url": "https://api.github.com/users/jossiekat/events{/privacy}", "received_events_url": "https://api.github.com/users/jossiekat/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 1163360583, "node_id": "MDU6TGFiZWwxMTYzMzYwNTgz", "url": "https://api.github.com/repos/Zulko/moviepy/labels/text", "name": "text", "color": "bfd4f2", "default": false, "description": "Issues dealing with TextClip, SubtitlesClip, or handling of text in general."}, {"id": 1866735520, "node_id": "MDU6TGFiZWwxODY2NzM1NTIw", "url": "https://api.github.com/repos/Zulko/moviepy/labels/lib-ImageMagick", "name": "lib-ImageMagick", "color": "d6b289", "default": false, "description": "Issues pertaining to dependency ImageMagick."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-03-13T12:28:13Z", "updated_at": "2020-10-02T20:59:32Z", "closed_at": "2020-05-14T19:38:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "I was able to use moviepy with no problems.\r\nI tried to overlay text using textclip and got errors\r\nI have image click installed.\r\n```\r\nfrom moviepy.editor import *\r\n\r\nclip = TextClip(\"Hello !\", fontsize=70, color=\"black\")\r\n\r\n\r\n```\r\n\r\n### Actual Behavior\r\n```\r\nOSError: convert: unable to read font `Courier' @ warning/annotate.c/RenderType/960.\r\nconvert: unable to read font `Courier' @ error/annotate.c/RenderFreetype/1391.\r\nconvert: no images defined `PNG32:/var/folders/6k/5s73_x7s0y3bv81fvrvp3pzc0000gn/T/tmpkp0ue1mo.png' @ error/convert.c/ConvertImageCommand/3282.\r\n```\r\n\r\n\r\nalso:\r\n```\r\nTextClip.list('font') \r\n```\r\nreturns []\r\n\r\n\r\n### Specifications\r\n\r\n  - Python Version:3.7\r\n  - Moviepy Version:1.0.1'\r\n  - Platform Name:mac os catalina\r\n  \r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1099/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1099/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1095", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1095/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1095/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1095/events", "html_url": "https://github.com/Zulko/moviepy/issues/1095", "id": 573378554, "node_id": "MDU6SXNzdWU1NzMzNzg1NTQ=", "number": 1095, "title": "I'm not able to use \"CompositeVideoClip\" with audio set to True ", "user": {"login": "AlanHJH", "id": 33607847, "node_id": "MDQ6VXNlcjMzNjA3ODQ3", "avatar_url": "https://avatars.githubusercontent.com/u/33607847?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AlanHJH", "html_url": "https://github.com/AlanHJH", "followers_url": "https://api.github.com/users/AlanHJH/followers", "following_url": "https://api.github.com/users/AlanHJH/following{/other_user}", "gists_url": "https://api.github.com/users/AlanHJH/gists{/gist_id}", "starred_url": "https://api.github.com/users/AlanHJH/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AlanHJH/subscriptions", "organizations_url": "https://api.github.com/users/AlanHJH/orgs", "repos_url": "https://api.github.com/users/AlanHJH/repos", "events_url": "https://api.github.com/users/AlanHJH/events{/privacy}", "received_events_url": "https://api.github.com/users/AlanHJH/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-02-29T18:35:33Z", "updated_at": "2020-05-07T20:03:58Z", "closed_at": "2020-05-07T20:03:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Hello guys**,\r\n\r\nI'm building a script for automating my video editing process, it essentially gets a number of videos of a folder in this case **\"videosBase\"**, the videos are all **\".mp4\"**  and are numerated like **\"1.mp4, 2.mp4, 3.mp4...\"**, then it puts the videos in order inside the list **\"videos\"**_(this is done in the first **\"while\"**)_, next it puts a background image  on this clips because some of them are smaller than the final video format _(this is done in the first for loop with the function **\"CompositeVideoClip\"**)_ , and finally in the third step it  concatenate all the clips with the background and add the intro    \r\nthe code is below:\r\n```\r\nfrom moviepy.editor import *\r\n\r\ndef faz_videos(inicio, fim):\r\n    counter  = inicio\r\n    videos = []\r\n    print(\"Comecando a listar os videos\")\r\n    while counter <= fim:\r\n        videos.append(VideoFileClip(\"./videosBase/\"+str(counter)+\".mp4\"))\r\n        print(\"listando:\"+str(counter))\r\n        counter = counter + 1\r\n\r\n    videos_com_fundo = []\r\n    print(\"comecando a adicionar os fundos\")\r\n    for clip in videos:\r\n        print(\"add fundo\")\r\n        videos_com_fundo.append(CompositeVideoClip([ImageClip(\"./sources/bgcomcor.png\").resize((720,480)).set_duration(clip.duration).volumex(0), clip.set_position(\"center\")]))\r\n    print(\"finalizado add fundos\")\r\n\r\n    composicao_final = []\r\n    intro = VideoFileClip(\"./intro/intro.mp4\").resize((720,480))\r\n    composicao_final.append(intro)\r\n    print(\"iniciando composicao final\")\r\n    for clip_com_fundo in videos_com_fundo:\r\n        composicao_final.append(clip_com_fundo)\r\n        print(\"compos\")\r\n\r\n    print(\"iniciando concatenate\")\r\n    concatenate(composicao_final).write_videofile(\"new_clip.mp4\",write_logfile=True )\r\n\r\nfaz_videos(1,3)\r\n```\r\nAnd when i compile the program i get this error:\r\n```\r\nMoviepy - Building video new_clip.mp4.\r\nMoviePy - Writing audio in new_clipTEMP_MPY_wvf_snd.mp3\r\nchunk:   7%|\u2588\u2588\u2588\u2588\u2588\u258b                                                                              | 281/4162 [00:00<00:05, 733.87it/s, now=None]Traceback (most recent call last):\r\n  File \"VideoManipulator.py\", line 30, in <module>\r\n    faz_videos(1,3)\r\n  File \"VideoManipulator.py\", line 28, in faz_videos\r\n    concatenate(composicao_final).write_videofile(\"new_clip.mp4\",write_logfile=True )\r\n  File \"</home/alan/.local/lib/python3.7/site-packages/decorator.py:decorator-gen-51>\", line 2, in write_videofile\r\n  File \"/usr/local/lib/python3.7/dist-packages/moviepy/decorators.py\", line 54, in requires_duration\r\n    return f(clip, *a, **k)\r\n  File \"</home/alan/.local/lib/python3.7/site-packages/decorator.py:decorator-gen-50>\", line 2, in write_videofile\r\n  File \"/usr/local/lib/python3.7/dist-packages/moviepy/decorators.py\", line 137, in use_clip_fps_by_default\r\n    return f(clip, *new_a, **new_kw)\r\n  File \"</home/alan/.local/lib/python3.7/site-packages/decorator.py:decorator-gen-49>\", line 2, in write_videofile\r\n  File \"/usr/local/lib/python3.7/dist-packages/moviepy/decorators.py\", line 22, in convert_masks_to_RGB\r\n    return f(clip, *a, **k)\r\n  File \"/usr/local/lib/python3.7/dist-packages/moviepy/video/VideoClip.py\", line 317, in write_videofile\r\n    logger=logger)\r\n  File \"</home/alan/.local/lib/python3.7/site-packages/decorator.py:decorator-gen-73>\", line 2, in write_audiofile\r\n  File \"/usr/local/lib/python3.7/dist-packages/moviepy/decorators.py\", line 54, in requires_duration\r\n    return f(clip, *a, **k)\r\n  File \"/usr/local/lib/python3.7/dist-packages/moviepy/audio/AudioClip.py\", line 209, in write_audiofile\r\n    logger=logger)\r\n  File \"</home/alan/.local/lib/python3.7/site-packages/decorator.py:decorator-gen-70>\", line 2, in ffmpeg_audiowrite\r\n  File \"/usr/local/lib/python3.7/dist-packages/moviepy/decorators.py\", line 54, in requires_duration\r\n    return f(clip, *a, **k)\r\n  File \"/usr/local/lib/python3.7/dist-packages/moviepy/audio/io/ffmpeg_audiowriter.py\", line 169, in ffmpeg_audiowrite\r\n    logger=logger):\r\n  File \"/usr/local/lib/python3.7/dist-packages/moviepy/audio/AudioClip.py\", line 85, in iter_chunks\r\n    fps=fps, buffersize=chunksize)\r\n  File \"</home/alan/.local/lib/python3.7/site-packages/decorator.py:decorator-gen-72>\", line 2, in to_soundarray\r\n  File \"/usr/local/lib/python3.7/dist-packages/moviepy/decorators.py\", line 54, in requires_duration\r\n    return f(clip, *a, **k)\r\n  File \"/usr/local/lib/python3.7/dist-packages/moviepy/audio/AudioClip.py\", line 126, in to_soundarray\r\n    snd_array = self.get_frame(tt)\r\n  File \"</home/alan/.local/lib/python3.7/site-packages/decorator.py:decorator-gen-10>\", line 2, in get_frame\r\n  File \"/usr/local/lib/python3.7/dist-packages/moviepy/decorators.py\", line 89, in wrapper\r\n    return f(*new_a, **new_kw)\r\n  File \"/usr/local/lib/python3.7/dist-packages/moviepy/Clip.py\", line 95, in get_frame\r\n    return self.make_frame(t)\r\n  File \"/usr/local/lib/python3.7/dist-packages/moviepy/audio/AudioClip.py\", line 296, in make_frame\r\n    for c, part in zip(self.clips, played_parts)\r\n  File \"/usr/local/lib/python3.7/dist-packages/moviepy/audio/AudioClip.py\", line 297, in <listcomp>\r\n    if (part is not False)]\r\n  File \"</home/alan/.local/lib/python3.7/site-packages/decorator.py:decorator-gen-10>\", line 2, in get_frame\r\n  File \"/usr/local/lib/python3.7/dist-packages/moviepy/decorators.py\", line 89, in wrapper\r\n    return f(*new_a, **new_kw)\r\n  File \"/usr/local/lib/python3.7/dist-packages/moviepy/Clip.py\", line 95, in get_frame\r\n    return self.make_frame(t)\r\n  File \"/usr/local/lib/python3.7/dist-packages/moviepy/audio/AudioClip.py\", line 296, in make_frame\r\n    for c, part in zip(self.clips, played_parts)\r\n  File \"/usr/local/lib/python3.7/dist-packages/moviepy/audio/AudioClip.py\", line 297, in <listcomp>\r\n    if (part is not False)]\r\n  File \"</home/alan/.local/lib/python3.7/site-packages/decorator.py:decorator-gen-10>\", line 2, in get_frame\r\n  File \"/usr/local/lib/python3.7/dist-packages/moviepy/decorators.py\", line 89, in wrapper\r\n    return f(*new_a, **new_kw)\r\n  File \"/usr/local/lib/python3.7/dist-packages/moviepy/Clip.py\", line 95, in get_frame\r\n    return self.make_frame(t)\r\n  File \"/usr/local/lib/python3.7/dist-packages/moviepy/audio/io/AudioFileClip.py\", line 78, in <lambda>\r\n    self.make_frame = lambda t: self.reader.get_frame(t)\r\n  File \"/usr/local/lib/python3.7/dist-packages/moviepy/audio/io/readers.py\", line 184, in get_frame\r\n    self.buffer_around(fr_max)\r\n  File \"/usr/local/lib/python3.7/dist-packages/moviepy/audio/io/readers.py\", line 238, in buffer_around\r\n    array = self.read_chunk(chunksize)\r\n  File \"/usr/local/lib/python3.7/dist-packages/moviepy/audio/io/readers.py\", line 112, in read_chunk\r\n    s = self.proc.stdout.read(L)\r\nAttributeError: 'NoneType' object has no attribute 'stdout'\r\n```\r\nThe thing is that when i set the audio to \"False\" it works perfectly(with the CompositeVideoClip), it also work perfectly when i don't use the \"CompositeVideoClip\" function(with audio=True), so for example, this case is fine for me:\r\n```\r\nfrom moviepy.editor import *\r\n\r\ndef faz_videos(inicio, fim):\r\n    counter  = inicio\r\n    videos = []\r\n    print(\"Comecando a listar os videos\")\r\n    while counter <= fim:\r\n        videos.append(VideoFileClip(\"./videosBase/\"+str(counter)+\".mp4\"))\r\n        print(\"listando:\"+str(counter))\r\n        counter = counter + 1\r\n\r\n    videos_com_fundo = []\r\n    print(\"comecando a adicionar os fundos\")\r\n    for clip in videos:\r\n        print(\"add fundo\")\r\n        videos_com_fundo.append(clip.set_position(\"center\").resize((720,480)))\r\n    print(\"finalizado add fundos\")\r\n\r\n    composicao_final = []\r\n    intro = VideoFileClip(\"./intro/intro.mp4\").resize((720,480))\r\n    composicao_final.append(intro)\r\n    print(\"iniciando composicao final\")\r\n    for clip_com_fundo in videos_com_fundo:\r\n        composicao_final.append(clip_com_fundo)\r\n        print(\"compos\")\r\n\r\n    print(\"iniciando concatenate\")\r\n    concatenate(composicao_final).write_videofile(\"new_clip.mp4\",write_logfile=True )\r\n\r\nfaz_videos(1,3)\r\n```\r\nand also this case is fine:\r\n```\r\nfrom moviepy.editor import *\r\n\r\ndef faz_videos(inicio, fim):\r\n    counter  = inicio\r\n    videos = []\r\n    print(\"Comecando a listar os videos\")\r\n    while counter <= fim:\r\n        videos.append(VideoFileClip(\"./videosBase/\"+str(counter)+\".mp4\"))\r\n        print(\"listando:\"+str(counter))\r\n        counter = counter + 1\r\n\r\n    videos_com_fundo = []\r\n    print(\"comecando a adicionar os fundos\")\r\n    for clip in videos:\r\n        print(\"add fundo\")\r\n        videos_com_fundo.append(CompositeVideoClip([ImageClip(\"./sources/bgcomcor.png\").resize((720,480)).set_duration(clip.duration).volumex(0), clip.set_position(\"center\")]))\r\n    print(\"finalizado add fundos\")\r\n\r\n    composicao_final = []\r\n    intro = VideoFileClip(\"./intro/intro.mp4\").resize((720,480))\r\n    composicao_final.append(intro)\r\n    print(\"iniciando composicao final\")\r\n    for clip_com_fundo in videos_com_fundo:\r\n        composicao_final.append(clip_com_fundo)\r\n        print(\"compos\")\r\n\r\n    print(\"iniciando concatenate\")\r\n    concatenate(composicao_final).write_videofile(\"new_clip.mp4\",audio=False)\r\n\r\nfaz_videos(1,3)\r\n```\r\nBelow is the log file that is generated(new_clipTEMP_MPY_wvf_snd.mp3.log):\r\n```\r\nffmpeg version 4.1.4-1build2 Copyright (c) 2000-2019 the FFmpeg developers\r\n  built with gcc 9 (Ubuntu 9.2.1-4ubuntu1)\r\n  configuration: --prefix=/usr --extra-version=1build2 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --arch=amd64 --enable-gpl --disable-stripping --enable-avresample --disable-filter=resample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libaom --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libcodec2 --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libjack --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librsvg --enable-librubberband --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvidstab --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-lv2 --enable-omx --enable-openal --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libx264 --enable-shared\r\n  libavutil      56. 22.100 / 56. 22.100\r\n  libavcodec     58. 35.100 / 58. 35.100\r\n  libavformat    58. 20.100 / 58. 20.100\r\n  libavdevice    58.  5.100 / 58.  5.100\r\n  libavfilter     7. 40.101 /  7. 40.101\r\n  libavresample   4.  0.  0 /  4.  0.  0\r\n  libswscale      5.  3.100 /  5.  3.100\r\n  libswresample   3.  3.100 /  3.  3.100\r\n  libpostproc    55.  3.100 / 55.  3.100\r\nGuessed Channel Layout for Input Stream #0.0 : stereo\r\nInput #0, s32le, from 'pipe:':\r\n  Duration: N/A, bitrate: 2822 kb/s\r\n    Stream #0:0: Audio: pcm_s32le, 44100 Hz, stereo, s32, 2822 kb/s\r\nStream mapping:\r\n  Stream #0:0 -> #0:0 (pcm_s32le (native) -> mp3 (libmp3lame))\r\nOutput #0, mp3, to 'new_clipTEMP_MPY_wvf_snd.mp3':\r\n  Metadata:\r\n    TSSE            : Lavf58.20.100\r\n    Stream #0:0: Audio: mp3 (libmp3lame), 44100 Hz, stereo, s32p\r\n    Metadata:\r\n      encoder         : Lavc58.35.100 libmp3lame\r\nsize=     228kB time=00:00:14.52 bitrate= 128.4kbits/s speed=40.9x    \r\nvideo:0kB audio:227kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 0.108676%\r\n```", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1095/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1095/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1093", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1093/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1093/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1093/events", "html_url": "https://github.com/Zulko/moviepy/issues/1093", "id": 569787693, "node_id": "MDU6SXNzdWU1Njk3ODc2OTM=", "number": 1093, "title": "not detecting ImageMagick  with moviepy", "user": {"login": "iPurya", "id": 58905883, "node_id": "MDQ6VXNlcjU4OTA1ODgz", "avatar_url": "https://avatars.githubusercontent.com/u/58905883?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iPurya", "html_url": "https://github.com/iPurya", "followers_url": "https://api.github.com/users/iPurya/followers", "following_url": "https://api.github.com/users/iPurya/following{/other_user}", "gists_url": "https://api.github.com/users/iPurya/gists{/gist_id}", "starred_url": "https://api.github.com/users/iPurya/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iPurya/subscriptions", "organizations_url": "https://api.github.com/users/iPurya/orgs", "repos_url": "https://api.github.com/users/iPurya/repos", "events_url": "https://api.github.com/users/iPurya/events{/privacy}", "received_events_url": "https://api.github.com/users/iPurya/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 1866735520, "node_id": "MDU6TGFiZWwxODY2NzM1NTIw", "url": "https://api.github.com/repos/Zulko/moviepy/labels/lib-ImageMagick", "name": "lib-ImageMagick", "color": "d6b289", "default": false, "description": "Issues pertaining to dependency ImageMagick."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-02-24T11:13:07Z", "updated_at": "2020-10-08T03:11:25Z", "closed_at": "2020-10-08T03:11:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "  - Python Version: 3.6.8\r\n  - Moviepy Version: 1.0.0\r\n  - Platform Name: centos\r\n  - Platform Version: 7\r\n\r\nhi,\r\ni install ImageMagick with :\r\n`yum install ImageMagick`\r\nand installed successfully...\r\n\r\nbuy when i use TextClip in my code i get this error :\r\n\r\nTraceback (most recent call last):\r\n  File \"/root/test/lib/python3.6/site-packages/moviepy/video/VideoClip.py\", line 1161, in __init__\r\n    subprocess_call(cmd, logger=None)\r\n  File \"/root/test/lib/python3.6/site-packages/moviepy/tools.py\", line 54, in subprocess_call\r\n    raise IOError(err.decode('utf8'))\r\nOSError: convert: not authorized `@/tmp/tmpydiqizhm.txt' @ error/constitute.c/ReadImage/454.\r\nconvert: no images defined `PNG32:/tmp/tmpse3vs54o.png' @ error/convert.c/ConvertImageCommand/3046.\r\n\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"test.py\", line 7, in <module>\r\n    txt_clip = ( TextClip(\"My Holidays 2013\")\r\n  File \"/root/test/lib/python3.6/site-packages/moviepy/video/VideoClip.py\", line 1170, in __init__\r\n    raise IOError(error)\r\nOSError: MoviePy Error: creation of None failed because of the following error:\r\n\r\nconvert: not authorized `@/tmp/tmpydiqizhm.txt' @ error/constitute.c/ReadImage/454.\r\nconvert: no images defined `PNG32:/tmp/tmpse3vs54o.png' @ error/convert.c/ConvertImageCommand/3046.\r\n.\r\n\r\n.This error can be due to the fact that ImageMagick is not installed on your computer, or (for Windows users) that you didn't specify the path to the ImageMagick binary in file conf.py, or that the path you specified is incorrect", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1093/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1093/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1078", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1078/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1078/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1078/events", "html_url": "https://github.com/Zulko/moviepy/issues/1078", "id": 562586527, "node_id": "MDU6SXNzdWU1NjI1ODY1Mjc=", "number": 1078, "title": "Maybe a trick hack for the problem of \"OSError: MoviePy error: failed to read the first frame of video file nCoronaVirus.mp4.\" exception.", "user": {"login": "cyberpsyche", "id": 221194, "node_id": "MDQ6VXNlcjIyMTE5NA==", "avatar_url": "https://avatars.githubusercontent.com/u/221194?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cyberpsyche", "html_url": "https://github.com/cyberpsyche", "followers_url": "https://api.github.com/users/cyberpsyche/followers", "following_url": "https://api.github.com/users/cyberpsyche/following{/other_user}", "gists_url": "https://api.github.com/users/cyberpsyche/gists{/gist_id}", "starred_url": "https://api.github.com/users/cyberpsyche/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cyberpsyche/subscriptions", "organizations_url": "https://api.github.com/users/cyberpsyche/orgs", "repos_url": "https://api.github.com/users/cyberpsyche/repos", "events_url": "https://api.github.com/users/cyberpsyche/events{/privacy}", "received_events_url": "https://api.github.com/users/cyberpsyche/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 1866683148, "node_id": "MDU6TGFiZWwxODY2NjgzMTQ4", "url": "https://api.github.com/repos/Zulko/moviepy/labels/lib-FFmpeg", "name": "lib-FFmpeg", "color": "d6b289", "default": false, "description": "Issues pertaining to dependency FFmpeg."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-02-10T14:11:50Z", "updated_at": "2020-06-16T00:20:52Z", "closed_at": "2020-06-15T23:20:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "When I handle some video loop processing that moviepy will raise some kind of exception just like: \r\n\r\n> \"OSError: MoviePy error: failed to read the first frame of video file nCoronaVirus.mp4. That might mean that the file is corrupted. That may also mean that you are using a deprecated version of FFMPEG. On Ubuntu/Debian for instance the version in the repos is deprecated. Please update to a recent version from the website.\" \r\n\r\nAfter I search on the internet I noticed that many people meet the same problem just like me. Even though that the exception message mentioned we should update deprecated version of FFMPEG, the installment of latest version of ffmpeg still cannot resolve the problem. \r\n \r\nSo I looked into the source code of .../lib/python3.7/site-packages/moviepy/video/io/ffmpeg_reader.py and do a maybe-not-so-clean hack, but it does help a lot.\r\n\r\nHere is the hack point, i.e. comment the last two line of the close() funciton:\r\n\r\n```\r\ndef close(self):\r\n        if self.proc:\r\n            self.proc.terminate()\r\n            self.proc.stdout.close()\r\n            self.proc.stderr.close()\r\n            self.proc.wait()\r\n            self.proc = None\r\n        #if hasattr(self, 'lastread'):\r\n        #    del self.lastread \r\n```\r\n\r\nI wonder if there is a better way to resolve this exception problem, I hope to be noticed if any buddy who could patch this code in a better way. And I also hope that the source maintainers could pay some attention to this issue, for it's maybe not really a problem related to ffmpeg but the inner logic of the ffmpeg_reader.py code. \r\n\r\nLooking forward to the update of moviepy source. Thanks the team. ;-)\r\n \r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1078/reactions", "total_count": 8, "+1": 5, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 1, "eyes": 2}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1078/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1073", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1073/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1073/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1073/events", "html_url": "https://github.com/Zulko/moviepy/issues/1073", "id": 559732886, "node_id": "MDU6SXNzdWU1NTk3MzI4ODY=", "number": 1073, "title": "'utf-8' codec can't decode byte 0xb9 in position 1704: invalid start byte", "user": {"login": "CachCheng", "id": 45965578, "node_id": "MDQ6VXNlcjQ1OTY1NTc4", "avatar_url": "https://avatars.githubusercontent.com/u/45965578?v=4", "gravatar_id": "", "url": "https://api.github.com/users/CachCheng", "html_url": "https://github.com/CachCheng", "followers_url": "https://api.github.com/users/CachCheng/followers", "following_url": "https://api.github.com/users/CachCheng/following{/other_user}", "gists_url": "https://api.github.com/users/CachCheng/gists{/gist_id}", "starred_url": "https://api.github.com/users/CachCheng/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/CachCheng/subscriptions", "organizations_url": "https://api.github.com/users/CachCheng/orgs", "repos_url": "https://api.github.com/users/CachCheng/repos", "events_url": "https://api.github.com/users/CachCheng/events{/privacy}", "received_events_url": "https://api.github.com/users/CachCheng/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 1866683148, "node_id": "MDU6TGFiZWwxODY2NjgzMTQ4", "url": "https://api.github.com/repos/Zulko/moviepy/labels/lib-FFmpeg", "name": "lib-FFmpeg", "color": "d6b289", "default": false, "description": "Issues pertaining to dependency FFmpeg."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-02-04T13:51:16Z", "updated_at": "2020-10-07T20:56:34Z", "closed_at": "2020-10-07T20:56:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\r\nFile \"/root/anaconda3/lib/python3.7/site-packages/moviepy/video/io/VideoFileClip.py\", line 91, in __init__\r\n    fps_source=fps_source)\r\n  File \"/root/anaconda3/lib/python3.7/site-packages/moviepy/video/io/ffmpeg_reader.py\", line 33, in __init__\r\n    fps_source)\r\n  File \"/root/anaconda3/lib/python3.7/site-packages/moviepy/video/io/ffmpeg_reader.py\", line 263, in ffmpeg_parse_infos\r\n    infos = error.decode('utf8')\r\nUnicodeDecodeError: 'utf-8' codec can't decode byte 0xb9 in position 1704: invalid start byte\r\n```\r\n\r\nCan you update your code with this error?", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1073/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1073/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1042", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1042/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1042/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1042/events", "html_url": "https://github.com/Zulko/moviepy/issues/1042", "id": 529804827, "node_id": "MDU6SXNzdWU1Mjk4MDQ4Mjc=", "number": 1042, "title": "CompositeVideoClip([xxx]).rotate(90)  ValueError: axes don't match array", "user": {"login": "clotyxf", "id": 7359686, "node_id": "MDQ6VXNlcjczNTk2ODY=", "avatar_url": "https://avatars.githubusercontent.com/u/7359686?v=4", "gravatar_id": "", "url": "https://api.github.com/users/clotyxf", "html_url": "https://github.com/clotyxf", "followers_url": "https://api.github.com/users/clotyxf/followers", "following_url": "https://api.github.com/users/clotyxf/following{/other_user}", "gists_url": "https://api.github.com/users/clotyxf/gists{/gist_id}", "starred_url": "https://api.github.com/users/clotyxf/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/clotyxf/subscriptions", "organizations_url": "https://api.github.com/users/clotyxf/orgs", "repos_url": "https://api.github.com/users/clotyxf/repos", "events_url": "https://api.github.com/users/clotyxf/events{/privacy}", "received_events_url": "https://api.github.com/users/clotyxf/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2019-11-28T09:51:46Z", "updated_at": "2020-10-08T23:18:50Z", "closed_at": "2020-10-08T23:18:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\nThank you for submitting this issue! If you are not reporting a bug, please delete all of the following text.\r\nIf you are reporting a bug, please ensure moviepy is updated to the latest version before submitting, as some bugs may only be present on older versions.\r\n\r\nYou can format code by putting ``` (that's 3 backticks) on a line by itself at the beginning and end of each code block.\r\n-->\r\n### Expected Behavior\r\n\r\n### Specifications\r\n\r\n- Python Version: 3.6.3\r\n- Moviepy Version: 1.0.1\r\n- Platform Name: Centos\r\n- Platform Version: 7.2\r\n\r\n\r\n### Actual Behavior\r\n\r\n```\r\nsize = (640, 320)\r\nfps = 24\r\nbg_clip = mpy.ImageClip(img=image, fromalpha=True)\r\nbg_clip = bg_clip.resize(size).set_duration(d).set_fps(fps )\r\nbg_clip = mpy.CompositeVideoClip([bg_clip])\r\nbg_clip.rotate(90)\r\n```\r\n\r\nValueError: axes don't match array\r\n```\r\nchange the angle to 89.99, is worked.\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1042/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1042/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1031", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1031/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1031/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1031/events", "html_url": "https://github.com/Zulko/moviepy/issues/1031", "id": 514218000, "node_id": "MDU6SXNzdWU1MTQyMTgwMDA=", "number": 1031, "title": "BLANK VIDEO?", "user": {"login": "sarahdays", "id": 57155936, "node_id": "MDQ6VXNlcjU3MTU1OTM2", "avatar_url": "https://avatars.githubusercontent.com/u/57155936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sarahdays", "html_url": "https://github.com/sarahdays", "followers_url": "https://api.github.com/users/sarahdays/followers", "following_url": "https://api.github.com/users/sarahdays/following{/other_user}", "gists_url": "https://api.github.com/users/sarahdays/gists{/gist_id}", "starred_url": "https://api.github.com/users/sarahdays/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sarahdays/subscriptions", "organizations_url": "https://api.github.com/users/sarahdays/orgs", "repos_url": "https://api.github.com/users/sarahdays/repos", "events_url": "https://api.github.com/users/sarahdays/events{/privacy}", "received_events_url": "https://api.github.com/users/sarahdays/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 583252675, "node_id": "MDU6TGFiZWw1ODMyNTI2NzU=", "url": "https://api.github.com/repos/Zulko/moviepy/labels/video", "name": "video", "color": "bfd4f2", "default": false, "description": "Related to VideoClip and related classes, or handling of video in general."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-10-29T20:55:18Z", "updated_at": "2022-10-11T00:49:52Z", "closed_at": "2022-10-11T00:49:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "hi there i'm new to programming. \r\nI had a hard time installing moviepy successfully \r\n\r\nI am trying to make something similar to this: \r\nhttps://zulko.github.io/moviepy/examples/compo_from_image.html\r\n\r\nI modified this source code, but when i output my video, its just a black video. I added print statements and everything runs with no errors. \r\n\r\nThis is my code: \r\n\r\n```\r\nfrom moviepy.editor import *\r\nfrom moviepy.video.tools.segmenting import findObjects\r\n\r\n# Load template\r\nim = ImageClip(\"circletemplate.jpg\")\r\nprint(\"template loaded\")\r\n\r\n# Locate template areas where video will be placed\r\nregions = findObjects(im)\r\nprint(\"regions found\")\r\n\r\n#select video\r\nclips = [VideoFileClip(n,audio=False).subclip(1,9) for n in\r\n        [\"clipa.mp4\",\"clipb.mp4\" , \"clipc.mp4\" , \"clipd.mp4\"]]\r\n\r\nprint(\"clips placed in list\")\r\n\r\n\r\n\r\n\r\n\r\n\r\n# fit each clip into its region\r\ncomp_clips =  [c.resize(r.size).set_mask(r.mask).set_pos(r.screenpos)\r\n                  for c,r in zip(clips,regions)]\r\n\r\n\r\nprint(\"clips are being placed on template\")\r\n\r\ncc = CompositeVideoClip(comp_clips,im.size)\r\ncc.resize((360, 180))\r\nprint(\"video is resized\")\r\n\r\ncc.write_videofile(\"/home/pi/Desktop/video1.mp4\")\r\n```\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1031/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1031/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1025", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1025/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1025/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1025/events", "html_url": "https://github.com/Zulko/moviepy/issues/1025", "id": 501172616, "node_id": "MDU6SXNzdWU1MDExNzI2MTY=", "number": 1025, "title": "AttributeError: 'NoneType' object has no attribute 'get_frame'", "user": {"login": "arianaa30", "id": 5509837, "node_id": "MDQ6VXNlcjU1MDk4Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/5509837?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arianaa30", "html_url": "https://github.com/arianaa30", "followers_url": "https://api.github.com/users/arianaa30/followers", "following_url": "https://api.github.com/users/arianaa30/following{/other_user}", "gists_url": "https://api.github.com/users/arianaa30/gists{/gist_id}", "starred_url": "https://api.github.com/users/arianaa30/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arianaa30/subscriptions", "organizations_url": "https://api.github.com/users/arianaa30/orgs", "repos_url": "https://api.github.com/users/arianaa30/repos", "events_url": "https://api.github.com/users/arianaa30/events{/privacy}", "received_events_url": "https://api.github.com/users/arianaa30/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-10-01T22:11:43Z", "updated_at": "2020-05-07T20:06:20Z", "closed_at": "2020-05-07T20:06:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "MoviePy while effective, sometimes it's very unpredictable and unreliable. Once it runs, next time it fails. I was just running a concat on subvideos, now the same script is failing. I don't recall changing anything. Am I doing anything wrong?!\r\n```\r\n    for i in range(parts):\r\n        cl = VideoFileClip(bestFilename[i])\r\n        start = 0\r\n        end = float(length / parts)\r\n        s = cl.subclip(start, end);\r\n        sub.append(s)\r\n        cl.reader.close()\r\n    final = concatenate([sub[0], sub[1].crossfadein(.5), sub[2].crossfadein(.5), sub[3].crossfadein(.5)], padding=-1, method=\"compose\")\r\n    final.write_videofile(output+filename+\".mp4\",audio=False)\r\n```\r\n\r\n```\r\n    self.make_frame = lambda t: self.reader.get_frame(t)\r\nAttributeError: 'NoneType' object has no attribute 'get_frame'\r\n\r\n```", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1025/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1025/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1019", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/1019/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/1019/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/1019/events", "html_url": "https://github.com/Zulko/moviepy/issues/1019", "id": 500905883, "node_id": "MDU6SXNzdWU1MDA5MDU4ODM=", "number": 1019, "title": "website video examples broken videos", "user": {"login": "chrysmun", "id": 13332500, "node_id": "MDQ6VXNlcjEzMzMyNTAw", "avatar_url": "https://avatars.githubusercontent.com/u/13332500?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chrysmun", "html_url": "https://github.com/chrysmun", "followers_url": "https://api.github.com/users/chrysmun/followers", "following_url": "https://api.github.com/users/chrysmun/following{/other_user}", "gists_url": "https://api.github.com/users/chrysmun/gists{/gist_id}", "starred_url": "https://api.github.com/users/chrysmun/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chrysmun/subscriptions", "organizations_url": "https://api.github.com/users/chrysmun/orgs", "repos_url": "https://api.github.com/users/chrysmun/repos", "events_url": "https://api.github.com/users/chrysmun/events{/privacy}", "received_events_url": "https://api.github.com/users/chrysmun/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 540131892, "node_id": "MDU6TGFiZWw1NDAxMzE4OTI=", "url": "https://api.github.com/repos/Zulko/moviepy/labels/documentation", "name": "documentation", "color": "37d6db", "default": true, "description": "Related to documentation in official project docs or individual docstrings."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-10-01T13:43:32Z", "updated_at": "2019-11-19T14:37:18Z", "closed_at": "2019-10-01T15:34:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\nThank you for submitting this issue! If you are not reporting a bug, please delete all of the following text.\r\nIf you are reporting a bug, please ensure moviepy is updated to the latest version before submitting, as some bugs may only be present on older versions.\r\n\r\nYou can format code by putting ``` (that's 3 backticks) on a line by itself at the beginning and end of each code block.\r\n-->\r\n### Expected Behavior\r\nPlay youtube video.\r\nhttp://zulko.github.io/moviepy/gallery.html\r\n\r\n### Actual Behavior\r\n\r\nAn error occurred. Please try again later. (Playback ID: Ec_KA8lyV4mcKED0)\r\n\r\n\r\n### Steps to Reproduce the Problem\r\n<!-- Please include code that demonstrates this problem so that we can reproduce it. For advice on how to do this, see https://stackoverflow.com/help/mcve -->\r\n\r\n\r\n### Specifications\r\n\r\n  - Python Version: any\r\n  - Moviepy Version:any\r\n  - Platform Name: ubuntu 18\r\n  - Platform Version:18.04\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/1019/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/1019/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/990", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/990/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/990/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/990/events", "html_url": "https://github.com/Zulko/moviepy/issues/990", "id": 473669279, "node_id": "MDU6SXNzdWU0NzM2NjkyNzk=", "number": 990, "title": "Excepcion happens during TextClip transposing", "user": {"login": "dvorotnev", "id": 19532352, "node_id": "MDQ6VXNlcjE5NTMyMzUy", "avatar_url": "https://avatars.githubusercontent.com/u/19532352?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dvorotnev", "html_url": "https://github.com/dvorotnev", "followers_url": "https://api.github.com/users/dvorotnev/followers", "following_url": "https://api.github.com/users/dvorotnev/following{/other_user}", "gists_url": "https://api.github.com/users/dvorotnev/gists{/gist_id}", "starred_url": "https://api.github.com/users/dvorotnev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dvorotnev/subscriptions", "organizations_url": "https://api.github.com/users/dvorotnev/orgs", "repos_url": "https://api.github.com/users/dvorotnev/repos", "events_url": "https://api.github.com/users/dvorotnev/events{/privacy}", "received_events_url": "https://api.github.com/users/dvorotnev/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 1163360583, "node_id": "MDU6TGFiZWwxMTYzMzYwNTgz", "url": "https://api.github.com/repos/Zulko/moviepy/labels/text", "name": "text", "color": "bfd4f2", "default": false, "description": "Issues dealing with TextClip, SubtitlesClip, or handling of text in general."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-07-27T19:18:53Z", "updated_at": "2020-10-08T23:18:32Z", "closed_at": "2020-10-08T23:18:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Actual Behavior\r\n<details>\r\n<summary>Exception traceback </summary>\r\n\r\n```\r\n---------------------------------------------------------------------------\r\nValueError                                Traceback (most recent call last)\r\n<ipython-input-3-5db7c433b1f3> in <module>\r\n----> 1 text_video = text_video.rotate(90)\r\n\r\n~/.local/lib/python3.6/site-packages/moviepy/video/fx/rotate.py in rotate(clip, angle, unit, resample, expand)\r\n     69             return pil_rotater(im, a, resample=resample, expand=expand)\r\n     70 \r\n---> 71     return clip.fl(fl, apply_to=[\"mask\"])\r\n\r\n~/.local/lib/python3.6/site-packages/moviepy/video/VideoClip.py in fl(self, fl, apply_to, keep_duration)\r\n    942         # Therefore the result is not an ImageClip, just a VideoClip.\r\n    943         newclip = VideoClip.fl(self, fl, apply_to=apply_to,\r\n--> 944                                keep_duration=keep_duration)\r\n    945         newclip.__class__ = VideoClip\r\n    946         return newclip\r\n\r\n~/.local/lib/python3.6/site-packages/moviepy/Clip.py in fl(self, fun, apply_to, keep_duration)\r\n    149                 a = getattr(newclip, attr)\r\n    150                 if a is not None:\r\n--> 151                     new_a = a.fl(fun, keep_duration=keep_duration)\r\n    152                     setattr(newclip, attr, new_a)\r\n    153 \r\n\r\n~/.local/lib/python3.6/site-packages/moviepy/video/VideoClip.py in fl(self, fl, apply_to, keep_duration)\r\n    942         # Therefore the result is not an ImageClip, just a VideoClip.\r\n    943         newclip = VideoClip.fl(self, fl, apply_to=apply_to,\r\n--> 944                                keep_duration=keep_duration)\r\n    945         newclip.__class__ = VideoClip\r\n    946         return newclip\r\n\r\n~/.local/lib/python3.6/site-packages/moviepy/Clip.py in fl(self, fun, apply_to, keep_duration)\r\n    136 \r\n    137         #mf = copy(self.make_frame)\r\n--> 138         newclip = self.set_make_frame(lambda t: fun(self.get_frame, t))\r\n    139 \r\n    140         if not keep_duration:\r\n\r\n</home/pacman/.local/lib/python3.6/site-packages/decorator.py:decorator-gen-172> in set_make_frame(self, mf)\r\n\r\n~/.local/lib/python3.6/site-packages/moviepy/decorators.py in outplace(f, clip, *a, **k)\r\n     12     \"\"\" Applies f(clip.copy(), *a, **k) and returns clip.copy()\"\"\"\r\n     13     newclip = clip.copy()\r\n---> 14     f(newclip, *a, **k)\r\n     15     return newclip\r\n     16 \r\n\r\n~/.local/lib/python3.6/site-packages/moviepy/video/VideoClip.py in set_make_frame(self, mf)\r\n    664         \"\"\"\r\n    665         self.make_frame = mf\r\n--> 666         self.size = self.get_frame(0).shape[:2][::-1]\r\n    667 \r\n    668     @outplace\r\n\r\n</home/pacman/.local/lib/python3.6/site-packages/decorator.py:decorator-gen-125> in get_frame(self, t)\r\n\r\n~/.local/lib/python3.6/site-packages/moviepy/decorators.py in wrapper(f, *a, **kw)\r\n     87         new_kw = {k: fun(v) if k in varnames else v\r\n     88                  for (k,v) in kw.items()}\r\n---> 89         return f(*new_a, **new_kw)\r\n     90     return decorator.decorator(wrapper)\r\n     91 \r\n\r\n~/.local/lib/python3.6/site-packages/moviepy/Clip.py in get_frame(self, t)\r\n     93                 return frame\r\n     94         else:\r\n---> 95             return self.make_frame(t)\r\n     96 \r\n     97     def fl(self, fun, apply_to=None, keep_duration=True):\r\n\r\n~/.local/lib/python3.6/site-packages/moviepy/Clip.py in <lambda>(t)\r\n    136 \r\n    137         #mf = copy(self.make_frame)\r\n--> 138         newclip = self.set_make_frame(lambda t: fun(self.get_frame, t))\r\n    139 \r\n    140         if not keep_duration:\r\n\r\n~/.local/lib/python3.6/site-packages/moviepy/video/fx/rotate.py in fl(gf, t)\r\n     57 \r\n     58         if (a==90) and expand:\r\n---> 59             return np.transpose(im, axes=transpo)[::-1]\r\n     60         elif (a==-90) and expand:\r\n     61             return np.transpose(im, axes=transpo)[:,::-1]\r\n\r\n<__array_function__ internals> in transpose(*args, **kwargs)\r\n\r\n~/.local/lib/python3.6/site-packages/numpy/core/fromnumeric.py in transpose(a, axes)\r\n    648 \r\n    649     \"\"\"\r\n--> 650     return _wrapfunc(a, 'transpose', axes)\r\n    651 \r\n    652 \r\n\r\n~/.local/lib/python3.6/site-packages/numpy/core/fromnumeric.py in _wrapfunc(obj, method, *args, **kwds)\r\n     59 \r\n     60     try:\r\n---> 61         return bound(*args, **kwds)\r\n     62     except TypeError:\r\n     63         # A TypeError occurs if the object does have such a method in its\r\n\r\nValueError: axes don't match array\r\n```\r\n</details>\r\n\r\n### Steps to Reproduce the Problem\r\n```\r\nimport moviepy.editor as mp\r\ntext_video = mp.TextClip(\"test\")\r\ntext_video = text_video.rotate(90)\r\n```\r\n\r\n### Specifications\r\n\r\n  - Python Version: 3.6.8\r\n  - Moviepy Version: 1.0.0\r\n  - Platform Name: Ubuntu\r\n  - Platform Version: 18.04\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/990/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/990/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/974", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/974/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/974/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/974/events", "html_url": "https://github.com/Zulko/moviepy/issues/974", "id": 456581716, "node_id": "MDU6SXNzdWU0NTY1ODE3MTY=", "number": 974, "title": "Output video write_videofile is shorter than the input", "user": {"login": "ROZBEH", "id": 10575385, "node_id": "MDQ6VXNlcjEwNTc1Mzg1", "avatar_url": "https://avatars.githubusercontent.com/u/10575385?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ROZBEH", "html_url": "https://github.com/ROZBEH", "followers_url": "https://api.github.com/users/ROZBEH/followers", "following_url": "https://api.github.com/users/ROZBEH/following{/other_user}", "gists_url": "https://api.github.com/users/ROZBEH/gists{/gist_id}", "starred_url": "https://api.github.com/users/ROZBEH/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ROZBEH/subscriptions", "organizations_url": "https://api.github.com/users/ROZBEH/orgs", "repos_url": "https://api.github.com/users/ROZBEH/repos", "events_url": "https://api.github.com/users/ROZBEH/events{/privacy}", "received_events_url": "https://api.github.com/users/ROZBEH/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 583252675, "node_id": "MDU6TGFiZWw1ODMyNTI2NzU=", "url": "https://api.github.com/repos/Zulko/moviepy/labels/video", "name": "video", "color": "bfd4f2", "default": false, "description": "Related to VideoClip and related classes, or handling of video in general."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-06-15T22:30:08Z", "updated_at": "2022-10-11T01:21:39Z", "closed_at": "2022-10-11T01:21:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi there,\r\n\r\nI am trying to edit each frame of a video file and then save it back. For some reason the output video is much shorter than the actual video. Does someone know what could be the cause?\r\n\r\n```\r\ndef processing(input_frame):\r\n    image = input_frame\r\n    gradx = abs_sobel_thresh(image, orient='x', sobel_kernel=ksize, thresh=(20, 100))\r\n    grady = abs_sobel_thresh(image, orient='y', sobel_kernel=ksize, thresh=(20, 100))\r\n    mag_binary = mag_thresh(image, sobel_kernel=ksize, mag_thresh=(30, 100))\r\n    dir_binary = dir_threshold(image, sobel_kernel=ksize, thresh=(0.6, 1.3))\r\n    color_binary = color_channel(image)\r\n    combined_grad = np.zeros_like(dir_binary)\r\n    combined_grad[((gradx == 1) & (grady == 1)) | ((mag_binary == 1) & (dir_binary == 1))] = 1\r\n    combined_binary = np.zeros_like(dir_binary)\r\n    combined_binary[(combined_grad == 1) | (color_binary == 1)] = 1\r\n    combined_binaries.append(combined_binary)\r\n    kernel = np.ones((3,3),np.uint8)\r\n    opening = cv2.morphologyEx(combined_binary, cv2.MORPH_OPEN, kernel)\r\n    opening = cv2.morphologyEx(opening, cv2.MORPH_CLOSE, kernel)\r\n    return opening\r\n\r\n\r\nwrite_output = 'project_video_out.mp4'\r\nclip = VideoFileClip(\"project_video.mp4\")\r\nvideo_clip = clip.fl_image(processing)\r\nvideo_clip.write_videofile(write_output, threads=4, audio = False)\r\n```\r\n\r\n\r\n### Specifications\r\n\r\n  - Python Version: 3.5\r\n  - Moviepy Version: '0.2.3.2'\r\n  - Platform Name: Mac OSX\r\n  - Platform Version: 10.14\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/974/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/974/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/971", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/971/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/971/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/971/events", "html_url": "https://github.com/Zulko/moviepy/issues/971", "id": 454804233, "node_id": "MDU6SXNzdWU0NTQ4MDQyMzM=", "number": 971, "title": "    is_GIF = filename.endswith('.gif')  AttributeError: 'numpy.ndarray' object has no attribute 'endswith'", "user": {"login": "MatthewYounkins", "id": 26656940, "node_id": "MDQ6VXNlcjI2NjU2OTQw", "avatar_url": "https://avatars.githubusercontent.com/u/26656940?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MatthewYounkins", "html_url": "https://github.com/MatthewYounkins", "followers_url": "https://api.github.com/users/MatthewYounkins/followers", "following_url": "https://api.github.com/users/MatthewYounkins/following{/other_user}", "gists_url": "https://api.github.com/users/MatthewYounkins/gists{/gist_id}", "starred_url": "https://api.github.com/users/MatthewYounkins/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MatthewYounkins/subscriptions", "organizations_url": "https://api.github.com/users/MatthewYounkins/orgs", "repos_url": "https://api.github.com/users/MatthewYounkins/repos", "events_url": "https://api.github.com/users/MatthewYounkins/events{/privacy}", "received_events_url": "https://api.github.com/users/MatthewYounkins/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-06-11T17:03:10Z", "updated_at": "2021-01-19T16:37:22Z", "closed_at": "2021-01-19T16:37:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'd like to import the audio of a video, do some processing, and then output a video with a cleaner sound.   Something like:\r\n```\r\n\r\nfileName = 'exampleNoisyVideo.mp4'\r\norigVid = VideoFileClip(fileName)\r\naud = AudioFileClip(fileName)\r\naudioArray = aud.to_soundarray(tt=None, fps=None, quantize=False, nbytes=2)\r\nt = np.linspace(0,aud.duration,audioArray.shape[0])\r\naudioArrayFilt = butter_bandpass_filter(audioArray[:,0],5,120,aud.fps, order = 2)\r\n\r\nnewAudioClip  = AudioFileClip(audioArrayFilt, fps=aud.fps)\r\nnewAudioClip.write_audiofile('newSoundTrack.mp3')\r\n\r\norigVid.write_videoFile('exampleQuieterVideo.mp4',audio = 'newSoundTrack.mp3')\r\n\r\n```\r\n\r\n\r\n\r\n### Expected Behavior\r\nI expect the system to take out the audio, do a quick filtering, and write a new video.  I expected to be able to use an array as the documentation suggests is possible.  \r\n\r\n\r\n### Actual Behavior\r\nFFMPEG is expecting a filename, not an array.  It errors out when it sees a numpy array instead of a filename with an extension:\r\n\r\n\r\n```\r\n  File \"C:\\ProgramData\\Anaconda3\\lib\\site-packages\\moviepy\\video\\io\\ffmpeg_reader.py\", line 244, in ffmpeg_parse_infos\r\n    is_GIF = filename.endswith('.gif')\r\n```\r\n\r\n\r\n### Steps to Reproduce the Problem\r\nFull code, should not-work with any mp4:\r\n\r\n```\r\ndef butter_bandpass(lowcut, highcut, fs, order=5):\r\n    nyq = 0.5 * fs\r\n    low = lowcut / nyq\r\n    high = highcut / nyq\r\n    b, a = butter(order, [low, high], btype='band')\r\n    return b, a\r\n\r\n\r\ndef butter_bandpass_filter(data, lowcut, highcut, fs, order=5):\r\n    b, a = butter_bandpass(lowcut, highcut, fs, order=order)\r\n    y = lfilter(b, a, data)\r\n    return y\r\n\r\nimport numpy as np\r\nfrom   moviepy.editor import VideoFileClip\r\nfrom   moviepy.editor import AudioFileClip\r\nfrom   scipy.signal   import butter, lfilter\r\n\r\nfileName = 'exampleNoisyVideo.mp4'\r\norigVid = VideoFileClip(fileName)\r\naud = AudioFileClip(fileName)\r\naudioArray = aud.to_soundarray(tt=None, fps=None, quantize=False, nbytes=2)\r\nt = np.linspace(0,aud.duration,audioArray.shape[0])\r\naudioArrayFilt = butter_bandpass_filter(audioArray[:,0],5,120,aud.fps, order = 2)\r\n\r\nnewAudioClip  = AudioFileClip(audioArrayFilt, fps=aud.fps)\r\nnewAudioClip.write_audiofile('newSoundTrack.mp3')\r\n\r\norigVid.write_videoFile('outputQuietVideo.mp4',audio = 'newSoundTrack.mp3')\r\n```\r\n\r\n### Specifications\r\n\r\n  - Python Version:  3.7.3\r\n  - Moviepy Version:  Hmm.  I installed with conda, conda lists that as 1.0.0 but that doesn't seem right *at all*.  I installed it very recently, so hopefully 0.2.3.2?  Didn't find a quick way to check this with moviepy.\r\n  - Platform Name/Version:  Same behavior on WIndows 10 and Ubuntu 18.04\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/971/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/971/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/947", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/947/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/947/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/947/events", "html_url": "https://github.com/Zulko/moviepy/issues/947", "id": 435420435, "node_id": "MDU6SXNzdWU0MzU0MjA0MzU=", "number": 947, "title": "Broken Audio When Running write_videofile", "user": {"login": "bananakiu", "id": 22350836, "node_id": "MDQ6VXNlcjIyMzUwODM2", "avatar_url": "https://avatars.githubusercontent.com/u/22350836?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bananakiu", "html_url": "https://github.com/bananakiu", "followers_url": "https://api.github.com/users/bananakiu/followers", "following_url": "https://api.github.com/users/bananakiu/following{/other_user}", "gists_url": "https://api.github.com/users/bananakiu/gists{/gist_id}", "starred_url": "https://api.github.com/users/bananakiu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bananakiu/subscriptions", "organizations_url": "https://api.github.com/users/bananakiu/orgs", "repos_url": "https://api.github.com/users/bananakiu/repos", "events_url": "https://api.github.com/users/bananakiu/events{/privacy}", "received_events_url": "https://api.github.com/users/bananakiu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 583252697, "node_id": "MDU6TGFiZWw1ODMyNTI2OTc=", "url": "https://api.github.com/repos/Zulko/moviepy/labels/audio", "name": "audio", "color": "bfd4f2", "default": false, "description": "Related to AudioClip, or handling of audio in general."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-04-20T17:16:19Z", "updated_at": "2022-01-14T17:05:15Z", "closed_at": "2022-01-14T17:05:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "When I run write_videofile() on a concatenated video flip, there will be times I have a looping audio issue within one of those clips. I have to rerun write_videofile() (and thus overwrite my existing file) to fix the issue. It seems like it's a lottery.", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/947/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/947/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/912", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/912/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/912/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/912/events", "html_url": "https://github.com/Zulko/moviepy/issues/912", "id": 411903607, "node_id": "MDU6SXNzdWU0MTE5MDM2MDc=", "number": 912, "title": "Segmentation Error on VPS", "user": {"login": "zilton7", "id": 38778743, "node_id": "MDQ6VXNlcjM4Nzc4NzQz", "avatar_url": "https://avatars.githubusercontent.com/u/38778743?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zilton7", "html_url": "https://github.com/zilton7", "followers_url": "https://api.github.com/users/zilton7/followers", "following_url": "https://api.github.com/users/zilton7/following{/other_user}", "gists_url": "https://api.github.com/users/zilton7/gists{/gist_id}", "starred_url": "https://api.github.com/users/zilton7/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zilton7/subscriptions", "organizations_url": "https://api.github.com/users/zilton7/orgs", "repos_url": "https://api.github.com/users/zilton7/repos", "events_url": "https://api.github.com/users/zilton7/events{/privacy}", "received_events_url": "https://api.github.com/users/zilton7/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2019-02-19T12:39:04Z", "updated_at": "2019-03-03T10:49:10Z", "closed_at": "2019-03-03T10:48:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hey,\r\nI get segmentation error every time I import moviepy.editor on my ubuntu 16 VPS\r\nany ideas?", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/912/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/912/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/893", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/893/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/893/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/893/events", "html_url": "https://github.com/Zulko/moviepy/issues/893", "id": 392976847, "node_id": "MDU6SXNzdWUzOTI5NzY4NDc=", "number": 893, "title": " tests/test_resourcereleasedemo.py no longer meets its purpose.", "user": {"login": "Julian-O", "id": 945973, "node_id": "MDQ6VXNlcjk0NTk3Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/945973?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Julian-O", "html_url": "https://github.com/Julian-O", "followers_url": "https://api.github.com/users/Julian-O/followers", "following_url": "https://api.github.com/users/Julian-O/following{/other_user}", "gists_url": "https://api.github.com/users/Julian-O/gists{/gist_id}", "starred_url": "https://api.github.com/users/Julian-O/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Julian-O/subscriptions", "organizations_url": "https://api.github.com/users/Julian-O/orgs", "repos_url": "https://api.github.com/users/Julian-O/repos", "events_url": "https://api.github.com/users/Julian-O/events{/privacy}", "received_events_url": "https://api.github.com/users/Julian-O/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 540132314, "node_id": "MDU6TGFiZWw1NDAxMzIzMTQ=", "url": "https://api.github.com/repos/Zulko/moviepy/labels/tests", "name": "tests", "color": "abb0ff", "default": false, "description": "Related to individual tests in the test suite or running the test suite."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-12-20T10:16:41Z", "updated_at": "2022-10-11T01:19:06Z", "closed_at": "2022-10-11T01:19:05Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "This is a mentally tricky one.\r\n\r\nThere used to be a bug: ClipFiles would not clean up processes properly - and on Windows, that could lead to resource issues.\r\n\r\nTo solve that bug, the `close()` call was added.\r\n\r\nTypically, before solving a bug it is a good idea to write a test that demonstrates the bug exists. Hopefully, by the time you are completed fixing the bug, the test will pass - you have proof there is a bug, evidence it has been fixed, and later, evidence that the bug has never returned.\r\n\r\nThe trouble with this bug is that the fix required a change to the API, so there was no way to write one test that achieved that.\r\n\r\nThus ` tests/test_resourcereleasedemo.py` was written. It shows that there is a *need* for the `close()` call, and proper clean up, by NOT calling `close()`, and confirming it fails on Windows machines. \r\n\r\nA second test file demonstrated that *with* `close()` calls, these problems do not occur. The new API is not only necessary but works to solve the resource issues.\r\n\r\nHowever, in a [recent update](https://github.com/Zulko/moviepy/commit/dbc9ab13c022fdcd7ed529d2ea7fab4b4ef329a5#diff-1bf3fbcc0f2f4002704547facf6fab6b), `close()` calls were added. \r\n\r\nThis means the test no longer provides evidence that MoviePy will fail without `close()` calls on Windows machines. \r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/893/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/893/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/849", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/849/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/849/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/849/events", "html_url": "https://github.com/Zulko/moviepy/issues/849", "id": 358303790, "node_id": "MDU6SXNzdWUzNTgzMDM3OTA=", "number": 849, "title": "The length of resulting audio is always double to the duration of the actual clip", "user": {"login": "chfw", "id": 4280312, "node_id": "MDQ6VXNlcjQyODAzMTI=", "avatar_url": "https://avatars.githubusercontent.com/u/4280312?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chfw", "html_url": "https://github.com/chfw", "followers_url": "https://api.github.com/users/chfw/followers", "following_url": "https://api.github.com/users/chfw/following{/other_user}", "gists_url": "https://api.github.com/users/chfw/gists{/gist_id}", "starred_url": "https://api.github.com/users/chfw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chfw/subscriptions", "organizations_url": "https://api.github.com/users/chfw/orgs", "repos_url": "https://api.github.com/users/chfw/repos", "events_url": "https://api.github.com/users/chfw/events{/privacy}", "received_events_url": "https://api.github.com/users/chfw/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 583252697, "node_id": "MDU6TGFiZWw1ODMyNTI2OTc=", "url": "https://api.github.com/repos/Zulko/moviepy/labels/audio", "name": "audio", "color": "bfd4f2", "default": false, "description": "Related to AudioClip, or handling of audio in general."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-09-08T15:17:28Z", "updated_at": "2022-01-14T16:39:11Z", "closed_at": "2022-01-14T16:39:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "    from moviepy.editor import AudioFileClip\r\n    clip = AudioFileClip(\"my_video.webm\")\r\n    clip = clip.subclip(t_start=(0, 2, 0), t_end=(0, 2, 45))\r\n    clip.write_audiofile('my.mp3')\r\n\r\n\r\n[my_video.webm.gz](https://github.com/Zulko/moviepy/files/2363422/my_video.webm.gz)\r\n\r\n\r\n### Expected Behavior\r\n\r\nmy.mp3 is of 45 seconds long\r\n\r\n### Actual Behavior\r\n\r\nmy.mp3 is of 1 minute 30 seconds\r\n\r\n### Steps to Reproduce the Problem\r\n\r\nPlease run above script\r\n\r\n### Specifications\r\n\r\n  - Python Version: python 3.6\r\n  - Moviepy Version: 0.2.3.5\r\n  - Platform Name: macos\r\n  - Platform Version: 10.13.6\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/849/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/849/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/847", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/847/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/847/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/847/events", "html_url": "https://github.com/Zulko/moviepy/issues/847", "id": 357619611, "node_id": "MDU6SXNzdWUzNTc2MTk2MTE=", "number": 847, "title": "frozen seconds in beginning of subclip using ffmpeg_extract_subclip()", "user": {"login": "grszkthfr", "id": 25958195, "node_id": "MDQ6VXNlcjI1OTU4MTk1", "avatar_url": "https://avatars.githubusercontent.com/u/25958195?v=4", "gravatar_id": "", "url": "https://api.github.com/users/grszkthfr", "html_url": "https://github.com/grszkthfr", "followers_url": "https://api.github.com/users/grszkthfr/followers", "following_url": "https://api.github.com/users/grszkthfr/following{/other_user}", "gists_url": "https://api.github.com/users/grszkthfr/gists{/gist_id}", "starred_url": "https://api.github.com/users/grszkthfr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/grszkthfr/subscriptions", "organizations_url": "https://api.github.com/users/grszkthfr/orgs", "repos_url": "https://api.github.com/users/grszkthfr/repos", "events_url": "https://api.github.com/users/grszkthfr/events{/privacy}", "received_events_url": "https://api.github.com/users/grszkthfr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 547814220, "node_id": "MDU6TGFiZWw1NDc4MTQyMjA=", "url": "https://api.github.com/repos/Zulko/moviepy/labels/lib-misc", "name": "lib-misc", "color": "ffdcb5", "default": false, "description": "Issues pertaining to misc. 3rd-party libraries."}, {"id": 583252675, "node_id": "MDU6TGFiZWw1ODMyNTI2NzU=", "url": "https://api.github.com/repos/Zulko/moviepy/labels/video", "name": "video", "color": "bfd4f2", "default": false, "description": "Related to VideoClip and related classes, or handling of video in general."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2018-09-06T11:50:49Z", "updated_at": "2021-05-02T12:44:03Z", "closed_at": "2019-03-05T01:11:46Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hi everyone,\r\n\r\nnot sure if this is a bug, however I have an issue here:\r\n\r\nThe [docs of ffmpeg state](https://trac.ffmpeg.org/wiki/Seeking#Inputseeking), that `-ss` should be specified before `-i`, at least when input seeking. \r\n\r\nBut I think `ffmpeg_extract_subclip()`, specifies it after `-i`. That is at least what causes trouble when I call `ffmpeg_extract_subclip()`\r\n\r\nFor myself:\r\n\r\n```\r\n~\\AppData\\Local\\imageio\\ffmpeg\\ffmpeg-win32-v3.2.4.exe -y -i raw\\pt01c.avi -ss 33.00 -t 40.00 -vcodec copy -acodec copy corridor\\pt01-corridor.avi\r\n```\r\nleads to a frozen video sequence of 2-6 seconds in the beginning of the video with sound playing.\r\n\r\nWhereas \r\n\r\n```\r\nC:\\Users\\jog54yy\\AppData\\Local\\imageio\\ffmpeg\\ffmpeg-win32-v3.2.4.exe -y  -ss 33.00 -i raw\\pt01c.avi  -t 40.00 -vcodec copy -acodec copy corridor\\pt01-corridor.avi\r\n```\r\nworks as expected.\r\n\r\nIs there any thing that I am missing? Is that how it is thought to be? Is there a way to specifiy the order of specification of `-i`and `-ss`?\r\n\r\nEdit: Looks like Issue [#508](https://github.com/Zulko/moviepy/issues/508#issuecomment-344982840) but [this](https://github.com/Zulko/moviepy/pull/579#issuecomment-344982313) did not help.\r\n\r\nBest Jonas\r\n\r\n__________________________________________\r\n\r\nHere's the rest:\r\n\r\n### Expected Behavior\r\n\r\nNo frozen seconds before video starts playing.\r\n\r\n### Actual Behavior\r\n\r\n`ffmpeg_extract_subclip()` produces frozen seconds before video starts playing, sound is good form the beginning. However, couldn't test for synchrony (That is what [other](https://superuser.com/questions/138331/using-ffmpeg-to-cut-up-video) report as well, when specifing it the wrong way).\r\n\r\n### Steps to Reproduce the Problem\r\n see above\r\n\r\n\r\n### Specifications\r\n\r\n  - Python Version: 3.7.0\r\n  - Moviepy Version: 0.2.3.5\r\n  - Platform Name: Windows\r\n  - Platform Version: Windwos 10\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/847/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/847/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/838", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/838/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/838/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/838/events", "html_url": "https://github.com/Zulko/moviepy/issues/838", "id": 347510568, "node_id": "MDU6SXNzdWUzNDc1MTA1Njg=", "number": 838, "title": "ffmpeg_reader has problem getting duration of videos > 100 hours long. ", "user": {"login": "jaic231", "id": 24441992, "node_id": "MDQ6VXNlcjI0NDQxOTky", "avatar_url": "https://avatars.githubusercontent.com/u/24441992?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaic231", "html_url": "https://github.com/jaic231", "followers_url": "https://api.github.com/users/jaic231/followers", "following_url": "https://api.github.com/users/jaic231/following{/other_user}", "gists_url": "https://api.github.com/users/jaic231/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaic231/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaic231/subscriptions", "organizations_url": "https://api.github.com/users/jaic231/orgs", "repos_url": "https://api.github.com/users/jaic231/repos", "events_url": "https://api.github.com/users/jaic231/events{/privacy}", "received_events_url": "https://api.github.com/users/jaic231/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 1866683148, "node_id": "MDU6TGFiZWwxODY2NjgzMTQ4", "url": "https://api.github.com/repos/Zulko/moviepy/labels/lib-FFmpeg", "name": "lib-FFmpeg", "color": "d6b289", "default": false, "description": "Issues pertaining to dependency FFmpeg."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-08-03T19:26:32Z", "updated_at": "2022-10-11T00:16:39Z", "closed_at": "2022-10-11T00:16:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\nThank you for submitting this issue! If you are not reporting a bug, please delete all of the following text.\r\nIf you are reporting a bug, please ensure moviepy is updated to the latest version before submitting, as some bugs may only be present on older versions.\r\n\r\nYou can format code by putting ``` (that's 3 backticks) on a line by itself at the beginning and end of each code block.\r\n-->\r\n### Expected Behavior\r\nWhen making a VideoFileClip object, clip.duration should return the correct duration of the video in seconds. \r\n### Actual Behavior\r\nHowever, if the video is over 100 hours long, the regular expression on line 286 (ffmpeg_reader.py) only reads the last 2 digits of the duration string. \r\n\r\n### Steps to Reproduce the Problem\r\n<!-- Please include code that demonstrates this problem so that we can reproduce it. For advice on how to do this, see https://stackoverflow.com/help/mcve -->\r\n```\r\nfrom moviepy.editor import VideoFileClip\r\nclip = VideoFileClip(some_video)\r\nprint(clip.duration)\r\n# if the duration of the video is > 99:99:99.99 then the duration will be incorrect!\r\n# in order to fix this, simply change line 286 from \r\n# match = re.findall(\"([0-9][0-9]:[0-9][0-9]:[0-9][0-9].[0-9][0-9])\", line)[0]\r\n# to\r\n# match = re.findall(\"([0-9]+:[0-9][0-9]:[0-9][0-9].[0-9][0-9])\", line)[0]\r\n# thanks!\r\n```\r\n\r\n### Specifications\r\n\r\n  - Python Version: 3.6\r\n  - Moviepy Version:0.2.3.5\r\n  - Platform Name: Ubuntu \r\n  - Platform Version: 18.06\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/838/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/838/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/835", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/835/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/835/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/835/events", "html_url": "https://github.com/Zulko/moviepy/issues/835", "id": 344266179, "node_id": "MDU6SXNzdWUzNDQyNjYxNzk=", "number": 835, "title": "get_frame(tstamp) does not return accurate frame seeking", "user": {"login": "gregchu", "id": 1673873, "node_id": "MDQ6VXNlcjE2NzM4NzM=", "avatar_url": "https://avatars.githubusercontent.com/u/1673873?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gregchu", "html_url": "https://github.com/gregchu", "followers_url": "https://api.github.com/users/gregchu/followers", "following_url": "https://api.github.com/users/gregchu/following{/other_user}", "gists_url": "https://api.github.com/users/gregchu/gists{/gist_id}", "starred_url": "https://api.github.com/users/gregchu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gregchu/subscriptions", "organizations_url": "https://api.github.com/users/gregchu/orgs", "repos_url": "https://api.github.com/users/gregchu/repos", "events_url": "https://api.github.com/users/gregchu/events{/privacy}", "received_events_url": "https://api.github.com/users/gregchu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 583252675, "node_id": "MDU6TGFiZWw1ODMyNTI2NzU=", "url": "https://api.github.com/repos/Zulko/moviepy/labels/video", "name": "video", "color": "bfd4f2", "default": false, "description": "Related to VideoClip and related classes, or handling of video in general."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-07-25T02:13:35Z", "updated_at": "2022-10-11T00:22:38Z", "closed_at": "2022-10-11T00:22:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm attempting to use the `get_frame(tstamp)` to seek to a specific frame and am testing the accuracy of the frame seeking. I first iterate over every frame and stop at an arbitrary frame, grab the frame and timestamp, then create a new VideoFileClip obj with the same URL, and use `get_frame` to seek to the previous timestamp. The two frames do not match up exactly. I subtract the two images and measure the pixel value differences.\r\n\r\nOpenCV's video capture has a similar problem (https://github.com/opencv/opencv/issues/9053)\r\n\r\n### Expected Behavior\r\n```\r\nimport sys\r\nimport numpy as np\r\nimport cv2\r\nimport pytest\r\nimport moviepy.editor as mpy\r\n\r\ndef test_frame_seek_moviepy():\r\n    video_url = \"https://s3.amazonaws.com/temp-bug/movie.mp4\"\r\n    arbitrary_frame_nr = 1200\r\n    vid = mpy.VideoFileClip(video_url)\r\n    src_tstamp = 0\r\n    src_frame = None\r\n    for i, (tstamp, frame) in enumerate(vid.iter_frames(with_times=True)):\r\n        if i >= arbitrary_frame_nr:\r\n            src_tstamp = tstamp\r\n            src_frame = frame\r\n            print(\"breaking at tstamp: {}\".format(src_tstamp))\r\n            break\r\n\r\n    vid2 = mpy.VideoFileClip(video_url)\r\n    print(\"measuring against get_frame({})\".format(src_tstamp))\r\n    frame = vid2.get_frame(src_tstamp)\r\n    pixel_diff = np.sum(frame-src_frame)\r\n    print(\"{}==0 ? : {}\".format(pixel_diff, pixel_diff==0))\r\n    #cv2.imshow('src', src_frame) #for debugging\r\n    #cv2.imshow('seek', frame)\r\n    #cv2.waitKey(0)\r\n\r\n```\r\nOutput:\r\n```\r\nbreaking at tstamp: 40.10695187165775\r\nmeasuring against get_frame(40.10695187165775)\r\n0==0 ? : True\r\n```\r\n### Actual Behavior\r\n\r\nOutput:\r\n```\r\nbreaking at tstamp: 40.10695187165775\r\nmeasuring against get_frame(40.10695187165775)\r\n131060698==0 ? : False\r\n```\r\n\r\n### Steps to Reproduce the Problem\r\n\r\nSee above code snippet.\r\n\r\n\r\n### Specifications\r\n\r\n  - Python Version: 3.5\r\n  - Moviepy Version: 0.2.3.5\r\n  - Platform Name: Ubuntu \r\n  - Platform Version: 16.04\r\n  - ffmpeg Version: 2.8.14-0ubuntu0.16.04.1 built with gcc 5.4.0\r\n  - OpenCV Version: 3.3.0-rc\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/835/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/835/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/828", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/828/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/828/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/828/events", "html_url": "https://github.com/Zulko/moviepy/issues/828", "id": 341361185, "node_id": "MDU6SXNzdWUzNDEzNjExODU=", "number": 828, "title": "Unable to rotate ImageClip but able to rotate equivalent VideoFileClip", "user": {"login": "abissellsiders", "id": 32911019, "node_id": "MDQ6VXNlcjMyOTExMDE5", "avatar_url": "https://avatars.githubusercontent.com/u/32911019?v=4", "gravatar_id": "", "url": "https://api.github.com/users/abissellsiders", "html_url": "https://github.com/abissellsiders", "followers_url": "https://api.github.com/users/abissellsiders/followers", "following_url": "https://api.github.com/users/abissellsiders/following{/other_user}", "gists_url": "https://api.github.com/users/abissellsiders/gists{/gist_id}", "starred_url": "https://api.github.com/users/abissellsiders/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/abissellsiders/subscriptions", "organizations_url": "https://api.github.com/users/abissellsiders/orgs", "repos_url": "https://api.github.com/users/abissellsiders/repos", "events_url": "https://api.github.com/users/abissellsiders/events{/privacy}", "received_events_url": "https://api.github.com/users/abissellsiders/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 760686230, "node_id": "MDU6TGFiZWw3NjA2ODYyMzA=", "url": "https://api.github.com/repos/Zulko/moviepy/labels/images", "name": "images", "color": "bfd4f2", "default": false, "description": "Related to ImageClip, or handling of images in general."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Zulko/moviepy/milestones/6", "html_url": "https://github.com/Zulko/moviepy/milestone/6", "labels_url": "https://api.github.com/repos/Zulko/moviepy/milestones/6/labels", "id": 5132992, "node_id": "MDk6TWlsZXN0b25lNTEzMjk5Mg==", "number": 6, "title": "Release v2.0.0", "description": "See #1089 for discussion", "creator": {"login": "tburrows13", "id": 22625968, "node_id": "MDQ6VXNlcjIyNjI1OTY4", "avatar_url": "https://avatars.githubusercontent.com/u/22625968?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tburrows13", "html_url": "https://github.com/tburrows13", "followers_url": "https://api.github.com/users/tburrows13/followers", "following_url": "https://api.github.com/users/tburrows13/following{/other_user}", "gists_url": "https://api.github.com/users/tburrows13/gists{/gist_id}", "starred_url": "https://api.github.com/users/tburrows13/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tburrows13/subscriptions", "organizations_url": "https://api.github.com/users/tburrows13/orgs", "repos_url": "https://api.github.com/users/tburrows13/repos", "events_url": "https://api.github.com/users/tburrows13/events{/privacy}", "received_events_url": "https://api.github.com/users/tburrows13/received_events", "type": "User", "site_admin": false}, "open_issues": 17, "closed_issues": 54, "state": "open", "created_at": "2020-02-23T16:34:44Z", "updated_at": "2022-10-10T23:57:57Z", "due_on": null, "closed_at": null}, "comments": 1, "created_at": "2018-07-15T23:22:06Z", "updated_at": "2020-05-14T20:20:27Z", "closed_at": "2020-05-14T20:20:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Expected Behavior\r\n\r\nI believe that moviepy should be able to rotate an ImageClip. If this is incorrect, I have not seen it mentioned anywhere.\r\n\r\n### Actual Behavior\r\n\r\nmoviepy is unable to rotate an ImageClip but is able to rotate an equivalent mp4 file.\r\n\r\n### Steps to Reproduce the Problem\r\n\r\nIf I import an image as an ImageClip and attempt to rotate it, PIL returns a TypeError:\r\n\r\n```\r\n# does not work\r\n\r\nimport moviepy.editor as mp\r\nclip = mp.ImageClip(\"./temp1.png\")\r\nclip_rotated = clip.set_duration(4).fx(mp.vfx.rotate, lambda t: 90*t, expand = False)\r\nclip_rotated.write_videofile(\"temp1.mp4\", fps = 30)\r\n```\r\n\r\nError code returned:\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"C:\\Users\\theth\\Desktop\\temp.py\", line 5, in <module>\r\n    clip_rotated = clip.set_duration(5).fx(mp.vfx.rotate, lambda t: 90*t, expand = False)\r\n  File \"C:\\Python362\\lib\\site-packages\\moviepy\\Clip.py\", line 215, in fx\r\n    return func(self, *args, **kwargs)\r\n  File \"C:\\Python362\\lib\\site-packages\\moviepy\\video\\fx\\rotate.py\", line 71, in rotate\r\n    return clip.fl(fl, apply_to=[\"mask\"])\r\n  File \"C:\\Python362\\lib\\site-packages\\moviepy\\video\\VideoClip.py\", line 1001, in fl\r\n    keep_duration=keep_duration)\r\n  File \"C:\\Python362\\lib\\site-packages\\moviepy\\Clip.py\", line 136, in fl\r\n    newclip = self.set_make_frame(lambda t: fun(self.get_frame, t))\r\n  File \"<decorator-gen-57>\", line 2, in set_make_frame\r\n  File \"C:\\Python362\\lib\\site-packages\\moviepy\\decorators.py\", line 14, in outplace\r\n    f(newclip, *a, **k)\r\n  File \"C:\\Python362\\lib\\site-packages\\moviepy\\video\\VideoClip.py\", line 694, in set_make_frame\r\n    self.size = self.get_frame(0).shape[:2][::-1]\r\n  File \"<decorator-gen-14>\", line 2, in get_frame\r\n  File \"C:\\Python362\\lib\\site-packages\\moviepy\\decorators.py\", line 89, in wrapper\r\n    return f(*new_a, **new_kw)\r\n  File \"C:\\Python362\\lib\\site-packages\\moviepy\\Clip.py\", line 95, in get_frame\r\n    return self.make_frame(t)\r\n  File \"C:\\Python362\\lib\\site-packages\\moviepy\\Clip.py\", line 136, in <lambda>\r\n    newclip = self.set_make_frame(lambda t: fun(self.get_frame, t))\r\n  File \"C:\\Python362\\lib\\site-packages\\moviepy\\video\\fx\\rotate.py\", line 69, in fl\r\n    return pil_rotater(im, a, resample=resample, expand=expand)\r\n  File \"C:\\Python362\\lib\\site-packages\\moviepy\\video\\fx\\rotate.py\", line 7, in pil_rotater\r\n    return np.array( Image.fromarray(pic).rotate(angle, expand=expand,\r\n  File \"C:\\Python362\\lib\\site-packages\\PIL\\Image.py\", line 2419, in fromarray\r\n    raise TypeError(\"Cannot handle this data type\")\r\nTypeError: Cannot handle this data type\r\n```\r\n\r\nHowever, if I write the image as an mp4 and import that mp4 as the clip, then the rotated clip is produced:\r\n\r\n```\r\n# works\r\n\r\nimport moviepy.editor as mp\r\nimage = mp.ImageClip(\"./temp1.png\").set_duration(1/25)\r\nimage.write_videofile(\"temp2.mp4\", fps = 25)\r\nclip = mp.VideoFileClip(r\"temp2.mp4\")\r\nclip_rotated = clip.set_duration(4).fx(mp.vfx.rotate, lambda t: 90*t, expand = False)\r\nclip_rotated.write_videofile(\"temp3.mp4\", fps = 30)\r\n```\r\n\r\nI have attempted this with multiple image types (PNG, JPG) with and without transparency and have seen the same problem.\r\n\r\n### Specifications\r\n\r\n  - Python Version: Python 3.6.2 (v3.6.2:5fd33b5, Jul  8 2017, 04:14:34) [MSC v.1900 32 bit (Intel)] on win32\r\n  - Moviepy Version: 0.2.3.2\r\n  - Platform Name: Windows 10 Home\r\n  - Platform Version: Version 10.0.16299 Build 16299", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/828/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/828/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/825", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/825/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/825/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/825/events", "html_url": "https://github.com/Zulko/moviepy/issues/825", "id": 338548697, "node_id": "MDU6SXNzdWUzMzg1NDg2OTc=", "number": 825, "title": "Issue regarding findObjects() on the letter 'i'.", "user": {"login": "komjum6", "id": 6501519, "node_id": "MDQ6VXNlcjY1MDE1MTk=", "avatar_url": "https://avatars.githubusercontent.com/u/6501519?v=4", "gravatar_id": "", "url": "https://api.github.com/users/komjum6", "html_url": "https://github.com/komjum6", "followers_url": "https://api.github.com/users/komjum6/followers", "following_url": "https://api.github.com/users/komjum6/following{/other_user}", "gists_url": "https://api.github.com/users/komjum6/gists{/gist_id}", "starred_url": "https://api.github.com/users/komjum6/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/komjum6/subscriptions", "organizations_url": "https://api.github.com/users/komjum6/orgs", "repos_url": "https://api.github.com/users/komjum6/repos", "events_url": "https://api.github.com/users/komjum6/events{/privacy}", "received_events_url": "https://api.github.com/users/komjum6/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 1163360583, "node_id": "MDU6TGFiZWwxMTYzMzYwNTgz", "url": "https://api.github.com/repos/Zulko/moviepy/labels/text", "name": "text", "color": "bfd4f2", "default": false, "description": "Issues dealing with TextClip, SubtitlesClip, or handling of text in general."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-07-05T12:12:48Z", "updated_at": "2022-01-30T14:08:19Z", "closed_at": "2022-01-13T15:39:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Expected Behavior\r\nfindObjects() should have worked on the letter 'i'.\r\n\r\n### Actual Behavior\r\nIt showed nothing or the letters accompanying the letter 'i'.\r\n\r\nMy hypothesis is that it somehow sees the letter 'i' as two objects, which confuses the function.\r\n\r\n### Steps to Reproduce the Problem\r\nUse findObjects() on the letter 'i'.\r\n\r\n### Specifications\r\n\r\n  - Python Version: 3.6.4\r\n  - Moviepy Version: 0.2\r\n  - Platform Name: Windows\r\n  - Platform Version: 10\r\n\r\nEDIT: I found that the letter 'T' in papyrus also doesn't work. Above example used Amiri-Bold.", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/825/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/825/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/823", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/823/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/823/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/823/events", "html_url": "https://github.com/Zulko/moviepy/issues/823", "id": 335203689, "node_id": "MDU6SXNzdWUzMzUyMDM2ODk=", "number": 823, "title": "OSError: [WinError 6] The handle is invalid... concatenating clips", "user": {"login": "hackydunk", "id": 32049838, "node_id": "MDQ6VXNlcjMyMDQ5ODM4", "avatar_url": "https://avatars.githubusercontent.com/u/32049838?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hackydunk", "html_url": "https://github.com/hackydunk", "followers_url": "https://api.github.com/users/hackydunk/followers", "following_url": "https://api.github.com/users/hackydunk/following{/other_user}", "gists_url": "https://api.github.com/users/hackydunk/gists{/gist_id}", "starred_url": "https://api.github.com/users/hackydunk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hackydunk/subscriptions", "organizations_url": "https://api.github.com/users/hackydunk/orgs", "repos_url": "https://api.github.com/users/hackydunk/repos", "events_url": "https://api.github.com/users/hackydunk/events{/privacy}", "received_events_url": "https://api.github.com/users/hackydunk/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 540132033, "node_id": "MDU6TGFiZWw1NDAxMzIwMzM=", "url": "https://api.github.com/repos/Zulko/moviepy/labels/python-version", "name": "python-version", "color": "a189f0", "default": false, "description": "Compatibility issues, behaviour changes,... between different Python versions."}, {"id": 2411349218, "node_id": "MDU6TGFiZWwyNDExMzQ5MjE4", "url": "https://api.github.com/repos/Zulko/moviepy/labels/environment", "name": "environment", "color": "faf9f7", "default": false, "description": "Using moviepy with, or issues possibly stemming from specific OS/platforms/environments."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2018-06-24T19:10:26Z", "updated_at": "2023-01-22T21:10:47Z", "closed_at": "2018-07-05T21:58:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\nThank you for submitting this issue! If you are not reporting a bug, please delete all of the following text.\r\nIf you are reporting a bug, please ensure moviepy is updated to the latest version before submitting, as some bugs may only be present on older versions.\r\n\r\nYou can format code by putting ``` (that's 3 backticks) on a line by itself at the beginning and end of each code block.\r\n-->\r\n### Expected Behavior\r\n\r\nI want to choose clips randomly from a directory and then concatenate them into a compilation.  My code works fine a random number of times before inevitably failing with a WinError 6 seen below.\r\n\r\n\r\n### Actual Behavior\r\n```\r\nTraceback (most recent call last):\r\n  File \"C:/Users/Administrator/PycharmProjects/Snapchat/Compile.py\", line 26, in <module>\r\n    + random.choice(os.listdir('D:\\Snapchat Project\\Good Videos')))\r\n  File \"C:\\Users\\Administrator\\PycharmProjects\\Snapchat\\venv\\lib\\site-packages\\moviepy\\video\\io\\VideoFileClip.py\", line 121, in __init__\r\n    nbytes=audio_nbytes)\r\n  File \"C:\\Users\\Administrator\\PycharmProjects\\Snapchat\\venv\\lib\\site-packages\\moviepy\\audio\\io\\AudioFileClip.py\", line 72, in __init__\r\n    buffersize=buffersize)\r\n  File \"C:\\Users\\Administrator\\PycharmProjects\\Snapchat\\venv\\lib\\site-packages\\moviepy\\audio\\io\\readers.py\", line 50, in __init__\r\n    infos = ffmpeg_parse_infos(filename)\r\n  File \"C:\\Users\\Administrator\\PycharmProjects\\Snapchat\\venv\\lib\\site-packages\\moviepy\\video\\io\\ffmpeg_reader.py\", line 256, in ffmpeg_parse_infos\r\n    proc = sp.Popen(cmd, **popen_params)\r\n  File \"C:\\Program Files (x86)\\Python36-32\\lib\\subprocess.py\", line 596, in __init__\r\n    _cleanup()\r\n  File \"C:\\Program Files (x86)\\Python36-32\\lib\\subprocess.py\", line 205, in _cleanup\r\n    res = inst._internal_poll(_deadstate=sys.maxsize)\r\n  File \"C:\\Program Files (x86)\\Python36-32\\lib\\subprocess.py\", line 1035, in _internal_poll\r\n    if _WaitForSingleObject(self._handle, 0) == _WAIT_OBJECT_0:\r\nOSError: [WinError 6] The handle is invalid\r\n```\r\n\r\n### Steps to Reproduce the Problem\r\n\r\n```\r\nfrom moviepy.editor import *\r\nimport os\r\nimport random\r\n\r\n\r\ndirectory = r'D:\\Snapchat Project\\Compilations\\\\'\r\n\r\nfor root, dirs, files in os.walk(directory):\r\n    existing_videos = len(files)\r\n\r\n\r\nnumber_of_videos = 50\r\nduration = 0\r\nintro = VideoFileClip('D:\\Snapchat Project\\intro.mp4')\r\nclips = [intro]\r\nfinal_duration = random.randint(300, 500)\r\nnumber = 0\r\n\r\nfor video in range(existing_videos + 1, existing_videos + number_of_videos):\r\n\r\n    while duration < final_duration:\r\n\r\n        print('D:\\Snapchat Project\\Good Videos\\\\'\r\n              + random.choice(os.listdir('D:\\Snapchat Project\\Good Videos')))\r\n        clip = VideoFileClip('D:\\Snapchat Project\\Good Videos\\\\'\r\n                             + random.choice(os.listdir('D:\\Snapchat Project\\Good Videos')))\r\n\r\n        if (clip.duration < 11) and (clip.duration > 4):\r\n\r\n            clip = clip.resize(width=360, height=640)\r\n            clips.append(clip)\r\n            duration = duration + clip.duration\r\n\r\n        else:\r\n\r\n            continue\r\n\r\n    clips.append(intro)\r\n\r\n    final_clip = concatenate_videoclips(clips)\r\n    final_clip.write_videofile('D:\\Snapchat Project\\Compilations\\Comp ' + str(video) + '.mp4', fps=25)\r\n\r\n    duration = 0\r\n    clips = [intro]\r\n```\r\n\r\n### Specifications\r\n\r\n  - Python Version: 3.6\r\n  - Moviepy Version: 0.2.3.5\r\n  - Platform Name: Windows\r\n  - Platform Version: Server 2012\r\n\r\nI'm using PyCharm for development\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/823/reactions", "total_count": 4, "+1": 4, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/823/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/817", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/817/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/817/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/817/events", "html_url": "https://github.com/Zulko/moviepy/issues/817", "id": 332641791, "node_id": "MDU6SXNzdWUzMzI2NDE3OTE=", "number": 817, "title": "Simple ImageClip Produces File With Incorrect Duration", "user": {"login": "JohnTravolski", "id": 36255053, "node_id": "MDQ6VXNlcjM2MjU1MDUz", "avatar_url": "https://avatars.githubusercontent.com/u/36255053?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JohnTravolski", "html_url": "https://github.com/JohnTravolski", "followers_url": "https://api.github.com/users/JohnTravolski/followers", "following_url": "https://api.github.com/users/JohnTravolski/following{/other_user}", "gists_url": "https://api.github.com/users/JohnTravolski/gists{/gist_id}", "starred_url": "https://api.github.com/users/JohnTravolski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JohnTravolski/subscriptions", "organizations_url": "https://api.github.com/users/JohnTravolski/orgs", "repos_url": "https://api.github.com/users/JohnTravolski/repos", "events_url": "https://api.github.com/users/JohnTravolski/events{/privacy}", "received_events_url": "https://api.github.com/users/JohnTravolski/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 760686230, "node_id": "MDU6TGFiZWw3NjA2ODYyMzA=", "url": "https://api.github.com/repos/Zulko/moviepy/labels/images", "name": "images", "color": "bfd4f2", "default": false, "description": "Related to ImageClip, or handling of images in general."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-06-15T04:20:36Z", "updated_at": "2022-10-11T00:18:42Z", "closed_at": "2022-10-11T00:18:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm very new to moviepy, so please let me know if I'm doing something wrong, but observe the following example:\r\n\r\n```\r\nfrom moviepy.video.VideoClip import ImageClip\r\n\r\nmyclip = ImageClip(\"testing.jpg\")\r\nmyclip = myclip.set_fps(10)\r\nmyclip = myclip.set_duration(10)\r\nmyclip.write_videofile(\"movie.mp4\")\r\n\r\n```\r\nFor some reason, the output file is missing exactly two frames, and I'm not sure why.  Instead of it containing 100 frames like it should, it only contains 98 (I was able to check this using Premiere Pro and After Effects).  If I change the duration to 1, it only contains 8 frames instead of 10.  Why is this?  What's going wrong here?\r\n\r\nI'm running on Python 3.6.4 and moviepy 0.2.3.5.", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/817/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/817/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/814", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/814/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/814/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/814/events", "html_url": "https://github.com/Zulko/moviepy/issues/814", "id": 331173793, "node_id": "MDU6SXNzdWUzMzExNzM3OTM=", "number": 814, "title": "Bad clip duration after adding overlay text to the video file.", "user": {"login": "heliplasticfish", "id": 40170315, "node_id": "MDQ6VXNlcjQwMTcwMzE1", "avatar_url": "https://avatars.githubusercontent.com/u/40170315?v=4", "gravatar_id": "", "url": "https://api.github.com/users/heliplasticfish", "html_url": "https://github.com/heliplasticfish", "followers_url": "https://api.github.com/users/heliplasticfish/followers", "following_url": "https://api.github.com/users/heliplasticfish/following{/other_user}", "gists_url": "https://api.github.com/users/heliplasticfish/gists{/gist_id}", "starred_url": "https://api.github.com/users/heliplasticfish/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/heliplasticfish/subscriptions", "organizations_url": "https://api.github.com/users/heliplasticfish/orgs", "repos_url": "https://api.github.com/users/heliplasticfish/repos", "events_url": "https://api.github.com/users/heliplasticfish/events{/privacy}", "received_events_url": "https://api.github.com/users/heliplasticfish/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 1163360583, "node_id": "MDU6TGFiZWwxMTYzMzYwNTgz", "url": "https://api.github.com/repos/Zulko/moviepy/labels/text", "name": "text", "color": "bfd4f2", "default": false, "description": "Issues dealing with TextClip, SubtitlesClip, or handling of text in general."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-06-11T12:45:16Z", "updated_at": "2022-10-11T00:16:10Z", "closed_at": "2022-10-11T00:16:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\nBad clip duration after adding overlay text to the video file.\r\n-->\r\n### Bad clip duration after adding overlay text to the video file.\r\nHello, I have a problem. After adding text to video files, the length of the shots is change. Please advise how to reach the original length. I'm processing source video files from the quickTime - h264.\r\n\"\"\"\r\n \r\n    import glob\r\n    from moviepy.editor import *\r\n    \r\n    \r\n    class OverlayTest():\r\n        def __init__(self):\r\n            self.sourceMovePath = \"e:/Bordel/999_TestLubos/SB999_10_TestLubos_01LR\"# some folder with quicktime video file\r\n    \r\n            allVideoFile = glob.glob1(self.sourceMovePath, \"*.mov\")\r\n            allVideoFullPath = [os.path.join(self.sourceMovePath, i) for i in allVideoFile]\r\n            self.time_sorted_list = sorted(allVideoFullPath, key=os.path.getmtime)\r\n    \r\n    \r\n        def printLenghtClip(self):\r\n    \r\n            for testVideo in self.time_sorted_list:\r\n                videoFile = VideoFileClip(testVideo)\r\n                print('Name videoFile is: %s    length: %s     fps: %s' % (testVideo, videoFile.duration, videoFile.fps))\r\n    \r\n        def overlayText(self):\r\n    \r\n            for testVideo in self.time_sorted_list:\r\n                videoFile = VideoFileClip(testVideo)\r\n    \r\n                lengthClip = videoFile.duration\r\n                print(lengthClip)\r\n    \r\n    \r\n    \r\n                textAll = TextClip(('ShotName/FileName/SeqName'), font='Arial', fontsize=30, color='black').set_position('center')\r\n                txtAllPos = textAll.set_pos((0.010, 0.01), relative=True)\r\n    \r\n                final = CompositeVideoClip([videoFile, txtAllPos])\r\n                fpsVideo = final.fps\r\n    \r\n                nameVideo = str(testVideo.split(\"scene-\")[-1])\r\n                length = videoFile.duration\r\n                final.duration = videoFile.duration\r\n    \r\n                try:\r\n                    final.write_videofile('%s/newQT-%s' % (self.sourceMovePath, nameVideo), fps=fpsVideo, codec='libx264')\r\n                except:\r\n                    pass\r\n    \r\n    \r\n    if __name__ == '__main__':\r\n        overlayTest = OverlayTest()\r\n        #overlayTest.overlayText()          # write overlay text\r\n        overlayTest.printLenghtClip()       # show length video file\r\n### Actual Behavior\r\nBad clip duration\r\nafter adding overlay text to the text, the resulting clip duration is different from the source video\r\n### Result python code:\r\nsource video file version:\r\n001_scene-06Neplod-01.mov    length: 8.08     fps: 24.0\r\n002_scene-06Neplod-02.mov    length: 3.92     fps: 24.0\r\n003_scene-06Neplod-03.mov    length: 7.83     fps: 24.0\r\n004_scene-06Neplod-04.mov    length: 2.38     fps: 24.0\r\n\r\nAfter text overlay is new version quicktime video file longer:\r\nnewQT-06Neplod-01.mov    length: 8.13     fps: 24.0\r\nnewQT-06Neplod-02.mov    length: 3.97     fps: 24.0\r\nnewQT-06Neplod-03.mov    length: 7.86     fps: 24.0\r\nnewQT-06Neplod-04.mov    length: 2.43     fps: 24.0\r\n\r\n\r\n### Specifications\r\n\r\n  - Python Version: 2.7\r\n  - Moviepy Version: \r\n  - Platform Name: windows\r\n  - Platform Version: win 10\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/814/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/814/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/805", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/805/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/805/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/805/events", "html_url": "https://github.com/Zulko/moviepy/issues/805", "id": 327736261, "node_id": "MDU6SXNzdWUzMjc3MzYyNjE=", "number": 805, "title": "Looping an image sequence create noise.", "user": {"login": "anandkpandey1", "id": 19283798, "node_id": "MDQ6VXNlcjE5MjgzNzk4", "avatar_url": "https://avatars.githubusercontent.com/u/19283798?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anandkpandey1", "html_url": "https://github.com/anandkpandey1", "followers_url": "https://api.github.com/users/anandkpandey1/followers", "following_url": "https://api.github.com/users/anandkpandey1/following{/other_user}", "gists_url": "https://api.github.com/users/anandkpandey1/gists{/gist_id}", "starred_url": "https://api.github.com/users/anandkpandey1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anandkpandey1/subscriptions", "organizations_url": "https://api.github.com/users/anandkpandey1/orgs", "repos_url": "https://api.github.com/users/anandkpandey1/repos", "events_url": "https://api.github.com/users/anandkpandey1/events{/privacy}", "received_events_url": "https://api.github.com/users/anandkpandey1/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 760686230, "node_id": "MDU6TGFiZWw3NjA2ODYyMzA=", "url": "https://api.github.com/repos/Zulko/moviepy/labels/images", "name": "images", "color": "bfd4f2", "default": false, "description": "Related to ImageClip, or handling of images in general."}, {"id": 2658615185, "node_id": "MDU6TGFiZWwyNjU4NjE1MTg1", "url": "https://api.github.com/repos/Zulko/moviepy/labels/fx", "name": "fx", "color": "bfd4f2", "default": false, "description": "Related to advanced effects applied via clip.fx(), or effects in general."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-05-30T13:40:58Z", "updated_at": "2022-01-14T17:09:34Z", "closed_at": "2022-01-14T17:09:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nI wrote a simple programme to create an image sequence from a set of 50 images (PNG with transparent Background) from a folder named \"Teaching\" and then loop it, the programme works without any error, but the video generated out of it has a lot of noise after the first iteration.\r\n\r\nThe first iteration of loop works perfectly fine, as it goes on to the second loop the image gets noisy and start leaving trails.\r\n\r\n\r\nCode\r\n============================\r\nfrom moviepy.editor import *\r\nimport moviepy.video.fx.all as vfx\r\n\r\nimages_list=\"Teaching\"\r\nnewclip = ImageSequenceClip(images_list, fps=30, load_images=True)\r\nclip1 = newclip.fx(vfx.loop, duration=10)\r\n\r\nclip2 = ImageClip(\"BG.jpg\")\r\nclip2 = clip2.set_duration(10)\r\nvideo = CompositeVideoClip([clip1, clip2])\r\nvideo.write_videofile(\"output.webm\")\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/805/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/805/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/800", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/800/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/800/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/800/events", "html_url": "https://github.com/Zulko/moviepy/issues/800", "id": 325173337, "node_id": "MDU6SXNzdWUzMjUxNzMzMzc=", "number": 800, "title": "ffmpeg infos crash on non utf8 data", "user": {"login": "alexzach", "id": 29688239, "node_id": "MDQ6VXNlcjI5Njg4MjM5", "avatar_url": "https://avatars.githubusercontent.com/u/29688239?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexzach", "html_url": "https://github.com/alexzach", "followers_url": "https://api.github.com/users/alexzach/followers", "following_url": "https://api.github.com/users/alexzach/following{/other_user}", "gists_url": "https://api.github.com/users/alexzach/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexzach/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexzach/subscriptions", "organizations_url": "https://api.github.com/users/alexzach/orgs", "repos_url": "https://api.github.com/users/alexzach/repos", "events_url": "https://api.github.com/users/alexzach/events{/privacy}", "received_events_url": "https://api.github.com/users/alexzach/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 547814220, "node_id": "MDU6TGFiZWw1NDc4MTQyMjA=", "url": "https://api.github.com/repos/Zulko/moviepy/labels/lib-misc", "name": "lib-misc", "color": "ffdcb5", "default": false, "description": "Issues pertaining to misc. 3rd-party libraries."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-05-22T07:35:21Z", "updated_at": "2021-01-19T16:36:35Z", "closed_at": "2021-01-19T16:36:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "I got some files that crashes on ffmpeg_reader trying to decode the infos as 'utf8'.\r\nAdding \r\n```\r\n    infos = proc.stderr.read()\r\n    try:\r\n        infos = infos.decode('utf8')\r\n    except:\r\n        infos = infos.decode('latin-1')\r\n```\r\nsolved it for me.", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/800/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/800/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/772", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/772/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/772/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/772/events", "html_url": "https://github.com/Zulko/moviepy/issues/772", "id": 316149003, "node_id": "MDU6SXNzdWUzMTYxNDkwMDM=", "number": 772, "title": "subclip: runtime error when audio frame is completely missing", "user": {"login": "aliyilmazz", "id": 11660658, "node_id": "MDQ6VXNlcjExNjYwNjU4", "avatar_url": "https://avatars.githubusercontent.com/u/11660658?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aliyilmazz", "html_url": "https://github.com/aliyilmazz", "followers_url": "https://api.github.com/users/aliyilmazz/followers", "following_url": "https://api.github.com/users/aliyilmazz/following{/other_user}", "gists_url": "https://api.github.com/users/aliyilmazz/gists{/gist_id}", "starred_url": "https://api.github.com/users/aliyilmazz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aliyilmazz/subscriptions", "organizations_url": "https://api.github.com/users/aliyilmazz/orgs", "repos_url": "https://api.github.com/users/aliyilmazz/repos", "events_url": "https://api.github.com/users/aliyilmazz/events{/privacy}", "received_events_url": "https://api.github.com/users/aliyilmazz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 542141296, "node_id": "MDU6TGFiZWw1NDIxNDEyOTY=", "url": "https://api.github.com/repos/Zulko/moviepy/labels/good-first-issue", "name": "good-first-issue", "color": "5319e7", "default": false, "description": "Especially suitable for people new to moviepy and/or programming; beginner-friendly."}, {"id": 583252697, "node_id": "MDU6TGFiZWw1ODMyNTI2OTc=", "url": "https://api.github.com/repos/Zulko/moviepy/labels/audio", "name": "audio", "color": "bfd4f2", "default": false, "description": "Related to AudioClip, or handling of audio in general."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Zulko/moviepy/milestones/6", "html_url": "https://github.com/Zulko/moviepy/milestone/6", "labels_url": "https://api.github.com/repos/Zulko/moviepy/milestones/6/labels", "id": 5132992, "node_id": "MDk6TWlsZXN0b25lNTEzMjk5Mg==", "number": 6, "title": "Release v2.0.0", "description": "See #1089 for discussion", "creator": {"login": "tburrows13", "id": 22625968, "node_id": "MDQ6VXNlcjIyNjI1OTY4", "avatar_url": "https://avatars.githubusercontent.com/u/22625968?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tburrows13", "html_url": "https://github.com/tburrows13", "followers_url": "https://api.github.com/users/tburrows13/followers", "following_url": "https://api.github.com/users/tburrows13/following{/other_user}", "gists_url": "https://api.github.com/users/tburrows13/gists{/gist_id}", "starred_url": "https://api.github.com/users/tburrows13/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tburrows13/subscriptions", "organizations_url": "https://api.github.com/users/tburrows13/orgs", "repos_url": "https://api.github.com/users/tburrows13/repos", "events_url": "https://api.github.com/users/tburrows13/events{/privacy}", "received_events_url": "https://api.github.com/users/tburrows13/received_events", "type": "User", "site_admin": false}, "open_issues": 17, "closed_issues": 54, "state": "open", "created_at": "2020-02-23T16:34:44Z", "updated_at": "2022-10-10T23:57:57Z", "due_on": null, "closed_at": null}, "comments": 6, "created_at": "2018-04-20T06:55:17Z", "updated_at": "2022-10-10T23:57:57Z", "closed_at": "2022-10-10T23:57:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "hello, I'm implementing a video splitter microservice using moviepy.\r\n\r\nOne of my test videos caused a runtime error. I thought you might want to know about it.\r\n\r\nRecall `subclip(clip_start, clip_end)`: if audio frames are missing somewhere between `clip_start` and `clip_end`, moviepy automatically duplicates last seen audio frame to following frames. See pull request: https://github.com/Zulko/moviepy/pull/377\r\n\r\nHowever, given a subclip, if there is NO audio frame at all, this pull request is not capable of handling this case and library gives runtime error:\r\n```\r\nIndexError: index -1 is out of bounds for axis 0 with size 0\r\n```\r\n\r\nExample use-case: I have a 27 second-long video, which has no audio frames after t=25.\r\nif I try to subclip(15,27), that's fine. After t=25, audio repeats itself.\r\nif I try to subclip(26,27), thats where I get runtime error.\r\n\r\nFor this issue, I came up with a solution like this:\r\n```python\r\n    clip = VideoFileClip(tempvideopath).subclip(clip_start, clip_end)\r\n    try:\r\n        clip.write_videofile(tempfilename, codec=task['codec'])\r\n    except IndexError:\r\n        try:\r\n            clip.write_videofile(tempfilename, codec=task['codec'], audio=False)\r\n        except Exception as e:\r\n            logger.info(\"exception caught: %s\" % e)\r\n```\r\n\r\nBasically, once I get an `IndexError` exception, I try to render it without audio. \r\n\r\nI can put it into library and send a pull request, if you wish. In any case, I thought you might wanna know about this.\r\n\r\nCheers,\r\nAli\r\n\r\n\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/772/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/772/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/768", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/768/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/768/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/768/events", "html_url": "https://github.com/Zulko/moviepy/issues/768", "id": 315606130, "node_id": "MDU6SXNzdWUzMTU2MDYxMzA=", "number": 768, "title": "MoviePy error: FFMPEG encountered the following error while writing file ./videos.mp4 ", "user": {"login": "Swiffers", "id": 1623148, "node_id": "MDQ6VXNlcjE2MjMxNDg=", "avatar_url": "https://avatars.githubusercontent.com/u/1623148?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Swiffers", "html_url": "https://github.com/Swiffers", "followers_url": "https://api.github.com/users/Swiffers/followers", "following_url": "https://api.github.com/users/Swiffers/following{/other_user}", "gists_url": "https://api.github.com/users/Swiffers/gists{/gist_id}", "starred_url": "https://api.github.com/users/Swiffers/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Swiffers/subscriptions", "organizations_url": "https://api.github.com/users/Swiffers/orgs", "repos_url": "https://api.github.com/users/Swiffers/repos", "events_url": "https://api.github.com/users/Swiffers/events{/privacy}", "received_events_url": "https://api.github.com/users/Swiffers/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 547814220, "node_id": "MDU6TGFiZWw1NDc4MTQyMjA=", "url": "https://api.github.com/repos/Zulko/moviepy/labels/lib-misc", "name": "lib-misc", "color": "ffdcb5", "default": false, "description": "Issues pertaining to misc. 3rd-party libraries."}, {"id": 1866683148, "node_id": "MDU6TGFiZWwxODY2NjgzMTQ4", "url": "https://api.github.com/repos/Zulko/moviepy/labels/lib-FFmpeg", "name": "lib-FFmpeg", "color": "d6b289", "default": false, "description": "Issues pertaining to dependency FFmpeg."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-04-18T19:10:25Z", "updated_at": "2022-01-07T00:12:46Z", "closed_at": "2022-01-07T00:12:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "The error appears at 20% while \"writing\" the output file. \r\n\r\nUbuntu 16.04.4 LTS,\r\n\r\n**MoviePy error: FFMPEG encountered the following error while writing file ./videos.mp4**\r\n\r\n```  \r\nfinal_render.write_videofile(video_file, fps=30, threads=1)\r\n  File \"<decorator-gen-51>\", line 2, in write_videofile\r\n  File \"/home/ubuntu/.local/lib/python2.7/site-packages/moviepy/decorators.py\", line 54, in requires_duration\r\n    return f(clip, *a, **k)\r\n  File \"<decorator-gen-50>\", line 2, in write_videofile\r\n  File \"/home/ubuntu/.local/lib/python2.7/site-packages/moviepy/decorators.py\", line 137, in use_clip_fps_by_default\r\n    return f(clip, *new_a, **new_kw)\r\n  File \"<decorator-gen-49>\", line 2, in write_videofile\r\n  File \"/home/ubuntu/.local/lib/python2.7/site-packages/moviepy/decorators.py\", line 22, in convert_masks_to_RGB\r\n    return f(clip, *a, **k)\r\n  File \"/home/ubuntu/.local/lib/python2.7/site-packages/moviepy/video/VideoClip.py\", line 349, in write_videofile\r\n    progress_bar=progress_bar)\r\n  File \"/home/ubuntu/.local/lib/python2.7/site-packages/moviepy/video/io/ffmpeg_writer.py\", line 216, in ffmpeg_write_video\r\n    writer.write_frame(frame)\r\n  File \"/home/ubuntu/.local/lib/python2.7/site-packages/moviepy/video/io/ffmpeg_writer.py\", line 178, in write_frame\r\n    raise IOError(error)\r\nIOError: [Errno 32] Broken pipe\r\n```", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/768/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/768/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/765", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/765/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/765/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/765/events", "html_url": "https://github.com/Zulko/moviepy/issues/765", "id": 314341268, "node_id": "MDU6SXNzdWUzMTQzNDEyNjg=", "number": 765, "title": "[Errno 3] No such process : on Windows Sub Linux (ubuntu 16.x)", "user": {"login": "Max452", "id": 11062799, "node_id": "MDQ6VXNlcjExMDYyNzk5", "avatar_url": "https://avatars.githubusercontent.com/u/11062799?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Max452", "html_url": "https://github.com/Max452", "followers_url": "https://api.github.com/users/Max452/followers", "following_url": "https://api.github.com/users/Max452/following{/other_user}", "gists_url": "https://api.github.com/users/Max452/gists{/gist_id}", "starred_url": "https://api.github.com/users/Max452/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Max452/subscriptions", "organizations_url": "https://api.github.com/users/Max452/orgs", "repos_url": "https://api.github.com/users/Max452/repos", "events_url": "https://api.github.com/users/Max452/events{/privacy}", "received_events_url": "https://api.github.com/users/Max452/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 540132033, "node_id": "MDU6TGFiZWw1NDAxMzIwMzM=", "url": "https://api.github.com/repos/Zulko/moviepy/labels/python-version", "name": "python-version", "color": "a189f0", "default": false, "description": "Compatibility issues, behaviour changes,... between different Python versions."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2018-04-14T16:16:59Z", "updated_at": "2020-10-03T12:14:01Z", "closed_at": "2019-04-05T07:13:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have installed Moviepy & ffmpeg:\r\nwhen I run this : \r\n```\r\ntest_clip = VideoFileClip(\"test.mp4\")\r\n```\r\nI have this error : \r\n```ProcessLookupError                        Traceback (most recent call last)\r\n<ipython-input-17-6bd6d3ce1adf> in <module>()\r\n----> 1 test_clip = VideoFileClip(\"test.mp4\")\r\n\r\n/usr/local/lib/python3.5/dist-packages/moviepy/video/io/VideoFileClip.py in __init__(self, filename, has_mask, audio, audio_buffersize, target_resolution, resize_algorithm, audio_fps, audio_nbytes, verbose, fps_source)\r\n     74                                          target_resolution=target_resolution,\r\n     75                                          resize_algo=resize_algorithm,\r\n---> 76                                          fps_source=fps_source)\r\n     77 \r\n     78         # Make some of the reader's attributes accessible from the clip\r\n\r\n/usr/local/lib/python3.5/dist-packages/moviepy/video/io/ffmpeg_reader.py in __init__(self, filename, print_infos, bufsize, pix_fmt, check_duration, target_resolution, resize_algo, fps_source)\r\n     29 \r\n     30         self.filename = filename\r\n---> 31         infos = ffmpeg_parse_infos(filename, print_infos, check_duration, fps_source)\r\n     32         self.fps = infos['video_fps']\r\n     33         self.size = infos['video_size']\r\n\r\n/usr/local/lib/python3.5/dist-packages/moviepy/video/io/ffmpeg_reader.py in ffmpeg_parse_infos(filename, print_infos, check_duration, fps_source)\r\n    256 \r\n    257     proc.stdout.readline()\r\n--> 258     proc.terminate()\r\n    259     infos = proc.stderr.read().decode('utf8')\r\n    260     del proc\r\n\r\n/usr/lib/python3.5/subprocess.py in terminate(self)\r\n   1780             \"\"\"Terminate the process with SIGTERM\r\n   1781             \"\"\"\r\n-> 1782             self.send_signal(signal.SIGTERM)\r\n   1783 \r\n   1784         def kill(self):\r\n\r\n/usr/lib/python3.5/subprocess.py in send_signal(self, sig)\r\n   1775             # Skip signalling a process that we know has already died.\r\n   1776             if self.returncode is None:\r\n-> 1777                 os.kill(self.pid, sig)\r\n   1778 \r\n   1779         def terminate(self):\r\n\r\nProcessLookupError: [Errno 3] No such process`\r\n\r\nI've tested this  : \r\n`ffmpeg -i test.mp4`\r\nand the result seems to work\r\n`ffmpeg version 3.1.3-static http://johnvansickle.com/ffmpeg/  Copyright (c) 2000-2016 the FFmpeg developers\r\n  built with gcc 5.4.1 (Debian 5.4.1-1) 20160803\r\n  configuration: --enable-gpl --enable-version3 --enable-static --disable-debug --enable-libmp3lame --enable-libx264 --enable-libx265 --enable-libwebp --enable-libspeex --enable-libvorbis --enable-libvpx --enable-libfreetype --enable-fontconfig --enable-libxvid --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libtheora --enable-libvo-amrwbenc --enable-gray --enable-libopenjpeg --enable-libopus --enable-libass --enable-gnutls --enable-libvidstab --enable-libsoxr --enable-frei0r --enable-libfribidi --disable-indev=sndio --disable-outdev=sndio --enable-librtmp --enable-libmfx --enable-libzimg --cc=gcc-5\r\n  libavutil      55. 28.100 / 55. 28.100\r\n  libavcodec     57. 48.101 / 57. 48.101\r\n  libavformat    57. 41.100 / 57. 41.100\r\n  libavdevice    57.  0.101 / 57.  0.101\r\n  libavfilter     6. 47.100 /  6. 47.100\r\n  libswscale      4.  1.100 /  4.  1.100\r\n  libswresample   2.  1.100 /  2.  1.100\r\n  libpostproc    54.  0.100 / 54.  0.100\r\nInput #0, mov,mp4,m4a,3gp,3g2,mj2, from 'test.mp4':\r\n  Metadata:\r\n    major_brand     : mp42\r\n    minor_version   : 1\r\n    compatible_brands: mp41mp42isom\r\n    creation_time   : 2016-09-28 18:41:26\r\n  Duration: 00:00:10.04, start: 0.000000, bitrate: 12026 kb/s\r\n    Stream #0:0(eng): Audio: aac (LC) (mp4a / 0x6134706D), 48000 Hz, stereo, fltp, 2 kb/s (default)\r\n    Metadata:\r\n      creation_time   : 2016-09-28 18:41:26\r\n      handler_name    : Core Media Audio\r\n    Stream #0:1(und): Video: h264 (High) (avc1 / 0x31637661), yuv420p(tv, bt709), 1280x720 [SAR 1:1 DAR 16:9], 12020 kb/s, 25 fps, 25 tbr, 25 tbn, 50 tbc (default)\r\n    Metadata:\r\n      creation_time   : 2016-09-28 18:41:26\r\n      handler_name    : Core Media Video\r\nAt least one output file must be specified\r\n```\r\n\r\nHope you find why this doesn't work", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/765/reactions", "total_count": 5, "+1": 5, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/765/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/763", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/763/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/763/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/763/events", "html_url": "https://github.com/Zulko/moviepy/issues/763", "id": 313836779, "node_id": "MDU6SXNzdWUzMTM4MzY3Nzk=", "number": 763, "title": "ValueError: MoviePy couldn't find the codec associated with the filename.", "user": {"login": "Swiffers", "id": 1623148, "node_id": "MDQ6VXNlcjE2MjMxNDg=", "avatar_url": "https://avatars.githubusercontent.com/u/1623148?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Swiffers", "html_url": "https://github.com/Swiffers", "followers_url": "https://api.github.com/users/Swiffers/followers", "following_url": "https://api.github.com/users/Swiffers/following{/other_user}", "gists_url": "https://api.github.com/users/Swiffers/gists{/gist_id}", "starred_url": "https://api.github.com/users/Swiffers/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Swiffers/subscriptions", "organizations_url": "https://api.github.com/users/Swiffers/orgs", "repos_url": "https://api.github.com/users/Swiffers/repos", "events_url": "https://api.github.com/users/Swiffers/events{/privacy}", "received_events_url": "https://api.github.com/users/Swiffers/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 583252675, "node_id": "MDU6TGFiZWw1ODMyNTI2NzU=", "url": "https://api.github.com/repos/Zulko/moviepy/labels/video", "name": "video", "color": "bfd4f2", "default": false, "description": "Related to VideoClip and related classes, or handling of video in general."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2018-04-12T18:22:47Z", "updated_at": "2021-04-29T03:52:35Z", "closed_at": "2020-05-09T09:49:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "hi,\r\n\r\nWhy is this error fired ? I'm not sure to understand why I should specify the codec on some video and why this error is fired with some other ones. \r\n\r\n```\r\n  File \"./video.py\", line 63, in add_video\r\n    final_render.write_videofile(video, fps=30)\r\n  File \"<decorator-gen-51>\", line 2, in write_videofile\r\n  File \"/usr/lib/python2.7/site-packages/moviepy/decorators.py\", line 54, in requires_duration\r\n    return f(clip, *a, **k)\r\n  File \"<decorator-gen-50>\", line 2, in write_videofile\r\n  File \"/usr/lib/python2.7/site-packages/moviepy/decorators.py\", line 137, in use_clip_fps_by_default\r\n    return f(clip, *new_a, **new_kw)\r\n  File \"<decorator-gen-49>\", line 2, in write_videofile\r\n  File \"/usr/lib/python2.7/site-packages/moviepy/decorators.py\", line 22, in convert_masks_to_RGB\r\n    return f(clip, *a, **k)\r\n  File \"/usr/lib/python2.7/site-packages/moviepy/video/VideoClip.py\", line 288, in write_videofile\r\n    raise ValueError(\"MoviePy couldn't find the codec associated \"\r\nValueError: MoviePy couldn't find the codec associated with the filename. Provide the 'codec' parameter in write_videofile.\r\n``` ", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/763/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/763/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/692", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/692/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/692/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/692/events", "html_url": "https://github.com/Zulko/moviepy/issues/692", "id": 285405244, "node_id": "MDU6SXNzdWUyODU0MDUyNDQ=", "number": 692, "title": "Typo in variable name in transitions.py(t_s instead of ts)", "user": {"login": "ankita-2798", "id": 20027787, "node_id": "MDQ6VXNlcjIwMDI3Nzg3", "avatar_url": "https://avatars.githubusercontent.com/u/20027787?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ankita-2798", "html_url": "https://github.com/ankita-2798", "followers_url": "https://api.github.com/users/ankita-2798/followers", "following_url": "https://api.github.com/users/ankita-2798/following{/other_user}", "gists_url": "https://api.github.com/users/ankita-2798/gists{/gist_id}", "starred_url": "https://api.github.com/users/ankita-2798/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ankita-2798/subscriptions", "organizations_url": "https://api.github.com/users/ankita-2798/orgs", "repos_url": "https://api.github.com/users/ankita-2798/repos", "events_url": "https://api.github.com/users/ankita-2798/events{/privacy}", "received_events_url": "https://api.github.com/users/ankita-2798/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 542141296, "node_id": "MDU6TGFiZWw1NDIxNDEyOTY=", "url": "https://api.github.com/repos/Zulko/moviepy/labels/good-first-issue", "name": "good-first-issue", "color": "5319e7", "default": false, "description": "Especially suitable for people new to moviepy and/or programming; beginner-friendly."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-01-02T11:12:58Z", "updated_at": "2020-02-19T01:33:08Z", "closed_at": "2020-02-19T01:33:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "While using transitions, I got an error in /moviepy/video/compositing/transitions.py - \r\n\r\n**NameError : global name  'ts' is not defined in line 110**\r\n\r\nTraversing to the file, I realised that it had a typo during the declaration of variable name 'ts'. It was defined as 't_s' instead of 'ts' and so the error. On correcting it, the code worked perfectly fine.\r\n\r\nDon't know if anybody else has faced the same issue during recent installs, I thought it's worth looking into :)\r\n\r\nThanks!", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/692/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/692/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/677", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/677/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/677/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/677/events", "html_url": "https://github.com/Zulko/moviepy/issues/677", "id": 277484963, "node_id": "MDU6SXNzdWUyNzc0ODQ5NjM=", "number": 677, "title": "Bulk cutting crashes moviepy (Invalid Handle)", "user": {"login": "dominikheinz", "id": 32770080, "node_id": "MDQ6VXNlcjMyNzcwMDgw", "avatar_url": "https://avatars.githubusercontent.com/u/32770080?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dominikheinz", "html_url": "https://github.com/dominikheinz", "followers_url": "https://api.github.com/users/dominikheinz/followers", "following_url": "https://api.github.com/users/dominikheinz/following{/other_user}", "gists_url": "https://api.github.com/users/dominikheinz/gists{/gist_id}", "starred_url": "https://api.github.com/users/dominikheinz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dominikheinz/subscriptions", "organizations_url": "https://api.github.com/users/dominikheinz/orgs", "repos_url": "https://api.github.com/users/dominikheinz/repos", "events_url": "https://api.github.com/users/dominikheinz/events{/privacy}", "received_events_url": "https://api.github.com/users/dominikheinz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-11-28T18:11:27Z", "updated_at": "2020-05-09T08:51:20Z", "closed_at": "2020-05-09T08:51:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "We are trying to cut a clip in a loop repeatedly into small pieces.\r\nThis is our code\r\n\r\n```\r\n from moviepy.editor import *\r\nfrom ffmpeg import *\r\nimport time\r\n\r\nclass CutterController:\r\n    source_path = []\r\n    __output_path = \"\"\r\n    __cut_frames = []\r\n    __fps = 0.0\r\n\r\n    def __init(self, src, cf, out):\r\n        self.__source_path = src\r\n        self.__output_path = out\r\n        self.__cut_frames = cf\r\n        self.__fps = VideoFileClip(self.__source_path[0]).fps\r\n\r\n    def cut(self):\r\n        # Array for the cut clips\r\n        sub_clips = []\r\n\r\n        # amount of tuples\r\n        tuple_count = len(self.__cut_frames)\r\n\r\n        # iterate tuples\r\n        for it in range(0,tuple_count):\r\n\r\n            # Required for boundary checking\r\n            last_tuple = len(self.__cut_frames) -1\r\n\r\n            if(it < last_tuple):\r\n                # Get current cam and frame\r\n                cam = self.__cut_frames[it][0]\r\n                frame = self.__cut_frames[it][1]\r\n\r\n                # Get frames to start and end cutting\r\n                start_frame = frame / self.__fps\r\n                end_frame = self.__cut_frames[it + 1][1] / self.__fps\r\n\r\n                clip = VideoFileClip(self.__source_path[cam]).subclip(start_frame, end_frame)\r\n                sub_clips.append(clip)\r\n                del clip\r\n\r\n                print(\"Start Frame : \", start_frame, \"  End Frame : \", end_frame)\r\n\r\n            elif (it == last_tuple):\r\n                # Get last cam and frame\r\n                cam = self.__cut_frames[it][0]\r\n                frame = self.__cut_frames[it][1]\r\n\r\n                # Get start frame of last subclip\r\n                start_frame = frame / self.__fps\r\n\r\n                clip = VideoFileClip(self.__source_path[cam]).subclip(start_frame)\r\n                sub_clips.append(clip)\r\n                del clip\r\n\r\n                print(\"Start Frame : \", start_frame, \"  End Frame : None - last tuple\")\r\n```\r\n\r\nAfter cutting 4 to 5 times, the script crashes with the following exception:\r\n\r\n```File \"C:\\Users\\Sundi\\AppData\\Local\\Programs\\Python\\Python36\\lib\\subprocess.py\", line 594, in init\r\n    _cleanup()\r\n  File \"C:\\Users\\Sundi\\AppData\\Local\\Programs\\Python\\Python36\\lib\\subprocess.py\", line 205, in _cleanup\r\n    res = inst._internal_poll(_deadstate=sys.maxsize)\r\n  File \"C:\\Users\\Sundi\\AppData\\Local\\Programs\\Python\\Python36\\lib\\subprocess.py\", line 1027, in _internal_poll\r\n    if _WaitForSingleObject(self._handle, 0) == _WAIT_OBJECT_0:\r\nOSError: [WinError 6] Das Handle ist ung\u00fcltig\r\n\r\nProcess finished with exit code 1```\r\n\r\nAny idea how we can fix this?\r\nThis seems to be to be a bug in the moviepy lib.", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/677/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/677/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/658", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/658/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/658/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/658/events", "html_url": "https://github.com/Zulko/moviepy/issues/658", "id": 263601392, "node_id": "MDU6SXNzdWUyNjM2MDEzOTI=", "number": 658, "title": ".png images display static instead", "user": {"login": "bahasa1", "id": 32584467, "node_id": "MDQ6VXNlcjMyNTg0NDY3", "avatar_url": "https://avatars.githubusercontent.com/u/32584467?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bahasa1", "html_url": "https://github.com/bahasa1", "followers_url": "https://api.github.com/users/bahasa1/followers", "following_url": "https://api.github.com/users/bahasa1/following{/other_user}", "gists_url": "https://api.github.com/users/bahasa1/gists{/gist_id}", "starred_url": "https://api.github.com/users/bahasa1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bahasa1/subscriptions", "organizations_url": "https://api.github.com/users/bahasa1/orgs", "repos_url": "https://api.github.com/users/bahasa1/repos", "events_url": "https://api.github.com/users/bahasa1/events{/privacy}", "received_events_url": "https://api.github.com/users/bahasa1/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 760686230, "node_id": "MDU6TGFiZWw3NjA2ODYyMzA=", "url": "https://api.github.com/repos/Zulko/moviepy/labels/images", "name": "images", "color": "bfd4f2", "default": false, "description": "Related to ImageClip, or handling of images in general."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-10-07T00:08:10Z", "updated_at": "2022-01-13T16:19:27Z", "closed_at": "2022-01-13T16:19:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "the following code works with jpegs, but not with pngs\r\n\r\n```\r\nfrom moviepy.editor import *\r\n\r\nvideo3 = VideoFileClip(\"mymovie5.mp4\").subclip(4,10)\r\nclipta = ImageClip(\"oranger.png\")\r\ntaresult = concatenate_videoclips([video3, clipta.set_duration(3)]) \r\ntaresult.write_videofile(\"test17.mp4\")\r\n```", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/658/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/658/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/657", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/657/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/657/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/657/events", "html_url": "https://github.com/Zulko/moviepy/issues/657", "id": 263550470, "node_id": "MDU6SXNzdWUyNjM1NTA0NzA=", "number": 657, "title": "write out not working", "user": {"login": "billchenxi", "id": 986935, "node_id": "MDQ6VXNlcjk4NjkzNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/986935?v=4", "gravatar_id": "", "url": "https://api.github.com/users/billchenxi", "html_url": "https://github.com/billchenxi", "followers_url": "https://api.github.com/users/billchenxi/followers", "following_url": "https://api.github.com/users/billchenxi/following{/other_user}", "gists_url": "https://api.github.com/users/billchenxi/gists{/gist_id}", "starred_url": "https://api.github.com/users/billchenxi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/billchenxi/subscriptions", "organizations_url": "https://api.github.com/users/billchenxi/orgs", "repos_url": "https://api.github.com/users/billchenxi/repos", "events_url": "https://api.github.com/users/billchenxi/events{/privacy}", "received_events_url": "https://api.github.com/users/billchenxi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 547814220, "node_id": "MDU6TGFiZWw1NDc4MTQyMjA=", "url": "https://api.github.com/repos/Zulko/moviepy/labels/lib-misc", "name": "lib-misc", "color": "ffdcb5", "default": false, "description": "Issues pertaining to misc. 3rd-party libraries."}, {"id": 1866683148, "node_id": "MDU6TGFiZWwxODY2NjgzMTQ4", "url": "https://api.github.com/repos/Zulko/moviepy/labels/lib-FFmpeg", "name": "lib-FFmpeg", "color": "d6b289", "default": false, "description": "Issues pertaining to dependency FFmpeg."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2017-10-06T19:36:36Z", "updated_at": "2021-11-17T22:18:41Z", "closed_at": "2020-05-07T23:45:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "This is my code:\r\n```\r\n# Import everything needed to edit/save/watch video clips\r\nfrom moviepy.editor import VideoFileClip\r\nfrom IPython.display import HTML\r\n\r\nnew_clip_output = 'test_output.mp4'\r\ntest_clip = VideoFileClip(\"test.mp4\")\r\nnew_clip = test_clip.fl_image(lambda x: cv2.cvtColor(x, cv2.COLOR_RGB2YUV)) #NOTE: this function expects color images!!\r\nnew_clip.write_videofile(new_clip_output, audio=False)\r\n\r\n```\r\n\r\n```\r\nError\r\nOSError: [Errno 32] Broken pipe\r\n\r\nMoviePy error: FFMPEG encountered the following error while writing file test_output.mp4:\r\n\r\n b\"Unrecognized option 'preset'.\\nError splitting the argument list: Option not found\\n\"\r\n\r\n\r\nFull error details are here:\r\n`[MoviePy] >>>> Building video test_output.mp4\r\n[MoviePy] Writing video test_output.mp4\r\n  0%|          | 0/251 [00:00<?, ?it/s]\r\n---------------------------------------------------------------------------\r\nBrokenPipeError                           Traceback (most recent call last)\r\n~/Documents/python3/lib/python3.6/site-packages/moviepy/video/io/ffmpeg_writer.py in write_frame(self, img_array)\r\n    133             if PY3:\r\n--> 134                self.proc.stdin.write(img_array.tobytes())\r\n    135             else:\r\n\r\nBrokenPipeError: [Errno 32] Broken pipe\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nOSError                                   Traceback (most recent call last)\r\n<ipython-input-30-7a601a4eaaf5> in <module>()\r\n----> 1 new_clip.write_videofile(new_clip_output, audio=False)\r\n\r\n<decorator-gen-175> in write_videofile(self, filename, fps, codec, bitrate, audio, audio_fps, preset, audio_nbytes, audio_codec, audio_bitrate, audio_bufsize, temp_audiofile, rewrite_audio, remove_temp, write_logfile, verbose, threads, ffmpeg_params, progress_bar)\r\n\r\n~/Documents/python3/lib/python3.6/site-packages/moviepy/decorators.py in requires_duration(f, clip, *a, **k)\r\n     52         raise ValueError(\"Attribute 'duration' not set\")\r\n     53     else:\r\n---> 54         return f(clip, *a, **k)\r\n     55 \r\n     56 \r\n\r\n<decorator-gen-174> in write_videofile(self, filename, fps, codec, bitrate, audio, audio_fps, preset, audio_nbytes, audio_codec, audio_bitrate, audio_bufsize, temp_audiofile, rewrite_audio, remove_temp, write_logfile, verbose, threads, ffmpeg_params, progress_bar)\r\n\r\n~/Documents/python3/lib/python3.6/site-packages/moviepy/decorators.py in use_clip_fps_by_default(f, clip, *a, **k)\r\n    135              for (k,v) in k.items()}\r\n    136 \r\n--> 137     return f(clip, *new_a, **new_kw)\r\n\r\n<decorator-gen-173> in write_videofile(self, filename, fps, codec, bitrate, audio, audio_fps, preset, audio_nbytes, audio_codec, audio_bitrate, audio_bufsize, temp_audiofile, rewrite_audio, remove_temp, write_logfile, verbose, threads, ffmpeg_params, progress_bar)\r\n\r\n~/Documents/python3/lib/python3.6/site-packages/moviepy/decorators.py in convert_masks_to_RGB(f, clip, *a, **k)\r\n     20     if clip.ismask:\r\n     21         clip = clip.to_RGB()\r\n---> 22     return f(clip, *a, **k)\r\n     23 \r\n     24 @decorator.decorator\r\n\r\n~/Documents/python3/lib/python3.6/site-packages/moviepy/video/VideoClip.py in write_videofile(self, filename, fps, codec, bitrate, audio, audio_fps, preset, audio_nbytes, audio_codec, audio_bitrate, audio_bufsize, temp_audiofile, rewrite_audio, remove_temp, write_logfile, verbose, threads, ffmpeg_params, progress_bar)\r\n    347                            verbose=verbose, threads=threads,\r\n    348                            ffmpeg_params=ffmpeg_params,\r\n--> 349                            progress_bar=progress_bar)\r\n    350 \r\n    351         if remove_temp and make_audio:\r\n\r\n~/Documents/python3/lib/python3.6/site-packages/moviepy/video/io/ffmpeg_writer.py in ffmpeg_write_video(clip, filename, fps, codec, bitrate, preset, withmask, write_logfile, audiofile, verbose, threads, ffmpeg_params, progress_bar)\r\n    214             frame = np.dstack([frame,mask])\r\n    215 \r\n--> 216         writer.write_frame(frame)\r\n    217 \r\n    218     writer.close()\r\n\r\n~/Documents/python3/lib/python3.6/site-packages/moviepy/video/io/ffmpeg_writer.py in write_frame(self, img_array)\r\n    176 \r\n    177 \r\n--> 178             raise IOError(error)\r\n    179 \r\n    180     def close(self):\r\n\r\nOSError: [Errno 32] Broken pipe\r\n\r\nMoviePy error: FFMPEG encountered the following error while writing file test_output.mp4:\r\n\r\n b\"Unrecognized option 'preset'.\\nError splitting the argument list: Option not found\\n\"\r\n```", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/657/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/657/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/655", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/655/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/655/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/655/events", "html_url": "https://github.com/Zulko/moviepy/issues/655", "id": 263402179, "node_id": "MDU6SXNzdWUyNjM0MDIxNzk=", "number": 655, "title": "Issue with nesting context managers", "user": {"login": "gyglim", "id": 11196049, "node_id": "MDQ6VXNlcjExMTk2MDQ5", "avatar_url": "https://avatars.githubusercontent.com/u/11196049?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gyglim", "html_url": "https://github.com/gyglim", "followers_url": "https://api.github.com/users/gyglim/followers", "following_url": "https://api.github.com/users/gyglim/following{/other_user}", "gists_url": "https://api.github.com/users/gyglim/gists{/gist_id}", "starred_url": "https://api.github.com/users/gyglim/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gyglim/subscriptions", "organizations_url": "https://api.github.com/users/gyglim/orgs", "repos_url": "https://api.github.com/users/gyglim/repos", "events_url": "https://api.github.com/users/gyglim/events{/privacy}", "received_events_url": "https://api.github.com/users/gyglim/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-10-06T10:30:16Z", "updated_at": "2017-10-12T19:51:01Z", "closed_at": "2017-10-12T19:51:01Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "When we nest context managers which subclip, moviepy has an issue, as the innermost context manager will close the call to ffmpeg, but the outer objects assume it's there.\r\n__Case 1:__\r\n```\r\nwith VideoFileClip(video_file) as v:\r\n    with v.subclip(1,2) as s:\r\n        pass\r\n    v.subclip(0,2).iter_frames().next()\r\n```\r\nWorks as the reader is reinitialized here:\r\nhttps://github.com/Zulko/moviepy/blob/master/moviepy/video/io/ffmpeg_reader.py#L172\r\n\r\n\r\n__Case 2:__\r\n```\r\nwith VideoFileClip(video_file) as v:\r\n    with v.subclip(1,2) as s:\r\n        pass\r\n    for f in v.subclip(1,2).iter_frames():\r\n        pass\r\n```\r\nReturns `AttributeError: FFMPEG_VideoReader instance has no attribute 'lastread'` as it tries reading the `lastread` frame, which got deleted.\r\n\r\n__Case 3:__\r\n```\r\nwith VideoFileClip(video_file) as v:\r\n    with v.subclip(1,2) as s:\r\n        pass\r\n    for f in v.subclip(2,3).iter_frames():\r\n        pass\r\n```\r\nReturns `AttributeError: 'NoneType' object has no attribute 'stdout'` as it tries reusing the reader by skipping forward through the unneeded frame here:\r\nhttps://github.com/Zulko/moviepy/blob/master/moviepy/video/io/ffmpeg_reader.py#L176\r\n\r\n__Correct behavior in my opinion:__\r\nVerify with an open call to ffmpeg exists and recreate it if not\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/655/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/655/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/647", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/647/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/647/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/647/events", "html_url": "https://github.com/Zulko/moviepy/issues/647", "id": 260986935, "node_id": "MDU6SXNzdWUyNjA5ODY5MzU=", "number": 647, "title": "freeze when reading video clip", "user": {"login": "magicknight", "id": 2965418, "node_id": "MDQ6VXNlcjI5NjU0MTg=", "avatar_url": "https://avatars.githubusercontent.com/u/2965418?v=4", "gravatar_id": "", "url": "https://api.github.com/users/magicknight", "html_url": "https://github.com/magicknight", "followers_url": "https://api.github.com/users/magicknight/followers", "following_url": "https://api.github.com/users/magicknight/following{/other_user}", "gists_url": "https://api.github.com/users/magicknight/gists{/gist_id}", "starred_url": "https://api.github.com/users/magicknight/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/magicknight/subscriptions", "organizations_url": "https://api.github.com/users/magicknight/orgs", "repos_url": "https://api.github.com/users/magicknight/repos", "events_url": "https://api.github.com/users/magicknight/events{/privacy}", "received_events_url": "https://api.github.com/users/magicknight/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-09-27T14:04:26Z", "updated_at": "2022-01-06T00:00:59Z", "closed_at": "2022-01-06T00:00:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, this program freezed when reading a flv format video. there is no error throw,  no exit or printing information, just freeze. \r\n\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"./youtube.py\", line 114, in <module>\r\n    video_process(video_file, output=output_video)\r\n  File \"./youtube.py\", line 89, in video_process\r\n    clip = VideoFileClip(mp4_file)\r\n  File \"/usr/local/lib/python3.5/dist-packages/moviepy/video/io/VideoFileClip.py\", line 111, in __init__\r\n    nbytes = audio_nbytes)\r\n  File \"/usr/local/lib/python3.5/dist-packages/moviepy/audio/io/AudioFileClip.py\", line 63, in __init__\r\n    buffersize=buffersize)\r\n  File \"/usr/local/lib/python3.5/dist-packages/moviepy/audio/io/readers.py\", line 64, in __init__\r\n    self.buffer_around(1)\r\n  File \"/usr/local/lib/python3.5/dist-packages/moviepy/audio/io/readers.py\", line 242, in buffer_around\r\n    self.buffer =  self.read_chunk(self.buffersize)\r\n  File \"/usr/local/lib/python3.5/dist-packages/moviepy/audio/io/readers.py\", line 114, in read_chunk\r\n    s = self.proc.stdout.read(L)\r\nKeyboardInterrupt\r\nException ignored in: <bound method Cursor.__del__ of <pymongo.cursor.Cursor object at 0x7f9d0e3f9198>>\r\nTraceback (most recent call last):\r\n  File \"/home/bbbb/.local/lib/python3.5/site-packages/pymongo/cursor.py\", line 215, in __del__\r\n  File \"/home/bbbb/.local/lib/python3.5/site-packages/pymongo/cursor.py\", line 277, in __die\r\n  File \"/home/bbbb/.local/lib/python3.5/site-packages/pymongo/mongo_client.py\", line 910, in close_cursor\r\n  File \"/home/bbbb/.local/lib/python3.5/site-packages/pymongo/cursor_manager.py\", line 56, in close\r\nAttributeError: 'NoneType' object has no attribute 'kill_cursors'\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/647/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/647/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/646", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/646/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/646/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/646/events", "html_url": "https://github.com/Zulko/moviepy/issues/646", "id": 260718136, "node_id": "MDU6SXNzdWUyNjA3MTgxMzY=", "number": 646, "title": "Duration floating point round-off causes \"IndexError: list index out of range\" in write_videofile", "user": {"login": "pkarp0", "id": 3496475, "node_id": "MDQ6VXNlcjM0OTY0NzU=", "avatar_url": "https://avatars.githubusercontent.com/u/3496475?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pkarp0", "html_url": "https://github.com/pkarp0", "followers_url": "https://api.github.com/users/pkarp0/followers", "following_url": "https://api.github.com/users/pkarp0/following{/other_user}", "gists_url": "https://api.github.com/users/pkarp0/gists{/gist_id}", "starred_url": "https://api.github.com/users/pkarp0/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pkarp0/subscriptions", "organizations_url": "https://api.github.com/users/pkarp0/orgs", "repos_url": "https://api.github.com/users/pkarp0/repos", "events_url": "https://api.github.com/users/pkarp0/events{/privacy}", "received_events_url": "https://api.github.com/users/pkarp0/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2017-09-26T18:09:27Z", "updated_at": "2022-02-17T04:28:19Z", "closed_at": "2020-05-22T18:25:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "The sample code creates a color clip with a duration of 2.24, a size of [1080, 1080] and fps=50.0\r\nThe clip writes properly after CompositeVideoClip but if it is concatenated then the duration changes slightly and writing fails.\r\n\r\n```\r\n>>> vclip = ColorClip([1080, 1080], color=[255, 128, 64], duration=2.24)\r\n>>> vclip.duration\r\n2.24\r\n>>> vclip.size\r\n(1080, 1080)\r\n>>> comp = CompositeVideoClip([vclip])\r\n>>> comp = comp.set_fps(50.0)\r\n>>> comp.fps\r\n50.0\r\n>>> comp.write_videofile('comp.mp4', preset='ultrafast')\r\n```\r\nThe file writes successfully\r\n\r\n```\r\n>>> concat = concatenate([comp])\r\n>>> concat.duration\r\n2.2400000000000002\r\n>>> concat.write_videofile('concat.mp4', preset='ultrafast')\r\n```\r\n\r\nThe write_videofile() fails with IndexError\r\n```\r\n  Traceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"<decorator-gen-51>\", line 2, in write_videofile\r\n  File \"/usr/local/lib/python3.6/site-packages/moviepy/decorators.py\", line 54, in requires_duration\r\n    return f(clip, *a, **k)\r\n  File \"<decorator-gen-50>\", line 2, in write_videofile\r\n  File \"/usr/local/lib/python3.6/site-packages/moviepy/decorators.py\", line 137, in use_clip_fps_by_default\r\n    return f(clip, *new_a, **new_kw)\r\n  File \"<decorator-gen-49>\", line 2, in write_videofile\r\n  File \"/usr/local/lib/python3.6/site-packages/moviepy/decorators.py\", line 22, in convert_masks_to_RGB\r\n    return f(clip, *a, **k)\r\n  File \"/usr/local/lib/python3.6/site-packages/moviepy/video/VideoClip.py\", line 349, in write_videofile\r\n    progress_bar=progress_bar)\r\n  File \"/usr/local/lib/python3.6/site-packages/moviepy/video/io/ffmpeg_writer.py\", line 209, in ffmpeg_write_video\r\n    fps=fps, dtype=\"uint8\"):\r\n  File \"/usr/local/lib/python3.6/site-packages/tqdm/_tqdm.py\", line 833, in __iter__\r\n    for obj in iterable:\r\n  File \"/usr/local/lib/python3.6/site-packages/moviepy/Clip.py\", line 475, in generator\r\n    frame = self.get_frame(t)\r\n  File \"<decorator-gen-14>\", line 2, in get_frame\r\n  File \"/usr/local/lib/python3.6/site-packages/moviepy/decorators.py\", line 89, in wrapper\r\n    return f(*new_a, **new_kw)\r\n  File \"/usr/local/lib/python3.6/site-packages/moviepy/Clip.py\", line 95, in get_frame\r\n    return self.make_frame(t)\r\n  File \"/usr/local/lib/python3.6/site-packages/moviepy/video/compositing/concatenate.py\", line 83, in make_frame\r\n    return clips[i].get_frame(t - tt[i])\r\nIndexError: list index out of range\r\n```", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/646/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/646/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/640", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/640/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/640/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/640/events", "html_url": "https://github.com/Zulko/moviepy/issues/640", "id": 253576554, "node_id": "MDU6SXNzdWUyNTM1NzY1NTQ=", "number": 640, "title": "bug in resize method. Mask is handled incorrectly when resize is called with lambda function.", "user": {"login": "TejasBob", "id": 10771892, "node_id": "MDQ6VXNlcjEwNzcxODky", "avatar_url": "https://avatars.githubusercontent.com/u/10771892?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TejasBob", "html_url": "https://github.com/TejasBob", "followers_url": "https://api.github.com/users/TejasBob/followers", "following_url": "https://api.github.com/users/TejasBob/following{/other_user}", "gists_url": "https://api.github.com/users/TejasBob/gists{/gist_id}", "starred_url": "https://api.github.com/users/TejasBob/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TejasBob/subscriptions", "organizations_url": "https://api.github.com/users/TejasBob/orgs", "repos_url": "https://api.github.com/users/TejasBob/repos", "events_url": "https://api.github.com/users/TejasBob/events{/privacy}", "received_events_url": "https://api.github.com/users/TejasBob/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-08-29T08:56:52Z", "updated_at": "2021-04-15T16:12:16Z", "closed_at": "2021-04-15T16:10:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nThe method for resizing clips located in  [resize.py](https://github.com/Zulko/moviepy/blob/master/moviepy/video/fx/resize.py) is buggy ( lines 103 - 113). I came across this bug while working on a video, I tried fixing it by looking at the source code.\r\n\r\n\r\n`if hasattr(newsize, \"__call__\"):     \r\n\r\n            newsize2 = lambda t : trans_newsize(newsize(t))\r\n\r\n            if clip.ismask:\r\n\r\n                fun = lambda gf,t: (1.0*resizer((255 * gf(t)).astype('uint8'),\r\n                                                 newsize2(t))/255)\r\n\r\n            else:\r\n\r\n                fun = lambda gf,t: resizer(gf(t).astype('uint8'),\r\n                                          newsize2(t))\r\n\r\n            return clip.fl(fun, keep_duration=True,\r\n                           apply_to= ([\"mask\"] if apply_to_mask else []))\r\n`\r\n\r\n\r\n\r\nTake a look at the else part. The \"fun\" function code works correctly for image frames but fails for mask frames as mask frame values are in the range [0,1]. The transparency values less than 1 are converted to 0 (because of uint8 type casting). \r\n\r\nThe fix to this problem is adding condition within lambda function to incorporate mask frames. I'm attaching code to fix this. \r\n\r\nMy bug fix:\r\n`        \r\n        if hasattr(newsize, \"__call__\"):\r\n            \r\n            newsize2 = lambda t : trans_newsize(newsize(t))\r\n            \r\n            if clip.ismask:\r\n                \r\n                fun = lambda gf,t: (1.0*resizer((255 * gf(t)).astype('uint8'),\r\n                                                 newsize2(t))/255)\r\n\r\n            else:\r\n                \r\n                fun = lambda gf,t: resizer(gf(t).astype('uint8'),\r\n                                      newsize2(t)) if len(gf(t).shape) == 3 else 1.0*resizer((gf(t)*255).astype('uint8'),newsize2(t))/255\r\n\r\n            return clip.fl(fun, keep_duration=True,\r\n                           apply_to= ([\"mask\"] if apply_to_mask else []))`\r\n\r\nNote the if else condition inside lambda function.\r\n\r\nTejas\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/640/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/640/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/639", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/639/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/639/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/639/events", "html_url": "https://github.com/Zulko/moviepy/issues/639", "id": 253432078, "node_id": "MDU6SXNzdWUyNTM0MzIwNzg=", "number": 639, "title": "video.to_ImageClip(t=timestamp) not throwing error on corrupted video", "user": {"login": "angyangie", "id": 16169518, "node_id": "MDQ6VXNlcjE2MTY5NTE4", "avatar_url": "https://avatars.githubusercontent.com/u/16169518?v=4", "gravatar_id": "", "url": "https://api.github.com/users/angyangie", "html_url": "https://github.com/angyangie", "followers_url": "https://api.github.com/users/angyangie/followers", "following_url": "https://api.github.com/users/angyangie/following{/other_user}", "gists_url": "https://api.github.com/users/angyangie/gists{/gist_id}", "starred_url": "https://api.github.com/users/angyangie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/angyangie/subscriptions", "organizations_url": "https://api.github.com/users/angyangie/orgs", "repos_url": "https://api.github.com/users/angyangie/repos", "events_url": "https://api.github.com/users/angyangie/events{/privacy}", "received_events_url": "https://api.github.com/users/angyangie/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 583252675, "node_id": "MDU6TGFiZWw1ODMyNTI2NzU=", "url": "https://api.github.com/repos/Zulko/moviepy/labels/video", "name": "video", "color": "bfd4f2", "default": false, "description": "Related to VideoClip and related classes, or handling of video in general."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-08-28T19:33:58Z", "updated_at": "2022-01-14T17:45:30Z", "closed_at": "2022-01-14T17:45:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "When I test a video that is corrupted and should not work with the code below, the program stops running at `clip = video.to_ImageClip(t=timestamp)`, locking up a certain percentage of memory (the amount it was using before the code stopped running). There is no error thrown, no error caught - the code simply stops running and does not exit. If I send enough corrupted videos to be processed, as a worst case test scenario, my service fails due to a lack of available memory, since all previous corrupted videos that were sent, are still technically being processed.\r\n\r\nThe freeze seems to be coming from Clip.py, line 95, `get_frame()`: https://github.com/Zulko/moviepy/blob/master/moviepy/Clip.py#L95. I try stepping through the code, and this is where I get to.\r\n\r\nDo you have suggestions on how I can get around this? I am using the following url to test: https://img.buzzfeed.com/video-api-stage/assets/2f2626a63c384f738a3e2b70c8fa4426/BFV8815_5JobsInDangerOfExtinction-FB_1080.mp4. You'll notice that this video stops running after minute 0:49 and should throw an error.\r\n\r\n**Code:**\r\n\r\n```python \r\ntry:\r\n    video = editor.VideoFileClip(file_url)\r\n    image_timestamps = [int(video.duration * percentage / 100) for percentage in [10, 30, 50, 70, 90]]\r\n\r\n    clips = []\r\n    for timestamp in image_timestamps:\r\n                clip = video.to_ImageClip(t=timestamp)\r\n                duration_clip = clip.set_duration(0.9)\r\n                clips.append(duration_clip)\r\nexcept Exception as e:\r\n    print e\r\n```", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/639/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/639/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/635", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/635/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/635/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/635/events", "html_url": "https://github.com/Zulko/moviepy/issues/635", "id": 251378864, "node_id": "MDU6SXNzdWUyNTEzNzg4NjQ=", "number": 635, "title": "render supersampled time_mirrored clip", "user": {"login": "timpauli", "id": 9436381, "node_id": "MDQ6VXNlcjk0MzYzODE=", "avatar_url": "https://avatars.githubusercontent.com/u/9436381?v=4", "gravatar_id": "", "url": "https://api.github.com/users/timpauli", "html_url": "https://github.com/timpauli", "followers_url": "https://api.github.com/users/timpauli/followers", "following_url": "https://api.github.com/users/timpauli/following{/other_user}", "gists_url": "https://api.github.com/users/timpauli/gists{/gist_id}", "starred_url": "https://api.github.com/users/timpauli/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/timpauli/subscriptions", "organizations_url": "https://api.github.com/users/timpauli/orgs", "repos_url": "https://api.github.com/users/timpauli/repos", "events_url": "https://api.github.com/users/timpauli/events{/privacy}", "received_events_url": "https://api.github.com/users/timpauli/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 547814220, "node_id": "MDU6TGFiZWw1NDc4MTQyMjA=", "url": "https://api.github.com/repos/Zulko/moviepy/labels/lib-misc", "name": "lib-misc", "color": "ffdcb5", "default": false, "description": "Issues pertaining to misc. 3rd-party libraries."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-08-18T23:09:09Z", "updated_at": "2020-06-04T22:52:36Z", "closed_at": "2020-06-04T22:52:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "When you call `write_videofile()` on a clip on which you called `supersample()` and `time_mirror()` before you always run into:\r\n\r\n> OSError: MoviePy error: failed to read the first frame of video file material_hd/jeita/wtf1.avi. That might mean that the file is corrupted. That may also mean that you are using a deprecated version of FFMPEG. On Ubuntu/Debian for instance the version in the repos is deprecated. Please update to a recent version from the website.\r\n\r\nExample Code:\r\n\r\n```\r\nfrom moviepy.video.fx.all import time_mirror, supersample\r\n\r\ndef supersample_time_mirror(clip):\r\n        result = supersample(clip.fx(time_mirror), 1, 1)\r\n        result.write_videofile(\"supersample_time_mirror.mp4\")\r\n```", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/635/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/635/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/586", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/586/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/586/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/586/events", "html_url": "https://github.com/Zulko/moviepy/issues/586", "id": 235981786, "node_id": "MDU6SXNzdWUyMzU5ODE3ODY=", "number": 586, "title": "Portrait videos converted to landscape on load", "user": {"login": "angyangie", "id": 16169518, "node_id": "MDQ6VXNlcjE2MTY5NTE4", "avatar_url": "https://avatars.githubusercontent.com/u/16169518?v=4", "gravatar_id": "", "url": "https://api.github.com/users/angyangie", "html_url": "https://github.com/angyangie", "followers_url": "https://api.github.com/users/angyangie/followers", "following_url": "https://api.github.com/users/angyangie/following{/other_user}", "gists_url": "https://api.github.com/users/angyangie/gists{/gist_id}", "starred_url": "https://api.github.com/users/angyangie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/angyangie/subscriptions", "organizations_url": "https://api.github.com/users/angyangie/orgs", "repos_url": "https://api.github.com/users/angyangie/repos", "events_url": "https://api.github.com/users/angyangie/events{/privacy}", "received_events_url": "https://api.github.com/users/angyangie/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 583252675, "node_id": "MDU6TGFiZWw1ODMyNTI2NzU=", "url": "https://api.github.com/repos/Zulko/moviepy/labels/video", "name": "video", "color": "bfd4f2", "default": false, "description": "Related to VideoClip and related classes, or handling of video in general."}], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Zulko/moviepy/milestones/6", "html_url": "https://github.com/Zulko/moviepy/milestone/6", "labels_url": "https://api.github.com/repos/Zulko/moviepy/milestones/6/labels", "id": 5132992, "node_id": "MDk6TWlsZXN0b25lNTEzMjk5Mg==", "number": 6, "title": "Release v2.0.0", "description": "See #1089 for discussion", "creator": {"login": "tburrows13", "id": 22625968, "node_id": "MDQ6VXNlcjIyNjI1OTY4", "avatar_url": "https://avatars.githubusercontent.com/u/22625968?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tburrows13", "html_url": "https://github.com/tburrows13", "followers_url": "https://api.github.com/users/tburrows13/followers", "following_url": "https://api.github.com/users/tburrows13/following{/other_user}", "gists_url": "https://api.github.com/users/tburrows13/gists{/gist_id}", "starred_url": "https://api.github.com/users/tburrows13/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tburrows13/subscriptions", "organizations_url": "https://api.github.com/users/tburrows13/orgs", "repos_url": "https://api.github.com/users/tburrows13/repos", "events_url": "https://api.github.com/users/tburrows13/events{/privacy}", "received_events_url": "https://api.github.com/users/tburrows13/received_events", "type": "User", "site_admin": false}, "open_issues": 17, "closed_issues": 54, "state": "open", "created_at": "2020-02-23T16:34:44Z", "updated_at": "2022-10-10T23:57:57Z", "due_on": null, "closed_at": null}, "comments": 22, "created_at": "2017-06-14T19:15:35Z", "updated_at": "2022-10-10T12:45:42Z", "closed_at": "2021-08-18T14:02:35Z", "author_association": "NONE", "active_lock_reason": "resolved", "body": "When making a VideoFileClip, as such `video = editor.VideoFileClip(video_file)`, with a `video_file` that's portrait sized (`video_file` size is [1080, 1920]), Moviepy converts to landscape, `video` = [1920, 1080]), `video.rotation` = 90. \r\n\r\nI found this workaround (below), but seems like that's something that shouldn't happen.\r\n\r\n```python \r\nif video.rotation == 90:\r\n    video = video.resize(video.size[::-1])\r\n    video.rotation = 0", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/586/reactions", "total_count": 28, "+1": 24, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 4, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/586/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/583", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/583/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/583/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/583/events", "html_url": "https://github.com/Zulko/moviepy/issues/583", "id": 233719147, "node_id": "MDU6SXNzdWUyMzM3MTkxNDc=", "number": 583, "title": "read_frame stops returning frames of data", "user": {"login": "pkarp0", "id": 3496475, "node_id": "MDQ6VXNlcjM0OTY0NzU=", "avatar_url": "https://avatars.githubusercontent.com/u/3496475?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pkarp0", "html_url": "https://github.com/pkarp0", "followers_url": "https://api.github.com/users/pkarp0/followers", "following_url": "https://api.github.com/users/pkarp0/following{/other_user}", "gists_url": "https://api.github.com/users/pkarp0/gists{/gist_id}", "starred_url": "https://api.github.com/users/pkarp0/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pkarp0/subscriptions", "organizations_url": "https://api.github.com/users/pkarp0/orgs", "repos_url": "https://api.github.com/users/pkarp0/repos", "events_url": "https://api.github.com/users/pkarp0/events{/privacy}", "received_events_url": "https://api.github.com/users/pkarp0/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 1866683148, "node_id": "MDU6TGFiZWwxODY2NjgzMTQ4", "url": "https://api.github.com/repos/Zulko/moviepy/labels/lib-FFmpeg", "name": "lib-FFmpeg", "color": "d6b289", "default": false, "description": "Issues pertaining to dependency FFmpeg."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-06-05T21:41:16Z", "updated_at": "2022-10-11T00:06:20Z", "closed_at": "2022-10-11T00:06:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "If a short HD mp4 VideoFileClip (~12MB) is concatenated after a long HD VideoFileClip (~650MB) (where both are being read from a url on amazon s3) the short clip will freeze a few seconds in since the reader no longer is returning frames.\r\n\r\n```\r\nfrom moviepy.editor import *\r\nlong_vid = VideoFileClip(\"https://example.s3.amazonaws.com/long.mp4\")\r\nshort_vid = VideoFileClip(\"https://example.s3.amazonaws.com/short.mp4\")\r\nout = concatenate_videoclip([long_vid, short_vid])\r\nout.write_videofile('output.mp4', preset='ultrafast', verbose=True)\r\n\r\n```\r\nLogs may show the ffmpeg_reader warning that xxx bytes wanted but 0 bytes read while writing frames from short_vid. This occurs after a few seconds into short_vid but the video image will be frozen from that point forward since the reader is no longer returning any data.\r\n\r\nMy workaround is to first read the short video to the local filesystem. This will not work going forward since this application must run on lightly provisioned systems.\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/583/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/583/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/576", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/576/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/576/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/576/events", "html_url": "https://github.com/Zulko/moviepy/issues/576", "id": 232858067, "node_id": "MDU6SXNzdWUyMzI4NTgwNjc=", "number": 576, "title": "Bug: ffmpeg_reader opens stderr to a socket, but never reads it - ffmpeg hangs after 4096 bytes of stderr messages", "user": {"login": "shlomimatichin", "id": 2372562, "node_id": "MDQ6VXNlcjIzNzI1NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/2372562?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shlomimatichin", "html_url": "https://github.com/shlomimatichin", "followers_url": "https://api.github.com/users/shlomimatichin/followers", "following_url": "https://api.github.com/users/shlomimatichin/following{/other_user}", "gists_url": "https://api.github.com/users/shlomimatichin/gists{/gist_id}", "starred_url": "https://api.github.com/users/shlomimatichin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shlomimatichin/subscriptions", "organizations_url": "https://api.github.com/users/shlomimatichin/orgs", "repos_url": "https://api.github.com/users/shlomimatichin/repos", "events_url": "https://api.github.com/users/shlomimatichin/events{/privacy}", "received_events_url": "https://api.github.com/users/shlomimatichin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 1866683148, "node_id": "MDU6TGFiZWwxODY2NjgzMTQ4", "url": "https://api.github.com/repos/Zulko/moviepy/labels/lib-FFmpeg", "name": "lib-FFmpeg", "color": "d6b289", "default": false, "description": "Issues pertaining to dependency FFmpeg."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-06-01T12:09:03Z", "updated_at": "2022-01-14T06:26:03Z", "closed_at": "2022-01-13T16:26:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nmoviepy/video/io/ffmpeg_reader.py line 81: stderr is opened in subprocess.PIPE mode, which underlying implementation actually opens a socket for, which the linux kernel buffers for 4096 bytes. Some of the files we've been working with produce stderr messages, and since noone ever reads the stderr pipe, the ffmpeg reader process just hangs, hanging the complete video pipeline. For our internal use we have commented out this line (and line 171), but this can also be solved by opening a thread which sole purpose is to read stderr, and prevent this hang.\r\n\r\nThanks for all your work, big fan here,\r\nShlomi", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/576/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/576/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/575", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/575/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/575/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/575/events", "html_url": "https://github.com/Zulko/moviepy/issues/575", "id": 232631674, "node_id": "MDU6SXNzdWUyMzI2MzE2NzQ=", "number": 575, "title": "On windows, a preview doesn't close when you quit.", "user": {"login": "mgrazebrook", "id": 5882988, "node_id": "MDQ6VXNlcjU4ODI5ODg=", "avatar_url": "https://avatars.githubusercontent.com/u/5882988?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mgrazebrook", "html_url": "https://github.com/mgrazebrook", "followers_url": "https://api.github.com/users/mgrazebrook/followers", "following_url": "https://api.github.com/users/mgrazebrook/following{/other_user}", "gists_url": "https://api.github.com/users/mgrazebrook/gists{/gist_id}", "starred_url": "https://api.github.com/users/mgrazebrook/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mgrazebrook/subscriptions", "organizations_url": "https://api.github.com/users/mgrazebrook/orgs", "repos_url": "https://api.github.com/users/mgrazebrook/repos", "events_url": "https://api.github.com/users/mgrazebrook/events{/privacy}", "received_events_url": "https://api.github.com/users/mgrazebrook/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 1867039394, "node_id": "MDU6TGFiZWwxODY3MDM5Mzk0", "url": "https://api.github.com/repos/Zulko/moviepy/labels/lib-Pygame", "name": "lib-Pygame", "color": "d6b289", "default": false, "description": "Issues pertaining to dependency Pygame."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-05-31T17:00:10Z", "updated_at": "2021-09-30T10:42:01Z", "closed_at": "2021-04-15T08:38:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm using windows, Python 3.6 and moviepy 0.2.3.2, run through jupyter notebook.\r\n\r\nclip.ipython_display() runs but doesn't produce any visible result.\r\n\r\nclip.preview() pops up a PyGame window. The command ends on ESC. But the window doesn't pop down. I can close it by importing pygame and calling pygame.quit()\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/575/reactions", "total_count": 4, "+1": 4, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/575/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/574", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/574/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/574/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/574/events", "html_url": "https://github.com/Zulko/moviepy/issues/574", "id": 232371154, "node_id": "MDU6SXNzdWUyMzIzNzExNTQ=", "number": 574, "title": "wrong video duration value when concatenating videos with method = compose", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 583252675, "node_id": "MDU6TGFiZWw1ODMyNTI2NzU=", "url": "https://api.github.com/repos/Zulko/moviepy/labels/video", "name": "video", "color": "bfd4f2", "default": false, "description": "Related to VideoClip and related classes, or handling of video in general."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Zulko/moviepy/milestones/4", "html_url": "https://github.com/Zulko/moviepy/milestone/4", "labels_url": "https://api.github.com/repos/Zulko/moviepy/milestones/4/labels", "id": 2455242, "node_id": "MDk6TWlsZXN0b25lMjQ1NTI0Mg==", "number": 4, "title": "Release v0.2.3.3", "description": "", "creator": {"login": "mbeacom", "id": 7315957, "node_id": "MDQ6VXNlcjczMTU5NTc=", "avatar_url": "https://avatars.githubusercontent.com/u/7315957?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mbeacom", "html_url": "https://github.com/mbeacom", "followers_url": "https://api.github.com/users/mbeacom/followers", "following_url": "https://api.github.com/users/mbeacom/following{/other_user}", "gists_url": "https://api.github.com/users/mbeacom/gists{/gist_id}", "starred_url": "https://api.github.com/users/mbeacom/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mbeacom/subscriptions", "organizations_url": "https://api.github.com/users/mbeacom/orgs", "repos_url": "https://api.github.com/users/mbeacom/repos", "events_url": "https://api.github.com/users/mbeacom/events{/privacy}", "received_events_url": "https://api.github.com/users/mbeacom/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 10, "state": "closed", "created_at": "2017-04-13T12:15:22Z", "updated_at": "2020-04-15T11:32:26Z", "due_on": null, "closed_at": "2020-02-23T16:37:19Z"}, "comments": 5, "created_at": "2017-05-30T20:25:07Z", "updated_at": "2022-07-04T12:48:26Z", "closed_at": "2018-04-18T17:21:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "It seems that subclip is producing the wrong duration at times.   The duration is 1100.17, but the 4th line in the output shows 497.16 instead of 1100.17.   I wonder if this is the mask, or something about one of the decorators?  This causes issues later when you try to do a video.subclip(\"0:10:00\"), which the t_start > duration.   I will assign myself to this issue, but if someone knows the answer, let me know.. Thanks!\r\nBilly\r\n\r\n```\r\nvideo=concatenate([title, info_arrives1, part2, part3, part4], method=\"compose\")\r\n\r\nprint(video.duration)\r\nvideo1=video.subclip(0,17)\r\nprint(\"video2\")\r\nvideo2=video.subclip(23,\"0:01:23\")\r\nprint(\"video3\")\r\nvideo3=video.subclip(\"0:03:36\", \"0:05:22\")\r\n```\r\n\r\n```\r\n1100.17\r\n<moviepy.video.compositing.CompositeVideoClip.CompositeVideoClip object at 0x7f43b183ceb8> 1100.17 0\r\n<moviepy.audio.AudioClip.CompositeAudioClip object at 0x7f43b18518d0> 1100.17 0\r\n<moviepy.video.compositing.CompositeVideoClip.CompositeVideoClip object at 0x7f43b1851908> 497.16 0\r\nvideo2\r\n<moviepy.video.compositing.CompositeVideoClip.CompositeVideoClip object at 0x7f43b183ceb8> 1100.17 23\r\n<moviepy.audio.AudioClip.CompositeAudioClip object at 0x7f43b1851b00> 1100.17 23\r\n<moviepy.video.compositing.CompositeVideoClip.CompositeVideoClip object at 0x7f43b1851b70> 497.16 23\r\nvideo3\r\n```", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/574/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/574/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/569", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/569/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/569/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/569/events", "html_url": "https://github.com/Zulko/moviepy/issues/569", "id": 231057280, "node_id": "MDU6SXNzdWUyMzEwNTcyODA=", "number": 569, "title": "Problem grabbing clip of video (invalid handle)", "user": {"login": "ScriptKittyGardian", "id": 18232889, "node_id": "MDQ6VXNlcjE4MjMyODg5", "avatar_url": "https://avatars.githubusercontent.com/u/18232889?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ScriptKittyGardian", "html_url": "https://github.com/ScriptKittyGardian", "followers_url": "https://api.github.com/users/ScriptKittyGardian/followers", "following_url": "https://api.github.com/users/ScriptKittyGardian/following{/other_user}", "gists_url": "https://api.github.com/users/ScriptKittyGardian/gists{/gist_id}", "starred_url": "https://api.github.com/users/ScriptKittyGardian/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ScriptKittyGardian/subscriptions", "organizations_url": "https://api.github.com/users/ScriptKittyGardian/orgs", "repos_url": "https://api.github.com/users/ScriptKittyGardian/repos", "events_url": "https://api.github.com/users/ScriptKittyGardian/events{/privacy}", "received_events_url": "https://api.github.com/users/ScriptKittyGardian/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-05-24T14:21:56Z", "updated_at": "2020-05-09T01:08:37Z", "closed_at": "2020-05-09T01:08:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm working on a script to download and edit videos from youtube, but I keep gettting this error:\r\n```\r\nTraceback (most recent call last):\r\n  File \"C:\\Python34\\YoutubeProject\\stageOne.py\", line 56, in <module>\r\n    clip.write_videofile(os.path.dirname(os.path.realpath(__file__)) + '/' + requestDate + '/' + str(i) + \"video\" + '.mp4')\r\n  File \"<decorator-gen-51>\", line 2, in write_videofile\r\n  File \"C:\\Python34\\lib\\site-packages\\moviepy\\decorators.py\", line 54, in requires_duration\r\n    return f(clip, *a, **k)\r\n  File \"<decorator-gen-50>\", line 2, in write_videofile\r\n  File \"C:\\Python34\\lib\\site-packages\\moviepy\\decorators.py\", line 137, in use_clip_fps_by_default\r\n    return f(clip, *new_a, **new_kw)\r\n  File \"<decorator-gen-49>\", line 2, in write_videofile\r\n  File \"C:\\Python34\\lib\\site-packages\\moviepy\\decorators.py\", line 22, in convert_masks_to_RGB\r\n    return f(clip, *a, **k)\r\n  File \"C:\\Python34\\lib\\site-packages\\moviepy\\video\\VideoClip.py\", line 349, in write_videofile\r\n    progress_bar=progress_bar)\r\n  File \"C:\\Python34\\lib\\site-packages\\moviepy\\video\\io\\ffmpeg_writer.py\", line 204, in ffmpeg_write_video\r\n    ffmpeg_params=ffmpeg_params)\r\n  File \"C:\\Python34\\lib\\site-packages\\moviepy\\video\\io\\ffmpeg_writer.py\", line 127, in __init__\r\n    self.proc = sp.Popen(cmd, **popen_params)\r\n  File \"C:\\Python34\\lib\\subprocess.py\", line 754, in __init__\r\n    _cleanup()\r\n  File \"C:\\Python34\\lib\\subprocess.py\", line 474, in _cleanup\r\n    res = inst._internal_poll(_deadstate=sys.maxsize)\r\n  File \"C:\\Python34\\lib\\subprocess.py\", line 1147, in _internal_poll\r\n    if _WaitForSingleObject(self._handle, 0) == _WAIT_OBJECT_0:\r\nOSError: [WinError 6] The handle is invalid\r\n```\r\n\r\nWhenever I try to open it as a video clip.  The other files work fine.  I've tried adding a delay after the download completes, but that doesn't change anything.  Apparently I can't upload the video here.\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/569/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/569/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/563", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/563/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/563/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/563/events", "html_url": "https://github.com/Zulko/moviepy/issues/563", "id": 228412655, "node_id": "MDU6SXNzdWUyMjg0MTI2NTU=", "number": 563, "title": "Investigate test_matplotlib and test_issue_368 failures", "user": {"login": "mbeacom", "id": 7315957, "node_id": "MDQ6VXNlcjczMTU5NTc=", "avatar_url": "https://avatars.githubusercontent.com/u/7315957?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mbeacom", "html_url": "https://github.com/mbeacom", "followers_url": "https://api.github.com/users/mbeacom/followers", "following_url": "https://api.github.com/users/mbeacom/following{/other_user}", "gists_url": "https://api.github.com/users/mbeacom/gists{/gist_id}", "starred_url": "https://api.github.com/users/mbeacom/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mbeacom/subscriptions", "organizations_url": "https://api.github.com/users/mbeacom/orgs", "repos_url": "https://api.github.com/users/mbeacom/repos", "events_url": "https://api.github.com/users/mbeacom/events{/privacy}", "received_events_url": "https://api.github.com/users/mbeacom/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 540132314, "node_id": "MDU6TGFiZWw1NDAxMzIzMTQ=", "url": "https://api.github.com/repos/Zulko/moviepy/labels/tests", "name": "tests", "color": "abb0ff", "default": false, "description": "Related to individual tests in the test suite or running the test suite."}, {"id": 583253179, "node_id": "MDU6TGFiZWw1ODMyNTMxNzk=", "url": "https://api.github.com/repos/Zulko/moviepy/labels/tests-needed", "name": "tests-needed", "color": "7c82e6", "default": false, "description": "PRs/code submissions which need test cases added to them."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-05-12T21:27:59Z", "updated_at": "2021-01-13T15:49:33Z", "closed_at": "2021-01-13T11:58:59Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "The `test_issue_368` method in `test_issues.py` and `test_matplotlib` in `test_examples.py` fails during travis builds for Python 3.4 and 3.6 (which includes all matrices now as the others are already disabled for these tests).", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/563/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/563/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/557", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/557/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/557/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/557/events", "html_url": "https://github.com/Zulko/moviepy/issues/557", "id": 225901366, "node_id": "MDU6SXNzdWUyMjU5MDEzNjY=", "number": 557, "title": "Small subclips(less than a second) have wrong duration", "user": {"login": "OrDuan", "id": 5006049, "node_id": "MDQ6VXNlcjUwMDYwNDk=", "avatar_url": "https://avatars.githubusercontent.com/u/5006049?v=4", "gravatar_id": "", "url": "https://api.github.com/users/OrDuan", "html_url": "https://github.com/OrDuan", "followers_url": "https://api.github.com/users/OrDuan/followers", "following_url": "https://api.github.com/users/OrDuan/following{/other_user}", "gists_url": "https://api.github.com/users/OrDuan/gists{/gist_id}", "starred_url": "https://api.github.com/users/OrDuan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/OrDuan/subscriptions", "organizations_url": "https://api.github.com/users/OrDuan/orgs", "repos_url": "https://api.github.com/users/OrDuan/repos", "events_url": "https://api.github.com/users/OrDuan/events{/privacy}", "received_events_url": "https://api.github.com/users/OrDuan/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 583252675, "node_id": "MDU6TGFiZWw1ODMyNTI2NzU=", "url": "https://api.github.com/repos/Zulko/moviepy/labels/video", "name": "video", "color": "bfd4f2", "default": false, "description": "Related to VideoClip and related classes, or handling of video in general."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-05-03T07:18:34Z", "updated_at": "2022-01-14T17:07:02Z", "closed_at": "2022-01-14T17:06:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "Maybe I missed something, but I'm trying to `subclip` small clips (less than one sec) into multiple files.\r\n\r\n```\r\nclip = VideoFileClip('input.webm').subclip(20.259, 20.949)\r\nclip.write_videofile('output.webm')\r\n```\r\nThe `output.web` is indeed really short when playing it, but I can see the duration on the file properties:\r\n`Duration: 27 hours 3 minutes 12 seconds`\r\n\r\nAlso when playing the file with with Ubuntu's video player, the end time is 27 hours(but it plays for short time).\r\n\r\nI tried to play with the numbers, and when the duration is 0.6 or 0.9 it does work correctly - might be related to framerate == 30?\r\n\r\nThis is an issue when trying to `concatenate` them because it takes ages(the script thinks it is really long video somehow).\r\n\r\nFor a workaround I used `ffmpeg_extract_subclip` that gives me less flexibility with the `clip` object, but does the work.\r\n\r\nThanks for the help!", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/557/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/557/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/546", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/546/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/546/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/546/events", "html_url": "https://github.com/Zulko/moviepy/issues/546", "id": 221857513, "node_id": "MDU6SXNzdWUyMjE4NTc1MTM=", "number": 546, "title": "Is there one potential bug in FFMPEG_READER?", "user": {"login": "duguyue100", "id": 939553, "node_id": "MDQ6VXNlcjkzOTU1Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/939553?v=4", "gravatar_id": "", "url": "https://api.github.com/users/duguyue100", "html_url": "https://github.com/duguyue100", "followers_url": "https://api.github.com/users/duguyue100/followers", "following_url": "https://api.github.com/users/duguyue100/following{/other_user}", "gists_url": "https://api.github.com/users/duguyue100/gists{/gist_id}", "starred_url": "https://api.github.com/users/duguyue100/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/duguyue100/subscriptions", "organizations_url": "https://api.github.com/users/duguyue100/orgs", "repos_url": "https://api.github.com/users/duguyue100/repos", "events_url": "https://api.github.com/users/duguyue100/events{/privacy}", "received_events_url": "https://api.github.com/users/duguyue100/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2017-04-14T17:54:52Z", "updated_at": "2017-04-17T18:15:05Z", "closed_at": "2017-04-17T18:11:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nI'm using moviepy to read my video, using `FFMPEG_VideoReader`. As I'm reading a large volume of videos, I start to get this warning message:\r\n\r\n```\r\nWarning: in file /to/path/dataset/UCF-101-split/train/UnevenBars/v_UnevenBars_g20_c03.avi, 230400 bytes wanted but 0 bytes read,at frame 91/101, at time 3.64/4.00 sec. Using the last valid frame instead.\r\n```\r\n\r\nAnd then I tested my load frame function, it appears fine if I load the same video. I'm reading UCF-101 where there are about 13,000 videos for training a neural network. This really bug me because I don't see the reason why this is happening.\r\n\r\nHere I attached my entire video loading function:\r\n\r\n```python\r\ndef load_video(path, grayscale=False, target_size=None,\r\n               n_frames=None, data_format=None):\r\n    \"\"\"Load Video.\"\"\"\r\n    if data_format is None:\r\n        data_format = K.image_data_format()\r\n    if data_format not in {'channels_first', 'channels_last'}:\r\n        raise ValueError('Unknown data_format: ', data_format)\r\n\r\n    vid_container = FFMPEG_VideoReader(path)\r\n    # calculate how many frames skipped\r\n    skip_frames = vid_container.nframes // n_frames\r\n    frames = []\r\n    for i in xrange(n_frames):\r\n        frame_t = vid_container.read_frame()\r\n        frame_t = util.img_as_float(frame_t)\r\n\r\n        # gray scale\r\n        if grayscale:\r\n            if frame_t.ndim == 3:\r\n                frame_t = color.rgb2gray(frame_t)\r\n\r\n        # resize\r\n        if target_size:\r\n            frame_t = transform.resize(frame_t, target_size)\r\n        # skip frames\r\n        vid_container.skip_frames(skip_frames)\r\n        frames.append(frame_t)\r\n\r\n    vid_container.close()\r\n\r\n    # make sure it's n_frames\r\n    assert len(frames) == n_frames\r\n\r\n    frames = np.asarray(frames, dtype=np.float32)\r\n    # match data format\r\n    if len(frames.shape) == 4:\r\n        if data_format == 'channels_first':\r\n            frames = frames.transpose(0, 3, 1, 2)\r\n    elif len(frames.shape) == 3:\r\n        if data_format == 'channels_first':\r\n            frames = frames.reshape(\r\n                (frames.shape[0], 1, frames.shape[1], frames.shape[2]))\r\n        else:\r\n            frames = frames.reshape(\r\n                (frames.shape[0], frames.shape[1], frames.shape[2], 1))\r\n    else:\r\n        raise ValueError('Unsupported image shape: ', frames.shape)\r\n\r\n    return frames\r\n```\r\n\r\nRegards,\r\nYuhuang.", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/546/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/546/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/527", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/527/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/527/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/527/events", "html_url": "https://github.com/Zulko/moviepy/issues/527", "id": 219679475, "node_id": "MDU6SXNzdWUyMTk2Nzk0NzU=", "number": 527, "title": "vfx.scroll giving TypeError: slice indices must be integers or None or have an __index__ method", "user": {"login": "tburrows13", "id": 22625968, "node_id": "MDQ6VXNlcjIyNjI1OTY4", "avatar_url": "https://avatars.githubusercontent.com/u/22625968?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tburrows13", "html_url": "https://github.com/tburrows13", "followers_url": "https://api.github.com/users/tburrows13/followers", "following_url": "https://api.github.com/users/tburrows13/following{/other_user}", "gists_url": "https://api.github.com/users/tburrows13/gists{/gist_id}", "starred_url": "https://api.github.com/users/tburrows13/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tburrows13/subscriptions", "organizations_url": "https://api.github.com/users/tburrows13/orgs", "repos_url": "https://api.github.com/users/tburrows13/repos", "events_url": "https://api.github.com/users/tburrows13/events{/privacy}", "received_events_url": "https://api.github.com/users/tburrows13/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2017-04-05T18:48:32Z", "updated_at": "2017-04-14T13:17:04Z", "closed_at": "2017-04-14T13:17:04Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "I run:\r\n```clip = ImageClip(\"panorama.jpg\")\r\nnew_clip = vfx.scroll(clip, w=1000, x_speed=5)\r\nnew_clip = new_clip.set_duration(float(clip.w - 1000) / 5)\r\nnew_clip.write_videofile(\"pano.mp4\", fps=24)\r\n```\r\nas recommended by Zulko in #240, but it gives the following error:\r\n\r\n```Traceback (most recent call last):\r\n  File \"/Users/tomburrows/Dropbox/Python Programming/QF_Editor/panorama_scroll.py\", line 8, in <module>\r\n    new_clip.write_videofile(\"pano.mp4\")\r\n  File \"<decorator-gen-51>\", line 2, in write_videofile\r\n  File \"/anaconda/lib/python3.5/site-packages/moviepy/decorators.py\", line 54, in requires_duration\r\n    return f(clip, *a, **k)\r\n  File \"<decorator-gen-50>\", line 2, in write_videofile\r\n  File \"/anaconda/lib/python3.5/site-packages/moviepy/decorators.py\", line 137, in use_clip_fps_by_default\r\n    return f(clip, *new_a, **new_kw)\r\n  File \"<decorator-gen-49>\", line 2, in write_videofile\r\n  File \"/anaconda/lib/python3.5/site-packages/moviepy/decorators.py\", line 22, in convert_masks_to_RGB\r\n    return f(clip, *a, **k)\r\n  File \"/anaconda/lib/python3.5/site-packages/moviepy/video/VideoClip.py\", line 345, in write_videofile\r\n    progress_bar=progress_bar)\r\n  File \"/anaconda/lib/python3.5/site-packages/moviepy/video/io/ffmpeg_writer.py\", line 209, in ffmpeg_write_video\r\n    fps=fps, dtype=\"uint8\"):\r\n  File \"/anaconda/lib/python3.5/site-packages/tqdm/_tqdm.py\", line 833, in __iter__\r\n    for obj in iterable:\r\n  File \"/anaconda/lib/python3.5/site-packages/moviepy/Clip.py\", line 475, in generator\r\n    frame = self.get_frame(t)\r\n  File \"<decorator-gen-14>\", line 2, in get_frame\r\n  File \"/anaconda/lib/python3.5/site-packages/moviepy/decorators.py\", line 89, in wrapper\r\n    return f(*new_a, **new_kw)\r\n  File \"/anaconda/lib/python3.5/site-packages/moviepy/Clip.py\", line 95, in get_frame\r\n    return self.make_frame(t)\r\n  File \"/anaconda/lib/python3.5/site-packages/moviepy/Clip.py\", line 136, in <lambda>\r\n    newclip = self.set_make_frame(lambda t: fun(self.get_frame, t))\r\n  File \"/anaconda/lib/python3.5/site-packages/moviepy/video/fx/scroll.py\", line 17, in f\r\n    return gf(t)[y:y+h, x:x+w]\r\nTypeError: slice indices must be integers or None or have an __index__ method\r\n```\r\nDoing some research, this is because `x` is  0 when you first call it, but then when it writes the video to a file, it iterates for each frame, and the second time, x is 1.0. This is a float, not an int so it fails.\r\nA solution that worked for me is to change lines 14 and 15 of `scroll.py` to change the float into a int.\r\nCan anyone repro this, and shall we make the suggested changes?", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/527/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/527/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/525", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/525/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/525/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/525/events", "html_url": "https://github.com/Zulko/moviepy/issues/525", "id": 219483895, "node_id": "MDU6SXNzdWUyMTk0ODM4OTU=", "number": 525, "title": "Documentation build failures", "user": {"login": "mbeacom", "id": 7315957, "node_id": "MDQ6VXNlcjczMTU5NTc=", "avatar_url": "https://avatars.githubusercontent.com/u/7315957?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mbeacom", "html_url": "https://github.com/mbeacom", "followers_url": "https://api.github.com/users/mbeacom/followers", "following_url": "https://api.github.com/users/mbeacom/following{/other_user}", "gists_url": "https://api.github.com/users/mbeacom/gists{/gist_id}", "starred_url": "https://api.github.com/users/mbeacom/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mbeacom/subscriptions", "organizations_url": "https://api.github.com/users/mbeacom/orgs", "repos_url": "https://api.github.com/users/mbeacom/repos", "events_url": "https://api.github.com/users/mbeacom/events{/privacy}", "received_events_url": "https://api.github.com/users/mbeacom/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 540131892, "node_id": "MDU6TGFiZWw1NDAxMzE4OTI=", "url": "https://api.github.com/repos/Zulko/moviepy/labels/documentation", "name": "documentation", "color": "37d6db", "default": true, "description": "Related to documentation in official project docs or individual docstrings."}], "state": "closed", "locked": false, "assignee": {"login": "mbeacom", "id": 7315957, "node_id": "MDQ6VXNlcjczMTU5NTc=", "avatar_url": "https://avatars.githubusercontent.com/u/7315957?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mbeacom", "html_url": "https://github.com/mbeacom", "followers_url": "https://api.github.com/users/mbeacom/followers", "following_url": "https://api.github.com/users/mbeacom/following{/other_user}", "gists_url": "https://api.github.com/users/mbeacom/gists{/gist_id}", "starred_url": "https://api.github.com/users/mbeacom/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mbeacom/subscriptions", "organizations_url": "https://api.github.com/users/mbeacom/orgs", "repos_url": "https://api.github.com/users/mbeacom/repos", "events_url": "https://api.github.com/users/mbeacom/events{/privacy}", "received_events_url": "https://api.github.com/users/mbeacom/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "mbeacom", "id": 7315957, "node_id": "MDQ6VXNlcjczMTU5NTc=", "avatar_url": "https://avatars.githubusercontent.com/u/7315957?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mbeacom", "html_url": "https://github.com/mbeacom", "followers_url": "https://api.github.com/users/mbeacom/followers", "following_url": "https://api.github.com/users/mbeacom/following{/other_user}", "gists_url": "https://api.github.com/users/mbeacom/gists{/gist_id}", "starred_url": "https://api.github.com/users/mbeacom/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mbeacom/subscriptions", "organizations_url": "https://api.github.com/users/mbeacom/orgs", "repos_url": "https://api.github.com/users/mbeacom/repos", "events_url": "https://api.github.com/users/mbeacom/events{/privacy}", "received_events_url": "https://api.github.com/users/mbeacom/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/Zulko/moviepy/milestones/3", "html_url": "https://github.com/Zulko/moviepy/milestone/3", "labels_url": "https://api.github.com/repos/Zulko/moviepy/milestones/3/labels", "id": 2435629, "node_id": "MDk6TWlsZXN0b25lMjQzNTYyOQ==", "number": 3, "title": "Release v0.2.3.2", "description": "", "creator": {"login": "mbeacom", "id": 7315957, "node_id": "MDQ6VXNlcjczMTU5NTc=", "avatar_url": "https://avatars.githubusercontent.com/u/7315957?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mbeacom", "html_url": "https://github.com/mbeacom", "followers_url": "https://api.github.com/users/mbeacom/followers", "following_url": "https://api.github.com/users/mbeacom/following{/other_user}", "gists_url": "https://api.github.com/users/mbeacom/gists{/gist_id}", "starred_url": "https://api.github.com/users/mbeacom/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mbeacom/subscriptions", "organizations_url": "https://api.github.com/users/mbeacom/orgs", "repos_url": "https://api.github.com/users/mbeacom/repos", "events_url": "https://api.github.com/users/mbeacom/events{/privacy}", "received_events_url": "https://api.github.com/users/mbeacom/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 7, "state": "closed", "created_at": "2017-04-05T04:13:50Z", "updated_at": "2017-04-13T15:55:59Z", "due_on": "2017-04-19T07:00:00Z", "closed_at": "2017-04-13T15:55:59Z"}, "comments": 6, "created_at": "2017-04-05T06:44:35Z", "updated_at": "2017-04-05T16:12:51Z", "closed_at": "2017-04-05T16:12:51Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Currently, when you run `make html` inside of `docs`, you receive numerous errors for missing dependencies and bad links.", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/525/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/525/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/521", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/521/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/521/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/521/events", "html_url": "https://github.com/Zulko/moviepy/issues/521", "id": 218834238, "node_id": "MDU6SXNzdWUyMTg4MzQyMzg=", "number": 521, "title": "Index is out of bounds - AudioFileClip", "user": {"login": "pchheda", "id": 7886397, "node_id": "MDQ6VXNlcjc4ODYzOTc=", "avatar_url": "https://avatars.githubusercontent.com/u/7886397?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pchheda", "html_url": "https://github.com/pchheda", "followers_url": "https://api.github.com/users/pchheda/followers", "following_url": "https://api.github.com/users/pchheda/following{/other_user}", "gists_url": "https://api.github.com/users/pchheda/gists{/gist_id}", "starred_url": "https://api.github.com/users/pchheda/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pchheda/subscriptions", "organizations_url": "https://api.github.com/users/pchheda/orgs", "repos_url": "https://api.github.com/users/pchheda/repos", "events_url": "https://api.github.com/users/pchheda/events{/privacy}", "received_events_url": "https://api.github.com/users/pchheda/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2017-04-03T05:35:27Z", "updated_at": "2017-04-13T07:58:33Z", "closed_at": "2017-04-13T07:58:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\r\n\r\nI am trying to create a VideoClip using:\r\n\r\n`initial_clip.write_videofile('initial.mp4', codec='mpeg4', fps=24, audio_codec='libmp3lame')`\r\n\r\nwhere initial_clip is my VideoClip. I am getting the following error:\r\n```\r\nFile \"/usr/local/lib/python3.6/site-packages/moviepy/audio/io/readers.py\", line 187, in get_frame\r\n    result[in_time] = self.buffer[indices]\r\nIndexError: index 100197 is out of bounds for axis 0 with size 100197\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/Users/pankit/Documents/python-workspace/ttv_v1/imageprocessing/make_video.py\", line 272, in <module>\r\n    sys.exit(make_video_from_file())\r\n  File \"/Users/pankit/Documents/python-workspace/ttv_v1/imageprocessing/make_video.py\", line 249, in make_video_from_file\r\n    create_animated_clip(sentence)\r\n  File \"/Users/pankit/Documents/python-workspace/ttv_v1/imageprocessing/make_video.py\", line 152, in create_animated_clip\r\n    initial_clip.write_videofile('initial.mp4', codec='mpeg4', fps=24, audio_codec='libmp3lame')\r\n  File \"<decorator-gen-51>\", line 2, in write_videofile\r\n  File \"/usr/local/lib/python3.6/site-packages/moviepy/decorators.py\", line 54, in requires_duration\r\n    return f(clip, *a, **k)\r\n  File \"<decorator-gen-50>\", line 2, in write_videofile\r\n  File \"/usr/local/lib/python3.6/site-packages/moviepy/decorators.py\", line 137, in use_clip_fps_by_default\r\n    return f(clip, *new_a, **new_kw)\r\n  File \"<decorator-gen-49>\", line 2, in write_videofile\r\n  File \"/usr/local/lib/python3.6/site-packages/moviepy/decorators.py\", line 22, in convert_masks_to_RGB\r\n    return f(clip, *a, **k)\r\n  File \"/usr/local/lib/python3.6/site-packages/moviepy/video/VideoClip.py\", line 330, in write_videofile\r\n    verbose=verbose)\r\n  File \"<decorator-gen-73>\", line 2, in write_audiofile\r\n  File \"/usr/local/lib/python3.6/site-packages/moviepy/decorators.py\", line 54, in requires_duration\r\n    return f(clip, *a, **k)\r\n  File \"/usr/local/lib/python3.6/site-packages/moviepy/audio/AudioClip.py\", line 204, in write_audiofile\r\n    verbose=verbose, ffmpeg_params=ffmpeg_params)\r\n  File \"<decorator-gen-70>\", line 2, in ffmpeg_audiowrite\r\n  File \"/usr/local/lib/python3.6/site-packages/moviepy/decorators.py\", line 54, in requires_duration\r\n    return f(clip, *a, **k)\r\n  File \"/usr/local/lib/python3.6/site-packages/moviepy/audio/io/ffmpeg_audiowriter.py\", line 167, in ffmpeg_audiowrite\r\n    nbytes= nbytes, fps=fps):\r\n  File \"/usr/local/lib/python3.6/site-packages/tqdm/_tqdm.py\", line 833, in __iter__\r\n    for obj in iterable:\r\n  File \"/usr/local/lib/python3.6/site-packages/moviepy/audio/AudioClip.py\", line 81, in generator\r\n    buffersize=chunksize)\r\n  File \"<decorator-gen-72>\", line 2, in to_soundarray\r\n  File \"/usr/local/lib/python3.6/site-packages/moviepy/decorators.py\", line 54, in requires_duration\r\n    return f(clip, *a, **k)\r\n  File \"/usr/local/lib/python3.6/site-packages/moviepy/audio/AudioClip.py\", line 127, in to_soundarray\r\n    snd_array = self.get_frame(tt)\r\n  File \"<decorator-gen-14>\", line 2, in get_frame\r\n  File \"/usr/local/lib/python3.6/site-packages/moviepy/decorators.py\", line 89, in wrapper\r\n    return f(*new_a, **new_kw)\r\n  File \"/usr/local/lib/python3.6/site-packages/moviepy/Clip.py\", line 95, in get_frame\r\n    return self.make_frame(t)\r\n  File \"/usr/local/lib/python3.6/site-packages/moviepy/Clip.py\", line 136, in <lambda>\r\n    newclip = self.set_make_frame(lambda t: fun(self.get_frame, t))\r\n  File \"/usr/local/lib/python3.6/site-packages/moviepy/Clip.py\", line 188, in <lambda>\r\n    return self.fl(lambda gf, t: gf(t_func(t)), apply_to,\r\n  File \"<decorator-gen-14>\", line 2, in get_frame\r\n  File \"/usr/local/lib/python3.6/site-packages/moviepy/decorators.py\", line 89, in wrapper\r\n    return f(*new_a, **new_kw)\r\n  File \"/usr/local/lib/python3.6/site-packages/moviepy/Clip.py\", line 95, in get_frame\r\n    return self.make_frame(t)\r\n  File \"/usr/local/lib/python3.6/site-packages/moviepy/audio/AudioClip.py\", line 292, in make_frame\r\n    for c,part in zip(self.clips, played_parts)\r\n  File \"/usr/local/lib/python3.6/site-packages/moviepy/audio/AudioClip.py\", line 293, in <listcomp>\r\n    if (part is not False) ]\r\n  File \"<decorator-gen-14>\", line 2, in get_frame\r\n  File \"/usr/local/lib/python3.6/site-packages/moviepy/decorators.py\", line 89, in wrapper\r\n    return f(*new_a, **new_kw)\r\n  File \"/usr/local/lib/python3.6/site-packages/moviepy/Clip.py\", line 95, in get_frame\r\n    return self.make_frame(t)\r\n  File \"/usr/local/lib/python3.6/site-packages/moviepy/Clip.py\", line 136, in <lambda>\r\n    newclip = self.set_make_frame(lambda t: fun(self.get_frame, t))\r\n  File \"/usr/local/lib/python3.6/site-packages/moviepy/Clip.py\", line 188, in <lambda>\r\n    return self.fl(lambda gf, t: gf(t_func(t)), apply_to,\r\n  File \"<decorator-gen-14>\", line 2, in get_frame\r\n  File \"/usr/local/lib/python3.6/site-packages/moviepy/decorators.py\", line 89, in wrapper\r\n    return f(*new_a, **new_kw)\r\n  File \"/usr/local/lib/python3.6/site-packages/moviepy/Clip.py\", line 95, in get_frame\r\n    return self.make_frame(t)\r\n  File \"/usr/local/lib/python3.6/site-packages/moviepy/audio/io/AudioFileClip.py\", line 71, in <lambda>\r\n    self.make_frame =  lambda t: reader.get_frame(t)\r\n  File \"/usr/local/lib/python3.6/site-packages/moviepy/audio/io/readers.py\", line 193, in get_frame\r\n    \"but len(buffer)=%d\\n\"%(len(self.buffer))+ str(error))\r\nOSError: Error in file initial1.mp4, At time t=13.61-13.61 seconds, indices wanted: 100000-100200, but len(buffer)=100197\r\nindex 100197 is out of bounds for axis 0 with size 100197\r\n```\r\nI looked at a bunch of issues in the past which say this has been resolved, but I am still encountering the same.\r\n\r\n@Zulko your help will be appreciated. Thanks in advance.", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/521/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/521/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/482", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/482/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/482/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/482/events", "html_url": "https://github.com/Zulko/moviepy/issues/482", "id": 213564330, "node_id": "MDU6SXNzdWUyMTM1NjQzMzA=", "number": 482, "title": "Fix documentation", "user": {"login": "keikoro", "id": 559572, "node_id": "MDQ6VXNlcjU1OTU3Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/559572?v=4", "gravatar_id": "", "url": "https://api.github.com/users/keikoro", "html_url": "https://github.com/keikoro", "followers_url": "https://api.github.com/users/keikoro/followers", "following_url": "https://api.github.com/users/keikoro/following{/other_user}", "gists_url": "https://api.github.com/users/keikoro/gists{/gist_id}", "starred_url": "https://api.github.com/users/keikoro/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/keikoro/subscriptions", "organizations_url": "https://api.github.com/users/keikoro/orgs", "repos_url": "https://api.github.com/users/keikoro/repos", "events_url": "https://api.github.com/users/keikoro/events{/privacy}", "received_events_url": "https://api.github.com/users/keikoro/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 540131892, "node_id": "MDU6TGFiZWw1NDAxMzE4OTI=", "url": "https://api.github.com/repos/Zulko/moviepy/labels/documentation", "name": "documentation", "color": "37d6db", "default": true, "description": "Related to documentation in official project docs or individual docstrings."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2017-03-11T22:29:37Z", "updated_at": "2020-02-22T15:46:25Z", "closed_at": "2020-02-22T15:46:25Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "The documentation needs to be fixed.\r\n\r\nCurrently, Sphinx throws lots of errors and warnings and the generated HTML is missing parts and even whole pages. It also looks like files are getting duplicated now (maybe due to changes in how Sphinx does things?): newly generated sources have `.rst.txt` as file extension, but files with the same contents already exist with a `.txt` extension. (These files are saved in the `_sources` dir of the generated docs.)\r\n\r\nAs far as I can tell, Sphinx is supposed to incorporate the docstrings of certain classes/methods on some pages, and that is currently failing, so I'm guessing these \"includes\" aren't referenced correctly (anymore).", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/482/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/482/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/470", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/470/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/470/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/470/events", "html_url": "https://github.com/Zulko/moviepy/issues/470", "id": 212254435, "node_id": "MDU6SXNzdWUyMTIyNTQ0MzU=", "number": 470, "title": "Possible to create out of bounds subclip", "user": {"login": "danielhaaser", "id": 1690436, "node_id": "MDQ6VXNlcjE2OTA0MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/1690436?v=4", "gravatar_id": "", "url": "https://api.github.com/users/danielhaaser", "html_url": "https://github.com/danielhaaser", "followers_url": "https://api.github.com/users/danielhaaser/followers", "following_url": "https://api.github.com/users/danielhaaser/following{/other_user}", "gists_url": "https://api.github.com/users/danielhaaser/gists{/gist_id}", "starred_url": "https://api.github.com/users/danielhaaser/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/danielhaaser/subscriptions", "organizations_url": "https://api.github.com/users/danielhaaser/orgs", "repos_url": "https://api.github.com/users/danielhaaser/repos", "events_url": "https://api.github.com/users/danielhaaser/events{/privacy}", "received_events_url": "https://api.github.com/users/danielhaaser/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2017-03-06T21:25:01Z", "updated_at": "2017-03-14T12:42:15Z", "closed_at": "2017-03-13T19:41:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "This reproduces the issue:\r\n```python\r\n#!/usr/bin/python\r\n\r\nfrom moviepy.editor import *\r\n\r\n\r\ndef main():\r\n    # audio clip is 2:20 long (140 seconds)\r\n    audio_clip = AudioFileClip('pull-up-a-chair.mp3')\r\n\r\n    # t_end is out of bounds\r\n    subclip = audio_clip.subclip(t_start=130, t_end=150)\r\n    subclip.write_audiofile('render.wav', write_logfile=True)\r\n\r\n\r\nif __name__ == \"__main__\":\r\n    main()\r\n```\r\n\r\npull-up-a-chair.mp3 is freely available to download [here](http://us.battle.net/hearthstone/en/media/) at the bottom of the page.\r\n\r\nThis above errors out with:\r\n`ValueError: zero-size array to reduction operation minimum which has no identity`\r\n\r\nThis is Python 3.6 with the following libs:\r\n```\r\nappdirs==1.4.2\r\ndecorator==4.0.11\r\nimageio==2.1.2\r\nmoviepy==0.2.2.13\r\nnumpy==1.12.0\r\nolefile==0.44\r\npackaging==16.8\r\nPillow==4.0.0\r\npyparsing==2.2.0\r\nsix==1.10.0\r\ntqdm==4.11.2\r\n```\r\n\r\nPossible fixes include throwing an error when the subclip is created, or replacing t_end with the clip's duration and logging a warning.\r\n\r\nI think I prefer the second option, and will happily contribute a fix. Does that seem like the best option?", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/470/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/470/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/467", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/467/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/467/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/467/events", "html_url": "https://github.com/Zulko/moviepy/issues/467", "id": 212183439, "node_id": "MDU6SXNzdWUyMTIxODM0Mzk=", "number": 467, "title": "Blink VFX gives error \"NameError: global name 'copy' is not defined\"", "user": {"login": "evanthemann", "id": 16672547, "node_id": "MDQ6VXNlcjE2NjcyNTQ3", "avatar_url": "https://avatars.githubusercontent.com/u/16672547?v=4", "gravatar_id": "", "url": "https://api.github.com/users/evanthemann", "html_url": "https://github.com/evanthemann", "followers_url": "https://api.github.com/users/evanthemann/followers", "following_url": "https://api.github.com/users/evanthemann/following{/other_user}", "gists_url": "https://api.github.com/users/evanthemann/gists{/gist_id}", "starred_url": "https://api.github.com/users/evanthemann/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/evanthemann/subscriptions", "organizations_url": "https://api.github.com/users/evanthemann/orgs", "repos_url": "https://api.github.com/users/evanthemann/repos", "events_url": "https://api.github.com/users/evanthemann/events{/privacy}", "received_events_url": "https://api.github.com/users/evanthemann/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 2658615185, "node_id": "MDU6TGFiZWwyNjU4NjE1MTg1", "url": "https://api.github.com/repos/Zulko/moviepy/labels/fx", "name": "fx", "color": "bfd4f2", "default": false, "description": "Related to advanced effects applied via clip.fx(), or effects in general."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2017-03-06T16:54:10Z", "updated_at": "2022-01-14T16:18:46Z", "closed_at": "2022-01-14T16:18:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am able to do many of the vfx without problem, but some of them give me trouble, like Blink. \r\n\r\nI put in:\r\n\r\n`clip = clip.fx(vfx.blink, d_on=1, d_off=1) `\r\n\r\nand I get the error:\r\n\r\n`NameError: global name 'copy' is not defined`", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/467/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/467/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/410", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/410/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/410/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/410/events", "html_url": "https://github.com/Zulko/moviepy/pull/410", "id": 207807587, "node_id": "MDExOlB1bGxSZXF1ZXN0MTA2MzEyNzEz", "number": 410, "title": "fix issue #313, make concatenate_videoclips python 3 compatible.", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 540132033, "node_id": "MDU6TGFiZWw1NDAxMzIwMzM=", "url": "https://api.github.com/repos/Zulko/moviepy/labels/python-version", "name": "python-version", "color": "a189f0", "default": false, "description": "Compatibility issues, behaviour changes,... between different Python versions."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Zulko/moviepy/milestones/1", "html_url": "https://github.com/Zulko/moviepy/milestone/1", "labels_url": "https://api.github.com/repos/Zulko/moviepy/milestones/1/labels", "id": 2323125, "node_id": "MDk6TWlsZXN0b25lMjMyMzEyNQ==", "number": 1, "title": "Release v0.2.2.13", "description": "", "creator": {"login": "mbeacom", "id": 7315957, "node_id": "MDQ6VXNlcjczMTU5NTc=", "avatar_url": "https://avatars.githubusercontent.com/u/7315957?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mbeacom", "html_url": "https://github.com/mbeacom", "followers_url": "https://api.github.com/users/mbeacom/followers", "following_url": "https://api.github.com/users/mbeacom/following{/other_user}", "gists_url": "https://api.github.com/users/mbeacom/gists{/gist_id}", "starred_url": "https://api.github.com/users/mbeacom/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mbeacom/subscriptions", "organizations_url": "https://api.github.com/users/mbeacom/orgs", "repos_url": "https://api.github.com/users/mbeacom/repos", "events_url": "https://api.github.com/users/mbeacom/events{/privacy}", "received_events_url": "https://api.github.com/users/mbeacom/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 5, "state": "closed", "created_at": "2017-02-14T23:35:12Z", "updated_at": "2017-03-03T11:26:45Z", "due_on": "2017-02-15T08:00:00Z", "closed_at": "2017-03-03T11:26:45Z"}, "comments": 2, "created_at": "2017-02-15T13:44:00Z", "updated_at": "2017-02-15T18:22:07Z", "closed_at": "2017-02-15T13:56:07Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/Zulko/moviepy/pulls/410", "html_url": "https://github.com/Zulko/moviepy/pull/410", "diff_url": "https://github.com/Zulko/moviepy/pull/410.diff", "patch_url": "https://github.com/Zulko/moviepy/pull/410.patch", "merged_at": "2017-02-15T13:56:07Z"}, "body": "", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/410/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/410/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/386", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/386/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/386/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/386/events", "html_url": "https://github.com/Zulko/moviepy/pull/386", "id": 201709924, "node_id": "MDExOlB1bGxSZXF1ZXN0MTAyMTYyNjQy", "number": 386, "title": "Windows Python3 incomatability fix in np reshape expecting float", "user": {"login": "adelavega", "id": 2774448, "node_id": "MDQ6VXNlcjI3NzQ0NDg=", "avatar_url": "https://avatars.githubusercontent.com/u/2774448?v=4", "gravatar_id": "", "url": "https://api.github.com/users/adelavega", "html_url": "https://github.com/adelavega", "followers_url": "https://api.github.com/users/adelavega/followers", "following_url": "https://api.github.com/users/adelavega/following{/other_user}", "gists_url": "https://api.github.com/users/adelavega/gists{/gist_id}", "starred_url": "https://api.github.com/users/adelavega/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/adelavega/subscriptions", "organizations_url": "https://api.github.com/users/adelavega/orgs", "repos_url": "https://api.github.com/users/adelavega/repos", "events_url": "https://api.github.com/users/adelavega/events{/privacy}", "received_events_url": "https://api.github.com/users/adelavega/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 51698341, "node_id": "MDU6TGFiZWw1MTY5ODM0MQ==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/duplicate", "name": "duplicate", "color": "cdcdcd", "default": true, "description": "Duplicate of another issue/PR."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-01-18T22:24:35Z", "updated_at": "2017-02-01T15:10:49Z", "closed_at": "2017-01-18T22:58:17Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/Zulko/moviepy/pulls/386", "html_url": "https://github.com/Zulko/moviepy/pull/386", "diff_url": "https://github.com/Zulko/moviepy/pull/386.diff", "patch_url": "https://github.com/Zulko/moviepy/pull/386.patch", "merged_at": null}, "body": "In #279 and #376, two users had issues in Python3 on Windows reading audio. Looks like this is due to np reshape expecting an int but getting a float, due to python 3 not \"flooring\" float division with a single `/` operator. \r\n\r\nI had the same error and fixed it by changing the operator to `//`. Some minor testing suggests the fix works and I don't immediately see any downstream issues from this change. ", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/386/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/386/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/384", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/384/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/384/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/384/events", "html_url": "https://github.com/Zulko/moviepy/pull/384", "id": 200930262, "node_id": "MDExOlB1bGxSZXF1ZXN0MTAxNjI5NTAy", "number": 384, "title": "ensures int arguments to np.reshape; closes #383", "user": {"login": "tyarkoni", "id": 303932, "node_id": "MDQ6VXNlcjMwMzkzMg==", "avatar_url": "https://avatars.githubusercontent.com/u/303932?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tyarkoni", "html_url": "https://github.com/tyarkoni", "followers_url": "https://api.github.com/users/tyarkoni/followers", "following_url": "https://api.github.com/users/tyarkoni/following{/other_user}", "gists_url": "https://api.github.com/users/tyarkoni/gists{/gist_id}", "starred_url": "https://api.github.com/users/tyarkoni/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tyarkoni/subscriptions", "organizations_url": "https://api.github.com/users/tyarkoni/orgs", "repos_url": "https://api.github.com/users/tyarkoni/repos", "events_url": "https://api.github.com/users/tyarkoni/events{/privacy}", "received_events_url": "https://api.github.com/users/tyarkoni/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 530051615, "node_id": "MDU6TGFiZWw1MzAwNTE2MTU=", "url": "https://api.github.com/repos/Zulko/moviepy/labels/LGTM", "name": "LGTM", "color": "4fd1a1", "default": false, "description": "Passed inspection by maintainers."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Zulko/moviepy/milestones/1", "html_url": "https://github.com/Zulko/moviepy/milestone/1", "labels_url": "https://api.github.com/repos/Zulko/moviepy/milestones/1/labels", "id": 2323125, "node_id": "MDk6TWlsZXN0b25lMjMyMzEyNQ==", "number": 1, "title": "Release v0.2.2.13", "description": "", "creator": {"login": "mbeacom", "id": 7315957, "node_id": "MDQ6VXNlcjczMTU5NTc=", "avatar_url": "https://avatars.githubusercontent.com/u/7315957?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mbeacom", "html_url": "https://github.com/mbeacom", "followers_url": "https://api.github.com/users/mbeacom/followers", "following_url": "https://api.github.com/users/mbeacom/following{/other_user}", "gists_url": "https://api.github.com/users/mbeacom/gists{/gist_id}", "starred_url": "https://api.github.com/users/mbeacom/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mbeacom/subscriptions", "organizations_url": "https://api.github.com/users/mbeacom/orgs", "repos_url": "https://api.github.com/users/mbeacom/repos", "events_url": "https://api.github.com/users/mbeacom/events{/privacy}", "received_events_url": "https://api.github.com/users/mbeacom/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 5, "state": "closed", "created_at": "2017-02-14T23:35:12Z", "updated_at": "2017-03-03T11:26:45Z", "due_on": "2017-02-15T08:00:00Z", "closed_at": "2017-03-03T11:26:45Z"}, "comments": 2, "created_at": "2017-01-16T04:43:04Z", "updated_at": "2017-02-15T12:57:44Z", "closed_at": "2017-02-15T12:57:44Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/Zulko/moviepy/pulls/384", "html_url": "https://github.com/Zulko/moviepy/pull/384", "diff_url": "https://github.com/Zulko/moviepy/pull/384.diff", "patch_url": "https://github.com/Zulko/moviepy/pull/384.patch", "merged_at": "2017-02-15T12:57:44Z"}, "body": "See #383 for discussion. This just patches `readers.py` to ensure compatibility with numpy 1.12.0.", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/384/reactions", "total_count": 3, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 1, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/384/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/383", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/383/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/383/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/383/events", "html_url": "https://github.com/Zulko/moviepy/issues/383", "id": 200930127, "node_id": "MDU6SXNzdWUyMDA5MzAxMjc=", "number": 383, "title": "read_chunk() breaks in numpy 1.12.0", "user": {"login": "tyarkoni", "id": 303932, "node_id": "MDQ6VXNlcjMwMzkzMg==", "avatar_url": "https://avatars.githubusercontent.com/u/303932?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tyarkoni", "html_url": "https://github.com/tyarkoni", "followers_url": "https://api.github.com/users/tyarkoni/followers", "following_url": "https://api.github.com/users/tyarkoni/following{/other_user}", "gists_url": "https://api.github.com/users/tyarkoni/gists{/gist_id}", "starred_url": "https://api.github.com/users/tyarkoni/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tyarkoni/subscriptions", "organizations_url": "https://api.github.com/users/tyarkoni/orgs", "repos_url": "https://api.github.com/users/tyarkoni/repos", "events_url": "https://api.github.com/users/tyarkoni/events{/privacy}", "received_events_url": "https://api.github.com/users/tyarkoni/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-01-16T04:41:29Z", "updated_at": "2017-02-15T12:57:47Z", "closed_at": "2017-02-15T12:57:47Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "In `audio.io.readers.FFMPEG_AudioReader`, the `read_chunk()` method breaks as of numpy 1.12.0 (released a few days ago). Numpy no longer accepts floats as index values, so the `result.reshape((len(result)/self.nchannels, self.nchannels))` call raises an exception. In practice, this means working with audio files is basically impossible with the latest numpy. Patch is trivial; PR coming in a moment.", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/383/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/383/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/376", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/376/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/376/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/376/events", "html_url": "https://github.com/Zulko/moviepy/issues/376", "id": 198355099, "node_id": "MDU6SXNzdWUxOTgzNTUwOTk=", "number": 376, "title": "TypeError: 'float' object cannot be interpreted as an integer", "user": {"login": "WDBell", "id": 10030796, "node_id": "MDQ6VXNlcjEwMDMwNzk2", "avatar_url": "https://avatars.githubusercontent.com/u/10030796?v=4", "gravatar_id": "", "url": "https://api.github.com/users/WDBell", "html_url": "https://github.com/WDBell", "followers_url": "https://api.github.com/users/WDBell/followers", "following_url": "https://api.github.com/users/WDBell/following{/other_user}", "gists_url": "https://api.github.com/users/WDBell/gists{/gist_id}", "starred_url": "https://api.github.com/users/WDBell/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/WDBell/subscriptions", "organizations_url": "https://api.github.com/users/WDBell/orgs", "repos_url": "https://api.github.com/users/WDBell/repos", "events_url": "https://api.github.com/users/WDBell/events{/privacy}", "received_events_url": "https://api.github.com/users/WDBell/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 19, "created_at": "2017-01-02T16:14:28Z", "updated_at": "2020-11-04T15:50:33Z", "closed_at": "2017-02-15T19:14:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm new to moviepy.\r\n\r\n`clip = VideoFileClip(\"Rough Guide to Dublin (54).mp4\")`\r\n\r\nI tried three mp4 files, all with the same result. Fuller information:\r\n\r\n```\r\n>>> clip = VideoFileClip(\"Sailing Mediterranean - 7 Sardinia.mp4\")\r\nTraceback (most recent call last):\r\n  File \"<interactive input>\", line 1, in <module>\r\n  File \"C:\\Python34\\lib\\site-packages\\moviepy\\video\\io\\VideoFileClip.py\", line 82, in __init__\r\n    nbytes = audio_nbytes)\r\n  File \"C:\\Python34\\lib\\site-packages\\moviepy\\audio\\io\\AudioFileClip.py\", line 63, in __init__\r\n    buffersize=buffersize)\r\n  File \"C:\\Python34\\lib\\site-packages\\moviepy\\audio\\io\\readers.py\", line 70, in __init__\r\n    self.buffer_around(1)\r\n  File \"C:\\Python34\\lib\\site-packages\\moviepy\\audio\\io\\readers.py\", line 234, in buffer_around\r\n    self.buffer =  self.read_chunk(self.buffersize)\r\n  File \"C:\\Python34\\lib\\site-packages\\moviepy\\audio\\io\\readers.py\", line 123, in read_chunk\r\n    self.nchannels))\r\nTypeError: 'float' object cannot be interpreted as an integer\r\n```\r\n\r\nSuggest this change to code (and hope that this is a reasonable place to post this). In `readers.py`, substitute the second `result =` statement.\r\n\r\n```\r\n    def read_chunk(self,chunksize):\r\n        #~ chunksize = int(round(chunksize))\r\n        L = self.nchannels*chunksize*self.nbytes\r\n        s = self.proc.stdout.read(L)\r\n        dt = {1: 'int8',2:'int16',4:'int32'}[self.nbytes]\r\n        result = np.fromstring(s, dtype=dt)\r\n        #~ result = (1.0*result / 2**(8*self.nbytes-1)).\\\r\n                                 #~ reshape((len(result)/self.nchannels,\r\n                                          #~ self.nchannels))\r\n\r\n        result = (1.0*result / 2**(8*self.nbytes-1)).\\\r\n                                 reshape((int(len(result)/self.nchannels),\r\n                                          self.nchannels))\r\n\r\n        #self.proc.stdout.flush()\r\n        self.pos = self.pos+chunksize\r\n        return result\r\n\r\n```", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/376/reactions", "total_count": 7, "+1": 7, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/376/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/374", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/374/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/374/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/374/events", "html_url": "https://github.com/Zulko/moviepy/pull/374", "id": 198177250, "node_id": "MDExOlB1bGxSZXF1ZXN0OTk3NzE2OTQ=", "number": 374, "title": "Fix #164 - Resolve ffmpeg zombie processes", "user": {"login": "mbeacom", "id": 7315957, "node_id": "MDQ6VXNlcjczMTU5NTc=", "avatar_url": "https://avatars.githubusercontent.com/u/7315957?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mbeacom", "html_url": "https://github.com/mbeacom", "followers_url": "https://api.github.com/users/mbeacom/followers", "following_url": "https://api.github.com/users/mbeacom/following{/other_user}", "gists_url": "https://api.github.com/users/mbeacom/gists{/gist_id}", "starred_url": "https://api.github.com/users/mbeacom/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mbeacom/subscriptions", "organizations_url": "https://api.github.com/users/mbeacom/orgs", "repos_url": "https://api.github.com/users/mbeacom/repos", "events_url": "https://api.github.com/users/mbeacom/events{/privacy}", "received_events_url": "https://api.github.com/users/mbeacom/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2016-12-30T18:04:01Z", "updated_at": "2017-01-30T14:12:50Z", "closed_at": "2017-01-30T14:12:50Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/Zulko/moviepy/pulls/374", "html_url": "https://github.com/Zulko/moviepy/pull/374", "diff_url": "https://github.com/Zulko/moviepy/pull/374.diff", "patch_url": "https://github.com/Zulko/moviepy/pull/374.patch", "merged_at": "2017-01-30T14:12:50Z"}, "body": "Resolves the ffmpeg `defunct` processes resulting from clip reading mentioned in #164.", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/374/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/374/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/371", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/371/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/371/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/371/events", "html_url": "https://github.com/Zulko/moviepy/issues/371", "id": 197300587, "node_id": "MDU6SXNzdWUxOTczMDA1ODc=", "number": 371, "title": "TextClip.list('color') failed to return color list", "user": {"login": "liketemple", "id": 10526411, "node_id": "MDQ6VXNlcjEwNTI2NDEx", "avatar_url": "https://avatars.githubusercontent.com/u/10526411?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liketemple", "html_url": "https://github.com/liketemple", "followers_url": "https://api.github.com/users/liketemple/followers", "following_url": "https://api.github.com/users/liketemple/following{/other_user}", "gists_url": "https://api.github.com/users/liketemple/gists{/gist_id}", "starred_url": "https://api.github.com/users/liketemple/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liketemple/subscriptions", "organizations_url": "https://api.github.com/users/liketemple/orgs", "repos_url": "https://api.github.com/users/liketemple/repos", "events_url": "https://api.github.com/users/liketemple/events{/privacy}", "received_events_url": "https://api.github.com/users/liketemple/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2016-12-23T01:46:51Z", "updated_at": "2017-02-22T18:46:28Z", "closed_at": "2017-02-22T18:46:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\r\n>>> editor.TextClip.list('color')\r\nTraceback (most recent call last):\r\n  File \"/usr/local/lib/python3.5/site-packages/IPython/core/interactiveshell.py\", line 2881, in run_code\r\n    exec(code_obj, self.user_global_ns, self.user_ns)\r\n  File \"<ipython-input-3-c289bccc81e5>\", line 1, in <module>\r\n    editor.TextClip.list('color')\r\n  File \"/usr/local/lib/python3.5/site-packages/moviepy/video/VideoClip.py\", line 1179, in list\r\n    return [l.split(\" \")[1] for l in lines[2:]]\r\n  File \"/usr/local/lib/python3.5/site-packages/moviepy/video/VideoClip.py\", line 1179, in <listcomp>\r\n    return [l.split(\" \")[1] for l in lines[2:]]\r\nTypeError: a bytes-like object is required, not 'str'\r\n```\r\n\r\nIt seems the imageMagick return a binary str. ", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/371/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/371/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/359", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/359/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/359/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/359/events", "html_url": "https://github.com/Zulko/moviepy/issues/359", "id": 193522836, "node_id": "MDU6SXNzdWUxOTM1MjI4MzY=", "number": 359, "title": "Bug in write_gif", "user": {"login": "virtualritz", "id": 387036, "node_id": "MDQ6VXNlcjM4NzAzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/387036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/virtualritz", "html_url": "https://github.com/virtualritz", "followers_url": "https://api.github.com/users/virtualritz/followers", "following_url": "https://api.github.com/users/virtualritz/following{/other_user}", "gists_url": "https://api.github.com/users/virtualritz/gists{/gist_id}", "starred_url": "https://api.github.com/users/virtualritz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/virtualritz/subscriptions", "organizations_url": "https://api.github.com/users/virtualritz/orgs", "repos_url": "https://api.github.com/users/virtualritz/repos", "events_url": "https://api.github.com/users/virtualritz/events{/privacy}", "received_events_url": "https://api.github.com/users/virtualritz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2016-12-05T15:09:25Z", "updated_at": "2017-03-15T13:39:47Z", "closed_at": "2017-03-13T12:43:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "The `opt` parameter, which steers the selection of the palette quantization method for imageio, is erroneously passed to `write_gif_with_tempfiles` and in there being forwarded to the `-layers` parameter of ImageMagick's `convert` tool, causing the latter to fail:\r\n\r\n```\r\n[MoviePy] Building file EYED0229/00002532_00002729.gif\r\n----------------------------------------\r\n[MoviePy] Generating GIF frames...\r\n100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 59/59 [00:36<00:00,  1.60it/s]\r\n[MoviePy] Optimizing GIF with ImageMagick...\r\n[MoviePy] Running:\r\n>>> convert -delay 3 -dispose 1 -loop 0 EYED0229/00002532_00002729_GIFTEMP*.png -coalesce -layers wu -fuzz 00% -colors 256 EYED0229/00002532_00002729.gif\r\n[MoviePy] This command returned an error !Traceback (most recent call last):\r\n  File \"/Users/moeller/code/makegifs.py\", line 49, in <module>\r\n    clip.subclip(start, end).write_gif(file_name, program='ImageMagick', tempfiles=True, verbose=True, colors=256, fuzz=0 )\r\n  File \"<decorator-gen-56>\", line 2, in write_gif\r\n  File \"/Library/Python/2.7/site-packages/moviepy-0.2.2.11-py2.7.egg/moviepy/decorators.py\", line 54, in requires_duration\r\n    return f(clip, *a, **k)\r\n  File \"<decorator-gen-55>\", line 2, in write_gif\r\n  File \"/Library/Python/2.7/site-packages/moviepy-0.2.2.11-py2.7.egg/moviepy/decorators.py\", line 22, in convert_masks_to_RGB\r\n    return f(clip, *a, **k)\r\n  File \"/Library/Python/2.7/site-packages/moviepy-0.2.2.11-py2.7.egg/moviepy/video/VideoClip.py\", line 468, in write_gif\r\n    loop=loop, dispose=dispose, colors=colors)\r\n  File \"<decorator-gen-10>\", line 2, in write_gif_with_tempfiles\r\n  File \"/Library/Python/2.7/site-packages/moviepy-0.2.2.11-py2.7.egg/moviepy/decorators.py\", line 54, in requires_duration\r\n    return f(clip, *a, **k)\r\n  File \"<decorator-gen-9>\", line 2, in write_gif_with_tempfiles\r\n  File \"/Library/Python/2.7/site-packages/moviepy-0.2.2.11-py2.7.egg/moviepy/decorators.py\", line 137, in use_clip_fps_by_default\r\n    return f(clip, *new_a, **new_kw)\r\n  File \"/Library/Python/2.7/site-packages/moviepy-0.2.2.11-py2.7.egg/moviepy/video/io/gif_writers.py\", line 94, in write_gif_with_tempfiles\r\n    raise IOError(error)\r\nIOError: MoviePy Error: creation of EYED0229/00002532_00002729.gif failed because of the following error:\r\n\r\nconvert: UnrecognizedLayerMethod `wu' @ error/convert.c/ConvertImageCommand/1962.\r\n.\r\n\r\n.This error can be due to the fact that ImageMagick is not installed on your computer, or (for Windows users) that you didn't specify the path to the ImageMagick binary in file conf.py.\r\n\r\n```", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/359/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/359/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/354", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/354/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/354/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/354/events", "html_url": "https://github.com/Zulko/moviepy/issues/354", "id": 192217267, "node_id": "MDU6SXNzdWUxOTIyMTcyNjc=", "number": 354, "title": "crossfadeout \"Attribute 'duration' not set\"", "user": {"login": "groundflyer", "id": 10357503, "node_id": "MDQ6VXNlcjEwMzU3NTAz", "avatar_url": "https://avatars.githubusercontent.com/u/10357503?v=4", "gravatar_id": "", "url": "https://api.github.com/users/groundflyer", "html_url": "https://github.com/groundflyer", "followers_url": "https://api.github.com/users/groundflyer/followers", "following_url": "https://api.github.com/users/groundflyer/following{/other_user}", "gists_url": "https://api.github.com/users/groundflyer/gists{/gist_id}", "starred_url": "https://api.github.com/users/groundflyer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/groundflyer/subscriptions", "organizations_url": "https://api.github.com/users/groundflyer/orgs", "repos_url": "https://api.github.com/users/groundflyer/repos", "events_url": "https://api.github.com/users/groundflyer/events{/privacy}", "received_events_url": "https://api.github.com/users/groundflyer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2016-11-29T08:27:48Z", "updated_at": "2017-03-10T13:45:57Z", "closed_at": "2017-03-10T13:45:57Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "When trying to crossfadeout a clip with defined duration `ValueError: Attribute 'duration' not set ` raised.", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/354/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/354/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/344", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/344/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/344/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/344/events", "html_url": "https://github.com/Zulko/moviepy/issues/344", "id": 185143196, "node_id": "MDU6SXNzdWUxODUxNDMxOTY=", "number": 344, "title": "AAC support for mp4", "user": {"login": "jeromegrosse", "id": 4560899, "node_id": "MDQ6VXNlcjQ1NjA4OTk=", "avatar_url": "https://avatars.githubusercontent.com/u/4560899?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jeromegrosse", "html_url": "https://github.com/jeromegrosse", "followers_url": "https://api.github.com/users/jeromegrosse/followers", "following_url": "https://api.github.com/users/jeromegrosse/following{/other_user}", "gists_url": "https://api.github.com/users/jeromegrosse/gists{/gist_id}", "starred_url": "https://api.github.com/users/jeromegrosse/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jeromegrosse/subscriptions", "organizations_url": "https://api.github.com/users/jeromegrosse/orgs", "repos_url": "https://api.github.com/users/jeromegrosse/repos", "events_url": "https://api.github.com/users/jeromegrosse/events{/privacy}", "received_events_url": "https://api.github.com/users/jeromegrosse/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-10-25T14:59:13Z", "updated_at": "2017-03-06T13:34:33Z", "closed_at": "2017-03-06T13:34:22Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "In this [pull request](https://github.com/Zulko/moviepy/pull/26), the AAC compatibility was added to MoviePy by passing `-strict -2` to ffmpeg.\n\nBetween then and now, some changes have been done. The `-struct -2` is still being passed to ffmpeg but it is not possible to pass the kwarg `audio_codec=\"aac\"` while writing an mp4 to VideoClip without getting the error `The audio_codec you chose is unknown by MoviePy.`\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/344/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/344/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/335", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/335/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/335/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/335/events", "html_url": "https://github.com/Zulko/moviepy/issues/335", "id": 183082715, "node_id": "MDU6SXNzdWUxODMwODI3MTU=", "number": 335, "title": "Bug in ffmpeg_audiowriter.py for python 3", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-10-14T15:40:10Z", "updated_at": "2017-02-15T13:16:25Z", "closed_at": "2017-02-15T13:16:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, \n\nIn ffmpeg_audiowriter.py if there is a codec error that raise an exception, in the exception another exception arrises because self.proc.stderr.read() return bytes in python 3 so it needs .decode('utf-8') to be happened in the error message line 91 like that : ffmpeg_error.decode('utf-8')\n\nBest regards,\nWaylander.\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/335/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/335/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/313", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/313/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/313/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/313/events", "html_url": "https://github.com/Zulko/moviepy/issues/313", "id": 176190919, "node_id": "MDU6SXNzdWUxNzYxOTA5MTk=", "number": 313, "title": "concatenate.py - Python3 incompatible", "user": {"login": "AlexanderNickolsky", "id": 22120142, "node_id": "MDQ6VXNlcjIyMTIwMTQy", "avatar_url": "https://avatars.githubusercontent.com/u/22120142?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AlexanderNickolsky", "html_url": "https://github.com/AlexanderNickolsky", "followers_url": "https://api.github.com/users/AlexanderNickolsky/followers", "following_url": "https://api.github.com/users/AlexanderNickolsky/following{/other_user}", "gists_url": "https://api.github.com/users/AlexanderNickolsky/gists{/gist_id}", "starred_url": "https://api.github.com/users/AlexanderNickolsky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AlexanderNickolsky/subscriptions", "organizations_url": "https://api.github.com/users/AlexanderNickolsky/orgs", "repos_url": "https://api.github.com/users/AlexanderNickolsky/repos", "events_url": "https://api.github.com/users/AlexanderNickolsky/events{/privacy}", "received_events_url": "https://api.github.com/users/AlexanderNickolsky/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 540132033, "node_id": "MDU6TGFiZWw1NDAxMzIwMzM=", "url": "https://api.github.com/repos/Zulko/moviepy/labels/python-version", "name": "python-version", "color": "a189f0", "default": false, "description": "Compatibility issues, behaviour changes,... between different Python versions."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-09-10T17:21:30Z", "updated_at": "2017-02-15T13:59:51Z", "closed_at": "2017-02-15T13:59:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "concatenate_videoclips function uses reduce, which is changed in Python 3.\nThe fix is to use functools:\n\nclips = functools.reduce(lambda x, y: x + y, l) + [clips[-1]]\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/313/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/313/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/305", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/305/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/305/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/305/events", "html_url": "https://github.com/Zulko/moviepy/issues/305", "id": 166015504, "node_id": "MDU6SXNzdWUxNjYwMTU1MDQ=", "number": 305, "title": "CompositeVideoClip fails with clips of mixed transparency", "user": {"login": "brianthelion", "id": 296082, "node_id": "MDQ6VXNlcjI5NjA4Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/296082?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brianthelion", "html_url": "https://github.com/brianthelion", "followers_url": "https://api.github.com/users/brianthelion/followers", "following_url": "https://api.github.com/users/brianthelion/following{/other_user}", "gists_url": "https://api.github.com/users/brianthelion/gists{/gist_id}", "starred_url": "https://api.github.com/users/brianthelion/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brianthelion/subscriptions", "organizations_url": "https://api.github.com/users/brianthelion/orgs", "repos_url": "https://api.github.com/users/brianthelion/repos", "events_url": "https://api.github.com/users/brianthelion/events{/privacy}", "received_events_url": "https://api.github.com/users/brianthelion/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-07-18T04:01:03Z", "updated_at": "2021-01-13T17:35:15Z", "closed_at": "2021-01-13T17:18:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "``` python\nimport moviepy.editor as mpy\nimport gizeh as gz\nimport itertools as it\n\ndef make_frame(frame_size, transparent=False):\n    def _make_frame(t):\n        surf = gz.Surface(*frame_size, bg_color=(0.0, 0.0, 0.0, 0.0))\n        img = surf.get_npimage(transparent=transparent)\n        return img\n    return _make_frame\n\ndef run_(t1, t2, bg):\n    size = 20, 20\n    fps = 30.0\n    dur = 10\n    clip1 = mpy.VideoClip(make_frame(size, transparent=t1), duration=dur)\n    clip2 = mpy.VideoClip(make_frame(size, transparent=t2), duration=dur)\n    comp_clip = mpy.CompositeVideoClip([clip1, clip2], use_bgclip=bg)\n    list(comp_clip.iter_frames(fps=fps))\n\ndef test_alpha_compositing():\n    for t1, t2, bg in it.product([True, False], repeat=3):\n        yield run_, t1, t2, bg\n```\n\ngives failure to broadcast\n\n```\nTraceback (most recent call last):\n  ...\n  File \"/home/br/Dev/eco/build/moviepy/moviepy/video/tools/drawing.py\", line 45, in blit\n    new_im2[yp1:yp2, xp1:xp2] = blitted\nValueError: could not broadcast input array from shape (20,20,4) into shape (20,20,3)\n```\n\nfor cases\n\n```\ntest_alpha_compositing(True, True, False)\ntest_alpha_compositing(True, False, True)\ntest_alpha_compositing(True, False, False)\ntest_alpha_compositing(False, True, True)\ntest_alpha_compositing(False, True, False)\n```\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/305/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/305/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/293", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/293/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/293/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/293/events", "html_url": "https://github.com/Zulko/moviepy/issues/293", "id": 154811148, "node_id": "MDU6SXNzdWUxNTQ4MTExNDg=", "number": 293, "title": "Python2 unicode_literals errors", "user": {"login": "prokaktus", "id": 193254, "node_id": "MDQ6VXNlcjE5MzI1NA==", "avatar_url": "https://avatars.githubusercontent.com/u/193254?v=4", "gravatar_id": "", "url": "https://api.github.com/users/prokaktus", "html_url": "https://github.com/prokaktus", "followers_url": "https://api.github.com/users/prokaktus/followers", "following_url": "https://api.github.com/users/prokaktus/following{/other_user}", "gists_url": "https://api.github.com/users/prokaktus/gists{/gist_id}", "starred_url": "https://api.github.com/users/prokaktus/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/prokaktus/subscriptions", "organizations_url": "https://api.github.com/users/prokaktus/orgs", "repos_url": "https://api.github.com/users/prokaktus/repos", "events_url": "https://api.github.com/users/prokaktus/events{/privacy}", "received_events_url": "https://api.github.com/users/prokaktus/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2016-05-13T22:18:34Z", "updated_at": "2017-03-13T20:43:39Z", "closed_at": "2017-03-13T20:43:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi!\n- moviepy==0.2.2.11\n- python2.7\n\nSample file:\n\n```\nfrom moviepy.editor import ImageClip, VideoFileClip, CompositeVideoClip\nfilepath = 'server/media/24d9adba48c588111e072939dc47227bb1ec23f8.mp4'\nmark = 'media/img/logo.png'\n\n\nvclip = VideoFileClip(filepath)\niclip = ImageClip(mark, duration=vclip.duration).set_pos(\n    ('right', 'bottom', )\n)\n\nfinal = CompositeVideoClip([vclip, iclip])\n\nfinal.write_videofile('/tmp/test.mp4')\n```\n\nEverything works great. But if I add `unicode_literals`:\n\n```\nfrom __future__ import unicode_literals\nfrom moviepy.editor import ImageClip, VideoFileClip, CompositeVideoClip\nfilepath = 'server/media/24d9adba48c588111e072939dc47227bb1ec23f8.mp4'\nmark = 'media/img/logo.png'\n\n\nvclip = VideoFileClip(filepath)\niclip = ImageClip(mark, duration=vclip.duration).set_pos(\n    ('right', 'bottom', )\n)\n\nfinal = CompositeVideoClip([vclip, iclip])\n\nfinal.write_videofile('/tmp/ttt.mp4')\n```\n\nScript crashes with traceback:\n\n```\nTraceback (most recent call last):\n  File \"1.tmp\", line 8, in <module>\n    iclip = ImageClip(mark, duration=vclip.duration).set_pos(\n  File \".../lib/python2.7/site-packages/moviepy/video/VideoClip.py\", line 897, in __init__\n    if len(img.shape) == 3:  # img is (now) a RGB(a) numpy array\nAttributeError: 'unicode' object has no attribute 'shape'\n```\n\nIf I prepend 'media/img/logo.png' with 'b': `b'media/img/logo.png'`, then stacktrace change to:\n\n```\n[MoviePy] >>>> Building video /tmp/ttt.mp4\n[MoviePy] Writing video /tmp/ttt.mp4\n  0%|                                                          | 0/157 [00:00<?, ?it/s]Traceback (most recent call last):\n  File \"1.py\", line 16, in <module>\n    final.write_videofile('/tmp/ttt.mp4')\n  File \"<decorator-gen-51>\", line 2, in write_videofile\n  File \"...lib/python2.7/site-packages/moviepy/decorators.py\", line 54, in requires_duration\n    return f(clip, *a, **k)\n  File \"<decorator-gen-50>\", line 2, in write_videofile\n  File \"...lib/python2.7/site-packages/moviepy/decorators.py\", line 137, in use_clip_fps_by_default\n    return f(clip, *new_a, **new_kw)\n  File \"<decorator-gen-49>\", line 2, in write_videofile\n  File \"...lib/python2.7/site-packages/moviepy/decorators.py\", line 22, in convert_masks_to_RGB\n    return f(clip, *a, **k)\n  File \"...lib/python2.7/site-packages/moviepy/video/VideoClip.py\", line 339, in write_videofile\n    ffmpeg_params=ffmpeg_params)\n  File \"...lib/python2.7/site-packages/moviepy/video/io/ffmpeg_writer.py\", line 204, in ffmpeg_write_video\n    fps=fps, dtype=\"uint8\"):\n  File \"...lib/python2.7/site-packages/tqdm/_tqdm.py\", line 459, in __iter__\n    for obj in iterable:\n  File \"...lib/python2.7/site-packages/moviepy/Clip.py\", line 473, in generator\n    frame = self.get_frame(t)\n  File \"<decorator-gen-14>\", line 2, in get_frame\n  File \"...lib/python2.7/site-packages/moviepy/decorators.py\", line 89, in wrapper\n    return f(*new_a, **new_kw)\n  File \"...lib/python2.7/site-packages/moviepy/Clip.py\", line 95, in get_frame\n    return self.make_frame(t)\n  File \"...lib/python2.7/site-packages/moviepy/video/compositing/CompositeVideoClip.py\", line 110, in make_frame\n    f = c.blit_on(f, t)\n  File \"...lib/python2.7/site-packages/moviepy/video/VideoClip.py\", line 569, in blit_on\n    pos = map(int, pos)\nValueError: invalid literal for int() with base 10: 'right'\n```\n\nWorkaround to last stacktrace is to prepend 'right' and 'bottom' with 'b': `(b'right', b'bottom', )`\n\nI've found similar issue, but not exactly the same\nhttps://github.com/Zulko/moviepy/issues/76\n\nI can try to fix it myself, but without tests it can be really dangerous. @Zulko can you consider adding at least some tests from https://github.com/Zulko/moviepy/pull/121? Even small amount of tests better than their absence \u2600\ufe0f \n\nThanks!\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/293/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/293/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/285", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/285/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/285/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/285/events", "html_url": "https://github.com/Zulko/moviepy/issues/285", "id": 149791307, "node_id": "MDU6SXNzdWUxNDk3OTEzMDc=", "number": 285, "title": "concatenate ImageClip ", "user": {"login": "vparitskiy", "id": 1943746, "node_id": "MDQ6VXNlcjE5NDM3NDY=", "avatar_url": "https://avatars.githubusercontent.com/u/1943746?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vparitskiy", "html_url": "https://github.com/vparitskiy", "followers_url": "https://api.github.com/users/vparitskiy/followers", "following_url": "https://api.github.com/users/vparitskiy/following{/other_user}", "gists_url": "https://api.github.com/users/vparitskiy/gists{/gist_id}", "starred_url": "https://api.github.com/users/vparitskiy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vparitskiy/subscriptions", "organizations_url": "https://api.github.com/users/vparitskiy/orgs", "repos_url": "https://api.github.com/users/vparitskiy/repos", "events_url": "https://api.github.com/users/vparitskiy/events{/privacy}", "received_events_url": "https://api.github.com/users/vparitskiy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-04-20T14:51:47Z", "updated_at": "2018-03-16T09:18:10Z", "closed_at": "2017-03-07T15:49:46Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Create several ImageClips:\r\n\r\n```\r\nclip_1 = ImageClip(imread('path_to_img.png'), duration=10)\r\nclip_2 = ImageClip(imread('path_to_img.png'), duration=10)\r\nclip_3 = ImageClip(imread('path_to_img.png'), duration=10)\r\n\r\nmerged_clip = concatenate_videoclips([clip_1, clip_2, clip_3])\r\n```\r\n\r\nIt will fail with error:\r\n\r\n```\r\nTraceback (most recent call last):\r\n File \"XXXXXX/tasks.py\", line 93, in merge_video\r\n    clip = concatenate_videoclips(clips)\r\n  File \"XXXXXX/lib/moviepy/video/compositing/concatenate.py\", line 95, in concatenate_videoclips\r\n    result.mask = concatenate_videoclips(masks, method=\"chain\", ismask=True)\r\n  File \"XXXXXX/lib/moviepy/video/compositing/concatenate.py\", line 72, in concatenate_videoclips\r\n    tt = np.cumsum([0] + [c.duration for c in clips])\r\n  File \"XXXXXX/lib/python2.7/site-packages/numpy/core/fromnumeric.py\", line 2114, in cumsum\r\n    return _wrapit(a, 'cumsum', axis, dtype, out)\r\n  File \"XXXXXX/lib/python2.7/site-packages/numpy/core/fromnumeric.py\", line 48, in _wrapit\r\n    result = getattr(asarray(obj), method)(*args, **kwds)\r\nTypeError: unsupported operand type(s) for +: 'int' and 'NoneType'\r\n```\r\n\r\nI discovered that while creating ImageClip instance with `transparent=True`, it sets self.mask to another ImageClip, but without duration.\r\n\r\nAnd in `concatenate_videoclips` function it checks if any clip has mask and calculate duration. But duration is None, that's why TypeError.\r\n\r\nMaybe, it should set mask.duration to clip.duration? \r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/285/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/285/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/276", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/276/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/276/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/276/events", "html_url": "https://github.com/Zulko/moviepy/issues/276", "id": 141003340, "node_id": "MDU6SXNzdWUxNDEwMDMzNDA=", "number": 276, "title": "ffmpeg_resize refers to undefined globals", "user": {"login": "personalnadir", "id": 559503, "node_id": "MDQ6VXNlcjU1OTUwMw==", "avatar_url": "https://avatars.githubusercontent.com/u/559503?v=4", "gravatar_id": "", "url": "https://api.github.com/users/personalnadir", "html_url": "https://github.com/personalnadir", "followers_url": "https://api.github.com/users/personalnadir/followers", "following_url": "https://api.github.com/users/personalnadir/following{/other_user}", "gists_url": "https://api.github.com/users/personalnadir/gists{/gist_id}", "starred_url": "https://api.github.com/users/personalnadir/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/personalnadir/subscriptions", "organizations_url": "https://api.github.com/users/personalnadir/orgs", "repos_url": "https://api.github.com/users/personalnadir/repos", "events_url": "https://api.github.com/users/personalnadir/events{/privacy}", "received_events_url": "https://api.github.com/users/personalnadir/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2016-03-15T15:15:00Z", "updated_at": "2020-04-27T00:47:48Z", "closed_at": "2020-04-27T00:47:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "Line 65 in ffmpeg_tools refers to res, which I think should refer instead to the size parameters passed in. \n\n```\n  File \"main.py\", line 24, in <module>\n    io.ffmpeg_tools.ffmpeg_resize(video, \"wash_\"+str(pattern)+ \"_circles.mp4\", [100,100])\n  File \"/opt/local/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/moviepy/video/io/ffmpeg_tools.py\", line 65, in ffmpeg_resize\n    cmd= [get_setting(\"FFMPEG_BINARY\"), \"-i\", video, \"-vf\", \"scale=%d:%d\"%(res[0], res[1]),\nNameError: global name 'res' is not defined\n```\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/276/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/276/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/265", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/265/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/265/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/265/events", "html_url": "https://github.com/Zulko/moviepy/issues/265", "id": 133887413, "node_id": "MDU6SXNzdWUxMzM4ODc0MTM=", "number": 265, "title": "IndexError: index is out of bounds for axis 0 with size XXXX", "user": {"login": "fortunto2", "id": 1236751, "node_id": "MDQ6VXNlcjEyMzY3NTE=", "avatar_url": "https://avatars.githubusercontent.com/u/1236751?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fortunto2", "html_url": "https://github.com/fortunto2", "followers_url": "https://api.github.com/users/fortunto2/followers", "following_url": "https://api.github.com/users/fortunto2/following{/other_user}", "gists_url": "https://api.github.com/users/fortunto2/gists{/gist_id}", "starred_url": "https://api.github.com/users/fortunto2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fortunto2/subscriptions", "organizations_url": "https://api.github.com/users/fortunto2/orgs", "repos_url": "https://api.github.com/users/fortunto2/repos", "events_url": "https://api.github.com/users/fortunto2/events{/privacy}", "received_events_url": "https://api.github.com/users/fortunto2/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2016-02-16T05:07:35Z", "updated_at": "2020-05-07T21:20:50Z", "closed_at": "2020-05-07T21:20:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nError \r\n```\r\nOSError: Error in file /ubuntu/conv/150757/conv/baaadilz/vid20160215102221_010.mp4, At time t=0.11-0.15 seconds, indices wanted: 4806-6805, but len(buffer)=5645\r\nindex 5645 is out of bounds for axis 0 with size 5645\r\n```\r\nHow i can skip like this video file when rendering?\r\nO solve problem...with many same files\r\n```\r\n[MoviePy] >>>> Building video /ubuntu/conv/150757/film/160360/baaadilz.mp4\r\n[MoviePy] Writing audio in baaadilzTEMP_MPY_wvf_snd.mp3\r\n 73%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258e  | 464/634 [00:01<00:00, 427.40it/s]Traceback (most recent call last):\r\n  File \"/usr/local/lib/python3.4/dist-packages/moviepy-0.2.2.11-py3.4.egg/moviepy/audio/io/readers.py\", line 188, in get_frame\r\n    result[in_time] = self.buffer[indices]\r\nIndexError: index 5645 is out of bounds for axis 0 with size 5645\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"./1job.py\", line 246, in <module>\r\n    duration = template.fast.render(allParam, data, videos, audios)\r\n  File \"/ubuntu/newconv/template/fast.py\", line 400, in render\r\n    ffmpeg_params=ffmpeg_params, threads=8, write_logfile=True)  \r\n  File \"<decorator-gen-51>\", line 2, in write_videofile\r\n  File \"/usr/local/lib/python3.4/dist-packages/moviepy-0.2.2.11-py3.4.egg/moviepy/decorators.py\", line 54, in requires_duration\r\n    return f(clip, _a, *_k)\r\n  File \"<decorator-gen-50>\", line 2, in write_videofile\r\n  File \"/usr/local/lib/python3.4/dist-packages/moviepy-0.2.2.11-py3.4.egg/moviepy/decorators.py\", line 137, in use_clip_fps_by_default\r\n    return f(clip, _new_a, *_new_kw)\r\n  File \"<decorator-gen-49>\", line 2, in write_videofile\r\n  File \"/usr/local/lib/python3.4/dist-packages/moviepy-0.2.2.11-py3.4.egg/moviepy/decorators.py\", line 22, in convert_masks_to_RGB\r\n    return f(clip, _a, *_k)\r\n  File \"/usr/local/lib/python3.4/dist-packages/moviepy-0.2.2.11-py3.4.egg/moviepy/video/VideoClip.py\", line 330, in write_videofile\r\n    verbose=verbose)\r\n  File \"<decorator-gen-73>\", line 2, in write_audiofile\r\n  File \"/usr/local/lib/python3.4/dist-packages/moviepy-0.2.2.11-py3.4.egg/moviepy/decorators.py\", line 54, in requires_duration\r\n    return f(clip, _a, *_k)\r\n  File \"/usr/local/lib/python3.4/dist-packages/moviepy-0.2.2.11-py3.4.egg/moviepy/audio/AudioClip.py\", line 204, in write_audiofile\r\n    verbose=verbose, ffmpeg_params=ffmpeg_params)\r\n  File \"<decorator-gen-70>\", line 2, in ffmpeg_audiowrite\r\n  File \"/usr/local/lib/python3.4/dist-packages/moviepy-0.2.2.11-py3.4.egg/moviepy/decorators.py\", line 54, in requires_duration\r\n    return f(clip, _a, *_k)\r\n  File \"/usr/local/lib/python3.4/dist-packages/moviepy-0.2.2.11-py3.4.egg/moviepy/audio/io/ffmpeg_audiowriter.py\", line 161, in ffmpeg_audiowrite\r\n    nbytes= nbytes, fps=fps):\r\n  File \"/usr/local/lib/python3.4/dist-packages/tqdm-3.8.0-py3.4.egg/tqdm/_tqdm.py\", line 459, in __iter__\r\n  File \"/usr/local/lib/python3.4/dist-packages/moviepy-0.2.2.11-py3.4.egg/moviepy/audio/AudioClip.py\", line 81, in generator\r\n    buffersize=chunksize)\r\n  File \"<decorator-gen-72>\", line 2, in to_soundarray\r\n  File \"/usr/local/lib/python3.4/dist-packages/moviepy-0.2.2.11-py3.4.egg/moviepy/decorators.py\", line 54, in requires_duration\r\n    return f(clip, _a, *_k)\r\n  File \"/usr/local/lib/python3.4/dist-packages/moviepy-0.2.2.11-py3.4.egg/moviepy/audio/AudioClip.py\", line 127, in to_soundarray\r\n    snd_array = self.get_frame(tt)\r\n  File \"<decorator-gen-14>\", line 2, in get_frame\r\n  File \"/usr/local/lib/python3.4/dist-packages/moviepy-0.2.2.11-py3.4.egg/moviepy/decorators.py\", line 89, in wrapper\r\n    return f(_new_a, *_new_kw)\r\n  File \"/usr/local/lib/python3.4/dist-packages/moviepy-0.2.2.11-py3.4.egg/moviepy/Clip.py\", line 95, in get_frame\r\n    return self.make_frame(t)\r\n  File \"/usr/local/lib/python3.4/dist-packages/moviepy-0.2.2.11-py3.4.egg/moviepy/audio/AudioClip.py\", line 292, in make_frame\r\n    for c,part in zip(self.clips, played_parts)\r\n  File \"/usr/local/lib/python3.4/dist-packages/moviepy-0.2.2.11-py3.4.egg/moviepy/audio/AudioClip.py\", line 293, in <listcomp>\r\n    if (part is not False) ]\r\n  File \"<decorator-gen-14>\", line 2, in get_frame\r\n  File \"/usr/local/lib/python3.4/dist-packages/moviepy-0.2.2.11-py3.4.egg/moviepy/decorators.py\", line 89, in wrapper\r\n    return f(_new_a, *_new_kw)\r\n  File \"/usr/local/lib/python3.4/dist-packages/moviepy-0.2.2.11-py3.4.egg/moviepy/Clip.py\", line 95, in get_frame\r\n    return self.make_frame(t)\r\n  File \"/usr/local/lib/python3.4/dist-packages/moviepy-0.2.2.11-py3.4.egg/moviepy/Clip.py\", line 136, in <lambda>\r\n    newclip = self.set_make_frame(lambda t: fun(self.get_frame, t))\r\n  File \"/usr/local/lib/python3.4/dist-packages/moviepy-0.2.2.11-py3.4.egg/moviepy/audio/fx/volumex.py\", line 18, in <lambda>\r\n    return clip.fl(lambda gf, t: factor \\* gf(t),\r\n  File \"<decorator-gen-14>\", line 2, in get_frame\r\n  File \"/usr/local/lib/python3.4/dist-packages/moviepy-0.2.2.11-py3.4.egg/moviepy/decorators.py\", line 89, in wrapper\r\n    return f(_new_a, *_new_kw)\r\n  File \"/usr/local/lib/python3.4/dist-packages/moviepy-0.2.2.11-py3.4.egg/moviepy/Clip.py\", line 95, in get_frame\r\n    return self.make_frame(t)\r\n  File \"/usr/local/lib/python3.4/dist-packages/moviepy-0.2.2.11-py3.4.egg/moviepy/audio/AudioClip.py\", line 292, in make_frame\r\n    for c,part in zip(self.clips, played_parts)\r\n  File \"/usr/local/lib/python3.4/dist-packages/moviepy-0.2.2.11-py3.4.egg/moviepy/audio/AudioClip.py\", line 293, in <listcomp>\r\n    if (part is not False) ]\r\n  File \"<decorator-gen-14>\", line 2, in get_frame\r\n  File \"/usr/local/lib/python3.4/dist-packages/moviepy-0.2.2.11-py3.4.egg/moviepy/decorators.py\", line 89, in wrapper\r\n    return f(_new_a, *_new_kw)\r\n  File \"/usr/local/lib/python3.4/dist-packages/moviepy-0.2.2.11-py3.4.egg/moviepy/Clip.py\", line 95, in get_frame\r\n    return self.make_frame(t)\r\n  File \"/usr/local/lib/python3.4/dist-packages/moviepy-0.2.2.11-py3.4.egg/moviepy/audio/AudioClip.py\", line 292, in make_frame\r\n    for c,part in zip(self.clips, played_parts)\r\n  File \"/usr/local/lib/python3.4/dist-packages/moviepy-0.2.2.11-py3.4.egg/moviepy/audio/AudioClip.py\", line 293, in <listcomp>\r\n    if (part is not False) ]\r\n  File \"<decorator-gen-14>\", line 2, in get_frame\r\n  File \"/usr/local/lib/python3.4/dist-packages/moviepy-0.2.2.11-py3.4.egg/moviepy/decorators.py\", line 89, in wrapper\r\n    return f(_new_a, *_new_kw)\r\n  File \"/usr/local/lib/python3.4/dist-packages/moviepy-0.2.2.11-py3.4.egg/moviepy/Clip.py\", line 95, in get_frame\r\n    return self.make_frame(t)\r\n  File \"/usr/local/lib/python3.4/dist-packages/moviepy-0.2.2.11-py3.4.egg/moviepy/audio/io/AudioFileClip.py\", line 71, in <lambda>\r\n    self.make_frame =  lambda t: reader.get_frame(t)\r\n  File \"/usr/local/lib/python3.4/dist-packages/moviepy-0.2.2.11-py3.4.egg/moviepy/audio/io/readers.py\", line 194, in get_frame\r\n    \"but len(buffer)=%d\\n\"%(len(self.buffer))+ str(error))\r\nOSError: Error in file /ubuntu/conv/150757/conv/baaadilz/vid20160215102221_010.mp4, At time t=0.11-0.15 seconds, indices wanted: 4806-6805, but len(buffer)=5645\r\nindex 5645 is out of bounds for axis 0 with size 5645\r\n```\r\n[Uploading vid2016\r\n[vid20160215102221_010.mp4.zip](https://github.com/Zulko/moviepy/files/131920/vid20160215102221_010.mp4.zip)\r\n0215102221_010.mp4\u2026]()\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/265/reactions", "total_count": 5, "+1": 5, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/265/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/255", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/255/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/255/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/255/events", "html_url": "https://github.com/Zulko/moviepy/issues/255", "id": 129444845, "node_id": "MDU6SXNzdWUxMjk0NDQ4NDU=", "number": 255, "title": "VideoFileClip instance has no attribute 'reader'", "user": {"login": "waclock", "id": 2390687, "node_id": "MDQ6VXNlcjIzOTA2ODc=", "avatar_url": "https://avatars.githubusercontent.com/u/2390687?v=4", "gravatar_id": "", "url": "https://api.github.com/users/waclock", "html_url": "https://github.com/waclock", "followers_url": "https://api.github.com/users/waclock/followers", "following_url": "https://api.github.com/users/waclock/following{/other_user}", "gists_url": "https://api.github.com/users/waclock/gists{/gist_id}", "starred_url": "https://api.github.com/users/waclock/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/waclock/subscriptions", "organizations_url": "https://api.github.com/users/waclock/orgs", "repos_url": "https://api.github.com/users/waclock/repos", "events_url": "https://api.github.com/users/waclock/events{/privacy}", "received_events_url": "https://api.github.com/users/waclock/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2016-01-28T12:56:54Z", "updated_at": "2017-02-21T22:02:48Z", "closed_at": "2017-02-21T22:02:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\n\nI've searched for a few days regarding this issue but have come to no solution. I have a big script (try to concatenate large amounts of videos, ~100-500), which is why I was getting the error \"Too many files open\". Reading Zulko's responses to other issues, I saw that it was necessary to delete each VideoFileClip instance manually like this:\n\n```\ndel clip.reader\ndel clip\n```\n\nThe issue I'm facing is that I have a simple hello_world trying to do this, but get the error \n`VideoFileClip instance has no attribute 'reader'`\n\nHere's the code:\n\n```\n\nfrom moviepy.editor import *\n\n\nrel_path = \"main.py\"\n\nfile_path=\"hello_world.mp4\"\nnewVideo = VideoFileClip(file_path)\n\ndel newVideo.reader\ndel newVideo\n```\n\nI'm using El Capitan (OS X), have updated MoviePy, Numpy, ImageMagick, and all packages I've seen as required, but I'm still getting this error. The problem is my computer ends up freezing sometimes because it's using so much memory. I'm currently concatenating chunks of 25 videos, and trying to delete all 25 \"opened files\", concatenate the next 25, and so forth. After that I'd concatenate the longer videos.\n\nWhen I try running the real script, I get the following error If i don't add newVideo.reader\n\n```\nTraceback (most recent call last):\n  File \"/Users/johnpeebles/mispistachos/vines/video/reader.py\", line 135, in compile_videos\n    newVideo = VideoFileClip(videoPath).resize(height=finalHeight,width=finalWidth).set_position('center').set_start(currentDuration)\n  File \"/Library/Python/2.7/site-packages/moviepy/video/io/VideoFileClip.py\", line 55, in __init__\n    reader = FFMPEG_VideoReader(filename, pix_fmt=pix_fmt)\n  File \"/Library/Python/2.7/site-packages/moviepy/video/io/ffmpeg_reader.py\", line 32, in __init__\n    infos = ffmpeg_parse_infos(filename, print_infos, check_duration)\n  File \"/Library/Python/2.7/site-packages/moviepy/video/io/ffmpeg_reader.py\", line 237, in ffmpeg_parse_infos\n    proc = sp.Popen(cmd, **popen_params)\n  File \"/usr/local/Cellar/python/2.7.11/Frameworks/Python.framework/Versions/2.7/lib/python2.7/subprocess.py\", line 710, in __init__\n    errread, errwrite)\n  File \"/usr/local/Cellar/python/2.7.11/Frameworks/Python.framework/Versions/2.7/lib/python2.7/subprocess.py\", line 1223, in _execute_child\n    errpipe_read, errpipe_write = self.pipe_cloexec()\n  File \"/usr/local/Cellar/python/2.7.11/Frameworks/Python.framework/Versions/2.7/lib/python2.7/subprocess.py\", line 1175, in pipe_cloexec\n    r, w = os.pipe()\nOSError: [Errno 24] Too many open files\nError compiling videos\nException AttributeError: \"VideoFileClip instance has no attribute 'reader'\" in <bound method VideoFileClip.__del__ of <moviepy.video.io.VideoFileClip.VideoFileClip instance at 0x136e46908>> ignore\n\n```\n\nAny help is appreciated, thanks.\n\nhttp://stackoverflow.com/questions/35062658/moviepy-videofileclip-instance-has-no-attribute-reader\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/255/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/255/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/248", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/248/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/248/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/248/events", "html_url": "https://github.com/Zulko/moviepy/issues/248", "id": 126570112, "node_id": "MDU6SXNzdWUxMjY1NzAxMTI=", "number": 248, "title": "Problem with VideoFileClip not loading all frames", "user": {"login": "aldilaff", "id": 6405163, "node_id": "MDQ6VXNlcjY0MDUxNjM=", "avatar_url": "https://avatars.githubusercontent.com/u/6405163?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aldilaff", "html_url": "https://github.com/aldilaff", "followers_url": "https://api.github.com/users/aldilaff/followers", "following_url": "https://api.github.com/users/aldilaff/following{/other_user}", "gists_url": "https://api.github.com/users/aldilaff/gists{/gist_id}", "starred_url": "https://api.github.com/users/aldilaff/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aldilaff/subscriptions", "organizations_url": "https://api.github.com/users/aldilaff/orgs", "repos_url": "https://api.github.com/users/aldilaff/repos", "events_url": "https://api.github.com/users/aldilaff/events{/privacy}", "received_events_url": "https://api.github.com/users/aldilaff/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 51698344, "node_id": "MDU6TGFiZWw1MTY5ODM0NA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/question", "name": "question", "color": "ff96d0", "default": true, "description": "Questions regarding functionality, usage"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2016-01-14T03:31:54Z", "updated_at": "2017-04-13T17:02:39Z", "closed_at": "2017-04-13T16:16:57Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I am trying to run this code with this [large.gif](http://i.imgur.com/hlN3NZZ.gif):\n\n```\nclip = VideoFileClip('large.gif')\nclip.write_gif('new.gif')\n```\n\nThe result is [new.gif](http://i.imgur.com/vYKrAMD.gif). As you can see, for some reason, new.gif is a lot shorter than large.gif. I tried to count the number of frames being loaded using:\n\n```\ni=0\n    for frame in clip.iter_frames():\n        print(i)\n        i+=1\n```\n\nThe number of frames varied but it was generally around 140 frames while the original large.gif has around 375 frames.\n\nDid anyone else run into the same problem?\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/248/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/248/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/246", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/246/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/246/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/246/events", "html_url": "https://github.com/Zulko/moviepy/issues/246", "id": 125176560, "node_id": "MDU6SXNzdWUxMjUxNzY1NjA=", "number": 246, "title": "IndexError when converting audio to_soundarray()", "user": {"login": "pinae", "id": 1160927, "node_id": "MDQ6VXNlcjExNjA5Mjc=", "avatar_url": "https://avatars.githubusercontent.com/u/1160927?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pinae", "html_url": "https://github.com/pinae", "followers_url": "https://api.github.com/users/pinae/followers", "following_url": "https://api.github.com/users/pinae/following{/other_user}", "gists_url": "https://api.github.com/users/pinae/gists{/gist_id}", "starred_url": "https://api.github.com/users/pinae/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pinae/subscriptions", "organizations_url": "https://api.github.com/users/pinae/orgs", "repos_url": "https://api.github.com/users/pinae/repos", "events_url": "https://api.github.com/users/pinae/events{/privacy}", "received_events_url": "https://api.github.com/users/pinae/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2016-01-06T13:31:35Z", "updated_at": "2017-11-25T17:13:16Z", "closed_at": "2017-11-25T17:13:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "When converting audio to a numpy array with `.to_soundarray()` I get a `IndexError` with some files. This occured with audion from video clips and with audio clips\n\nThe error occurs with this File: https://github.com/pinae/Audiosyncer/blob/master/sample_mono_short.flac\nThis code reproduces the error:\n\n```\nfrom moviepy.editor import *\nsound = AudioFileClip(\"sample_mono_short.flac\")\nsamples = sound.to_soundarray()\n```\n\nThe whole error message:\n\n```\nIndexError                                Traceback (most recent call last)\n/home/xxx/venv/lib/python3.4/site-packages/moviepy/audio/io/readers.py in get_frame(self, tt)\n    186                 indices = frames - self.buffer_startframe\n--> 187                 result[in_time] = self.buffer[indices]\n    188                 return result\n\nIndexError: index 120575 is out of bounds for axis 0 with size 120575\n\nDuring handling of the above exception, another exception occurred:\n\nOSError                                   Traceback (most recent call last)\n<ipython-input-2-7b8ec45b76f0> in <module>()\n      2 \n      3 sound = AudioFileClip(\"sample_mono_short.flac\")\n----> 4 samples = sound.to_soundarray()\n\n<decorator-gen-194> in to_soundarray(self, tt, fps, quantize, nbytes, buffersize)\n\n/home/xxx/venv/lib/python3.4/site-packages/moviepy/decorators.py in requires_duration(f, clip, *a, **k)\n     52         raise ValueError(\"Attribute 'duration' not set\")\n     53     else:\n---> 54         return f(clip, *a, **k)\n     55 \n     56 \n\n/home/xxx/venv/lib/python3.4/site-packages/moviepy/audio/AudioClip.py in to_soundarray(self, tt, fps, quantize, nbytes, buffersize)\n    112             if self.duration>max_duration:\n    113                 return stacker(self.iter_chunks(fps=fps, quantize=quantize, nbytes=2,\n--> 114                                                  chunksize=buffersize))\n    115             else:\n    116                 tt = np.arange(0, self.duration, 1.0/fps)\n\n/home/xxx/venv/lib/python3.4/site-packages/numpy/core/shape_base.py in vstack(tup)\n    228 \n    229     \"\"\"\n--> 230     return _nx.concatenate([atleast_2d(_m) for _m in tup], 0)\n    231 \n    232 def hstack(tup):\n\n/home/xxx/venv/lib/python3.4/site-packages/numpy/core/shape_base.py in <listcomp>(.0)\n    228 \n    229     \"\"\"\n--> 230     return _nx.concatenate([atleast_2d(_m) for _m in tup], 0)\n    231 \n    232 def hstack(tup):\n\n/home/xxx/venv/lib/python3.4/site-packages/moviepy/audio/AudioClip.py in generator()\n     79                 tt = (1.0/fps)*np.arange(pospos[i],pospos[i+1])\n     80                 yield self.to_soundarray(tt, nbytes= nbytes, quantize=quantize, fps=fps,\n---> 81                                          buffersize=chunksize)\n     82 \n     83         if progress_bar:\n\n<decorator-gen-194> in to_soundarray(self, tt, fps, quantize, nbytes, buffersize)\n\n/home/xxx/venv/lib/python3.4/site-packages/moviepy/decorators.py in requires_duration(f, clip, *a, **k)\n     52         raise ValueError(\"Attribute 'duration' not set\")\n     53     else:\n---> 54         return f(clip, *a, **k)\n     55 \n     56 \n\n/home/xxx/venv/lib/python3.4/site-packages/moviepy/audio/AudioClip.py in to_soundarray(self, tt, fps, quantize, nbytes, buffersize)\n    125         #print tt.max() - tt.min(), tt.min(), tt.max()\n    126 \n--> 127         snd_array = self.get_frame(tt)\n    128 \n    129         if quantize:\n\n <decorator-gen-136> in get_frame(self, t)\n\n/home/xxx/venv/lib/python3.4/site-packages/moviepy/decorators.py in wrapper(f, *a, **kw)\n     87         new_kw = {k: fun(v) if k in varnames else v\n     88                  for (k,v) in kw.items()}\n---> 89         return f(*new_a, **new_kw)\n     90     return decorator.decorator(wrapper)\n     91 \n\n/home/xxx/venv/lib/python3.4/site-packages/moviepy/Clip.py in get_frame(self, t)\n     93                 return frame\n     94         else:\n---> 95             return self.make_frame(t)\n     96 \n     97     def fl(self, fun, apply_to=[] , keep_duration=True):\n\n/home/xxx/venv/lib/python3.4/site-packages/moviepy/audio/io/AudioFileClip.py in <lambda>(t)\n     69 \n     70 \n---> 71         self.make_frame =  lambda t: reader.get_frame(t)\n     72         self.nchannels = reader.nchannels\n     73 \n\n/home/xxx/venv/lib/python3.4/site-packages/moviepy/audio/io/readers.py in get_frame(self, tt)\n    191                        \"At time t=%.02f-%.02f seconds, \"%(tt[0], tt[-1])+\n    192                        \"indices wanted: %d-%d, \"%(indices.min(), indices.max())+\n--> 193                        \"but len(buffer)=%d\\n\"%(len(self.buffer))+ str(error))\n    194 \n    195         else:\n\nOSError: Error in file sample_mono_short.flac, At time t=27.21-27.68 seconds, indices wanted: 100000-120687, but len(buffer)=120575\nindex 120575 is out of bounds for axis 0 with size 120575\n```\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/246/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/246/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/227", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/227/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/227/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/227/events", "html_url": "https://github.com/Zulko/moviepy/issues/227", "id": 115078769, "node_id": "MDU6SXNzdWUxMTUwNzg3Njk=", "number": 227, "title": "CompositeVideoClip produces bad output with use_bgclip and a transparent background clip", "user": {"login": "Humper", "id": 119246, "node_id": "MDQ6VXNlcjExOTI0Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/119246?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Humper", "html_url": "https://github.com/Humper", "followers_url": "https://api.github.com/users/Humper/followers", "following_url": "https://api.github.com/users/Humper/following{/other_user}", "gists_url": "https://api.github.com/users/Humper/gists{/gist_id}", "starred_url": "https://api.github.com/users/Humper/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Humper/subscriptions", "organizations_url": "https://api.github.com/users/Humper/orgs", "repos_url": "https://api.github.com/users/Humper/repos", "events_url": "https://api.github.com/users/Humper/events{/privacy}", "received_events_url": "https://api.github.com/users/Humper/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-11-04T15:30:51Z", "updated_at": "2021-01-13T15:29:07Z", "closed_at": "2021-01-13T15:29:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "If use_bgclip is true, the background clip is removed from self.clips.\n\nHowever, the mask for the final composite clip is the composition of self.clips.\n\nThis means that the background clip's mask is not included in the final clip's composite mask, yielding bad results.\n\nThis can be fixed by simply iterating \"for c in clips\" instead of \"for c in self.clips\" when computing the set of mask clips to composite (around line 99 or CompositeVideoClip.py).\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/227/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/227/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/219", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/219/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/219/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/219/events", "html_url": "https://github.com/Zulko/moviepy/issues/219", "id": 112630915, "node_id": "MDU6SXNzdWUxMTI2MzA5MTU=", "number": 219, "title": "Could not find a format to read the specified file in mode 'i' ", "user": {"login": "hgillh", "id": 1826975, "node_id": "MDQ6VXNlcjE4MjY5NzU=", "avatar_url": "https://avatars.githubusercontent.com/u/1826975?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hgillh", "html_url": "https://github.com/hgillh", "followers_url": "https://api.github.com/users/hgillh/followers", "following_url": "https://api.github.com/users/hgillh/following{/other_user}", "gists_url": "https://api.github.com/users/hgillh/gists{/gist_id}", "starred_url": "https://api.github.com/users/hgillh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hgillh/subscriptions", "organizations_url": "https://api.github.com/users/hgillh/orgs", "repos_url": "https://api.github.com/users/hgillh/repos", "events_url": "https://api.github.com/users/hgillh/events{/privacy}", "received_events_url": "https://api.github.com/users/hgillh/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2015-10-21T16:40:51Z", "updated_at": "2021-03-20T06:41:36Z", "closed_at": "2018-12-16T16:45:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have created a script to add few images and text in a video. It works fine when I run it from command line.\nBut when I try to run it from a web-application, through apache (django 1.8 with mod_wsgi), It fails with following error at   img = imread(img) (VideoClip.py)\n\nError : Could not find a format to read the specified file in mode 'i' \n\nPlease help\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/219/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/219/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/213", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/213/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/213/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/213/events", "html_url": "https://github.com/Zulko/moviepy/issues/213", "id": 109105840, "node_id": "MDU6SXNzdWUxMDkxMDU4NDA=", "number": 213, "title": "Can't Add Audio to Video ", "user": {"login": "agieocean", "id": 11714575, "node_id": "MDQ6VXNlcjExNzE0NTc1", "avatar_url": "https://avatars.githubusercontent.com/u/11714575?v=4", "gravatar_id": "", "url": "https://api.github.com/users/agieocean", "html_url": "https://github.com/agieocean", "followers_url": "https://api.github.com/users/agieocean/followers", "following_url": "https://api.github.com/users/agieocean/following{/other_user}", "gists_url": "https://api.github.com/users/agieocean/gists{/gist_id}", "starred_url": "https://api.github.com/users/agieocean/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/agieocean/subscriptions", "organizations_url": "https://api.github.com/users/agieocean/orgs", "repos_url": "https://api.github.com/users/agieocean/repos", "events_url": "https://api.github.com/users/agieocean/events{/privacy}", "received_events_url": "https://api.github.com/users/agieocean/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 583252697, "node_id": "MDU6TGFiZWw1ODMyNTI2OTc=", "url": "https://api.github.com/repos/Zulko/moviepy/labels/audio", "name": "audio", "color": "bfd4f2", "default": false, "description": "Related to AudioClip, or handling of audio in general."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2015-09-30T14:38:46Z", "updated_at": "2022-10-10T23:10:05Z", "closed_at": "2022-10-10T23:10:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "This is my code:\r\n```\r\nvideoAdd =(VideoFileClip(\"video5.avi\", audio=False))\r\naudioAdd =(AudioFileClip(\"1.mp3\"))\r\nfinal = CompositeVideoClip([videoAdd, audioAdd])\r\nfinal.subclip(0,3).write_videofile(\"video5audio.avi\",fps=24,codec='libx264')\r\n```\r\n\r\nBut when I run it I am getting the following error:\r\n    AttributeError: 'NoneType' object has no attribute 'start'\r\n\r\nAm I doing something wrong when adding the audio or is it something else?\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/213/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/213/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/203", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/203/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/203/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/203/events", "html_url": "https://github.com/Zulko/moviepy/issues/203", "id": 104533384, "node_id": "MDU6SXNzdWUxMDQ1MzMzODQ=", "number": 203, "title": "IOError: MoviePy error. Failed to read duration of file", "user": {"login": "NareshPrabhu", "id": 13657084, "node_id": "MDQ6VXNlcjEzNjU3MDg0", "avatar_url": "https://avatars.githubusercontent.com/u/13657084?v=4", "gravatar_id": "", "url": "https://api.github.com/users/NareshPrabhu", "html_url": "https://github.com/NareshPrabhu", "followers_url": "https://api.github.com/users/NareshPrabhu/followers", "following_url": "https://api.github.com/users/NareshPrabhu/following{/other_user}", "gists_url": "https://api.github.com/users/NareshPrabhu/gists{/gist_id}", "starred_url": "https://api.github.com/users/NareshPrabhu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/NareshPrabhu/subscriptions", "organizations_url": "https://api.github.com/users/NareshPrabhu/orgs", "repos_url": "https://api.github.com/users/NareshPrabhu/repos", "events_url": "https://api.github.com/users/NareshPrabhu/events{/privacy}", "received_events_url": "https://api.github.com/users/NareshPrabhu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 583252675, "node_id": "MDU6TGFiZWw1ODMyNTI2NzU=", "url": "https://api.github.com/repos/Zulko/moviepy/labels/video", "name": "video", "color": "bfd4f2", "default": false, "description": "Related to VideoClip and related classes, or handling of video in general."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2015-09-02T17:33:05Z", "updated_at": "2022-03-23T18:08:36Z", "closed_at": "2020-04-28T11:40:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm using RapberryPi and downloaded MoviePy. Wrote a small sample code (sample.py) below\r\n\r\n```\r\n# !/usr/bin/env python\r\n\r\nfrom moviepy.editor import *\r\nvideo = VideoFileClip(\"sampleVideo.mp4\")\r\n```\r\n\r\nIs there any issue with my installation? Getting below error. ffmpeg installation was fine.\r\n\r\n```\r\npi@raspberrypi ~/pyv $ python sample.py\r\n/home/pi/.imageio/ffmpeg/ffmpeg.linux32: 1: /home/pi/.imageio/ffmpeg/ffmpeg.linux32: Syntax error: \"(\" unexpected\r\n\r\nTraceback (most recent call last):\r\n  File \"sample.py\", line 3, in <module>\r\n    video = VideoFileClip(\"sampleVideo.mp4\")\r\n  File \"/usr/local/lib/python2.7/dist-packages/moviepy/video/io/VideoFileClip.py\", line 55, in **init**\r\n    reader = FFMPEG_VideoReader(filename, pix_fmt=pix_fmt)\r\n  File \"/usr/local/lib/python2.7/dist-packages/moviepy/video/io/ffmpeg_reader.py\", line 32, in **init**\r\n    infos = ffmpeg_parse_infos(filename, print_infos, check_duration)\r\n  File \"/usr/local/lib/python2.7/dist-packages/moviepy/video/io/ffmpeg_reader.py\", line 270, in ffmpeg_parse_infos\r\n    filename, infos))\r\nIOError: MoviePy error: failed to read the duration of file sampleVideo.mp4.\r\nHere are the file infos returned by ffmpeg:\r\n\r\n/home/pi/.imageio/ffmpeg/ffmpeg.linux32: 1: /home/pi/.imageio/ffmpeg/ffmpeg.linux32: Syntax error: \"(\" unexpected\r\n\r\nException AttributeError: \"VideoFileClip instance has no attribute 'reader'\" in <bound method VideoFileClip.__del__ of <moviepy.video.io.VideoFileClip.VideoFileClip instance at 0xb6c74058>> ignored\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/203/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/203/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/200", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/200/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/200/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/200/events", "html_url": "https://github.com/Zulko/moviepy/issues/200", "id": 104004989, "node_id": "MDU6SXNzdWUxMDQwMDQ5ODk=", "number": 200, "title": "TextClip.list('color') fails", "user": {"login": "ZdenekM", "id": 1199396, "node_id": "MDQ6VXNlcjExOTkzOTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1199396?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ZdenekM", "html_url": "https://github.com/ZdenekM", "followers_url": "https://api.github.com/users/ZdenekM/followers", "following_url": "https://api.github.com/users/ZdenekM/following{/other_user}", "gists_url": "https://api.github.com/users/ZdenekM/gists{/gist_id}", "starred_url": "https://api.github.com/users/ZdenekM/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ZdenekM/subscriptions", "organizations_url": "https://api.github.com/users/ZdenekM/orgs", "repos_url": "https://api.github.com/users/ZdenekM/repos", "events_url": "https://api.github.com/users/ZdenekM/events{/privacy}", "received_events_url": "https://api.github.com/users/ZdenekM/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2015-08-31T07:53:44Z", "updated_at": "2017-02-22T19:13:42Z", "closed_at": "2017-02-22T19:13:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "``` python\n>>> from moviepy.editor import TextClip\n>>> TextClip.list(\"color\")\nTraceback (most recent call last):\n  File \"<stdin>\", line 1, in <module>\n  File \"/usr/local/lib/python2.7/dist-packages/moviepy/video/VideoClip.py\", line 1179, in list\n    return [l.split(\" \")[1] for l in lines[2:]]\nIndexError: list index out of range\n```\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/200/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/200/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/177", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/177/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/177/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/177/events", "html_url": "https://github.com/Zulko/moviepy/issues/177", "id": 86691586, "node_id": "MDU6SXNzdWU4NjY5MTU4Ng==", "number": 177, "title": "Trouble with function VideoFileClip()", "user": {"login": "yoyomo", "id": 12818568, "node_id": "MDQ6VXNlcjEyODE4NTY4", "avatar_url": "https://avatars.githubusercontent.com/u/12818568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yoyomo", "html_url": "https://github.com/yoyomo", "followers_url": "https://api.github.com/users/yoyomo/followers", "following_url": "https://api.github.com/users/yoyomo/following{/other_user}", "gists_url": "https://api.github.com/users/yoyomo/gists{/gist_id}", "starred_url": "https://api.github.com/users/yoyomo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yoyomo/subscriptions", "organizations_url": "https://api.github.com/users/yoyomo/orgs", "repos_url": "https://api.github.com/users/yoyomo/repos", "events_url": "https://api.github.com/users/yoyomo/events{/privacy}", "received_events_url": "https://api.github.com/users/yoyomo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 547814220, "node_id": "MDU6TGFiZWw1NDc4MTQyMjA=", "url": "https://api.github.com/repos/Zulko/moviepy/labels/lib-misc", "name": "lib-misc", "color": "ffdcb5", "default": false, "description": "Issues pertaining to misc. 3rd-party libraries."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2015-06-09T18:34:15Z", "updated_at": "2020-10-02T20:41:37Z", "closed_at": "2020-06-16T01:56:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am using 64bit Windows with 32 bit python2.7. Every time I enter VideoFileClip(\"frozen_trailer.mp4\") I get:\r\n```\r\nTraceback (most recent call last):\r\n  File \"C:\\Users\\armando\\Documents\\Workspaces\\use_your_head.py\", line 3, in <module>\r\n    clip = (VideoFileClip(\"frozen_trailer.mp4\")\r\n  File \"C:\\Python27\\lib\\site-packages\\moviepy\\video\\io\\VideoFileClip.py\", line 55, in **init**\r\n    reader = FFMPEG_VideoReader(filename, pix_fmt=pix_fmt)\r\n  File \"C:\\Python27\\lib\\site-packages\\moviepy\\video\\io\\ffmpeg_reader.py\", line 32, in **init**\r\n    infos = ffmpeg_parse_infos(filename, print_infos, check_duration)\r\n  File \"C:\\Python27\\lib\\site-packages\\moviepy\\video\\io\\ffmpeg_reader.py\", line 237, in ffmpeg_parse_infos\r\n    proc = sp.Popen(cmd, **popen_params)\r\n  File \"C:\\Python27\\lib\\subprocess.py\", line 710, in **init**\r\n    errread, errwrite)\r\n  File \"C:\\Python27\\lib\\subprocess.py\", line 958, in _execute_child\r\n    startupinfo)\r\nWindowsError: [Error 193] %1 is not a valid Win32 application\r\n```", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/177/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/177/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/172", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/172/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/172/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/172/events", "html_url": "https://github.com/Zulko/moviepy/issues/172", "id": 80702794, "node_id": "MDU6SXNzdWU4MDcwMjc5NA==", "number": 172, "title": "AttributeError", "user": {"login": "Pronk99", "id": 12584461, "node_id": "MDQ6VXNlcjEyNTg0NDYx", "avatar_url": "https://avatars.githubusercontent.com/u/12584461?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Pronk99", "html_url": "https://github.com/Pronk99", "followers_url": "https://api.github.com/users/Pronk99/followers", "following_url": "https://api.github.com/users/Pronk99/following{/other_user}", "gists_url": "https://api.github.com/users/Pronk99/gists{/gist_id}", "starred_url": "https://api.github.com/users/Pronk99/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Pronk99/subscriptions", "organizations_url": "https://api.github.com/users/Pronk99/orgs", "repos_url": "https://api.github.com/users/Pronk99/repos", "events_url": "https://api.github.com/users/Pronk99/events{/privacy}", "received_events_url": "https://api.github.com/users/Pronk99/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2015-05-25T23:20:43Z", "updated_at": "2020-05-07T21:13:37Z", "closed_at": "2020-05-07T21:13:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "Trying to install \"videogrep\", I get the following error...\n\nException AttributeError: \"FFMPEG_VideoReader instance has no attribute 'proc'\" in > ignored\n\nIt occurs while script is trying to split video when matched word found.\n\nOccurs in library \"moviepy\".\n\nThanks.\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/172/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/172/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/167", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/167/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/167/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/167/events", "html_url": "https://github.com/Zulko/moviepy/issues/167", "id": 73855985, "node_id": "MDU6SXNzdWU3Mzg1NTk4NQ==", "number": 167, "title": "headblur.py: ImportError to_fxfy", "user": {"login": "jjoe64", "id": 858379, "node_id": "MDQ6VXNlcjg1ODM3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/858379?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jjoe64", "html_url": "https://github.com/jjoe64", "followers_url": "https://api.github.com/users/jjoe64/followers", "following_url": "https://api.github.com/users/jjoe64/following{/other_user}", "gists_url": "https://api.github.com/users/jjoe64/gists{/gist_id}", "starred_url": "https://api.github.com/users/jjoe64/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jjoe64/subscriptions", "organizations_url": "https://api.github.com/users/jjoe64/orgs", "repos_url": "https://api.github.com/users/jjoe64/repos", "events_url": "https://api.github.com/users/jjoe64/events{/privacy}", "received_events_url": "https://api.github.com/users/jjoe64/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 540131892, "node_id": "MDU6TGFiZWw1NDAxMzE4OTI=", "url": "https://api.github.com/repos/Zulko/moviepy/labels/documentation", "name": "documentation", "color": "37d6db", "default": true, "description": "Related to documentation in official project docs or individual docstrings."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-05-07T05:54:32Z", "updated_at": "2021-01-13T22:14:15Z", "closed_at": "2021-01-13T22:14:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "First, thanks for the great project!\n\nI use the current codebase from github. when I want to start the headblur.py example, it throws an Input Error:\n\n> $ python headblur.py\n> \n> ```\n> Traceback (most recent call last):\n>   File \"headblur.py\", line 4, in <module>\n>     from moviepy.video.tools.tracking import manual_tracking, to_fxfy\n> ImportError: cannot import name to_fxfy\n> ```\n\nPlease help\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/167/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/167/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/140", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/140/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/140/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/140/events", "html_url": "https://github.com/Zulko/moviepy/issues/140", "id": 60084268, "node_id": "MDU6SXNzdWU2MDA4NDI2OA==", "number": 140, "title": "utf8_decode() error on some mov files with quotes in metadatas", "user": {"login": "Fixazo", "id": 5630468, "node_id": "MDQ6VXNlcjU2MzA0Njg=", "avatar_url": "https://avatars.githubusercontent.com/u/5630468?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Fixazo", "html_url": "https://github.com/Fixazo", "followers_url": "https://api.github.com/users/Fixazo/followers", "following_url": "https://api.github.com/users/Fixazo/following{/other_user}", "gists_url": "https://api.github.com/users/Fixazo/gists{/gist_id}", "starred_url": "https://api.github.com/users/Fixazo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Fixazo/subscriptions", "organizations_url": "https://api.github.com/users/Fixazo/orgs", "repos_url": "https://api.github.com/users/Fixazo/repos", "events_url": "https://api.github.com/users/Fixazo/events{/privacy}", "received_events_url": "https://api.github.com/users/Fixazo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 1866683148, "node_id": "MDU6TGFiZWwxODY2NjgzMTQ4", "url": "https://api.github.com/repos/Zulko/moviepy/labels/lib-FFmpeg", "name": "lib-FFmpeg", "color": "d6b289", "default": false, "description": "Issues pertaining to dependency FFmpeg."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2015-03-06T10:27:19Z", "updated_at": "2022-01-14T16:21:59Z", "closed_at": "2022-01-14T16:21:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\nI had a problem using moviepy with some .mov files which included bad metadatas, but I had to treat those files. It told me it couldn't decode 0x92 byte or something\nI tracked down the error to ffmpeg_reader.py at line : \ninfos = proc.stderr.read().decode('utf8')\n\nI replaced it with that, and it solved my problem : \ninfos = proc.stderr.read()\n\nMaybe it can help !\nBye\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/140/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/140/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/122", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/122/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/122/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/122/events", "html_url": "https://github.com/Zulko/moviepy/issues/122", "id": 56719451, "node_id": "MDU6SXNzdWU1NjcxOTQ1MQ==", "number": 122, "title": "Serious bug in VideoFileClip.get_frame time to frame# transformation", "user": {"login": "nerduno", "id": 1088576, "node_id": "MDQ6VXNlcjEwODg1NzY=", "avatar_url": "https://avatars.githubusercontent.com/u/1088576?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nerduno", "html_url": "https://github.com/nerduno", "followers_url": "https://api.github.com/users/nerduno/followers", "following_url": "https://api.github.com/users/nerduno/following{/other_user}", "gists_url": "https://api.github.com/users/nerduno/gists{/gist_id}", "starred_url": "https://api.github.com/users/nerduno/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nerduno/subscriptions", "organizations_url": "https://api.github.com/users/nerduno/orgs", "repos_url": "https://api.github.com/users/nerduno/repos", "events_url": "https://api.github.com/users/nerduno/events{/privacy}", "received_events_url": "https://api.github.com/users/nerduno/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2015-02-05T19:47:46Z", "updated_at": "2022-02-15T14:21:11Z", "closed_at": "2021-01-19T16:32:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "I've found a bug in VideoFileClip.get_frame(t).  \n\nFor some times t (not all), the frame returned by get_frame(t0) changes depending on prior calls to get_frame.\n\nFor example, the following code will print the value False, unless I comment out the request for frame100.\n\n```\n#get frame 101\nmyclip = mpye.VideoFileClip(movie.mp4)\nframe101_v1 = myclip.get_frame(0.8455)\n\n#get frame 101 after requesting frame 100\nmyclip = mpye.VideoFileClip(movie.mp4)\nframe100 = myclip.get_frame(0.8375)\nframe101_v2 = myclip.get_frame(0.8455)\n\nprint all(frame101_v1 == frame101_v2)\n```\n\nIt turns out frame101_v1 is equal to frame102.\n\nThe bug appears to be related to code in ffmpeg_reader.py that attempts to optimize the speed of get_frame seeking behavior.\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/122/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/122/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/116", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/116/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/116/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/116/events", "html_url": "https://github.com/Zulko/moviepy/issues/116", "id": 55636501, "node_id": "MDU6SXNzdWU1NTYzNjUwMQ==", "number": 116, "title": "IOError: MoviePy error: failed to read the duration of file / Protocol not found", "user": {"login": "lmsanch", "id": 3156487, "node_id": "MDQ6VXNlcjMxNTY0ODc=", "avatar_url": "https://avatars.githubusercontent.com/u/3156487?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lmsanch", "html_url": "https://github.com/lmsanch", "followers_url": "https://api.github.com/users/lmsanch/followers", "following_url": "https://api.github.com/users/lmsanch/following{/other_user}", "gists_url": "https://api.github.com/users/lmsanch/gists{/gist_id}", "starred_url": "https://api.github.com/users/lmsanch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lmsanch/subscriptions", "organizations_url": "https://api.github.com/users/lmsanch/orgs", "repos_url": "https://api.github.com/users/lmsanch/repos", "events_url": "https://api.github.com/users/lmsanch/events{/privacy}", "received_events_url": "https://api.github.com/users/lmsanch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 583252675, "node_id": "MDU6TGFiZWw1ODMyNTI2NzU=", "url": "https://api.github.com/repos/Zulko/moviepy/labels/video", "name": "video", "color": "bfd4f2", "default": false, "description": "Related to VideoClip and related classes, or handling of video in general."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 14, "created_at": "2015-01-27T16:02:51Z", "updated_at": "2020-10-04T03:18:49Z", "closed_at": "2020-04-28T11:44:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "I keep getting this error, and some people have experienced this before using different versions of moviepy. As recommended, I manually istalled from Github, and I am stil lgetting the error.\n\nI am using ubuntu 64-bit 14.04.1, Python 2.7.8 |Anaconda 2.1.0 (64-bit)| (default, Aug 21 2014, 18:22:21) [GCC 4.4.7 20120313 (Red Hat 4.4.7-1)] on linux2\n\nThis is the rest of the info:\n\nIOError: MoviePy error: failed to read the duration of file GoPro: Alana Blanchard Surfer Girl On NetworkA.webm.\nHere are the file infos returned by ffmpeg:\n\nffmpeg version 2.4.2-   http://johnvansickle.com/ffmpeg/    Copyright (c) 2000-2014 the FFmpeg developers\n  built on Oct  9 2014 07:24:56 with gcc 4.8 (Debian 4.8.3-11)\n  configuration: --enable-gpl --enable-version3 --disable-shared --disable-debug --enable-runtime-cpudetect --enable-libmp3lame --enable-libx264 --enable-libx265 --enable-libwebp --enable-libspeex --enable-libvorbis --enable-libvpx --enable-libfreetype --enable-fontconfig --enable-libxvid --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libtheora --enable-libvo-aacenc --enable-libvo-amrwbenc --enable-gray --enable-libopenjpeg --enable-libopus --disable-ffserver --enable-libass --enable-gnutls --cc=gcc-4.8\n  libavutil      54.  7.100 / 54.  7.100\n  libavcodec     56.  1.100 / 56.  1.100\n  libavformat    56.  4.101 / 56.  4.101\n  libavdevice    56.  0.100 / 56.  0.100\n  libavfilter     5.  1.100 /  5.  1.100\n  libswscale      3.  0.100 /  3.  0.100\n  libswresample   1.  1.100 /  1.  1.100\n  libpostproc    53.  0.100 / 53.  0.100\nGoPro: Alana Blanchard Surfer Girl On NetworkA.webm: Protocol not found\n\nI have a list of webm files, and this is the only one giving me an error. It plays well, so I don't think it is a corrupted file or anything like that.\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/116/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/116/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/113", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/113/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/113/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/113/events", "html_url": "https://github.com/Zulko/moviepy/issues/113", "id": 54593563, "node_id": "MDU6SXNzdWU1NDU5MzU2Mw==", "number": 113, "title": "ImageMagick write gif success but no file found ", "user": {"login": "lisongx", "id": 349342, "node_id": "MDQ6VXNlcjM0OTM0Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/349342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lisongx", "html_url": "https://github.com/lisongx", "followers_url": "https://api.github.com/users/lisongx/followers", "following_url": "https://api.github.com/users/lisongx/following{/other_user}", "gists_url": "https://api.github.com/users/lisongx/gists{/gist_id}", "starred_url": "https://api.github.com/users/lisongx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lisongx/subscriptions", "organizations_url": "https://api.github.com/users/lisongx/orgs", "repos_url": "https://api.github.com/users/lisongx/repos", "events_url": "https://api.github.com/users/lisongx/events{/privacy}", "received_events_url": "https://api.github.com/users/lisongx/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 547814220, "node_id": "MDU6TGFiZWw1NDc4MTQyMjA=", "url": "https://api.github.com/repos/Zulko/moviepy/labels/lib-misc", "name": "lib-misc", "color": "ffdcb5", "default": false, "description": "Issues pertaining to misc. 3rd-party libraries."}, {"id": 760686230, "node_id": "MDU6TGFiZWw3NjA2ODYyMzA=", "url": "https://api.github.com/repos/Zulko/moviepy/labels/images", "name": "images", "color": "bfd4f2", "default": false, "description": "Related to ImageClip, or handling of images in general."}, {"id": 1866735520, "node_id": "MDU6TGFiZWwxODY2NzM1NTIw", "url": "https://api.github.com/repos/Zulko/moviepy/labels/lib-ImageMagick", "name": "lib-ImageMagick", "color": "d6b289", "default": false, "description": "Issues pertaining to dependency ImageMagick."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 21, "created_at": "2015-01-16T16:19:36Z", "updated_at": "2021-10-24T21:54:45Z", "closed_at": "2019-10-01T13:32:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "`imageio`  throw segmentation fault \n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/113/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/113/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/110", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/110/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/110/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/110/events", "html_url": "https://github.com/Zulko/moviepy/issues/110", "id": 52801834, "node_id": "MDU6SXNzdWU1MjgwMTgzNA==", "number": 110, "title": "tmp file can't be deleted while using TextClip()", "user": {"login": "cqzhao", "id": 7945364, "node_id": "MDQ6VXNlcjc5NDUzNjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/7945364?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cqzhao", "html_url": "https://github.com/cqzhao", "followers_url": "https://api.github.com/users/cqzhao/followers", "following_url": "https://api.github.com/users/cqzhao/following{/other_user}", "gists_url": "https://api.github.com/users/cqzhao/gists{/gist_id}", "starred_url": "https://api.github.com/users/cqzhao/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cqzhao/subscriptions", "organizations_url": "https://api.github.com/users/cqzhao/orgs", "repos_url": "https://api.github.com/users/cqzhao/repos", "events_url": "https://api.github.com/users/cqzhao/events{/privacy}", "received_events_url": "https://api.github.com/users/cqzhao/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 1163360583, "node_id": "MDU6TGFiZWwxMTYzMzYwNTgz", "url": "https://api.github.com/repos/Zulko/moviepy/labels/text", "name": "text", "color": "bfd4f2", "default": false, "description": "Issues dealing with TextClip, SubtitlesClip, or handling of text in general."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2014-12-24T07:32:36Z", "updated_at": "2022-01-13T15:37:46Z", "closed_at": "2022-01-13T15:37:46Z", "author_association": "NONE", "active_lock_reason": null, "body": " When I use TextClip():\r\n\r\n```\r\ntxt_clip = TextClip(\"This is a test for txtclip!\",fontsize=30,color='white')\r\ntxt_clip =  txt_clip.set_pos('center','bottom').set_duration(15)\r\nclip.subclip(10,25)\r\n\r\nvideo = CompositeVideoClip([clip.subclip(10,25),txt_clip])\r\nvideo.write_videofile(\"test.mp4\",fps=clip.fps)\r\n```\r\n\r\nthere will be an error:\r\n```\r\nos.remove(tempfilename)\r\nWindowsError: [Error 32] : 'c:\\users\\legend\\appdata\\local\\temp\\tmpbg_kkw.p\r\nng'\r\n```\r\nThe temp file is not closed before it will be removed. Add remove_temp=False as parameter will solve this,but it's better to close and remove it. what should I do?\r\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/110/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/110/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/103", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/103/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/103/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/103/events", "html_url": "https://github.com/Zulko/moviepy/issues/103", "id": 51812978, "node_id": "MDU6SXNzdWU1MTgxMjk3OA==", "number": 103, "title": "transparency bug in concatenate_videoclips()", "user": {"login": "clauswilke", "id": 4210929, "node_id": "MDQ6VXNlcjQyMTA5Mjk=", "avatar_url": "https://avatars.githubusercontent.com/u/4210929?v=4", "gravatar_id": "", "url": "https://api.github.com/users/clauswilke", "html_url": "https://github.com/clauswilke", "followers_url": "https://api.github.com/users/clauswilke/followers", "following_url": "https://api.github.com/users/clauswilke/following{/other_user}", "gists_url": "https://api.github.com/users/clauswilke/gists{/gist_id}", "starred_url": "https://api.github.com/users/clauswilke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/clauswilke/subscriptions", "organizations_url": "https://api.github.com/users/clauswilke/orgs", "repos_url": "https://api.github.com/users/clauswilke/repos", "events_url": "https://api.github.com/users/clauswilke/events{/privacy}", "received_events_url": "https://api.github.com/users/clauswilke/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2014-12-12T14:44:47Z", "updated_at": "2021-04-24T09:02:54Z", "closed_at": "2017-02-22T20:25:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "The function concatenate_videoclips() has three transparency bugs:\n1. The default should be `transparent=True`, not `transparent=False`. The purpose of this function is simply to stitch multiple videoclips together. It makes no sense to remove transparency in the process by default.\n2. If I set `transparent=True`, the function crashes. The offending line is line 85 in:\n   https://github.com/Zulko/moviepy/blob/master/moviepy/video/compositing/concatenate.py\n   The variable `clips` that is used in the list comprehension is not defined. It should be `clipslist`.\n3. If I set `transparent=False`, I would expect that transparency is replaced by the background color given as `bg_color` argument. As far as I can see, that is not the case, however. Transparency is replaced by black.\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/103/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/103/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/101", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/101/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/101/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/101/events", "html_url": "https://github.com/Zulko/moviepy/issues/101", "id": 51691904, "node_id": "MDU6SXNzdWU1MTY5MTkwNA==", "number": 101, "title": "File not closed after merging audio", "user": {"login": "Eloar", "id": 8638725, "node_id": "MDQ6VXNlcjg2Mzg3MjU=", "avatar_url": "https://avatars.githubusercontent.com/u/8638725?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Eloar", "html_url": "https://github.com/Eloar", "followers_url": "https://api.github.com/users/Eloar/followers", "following_url": "https://api.github.com/users/Eloar/following{/other_user}", "gists_url": "https://api.github.com/users/Eloar/gists{/gist_id}", "starred_url": "https://api.github.com/users/Eloar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Eloar/subscriptions", "organizations_url": "https://api.github.com/users/Eloar/orgs", "repos_url": "https://api.github.com/users/Eloar/repos", "events_url": "https://api.github.com/users/Eloar/events{/privacy}", "received_events_url": "https://api.github.com/users/Eloar/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 583252697, "node_id": "MDU6TGFiZWw1ODMyNTI2OTc=", "url": "https://api.github.com/repos/Zulko/moviepy/labels/audio", "name": "audio", "color": "bfd4f2", "default": false, "description": "Related to AudioClip, or handling of audio in general."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2014-12-11T14:22:58Z", "updated_at": "2021-01-14T00:46:28Z", "closed_at": "2021-01-14T00:46:27Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I was extracting audio from one clip to add it to another. Using temporary mp3 file felt bit useless so I tried to make it directly.\n\n```\nimSeq = ImageSequenceClip(sequence_dir, fps)\nauSeq = VideoFileClip(audio_file)\nimSeq.audio = auSeq.audio.subclip(start_time, imSeq.duration + start_time)\nimSeq.write_videofile(outfile, verbose=False)\n```\n\nThe only problem audio file is no longer needed so I try to delete it. I tried to do it same way I did it after extraction to mp3 file:\n\n```\ndel imSeq.audio.reader\ndel imSeq.audio\ndel imSeq\n\ndel auSeq.audio.reader\ndel auSeq.audio\ndel auSeq\n```\n\nBut it doesn't work here. This centipede is result of many unsuccesfull tries.\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/101/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/101/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/76", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/76/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/76/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/76/events", "html_url": "https://github.com/Zulko/moviepy/issues/76", "id": 45084147, "node_id": "MDU6SXNzdWU0NTA4NDE0Nw==", "number": 76, "title": "Unable to use unicode strings with Python 2", "user": {"login": "flothesof", "id": 2360669, "node_id": "MDQ6VXNlcjIzNjA2Njk=", "avatar_url": "https://avatars.githubusercontent.com/u/2360669?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flothesof", "html_url": "https://github.com/flothesof", "followers_url": "https://api.github.com/users/flothesof/followers", "following_url": "https://api.github.com/users/flothesof/following{/other_user}", "gists_url": "https://api.github.com/users/flothesof/gists{/gist_id}", "starred_url": "https://api.github.com/users/flothesof/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flothesof/subscriptions", "organizations_url": "https://api.github.com/users/flothesof/orgs", "repos_url": "https://api.github.com/users/flothesof/repos", "events_url": "https://api.github.com/users/flothesof/events{/privacy}", "received_events_url": "https://api.github.com/users/flothesof/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 540132033, "node_id": "MDU6TGFiZWw1NDAxMzIwMzM=", "url": "https://api.github.com/repos/Zulko/moviepy/labels/python-version", "name": "python-version", "color": "a189f0", "default": false, "description": "Compatibility issues, behaviour changes,... between different Python versions."}, {"id": 583253992, "node_id": "MDU6TGFiZWw1ODMyNTM5OTI=", "url": "https://api.github.com/repos/Zulko/moviepy/labels/stale", "name": "stale", "color": "dcdcdc", "default": false, "description": "For issues lacking activity, whose creators have become unresponsive,..."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2014-10-07T09:01:13Z", "updated_at": "2020-10-03T12:13:32Z", "closed_at": "2017-11-27T07:30:45Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I'm trying to use French labels within a TextClip. \nHowever, the rendering with ImageMagick fails:\n\n```\nUnicodeEncodeError                        Traceback (most recent call last)\n<ipython-input-5-9c706287e797> in <module>()\n      5                          font=font,\n      6                          fontsize=fontsize,\n----> 7                          size=(W, H)).set_pos('center').set_duration(5))\n      8     if vid != None:\n      9         start, end = subsection\n\nC:\\Python27\\lib\\site-packages\\moviepy\\video\\VideoClip.py in __init__(self, txt, size, color, bg_color, fontsize, font, stroke_color, stroke_width, method, kerning, align, interline, tempfilename, temptxt, transparent, remove_temp, print_cmd)\n   1048                     os.write(temptxt_fd, bytes(txt,'UTF8'))\n   1049                 except TypeError: # oops, fall back to Python2\n-> 1050                     os.write(temptxt_fd, txt)\n   1051                 os.close(temptxt_fd)\n   1052             txt = '@'+temptxt\n\nUnicodeEncodeError: 'ascii' codec can't encode character u'\\xe9' in position 33: ordinal not in range(128)\n```\n\nThere seems to be a possible workaround by doing the following:\n\n```\n#os.write(temptxt_fd, txt)\nos.write(temptxt_fd, txt.encode('utf-8'))\n```\n\nBut this won't get me any UTF-8 text on the picture. Instead, I get the classical encoding mismatched characters.\n\nAny idea on how to fix this?\n\nThanks!\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/76/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/76/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/74", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/74/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/74/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/74/events", "html_url": "https://github.com/Zulko/moviepy/issues/74", "id": 44428134, "node_id": "MDU6SXNzdWU0NDQyODEzNA==", "number": 74, "title": "MemoryError when generating clip from numerous images with sound", "user": {"login": "flothesof", "id": 2360669, "node_id": "MDQ6VXNlcjIzNjA2Njk=", "avatar_url": "https://avatars.githubusercontent.com/u/2360669?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flothesof", "html_url": "https://github.com/flothesof", "followers_url": "https://api.github.com/users/flothesof/followers", "following_url": "https://api.github.com/users/flothesof/following{/other_user}", "gists_url": "https://api.github.com/users/flothesof/gists{/gist_id}", "starred_url": "https://api.github.com/users/flothesof/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flothesof/subscriptions", "organizations_url": "https://api.github.com/users/flothesof/orgs", "repos_url": "https://api.github.com/users/flothesof/repos", "events_url": "https://api.github.com/users/flothesof/events{/privacy}", "received_events_url": "https://api.github.com/users/flothesof/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}, {"id": 51698342, "node_id": "MDU6TGFiZWw1MTY5ODM0Mg==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/enhancement", "name": "enhancement", "color": "1d76db", "default": true, "description": "Positive change that does not change the API, i.e. improved performance, using less memory etc."}, {"id": 583252697, "node_id": "MDU6TGFiZWw1ODMyNTI2OTc=", "url": "https://api.github.com/repos/Zulko/moviepy/labels/audio", "name": "audio", "color": "bfd4f2", "default": false, "description": "Related to AudioClip, or handling of audio in general."}, {"id": 760686230, "node_id": "MDU6TGFiZWw3NjA2ODYyMzA=", "url": "https://api.github.com/repos/Zulko/moviepy/labels/images", "name": "images", "color": "bfd4f2", "default": false, "description": "Related to ImageClip, or handling of images in general."}, {"id": 2095151545, "node_id": "MDU6TGFiZWwyMDk1MTUxNTQ1", "url": "https://api.github.com/repos/Zulko/moviepy/labels/performance", "name": "performance", "color": "b57b4e", "default": false, "description": "Speed/performance of code or individual functionality."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2014-09-30T11:32:39Z", "updated_at": "2022-10-10T23:45:03Z", "closed_at": "2022-10-10T23:45:03Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I'm trying to build a video from a sequence of images with audio.\n\nWhat I want to do is:\n- generate images and write them to disk\n- generate sounds that go with the images and write them to disk\n- do a loop over my 120 items and build a CompositeVideoClip for each item that I store in a list\n- assemble the composite video clips at the end with concatenate to write the movie to disk\n\nWhen I loop over 10 items, it works fine. When I loop over the 120 items, it stops at number 106 with a memory error. Indeed, checking for the memory footprint yields the following:\n![memory_error](https://cloud.githubusercontent.com/assets/2360669/4457308/32efbcb2-4895-11e4-94c1-e8901292d446.PNG)\n\nCould you please explain what I'm doing wrong?\nThe code can be found [here](http://nbviewer.ipython.org/github/flothesof/TheRingtoneVariations/blob/master/make_yt_video.ipynb).\nIn case you want to try it out, just clone [this repository](https://github.com/flothesof/TheRingtoneVariations) and follow instructions found in the readme file.\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/74/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/74/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/12", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/12/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/12/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/12/events", "html_url": "https://github.com/Zulko/moviepy/issues/12", "id": 27468963, "node_id": "MDU6SXNzdWUyNzQ2ODk2Mw==", "number": 12, "title": "Python 3.3.3 - invalid syntax error", "user": {"login": "MaximRouiller", "id": 209384, "node_id": "MDQ6VXNlcjIwOTM4NA==", "avatar_url": "https://avatars.githubusercontent.com/u/209384?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MaximRouiller", "html_url": "https://github.com/MaximRouiller", "followers_url": "https://api.github.com/users/MaximRouiller/followers", "following_url": "https://api.github.com/users/MaximRouiller/following{/other_user}", "gists_url": "https://api.github.com/users/MaximRouiller/gists{/gist_id}", "starred_url": "https://api.github.com/users/MaximRouiller/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MaximRouiller/subscriptions", "organizations_url": "https://api.github.com/users/MaximRouiller/orgs", "repos_url": "https://api.github.com/users/MaximRouiller/repos", "events_url": "https://api.github.com/users/MaximRouiller/events{/privacy}", "received_events_url": "https://api.github.com/users/MaximRouiller/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2014-02-12T20:49:15Z", "updated_at": "2014-04-20T20:25:37Z", "closed_at": "2014-04-20T20:25:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm trying to run moviepy with the Python 3.3.3 interpreter and it fails.\n\nI'm sorry before-hand if it's a n00b error (I'm still brand new to Python) but I get the following error when running my code.\n\nError:\n\n```\nTraceback (most recent call last):\n  File \"C:/Users/Maxime/PycharmProjects/LearningPython/LearningClasses.py\", line 2, in <module>\n    from moviepy.editor import *\n  File \"C:\\Python33\\lib\\site-packages\\moviepy\\editor.py\", line 11, in <module>\n    from moviepy.video.io.VideoFileClip import VideoFileClip\n  File \"C:\\Python33\\lib\\site-packages\\moviepy\\video\\io\\VideoFileClip.py\", line 63\n    print \"No audio found in %s\"%filename\n                               ^\nSyntaxError: invalid syntax\n```\n\nMy Code: \n\n``` python\nfrom moviepy.editor import *\n\nVideoFileClip(\"C:/Users/Maxime/Downloads/sample_mpeg4.mp4\").to_gif(\"test.gif\")\n```\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/12/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/12/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/10", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/10/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/10/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/10/events", "html_url": "https://github.com/Zulko/moviepy/issues/10", "id": 26787515, "node_id": "MDU6SXNzdWUyNjc4NzUxNQ==", "number": 10, "title": "something went wrong with the audio writing, Exit code 1", "user": {"login": "karpitsky", "id": 558554, "node_id": "MDQ6VXNlcjU1ODU1NA==", "avatar_url": "https://avatars.githubusercontent.com/u/558554?v=4", "gravatar_id": "", "url": "https://api.github.com/users/karpitsky", "html_url": "https://github.com/karpitsky", "followers_url": "https://api.github.com/users/karpitsky/followers", "following_url": "https://api.github.com/users/karpitsky/following{/other_user}", "gists_url": "https://api.github.com/users/karpitsky/gists{/gist_id}", "starred_url": "https://api.github.com/users/karpitsky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/karpitsky/subscriptions", "organizations_url": "https://api.github.com/users/karpitsky/orgs", "repos_url": "https://api.github.com/users/karpitsky/repos", "events_url": "https://api.github.com/users/karpitsky/events{/privacy}", "received_events_url": "https://api.github.com/users/karpitsky/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2014-02-03T08:50:14Z", "updated_at": "2014-07-28T17:20:26Z", "closed_at": "2014-07-28T17:20:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "My video file http://d.pr/v/dAcW\n\nOpen and save:\n\n```\n>>> from moviepy.editor import *\n>>> video_clip = VideoFileClip('7e989f661a8c4821bb542f142a91a699')\n>>> video_clip.to_videofile('x.mp4')\nMaking file x.mp4 ...\nWriting audio/video in parrallel.\nRendering video TEMP_MPY_to_videofile.mp4\nRendering audio TEMP_MPY_to_videofile_SOUND.ogg\n========audio done !==========video done !\nNow merging video and audio...\n\nRunning:\n>>> ffmpeg -y -i TEMP_MPY_to_videofile_SOUND.ogg -i TEMP_MPY_to_videofile.mp4 -vcodec copy -acodec copy x.mp4\n... ffmpeg command successful.\n\nYour video is ready ! Fingers crossed for the Oscars !>>>\n```\n\nOpen and create a subclip:\n\n```\n>>> clip = video_clip.subclip(0, video_clip.duration)\n>>> clip.to_videofile('x.mp4')\nMaking file x.mp4 ...\nWriting audio/video in parrallel.\nRendering video TEMP_MPY_to_videofile.mp4\nRendering audio TEMP_MPY_to_videofile_SOUND.ogg\n======Error: wrong indices in video buffer. Maybe buffer too small.\nProcess Process-2:\nTraceback (most recent call last):\n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/multiprocessing/process.py\", line 258, in _bootstrap\n    self.run()\n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/multiprocessing/process.py\", line 114, in run\n    self._target(*self._args, **self._kwargs)\n  File \"<string>\", line 2, in to_audiofile\n  File \"/Users/michael/Projects/lib/python2.7/site-packages/moviepy/decorators.py\", line 43, in requires_duration\n    return f(clip, *a, **k)\n  File \"/Users/michael/Projects/lib/python2.7/site-packages/moviepy/audio/AudioClip.py\", line 81, in to_audiofile\n    codec, bitrate, verbose)\n  File \"<string>\", line 2, in ffmpeg_audiowrite\n  File \"/Users/michael/Projects/lib/python2.7/site-packages/moviepy/decorators.py\", line 43, in requires_duration\n    return f(clip, *a, **k)\n  File \"/Users/michael/Projects/lib/python2.7/site-packages/moviepy/audio/io/ffmpeg_audiowriter.py\", line 88, in ffmpeg_audiowrite\n    sndarray = clip.to_soundarray(tt,nbytes)\n  File \"<string>\", line 2, in to_soundarray\n  File \"/Users/michael/Projects/lib/python2.7/site-packages/moviepy/decorators.py\", line 43, in requires_duration\n    return f(clip, *a, **k)\n  File \"/Users/michael/Projects/lib/python2.7/site-packages/moviepy/audio/AudioClip.py\", line 65, in to_soundarray\n    snd_array = self.get_frame(tt)\n  File \"/Users/michael/Projects/lib/python2.7/site-packages/moviepy/Clip.py\", line 75, in <lambda>\n    newclip = self.set_get_frame(lambda t: fl(gf, t))\n  File \"/Users/michael/Projects/lib/python2.7/site-packages/moviepy/Clip.py\", line 115, in <lambda>\n    return self.fl(lambda gf, t: gf(t_func(t)), applyto,\n  File \"/Users/michael/Projects/lib/python2.7/site-packages/moviepy/audio/io/AudioFileClip.py\", line 71, in gf\n    result[in_time] = self.buffer[inds - self._fstart_buffer]\nIndexError: index 100000 is out of bounds for axis 0 with size 100000\n==========video done !WARNING: something went wrong with the audio writing, Exit code 1\n\nNow merging video and audio...\n\nRunning:\n>>> ffmpeg -y -i TEMP_MPY_to_videofile_SOUND.ogg -i TEMP_MPY_to_videofile.mp4 -vcodec copy -acodec copy x.mp4\n... ffmpeg command successful.\n\nYour video is ready ! Fingers crossed for the Oscars !>>>\n```\n\nAnd the new video file is crashed.\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/10/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/10/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/9", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/9/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/9/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/9/events", "html_url": "https://github.com/Zulko/moviepy/issues/9", "id": 26720779, "node_id": "MDU6SXNzdWUyNjcyMDc3OQ==", "number": 9, "title": "`error: string:` When trying to import from moviepy", "user": {"login": "codelucas", "id": 2288709, "node_id": "MDQ6VXNlcjIyODg3MDk=", "avatar_url": "https://avatars.githubusercontent.com/u/2288709?v=4", "gravatar_id": "", "url": "https://api.github.com/users/codelucas", "html_url": "https://github.com/codelucas", "followers_url": "https://api.github.com/users/codelucas/followers", "following_url": "https://api.github.com/users/codelucas/following{/other_user}", "gists_url": "https://api.github.com/users/codelucas/gists{/gist_id}", "starred_url": "https://api.github.com/users/codelucas/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/codelucas/subscriptions", "organizations_url": "https://api.github.com/users/codelucas/orgs", "repos_url": "https://api.github.com/users/codelucas/repos", "events_url": "https://api.github.com/users/codelucas/events{/privacy}", "received_events_url": "https://api.github.com/users/codelucas/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 24, "created_at": "2014-01-31T22:31:56Z", "updated_at": "2014-08-16T13:40:59Z", "closed_at": "2014-08-16T13:40:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "Refer to this line of code:\nhttps://github.com/Zulko/moviepy/blob/b93b3217f3acba7e5e4e37f295e4cff2ad2a821d/moviepy/video/io/ffmpeg_reader.py#L99\n\nI successfully installed `moviepy` and every dependency, for example: `import moviepy` and `from moviepy.editor import *` works, along with `import pygame`, etc. I also did `sudo apt-get install libav-tools` for the ffmpeg library.\n\nHowever, the line `clip = VideoFileClip(\"some_video.mp4\").subclip(0, 60)` causes my terminal to blank into a new, unusual terminal console with one line of error: `error: string:`\n\nI am using Ubunu 12.04.3 Server.\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/9/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/9/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/Zulko/moviepy/issues/3", "repository_url": "https://api.github.com/repos/Zulko/moviepy", "labels_url": "https://api.github.com/repos/Zulko/moviepy/issues/3/labels{/name}", "comments_url": "https://api.github.com/repos/Zulko/moviepy/issues/3/comments", "events_url": "https://api.github.com/repos/Zulko/moviepy/issues/3/events", "html_url": "https://github.com/Zulko/moviepy/issues/3", "id": 26289183, "node_id": "MDU6SXNzdWUyNjI4OTE4Mw==", "number": 3, "title": "\"list index out of range\" error or Arch Linux x86-64", "user": {"login": "smikims", "id": 5939743, "node_id": "MDQ6VXNlcjU5Mzk3NDM=", "avatar_url": "https://avatars.githubusercontent.com/u/5939743?v=4", "gravatar_id": "", "url": "https://api.github.com/users/smikims", "html_url": "https://github.com/smikims", "followers_url": "https://api.github.com/users/smikims/followers", "following_url": "https://api.github.com/users/smikims/following{/other_user}", "gists_url": "https://api.github.com/users/smikims/gists{/gist_id}", "starred_url": "https://api.github.com/users/smikims/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/smikims/subscriptions", "organizations_url": "https://api.github.com/users/smikims/orgs", "repos_url": "https://api.github.com/users/smikims/repos", "events_url": "https://api.github.com/users/smikims/events{/privacy}", "received_events_url": "https://api.github.com/users/smikims/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51698340, "node_id": "MDU6TGFiZWw1MTY5ODM0MA==", "url": "https://api.github.com/repos/Zulko/moviepy/labels/bug", "name": "bug", "color": "fa2a2a", "default": true, "description": "Issues that report (apparent) bugs."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2014-01-25T08:19:38Z", "updated_at": "2014-02-01T20:26:09Z", "closed_at": "2014-02-01T20:26:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "When the interline parameter of TextClip is not specified or is above about -19 (the specific number seems to depend on font and font size), I get this error:\n\nTraceback (most recent call last):\n  File \"movie3.py\", line 18, in <module>\n    font='Courier').\\\n  File \"/usr/lib/python2.7/site-packages/moviepy/video/VideoClip.py\", line 842, in **init**\n    ImageClip.**init**(self, tempfile, transparent=transparent)\n  File \"/usr/lib/python2.7/site-packages/moviepy/video/VideoClip.py\", line 651, in **init**\n    img = ffmpeg_reader.read_image(img,with_mask=transparent)\n  File \"/usr/lib/python2.7/site-packages/moviepy/video/io/ffmpeg_reader.py\", line 152, in read_image\n    vf = FFMPEG_VideoReader(filename, pix_fmt=pix_fmt)\n  File \"/usr/lib/python2.7/site-packages/moviepy/video/io/ffmpeg_reader.py\", line 17, in **init**\n    self.load_infos(print_infos)\n  File \"/usr/lib/python2.7/site-packages/moviepy/video/io/ffmpeg_reader.py\", line 55, in load_infos\n    line = [l for l in lines if ' Video: ' in l][0]\nIndexError: list index out of range\n", "reactions": {"url": "https://api.github.com/repos/Zulko/moviepy/issues/3/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Zulko/moviepy/issues/3/timeline", "performed_via_github_app": null, "state_reason": "completed"}]