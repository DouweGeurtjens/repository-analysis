[{"url": "https://api.github.com/repos/saulpw/visidata/issues/1829", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1829/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1829/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1829/events", "html_url": "https://github.com/saulpw/visidata/issues/1829", "id": 1646330913, "node_id": "I_kwDOBEu2Gc5iIQQh", "number": 1829, "title": "the key combination Alt+Shift+A is rejected", "user": {"login": "midichef", "id": 67946319, "node_id": "MDQ6VXNlcjY3OTQ2MzE5", "avatar_url": "https://avatars.githubusercontent.com/u/67946319?v=4", "gravatar_id": "", "url": "https://api.github.com/users/midichef", "html_url": "https://github.com/midichef", "followers_url": "https://api.github.com/users/midichef/followers", "following_url": "https://api.github.com/users/midichef/following{/other_user}", "gists_url": "https://api.github.com/users/midichef/gists{/gist_id}", "starred_url": "https://api.github.com/users/midichef/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/midichef/subscriptions", "organizations_url": "https://api.github.com/users/midichef/orgs", "repos_url": "https://api.github.com/users/midichef/repos", "events_url": "https://api.github.com/users/midichef/events{/privacy}", "received_events_url": "https://api.github.com/users/midichef/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-03-29T18:42:11Z", "updated_at": "2023-03-30T06:00:12Z", "closed_at": "2023-03-30T05:30:23Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nAfter pressing `Alt+Shift+A`, the key combination is rejected with the warning \"duplicate prefix: A\"\r\n\r\n**Expected result**\r\nI expect to see the message 'no command for \"Alt+Shift+A\"' that is shown for most other Alt+Shift+character combinations, like `Alt+Shift+Z`\r\n\r\n**Actual result with screenshot**\r\n![alt-shift-a](https://user-images.githubusercontent.com/67946319/228635917-e3f28578-d6c4-4e89-89bf-cfc2e3d29a2a.png)\r\n\r\n**Additional context**\r\nsaul.pw/VisiData v2.12dev", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1829/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1829/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1828", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1828/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1828/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1828/events", "html_url": "https://github.com/saulpw/visidata/issues/1828", "id": 1646321627, "node_id": "I_kwDOBEu2Gc5iIN_b", "number": 1828, "title": "statusbar describes Alt+Shift as \"Alt+Shift+Shift+\"", "user": {"login": "midichef", "id": 67946319, "node_id": "MDQ6VXNlcjY3OTQ2MzE5", "avatar_url": "https://avatars.githubusercontent.com/u/67946319?v=4", "gravatar_id": "", "url": "https://api.github.com/users/midichef", "html_url": "https://github.com/midichef", "followers_url": "https://api.github.com/users/midichef/followers", "following_url": "https://api.github.com/users/midichef/following{/other_user}", "gists_url": "https://api.github.com/users/midichef/gists{/gist_id}", "starred_url": "https://api.github.com/users/midichef/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/midichef/subscriptions", "organizations_url": "https://api.github.com/users/midichef/orgs", "repos_url": "https://api.github.com/users/midichef/repos", "events_url": "https://api.github.com/users/midichef/events{/privacy}", "received_events_url": "https://api.github.com/users/midichef/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-03-29T18:34:33Z", "updated_at": "2023-03-30T05:59:40Z", "closed_at": "2023-03-30T05:29:33Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nWhen pressing 'Alt' and 'Shift' and any character (for example, 'M'), the statusbar shows the keypress as \"Alt+Shift+Shift+M\", where \"Shift+\" is added twice.\r\n\r\n**Expected result**\r\nI expect the statusbar to show \"Alt+Shift+M\".\r\n\r\n**Actual result with screenshot**\r\n![shiftshift](https://user-images.githubusercontent.com/67946319/228633671-9f5c486d-3648-434a-8522-baf3ee26bfe6.png)\r\n\r\n**Additional context**\r\nsaul.pw/VisiData v2.11\r\nsaul.pw/VisiData v2.12dev\r\nUbuntu 22.04.2\r\n\r\nIt looks like the first \"Shift+\" is added from prettykeys() in mainloop.py:\r\nhttps://github.com/saulpw/visidata/blob/2edee996ba2f80a9a50bc18994dc01c3ce9affb4/visidata/mainloop.py#L210\r\nand the second \"Shift+\" is added in statusbar.py\r\nhttps://github.com/saulpw/visidata/blob/2edee996ba2f80a9a50bc18994dc01c3ce9affb4/visidata/statusbar.py#L183", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1828/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1828/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1820", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1820/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1820/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1820/events", "html_url": "https://github.com/saulpw/visidata/issues/1820", "id": 1638553440, "node_id": "I_kwDOBEu2Gc5hqldg", "number": 1820, "title": "cannot undo the first modification to a sheet-specific HelpSheet", "user": {"login": "midichef", "id": 67946319, "node_id": "MDQ6VXNlcjY3OTQ2MzE5", "avatar_url": "https://avatars.githubusercontent.com/u/67946319?v=4", "gravatar_id": "", "url": "https://api.github.com/users/midichef", "html_url": "https://github.com/midichef", "followers_url": "https://api.github.com/users/midichef/followers", "following_url": "https://api.github.com/users/midichef/following{/other_user}", "gists_url": "https://api.github.com/users/midichef/gists{/gist_id}", "starred_url": "https://api.github.com/users/midichef/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/midichef/subscriptions", "organizations_url": "https://api.github.com/users/midichef/orgs", "repos_url": "https://api.github.com/users/midichef/repos", "events_url": "https://api.github.com/users/midichef/events{/privacy}", "received_events_url": "https://api.github.com/users/midichef/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2023-03-24T01:02:03Z", "updated_at": "2023-03-31T16:20:55Z", "closed_at": "2023-03-31T16:20:48Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nAfter `help-commands` or `options-sheet`, the first modification to the sheet cannot be undone with `undo-last`.\r\n\r\n**Expected result**\r\nI expect that the modification would be undone as usual.\r\n\r\n**Actual result with screenshot**\r\nThe command is not undone, and Visidata shows the message \"nothing to undo on current sheet\".\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\nOpen any sheet, and run:\r\n`help-commands`, `addcol-incr`, `undo-last`\r\nor\r\n`options-sheet`, `addcol-incr`, `undo-last`\r\n\r\n**Additional context**\r\nsaul.pw/VisiData v2.12dev\r\n\r\n`help-commands` has the problem, but `help-commands-all` does not.\r\n`options-sheet` has the problem, but `options-global` does not.\r\nThe reason for the difference that `help-commands` creates a `HelpSheet` with `source=sheet`. So at the time that the HelpSheet is created, `sheet.cmdlog.rows` already contains something, the commands that created and modified the source sheet. Since `sheet.cmdlog.rows` is not empty, `help-commands` is not added to the sheet-specific cmdlog:\r\nhttps://github.com/saulpw/visidata/blob/b810fe423c3514c46222eed9d4b5a540e9805e46/visidata/cmdlog.py#L217-L220\r\n\r\nI have an exploratory patch that seems to fix the undo behavior for `help-commands` and `options-sheet`:  \r\nhttps://github.com/saulpw/visidata/commit/c621eb4e1bfc687aa7262de279d5e613d4214cb7. But I don't know enough about the internals of Visidata to know if it is an appropriate fix.", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1820/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1820/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1817", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1817/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1817/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1817/events", "html_url": "https://github.com/saulpw/visidata/issues/1817", "id": 1637519530, "node_id": "I_kwDOBEu2Gc5hmpCq", "number": 1817, "title": "Project dependencies may have API risk issues", "user": {"login": "PyDeps", "id": 109138844, "node_id": "U_kgDOBoFTnA", "avatar_url": "https://avatars.githubusercontent.com/u/109138844?v=4", "gravatar_id": "", "url": "https://api.github.com/users/PyDeps", "html_url": "https://github.com/PyDeps", "followers_url": "https://api.github.com/users/PyDeps/followers", "following_url": "https://api.github.com/users/PyDeps/following{/other_user}", "gists_url": "https://api.github.com/users/PyDeps/gists{/gist_id}", "starred_url": "https://api.github.com/users/PyDeps/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/PyDeps/subscriptions", "organizations_url": "https://api.github.com/users/PyDeps/orgs", "repos_url": "https://api.github.com/users/PyDeps/repos", "events_url": "https://api.github.com/users/PyDeps/events{/privacy}", "received_events_url": "https://api.github.com/users/PyDeps/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 5302302318, "node_id": "LA_kwDOBEu2Gc8AAAABPAq2bg", "url": "https://api.github.com/repos/saulpw/visidata/labels/bot", "name": "bot", "color": "0E6B60", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-03-23T13:11:30Z", "updated_at": "2023-03-23T15:53:48Z", "closed_at": "2023-03-23T15:34:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, In **visidata**, inappropriate dependency versioning constraints can cause risks.\r\n\r\nBelow are the dependencies and version constraints that the project is using\r\n```\r\npython-dateutil\r\npandas>=1.0.5\r\nrequests\r\nlxml\r\nxlrd\r\nh5py\r\npyshp\r\nmapbox-vector-tile\r\ndpkt\r\ndnslib\r\ndatapackage\r\npdfminer.six\r\nvobject\r\ntabulate\r\nzstandard\r\nodfpy\r\nurllib3\r\nseaborn\r\nsh\r\npsutil\r\n```\r\n\r\nThe version constraint **==** will introduce the risk of dependency conflicts because the scope of dependencies is too strict.\r\nThe version constraint **No Upper Bound** and **\\*** will introduce the risk of the missing API Error because the latest version of the dependencies may remove some APIs.\r\n\r\nAfter further analysis, in this project,\r\nThe version constraint of dependency **seaborn** can be changed to *>=0.9.0,<=0.11.2*.\r\n\r\nThe above modification suggestions can reduce the dependency conflicts as much as possible, \r\nand introduce the latest version as much as possible without calling Error in the projects.\r\n\r\nThe invocation of the current project includes all the following methods.\r\n\r\nIn version **seaborn-0.8.1**, the API **seaborn.scatterplot** whch is used by the current project in **visidata/features/graph_seaborn.py** is missing.\r\n   \r\n<img width=\"417\" alt=\"image\" src=\"https://user-images.githubusercontent.com/109138844/227214465-eeb1e898-e75d-453c-8d5f-e260dbe8e3ec.png\">\r\n\r\n<details>\r\n<summary>The calling methods from the seaborn</summary>\r\n<pre>\r\nseaborn.set\r\nseaborn.scatterplot\r\n</pre>\r\n</details>\r\n\r\n    \r\n<details>\r\n<summary>The calling methods from the  all methods</summary>\r\n<pre>\r\nself.getDisplayValue\r\ntext.splitlines\r\np.scheme.split\r\ncol.origcol.setValues\r\nself.columns.append\r\nmatrix_client.client.MatrixClient\r\nvisidata.vd.options.imports.args.imports.split\r\ncmd.split\r\ndf.index.nunique\r\nself.isSelectedParents\r\nvisidata.vd.options.set\r\nRowColorizer\r\nvisidata.SettableColumn\r\nvisidata.vd.getType\r\nSQL\r\nself.source.commit\r\nMboxSheet\r\nPoint\r\nvs.iterdispvals\r\nrowmods.items\r\nvisidata.vd.z_client.update_message\r\nself.predeploy.as_dict\r\nmerge_base.self.git_all.strip\r\nemail.parser.Parser.parse\r\nsheet.source.search\r\nvisidata.options.html_title.format\r\nself.__copy__\r\nurllib.parse.urlunparse\r\nc.block_attrs.c.c.Counter.most_common\r\nsheet.addRows\r\nmultiprocessing.Process.start\r\nuser_data_dir\r\nfp.read\r\nvisidata.vd.drawSheetBox\r\nvd.vrc.world.addRow\r\nsuper.setValue\r\nCellColorizer\r\ncls\r\nself.sources.insert\r\nuuid.uuid1\r\nself.source.getroot.make_links_absolute\r\nrowsByKey.items\r\ns.colorDiffCell\r\nnumpy.array\r\nGSheet\r\nheaderrows.values\r\nvd.fnSuffix\r\nself.iterrows\r\nSettableColumn.init\r\nvd.vrc.post\r\nos.getenv\r\nvisidata.BaseSheet.bindkey\r\nvd.replay_cancel\r\nformatRange\r\nanim.draw\r\nfunc.__name__.visidata.vd.getattr\r\nfp.pa.ipc.open_file.read_all\r\nrow.repo.split\r\ncol.transformers.append\r\nself.getMaxWidth\r\nDataFrameRowSliceAdapter\r\nmap\r\nimaplib.IMAP4_SSL\r\nvisidata.vd.debug\r\nglobals\r\nself.addRow\r\nfunctools.reduce\r\nCellColor\r\nconnection.cursor.close\r\nimaplib.IMAP4_SSL.select\r\ns.isChanged\r\nHistoryState.up\r\nGitRemotes.addCommand\r\nvd.warning\r\nvsoui.reload.__wrapped__\r\nself.markedRows.get\r\npart.get_filename\r\nvisidata.vd.parsePos\r\ngetMenuItem\r\nvisidata.modtime\r\nret.split.splitlines\r\ni.c.self.columns.r.self.cells.append\r\nopen.read\r\ndisplines.items\r\nXmlSheet.addCommand\r\nrow.orgmode_to_string.rstrip\r\nself.Events.reload\r\nself.orderBy\r\ndeduceType\r\ncol.setValuesTyped\r\nwcwidth\r\nvisidata.vd.google_auth.discovery.build.files\r\nself.labels.append\r\nscr.erase\r\nmacmanuf\r\nsheets.vs.vs.name.list.p.name.vd._gsheets_rw.create.execute.get\r\ndnslib.DNSRecord.parse\r\nr.cpu_num\r\ncurrent_row.append\r\nAttrDict\r\ngetattr.with_suffix\r\nfunc.wraps\r\noutfp.write\r\nx.rstrip\r\nShapeMap.addCommand\r\nHelpPane\r\ngetHunksSheet\r\nself.results.append\r\npyxlsb.open_workbook.get_sheet\r\noldrow.to_dict\r\nvisidata.vd.getkeystroke\r\nself.completer_func\r\nself.extract\r\nindexWithEscape\r\nrand.as_dict\r\nvd.replay_sync\r\nMySQLdb.connect\r\nvisidata.BaseSheet.init\r\nTextCanvas.bindkey\r\nre.match.group\r\ncol.widths.format\r\nsetattrdeep\r\nline.rstrip.rstrip\r\nvisidata.vd.pipinstall\r\npsutil.swap_memory\r\nLsvSheet\r\ncur.execute\r\nvisidata.vd.searchContext.get\r\nself.__getitem__\r\nTsvSheet\r\nseaborn.set\r\nvisidata.vd.matrix_client.get_rooms.values\r\nself.source.getElementsByType\r\n_get_win_folder\r\nself.addCommand\r\nself.scrForm.erase\r\ncol.putValue\r\nWSIServer\r\nnotefunc\r\npath.stat\r\nself.checkCursor\r\nlines.append\r\nvisidata.vd.addGlobals\r\n_createExpandedColumns.register\r\noptions._set\r\nself.df.drop\r\nvisidata.vd.input\r\nself.checkCursorNoExceptions\r\nrow.get_payload\r\nYamlSheet\r\nself.visibleCols.index\r\nself.windowrows.get\r\nrow.rename\r\nself.source.read_text\r\nvisidata.vd.scrFull.getmaxyx\r\nos.chown\r\nPlanetsSheet.addCommand\r\nr.tags.split\r\ncopy.copy.addColumn\r\nwebsocket.WebSocketApp\r\nself.unsetKeys\r\nsuper.__new__\r\nm.__dict__.items\r\nline.lstrip.lstrip\r\nr.cwd\r\nvisidata.vd.statuses.items\r\nis_header\r\nfunctools.wraps\r\nself.setKeys\r\nvd.g_client.Planets.reload\r\nvisidata.vd.importedModules.append\r\nports_tsv.reload.__wrapped__\r\nself.open\r\nself.server.sessions.get\r\ns.git_status\r\nvisidata.vd.getGlobals\r\nself.color_cache.clear\r\nRecSheet.column\r\nself.commitAdds\r\nvisidata.vd.onMouse\r\nself.date.__le__\r\nsheet.getDeferredChanges\r\ninitCurses\r\nvd.addUndo\r\nrowid.self.markedRows.add\r\nshutil.copy_tree\r\nUnfurledSheet\r\nvd.bitio_client.get_connection.cursor\r\nself.source.getroot\r\nrest.split\r\nencode_date\r\nhelpstr.replace.replace.replace\r\nself.refreshRows\r\ndistancefunc\r\nc.sheet.hard\r\nwinscr.getparyx\r\ntraceback.format_exc\r\nvisidata.SuspendCurses\r\nseaborn.scatterplot\r\nsqltypes.get\r\nself.path.is_dir\r\ndelim.join\r\nsheet.rowAdded\r\ncalc_selector\r\nax.set_title\r\nvd.searchRegex\r\nself._opts.items\r\nthreading.current_thread.is_alive\r\nre.compile\r\nItemColumn\r\nself.namelist\r\nsrccol.col.sheet.describeData.get\r\npr.memory_full_info\r\nargs.preplay.split\r\nurllib.parse.parse_qsl\r\nPbfCanvas\r\nCompleteState\r\nNotImplementedError\r\nvisidata.vd.replayCommand\r\nvisidata.options.getdefault\r\nitem.longname.vd.commands.get\r\nset\r\nc.origCol.getDisplayValue\r\nBitioRepoSheet\r\nvisidata.vd.suspend\r\nWindowColumn\r\nself.thread.profile.disable\r\naddFakerProviders\r\ngetpass.getpass.encode\r\nre.compile.findall\r\nbig_df.copy.reset_index.copy\r\nvisidata.vd.bindkeys._get\r\nvmod.get\r\nJsonLinesSheet.iterload\r\nvisidata.vd.draw_sheet\r\nPandasFreqTableSheet\r\norigcol.getDisplayValue\r\nemail.message_from_bytes\r\nself.scrFull.getmaxyx\r\npassword.encode.hashlib.md5.hexdigest\r\nvisidata.Fanout\r\nboundingBox\r\nstatus\r\nCommandLogJsonl\r\nXlsxSheet\r\nGitLinesColumn\r\npath.relative_to\r\nself.prettykeys\r\nBitioReposSheet\r\nvisidata.vd.win2.clear\r\nvisidata.ReturnValue\r\ndocstring\r\nycol.type\r\nunicodedata.category\r\nzstandard.open\r\nkernel.GetShortPathName\r\np.read_bytes.strip\r\nGitGrep.addCommand\r\nclipline\r\nrow.select\r\ngetattr.items\r\nret.decode.strip\r\nSuspendCurses.__enter__\r\nvd.g_client.refresh_everything\r\nsplitcell.extend\r\nself.label\r\ncopy.copy.append\r\na.b.g.r.rgb_to_attr.x.y.self.pixels.remove\r\nvd.getSheet.rowkey\r\nscopes.split\r\nelapsed_s\r\nPivotSheet\r\nf.read\r\nself.npz.items\r\nHistogramColumn\r\nMapSheet.addCommand\r\nby_cols.append\r\nnewrow.children.append\r\nExtendedColumn\r\nvisidata.wrmap\r\nx.strip\r\nself._deepiter\r\nr.update\r\nvisidata.vd.matrix_client.get_rooms\r\ngivenpath.exists\r\nvisidata.vd.getGlobals.get\r\nself.type\r\nvisidata.loaders._pandas.PandasSheet.addCommand\r\nvd.options.getonly\r\nos.dup2\r\nException\r\nkeystr\r\nPyobjSheet\r\ngetRepoPath\r\npivotcol.getValues\r\nscr.derwin\r\ncol.getDisplayValue\r\nvs.root.write\r\nself.subscribe\r\nsuper.init\r\nobj.options.unset\r\nsheet.newRow\r\nvd.parseMouse\r\nmakePen\r\n_walkfiles\r\nself.checkForFinishedThreads\r\nflowtype\r\nsheet.confirmQuit\r\nPandasSheet.addCommand\r\nlxml.etree.XMLParser\r\nHelpSheet.addCommand\r\nself.HistoricalDeployments.reload\r\nvdx.splitlines\r\nself.notify\r\nk.xpts.append\r\nnode_name\r\ncol.srccol.getValue\r\nr.cpu_times\r\nvd.getGlobals.getCommand\r\ndatetime.date.today.strftime\r\nsrccol.getTypedValue\r\nvisidata.clipdraw\r\nmethod.lower\r\nf.write\r\nkwargs.vd._gdrive_rw.delete.execute\r\nself.end_headers\r\nOptionsSheet\r\norgmode_parse_into\r\ndstcol.getTypedValue\r\nvisidata.vd.parse_sed_transform\r\nvd.delay\r\nSpssSheet\r\n_menus\r\nctypes.pythonapi.PyThreadState_SetAsyncExc\r\nself._deferredAdds.values\r\npsutil.Process.memory_full_info\r\nvisidata.vd.save_tsv\r\noptions._opts._get\r\nre.search.group\r\nchunks.clear\r\nrow.isSymbol\r\nself.getDeferredChanges\r\nPlanetsSheet\r\nlocale.setlocale\r\npath.responses.append\r\nc.sheet.git_status\r\ncls.hosts_by_ip.get\r\nself.maybeClean\r\nself.source_col.getValue.items\r\nvisidata.vd.numericCols.getValue\r\ninspect.getmro\r\nself.workbook.sheet_names\r\nround_results.append\r\nvisidata.pivot.PivotGroupRow\r\nround\r\nrandom.randrange\r\nBytesIOWrapper\r\nfgbgattrs.append\r\nself.ignored\r\nsh.ping\r\nfunc.groupdict\r\npyarrow.float64\r\ncurses.mousemask\r\nvisidata.options.keys\r\nvisidata.vd.options._get\r\nself.lines.RepeatFile.read\r\ncell.attributes.get\r\nmatplotlib.pyplot.xticks\r\nsqlite3.connect.commit\r\nprefix.lower\r\nthisclass_hasattr.wraps\r\nnumpy.arange\r\nGameOptionsSheet.addCommand\r\nupdater\r\nself.sheet.save\r\nvisidata.options.getonly\r\ngg_detect\r\nthreading.enumerate\r\nL.startswith\r\nurl.path.split\r\nnumpy.datetime64.isoformat\r\nos.dup\r\nvisidata.TypedExceptionWrapper\r\nrow.contents.items\r\nparseContextLine\r\nself.unset\r\nglob.glob\r\nSettableColumn.recalc\r\ncol.name.startswith\r\nglobals.update\r\nself._colorizers.remove\r\npsutil.cpu_percent\r\nrow.pivotrows.values\r\nself.conn.cursor.fetchone\r\nvs.rows.clear\r\nd.pop.globals\r\nvisidata.vd.OptionsObject\r\nvisidata.Progress\r\nr.text.find\r\nOrgContentsColumn\r\nresp.data.rfind\r\nvd.launchBrowser\r\npdfminer.pdfinterp.PDFPageInterpreter\r\nself.subfunc\r\nself.options.getobj\r\nnewcol.setValue\r\nself.getDiffCmd\r\nFreqTableSheet.addCommand\r\nGitHunk\r\ncol.expand\r\ncol.setValueSafe\r\nself.ws_thread.start\r\nos.path.dirname\r\nvd.numericCols.getValue\r\niter.write\r\nColumnsSheet.command\r\nvisidata.vd.ZipSheet\r\nself.putValue\r\nvisidata.vd.options.clipboard_paste_cmd.split\r\nregexMaker\r\nvisidata.vd.matrix_client.add_listener\r\nself.options.update\r\nc.items\r\nsheet.options.is_set\r\nSettableColumn\r\nconnection.cursor.execute\r\nself.gamestate.get\r\n_root\r\nsheet.click\r\nimaplib.IMAP4_SSL.login\r\nissubclass\r\nPingSheet\r\nZulipMessagesSheet.addCommand\r\noptions_cli_skel_bool.format\r\nvisidata.vd.sysclipValue\r\np.given.startswith\r\nvisidata.vd._stdout.flush\r\nvisidata.vd.options.describe_aggrs.split\r\nio.StringIO\r\nvd.reddit.subreddits.search\r\nvisidata.TableSheet.addCommand\r\nself.polylines.clear\r\ncsv.writer.writerow\r\nrow.attrib.get\r\nvisidata.vd._nextCommands.pop\r\nself.addColumn\r\nsys.stderr.flush\r\nvd.reddit.subreddit\r\n_clipstr\r\nRepeatFile\r\ncurses.reset_prog_mode\r\narg.lstrip\r\nSheetsSheet\r\nrow.comments.list\r\nself._opts.objname\r\nnumpy.save\r\nColumnItem\r\nself.keys\r\nvisidata.vd.chooseFancy.extend\r\nvisidata.vd.beforeExecHooks.append\r\nConcatColumn\r\nvs.ensureLoaded\r\nboto3.client\r\n_pivot_count_column._pivot_count_column.self.groupByCols.c.c.name.df.pivot_table.sort_values\r\ndatetime.datetime.__ge__\r\nself.source._selectByILoc\r\ngetattr\r\nplanet_coords.add\r\nHost.get_host\r\nvisidata.Sheet\r\nsheet.pressMenu\r\nsheet.draw\r\nself.source.getTile\r\nself._cachedStatus.get\r\nos.path.join\r\ndata.strip\r\nr._original_data.get\r\nrequests.get\r\nvisidata.vd.chooseMany\r\nself._rowLayout.clear\r\nlist.index\r\nclean_printable\r\nmatplotlib.pyplot.subplots\r\npsycopg2.connect\r\nGeoJSONColumn\r\nsheet.visibleRowAtY\r\nHdf5ObjSheet.addCommand\r\nself.read\r\nself.QueuedDeployments.addRow\r\nself.BytesIOWrapper.super.__init__\r\nvisidata.clean_to_id\r\nSqliteIndexSheet.bindkey\r\nhasattr\r\ni.vd.vrc.world.rows.update\r\nlocals\r\nos.path.split\r\nvisidata.vd.postgresGetColumns\r\nsheet.putChanges\r\nself.cls.super.__init__\r\ninspect.isclass\r\nself.df.columns.col.n.col.pd.DataFrame.astype\r\nrequests.post\r\nos.path.expandvars\r\nlive_search_async\r\nscr.get_wch\r\nSheet.init\r\nself.allobjs.get\r\nvs.regex_flags\r\nsuper.reload.__wrapped__\r\nself.openZipFile\r\nself.receive_callback\r\nHost\r\nrange.index\r\nvisidata.vd.scrFull.refresh\r\nself.bots.values\r\ngetPublicAttrs\r\npandas.DataFrame.any\r\n_vjsonEncoder.encode\r\nvd.sysclipValue.strip\r\nself.options.name_joiner.join\r\ncol.sheet.renameFile\r\nstruct.unpack_from\r\n_percentile\r\npandas.Series\r\nname.module.resource_filename.Path.open_text\r\nc.isDiff\r\nscr.getmaxyx\r\nre.search\r\nload_oui\r\nself.ttf.getGlyphSet\r\nsheet.safe_trdict\r\nself.removePlugin\r\nself.cursorBox.contains\r\nvisidata.vd.pluginsSheet.ensureLoaded\r\nvisidata.Path.stat.cache_clear\r\nparse_sqlite_type\r\nr.ionice\r\nPlayer\r\ncol.name.translate\r\nCharBox\r\nnewlist.append\r\nx.upper\r\nVirtualRCWorldSheet.addCommand\r\np.read_bytes.strip.hashlib.sha256.hexdigest\r\nopts.items\r\ns.isSelected\r\ngroupRow.pivotrows.get\r\n_createExpandedColumnsNamedTuple\r\nvs.name.givenpath.with_suffix\r\nvd.semaphore.acquire\r\nvisidata.vd._gsheets_rw.values\r\nline.lstrip.endswith\r\nrecord.split\r\ncurses.getmouse\r\nvisidata.vd.aggregator\r\nFreqTableSheet.init\r\nfiles.sort\r\nself.formatY\r\nsrccol.getValue\r\nunicodedata.combining\r\nplugin.url.vd.urlcache.open_text\r\niterline\r\nself.resetCanvasDimensions\r\nInferColumnsSheet.init\r\ntry_apply\r\ngroups.get\r\nrowmods.values\r\nself._get_colornum\r\nvd.enable_requests_cache\r\nsheet.sort\r\nvdtype\r\nctypes.py_object\r\nShapeSheet.addCommand\r\npings_sent.get\r\nsection.children.c.section.stars.prestars.c.orgmode_to_string.join.rstrip\r\nGitAllColumn\r\nPath.is_absolute\r\nfindMatchingColumn\r\ncompile\r\nrclogo_coords.append\r\ncodestr\r\nk.headers.append\r\ndelim.buf.rstrip.split\r\nch.isupper\r\nself.unselect\r\ncur.fetchone\r\nvisidata.SubColumnItem\r\nGameOptionsSheet\r\npart.get_payload\r\ntime.perf_counter\r\nvisidata.Sheet.init\r\ncol.getMaxWidth\r\nself.cols.get\r\nundofunc\r\nre.match.groups\r\nGitUndo\r\ndiff.DifferSheet\r\nself.raw.read\r\nvd.getSheet.getRowIndexFromStr\r\nColumn.calcValue\r\ncollections.namedtuple\r\npath.has_fp\r\nnewfunc\r\nself.frames.values\r\ninitCurses.bkgd\r\nCPUStatsSheet\r\ncolstr.split\r\nself.resetBounds\r\nvd.chooseMany\r\ngroupRow.pivotrows.get.append\r\nsys.stdin.isatty\r\nr.c.expr.c.sheet.coldata.as_py\r\nfp.readline.startswith\r\nRecSheet.sort\r\nbs4.BeautifulSoup\r\n_defaggr\r\ncol.sheet.moveFile\r\nr.create_time\r\nvd.addGlobals\r\nattr.startswith\r\nvisidata.getattrdeep\r\nPath\r\nresponse.links.get\r\nself.newRow\r\nself.source.draw\r\ngrid.strip.splitlines\r\nSubColumnFunc\r\nline.strip.split\r\nvisidata.RepeatFile\r\ncurses.init_pair\r\nheader_lines.append\r\nself._usedcols.add\r\nvisidata.Path\r\nself.columns.index\r\ni.self.sheet._ordered_colnames.index\r\nsavReaderWriter.SavReader\r\nstr.col.expr.self.df.astype.str.contains\r\nself.send_response\r\ns.inRemoteBranch\r\nobj.set_palette\r\nAttributeError\r\nhash\r\nCompleteKey\r\nchunk.items\r\nclassmethod\r\nnumpy.where\r\ndatetime.datetime.fromisoformat\r\nself.lastInputsSheet.history\r\nself.source.select\r\nitertools.chain.from_iterable\r\nTaskAnnotationsSheet.addCommand\r\nself.fget.classmethod.__get__\r\ngetFeatures\r\nvisidata.vd.marks.getMarkRow\r\nMyTable\r\nsheet.commitDeletes\r\nvd.vrc.patch\r\nsuper.resetCanvasDimensions\r\nshutil.copyfile\r\nvd.loadInternalSheet\r\nc.getValue\r\ntype.format\r\nvisidata.vd.addMenu\r\nvisidata.Sheet.command\r\ndispvals.values\r\nfragment.attributes.get\r\nRecIndexSheet\r\nret.amgr.load\r\nnamedlist\r\nself.render\r\nxport.Reader\r\nf.startswith\r\nargs.strip\r\nmailcap.getcaps\r\np.joinpath.exists\r\nvisidata.ColumnAttr\r\nself._path.__lt__\r\ngrp.getgrgid\r\nPbfSheet.addCommand\r\nself.preloadHook\r\nfmtargs.append\r\nsplitlines\r\nrowid.idtexts.get.strip.splitlines\r\nChoiceSheet.reload\r\nc.sheet.set_soft\r\npyarrow.parquet.read_table\r\ncol.setValue\r\nfail\r\nvisidata.iterchars\r\ncopy.copy.newRow\r\nvisidata.options.set\r\nreversed\r\nself.groupRows\r\nlxml.html.parse.getroot\r\nurllib.parse.urljoin\r\nvs.itervals\r\nvs.xd.to_unicode\r\neval_vd.reload\r\nself.rows.sort_values\r\npyarrow.date64\r\nurllib.request.urlopen\r\nself._mappings\r\nColumnsSheet\r\nplatform.java_ver.startswith\r\nself.has_fp\r\nsources.reload\r\nErrorSheet\r\nc.sheet.parents\r\nself.add_x_axis_label\r\nr.ppid\r\nmatplotlib.pyplot.figure\r\ndateutil.parser.parse\r\nx_array.append\r\nVisiData.addGlobals\r\nopenpyxl.Workbook\r\nvd.getGlobals\r\npsutil.process_iter\r\nlength.self.rfile.read.decode\r\ncurses.use_default_colors\r\nfunctools.partial\r\nsplitcell\r\nhunkdef.split\r\nProfileSheet.addCommand\r\nline.strip\r\nrow.setdefault\r\npath.open_text\r\ncurrent_args.items\r\nvisidata.RowColorizer\r\nself.flows.get.append\r\nsection.links.extend\r\ncProfile.Profile\r\nListOfDictSheet\r\nColumnColorizer\r\nFrictionlessIndexSheet\r\nos.putenv\r\nsheet.rows.clear\r\nParquetSheet\r\ninputs.append\r\nf\r\nself.colorcache.get\r\nself.sheet.setModified\r\ncopy.copy.draw\r\nKeyError\r\nChoiceSheet.column\r\nsite_data_dir\r\nr.exe\r\ntasklib.TaskWarrior\r\nsectionize\r\nvisidata.vd.rowNoters.insert\r\nelem.attrib.get\r\nFanout\r\njoinkey\r\nf.upper\r\nsheet._deferredDels.clear\r\nself.prog.__exit__\r\nvisidata.Column.getTypedValue\r\nany\r\nself._git_args\r\nFreqTableSheet.reload.__wrapped__\r\nBitioTable\r\niter\r\nself.prog.addProgress\r\nvs.source.open_text\r\nself.getCell\r\nself.wfile.write\r\noptalias\r\nvd.status\r\nvd.drawSubmenu\r\nservices.get\r\ncol.format\r\nvd.activeSheet.ensureLoaded\r\ncolumnize\r\ncname.isalpha\r\nsqlite3.connect.cursor\r\ndatetime.datetime.__gt__\r\nself.selectRow\r\nself.git\r\nsubprocess.PIPE.subprocess.PIPE.row.subprocess.Popen.communicate.strip\r\nself.legends.items\r\nvisidata.vd.isNumeric\r\nself._cls_method\r\nSqliteSheet\r\nMeltedSheet\r\nsuper.addColumn\r\nx.y.self.pixels.items\r\nself.draw\r\nself.source.owner.split\r\nvisidata.vd.matrix_client.start_listener_thread\r\nshlex.quote\r\ntarfile.open.extractfile\r\nax.xaxis.set_major_locator\r\nvisidata.moveListItem\r\nvisidata.vd.matrix_client.listen_for_events\r\nself.rows.sort\r\nrgb_to_attr\r\ndata.splitlines\r\nself.events.append\r\n...\r\nself.fp.__enter__\r\nsheet.commitMods\r\nself._colorize\r\nmax\r\nfaker.Faker.add_provider\r\nvisidata.vd.runresult\r\nfp.read.rstrip\r\nvisidata.vd.matrix_client._sync\r\nVisiData.finalInit\r\nt.profile.enable\r\ntmpl.format\r\nEventsSheet\r\ncol.sheet.source.sources.index\r\nPyobjColumns\r\npat_select.findall.replace\r\nWSIServer.serve_forever\r\nr.name\r\nobject\r\nself.png.asRGBA\r\nself.get_channel_name\r\nos.pathsep.join\r\nPath.exists\r\n</pre>\r\n</details>\r\n\r\n    \r\n\r\n@developer\r\nCould please help me check this issue?\r\nMay I pull a request to fix it?\r\nThank you very much.\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1817/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1817/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1816", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1816/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1816/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1816/events", "html_url": "https://github.com/saulpw/visidata/issues/1816", "id": 1637519092, "node_id": "I_kwDOBEu2Gc5hmo70", "number": 1816, "title": "Project dependencies may have API risk issues", "user": {"login": "PyDeps", "id": 109138844, "node_id": "U_kgDOBoFTnA", "avatar_url": "https://avatars.githubusercontent.com/u/109138844?v=4", "gravatar_id": "", "url": "https://api.github.com/users/PyDeps", "html_url": "https://github.com/PyDeps", "followers_url": "https://api.github.com/users/PyDeps/followers", "following_url": "https://api.github.com/users/PyDeps/following{/other_user}", "gists_url": "https://api.github.com/users/PyDeps/gists{/gist_id}", "starred_url": "https://api.github.com/users/PyDeps/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/PyDeps/subscriptions", "organizations_url": "https://api.github.com/users/PyDeps/orgs", "repos_url": "https://api.github.com/users/PyDeps/repos", "events_url": "https://api.github.com/users/PyDeps/events{/privacy}", "received_events_url": "https://api.github.com/users/PyDeps/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 5302302318, "node_id": "LA_kwDOBEu2Gc8AAAABPAq2bg", "url": "https://api.github.com/repos/saulpw/visidata/labels/bot", "name": "bot", "color": "0E6B60", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-03-23T13:11:14Z", "updated_at": "2023-03-23T15:54:05Z", "closed_at": "2023-03-23T15:35:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, In **visidata**, inappropriate dependency versioning constraints can cause risks.\r\n\r\nBelow are the dependencies and version constraints that the project is using\r\n```\r\npython-dateutil\r\npandas>=1.0.5\r\nrequests\r\nlxml\r\nxlrd\r\nh5py\r\npyshp\r\nmapbox-vector-tile\r\ndpkt\r\ndnslib\r\ndatapackage\r\npdfminer.six\r\nvobject\r\ntabulate\r\nzstandard\r\nodfpy\r\nurllib3\r\nseaborn\r\nsh\r\npsutil\r\n```\r\n\r\nThe version constraint **==** will introduce the risk of dependency conflicts because the scope of dependencies is too strict.\r\nThe version constraint **No Upper Bound** and **\\*** will introduce the risk of the missing API Error because the latest version of the dependencies may remove some APIs.\r\n\r\nAfter further analysis, in this project,\r\nThe version constraint of dependency **seaborn** can be changed to *>=0.9.0,<=0.11.2*.\r\n\r\nThe above modification suggestions can reduce the dependency conflicts as much as possible, \r\nand introduce the latest version as much as possible without calling Error in the projects.\r\n\r\nThe invocation of the current project includes all the following methods.\r\n\r\nIn version **seaborn-0.8.1**, the API **seaborn.scatterplot** whch is used by the current project in **visidata/features/graph_seaborn.py** is missing.\r\n   \r\n<img width=\"417\" alt=\"image\" src=\"https://user-images.githubusercontent.com/109138844/227214465-eeb1e898-e75d-453c-8d5f-e260dbe8e3ec.png\">\r\n\r\n<details>\r\n<summary>The calling methods from the seaborn</summary>\r\n<pre>\r\nseaborn.set\r\nseaborn.scatterplot\r\n</pre>\r\n</details>\r\n\r\n    \r\n<details>\r\n<summary>The calling methods from the  all methods</summary>\r\n<pre>\r\nself.getDisplayValue\r\ntext.splitlines\r\np.scheme.split\r\ncol.origcol.setValues\r\nself.columns.append\r\nmatrix_client.client.MatrixClient\r\nvisidata.vd.options.imports.args.imports.split\r\ncmd.split\r\ndf.index.nunique\r\nself.isSelectedParents\r\nvisidata.vd.options.set\r\nRowColorizer\r\nvisidata.SettableColumn\r\nvisidata.vd.getType\r\nSQL\r\nself.source.commit\r\nMboxSheet\r\nPoint\r\nvs.iterdispvals\r\nrowmods.items\r\nvisidata.vd.z_client.update_message\r\nself.predeploy.as_dict\r\nmerge_base.self.git_all.strip\r\nemail.parser.Parser.parse\r\nsheet.source.search\r\nvisidata.options.html_title.format\r\nself.__copy__\r\nurllib.parse.urlunparse\r\nc.block_attrs.c.c.Counter.most_common\r\nsheet.addRows\r\nmultiprocessing.Process.start\r\nuser_data_dir\r\nfp.read\r\nvisidata.vd.drawSheetBox\r\nvd.vrc.world.addRow\r\nsuper.setValue\r\nCellColorizer\r\ncls\r\nself.sources.insert\r\nuuid.uuid1\r\nself.source.getroot.make_links_absolute\r\nrowsByKey.items\r\ns.colorDiffCell\r\nnumpy.array\r\nGSheet\r\nheaderrows.values\r\nvd.fnSuffix\r\nself.iterrows\r\nSettableColumn.init\r\nvd.vrc.post\r\nos.getenv\r\nvisidata.BaseSheet.bindkey\r\nvd.replay_cancel\r\nformatRange\r\nanim.draw\r\nfunc.__name__.visidata.vd.getattr\r\nfp.pa.ipc.open_file.read_all\r\nrow.repo.split\r\ncol.transformers.append\r\nself.getMaxWidth\r\nDataFrameRowSliceAdapter\r\nmap\r\nimaplib.IMAP4_SSL\r\nvisidata.vd.debug\r\nglobals\r\nself.addRow\r\nfunctools.reduce\r\nCellColor\r\nconnection.cursor.close\r\nimaplib.IMAP4_SSL.select\r\ns.isChanged\r\nHistoryState.up\r\nGitRemotes.addCommand\r\nvd.warning\r\nvsoui.reload.__wrapped__\r\nself.markedRows.get\r\npart.get_filename\r\nvisidata.vd.parsePos\r\ngetMenuItem\r\nvisidata.modtime\r\nret.split.splitlines\r\ni.c.self.columns.r.self.cells.append\r\nopen.read\r\ndisplines.items\r\nXmlSheet.addCommand\r\nrow.orgmode_to_string.rstrip\r\nself.Events.reload\r\nself.orderBy\r\ndeduceType\r\ncol.setValuesTyped\r\nwcwidth\r\nvisidata.vd.google_auth.discovery.build.files\r\nself.labels.append\r\nscr.erase\r\nmacmanuf\r\nsheets.vs.vs.name.list.p.name.vd._gsheets_rw.create.execute.get\r\ndnslib.DNSRecord.parse\r\nr.cpu_num\r\ncurrent_row.append\r\nAttrDict\r\ngetattr.with_suffix\r\nfunc.wraps\r\noutfp.write\r\nx.rstrip\r\nShapeMap.addCommand\r\nHelpPane\r\ngetHunksSheet\r\nself.results.append\r\npyxlsb.open_workbook.get_sheet\r\noldrow.to_dict\r\nvisidata.vd.getkeystroke\r\nself.completer_func\r\nself.extract\r\nindexWithEscape\r\nrand.as_dict\r\nvd.replay_sync\r\nMySQLdb.connect\r\nvisidata.BaseSheet.init\r\nTextCanvas.bindkey\r\nre.match.group\r\ncol.widths.format\r\nsetattrdeep\r\nline.rstrip.rstrip\r\nvisidata.vd.pipinstall\r\npsutil.swap_memory\r\nLsvSheet\r\ncur.execute\r\nvisidata.vd.searchContext.get\r\nself.__getitem__\r\nTsvSheet\r\nseaborn.set\r\nvisidata.vd.matrix_client.get_rooms.values\r\nself.source.getElementsByType\r\n_get_win_folder\r\nself.addCommand\r\nself.scrForm.erase\r\ncol.putValue\r\nWSIServer\r\nnotefunc\r\npath.stat\r\nself.checkCursor\r\nlines.append\r\nvisidata.vd.addGlobals\r\n_createExpandedColumns.register\r\noptions._set\r\nself.df.drop\r\nvisidata.vd.input\r\nself.checkCursorNoExceptions\r\nrow.get_payload\r\nYamlSheet\r\nself.visibleCols.index\r\nself.windowrows.get\r\nrow.rename\r\nself.source.read_text\r\nvisidata.vd.scrFull.getmaxyx\r\nos.chown\r\nPlanetsSheet.addCommand\r\nr.tags.split\r\ncopy.copy.addColumn\r\nwebsocket.WebSocketApp\r\nself.unsetKeys\r\nsuper.__new__\r\nm.__dict__.items\r\nline.lstrip.lstrip\r\nr.cwd\r\nvisidata.vd.statuses.items\r\nis_header\r\nfunctools.wraps\r\nself.setKeys\r\nvd.g_client.Planets.reload\r\nvisidata.vd.importedModules.append\r\nports_tsv.reload.__wrapped__\r\nself.open\r\nself.server.sessions.get\r\ns.git_status\r\nvisidata.vd.getGlobals\r\nself.color_cache.clear\r\nRecSheet.column\r\nself.commitAdds\r\nvisidata.vd.onMouse\r\nself.date.__le__\r\nsheet.getDeferredChanges\r\ninitCurses\r\nvd.addUndo\r\nrowid.self.markedRows.add\r\nshutil.copy_tree\r\nUnfurledSheet\r\nvd.bitio_client.get_connection.cursor\r\nself.source.getroot\r\nrest.split\r\nencode_date\r\nhelpstr.replace.replace.replace\r\nself.refreshRows\r\ndistancefunc\r\nc.sheet.hard\r\nwinscr.getparyx\r\ntraceback.format_exc\r\nvisidata.SuspendCurses\r\nseaborn.scatterplot\r\nsqltypes.get\r\nself.path.is_dir\r\ndelim.join\r\nsheet.rowAdded\r\ncalc_selector\r\nax.set_title\r\nvd.searchRegex\r\nself._opts.items\r\nthreading.current_thread.is_alive\r\nre.compile\r\nItemColumn\r\nself.namelist\r\nsrccol.col.sheet.describeData.get\r\npr.memory_full_info\r\nargs.preplay.split\r\nurllib.parse.parse_qsl\r\nPbfCanvas\r\nCompleteState\r\nNotImplementedError\r\nvisidata.vd.replayCommand\r\nvisidata.options.getdefault\r\nitem.longname.vd.commands.get\r\nset\r\nc.origCol.getDisplayValue\r\nBitioRepoSheet\r\nvisidata.vd.suspend\r\nWindowColumn\r\nself.thread.profile.disable\r\naddFakerProviders\r\ngetpass.getpass.encode\r\nre.compile.findall\r\nbig_df.copy.reset_index.copy\r\nvisidata.vd.bindkeys._get\r\nvmod.get\r\nJsonLinesSheet.iterload\r\nvisidata.vd.draw_sheet\r\nPandasFreqTableSheet\r\norigcol.getDisplayValue\r\nemail.message_from_bytes\r\nself.scrFull.getmaxyx\r\npassword.encode.hashlib.md5.hexdigest\r\nvisidata.Fanout\r\nboundingBox\r\nstatus\r\nCommandLogJsonl\r\nXlsxSheet\r\nGitLinesColumn\r\npath.relative_to\r\nself.prettykeys\r\nBitioReposSheet\r\nvisidata.vd.win2.clear\r\nvisidata.ReturnValue\r\ndocstring\r\nycol.type\r\nunicodedata.category\r\nzstandard.open\r\nkernel.GetShortPathName\r\np.read_bytes.strip\r\nGitGrep.addCommand\r\nclipline\r\nrow.select\r\ngetattr.items\r\nret.decode.strip\r\nSuspendCurses.__enter__\r\nvd.g_client.refresh_everything\r\nsplitcell.extend\r\nself.label\r\ncopy.copy.append\r\na.b.g.r.rgb_to_attr.x.y.self.pixels.remove\r\nvd.getSheet.rowkey\r\nscopes.split\r\nelapsed_s\r\nPivotSheet\r\nf.read\r\nself.npz.items\r\nHistogramColumn\r\nMapSheet.addCommand\r\nby_cols.append\r\nnewrow.children.append\r\nExtendedColumn\r\nvisidata.wrmap\r\nx.strip\r\nself._deepiter\r\nr.update\r\nvisidata.vd.matrix_client.get_rooms\r\ngivenpath.exists\r\nvisidata.vd.getGlobals.get\r\nself.type\r\nvisidata.loaders._pandas.PandasSheet.addCommand\r\nvd.options.getonly\r\nos.dup2\r\nException\r\nkeystr\r\nPyobjSheet\r\ngetRepoPath\r\npivotcol.getValues\r\nscr.derwin\r\ncol.getDisplayValue\r\nvs.root.write\r\nself.subscribe\r\nsuper.init\r\nobj.options.unset\r\nsheet.newRow\r\nvd.parseMouse\r\nmakePen\r\n_walkfiles\r\nself.checkForFinishedThreads\r\nflowtype\r\nsheet.confirmQuit\r\nPandasSheet.addCommand\r\nlxml.etree.XMLParser\r\nHelpSheet.addCommand\r\nself.HistoricalDeployments.reload\r\nvdx.splitlines\r\nself.notify\r\nk.xpts.append\r\nnode_name\r\ncol.srccol.getValue\r\nr.cpu_times\r\nvd.getGlobals.getCommand\r\ndatetime.date.today.strftime\r\nsrccol.getTypedValue\r\nvisidata.clipdraw\r\nmethod.lower\r\nf.write\r\nkwargs.vd._gdrive_rw.delete.execute\r\nself.end_headers\r\nOptionsSheet\r\norgmode_parse_into\r\ndstcol.getTypedValue\r\nvisidata.vd.parse_sed_transform\r\nvd.delay\r\nSpssSheet\r\n_menus\r\nctypes.pythonapi.PyThreadState_SetAsyncExc\r\nself._deferredAdds.values\r\npsutil.Process.memory_full_info\r\nvisidata.vd.save_tsv\r\noptions._opts._get\r\nre.search.group\r\nchunks.clear\r\nrow.isSymbol\r\nself.getDeferredChanges\r\nPlanetsSheet\r\nlocale.setlocale\r\npath.responses.append\r\nc.sheet.git_status\r\ncls.hosts_by_ip.get\r\nself.maybeClean\r\nself.source_col.getValue.items\r\nvisidata.vd.numericCols.getValue\r\ninspect.getmro\r\nself.workbook.sheet_names\r\nround_results.append\r\nvisidata.pivot.PivotGroupRow\r\nround\r\nrandom.randrange\r\nBytesIOWrapper\r\nfgbgattrs.append\r\nself.ignored\r\nsh.ping\r\nfunc.groupdict\r\npyarrow.float64\r\ncurses.mousemask\r\nvisidata.options.keys\r\nvisidata.vd.options._get\r\nself.lines.RepeatFile.read\r\ncell.attributes.get\r\nmatplotlib.pyplot.xticks\r\nsqlite3.connect.commit\r\nprefix.lower\r\nthisclass_hasattr.wraps\r\nnumpy.arange\r\nGameOptionsSheet.addCommand\r\nupdater\r\nself.sheet.save\r\nvisidata.options.getonly\r\ngg_detect\r\nthreading.enumerate\r\nL.startswith\r\nurl.path.split\r\nnumpy.datetime64.isoformat\r\nos.dup\r\nvisidata.TypedExceptionWrapper\r\nrow.contents.items\r\nparseContextLine\r\nself.unset\r\nglob.glob\r\nSettableColumn.recalc\r\ncol.name.startswith\r\nglobals.update\r\nself._colorizers.remove\r\npsutil.cpu_percent\r\nrow.pivotrows.values\r\nself.conn.cursor.fetchone\r\nvs.rows.clear\r\nd.pop.globals\r\nvisidata.vd.OptionsObject\r\nvisidata.Progress\r\nr.text.find\r\nOrgContentsColumn\r\nresp.data.rfind\r\nvd.launchBrowser\r\npdfminer.pdfinterp.PDFPageInterpreter\r\nself.subfunc\r\nself.options.getobj\r\nnewcol.setValue\r\nself.getDiffCmd\r\nFreqTableSheet.addCommand\r\nGitHunk\r\ncol.expand\r\ncol.setValueSafe\r\nself.ws_thread.start\r\nos.path.dirname\r\nvd.numericCols.getValue\r\niter.write\r\nColumnsSheet.command\r\nvisidata.vd.ZipSheet\r\nself.putValue\r\nvisidata.vd.options.clipboard_paste_cmd.split\r\nregexMaker\r\nvisidata.vd.matrix_client.add_listener\r\nself.options.update\r\nc.items\r\nsheet.options.is_set\r\nSettableColumn\r\nconnection.cursor.execute\r\nself.gamestate.get\r\n_root\r\nsheet.click\r\nimaplib.IMAP4_SSL.login\r\nissubclass\r\nPingSheet\r\nZulipMessagesSheet.addCommand\r\noptions_cli_skel_bool.format\r\nvisidata.vd.sysclipValue\r\np.given.startswith\r\nvisidata.vd._stdout.flush\r\nvisidata.vd.options.describe_aggrs.split\r\nio.StringIO\r\nvd.reddit.subreddits.search\r\nvisidata.TableSheet.addCommand\r\nself.polylines.clear\r\ncsv.writer.writerow\r\nrow.attrib.get\r\nvisidata.vd._nextCommands.pop\r\nself.addColumn\r\nsys.stderr.flush\r\nvd.reddit.subreddit\r\n_clipstr\r\nRepeatFile\r\ncurses.reset_prog_mode\r\narg.lstrip\r\nSheetsSheet\r\nrow.comments.list\r\nself._opts.objname\r\nnumpy.save\r\nColumnItem\r\nself.keys\r\nvisidata.vd.chooseFancy.extend\r\nvisidata.vd.beforeExecHooks.append\r\nConcatColumn\r\nvs.ensureLoaded\r\nboto3.client\r\n_pivot_count_column._pivot_count_column.self.groupByCols.c.c.name.df.pivot_table.sort_values\r\ndatetime.datetime.__ge__\r\nself.source._selectByILoc\r\ngetattr\r\nplanet_coords.add\r\nHost.get_host\r\nvisidata.Sheet\r\nsheet.pressMenu\r\nsheet.draw\r\nself.source.getTile\r\nself._cachedStatus.get\r\nos.path.join\r\ndata.strip\r\nr._original_data.get\r\nrequests.get\r\nvisidata.vd.chooseMany\r\nself._rowLayout.clear\r\nlist.index\r\nclean_printable\r\nmatplotlib.pyplot.subplots\r\npsycopg2.connect\r\nGeoJSONColumn\r\nsheet.visibleRowAtY\r\nHdf5ObjSheet.addCommand\r\nself.read\r\nself.QueuedDeployments.addRow\r\nself.BytesIOWrapper.super.__init__\r\nvisidata.clean_to_id\r\nSqliteIndexSheet.bindkey\r\nhasattr\r\ni.vd.vrc.world.rows.update\r\nlocals\r\nos.path.split\r\nvisidata.vd.postgresGetColumns\r\nsheet.putChanges\r\nself.cls.super.__init__\r\ninspect.isclass\r\nself.df.columns.col.n.col.pd.DataFrame.astype\r\nrequests.post\r\nos.path.expandvars\r\nlive_search_async\r\nscr.get_wch\r\nSheet.init\r\nself.allobjs.get\r\nvs.regex_flags\r\nsuper.reload.__wrapped__\r\nself.openZipFile\r\nself.receive_callback\r\nHost\r\nrange.index\r\nvisidata.vd.scrFull.refresh\r\nself.bots.values\r\ngetPublicAttrs\r\npandas.DataFrame.any\r\n_vjsonEncoder.encode\r\nvd.sysclipValue.strip\r\nself.options.name_joiner.join\r\ncol.sheet.renameFile\r\nstruct.unpack_from\r\n_percentile\r\npandas.Series\r\nname.module.resource_filename.Path.open_text\r\nc.isDiff\r\nscr.getmaxyx\r\nre.search\r\nload_oui\r\nself.ttf.getGlyphSet\r\nsheet.safe_trdict\r\nself.removePlugin\r\nself.cursorBox.contains\r\nvisidata.vd.pluginsSheet.ensureLoaded\r\nvisidata.Path.stat.cache_clear\r\nparse_sqlite_type\r\nr.ionice\r\nPlayer\r\ncol.name.translate\r\nCharBox\r\nnewlist.append\r\nx.upper\r\nVirtualRCWorldSheet.addCommand\r\np.read_bytes.strip.hashlib.sha256.hexdigest\r\nopts.items\r\ns.isSelected\r\ngroupRow.pivotrows.get\r\n_createExpandedColumnsNamedTuple\r\nvs.name.givenpath.with_suffix\r\nvd.semaphore.acquire\r\nvisidata.vd._gsheets_rw.values\r\nline.lstrip.endswith\r\nrecord.split\r\ncurses.getmouse\r\nvisidata.vd.aggregator\r\nFreqTableSheet.init\r\nfiles.sort\r\nself.formatY\r\nsrccol.getValue\r\nunicodedata.combining\r\nplugin.url.vd.urlcache.open_text\r\niterline\r\nself.resetCanvasDimensions\r\nInferColumnsSheet.init\r\ntry_apply\r\ngroups.get\r\nrowmods.values\r\nself._get_colornum\r\nvd.enable_requests_cache\r\nsheet.sort\r\nvdtype\r\nctypes.py_object\r\nShapeSheet.addCommand\r\npings_sent.get\r\nsection.children.c.section.stars.prestars.c.orgmode_to_string.join.rstrip\r\nGitAllColumn\r\nPath.is_absolute\r\nfindMatchingColumn\r\ncompile\r\nrclogo_coords.append\r\ncodestr\r\nk.headers.append\r\ndelim.buf.rstrip.split\r\nch.isupper\r\nself.unselect\r\ncur.fetchone\r\nvisidata.SubColumnItem\r\nGameOptionsSheet\r\npart.get_payload\r\ntime.perf_counter\r\nvisidata.Sheet.init\r\ncol.getMaxWidth\r\nself.cols.get\r\nundofunc\r\nre.match.groups\r\nGitUndo\r\ndiff.DifferSheet\r\nself.raw.read\r\nvd.getSheet.getRowIndexFromStr\r\nColumn.calcValue\r\ncollections.namedtuple\r\npath.has_fp\r\nnewfunc\r\nself.frames.values\r\ninitCurses.bkgd\r\nCPUStatsSheet\r\ncolstr.split\r\nself.resetBounds\r\nvd.chooseMany\r\ngroupRow.pivotrows.get.append\r\nsys.stdin.isatty\r\nr.c.expr.c.sheet.coldata.as_py\r\nfp.readline.startswith\r\nRecSheet.sort\r\nbs4.BeautifulSoup\r\n_defaggr\r\ncol.sheet.moveFile\r\nr.create_time\r\nvd.addGlobals\r\nattr.startswith\r\nvisidata.getattrdeep\r\nPath\r\nresponse.links.get\r\nself.newRow\r\nself.source.draw\r\ngrid.strip.splitlines\r\nSubColumnFunc\r\nline.strip.split\r\nvisidata.RepeatFile\r\ncurses.init_pair\r\nheader_lines.append\r\nself._usedcols.add\r\nvisidata.Path\r\nself.columns.index\r\ni.self.sheet._ordered_colnames.index\r\nsavReaderWriter.SavReader\r\nstr.col.expr.self.df.astype.str.contains\r\nself.send_response\r\ns.inRemoteBranch\r\nobj.set_palette\r\nAttributeError\r\nhash\r\nCompleteKey\r\nchunk.items\r\nclassmethod\r\nnumpy.where\r\ndatetime.datetime.fromisoformat\r\nself.lastInputsSheet.history\r\nself.source.select\r\nitertools.chain.from_iterable\r\nTaskAnnotationsSheet.addCommand\r\nself.fget.classmethod.__get__\r\ngetFeatures\r\nvisidata.vd.marks.getMarkRow\r\nMyTable\r\nsheet.commitDeletes\r\nvd.vrc.patch\r\nsuper.resetCanvasDimensions\r\nshutil.copyfile\r\nvd.loadInternalSheet\r\nc.getValue\r\ntype.format\r\nvisidata.vd.addMenu\r\nvisidata.Sheet.command\r\ndispvals.values\r\nfragment.attributes.get\r\nRecIndexSheet\r\nret.amgr.load\r\nnamedlist\r\nself.render\r\nxport.Reader\r\nf.startswith\r\nargs.strip\r\nmailcap.getcaps\r\np.joinpath.exists\r\nvisidata.ColumnAttr\r\nself._path.__lt__\r\ngrp.getgrgid\r\nPbfSheet.addCommand\r\nself.preloadHook\r\nfmtargs.append\r\nsplitlines\r\nrowid.idtexts.get.strip.splitlines\r\nChoiceSheet.reload\r\nc.sheet.set_soft\r\npyarrow.parquet.read_table\r\ncol.setValue\r\nfail\r\nvisidata.iterchars\r\ncopy.copy.newRow\r\nvisidata.options.set\r\nreversed\r\nself.groupRows\r\nlxml.html.parse.getroot\r\nurllib.parse.urljoin\r\nvs.itervals\r\nvs.xd.to_unicode\r\neval_vd.reload\r\nself.rows.sort_values\r\npyarrow.date64\r\nurllib.request.urlopen\r\nself._mappings\r\nColumnsSheet\r\nplatform.java_ver.startswith\r\nself.has_fp\r\nsources.reload\r\nErrorSheet\r\nc.sheet.parents\r\nself.add_x_axis_label\r\nr.ppid\r\nmatplotlib.pyplot.figure\r\ndateutil.parser.parse\r\nx_array.append\r\nVisiData.addGlobals\r\nopenpyxl.Workbook\r\nvd.getGlobals\r\npsutil.process_iter\r\nlength.self.rfile.read.decode\r\ncurses.use_default_colors\r\nfunctools.partial\r\nsplitcell\r\nhunkdef.split\r\nProfileSheet.addCommand\r\nline.strip\r\nrow.setdefault\r\npath.open_text\r\ncurrent_args.items\r\nvisidata.RowColorizer\r\nself.flows.get.append\r\nsection.links.extend\r\ncProfile.Profile\r\nListOfDictSheet\r\nColumnColorizer\r\nFrictionlessIndexSheet\r\nos.putenv\r\nsheet.rows.clear\r\nParquetSheet\r\ninputs.append\r\nf\r\nself.colorcache.get\r\nself.sheet.setModified\r\ncopy.copy.draw\r\nKeyError\r\nChoiceSheet.column\r\nsite_data_dir\r\nr.exe\r\ntasklib.TaskWarrior\r\nsectionize\r\nvisidata.vd.rowNoters.insert\r\nelem.attrib.get\r\nFanout\r\njoinkey\r\nf.upper\r\nsheet._deferredDels.clear\r\nself.prog.__exit__\r\nvisidata.Column.getTypedValue\r\nany\r\nself._git_args\r\nFreqTableSheet.reload.__wrapped__\r\nBitioTable\r\niter\r\nself.prog.addProgress\r\nvs.source.open_text\r\nself.getCell\r\nself.wfile.write\r\noptalias\r\nvd.status\r\nvd.drawSubmenu\r\nservices.get\r\ncol.format\r\nvd.activeSheet.ensureLoaded\r\ncolumnize\r\ncname.isalpha\r\nsqlite3.connect.cursor\r\ndatetime.datetime.__gt__\r\nself.selectRow\r\nself.git\r\nsubprocess.PIPE.subprocess.PIPE.row.subprocess.Popen.communicate.strip\r\nself.legends.items\r\nvisidata.vd.isNumeric\r\nself._cls_method\r\nSqliteSheet\r\nMeltedSheet\r\nsuper.addColumn\r\nx.y.self.pixels.items\r\nself.draw\r\nself.source.owner.split\r\nvisidata.vd.matrix_client.start_listener_thread\r\nshlex.quote\r\ntarfile.open.extractfile\r\nax.xaxis.set_major_locator\r\nvisidata.moveListItem\r\nvisidata.vd.matrix_client.listen_for_events\r\nself.rows.sort\r\nrgb_to_attr\r\ndata.splitlines\r\nself.events.append\r\n...\r\nself.fp.__enter__\r\nsheet.commitMods\r\nself._colorize\r\nmax\r\nfaker.Faker.add_provider\r\nvisidata.vd.runresult\r\nfp.read.rstrip\r\nvisidata.vd.matrix_client._sync\r\nVisiData.finalInit\r\nt.profile.enable\r\ntmpl.format\r\nEventsSheet\r\ncol.sheet.source.sources.index\r\nPyobjColumns\r\npat_select.findall.replace\r\nWSIServer.serve_forever\r\nr.name\r\nobject\r\nself.png.asRGBA\r\nself.get_channel_name\r\nos.pathsep.join\r\nPath.exists\r\n</pre>\r\n</details>\r\n\r\n    \r\n\r\n@developer\r\nCould please help me check this issue?\r\nMay I pull a request to fix it?\r\nThank you very much.\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1816/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1816/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1815", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1815/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1815/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1815/events", "html_url": "https://github.com/saulpw/visidata/issues/1815", "id": 1632795459, "node_id": "I_kwDOBEu2Gc5hUntD", "number": 1815, "title": "[yaml] Loader not working, cannot find `vd`", "user": {"login": "frosencrantz", "id": 631242, "node_id": "MDQ6VXNlcjYzMTI0Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/631242?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frosencrantz", "html_url": "https://github.com/frosencrantz", "followers_url": "https://api.github.com/users/frosencrantz/followers", "following_url": "https://api.github.com/users/frosencrantz/following{/other_user}", "gists_url": "https://api.github.com/users/frosencrantz/gists{/gist_id}", "starred_url": "https://api.github.com/users/frosencrantz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frosencrantz/subscriptions", "organizations_url": "https://api.github.com/users/frosencrantz/orgs", "repos_url": "https://api.github.com/users/frosencrantz/repos", "events_url": "https://api.github.com/users/frosencrantz/events{/privacy}", "received_events_url": "https://api.github.com/users/frosencrantz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-03-20T20:16:28Z", "updated_at": "2023-03-22T21:41:00Z", "closed_at": "2023-03-21T04:29:01Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nYAML loader not working, cannot find `vd`\r\n\r\n**Expected result**\r\nYAML loader works.\r\n\r\n**Actual result with screenshot**\r\n\r\nhttps://asciinema.org/a/EBtOGbMbNShWxXgi0mZmV9SeY\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3.9/site-packages/visidata/threads.py\", line 200, in _toplevelTryFunc\r\n    t.status = func(*args, **kwargs)\r\n  File \"/usr/lib/python3.9/site-packages/visidata/pyobj.py\", line 27, in reload\r\n    for r in self.iterload():\r\n  File \"/usr/lib/python3.9/site-packages/visidata/loaders/yaml.py\", line 14, in iterload\r\n    yaml = vd.importExternal('yaml', 'PyYAML')\r\nNameError: name 'vd' is not defined\r\n```\r\n**Steps to reproduce with sample data and a .vd**\r\n`vd sample_data/states.yml`\r\n\r\n**Additional context**\r\nPlease include the version of VisiData. Latest develop branch.\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1815/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1815/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1808", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1808/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1808/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1808/events", "html_url": "https://github.com/saulpw/visidata/issues/1808", "id": 1630169914, "node_id": "I_kwDOBEu2Gc5hKms6", "number": 1808, "title": "[develop] VisiData occassionally gets stuck when importing `requests`", "user": {"login": "anjakefala", "id": 7489659, "node_id": "MDQ6VXNlcjc0ODk2NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/7489659?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anjakefala", "html_url": "https://github.com/anjakefala", "followers_url": "https://api.github.com/users/anjakefala/followers", "following_url": "https://api.github.com/users/anjakefala/following{/other_user}", "gists_url": "https://api.github.com/users/anjakefala/gists{/gist_id}", "starred_url": "https://api.github.com/users/anjakefala/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anjakefala/subscriptions", "organizations_url": "https://api.github.com/users/anjakefala/orgs", "repos_url": "https://api.github.com/users/anjakefala/repos", "events_url": "https://api.github.com/users/anjakefala/events{/privacy}", "received_events_url": "https://api.github.com/users/anjakefala/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-03-18T05:10:18Z", "updated_at": "2023-03-31T16:18:53Z", "closed_at": "2023-03-31T16:18:45Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "On `develop` branch, with Python v3.9, occassionally VisiData will fail to progress when loading from a url:\r\n\r\n```\r\nanja@kefala:git/visidata \u2039develop*\u203a$ vd https://visidata.org/usage.tsv\r\nsaul.pw/VisiData v2.12dev\r\nloaded visidatarc\r\n```\r\n\r\nAnd you have to `Ctrl+C` to get the following stacktrace:\r\n\r\n\r\n\r\n```\r\n^CTraceback (most recent call last):\r\n  File \"/home/anja/anaconda3/envs/vd39/bin/vd\", line 7, in <module>\r\n    exec(compile(f.read(), __file__, 'exec'))\r\n  File \"/home/anja/git/visidata/bin/vd\", line 6, in <module>\r\n    visidata.main.vd_cli()\r\n  File \"/home/anja/git/visidata/visidata/main.py\", line 372, in vd_cli\r\n    rc = main_vd()\r\n  File \"/home/anja/git/visidata/visidata/main.py\", line 294, in main_vd\r\n    vs = vd.openSource(p, create=True, **opts) or vd.fail(f'could not open {p}')\r\n  File \"/home/anja/git/visidata/visidata/_open.py\", line 145, in openSource\r\n    vs = vd.openPath(Path(p), filetype=filetype)  # convert to Path and recurse\r\n  File \"/home/anja/git/visidata/visidata/_open.py\", line 82, in openPath\r\n    return openfunc(p, filetype=filetype)\r\n  File \"/home/anja/git/visidata/visidata/loaders/http.py\", line 21, in openurl_http\r\n    requests = vd.importExternal('requests')\r\n  File \"/home/anja/git/visidata/visidata/settings.py\", line 459, in importExternal\r\n    m = importlib.import_module(modname)\r\n  File \"/home/anja/anaconda3/envs/vd39/lib/python3.9/importlib/__init__.py\", line 127, in import_module\r\n    return _bootstrap._gcd_import(name[level:], package, level)\r\n  File \"<frozen importlib._bootstrap>\", line 1030, in _gcd_import\r\n  File \"<frozen importlib._bootstrap>\", line 1007, in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 986, in _find_and_load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 680, in _load_unlocked\r\n  File \"<frozen importlib._bootstrap_external>\", line 850, in exec_module\r\n  File \"<frozen importlib._bootstrap>\", line 228, in _call_with_frames_removed\r\n  File \"/home/anja/anaconda3/envs/vd39/lib/python3.9/site-packages/requests/__init__.py\", line 43, in <module>\r\n    import urllib3\r\n  File \"/home/anja/anaconda3/envs/vd39/lib/python3.9/site-packages/urllib3/__init__.py\", line 11, in <module>\r\n    from . import exceptions\r\n  File \"/home/anja/anaconda3/envs/vd39/lib/python3.9/site-packages/urllib3/exceptions.py\", line 3, in <module>\r\n    from .packages.six.moves.http_client import IncompleteRead as httplib_IncompleteRead\r\n  File \"<frozen importlib._bootstrap>\", line 1007, in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 982, in _find_and_load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 925, in _find_spec\r\n  File \"/home/anja/anaconda3/envs/vd39/lib/python3.9/site-packages/urllib3/packages/six.py\", line 192, in find_spec\r\n    return spec_from_loader(fullname, self)\r\n  File \"<frozen importlib._bootstrap>\", line 431, in spec_from_loader\r\n  File \"/home/anja/anaconda3/envs/vd39/lib/python3.9/site-packages/urllib3/packages/six.py\", line 222, in is_package\r\n    return hasattr(self.__get_module(fullname), \"__path__\")\r\n  File \"/home/anja/anaconda3/envs/vd39/lib/python3.9/site-packages/urllib3/packages/six.py\", line 121, in __getattr__\r\n    _module = self._resolve()\r\n  File \"/home/anja/anaconda3/envs/vd39/lib/python3.9/site-packages/urllib3/packages/six.py\", line 118, in _resolve\r\n    return _import_module(self.mod)\r\n  File \"/home/anja/anaconda3/envs/vd39/lib/python3.9/site-packages/urllib3/packages/six.py\", line 87, in _import_module\r\n    __import__(name)\r\n  File \"<frozen importlib._bootstrap>\", line 211, in _lock_unlock_module\r\n  File \"<frozen importlib._bootstrap>\", line 107, in acquire\r\nKeyboardInterrupt\r\n```\r\nOur current hypothesis is that this is the relevant bug: https://github.com/python/cpython/issues/91351\r\n\r\nConceivably, other loaders with `importlib` dependencies that also have dependencies might be affected. It is just currently reproducibly coming up for `open_http`.", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1808/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1808/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1803", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1803/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1803/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1803/events", "html_url": "https://github.com/saulpw/visidata/issues/1803", "id": 1620264255, "node_id": "I_kwDOBEu2Gc5gk0U_", "number": 1803, "title": "in json, {sheet.cursorColIndex} will trigger ValueError: None is not in list", "user": {"login": "Freed-Wu", "id": 32936898, "node_id": "MDQ6VXNlcjMyOTM2ODk4", "avatar_url": "https://avatars.githubusercontent.com/u/32936898?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Freed-Wu", "html_url": "https://github.com/Freed-Wu", "followers_url": "https://api.github.com/users/Freed-Wu/followers", "following_url": "https://api.github.com/users/Freed-Wu/following{/other_user}", "gists_url": "https://api.github.com/users/Freed-Wu/gists{/gist_id}", "starred_url": "https://api.github.com/users/Freed-Wu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Freed-Wu/subscriptions", "organizations_url": "https://api.github.com/users/Freed-Wu/orgs", "repos_url": "https://api.github.com/users/Freed-Wu/repos", "events_url": "https://api.github.com/users/Freed-Wu/events{/privacy}", "received_events_url": "https://api.github.com/users/Freed-Wu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-03-12T07:25:33Z", "updated_at": "2023-03-31T16:19:16Z", "closed_at": "2023-03-31T16:19:09Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Steps to reproduce with sample data and a .vd**\r\n\r\n`a.json`:\r\n\r\n```json\r\n[{\"a\": 1, \"b\": 1}]\r\n```\r\n\r\nthen set `options.disp_rstatus_fmt = \"{sheet.cursorColIndex}\"` in config file\r\n\r\n```\r\nvd a.json\r\n```\r\n\r\n**Actual result with screenshot**\r\n```\r\nTraceback (most recent call last):\r\n  File \"/usr/bin/vd\", line 6, in <module>\r\n    visidata.main.vd_cli()\r\n  File \"/usr/lib/python3.10/site-packages/visidata/main.py\", line 354, in vd_cli\r\n    rc = main_vd()\r\n  File \"/usr/lib/python3.10/site-packages/visidata/main.py\", line 319, in main_vd\r\n    run(vd.sheets[0])\r\n  File \"/usr/lib/python3.10/site-packages/visidata/vdobj.py\", line 34, in _vdfunc\r\n    return getattr(visidata.vd, func.__name__)(*args, **kwargs)\r\n  File \"/usr/lib/python3.10/site-packages/visidata/extensible.py\", line 55, in wrappedfunc\r\n    return oldfunc(*args, **kwargs)\r\n  File \"/usr/lib/python3.10/site-packages/visidata/mainloop.py\", line 377, in run\r\n    ret = vd.mainloop(scr)\r\n  File \"/usr/lib/python3.10/site-packages/visidata/mainloop.py\", line 240, in mainloop\r\n    self.draw_all()\r\n  File \"/usr/lib/python3.10/site-packages/visidata/mainloop.py\", line 144, in draw_all\r\n    vd.draw_sheet(vd.win1, ss1[0])\r\n  File \"/usr/lib/python3.10/site-packages/visidata/mainloop.py\", line 41, in draw_sheet\r\n    self.drawRightStatus(scr, sheet)  # visible during this getkeystroke\r\n  File \"/usr/lib/python3.10/site-packages/visidata/statusbar.py\", line 174, in drawRightStatus\r\n    (vd.rightStatus(vs), 'color_status'),\r\n  File \"/usr/lib/python3.10/site-packages/visidata/statusbar.py\", line 164, in rightStatus\r\n    return MissingAttrFormatter().format(sheet.options.disp_rstatus_fmt, sheet=sheet, vd=vd)\r\n  File \"/usr/lib/python3.10/string.py\", line 161, in format\r\n    return self.vformat(format_string, args, kwargs)\r\n  File \"/usr/lib/python3.10/string.py\", line 165, in vformat\r\n    result, _ = self._vformat(format_string, args, kwargs, used_args, 2)\r\n  File \"/usr/lib/python3.10/string.py\", line 205, in _vformat\r\n    obj, arg_used = self.get_field(field_name, args, kwargs)\r\n  File \"/usr/lib/python3.10/site-packages/visidata/utils.py\", line 118, in get_field\r\n    return super().get_field(field_name, *args, **kwargs)\r\n  File \"/usr/lib/python3.10/string.py\", line 276, in get_field\r\n    obj = getattr(obj, i)\r\n  File \"/usr/lib/python3.10/site-packages/visidata/sheets.py\", line 433, in cursorColIndex\r\n    return self.columns.index(self.cursorCol)\r\nValueError: None is not in list\r\n```\r\n**Expected result**\r\n\r\nNo error\r\n\r\n**Small description**\r\nIt only occur when\r\n\r\n1. `{sheet.cursorColIndex}`\r\n2. must be a json. tsv will not trigger.", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1803/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1803/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1800", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1800/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1800/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1800/events", "html_url": "https://github.com/saulpw/visidata/issues/1800", "id": 1620029587, "node_id": "I_kwDOBEu2Gc5gj7CT", "number": 1800, "title": "undo `zd` cannot remove `[M]`", "user": {"login": "Freed-Wu", "id": 32936898, "node_id": "MDQ6VXNlcjMyOTM2ODk4", "avatar_url": "https://avatars.githubusercontent.com/u/32936898?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Freed-Wu", "html_url": "https://github.com/Freed-Wu", "followers_url": "https://api.github.com/users/Freed-Wu/followers", "following_url": "https://api.github.com/users/Freed-Wu/following{/other_user}", "gists_url": "https://api.github.com/users/Freed-Wu/gists{/gist_id}", "starred_url": "https://api.github.com/users/Freed-Wu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Freed-Wu/subscriptions", "organizations_url": "https://api.github.com/users/Freed-Wu/orgs", "repos_url": "https://api.github.com/users/Freed-Wu/repos", "events_url": "https://api.github.com/users/Freed-Wu/events{/privacy}", "received_events_url": "https://api.github.com/users/Freed-Wu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-03-11T14:35:22Z", "updated_at": "2023-04-04T04:08:19Z", "closed_at": "2023-04-04T04:08:19Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Steps to reproduce with sample data and a .vd**\r\n```sh\r\necho 'a\\tb\\tc\\n1\\t2\\te' > test.tsv\r\nvd -N test.tsv\r\n```\r\nPress `zd` to delete one cell then use `U` to undo. Now the table is same as original table. However, `sheet.modifiedStatus` still be `[M]`.\r\n\r\n**Expected result**\r\n\r\n`sheet.modifiedStatus` still be empty string.", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1800/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1800/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1799", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1799/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1799/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1799/events", "html_url": "https://github.com/saulpw/visidata/issues/1799", "id": 1619485754, "node_id": "I_kwDOBEu2Gc5gh2Q6", "number": 1799, "title": "[input] in edit-cell, Ctrl-V followed by special characters gives an error", "user": {"login": "midichef", "id": 67946319, "node_id": "MDQ6VXNlcjY3OTQ2MzE5", "avatar_url": "https://avatars.githubusercontent.com/u/67946319?v=4", "gravatar_id": "", "url": "https://api.github.com/users/midichef", "html_url": "https://github.com/midichef", "followers_url": "https://api.github.com/users/midichef/followers", "following_url": "https://api.github.com/users/midichef/following{/other_user}", "gists_url": "https://api.github.com/users/midichef/gists{/gist_id}", "starred_url": "https://api.github.com/users/midichef/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/midichef/subscriptions", "organizations_url": "https://api.github.com/users/midichef/orgs", "repos_url": "https://api.github.com/users/midichef/repos", "events_url": "https://api.github.com/users/midichef/events{/privacy}", "received_events_url": "https://api.github.com/users/midichef/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-03-10T19:06:45Z", "updated_at": "2023-03-23T06:46:11Z", "closed_at": "2023-03-23T06:46:11Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nWhen editing a cell with `edit-cell`, Ctrl-V followed by a special character (Backspace, or a function key, or an arrow key), raises an exception.\r\n\r\n**Expected result**\r\nI expect to insert a string for the special character.\r\n\r\n**Actual result with screenshot**\r\n```\r\nTraceback (most recent call last):\r\n  File \"/home/midichef/.local/lib/python3.10/site-packages/visidata/basesheet.py\", line 200, in execCommand\r\n    escaped = super().execCommand2(cmd, vdglobals=vdglobals)\r\n  File \"/home/midichef/.local/lib/python3.10/site-packages/visidata/basesheet.py\", line 73, in execCommand2\r\n    exec(code, vdglobals, LazyChainMap(vd, self))\r\n  File \"edit-cell\", line 1, in <module>\r\n    import functools\r\n  File \"/home/midichef/.local/lib/python3.10/site-packages/visidata/_input.py\", line 428, in editCell\r\n    r = vd.editText(y, x, w, **editargs)\r\n  File \"/home/midichef/.local/lib/python3.10/site-packages/visidata/_input.py\", line 270, in editText\r\n    v = vd.editline(vd.activeSheet._scr, y, x, w, display=display, **kwargs)\r\n  File \"/home/midichef/.local/lib/python3.10/site-packages/visidata/_input.py\", line 228, in editline\r\n    elif ch == '^V':                           v = splice(v, i, until_get_wch(scr)); i += 1  # literal character\r\n  File \"/home/midichef/.local/lib/python3.10/site-packages/visidata/_input.py\", line 65, in splice\r\n    return v if i < 0 else v[:i] + s + v[i:]\r\nTypeError: can only concatenate str (not \"int\") to str\r\n```\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\nEdit a cell with `e` and then press `Ctrl-V`, then `Backspace`.\r\n\r\n**Additional context**\r\nsaul.pw/VisiData v2.11\r\n\r\nThe source of the problem is that `get_wch()` sometimes returns an int.\r\nhttps://docs.python.org/3/library/curses.html#curses.window.get_wch", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1799/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1799/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1798", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1798/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1798/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1798/events", "html_url": "https://github.com/saulpw/visidata/issues/1798", "id": 1619094479, "node_id": "I_kwDOBEu2Gc5ggWvP", "number": 1798, "title": "[open directory] Open directory crashes", "user": {"login": "frosencrantz", "id": 631242, "node_id": "MDQ6VXNlcjYzMTI0Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/631242?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frosencrantz", "html_url": "https://github.com/frosencrantz", "followers_url": "https://api.github.com/users/frosencrantz/followers", "following_url": "https://api.github.com/users/frosencrantz/following{/other_user}", "gists_url": "https://api.github.com/users/frosencrantz/gists{/gist_id}", "starred_url": "https://api.github.com/users/frosencrantz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frosencrantz/subscriptions", "organizations_url": "https://api.github.com/users/frosencrantz/orgs", "repos_url": "https://api.github.com/users/frosencrantz/repos", "events_url": "https://api.github.com/users/frosencrantz/events{/privacy}", "received_events_url": "https://api.github.com/users/frosencrantz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2023-03-10T14:44:59Z", "updated_at": "2023-03-12T22:13:08Z", "closed_at": "2023-03-10T17:45:07Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nOpen directory crashes\r\n\r\n**Expected result**\r\nDoesn't crash\r\n\r\n**Actual result with screenshot**\r\nVisiData fails to start, and crashes:\r\n```\r\nAttributeError: module 'urllib' has no attribute 'error'\r\n    visidata.main.vd_cli()\r\n  File \"/usr/lib/python3.9/site-packages/visidata/main.py\", line 372, in vd_cli\r\n    rc = main_vd()\r\n  File \"/usr/lib/python3.9/site-packages/visidata/main.py\", line 294, in main_vd\r\n    vs = vd.openSource(p, create=True, **opts) or vd.fail(f'could not open {p}')\r\n  File \"/usr/lib/python3.9/site-packages/visidata/_open.py\", line 143, in openSource\r\n    vs = vd.openPath(Path(p), filetype=filetype, create=create)  # convert to Path and recurse\r\n  File \"/usr/lib/python3.9/site-packages/visidata/_open.py\", line 108, in openPath\r\n    vs = openfunc(p)\r\nTypeError: 'NoneType' object is not callable\r\n\r\n```\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n`vd sample_data`\r\n\r\n\r\n**Additional context**\r\nPlease include the version of VisiData. Latest development version.\r\n\r\nI am wondering why the tests are passing.\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1798/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1798/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1797", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1797/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1797/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1797/events", "html_url": "https://github.com/saulpw/visidata/issues/1797", "id": 1617662548, "node_id": "I_kwDOBEu2Gc5ga5JU", "number": 1797, "title": "[sidebar] Large amount of status updates, fill the screen vertically", "user": {"login": "geekscrapy", "id": 11225502, "node_id": "MDQ6VXNlcjExMjI1NTAy", "avatar_url": "https://avatars.githubusercontent.com/u/11225502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geekscrapy", "html_url": "https://github.com/geekscrapy", "followers_url": "https://api.github.com/users/geekscrapy/followers", "following_url": "https://api.github.com/users/geekscrapy/following{/other_user}", "gists_url": "https://api.github.com/users/geekscrapy/gists{/gist_id}", "starred_url": "https://api.github.com/users/geekscrapy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geekscrapy/subscriptions", "organizations_url": "https://api.github.com/users/geekscrapy/orgs", "repos_url": "https://api.github.com/users/geekscrapy/repos", "events_url": "https://api.github.com/users/geekscrapy/events{/privacy}", "received_events_url": "https://api.github.com/users/geekscrapy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2023-03-09T17:17:22Z", "updated_at": "2023-03-23T07:01:18Z", "closed_at": "2023-03-23T06:49:35Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nWhen Freqing a sheet with many rows, unselecting and deselecting on the FreqSheet creates a lot of lines for the sidebar\r\n\r\nUnsure how to fix, maybe limit to the last X statuses? This will actually force status messages to be more explicit as well\r\n\r\n**Expected result**\r\nFor the sidebar to remain a fairly static size. Differences in size, e.g. larg(ish) for guides, and smaller sized box for status, subtly indicates to the user what might be being shown without even looking at it.\r\n\r\n**Actual result with screenshot**\r\n![image](https://user-images.githubusercontent.com/11225502/224103633-a78e8f3c-6b4b-416e-b3ff-3ecddb129160.png)\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\nOpen a large sheet and freq a column. Now do a `gt` on the freq sheet. This will cause a lot of status updates which could fill a large portion of the screen vertically.\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1797/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1797/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1796", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1796/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1796/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1796/events", "html_url": "https://github.com/saulpw/visidata/issues/1796", "id": 1617161626, "node_id": "I_kwDOBEu2Gc5gY-2a", "number": 1796, "title": "if a filename is edited, it extension will miss in filename column.", "user": {"login": "Freed-Wu", "id": 32936898, "node_id": "MDQ6VXNlcjMyOTM2ODk4", "avatar_url": "https://avatars.githubusercontent.com/u/32936898?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Freed-Wu", "html_url": "https://github.com/Freed-Wu", "followers_url": "https://api.github.com/users/Freed-Wu/followers", "following_url": "https://api.github.com/users/Freed-Wu/following{/other_user}", "gists_url": "https://api.github.com/users/Freed-Wu/gists{/gist_id}", "starred_url": "https://api.github.com/users/Freed-Wu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Freed-Wu/subscriptions", "organizations_url": "https://api.github.com/users/Freed-Wu/orgs", "repos_url": "https://api.github.com/users/Freed-Wu/repos", "events_url": "https://api.github.com/users/Freed-Wu/events{/privacy}", "received_events_url": "https://api.github.com/users/Freed-Wu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2023-03-09T12:43:27Z", "updated_at": "2023-03-28T05:07:15Z", "closed_at": "2023-03-28T05:07:06Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nif a filename is edited, it extension will miss in filename column.\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n```sh\r\n$ cd /dev/shm\r\n$ touch a.txt c.txt d.txt\r\n$ vd -N\r\n```\r\n\r\nPress `le<C-e><C-u>b.txt<CR>`\r\n\r\n**Expected result**\r\n\r\nDisplay `b.txt` in filename\r\n\r\n**Actual result with screenshot**\r\nDisplay `b` in filename", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1796/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1796/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1786", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1786/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1786/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1786/events", "html_url": "https://github.com/saulpw/visidata/issues/1786", "id": 1609956362, "node_id": "I_kwDOBEu2Gc5f9fwK", "number": 1786, "title": "[sidebar] UI issues", "user": {"login": "frosencrantz", "id": 631242, "node_id": "MDQ6VXNlcjYzMTI0Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/631242?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frosencrantz", "html_url": "https://github.com/frosencrantz", "followers_url": "https://api.github.com/users/frosencrantz/followers", "following_url": "https://api.github.com/users/frosencrantz/following{/other_user}", "gists_url": "https://api.github.com/users/frosencrantz/gists{/gist_id}", "starred_url": "https://api.github.com/users/frosencrantz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frosencrantz/subscriptions", "organizations_url": "https://api.github.com/users/frosencrantz/orgs", "repos_url": "https://api.github.com/users/frosencrantz/repos", "events_url": "https://api.github.com/users/frosencrantz/events{/privacy}", "received_events_url": "https://api.github.com/users/frosencrantz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2023-03-04T21:33:07Z", "updated_at": "2023-03-23T20:37:20Z", "closed_at": "2023-03-23T06:51:05Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nMostly discussed on https://github.com/saulpw/visidata/discussions/1733\r\n\r\n- [x] :new: There may be an off by one-error for showing the last line, when the sidebar text is larger than the sidebar. the bottom line of the sidebar box is modified.\r\n- [x] add help text saying how to close the guide\r\n- [x] If the terminal height is too small, the guide is truncated, but there is no visual indication that it has been truncated.  There does not appear to be a way to scroll the guide if it has been truncated\r\n- [x] the sidebar/guide doesn't absorb mouse clicks.  When there are mouse clicks on the sidebar, Visidata behaves as if the sidebar wasn't there, and moves the cursor within the current sheet.\r\n\r\n**Expected result**\r\n- Shown text fits inside sidebar box.  Now it can overwrite the bottom line of the box.\r\n- Communicate mechanism to close the sidebar\r\n- Visual indicator(s) for when the shown text scrolls off the top/bottom.\r\n- Absorb mouse clicks.\r\n\r\n**Actual result with screenshot**\r\nhttps://asciinema.org/a/iV8cG7hJOBBRWmVLjeZ1Col92\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\nRun `vd` on a directory or open a frequency sheet.\r\n\r\n**Additional context**\r\nPlease include the version of VisiData.  Latest develop.\r\n\r\nThere was already a good discussion on the guide on https://github.com/saulpw/visidata/discussions/1733, so putting this in a specific bug.\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1786/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1786/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1780", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1780/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1780/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1780/events", "html_url": "https://github.com/saulpw/visidata/issues/1780", "id": 1606472053, "node_id": "I_kwDOBEu2Gc5fwNF1", "number": 1780, "title": "[undo-last] Undo is global, but I feel that undo steps should be per Sheet", "user": {"login": "geekscrapy", "id": 11225502, "node_id": "MDQ6VXNlcjExMjI1NTAy", "avatar_url": "https://avatars.githubusercontent.com/u/11225502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geekscrapy", "html_url": "https://github.com/geekscrapy", "followers_url": "https://api.github.com/users/geekscrapy/followers", "following_url": "https://api.github.com/users/geekscrapy/following{/other_user}", "gists_url": "https://api.github.com/users/geekscrapy/gists{/gist_id}", "starred_url": "https://api.github.com/users/geekscrapy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geekscrapy/subscriptions", "organizations_url": "https://api.github.com/users/geekscrapy/orgs", "repos_url": "https://api.github.com/users/geekscrapy/repos", "events_url": "https://api.github.com/users/geekscrapy/events{/privacy}", "received_events_url": "https://api.github.com/users/geekscrapy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-03-02T09:45:51Z", "updated_at": "2023-03-04T00:04:35Z", "closed_at": "2023-03-04T00:04:10Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nOpening a new sub Sheet, make some edits, then close it and go back to the old sheet, I sometimes want to undo something that I previously did on the original sheet. However, if I use `undo-last` the undo steps are replayed from the sub Sheet.\r\n\r\n**Expected result**\r\nTo be able to `undo-last` as per the action for the current sheet.\r\n\r\nThere are 2 types of behaviour I have seen:\r\n1. The undo action applies to the sheet on which thee action was taken, but this could be a currently hidden/not currently shown sheet\r\n2. If the previous sheet is closed, the previous sheets actions are attempted to be replayed to the now, new sheet which probably doesn't make sense\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n1. `# ls -l | vd -f txt`\r\n3. stoggle-rows\r\n4. dup-selected\r\n5. sort-asc\r\n6. sort-desc\r\n7. jump-prev\r\n8. undo-last\r\n9. Note that the undo action is applied, but to the _now_ hidden sheet\r\n\r\n**Additional context**\r\nv2.12dev", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1780/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1780/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1778", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1778/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1778/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1778/events", "html_url": "https://github.com/saulpw/visidata/issues/1778", "id": 1606336007, "node_id": "I_kwDOBEu2Gc5fvr4H", "number": 1778, "title": "[capture-col] When nothing is captured, \"IndexError: list index out of range\" is thrown", "user": {"login": "geekscrapy", "id": 11225502, "node_id": "MDQ6VXNlcjExMjI1NTAy", "avatar_url": "https://avatars.githubusercontent.com/u/11225502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geekscrapy", "html_url": "https://github.com/geekscrapy", "followers_url": "https://api.github.com/users/geekscrapy/followers", "following_url": "https://api.github.com/users/geekscrapy/following{/other_user}", "gists_url": "https://api.github.com/users/geekscrapy/gists{/gist_id}", "starred_url": "https://api.github.com/users/geekscrapy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geekscrapy/subscriptions", "organizations_url": "https://api.github.com/users/geekscrapy/orgs", "repos_url": "https://api.github.com/users/geekscrapy/repos", "events_url": "https://api.github.com/users/geekscrapy/events{/privacy}", "received_events_url": "https://api.github.com/users/geekscrapy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "anjakefala", "id": 7489659, "node_id": "MDQ6VXNlcjc0ODk2NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/7489659?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anjakefala", "html_url": "https://github.com/anjakefala", "followers_url": "https://api.github.com/users/anjakefala/followers", "following_url": "https://api.github.com/users/anjakefala/following{/other_user}", "gists_url": "https://api.github.com/users/anjakefala/gists{/gist_id}", "starred_url": "https://api.github.com/users/anjakefala/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anjakefala/subscriptions", "organizations_url": "https://api.github.com/users/anjakefala/orgs", "repos_url": "https://api.github.com/users/anjakefala/repos", "events_url": "https://api.github.com/users/anjakefala/events{/privacy}", "received_events_url": "https://api.github.com/users/anjakefala/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "anjakefala", "id": 7489659, "node_id": "MDQ6VXNlcjc0ODk2NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/7489659?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anjakefala", "html_url": "https://github.com/anjakefala", "followers_url": "https://api.github.com/users/anjakefala/followers", "following_url": "https://api.github.com/users/anjakefala/following{/other_user}", "gists_url": "https://api.github.com/users/anjakefala/gists{/gist_id}", "starred_url": "https://api.github.com/users/anjakefala/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anjakefala/subscriptions", "organizations_url": "https://api.github.com/users/anjakefala/orgs", "repos_url": "https://api.github.com/users/anjakefala/repos", "events_url": "https://api.github.com/users/anjakefala/events{/privacy}", "received_events_url": "https://api.github.com/users/anjakefala/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2023-03-02T08:34:29Z", "updated_at": "2023-03-11T17:16:28Z", "closed_at": "2023-03-04T06:11:02Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "_Minor user exp bug_\r\n\r\n**Small description**\r\nWhen using `capture-col` on a column and the regex does not capture any values, the below error is thrown. No new column is created (as expected)\r\n\r\n**Expected result**\r\nJust to show the \"no columns to add\" error. Preferably, change the error to something more informative such as \"no matches found, didn't add column\"\r\n\r\n**Actual result with screenshot**\r\n```\r\nTraceback (most recent call last):\r\n  File \"/Users/geekscrapy7/lib/python3.7/site-packages/visidata/threads.py\", line 200, in _toplevelTryFunc\r\n    t.status = func(*args, **kwargs)\r\n  File \"/Users/geekscrapy7/lib/python3.7/site-packages/visidata/features/regex.py\", line 77, in addRegexColumns\r\n    vs.addColumnAtCursor(*cols.values())\r\n  File \"/Users/geekscrapy7/lib/python3.7/site-packages/visidata/sheets.py\", line 473, in addColumnAtCursor\r\n    firstnewcol = [c for c in cols if not c.hidden][0]\r\nIndexError: list index out of range\r\n```\r\nI presume this error is from an insufficient catch of an exception and it is attempting to create the column even though there are no groups to show.\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n`# echo -e 'helloooo\\nthere' | vd -f txt --config=/dev/null --visidata_dir=/dev/null`\r\n\r\n```tsv\r\nsheet\tcol\trow\tlongname\tinput\tkeystrokes\tcomment\r\n-\ttext\t\tcapture-col\t(ABC)\t;\tadd new column from capture groups of regex; requires example row\r\n```\r\n\r\n**Additional context**\r\nv2.12dev", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1778/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1778/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1777", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1777/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1777/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1777/events", "html_url": "https://github.com/saulpw/visidata/issues/1777", "id": 1605001125, "node_id": "I_kwDOBEu2Gc5fql-l", "number": 1777, "title": "[FreqSheet] When diving into rows from a FreqSheet, the name is m_a_n_g_l_e_d", "user": {"login": "geekscrapy", "id": 11225502, "node_id": "MDQ6VXNlcjExMjI1NTAy", "avatar_url": "https://avatars.githubusercontent.com/u/11225502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geekscrapy", "html_url": "https://github.com/geekscrapy", "followers_url": "https://api.github.com/users/geekscrapy/followers", "following_url": "https://api.github.com/users/geekscrapy/following{/other_user}", "gists_url": "https://api.github.com/users/geekscrapy/gists{/gist_id}", "starred_url": "https://api.github.com/users/geekscrapy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geekscrapy/subscriptions", "organizations_url": "https://api.github.com/users/geekscrapy/orgs", "repos_url": "https://api.github.com/users/geekscrapy/repos", "events_url": "https://api.github.com/users/geekscrapy/events{/privacy}", "received_events_url": "https://api.github.com/users/geekscrapy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-03-01T13:44:31Z", "updated_at": "2023-03-03T06:52:42Z", "closed_at": "2023-03-03T03:58:47Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nAs per description\r\n\r\n**Expected result**\r\nName should be normal string\r\n\r\n**Actual result with screenshot**\r\n![split rec](https://user-images.githubusercontent.com/11225502/222155606-de6e83f4-01ce-4c8d-9d05-1086d1208ae3.gif)\r\nWhen diving into the def row, note the new sheet name is `d_e_f` instead of `def`\r\n\r\nI haven't looked, but I presume this is due to the Freq'd row name to be give to the new sheet and it is expecting a list of names, and since a string can be a list it just takes that and joins it with the join char.", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1777/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1777/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1773", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1773/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1773/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1773/events", "html_url": "https://github.com/saulpw/visidata/issues/1773", "id": 1603583192, "node_id": "I_kwDOBEu2Gc5flLzY", "number": 1773, "title": "Unable to replay commandlog when loading an HTML table", "user": {"login": "mokalan", "id": 64436128, "node_id": "MDQ6VXNlcjY0NDM2MTI4", "avatar_url": "https://avatars.githubusercontent.com/u/64436128?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mokalan", "html_url": "https://github.com/mokalan", "followers_url": "https://api.github.com/users/mokalan/followers", "following_url": "https://api.github.com/users/mokalan/following{/other_user}", "gists_url": "https://api.github.com/users/mokalan/gists{/gist_id}", "starred_url": "https://api.github.com/users/mokalan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mokalan/subscriptions", "organizations_url": "https://api.github.com/users/mokalan/orgs", "repos_url": "https://api.github.com/users/mokalan/repos", "events_url": "https://api.github.com/users/mokalan/events{/privacy}", "received_events_url": "https://api.github.com/users/mokalan/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2023-02-28T18:15:28Z", "updated_at": "2023-03-04T02:24:28Z", "closed_at": "2023-03-04T02:24:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Small description**\r\nAfter saving the commandlog, it's not possible to replay it\r\n\r\n**Expected result**\r\nopen the row and get the HTML table\r\n\r\n**Actual result with screenshot**\r\n![image](https://user-images.githubusercontent.com/64436128/221941537-45fdecaf-9eee-4d43-8be3-74000fefc09b.png)\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n1. Open the attached HTML\r\n2. Shift-D and save the commandlog\r\n3. Try to replay `vd -p table_0_cmdlog.vdj table.html`\r\n4. Get the error as in the screenshot\r\n\r\n**Additional context**\r\n- +: syntax works ok `vd table.html +:table_0:0:0`\r\n- Latest develop branch\r\n\r\n[table.html.gz](https://github.com/saulpw/visidata/files/10853404/table.html.gz)\r\n[table_0_cmdlog.vdj.gz](https://github.com/saulpw/visidata/files/10853492/table_0_cmdlog.vdj.gz)\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1773/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1773/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1772", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1772/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1772/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1772/events", "html_url": "https://github.com/saulpw/visidata/issues/1772", "id": 1602911136, "node_id": "I_kwDOBEu2Gc5finug", "number": 1772, "title": "save json files in utf-8", "user": {"login": "joaosousa1", "id": 17253373, "node_id": "MDQ6VXNlcjE3MjUzMzcz", "avatar_url": "https://avatars.githubusercontent.com/u/17253373?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joaosousa1", "html_url": "https://github.com/joaosousa1", "followers_url": "https://api.github.com/users/joaosousa1/followers", "following_url": "https://api.github.com/users/joaosousa1/following{/other_user}", "gists_url": "https://api.github.com/users/joaosousa1/gists{/gist_id}", "starred_url": "https://api.github.com/users/joaosousa1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joaosousa1/subscriptions", "organizations_url": "https://api.github.com/users/joaosousa1/orgs", "repos_url": "https://api.github.com/users/joaosousa1/repos", "events_url": "https://api.github.com/users/joaosousa1/events{/privacy}", "received_events_url": "https://api.github.com/users/joaosousa1/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-02-28T11:56:54Z", "updated_at": "2023-03-02T01:25:46Z", "closed_at": "2023-03-01T23:51:41Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "When i open and save a JSON file with utf-8 encode, the Visitata insists on saving the file to us-ascii encode.\r\n\r\nI check the \"default option values applying to every sheet\"\r\nThe default encoding is utf-8\r\n\r\nWhen I open the file in another editor, words like \"Ol\u00e1\" result in ascii encode like \"Ol\\u00e1\".  Visidata save the file in us-ascii encode.\r\n\r\nI tested the \"visidata.vd.options.set('encoding', 'utf-8', obj='global')\" option in .visidatarc and have the same results. \r\n\r\nVisidata v2.11 (installed via pip3)\r\nPython v3.10.6\r\nUbuntu 22.04 LTS\r\nMy system locale is LANG=pt_PT.UTF-8\r\n\r\nobs: I tested the version v2.2.1 from ubuntu repo and have same results.", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1772/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1772/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1771", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1771/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1771/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1771/events", "html_url": "https://github.com/saulpw/visidata/issues/1771", "id": 1602744335, "node_id": "I_kwDOBEu2Gc5fh_AP", "number": 1771, "title": "[disp_sidebar_fmt] Cannot disable side bar", "user": {"login": "geekscrapy", "id": 11225502, "node_id": "MDQ6VXNlcjExMjI1NTAy", "avatar_url": "https://avatars.githubusercontent.com/u/11225502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geekscrapy", "html_url": "https://github.com/geekscrapy", "followers_url": "https://api.github.com/users/geekscrapy/followers", "following_url": "https://api.github.com/users/geekscrapy/following{/other_user}", "gists_url": "https://api.github.com/users/geekscrapy/gists{/gist_id}", "starred_url": "https://api.github.com/users/geekscrapy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geekscrapy/subscriptions", "organizations_url": "https://api.github.com/users/geekscrapy/orgs", "repos_url": "https://api.github.com/users/geekscrapy/repos", "events_url": "https://api.github.com/users/geekscrapy/events{/privacy}", "received_events_url": "https://api.github.com/users/geekscrapy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2023-02-28T10:14:30Z", "updated_at": "2023-03-03T04:00:25Z", "closed_at": "2023-03-03T04:00:19Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nI just tried to disable the sidebar as it was obscuring some data, but it doesn't seem to set the value to `None`.\r\n\r\n**Expected result**\r\nTo set the `disp_sidebar_fmt` to `None` in the options window\r\n\r\n**Actual result with screenshot**\r\n![image](https://user-images.githubusercontent.com/11225502/221823883-fc3b91a8-caaa-4375-a941-76331337ee43.png)\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\nUse latest version (`@develop`) and  press `b`\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1771/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1771/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1768", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1768/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1768/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1768/events", "html_url": "https://github.com/saulpw/visidata/issues/1768", "id": 1601799562, "node_id": "I_kwDOBEu2Gc5feYWK", "number": 1768, "title": "[save_filetype] when save_filetype is set, you cannot gY as any other filetype on the DirSheet", "user": {"login": "geekscrapy", "id": 11225502, "node_id": "MDQ6VXNlcjExMjI1NTAy", "avatar_url": "https://avatars.githubusercontent.com/u/11225502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geekscrapy", "html_url": "https://github.com/geekscrapy", "followers_url": "https://api.github.com/users/geekscrapy/followers", "following_url": "https://api.github.com/users/geekscrapy/following{/other_user}", "gists_url": "https://api.github.com/users/geekscrapy/gists{/gist_id}", "starred_url": "https://api.github.com/users/geekscrapy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geekscrapy/subscriptions", "organizations_url": "https://api.github.com/users/geekscrapy/orgs", "repos_url": "https://api.github.com/users/geekscrapy/repos", "events_url": "https://api.github.com/users/geekscrapy/events{/privacy}", "received_events_url": "https://api.github.com/users/geekscrapy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 15, "created_at": "2023-02-27T19:17:42Z", "updated_at": "2023-03-01T06:10:42Z", "closed_at": "2023-03-01T00:22:48Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nI use `options.save_filetype = 'jsonl'` in my `.visidatarc`. I use this to set my default save type. However, sometimes I like to copy rows out as different file types, csv, fixed etc. and so I press gY and provide [e.g.] `copy 19 rows as filetype: fixed` but the response I get back is `\"fixed\" \u2502 copying 19 rows to system clipboard as fixed \u2502 saving 1 sheets to .fixed as jsonl` and the rows that are copied are in fact `jsonl`.\r\n\r\n**Expected result**\r\nTo be able to set `options.save_filetype` and this be provided as the default option when copying and/or saving, however be able to save as different filetypes on-the-fly (as expected).\r\n\r\n**Actual result with screenshot**\r\nShown above\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n\r\n1. Set `options.save_filetype = 'jsonl'` in `.visidatarc`\r\n2. open a ~~file~~ directory (DirSheet) _< edited 2023-03-01_\r\n3. Select some rows\r\n4. Press `gY` (`syscopy-selected`)\r\n5. enter \"fixed\"\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1768/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1768/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1764", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1764/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1764/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1764/events", "html_url": "https://github.com/saulpw/visidata/issues/1764", "id": 1600462124, "node_id": "I_kwDOBEu2Gc5fZR0s", "number": 1764, "title": "[gzd] Cell delete on calculated column throws error", "user": {"login": "geekscrapy", "id": 11225502, "node_id": "MDQ6VXNlcjExMjI1NTAy", "avatar_url": "https://avatars.githubusercontent.com/u/11225502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geekscrapy", "html_url": "https://github.com/geekscrapy", "followers_url": "https://api.github.com/users/geekscrapy/followers", "following_url": "https://api.github.com/users/geekscrapy/following{/other_user}", "gists_url": "https://api.github.com/users/geekscrapy/gists{/gist_id}", "starred_url": "https://api.github.com/users/geekscrapy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geekscrapy/subscriptions", "organizations_url": "https://api.github.com/users/geekscrapy/orgs", "repos_url": "https://api.github.com/users/geekscrapy/repos", "events_url": "https://api.github.com/users/geekscrapy/events{/privacy}", "received_events_url": "https://api.github.com/users/geekscrapy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}, {"id": 2237539092, "node_id": "MDU6TGFiZWwyMjM3NTM5MDky", "url": "https://api.github.com/repos/saulpw/visidata/labels/By%20Design", "name": "By Design", "color": "f9898f", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2023-02-27T04:41:54Z", "updated_at": "2023-02-27T23:00:04Z", "closed_at": "2023-02-27T22:59:11Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nWhen creating a column from `=` you cannot delete a cell value and the following \"odd\" error is set in the status bar.\r\n\r\n`[4x] 1 calced 1 not None`\r\n\r\n**Expected result**\r\nTo be able to delete the cell values\r\n\r\n**Actual result with screenshot**\r\n```\r\nTraceback (most recent call last):\r\n  File \"/Users/geekscrapy/python37/lib/python3.7/site-packages/visidata/column.py\", line 405, in setValueSafe\r\n    return self.setValue(row, value)\r\n  File \"/Users/geekscrapy/python37/lib/python3.7/site-packages/visidata/column.py\", line 399, in setValue\r\n    self.putValue(row, val)\r\n  File \"/Users/geekscrapy/python37/lib/python3.7/site-packages/visidata/column.py\", line 392, in putValue\r\n    return self.setter(self, row, val)\r\n  File \"/Users/geekscrapy/python37/lib/python3.7/site-packages/visidata/shell.py\", line 94, in <lambda>\r\n    setter=lambda col,row,val: os.truncate(row, int(val))),\r\nTypeError: int() argument must be a string, a bytes-like object or a number, not 'NoneType'\r\n```\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n```bash\r\n# touch 1 2 3\r\n# vd .\r\n```\r\n\r\n```vdj\r\n#!vd -p\r\n{\"longname\": \"open-file\", \"input\": \".\", \"keystrokes\": \"o\"}\r\n{\"sheet\": \"\", \"col\": \"modtime\", \"row\": \"\", \"longname\": \"addcol-expr\", \"input\": \"1\", \"keystrokes\": \"=\", \"comment\": \"create new column from Python expression, with column names as variables\"}\r\n{\"sheet\": \"\", \"col\": \"\", \"row\": \"\\u30ad.,3\", \"longname\": \"stoggle-row\", \"input\": \"\", \"keystrokes\": \"t\", \"comment\": \"toggle selection of current row\"}\r\n{\"sheet\": \"\", \"col\": \"\", \"row\": \"\\u30ad.,2\", \"longname\": \"stoggle-row\", \"input\": \"\", \"keystrokes\": \"t\", \"comment\": \"toggle selection of current row\"}\r\n{\"sheet\": \"\", \"col\": \"1\", \"row\": \"\", \"longname\": \"delete-cells\", \"input\": \"\", \"keystrokes\": \"gzd\", \"comment\": \"delete contents of current column for selected rows (set to None)\"}\r\n```\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1764/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1764/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1759", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1759/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1759/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1759/events", "html_url": "https://github.com/saulpw/visidata/issues/1759", "id": 1599790671, "node_id": "I_kwDOBEu2Gc5fWt5P", "number": 1759, "title": "[develop] failure reading data from a pipe", "user": {"login": "midichef", "id": 67946319, "node_id": "MDQ6VXNlcjY3OTQ2MzE5", "avatar_url": "https://avatars.githubusercontent.com/u/67946319?v=4", "gravatar_id": "", "url": "https://api.github.com/users/midichef", "html_url": "https://github.com/midichef", "followers_url": "https://api.github.com/users/midichef/followers", "following_url": "https://api.github.com/users/midichef/following{/other_user}", "gists_url": "https://api.github.com/users/midichef/gists{/gist_id}", "starred_url": "https://api.github.com/users/midichef/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/midichef/subscriptions", "organizations_url": "https://api.github.com/users/midichef/orgs", "repos_url": "https://api.github.com/users/midichef/repos", "events_url": "https://api.github.com/users/midichef/events{/privacy}", "received_events_url": "https://api.github.com/users/midichef/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2023-02-25T18:24:40Z", "updated_at": "2023-03-04T20:41:51Z", "closed_at": "2023-03-04T09:22:07Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nWhen reading from a pipe, the file guessing code breaks.\r\n\r\n**Actual result with screenshot**\r\n```StopIteration: \r\nValueError: I/O operation on closed file\r\nValueError: I/O operation on closed file\r\nValueError: I/O operation on closed file\r\nunknown \"\" filetype\r\nopening - as txt\r\nTraceback (most recent call last):\r\n  File \"/home/midichef/.local/lib/python3.10/site-packages/visidata/_open.py\", line 48, in guessFiletype\r\n    filetype = f(p)\r\n  File \"/home/midichef/.local/lib/python3.10/site-packages/visidata/loaders/archive.py\", line 13, in guess_zip\r\n    if not p.is_url() and zipfile.is_zipfile(p.open_bytes()):\r\n  File \"/home/midichef/.local/lib/python3.10/site-packages/visidata/path.py\", line 275, in open_bytes\r\n    return self.open(mode=mode)\r\n  File \"/home/midichef/.local/lib/python3.10/site-packages/visidata/path.py\", line 245, in open\r\n    return FileProgress(self, fp=BytesIOWrapper(self.fptext), **kwargs)\r\n  File \"/home/midichef/.local/lib/python3.10/site-packages/visidata/path.py\", line 40, in __init__\r\n    super(BytesIOWrapper, self).__init__(text_io_buffer, **kwargs)\r\n```\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n`echo \"a\" |vd`\r\n\r\n**Additional context**\r\nsaul.pw/VisiData v2.12dev\r\nUbuntu 22.04.2", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1759/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1759/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1748", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1748/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1748/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1748/events", "html_url": "https://github.com/saulpw/visidata/issues/1748", "id": 1590952918, "node_id": "I_kwDOBEu2Gc5e1APW", "number": 1748, "title": "[develop] cannot install via pip", "user": {"login": "midichef", "id": 67946319, "node_id": "MDQ6VXNlcjY3OTQ2MzE5", "avatar_url": "https://avatars.githubusercontent.com/u/67946319?v=4", "gravatar_id": "", "url": "https://api.github.com/users/midichef", "html_url": "https://github.com/midichef", "followers_url": "https://api.github.com/users/midichef/followers", "following_url": "https://api.github.com/users/midichef/following{/other_user}", "gists_url": "https://api.github.com/users/midichef/gists{/gist_id}", "starred_url": "https://api.github.com/users/midichef/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/midichef/subscriptions", "organizations_url": "https://api.github.com/users/midichef/orgs", "repos_url": "https://api.github.com/users/midichef/repos", "events_url": "https://api.github.com/users/midichef/events{/privacy}", "received_events_url": "https://api.github.com/users/midichef/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-02-20T01:18:02Z", "updated_at": "2023-02-20T06:11:45Z", "closed_at": "2023-02-20T06:08:34Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nAttempting to install with pip fails, due to vdplus/.gitmodules\r\n\r\n**Expected result**\r\nSuccessful installation, as with `pip install git+https://github.com/saulpw/visidata@v2.11`\r\n\r\n**Actual result with screenshot**\r\n```pip install git+https://github.com/saulpw/visidata@develop\r\nDefaulting to user installation because normal site-packages is not writeable\r\nCollecting git+https://github.com/saulpw/visidata@develop\r\n  Cloning https://github.com/saulpw/visidata (to revision develop) to /tmp/pip-req-build-nlgivmiq\r\n  Running command git clone --filter=blob:none --quiet https://github.com/saulpw/visidata /tmp/pip-req-build-nlgivmiq\r\n  Resolved https://github.com/saulpw/visidata to commit 30f71a9fe81d7bbc23c692d17ec46bb29667287d\r\n  Running command git submodule update --init --recursive -q\r\n  fatal: No url found for submodule path 'vdplus/requests-cache' in .gitmodules\r\n  error: subprocess-exited-with-error\r\n  \r\n  \u00d7 git submodule update --init --recursive -q did not run successfully.\r\n  \u2502 exit code: 128\r\n  \u2570\u2500> See above for output.\r\n```\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n`pip install git+https://github.com/saulpw/visidata@develop`\r\n\r\n**Additional context**\r\nv2.12dev\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1748/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1748/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1736", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1736/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1736/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1736/events", "html_url": "https://github.com/saulpw/visidata/issues/1736", "id": 1588481338, "node_id": "I_kwDOBEu2Gc5erk06", "number": 1736, "title": "[left sidebar] Sheet list sidebar doesn't go away", "user": {"login": "frosencrantz", "id": 631242, "node_id": "MDQ6VXNlcjYzMTI0Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/631242?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frosencrantz", "html_url": "https://github.com/frosencrantz", "followers_url": "https://api.github.com/users/frosencrantz/followers", "following_url": "https://api.github.com/users/frosencrantz/following{/other_user}", "gists_url": "https://api.github.com/users/frosencrantz/gists{/gist_id}", "starred_url": "https://api.github.com/users/frosencrantz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frosencrantz/subscriptions", "organizations_url": "https://api.github.com/users/frosencrantz/orgs", "repos_url": "https://api.github.com/users/frosencrantz/repos", "events_url": "https://api.github.com/users/frosencrantz/events{/privacy}", "received_events_url": "https://api.github.com/users/frosencrantz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2023-02-16T22:53:08Z", "updated_at": "2023-02-27T23:37:05Z", "closed_at": "2023-02-27T23:36:57Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nSheet list sidebar doesn't go away, and hides data in bottom part of screen\r\n\r\n**Expected result**\r\nSidebar goes away or doesn't block data.  The regular sidebar does disappear after I start to use keyboard commands.\r\n\r\n**Actual result with screenshot**\r\nhttps://asciinema.org/a/ie1wMYMHkXixZW6zyXS945x97\r\nhttps://asciinema.org/a/ccuPKQVCClC44YVCqK0AghB90\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\nGo to FreqTableSheet and see sheet names listed in a stack on the left of the screen.\r\n\r\n**Additional context**\r\nPlease include the version of VisiData. Latest develop branch\r\n\r\n@saulpw not sure if you want this feedback here or on the discussion thread.  I like that this is trying to give more context.\r\nI would personally be ok with a second status line showing these values with some sort of separator.\r\nAlso, notice in the second [screnshot](https://asciinema.org/a/ccuPKQVCClC44YVCqK0AghB90) that the sheet name by diving on a row from the FreqTableSheet has a bunch of undescores between the names `sample_data_s_a_m_p_l_e___d_a_t_a_/_`.  And try doing quiting that sheet, and diving into the rows again.", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1736/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1736/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1735", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1735/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1735/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1735/events", "html_url": "https://github.com/saulpw/visidata/issues/1735", "id": 1585592573, "node_id": "I_kwDOBEu2Gc5egjj9", "number": 1735, "title": "[docs] Broken link to color docs", "user": {"login": "daviewales", "id": 2499066, "node_id": "MDQ6VXNlcjI0OTkwNjY=", "avatar_url": "https://avatars.githubusercontent.com/u/2499066?v=4", "gravatar_id": "", "url": "https://api.github.com/users/daviewales", "html_url": "https://github.com/daviewales", "followers_url": "https://api.github.com/users/daviewales/followers", "following_url": "https://api.github.com/users/daviewales/following{/other_user}", "gists_url": "https://api.github.com/users/daviewales/gists{/gist_id}", "starred_url": "https://api.github.com/users/daviewales/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/daviewales/subscriptions", "organizations_url": "https://api.github.com/users/daviewales/orgs", "repos_url": "https://api.github.com/users/daviewales/repos", "events_url": "https://api.github.com/users/daviewales/events{/privacy}", "received_events_url": "https://api.github.com/users/daviewales/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-02-15T10:19:56Z", "updated_at": "2023-03-04T06:59:08Z", "closed_at": "2023-03-04T06:59:08Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\n\r\nThis section of the docs:\r\nhttps://www.visidata.org/docs/api/interface#colors\r\n\r\nLinks to this page:\r\nhttps://www.visidata.org/docs/colors\r\n\r\nBut it does not exist!\r\n\r\n<img width=\"179\" alt=\"Screen Shot 2023-02-15 at 9 17 41 pm\" src=\"https://user-images.githubusercontent.com/2499066/218999835-18da65eb-da59-4db4-8b4c-8ff09dc902f3.png\">\r\n\r\n**Expected result**\r\n\r\nThe link would exist.\r\n\r\n**Actual result with screenshot**\r\n\r\n404\r\n\r\n<img width=\"344\" alt=\"Screen Shot 2023-02-15 at 9 18 54 pm\" src=\"https://user-images.githubusercontent.com/2499066/219000115-b02341cc-7a92-4ff2-ba88-3bd17fa4d088.png\">\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1735/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1735/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1728", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1728/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1728/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1728/events", "html_url": "https://github.com/saulpw/visidata/issues/1728", "id": 1575228891, "node_id": "I_kwDOBEu2Gc5d5BXb", "number": 1728, "title": "getMaxWidth() is slow for for columns of large collections", "user": {"login": "midichef", "id": 67946319, "node_id": "MDQ6VXNlcjY3OTQ2MzE5", "avatar_url": "https://avatars.githubusercontent.com/u/67946319?v=4", "gravatar_id": "", "url": "https://api.github.com/users/midichef", "html_url": "https://github.com/midichef", "followers_url": "https://api.github.com/users/midichef/followers", "following_url": "https://api.github.com/users/midichef/following{/other_user}", "gists_url": "https://api.github.com/users/midichef/gists{/gist_id}", "starred_url": "https://api.github.com/users/midichef/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/midichef/subscriptions", "organizations_url": "https://api.github.com/users/midichef/orgs", "repos_url": "https://api.github.com/users/midichef/repos", "events_url": "https://api.github.com/users/midichef/events{/privacy}", "received_events_url": "https://api.github.com/users/midichef/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2023-02-08T00:10:37Z", "updated_at": "2023-02-22T07:41:03Z", "closed_at": "2023-02-22T07:41:03Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nFor JSON files with long lists or dictionaries, visidata is slow to open, and `go-rightmost` is slow, because `getMaxWidth()` is slow.\r\n\r\n`getMaxWidth()` has a few problems:\r\n1) It can return widths larger than the current window.\r\n2) When there are no rows, the header column width does not get +2 added.\r\n3) It's slow when the column holds many lists or dictionaries that are written as a wide string.\r\nTo see this, run\r\n`python -c 'nrows=1000;ncols=100;cell_len=300; cell = [\"_\"*cell_len];  data = [ { f\"col{i}\":cell for i in range(ncols) } for _ in range(nrows) ]; import json; print(json.dumps(data))' |vd -f json`\r\nVisidata is slow to start, because it runs `getMaxWidth()` for the columns on screen.\r\nThen execute `go-rightmost`, which runs `getMaxWidth()` once for every column that is offscreen.\r\n\r\nI've got a chain of fixes that addresses these problems. https://github.com/midichef/visidata/compare/169d22a7c55f77691b37ac6b3b68e5dde6853a93...4fa24ed4154b7f6f43f01d4d3a4319cf95f6d771\r\n\r\nFor very wide columns of data, the running time is O(nrows\\*ncols\\*cell_len). With this fix it drops to O(1*ncols\\*cell_len). Visidata becomes noticeably faster at opening JSON files with large dictionaries.\r\n\r\n**Additional context**\r\nsaul.pw/VisiData v2.11", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1728/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1728/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1727", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1727/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1727/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1727/events", "html_url": "https://github.com/saulpw/visidata/issues/1727", "id": 1573690939, "node_id": "I_kwDOBEu2Gc5dzJ47", "number": 1727, "title": "Copying and pasting a row ignores values from manually added columns", "user": {"login": "daviewales", "id": 2499066, "node_id": "MDQ6VXNlcjI0OTkwNjY=", "avatar_url": "https://avatars.githubusercontent.com/u/2499066?v=4", "gravatar_id": "", "url": "https://api.github.com/users/daviewales", "html_url": "https://github.com/daviewales", "followers_url": "https://api.github.com/users/daviewales/followers", "following_url": "https://api.github.com/users/daviewales/following{/other_user}", "gists_url": "https://api.github.com/users/daviewales/gists{/gist_id}", "starred_url": "https://api.github.com/users/daviewales/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/daviewales/subscriptions", "organizations_url": "https://api.github.com/users/daviewales/orgs", "repos_url": "https://api.github.com/users/daviewales/repos", "events_url": "https://api.github.com/users/daviewales/events{/privacy}", "received_events_url": "https://api.github.com/users/daviewales/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2235434034, "node_id": "MDU6TGFiZWwyMjM1NDM0MDM0", "url": "https://api.github.com/repos/saulpw/visidata/labels/Limitation", "name": "Limitation", "color": "f0f984", "default": false, "description": "expected by design, if unfortunate"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2023-02-07T05:02:37Z", "updated_at": "2023-02-10T21:24:10Z", "closed_at": "2023-02-10T21:24:10Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\n\r\nIf I create a new column within Visidata (`za` or even the default new column from `Shift+A`), enter a value, then yank `y` and paste `p`, the pasted value for that column is null.\r\n\r\n**Expected result**\r\n\r\nThe pasted row would be the same as the yanked row.\r\n\r\n**Actual result with screenshot**\r\n![image](https://user-images.githubusercontent.com/2499066/217152420-fe325b31-4988-47d6-bb64-fed264eb90ac.png)\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n[copy-paste-row.vdj.zip](https://github.com/saulpw/visidata/files/10671676/copy-paste-row.vdj.zip)\r\n\r\n**Additional context**\r\nPlease include the version of VisiData.\r\nv2.11", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1727/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1727/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1726", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1726/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1726/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1726/events", "html_url": "https://github.com/saulpw/visidata/issues/1726", "id": 1573536301, "node_id": "I_kwDOBEu2Gc5dykIt", "number": 1726, "title": "Saving an empty table (heads only) as JSONL produces an empty file", "user": {"login": "daviewales", "id": 2499066, "node_id": "MDQ6VXNlcjI0OTkwNjY=", "avatar_url": "https://avatars.githubusercontent.com/u/2499066?v=4", "gravatar_id": "", "url": "https://api.github.com/users/daviewales", "html_url": "https://github.com/daviewales", "followers_url": "https://api.github.com/users/daviewales/followers", "following_url": "https://api.github.com/users/daviewales/following{/other_user}", "gists_url": "https://api.github.com/users/daviewales/gists{/gist_id}", "starred_url": "https://api.github.com/users/daviewales/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/daviewales/subscriptions", "organizations_url": "https://api.github.com/users/daviewales/orgs", "repos_url": "https://api.github.com/users/daviewales/repos", "events_url": "https://api.github.com/users/daviewales/events{/privacy}", "received_events_url": "https://api.github.com/users/daviewales/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 22, "created_at": "2023-02-07T01:31:45Z", "updated_at": "2023-03-15T21:47:13Z", "closed_at": "2023-03-15T21:36:39Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\n\r\nSaving an empty table with headers but no data as JSONL produces an empty file.\r\n\r\n**Expected result**\r\n\r\nA JSONL file including the headers.\r\n(Compare to the output when saving a TSV)\r\n\r\n**Actual result with screenshot**\r\nIf you get an unexpected error, please include the full stack trace that you get with `Ctrl-E`.\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n[test.vdj.zip](https://github.com/saulpw/visidata/files/10670604/test.vdj.zip)\r\n\r\nCreate a table directly in Visidata and save it as `.jsonl`.\r\nThe output file is empty.\r\n\r\n**Additional context**\r\nPlease include the version of VisiData.\r\nv2.11", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1726/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1726/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1714", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1714/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1714/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1714/events", "html_url": "https://github.com/saulpw/visidata/issues/1714", "id": 1567836589, "node_id": "I_kwDOBEu2Gc5dc0mt", "number": 1714, "title": "Replay of command log aborts erratically", "user": {"login": "tdussa", "id": 6197517, "node_id": "MDQ6VXNlcjYxOTc1MTc=", "avatar_url": "https://avatars.githubusercontent.com/u/6197517?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tdussa", "html_url": "https://github.com/tdussa", "followers_url": "https://api.github.com/users/tdussa/followers", "following_url": "https://api.github.com/users/tdussa/following{/other_user}", "gists_url": "https://api.github.com/users/tdussa/gists{/gist_id}", "starred_url": "https://api.github.com/users/tdussa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tdussa/subscriptions", "organizations_url": "https://api.github.com/users/tdussa/orgs", "repos_url": "https://api.github.com/users/tdussa/repos", "events_url": "https://api.github.com/users/tdussa/events{/privacy}", "received_events_url": "https://api.github.com/users/tdussa/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2023-02-02T11:11:54Z", "updated_at": "2023-03-03T07:11:09Z", "closed_at": "2023-03-03T07:11:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Small description**\r\n\r\nWhen replaying a (probably fairly long) command log file against a (probably fairly extensive) data set, VisiData encourters errors sporadically and non-reproducably, triggering the replay to be aborted.  Interestingly, this does not seem to be a problem if the same command log file is run in batch mode (with the `-b` command-line switch).\r\n\r\nEvery once in a while, the replay _does_ run through completely.\r\n\r\n**Expected result**\r\n\r\nA reliable and reproducable replay of the command log.\r\n\r\n**Actual result with screenshot**\r\n\r\nThe actual errors vary from call to call, but are generally of the nature `no sheet named XXX` or `no \"YYY\" column`.  A screenshot and stack trace of an example run are attached.\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n\r\nSee attached files (I had to zip up the command log file because `.vd` files are not accepted for upload); replaying the command log with\r\n```\r\nvd -p Sample_command_log.vd\r\n```\r\nis unreliable, while replaying it with\r\n```\r\nvd -b -p Sample_command_log.vd -o Sample_data.tsv\r\n```\r\nworks just fine.\r\n\r\n**Additional context**\r\n\r\nUsing VisiData version 2.11 at the moment, though this problem has been around ever since I started using VisiData about a year ago.  Also, this problem exists on all of the machines I have tried so far (four different sets of hardware).\r\n\r\n[Sample_command_log.vd.zip](https://github.com/saulpw/visidata/files/10568236/Sample_command_log.vd.zip)\r\n[Sample_data.csv](https://github.com/saulpw/visidata/files/10568188/Sample_data.csv)\r\n[Sample_run_-_Screenshot](https://user-images.githubusercontent.com/6197517/216308497-2b5ebce6-6077-4e9d-9b8b-bda445ed2a78.png)\r\n[Sample_run_-_Stack_trace.txt](https://github.com/saulpw/visidata/files/10568197/Sample_run_-_Stack_trace.txt)\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1714/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1714/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1704", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1704/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1704/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1704/events", "html_url": "https://github.com/saulpw/visidata/issues/1704", "id": 1559433799, "node_id": "I_kwDOBEu2Gc5c8xJH", "number": 1704, "title": "Row of nulls in csv that came from csvbase", "user": {"login": "calpaterson", "id": 224844, "node_id": "MDQ6VXNlcjIyNDg0NA==", "avatar_url": "https://avatars.githubusercontent.com/u/224844?v=4", "gravatar_id": "", "url": "https://api.github.com/users/calpaterson", "html_url": "https://github.com/calpaterson", "followers_url": "https://api.github.com/users/calpaterson/followers", "following_url": "https://api.github.com/users/calpaterson/following{/other_user}", "gists_url": "https://api.github.com/users/calpaterson/gists{/gist_id}", "starred_url": "https://api.github.com/users/calpaterson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/calpaterson/subscriptions", "organizations_url": "https://api.github.com/users/calpaterson/orgs", "repos_url": "https://api.github.com/users/calpaterson/repos", "events_url": "https://api.github.com/users/calpaterson/events{/privacy}", "received_events_url": "https://api.github.com/users/calpaterson/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2023-01-27T09:26:46Z", "updated_at": "2023-04-02T19:17:51Z", "closed_at": "2023-03-31T16:20:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Small description**\r\n\r\nI get a row of unexpected nulls when using a csv from csvbase\r\n\r\n**Expected result**\r\n\r\nNo row between rows 21 and 22\r\n\r\n**Actual result with screenshot**\r\n\r\n![image](https://user-images.githubusercontent.com/224844/215052189-8cb8a85c-acd4-4028-9d07-0ceddc238a82.png)\r\n\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n\r\n```shell\r\nvd https://csvbase.com/r-datasets/airquality\r\n```\r\n\r\n```\r\n#!vd -p\r\n{\"longname\": \"open-file\", \"input\": \"https://csvbase.com/r-datasets/airquality\", \"keystrokes\": \"o\"}\r\n```\r\n\r\nPlease attach the commandlog (saved with `Ctrl-D`) to show the steps that led to the issue.\r\nSee [here](http://visidata.org/docs/save-restore/) for more details.\r\n\r\n**Additional context**\r\n\r\nPython 3.10 on debian linux\r\n\r\nIs this a bug in visidata?  Or a bug in csvbase?", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1704/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1704/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1697", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1697/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1697/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1697/events", "html_url": "https://github.com/saulpw/visidata/issues/1697", "id": 1555497819, "node_id": "I_kwDOBEu2Gc5ctwNb", "number": 1697, "title": "Plot uses wrong range for y-axis", "user": {"login": "cool-RR", "id": 56778, "node_id": "MDQ6VXNlcjU2Nzc4", "avatar_url": "https://avatars.githubusercontent.com/u/56778?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cool-RR", "html_url": "https://github.com/cool-RR", "followers_url": "https://api.github.com/users/cool-RR/followers", "following_url": "https://api.github.com/users/cool-RR/following{/other_user}", "gists_url": "https://api.github.com/users/cool-RR/gists{/gist_id}", "starred_url": "https://api.github.com/users/cool-RR/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cool-RR/subscriptions", "organizations_url": "https://api.github.com/users/cool-RR/orgs", "repos_url": "https://api.github.com/users/cool-RR/repos", "events_url": "https://api.github.com/users/cool-RR/events{/privacy}", "received_events_url": "https://api.github.com/users/cool-RR/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-01-24T18:48:27Z", "updated_at": "2023-02-22T06:34:25Z", "closed_at": "2023-02-22T05:32:56Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\n\r\nI open a plot for a column, and VisiData sets the maximum y for 1.17:\r\n\r\n![screenshot_TURING_2023-01-24_204539](https://user-images.githubusercontent.com/56778/214381535-e57d54f9-e72a-4a32-b75e-e06eb31268c4.jpg)\r\n\r\n\r\nEven though the maximum value for that column is 0.16:\r\n\r\n![screenshot_TURING_2023-01-24_204611](https://user-images.githubusercontent.com/56778/214381574-a98b25b9-bbc5-41ff-be23-593415d4ce3e.jpg)\r\n\r\nJSONL file: https://www.dropbox.com/s/n082mwbv7j85cee/progress.jsonl?dl=1", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1697/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1697/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1696", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1696/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1696/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1696/events", "html_url": "https://github.com/saulpw/visidata/issues/1696", "id": 1553966980, "node_id": "I_kwDOBEu2Gc5cn6eE", "number": 1696, "title": "[sheets] cursorDisplay for the sheet's own cursorDisplay crashes in Python 3.8.0 through 3.9.9", "user": {"login": "midichef", "id": 67946319, "node_id": "MDQ6VXNlcjY3OTQ2MzE5", "avatar_url": "https://avatars.githubusercontent.com/u/67946319?v=4", "gravatar_id": "", "url": "https://api.github.com/users/midichef", "html_url": "https://github.com/midichef", "followers_url": "https://api.github.com/users/midichef/followers", "following_url": "https://api.github.com/users/midichef/following{/other_user}", "gists_url": "https://api.github.com/users/midichef/gists{/gist_id}", "starred_url": "https://api.github.com/users/midichef/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/midichef/subscriptions", "organizations_url": "https://api.github.com/users/midichef/orgs", "repos_url": "https://api.github.com/users/midichef/repos", "events_url": "https://api.github.com/users/midichef/events{/privacy}", "received_events_url": "https://api.github.com/users/midichef/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2023-01-23T23:00:41Z", "updated_at": "2023-02-06T03:29:45Z", "closed_at": "2023-02-06T03:06:25Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nIn SheetsSheet, viewing the cursorDisplay cell for the SheetsSheet leads to infinite recursion, which crashes on versions of Python >= 3.8.0 and <= 3.9.9\r\n\r\n**Expected result**\r\nThe cursorDisplay should be blank or show a null.\r\n\r\n**Actual result with screenshot**\r\n```\r\nFatal Python error:\r\n_Py_CheckRecursiveCall: Cannot recover from stack overflow.\r\nPython runtime state: initialized\r\n\r\nCurrent thread 0x00007f5f79c5fb80 (most recent call first):\r\n  File \"/home/midichef/.pyenv/versions/3.9.9/lib/python3.9/site-packages/visidata/column.py\", line 308 in getValue\r\n  File \"/home/midichef/.pyenv/versions/3.9.9/lib/python3.9/site-packages/visidata/wrappers.py\", line 108 in wrapply\r\n  File \"/home/midichef/.pyenv/versions/3.9.9/lib/python3.9/site-packages/visidata/column.py\", line 327 in getCell\r\n  File \"/home/midichef/.pyenv/versions/3.9.9/lib/python3.9/site-packages/visidata/column.py\", line 388 in getDisplayValue\r\n  File \"/home/midichef/.pyenv/versions/3.9.9/lib/python3.9/site-packages/visidata/sheets.py\", line 453 in cursorDisplay\r\n  File \"/home/midichef/.pyenv/versions/3.9.9/lib/python3.9/site-packages/visidata/column.py\", line 460 in getattrdeep\r\n  File \"/home/midichef/.pyenv/versions/3.9.9/lib/python3.9/site-packages/visidata/column.py\", line 497 in <lambda>\r\n  File \"/home/midichef/.pyenv/versions/3.9.9/lib/python3.9/site-packages/visidata/column.py\", line 270 in calcValue\r\n  File \"/home/midichef/.pyenv/versions/3.9.9/lib/python3.9/site-packages/visidata/column.py\", line 308 in getValue\r\n  File \"/home/midichef/.pyenv/versions/3.9.9/lib/python3.9/site-packages/visidata/wrappers.py\", line 108 in wrapply\r\n...\r\n```\r\n\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\nOpen the SheetsSheet and move to the cursorDisplay column, or run:\r\n`vd -p cursordisplay.vdj`\r\n[cursordisplay.vdj.txt](https://github.com/saulpw/visidata/files/10484256/cursordisplay.vdj.txt)\r\n\r\n\r\n\r\n**Additional context**\r\nsaul.pw/VisiData v2.11\r\n\r\nI tested the behavior in different versions of Python:\r\n3.7:  no crashes in any version tested: 3.7.0, 3.7.4, 3.7.8, 3.7.12 or 3.7.16.\r\n3.8:  crashes in all versions tested: 3.8.0, 3.8.4, 3.8.8, 3.8.10, 3.8.16\r\n3.9:  crashes all minor versions from 3.9.0 through 3.9.9 (except 3.9.3 which I did not test), does not crash any from 3.9.10 through 3.9.16\r\n3.10:  no crash in any version tested:  3.10.0, 3.10.9\r\n3.11:  no crash in 3.11.0\r\n\r\n\r\nJudging by the [Python 3.9.10 changelog](https://docs.python.org/release/3.9.10/whatsnew/changelog.html#changelog) the change in behavior for 3.9.10 is is likely related to [a Python bugfix allowing recovery from stack overflow](https://bugs.python.org/issue45806).\r\n\r\nThis bug will affect people running the 20.04 Ubuntu LTS release, where the default Python version is 3.8.10.", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1696/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1696/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1691", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1691/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1691/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1691/events", "html_url": "https://github.com/saulpw/visidata/issues/1691", "id": 1552334208, "node_id": "I_kwDOBEu2Gc5chr2A", "number": 1691, "title": "[themes] Default theme missing", "user": {"login": "frosencrantz", "id": 631242, "node_id": "MDQ6VXNlcjYzMTI0Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/631242?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frosencrantz", "html_url": "https://github.com/frosencrantz", "followers_url": "https://api.github.com/users/frosencrantz/followers", "following_url": "https://api.github.com/users/frosencrantz/following{/other_user}", "gists_url": "https://api.github.com/users/frosencrantz/gists{/gist_id}", "starred_url": "https://api.github.com/users/frosencrantz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frosencrantz/subscriptions", "organizations_url": "https://api.github.com/users/frosencrantz/orgs", "repos_url": "https://api.github.com/users/frosencrantz/repos", "events_url": "https://api.github.com/users/frosencrantz/events{/privacy}", "received_events_url": "https://api.github.com/users/frosencrantz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-01-22T23:41:54Z", "updated_at": "2023-01-26T02:30:49Z", "closed_at": "2023-01-26T00:11:59Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nWhen setting theme to the default from the menu, it says: `no \"\" theme available`\r\n\r\n**Expected result**\r\nTheme reset to the original theme\r\n\r\n\r\n**Actual result with screenshot**\r\nhttps://asciinema.org/a/b9uPtpGWEjS85XymvYw2BbEnv\r\n\r\nNo stack trace.\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\nUse menu:  \"View\"/\"Set theme\"/\"default\"\r\n\r\n**Additional context**\r\nPlease include the version of VisiData. Latest version of develop.\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1691/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1691/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1684", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1684/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1684/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1684/events", "html_url": "https://github.com/saulpw/visidata/issues/1684", "id": 1550544232, "node_id": "I_kwDOBEu2Gc5ca21o", "number": 1684, "title": "Using Ctrl+T to swap nonexistent characters leads to IndexError", "user": {"login": "gfrmin", "id": 416374, "node_id": "MDQ6VXNlcjQxNjM3NA==", "avatar_url": "https://avatars.githubusercontent.com/u/416374?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gfrmin", "html_url": "https://github.com/gfrmin", "followers_url": "https://api.github.com/users/gfrmin/followers", "following_url": "https://api.github.com/users/gfrmin/following{/other_user}", "gists_url": "https://api.github.com/users/gfrmin/gists{/gist_id}", "starred_url": "https://api.github.com/users/gfrmin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gfrmin/subscriptions", "organizations_url": "https://api.github.com/users/gfrmin/orgs", "repos_url": "https://api.github.com/users/gfrmin/repos", "events_url": "https://api.github.com/users/gfrmin/events{/privacy}", "received_events_url": "https://api.github.com/users/gfrmin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-01-20T09:25:57Z", "updated_at": "2023-01-20T22:50:02Z", "closed_at": "2023-01-20T22:10:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Small description**\r\n\r\nWhen searching with regex, pressing Ctrl+T before any characters are inputted results in an `IndexError: string index out of range` error.\r\n\r\n**Expected result**\r\n\r\nNothing should happen, just when one character is inputted.\r\n\r\n**Actual result with screenshot**\r\n![image](https://user-images.githubusercontent.com/416374/213660475-23fe0d42-1eb2-44c0-83c8-3bd03a24a124.png)\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\nPress \"|\", for example, to search for rows in current column with regex, then immediately type Ctrl+T to see error.\r\n\r\n**Additional context**\r\nVersion saul.pw/VisiData v2.10.2\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1684/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1684/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1682", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1682/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1682/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1682/events", "html_url": "https://github.com/saulpw/visidata/issues/1682", "id": 1537055349, "node_id": "I_kwDOBEu2Gc5bnZp1", "number": 1682, "title": "[develop] Missing themes and features imports", "user": {"login": "frosencrantz", "id": 631242, "node_id": "MDQ6VXNlcjYzMTI0Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/631242?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frosencrantz", "html_url": "https://github.com/frosencrantz", "followers_url": "https://api.github.com/users/frosencrantz/followers", "following_url": "https://api.github.com/users/frosencrantz/following{/other_user}", "gists_url": "https://api.github.com/users/frosencrantz/gists{/gist_id}", "starred_url": "https://api.github.com/users/frosencrantz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frosencrantz/subscriptions", "organizations_url": "https://api.github.com/users/frosencrantz/orgs", "repos_url": "https://api.github.com/users/frosencrantz/repos", "events_url": "https://api.github.com/users/frosencrantz/events{/privacy}", "received_events_url": "https://api.github.com/users/frosencrantz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-01-17T21:24:24Z", "updated_at": "2023-01-19T07:18:27Z", "closed_at": "2023-01-18T05:36:50Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nUnable to start vd since there are missing imports.\r\n\r\n**Expected result**\r\nVisiData runs\r\n\r\n**Actual result with screenshot**\r\nImports are in __init__.py and are not installed when install VisiData.\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/opt/hostedtoolcache/Python/3.9.16/x64/bin/vd\", line 3, in <module>\r\n    import visidata.main\r\n  File \"/opt/hostedtoolcache/Python/3.9.16/x64/lib/python3.9/site-packages/visidata/__init__.py\", line 16[8](https://github.com/saulpw/visidata/actions/runs/3927305469/jobs/6713807144#step:6:9), in <module>\r\n    import themes\r\nModuleNotFoundError: No module named 'themes'\r\nError: Process completed with exit code 1.\r\n```\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\nInstall latest `develop` version, and run VisiData.  It crashes because of missing imports.\r\n\r\n**Additional context**\r\nPlease include the version of VisiData. Latest `develop` version.\r\n\r\nAlso, this is failing in GitHub actions.\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1682/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1682/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1679", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1679/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1679/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1679/events", "html_url": "https://github.com/saulpw/visidata/issues/1679", "id": 1534012418, "node_id": "I_kwDOBEu2Gc5bbywC", "number": 1679, "title": "[sql] pressing 'Shift+Q' in a subsheet loses the sheet for full session", "user": {"login": "midichef", "id": 67946319, "node_id": "MDQ6VXNlcjY3OTQ2MzE5", "avatar_url": "https://avatars.githubusercontent.com/u/67946319?v=4", "gravatar_id": "", "url": "https://api.github.com/users/midichef", "html_url": "https://github.com/midichef", "followers_url": "https://api.github.com/users/midichef/followers", "following_url": "https://api.github.com/users/midichef/following{/other_user}", "gists_url": "https://api.github.com/users/midichef/gists{/gist_id}", "starred_url": "https://api.github.com/users/midichef/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/midichef/subscriptions", "organizations_url": "https://api.github.com/users/midichef/orgs", "repos_url": "https://api.github.com/users/midichef/repos", "events_url": "https://api.github.com/users/midichef/events{/privacy}", "received_events_url": "https://api.github.com/users/midichef/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}, {"id": 2237539092, "node_id": "MDU6TGFiZWwyMjM3NTM5MDky", "url": "https://api.github.com/repos/saulpw/visidata/labels/By%20Design", "name": "By Design", "color": "f9898f", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2023-01-15T21:35:01Z", "updated_at": "2023-02-22T07:34:26Z", "closed_at": "2023-02-22T07:34:16Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nWhen viewing a SQL table in a SqliteSheet, hitting 'Shift+Q' causes all rows in the table to be lost. The row count for that table goes to 0 in the SqliteIndexSheet.\r\n\r\n**Expected result**\r\n'Shift+Q' should return to the index sheet and leave the table intact.\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n```vd -p quit-wipes-rows.vdj```\r\n[a.db.zip](https://github.com/saulpw/visidata/files/10421244/a.db.zip)\r\n[quit-wipes-rows.vdj.txt](https://github.com/saulpw/visidata/files/10421245/quit-wipes-rows.vdj.txt)\r\n\r\n**Additional context**\r\nv2.10.2\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1679/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1679/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1678", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1678/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1678/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1678/events", "html_url": "https://github.com/saulpw/visidata/issues/1678", "id": 1533594115, "node_id": "I_kwDOBEu2Gc5baMoD", "number": 1678, "title": "[join] error when joining sheets with different numbers of key columns", "user": {"login": "midichef", "id": 67946319, "node_id": "MDQ6VXNlcjY3OTQ2MzE5", "avatar_url": "https://avatars.githubusercontent.com/u/67946319?v=4", "gravatar_id": "", "url": "https://api.github.com/users/midichef", "html_url": "https://github.com/midichef", "followers_url": "https://api.github.com/users/midichef/followers", "following_url": "https://api.github.com/users/midichef/following{/other_user}", "gists_url": "https://api.github.com/users/midichef/gists{/gist_id}", "starred_url": "https://api.github.com/users/midichef/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/midichef/subscriptions", "organizations_url": "https://api.github.com/users/midichef/orgs", "repos_url": "https://api.github.com/users/midichef/repos", "events_url": "https://api.github.com/users/midichef/events{/privacy}", "received_events_url": "https://api.github.com/users/midichef/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-01-15T01:38:19Z", "updated_at": "2023-02-11T23:48:46Z", "closed_at": "2023-02-11T23:19:55Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nWhen sheets have different numbers of key columns, joining them fails with a traceback.\r\n\r\n**Expected result**\r\nI'm not sure what behavior to expect. Is a join valid if there are different numbers of columns? Should there be a warning?\r\n\r\n**Actual result with screenshot**\r\n```\r\nTraceback (most recent call last):\r\n  File \"/usr/local/lib/python3.10/dist-packages/visidata/threads.py\", line 198, in _toplevelTryFunc\r\n    t.status = func(*args, **kwargs)\r\n  File \"/usr/local/lib/python3.10/dist-packages/visidata/join.py\", line 137, in reload\r\n    self.addColumn(JoinKeyColumn(cols[0].name, keycols=cols)) # ColumnItem(c.name, i, sheet=sheets[0], type=c.type, width=c.width)))\r\n  File \"/usr/local/lib/python3.10/dist-packages/visidata/sheets.py\", line 510, in addColumn\r\n    col.recalc(self)\r\n  File \"/usr/local/lib/python3.10/dist-packages/visidata/join.py\", line 97, in recalc\r\n    c.recalc()\r\nAttributeError: 'NoneType' object has no attribute 'recalc'\r\n```\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n```vd -p join.vdj```\r\n[a.csv](https://github.com/saulpw/visidata/files/10419263/a.csv)\r\n[b.csv](https://github.com/saulpw/visidata/files/10419264/b.csv)\r\n[join.vdj.txt](https://github.com/saulpw/visidata/files/10419265/join.vdj.txt)\r\n\r\n\r\n**Additional context**\r\nv2.10.2\r\nThe key code starts here with zip_longest():\r\nhttps://github.com/saulpw/visidata/blob/38c2203076bab7eeb73f9cebafb6560d56f10f97/visidata/join.py#L170", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1678/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1678/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1677", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1677/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1677/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1677/events", "html_url": "https://github.com/saulpw/visidata/issues/1677", "id": 1533088967, "node_id": "I_kwDOBEu2Gc5bYRTH", "number": 1677, "title": "[macros] error on startup if macros.tsv does not exist", "user": {"login": "midichef", "id": 67946319, "node_id": "MDQ6VXNlcjY3OTQ2MzE5", "avatar_url": "https://avatars.githubusercontent.com/u/67946319?v=4", "gravatar_id": "", "url": "https://api.github.com/users/midichef", "html_url": "https://github.com/midichef", "followers_url": "https://api.github.com/users/midichef/followers", "following_url": "https://api.github.com/users/midichef/following{/other_user}", "gists_url": "https://api.github.com/users/midichef/gists{/gist_id}", "starred_url": "https://api.github.com/users/midichef/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/midichef/subscriptions", "organizations_url": "https://api.github.com/users/midichef/orgs", "repos_url": "https://api.github.com/users/midichef/repos", "events_url": "https://api.github.com/users/midichef/events{/privacy}", "received_events_url": "https://api.github.com/users/midichef/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-01-14T01:47:39Z", "updated_at": "2023-01-16T04:59:43Z", "closed_at": "2023-01-16T04:59:43Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nThere is an error on startup if the file macros.tsv does not exist.\r\n\r\n**Expected result**\r\n\r\n**Actual result with screenshot**\r\nTraceback (most recent call last):\r\n  File \"/usr/local/lib/python3.10/site-packages/visidata/threads.py\", line 198, in _toplevelTryFunc\r\n    t.status = func(*args, **kwargs)\r\n  File \"/usr/local/lib/python3.10/site-packages/visidata/sheets.py\", line 952, in reload\r\n    self.setCols(list(self.optlines(itsource, 'header')))\r\n  File \"/usr/local/lib/python3.10/site-packages/visidata/sheets.py\", line 938, in optlines\r\n    yield next(it)\r\n  File \"/usr/local/lib/python3.10/site-packages/visidata/loaders/tsv.py\", line 45, in iterload\r\n    with self.source.open_text(encoding=self.options.encoding) as fp:\r\n  File \"/usr/local/lib/python3.10/site-packages/visidata/path.py\", line 222, in open_text\r\n    return self.open(mode=mode, encoding=encoding or vd.options.encoding, errors=vd.options.encoding_errors, newline=newline)\r\n  File \"/usr/local/lib/python3.10/site-packages/visidata/path.py\", line 262, in open\r\n    return FileProgress(path, fp=self._path.open(*args, **kwargs), **kwargs)\r\n  File \"/usr/lib/python3.10/pathlib.py\", line 1119, in open\r\n    return self._accessor.open(self, mode, buffering, encoding, errors,\r\nFileNotFoundError: [Errno 2] No such file or directory: '/home/midichef/.visidata/macros.tsv'\r\n\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\nMake sure the file macros.tsv does not exist, then run `vd`\r\n\r\n**Additional context**\r\nv2.11dev\r\nThe commit where this behavior begins is https://github.com/saulpw/visidata/commit/35ca095b5753120bfd20e698d91b73f73dcc174e", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1677/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1677/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1675", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1675/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1675/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1675/events", "html_url": "https://github.com/saulpw/visidata/issues/1675", "id": 1532965802, "node_id": "I_kwDOBEu2Gc5bXzOq", "number": 1675, "title": "Warning during `setup.py build`", "user": {"login": "Oblomov", "id": 1464, "node_id": "MDQ6VXNlcjE0NjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1464?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Oblomov", "html_url": "https://github.com/Oblomov", "followers_url": "https://api.github.com/users/Oblomov/followers", "following_url": "https://api.github.com/users/Oblomov/following{/other_user}", "gists_url": "https://api.github.com/users/Oblomov/gists{/gist_id}", "starred_url": "https://api.github.com/users/Oblomov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Oblomov/subscriptions", "organizations_url": "https://api.github.com/users/Oblomov/orgs", "repos_url": "https://api.github.com/users/Oblomov/repos", "events_url": "https://api.github.com/users/Oblomov/events{/privacy}", "received_events_url": "https://api.github.com/users/Oblomov/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "anjakefala", "id": 7489659, "node_id": "MDQ6VXNlcjc0ODk2NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/7489659?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anjakefala", "html_url": "https://github.com/anjakefala", "followers_url": "https://api.github.com/users/anjakefala/followers", "following_url": "https://api.github.com/users/anjakefala/following{/other_user}", "gists_url": "https://api.github.com/users/anjakefala/gists{/gist_id}", "starred_url": "https://api.github.com/users/anjakefala/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anjakefala/subscriptions", "organizations_url": "https://api.github.com/users/anjakefala/orgs", "repos_url": "https://api.github.com/users/anjakefala/repos", "events_url": "https://api.github.com/users/anjakefala/events{/privacy}", "received_events_url": "https://api.github.com/users/anjakefala/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "anjakefala", "id": 7489659, "node_id": "MDQ6VXNlcjc0ODk2NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/7489659?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anjakefala", "html_url": "https://github.com/anjakefala", "followers_url": "https://api.github.com/users/anjakefala/followers", "following_url": "https://api.github.com/users/anjakefala/following{/other_user}", "gists_url": "https://api.github.com/users/anjakefala/gists{/gist_id}", "starred_url": "https://api.github.com/users/anjakefala/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anjakefala/subscriptions", "organizations_url": "https://api.github.com/users/anjakefala/orgs", "repos_url": "https://api.github.com/users/anjakefala/repos", "events_url": "https://api.github.com/users/anjakefala/events{/privacy}", "received_events_url": "https://api.github.com/users/anjakefala/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2023-01-13T22:00:22Z", "updated_at": "2023-01-16T04:43:08Z", "closed_at": "2023-01-16T04:43:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "Trying to build current `develop` with `./setup.py` on Debian unstable (python3 version 3.10.9) gives two warnings about installing things as data being deprecated. Full log is:\r\n```\r\n/usr/lib/python3/dist-packages/setuptools/dist.py:530: UserWarning: Normalizing '2.11dev' to '2.11.dev0'\r\n  warnings.warn(tmpl.format(**locals()))\r\nrunning build\r\nrunning build_py\r\nfile visidata.py (for module visidata) not found\r\nrunning egg_info\r\nwriting visidata.egg-info/PKG-INFO\r\nwriting dependency_links to visidata.egg-info/dependency_links.txt\r\nwriting entry points to visidata.egg-info/entry_points.txt\r\nwriting requirements to visidata.egg-info/requires.txt\r\nwriting top-level names to visidata.egg-info/top_level.txt\r\nfile visidata.py (for module visidata) not found\r\nreading manifest file 'visidata.egg-info/SOURCES.txt'\r\nreading manifest template 'MANIFEST.in'\r\nadding license file 'LICENSE.gpl3'\r\nwriting manifest file 'visidata.egg-info/SOURCES.txt'\r\n/usr/lib/python3/dist-packages/setuptools/command/build_py.py:202: SetuptoolsDeprecationWarning:     Installing 'visidata.ddw' as data is deprecated, please list it in `packages`.\r\n    !!\r\n\r\n\r\n    ############################\r\n    # Package would be ignored #\r\n    ############################\r\n    Python recognizes 'visidata.ddw' as an importable package,\r\n    but it is not listed in the `packages` configuration of setuptools.\r\n\r\n    'visidata.ddw' has been automatically added to the distribution only\r\n    because it may contain data files, but this behavior is likely to change\r\n    in future versions of setuptools (and therefore is considered deprecated).\r\n\r\n    Please make sure that 'visidata.ddw' is included as a package by using\r\n    the `packages` configuration field or the proper discovery methods\r\n    (for example by using `find_namespace_packages(...)`/`find_namespace:`\r\n    instead of `find_packages(...)`/`find:`).\r\n\r\n    You can read more about \"package discovery\" and \"data files\" on setuptools\r\n    documentation page.\r\n\r\n\r\n!!\r\n\r\n  check.warn(importable)\r\n/usr/lib/python3/dist-packages/setuptools/command/build_py.py:202: SetuptoolsDeprecationWarning:     Installing 'visidata.man' as data is deprecated, please list it in `packages`.\r\n    !!\r\n\r\n\r\n    ############################\r\n    # Package would be ignored #\r\n    ############################\r\n    Python recognizes 'visidata.man' as an importable package,\r\n    but it is not listed in the `packages` configuration of setuptools.\r\n\r\n    'visidata.man' has been automatically added to the distribution only\r\n    because it may contain data files, but this behavior is likely to change\r\n    in future versions of setuptools (and therefore is considered deprecated).\r\n\r\n    Please make sure that 'visidata.man' is included as a package by using\r\n    the `packages` configuration field or the proper discovery methods\r\n    (for example by using `find_namespace_packages(...)`/`find_namespace:`\r\n    instead of `find_packages(...)`/`find:`).\r\n\r\n    You can read more about \"package discovery\" and \"data files\" on setuptools\r\n    documentation page.\r\n\r\n\r\n!!\r\n\r\n  check.warn(importable)\r\nfile visidata.py (for module visidata) not found\r\nrunning build_scripts\r\n```", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1675/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1675/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1674", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1674/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1674/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1674/events", "html_url": "https://github.com/saulpw/visidata/issues/1674", "id": 1532568960, "node_id": "I_kwDOBEu2Gc5bWSWA", "number": 1674, "title": "Imprecise integer conversion", "user": {"login": "xlucn", "id": 12032219, "node_id": "MDQ6VXNlcjEyMDMyMjE5", "avatar_url": "https://avatars.githubusercontent.com/u/12032219?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xlucn", "html_url": "https://github.com/xlucn", "followers_url": "https://api.github.com/users/xlucn/followers", "following_url": "https://api.github.com/users/xlucn/following{/other_user}", "gists_url": "https://api.github.com/users/xlucn/gists{/gist_id}", "starred_url": "https://api.github.com/users/xlucn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xlucn/subscriptions", "organizations_url": "https://api.github.com/users/xlucn/orgs", "repos_url": "https://api.github.com/users/xlucn/repos", "events_url": "https://api.github.com/users/xlucn/events{/privacy}", "received_events_url": "https://api.github.com/users/xlucn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-01-13T16:16:53Z", "updated_at": "2023-01-22T13:09:55Z", "closed_at": "2023-01-22T13:09:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Small description**\r\nWhen I use `#` key to convert a column of integer strings to actual integers, those larger than `2**53` will be converted imprecisely.\r\n\r\n**Expected result**\r\nFor 64-bit integers larger than `2**53` (not sure about even larger ones), perform exact string to integer conversion.\r\n\r\n**Actual result with screenshot**\r\nThe integers in the range above are converted to `int(float(number))`.\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\nPlease attach the commandlog (saved with `Ctrl-D`) to show the steps that led to the issue.\r\nSee [here](http://visidata.org/docs/save-restore/) for more details.\r\n\r\n1. `vd test.csv`\r\n2. Press `#` key\r\n3. See 9007199254740993 (`2**53+1`) converted into 9007199254740992\r\n\r\nData file `test.csv`:\r\n```\r\nnumber\r\n9007199254740993\r\n9007199254740992\r\n9007199254740991\r\n```\r\n\r\nCommandlog:\r\n```\r\n#!vd -p\r\n{\"longname\": \"open-file\", \"input\": \"test.csv\", \"keystrokes\": \"o\"}\r\n{\"sheet\": \"test\", \"col\": \"number\", \"row\": \"\", \"longname\": \"type-int\", \"input\": \"\", \"keystrokes\": \"#\", \"comment\": \"set type of current column to int\"}\r\n```\r\n\r\n**Additional context**\r\nPlease include the version of VisiData.\r\nVisiData v2.10.2\r\n\r\nThere was a similar case in a very recent issue #1612, but that one is limited to pandas' `iloc` already converting numbers to float. However my case happens directly to plain text data file, I would like visidata to perform precise conversions, i.e., as if `int(number)`, for the fore-mentioned integer range.\r\n\r\nAt last, here is my use case if anyone is interested. I am viewing some scientific data (of Gaia telescope) with some columns being source IDs. The IDs are large 64-bit integers (so they are very close to `2**63`). Although it's not necessary to convert the IDs to integers, but it's weird to see them being converted into another number when I explicitly asked to \"set their type to integer\" while knowing they are definitely small enough to be stored in a common 64-bit integer type.", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1674/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1674/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1673", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1673/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1673/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1673/events", "html_url": "https://github.com/saulpw/visidata/issues/1673", "id": 1531604816, "node_id": "I_kwDOBEu2Gc5bSm9Q", "number": 1673, "title": "[graph] failure when there is only one value in the x or y column", "user": {"login": "midichef", "id": 67946319, "node_id": "MDQ6VXNlcjY3OTQ2MzE5", "avatar_url": "https://avatars.githubusercontent.com/u/67946319?v=4", "gravatar_id": "", "url": "https://api.github.com/users/midichef", "html_url": "https://github.com/midichef", "followers_url": "https://api.github.com/users/midichef/followers", "following_url": "https://api.github.com/users/midichef/following{/other_user}", "gists_url": "https://api.github.com/users/midichef/gists{/gist_id}", "starred_url": "https://api.github.com/users/midichef/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/midichef/subscriptions", "organizations_url": "https://api.github.com/users/midichef/orgs", "repos_url": "https://api.github.com/users/midichef/repos", "events_url": "https://api.github.com/users/midichef/events{/privacy}", "received_events_url": "https://api.github.com/users/midichef/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-01-13T02:08:45Z", "updated_at": "2023-01-16T04:59:04Z", "closed_at": "2023-01-16T04:59:04Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nplot-column() fails when the x values are all the same, or when the y values are all the same.\r\n\r\n**Expected result**\r\nSome kind of plot should appear.\r\n\r\n**Actual result with screenshot**\r\n```\r\nvd -p graph_one_x.vdj\r\n\r\nTraceback (most recent call last):\r\n  File \"/usr/local/lib/python3.10/dist-packages/visidata/threads.py\", line 198, in _toplevelTryFunc\r\n    t.status = func(*args, **kwargs)\r\n  File \"/usr/local/lib/python3.10/dist-packages/visidata/graph.py\", line 74, in reload\r\n    self.resetBounds()\r\n  File \"/usr/local/lib/python3.10/dist-packages/visidata/graph.py\", line 78, in resetBounds\r\n    super().resetBounds()\r\n  File \"/usr/local/lib/python3.10/dist-packages/visidata/canvas.py\", line 489, in resetBounds\r\n    self.visibleBox = Box(0, 0, self.plotviewBox.w/self.xScaler, self.plotviewBox.h/self.yScaler)\r\n  File \"/usr/local/lib/python3.10/dist-packages/visidata/canvas.py\", line 521, in xScaler\r\n    xratio = self.plotviewBox.w/(self.canvasBox.w*self.xzoomlevel)\r\nZeroDivisionError: float division by zero\r\n```\r\n\r\n\r\n```\r\nvd -p graph_one_y.vdj\r\n\r\nTraceback (most recent call last):\r\n...\r\n  File \"/usr/local/lib/python3.10/dist-packages/visidata/canvas.py\", line 489, in resetBounds\r\n    self.visibleBox = Box(0, 0, self.plotviewBox.w/self.xScaler, self.plotviewBox.h/self.yScaler)\r\n  File \"/usr/local/lib/python3.10/dist-packages/visidata/canvas.py\", line 530, in yScaler\r\n    yratio = self.plotviewBox.h/(self.canvasBox.h*self.yzoomlevel)\r\nZeroDivisionError: float division by zero\r\n```\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n[graph_one_x.vdj.txt](https://github.com/saulpw/visidata/files/10407511/graph_one_x.vdj.txt)\r\n[graph_one_y.vdj.txt](https://github.com/saulpw/visidata/files/10407512/graph_one_y.vdj.txt)\r\n[one_x_val.csv](https://github.com/saulpw/visidata/files/10407513/one_x_val.csv)\r\n[one_y_val.csv](https://github.com/saulpw/visidata/files/10407515/one_y_val.csv)\r\n\r\n\r\n\r\n**Additional context**\r\nvisidata-2.10.2 or latest develop branch\r\n\r\nThe problem is that self.canvasBox is created with a width or height of zero, when xmin == xmax or ymin == ymax.\r\nhttps://github.com/saulpw/visidata/blob/develop/visidata/canvas.py#L485\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1673/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1673/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1659", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1659/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1659/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1659/events", "html_url": "https://github.com/saulpw/visidata/issues/1659", "id": 1524064335, "node_id": "I_kwDOBEu2Gc5a12BP", "number": 1659, "title": "mode/min/max/median show as string type", "user": {"login": "cool-RR", "id": 56778, "node_id": "MDQ6VXNlcjU2Nzc4", "avatar_url": "https://avatars.githubusercontent.com/u/56778?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cool-RR", "html_url": "https://github.com/cool-RR", "followers_url": "https://api.github.com/users/cool-RR/followers", "following_url": "https://api.github.com/users/cool-RR/following{/other_user}", "gists_url": "https://api.github.com/users/cool-RR/gists{/gist_id}", "starred_url": "https://api.github.com/users/cool-RR/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cool-RR/subscriptions", "organizations_url": "https://api.github.com/users/cool-RR/orgs", "repos_url": "https://api.github.com/users/cool-RR/repos", "events_url": "https://api.github.com/users/cool-RR/events{/privacy}", "received_events_url": "https://api.github.com/users/cool-RR/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-01-07T18:56:01Z", "updated_at": "2023-01-07T19:03:02Z", "closed_at": "2023-01-07T19:03:02Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I'm not sure whether this is a bug in VisiData or a misunderstanding that I have. I typed Shift-I to see the means of some columns. While the mean was automatically marked as a float column (`%`), the mode/min/max/median columns were automatically marked as string (`~`) for some reason. Why would this make sense?", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1659/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1659/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1658", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1658/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1658/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1658/events", "html_url": "https://github.com/saulpw/visidata/issues/1658", "id": 1523421450, "node_id": "I_kwDOBEu2Gc5azZEK", "number": 1658, "title": "VisiData should fail() if there already exists a macro for the same keystroke", "user": {"login": "anjakefala", "id": 7489659, "node_id": "MDQ6VXNlcjc0ODk2NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/7489659?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anjakefala", "html_url": "https://github.com/anjakefala", "followers_url": "https://api.github.com/users/anjakefala/followers", "following_url": "https://api.github.com/users/anjakefala/following{/other_user}", "gists_url": "https://api.github.com/users/anjakefala/gists{/gist_id}", "starred_url": "https://api.github.com/users/anjakefala/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anjakefala/subscriptions", "organizations_url": "https://api.github.com/users/anjakefala/orgs", "repos_url": "https://api.github.com/users/anjakefala/repos", "events_url": "https://api.github.com/users/anjakefala/events{/privacy}", "received_events_url": "https://api.github.com/users/anjakefala/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-01-07T02:52:34Z", "updated_at": "2023-01-07T03:56:24Z", "closed_at": "2023-01-07T03:56:24Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": null, "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1658/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1658/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1630", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1630/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1630/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1630/events", "html_url": "https://github.com/saulpw/visidata/issues/1630", "id": 1505786085, "node_id": "I_kwDOBEu2Gc5ZwHjl", "number": 1630, "title": "Menu hotkeys don't work on Windows", "user": {"login": "cool-RR", "id": 56778, "node_id": "MDQ6VXNlcjU2Nzc4", "avatar_url": "https://avatars.githubusercontent.com/u/56778?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cool-RR", "html_url": "https://github.com/cool-RR", "followers_url": "https://api.github.com/users/cool-RR/followers", "following_url": "https://api.github.com/users/cool-RR/following{/other_user}", "gists_url": "https://api.github.com/users/cool-RR/gists{/gist_id}", "starred_url": "https://api.github.com/users/cool-RR/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cool-RR/subscriptions", "organizations_url": "https://api.github.com/users/cool-RR/orgs", "repos_url": "https://api.github.com/users/cool-RR/repos", "events_url": "https://api.github.com/users/cool-RR/events{/privacy}", "received_events_url": "https://api.github.com/users/cool-RR/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}, {"id": 3885594880, "node_id": "LA_kwDOBEu2Gc7nmXkA", "url": "https://api.github.com/repos/saulpw/visidata/labels/windows", "name": "windows", "color": "E9156E", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2022-12-21T06:37:54Z", "updated_at": "2023-02-27T23:35:55Z", "closed_at": "2023-02-27T23:35:46Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I press Alt-P on Windows 7, the plot menu doesn't show.\r\n\r\nVersions:\r\n * Python 3.10.7\r\n * `visidata==2.10.2`\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1630/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1630/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1628", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1628/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1628/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1628/events", "html_url": "https://github.com/saulpw/visidata/issues/1628", "id": 1504895018, "node_id": "I_kwDOBEu2Gc5ZsuAq", "number": 1628, "title": "Menu rendering issue in kitty terminal", "user": {"login": "dolmen", "id": 129536, "node_id": "MDQ6VXNlcjEyOTUzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/129536?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dolmen", "html_url": "https://github.com/dolmen", "followers_url": "https://api.github.com/users/dolmen/followers", "following_url": "https://api.github.com/users/dolmen/following{/other_user}", "gists_url": "https://api.github.com/users/dolmen/gists{/gist_id}", "starred_url": "https://api.github.com/users/dolmen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dolmen/subscriptions", "organizations_url": "https://api.github.com/users/dolmen/orgs", "repos_url": "https://api.github.com/users/dolmen/repos", "events_url": "https://api.github.com/users/dolmen/events{/privacy}", "received_events_url": "https://api.github.com/users/dolmen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-12-20T16:56:45Z", "updated_at": "2023-04-22T04:02:10Z", "closed_at": "2023-04-22T04:02:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Small description**\r\n\r\nUsing Visidata v2.8 from [kitty](https://sw.kovidgoyal.net/kitty/) 0.26.3 on macOS Monterey (12.6).\r\n\r\nSee screenshot of bad rendering of menus.\r\n<img width=\"1668\" alt=\"Capture d\u2019e\u0301cran 2022-12-20 a\u0300 17 47 22\" src=\"https://user-images.githubusercontent.com/129536/208722074-ebe40a5f-edf6-460e-b876-9a48f27a79db.png\">\r\n\r\n**Expected result**\r\n\r\n**Actual result with screenshot**\r\nIf you get an unexpected error, please include the full stack trace that you get with `Ctrl-E`.\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n1. Open Kitty 0.26.3\r\n2. Open the Hanukkah of Data DB with VisiData: `vd noah.sqlite` from the shell in Kitty\r\n3. Open the file menu\r\n4. Navigate menu items\r\n\r\n**Additional context**\r\nVisidata v2.8\r\nKitty: https://sw.kovidgoyal.net/kitty/", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1628/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1628/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1627", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1627/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1627/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1627/events", "html_url": "https://github.com/saulpw/visidata/issues/1627", "id": 1502242946, "node_id": "I_kwDOBEu2Gc5ZimiC", "number": 1627, "title": "[eval] can't use locals in list comprehensions", "user": {"login": "librarianmage", "id": 12386291, "node_id": "MDQ6VXNlcjEyMzg2Mjkx", "avatar_url": "https://avatars.githubusercontent.com/u/12386291?v=4", "gravatar_id": "", "url": "https://api.github.com/users/librarianmage", "html_url": "https://github.com/librarianmage", "followers_url": "https://api.github.com/users/librarianmage/followers", "following_url": "https://api.github.com/users/librarianmage/following{/other_user}", "gists_url": "https://api.github.com/users/librarianmage/gists{/gist_id}", "starred_url": "https://api.github.com/users/librarianmage/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/librarianmage/subscriptions", "organizations_url": "https://api.github.com/users/librarianmage/orgs", "repos_url": "https://api.github.com/users/librarianmage/repos", "events_url": "https://api.github.com/users/librarianmage/events{/privacy}", "received_events_url": "https://api.github.com/users/librarianmage/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 3933391879, "node_id": "LA_kwDOBEu2Gc7qcswH", "url": "https://api.github.com/repos/saulpw/visidata/labels/unsolved", "name": "unsolved", "color": "fbca04", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-12-19T03:41:48Z", "updated_at": "2023-01-03T05:16:40Z", "closed_at": "2023-01-03T05:16:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Small description**\r\n\r\nWhen using list comprehensions over expr columns that return lists, columns that are not lists end up returning `NameErrors`\r\n\r\n**Expected result**\r\n\r\nThe column should be the same for each iteration over the loop, because it is not a list\r\n\r\n**Actual result with screenshot**\r\n\r\n![image](https://user-images.githubusercontent.com/12386291/208342880-94021e8f-bc0a-4835-a617-1701ae414ecd.png)\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\nPlease attach the commandlog (saved with `Ctrl-D`) to show the steps that led to the issue.\r\nSee [here](http://visidata.org/docs/save-restore/) for more details.\r\n[customers.vdj.txt](https://github.com/saulpw/visidata/files/10255771/customers.vdj.txt)\r\n\r\n\r\n**Additional context**\r\nPlease include the version of VisiData.\r\nsaul.pw/VisiData v2.10.2", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1627/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1627/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1626", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1626/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1626/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1626/events", "html_url": "https://github.com/saulpw/visidata/issues/1626", "id": 1501971468, "node_id": "I_kwDOBEu2Gc5ZhkQM", "number": 1626, "title": "save_xlsx: null values become the string \"None\"", "user": {"login": "dbaynard", "id": 870937, "node_id": "MDQ6VXNlcjg3MDkzNw==", "avatar_url": "https://avatars.githubusercontent.com/u/870937?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dbaynard", "html_url": "https://github.com/dbaynard", "followers_url": "https://api.github.com/users/dbaynard/followers", "following_url": "https://api.github.com/users/dbaynard/following{/other_user}", "gists_url": "https://api.github.com/users/dbaynard/gists{/gist_id}", "starred_url": "https://api.github.com/users/dbaynard/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dbaynard/subscriptions", "organizations_url": "https://api.github.com/users/dbaynard/orgs", "repos_url": "https://api.github.com/users/dbaynard/repos", "events_url": "https://api.github.com/users/dbaynard/events{/privacy}", "received_events_url": "https://api.github.com/users/dbaynard/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-12-18T17:04:47Z", "updated_at": "2022-12-28T23:26:00Z", "closed_at": "2022-12-28T23:18:27Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\n\r\nSetting `--null-value` in either direction doesn't help, so I suspect it isn't just that `options.null_value` is set to `None`.\r\n\r\nI found this during the batch conversion. There's code below.\r\n\r\n**Expected result**\r\n\r\nAn empty string (or the `options.null_value`) is more reasonable than `None`, for this conversion. But I can't set an empty string, with `--null-value`.\r\n\r\n**Actual result with screenshot**\r\n\r\nIn lieu of a screenshot, I have console output.\r\n\r\n```console\r\n> vd -f json -b --save-filetype=xlsx -o nones.xlsx <<< '[{\"foo\":\"None\",\"bar\":null}]'\r\nopening - as json\r\nsaving 1 sheets to nones.xlsx as xlsx\r\nPay attention.\r\nnones.xlsx save finished\r\n> vd -f xlsx -b --save-filetype=json -o - nones.xlsx +:-:: | jq\r\nopening nones.xlsx as xlsx\r\nLet your best be for your friend.\r\nsaving 1 sheets to - as json\r\n[\r\n  {\r\n    \"foo\": \"None\",\r\n    \"bar\": \"None\"\r\n  }\r\n]\r\n```\r\n\r\n<details>\r\n\r\n<summary>Testing with `--null-value`</summary>\r\n\r\n```\r\n> vd -f json -b --save-filetype=xlsx --cmdlog-histfile=vd.log --null-value \"None\" -o nones.xlsx <<< '[{\"foo\":\"None\",\"bar\":null}]'\r\nopening - as json\r\nsaving 1 sheets to nones.xlsx as xlsx\r\nStop this moment, I tell you!\r\nnones.xlsx save finished\r\n> vd -f xlsx -b --save-filetype=json --null-value \"\" -o - nones.xlsx +:-:: | jq\r\nopening nones.xlsx as xlsx\r\nListen.\r\nsaving 1 sheets to - as json\r\n[\r\n  {\r\n    \"foo\": \"None\",\r\n    \"bar\": \"None\"\r\n  }\r\n]\r\n> vd -f xlsx -b --save-filetype=json --null-value \"None\" -o - nones.xlsx +:-:: | jq\r\nopening nones.xlsx as xlsx\r\nWas I the same when I got up this morning?\r\nsaving 1 sheets to - as json\r\n[\r\n  {\r\n    \"foo\": \"None\",\r\n    \"bar\": \"None\"\r\n  }\r\n]\r\n> vd -f json -b --save-filetype=xlsx --cmdlog-histfile=vd.log --null-value \"\" -o nones.xlsx <<< '[{\"foo\":\"None\",\"bar\":null}]'\r\nopening - as json\r\nsaving 1 sheets to nones.xlsx as xlsx\r\nListen.\r\nnones.xlsx save finished\r\n> vd -f xlsx -b --save-filetype=json --null-value \"\" -o - nones.xlsx +:-:: | jq\r\nopening nones.xlsx as xlsx\r\nI wonder what they'll do next!\r\nsaving 1 sheets to - as json\r\n[\r\n  {\r\n    \"foo\": \"None\",\r\n    \"bar\": \"None\"\r\n  }\r\n]\r\n> vd -f xlsx -b --save-filetype=json --null-value \"None\" -o - nones.xlsx +:-:: | jq\r\nopening nones.xlsx as xlsx\r\nWhat are you thinking of?\r\nsaving 1 sheets to - as json\r\n[\r\n  {\r\n    \"foo\": \"None\",\r\n    \"bar\": \"None\"\r\n  }\r\n]\r\n```\r\n\r\n</details>\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n\r\nThis was all done within `--batch` mode (and setting `--cmdlog-histfile` resulted in no output).\r\n\r\n**Additional context**\r\n\r\nI'm pretty sure this is due to naive serialization of the python value.\r\n\r\n```python\r\n>>> f\"{None}\"\r\n'None'\r\n```\r\n\r\nVersion\r\n\r\n```\r\nsaul.pw/VisiData v2.9.1\r\n```\r\n\r\nAs it happens, I'm interested in extending the `save_xlsx` functionality to create Tables (there is support in `openpyxl`). If I get round to that sooner rather than later, I'll look to fix this first.", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1626/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1626/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1625", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1625/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1625/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1625/events", "html_url": "https://github.com/saulpw/visidata/issues/1625", "id": 1501538853, "node_id": "I_kwDOBEu2Gc5Zf6ol", "number": 1625, "title": "[status bar] Clicking on status bar does nothing", "user": {"login": "frosencrantz", "id": 631242, "node_id": "MDQ6VXNlcjYzMTI0Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/631242?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frosencrantz", "html_url": "https://github.com/frosencrantz", "followers_url": "https://api.github.com/users/frosencrantz/followers", "following_url": "https://api.github.com/users/frosencrantz/following{/other_user}", "gists_url": "https://api.github.com/users/frosencrantz/gists{/gist_id}", "starred_url": "https://api.github.com/users/frosencrantz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frosencrantz/subscriptions", "organizations_url": "https://api.github.com/users/frosencrantz/orgs", "repos_url": "https://api.github.com/users/frosencrantz/repos", "events_url": "https://api.github.com/users/frosencrantz/events{/privacy}", "received_events_url": "https://api.github.com/users/frosencrantz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-12-17T19:17:58Z", "updated_at": "2023-01-11T22:32:18Z", "closed_at": "2023-01-08T06:01:02Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nClicking on the status bar does not do the expected operations.\r\n\r\n**Expected result**\r\nPer Saul https://github.com/saulpw/visidata/discussions/1616#discussioncomment-4301100:\r\n> Clicking on the sheet name itself (not the whole status bar) should do something: left-click to go to the sheets sheet, right click to rename the sheet.\r\n\r\n\r\n**Actual result with screenshot**\r\n\r\n- https://asciinema.org/a/gvx09hw5fHdpCK3ive93bRW1Y\r\n  -  I click on  the sheet name with both left and right buttons and it does not do anything.  The clicking does cause the cursor to change columns.\r\n \r\n- https://asciinema.org/a/cwIvucYMi1VohpbPO9teKhX4p\r\n\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n\r\nClick with the mouse on the sheet name\r\n\r\n**Additional context**\r\nPlease include the version of VisiData.  Latest develop version.  Based on discussion https://github.com/saulpw/visidata/discussions/1616\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1625/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1625/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1622", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1622/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1622/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1622/events", "html_url": "https://github.com/saulpw/visidata/issues/1622", "id": 1497570939, "node_id": "I_kwDOBEu2Gc5ZQx57", "number": 1622, "title": "Aborting Read Of SQLite Database with WAL Leaves wal and shm Files", "user": {"login": "cwarden", "id": 387035, "node_id": "MDQ6VXNlcjM4NzAzNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/387035?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cwarden", "html_url": "https://github.com/cwarden", "followers_url": "https://api.github.com/users/cwarden/followers", "following_url": "https://api.github.com/users/cwarden/following{/other_user}", "gists_url": "https://api.github.com/users/cwarden/gists{/gist_id}", "starred_url": "https://api.github.com/users/cwarden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cwarden/subscriptions", "organizations_url": "https://api.github.com/users/cwarden/orgs", "repos_url": "https://api.github.com/users/cwarden/repos", "events_url": "https://api.github.com/users/cwarden/events{/privacy}", "received_events_url": "https://api.github.com/users/cwarden/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2237539092, "node_id": "MDU6TGFiZWwyMjM3NTM5MDky", "url": "https://api.github.com/repos/saulpw/visidata/labels/By%20Design", "name": "By Design", "color": "f9898f", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-12-14T23:41:14Z", "updated_at": "2023-01-11T04:41:35Z", "closed_at": "2023-01-06T05:24:24Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\n\r\nIf I load a large sqlite database created with write-ahead logging enabled in vd, then quit before vd is done counting all rows in the tables, it leaves behind the wal and shm files.\r\n\r\n**Expected result**\r\n\r\nNo writes to disk when opening a database, or at least no leftover files when quitting vd.\r\n\r\n**Actual result with screenshot**\r\n\r\n```\r\n$ vd big-wal.db\r\n<quit vd>\r\n$ ls big-wal.db*\r\nbig-wal.db  big-wal.db-shm  big-wal.db-wal\r\n```\r\n\r\n**Steps to create sample database**\r\n\r\n```\r\n$ wget https://download.cms.gov/nppes/NPPES_Data_Dissemination_December_2022.zip\r\n$ unzip NPPES_Data_Dissemination_December_2022.zip endpoint_pfile_20050523-20221211.csv\r\n$ sqlite3 big-wal.db\r\nsqlite> PRAGMA journal_mode=WAL;\r\nsqlite> .mode csv\r\nsqlite> .import \"endpoint_pfile_20050523-20221211.csv\" big\r\nsqlite> .quit\r\n```\r\n\r\n\r\n**Additional context**\r\n\r\nVisidata ad8b7f1b7eb55cf9dd986132b38cda5d57079962\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1622/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1622/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1620", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1620/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1620/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1620/events", "html_url": "https://github.com/saulpw/visidata/issues/1620", "id": 1480297864, "node_id": "I_kwDOBEu2Gc5YO42I", "number": 1620, "title": "First row in the All Sheets Sheet is not sorted.", "user": {"login": "franzhuang", "id": 87310483, "node_id": "MDQ6VXNlcjg3MzEwNDgz", "avatar_url": "https://avatars.githubusercontent.com/u/87310483?v=4", "gravatar_id": "", "url": "https://api.github.com/users/franzhuang", "html_url": "https://github.com/franzhuang", "followers_url": "https://api.github.com/users/franzhuang/followers", "following_url": "https://api.github.com/users/franzhuang/following{/other_user}", "gists_url": "https://api.github.com/users/franzhuang/gists{/gist_id}", "starred_url": "https://api.github.com/users/franzhuang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/franzhuang/subscriptions", "organizations_url": "https://api.github.com/users/franzhuang/orgs", "repos_url": "https://api.github.com/users/franzhuang/repos", "events_url": "https://api.github.com/users/franzhuang/events{/privacy}", "received_events_url": "https://api.github.com/users/franzhuang/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-12-06T22:05:34Z", "updated_at": "2023-01-03T05:41:58Z", "closed_at": "2023-01-03T05:41:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Small description**\r\nFirst row is not  sorted with [  or  ]  in columns of Sheets Sheet.\r\n\r\n**Expected result**\r\nAll rows should be sorted in Sheets Sheet.\r\n\r\n**Actual result with screenshot( sort in nRows columns)**\r\n![222127624](https://user-images.githubusercontent.com/87310483/206032798-d8fbb524-6556-4493-b2a5-44826ef840b5.png)\r\n![22212755939](https://user-images.githubusercontent.com/87310483/206032868-f61822d8-763f-4c2b-ad0f-b41d47e9bde2.png)\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n1. open several files.\r\n2. press shift + S to open Sheets Sheet.\r\n3. go to nRows or nCols or other numeric columns, and type [  or  ] to sort.\r\n\r\n**Additional context**\r\nVersion 2.10.2\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1620/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1620/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1619", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1619/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1619/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1619/events", "html_url": "https://github.com/saulpw/visidata/issues/1619", "id": 1478792089, "node_id": "I_kwDOBEu2Gc5YJJOZ", "number": 1619, "title": "[cmdlog] fancy chooser does not record input", "user": {"login": "iainelder", "id": 5024311, "node_id": "MDQ6VXNlcjUwMjQzMTE=", "avatar_url": "https://avatars.githubusercontent.com/u/5024311?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iainelder", "html_url": "https://github.com/iainelder", "followers_url": "https://api.github.com/users/iainelder/followers", "following_url": "https://api.github.com/users/iainelder/following{/other_user}", "gists_url": "https://api.github.com/users/iainelder/gists{/gist_id}", "starred_url": "https://api.github.com/users/iainelder/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iainelder/subscriptions", "organizations_url": "https://api.github.com/users/iainelder/orgs", "repos_url": "https://api.github.com/users/iainelder/repos", "events_url": "https://api.github.com/users/iainelder/events{/privacy}", "received_events_url": "https://api.github.com/users/iainelder/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-12-06T10:44:46Z", "updated_at": "2022-12-29T06:48:14Z", "closed_at": "2022-12-29T06:48:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Small description**\r\n\r\nI perform a full join of the following files.\r\n\r\nabc1.csv:\r\n\r\n```\r\na,b,c\r\n1,1,1\r\n1,1,1\r\n1,1,1\r\n```\r\n\r\nabc2.csv\r\n\r\n```\r\na,b,c\r\n2,2,2\r\n2,2,2\r\n2,2,2\r\n```\r\n\r\nThe screen looks like this:\r\n\r\n![image](https://user-images.githubusercontent.com/5024311/205888883-d11403af-4c9f-4269-81fb-214f0101a528.png)\r\n\r\nI save the cmdlog.\r\n\r\nI replay the cmdlog:\r\n\r\n```bash\r\nvd --play cmdlog.vdj\r\n```\r\n\r\n I see the following message in the status bar (typed out because I can't copy):\r\n\r\n```\r\nShift+S> sheets| no choice made | replay aborted during join-selected | merge selected sheets with visible columns from all, keeping rows according to jointype       &  join-selected      4 sheets *2\r\n```\r\n\r\nThe screen looks like this:\r\n\r\n![image](https://user-images.githubusercontent.com/5024311/205888585-2186e81b-c429-42f2-8d65-6d72238333d8.png)\r\n\r\nThe error log is empty.\r\n\r\n\r\n**Expected result**\r\n\r\nAfter the replay, I expect the screen to look again like this first screenshot.\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n\r\n```\r\n#!vd -p\r\n{\"longname\": \"open-file\", \"input\": \".\", \"keystrokes\": \"o\"}\r\n{\"col\": \"\", \"row\": \"\", \"longname\": \"open-file\", \"input\": \"abc1.csv\", \"keystrokes\": \"o\", \"comment\": \"Open file or URL\"}\r\n{\"sheet\": \"abc1\", \"col\": \"a\", \"row\": \"\", \"longname\": \"key-col\", \"input\": \"\", \"keystrokes\": \"!\", \"comment\": \"toggle current column as a key column\"}\r\n{\"col\": \"\", \"row\": \"\", \"longname\": \"open-file\", \"input\": \"abc2.csv\", \"keystrokes\": \"o\", \"comment\": \"Open file or URL\"}\r\n{\"sheet\": \"abc2\", \"col\": \"a\", \"row\": \"\", \"longname\": \"key-col\", \"input\": \"\", \"keystrokes\": \"!\", \"comment\": \"toggle current column as a key column\"}\r\n{\"sheet\": \"abc2\", \"col\": \"\", \"row\": \"\", \"longname\": \"sheets-stack\", \"input\": \"\", \"keystrokes\": \"Shift+S\", \"comment\": \"open Sheets Stack: join or jump between the active sheets on the current stack\"}\r\n{\"sheet\": \"sheets\", \"col\": \"\", \"row\": \"\\u30adabc1\", \"longname\": \"select-row\", \"input\": \"\", \"keystrokes\": \"s\", \"comment\": \"select current row\"}\r\n{\"sheet\": \"sheets\", \"col\": \"\", \"row\": \"\\u30adabc2\", \"longname\": \"select-row\", \"input\": \"\", \"keystrokes\": \"s\", \"comment\": \"select current row\"}\r\n{\"sheet\": \"sheets\", \"col\": \"\", \"row\": \"\", \"longname\": \"join-selected\", \"input\": \"\", \"keystrokes\": \"&\", \"comment\": \"merge selected sheets with visible columns from all, keeping rows according to jointype\"}\r\n{\"sheet\": \"choices\", \"col\": \"\", \"row\": \"\\u30adfull\", \"longname\": \"choose-rows\", \"input\": \"full\", \"keystrokes\": \"Enter\", \"comment\": \"\"}\r\n```\r\n\r\n**Additional context**\r\n\r\nVisidata version: `saul.pw/VisiData v2.10.2`\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1619/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1619/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1617", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1617/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1617/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1617/events", "html_url": "https://github.com/saulpw/visidata/issues/1617", "id": 1475076087, "node_id": "I_kwDOBEu2Gc5X69_3", "number": 1617, "title": "Packages very old", "user": {"login": "PaluMacil", "id": 7151622, "node_id": "MDQ6VXNlcjcxNTE2MjI=", "avatar_url": "https://avatars.githubusercontent.com/u/7151622?v=4", "gravatar_id": "", "url": "https://api.github.com/users/PaluMacil", "html_url": "https://github.com/PaluMacil", "followers_url": "https://api.github.com/users/PaluMacil/followers", "following_url": "https://api.github.com/users/PaluMacil/following{/other_user}", "gists_url": "https://api.github.com/users/PaluMacil/gists{/gist_id}", "starred_url": "https://api.github.com/users/PaluMacil/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/PaluMacil/subscriptions", "organizations_url": "https://api.github.com/users/PaluMacil/orgs", "repos_url": "https://api.github.com/users/PaluMacil/repos", "events_url": "https://api.github.com/users/PaluMacil/events{/privacy}", "received_events_url": "https://api.github.com/users/PaluMacil/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2022-12-04T18:43:09Z", "updated_at": "2023-02-06T22:49:29Z", "closed_at": "2022-12-04T19:06:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Small description**\r\n\r\nI'm not sure how or who packages this tool for Ubuntu, but the version is old enough that there isn't even a menu in the current deb provided via apt. This was pretty confusing since the docs start off showing a menu, and trying to activate or show it was the first order of business for someone like me that prefers this convenience. This might be an apt only thing, but I left this issue general so that other packages can be checked. I also considered this to be a bug rather than feature since the doc mismatch and time spent trying to show the menu is uncomfortable.\r\n\r\n**Expected result**\r\n\r\n**Actual result with screenshot**\r\n\r\n```\r\n$ sudo apt install visidata\r\n...\r\nGet:1 http://ca.archive.ubuntu.com/ubuntu jammy/universe amd64 visidata all 2.2.1-1 [157 kB]\r\n```\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n\r\nNA\r\n\r\n**Additional context**\r\n\r\n```\r\n$ vd --version\r\nsaul.pw/VisiData v2.2.1\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1617/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1617/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1613", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1613/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1613/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1613/events", "html_url": "https://github.com/saulpw/visidata/issues/1613", "id": 1464137666, "node_id": "I_kwDOBEu2Gc5XRPfC", "number": 1613, "title": "Custom-date column not recognized as numerical value when plotting", "user": {"login": "tdussa", "id": 6197517, "node_id": "MDQ6VXNlcjYxOTc1MTc=", "avatar_url": "https://avatars.githubusercontent.com/u/6197517?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tdussa", "html_url": "https://github.com/tdussa", "followers_url": "https://api.github.com/users/tdussa/followers", "following_url": "https://api.github.com/users/tdussa/following{/other_user}", "gists_url": "https://api.github.com/users/tdussa/gists{/gist_id}", "starred_url": "https://api.github.com/users/tdussa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tdussa/subscriptions", "organizations_url": "https://api.github.com/users/tdussa/orgs", "repos_url": "https://api.github.com/users/tdussa/repos", "events_url": "https://api.github.com/users/tdussa/events{/privacy}", "received_events_url": "https://api.github.com/users/tdussa/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2022-11-25T07:24:18Z", "updated_at": "2023-03-04T07:00:46Z", "closed_at": "2023-03-04T07:00:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "When a column with a custom date format is parsed using the custom-date type, it is correctly converted into a datetime structure.  However, when this data is plotted, it is not recognized as a numerical type.\r\n\r\n**Expected result**\r\n\r\n\"Normal\" date fields (those that are interpretable as the standard `type-date` type by pressing `@`) can be plotted as numerical values, both as data columns (on the y axis) and as key columns (on the x axis).\r\n\r\n**Actual result with screenshot**\r\n\r\nCustom-format date colums interpreted as `type-customdate` (by pressing `z@` and entering a fitting type string) are _interpreted_ correctly into a timestamp, but are not recognized as numerical values when plotting.  When trying to plot such a column as values (on the y axis), the error message `is non-numeric` is displayed; when trying to plot some data using a custom-date column as key column, a plot is created, but the time series is not displayed as such but as a number of discrete data points (effectively plotting one time series per data row).  See the attached screenshot.\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n\r\nSee the attached sample CSV and VDJ files.\r\n\r\n**Additional context**\r\n\r\nI'm running VisiData version 2.10.2.\r\n\r\n[test.csv](https://github.com/saulpw/visidata/files/10089444/test.csv)\r\n[test.vdj.gz](https://github.com/saulpw/visidata/files/10089459/test.vdj.gz)\r\n![Incorrect_plot](https://user-images.githubusercontent.com/6197517/203924153-3402c189-b97e-474a-98a5-11038d4381a1.png)\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1613/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1613/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1612", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1612/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1612/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1612/events", "html_url": "https://github.com/saulpw/visidata/issues/1612", "id": 1462930742, "node_id": "I_kwDOBEu2Gc5XMo02", "number": 1612, "title": "visidata.vd.view_pandas(<df>) showing wrong number", "user": {"login": "YasserKa", "id": 16079479, "node_id": "MDQ6VXNlcjE2MDc5NDc5", "avatar_url": "https://avatars.githubusercontent.com/u/16079479?v=4", "gravatar_id": "", "url": "https://api.github.com/users/YasserKa", "html_url": "https://github.com/YasserKa", "followers_url": "https://api.github.com/users/YasserKa/followers", "following_url": "https://api.github.com/users/YasserKa/following{/other_user}", "gists_url": "https://api.github.com/users/YasserKa/gists{/gist_id}", "starred_url": "https://api.github.com/users/YasserKa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/YasserKa/subscriptions", "organizations_url": "https://api.github.com/users/YasserKa/orgs", "repos_url": "https://api.github.com/users/YasserKa/repos", "events_url": "https://api.github.com/users/YasserKa/events{/privacy}", "received_events_url": "https://api.github.com/users/YasserKa/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2237539092, "node_id": "MDU6TGFiZWwyMjM3NTM5MDky", "url": "https://api.github.com/repos/saulpw/visidata/labels/By%20Design", "name": "By Design", "color": "f9898f", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-11-24T08:11:18Z", "updated_at": "2022-12-30T15:31:50Z", "closed_at": "2022-12-30T08:40:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Small description**\r\nStated in title\r\n\r\n**Expected result**\r\nCorrect number\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n```\r\nimport visidata\r\nimport pandas as pd\r\n\r\ndf = pd.DataFrame([1427519497238458390])\r\nvisidata.vd.view_pandas(df)\r\n```\r\nShows:\r\n```\r\n0                                  #\r\n1427519497238458368\r\n```\r\n\r\n**Additional context**\r\nsaul.pw/VisiData v2.10.2", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1612/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1612/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1611", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1611/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1611/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1611/events", "html_url": "https://github.com/saulpw/visidata/issues/1611", "id": 1459995328, "node_id": "I_kwDOBEu2Gc5XBcLA", "number": 1611, "title": "pytests fails without ~/.visidatarc", "user": {"login": "gunchev", "id": 1235099, "node_id": "MDQ6VXNlcjEyMzUwOTk=", "avatar_url": "https://avatars.githubusercontent.com/u/1235099?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gunchev", "html_url": "https://github.com/gunchev", "followers_url": "https://api.github.com/users/gunchev/followers", "following_url": "https://api.github.com/users/gunchev/following{/other_user}", "gists_url": "https://api.github.com/users/gunchev/gists{/gist_id}", "starred_url": "https://api.github.com/users/gunchev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gunchev/subscriptions", "organizations_url": "https://api.github.com/users/gunchev/orgs", "repos_url": "https://api.github.com/users/gunchev/repos", "events_url": "https://api.github.com/users/gunchev/events{/privacy}", "received_events_url": "https://api.github.com/users/gunchev/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-11-22T14:36:02Z", "updated_at": "2023-01-06T06:37:19Z", "closed_at": "2023-01-06T06:35:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Small description**\r\nRunning pytest on 2.10.2 results in FileNotFoundError\r\n\r\n**Expected result**\r\nsuccessful tests\r\n\r\n**Actual result with screenshot**\r\n    + /usr/bin/pytest-3\r\n    ============================= test session starts ==============================\r\n    platform linux -- Python 3.6.8, pytest-3.4.2, py-1.5.3, pluggy-0.6.0\r\n    rootdir: /builddir/build/BUILD/visidata-2.10.2, inifile:\r\n    collected 22 items\r\n\r\n    visidata/tests/test_commands.py F                                        [  4%]\r\n    visidata/tests/test_date.py .                                            [  9%]\r\n    visidata/tests/test_edittext.py ...................                      [ 95%]\r\n    visidata/tests/test_path.py .                                            [100%]\r\n\r\n    =================================== FAILURES ===================================\r\n    ________________________ TestCommands.test_baseCommands ________________________\r\n\r\n    self = <visidata.tests.test_commands.TestCommands object at 0x7f91690ae160>\r\n    mock_screen = <Mock id='140262509306264'>\r\n\r\n        def test_baseCommands(self, mock_screen):\r\n            'exec each global command at least once'\r\n        \r\n            cmdlist = visidata.vd.commands\r\n        \r\n        \r\n            vs = visidata.Sheet('test_commands')\r\n            vs.reload()\r\n            vd = visidata.vd\r\n        \r\n            nerrs = 0\r\n            ntotal = 0\r\n            for longname in cmdlist.keys():\r\n                if not isTestableCommand(longname, cmdlist):\r\n                    continue\r\n                ntotal += 1\r\n                print(longname)\r\n                self.runOneTest(mock_screen, longname)\r\n                vd.sync()\r\n                if vd.lastErrors:\r\n                    # longname, execstr, and vd.lastErrors\r\n                    print(\"FAILED: {0}\".format(longname), '\\n'.join('\\n'.join(x) for x in vd.lastErrors))\r\n                    nerrs += 1\r\n                    break\r\n                vs.checkCursor()\r\n            print('%s/%s commands had errors' % (nerrs, ntotal))\r\n            if nerrs > 0:\r\n    >           assert False\r\n    E           assert False\r\n\r\n    visidata/tests/test_commands.py:103: AssertionError\r\n    ----------------------------- Captured stdout call -----------------------------\r\n    open-config\r\n    FAILED: open-config Traceback (most recent call last):\r\n    File \"/builddir/build/BUILD/visidata-2.10.2/visidata/basesheet.py\", line 182, in execCommand\r\n        escaped = super().execCommand2(cmd, vdglobals=vdglobals)\r\n    File \"/builddir/build/BUILD/visidata-2.10.2/visidata/basesheet.py\", line 69, in execCommand2\r\n        exec(code, vdglobals, LazyChainMap(vd, self))\r\n    File \"open-config\", line 1, in <module>\r\n        'VisiData: a curses interface for exploring and arranging tabular data'\r\n    File \"/builddir/build/BUILD/visidata-2.10.2/visidata/_open.py\", line 113, in open_txt\r\n        with p.open_text(encoding=vd.options.encoding) as fp:\r\n    File \"/builddir/build/BUILD/visidata-2.10.2/visidata/path.py\", line 222, in open_text\r\n        return self.open(mode=mode, encoding=encoding or vd.options.encoding, errors=vd.options.encoding_errors, newline=newline)\r\n    File \"/builddir/build/BUILD/visidata-2.10.2/visidata/path.py\", line 262, in open\r\n        return FileProgress(path, fp=self._path.open(*args, **kwargs), **kwargs)\r\n    File \"/usr/lib64/python3.6/pathlib.py\", line 1183, in open\r\n        opener=self._opener)\r\n    File \"/usr/lib64/python3.6/pathlib.py\", line 1037, in _opener\r\n        return self._accessor.open(self, flags, mode)\r\n    File \"/usr/lib64/python3.6/pathlib.py\", line 387, in wrapped\r\n        return strfunc(str(pathobj), *args)\r\n    FileNotFoundError: [Errno 2] No such file or directory: '/builddir/.visidatarc'\r\n    1/1 commands had errors\r\n    ===================== 1 failed, 21 passed in 0.27 seconds ======================\r\n    error: Bad exit status from /var/tmp/rpm-tmp.Wqn9GJ (%check)\r\n        Bad exit status from /var/tmp/rpm-tmp.Wqn9GJ (%check)\r\n\r\n\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n\r\n    rm .visidatarc\r\n    pytest\r\n\r\n\r\nA simple `touch ~/.visidatarc` allows the tests to complete.", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1611/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1611/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1610", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1610/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1610/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1610/events", "html_url": "https://github.com/saulpw/visidata/issues/1610", "id": 1457830147, "node_id": "I_kwDOBEu2Gc5W5LkD", "number": 1610, "title": "Documentation: viewtsv fixes", "user": {"login": "cstork", "id": 44191, "node_id": "MDQ6VXNlcjQ0MTkx", "avatar_url": "https://avatars.githubusercontent.com/u/44191?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cstork", "html_url": "https://github.com/cstork", "followers_url": "https://api.github.com/users/cstork/followers", "following_url": "https://api.github.com/users/cstork/following{/other_user}", "gists_url": "https://api.github.com/users/cstork/gists{/gist_id}", "starred_url": "https://api.github.com/users/cstork/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cstork/subscriptions", "organizations_url": "https://api.github.com/users/cstork/orgs", "repos_url": "https://api.github.com/users/cstork/repos", "events_url": "https://api.github.com/users/cstork/events{/privacy}", "received_events_url": "https://api.github.com/users/cstork/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-11-21T12:06:31Z", "updated_at": "2022-11-22T20:59:07Z", "closed_at": "2022-11-22T20:59:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Small description**\r\n\r\nThe link to `viewtsv.py` at the beginning of https://www.visidata.org/docs/viewtsv/ is missing the extension.\r\n\r\nAt the end of the article it seems that an old name `vdtui` for the utility is used.\r\n\r\nFurthermore, it's not clear from the explanations/annotations what purpose `viewtsv` is supposed to serve. How is it different from just opening the tsv-files with `vd`?\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1610/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1610/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1607", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1607/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1607/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1607/events", "html_url": "https://github.com/saulpw/visidata/issues/1607", "id": 1456615668, "node_id": "I_kwDOBEu2Gc5W0jD0", "number": 1607, "title": "[loading internal files] Stack trace on loading macros file", "user": {"login": "frosencrantz", "id": 631242, "node_id": "MDQ6VXNlcjYzMTI0Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/631242?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frosencrantz", "html_url": "https://github.com/frosencrantz", "followers_url": "https://api.github.com/users/frosencrantz/followers", "following_url": "https://api.github.com/users/frosencrantz/following{/other_user}", "gists_url": "https://api.github.com/users/frosencrantz/gists{/gist_id}", "starred_url": "https://api.github.com/users/frosencrantz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frosencrantz/subscriptions", "organizations_url": "https://api.github.com/users/frosencrantz/orgs", "repos_url": "https://api.github.com/users/frosencrantz/repos", "events_url": "https://api.github.com/users/frosencrantz/events{/privacy}", "received_events_url": "https://api.github.com/users/frosencrantz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-11-19T18:39:47Z", "updated_at": "2023-01-03T05:45:19Z", "closed_at": "2023-01-03T05:45:13Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nWhen setting `--header` and `-d` flags Visidata crashes on reading macros file.\r\n\r\n**Expected result**\r\nNo crash\r\n\r\n**Actual result with screenshot**\r\nhttps://asciinema.org/a/GXUDDFvxK4qmwGrHzEMiGwkFv\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/usr/bin/vd\", line 6, in <module>\r\n    visidata.main.vd_cli()\r\n  File \"/usr/lib/python3.9/site-packages/visidata/main.py\", line 354, in vd_cli\r\n    rc = main_vd()\r\n  File \"/usr/lib/python3.9/site-packages/visidata/main.py\", line 319, in main_vd\r\n    run(vd.sheets[0])\r\n  File \"/usr/lib/python3.9/site-packages/visidata/vdobj.py\", line 34, in _vdfunc\r\n    return getattr(visidata.vd, func.__name__)(*args, **kwargs)\r\n  File \"/usr/lib/python3.9/site-packages/visidata/extensible.py\", line 54, in wrappedfunc\r\n    beforefunc(*args, **kwargs)\r\n  File \"/usr/lib/python3.9/site-packages/visidata/macros.py\", line 76, in run\r\n    vd.macrosheet\r\n  File \"/usr/lib/python3.9/site-packages/visidata/extensible.py\", line 102, in get_if_not\r\n    setattr(self, name, func(self))\r\n  File \"/usr/lib/python3.9/site-packages/visidata/macros.py\", line 15, in macrosheet\r\n    for ks, fn in macrosheet.rows:\r\nValueError: not enough values to unpack (expected 2, got 1)\r\n```\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n- Start with a macro files.\r\n- Run: `vd -d \" \" --header 0 -f tsv ../sample_data/sample.tsv`\r\n- Crash\r\n\r\n**Additional context**\r\nPlease include the version of VisiData. Latest develop version\r\n\r\nThis sort of issue with CLI flags interfering with loading has happened before.  ", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1607/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1607/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1602", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1602/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1602/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1602/events", "html_url": "https://github.com/saulpw/visidata/issues/1602", "id": 1451971483, "node_id": "I_kwDOBEu2Gc5Wi1Ob", "number": 1602, "title": "[hdf5] array of scalars not displaying properly", "user": {"login": "linwaytin", "id": 12767902, "node_id": "MDQ6VXNlcjEyNzY3OTAy", "avatar_url": "https://avatars.githubusercontent.com/u/12767902?v=4", "gravatar_id": "", "url": "https://api.github.com/users/linwaytin", "html_url": "https://github.com/linwaytin", "followers_url": "https://api.github.com/users/linwaytin/followers", "following_url": "https://api.github.com/users/linwaytin/following{/other_user}", "gists_url": "https://api.github.com/users/linwaytin/gists{/gist_id}", "starred_url": "https://api.github.com/users/linwaytin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/linwaytin/subscriptions", "organizations_url": "https://api.github.com/users/linwaytin/orgs", "repos_url": "https://api.github.com/users/linwaytin/repos", "events_url": "https://api.github.com/users/linwaytin/events{/privacy}", "received_events_url": "https://api.github.com/users/linwaytin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2022-11-16T17:10:36Z", "updated_at": "2023-01-04T14:48:42Z", "closed_at": "2023-01-04T02:52:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Small description**\r\nI have a h5 file generated by python (h5py). I assume I can see the data in vd, but a lot empty field showed up (see the screenshot).\r\n\r\n**Expected result**\r\nShould be able to see the data.\r\n\r\n**Actual result with screenshot**\r\nhttps://imgur.com/ygtkYqa\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\nopen with `vd my_data.h5`\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1602/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1602/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1599", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1599/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1599/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1599/events", "html_url": "https://github.com/saulpw/visidata/issues/1599", "id": 1447078195, "node_id": "I_kwDOBEu2Gc5WQKkz", "number": 1599, "title": "[html loader] Links found in the columns should be wrapped with canonicalize_url()", "user": {"login": "frosencrantz", "id": 631242, "node_id": "MDQ6VXNlcjYzMTI0Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/631242?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frosencrantz", "html_url": "https://github.com/frosencrantz", "followers_url": "https://api.github.com/users/frosencrantz/followers", "following_url": "https://api.github.com/users/frosencrantz/following{/other_user}", "gists_url": "https://api.github.com/users/frosencrantz/gists{/gist_id}", "starred_url": "https://api.github.com/users/frosencrantz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frosencrantz/subscriptions", "organizations_url": "https://api.github.com/users/frosencrantz/orgs", "repos_url": "https://api.github.com/users/frosencrantz/repos", "events_url": "https://api.github.com/users/frosencrantz/events{/privacy}", "received_events_url": "https://api.github.com/users/frosencrantz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-11-13T20:49:23Z", "updated_at": "2023-01-03T01:13:29Z", "closed_at": "2023-01-03T01:12:47Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nLinks found in an html table don't always work when they are relative \r\n\r\n**Expected result**\r\nLinks in the generated link# columns can be opened directly \r\n\r\n**Actual result with screenshot**\r\nRelative paths do not work properly with commands  that open urls like `zo`\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n\r\nI had sample data but lost it.  If the fix below doesn't work or if context is needed I can find data.\r\n\r\n**Additional context**\r\nPlease include the version of VisiData.  Latest version of develop\r\n\r\nIt looks like this line has canonicalize_url():  https://github.com/saulpw/visidata/blob/develop/visidata/loaders/html.py#L77\r\nAnd it should be added to this line: \r\n   https://github.com/saulpw/visidata/blob/develop/visidata/loaders/html.py#L110", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1599/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1599/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1591", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1591/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1591/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1591/events", "html_url": "https://github.com/saulpw/visidata/issues/1591", "id": 1444068113, "node_id": "I_kwDOBEu2Gc5WErsR", "number": 1591, "title": "Permission issue for system-wide installation via pypi source", "user": {"login": "icp1994", "id": 15713555, "node_id": "MDQ6VXNlcjE1NzEzNTU1", "avatar_url": "https://avatars.githubusercontent.com/u/15713555?v=4", "gravatar_id": "", "url": "https://api.github.com/users/icp1994", "html_url": "https://github.com/icp1994", "followers_url": "https://api.github.com/users/icp1994/followers", "following_url": "https://api.github.com/users/icp1994/following{/other_user}", "gists_url": "https://api.github.com/users/icp1994/gists{/gist_id}", "starred_url": "https://api.github.com/users/icp1994/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/icp1994/subscriptions", "organizations_url": "https://api.github.com/users/icp1994/orgs", "repos_url": "https://api.github.com/users/icp1994/repos", "events_url": "https://api.github.com/users/icp1994/events{/privacy}", "received_events_url": "https://api.github.com/users/icp1994/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "anjakefala", "id": 7489659, "node_id": "MDQ6VXNlcjc0ODk2NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/7489659?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anjakefala", "html_url": "https://github.com/anjakefala", "followers_url": "https://api.github.com/users/anjakefala/followers", "following_url": "https://api.github.com/users/anjakefala/following{/other_user}", "gists_url": "https://api.github.com/users/anjakefala/gists{/gist_id}", "starred_url": "https://api.github.com/users/anjakefala/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anjakefala/subscriptions", "organizations_url": "https://api.github.com/users/anjakefala/orgs", "repos_url": "https://api.github.com/users/anjakefala/repos", "events_url": "https://api.github.com/users/anjakefala/events{/privacy}", "received_events_url": "https://api.github.com/users/anjakefala/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "anjakefala", "id": 7489659, "node_id": "MDQ6VXNlcjc0ODk2NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/7489659?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anjakefala", "html_url": "https://github.com/anjakefala", "followers_url": "https://api.github.com/users/anjakefala/followers", "following_url": "https://api.github.com/users/anjakefala/following{/other_user}", "gists_url": "https://api.github.com/users/anjakefala/gists{/gist_id}", "starred_url": "https://api.github.com/users/anjakefala/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anjakefala/subscriptions", "organizations_url": "https://api.github.com/users/anjakefala/orgs", "repos_url": "https://api.github.com/users/anjakefala/repos", "events_url": "https://api.github.com/users/anjakefala/events{/privacy}", "received_events_url": "https://api.github.com/users/anjakefala/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2022-11-10T15:04:36Z", "updated_at": "2023-01-19T06:07:56Z", "closed_at": "2023-01-02T23:35:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "In the [visidata pypi source tarball](https://pypi.org/project/visidata/#files), the files under the egg-info folder have the following permission structure:\r\n```\r\n$ ls -l visidata-2.10.2/visidata.egg-info/\r\ntotal 24\r\n-rw-r----- 1 icp icp 3922 Oct  8 23:20 PKG-INFO\r\n-rw-r----- 1 icp icp 3133 Oct  8 23:20 SOURCES.txt\r\n-rw-r----- 1 icp icp    1 Oct  8 23:20 dependency_links.txt\r\n-rw-r----- 1 icp icp   50 Oct  8 23:20 entry_points.txt\r\n-rw-r----- 1 icp icp   88 Oct  8 23:20 requires.txt\r\n-rw-r----- 1 icp icp    9 Oct  8 23:20 top_level.txt\r\n```\r\nAs these don't have read permissions for non-owner/group, when built and installed system-wide it yields a permission error for standard users (`pkg_resources` needs read access)\r\n```\r\n$ ls -l /usr/lib/python3.11/site-packages/visidata-2.10.2-py3.11.egg-info/\r\ntotal 24\r\n-rw-r----- 1 root root 3902 Nov 10 19:43 PKG-INFO\r\n-rw-r----- 1 root root 3143 Nov 10 19:43 SOURCES.txt\r\n-rw-r----- 1 root root    1 Nov 10 19:43 dependency_links.txt\r\n-rw-r----- 1 root root   50 Nov 10 19:43 entry_points.txt\r\n-rw-r----- 1 root root   88 Nov 10 19:43 requires.txt\r\n-rw-r----- 1 root root    9 Nov 10 19:43 top_level.txt\r\n$ vd\r\n...[Traceback]...\r\nPermissionError: [Errno 13] Permission denied: '/usr/lib/python3.11/site-packages/visidata-2.10.2-py3.11.egg-info/PKG-INFO'\r\n```\r\nI checked some other packages and their egg-info files provide universal read access. For example [Glances](https://pypi.org/project/Glances/)\r\n```\r\n$ ls -l Glances-3.3.0.4/Glances.egg-info/\r\ntotal 48\r\n-rw-r--r-- 1 icp icp 16460 Nov  3 20:00 PKG-INFO\r\n-rw-r--r-- 1 icp icp  8786 Nov  3 20:00 SOURCES.txt\r\n-rw-r--r-- 1 icp icp     1 Nov  3 20:00 dependency_links.txt\r\n-rw-r--r-- 1 icp icp    41 Nov  3 20:00 entry_points.txt\r\n-rw-r--r-- 1 icp icp   680 Nov  3 20:00 requires.txt\r\n-rw-r--r-- 1 icp icp     8 Nov  3 20:00 top_level.txt\r\n```", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1591/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1591/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1583", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1583/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1583/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1583/events", "html_url": "https://github.com/saulpw/visidata/issues/1583", "id": 1436672904, "node_id": "I_kwDOBEu2Gc5VoeOI", "number": 1583, "title": "ZSH completion fails with invalid option definition", "user": {"login": "pigmonkey", "id": 502635, "node_id": "MDQ6VXNlcjUwMjYzNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/502635?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pigmonkey", "html_url": "https://github.com/pigmonkey", "followers_url": "https://api.github.com/users/pigmonkey/followers", "following_url": "https://api.github.com/users/pigmonkey/following{/other_user}", "gists_url": "https://api.github.com/users/pigmonkey/gists{/gist_id}", "starred_url": "https://api.github.com/users/pigmonkey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pigmonkey/subscriptions", "organizations_url": "https://api.github.com/users/pigmonkey/orgs", "repos_url": "https://api.github.com/users/pigmonkey/repos", "events_url": "https://api.github.com/users/pigmonkey/events{/privacy}", "received_events_url": "https://api.github.com/users/pigmonkey/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2022-11-04T21:42:45Z", "updated_at": "2022-11-06T02:40:53Z", "closed_at": "2022-11-05T23:54:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm using v2.10.2 installed via the [latest Arch package](https://archlinux.org/packages/community/any/visidata/). Visidata shell completion in my ZSH is currently broken.\r\n\r\n```\r\n$ vd <tab>\r\n_arguments:comparguments:327: invalid option definition: --fmt_expand_list[format str to use for names of columns expanded from list (colname, index) (default: %s[%s])]:str\r\n```", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1583/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1583/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1577", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1577/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1577/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1577/events", "html_url": "https://github.com/saulpw/visidata/issues/1577", "id": 1428000751, "node_id": "I_kwDOBEu2Gc5VHY_v", "number": 1577, "title": "cmdlog does not record choices from menu", "user": {"login": "leeand00", "id": 83778, "node_id": "MDQ6VXNlcjgzNzc4", "avatar_url": "https://avatars.githubusercontent.com/u/83778?v=4", "gravatar_id": "", "url": "https://api.github.com/users/leeand00", "html_url": "https://github.com/leeand00", "followers_url": "https://api.github.com/users/leeand00/followers", "following_url": "https://api.github.com/users/leeand00/following{/other_user}", "gists_url": "https://api.github.com/users/leeand00/gists{/gist_id}", "starred_url": "https://api.github.com/users/leeand00/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/leeand00/subscriptions", "organizations_url": "https://api.github.com/users/leeand00/orgs", "repos_url": "https://api.github.com/users/leeand00/repos", "events_url": "https://api.github.com/users/leeand00/events{/privacy}", "received_events_url": "https://api.github.com/users/leeand00/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-10-29T01:12:20Z", "updated_at": "2022-11-11T04:20:28Z", "closed_at": "2022-11-11T04:20:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Small description**\r\nWas inner joining a few sheets together and recording a cmdlog when I found that there was an issue playing them back.\r\n\r\n**Expected result**\r\nExpected that play back from the command log would play as usual, but it did not, it stopped with the error message...\r\n\r\nsheets| no choice made | replay aborted during join-selected | merge selected sheets with visible columns from all, keeping rows according to jointype.\r\n\r\n![image](https://user-images.githubusercontent.com/83778/198755064-92273367-52cd-434a-ad0d-91f981263632.png)\r\n\r\nHere is the difference between the two methods:\r\n\r\n![image](https://user-images.githubusercontent.com/83778/198755091-ba74bfec-3111-474f-94b5-9d361cd9a869.png)\r\n\r\nVersion saul.pw/VisiData v2.8\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1577/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1577/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1574", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1574/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1574/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1574/events", "html_url": "https://github.com/saulpw/visidata/issues/1574", "id": 1424804003, "node_id": "I_kwDOBEu2Gc5U7Mij", "number": 1574, "title": "Additional \"describe\" aggregators cause a `KeyError`", "user": {"login": "edupont", "id": 5700403, "node_id": "MDQ6VXNlcjU3MDA0MDM=", "avatar_url": "https://avatars.githubusercontent.com/u/5700403?v=4", "gravatar_id": "", "url": "https://api.github.com/users/edupont", "html_url": "https://github.com/edupont", "followers_url": "https://api.github.com/users/edupont/followers", "following_url": "https://api.github.com/users/edupont/following{/other_user}", "gists_url": "https://api.github.com/users/edupont/gists{/gist_id}", "starred_url": "https://api.github.com/users/edupont/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/edupont/subscriptions", "organizations_url": "https://api.github.com/users/edupont/orgs", "repos_url": "https://api.github.com/users/edupont/repos", "events_url": "https://api.github.com/users/edupont/events{/privacy}", "received_events_url": "https://api.github.com/users/edupont/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-10-26T23:14:34Z", "updated_at": "2022-11-06T02:40:42Z", "closed_at": "2022-11-06T01:11:42Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\n\r\nThe option to add custom aggregators, introduced by [[describe] add options.describe_aggrs #273 \u00b7 saulpw/visidata@111a508](https://github.com/saulpw/visidata/commit/111a5086355d178a41c4f0e150f37c57f830f6c2), seems to have stopped working since then, causing a `KeyError`. \r\n\r\nReproduction steps use the example from the mentionned commit, but I had the same issue both with library and with custom functions.\r\n\r\nIt looks like the `globals()` dictionary is losing many of its keys between the end of `.visidatarc` and the moment it reaches the `KeyError`\r\n\r\n**Expected result**\r\n\r\nA new column appears in the `Describe` sheet, with results form the calculation.\r\n\r\n**Actual result with screenshot**\r\n\r\nA new column appears with an exclamation mark `!` and the computation is aborted for the rest of the sheet.\r\n\r\nIf you get an unexpected error, please include the full stack trace that you get with `Ctrl-E`.\r\n![image](https://user-images.githubusercontent.com/5700403/198155067-7ce0cd84-a4d2-48fd-b900-5ca09825233c.png)\r\n```\r\n Traceback (most recent call last):                                                            \u2551\r\n   File \"/usr/lib/python3.10/site-packages/visidata/threads.py\", line 198, in _toplevelTryFunc \u2551\r\n     t.status = func(*args, **kwargs)                                                          \u2551\r\n   File \"/usr/lib/python3.10/site-packages/visidata/describe.py\", line 69, in reload           \u2551\r\n     self.reloadColumn(srccol)                                                                 \u2551\r\n   File \"/usr/lib/python3.10/site-packages/visidata/describe.py\", line 97, in reloadColumn     \u2551\r\n     func = globals()[aggrname]                                                                \u2551\r\n KeyError: 'harmonic_mean'\r\n ```\r\n \r\n**Steps to reproduce with sample data and a .vd**\r\nPlease attach the commandlog (saved with `Ctrl-D`) to show the steps that led to the issue.\r\nSee [here](http://visidata.org/docs/save-restore/) for more details.\r\n\r\n```\r\ncat <<EOF >~/.visidatarc_with_another_name_for_your_safety\r\nfrom statistics import harmonic_mean\r\noptions.describe_aggrs += ' harmonic_mean'\r\nEOF\r\ncat <<EOF >issue-1574.vdj\r\n#!vd -p\r\n{\"longname\": \"open-file\", \"input\": \"test.tsv\", \"keystrokes\": \"o\"}\r\n{\"sheet\": \"test\", \"col\": \"A\", \"row\": \"\", \"longname\": \"addcol-new\", \"input\": \"B\", \"keystrokes\": \"za\", \"comment\": \"append an empty column\"}\r\n{\"sheet\": \"test\", \"col\": \"\", \"row\": \"\", \"longname\": \"add-row\", \"input\": \"\", \"keystrokes\": \"a\", \"comment\": \"append a blank row\"}\r\n{\"sheet\": \"test\", \"col\": \"A\", \"row\": \"0\", \"longname\": \"edit-cell\", \"input\": \"1\", \"keystrokes\": \"e\", \"comment\": \"edit contents of current cell\"}\r\n{\"sheet\": \"test\", \"col\": \"B\", \"row\": \"0\", \"longname\": \"edit-cell\", \"input\": \"2\", \"keystrokes\": \"e\", \"comment\": \"edit contents of current cell\"}\r\n{\"sheet\": \"test\", \"col\": \"\", \"row\": \"0\", \"longname\": \"add-row\", \"input\": \"\", \"keystrokes\": \"a\", \"comment\": \"append a blank row\"}\r\n{\"sheet\": \"test\", \"col\": \"A\", \"row\": \"1\", \"longname\": \"edit-cell\", \"input\": \"3\", \"keystrokes\": \"e\", \"comment\": \"edit contents of current cell\"}\r\n{\"sheet\": \"test\", \"col\": \"B\", \"row\": \"1\", \"longname\": \"edit-cell\", \"input\": \"4\", \"keystrokes\": \"e\", \"comment\": \"edit contents of current cell\"}\r\n{\"sheet\": \"test\", \"col\": \"\", \"row\": \"\", \"longname\": \"columns-sheet\", \"input\": \"\", \"keystrokes\": \"Shift+C\", \"comment\": \"open Columns Sheet: edit column properties for current sheet\"}\r\n{\"sheet\": \"test_columns\", \"col\": \"\", \"row\": \"\", \"longname\": \"select-rows\", \"input\": \"\", \"keystrokes\": \"gs\", \"comment\": \"select all rows\"}\r\n{\"sheet\": \"test_columns\", \"col\": \"\", \"row\": \"\", \"longname\": \"type-int-selected\", \"input\": \"\", \"keystrokes\": \"g#\", \"comment\": \"set type of selected columns to int\"}\r\n{\"sheet\": \"test\", \"col\": \"\", \"row\": \"\", \"longname\": \"describe-sheet\", \"input\": \"\", \"keystrokes\": \"Shift+I\", \"comment\": \"open Describe Sheet with descriptive statistics for all visible columns\"}\r\nEOF\r\n\r\nvd -p issue-1574.vdj\r\n```\r\n\r\n\r\n**Additional context**\r\nPlease include the version of VisiData.\r\n```\r\nvd --version\r\nsaul.pw/VisiData v2.10.2\r\n```", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1574/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1574/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1572", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1572/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1572/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1572/events", "html_url": "https://github.com/saulpw/visidata/issues/1572", "id": 1421740245, "node_id": "I_kwDOBEu2Gc5UvgjV", "number": 1572, "title": "How do I show both date *and* time in a date column type", "user": {"login": "ivanmemruk", "id": 1493188, "node_id": "MDQ6VXNlcjE0OTMxODg=", "avatar_url": "https://avatars.githubusercontent.com/u/1493188?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ivanmemruk", "html_url": "https://github.com/ivanmemruk", "followers_url": "https://api.github.com/users/ivanmemruk/followers", "following_url": "https://api.github.com/users/ivanmemruk/following{/other_user}", "gists_url": "https://api.github.com/users/ivanmemruk/gists{/gist_id}", "starred_url": "https://api.github.com/users/ivanmemruk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ivanmemruk/subscriptions", "organizations_url": "https://api.github.com/users/ivanmemruk/orgs", "repos_url": "https://api.github.com/users/ivanmemruk/repos", "events_url": "https://api.github.com/users/ivanmemruk/events{/privacy}", "received_events_url": "https://api.github.com/users/ivanmemruk/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1415516811, "node_id": "MDU6TGFiZWwxNDE1NTE2ODEx", "url": "https://api.github.com/repos/saulpw/visidata/labels/question", "name": "question", "color": "a59bf2", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-10-25T02:26:35Z", "updated_at": "2023-04-05T00:59:11Z", "closed_at": "2022-11-11T05:05:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Small description**\r\nI store a datetime column into a parquet file using pandas/pyarrow.\r\n\r\n**Expected result**\r\nExpect to see date _and_ time when viewing the file in vd.\r\n\r\n**Actual result with screenshot**\r\n<img width=\"124\" alt=\"image\" src=\"https://user-images.githubusercontent.com/1493188/197667373-84a73530-dede-4a5f-9431-6df784cbd859.png\">\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\nNote that `parq` from [https://github.com/chhantyal/parquet-cli] shows the date and time correctly, so the issue is not on the serialization end.\r\n\r\n**Additional context**\r\nv2.10.2", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1572/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1572/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1571", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1571/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1571/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1571/events", "html_url": "https://github.com/saulpw/visidata/issues/1571", "id": 1418841398, "node_id": "I_kwDOBEu2Gc5Ukc02", "number": 1571, "title": "v2.10.2 repeats part of filename suffix", "user": {"login": "kunliugithub", "id": 5768979, "node_id": "MDQ6VXNlcjU3Njg5Nzk=", "avatar_url": "https://avatars.githubusercontent.com/u/5768979?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kunliugithub", "html_url": "https://github.com/kunliugithub", "followers_url": "https://api.github.com/users/kunliugithub/followers", "following_url": "https://api.github.com/users/kunliugithub/following{/other_user}", "gists_url": "https://api.github.com/users/kunliugithub/gists{/gist_id}", "starred_url": "https://api.github.com/users/kunliugithub/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kunliugithub/subscriptions", "organizations_url": "https://api.github.com/users/kunliugithub/orgs", "repos_url": "https://api.github.com/users/kunliugithub/repos", "events_url": "https://api.github.com/users/kunliugithub/events{/privacy}", "received_events_url": "https://api.github.com/users/kunliugithub/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-10-21T20:43:14Z", "updated_at": "2023-01-06T01:08:24Z", "closed_at": "2023-01-05T23:26:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "Create a file say a.diff.csv\r\n\r\nIn v2.10.2 of vd, open the directory the file resides in. I am seeing a.diff.diff.csv rather than a.diff.csv", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1571/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1571/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1568", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1568/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1568/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1568/events", "html_url": "https://github.com/saulpw/visidata/issues/1568", "id": 1410260282, "node_id": "I_kwDOBEu2Gc5UDt06", "number": 1568, "title": "[sqlite/addcol-incr] addcol-incr column shows only null values in dup-selected sheet", "user": {"login": "frosencrantz", "id": 631242, "node_id": "MDQ6VXNlcjYzMTI0Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/631242?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frosencrantz", "html_url": "https://github.com/frosencrantz", "followers_url": "https://api.github.com/users/frosencrantz/followers", "following_url": "https://api.github.com/users/frosencrantz/following{/other_user}", "gists_url": "https://api.github.com/users/frosencrantz/gists{/gist_id}", "starred_url": "https://api.github.com/users/frosencrantz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frosencrantz/subscriptions", "organizations_url": "https://api.github.com/users/frosencrantz/orgs", "repos_url": "https://api.github.com/users/frosencrantz/repos", "events_url": "https://api.github.com/users/frosencrantz/events{/privacy}", "received_events_url": "https://api.github.com/users/frosencrantz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-10-15T18:53:58Z", "updated_at": "2023-01-06T01:07:42Z", "closed_at": "2023-01-06T00:45:29Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nIn a SQLite sheet, addcol-incr `i`, then select some rows, then `\"` dup-select.  New sheet has the column but only with null values.\r\n\r\n**Expected result**\r\nThe incr column would have the values from the original sheet.\r\n\r\n**Actual result with screenshot**\r\n\r\nhttps://asciinema.org/a/xIcI3lNiGpYtQGdlM765gOKFU\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n\r\n```\r\nvd sample_data/employees.sqlite +:emp::\r\n```\r\nThen  `i` `,` `\"`\r\n\r\n**Additional context**\r\nPlease include the version of VisiData. Latest develop version.\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1568/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1568/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1567", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1567/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1567/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1567/events", "html_url": "https://github.com/saulpw/visidata/issues/1567", "id": 1410257441, "node_id": "I_kwDOBEu2Gc5UDtIh", "number": 1567, "title": "[unzip-http] Extract to file traces.", "user": {"login": "frosencrantz", "id": 631242, "node_id": "MDQ6VXNlcjYzMTI0Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/631242?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frosencrantz", "html_url": "https://github.com/frosencrantz", "followers_url": "https://api.github.com/users/frosencrantz/followers", "following_url": "https://api.github.com/users/frosencrantz/following{/other_user}", "gists_url": "https://api.github.com/users/frosencrantz/gists{/gist_id}", "starred_url": "https://api.github.com/users/frosencrantz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frosencrantz/subscriptions", "organizations_url": "https://api.github.com/users/frosencrantz/orgs", "repos_url": "https://api.github.com/users/frosencrantz/repos", "events_url": "https://api.github.com/users/frosencrantz/events{/privacy}", "received_events_url": "https://api.github.com/users/frosencrantz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-10-15T18:44:03Z", "updated_at": "2023-01-06T05:30:31Z", "closed_at": "2023-01-06T04:20:17Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nTrying to extract a file from a zip file causes it to return a traceback\r\n\r\n**Expected result**\r\nFile extracted from zip file.\r\n\r\n**Actual result with screenshot**\r\n```\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3.9/site-packages/visidata/threads.py\", line 198, in _toplevelTryFunc\r\n    t.status = func(*args, **kwargs)\r\n  File \"/usr/lib/python3.9/site-packages/visidata/loaders/archive.py\", line 68, in extract_async\r\n    self.zfp.extract(member=r.filename, path=path)\r\nAttributeError: 'RemoteZipFile' object has no attribute 'extract'\r\n```\r\n\r\nhttps://asciinema.org/a/Jv7Iaw3VUE3WeyP48dkdXAQsv\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\nOpen remote zip file, try to extract file with 'x' command.  Other extract commands fail also.\r\n```\r\nvd https://files.digital.nhs.uk/publicationimport/pub18xxx/pub18273/nhs-staf-2015-healthcare-gp-csv.zip\r\n```\r\n\r\nI tried to use this, but it wouldn't even load.  It had a different stack trace:\r\n```\r\nvd https://raw.githubusercontent.com/saulpw/visidata/develop/sample_data/benchmark.zip\r\n```\r\nThis might be because of limit support for ranges? Unsure.\r\n```\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3.9/site-packages/visidata/threads.py\", line 198, in _toplevelTryFunc\r\n    t.status = func(*args, **kwargs)\r\n  File \"/usr/lib/python3.9/site-packages/visidata/sheets.py\", line 290, in reload\r\n    for r in self.iterload():\r\n  File \"/usr/lib/python3.9/site-packages/visidata/loaders/archive.py\", line 83, in iterload\r\n    for zi in Progress(self.zfp.infolist()):\r\n  File \"/usr/lib/python3.9/site-packages/visidata/loaders/unzip_http.py\", line 119, in infolist\r\n    return list(self.infoiter())\r\n  File \"/usr/lib/python3.9/site-packages/visidata/loaders/unzip_http.py\", line 162, in infoiter\r\n    struct.unpack_from(self.fmt_cdirentry, resp.data, offset=filehdr_index)\r\nstruct.error: unpack_from requires a buffer of at least 65373 bytes for unpacking 46 bytes at offset 65327 (actual buffer size is 2840)\r\n```\r\n\r\nOpen\r\n**Additional context**\r\nPlease include the version of VisiData. Latest develop version.\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1567/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1567/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1555", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1555/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1555/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1555/events", "html_url": "https://github.com/saulpw/visidata/issues/1555", "id": 1400260229, "node_id": "I_kwDOBEu2Gc5TdkaF", "number": 1555, "title": "[sqlite] Selecting table from the CLI not working", "user": {"login": "frosencrantz", "id": 631242, "node_id": "MDQ6VXNlcjYzMTI0Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/631242?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frosencrantz", "html_url": "https://github.com/frosencrantz", "followers_url": "https://api.github.com/users/frosencrantz/followers", "following_url": "https://api.github.com/users/frosencrantz/following{/other_user}", "gists_url": "https://api.github.com/users/frosencrantz/gists{/gist_id}", "starred_url": "https://api.github.com/users/frosencrantz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frosencrantz/subscriptions", "organizations_url": "https://api.github.com/users/frosencrantz/orgs", "repos_url": "https://api.github.com/users/frosencrantz/repos", "events_url": "https://api.github.com/users/frosencrantz/events{/privacy}", "received_events_url": "https://api.github.com/users/frosencrantz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-10-06T20:27:53Z", "updated_at": "2022-10-09T18:44:14Z", "closed_at": "2022-10-08T06:16:21Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nSelecting a sqlite table from the CLI is not working\r\n\r\n**Expected result**\r\nGo directly to a sqlite table from the CLI args.\r\n\r\n**Actual result with screenshot**\r\n\r\nhttps://asciinema.org/a/oizQ0C2Wmz8D9XOrUesiU69Sq\r\n\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n\r\n```\r\nvd employees.sqlite +:emp_view::\r\n```\r\n\r\n**Additional context**\r\nPlease include the version of VisiData. latest develop version", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1555/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1555/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1554", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1554/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1554/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1554/events", "html_url": "https://github.com/saulpw/visidata/issues/1554", "id": 1400224351, "node_id": "I_kwDOBEu2Gc5Tdbpf", "number": 1554, "title": "AttributeError: 'EntryPoints' object has no attribute 'get' - Ubuntu / pip installer with Python 3.10", "user": {"login": "dat-linux", "id": 99078210, "node_id": "U_kgDOBefQQg", "avatar_url": "https://avatars.githubusercontent.com/u/99078210?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dat-linux", "html_url": "https://github.com/dat-linux", "followers_url": "https://api.github.com/users/dat-linux/followers", "following_url": "https://api.github.com/users/dat-linux/following{/other_user}", "gists_url": "https://api.github.com/users/dat-linux/gists{/gist_id}", "starred_url": "https://api.github.com/users/dat-linux/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dat-linux/subscriptions", "organizations_url": "https://api.github.com/users/dat-linux/orgs", "repos_url": "https://api.github.com/users/dat-linux/repos", "events_url": "https://api.github.com/users/dat-linux/events{/privacy}", "received_events_url": "https://api.github.com/users/dat-linux/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-10-06T19:55:56Z", "updated_at": "2022-10-09T15:04:39Z", "closed_at": "2022-10-06T21:05:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Small description**\r\nTrying to run the \"vd\" command \r\n\r\n**Expected result**\r\nThe vd shell\r\n\r\n**Actual result**\r\nTraceback (most recent call last):\r\n  File \"/home/.cari/venv/visidata/2.10.1/bin/vd\", line 6, in <module>\r\n    visidata.main.vd_cli()\r\n  File \"/home/.cari/venv/visidata/2.10.1/lib/python3.10/site-packages/visidata/main.py\", line 350, in vd_cli\r\n    rc = main_vd()\r\n  File \"/home/.cari/venv/visidata/2.10.1/lib/python3.10/site-packages/visidata/main.py\", line 209, in main_vd\r\n    vd.loadConfigAndPlugins(args)\r\n  File \"/home/.cari/venv/visidata/2.10.1/lib/python3.10/site-packages/visidata/settings.py\", line 378, in loadConfigAndPlugins\r\n    for ep in entry_points().get('visidata.plugins', []):\r\nAttributeError: 'EntryPoints' object has no attribute 'get'\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1554/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1554/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1553", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1553/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1553/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1553/events", "html_url": "https://github.com/saulpw/visidata/issues/1553", "id": 1400087198, "node_id": "I_kwDOBEu2Gc5Tc6Ke", "number": 1553, "title": "[mouse] Error: getmouse() returned ERR", "user": {"login": "geekscrapy", "id": 11225502, "node_id": "MDQ6VXNlcjExMjI1NTAy", "avatar_url": "https://avatars.githubusercontent.com/u/11225502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geekscrapy", "html_url": "https://github.com/geekscrapy", "followers_url": "https://api.github.com/users/geekscrapy/followers", "following_url": "https://api.github.com/users/geekscrapy/following{/other_user}", "gists_url": "https://api.github.com/users/geekscrapy/gists{/gist_id}", "starred_url": "https://api.github.com/users/geekscrapy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geekscrapy/subscriptions", "organizations_url": "https://api.github.com/users/geekscrapy/orgs", "repos_url": "https://api.github.com/users/geekscrapy/repos", "events_url": "https://api.github.com/users/geekscrapy/events{/privacy}", "received_events_url": "https://api.github.com/users/geekscrapy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2022-10-06T17:55:48Z", "updated_at": "2022-10-09T20:49:18Z", "closed_at": "2022-10-09T00:23:09Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nI get the following \"bomb out\" with no stacktrace (even with --debug) when \"slinging\" the trackpad mouse up or down.\r\n\r\n**Expected result**\r\nTo not crash, or give a stacktrace\r\n\r\n**Actual result with screenshot**\r\nThis just gets printed once returned to the cli: `Error: getmouse() returned ERR`\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\nOpen a file with more rows than can be fit on the screen\r\n\"sling\" scroll the view and the crash comes. You need to give it momentum so it scrolls on its own. This occurs in macos\r\n\r\n**Additional context**\r\nThis seems to occur for me on any commit, so it maybe my setup... If someone could test doing a \"sling\" scroll that would be good. If it doesn't occur dont waste time on this, it might be my unique setup and I'll try feedback when/if I find a solution... TIA!", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1553/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1553/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1552", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1552/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1552/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1552/events", "html_url": "https://github.com/saulpw/visidata/issues/1552", "id": 1400073073, "node_id": "I_kwDOBEu2Gc5Tc2tx", "number": 1552, "title": "visidata fails to start with `importlib_metadata` >=5.0", "user": {"login": "datadavev", "id": 605409, "node_id": "MDQ6VXNlcjYwNTQwOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/605409?v=4", "gravatar_id": "", "url": "https://api.github.com/users/datadavev", "html_url": "https://github.com/datadavev", "followers_url": "https://api.github.com/users/datadavev/followers", "following_url": "https://api.github.com/users/datadavev/following{/other_user}", "gists_url": "https://api.github.com/users/datadavev/gists{/gist_id}", "starred_url": "https://api.github.com/users/datadavev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/datadavev/subscriptions", "organizations_url": "https://api.github.com/users/datadavev/orgs", "repos_url": "https://api.github.com/users/datadavev/repos", "events_url": "https://api.github.com/users/datadavev/events{/privacy}", "received_events_url": "https://api.github.com/users/datadavev/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-10-06T17:42:41Z", "updated_at": "2022-10-06T17:52:15Z", "closed_at": "2022-10-06T17:51:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Small description**\r\nWith current stable visidata, startup fails with error:\r\n```\r\nTraceback (most recent call last):\r\n  File \"/Users/vieglais/.virtualenvs/visidata/bin/vd\", line 6, in <module>\r\n    visidata.main.vd_cli()\r\n  File \"/Users/vieglais/.virtualenvs/visidata/lib/python3.10/site-packages/visidata/main.py\", line 350, in vd_cli\r\n    rc = main_vd()\r\n  File \"/Users/vieglais/.virtualenvs/visidata/lib/python3.10/site-packages/visidata/main.py\", line 209, in main_vd\r\n    vd.loadConfigAndPlugins(args)\r\n  File \"/Users/vieglais/.virtualenvs/visidata/lib/python3.10/site-packages/visidata/settings.py\", line 378, in loadConfigAndPlugins\r\n    for ep in entry_points().get('visidata.plugins', []):\r\nAttributeError: 'EntryPoints' object has no attribute 'get'\r\n```\r\n\r\n**Expected result**\r\n\r\nApp should start with a resource listing\r\n\r\n**Additional context**\r\nPinning `importlib_metadata` to <5.0 provides an immediate fix. Longer term fix is to update `settings.py` around line 378.\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1552/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1552/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1550", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1550/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1550/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1550/events", "html_url": "https://github.com/saulpw/visidata/issues/1550", "id": 1397079125, "node_id": "I_kwDOBEu2Gc5TRbxV", "number": 1550, "title": "Crash with importlib-metadata > 5.0 ('EntryPoints' object has no attribute 'get')", "user": {"login": "jkerhin", "id": 37146185, "node_id": "MDQ6VXNlcjM3MTQ2MTg1", "avatar_url": "https://avatars.githubusercontent.com/u/37146185?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jkerhin", "html_url": "https://github.com/jkerhin", "followers_url": "https://api.github.com/users/jkerhin/followers", "following_url": "https://api.github.com/users/jkerhin/following{/other_user}", "gists_url": "https://api.github.com/users/jkerhin/gists{/gist_id}", "starred_url": "https://api.github.com/users/jkerhin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jkerhin/subscriptions", "organizations_url": "https://api.github.com/users/jkerhin/orgs", "repos_url": "https://api.github.com/users/jkerhin/repos", "events_url": "https://api.github.com/users/jkerhin/events{/privacy}", "received_events_url": "https://api.github.com/users/jkerhin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2022-10-05T02:07:41Z", "updated_at": "2022-10-08T17:56:01Z", "closed_at": "2022-10-05T06:04:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Small description**\r\nVisidata is using the `.get()` method on the output of `importlib.entry_points()`. According to the authors, the `.get()` method was deprecated functionality, removed in version 5.0.0 (latest version). Discussion thread: https://github.com/python/importlib_metadata/issues/409\r\n\r\nThe call that throws the error is this one: https://github.com/saulpw/visidata/blob/develop/visidata/settings.py#L378\r\n\r\n**Expected result**\r\nVisidata runs without issue\r\n\r\n**Actual result with screenshot**\r\n```\r\n$ vd sample.csv\r\nTraceback (most recent call last):\r\n  File \"/home/joe/.local/bin/vd\", line 6, in <module>\r\n    visidata.main.vd_cli()\r\n  File \"/home/joe/.local/pipx/venvs/visidata/lib/python3.10/site-packages/visidata/main.py\", line 350, in vd_cli\r\n    rc = main_vd()\r\n  File \"/home/joe/.local/pipx/venvs/visidata/lib/python3.10/site-packages/visidata/main.py\", line 209, in main_vd\r\n    vd.loadConfigAndPlugins(args)\r\n  File \"/home/joe/.local/pipx/venvs/visidata/lib/python3.10/site-packages/visidata/settings.py\", line 378, in loadConfigAndPlugins\r\n    for ep in entry_points().get('visidata.plugins', []):\r\nAttributeError: 'EntryPoints' object has no attribute 'get'\r\n```\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\nCrashes before loading any data\r\n\r\n**Additional context**\r\n\r\nOS: Ubuntu Server 20.04\r\nPython Version: 3.10.4\r\nEnvironment: `pipx`\r\n\r\nReference:  \r\n```\r\n$ pipx install visidata\r\n  installed package visidata 2.10.1, installed using Python 3.10.4\r\n  These apps are now globally available\r\n    - vd\r\n    - visidata\r\ndone! \u2728 \ud83c\udf1f \u2728\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1550/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1550/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1547", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1547/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1547/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1547/events", "html_url": "https://github.com/saulpw/visidata/issues/1547", "id": 1393922840, "node_id": "I_kwDOBEu2Gc5TFZMY", "number": 1547, "title": "[sqlite] `SqliteIndexSheet` is not `precious`", "user": {"login": "frosencrantz", "id": 631242, "node_id": "MDQ6VXNlcjYzMTI0Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/631242?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frosencrantz", "html_url": "https://github.com/frosencrantz", "followers_url": "https://api.github.com/users/frosencrantz/followers", "following_url": "https://api.github.com/users/frosencrantz/following{/other_user}", "gists_url": "https://api.github.com/users/frosencrantz/gists{/gist_id}", "starred_url": "https://api.github.com/users/frosencrantz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frosencrantz/subscriptions", "organizations_url": "https://api.github.com/users/frosencrantz/orgs", "repos_url": "https://api.github.com/users/frosencrantz/repos", "events_url": "https://api.github.com/users/frosencrantz/events{/privacy}", "received_events_url": "https://api.github.com/users/frosencrantz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2022-10-02T22:44:04Z", "updated_at": "2022-10-16T16:43:32Z", "closed_at": "2022-10-06T05:50:46Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\n`SqliteIndexSheet` is not `precious`\r\n\r\n**Expected result**\r\n`SqliteIndexSheet` is  `precious` and it will show up in the `sheets-all` `SheetsSheet`\r\n\r\n**Actual result with screenshot**\r\nWhen I `q` from a `SqliteIndexSheet`\r\nhttps://asciinema.org/a/FhCoHauY6qBOqW7JfUJglekLP\r\n\r\n\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n```\r\nvd employees.sqlite benchmark.csv\r\n```\r\n`q` from page SqliteIndexSheet, then `gS` to get `sheets-all`, missing `SqliteIndexSheet`.\r\n\r\n**Additional context**\r\nPlease include the version of VisiData.  Latest develop\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1547/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1547/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1546", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1546/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1546/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1546/events", "html_url": "https://github.com/saulpw/visidata/issues/1546", "id": 1393481633, "node_id": "I_kwDOBEu2Gc5TDteh", "number": 1546, "title": "[input paste] Stack trace pasting via Ctrl+Y a Path into input", "user": {"login": "frosencrantz", "id": 631242, "node_id": "MDQ6VXNlcjYzMTI0Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/631242?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frosencrantz", "html_url": "https://github.com/frosencrantz", "followers_url": "https://api.github.com/users/frosencrantz/followers", "following_url": "https://api.github.com/users/frosencrantz/following{/other_user}", "gists_url": "https://api.github.com/users/frosencrantz/gists{/gist_id}", "starred_url": "https://api.github.com/users/frosencrantz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frosencrantz/subscriptions", "organizations_url": "https://api.github.com/users/frosencrantz/orgs", "repos_url": "https://api.github.com/users/frosencrantz/repos", "events_url": "https://api.github.com/users/frosencrantz/events{/privacy}", "received_events_url": "https://api.github.com/users/frosencrantz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-10-01T17:15:39Z", "updated_at": "2022-10-06T05:48:37Z", "closed_at": "2022-10-06T05:48:30Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nStack trace pasting via Ctrl+Y a Path into input\r\n\r\n**Expected result**\r\nPath is inserted into the input\r\n\r\n**Actual result with screenshot**\r\nhttps://asciinema.org/a/BgHT9ekrhojlwRuRhCV1qQLK7\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3.9/site-packages/visidata/basesheet.py\", line 182, in execCommand\r\n    escaped = super().execCommand2(cmd, vdglobals=vdglobals)\r\n  File \"/usr/lib/python3.9/site-packages/visidata/basesheet.py\", line 69, in execCommand2\r\n    exec(code, vdglobals, LazyChainMap(vd, self))\r\n  File \"open-file\", line 1, in <module>\r\n    'VisiData: a curses interface for exploring and arranging tabular data'\r\n  File \"/usr/lib/python3.9/site-packages/visidata/_open.py\", line 9, in inputFilename\r\n    return vd.input(prompt, type=\"filename\", *args, completer=_completeFilename, **kwargs).strip()\r\n  File \"/usr/lib/python3.9/site-packages/visidata/_input.py\", line 332, in input\r\n    ret = self.editText(sheet.windowHeight-1, promptlen, sheet.windowWidth-promptlen-rstatuslen-2,\r\n  File \"/usr/lib/python3.9/site-packages/visidata/_input.py\", line 270, in editText\r\n    v = vd.editline(vd.activeSheet._scr, y, x, w, display=display, **kwargs)\r\n  File \"/usr/lib/python3.9/site-packages/visidata/_input.py\", line 230, in editline\r\n    elif ch == '^Y':                           v = splice(v, i, vd.memory.clipval)\r\n  File \"/usr/lib/python3.9/site-packages/visidata/_input.py\", line 65, in splice\r\n    return v if i < 0 else v[:i] + s + v[i:]\r\nTypeError: can only concatenate str (not \"Path\") to str\r\n```\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\nOpen a file: `vd benchmark.csv`\r\nThen: `Shift+S` `c` `source` `zy`  `o` `Ctrl-Y`\r\n\r\n- Goto SheetsSheet\r\n- goto source column\r\n-  and yank the value\r\n-   then open-file\r\n-  use Ctrl-Y to paste\r\n \r\n**Additional context**\r\nPlease include the version of VisiData. Latest develop\r\n\r\nBonus hidden stack trace:\r\n\r\nOn the SheetsSheet put the cursor in the `cursorDisplay` column for the SheetsSheet \r\nhttps://asciinema.org/a/LYB56EvVQLBH2RW5yCCvVp5rh\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1546/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1546/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1544", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1544/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1544/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1544/events", "html_url": "https://github.com/saulpw/visidata/issues/1544", "id": 1390934781, "node_id": "I_kwDOBEu2Gc5S5_r9", "number": 1544, "title": "[v2.11dev] incorrect column widths when binary data is used", "user": {"login": "geekscrapy", "id": 11225502, "node_id": "MDQ6VXNlcjExMjI1NTAy", "avatar_url": "https://avatars.githubusercontent.com/u/11225502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geekscrapy", "html_url": "https://github.com/geekscrapy", "followers_url": "https://api.github.com/users/geekscrapy/followers", "following_url": "https://api.github.com/users/geekscrapy/following{/other_user}", "gists_url": "https://api.github.com/users/geekscrapy/gists{/gist_id}", "starred_url": "https://api.github.com/users/geekscrapy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geekscrapy/subscriptions", "organizations_url": "https://api.github.com/users/geekscrapy/orgs", "repos_url": "https://api.github.com/users/geekscrapy/repos", "events_url": "https://api.github.com/users/geekscrapy/events{/privacy}", "received_events_url": "https://api.github.com/users/geekscrapy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2022-09-29T14:03:55Z", "updated_at": "2023-02-20T06:38:08Z", "closed_at": "2023-02-20T05:27:56Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\n\r\nWhen using the following command to expand base64 data, some binary data causes misaligned column boundaries.\r\n\r\n**Expected result**\r\nFor the column boundaries to line up. Previously this was the case\r\n\r\n**Actual result with screenshot**\r\n![image](https://user-images.githubusercontent.com/11225502/193052380-116ca854-fd95-4a16-959a-f5c5b5b9566c.png)\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\ninput\r\n```\r\n+3GgZkHPAm5YmUYxiJXqxKKJJqMCTIW46eJaA2nAep9QIwZ14/NFAs4ObV8CAwEAATANBgkqhkiG\r\n+KoQ9bLyax8cbvViGGju0SlVhquloZmKOfHr8TukIoV64h3uCGFOVFtQjCYDOq6NbfRvMh14UVF5\r\n+V+g/Wjx8zmNoXsARD0qZrrDjZBJEr7HS1vTAMhg\r\n```\r\n\r\ncommand: `base64.b64decode(codecs.encode(text))`\r\n\r\n**Additional context**\r\nv2.11dev\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1544/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1544/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1534", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1534/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1534/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1534/events", "html_url": "https://github.com/saulpw/visidata/issues/1534", "id": 1380428295, "node_id": "I_kwDOBEu2Gc5SR6oH", "number": 1534, "title": "Open files and listing subdirectories via `vds3` plugin not working anymore", "user": {"login": "spren9er", "id": 5602551, "node_id": "MDQ6VXNlcjU2MDI1NTE=", "avatar_url": "https://avatars.githubusercontent.com/u/5602551?v=4", "gravatar_id": "", "url": "https://api.github.com/users/spren9er", "html_url": "https://github.com/spren9er", "followers_url": "https://api.github.com/users/spren9er/followers", "following_url": "https://api.github.com/users/spren9er/following{/other_user}", "gists_url": "https://api.github.com/users/spren9er/gists{/gist_id}", "starred_url": "https://api.github.com/users/spren9er/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/spren9er/subscriptions", "organizations_url": "https://api.github.com/users/spren9er/orgs", "repos_url": "https://api.github.com/users/spren9er/repos", "events_url": "https://api.github.com/users/spren9er/events{/privacy}", "received_events_url": "https://api.github.com/users/spren9er/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2022-09-21T07:01:24Z", "updated_at": "2022-09-26T06:04:16Z", "closed_at": "2022-09-26T06:04:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Small description**\r\n\r\nWhen using visidata with S3 via `vds3` plugin, `Enter` command is not listing subdirectories or opening a file anymore. Instead, it shows a metadata overview (`name`, `type`, `size`, `modtime`) of current subdirectory or file. This only happens with visidata version 2.10.1. In previous versions it worked fine.\r\n\r\n**Expected result**\r\n\r\n- Opening a S3 directory should display contents of directory, not metadata.\r\n- Opening a S3 data file should display tabular data like usual, not metadata.\r\n\r\n**Actual result with screenshot**\r\n\r\nPress `Enter` on directory called `core-pdf` in S3 bucket leads to\r\n\r\n<img width=\"174\" alt=\"visidata\" src=\"https://user-images.githubusercontent.com/5602551/191434130-6980eeb1-ccb7-45b9-9c4c-7c6dd45f76f9.png\">\r\n\r\n**Additional context**\r\n\r\nvisidata 2.10.1, macOS 12.5", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1534/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1534/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1532", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1532/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1532/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1532/events", "html_url": "https://github.com/saulpw/visidata/issues/1532", "id": 1379560527, "node_id": "I_kwDOBEu2Gc5SOmxP", "number": 1532, "title": "Possible Memory Leak", "user": {"login": "WizzardUU", "id": 114002703, "node_id": "U_kgDOBsuLDw", "avatar_url": "https://avatars.githubusercontent.com/u/114002703?v=4", "gravatar_id": "", "url": "https://api.github.com/users/WizzardUU", "html_url": "https://github.com/WizzardUU", "followers_url": "https://api.github.com/users/WizzardUU/followers", "following_url": "https://api.github.com/users/WizzardUU/following{/other_user}", "gists_url": "https://api.github.com/users/WizzardUU/gists{/gist_id}", "starred_url": "https://api.github.com/users/WizzardUU/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/WizzardUU/subscriptions", "organizations_url": "https://api.github.com/users/WizzardUU/orgs", "repos_url": "https://api.github.com/users/WizzardUU/repos", "events_url": "https://api.github.com/users/WizzardUU/events{/privacy}", "received_events_url": "https://api.github.com/users/WizzardUU/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-09-20T14:54:45Z", "updated_at": "2022-10-13T16:04:44Z", "closed_at": "2022-10-13T15:37:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "I noticed some odd behavior and am wondering if anyone else can recreate this (maybe on other distros):\r\n\r\nMemory usage increases with time, without any interaction. It seems not related to data as having only a directory listing loaded (vd) and having several tsv files loaded (vd a.tsv b.tsv c.tsv) had the same increase rate of about 1 MB per 80 to 120 seconds. One time I could let it rise to 3 GB.\r\n\r\nAs an aside, the process had idle CPU usage of about 3-4%, which seems high, but in and of itself not problematic. Though it could point to some unwanted activity related to the memory increase.\r\n\r\nI am on Arcolinux (rolling) with 5.19.9-zen1-1-zen\r\nvisidata v2.10.1 (installed from the arch repository)\r\nmonitored with bpytop 1.0.68\r\n\r\n\r\nThe behavior is consistent over several kernel and visidata updates (at least within the last 2 months) and reboots.\r\n\r\n\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1532/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1532/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1529", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1529/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1529/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1529/events", "html_url": "https://github.com/saulpw/visidata/issues/1529", "id": 1375234578, "node_id": "I_kwDOBEu2Gc5R-GoS", "number": 1529, "title": "Exception with `entry_points().get('visidata.plugins', [])` upon startup", "user": {"login": "anjakefala", "id": 7489659, "node_id": "MDQ6VXNlcjc0ODk2NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/7489659?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anjakefala", "html_url": "https://github.com/anjakefala", "followers_url": "https://api.github.com/users/anjakefala/followers", "following_url": "https://api.github.com/users/anjakefala/following{/other_user}", "gists_url": "https://api.github.com/users/anjakefala/gists{/gist_id}", "starred_url": "https://api.github.com/users/anjakefala/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anjakefala/subscriptions", "organizations_url": "https://api.github.com/users/anjakefala/orgs", "repos_url": "https://api.github.com/users/anjakefala/repos", "events_url": "https://api.github.com/users/anjakefala/events{/privacy}", "received_events_url": "https://api.github.com/users/anjakefala/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "anjakefala", "id": 7489659, "node_id": "MDQ6VXNlcjc0ODk2NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/7489659?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anjakefala", "html_url": "https://github.com/anjakefala", "followers_url": "https://api.github.com/users/anjakefala/followers", "following_url": "https://api.github.com/users/anjakefala/following{/other_user}", "gists_url": "https://api.github.com/users/anjakefala/gists{/gist_id}", "starred_url": "https://api.github.com/users/anjakefala/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anjakefala/subscriptions", "organizations_url": "https://api.github.com/users/anjakefala/orgs", "repos_url": "https://api.github.com/users/anjakefala/repos", "events_url": "https://api.github.com/users/anjakefala/events{/privacy}", "received_events_url": "https://api.github.com/users/anjakefala/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "anjakefala", "id": 7489659, "node_id": "MDQ6VXNlcjc0ODk2NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/7489659?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anjakefala", "html_url": "https://github.com/anjakefala", "followers_url": "https://api.github.com/users/anjakefala/followers", "following_url": "https://api.github.com/users/anjakefala/following{/other_user}", "gists_url": "https://api.github.com/users/anjakefala/gists{/gist_id}", "starred_url": "https://api.github.com/users/anjakefala/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anjakefala/subscriptions", "organizations_url": "https://api.github.com/users/anjakefala/orgs", "repos_url": "https://api.github.com/users/anjakefala/repos", "events_url": "https://api.github.com/users/anjakefala/events{/privacy}", "received_events_url": "https://api.github.com/users/anjakefala/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 11, "created_at": "2022-09-16T00:18:26Z", "updated_at": "2022-09-16T01:01:28Z", "closed_at": "2022-09-16T00:46:57Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "### Discussed in https://github.com/saulpw/visidata/discussions/1528\r\n\r\n<div type='discussions-op-text'>\r\n\r\n<sup>Originally posted by **jsdealy** September 15, 2022</sup>\r\nI may be doing something stupid, but my attempts to install have continually just produced this: \r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/home/justin/.local/bin/visidata\", line 8, in <module>\r\n    sys.exit(vd_cli())\r\n  File \"/home/justin/.local/lib/python3.10/site-packages/visidata/main.py\", line 350, in vd_cli\r\n    rc = main_vd()\r\n  File \"/home/justin/.local/lib/python3.10/site-packages/visidata/main.py\", line 209, in main_vd\r\n    vd.loadConfigAndPlugins(args)\r\n  File \"/home/justin/.local/lib/python3.10/site-packages/visidata/settings.py\", line 378, in loadConfigAndPlugins\r\n    for ep in entry_points().get('visidata.plugins', []):\r\n  File \"/usr/lib/python3.10/site-packages/importlib_metadata/__init__.py\", line 1015, in entry_points\r\n    return SelectableGroups.load(eps).select(**params)\r\n  File \"/usr/lib/python3.10/site-packages/importlib_metadata/__init__.py\", line 453, in load\r\n    ordered = sorted(eps, key=by_group)\r\n  File \"/usr/lib/python3.10/site-packages/importlib_metadata/__init__.py\", line 1012, in <genexpr>\r\n    eps = itertools.chain.from_iterable(\r\n  File \"/usr/lib/python3.10/site-packages/importlib_metadata/_itertools.py\", line 16, in unique_everseen\r\n    k = key(element)\r\n  File \"/usr/lib/python3.10/site-packages/importlib_metadata/__init__.py\", line 947, in _normalized_name\r\n    return self._name_from_stem(stem) or super()._normalized_name\r\n  File \"/usr/lib/python3.10/site-packages/importlib_metadata/__init__.py\", line 616, in _normalized_name\r\n    return Prepared.normalize(self.name)\r\n  File \"/usr/lib/python3.10/site-packages/importlib_metadata/__init__.py\", line 871, in normalize\r\n    return re.sub(r\"[-_.]+\", \"-\", name).lower().replace('-', '_')\r\n  File \"/usr/lib/python3.10/re.py\", line 209, in sub\r\n    return _compile(pattern, flags).sub(repl, string, count)\r\nTypeError: expected string or bytes-like object\r\n```\r\nI'm running Arch Linux. \r\n\r\nAssistance would be greatly appreciated, thank you! </div>", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1529/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1529/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1527", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1527/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1527/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1527/events", "html_url": "https://github.com/saulpw/visidata/issues/1527", "id": 1375169888, "node_id": "I_kwDOBEu2Gc5R921g", "number": 1527, "title": "[DirSheet] `Enter` no longer opens a file from the DirSheet", "user": {"login": "frosencrantz", "id": 631242, "node_id": "MDQ6VXNlcjYzMTI0Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/631242?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frosencrantz", "html_url": "https://github.com/frosencrantz", "followers_url": "https://api.github.com/users/frosencrantz/followers", "following_url": "https://api.github.com/users/frosencrantz/following{/other_user}", "gists_url": "https://api.github.com/users/frosencrantz/gists{/gist_id}", "starred_url": "https://api.github.com/users/frosencrantz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frosencrantz/subscriptions", "organizations_url": "https://api.github.com/users/frosencrantz/orgs", "repos_url": "https://api.github.com/users/frosencrantz/repos", "events_url": "https://api.github.com/users/frosencrantz/events{/privacy}", "received_events_url": "https://api.github.com/users/frosencrantz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-09-15T22:37:32Z", "updated_at": "2022-09-17T17:12:33Z", "closed_at": "2022-09-16T05:12:29Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\n`Enter` no longer opens a file from the DirSheet\r\n\r\n**Expected result**\r\n`Enter` opens the file in the current row.\r\n\r\n**Actual result with screenshot**\r\nhttps://asciinema.org/a/Uqck07yZJFLhoTfqEkv3Rw7vQ\r\n\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n\r\n```\r\nvd  sample_data\r\n```\r\nHit enter on a row for a data file, it doesn't open the file, but does a `pyobj-row`\r\n\r\n**Additional context**\r\nPlease include the version of VisiData. Close to the latest develop version.\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1527/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1527/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1513", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1513/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1513/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1513/events", "html_url": "https://github.com/saulpw/visidata/issues/1513", "id": 1365316355, "node_id": "I_kwDOBEu2Gc5RYRMD", "number": 1513, "title": "[v2.10 develop] Fix `macro-record`  and `repeat-`", "user": {"login": "anjakefala", "id": 7489659, "node_id": "MDQ6VXNlcjc0ODk2NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/7489659?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anjakefala", "html_url": "https://github.com/anjakefala", "followers_url": "https://api.github.com/users/anjakefala/followers", "following_url": "https://api.github.com/users/anjakefala/following{/other_user}", "gists_url": "https://api.github.com/users/anjakefala/gists{/gist_id}", "starred_url": "https://api.github.com/users/anjakefala/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anjakefala/subscriptions", "organizations_url": "https://api.github.com/users/anjakefala/orgs", "repos_url": "https://api.github.com/users/anjakefala/repos", "events_url": "https://api.github.com/users/anjakefala/events{/privacy}", "received_events_url": "https://api.github.com/users/anjakefala/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-09-07T23:50:00Z", "updated_at": "2022-09-12T04:41:03Z", "closed_at": "2022-09-12T04:18:21Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Pressing `m` (`macro-record`) results in the following exception:\r\n\r\n```\r\nAttributeError: 'CommandLogJsonl' object has no attribute 'startMacro'\r\n```\r\n\r\nThis is due to the switch from `CommandLog` to `CommandLogJsonl` for our default cmdlog.\r\n\r\nMacros (and perhaps other features) are decorated with `CommandLog.api`. `CommandLogJsonl` and `CommandLog` are not actually related in inheritance, so functions marked with `CommandLog.api` will not be usable by `CommandLogJsonl`.\r\n\r\nIn addressing this fix, we will need to ensure that we do not break usability for any macros made before `v2.10`.\r\n\r\n\r\n**Additional context**\r\nv2.10 and on\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1513/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1513/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1507", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1507/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1507/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1507/events", "html_url": "https://github.com/saulpw/visidata/issues/1507", "id": 1362807268, "node_id": "I_kwDOBEu2Gc5ROsnk", "number": 1507, "title": "Date comparison gives wrong result from custom date", "user": {"login": "daviewales", "id": 2499066, "node_id": "MDQ6VXNlcjI0OTkwNjY=", "avatar_url": "https://avatars.githubusercontent.com/u/2499066?v=4", "gravatar_id": "", "url": "https://api.github.com/users/daviewales", "html_url": "https://github.com/daviewales", "followers_url": "https://api.github.com/users/daviewales/followers", "following_url": "https://api.github.com/users/daviewales/following{/other_user}", "gists_url": "https://api.github.com/users/daviewales/gists{/gist_id}", "starred_url": "https://api.github.com/users/daviewales/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/daviewales/subscriptions", "organizations_url": "https://api.github.com/users/daviewales/orgs", "repos_url": "https://api.github.com/users/daviewales/repos", "events_url": "https://api.github.com/users/daviewales/events{/privacy}", "received_events_url": "https://api.github.com/users/daviewales/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-09-06T07:07:32Z", "updated_at": "2022-09-18T07:25:11Z", "closed_at": "2022-09-18T07:25:11Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\n\r\nI have a sample CSV file (attached) with dates in `%d%m%Y` format (`31012022`).\r\nI converted these to proper dates using `z@`.\r\nThen I tried to find all the dates after July 2021, using the following:\r\n\r\n`=date(2021, 7, 1) <= dates`\r\n\r\nHowever, this gives me the _opposite_ boolean values to what I was expecting!\r\n\r\n|dates       |date\\(2021, 7, 1\\) <= dates|\r\n|------------|---------------------------|\r\n|2017\\-09\\-22|True                       |\r\n|2021\\-09\\-28|False                      |\r\n\r\n**Expected result**\r\n\r\nI expected to get:\r\n|dates       |date\\(2021, 7, 1\\) <= dates|\r\n|------------|---------------------------|\r\n|2017\\-09\\-22|False                       |\r\n|2021\\-09\\-28|True                      |\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n\r\n[test.zip](https://github.com/saulpw/visidata/files/9494126/test.zip)\r\n\r\n**Additional context**\r\nPlease include the version of VisiData.\r\n\r\nsaul.pw/VisiData v2.9.1", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1507/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1507/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1499", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1499/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1499/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1499/events", "html_url": "https://github.com/saulpw/visidata/issues/1499", "id": 1356622425, "node_id": "I_kwDOBEu2Gc5Q3GpZ", "number": 1499, "title": "Test fails in Guix build: file missing from distribution tarball?", "user": {"login": "ryanprior", "id": 4389854, "node_id": "MDQ6VXNlcjQzODk4NTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/4389854?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ryanprior", "html_url": "https://github.com/ryanprior", "followers_url": "https://api.github.com/users/ryanprior/followers", "following_url": "https://api.github.com/users/ryanprior/following{/other_user}", "gists_url": "https://api.github.com/users/ryanprior/gists{/gist_id}", "starred_url": "https://api.github.com/users/ryanprior/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ryanprior/subscriptions", "organizations_url": "https://api.github.com/users/ryanprior/orgs", "repos_url": "https://api.github.com/users/ryanprior/repos", "events_url": "https://api.github.com/users/ryanprior/events{/privacy}", "received_events_url": "https://api.github.com/users/ryanprior/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "anjakefala", "id": 7489659, "node_id": "MDQ6VXNlcjc0ODk2NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/7489659?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anjakefala", "html_url": "https://github.com/anjakefala", "followers_url": "https://api.github.com/users/anjakefala/followers", "following_url": "https://api.github.com/users/anjakefala/following{/other_user}", "gists_url": "https://api.github.com/users/anjakefala/gists{/gist_id}", "starred_url": "https://api.github.com/users/anjakefala/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anjakefala/subscriptions", "organizations_url": "https://api.github.com/users/anjakefala/orgs", "repos_url": "https://api.github.com/users/anjakefala/repos", "events_url": "https://api.github.com/users/anjakefala/events{/privacy}", "received_events_url": "https://api.github.com/users/anjakefala/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "anjakefala", "id": 7489659, "node_id": "MDQ6VXNlcjc0ODk2NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/7489659?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anjakefala", "html_url": "https://github.com/anjakefala", "followers_url": "https://api.github.com/users/anjakefala/followers", "following_url": "https://api.github.com/users/anjakefala/following{/other_user}", "gists_url": "https://api.github.com/users/anjakefala/gists{/gist_id}", "starred_url": "https://api.github.com/users/anjakefala/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anjakefala/subscriptions", "organizations_url": "https://api.github.com/users/anjakefala/orgs", "repos_url": "https://api.github.com/users/anjakefala/repos", "events_url": "https://api.github.com/users/anjakefala/events{/privacy}", "received_events_url": "https://api.github.com/users/anjakefala/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2022-08-31T01:38:46Z", "updated_at": "2022-09-12T00:55:11Z", "closed_at": "2022-09-11T23:52:48Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Steps to reproduce**\r\n1. Check out my [updated Visidata 2.10 package for Guix](https://github.com/ryanprior/guix/blob/update-guix-2.10/gnu/packages/spreadsheet.scm#L86-L119)\r\n2. Run `pre-inst-env guix build visidata`\r\n\r\n**Expected result**\r\nPackage build should complete with no errors.\r\n\r\n**Actual result with screenshot**\r\nDuring the test phase, pytest errors out complaining that it can't find a necessary file:\r\n\r\n```\r\nself = PosixPath('/tmp/guix-build-visidata-2.10.drv-0/visidata-2.10/visidata/../sample_data/sample.tsv')\r\nname = '/tmp/guix-build-visidata-2.10.drv-0/visidata-2.10/visidata/../sample_data/sample.tsv'\r\nflags = 524288, mode = 438\r\n\r\n    def _opener(self, name, flags, mode=0o666):\r\n        # A stub for the opener argument to built-in open()\r\n>       return self._accessor.open(self, flags, mode)\r\nE       FileNotFoundError: [Errno 2] No such file or directory: '/tmp/guix-build-visidata-2.10.drv-0/visidata-2.10/visidata/../sample_data/sample.tsv'\r\n\r\n/gnu/store/65i3nhcwmz0p8rqbg48gaavyky4g4hwk-python-3.9.9/lib/python3.9/pathlib.py:1120: FileNotFoundError\r\n```\r\n<details>\r\n<summary>View full package build output (733 lines)</summary>\r\n<pre>\r\nstarting phase `set-SOURCE-DATE-EPOCH'\r\nphase `set-SOURCE-DATE-EPOCH' succeeded after 0.0 seconds\r\nstarting phase `set-paths'\r\nenvironment variable `PATH' set to `/gnu/store/slsh0qjv5j68xda2bb6h8gsxwyi1j25a-python-wrapper-3.9.9/bin:/gnu/store/7frqm5ijy66f81hr8i1j6791k84lds9w-python-pytest-6.2.5/bin:/gnu/store/6pzbvnfvgdxfar4qhms0d81w9d6n1ylp-python-xlrd-2.0.1/bin:/gnu/store/g2ajyl8xk9aarxrgjbng2hkj3qm2v0z2-tar-1.34/bin:/gnu/store/iixwcv3k49ks1rf34pjgfzmzyhhgwng3-gzip-1.10/bin:/gnu/store/s3hl12jxz9ybs7nsy7kq7ybzz7qnzmsg-bzip2-1.0.8/bin:/gnu/store/c8isj4jq6knv0icfgr43di6q3nvdzkx7-xz-5.2.5/bin:/gnu/store/4ic6244i3ca4b4rxc2wnrgllsidyishv-file-5.39/bin:/gnu/store/ahmmvw21p11ik80lg1f953y7fd8bqkjm-diffutils-3.8/bin:/gnu/store/z39hnrwds1dgcbpfgj8dnv2cngjb2xbl-patch-2.7.6/bin:/gnu/store/39rsx3nl4c31952jybbjb8d6idr5hx7r-findutils-4.8.0/bin:/gnu/store/690qz3fg334dpwn3pn6k59n4wc943p2b-gawk-5.1.0/bin:/gnu/store/wxgv6i8g0p24q5gcyzd0yr07s8kn9680-sed-4.8/bin:/gnu/store/xjwp2hsd9256icjjybfrmznppjicywf6-grep-3.6/bin:/gnu/store/d251rfgc9nm2clzffzhgiipdvfvzkvwi-coreutils-8.32/bin:/gnu/store/55cbpsi18mahg131nmiya6km5b4mscfa-make-4.3/bin:/gnu/store/4y5m9lb8k3qkb1y9m02sw9w9a6hacd16-bash-minimal-5.1.8/bin:/gnu/store/s2pg5k98fl2g2szg9dykxyd9zl3xihv9-ld-wrapper-0/bin:/gnu/store/rc781v4k0drhaqn90xfwwpspki5x0bvf-binutils-2.37/bin:/gnu/store/069aq2v993kpc41yabp5b6vm4wb9jkhg-gcc-10.3.0/bin:/gnu/store/5h2w4qi9hk1qzzgi1w83220ydslinr4s-glibc-2.33/bin:/gnu/store/5h2w4qi9hk1qzzgi1w83220ydslinr4s-glibc-2.33/sbin:/gnu/store/65i3nhcwmz0p8rqbg48gaavyky4g4hwk-python-3.9.9/bin:/gnu/store/pwzh4npbxhm1rqrbg9lra99wx6sinkmf-python-charset-normalizer-2.0.11/bin'\r\nenvironment variable `GUIX_PYTHONPATH' set to `/gnu/store/7frqm5ijy66f81hr8i1j6791k84lds9w-python-pytest-6.2.5/lib/python3.9/site-packages:/gnu/store/xs8pxa4rr2zkb2hr5nhkxr7ijxxgmqna-python-dateutil-2.8.2/lib/python3.9/site-packages:/gnu/store/gjv07rwkais79cr0m2vy4ia2xb3irwx5-python-requests-2.27.1/lib/python3.9/site-packages:/gnu/store/pv2gvq3im4czlpdrh0pb7jjkkib19qvy-python-lxml-4.6.3/lib/python3.9/site-packages:/gnu/store/x2maq7qxliy26mzfq1nic7mpjmyx8r7j-python-openpyxl-3.0.9/lib/python3.9/site-packages:/gnu/store/6pzbvnfvgdxfar4qhms0d81w9d6n1ylp-python-xlrd-2.0.1/lib/python3.9/site-packages:/gnu/store/65i3nhcwmz0p8rqbg48gaavyky4g4hwk-python-3.9.9/lib/python3.9/site-packages:/gnu/store/rh5pmm5ralyl06pgfr83qlfxaav6svjr-python-wcwidth-0.1.8/lib/python3.9/site-packages:/gnu/store/hmyqhci2vvrnvjwm32l26kwgasz7in1w-python-toml-0.10.2/lib/python3.9/site-packages:/gnu/store/xqvr1b5065idb5y8jxgr42cdkiwj6l64-python-six-bootstrap-1.16.0/lib/python3.9/site-packages:/gnu/store/ls2xsqbwsha2ap65dh09f9v0q0v43d91-python-py-1.10.0/lib/python3.9/site-packages:/gnu/store/jl1g2qqlg9sjxrh649x8zp2ysy4fmwh5-python-pluggy-0.13.1/lib/python3.9/site-packages:/gnu/store/jbb1l7nqy3dskqy8i835p8wbi871dmsy-python-packaging-bootstrap-21.3/lib/python3.9/site-packages:/gnu/store/driz9p0pv29s9dlpd7r8m5r65wiia30z-python-more-itertools-8.2.0/lib/python3.9/site-packages:/gnu/store/sww1f0qbddpnj7p1pivrsva83xn7c711-python-iniconfig-1.1.1/lib/python3.9/site-packages:/gnu/store/wp31hr5sia5wydha04ijqiz2kdhck4y0-python-attrs-bootstrap-21.2.0/lib/python3.9/site-packages:/gnu/store/3bjjwwwbniv92j0cg8kp1h5k2q3c42n3-python-six-1.16.0/lib/python3.9/site-packages:/gnu/store/9bzm9zhbw6zk9ynhzx1qhzhzardd419w-python-urllib3-1.26.8/lib/python3.9/site-packages:/gnu/store/hj74j5jjqr55qy8ldvs23rlxanr3f1l7-python-idna-3.3/lib/python3.9/site-packages:/gnu/store/pwzh4npbxhm1rqrbg9lra99wx6sinkmf-python-charset-normalizer-2.0.11/lib/python3.9/site-packages:/gnu/store/sgs95j3njwkkw752iy4i8rycn37cs69z-python-certifi-2021.10.8/lib/python3.9/site-packages:/gnu/store/qmkk3jpm693wajkb1p1w5njf6z7rmpcm-python-jdcal-1.4/lib/python3.9/site-packages:/gnu/store/s3jjk7n2hpwwn6vcxk9l9v19ns4mpnb3-python-et-xmlfile-1.0.1/lib/python3.9/site-packages:/gnu/store/kw41zfr5s3ay2xva287lcpgzqa7bhvh1-python-pyparsing-3.0.6/lib/python3.9/site-packages:/gnu/store/rm5hqml7c77psn8b7gsz4hqabb3xxkq6-python-pysocks-1.7.1/lib/python3.9/site-packages:/gnu/store/0fz1vanf4n5c4b5b5jh3p9sk36p6kfix-python-pyopenssl-21.0.0/lib/python3.9/site-packages:/gnu/store/rgkhhsivbqw737d5zrpj1ql540m37wh8-python-cryptography-3.4.8/lib/python3.9/site-packages:/gnu/store/xr7l6fkj6fwvxyvamxllsp7x0zm4j3ag-python-iso8601-1.0.2/lib/python3.9/site-packages:/gnu/store/4hzdy7w8mnxpi3054m46xd00ixqfhb6g-python-cffi-1.14.4/lib/python3.9/site-packages:/gnu/store/cnzvnhjqwgiqdlyyrkrpb4vkydxm4din-python-asn1crypto-1.4.0/lib/python3.9/site-packages:/gnu/store/1mdg7xc4zx0i9s0kd0hwwq98bgab51s1-python-pycparser-2.21/lib/python3.9/site-packages'\r\nenvironment variable `PYTHONTZPATH' unset\r\nenvironment variable `BASH_LOADABLES_PATH' unset\r\nenvironment variable `C_INCLUDE_PATH' set to `/gnu/store/s3hl12jxz9ybs7nsy7kq7ybzz7qnzmsg-bzip2-1.0.8/include:/gnu/store/c8isj4jq6knv0icfgr43di6q3nvdzkx7-xz-5.2.5/include:/gnu/store/4ic6244i3ca4b4rxc2wnrgllsidyishv-file-5.39/include:/gnu/store/690qz3fg334dpwn3pn6k59n4wc943p2b-gawk-5.1.0/include:/gnu/store/55cbpsi18mahg131nmiya6km5b4mscfa-make-4.3/include:/gnu/store/rc781v4k0drhaqn90xfwwpspki5x0bvf-binutils-2.37/include:/gnu/store/069aq2v993kpc41yabp5b6vm4wb9jkhg-gcc-10.3.0/include:/gnu/store/5h2w4qi9hk1qzzgi1w83220ydslinr4s-glibc-2.33/include:/gnu/store/65i3nhcwmz0p8rqbg48gaavyky4g4hwk-python-3.9.9/include:/gnu/store/6mjww4iz4xdan74d5bbjfh7il8rngfkk-linux-libre-headers-5.10.35/include'\r\nenvironment variable `CPLUS_INCLUDE_PATH' set to `/gnu/store/s3hl12jxz9ybs7nsy7kq7ybzz7qnzmsg-bzip2-1.0.8/include:/gnu/store/c8isj4jq6knv0icfgr43di6q3nvdzkx7-xz-5.2.5/include:/gnu/store/4ic6244i3ca4b4rxc2wnrgllsidyishv-file-5.39/include:/gnu/store/690qz3fg334dpwn3pn6k59n4wc943p2b-gawk-5.1.0/include:/gnu/store/55cbpsi18mahg131nmiya6km5b4mscfa-make-4.3/include:/gnu/store/rc781v4k0drhaqn90xfwwpspki5x0bvf-binutils-2.37/include:/gnu/store/069aq2v993kpc41yabp5b6vm4wb9jkhg-gcc-10.3.0/include/c++:/gnu/store/069aq2v993kpc41yabp5b6vm4wb9jkhg-gcc-10.3.0/include:/gnu/store/5h2w4qi9hk1qzzgi1w83220ydslinr4s-glibc-2.33/include:/gnu/store/65i3nhcwmz0p8rqbg48gaavyky4g4hwk-python-3.9.9/include:/gnu/store/6mjww4iz4xdan74d5bbjfh7il8rngfkk-linux-libre-headers-5.10.35/include'\r\nenvironment variable `LIBRARY_PATH' set to `/gnu/store/7frqm5ijy66f81hr8i1j6791k84lds9w-python-pytest-6.2.5/lib:/gnu/store/xs8pxa4rr2zkb2hr5nhkxr7ijxxgmqna-python-dateutil-2.8.2/lib:/gnu/store/gjv07rwkais79cr0m2vy4ia2xb3irwx5-python-requests-2.27.1/lib:/gnu/store/pv2gvq3im4czlpdrh0pb7jjkkib19qvy-python-lxml-4.6.3/lib:/gnu/store/x2maq7qxliy26mzfq1nic7mpjmyx8r7j-python-openpyxl-3.0.9/lib:/gnu/store/6pzbvnfvgdxfar4qhms0d81w9d6n1ylp-python-xlrd-2.0.1/lib:/gnu/store/s3hl12jxz9ybs7nsy7kq7ybzz7qnzmsg-bzip2-1.0.8/lib:/gnu/store/c8isj4jq6knv0icfgr43di6q3nvdzkx7-xz-5.2.5/lib:/gnu/store/4ic6244i3ca4b4rxc2wnrgllsidyishv-file-5.39/lib:/gnu/store/690qz3fg334dpwn3pn6k59n4wc943p2b-gawk-5.1.0/lib:/gnu/store/rc781v4k0drhaqn90xfwwpspki5x0bvf-binutils-2.37/lib:/gnu/store/5h2w4qi9hk1qzzgi1w83220ydslinr4s-glibc-2.33/lib:/gnu/store/4jdghmc65q7i7ib89zmvq66l0ghf7jc4-glibc-2.33-static/lib:/gnu/store/fnr1z6xsan0437r0yg48d0y8k32kqxby-glibc-utf8-locales-2.33/lib:/gnu/store/65i3nhcwmz0p8rqbg48gaavyky4g4hwk-python-3.9.9/lib:/gnu/store/rh5pmm5ralyl06pgfr83qlfxaav6svjr-python-wcwidth-0.1.8/lib:/gnu/store/hmyqhci2vvrnvjwm32l26kwgasz7in1w-python-toml-0.10.2/lib:/gnu/store/xqvr1b5065idb5y8jxgr42cdkiwj6l64-python-six-bootstrap-1.16.0/lib:/gnu/store/ls2xsqbwsha2ap65dh09f9v0q0v43d91-python-py-1.10.0/lib:/gnu/store/jl1g2qqlg9sjxrh649x8zp2ysy4fmwh5-python-pluggy-0.13.1/lib:/gnu/store/jbb1l7nqy3dskqy8i835p8wbi871dmsy-python-packaging-bootstrap-21.3/lib:/gnu/store/driz9p0pv29s9dlpd7r8m5r65wiia30z-python-more-itertools-8.2.0/lib:/gnu/store/sww1f0qbddpnj7p1pivrsva83xn7c711-python-iniconfig-1.1.1/lib:/gnu/store/wp31hr5sia5wydha04ijqiz2kdhck4y0-python-attrs-bootstrap-21.2.0/lib:/gnu/store/3bjjwwwbniv92j0cg8kp1h5k2q3c42n3-python-six-1.16.0/lib:/gnu/store/9bzm9zhbw6zk9ynhzx1qhzhzardd419w-python-urllib3-1.26.8/lib:/gnu/store/hj74j5jjqr55qy8ldvs23rlxanr3f1l7-python-idna-3.3/lib:/gnu/store/pwzh4npbxhm1rqrbg9lra99wx6sinkmf-python-charset-normalizer-2.0.11/lib:/gnu/store/sgs95j3njwkkw752iy4i8rycn37cs69z-python-certifi-2021.10.8/lib:/gnu/store/qmkk3jpm693wajkb1p1w5njf6z7rmpcm-python-jdcal-1.4/lib:/gnu/store/s3jjk7n2hpwwn6vcxk9l9v19ns4mpnb3-python-et-xmlfile-1.0.1/lib:/gnu/store/kw41zfr5s3ay2xva287lcpgzqa7bhvh1-python-pyparsing-3.0.6/lib:/gnu/store/rm5hqml7c77psn8b7gsz4hqabb3xxkq6-python-pysocks-1.7.1/lib:/gnu/store/0fz1vanf4n5c4b5b5jh3p9sk36p6kfix-python-pyopenssl-21.0.0/lib:/gnu/store/rgkhhsivbqw737d5zrpj1ql540m37wh8-python-cryptography-3.4.8/lib:/gnu/store/xr7l6fkj6fwvxyvamxllsp7x0zm4j3ag-python-iso8601-1.0.2/lib:/gnu/store/4hzdy7w8mnxpi3054m46xd00ixqfhb6g-python-cffi-1.14.4/lib:/gnu/store/cnzvnhjqwgiqdlyyrkrpb4vkydxm4din-python-asn1crypto-1.4.0/lib:/gnu/store/1mdg7xc4zx0i9s0kd0hwwq98bgab51s1-python-pycparser-2.21/lib'\r\nenvironment variable `GUIX_LOCPATH' set to `/gnu/store/fnr1z6xsan0437r0yg48d0y8k32kqxby-glibc-utf8-locales-2.33/lib/locale'\r\nphase `set-paths' succeeded after 0.1 seconds\r\nstarting phase `install-locale'\r\nusing 'en_US.utf8' locale for category \"LC_ALL\"\r\nphase `install-locale' succeeded after 0.0 seconds\r\nstarting phase `unpack'\r\nvisidata-2.10/\r\nvisidata-2.10/LICENSE.gpl3\r\nvisidata-2.10/MANIFEST.in\r\nvisidata-2.10/PKG-INFO\r\nvisidata-2.10/README.md\r\nvisidata-2.10/bin/\r\nvisidata-2.10/bin/vd\r\nvisidata-2.10/setup.cfg\r\nvisidata-2.10/setup.py\r\nvisidata-2.10/visidata/\r\nvisidata-2.10/visidata/__init__.py\r\nvisidata-2.10/visidata/__main__.py\r\nvisidata-2.10/visidata/_input.py\r\nvisidata-2.10/visidata/_open.py\r\nvisidata-2.10/visidata/_types.py\r\nvisidata-2.10/visidata/_urlcache.py\r\nvisidata-2.10/visidata/aggregators.py\r\nvisidata-2.10/visidata/basesheet.py\r\nvisidata-2.10/visidata/bezier.py\r\nvisidata-2.10/visidata/canvas.py\r\nvisidata-2.10/visidata/canvas_text.py\r\nvisidata-2.10/visidata/choose.py\r\nvisidata-2.10/visidata/clipboard.py\r\nvisidata-2.10/visidata/cliptext.py\r\nvisidata-2.10/visidata/cmdlog.py\r\nvisidata-2.10/visidata/color.py\r\nvisidata-2.10/visidata/colorsheet.py\r\nvisidata-2.10/visidata/column.py\r\nvisidata-2.10/visidata/customdate.py\r\nvisidata-2.10/visidata/ddw/\r\nvisidata-2.10/visidata/ddw/input.ddw\r\nvisidata-2.10/visidata/ddwplay.py\r\nvisidata-2.10/visidata/deprecated.py\r\nvisidata-2.10/visidata/describe.py\r\nvisidata-2.10/visidata/editor.py\r\nvisidata-2.10/visidata/errors.py\r\nvisidata-2.10/visidata/expr.py\r\nvisidata-2.10/visidata/extensible.py\r\nvisidata-2.10/visidata/fill.py\r\nvisidata-2.10/visidata/form.py\r\nvisidata-2.10/visidata/freeze.py\r\nvisidata-2.10/visidata/freqtbl.py\r\nvisidata-2.10/visidata/graph.py\r\nvisidata-2.10/visidata/help.py\r\nvisidata-2.10/visidata/incr.py\r\nvisidata-2.10/visidata/join.py\r\nvisidata-2.10/visidata/keys.py\r\nvisidata-2.10/visidata/layout.py\r\nvisidata-2.10/visidata/loaders/\r\nvisidata-2.10/visidata/loaders/__init__.py\r\nvisidata-2.10/visidata/loaders/_pandas.py\r\nvisidata-2.10/visidata/loaders/archive.py\r\nvisidata-2.10/visidata/loaders/arrow.py\r\nvisidata-2.10/visidata/loaders/csv.py\r\nvisidata-2.10/visidata/loaders/eml.py\r\nvisidata-2.10/visidata/loaders/fixed_width.py\r\nvisidata-2.10/visidata/loaders/frictionless.py\r\nvisidata-2.10/visidata/loaders/geojson.py\r\nvisidata-2.10/visidata/loaders/graphviz.py\r\nvisidata-2.10/visidata/loaders/hdf5.py\r\nvisidata-2.10/visidata/loaders/html.py\r\nvisidata-2.10/visidata/loaders/http.py\r\nvisidata-2.10/visidata/loaders/imap.py\r\nvisidata-2.10/visidata/loaders/json.py\r\nvisidata-2.10/visidata/loaders/lsv.py\r\nvisidata-2.10/visidata/loaders/markdown.py\r\nvisidata-2.10/visidata/loaders/mbtiles.py\r\nvisidata-2.10/visidata/loaders/mysql.py\r\nvisidata-2.10/visidata/loaders/npy.py\r\nvisidata-2.10/visidata/loaders/odf.py\r\nvisidata-2.10/visidata/loaders/pandas_freqtbl.py\r\nvisidata-2.10/visidata/loaders/parquet.py\r\nvisidata-2.10/visidata/loaders/pcap.py\r\nvisidata-2.10/visidata/loaders/pdf.py\r\nvisidata-2.10/visidata/loaders/png.py\r\nvisidata-2.10/visidata/loaders/postgres.py\r\nvisidata-2.10/visidata/loaders/rec.py\r\nvisidata-2.10/visidata/loaders/sas.py\r\nvisidata-2.10/visidata/loaders/shp.py\r\nvisidata-2.10/visidata/loaders/spss.py\r\nvisidata-2.10/visidata/loaders/sqlite.py\r\nvisidata-2.10/visidata/loaders/texttables.py\r\nvisidata-2.10/visidata/loaders/tsv.py\r\nvisidata-2.10/visidata/loaders/ttf.py\r\nvisidata-2.10/visidata/loaders/unzip_http.py\r\nvisidata-2.10/visidata/loaders/usv.py\r\nvisidata-2.10/visidata/loaders/vcf.py\r\nvisidata-2.10/visidata/loaders/vds.py\r\nvisidata-2.10/visidata/loaders/xlsb.py\r\nvisidata-2.10/visidata/loaders/xlsx.py\r\nvisidata-2.10/visidata/loaders/xml.py\r\nvisidata-2.10/visidata/loaders/xword.py\r\nvisidata-2.10/visidata/loaders/yaml.py\r\nvisidata-2.10/visidata/macos.py\r\nvisidata-2.10/visidata/macros.py\r\nvisidata-2.10/visidata/main.py\r\nvisidata-2.10/visidata/mainloop.py\r\nvisidata-2.10/visidata/man/\r\nvisidata-2.10/visidata/man/vd.1\r\nvisidata-2.10/visidata/man/vd.txt\r\nvisidata-2.10/visidata/man/visidata.1\r\nvisidata-2.10/visidata/melt.py\r\nvisidata-2.10/visidata/memory.py\r\nvisidata-2.10/visidata/menu.py\r\nvisidata-2.10/visidata/metasheets.py\r\nvisidata-2.10/visidata/misc.py\r\nvisidata-2.10/visidata/modify.py\r\nvisidata-2.10/visidata/motd.py\r\nvisidata-2.10/visidata/movement.py\r\nvisidata-2.10/visidata/path.py\r\nvisidata-2.10/visidata/pivot.py\r\nvisidata-2.10/visidata/plugins.py\r\nvisidata-2.10/visidata/pyobj.py\r\nvisidata-2.10/visidata/regex.py\r\nvisidata-2.10/visidata/save.py\r\nvisidata-2.10/visidata/search.py\r\nvisidata-2.10/visidata/selection.py\r\nvisidata-2.10/visidata/settings.py\r\nvisidata-2.10/visidata/sheets.py\r\nvisidata-2.10/visidata/shell.py\r\nvisidata-2.10/visidata/slide.py\r\nvisidata-2.10/visidata/sort.py\r\nvisidata-2.10/visidata/statusbar.py\r\nvisidata-2.10/visidata/tests/\r\nvisidata-2.10/visidata/tests/__init__.py\r\nvisidata-2.10/visidata/tests/conftest.py\r\nvisidata-2.10/visidata/tests/test_commands.py\r\nvisidata-2.10/visidata/tests/test_edittext.py\r\nvisidata-2.10/visidata/tests/test_path.py\r\nvisidata-2.10/visidata/textsheet.py\r\nvisidata-2.10/visidata/threads.py\r\nvisidata-2.10/visidata/transpose.py\r\nvisidata-2.10/visidata/undo.py\r\nvisidata-2.10/visidata/unfurl.py\r\nvisidata-2.10/visidata/utils.py\r\nvisidata-2.10/visidata/vdobj.py\r\nvisidata-2.10/visidata/vendor/\r\nvisidata-2.10/visidata/vendor/appdirs.py\r\nvisidata-2.10/visidata/window.py\r\nvisidata-2.10/visidata/wrappers.py\r\nvisidata-2.10/visidata.egg-info/\r\nvisidata-2.10/visidata.egg-info/PKG-INFO\r\nvisidata-2.10/visidata.egg-info/SOURCES.txt\r\nvisidata-2.10/visidata.egg-info/dependency_links.txt\r\nvisidata-2.10/visidata.egg-info/entry_points.txt\r\nvisidata-2.10/visidata.egg-info/requires.txt\r\nvisidata-2.10/visidata.egg-info/top_level.txt\r\nphase `unpack' succeeded after 0.0 seconds\r\nstarting phase `ensure-no-mtimes-pre-1980'\r\nphase `ensure-no-mtimes-pre-1980' succeeded after 0.0 seconds\r\nstarting phase `enable-bytecode-determinism'\r\nphase `enable-bytecode-determinism' succeeded after 0.0 seconds\r\nstarting phase `ensure-no-cythonized-files'\r\nphase `ensure-no-cythonized-files' succeeded after 0.0 seconds\r\nstarting phase `patch-usr-bin-file'\r\nphase `patch-usr-bin-file' succeeded after 0.0 seconds\r\nstarting phase `patch-source-shebangs'\r\npatch-shebang: ./bin/vd: changing `/usr/bin/env python3' to `/gnu/store/65i3nhcwmz0p8rqbg48gaavyky4g4hwk-python-3.9.9/bin/python3'\r\npatch-shebang: ./setup.py: changing `/usr/bin/env python3' to `/gnu/store/65i3nhcwmz0p8rqbg48gaavyky4g4hwk-python-3.9.9/bin/python3'\r\nphase `patch-source-shebangs' succeeded after 0.0 seconds\r\nstarting phase `patch-generated-file-shebangs'\r\nphase `patch-generated-file-shebangs' succeeded after 0.0 seconds\r\nstarting phase `build'\r\nrunning \"python setup.py\" with command \"build\" and parameters ()\r\nrunning build\r\nrunning build_py\r\nfile visidata.py (for module visidata) not found\r\ncreating build\r\ncreating build/lib\r\ncreating build/lib/visidata\r\ncopying visidata/cmdlog.py -> build/lib/visidata\r\ncopying visidata/_input.py -> build/lib/visidata\r\ncopying visidata/help.py -> build/lib/visidata\r\ncopying visidata/customdate.py -> build/lib/visidata\r\ncopying visidata/_types.py -> build/lib/visidata\r\ncopying visidata/layout.py -> build/lib/visidata\r\ncopying visidata/modify.py -> build/lib/visidata\r\ncopying visidata/__main__.py -> build/lib/visidata\r\ncopying visidata/main.py -> build/lib/visidata\r\ncopying visidata/plugins.py -> build/lib/visidata\r\ncopying visidata/sheets.py -> build/lib/visidata\r\ncopying visidata/mainloop.py -> build/lib/visidata\r\ncopying visidata/aggregators.py -> build/lib/visidata\r\ncopying visidata/menu.py -> build/lib/visidata\r\ncopying visidata/pivot.py -> build/lib/visidata\r\ncopying visidata/misc.py -> build/lib/visidata\r\ncopying visidata/keys.py -> build/lib/visidata\r\ncopying visidata/basesheet.py -> build/lib/visidata\r\ncopying visidata/settings.py -> build/lib/visidata\r\ncopying visidata/choose.py -> build/lib/visidata\r\ncopying visidata/threads.py -> build/lib/visidata\r\ncopying visidata/column.py -> build/lib/visidata\r\ncopying visidata/canvas_text.py -> build/lib/visidata\r\ncopying visidata/describe.py -> build/lib/visidata\r\ncopying visidata/bezier.py -> build/lib/visidata\r\ncopying visidata/form.py -> build/lib/visidata\r\ncopying visidata/colorsheet.py -> build/lib/visidata\r\ncopying visidata/path.py -> build/lib/visidata\r\ncopying visidata/transpose.py -> build/lib/visidata\r\ncopying visidata/motd.py -> build/lib/visidata\r\ncopying visidata/errors.py -> build/lib/visidata\r\ncopying visidata/freeze.py -> build/lib/visidata\r\ncopying visidata/search.py -> build/lib/visidata\r\ncopying visidata/deprecated.py -> build/lib/visidata\r\ncopying visidata/freqtbl.py -> build/lib/visidata\r\ncopying visidata/vdobj.py -> build/lib/visidata\r\ncopying visidata/window.py -> build/lib/visidata\r\ncopying visidata/memory.py -> build/lib/visidata\r\ncopying visidata/shell.py -> build/lib/visidata\r\ncopying visidata/canvas.py -> build/lib/visidata\r\ncopying visidata/editor.py -> build/lib/visidata\r\ncopying visidata/metasheets.py -> build/lib/visidata\r\ncopying visidata/incr.py -> build/lib/visidata\r\ncopying visidata/melt.py -> build/lib/visidata\r\ncopying visidata/clipboard.py -> build/lib/visidata\r\ncopying visidata/regex.py -> build/lib/visidata\r\ncopying visidata/macos.py -> build/lib/visidata\r\ncopying visidata/graph.py -> build/lib/visidata\r\ncopying visidata/selection.py -> build/lib/visidata\r\ncopying visidata/wrappers.py -> build/lib/visidata\r\ncopying visidata/movement.py -> build/lib/visidata\r\ncopying visidata/statusbar.py -> build/lib/visidata\r\ncopying visidata/__init__.py -> build/lib/visidata\r\ncopying visidata/join.py -> build/lib/visidata\r\ncopying visidata/_urlcache.py -> build/lib/visidata\r\ncopying visidata/save.py -> build/lib/visidata\r\ncopying visidata/_open.py -> build/lib/visidata\r\ncopying visidata/undo.py -> build/lib/visidata\r\ncopying visidata/cliptext.py -> build/lib/visidata\r\ncopying visidata/textsheet.py -> build/lib/visidata\r\ncopying visidata/pyobj.py -> build/lib/visidata\r\ncopying visidata/fill.py -> build/lib/visidata\r\ncopying visidata/sort.py -> build/lib/visidata\r\ncopying visidata/color.py -> build/lib/visidata\r\ncopying visidata/extensible.py -> build/lib/visidata\r\ncopying visidata/ddwplay.py -> build/lib/visidata\r\ncopying visidata/macros.py -> build/lib/visidata\r\ncopying visidata/unfurl.py -> build/lib/visidata\r\ncopying visidata/slide.py -> build/lib/visidata\r\ncopying visidata/expr.py -> build/lib/visidata\r\ncopying visidata/utils.py -> build/lib/visidata\r\ncreating build/lib/visidata/loaders\r\ncopying visidata/loaders/xlsb.py -> build/lib/visidata/loaders\r\ncopying visidata/loaders/sas.py -> build/lib/visidata/loaders\r\ncopying visidata/loaders/ttf.py -> build/lib/visidata/loaders\r\ncopying visidata/loaders/parquet.py -> build/lib/visidata/loaders\r\ncopying visidata/loaders/tsv.py -> build/lib/visidata/loaders\r\ncopying visidata/loaders/xml.py -> build/lib/visidata/loaders\r\ncopying visidata/loaders/odf.py -> build/lib/visidata/loaders\r\ncopying visidata/loaders/xword.py -> build/lib/visidata/loaders\r\ncopying visidata/loaders/json.py -> build/lib/visidata/loaders\r\ncopying visidata/loaders/mysql.py -> build/lib/visidata/loaders\r\ncopying visidata/loaders/markdown.py -> build/lib/visidata/loaders\r\ncopying visidata/loaders/_pandas.py -> build/lib/visidata/loaders\r\ncopying visidata/loaders/geojson.py -> build/lib/visidata/loaders\r\ncopying visidata/loaders/pandas_freqtbl.py -> build/lib/visidata/loaders\r\ncopying visidata/loaders/pdf.py -> build/lib/visidata/loaders\r\ncopying visidata/loaders/graphviz.py -> build/lib/visidata/loaders\r\ncopying visidata/loaders/vds.py -> build/lib/visidata/loaders\r\ncopying visidata/loaders/xlsx.py -> build/lib/visidata/loaders\r\ncopying visidata/loaders/yaml.py -> build/lib/visidata/loaders\r\ncopying visidata/loaders/pcap.py -> build/lib/visidata/loaders\r\ncopying visidata/loaders/arrow.py -> build/lib/visidata/loaders\r\ncopying visidata/loaders/shp.py -> build/lib/visidata/loaders\r\ncopying visidata/loaders/frictionless.py -> build/lib/visidata/loaders\r\ncopying visidata/loaders/postgres.py -> build/lib/visidata/loaders\r\ncopying visidata/loaders/eml.py -> build/lib/visidata/loaders\r\ncopying visidata/loaders/lsv.py -> build/lib/visidata/loaders\r\ncopying visidata/loaders/rec.py -> build/lib/visidata/loaders\r\ncopying visidata/loaders/png.py -> build/lib/visidata/loaders\r\ncopying visidata/loaders/mbtiles.py -> build/lib/visidata/loaders\r\ncopying visidata/loaders/vcf.py -> build/lib/visidata/loaders\r\ncopying visidata/loaders/npy.py -> build/lib/visidata/loaders\r\ncopying visidata/loaders/__init__.py -> build/lib/visidata/loaders\r\ncopying visidata/loaders/archive.py -> build/lib/visidata/loaders\r\ncopying visidata/loaders/html.py -> build/lib/visidata/loaders\r\ncopying visidata/loaders/fixed_width.py -> build/lib/visidata/loaders\r\ncopying visidata/loaders/imap.py -> build/lib/visidata/loaders\r\ncopying visidata/loaders/http.py -> build/lib/visidata/loaders\r\ncopying visidata/loaders/texttables.py -> build/lib/visidata/loaders\r\ncopying visidata/loaders/unzip_http.py -> build/lib/visidata/loaders\r\ncopying visidata/loaders/sqlite.py -> build/lib/visidata/loaders\r\ncopying visidata/loaders/usv.py -> build/lib/visidata/loaders\r\ncopying visidata/loaders/csv.py -> build/lib/visidata/loaders\r\ncopying visidata/loaders/hdf5.py -> build/lib/visidata/loaders\r\ncopying visidata/loaders/spss.py -> build/lib/visidata/loaders\r\npackage init file 'visidata/vendor/__init__.py' not found (or not a regular file)\r\ncreating build/lib/visidata/vendor\r\ncopying visidata/vendor/appdirs.py -> build/lib/visidata/vendor\r\ncreating build/lib/visidata/tests\r\ncopying visidata/tests/conftest.py -> build/lib/visidata/tests\r\ncopying visidata/tests/test_commands.py -> build/lib/visidata/tests\r\ncopying visidata/tests/test_edittext.py -> build/lib/visidata/tests\r\ncopying visidata/tests/test_path.py -> build/lib/visidata/tests\r\ncopying visidata/tests/__init__.py -> build/lib/visidata/tests\r\nrunning egg_info\r\nwriting visidata.egg-info/PKG-INFO\r\nwriting dependency_links to visidata.egg-info/dependency_links.txt\r\nwriting entry points to visidata.egg-info/entry_points.txt\r\nwriting requirements to visidata.egg-info/requires.txt\r\nwriting top-level names to visidata.egg-info/top_level.txt\r\nfile visidata.py (for module visidata) not found\r\nreading manifest file 'visidata.egg-info/SOURCES.txt'\r\nreading manifest template 'MANIFEST.in'\r\nadding license file 'LICENSE.gpl3'\r\nwriting manifest file 'visidata.egg-info/SOURCES.txt'\r\ncreating build/lib/visidata/ddw\r\ncopying visidata/ddw/input.ddw -> build/lib/visidata/ddw\r\ncreating build/lib/visidata/man\r\ncopying visidata/man/vd.1 -> build/lib/visidata/man\r\ncopying visidata/man/vd.txt -> build/lib/visidata/man\r\ncopying visidata/man/visidata.1 -> build/lib/visidata/man\r\nfile visidata.py (for module visidata) not found\r\nwarning: build_py: byte-compiling is disabled, skipping.\r\n\r\nrunning build_scripts\r\ncreating build/scripts-3.9\r\ncopying and adjusting bin/vd -> build/scripts-3.9\r\nchanging mode of build/scripts-3.9/vd from 644 to 755\r\nphase `build' succeeded after 0.4 seconds\r\nstarting phase `install'\r\nrunning \"python setup.py\" with command \"install\" and parameters (\"--prefix=/gnu/store/7rh1wh9kmi6852zs6j1zn4ll2w2y2mny-visidata-2.10\" \"--no-compile\" \"--single-version-externally-managed\" \"--root=/\")\r\nrunning install\r\nrunning build\r\nrunning build_py\r\nfile visidata.py (for module visidata) not found\r\npackage init file 'visidata/vendor/__init__.py' not found (or not a regular file)\r\nrunning egg_info\r\nwriting visidata.egg-info/PKG-INFO\r\nwriting dependency_links to visidata.egg-info/dependency_links.txt\r\nwriting entry points to visidata.egg-info/entry_points.txt\r\nwriting requirements to visidata.egg-info/requires.txt\r\nwriting top-level names to visidata.egg-info/top_level.txt\r\nfile visidata.py (for module visidata) not found\r\nreading manifest file 'visidata.egg-info/SOURCES.txt'\r\nreading manifest template 'MANIFEST.in'\r\nadding license file 'LICENSE.gpl3'\r\nwriting manifest file 'visidata.egg-info/SOURCES.txt'\r\nfile visidata.py (for module visidata) not found\r\nwarning: build_py: byte-compiling is disabled, skipping.\r\n\r\nrunning build_scripts\r\nrunning install_lib\r\ncreating /gnu/store/7rh1wh9kmi6852zs6j1zn4ll2w2y2mny-visidata-2.10\r\ncreating /gnu/store/7rh1wh9kmi6852zs6j1zn4ll2w2y2mny-visidata-2.10/lib\r\ncreating /gnu/store/7rh1wh9kmi6852zs6j1zn4ll2w2y2mny-visidata-2.10/lib/python3.9\r\ncreating /gnu/store/7rh1wh9kmi6852zs6j1zn4ll2w2y2mny-visidata-2.10/lib/python3.9/site-packages\r\ncreating /gnu/store/7rh1wh9kmi6852zs6j1zn4ll2w2y2mny-visidata-2.10/lib/python3.9/site-packages/visidata\r\n[cut 281 lines of file install messages\u2026]\r\nphase `install' succeeded after 0.4 seconds\r\nstarting phase `add-install-to-pythonpath'\r\nphase `add-install-to-pythonpath' succeeded after 0.0 seconds\r\nstarting phase `add-install-to-path'\r\nphase `add-install-to-path' succeeded after 0.0 seconds\r\nstarting phase `wrap'\r\nfind-files: /gnu/store/7rh1wh9kmi6852zs6j1zn4ll2w2y2mny-visidata-2.10/sbin: No such file or directory\r\nphase `wrap' succeeded after 0.0 seconds\r\nstarting phase `check'\r\n============================= test session starts ==============================\r\nplatform linux -- Python 3.9.9, pytest-6.2.5, py-1.10.0, pluggy-0.13.1\r\nrootdir: /tmp/guix-build-visidata-2.10.drv-0/visidata-2.10\r\nplugins: hypothesis-6.0.2\r\ncollected 21 items\r\n\r\nvisidata/tests/test_commands.py F                                        [  4%]\r\nvisidata/tests/test_edittext.py ...................                      [ 95%]\r\nvisidata/tests/test_path.py .                                            [100%]\r\n\r\n=================================== FAILURES ===================================\r\n________________________ TestCommands.test_baseCommands ________________________\r\n\r\nself = <visidata.tests.test_commands.TestCommands object at 0x7ffff5aa78b0>\r\nmock_screen = <Mock id='140737315126000'>\r\n\r\n    def test_baseCommands(self, mock_screen):\r\n        'exec each global command at least once'\r\n    \r\n        cmdlist = visidata.vd.commands\r\n    \r\n    \r\n        vs = visidata.Sheet('test_commands')\r\n        vs.reload()\r\n        vd = visidata.vd\r\n    \r\n        nerrs = 0\r\n        ntotal = 0\r\n        for longname in cmdlist.keys():\r\n            if not isTestableCommand(longname, cmdlist):\r\n                continue\r\n            ntotal += 1\r\n            print(longname)\r\n>           self.runOneTest(mock_screen, longname)\r\n\r\nvisidata/tests/test_commands.py:93: \r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \r\nvisidata/tests/test_commands.py:119: in runOneTest\r\n    vs.reload.__wrapped__(vs)\r\nvisidata/sheets.py:944: in reload\r\n    self.setCols(list(self.optlines(itsource, 'header')))\r\nvisidata/sheets.py:930: in optlines\r\n    yield next(it)\r\nvisidata/loaders/tsv.py:45: in iterload\r\n    with self.source.open_text(encoding=self.options.encoding) as fp:\r\nvisidata/path.py:222: in open_text\r\n    return self.open(mode=mode, encoding=encoding or vd.options.encoding, errors=vd.options.encoding_errors, newline=newline)\r\nvisidata/path.py:262: in open\r\n    return FileProgress(path, fp=self._path.open(*args, **kwargs), **kwargs)\r\n/gnu/store/65i3nhcwmz0p8rqbg48gaavyky4g4hwk-python-3.9.9/lib/python3.9/pathlib.py:1252: in open\r\n    return io.open(self, mode, buffering, encoding, errors, newline,\r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \r\n\r\nself = PosixPath('/tmp/guix-build-visidata-2.10.drv-0/visidata-2.10/visidata/../sample_data/sample.tsv')\r\nname = '/tmp/guix-build-visidata-2.10.drv-0/visidata-2.10/visidata/../sample_data/sample.tsv'\r\nflags = 524288, mode = 438\r\n\r\n    def _opener(self, name, flags, mode=0o666):\r\n        # A stub for the opener argument to built-in open()\r\n>       return self._accessor.open(self, flags, mode)\r\nE       FileNotFoundError: [Errno 2] No such file or directory: '/tmp/guix-build-visidata-2.10.drv-0/visidata-2.10/visidata/../sample_data/sample.tsv'\r\n\r\n/gnu/store/65i3nhcwmz0p8rqbg48gaavyky4g4hwk-python-3.9.9/lib/python3.9/pathlib.py:1120: FileNotFoundError\r\n----------------------------- Captured stdout call -----------------------------\r\nopen-config\r\n=============================== warnings summary ===============================\r\nvisidata/tests/test_commands.py::TestCommands::test_baseCommands\r\n  /gnu/store/65i3nhcwmz0p8rqbg48gaavyky4g4hwk-python-3.9.9/lib/python3.9/site-packages/pkg_resources/__init__.py:1130: DeprecationWarning: Use of .. or absolute path in a resource path is not allowed and will raise exceptions in a future release.\r\n    return get_provider(package_or_requirement).get_resource_filename(\r\n\r\n-- Docs: https://docs.pytest.org/en/stable/warnings.html\r\n=========================== short test summary info ============================\r\nFAILED visidata/tests/test_commands.py::TestCommands::test_baseCommands - Fil...\r\n=================== 1 failed, 20 passed, 1 warning in 0.52s ====================\r\nerror: in phase 'check': uncaught exception:\r\n%exception #<&invoke-error program: \"pytest\" arguments: () exit-status: 1 term-signal: #f stop-signal: #f> \r\nphase `check' failed after 1.2 seconds\r\ncommand \"pytest\" failed with status 1\r\n</pre>\r\n</details>\r\n\r\n**Additional context**\r\nThe tests seem to be looking for a file called `sample.tsv`. I checked the distribution tarball on PyPI and it doesn't seem to have that file in it. Maybe adding the file would fix the issue?", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1499/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1499/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1497", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1497/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1497/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1497/events", "html_url": "https://github.com/saulpw/visidata/issues/1497", "id": 1353410441, "node_id": "I_kwDOBEu2Gc5Qq2eJ", "number": 1497, "title": "[alt-shift- ]  The open-memos keyboard shortcut doesn't work", "user": {"login": "frosencrantz", "id": 631242, "node_id": "MDQ6VXNlcjYzMTI0Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/631242?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frosencrantz", "html_url": "https://github.com/frosencrantz", "followers_url": "https://api.github.com/users/frosencrantz/followers", "following_url": "https://api.github.com/users/frosencrantz/following{/other_user}", "gists_url": "https://api.github.com/users/frosencrantz/gists{/gist_id}", "starred_url": "https://api.github.com/users/frosencrantz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frosencrantz/subscriptions", "organizations_url": "https://api.github.com/users/frosencrantz/orgs", "repos_url": "https://api.github.com/users/frosencrantz/repos", "events_url": "https://api.github.com/users/frosencrantz/events{/privacy}", "received_events_url": "https://api.github.com/users/frosencrantz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2022-08-28T16:54:06Z", "updated_at": "2022-09-04T21:14:44Z", "closed_at": "2022-08-28T23:24:53Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nThe open-memos keyboard shortcut doesn't work\r\n\r\n**Expected result**\r\nThe open-memos keyboard shortcut would open the memo sheet.\r\n\r\n**Actual result with screenshot**\r\nhttps://asciinema.org/a/iFDKQSKcR6Sn9XTPsRCb3hb2f\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n\r\n`vd` then press `Alt+Shift+M`  VisiData is calling it `Alt+Shift+M`, while the shortcut is called `Alt+M`\r\n\r\n**Additional context**\r\nPlease include the version of VisiData.  Latest develop version.\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1497/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1497/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1494", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1494/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1494/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1494/events", "html_url": "https://github.com/saulpw/visidata/issues/1494", "id": 1351882312, "node_id": "I_kwDOBEu2Gc5QlBZI", "number": 1494, "title": "make sheet name from final extension only", "user": {"login": "geekscrapy", "id": 11225502, "node_id": "MDQ6VXNlcjExMjI1NTAy", "avatar_url": "https://avatars.githubusercontent.com/u/11225502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geekscrapy", "html_url": "https://github.com/geekscrapy", "followers_url": "https://api.github.com/users/geekscrapy/followers", "following_url": "https://api.github.com/users/geekscrapy/following{/other_user}", "gists_url": "https://api.github.com/users/geekscrapy/gists{/gist_id}", "starred_url": "https://api.github.com/users/geekscrapy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geekscrapy/subscriptions", "organizations_url": "https://api.github.com/users/geekscrapy/orgs", "repos_url": "https://api.github.com/users/geekscrapy/repos", "events_url": "https://api.github.com/users/geekscrapy/events{/privacy}", "received_events_url": "https://api.github.com/users/geekscrapy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-08-26T07:39:17Z", "updated_at": "2022-09-09T05:13:51Z", "closed_at": "2022-08-31T04:12:23Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nIf you have a file with multiple `.` (periods) in the name, only the first substring is shown as the sheet name.\r\n\r\n**Expected result**\r\nTo show all of the filename, minus the extension (if there is one). So for the below example, I believe `\"services.test.public\"` should be shown by default\r\n\r\n**Actual result with screenshot**\r\nOpening a file with the name `services.test.public.jsonl` I get the following sheet name\r\n\r\nSheet Status\r\n<img width=\"189\" alt=\"image\" src=\"https://user-images.githubusercontent.com/11225502/186848860-2ba25dd8-a93e-4230-9c0e-739637e121c2.png\">\r\n\r\nSheetsSheet\r\n<img width=\"472\" alt=\"image\" src=\"https://user-images.githubusercontent.com/11225502/186848900-63354eb1-da26-4a69-94ff-85dce9451adc.png\">\r\n\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\nOpen a file with multiple `.` in the filename\r\n\r\n**Additional context**\r\nLatest as of now", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1494/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1494/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1492", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1492/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1492/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1492/events", "html_url": "https://github.com/saulpw/visidata/issues/1492", "id": 1350505467, "node_id": "I_kwDOBEu2Gc5QfxP7", "number": 1492, "title": "[zip] ValueError: Attempt to use ZIP archive that was already closed", "user": {"login": "geekscrapy", "id": 11225502, "node_id": "MDQ6VXNlcjExMjI1NTAy", "avatar_url": "https://avatars.githubusercontent.com/u/11225502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geekscrapy", "html_url": "https://github.com/geekscrapy", "followers_url": "https://api.github.com/users/geekscrapy/followers", "following_url": "https://api.github.com/users/geekscrapy/following{/other_user}", "gists_url": "https://api.github.com/users/geekscrapy/gists{/gist_id}", "starred_url": "https://api.github.com/users/geekscrapy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geekscrapy/subscriptions", "organizations_url": "https://api.github.com/users/geekscrapy/orgs", "repos_url": "https://api.github.com/users/geekscrapy/repos", "events_url": "https://api.github.com/users/geekscrapy/events{/privacy}", "received_events_url": "https://api.github.com/users/geekscrapy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-08-25T08:14:27Z", "updated_at": "2022-09-09T05:14:00Z", "closed_at": "2022-08-25T17:21:22Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nWhen opening an inner file from within a zip, I get the attached error.\r\n\r\n**Expected result**\r\nTo be able to open an embedded file like previous\r\n\r\n**Actual result with screenshot**\r\n\r\n```python\r\nTraceback (most recent call last):\r\n  File \"/Users/geekscrapy/envs3/envs/py37/lib/python3.7/site-packages/visidata/basesheet.py\", line 169, in execCommand\r\n    escaped = super().execCommand2(cmd, vdglobals=vdglobals)\r\n  File \"/Users/geekscrapy/envs3/envs/py37/lib/python3.7/site-packages/visidata/basesheet.py\", line 69, in execCommand2\r\n    exec(code, vdglobals, LazyChainMap(vd, self))\r\n  File \"open-row\", line 1, in <module>\r\n    import plugins.agg_counter\r\n  File \"/Users/geekscrapy/envs3/envs/py37/lib/python3.7/site-packages/visidata/loaders/archive.py\", line 49, in openRow\r\n    fp = self.openZipFile(self.zfp, fi)\r\n  File \"/Users/geekscrapy/envs3/envs/py37/lib/python3.7/site-packages/visidata/loaders/archive.py\", line 40, in openZipFile\r\n    return fp.open(*args, **kwargs)\r\n  File \"/Users/geekscrapy/envs3/envs/py37/lib/python3.7/zipfile.py\", line 1491, in open\r\n    \"Attempt to use ZIP archive that was already closed\")\r\nValueError: Attempt to use ZIP archive that was already closed\r\n\r\n```\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n1. Open a .zip file\r\n2. Attempt to open an inner file with ENTER\r\n\r\n**Additional context**\r\nsaul.pw/VisiData v2.10dev\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1492/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1492/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1480", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1480/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1480/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1480/events", "html_url": "https://github.com/saulpw/visidata/issues/1480", "id": 1338080861, "node_id": "I_kwDOBEu2Gc5PwX5d", "number": 1480, "title": "[addcol-sh] addcol-sh generates stack trace", "user": {"login": "frosencrantz", "id": 631242, "node_id": "MDQ6VXNlcjYzMTI0Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/631242?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frosencrantz", "html_url": "https://github.com/frosencrantz", "followers_url": "https://api.github.com/users/frosencrantz/followers", "following_url": "https://api.github.com/users/frosencrantz/following{/other_user}", "gists_url": "https://api.github.com/users/frosencrantz/gists{/gist_id}", "starred_url": "https://api.github.com/users/frosencrantz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frosencrantz/subscriptions", "organizations_url": "https://api.github.com/users/frosencrantz/orgs", "repos_url": "https://api.github.com/users/frosencrantz/repos", "events_url": "https://api.github.com/users/frosencrantz/events{/privacy}", "received_events_url": "https://api.github.com/users/frosencrantz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-08-13T23:16:06Z", "updated_at": "2022-08-14T21:20:49Z", "closed_at": "2022-08-14T18:54:49Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\naddcol-sh generates stack trace\r\n\r\n**Expected result**\r\nNo stack trace shown\r\n\r\n\r\n**Actual result with screenshot**\r\n\r\n```\r\nFAILED: addcol-sh Traceback (most recent call last):\r\n  File \"/home/runner/work/visidata/visidata/visidata/basesheet.py\", line 169, in execCommand\r\n    escaped = super().execCommand2(cmd, vdglobals=vdglobals)\r\n  File \"/home/runner/work/visidata/visidata/visidata/basesheet.py\", line 69, in execCommand2\r\n    exec(code, vdglobals, LazyChainMap(vd, self))\r\n  File \"addcol-sh\", line 1, in <module>\r\n    'VisiData: a curses interface for exploring and arranging tabular data'\r\n  File \"/home/runner/work/visidata/visidata/visidata/shell.py\", line 46, in addShellColumns\r\n    sheet.addColumnAtCursor(\r\n  File \"/home/runner/work/visidata/visidata/visidata/sheets.py\", line 524, in addColumnAtCursor\r\n    self.cursorVisibleColIndex = self.visibleCols.index(firstnewcol)\r\nValueError: <visidata.shell.ColumnShell object at 0x7ffb90c40610> is not in list\r\n```\r\n\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n\r\nOpen a sheet, run the `addcol-sh` - `z;` command, type in a shell command,\r\n\r\n**Additional context**\r\nPlease include the version of VisiData.  Current head.  Currently breaking GitHub actions.  Visidata tool outside of the tests is also generating the stack trace, but the command works.  It has done most of the work needed before it fails.\r\n\r\nIt looks like the issue is here:\r\n  https://github.com/saulpw/visidata/blob/develop/visidata/sheets.py#L524\r\nIt looks like a bad assumption that an added column is visible, so it might not be in the visibleCols list.\r\n\r\nThe `ColumnShell` column is not visible by default. (right?) It will not be found in the visibleCols.  \r\nOne simple fix might be just reorder the columns passed here: https://github.com/saulpw/visidata/blob/develop/visidata/shell.py#L47\r\nMove the ColumnShell to the end of the list rather than the start of the list.\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1480/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1480/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1470", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1470/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1470/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1470/events", "html_url": "https://github.com/saulpw/visidata/issues/1470", "id": 1335006580, "node_id": "I_kwDOBEu2Gc5PkpV0", "number": 1470, "title": "Confusing model and keystroke consumption in menu bar", "user": {"login": "reagle", "id": 596814, "node_id": "MDQ6VXNlcjU5NjgxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/596814?v=4", "gravatar_id": "", "url": "https://api.github.com/users/reagle", "html_url": "https://github.com/reagle", "followers_url": "https://api.github.com/users/reagle/followers", "following_url": "https://api.github.com/users/reagle/following{/other_user}", "gists_url": "https://api.github.com/users/reagle/gists{/gist_id}", "starred_url": "https://api.github.com/users/reagle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/reagle/subscriptions", "organizations_url": "https://api.github.com/users/reagle/orgs", "repos_url": "https://api.github.com/users/reagle/repos", "events_url": "https://api.github.com/users/reagle/events{/privacy}", "received_events_url": "https://api.github.com/users/reagle/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-08-10T18:20:38Z", "updated_at": "2022-08-11T18:16:25Z", "closed_at": "2022-08-11T17:51:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "From [a discussion](https://github.com/saulpw/visidata/discussions/1464#discussioncomment-3368730):\r\n\r\nI would think that once the menubar is active (ctrl+h) I can press those letters to go to their sub-menus.\r\n\r\nAdditionally, if I hit alt+c for the column, and then change my mind and want to go to the row menu:\r\n\r\n1. `r` does nothing;\r\n2. `alt+r` calls a `row key by regex` command; I suspect the menu ate the `alt` key and escaped the menu and then executed `r`.\r\n\r\nThis is confusing because is the menu system eating characters or not?", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1470/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1470/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1459", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1459/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1459/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1459/events", "html_url": "https://github.com/saulpw/visidata/issues/1459", "id": 1332756848, "node_id": "I_kwDOBEu2Gc5PcEFw", "number": 1459, "title": "Lag when scrolling", "user": {"login": "ansoncg", "id": 29206492, "node_id": "MDQ6VXNlcjI5MjA2NDky", "avatar_url": "https://avatars.githubusercontent.com/u/29206492?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ansoncg", "html_url": "https://github.com/ansoncg", "followers_url": "https://api.github.com/users/ansoncg/followers", "following_url": "https://api.github.com/users/ansoncg/following{/other_user}", "gists_url": "https://api.github.com/users/ansoncg/gists{/gist_id}", "starred_url": "https://api.github.com/users/ansoncg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ansoncg/subscriptions", "organizations_url": "https://api.github.com/users/ansoncg/orgs", "repos_url": "https://api.github.com/users/ansoncg/repos", "events_url": "https://api.github.com/users/ansoncg/events{/privacy}", "received_events_url": "https://api.github.com/users/ansoncg/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-08-09T06:02:38Z", "updated_at": "2022-08-12T02:01:19Z", "closed_at": "2022-08-12T00:54:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Small description**\r\n\r\nWhen scrolling there is a lag after releasing the key and the scrolling does not go as fast as it should. I just installed and this happens on the tutorial sheet [faa-wildlife-strikes.csv](https://jsvine.github.io/intro-to-visidata/_downloads/83e70cf67e909f3ac177575439e5f3c5/faa-wildlife-strikes.csv).\r\n\r\n**Expected result**\r\n\r\nWhen I release the key the scrolling stops. When I scroll the amount of movement is equal to the amount of keys sent. This is the behavior when I open the same file on Neovim.\r\n\r\n**Actual result with screenshot**\r\n\r\nNo error.\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n\r\nOpen the file and scroll with j and k. Only happens on a fast key rate.\r\n\r\nCommandlog:\r\n#!vd -p\r\n{\"longname\": \"open-file\", \"input\": \"faa-wildlife-strikes.csv\", \"keystrokes\": \"o\"}\r\n\r\n**Additional context**\r\nv2.9.1\r\nArch Linux, Xorg, Kitty terminal\r\nI use a different rate for key repetition then the default on Xorg. I always have `xset r rate 300 50` on.\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1459/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1459/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1458", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1458/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1458/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1458/events", "html_url": "https://github.com/saulpw/visidata/issues/1458", "id": 1331118682, "node_id": "I_kwDOBEu2Gc5PV0Ja", "number": 1458, "title": "[unzip-http] FreqTableSheet open-row created sheet doesn't load links", "user": {"login": "frosencrantz", "id": 631242, "node_id": "MDQ6VXNlcjYzMTI0Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/631242?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frosencrantz", "html_url": "https://github.com/frosencrantz", "followers_url": "https://api.github.com/users/frosencrantz/followers", "following_url": "https://api.github.com/users/frosencrantz/following{/other_user}", "gists_url": "https://api.github.com/users/frosencrantz/gists{/gist_id}", "starred_url": "https://api.github.com/users/frosencrantz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frosencrantz/subscriptions", "organizations_url": "https://api.github.com/users/frosencrantz/orgs", "repos_url": "https://api.github.com/users/frosencrantz/repos", "events_url": "https://api.github.com/users/frosencrantz/events{/privacy}", "received_events_url": "https://api.github.com/users/frosencrantz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-08-07T20:45:05Z", "updated_at": "2022-08-16T05:52:56Z", "closed_at": "2022-08-16T05:52:27Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nFreqTableSheet open-row created sheet doesn't load links\r\n\r\n**Expected result**\r\nLinks would be loaded.\r\n\r\n**Actual result with screenshot**\r\nhttps://asciinema.org/a/DyJoj2OPxS57yHaKlxeyvWgO7\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/home/felix/git/visidata/env/lib/python3.9/site-packages/visidata/basesheet.py\", line 169, in execCommand\r\n    escaped = super().execCommand2(cmd, vdglobals=vdglobals)\r\n  File \"/home/felix/git/visidata/env/lib/python3.9/site-packages/visidata/basesheet.py\", line 69, in execCommand2\r\n    exec(code, vdglobals, LazyChainMap(vd, self))\r\n  File \"open-row\", line 1, in <module>\r\n  File \"/home/felix/git/visidata/env/lib/python3.9/site-packages/visidata/loaders/archive.py\", line 49, in openRow\r\n    fp = self.openZipFile(self.zfp, fi)\r\n  File \"/home/felix/git/visidata/env/lib/python3.9/site-packages/visidata/loaders/archive.py\", line 64, in zfp\r\n    return zipfile.ZipFile(str(self.source), 'r')\r\n  File \"/usr/lib/python3.9/zipfile.py\", line 1239, in __init__\r\n    self.fp = io.open(file, filemode)\r\nFileNotFoundError: [Errno 2] No such file or directory: 'technology-diffusion-paper-final-datasets'\r\n```\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n\r\nNote this is an issue with 'Enter'/`open-row`.  It looks like links on a sheet created by 'gEnter'/`dive-row` works.\r\n```\r\nvd https://www.cgdev.org/technology-diffusion-paper-final-datasets\r\n```\r\nHit 'F' to get to the FreqTableSheet.  Hit Enter to open-row, now you are on a new ZipSheet.  Hit Enter, get the stack trace for FileNotFoundError.  The data doesn't load properly.\r\n\r\n  \r\n**Additional context**\r\nPlease include the version of VisiData. Latest version of develop. \r\n\r\nNot sure if this is already a known error.  The GitHub actions are only running test_commands, which is failing on `addcol-sh`.  The Cmdlog tests are not being run. ", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1458/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1458/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1454", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1454/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1454/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1454/events", "html_url": "https://github.com/saulpw/visidata/issues/1454", "id": 1328661218, "node_id": "I_kwDOBEu2Gc5PMcLi", "number": 1454, "title": "visidata crashes when Windows Terminal is resized", "user": {"login": "seajhawk", "id": 18316676, "node_id": "MDQ6VXNlcjE4MzE2Njc2", "avatar_url": "https://avatars.githubusercontent.com/u/18316676?v=4", "gravatar_id": "", "url": "https://api.github.com/users/seajhawk", "html_url": "https://github.com/seajhawk", "followers_url": "https://api.github.com/users/seajhawk/followers", "following_url": "https://api.github.com/users/seajhawk/following{/other_user}", "gists_url": "https://api.github.com/users/seajhawk/gists{/gist_id}", "starred_url": "https://api.github.com/users/seajhawk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/seajhawk/subscriptions", "organizations_url": "https://api.github.com/users/seajhawk/orgs", "repos_url": "https://api.github.com/users/seajhawk/repos", "events_url": "https://api.github.com/users/seajhawk/events{/privacy}", "received_events_url": "https://api.github.com/users/seajhawk/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 3885594880, "node_id": "LA_kwDOBEu2Gc7nmXkA", "url": "https://api.github.com/repos/saulpw/visidata/labels/windows", "name": "windows", "color": "E9156E", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 13, "created_at": "2022-08-04T13:42:44Z", "updated_at": "2022-11-11T05:03:52Z", "closed_at": "2022-11-11T05:03:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Small description**\r\nif visidata (running via pipx install in Windows Terminal via PowerShell) is open and I enlarge or reduce the window horizontally, it will crash with no error.\r\nWhen I reopen the file, the columns are out of alignment.\r\n\r\n**Expected result**\r\nVisidata doesn't crash and shows more or fewer columns based on horizontal enlarge or reduce\r\n\r\n**Actual result with screenshot**\r\nIf you get an unexpected error, please include the full stack trace that you get with `Ctrl-E`.\r\n\r\n***Before horizontal enlarge***\r\n![image](https://user-images.githubusercontent.com/18316676/182858562-a2277a5b-b542-4e5a-a7d3-54c11eb64d6b.png)\r\n\r\n***After horizontal enlarge***\r\nBack at the command prompt with no error shown\r\n\r\n***Re-open file after horizontal enlarge***\r\n![image](https://user-images.githubusercontent.com/18316676/182859500-5ccd6727-6c53-4a9d-a675-8e65ad790999.png)\r\n\r\n\r\n***Before horizontal reduce***\r\n![image](https://user-images.githubusercontent.com/18316676/182858562-a2277a5b-b542-4e5a-a7d3-54c11eb64d6b.png)\r\n\r\n***Reopen file after horizontal reduce***\r\n![image](https://user-images.githubusercontent.com/18316676/182859202-18d34d70-c394-40ec-9c5d-37b044c59884.png)\r\n\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\nPlease attach the commandlog (saved with `Ctrl-D`) to show the steps that led to the issue.\r\nSee [here](http://visidata.org/docs/save-restore/) for more details.\r\nI have tried multiple files. You should be able to repro with any file.\r\n 1. Open file.\r\n 2. With the mouse, grab the right edge of the window to enlarge or reduce it.\r\n\r\n**Additional context**\r\nPlease include the version of VisiData.\r\npackage visidata 2.9.1, installed using Python 3.10.4\r\n\r\nWindows 11\r\nMicrosoft.WindowsTerminal 1.14.1963.0\r\nPowerShell 7.2.5\r\n(Also repros with Command Prompt, but it opens in Windows Terminal host as well)\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1454/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1454/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1452", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1452/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1452/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1452/events", "html_url": "https://github.com/saulpw/visidata/issues/1452", "id": 1323573353, "node_id": "I_kwDOBEu2Gc5O5CBp", "number": 1452, "title": "[unzip-http] Extracting a file doesn't check for overwrite or fails.", "user": {"login": "frosencrantz", "id": 631242, "node_id": "MDQ6VXNlcjYzMTI0Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/631242?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frosencrantz", "html_url": "https://github.com/frosencrantz", "followers_url": "https://api.github.com/users/frosencrantz/followers", "following_url": "https://api.github.com/users/frosencrantz/following{/other_user}", "gists_url": "https://api.github.com/users/frosencrantz/gists{/gist_id}", "starred_url": "https://api.github.com/users/frosencrantz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frosencrantz/subscriptions", "organizations_url": "https://api.github.com/users/frosencrantz/orgs", "repos_url": "https://api.github.com/users/frosencrantz/repos", "events_url": "https://api.github.com/users/frosencrantz/events{/privacy}", "received_events_url": "https://api.github.com/users/frosencrantz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-07-31T20:52:57Z", "updated_at": "2022-09-18T20:56:00Z", "closed_at": "2022-09-18T07:08:24Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nExtracting a file doesn't check for overwrite or fails\r\n\r\n**Expected result** \r\nVisidata will prompt if it is ok to overwrite a file of the same name.\r\n\r\n**Actual result with screenshot**\r\nSorry no screenshot, but if my report is not clear I can generate one.\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n```\r\nvd https://files.digital.nhs.uk/publicationimport/pub18xxx/pub18273/nhs-staf-2015-healthcare-gp-csv.zip\r\n```\r\nWhen there is already a file with the name of a file to extract, Visidata doesn't report any issues when extracting the file again.\r\nUsing the `x` (`extract-file`) command will not check if the file already exists, and overwrites the existing file.\r\nUsing the `gx` (`extract-selected`) also has this issue.\r\nThe `zx` (`extract-file-to`) seem to stack trace if the file exists.\r\n\r\n\r\n**Additional context**\r\nPlease include the version of VisiData. Latest develop  (Which is working again for me!)\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1452/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1452/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1450", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1450/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1450/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1450/events", "html_url": "https://github.com/saulpw/visidata/issues/1450", "id": 1323348070, "node_id": "I_kwDOBEu2Gc5O4LBm", "number": 1450, "title": "[develop] Sheet names for files without suffix are not being constructed", "user": {"login": "anjakefala", "id": 7489659, "node_id": "MDQ6VXNlcjc0ODk2NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/7489659?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anjakefala", "html_url": "https://github.com/anjakefala", "followers_url": "https://api.github.com/users/anjakefala/followers", "following_url": "https://api.github.com/users/anjakefala/following{/other_user}", "gists_url": "https://api.github.com/users/anjakefala/gists{/gist_id}", "starred_url": "https://api.github.com/users/anjakefala/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anjakefala/subscriptions", "organizations_url": "https://api.github.com/users/anjakefala/orgs", "repos_url": "https://api.github.com/users/anjakefala/repos", "events_url": "https://api.github.com/users/anjakefala/events{/privacy}", "received_events_url": "https://api.github.com/users/anjakefala/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-07-31T03:03:28Z", "updated_at": "2022-07-31T03:39:15Z", "closed_at": "2022-07-31T03:36:32Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "`vd sample_data/countries`\r\n\r\nNotice the absence of a sheetname\r\n\r\n**Additional context**\r\nv2.9dev\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1450/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1450/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1445", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1445/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1445/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1445/events", "html_url": "https://github.com/saulpw/visidata/issues/1445", "id": 1318877049, "node_id": "I_kwDOBEu2Gc5OnHd5", "number": 1445, "title": "Inconsistency in column-cursor position when creating/undoing a new column", "user": {"login": "jsvine", "id": 534702, "node_id": "MDQ6VXNlcjUzNDcwMg==", "avatar_url": "https://avatars.githubusercontent.com/u/534702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsvine", "html_url": "https://github.com/jsvine", "followers_url": "https://api.github.com/users/jsvine/followers", "following_url": "https://api.github.com/users/jsvine/following{/other_user}", "gists_url": "https://api.github.com/users/jsvine/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsvine/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsvine/subscriptions", "organizations_url": "https://api.github.com/users/jsvine/orgs", "repos_url": "https://api.github.com/users/jsvine/repos", "events_url": "https://api.github.com/users/jsvine/events{/privacy}", "received_events_url": "https://api.github.com/users/jsvine/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-07-27T00:15:44Z", "updated_at": "2022-07-31T21:31:04Z", "closed_at": "2022-07-31T21:29:42Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\n\r\nVisiData provides various ways to create new and derived columns, including but not limited to: `addcol-expr`, `addcol-incr`, and `addcol-new`. But VisiData's column-cursor's behavior is inconsistent when creating/undoing these commands. Using the examples of the three aforementioned commands, executing them while on the first column of a freshly-loaded `vd sample_data/benchmark.csv`:\r\n\r\n- `addcol-expr` (`=`, with `len(Date)` as the input): Creates the new column directly to the right of the cursor column, and moves the cursor to that new column. This seems like the expected behavior.\r\n- `addcol-incr` (`i`): Same as above.\r\n- `addcol-new` (`za`): Creates a new column directly to the right of the cursor column ... but then moves the cursor *two* columns to the right, so that it's highlighting the column after the newly-created one. This seems unexpected / a bug, and seems caused by a combination of https://github.com/saulpw/visidata/commit/7bc2fb398458a305a3662e71a50f2150f2354530 (new to v2.9) and the call to `cursorRight(1)` in `addcol-new`'s definition [here](https://github.com/saulpw/visidata/blob/e2bbb7f60e069297f5da86f1cbe6faf3f606f72e/visidata/modify.py#L286).\r\n\r\nWhen *undoing* (`U`) those commands:\r\n\r\n- `addcol-expr`: Cursor moves back to the first column. This seems like the expected behavior.\r\n- `addcol-incr`: Cursor moves *forward*, to the next column to the right. This seems like unexpected behavior.\r\n- `addcol-new`: Cursor moves *even further forward* (given that it was already one column extra to the right) to the third column. This also seems like unexpected behavior.\r\n\r\nLooking at the differences in those commands' definitions, it seems that the unexpected behavior by the latter two commands may stem from them not setting a `col` value in the corresponding cmdlog, which comes into play in `cmdlog.moveToReplayContext(...)`:\r\n\r\nhttps://github.com/saulpw/visidata/blob/647ccf076cc1457b6ad5286580ead85794913571/visidata/cmdlog.py#L286-L292\r\n\r\n... which itself is called by `undo.undo(...)`:\r\n\r\nhttps://github.com/saulpw/visidata/blob/647ccf076cc1457b6ad5286580ead85794913571/visidata/undo.py#L35-L51\r\n\r\nThings seem to work fine for`addcol-expr` due to it setting `curcol=cursorCol` in its definition:\r\n\r\nhttps://github.com/saulpw/visidata/blob/647ccf076cc1457b6ad5286580ead85794913571/visidata/expr.py#L54\r\n\r\nTweaking `addcol-incr` so that the relevant part becomes `SettableColumn(type=int, curcol=cursorCol)` *seems* to do the trick, but I'm not familiar enough with the codebase to know whether that's the best approach\u00a0\u2014\u00a0or whether it's the most generalize-able for the purpose of achieving cross-command consistency.\r\n\r\n**Expected result**\r\n\r\nSee above.\r\n\r\n**Actual result with screenshot**\r\n\r\nSee above.\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n\r\nSee above.\r\n\r\n**Additional context**\r\n\r\nVisiData v2.9 and/or `develop` branch.\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1445/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1445/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1443", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1443/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1443/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1443/events", "html_url": "https://github.com/saulpw/visidata/issues/1443", "id": 1318316752, "node_id": "I_kwDOBEu2Gc5Ok-rQ", "number": 1443, "title": "v2.9: Switch from .vd to .vdj for cmdlogs appears to be incomplete", "user": {"login": "jsvine", "id": 534702, "node_id": "MDQ6VXNlcjUzNDcwMg==", "avatar_url": "https://avatars.githubusercontent.com/u/534702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsvine", "html_url": "https://github.com/jsvine", "followers_url": "https://api.github.com/users/jsvine/followers", "following_url": "https://api.github.com/users/jsvine/following{/other_user}", "gists_url": "https://api.github.com/users/jsvine/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsvine/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsvine/subscriptions", "organizations_url": "https://api.github.com/users/jsvine/orgs", "repos_url": "https://api.github.com/users/jsvine/repos", "events_url": "https://api.github.com/users/jsvine/events{/privacy}", "received_events_url": "https://api.github.com/users/jsvine/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-07-26T14:20:03Z", "updated_at": "2022-07-30T03:59:12Z", "closed_at": "2022-07-30T03:58:17Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\n\r\nAs of https://github.com/saulpw/visidata/commit/b6e71931139325b7a9d5af4bd05273277a04124a, `Control-d` now defaults to saving cmdlogs as `.vdj` files, instead of `.vd` files. But executing `Control-s` from a cmdlog still defaults to `.vd`, I believe due to this line:\r\n\r\nhttps://github.com/saulpw/visidata/blob/8a768b785ad833e908ba00b1ccdbd1259239a51a/visidata/cmdlog.py#L171\r\n\r\n**Expected result**\r\n\r\nThat saving a cmdlog via `Control-d` and executing `Control-s` from the cmdlog suggest the same default file extension (and perhaps also the same filename?).\r\n\r\n**Actual result with screenshot**\r\n\r\nUsing `Control-d`:\r\n\r\n<img width=\"310\" alt=\"Screen Shot 2022-07-26 at 10 15 50 AM\" src=\"https://user-images.githubusercontent.com/534702/181028339-eece8913-3a90-4c80-a000-6919030fdcab.png\">\r\n\r\nUsing `Control-s` from cmdlog:\r\n\r\n<img width=\"299\" alt=\"Screen Shot 2022-07-26 at 10 16 03 AM\" src=\"https://user-images.githubusercontent.com/534702/181028345-ead7dcc8-a64f-41d1-8a93-638ecf4ee96b.png\">\r\n\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n\r\n- `vd sample_data/benchmark.csv`\r\n- `Control-d` to see one default\r\n- `Shift-D` followed by `Control-s` to see the other\r\n\r\n**Additional context**\r\n\r\nVisiData v2.9.1\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1443/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1443/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1442", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1442/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1442/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1442/events", "html_url": "https://github.com/saulpw/visidata/issues/1442", "id": 1315764100, "node_id": "I_kwDOBEu2Gc5ObPeE", "number": 1442, "title": "v2.9: Parameter in recent commit often evaluates to `None*2`, seems to lead to strange behavior in column-width detection", "user": {"login": "jsvine", "id": 534702, "node_id": "MDQ6VXNlcjUzNDcwMg==", "avatar_url": "https://avatars.githubusercontent.com/u/534702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsvine", "html_url": "https://github.com/jsvine", "followers_url": "https://api.github.com/users/jsvine/followers", "following_url": "https://api.github.com/users/jsvine/following{/other_user}", "gists_url": "https://api.github.com/users/jsvine/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsvine/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsvine/subscriptions", "organizations_url": "https://api.github.com/users/jsvine/orgs", "repos_url": "https://api.github.com/users/jsvine/repos", "events_url": "https://api.github.com/users/jsvine/events{/privacy}", "received_events_url": "https://api.github.com/users/jsvine/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-07-23T23:14:34Z", "updated_at": "2022-07-26T19:02:24Z", "closed_at": "2022-07-25T03:57:21Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\n\r\nCommit https://github.com/saulpw/visidata/commit/0ba4f87d065f92d1cdc94b4b21c62ba285efe341 introduces a calculation that often evaluates to `None*2` \u2014\u00a0line 341 of `column.py`, which reads: \r\n\r\n```python\r\ndw.display = self.format(typedval, width=self.width*2) or ''\r\n```\r\n\r\nI don't know the codebase well enough to fully track the effects of this, but some observations:\r\n\r\nThe line is within a `try` block. Adding `vd.warning(stacktrace())` immediately within the `except` block reveals/confirms the exception: `TypeError: unsupported operand type(s) for *: 'NoneType' and 'int'`.  Otherwise, it seems to just sort of fail silently, with no obvious error messages/flags in the interface.\r\n\r\nI'm not sure I fully grok all the downstream implications, but one thing it seems to affect (and how I ultimately ended up noticing the bug):\u00a0the column widths on frequency sheets. Before the commit (i.e., at 0dde5777), a frequency sheet would look like this (using the frequency of `ext` on the directory sheet of the VisiData repo as an example):\r\n\r\n<img width=\"1088\"  src=\"https://user-images.githubusercontent.com/534702/180625644-2ec2d7f9-f8de-4324-b6dc-f6b42e9fe286.png\">\r\n\r\n\r\nBut then, with 0ba4f87d, it looks like this:\r\n\r\n<img width=\"1095\" src=\"https://user-images.githubusercontent.com/534702/180625574-2c12537e-63e6-4b90-8669-30ad8cd9b34a.png\">\r\n\r\nIf you go in and manually edit `width=self.width*2` to instead be `width=(width or 0)*2`, the columns go back to correctly auto-resizing. That makes me think that the issue really does stem from the error and not, instead, from the particular math or some other logic introduced in the commit.\r\n\r\n**Expected result**\r\n\r\n- That the width calculation does not generally raise exceptions.\r\n- That the frequency sheet columns auto-resize, as they did before the commit.\r\n\r\n**Actual result with screenshot**\r\n\r\nSee above.\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n\r\nI believe `Shift-F` on any sheet/column will reproduce this.\r\n\r\n**Additional context**\r\n\r\nSee above.\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1442/reactions", "total_count": 2, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 2, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1442/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1439", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1439/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1439/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1439/events", "html_url": "https://github.com/saulpw/visidata/issues/1439", "id": 1314913611, "node_id": "I_kwDOBEu2Gc5OX_1L", "number": 1439, "title": "[develop loading] Unable to load files from stdin and web", "user": {"login": "frosencrantz", "id": 631242, "node_id": "MDQ6VXNlcjYzMTI0Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/631242?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frosencrantz", "html_url": "https://github.com/frosencrantz", "followers_url": "https://api.github.com/users/frosencrantz/followers", "following_url": "https://api.github.com/users/frosencrantz/following{/other_user}", "gists_url": "https://api.github.com/users/frosencrantz/gists{/gist_id}", "starred_url": "https://api.github.com/users/frosencrantz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frosencrantz/subscriptions", "organizations_url": "https://api.github.com/users/frosencrantz/orgs", "repos_url": "https://api.github.com/users/frosencrantz/repos", "events_url": "https://api.github.com/users/frosencrantz/events{/privacy}", "received_events_url": "https://api.github.com/users/frosencrantz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2022-07-22T11:55:57Z", "updated_at": "2022-07-31T20:36:06Z", "closed_at": "2022-07-31T01:55:32Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nUnable to load files from stdin and web\r\n\r\n**Expected result**\r\n\r\nLoading files from web or stdin works.\r\n\r\n**Actual result with screenshot**\r\nIf you get an unexpected error, please include the full stack trace that you get with `Ctrl-E`.\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3.9/site-packages/visidata/threads.py\", line 206, in _toplevelTryFunc\r\n    t.status = func(*args, **kwargs)\r\n  File \"/usr/lib/python3.9/site-packages/visidata/sheets.py\", line 941, in reload\r\n    self.setCols(list(self.optlines(itsource, 'header')))\r\n  File \"/usr/lib/python3.9/site-packages/visidata/sheets.py\", line 927, in optlines\r\n    yield next(it)\r\n  File \"/usr/lib/python3.9/site-packages/visidata/loaders/csv.py\", line 39, in iterload\r\n    yield next(rdr)\r\n  File \"/usr/lib/python3.9/site-packages/visidata/path.py\", line 355, in __next__\r\n    r = next(self.rf.iter_lines)\r\n  File \"/usr/lib/python3.9/codecs.py\", line 1054, in iterdecode\r\n    output = decoder.decode(input)\r\n  File \"/usr/lib/python3.9/codecs.py\", line 321, in decode\r\n    data = self.buffer + input\r\nTypeError: can't concat str to bytes\r\n```\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n\r\nStack traces:\r\n\r\n```\r\nvd -f csv < sample_data/benchmark.csv\r\nvd  https://raw.githubusercontent.com/saulpw/visidata/develop/sample_data/benchmark.csv\r\nvd  https://raw.githubusercontent.com/saulpw/visidata/develop/sample_data/benchmark.jsonl\r\n```\r\n\r\nWorks:\r\n```\r\nvd -f csv  sample_data/benchmark.csv\r\n```\r\n\r\n**Additional context**\r\nPlease include the version of VisiData. Latest version of develop", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1439/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1439/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1436", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1436/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1436/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1436/events", "html_url": "https://github.com/saulpw/visidata/issues/1436", "id": 1313309702, "node_id": "I_kwDOBEu2Gc5OR4QG", "number": 1436, "title": "v2.9: VisiData crashes on launch due to missing urllib3", "user": {"login": "jsvine", "id": 534702, "node_id": "MDQ6VXNlcjUzNDcwMg==", "avatar_url": "https://avatars.githubusercontent.com/u/534702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsvine", "html_url": "https://github.com/jsvine", "followers_url": "https://api.github.com/users/jsvine/followers", "following_url": "https://api.github.com/users/jsvine/following{/other_user}", "gists_url": "https://api.github.com/users/jsvine/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsvine/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsvine/subscriptions", "organizations_url": "https://api.github.com/users/jsvine/orgs", "repos_url": "https://api.github.com/users/jsvine/repos", "events_url": "https://api.github.com/users/jsvine/events{/privacy}", "received_events_url": "https://api.github.com/users/jsvine/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-07-21T14:00:49Z", "updated_at": "2022-07-21T16:54:16Z", "closed_at": "2022-07-21T16:54:10Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\n\r\nCongrats on v2.9! Exciting to explore it! Unfortunately, one thing I noticed immediately: On a fresh install of VisiData (e.g., in a virtual environment), VisiData immediately crashes due to `ModuleNotFoundError: No module named 'urllib3'`. This seems to stem from `loaders/unzip_http.py`.\r\n\r\n**Expected result**\r\n\r\nVisiData launches successfully.\r\n\r\n**Actual result with screenshot**\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"[...]/bin/vd\", line 3, in <module>\r\n    import visidata.main\r\n  File \"[...]/visidata/__init__.py\", line 110, in <module>\r\n    import visidata.loaders.archive\r\n  File \"[...]/visidata/loaders/archive.py\", line 4, in <module>\r\n    from visidata.loaders import unzip_http\r\n  File \"[...]/visidata/loaders/unzip_http.py\", line 30, in <module>\r\n    import urllib3\r\nModuleNotFoundError: No module named 'urllib3'\r\n```\r\n\r\n(Running `pip install urllib3` resolves this.)\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n\r\n```\r\npython -m venv venv\r\nsource venv/bin/activate\r\npip install visidata==2.9\r\nvd .\r\n```\r\n\r\n**Additional context**\r\n\r\n- VisiData 2.9\r\n- Python 3.10\r\n- MacOS\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1436/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1436/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1435", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1435/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1435/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1435/events", "html_url": "https://github.com/saulpw/visidata/issues/1435", "id": 1312839135, "node_id": "I_kwDOBEu2Gc5OQFXf", "number": 1435, "title": "Wrong version on v2.9 tag", "user": {"login": "jpalus", "id": 484155, "node_id": "MDQ6VXNlcjQ4NDE1NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/484155?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jpalus", "html_url": "https://github.com/jpalus", "followers_url": "https://api.github.com/users/jpalus/followers", "following_url": "https://api.github.com/users/jpalus/following{/other_user}", "gists_url": "https://api.github.com/users/jpalus/gists{/gist_id}", "starred_url": "https://api.github.com/users/jpalus/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jpalus/subscriptions", "organizations_url": "https://api.github.com/users/jpalus/orgs", "repos_url": "https://api.github.com/users/jpalus/repos", "events_url": "https://api.github.com/users/jpalus/events{/privacy}", "received_events_url": "https://api.github.com/users/jpalus/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-07-21T07:57:50Z", "updated_at": "2022-07-21T16:56:51Z", "closed_at": "2022-07-21T16:56:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "`v2.9` tag has `2.10dev` version instead of `2.9`:\r\nhttps://github.com/saulpw/visidata/blob/v2.9/setup.py#L6\r\nhttps://github.com/saulpw/visidata/blob/18b57b03cc89268772d87e4781040dbf7bcec6cb/setup.py#L6\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1435/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1435/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1430", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1430/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1430/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1430/events", "html_url": "https://github.com/saulpw/visidata/issues/1430", "id": 1307216650, "node_id": "I_kwDOBEu2Gc5N6osK", "number": 1430, "title": " [unzip-http] Stack traces with extracting files & panda loading", "user": {"login": "frosencrantz", "id": 631242, "node_id": "MDQ6VXNlcjYzMTI0Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/631242?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frosencrantz", "html_url": "https://github.com/frosencrantz", "followers_url": "https://api.github.com/users/frosencrantz/followers", "following_url": "https://api.github.com/users/frosencrantz/following{/other_user}", "gists_url": "https://api.github.com/users/frosencrantz/gists{/gist_id}", "starred_url": "https://api.github.com/users/frosencrantz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frosencrantz/subscriptions", "organizations_url": "https://api.github.com/users/frosencrantz/orgs", "repos_url": "https://api.github.com/users/frosencrantz/repos", "events_url": "https://api.github.com/users/frosencrantz/events{/privacy}", "received_events_url": "https://api.github.com/users/frosencrantz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-07-17T21:44:42Z", "updated_at": "2022-07-31T20:41:11Z", "closed_at": "2022-07-31T03:54:22Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Related to: https://github.com/saulpw/visidata/discussions/1413\r\n\r\n**Small description**\r\nFound a couple stack traces with a unzip-http\r\n\r\n**Expected result**\r\n\r\n- File(s) are extracted and saved locally\r\n- dta file is loaded.\r\n\r\n\r\n**Actual result with screenshot**\r\nhttps://asciinema.org/a/MHBJevdgyKtv112xYqDvPJE6G\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n\r\n```\r\nvd https://www.cgdev.org/technology-diffusion-paper-final-datasets\r\n```\r\n\r\nTry any of the extract commands, such as `x`:\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3.9/site-packages/visidata/threads.py\", line 206, in _toplevelTryFunc\r\n    t.status = func(*args, **kwargs)\r\n  File \"/usr/lib/python3.9/site-packages/visidata/loaders/archive.py\", line 58, in extract\r\n    self.zfp.extractall(members=[r.filename], path=path)\r\nAttributeError: 'list' object has no attribute 'filename'\r\n```\r\n\r\n\r\nLoad one of the dta files (It possible this is specific to my environment):\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3.9/site-packages/visidata/basesheet.py\", line 169, in execCommand\r\n    escaped = super().execCommand2(cmd, vdglobals=vdglobals)\r\n  File \"/usr/lib/python3.9/site-packages/visidata/basesheet.py\", line 69, in execCommand2\r\n    exec(code, vdglobals, LazyChainMap(vd, self))\r\n  File \"open-row\", line 1, in <module>\r\n  File \"/usr/lib/python3.9/site-packages/visidata/sheets.py\", line 1061, in push\r\n    vs.ensureLoaded()\r\n  File \"/usr/lib/python3.9/site-packages/visidata/basesheet.py\", line 227, in ensureLoaded\r\n    return self.reload()   # likely launches new thread\r\n  File \"/usr/lib/python3.9/site-packages/visidata/loaders/_pandas.py\", line 124, in reload\r\n    df = readfunc(str(self.source), **options.getall('pandas_'+filetype+'_'))\r\n  File \"/usr/lib/python3.9/site-packages/pandas/io/stata.py\", line 2004, in read_stata\r\n    reader = StataReader(\r\n  File \"/usr/lib/python3.9/site-packages/pandas/io/stata.py\", line 1151, in __init__\r\n    with get_handle(\r\n  File \"/usr/lib/python3.9/site-packages/pandas/io/common.py\", line 798, in get_handle\r\n    handle = open(handle, ioargs.mode)\r\nFileNotFoundError: [Errno 2] No such file or directory: 'CHATTING_SPLICED.dta'\r\n```\r\n\r\n**Additional context**\r\nPlease include the version of VisiData. Latest version of develop.\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1430/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1430/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1426", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1426/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1426/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1426/events", "html_url": "https://github.com/saulpw/visidata/issues/1426", "id": 1305263745, "node_id": "I_kwDOBEu2Gc5NzL6B", "number": 1426, "title": "edit-cell commands that don't resolve, cause all subsequent session commands to be dropped", "user": {"login": "Dieterbe", "id": 20774, "node_id": "MDQ6VXNlcjIwNzc0", "avatar_url": "https://avatars.githubusercontent.com/u/20774?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Dieterbe", "html_url": "https://github.com/Dieterbe", "followers_url": "https://api.github.com/users/Dieterbe/followers", "following_url": "https://api.github.com/users/Dieterbe/following{/other_user}", "gists_url": "https://api.github.com/users/Dieterbe/gists{/gist_id}", "starred_url": "https://api.github.com/users/Dieterbe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Dieterbe/subscriptions", "organizations_url": "https://api.github.com/users/Dieterbe/orgs", "repos_url": "https://api.github.com/users/Dieterbe/repos", "events_url": "https://api.github.com/users/Dieterbe/events{/privacy}", "received_events_url": "https://api.github.com/users/Dieterbe/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-07-14T20:37:34Z", "updated_at": "2022-07-15T06:02:33Z", "closed_at": "2022-07-15T05:30:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello!\r\nI'm establishing a \"sanitization process\" for account transaction logs (.csv) from my bank,\r\nie. a session.vd file which opens the csv file, removes unneeded columns, sets some aggregations, column types, and makes some adjustments to the data. (using shift-f to open a frequency table and changing the names of some of the values returned)\r\n\r\nIn theory, such a session file could be used for any similar csv file by updating the \"open\" command and sheet name throughout the .vd file.\r\n\r\nHowever, I notice that as soon as a command \"doesn't resolve\" (a value to edit using using-cell is not found), all subsequent commands are dropped.\r\nThis is problematic because it drops any customizations (including column format setting, aggregators etc), that follow such a command, are not executed, nor are they persisted upon running 'ctrl-D'.\r\n\r\nFor example, let's say we have these 2 files:\r\n```\r\n/t/visidata \u276f\u276f\u276f cat data1.csv\r\nname,height,location\r\njeff,180,NY\r\ndieter,178,CY\r\nJOHN,178,DE\r\n/t/visidata \u276f\u276f\u276f cat data2.csv\r\nname,height,location\r\njeff,180,NY\r\ndieter,178,CY\r\n```\r\n\r\nTo show this data how i like it, i create a session file which changes JOHN to john, makes height numeric, sets a sum aggregator, and hides the location column from display.\r\nThe file looks like so:\r\n```\r\n/t/visidata \u276f\u276f\u276f cat data1.vd                                                                                                                                                                                    \u2718 1 \r\nsheet\tcol\trow\tlongname\tinput\tkeystrokes\tcomment\r\n\t\t\topen-file\tdata1.csv\to\t\r\ndata1\tname\t\tfreq-col\t\tShift+F\topen Frequency Table grouped on current column, with aggregations of other columns\r\ndata1_name_freq\tname\t\u30adJOHN\tedit-cell\tjohn\te\tedit contents of current cell\r\ndata1\t\t\tcolumns-sheet\t\tShift+C\topen Columns Sheet: edit column properties for current sheet\r\ndata1_columns\t\t\u30adlocation\tdelete-row\t\td\tdelete current row\r\ndata1\t\t\tcolumns-sheet\t\tShift+C\topen Columns Sheet: edit column properties for current sheet\r\ndata1_columns\taggregators\t\u30adheight\tedit-cell\tsum\te\tedit contents of current cell\r\ndata1\tname\t\tfreq-col\t\tShift+F\topen Frequency Table grouped on current column, with aggregations of other columns\r\ndata1\t\t\tcolumns-sheet\t\tShift+C\topen Columns Sheet: edit column properties for current sheet\r\ndata1\theight\t\ttype-int\t\t#\tset type of current column to int\r\ndata1\theight\t\tfreq-col\t\tShift+F\topen Frequency Table grouped on current column, with aggregations of other columns\r\ndata1\tname\t\tfreq-col\t\tShift+F\topen Frequency Table grouped on current column, with aggregations of other columns\r\n```\r\n\r\nrunning `vd -p data1.vd` works as expected. all desired changes are applied, and running `ctrl-D` creates a session file which is identical to the one we launched with.\r\n\r\nBut now, if we do this:\r\n\r\n```\r\n/t/visidata \u276f\u276f\u276f cp data1.vd data2.vd\r\n/t/visidata \u276f\u276f\u276f sed 's/data1/data2/g' -i data2.vd\r\n/t/visidata \u276f\u276f\u276f vd -p data2.vd\r\n```\r\n\r\nMany of the commands are not applied. In particular all desired changes to the columns are not applied. Why? Because the csv file doesn't happen to have the 'JOHN' name in it. running `ctrl-D` confirms that all commands after the 'JOHN' rename are taken out:\r\n\r\n```\r\n/t/visidata \u276f\u276f\u276f cat data2_name_freq.vd\r\nsheet\tcol\trow\tlongname\tinput\tkeystrokes\tcomment\r\n\t\t\topen-file\tdata2.csv\to\t\r\ndata2\tname\t\tfreq-col\t\tShift+F\topen Frequency Table grouped on current column, with aggregations of other columns\r\n```\r\n\r\nI'm probably using the session files for something they're not meant for. But it would be nice to be able to somehow declare how to set up a sheet, even if the file we're looking at may not have certain records that we've set up sanitation rules for.", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1426/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1426/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1418", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1418/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1418/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1418/events", "html_url": "https://github.com/saulpw/visidata/issues/1418", "id": 1288965271, "node_id": "I_kwDOBEu2Gc5M1AyX", "number": 1418, "title": "Documentation: figures are malformed in Chrome", "user": {"login": "reagle", "id": 596814, "node_id": "MDQ6VXNlcjU5NjgxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/596814?v=4", "gravatar_id": "", "url": "https://api.github.com/users/reagle", "html_url": "https://github.com/reagle", "followers_url": "https://api.github.com/users/reagle/followers", "following_url": "https://api.github.com/users/reagle/following{/other_user}", "gists_url": "https://api.github.com/users/reagle/gists{/gist_id}", "starred_url": "https://api.github.com/users/reagle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/reagle/subscriptions", "organizations_url": "https://api.github.com/users/reagle/orgs", "repos_url": "https://api.github.com/users/reagle/repos", "events_url": "https://api.github.com/users/reagle/events{/privacy}", "received_events_url": "https://api.github.com/users/reagle/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-06-29T16:19:41Z", "updated_at": "2022-06-29T18:12:10Z", "closed_at": "2022-06-29T18:12:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "Figures in the documentation don't look correct in google-chrome/103.0.5060.53 on macOS 12.4 21F79 arm64.\r\n\r\n<img width=\"878\" alt=\"Screen Shot 2022-06-29 at 12 17 29\" src=\"https://user-images.githubusercontent.com/596814/176486346-078a98cb-a5e0-4e24-aa56-998eac035988.png\">\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1418/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1418/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1414", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1414/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1414/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1414/events", "html_url": "https://github.com/saulpw/visidata/issues/1414", "id": 1285026374, "node_id": "I_kwDOBEu2Gc5Ml_JG", "number": 1414, "title": "rec.py addColumn bug", "user": {"login": "pyglot", "id": 8835587, "node_id": "MDQ6VXNlcjg4MzU1ODc=", "avatar_url": "https://avatars.githubusercontent.com/u/8835587?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pyglot", "html_url": "https://github.com/pyglot", "followers_url": "https://api.github.com/users/pyglot/followers", "following_url": "https://api.github.com/users/pyglot/following{/other_user}", "gists_url": "https://api.github.com/users/pyglot/gists{/gist_id}", "starred_url": "https://api.github.com/users/pyglot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pyglot/subscriptions", "organizations_url": "https://api.github.com/users/pyglot/orgs", "repos_url": "https://api.github.com/users/pyglot/repos", "events_url": "https://api.github.com/users/pyglot/events{/privacy}", "received_events_url": "https://api.github.com/users/pyglot/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-06-26T20:43:11Z", "updated_at": "2022-07-05T09:44:09Z", "closed_at": "2022-07-05T00:03:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Short description**\r\nWhen loading a .rec file vd fails with no data loaded. Adding `--batch --debug` provides a trace.\r\n\r\n```sh\r\nopening test.rec as rec\r\nThis message was left intentionally blank.\r\nTraceback (most recent call last):\r\n  File \"/home/user/repos/visidata/bin/vd\", line 6, in <module>\r\n    visidata.main.vd_cli()\r\n  File \"/home/user/.local/lib/python3.9/site-packages/visidata-2.9.dev0-py3.9.egg/visidata/main.py\", line 339, in vd_cli\r\n  File \"/home/user/.local/lib/python3.9/site-packages/visidata-2.9.dev0-py3.9.egg/visidata/main.py\", line 264, in main_vd\r\n  File \"/home/user/.local/lib/python3.9/site-packages/visidata-2.9.dev0-py3.9.egg/visidata/sheets.py\", line 1061, in push\r\n  File \"/home/user/.local/lib/python3.9/site-packages/visidata-2.9.dev0-py3.9.egg/visidata/basesheet.py\", line 225, in ensureLoaded\r\n  File \"/home/user/.local/lib/python3.9/site-packages/visidata-2.9.dev0-py3.9.egg/visidata/vdobj.py\", line 23, in _execAsync\r\n  File \"/home/user/.local/lib/python3.9/site-packages/visidata-2.9.dev0-py3.9.egg/visidata/main.py\", line 219, in <lambda>\r\n  File \"/home/user/.local/lib/python3.9/site-packages/visidata-2.9.dev0-py3.9.egg/visidata/sheets.py\", line 290, in reload\r\n  File \"/home/user/.local/lib/python3.9/site-packages/visidata-2.9.dev0-py3.9.egg/visidata/loaders/rec.py\", line 107, in iterload\r\n  File \"/home/user/.local/lib/python3.9/site-packages/visidata-2.9.dev0-py3.9.egg/visidata/loaders/rec.py\", line 37, in addColumn\r\nTypeError: 'ItemColumn' object is not iterable\r\n```\r\n\r\n**Possible fix**\r\nIn the following lines \r\nhttps://github.com/saulpw/visidata/blob/5c29abe99df22365adb13ab211c3aba84bdad7ad/visidata/loaders/rec.py#L34-L38\r\n\r\nChanging `cols` to `*cols` appears to fix the bug. \r\n\r\n```python3\r\nclass RecSheet(TableSheet): \r\n     def addColumn(self, *cols, index=None): \r\n         super().addColumn(*cols, index=index) \r\n         self.colnames.update({col.name: col for col in cols}) \r\n         return cols[0] \r\n```\r\n\r\n**test.rec**\r\n\r\nThe .rec file that was tested\r\n\r\n```\r\n%rec: test\r\n\r\nRegister: chip_id\r\nField:\r\nReg_width: 32\r\nAddress: 0x00\r\nBits:\r\nReset:\r\nDescription: Chip and version ID register\r\n\r\nRegister:\r\nField: product_id\r\nReg_width:\r\nAddress:\r\nBits: 16\r\nReset: 0x5201\r\nDescription: Product ID\r\n+ 0x5201\r\n\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1414/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1414/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1409", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1409/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1409/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1409/events", "html_url": "https://github.com/saulpw/visidata/issues/1409", "id": 1284567097, "node_id": "I_kwDOBEu2Gc5MkPA5", "number": 1409, "title": "[windows] display trouble since b4044ef ", "user": {"login": "pyglot", "id": 8835587, "node_id": "MDQ6VXNlcjg4MzU1ODc=", "avatar_url": "https://avatars.githubusercontent.com/u/8835587?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pyglot", "html_url": "https://github.com/pyglot", "followers_url": "https://api.github.com/users/pyglot/followers", "following_url": "https://api.github.com/users/pyglot/following{/other_user}", "gists_url": "https://api.github.com/users/pyglot/gists{/gist_id}", "starred_url": "https://api.github.com/users/pyglot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pyglot/subscriptions", "organizations_url": "https://api.github.com/users/pyglot/orgs", "repos_url": "https://api.github.com/users/pyglot/repos", "events_url": "https://api.github.com/users/pyglot/events{/privacy}", "received_events_url": "https://api.github.com/users/pyglot/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2022-06-25T12:05:03Z", "updated_at": "2022-07-05T14:34:47Z", "closed_at": "2022-07-05T14:34:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Small description**\r\nI tried vd v2.8 based on an apt package and tables displayed correctly. However it had troubles reading .vds and .rec files, so I tried installing from the github repo's. However now the output looks quite broken. Screenshot below:\r\n\r\n**Screenshot**\r\n![image](https://user-images.githubusercontent.com/8835587/175772210-43457254-f019-4730-86c1-1d7fc386c974.png)\r\n\r\n**System info**\r\n\r\nHost OS is Debian 11 bullseye on WSL. \r\n\r\nI get the same output problems with both Windows Terminal and xterm & uxterm. \r\n\r\nPython version is 3.9.2. \r\n\r\nOutput of pip3 freeze:\r\n```\r\nantlr4-python3-runtime==4.9.3\r\nbeautifulsoup4==4.9.3\r\nchardet==4.0.0\r\ncolorama==0.4.5\r\ncycler==0.11.0\r\net-xmlfile==1.1.0\r\nfonttools==4.33.3\r\nhtml5lib==1.1\r\nimg2pdf==0.4.0\r\nimportlib-metadata==4.11.4\r\nkiwisolver==1.4.3\r\nlxml==4.6.3\r\nMarkdown==3.3.7\r\nmatplotlib==3.5.2\r\nnumpy==1.22.4\r\nolefile==0.46\r\nopenpyxl==3.0.10\r\npackaging==21.3\r\npandas==1.4.2\r\npikepdf==1.17.3+dfsg\r\nPillow==9.1.1\r\nPyMuPDF==1.17.4\r\npyparsing==3.0.9\r\npython-dateutil==2.8.2\r\npytz==2022.1\r\nsix==1.16.0\r\nsoupsieve==2.2.1\r\nsystemrdl-compiler==1.23.0\r\nvisidata==2.9.dev0\r\nwebencodings==0.5.1\r\nzipp==3.8.0\r\n```\r\n\r\nI have tried installing from github with \r\n`pip3 install git+https://github.com/saulpw/visidata.git@develop`\r\nand from checked out versions of the repo via\r\n`python3 setup.py install --prefix /home/$user/.local`\r\n\r\nThe problem persists when I check out old versions (e.g. 2.8), so it seems to be something about my system. Does anyone have a clue as to what might be wrong?", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1409/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1409/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1406", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1406/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1406/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1406/events", "html_url": "https://github.com/saulpw/visidata/issues/1406", "id": 1281309976, "node_id": "I_kwDOBEu2Gc5MXz0Y", "number": 1406, "title": "Having trouble running vd on Windows", "user": {"login": "aagha", "id": 5522103, "node_id": "MDQ6VXNlcjU1MjIxMDM=", "avatar_url": "https://avatars.githubusercontent.com/u/5522103?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aagha", "html_url": "https://github.com/aagha", "followers_url": "https://api.github.com/users/aagha/followers", "following_url": "https://api.github.com/users/aagha/following{/other_user}", "gists_url": "https://api.github.com/users/aagha/gists{/gist_id}", "starred_url": "https://api.github.com/users/aagha/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aagha/subscriptions", "organizations_url": "https://api.github.com/users/aagha/orgs", "repos_url": "https://api.github.com/users/aagha/repos", "events_url": "https://api.github.com/users/aagha/events{/privacy}", "received_events_url": "https://api.github.com/users/aagha/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-06-22T23:54:48Z", "updated_at": "2022-06-28T04:03:53Z", "closed_at": "2022-06-28T00:17:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Small description**\r\nEvery VD command I run outputs a python error (in notepad)\r\n\r\n**Expected result**\r\nPrint out result, e.g, version number\r\n\r\n**Actual result with screenshot**\r\nI successfully install visidata w/ pip3 on Anaconda (Win 10 Pro) and then try to get the version by executing `vd --version`. Immediately I'm asked to select a file to open the output with:\r\n\r\n![image](https://user-images.githubusercontent.com/5522103/175179345-b45d02fb-8c3e-4e1c-81e7-3a319d187c62.png)\r\n\r\nWhen I select Notepad, I see:\r\n\r\n![image](https://user-images.githubusercontent.com/5522103/175179375-d673b825-ca44-43e1-8c28-556c82245116.png)\r\n\r\nNote -- I also tried to use conda to do the install, with the same result:\r\n\r\n![image](https://user-images.githubusercontent.com/5522103/175179809-6e4c686b-8d34-4e5e-9fb1-2c363f28d139.png)\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\nPlease attach the commandlog (saved with `Ctrl-D`) to show the steps that led to the issue.\r\nSee [here](http://visidata.org/docs/save-restore/) for more details.\r\n\r\n**Additional context**\r\nPlease include the version of VisiData.\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1406/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1406/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1401", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1401/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1401/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1401/events", "html_url": "https://github.com/saulpw/visidata/issues/1401", "id": 1273932632, "node_id": "I_kwDOBEu2Gc5L7qtY", "number": 1401, "title": "Trouble with mouse on macbook", "user": {"login": "holderbp", "id": 11298896, "node_id": "MDQ6VXNlcjExMjk4ODk2", "avatar_url": "https://avatars.githubusercontent.com/u/11298896?v=4", "gravatar_id": "", "url": "https://api.github.com/users/holderbp", "html_url": "https://github.com/holderbp", "followers_url": "https://api.github.com/users/holderbp/followers", "following_url": "https://api.github.com/users/holderbp/following{/other_user}", "gists_url": "https://api.github.com/users/holderbp/gists{/gist_id}", "starred_url": "https://api.github.com/users/holderbp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/holderbp/subscriptions", "organizations_url": "https://api.github.com/users/holderbp/orgs", "repos_url": "https://api.github.com/users/holderbp/repos", "events_url": "https://api.github.com/users/holderbp/events{/privacy}", "received_events_url": "https://api.github.com/users/holderbp/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2022-06-16T18:23:55Z", "updated_at": "2023-01-08T06:30:53Z", "closed_at": "2023-01-08T06:30:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "Is there an option to disable the mouse interaction? I cannot find such a thing in the options. \r\n\r\nIt seems that the mouse is not working for me.  I'm using:\r\n\r\nsaul.pw/VisiData v2.8  (installed with homebrew)\r\nMacOS 12.4\r\niterm2 terminal\r\n\r\nWhenever I click with the mouse in a running vd window, I get something like this in the bottom row:\r\n\r\ncapture regex: 11M\r\n\r\nThis occurs if I just try to return to the terminal, after working in a different window/terminal, and click anywhere except the title bar of the window.  Sometimes a click will make it highlight a random column (still with the \"capture regex\" message).  Using the mouse scroll wheel does not cause scrolling, but brings up a similar kind of response, e.g.:\r\n\r\ncapture regex: 12M64;12M64;12M\r\n\r\nThis happens both with an external bluetooth mouse and with the macbook touchpad.\r\n\r\nI guess a second questions is: how do I fix the mouse interaction.  But I would be happy to just use vd without the mouse, just with keystrokes (and in that case it would be useful to have all mouse interaction disabled).", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1401/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1401/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1395", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1395/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1395/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1395/events", "html_url": "https://github.com/saulpw/visidata/issues/1395", "id": 1267583735, "node_id": "I_kwDOBEu2Gc5Ljcr3", "number": 1395, "title": "[freeze-sheet] freeze-sheet  has all null values for some sheet types", "user": {"login": "frosencrantz", "id": 631242, "node_id": "MDQ6VXNlcjYzMTI0Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/631242?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frosencrantz", "html_url": "https://github.com/frosencrantz", "followers_url": "https://api.github.com/users/frosencrantz/followers", "following_url": "https://api.github.com/users/frosencrantz/following{/other_user}", "gists_url": "https://api.github.com/users/frosencrantz/gists{/gist_id}", "starred_url": "https://api.github.com/users/frosencrantz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frosencrantz/subscriptions", "organizations_url": "https://api.github.com/users/frosencrantz/orgs", "repos_url": "https://api.github.com/users/frosencrantz/repos", "events_url": "https://api.github.com/users/frosencrantz/events{/privacy}", "received_events_url": "https://api.github.com/users/frosencrantz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "anjakefala", "id": 7489659, "node_id": "MDQ6VXNlcjc0ODk2NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/7489659?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anjakefala", "html_url": "https://github.com/anjakefala", "followers_url": "https://api.github.com/users/anjakefala/followers", "following_url": "https://api.github.com/users/anjakefala/following{/other_user}", "gists_url": "https://api.github.com/users/anjakefala/gists{/gist_id}", "starred_url": "https://api.github.com/users/anjakefala/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anjakefala/subscriptions", "organizations_url": "https://api.github.com/users/anjakefala/orgs", "repos_url": "https://api.github.com/users/anjakefala/repos", "events_url": "https://api.github.com/users/anjakefala/events{/privacy}", "received_events_url": "https://api.github.com/users/anjakefala/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "anjakefala", "id": 7489659, "node_id": "MDQ6VXNlcjc0ODk2NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/7489659?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anjakefala", "html_url": "https://github.com/anjakefala", "followers_url": "https://api.github.com/users/anjakefala/followers", "following_url": "https://api.github.com/users/anjakefala/following{/other_user}", "gists_url": "https://api.github.com/users/anjakefala/gists{/gist_id}", "starred_url": "https://api.github.com/users/anjakefala/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anjakefala/subscriptions", "organizations_url": "https://api.github.com/users/anjakefala/orgs", "repos_url": "https://api.github.com/users/anjakefala/repos", "events_url": "https://api.github.com/users/anjakefala/events{/privacy}", "received_events_url": "https://api.github.com/users/anjakefala/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2022-06-10T13:49:24Z", "updated_at": "2022-06-18T15:02:41Z", "closed_at": "2022-06-12T06:18:18Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nfreeze-sheet doesn't work for some data like jsonl/lsv files.  Also for other internal sheets like ColumnSheet.\r\n\r\n**Expected result**\r\nfreeze-sheet would copy the data from the original sheet\r\n\r\n**Actual result with screenshot**\r\nhttps://asciinema.org/a/En93ThqVzQdXCzil2ym7QICEk\r\n\r\nFreeze sheet on the lsv and jsonl files creates a duplicate sheet, but all the data is nulled out.\r\n\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\nTry the 'freeze-sheet' `g'` command\r\n\r\n**Additional context**\r\nPlease include the version of VisiData.  Latest version of develop\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1395/reactions", "total_count": 2, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 1, "rocket": 0, "eyes": 1}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1395/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1390", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1390/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1390/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1390/events", "html_url": "https://github.com/saulpw/visidata/issues/1390", "id": 1258845162, "node_id": "I_kwDOBEu2Gc5LCHPq", "number": 1390, "title": "French characters in dataset not being read", "user": {"login": "anjakefala", "id": 7489659, "node_id": "MDQ6VXNlcjc0ODk2NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/7489659?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anjakefala", "html_url": "https://github.com/anjakefala", "followers_url": "https://api.github.com/users/anjakefala/followers", "following_url": "https://api.github.com/users/anjakefala/following{/other_user}", "gists_url": "https://api.github.com/users/anjakefala/gists{/gist_id}", "starred_url": "https://api.github.com/users/anjakefala/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anjakefala/subscriptions", "organizations_url": "https://api.github.com/users/anjakefala/orgs", "repos_url": "https://api.github.com/users/anjakefala/repos", "events_url": "https://api.github.com/users/anjakefala/events{/privacy}", "received_events_url": "https://api.github.com/users/anjakefala/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2237539092, "node_id": "MDU6TGFiZWwyMjM3NTM5MDky", "url": "https://api.github.com/repos/saulpw/visidata/labels/By%20Design", "name": "By Design", "color": "f9898f", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-06-02T22:14:59Z", "updated_at": "2022-06-02T23:16:19Z", "closed_at": "2022-06-02T23:16:06Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "I opened this dataset in VisiData: https://raw.githubusercontent.com/jvns/pandas-cookbook/master/data/bikes.csv\r\n\r\nNone of the French characters in the column header were being displayed. If I did `rename-col` and then `Ctrl+O`, I got an error: `UnicodeEncodeError: 'utf-8' codec can't encode character '\\udce9' in position 2: surrogates not allowed`.\r\n\r\nIf I tried to save the sheet as an `.sqlite`, I got a\r\n\r\n```\r\nsql = CREATE TABLE IF NOT EXISTS \"bikes\" (\"Date;Berri 1;Br\\udce9beuf (donn\\udce9es non disponibles);C\\udcf4te-Sainte-Catherine;Maisonneuve 1;Maisonneuve 2;du Parc;Pierre-Dupuy;Rachel1;St-Urbain (donn\\udce9es non disponibles)\" TEXT)\r\nc.execute(sql)\r\nsqlite3.Warning: SQL is of wrong type ('str'). Must be string.\r\n```\r\n\r\n**Additional context**\r\nv2.9dev\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1390/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1390/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1383", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1383/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1383/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1383/events", "html_url": "https://github.com/saulpw/visidata/issues/1383", "id": 1244087888, "node_id": "I_kwDOBEu2Gc5KJ0ZQ", "number": 1383, "title": "[usv] Unicode Separators swapped", "user": {"login": "frosencrantz", "id": 631242, "node_id": "MDQ6VXNlcjYzMTI0Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/631242?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frosencrantz", "html_url": "https://github.com/frosencrantz", "followers_url": "https://api.github.com/users/frosencrantz/followers", "following_url": "https://api.github.com/users/frosencrantz/following{/other_user}", "gists_url": "https://api.github.com/users/frosencrantz/gists{/gist_id}", "starred_url": "https://api.github.com/users/frosencrantz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frosencrantz/subscriptions", "organizations_url": "https://api.github.com/users/frosencrantz/orgs", "repos_url": "https://api.github.com/users/frosencrantz/repos", "events_url": "https://api.github.com/users/frosencrantz/events{/privacy}", "received_events_url": "https://api.github.com/users/frosencrantz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2022-05-21T21:44:00Z", "updated_at": "2022-06-06T20:25:35Z", "closed_at": "2022-05-29T17:16:19Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nUSV loader has the RecordSeparator and UnitSeparator flipped\r\n\r\n**Expected result**\r\nRecord and Unit separator swapped.  The UnitSeparator is like the tab or the comma.\r\n\r\n**Actual result with screenshot**\r\n**Steps to reproduce with sample data and a .vd**\r\nOpen a usv file, example from the miller request, it should be three rows of three characters:\r\n\r\n```shell\r\necho -n \"a\u241fb\u241fc\u241ed\u241fe\u241ff\u241eg\u241fh\u241fi\" | vd -f usv\r\n```\r\nWhen saved as csv we don't see those three rows of three characters we see:\r\n\r\n```csv\r\na,\r\nb,\r\nc,d\r\ne,\r\nf,g\r\nh,\r\n\"i\r\n\",\r\n```\r\n\r\nThere is a similar request for miller: https://github.com/johnkerl/miller/issues/245\r\n\r\n**Additional context**\r\nPlease include the version of VisiData. Latest develop.\r\n\r\nReported on Hacker News: https://news.ycombinator.com/item?id=31375435  (just writing it up).\r\n\r\nFrom this comment: https://github.com/johnkerl/miller/issues/245#issuecomment-494503438\r\nUnicode Character 'SYMBOL FOR RECORD SEPARATOR' (U+241E)\r\nUnicode Character 'SYMBOL FOR UNIT SEPARATOR' (U+241F)\r\n\r\nFrom the current develop we see that the values are swapped.  RecordSeparator (value ending in E) should be used for the row delimiter.  And UnitSeparator (Value ending in F) should be the delimiter: \r\nhttps://github.com/saulpw/visidata/blob/82c9753509385706c0df851683ad23a341d14c46/visidata/loaders/usv.py#L8-L9\r\nhttps://github.com/saulpw/visidata/blob/82c9753509385706c0df851683ad23a341d14c46/visidata/loaders/usv.py#L16-L17\r\n\r\nAs part of trying to reproduce this, I realized that loading the value as a USV, you can\u2019t then save the value as a TSV file, since it will use the USV set delimiter and row_delimiter.  That is unexpected, and a bug.  Perhaps we need usv_delimiter/usv_row_delimiter options.  Does this format even need an override if we have CSV and TSV?\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1383/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 1, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1383/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1381", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1381/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1381/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1381/events", "html_url": "https://github.com/saulpw/visidata/issues/1381", "id": 1241275240, "node_id": "I_kwDOBEu2Gc5J_Fto", "number": 1381, "title": "[v2.9dev] excessive \"sheet modified, really quit\" for multiple open sheets when quit-all is used", "user": {"login": "geekscrapy", "id": 11225502, "node_id": "MDQ6VXNlcjExMjI1NTAy", "avatar_url": "https://avatars.githubusercontent.com/u/11225502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geekscrapy", "html_url": "https://github.com/geekscrapy", "followers_url": "https://api.github.com/users/geekscrapy/followers", "following_url": "https://api.github.com/users/geekscrapy/following{/other_user}", "gists_url": "https://api.github.com/users/geekscrapy/gists{/gist_id}", "starred_url": "https://api.github.com/users/geekscrapy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geekscrapy/subscriptions", "organizations_url": "https://api.github.com/users/geekscrapy/orgs", "repos_url": "https://api.github.com/users/geekscrapy/repos", "events_url": "https://api.github.com/users/geekscrapy/events{/privacy}", "received_events_url": "https://api.github.com/users/geekscrapy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-05-19T06:16:47Z", "updated_at": "2022-05-29T03:49:52Z", "closed_at": "2022-05-29T03:48:09Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Not a bug, not really a feature...\r\n\r\n\"Issue\":\r\n1. `quitguard` is enabled\r\n2. Open a directory of csvs with `vd .`\r\n3. Select the csv files you want to open with `t`\r\n4. Open all these files with `g+ENTER`\r\n5. Decide you dont actually want any of these sheets open and want to close `vd`, so you use `quit-all`\r\n6. A dialog pops up for the first sheet asking to confirm closure\r\n7. Same for the second sheet\r\n8. Same for the third, etc. etc. \ud83d\ude2c\r\n\r\nA couple of points for this:\r\n1. Would it be worth gathering a count of all modified sheets in the stack and asking if you want to close them? Do we choose to close all unmodified and then ask to close the other sheets? I would say, no. Sometimes I realise I was working on something (haven't saved it) and actually need all the other sheets to continue...\r\n2. No modifications have actually been made to the sheets during opening, so the dialog is sort of incorrect. (#1037 ?). This may have been fixed by now anyways for CSV...\r\n\r\nAdditionally, `Ctrl+z` does not work when the confirmation dialog is open. Just something I noticed...\r\n\r\nI'm on commit 82c9753509385706c0df851683ad23a341d14c46", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1381/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1381/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1379", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1379/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1379/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1379/events", "html_url": "https://github.com/saulpw/visidata/issues/1379", "id": 1236740387, "node_id": "I_kwDOBEu2Gc5Jtykj", "number": 1379, "title": "[visidata-2.9.dev0] Interface freeze (hard lock) when replay is cancelled after quit dialog is confirmed", "user": {"login": "geekscrapy", "id": 11225502, "node_id": "MDQ6VXNlcjExMjI1NTAy", "avatar_url": "https://avatars.githubusercontent.com/u/11225502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geekscrapy", "html_url": "https://github.com/geekscrapy", "followers_url": "https://api.github.com/users/geekscrapy/followers", "following_url": "https://api.github.com/users/geekscrapy/following{/other_user}", "gists_url": "https://api.github.com/users/geekscrapy/gists{/gist_id}", "starred_url": "https://api.github.com/users/geekscrapy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geekscrapy/subscriptions", "organizations_url": "https://api.github.com/users/geekscrapy/orgs", "repos_url": "https://api.github.com/users/geekscrapy/repos", "events_url": "https://api.github.com/users/geekscrapy/events{/privacy}", "received_events_url": "https://api.github.com/users/geekscrapy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2101517149, "node_id": "MDU6TGFiZWwyMTAxNTE3MTQ5", "url": "https://api.github.com/repos/saulpw/visidata/labels/can't%20reproduce", "name": "can't reproduce", "color": "f2712b", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2022-05-16T07:28:46Z", "updated_at": "2023-03-05T04:45:12Z", "closed_at": "2023-03-05T04:44:58Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nWhen a replay is cancelled, and the user attempts to exit with the confirm option \"on\", the interface freezes\r\n\r\n**Expected result**\r\nTo quit like normal\r\n\r\n**Actual result with screenshot**\r\n(imagine a screenshot of the \"confirm dialog\") :)\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n1. Create a replay file as vdj\r\n2. Replay it in interactive mode\r\n3. Cancel it with Ctrl+c\r\n4. Quit with `quit-sheet`\r\n5. Confirm dialog pops up\r\n6. Press Y to quit\r\n7. Interface freezes\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1379/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1379/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1373", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1373/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1373/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1373/events", "html_url": "https://github.com/saulpw/visidata/issues/1373", "id": 1228987052, "node_id": "I_kwDOBEu2Gc5JQNqs", "number": 1373, "title": "[aggregates/duplicate sheet] When duplicating a sheet, aggregates are not copied.", "user": {"login": "frosencrantz", "id": 631242, "node_id": "MDQ6VXNlcjYzMTI0Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/631242?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frosencrantz", "html_url": "https://github.com/frosencrantz", "followers_url": "https://api.github.com/users/frosencrantz/followers", "following_url": "https://api.github.com/users/frosencrantz/following{/other_user}", "gists_url": "https://api.github.com/users/frosencrantz/gists{/gist_id}", "starred_url": "https://api.github.com/users/frosencrantz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frosencrantz/subscriptions", "organizations_url": "https://api.github.com/users/frosencrantz/orgs", "repos_url": "https://api.github.com/users/frosencrantz/repos", "events_url": "https://api.github.com/users/frosencrantz/events{/privacy}", "received_events_url": "https://api.github.com/users/frosencrantz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "anjakefala", "id": 7489659, "node_id": "MDQ6VXNlcjc0ODk2NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/7489659?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anjakefala", "html_url": "https://github.com/anjakefala", "followers_url": "https://api.github.com/users/anjakefala/followers", "following_url": "https://api.github.com/users/anjakefala/following{/other_user}", "gists_url": "https://api.github.com/users/anjakefala/gists{/gist_id}", "starred_url": "https://api.github.com/users/anjakefala/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anjakefala/subscriptions", "organizations_url": "https://api.github.com/users/anjakefala/orgs", "repos_url": "https://api.github.com/users/anjakefala/repos", "events_url": "https://api.github.com/users/anjakefala/events{/privacy}", "received_events_url": "https://api.github.com/users/anjakefala/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "anjakefala", "id": 7489659, "node_id": "MDQ6VXNlcjc0ODk2NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/7489659?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anjakefala", "html_url": "https://github.com/anjakefala", "followers_url": "https://api.github.com/users/anjakefala/followers", "following_url": "https://api.github.com/users/anjakefala/following{/other_user}", "gists_url": "https://api.github.com/users/anjakefala/gists{/gist_id}", "starred_url": "https://api.github.com/users/anjakefala/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anjakefala/subscriptions", "organizations_url": "https://api.github.com/users/anjakefala/orgs", "repos_url": "https://api.github.com/users/anjakefala/repos", "events_url": "https://api.github.com/users/anjakefala/events{/privacy}", "received_events_url": "https://api.github.com/users/anjakefala/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 8, "created_at": "2022-05-08T21:06:40Z", "updated_at": "2022-06-07T01:32:54Z", "closed_at": "2022-06-07T01:32:37Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nWhen duplicating a sheet, aggregates are not copied.\r\n\r\n**Expected result**\r\nAggregates remain sticky to the duplicated/copied sheet.\r\n\r\n**Actual result with screenshot**\r\nhttps://asciinema.org/a/FZzMlQ32DfNX48frDa5ah6u7M\r\n\r\nHere, I add aggregates to multiple columns.  Use selection and the `\"` operator to duplicate a subset.\r\nThe new sheet doesn't have the aggregates.\r\n\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\nPlease attach the commandlog (saved with `Ctrl-D`) to show the steps that led to the issue.\r\nSee [here](http://visidata.org/docs/save-restore/) for more details.\r\n\r\n```json\r\n#!vd -p\r\n{\"longname\": \"open-file\", \"input\": \"benchmark.csv\", \"keystrokes\": \"o\"}\r\n{\"sheet\": \"benchmark\", \"col\": \"Date\", \"row\": \"\", \"longname\": \"aggregate-col\", \"input\": \"max\", \"keystrokes\": \"+\", \"comment\": \"Add aggregator to current column\"}\r\n{\"sheet\": \"benchmark\", \"col\": \"Unit\", \"row\": \"\", \"longname\": \"type-currency\", \"input\": \"\", \"keystrokes\": \"$\", \"comment\": \"set type of current column to currency\"}\r\n{\"sheet\": \"benchmark\", \"col\": \"Paid\", \"row\": \"\", \"longname\": \"type-currency\", \"input\": \"\", \"keystrokes\": \"$\", \"comment\": \"set type of current column to currency\"}\r\n{\"sheet\": \"benchmark\", \"col\": \"Paid\", \"row\": \"\", \"longname\": \"aggregate-col\", \"input\": \"max\", \"keystrokes\": \"+\", \"comment\": \"Add aggregator to current column\"}\r\n{\"sheet\": \"benchmark\", \"col\": \"Unit\", \"row\": \"\", \"longname\": \"aggregate-col\", \"input\": \"max\", \"keystrokes\": \"+\", \"comment\": \"Add aggregator to current column\"}\r\n{\"sheet\": \"benchmark\", \"col\": \"Customer\", \"row\": \"\", \"longname\": \"freq-col\", \"input\": \"\", \"keystrokes\": \"Shift+F\", \"comment\": \"open Frequency Table grouped on current column, with aggregations of other columns\"}\r\n{\"sheet\": \"benchmark\", \"col\": \"Customer\", \"row\": \"0\", \"longname\": \"select-equal-cell\", \"input\": \"\", \"keystrokes\": \",\", \"comment\": \"select rows matching current cell in current column\"}\r\n{\"sheet\": \"benchmark\", \"col\": \"\", \"row\": \"\", \"longname\": \"dup-selected\", \"input\": \"\", \"keystrokes\": \"\\\"\", \"comment\": \"open duplicate sheet with only selected rows\"}\r\n{\"sheet\": \"benchmark_selectedref\", \"col\": \"Customer\", \"row\": \"\", \"longname\": \"freq-col\", \"input\": \"\", \"keystrokes\": \"Shift+F\", \"comment\": \"open Frequency Table grouped on current column, with aggregations of other columns\"}\r\n{\"sheet\": \"benchmark_selectedref\", \"col\": \"\", \"row\": \"\", \"longname\": \"columns-sheet\", \"input\": \"\", \"keystrokes\": \"Shift+C\", \"comment\": \"open Columns Sheet: edit column properties for current sheet\"}\r\n```\r\n\r\n**Additional context**\r\nPlease include the version of VisiData. Latest develop version\r\n\r\nThis has been around for a while.  I have been using aggregates and it became more noticable.", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1373/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 1}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1373/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1371", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1371/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1371/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1371/events", "html_url": "https://github.com/saulpw/visidata/issues/1371", "id": 1228639296, "node_id": "I_kwDOBEu2Gc5JO4xA", "number": 1371, "title": "Title: [input] Up arrow stack traces and exits input", "user": {"login": "frosencrantz", "id": 631242, "node_id": "MDQ6VXNlcjYzMTI0Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/631242?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frosencrantz", "html_url": "https://github.com/frosencrantz", "followers_url": "https://api.github.com/users/frosencrantz/followers", "following_url": "https://api.github.com/users/frosencrantz/following{/other_user}", "gists_url": "https://api.github.com/users/frosencrantz/gists{/gist_id}", "starred_url": "https://api.github.com/users/frosencrantz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frosencrantz/subscriptions", "organizations_url": "https://api.github.com/users/frosencrantz/orgs", "repos_url": "https://api.github.com/users/frosencrantz/repos", "events_url": "https://api.github.com/users/frosencrantz/events{/privacy}", "received_events_url": "https://api.github.com/users/frosencrantz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2022-05-07T14:13:32Z", "updated_at": "2022-05-14T17:49:37Z", "closed_at": "2022-05-09T06:17:51Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nUp arrow causes stack trace, and exits input\r\n\r\n\r\n**Expected result**\r\nNo stack trace, and doesn't exit.\r\n\r\n**Actual result with screenshot**\r\nhttps://asciinema.org/a/DW4cydUhUFBBAFRC3QufhBxQb\r\n\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/home/felix/git/visidata/env/lib/python3.9/site-packages/visidata/basesheet.py\", line 167, in execCommand\r\n    escaped = super().execCommand2(cmd, vdglobals=vdglobals)\r\n  File \"/home/felix/git/visidata/env/lib/python3.9/site-packages/visidata/basesheet.py\", line 69, in execCommand2\r\n    exec(code, vdglobals, LazyChainMap(vd, self))\r\n  File \"aggregate-col\", line 1, in <module>\r\n  File \"/home/felix/git/visidata/env/lib/python3.9/site-packages/visidata/choose.py\", line 63, in chooseMany\r\n    chosenstr = vd.input(prompt+': ', completer=CompleteKey(choice_keys), bindings={'^X': throw_fancy})\r\n  File \"/home/felix/git/visidata/env/lib/python3.9/site-packages/visidata/_input.py\", line 325, in input\r\n    ret = self.editText(sheet.windowHeight-1, promptlen, sheet.windowWidth-promptlen-rstatuslen-2,\r\n  File \"/home/felix/git/visidata/env/lib/python3.9/site-packages/visidata/_input.py\", line 264, in editText\r\n    v = vd.editline(vd.activeSheet._scr, y, x, w, display=display, **kwargs)\r\n  File \"/home/felix/git/visidata/env/lib/python3.9/site-packages/visidata/_input.py\", line 233, in editline\r\n    elif history and ch == 'KEY_UP':           v, i = history_state.up(v, i)\r\n  File \"/home/felix/git/visidata/env/lib/python3.9/site-packages/visidata/_input.py\", line 120, in up\r\n    i = len(v)\r\nTypeError: object of type 'int' has no len()\r\n```\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n1. Set column width Enter\r\n2. Start to add aggregator, use up arrow.\r\n\r\n\r\n**Additional context**\r\nPlease include the version of VisiData. Lasest develop branch.\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1371/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1371/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1370", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1370/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1370/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1370/events", "html_url": "https://github.com/saulpw/visidata/issues/1370", "id": 1228617787, "node_id": "I_kwDOBEu2Gc5JOzg7", "number": 1370, "title": "z; leaves a newline", "user": {"login": "justin2004", "id": 16325158, "node_id": "MDQ6VXNlcjE2MzI1MTU4", "avatar_url": "https://avatars.githubusercontent.com/u/16325158?v=4", "gravatar_id": "", "url": "https://api.github.com/users/justin2004", "html_url": "https://github.com/justin2004", "followers_url": "https://api.github.com/users/justin2004/followers", "following_url": "https://api.github.com/users/justin2004/following{/other_user}", "gists_url": "https://api.github.com/users/justin2004/gists{/gist_id}", "starred_url": "https://api.github.com/users/justin2004/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/justin2004/subscriptions", "organizations_url": "https://api.github.com/users/justin2004/orgs", "repos_url": "https://api.github.com/users/justin2004/repos", "events_url": "https://api.github.com/users/justin2004/events{/privacy}", "received_events_url": "https://api.github.com/users/justin2004/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2022-05-07T12:35:27Z", "updated_at": "2022-05-08T13:11:52Z", "closed_at": "2022-05-08T06:22:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Small description**\r\nif you have a csv like:\r\n\r\n|one                 |two    |three  |\r\n|--------------------|-------|-------|\r\n|2012\\-03\\-20T14:18:25\\.000\\+04:00|hello  |3434   |\r\n|2013\\-03\\-20T14:18:25\\.000\\+04:00|bye    |99     |\r\n|2\"\"012\\-03\\-20T14:17:25\\.000\\+04:00|wave   |3434   |\r\n\r\nand you do:\r\nz;\r\necho $three | grep 3\r\n\r\nyou get a newline in each new cell that has a result. \r\ne.g. here is one of the resultant cells piped through `od -tx1 -c`:\r\n0000000  33  34  33  34  0a\r\n          3   4   3   4  \\n\r\n0000005\r\n\r\n\r\n**Expected result**\r\ni think a single line result should not have the newline character, right?\r\nshouldn't visidata trim the trailing newline?\r\n\r\n\r\ni'm using the HEAD of the visidata stable branch.\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1370/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1370/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1364", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1364/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1364/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1364/events", "html_url": "https://github.com/saulpw/visidata/issues/1364", "id": 1224424579, "node_id": "I_kwDOBEu2Gc5I-zyD", "number": 1364, "title": "vdj variable name issues", "user": {"login": "jungle-boogie", "id": 1111743, "node_id": "MDQ6VXNlcjExMTE3NDM=", "avatar_url": "https://avatars.githubusercontent.com/u/1111743?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jungle-boogie", "html_url": "https://github.com/jungle-boogie", "followers_url": "https://api.github.com/users/jungle-boogie/followers", "following_url": "https://api.github.com/users/jungle-boogie/following{/other_user}", "gists_url": "https://api.github.com/users/jungle-boogie/gists{/gist_id}", "starred_url": "https://api.github.com/users/jungle-boogie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jungle-boogie/subscriptions", "organizations_url": "https://api.github.com/users/jungle-boogie/orgs", "repos_url": "https://api.github.com/users/jungle-boogie/repos", "events_url": "https://api.github.com/users/jungle-boogie/events{/privacy}", "received_events_url": "https://api.github.com/users/jungle-boogie/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2022-05-03T18:08:03Z", "updated_at": "2022-05-04T16:26:21Z", "closed_at": "2022-05-04T04:03:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\r\n\r\nI'm using `visidata` version 4f9a1d5e74f6801e3f17bd8c53c734cef4a24150 and I've created a very simple vdj file with a variable in place, but I'm getting an error on playback.\r\n\r\n```\r\n$ cat test.vdj\r\n#!vd -p\r\n{\"longname\": \"open-file\", \"input\": \"myfile_{date}.xlsx\", \"keystrokes\": \"o\"}\r\n```\r\n\r\nAnd here's the error:\r\n\r\n```\r\n$ vd -b -p test.vdj date=2022-05-02 myfile_{date}.xlsx\r\nmyfile_{date}.xlsx does not exist, creating new sheet\r\nAnd yesterday things went on just as usual.\r\nTraceback (most recent call last):\r\n  File \"/home/zeke/.local/bin/vd\", line 6, in <module>\r\n    visidata.main.vd_cli()\r\n  File \"/home/zeke/.local/lib/python3.10/site-packages/visidata/main.py\", line 332, in vd_cli\r\n    rc = main_vd()\r\n  File \"/home/zeke/.local/lib/python3.10/site-packages/visidata/main.py\", line 305, in main_vd\r\n    vs = eval_vd(vdfile, *fmtargs, **fmtkwargs)\r\n  File \"/home/zeke/.local/lib/python3.10/site-packages/visidata/main.py\", line 36, in eval_vd\r\n    log = log.format(*args, **kwargs)\r\nKeyError: '\"longname\"'\r\n```\r\n\r\nSaul says `{varname}` is acceptable with `vd` or `vdj` files:\r\nhttps://github.com/saulpw/visidata/discussions/1350#discussioncomment-2536775\r\n\r\nWhat am I doing wrong?\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1364/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1364/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1362", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1362/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1362/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1362/events", "html_url": "https://github.com/saulpw/visidata/issues/1362", "id": 1222333879, "node_id": "I_kwDOBEu2Gc5I21W3", "number": 1362, "title": "Inconsistent CRLF behaviour between Windows and Linux", "user": {"login": "daviewales", "id": 2499066, "node_id": "MDQ6VXNlcjI0OTkwNjY=", "avatar_url": "https://avatars.githubusercontent.com/u/2499066?v=4", "gravatar_id": "", "url": "https://api.github.com/users/daviewales", "html_url": "https://github.com/daviewales", "followers_url": "https://api.github.com/users/daviewales/followers", "following_url": "https://api.github.com/users/daviewales/following{/other_user}", "gists_url": "https://api.github.com/users/daviewales/gists{/gist_id}", "starred_url": "https://api.github.com/users/daviewales/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/daviewales/subscriptions", "organizations_url": "https://api.github.com/users/daviewales/orgs", "repos_url": "https://api.github.com/users/daviewales/repos", "events_url": "https://api.github.com/users/daviewales/events{/privacy}", "received_events_url": "https://api.github.com/users/daviewales/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1415516811, "node_id": "MDU6TGFiZWwxNDE1NTE2ODEx", "url": "https://api.github.com/repos/saulpw/visidata/labels/question", "name": "question", "color": "a59bf2", "default": true, "description": ""}, {"id": 3885594880, "node_id": "LA_kwDOBEu2Gc7nmXkA", "url": "https://api.github.com/repos/saulpw/visidata/labels/windows", "name": "windows", "color": "E9156E", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2022-05-02T00:00:11Z", "updated_at": "2022-05-05T11:03:33Z", "closed_at": "2022-05-05T05:57:33Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\n\r\nIf I open a CSV with `LF` line endings in VisiData on Windows, make a change, then save the file, I get `CRCRLF` line endings.\r\nNote that this is not just `CRLF` line endings, which is what you get on Linux (see #1076). Note that there are somehow two `CR` characters before the `LF`!\r\n\r\n**Expected result**\r\n\r\nThe line endings should either be `LF` (preserve original) or `CRLF` (Python and VisiData default for CSV writer on Linux).\r\nThe line endings should not be `CRCRLF`...\r\n\r\n**Actual result with screenshot**\r\nIf you get an unexpected error, please include the full stack trace that you get with `Ctrl-E`.\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n\r\n**Original file** (note the LF (`0a`) line ending:\r\n[lf.csv](https://github.com/saulpw/visidata/files/8599982/lf.csv)\r\n\r\n```\r\n$ xxd lf.csv\r\n00000000: 612c 620a 312c 320a                      a,b.1,2.\r\n```\r\n\r\n**New file** (note the CRCRLF (`0d 0d 0a`) line ending!)\r\n[lf.csv](https://github.com/saulpw/visidata/files/8599988/lf.csv)\r\n\r\n```\r\nxxd lf.csv\r\n00000000: 612c 620d 0d0a 332c 340d 0d0a            a,b...3,4...\r\n```\r\n\r\n**CommandLog (zipped)**:\r\n[lf.zip](https://github.com/saulpw/visidata/files/8599990/lf.zip)\r\n\r\n\r\n**Additional context**\r\nPlease include the version of VisiData: saul.pw/VisiData v2.7.1\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1362/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1362/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1360", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1360/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1360/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1360/events", "html_url": "https://github.com/saulpw/visidata/issues/1360", "id": 1213419354, "node_id": "I_kwDOBEu2Gc5IU09a", "number": 1360, "title": "[pyexpr] Hidden column value used rather than visible", "user": {"login": "frosencrantz", "id": 631242, "node_id": "MDQ6VXNlcjYzMTI0Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/631242?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frosencrantz", "html_url": "https://github.com/frosencrantz", "followers_url": "https://api.github.com/users/frosencrantz/followers", "following_url": "https://api.github.com/users/frosencrantz/following{/other_user}", "gists_url": "https://api.github.com/users/frosencrantz/gists{/gist_id}", "starred_url": "https://api.github.com/users/frosencrantz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frosencrantz/subscriptions", "organizations_url": "https://api.github.com/users/frosencrantz/orgs", "repos_url": "https://api.github.com/users/frosencrantz/repos", "events_url": "https://api.github.com/users/frosencrantz/events{/privacy}", "received_events_url": "https://api.github.com/users/frosencrantz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2022-04-23T18:48:55Z", "updated_at": "2022-05-07T18:05:45Z", "closed_at": "2022-05-02T02:25:11Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nA name is used for multiple columns, it is possible to use the hidden value rather than the visible value.\r\n\r\n\r\n**Expected result**\r\nVisible columns are preferred in expressions, over hidden columns.\r\n\r\n\r\n**Actual result with screenshot**\r\n\r\nhttps://asciinema.org/a/P3PsKbeaR88gSyqeXdDIilSeZ\r\n\r\n\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n\r\nHave 2 or more columns with the same name.  Hide the leftmost one.  Reference the column name in an expression.\r\n\r\nYou get the unexpected result using the value from the hidden column not the visible column.  In this case, I froze the original column, hide the original, and then rename the frozen column to the original.  Since new columns are added to the right, expressions are using the original (and hidden value).\r\n\r\n\r\n**Additional context**\r\nPlease include the version of VisiData. Latest version of develop\r\n\r\nCommonly I will clean up the value of a column.  Hiding the original and intermediate values, and renaming the final column back to the name of the original.  It was surprising to get the original value.  It seems like Visidata should prefer the visible value over hidden values, since that is the least surprising value to use.\r\n\r\nThere are many issues Visidata can have with multiple columns with the same name, so this is really just one of many possible issues around this condition.\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1360/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1360/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1353", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1353/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1353/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1353/events", "html_url": "https://github.com/saulpw/visidata/issues/1353", "id": 1202328630, "node_id": "I_kwDOBEu2Gc5HqhQ2", "number": 1353, "title": "[v2.9] _curses.error: curses function returned NULL", "user": {"login": "geekscrapy", "id": 11225502, "node_id": "MDQ6VXNlcjExMjI1NTAy", "avatar_url": "https://avatars.githubusercontent.com/u/11225502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geekscrapy", "html_url": "https://github.com/geekscrapy", "followers_url": "https://api.github.com/users/geekscrapy/followers", "following_url": "https://api.github.com/users/geekscrapy/following{/other_user}", "gists_url": "https://api.github.com/users/geekscrapy/gists{/gist_id}", "starred_url": "https://api.github.com/users/geekscrapy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geekscrapy/subscriptions", "organizations_url": "https://api.github.com/users/geekscrapy/orgs", "repos_url": "https://api.github.com/users/geekscrapy/repos", "events_url": "https://api.github.com/users/geekscrapy/events{/privacy}", "received_events_url": "https://api.github.com/users/geekscrapy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2022-04-12T20:01:58Z", "updated_at": "2022-05-05T16:14:49Z", "closed_at": "2022-05-05T05:15:19Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\n_This seems to happen intermittently and I cant reliably repro..._\r\n\r\nWhen I go to close a sheet with `quit-sheet`, sometimes I get the following error:\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/Users/geekscrapy/py3.7/lib/python3.7/site-packages/visidata/basesheet.py\", line 167, in execCommand\r\n    escaped = super().execCommand2(cmd, vdglobals=vdglobals)\r\n  File \"/Users/geekscrapy/py3.7/lib/python3.7/site-packages/visidata/basesheet.py\", line 69, in execCommand2\r\n    exec(code, vdglobals, LazyChainMap(vd, self))\r\n  File \"quit-sheet\", line 1, in <module>\r\n    import plugins.vpager\r\n  File \"/Users/geekscrapy/py3.7/lib/python3.7/site-packages/visidata/sheets.py\", line 1068, in quit\r\n    vs.confirmQuit('quit')\r\n  File \"/Users/geekscrapy/py3.7/lib/python3.7/site-packages/visidata/sheets.py\", line 1077, in confirmQuit\r\n    vd.confirm(f'{verb} modified sheet \"{vs.name}?\" ')\r\n  File \"/Users/geekscrapy/py3.7/lib/python3.7/site-packages/visidata/form.py\", line 87, in confirm\r\n    ret = FormCanvas(source=form).run(vd.scrFull)\r\n  File \"/Users/geekscrapy/py3.7/lib/python3.7/site-packages/visidata/form.py\", line 55, in run\r\n    self.scrForm = vd.scrFull.derwin(maxh+2, maxw+1, (h-maxh)//2-1, (w-maxw)//2-1)\r\n_curses.error: curses function returned NULL\r\n```\r\n\r\nI can however do anything else (work with the sheet, `ctrl+i`, etc.) I just can't close.\r\n\r\n**Expected result**\r\nTo close the sheet and push the next on the stack\r\n\r\n**Additional context**\r\nI see this occurring when I use `vd.run` from within another curses application (prompt-toolkit to be exact), which is probably the cause. Having said this though, I have a something niggling in my head telling me it happened when I used vd natively as well...\r\n\r\nI'll add more context when it occurs again", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1353/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1353/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1351", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1351/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1351/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1351/events", "html_url": "https://github.com/saulpw/visidata/issues/1351", "id": 1198994481, "node_id": "I_kwDOBEu2Gc5HdzQx", "number": 1351, "title": "Please invert mousewheel scroll direction...", "user": {"login": "marcobra", "id": 1607387, "node_id": "MDQ6VXNlcjE2MDczODc=", "avatar_url": "https://avatars.githubusercontent.com/u/1607387?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marcobra", "html_url": "https://github.com/marcobra", "followers_url": "https://api.github.com/users/marcobra/followers", "following_url": "https://api.github.com/users/marcobra/following{/other_user}", "gists_url": "https://api.github.com/users/marcobra/gists{/gist_id}", "starred_url": "https://api.github.com/users/marcobra/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marcobra/subscriptions", "organizations_url": "https://api.github.com/users/marcobra/orgs", "repos_url": "https://api.github.com/users/marcobra/repos", "events_url": "https://api.github.com/users/marcobra/events{/privacy}", "received_events_url": "https://api.github.com/users/marcobra/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-04-10T11:30:52Z", "updated_at": "2022-04-27T15:13:36Z", "closed_at": "2022-04-25T23:17:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Small description**\r\nWhen i use visidata the keyboard \"down\" or \"up\" arrowkey scroll the data in right direction, if i use mouse wheel the scroll direction is inverted scrolling by rotating mouse wheel is different by the keyboard \"down\"/\"up\" arrowkey scroll logic\r\n\r\n**Expected result**\r\nthe same mousewheel and keydown/keyup browse/data scroll logic\r\n\r\n**Actual result with screenshot**\r\nnothing\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\nscroll data with arrows key and mouse wheel\r\n\r\n**Additional context**\r\nsaul.pw/VisiData v2.8\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1351/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 1}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1351/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1349", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1349/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1349/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1349/events", "html_url": "https://github.com/saulpw/visidata/issues/1349", "id": 1197859215, "node_id": "I_kwDOBEu2Gc5HZeGP", "number": 1349, "title": "Hiding column cancels replay", "user": {"login": "jungle-boogie", "id": 1111743, "node_id": "MDQ6VXNlcjExMTE3NDM=", "avatar_url": "https://avatars.githubusercontent.com/u/1111743?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jungle-boogie", "html_url": "https://github.com/jungle-boogie", "followers_url": "https://api.github.com/users/jungle-boogie/followers", "following_url": "https://api.github.com/users/jungle-boogie/following{/other_user}", "gists_url": "https://api.github.com/users/jungle-boogie/gists{/gist_id}", "starred_url": "https://api.github.com/users/jungle-boogie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jungle-boogie/subscriptions", "organizations_url": "https://api.github.com/users/jungle-boogie/orgs", "repos_url": "https://api.github.com/users/jungle-boogie/repos", "events_url": "https://api.github.com/users/jungle-boogie/events{/privacy}", "received_events_url": "https://api.github.com/users/jungle-boogie/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2022-04-08T21:34:49Z", "updated_at": "2022-05-01T20:39:20Z", "closed_at": "2022-05-01T04:53:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\r\n\r\nI like the `Visidata` replay feature and hope to be able to use it with my data.\r\n\r\nI've noticed that if I hide a column in a MS Excel spreadsheet, the replay is cancelled.\r\n\r\n1. Open vd with a MS Excel file that has multiple columns\r\n2. Hide a column with `-`\r\n3. Save the playback as test.vd\r\n4. Quit vd\r\n5. `vd --play test.vd`\r\n6. Notice `replay canceled` will appear\r\n\r\nI would expect the replay to hide the column I selected.\r\n\r\nThis is what's in the playback:\r\n```\r\nmyfile  0               hide-col                -       Hide current column\r\n```\r\n\r\n$ vd -v\r\nsaul.pw/VisiData v2.9dev", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1349/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1349/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1348", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1348/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1348/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1348/events", "html_url": "https://github.com/saulpw/visidata/issues/1348", "id": 1197811854, "node_id": "I_kwDOBEu2Gc5HZSiO", "number": 1348, "title": "Cannot copy/paste with MS Excel sheet", "user": {"login": "jungle-boogie", "id": 1111743, "node_id": "MDQ6VXNlcjExMTE3NDM=", "avatar_url": "https://avatars.githubusercontent.com/u/1111743?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jungle-boogie", "html_url": "https://github.com/jungle-boogie", "followers_url": "https://api.github.com/users/jungle-boogie/followers", "following_url": "https://api.github.com/users/jungle-boogie/following{/other_user}", "gists_url": "https://api.github.com/users/jungle-boogie/gists{/gist_id}", "starred_url": "https://api.github.com/users/jungle-boogie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jungle-boogie/subscriptions", "organizations_url": "https://api.github.com/users/jungle-boogie/orgs", "repos_url": "https://api.github.com/users/jungle-boogie/repos", "events_url": "https://api.github.com/users/jungle-boogie/events{/privacy}", "received_events_url": "https://api.github.com/users/jungle-boogie/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2022-04-08T20:47:39Z", "updated_at": "2022-05-04T18:26:30Z", "closed_at": "2022-05-04T03:23:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\r\n\r\nCopying and pasting data in the same sheet results in `TypeError: cannot pickle '_io.BufferedReader' object\r\n\r\n**Expected result**\r\n\r\nCopy/paste to function\r\n\r\n\r\n**Actual result with screenshot**\r\n\r\n![visidata_1](https://user-images.githubusercontent.com/1111743/162527439-e1004295-a341-4d09-81d2-6c92601bfb97.png)\r\n![visidata_2](https://user-images.githubusercontent.com/1111743/162527445-cbf38095-f715-425c-872d-bd995bcd8ac2.png)\r\n\r\n**Steps**\r\n\r\n1. vd myfile.xlsx +:Stats:14:0\r\n2.  Press `y`\r\n3.  Go down a few spaces\r\n4. Press `p`\r\n5. Look for error to be generated\r\n\r\n\r\nPython 3.10.4\r\n\r\n```\r\n~$ cat /etc/os-release\r\nNAME=\"Ubuntu\"\r\nVERSION=\"20.04.4 LTS (Focal Fossa)\"\r\nID=ubuntu\r\nID_LIKE=debian\r\nPRETTY_NAME=\"Ubuntu 20.04.4 LTS\"\r\nVERSION_ID=\"20.04\"\r\nHOME_URL=\"https://www.ubuntu.com/\"\r\nSUPPORT_URL=\"https://help.ubuntu.com/\"\r\nBUG_REPORT_URL=\"https://bugs.launchpad.net/ubuntu/\"\r\nPRIVACY_POLICY_URL=\"https://www.ubuntu.com/legal/terms-and-policies/privacy-policy\"\r\nVERSION_CODENAME=focal\r\nUBUNTU_CODENAME=focal\r\n```\r\n\r\nsaul.pw/VisiData v2.8\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1348/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1348/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1347", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1347/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1347/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1347/events", "html_url": "https://github.com/saulpw/visidata/issues/1347", "id": 1196500446, "node_id": "I_kwDOBEu2Gc5HUSXe", "number": 1347, "title": "Piping async output into stdin breaks visidata keyboard input", "user": {"login": "ovikk13", "id": 16265319, "node_id": "MDQ6VXNlcjE2MjY1MzE5", "avatar_url": "https://avatars.githubusercontent.com/u/16265319?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ovikk13", "html_url": "https://github.com/ovikk13", "followers_url": "https://api.github.com/users/ovikk13/followers", "following_url": "https://api.github.com/users/ovikk13/following{/other_user}", "gists_url": "https://api.github.com/users/ovikk13/gists{/gist_id}", "starred_url": "https://api.github.com/users/ovikk13/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ovikk13/subscriptions", "organizations_url": "https://api.github.com/users/ovikk13/orgs", "repos_url": "https://api.github.com/users/ovikk13/repos", "events_url": "https://api.github.com/users/ovikk13/events{/privacy}", "received_events_url": "https://api.github.com/users/ovikk13/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2022-04-07T19:49:51Z", "updated_at": "2022-05-04T01:43:25Z", "closed_at": "2022-05-04T01:42:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Small description**\r\nPiping output from an async nodejs application into visidata results in visidata not accepting user input. This only occurs when output is sent to stdout before the application is done.\r\n\r\nInstead of keybindings working correctly, the text is written at the top bar, as if visidata is a background image you are overwriting.\r\n\r\nTested in both bash and fish-shell\r\n\r\n**Expected result**\r\nVisidata accepts user input\r\n\r\n**Actual result with screenshot**\r\n![image](https://user-images.githubusercontent.com/16265319/162283336-ae1e7f12-4275-4535-825b-50acbbd0ce88.png)\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\nA sample nodejs application `test.js`:\r\n```js\r\nconsole.log(\"test1\");\r\nsetTimeout(() => {\r\n   console.log(\"test2\");\r\n}, 1000);\r\n```\r\nAt a terminal: `$ nodejs test.js | vd`\r\n\r\n**Additional context**\r\nProgram | Version\r\n----------- | ------------\r\nVisiData |  v2.8\r\nPython   | 3.10.4\r\nTerminal | Alacrity version  0.10.1-1\r\nOS         | Arch Linux\r\n\r\n\r\nThanks for the help! :)\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1347/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 1, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1347/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1344", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1344/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1344/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1344/events", "html_url": "https://github.com/saulpw/visidata/issues/1344", "id": 1191139327, "node_id": "I_kwDOBEu2Gc5G_1f_", "number": 1344, "title": "Documentation incorrect for .visidatarc: bindkey('i', 'edit-cell') not working as stated", "user": {"login": "Aljendro", "id": 7899307, "node_id": "MDQ6VXNlcjc4OTkzMDc=", "avatar_url": "https://avatars.githubusercontent.com/u/7899307?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Aljendro", "html_url": "https://github.com/Aljendro", "followers_url": "https://api.github.com/users/Aljendro/followers", "following_url": "https://api.github.com/users/Aljendro/following{/other_user}", "gists_url": "https://api.github.com/users/Aljendro/gists{/gist_id}", "starred_url": "https://api.github.com/users/Aljendro/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Aljendro/subscriptions", "organizations_url": "https://api.github.com/users/Aljendro/orgs", "repos_url": "https://api.github.com/users/Aljendro/repos", "events_url": "https://api.github.com/users/Aljendro/events{/privacy}", "received_events_url": "https://api.github.com/users/Aljendro/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-04-04T01:40:01Z", "updated_at": "2022-04-06T04:11:14Z", "closed_at": "2022-04-06T04:06:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Small description**\r\nThe following documentation: \r\n\r\n```\r\nExample: Bind i to edit-cell globally\r\nIn VisiData, pressing e enters edit mode for the current cell. Seasoned vim users might prefer to press i instead.\r\n\r\nOpen ~/.visidatarc in an editor.\r\nAdd the line bindkey('i', 'edit-cell') to globally bind the keystroke i to the longname edit-cell.\r\nLaunch VisiData, and press i.\r\n```\r\n\r\ndoes not rebind 'i' to the command. What worked for me was using\r\n\r\n```\r\nTableSheet.bindkey('i', 'edit-cell')\r\n```\r\n\r\n**Expected result**\r\n\r\nThe expected results was to have the steps from the documentation rebind the 'i' key to edit-cell\r\n\r\n**Actual result with screenshot**\r\nThe original 'i' command ('addcol-incr') is run instead\r\n\r\n![Screen Shot 2022-04-03 at 6 38 47 PM](https://user-images.githubusercontent.com/7899307/161460263-3393b182-019d-480b-bc81-771b46984755.png)\r\n\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\nExactly as the small description\r\n\r\n**Additional context**\r\nsaul.pw/VisiData v2.8\r\nMacOS 11.6.4\r\nPython 3.9.12\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1344/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1344/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1339", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1339/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1339/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1339/events", "html_url": "https://github.com/saulpw/visidata/issues/1339", "id": 1181053152, "node_id": "I_kwDOBEu2Gc5GZXDg", "number": 1339, "title": "Impossible to set current column for selected rows to incremental values and to bulk save all sheets", "user": {"login": "aborruso", "id": 30607, "node_id": "MDQ6VXNlcjMwNjA3", "avatar_url": "https://avatars.githubusercontent.com/u/30607?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aborruso", "html_url": "https://github.com/aborruso", "followers_url": "https://api.github.com/users/aborruso/followers", "following_url": "https://api.github.com/users/aborruso/following{/other_user}", "gists_url": "https://api.github.com/users/aborruso/gists{/gist_id}", "starred_url": "https://api.github.com/users/aborruso/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aborruso/subscriptions", "organizations_url": "https://api.github.com/users/aborruso/orgs", "repos_url": "https://api.github.com/users/aborruso/repos", "events_url": "https://api.github.com/users/aborruso/events{/privacy}", "received_events_url": "https://api.github.com/users/aborruso/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2022-03-25T17:27:24Z", "updated_at": "2022-05-01T03:58:22Z", "closed_at": "2022-04-06T04:10:55Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\n\r\nHi, I want to open and bulk save all the html tables I have [here](https://lab24.ilsole24ore.com/ecosistema-urbano/indexT.php). All the tables have the same name, then I need to rename them using `g+i`, and then save them in bulk `g+CTRL+s`.\r\n\r\nWhen I run `g+i` I have `NameError: name 'setitem' is not defined`.\r\n\r\nIf I change the name of the tables, in the saved HTML files, when I run `g+CTRL+s`, I have `AttributeError: 'str' object has no attribute 'name'`\r\n\r\nI start from \r\n\r\n```\r\n vd https://lab24.ilsole24ore.com/ecosistema-urbano/indexT.php --save-filetype=csv\r\n```\r\n\r\n**Expected result**\r\n\r\n- to have the tables renamed;\r\n- to be able to save the tables in multiple CSV files:\r\n\r\n**Actual result with screenshot**\r\n![image](https://user-images.githubusercontent.com/30607/160170624-208928a1-4e53-435f-bb63-77301335c5f3.png)\r\n\r\n![image](https://user-images.githubusercontent.com/30607/160170720-c2696239-4cac-46dc-8dc0-f8aaa322fd5f.png)\r\n\r\n![image](https://user-images.githubusercontent.com/30607/160170830-f81ef65c-3ac1-4e94-87b1-fb2204c5e685.png)\r\n\r\n![image](https://user-images.githubusercontent.com/30607/160170866-f5c41e67-99f1-46f0-b920-e271251f9c4a.png)\r\n\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\nPlease attach the commandlog (saved with `Ctrl-D`) to show the steps that led to the issue.\r\nSee [here](http://visidata.org/docs/save-restore/) for more details.\r\n\r\n```\r\nsheet   col     row     longname        input   keystrokes      comment\r\nglobal          null_value      set-option\r\nglobal          save_filetype   set-option      csv\r\n                        open-file       https://lab24.ilsole24ore.com/ecosistema-urbano/indexT.php      o\r\nindexT                  select-rows             gs      select all rows\r\nindexT  name            setcol-incr             gi      set current column for selected rows to incremental values\r\n```\r\n\r\n**Additional context**\r\nPlease include the version of VisiData: the latest dev saul.pw/VisiData v2.9dev\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1339/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1339/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1336", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1336/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1336/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1336/events", "html_url": "https://github.com/saulpw/visidata/issues/1336", "id": 1176095110, "node_id": "I_kwDOBEu2Gc5GGcmG", "number": 1336, "title": "`kDN` and `kUP` prettykeys don't actually exist", "user": {"login": "djpohly", "id": 521294, "node_id": "MDQ6VXNlcjUyMTI5NA==", "avatar_url": "https://avatars.githubusercontent.com/u/521294?v=4", "gravatar_id": "", "url": "https://api.github.com/users/djpohly", "html_url": "https://github.com/djpohly", "followers_url": "https://api.github.com/users/djpohly/followers", "following_url": "https://api.github.com/users/djpohly/following{/other_user}", "gists_url": "https://api.github.com/users/djpohly/gists{/gist_id}", "starred_url": "https://api.github.com/users/djpohly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/djpohly/subscriptions", "organizations_url": "https://api.github.com/users/djpohly/orgs", "repos_url": "https://api.github.com/users/djpohly/repos", "events_url": "https://api.github.com/users/djpohly/events{/privacy}", "received_events_url": "https://api.github.com/users/djpohly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-03-21T23:57:59Z", "updated_at": "2023-01-08T06:20:01Z", "closed_at": "2023-01-08T06:18:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Small description** [PR incoming]\r\n\r\nThe pretty keys `kDN` and `kUP` are used in two places in the code, but they are not defined in the translation dictionary.\r\n\r\n**Expected result**\r\nDefault keybindings should include \"Shift+Up\", \"Shift+Down\", \"gShift+Up\", and \"gShift+Down\".\r\n\r\n**Actual result with screenshot**\r\nBogus keybindings:\r\n![2022-03-21-184238_958x528_scrot](https://user-images.githubusercontent.com/521294/159380709-97d6451c-1a8e-404c-ae30-f4ce4ad4351f.png)\r\n\r\n**Additional context**\r\nRunning visidata-2.8 on Arch Linux.\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1336/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1336/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1334", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1334/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1334/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1334/events", "html_url": "https://github.com/saulpw/visidata/issues/1334", "id": 1170805318, "node_id": "I_kwDOBEu2Gc5FyRJG", "number": 1334, "title": "Fix documentation on website", "user": {"login": "gruberma", "id": 14904570, "node_id": "MDQ6VXNlcjE0OTA0NTcw", "avatar_url": "https://avatars.githubusercontent.com/u/14904570?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gruberma", "html_url": "https://github.com/gruberma", "followers_url": "https://api.github.com/users/gruberma/followers", "following_url": "https://api.github.com/users/gruberma/following{/other_user}", "gists_url": "https://api.github.com/users/gruberma/gists{/gist_id}", "starred_url": "https://api.github.com/users/gruberma/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gruberma/subscriptions", "organizations_url": "https://api.github.com/users/gruberma/orgs", "repos_url": "https://api.github.com/users/gruberma/repos", "events_url": "https://api.github.com/users/gruberma/events{/privacy}", "received_events_url": "https://api.github.com/users/gruberma/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-03-16T10:12:27Z", "updated_at": "2022-03-22T05:35:26Z", "closed_at": "2022-03-22T05:34:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "Not sure if this belongs here, but I believe to have found a small issue on the website.\r\n\r\nParagraph # 7 in [10 Ways to Use VisiData](https://www.visidata.org/blog/2020/ten/) says you should use `visidata.view_pandas(df)` to view a dataframe in pandas.\r\n\r\nI believe that should be `visidata.vd.view_pandas(df)`\r\n\r\n![image](https://user-images.githubusercontent.com/14904570/158566552-df4f22c0-cb08-476c-a2d9-076577ebad5c.png)\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1334/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1334/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1332", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1332/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1332/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1332/events", "html_url": "https://github.com/saulpw/visidata/issues/1332", "id": 1170512357, "node_id": "I_kwDOBEu2Gc5FxJnl", "number": 1332, "title": "vd --help doesn't play well with pipes and non-ttys", "user": {"login": "halloleo", "id": 1521852, "node_id": "MDQ6VXNlcjE1MjE4NTI=", "avatar_url": "https://avatars.githubusercontent.com/u/1521852?v=4", "gravatar_id": "", "url": "https://api.github.com/users/halloleo", "html_url": "https://github.com/halloleo", "followers_url": "https://api.github.com/users/halloleo/followers", "following_url": "https://api.github.com/users/halloleo/following{/other_user}", "gists_url": "https://api.github.com/users/halloleo/gists{/gist_id}", "starred_url": "https://api.github.com/users/halloleo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/halloleo/subscriptions", "organizations_url": "https://api.github.com/users/halloleo/orgs", "repos_url": "https://api.github.com/users/halloleo/repos", "events_url": "https://api.github.com/users/halloleo/events{/privacy}", "received_events_url": "https://api.github.com/users/halloleo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-03-16T04:03:57Z", "updated_at": "2022-03-30T03:50:19Z", "closed_at": "2022-03-30T03:50:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Small description**\r\n\r\n    vd --help | col -b > ~/tmp/vd-help.txt\r\n\r\nhas garbled codes in the resulting file.\r\n\r\n**Expected result**\r\n\r\nA nice plain text file containing the help text to vd.\r\n\r\n**Additional context**\r\n\r\nThis happens in version 2.6.1 and version 2.8\r\n\r\nSee also [issue 1089](https://github.com/saulpw/visidata/issues/1089).\r\n\r\n_Side note:_ I personally think `vd --help` should not use _any_ control characters  and be rather brief, while a full man page could be produced with `--man` - but that's obviously subjective. ", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1332/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1332/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1319", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1319/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1319/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1319/events", "html_url": "https://github.com/saulpw/visidata/issues/1319", "id": 1161854102, "node_id": "I_kwDOBEu2Gc5FQHyW", "number": 1319, "title": "Input mysteriously stopped working", "user": {"login": "anjakefala", "id": 7489659, "node_id": "MDQ6VXNlcjc0ODk2NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/7489659?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anjakefala", "html_url": "https://github.com/anjakefala", "followers_url": "https://api.github.com/users/anjakefala/followers", "following_url": "https://api.github.com/users/anjakefala/following{/other_user}", "gists_url": "https://api.github.com/users/anjakefala/gists{/gist_id}", "starred_url": "https://api.github.com/users/anjakefala/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anjakefala/subscriptions", "organizations_url": "https://api.github.com/users/anjakefala/orgs", "repos_url": "https://api.github.com/users/anjakefala/repos", "events_url": "https://api.github.com/users/anjakefala/events{/privacy}", "received_events_url": "https://api.github.com/users/anjakefala/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-03-07T19:52:33Z", "updated_at": "2022-05-04T01:46:16Z", "closed_at": "2022-05-04T01:45:05Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "### Discussed in https://github.com/saulpw/visidata/discussions/1251\r\n\r\nThis has come up for more than one person, and I want to set aside time to investigate this. I do not usually have a habit of looking in the Discussions tab for my bug queue, so I opened an issue.\r\n\r\nPlease continue adding relevant comments to the Discussion itself!\r\n\r\nThe biggest challenge for resolving this is that we do not have a repro yet. I was only able to reproduce this by commenting out code.", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1319/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1319/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1318", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1318/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1318/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1318/events", "html_url": "https://github.com/saulpw/visidata/issues/1318", "id": 1161852839, "node_id": "I_kwDOBEu2Gc5FQHen", "number": 1318, "title": "Investigate slide rebinding", "user": {"login": "anjakefala", "id": 7489659, "node_id": "MDQ6VXNlcjc0ODk2NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/7489659?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anjakefala", "html_url": "https://github.com/anjakefala", "followers_url": "https://api.github.com/users/anjakefala/followers", "following_url": "https://api.github.com/users/anjakefala/following{/other_user}", "gists_url": "https://api.github.com/users/anjakefala/gists{/gist_id}", "starred_url": "https://api.github.com/users/anjakefala/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anjakefala/subscriptions", "organizations_url": "https://api.github.com/users/anjakefala/orgs", "repos_url": "https://api.github.com/users/anjakefala/repos", "events_url": "https://api.github.com/users/anjakefala/events{/privacy}", "received_events_url": "https://api.github.com/users/anjakefala/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-03-07T19:51:05Z", "updated_at": "2022-03-08T05:01:37Z", "closed_at": "2022-03-08T05:00:56Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "**Small description**\r\n\r\n> One problem I encountered was when trying to rebind the \"slide\" functions in .visidatarc, because it didn't register. On a Scandinavian keyboard, hjkl are one step to the left and so the homerow movement keys become jkl\u00f6. Rebinding movement (go_up, etc.) is fine, but to rebind slide_top and the likes I had to change the source in the Python library (slide.py), which is fine but I expect it to return to default bindings in case of an update. I don't know if this is by design and whether or not it's worthy of a Github issue report. Or maybe there was something wrong with my commands, for example \" bindkey('gH', 'slide_top') \". \r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1318/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1318/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1317", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1317/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1317/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1317/events", "html_url": "https://github.com/saulpw/visidata/issues/1317", "id": 1160874990, "node_id": "I_kwDOBEu2Gc5FMYvu", "number": 1317, "title": "[bug Python3.9] \"AttributeError: 'LazyChainMap' object has no attribute 'get'\" when entering pdb++ breakpoint.", "user": {"login": "jasonwirth", "id": 4141901, "node_id": "MDQ6VXNlcjQxNDE5MDE=", "avatar_url": "https://avatars.githubusercontent.com/u/4141901?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jasonwirth", "html_url": "https://github.com/jasonwirth", "followers_url": "https://api.github.com/users/jasonwirth/followers", "following_url": "https://api.github.com/users/jasonwirth/following{/other_user}", "gists_url": "https://api.github.com/users/jasonwirth/gists{/gist_id}", "starred_url": "https://api.github.com/users/jasonwirth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jasonwirth/subscriptions", "organizations_url": "https://api.github.com/users/jasonwirth/orgs", "repos_url": "https://api.github.com/users/jasonwirth/repos", "events_url": "https://api.github.com/users/jasonwirth/events{/privacy}", "received_events_url": "https://api.github.com/users/jasonwirth/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2022-03-07T04:06:52Z", "updated_at": "2023-01-03T22:20:28Z", "closed_at": "2023-01-03T21:57:23Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nEntering a breakpoint (`space breakpoint`) throws `AttributeError: 'LazyChainMap' object has no attribute 'get'`.\r\n\r\n**Expected result**\r\nEnter the debugger / pdb.\r\n\r\n**Actual result with screenshot**\r\n<img width=\"1624\" alt=\"Screen Shot 2022-03-06 at 9 53 52 PM\" src=\"https://user-images.githubusercontent.com/4141901/156965523-ee3c42bc-1829-48e0-b802-4a77c827d6c6.png\">\r\n \r\n[error_LazyChainMap_has_no_attribute_get.txt](https://github.com/saulpw/visidata/files/8194679/error_LazyChainMap_has_no_attribute_get.txt)\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/Users/jasonwirth/code/visidata/visidata/basesheet.py\", line 170, in execCommand\r\n    escaped = super().execCommand2(cmd, vdglobals=vdglobals)\r\n  File \"/Users/jasonwirth/code/visidata/visidata/basesheet.py\", line 72, in execCommand2\r\n    exec(code, vdglobals, LazyChainMap(vd, self))\r\n  File \"breakpoint\", line 1, in <module>\r\n  File \"/Users/jasonwirth/code/visidata/visidata/editor.py\", line 88, in _breakpoint\r\n    VisiDataPdb(nosigint=True).set_trace()\r\n  File \"/Users/jasonwirth/miniconda3/envs/visidata/lib/python3.9/bdb.py\", line 92, in trace_dispatch\r\n    return self.dispatch_return(frame, arg)\r\n  File \"/Users/jasonwirth/miniconda3/envs/visidata/lib/python3.9/bdb.py\", line 151, in dispatch_return\r\n    self.user_return(frame, arg)\r\n  File \"/Users/jasonwirth/miniconda3/envs/visidata/lib/python3.9/pdb.py\", line 294, in user_return\r\n    self.interaction(frame, None)\r\n  File \"/Users/jasonwirth/miniconda3/envs/visidata/lib/python3.9/site-packages/pdb.py\", line 216, in interaction\r\n    ret = self.setup(frame, traceback)\r\n  File \"/Users/jasonwirth/miniconda3/envs/visidata/lib/python3.9/site-packages/pdb.py\", line 259, in setup\r\n    ret = super(Pdb, self).setup(frame, tb)\r\n  File \"/Users/jasonwirth/miniconda3/envs/visidata/lib/python3.9/pdb.py\", line 209, in setup\r\n    self.stack, self.curindex = self.get_stack(f, tb)\r\n  File \"/Users/jasonwirth/miniconda3/envs/visidata/lib/python3.9/site-packages/pdb.py\", line 290, in get_stack\r\n    return self.compute_stack(fullstack, idx)\r\n  File \"/Users/jasonwirth/miniconda3/envs/visidata/lib/python3.9/site-packages/pdb.py\", line 301, in compute_stack\r\n    if self._is_hidden(frame):\r\n  File \"/Users/jasonwirth/miniconda3/envs/visidata/lib/python3.9/site-packages/pdb.py\", line 282, in _is_hidden\r\n    if frame.f_locals.get('__tracebackhide__') \\\r\nAttributeError: 'LazyChainMap' object has no attribute 'get'\r\n\r\n```\r\n\r\n\r\n\r\n**Steps to reproduce with sample data and a .\r\n[enter-breakpoint.vd.txt](https://github.com/saulpw/visidata/files/8194710/enter-breakpoint.vd.txt)\r\nvd**\r\n\r\n\r\n```\r\nsheet\tcol\trow\tlongname\tinput\tkeystrokes\tcomment\r\n\t\t\topen-file\tsample_data/countries\to\t\r\ncountries\t\t0\tbreakpoint\t\t\tdrop into pdb\r\n\r\n```\r\n\r\n**Additional context**\r\n```\r\nsaul.pw/VisiData v2.9dev\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1317/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1317/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1315", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1315/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1315/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1315/events", "html_url": "https://github.com/saulpw/visidata/issues/1315", "id": 1160832281, "node_id": "I_kwDOBEu2Gc5FMOUZ", "number": 1315, "title": "\"NameError: name 'PandasSheet' is not defined\" when creating a new sheet from selected rows.", "user": {"login": "jasonwirth", "id": 4141901, "node_id": "MDQ6VXNlcjQxNDE5MDE=", "avatar_url": "https://avatars.githubusercontent.com/u/4141901?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jasonwirth", "html_url": "https://github.com/jasonwirth", "followers_url": "https://api.github.com/users/jasonwirth/followers", "following_url": "https://api.github.com/users/jasonwirth/following{/other_user}", "gists_url": "https://api.github.com/users/jasonwirth/gists{/gist_id}", "starred_url": "https://api.github.com/users/jasonwirth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jasonwirth/subscriptions", "organizations_url": "https://api.github.com/users/jasonwirth/orgs", "repos_url": "https://api.github.com/users/jasonwirth/repos", "events_url": "https://api.github.com/users/jasonwirth/events{/privacy}", "received_events_url": "https://api.github.com/users/jasonwirth/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-03-07T02:45:49Z", "updated_at": "2022-03-10T03:11:31Z", "closed_at": "2022-03-09T19:01:55Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nReading a Parquet file uses the pandas loader. \r\nSelecting rows and pressing the quote `\"` to duplicate the sheet with the selected rows throws a `NameError`.\r\n\r\n**Expected result**\r\nNew sheet with the selected rows\r\n\r\n**Actual result with screenshot**\r\n[error_PandasSheet_not_defined.txt](https://github.com/saulpw/visidata/files/8194318/error_PandasSheet_not_defined.txt)\r\n\r\n```python\r\nTraceback (most recent call last):\r\n  File \"/Users/jasonwirth/code/visidata/visidata/basesheet.py\", line 170, in execCommand\r\n    escaped = super().execCommand2(cmd, vdglobals=vdglobals)\r\n  File \"/Users/jasonwirth/code/visidata/visidata/basesheet.py\", line 72, in execCommand2\r\n    exec(code, vdglobals, LazyChainMap(vd, self))\r\n  File \"dup-selected\", line 1, in <module>\r\nNameError: name 'PandasSheet' is not defined\r\n\r\n```\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n[select_parquet.vd.txt](https://github.com/saulpw/visidata/files/8194355/select_parquet.vd.txt)\r\n```\r\nsheet\tcol\trow\tlongname\tinput\tkeystrokes\tcomment\r\n\t\t\topen-file\tsample_data/sample.parquet\to\t\r\nsample\t\t0\tselect-row\t\ts\tselect current row\r\nsample\t\t1\tselect-row\t\ts\tselect current row\r\nsample\t\t2\tselect-row\t\ts\tselect current row\r\nsample\t\t\tdup-selected\t\t\"\topen duplicate sheet with only selected rows\r\n\r\n```\r\n\r\n**Additional context**\r\nPlease include the version of VisiData.\r\n```\r\n\u276f vd --version\r\nsaul.pw/VisiData v2.9dev\r\n```\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1315/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1315/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1312", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1312/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1312/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1312/events", "html_url": "https://github.com/saulpw/visidata/issues/1312", "id": 1160731510, "node_id": "I_kwDOBEu2Gc5FL1t2", "number": 1312, "title": "KeyError 'p33' when trying to use aggregators.", "user": {"login": "pnfnp", "id": 38131266, "node_id": "MDQ6VXNlcjM4MTMxMjY2", "avatar_url": "https://avatars.githubusercontent.com/u/38131266?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pnfnp", "html_url": "https://github.com/pnfnp", "followers_url": "https://api.github.com/users/pnfnp/followers", "following_url": "https://api.github.com/users/pnfnp/following{/other_user}", "gists_url": "https://api.github.com/users/pnfnp/gists{/gist_id}", "starred_url": "https://api.github.com/users/pnfnp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pnfnp/subscriptions", "organizations_url": "https://api.github.com/users/pnfnp/orgs", "repos_url": "https://api.github.com/users/pnfnp/repos", "events_url": "https://api.github.com/users/pnfnp/events{/privacy}", "received_events_url": "https://api.github.com/users/pnfnp/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2022-03-06T22:17:30Z", "updated_at": "2022-03-09T07:33:19Z", "closed_at": "2022-03-09T06:21:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Small description**\r\nUsing the `tertiles` `quartiles` `quintiles` `deciles` there's a key error with the first value `p%s` e.g `p33` or `p25` etc.\r\n \r\n<img width=\"492\" alt=\"image\" src=\"https://user-images.githubusercontent.com/38131266/156943247-09ec2c74-d39f-407a-a1e4-1aaf983c616f.png\">\r\n\r\n**Expected result**\r\nBeing able to use that `qn` functionality.\r\n\r\n**Actual result with screenshot**\r\n<img width=\"175\" alt=\"image\" src=\"https://user-images.githubusercontent.com/38131266/156944411-19525176-2560-40d6-b2cb-09ef617dcdc5.png\">\r\n<img width=\"1220\" alt=\"image\" src=\"https://user-images.githubusercontent.com/38131266/156943345-212b0647-ffbc-472a-8b4f-2169c492306f.png\">\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n1. Open a file.\r\n2. Select a column\r\n3. `+` select `q3` or `q5`\r\n4. Hit enter.\r\n\r\n**Additional context**\r\nVisiData v2.8\r\nPython3.9\r\nmacOS BigSur version 11.6.4 (20G417)\r\nI've added an additional option, `minetile` \ud83d\ude05 please don't pay attention, but it's not impacting the behaviour.", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1312/reactions", "total_count": 2, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 1}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1312/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1309", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1309/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1309/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1309/events", "html_url": "https://github.com/saulpw/visidata/issues/1309", "id": 1153427737, "node_id": "I_kwDOBEu2Gc5Ev-kZ", "number": 1309, "title": "[replay] Playback has issues when column names are numbers.", "user": {"login": "frosencrantz", "id": 631242, "node_id": "MDQ6VXNlcjYzMTI0Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/631242?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frosencrantz", "html_url": "https://github.com/frosencrantz", "followers_url": "https://api.github.com/users/frosencrantz/followers", "following_url": "https://api.github.com/users/frosencrantz/following{/other_user}", "gists_url": "https://api.github.com/users/frosencrantz/gists{/gist_id}", "starred_url": "https://api.github.com/users/frosencrantz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frosencrantz/subscriptions", "organizations_url": "https://api.github.com/users/frosencrantz/orgs", "repos_url": "https://api.github.com/users/frosencrantz/repos", "events_url": "https://api.github.com/users/frosencrantz/events{/privacy}", "received_events_url": "https://api.github.com/users/frosencrantz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-02-27T22:36:28Z", "updated_at": "2022-03-12T16:56:58Z", "closed_at": "2022-03-02T06:15:27Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nPlayback is confused by column names that are integers.\r\n\r\n**Expected result**\r\nPlayback identifies the column based on the name rather than position, when the name matches the number\r\n\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n\r\nData and cmdlog below.  When I playback it makes column 'b' an int column, but the original intention and behavior when recording was to make the column named '1' an int column.\r\n\r\nhttps://asciinema.org/a/PZE0vLiNr2kQtBkLUSYU9tmDW\r\n\r\nPerform an operation on a column with an integer name, save the cmdlog, play it back on the same data, and get a different\r\nresult.\r\n\r\n```csv\r\na,b,c,1\r\na1,b1,c1,1\r\na2,b2,c2,2\r\na3,b3,c3,3\r\n```\r\n\r\nCmdlog:\r\n```csv\r\nsheet   col     row     longname        input   keystrokes      comment\r\n                        open-file       data-number-cols.csv    o\r\ndata-number-cols        1               type-int                #       set type of current column to int\r\n```\r\n\r\n\r\n**Additional context**\r\nPlease include the version of VisiData. Latest version on develop.\r\n\r\n\r\nIt is easy to create a column with an integer number with the addcol-expr command with integer input.  My plan was to the edit the values for some rows.", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1309/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1309/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1302", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1302/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1302/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1302/events", "html_url": "https://github.com/saulpw/visidata/issues/1302", "id": 1148619092, "node_id": "I_kwDOBEu2Gc5EdolU", "number": 1302, "title": "[undo develop] undoing a reload blanks the entire sheet", "user": {"login": "anjakefala", "id": 7489659, "node_id": "MDQ6VXNlcjc0ODk2NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/7489659?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anjakefala", "html_url": "https://github.com/anjakefala", "followers_url": "https://api.github.com/users/anjakefala/followers", "following_url": "https://api.github.com/users/anjakefala/following{/other_user}", "gists_url": "https://api.github.com/users/anjakefala/gists{/gist_id}", "starred_url": "https://api.github.com/users/anjakefala/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anjakefala/subscriptions", "organizations_url": "https://api.github.com/users/anjakefala/orgs", "repos_url": "https://api.github.com/users/anjakefala/repos", "events_url": "https://api.github.com/users/anjakefala/events{/privacy}", "received_events_url": "https://api.github.com/users/anjakefala/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-02-23T21:53:12Z", "updated_at": "2022-03-02T05:41:19Z", "closed_at": "2022-03-02T05:41:13Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Since v2.5 undo for reload has been removed, and replaced with quitguard+confirm! However, in that case an undo should not be set.\r\n\r\nCurrent behaviour is that it blanks the sheet.", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1302/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1302/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1300", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1300/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1300/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1300/events", "html_url": "https://github.com/saulpw/visidata/issues/1300", "id": 1148377871, "node_id": "I_kwDOBEu2Gc5EctsP", "number": 1300, "title": "[v2.9dev] Disable adding new row in DirSheet", "user": {"login": "geekscrapy", "id": 11225502, "node_id": "MDQ6VXNlcjExMjI1NTAy", "avatar_url": "https://avatars.githubusercontent.com/u/11225502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geekscrapy", "html_url": "https://github.com/geekscrapy", "followers_url": "https://api.github.com/users/geekscrapy/followers", "following_url": "https://api.github.com/users/geekscrapy/following{/other_user}", "gists_url": "https://api.github.com/users/geekscrapy/gists{/gist_id}", "starred_url": "https://api.github.com/users/geekscrapy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geekscrapy/subscriptions", "organizations_url": "https://api.github.com/users/geekscrapy/orgs", "repos_url": "https://api.github.com/users/geekscrapy/repos", "events_url": "https://api.github.com/users/geekscrapy/events{/privacy}", "received_events_url": "https://api.github.com/users/geekscrapy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-02-23T17:30:57Z", "updated_at": "2022-03-02T05:28:59Z", "closed_at": "2022-03-02T05:28:49Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nUnless used, `add-row` should probably be disabled on DirSheet as it creates an error\r\n\r\n**Expected result**\r\nA warning to be shown to the user that a new row/file cannot be created.\r\n\r\n**Actual result with screenshot**\r\n![image](https://user-images.githubusercontent.com/11225502/155373843-aeef6d8e-cc96-4559-b3e6-dc9690aab25f.png)\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\nOpen vd directory with vd (`vd .`) and press `a`", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1300/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1300/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1299", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1299/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1299/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1299/events", "html_url": "https://github.com/saulpw/visidata/issues/1299", "id": 1148360989, "node_id": "I_kwDOBEu2Gc5Ecpkd", "number": 1299, "title": "[v2.9dev] unknown aggregator accepted in columns-sheet", "user": {"login": "geekscrapy", "id": 11225502, "node_id": "MDQ6VXNlcjExMjI1NTAy", "avatar_url": "https://avatars.githubusercontent.com/u/11225502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geekscrapy", "html_url": "https://github.com/geekscrapy", "followers_url": "https://api.github.com/users/geekscrapy/followers", "following_url": "https://api.github.com/users/geekscrapy/following{/other_user}", "gists_url": "https://api.github.com/users/geekscrapy/gists{/gist_id}", "starred_url": "https://api.github.com/users/geekscrapy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geekscrapy/subscriptions", "organizations_url": "https://api.github.com/users/geekscrapy/orgs", "repos_url": "https://api.github.com/users/geekscrapy/repos", "events_url": "https://api.github.com/users/geekscrapy/events{/privacy}", "received_events_url": "https://api.github.com/users/geekscrapy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2022-02-23T17:14:39Z", "updated_at": "2022-03-16T21:53:17Z", "closed_at": "2022-03-16T21:53:17Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nPreviously when manually adding the name of an aggregator in the `aggregators` column in the `columns-sheet`, if you didn't add the name correctly it would refuse to change the value. Now the input accepts _any_ value and you do not know it is wrong until you create a frequency analysis sheet.\r\n\r\n**Expected result**\r\nTo show a warning telling the user that it is invalid input and revert back to the previous state (as per previous vd releases)\r\n\r\n**Actual result with screenshot**\r\n![aggregator](https://user-images.githubusercontent.com/11225502/155372097-03234958-75f9-4da1-9589-9968c052b80d.gif)", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1299/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1299/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1298", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1298/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1298/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1298/events", "html_url": "https://github.com/saulpw/visidata/issues/1298", "id": 1148047649, "node_id": "I_kwDOBEu2Gc5EbdEh", "number": 1298, "title": "[Windows] Error msg: \"the procedure entry point ... could not be located\"", "user": {"login": "gilbh", "id": 39532610, "node_id": "MDQ6VXNlcjM5NTMyNjEw", "avatar_url": "https://avatars.githubusercontent.com/u/39532610?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gilbh", "html_url": "https://github.com/gilbh", "followers_url": "https://api.github.com/users/gilbh/followers", "following_url": "https://api.github.com/users/gilbh/following{/other_user}", "gists_url": "https://api.github.com/users/gilbh/gists{/gist_id}", "starred_url": "https://api.github.com/users/gilbh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gilbh/subscriptions", "organizations_url": "https://api.github.com/users/gilbh/orgs", "repos_url": "https://api.github.com/users/gilbh/repos", "events_url": "https://api.github.com/users/gilbh/events{/privacy}", "received_events_url": "https://api.github.com/users/gilbh/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}, {"id": 3885594880, "node_id": "LA_kwDOBEu2Gc7nmXkA", "url": "https://api.github.com/repos/saulpw/visidata/labels/windows", "name": "windows", "color": "E9156E", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2022-02-23T12:45:57Z", "updated_at": "2023-03-03T16:03:15Z", "closed_at": "2023-03-03T05:06:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "On running a .csv file, the program puts out this message:\r\n![image](https://user-images.githubusercontent.com/39532610/155321284-9c1985e7-debd-4257-8d1c-9f06ddf3c94e.png)\r\n\r\nNo \"Recent Error\" on `Ctrl-E`.\r\n[wa_trans_book.vd.log](https://github.com/saulpw/visidata/files/8124375/wa_trans_book.vd.log)\r\n\r\nVisidata version: 2.8\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1298/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1298/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1297", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1297/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1297/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1297/events", "html_url": "https://github.com/saulpw/visidata/issues/1297", "id": 1146287598, "node_id": "I_kwDOBEu2Gc5EUvXu", "number": 1297, "title": "Saving macro fails with NameError: name 'fnSuffix' is not defined", "user": {"login": "code86", "id": 34899034, "node_id": "MDQ6VXNlcjM0ODk5MDM0", "avatar_url": "https://avatars.githubusercontent.com/u/34899034?v=4", "gravatar_id": "", "url": "https://api.github.com/users/code86", "html_url": "https://github.com/code86", "followers_url": "https://api.github.com/users/code86/followers", "following_url": "https://api.github.com/users/code86/following{/other_user}", "gists_url": "https://api.github.com/users/code86/gists{/gist_id}", "starred_url": "https://api.github.com/users/code86/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/code86/subscriptions", "organizations_url": "https://api.github.com/users/code86/orgs", "repos_url": "https://api.github.com/users/code86/repos", "events_url": "https://api.github.com/users/code86/events{/privacy}", "received_events_url": "https://api.github.com/users/code86/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-02-21T22:53:36Z", "updated_at": "2022-02-22T02:17:46Z", "closed_at": "2022-02-22T02:16:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am still getting the same error message as the OP in bug report [#1280](https://github.com/saulpw/visidata/issues/1280). \r\n\r\nCtrl+E (error-recent) shows error was activated in line 39 of macros.py\r\n\r\nIn macros.py ([line 39](https://github.com/saulpw/visidata/blob/stable/visidata/macros.py)), `fnSuffix` is called with one argument.\r\n\r\nBut in cmdlog.py ([line 42](https://github.com/saulpw/visidata/blob/stable/visidata/cmdlog.py)), `fnSuffix` is defined with two parameters? (vd, prefix)\r\n\r\nCould that be the problem?\r\n\r\nNote: I am using a clean conda reinstallation in a new env, with \"conda update --all\" applied.\r\n\r\n---\r\n  File \"/Users/code86/opt/miniconda3/envs/env2/lib/python3.8/site-packages/visidata/macros.py\", line 39, in saveMacro\r\n    macropath = Path(fnSuffix(options.visidata_dir+\"macro\"))\r\nNameError: name 'fnSuffix' is not defined\r\n\r\n_Originally posted by @code86 in https://github.com/saulpw/visidata/issues/1280#issuecomment-1047218735_", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1297/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1297/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1291", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1291/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1291/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1291/events", "html_url": "https://github.com/saulpw/visidata/issues/1291", "id": 1139632905, "node_id": "I_kwDOBEu2Gc5D7WsJ", "number": 1291, "title": "python-dateutil should not be needed to run VisiData", "user": {"login": "anjakefala", "id": 7489659, "node_id": "MDQ6VXNlcjc0ODk2NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/7489659?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anjakefala", "html_url": "https://github.com/anjakefala", "followers_url": "https://api.github.com/users/anjakefala/followers", "following_url": "https://api.github.com/users/anjakefala/following{/other_user}", "gists_url": "https://api.github.com/users/anjakefala/gists{/gist_id}", "starred_url": "https://api.github.com/users/anjakefala/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anjakefala/subscriptions", "organizations_url": "https://api.github.com/users/anjakefala/orgs", "repos_url": "https://api.github.com/users/anjakefala/repos", "events_url": "https://api.github.com/users/anjakefala/events{/privacy}", "received_events_url": "https://api.github.com/users/anjakefala/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}, {"id": 3885594880, "node_id": "LA_kwDOBEu2Gc7nmXkA", "url": "https://api.github.com/repos/saulpw/visidata/labels/windows", "name": "windows", "color": "E9156E", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-02-16T07:23:30Z", "updated_at": "2022-03-29T05:22:57Z", "closed_at": "2022-03-29T05:22:50Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "VisiData uses `python-dateutil` for its **date** type. It is considered a non-optional dependency, and part of the default installations for every package of VisiData.\r\n\r\nHowever, if absent, VisiData should still be executable, if the **date** type is not being used.\r\n\r\n`bin/visidata`, an entrypoint set-up by pip, seems to add it as a run requirement. Possibly, because it is part of the `setup.py` `install_requires`.\r\n\r\nThe goal for this issue is to investigate that more, and see if it is possible to remove `python-dateutil` from `bin/visidata`'s run requirement.", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1291/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 1}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1291/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1290", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1290/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1290/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1290/events", "html_url": "https://github.com/saulpw/visidata/issues/1290", "id": 1139357440, "node_id": "I_kwDOBEu2Gc5D6TcA", "number": 1290, "title": "options.quitguard = True in my rc file doesn't prevent vd from silently quitting", "user": {"login": "halloleo", "id": 1521852, "node_id": "MDQ6VXNlcjE1MjE4NTI=", "avatar_url": "https://avatars.githubusercontent.com/u/1521852?v=4", "gravatar_id": "", "url": "https://api.github.com/users/halloleo", "html_url": "https://github.com/halloleo", "followers_url": "https://api.github.com/users/halloleo/followers", "following_url": "https://api.github.com/users/halloleo/following{/other_user}", "gists_url": "https://api.github.com/users/halloleo/gists{/gist_id}", "starred_url": "https://api.github.com/users/halloleo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/halloleo/subscriptions", "organizations_url": "https://api.github.com/users/halloleo/orgs", "repos_url": "https://api.github.com/users/halloleo/repos", "events_url": "https://api.github.com/users/halloleo/events{/privacy}", "received_events_url": "https://api.github.com/users/halloleo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-02-16T00:36:47Z", "updated_at": "2022-03-02T05:34:32Z", "closed_at": "2022-02-19T06:11:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Small description**\r\n\r\n`options.quitguard = True` in my ~/.visidatarc file doesn't prevent `vd` from quitting via `q` _without` any confirmation when I have modified the loaded CSV.\r\n\r\n**Expected result**\r\n\r\nWith `options.quitguard = True` in my `~/.visidatarc` file I expect after  I have modified the loaded CSV that `Q` asks me to confirm whether I want to quit despite the modifications.\r\n\r\n**Actual result with screenshot**\r\n\r\n`vd` quits directly despite the modifications.\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n\r\n1. Unzip the attached zip. \r\n2. Put the included `.visidatarc` in your rc file location (`~`) . \r\n3. Start `vd` with the included file `quitguard-sample.csv`. \r\n4. Then do the actions listed in the command log `quitguard-sample.vd`.\r\n5. Then quit with `Q`\r\n\r\n**Additional context**\r\n\r\nVersion of VisiData: v2.8\r\n\r\nZip file with the sample data: [quitguard_sample.zip](https://github.com/saulpw/visidata/files/8075676/quitguard_sample.zip)\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1290/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1290/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1284", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1284/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1284/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1284/events", "html_url": "https://github.com/saulpw/visidata/issues/1284", "id": 1132407990, "node_id": "I_kwDOBEu2Gc5Dfyy2", "number": 1284, "title": "[2.9dev] using \"d\" to delete a selected row doesn't remove from sheet.selectedRows", "user": {"login": "geekscrapy", "id": 11225502, "node_id": "MDQ6VXNlcjExMjI1NTAy", "avatar_url": "https://avatars.githubusercontent.com/u/11225502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geekscrapy", "html_url": "https://github.com/geekscrapy", "followers_url": "https://api.github.com/users/geekscrapy/followers", "following_url": "https://api.github.com/users/geekscrapy/following{/other_user}", "gists_url": "https://api.github.com/users/geekscrapy/gists{/gist_id}", "starred_url": "https://api.github.com/users/geekscrapy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geekscrapy/subscriptions", "organizations_url": "https://api.github.com/users/geekscrapy/orgs", "repos_url": "https://api.github.com/users/geekscrapy/repos", "events_url": "https://api.github.com/users/geekscrapy/events{/privacy}", "received_events_url": "https://api.github.com/users/geekscrapy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-02-11T11:24:29Z", "updated_at": "2022-03-02T05:13:58Z", "closed_at": "2022-03-02T05:13:49Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nWhen a row is deleted with `d`, it is not removed from `sheet.selectedRows`.\r\n\r\n**Expected result**\r\nFor the row to be removed like when `gd` is used.\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n1. open with `vd --config/=/dev/null file.csv`\r\n2. select a row with \"`t`\" \r\n3. delete that row with \"`d`\"\r\n4. `=vd.sheet.selectedRows` < should be 0", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1284/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1284/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1280", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1280/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1280/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1280/events", "html_url": "https://github.com/saulpw/visidata/issues/1280", "id": 1123213738, "node_id": "I_kwDOBEu2Gc5C8uGq", "number": 1280, "title": "Saving macro fails with NameError: name 'fnSuffix' is not defined", "user": {"login": "fatherofinvention", "id": 24985048, "node_id": "MDQ6VXNlcjI0OTg1MDQ4", "avatar_url": "https://avatars.githubusercontent.com/u/24985048?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fatherofinvention", "html_url": "https://github.com/fatherofinvention", "followers_url": "https://api.github.com/users/fatherofinvention/followers", "following_url": "https://api.github.com/users/fatherofinvention/following{/other_user}", "gists_url": "https://api.github.com/users/fatherofinvention/gists{/gist_id}", "starred_url": "https://api.github.com/users/fatherofinvention/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fatherofinvention/subscriptions", "organizations_url": "https://api.github.com/users/fatherofinvention/orgs", "repos_url": "https://api.github.com/users/fatherofinvention/repos", "events_url": "https://api.github.com/users/fatherofinvention/events{/privacy}", "received_events_url": "https://api.github.com/users/fatherofinvention/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2022-02-03T15:19:28Z", "updated_at": "2022-03-02T05:34:40Z", "closed_at": "2022-02-06T07:20:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Small description**\r\nWhen saving a recorded macro error **_NameError: name 'fnSuffix' is not defined_** is printed to the screen no matter what is entered as a keystroke. I have tried single characters, numbers, and strings, including keyboard modifiers and omiting them, but none of those combinations work.\r\n\r\n**Actual result with screenshot**\r\n<img width=\"1227\" alt=\"CleanShot 2022-02-03 at 09 17 48@2x\" src=\"https://user-images.githubusercontent.com/24985048/152371511-36d08cb0-216d-43cc-829e-28a2a56753e0.png\">\r\n\r\n`Traceback (most recent call last):\r\n  File \"/opt/homebrew/Cellar/visidata/2.8/libexec/lib/python3.9/site-packages/visidata/basesheet.py\", line 167, in execCommand\r\n    escaped = super().execCommand2(cmd, vdglobals=vdglobals)\r\n  File \"/opt/homebrew/Cellar/visidata/2.8/libexec/lib/python3.9/site-packages/visidata/basesheet.py\", line 69, in execCommand2\r\n    exec(code, vdglobals, LazyChainMap(vd, self))\r\n  File \"macro-record\", line 1, in <module>\r\n    import plugins.dedupe\r\n  File \"/opt/homebrew/Cellar/visidata/2.8/libexec/lib/python3.9/site-packages/visidata/macros.py\", line 60, in startMacro\r\n    vd.cmdlog.saveMacro(vd.macroMode.rows, ks)\r\n  File \"/opt/homebrew/Cellar/visidata/2.8/libexec/lib/python3.9/site-packages/visidata/macros.py\", line 39, in saveMacro\r\n    macropath = Path(fnSuffix(options.visidata_dir+\"macro\"))\r\nNameError: name 'fnSuffix' is not defined\r\n`\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n\r\n1. Record macro\r\n2. Enter anything into keystroke input\r\n3. Get error\r\n\r\n**Additional context**\r\nVisidata version: 2.8\r\nMacOS version: 12.2\r\nPython version: 3.9.10\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1280/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1280/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1278", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1278/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1278/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1278/events", "html_url": "https://github.com/saulpw/visidata/issues/1278", "id": 1119751334, "node_id": "I_kwDOBEu2Gc5Cvgym", "number": 1278, "title": "Confusing error message when trying to open a .feather file at the command line without pyarrow", "user": {"login": "theosanderson", "id": 19732295, "node_id": "MDQ6VXNlcjE5NzMyMjk1", "avatar_url": "https://avatars.githubusercontent.com/u/19732295?v=4", "gravatar_id": "", "url": "https://api.github.com/users/theosanderson", "html_url": "https://github.com/theosanderson", "followers_url": "https://api.github.com/users/theosanderson/followers", "following_url": "https://api.github.com/users/theosanderson/following{/other_user}", "gists_url": "https://api.github.com/users/theosanderson/gists{/gist_id}", "starred_url": "https://api.github.com/users/theosanderson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/theosanderson/subscriptions", "organizations_url": "https://api.github.com/users/theosanderson/orgs", "repos_url": "https://api.github.com/users/theosanderson/repos", "events_url": "https://api.github.com/users/theosanderson/events{/privacy}", "received_events_url": "https://api.github.com/users/theosanderson/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-01-31T17:56:47Z", "updated_at": "2022-01-31T21:06:51Z", "closed_at": "2022-01-31T18:12:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Small description**\r\nIf you try to directly open a .feather file with `visidata my_file.feather`, but you don't have the `pyarrow` library installed, the (expected) error message instructing you to install pyarrow is obfuscated by a further error message relating to `curses`. If you open visidata and then open the file, behaviour is normal.\r\n\r\n(Low priority issue)\r\n\r\n**Expected result**\r\n```$ visidata /Users/sandert/taxonium/backend/database/database.feather\r\nYou must install pyarrow to import feather files\r\n```\r\n\r\n**Actual result**\r\n```$ visidata /Users/sandert/taxonium/backend/database/database.feather\r\nTraceback (most recent call last):\r\n  File \"/Users/sandert/miniconda3/envs/armadillin/lib/python3.9/site-packages/visidata/mainloop.py\", line 326, in run\r\n    vd.push(vs)\r\n  File \"/Users/sandert/miniconda3/envs/armadillin/lib/python3.9/site-packages/visidata/sheets.py\", line 1056, in push\r\n    vs.ensureLoaded()\r\n  File \"/Users/sandert/miniconda3/envs/armadillin/lib/python3.9/site-packages/visidata/basesheet.py\", line 213, in ensureLoaded\r\n    return self.reload()   # likely launches new thread\r\n  File \"/Users/sandert/miniconda3/envs/armadillin/lib/python3.9/site-packages/visidata/loaders/_pandas.py\", line 124, in reload\r\n    df = readfunc(str(self.source), **options.getall('pandas_'+filetype+'_'))\r\n  File \"/Users/sandert/miniconda3/envs/armadillin/lib/python3.9/site-packages/pandas/io/feather_format.py\", line 123, in read_feather\r\n    import_optional_dependency(\"pyarrow\")\r\n  File \"/Users/sandert/miniconda3/envs/armadillin/lib/python3.9/site-packages/pandas/compat/_optional.py\", line 118, in import_optional_dependency\r\n    raise ImportError(msg) from None\r\nImportError: Missing optional dependency 'pyarrow'.  Use pip or conda to install pyarrow.\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/Users/sandert/miniconda3/envs/armadillin/bin/visidata\", line 8, in <module>\r\n    sys.exit(vd_cli())\r\n  File \"/Users/sandert/miniconda3/envs/armadillin/lib/python3.9/site-packages/visidata/main.py\", line 324, in vd_cli\r\n    rc = main_vd()\r\n  File \"/Users/sandert/miniconda3/envs/armadillin/lib/python3.9/site-packages/visidata/main.py\", line 289, in main_vd\r\n    run(vd.sheets[0])\r\n  File \"/Users/sandert/miniconda3/envs/armadillin/lib/python3.9/site-packages/visidata/vdobj.py\", line 31, in _vdfunc\r\n    return func(visidata.vd, *args, **kwargs)\r\n  File \"/Users/sandert/miniconda3/envs/armadillin/lib/python3.9/site-packages/visidata/mainloop.py\", line 331, in run\r\n    curses.endwin()\r\n_curses.error: must call initscr() first\r\n```\r\n\r\n**Additional context**\r\nv2.6\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1278/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1278/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1274", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1274/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1274/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1274/events", "html_url": "https://github.com/saulpw/visidata/issues/1274", "id": 1108999595, "node_id": "I_kwDOBEu2Gc5CGf2r", "number": 1274, "title": "[v2.9dev] [toggle-profile] name 'threading' is not defined", "user": {"login": "geekscrapy", "id": 11225502, "node_id": "MDQ6VXNlcjExMjI1NTAy", "avatar_url": "https://avatars.githubusercontent.com/u/11225502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geekscrapy", "html_url": "https://github.com/geekscrapy", "followers_url": "https://api.github.com/users/geekscrapy/followers", "following_url": "https://api.github.com/users/geekscrapy/following{/other_user}", "gists_url": "https://api.github.com/users/geekscrapy/gists{/gist_id}", "starred_url": "https://api.github.com/users/geekscrapy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geekscrapy/subscriptions", "organizations_url": "https://api.github.com/users/geekscrapy/orgs", "repos_url": "https://api.github.com/users/geekscrapy/repos", "events_url": "https://api.github.com/users/geekscrapy/events{/privacy}", "received_events_url": "https://api.github.com/users/geekscrapy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-01-20T08:23:45Z", "updated_at": "2022-01-20T16:53:12Z", "closed_at": "2022-01-20T08:25:26Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nLogging this quickly so I don't forget. Should be enough to replicate though.\r\n\r\n**Expected result**\r\nTo start profiling\r\n\r\n**Actual result with screenshot**\r\n`vd . --config=/dev/null` > `toggle-profile`\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/Users/geekscrapy/Documents/pyv/py3.7/lib/python3.7/site-packages/visidata/basesheet.py\", line 167, in execCommand\r\n    escaped = super().execCommand2(cmd, vdglobals=vdglobals)\r\n  File \"/Users/geekscrapy/Documents/pyv/py3.7/lib/python3.7/site-packages/visidata/basesheet.py\", line 69, in execCommand2\r\n    exec(code, vdglobals, LazyChainMap(vd, self))\r\n  File \"toggle-profile\", line 1, in <module>\r\n    'VisiData: a curses interface for exploring and arranging tabular data'\r\nNameError: name 'threading' is not defined\r\n```", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1274/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1274/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1273", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1273/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1273/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1273/events", "html_url": "https://github.com/saulpw/visidata/issues/1273", "id": 1107169269, "node_id": "I_kwDOBEu2Gc5B_g_1", "number": 1273, "title": "Not recognizing `CTRL` when running in tmux", "user": {"login": "robertdefilippi", "id": 9288605, "node_id": "MDQ6VXNlcjkyODg2MDU=", "avatar_url": "https://avatars.githubusercontent.com/u/9288605?v=4", "gravatar_id": "", "url": "https://api.github.com/users/robertdefilippi", "html_url": "https://github.com/robertdefilippi", "followers_url": "https://api.github.com/users/robertdefilippi/followers", "following_url": "https://api.github.com/users/robertdefilippi/following{/other_user}", "gists_url": "https://api.github.com/users/robertdefilippi/gists{/gist_id}", "starred_url": "https://api.github.com/users/robertdefilippi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/robertdefilippi/subscriptions", "organizations_url": "https://api.github.com/users/robertdefilippi/orgs", "repos_url": "https://api.github.com/users/robertdefilippi/repos", "events_url": "https://api.github.com/users/robertdefilippi/events{/privacy}", "received_events_url": "https://api.github.com/users/robertdefilippi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-01-18T17:19:34Z", "updated_at": "2022-01-18T19:21:01Z", "closed_at": "2022-01-18T19:21:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Small description**\r\n\r\nWhen running `visidata` inside a tmux window, the `ctrl` key is not being recognized. So, common commands like `ctrl h` cannot be called. I don't have this problem when running `visidata` outside of tmux.\r\n\r\n**Expected result**\r\n\r\nHave the `ctrl` key be recognized\r\n\r\n**Additional context**\r\n\r\nI would like to be able to send my logs, however, I cannot without the use of the `ctrl` key. I can see `tmux` recognizes the `ctrl` key, because I can see call `tmux` commands. I'm getting the impression the `ctrl` is just not being recognized first by `tmux` and not by `visidata`/\r\n\r\n```\r\n$ vd --version\r\nsaul.pw/VisiData v2.8\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1273/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1273/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1269", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1269/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1269/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1269/events", "html_url": "https://github.com/saulpw/visidata/issues/1269", "id": 1101378816, "node_id": "I_kwDOBEu2Gc5BpbUA", "number": 1269, "title": "Enter key does not work (only) on the menu, on Linux", "user": {"login": "gphilip", "id": 1097521, "node_id": "MDQ6VXNlcjEwOTc1MjE=", "avatar_url": "https://avatars.githubusercontent.com/u/1097521?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gphilip", "html_url": "https://github.com/gphilip", "followers_url": "https://api.github.com/users/gphilip/followers", "following_url": "https://api.github.com/users/gphilip/following{/other_user}", "gists_url": "https://api.github.com/users/gphilip/gists{/gist_id}", "starred_url": "https://api.github.com/users/gphilip/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gphilip/subscriptions", "organizations_url": "https://api.github.com/users/gphilip/orgs", "repos_url": "https://api.github.com/users/gphilip/repos", "events_url": "https://api.github.com/users/gphilip/events{/privacy}", "received_events_url": "https://api.github.com/users/gphilip/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-01-13T08:40:01Z", "updated_at": "2022-01-14T08:14:25Z", "closed_at": "2022-01-13T17:40:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Pressing the Enter key has no effect on menu items; Enter seems to work fine elsewhere**\r\n\r\nPressing Enter on any *menu* item has no effect. \r\n\r\nPressing Enter on *other parts* of the screen *does* have the intended effect:\r\n\r\n1. On the screen that shows the directory listing, pressing Enter on a file name *does* open the file\r\n2. If I press Enter on a row in one sheet, the contents of that row *do* get displayed in a new screen.\r\n\r\nAll other keys (that I tried) seem to be working fine.\r\n\r\nThis seems to be similar to #1154 and #741 , except this time it is on Linux.\r\n\r\n**Expected result**\r\n\r\nThe menu item should get \"executed\".\r\n\r\n\r\n**Additional context**\r\nThis is on Linux Mint:\r\n\r\n$vd --version\r\nsaul.pw/VisiData v2.7\r\n\r\n$uname -a\r\nLinux Desktop 5.4.0-91-generic #102-Ubuntu SMP Fri Nov 5 16:31:28 UTC 2021 x86_64 x86_64 x86_64 GNU/Linux\r\n\r\nVisidata was installed in Anaconda, with\r\n\r\n$ conda install -c conda-forge visidata\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1269/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1269/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1268", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1268/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1268/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1268/events", "html_url": "https://github.com/saulpw/visidata/issues/1268", "id": 1101202393, "node_id": "I_kwDOBEu2Gc5BowPZ", "number": 1268, "title": "Does not properly install on windows", "user": {"login": "schiltz3", "id": 45466247, "node_id": "MDQ6VXNlcjQ1NDY2MjQ3", "avatar_url": "https://avatars.githubusercontent.com/u/45466247?v=4", "gravatar_id": "", "url": "https://api.github.com/users/schiltz3", "html_url": "https://github.com/schiltz3", "followers_url": "https://api.github.com/users/schiltz3/followers", "following_url": "https://api.github.com/users/schiltz3/following{/other_user}", "gists_url": "https://api.github.com/users/schiltz3/gists{/gist_id}", "starred_url": "https://api.github.com/users/schiltz3/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/schiltz3/subscriptions", "organizations_url": "https://api.github.com/users/schiltz3/orgs", "repos_url": "https://api.github.com/users/schiltz3/repos", "events_url": "https://api.github.com/users/schiltz3/events{/privacy}", "received_events_url": "https://api.github.com/users/schiltz3/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2022-01-13T04:48:17Z", "updated_at": "2022-03-02T04:02:02Z", "closed_at": "2022-01-20T06:46:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Small description\r\n\r\nWhen following the instructions to install on windows, the vd file created is for Linux. It starts with a shebang and does not have an extension, so a dialog always opens asking what program you want to open it with.\r\nSecondly, \"curses\" does not come on windows, so you have to install \"windows-curses\" with pip.\r\n\r\n## Expected result\r\n\r\nAfter I install visidata I should be able to call `vd <filename>` from my terminal.\r\n\r\n## How I Fixed\r\n\r\nI fixed the issue by removing the shebang from the vd file, and renamed it to vd.py so that it would open with python\r\nThis is the resulting file:\r\n```python\r\n\r\nimport visidata.main\r\n\r\nif __name__ == '__main__':\r\n    visidata.main.vd_cli()\r\n```\r\n\r\nThe command ` vd.py <filename>` opens the file correctly\r\n## Additional context\r\n\r\nVisidata v2.8", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1268/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1268/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1267", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1267/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1267/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1267/events", "html_url": "https://github.com/saulpw/visidata/issues/1267", "id": 1101064508, "node_id": "I_kwDOBEu2Gc5BoOk8", "number": 1267, "title": "`AttributeError` executing `vd.addUndo` during `unset`", "user": {"login": "ajkerrigan", "id": 19539955, "node_id": "MDQ6VXNlcjE5NTM5OTU1", "avatar_url": "https://avatars.githubusercontent.com/u/19539955?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ajkerrigan", "html_url": "https://github.com/ajkerrigan", "followers_url": "https://api.github.com/users/ajkerrigan/followers", "following_url": "https://api.github.com/users/ajkerrigan/following{/other_user}", "gists_url": "https://api.github.com/users/ajkerrigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/ajkerrigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ajkerrigan/subscriptions", "organizations_url": "https://api.github.com/users/ajkerrigan/orgs", "repos_url": "https://api.github.com/users/ajkerrigan/repos", "events_url": "https://api.github.com/users/ajkerrigan/events{/privacy}", "received_events_url": "https://api.github.com/users/ajkerrigan/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-01-13T02:21:16Z", "updated_at": "2022-03-02T05:36:16Z", "closed_at": "2022-01-14T17:18:43Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "**Small description**\r\n\r\nIf I unset an option, I see an `AttributeError` trying to append to a non-existent `undofuncs` object.\r\n\r\n**Expected result**\r\n\r\nThe option is unset, with no error raised.\r\n\r\n**Actual result with screenshot**\r\nIf you get an unexpected error, please include the full stack trace that you get with `Ctrl-E`.\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/home/aj/code/visidata/visidata/basesheet.py\", line 165, in execCommand\r\n    hookfunc(self, cmd, '', keystrokes)\r\n  File \"/home/aj/code/visidata/visidata/cmdlog.py\", line 178, in beforeExecHook\r\n    self.afterExecSheet(sheet, False, '')\r\n  File \"/home/aj/code/visidata/visidata/macros.py\", line 54, in afterExecSheet\r\n    cmdlog.afterExecSheet.__wrapped__(cmdlog, sheet, escaped, err)\r\n  File \"/home/aj/code/visidata/visidata/cmdlog.py\", line 214, in afterExecSheet\r\n    if not sheet.cmdlog.rows or vd.isLoggableCommand(vd.activeCommand.longname):\r\n  File \"/home/aj/code/visidata/visidata/extensible.py\", line 48, in dofunc\r\n    return func(self)\r\n  File \"/home/aj/code/visidata/visidata/cmdlog.py\", line 422, in cmdlog\r\n    return CommandLog(sheet.name+'_cmdlog', source=sheet, rows=rows)\r\n  File \"/home/aj/code/visidata/visidata/extensible.py\", line 14, in newinit\r\n    oldinit(self, *args, **kwargs)\r\n  File \"/home/aj/code/visidata/visidata/extensible.py\", line 14, in newinit\r\n    oldinit(self, *args, **kwargs)\r\n  File \"/home/aj/code/visidata/visidata/sheets.py\", line 184, in __init__\r\n    super().__init__(*names, **kwargs)\r\n  File \"/home/aj/code/visidata/visidata/extensible.py\", line 14, in newinit\r\n    oldinit(self, *args, **kwargs)\r\n  File \"/home/aj/code/visidata/visidata/extensible.py\", line 14, in newinit\r\n    oldinit(self, *args, **kwargs)\r\n  File \"/home/aj/code/visidata/visidata/extensible.py\", line 14, in newinit\r\n    oldinit(self, *args, **kwargs)\r\n  [Previous line repeated 4 more times]\r\n  File \"/home/aj/code/visidata/visidata/basesheet.py\", line 94, in __init__\r\n    self.names = names\r\n  File \"/home/aj/code/visidata/visidata/basesheet.py\", line 192, in names\r\n    self.name = self.options.name_joiner.join(self.maybeClean(str(x)) for x in self._names)\r\n  File \"/home/aj/code/visidata/visidata/basesheet.py\", line 203, in name\r\n    vd.addUndo(setattr, self, '_names', self._names)\r\n  File \"/home/aj/code/visidata/visidata/undo.py\", line 29, in addUndo\r\n    r.undofuncs.append((undofunc, args, kwargs))\r\nAttributeError: 'NoneType' object has no attribute 'append'\r\n```\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\nPlease attach the commandlog (saved with `Ctrl-D`) to show the steps that led to the issue.\r\nSee [here](http://visidata.org/docs/save-restore/) for more details.\r\n\r\n- From inside a fresh VisiData session, go to the Options sheet\r\n- Unset any option\r\n\r\nOr, save this command log to `unset-undo-error.vdj`:\r\n\r\n```\r\n#!vd -p\r\n{\"longname\": \"open-file\", \"input\": \".\", \"keystrokes\": \"o\"}\r\n{\"sheet\": \"global\", \"row\": \"save_filetype\", \"longname\": \"unset-option\", \"input\": \"vdj\", \"keystrokes\": \"\"}\r\n```\r\n\r\nAnd run `vd -p unset-undo-error.vdj`. \r\n\r\n**Additional context**\r\nPlease include the version of VisiData.\r\n\r\nv2.9dev ( ff81d47 )\r\n\r\nNote: After I hit this error, my subsequent commands took a couple tries before they went through. I also needed a successful command before Ctrl+E showed the error.", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1267/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1267/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1262", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1262/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1262/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1262/events", "html_url": "https://github.com/saulpw/visidata/issues/1262", "id": 1098109752, "node_id": "I_kwDOBEu2Gc5Bc9M4", "number": 1262, "title": "[2.9] Need to use Space or Enter to get to first submenu", "user": {"login": "geekscrapy", "id": 11225502, "node_id": "MDQ6VXNlcjExMjI1NTAy", "avatar_url": "https://avatars.githubusercontent.com/u/11225502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geekscrapy", "html_url": "https://github.com/geekscrapy", "followers_url": "https://api.github.com/users/geekscrapy/followers", "following_url": "https://api.github.com/users/geekscrapy/following{/other_user}", "gists_url": "https://api.github.com/users/geekscrapy/gists{/gist_id}", "starred_url": "https://api.github.com/users/geekscrapy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geekscrapy/subscriptions", "organizations_url": "https://api.github.com/users/geekscrapy/orgs", "repos_url": "https://api.github.com/users/geekscrapy/repos", "events_url": "https://api.github.com/users/geekscrapy/events{/privacy}", "received_events_url": "https://api.github.com/users/geekscrapy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-01-10T16:33:55Z", "updated_at": "2022-01-12T08:06:19Z", "closed_at": "2022-01-12T05:57:43Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\n![Screen Shot 2022-01-10 at 20 29 50](https://user-images.githubusercontent.com/11225502/148801956-9b96aea6-7cba-4498-a186-dfc61198894c.png)\r\n\r\nUsing the keyboard, you cannot get to the sub items of \"Plot > Graph\". It just goes to the next main menu item, \"System\"\r\n\r\n**Expected result**\r\nTo be able to get to \"Graph\"s sub menu items using the keyboard.\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\nOpen vd, activate the menu, scroll to Plot menu item, try and go right to select the Graph sub items\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1262/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1262/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1259", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1259/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1259/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1259/events", "html_url": "https://github.com/saulpw/visidata/issues/1259", "id": 1092920890, "node_id": "I_kwDOBEu2Gc5BJKY6", "number": 1259, "title": "Menus not rendering as expected", "user": {"login": "DanLipsitt", "id": 578773, "node_id": "MDQ6VXNlcjU3ODc3Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/578773?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DanLipsitt", "html_url": "https://github.com/DanLipsitt", "followers_url": "https://api.github.com/users/DanLipsitt/followers", "following_url": "https://api.github.com/users/DanLipsitt/following{/other_user}", "gists_url": "https://api.github.com/users/DanLipsitt/gists{/gist_id}", "starred_url": "https://api.github.com/users/DanLipsitt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DanLipsitt/subscriptions", "organizations_url": "https://api.github.com/users/DanLipsitt/orgs", "repos_url": "https://api.github.com/users/DanLipsitt/repos", "events_url": "https://api.github.com/users/DanLipsitt/events{/privacy}", "received_events_url": "https://api.github.com/users/DanLipsitt/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 469750831, "node_id": "MDU6TGFiZWw0Njk3NTA4MzE=", "url": "https://api.github.com/repos/saulpw/visidata/labels/help%20wanted", "name": "help wanted", "color": "128A0C", "default": true, "description": null}, {"id": 3933391879, "node_id": "LA_kwDOBEu2Gc7qcswH", "url": "https://api.github.com/repos/saulpw/visidata/labels/unsolved", "name": "unsolved", "color": "fbca04", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 30, "created_at": "2022-01-04T00:43:33Z", "updated_at": "2023-04-22T04:02:23Z", "closed_at": "2022-03-16T05:37:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Small description**\r\nMenus look strange. See screenshot below. I also sometimes get junk characters left behind when menus close, but I don't have a repro for that.\r\n\r\n**Actual result with screenshot**\r\n![image](https://user-images.githubusercontent.com/578773/147994217-5bff8e20-4f3c-43b2-ad9f-ac3a46b2ba01.png)\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\nOpen any menu at any time. Window size and font don't seem to matter. I've tried:\r\n\r\n- [MesloLGS NF](https://github.com/romkatv/powerlevel10k/blob/master/font.md) (a fancy variant of Menlo)\r\n- Menlo (typical Mac default )\r\n- Courier\r\n\r\n**Additional context**\r\nVisidata: saul.pw/VisiData v2.8\r\niTerm2: 3.4.12 or Terminal.app: 2.11 \r\nMacOS: 11.2.3\r\n\r\nLet me know if there are any terminal parameters or env vars, etc that might help diagnose this.", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1259/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1259/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1254", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1254/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1254/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1254/events", "html_url": "https://github.com/saulpw/visidata/issues/1254", "id": 1087901070, "node_id": "I_kwDOBEu2Gc5A2A2O", "number": 1254, "title": "Custom type hexint does not always carry through to sub-sheets", "user": {"login": "bitwisecook", "id": 2267430, "node_id": "MDQ6VXNlcjIyNjc0MzA=", "avatar_url": "https://avatars.githubusercontent.com/u/2267430?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitwisecook", "html_url": "https://github.com/bitwisecook", "followers_url": "https://api.github.com/users/bitwisecook/followers", "following_url": "https://api.github.com/users/bitwisecook/following{/other_user}", "gists_url": "https://api.github.com/users/bitwisecook/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitwisecook/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitwisecook/subscriptions", "organizations_url": "https://api.github.com/users/bitwisecook/orgs", "repos_url": "https://api.github.com/users/bitwisecook/repos", "events_url": "https://api.github.com/users/bitwisecook/events{/privacy}", "received_events_url": "https://api.github.com/users/bitwisecook/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-12-23T17:53:19Z", "updated_at": "2021-12-29T11:37:45Z", "closed_at": "2021-12-29T11:37:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "In the f5log plugin I create a custom type \"hexint\", but when navigating to sub-sheets it does not always carry through.\r\n\r\nhttps://github.com/bitwisecook/visidata-f5log/blob/0.2.4/f5log.py#L20\r\n\r\n**Expected result**\r\nThe column should display as a hexint, the icon is present but the integers are base 10 instead of base 16.\r\n\r\n**Actual result with screenshot**\r\n![image](https://user-images.githubusercontent.com/2267430/147275628-f8b33f2f-de8c-4faa-9aad-6780584d0fa6.png)\r\n\r\n![image](https://user-images.githubusercontent.com/2267430/147275635-c928903f-c6a9-474a-831a-965c24a69fe8.png)\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n[testlog_logid1_freq.vd.txt](https://github.com/saulpw/visidata/files/7770765/testlog_logid1_freq.vd.txt)\r\n[testlog.log](https://github.com/saulpw/visidata/files/7770766/testlog.log)\r\n\r\n**Additional context**\r\n2.9.0-dev with f5log 0.2.4\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1254/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1254/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1252", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1252/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1252/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1252/events", "html_url": "https://github.com/saulpw/visidata/issues/1252", "id": 1087728184, "node_id": "I_kwDOBEu2Gc5A1Wo4", "number": 1252, "title": "Connection to mysql fails", "user": {"login": "twutz", "id": 96580884, "node_id": "U_kgDOBcG1FA", "avatar_url": "https://avatars.githubusercontent.com/u/96580884?v=4", "gravatar_id": "", "url": "https://api.github.com/users/twutz", "html_url": "https://github.com/twutz", "followers_url": "https://api.github.com/users/twutz/followers", "following_url": "https://api.github.com/users/twutz/following{/other_user}", "gists_url": "https://api.github.com/users/twutz/gists{/gist_id}", "starred_url": "https://api.github.com/users/twutz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/twutz/subscriptions", "organizations_url": "https://api.github.com/users/twutz/orgs", "repos_url": "https://api.github.com/users/twutz/repos", "events_url": "https://api.github.com/users/twutz/events{/privacy}", "received_events_url": "https://api.github.com/users/twutz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2021-12-23T13:42:11Z", "updated_at": "2022-01-12T13:39:09Z", "closed_at": "2022-01-05T04:48:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Small description**\r\nSince VisiData version 2.7 I get the error 'no loader for url scheme: mysql' when I try to connect to MySQL with 'vd mysql://username:password@hostname:port/database'.\r\n\r\n**Expected result**\r\nVisiData table with MySQL tablenames\r\n\r\n**Actual result with screenshot**\r\nError: no loader for url scheme: mysql\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\npip install -U visidata==2.7(2.7.1 or 2.8)\r\nmysql://username:password@hostname:port/database\r\n\r\n**Additional context**\r\nIf I go back to version 2.6.1 with 'pip install -U visidata==2.6.1', everything works as expected again", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1252/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1252/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1249", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1249/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1249/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1249/events", "html_url": "https://github.com/saulpw/visidata/issues/1249", "id": 1084593608, "node_id": "I_kwDOBEu2Gc5ApZXI", "number": 1249, "title": "Unable to edit SQLite data", "user": {"login": "dettmering", "id": 1725685, "node_id": "MDQ6VXNlcjE3MjU2ODU=", "avatar_url": "https://avatars.githubusercontent.com/u/1725685?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dettmering", "html_url": "https://github.com/dettmering", "followers_url": "https://api.github.com/users/dettmering/followers", "following_url": "https://api.github.com/users/dettmering/following{/other_user}", "gists_url": "https://api.github.com/users/dettmering/gists{/gist_id}", "starred_url": "https://api.github.com/users/dettmering/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dettmering/subscriptions", "organizations_url": "https://api.github.com/users/dettmering/orgs", "repos_url": "https://api.github.com/users/dettmering/repos", "events_url": "https://api.github.com/users/dettmering/events{/privacy}", "received_events_url": "https://api.github.com/users/dettmering/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-12-20T10:05:35Z", "updated_at": "2022-01-06T20:08:17Z", "closed_at": "2021-12-20T10:19:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am unable to edit any data in my SQLite database. The database is not protected in any way. \r\n\r\n**Expected result**\r\n\r\nAfter selecting a cell and pressing 'e', I expect to be able to edit the text and save it by pressing 'Enter'.\r\n\r\n**Actual result with screenshot**\r\nI get an error message.\r\n\r\n![grafik](https://user-images.githubusercontent.com/1725685/146749545-5a624e0d-e791-4007-be4a-514f79f671d6.png)\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\nThe actual db file cannot be shared openly. \r\n\r\n```\r\ntill@mars:~/doc/cv$ cat cmdlog-1.vd\r\nsheet   col     row     longname        input   keystrokes      comment\r\n                        open-file       db/cv.db        o\r\ncv_tables               2       dive-row                ^J\r\ncv_SKILLS       ID      \u30ad1     edit-cell       1       e\r\ncv_SKILLS       NAME_DE \u30ad2     edit-cell       sdfcsdf e\r\ncv_SKILLS       NAME_DE \u30ad62    edit-cell       B blah ootstrap 4       e\r\n```\r\n\r\n**Additional context**\r\nv1.5.2\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1249/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1249/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1245", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1245/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1245/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1245/events", "html_url": "https://github.com/saulpw/visidata/issues/1245", "id": 1083276166, "node_id": "I_kwDOBEu2Gc5AkXuG", "number": 1245, "title": "Narrow terminals/wide headings  garble/hide status line info", "user": {"login": "sirg", "id": 1130104, "node_id": "MDQ6VXNlcjExMzAxMDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1130104?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sirg", "html_url": "https://github.com/sirg", "followers_url": "https://api.github.com/users/sirg/followers", "following_url": "https://api.github.com/users/sirg/following{/other_user}", "gists_url": "https://api.github.com/users/sirg/gists{/gist_id}", "starred_url": "https://api.github.com/users/sirg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sirg/subscriptions", "organizations_url": "https://api.github.com/users/sirg/orgs", "repos_url": "https://api.github.com/users/sirg/repos", "events_url": "https://api.github.com/users/sirg/events{/privacy}", "received_events_url": "https://api.github.com/users/sirg/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-12-17T13:45:21Z", "updated_at": "2023-03-02T06:04:31Z", "closed_at": "2023-03-02T06:00:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Small description**\r\n80-column terminal causes status line info to be incomplete or hidden, when a column has a wide heading. Particularly inconvenient on operations, that prompt and output on the status line, e.g. column agg (memo-aggregate / z+).\r\n\r\n**Expected result**\r\n- Prompts, responses and results are visible on the status line in preference to other status line info\r\n- Maybe a way to recall last computed result that appeared on the status line?\r\n\r\n**Actual result with screenshot**\r\n[Prompt](https://drive.google.com/file/d/130DHeGvcGHunKwcPc1gege0HjAbQOVaA/view)\r\n[Result](https://drive.google.com/file/d/17XrA_YOjy8xF0OK3TKiCE0ed6glAMyxm/view)\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\nEasy to reproduce with any data where column heading is 20+ chars:\r\n- set term width to 80 columns\r\n- load a table\r\n- choose a column with wide heading (or create one)\r\n- sum the column\r\n\r\n**Additional context**\r\nv2.7.1\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1245/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1245/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1236", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1236/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1236/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1236/events", "html_url": "https://github.com/saulpw/visidata/issues/1236", "id": 1075877015, "node_id": "I_kwDOBEu2Gc5AIJSX", "number": 1236, "title": "Quitting sheet with \"quit-sheet-free\" throws error", "user": {"login": "geekscrapy", "id": 11225502, "node_id": "MDQ6VXNlcjExMjI1NTAy", "avatar_url": "https://avatars.githubusercontent.com/u/11225502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geekscrapy", "html_url": "https://github.com/geekscrapy", "followers_url": "https://api.github.com/users/geekscrapy/followers", "following_url": "https://api.github.com/users/geekscrapy/following{/other_user}", "gists_url": "https://api.github.com/users/geekscrapy/gists{/gist_id}", "starred_url": "https://api.github.com/users/geekscrapy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geekscrapy/subscriptions", "organizations_url": "https://api.github.com/users/geekscrapy/orgs", "repos_url": "https://api.github.com/users/geekscrapy/repos", "events_url": "https://api.github.com/users/geekscrapy/events{/privacy}", "received_events_url": "https://api.github.com/users/geekscrapy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-12-09T18:31:52Z", "updated_at": "2021-12-10T05:05:05Z", "closed_at": "2021-12-10T05:04:57Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nWhen `quit-sheet-free` is used on multiple sheets it seems to throw an error\r\n\r\n**Expected result**\r\nQuit the sheet as per `quit-sheet-free`\r\n\r\n**Actual result with screenshot**\r\nOpen vd with:\r\n`vd https://raw.githubusercontent.com/saulpw/visidata/stable/sample_data/StatusPR.csv https://raw.githubusercontent.com/saulpw/visidata/stable/sample_data/StatusPR.csv --config=/dev/null`\r\n\r\nThen do `quit-sheet-free` on the first sheet (no issues), then do a `quit-sheet-free` on the second sheet. It will throw the following error:\r\n\r\n```python\r\nTraceback (most recent call last):\r\n  File \"/usr/local/lib/python3.8/site-packages/visidata/basesheet.py\", line 162, in execCommand\r\n    escaped = super().execCommand2(cmd, vdglobals=vdglobals)\r\n  File \"/usr/local/lib/python3.8/site-packages/visidata/basesheet.py\", line 66, in execCommand2\r\n    exec(code, vdglobals, LazyChainMap(vd, self))\r\n  File \"quit-sheet-free\", line 1, in <module>\r\n    'VisiData: a curses interface for exploring and arranging tabular data'\r\n  File \"/usr/local/lib/python3.8/site-packages/visidata/sheets.py\", line 1100, in releaseMemory\r\n    vd.allSheets.remove(vs)\r\nValueError: list.remove(x): x not in list\r\n```\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\nPlease attach the commandlog (saved with `Ctrl-D`) to show the steps that led to the issue.\r\nSee [here](http://visidata.org/docs/save-restore/) for more details.\r\n\r\n**Additional context**\r\nv2.8 (7848ba98ae2faefd24a9098d17d0cc001aec7a08)", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1236/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1236/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1232", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1232/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1232/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1232/events", "html_url": "https://github.com/saulpw/visidata/issues/1232", "id": 1074035733, "node_id": "I_kwDOBEu2Gc5ABHwV", "number": 1232, "title": "[develop] Trouble running VisiData with `TERM` set to 'xterm'", "user": {"login": "anjakefala", "id": 7489659, "node_id": "MDQ6VXNlcjc0ODk2NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/7489659?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anjakefala", "html_url": "https://github.com/anjakefala", "followers_url": "https://api.github.com/users/anjakefala/followers", "following_url": "https://api.github.com/users/anjakefala/following{/other_user}", "gists_url": "https://api.github.com/users/anjakefala/gists{/gist_id}", "starred_url": "https://api.github.com/users/anjakefala/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anjakefala/subscriptions", "organizations_url": "https://api.github.com/users/anjakefala/orgs", "repos_url": "https://api.github.com/users/anjakefala/repos", "events_url": "https://api.github.com/users/anjakefala/events{/privacy}", "received_events_url": "https://api.github.com/users/anjakefala/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-12-08T05:47:16Z", "updated_at": "2021-12-09T05:04:56Z", "closed_at": "2021-12-09T05:04:47Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "(This might be a completely separate error from @ajkerrigan, neverless I can't run visidata without exporting the TERM variable.)\r\n\r\nI ran into a similar issue today. I can reproduce/fix my particular error on Docker.\r\n\r\nYou might want to try running `TERM=xterm-256color visidata` on your system.\r\n\r\n## to reproduce\r\n```\r\n$ docker run -it --rm --entrypoint /bin/bash python:3\r\n$ pip install visidata\r\n$ vd\r\nTraceback (most recent call last):\r\n  File \"/usr/local/bin/vd\", line 6, in <module>\r\n    visidata.main.vd_cli()\r\n  File \"/usr/local/lib/python3.10/site-packages/visidata/main.py\", line 327, in vd_cli\r\n    rc = main_vd()\r\n  File \"/usr/local/lib/python3.10/site-packages/visidata/main.py\", line 292, in main_vd\r\n    run(vd.sheets[0])\r\n  File \"/usr/local/lib/python3.10/site-packages/visidata/vdobj.py\", line 34, in _vdfunc\r\n    return func(visidata.vd, *args, **kwargs)\r\n  File \"/usr/local/lib/python3.10/site-packages/visidata/mainloop.py\", line 333, in run\r\n    ret = vd.mainloop(scr)\r\n  File \"/usr/local/lib/python3.10/site-packages/visidata/mainloop.py\", line 201, in mainloop\r\n    self.draw_all()\r\n  File \"/usr/local/lib/python3.10/site-packages/visidata/mainloop.py\", line 105, in draw_all\r\n    vd.draw_sheet(vd.win1, ss1[0])\r\n  File \"/usr/local/lib/python3.10/site-packages/visidata/mainloop.py\", line 30, in draw_sheet\r\n    scr.bkgd(' ', colors.color_default)\r\n  File \"/usr/local/lib/python3.10/site-packages/visidata/color.py\", line 62, in __getattr__\r\n    return self.get_color(optname).attr\r\n  File \"/usr/local/lib/python3.10/site-packages/visidata/color.py\", line 153, in get_color\r\n    r = self.colorcache[optname] = self._colornames_to_cattr(colornamestr, precedence)\r\n  File \"/usr/local/lib/python3.10/site-packages/visidata/color.py\", line 121, in _colornames_to_cattr\r\n    fg, bg, attrlist = self.split_colorstr(colornamestr)\r\n  File \"/usr/local/lib/python3.10/site-packages/visidata/color.py\", line 93, in split_colorstr\r\n    if self._get_colornum(x) is not None:   # only set known colors\r\n  File \"/usr/local/lib/python3.10/site-packages/visidata/color.py\", line 114, in _get_colornum\r\n    curses.init_pair(255, r, 0)\r\nValueError: Color pair is greater than COLOR_PAIRS-1 (63).\r\n```\r\n\r\n## solution\r\n```\r\n$ export TERM=xterm-256color\r\n$ vd\r\n# works as expceted\r\n```\r\n\r\n_Originally posted by @ryanmjacobs in https://github.com/saulpw/visidata/issues/1227#issuecomment-986263796_", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1232/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1232/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1229", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1229/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1229/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1229/events", "html_url": "https://github.com/saulpw/visidata/issues/1229", "id": 1071506124, "node_id": "I_kwDOBEu2Gc4_3eLM", "number": 1229, "title": "Visidata fails to recognize Postgres loader.", "user": {"login": "ryanmjacobs", "id": 4251257, "node_id": "MDQ6VXNlcjQyNTEyNTc=", "avatar_url": "https://avatars.githubusercontent.com/u/4251257?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ryanmjacobs", "html_url": "https://github.com/ryanmjacobs", "followers_url": "https://api.github.com/users/ryanmjacobs/followers", "following_url": "https://api.github.com/users/ryanmjacobs/following{/other_user}", "gists_url": "https://api.github.com/users/ryanmjacobs/gists{/gist_id}", "starred_url": "https://api.github.com/users/ryanmjacobs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ryanmjacobs/subscriptions", "organizations_url": "https://api.github.com/users/ryanmjacobs/orgs", "repos_url": "https://api.github.com/users/ryanmjacobs/repos", "events_url": "https://api.github.com/users/ryanmjacobs/events{/privacy}", "received_events_url": "https://api.github.com/users/ryanmjacobs/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-12-05T16:55:50Z", "updated_at": "2021-12-08T05:41:43Z", "closed_at": "2021-12-08T05:41:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Small description**\r\nCan't connect to Postgres using Visidata 2.7.1. Tested that it works on 2.5.\r\n\r\n**Expected result**\r\nIt should connect to Postgres.\r\n\r\n**Actual result with screenshot**\r\n```shell\r\nryan@ww ~ $ vd postgres://ryan@localhost/ryan\r\nError: no loader for url scheme: postgres\r\n```\r\n\r\n**extra**:\r\nI have psycopg2 installed. Everything works fine on 2.5 -- I just took a guess and picked an older version -- no idea if it works on 2.6, etc.\r\n\r\nIt has something to do with the `_open.py` loader, around line 46:\r\n```python\r\n        openfunc = getattr(vd, openfuncname, None) or vd.getGlobals().get(openfuncname, None)\r\n```\r\nopenfunc never gets returns properly. I've tried `postgres` and `postgresql` (given the recent patch that someone merged)", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1229/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1229/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1227", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1227/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1227/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1227/events", "html_url": "https://github.com/saulpw/visidata/issues/1227", "id": 1070189784, "node_id": "I_kwDOBEu2Gc4_yczY", "number": 1227, "title": "Color number is greater than COLORS-1 (-1)", "user": {"login": "ajkerrigan", "id": 19539955, "node_id": "MDQ6VXNlcjE5NTM5OTU1", "avatar_url": "https://avatars.githubusercontent.com/u/19539955?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ajkerrigan", "html_url": "https://github.com/ajkerrigan", "followers_url": "https://api.github.com/users/ajkerrigan/followers", "following_url": "https://api.github.com/users/ajkerrigan/following{/other_user}", "gists_url": "https://api.github.com/users/ajkerrigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/ajkerrigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ajkerrigan/subscriptions", "organizations_url": "https://api.github.com/users/ajkerrigan/orgs", "repos_url": "https://api.github.com/users/ajkerrigan/repos", "events_url": "https://api.github.com/users/ajkerrigan/events{/privacy}", "received_events_url": "https://api.github.com/users/ajkerrigan/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2021-12-03T03:48:19Z", "updated_at": "2021-12-08T05:46:18Z", "closed_at": "2021-12-08T05:46:18Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "**Small description**\r\n\r\nWhen running VisiData on Python 3.10.0 and replaying saved command log files, I was _sometimes_ seeing an error related to colors while drawing the right status.\r\n\r\n**Expected result**\r\n\r\nThere are no errors, and everyone is happy, and my tea is hot enough to drink but not hot enough to burn my tongue.\r\n\r\n**Actual result with screenshot**\r\nIf you get an unexpected error, please include the full stack trace that you get with `Ctrl-E`.\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/home/aj/.local/pipx/venvs/visidata/lib/python3.10/site-packages/visidata/statusbar.py\", line 194, in drawRightStatus\r\n    cattr = colors.get_color(coloropt)\r\n  File \"/home/aj/.local/pipx/venvs/visidata/lib/python3.10/site-packages/visidata/color.py\", line 153, in get_color\r\n    r = self.colorcache[optname] = self._colornames_to_cattr(colornamestr, precedence)\r\n  File \"/home/aj/.local/pipx/venvs/visidata/lib/python3.10/site-packages/visidata/color.py\", line 121, in _colornames_to_cattr\r\n    fg, bg, attrlist = self.split_colorstr(colornamestr)\r\n  File \"/home/aj/.local/pipx/venvs/visidata/lib/python3.10/site-packages/visidata/color.py\", line 93, in split_colorstr\r\n    if self._get_colornum(x) is not None:   # only set known colors\r\n  File \"/home/aj/.local/pipx/venvs/visidata/lib/python3.10/site-packages/visidata/color.py\", line 114, in _get_colornum\r\n    curses.init_pair(255, r, 0)\r\nValueError: Color number is greater than COLORS-1 (-1).\r\n```\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\nPlease attach the commandlog (saved with `Ctrl-D`) to show the steps that led to the issue.\r\nSee [here](http://visidata.org/docs/save-restore/) for more details.\r\n\r\nI hit this error using [this vdj file](https://github.com/ajkerrigan/advent_of_code/blob/master/2021/02/part1.vdj)... but not consistently :-/.\r\n\r\n**Additional context**\r\nPlease include the version of VisiData.\r\n\r\nv2.8dev (e53c1a5f82bdb2f3ebd6843ac8a6b00c14f4ebe4).\r\n\r\nThere were [curses changes](https://docs.python.org/3/whatsnew/3.10.html#curses) in Python 3.10 which may have something to do with this. When I did hit this error, I found that making a local change like [this](https://github.com/ajkerrigan/visidata/commit/b32a582d1b63f43c626391843b0308476c4ea355) worked around it. But... I don't know if that's a reasonable thing to do.\r\n\r\nSo this _may_ end up just being a placeholder issue in case someone else runs into the same problem while doing stuff that's less weird. Feel free to kondo in the meantime!", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1227/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1227/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1223", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1223/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1223/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1223/events", "html_url": "https://github.com/saulpw/visidata/issues/1223", "id": 1065143787, "node_id": "I_kwDOBEu2Gc4_fM3r", "number": 1223, "title": "[all columns] The gC command doesn't show all SQLite columns", "user": {"login": "frosencrantz", "id": 631242, "node_id": "MDQ6VXNlcjYzMTI0Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/631242?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frosencrantz", "html_url": "https://github.com/frosencrantz", "followers_url": "https://api.github.com/users/frosencrantz/followers", "following_url": "https://api.github.com/users/frosencrantz/following{/other_user}", "gists_url": "https://api.github.com/users/frosencrantz/gists{/gist_id}", "starred_url": "https://api.github.com/users/frosencrantz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frosencrantz/subscriptions", "organizations_url": "https://api.github.com/users/frosencrantz/orgs", "repos_url": "https://api.github.com/users/frosencrantz/repos", "events_url": "https://api.github.com/users/frosencrantz/events{/privacy}", "received_events_url": "https://api.github.com/users/frosencrantz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2237539092, "node_id": "MDU6TGFiZWwyMjM3NTM5MDky", "url": "https://api.github.com/repos/saulpw/visidata/labels/By%20Design", "name": "By Design", "color": "f9898f", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-11-27T23:45:51Z", "updated_at": "2021-11-28T17:20:12Z", "closed_at": "2021-11-28T00:55:13Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nThe `gC` command from a SQLite index sheet doesn't show all the columns from all the tables.\r\n\r\n**Expected result**\r\nThe `gC` command shows all the columns from all the SQLite tables in the database.  VisiData already knows all the columns, as part of loading the SQLite index sheet.\r\n\r\n**Actual result with screenshot**\r\nSorry no screenshot.  (My system is to create those is no longer available)\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\nOpen a SQLite database with multiple tables, run the gC command.  notice that the ColumnIndex sheet doesn't include all columns from all the tables from the SQLite database.  It will only show columns from any tables that you visited before  running the `gC` column.\r\n\r\n**Additional context**\r\nUsing the latest version on the `develop` branch of VisiData.\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1223/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1223/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1222", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1222/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1222/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1222/events", "html_url": "https://github.com/saulpw/visidata/issues/1222", "id": 1065138628, "node_id": "I_kwDOBEu2Gc4_fLnE", "number": 1222, "title": "[sqlite views] SQLite views show no rows.", "user": {"login": "frosencrantz", "id": 631242, "node_id": "MDQ6VXNlcjYzMTI0Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/631242?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frosencrantz", "html_url": "https://github.com/frosencrantz", "followers_url": "https://api.github.com/users/frosencrantz/followers", "following_url": "https://api.github.com/users/frosencrantz/following{/other_user}", "gists_url": "https://api.github.com/users/frosencrantz/gists{/gist_id}", "starred_url": "https://api.github.com/users/frosencrantz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frosencrantz/subscriptions", "organizations_url": "https://api.github.com/users/frosencrantz/orgs", "repos_url": "https://api.github.com/users/frosencrantz/repos", "events_url": "https://api.github.com/users/frosencrantz/events{/privacy}", "received_events_url": "https://api.github.com/users/frosencrantz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2021-11-27T23:15:28Z", "updated_at": "2021-12-09T05:35:56Z", "closed_at": "2021-12-09T05:35:56Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nVisiData shows no rows in a  view.  The index sheet shows the zero rows in views.\r\n\r\n**Expected result**\r\nVisiData shows all the rows in a view.  The index sheet shows the correct count of rows in views.\r\n\r\n**Actual result with screenshot**\r\nSorry no screenshot, but this will look the same as https://github.com/saulpw/visidata/issues/1111\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\nIt is easy to create sample data with the steps below, using the [`sample_data/employees.sqlite`](https://github.com/saulpw/visidata/blob/develop/sample_data/employees.sqlite) file.\r\n\r\n`cp sample_data/employees.sqlite employees_view.sqlite`\r\n`vd`\r\n`gCtrl-X`, Import library: `sqlite3`\r\n`exec-expr`:   `sqlite3.connect('employees_view.sqlite'); con.cursor().execute('create view emp_view as select * from emp'): con.commit()`\r\n`Ctrl-O`: open the file:  `employees_view.sqlite`\r\n\r\nVisiData should show that the `emp` and `emp_view` sheets have the same columns and rows, but it will show that `emp_view` is empty and has no rows.\r\n\r\n**Additional context**\r\nLatest `develop` branch version of VisiData.\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1222/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1222/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1217", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1217/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1217/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1217/events", "html_url": "https://github.com/saulpw/visidata/issues/1217", "id": 1062183711, "node_id": "I_kwDOBEu2Gc4_T6Mf", "number": 1217, "title": "[help-command] shows all commands, not subset for sheet feature/bug req", "user": {"login": "geekscrapy", "id": 11225502, "node_id": "MDQ6VXNlcjExMjI1NTAy", "avatar_url": "https://avatars.githubusercontent.com/u/11225502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geekscrapy", "html_url": "https://github.com/geekscrapy", "followers_url": "https://api.github.com/users/geekscrapy/followers", "following_url": "https://api.github.com/users/geekscrapy/following{/other_user}", "gists_url": "https://api.github.com/users/geekscrapy/gists{/gist_id}", "starred_url": "https://api.github.com/users/geekscrapy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geekscrapy/subscriptions", "organizations_url": "https://api.github.com/users/geekscrapy/orgs", "repos_url": "https://api.github.com/users/geekscrapy/repos", "events_url": "https://api.github.com/users/geekscrapy/events{/privacy}", "received_events_url": "https://api.github.com/users/geekscrapy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-11-24T09:20:55Z", "updated_at": "2021-11-28T01:09:29Z", "closed_at": "2021-11-28T01:09:29Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "- `help-commands` should show commands only relevant for the current sheet? But I don't think it does? I believe it shows all the commands? I dont see any filtering logic in `HelpSheet` regarding the sheet provided in the long command.\r\n- `help-commands-all` shows all commands for all sheet types\r\n\r\nThis feature request is twofold, to check the above (`help-commands` in particular), and secondary, to request the menu item `Command list` to be changed to `Sheet command list` (uses `help-commands`) and a new item be created `Global command list` (uses `help-commands-all`)", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1217/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1217/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1203", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1203/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1203/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1203/events", "html_url": "https://github.com/saulpw/visidata/issues/1203", "id": 1056498466, "node_id": "I_kwDOBEu2Gc4--OMi", "number": 1203, "title": "not able to open xls", "user": {"login": "Shahin-rmz", "id": 32805117, "node_id": "MDQ6VXNlcjMyODA1MTE3", "avatar_url": "https://avatars.githubusercontent.com/u/32805117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Shahin-rmz", "html_url": "https://github.com/Shahin-rmz", "followers_url": "https://api.github.com/users/Shahin-rmz/followers", "following_url": "https://api.github.com/users/Shahin-rmz/following{/other_user}", "gists_url": "https://api.github.com/users/Shahin-rmz/gists{/gist_id}", "starred_url": "https://api.github.com/users/Shahin-rmz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Shahin-rmz/subscriptions", "organizations_url": "https://api.github.com/users/Shahin-rmz/orgs", "repos_url": "https://api.github.com/users/Shahin-rmz/repos", "events_url": "https://api.github.com/users/Shahin-rmz/events{/privacy}", "received_events_url": "https://api.github.com/users/Shahin-rmz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-11-17T18:59:37Z", "updated_at": "2021-11-18T08:46:02Z", "closed_at": "2021-11-18T05:45:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Small description**\r\nxls 2007 does not show an data\r\n**Expected result**\r\nshow like a normal csv!\r\n**Actual result with screenshot**\r\n![image](https://user-images.githubusercontent.com/32805117/142264415-ecfd95d9-b983-40fb-a1b9-b86cc2475227.png)\r\n\r\n\r\n**Additional context**\r\n2.6.1\r\n\r\n\r\nHello, \r\nfirst of all thanks for \"vimalizing\" spreadsheet world. from the moment I git to now Visidata always used it for my data.\r\nrecently I got an excel file, which is normal size and not that big.\r\nbut I can not open it via visidata. by other tools such as libre office calc or gnumuric it's fine.\r\nwhat is the problem?\r\nThe excel is not confidential I will upload it here.\r\n\r\n[Book1_edit.xlsx](https://github.com/saulpw/visidata/files/7557262/Book1_edit.xlsx)\r\nThanks for support\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1203/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1203/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1200", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1200/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1200/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1200/events", "html_url": "https://github.com/saulpw/visidata/issues/1200", "id": 1056285195, "node_id": "I_kwDOBEu2Gc4-9aIL", "number": 1200, "title": "[infosec] cmdlog_histfile and input_history save location discrepency", "user": {"login": "geekscrapy", "id": 11225502, "node_id": "MDQ6VXNlcjExMjI1NTAy", "avatar_url": "https://avatars.githubusercontent.com/u/11225502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geekscrapy", "html_url": "https://github.com/geekscrapy", "followers_url": "https://api.github.com/users/geekscrapy/followers", "following_url": "https://api.github.com/users/geekscrapy/following{/other_user}", "gists_url": "https://api.github.com/users/geekscrapy/gists{/gist_id}", "starred_url": "https://api.github.com/users/geekscrapy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geekscrapy/subscriptions", "organizations_url": "https://api.github.com/users/geekscrapy/orgs", "repos_url": "https://api.github.com/users/geekscrapy/repos", "events_url": "https://api.github.com/users/geekscrapy/events{/privacy}", "received_events_url": "https://api.github.com/users/geekscrapy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-11-17T15:47:12Z", "updated_at": "2021-12-09T19:00:46Z", "closed_at": "2021-12-09T19:00:46Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\n`options.cmdlog_histfile` saves to the current directory where as `options.input_history` saves to the users `~/.visidata` directory\r\n\r\n**Expected result**\r\nBoth same to the same location if no path is provided.\r\n\r\n**Actual result with screenshot**\r\ngiven the below settings in my `.visdatarc`, `.input_history`will save to `~/.visidata`, but `.cmdlog_histfile` will save to the users current directory\r\n```\r\noptions.cmdlog_histfile = '.cmdlog_histfile'\r\noptions.input_history = '.input_history'\r\n```\r\n\r\nAdditionally, this may actually have other ramifications such as security of the `.cmdlog_histfile` if vd is used within a path that others have access to. Additionally, the user may not have write permissions to the current directory.\r\n\r\nFor the security reason alone I would suggest this is patched ASAP, if indeed this is a bug ;)", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1200/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1200/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1196", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1196/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1196/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1196/events", "html_url": "https://github.com/saulpw/visidata/issues/1196", "id": 1053363776, "node_id": "I_kwDOBEu2Gc4-yQ5A", "number": 1196, "title": "[menu system] ENTER does not work for mac", "user": {"login": "geekscrapy", "id": 11225502, "node_id": "MDQ6VXNlcjExMjI1NTAy", "avatar_url": "https://avatars.githubusercontent.com/u/11225502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geekscrapy", "html_url": "https://github.com/geekscrapy", "followers_url": "https://api.github.com/users/geekscrapy/followers", "following_url": "https://api.github.com/users/geekscrapy/following{/other_user}", "gists_url": "https://api.github.com/users/geekscrapy/gists{/gist_id}", "starred_url": "https://api.github.com/users/geekscrapy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geekscrapy/subscriptions", "organizations_url": "https://api.github.com/users/geekscrapy/orgs", "repos_url": "https://api.github.com/users/geekscrapy/repos", "events_url": "https://api.github.com/users/geekscrapy/events{/privacy}", "received_events_url": "https://api.github.com/users/geekscrapy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-11-15T08:42:22Z", "updated_at": "2021-11-22T07:53:36Z", "closed_at": "2021-11-16T06:27:29Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nI just tried to use the menu system. It all seems to work apart from ENTER (to select the option!)\r\n\r\n**Expected result**\r\nTo run the selected option\r\n\r\nNo errors, nada \ud83d\ude2c  Its like I'm not pressing any keys\r\n\r\n#1154 ", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1196/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1196/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1185", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1185/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1185/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1185/events", "html_url": "https://github.com/saulpw/visidata/issues/1185", "id": 1048635414, "node_id": "I_kwDOBEu2Gc4-gOgW", "number": 1185, "title": "Saving multiple tables: no function to save as type , set options.save_filetype ", "user": {"login": "aborruso", "id": 30607, "node_id": "MDQ6VXNlcjMwNjA3", "avatar_url": "https://avatars.githubusercontent.com/u/30607?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aborruso", "html_url": "https://github.com/aborruso", "followers_url": "https://api.github.com/users/aborruso/followers", "following_url": "https://api.github.com/users/aborruso/following{/other_user}", "gists_url": "https://api.github.com/users/aborruso/gists{/gist_id}", "starred_url": "https://api.github.com/users/aborruso/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aborruso/subscriptions", "organizations_url": "https://api.github.com/users/aborruso/orgs", "repos_url": "https://api.github.com/users/aborruso/repos", "events_url": "https://api.github.com/users/aborruso/events{/privacy}", "received_events_url": "https://api.github.com/users/aborruso/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2021-11-09T13:54:58Z", "updated_at": "2021-11-09T17:29:19Z", "closed_at": "2021-11-09T16:39:56Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\n\r\nI open some tables form web source. When I try to save all I have `no function to save as type , set options.save_filetype ` error.\r\n\r\nIt happens when I save to current folder `./`. If I use `sqlite` format output I have no problem.\r\n\r\n**Expected result**\r\n\r\nTo have all tables saved. \r\n\r\n**Actual result with screenshot**\r\n\r\n![image](https://user-images.githubusercontent.com/30607/140935469-8368f7d2-1015-4d86-acda-881fefe8db7e.png)\r\n\r\n`Ctrl-E` give me \"no error\"\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n\r\nMy log\r\n\r\n```\r\nsheet\tcol\trow\tlongname\tinput\tkeystrokes\tcomment\r\nglobal\t\tnull_value\tset-option\t\t\t\r\n\t\t\topen-file\thttps://lab24.ilsole24ore.com/ecosistema-urbano/indexT.php\to\t\r\nindexT\t\t\tselect-rows\t\tgs\tselect all rows\r\nindexT\tname\t\tsetcol-incr\t\tgi\tset current column for selected rows to incremental values\r\nindexT\t\t\tdive-selected\t\tgEnter\topen sheet with copies of rows referenced in selected rows\r\n```\r\n\r\n**Additional context**\r\nPlease include the version of VisiData.\r\n\r\nI'm using saul.pw/VisiData v2.7dev.\r\n\r\nThank you\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1185/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1185/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1181", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1181/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1181/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1181/events", "html_url": "https://github.com/saulpw/visidata/issues/1181", "id": 1047208208, "node_id": "I_kwDOBEu2Gc4-ayEQ", "number": 1181, "title": "[batch mode] When batch mode (-b) is used on a DirSheet, keycols aren't saved", "user": {"login": "geekscrapy", "id": 11225502, "node_id": "MDQ6VXNlcjExMjI1NTAy", "avatar_url": "https://avatars.githubusercontent.com/u/11225502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geekscrapy", "html_url": "https://github.com/geekscrapy", "followers_url": "https://api.github.com/users/geekscrapy/followers", "following_url": "https://api.github.com/users/geekscrapy/following{/other_user}", "gists_url": "https://api.github.com/users/geekscrapy/gists{/gist_id}", "starred_url": "https://api.github.com/users/geekscrapy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geekscrapy/subscriptions", "organizations_url": "https://api.github.com/users/geekscrapy/orgs", "repos_url": "https://api.github.com/users/geekscrapy/repos", "events_url": "https://api.github.com/users/geekscrapy/events{/privacy}", "received_events_url": "https://api.github.com/users/geekscrapy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-11-08T09:23:29Z", "updated_at": "2021-11-09T05:11:05Z", "closed_at": "2021-11-09T05:10:58Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nObscure, but I think valid! The columns `directory` and `filename` are not output when batch mode (`-b`) is used.\r\n\r\n**Expected result**\r\nFor the Sheet to be output the same as when the save feature is used in interactive mode\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n`vd --config=/dev/null ~/Downloads -o - -b --save_filetype=csv`\r\n\r\nIf you use the following to un-keycol `directory` and `filename` columns, it works as expected.\r\n\r\n`vd --config=/dev/null ~/Downloads -o - -b --play unkeycol.vd --save_filetype=csv`\r\n\r\nunkeycol.vd\r\n```\r\nsheet\tcol\trow\tlongname\tinput\tkeystrokes\tcomment\r\nglobal\t\tsave_filetype\tset-option\tcsv\t\t\r\n\t\t\topen-file\t~/Downloads\to\t\r\nDownloads\tfilename\t\tkey-col\t\t!\ttoggle current column as a key column\r\nDownloads\tdirectory\t\tkey-col\t\t!\ttoggle current column as a key column\r\n```\r\n\r\n**Additional context**\r\nCommit: https://github.com/saulpw/visidata/commit/9ce048d0378de0211e53f1591d79c8fbed39dff1", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1181/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1181/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1180", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1180/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1180/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1180/events", "html_url": "https://github.com/saulpw/visidata/issues/1180", "id": 1047178467, "node_id": "I_kwDOBEu2Gc4-aqzj", "number": 1180, "title": "[save-selected] default save filename is not valid", "user": {"login": "geekscrapy", "id": 11225502, "node_id": "MDQ6VXNlcjExMjI1NTAy", "avatar_url": "https://avatars.githubusercontent.com/u/11225502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geekscrapy", "html_url": "https://github.com/geekscrapy", "followers_url": "https://api.github.com/users/geekscrapy/followers", "following_url": "https://api.github.com/users/geekscrapy/following{/other_user}", "gists_url": "https://api.github.com/users/geekscrapy/gists{/gist_id}", "starred_url": "https://api.github.com/users/geekscrapy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geekscrapy/subscriptions", "organizations_url": "https://api.github.com/users/geekscrapy/orgs", "repos_url": "https://api.github.com/users/geekscrapy/repos", "events_url": "https://api.github.com/users/geekscrapy/events{/privacy}", "received_events_url": "https://api.github.com/users/geekscrapy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2021-11-08T08:55:15Z", "updated_at": "2021-11-15T01:59:31Z", "closed_at": "2021-11-15T01:59:06Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nWhen doing a `save-selected` the default sheet name is invalid, see the screenshot below\r\n\r\n**Expected result**\r\nFor the suggested file name to be valid and useable. Maybe something like '`sheet1_sheet2_.csv`'.\r\n\r\n**Actual result with screenshot**\r\n![image](https://user-images.githubusercontent.com/11225502/140711890-afa742c8-0927-4d79-ab51-c06a54dcdb89.png)\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\nOpen a number of sheets, go to `sheets-stack` select a few and do `save-selected`. This gives a stringified list rather than a proper name.\r\n\r\n**Additional context**\r\nCommit: https://github.com/saulpw/visidata/commit/9ce048d0378de0211e53f1591d79c8fbed39dff1\r\n\r\nThis seems to work:\r\n`IndexSheet.addCommand('g^S', 'save-selected', 'vd.saveSheets(inputPath(\"save %d sheets to: \" % nSelectedRows, value=\"_\".join(vs.name or \"blank\" for vs in source)), *selectedRows, confirm_overwrite=options.confirm_overwrite)', 'save all selected sheets to given file or directory')`\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1180/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1180/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1171", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1171/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1171/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1171/events", "html_url": "https://github.com/saulpw/visidata/issues/1171", "id": 1045362667, "node_id": "I_kwDOBEu2Gc4-Tvfr", "number": 1171, "title": "Unexpected behavior when unfurling an exception-value", "user": {"login": "jsvine", "id": 534702, "node_id": "MDQ6VXNlcjUzNDcwMg==", "avatar_url": "https://avatars.githubusercontent.com/u/534702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsvine", "html_url": "https://github.com/jsvine", "followers_url": "https://api.github.com/users/jsvine/followers", "following_url": "https://api.github.com/users/jsvine/following{/other_user}", "gists_url": "https://api.github.com/users/jsvine/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsvine/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsvine/subscriptions", "organizations_url": "https://api.github.com/users/jsvine/orgs", "repos_url": "https://api.github.com/users/jsvine/repos", "events_url": "https://api.github.com/users/jsvine/events{/privacy}", "received_events_url": "https://api.github.com/users/jsvine/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-11-05T01:09:14Z", "updated_at": "2021-11-05T04:36:43Z", "closed_at": "2021-11-05T04:35:22Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\n\r\nThis one's slightly arcane. If you unfurl a column that contains a exception/error, VisiData repeats the unfurled values of the previous row instead of [insert some null-like behavior]. Taking a concrete example, take the JSON file in this ZIP:\r\n[test.zip](https://github.com/saulpw/visidata/files/7479778/test.zip)\r\n\r\n\r\n... whose Sheet representation is such:\r\n\r\n```\r\nid#| text \u2551\r\n 1 | abc  \u2551\r\n 2 |     \u2300\u2551\r\n 3 | de   \u2551\r\n```\r\n\r\nThen create a new column, such that it generates a cell with an error in it (because `None` has no `.strip()` method):\r\n\r\n```\r\nid#| text | list(text.strip()) \u2551\r\n 1 | abc  | [3]                \u2551\r\n 2 |     \u2300|                   !\u2551\r\n 3 | de   | [2]                \u2551\r\n```\r\n\r\nNow navigate to that new column and run `unfurl-col` ...\r\n\r\n**Expected result**\r\n\r\nI would have expected something like this (or without the `id`:`2` row entirely if `options.unfurl_empty` is `False`):\r\n\r\n```\r\nid#| text | list(text.strip())\u2026| list(text.strip())_value \u2551\r\n 1 | abc  | 0                 #| a                        \u2551\r\n 1 | abc  | 1                 #| b                        \u2551\r\n 1 | abc  | 2                 #| c                        \u2551\r\n 2 |     \u2300| 0                 #|                         !\u2551\r\n 3 | de   | 0                 #| d                        \u2551\r\n 3 | de   | 1                 #| e                        \u2551\r\n```\r\n\r\n**Actual result with screenshot**\r\n\r\nBut instead, you get this:\r\n\r\n```\r\nid#| text | list(text.strip())\u2026| list(text.strip())_value \u2551\r\n 1 | abc  | 0                 #| a                        \u2551\r\n 1 | abc  | 1                 #| b                        \u2551\r\n 1 | abc  | 2                 #| c                        \u2551\r\n 2 |     \u2300| 0                 #| a                        \u2551\r\n 2 |     \u2300| 1                 #| b                        \u2551\r\n 2 |     \u2300| 2                 #| c                        \u2551\r\n 3 | de   | 0                 #| d                        \u2551\r\n 3 | de   | 1                 #| e                        \u2551\r\n```\r\n\r\n... plus the following stacktrace:\r\n\r\n```python\r\nTraceback (most recent call last):\r\n  File \"src/visidata/visidata/unfurl.py\", line 36, in reload\r\n    val = self.source_col.getValue(row)\r\n  File \"src/visidata/visidata/column.py\", line 273, in getValue\r\n    return self.calcValue(row)\r\n  File \"src/visidata/visidata/column.py\", line 528, in calcValue\r\n    r = self.sheet.evalExpr(self.compiledExpr, row, col=self)\r\n  File \"src/visidata/visidata/sheets.py\", line 362, in evalExpr\r\n    return eval(expr, vd.getGlobals(), contexts)\r\n  File \"Downloads/<expr>\", line 1, in <module>\r\nAttributeError: 'TypedWrapper' object has no attribute 'strip'\r\n```\r\n\r\nI *think* the issue may be that there's a missing `continue` at the end of this bit of `except`-block, but I might be wrong about that:\r\n\r\nhttps://github.com/saulpw/visidata/blob/dc8cef4980bdef07fd3640be8c92b9e3dc8be9dc/visidata/unfurl.py#L37-L44\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n\r\nSee `test.vd` in ZIP file above.\r\n\r\n**Additional context**\r\n\r\n`visidata-2.7.dev` / d655caf44295c3c95af397206a46f1f637681367\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1171/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1171/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1168", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1168/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1168/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1168/events", "html_url": "https://github.com/saulpw/visidata/issues/1168", "id": 1043749426, "node_id": "I_kwDOBEu2Gc4-Nloy", "number": 1168, "title": "Input lag moving between lines and columns", "user": {"login": "robertdefilippi", "id": 9288605, "node_id": "MDQ6VXNlcjkyODg2MDU=", "avatar_url": "https://avatars.githubusercontent.com/u/9288605?v=4", "gravatar_id": "", "url": "https://api.github.com/users/robertdefilippi", "html_url": "https://github.com/robertdefilippi", "followers_url": "https://api.github.com/users/robertdefilippi/followers", "following_url": "https://api.github.com/users/robertdefilippi/following{/other_user}", "gists_url": "https://api.github.com/users/robertdefilippi/gists{/gist_id}", "starred_url": "https://api.github.com/users/robertdefilippi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/robertdefilippi/subscriptions", "organizations_url": "https://api.github.com/users/robertdefilippi/orgs", "repos_url": "https://api.github.com/users/robertdefilippi/repos", "events_url": "https://api.github.com/users/robertdefilippi/events{/privacy}", "received_events_url": "https://api.github.com/users/robertdefilippi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-11-03T15:32:11Z", "updated_at": "2021-11-09T02:54:26Z", "closed_at": "2021-11-09T02:54:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Small description**\r\nWhen scrolling through rows and columns, if I move more than a few columns or rows at a time (maybe 5 or more) there is a lag after I release the keys and the on screen selection continues to move as if it is still collecting commands from the keyboard.\r\n\r\n**Expected result**\r\nWhen the keys on the keyboard are released, the selection movement also stops.\r\n\r\n**Actual result with screenshot**\r\n\r\nNot an error message, but this is what I get when calling CRTL + E\r\n\r\n![image](https://user-images.githubusercontent.com/9288605/140090778-d1f42876-034c-4d16-a78c-ea08ee17b217.png)\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n\r\nMaybe this is part of the issue, as then I try to get the command log it says I have no keystrokes even after moving around the file.\r\n\r\n![image](https://user-images.githubusercontent.com/9288605/140091679-1b36cf5a-7fd3-4c66-bd5f-a71c8e2c01a3.png)\r\n\r\n**Additional context**\r\n\r\n```\r\n\u276f vd -v\r\nsaul.pw/VisiData v2.6.1\r\n```\r\n\r\nWould love to help debug this if possible!\r\n\r\nThank you!", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1168/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1168/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1166", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1166/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1166/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1166/events", "html_url": "https://github.com/saulpw/visidata/issues/1166", "id": 1042476696, "node_id": "I_kwDOBEu2Gc4-Iu6Y", "number": 1166, "title": "[splitwin-input] crashes when >96 is used", "user": {"login": "geekscrapy", "id": 11225502, "node_id": "MDQ6VXNlcjExMjI1NTAy", "avatar_url": "https://avatars.githubusercontent.com/u/11225502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geekscrapy", "html_url": "https://github.com/geekscrapy", "followers_url": "https://api.github.com/users/geekscrapy/followers", "following_url": "https://api.github.com/users/geekscrapy/following{/other_user}", "gists_url": "https://api.github.com/users/geekscrapy/gists{/gist_id}", "starred_url": "https://api.github.com/users/geekscrapy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geekscrapy/subscriptions", "organizations_url": "https://api.github.com/users/geekscrapy/orgs", "repos_url": "https://api.github.com/users/geekscrapy/repos", "events_url": "https://api.github.com/users/geekscrapy/events{/privacy}", "received_events_url": "https://api.github.com/users/geekscrapy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-11-02T15:01:30Z", "updated_at": "2021-11-06T06:26:56Z", "closed_at": "2021-11-03T05:09:00Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nI was just trying out split win and came across this issue. I appreciate that a window of less than a row height is not super useful, but it is a halting bug.\r\n\r\n**Expected result**\r\nTo be told that the value is not valid, and not crash\r\n\r\n**Actual result**\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/Users/geekscrapy/Documents/pyv/py3.7/bin/vd\", line 6, in <module>\r\n    visidata.main.vd_cli()\r\n  File \"/Users/geekscrapy/Documents/pyv/py3.7/lib/python3.7/site-packages/visidata/main.py\", line 327, in vd_cli\r\n    rc = main_vd()\r\n  File \"/Users/geekscrapy/Documents/pyv/py3.7/lib/python3.7/site-packages/visidata/main.py\", line 292, in main_vd\r\n    run(vd.sheets[0])\r\n  File \"/Users/geekscrapy/Documents/pyv/py3.7/lib/python3.7/site-packages/visidata/vdobj.py\", line 34, in _vdfunc\r\n    return func(visidata.vd, *args, **kwargs)\r\n  File \"/Users/geekscrapy/Documents/pyv/py3.7/lib/python3.7/site-packages/visidata/mainloop.py\", line 329, in run\r\n    ret = vd.mainloop(scr)\r\n  File \"/Users/geekscrapy/Documents/pyv/py3.7/lib/python3.7/site-packages/visidata/mainloop.py\", line 195, in mainloop\r\n    vd.setWindows(vd.scrFull)\r\n  File \"/Users/geekscrapy/Documents/pyv/py3.7/lib/python3.7/site-packages/visidata/mainloop.py\", line 70, in setWindows\r\n    vd.winBottom = scr.derwin(h-n-topmenulines, w, n+topmenulines, 0)\r\n_curses.error: curses function returned NULL\r\n```\r\n\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n`vd .`\r\n\r\n```\r\nsheet\tcol\trow\tlongname\tinput\tkeystrokes\tcomment\r\n\t\t\topen-file\t.\to\t\r\n\t\t\tsplitwin-input\t99\tzShift+Z\tset split pane to specific size\r\n```\r\nvd crashes\r\n\r\n**Additional context**\r\nCommit: 29d9ea3ba1d0f250650593977fb11ad29886311f", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1166/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1166/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1162", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1162/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1162/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1162/events", "html_url": "https://github.com/saulpw/visidata/issues/1162", "id": 1036274036, "node_id": "I_kwDOBEu2Gc49xEl0", "number": 1162, "title": "[v2.7dev] [random-rows] NameError: name 'random' is not defined", "user": {"login": "geekscrapy", "id": 11225502, "node_id": "MDQ6VXNlcjExMjI1NTAy", "avatar_url": "https://avatars.githubusercontent.com/u/11225502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geekscrapy", "html_url": "https://github.com/geekscrapy", "followers_url": "https://api.github.com/users/geekscrapy/followers", "following_url": "https://api.github.com/users/geekscrapy/following{/other_user}", "gists_url": "https://api.github.com/users/geekscrapy/gists{/gist_id}", "starred_url": "https://api.github.com/users/geekscrapy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geekscrapy/subscriptions", "organizations_url": "https://api.github.com/users/geekscrapy/orgs", "repos_url": "https://api.github.com/users/geekscrapy/repos", "events_url": "https://api.github.com/users/geekscrapy/events{/privacy}", "received_events_url": "https://api.github.com/users/geekscrapy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-10-26T13:03:45Z", "updated_at": "2021-11-02T04:45:26Z", "closed_at": "2021-11-02T03:53:09Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nThe following error is shown after the integer is given for the command `random-rows`:\r\n\r\n`NameError: name 'random' is not defined`\r\n\r\n**Expected result**\r\nProvide a subsheet of the number of random rows\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1162/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1162/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1160", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1160/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1160/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1160/events", "html_url": "https://github.com/saulpw/visidata/issues/1160", "id": 1034169252, "node_id": "I_kwDOBEu2Gc49pCuk", "number": 1160, "title": "What to do when visidata freeze? (often happen with bigger dataset) ", "user": {"login": "Awannaphasch2016", "id": 28061800, "node_id": "MDQ6VXNlcjI4MDYxODAw", "avatar_url": "https://avatars.githubusercontent.com/u/28061800?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Awannaphasch2016", "html_url": "https://github.com/Awannaphasch2016", "followers_url": "https://api.github.com/users/Awannaphasch2016/followers", "following_url": "https://api.github.com/users/Awannaphasch2016/following{/other_user}", "gists_url": "https://api.github.com/users/Awannaphasch2016/gists{/gist_id}", "starred_url": "https://api.github.com/users/Awannaphasch2016/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Awannaphasch2016/subscriptions", "organizations_url": "https://api.github.com/users/Awannaphasch2016/orgs", "repos_url": "https://api.github.com/users/Awannaphasch2016/repos", "events_url": "https://api.github.com/users/Awannaphasch2016/events{/privacy}", "received_events_url": "https://api.github.com/users/Awannaphasch2016/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-10-23T13:36:31Z", "updated_at": "2021-10-25T00:02:06Z", "closed_at": "2021-10-25T00:02:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Small description**\r\nusually visidata freeze when I send some command (for example, it freezes because I open new frequency sheets) \r\n\r\n**Expected result**\r\nnot freeze\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\ndataset is  2.312841 GB.\r\n\r\n**Additional context**\r\n\r\nvisidata version = saul.pw/VisiData v2.6.1\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1160/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1160/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1159", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1159/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1159/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1159/events", "html_url": "https://github.com/saulpw/visidata/issues/1159", "id": 1032097237, "node_id": "I_kwDOBEu2Gc49hI3V", "number": 1159, "title": "[develop] Updating *.gz files corrupts archives", "user": {"login": "anjakefala", "id": 7489659, "node_id": "MDQ6VXNlcjc0ODk2NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/7489659?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anjakefala", "html_url": "https://github.com/anjakefala", "followers_url": "https://api.github.com/users/anjakefala/followers", "following_url": "https://api.github.com/users/anjakefala/following{/other_user}", "gists_url": "https://api.github.com/users/anjakefala/gists{/gist_id}", "starred_url": "https://api.github.com/users/anjakefala/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anjakefala/subscriptions", "organizations_url": "https://api.github.com/users/anjakefala/orgs", "repos_url": "https://api.github.com/users/anjakefala/repos", "events_url": "https://api.github.com/users/anjakefala/events{/privacy}", "received_events_url": "https://api.github.com/users/anjakefala/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-10-21T06:09:08Z", "updated_at": "2021-11-06T04:38:41Z", "closed_at": "2021-11-06T04:38:41Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "**Small description**\r\nWhen saving a `.json.gz`, the next time the archive is opened, we get this stacktrace:\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/home/kefala/git/visidata/visidata/loaders/json.py\", line 38, in iterload\r\n    ret = json.loads(L, object_hook=AttrDict)\r\n  File \"/usr/lib/python3.8/json/__init__.py\", line 370, in loads\r\n    return cls(**kw).decode(s)\r\n  File \"/usr/lib/python3.8/json/decoder.py\", line 337, in decode\r\n    obj, end = self.raw_decode(s, idx=_w(s, 0).end())\r\n  File \"/usr/lib/python3.8/json/decoder.py\", line 355, in raw_decode\r\n    raise JSONDecodeError(\"Expecting value\", s, err.value) from None\r\njson.decoder.JSONDecodeError: Expecting value: line 2 column 1 (char 2)\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/home/kefala/git/visidata/visidata/threads.py\", line 206, in _toplevelTryFunc\r\n    t.status = func(*args, **kwargs)\r\n  File \"/home/kefala/git/visidata/visidata/sheets.py\", line 289, in reload\r\n    for r in self.iterload():\r\n  File \"/home/kefala/git/visidata/visidata/loaders/json.py\", line 50, in iterload\r\n    ret = json.load(fp)\r\n  File \"/usr/lib/python3.8/json/__init__.py\", line 293, in load\r\n    return loads(fp.read(),\r\n  File \"/usr/lib/python3.8/gzip.py\", line 292, in read\r\n    return self._buffer.read(size)\r\n  File \"/usr/lib/python3.8/gzip.py\", line 498, in read\r\n    raise EOFError(\"Compressed file ended before the \"\r\nEOFError: Compressed file ended before the end-of-stream marker was reached\r\n```\r\n\r\n**Expected result**\r\nSaved archives can be opened as before.\r\n\r\n\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n\r\n```\r\nvd sample_data/y77-th95.json.gz\r\nCtrl+S\r\nvd sample_data/y77-th95.json.gz\r\n```\r\n\r\n**Additional context**\r\nFirst commit: d40361aa2d1649e49f0cfd623687114e4a231ec6\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1159/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1159/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1156", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1156/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1156/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1156/events", "html_url": "https://github.com/saulpw/visidata/issues/1156", "id": 1028433523, "node_id": "I_kwDOBEu2Gc49TKZz", "number": 1156, "title": "SQLite databases with invalid unicode not supported", "user": {"login": "WesleyAC", "id": 5001092, "node_id": "MDQ6VXNlcjUwMDEwOTI=", "avatar_url": "https://avatars.githubusercontent.com/u/5001092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/WesleyAC", "html_url": "https://github.com/WesleyAC", "followers_url": "https://api.github.com/users/WesleyAC/followers", "following_url": "https://api.github.com/users/WesleyAC/following{/other_user}", "gists_url": "https://api.github.com/users/WesleyAC/gists{/gist_id}", "starred_url": "https://api.github.com/users/WesleyAC/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/WesleyAC/subscriptions", "organizations_url": "https://api.github.com/users/WesleyAC/orgs", "repos_url": "https://api.github.com/users/WesleyAC/repos", "events_url": "https://api.github.com/users/WesleyAC/events{/privacy}", "received_events_url": "https://api.github.com/users/WesleyAC/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2021-10-17T20:48:21Z", "updated_at": "2021-10-31T23:32:51Z", "closed_at": "2021-10-31T23:32:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Small description**\r\n\r\nOpening a SQLite database will fail when a cell in a TEXT column has invalid unicode characters\r\n\r\n**Expected result**\r\n\r\nEither the specific cell that has invalid unicode is not imported, or it is imported but the invalid characters are stripped or slash-escaped.\r\n\r\n**Actual result with screenshot**\r\n\r\n![error screenshot](https://user-images.githubusercontent.com/5001092/137644252-3474128c-52be-40cb-89bb-6b13498169d7.png)\r\n\r\n![error screenshot](https://user-images.githubusercontent.com/5001092/137644398-e3b388e3-ebfe-476e-94b3-ede0a418223f.png)\r\n\r\n(those are errors from two different DBs that I've seen this problem on)\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n\r\nHere's a SQLite file that has this problem: https://hack.wesleyac.com/test.sqlite\r\n\r\n**Additional context**\r\n\r\n`vd --version`: `saul.pw/VisiData v2.4`\r\n\r\ndbcli/litecli#89 is a similar issue in a different python project, which may have useful context for fixing this\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1156/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1156/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1155", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1155/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1155/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1155/events", "html_url": "https://github.com/saulpw/visidata/issues/1155", "id": 1028349755, "node_id": "I_kwDOBEu2Gc49S187", "number": 1155, "title": "Ctrl-q exits with ModuleNotFoundError", "user": {"login": "eigenfoo", "id": 19851673, "node_id": "MDQ6VXNlcjE5ODUxNjcz", "avatar_url": "https://avatars.githubusercontent.com/u/19851673?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eigenfoo", "html_url": "https://github.com/eigenfoo", "followers_url": "https://api.github.com/users/eigenfoo/followers", "following_url": "https://api.github.com/users/eigenfoo/following{/other_user}", "gists_url": "https://api.github.com/users/eigenfoo/gists{/gist_id}", "starred_url": "https://api.github.com/users/eigenfoo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eigenfoo/subscriptions", "organizations_url": "https://api.github.com/users/eigenfoo/orgs", "repos_url": "https://api.github.com/users/eigenfoo/repos", "events_url": "https://api.github.com/users/eigenfoo/events{/privacy}", "received_events_url": "https://api.github.com/users/eigenfoo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-10-17T14:59:29Z", "updated_at": "2021-10-18T02:43:17Z", "closed_at": "2021-10-18T02:43:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Small description**\r\n\r\nExiting Visidata with Ctrl-q ([as documented here](https://www.visidata.org/docs/pipes/)) fails with a `ModuleNotFoundError` for `plugins`\r\n\r\n**Expected result**\r\n\r\nExit successfully with the current sheet in stdout.\r\n\r\n**Actual result with screenshot**\r\n\r\n```bash\r\n(base) george@eigenfoo.local:~\r\n$ vd  # Ctrl-q to exit\r\nTraceback (most recent call last):\r\n  File \"/usr/local/Cellar/visidata/2.6.1/libexec/lib/python3.9/site-packages/visidata/settings.py\", line 364, in loadConfigAndPlugins\r\n    vd.addGlobals(importlib.import_module(modname).__dict__)\r\n  File \"/usr/local/Cellar/python@3.9/3.9.7_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/importlib/__init__.py\", line 127, in import_module\r\n    return _bootstrap._gcd_import(name[level:], package, level)\r\n  File \"<frozen importlib._bootstrap>\", line 1030, in _gcd_import\r\n  File \"<frozen importlib._bootstrap>\", line 1007, in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 984, in _find_and_load_unlocked\r\nModuleNotFoundError: No module named 'plugins'\r\n```\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n\r\nN/A\r\n\r\n**Additional context**\r\n\r\n\r\nI think the issue comes in the following lines, as `ModuleNotFoundError` is not a subclass of `Exception`... but I'm not even sure what `plugins` module I'm even supposed to have? \r\n\r\nhttps://github.com/saulpw/visidata/blob/666e30329878b74678d24c300e1c50ceb7aa0666/visidata/settings.py#L363-L367\r\n\r\n```bash\r\n>>> isinstance(ModuleNotFoundError, Exception)\r\nFalse\r\n```\r\n\r\n```bash\r\n(base) george@eigenfoo.local:~\r\n$ vd --version  # Installed via brew\r\nsaul.pw/VisiData v2.6.1\r\n```", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1155/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1155/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1154", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1154/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1154/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1154/events", "html_url": "https://github.com/saulpw/visidata/issues/1154", "id": 1026430307, "node_id": "I_kwDOBEu2Gc49LhVj", "number": 1154, "title": "Issue with Enter key", "user": {"login": "hossam-houssien", "id": 6001135, "node_id": "MDQ6VXNlcjYwMDExMzU=", "avatar_url": "https://avatars.githubusercontent.com/u/6001135?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hossam-houssien", "html_url": "https://github.com/hossam-houssien", "followers_url": "https://api.github.com/users/hossam-houssien/followers", "following_url": "https://api.github.com/users/hossam-houssien/following{/other_user}", "gists_url": "https://api.github.com/users/hossam-houssien/gists{/gist_id}", "starred_url": "https://api.github.com/users/hossam-houssien/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hossam-houssien/subscriptions", "organizations_url": "https://api.github.com/users/hossam-houssien/orgs", "repos_url": "https://api.github.com/users/hossam-houssien/repos", "events_url": "https://api.github.com/users/hossam-houssien/events{/privacy}", "received_events_url": "https://api.github.com/users/hossam-houssien/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2021-10-14T13:54:09Z", "updated_at": "2021-12-02T15:13:19Z", "closed_at": "2021-11-13T17:06:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Enter key issue**\n\nOn my laptop pressing Enter key in any visidata screens doesn't do any action and it displays at the screen bottom Ctrl+M ,\nIt only work when writing command and search", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1154/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1154/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1145", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1145/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1145/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1145/events", "html_url": "https://github.com/saulpw/visidata/issues/1145", "id": 1019719018, "node_id": "I_kwDOBEu2Gc48x61q", "number": 1145, "title": "After installing 2.6.1 I get a ModuleNotFoundError", "user": {"login": "halloleo", "id": 1521852, "node_id": "MDQ6VXNlcjE1MjE4NTI=", "avatar_url": "https://avatars.githubusercontent.com/u/1521852?v=4", "gravatar_id": "", "url": "https://api.github.com/users/halloleo", "html_url": "https://github.com/halloleo", "followers_url": "https://api.github.com/users/halloleo/followers", "following_url": "https://api.github.com/users/halloleo/following{/other_user}", "gists_url": "https://api.github.com/users/halloleo/gists{/gist_id}", "starred_url": "https://api.github.com/users/halloleo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/halloleo/subscriptions", "organizations_url": "https://api.github.com/users/halloleo/orgs", "repos_url": "https://api.github.com/users/halloleo/repos", "events_url": "https://api.github.com/users/halloleo/events{/privacy}", "received_events_url": "https://api.github.com/users/halloleo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2021-10-07T07:39:09Z", "updated_at": "2021-10-15T07:02:21Z", "closed_at": "2021-10-07T16:50:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Small description**\r\n\r\nAfter installing 2.6.1 I get a ModuleNotFoundError when starting up `vd file.csv`.\r\n\r\n**Expected result**\r\n\r\nNo Error after startup.\r\n\r\n**Actual result with screenshot**\r\n\r\nHere the stack trace via `Ctrl-E`:\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"[...]/lib/python3.6/site-packages/visidata/settings.py\", line 364, in loadConfigAndPlugins\r\n    vd.addGlobals(importlib.import_module(modname).__dict__)\r\n  File \"/usr/local/lib/python3.6/importlib/__init__.py\", line 126, in import_module\r\n    return _bootstrap._gcd_import(name[level:], package, level)\r\n  File \"<frozen importlib._bootstrap>\", line 994, in _gcd_import\r\n  File \"<frozen importlib._bootstrap>\", line 971, in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 953, in _find_and_load_unlocked\r\nModuleNotFoundError: No module named 'plugins'\r\n```\r\n\r\n**Additional context**\r\n\r\nThe problem even happens when I just execute `vd` without any file.\r\n\r\nNew version 2.6.1, old version 2,4\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1145/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1145/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1141", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1141/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1141/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1141/events", "html_url": "https://github.com/saulpw/visidata/issues/1141", "id": 1019351943, "node_id": "I_kwDOBEu2Gc48whOH", "number": 1141, "title": "Replay with a `join-sheets` operation hangs on 2.6.1", "user": {"login": "agjohnson", "id": 1140183, "node_id": "MDQ6VXNlcjExNDAxODM=", "avatar_url": "https://avatars.githubusercontent.com/u/1140183?v=4", "gravatar_id": "", "url": "https://api.github.com/users/agjohnson", "html_url": "https://github.com/agjohnson", "followers_url": "https://api.github.com/users/agjohnson/followers", "following_url": "https://api.github.com/users/agjohnson/following{/other_user}", "gists_url": "https://api.github.com/users/agjohnson/gists{/gist_id}", "starred_url": "https://api.github.com/users/agjohnson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/agjohnson/subscriptions", "organizations_url": "https://api.github.com/users/agjohnson/orgs", "repos_url": "https://api.github.com/users/agjohnson/repos", "events_url": "https://api.github.com/users/agjohnson/events{/privacy}", "received_events_url": "https://api.github.com/users/agjohnson/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2021-10-06T22:17:34Z", "updated_at": "2021-10-12T05:17:59Z", "closed_at": "2021-10-12T05:17:52Z", "author_association": "NONE", "active_lock_reason": null, "body": ":wave: \r\n\r\nI noticed an issue with a replay file on version 2.6.0/2.6.1. If I replay a cmdlog with a join operation, visidata hangs right after the join operation. I get a blank sheet and the status is \"Processing...\". If I try to close the sheet and redo the join, it still hangs. I even have to `kill -9` the pid to exit.\r\n\r\n![image](https://user-images.githubusercontent.com/1140183/136290649-b28df854-6861-41ed-b88e-3d96ccec00d3.png)\r\n\r\nI don't have any problems manually joining the sheets, it just seems to be the replay that is affected.\r\n\r\nIf I back down to 2.5.0, replay works as expected.\r\n\r\nSystem is linux, Python version 3.9.4.\r\n\r\n#### Reproducing\r\n\r\nHere's an example gist:\r\n\r\nhttps://gist.github.com/agjohnson/6b0d639b2aa622b338d2ab3fa3f2bef6\r\n\r\nI am running:\r\n\r\n```poetry run vd -p bug.vd```\r\n\r\nIf I install 2.6.1, I can reproduce the hang with my gist. If I back down to 2.5.0, visidata does not hang.", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1141/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1141/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1137", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1137/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1137/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1137/events", "html_url": "https://github.com/saulpw/visidata/issues/1137", "id": 1014445524, "node_id": "I_kwDOBEu2Gc48dzXU", "number": 1137, "title": "slide-bottom and slide-up don't work with Shift+ up/down arrow keys", "user": {"login": "a-y-u-s-h", "id": 19586719, "node_id": "MDQ6VXNlcjE5NTg2NzE5", "avatar_url": "https://avatars.githubusercontent.com/u/19586719?v=4", "gravatar_id": "", "url": "https://api.github.com/users/a-y-u-s-h", "html_url": "https://github.com/a-y-u-s-h", "followers_url": "https://api.github.com/users/a-y-u-s-h/followers", "following_url": "https://api.github.com/users/a-y-u-s-h/following{/other_user}", "gists_url": "https://api.github.com/users/a-y-u-s-h/gists{/gist_id}", "starred_url": "https://api.github.com/users/a-y-u-s-h/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/a-y-u-s-h/subscriptions", "organizations_url": "https://api.github.com/users/a-y-u-s-h/orgs", "repos_url": "https://api.github.com/users/a-y-u-s-h/repos", "events_url": "https://api.github.com/users/a-y-u-s-h/events{/privacy}", "received_events_url": "https://api.github.com/users/a-y-u-s-h/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-10-03T16:11:52Z", "updated_at": "2021-10-04T14:55:56Z", "closed_at": "2021-10-04T14:55:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Small description**\r\n`Shift+Left Arrow Key` and `Shift+Right Arrow Key` moves the columns left and right, but moving rows up and down doesn't work with `Shift+Up/Down` - the bindings don't exist. `Shift+J/K` works though. But it would be better to have arrow key support for this as well. ", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1137/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1137/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1136", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1136/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1136/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1136/events", "html_url": "https://github.com/saulpw/visidata/issues/1136", "id": 1013774857, "node_id": "I_kwDOBEu2Gc48bPoJ", "number": 1136, "title": "[2.7] [IndexSheet] Sheets loaded by IndexSheet are not cancellable from within the loading subsheet", "user": {"login": "geekscrapy", "id": 11225502, "node_id": "MDQ6VXNlcjExMjI1NTAy", "avatar_url": "https://avatars.githubusercontent.com/u/11225502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geekscrapy", "html_url": "https://github.com/geekscrapy", "followers_url": "https://api.github.com/users/geekscrapy/followers", "following_url": "https://api.github.com/users/geekscrapy/following{/other_user}", "gists_url": "https://api.github.com/users/geekscrapy/gists{/gist_id}", "starred_url": "https://api.github.com/users/geekscrapy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geekscrapy/subscriptions", "organizations_url": "https://api.github.com/users/geekscrapy/orgs", "repos_url": "https://api.github.com/users/geekscrapy/repos", "events_url": "https://api.github.com/users/geekscrapy/events{/privacy}", "received_events_url": "https://api.github.com/users/geekscrapy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-10-01T21:22:59Z", "updated_at": "2021-10-21T01:20:40Z", "closed_at": "2021-10-20T23:54:20Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nWhen an index sheet opens the loading of the subsheets is cancellable from the index sheet but not from within the actual loading sheet.\r\n\r\nFor example:\r\nI load an xlsx sheet with a few subsheets which have a large number of rows.\r\nThe progress counter shows the loading of these rows while viewing the index sheet and the loading of the subsheets is cancelable. However, when diving into a subsheet that is currently loading, you cannot cancel the load.\r\n\r\nA visual example of this is adding the following column to an index sheet type:\r\n\r\n`Column('Progress', getter=lambda _,r: r.progressPct)`\r\n\r\nWhen indexSheets with subsheets (that take a long time to process) are loaded with this column, nothing is shown. This indicates that the async loading is occurring from the IndexSheet, not the individual subsheet.\r\n\r\nIf you cancel the IndexSheet load and reload from within a subsheet, then the progressPct is shown.\r\n\r\n**Expected result**\r\nLoading of all sheets takes place from the context of itself, not IndexSheet.\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1136/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1136/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1133", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1133/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1133/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1133/events", "html_url": "https://github.com/saulpw/visidata/issues/1133", "id": 1011773299, "node_id": "I_kwDOBEu2Gc48Tm9z", "number": 1133, "title": "[2.7dev] [undo] KeyError on DirSheet when using undo", "user": {"login": "geekscrapy", "id": 11225502, "node_id": "MDQ6VXNlcjExMjI1NTAy", "avatar_url": "https://avatars.githubusercontent.com/u/11225502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geekscrapy", "html_url": "https://github.com/geekscrapy", "followers_url": "https://api.github.com/users/geekscrapy/followers", "following_url": "https://api.github.com/users/geekscrapy/following{/other_user}", "gists_url": "https://api.github.com/users/geekscrapy/gists{/gist_id}", "starred_url": "https://api.github.com/users/geekscrapy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geekscrapy/subscriptions", "organizations_url": "https://api.github.com/users/geekscrapy/orgs", "repos_url": "https://api.github.com/users/geekscrapy/repos", "events_url": "https://api.github.com/users/geekscrapy/events{/privacy}", "received_events_url": "https://api.github.com/users/geekscrapy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-09-30T06:34:28Z", "updated_at": "2021-11-13T00:29:51Z", "closed_at": "2021-11-13T00:22:33Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nThe undo functionality seems to work, but results in an error on a DirSheet. I tried `delete-cell` command. \r\n\r\n**Expected result**\r\nNo error\r\n\r\n**Actual result with screenshot**\r\n```\r\nTraceback (most recent call last):\r\n  File \"/Users/geekscrapy/Documents/pyv/py3.7/lib/python3.7/site-packages/visidata/basesheet.py\", line 161, in execCommand\r\n    escaped = super().execCommand2(cmd, vdglobals=vdglobals)\r\n  File \"/Users/geekscrapy/Documents/pyv/py3.7/lib/python3.7/site-packages/visidata/basesheet.py\", line 66, in execCommand2\r\n    exec(code, vdglobals, LazyChainMap(vd, self))\r\n  File \"undo-last\", line 1, in <module>\r\n    # import plugins.sparkline\r\n  File \"/Users/geekscrapy/Documents/pyv/py3.7/lib/python3.7/site-packages/visidata/undo.py\", line 41, in undo\r\n    undofunc(*args, **kwargs)\r\n  File \"/Users/geekscrapy/Documents/pyv/py3.7/lib/python3.7/site-packages/visidata/modify.py\", line 66, in _undoCellChanged\r\n    _, rowmods = col.sheet._deferredMods[col.sheet.rowid(row)]\r\nKeyError: 4594777104\r\n```\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\nvd . --config=/dev/null\r\nDelete a cell on this sheet with 'delete-cell'\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1133/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1133/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1132", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1132/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1132/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1132/events", "html_url": "https://github.com/saulpw/visidata/issues/1132", "id": 1011767160, "node_id": "I_kwDOBEu2Gc48Tld4", "number": 1132, "title": "[2.7dev] [optionsSheet] Disable ability to edit values in the 'option' column", "user": {"login": "geekscrapy", "id": 11225502, "node_id": "MDQ6VXNlcjExMjI1NTAy", "avatar_url": "https://avatars.githubusercontent.com/u/11225502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geekscrapy", "html_url": "https://github.com/geekscrapy", "followers_url": "https://api.github.com/users/geekscrapy/followers", "following_url": "https://api.github.com/users/geekscrapy/following{/other_user}", "gists_url": "https://api.github.com/users/geekscrapy/gists{/gist_id}", "starred_url": "https://api.github.com/users/geekscrapy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geekscrapy/subscriptions", "organizations_url": "https://api.github.com/users/geekscrapy/orgs", "repos_url": "https://api.github.com/users/geekscrapy/repos", "events_url": "https://api.github.com/users/geekscrapy/events{/privacy}", "received_events_url": "https://api.github.com/users/geekscrapy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2021-09-30T06:25:34Z", "updated_at": "2021-11-02T04:45:54Z", "closed_at": "2021-10-31T23:36:12Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nWhile having the cursor on the 'option' column the user is able to do a `delete-cell` (zd) command which makes in the interface throw an error\r\n\r\n**Expected result**\r\nThrow an error something like 'cannot edit cell'.\r\n\r\n**Actual result with screenshot**\r\n![image](https://user-images.githubusercontent.com/11225502/135398334-cd8f91c2-182f-40d2-95b0-5b45d4b37320.png)\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\nOpen options sheet with 'SHIFT+O' and do a zd on a cell in the 'option' column.\r\n\r\n**Additional context**\r\nWhilst reproing this bug, I also noticed that DirSheet allows edits of (at least) the `modtime` and `size` columns which seem like an odd thing to not throw an error on. Maybe Columns could have an extra flag on them such as \"readonly\"?", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1132/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1132/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1131", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1131/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1131/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1131/events", "html_url": "https://github.com/saulpw/visidata/issues/1131", "id": 1011718892, "node_id": "I_kwDOBEu2Gc48TZrs", "number": 1131, "title": "[v2.6.1] Warning on startup, if no .visidata/plugins/", "user": {"login": "anjakefala", "id": 7489659, "node_id": "MDQ6VXNlcjc0ODk2NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/7489659?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anjakefala", "html_url": "https://github.com/anjakefala", "followers_url": "https://api.github.com/users/anjakefala/followers", "following_url": "https://api.github.com/users/anjakefala/following{/other_user}", "gists_url": "https://api.github.com/users/anjakefala/gists{/gist_id}", "starred_url": "https://api.github.com/users/anjakefala/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anjakefala/subscriptions", "organizations_url": "https://api.github.com/users/anjakefala/orgs", "repos_url": "https://api.github.com/users/anjakefala/repos", "events_url": "https://api.github.com/users/anjakefala/events{/privacy}", "received_events_url": "https://api.github.com/users/anjakefala/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-09-30T05:19:39Z", "updated_at": "2021-10-15T05:53:38Z", "closed_at": "2021-10-15T05:53:29Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "```\r\n   File \"/usr/local/lib/python3.9/dist-packages/visidata/settings.py\", line 364, in loadConfigAndPlugins\r\n     vd.addGlobals(importlib.import_module(modname).__dict__)                \r\n   File \"/usr/lib/python3.9/importlib/__init__.py\", line 127, in import_module   \r\n     return _bootstrap._gcd_import(name[level:], package, level)       \r\n   File \"<frozen importlib._bootstrap>\", line 1030, in _gcd_import      \r\n   File \"<frozen importlib._bootstrap>\", line 1007, in _find_and_load      \r\n   File \"<frozen importlib._bootstrap>\", line 984, in _find_and_load_unlocked                            \r\n ModuleNotFoundError: No module named 'plugins'     \r\n ```", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1131/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1131/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1125", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1125/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1125/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1125/events", "html_url": "https://github.com/saulpw/visidata/issues/1125", "id": 1008995543, "node_id": "I_kwDOBEu2Gc48JAzX", "number": 1125, "title": "[sqlite] In SQLite loader, exception handler references `sqlite3` without importing it", "user": {"login": "jsvine", "id": 534702, "node_id": "MDQ6VXNlcjUzNDcwMg==", "avatar_url": "https://avatars.githubusercontent.com/u/534702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsvine", "html_url": "https://github.com/jsvine", "followers_url": "https://api.github.com/users/jsvine/followers", "following_url": "https://api.github.com/users/jsvine/following{/other_user}", "gists_url": "https://api.github.com/users/jsvine/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsvine/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsvine/subscriptions", "organizations_url": "https://api.github.com/users/jsvine/orgs", "repos_url": "https://api.github.com/users/jsvine/repos", "events_url": "https://api.github.com/users/jsvine/events{/privacy}", "received_events_url": "https://api.github.com/users/jsvine/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-09-28T01:58:37Z", "updated_at": "2021-09-29T02:19:34Z", "closed_at": "2021-09-29T02:19:34Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\n\r\nWhen the SQLite loader encounters an error, it tries to raise an exception ... but the exception handler references `sqlite3`, which has not been imported, raising an exception of its own:\r\n\r\nhttps://github.com/saulpw/visidata/blob/666e30329878b74678d24c300e1c50ceb7aa0666/visidata/loaders/sqlite.py#L58\r\n\r\n**Expected result**\r\n\r\nNo extra exception.\r\n\r\n**Actual result with screenshot**\r\n\r\nHere's the stacktrace:\r\n\r\n```\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"[...]/visidata/lib/python3.8/site-packages/visidata/threads.py\", line 206, in _toplevelTryFunc\r\n    t.status = func(*args, **kwargs)\r\n  File \"[...]/visidata/lib/python3.8/site-packages/visidata/sheets.py\", line 289, in reload\r\n    for r in self.iterload():\r\n  File \"[...]/visidata/lib/python3.8/site-packages/visidata/loaders/sqlite.py\", line 125, in iterload\r\n    for row in SqliteSheet.iterload(self):\r\n  File \"[...]/visidata/lib/python3.8/site-packages/visidata/loaders/sqlite.py\", line 58, in iterload\r\n    except sqlite3.OperationalError:\r\nNameError: name 'sqlite3' is not defined\r\n```\r\n\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n\r\n```sh\r\necho \"a\" > x.sqlite; vd x.sqlite\r\n```\r\n\r\n**Additional context**\r\n\r\nVisiData v2.6 (PyPI release)\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1125/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1125/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1124", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1124/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1124/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1124/events", "html_url": "https://github.com/saulpw/visidata/issues/1124", "id": 1008928357, "node_id": "I_kwDOBEu2Gc48IwZl", "number": 1124, "title": "Exception: inconsistent keys--reload join when joining between XlsxSheet and CsvSheet", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-09-28T01:06:34Z", "updated_at": "2021-11-13T19:38:19Z", "closed_at": "2021-11-13T17:07:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Small description**\r\n\r\nAttempting to join between an XlsxSheet and a CSVSheet mostly works, but records in the join key column are replaced with the following error cell:\r\n\r\n``` python\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3/dist-packages/visidata/wrappers.py\", line 108, in wrapply\r\n    return func(*args, **kwargs)\r\n  File \"/usr/lib/python3/dist-packages/visidata/column.py\", line 280, in getValue\r\n    return self.calcValue(row)\r\n  File \"/usr/lib/python3/dist-packages/visidata/join.py\", line 76, in calcValue\r\n    raise Exception(f'inconsistent keys--reload join')\r\nException: inconsistent keys--reload join\r\n```\r\n\r\n**Expected result**\r\n\r\nThe sheets would be joined, and the join key column would contain the actual values, not an error.\r\n\r\n**Actual result with screenshot**\r\n\r\n![image](https://user-images.githubusercontent.com/55477181/135005477-17dbf0e9-76c8-4f08-ab21-05a9b0c37a8f.png)\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n\r\n[joining_error_interesting_records.csv](https://github.com/saulpw/visidata/files/7240186/joining_error_interesting_records.csv)\r\n[joining_error.xlsx](https://github.com/saulpw/visidata/files/7240188/joining_error.xlsx)\r\n[joining_error_records.vd.txt](https://github.com/saulpw/visidata/files/7240187/joining_error_records.vd.txt)\r\n\r\n\r\n**Additional context**\r\nPlease include the version of VisiData.\r\n\r\nsaul.pw/VisiData v2.4", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1124/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1124/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1123", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1123/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1123/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1123/events", "html_url": "https://github.com/saulpw/visidata/issues/1123", "id": 1008690454, "node_id": "I_kwDOBEu2Gc48H2UW", "number": 1123, "title": "Investigate potential issue with save_fixed or save_filetype", "user": {"login": "anjakefala", "id": 7489659, "node_id": "MDQ6VXNlcjc0ODk2NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/7489659?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anjakefala", "html_url": "https://github.com/anjakefala", "followers_url": "https://api.github.com/users/anjakefala/followers", "following_url": "https://api.github.com/users/anjakefala/following{/other_user}", "gists_url": "https://api.github.com/users/anjakefala/gists{/gist_id}", "starred_url": "https://api.github.com/users/anjakefala/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anjakefala/subscriptions", "organizations_url": "https://api.github.com/users/anjakefala/orgs", "repos_url": "https://api.github.com/users/anjakefala/repos", "events_url": "https://api.github.com/users/anjakefala/events{/privacy}", "received_events_url": "https://api.github.com/users/anjakefala/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-09-27T22:07:11Z", "updated_at": "2021-09-29T02:20:14Z", "closed_at": "2021-09-29T02:20:14Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "13:03 <&saulpw> i just tried: vd -b sample_data/benchmark.csv --save-filetype fixed -o -\r\n13:03 <&saulpw> and it gave an error\r\n13:20 <&saulpw> so i think save_fixed might be broken\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1123/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1123/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1122", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1122/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1122/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1122/events", "html_url": "https://github.com/saulpw/visidata/issues/1122", "id": 1007553628, "node_id": "I_kwDOBEu2Gc48Dgxc", "number": 1122, "title": "Excel Saver replaces spaces and special characters with underscore _", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2021-09-27T00:31:06Z", "updated_at": "2021-11-02T23:32:21Z", "closed_at": "2021-11-02T05:41:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Small description**\r\n\r\nWhen saving a visidata sheet containing spaces or special characters (in my case, spaces and '+' symbols), they are replaced with '_'. e.g. `my sheet` becomes `my_sheet`, `other sheets+` becomes `other_sheets_`. However, I know that Excel supports spaces and special characters in sheet names, because these sheet names came from an Excel sheet to begin with.\r\n\r\n**Expected result**\r\n\r\nI expect the sheet names to not be changed, as the underlying file format supports these characters.\r\n\r\n**Actual result with screenshot**\r\n\r\nOriginal file:\r\n![image](https://user-images.githubusercontent.com/55477181/134829618-e9fb320c-9af9-42f8-8e94-950915e0eb61.png)\r\n\r\nSame file after saving with visidata (select required sheets, save with `g^S`):\r\n![image](https://user-images.githubusercontent.com/55477181/134829650-1d92a3d5-3ad0-4515-bbfa-e69170efe46f.png)\r\n\r\n**Steps to reproduce with sample data and a .vd**:\r\n\r\n[test_excel.xlsx](https://github.com/saulpw/visidata/files/7232532/test_excel.xlsx)\r\n[test_excel.vd.txt](https://github.com/saulpw/visidata/files/7232533/test_excel.vd.txt)\r\n\r\n**Additional context**\r\nPlease include the version of VisiData\r\n\r\nsaul.pw/VisiData v2.4\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1122/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1122/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1121", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1121/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1121/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1121/events", "html_url": "https://github.com/saulpw/visidata/issues/1121", "id": 1007504207, "node_id": "I_kwDOBEu2Gc48DUtP", "number": 1121, "title": "Get openpyxl error when opening xlsx file where a cell in the table has an emptycell", "user": {"login": "dslgr", "id": 30943714, "node_id": "MDQ6VXNlcjMwOTQzNzE0", "avatar_url": "https://avatars.githubusercontent.com/u/30943714?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dslgr", "html_url": "https://github.com/dslgr", "followers_url": "https://api.github.com/users/dslgr/followers", "following_url": "https://api.github.com/users/dslgr/following{/other_user}", "gists_url": "https://api.github.com/users/dslgr/gists{/gist_id}", "starred_url": "https://api.github.com/users/dslgr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dslgr/subscriptions", "organizations_url": "https://api.github.com/users/dslgr/orgs", "repos_url": "https://api.github.com/users/dslgr/repos", "events_url": "https://api.github.com/users/dslgr/events{/privacy}", "received_events_url": "https://api.github.com/users/dslgr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 18, "created_at": "2021-09-26T21:10:02Z", "updated_at": "2021-11-09T18:12:11Z", "closed_at": "2021-11-06T17:22:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "OS: Windows 10 (10.0.19043 Build 19043)\r\nVisiData: v2.6\r\nPython: v3.9.5\r\nopenpyxl: v3.0.9\r\n[test_excel_visidata.xlsx](https://github.com/saulpw/visidata/files/7232237/test_excel_visidata.xlsx)\r\n[excel_emptycell_visidata_error.txt](https://github.com/saulpw/visidata/files/7232238/excel_emptycell_visidata_error.txt)\r\n\r\nOpening an xlsx file with an empty cell gives this error and then prevents the row with that cell and all lower rows from being read:\r\nTraceback (most recent call last):\r\n  File \"/home/dslgr/.local/lib/python3.9/site-packages/visidata/threads.py\", line 206, in _toplevelTryFunc\r\n    t.status = func(*args, **kwargs)\r\n  File \"/home/dslgr/.local/lib/python3.9/site-packages/visidata/sheets.py\", line 940, in reload\r\n    for r in vd.Progress(itsource, gerund='loading', total=0):\r\n  File \"/home/dslgr/.local/lib/python3.9/site-packages/visidata/threads.py\", line 68, in __iter__\r\n    for item in self.iterable:\r\n  File \"/home/dslgr/.local/lib/python3.9/site-packages/visidata/loaders/xlsx.py\", line 56, in iterload\r\n    yield AttrDict({cell.column_letter:cell for cell in row})\r\n  File \"/home/dslgr/.local/lib/python3.9/site-packages/visidata/loaders/xlsx.py\", line 56, in <dictcomp>\r\n    yield AttrDict({cell.column_letter:cell for cell in row})\r\nAttributeError: 'EmptyCell' object has no attribute 'column_letter'\r\n\r\nI attached an example xlsx file but this can easily be recreated with an xlsx file with an empty cell contained within the data. In this example only the first row will be read as the empty cell is in the second row. So the second and third rows aren't read.\r\n\r\nI believe this error is related to this issue: https://stackoverflow.com/questions/39596433/get-empty-cell-coordinates-with-openpyxl\r\nWhen looping through the cells of a row it may be necessary to also count the columns. If a cell value is None to then potentially get the column letter from this function: https://stackoverflow.com/a/23862195\r\nThis may also be helpful to reference: https://openpyxl.readthedocs.io/en/stable/api/openpyxl.cell.read_only.html?highlight=column_letter#openpyxl.cell.read_only.EmptyCell", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1121/reactions", "total_count": 3, "+1": 3, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1121/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1116", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1116/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1116/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1116/events", "html_url": "https://github.com/saulpw/visidata/issues/1116", "id": 1001969406, "node_id": "I_kwDOBEu2Gc47uNb-", "number": 1116, "title": "[input] When editing a cell, Ctrl-O stack traces", "user": {"login": "frosencrantz", "id": 631242, "node_id": "MDQ6VXNlcjYzMTI0Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/631242?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frosencrantz", "html_url": "https://github.com/frosencrantz", "followers_url": "https://api.github.com/users/frosencrantz/followers", "following_url": "https://api.github.com/users/frosencrantz/following{/other_user}", "gists_url": "https://api.github.com/users/frosencrantz/gists{/gist_id}", "starred_url": "https://api.github.com/users/frosencrantz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frosencrantz/subscriptions", "organizations_url": "https://api.github.com/users/frosencrantz/orgs", "repos_url": "https://api.github.com/users/frosencrantz/repos", "events_url": "https://api.github.com/users/frosencrantz/events{/privacy}", "received_events_url": "https://api.github.com/users/frosencrantz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2021-09-21T07:08:26Z", "updated_at": "2021-09-27T23:12:37Z", "closed_at": "2021-09-22T03:11:14Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nWhen editing a cell, Ctrl-O stack traces, wrong number of args\r\n\r\n**Expected result**\r\nOpens cell value in the editor\r\n**Actual result with screenshot**\r\nGot up a little early to send this in, but don't have a screenshot.\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\nOpen Visidata, start to edit a cell, then try Ctrl-O\r\n\r\nThe issue is on this line, the parameters have changed recently:\r\n  https://github.com/saulpw/visidata/blob/develop/visidata/_input.py#L218\r\n\r\n**Additional context**\r\nPlease include the version of VisiData. Latest version of develop\r\n\r\nAlso, congratulations on the new release! \ud83c\udf89 ", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1116/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1116/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1111", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1111/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1111/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1111/events", "html_url": "https://github.com/saulpw/visidata/issues/1111", "id": 996207298, "node_id": "I_kwDOBEu2Gc47YOrC", "number": 1111, "title": "Does not show SQLite WITHOUT ROWID tables correctly", "user": {"login": "stephancb", "id": 7497487, "node_id": "MDQ6VXNlcjc0OTc0ODc=", "avatar_url": "https://avatars.githubusercontent.com/u/7497487?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stephancb", "html_url": "https://github.com/stephancb", "followers_url": "https://api.github.com/users/stephancb/followers", "following_url": "https://api.github.com/users/stephancb/following{/other_user}", "gists_url": "https://api.github.com/users/stephancb/gists{/gist_id}", "starred_url": "https://api.github.com/users/stephancb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stephancb/subscriptions", "organizations_url": "https://api.github.com/users/stephancb/orgs", "repos_url": "https://api.github.com/users/stephancb/repos", "events_url": "https://api.github.com/users/stephancb/events{/privacy}", "received_events_url": "https://api.github.com/users/stephancb/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 13, "created_at": "2021-09-14T16:24:36Z", "updated_at": "2021-11-27T23:27:34Z", "closed_at": "2021-11-15T01:57:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Small description**\r\n\r\nSQLite version 3.8.2 (2013-12-06) and later allow for [WITHOUT ROWID tables](https://www.sqlite.org/withoutrowid.html), which under certain circumstances are more efficient than tables with a rowid. Without rowid tables are not displayed correctly by visidata:\r\n\r\n```\r\n[scb@shrike ~]$ sqlite3 example.db\r\n-- Loading resources from /home/scb/.sqliterc\r\nwal\r\nSQLite version 3.36.0 2021-06-18 18:36:39\r\nEnter \".help\" for usage hints.\r\nsqlite> CREATE TABLE withrowid(id INTEGER PRIMARY KEY, datum);\r\nsqlite> INSERT INTO withrowid VALUES(1, 'abc');\r\nsqlite> INSERT INTO withrowid VALUES(2, 'xyz');\r\nsqlite> CREATE TABLE withoutrowid(id INTEGER PRIMARY KEY, datum) WITHOUT ROWID;\r\nsqlite> INSERT INTO withoutrowid VALUES(1, 'abc');\r\nsqlite> INSERT INTO withoutrowid VALUES(2, 'xyz');\r\nsqlite> ^D\r\n[scb@shrike ~]$ vd example.db\r\n```\r\n\r\n**Expected result**\r\n\r\n```\r\nname         \u2551 rows   #| cols#| keys | source   \u2551\r\nwithrowid    \u2551       2 |    3 | id    | example \u2551\r\nwithoutrowid \u2551       2 |    3 | id    | example \u2551\r\n```\r\n\r\n**Actual result**\r\n\r\n```\r\nname         \u2551 rows   #| cols#| keys | source   \u2551\r\nwithrowid    \u2551       2 |    3 | id    | example \u2551\r\nwithoutrowid \u2551       0 |    3 | id    | example \u2551\r\n```\r\n(the withoutrowid table has **0 rows**)\r\n\r\n`Ctrl-E`:\r\n\r\n```\r\ntext\r\n Traceback (most recent call last):\r\n   File \"/usr/lib/python3.9/site-packages/visidata/threads.py\", line 219, in _toplevelTryFunc\r\n     t.status = func(*args, **kwargs)\r\n   File \"/usr/lib/python3.9/site-packages/visidata/sheets.py\", line 289, in reload\r\n     for r in self.iterload():\r\n   File \"/usr/lib/python3.9/site-packages/visidata/loaders/sqlite.py\", line 55, in iterload\r\n     r = self.execute(conn, 'SELECT rowid, * FROM \"%s\"' % tblname)\r\n   File \"/usr/lib/python3.9/site-packages/visidata/loaders/sqlite.py\", line 28, in execute\r\n     return conn.execute(sql, parms)\r\n sqlite3.OperationalError: no such column: rowid\r\n```\r\n\r\n**Additional context**\r\nPlease include the version of VisiData: `saul.pw/VisiData v2.5`\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1111/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1111/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1107", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1107/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1107/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1107/events", "html_url": "https://github.com/saulpw/visidata/issues/1107", "id": 989709441, "node_id": "MDU6SXNzdWU5ODk3MDk0NDE=", "number": 1107, "title": "[develop] Error when using disp_menu as cli arg", "user": {"login": "geekscrapy", "id": 11225502, "node_id": "MDQ6VXNlcjExMjI1NTAy", "avatar_url": "https://avatars.githubusercontent.com/u/11225502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geekscrapy", "html_url": "https://github.com/geekscrapy", "followers_url": "https://api.github.com/users/geekscrapy/followers", "following_url": "https://api.github.com/users/geekscrapy/following{/other_user}", "gists_url": "https://api.github.com/users/geekscrapy/gists{/gist_id}", "starred_url": "https://api.github.com/users/geekscrapy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geekscrapy/subscriptions", "organizations_url": "https://api.github.com/users/geekscrapy/orgs", "repos_url": "https://api.github.com/users/geekscrapy/repos", "events_url": "https://api.github.com/users/geekscrapy/events{/privacy}", "received_events_url": "https://api.github.com/users/geekscrapy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-09-07T08:06:05Z", "updated_at": "2021-09-09T16:47:06Z", "closed_at": "2021-09-09T06:53:09Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nI had `disp_menu` set to `True` in my config and I wanted to test how it acted without it temporarily. I therefore used the following command and args to test it, but got an error (see below) and the menu refuses to open.\r\n\r\n**Expected result**\r\nTo be able to continue to use vd without the menu being always open\r\n\r\n**Actual result with screenshot**\r\n![image](https://user-images.githubusercontent.com/11225502/132307649-ebf0cca3-fbf2-46c5-b94f-ac9dd552a978.png)\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n`visidata --config=/dev/null --disp_menu=0 /usr/bin/`\r\n\r\n**Additional context**\r\nLatest as per today", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1107/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1107/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1104", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1104/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1104/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1104/events", "html_url": "https://github.com/saulpw/visidata/issues/1104", "id": 988621362, "node_id": "MDU6SXNzdWU5ODg2MjEzNjI=", "number": 1104, "title": "[yaml] Yaml loader traces on no attribute _colnames", "user": {"login": "frosencrantz", "id": 631242, "node_id": "MDQ6VXNlcjYzMTI0Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/631242?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frosencrantz", "html_url": "https://github.com/frosencrantz", "followers_url": "https://api.github.com/users/frosencrantz/followers", "following_url": "https://api.github.com/users/frosencrantz/following{/other_user}", "gists_url": "https://api.github.com/users/frosencrantz/gists{/gist_id}", "starred_url": "https://api.github.com/users/frosencrantz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frosencrantz/subscriptions", "organizations_url": "https://api.github.com/users/frosencrantz/orgs", "repos_url": "https://api.github.com/users/frosencrantz/repos", "events_url": "https://api.github.com/users/frosencrantz/events{/privacy}", "received_events_url": "https://api.github.com/users/frosencrantz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-09-05T23:19:05Z", "updated_at": "2021-09-12T23:02:45Z", "closed_at": "2021-09-09T06:53:30Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nYaml loader traces on loading\r\n\r\n**Expected result**\r\nYaml data is loaded.\r\n\r\n**Actual result with screenshot**\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3.9/site-packages/visidata/threads.py\", line 219, in _toplevelTryFunc\r\n    t.status = func(*args, **kwargs)\r\n  File \"/usr/lib/python3.9/site-packages/visidata/sheets.py\", line 289, in reload\r\n    for r in self.iterload():\r\n  File \"/usr/lib/python3.9/site-packages/visidata/loaders/yaml.py\", line 17, in iterload\r\n    self._colnames.clear()\r\nAttributeError: 'YamlSheet' object has no attribute '_colnames'\r\n```\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\nvd sample_data/states.yml\r\n\r\n**Additional context**\r\nPlease include the version of VisiData. Latest develop branch.\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1104/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1104/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1101", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1101/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1101/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1101/events", "html_url": "https://github.com/saulpw/visidata/issues/1101", "id": 988520749, "node_id": "MDU6SXNzdWU5ODg1MjA3NDk=", "number": 1101, "title": "[quit]  'Ctrl+Q'  to exit doesn't work", "user": {"login": "frosencrantz", "id": 631242, "node_id": "MDQ6VXNlcjYzMTI0Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/631242?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frosencrantz", "html_url": "https://github.com/frosencrantz", "followers_url": "https://api.github.com/users/frosencrantz/followers", "following_url": "https://api.github.com/users/frosencrantz/following{/other_user}", "gists_url": "https://api.github.com/users/frosencrantz/gists{/gist_id}", "starred_url": "https://api.github.com/users/frosencrantz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frosencrantz/subscriptions", "organizations_url": "https://api.github.com/users/frosencrantz/orgs", "repos_url": "https://api.github.com/users/frosencrantz/repos", "events_url": "https://api.github.com/users/frosencrantz/events{/privacy}", "received_events_url": "https://api.github.com/users/frosencrantz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-09-05T14:18:34Z", "updated_at": "2021-09-12T23:03:27Z", "closed_at": "2021-09-06T22:48:13Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\n'Ctrl+Q'  doesn't quit anymore\r\n\r\n**Expected result**\r\nExits VisiData from any sheet.\r\n\r\n**Actual result with screenshot**\r\nIt reports `no command for Ctrl+Q`\r\nNo screenshot, if you are not able to reproduce I can provide a screenshot.\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\nStart VisiData press `Ctrl+Q`\r\n\r\n**Additional context**\r\nPlease include the version of VisiData.  Latest version from develop.\r\nThere were some changes this past week related to renaming key values `^Q` to 'Ctrl-Q`", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1101/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1101/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1100", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1100/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1100/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1100/events", "html_url": "https://github.com/saulpw/visidata/issues/1100", "id": 988520734, "node_id": "MDU6SXNzdWU5ODg1MjA3MzQ=", "number": 1100, "title": "[color]  color_current_col and color_current_row not combining ", "user": {"login": "frosencrantz", "id": 631242, "node_id": "MDQ6VXNlcjYzMTI0Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/631242?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frosencrantz", "html_url": "https://github.com/frosencrantz", "followers_url": "https://api.github.com/users/frosencrantz/followers", "following_url": "https://api.github.com/users/frosencrantz/following{/other_user}", "gists_url": "https://api.github.com/users/frosencrantz/gists{/gist_id}", "starred_url": "https://api.github.com/users/frosencrantz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frosencrantz/subscriptions", "organizations_url": "https://api.github.com/users/frosencrantz/orgs", "repos_url": "https://api.github.com/users/frosencrantz/repos", "events_url": "https://api.github.com/users/frosencrantz/events{/privacy}", "received_events_url": "https://api.github.com/users/frosencrantz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-09-05T14:18:29Z", "updated_at": "2021-09-14T06:16:46Z", "closed_at": "2021-09-14T06:16:46Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\ncolor_current_col and color_current_row not combining \r\n\r\n**Expected result**\r\nFor the current cell it is expected that the values combine.\r\n\r\n**Actual result with screenshot**\r\nIt doesn't look like they combine. It looks like color_current_row overrides the color_current_col.\r\n\r\nI tried setting the current col to green, but it looks like the current cell is not shown in reverse green:\r\nhttps://asciinema.org/a/2LEqjL4H0DD6WM2WyNomqwXwF?t=10\r\n\r\n(This from develop head from last week, but the behavior is still the same.)\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n\r\nSet the `color_current_col` to something that can combine with `color_current_row` such as `green` and it doesn't appear to work\r\n\r\n**Additional context**\r\nPlease include the version of VisiData.  Latest version from develop branch.\r\n\r\nThis came out of discussion https://github.com/saulpw/visidata/discussions/1093 The intention is that the values combine.  \r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1100/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1100/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1089", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1089/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1089/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1089/events", "html_url": "https://github.com/saulpw/visidata/issues/1089", "id": 978651097, "node_id": "MDU6SXNzdWU5Nzg2NTEwOTc=", "number": 1089, "title": "vd --help to a non-tty doesn't output the help text", "user": {"login": "halloleo", "id": 1521852, "node_id": "MDQ6VXNlcjE1MjE4NTI=", "avatar_url": "https://avatars.githubusercontent.com/u/1521852?v=4", "gravatar_id": "", "url": "https://api.github.com/users/halloleo", "html_url": "https://github.com/halloleo", "followers_url": "https://api.github.com/users/halloleo/followers", "following_url": "https://api.github.com/users/halloleo/following{/other_user}", "gists_url": "https://api.github.com/users/halloleo/gists{/gist_id}", "starred_url": "https://api.github.com/users/halloleo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/halloleo/subscriptions", "organizations_url": "https://api.github.com/users/halloleo/orgs", "repos_url": "https://api.github.com/users/halloleo/repos", "events_url": "https://api.github.com/users/halloleo/events{/privacy}", "received_events_url": "https://api.github.com/users/halloleo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-08-25T02:49:52Z", "updated_at": "2021-08-28T04:38:02Z", "closed_at": "2021-08-28T04:38:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Small description**\r\n\r\nvd --help to a non-tty like a file or pipe doesn't output the help text\r\n\r\n**Expected result**\r\n\r\n`vd --help | cat` exports the complete help to stdout\r\n\r\n**Actual result**\r\n\r\n`vd --help | cat` writes nothing to stdout, but takes over the screen with a `less`-like TUI.\r\n\r\n**Steps to reproduce**\r\n\r\nJust type\r\n\r\n    vd --help | cat\r\n\r\nor\r\n\r\n    vd --help >vdhelp.txt\r\n\r\n\r\n**Additional context**\r\n\r\nv2,4,", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1089/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1089/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1077", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1077/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1077/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1077/events", "html_url": "https://github.com/saulpw/visidata/issues/1077", "id": 972276529, "node_id": "MDU6SXNzdWU5NzIyNzY1Mjk=", "number": 1077, "title": "When searching in Chinese, Chinese search is not supported, whether to support Chinese and other languages", "user": {"login": "joytianya", "id": 17909715, "node_id": "MDQ6VXNlcjE3OTA5NzE1", "avatar_url": "https://avatars.githubusercontent.com/u/17909715?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joytianya", "html_url": "https://github.com/joytianya", "followers_url": "https://api.github.com/users/joytianya/followers", "following_url": "https://api.github.com/users/joytianya/following{/other_user}", "gists_url": "https://api.github.com/users/joytianya/gists{/gist_id}", "starred_url": "https://api.github.com/users/joytianya/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joytianya/subscriptions", "organizations_url": "https://api.github.com/users/joytianya/orgs", "repos_url": "https://api.github.com/users/joytianya/repos", "events_url": "https://api.github.com/users/joytianya/events{/privacy}", "received_events_url": "https://api.github.com/users/joytianya/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2101517149, "node_id": "MDU6TGFiZWwyMTAxNTE3MTQ5", "url": "https://api.github.com/repos/saulpw/visidata/labels/can't%20reproduce", "name": "can't reproduce", "color": "f2712b", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-08-17T03:57:46Z", "updated_at": "2021-08-17T04:56:19Z", "closed_at": "2021-08-17T04:56:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "We want to hear your ideas about where VisiData can go and anything you think could be made smoother.\r\nWe consider all ideas that are feasible, but please don't be offended if we close it--we generally limit our open issues to bugs and small concrete feature requests that are part of the planned roadmap.\r\n\r\nIf you are a subscriber at the 'Workflow Optimist' level on [Patreon](https://www.patreon.com/saulpw/), you can designate this feature as one you would like to remain open, by adding an \"[optimist]\" tag in the summary line.\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1077/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1077/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1074", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1074/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1074/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1074/events", "html_url": "https://github.com/saulpw/visidata/issues/1074", "id": 971239213, "node_id": "MDU6SXNzdWU5NzEyMzkyMTM=", "number": 1074, "title": "[menu]  New menu system flashes and hiding column headers", "user": {"login": "frosencrantz", "id": 631242, "node_id": "MDQ6VXNlcjYzMTI0Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/631242?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frosencrantz", "html_url": "https://github.com/frosencrantz", "followers_url": "https://api.github.com/users/frosencrantz/followers", "following_url": "https://api.github.com/users/frosencrantz/following{/other_user}", "gists_url": "https://api.github.com/users/frosencrantz/gists{/gist_id}", "starred_url": "https://api.github.com/users/frosencrantz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frosencrantz/subscriptions", "organizations_url": "https://api.github.com/users/frosencrantz/orgs", "repos_url": "https://api.github.com/users/frosencrantz/repos", "events_url": "https://api.github.com/users/frosencrantz/events{/privacy}", "received_events_url": "https://api.github.com/users/frosencrantz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-08-15T22:37:34Z", "updated_at": "2021-08-18T04:06:40Z", "closed_at": "2021-08-18T04:06:33Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nNew menu system flashes and hiding column headers\r\n\r\n**Expected result**\r\nMenu disappears, or doesn't hide column headers.\r\n\r\n**Actual result with screenshot**\r\n\r\n  https://asciinema.org/a/VZhEof7fXzRpDmtdvF8ilO1En\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\nOpen menu, see result.\r\n\r\n\r\nThe new menu system looks great.  I like that it even shows keyboard short-cuts. I think this might be a useful response to those who find it hard to learn all the keystrokes.\r\n\r\nIt looks like it might have some issues.  I suspect it is still in progress, but I won't be able to post for a while.\r\nIn case you are seeing something else, I wanted to inform you.\r\n\r\n**Additional context**\r\nPlease include the version of VisiData. Latest develop version of Visidata\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1074/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1074/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1072", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1072/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1072/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1072/events", "html_url": "https://github.com/saulpw/visidata/issues/1072", "id": 971238784, "node_id": "MDU6SXNzdWU5NzEyMzg3ODQ=", "number": 1072, "title": "[save] Saving a file without a saver saves to tsv by default.", "user": {"login": "frosencrantz", "id": 631242, "node_id": "MDQ6VXNlcjYzMTI0Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/631242?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frosencrantz", "html_url": "https://github.com/frosencrantz", "followers_url": "https://api.github.com/users/frosencrantz/followers", "following_url": "https://api.github.com/users/frosencrantz/following{/other_user}", "gists_url": "https://api.github.com/users/frosencrantz/gists{/gist_id}", "starred_url": "https://api.github.com/users/frosencrantz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frosencrantz/subscriptions", "organizations_url": "https://api.github.com/users/frosencrantz/orgs", "repos_url": "https://api.github.com/users/frosencrantz/repos", "events_url": "https://api.github.com/users/frosencrantz/events{/privacy}", "received_events_url": "https://api.github.com/users/frosencrantz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2021-08-15T22:34:54Z", "updated_at": "2021-08-18T04:04:45Z", "closed_at": "2021-08-18T04:00:52Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nSaving a file without a saver saves to tsv by default.  Changing expected format of file.\r\n\r\n**Expected result**\r\nIf a filetype has a loader but not a saver, it should fail. And maybe suggest I save as another format.\r\n\r\n**Actual result with screenshot**\r\n\r\nIt is easy to accidentally corrupt a file with save.  Also, when trying to reload, Visidata is no longer able\r\nto read the file as the original type.  It might be possible to read it as tsv.\r\n\r\n\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\nLoad a YAML file, then save as original.  Try to reload.\r\n\r\n   https://asciinema.org/a/A0mS0SsaOejokEq92ClXRJV0V\r\n\r\n\r\n**Additional context**\r\nPlease include the version of VisiData. Latest version of develop.\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1072/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1072/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1064", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1064/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1064/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1064/events", "html_url": "https://github.com/saulpw/visidata/issues/1064", "id": 955553144, "node_id": "MDU6SXNzdWU5NTU1NTMxNDQ=", "number": 1064, "title": "[syscopyX] copy behavior changes to include a newline", "user": {"login": "geekscrapy", "id": 11225502, "node_id": "MDQ6VXNlcjExMjI1NTAy", "avatar_url": "https://avatars.githubusercontent.com/u/11225502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geekscrapy", "html_url": "https://github.com/geekscrapy", "followers_url": "https://api.github.com/users/geekscrapy/followers", "following_url": "https://api.github.com/users/geekscrapy/following{/other_user}", "gists_url": "https://api.github.com/users/geekscrapy/gists{/gist_id}", "starred_url": "https://api.github.com/users/geekscrapy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geekscrapy/subscriptions", "organizations_url": "https://api.github.com/users/geekscrapy/orgs", "repos_url": "https://api.github.com/users/geekscrapy/repos", "events_url": "https://api.github.com/users/geekscrapy/events{/privacy}", "received_events_url": "https://api.github.com/users/geekscrapy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-07-29T07:38:23Z", "updated_at": "2021-09-16T08:17:17Z", "closed_at": "2021-09-16T03:40:42Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nPrior to 2.5 a copy to the system clipboard would not include a newline at the end of the contents, in 2. it does\r\n\r\n**Expected result**\r\nConsistent behaviour, preferably without the newline so it means easy copy and paste of cell data into other forms.\r\n\r\nTo be clear:\r\nIn 2.4 and before (I tested 2.2, 2.3, 2.4 pip releases) when `syscopy-cell` (and friends) are used, a new line is _not_ appended to the output.\r\n\r\nIn 2.5 a newline (0x0a, Line Feed) is appended to the output saved to the clipboard\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1064/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1064/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1063", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1063/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1063/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1063/events", "html_url": "https://github.com/saulpw/visidata/issues/1063", "id": 955515070, "node_id": "MDU6SXNzdWU5NTU1MTUwNzA=", "number": 1063, "title": "go-next-value stalls user interface", "user": {"login": "geekscrapy", "id": 11225502, "node_id": "MDQ6VXNlcjExMjI1NTAy", "avatar_url": "https://avatars.githubusercontent.com/u/11225502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geekscrapy", "html_url": "https://github.com/geekscrapy", "followers_url": "https://api.github.com/users/geekscrapy/followers", "following_url": "https://api.github.com/users/geekscrapy/following{/other_user}", "gists_url": "https://api.github.com/users/geekscrapy/gists{/gist_id}", "starred_url": "https://api.github.com/users/geekscrapy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geekscrapy/subscriptions", "organizations_url": "https://api.github.com/users/geekscrapy/orgs", "repos_url": "https://api.github.com/users/geekscrapy/repos", "events_url": "https://api.github.com/users/geekscrapy/events{/privacy}", "received_events_url": "https://api.github.com/users/geekscrapy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-07-29T06:42:27Z", "updated_at": "2021-08-18T04:48:45Z", "closed_at": "2021-08-18T04:48:38Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\n#996 would maybe assist with this.\r\n\r\nWith a  large number of rows with a small number of variation of cells, skipping between values with the `go-next-value` (et al) commands freezes the interface\r\n\r\n**Expected result**\r\nMaybe some feedback about the search progress, if any other button relating to movement is pressed, this cancels the search.\r\n\r\n**Actual result with screenshot**\r\nJust a normal frozen window view\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\nOpen a large number of rows (I had 163,163 rows) and select a column which has only a few cells which are different to the rest. Make sure those cells are at the bottom using a sort of the column (to simulate a long run), then so a `go-next-value`\r\n\r\n**Additional context**\r\nv2.6\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1063/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1063/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1060", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1060/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1060/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1060/events", "html_url": "https://github.com/saulpw/visidata/issues/1060", "id": 954637387, "node_id": "MDU6SXNzdWU5NTQ2MzczODc=", "number": 1060, "title": "[syscopy-selected] yanking as type \"fixed\" produces error", "user": {"login": "geekscrapy", "id": 11225502, "node_id": "MDQ6VXNlcjExMjI1NTAy", "avatar_url": "https://avatars.githubusercontent.com/u/11225502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geekscrapy", "html_url": "https://github.com/geekscrapy", "followers_url": "https://api.github.com/users/geekscrapy/followers", "following_url": "https://api.github.com/users/geekscrapy/following{/other_user}", "gists_url": "https://api.github.com/users/geekscrapy/gists{/gist_id}", "starred_url": "https://api.github.com/users/geekscrapy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geekscrapy/subscriptions", "organizations_url": "https://api.github.com/users/geekscrapy/orgs", "repos_url": "https://api.github.com/users/geekscrapy/repos", "events_url": "https://api.github.com/users/geekscrapy/events{/privacy}", "received_events_url": "https://api.github.com/users/geekscrapy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-07-28T09:01:39Z", "updated_at": "2021-08-04T04:56:30Z", "closed_at": "2021-08-04T04:30:52Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nI attempt to yank as \"fixed\" (rather than tsv/csv etc.) and I get the following error\r\n\r\n**Expected result**\r\nTo copy rows as the format \"fixed\" to the system clipboard without error\r\n\r\n**Actual result with screenshot**\r\n\r\n```python\r\nTraceback (most recent call last):\r\n  File \"/Users/geekscrapy/Documents/pyv/py3.7/lib/python3.7/site-packages/visidata/threads.py\", line 219, in _toplevelTryFunc\r\n    t.status = func(*args, **kwargs)\r\n  File \"/Users/geekscrapy/Documents/pyv/py3.7/lib/python3.7/site-packages/visidata/loaders/fixed_width.py\", line 77, in save_fixed\r\n    with p.open_text(mode='w', encoding=vsheets.options.encoding) as fp:\r\nAttributeError: 'tuple' object has no attribute 'options'\r\n```\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\nOpen any sheet, `syscopy-selected`, change the format to \"fixed\"\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1060/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1060/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1058", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1058/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1058/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1058/events", "html_url": "https://github.com/saulpw/visidata/issues/1058", "id": 952857287, "node_id": "MDU6SXNzdWU5NTI4NTcyODc=", "number": 1058, "title": "[loader-json] Columns with __ are duplicated for each row when --clean-names is True", "user": {"login": "geekscrapy", "id": 11225502, "node_id": "MDQ6VXNlcjExMjI1NTAy", "avatar_url": "https://avatars.githubusercontent.com/u/11225502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geekscrapy", "html_url": "https://github.com/geekscrapy", "followers_url": "https://api.github.com/users/geekscrapy/followers", "following_url": "https://api.github.com/users/geekscrapy/following{/other_user}", "gists_url": "https://api.github.com/users/geekscrapy/gists{/gist_id}", "starred_url": "https://api.github.com/users/geekscrapy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geekscrapy/subscriptions", "organizations_url": "https://api.github.com/users/geekscrapy/orgs", "repos_url": "https://api.github.com/users/geekscrapy/repos", "events_url": "https://api.github.com/users/geekscrapy/events{/privacy}", "received_events_url": "https://api.github.com/users/geekscrapy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 14, "created_at": "2021-07-26T12:36:22Z", "updated_at": "2021-08-25T16:28:43Z", "closed_at": "2021-08-24T01:30:02Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nColumns with a double underscore as the key get duplicated\r\n\r\n**Expected result**\r\nFor columns with a double underscore to only be shown once like other columns\r\n\r\n**Actual result with screenshot**\r\nActual:\r\n![image](https://user-images.githubusercontent.com/11225502/126990172-568c2e8a-dd51-4880-bdde-a642b68c1cd6.png)\r\n\r\nExpected:\r\n![image](https://user-images.githubusercontent.com/11225502/126990257-ef650030-5f1b-482a-88e0-d8011d56e864.png)\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n```json\r\n{\r\n    \"objects\":[\r\n        {\r\n            \"col1\": \"col1a\",\r\n            \"_col2\": \"col2 value a\",\r\n            \"__col3\": \"valueA\"\r\n          },\r\n          {\r\n            \"col1\": \"col1b\",\r\n            \"_col2\": \"col2 value b\",\r\n            \"__col3\": \"valueB\"\r\n          },\r\n          {\r\n            \"col1\": \"col1c\",\r\n            \"_col2\": \"col2 value c\",\r\n            \"__col3\": \"valueC\"\r\n          },\r\n          {\r\n            \"col1\": \"col1d\",\r\n            \"_col2\": \"col2 value d\",\r\n            \"__col3\": \"valueD\"\r\n          },\r\n          {\r\n            \"col1\": \"col1e\",\r\n            \"_col2\": \"col2 value e\",\r\n            \"__col3\": \"valueE\"\r\n          }\r\n    ]\r\n}\r\n```\r\n\r\nload with `pbpaste | vd -f json`\r\n\r\n**Additional context**\r\nv2.6dev", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1058/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1058/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1054", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1054/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1054/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1054/events", "html_url": "https://github.com/saulpw/visidata/issues/1054", "id": 950537237, "node_id": "MDU6SXNzdWU5NTA1MzcyMzc=", "number": 1054, "title": "[expand-cols] Provide vd.warning when sample rows != number of rows in the sheet", "user": {"login": "geekscrapy", "id": 11225502, "node_id": "MDQ6VXNlcjExMjI1NTAy", "avatar_url": "https://avatars.githubusercontent.com/u/11225502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geekscrapy", "html_url": "https://github.com/geekscrapy", "followers_url": "https://api.github.com/users/geekscrapy/followers", "following_url": "https://api.github.com/users/geekscrapy/following{/other_user}", "gists_url": "https://api.github.com/users/geekscrapy/gists{/gist_id}", "starred_url": "https://api.github.com/users/geekscrapy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geekscrapy/subscriptions", "organizations_url": "https://api.github.com/users/geekscrapy/orgs", "repos_url": "https://api.github.com/users/geekscrapy/repos", "events_url": "https://api.github.com/users/geekscrapy/events{/privacy}", "received_events_url": "https://api.github.com/users/geekscrapy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "anjakefala", "id": 7489659, "node_id": "MDQ6VXNlcjc0ODk2NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/7489659?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anjakefala", "html_url": "https://github.com/anjakefala", "followers_url": "https://api.github.com/users/anjakefala/followers", "following_url": "https://api.github.com/users/anjakefala/following{/other_user}", "gists_url": "https://api.github.com/users/anjakefala/gists{/gist_id}", "starred_url": "https://api.github.com/users/anjakefala/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anjakefala/subscriptions", "organizations_url": "https://api.github.com/users/anjakefala/orgs", "repos_url": "https://api.github.com/users/anjakefala/repos", "events_url": "https://api.github.com/users/anjakefala/events{/privacy}", "received_events_url": "https://api.github.com/users/anjakefala/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "anjakefala", "id": 7489659, "node_id": "MDQ6VXNlcjc0ODk2NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/7489659?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anjakefala", "html_url": "https://github.com/anjakefala", "followers_url": "https://api.github.com/users/anjakefala/followers", "following_url": "https://api.github.com/users/anjakefala/following{/other_user}", "gists_url": "https://api.github.com/users/anjakefala/gists{/gist_id}", "starred_url": "https://api.github.com/users/anjakefala/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anjakefala/subscriptions", "organizations_url": "https://api.github.com/users/anjakefala/orgs", "repos_url": "https://api.github.com/users/anjakefala/repos", "events_url": "https://api.github.com/users/anjakefala/events{/privacy}", "received_events_url": "https://api.github.com/users/anjakefala/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2021-07-22T10:58:28Z", "updated_at": "2021-11-03T00:24:27Z", "closed_at": "2021-11-02T05:44:11Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nThis issue is twofold:\r\n1. Provide `vd.warning` when sample rows != number of rows in the sheet.\r\n2. Change recommendation in the docs (https://www.visidata.org/docs/columns/) to something regarding the use of `options.default_sample_size` (as I presume it's used elsewhere).\r\n\r\n> Note that by default the expansion logic will look for nested columns in up to 1,000 rows surrounding the cursor. This behavior can be controlled by adjusting expand_col_scanrows in the Options Sheet, or setting options.expand_col_scanrows in the ~/.visidatarc file.\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1054/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1054/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1053", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1053/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1053/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1053/events", "html_url": "https://github.com/saulpw/visidata/issues/1053", "id": 950516059, "node_id": "MDU6SXNzdWU5NTA1MTYwNTk=", "number": 1053, "title": "[unfurl-col] unfurling a column with TypedWrapper halts unfurl", "user": {"login": "geekscrapy", "id": 11225502, "node_id": "MDQ6VXNlcjExMjI1NTAy", "avatar_url": "https://avatars.githubusercontent.com/u/11225502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geekscrapy", "html_url": "https://github.com/geekscrapy", "followers_url": "https://api.github.com/users/geekscrapy/followers", "following_url": "https://api.github.com/users/geekscrapy/following{/other_user}", "gists_url": "https://api.github.com/users/geekscrapy/gists{/gist_id}", "starred_url": "https://api.github.com/users/geekscrapy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geekscrapy/subscriptions", "organizations_url": "https://api.github.com/users/geekscrapy/orgs", "repos_url": "https://api.github.com/users/geekscrapy/repos", "events_url": "https://api.github.com/users/geekscrapy/events{/privacy}", "received_events_url": "https://api.github.com/users/geekscrapy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-07-22T10:29:20Z", "updated_at": "2021-08-18T05:01:59Z", "closed_at": "2021-08-18T05:01:52Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nWhen unfurling a column which has a TypedWrapper a sheet loading halt occurs\r\n\r\n**Expected result**\r\nThe same response as whatever `options.unfurl_empty` would do for a row without a list.\r\n\r\n**Actual result with screenshot**\r\nAttributeError: 'TypedWrapper' object has no attribute 'xyz'\r\n![unfurl](https://user-images.githubusercontent.com/11225502/126625610-ee355763-aa7d-427d-a517-abce6b84adfc.gif)\r\n\r\nIf you get an unexpected error, please include the full stack trace that you get with `Ctrl-E`.\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n`echo '[{\"a\":1,\"d\":{\"b\":[1,2,3]}},{\"a\":2,\"d\":{\"c\":[1,2,3]}},{\"a\":3,\"d\":{\"b\":[1,2,3]}}]' | vd -f json`\r\n\r\n```\r\nsheet\tcol\trow\tlongname\tinput\tkeystrokes\tcomment\r\n\t\t\topen-file\t-\to\t\r\n_\td\t\taddcol-expr\tcurcol['b']\t=\tcreate new column from Python expression, with column names as variables\r\n_\tcurcol_b_\t\tunfurl-col\t\t\trow-wise expand current column of lists (e.g. [2]) or dicts (e.g. {3}) within that column\r\n\r\n```\r\n\r\n**Additional context**\r\nv2.6dev\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1053/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1053/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1052", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1052/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1052/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1052/events", "html_url": "https://github.com/saulpw/visidata/issues/1052", "id": 950332868, "node_id": "MDU6SXNzdWU5NTAzMzI4Njg=", "number": 1052, "title": "sqlite: saving cells that were NULL before does not work", "user": {"login": "mattenklicker", "id": 24733276, "node_id": "MDQ6VXNlcjI0NzMzMjc2", "avatar_url": "https://avatars.githubusercontent.com/u/24733276?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattenklicker", "html_url": "https://github.com/mattenklicker", "followers_url": "https://api.github.com/users/mattenklicker/followers", "following_url": "https://api.github.com/users/mattenklicker/following{/other_user}", "gists_url": "https://api.github.com/users/mattenklicker/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattenklicker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattenklicker/subscriptions", "organizations_url": "https://api.github.com/users/mattenklicker/orgs", "repos_url": "https://api.github.com/users/mattenklicker/repos", "events_url": "https://api.github.com/users/mattenklicker/events{/privacy}", "received_events_url": "https://api.github.com/users/mattenklicker/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-07-22T06:11:39Z", "updated_at": "2021-09-07T03:39:00Z", "closed_at": "2021-09-07T03:38:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "Assuming a sqlite db like:\r\n`sqlite3 test.db \"create table testtable(testcol real);insert into testtable values(NULL)\"`\r\n\r\nIf the cell is changed with visidata from NULL to a real number saving fails:\r\n`really change 0 values? sqlite3.OperationalError near \"WHERE\"`\r\n\r\nThe opposite of this \"Change from NULL\" was #969 (Delete to NULL). So extending\r\nhttps://github.com/saulpw/visidata/blob/dfca91af3a3358dd2f07ec973554669c20885485/visidata/modify.py#L162\r\nto\r\n```python\r\nreturn (newval is None and curval is not None) or (curval is None and newval is not None) or col.type(newval) != col.type(curval)\r\n```\r\n fixes it.\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1052/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1052/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1050", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1050/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1050/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1050/events", "html_url": "https://github.com/saulpw/visidata/issues/1050", "id": 947709729, "node_id": "MDU6SXNzdWU5NDc3MDk3Mjk=", "number": 1050, "title": "[v2.5] numeric_binning with the frequency table is slow", "user": {"login": "kiedanski", "id": 49415614, "node_id": "MDQ6VXNlcjQ5NDE1NjE0", "avatar_url": "https://avatars.githubusercontent.com/u/49415614?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kiedanski", "html_url": "https://github.com/kiedanski", "followers_url": "https://api.github.com/users/kiedanski/followers", "following_url": "https://api.github.com/users/kiedanski/following{/other_user}", "gists_url": "https://api.github.com/users/kiedanski/gists{/gist_id}", "starred_url": "https://api.github.com/users/kiedanski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kiedanski/subscriptions", "organizations_url": "https://api.github.com/users/kiedanski/orgs", "repos_url": "https://api.github.com/users/kiedanski/repos", "events_url": "https://api.github.com/users/kiedanski/events{/privacy}", "received_events_url": "https://api.github.com/users/kiedanski/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2502056014, "node_id": "MDU6TGFiZWwyNTAyMDU2MDE0", "url": "https://api.github.com/repos/saulpw/visidata/labels/performance", "name": "performance", "color": "c5def5", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 14, "created_at": "2021-07-19T14:24:13Z", "updated_at": "2021-11-17T03:20:22Z", "closed_at": "2021-11-17T03:20:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "First, thanks for Visidata, I really like the concept, and I'm glad someone took the time to develop it.\r\n\r\nI have a dataset with 600k rows. Some of them are categorical and some are numeric.\r\n\r\nFor categorical columns (100~ unique items), the frequency table has an acceptable performance (is not fast, but not terribly slow). \r\nWhen trying to use the frequency table for numerical attributes, however, the performance degrades to the point that I need to close the application. Running `value_counts` using pandas from an IPython terminal is almost instantaneous.\r\n\r\nI tried playing around the binning of numerical data but did not work :/", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1050/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1050/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1047", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1047/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1047/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1047/events", "html_url": "https://github.com/saulpw/visidata/issues/1047", "id": 947006490, "node_id": "MDU6SXNzdWU5NDcwMDY0OTA=", "number": 1047, "title": "[v2.6dev] Provide friendly error for empty files", "user": {"login": "geekscrapy", "id": 11225502, "node_id": "MDQ6VXNlcjExMjI1NTAy", "avatar_url": "https://avatars.githubusercontent.com/u/11225502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geekscrapy", "html_url": "https://github.com/geekscrapy", "followers_url": "https://api.github.com/users/geekscrapy/followers", "following_url": "https://api.github.com/users/geekscrapy/following{/other_user}", "gists_url": "https://api.github.com/users/geekscrapy/gists{/gist_id}", "starred_url": "https://api.github.com/users/geekscrapy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geekscrapy/subscriptions", "organizations_url": "https://api.github.com/users/geekscrapy/orgs", "repos_url": "https://api.github.com/users/geekscrapy/repos", "events_url": "https://api.github.com/users/geekscrapy/events{/privacy}", "received_events_url": "https://api.github.com/users/geekscrapy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-07-18T10:55:20Z", "updated_at": "2021-08-18T04:16:02Z", "closed_at": "2021-08-18T04:15:55Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nI attempted to open a few files with `vd *.log`. This resulted in the following error:\r\n```\r\nTraceback (most recent call last):\r\n  File \"/Users/geekscrapy/py3.7/bin/vd\", line 6, in <module>\r\n    visidata.main.vd_cli()\r\n  File \"/Users/geekscrapy/py3.7/lib/python3.7/site-packages/visidata/main.py\", line 320, in vd_cli\r\n    rc = main_vd()\r\n  File \"/Users/geekscrapy/py3.7/lib/python3.7/site-packages/visidata/main.py\", line 223, in main_vd\r\n    vs = vd.openSource(p, create=True, **opts) or vd.fail(f'could not open {p}')\r\n  File \"/Users/geekscrapy/py3.7/lib/python3.7/site-packages/visidata/_open.py\", line 99, in openSource\r\n    vs = vd.openPath(Path(p), filetype=filetype, create=create)  # convert to Path and recurse\r\n  File \"/Users/geekscrapy/py3.7/lib/python3.7/site-packages/visidata/_open.py\", line 82, in openPath\r\n    return openfunc(p)\r\n  File \"/Users/geekscrapy/py3.7/lib/python3.7/site-packages/visidata/_open.py\", line 113, in open_txt\r\n    if options.delimiter in next(fp):    # peek at the first line\r\n  File \"/Users/geekscrapy/py3.7/lib/python3.7/site-packages/visidata/path.py\", line 59, in __next__\r\n    r = next(self.fp)\r\nStopIteration\r\n```\r\nAfter a bit of troubleshooting I figured out that it was due to a file with empty contents (like that created with `touch test`, md5 hash `d41d8cd98f00b204e9800998ecf8427e`) that was causing the issue.\r\n\r\n**Expected result**\r\nTo open all the files, not hard crash and probably provide some user feedback. Those files which are empty, add a dummy sheet (so you can track those that don't open). Maybe the dummy sheet doesn't open, or has no rows - so it is still joinable?\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n1. `touch test`\r\n2. `vd test`", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1047/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1047/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1046", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1046/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1046/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1046/events", "html_url": "https://github.com/saulpw/visidata/issues/1046", "id": 945653808, "node_id": "MDU6SXNzdWU5NDU2NTM4MDg=", "number": 1046, "title": "Batch loading does not work with +sheet-indexing", "user": {"login": "anjakefala", "id": 7489659, "node_id": "MDQ6VXNlcjc0ODk2NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/7489659?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anjakefala", "html_url": "https://github.com/anjakefala", "followers_url": "https://api.github.com/users/anjakefala/followers", "following_url": "https://api.github.com/users/anjakefala/following{/other_user}", "gists_url": "https://api.github.com/users/anjakefala/gists{/gist_id}", "starred_url": "https://api.github.com/users/anjakefala/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anjakefala/subscriptions", "organizations_url": "https://api.github.com/users/anjakefala/orgs", "repos_url": "https://api.github.com/users/anjakefala/repos", "events_url": "https://api.github.com/users/anjakefala/events{/privacy}", "received_events_url": "https://api.github.com/users/anjakefala/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2021-07-15T18:37:33Z", "updated_at": "2021-07-16T08:26:02Z", "closed_at": "2021-07-16T05:18:07Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "```\r\n>>\r\nanjakefala:git/visidata \u2039stable*\u203a$ bin/vd sample_data/sample-sales-reps.xlsx +sample-salesv4:: -b -o foo.json\r\n\r\n\r\nopening sample_data/sample-sales-reps.xlsx as xlsx\r\nTraceback (most recent call last):\r\n  File \"bin/vd\", line 6, in <module>\r\n    visidata.main.vd_cli()\r\n  File \"/home/anjakefala/git/visidata/visidata/main.py\", line 320, in vd_cli\r\n    rc = main_vd()\r\n  File \"/home/anjakefala/git/visidata/visidata/main.py\", line 259, in main_vd\r\n    vd.sync(vs.ensureLoaded())\r\nAttributeError: 'NoneType' object has no attribute 'ensureLoaded'\r\nanjakefala:git/visidata \u2039stable*\u203a$ bin/vd sample_data/sample-sales-reps.xlsx -b -o foo.json \r\n\r\n\r\nopening sample_data/sample-sales-reps.xlsx as xlsx\r\nsaving 1 sheets to foo.json as json\r\n\r\n```", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1046/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1046/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1041", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1041/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1041/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1041/events", "html_url": "https://github.com/saulpw/visidata/issues/1041", "id": 939963693, "node_id": "MDU6SXNzdWU5Mzk5NjM2OTM=", "number": 1041, "title": "NameError: name 'vdtui' is not defined", "user": {"login": "datamaskin", "id": 1183927, "node_id": "MDQ6VXNlcjExODM5Mjc=", "avatar_url": "https://avatars.githubusercontent.com/u/1183927?v=4", "gravatar_id": "", "url": "https://api.github.com/users/datamaskin", "html_url": "https://github.com/datamaskin", "followers_url": "https://api.github.com/users/datamaskin/followers", "following_url": "https://api.github.com/users/datamaskin/following{/other_user}", "gists_url": "https://api.github.com/users/datamaskin/gists{/gist_id}", "starred_url": "https://api.github.com/users/datamaskin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/datamaskin/subscriptions", "organizations_url": "https://api.github.com/users/datamaskin/orgs", "repos_url": "https://api.github.com/users/datamaskin/repos", "events_url": "https://api.github.com/users/datamaskin/events{/privacy}", "received_events_url": "https://api.github.com/users/datamaskin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2101517149, "node_id": "MDU6TGFiZWwyMTAxNTE3MTQ5", "url": "https://api.github.com/repos/saulpw/visidata/labels/can't%20reproduce", "name": "can't reproduce", "color": "f2712b", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2021-07-08T15:12:31Z", "updated_at": "2021-10-12T16:50:14Z", "closed_at": "2021-07-08T18:26:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Traceback (most recent call last):\r\n  File \"/usr/bin/vd\", line 151, in <module>\r\n    vdtui.status(__version_info__)\r\nNameError: name 'vdtui' is not defined**\r\n\r\n**vd open and display input JSON file**\r\n\r\n**Windows WSL (Ubuntu) terminal**\r\nNo Ctrl-E\r\n\r\n**/usr/bin/vd <somefile.json> **\r\nvd does not start\r\n\r\n**Additional context**\r\nInstalled today on Windows WSL Ubuntu\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1041/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1041/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1035", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1035/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1035/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1035/events", "html_url": "https://github.com/saulpw/visidata/issues/1035", "id": 933404144, "node_id": "MDU6SXNzdWU5MzM0MDQxNDQ=", "number": 1035, "title": "Long sheet names prevent 'quit-sheet' input being shown", "user": {"login": "geekscrapy", "id": 11225502, "node_id": "MDQ6VXNlcjExMjI1NTAy", "avatar_url": "https://avatars.githubusercontent.com/u/11225502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geekscrapy", "html_url": "https://github.com/geekscrapy", "followers_url": "https://api.github.com/users/geekscrapy/followers", "following_url": "https://api.github.com/users/geekscrapy/following{/other_user}", "gists_url": "https://api.github.com/users/geekscrapy/gists{/gist_id}", "starred_url": "https://api.github.com/users/geekscrapy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geekscrapy/subscriptions", "organizations_url": "https://api.github.com/users/geekscrapy/orgs", "repos_url": "https://api.github.com/users/geekscrapy/repos", "events_url": "https://api.github.com/users/geekscrapy/events{/privacy}", "received_events_url": "https://api.github.com/users/geekscrapy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2021-06-30T07:44:21Z", "updated_at": "2023-03-03T05:02:55Z", "closed_at": "2023-03-03T05:02:45Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nIf a sheet is modified, when `quit-sheet` is used the user is asked if they really want to close the sheet. This is normally fine, but if you have a long sheet name the prompt is not visible. Long sheet names often occur with joined/concatted sheets.\r\n\r\n**Expected result**\r\nTo be able to see the user input to confirm the closure. E.g. y/n input\r\n\r\nAppreciate this maybe fixed with a modal input thats coming \ud83d\udc4d", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1035/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1035/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1034", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1034/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1034/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1034/events", "html_url": "https://github.com/saulpw/visidata/issues/1034", "id": 931685512, "node_id": "MDU6SXNzdWU5MzE2ODU1MTI=", "number": 1034, "title": "^ symbol is rendered as \u25e6 on OSX", "user": {"login": "geekscrapy", "id": 11225502, "node_id": "MDQ6VXNlcjExMjI1NTAy", "avatar_url": "https://avatars.githubusercontent.com/u/11225502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geekscrapy", "html_url": "https://github.com/geekscrapy", "followers_url": "https://api.github.com/users/geekscrapy/followers", "following_url": "https://api.github.com/users/geekscrapy/following{/other_user}", "gists_url": "https://api.github.com/users/geekscrapy/gists{/gist_id}", "starred_url": "https://api.github.com/users/geekscrapy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geekscrapy/subscriptions", "organizations_url": "https://api.github.com/users/geekscrapy/orgs", "repos_url": "https://api.github.com/users/geekscrapy/repos", "events_url": "https://api.github.com/users/geekscrapy/events{/privacy}", "received_events_url": "https://api.github.com/users/geekscrapy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2021-06-28T15:17:54Z", "updated_at": "2021-06-29T04:33:53Z", "closed_at": "2021-06-29T04:14:02Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nWhilst using the carat symbol ^ in regex, it is now rendered incorrectly as \u25e6 (a unfilled bullet). Copying the \u25e6 via syscopy-cell actually copies it as a ^ so I believe it is just the rendering (maybe #758?)\r\n\r\n**Expected result**\r\n^ to be rendered\r\n\r\n**Actual result with screenshot**\r\n![image](https://user-images.githubusercontent.com/11225502/123661227-73148600-d845-11eb-9e94-387b6f68d323.png)\r\n\r\nThe selected column was created with `='^'`, but as you can see it renders the contents as \u25e6.\r\n\r\n**Additional context**\r\nvd commit: 911f15e52560bab8e751ade98050bbf98b0424e9", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1034/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1034/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1031", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1031/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1031/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1031/events", "html_url": "https://github.com/saulpw/visidata/issues/1031", "id": 931338863, "node_id": "MDU6SXNzdWU5MzEzMzg4NjM=", "number": 1031, "title": "curcol not available in addcol-sh", "user": {"login": "geekscrapy", "id": 11225502, "node_id": "MDQ6VXNlcjExMjI1NTAy", "avatar_url": "https://avatars.githubusercontent.com/u/11225502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geekscrapy", "html_url": "https://github.com/geekscrapy", "followers_url": "https://api.github.com/users/geekscrapy/followers", "following_url": "https://api.github.com/users/geekscrapy/following{/other_user}", "gists_url": "https://api.github.com/users/geekscrapy/gists{/gist_id}", "starred_url": "https://api.github.com/users/geekscrapy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geekscrapy/subscriptions", "organizations_url": "https://api.github.com/users/geekscrapy/orgs", "repos_url": "https://api.github.com/users/geekscrapy/repos", "events_url": "https://api.github.com/users/geekscrapy/events{/privacy}", "received_events_url": "https://api.github.com/users/geekscrapy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-06-28T08:59:49Z", "updated_at": "2021-06-28T18:14:19Z", "closed_at": "2021-06-28T18:14:19Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\n`echo $curcol` results in the following error.\r\n\r\n**Expected result**\r\nA column with the same data as `curcol` as if you had used `=` and the expr \"`curcol`\".\r\n\r\n**Error**\r\n```\r\nTraceback (most recent call last):\r\n  File \"/Users/geekscrapy/Documents/pyv/py3.7/lib/python3.7/site-packages/visidata/sheets.py\", line 132, in __getitem__\r\n    i = self._keys.index(colid)\r\nValueError: 'curcol' is not in list\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/Users/geekscrapy/Documents/pyv/py3.7/lib/python3.7/site-packages/visidata/sheets.py\", line 140, in __getitem__\r\n    c = self._lcm[colid]\r\n  File \"/Users/geekscrapy/Documents/pyv/py3.7/lib/python3.7/site-packages/visidata/basesheet.py\", line 32, in __getitem__\r\n    return self.locals[k]\r\nKeyError: 'curcol'\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/Users/geekscrapy/Documents/pyv/py3.7/lib/python3.7/site-packages/visidata/shell.py\", line 65, in calcValue\r\n    args.append(shlex.quote(str(context[arg[1:]])))\r\n  File \"/Users/geekscrapy/Documents/pyv/py3.7/lib/python3.7/site-packages/visidata/sheets.py\", line 146, in __getitem__\r\n    raise KeyError(colid)\r\nKeyError: 'curcol'\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/Users/geekscrapy/Documents/pyv/py3.7/lib/python3.7/site-packages/visidata/threads.py\", line 219, in _toplevelTryFunc\r\n    t.status = func(*args, **kwargs)\r\n  File \"/Users/geekscrapy/Documents/pyv/py3.7/lib/python3.7/site-packages/visidata/threads.py\", line 28, in _func\r\n    d[k] = func(*args, **kwargs)\r\n  File \"/Users/geekscrapy/Documents/pyv/py3.7/lib/python3.7/site-packages/visidata/shell.py\", line 73, in calcValue\r\n    vd.exceptionCaught(e)\r\nNameError: name 'vd' is not defined\r\n```\r\n\r\n**Additional context**\r\nvd commit: 911f15e52560bab8e751ade98050bbf98b0424e9\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1031/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1031/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1029", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1029/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1029/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1029/events", "html_url": "https://github.com/saulpw/visidata/issues/1029", "id": 930966134, "node_id": "MDU6SXNzdWU5MzA5NjYxMzQ=", "number": 1029, "title": "[cursorDisplay col] Hard crash when cursor on cell of SheetsSheet cursorDisplay", "user": {"login": "frosencrantz", "id": 631242, "node_id": "MDQ6VXNlcjYzMTI0Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/631242?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frosencrantz", "html_url": "https://github.com/frosencrantz", "followers_url": "https://api.github.com/users/frosencrantz/followers", "following_url": "https://api.github.com/users/frosencrantz/following{/other_user}", "gists_url": "https://api.github.com/users/frosencrantz/gists{/gist_id}", "starred_url": "https://api.github.com/users/frosencrantz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frosencrantz/subscriptions", "organizations_url": "https://api.github.com/users/frosencrantz/orgs", "repos_url": "https://api.github.com/users/frosencrantz/repos", "events_url": "https://api.github.com/users/frosencrantz/events{/privacy}", "received_events_url": "https://api.github.com/users/frosencrantz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2021-06-27T16:10:09Z", "updated_at": "2023-02-04T07:13:52Z", "closed_at": "2022-11-11T04:17:02Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nHard crash when the cursor goes to the cell of SheetsSheet cursorDisplay for the current SheetsSheet.\r\n\r\n**Expected result**\r\nNo crash.\r\n\r\n**Actual result with screenshot**\r\n\r\nGoes into infinite recursion:\r\n\r\n\t```\r\n\tCurrent thread (most recent call first):\r\n\t  File \"/data/data/com.termux/files/home/git/visidata/env/lib/python3.9/site-packages/visidata/column.py\", line 470 in <lambda>\r\n\t  File \"/data/data/com.termux/files/home/git/visidata/env/lib/python3.9/site-packages/visidata/column.py\", line 244 in calcValue\r\n\t  File \"/data/data/com.termux/files/home/git/visidata/env/lib/python3.9/site-packages/visidata/column.py\", line 282 in getValue\r\n\t  File \"/data/data/com.termux/files/home/git/visidata/env/lib/python3.9/site-packages/visidata/wrappers.py\", line 108 in wrapply\r\n\t  File \"/data/data/com.termux/files/home/git/visidata/env/lib/python3.9/site-packages/visidata/column.py\", line 301 in getCell\r\n\t  File \"/data/data/com.termux/files/home/git/visidata/env/lib/python3.9/site-packages/visidata/column.py\", line 362 in getDisplayValue\r\n\t  File \"/data/data/com.termux/files/home/git/visidata/env/lib/python3.9/site-packages/visidata/sheets.py\", line 445 in cursorDisplay\r\n\t  File \"/data/data/com.termux/files/home/git/visidata/env/lib/python3.9/site-packages/visidata/column.py\", line 425 in getattrdeep\r\n\t  File \"/data/data/com.termux/files/home/git/visidata/env/lib/python3.9/site-packages/visidata/column.py\", line 470 in <lambda>\r\n\r\n\r\n\t...  many duplicated lines removed.\r\n\r\n\t  File \"/data/data/com.termux/files/home/git/visidata/env/lib/python3.9/site-packages/visidata/column.py\", line 282 in getValue\r\n\t  File \"/data/data/com.termux/files/home/git/visidata/env/lib/python3.9/site-packages/visidata/wrappers.py\", line 108 in wrapply\r\n\t  ...\r\n\tAborted (core dumped)\r\n\t```\r\n\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n\r\n```\r\nvd \r\nS                  - Go to SheetsSheet\r\nc cursorDisplay    - Go to CursorDisplay column for the current SheetsSheet\r\n```\r\n\r\n**Additional context**\r\nPlease include the version of VisiData. Latest develop version.\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1029/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1029/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1023", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1023/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1023/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1023/events", "html_url": "https://github.com/saulpw/visidata/issues/1023", "id": 926748734, "node_id": "MDU6SXNzdWU5MjY3NDg3MzQ=", "number": 1023, "title": "add new column from bash expr does not respect pipes", "user": {"login": "justin2004", "id": 16325158, "node_id": "MDQ6VXNlcjE2MzI1MTU4", "avatar_url": "https://avatars.githubusercontent.com/u/16325158?v=4", "gravatar_id": "", "url": "https://api.github.com/users/justin2004", "html_url": "https://github.com/justin2004", "followers_url": "https://api.github.com/users/justin2004/followers", "following_url": "https://api.github.com/users/justin2004/following{/other_user}", "gists_url": "https://api.github.com/users/justin2004/gists{/gist_id}", "starred_url": "https://api.github.com/users/justin2004/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/justin2004/subscriptions", "organizations_url": "https://api.github.com/users/justin2004/orgs", "repos_url": "https://api.github.com/users/justin2004/repos", "events_url": "https://api.github.com/users/justin2004/events{/privacy}", "received_events_url": "https://api.github.com/users/justin2004/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2021-06-22T02:00:15Z", "updated_at": "2021-06-27T20:23:43Z", "closed_at": "2021-06-27T05:52:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Small description**\r\nin a sheet with a column called AIRPORT I pressed z;\r\nthen\r\nsh$ echo $AIRPORT | sed -e 's/INTL/INTERNATIONAL/'\r\nbut the new derived cell contains:\r\n```\r\nSAN ANTONIO INTL | sed -e s/INTL/INTERNATIONAL/\u00b7\r\n```\r\n\r\n**Expected result**\r\nI expected the new derived cell to be:\r\n```\r\nSAN ANTONIO INTERNATIONAL\r\n```\r\n\r\n\r\n\r\n**Additional context**\r\nPlease include the version of VisiData.\r\n\r\nmy version is:\r\n```\r\ncommit 6979e01fd0b6a12d3fa02b3ade9486157940ea8c (HEAD -> stable, origin/stable, origin/HEAD)\r\nAuthor: anjakefala <anja.kefala@gmail.com>\r\nDate:   Thu May 27 23:07:07 2021 -0700\r\n```", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1023/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1023/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1018", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1018/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1018/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1018/events", "html_url": "https://github.com/saulpw/visidata/issues/1018", "id": 923309090, "node_id": "MDU6SXNzdWU5MjMzMDkwOTA=", "number": 1018, "title": "encoding: command line option not taken into account for piped data", "user": {"login": "pacien", "id": 1449319, "node_id": "MDQ6VXNlcjE0NDkzMTk=", "avatar_url": "https://avatars.githubusercontent.com/u/1449319?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pacien", "html_url": "https://github.com/pacien", "followers_url": "https://api.github.com/users/pacien/followers", "following_url": "https://api.github.com/users/pacien/following{/other_user}", "gists_url": "https://api.github.com/users/pacien/gists{/gist_id}", "starred_url": "https://api.github.com/users/pacien/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pacien/subscriptions", "organizations_url": "https://api.github.com/users/pacien/orgs", "repos_url": "https://api.github.com/users/pacien/repos", "events_url": "https://api.github.com/users/pacien/events{/privacy}", "received_events_url": "https://api.github.com/users/pacien/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-06-17T01:49:29Z", "updated_at": "2021-06-23T22:09:20Z", "closed_at": "2021-06-23T21:30:08Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\n\r\nThe `--encoding` command line option does not seem to be taken into account when loading data from stdin.\r\n\r\n**Expected result**\r\n\r\nIt should just work(tm).\r\n\r\n**Actual result with screenshot**\r\n\r\n\u276f `cat file_containing_latin1_stuff.csv | vd --csv-delimiter ';' --encoding latin-1`\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/nix/store/mma80vygbn5vygw16nb1pkjz0nrrd6mq-visidata-2.4/bin/.vd-wrapped\", line 7, in <module>\r\n    visidata.main.vd_cli()\r\n  File \"/nix/store/mma80vygbn5vygw16nb1pkjz0nrrd6mq-visidata-2.4/lib/python3.8/site-packages/visidata/main.py\", line 301, in vd_cli\r\n    rc = main_vd()\r\n  File \"/nix/store/mma80vygbn5vygw16nb1pkjz0nrrd6mq-visidata-2.4/lib/python3.8/site-packages/visidata/main.py\", line 215, in main_vd\r\n    vs = vd.openSource(p, create=True, **opts) or vd.fail(f'could not open {p}')\r\n  File \"/nix/store/mma80vygbn5vygw16nb1pkjz0nrrd6mq-visidata-2.4/lib/python3.8/site-packages/visidata/_open.py\", line 92, in openSource\r\n    vs = vs or vd.openPath(p, filetype=filetype, create=create)\r\n  File \"/nix/store/mma80vygbn5vygw16nb1pkjz0nrrd6mq-visidata-2.4/lib/python3.8/site-packages/visidata/_open.py\", line 73, in openPath\r\n    return openfunc(p)\r\n  File \"/nix/store/mma80vygbn5vygw16nb1pkjz0nrrd6mq-visidata-2.4/lib/python3.8/site-packages/visidata/_open.py\", line 104, in open_txt\r\n    if options.delimiter in next(fp):    # peek at the first line\r\n  File \"/nix/store/mma80vygbn5vygw16nb1pkjz0nrrd6mq-visidata-2.4/lib/python3.8/site-packages/visidata/path.py\", line 281, in __next__\r\n    return next(self.iter)\r\n  File \"/nix/store/mma80vygbn5vygw16nb1pkjz0nrrd6mq-visidata-2.4/lib/python3.8/site-packages/visidata/path.py\", line 300, in __next__\r\n    r = next(self.rf.iter_lines)\r\n  File \"/nix/store/4s0h5aawbap3xhldxhcijvl26751qrjr-python3-3.8.9/lib/python3.8/codecs.py\", line 322, in decode\r\n    (result, consumed) = self._buffer_decode(data, self.errors, final)\r\nUnicodeDecodeError: 'utf-8' codec can't decode byte 0xe7 in position 176: invalid continuation byte\r\n```\r\n\r\n**Additional context**\r\n\r\nVersion: issue affects v2.4 and the tip of the develop branch (commit 3350d9fd8c9e64ebf409deae4b31085d12efeb7f)", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1018/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1018/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1016", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1016/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1016/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1016/events", "html_url": "https://github.com/saulpw/visidata/issues/1016", "id": 923243647, "node_id": "MDU6SXNzdWU5MjMyNDM2NDc=", "number": 1016, "title": "cmdlog: cannot reliably save command log when an encoding is set", "user": {"login": "pacien", "id": 1449319, "node_id": "MDQ6VXNlcjE0NDkzMTk=", "avatar_url": "https://avatars.githubusercontent.com/u/1449319?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pacien", "html_url": "https://github.com/pacien", "followers_url": "https://api.github.com/users/pacien/followers", "following_url": "https://api.github.com/users/pacien/following{/other_user}", "gists_url": "https://api.github.com/users/pacien/gists{/gist_id}", "starred_url": "https://api.github.com/users/pacien/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pacien/subscriptions", "organizations_url": "https://api.github.com/users/pacien/orgs", "repos_url": "https://api.github.com/users/pacien/repos", "events_url": "https://api.github.com/users/pacien/events{/privacy}", "received_events_url": "https://api.github.com/users/pacien/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-06-17T00:16:47Z", "updated_at": "2021-06-23T06:03:38Z", "closed_at": "2021-06-23T05:18:45Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\n\r\nStarting visidata with the `--encoding=latin-1` option breaks the command log export in some cases.\r\nIn my understanding of the manual page, this command line option should only affect the input codec, not the output.\r\n\r\n**Expected result**\r\n\r\nIt should just work(tm).\r\n\r\n**Actual result with screenshot**\r\n\r\n```stacktrace\r\nTraceback (most recent call last):\r\n  File \"/nix/store/zc65ylph8nmbfr24znp8h469r03v47j7-visidata-2.4/lib/python3.8/site-packages/visidata/threads.py\", line 219, in _toplevelTryFunc\r\n    t.status = func(*args, **kwargs)\r\n  File \"/nix/store/zc65ylph8nmbfr24znp8h469r03v47j7-visidata-2.4/lib/python3.8/site-packages/visidata/loaders/tsv.py\", line 71, in save_tsv\r\n    fp.write(unitsep.join(dispvals.values()))\r\nUnicodeEncodeError: 'latin-1' codec can't encode character '\\u30ad' in position 8: ordinal not in range(256)\r\n```\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n\r\nSince the bug prevents exporting the `.vd` command log, here's a hand-crafted version instead:\r\n\r\n1. `visidata --encoding=latin-1` to start the program.\r\n2. `<Shift-S>` to open the sheets sheet.\r\n3. `a` to add an empty line.\r\n4. `^D` to attempt saving the command log.\r\n5. `<enter>` to confirm the name of the command log output file.\r\n6. The error above should appear on the status line.\r\n\r\n**Additional context**\r\n\r\nVersion: issue affects v2.4 and the tip of the develop branch (commit 3350d9fd8c9e64ebf409deae4b31085d12efeb7f)", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1016/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1016/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1014", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1014/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1014/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1014/events", "html_url": "https://github.com/saulpw/visidata/issues/1014", "id": 921975291, "node_id": "MDU6SXNzdWU5MjE5NzUyOTE=", "number": 1014, "title": "tests: golden output mismatch on Python >3.6", "user": {"login": "pacien", "id": 1449319, "node_id": "MDQ6VXNlcjE0NDkzMTk=", "avatar_url": "https://avatars.githubusercontent.com/u/1449319?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pacien", "html_url": "https://github.com/pacien", "followers_url": "https://api.github.com/users/pacien/followers", "following_url": "https://api.github.com/users/pacien/following{/other_user}", "gists_url": "https://api.github.com/users/pacien/gists{/gist_id}", "starred_url": "https://api.github.com/users/pacien/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pacien/subscriptions", "organizations_url": "https://api.github.com/users/pacien/orgs", "repos_url": "https://api.github.com/users/pacien/repos", "events_url": "https://api.github.com/users/pacien/events{/privacy}", "received_events_url": "https://api.github.com/users/pacien/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-06-16T01:20:26Z", "updated_at": "2021-06-27T06:08:45Z", "closed_at": "2021-06-27T06:08:37Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\n\r\nSome of the tests which compare some output against existing references fail when running on Python 3.8.\r\nThis prevents the test suite from being run by other distribution channels using that version of Python.\r\n\r\n**Expected result**\r\n\r\nIdeally, all tests should pass.\r\nTests which are known to require some specific Python version could otherwise be automatically skipped when running on another version. The same could also be done for tests requiring some optional dependencies.\r\n\r\n**Actual result with screenshot**\r\n\r\nvisidata v2.4\r\n\r\n`dev/test.sh` running with Python 3.8:\r\n\r\n```log\r\n=== git diffs for BUILD FAILURE ===\r\n2       2       tests/golden/describe-error.tsv\r\n2       2       tests/golden/describe.tsv\r\n2       2       tests/golden/edit-type.tsv\r\ndiff --git a/tests/golden/describe-error.tsv b/tests/golden/describe-error.tsv\r\nindex 933375b..48f7560 100644\r\n--- a/tests/golden/describe-error.tsv\r\n+++ b/tests/golden/describe-error.tsv\r\n@@ -1,6 +1,6 @@\r\n column errors  nulls   distinct        mode    min     max     sum     median  mean    stdev\r\n        0       10      2       #ERR                                            \r\n amt    0       3       8       0.01    0.01    43.2    58.919999999999995      3.0     8.42    15.67\r\n-key1   0       3       9       #ERR    2016-01-01      2018-10-20      #ERR    2018-07-27      #ERR    #ERR\r\n+key1   0       3       9       2016-01-01      2016-01-01      2018-10-20      #ERR    2018-07-27      #ERR    #ERR\r\n key2   0       3       5       baz                                             \r\n-qty    1       2       9       #ERR    1       256     375     16      53.57   92.05\r\n+qty    1       2       9       1       1       256     375     16      53.57   92.05\r\ndiff --git a/tests/golden/describe.tsv b/tests/golden/describe.tsv\r\nindex b982b8c..64c1c2a 100644\r\n--- a/tests/golden/describe.tsv\r\n+++ b/tests/golden/describe.tsv\r\n@@ -1,7 +1,7 @@\r\n column errors  nulls   distinct        mode    min     max     sum     median  mean    stdev\r\n-Date   0       0       45      #ERR    2018-07-03      2018-08-31      #ERR    2018-08-06      #ERR    #ERR\r\n+Date   0       0       45      2018-07-10      2018-07-03      2018-08-31      #ERR    2018-08-06      #ERR    #ERR\r\n Customer       0       0       15      Robert Armstrong                                                \r\n-SKU    0       0       32      #ERR                                            \r\n+SKU    0       0       32      FOOD122                                         \r\n Item   0       0       38      Food, Senior Wet Cat - 3 oz                                             \r\n Quantity       0       0       10      1       1       144     401     2       8.18    21.97\r\n Unit   0       0       26      12.95   0.0     2495.99 11413.830000000005      12.95   232.94  596.19\r\ndiff --git a/tests/golden/edit-type.tsv b/tests/golden/edit-type.tsv\r\nindex ab90e1d..f7d89e4 100644\r\n--- a/tests/golden/edit-type.tsv\r\n+++ b/tests/golden/edit-type.tsv\r\n@@ -1,7 +1,7 @@\r\n column errors  nulls   distinct        mode    min     max     sum     median  mean    stdev\r\n-Date   0       0       45      #ERR                                            \r\n+Date   0       0       45      7/10/2018 5:23p                                         \r\n Customer       0       0       15      Robert Armstrong                                                \r\n-SKU    0       0       32      #ERR                                            \r\n+SKU    0       0       32      FOOD122                                         \r\n Item   0       0       38      Food, Senior Wet Cat - 3 oz                                             \r\n Quantity       0       0       10      1       1       144     401     2       8.18    21.97\r\n Unit   0       0       26      12.95   0.0     2495.99 11413.830000000005      12.95   232.94  596.19\r\n```\r\n\r\n**Additional context**\r\n\r\nIRC:\r\n\r\n```\r\nNotkea: I'm trying to enable the automatic tests for the visidata package on NixOS.\r\nHowever, git seems to detect some differences in the outputs.\r\n[snippet]\r\n\r\nkefala: python version related!\r\nat least, the first 3 are, the tests need to be run with python 3.6, or that diff in the mode column ignored\r\nthis is bc the python return value for mode calculations has changed btwn 3.6 and 3.8\r\ni should set up a way for us to run automated tests for both versions. have both goldens.\r\n```", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1014/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1014/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1008", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1008/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1008/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1008/events", "html_url": "https://github.com/saulpw/visidata/issues/1008", "id": 920750969, "node_id": "MDU6SXNzdWU5MjA3NTA5Njk=", "number": 1008, "title": "vds: cannot export sheets containing a date column", "user": {"login": "pacien", "id": 1449319, "node_id": "MDQ6VXNlcjE0NDkzMTk=", "avatar_url": "https://avatars.githubusercontent.com/u/1449319?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pacien", "html_url": "https://github.com/pacien", "followers_url": "https://api.github.com/users/pacien/followers", "following_url": "https://api.github.com/users/pacien/following{/other_user}", "gists_url": "https://api.github.com/users/pacien/gists{/gist_id}", "starred_url": "https://api.github.com/users/pacien/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pacien/subscriptions", "organizations_url": "https://api.github.com/users/pacien/orgs", "repos_url": "https://api.github.com/users/pacien/repos", "events_url": "https://api.github.com/users/pacien/events{/privacy}", "received_events_url": "https://api.github.com/users/pacien/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-06-14T20:31:49Z", "updated_at": "2021-06-18T16:53:04Z", "closed_at": "2021-06-17T23:00:53Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\n\r\nIt's not possible to save a sheet to a .vds file if said sheet contains a date column.\r\nThis results in the error below.\r\n\r\n**Expected result**\r\n\r\nIt should just work(tm).\r\n\r\n**Actual result with screenshot**\r\n\r\n```stacktrace\r\nTraceback (most recent call last):\r\n  File \"/nix/store/srkr2wnwq95ylmgiadh28p3jiaadl5yw-visidata-2.4/lib/python3.8/site-packages/visidata/threads.py\", line 215, in _toplevelTryFunc\r\n    t.status = func(*args, **kwargs)\r\n  File \"/nix/store/srkr2wnwq95ylmgiadh28p3jiaadl5yw-visidata-2.4/lib/python3.8/site-packages/visidata/loaders/vds.py\", line 32, in save_vds\r\n    fp.write(json.dumps(d)+NL)\r\n  File \"/nix/store/4s0h5aawbap3xhldxhcijvl26751qrjr-python3-3.8.9/lib/python3.8/json/__init__.py\", line 231, in dumps\r\n    return _default_encoder.encode(obj)\r\n  File \"/nix/store/4s0h5aawbap3xhldxhcijvl26751qrjr-python3-3.8.9/lib/python3.8/json/encoder.py\", line 199, in encode\r\n    chunks = self.iterencode(o, _one_shot=True)\r\n  File \"/nix/store/4s0h5aawbap3xhldxhcijvl26751qrjr-python3-3.8.9/lib/python3.8/json/encoder.py\", line 257, in iterencode\r\n    return _iterencode(o, 0)\r\n  File \"/nix/store/4s0h5aawbap3xhldxhcijvl26751qrjr-python3-3.8.9/lib/python3.8/json/encoder.py\", line 179, in default\r\n    raise TypeError(f'Object of type {o.__class__.__name__} '\r\nTypeError: Object of type date is not JSON serializable\r\n```\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n\r\n\u276f cat testsheet.vd\r\n```log\r\nsheet\tcol\trow\tlongname\tinput\tkeystrokes\tcomment\r\nvisidata_menu\t\t\tsheets-stack\t\tS\topen Sheets Stack: join or jump between the active sheets on the current stack\r\nsheets\t\t\u30adsheets\tadd-row\t\ta\tappend a blank row\r\nsheets\tname\t\u30ad\tedit-cell\ttestsheet\te\tedit contents of current cell\r\nsheets\t\t\u30adtestsheet\topen-row\t\t^J\topen sheet referenced in current row\r\ntestsheet\t0\t\trename-col\ttestcol\t^\tedit name of current column\r\ntestsheet\ttestcol\t\ttype-date\t\t@\tset type of current column to date\r\ntestsheet\t\t\tadd-row\t\ta\tappend a blank row\r\ntestsheet\ttestcol\t0\tedit-cell\t2021-06-14\te\tedit contents of current cell\r\ntestsheet\t\t\tsave-all\ttest.vds\tg^S\tsave all sheets to given file or directory)\r\n```\r\n\r\n\r\n**Additional context**\r\n\r\nProblem is present on v2.4 and on the develop branch (commit 3350d9fd8c9e64ebf409deae4b31085d12efeb7f)", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1008/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1008/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1007", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1007/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1007/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1007/events", "html_url": "https://github.com/saulpw/visidata/issues/1007", "id": 919897157, "node_id": "MDU6SXNzdWU5MTk4OTcxNTc=", "number": 1007, "title": "vds: can't load a .vds file from stdin", "user": {"login": "pacien", "id": 1449319, "node_id": "MDQ6VXNlcjE0NDkzMTk=", "avatar_url": "https://avatars.githubusercontent.com/u/1449319?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pacien", "html_url": "https://github.com/pacien", "followers_url": "https://api.github.com/users/pacien/followers", "following_url": "https://api.github.com/users/pacien/following{/other_user}", "gists_url": "https://api.github.com/users/pacien/gists{/gist_id}", "starred_url": "https://api.github.com/users/pacien/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pacien/subscriptions", "organizations_url": "https://api.github.com/users/pacien/orgs", "repos_url": "https://api.github.com/users/pacien/repos", "events_url": "https://api.github.com/users/pacien/events{/privacy}", "received_events_url": "https://api.github.com/users/pacien/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-06-13T22:51:18Z", "updated_at": "2021-06-18T16:53:14Z", "closed_at": "2021-06-17T23:02:18Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\n\r\n`cat test.vds | vd --filetype vds` results in: `AttributeError: 'RepeatFile' object has no attribute 'readline'`.\r\n\r\nIt should instead just work(tm).\r\n\r\n**Additional context**\r\n\r\nProblem is present on v2.4 and on the develop branch (commit 3350d9fd8c9e64ebf409deae4b31085d12efeb7f)", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1007/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1007/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1006", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1006/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1006/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1006/events", "html_url": "https://github.com/saulpw/visidata/issues/1006", "id": 919896613, "node_id": "MDU6SXNzdWU5MTk4OTY2MTM=", "number": 1006, "title": "vds: empty columns after saving and opening again to and from .vds", "user": {"login": "pacien", "id": 1449319, "node_id": "MDQ6VXNlcjE0NDkzMTk=", "avatar_url": "https://avatars.githubusercontent.com/u/1449319?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pacien", "html_url": "https://github.com/pacien", "followers_url": "https://api.github.com/users/pacien/followers", "following_url": "https://api.github.com/users/pacien/following{/other_user}", "gists_url": "https://api.github.com/users/pacien/gists{/gist_id}", "starred_url": "https://api.github.com/users/pacien/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pacien/subscriptions", "organizations_url": "https://api.github.com/users/pacien/orgs", "repos_url": "https://api.github.com/users/pacien/repos", "events_url": "https://api.github.com/users/pacien/events{/privacy}", "received_events_url": "https://api.github.com/users/pacien/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-06-13T22:47:26Z", "updated_at": "2021-06-18T16:53:21Z", "closed_at": "2021-06-18T09:37:01Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\n\r\nThe content inserted in new empty columns is lost after saving to a vds file and opening it again.\r\nThe values are present in the json representation within the vds file but aren't loaded again in visidata.\r\n\r\n`sed -i 's/SettableColumn/Column/g' test.vds` makes it possible to load all the content again.\r\n\r\n**Expected result**\r\n\r\nAfter opening the vds file again, the sheet should show:\r\n\r\n```screenshot\r\n col1 | col2 \u2551\r\n val1 | val2 \u2551\r\n```\r\n\r\n**Actual result with screenshot**\r\n\r\n```screenshot\r\n col1 | col2 \u2551\r\n val1 |     \u2300\u2551\r\n```\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n\r\n\u276f cat testsheet.vd\r\n```vd\r\nsheet\tcol\trow\tlongname\tinput\tkeystrokes\tcomment\r\nvisidata_menu\t\t\tsheets-stack\t\tS\topen Sheets Stack: join or jump between the active sheets on the current stack\r\nsheets\t\t\u30adsheets\tadd-row\t\ta\tappend a blank row\r\nsheets\tname\t\u30ad\tedit-cell\ttestsheet\te\tedit contents of current cell\r\nsheets\t\t\u30adtestsheet\topen-row\t\t^J\topen sheet referenced in current row\r\ntestsheet\t0\t\trename-col\tcol1\t^\tedit name of current column\r\ntestsheet\t\t\taddcol-new\tcol2\tza\tappend an empty column\r\ntestsheet\t\t\tadd-row\t\ta\tappend a blank row\r\ntestsheet\tcol1\t0\tedit-cell\tval1\te\tedit contents of current cell\r\ntestsheet\tcol2\t0\tedit-cell\tval2\te\tedit contents of current cell\r\ntestsheet\t\t\tsave-all\ttest.vds\tg^S\tsave all sheets to given file or directory)\r\n```\r\n\r\n\u276f cat test.vds\r\n```vds\r\n#{\"name\": \"testsheet\"}\r\n#{\"name\": \"col1\", \"width\": 6, \"height\": 1, \"expr\": 0, \"keycol\": 0, \"fmtstr\": \"\", \"voffset\": 0, \"hoffset\": 0, \"aggstr\": \"\", \"type\": \"\", \"col\": \"Column\"}\r\n#{\"name\": \"col2\", \"width\": 6, \"height\": 1, \"expr\": null, \"keycol\": 0, \"fmtstr\": \"\", \"voffset\": 0, \"hoffset\": 0, \"aggstr\": \"\", \"type\": \"\", \"col\": \"SettableColumn\"}\r\n{\"col1\": \"val1\", \"col2\": \"val2\"}\r\n#{\"name\": \"visidata_menu\"}\r\n#{\"name\": \"items\", \"width\": 7, \"height\": 1, \"expr\": \"nRows\", \"keycol\": 0, \"fmtstr\": \"\", \"voffset\": 0, \"hoffset\": 0, \"aggstr\": \"\", \"type\": \"int\", \"col\": \"Column\"}\r\n#{\"name\": \"description\", \"width\": 50, \"height\": 1, \"expr\": \"description\", \"keycol\": 0, \"fmtstr\": \"\", \"voffset\": 0, \"hoffset\": 0, \"aggstr\": \"\", \"type\": \"\", \"col\": \"Column\"}\r\n#{\"name\": \"shortcut\", \"width\": 11, \"height\": 1, \"expr\": \"shortcut_en\", \"keycol\": 0, \"fmtstr\": \"\", \"voffset\": 0, \"hoffset\": 0, \"aggstr\": \"\", \"type\": \"\", \"col\": \"Column\"}\r\n{\"items\": 87, \"description\": \"DirSheet for the current directory\", \"shortcut\": \"\"}\r\n{\"items\": 2, \"description\": \"current sheet stack\", \"shortcut\": \"Shift+S\"}\r\n{\"items\": 1, \"description\": \"all sheets this session\", \"shortcut\": \"g Shift+S\"}\r\n{\"items\": 5, \"description\": \"all columns from all sheets\", \"shortcut\": \"g Shift+C\"}\r\n{\"items\": 10, \"description\": \"log of all commands this session\", \"shortcut\": \"g Shift+D\"}\r\n{\"items\": 154, \"description\": \"default option values applying to every sheet\", \"shortcut\": \"Shift+O\"}\r\n{\"items\": 0, \"description\": \"stacktrace of most recent error\", \"shortcut\": \"Ctrl+E\"}\r\n{\"items\": 3, \"description\": \"status messages from current session\", \"shortcut\": \"Ctrl+P\"}\r\n{\"items\": 2, \"description\": \"threads and profiling\", \"shortcut\": \"Ctrl+T\"}\r\n{\"items\": 11, \"description\": \"VisiData menu (this sheet)\", \"shortcut\": \"Shift+V\"}\r\n{\"items\": 14, \"description\": \"VisiData community plugins\", \"shortcut\": \"\"}\r\n```\r\n\r\n**Additional context**\r\n\r\nThe issue is present on v2.4 and on the develop branch at the time of writing (commit 2856cb4234ca51034490efbe1bd176b9b0c71250).\r\n\r\nIRC discussion:\r\n\r\n```log\r\nNotkea: hello, I'm trying to save some sheets and their data into a vds file. While I can save, quit and reload the content when saving to usual csv(s), the content seems to vanish after reloading the vds file. When I inspect the vds file with a text editor, I can see the content of the cells. But those appear as empty once loaded again in visidata. Am I missing something?\r\nkefala: which version of visidata are you using?\r\nNotkea: saul.pw/VisiData v2.4\r\nkefala: i cannot reproduce :( so i need more information, i think\r\nkefala: but, i am not sure what information to ask for\r\nkefala: can you break down the steps of what you are doing a bit further?\r\nkefala: you are welcome to submit a more detailed bug report, with files attached\r\nNotkea: I tried saving the command log but I get another error. So here's what I did: I opened vd, then the sheets sheet, created a new sheet, created one numeric primary column and a text column, added a row (1, \"test\"), then saved everything with g^s to test.vds. I then quitted the application and reopened the file with vd test.vds. Opening the sheet sheet again, I only have a row (1, empty)\r\nNotkea: I'm creating the second column with za, which results in a new column of type \"SettableColumn\". If I change the type to simply \"Column\" in the vds file, its content can then be loaded. What's the difference between \"SettableColumn\" and \"Column\" and how can i directyl create columns of the latter type?\r\nsaul: ah, interesting, Notkea...that's probably a bug, and should just be Column in the first place\r\nNotkea: It seems like it's saving the actual python type (SettableColumn) here: https://github.com/saulpw/visidata/blob/stable/visidata/loaders/vds.py#L26\r\nShould I open a ticket for that?\r\nNotkea: or do you mean that it should have created a Column when using za?\r\nsaul: please do open a ticket for it\r\nsaul: za creates a SettableColumn, because there's no place in the row for the 'new' data\r\nsaul: once it's in the .vds though it does have one, so it should convert it. i thought we fixed that, maybe it's in develop but just not released yet\r\nsaul: so if you wanted to be extra rigorous, clone/install the develop branch and see if it's still there\r\nNotkea: looks like it's still present on develop\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1006/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1006/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1005", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1005/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1005/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1005/events", "html_url": "https://github.com/saulpw/visidata/issues/1005", "id": 915406484, "node_id": "MDU6SXNzdWU5MTU0MDY0ODQ=", "number": 1005, "title": "`view_pandas()` raises TypeError with NumPy 1.20.* and Pandas 1.0.*", "user": {"login": "flexatone", "id": 395503, "node_id": "MDQ6VXNlcjM5NTUwMw==", "avatar_url": "https://avatars.githubusercontent.com/u/395503?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flexatone", "html_url": "https://github.com/flexatone", "followers_url": "https://api.github.com/users/flexatone/followers", "following_url": "https://api.github.com/users/flexatone/following{/other_user}", "gists_url": "https://api.github.com/users/flexatone/gists{/gist_id}", "starred_url": "https://api.github.com/users/flexatone/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flexatone/subscriptions", "organizations_url": "https://api.github.com/users/flexatone/orgs", "repos_url": "https://api.github.com/users/flexatone/repos", "events_url": "https://api.github.com/users/flexatone/events{/privacy}", "received_events_url": "https://api.github.com/users/flexatone/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-06-08T19:41:40Z", "updated_at": "2021-06-08T23:29:38Z", "closed_at": "2021-06-08T21:14:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Small description**\r\n\r\nGreetings, and thanks for this excellent tool.\r\n\r\nI discovered that with Pandas 1.0.3 and NumPy 1.20.* the `view_pandas()` fuction raises a `TypeError`. Downgrading to NumPy 1.19.*, or upgrading to Pandas 1.2.4, solves the issue.\r\n\r\nI got this configuration from creating a fresh environment with this project's requirements.txt, where Pandas is pinned at 1.0.3. I suggest perhaps pinning the NumPy version or unpinning the Pandas version.\r\n\r\n**Expected result**\r\n\r\nThe following opens an interactive visidata session:\r\n\r\n```python\r\n>>> df = pd.DataFrame([[10, 20], [30, 40]])\r\n>>> vd.view_pandas(df)\r\n```\r\n\r\n**Actual result with screenshot**\r\n\r\n```python\r\n>>> df = pd.DataFrame([[10, 20], [30, 40]])\r\n>>> vd.view_pandas(df)\r\n---------------------------------------------------------------------------\r\nTypeError                                 Traceback (most recent call last)\r\n~/src/visidata/visidata/mainloop.py in run(*sheetlist)\r\n    284         for vs in sheetlist:\r\n--> 285             vd.push(vs)\r\n    286 \r\n\r\n~/src/visidata/visidata/sheets.py in push(vd, vs, pane)\r\n   1036 \r\n-> 1037     vs.ensureLoaded()\r\n   1038 \r\n\r\n~/src/visidata/visidata/basesheet.py in ensureLoaded(self)\r\n    199             self.rows = []  # prevent auto-reload from running twice\r\n--> 200             return self.reload()   # likely launches new thread\r\n    201 \r\n\r\n~/src/visidata/visidata/loaders/_pandas.py in reload(self)\r\n    146         self.rows = DataFrameAdapter(df)\r\n--> 147         self._selectedMask = pd.Series(False, index=df.index)\r\n    148         if df.index.nunique() != df.shape[0]:\r\n\r\n~/.env-visidata/lib/python3.8/site-packages/pandas/core/series.py in __init__(self, data, index, dtype, name, copy, fastpath)\r\n    304             else:\r\n--> 305                 data = sanitize_array(data, index, dtype, copy, raise_cast_failure=True)\r\n    306 \r\n\r\n~/.env-visidata/lib/python3.8/site-packages/pandas/core/construction.py in sanitize_array(data, index, dtype, copy, raise_cast_failure)\r\n    464 \r\n--> 465             subarr = construct_1d_arraylike_from_scalar(value, len(index), dtype)\r\n    466 \r\n\r\n~/.env-visidata/lib/python3.8/site-packages/pandas/core/dtypes/cast.py in construct_1d_arraylike_from_scalar(value, length, dtype)\r\n   1451 \r\n-> 1452         subarr = np.empty(length, dtype=dtype)\r\n   1453         subarr.fill(value)\r\n\r\nTypeError: Cannot interpret '<attribute 'dtype' of 'numpy.generic' objects>' as a data type\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nerror                                     Traceback (most recent call last)\r\n<ipython-input-11-78cfb657796e> in <module>\r\n----> 1 vd.view_pandas(df)\r\n\r\n~/src/visidata/visidata/loaders/_pandas.py in view_pandas(df)\r\n    326 \r\n    327 def view_pandas(df):\r\n--> 328     run(PandasSheet('', source=df))\r\n    329 \r\n    330 \r\n\r\n~/src/visidata/visidata/mainloop.py in run(*sheetlist)\r\n    290         ret = vd.mainloop(scr)\r\n    291     finally:\r\n--> 292         curses.endwin()\r\n    293 \r\n    294     if ret:\r\n\r\nerror: must call initscr() first\r\n```\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n\r\nNot applicable; see above.\r\n\r\n**Additional context**\r\n\r\nThis was run from a fork on the head of the stable branch.\r\n\r\n```python\r\n>>> import pandas as pd\r\n>>> import visidata as vd\r\n>>> pd.__version__\r\n'1.0.3'\r\n>>> vd.__version__\r\n'2.4'\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1005/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1005/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1003", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1003/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1003/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1003/events", "html_url": "https://github.com/saulpw/visidata/issues/1003", "id": 913482749, "node_id": "MDU6SXNzdWU5MTM0ODI3NDk=", "number": 1003, "title": "min max aggregators don't use column format value", "user": {"login": "geekscrapy", "id": 11225502, "node_id": "MDQ6VXNlcjExMjI1NTAy", "avatar_url": "https://avatars.githubusercontent.com/u/11225502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geekscrapy", "html_url": "https://github.com/geekscrapy", "followers_url": "https://api.github.com/users/geekscrapy/followers", "following_url": "https://api.github.com/users/geekscrapy/following{/other_user}", "gists_url": "https://api.github.com/users/geekscrapy/gists{/gist_id}", "starred_url": "https://api.github.com/users/geekscrapy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geekscrapy/subscriptions", "organizations_url": "https://api.github.com/users/geekscrapy/orgs", "repos_url": "https://api.github.com/users/geekscrapy/repos", "events_url": "https://api.github.com/users/geekscrapy/events{/privacy}", "received_events_url": "https://api.github.com/users/geekscrapy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2021-06-07T12:13:54Z", "updated_at": "2021-06-23T21:22:08Z", "closed_at": "2021-06-23T00:53:33Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nN.B. My default for date format is `%Y-%m-%d %H:%M:%S`, this is set in my .rc\r\n\r\nI found that if I use min/max aggs on a date column where I have applied a date format of `%Y-%m-%d`, when I create a frequency sheet the format is set back to `%Y-%m-%d %H:%M:%S` (the default).\r\n\r\n**Expected result**\r\nI would expect min and max to be evaluated against the current cell value, therefore the min and max of `%Y-%m-%d`\r\n\r\n**Steps**\r\n1. Open a file with dates and times\r\n2. Apply the date format `%Y-%m-%d %H:%M:%S` to the column\r\n3. Apply the agg min/max to the same column\r\n4. `Shift+F` on another column so it produces a freq sheet\r\n5. See that the format is back to `%Y-%m-%d` and the min/max value is not to the resolution of the given format", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1003/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1003/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/1000", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/1000/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/1000/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/1000/events", "html_url": "https://github.com/saulpw/visidata/issues/1000", "id": 908406692, "node_id": "MDU6SXNzdWU5MDg0MDY2OTI=", "number": 1000, "title": "[MacOS] curses fails to render Unicode chars when LC_ALL=\"C\"", "user": {"login": "geekscrapy", "id": 11225502, "node_id": "MDQ6VXNlcjExMjI1NTAy", "avatar_url": "https://avatars.githubusercontent.com/u/11225502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geekscrapy", "html_url": "https://github.com/geekscrapy", "followers_url": "https://api.github.com/users/geekscrapy/followers", "following_url": "https://api.github.com/users/geekscrapy/following{/other_user}", "gists_url": "https://api.github.com/users/geekscrapy/gists{/gist_id}", "starred_url": "https://api.github.com/users/geekscrapy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geekscrapy/subscriptions", "organizations_url": "https://api.github.com/users/geekscrapy/orgs", "repos_url": "https://api.github.com/users/geekscrapy/repos", "events_url": "https://api.github.com/users/geekscrapy/events{/privacy}", "received_events_url": "https://api.github.com/users/geekscrapy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2021-06-01T15:18:42Z", "updated_at": "2021-06-03T21:25:39Z", "closed_at": "2021-06-03T21:24:41Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\n\r\nIf the following is used: `export LC_ALL='C'` within a bash environment,  I get the following error when trying to load anything:\r\n\r\n_curses.error: addwstr() returned ERR\r\n\r\nNo sheets are shown\r\n\r\n**Expected result**\r\nTo be able to load the sheet :)\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/1000/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/1000/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/998", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/998/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/998/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/998/events", "html_url": "https://github.com/saulpw/visidata/issues/998", "id": 904496441, "node_id": "MDU6SXNzdWU5MDQ0OTY0NDE=", "number": 998, "title": "Broken link", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-05-28T01:25:52Z", "updated_at": "2021-06-07T06:23:23Z", "closed_at": "2021-05-28T06:15:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Broken link on Customize  page**\r\n\r\nOn this page: https://www.visidata.org/docs/customize/\r\nthere is a link to: https://github.com/saulpw/visidata-book/blob/master/commands.md\r\n\r\nHowever, this link appears to be broken.\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/998/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/998/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/997", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/997/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/997/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/997/events", "html_url": "https://github.com/saulpw/visidata/issues/997", "id": 903685504, "node_id": "MDU6SXNzdWU5MDM2ODU1MDQ=", "number": 997, "title": "split-col fails with JSON sheets", "user": {"login": "jsvine", "id": 534702, "node_id": "MDQ6VXNlcjUzNDcwMg==", "avatar_url": "https://avatars.githubusercontent.com/u/534702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsvine", "html_url": "https://github.com/jsvine", "followers_url": "https://api.github.com/users/jsvine/followers", "following_url": "https://api.github.com/users/jsvine/following{/other_user}", "gists_url": "https://api.github.com/users/jsvine/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsvine/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsvine/subscriptions", "organizations_url": "https://api.github.com/users/jsvine/orgs", "repos_url": "https://api.github.com/users/jsvine/repos", "events_url": "https://api.github.com/users/jsvine/events{/privacy}", "received_events_url": "https://api.github.com/users/jsvine/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-05-27T12:45:33Z", "updated_at": "2021-06-07T06:23:40Z", "closed_at": "2021-05-27T13:23:23Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\n\r\nWhen running `split-col` (<kbd>:</kbd>) on a JSON sheet, the command errors out, producing the traceback below:\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/visidata/lib/python3.8/site-packages/visidata/threads.py\", line 215, in _toplevelTryFunc\r\n    t.status = func(*args, **kwargs)\r\n  File \"/visidata/lib/python3.8/site-packages/visidata/regex.py\", line 71, in addRegexColumns\r\n    vs.addColumnAtCursor(*cols.values())\r\n  File \"/visidata/lib/python3.8/site-packages/visidata/sheets.py\", line 504, in addColumnAtCursor\r\n    return self.addColumn(*cols, index=index)\r\nTypeError: addColumn() takes 2 positional arguments but 3 were given\r\n```\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n\r\nPerhaps faster to reproduce by copy-paste than download-and-.vd:\r\n\r\n```sh\r\necho '[ { \"a\": \"1_2\" }, { \"a\": \"3_4\" } ]' | vd -f json\r\n```\r\n\r\n... followed by <kbd>:</kbd>, and then <kbd>_</kbd> (or really anything) at the `split regex:` prompt.\r\n\r\n**Additional context**\r\n\r\nVersion: v2.4\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/997/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/997/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/991", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/991/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/991/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/991/events", "html_url": "https://github.com/saulpw/visidata/issues/991", "id": 899094308, "node_id": "MDU6SXNzdWU4OTkwOTQzMDg=", "number": 991, "title": " [json-loader] Value always null if key name contains '.'", "user": {"login": "frosencrantz", "id": 631242, "node_id": "MDQ6VXNlcjYzMTI0Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/631242?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frosencrantz", "html_url": "https://github.com/frosencrantz", "followers_url": "https://api.github.com/users/frosencrantz/followers", "following_url": "https://api.github.com/users/frosencrantz/following{/other_user}", "gists_url": "https://api.github.com/users/frosencrantz/gists{/gist_id}", "starred_url": "https://api.github.com/users/frosencrantz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frosencrantz/subscriptions", "organizations_url": "https://api.github.com/users/frosencrantz/orgs", "repos_url": "https://api.github.com/users/frosencrantz/repos", "events_url": "https://api.github.com/users/frosencrantz/events{/privacy}", "received_events_url": "https://api.github.com/users/frosencrantz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-05-23T19:48:25Z", "updated_at": "2021-06-07T06:21:34Z", "closed_at": "2021-06-02T22:25:00Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\njson-loader incorrectly and silently shows value as null for object keys that contain '.' in name\r\n\r\n**Expected result**\r\nValue of key name would not interfere with displaying value. Json key names can contain be any valid string.\r\n\r\n**Actual result with screenshot**\r\nTry the reproduce steps.  The cell should have the value 1, but instead shows '\u00f8'\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n```\r\necho '{\"a.b\":1}' | vd -f json \r\n```\r\nNote cell value is null, no errors.\r\nWhen loading json dicts are passed wrapped with AttrDict.\r\n\r\n**Additional context**\r\nUsing latest version of vd from develop.\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/991/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/991/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/987", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/987/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/987/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/987/events", "html_url": "https://github.com/saulpw/visidata/issues/987", "id": 895477017, "node_id": "MDU6SXNzdWU4OTU0NzcwMTc=", "number": 987, "title": "[v2.4] FileProgress in v2.4 breaks opening non-gzip compressed files", "user": {"login": "jspatz", "id": 12176759, "node_id": "MDQ6VXNlcjEyMTc2NzU5", "avatar_url": "https://avatars.githubusercontent.com/u/12176759?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jspatz", "html_url": "https://github.com/jspatz", "followers_url": "https://api.github.com/users/jspatz/followers", "following_url": "https://api.github.com/users/jspatz/following{/other_user}", "gists_url": "https://api.github.com/users/jspatz/gists{/gist_id}", "starred_url": "https://api.github.com/users/jspatz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jspatz/subscriptions", "organizations_url": "https://api.github.com/users/jspatz/orgs", "repos_url": "https://api.github.com/users/jspatz/repos", "events_url": "https://api.github.com/users/jspatz/events{/privacy}", "received_events_url": "https://api.github.com/users/jspatz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-05-19T13:54:52Z", "updated_at": "2021-06-07T06:20:36Z", "closed_at": "2021-06-04T03:55:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Small description**\r\n\r\nThe new FileProgress class meant to accurately track progress for compressed files only works properly with gzipped files.  Opening bz2- or lzma- compressed files results in an error:  `AttributeError: 'FileProgress' object has no attribute 'seekable' `, and fails to open the file.\r\n\r\n**Expected result**\r\nNormal opening of `foo.csv.bz2` or `foo.csv.xz` in VisiData.\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n[fail-open-compressed.vd.gz](https://github.com/saulpw/visidata/files/6509255/fail-open-compressed.vd.gz)\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/987/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/987/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/979", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/979/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/979/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/979/events", "html_url": "https://github.com/saulpw/visidata/issues/979", "id": 881957079, "node_id": "MDU6SXNzdWU4ODE5NTcwNzk=", "number": 979, "title": "renaming a frequency sheet is not stored correctly in a log file", "user": {"login": "aborruso", "id": 30607, "node_id": "MDQ6VXNlcjMwNjA3", "avatar_url": "https://avatars.githubusercontent.com/u/30607?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aborruso", "html_url": "https://github.com/aborruso", "followers_url": "https://api.github.com/users/aborruso/followers", "following_url": "https://api.github.com/users/aborruso/following{/other_user}", "gists_url": "https://api.github.com/users/aborruso/gists{/gist_id}", "starred_url": "https://api.github.com/users/aborruso/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aborruso/subscriptions", "organizations_url": "https://api.github.com/users/aborruso/orgs", "repos_url": "https://api.github.com/users/aborruso/repos", "events_url": "https://api.github.com/users/aborruso/events{/privacy}", "received_events_url": "https://api.github.com/users/aborruso/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 16, "created_at": "2021-05-09T07:48:11Z", "updated_at": "2021-06-28T09:49:58Z", "closed_at": "2021-06-28T04:05:39Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\n\r\nHi,\r\nI have two input TSV file, named `one` and `two`. I run these steps:\r\n\r\n- I open `one` and I set the column `com_istat` as key column;\r\n- I do the same for `two` and the column `cod_istat`;\r\n- I run an inner join for `one` and `two` and I have an output join table;\r\n- Starting from this join table I create a frequency table based on `Denominazione` field;\r\n- I rename this frequency table in `result`;\r\n- I save this table as `result.tsv`;\r\n- I save the log of this process in `result.vd`.\r\n\r\nThen if I run `vd -y -b -p result.vd` I have `no sheet named result`: vd does not find the source table to save, and I have no output.\r\n\r\n**Expected result**\r\n\r\nTo have the output file. I know, I could not rename the file and I could run simply `CTRL+s` and save it. But it seems to me there is something wrong in the creation of the log.\r\n\r\n**Actual result with screenshot**\r\n\r\n![image](https://user-images.githubusercontent.com/30607/117564246-7a23e100-b0ab-11eb-8d8e-92bbf361da60.png)\r\n\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n\r\n[Here](https://github.com/saulpw/visidata/files/6447096/result.zip) my input files, the two tables and the log.\r\n\r\n\r\n**Additional context**\r\n\r\nsaul.pw/VisiData v2.5dev\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/979/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/979/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/978", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/978/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/978/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/978/events", "html_url": "https://github.com/saulpw/visidata/issues/978", "id": 881066263, "node_id": "MDU6SXNzdWU4ODEwNjYyNjM=", "number": 978, "title": "Impossible to run search & replace starting from an HTML web source", "user": {"login": "aborruso", "id": 30607, "node_id": "MDQ6VXNlcjMwNjA3", "avatar_url": "https://avatars.githubusercontent.com/u/30607?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aborruso", "html_url": "https://github.com/aborruso", "followers_url": "https://api.github.com/users/aborruso/followers", "following_url": "https://api.github.com/users/aborruso/following{/other_user}", "gists_url": "https://api.github.com/users/aborruso/gists{/gist_id}", "starred_url": "https://api.github.com/users/aborruso/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aborruso/subscriptions", "organizations_url": "https://api.github.com/users/aborruso/orgs", "repos_url": "https://api.github.com/users/aborruso/repos", "events_url": "https://api.github.com/users/aborruso/events{/privacy}", "received_events_url": "https://api.github.com/users/aborruso/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2021-05-08T17:10:29Z", "updated_at": "2021-05-09T07:56:33Z", "closed_at": "2021-05-08T18:02:49Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\n\r\nHi,\r\nif I open this table\r\n\r\n```\r\nvd +:table_2:: \"https://gist.githubusercontent.com/aborruso/42dfe3d1ecb6f2aabe5d43d214e41930/raw/2c23ec5c2ddbce91d2f8295d08857138636d3eec/input.html\"\r\n```\r\n\r\nand run a global search & replace:\r\n\r\n- click `gs`, \r\n- click `gz*` \r\n- use `a/b` expression\r\n\r\nI have this error\r\n\r\n![image](https://user-images.githubusercontent.com/30607/117547574-933b7c00-b030-11eb-98c8-8e8c5b0389ce.png)\r\n\r\nIs it mandatory to freeze it? If I freeze it, I have no error.\r\n\r\n\r\n**Additional context**\r\n\r\nsaul.pw/VisiData v2.5dev\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/978/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/978/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/975", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/975/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/975/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/975/events", "html_url": "https://github.com/saulpw/visidata/issues/975", "id": 880424462, "node_id": "MDU6SXNzdWU4ODA0MjQ0NjI=", "number": 975, "title": "Not able to select comparing dates", "user": {"login": "aborruso", "id": 30607, "node_id": "MDQ6VXNlcjMwNjA3", "avatar_url": "https://avatars.githubusercontent.com/u/30607?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aborruso", "html_url": "https://github.com/aborruso", "followers_url": "https://api.github.com/users/aborruso/followers", "following_url": "https://api.github.com/users/aborruso/following{/other_user}", "gists_url": "https://api.github.com/users/aborruso/gists{/gist_id}", "starred_url": "https://api.github.com/users/aborruso/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aborruso/subscriptions", "organizations_url": "https://api.github.com/users/aborruso/orgs", "repos_url": "https://api.github.com/users/aborruso/repos", "events_url": "https://api.github.com/users/aborruso/events{/privacy}", "received_events_url": "https://api.github.com/users/aborruso/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2021-05-08T07:17:01Z", "updated_at": "2021-06-07T06:19:34Z", "closed_at": "2021-06-03T00:06:08Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\n\r\nHi,\r\nI have this input file\r\n\r\n```\r\nid,data\r\n1,2020-12-05\r\n2,2020-07-08\r\n3,2024-12-05\r\n```\r\n\r\nI would like to select all rows greater than 2020-08-08, using Python expression.\r\nI set `data` field as date field using `@`, and then `z|`.\r\n\r\nMy expression is `data > datetime.date(2020,8,8)`.\r\n\r\nAnd I have 0 rows selected\r\n\r\n![image](https://user-images.githubusercontent.com/30607/117530546-049e0f00-afde-11eb-9786-a98e5d1dd9cd.png)\r\n\r\n\r\n**Expected result**\r\n\r\nTo select 2 rows.\r\n\r\n**Additional context**\r\n\r\nsaul.pw/VisiData v2.5dev\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/975/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/975/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/972", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/972/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/972/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/972/events", "html_url": "https://github.com/saulpw/visidata/issues/972", "id": 876127600, "node_id": "MDU6SXNzdWU4NzYxMjc2MDA=", "number": 972, "title": "[windows] AttributeError: module 'signal' has no attribute 'SIGTSTP'", "user": {"login": "KaviHarjani", "id": 30836518, "node_id": "MDQ6VXNlcjMwODM2NTE4", "avatar_url": "https://avatars.githubusercontent.com/u/30836518?v=4", "gravatar_id": "", "url": "https://api.github.com/users/KaviHarjani", "html_url": "https://github.com/KaviHarjani", "followers_url": "https://api.github.com/users/KaviHarjani/followers", "following_url": "https://api.github.com/users/KaviHarjani/following{/other_user}", "gists_url": "https://api.github.com/users/KaviHarjani/gists{/gist_id}", "starred_url": "https://api.github.com/users/KaviHarjani/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/KaviHarjani/subscriptions", "organizations_url": "https://api.github.com/users/KaviHarjani/orgs", "repos_url": "https://api.github.com/users/KaviHarjani/repos", "events_url": "https://api.github.com/users/KaviHarjani/events{/privacy}", "received_events_url": "https://api.github.com/users/KaviHarjani/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2021-05-05T06:59:48Z", "updated_at": "2021-06-07T06:24:13Z", "closed_at": "2021-05-05T07:37:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "Got this error while trying to start it on windows, anyone else experiencing a similar error?\r\n\r\n![image](https://user-images.githubusercontent.com/30836518/117106382-64f23e00-ad9d-11eb-90f4-dceb84b571a3.png)\r\n\r\nComes right after\r\npip3 install visidata\r\nvisidata\r\n![image](https://user-images.githubusercontent.com/30836518/117106457-83f0d000-ad9d-11eb-86af-f2827bdbf1a9.png)\r\n\r\nVisiData-2.4\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/972/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/972/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/969", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/969/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/969/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/969/events", "html_url": "https://github.com/saulpw/visidata/issues/969", "id": 873959256, "node_id": "MDU6SXNzdWU4NzM5NTkyNTY=", "number": 969, "title": "sqlite: saving deleted cells does not work", "user": {"login": "mattenklicker", "id": 24733276, "node_id": "MDQ6VXNlcjI0NzMzMjc2", "avatar_url": "https://avatars.githubusercontent.com/u/24733276?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattenklicker", "html_url": "https://github.com/mattenklicker", "followers_url": "https://api.github.com/users/mattenklicker/followers", "following_url": "https://api.github.com/users/mattenklicker/following{/other_user}", "gists_url": "https://api.github.com/users/mattenklicker/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattenklicker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattenklicker/subscriptions", "organizations_url": "https://api.github.com/users/mattenklicker/orgs", "repos_url": "https://api.github.com/users/mattenklicker/repos", "events_url": "https://api.github.com/users/mattenklicker/events{/privacy}", "received_events_url": "https://api.github.com/users/mattenklicker/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-05-02T14:42:21Z", "updated_at": "2021-06-07T06:24:24Z", "closed_at": "2021-06-04T05:56:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "Saving of deleted cells in sqlite columns (without NOT NULL constraint) fails because of missing column info.\r\nI identified [`isChanged`](https://github.com/saulpw/visidata/blob/stable/visidata/modify.py#L154) as possible reason: It gets a NonType exception and returns False which causes the row not to be added in `getDeferredChanges`.\r\n\r\nI applied this patch to fix it, but I did not check for any side effects:\r\n```diff\r\n--- a/visidata/modify.py\t2021-05-02 16:32:10.812482635 +0200\r\n+++ b/visidata//modify.py\t2021-05-02 16:32:03.532482545 +0200\r\n@@ -157,7 +157,7 @@\r\n         row, rowmods = self._deferredMods[self.rowid(row)]\r\n         newval = rowmods[col]\r\n         curval = col.getSourceValue(row)\r\n-        return col.type(newval) != col.type(curval)\r\n+        return (newval is None and curval is not None) or col.type(newval) != col.type(curval)\r\n     except KeyError:\r\n         return False\r\n     except Exception:\r\n```\r\n**Additional context**\r\nVisiData v2.4\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/969/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/969/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/964", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/964/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/964/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/964/events", "html_url": "https://github.com/saulpw/visidata/issues/964", "id": 866979960, "node_id": "MDU6SXNzdWU4NjY5Nzk5NjA=", "number": 964, "title": "wrong field after join?", "user": {"login": "aborruso", "id": 30607, "node_id": "MDQ6VXNlcjMwNjA3", "avatar_url": "https://avatars.githubusercontent.com/u/30607?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aborruso", "html_url": "https://github.com/aborruso", "followers_url": "https://api.github.com/users/aborruso/followers", "following_url": "https://api.github.com/users/aborruso/following{/other_user}", "gists_url": "https://api.github.com/users/aborruso/gists{/gist_id}", "starred_url": "https://api.github.com/users/aborruso/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aborruso/subscriptions", "organizations_url": "https://api.github.com/users/aborruso/orgs", "repos_url": "https://api.github.com/users/aborruso/repos", "events_url": "https://api.github.com/users/aborruso/events{/privacy}", "received_events_url": "https://api.github.com/users/aborruso/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-04-25T10:54:40Z", "updated_at": "2021-06-07T06:21:48Z", "closed_at": "2021-06-03T04:58:20Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hi,\r\nI have these two tables:\r\n\r\n| sesso | domicilioCom | domicilioProv |\r\n| --- | --- | --- |\r\n| M | 082053 | PA |\r\n| M | 082070 | PA |\r\n| M | 082053 | PA |\r\n| M | 082014 | PA |\r\n\r\n| cod_istat | comune |\r\n| --- | --- |\r\n| 082014 | Caccamo |\r\n| 082053 | Palermo |\r\n| 082070 | Termini Imerese |\r\n| 082071 | Terrasini |\r\n\r\nIf I run inner join, using `domicilioCom` and `cod_istat`, I have\r\n\r\n|domicilioCom  |cod\\_istat |sesso  |domicilioProv  |comune           |\r\n|--------------|-----------|-------|---------------|-----------------|\r\n|082053        |M          |M      |PA             |Palermo          |\r\n|082053        |M          |M      |PA             |Palermo          |\r\n|082070        |M          |M      |PA             |Termini Imerese  |\r\n|082014        |M          |M      |PA             |Caccamo          |\r\n\r\nWhy I have `cod_istat` with those values, why is it a `sesso` duplicate?\r\n\r\nI'm using `saul.pw/VisiData v2.5dev`\r\n\r\nThank you\r\n\r\n```\r\nsesso,domicilioCom,domicilioProv\r\nM,082053,PA\r\nM,082070,PA\r\nM,082053,PA\r\nM,082014,PA\r\n\r\ncod_istat,comune\r\n082014,Caccamo\r\n082053,Palermo\r\n082070,Termini Imerese\r\n082071,Terrasini\r\n```", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/964/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/964/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/962", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/962/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/962/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/962/events", "html_url": "https://github.com/saulpw/visidata/issues/962", "id": 865844408, "node_id": "MDU6SXNzdWU4NjU4NDQ0MDg=", "number": 962, "title": "NameError: name 'inputPath' is not defined | \"save-col\"", "user": {"login": "savulchik", "id": 187893, "node_id": "MDQ6VXNlcjE4Nzg5Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/187893?v=4", "gravatar_id": "", "url": "https://api.github.com/users/savulchik", "html_url": "https://github.com/savulchik", "followers_url": "https://api.github.com/users/savulchik/followers", "following_url": "https://api.github.com/users/savulchik/following{/other_user}", "gists_url": "https://api.github.com/users/savulchik/gists{/gist_id}", "starred_url": "https://api.github.com/users/savulchik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/savulchik/subscriptions", "organizations_url": "https://api.github.com/users/savulchik/orgs", "repos_url": "https://api.github.com/users/savulchik/repos", "events_url": "https://api.github.com/users/savulchik/events{/privacy}", "received_events_url": "https://api.github.com/users/savulchik/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-04-23T07:45:30Z", "updated_at": "2021-06-07T06:22:29Z", "closed_at": "2021-04-24T01:13:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Small description**\r\n\r\nWhen I enter save-col or save-col-keys commands I get the following error message:\r\n`NameError: name 'inputPath' is not defined | \"save-col\"`\r\n\r\n**Expected result**\r\nFilename dialog is shown.\r\n\r\n**Actual result with screenshot**\r\n```\r\nTraceback (most recent call last):\r\n  File \"/opt/homebrew/Cellar/visidata/2.4/libexec/lib/python3.9/site-packages/visidata/basesheet.py\", line 154, in execCommand\r\n    escaped = super().execCommand2(cmd, vdglobals=vdglobals)\r\n  File \"/opt/homebrew/Cellar/visidata/2.4/libexec/lib/python3.9/site-packages/visidata/basesheet.py\", line 66, in execCommand2\r\n    exec(code, vdglobals, LazyChainMap(vd, self))\r\n  File \"save-col\", line 1, in <module>\r\n    import math\r\n  File \"/opt/homebrew/Cellar/visidata/2.4/libexec/lib/python3.9/site-packages/visidata/save.py\", line 92, in save_cols\r\n    path = inputPath('save %s to: ' % savedcoltxt, value=vs.getDefaultSaveName())\r\nNameError: name 'inputPath' is not defined\r\n```\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n[save-col.bug.vd.txt](https://github.com/saulpw/visidata/files/6363615/save-col.bug.vd.txt)\r\n\r\n**Additional context**\r\n`saul.pw/VisiData v2.4`\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/962/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/962/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/961", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/961/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/961/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/961/events", "html_url": "https://github.com/saulpw/visidata/issues/961", "id": 864907625, "node_id": "MDU6SXNzdWU4NjQ5MDc2MjU=", "number": 961, "title": "zy-gzp combination does not work anymore", "user": {"login": "sfranky", "id": 1530259, "node_id": "MDQ6VXNlcjE1MzAyNTk=", "avatar_url": "https://avatars.githubusercontent.com/u/1530259?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sfranky", "html_url": "https://github.com/sfranky", "followers_url": "https://api.github.com/users/sfranky/followers", "following_url": "https://api.github.com/users/sfranky/following{/other_user}", "gists_url": "https://api.github.com/users/sfranky/gists{/gist_id}", "starred_url": "https://api.github.com/users/sfranky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sfranky/subscriptions", "organizations_url": "https://api.github.com/users/sfranky/orgs", "repos_url": "https://api.github.com/users/sfranky/repos", "events_url": "https://api.github.com/users/sfranky/events{/privacy}", "received_events_url": "https://api.github.com/users/sfranky/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-04-22T12:45:47Z", "updated_at": "2021-06-07T06:21:20Z", "closed_at": "2021-06-03T00:44:02Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nWhen copying a single cell with `zy`, I used to be able to paste on multiple selected cells with `gzp`.\r\nThis no longer applies. \r\n\r\nIf there was no previous `gzy` content in the clipboard, this error is shown:\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/home/sfranky/visidata/visidata/basesheet.py\", line 154, in execCommand\r\n    escaped = super().execCommand2(cmd, vdglobals=vdglobals)\r\n  File \"/home/sfranky/visidata/visidata/basesheet.py\", line 66, in execCommand2\r\n    exec(code, vdglobals, LazyChainMap(vd, self))\r\n  File \"setcol-clipboard\", line 1, in <module>\r\n    import plugins.normcol\r\nTypeError: 'NoneType' object is not iterable\r\n```\r\n\r\nIf there *is* a `gzy` clipboard content, then this is pasted instead of the single value from `zy`.\r\n\r\n**Additional context**\r\nLatest develop commit\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/961/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/961/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/956", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/956/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/956/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/956/events", "html_url": "https://github.com/saulpw/visidata/issues/956", "id": 862100959, "node_id": "MDU6SXNzdWU4NjIxMDA5NTk=", "number": 956, "title": "docs/customize vdrc.py dict bug", "user": {"login": "njthomas", "id": 44175460, "node_id": "MDQ6VXNlcjQ0MTc1NDYw", "avatar_url": "https://avatars.githubusercontent.com/u/44175460?v=4", "gravatar_id": "", "url": "https://api.github.com/users/njthomas", "html_url": "https://github.com/njthomas", "followers_url": "https://api.github.com/users/njthomas/followers", "following_url": "https://api.github.com/users/njthomas/following{/other_user}", "gists_url": "https://api.github.com/users/njthomas/gists{/gist_id}", "starred_url": "https://api.github.com/users/njthomas/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/njthomas/subscriptions", "organizations_url": "https://api.github.com/users/njthomas/orgs", "repos_url": "https://api.github.com/users/njthomas/repos", "events_url": "https://api.github.com/users/njthomas/events{/privacy}", "received_events_url": "https://api.github.com/users/njthomas/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2021-04-19T23:26:14Z", "updated_at": "2021-06-02T18:18:10Z", "closed_at": "2021-06-02T18:18:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "**when running vdrc.py on docs/customize I get the following bug**\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"./vdrc.py\", line 5, in <module>\r\n    for optname, val in sorted(options().items()):\r\nTypeError: 'OptionsObject' object is not callable\r\n```", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/956/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/956/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/952", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/952/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/952/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/952/events", "html_url": "https://github.com/saulpw/visidata/issues/952", "id": 858905033, "node_id": "MDU6SXNzdWU4NTg5MDUwMzM=", "number": 952, "title": "Possible bug related to setting replay=True options and vd.cmdlog.rows (v2.3/2.4)", "user": {"login": "jsvine", "id": 534702, "node_id": "MDQ6VXNlcjUzNDcwMg==", "avatar_url": "https://avatars.githubusercontent.com/u/534702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsvine", "html_url": "https://github.com/jsvine", "followers_url": "https://api.github.com/users/jsvine/followers", "following_url": "https://api.github.com/users/jsvine/following{/other_user}", "gists_url": "https://api.github.com/users/jsvine/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsvine/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsvine/subscriptions", "organizations_url": "https://api.github.com/users/jsvine/orgs", "repos_url": "https://api.github.com/users/jsvine/repos", "events_url": "https://api.github.com/users/jsvine/events{/privacy}", "received_events_url": "https://api.github.com/users/jsvine/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-04-15T13:53:18Z", "updated_at": "2021-06-14T05:05:43Z", "closed_at": "2021-06-14T05:05:42Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Note: I've spent about an hour looking into this, and I still haven't quite grokked it, but will try to explain as much as I understand.\r\n\r\n**Small description**\r\n\r\nCustomizing options (but only those for which `replay=True`) in an options sheet early in a VisiData session prevents some other sheet types from opening.\r\n\r\nSpecifically:\r\n\r\n\u2022 Load any file in VisiData\r\n\u2022 Before you do anything else, open the global options sheet (`O`)\r\n\u2022 In the global options sheet, edit any value for which `replay=True` \u2014 `skip` for instance, or `default_width`. (A potential clue: editing non-replay options does not seem to trigger the later error.)\r\n\u2022 Quit the global options sheet\r\n\u2022 Try opening the local-sheet options sheet (`zO`)\r\n\r\n**Expected result**\r\n\r\nI would expect the local options sheet to open as normal.\r\n\r\n**Actual result with screenshot**\r\n\r\nWhen I do that, I get `AttributeError: 'NoneType' object has no attribute 'append'` in the statusline. Trying to `^E` actually raises the same error. But if instead I first open the Sheets Sheet (after getting the first error) and then running `^E`, I get this stacktrace:\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"[...]/visidata/basesheet.py\", line 154, in execCommand\r\n    escaped = super().execCommand2(cmd, vdglobals=vdglobals)\r\n  File \"[...]/visidata/basesheet.py\", line 66, in execCommand2\r\n    exec(code, vdglobals, LazyChainMap(vd, self))\r\n  File \"options-sheet\", line 1, in <module>\r\n    import math\r\n  File \"[...]/visidata/extensible.py\", line 60, in get_if_not\r\n    setattr(self, name, func(self))\r\n  File \"[...]/visidata/metasheets.py\", line 16, in optionsSheet\r\n    return OptionsSheet(sheet.name+\"_options\", source=sheet)\r\n  File \"[...]/visidata/extensible.py\", line 14, in newinit\r\n    oldinit(self, *args, **kwargs)\r\n  File \"[...]/visidata/extensible.py\", line 14, in newinit\r\n    oldinit(self, *args, **kwargs)\r\n  File \"[...]/visidata/sheets.py\", line 202, in __init__\r\n    self.setKeys(self.columns[:self.nKeys])  # initial list of key columns\r\n  File \"[...]/visidata/sheets.py\", line 512, in setKeys\r\n    vd.addUndo(undoAttrFunc(cols, 'keycol'))\r\n  File \"[...]/visidata/undo.py\", line 29, in addUndo\r\n    r.undofuncs.append((undofunc, args, kwargs))\r\nAttributeError: 'NoneType' object has no attribute 'append'\r\n```\r\n\r\n(Another potential clue: After opening the Sheets Sheet, the bug also seems to vanish; it then becomes possible to open `zO`.)\r\n\r\nIt does not seem to matter whether you edit first on `O` and then try opening `zO` or vice versa; both seem to lead to this error.\r\n\r\nBrowsing through the VisiData code, the problem may stem from [`r` in `addUndo` being set to `None`](https://github.com/saulpw/visidata/blob/ed0db17a290d88c12c1d61d764558778a6303107/visidata/undo.py#L19-L29) due to [`vd.cmdlog.rows` being empty in `vd.modifyCommand`](https://github.com/saulpw/visidata/blob/ed0db17a290d88c12c1d61d764558778a6303107/visidata/cmdlog.py#L426-L431). But I don't quite have enough understanding of the internals to figure out what'd cause that, or what the best fix would be.\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n\r\nUnfortunately, due to the nature the behavior, I think a `.vd` file won't reproduce this, but steps listed above should do so.\r\n\r\n**Additional context**\r\n\r\nBug seems to occur in `v2.3` and `v2.4` but not `v2.2`.\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/952/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/952/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/947", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/947/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/947/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/947/events", "html_url": "https://github.com/saulpw/visidata/issues/947", "id": 855387792, "node_id": "MDU6SXNzdWU4NTUzODc3OTI=", "number": 947, "title": "[pyobj-show-hidden] Pyobj show hidden doesn't apply to current table", "user": {"login": "frosencrantz", "id": 631242, "node_id": "MDQ6VXNlcjYzMTI0Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/631242?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frosencrantz", "html_url": "https://github.com/frosencrantz", "followers_url": "https://api.github.com/users/frosencrantz/followers", "following_url": "https://api.github.com/users/frosencrantz/following{/other_user}", "gists_url": "https://api.github.com/users/frosencrantz/gists{/gist_id}", "starred_url": "https://api.github.com/users/frosencrantz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frosencrantz/subscriptions", "organizations_url": "https://api.github.com/users/frosencrantz/orgs", "repos_url": "https://api.github.com/users/frosencrantz/repos", "events_url": "https://api.github.com/users/frosencrantz/events{/privacy}", "received_events_url": "https://api.github.com/users/frosencrantz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-04-11T19:26:06Z", "updated_at": "2021-04-17T15:28:05Z", "closed_at": "2021-04-12T03:40:24Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\n Pyobj show hidden doesn't apply immediately to current table\r\n\r\n**Expected result**\r\n`gv` in Pyobj shows hidden attributes and methods\r\n\r\n**Actual result with screenshot**\r\nhttps://asciinema.org/a/jtxaRz10aG58lFdX5mMzC7U5O\r\n\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n```\r\nvd benchmark.csv\r\ng^Y  - get to pyobj-sheet\r\ngv   - show hidden\r\n```\r\n\r\n**Additional context**\r\nPlease include the version of VisiData. Latest develop version.\r\n\r\nThis is a minor issue.  Noticed this when trying to debug my other issues with colorizers.\r\n\r\nWorkaround: quit the table and return works, or changing visibility option ahead of time works.\r\n\r\nAlso, vd reports `no rows selected` 2 or more times when running the g^Y command. Even more minor, but might point to a real issue.\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/947/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/947/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/946", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/946/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/946/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/946/events", "html_url": "https://github.com/saulpw/visidata/issues/946", "id": 855347038, "node_id": "MDU6SXNzdWU4NTUzNDcwMzg=", "number": 946, "title": "[colors] Flashing behavior from colors sheet", "user": {"login": "frosencrantz", "id": 631242, "node_id": "MDQ6VXNlcjYzMTI0Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/631242?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frosencrantz", "html_url": "https://github.com/frosencrantz", "followers_url": "https://api.github.com/users/frosencrantz/followers", "following_url": "https://api.github.com/users/frosencrantz/following{/other_user}", "gists_url": "https://api.github.com/users/frosencrantz/gists{/gist_id}", "starred_url": "https://api.github.com/users/frosencrantz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frosencrantz/subscriptions", "organizations_url": "https://api.github.com/users/frosencrantz/orgs", "repos_url": "https://api.github.com/users/frosencrantz/repos", "events_url": "https://api.github.com/users/frosencrantz/events{/privacy}", "received_events_url": "https://api.github.com/users/frosencrantz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2021-04-11T16:22:28Z", "updated_at": "2021-06-27T18:21:24Z", "closed_at": "2021-06-24T22:42:16Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nWhen opening `open-colors` sheet, colors flash.\r\n\r\n**Expected result**\r\nColors don't flash\r\n\r\n**Actual result with screenshot**\r\nhttps://asciinema.org/a/4iiK7uVOKcb4tlH5LyKw4rdpS\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\nrun command: open-colors\r\n\r\n**Additional context**\r\nPlease include the version of VisiData. Latest develop version.\r\n\r\nI'm also seeing an issue where on different runs of vd, colorizers don't appear to color cells.  The colorizers are being called, but visidata doesn't colorize any cells.  I don't have a good reproduction yet.  But as part of trying to debug, noticed this odd behavior.  Maybe if this is fixed, the other issue will disappear.\r\n\r\nI like the new colors sheet, really like the color swatch.\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/946/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/946/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/945", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/945/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/945/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/945/events", "html_url": "https://github.com/saulpw/visidata/issues/945", "id": 855288834, "node_id": "MDU6SXNzdWU4NTUyODg4MzQ=", "number": 945, "title": "Virtual columns in sqlite files are handled incorrectly which can lead to a column mixup", "user": {"login": "dotcs", "id": 3976183, "node_id": "MDQ6VXNlcjM5NzYxODM=", "avatar_url": "https://avatars.githubusercontent.com/u/3976183?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dotcs", "html_url": "https://github.com/dotcs", "followers_url": "https://api.github.com/users/dotcs/followers", "following_url": "https://api.github.com/users/dotcs/following{/other_user}", "gists_url": "https://api.github.com/users/dotcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/dotcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dotcs/subscriptions", "organizations_url": "https://api.github.com/users/dotcs/orgs", "repos_url": "https://api.github.com/users/dotcs/repos", "events_url": "https://api.github.com/users/dotcs/events{/privacy}", "received_events_url": "https://api.github.com/users/dotcs/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-04-11T12:00:06Z", "updated_at": "2021-04-12T01:51:03Z", "closed_at": "2021-04-12T01:51:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Small description**\r\n\r\n[Virtual columns](https://www.sqlite.org/gencol.html) in sqlite files are handled incorrectly which can lead to a column mix-up.\r\n\r\nSteps to reproduce:\r\n```console\r\n$ cat <<EOF > sample_data.csv\r\ncol1,col2\r\na,1\r\nb,2\r\nc,3\r\nEOF\r\n\r\n$ vd -b sample_data.csv -o sample_data.db\r\n$ sqlite3 sample_data.db \"ALTER TABLE sample_data ADD COLUMN test_col1 AS (col1 || col2 )\"\r\n$ sqlite3 sample_data.db \"ALTER TABLE sample_data ADD COLUMN test_col2; UPDATE sample_data SET test_col2 = 1;\"\r\n\r\n# For reference: This is the schema of the sqlite database. Note that test_col1 is a virtual (or computed) column.\r\n$ sqlite3 sample_data.db \".schema\" \r\nCREATE TABLE IF NOT EXISTS \"sample_data\" (\"col1\" TEXT, \"col2\" TEXT, test_col1 AS (col1 || col2 ), test_col2);\r\n```\r\n\r\n**Expected result**\r\n\r\nI use sqlite CLI to show the expected result.\r\n\r\n```console\r\n$ sqlite3 -header sample_data.db \"SELECT * FROM sample_data\"\r\ncol1|col2|test_col1|test_col2\r\na|1|a1|1\r\nb|2|b2|1\r\nc|3|c3|1\r\n```\r\n\r\n**Actual result with screenshot**\r\n\r\nIn visidata this yields to a result where `test_col1` and `test_col2` are mixed. The headline is `test_col2` whereas the data is from `test_col1`.\r\n\r\n![screenshot_2021-04-11_13-53-29_169115873](https://user-images.githubusercontent.com/3976183/114303223-5b8ef200-9acd-11eb-83d4-6cee7ab79e2b.png)\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\nPlease attach the commandlog (saved with `Ctrl-D`) to show the steps that led to the issue.\r\nSee [here](http://visidata.org/docs/save-restore/) for more details.\r\n\r\n**Additional context**\r\n\r\n```console\r\n$ visidata --version\r\nsaul.pw/VisiData v2.2.1\r\n\r\n# this also happens with 2.3\r\n$ visidata --version                                              \r\nsaul.pw/VisiData v2.3\r\n```\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/945/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/945/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/944", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/944/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/944/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/944/events", "html_url": "https://github.com/saulpw/visidata/issues/944", "id": 855234484, "node_id": "MDU6SXNzdWU4NTUyMzQ0ODQ=", "number": 944, "title": "[2.3] Split window bugs", "user": {"login": "anjakefala", "id": 7489659, "node_id": "MDQ6VXNlcjc0ODk2NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/7489659?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anjakefala", "html_url": "https://github.com/anjakefala", "followers_url": "https://api.github.com/users/anjakefala/followers", "following_url": "https://api.github.com/users/anjakefala/following{/other_user}", "gists_url": "https://api.github.com/users/anjakefala/gists{/gist_id}", "starred_url": "https://api.github.com/users/anjakefala/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anjakefala/subscriptions", "organizations_url": "https://api.github.com/users/anjakefala/orgs", "repos_url": "https://api.github.com/users/anjakefala/repos", "events_url": "https://api.github.com/users/anjakefala/events{/privacy}", "received_events_url": "https://api.github.com/users/anjakefala/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-04-11T06:46:47Z", "updated_at": "2021-04-12T01:51:51Z", "closed_at": "2021-04-12T01:51:50Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "## Bug 1\r\n\r\nOpen two files\r\nZ\r\nClose top pane\r\nBottom pane gets moved to the top\r\n\r\nExpected: bottom pane stays at the bottom\r\n\r\n## Bug 2\r\nOpen two files\r\nZ\r\nTab\r\nC\r\nZ\r\nSecond sheet on bottom stack gets placed underneath the top sheet in the top stack\r\n\r\nExpected: It should be placed on top of the top stack", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/944/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/944/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/941", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/941/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/941/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/941/events", "html_url": "https://github.com/saulpw/visidata/issues/941", "id": 852110680, "node_id": "MDU6SXNzdWU4NTIxMTA2ODA=", "number": 941, "title": "[2.3] main sheet is hidden when fancy-chooser is open", "user": {"login": "geekscrapy", "id": 11225502, "node_id": "MDQ6VXNlcjExMjI1NTAy", "avatar_url": "https://avatars.githubusercontent.com/u/11225502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geekscrapy", "html_url": "https://github.com/geekscrapy", "followers_url": "https://api.github.com/users/geekscrapy/followers", "following_url": "https://api.github.com/users/geekscrapy/following{/other_user}", "gists_url": "https://api.github.com/users/geekscrapy/gists{/gist_id}", "starred_url": "https://api.github.com/users/geekscrapy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geekscrapy/subscriptions", "organizations_url": "https://api.github.com/users/geekscrapy/orgs", "repos_url": "https://api.github.com/users/geekscrapy/repos", "events_url": "https://api.github.com/users/geekscrapy/events{/privacy}", "received_events_url": "https://api.github.com/users/geekscrapy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-04-07T07:37:58Z", "updated_at": "2021-06-25T00:33:21Z", "closed_at": "2021-06-25T00:33:21Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nWhen you open a fancy chooser sheet, the (main) sheet is hidden from view\r\n\r\n**Expected result**\r\nFancy chooser and the (main) sheet are shown at the same time\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/941/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/941/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/939", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/939/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/939/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/939/events", "html_url": "https://github.com/saulpw/visidata/issues/939", "id": 850574837, "node_id": "MDU6SXNzdWU4NTA1NzQ4Mzc=", "number": 939, "title": "v2.3 no longer uses default terminal colors correctly", "user": {"login": "lxcode", "id": 1959603, "node_id": "MDQ6VXNlcjE5NTk2MDM=", "avatar_url": "https://avatars.githubusercontent.com/u/1959603?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lxcode", "html_url": "https://github.com/lxcode", "followers_url": "https://api.github.com/users/lxcode/followers", "following_url": "https://api.github.com/users/lxcode/following{/other_user}", "gists_url": "https://api.github.com/users/lxcode/gists{/gist_id}", "starred_url": "https://api.github.com/users/lxcode/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lxcode/subscriptions", "organizations_url": "https://api.github.com/users/lxcode/orgs", "repos_url": "https://api.github.com/users/lxcode/repos", "events_url": "https://api.github.com/users/lxcode/events{/privacy}", "received_events_url": "https://api.github.com/users/lxcode/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2021-04-05T18:44:34Z", "updated_at": "2021-04-07T16:22:52Z", "closed_at": "2021-04-07T16:22:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Small description**\r\n\r\nThe updates to color handling seem to have made background color handling inconsistent. Part of the terminal is default, part is black.\r\n\r\n**Expected result**\r\n\r\nThe background is entirely default.\r\n\r\n**Actual result with screenshot**\r\n<img width=\"848\" alt=\"2021-04-05_at_11 40 30\" src=\"https://user-images.githubusercontent.com/1959603/113611991-19b10800-9604-11eb-8ba6-bc5cf07866d8.png\">\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\nRun vd, sans any configuration file, in a terminal with a non-black default color.\r\n\r\n**Additional context**\r\nv2.3, macOS 11.2.3, kitty and iTerm2", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/939/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/939/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/936", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/936/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/936/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/936/events", "html_url": "https://github.com/saulpw/visidata/issues/936", "id": 844394636, "node_id": "MDU6SXNzdWU4NDQzOTQ2MzY=", "number": 936, "title": "visidata.view_pandas fails when the df index's name is already a column in the DataFrame", "user": {"login": "thomanq", "id": 7536471, "node_id": "MDQ6VXNlcjc1MzY0NzE=", "avatar_url": "https://avatars.githubusercontent.com/u/7536471?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thomanq", "html_url": "https://github.com/thomanq", "followers_url": "https://api.github.com/users/thomanq/followers", "following_url": "https://api.github.com/users/thomanq/following{/other_user}", "gists_url": "https://api.github.com/users/thomanq/gists{/gist_id}", "starred_url": "https://api.github.com/users/thomanq/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thomanq/subscriptions", "organizations_url": "https://api.github.com/users/thomanq/orgs", "repos_url": "https://api.github.com/users/thomanq/repos", "events_url": "https://api.github.com/users/thomanq/events{/privacy}", "received_events_url": "https://api.github.com/users/thomanq/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-03-30T11:20:41Z", "updated_at": "2021-03-30T15:46:40Z", "closed_at": "2021-03-30T15:46:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Small description**\r\n```\r\nimport pandas as pd\r\ndf = pd.DataFrame({\"uid\": [6,5,4,7,8,9], \"a\": [29, 0, 3, 34, 6, 9]})\r\ndf = df.set_index(\"uid\", drop=False)\r\nimport visidata;visidata.view_pandas(df)\r\n```\r\n**Obtained result**\r\n```\r\nValueError: cannot insert uid, already exists\r\n```\r\nWhere it fails:\r\n```\r\n# visidata/loaders/_pandas.py\", line 128\r\n        # reset the index here\r\n        if type(df.index) is not pd.RangeIndex:\r\n            df = df.reset_index()\r\n```\r\n\r\n**Additional context**\r\nPlease include the version of VisiData.\r\n```\r\npandas                   1.2.1\r\nvisidata                 2.2.1\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/936/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/936/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/926", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/926/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/926/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/926/events", "html_url": "https://github.com/saulpw/visidata/issues/926", "id": 837211796, "node_id": "MDU6SXNzdWU4MzcyMTE3OTY=", "number": 926, "title": "[help flag] Stack trace from --help flag", "user": {"login": "frosencrantz", "id": 631242, "node_id": "MDQ6VXNlcjYzMTI0Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/631242?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frosencrantz", "html_url": "https://github.com/frosencrantz", "followers_url": "https://api.github.com/users/frosencrantz/followers", "following_url": "https://api.github.com/users/frosencrantz/following{/other_user}", "gists_url": "https://api.github.com/users/frosencrantz/gists{/gist_id}", "starred_url": "https://api.github.com/users/frosencrantz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frosencrantz/subscriptions", "organizations_url": "https://api.github.com/users/frosencrantz/orgs", "repos_url": "https://api.github.com/users/frosencrantz/repos", "events_url": "https://api.github.com/users/frosencrantz/events{/privacy}", "received_events_url": "https://api.github.com/users/frosencrantz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-03-21T23:35:38Z", "updated_at": "2021-03-22T04:06:42Z", "closed_at": "2021-03-22T04:06:42Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\n`vd --help` stack traces\r\n\r\n**Expected result**\r\nShows man page.\r\n\r\n**Actual result with screenshot**\r\nRun `vd --help`, results in stack trace:\r\n\r\n```\r\n  File \"/usr/bin/vd\", line 6, in <module>\r\n    visidata.main.vd_cli()\r\n  File \"/usr/lib/python3.9/site-packages/visidata/main.py\", line 296, in vd_cli\r\n    rc = main_vd()\r\n  File \"/usr/lib/python3.9/site-packages/visidata/main.py\", line 119, in main_vd\r\n    curses.wrapper(lambda scr: vd.openManPage())\r\n  File \"/usr/lib/python3.9/curses/__init__.py\", line 94, in wrapper\r\n    return func(stdscr, *args, **kwds)\r\n  File \"/usr/lib/python3.9/site-packages/visidata/main.py\", line 119, in <lambda>\r\n    curses.wrapper(lambda scr: vd.openManPage())\r\n  File \"/usr/lib/python3.9/site-packages/visidata/help.py\", line 65, in openManPage\r\n    with SuspendCurses():\r\n  File \"/usr/lib/python3.9/site-packages/visidata/editor.py\", line 14, in __enter__\r\n    signal.signal(signal.SIGTSTP, visidata.vd.tstp_signal)\r\nAttributeError: 'VisiData' object has no attribute 'tstp_signal'\r\n```\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\nRun `vd --help`\r\n\r\n\r\n**Additional context**\r\nPlease include the version of VisiData. Latest version from develop.\r\n\r\nThis might be due to the fix for #899.\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/926/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/926/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/925", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/925/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/925/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/925/events", "html_url": "https://github.com/saulpw/visidata/issues/925", "id": 834532090, "node_id": "MDU6SXNzdWU4MzQ1MzIwOTA=", "number": 925, "title": "[gzip] Opening a gzip file results in > 100% progress", "user": {"login": "geekscrapy", "id": 11225502, "node_id": "MDQ6VXNlcjExMjI1NTAy", "avatar_url": "https://avatars.githubusercontent.com/u/11225502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geekscrapy", "html_url": "https://github.com/geekscrapy", "followers_url": "https://api.github.com/users/geekscrapy/followers", "following_url": "https://api.github.com/users/geekscrapy/following{/other_user}", "gists_url": "https://api.github.com/users/geekscrapy/gists{/gist_id}", "starred_url": "https://api.github.com/users/geekscrapy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geekscrapy/subscriptions", "organizations_url": "https://api.github.com/users/geekscrapy/orgs", "repos_url": "https://api.github.com/users/geekscrapy/repos", "events_url": "https://api.github.com/users/geekscrapy/events{/privacy}", "received_events_url": "https://api.github.com/users/geekscrapy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-03-18T08:37:18Z", "updated_at": "2021-04-10T21:59:30Z", "closed_at": "2021-04-10T21:59:30Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nWhen opening a large gzip'd file the progress % is off. I presume this is due to not knowing ahead of time how large the data is that is being loaded, or maybe because the file is gunziped first, then loaded iteratively?\r\n\r\n**Expected result**\r\nProgress should only be between 0% and 100%\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n```\r\nwget https://raw.githubusercontent.com/linuxacademy/content-elastic-log-samples/master/access.log\r\nfor _ in {1..100}; do cat access.log >> big_access.txt; done # this just makes a large text file so it's easier to see the bug. This creates a file just under 300mb\r\ngzip big_access.txt\r\nvd big_access.txt.gzip\r\n# now view the progress bar in the bottom right, it will eventually exceed 100%\r\n```", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/925/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/925/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/921", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/921/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/921/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/921/events", "html_url": "https://github.com/saulpw/visidata/issues/921", "id": 825355578, "node_id": "MDU6SXNzdWU4MjUzNTU1Nzg=", "number": 921, "title": "TypeError when Excel column names are datetimes", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-03-09T05:24:57Z", "updated_at": "2021-04-07T06:11:29Z", "closed_at": "2021-04-07T06:11:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Small description**\r\nIf you try to load a file where the column name is an Excel datetime, you get a `TypeError`, and the sheet won't load.\r\n\r\n**Expected result**\r\nThe column would be coerced to a string, and the table would load.\r\n\r\n**Actual result with screenshot**\r\nScreenshot:\r\n![image](https://user-images.githubusercontent.com/55477181/110422269-24ef4180-80f3-11eb-888a-4f739fa737d6.png)\r\n\r\nStack trace:\r\n``` python\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3/dist-packages/visidata/threads.py\", line 215, in _toplevelTryFunc\r\n    t.status = func(*args, **kwargs)\r\n  File \"/usr/lib/python3/dist-packages/visidata/sheets.py\", line 921, in reload\r\n    self.setCols(list(self.optlines(itsource, 'header')))\r\n  File \"/usr/lib/python3/dist-packages/visidata/sheets.py\", line 888, in setCols\r\n    self.addColumn(ColumnItem(''.join(colnamelines), i))\r\nTypeError: sequence item 0: expected str instance, datetime.datetime found\r\n```\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\nCommandlog (added .txt extension to appease GitHub...):\r\n[Test.vd.txt](https://github.com/saulpw/visidata/files/6106029/Test.vd.txt)\r\n\r\nSample file:\r\n[Test.xlsx](https://github.com/saulpw/visidata/files/6106031/Test.xlsx)\r\n\r\n**Additional context**\r\nVisiData version: v2.2.1\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/921/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/921/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/916", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/916/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/916/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/916/events", "html_url": "https://github.com/saulpw/visidata/issues/916", "id": 820868208, "node_id": "MDU6SXNzdWU4MjA4NjgyMDg=", "number": 916, "title": "[visibility-sheet] Overflow of rows when using wordwrap does not scroll", "user": {"login": "geekscrapy", "id": 11225502, "node_id": "MDQ6VXNlcjExMjI1NTAy", "avatar_url": "https://avatars.githubusercontent.com/u/11225502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geekscrapy", "html_url": "https://github.com/geekscrapy", "followers_url": "https://api.github.com/users/geekscrapy/followers", "following_url": "https://api.github.com/users/geekscrapy/following{/other_user}", "gists_url": "https://api.github.com/users/geekscrapy/gists{/gist_id}", "starred_url": "https://api.github.com/users/geekscrapy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geekscrapy/subscriptions", "organizations_url": "https://api.github.com/users/geekscrapy/orgs", "repos_url": "https://api.github.com/users/geekscrapy/repos", "events_url": "https://api.github.com/users/geekscrapy/events{/privacy}", "received_events_url": "https://api.github.com/users/geekscrapy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-03-03T08:17:10Z", "updated_at": "2021-10-21T01:20:30Z", "closed_at": "2021-10-20T23:55:39Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "_Firstly, I apologise for the terrible title :D_\r\n\r\n**Small description**\r\nWhen using wordwrap (`visibility-sheet`/`v`), visible rows != number of rows on the page.\r\n\r\nIf I have the ability to show 100 rows normally without wordwrap and then use `visibility-sheet` which then means only 5 of those rows are visibly shown, when I scroll to the 6th row (that is off screen) the view does not change (even if I try `zz` for example) and I can only ever see 5 rows, but I am able to actually navigate to lower rows (> 5).\r\n\r\nAlso, when you move the cursor off screen the screen flashes a number of times (I think this is linked to the number of rows shown on screen, unsure).\r\n\r\n**Expected result**\r\nIf the screen is filled with 5 rows (due to `visibility-sheet`), when I navigate to the 6th (off screen row) this row pops to the pop of the screen visually.\r\n\r\n**Actual result with screenshot**\r\nWithout `visibility-sheet`, row 36 selected\r\n![image](https://user-images.githubusercontent.com/11225502/109774372-b2c1bd00-7c19-11eb-9501-8818a6c3bcb8.png)\r\n\r\nWith `visibility-sheet`, row 11 selected\r\n![image](https://user-images.githubusercontent.com/11225502/109774410-bce3bb80-7c19-11eb-83b0-603775cf6ee8.png)\r\n\r\nWith `visibility-sheet`, row 13 selected (but not shown)\r\n![image](https://user-images.githubusercontent.com/11225502/109774584-f4526800-7c19-11eb-8c1d-9076ea5b03ca.png)\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n(for ease of reproducibility, use a small window)\r\n1. vd https://raw.githubusercontent.com/linuxacademy/content-elastic-log-samples/master/access.log\r\n2. Apply `visibility-sheet`\r\n3. Scroll to the lower rows", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/916/reactions", "total_count": 3, "+1": 3, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/916/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/914", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/914/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/914/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/914/events", "html_url": "https://github.com/saulpw/visidata/issues/914", "id": 819380722, "node_id": "MDU6SXNzdWU4MTkzODA3MjI=", "number": 914, "title": "fancy chooser is incompatible with replay", "user": {"login": "setop", "id": 7794056, "node_id": "MDQ6VXNlcjc3OTQwNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/7794056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/setop", "html_url": "https://github.com/setop", "followers_url": "https://api.github.com/users/setop/followers", "following_url": "https://api.github.com/users/setop/following{/other_user}", "gists_url": "https://api.github.com/users/setop/gists{/gist_id}", "starred_url": "https://api.github.com/users/setop/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/setop/subscriptions", "organizations_url": "https://api.github.com/users/setop/orgs", "repos_url": "https://api.github.com/users/setop/repos", "events_url": "https://api.github.com/users/setop/events{/privacy}", "received_events_url": "https://api.github.com/users/setop/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-03-01T22:54:49Z", "updated_at": "2021-06-25T00:31:50Z", "closed_at": "2021-06-25T00:31:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Small description**\r\n\r\nWhen using replay, if commandlog contains aggregator choice line (due to fancy chooser), then it fails.\r\n\r\n**Expected result**\r\n\r\nReplay is done and result is saved.\r\n\r\n**Actual result with screenshot**\r\n\r\n```error\r\nadd aggregator to current column\r\nno sheet named choices\r\nreplay canceled\r\n```\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n```\r\nsheet\tcol\trow\tlongname\tinput\tkeystrokes\tcomment\r\n\t\t\topen-file\tvacsi.csv\to\t\r\nvacsi\tres_vac_cum_dose1\t\ttype-int\t\t#\tset type of current column to int\r\nvacsi\tres_vac_cum_dose1\t\taggregate-col\t\t+\tadd aggregator to current column\r\nchoices\t\t\u30adsum\tchoose-rows\tsum\t^J\t\r\nvacsi\tjour\t\tfreq-col\t\tF\topen Frequency Table grouped on current column, with aggregations of other columns\r\n```\r\n\r\n**Additional context**\r\n\r\nworks if recording with `--fancy-chooser=false` and then replay\r\n\r\n```\r\nsheet\tcol\trow\tlongname\tinput\tkeystrokes\tcomment\r\n\t\t\topen-file\tvacsi.csv\to\t\r\nvacsi\tres_vac_cum_dose1\t\ttype-int\t\t#\tset type of current column to int\r\nvacsi\tres_vac_cum_dose1\t\taggregate-col\tsum +\tadd aggregator to current column\r\nvacsi\tjour\t\tfreq-col\t\tF\topen Frequency Table grouped on current column, with aggregations of other columns\r\n```\r\n\r\n\r\nsaul.pw/VisiData v2.1.1\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/914/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/914/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/900", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/900/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/900/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/900/events", "html_url": "https://github.com/saulpw/visidata/issues/900", "id": 809299625, "node_id": "MDU6SXNzdWU4MDkyOTk2MjU=", "number": 900, "title": "[sqlite] remove precount of rows for faster and incremental loading", "user": {"login": "fleimgruber", "id": 7400038, "node_id": "MDQ6VXNlcjc0MDAwMzg=", "avatar_url": "https://avatars.githubusercontent.com/u/7400038?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fleimgruber", "html_url": "https://github.com/fleimgruber", "followers_url": "https://api.github.com/users/fleimgruber/followers", "following_url": "https://api.github.com/users/fleimgruber/following{/other_user}", "gists_url": "https://api.github.com/users/fleimgruber/gists{/gist_id}", "starred_url": "https://api.github.com/users/fleimgruber/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fleimgruber/subscriptions", "organizations_url": "https://api.github.com/users/fleimgruber/orgs", "repos_url": "https://api.github.com/users/fleimgruber/repos", "events_url": "https://api.github.com/users/fleimgruber/events{/privacy}", "received_events_url": "https://api.github.com/users/fleimgruber/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2021-02-16T13:13:07Z", "updated_at": "2021-04-09T20:05:02Z", "closed_at": "2021-04-09T20:04:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "When exploring big sqlite tables (millions of rows), the performance is really bad as visidata apparently eagerly loads all rows from the table.\r\n\r\nIs there a way to lazily limit the number of initially fetched rows (e.g. when only a look at example data is required and no calc over whole columns)?\r\n\r\nThinking further, the number of rows to be initially fetched in \"lazy mode\" would be fetched on demand if e.g. scrolling at the bottom of the initially fetched rows or after and explicit \"fetch more rows\" command.\r\n\r\nWDYT?", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/900/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/900/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/899", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/899/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/899/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/899/events", "html_url": "https://github.com/saulpw/visidata/issues/899", "id": 808032309, "node_id": "MDU6SXNzdWU4MDgwMzIzMDk=", "number": 899, "title": "[SuspendCurses] Suspending(ctrl-Z)/resuming(fg) while vd is in SuspendCurses has issues", "user": {"login": "frosencrantz", "id": 631242, "node_id": "MDQ6VXNlcjYzMTI0Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/631242?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frosencrantz", "html_url": "https://github.com/frosencrantz", "followers_url": "https://api.github.com/users/frosencrantz/followers", "following_url": "https://api.github.com/users/frosencrantz/following{/other_user}", "gists_url": "https://api.github.com/users/frosencrantz/gists{/gist_id}", "starred_url": "https://api.github.com/users/frosencrantz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frosencrantz/subscriptions", "organizations_url": "https://api.github.com/users/frosencrantz/orgs", "repos_url": "https://api.github.com/users/frosencrantz/repos", "events_url": "https://api.github.com/users/frosencrantz/events{/privacy}", "received_events_url": "https://api.github.com/users/frosencrantz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-02-14T19:48:24Z", "updated_at": "2021-02-28T17:26:01Z", "closed_at": "2021-02-24T09:40:36Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nIf vd has called SuspendCurses to start another program (such as for ^H for the man apge, or ^O for the editor) resuming causes the vd and the other program to compete for input/output.\r\n\r\n\r\n**Expected result**\r\nfg resumes into the program launched by vd, allowing the user to quit that program before returning to vd.\r\n\r\n**Actual result with screenshot**\r\nSorry no screenshot it causes all sort of issues to record.\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\nLaunch vd hit '^H'.  While still viewing man page, hit '^Z' to suspend.  Then resume.\r\nI've gotten different odd results, vd is then running, but the other program is too.\r\nI think this is an issue with SuspendCurses handling signals and subprocesses.\r\nI think this will be rewarding to fix like \r\nhttps://github.com/saulpw/visidata/issues/851\r\n\r\n**Additional context**\r\n\r\nPlease include the version of VisiData. using latest version of develop\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/899/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/899/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/897", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/897/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/897/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/897/events", "html_url": "https://github.com/saulpw/visidata/issues/897", "id": 808032174, "node_id": "MDU6SXNzdWU4MDgwMzIxNzQ=", "number": 897, "title": "[sheets source col] Paths are not sortable.", "user": {"login": "frosencrantz", "id": 631242, "node_id": "MDQ6VXNlcjYzMTI0Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/631242?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frosencrantz", "html_url": "https://github.com/frosencrantz", "followers_url": "https://api.github.com/users/frosencrantz/followers", "following_url": "https://api.github.com/users/frosencrantz/following{/other_user}", "gists_url": "https://api.github.com/users/frosencrantz/gists{/gist_id}", "starred_url": "https://api.github.com/users/frosencrantz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frosencrantz/subscriptions", "organizations_url": "https://api.github.com/users/frosencrantz/orgs", "repos_url": "https://api.github.com/users/frosencrantz/repos", "events_url": "https://api.github.com/users/frosencrantz/events{/privacy}", "received_events_url": "https://api.github.com/users/frosencrantz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-02-14T19:47:47Z", "updated_at": "2021-02-28T17:26:13Z", "closed_at": "2021-02-16T03:25:24Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nTrying to sort the `source` column in the Sheets table reports a traceback.\r\n\r\n**Expected result**\r\nThe rows are sorted by the `source` column.\r\n\r\n**Actual result with screenshot**\r\nhttps://asciinema.org/a/29PPqbhrQOvBzMKeKlCBTkety\r\nIf you get an unexpected error, please include the full stack trace that you get with `Ctrl-E`.\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3.9/site-packages/visidata/basesheet.py\", line 136, in execCommand\r\n    exec(code, vdglobals, LazyChainMap(vd, self))\r\n  File \"sort-desc\", line 1, in <module>\r\n  File \"/usr/lib/python3.9/site-packages/visidata/sort.py\", line 28, in orderBy\r\n    sheet.sort()\r\n  File \"/usr/lib/python3.9/site-packages/visidata/sheets.py\", line 983, in sort\r\n    self.rows[1:] = sorted(self.rows[1:], key=self.sortkey)\r\n  File \"/usr/lib/python3.9/site-packages/visidata/sort.py\", line 38, in __lt__\r\n    return other.obj < self.obj\r\nTypeError: '<' not supported between instances of 'Path' and 'Path'\r\n```\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\nOpen several data files go to the Sheets sheet, and try sorting by the `source` column.\r\n\r\n**Additional context**\r\nPlease include the version of VisiData, latest develop version.\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/897/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/897/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/896", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/896/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/896/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/896/events", "html_url": "https://github.com/saulpw/visidata/issues/896", "id": 808032167, "node_id": "MDU6SXNzdWU4MDgwMzIxNjc=", "number": 896, "title": "[help] help-commands-all missing some bindings", "user": {"login": "frosencrantz", "id": 631242, "node_id": "MDQ6VXNlcjYzMTI0Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/631242?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frosencrantz", "html_url": "https://github.com/frosencrantz", "followers_url": "https://api.github.com/users/frosencrantz/followers", "following_url": "https://api.github.com/users/frosencrantz/following{/other_user}", "gists_url": "https://api.github.com/users/frosencrantz/gists{/gist_id}", "starred_url": "https://api.github.com/users/frosencrantz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frosencrantz/subscriptions", "organizations_url": "https://api.github.com/users/frosencrantz/orgs", "repos_url": "https://api.github.com/users/frosencrantz/repos", "events_url": "https://api.github.com/users/frosencrantz/events{/privacy}", "received_events_url": "https://api.github.com/users/frosencrantz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-02-14T19:47:44Z", "updated_at": "2021-06-24T22:07:32Z", "closed_at": "2021-06-24T22:01:02Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\n`help-commands-all` sheet is missing some key bindings.\r\n\r\n**Expected result**\r\nAll bindings are shown in `help-commands-all`\r\n\r\n**Actual result with screenshot**\r\nhttps://asciinema.org/a/D71Iq7pDIK5wnhGeZgKdFHSqB\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n\r\nGo to `help-commands-all` search for keys.\r\n\r\nI was trying to find the bindings for PgUp/PgDown keys, but I was not able to find them in help-commands-all.  The source code has the binding, but I use `help-commands-all`.  I am not sure why the binding is missing.\r\n\r\nhttps://github.com/saulpw/visidata/blob/d48c91ce9fee9daffc85a671af62b3f412495f50/visidata/movement.py#L147\r\n\r\n\r\n**Additional context**\r\nPlease include the version of VisiData. latest version of develop\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/896/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/896/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/891", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/891/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/891/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/891/events", "html_url": "https://github.com/saulpw/visidata/issues/891", "id": 801042487, "node_id": "MDU6SXNzdWU4MDEwNDI0ODc=", "number": 891, "title": "[2.2] ... appears after using zh/l, even at offset 0", "user": {"login": "geekscrapy", "id": 11225502, "node_id": "MDQ6VXNlcjExMjI1NTAy", "avatar_url": "https://avatars.githubusercontent.com/u/11225502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geekscrapy", "html_url": "https://github.com/geekscrapy", "followers_url": "https://api.github.com/users/geekscrapy/followers", "following_url": "https://api.github.com/users/geekscrapy/following{/other_user}", "gists_url": "https://api.github.com/users/geekscrapy/gists{/gist_id}", "starred_url": "https://api.github.com/users/geekscrapy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geekscrapy/subscriptions", "organizations_url": "https://api.github.com/users/geekscrapy/orgs", "repos_url": "https://api.github.com/users/geekscrapy/repos", "events_url": "https://api.github.com/users/geekscrapy/events{/privacy}", "received_events_url": "https://api.github.com/users/geekscrapy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-02-04T08:16:06Z", "updated_at": "2021-04-07T06:21:04Z", "closed_at": "2021-04-07T00:34:29Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nAfter using `zh/l` to show additional parts of the cell, then using `zh` to get back to offset `0`, the `...` still appears to the left. If you use `gzh`, the `...` disappears.\r\n\r\n**Expected result**\r\nwhen at offset `0`, `...` disappears.\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\nGet a cell with long lines, use `zh/l` a few times, then use `zh` to get back to offset `0`.\r\n\r\n**Additional context**\r\nIf you use gzh, the `...` disappear\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/891/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/891/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/885", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/885/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/885/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/885/events", "html_url": "https://github.com/saulpw/visidata/issues/885", "id": 797769737, "node_id": "MDU6SXNzdWU3OTc3Njk3Mzc=", "number": 885, "title": " [vds] Problems with vds format container columns", "user": {"login": "frosencrantz", "id": 631242, "node_id": "MDQ6VXNlcjYzMTI0Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/631242?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frosencrantz", "html_url": "https://github.com/frosencrantz", "followers_url": "https://api.github.com/users/frosencrantz/followers", "following_url": "https://api.github.com/users/frosencrantz/following{/other_user}", "gists_url": "https://api.github.com/users/frosencrantz/gists{/gist_id}", "starred_url": "https://api.github.com/users/frosencrantz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frosencrantz/subscriptions", "organizations_url": "https://api.github.com/users/frosencrantz/orgs", "repos_url": "https://api.github.com/users/frosencrantz/repos", "events_url": "https://api.github.com/users/frosencrantz/events{/privacy}", "received_events_url": "https://api.github.com/users/frosencrantz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-01-31T17:52:51Z", "updated_at": "2021-04-07T06:13:29Z", "closed_at": "2021-04-07T06:13:29Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nThe vds format don't handle container columns (expanded or unexpanded)\r\n\r\n**Expected result**\r\nWorks like the original data plus the extra vds features\r\n\r\n**Actual result with screenshot**\r\n\r\nhttps://asciinema.org/a/YVhEi56JmsqCO5il6948gsuyS\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3.9/site-packages/visidata/threads.py\", line 215, in _toplevelTryFunc\r\n    t.status = func(*args, **kwargs)\r\n  File \"/usr/lib/python3.9/site-packages/visidata/sheets.py\", line 284, in reload\r\n    for r in self.iterload():\r\n  File \"/usr/lib/python3.9/site-packages/visidata/loaders/vds.py\", line 71, in iterload\r\n    c = globals()[classname](d.pop('name'))\r\nKeyError: 'ExpandedColumn'\r\n```\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n\r\nLoad this json file, and save as vds. For stack trace first expand column b, save the data vds, then load the vds file.\r\n\r\n```\r\n{\"a\":1,\"b\":[0,1],\"c\":null}\r\n{\"a\":2,\"b\":[0,1,2],\"c\":null}\r\n{\"a\":3,\"b\":[0,1,2,3],\"c\":null}\r\n```\r\n\r\nunexpanded the b column data is lost and replaced with the string '[2]' etc.:\r\n\r\n```json\r\n#{\"name\": \"-\"}\r\n#{\"name\": \"a\", \"width\": 4, \"height\": 1, \"expr\": \"a\", \"keycol\": 0, \"fmtstr\": \"\", \"voffset\": 0, \"hoffset\": 0, \"aggstr\": \"\", \"type\": \"int\", \"col\": \"Column\"}\r\n#{\"name\": \"b\", \"width\": 5, \"height\": 1, \"expr\": \"b\", \"keycol\": 0, \"fmtstr\": \"\", \"voffset\": 0, \"hoffset\": 0, \"aggstr\": \"\", \"type\": \"\", \"col\": \"Column\"}\r\n#{\"name\": \"c\", \"width\": 4, \"height\": 1, \"expr\": \"c\", \"keycol\": 0, \"fmtstr\": \"\", \"voffset\": 0, \"hoffset\": 0, \"aggstr\": \"\", \"type\": \"\", \"col\": \"Column\"}\r\n{\"a\": \"1\", \"b\": \"[2]\", \"c\": \"\"}\r\n{\"a\": \"2\", \"b\": \"[3]\", \"c\": \"\"}\r\n{\"a\": \"3\", \"b\": \"[4]\", \"c\": \"\"}\r\n```\r\n\r\nThe expanded version has the data but can only be partially loaded, reporting the stack trace above.\r\n```json\r\n#{\"name\": \"-\"}\r\n#{\"name\": \"a\", \"width\": 4, \"height\": 1, \"expr\": \"a\", \"keycol\": 0, \"fmtstr\": \"\", \"voffset\": 0, \"hoffset\": 0, \"aggstr\": \"\", \"type\": \"int\", \"col\": \"Column\"}\r\n#{\"name\": \"b[0]\", \"width\": 6, \"height\": 1, \"expr\": null, \"keycol\": 0, \"fmtstr\": \"\", \"voffset\": 0, \"hoffset\": 0, \"aggstr\": \"\", \"type\": \"int\", \"col\": \"ExpandedColumn\"}\r\n#{\"name\": \"b[1]\", \"width\": 6, \"height\": 1, \"expr\": null, \"keycol\": 0, \"fmtstr\": \"\", \"voffset\": 0, \"hoffset\": 0, \"aggstr\": \"\", \"type\": \"int\", \"col\": \"ExpandedColumn\"}\r\n#{\"name\": \"b[2]\", \"width\": 6, \"height\": 1, \"expr\": null, \"keycol\": 0, \"fmtstr\": \"\", \"voffset\": 0, \"hoffset\": 0, \"aggstr\": \"\", \"type\": \"int\", \"col\": \"ExpandedColumn\"}\r\n#{\"name\": \"b[3]\", \"width\": 6, \"height\": 1, \"expr\": null, \"keycol\": 0, \"fmtstr\": \"\", \"voffset\": 0, \"hoffset\": 0, \"aggstr\": \"\", \"type\": \"int\", \"col\": \"ExpandedColumn\"}\r\n#{\"name\": \"c\", \"width\": 4, \"height\": 1, \"expr\": \"c\", \"keycol\": 0, \"fmtstr\": \"\", \"voffset\": 0, \"hoffset\": 0, \"aggstr\": \"\", \"type\": \"\", \"col\": \"Column\"}\r\n{\"a\": \"1\", \"b[0]\": \"0\", \"b[1]\": \"1\", \"b[2]\": \"\", \"b[3]\": \"\", \"c\": \"\"}\r\n{\"a\": \"2\", \"b[0]\": \"0\", \"b[1]\": \"1\", \"b[2]\": \"2\", \"b[3]\": \"\", \"c\": \"\"}\r\n{\"a\": \"3\", \"b[0]\": \"0\", \"b[1]\": \"1\", \"b[2]\": \"2\", \"b[3]\": \"3\", \"c\": \"\"}\r\n```\r\n\r\n**Additional context**\r\nPlease include the version of VisiData. Latest develop version.\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/885/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/885/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/884", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/884/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/884/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/884/events", "html_url": "https://github.com/saulpw/visidata/issues/884", "id": 797769707, "node_id": "MDU6SXNzdWU3OTc3Njk3MDc=", "number": 884, "title": "[setcol-fill] setcol-fill has unexpected behavior", "user": {"login": "frosencrantz", "id": 631242, "node_id": "MDQ6VXNlcjYzMTI0Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/631242?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frosencrantz", "html_url": "https://github.com/frosencrantz", "followers_url": "https://api.github.com/users/frosencrantz/followers", "following_url": "https://api.github.com/users/frosencrantz/following{/other_user}", "gists_url": "https://api.github.com/users/frosencrantz/gists{/gist_id}", "starred_url": "https://api.github.com/users/frosencrantz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frosencrantz/subscriptions", "organizations_url": "https://api.github.com/users/frosencrantz/orgs", "repos_url": "https://api.github.com/users/frosencrantz/repos", "events_url": "https://api.github.com/users/frosencrantz/events{/privacy}", "received_events_url": "https://api.github.com/users/frosencrantz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2021-01-31T17:52:45Z", "updated_at": "2021-02-07T16:13:32Z", "closed_at": "2021-02-01T02:38:24Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nThe setcol-fill command will sometimes fill cells that are not selected\r\n\r\n**Expected result**\r\nOnly selected cells are filled\r\n\r\n**Actual result with screenshot**\r\nI only selected some rows, and added some rows. The setcol-fill updated cells in rows not selected. The behavior I see at times is not correct.  Many times when selected rows are not contiguous.\r\n\r\nhttps://asciinema.org/a/iApwtvYzhzU254QgnVCJ0PHx5\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n\r\n```json\r\n{\"a\":1,\"b\":[0,1],\"c\":null}\r\n{\"a\":2,\"b\":[0,1,2],\"c\":null}\r\n{\"a\":3,\"b\":[0,1,2,3],\"c\":null}\r\n{\"a\":4,\"b\":[0,1,2,3,4],\"c\":null}\r\n{\"a\":5,\"b\":[0,1,2,3,4,5],\"c\":null}\r\n```\r\n\r\n```\r\nsheet\tcol\trow\tlongname\tinput\tkeystrokes\tcomment\r\nglobal\t\tfiletype\tset-option\tjson\t\t\r\n\t\t\topen-file\t-\to\t\r\n-\tc\t0\tedit-cell\tx\te\tedit contents of current cell\r\n-\t\t0\tselect-row\t\ts\tselect current row\r\n-\t\t0\tadd-row\t\ta\tappend a blank row\r\n-\t\t1\tadd-row\t\ta\tappend a blank row\r\n-\t\t2\tadd-row\t\ta\tappend a blank row\r\n-\t\t3\tselect-row\t\ts\tselect current row\r\n-\tc\t\tsetcol-fill\t\tf\tfills null cells in selected rows of current column with contents of non-null cells up the current column\r\n-\t\t\tcmdlog-sheet\t\tD\topen current sheet's CommandLog with all other loose ends removed; includes commands from parent sheets\r\n```\r\n\r\n**Additional context**\r\nPlease include the version of VisiData. Latest develop version.\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/884/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/884/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/882", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/882/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/882/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/882/events", "html_url": "https://github.com/saulpw/visidata/issues/882", "id": 797524075, "node_id": "MDU6SXNzdWU3OTc1MjQwNzU=", "number": 882, "title": "can't copy a column", "user": {"login": "teto", "id": 886074, "node_id": "MDQ6VXNlcjg4NjA3NA==", "avatar_url": "https://avatars.githubusercontent.com/u/886074?v=4", "gravatar_id": "", "url": "https://api.github.com/users/teto", "html_url": "https://github.com/teto", "followers_url": "https://api.github.com/users/teto/followers", "following_url": "https://api.github.com/users/teto/following{/other_user}", "gists_url": "https://api.github.com/users/teto/gists{/gist_id}", "starred_url": "https://api.github.com/users/teto/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/teto/subscriptions", "organizations_url": "https://api.github.com/users/teto/orgs", "repos_url": "https://api.github.com/users/teto/repos", "events_url": "https://api.github.com/users/teto/events{/privacy}", "received_events_url": "https://api.github.com/users/teto/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2101517149, "node_id": "MDU6TGFiZWwyMTAxNTE3MTQ5", "url": "https://api.github.com/repos/saulpw/visidata/labels/can't%20reproduce", "name": "can't reproduce", "color": "f2712b", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2021-01-30T20:28:55Z", "updated_at": "2021-03-09T01:11:22Z", "closed_at": "2021-03-09T01:02:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Small description**\r\nI am trying to copy the column \"datafin\" from client2.txt to tokens.txt (same number of rows, tokens.txt misses some columns from client2.txt).\r\nRename the file to csv and set the delimiter to `|`.\r\n[client2.txt](https://github.com/saulpw/visidata/files/5898667/client2.txt)\r\n[tokens.txt](https://github.com/saulpw/visidata/files/5898983/tokens.txt)\r\n\r\n\r\nI do as advised on IRC and it works for the other columns but not for columns that lack a cell in the first row (or so it seems)\r\n\"gs gzy to copy the values, the go to the other sheet, za to create a column, gs gzp to paste\"\r\n\r\n**Additional context**\r\nI've been using a recent one e65c076c644a9577022c985dee5b447650cddd72", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/882/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/882/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/878", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/878/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/878/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/878/events", "html_url": "https://github.com/saulpw/visidata/issues/878", "id": 793924768, "node_id": "MDU6SXNzdWU3OTM5MjQ3Njg=", "number": 878, "title": "[bug] Problems with filtering in pandas", "user": {"login": "anjakefala", "id": 7489659, "node_id": "MDQ6VXNlcjc0ODk2NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/7489659?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anjakefala", "html_url": "https://github.com/anjakefala", "followers_url": "https://api.github.com/users/anjakefala/followers", "following_url": "https://api.github.com/users/anjakefala/following{/other_user}", "gists_url": "https://api.github.com/users/anjakefala/gists{/gist_id}", "starred_url": "https://api.github.com/users/anjakefala/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anjakefala/subscriptions", "organizations_url": "https://api.github.com/users/anjakefala/orgs", "repos_url": "https://api.github.com/users/anjakefala/repos", "events_url": "https://api.github.com/users/anjakefala/events{/privacy}", "received_events_url": "https://api.github.com/users/anjakefala/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-01-26T04:47:57Z", "updated_at": "2021-01-28T06:26:36Z", "closed_at": "2021-01-28T06:26:36Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "> The Dataframe displays fine, but when I select rows and try to make a new sheet with them (with \"), nothing shows in the new sheet.  Similarly, when I make a Frequency Table and then press enter to drill down into one of the items, nothing shows.\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/878/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/878/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/871", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/871/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/871/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/871/events", "html_url": "https://github.com/saulpw/visidata/issues/871", "id": 787724583, "node_id": "MDU6SXNzdWU3ODc3MjQ1ODM=", "number": 871, "title": "Gpg key in ubuntu repos", "user": {"login": "marcobra", "id": 1607387, "node_id": "MDQ6VXNlcjE2MDczODc=", "avatar_url": "https://avatars.githubusercontent.com/u/1607387?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marcobra", "html_url": "https://github.com/marcobra", "followers_url": "https://api.github.com/users/marcobra/followers", "following_url": "https://api.github.com/users/marcobra/following{/other_user}", "gists_url": "https://api.github.com/users/marcobra/gists{/gist_id}", "starred_url": "https://api.github.com/users/marcobra/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marcobra/subscriptions", "organizations_url": "https://api.github.com/users/marcobra/orgs", "repos_url": "https://api.github.com/users/marcobra/repos", "events_url": "https://api.github.com/users/marcobra/events{/privacy}", "received_events_url": "https://api.github.com/users/marcobra/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2021-01-17T15:03:47Z", "updated_at": "2021-04-05T01:19:12Z", "closed_at": "2021-04-05T01:19:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Small description**\r\ni usually update your package without issue, In the last week, there is an error:\r\n\r\nError GPG: https://raw.githubusercontent.com/saulpw/deb-vd/master sid InRelease: Le seguenti firme non erano valide: EXPKEYSIG 06C997C9869C8F01 Anja Boskovic <anja.kefala@gmail.com>\r\n\r\nfor your ppa repos\r\n\r\ndeb [arch=amd64] https://raw.githubusercontent.com/saulpw/deb-vd/master sid main\r\n\r\nit is impossible to upgrade your package  \r\n\r\nplease dress... thank you\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/871/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/871/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/870", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/870/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/870/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/870/events", "html_url": "https://github.com/saulpw/visidata/issues/870", "id": 787270611, "node_id": "MDU6SXNzdWU3ODcyNzA2MTE=", "number": 870, "title": "cmdlog with set-option do not replay", "user": {"login": "setop", "id": 7794056, "node_id": "MDQ6VXNlcjc3OTQwNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/7794056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/setop", "html_url": "https://github.com/setop", "followers_url": "https://api.github.com/users/setop/followers", "following_url": "https://api.github.com/users/setop/following{/other_user}", "gists_url": "https://api.github.com/users/setop/gists{/gist_id}", "starred_url": "https://api.github.com/users/setop/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/setop/subscriptions", "organizations_url": "https://api.github.com/users/setop/orgs", "repos_url": "https://api.github.com/users/setop/repos", "events_url": "https://api.github.com/users/setop/events{/privacy}", "received_events_url": "https://api.github.com/users/setop/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-01-15T23:08:31Z", "updated_at": "2021-01-16T00:09:39Z", "closed_at": "2021-01-16T00:09:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Small description**\r\n\r\nusing cmdlog file with `set-option` statements, replay (`vd -p`) does nothing.\r\n\r\n**Expected result**\r\n\r\nThe cvs file is loaded in the TUI\r\n\r\n**Actual result with screenshot**\r\n\r\nThe program immediatlly terminate with 0 as exit code\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n\r\n```\r\nsheet\tcol\trow\tlongname\tinput\tkeystrokes\tcomment\r\naccess\t\theader\tset-option\t0\t\t\r\naccess\t\tfiletype\tset-option\tcsv\t\t\r\n\t\t\topen-file\taccess.log\to\t\r\n\r\n```\r\nIt works by removing all 'set-option' rows, but the the file is not displayed properly.\r\n\r\n**Additional context**\r\n\r\n\"saul.pw/VisiData v2.1.1\"\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/870/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/870/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/866", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/866/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/866/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/866/events", "html_url": "https://github.com/saulpw/visidata/issues/866", "id": 782518466, "node_id": "MDU6SXNzdWU3ODI1MTg0NjY=", "number": 866, "title": "[fancy_chooser] Undo and Redo should work for choices made via the fancy_chooser", "user": {"login": "anjakefala", "id": 7489659, "node_id": "MDQ6VXNlcjc0ODk2NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/7489659?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anjakefala", "html_url": "https://github.com/anjakefala", "followers_url": "https://api.github.com/users/anjakefala/followers", "following_url": "https://api.github.com/users/anjakefala/following{/other_user}", "gists_url": "https://api.github.com/users/anjakefala/gists{/gist_id}", "starred_url": "https://api.github.com/users/anjakefala/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anjakefala/subscriptions", "organizations_url": "https://api.github.com/users/anjakefala/orgs", "repos_url": "https://api.github.com/users/anjakefala/repos", "events_url": "https://api.github.com/users/anjakefala/events{/privacy}", "received_events_url": "https://api.github.com/users/anjakefala/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-01-09T05:37:40Z", "updated_at": "2021-06-25T00:32:10Z", "closed_at": "2021-06-25T00:32:10Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "The fancy chooser launches as a second sheet in a second pane, and so `cmdlog_sheet` entries for initiating the choice and selecting a choice get divided between the original sheet and **choices** sheet.\r\n\r\nAdditionally, the input does not get logged as a cell value in either `cmdlog_sheet` entry.\r\n\r\nSaul thinks the fancy_chooser should be converted into a modal, instead of being a second sheet in the other pane. ", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/866/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/866/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/863", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/863/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/863/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/863/events", "html_url": "https://github.com/saulpw/visidata/issues/863", "id": 778084965, "node_id": "MDU6SXNzdWU3NzgwODQ5NjU=", "number": 863, "title": "Comma as a decimal separator", "user": {"login": "Guiriguanche", "id": 1771029, "node_id": "MDQ6VXNlcjE3NzEwMjk=", "avatar_url": "https://avatars.githubusercontent.com/u/1771029?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Guiriguanche", "html_url": "https://github.com/Guiriguanche", "followers_url": "https://api.github.com/users/Guiriguanche/followers", "following_url": "https://api.github.com/users/Guiriguanche/following{/other_user}", "gists_url": "https://api.github.com/users/Guiriguanche/gists{/gist_id}", "starred_url": "https://api.github.com/users/Guiriguanche/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Guiriguanche/subscriptions", "organizations_url": "https://api.github.com/users/Guiriguanche/orgs", "repos_url": "https://api.github.com/users/Guiriguanche/repos", "events_url": "https://api.github.com/users/Guiriguanche/events{/privacy}", "received_events_url": "https://api.github.com/users/Guiriguanche/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2021-01-04T13:11:57Z", "updated_at": "2021-02-05T21:33:11Z", "closed_at": "2021-02-05T21:30:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "In my locale the decimal \"point\" is the comma. Columns with currencies or floats are not sorted correctly nor is it possible to set the column datatype to float or currency. I tried finding an option in the local or global options sheet but was not successful.\r\n\r\n**Column as read**\r\n![Screenshot 2021-01-04 at 12 11 13](https://user-images.githubusercontent.com/1771029/103534186-55fa8e00-4e86-11eb-9cf9-903bebbb4cde.png)\r\n\r\n**Column after converting to currency**\r\n![Screenshot 2021-01-04 at 12 11 30](https://user-images.githubusercontent.com/1771029/103534313-88a48680-4e86-11eb-9609-93296a81919f.png)\r\n\r\n**Additional context**\r\nVisidata version v2.0.1 on MacOS Mojave (10.14.6) (tested on osx Terminal and iTerm2)\r\nPreferred Languages (in System Preferences): English (UK)\r\nRegion: Spain\r\n![Screenshot 2021-01-04 at 12 20 45](https://user-images.githubusercontent.com/1771029/103534721-56475900-4e87-11eb-9d33-80bace63abba.png)\r\n\r\n```console\r\n~ locale\r\nLANG=\r\nLC_COLLATE=\"C\"\r\nLC_CTYPE=\"UTF-8\"\r\nLC_MESSAGES=\"C\"\r\nLC_MONETARY=\"C\"\r\nLC_NUMERIC=\"C\"\r\nLC_TIME=\"C\"\r\nLC_ALL=\r\n~ defaults read -g AppleLocale \r\nen_ES\r\n```\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/863/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/863/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/851", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/851/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/851/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/851/events", "html_url": "https://github.com/saulpw/visidata/issues/851", "id": 774914759, "node_id": "MDU6SXNzdWU3NzQ5MTQ3NTk=", "number": 851, "title": "BrokenPipeError on writing to stdout", "user": {"login": "robdmc", "id": 417837, "node_id": "MDQ6VXNlcjQxNzgzNw==", "avatar_url": "https://avatars.githubusercontent.com/u/417837?v=4", "gravatar_id": "", "url": "https://api.github.com/users/robdmc", "html_url": "https://github.com/robdmc", "followers_url": "https://api.github.com/users/robdmc/followers", "following_url": "https://api.github.com/users/robdmc/following{/other_user}", "gists_url": "https://api.github.com/users/robdmc/gists{/gist_id}", "starred_url": "https://api.github.com/users/robdmc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/robdmc/subscriptions", "organizations_url": "https://api.github.com/users/robdmc/orgs", "repos_url": "https://api.github.com/users/robdmc/repos", "events_url": "https://api.github.com/users/robdmc/events{/privacy}", "received_events_url": "https://api.github.com/users/robdmc/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-12-26T18:25:53Z", "updated_at": "2021-01-02T06:15:13Z", "closed_at": "2021-01-02T06:15:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Small description**\r\nWhen writing larger files to stdout, vd throws a Broken pipe Error.\r\n\r\n**Expected result**\r\n```\r\nseq 100 | awk 'BEGIN{print \"x,y\"} {print $1\",\"2*$1}' | vd -f csv -b - | head\r\nopening - as csv\r\nI shall never get to twenty at that rate!\r\nsaving 1 sheets to - as tsv\r\n- save finished\r\nx       y\r\n1       2\r\n2       4\r\n3       6\r\n4       8\r\n5       10\r\n6       12\r\n7       14\r\n8       16\r\n9       18\r\n```\r\nThis works fine.\r\n\r\n**Actual result with screenshot**\r\nBut now look what happens if I do this for a larger input.\r\n```\r\n seq 10000 | awk 'BEGIN{print \"x,y\"} {print $1\",\"2*$1}' | vd -f csv -b - | head\r\nopening - as csv\r\nsaving 1 sheets to - as tsv\r\nx       y\r\n1       2\r\n2       4\r\n3       6\r\n4       8\r\n5       10\r\n6       12\r\n7       14\r\n8       16\r\n9       18\r\nTraceback (most recent call last):\r\n  File \"/home/rob/envs/base/bin/vd\", line 6, in <module>\r\n    visidata.main.vd_cli()\r\n  File \"/home/rob/envs/base/lib/python3.8/site-packages/visidata/main.py\", line 299, in vd_cli\r\n    rc = main_vd()\r\n  File \"/home/rob/envs/base/lib/python3.8/site-packages/visidata/main.py\", line 284, in main_vd\r\n    saveSheets(outpath, vd.sheets[0], confirm_overwrite=False)\r\n  File \"/home/rob/envs/base/lib/python3.8/site-packages/visidata/vdobj.py\", line 37, in _vdfunc\r\n    return func(visidata.vd, *args, **kwargs)\r\n  File \"/home/rob/envs/base/lib/python3.8/site-packages/visidata/save.py\", line 105, in saveSheets\r\n    return vd.execAsync(savefunc, givenpath, *vsheets)\r\n  File \"/home/rob/envs/base/lib/python3.8/site-packages/visidata/main.py\", line 198, in <lambda>\r\n    vd.execAsync = lambda func, *args, **kwargs: func(*args, **kwargs) # disable async\r\n  File \"/home/rob/envs/base/lib/python3.8/site-packages/visidata/loaders/tsv.py\", line 73, in save_tsv\r\n    fp.write(unitsep.join(dispvals.values()))\r\nBrokenPipeError: [Errno 32] Broken pipe\r\n```\r\nI haven't looked at the code, but could this be due to async issues with writing to stdout?", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/851/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/851/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/843", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/843/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/843/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/843/events", "html_url": "https://github.com/saulpw/visidata/issues/843", "id": 767011549, "node_id": "MDU6SXNzdWU3NjcwMTE1NDk=", "number": 843, "title": "Did behavior of JSON column expansion change (kind of) recently?", "user": {"login": "brookskindle", "id": 2654835, "node_id": "MDQ6VXNlcjI2NTQ4MzU=", "avatar_url": "https://avatars.githubusercontent.com/u/2654835?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brookskindle", "html_url": "https://github.com/brookskindle", "followers_url": "https://api.github.com/users/brookskindle/followers", "following_url": "https://api.github.com/users/brookskindle/following{/other_user}", "gists_url": "https://api.github.com/users/brookskindle/gists{/gist_id}", "starred_url": "https://api.github.com/users/brookskindle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brookskindle/subscriptions", "organizations_url": "https://api.github.com/users/brookskindle/orgs", "repos_url": "https://api.github.com/users/brookskindle/repos", "events_url": "https://api.github.com/users/brookskindle/events{/privacy}", "received_events_url": "https://api.github.com/users/brookskindle/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2020-12-14T23:20:55Z", "updated_at": "2020-12-20T01:01:54Z", "closed_at": "2020-12-18T19:34:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello! \ud83d\udc4b \r\n\r\nLet me begin by saying that I love using visidata for all types of initial exploratory data work. One of my common use-cases is using it to inspect a complex JSON payload in order to understand the structure better.\r\n\r\nI used to have a version of visidata (I don't remember which version) where as I was diving into a large, nested JSON object, all of the fields on the current level (provided the field was not, itself, an object or array) would expand into columns automatically. \r\n\r\nWhen I updated visidata to `v2.0.1`, that default behavior changed, and object fields are now unexpanded by default\r\n![Screen Shot 2020-12-14 at 3 12 04 PM](https://user-images.githubusercontent.com/2654835/102147093-07297d80-3e1f-11eb-9c0e-30d5c6bd68c7.png)\r\n\r\nI can still get what I need to get done by using the `gz(` expand shortcut and setting `depth=1`, but another observation is that the column names are also different. Eg: `-[]_stores.name` instead of simply `name` (or perhaps `stores.name`, it's been a while since I used the older version with this behavior).\r\n![Screen Shot 2020-12-14 at 3 13 38 PM](https://user-images.githubusercontent.com/2654835/102147105-0bee3180-3e1f-11eb-93a2-4e973ecd8067.png)\r\n\r\nDo you know if this was an intentional decision, or if there is a way to configure visidata to use the old behavior that auto-expanded a depth of 1 when looking at objects?\r\n\r\nThanks in advance, please let me know if that makes sense!", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/843/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/843/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/841", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/841/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/841/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/841/events", "html_url": "https://github.com/saulpw/visidata/issues/841", "id": 765202349, "node_id": "MDU6SXNzdWU3NjUyMDIzNDk=", "number": 841, "title": "[2.0.1] long commands set in alias() are not auto-completable in exec-longname", "user": {"login": "geekscrapy", "id": 11225502, "node_id": "MDQ6VXNlcjExMjI1NTAy", "avatar_url": "https://avatars.githubusercontent.com/u/11225502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geekscrapy", "html_url": "https://github.com/geekscrapy", "followers_url": "https://api.github.com/users/geekscrapy/followers", "following_url": "https://api.github.com/users/geekscrapy/following{/other_user}", "gists_url": "https://api.github.com/users/geekscrapy/gists{/gist_id}", "starred_url": "https://api.github.com/users/geekscrapy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geekscrapy/subscriptions", "organizations_url": "https://api.github.com/users/geekscrapy/orgs", "repos_url": "https://api.github.com/users/geekscrapy/repos", "events_url": "https://api.github.com/users/geekscrapy/events{/privacy}", "received_events_url": "https://api.github.com/users/geekscrapy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-12-13T09:07:03Z", "updated_at": "2020-12-22T03:43:39Z", "closed_at": "2020-12-22T03:43:39Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nIf I use the following to set a new command, then alias it to a shortened command, the short command is not auto-complete-able when running `exec-longname`.\r\n\r\n```\r\nSheet.addCommand(None, 'addcol-ubercmd-xyz', 'cursorCol.ubercommand()')\r\nalias('ubercmd', 'addcol-ubercmd-xyz')\r\n```\r\n\r\n**Expected result**\r\nAll alias commands to be tab completeable, otherwise it could take longer to type out the \"shorter\" command than using the tab complete of the \"longer\" command", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/841/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/841/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/832", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/832/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/832/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/832/events", "html_url": "https://github.com/saulpw/visidata/issues/832", "id": 759748245, "node_id": "MDU6SXNzdWU3NTk3NDgyNDU=", "number": 832, "title": "Cursor jumps upwards from final visible row after moving down a row", "user": {"login": "uoee", "id": 15325609, "node_id": "MDQ6VXNlcjE1MzI1NjA5", "avatar_url": "https://avatars.githubusercontent.com/u/15325609?v=4", "gravatar_id": "", "url": "https://api.github.com/users/uoee", "html_url": "https://github.com/uoee", "followers_url": "https://api.github.com/users/uoee/followers", "following_url": "https://api.github.com/users/uoee/following{/other_user}", "gists_url": "https://api.github.com/users/uoee/gists{/gist_id}", "starred_url": "https://api.github.com/users/uoee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/uoee/subscriptions", "organizations_url": "https://api.github.com/users/uoee/orgs", "repos_url": "https://api.github.com/users/uoee/repos", "events_url": "https://api.github.com/users/uoee/events{/privacy}", "received_events_url": "https://api.github.com/users/uoee/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-12-08T20:16:42Z", "updated_at": "2020-12-09T06:52:12Z", "closed_at": "2020-12-09T06:52:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "Commit c9e8f5ed introduced a jarring cursor movement where the cursor hops between the last and second last row when pressing the key to move downwards (moving upwards is fine).\r\n\r\nI think it's just an off by one error. Briefly looking myself, the issue is (at least superficially) solved by subtracting 1 from `self.bottomRowIndex` in https://github.com/saulpw/visidata/blob/c9e8f5edc5044293ca4931de3d976ef10d8e2907/visidata/sheets.py#L551\r\n\r\n    self.bottomRowIndex = self.cursorRowIndex - 1\r\n\r\nHowever, this is not tested (other than no crashes so far), and I'm not remotely familiar with the codebase, so this may affect something else I'm unaware of.\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/832/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/832/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/824", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/824/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/824/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/824/events", "html_url": "https://github.com/saulpw/visidata/issues/824", "id": 757928104, "node_id": "MDU6SXNzdWU3NTc5MjgxMDQ=", "number": 824, "title": "[2.0.1] Saving a file from the http loader saves to url", "user": {"login": "geekscrapy", "id": 11225502, "node_id": "MDQ6VXNlcjExMjI1NTAy", "avatar_url": "https://avatars.githubusercontent.com/u/11225502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geekscrapy", "html_url": "https://github.com/geekscrapy", "followers_url": "https://api.github.com/users/geekscrapy/followers", "following_url": "https://api.github.com/users/geekscrapy/following{/other_user}", "gists_url": "https://api.github.com/users/geekscrapy/gists{/gist_id}", "starred_url": "https://api.github.com/users/geekscrapy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geekscrapy/subscriptions", "organizations_url": "https://api.github.com/users/geekscrapy/orgs", "repos_url": "https://api.github.com/users/geekscrapy/repos", "events_url": "https://api.github.com/users/geekscrapy/events{/privacy}", "received_events_url": "https://api.github.com/users/geekscrapy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-12-06T13:37:37Z", "updated_at": "2020-12-11T04:46:29Z", "closed_at": "2020-12-11T04:46:28Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nWhen opening a URL like `https://isc.sans.edu/api/cloudcidrs?json` and then doing `save-sheet`, the given example name for the save location is the URL itself.\r\n\r\n**Expected result**\r\nA useful name to be given. For this example maybe `cloudcidrs?json` as the example name?\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/824/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/824/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/823", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/823/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/823/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/823/events", "html_url": "https://github.com/saulpw/visidata/issues/823", "id": 757922901, "node_id": "MDU6SXNzdWU3NTc5MjI5MDE=", "number": 823, "title": "[2.0.1] No .json test file in sample_data dir", "user": {"login": "geekscrapy", "id": 11225502, "node_id": "MDQ6VXNlcjExMjI1NTAy", "avatar_url": "https://avatars.githubusercontent.com/u/11225502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geekscrapy", "html_url": "https://github.com/geekscrapy", "followers_url": "https://api.github.com/users/geekscrapy/followers", "following_url": "https://api.github.com/users/geekscrapy/following{/other_user}", "gists_url": "https://api.github.com/users/geekscrapy/gists{/gist_id}", "starred_url": "https://api.github.com/users/geekscrapy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geekscrapy/subscriptions", "organizations_url": "https://api.github.com/users/geekscrapy/orgs", "repos_url": "https://api.github.com/users/geekscrapy/repos", "events_url": "https://api.github.com/users/geekscrapy/events{/privacy}", "received_events_url": "https://api.github.com/users/geekscrapy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-12-06T13:13:01Z", "updated_at": "2020-12-11T03:37:56Z", "closed_at": "2020-12-11T03:37:56Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nI was trying to find a normal .json test file to include in the test for #822 but didn't find one for .json\r\nI presume tests are currently being run against .json?", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/823/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/823/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/819", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/819/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/819/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/819/events", "html_url": "https://github.com/saulpw/visidata/issues/819", "id": 754548492, "node_id": "MDU6SXNzdWU3NTQ1NDg0OTI=", "number": 819, "title": "xlsx file loader: xml.etree.ElementTree.ParseError: not well formed", "user": {"login": "suntzuisafterU", "id": 32152921, "node_id": "MDQ6VXNlcjMyMTUyOTIx", "avatar_url": "https://avatars.githubusercontent.com/u/32152921?v=4", "gravatar_id": "", "url": "https://api.github.com/users/suntzuisafterU", "html_url": "https://github.com/suntzuisafterU", "followers_url": "https://api.github.com/users/suntzuisafterU/followers", "following_url": "https://api.github.com/users/suntzuisafterU/following{/other_user}", "gists_url": "https://api.github.com/users/suntzuisafterU/gists{/gist_id}", "starred_url": "https://api.github.com/users/suntzuisafterU/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/suntzuisafterU/subscriptions", "organizations_url": "https://api.github.com/users/suntzuisafterU/orgs", "repos_url": "https://api.github.com/users/suntzuisafterU/repos", "events_url": "https://api.github.com/users/suntzuisafterU/events{/privacy}", "received_events_url": "https://api.github.com/users/suntzuisafterU/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2020-12-01T16:36:44Z", "updated_at": "2022-01-13T07:15:00Z", "closed_at": "2020-12-01T19:48:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Small description**\r\nWhen opening an xlsx file, I get the following error:\r\n```\r\nxml.etree.ElemeentTree.ParseError: not well formed\r\n```\r\n\r\n**Expected result**\r\nNo error.\r\n\r\n**Actual result with screenshot**\r\nSorry, no screen shot.  Technical difficulties.\r\nIf you get an unexpected error, please include the full stack trace that you get with `Ctrl-E`.\r\n```\r\ntext                                                                                                                           \r\nTraceback (most recent call last):                                                                                               \r\nFile \"/usr/local/Cellar/visidata/2.0.1/libexec/lib/python3.9/site-packages/visidata/threads.py\", line 215, in _toplevelTryFu   \r\n    t.status = func(*args, **kwargs)                                                                                             \r\nFile \"/usr/local/Cellar/visidata/2.0.1/libexec/lib/python3.9/site-packages/visidata/sheets.py\", line 888, in reload  \r\n    for r in vd.Progress(itsource, gerund='loading', total=0):                                                                   \r\nFile \"/usr/local/Cellar/visidata/2.0.1/libexec/lib/python3.9/site-packages/visidata/threads.py\", line 70, in __iter__            \r\n    for item in self.iterable:                                                                                                   \r\nFile \"/usr/local/Cellar/visidata/2.0.1/libexec/lib/python3.9/site-packages/visidata/loaders/xlsx.py\", line 32, in iterload       \r\n    for row in Progress(worksheet.iter_rows(), total=worksheet.max_row or 0):                                                    \r\nFile \"/usr/local/Cellar/visidata/2.0.1/libexec/lib/python3.9/site-packages/visidata/threads.py\", line 70, in __iter__            \r\n    for item in self.iterable:                                                                                                   \r\nFile \"/usr/local/Cellar/visidata/2.0.1/libexec/lib/python3.9/site-packages/openpyxl/worksheet/_read_only.py\", line 82, in _c     \r\n    for idx, row in parser.parse():                                                                                              \r\nFile \"/usr/local/Cellar/visidata/2.0.1/libexec/lib/python3.9/site-packages/openpyxl/worksheet/_reader.py\", line 139, in pars \r\n    for _, element in it:                                                                                                        \r\nFile \"/usr/local/Cellar/python@3.9/3.9.0_2/Frameworks/Python.framework/Versions/3.9/lib/python3.9/xml/etree/ElementTree.py\",     \r\n    yield from pullparser.read_events()                                                                                          \r\nFile \"/usr/local/Cellar/python@3.9/3.9.0_2/Frameworks/Python.framework/Versions/3.9/lib/python3.9/xml/etree/ElementTree.py\",     \r\n    raise event                                                                                                                  \r\nFile \"/usr/local/Cellar/python@3.9/3.9.0_2/Frameworks/Python.framework/Versions/3.9/lib/python3.9/xml/etree/ElementTree.py\",      \r\n    self._parser.feed(data)                                                                                                     \r\nFile \"<string>\", line None   \r\n                                                                                                \r\nxml.etree.ElementTree.ParseError: not well-formed (invalid token): line 202, column 31102623\r\n```\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\nPlease attach the commandlog (saved with `Ctrl-D`) to show the steps that led to the issue.\r\nSee [here](http://visidata.org/docs/save-restore/) for more details.\r\n\r\nSorry, but due to the sensitive nature of this data I can not provide a sample.\r\nIf I can determine exactly what in the data is causing this issue I will update the post, or if I can make a minimal dataset that reproduces this error.\r\n\r\n**Additional context**\r\nPlease include the version of VisiData.\r\n\r\nVisiData v2.0.1\r\n\r\nNotably this file is successfully parsed by the R library readxl (and I can subsequently open the file in visidata with the rvisidata R library).\r\nThe data seems to be well formed when opened in R, this seems to be a limitation of the openpyxl library (or possibly of the xml library).\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/819/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/819/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/818", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/818/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/818/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/818/events", "html_url": "https://github.com/saulpw/visidata/issues/818", "id": 754170065, "node_id": "MDU6SXNzdWU3NTQxNzAwNjU=", "number": 818, "title": "[v2.x] Occassionally, when opening vdmenu, plugins sheet fails to load", "user": {"login": "anjakefala", "id": 7489659, "node_id": "MDQ6VXNlcjc0ODk2NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/7489659?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anjakefala", "html_url": "https://github.com/anjakefala", "followers_url": "https://api.github.com/users/anjakefala/followers", "following_url": "https://api.github.com/users/anjakefala/following{/other_user}", "gists_url": "https://api.github.com/users/anjakefala/gists{/gist_id}", "starred_url": "https://api.github.com/users/anjakefala/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anjakefala/subscriptions", "organizations_url": "https://api.github.com/users/anjakefala/orgs", "repos_url": "https://api.github.com/users/anjakefala/repos", "events_url": "https://api.github.com/users/anjakefala/events{/privacy}", "received_events_url": "https://api.github.com/users/anjakefala/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-12-01T08:28:33Z", "updated_at": "2020-12-02T03:01:46Z", "closed_at": "2020-12-02T03:01:46Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "When vdmenu is opened, two **PluginsSheet**s are created at the same time, one for the menu to reference, and the standard one that gets loaded each launch. \r\n\r\nThis creates a race condition where sometimes a confusing 'reload aborted' will show up for a user, and sometimes the **plugins menu** will fail to load the **Plugins Sheet**. \r\n\r\nBoth should be addressed.", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/818/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/818/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/814", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/814/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/814/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/814/events", "html_url": "https://github.com/saulpw/visidata/issues/814", "id": 752854977, "node_id": "MDU6SXNzdWU3NTI4NTQ5Nzc=", "number": 814, "title": "[develop] color_column_sep regression", "user": {"login": "geekscrapy", "id": 11225502, "node_id": "MDQ6VXNlcjExMjI1NTAy", "avatar_url": "https://avatars.githubusercontent.com/u/11225502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geekscrapy", "html_url": "https://github.com/geekscrapy", "followers_url": "https://api.github.com/users/geekscrapy/followers", "following_url": "https://api.github.com/users/geekscrapy/following{/other_user}", "gists_url": "https://api.github.com/users/geekscrapy/gists{/gist_id}", "starred_url": "https://api.github.com/users/geekscrapy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geekscrapy/subscriptions", "organizations_url": "https://api.github.com/users/geekscrapy/orgs", "repos_url": "https://api.github.com/users/geekscrapy/repos", "events_url": "https://api.github.com/users/geekscrapy/events{/privacy}", "received_events_url": "https://api.github.com/users/geekscrapy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2101517149, "node_id": "MDU6TGFiZWwyMTAxNTE3MTQ5", "url": "https://api.github.com/repos/saulpw/visidata/labels/can't%20reproduce", "name": "can't reproduce", "color": "f2712b", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-11-29T07:00:08Z", "updated_at": "2020-12-01T20:21:00Z", "closed_at": "2020-12-01T20:20:59Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nAfter a short convo with @spw in #visidata the color_column_sep bug was fixed (search for color_column_sep in the chat).\r\n\r\nI appears that the issue has now resurfaced and the columns separators do not color using `color_column_sep`.\r\n\r\nCurrently, only the header row is colored correctly\r\n\r\n![image](https://user-images.githubusercontent.com/11225502/100535400-00e9ad80-3232-11eb-917c-8ef5771983cf.png)\r\n\r\n**Expected result**\r\nColumn separators to be able to be colored by using the options in the .rc:\r\n\r\n```\r\noptions.color_column_sep = 'red'\r\nvd.options.color_column_sep = 'red'\r\nTableSheet.options.color_column_sep = 'red' \r\nSheet.options.color_column_sep = 'red' \r\n```", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/814/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/814/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/811", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/811/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/811/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/811/events", "html_url": "https://github.com/saulpw/visidata/issues/811", "id": 752386273, "node_id": "MDU6SXNzdWU3NTIzODYyNzM=", "number": 811, "title": "Exception raised in addcol-delta in plugin rownum.py", "user": {"login": "uoee", "id": 15325609, "node_id": "MDQ6VXNlcjE1MzI1NjA5", "avatar_url": "https://avatars.githubusercontent.com/u/15325609?v=4", "gravatar_id": "", "url": "https://api.github.com/users/uoee", "html_url": "https://github.com/uoee", "followers_url": "https://api.github.com/users/uoee/followers", "following_url": "https://api.github.com/users/uoee/following{/other_user}", "gists_url": "https://api.github.com/users/uoee/gists{/gist_id}", "starred_url": "https://api.github.com/users/uoee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/uoee/subscriptions", "organizations_url": "https://api.github.com/users/uoee/orgs", "repos_url": "https://api.github.com/users/uoee/repos", "events_url": "https://api.github.com/users/uoee/events{/privacy}", "received_events_url": "https://api.github.com/users/uoee/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-11-27T17:15:20Z", "updated_at": "2020-11-28T16:43:56Z", "closed_at": "2020-11-28T04:00:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "I've been trying to compute the delta of a column of integer values. That is, from column \"A\" create a new column \"delta_A\". Something like...\r\n\r\n| A |  delta_A\r\n| - |  -\r\n| 1 |  \u2300\r\n| 2 |  1\r\n| 4 |  2\r\n| 8 |  4\r\n\r\n\r\nRunning `addcol-delta` results in new column appearing, but only with `!` characters in red color in each cell (which I believe represents an exception occured)\r\n\r\nHowever, it's not clear to me how I determine what the exception actually was (running 'error-recent' command says \"no error\"), so I can't provide much more information. There is presumably some problem in the calculation of the `expr` attribute of the `ColumnExpr` object:\r\n\r\nhttps://github.com/saulpw/visidata/blob/stable/plugins/rownum.py#L59\r\n\r\nAs a sanity test, setting this `expr` attrbute to a static value instead, such as \"hello\", will successfully set each cell in the column to \"hello\".\r\n\r\nVisiData v2.0.1", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/811/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/811/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/805", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/805/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/805/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/805/events", "html_url": "https://github.com/saulpw/visidata/issues/805", "id": 749041975, "node_id": "MDU6SXNzdWU3NDkwNDE5NzU=", "number": 805, "title": "Mouse scroll up fails: no command for \"2097152\"", "user": {"login": "onlyjsmith", "id": 148280, "node_id": "MDQ6VXNlcjE0ODI4MA==", "avatar_url": "https://avatars.githubusercontent.com/u/148280?v=4", "gravatar_id": "", "url": "https://api.github.com/users/onlyjsmith", "html_url": "https://github.com/onlyjsmith", "followers_url": "https://api.github.com/users/onlyjsmith/followers", "following_url": "https://api.github.com/users/onlyjsmith/following{/other_user}", "gists_url": "https://api.github.com/users/onlyjsmith/gists{/gist_id}", "starred_url": "https://api.github.com/users/onlyjsmith/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/onlyjsmith/subscriptions", "organizations_url": "https://api.github.com/users/onlyjsmith/orgs", "repos_url": "https://api.github.com/users/onlyjsmith/repos", "events_url": "https://api.github.com/users/onlyjsmith/events{/privacy}", "received_events_url": "https://api.github.com/users/onlyjsmith/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-11-23T18:47:25Z", "updated_at": "2020-11-23T19:23:59Z", "closed_at": "2020-11-23T19:23:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "Visidata is totally awesome.\r\n\r\n**Small description**\r\nScroll down with mouse if fine, prints 'BUTTON4_PRESSED' in status bar. Scrolling up with mouse fails, prints 'no command for \"2097152\"' instead.\r\n\r\n**Expected result**\r\nExpect that scrolling up or down scrolls a long file. Works fine for scrolling down, but not for scrolling back up.\r\n\r\n**Actual result with screenshot**\r\n![Screenshot from 2020-11-23 19-49-26](https://user-images.githubusercontent.com/148280/100002539-03c54800-2dc5-11eb-9b1d-de938f987295.png)\r\nNo error.\r\n\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\nNo steps needed - just load a file (like from [here](https://www.appsloveworld.com/sample-csv-file/)) and try to scroll.\r\n\r\n**Additional context**\r\nsaul.pw/VisiData v1.5.2\r\n\r\nPS Sorry I originally posted this issue with no content - hopefully it's now updated!\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/805/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/805/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/803", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/803/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/803/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/803/events", "html_url": "https://github.com/saulpw/visidata/issues/803", "id": 748212979, "node_id": "MDU6SXNzdWU3NDgyMTI5Nzk=", "number": 803, "title": "visidata doesn't read Frictionless DataPackage which doesn't have a 'format' key", "user": {"login": "scls19fr", "id": 109167, "node_id": "MDQ6VXNlcjEwOTE2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/109167?v=4", "gravatar_id": "", "url": "https://api.github.com/users/scls19fr", "html_url": "https://github.com/scls19fr", "followers_url": "https://api.github.com/users/scls19fr/followers", "following_url": "https://api.github.com/users/scls19fr/following{/other_user}", "gists_url": "https://api.github.com/users/scls19fr/gists{/gist_id}", "starred_url": "https://api.github.com/users/scls19fr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/scls19fr/subscriptions", "organizations_url": "https://api.github.com/users/scls19fr/orgs", "repos_url": "https://api.github.com/users/scls19fr/repos", "events_url": "https://api.github.com/users/scls19fr/events{/privacy}", "received_events_url": "https://api.github.com/users/scls19fr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-11-22T10:27:28Z", "updated_at": "2020-12-02T02:45:25Z", "closed_at": "2020-12-02T02:44:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\r\n\r\nI noticed that\r\n\r\n```\r\nvd -f frictionless https://raw.githubusercontent.com/datasets/country-codes/master/datapackage.json\r\n```\r\n\r\nworks fine but\r\n\r\n```\r\nvd -f frictionless https://raw.githubusercontent.com/datasets/core-datasets/master/datapackage.json\r\n```\r\n\r\nraises `KeyError: 'format'` and shows an empty sheet (columns headers only) probably because of\r\n\r\nhttps://github.com/saulpw/visidata/blob/6691869060c8c3d0fcb4fb3d528f87af2dd9ad07/visidata/loaders/frictionless.py#L11\r\n\r\n\r\nI'm not a specialist of DataPackage and so I can't say I this key `'format'` is required or optional.\r\n\r\nSo pinging @aborruso @anjakefala @rufuspollock @pwalsh\r\n\r\nRelated issue #237\r\n\r\nKind regards", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/803/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/803/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/802", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/802/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/802/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/802/events", "html_url": "https://github.com/saulpw/visidata/issues/802", "id": 748110329, "node_id": "MDU6SXNzdWU3NDgxMTAzMjk=", "number": 802, "title": "SettingWithCopyWarning: A value is trying to be set on a copy of a slice from a DataFrame.", "user": {"login": "scls19fr", "id": 109167, "node_id": "MDQ6VXNlcjEwOTE2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/109167?v=4", "gravatar_id": "", "url": "https://api.github.com/users/scls19fr", "html_url": "https://github.com/scls19fr", "followers_url": "https://api.github.com/users/scls19fr/followers", "following_url": "https://api.github.com/users/scls19fr/following{/other_user}", "gists_url": "https://api.github.com/users/scls19fr/gists{/gist_id}", "starred_url": "https://api.github.com/users/scls19fr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/scls19fr/subscriptions", "organizations_url": "https://api.github.com/users/scls19fr/orgs", "repos_url": "https://api.github.com/users/scls19fr/repos", "events_url": "https://api.github.com/users/scls19fr/events{/privacy}", "received_events_url": "https://api.github.com/users/scls19fr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-11-21T21:56:09Z", "updated_at": "2020-11-30T08:53:42Z", "closed_at": "2020-11-30T06:35:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\r\n\r\nThis line\r\n\r\nhttps://github.com/saulpw/visidata/blob/6691869060c8c3d0fcb4fb3d528f87af2dd9ad07/visidata/loaders/pandas_freqtbl.py#L108\r\n\r\nraises\r\n\r\n`SettingWithCopyWarning: A value is trying to be set on a copy of a slice from a DataFrame.`\r\n\r\n(I was using `visidata.view_pandas` method in an IPython console)\r\n\r\nThis kind of warning can generally be fixed using `df.loc[...]`\r\nSee https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy for more informations\r\n\r\nSteps to reproduce\r\n\r\n```\r\n$ ipython\r\nPython 3.7.6 | packaged by conda-forge | (default, Mar 23 2020, 22:45:16)\r\nType 'copyright', 'credits' or 'license' for more information\r\nIPython 7.13.0 -- An enhanced Interactive Python. Type '?' for help.\r\n\r\nIn [1]: import pandas as pd\r\n\r\nIn [2]: import visidata\r\n\r\nIn [3]: df = pd.read_csv(\"https://jsvine.github.io/intro-to-visidata/_downloads/83e70cf67e909f3ac177575439e5f3c5/faa-wildlife-strikes.csv\")\r\n\r\nIn [4]: visidata.view_pandas(df[[\"STATE\"]])\r\n```\r\n\r\nPress Shift + F\r\n\r\n![Capture d\u2019e\u0301cran 2020-11-21 a\u0300 22 54 27](https://user-images.githubusercontent.com/109167/99888551-081b2500-2c4e-11eb-9b80-23c0f4827a23.png)\r\n\r\n\r\nKind regards", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/802/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/802/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/801", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/801/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/801/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/801/events", "html_url": "https://github.com/saulpw/visidata/issues/801", "id": 748109075, "node_id": "MDU6SXNzdWU3NDgxMDkwNzU=", "number": 801, "title": "Filtering Pandas DataFrame doesn't work in IPython", "user": {"login": "scls19fr", "id": 109167, "node_id": "MDQ6VXNlcjEwOTE2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/109167?v=4", "gravatar_id": "", "url": "https://api.github.com/users/scls19fr", "html_url": "https://github.com/scls19fr", "followers_url": "https://api.github.com/users/scls19fr/followers", "following_url": "https://api.github.com/users/scls19fr/following{/other_user}", "gists_url": "https://api.github.com/users/scls19fr/gists{/gist_id}", "starred_url": "https://api.github.com/users/scls19fr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/scls19fr/subscriptions", "organizations_url": "https://api.github.com/users/scls19fr/orgs", "repos_url": "https://api.github.com/users/scls19fr/repos", "events_url": "https://api.github.com/users/scls19fr/events{/privacy}", "received_events_url": "https://api.github.com/users/scls19fr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-11-21T21:47:51Z", "updated_at": "2020-12-02T00:49:54Z", "closed_at": "2020-12-02T00:49:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\r\n\r\nI was trying to follow https://jsvine.github.io/intro-to-visidata/basics/sorting-and-filtering/#how-to-filter-rows\r\nbut in an IPython console... (not using `vd` cli)\r\nand noticed that it doesn't work.\r\n\r\nFor example : Filtering selected rows with \"\r\n\r\n```\r\n$ ipython\r\nPython 3.7.6 | packaged by conda-forge | (default, Mar 23 2020, 22:45:16)\r\nType 'copyright', 'credits' or 'license' for more information\r\nIPython 7.13.0 -- An enhanced Interactive Python. Type '?' for help.\r\n\r\nIn [1]: import visidata\r\n\r\nIn [2]: import pandas as pd\r\n\r\nIn [3]: df = pd.read_csv(\"https://jsvine.github.io/intro-to-visidata/_downloads/83e70cf67e909f3ac177575439e5f3c5/faa-wildlife-strikes.csv\")\r\n\r\nIn [4]: visidata.view_pandas(df)\r\n```\r\n\r\nPress 3 times on \"t\" key (to select first 3 rows) and \" key (to filter using selected rows)\r\n\r\nAn empty sheet is shown (with only columns headers) instead of a sheet with selected rows.\r\n\r\nKind regards", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/801/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/801/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/800", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/800/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/800/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/800/events", "html_url": "https://github.com/saulpw/visidata/issues/800", "id": 748064716, "node_id": "MDU6SXNzdWU3NDgwNjQ3MTY=", "number": 800, "title": "view_pandas(df.transpose()) raises AttributeError: 'int' object has no attribute 'startswith'", "user": {"login": "scls19fr", "id": 109167, "node_id": "MDQ6VXNlcjEwOTE2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/109167?v=4", "gravatar_id": "", "url": "https://api.github.com/users/scls19fr", "html_url": "https://github.com/scls19fr", "followers_url": "https://api.github.com/users/scls19fr/followers", "following_url": "https://api.github.com/users/scls19fr/following{/other_user}", "gists_url": "https://api.github.com/users/scls19fr/gists{/gist_id}", "starred_url": "https://api.github.com/users/scls19fr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/scls19fr/subscriptions", "organizations_url": "https://api.github.com/users/scls19fr/orgs", "repos_url": "https://api.github.com/users/scls19fr/repos", "events_url": "https://api.github.com/users/scls19fr/events{/privacy}", "received_events_url": "https://api.github.com/users/scls19fr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-11-21T17:40:31Z", "updated_at": "2020-12-01T00:15:10Z", "closed_at": "2020-11-30T06:35:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\r\n\r\nThe following code:\r\n\r\n```python\r\nimport visidata\r\nimport pandas as pd\r\ndf = pd.read_csv(\"https://jsvine.github.io/intro-to-visidata/_downloads/83e70cf67e909f3ac177575439e5f3c5/faa-wildlife-strikes.csv\")\r\nvisidata.view_pandas(df)\r\ndf = df.transpose()\r\nvisidata.view_pandas(df)\r\n```\r\n\r\nraises\r\n\r\n```\r\nAttributeError: 'int' object has no attribute 'startswith'\r\n```\r\n\r\nA temporary fix is to do\r\n\r\n```\r\ndf.columns = df.columns.map(str)\r\n```\r\n\r\nbut using such a transposed version of data is very, very slow.\r\n\r\nAny idea?\r\n\r\nKind regards\r\n\r\nRelated #129, #631 (about transpose on visidata side)", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/800/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/800/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/798", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/798/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/798/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/798/events", "html_url": "https://github.com/saulpw/visidata/issues/798", "id": 748049734, "node_id": "MDU6SXNzdWU3NDgwNDk3MzQ=", "number": 798, "title": "visidata.view_pandas(None) raises UnboundLocalError: local variable 'df' referenced before assignment", "user": {"login": "scls19fr", "id": 109167, "node_id": "MDQ6VXNlcjEwOTE2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/109167?v=4", "gravatar_id": "", "url": "https://api.github.com/users/scls19fr", "html_url": "https://github.com/scls19fr", "followers_url": "https://api.github.com/users/scls19fr/followers", "following_url": "https://api.github.com/users/scls19fr/following{/other_user}", "gists_url": "https://api.github.com/users/scls19fr/gists{/gist_id}", "starred_url": "https://api.github.com/users/scls19fr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/scls19fr/subscriptions", "organizations_url": "https://api.github.com/users/scls19fr/orgs", "repos_url": "https://api.github.com/users/scls19fr/repos", "events_url": "https://api.github.com/users/scls19fr/events{/privacy}", "received_events_url": "https://api.github.com/users/scls19fr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-11-21T16:16:36Z", "updated_at": "2020-11-30T06:35:05Z", "closed_at": "2020-11-30T06:35:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi @saulpw,\r\n\r\nI'm aware that's an odd usage...\r\n\r\n```python\r\nIn [3]: import visidata\r\n\r\nIn [4]: visidata.view_pandas(None)\r\n---------------------------------------------------------------------------\r\nUnboundLocalError                         Traceback (most recent call last)\r\n<ipython-input-4-5d0ae9b435d5> in <module>\r\n----> 1 visidata.view_pandas(None)\r\n\r\n~/opt/anaconda3/lib/python3.7/site-packages/visidata/loaders/_pandas.py in view_pandas(df)\r\n    318\r\n    319 def view_pandas(df):\r\n--> 320     run(PandasSheet('', source=df))\r\n    321\r\n    322\r\n\r\n~/opt/anaconda3/lib/python3.7/site-packages/visidata/mainloop.py in run(*sheetlist)\r\n    223     curses.use_env(True)\r\n    224\r\n--> 225     ret = wrapper(cursesMain, sheetlist)\r\n    226\r\n    227     if ret:\r\n\r\n~/opt/anaconda3/lib/python3.7/site-packages/visidata/mainloop.py in wrapper(f, *args)\r\n    213\r\n    214 def wrapper(f, *args):\r\n--> 215     return curses.wrapper(setupcolors, f, *args)\r\n    216\r\n    217 def run(*sheetlist):\r\n\r\n~/opt/anaconda3/lib/python3.7/curses/__init__.py in wrapper(*args, **kwds)\r\n    100             pass\r\n    101\r\n--> 102         return func(stdscr, *args, **kwds)\r\n    103     finally:\r\n    104         # Set everything back to normal\r\n\r\n~/opt/anaconda3/lib/python3.7/site-packages/visidata/mainloop.py in setupcolors(stdscr, f, *args)\r\n    210             curses.mouseEvents[getattr(curses, k)] = k\r\n    211\r\n--> 212     return f(stdscr, *args)\r\n    213\r\n    214 def wrapper(f, *args):\r\n\r\n~/opt/anaconda3/lib/python3.7/site-packages/visidata/mainloop.py in cursesMain(_scr, sheetlist)\r\n    234\r\n    235     for vs in sheetlist:\r\n--> 236         vd.push(vs)\r\n    237\r\n    238     vd.status('Ctrl+H opens help')\r\n\r\n~/opt/anaconda3/lib/python3.7/site-packages/visidata/sheets.py in push(vd, vs)\r\n    980         vd.allSheets.append(vs)\r\n    981\r\n--> 982     vs.ensureLoaded()\r\n    983\r\n    984\r\n\r\n~/opt/anaconda3/lib/python3.7/site-packages/visidata/basesheet.py in ensureLoaded(self)\r\n    187         if self.rows is UNLOADED:\r\n    188             self.rows = []  # prevent auto-reload from running twice\r\n--> 189             return self.reload()   # likely launches new thread\r\n    190\r\n    191     def reload(self):\r\n\r\n~/opt/anaconda3/lib/python3.7/site-packages/visidata/loaders/_pandas.py in reload(self)\r\n    118\r\n    119         # reset the index here\r\n--> 120         if type(df.index) is not pd.RangeIndex:\r\n    121             df = df.reset_index()\r\n    122\r\n\r\nUnboundLocalError: local variable 'df' referenced before assignment\r\n```\r\n\r\nbut I think it shouldn't fail like this.\r\n\r\nI see 2 possibilities.\r\n\r\n1) consider that `self.source` can act like as a Pandas DataFrame (ie duck typing)\r\n2) raises exception for unsupported type\r\n\r\nI personally think the first approach is more \"Pythonesque\".\r\n\r\nAny opinion about this ?\r\n\r\nKind regards", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/798/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/798/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/797", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/797/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/797/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/797/events", "html_url": "https://github.com/saulpw/visidata/issues/797", "id": 747664701, "node_id": "MDU6SXNzdWU3NDc2NjQ3MDE=", "number": 797, "title": "AttributeError: 'Chartsheet' object has no attribute 'iter_rows'", "user": {"login": "aborruso", "id": 30607, "node_id": "MDQ6VXNlcjMwNjA3", "avatar_url": "https://avatars.githubusercontent.com/u/30607?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aborruso", "html_url": "https://github.com/aborruso", "followers_url": "https://api.github.com/users/aborruso/followers", "following_url": "https://api.github.com/users/aborruso/following{/other_user}", "gists_url": "https://api.github.com/users/aborruso/gists{/gist_id}", "starred_url": "https://api.github.com/users/aborruso/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aborruso/subscriptions", "organizations_url": "https://api.github.com/users/aborruso/orgs", "repos_url": "https://api.github.com/users/aborruso/repos", "events_url": "https://api.github.com/users/aborruso/events{/privacy}", "received_events_url": "https://api.github.com/users/aborruso/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-11-20T17:20:51Z", "updated_at": "2020-11-26T16:50:03Z", "closed_at": "2020-11-26T08:40:16Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nHi,\r\nwhen I run `vd _20112020100242.xlsx +:tavola_pop_res01::`, I have \r\n\r\n```\r\nAttributeError: 'Chartsheet' object has no attribute 'iter_rows' \f\r\n```\r\n\r\nThe file is this [_20112020100242.xlsx](https://github.com/saulpw/visidata/files/5575090/_20112020100242.xlsx).\r\n\r\nvd open it, but if I try do simply a format conversion using `vd _20112020100242.xlsx +:tavola_pop_res01:: -b -o ./output.csv`\r\n\r\nI have\r\n\r\n```\r\nopening _20112020100242.xlsx as xlsx\r\nTraceback (most recent call last):\r\n  File \"/home/aborruso/.local/bin/vd\", line 6, in <module>\r\n    visidata.main.vd_cli()\r\n  File \"/home/aborruso/.local/lib/python3.8/site-packages/visidata/main.py\", line 298, in vd_cli\r\n    rc = main_vd()\r\n  File \"/home/aborruso/.local/lib/python3.8/site-packages/visidata/main.py\", line 228, in main_vd\r\n    vd.push(sources[0])\r\n  File \"/home/aborruso/.local/lib/python3.8/site-packages/visidata/sheets.py\", line 982, in push\r\n    vs.ensureLoaded()\r\n  File \"/home/aborruso/.local/lib/python3.8/site-packages/visidata/basesheet.py\", line 189, in ensureLoaded\r\n    return self.reload()   # likely launches new thread\r\n  File \"/home/aborruso/.local/lib/python3.8/site-packages/visidata/vdobj.py\", line 20, in _execAsync\r\n    return visidata.vd.execAsync(func, *args, **kwargs)\r\n  File \"/home/aborruso/.local/lib/python3.8/site-packages/visidata/main.py\", line 198, in <lambda>\r\n    vd.execAsync = lambda func, *args, **kwargs: func(*args, **kwargs) # disable async\r\n  File \"/home/aborruso/.local/lib/python3.8/site-packages/visidata/sheets.py\", line 269, in reload\r\n    for r in self.iterload():\r\n  File \"/home/aborruso/.local/lib/python3.8/site-packages/visidata/loaders/xlsx.py\", line 26, in iterload\r\n    vs.reload()\r\n  File \"/home/aborruso/.local/lib/python3.8/site-packages/visidata/vdobj.py\", line 20, in _execAsync\r\n    return visidata.vd.execAsync(func, *args, **kwargs)\r\n  File \"/home/aborruso/.local/lib/python3.8/site-packages/visidata/main.py\", line 198, in <lambda>\r\n    vd.execAsync = lambda func, *args, **kwargs: func(*args, **kwargs) # disable async\r\n  File \"/home/aborruso/.local/lib/python3.8/site-packages/visidata/sheets.py\", line 884, in reload\r\n    self.setCols(list(self.optlines(itsource, 'header')))\r\n  File \"/home/aborruso/.local/lib/python3.8/site-packages/visidata/sheets.py\", line 870, in optlines\r\n    yield next(it)\r\n  File \"/home/aborruso/.local/lib/python3.8/site-packages/visidata/loaders/xlsx.py\", line 33, in iterload\r\n    for row in Progress(worksheet.iter_rows(), total=worksheet.max_row or 0):\r\nAttributeError: 'Chartsheet' object has no attribute 'iter_rows'\r\n```\r\n\r\n**Expected result**\r\n\r\nTo open and save it without error\r\n\r\n**Actual result with screenshot**\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/home/aborruso/.local/lib/python3.8/site-packages/visidata/threads.py\", line 215, in _toplevelTryFunc\r\n    t.status = func(*args, **kwargs)\r\n  File \"/home/aborruso/.local/lib/python3.8/site-packages/visidata/sheets.py\", line 884, in reload\r\n    self.setCols(list(self.optlines(itsource, 'header')))\r\n  File \"/home/aborruso/.local/lib/python3.8/site-packages/visidata/sheets.py\", line 870, in optlines\r\n    yield next(it)\r\n  File \"/home/aborruso/.local/lib/python3.8/site-packages/visidata/loaders/xlsx.py\", line 33, in iterload\r\n    for row in Progress(worksheet.iter_rows(), total=worksheet.max_row or 0):\r\nAttributeError: 'Chartsheet' object has no attribute 'iter_rows'\r\n```\r\n\r\n**Additional context**\r\nI have the latest saul.pw/VisiData v2.0+\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/797/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/797/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/796", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/796/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/796/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/796/events", "html_url": "https://github.com/saulpw/visidata/issues/796", "id": 747175542, "node_id": "MDU6SXNzdWU3NDcxNzU1NDI=", "number": 796, "title": "[question] Why does this command not output a line from the sample file?", "user": {"login": "rswgnu", "id": 20670351, "node_id": "MDQ6VXNlcjIwNjcwMzUx", "avatar_url": "https://avatars.githubusercontent.com/u/20670351?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rswgnu", "html_url": "https://github.com/rswgnu", "followers_url": "https://api.github.com/users/rswgnu/followers", "following_url": "https://api.github.com/users/rswgnu/following{/other_user}", "gists_url": "https://api.github.com/users/rswgnu/gists{/gist_id}", "starred_url": "https://api.github.com/users/rswgnu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rswgnu/subscriptions", "organizations_url": "https://api.github.com/users/rswgnu/orgs", "repos_url": "https://api.github.com/users/rswgnu/repos", "events_url": "https://api.github.com/users/rswgnu/events{/privacy}", "received_events_url": "https://api.github.com/users/rswgnu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-11-20T05:28:55Z", "updated_at": "2020-11-20T06:37:11Z", "closed_at": "2020-11-20T05:59:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "Why does this command not output a line from the sample file?  The error says NoneType has no attribute of col or something like that.\r\n\r\n```\r\nrsw$> vd -p test.vd sample.csv col='Company Name' regex='KUMAN'\r\n\r\ntest.vd:\r\nsheet   col     row     longname        input   keystrokes      comment\r\n                        splitwin-swap           ^I      switch to prior sheet\r\n        {col}           select-col-regex        {regex} gr      select rows matching regex in any specified column\r\n\t\t\tdup-selected\t\t\"\topen duplicate sheet with only selected rows\r\n\r\n\r\nsample.csv:\r\nSerial Number,Company Name,Employee Markme,Description,Leave\r\n9.78938E+12,\"PHYSICAL, HUMAN AND ECONOMIC GEO\",D R KHULL,ACCESS PUBLISHING INDIA PVT.LTD,5\r\n9.7801E+12,1Q84 THE COMPLETE TRILOGY,HARUKI MURAKAMI,Mark,0\r\n9.7802E+12,MY KUMAN,Mark,Mark,0\r\n```", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/796/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/796/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/795", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/795/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/795/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/795/events", "html_url": "https://github.com/saulpw/visidata/issues/795", "id": 746226290, "node_id": "MDU6SXNzdWU3NDYyMjYyOTA=", "number": 795, "title": "[bug] -p option should not affect numbering of data sheets loaded", "user": {"login": "rswgnu", "id": 20670351, "node_id": "MDQ6VXNlcjIwNjcwMzUx", "avatar_url": "https://avatars.githubusercontent.com/u/20670351?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rswgnu", "html_url": "https://github.com/rswgnu", "followers_url": "https://api.github.com/users/rswgnu/followers", "following_url": "https://api.github.com/users/rswgnu/following{/other_user}", "gists_url": "https://api.github.com/users/rswgnu/gists{/gist_id}", "starred_url": "https://api.github.com/users/rswgnu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rswgnu/subscriptions", "organizations_url": "https://api.github.com/users/rswgnu/orgs", "repos_url": "https://api.github.com/users/rswgnu/repos", "events_url": "https://api.github.com/users/rswgnu/events{/privacy}", "received_events_url": "https://api.github.com/users/rswgnu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-11-19T03:55:33Z", "updated_at": "2020-11-28T05:24:46Z", "closed_at": "2020-11-28T02:26:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Small description**\r\n\r\nvd data.csv\r\n   loads sheet named 'data' as sheet `#1`\r\nvd -p test.vd data.csv\r\n   loads test.vd as sheet `#1` - prevents referencing sheet `#1` in the playback script to refer to data file (without having to utilize the filename itself to get to the sheet)                   \r\n   loads sheet named 'data' as sheet `#2` \r\n   \r\n**Expected result**\r\n\r\n  Data files loaded into the same ordered sheets whether -p is given or not for consistency of reference.\r\n  Load \r\n\r\n\r\n**Additional context**\r\nV2.0.1\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/795/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/795/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/794", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/794/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/794/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/794/events", "html_url": "https://github.com/saulpw/visidata/issues/794", "id": 746037609, "node_id": "MDU6SXNzdWU3NDYwMzc2MDk=", "number": 794, "title": "Attempting to undo a failed cast causes indefinite hang", "user": {"login": "lxcode", "id": 1959603, "node_id": "MDQ6VXNlcjE5NTk2MDM=", "avatar_url": "https://avatars.githubusercontent.com/u/1959603?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lxcode", "html_url": "https://github.com/lxcode", "followers_url": "https://api.github.com/users/lxcode/followers", "following_url": "https://api.github.com/users/lxcode/following{/other_user}", "gists_url": "https://api.github.com/users/lxcode/gists{/gist_id}", "starred_url": "https://api.github.com/users/lxcode/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lxcode/subscriptions", "organizations_url": "https://api.github.com/users/lxcode/orgs", "repos_url": "https://api.github.com/users/lxcode/repos", "events_url": "https://api.github.com/users/lxcode/events{/privacy}", "received_events_url": "https://api.github.com/users/lxcode/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "anjakefala", "id": 7489659, "node_id": "MDQ6VXNlcjc0ODk2NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/7489659?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anjakefala", "html_url": "https://github.com/anjakefala", "followers_url": "https://api.github.com/users/anjakefala/followers", "following_url": "https://api.github.com/users/anjakefala/following{/other_user}", "gists_url": "https://api.github.com/users/anjakefala/gists{/gist_id}", "starred_url": "https://api.github.com/users/anjakefala/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anjakefala/subscriptions", "organizations_url": "https://api.github.com/users/anjakefala/orgs", "repos_url": "https://api.github.com/users/anjakefala/repos", "events_url": "https://api.github.com/users/anjakefala/events{/privacy}", "received_events_url": "https://api.github.com/users/anjakefala/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "anjakefala", "id": 7489659, "node_id": "MDQ6VXNlcjc0ODk2NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/7489659?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anjakefala", "html_url": "https://github.com/anjakefala", "followers_url": "https://api.github.com/users/anjakefala/followers", "following_url": "https://api.github.com/users/anjakefala/following{/other_user}", "gists_url": "https://api.github.com/users/anjakefala/gists{/gist_id}", "starred_url": "https://api.github.com/users/anjakefala/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anjakefala/subscriptions", "organizations_url": "https://api.github.com/users/anjakefala/orgs", "repos_url": "https://api.github.com/users/anjakefala/repos", "events_url": "https://api.github.com/users/anjakefala/events{/privacy}", "received_events_url": "https://api.github.com/users/anjakefala/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2020-11-18T21:50:23Z", "updated_at": "2020-12-01T17:50:08Z", "closed_at": "2020-12-01T17:50:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Small description**\r\n\r\nIf you do a goofy cast, like hit $ on a date, hitting U afterward causes visidata to lock up indefinitely, consuming 100% of a CPU/core.\r\n\r\n**Expected result**\r\n\r\nClear the \"!\" error markers maybe? Or just do nothing.\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n\r\nShould work with anything, but here's a freq analysis that I tested it on. Cast the date as $ and then U.\r\n\r\n[test.csv.txt](https://github.com/saulpw/visidata/files/5562934/test.csv.txt)\r\n\r\n**Additional context**\r\nmacOS 11, Python 3.9, 2.0.1", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/794/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/794/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/791", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/791/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/791/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/791/events", "html_url": "https://github.com/saulpw/visidata/issues/791", "id": 743373326, "node_id": "MDU6SXNzdWU3NDMzNzMzMjY=", "number": 791, "title": "frequency histogram for number is wrong", "user": {"login": "setop", "id": 7794056, "node_id": "MDQ6VXNlcjc3OTQwNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/7794056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/setop", "html_url": "https://github.com/setop", "followers_url": "https://api.github.com/users/setop/followers", "following_url": "https://api.github.com/users/setop/following{/other_user}", "gists_url": "https://api.github.com/users/setop/gists{/gist_id}", "starred_url": "https://api.github.com/users/setop/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/setop/subscriptions", "organizations_url": "https://api.github.com/users/setop/orgs", "repos_url": "https://api.github.com/users/setop/repos", "events_url": "https://api.github.com/users/setop/events{/privacy}", "received_events_url": "https://api.github.com/users/setop/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-11-15T23:35:02Z", "updated_at": "2020-11-24T04:27:24Z", "closed_at": "2020-11-24T04:27:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Small description**\r\n\r\nWith [this data](https://github.com/saulpw/visidata/files/5543325/a.txt), when type casting year column to number `#`, and asking for frequency `F`, bins are wrong. I works correctly when not type casting.\r\n\r\n**Expected result**\r\n\r\n(obtained without type casting and moving 2020 to the top)\r\n\r\n```\r\nyear\tcount\tpercent\thistogram\r\n2020\t11\t7.69\t*********************************************\r\n2019\t12\t8.39\t**************************************************\r\n2018\t12\t8.39\t**************************************************\r\n2017\t12\t8.39\t**************************************************\r\n2016\t12\t8.39\t**************************************************\r\n2015\t12\t8.39\t**************************************************\r\n2014\t12\t8.39\t**************************************************\r\n2013\t12\t8.39\t**************************************************\r\n2012\t12\t8.39\t**************************************************\r\n2011\t12\t8.39\t**************************************************\r\n2010\t12\t8.39\t**************************************************\r\n2009\t12\t8.39\t**************************************************\r\n```\r\n\r\n\r\n**Actual result with screenshot**\r\n\r\n(typecasting to number)\r\n\r\n```\r\nyear\tcount\tpercent\thistogram\r\n2009\t12\t8.39\t**************************\r\n2010\t12\t8.39\t**************************\r\n2011\t12\t8.39\t**************************\r\n2012\t12\t8.39\t**************************\r\n2013\t12\t8.39\t**************************\r\n2014\t12\t8.39\t**************************\r\n2015\t12\t8.39\t**************************\r\n2016\t12\t8.39\t**************************\r\n2017\t12\t8.39\t**************************\r\n2018\t12\t8.39\t**************************\r\n2019\t23\t16.08\t**************************************************\r\n2020\t0\t0.00\t\r\n```\r\n\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n\r\n* [data](https://github.com/saulpw/visidata/files/5543325/a.txt)\r\n* [commands](https://github.com/saulpw/visidata/files/5543339/a.vd.txt)\r\n\r\n**Additional context**\r\n\r\nversion `saul.pw/VisiData v2.0.1`\r\n\r\nit seems there is a limit to 11 bins and the rest is empty. The more I put data, the more is aggregated in the 11th bin.\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/791/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/791/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/788", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/788/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/788/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/788/events", "html_url": "https://github.com/saulpw/visidata/issues/788", "id": 743361438, "node_id": "MDU6SXNzdWU3NDMzNjE0Mzg=", "number": 788, "title": "Debian Package update for 2.0.1", "user": {"login": "frosencrantz", "id": 631242, "node_id": "MDQ6VXNlcjYzMTI0Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/631242?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frosencrantz", "html_url": "https://github.com/frosencrantz", "followers_url": "https://api.github.com/users/frosencrantz/followers", "following_url": "https://api.github.com/users/frosencrantz/following{/other_user}", "gists_url": "https://api.github.com/users/frosencrantz/gists{/gist_id}", "starred_url": "https://api.github.com/users/frosencrantz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frosencrantz/subscriptions", "organizations_url": "https://api.github.com/users/frosencrantz/orgs", "repos_url": "https://api.github.com/users/frosencrantz/repos", "events_url": "https://api.github.com/users/frosencrantz/events{/privacy}", "received_events_url": "https://api.github.com/users/frosencrantz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-11-15T22:33:01Z", "updated_at": "2021-02-08T03:00:02Z", "closed_at": "2020-11-15T22:48:35Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I'm not familiar with how to update a Debian repository.  A friend told me that she wanted to use an official package, but she only sees the 1.5.2 version here: https://tracker.debian.org/pkg/visidata\r\n\r\nIs there something more that needs to happen to let Debian know there is an update?  What are the next steps?", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/788/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/788/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/787", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/787/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/787/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/787/events", "html_url": "https://github.com/saulpw/visidata/issues/787", "id": 743361430, "node_id": "MDU6SXNzdWU3NDMzNjE0MzA=", "number": 787, "title": "[macros] Recording a macros fails", "user": {"login": "frosencrantz", "id": 631242, "node_id": "MDQ6VXNlcjYzMTI0Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/631242?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frosencrantz", "html_url": "https://github.com/frosencrantz", "followers_url": "https://api.github.com/users/frosencrantz/followers", "following_url": "https://api.github.com/users/frosencrantz/following{/other_user}", "gists_url": "https://api.github.com/users/frosencrantz/gists{/gist_id}", "starred_url": "https://api.github.com/users/frosencrantz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frosencrantz/subscriptions", "organizations_url": "https://api.github.com/users/frosencrantz/orgs", "repos_url": "https://api.github.com/users/frosencrantz/repos", "events_url": "https://api.github.com/users/frosencrantz/events{/privacy}", "received_events_url": "https://api.github.com/users/frosencrantz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2020-11-15T22:32:58Z", "updated_at": "2020-12-20T04:07:47Z", "closed_at": "2020-12-19T22:48:18Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nRecording a macro fails.\r\n\r\n**Expected result**\r\nMacro is saved.\r\n\r\n**Actual result with screenshot**\r\nhttps://asciinema.org/a/7T0YgyrSQFhHyWfdok17oi6Qj\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3.9/site-packages/visidata/basesheet.py\", line 136, in execCommand\r\n    exec(code, vdglobals, LazyChainMap(vd, self))\r\n  File \"macro-record\", line 1, in <module>\r\n  File \"/usr/lib/python3.9/site-packages/visidata/macros.py\", line 52, in startMacro\r\n    vd.cmdlog.saveMacro(vd.macroMode.rows, ks)\r\n  File \"/usr/lib/python3.9/site-packages/visidata/macros.py\", line 37, in saveMacro\r\n    append_tsv_row(vd.macrosheet, (ks, macropath))\r\n  File \"/usr/lib/python3.9/site-packages/visidata/loaders/tsv.py\", line 81, in append_tsv_row\r\n    if not vs.source.exists():\r\nAttributeError: 'NoneType' object has no attribute 'exists'\r\n```\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\nRecord a macro, provide a filename when asked, and vd throws an exception.\r\n\r\n**Additional context**\r\nPlease include the version of VisiData. Latest develop version.\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/787/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/787/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/786", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/786/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/786/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/786/events", "html_url": "https://github.com/saulpw/visidata/issues/786", "id": 743361420, "node_id": "MDU6SXNzdWU3NDMzNjE0MjA=", "number": 786, "title": " [Dirsheet Frozen Col] Empty frozen column in duplicated DirSheet", "user": {"login": "frosencrantz", "id": 631242, "node_id": "MDQ6VXNlcjYzMTI0Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/631242?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frosencrantz", "html_url": "https://github.com/frosencrantz", "followers_url": "https://api.github.com/users/frosencrantz/followers", "following_url": "https://api.github.com/users/frosencrantz/following{/other_user}", "gists_url": "https://api.github.com/users/frosencrantz/gists{/gist_id}", "starred_url": "https://api.github.com/users/frosencrantz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frosencrantz/subscriptions", "organizations_url": "https://api.github.com/users/frosencrantz/orgs", "repos_url": "https://api.github.com/users/frosencrantz/repos", "events_url": "https://api.github.com/users/frosencrantz/events{/privacy}", "received_events_url": "https://api.github.com/users/frosencrantz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "anjakefala", "id": 7489659, "node_id": "MDQ6VXNlcjc0ODk2NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/7489659?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anjakefala", "html_url": "https://github.com/anjakefala", "followers_url": "https://api.github.com/users/anjakefala/followers", "following_url": "https://api.github.com/users/anjakefala/following{/other_user}", "gists_url": "https://api.github.com/users/anjakefala/gists{/gist_id}", "starred_url": "https://api.github.com/users/anjakefala/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anjakefala/subscriptions", "organizations_url": "https://api.github.com/users/anjakefala/orgs", "repos_url": "https://api.github.com/users/anjakefala/repos", "events_url": "https://api.github.com/users/anjakefala/events{/privacy}", "received_events_url": "https://api.github.com/users/anjakefala/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "anjakefala", "id": 7489659, "node_id": "MDQ6VXNlcjc0ODk2NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/7489659?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anjakefala", "html_url": "https://github.com/anjakefala", "followers_url": "https://api.github.com/users/anjakefala/followers", "following_url": "https://api.github.com/users/anjakefala/following{/other_user}", "gists_url": "https://api.github.com/users/anjakefala/gists{/gist_id}", "starred_url": "https://api.github.com/users/anjakefala/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anjakefala/subscriptions", "organizations_url": "https://api.github.com/users/anjakefala/orgs", "repos_url": "https://api.github.com/users/anjakefala/repos", "events_url": "https://api.github.com/users/anjakefala/events{/privacy}", "received_events_url": "https://api.github.com/users/anjakefala/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2020-11-15T22:32:55Z", "updated_at": "2020-12-05T23:19:40Z", "closed_at": "2020-11-29T08:24:54Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nFrozen columns in a duplicated DirSheet are empty.\r\n\r\n**Expected result**\r\nFrozen columns keep their values.\r\n\r\n**Actual result with screenshot**\r\nhttps://asciinema.org/a/bRYBx9fw7Q5FXP52COQ1Wuqpb\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\nOpen a dirsheet, freeze the column, and duplicate the sheet.\r\n\r\n```\r\nsheet\tcol\trow\tlongname\tinput\tkeystrokes\tcomment\r\n\t\t\topen-file\t.\to\t\r\n\tfilename\t\tfreeze-col\t\t'\tadd a frozen copy of current column with all cells evaluated\r\n\t\t\u30ad.,.emptyfrozencol-in-dup-dirsheet.md.swp\tselect-row\t\ts\tselect current row\r\n\t\t\tdup-selected\t\t\"\topen duplicate sheet with only selected rows\r\n```\r\n\r\n**Additional context**\r\nPlease include the version of VisiData.  Using latest develop version.\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/786/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/786/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/778", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/778/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/778/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/778/events", "html_url": "https://github.com/saulpw/visidata/issues/778", "id": 741242542, "node_id": "MDU6SXNzdWU3NDEyNDI1NDI=", "number": 778, "title": "ALT-# bindings not working on MacOS", "user": {"login": "rswgnu", "id": 20670351, "node_id": "MDQ6VXNlcjIwNjcwMzUx", "avatar_url": "https://avatars.githubusercontent.com/u/20670351?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rswgnu", "html_url": "https://github.com/rswgnu", "followers_url": "https://api.github.com/users/rswgnu/followers", "following_url": "https://api.github.com/users/rswgnu/following{/other_user}", "gists_url": "https://api.github.com/users/rswgnu/gists{/gist_id}", "starred_url": "https://api.github.com/users/rswgnu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rswgnu/subscriptions", "organizations_url": "https://api.github.com/users/rswgnu/orgs", "repos_url": "https://api.github.com/users/rswgnu/repos", "events_url": "https://api.github.com/users/rswgnu/events{/privacy}", "received_events_url": "https://api.github.com/users/rswgnu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-11-12T03:19:09Z", "updated_at": "2020-11-12T04:37:10Z", "closed_at": "2020-11-12T04:06:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am using V2.0.1 and all other keys seem to be as documented but I can't get any response from trying ALT-# keys nor ESC [0-9].", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/778/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/778/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/775", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/775/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/775/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/775/events", "html_url": "https://github.com/saulpw/visidata/issues/775", "id": 740447162, "node_id": "MDU6SXNzdWU3NDA0NDcxNjI=", "number": 775, "title": "Issues in v2.-4", "user": {"login": "rswgnu", "id": 20670351, "node_id": "MDQ6VXNlcjIwNjcwMzUx", "avatar_url": "https://avatars.githubusercontent.com/u/20670351?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rswgnu", "html_url": "https://github.com/rswgnu", "followers_url": "https://api.github.com/users/rswgnu/followers", "following_url": "https://api.github.com/users/rswgnu/following{/other_user}", "gists_url": "https://api.github.com/users/rswgnu/gists{/gist_id}", "starred_url": "https://api.github.com/users/rswgnu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rswgnu/subscriptions", "organizations_url": "https://api.github.com/users/rswgnu/orgs", "repos_url": "https://api.github.com/users/rswgnu/repos", "events_url": "https://api.github.com/users/rswgnu/events{/privacy}", "received_events_url": "https://api.github.com/users/rswgnu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-11-11T04:21:43Z", "updated_at": "2020-11-11T04:31:10Z", "closed_at": "2020-11-11T04:25:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "I just install v2.-4 and am testing it out a bit.  Here are issues so far:\r\n\r\n1. It doesn't read my ~/.visidatarc file.  The stable version read this fine.\r\n\r\n2. When using z^H, many of the newer key bindings listed there do not work, e.g. jumping to sheets with ALT -<digit> or ESC-<digit>.\r\n\r\n3. Splitting into 2 windows works fine.  However, I think you should change the close window commands.  Rather than just closing the bottom window, you should have 'close-active-window' and 'close-other-window'  command since you typically want to close a window relative to the data you are displaying, not one in a fixed position. \r\n\r\nThis is on MacOS Mojave 10.14.6.", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/775/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/775/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/766", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/766/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/766/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/766/events", "html_url": "https://github.com/saulpw/visidata/issues/766", "id": 736054353, "node_id": "MDU6SXNzdWU3MzYwNTQzNTM=", "number": 766, "title": "[dev2.+] long sheet names obstruct ^g output", "user": {"login": "geekscrapy", "id": 11225502, "node_id": "MDQ6VXNlcjExMjI1NTAy", "avatar_url": "https://avatars.githubusercontent.com/u/11225502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geekscrapy", "html_url": "https://github.com/geekscrapy", "followers_url": "https://api.github.com/users/geekscrapy/followers", "following_url": "https://api.github.com/users/geekscrapy/following{/other_user}", "gists_url": "https://api.github.com/users/geekscrapy/gists{/gist_id}", "starred_url": "https://api.github.com/users/geekscrapy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geekscrapy/subscriptions", "organizations_url": "https://api.github.com/users/geekscrapy/orgs", "repos_url": "https://api.github.com/users/geekscrapy/repos", "events_url": "https://api.github.com/users/geekscrapy/events{/privacy}", "received_events_url": "https://api.github.com/users/geekscrapy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-11-04T11:54:12Z", "updated_at": "2020-11-08T09:13:37Z", "closed_at": "2020-11-08T08:35:35Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nIn particular, when joining lots of sheets, the concat sheet name is a join of all the source sheets' names. This is fine, however when you open a joined sheet that has many files and press something like `^g` to see some sheet stats, it does not appear.\r\n\r\n**Expected result**\r\nThe output from `^g` to appear like normal.\r\n\r\n**Potential idea**\r\nTruncate the _visibility_ of long sheets? Maybe something like: `verylongsheetn...ylongsheetname` - removing the center portion until it fits within `x%` of the screen width?\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/766/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/766/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/764", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/764/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/764/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/764/events", "html_url": "https://github.com/saulpw/visidata/issues/764", "id": 734483357, "node_id": "MDU6SXNzdWU3MzQ0ODMzNTc=", "number": 764, "title": "[dev 2.0+] disp_rstatus_fmt causes halting exception on GraphSheet", "user": {"login": "geekscrapy", "id": 11225502, "node_id": "MDQ6VXNlcjExMjI1NTAy", "avatar_url": "https://avatars.githubusercontent.com/u/11225502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geekscrapy", "html_url": "https://github.com/geekscrapy", "followers_url": "https://api.github.com/users/geekscrapy/followers", "following_url": "https://api.github.com/users/geekscrapy/following{/other_user}", "gists_url": "https://api.github.com/users/geekscrapy/gists{/gist_id}", "starred_url": "https://api.github.com/users/geekscrapy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geekscrapy/subscriptions", "organizations_url": "https://api.github.com/users/geekscrapy/orgs", "repos_url": "https://api.github.com/users/geekscrapy/repos", "events_url": "https://api.github.com/users/geekscrapy/events{/privacy}", "received_events_url": "https://api.github.com/users/geekscrapy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-11-02T12:57:14Z", "updated_at": "2020-11-29T06:35:10Z", "closed_at": "2020-11-29T05:54:03Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nI modified the `disp_rstatus_fmt` to provide information I require when working with sheets, however when using GraphSheet vd crashes with the following exception. I currently have to use `^g` to see the same information as I would be able to see using this `disp_rstatus_fmt`.\r\n\r\n`options.disp_rstatus_fmt = ' {sheet.cursorRowIndex}/{sheet.nRows}[{sheet.nSelectedRows}] {sheet.rowtype} '`\r\n\r\n`AttributeError: 'GraphSheet' object has no attribute 'cursorRowIndex'`\r\n\r\n**Expected result**\r\nGraphSheet to load\r\n\r\nFWIW, I was also attempting to make a % counter in `disp_rstatus_fmt` however I get some odd other exceptions (this isn't really an issue so I haven't opened a separate bug, however this was my original use-case).", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/764/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/764/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/763", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/763/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/763/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/763/events", "html_url": "https://github.com/saulpw/visidata/issues/763", "id": 732815950, "node_id": "MDU6SXNzdWU3MzI4MTU5NTA=", "number": 763, "title": "[v2.0.1] Maybe a bug - memory usage climbs to 99% while union two sheets", "user": {"login": "bob-u", "id": 61708771, "node_id": "MDQ6VXNlcjYxNzA4Nzcx", "avatar_url": "https://avatars.githubusercontent.com/u/61708771?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bob-u", "html_url": "https://github.com/bob-u", "followers_url": "https://api.github.com/users/bob-u/followers", "following_url": "https://api.github.com/users/bob-u/following{/other_user}", "gists_url": "https://api.github.com/users/bob-u/gists{/gist_id}", "starred_url": "https://api.github.com/users/bob-u/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bob-u/subscriptions", "organizations_url": "https://api.github.com/users/bob-u/orgs", "repos_url": "https://api.github.com/users/bob-u/repos", "events_url": "https://api.github.com/users/bob-u/events{/privacy}", "received_events_url": "https://api.github.com/users/bob-u/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-10-30T01:41:07Z", "updated_at": "2020-10-30T21:58:57Z", "closed_at": "2020-10-30T05:14:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Small description**\r\nHow do I report possible memory leak?  I am trying to 'union' two sheets (each file 300MB large), progress stops at 50% grouping... (when it stops memory usage is about 3GB) while memory usage keeps on climbing to 99% (16GB).  Pressing ctrl-D or C or Z does nothing.  Each file can be opened separately and has the same number of columns, tab delimited.\r\n**Expected result**\r\n\r\n**Actual result with screenshot**\r\nIf you get an unexpected error, please include the full stack trace that you get with `Ctrl-E`.\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\nPlease attach the commandlog (saved with `Ctrl-D`) to show the steps that led to the issue.\r\nSee [here](http://visidata.org/docs/save-restore/) for more details.\r\nvisidata file1 file2\r\nshift+s\r\nselect both sheets\r\npress &\r\nselect full\r\n**Additional context**\r\nPlease include the version of VisiData.\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/763/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/763/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/762", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/762/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/762/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/762/events", "html_url": "https://github.com/saulpw/visidata/issues/762", "id": 732811122, "node_id": "MDU6SXNzdWU3MzI4MTExMjI=", "number": 762, "title": "`zh` and `zl` use the cursor column's official width, not the column's visible width", "user": {"login": "jsvine", "id": 534702, "node_id": "MDQ6VXNlcjUzNDcwMg==", "avatar_url": "https://avatars.githubusercontent.com/u/534702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsvine", "html_url": "https://github.com/jsvine", "followers_url": "https://api.github.com/users/jsvine/followers", "following_url": "https://api.github.com/users/jsvine/following{/other_user}", "gists_url": "https://api.github.com/users/jsvine/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsvine/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsvine/subscriptions", "organizations_url": "https://api.github.com/users/jsvine/orgs", "repos_url": "https://api.github.com/users/jsvine/repos", "events_url": "https://api.github.com/users/jsvine/events{/privacy}", "received_events_url": "https://api.github.com/users/jsvine/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-10-30T01:26:15Z", "updated_at": "2020-12-02T02:06:34Z", "closed_at": "2020-12-01T08:46:20Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\n\r\nThis issue pertains to this bit of code:\r\n\r\nhttps://github.com/saulpw/visidata/blob/e0b105238f08decd3817b888e82710f531b94fcd/visidata/movement.py#L163-L164\r\n\r\nThe logic says this: Internally scroll a column's contents right/left by `cursorCol.width - 2`. This works as expected in most situations *except* when you're working with a column whose \"true\" width is greater than can be visibly displayed (e.g., a 200-char wide column on a 100-char wide screen). In those cases, this code makes the cell scroll more than I think most users would expect.\r\n\r\n**Expected result**\r\n\r\nI would expect that `zh`/`zl` would base their scroll-distance on the column's *visible width* rather than the column's official width.\r\n\r\n**VisiData version**\r\n\r\n`2.0.1`\r\n\r\n**Additional context**\r\n\r\nI *think* this can be solved with a combination of `Sheet._visibleColLayout` and the column index, but I'm not familiar enough with that attribute to say for sure.\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/762/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/762/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/760", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/760/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/760/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/760/events", "html_url": "https://github.com/saulpw/visidata/issues/760", "id": 732365340, "node_id": "MDU6SXNzdWU3MzIzNjUzNDA=", "number": 760, "title": "[Windows] vd bin is not executable on windows installation", "user": {"login": "bob-u", "id": 61708771, "node_id": "MDQ6VXNlcjYxNzA4Nzcx", "avatar_url": "https://avatars.githubusercontent.com/u/61708771?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bob-u", "html_url": "https://github.com/bob-u", "followers_url": "https://api.github.com/users/bob-u/followers", "following_url": "https://api.github.com/users/bob-u/following{/other_user}", "gists_url": "https://api.github.com/users/bob-u/gists{/gist_id}", "starred_url": "https://api.github.com/users/bob-u/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bob-u/subscriptions", "organizations_url": "https://api.github.com/users/bob-u/orgs", "repos_url": "https://api.github.com/users/bob-u/repos", "events_url": "https://api.github.com/users/bob-u/events{/privacy}", "received_events_url": "https://api.github.com/users/bob-u/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2020-10-29T14:29:52Z", "updated_at": "2020-12-23T22:38:56Z", "closed_at": "2020-12-23T22:38:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Small description**\r\ntyping vd from command prompt results in:\r\n'vd' is not recognized as an internal or external command,\r\noperable program or batch file.\r\n\r\ntyping visidata starts the application\r\n**Expected result**\r\nI think vd should start visidata\r\n**Actual result with screenshot**\r\nIf you get an unexpected error, please include the full stack trace that you get with `Ctrl-E`.\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\nPlease attach the commandlog (saved with `Ctrl-D`) to show the steps that led to the issue.\r\nSee [here](http://visidata.org/docs/save-restore/) for more details.\r\n\r\n**Additional context**\r\nPlease include the version of VisiData.\r\nI installed visidata with pip3 on windows 10.\r\nvd and visidata are in the same folder so it's not a path issue.\r\nAs per the screenshot - vd is not an application\r\n\r\n![vd_location](https://user-images.githubusercontent.com/61708771/97587111-65b2ad80-19d1-11eb-9a5d-49b2e0011bab.PNG)\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/760/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/760/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/758", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/758/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/758/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/758/events", "html_url": "https://github.com/saulpw/visidata/issues/758", "id": 731679090, "node_id": "MDU6SXNzdWU3MzE2NzkwOTA=", "number": 758, "title": "Display errors with emoji of various widths", "user": {"login": "lxcode", "id": 1959603, "node_id": "MDQ6VXNlcjE5NTk2MDM=", "avatar_url": "https://avatars.githubusercontent.com/u/1959603?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lxcode", "html_url": "https://github.com/lxcode", "followers_url": "https://api.github.com/users/lxcode/followers", "following_url": "https://api.github.com/users/lxcode/following{/other_user}", "gists_url": "https://api.github.com/users/lxcode/gists{/gist_id}", "starred_url": "https://api.github.com/users/lxcode/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lxcode/subscriptions", "organizations_url": "https://api.github.com/users/lxcode/orgs", "repos_url": "https://api.github.com/users/lxcode/repos", "events_url": "https://api.github.com/users/lxcode/events{/privacy}", "received_events_url": "https://api.github.com/users/lxcode/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2020-10-28T18:13:12Z", "updated_at": "2021-06-26T08:29:25Z", "closed_at": "2021-06-26T08:27:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Small description**\r\n\r\nI apologize for even wading into the waters of unicode and terminal character width, but I haven't found a workaround that will sanitize text appropriately. When looking at data that contains smatterings of emoji and other unicode oddities, the glitches in character width cause the column separators to jump around and get out of alignment. This is particularly apparent with various flag emoji (particularly severe when many of them are used in sequence). Is there anything that visidata could do to mitigate this, perhaps using jquast/wcwidth?\r\n\r\n**Expected result**\r\n\r\nEverything displays cleanly and columns line up.\r\n\r\n**Actual result with screenshot**\r\n\r\n<img width=\"699\" alt=\"Screen Shot 2020-10-28 at 11 05 32\" src=\"https://user-images.githubusercontent.com/1959603/97477949-81ed1680-190d-11eb-8765-afaf17ed28da.png\">\r\n\r\n**Additional context**\r\nv 2.0.1\r\nTested with both kitty and iTerm2 on macOS, local machine (no tmux or anything).", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/758/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/758/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/757", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/757/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/757/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/757/events", "html_url": "https://github.com/saulpw/visidata/issues/757", "id": 730173013, "node_id": "MDU6SXNzdWU3MzAxNzMwMTM=", "number": 757, "title": "[2.0.1] ColumnExpr expr to return the row object instead of requiring row.row", "user": {"login": "geekscrapy", "id": 11225502, "node_id": "MDQ6VXNlcjExMjI1NTAy", "avatar_url": "https://avatars.githubusercontent.com/u/11225502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geekscrapy", "html_url": "https://github.com/geekscrapy", "followers_url": "https://api.github.com/users/geekscrapy/followers", "following_url": "https://api.github.com/users/geekscrapy/following{/other_user}", "gists_url": "https://api.github.com/users/geekscrapy/gists{/gist_id}", "starred_url": "https://api.github.com/users/geekscrapy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geekscrapy/subscriptions", "organizations_url": "https://api.github.com/users/geekscrapy/orgs", "repos_url": "https://api.github.com/users/geekscrapy/repos", "events_url": "https://api.github.com/users/geekscrapy/events{/privacy}", "received_events_url": "https://api.github.com/users/geekscrapy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-10-27T06:57:23Z", "updated_at": "2020-10-27T15:42:28Z", "closed_at": "2020-10-27T06:59:11Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "_sparked from vd \"irc\" chat - I was logging it here for myself (so I can remember the fix!) and to track when it gets fixed_\r\n\r\n**Small description**\r\nWhen attempting to access the row object it is currently required to access it with `row.row`. @saulpw came up with the following small fix (that I've been using for a while and seems fine).\r\n\r\n`visidata/sheets.py:137, change to \"return self.row\"`\r\n\r\n**Expected result**\r\nTo be able to access the original row object by just using `row.foo()` in `expr=\"row.foo()\"`", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/757/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/757/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/756", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/756/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/756/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/756/events", "html_url": "https://github.com/saulpw/visidata/issues/756", "id": 729861713, "node_id": "MDU6SXNzdWU3Mjk4NjE3MTM=", "number": 756, "title": "[2.0.1] RecursionException on expr columns", "user": {"login": "geekscrapy", "id": 11225502, "node_id": "MDQ6VXNlcjExMjI1NTAy", "avatar_url": "https://avatars.githubusercontent.com/u/11225502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geekscrapy", "html_url": "https://github.com/geekscrapy", "followers_url": "https://api.github.com/users/geekscrapy/followers", "following_url": "https://api.github.com/users/geekscrapy/following{/other_user}", "gists_url": "https://api.github.com/users/geekscrapy/gists{/gist_id}", "starred_url": "https://api.github.com/users/geekscrapy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geekscrapy/subscriptions", "organizations_url": "https://api.github.com/users/geekscrapy/orgs", "repos_url": "https://api.github.com/users/geekscrapy/repos", "events_url": "https://api.github.com/users/geekscrapy/events{/privacy}", "received_events_url": "https://api.github.com/users/geekscrapy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-10-26T19:57:22Z", "updated_at": "2020-12-01T08:45:55Z", "closed_at": "2020-12-01T08:45:08Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "_This issue was taken from the vd \"irc\" chat_\r\n\r\n**Small description**\r\nColumns show expr output based on their order.\r\n\r\nReplication: Open any sheet that has more than 1 column (I've tried a CSV sheet). Make sure you have the first column selected, now create a new column with the expression the name of any of the other columns with an index > `selectedColumn`. So if I have a sheet of 3 columns, `A`, `B`, `C`, I have A selected, and create a `ColumnExpr` (using `=`) and set the `expr` to `C` (literally). This will create a new column called `C`, but it's value will be a `RecursiveException`. To get around this slide the new column to be after the source column (in this case `C`, the new column should now evaluate and show the correct value. Alternatively, you can rename the new column to something other than `C`, e.g. `C2`.\r\n\r\nI presume that it's to do with the order at which the expr looks at the columns. Instead of throwing a `RecursionException` would it be feasible to skip the col which would cause the Recursion and only throw it when all the cols have been tried?\r\n\r\nBy the looks of it, this issue occurred in pre vd 2.0.1, but due to `ColumnExpr` no longer caching, the behavior now appears inconsistent.\r\n\r\n**Expected result**\r\nThe new column `C` to take the value of the source column `C` exactly - wherever it is in the sheet column list.\r\nI believe that one should be able to name, and move columns freely without modifying the shown value.", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/756/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/756/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/753", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/753/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/753/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/753/events", "html_url": "https://github.com/saulpw/visidata/issues/753", "id": 729140407, "node_id": "MDU6SXNzdWU3MjkxNDA0MDc=", "number": 753, "title": "[json loader] Json indent doesn't handle integers ", "user": {"login": "frosencrantz", "id": 631242, "node_id": "MDQ6VXNlcjYzMTI0Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/631242?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frosencrantz", "html_url": "https://github.com/frosencrantz", "followers_url": "https://api.github.com/users/frosencrantz/followers", "following_url": "https://api.github.com/users/frosencrantz/following{/other_user}", "gists_url": "https://api.github.com/users/frosencrantz/gists{/gist_id}", "starred_url": "https://api.github.com/users/frosencrantz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frosencrantz/subscriptions", "organizations_url": "https://api.github.com/users/frosencrantz/orgs", "repos_url": "https://api.github.com/users/frosencrantz/repos", "events_url": "https://api.github.com/users/frosencrantz/events{/privacy}", "received_events_url": "https://api.github.com/users/frosencrantz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-10-25T23:29:07Z", "updated_at": "2020-12-05T23:20:07Z", "closed_at": "2020-11-23T23:08:24Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nUsing an integer for the json_indent option/flag uses the number input as the character used for indenting rather than the number of spaces.\r\n\r\n\r\n**Expected result**\r\nUsing an indent of the given length.\r\n\r\n**Actual result with screenshot**\r\nSee below.\r\n\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n\r\nAccording to https://docs.python.org/3/library/json.html:\r\n\r\n   * If indent is a non-negative integer or string, then JSON array elements and object members will be pretty-printed with that indent level. An indent level of 0, negative, or \"\" will only insert newlines. None (the default) selects the most compact representation. Using a positive integer indent indents that many spaces per level. If indent is a string (such as \"\\t\"), that string is used to indent each level.\r\n\r\n   * Changed in version 3.2: Allow strings for indent in addition to integers.\r\n\r\nRun the command twice once with double spaces as indent, and a second time with an indent of \"2\".  Would expect these to have the same output.\r\n\r\n```\r\n$ cat json-indent.sh\r\n  jo a=$(jo b=c d=e) f=g | vd -g  -f json -b -o out.json --json_indent \"  \"  - ; cat out.json\r\n  jo a=$(jo b=c d=e) f=g | vd -g  -f json -b -o out.json --json_indent 2  - ; cat out.json\r\n$ bash -x json-indent.sh\r\n+ vd -g -f json -b -o out.json --json_indent '  ' -\r\n++ jo b=c d=e\r\n+ jo 'a={\"b\":\"c\",\"d\":\"e\"}' f=g\r\nopening - as json\r\nsaving 1 sheets to out.json as json\r\n+ cat out.json\r\n[\r\n  {\r\n    \"a\": {\r\n      \"b\": \"c\",\r\n      \"d\": \"e\"\r\n    },\r\n    \"f\": \"g\"\r\n  }\r\n]+ vd -g -f json -b -o out.json --json_indent 2 -\r\n++ jo b=c d=e\r\n+ jo 'a={\"b\":\"c\",\"d\":\"e\"}' f=g\r\nopening - as json\r\nsaving 1 sheets to out.json as json\r\n+ cat out.json\r\n[\r\n2{\r\n22\"a\": {\r\n222\"b\": \"c\",\r\n222\"d\": \"e\"\r\n22},\r\n22\"f\": \"g\"\r\n2}\r\n]\r\n```\r\n\r\n\r\n**Additional context**\r\nLatest version of visidata from develop\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/753/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/753/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/747", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/747/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/747/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/747/events", "html_url": "https://github.com/saulpw/visidata/issues/747", "id": 727680169, "node_id": "MDU6SXNzdWU3Mjc2ODAxNjk=", "number": 747, "title": "[v2.0] there should not be duplicate autocomplete suggestions (of column names)", "user": {"login": "geekscrapy", "id": 11225502, "node_id": "MDQ6VXNlcjExMjI1NTAy", "avatar_url": "https://avatars.githubusercontent.com/u/11225502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geekscrapy", "html_url": "https://github.com/geekscrapy", "followers_url": "https://api.github.com/users/geekscrapy/followers", "following_url": "https://api.github.com/users/geekscrapy/following{/other_user}", "gists_url": "https://api.github.com/users/geekscrapy/gists{/gist_id}", "starred_url": "https://api.github.com/users/geekscrapy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geekscrapy/subscriptions", "organizations_url": "https://api.github.com/users/geekscrapy/orgs", "repos_url": "https://api.github.com/users/geekscrapy/repos", "events_url": "https://api.github.com/users/geekscrapy/events{/privacy}", "received_events_url": "https://api.github.com/users/geekscrapy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-10-22T19:56:24Z", "updated_at": "2020-11-03T06:16:46Z", "closed_at": "2020-11-03T03:26:12Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nIf you have multiple columns of the same name, the input autocomplete feature lists both the names and therefore requires multiple [tab]s to go to the next entry.\r\n\r\n**Expected result**\r\nAs you cannot distinguish between columns by name, I believe there should only be one entry in the autocomplete suggestions\r\n\r\n**Actual result**\r\nYou have to tab multiple times to skip duplicate column names\r\n\r\nvd 2.0.1\r\n\r\nI'm logging this here, and will take a look myself as I've started looking at the Completer feature recently. I hope it maybe a case of just using `set()` instead of a list. But if anyone knows otherwise let me know!", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/747/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/747/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/744", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/744/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/744/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/744/events", "html_url": "https://github.com/saulpw/visidata/issues/744", "id": 727604732, "node_id": "MDU6SXNzdWU3Mjc2MDQ3MzI=", "number": 744, "title": "[Windows v2.0] Enter does not work when trying to submit regex under windows.", "user": {"login": "bob-u", "id": 61708771, "node_id": "MDQ6VXNlcjYxNzA4Nzcx", "avatar_url": "https://avatars.githubusercontent.com/u/61708771?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bob-u", "html_url": "https://github.com/bob-u", "followers_url": "https://api.github.com/users/bob-u/followers", "following_url": "https://api.github.com/users/bob-u/following{/other_user}", "gists_url": "https://api.github.com/users/bob-u/gists{/gist_id}", "starred_url": "https://api.github.com/users/bob-u/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bob-u/subscriptions", "organizations_url": "https://api.github.com/users/bob-u/orgs", "repos_url": "https://api.github.com/users/bob-u/repos", "events_url": "https://api.github.com/users/bob-u/events{/privacy}", "received_events_url": "https://api.github.com/users/bob-u/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-10-22T17:59:50Z", "updated_at": "2020-10-26T18:01:11Z", "closed_at": "2020-10-26T06:59:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Small description**\r\nwhen entering regex pressing enter does nothing.  This is probably related to ^M bug from yesterday.\r\n**Expected result**\r\nI expect that enter will execute the regex filter\r\n**Actual result with screenshot**\r\nIf you get an unexpected error, please include the full stack trace that you get with `Ctrl-E`.\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\nopen a file, go to column, press \"|\", type regex filter, press Enter key.\r\nThere are probably other keys not working, I just have not used Linux version to know what to expect.  For example, ctrl+h does not bring up help which I believe it is supposed to.\r\nPlease attach the commandlog (saved with `Ctrl-D`) to show the steps that led to the issue.\r\nSee [here](http://visidata.org/docs/save-restore/) for more details.\r\n\r\n**Additional context**\r\nPlease include the version of VisiData.\r\nSame as here: https://github.com/saulpw/visidata/issues/741\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/744/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/744/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/741", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/741/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/741/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/741/events", "html_url": "https://github.com/saulpw/visidata/issues/741", "id": 725721806, "node_id": "MDU6SXNzdWU3MjU3MjE4MDY=", "number": 741, "title": "Enter key results in ^M on windows", "user": {"login": "bob-u", "id": 61708771, "node_id": "MDQ6VXNlcjYxNzA4Nzcx", "avatar_url": "https://avatars.githubusercontent.com/u/61708771?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bob-u", "html_url": "https://github.com/bob-u", "followers_url": "https://api.github.com/users/bob-u/followers", "following_url": "https://api.github.com/users/bob-u/following{/other_user}", "gists_url": "https://api.github.com/users/bob-u/gists{/gist_id}", "starred_url": "https://api.github.com/users/bob-u/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bob-u/subscriptions", "organizations_url": "https://api.github.com/users/bob-u/orgs", "repos_url": "https://api.github.com/users/bob-u/repos", "events_url": "https://api.github.com/users/bob-u/events{/privacy}", "received_events_url": "https://api.github.com/users/bob-u/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-10-20T15:42:01Z", "updated_at": "2020-10-21T00:00:01Z", "closed_at": "2020-10-20T23:00:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Small description**\r\nPressing enter results in ^M in terminal and message \"no command for ^M\".  \r\n**Expected result**\r\nPressing enter should execute the command, submit filter, etc.\r\n**Actual result with screenshot**\r\nIf you get an unexpected error, please include the full stack trace that you get with `Ctrl-E`.\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\nPlease attach the commandlog (saved with `Ctrl-D`) to show the steps that led to the issue.\r\nSee [here](http://visidata.org/docs/save-restore/) for more details.\r\nopen command prompt, type visidata\r\n**Additional context**\r\nPlease include the version of VisiData.\r\nwindows 10\r\ntried multiple command terminal options (including legacy)\r\nalso tried phython3.7\r\n\r\npython 3.9\r\n\r\npip3 list\r\nPackage         Version\r\n--------------- -------\r\npip             20.2.3\r\npython-dateutil 2.8.1\r\nsetuptools      49.2.1\r\nsix             1.15.0\r\nvisidata        2.0.1\r\nwindows-curses  2.2.0a1", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/741/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/741/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/733", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/733/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/733/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/733/events", "html_url": "https://github.com/saulpw/visidata/issues/733", "id": 723963572, "node_id": "MDU6SXNzdWU3MjM5NjM1NzI=", "number": 733, "title": "Cannot remove sheet disp_date_fmt option", "user": {"login": "geekscrapy", "id": 11225502, "node_id": "MDQ6VXNlcjExMjI1NTAy", "avatar_url": "https://avatars.githubusercontent.com/u/11225502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geekscrapy", "html_url": "https://github.com/geekscrapy", "followers_url": "https://api.github.com/users/geekscrapy/followers", "following_url": "https://api.github.com/users/geekscrapy/following{/other_user}", "gists_url": "https://api.github.com/users/geekscrapy/gists{/gist_id}", "starred_url": "https://api.github.com/users/geekscrapy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geekscrapy/subscriptions", "organizations_url": "https://api.github.com/users/geekscrapy/orgs", "repos_url": "https://api.github.com/users/geekscrapy/repos", "events_url": "https://api.github.com/users/geekscrapy/events{/privacy}", "received_events_url": "https://api.github.com/users/geekscrapy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-10-18T09:10:53Z", "updated_at": "2020-10-21T06:13:39Z", "closed_at": "2020-10-20T23:06:29Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I have a global setting for `disp_date_fmt` (e.g. %Y-%m-%d %H:%M:%S). When I want to override it for one particular sheet, I enter `zO` and provide my new format (e.g. %Y-%m-%d). If I then want to remove that format from the sheet at a later date (and let the global setting take precedence once again), I cannot. Setting it to \"\" (empty string) vd takes this as the format and the column values and interprets it as a format string (which prints nothing).", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/733/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/733/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/732", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/732/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/732/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/732/events", "html_url": "https://github.com/saulpw/visidata/issues/732", "id": 722335323, "node_id": "MDU6SXNzdWU3MjIzMzUzMjM=", "number": 732, "title": "method visidata.view(obj) is not existing, moved to visidata.pyobj.view", "user": {"login": "alekibango", "id": 420144, "node_id": "MDQ6VXNlcjQyMDE0NA==", "avatar_url": "https://avatars.githubusercontent.com/u/420144?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alekibango", "html_url": "https://github.com/alekibango", "followers_url": "https://api.github.com/users/alekibango/followers", "following_url": "https://api.github.com/users/alekibango/following{/other_user}", "gists_url": "https://api.github.com/users/alekibango/gists{/gist_id}", "starred_url": "https://api.github.com/users/alekibango/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alekibango/subscriptions", "organizations_url": "https://api.github.com/users/alekibango/orgs", "repos_url": "https://api.github.com/users/alekibango/repos", "events_url": "https://api.github.com/users/alekibango/events{/privacy}", "received_events_url": "https://api.github.com/users/alekibango/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-10-15T13:26:09Z", "updated_at": "2020-10-19T17:42:11Z", "closed_at": "2020-10-16T04:59:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Small description**\r\nWeb blog writes on https://www.visidata.org/blog/2020/ten/\r\nthat  i can view python object by: \r\n ```py\r\nvisidata.view(obj)\r\n```\r\n\r\n**Expected result**\r\nI expect examples from main webpage and from videos on youtube to be working :) \r\nI exped the view method to be there.\r\n\r\n**workaround**\r\n\r\nAfter minute of source diving I found that I can do this:\r\n\r\n```py\r\nvisidata.pyobj.view(my_object)\r\n```\r\n\r\nI know 2.0 is big change. Maybe its not a bug, but a feature.\r\nBut in that case, web should be improved with examples that work with current version.", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/732/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/732/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/727", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/727/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/727/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/727/events", "html_url": "https://github.com/saulpw/visidata/issues/727", "id": 721806666, "node_id": "MDU6SXNzdWU3MjE4MDY2NjY=", "number": 727, "title": "[loaders postgres] Transaction error when viewing table", "user": {"login": "kbd", "id": 728060, "node_id": "MDQ6VXNlcjcyODA2MA==", "avatar_url": "https://avatars.githubusercontent.com/u/728060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kbd", "html_url": "https://github.com/kbd", "followers_url": "https://api.github.com/users/kbd/followers", "following_url": "https://api.github.com/users/kbd/following{/other_user}", "gists_url": "https://api.github.com/users/kbd/gists{/gist_id}", "starred_url": "https://api.github.com/users/kbd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kbd/subscriptions", "organizations_url": "https://api.github.com/users/kbd/orgs", "repos_url": "https://api.github.com/users/kbd/repos", "events_url": "https://api.github.com/users/kbd/events{/privacy}", "received_events_url": "https://api.github.com/users/kbd/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-10-14T21:30:44Z", "updated_at": "2020-12-30T00:50:46Z", "closed_at": "2020-12-30T00:50:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\r\n$ vd --version\r\nsaul.pw/VisiData v2.0.1\r\n```\r\n\r\nAfter executing:\r\n\r\n```\r\n$ vd postgres://user@localhost:port/database --postgres-schema=schema\r\n```\r\n\r\nI get a correct list of the tables, but when I hit enter to view a table VisiData shows no data and I get the following error:\r\n\r\n> psycopg2.errors.InFailedSqlTransaction: current transaction is aborted, commands ignored until end of transaction block\r\n\r\n![Screen Shot 2020-10-14 at 3 20 38 PM](https://user-images.githubusercontent.com/728060/96046598-fe252b80-0e30-11eb-9ca4-9c468ee0919a.png)\r\n\r\nHere's the traceback:\r\n\r\n![Screen Shot 2020-10-14 at 3 23 46 PM](https://user-images.githubusercontent.com/728060/96046884-712ea200-0e31-11eb-99f0-1912db813281.png)\r\n\r\nI'm able to view the same tables using DBeaver with no problem.", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/727/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/727/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/723", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/723/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/723/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/723/events", "html_url": "https://github.com/saulpw/visidata/issues/723", "id": 720152106, "node_id": "MDU6SXNzdWU3MjAxNTIxMDY=", "number": 723, "title": "[savers] Tabulate savers all save same format", "user": {"login": "frosencrantz", "id": 631242, "node_id": "MDQ6VXNlcjYzMTI0Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/631242?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frosencrantz", "html_url": "https://github.com/frosencrantz", "followers_url": "https://api.github.com/users/frosencrantz/followers", "following_url": "https://api.github.com/users/frosencrantz/following{/other_user}", "gists_url": "https://api.github.com/users/frosencrantz/gists{/gist_id}", "starred_url": "https://api.github.com/users/frosencrantz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frosencrantz/subscriptions", "organizations_url": "https://api.github.com/users/frosencrantz/orgs", "repos_url": "https://api.github.com/users/frosencrantz/repos", "events_url": "https://api.github.com/users/frosencrantz/events{/privacy}", "received_events_url": "https://api.github.com/users/frosencrantz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-10-13T11:40:51Z", "updated_at": "2020-10-15T05:56:18Z", "closed_at": "2020-10-15T05:54:41Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nTabulate savers all save same format\r\n\r\n**Expected result**\r\nSavers save in named format\r\n\r\n**Actual result with screenshot**\r\n**Steps to reproduce with sample data and a .vd**\r\n\r\n```\r\nvd sample_data/benchmark.csv\r\n^S benchmark.plain\r\n```\r\nSave a file with the new tabulate formats.  benchmark.csv  to benchmark.plain\r\nThe format is not plain.\r\n\r\nIt looks like the bug is here: https://github.com/saulpw/visidata/blob/d67612c935bab59faea6e130af5d4d029e3c7c23/visidata/loaders/texttables.py#L15  because of https://bugs.python.org/issue13652\r\n\r\n**Additional context**\r\nPlease include the version of VisiData. 2.0.1\r\n\r\nWhile not the best place to say this: Congratulations on 2.0!!! Very excited to see the new version.\r\n\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/723/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/723/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/720", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/720/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/720/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/720/events", "html_url": "https://github.com/saulpw/visidata/issues/720", "id": 718968421, "node_id": "MDU6SXNzdWU3MTg5Njg0MjE=", "number": 720, "title": "`random-rows` command no longer available", "user": {"login": "jsvine", "id": 534702, "node_id": "MDQ6VXNlcjUzNDcwMg==", "avatar_url": "https://avatars.githubusercontent.com/u/534702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsvine", "html_url": "https://github.com/jsvine", "followers_url": "https://api.github.com/users/jsvine/followers", "following_url": "https://api.github.com/users/jsvine/following{/other_user}", "gists_url": "https://api.github.com/users/jsvine/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsvine/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsvine/subscriptions", "organizations_url": "https://api.github.com/users/jsvine/orgs", "repos_url": "https://api.github.com/users/jsvine/repos", "events_url": "https://api.github.com/users/jsvine/events{/privacy}", "received_events_url": "https://api.github.com/users/jsvine/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-10-12T00:55:48Z", "updated_at": "2020-10-12T07:16:40Z", "closed_at": "2020-10-12T01:15:05Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\n\r\nLongname command `random-rows` appears no longer to be available.\r\n\r\nMy guess is that this is because https://github.com/saulpw/visidata/blob/develop/visidata/max.py is not imported into the global namespace.\r\n\r\n**Expected result**\r\n\r\nUsers should be able to run `random-rows` command.\r\n\r\n**Actual result with screenshot**\r\n\r\nAfter raising the longname command prompt with `Space`, and then entering `random-rows`, the statusbar says the following:\r\n\r\n`1\u203a | no binding for random-rows | \"random-rows\"`\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n\r\nSee above.\r\n\r\n**Additional context**\r\n\r\nVisiData 2.-5dev, commit 0b206baa3aa8e0366b339bf7ae97f04b0d6db5bc\r\n\r\nSetup: MacOS, iTerm2, `tmux`, `bash`", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/720/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/720/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/718", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/718/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/718/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/718/events", "html_url": "https://github.com/saulpw/visidata/issues/718", "id": 718883844, "node_id": "MDU6SXNzdWU3MTg4ODM4NDQ=", "number": 718, "title": "Error/warning text on manpage", "user": {"login": "jsvine", "id": 534702, "node_id": "MDQ6VXNlcjUzNDcwMg==", "avatar_url": "https://avatars.githubusercontent.com/u/534702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsvine", "html_url": "https://github.com/jsvine", "followers_url": "https://api.github.com/users/jsvine/followers", "following_url": "https://api.github.com/users/jsvine/following{/other_user}", "gists_url": "https://api.github.com/users/jsvine/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsvine/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsvine/subscriptions", "organizations_url": "https://api.github.com/users/jsvine/orgs", "repos_url": "https://api.github.com/users/jsvine/repos", "events_url": "https://api.github.com/users/jsvine/events{/privacy}", "received_events_url": "https://api.github.com/users/jsvine/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-10-11T17:22:05Z", "updated_at": "2020-10-19T17:42:54Z", "closed_at": "2020-10-14T03:37:22Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\n\r\nWhen opening the manpage, I see the following error/warning text:\r\n\r\n```\r\nUsage: .No normal_text ... (#659)\r\nUsage: .No normal_text ... (#1126)\r\nmdoc warning: A .Bl directive has no matching .El (#1244)\r\n```\r\n\r\n**Expected result**\r\n\r\nNo error/warning text.\r\n\r\n**Actual result with screenshot**\r\n\r\n<img width=\"568\" alt=\"Screen Shot 2020-10-11 at 1 17 55 PM\" src=\"https://user-images.githubusercontent.com/534702/95685167-38d65c00-0bc4-11eb-9b51-265a726e9b6c.png\">\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n\r\nEither `vd --help` on command line, or `Ctrl-h` within VisiData.\r\n\r\n**Additional context**\r\n\r\nVisiData 2.-5dev, commit 0b206baa3aa8e0366b339bf7ae97f04b0d6db5bc\r\n\r\nSetup: MacOS, iTerm2, `tmux`, `bash`.\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/718/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/718/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/714", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/714/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/714/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/714/events", "html_url": "https://github.com/saulpw/visidata/issues/714", "id": 715449235, "node_id": "MDU6SXNzdWU3MTU0NDkyMzU=", "number": 714, "title": "[2-5] cursorColIndex does not provide accurate index", "user": {"login": "geekscrapy", "id": 11225502, "node_id": "MDQ6VXNlcjExMjI1NTAy", "avatar_url": "https://avatars.githubusercontent.com/u/11225502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geekscrapy", "html_url": "https://github.com/geekscrapy", "followers_url": "https://api.github.com/users/geekscrapy/followers", "following_url": "https://api.github.com/users/geekscrapy/following{/other_user}", "gists_url": "https://api.github.com/users/geekscrapy/gists{/gist_id}", "starred_url": "https://api.github.com/users/geekscrapy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geekscrapy/subscriptions", "organizations_url": "https://api.github.com/users/geekscrapy/orgs", "repos_url": "https://api.github.com/users/geekscrapy/repos", "events_url": "https://api.github.com/users/geekscrapy/events{/privacy}", "received_events_url": "https://api.github.com/users/geekscrapy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2020-10-06T08:14:48Z", "updated_at": "2020-10-11T02:26:37Z", "closed_at": "2020-10-11T02:23:58Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Description**\r\nWhen using `cursorColIndex` my instinct is that it should provide the column index. It seems to do this correctly unless the col is a keycol.\r\n\r\n**Scenario**\r\nYou have many columns, some of which are offscreen. You scroll to the right (previously off screen) and make a couple of these (previously) off screen columns, keycols.\r\n\r\n**Example**\r\nIf you use a command on one of these new keycols and the addColumn function sets the `index` arg like `addColumn(Column(), index=cursorColIndex+1)` (e.g. `addcol-expr`, or `capture-col`) - this new column gets created off screen, as (I think) the cursorColIndex is from the columns previous location, rather than its current (a key col). This makes the user think two questions:\r\n\r\n1. did I create the col successfully?\r\n2. where is my new column?\r\n\r\n**Expected result**\r\nIf I create new cols based off of keycols (I usually use keycols to highlight things of interest or so I can see particular values quickly), I also want to have any new cols that are created off of a keycol to be placed next to the keycol edge (basically as close to the original column as possible).\r\n\r\nI think this is low priority, but for new users this may create confusion (as it did for me recently) as they dont know if the column was created (if the original column wasn't in an on screen position), and if they even ran the command correctly.\r\n\r\n**Potential fixes**\r\n1. A quick fix for this might be to issue a vd.warning to highlight that a new col has been created offscreen\r\n2. have cursorColIndex reflect the true order of columns, including keycols", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/714/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/714/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/713", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/713/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/713/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/713/events", "html_url": "https://github.com/saulpw/visidata/issues/713", "id": 713412223, "node_id": "MDU6SXNzdWU3MTM0MTIyMjM=", "number": 713, "title": "[v2.-5dev] add-row in ThreadsSheet causes uncaught exception", "user": {"login": "geekscrapy", "id": 11225502, "node_id": "MDQ6VXNlcjExMjI1NTAy", "avatar_url": "https://avatars.githubusercontent.com/u/11225502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geekscrapy", "html_url": "https://github.com/geekscrapy", "followers_url": "https://api.github.com/users/geekscrapy/followers", "following_url": "https://api.github.com/users/geekscrapy/following{/other_user}", "gists_url": "https://api.github.com/users/geekscrapy/gists{/gist_id}", "starred_url": "https://api.github.com/users/geekscrapy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geekscrapy/subscriptions", "organizations_url": "https://api.github.com/users/geekscrapy/orgs", "repos_url": "https://api.github.com/users/geekscrapy/repos", "events_url": "https://api.github.com/users/geekscrapy/events{/privacy}", "received_events_url": "https://api.github.com/users/geekscrapy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-10-02T07:26:04Z", "updated_at": "2020-10-30T17:07:29Z", "closed_at": "2020-10-05T23:44:14Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "As per the title \ud83d\ude00\r\n\r\nI accidentally hit `a` and found this...", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/713/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/713/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/708", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/708/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/708/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/708/events", "html_url": "https://github.com/saulpw/visidata/issues/708", "id": 709901054, "node_id": "MDU6SXNzdWU3MDk5MDEwNTQ=", "number": 708, "title": "[v2.-5] Cannot save a list of **dates** or dict of **dates** to json", "user": {"login": "anjakefala", "id": 7489659, "node_id": "MDQ6VXNlcjc0ODk2NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/7489659?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anjakefala", "html_url": "https://github.com/anjakefala", "followers_url": "https://api.github.com/users/anjakefala/followers", "following_url": "https://api.github.com/users/anjakefala/following{/other_user}", "gists_url": "https://api.github.com/users/anjakefala/gists{/gist_id}", "starred_url": "https://api.github.com/users/anjakefala/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anjakefala/subscriptions", "organizations_url": "https://api.github.com/users/anjakefala/orgs", "repos_url": "https://api.github.com/users/anjakefala/repos", "events_url": "https://api.github.com/users/anjakefala/events{/privacy}", "received_events_url": "https://api.github.com/users/anjakefala/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-09-28T03:28:18Z", "updated_at": "2020-09-28T05:06:21Z", "closed_at": "2020-09-28T05:06:15Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "**Steps to reproduce with sample data and a .vd**\r\nOpen `benchmark.csv`.\r\nUse `@` to make the `Date` column a **date** type.\r\nUse `=` followed by *[Date]* to place it in a list.\r\nTry to save to *benchmark.json*.\r\n\r\n**Additional context**\r\nv2.-5\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/708/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/708/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/700", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/700/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/700/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/700/events", "html_url": "https://github.com/saulpw/visidata/issues/700", "id": 702174289, "node_id": "MDU6SXNzdWU3MDIxNzQyODk=", "number": 700, "title": "[develop] There should be one CommandLog entry per command executed", "user": {"login": "anjakefala", "id": 7489659, "node_id": "MDQ6VXNlcjc0ODk2NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/7489659?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anjakefala", "html_url": "https://github.com/anjakefala", "followers_url": "https://api.github.com/users/anjakefala/followers", "following_url": "https://api.github.com/users/anjakefala/following{/other_user}", "gists_url": "https://api.github.com/users/anjakefala/gists{/gist_id}", "starred_url": "https://api.github.com/users/anjakefala/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anjakefala/subscriptions", "organizations_url": "https://api.github.com/users/anjakefala/orgs", "repos_url": "https://api.github.com/users/anjakefala/repos", "events_url": "https://api.github.com/users/anjakefala/events{/privacy}", "received_events_url": "https://api.github.com/users/anjakefala/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "anjakefala", "id": 7489659, "node_id": "MDQ6VXNlcjc0ODk2NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/7489659?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anjakefala", "html_url": "https://github.com/anjakefala", "followers_url": "https://api.github.com/users/anjakefala/followers", "following_url": "https://api.github.com/users/anjakefala/following{/other_user}", "gists_url": "https://api.github.com/users/anjakefala/gists{/gist_id}", "starred_url": "https://api.github.com/users/anjakefala/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anjakefala/subscriptions", "organizations_url": "https://api.github.com/users/anjakefala/orgs", "repos_url": "https://api.github.com/users/anjakefala/repos", "events_url": "https://api.github.com/users/anjakefala/events{/privacy}", "received_events_url": "https://api.github.com/users/anjakefala/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "anjakefala", "id": 7489659, "node_id": "MDQ6VXNlcjc0ODk2NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/7489659?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anjakefala", "html_url": "https://github.com/anjakefala", "followers_url": "https://api.github.com/users/anjakefala/followers", "following_url": "https://api.github.com/users/anjakefala/following{/other_user}", "gists_url": "https://api.github.com/users/anjakefala/gists{/gist_id}", "starred_url": "https://api.github.com/users/anjakefala/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anjakefala/subscriptions", "organizations_url": "https://api.github.com/users/anjakefala/orgs", "repos_url": "https://api.github.com/users/anjakefala/repos", "events_url": "https://api.github.com/users/anjakefala/events{/privacy}", "received_events_url": "https://api.github.com/users/anjakefala/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-09-15T18:56:32Z", "updated_at": "2020-09-27T04:01:49Z", "closed_at": "2020-09-27T04:01:42Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "**Small description**\r\nAs a result of this commit: https://github.com/saulpw/visidata/commit/7b01e98c923b8bca2c297e85cc0f892b92f84b02 Using `exec-longname` results in the command executed having multiple entries in the **CommandLog**.\r\n\r\nThe problem is understood, but the approach needs to be figured out. We do not want complex commands to have undos missing, and we want only one entry in the **CommandLog** per command.\r\n\r\n**Additional context**\r\nThe develop branch\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/700/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/700/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/691", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/691/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/691/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/691/events", "html_url": "https://github.com/saulpw/visidata/issues/691", "id": 700482583, "node_id": "MDU6SXNzdWU3MDA0ODI1ODM=", "number": 691, "title": "[DirSheet sort] Sorting the directory column of a DirSheet causes a stack trace.", "user": {"login": "frosencrantz", "id": 631242, "node_id": "MDQ6VXNlcjYzMTI0Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/631242?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frosencrantz", "html_url": "https://github.com/frosencrantz", "followers_url": "https://api.github.com/users/frosencrantz/followers", "following_url": "https://api.github.com/users/frosencrantz/following{/other_user}", "gists_url": "https://api.github.com/users/frosencrantz/gists{/gist_id}", "starred_url": "https://api.github.com/users/frosencrantz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frosencrantz/subscriptions", "organizations_url": "https://api.github.com/users/frosencrantz/orgs", "repos_url": "https://api.github.com/users/frosencrantz/repos", "events_url": "https://api.github.com/users/frosencrantz/events{/privacy}", "received_events_url": "https://api.github.com/users/frosencrantz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-09-13T03:57:48Z", "updated_at": "2020-09-21T01:20:30Z", "closed_at": "2020-09-15T01:29:37Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "\r\n**Small description**\r\nUsing the '[' or ']' on the directory column in a DirSheet causes a stack trace.\r\n\r\n**Expected result**\r\nColumn sorted by directory name.\r\n\r\n**Actual result with screenshot**\r\nhttps://asciinema.org/a/FJrrGuR3HWWBRbp57OFFxpdKK\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3.8/site-packages/visidata/sort.py\", line 58, in sort\r\n    self.rows.sort(key=sortkey)\r\n  File \"/usr/lib/python3.8/site-packages/visidata/sort.py\", line 38, in __lt__\r\n    return other.obj < self.obj\r\nTypeError: '<' not supported between instances of 'str' and 'Path'\r\n```\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n`vd -r .`\r\ntap '[' or ']' in the directory column\r\n\r\n**Additional context**\r\nPlease include the version of VisiData. Latest develop version.\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/691/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/691/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/690", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/690/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/690/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/690/events", "html_url": "https://github.com/saulpw/visidata/issues/690", "id": 700482559, "node_id": "MDU6SXNzdWU3MDA0ODI1NTk=", "number": 690, "title": "[binning] Stack trace when numeric binning vlen column", "user": {"login": "frosencrantz", "id": 631242, "node_id": "MDQ6VXNlcjYzMTI0Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/631242?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frosencrantz", "html_url": "https://github.com/frosencrantz", "followers_url": "https://api.github.com/users/frosencrantz/followers", "following_url": "https://api.github.com/users/frosencrantz/following{/other_user}", "gists_url": "https://api.github.com/users/frosencrantz/gists{/gist_id}", "starred_url": "https://api.github.com/users/frosencrantz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frosencrantz/subscriptions", "organizations_url": "https://api.github.com/users/frosencrantz/orgs", "repos_url": "https://api.github.com/users/frosencrantz/repos", "events_url": "https://api.github.com/users/frosencrantz/events{/privacy}", "received_events_url": "https://api.github.com/users/frosencrantz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-09-13T03:57:44Z", "updated_at": "2020-09-21T01:21:12Z", "closed_at": "2020-09-14T01:33:31Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nStack trace when numeric binning vlen column\r\n\r\n**Expected result**\r\nCreates a binned frequency table\r\n\r\n**Actual result with screenshot**\r\nhttps://asciinema.org/a/6yN4Bjy1mqpIBPHw0UYygYuYL\r\n```\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3.8/site-packages/visidata/threads.py\", line 207, in _toplevelTryFunc\r\n    t.status = func(*args, **kwargs)\r\n  File \"/usr/lib/python3.8/site-packages/visidata/pivot.py\", line 203, in groupRows\r\n    numericGroupRows = {formatRange(numericCols[0], numRange): PivotGroupRow(discreteKeys, numRange, [], {}) for numRange in numericBins}\r\n  File \"/usr/lib/python3.8/site-packages/visidata/pivot.py\", line 203, in <dictcomp>\r\n    numericGroupRows = {formatRange(numericCols[0], numRange): PivotGroupRow(discreteKeys, numRange, [], {}) for numRange in numericBins}\r\n  File \"/usr/lib/python3.8/site-packages/visidata/pivot.py\", line 25, in formatRange\r\n    nankey = makeErrorKey(col)\r\n  File \"/usr/lib/python3.8/site-packages/visidata/pivot.py\", line 21, in makeErrorKey\r\n    return col.type()\r\nTypeError: __new__() missing 1 required positional argument: 'v'\r\n```\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n```\r\n$ vd  -g --numeric-binning benchmark.csv\r\n```\r\n\r\n```\r\nsheet\tcol\trow\tlongname\tinput\tkeystrokes\tcomment\r\n\t\t\topen-file\tbenchmark.csv\to\t\r\nbenchmark\tCustomer\t\ttype-len\t\tz#\tset type of current column to len\r\nbenchmark\tCustomer\t\tfreq-col\t\tF\topen Frequency Table grouped on current column, with aggregations of other columns\r\n```\r\n\r\n**Additional context**\r\nPlease include the version of VisiData.  Latest develop version.\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/690/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/690/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/686", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/686/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/686/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/686/events", "html_url": "https://github.com/saulpw/visidata/issues/686", "id": 696683227, "node_id": "MDU6SXNzdWU2OTY2ODMyMjc=", "number": 686, "title": "[v2.-5dev] pyobj-row on freq sheet throws error", "user": {"login": "geekscrapy", "id": 11225502, "node_id": "MDQ6VXNlcjExMjI1NTAy", "avatar_url": "https://avatars.githubusercontent.com/u/11225502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geekscrapy", "html_url": "https://github.com/geekscrapy", "followers_url": "https://api.github.com/users/geekscrapy/followers", "following_url": "https://api.github.com/users/geekscrapy/following{/other_user}", "gists_url": "https://api.github.com/users/geekscrapy/gists{/gist_id}", "starred_url": "https://api.github.com/users/geekscrapy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geekscrapy/subscriptions", "organizations_url": "https://api.github.com/users/geekscrapy/orgs", "repos_url": "https://api.github.com/users/geekscrapy/repos", "events_url": "https://api.github.com/users/geekscrapy/events{/privacy}", "received_events_url": "https://api.github.com/users/geekscrapy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-09-09T10:13:05Z", "updated_at": "2020-09-12T01:56:20Z", "closed_at": "2020-09-12T01:56:14Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "To reproduce:\r\n\r\n1. Create a frequency sheet\r\n2. Run command `pyobj-row`\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/Users/geekscrapy/Documents/pyv/py3.7/lib/python3.7/site-packages/visidata/basesheet.py\", line 132, in execCommand\r\n    exec(code, vdglobals, LazyChainMap(vd, self))\r\n  File \"pyobj-row\", line 1, in <module>\r\n    import math\r\n  File \"/Users/geekscrapy/Documents/pyv/py3.7/lib/python3.7/site-packages/visidata/pyobj.py\", line 125, in push_pyobj\r\n    vs = load_pyobj(name, source=pyobj)\r\n  File \"/Users/geekscrapy/Documents/pyv/py3.7/lib/python3.7/site-packages/visidata/vdobj.py\", line 37, in _vdfunc\r\n    return func(visidata.vd, *args, **kwargs)\r\n  File \"/Users/geekscrapy/Documents/pyv/py3.7/lib/python3.7/site-packages/visidata/pyobj.py\", line 140, in load_pyobj\r\n    return SheetNamedTuple(*names, **kwargs)\r\nTypeError: __init__() missing 1 required positional argument: 'src'\r\n```", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/686/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/686/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/681", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/681/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/681/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/681/events", "html_url": "https://github.com/saulpw/visidata/issues/681", "id": 694118372, "node_id": "MDU6SXNzdWU2OTQxMTgzNzI=", "number": 681, "title": "[paste column] Better feedback from setcol-clipboard", "user": {"login": "frosencrantz", "id": 631242, "node_id": "MDQ6VXNlcjYzMTI0Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/631242?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frosencrantz", "html_url": "https://github.com/frosencrantz", "followers_url": "https://api.github.com/users/frosencrantz/followers", "following_url": "https://api.github.com/users/frosencrantz/following{/other_user}", "gists_url": "https://api.github.com/users/frosencrantz/gists{/gist_id}", "starred_url": "https://api.github.com/users/frosencrantz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frosencrantz/subscriptions", "organizations_url": "https://api.github.com/users/frosencrantz/orgs", "repos_url": "https://api.github.com/users/frosencrantz/repos", "events_url": "https://api.github.com/users/frosencrantz/events{/privacy}", "received_events_url": "https://api.github.com/users/frosencrantz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 469750830, "node_id": "MDU6TGFiZWw0Njk3NTA4MzA=", "url": "https://api.github.com/repos/saulpw/visidata/labels/wishlist", "name": "wishlist", "color": "84b6eb", "default": false, "description": ""}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-09-05T16:21:06Z", "updated_at": "2020-10-19T16:17:36Z", "closed_at": "2020-10-19T08:32:01Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I didn't read the documentation and Visidata didn't offer helpful hints.\r\n\r\nI tried to copy the contents of one column from one table to another, and it didn't work.\r\nI thought I had a bug, but it was PEBCAK. I missed that setcol-clipboard requires a selection to paste into.\r\nI tried pasting without a selection, since that is my mental model of how paste works.\r\n\r\nVisidata could have been more helpful here.  Visidata happily let me paste without any rows selected.\r\n\r\nSo this is my feature request.\r\n\r\n   1. Allow pasting from the current cell down the column, add empty rows, if there are not enough rows. No selection required\r\n\r\nIf you think the current behavior is correct, Visidata could have been more helpful.\r\n\r\n  1. If the selection doesn't match the size of the column clipboard, report the size difference via status, and\r\n  give helpful statuses for these different cases:\r\n     1. No selection: setcol-clipoard requires a selection\r\n     2. Selection is smaller than the clipboard: not all values will be pasted.\r\n     3. Selection is larger than the clipboard: values will be pasted more than once.\r\n\r\nRight now it only reports if a value was pasted, for each value pasted.  It doesn't give much help other than that.\r\nShowing attempts to paste with those three cases now:\r\nhttps://asciinema.org/a/nI1LrotEsBNZ2ZlzIe5KmPbGa\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/681/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/681/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/680", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/680/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/680/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/680/events", "html_url": "https://github.com/saulpw/visidata/issues/680", "id": 694098433, "node_id": "MDU6SXNzdWU2OTQwOTg0MzM=", "number": 680, "title": "Error when loading .xlsx sheets with empty column names for non-empty columns", "user": {"login": "jsvine", "id": 534702, "node_id": "MDQ6VXNlcjUzNDcwMg==", "avatar_url": "https://avatars.githubusercontent.com/u/534702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsvine", "html_url": "https://github.com/jsvine", "followers_url": "https://api.github.com/users/jsvine/followers", "following_url": "https://api.github.com/users/jsvine/following{/other_user}", "gists_url": "https://api.github.com/users/jsvine/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsvine/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsvine/subscriptions", "organizations_url": "https://api.github.com/users/jsvine/orgs", "repos_url": "https://api.github.com/users/jsvine/repos", "events_url": "https://api.github.com/users/jsvine/events{/privacy}", "received_events_url": "https://api.github.com/users/jsvine/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-09-05T14:35:59Z", "updated_at": "2020-09-06T12:36:08Z", "closed_at": "2020-09-06T04:26:25Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\n\r\nCurrently on the `develop` branch (9f5411d), `.xlsx` sheets with empty/`None` column names for non-empty columns do not load properly.\r\n\r\nAs a demonstration, see these these two files: \r\n\r\n- [example-good.xlsx](https://github.com/saulpw/visidata/files/5178199/example-good.xlsx)\r\n- [example-bad.xlsx](https://github.com/saulpw/visidata/files/5178198/example-bad.xlsx)\r\n\r\nThe `good` version loads as expected. In Excel/LibreOffice, it has a single sheet, which looks like this:\r\n\r\n```\r\nCity      State\r\n--------  ----------\r\nNew York  New York\r\nSeattle   Washington\r\n```\r\n\r\nIn Excel/LibreOffice, the `bad` version is identical, except that the second column has no name:\r\n\r\n```\r\nCity      \r\n--------  ----------\r\nNew York  New York\r\nSeattle   Washington\r\n```\r\n\r\n**Expected result**\r\n\r\nI would expect that the `bad` version would load fine in VisiData, as it has in previous versions.\r\n\r\n**Actual result with screenshot**\r\n\r\nInstead, the result of loading the file is this:\r\n\r\n```\r\n sheet  \u2551 nRows#| nCols#\u2551\r\n Sheet1 \u2551     0 |     1 \u2551\r\n```\r\n\r\n... accompanied by this error:\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"[...]/visidata/threads.py\", line 207, in _toplevelTryFunc\r\n    t.status = func(*args, **kwargs)\r\n  File \"[...]/visidata/sheets.py\", line 878, in reload\r\n    self.setCols(list(self.optlines(itsource, 'header')))\r\n  File \"[...]/visidata/sheets.py\", line 845, in setCols\r\n    self.addColumn(ColumnItem(''.join(colnamelines), i))\r\nTypeError: sequence item 0: expected str instance, NoneType found\r\n```\r\n\r\nVia git-bisect, this bug appears to have been introduced in https://github.com/saulpw/visidata/commit/bbbdd42dabd663691a720218d57e9887d0a5ef63; the `bad` example loads as expected until this commit. That seems to make sense, given the traceback, but I don't think I know the motivation of the commit (or the surrounding architecture) well enough to suggest a fix.\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n\r\nNo command log necessary, I don't think. Just `vd example-bad.xlsx` should reproduce the issue.\r\n\r\n**Additional context**\r\n\r\nVisiData version v2.-5dev, 9f5411d\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/680/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/680/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/679", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/679/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/679/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/679/events", "html_url": "https://github.com/saulpw/visidata/issues/679", "id": 692095558, "node_id": "MDU6SXNzdWU2OTIwOTU1NTg=", "number": 679, "title": "Uncaught exception if splitwin-swap, -g and --debug is used when only one sheet in stack", "user": {"login": "geekscrapy", "id": 11225502, "node_id": "MDQ6VXNlcjExMjI1NTAy", "avatar_url": "https://avatars.githubusercontent.com/u/11225502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geekscrapy", "html_url": "https://github.com/geekscrapy", "followers_url": "https://api.github.com/users/geekscrapy/followers", "following_url": "https://api.github.com/users/geekscrapy/following{/other_user}", "gists_url": "https://api.github.com/users/geekscrapy/gists{/gist_id}", "starred_url": "https://api.github.com/users/geekscrapy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geekscrapy/subscriptions", "organizations_url": "https://api.github.com/users/geekscrapy/orgs", "repos_url": "https://api.github.com/users/geekscrapy/repos", "events_url": "https://api.github.com/users/geekscrapy/events{/privacy}", "received_events_url": "https://api.github.com/users/geekscrapy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-09-03T16:02:12Z", "updated_at": "2020-09-04T03:00:19Z", "closed_at": "2020-09-04T03:00:11Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nWhen `-g` and `--debug` are used as cli args and there is only one sheet in the stack, and `splitwin-swap`/`TAB` is commanded/pressed, a critical, uncaught exception is raised and `vd` exits.\r\n\r\n**Expected result**\r\nFor a status to show stating `IndexError: list index out of range` like normal. \r\n\r\n**Actual result with screenshot**\r\nException is below\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/Users/geekscrapy/Documents/pyv/py3.7/bin/vd\", line 6, in <module>\r\n    visidata.main.vd_cli()\r\n  File \"/Users/geekscrapy/Documents/pyv/py3.7/lib/python3.7/site-packages/visidata/main.py\", line 291, in vd_cli\r\n    rc = main_vd()\r\n  File \"/Users/geekscrapy/Documents/pyv/py3.7/lib/python3.7/site-packages/visidata/main.py\", line 257, in main_vd\r\n    run(vd.sheets[0])\r\n  File \"/Users/geekscrapy/Documents/pyv/py3.7/lib/python3.7/site-packages/visidata/mainloop.py\", line 224, in run\r\n    ret = wrapper(cursesMain, sheetlist)\r\n  File \"/Users/geekscrapy/Documents/pyv/py3.7/lib/python3.7/site-packages/visidata/mainloop.py\", line 214, in wrapper\r\n    return curses.wrapper(setupcolors, f, *args)\r\n  File \"/usr/local/Cellar/python@3.7/3.7.5/Frameworks/Python.framework/Versions/3.7/lib/python3.7/curses/__init__.py\", line 105, in wrapper\r\n    return func(stdscr, *args, **kwds)\r\n  File \"/Users/geekscrapy/Documents/pyv/py3.7/lib/python3.7/site-packages/visidata/mainloop.py\", line 211, in setupcolors\r\n    return f(stdscr, *args)\r\n  File \"/Users/geekscrapy/Documents/pyv/py3.7/lib/python3.7/site-packages/visidata/mainloop.py\", line 238, in cursesMain\r\n    return vd.mainloop(_scr)\r\n  File \"/Users/geekscrapy/Documents/pyv/py3.7/lib/python3.7/site-packages/visidata/mainloop.py\", line 177, in mainloop\r\n    sheet.execCommand(self.keystrokes, keystrokes=self.keystrokes)\r\n  File \"/Users/geekscrapy/Documents/pyv/py3.7/lib/python3.7/site-packages/visidata/basesheet.py\", line 138, in execCommand\r\n    err = vd.exceptionCaught(e)\r\n  File \"/Users/geekscrapy/Documents/pyv/py3.7/lib/python3.7/site-packages/visidata/basesheet.py\", line 132, in execCommand\r\n    exec(code, vdglobals, LazyChainMap(vd, self))\r\n  File \"splitwin-swap\", line 1, in <module>\r\nIndexError: list index out of range\r\n```", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/679/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/679/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/677", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/677/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/677/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/677/events", "html_url": "https://github.com/saulpw/visidata/issues/677", "id": 691480190, "node_id": "MDU6SXNzdWU2OTE0ODAxOTA=", "number": 677, "title": "Incorrect date conversions", "user": {"login": "suntzuisafterU", "id": 32152921, "node_id": "MDQ6VXNlcjMyMTUyOTIx", "avatar_url": "https://avatars.githubusercontent.com/u/32152921?v=4", "gravatar_id": "", "url": "https://api.github.com/users/suntzuisafterU", "html_url": "https://github.com/suntzuisafterU", "followers_url": "https://api.github.com/users/suntzuisafterU/followers", "following_url": "https://api.github.com/users/suntzuisafterU/following{/other_user}", "gists_url": "https://api.github.com/users/suntzuisafterU/gists{/gist_id}", "starred_url": "https://api.github.com/users/suntzuisafterU/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/suntzuisafterU/subscriptions", "organizations_url": "https://api.github.com/users/suntzuisafterU/orgs", "repos_url": "https://api.github.com/users/suntzuisafterU/repos", "events_url": "https://api.github.com/users/suntzuisafterU/events{/privacy}", "received_events_url": "https://api.github.com/users/suntzuisafterU/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2196368436, "node_id": "MDU6TGFiZWwyMTk2MzY4NDM2", "url": "https://api.github.com/repos/saulpw/visidata/labels/wish%20granted", "name": "wish granted", "color": "dfccff", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 16, "created_at": "2020-09-02T22:34:46Z", "updated_at": "2021-05-17T07:11:30Z", "closed_at": "2020-10-11T08:57:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "First I would like to say thank you so much for this software, it has revolutionized the way I work.\r\n\r\n**Small description**\r\nWhen converting dates of the form dd-mm-yyyy with the `@` command, conversion is incorrect.\r\nFor example 08-02-2020 becomes 2020-08-02 which is mixing up the day and month; \r\nwhile            16-02-2020 becomes 2020-02-16 which is correct;\r\n\r\nThese values are all in the same column, as such should be converted with a homogeneous date format.\r\n\r\n**Expected result**\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\ncsv:\r\n```\r\ndate\r\n08-02-2020\r\n16-02-2020\r\n```\r\n\r\n.vd:\r\n```\r\nsheet   col     row     longname        input   keystrokes      comment\r\n                        open-file       vd_issue_sample.csv     o\r\nvd_issue_sample date            type-date               @\r\n```\r\n\r\n**Additional context**\r\nVisidata v1.5.2\r\nUbuntu 20 installation.\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/677/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/677/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/676", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/676/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/676/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/676/events", "html_url": "https://github.com/saulpw/visidata/issues/676", "id": 690881389, "node_id": "MDU6SXNzdWU2OTA4ODEzODk=", "number": 676, "title": "[v2.5] gO throws uncaught error", "user": {"login": "geekscrapy", "id": 11225502, "node_id": "MDQ6VXNlcjExMjI1NTAy", "avatar_url": "https://avatars.githubusercontent.com/u/11225502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geekscrapy", "html_url": "https://github.com/geekscrapy", "followers_url": "https://api.github.com/users/geekscrapy/followers", "following_url": "https://api.github.com/users/geekscrapy/following{/other_user}", "gists_url": "https://api.github.com/users/geekscrapy/gists{/gist_id}", "starred_url": "https://api.github.com/users/geekscrapy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geekscrapy/subscriptions", "organizations_url": "https://api.github.com/users/geekscrapy/orgs", "repos_url": "https://api.github.com/users/geekscrapy/repos", "events_url": "https://api.github.com/users/geekscrapy/events{/privacy}", "received_events_url": "https://api.github.com/users/geekscrapy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-09-02T09:50:10Z", "updated_at": "2020-09-04T02:05:41Z", "closed_at": "2020-09-04T02:05:34Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nIf I open any sheet and `gO` I get the error below. I have tried this whilst my plugins are disabled and get the same.\r\n\r\n**Expected result**\r\nFor the exception to be caught within vd (and shown in `vd.status`)\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n- `vd .`\r\n- type `gO`\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/Users/geekscrapy/Documents/pyv/py3/bin/vd\", line 6, in <module>\r\n    visidata.main.vd_cli()\r\n  File \"/Users/geekscrapy/Documents/pyv/py3/lib/python3.7/site-packages/visidata/main.py\", line 291, in vd_cli\r\n    rc = main_vd()\r\n  File \"/Users/geekscrapy/Documents/pyv/py3/lib/python3.7/site-packages/visidata/main.py\", line 257, in main_vd\r\n    run(vd.sheets[0])\r\n  File \"/Users/geekscrapy/Documents/pyv/py3/lib/python3.7/site-packages/visidata/mainloop.py\", line 224, in run\r\n    ret = wrapper(cursesMain, sheetlist)\r\n  File \"/Users/geekscrapy/Documents/pyv/py3/lib/python3.7/site-packages/visidata/mainloop.py\", line 214, in wrapper\r\n    return curses.wrapper(setupcolors, f, *args)\r\n  File \"/usr/local/Cellar/python@3.7/3.7.8_1/Frameworks/Python.framework/Versions/3.7/lib/python3.7/curses/__init__.py\", line 102, in wrapper\r\n    return func(stdscr, *args, **kwds)\r\n  File \"/Users/geekscrapy/Documents/pyv/py3/lib/python3.7/site-packages/visidata/mainloop.py\", line 211, in setupcolors\r\n    return f(stdscr, *args)\r\n  File \"/Users/geekscrapy/Documents/pyv/py3/lib/python3.7/site-packages/visidata/mainloop.py\", line 238, in cursesMain\r\n    return vd.mainloop(_scr)\r\n  File \"/Users/geekscrapy/Documents/pyv/py3/lib/python3.7/site-packages/visidata/mainloop.py\", line 177, in mainloop\r\n    sheet.execCommand(self.keystrokes, keystrokes=self.keystrokes)\r\n  File \"/Users/geekscrapy/Documents/pyv/py3/lib/python3.7/site-packages/visidata/basesheet.py\", line 138, in execCommand\r\n    err = vd.exceptionCaught(e)\r\n  File \"/Users/geekscrapy/Documents/pyv/py3/lib/python3.7/site-packages/visidata/basesheet.py\", line 132, in execCommand\r\n    exec(code, vdglobals, LazyChainMap(vd, self))\r\n  File \"open-config\", line 1, in <module>\r\n  File \"/Users/geekscrapy/Documents/pyv/py3/lib/python3.7/site-packages/visidata/data.py\", line 188, in open_txt\r\n    with p.open_text() as fp:\r\nAttributeError: 'str' object has no attribute 'open_text'\r\n```", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/676/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/676/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/675", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/675/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/675/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/675/events", "html_url": "https://github.com/saulpw/visidata/issues/675", "id": 689046544, "node_id": "MDU6SXNzdWU2ODkwNDY1NDQ=", "number": 675, "title": "null data in input describe sheet", "user": {"login": "aborruso", "id": 30607, "node_id": "MDQ6VXNlcjMwNjA3", "avatar_url": "https://avatars.githubusercontent.com/u/30607?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aborruso", "html_url": "https://github.com/aborruso", "followers_url": "https://api.github.com/users/aborruso/followers", "following_url": "https://api.github.com/users/aborruso/following{/other_user}", "gists_url": "https://api.github.com/users/aborruso/gists{/gist_id}", "starred_url": "https://api.github.com/users/aborruso/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aborruso/subscriptions", "organizations_url": "https://api.github.com/users/aborruso/orgs", "repos_url": "https://api.github.com/users/aborruso/repos", "events_url": "https://api.github.com/users/aborruso/events{/privacy}", "received_events_url": "https://api.github.com/users/aborruso/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2020-08-31T09:04:32Z", "updated_at": "2020-09-14T18:45:49Z", "closed_at": "2020-09-13T00:10:46Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hi,\r\nI have VisiData v2.-5dev.\r\n\r\nStarting from this input file\r\n\r\n```\r\na,b\r\n,3\r\n1,2\r\n,4\r\n5,5\r\n```\r\n\r\nwhen I open it, and then run `shift + i` I have \r\n\r\n|column  |errors  |nulls  |distinct  |mode  |min  |max  |sum  |median  |mean  |stdev  |\r\n|--------|-------:|------:|---------:|------|-----|-----|-----|--------|-----:|------:|\r\n|a       |0       |0      |3         |      |     |     |     |        |      |       |\r\n|b       |0       |0      |4         |\\#ERR |     |     |     |        |      |       |\r\n\r\nWhy do I have no nulls? If I add `--null-value=\"\"` option I have the same output.\r\n\r\nThank you", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/675/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/675/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/674", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/674/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/674/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/674/events", "html_url": "https://github.com/saulpw/visidata/issues/674", "id": 688922473, "node_id": "MDU6SXNzdWU2ODg5MjI0NzM=", "number": 674, "title": "Standard \"--version\" option removed in version 2?", "user": {"login": "mlawren", "id": 82904, "node_id": "MDQ6VXNlcjgyOTA0", "avatar_url": "https://avatars.githubusercontent.com/u/82904?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mlawren", "html_url": "https://github.com/mlawren", "followers_url": "https://api.github.com/users/mlawren/followers", "following_url": "https://api.github.com/users/mlawren/following{/other_user}", "gists_url": "https://api.github.com/users/mlawren/gists{/gist_id}", "starred_url": "https://api.github.com/users/mlawren/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mlawren/subscriptions", "organizations_url": "https://api.github.com/users/mlawren/orgs", "repos_url": "https://api.github.com/users/mlawren/repos", "events_url": "https://api.github.com/users/mlawren/events{/privacy}", "received_events_url": "https://api.github.com/users/mlawren/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-08-31T05:46:45Z", "updated_at": "2020-09-21T03:14:49Z", "closed_at": "2020-08-31T07:22:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Small description**\r\n\r\nThe \"--version\" option is fairly standard for command-line tools, is present in the stable version of Visidata (1.5.2?), but is not present or functioning properly in version 2.-4.\r\n\r\n**Expected result**\r\n\r\n    $ vd --version\r\n    saul.pw/VisiData v2.-4\r\n\r\n**Actual result with screenshot**\r\n\r\nRunning \"vd --version\" has the same behaviour as if \"--version\" was not used at all. I.e. \"DirSheet for the current directory....\"", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/674/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/674/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/671", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/671/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/671/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/671/events", "html_url": "https://github.com/saulpw/visidata/issues/671", "id": 688466983, "node_id": "MDU6SXNzdWU2ODg0NjY5ODM=", "number": 671, "title": "Error trying to connect to MariaDB", "user": {"login": "mappum", "id": 398285, "node_id": "MDQ6VXNlcjM5ODI4NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/398285?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mappum", "html_url": "https://github.com/mappum", "followers_url": "https://api.github.com/users/mappum/followers", "following_url": "https://api.github.com/users/mappum/following{/other_user}", "gists_url": "https://api.github.com/users/mappum/gists{/gist_id}", "starred_url": "https://api.github.com/users/mappum/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mappum/subscriptions", "organizations_url": "https://api.github.com/users/mappum/orgs", "repos_url": "https://api.github.com/users/mappum/repos", "events_url": "https://api.github.com/users/mappum/events{/privacy}", "received_events_url": "https://api.github.com/users/mappum/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-08-29T05:50:14Z", "updated_at": "2020-09-21T03:15:01Z", "closed_at": "2020-08-29T06:13:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Small description**\r\nI'm trying to use visidata with my MariaDB but it errors on connect.\r\n\r\n**Expected result**\r\nIt should open visidata with the DB data.\r\n\r\n**Actual result with screenshot**\r\n![](https://i.imgur.com/Sp5xWbS.png)\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\nSee above.\r\n\r\n**Additional context**\r\nVisidata version: `saul.pw/VisiData v1.5.2` (installed via `pip3`)\r\nMariaDB version: `mariadb  Ver 15.1 Distrib 10.5.4-MariaDB, for debian-linux-gnu (x86_64) using readline 5.2`\r\n\r\nI followed the instructions and installed `mysqlclient` through `pip3`.\r\n\r\nLooking forward to playing with visidata!", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/671/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/671/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/668", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/668/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/668/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/668/events", "html_url": "https://github.com/saulpw/visidata/issues/668", "id": 684047754, "node_id": "MDU6SXNzdWU2ODQwNDc3NTQ=", "number": 668, "title": "[expand-cols undo] undo does not consistently work for expand-cols", "user": {"login": "frosencrantz", "id": 631242, "node_id": "MDQ6VXNlcjYzMTI0Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/631242?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frosencrantz", "html_url": "https://github.com/frosencrantz", "followers_url": "https://api.github.com/users/frosencrantz/followers", "following_url": "https://api.github.com/users/frosencrantz/following{/other_user}", "gists_url": "https://api.github.com/users/frosencrantz/gists{/gist_id}", "starred_url": "https://api.github.com/users/frosencrantz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frosencrantz/subscriptions", "organizations_url": "https://api.github.com/users/frosencrantz/orgs", "repos_url": "https://api.github.com/users/frosencrantz/repos", "events_url": "https://api.github.com/users/frosencrantz/events{/privacy}", "received_events_url": "https://api.github.com/users/frosencrantz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-08-22T19:09:36Z", "updated_at": "2020-09-27T04:02:43Z", "closed_at": "2020-09-27T04:02:33Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nUndo doesn't always work with expand-cols, and can leave columns behind.\r\n\r\n**Expected result**\r\nExpanded columns are contracted.\r\n\r\n**Actual result with screenshot**\r\nhttps://asciinema.org/a/AoxbEyqboRGYNTfcx5MfsoSm6\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n\r\nThe issue seems to happen when many columns are created:\r\n```\r\njo a=$(jo -a {1..35}) b=$(jo -a {1..100}) | vd -f json\r\n```\r\nexpand-cols g(\r\nthen undo\r\n\r\ncontract-col seems to work much better.\r\n\r\n**Additional context**\r\nPlease include the version of VisiData. Latest version of develop.\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/668/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/668/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/667", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/667/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/667/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/667/events", "html_url": "https://github.com/saulpw/visidata/issues/667", "id": 684047748, "node_id": "MDU6SXNzdWU2ODQwNDc3NDg=", "number": 667, "title": "[pyobj-cell]  Trying to pyobj-cell on a list stack traces", "user": {"login": "frosencrantz", "id": 631242, "node_id": "MDQ6VXNlcjYzMTI0Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/631242?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frosencrantz", "html_url": "https://github.com/frosencrantz", "followers_url": "https://api.github.com/users/frosencrantz/followers", "following_url": "https://api.github.com/users/frosencrantz/following{/other_user}", "gists_url": "https://api.github.com/users/frosencrantz/gists{/gist_id}", "starred_url": "https://api.github.com/users/frosencrantz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frosencrantz/subscriptions", "organizations_url": "https://api.github.com/users/frosencrantz/orgs", "repos_url": "https://api.github.com/users/frosencrantz/repos", "events_url": "https://api.github.com/users/frosencrantz/events{/privacy}", "received_events_url": "https://api.github.com/users/frosencrantz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-08-22T19:09:33Z", "updated_at": "2020-08-28T03:35:04Z", "closed_at": "2020-08-28T03:34:56Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\n[pyobj-cell]  Trying to pyobj-cell on a list stack traces\r\n\r\n**Expected result**\r\nDives into list.\r\n\r\n\r\n**Actual result with screenshot**\r\n\r\nhttps://asciinema.org/a/uxKjWFMGdGcBgMlOy9upipihc\r\n```\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3.8/site-packages/visidata/basesheet.py\", line 132, in execCommand\r\n    exec(code, vdglobals, LazyChainMap(vd, self))\r\n  File \"pyobj-cell\", line 1, in <module>\r\n    import math\r\n  File \"/usr/lib/python3.8/site-packages/visidata/pyobj.py\", line 125, in push_pyobj\r\n    vs = load_pyobj(name, source=pyobj)\r\n  File \"/usr/lib/python3.8/site-packages/visidata/vdobj.py\", line 37, in _vdfunc\r\n    return func(visidata.vd, *args, **kwargs)\r\n  File \"/usr/lib/python3.8/site-packages/visidata/pyobj.py\", line 142, in load_pyobj\r\n    return SheetList(*names, **kwargs)\r\nTypeError: SheetList() missing 1 required positional argument: 'src'\r\n```\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n\r\n```\r\necho '[[1,2,3]]' | vd -f json\r\n```\r\nType z Ctrl-Y  pyobj-cell\r\n\r\n\r\n**Additional context**\r\nPlease include the version of VisiData. Latest version from develop branch\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/667/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/667/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/663", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/663/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/663/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/663/events", "html_url": "https://github.com/saulpw/visidata/issues/663", "id": 679638823, "node_id": "MDU6SXNzdWU2Nzk2Mzg4MjM=", "number": 663, "title": "JSON list/dict expansion only expands items present in current row", "user": {"login": "lxcode", "id": 1959603, "node_id": "MDQ6VXNlcjE5NTk2MDM=", "avatar_url": "https://avatars.githubusercontent.com/u/1959603?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lxcode", "html_url": "https://github.com/lxcode", "followers_url": "https://api.github.com/users/lxcode/followers", "following_url": "https://api.github.com/users/lxcode/following{/other_user}", "gists_url": "https://api.github.com/users/lxcode/gists{/gist_id}", "starred_url": "https://api.github.com/users/lxcode/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lxcode/subscriptions", "organizations_url": "https://api.github.com/users/lxcode/orgs", "repos_url": "https://api.github.com/users/lxcode/repos", "events_url": "https://api.github.com/users/lxcode/events{/privacy}", "received_events_url": "https://api.github.com/users/lxcode/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-08-15T20:41:56Z", "updated_at": "2020-08-16T18:53:12Z", "closed_at": "2020-08-16T18:52:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "When analyzing Twitter JSON, there is an \"entities\" object that can variably contain urls, hashtags, or user mentions. When expanding columns in this data, only the types included in the current row are expanded. \r\n\r\nFor example, if the \"entities\" column of the selected row has hashtags present but no urls, new columns are created for hashtags. Columns are never created for the rows in which \"entities\" does contain urls.\r\n\r\nAdditionally, only the number of elements present in the selected row is expanded \u2014 for example, if there is an object with an array of 2 hashtags, only two columns are created, and rows with 4 hashtags will not have their latter two displayed.\r\n\r\n**Expected result**\r\n\r\nAll elements of \"entities\" in all rows are unnested.\r\n\r\n**Actual result with screenshot**\r\nExpanding \"entities\" with the first row selected:\r\n\r\n<img width=\"821\" alt=\"Screen Shot 2020-08-15 at 13 35 34\" src=\"https://user-images.githubusercontent.com/1959603/90321232-a172c680-defc-11ea-8a1f-ca7126e9e3e9.png\">\r\n\r\nExpanding with second row selected:\r\n\r\n<img width=\"1428\" alt=\"Screen Shot 2020-08-15 at 13 36 12\" src=\"https://user-images.githubusercontent.com/1959603/90321231-a0da3000-defc-11ea-8485-096fe7ed573e.png\">\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\nTwitter developer agreement actually prevents me from distributing the data, but here is a sample json blob from their docs:\r\n\r\n[sample.txt](https://github.com/saulpw/visidata/files/5079410/sample.txt)\r\n\r\n**Additional context**\r\nVersion 1.5.2 via Homebrew\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/663/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/663/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/658", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/658/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/658/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/658/events", "html_url": "https://github.com/saulpw/visidata/issues/658", "id": 675752533, "node_id": "MDU6SXNzdWU2NzU3NTI1MzM=", "number": 658, "title": "[preplay] The preplay flag is looking for the wrong command (no binding for command)", "user": {"login": "frosencrantz", "id": 631242, "node_id": "MDQ6VXNlcjYzMTI0Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/631242?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frosencrantz", "html_url": "https://github.com/frosencrantz", "followers_url": "https://api.github.com/users/frosencrantz/followers", "following_url": "https://api.github.com/users/frosencrantz/following{/other_user}", "gists_url": "https://api.github.com/users/frosencrantz/gists{/gist_id}", "starred_url": "https://api.github.com/users/frosencrantz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frosencrantz/subscriptions", "organizations_url": "https://api.github.com/users/frosencrantz/orgs", "repos_url": "https://api.github.com/users/frosencrantz/repos", "events_url": "https://api.github.com/users/frosencrantz/events{/privacy}", "received_events_url": "https://api.github.com/users/frosencrantz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-08-09T18:55:49Z", "updated_at": "2020-08-15T06:24:26Z", "closed_at": "2020-08-11T04:26:44Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nvd -P command-name  doesn't work\r\n\r\n**Expected result**\r\nThe -P flag runs the command listed.\r\n\r\n**Actual result with screenshot**\r\nhttps://asciinema.org/a/exF54SsNFfmfxZFE4AmEQBviB\r\nDashes are replaced with underscores.\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n\r\n```\r\nvd -P=help-commands-all\r\n```\r\n**Additional context**\r\nPlease include the version of VisiData. latest from develop\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/658/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/658/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/657", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/657/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/657/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/657/events", "html_url": "https://github.com/saulpw/visidata/issues/657", "id": 675361743, "node_id": "MDU6SXNzdWU2NzUzNjE3NDM=", "number": 657, "title": "[cli options v2.-4] --opt=value replaces `-` with `_` in value", "user": {"login": "forensicdave", "id": 7690349, "node_id": "MDQ6VXNlcjc2OTAzNDk=", "avatar_url": "https://avatars.githubusercontent.com/u/7690349?v=4", "gravatar_id": "", "url": "https://api.github.com/users/forensicdave", "html_url": "https://github.com/forensicdave", "followers_url": "https://api.github.com/users/forensicdave/followers", "following_url": "https://api.github.com/users/forensicdave/following{/other_user}", "gists_url": "https://api.github.com/users/forensicdave/gists{/gist_id}", "starred_url": "https://api.github.com/users/forensicdave/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/forensicdave/subscriptions", "organizations_url": "https://api.github.com/users/forensicdave/orgs", "repos_url": "https://api.github.com/users/forensicdave/repos", "events_url": "https://api.github.com/users/forensicdave/events{/privacy}", "received_events_url": "https://api.github.com/users/forensicdave/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-08-08T00:03:21Z", "updated_at": "2020-09-21T03:15:21Z", "closed_at": "2020-08-08T23:57:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Small description**\r\nWeird one - I can open up utf-16 encoded file with Visidata 2.3:   v'd --encoding=utf-16 file.csv' is Good. But updating to 2.4 and it fails.\r\nIt also fails in the develop branch.\r\n\r\n**Expected result**\r\nShould open the file ok. (have attached sample utf-16 csv file)\r\n\r\n**Actual result with screenshot**\r\n\r\nI've attached a sample utf-16 file.\r\n\r\nReproduce by:\r\npip3 install git+https://github.com/saulpw/visidata@v2.-4.0\r\nvisidata --encoding=utf-16 sample.csv\r\n(for me: ~/.local/bin/visidata --encoding=utf-16 sample.csv   )\r\n\r\nGives me this error:\r\n![image](https://user-images.githubusercontent.com/7690349/89696971-6cdf9780-d95d-11ea-9a35-2d659fbca846.png)\r\n\r\nStack trace:\r\n![image](https://user-images.githubusercontent.com/7690349/89697000-854fb200-d95d-11ea-8745-932122452c1d.png)\r\n\r\n\r\nIf you get an unexpected error, please include the full stack trace that you get with `Ctrl-E`.\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\nPlease attach the commandlog (saved with `Ctrl-D`) to show the steps that led to the issue.\r\nSee [here](http://visidata.org/docs/save-restore/) for more details.\r\n\r\n\r\nCommand log:\r\n\r\n![image](https://user-images.githubusercontent.com/7690349/89697031-a6b09e00-d95d-11ea-8d4c-c92f4a969f3f.png)\r\n\r\n\r\n\r\n**Additional context**\r\nPlease include the version of VisiData.\r\n\r\nThis happens on visidata 2.4 and above but not 2.3\r\n\r\nSample utf-16 csv is attached (it has been renamed as .txt to allow upload)\r\n\r\nThanks guys too - this is an amazing piece of work!!\r\n\r\n\r\n[sample.csv.txt](https://github.com/saulpw/visidata/files/5044345/sample.csv.txt)\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/657/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/657/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/651", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/651/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/651/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/651/events", "html_url": "https://github.com/saulpw/visidata/issues/651", "id": 667085841, "node_id": "MDU6SXNzdWU2NjcwODU4NDE=", "number": 651, "title": "[2.4][aggregator] Cannot create custom aggregator in .rc", "user": {"login": "geekscrapy", "id": 11225502, "node_id": "MDQ6VXNlcjExMjI1NTAy", "avatar_url": "https://avatars.githubusercontent.com/u/11225502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geekscrapy", "html_url": "https://github.com/geekscrapy", "followers_url": "https://api.github.com/users/geekscrapy/followers", "following_url": "https://api.github.com/users/geekscrapy/following{/other_user}", "gists_url": "https://api.github.com/users/geekscrapy/gists{/gist_id}", "starred_url": "https://api.github.com/users/geekscrapy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geekscrapy/subscriptions", "organizations_url": "https://api.github.com/users/geekscrapy/orgs", "repos_url": "https://api.github.com/users/geekscrapy/repos", "events_url": "https://api.github.com/users/geekscrapy/events{/privacy}", "received_events_url": "https://api.github.com/users/geekscrapy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-07-28T13:44:42Z", "updated_at": "2020-07-29T05:28:24Z", "closed_at": "2020-07-28T23:02:05Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nI'm trying to create a custom aggregator as a plugin (standard deviation, 1/2/3)\r\n\r\n**Expected result**\r\nAbility to use my custom aggregator in vd\r\n\r\n**Actual result with screenshot**\r\nMy aggregator does not show up in the available options when using `+`\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\nUse the following lines in .visidatarc\r\n```\r\nfrom visidata import *\r\naggregator('stdev', sum)\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/651/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/651/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/646", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/646/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/646/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/646/events", "html_url": "https://github.com/saulpw/visidata/issues/646", "id": 665670080, "node_id": "MDU6SXNzdWU2NjU2NzAwODA=", "number": 646, "title": "[livesearch plugin] Livesearch plugin doesn't fully clear screen during search", "user": {"login": "frosencrantz", "id": 631242, "node_id": "MDQ6VXNlcjYzMTI0Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/631242?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frosencrantz", "html_url": "https://github.com/frosencrantz", "followers_url": "https://api.github.com/users/frosencrantz/followers", "following_url": "https://api.github.com/users/frosencrantz/following{/other_user}", "gists_url": "https://api.github.com/users/frosencrantz/gists{/gist_id}", "starred_url": "https://api.github.com/users/frosencrantz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frosencrantz/subscriptions", "organizations_url": "https://api.github.com/users/frosencrantz/orgs", "repos_url": "https://api.github.com/users/frosencrantz/repos", "events_url": "https://api.github.com/users/frosencrantz/events{/privacy}", "received_events_url": "https://api.github.com/users/frosencrantz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-07-25T22:21:16Z", "updated_at": "2020-12-05T22:33:22Z", "closed_at": "2020-12-03T09:08:32Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nThe livesearch plugin no longer fully clears the screen during search.\r\n\r\n**Expected result**\r\nRows not matching the current search term are not shown\r\n\r\n**Actual result with screenshot**\r\nShown here https://asciinema.org/a/TG75hDQ1LhCZ4YEVf6JHTLVwY\r\n\r\n**Additional context**\r\nPlease include the version of VisiData. Latest version from develop.\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/646/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/646/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/643", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/643/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/643/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/643/events", "html_url": "https://github.com/saulpw/visidata/issues/643", "id": 664272150, "node_id": "MDU6SXNzdWU2NjQyNzIxNTA=", "number": 643, "title": "[v2.-4dev] expanding a large list freezes interface", "user": {"login": "geekscrapy", "id": 11225502, "node_id": "MDQ6VXNlcjExMjI1NTAy", "avatar_url": "https://avatars.githubusercontent.com/u/11225502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geekscrapy", "html_url": "https://github.com/geekscrapy", "followers_url": "https://api.github.com/users/geekscrapy/followers", "following_url": "https://api.github.com/users/geekscrapy/following{/other_user}", "gists_url": "https://api.github.com/users/geekscrapy/gists{/gist_id}", "starred_url": "https://api.github.com/users/geekscrapy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geekscrapy/subscriptions", "organizations_url": "https://api.github.com/users/geekscrapy/orgs", "repos_url": "https://api.github.com/users/geekscrapy/repos", "events_url": "https://api.github.com/users/geekscrapy/events{/privacy}", "received_events_url": "https://api.github.com/users/geekscrapy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-07-23T07:52:56Z", "updated_at": "2020-07-23T21:25:48Z", "closed_at": "2020-07-23T21:25:48Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nI had a list that I accidentally tried to expand (500k items....). I couldn't cancel with Ctrl+C and no feedback was given to the user\r\n\r\n**Expected result**\r\nTo not freeze the interface and be given feedback to when it might finish (progress)\r\n\r\nI also wonder, are columns added iteratively or are they added at once all-together once the calculation has finished?", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/643/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/643/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/642", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/642/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/642/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/642/events", "html_url": "https://github.com/saulpw/visidata/issues/642", "id": 664132857, "node_id": "MDU6SXNzdWU2NjQxMzI4NTc=", "number": 642, "title": "[v2.-4] filetype not showing up in sheet-specific options.", "user": {"login": "anjakefala", "id": 7489659, "node_id": "MDQ6VXNlcjc0ODk2NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/7489659?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anjakefala", "html_url": "https://github.com/anjakefala", "followers_url": "https://api.github.com/users/anjakefala/followers", "following_url": "https://api.github.com/users/anjakefala/following{/other_user}", "gists_url": "https://api.github.com/users/anjakefala/gists{/gist_id}", "starred_url": "https://api.github.com/users/anjakefala/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anjakefala/subscriptions", "organizations_url": "https://api.github.com/users/anjakefala/orgs", "repos_url": "https://api.github.com/users/anjakefala/repos", "events_url": "https://api.github.com/users/anjakefala/events{/privacy}", "received_events_url": "https://api.github.com/users/anjakefala/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-07-23T00:48:20Z", "updated_at": "2020-07-23T21:59:32Z", "closed_at": "2020-07-23T21:50:42Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Conversation about this behaviour is here: https://github.com/saulpw/visidata/issues/573#issuecomment-662589852\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/642/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/642/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/641", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/641/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/641/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/641/events", "html_url": "https://github.com/saulpw/visidata/issues/641", "id": 664118730, "node_id": "MDU6SXNzdWU2NjQxMTg3MzA=", "number": 641, "title": "\"could not find terminal\" in pycharm python console when using vd.view_pandas(df)", "user": {"login": "manihamidi", "id": 15459064, "node_id": "MDQ6VXNlcjE1NDU5MDY0", "avatar_url": "https://avatars.githubusercontent.com/u/15459064?v=4", "gravatar_id": "", "url": "https://api.github.com/users/manihamidi", "html_url": "https://github.com/manihamidi", "followers_url": "https://api.github.com/users/manihamidi/followers", "following_url": "https://api.github.com/users/manihamidi/following{/other_user}", "gists_url": "https://api.github.com/users/manihamidi/gists{/gist_id}", "starred_url": "https://api.github.com/users/manihamidi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/manihamidi/subscriptions", "organizations_url": "https://api.github.com/users/manihamidi/orgs", "repos_url": "https://api.github.com/users/manihamidi/repos", "events_url": "https://api.github.com/users/manihamidi/events{/privacy}", "received_events_url": "https://api.github.com/users/manihamidi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2020-07-22T23:57:25Z", "updated_at": "2020-07-27T18:07:01Z", "closed_at": "2020-07-24T20:42:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Small description**\r\n\r\nlove the `vd.view_pandas(df)` functionality and works perfectly in iPython, however there seems to be a slight incompatibility with the pycharm python console. \r\n\r\n**Actual result with screenshot**\r\n\r\n```\r\nimport visidata as vd\r\nvd.view_pandas(df)\r\nTraceback (most recent call last):\r\n  File \"/home/me/.local/share/virtualenvs/code-gCh16mu5/lib/python3.8/site-packages/IPython/core/interactiveshell.py\", line 3343, in run_code\r\n    exec(code_obj, self.user_global_ns, self.user_ns)\r\n  File \"<ipython-input-75-839e95a99395>\", line 1, in <module>\r\n    vd.view_pandas(df_filtered)\r\n  File \"/home/me/.local/share/virtualenvs/code-gCh16mu5/lib/python3.8/site-packages/visidata/loaders/_pandas.py\", line 44, in view_pandas\r\n    run(PandasSheet('', source=df))\r\n  File \"/home/me/.local/share/virtualenvs/code-gCh16mu5/lib/python3.8/site-packages/visidata/vdtui.py\", line 2841, in run\r\n    ret = wrapper(cursesMain, sheetlist)\r\n  File \"/home/me/.local/share/virtualenvs/code-gCh16mu5/lib/python3.8/site-packages/visidata/vdtui.py\", line 2831, in wrapper\r\n    return curses.wrapper(setupcolors, f, *args)\r\n  File \"/home/me/.pyenv/versions/3.8.3/lib/python3.8/curses/__init__.py\", line 84, in wrapper\r\n    stdscr = initscr()\r\n  File \"/home/me/.pyenv/versions/3.8.3/lib/python3.8/curses/__init__.py\", line 29, in initscr\r\n    setupterm(term=_os.environ.get(\"TERM\", \"unknown\"),\r\n_curses.error: setupterm: could not find terminal\r\n```\r\n\r\n**Additional context**\r\n\r\n* The \"use iPython when available\" box is checked in `Settings > Build, Execution, Deployment > Console` panel. \r\n* Information provided by the pycharm python console at the very top when you open it: \r\n\r\n```\r\nPython 3.8.3 (default, Jun 24 2020, 18:02:19) \r\nType 'copyright', 'credits' or 'license' for more information\r\nIPython 7.16.1 -- An enhanced Interactive Python. Type '?' for help.\r\nPyDev console: using IPython 7.16.1\r\n```\r\n\r\n* vd version: 1.5.2\r\n\r\nAny tips on how to solve would be appreciated!\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/641/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/641/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/640", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/640/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/640/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/640/events", "html_url": "https://github.com/saulpw/visidata/issues/640", "id": 663904664, "node_id": "MDU6SXNzdWU2NjM5MDQ2NjQ=", "number": 640, "title": "[v2.-4dev] Issues with sliding columns", "user": {"login": "geekscrapy", "id": 11225502, "node_id": "MDQ6VXNlcjExMjI1NTAy", "avatar_url": "https://avatars.githubusercontent.com/u/11225502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geekscrapy", "html_url": "https://github.com/geekscrapy", "followers_url": "https://api.github.com/users/geekscrapy/followers", "following_url": "https://api.github.com/users/geekscrapy/following{/other_user}", "gists_url": "https://api.github.com/users/geekscrapy/gists{/gist_id}", "starred_url": "https://api.github.com/users/geekscrapy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geekscrapy/subscriptions", "organizations_url": "https://api.github.com/users/geekscrapy/orgs", "repos_url": "https://api.github.com/users/geekscrapy/repos", "events_url": "https://api.github.com/users/geekscrapy/events{/privacy}", "received_events_url": "https://api.github.com/users/geekscrapy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}, {"id": 2196368436, "node_id": "MDU6TGFiZWwyMTk2MzY4NDM2", "url": "https://api.github.com/repos/saulpw/visidata/labels/wish%20granted", "name": "wish granted", "color": "dfccff", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2020-07-22T16:47:38Z", "updated_at": "2020-12-01T12:07:16Z", "closed_at": "2020-09-30T04:13:34Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "From @anjakefala \r\n\r\n\r\n> Two issues:\r\n- [x] Key columns cannot be re-arranged.\r\n- [x] When a regular column reaches into the key column space, with `slide-left`, it can snap back to its starting position. It should just remain to the right of the key column space.\r\n>\r\n> This issue will be closed after both of these are investigated. Attempting a fix is preferable, but if a fix is too tricky, then this will be documented in /limits before closure.", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/640/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/640/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/638", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/638/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/638/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/638/events", "html_url": "https://github.com/saulpw/visidata/issues/638", "id": 662444952, "node_id": "MDU6SXNzdWU2NjI0NDQ5NTI=", "number": 638, "title": "Alt key being reassigned on exit. [mlterm]", "user": {"login": "peterjschroeder", "id": 10292399, "node_id": "MDQ6VXNlcjEwMjkyMzk5", "avatar_url": "https://avatars.githubusercontent.com/u/10292399?v=4", "gravatar_id": "", "url": "https://api.github.com/users/peterjschroeder", "html_url": "https://github.com/peterjschroeder", "followers_url": "https://api.github.com/users/peterjschroeder/followers", "following_url": "https://api.github.com/users/peterjschroeder/following{/other_user}", "gists_url": "https://api.github.com/users/peterjschroeder/gists{/gist_id}", "starred_url": "https://api.github.com/users/peterjschroeder/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/peterjschroeder/subscriptions", "organizations_url": "https://api.github.com/users/peterjschroeder/orgs", "repos_url": "https://api.github.com/users/peterjschroeder/repos", "events_url": "https://api.github.com/users/peterjschroeder/events{/privacy}", "received_events_url": "https://api.github.com/users/peterjschroeder/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2101517149, "node_id": "MDU6TGFiZWwyMTAxNTE3MTQ5", "url": "https://api.github.com/repos/saulpw/visidata/labels/can't%20reproduce", "name": "can't reproduce", "color": "f2712b", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2020-07-21T01:17:43Z", "updated_at": "2022-01-04T23:46:25Z", "closed_at": "2020-07-21T05:50:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Small description**\r\nWhen exiting visidata in mlterm, the ALT key is being reassigned in the terminal for all other apps until closing the terminal.\r\n\r\n**Expected result**\r\nFor it to not do that.\r\n\r\n**Actual result with screenshot**\r\nshowkey shows this for \"Alt+2\" before i start visidata.\r\n\r\n^[2      27 0033 0x1b\r\n         50 0062 0x32\r\n\r\nAfter exiting, showkey shows this for \"Alt+2\"\r\n\r\n\u00b2       194 0302 0xc2\r\n        178 0262 0xb2\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\nOpen terminal, open sheet with visidata, exit visidata.\r\n\r\n**Additional context**\r\nVisiData v1.5.2\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/638/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/638/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/637", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/637/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/637/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/637/events", "html_url": "https://github.com/saulpw/visidata/issues/637", "id": 661645784, "node_id": "MDU6SXNzdWU2NjE2NDU3ODQ=", "number": 637, "title": "[v2.-4dev] NameError: name 'mouseX' is not defined when replaying commands", "user": {"login": "geekscrapy", "id": 11225502, "node_id": "MDQ6VXNlcjExMjI1NTAy", "avatar_url": "https://avatars.githubusercontent.com/u/11225502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geekscrapy", "html_url": "https://github.com/geekscrapy", "followers_url": "https://api.github.com/users/geekscrapy/followers", "following_url": "https://api.github.com/users/geekscrapy/following{/other_user}", "gists_url": "https://api.github.com/users/geekscrapy/gists{/gist_id}", "starred_url": "https://api.github.com/users/geekscrapy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geekscrapy/subscriptions", "organizations_url": "https://api.github.com/users/geekscrapy/orgs", "repos_url": "https://api.github.com/users/geekscrapy/repos", "events_url": "https://api.github.com/users/geekscrapy/events{/privacy}", "received_events_url": "https://api.github.com/users/geekscrapy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2020-07-20T10:20:16Z", "updated_at": "2020-07-24T04:26:23Z", "closed_at": "2020-07-24T04:26:23Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nI saved the command log for a session in order to be able to save the progress I had made on modifying a file without exporting it again (basically so I would be able to keep keycols, py objects etc. rather than converting to text). I attempted to use `--play` against the original file however I got the following error, and the play command halted:\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/Users/Documents/pyv/py3/lib/python3.7/site-packages/visidata/basesheet.py\", line 127, in execCommand\r\n    exec(code, vdglobals, LazyChainMap(vd, self))\r\n  File \"release-mouse\", line 1, in <module>\r\n    import math\r\nNameError: name 'mouseX' is not defined\r\n```\r\n\r\n**Expected result**\r\nTo be able to open the same source file, replay old commands and be back where I saved the command log\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\nall.vd\r\n```\r\nsheet\tcol\trow\tlongname\tinput\tkeystrokes\tcomment\r\n\tSqliteSheet\theader\tset-option\t0\t\t\r\n\tUsvSheet\tdelimiter\tset-option\t\u241e\t\t\r\n\tUsvSheet\trow_delimiter\tset-option\t\u241f\t\t\r\n\toverride\tdisp_date_fmt\tset-option\t%Y-%m-%d %H:%M:%S\t\t\r\n\t\t\topen-file\ta.csv\to\t\r\na\tc\t0\trelease-mouse\t\tBUTTON1_RELEASED\tslide current row/column to mouse cursor release position\r\n```\r\n\r\na.csv\r\n```\r\na,b,c\r\n1,2,3\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/637/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/637/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/633", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/633/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/633/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/633/events", "html_url": "https://github.com/saulpw/visidata/issues/633", "id": 658646055, "node_id": "MDU6SXNzdWU2NTg2NDYwNTU=", "number": 633, "title": "can't open pandas dataframe from ipython: module 'visidata' has no attribute 'view_pandas'", "user": {"login": "manihamidi", "id": 15459064, "node_id": "MDQ6VXNlcjE1NDU5MDY0", "avatar_url": "https://avatars.githubusercontent.com/u/15459064?v=4", "gravatar_id": "", "url": "https://api.github.com/users/manihamidi", "html_url": "https://github.com/manihamidi", "followers_url": "https://api.github.com/users/manihamidi/followers", "following_url": "https://api.github.com/users/manihamidi/following{/other_user}", "gists_url": "https://api.github.com/users/manihamidi/gists{/gist_id}", "starred_url": "https://api.github.com/users/manihamidi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/manihamidi/subscriptions", "organizations_url": "https://api.github.com/users/manihamidi/orgs", "repos_url": "https://api.github.com/users/manihamidi/repos", "events_url": "https://api.github.com/users/manihamidi/events{/privacy}", "received_events_url": "https://api.github.com/users/manihamidi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2101517149, "node_id": "MDU6TGFiZWwyMTAxNTE3MTQ5", "url": "https://api.github.com/repos/saulpw/visidata/labels/can't%20reproduce", "name": "can't reproduce", "color": "f2712b", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-07-16T23:01:38Z", "updated_at": "2020-07-17T19:57:04Z", "closed_at": "2020-07-17T19:37:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "thanks for this fantastic tool @saulpw. \r\n\r\n**Small description**\r\n\r\nAttempted to load pandas dataframe from ipython `visidata.view_pandas(df)` per [instructions 6 and 7 in \"10 Ways to use visidata\"](https://www.visidata.org/blog/2020/ten/) but got `AttributeError: module 'visidata' has no attribute 'view_pandas'`. \r\n\r\n**Expected result**\r\n\r\nOpen the dataframe in visidata. \r\n\r\n**Actual result with screenshot**\r\n\r\n```\r\nPython 3.6.9 (default, Apr 18 2020, 01:56:04) \r\nType 'copyright', 'credits' or 'license' for more information\r\nIPython 7.15.0 -- An enhanced Interactive Python. Type '?' for help.\r\n\r\nIn [1]: import visidata, pandas as pd                                           \r\n\r\nIn [2]: iris = pd.read_csv('https://raw.githubusercontent.com/mwaskom/seaborn-da\r\n   ...: ta/master/iris.csv')                                                    \r\n\r\nIn [3]: visidata.view(iris)                                                     \r\n---------------------------------------------------------------------------\r\nAttributeError                            Traceback (most recent call last)\r\n<ipython-input-3-8ea6af1676b1> in <module>\r\n----> 1 visidata.view(iris)\r\n\r\nAttributeError: module 'visidata' has no attribute 'view'\r\n\r\nIn [4]: visidata.view_pandas(iris)                                              \r\n---------------------------------------------------------------------------\r\nAttributeError                            Traceback (most recent call last)\r\n<ipython-input-4-18b3d7650137> in <module>\r\n----> 1 visidata.view_pandas(iris)\r\n\r\nAttributeError: module 'visidata' has no attribute 'view_pandas'\r\n\r\n```\r\n\r\n**Additional context**\r\n\r\nI saw issue #470, wasn't sure what the latest state of affairs is with this particular use case. The iris dataframe I'm trying to load above is pretty vanilla and definitely doesn't have any multi-indexes or anything of the like. \r\n\r\nThanks!\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/633/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/633/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/631", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/631/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/631/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/631/events", "html_url": "https://github.com/saulpw/visidata/issues/631", "id": 655497146, "node_id": "MDU6SXNzdWU2NTU0OTcxNDY=", "number": 631, "title": "[transpose] Transpose stack traces when there is an int value in key column", "user": {"login": "frosencrantz", "id": 631242, "node_id": "MDQ6VXNlcjYzMTI0Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/631242?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frosencrantz", "html_url": "https://github.com/frosencrantz", "followers_url": "https://api.github.com/users/frosencrantz/followers", "following_url": "https://api.github.com/users/frosencrantz/following{/other_user}", "gists_url": "https://api.github.com/users/frosencrantz/gists{/gist_id}", "starred_url": "https://api.github.com/users/frosencrantz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frosencrantz/subscriptions", "organizations_url": "https://api.github.com/users/frosencrantz/orgs", "repos_url": "https://api.github.com/users/frosencrantz/repos", "events_url": "https://api.github.com/users/frosencrantz/events{/privacy}", "received_events_url": "https://api.github.com/users/frosencrantz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-07-12T23:27:37Z", "updated_at": "2020-07-17T19:59:58Z", "closed_at": "2020-07-15T06:44:04Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nTranspose stack traces with an int value in key column\r\n\r\n**Expected result**\r\nTranspose doesn't stack trace. Value is converted to string for new column name.\r\n\r\n**Actual result with screenshot**\r\n```\r\nTraceback (most recent call last):\r\n  File \"/usr/env/lib/python3.8/site-packages/visidata/threads.py\", line 207, in _toplevelTryFunc\r\n    t.status = func(*args, **kwargs)\r\n  File \"/usr/env/lib/python3.8/site-packages/visidata/transpose.py\", line 18, in reload\r\n    self.addColumn(Column('_'.join(self.source.rowkey(row)),\r\nTypeError: sequence item 0: expected str instance, int found\r\n```\r\n**Steps to reproduce with sample data and a .vd**\r\n```\r\ncat <<EOF >reproduce.vd\r\nsheet\tcol\trow\tlongname\tinput\tkeystrokes\tcomment\r\n\t\t\topen-file\t-\to\t\r\n-\ta\t\tkey-col\t\t!\ttoggle current column as a key column\r\n-\t\t\ttranspose\t\tT\topen new sheet with rows and columns transposed\r\nEOF\r\necho '{\"a\":1}' | vd -f json -p reproduce.vd\r\n```\r\n\r\n**Additional context**\r\nPlease include the version of VisiData. Latest version of develop\r\n\r\nThis is not that important to me.  I hit it, so reporting it.\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/631/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/631/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/630", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/630/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/630/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/630/events", "html_url": "https://github.com/saulpw/visidata/issues/630", "id": 655497129, "node_id": "MDU6SXNzdWU2NTU0OTcxMjk=", "number": 630, "title": "[deferred delete] Deferred delete doesn't delete all files requested", "user": {"login": "frosencrantz", "id": 631242, "node_id": "MDQ6VXNlcjYzMTI0Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/631242?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frosencrantz", "html_url": "https://github.com/frosencrantz", "followers_url": "https://api.github.com/users/frosencrantz/followers", "following_url": "https://api.github.com/users/frosencrantz/following{/other_user}", "gists_url": "https://api.github.com/users/frosencrantz/gists{/gist_id}", "starred_url": "https://api.github.com/users/frosencrantz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frosencrantz/subscriptions", "organizations_url": "https://api.github.com/users/frosencrantz/orgs", "repos_url": "https://api.github.com/users/frosencrantz/repos", "events_url": "https://api.github.com/users/frosencrantz/events{/privacy}", "received_events_url": "https://api.github.com/users/frosencrantz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2020-07-12T23:27:26Z", "updated_at": "2020-07-21T03:57:31Z", "closed_at": "2020-07-21T03:38:41Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nDeferred delete of files doesn't delete all files when committing sheet.\r\n\r\n**Expected result**\r\nAll files marked for deletion are deleted.\r\n\r\n**Actual result with screenshot**\r\nIt deletes all but one of the files.\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n```\r\ntouch a b\r\nvd .\r\n# delete both  files,\r\n# commit-sheet\r\n# vd will ask if you want to delete 2 files, say yes, \r\n# Only one file will be deleted\r\n```\r\n\r\n**Additional context**\r\nPlease include the version of VisiData.  Latest develop version.\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/630/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/630/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/629", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/629/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/629/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/629/events", "html_url": "https://github.com/saulpw/visidata/issues/629", "id": 655497081, "node_id": "MDU6SXNzdWU2NTU0OTcwODE=", "number": 629, "title": "[dir] Directory viewer stack traces when opening directory with an extension.", "user": {"login": "frosencrantz", "id": 631242, "node_id": "MDQ6VXNlcjYzMTI0Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/631242?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frosencrantz", "html_url": "https://github.com/frosencrantz", "followers_url": "https://api.github.com/users/frosencrantz/followers", "following_url": "https://api.github.com/users/frosencrantz/following{/other_user}", "gists_url": "https://api.github.com/users/frosencrantz/gists{/gist_id}", "starred_url": "https://api.github.com/users/frosencrantz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frosencrantz/subscriptions", "organizations_url": "https://api.github.com/users/frosencrantz/orgs", "repos_url": "https://api.github.com/users/frosencrantz/repos", "events_url": "https://api.github.com/users/frosencrantz/events{/privacy}", "received_events_url": "https://api.github.com/users/frosencrantz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-07-12T23:27:05Z", "updated_at": "2020-07-19T22:09:19Z", "closed_at": "2020-07-15T23:00:16Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nNo longer able to open directories with '.' in the name\r\n\r\n**Expected result**\r\nOpen directory\r\n\r\n**Actual result with screenshot**\r\nDirectory is not opened, and stack trace.\r\n\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\nLooks like one of the \"Two hard things in CS\"\r\n```\r\ntouch t.foo\r\nvd .\r\n```\r\nHit enter on t.foo\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3.8/site-packages/visidata/basesheet.py\", line 128, in execCommand\r\n    exec(code, vdglobals, LazyChainMap(vd, self))\r\n  File \"open-row\", line 1, in <module>\r\n    import math\r\n  File \"/usr/lib/python3.8/site-packages/visidata/data.py\", line 175, in openSource\r\n    vs = vs or vd.openPath(p, filetype=filetype)\r\n  File \"/usr/env/lib/python3.8/site-packages/visidata/data.py\", line 158, in openPath\r\n    return openfunc(p)\r\n  File \"//lib/python3.8/site-packages/visidata/data.py\", line 186, in open_txt\r\n    with p.open_text() as fp:\r\n  File \"/usr/lib/python3.8/site-packages/visidata/path.py\", line 117, in open_text\r\n    return self.open(mode=mode, encoding=options.encoding, errors=options.encoding_errors)\r\n  File \"/usr/lib/python3.8/site-packages/visidata/path.py\", line 139, in open\r\n    return self._path.open(*args, **kwargs)\r\n  File \"/usr/lib/python3.8/pathlib.py\", line 1218, in open\r\n    return io.open(self, mode, buffering, encoding, errors, newline,\r\nIsADirectoryError: [Errno 21] Is a directory: 't.foo'\r\n```\r\n**Additional context**\r\nPlease include the version of VisiData. Latest version of develop.\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/629/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/629/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/628", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/628/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/628/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/628/events", "html_url": "https://github.com/saulpw/visidata/issues/628", "id": 654810365, "node_id": "MDU6SXNzdWU2NTQ4MTAzNjU=", "number": 628, "title": "Trouble opening files (via command-line only) with spaces in the filename", "user": {"login": "jsvine", "id": 534702, "node_id": "MDQ6VXNlcjUzNDcwMg==", "avatar_url": "https://avatars.githubusercontent.com/u/534702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsvine", "html_url": "https://github.com/jsvine", "followers_url": "https://api.github.com/users/jsvine/followers", "following_url": "https://api.github.com/users/jsvine/following{/other_user}", "gists_url": "https://api.github.com/users/jsvine/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsvine/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsvine/subscriptions", "organizations_url": "https://api.github.com/users/jsvine/orgs", "repos_url": "https://api.github.com/users/jsvine/repos", "events_url": "https://api.github.com/users/jsvine/events{/privacy}", "received_events_url": "https://api.github.com/users/jsvine/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2101517149, "node_id": "MDU6TGFiZWwyMTAxNTE3MTQ5", "url": "https://api.github.com/repos/saulpw/visidata/labels/can't%20reproduce", "name": "can't reproduce", "color": "f2712b", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-07-10T14:11:25Z", "updated_at": "2020-07-17T20:00:11Z", "closed_at": "2020-07-11T11:03:09Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\n\r\nOn my computer (Mac OS) the edge version of VisiData (5b057274, but also previous `develop` versions) seems to bug out when I point `vd` (on the command line) at a file whose name contains a space character. It seems to think I am pointing it to two (or more, depending on the number of spaces) files, typically neither of which exist.\r\n\r\nOpening the same filename via `o` works fine, however.\r\n\r\n**Expected result**\r\n\r\n`vd` should be able to open files with spaces in their names :)\r\n\r\n**Actual result with screenshot**\r\n\r\nSee below.\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n\r\n```sh\r\necho \"z\" > \"My Test.csv\"\r\nvd \"My Test.csv\"\r\n```\r\n\r\nResult: `My does not exist, creating new sheet | Test.csv does not exist, creating new sheet`.\r\n\r\n<img width=\"635\" alt=\"Screen Shot 2020-07-10 at 10 09 17 AM\" src=\"https://user-images.githubusercontent.com/534702/87163506-79f16400-c295-11ea-865d-82d85fd9b871.png\">\r\n\r\n**Additional context**\r\n\r\nMac OS, VisiData 5b057274\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/628/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/628/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/621", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/621/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/621/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/621/events", "html_url": "https://github.com/saulpw/visidata/issues/621", "id": 650761145, "node_id": "MDU6SXNzdWU2NTA3NjExNDU=", "number": 621, "title": "[help keystrokes] Help keystrokes has longnames for about 20 commands", "user": {"login": "frosencrantz", "id": 631242, "node_id": "MDQ6VXNlcjYzMTI0Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/631242?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frosencrantz", "html_url": "https://github.com/frosencrantz", "followers_url": "https://api.github.com/users/frosencrantz/followers", "following_url": "https://api.github.com/users/frosencrantz/following{/other_user}", "gists_url": "https://api.github.com/users/frosencrantz/gists{/gist_id}", "starred_url": "https://api.github.com/users/frosencrantz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frosencrantz/subscriptions", "organizations_url": "https://api.github.com/users/frosencrantz/orgs", "repos_url": "https://api.github.com/users/frosencrantz/repos", "events_url": "https://api.github.com/users/frosencrantz/events{/privacy}", "received_events_url": "https://api.github.com/users/frosencrantz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "anjakefala", "id": 7489659, "node_id": "MDQ6VXNlcjc0ODk2NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/7489659?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anjakefala", "html_url": "https://github.com/anjakefala", "followers_url": "https://api.github.com/users/anjakefala/followers", "following_url": "https://api.github.com/users/anjakefala/following{/other_user}", "gists_url": "https://api.github.com/users/anjakefala/gists{/gist_id}", "starred_url": "https://api.github.com/users/anjakefala/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anjakefala/subscriptions", "organizations_url": "https://api.github.com/users/anjakefala/orgs", "repos_url": "https://api.github.com/users/anjakefala/repos", "events_url": "https://api.github.com/users/anjakefala/events{/privacy}", "received_events_url": "https://api.github.com/users/anjakefala/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "anjakefala", "id": 7489659, "node_id": "MDQ6VXNlcjc0ODk2NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/7489659?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anjakefala", "html_url": "https://github.com/anjakefala", "followers_url": "https://api.github.com/users/anjakefala/followers", "following_url": "https://api.github.com/users/anjakefala/following{/other_user}", "gists_url": "https://api.github.com/users/anjakefala/gists{/gist_id}", "starred_url": "https://api.github.com/users/anjakefala/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anjakefala/subscriptions", "organizations_url": "https://api.github.com/users/anjakefala/orgs", "repos_url": "https://api.github.com/users/anjakefala/repos", "events_url": "https://api.github.com/users/anjakefala/events{/privacy}", "received_events_url": "https://api.github.com/users/anjakefala/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 7, "created_at": "2020-07-03T20:45:01Z", "updated_at": "2020-08-15T06:24:15Z", "closed_at": "2020-08-10T04:59:05Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nKeystrokes in HelpSheet display commands not keystrokes for about 20 commands.\r\n\r\n**Expected result**\r\nKeystroke values\r\n\r\n**Actual result with screenshot**\r\n\r\nsheet\tlongname\tkeystrokes\r\nTableSheet\tgo-next-selected\tnext-selected\r\nTableSheet\tgo-prev-selected\tprev-selected\r\nTableSheet\tsetcol-clipboard\tpaste-cells\r\nTableSheet\tsearch-prev\tprev-search\r\nTableSheet\tsetcol-input\tedit-cells\r\nTableSheet\tsetcol-fill\tfill-nulls\r\nTableSheet\tgo-next-value\tnext-value\r\nTableSheet\tgo-right-page\tpage-right\r\nBaseSheet\tjump-prev\tprev-sheet\r\nTableSheet\tgo-prev-value\tprev-value\r\nBaseSheet\topen-new\tadd-sheet\r\nTableSheet\tgo-next-null\tnext-null\r\nTableSheet\tgo-left-page\tpage-left\r\nTableSheet\tgo-prev-null\tprev-null\r\nTableSheet\topen-row\tdive-row\r\nDirSheet\topen-row\tdive-row\r\nBaseSheet\topen-statuses\tstatuses\r\nCanvas\tzoomout-mouse\t2097152\r\nBaseSheet\tshow-status\tstatus\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\nVisit the help sheet, and look for the long commands above.\r\n\r\n**Additional context**\r\nPlease include the version of VisiData. Latest from develop\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/621/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/621/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/619", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/619/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/619/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/619/events", "html_url": "https://github.com/saulpw/visidata/issues/619", "id": 650761094, "node_id": "MDU6SXNzdWU2NTA3NjEwOTQ=", "number": 619, "title": "[wishlist] Do not expand strings when expanding lists", "user": {"login": "frosencrantz", "id": 631242, "node_id": "MDQ6VXNlcjYzMTI0Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/631242?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frosencrantz", "html_url": "https://github.com/frosencrantz", "followers_url": "https://api.github.com/users/frosencrantz/followers", "following_url": "https://api.github.com/users/frosencrantz/following{/other_user}", "gists_url": "https://api.github.com/users/frosencrantz/gists{/gist_id}", "starred_url": "https://api.github.com/users/frosencrantz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frosencrantz/subscriptions", "organizations_url": "https://api.github.com/users/frosencrantz/orgs", "repos_url": "https://api.github.com/users/frosencrantz/repos", "events_url": "https://api.github.com/users/frosencrantz/events{/privacy}", "received_events_url": "https://api.github.com/users/frosencrantz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-07-03T20:44:52Z", "updated_at": "2020-07-05T07:31:08Z", "closed_at": "2020-07-05T07:29:49Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nString cell is expanded if in a column with lists. Expand fails with different types in a column.\r\n**Expected result**\r\nThe string is not expanded.\r\nThere are stack traces if the column contains different types, some of which are nested.\r\n\r\n**Actual result with screenshot**\r\n\r\nb[0] | b[1] | b[2]\r\n-----+------+------\r\na    | b    |\r\na    | b    |    c\r\n   \r\n**Steps to reproduce with sample data and a .vd**\r\n\r\n(echo '{\"b\": [\"a\", \"b\"]}' ; echo '{\"b\": \"abc\"}')| vd -f json\r\nExpand the b column  with '('\r\n\r\n**Additional context**\r\nPlease include the version of VisiData. Latest develop version.\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/619/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/619/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/614", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/614/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/614/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/614/events", "html_url": "https://github.com/saulpw/visidata/issues/614", "id": 646768413, "node_id": "MDU6SXNzdWU2NDY3Njg0MTM=", "number": 614, "title": "[starting] Crashes w/traceback when starting Visidata without a ~/.visidata/plugins directory", "user": {"login": "frosencrantz", "id": 631242, "node_id": "MDQ6VXNlcjYzMTI0Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/631242?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frosencrantz", "html_url": "https://github.com/frosencrantz", "followers_url": "https://api.github.com/users/frosencrantz/followers", "following_url": "https://api.github.com/users/frosencrantz/following{/other_user}", "gists_url": "https://api.github.com/users/frosencrantz/gists{/gist_id}", "starred_url": "https://api.github.com/users/frosencrantz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frosencrantz/subscriptions", "organizations_url": "https://api.github.com/users/frosencrantz/orgs", "repos_url": "https://api.github.com/users/frosencrantz/repos", "events_url": "https://api.github.com/users/frosencrantz/events{/privacy}", "received_events_url": "https://api.github.com/users/frosencrantz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-06-27T21:23:13Z", "updated_at": "2020-06-28T00:28:06Z", "closed_at": "2020-06-27T22:09:58Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nTraceback when starting Visidata without a ~/.visidata/plugins directory\r\n\r\n**Expected result**\r\nStarts running\r\n\r\n**Actual result with screenshot**\r\n```\r\nTraceback (most recent call last):\r\n  File \"/usr/bin/vd\", line 6, in <module>\r\n    visidata.main.vd_cli()\r\n  File \"/usr/lib/python3.8/site-packages/visidata/main.py\", line 220, in vd_cli\r\n    rc = main_vd()\r\n  File \"/usr/lib/python3.8/site-packages/visidata/main.py\", line 75, in main_vd\r\n    args = vd.parseArgs(parser)\r\n  File \"/usr/lib/python3.8/site-packages/visidata/settings.py\", line 312, in parseArgs\r\n    addGlobals(importlib.import_module(modname).__dict__)\r\n  File \"/usr/lib/python3.8/importlib/__init__.py\", line 127, in import_module\r\n    return _bootstrap._gcd_import(name[level:], package, level)\r\n  File \"<frozen importlib._bootstrap>\", line 1014, in _gcd_import\r\n  File \"<frozen importlib._bootstrap>\", line 991, in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 973, in _find_and_load_unlocked\r\nModuleNotFoundError: No module named 'plugins'\r\n```\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n$ vd\r\n\r\n**Additional context**\r\nPlease include the version of VisiData: Latest version of develop\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/614/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/614/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/612", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/612/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/612/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/612/events", "html_url": "https://github.com/saulpw/visidata/issues/612", "id": 646647796, "node_id": "MDU6SXNzdWU2NDY2NDc3OTY=", "number": 612, "title": "How to access non-public schema in Postgres DB?", "user": {"login": "p3k", "id": 16631, "node_id": "MDQ6VXNlcjE2NjMx", "avatar_url": "https://avatars.githubusercontent.com/u/16631?v=4", "gravatar_id": "", "url": "https://api.github.com/users/p3k", "html_url": "https://github.com/p3k", "followers_url": "https://api.github.com/users/p3k/followers", "following_url": "https://api.github.com/users/p3k/following{/other_user}", "gists_url": "https://api.github.com/users/p3k/gists{/gist_id}", "starred_url": "https://api.github.com/users/p3k/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/p3k/subscriptions", "organizations_url": "https://api.github.com/users/p3k/orgs", "repos_url": "https://api.github.com/users/p3k/repos", "events_url": "https://api.github.com/users/p3k/events{/privacy}", "received_events_url": "https://api.github.com/users/p3k/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 21, "created_at": "2020-06-27T09:39:59Z", "updated_at": "2020-07-06T02:43:44Z", "closed_at": "2020-06-28T08:31:11Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\n\r\nI maintain a Postgres database having a non-public schema, i.e. I either need to explicitely provide the schema name or set the `search_path`:\r\n\r\n```sql\r\n# either one of these works\r\nselect * from foo.bar;\r\n\r\nset search_path = foo;\r\nselect * from bar;\r\n\r\nalter database foobar set search_path to foo; # this makes it persistent\r\nselect * from bar;\r\n```\r\n\r\nTrying to connect to this database with Visidata works but returns an empty set of tables \u2013 even with the persistent `search_path` using `alter database`:\r\n\r\n```plain\r\n$ vd postgres://user:pw@localhost/foobar\r\n table_name         \u2016 ncols             #| nrows             #\u2016\r\n```\r\n\r\n**Expected result**\r\n\r\nSomething along the lines of this output:\r\n\r\n```plain\r\n table_name   \u2016 ncols  #| nrows  #\u2016\r\n tag_hub      \u2016       5 |        \u2026\u2016\r\n log          \u2016       7 |        \u2026\u2016\r\n metadata     \u2016       6 |        \u2026\u2016\r\n skin         \u2016       9 |        \u2026\u2016\r\n layout       \u2016       8 |        \u2026\u2016\r\n content      \u2016      16 |        \u2026\u2016\r\n choice       \u2016       5 |        \u2026\u2016\r\n site         \u2016      10 |        \u2026\u2016\r\n poll         \u2016       9 |        \u2026\u2016\r\n account      \u2016       7 |        \u2026\u2016\r\n vote         \u2016       7 |        \u2026\u2016\r\n membership   \u2016       8 |        \u2026\u2016\r\n image        \u2016      10 |        \u2026\u2016\r\n file         \u2016      12 |        \u2026\u2016\r\n tag          \u2016       4 |        \u2026\u2016\r\n```\r\n\r\nI achieved this output by temporarily changing [line 61 of `loaders/postgres.py`]( https://github.com/saulpw/visidata/blob/stable/visidata/loaders/postgres.py#L61) to the desired schema name:\r\n\r\n```diff\r\n64c64\r\n<         qstr = \"SELECT table_name, COUNT(column_name) AS ncols FROM information_schema.columns WHERE table_schema = 'public' GROUP BY table_name\"\r\n---\r\n>         qstr = \"SELECT table_name, COUNT(column_name) AS ncols FROM information_schema.columns WHERE table_schema = 'antville' GROUP BY table_name\"\r\n```\r\n\r\nAlthough this shows the correct list of tables, it still wouldn\u2019t seem sufficient to somehow inject the correct schema name dynamically because of the missing `nrows` values (`\u2026`) \u2013 entering one of the rows shows an empty output.\r\n\r\n**Actual result with screenshot**\r\n\r\n![image](https://user-images.githubusercontent.com/16631/85919337-88d62080-b86a-11ea-9150-4780cb9cbbba.png)\r\n\r\n**Additional context**\r\n\r\n```\r\n\u2192 vd -v\r\nsaul.pw/VisiData v1.0\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/612/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/612/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/605", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/605/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/605/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/605/events", "html_url": "https://github.com/saulpw/visidata/issues/605", "id": 642519626, "node_id": "MDU6SXNzdWU2NDI1MTk2MjY=", "number": 605, "title": "[wishlist] optimize melt operation on large files", "user": {"login": "Mesibov", "id": 16182234, "node_id": "MDQ6VXNlcjE2MTgyMjM0", "avatar_url": "https://avatars.githubusercontent.com/u/16182234?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Mesibov", "html_url": "https://github.com/Mesibov", "followers_url": "https://api.github.com/users/Mesibov/followers", "following_url": "https://api.github.com/users/Mesibov/following{/other_user}", "gists_url": "https://api.github.com/users/Mesibov/gists{/gist_id}", "starred_url": "https://api.github.com/users/Mesibov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Mesibov/subscriptions", "organizations_url": "https://api.github.com/users/Mesibov/orgs", "repos_url": "https://api.github.com/users/Mesibov/repos", "events_url": "https://api.github.com/users/Mesibov/events{/privacy}", "received_events_url": "https://api.github.com/users/Mesibov/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2020-06-21T08:22:20Z", "updated_at": "2020-06-22T07:12:28Z", "closed_at": "2020-06-22T05:37:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "Running VisiData 2.-3 on a machine with i5-4590T Quad Core CPU at ca 800 MHz, 8GB RAM with ca 2 GB in swap (MX-19 Linux).\r\nI shuffled a ca 6.5M-record TSV with 23 text fields and used \"head\" to generate files with 1K - 5M rows. I then timed a melt on each file with a seconds timer, with these results:\r\n1K rows: 0 sec\r\n2K: 0\r\n5K: 0\r\n10K: 0\r\n20K: 1\r\n50K: 3\r\n100K: 5\r\n200K: 10\r\n500K: 24\r\n1M: 47\r\n2M: froze at 67% melted\r\n5M: froze at 3% melted\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/605/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/605/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/596", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/596/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/596/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/596/events", "html_url": "https://github.com/saulpw/visidata/issues/596", "id": 639544505, "node_id": "MDU6SXNzdWU2Mzk1NDQ1MDU=", "number": 596, "title": "[v2.-4dev/DirSheet] unhide-cols freezes interface with large files in dir", "user": {"login": "geekscrapy", "id": 11225502, "node_id": "MDQ6VXNlcjExMjI1NTAy", "avatar_url": "https://avatars.githubusercontent.com/u/11225502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geekscrapy", "html_url": "https://github.com/geekscrapy", "followers_url": "https://api.github.com/users/geekscrapy/followers", "following_url": "https://api.github.com/users/geekscrapy/following{/other_user}", "gists_url": "https://api.github.com/users/geekscrapy/gists{/gist_id}", "starred_url": "https://api.github.com/users/geekscrapy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geekscrapy/subscriptions", "organizations_url": "https://api.github.com/users/geekscrapy/orgs", "repos_url": "https://api.github.com/users/geekscrapy/repos", "events_url": "https://api.github.com/users/geekscrapy/events{/privacy}", "received_events_url": "https://api.github.com/users/geekscrapy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-06-16T10:13:46Z", "updated_at": "2020-06-27T02:44:34Z", "closed_at": "2020-06-27T02:39:18Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "When using `unhide-cols` on a `DirSheet` with large files the interface stalls. No user input is available, including `Ctrl+C`.\r\n\r\nI saw this when I was looking at a directory with a file of 613718317 bytes.", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/596/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/596/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/587", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/587/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/587/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/587/events", "html_url": "https://github.com/saulpw/visidata/issues/587", "id": 630531947, "node_id": "MDU6SXNzdWU2MzA1MzE5NDc=", "number": 587, "title": "[dive-row/pyobj-cell] ", "user": {"login": "frosencrantz", "id": 631242, "node_id": "MDQ6VXNlcjYzMTI0Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/631242?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frosencrantz", "html_url": "https://github.com/frosencrantz", "followers_url": "https://api.github.com/users/frosencrantz/followers", "following_url": "https://api.github.com/users/frosencrantz/following{/other_user}", "gists_url": "https://api.github.com/users/frosencrantz/gists{/gist_id}", "starred_url": "https://api.github.com/users/frosencrantz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frosencrantz/subscriptions", "organizations_url": "https://api.github.com/users/frosencrantz/orgs", "repos_url": "https://api.github.com/users/frosencrantz/repos", "events_url": "https://api.github.com/users/frosencrantz/events{/privacy}", "received_events_url": "https://api.github.com/users/frosencrantz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "ajkerrigan", "id": 19539955, "node_id": "MDQ6VXNlcjE5NTM5OTU1", "avatar_url": "https://avatars.githubusercontent.com/u/19539955?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ajkerrigan", "html_url": "https://github.com/ajkerrigan", "followers_url": "https://api.github.com/users/ajkerrigan/followers", "following_url": "https://api.github.com/users/ajkerrigan/following{/other_user}", "gists_url": "https://api.github.com/users/ajkerrigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/ajkerrigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ajkerrigan/subscriptions", "organizations_url": "https://api.github.com/users/ajkerrigan/orgs", "repos_url": "https://api.github.com/users/ajkerrigan/repos", "events_url": "https://api.github.com/users/ajkerrigan/events{/privacy}", "received_events_url": "https://api.github.com/users/ajkerrigan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ajkerrigan", "id": 19539955, "node_id": "MDQ6VXNlcjE5NTM5OTU1", "avatar_url": "https://avatars.githubusercontent.com/u/19539955?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ajkerrigan", "html_url": "https://github.com/ajkerrigan", "followers_url": "https://api.github.com/users/ajkerrigan/followers", "following_url": "https://api.github.com/users/ajkerrigan/following{/other_user}", "gists_url": "https://api.github.com/users/ajkerrigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/ajkerrigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ajkerrigan/subscriptions", "organizations_url": "https://api.github.com/users/ajkerrigan/orgs", "repos_url": "https://api.github.com/users/ajkerrigan/repos", "events_url": "https://api.github.com/users/ajkerrigan/events{/privacy}", "received_events_url": "https://api.github.com/users/ajkerrigan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-06-04T05:52:55Z", "updated_at": "2020-06-27T02:43:32Z", "closed_at": "2020-06-27T02:43:31Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nDiving into a list of json objects doesn't show keys/cols if they aren't in the first object in the list.\r\n\r\n**Expected result**\r\nSee all the keys in the data.  Or minimally a hint that data is missing.\r\n\r\n**Actual result with screenshot**\r\nData isn't shown.  This was fixed recently for expand-cols in https://github.com/saulpw/visidata/pull/497 by @ajkerrigan \r\n\r\n**Steps to reproduce with sample data and a .vd**\r\necho '{\"line\":1,\"data\":[{\"one\":1,\"two\":2},{\"one\":1,\"two\":2,\"three\":3}]}' | vd -f json\r\n\r\nThen pyobj-cell into the cell under the column named `data`\r\nYou'll get a table with two columns ('one' and 'two') there is no 'three'\r\nIf you dive-row into the row with three keys, Visidata shows all three columns.\r\n\r\n**Additional context**\r\nPlease include the version of VisiData. latest version on develop.\r\n\r\nMaybe this should be listed as a Feature Request.\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/587/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/587/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/584", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/584/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/584/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/584/events", "html_url": "https://github.com/saulpw/visidata/issues/584", "id": 630085006, "node_id": "MDU6SXNzdWU2MzAwODUwMDY=", "number": 584, "title": "[missing option] Stack trace for disp_bool_fmt", "user": {"login": "frosencrantz", "id": 631242, "node_id": "MDQ6VXNlcjYzMTI0Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/631242?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frosencrantz", "html_url": "https://github.com/frosencrantz", "followers_url": "https://api.github.com/users/frosencrantz/followers", "following_url": "https://api.github.com/users/frosencrantz/following{/other_user}", "gists_url": "https://api.github.com/users/frosencrantz/gists{/gist_id}", "starred_url": "https://api.github.com/users/frosencrantz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frosencrantz/subscriptions", "organizations_url": "https://api.github.com/users/frosencrantz/orgs", "repos_url": "https://api.github.com/users/frosencrantz/repos", "events_url": "https://api.github.com/users/frosencrantz/events{/privacy}", "received_events_url": "https://api.github.com/users/frosencrantz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "anjakefala", "id": 7489659, "node_id": "MDQ6VXNlcjc0ODk2NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/7489659?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anjakefala", "html_url": "https://github.com/anjakefala", "followers_url": "https://api.github.com/users/anjakefala/followers", "following_url": "https://api.github.com/users/anjakefala/following{/other_user}", "gists_url": "https://api.github.com/users/anjakefala/gists{/gist_id}", "starred_url": "https://api.github.com/users/anjakefala/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anjakefala/subscriptions", "organizations_url": "https://api.github.com/users/anjakefala/orgs", "repos_url": "https://api.github.com/users/anjakefala/repos", "events_url": "https://api.github.com/users/anjakefala/events{/privacy}", "received_events_url": "https://api.github.com/users/anjakefala/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "anjakefala", "id": 7489659, "node_id": "MDQ6VXNlcjc0ODk2NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/7489659?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anjakefala", "html_url": "https://github.com/anjakefala", "followers_url": "https://api.github.com/users/anjakefala/followers", "following_url": "https://api.github.com/users/anjakefala/following{/other_user}", "gists_url": "https://api.github.com/users/anjakefala/gists{/gist_id}", "starred_url": "https://api.github.com/users/anjakefala/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anjakefala/subscriptions", "organizations_url": "https://api.github.com/users/anjakefala/orgs", "repos_url": "https://api.github.com/users/anjakefala/repos", "events_url": "https://api.github.com/users/anjakefala/events{/privacy}", "received_events_url": "https://api.github.com/users/anjakefala/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 10, "created_at": "2020-06-03T15:17:56Z", "updated_at": "2020-06-24T06:15:21Z", "closed_at": "2020-06-15T05:00:54Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nMissing a  disp_bool_fmt\r\n\r\n**Expected result**\r\nNo stack trace.\r\n\r\n**Actual result with screenshot**\r\n```\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3.8/site-packages/visidata/column.py\", line 247, in getCell\r\n    dw.display = self.format(typedval) or ''\r\n  File \"/usr/lib/python3.8/site-packages/visidata/column.py\", line 140, in format\r\n    return getType(self.type).formatter(self.fmtstr, typedval)\r\n  File \"/usr/lib/python3.8/site-packages/visidata/_types.py\", line 40, in numericFormatter\r\n    fmtstr = fmtstr or options['disp_'+type(typedval).__name__+'_fmt']\r\n  File \"/usr/lib/python3.8/site-packages/visidata/settings.py\", line 199, in __getitem__\r\n    vd.error('no option \"%s\"' % k)\r\n  File \"/usr/lib/python3.8/site-packages/visidata/statusbar.py\", line 55, in error\r\n    raise ExpectedException(args[0] if args else '')\r\nvisidata.errors.ExpectedException: no option \"disp_bool_fmt\"\r\n```\r\n**Steps to reproduce with sample data and a .vd**\r\n```\r\necho '{\"b\":true}' | vd -f json\r\n```\r\n\r\n**Additional context**\r\nPlease include the version of VisiData.  latest version from develop\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/584/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/584/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/581", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/581/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/581/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/581/events", "html_url": "https://github.com/saulpw/visidata/issues/581", "id": 627893953, "node_id": "MDU6SXNzdWU2Mjc4OTM5NTM=", "number": 581, "title": "[defer] Stack trace on 'NoneType' object has no attribute 'defer'", "user": {"login": "frosencrantz", "id": 631242, "node_id": "MDQ6VXNlcjYzMTI0Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/631242?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frosencrantz", "html_url": "https://github.com/frosencrantz", "followers_url": "https://api.github.com/users/frosencrantz/followers", "following_url": "https://api.github.com/users/frosencrantz/following{/other_user}", "gists_url": "https://api.github.com/users/frosencrantz/gists{/gist_id}", "starred_url": "https://api.github.com/users/frosencrantz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frosencrantz/subscriptions", "organizations_url": "https://api.github.com/users/frosencrantz/orgs", "repos_url": "https://api.github.com/users/frosencrantz/repos", "events_url": "https://api.github.com/users/frosencrantz/events{/privacy}", "received_events_url": "https://api.github.com/users/frosencrantz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-05-31T05:10:52Z", "updated_at": "2020-06-01T04:48:11Z", "closed_at": "2020-06-01T02:37:23Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nGetting a stack trace when transposing a table.\r\n\r\n**Description**\r\nTranspose a data sheet.  For example, read the sample_data/StatusPR.csv  file, and tranpose.\r\nAll the cells in the first column report:\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3.8/site-packages/visidata/basesheet.py\", line 127, in execCommand\r\n    exec(code, vdglobals, LazyChainMap(vd, self))\r\n  File \"pyobj-cell\", line 1, in <module>\r\n    import math\r\n  File \"/usr/lib/python3.8/site-packages/visidata/basesheet.py\", line 30, in __getitem__\r\n    return getattr(obj, k)\r\n  File \"/usr/lib/python3.8/site-packages/visidata/sheets.py\", line 419, in cursorValue\r\n    return self.cursorCol.getValue(self.cursorRow)\r\n  File \"/usr/lib/python3.8/site-packages/visidata/column.py\", line 182, in getValue\r\n    if self.sheet.defer:\r\nAttributeError: 'NoneType' object has no attribute 'defer'\r\n```\r\n\r\n**Expected result**\r\nTranspose a table, column names in the first column.  But all cells have an exception.\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\nLoad sample_data/StatusPR.csv and transpose.\r\n\r\n**Additional context**\r\n\r\nPlease include the version of VisiData latest develop version.\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/581/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/581/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/577", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/577/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/577/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/577/events", "html_url": "https://github.com/saulpw/visidata/issues/577", "id": 626965878, "node_id": "MDU6SXNzdWU2MjY5NjU4Nzg=", "number": 577, "title": "Error writing rstatus when repeating a command with no keystrokes", "user": {"login": "ajkerrigan", "id": 19539955, "node_id": "MDQ6VXNlcjE5NTM5OTU1", "avatar_url": "https://avatars.githubusercontent.com/u/19539955?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ajkerrigan", "html_url": "https://github.com/ajkerrigan", "followers_url": "https://api.github.com/users/ajkerrigan/followers", "following_url": "https://api.github.com/users/ajkerrigan/following{/other_user}", "gists_url": "https://api.github.com/users/ajkerrigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/ajkerrigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ajkerrigan/subscriptions", "organizations_url": "https://api.github.com/users/ajkerrigan/orgs", "repos_url": "https://api.github.com/users/ajkerrigan/repos", "events_url": "https://api.github.com/users/ajkerrigan/events{/privacy}", "received_events_url": "https://api.github.com/users/ajkerrigan/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "ajkerrigan", "id": 19539955, "node_id": "MDQ6VXNlcjE5NTM5OTU1", "avatar_url": "https://avatars.githubusercontent.com/u/19539955?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ajkerrigan", "html_url": "https://github.com/ajkerrigan", "followers_url": "https://api.github.com/users/ajkerrigan/followers", "following_url": "https://api.github.com/users/ajkerrigan/following{/other_user}", "gists_url": "https://api.github.com/users/ajkerrigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/ajkerrigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ajkerrigan/subscriptions", "organizations_url": "https://api.github.com/users/ajkerrigan/orgs", "repos_url": "https://api.github.com/users/ajkerrigan/repos", "events_url": "https://api.github.com/users/ajkerrigan/events{/privacy}", "received_events_url": "https://api.github.com/users/ajkerrigan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ajkerrigan", "id": 19539955, "node_id": "MDQ6VXNlcjE5NTM5OTU1", "avatar_url": "https://avatars.githubusercontent.com/u/19539955?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ajkerrigan", "html_url": "https://github.com/ajkerrigan", "followers_url": "https://api.github.com/users/ajkerrigan/followers", "following_url": "https://api.github.com/users/ajkerrigan/following{/other_user}", "gists_url": "https://api.github.com/users/ajkerrigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/ajkerrigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ajkerrigan/subscriptions", "organizations_url": "https://api.github.com/users/ajkerrigan/orgs", "repos_url": "https://api.github.com/users/ajkerrigan/repos", "events_url": "https://api.github.com/users/ajkerrigan/events{/privacy}", "received_events_url": "https://api.github.com/users/ajkerrigan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 8, "created_at": "2020-05-29T03:13:00Z", "updated_at": "2020-06-27T05:31:10Z", "closed_at": "2020-06-27T05:08:33Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "**Small description**\r\nIf the last command in the cmdlog has an empty keystrokes column, `repeat-input` throws `TypeError`s trying to update the status line.\r\n\r\n**Expected result**\r\nCommands are repeatable whether they were issued with keystrokes or long names.\r\n\r\n**Actual result with screenshot**\r\nIf you get an unexpected error, please include the full stack trace that you get with `Ctrl-E`.\r\n\r\n```\r\n Traceback (most recent call last):\r\n   File \"/Users/akerrigan/code/visidata/visidata/statusbar.py\", line 183, in drawRightStatus\r\n     rstatus = ' '+rstatus\r\n TypeError: can only concatenate str (not \"NoneType\") to str\r\n```\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\nPlease attach the commandlog (saved with `Ctrl-D`) to show the steps that led to the issue.\r\nSee [here](http://visidata.org/docs/save-restore/) for more details.\r\n\r\n```\r\nvd sample_data/benchmark.csv\r\n<space> select-after\r\n<space> repeat-input\r\n```\r\n\r\nTrying to replay a .vd with these commands _won't_ show the error. Inside VisiData, the `keystrokes` value for `select-after` is `None`. That gets converted to an empty string when we save the command log. So we can only see the error in cases like repeating or redoing a longname command interactively.\r\n\r\n**Additional context**\r\nPlease include the version of VisiData.\r\n\r\n2.-4dev (70e837dbca12f4df56485a7a5da0a0483e78439b)", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/577/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/577/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/575", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/575/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/575/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/575/events", "html_url": "https://github.com/saulpw/visidata/issues/575", "id": 625994257, "node_id": "MDU6SXNzdWU2MjU5OTQyNTc=", "number": 575, "title": "disp_float_fmt option error (for thousands separator)", "user": {"login": "dimonf", "id": 842666, "node_id": "MDQ6VXNlcjg0MjY2Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/842666?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dimonf", "html_url": "https://github.com/dimonf", "followers_url": "https://api.github.com/users/dimonf/followers", "following_url": "https://api.github.com/users/dimonf/following{/other_user}", "gists_url": "https://api.github.com/users/dimonf/gists{/gist_id}", "starred_url": "https://api.github.com/users/dimonf/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dimonf/subscriptions", "organizations_url": "https://api.github.com/users/dimonf/orgs", "repos_url": "https://api.github.com/users/dimonf/repos", "events_url": "https://api.github.com/users/dimonf/events{/privacy}", "received_events_url": "https://api.github.com/users/dimonf/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-05-27T20:05:27Z", "updated_at": "2020-05-29T21:25:18Z", "closed_at": "2020-05-28T07:25:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Small description**\r\n\r\ncustom format (thousands comma) is not applied:\r\n`cat .visidatarc\r\n options.disp_float_fmt='%,.02f'`\r\n\r\nI added comma into format spec. Instead of new format apply, a question mark appended to the value which is still in default format (%.02f)\r\n\r\n**Expected result**\r\ncomma-separated presentation for float type: 15,220.22\r\n\r\n\r\n**Actual result with screenshot**\r\n15220.22?\r\n\r\n**Additional context**\r\nVersion: v2.-3\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/575/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/575/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/573", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/573/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/573/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/573/events", "html_url": "https://github.com/saulpw/visidata/issues/573", "id": 625250904, "node_id": "MDU6SXNzdWU2MjUyNTA5MDQ=", "number": 573, "title": "-f applies to all files subsequently loaded, not just those given on the command line", "user": {"login": "tsibley", "id": 79913, "node_id": "MDQ6VXNlcjc5OTEz", "avatar_url": "https://avatars.githubusercontent.com/u/79913?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsibley", "html_url": "https://github.com/tsibley", "followers_url": "https://api.github.com/users/tsibley/followers", "following_url": "https://api.github.com/users/tsibley/following{/other_user}", "gists_url": "https://api.github.com/users/tsibley/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsibley/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsibley/subscriptions", "organizations_url": "https://api.github.com/users/tsibley/orgs", "repos_url": "https://api.github.com/users/tsibley/repos", "events_url": "https://api.github.com/users/tsibley/events{/privacy}", "received_events_url": "https://api.github.com/users/tsibley/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}, {"id": 2090110836, "node_id": "MDU6TGFiZWwyMDkwMTEwODM2", "url": "https://api.github.com/repos/saulpw/visidata/labels/filetype", "name": "filetype", "color": "fef2c0", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 19, "created_at": "2020-05-26T22:54:55Z", "updated_at": "2020-07-23T07:32:50Z", "closed_at": "2020-07-18T00:44:00Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nI often invoke vd with `-f` to set the format for the given input files or input stream when I know it won't detect them properly. This works as expected. However, the `-f` is then sticky for the rest of that session and overrides normal format detection when I open other files from within the session. This includes using `o` / `open-file` as well as navigating within a zip file or remote s3 directory.\r\n\r\n**Expected result**\r\n`-f` applies only to stdin and the files named in the command-line invocation.\r\n\r\n**Actual result with screenshot**\r\n`-f` applies to all new files for that session.\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\nFrom within the visidata repo, load some JSONL from stdin:\r\n```\r\nvd -f jsonl < sample_data/test.jsonl\r\n```\r\nthen within vd, open `sample_data/sample.tsv`.\r\n\r\n**Additional context**\r\nsaul.pw/VisiData v2.-4dev", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/573/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/573/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/570", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/570/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/570/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/570/events", "html_url": "https://github.com/saulpw/visidata/issues/570", "id": 623384673, "node_id": "MDU6SXNzdWU2MjMzODQ2NzM=", "number": 570, "title": "[v2.-4] Sqlite InterfaceError when saving Nones", "user": {"login": "jtf621", "id": 2312781, "node_id": "MDQ6VXNlcjIzMTI3ODE=", "avatar_url": "https://avatars.githubusercontent.com/u/2312781?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jtf621", "html_url": "https://github.com/jtf621", "followers_url": "https://api.github.com/users/jtf621/followers", "following_url": "https://api.github.com/users/jtf621/following{/other_user}", "gists_url": "https://api.github.com/users/jtf621/gists{/gist_id}", "starred_url": "https://api.github.com/users/jtf621/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jtf621/subscriptions", "organizations_url": "https://api.github.com/users/jtf621/orgs", "repos_url": "https://api.github.com/users/jtf621/repos", "events_url": "https://api.github.com/users/jtf621/events{/privacy}", "received_events_url": "https://api.github.com/users/jtf621/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 615045468, "node_id": "MDU6TGFiZWw2MTUwNDU0Njg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/needs%20design", "name": "needs design", "color": "5319e7", "default": false, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 15, "created_at": "2020-05-22T17:49:23Z", "updated_at": "2020-06-01T05:58:58Z", "closed_at": "2020-06-01T05:58:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "When I open a sqlite file and try to save-all `g^S` as a new sqlite file, I get an `sqlite3.InterfaceError: Error binding parameter 3 - probably unsupported type.`\r\n\r\nI am testing the current HEAD of the develop branch (f5513187098ad1068ee5096f2d77d0024cc4d2db). \r\n\r\n**Expected result**\r\nAn unchanged copy of the original file saved with the new name.\r\n\r\n**Actual result with screenshot**\r\n\r\n![image](https://user-images.githubusercontent.com/2312781/82694707-be676880-9c31-11ea-8899-65b00466bfe7.png)\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n\r\nMake a local copy of the visidata/sample_data/employees.sqlite file and run\r\n```\r\nsheet\tcol\trow\tlongname\tinput\tkeystrokes\tcomment\r\n\tSqliteSheet\theader\tset-option\t0\t\t\r\n\tUsvSheet\tdelimiter\tset-option\t\u241e\t\t\r\n\tUsvSheet\trow_delimiter\tset-option\t\u241f\t\t\r\n\t\t\topen-file\temployees.sqlite\to\t\r\nemployees\t\t\u30ademployees.dept\tdive-row\t\t^J\topen sheet with copies of rows referenced in current row\r\nemployees\t\t\u30ademployees.emp\tdive-row\t\t^J\topen sheet with copies of rows referenced in current row\r\nemployees.emp\t\t\tsave-all\tnew.sqlite\tg^S\tsave all sheets to given file or directory)\r\n```", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/570/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/570/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/569", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/569/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/569/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/569/events", "html_url": "https://github.com/saulpw/visidata/issues/569", "id": 623357755, "node_id": "MDU6SXNzdWU2MjMzNTc3NTU=", "number": 569, "title": "Sqlite editing - delete row - NameError on commit-sheet", "user": {"login": "jtf621", "id": 2312781, "node_id": "MDQ6VXNlcjIzMTI3ODE=", "avatar_url": "https://avatars.githubusercontent.com/u/2312781?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jtf621", "html_url": "https://github.com/jtf621", "followers_url": "https://api.github.com/users/jtf621/followers", "following_url": "https://api.github.com/users/jtf621/following{/other_user}", "gists_url": "https://api.github.com/users/jtf621/gists{/gist_id}", "starred_url": "https://api.github.com/users/jtf621/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jtf621/subscriptions", "organizations_url": "https://api.github.com/users/jtf621/orgs", "repos_url": "https://api.github.com/users/jtf621/repos", "events_url": "https://api.github.com/users/jtf621/events{/privacy}", "received_events_url": "https://api.github.com/users/jtf621/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-05-22T16:58:32Z", "updated_at": "2020-05-25T07:06:24Z", "closed_at": "2020-05-22T17:04:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "When I delete a row in a sqlite file and try to save `z ^S` to commit-sheet, I get a `NameError: free variable 'row' referenced before assignment in enclosing scope`.  Appending a row or updating a row works as expected.\r\n\r\nI am testing the current HEAD of the develop branch (d21918247df128027f1fa661ed43f4177bb037ca).  See #564 for background.\r\n\r\n![image](https://user-images.githubusercontent.com/2312781/82690362-10a48b80-9c2a-11ea-8173-80a3172dba4e.png)\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\nMake a local copy of the visidata/sample_data/employees.sqlite file and run \r\n```\r\nsheet\tcol\trow\tlongname\tinput\tkeystrokes\tcomment\r\n\tSqliteSheet\theader\tset-option\t0\t\t\r\n\tUsvSheet\tdelimiter\tset-option\t\u241e\t\t\r\n\tUsvSheet\trow_delimiter\tset-option\t\u241f\t\t\r\n\t\t\topen-file\temployees.sqlite\to\t\r\nemployees\tname\t\u30ademployees.dept\trelease-mouse\t\tBUTTON1_RELEASED\tslide current row/column to mouse cursor release position\r\nemployees\t\t\u30ademployees.emp\tdive-row\t\t^J\topen sheet with copies of rows referenced in current row\r\nemployees.emp\t\t\u30ad7934\tdelete-row\t\td\tdelete (cut) current row and move it to clipboard\r\nemployees.emp\t\t\tcommit-sheet\t\tz^S\t\r\n```\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/569/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/569/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/568", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/568/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/568/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/568/events", "html_url": "https://github.com/saulpw/visidata/issues/568", "id": 622533034, "node_id": "MDU6SXNzdWU2MjI1MzMwMzQ=", "number": 568, "title": "[2.4-dev] When scrolling with mouse, if the top of the sheet is hit, vd freezes for a few seconds", "user": {"login": "geekscrapy", "id": 11225502, "node_id": "MDQ6VXNlcjExMjI1NTAy", "avatar_url": "https://avatars.githubusercontent.com/u/11225502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geekscrapy", "html_url": "https://github.com/geekscrapy", "followers_url": "https://api.github.com/users/geekscrapy/followers", "following_url": "https://api.github.com/users/geekscrapy/following{/other_user}", "gists_url": "https://api.github.com/users/geekscrapy/gists{/gist_id}", "starred_url": "https://api.github.com/users/geekscrapy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geekscrapy/subscriptions", "organizations_url": "https://api.github.com/users/geekscrapy/orgs", "repos_url": "https://api.github.com/users/geekscrapy/repos", "events_url": "https://api.github.com/users/geekscrapy/events{/privacy}", "received_events_url": "https://api.github.com/users/geekscrapy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2101517149, "node_id": "MDU6TGFiZWwyMTAxNTE3MTQ5", "url": "https://api.github.com/repos/saulpw/visidata/labels/can't%20reproduce", "name": "can't reproduce", "color": "f2712b", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-05-21T14:22:38Z", "updated_at": "2020-06-01T05:18:22Z", "closed_at": "2020-06-01T04:47:17Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I've noticed that if I scroll down a little, then scroll up with the mouse, if the selected row hits the top of the sheet (row 1) vd will freeze for a few seconds, then come back to normal.", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/568/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/568/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/567", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/567/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/567/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/567/events", "html_url": "https://github.com/saulpw/visidata/issues/567", "id": 622531943, "node_id": "MDU6SXNzdWU2MjI1MzE5NDM=", "number": 567, "title": "[2.4-dev] no user feedback or async for search-col, searchr-cols, search-expr etc.", "user": {"login": "geekscrapy", "id": 11225502, "node_id": "MDQ6VXNlcjExMjI1NTAy", "avatar_url": "https://avatars.githubusercontent.com/u/11225502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geekscrapy", "html_url": "https://github.com/geekscrapy", "followers_url": "https://api.github.com/users/geekscrapy/followers", "following_url": "https://api.github.com/users/geekscrapy/following{/other_user}", "gists_url": "https://api.github.com/users/geekscrapy/gists{/gist_id}", "starred_url": "https://api.github.com/users/geekscrapy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geekscrapy/subscriptions", "organizations_url": "https://api.github.com/users/geekscrapy/orgs", "repos_url": "https://api.github.com/users/geekscrapy/repos", "events_url": "https://api.github.com/users/geekscrapy/events{/privacy}", "received_events_url": "https://api.github.com/users/geekscrapy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-05-21T14:20:56Z", "updated_at": "2020-05-29T09:49:36Z", "closed_at": "2020-05-29T07:18:49Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I've noticed, there is no user feedback given in the form of % searched for either forwards or backwards regex searches. These two also freeze the user interface when used on large files\r\n\r\nI have noticed, they also don't react to ^C (cancel / bail out)\r\n\r\nLongnames of the commands I believe are affected:\r\n\r\n- search-col\r\n- search-cols\r\n- search-expr\r\n- searchr-col\r\n- searchr-cols\r\n- searchr-expr", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/567/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/567/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/564", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/564/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/564/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/564/events", "html_url": "https://github.com/saulpw/visidata/issues/564", "id": 621895670, "node_id": "MDU6SXNzdWU2MjE4OTU2NzA=", "number": 564, "title": "defermods plugin SHA256 does not match", "user": {"login": "jtf621", "id": 2312781, "node_id": "MDQ6VXNlcjIzMTI3ODE=", "avatar_url": "https://avatars.githubusercontent.com/u/2312781?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jtf621", "html_url": "https://github.com/jtf621", "followers_url": "https://api.github.com/users/jtf621/followers", "following_url": "https://api.github.com/users/jtf621/following{/other_user}", "gists_url": "https://api.github.com/users/jtf621/gists{/gist_id}", "starred_url": "https://api.github.com/users/jtf621/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jtf621/subscriptions", "organizations_url": "https://api.github.com/users/jtf621/orgs", "repos_url": "https://api.github.com/users/jtf621/repos", "events_url": "https://api.github.com/users/jtf621/events{/privacy}", "received_events_url": "https://api.github.com/users/jtf621/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-05-20T16:20:46Z", "updated_at": "2020-05-20T19:30:47Z", "closed_at": "2020-05-20T17:52:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "When I try to activate the defermods plugin I get the error message `defermods plugin SHA256 does not match!` \r\n\r\nScreenshot:\r\n![image](https://user-images.githubusercontent.com/2312781/82470941-ff297b00-9a93-11ea-9aaf-b8c4baa3205f.png)\r\n\r\n`vd --version` output:  saul.pw/VisiData v2.-3 version\r\n\r\nI checked out the develop branch and the same error occurs.\r\n\r\nI am really looking forward to the ability to edit sqlite files with visidata.\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/564/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/564/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/562", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/562/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/562/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/562/events", "html_url": "https://github.com/saulpw/visidata/issues/562", "id": 619760096, "node_id": "MDU6SXNzdWU2MTk3NjAwOTY=", "number": 562, "title": "[bug] vd without args stack traces", "user": {"login": "frosencrantz", "id": 631242, "node_id": "MDQ6VXNlcjYzMTI0Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/631242?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frosencrantz", "html_url": "https://github.com/frosencrantz", "followers_url": "https://api.github.com/users/frosencrantz/followers", "following_url": "https://api.github.com/users/frosencrantz/following{/other_user}", "gists_url": "https://api.github.com/users/frosencrantz/gists{/gist_id}", "starred_url": "https://api.github.com/users/frosencrantz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frosencrantz/subscriptions", "organizations_url": "https://api.github.com/users/frosencrantz/orgs", "repos_url": "https://api.github.com/users/frosencrantz/repos", "events_url": "https://api.github.com/users/frosencrantz/events{/privacy}", "received_events_url": "https://api.github.com/users/frosencrantz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-05-17T17:44:19Z", "updated_at": "2020-05-25T07:06:48Z", "closed_at": "2020-05-17T18:09:17Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nRunning vd crashes\r\n\r\n**Expected result**\r\nThe main menu of sheets.\r\n\r\n**Actual result with screenshot**\r\nIf you get an unexpected error, please include the full stack trace that you get with `Ctrl-E`.\r\n```\r\nFile \"/usr/bin/vd\", line 6, in <module>\r\n  visidata.main.vd_cli()\r\nFile \"/usr/lib/visidata/main.py\", line 213, in vd_cli\r\n  rc = main_vd()\r\nFile \"/usr/lib/visidata/main.py\", line 140, in main_vd\r\n  vd.push(vd.vdmenu)\r\nFile \"/usr/lib/visidata/extensible.py\", line 59, in get_if_not\r\n   setattr(self, name, func(self))\r\nFile \"/usr/lib/visidata/metasheets.py\", line 155, in vdmenu\r\n  vs.reload() \r\nFile \"/usr/lib/visidata/metasheets.py\", line 144, in reload  \r\n  vs = getattr(vd, vdattr) \r\nFile \"/usr/lib/visidata/extensible.py\", line 47, in dofunc\r\n  return func(self)\r\nFile \"/usr/lib/visidata/textsheet.py\", line 59, in recentErrorsSheet\r\n   return Error Sheet(\"errors recent\", source=vd. lastErrors[-1])\r\nIndexError: list index out of range\r\n```\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\nRun: vd\r\n\r\n**Additional context**\r\nPlease include the version of VisiData. latest version from develop\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/562/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/562/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/560", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/560/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/560/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/560/events", "html_url": "https://github.com/saulpw/visidata/issues/560", "id": 619519981, "node_id": "MDU6SXNzdWU2MTk1MTk5ODE=", "number": 560, "title": "[wishlist] Expand -P to cover all longnames", "user": {"login": "frosencrantz", "id": 631242, "node_id": "MDQ6VXNlcjYzMTI0Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/631242?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frosencrantz", "html_url": "https://github.com/frosencrantz", "followers_url": "https://api.github.com/users/frosencrantz/followers", "following_url": "https://api.github.com/users/frosencrantz/following{/other_user}", "gists_url": "https://api.github.com/users/frosencrantz/gists{/gist_id}", "starred_url": "https://api.github.com/users/frosencrantz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frosencrantz/subscriptions", "organizations_url": "https://api.github.com/users/frosencrantz/orgs", "repos_url": "https://api.github.com/users/frosencrantz/repos", "events_url": "https://api.github.com/users/frosencrantz/events{/privacy}", "received_events_url": "https://api.github.com/users/frosencrantz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 469750830, "node_id": "MDU6TGFiZWw0Njk3NTA4MzA=", "url": "https://api.github.com/repos/saulpw/visidata/labels/wishlist", "name": "wishlist", "color": "84b6eb", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-05-16T17:26:28Z", "updated_at": "2020-06-01T05:32:39Z", "closed_at": "2020-06-01T05:32:00Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "It seems like the vd -P command flag is close to what I want.  But it didn't work when running a command from a plugin.\r\n\r\nKondo as quietly as wanted.", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/560/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/560/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/557", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/557/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/557/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/557/events", "html_url": "https://github.com/saulpw/visidata/issues/557", "id": 619357431, "node_id": "MDU6SXNzdWU2MTkzNTc0MzE=", "number": 557, "title": "[bug] load_pyobj() missing 1 required positional argument: 'obj\" `", "user": {"login": "frosencrantz", "id": 631242, "node_id": "MDQ6VXNlcjYzMTI0Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/631242?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frosencrantz", "html_url": "https://github.com/frosencrantz", "followers_url": "https://api.github.com/users/frosencrantz/followers", "following_url": "https://api.github.com/users/frosencrantz/following{/other_user}", "gists_url": "https://api.github.com/users/frosencrantz/gists{/gist_id}", "starred_url": "https://api.github.com/users/frosencrantz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frosencrantz/subscriptions", "organizations_url": "https://api.github.com/users/frosencrantz/orgs", "repos_url": "https://api.github.com/users/frosencrantz/repos", "events_url": "https://api.github.com/users/frosencrantz/events{/privacy}", "received_events_url": "https://api.github.com/users/frosencrantz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-05-16T02:21:00Z", "updated_at": "2020-05-24T14:50:20Z", "closed_at": "2020-05-18T05:18:43Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nGetting stack trace with latest version from develop branch:\r\n```\r\nTraceback (most recent call last):\r\nFile \"/usr/lib/visidata/basesheet.py\", line 126, in execCommand\r\n   exec(code, vdglobals, LazyChainMap(vd, self))\r\nFile \"dive-row\", line 1, in <module>\r\n  import math\r\nFile \"/usr/lib/visidata/sheets.py\", line 241, in openRow\r\n  return vd.load_pyobj(tuple(c.getTypedValue(row) for c in self.visibleCols)) TypeError: load_pyobj() missing 1 required positional argument: 'obj\"\r\n```\r\n**Expected result**\r\nNo trace.\r\n\r\n*Steps to reproduce with sample data and a .vd**\r\nAttempt to dive-row into a row of csv data.\r\n\r\n**Additional context**\r\nLatest version of Visidata b9ff312", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/557/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/557/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/556", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/556/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/556/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/556/events", "html_url": "https://github.com/saulpw/visidata/issues/556", "id": 617918927, "node_id": "MDU6SXNzdWU2MTc5MTg5Mjc=", "number": 556, "title": "Timing issue (?) replaying select-col-regex followed by delete-selected", "user": {"login": "ajkerrigan", "id": 19539955, "node_id": "MDQ6VXNlcjE5NTM5OTU1", "avatar_url": "https://avatars.githubusercontent.com/u/19539955?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ajkerrigan", "html_url": "https://github.com/ajkerrigan", "followers_url": "https://api.github.com/users/ajkerrigan/followers", "following_url": "https://api.github.com/users/ajkerrigan/following{/other_user}", "gists_url": "https://api.github.com/users/ajkerrigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/ajkerrigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ajkerrigan/subscriptions", "organizations_url": "https://api.github.com/users/ajkerrigan/orgs", "repos_url": "https://api.github.com/users/ajkerrigan/repos", "events_url": "https://api.github.com/users/ajkerrigan/events{/privacy}", "received_events_url": "https://api.github.com/users/ajkerrigan/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-05-14T04:41:11Z", "updated_at": "2020-07-06T00:54:35Z", "closed_at": "2020-07-06T00:54:34Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "**Small description**\r\nWhen replaying a cmdlog that does a selection followed by a bulk delete, the delete intermittently begins before the selection is finished.\r\n\r\n**Expected result**\r\nA bulk delete (`delete-selected`, `gD`) should not disrupt an in-progress selection thread.\r\n\r\n**Actual result with screenshot**\r\nIntermittent index errors and inconsistent deletion results, with a traceback like:\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/Users/akerrigan/.local/pipx/venvs/visidata/lib/python3.8/site-packages/visidata/threads.py\", line 201, in _toplevelTryFunc\r\n    t.status = func(*args, **kwargs)\r\n  File \"/Users/akerrigan/.local/pipx/venvs/visidata/lib/python3.8/site-packages/visidata/selection.py\", line 48, in select\r\n    for r in (Progress(rows, 'selecting') if progress else rows):\r\n  File \"/Users/akerrigan/.local/pipx/venvs/visidata/lib/python3.8/site-packages/visidata/selection.py\", line 71, in <genexpr>\r\n    self.select((self.rows[i] for i in rowIdxs), progress=False)\r\n  File \"/Users/akerrigan/.local/pipx/venvs/visidata/lib/python3.8/site-packages/visidata/movement.py\", line 134, in searchRegex\r\n    c = findMatchingColumn(sheet, sheet.rows[rowidx], columns, regex.search)\r\nIndexError: list index out of range\r\n```\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\nSample data, reproduction steps, cmdlog, and example success/error logs up [here](https://gist.github.com/ajkerrigan/567900236e6834e3c615cb42cf366175)\r\n\r\n**Additional context**\r\nPlease include the version of VisiData.\r\n\r\nv2.-4dev (commit 3446661caa8b68f2ce5ab7b90fbe9b1b1a3b5e46)\r\n\r\n**Notes**\r\n\r\nTweaks that seem to avoid this issue:\r\n\r\n* Working with a CSV file rather than JSON\r\n* Replaying in batch mode (`-b`)", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/556/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/556/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/554", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/554/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/554/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/554/events", "html_url": "https://github.com/saulpw/visidata/issues/554", "id": 615742546, "node_id": "MDU6SXNzdWU2MTU3NDI1NDY=", "number": 554, "title": "should not allow quit while save is in progress", "user": {"login": "shadiakiki1986", "id": 8392324, "node_id": "MDQ6VXNlcjgzOTIzMjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/8392324?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shadiakiki1986", "html_url": "https://github.com/shadiakiki1986", "followers_url": "https://api.github.com/users/shadiakiki1986/followers", "following_url": "https://api.github.com/users/shadiakiki1986/following{/other_user}", "gists_url": "https://api.github.com/users/shadiakiki1986/gists{/gist_id}", "starred_url": "https://api.github.com/users/shadiakiki1986/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shadiakiki1986/subscriptions", "organizations_url": "https://api.github.com/users/shadiakiki1986/orgs", "repos_url": "https://api.github.com/users/shadiakiki1986/repos", "events_url": "https://api.github.com/users/shadiakiki1986/events{/privacy}", "received_events_url": "https://api.github.com/users/shadiakiki1986/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-05-11T09:42:27Z", "updated_at": "2020-05-16T19:35:56Z", "closed_at": "2020-05-11T15:01:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Small description**\r\nSometimes I would be saving a file, and then I press q to quit, but don't notice that the file saving is still in progress, so the csv file ends up being truncated.\r\n\r\n**Expected result**\r\nDo not allow quit until done\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\nOpen a large csv, save, press q while it is saving\r\n\r\n**Additional context**\r\nPlease include the version of VisiData.\r\n1.5.2\r\n\r\nRelated to https://github.com/saulpw/visidata/issues/389\r\n\r\nNot sure if there needs to be a new release to get this fix", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/554/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/554/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/553", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/553/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/553/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/553/events", "html_url": "https://github.com/saulpw/visidata/issues/553", "id": 615695598, "node_id": "MDU6SXNzdWU2MTU2OTU1OTg=", "number": 553, "title": "[develop] gO does not open the .visidatarc file", "user": {"login": "aborruso", "id": 30607, "node_id": "MDQ6VXNlcjMwNjA3", "avatar_url": "https://avatars.githubusercontent.com/u/30607?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aborruso", "html_url": "https://github.com/aborruso", "followers_url": "https://api.github.com/users/aborruso/followers", "following_url": "https://api.github.com/users/aborruso/following{/other_user}", "gists_url": "https://api.github.com/users/aborruso/gists{/gist_id}", "starred_url": "https://api.github.com/users/aborruso/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aborruso/subscriptions", "organizations_url": "https://api.github.com/users/aborruso/orgs", "repos_url": "https://api.github.com/users/aborruso/repos", "events_url": "https://api.github.com/users/aborruso/events{/privacy}", "received_events_url": "https://api.github.com/users/aborruso/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-05-11T08:34:42Z", "updated_at": "2020-05-16T19:36:08Z", "closed_at": "2020-05-12T06:33:42Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\n\r\nIn vd [it's possible](https://github.com/saulpw/visidata/releases/tag/v1.5.1) to open `.visidatarc` file via `gO`. If I use it in `saul.pw/VisiData v2.-4dev` I have \"no command for gO\".\r\n\r\n**Expected result**\r\n\r\nTo open the `.visidatarc` file \r\n\r\n**Actual result with screenshot**\r\n\r\n![image](https://user-images.githubusercontent.com/30607/81541100-e671e480-9372-11ea-84e9-ef188c47d021.png)\r\n\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n\r\nOpen a file and run `gO`\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/553/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/553/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/547", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/547/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/547/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/547/events", "html_url": "https://github.com/saulpw/visidata/issues/547", "id": 614179943, "node_id": "MDU6SXNzdWU2MTQxNzk5NDM=", "number": 547, "title": "[develop] concatenating selected source columns, from the Columns Sheet, does not work", "user": {"login": "aborruso", "id": 30607, "node_id": "MDQ6VXNlcjMwNjA3", "avatar_url": "https://avatars.githubusercontent.com/u/30607?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aborruso", "html_url": "https://github.com/aborruso", "followers_url": "https://api.github.com/users/aborruso/followers", "following_url": "https://api.github.com/users/aborruso/following{/other_user}", "gists_url": "https://api.github.com/users/aborruso/gists{/gist_id}", "starred_url": "https://api.github.com/users/aborruso/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aborruso/subscriptions", "organizations_url": "https://api.github.com/users/aborruso/orgs", "repos_url": "https://api.github.com/users/aborruso/repos", "events_url": "https://api.github.com/users/aborruso/events{/privacy}", "received_events_url": "https://api.github.com/users/aborruso/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2020-05-07T16:15:06Z", "updated_at": "2020-05-09T21:44:18Z", "closed_at": "2020-05-08T06:17:22Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\n\r\nHi opening the below CSV file, and then the Columns Sheet, if I select the two columns and then click on `&` I have an error.\r\nI should have a column from concatenating selected source columns.\r\n\r\nI'm using saul.pw/VisiData v2.-4dev\r\n\r\nMy input\r\n\r\n```\r\na,b\r\nhello,world\r\nviva,las vegas\r\n```\r\n\r\n**Actual result with screenshot**\r\n\r\n![image](https://user-images.githubusercontent.com/30607/81318146-1167ea00-908e-11ea-9f7a-dcf17f398b9a.png)\r\n\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n\r\n```\r\nsheet\tcol\trow\tlongname\tinput\tkeystrokes\tcomment\r\n\tSqliteSheet\theader\tset-option\t0\t\t\r\n\tUsvSheet\tdelimiter\tset-option\t\u241e\t\t\r\n\tUsvSheet\trow_delimiter\tset-option\t\u241f\t\t\r\n\t\t\topen-file\ttest.csv\to\t\r\ntest\t\t\tcolumns-sheet\t\tC\topen Columns Sheet: edit column properties for current sheet\r\ntest_columns\t\t\u30ada\tselect-row\t\ts\tselect current row\r\ntest_columns\t\t\u30adb\tselect-row\t\ts\tselect current row\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/547/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/547/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/546", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/546/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/546/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/546/events", "html_url": "https://github.com/saulpw/visidata/issues/546", "id": 611662149, "node_id": "MDU6SXNzdWU2MTE2NjIxNDk=", "number": 546, "title": "[v2.-4dev] -f filetype is ignored if a directory is given (always opens DirSheet)", "user": {"login": "geekscrapy", "id": 11225502, "node_id": "MDQ6VXNlcjExMjI1NTAy", "avatar_url": "https://avatars.githubusercontent.com/u/11225502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geekscrapy", "html_url": "https://github.com/geekscrapy", "followers_url": "https://api.github.com/users/geekscrapy/followers", "following_url": "https://api.github.com/users/geekscrapy/following{/other_user}", "gists_url": "https://api.github.com/users/geekscrapy/gists{/gist_id}", "starred_url": "https://api.github.com/users/geekscrapy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geekscrapy/subscriptions", "organizations_url": "https://api.github.com/users/geekscrapy/orgs", "repos_url": "https://api.github.com/users/geekscrapy/repos", "events_url": "https://api.github.com/users/geekscrapy/events{/privacy}", "received_events_url": "https://api.github.com/users/geekscrapy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2090110836, "node_id": "MDU6TGFiZWwyMDkwMTEwODM2", "url": "https://api.github.com/repos/saulpw/visidata/labels/filetype", "name": "filetype", "color": "fef2c0", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-05-04T07:32:09Z", "updated_at": "2020-07-03T07:15:22Z", "closed_at": "2020-07-03T07:15:21Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "If I want to create a new \"file\" type / loader which consumes a directory argument but it always opens a `DirSheet`. I have created a loader which consumes a directory and will create sheets based on the files in that directory. However, if I do this on the command line `vd -f xloader /path/to/dir` it loads a DirSheet. I expect this is given, but it restricts creating new loaders which use directories as their source.\r\n\r\nI would always expect `-f` to override the guessed format, and use the associated loader?", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/546/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/546/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/530", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/530/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/530/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/530/events", "html_url": "https://github.com/saulpw/visidata/issues/530", "id": 606676395, "node_id": "MDU6SXNzdWU2MDY2NzYzOTU=", "number": 530, "title": "VisiData only recognizes keys present in the first object of JSON/YAML lists", "user": {"login": "jsvine", "id": 534702, "node_id": "MDQ6VXNlcjUzNDcwMg==", "avatar_url": "https://avatars.githubusercontent.com/u/534702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsvine", "html_url": "https://github.com/jsvine", "followers_url": "https://api.github.com/users/jsvine/followers", "following_url": "https://api.github.com/users/jsvine/following{/other_user}", "gists_url": "https://api.github.com/users/jsvine/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsvine/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsvine/subscriptions", "organizations_url": "https://api.github.com/users/jsvine/orgs", "repos_url": "https://api.github.com/users/jsvine/repos", "events_url": "https://api.github.com/users/jsvine/events{/privacy}", "received_events_url": "https://api.github.com/users/jsvine/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "ajkerrigan", "id": 19539955, "node_id": "MDQ6VXNlcjE5NTM5OTU1", "avatar_url": "https://avatars.githubusercontent.com/u/19539955?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ajkerrigan", "html_url": "https://github.com/ajkerrigan", "followers_url": "https://api.github.com/users/ajkerrigan/followers", "following_url": "https://api.github.com/users/ajkerrigan/following{/other_user}", "gists_url": "https://api.github.com/users/ajkerrigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/ajkerrigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ajkerrigan/subscriptions", "organizations_url": "https://api.github.com/users/ajkerrigan/orgs", "repos_url": "https://api.github.com/users/ajkerrigan/repos", "events_url": "https://api.github.com/users/ajkerrigan/events{/privacy}", "received_events_url": "https://api.github.com/users/ajkerrigan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ajkerrigan", "id": 19539955, "node_id": "MDQ6VXNlcjE5NTM5OTU1", "avatar_url": "https://avatars.githubusercontent.com/u/19539955?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ajkerrigan", "html_url": "https://github.com/ajkerrigan", "followers_url": "https://api.github.com/users/ajkerrigan/followers", "following_url": "https://api.github.com/users/ajkerrigan/following{/other_user}", "gists_url": "https://api.github.com/users/ajkerrigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/ajkerrigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ajkerrigan/subscriptions", "organizations_url": "https://api.github.com/users/ajkerrigan/orgs", "repos_url": "https://api.github.com/users/ajkerrigan/repos", "events_url": "https://api.github.com/users/ajkerrigan/events{/privacy}", "received_events_url": "https://api.github.com/users/ajkerrigan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2020-04-25T03:15:20Z", "updated_at": "2020-05-04T02:32:08Z", "closed_at": "2020-04-29T04:21:34Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\n\r\nAs described in issue title; details below.\r\n\r\n**Expected result**\r\n\r\nVisiData should render all key-value information for top-level JSON/YAML dicts.\r\n\r\n**Actual result with screenshot**\r\n\r\nSee below.\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n\r\nCommand: `vd https://raw.githubusercontent.com/simonw/museums/master/museums.yaml -f yaml`\r\n\r\nCompare the keys for the VisiData-loaded sheet vs. the keys in the second item in the YAML file. It seems that VisiData checks only the first item in a JSON/YAML list before determining the columns for the entire sheet. To me, that's unexpected and has, a few times, given me an incorrect impression of the data in a file. \r\n\r\nIdeally, these loaders would, as they iterated through a file, append columns to the sheet as they encountered new keys.\r\n\r\n**Additional context**\r\n\r\n`v2.-4dev`, revision `96e5ab66` (Sunday, April 19)\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/530/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/530/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/529", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/529/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/529/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/529/events", "html_url": "https://github.com/saulpw/visidata/issues/529", "id": 606676016, "node_id": "MDU6SXNzdWU2MDY2NzYwMTY=", "number": 529, "title": "Plain JSON lists cannot be loaded", "user": {"login": "jsvine", "id": 534702, "node_id": "MDQ6VXNlcjUzNDcwMg==", "avatar_url": "https://avatars.githubusercontent.com/u/534702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsvine", "html_url": "https://github.com/jsvine", "followers_url": "https://api.github.com/users/jsvine/followers", "following_url": "https://api.github.com/users/jsvine/following{/other_user}", "gists_url": "https://api.github.com/users/jsvine/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsvine/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsvine/subscriptions", "organizations_url": "https://api.github.com/users/jsvine/orgs", "repos_url": "https://api.github.com/users/jsvine/repos", "events_url": "https://api.github.com/users/jsvine/events{/privacy}", "received_events_url": "https://api.github.com/users/jsvine/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "ajkerrigan", "id": 19539955, "node_id": "MDQ6VXNlcjE5NTM5OTU1", "avatar_url": "https://avatars.githubusercontent.com/u/19539955?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ajkerrigan", "html_url": "https://github.com/ajkerrigan", "followers_url": "https://api.github.com/users/ajkerrigan/followers", "following_url": "https://api.github.com/users/ajkerrigan/following{/other_user}", "gists_url": "https://api.github.com/users/ajkerrigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/ajkerrigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ajkerrigan/subscriptions", "organizations_url": "https://api.github.com/users/ajkerrigan/orgs", "repos_url": "https://api.github.com/users/ajkerrigan/repos", "events_url": "https://api.github.com/users/ajkerrigan/events{/privacy}", "received_events_url": "https://api.github.com/users/ajkerrigan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ajkerrigan", "id": 19539955, "node_id": "MDQ6VXNlcjE5NTM5OTU1", "avatar_url": "https://avatars.githubusercontent.com/u/19539955?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ajkerrigan", "html_url": "https://github.com/ajkerrigan", "followers_url": "https://api.github.com/users/ajkerrigan/followers", "following_url": "https://api.github.com/users/ajkerrigan/following{/other_user}", "gists_url": "https://api.github.com/users/ajkerrigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/ajkerrigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ajkerrigan/subscriptions", "organizations_url": "https://api.github.com/users/ajkerrigan/orgs", "repos_url": "https://api.github.com/users/ajkerrigan/repos", "events_url": "https://api.github.com/users/ajkerrigan/events{/privacy}", "received_events_url": "https://api.github.com/users/ajkerrigan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2020-04-25T03:12:33Z", "updated_at": "2020-05-05T02:55:18Z", "closed_at": "2020-05-03T15:28:13Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\n\r\nVisiData seems unable to load/render JSON files that are \"plain\" lists, such as:\r\n\r\n```json\r\n[\r\n    \"tt0177489\",\r\n    \"tt0098168\",\r\n    \"tt0233146\",\r\n    \"tt0100816\",\r\n    \"tt0122427\"\r\n]\r\n\r\n```\r\n\r\n**Expected result**\r\n\r\nVisiData should be able to handle any valid JSON file.\r\n\r\n**Actual result with screenshot**\r\n\r\nSee below.\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n\r\n[test.json.zip](https://github.com/saulpw/visidata/files/4532256/test.json.zip)\r\n\r\n```sh\r\nvd test.json\r\n```\r\n\r\nWhen I try running this, the right-statusline correctly tells me that there are 5 rows, but the core view is entirely blank. The main statusline says this:\r\n\r\n> 1\u203a test| [19x] AttributeError: 'NoneType' object has no attribute 'keycol'\r\n\r\nThe traceback for which is:\r\n\r\n```sh\r\nTraceback (most recent call last):\r\n  File \"[...]/src/visidata/visidata/basesheet.py\", line 183, in checkCursorNoExceptions\r\n    return self.checkCursor()\r\n  File \"[...]/src/visidata/visidata/sheets.py\", line 508, in checkCursor\r\n    if self.cursorCol.keycol:\r\nAttributeError: 'NoneType' object has no attribute 'keycol'\r\n```\r\n\r\nThe issue seems to be that VisiData is expecting the list items to be dicts, when instead they are just strings. Running vd test-2.json (see below; identical to test.json except that it wraps those strings in a simple dict) does work just fine.\r\n\r\n[test-2.json.zip](https://github.com/saulpw/visidata/files/4532258/test-2.json.zip)\r\n\r\n**Additional context**\r\n\r\n`v2.-4dev`, revision `96e5ab66` (Sunday, April 19)\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/529/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/529/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/527", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/527/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/527/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/527/events", "html_url": "https://github.com/saulpw/visidata/issues/527", "id": 606674640, "node_id": "MDU6SXNzdWU2MDY2NzQ2NDA=", "number": 527, "title": "[develop bug] Undo has trouble when multiple sheets have the same name", "user": {"login": "jsvine", "id": 534702, "node_id": "MDQ6VXNlcjUzNDcwMg==", "avatar_url": "https://avatars.githubusercontent.com/u/534702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsvine", "html_url": "https://github.com/jsvine", "followers_url": "https://api.github.com/users/jsvine/followers", "following_url": "https://api.github.com/users/jsvine/following{/other_user}", "gists_url": "https://api.github.com/users/jsvine/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsvine/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsvine/subscriptions", "organizations_url": "https://api.github.com/users/jsvine/orgs", "repos_url": "https://api.github.com/users/jsvine/repos", "events_url": "https://api.github.com/users/jsvine/events{/privacy}", "received_events_url": "https://api.github.com/users/jsvine/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-04-25T03:02:48Z", "updated_at": "2020-05-25T07:05:58Z", "closed_at": "2020-05-25T07:01:24Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\n\r\nOn `v2.-4dev`, VisiData gets confused when an undo references a non-unique sheet name.\r\n\r\n**Expected result**\r\n\r\nUndo should work as expected.\r\n\r\n**Actual result with screenshot**\r\n\r\nA screenshot here doesn't quite demonstrate the issue; see reproduction below.\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n\r\nData: [test-100-nums.csv.zip](https://github.com/saulpw/visidata/files/4532248/test-100-nums.csv.zip) [unzip before proceeding]\r\n\r\nCmd log:  [test-100-nums-random-then-undo.vd.zip](https://github.com/saulpw/visidata/files/4532249/test-100-nums-random-then-undo.vd.zip) \u2014 but you'll have to press `U` to run the final step (it seems not to have been logged)\r\n\r\nIn this example, I select a random subset of rows, and then try to undo that ... but VisiData seems to get confused by the duplicate sheet names, because nothing is undone and instead I get an error in the status line:\r\n\r\n> 2\u203a test-100-nums| more than one sheet named \"test-100-nums\" | random-rows undone\r\n\r\n... and the random-rows appears *not* to have been undone.\r\n\r\nOne solution *could* be just to make sure that `random-rows` (and all other commands) creates a unique sheet name. But I'm not sure that fully solves the issue, because what if someone, on their own, decides to name two sheets the same thing?\r\n\r\nSo, another possible solution would be to have some deeper mechanism that prevents duplicate sheet names, globally.\r\n\r\nA third option (the one Google Sheets, for instance, seems to have taken) is to assign every sheet a unique ID separate from its display name, and to use that for all internal operations. That seems like the most robust solution ... but also possibly like a huge hassle to make work in VisiData?\r\n\r\n**Additional context**\r\n`v2.-4dev`, revision `96e5ab66` (Sunday, April 19)\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/527/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/527/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/526", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/526/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/526/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/526/events", "html_url": "https://github.com/saulpw/visidata/issues/526", "id": 606611651, "node_id": "MDU6SXNzdWU2MDY2MTE2NTE=", "number": 526, "title": "Is it possible to disable tables rows and columns counting?", "user": {"login": "aborruso", "id": 30607, "node_id": "MDQ6VXNlcjMwNjA3", "avatar_url": "https://avatars.githubusercontent.com/u/30607?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aborruso", "html_url": "https://github.com/aborruso", "followers_url": "https://api.github.com/users/aborruso/followers", "following_url": "https://api.github.com/users/aborruso/following{/other_user}", "gists_url": "https://api.github.com/users/aborruso/gists{/gist_id}", "starred_url": "https://api.github.com/users/aborruso/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aborruso/subscriptions", "organizations_url": "https://api.github.com/users/aborruso/orgs", "repos_url": "https://api.github.com/users/aborruso/repos", "events_url": "https://api.github.com/users/aborruso/events{/privacy}", "received_events_url": "https://api.github.com/users/aborruso/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-04-24T22:11:37Z", "updated_at": "2020-04-25T17:09:57Z", "closed_at": "2020-04-25T15:38:38Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hi,\r\nI'm testing the very [useful plugin](https://github.com/aswan89/visidata_plugin_genericSQL) of @aswan89, using an Oracle database.\r\n\r\nIn this db there are some very big tables, and vd cannot complete reading the list of tables inside it, because it must read the number of rows and columns of each table. It probably could do it, but it seems like it takes too long. It would be enough for me to have the tables list.\r\n\r\nIt would be very great, to have the option not to do this count, and to have only the list. Is there this option?\r\n\r\nI'm making here this question, because it seems to me a generic vd question.\r\n\r\nThank you\r\n\r\n![image](https://user-images.githubusercontent.com/30607/80260426-2e60ee00-8688-11ea-8bd5-59cefc6be042.png)\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/526/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/526/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/521", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/521/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/521/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/521/events", "html_url": "https://github.com/saulpw/visidata/issues/521", "id": 605683941, "node_id": "MDU6SXNzdWU2MDU2ODM5NDE=", "number": 521, "title": "vd 2.develop: impossible to open html sub-sheet", "user": {"login": "aborruso", "id": 30607, "node_id": "MDQ6VXNlcjMwNjA3", "avatar_url": "https://avatars.githubusercontent.com/u/30607?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aborruso", "html_url": "https://github.com/aborruso", "followers_url": "https://api.github.com/users/aborruso/followers", "following_url": "https://api.github.com/users/aborruso/following{/other_user}", "gists_url": "https://api.github.com/users/aborruso/gists{/gist_id}", "starred_url": "https://api.github.com/users/aborruso/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aborruso/subscriptions", "organizations_url": "https://api.github.com/users/aborruso/orgs", "repos_url": "https://api.github.com/users/aborruso/repos", "events_url": "https://api.github.com/users/aborruso/events{/privacy}", "received_events_url": "https://api.github.com/users/aborruso/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-04-23T16:41:45Z", "updated_at": "2020-06-11T06:08:19Z", "closed_at": "2020-06-11T03:00:44Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hi,\r\nif I run\r\n\r\n```\r\ncurl -L \"https://en.wikipedia.org/wiki/Olympic_medal\" | vd -f html +:table_2:1:1\r\n```\r\n\r\nvd does not open `table_2`. What's wrong in my command?\r\n\r\nThank you", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/521/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/521/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/519", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/519/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/519/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/519/events", "html_url": "https://github.com/saulpw/visidata/issues/519", "id": 605640206, "node_id": "MDU6SXNzdWU2MDU2NDAyMDY=", "number": 519, "title": "vd 2.develop: installed plugins not listed", "user": {"login": "aborruso", "id": 30607, "node_id": "MDQ6VXNlcjMwNjA3", "avatar_url": "https://avatars.githubusercontent.com/u/30607?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aborruso", "html_url": "https://github.com/aborruso", "followers_url": "https://api.github.com/users/aborruso/followers", "following_url": "https://api.github.com/users/aborruso/following{/other_user}", "gists_url": "https://api.github.com/users/aborruso/gists{/gist_id}", "starred_url": "https://api.github.com/users/aborruso/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aborruso/subscriptions", "organizations_url": "https://api.github.com/users/aborruso/orgs", "repos_url": "https://api.github.com/users/aborruso/repos", "events_url": "https://api.github.com/users/aborruso/events{/privacy}", "received_events_url": "https://api.github.com/users/aborruso/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2020-04-23T15:38:12Z", "updated_at": "2020-04-26T02:19:03Z", "closed_at": "2020-04-26T02:19:03Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hi,\r\nI have just installed the 2.develop version, and then installed via bazar (great thing) vddedupe plugin.\r\n\r\nThen I have closed vd and opened it again and I have no check in the installed column. If I try to install again vd alerts me (\"plugin path already exists ...\").\r\n\r\nIs it normal?\r\n\r\nThank you\r\n\r\n![image](https://user-images.githubusercontent.com/30607/80118662-050d6880-8589-11ea-9716-b0b547196858.png)\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/519/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/519/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/513", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/513/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/513/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/513/events", "html_url": "https://github.com/saulpw/visidata/issues/513", "id": 603180108, "node_id": "MDU6SXNzdWU2MDMxODAxMDg=", "number": 513, "title": "'v' (wrap text) reloads from source, undoing sheet modifications", "user": {"login": "geekscrapy", "id": 11225502, "node_id": "MDQ6VXNlcjExMjI1NTAy", "avatar_url": "https://avatars.githubusercontent.com/u/11225502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geekscrapy", "html_url": "https://github.com/geekscrapy", "followers_url": "https://api.github.com/users/geekscrapy/followers", "following_url": "https://api.github.com/users/geekscrapy/following{/other_user}", "gists_url": "https://api.github.com/users/geekscrapy/gists{/gist_id}", "starred_url": "https://api.github.com/users/geekscrapy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geekscrapy/subscriptions", "organizations_url": "https://api.github.com/users/geekscrapy/orgs", "repos_url": "https://api.github.com/users/geekscrapy/repos", "events_url": "https://api.github.com/users/geekscrapy/events{/privacy}", "received_events_url": "https://api.github.com/users/geekscrapy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-04-20T11:54:21Z", "updated_at": "2020-05-09T21:38:43Z", "closed_at": "2020-04-21T06:18:18Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I've noticed some odd side effects when using 'v' (text wrapping).\r\n- When a row has been deleted (d), and then wrapping applied (v) the row will reappear\r\n\r\nTo test:\r\necho -e \"abc\\nDELETEME\\n123\\n456\" | vd -\r\n- delete the row DELETEME with 'd'\r\n- Now apply wrapping with 'v'\r\nThe DELETEME row appears", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/513/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/513/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/512", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/512/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/512/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/512/events", "html_url": "https://github.com/saulpw/visidata/issues/512", "id": 602951199, "node_id": "MDU6SXNzdWU2MDI5NTExOTk=", "number": 512, "title": "[cell display] A column with a width of 1, with data of a single character always displays ellipsis ", "user": {"login": "frosencrantz", "id": 631242, "node_id": "MDQ6VXNlcjYzMTI0Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/631242?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frosencrantz", "html_url": "https://github.com/frosencrantz", "followers_url": "https://api.github.com/users/frosencrantz/followers", "following_url": "https://api.github.com/users/frosencrantz/following{/other_user}", "gists_url": "https://api.github.com/users/frosencrantz/gists{/gist_id}", "starred_url": "https://api.github.com/users/frosencrantz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frosencrantz/subscriptions", "organizations_url": "https://api.github.com/users/frosencrantz/orgs", "repos_url": "https://api.github.com/users/frosencrantz/repos", "events_url": "https://api.github.com/users/frosencrantz/events{/privacy}", "received_events_url": "https://api.github.com/users/frosencrantz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-04-20T05:26:32Z", "updated_at": "2020-05-04T02:32:55Z", "closed_at": "2020-04-21T05:45:07Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nSet the width of a column to 1.  If the data in the column is only 1 character wide, I see only an ellipsis.\r\n\r\n**Expected result**\r\nSee the single character data vaue.\r\n\r\n**Actual result with screenshot**\r\nSorry no screenshot.  If this is not reproducible let me know.\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\nCreate a new table (A) with 1 column\r\nChange the column width to 1\r\nAdd a row (a)\r\nEdit the cell, insert a single character, like 'a'.\r\n\r\nYou only see the truncation character (ellipsis) in the cell., not the single character value.\r\n\r\n**Additional context**\r\nUsing latest version from develop branch.", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/512/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/512/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/510", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/510/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/510/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/510/events", "html_url": "https://github.com/saulpw/visidata/issues/510", "id": 602624591, "node_id": "MDU6SXNzdWU2MDI2MjQ1OTE=", "number": 510, "title": "[develop] 2.x gD CommandLog should behave similar to the 1.5.2 CommandLog", "user": {"login": "anjakefala", "id": 7489659, "node_id": "MDQ6VXNlcjc0ODk2NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/7489659?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anjakefala", "html_url": "https://github.com/anjakefala", "followers_url": "https://api.github.com/users/anjakefala/followers", "following_url": "https://api.github.com/users/anjakefala/following{/other_user}", "gists_url": "https://api.github.com/users/anjakefala/gists{/gist_id}", "starred_url": "https://api.github.com/users/anjakefala/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anjakefala/subscriptions", "organizations_url": "https://api.github.com/users/anjakefala/orgs", "repos_url": "https://api.github.com/users/anjakefala/repos", "events_url": "https://api.github.com/users/anjakefala/events{/privacy}", "received_events_url": "https://api.github.com/users/anjakefala/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-04-19T05:14:59Z", "updated_at": "2020-05-09T21:38:51Z", "closed_at": "2020-04-23T04:27:51Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "**Small description**\r\nThe `gD` `commandlog-all` is meant to be a comprehensive CommandLog for the full session. It provides the functionality of what was the standard CommandLog in 1.5.2.\r\n\r\nHowever, it has some logs that are unexpected.\r\n\r\nExamples include:\r\n*  `delete-row` when performed on a CommandLog sheet\r\n*  `cmdlog-all`\r\n\r\n**Expected result**\r\nI think that the command filters that are configured to occur on regular `cmdlog-sheet`s should also occur on `cmdlog-all`.\r\n\r\nI think it is important that 2.x `cmdlog-all` mimic as much of the old behaviour of 1.5.2 `cmdlog` as possible.\r\n\r\n**Actual result with screenshot**\r\n![Screenshot from 2020-04-18 22-13-32](https://user-images.githubusercontent.com/7489659/79680204-ee9a9200-81c1-11ea-9aed-9f7063327b51.png)\r\n\r\n**Additional context**\r\nv2.-4\r\n\r\nThis is a sister issue to #426", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/510/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/510/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/508", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/508/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/508/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/508/events", "html_url": "https://github.com/saulpw/visidata/issues/508", "id": 600798499, "node_id": "MDU6SXNzdWU2MDA3OTg0OTk=", "number": 508, "title": "[v2.-4dev/3702790/unexpected] Columns move left when a key column is clicked", "user": {"login": "geekscrapy", "id": 11225502, "node_id": "MDQ6VXNlcjExMjI1NTAy", "avatar_url": "https://avatars.githubusercontent.com/u/11225502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geekscrapy", "html_url": "https://github.com/geekscrapy", "followers_url": "https://api.github.com/users/geekscrapy/followers", "following_url": "https://api.github.com/users/geekscrapy/following{/other_user}", "gists_url": "https://api.github.com/users/geekscrapy/gists{/gist_id}", "starred_url": "https://api.github.com/users/geekscrapy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geekscrapy/subscriptions", "organizations_url": "https://api.github.com/users/geekscrapy/orgs", "repos_url": "https://api.github.com/users/geekscrapy/repos", "events_url": "https://api.github.com/users/geekscrapy/events{/privacy}", "received_events_url": "https://api.github.com/users/geekscrapy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-04-16T07:05:46Z", "updated_at": "2020-05-09T21:39:01Z", "closed_at": "2020-04-16T07:39:43Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Scenario: You have more columns than the screen is able to show, and at least one key column\r\n\r\nExpected: Move to the far right column (g->) and then click on a key column with the mouse. Columns should stay in place (visually), only with the key column now selected.\r\n\r\nActual: Move to the far right column (g->) and then click on a key column with the mouse. The columns visually jump back to the first column.\r\n\r\nThis is not a massive issue, but one which is unexpected - I wanted to have the far right columns in view, but select a keycol so I could yank its cell (zY) value. I often tend to not make a note of the actual row I'm selecting and just go to select the column, however when the columns jump back I loose my reference of the cell I actually want to yank the data for. This means I am forced to use the keyboard instead of the mouse.", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/508/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/508/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/504", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/504/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/504/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/504/events", "html_url": "https://github.com/saulpw/visidata/issues/504", "id": 598364979, "node_id": "MDU6SXNzdWU1OTgzNjQ5Nzk=", "number": 504, "title": "[xml loader] Exception thrown for path column", "user": {"login": "frosencrantz", "id": 631242, "node_id": "MDQ6VXNlcjYzMTI0Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/631242?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frosencrantz", "html_url": "https://github.com/frosencrantz", "followers_url": "https://api.github.com/users/frosencrantz/followers", "following_url": "https://api.github.com/users/frosencrantz/following{/other_user}", "gists_url": "https://api.github.com/users/frosencrantz/gists{/gist_id}", "starred_url": "https://api.github.com/users/frosencrantz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frosencrantz/subscriptions", "organizations_url": "https://api.github.com/users/frosencrantz/orgs", "repos_url": "https://api.github.com/users/frosencrantz/repos", "events_url": "https://api.github.com/users/frosencrantz/events{/privacy}", "received_events_url": "https://api.github.com/users/frosencrantz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-04-11T22:39:12Z", "updated_at": "2020-05-09T21:39:18Z", "closed_at": "2020-04-13T02:23:32Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nWhen reading XML files the path column has an exception.\r\n\r\n**Expected result**\r\nThe path value for that xml element.\r\n\r\nI don't always read xml data, but when I do I see that this column has an error.\r\nAlso, it looks like there are no xml tests for the xml loader to catch an error like this.\r\n\r\n**Actual result with screenshot**\r\nSorry no screenshot.  But if there was you would see the path column has '!' marks on the right side of every cell in that column. \r\n\r\n```\r\nvisidata/loaders/xml.py\", line 25, in <lambda>\r\n\u00a0 \u00a0 \u00a0Column('path', width=0, getter=lambda c,r: c.sheet.source.getpath(r)),\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\r\n\u00a0AttributeError: 'NoneType' object has no attribute 'source'\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\r\n```\r\n**Steps to reproduce with sample data and a .vd**\r\n\r\nRead an xml file, then use 'gv' command show all the hidden columns.  All cells in the path column will have an exception as shown above.\r\n\r\n\r\n**Additional context**\r\nPlease include the version of VisiData.\r\nLatest develop branch version\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/504/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/504/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/502", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/502/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/502/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/502/events", "html_url": "https://github.com/saulpw/visidata/issues/502", "id": 597383005, "node_id": "MDU6SXNzdWU1OTczODMwMDU=", "number": 502, "title": "VisiData ignores final character of stdin if no newline", "user": {"login": "jsvine", "id": 534702, "node_id": "MDQ6VXNlcjUzNDcwMg==", "avatar_url": "https://avatars.githubusercontent.com/u/534702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsvine", "html_url": "https://github.com/jsvine", "followers_url": "https://api.github.com/users/jsvine/followers", "following_url": "https://api.github.com/users/jsvine/following{/other_user}", "gists_url": "https://api.github.com/users/jsvine/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsvine/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsvine/subscriptions", "organizations_url": "https://api.github.com/users/jsvine/orgs", "repos_url": "https://api.github.com/users/jsvine/repos", "events_url": "https://api.github.com/users/jsvine/events{/privacy}", "received_events_url": "https://api.github.com/users/jsvine/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-04-09T15:56:09Z", "updated_at": "2020-05-09T21:39:27Z", "closed_at": "2020-04-13T03:54:38Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\n\r\n```sh\r\necho -n \"abc\" | vd -f txt\r\n```\r\n\r\n**Expected result**\r\n```\r\n text \u2551\r\n abc  \u2551\r\n```\r\n**Actual result with screenshot**\r\n\r\n```\r\n text \u2551\r\n ab   \u2551\r\n```\r\n\r\n<img width=\"58\" alt=\"Screen Shot 2020-04-09 at 11 53 55 AM\" src=\"https://user-images.githubusercontent.com/534702/78914736-d8b9fe00-7a58-11ea-881f-ef18b962cee6.png\">\r\n\r\nIf you get an unexpected error, please include the full stack trace that you get with `Ctrl-E`.\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\nSee above.\r\n\r\n**Additional context**\r\n\r\n- VisiData version: v2.-4dev (though also true of v1.5.2)\r\n- Shell: bash\r\n- Platform: MacOS\r\n\r\nThanks in advance!", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/502/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/502/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/501", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/501/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/501/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/501/events", "html_url": "https://github.com/saulpw/visidata/issues/501", "id": 596380933, "node_id": "MDU6SXNzdWU1OTYzODA5MzM=", "number": 501, "title": "[html saver] Saving typed columns as html (int/vlen/bool) causes exception", "user": {"login": "geekscrapy", "id": 11225502, "node_id": "MDQ6VXNlcjExMjI1NTAy", "avatar_url": "https://avatars.githubusercontent.com/u/11225502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geekscrapy", "html_url": "https://github.com/geekscrapy", "followers_url": "https://api.github.com/users/geekscrapy/followers", "following_url": "https://api.github.com/users/geekscrapy/following{/other_user}", "gists_url": "https://api.github.com/users/geekscrapy/gists{/gist_id}", "starred_url": "https://api.github.com/users/geekscrapy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geekscrapy/subscriptions", "organizations_url": "https://api.github.com/users/geekscrapy/orgs", "repos_url": "https://api.github.com/users/geekscrapy/repos", "events_url": "https://api.github.com/users/geekscrapy/events{/privacy}", "received_events_url": "https://api.github.com/users/geekscrapy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 2026061862, "node_id": "MDU6TGFiZWwyMDI2MDYxODYy", "url": "https://api.github.com/repos/saulpw/visidata/labels/fixed", "name": "fixed", "color": "efacc1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-04-08T07:52:38Z", "updated_at": "2020-05-09T21:41:08Z", "closed_at": "2020-04-19T04:31:44Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I tried to copy (yank) a couple of rows from the frequency sheet and it provided me the following error. I believe this is due to the html parser expecting strings? A similar error also occurs in other sheets when using unexpected py types (e.g. bool).\r\n\r\nFrequencySheet error\r\n```\r\nTraceback (most recent call last):\r\n  File \"/Documents/pyv/py3/lib/python3.7/site-packages/visidata/threads.py\", line 201, in _toplevelTryFunc\r\n    t.status = func(*args, **kwargs)\r\n  File \"/Documents/pyv/py3/lib/python3.7/site-packages/visidata/loaders/html.py\", line 124, in save_html\r\n    fp.write(html.escape(val))\r\n  File \"/usr/local/Cellar/python/3.7.6_1/Frameworks/Python.framework/Versions/3.7/lib/python3.7/html/__init__.py\", line 19, in escape\r\n    s = s.replace(\"&\", \"&amp;\") # Must be done first!\r\nAttributeError: 'vlen' object has no attribute 'replace'\r\n```\r\n\r\nSheet with a bool column error:\r\n```\r\nTraceback (most recent call last):\r\n  File \"/Documents/pyv/py3/lib/python3.7/site-packages/visidata/threads.py\", line 201, in _toplevelTryFunc\r\n    t.status = func(*args, **kwargs)\r\n  File \"/Documents/pyv/py3/lib/python3.7/site-packages/visidata/loaders/html.py\", line 124, in save_html\r\n    fp.write(html.escape(val))\r\n  File \"/usr/local/Cellar/python/3.7.6_1/Frameworks/Python.framework/Versions/3.7/lib/python3.7/html/__init__.py\", line 19, in escape\r\n    s = s.replace(\"&\", \"&amp;\") # Must be done first!\r\nAttributeError: 'bool' object has no attribute 'replace'\r\n```", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/501/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/501/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/495", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/495/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/495/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/495/events", "html_url": "https://github.com/saulpw/visidata/issues/495", "id": 591580605, "node_id": "MDU6SXNzdWU1OTE1ODA2MDU=", "number": 495, "title": "Errors sorting pandas sheet in 2.x", "user": {"login": "ajkerrigan", "id": 19539955, "node_id": "MDQ6VXNlcjE5NTM5OTU1", "avatar_url": "https://avatars.githubusercontent.com/u/19539955?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ajkerrigan", "html_url": "https://github.com/ajkerrigan", "followers_url": "https://api.github.com/users/ajkerrigan/followers", "following_url": "https://api.github.com/users/ajkerrigan/following{/other_user}", "gists_url": "https://api.github.com/users/ajkerrigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/ajkerrigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ajkerrigan/subscriptions", "organizations_url": "https://api.github.com/users/ajkerrigan/orgs", "repos_url": "https://api.github.com/users/ajkerrigan/repos", "events_url": "https://api.github.com/users/ajkerrigan/events{/privacy}", "received_events_url": "https://api.github.com/users/ajkerrigan/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-04-01T02:58:22Z", "updated_at": "2020-04-02T05:20:44Z", "closed_at": "2020-04-02T05:20:44Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "**Small description**\r\n\r\nWhen attempting to sort a pandas sheet, I get a `RecursionError` followed by a `TypeError`.\r\n\r\n**Expected result**\r\n\r\nPandas sheets are sortable.\r\n\r\n**Actual result with screenshot**\r\n\r\nSorting a pandas sheet produces this stack trace:\r\n\r\n```\r\nTraceback (most recent call last):\r\n   File \"/Users/akerrigan/.local/pipx/venvs/visidata/lib/python3.7/site-packages/visidata/basesheet.py\", line 123, in execCom\u2026\r\n     exec(code, vdglobals, LazyChainMap(vd, self))\r\n   File \"sort-asc\", line 1, in <module>\r\n     import math\r\n   File \"/Users/akerrigan/.local/pipx/venvs/visidata/lib/python3.7/site-packages/visidata/sort.py\", line 15, in orderBy\r\n     vd.addUndo(setattr, sheet, 'rows', copy(sheet.rows))\r\n   File \"/Users/akerrigan/.local/homebrew/Cellar/python/3.7.6_1/Frameworks/Python.framework/Versions/3.7/lib/python3.7/copy.p\u2026\r\n     return _reconstruct(x, None, *rv)\r\n   File \"/Users/akerrigan/.local/homebrew/Cellar/python/3.7.6_1/Frameworks/Python.framework/Versions/3.7/lib/python3.7/copy.p\u2026\r\n     if hasattr(y, '__setstate__'):\r\n   File \"/Users/akerrigan/.local/pipx/venvs/visidata/lib/python3.7/site-packages/visidata/loaders/_pandas.py\", line 20, in __\u2026\r\n     return getattr(self.df, k)\r\n   File \"/Users/akerrigan/.local/pipx/venvs/visidata/lib/python3.7/site-packages/visidata/loaders/_pandas.py\", line 20, in __\u2026\r\n     return getattr(self.df, k)\r\n   File \"/Users/akerrigan/.local/pipx/venvs/visidata/lib/python3.7/site-packages/visidata/loaders/_pandas.py\", line 20, in __\u2026\r\n     return getattr(self.df, k)\r\n   [Previous line repeated 489 more times]\r\n RecursionError: maximum recursion depth exceeded while calling a Python object\r\n```\r\n\r\nWorking through that error with local modifications reveals a new error:\r\n\r\n```\r\nTraceback (most recent call last):\r\n   File \"/Users/akerrigan/code/visidata/visidata/threads.py\", line 201, in _toplevelTryFunc\r\n     t.status = func(*args, **kwargs)\r\n   File \"/Users/akerrigan/code/visidata/visidata/loaders/_pandas.py\", line 99, in sort\r\n     by_cols += [col.name for col in cols]\r\n TypeError: 'Column' object is not iterable\r\n```\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n\r\n`vd -f pandas /path/to/visidata/sample_data/StatusPR.csv`\r\n\r\nThen sort a column.\r\n\r\n**Additional context**\r\nPlease include the version of VisiData.\r\n\r\ndevelop (0ca566)\r\n\r\n**Note:** This looks like a duplicate of #478 at a glance, but the error behavior is different in VisiData 2.x.", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/495/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/495/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/494", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/494/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/494/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/494/events", "html_url": "https://github.com/saulpw/visidata/issues/494", "id": 591319923, "node_id": "MDU6SXNzdWU1OTEzMTk5MjM=", "number": 494, "title": "[wishlist pcap] add SLL support", "user": {"login": "teto", "id": 886074, "node_id": "MDQ6VXNlcjg4NjA3NA==", "avatar_url": "https://avatars.githubusercontent.com/u/886074?v=4", "gravatar_id": "", "url": "https://api.github.com/users/teto", "html_url": "https://github.com/teto", "followers_url": "https://api.github.com/users/teto/followers", "following_url": "https://api.github.com/users/teto/following{/other_user}", "gists_url": "https://api.github.com/users/teto/gists{/gist_id}", "starred_url": "https://api.github.com/users/teto/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/teto/subscriptions", "organizations_url": "https://api.github.com/users/teto/orgs", "repos_url": "https://api.github.com/users/teto/repos", "events_url": "https://api.github.com/users/teto/events{/privacy}", "received_events_url": "https://api.github.com/users/teto/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "layertwo", "id": 1335960, "node_id": "MDQ6VXNlcjEzMzU5NjA=", "avatar_url": "https://avatars.githubusercontent.com/u/1335960?v=4", "gravatar_id": "", "url": "https://api.github.com/users/layertwo", "html_url": "https://github.com/layertwo", "followers_url": "https://api.github.com/users/layertwo/followers", "following_url": "https://api.github.com/users/layertwo/following{/other_user}", "gists_url": "https://api.github.com/users/layertwo/gists{/gist_id}", "starred_url": "https://api.github.com/users/layertwo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/layertwo/subscriptions", "organizations_url": "https://api.github.com/users/layertwo/orgs", "repos_url": "https://api.github.com/users/layertwo/repos", "events_url": "https://api.github.com/users/layertwo/events{/privacy}", "received_events_url": "https://api.github.com/users/layertwo/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "layertwo", "id": 1335960, "node_id": "MDQ6VXNlcjEzMzU5NjA=", "avatar_url": "https://avatars.githubusercontent.com/u/1335960?v=4", "gravatar_id": "", "url": "https://api.github.com/users/layertwo", "html_url": "https://github.com/layertwo", "followers_url": "https://api.github.com/users/layertwo/followers", "following_url": "https://api.github.com/users/layertwo/following{/other_user}", "gists_url": "https://api.github.com/users/layertwo/gists{/gist_id}", "starred_url": "https://api.github.com/users/layertwo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/layertwo/subscriptions", "organizations_url": "https://api.github.com/users/layertwo/orgs", "repos_url": "https://api.github.com/users/layertwo/repos", "events_url": "https://api.github.com/users/layertwo/events{/privacy}", "received_events_url": "https://api.github.com/users/layertwo/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2020-03-31T18:20:08Z", "updated_at": "2020-05-30T07:09:49Z", "closed_at": "2020-05-30T07:09:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Small description**\r\n I am not able to load packets from this pcap in visidata 2.-3 \r\nhttps://github.com/teto/mptcpanalyzer/blob/master/examples/client_2_filtered.pcapng\r\n(because of a missing ethernet layer ?)\r\nas discussed on irc CC @layertwo \r\n\r\n`--debug` shows errors about the inability to download files such from wireshark.org. The output is garbled (very annoying, can I redirect to a file ? like `vd 2>log.txt`).\r\n\r\n**Additional context**\r\nv2.-3", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/494/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/494/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/492", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/492/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/492/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/492/events", "html_url": "https://github.com/saulpw/visidata/issues/492", "id": 590338487, "node_id": "MDU6SXNzdWU1OTAzMzg0ODc=", "number": 492, "title": "[bug:v2.-4dev] First row+col of table switches with second row if double clicked", "user": {"login": "geekscrapy", "id": 11225502, "node_id": "MDQ6VXNlcjExMjI1NTAy", "avatar_url": "https://avatars.githubusercontent.com/u/11225502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geekscrapy", "html_url": "https://github.com/geekscrapy", "followers_url": "https://api.github.com/users/geekscrapy/followers", "following_url": "https://api.github.com/users/geekscrapy/following{/other_user}", "gists_url": "https://api.github.com/users/geekscrapy/gists{/gist_id}", "starred_url": "https://api.github.com/users/geekscrapy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geekscrapy/subscriptions", "organizations_url": "https://api.github.com/users/geekscrapy/orgs", "repos_url": "https://api.github.com/users/geekscrapy/repos", "events_url": "https://api.github.com/users/geekscrapy/events{/privacy}", "received_events_url": "https://api.github.com/users/geekscrapy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-03-30T14:30:29Z", "updated_at": "2020-04-13T06:58:06Z", "closed_at": "2020-04-13T06:58:05Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "With version v2.-4dev, if the top row or first column (I believe of any sheet) is double clicked with a mouse, it switches with the second row. Unsure if this is intentional, but doesn't happen in earlier versions.\r\n\r\nThis bug was tested, and existed with, DirSheet, TsvSheet and FreqTable using OSX and iTerm3", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/492/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/492/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/489", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/489/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/489/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/489/events", "html_url": "https://github.com/saulpw/visidata/issues/489", "id": 587488138, "node_id": "MDU6SXNzdWU1ODc0ODgxMzg=", "number": 489, "title": "[Bug] [v2.-4dev] dup-rows/-deep does not copy rows", "user": {"login": "geekscrapy", "id": 11225502, "node_id": "MDQ6VXNlcjExMjI1NTAy", "avatar_url": "https://avatars.githubusercontent.com/u/11225502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geekscrapy", "html_url": "https://github.com/geekscrapy", "followers_url": "https://api.github.com/users/geekscrapy/followers", "following_url": "https://api.github.com/users/geekscrapy/following{/other_user}", "gists_url": "https://api.github.com/users/geekscrapy/gists{/gist_id}", "starred_url": "https://api.github.com/users/geekscrapy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geekscrapy/subscriptions", "organizations_url": "https://api.github.com/users/geekscrapy/orgs", "repos_url": "https://api.github.com/users/geekscrapy/repos", "events_url": "https://api.github.com/users/geekscrapy/events{/privacy}", "received_events_url": "https://api.github.com/users/geekscrapy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-03-25T07:08:44Z", "updated_at": "2020-03-27T04:46:17Z", "closed_at": "2020-03-27T04:46:16Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I found that if I try and do a `dup-rows-deep` with a DirSheet I get the following error with no rows in the sheet (columns are correct and as expected).\r\n\r\nThis only appears to happen with a DirSheet, I just tried with a TextSheet which works as expected.\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/path/vd_plugins/radare2/r2/lib/python3.7/site-packages/visidata-2._4dev-py3.7.egg/visidata/threads.py\", line 201, in _toplevelTryFunc\r\n    t.status = func(*args, **kwargs)\r\n  File \"/path/vd_plugins/radare2/r2/lib/python3.7/site-packages/visidata-2._4dev-py3.7.egg/visidata/threads.py\", line 80, in _async_deepcopy\r\n    newlist.append(deepcopy(r))\r\n  File \"/usr/local/Cellar/python/3.7.6_1/Frameworks/Python.framework/Versions/3.7/lib/python3.7/copy.py\", line 180, in deepcopy\r\n    y = _reconstruct(x, memo, *rv)\r\n  File \"/usr/local/Cellar/python/3.7.6_1/Frameworks/Python.framework/Versions/3.7/lib/python3.7/copy.py\", line 281, in _reconstruct\r\n    if hasattr(y, '__setstate__'):\r\n  File \"/path/vd_plugins/radare2/r2/lib/python3.7/site-packages/visidata-2._4dev-py3.7.egg/visidata/path.py\", line 77, in __getattr__\r\n    r = getattr(self._path, k)\r\n  File \"/path/vd_plugins/radare2/r2/lib/python3.7/site-packages/visidata-2._4dev-py3.7.egg/visidata/path.py\", line 77, in __getattr__\r\n    r = getattr(self._path, k)\r\n  File \"/path/vd_plugins/radare2/r2/lib/python3.7/site-packages/visidata-2._4dev-py3.7.egg/visidata/path.py\", line 77, in __getattr__\r\n    r = getattr(self._path, k)\r\n  [Previous line repeated 492 more times]\r\nRecursionError: maximum recursion depth exceeded\r\n```\r\n### Replicate:\r\n\r\n1. Use v2.-4dev branch\r\n2. Open a DirSheet with `vd .`\r\n3. Do a deep copy of the sheet with `dup-rows-deep`\r\n\r\n### Result:\r\nA sheet with no rows, columns as expected for a DirSheet, and the error message above.\r\n\r\n### Expected:\r\nA deep copy of the original DirSheet with all rows (including those selected)\r\n\r\n### cmdlog:\r\n```\r\nsheet\tcol\trow\tlongname\tinput\tkeystrokes\tcomment\r\n\tSqliteSheet\theader\tset-option\t0\r\n\tUsvSheet\tdelimiter\tset-option\t\u241e\r\n\tUsvSheet\trow_delimiter\tset-option\t\u241f\r\n\toverride\tdisp_date_fmt\tset-option\t%Y-%m-%d %H:%M:%S\r\n\t\t\topen-file\t.\to\r\n_files\t\t\tdup-rows-deep\t\tgz\"\topen duplicate sheet with deepcopy of all rows\r\n```\r\n\r\n\r\nAlso, am I correct in understanding that if I make a deep copy, modifications I make to that copy should propagate to the original sheet? And this should include selecting/deselecting rows?", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/489/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/489/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/485", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/485/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/485/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/485/events", "html_url": "https://github.com/saulpw/visidata/issues/485", "id": 581147484, "node_id": "MDU6SXNzdWU1ODExNDc0ODQ=", "number": 485, "title": "[develop] Can't connect to postgresql db", "user": {"login": "sfranky", "id": 1530259, "node_id": "MDQ6VXNlcjE1MzAyNTk=", "avatar_url": "https://avatars.githubusercontent.com/u/1530259?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sfranky", "html_url": "https://github.com/sfranky", "followers_url": "https://api.github.com/users/sfranky/followers", "following_url": "https://api.github.com/users/sfranky/following{/other_user}", "gists_url": "https://api.github.com/users/sfranky/gists{/gist_id}", "starred_url": "https://api.github.com/users/sfranky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sfranky/subscriptions", "organizations_url": "https://api.github.com/users/sfranky/orgs", "repos_url": "https://api.github.com/users/sfranky/repos", "events_url": "https://api.github.com/users/sfranky/events{/privacy}", "received_events_url": "https://api.github.com/users/sfranky/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-03-14T10:34:50Z", "updated_at": "2020-04-13T04:42:39Z", "closed_at": "2020-04-13T04:42:39Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\n\r\nI try to connect to a postgresql database with\r\n```\r\nvd postgres://<user>:<passwd>@IP:PORT/dbname\r\n```\r\n\r\n\r\n**Actual result with screenshot**\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/usr/local/bin/vd\", line 4, in <module>\r\n    __import__('pkg_resources').run_script('visidata===2.-3dev', 'vd')\r\n  File \"/usr/lib/python3.6/site-packages/pkg_resources/__init__.py\", line 654, in run_script\r\n    self.require(requires)[0].run_script(script_name, ns)\r\n  File \"/usr/lib/python3.6/site-packages/pkg_resources/__init__.py\", line 1441, in run_script\r\n    exec(script_code, namespace, namespace)\r\n  File \"/usr/local/lib/python3.6/site-packages/visidata-2._3dev-py3.6.egg/EGG-INFO/scripts/vd\", line 6, in <module>\r\n  File \"/usr/local/lib/python3.6/site-packages/visidata-2._3dev-py3.6.egg/visidata/main.py\", line 215, in vd_cli\r\n  File \"/usr/local/lib/python3.6/site-packages/visidata-2._3dev-py3.6.egg/visidata/main.py\", line 139, in main_vd\r\n  File \"/usr/local/lib/python3.6/site-packages/visidata-2._3dev-py3.6.egg/visidata/vdobj.py\", line 37, in _vdfunc\r\n  File \"/usr/local/lib/python3.6/site-packages/visidata-2._3dev-py3.6.egg/visidata/data.py\", line 193, in openSource\r\n  File \"/usr/local/lib/python3.6/site-packages/visidata-2._3dev-py3.6.egg/visidata/data.py\", line 158, in openPath\r\n  File \"/usr/local/lib/python3.6/site-packages/visidata-2._3dev-py3.6.egg/visidata/loaders/postgres.py\", line 21, in openurl_postgres\r\n  File \"/usr/local/lib/python3.6/site-packages/visidata-2._3dev-py3.6.egg/visidata/path.py\", line 77, in __getattr__\r\nAttributeError: 'PosixPath' object has no attribute 'path'\r\n```\r\n\r\n**Additional context**\r\nLatest dev version, installed with pipx. and all dependencies.\r\nPython 3.6.8\r\nCentOS 7\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/485/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/485/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/481", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/481/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/481/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/481/events", "html_url": "https://github.com/saulpw/visidata/issues/481", "id": 576935810, "node_id": "MDU6SXNzdWU1NzY5MzU4MTA=", "number": 481, "title": "unable to open a CVS using pipe as delimiter", "user": {"login": "verajosemanuel", "id": 15836677, "node_id": "MDQ6VXNlcjE1ODM2Njc3", "avatar_url": "https://avatars.githubusercontent.com/u/15836677?v=4", "gravatar_id": "", "url": "https://api.github.com/users/verajosemanuel", "html_url": "https://github.com/verajosemanuel", "followers_url": "https://api.github.com/users/verajosemanuel/followers", "following_url": "https://api.github.com/users/verajosemanuel/following{/other_user}", "gists_url": "https://api.github.com/users/verajosemanuel/gists{/gist_id}", "starred_url": "https://api.github.com/users/verajosemanuel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/verajosemanuel/subscriptions", "organizations_url": "https://api.github.com/users/verajosemanuel/orgs", "repos_url": "https://api.github.com/users/verajosemanuel/repos", "events_url": "https://api.github.com/users/verajosemanuel/events{/privacy}", "received_events_url": "https://api.github.com/users/verajosemanuel/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2020-03-06T13:35:52Z", "updated_at": "2020-03-16T04:15:54Z", "closed_at": "2020-03-16T04:15:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Small description**\r\nunable to open CSV using pipe as delimiter\r\n\r\n**sample file**\r\n```\r\nSPEED|START|END|RSYNC|SIZE\r\nnormal|2019/12/23 23:00:01|2019/12/23 23:00:33|2019/12/23 23:00:42|96M  total\r\nhigh|2019/12/21 21:01:01|2019/12/21 21:01:44|2019/12/21 22:51:32|19M    total\r\nlow|2019/12/22 02:00:01|2019/12/22 06:26:08|2019/12/22 09:11:44|40G total\r\nnormal|2019/12/22 21:01:01|2019/12/22 21:01:44|2019/12/22 22:55:58|19M  total\r\nhigh|2019/12/23 02:00:01|2019/12/23 06:26:53|2019/12/23 09:13:01|40G    total\r\nlow|2019/12/23 21:01:01|2019/12/23 21:01:44|2019/12/23 21:03:06|20M total\r\nnormal|2019/12/23 22:00:01|2019/12/23 22:01:13|2019/12/23 22:49:32|64M  total\r\nhigh|2019/12/24 00:01:01|2019/12/24 04:04:19|2019/12/24 04:34:28|66G    total\r\nlow|2019/12/24 05:00:01|2019/12/24 06:00:34|2019/12/24 06:52:03|9.0G    total\r\nnormal|2019/12/24 02:00:01|2019/12/24 06:30:49|2019/12/24 09:19:59|40G  total\r\nlow|2019/12/24 04:00:01|2019/12/24 07:23:50|2019/12/24 13:50:29|16G total\r\n```\r\n\r\n**command**\r\n ```\r\n vd --csv-delimiter '|' global.csv # or\r\n vd --csv-delimiter='|' global.csv\r\n```\r\n**obtained result**\r\n![visi1](https://user-images.githubusercontent.com/15836677/76088109-c2330980-5fb7-11ea-898c-691c4857e8e0.png)\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/481/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/481/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/478", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/478/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/478/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/478/events", "html_url": "https://github.com/saulpw/visidata/issues/478", "id": 572966900, "node_id": "MDU6SXNzdWU1NzI5NjY5MDA=", "number": 478, "title": "[pandas] Sorting a table from a pandas-loader supported format raises an error", "user": {"login": "jtrakk", "id": 43392409, "node_id": "MDQ6VXNlcjQzMzkyNDA5", "avatar_url": "https://avatars.githubusercontent.com/u/43392409?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jtrakk", "html_url": "https://github.com/jtrakk", "followers_url": "https://api.github.com/users/jtrakk/followers", "following_url": "https://api.github.com/users/jtrakk/following{/other_user}", "gists_url": "https://api.github.com/users/jtrakk/gists{/gist_id}", "starred_url": "https://api.github.com/users/jtrakk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jtrakk/subscriptions", "organizations_url": "https://api.github.com/users/jtrakk/orgs", "repos_url": "https://api.github.com/users/jtrakk/repos", "events_url": "https://api.github.com/users/jtrakk/events{/privacy}", "received_events_url": "https://api.github.com/users/jtrakk/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 469750831, "node_id": "MDU6TGFiZWw0Njk3NTA4MzE=", "url": "https://api.github.com/repos/saulpw/visidata/labels/help%20wanted", "name": "help wanted", "color": "128A0C", "default": true, "description": null}, {"id": 1297124213, "node_id": "MDU6TGFiZWwxMjk3MTI0MjEz", "url": "https://api.github.com/repos/saulpw/visidata/labels/pandas", "name": "pandas", "color": "cae87a", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-02-28T19:45:44Z", "updated_at": "2020-04-02T05:27:05Z", "closed_at": "2020-04-02T05:21:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Small description**\r\nSorting a table from a parquet file raises an error.\r\n**Expected result**\r\nThe table is sorted.\r\n**Actual result with screenshot**\r\nIf you get an unexpected error, please include the full stack trace that you get with `Ctrl-E`.\r\n\r\n```py\r\n Traceback (most recent call last):                                                                                                            \u2016\r\n   File \"/home/user/tmp/venv/lib/python3.6/site-packages/visidata/vdtui.py\", line 650, in toplevelTryFunc                                      \u2016\r\n     ret = func(*args, **kwargs)                                                                                                               \u2016\r\n   File \"/home/user/tmp/venv/lib/python3.6/site-packages/visidata/vdtui.py\", line 1568, in orderBy                                             \u2016\r\n     self.rows.sort(key=lambda r,cols=cols,prog=prog: prog.addProgress(1) and tuple(c.getTypedValueNoExceptions(r) for c in cols), **kwargs)   \u2016\r\n   File \"/home/user/tmp/venv/lib/python3.6/site-packages/visidata/loaders/_pandas.py\", line 17, in __getattr__                                 \u2016\r\n     return getattr(self.df, k)                                                                                                                \u2016\r\n   File \"/home/user/tmp/venv/lib/python3.6/site-packages/pandas/core/generic.py\", line 5274, in __getattr__                                    \u2016\r\n     return object.__getattribute__(self, name)                                                                                                \u2016\r\n AttributeError: 'DataFrame' object has no attribute 'sort'        \r\n```\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n\r\nCreate a parquet file.\r\n\r\n```py\r\nimport pandas as pd\r\npd.DataFrame({'x': [1,2,3]}).to_parquet('tmp.parquet')\r\n```\r\n\r\nRead the parquet file into visidata.\r\n\r\n```\r\nvd -f pandas tmp.parquet\r\n```\r\n\r\nSort the table by pressing `[`.\r\n\r\n**Additional context**\r\nPlease include the version of VisiData.\r\n\r\nVisiData v1.5.2\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/478/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/478/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/475", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/475/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/475/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/475/events", "html_url": "https://github.com/saulpw/visidata/issues/475", "id": 569546386, "node_id": "MDU6SXNzdWU1Njk1NDYzODY=", "number": 475, "title": "[key columns] If a key column is wider than the screen no other columns can be seen", "user": {"login": "frosencrantz", "id": 631242, "node_id": "MDQ6VXNlcjYzMTI0Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/631242?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frosencrantz", "html_url": "https://github.com/frosencrantz", "followers_url": "https://api.github.com/users/frosencrantz/followers", "following_url": "https://api.github.com/users/frosencrantz/following{/other_user}", "gists_url": "https://api.github.com/users/frosencrantz/gists{/gist_id}", "starred_url": "https://api.github.com/users/frosencrantz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frosencrantz/subscriptions", "organizations_url": "https://api.github.com/users/frosencrantz/orgs", "repos_url": "https://api.github.com/users/frosencrantz/repos", "events_url": "https://api.github.com/users/frosencrantz/events{/privacy}", "received_events_url": "https://api.github.com/users/frosencrantz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-02-23T19:40:40Z", "updated_at": "2020-02-23T23:23:45Z", "closed_at": "2020-02-23T23:23:44Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nIf a key column is wider than the screen no other columns can be seen or scrolled on the the screen.\r\nIt is non-obvious what is wrong.\r\n\r\n**Expected result**\r\nSee some part of non-key columns.\r\n\r\n**Actual result with screenshot**\r\nSorry no screen shot.   But you would see that all you can see is the wide key column, but you can move the cursor to other non-key columns, but you can't see the cursor or the non-key column\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n\r\nSeveral ways to get there:\r\n\r\n* Use a command `g_` or `_` when you have a key column that is wider than the screen.\r\n* The key column is already  wide, but then you shrink the width of the screen, smaller than the width of the key column.\r\n\r\n**Additional context**\r\n\r\nThis might be working as expected, just don't do that.  However, it happened to me a couple times, when I had a wide key column, and the screen became narrow. it seems like the key columns shouldn't be able fill the width of the screen (unless there are only key columns).  So the key columns should leave a little space for non-key columns.  Configurable by the user.\r\n\r\n**Version**\r\nUsing head of develop.", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/475/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/475/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/474", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/474/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/474/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/474/events", "html_url": "https://github.com/saulpw/visidata/issues/474", "id": 569061158, "node_id": "MDU6SXNzdWU1NjkwNjExNTg=", "number": 474, "title": "[date] error with \"date\" column type and python expressions", "user": {"login": "WesleyAC", "id": 5001092, "node_id": "MDQ6VXNlcjUwMDEwOTI=", "avatar_url": "https://avatars.githubusercontent.com/u/5001092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/WesleyAC", "html_url": "https://github.com/WesleyAC", "followers_url": "https://api.github.com/users/WesleyAC/followers", "following_url": "https://api.github.com/users/WesleyAC/following{/other_user}", "gists_url": "https://api.github.com/users/WesleyAC/gists{/gist_id}", "starred_url": "https://api.github.com/users/WesleyAC/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/WesleyAC/subscriptions", "organizations_url": "https://api.github.com/users/WesleyAC/orgs", "repos_url": "https://api.github.com/users/WesleyAC/repos", "events_url": "https://api.github.com/users/WesleyAC/events{/privacy}", "received_events_url": "https://api.github.com/users/WesleyAC/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-02-21T16:37:32Z", "updated_at": "2020-02-21T18:51:14Z", "closed_at": "2020-02-21T18:33:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "Pressing `@` will set the column type \"date\". However, this doesn't seem to play well with using `=` to operate on that column. I expect that, if I have two date columns, `foo` and `bar`, and I press `=` and type `foo > bar`, i will get output showing if the date in column foo is further towards the future relative to the date in column `bar` (specifically, what I'd expect is for `foo` and `bar` to be Python `datetime` objects, which have comparison operations defined). Instead, I get a red `!` symbol in the constructed column (presumably indicating an error - I do not see an error message).\r\n\r\nI'm aware that time as a concept is quite a large can of worms, but it seems reasonable for the date type to be cast into a python `datetime` in derived columns.", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/474/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/474/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/471", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/471/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/471/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/471/events", "html_url": "https://github.com/saulpw/visidata/issues/471", "id": 567140457, "node_id": "MDU6SXNzdWU1NjcxNDA0NTc=", "number": 471, "title": "Errors while calculating sheet name in view/view_pandas", "user": {"login": "ajkerrigan", "id": 19539955, "node_id": "MDQ6VXNlcjE5NTM5OTU1", "avatar_url": "https://avatars.githubusercontent.com/u/19539955?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ajkerrigan", "html_url": "https://github.com/ajkerrigan", "followers_url": "https://api.github.com/users/ajkerrigan/followers", "following_url": "https://api.github.com/users/ajkerrigan/following{/other_user}", "gists_url": "https://api.github.com/users/ajkerrigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/ajkerrigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ajkerrigan/subscriptions", "organizations_url": "https://api.github.com/users/ajkerrigan/orgs", "repos_url": "https://api.github.com/users/ajkerrigan/repos", "events_url": "https://api.github.com/users/ajkerrigan/events{/privacy}", "received_events_url": "https://api.github.com/users/ajkerrigan/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1297124213, "node_id": "MDU6TGFiZWwxMjk3MTI0MjEz", "url": "https://api.github.com/repos/saulpw/visidata/labels/pandas", "name": "pandas", "color": "cae87a", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-02-18T20:31:05Z", "updated_at": "2020-02-21T06:45:01Z", "closed_at": "2020-02-21T06:45:01Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "**Small description**\r\n\r\nWhen opening VisiData from a REPL using `visidata.view()` or `visidata.view_pandas()`, errors evaluating the `sheet.name` property prevent VisiData from loading properly.\r\n\r\n**Expected result**\r\n\r\nVisiData can be used from a REPL to view arbitrary Python objects with `visidata.view()`, or Pandas DataFrames with `visidata.view_pandas()`.\r\n\r\n**Actual result with screenshot**\r\n\r\nError invoking `visidata.view_pandas()`:\r\n\r\n```\r\n~/code/visidata/visidata/basesheet.py in name(self)\r\n    142         if self._name:\r\n    143             return self._name\r\n--> 144         if not self.source:\r\n    145             return ''\r\n    146         return self.source.name + '_'+self.rowtype\r\n\r\n~/.pyenv/versions/3.8.0/envs/vd-dev/lib/python3.8/site-packages/pandas/core/generic.py in __nonzero__(self)\r\n   1550\r\n   1551     def __nonzero__(self):\r\n-> 1552         raise ValueError(\r\n   1553             \"The truth value of a {0} is ambiguous. \"\r\n   1554             \"Use a.empty, a.bool(), a.item(), a.any() or a.all().\".format(\r\n\r\nValueError: The truth value of a DataFrame is ambiguous. Use a.empty, a.bool(), a.item(), a.any() or a.all().\r\n```\r\n\r\nError invoking `visidata.view()` (tested with similar results against lists, dicts, and lists of dicts):\r\n\r\n```\r\n~/code/visidata/visidata/basesheet.py in name(self)\r\n    144         if not self.source:\r\n    145             return ''\r\n--> 146         return self.source.name + '_'+self.rowtype\r\n    147\r\n    148     @name.setter\r\n\r\nAttributeError: 'list' object has no attribute 'name'\r\n```\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n\r\nFrom a Python REPL in an environment with VisiData installed from `develop` (tested against commit 5b72a2cdc77ff21e3dc0dbd8e8a11bfed5de911e):\r\n\r\n```python\r\nimport visidata\r\nimport pandas as pd\r\n\r\nobj = [{'col1': 10, 'col2': 'fish', 'col3': True}]\r\n\r\nvisidata.view(obj)\r\nvisidata.view_pandas(pd.DataFrame(obj))\r\n```\r\n\r\n**Additional context**\r\nPlease include the version of VisiData.\r\n\r\n2.-3dev (commit 5b72a2cdc77ff21e3dc0dbd8e8a11bfed5de911e)\r\n\r\nNote that the view/view_pandas functionality is related to #470. And in case it's useful, here is some historical context around recent changes to `sheet.name` that seems relevant here:\r\n\r\n9c00900a7ae5a267d6085b62c72f42cb724e758b\r\nhttps://github.com/saulpw/visidata/pull/436\r\nhttps://github.com/saulpw/visidata/issues/432\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/471/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 1, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/471/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/464", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/464/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/464/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/464/events", "html_url": "https://github.com/saulpw/visidata/issues/464", "id": 561639044, "node_id": "MDU6SXNzdWU1NjE2MzkwNDQ=", "number": 464, "title": "[batch] AttributeError in batch replay", "user": {"login": "Geoffrey42", "id": 14931652, "node_id": "MDQ6VXNlcjE0OTMxNjUy", "avatar_url": "https://avatars.githubusercontent.com/u/14931652?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Geoffrey42", "html_url": "https://github.com/Geoffrey42", "followers_url": "https://api.github.com/users/Geoffrey42/followers", "following_url": "https://api.github.com/users/Geoffrey42/following{/other_user}", "gists_url": "https://api.github.com/users/Geoffrey42/gists{/gist_id}", "starred_url": "https://api.github.com/users/Geoffrey42/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Geoffrey42/subscriptions", "organizations_url": "https://api.github.com/users/Geoffrey42/orgs", "repos_url": "https://api.github.com/users/Geoffrey42/repos", "events_url": "https://api.github.com/users/Geoffrey42/events{/privacy}", "received_events_url": "https://api.github.com/users/Geoffrey42/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2020-02-07T13:31:41Z", "updated_at": "2020-02-09T06:44:55Z", "closed_at": "2020-02-09T06:44:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Small description**\r\n\r\nHi, I want to automate some CSV files edition using **vd** replays. To be more specific:\r\nFrom an existing CSV, I add a new column and save the sheet as a new file. That's it. \r\n\r\nI believe it's probably some simple task I can't wrap my mind on it.\r\n\r\n**Expected result**\r\n\r\nIf I replay the log file using the interface (```--play``` option) everything works fine and the newly edited file is created. If I try to do the same without interface using ```---batch``` mode I don't have the new file.\r\n\r\n**Actual result with screenshot**\r\n\r\nI get no error.\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n\r\nHere are the samples:\r\n\r\n**original csv:** addresses.csv\r\n\r\n|First name           |Last name|street                          |state      |ZIP|\r\n|---------------------|---------|--------------------------------|-----------|---|\r\n|John                 |Doe      |120 jefferson st.               |Riverside  | NJ|\r\n|Jack                 |McGinnis |220 hobo Av.                    |Phila      | PA|\r\n|John \"Da Man\"        |Repici   |120 Jefferson St.               |Riverside  | NJ|\r\n|Stephen              |Tyler    |7452 Terrace \"At the Plaza\" road|SomeTown   |SD |\r\n|                     |Blankman |                                |SomeTown   | SD|\r\n|Joan \"the bone\", Anne|Jet      |9th, at Terrace plc             |Desert City|CO |\r\n\r\n**resulting csv:** addresses-edited.csv\r\n\r\n|Team                 |First name|Last name                       |street     |state|ZIP   |\r\n|---------------------|----------|--------------------------------|-----------|-----|------|\r\n|IT                   |John      |Doe                             |120 jefferson st.|Riverside|NJ    |\r\n|IT                   |Jack      |McGinnis                        |220 hobo Av.|Phila|PA    |\r\n|IT                   |John \"Da Man\"|Repici                          |120 Jefferson St.|Riverside|NJ    |\r\n|IT                   |Stephen   |Tyler                           |7452 Terrace \"At the Plaza\" road|SomeTown|SD    |\r\n|IT                   |          |Blankman                        |           |SomeTown|SD    |\r\n|IT                   |Joan \"the bone\", Anne|Jet                             |9th, at Terrace plc|Desert City|CO    |\r\n\r\n\r\n**commands log file:** cmdlog-addresses.vd\r\n\r\n|sheet                |col     |row                             |longname   |input|keystrokes|comment|\r\n|---------------------|--------|--------------------------------|-----------|-----|----------|-------|\r\n|                     |        |                                |open-file  |addresses.csv|o         |       |\r\n|addresses            |First name|                                |addcol-new |Team |za        |       |\r\n|addresses            |Team    |0                               |edit-cell  |IT   |e         |       |\r\n|addresses            |Team    |                                |fill-nulls |     |f         |       |\r\n|addresses            |Team    |                                |slide-left |     |H         |       |\r\n|addresses            |        |                                |save-sheet |addresses-edited.csv|^S        |       |\r\n\r\n\r\n**steps to reproduce:**\r\n1) Check the directory with:\r\n\r\n```shell\r\n$ ls\r\naddresses.csv  cmdlog-addresses.vd\r\n$\r\n```\r\n\r\n2) Play the record in batch mode:\r\n \r\n```shell\r\n$ vd -b cmdlog-addresses.vd\r\nopening cmdlog-addresses as vd\r\n$\r\n```\r\n3) Check if ```addresses-edited.csv``` is created:\r\n\r\n```shell\r\n$ ls\r\naddresses.csv  cmdlog-addresses.vd\r\n$\r\n```\r\n\r\n4) Alternatively, play the record using ```-p``` option:\r\n\r\n```shell\r\n$ vd -p cmdlog-addresses.vd\r\n```\r\n\r\n5) Watch the record and quit the sheet\r\n\r\n6) Check again if ```addresses-edited.csv``` is created:\r\n\r\n```shell\r\n$ ls\r\naddresses-edited.csv  addresses.csv  cmdlog-addresses.vd\r\n```\r\n\r\n**Additional context**\r\nPlease include the version of VisiData.\r\n\r\nsaul.pw/VisiData v1.5.2\r\n\r\nThanks for the help, *vd* really is a cool product.\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/464/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/464/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/459", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/459/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/459/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/459/events", "html_url": "https://github.com/saulpw/visidata/issues/459", "id": 560317736, "node_id": "MDU6SXNzdWU1NjAzMTc3MzY=", "number": 459, "title": "[tsv] Problem reading file that contains a CRLF within a quoted cell", "user": {"login": "aborruso", "id": 30607, "node_id": "MDQ6VXNlcjMwNjA3", "avatar_url": "https://avatars.githubusercontent.com/u/30607?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aborruso", "html_url": "https://github.com/aborruso", "followers_url": "https://api.github.com/users/aborruso/followers", "following_url": "https://api.github.com/users/aborruso/following{/other_user}", "gists_url": "https://api.github.com/users/aborruso/gists{/gist_id}", "starred_url": "https://api.github.com/users/aborruso/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aborruso/subscriptions", "organizations_url": "https://api.github.com/users/aborruso/orgs", "repos_url": "https://api.github.com/users/aborruso/repos", "events_url": "https://api.github.com/users/aborruso/events{/privacy}", "received_events_url": "https://api.github.com/users/aborruso/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-02-05T11:43:30Z", "updated_at": "2020-02-09T06:47:58Z", "closed_at": "2020-02-09T06:47:58Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\n\r\nWhen I read [this](https://github.com/saulpw/visidata/files/4159251/input.zip) TSV file, that has inside cells some CRLF, visidata does not map correctly cells.\r\n\r\n**Expected result**\r\n\r\nUsing LibreOffice I have no problem\r\n\r\n![image](https://user-images.githubusercontent.com/30607/73838760-b9161780-4814-11ea-8685-8af81387df74.png)\r\n\r\n**Actual result with screenshot**\r\n\r\nUsing VisiData v1.5.2 I have this\r\n\r\n![image](https://user-images.githubusercontent.com/30607/73838833-e1057b00-4814-11ea-9d67-e2478acb71a6.png)\r\n\r\nThat TSV does not seem to me wrong, because the CRLFs are inside double quotes.", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/459/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/459/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/458", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/458/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/458/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/458/events", "html_url": "https://github.com/saulpw/visidata/issues/458", "id": 559872979, "node_id": "MDU6SXNzdWU1NTk4NzI5Nzk=", "number": 458, "title": "[develop] reverse history for commands is being strange", "user": {"login": "anjakefala", "id": 7489659, "node_id": "MDQ6VXNlcjc0ODk2NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/7489659?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anjakefala", "html_url": "https://github.com/anjakefala", "followers_url": "https://api.github.com/users/anjakefala/followers", "following_url": "https://api.github.com/users/anjakefala/following{/other_user}", "gists_url": "https://api.github.com/users/anjakefala/gists{/gist_id}", "starred_url": "https://api.github.com/users/anjakefala/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anjakefala/subscriptions", "organizations_url": "https://api.github.com/users/anjakefala/orgs", "repos_url": "https://api.github.com/users/anjakefala/repos", "events_url": "https://api.github.com/users/anjakefala/events{/privacy}", "received_events_url": "https://api.github.com/users/anjakefala/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-02-04T17:34:35Z", "updated_at": "2020-02-05T17:22:31Z", "closed_at": "2020-02-05T17:22:31Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "**Small description**\r\nSince commit e2cd508610e82f1cf12189b64c3676f39c31f548, scrolling through a command's history started displaying `\"num columns for new sheet: \"` instead of the command's history.\r\n\r\n**Steps to reproduce**\r\nPress `/`. Type a search.\r\nPress `/` again. Scroll up to see your previous searched query. Instead see \"num columns for new sheet: \".\r\n\r\n**Additional context**\r\nDevelop branch.\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/458/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/458/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/452", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/452/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/452/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/452/events", "html_url": "https://github.com/saulpw/visidata/issues/452", "id": 555989532, "node_id": "MDU6SXNzdWU1NTU5ODk1MzI=", "number": 452, "title": "[develop csv] \"_csv.Error\" exception should not halt loading of a csv file", "user": {"login": "anjakefala", "id": 7489659, "node_id": "MDQ6VXNlcjc0ODk2NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/7489659?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anjakefala", "html_url": "https://github.com/anjakefala", "followers_url": "https://api.github.com/users/anjakefala/followers", "following_url": "https://api.github.com/users/anjakefala/following{/other_user}", "gists_url": "https://api.github.com/users/anjakefala/gists{/gist_id}", "starred_url": "https://api.github.com/users/anjakefala/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anjakefala/subscriptions", "organizations_url": "https://api.github.com/users/anjakefala/orgs", "repos_url": "https://api.github.com/users/anjakefala/repos", "events_url": "https://api.github.com/users/anjakefala/events{/privacy}", "received_events_url": "https://api.github.com/users/anjakefala/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-01-28T05:17:57Z", "updated_at": "2020-02-02T05:56:49Z", "closed_at": "2020-02-02T05:56:49Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "**Small description**\r\nWe have a [test errors.vd](https://raw.githubusercontent.com/saulpw/visidata/develop/tests/errors.vd) which checks that VisiData reasonably loads a [csv file that has several problems](https://github.com/saulpw/visidata/issues/376). This test has been failing to load the file, upon hitting a row with a NUL byte. Instead of catching the error, and storing it as the value for the row, VisiData throws an exception: `_csv.Error: line contains NUL byte`. \r\n\r\nThis has been occurring since f63320b4b3073f41b62e0a31f4ac85fd98cd9e9b.\r\n\r\n\r\n**Expected result**\r\nThe csv loads fully, the error becomes the row display value.\r\n\r\n```\r\nIndex                                \u2575 Year         \u2575 Age             \u2575 Name               \u2575 Movie                         \u2551  \r\n 3 1930                               \u2575 28           \u2575 Norma Shearer   \u2575 The Divorcee\u00b7      \u2575                              \u2300\u2551  \r\n 4                                    \u2575 1931         \u2575 63              \u2575 Marie Dressler     \u2575 Min and Bill                  \u2551  \r\n 5                                    \u2575 1932         \u2575 32              \u2575 Helen Hayes        \u2575 The Sin of Madelon Claudet\u00b7   \u2551  \r\n [csv.Error: line contains NULL byte] \u2575             \u2300\u2575                \u2300\u2575                   \u2300\u2575                              \u2300\u2551  \r\n 7                                    \u2575 hell\u2603 1934   \u2575 31              \u2575 Claudette Colbert  \u2575 It Happened One Night         \u2551  \r\n 8                                    \u2575 hell\ufffd 1935   \u2575 27              \u2575 Bette Davis        \u2575 Dangerous                     \u2551                                                                                                                                       \r\n```\r\n\r\n**Actual result with screenshot**\r\nFails to load once it hits the NUL byte. Halts loading, issues a `warning` and an Exception.\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"visidata/visidata/threads.py\", line 202, in _toplevelTryFunc\r\n    t.status = func(*args, **kwargs)\r\n  File \"visidata/visidata/sheets.py\", line 831, in reload\r\n    for r in vd.Progress(itsource, gerund='loading', total=0):\r\n  File \"visidata/visidata/threads.py\", line 69, in __iter__\r\n    for item in self.iterable:\r\n  File \"visidata/visidata/loaders/csv.py\", line 42, in iterload\r\n    yield from rdr\r\n_csv.Error: line contains NULL byte\r\n```\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\nvd -p tests/errors.vd\r\n\r\n**Additional context**\r\ndevelop branch\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/452/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/452/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/444", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/444/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/444/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/444/events", "html_url": "https://github.com/saulpw/visidata/issues/444", "id": 550898535, "node_id": "MDU6SXNzdWU1NTA4OTg1MzU=", "number": 444, "title": "Display columns are duplicated when loading JSON with a single object", "user": {"login": "ajkerrigan", "id": 19539955, "node_id": "MDQ6VXNlcjE5NTM5OTU1", "avatar_url": "https://avatars.githubusercontent.com/u/19539955?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ajkerrigan", "html_url": "https://github.com/ajkerrigan", "followers_url": "https://api.github.com/users/ajkerrigan/followers", "following_url": "https://api.github.com/users/ajkerrigan/following{/other_user}", "gists_url": "https://api.github.com/users/ajkerrigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/ajkerrigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ajkerrigan/subscriptions", "organizations_url": "https://api.github.com/users/ajkerrigan/orgs", "repos_url": "https://api.github.com/users/ajkerrigan/repos", "events_url": "https://api.github.com/users/ajkerrigan/events{/privacy}", "received_events_url": "https://api.github.com/users/ajkerrigan/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-01-16T15:56:33Z", "updated_at": "2020-01-21T07:11:45Z", "closed_at": "2020-01-21T07:11:44Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "**Small description**\r\n\r\nIf I open a JSON file which contains a single JSON object rather than an array of objects, its columns are duplicated in the VisiData window. Sample contents (`singleitem.json`):\r\n\r\n```json\r\n{\r\n  \"key1\": \"val1\",\r\n  \"key2\": \"val2\"\r\n}\r\n```\r\n\r\n**Expected result**\r\n\r\nOpening a JSON file with a single object should appear the same as opening a JSON file containing an _array_ containing only that object.\r\n\r\nIn VisiData 1.5.2, this works as expected:\r\n\r\n```\r\n key1   | key2   \u2016\r\n val1   | val2   \u2016\r\n```\r\n\r\n**Actual result with screenshot**\r\n\r\nIn VisiData 2.-3dev:\r\n\r\n```\r\n key1   \u2575 key2   \u2575 key1   \u2575 key2   \u2551\r\n val1   \u2575 val2   \u2575 val1   \u2575 val2   \u2551\r\n```\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n\r\n```\r\necho '{\r\n  \"key1\": \"val1\",\r\n  \"key2\": \"val2\"\r\n}' > singleitem.json\r\n\r\nvd singleitem.json\r\n```\r\n\r\n**Additional context**\r\n\r\nVersion: VisiData 2.-3dev, most recently 0164c10.\r\n\r\nNote that this issue appears to be only a _display/UI_ quirk. Saving the file does _not_ cause duplicated columns in the output.", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/444/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/444/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/439", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/439/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/439/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/439/events", "html_url": "https://github.com/saulpw/visidata/issues/439", "id": 545919998, "node_id": "MDU6SXNzdWU1NDU5MTk5OTg=", "number": 439, "title": "[develop fixed format] Fixed format has a traceback if --fixed_rows is less than --skip", "user": {"login": "frosencrantz", "id": 631242, "node_id": "MDQ6VXNlcjYzMTI0Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/631242?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frosencrantz", "html_url": "https://github.com/frosencrantz", "followers_url": "https://api.github.com/users/frosencrantz/followers", "following_url": "https://api.github.com/users/frosencrantz/following{/other_user}", "gists_url": "https://api.github.com/users/frosencrantz/gists{/gist_id}", "starred_url": "https://api.github.com/users/frosencrantz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frosencrantz/subscriptions", "organizations_url": "https://api.github.com/users/frosencrantz/orgs", "repos_url": "https://api.github.com/users/frosencrantz/repos", "events_url": "https://api.github.com/users/frosencrantz/events{/privacy}", "received_events_url": "https://api.github.com/users/frosencrantz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-01-06T20:18:44Z", "updated_at": "2020-01-23T06:32:34Z", "closed_at": "2020-01-23T06:32:34Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nFixed format has a traceback  if --fixed_rows is less than --skip 15\r\n\r\nThis command gives a traceback: vd -f fixed --fixed-rows 10 --skip 15\r\n\r\n**Expected result**\r\nFixed-rows applies after the initial lines are skipped.\r\n\r\n**Actual result with screenshot**\r\n```\r\nTraceback (most recent call last):\r\n\u00a0 \u00a0File \"/usr/lib/python3/site-packages/visidata/threads.py\", line 202, in _toplevelTryFunc\r\n\u00a0 \u00a0 \u00a0t.status = func(*args, **kwargs)\r\n\u00a0 \u00a0File \"/usr/lib/python3/site-packages/visidata/sheets.py\", line 828, in reload\r\n\u00a0 \u00a0 \u00a0list(self.optlines(itsource, 'skip'))\r\n\u00a0 \u00a0File \"/usr/lib/python3/site-packages/visidata/sheets.py\", line 817, in optlines\r\n\u00a0 \u00a0 \u00a0yield next(it)\r\n\u00a0 \u00a0File \"/usr/lib/python3/site-packages/visidata/loaders/fixed_width.py\", line 67, in iterload\r\n\u00a0 \u00a0 \u00a0self.setColNames(self.headerlines)\r\n\u00a0AttributeError: 'FixedWidthColumnsSheet' object has no attribute 'headerlines'\u00a0 \u00a0 \u00a0 \u00a0\u00a0\r\n```\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\nvd -f fixed --fixed-rows 10 --skip 15\r\n\r\n**Additional context**\r\nPlease include the version of VisiData.\r\nlatest head from develop v2.3", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/439/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/439/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/437", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/437/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/437/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/437/events", "html_url": "https://github.com/saulpw/visidata/issues/437", "id": 545561116, "node_id": "MDU6SXNzdWU1NDU1NjExMTY=", "number": 437, "title": "\"No module named 'requests'\" when loading wikipedia URL on NixOS", "user": {"login": "WesleyAC", "id": 5001092, "node_id": "MDQ6VXNlcjUwMDEwOTI=", "avatar_url": "https://avatars.githubusercontent.com/u/5001092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/WesleyAC", "html_url": "https://github.com/WesleyAC", "followers_url": "https://api.github.com/users/WesleyAC/followers", "following_url": "https://api.github.com/users/WesleyAC/following{/other_user}", "gists_url": "https://api.github.com/users/WesleyAC/gists{/gist_id}", "starred_url": "https://api.github.com/users/WesleyAC/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/WesleyAC/subscriptions", "organizations_url": "https://api.github.com/users/WesleyAC/orgs", "repos_url": "https://api.github.com/users/WesleyAC/repos", "events_url": "https://api.github.com/users/WesleyAC/events{/privacy}", "received_events_url": "https://api.github.com/users/WesleyAC/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-01-06T06:18:52Z", "updated_at": "2020-01-08T09:52:52Z", "closed_at": "2020-01-06T15:58:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Small description**\r\n\r\nI ran `vd https://en.wikipedia.org/wiki/New_York_City_Subway_stations`, on NixOS (using the `visidata` nixOS package).\r\n\r\n**Expected result**\r\n\r\nvisidata runs and opens the tables in the requested wikipedia page\r\n\r\n**Actual result with screenshot**\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/nix/store/pf173kdl821b0g753yzfiibymyvxr0wz-visidata-1.5.2/bin/.vd-wrapped\", line 153, in <module>\r\n    main()\r\n  File \"/nix/store/pf173kdl821b0g753yzfiibymyvxr0wz-visidata-1.5.2/bin/.vd-wrapped\", line 119, in main\r\n    vs = openSource(src)\r\n  File \"/nix/store/pf173kdl821b0g753yzfiibymyvxr0wz-visidata-1.5.2/lib/python3.7/site-packages/visidata/data.py\", line 239, in openSource\r\n    return openSource(UrlPath(p), filetype)  # convert to Path and recurse\r\n  File \"/nix/store/pf173kdl821b0g753yzfiibymyvxr0wz-visidata-1.5.2/lib/python3.7/site-packages/visidata/data.py\", line 246, in openSource\r\n    return getGlobals()[openfunc](p, filetype=filetype)\r\n  File \"/nix/store/pf173kdl821b0g753yzfiibymyvxr0wz-visidata-1.5.2/lib/python3.7/site-packages/visidata/loaders/http.py\", line 17, in openurl_http\r\n    import requests\r\nModuleNotFoundError: No module named 'requests'\r\n```\r\n\r\n**Additional context**\r\n\r\n`vd --version`: `saul.pw/VisiData v1.5.2`\r\n\r\nCC @7c6f434c, who's listed as the maintainer of the visidata NixOS package", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/437/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/437/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/433", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/433/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/433/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/433/events", "html_url": "https://github.com/saulpw/visidata/issues/433", "id": 545457948, "node_id": "MDU6SXNzdWU1NDU0NTc5NDg=", "number": 433, "title": "[colorizer]  Adding a colorizer applies to all sheets not just the sheet the colorizer was added to.", "user": {"login": "frosencrantz", "id": 631242, "node_id": "MDQ6VXNlcjYzMTI0Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/631242?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frosencrantz", "html_url": "https://github.com/frosencrantz", "followers_url": "https://api.github.com/users/frosencrantz/followers", "following_url": "https://api.github.com/users/frosencrantz/following{/other_user}", "gists_url": "https://api.github.com/users/frosencrantz/gists{/gist_id}", "starred_url": "https://api.github.com/users/frosencrantz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frosencrantz/subscriptions", "organizations_url": "https://api.github.com/users/frosencrantz/orgs", "repos_url": "https://api.github.com/users/frosencrantz/repos", "events_url": "https://api.github.com/users/frosencrantz/events{/privacy}", "received_events_url": "https://api.github.com/users/frosencrantz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-01-05T19:40:52Z", "updated_at": "2020-03-08T17:21:15Z", "closed_at": "2020-03-06T07:01:07Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nFrom https://github.com/saulpw/visidata/issues/430#issuecomment-570672955\r\n@saulpw says:\r\nsheet.addColorizer seems like it should only add the colorizer to the current sheet, I agree. This is probably just a bug, though it may prove difficult to fix in the short term. We'll look into this, esp as we finalize the API for 2.0.\r\n\r\n\r\n**Expected result**\r\nApply only to the sheet that sheet sheet.addColorizer was called on.  Though I could see how it would be useful either way to make a global or local colorizer.\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/433/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/433/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/432", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/432/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/432/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/432/events", "html_url": "https://github.com/saulpw/visidata/issues/432", "id": 545219446, "node_id": "MDU6SXNzdWU1NDUyMTk0NDY=", "number": 432, "title": "[develop] -P longname is not working", "user": {"login": "anjakefala", "id": 7489659, "node_id": "MDQ6VXNlcjc0ODk2NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/7489659?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anjakefala", "html_url": "https://github.com/anjakefala", "followers_url": "https://api.github.com/users/anjakefala/followers", "following_url": "https://api.github.com/users/anjakefala/following{/other_user}", "gists_url": "https://api.github.com/users/anjakefala/gists{/gist_id}", "starred_url": "https://api.github.com/users/anjakefala/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anjakefala/subscriptions", "organizations_url": "https://api.github.com/users/anjakefala/orgs", "repos_url": "https://api.github.com/users/anjakefala/repos", "events_url": "https://api.github.com/users/anjakefala/events{/privacy}", "received_events_url": "https://api.github.com/users/anjakefala/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-01-04T00:50:16Z", "updated_at": "2020-01-23T07:00:55Z", "closed_at": "2020-01-23T07:00:55Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "**Small description**\r\n`vd -P longname` was introduced in v2.-2. It replays *longname*. \r\n\r\nSince 751de48351533b3f5fb0ebde35ec638129dc09fd it instead resuts in this stacktrace:\r\n```\r\nTraceback (most recent call last):\r\n  File \"visidata/basesheet.py\", line 116, in exec_command\r\n    vd.cmdlog.beforeExecHook(self, cmd, '', keystrokes)\r\n  File \"visidata/cmdlog.py\", line 143, in beforeExecHook\r\n    sheetname = sheet.name\r\n  File \"visidata/basesheet.py\", line 142, in name\r\n    return self._name or self.source.name + '_'+self.rowtype\r\nAttributeError: 'NoneType' object has no attribute 'name'\r\n```\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n`vd -P open-plugins`\r\n\r\n**Additional context**\r\n`develop` branch\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/432/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/432/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/427", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/427/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/427/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/427/events", "html_url": "https://github.com/saulpw/visidata/issues/427", "id": 541987095, "node_id": "MDU6SXNzdWU1NDE5ODcwOTU=", "number": 427, "title": "--config command line option does not appear to work", "user": {"login": "osunderdog", "id": 5431447, "node_id": "MDQ6VXNlcjU0MzE0NDc=", "avatar_url": "https://avatars.githubusercontent.com/u/5431447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/osunderdog", "html_url": "https://github.com/osunderdog", "followers_url": "https://api.github.com/users/osunderdog/followers", "following_url": "https://api.github.com/users/osunderdog/following{/other_user}", "gists_url": "https://api.github.com/users/osunderdog/gists{/gist_id}", "starred_url": "https://api.github.com/users/osunderdog/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/osunderdog/subscriptions", "organizations_url": "https://api.github.com/users/osunderdog/orgs", "repos_url": "https://api.github.com/users/osunderdog/repos", "events_url": "https://api.github.com/users/osunderdog/events{/privacy}", "received_events_url": "https://api.github.com/users/osunderdog/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-12-24T04:40:04Z", "updated_at": "2019-12-24T08:39:08Z", "closed_at": "2019-12-24T08:39:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Small description**\r\nvd --config {filename} does not execute python code in {filename}.\r\n \r\n**Expected result**\r\nFrom the help documentation `vd --config {filename}` should exec {filename} on startup.  \r\n\r\n**Actual result with screenshot**\r\nThe only way I can get a config file to execute is if the config file is saved at `$HOME/.visidatarc`.\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\nCreate config file /tmp/visidata-config.py:\r\n```\r\nraise NotImplementedError()\r\n```\r\nrun the command:\r\n`./bin/vd --config /tmp/visidata-config.py`\r\npress `ctrl-e`\r\nobserve no exception. (expected NotImplementedError)\r\n\r\nLink /tmp/visidata-config.py to $HOME/.visidatarc and run vd and observe that the exception is hit.\r\n```\r\nln -s /tmp/visidata-config.py $HOME/.visidatarc\r\n./bin/vd\r\n```\r\npress `ctrl-e`\r\nobserve expected exception\r\n\r\n**Additional context**\r\nbranch v2.-2 (202d235a)\r\n\r\n**Notes**\r\nWhat I want to be able to do is to have multiple different config files containing different functions that are useful in the context.  I though using the --config would do this, but it does not appear to be implemented at the moment.  If I get time I'll try and do a PR for this.  \r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/427/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/427/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/426", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/426/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/426/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/426/events", "html_url": "https://github.com/saulpw/visidata/issues/426", "id": 541793952, "node_id": "MDU6SXNzdWU1NDE3OTM5NTI=", "number": 426, "title": "[develop] options set internally or by plugins should not show up on cmdlog", "user": {"login": "anjakefala", "id": 7489659, "node_id": "MDQ6VXNlcjc0ODk2NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/7489659?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anjakefala", "html_url": "https://github.com/anjakefala", "followers_url": "https://api.github.com/users/anjakefala/followers", "following_url": "https://api.github.com/users/anjakefala/following{/other_user}", "gists_url": "https://api.github.com/users/anjakefala/gists{/gist_id}", "starred_url": "https://api.github.com/users/anjakefala/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anjakefala/subscriptions", "organizations_url": "https://api.github.com/users/anjakefala/orgs", "repos_url": "https://api.github.com/users/anjakefala/repos", "events_url": "https://api.github.com/users/anjakefala/events{/privacy}", "received_events_url": "https://api.github.com/users/anjakefala/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-12-23T15:12:03Z", "updated_at": "2020-06-24T06:33:36Z", "closed_at": "2020-06-24T06:33:35Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "**Small description**\r\nWe have a few internal hard-coded options for specific loaders. These options will always apply, and thus should not show up in the cmdlog.\r\n\r\n**Expected result**\r\nThe cmdlog only contains options that have been configured by the user for the current session.\r\n\r\n**Actual result with screenshot**\r\n`cmdlog-sheet`\r\n![D](https://user-images.githubusercontent.com/7489659/71365290-879b0280-256c-11ea-9880-875649c83d7e.png)\r\n\r\n`cmdlog-all`\r\n![gD](https://user-images.githubusercontent.com/7489659/71365311-95508800-256c-11ea-8ad4-3250e11321a3.png)\r\n\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\nOpen any file. Inspect the cmdlogs with `D` and `gD`.\r\n\r\n**Additional context**\r\ndevelop\r\n\r\nThis is a sister issue to #510.", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/426/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/426/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/425", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/425/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/425/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/425/events", "html_url": "https://github.com/saulpw/visidata/issues/425", "id": 541790269, "node_id": "MDU6SXNzdWU1NDE3OTAyNjk=", "number": 425, "title": "[develop] assignment of sheet shortcuts is faulty", "user": {"login": "anjakefala", "id": 7489659, "node_id": "MDQ6VXNlcjc0ODk2NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/7489659?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anjakefala", "html_url": "https://github.com/anjakefala", "followers_url": "https://api.github.com/users/anjakefala/followers", "following_url": "https://api.github.com/users/anjakefala/following{/other_user}", "gists_url": "https://api.github.com/users/anjakefala/gists{/gist_id}", "starred_url": "https://api.github.com/users/anjakefala/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anjakefala/subscriptions", "organizations_url": "https://api.github.com/users/anjakefala/orgs", "repos_url": "https://api.github.com/users/anjakefala/repos", "events_url": "https://api.github.com/users/anjakefala/events{/privacy}", "received_events_url": "https://api.github.com/users/anjakefala/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-12-23T15:02:05Z", "updated_at": "2020-02-10T21:03:50Z", "closed_at": "2020-02-10T21:03:50Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "**Small description**\r\nThe automated assignment of sheet shortcuts is currently faulty.\r\n\r\n**Edit** The manual assignment also does not work.\r\n\r\n**Expected result**\r\nThe first sheet would get assigned shortcut 1, the second shortcut 2, etc.\r\n\r\n**Actual result with screenshot**\r\nThe second sheet got assigned shortcut `o`.\r\n![Screenshot from 2019-12-23 10-00-36](https://user-images.githubusercontent.com/7489659/71364741-173fb180-256b-11ea-897f-1ab64c482dcb.png)\r\n\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n`vd sample_data/sample.tsv sample_data/benchmark.csv`\r\n\r\n**Additional context**\r\ndevelop\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/425/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/425/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/424", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/424/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/424/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/424/events", "html_url": "https://github.com/saulpw/visidata/issues/424", "id": 541509272, "node_id": "MDU6SXNzdWU1NDE1MDkyNzI=", "number": 424, "title": "fixed format gets an extra leading column with header&column value '[1]'", "user": {"login": "frosencrantz", "id": 631242, "node_id": "MDQ6VXNlcjYzMTI0Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/631242?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frosencrantz", "html_url": "https://github.com/frosencrantz", "followers_url": "https://api.github.com/users/frosencrantz/followers", "following_url": "https://api.github.com/users/frosencrantz/following{/other_user}", "gists_url": "https://api.github.com/users/frosencrantz/gists{/gist_id}", "starred_url": "https://api.github.com/users/frosencrantz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frosencrantz/subscriptions", "organizations_url": "https://api.github.com/users/frosencrantz/orgs", "repos_url": "https://api.github.com/users/frosencrantz/repos", "events_url": "https://api.github.com/users/frosencrantz/events{/privacy}", "received_events_url": "https://api.github.com/users/frosencrantz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-12-22T22:34:57Z", "updated_at": "2019-12-23T07:10:31Z", "closed_at": "2019-12-23T07:10:30Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nfixed format gets an extra leading column with header&column value '[1]' in the UI.  It looks like the value might an array with a string that is input the line.\r\n\r\n**Expected result**\r\nNo extra column\r\n\r\n**Actual result with screenshot**\r\nNo stack trace.  If this is not reproducible I'll work on getting a screenshot.\r\n\r\n```\r\n(echo  \"WXYZaXYZbXYZc\" ; echo \"WXYZdWXYZeWXYZf\" ; echo \"WXYZgggZhhhZiiii\") | sed -e \"s/[A-Z]/ /g\" | vd -f fixed --fixed-rows=3  -                                                                   \r\n```\r\n\r\nSaving the output to csv loses the extra leading column.\r\n\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n```\r\n(echo  \"WXYZaXYZbXYZc\" ; echo \"WXYZdWXYZeWXYZf\" ; echo \"WXYZgggZhhhZiiii\") | sed -e \"s/[A-Z]/ /g\" | vd -f fixed --fixed-rows=3  -                                                                   \r\n```\r\n\r\nSaving the output to csv loses the extra leading column.\r\n\r\n**Additional context**\r\nHEAD version of develop.\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/424/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/424/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/423", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/423/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/423/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/423/events", "html_url": "https://github.com/saulpw/visidata/issues/423", "id": 540585224, "node_id": "MDU6SXNzdWU1NDA1ODUyMjQ=", "number": 423, "title": "[vddedupe] not working", "user": {"login": "sfranky", "id": 1530259, "node_id": "MDQ6VXNlcjE1MzAyNTk=", "avatar_url": "https://avatars.githubusercontent.com/u/1530259?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sfranky", "html_url": "https://github.com/sfranky", "followers_url": "https://api.github.com/users/sfranky/followers", "following_url": "https://api.github.com/users/sfranky/following{/other_user}", "gists_url": "https://api.github.com/users/sfranky/gists{/gist_id}", "starred_url": "https://api.github.com/users/sfranky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sfranky/subscriptions", "organizations_url": "https://api.github.com/users/sfranky/orgs", "repos_url": "https://api.github.com/users/sfranky/repos", "events_url": "https://api.github.com/users/sfranky/events{/privacy}", "received_events_url": "https://api.github.com/users/sfranky/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1443927253, "node_id": "MDU6TGFiZWwxNDQzOTI3MjUz", "url": "https://api.github.com/repos/saulpw/visidata/labels/plugin", "name": "plugin", "color": "fef2c0", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-12-19T21:41:49Z", "updated_at": "2020-04-26T02:16:03Z", "closed_at": "2020-04-26T02:16:03Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nplugin vddedupe's dedupe-rows command not working  (no sheet change upon execution), with vanilla visidatarc.\r\n\r\nexample file dloaded from docs (https://jsvine.github.io/intro-to-visidata/advanced/extending-visidata/) not working , although select-duplicate-ows working normally.\r\nRunning on last develop commit.\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/423/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/423/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/422", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/422/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/422/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/422/events", "html_url": "https://github.com/saulpw/visidata/issues/422", "id": 540306063, "node_id": "MDU6SXNzdWU1NDAzMDYwNjM=", "number": 422, "title": "[develop] unable to replay saved cmdlog - row ids not recognized", "user": {"login": "vapniks", "id": 174330, "node_id": "MDQ6VXNlcjE3NDMzMA==", "avatar_url": "https://avatars.githubusercontent.com/u/174330?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vapniks", "html_url": "https://github.com/vapniks", "followers_url": "https://api.github.com/users/vapniks/followers", "following_url": "https://api.github.com/users/vapniks/following{/other_user}", "gists_url": "https://api.github.com/users/vapniks/gists{/gist_id}", "starred_url": "https://api.github.com/users/vapniks/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vapniks/subscriptions", "organizations_url": "https://api.github.com/users/vapniks/orgs", "repos_url": "https://api.github.com/users/vapniks/repos", "events_url": "https://api.github.com/users/vapniks/events{/privacy}", "received_events_url": "https://api.github.com/users/vapniks/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-12-19T13:13:57Z", "updated_at": "2020-02-13T05:37:33Z", "closed_at": "2020-02-13T05:37:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "When I try to replay a command log I get an error about \"no \u30adtable_3 row\"\r\nWhen I delete a sheet, the sheet name is saved with a \"\u30ad\" prefix char in the command log, and visidata v2.-2 is unable to recognise it on replay. I had no such problems with v1.5.2\r\nHere is the .vd file:\r\n\r\n```\r\nsheet   col     row     longname        input   keystrokes      comment\r\n        SqliteSheet     header  set-option      0               \r\n        UsvSheet        delimiter       set-option      \u241e               \r\n        UsvSheet        row_delimiter   set-option      \u241f               \r\n                        open-file       https://en.wikipedia.org/wiki/List_of_countries_by_income_equality      o       \r\nList_of_countries_by_income_equality            \u30adtable_3       delete-row              d       \r\nList_of_countries_by_income_equality            \u30adtable_4       delete-row              d       \r\nList_of_countries_by_income_equality            \u30adbefore        delete-row              d       \r\nList_of_countries_by_income_equality            \u30adtable_6       delete-row              d       \r\nList_of_countries_by_income_equality            \u30adtable_7       delete-row              d       \r\nList_of_countries_by_income_equality            \u30adafter delete-row              d       \r\nList_of_countries_by_income_equality            \u30adtable_9       delete-row              d       \r\nList_of_countries_by_income_equality            \u30adtable_10      delete-row              d       \r\nList_of_countries_by_income_equality            \u30adtable_11      delete-row              d       \r\nList_of_countries_by_income_equality            \u30adUNandCIA      dive-row                ^J      \r\nUNandCIA        Country_link0           hide-col                -       \r\nUNandCIA        Country_link1           hide-col                -       \r\nUNandCIA        UN R/P_10% [6] _link0           hide-col                -       \r\nUNandCIA        UN R/P_10% [6]          hide-col                -       \r\nUNandCIA        UN R/P_20% [7]          hide-col                -       \r\nUNandCIA        UN R/P_20% [7] _link0           hide-col                -       \r\nUNandCIA        World Bank Gini [3] _% _link0           hide-col                -       \r\nUNandCIA        World Bank Gini [3] _% _link1           hide-col                -       \r\nUNandCIA        CIA R/P [4] _10%                hide-col                -       \r\nUNandCIA        CIA R/P [4] _10%_link0          hide-col                -       \r\nUNandCIA        CIA R/P [4] _Year               hide-col                -       \r\nUNandCIA        CIA R/P [4] _Year_link0         hide-col                -       \r\nUNandCIA        CIA Gini [5] _%         hide-col                -       \r\nUNandCIA        CIA Gini [5] _% _link0          hide-col                -       \r\nUNandCIA        CIA Gini [5] _Year              hide-col                -       \r\nUNandCIA        CIA Gini [5] _Year_link0                hide-col                -       \r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/422/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/422/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/418", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/418/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/418/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/418/events", "html_url": "https://github.com/saulpw/visidata/issues/418", "id": 537345079, "node_id": "MDU6SXNzdWU1MzczNDUwNzk=", "number": 418, "title": "Failed to clone new version", "user": {"login": "delbs27", "id": 50278120, "node_id": "MDQ6VXNlcjUwMjc4MTIw", "avatar_url": "https://avatars.githubusercontent.com/u/50278120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/delbs27", "html_url": "https://github.com/delbs27", "followers_url": "https://api.github.com/users/delbs27/followers", "following_url": "https://api.github.com/users/delbs27/following{/other_user}", "gists_url": "https://api.github.com/users/delbs27/gists{/gist_id}", "starred_url": "https://api.github.com/users/delbs27/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/delbs27/subscriptions", "organizations_url": "https://api.github.com/users/delbs27/orgs", "repos_url": "https://api.github.com/users/delbs27/repos", "events_url": "https://api.github.com/users/delbs27/events{/privacy}", "received_events_url": "https://api.github.com/users/delbs27/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2019-12-13T04:41:17Z", "updated_at": "2019-12-16T00:52:22Z", "closed_at": "2019-12-16T00:52:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Small description**\r\nPlease make sure you have the correct access rights  Error appears when cloning new version of Visidata\r\n**Expected result**\r\nPackage to be installed \r\n**Actual result with screenshot**\r\npip3 install git+git://github.com/saulpw/visidata@v2.-2\r\nCollecting git+git://github.com/saulpw/visidata@v2.-2\r\n  Cloning git://github.com/saulpw/visidata (to v2.-2) to /tmp/pip-s8p34dzq-build\r\n The authenticity of host 'github.com (52.64.108.95)' can't be established.\r\nRSA key fingerprint is SHA256:nThbg6kXUpJWGl7E1IGOCspRomTxdCARLviKw6E5SY8.\r\nAre you sure you want to continue connecting (yes/no)? yes\r\nWarning: Permanently added 'github.com,52.64.108.95' (RSA) to the list of known hosts.\r\ngit@github.com: Permission denied (publickey).\r\nfatal: Could not read from remote repository.\r\n\r\nPlease make sure you have the correct access rights\r\nand the repository exists.\r\nfatal: clone of 'git@github.com:dateutil/dateutil.git' into submodule path '/tmp/pip-s8p34dzq-build/deps/dateutil' failed\r\nFailed to clone 'deps/dateutil'. Retry scheduled\r\ngit@github.com: Permission denied (publickey).\r\nfatal: Could not read from remote repository.\r\n\r\nPlease make sure you have the correct access rights\r\nand the repository exists.\r\nfatal: clone of 'git@github.com:saulpw/pyxlsb.git' into submodule path '/tmp/pip-s8p34dzq-build/deps/pyxlsb' failed\r\nFailed to clone 'deps/pyxlsb'. Retry scheduled\r\ngit@github.com: Permission denied (publickey).\r\nfatal: Could not read from remote repository.\r\n\r\nPlease make sure you have the correct access rights\r\nand the repository exists.\r\nfatal: clone of 'git@github.com:saulpw/sh.git' into submodule path '/tmp/pip-s8p34dzq-build/deps/sh' failed\r\nFailed to clone 'deps/sh'. Retry scheduled\r\ngit@github.com: Permission denied (publickey).\r\nfatal: Could not read from remote repository.\r\n\r\nPlease make sure you have the correct access rights\r\nand the repository exists.\r\nfatal: clone of 'git@github.com:dateutil/dateutil.git' into submodule path '/tmp/pip-s8p34dzq-build/deps/dateutil' failed\r\nFailed to clone 'deps/dateutil' a second time, aborting\r\nCommand \"git submodule update --init --recursive -q\" failed with error code 1 in /tmp/pip-s8p34dzq-build\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\nPlease attach the commandlog (saved with `Ctrl-D`) to show the steps that led to the issue.\r\nSee [here](http://visidata.org/docs/save-restore/) for more details.\r\n\r\n**Additional context**\r\nPlease include the version of VisiData.\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/418/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/418/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/415", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/415/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/415/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/415/events", "html_url": "https://github.com/saulpw/visidata/issues/415", "id": 534507106, "node_id": "MDU6SXNzdWU1MzQ1MDcxMDY=", "number": 415, "title": "z^S only saves column, not key column + column", "user": {"login": "sfranky", "id": 1530259, "node_id": "MDQ6VXNlcjE1MzAyNTk=", "avatar_url": "https://avatars.githubusercontent.com/u/1530259?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sfranky", "html_url": "https://github.com/sfranky", "followers_url": "https://api.github.com/users/sfranky/followers", "following_url": "https://api.github.com/users/sfranky/following{/other_user}", "gists_url": "https://api.github.com/users/sfranky/gists{/gist_id}", "starred_url": "https://api.github.com/users/sfranky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sfranky/subscriptions", "organizations_url": "https://api.github.com/users/sfranky/orgs", "repos_url": "https://api.github.com/users/sfranky/repos", "events_url": "https://api.github.com/users/sfranky/events{/privacy}", "received_events_url": "https://api.github.com/users/sfranky/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-12-08T08:06:00Z", "updated_at": "2019-12-23T07:12:54Z", "closed_at": "2019-12-23T07:12:54Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "z^S only saves the current column, instead of saving also the key column, as stated in the manual.\r\n\r\n**Additional context**\r\nLatest dev commit\r\nNo .visidatarc, no plugins loaded", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/415/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/415/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/413", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/413/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/413/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/413/events", "html_url": "https://github.com/saulpw/visidata/issues/413", "id": 532472490, "node_id": "MDU6SXNzdWU1MzI0NzI0OTA=", "number": 413, "title": "[v1.5.2] `SettableColumn`s are `None` when pasted", "user": {"login": "anjakefala", "id": 7489659, "node_id": "MDQ6VXNlcjc0ODk2NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/7489659?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anjakefala", "html_url": "https://github.com/anjakefala", "followers_url": "https://api.github.com/users/anjakefala/followers", "following_url": "https://api.github.com/users/anjakefala/following{/other_user}", "gists_url": "https://api.github.com/users/anjakefala/gists{/gist_id}", "starred_url": "https://api.github.com/users/anjakefala/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anjakefala/subscriptions", "organizations_url": "https://api.github.com/users/anjakefala/orgs", "repos_url": "https://api.github.com/users/anjakefala/repos", "events_url": "https://api.github.com/users/anjakefala/events{/privacy}", "received_events_url": "https://api.github.com/users/anjakefala/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 615045468, "node_id": "MDU6TGFiZWw2MTUwNDU0Njg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/needs%20design", "name": "needs design", "color": "5319e7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "anjakefala", "id": 7489659, "node_id": "MDQ6VXNlcjc0ODk2NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/7489659?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anjakefala", "html_url": "https://github.com/anjakefala", "followers_url": "https://api.github.com/users/anjakefala/followers", "following_url": "https://api.github.com/users/anjakefala/following{/other_user}", "gists_url": "https://api.github.com/users/anjakefala/gists{/gist_id}", "starred_url": "https://api.github.com/users/anjakefala/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anjakefala/subscriptions", "organizations_url": "https://api.github.com/users/anjakefala/orgs", "repos_url": "https://api.github.com/users/anjakefala/repos", "events_url": "https://api.github.com/users/anjakefala/events{/privacy}", "received_events_url": "https://api.github.com/users/anjakefala/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "anjakefala", "id": 7489659, "node_id": "MDQ6VXNlcjc0ODk2NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/7489659?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anjakefala", "html_url": "https://github.com/anjakefala", "followers_url": "https://api.github.com/users/anjakefala/followers", "following_url": "https://api.github.com/users/anjakefala/following{/other_user}", "gists_url": "https://api.github.com/users/anjakefala/gists{/gist_id}", "starred_url": "https://api.github.com/users/anjakefala/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anjakefala/subscriptions", "organizations_url": "https://api.github.com/users/anjakefala/orgs", "repos_url": "https://api.github.com/users/anjakefala/repos", "events_url": "https://api.github.com/users/anjakefala/events{/privacy}", "received_events_url": "https://api.github.com/users/anjakefala/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2019-12-04T06:11:49Z", "updated_at": "2020-06-12T04:44:08Z", "closed_at": "2020-06-12T04:44:08Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "**Small description**\r\nContents of columns created with `addcol-*` do not get 'copy-pasted'.\r\n\r\n**Expected result**\r\nWhen you paste a row, the contents should look exactly like the copied row.\r\n\r\n**Actual result with screenshot**\r\n![Screenshot from 2019-12-03 22-09-36](https://user-images.githubusercontent.com/7489659/70117195-a8c99c80-1619-11ea-8bc4-3a0ca3998269.png)\r\n\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n```\r\nsheet   col     row     longname        input   keystrokes      comment\r\nVisiData_Main_Menu                      add-sheet       1       A\r\nunnamed                 add-row         a\r\nunnamed 0               addcol-new              za\r\nunnamed 0       0       edit-cell       hi      e\r\nunnamed 1       0       edit-cell       bye     e\r\nunnamed         0       copy-row                y\r\nunnamed         0       paste-after             p\r\nunnamed 1               rename-col      za      ^\r\nunnamed 0               rename-col      not za  ^\r\n```\r\n\r\n**Additional context**\r\nThe test was run with `v2.-3dev`. But this also affects `v1.5.2`.\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/413/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/413/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/412", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/412/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/412/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/412/events", "html_url": "https://github.com/saulpw/visidata/issues/412", "id": 529513135, "node_id": "MDU6SXNzdWU1Mjk1MTMxMzU=", "number": 412, "title": "visidata v2.-1dev (but not v1.5.2) flickers when run through emacs term-mode ", "user": {"login": "vapniks", "id": 174330, "node_id": "MDQ6VXNlcjE3NDMzMA==", "avatar_url": "https://avatars.githubusercontent.com/u/174330?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vapniks", "html_url": "https://github.com/vapniks", "followers_url": "https://api.github.com/users/vapniks/followers", "following_url": "https://api.github.com/users/vapniks/following{/other_user}", "gists_url": "https://api.github.com/users/vapniks/gists{/gist_id}", "starred_url": "https://api.github.com/users/vapniks/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vapniks/subscriptions", "organizations_url": "https://api.github.com/users/vapniks/orgs", "repos_url": "https://api.github.com/users/vapniks/repos", "events_url": "https://api.github.com/users/vapniks/events{/privacy}", "received_events_url": "https://api.github.com/users/vapniks/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2019-11-27T18:34:06Z", "updated_at": "2019-12-02T07:04:56Z", "closed_at": "2019-12-02T07:04:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "visidata v1.5.2 works fine in emacs term-mode which is great because it means I don't have to leave my python/R coding editor to peruse the data.\r\n\r\nHowever, when I run visidata v2.-1dev through emacs (x11) term-mode the top line is not displayed, and when I press a key the screen flickers slightly as it shifts the text down a line to display the top line (thereby hiding the bottom line), and then back up again to display the bottom line. If I then press f11 to make my emacs window full screen all lines are displayed and the flickering stops, however if I try starting term-mode in full screen mode _before_ starting visidata I get the one line missing & flickering problem again. \r\n\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/412/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/412/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/411", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/411/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/411/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/411/events", "html_url": "https://github.com/saulpw/visidata/issues/411", "id": 528873422, "node_id": "MDU6SXNzdWU1Mjg4NzM0MjI=", "number": 411, "title": "[develop] VisiData 2.0 fails to install via pip on MacOS Mojave", "user": {"login": "WesleyAC", "id": 5001092, "node_id": "MDQ6VXNlcjUwMDEwOTI=", "avatar_url": "https://avatars.githubusercontent.com/u/5001092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/WesleyAC", "html_url": "https://github.com/WesleyAC", "followers_url": "https://api.github.com/users/WesleyAC/followers", "following_url": "https://api.github.com/users/WesleyAC/following{/other_user}", "gists_url": "https://api.github.com/users/WesleyAC/gists{/gist_id}", "starred_url": "https://api.github.com/users/WesleyAC/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/WesleyAC/subscriptions", "organizations_url": "https://api.github.com/users/WesleyAC/orgs", "repos_url": "https://api.github.com/users/WesleyAC/repos", "events_url": "https://api.github.com/users/WesleyAC/events{/privacy}", "received_events_url": "https://api.github.com/users/WesleyAC/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "anjakefala", "id": 7489659, "node_id": "MDQ6VXNlcjc0ODk2NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/7489659?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anjakefala", "html_url": "https://github.com/anjakefala", "followers_url": "https://api.github.com/users/anjakefala/followers", "following_url": "https://api.github.com/users/anjakefala/following{/other_user}", "gists_url": "https://api.github.com/users/anjakefala/gists{/gist_id}", "starred_url": "https://api.github.com/users/anjakefala/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anjakefala/subscriptions", "organizations_url": "https://api.github.com/users/anjakefala/orgs", "repos_url": "https://api.github.com/users/anjakefala/repos", "events_url": "https://api.github.com/users/anjakefala/events{/privacy}", "received_events_url": "https://api.github.com/users/anjakefala/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "anjakefala", "id": 7489659, "node_id": "MDQ6VXNlcjc0ODk2NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/7489659?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anjakefala", "html_url": "https://github.com/anjakefala", "followers_url": "https://api.github.com/users/anjakefala/followers", "following_url": "https://api.github.com/users/anjakefala/following{/other_user}", "gists_url": "https://api.github.com/users/anjakefala/gists{/gist_id}", "starred_url": "https://api.github.com/users/anjakefala/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anjakefala/subscriptions", "organizations_url": "https://api.github.com/users/anjakefala/orgs", "repos_url": "https://api.github.com/users/anjakefala/repos", "events_url": "https://api.github.com/users/anjakefala/events{/privacy}", "received_events_url": "https://api.github.com/users/anjakefala/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2019-11-26T17:33:37Z", "updated_at": "2019-11-27T21:48:06Z", "closed_at": "2019-11-27T21:48:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Small description**\r\n\r\nWhen I execute `pip3 install git+git://github.com/saulpw/visidata@v2.-1`, as directed by http://visidata.org/v2.x/, I get the following error:\r\n\r\n```\r\nCollecting git+git://github.com/saulpw/visidata@v2.-1\r\n  Cloning git://github.com/saulpw/visidata (to revision v2.-1) to /private/var/folders/mn/q2sl9dvn2qd0cq_kkrb_442c0000gp/T/pip-req-build-5pdvj2gk\r\n  Running command git clone -q git://github.com/saulpw/visidata /private/var/folders/mn/q2sl9dvn2qd0cq_kkrb_442c0000gp/T/pip-req-build-5pdvj2gk\r\n  Running command git checkout -b v2.-1 --track origin/v2.-1\r\n  Switched to a new branch 'v2.-1'\r\n  Branch v2.-1 set up to track remote branch v2.-1 from origin.\r\n  Running command git submodule update --init --recursive -q\r\n  error: invalid key (newline): submodule.pyxlsb\r\n  deps/pyxlsb.url\r\n  error: invalid key (newline): submodule.pyxlsb\r\n  deps/pyxlsb.url\r\n  No url found for submodule path 'deps/pyxlsb' in .gitmodules\r\nERROR: Command \"git submodule update --init --recursive -q\" failed with error code 1 in /private/var/folders/mn/q2sl9dvn2qd0cq_kkrb_442c0000gp/T/pip-req-build-5pdvj2gk\r\n```\r\n\r\n**Additional context**\r\n\r\nMacOS version: 10.14.6 (18G103)\r\npip version: `pip 19.1.1 from /usr/local/lib/python3.7/site-packages/pip (python 3.7)`", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/411/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/411/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/406", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/406/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/406/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/406/events", "html_url": "https://github.com/saulpw/visidata/issues/406", "id": 526864298, "node_id": "MDU6SXNzdWU1MjY4NjQyOTg=", "number": 406, "title": "[JIRA] markdown doesn't save lists to output", "user": {"login": "layertwo", "id": 1335960, "node_id": "MDQ6VXNlcjEzMzU5NjA=", "avatar_url": "https://avatars.githubusercontent.com/u/1335960?v=4", "gravatar_id": "", "url": "https://api.github.com/users/layertwo", "html_url": "https://github.com/layertwo", "followers_url": "https://api.github.com/users/layertwo/followers", "following_url": "https://api.github.com/users/layertwo/following{/other_user}", "gists_url": "https://api.github.com/users/layertwo/gists{/gist_id}", "starred_url": "https://api.github.com/users/layertwo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/layertwo/subscriptions", "organizations_url": "https://api.github.com/users/layertwo/orgs", "repos_url": "https://api.github.com/users/layertwo/repos", "events_url": "https://api.github.com/users/layertwo/events{/privacy}", "received_events_url": "https://api.github.com/users/layertwo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-11-21T21:57:29Z", "updated_at": "2020-03-17T15:18:44Z", "closed_at": "2020-03-17T15:18:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Description**\r\nI have a few files with lists or dictionaries I haven't expanded (they're str.split() examples). When saving to `.jira` filetype, those don't get included in the output file.\r\n\r\nWhen saving to `json`, the output is correct as expected for a JSON doc. When saving to `tsv` the unexpanded list is correctly written as a Python list.\r\n\r\n**Additional context**\r\nRunning v2.-1 (might be on some weird develop commit).\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/406/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/406/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/404", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/404/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/404/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/404/events", "html_url": "https://github.com/saulpw/visidata/issues/404", "id": 526484034, "node_id": "MDU6SXNzdWU1MjY0ODQwMzQ=", "number": 404, "title": "[wishlist] Problem opening xlsx files exported by SQL Developer", "user": {"login": "tkossak", "id": 3728245, "node_id": "MDQ6VXNlcjM3MjgyNDU=", "avatar_url": "https://avatars.githubusercontent.com/u/3728245?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tkossak", "html_url": "https://github.com/tkossak", "followers_url": "https://api.github.com/users/tkossak/followers", "following_url": "https://api.github.com/users/tkossak/following{/other_user}", "gists_url": "https://api.github.com/users/tkossak/gists{/gist_id}", "starred_url": "https://api.github.com/users/tkossak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tkossak/subscriptions", "organizations_url": "https://api.github.com/users/tkossak/orgs", "repos_url": "https://api.github.com/users/tkossak/repos", "events_url": "https://api.github.com/users/tkossak/events{/privacy}", "received_events_url": "https://api.github.com/users/tkossak/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-11-21T09:56:52Z", "updated_at": "2019-11-25T20:00:07Z", "closed_at": "2019-11-25T19:59:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Small description**\r\nProblem opening xlsx files exported by Oracle SQL Developer 19.2.1.247. When I run `vd test_sqldev_19.2.xlsx` i get:\r\n\r\n![image](https://user-images.githubusercontent.com/3728245/69325962-4bae0e00-0c4b-11ea-9c8c-30696b96c8c7.png)\r\n\r\n(only 1 column and 0 rows loaded)\r\n\r\n**Expected result**\r\nIt's enough to open this file in Libre Calc, save it (without any changes) and now it works (2 columns, 4 rows loaded):\r\n\r\n![image](https://user-images.githubusercontent.com/3728245/69326190-ae9fa500-0c4b-11ea-93cc-7797617a2515.png)\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\nDownload sample xlsx file, exported using sql developer: [test_sqldev_19.2.xlsx](https://github.com/saulpw/visidata/files/3874032/test_sqldev_19.2.xlsx)\r\n\r\nRun `vd test_sqldev_19.2.xlsx` and observe the error (and that it loaded only 1 column, 0 rows).\r\nCommand log: [cmdlog-1.vd.log](https://github.com/saulpw/visidata/files/3874034/cmdlog-1.vd.log)\r\n\r\nVisiData version: saul.pw/VisiData v1.5.2\r\nos: Linux Mint x64", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/404/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/404/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/401", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/401/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/401/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/401/events", "html_url": "https://github.com/saulpw/visidata/issues/401", "id": 524756046, "node_id": "MDU6SXNzdWU1MjQ3NTYwNDY=", "number": 401, "title": "Saving CSV data is broken: all values replaced with visidata.column.Column", "user": {"login": "frosencrantz", "id": 631242, "node_id": "MDQ6VXNlcjYzMTI0Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/631242?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frosencrantz", "html_url": "https://github.com/frosencrantz", "followers_url": "https://api.github.com/users/frosencrantz/followers", "following_url": "https://api.github.com/users/frosencrantz/following{/other_user}", "gists_url": "https://api.github.com/users/frosencrantz/gists{/gist_id}", "starred_url": "https://api.github.com/users/frosencrantz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frosencrantz/subscriptions", "organizations_url": "https://api.github.com/users/frosencrantz/orgs", "repos_url": "https://api.github.com/users/frosencrantz/repos", "events_url": "https://api.github.com/users/frosencrantz/events{/privacy}", "received_events_url": "https://api.github.com/users/frosencrantz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-11-19T03:48:12Z", "updated_at": "2019-11-20T15:24:55Z", "closed_at": "2019-11-19T06:16:11Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nSaving CSV data is broken: all values replaced with visidata.column.Column\r\n\r\n**Expected result**\r\nRead and then write a csv file, expect the contents to be the same.\r\n\r\n**Actual result with screenshot**\r\nIf you get an unexpected error, please include the full stack trace that you get with `Ctrl-E`.\r\nNo exception.\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\nPlease attach the commandlog (saved with `Ctrl-D`) to show the steps that led to the issue.\r\nSee [here](http://visidata.org/docs/save-restore/) for more details.\r\nvd foo.csv\r\nthen ^S to save the contents, overwrite the original file.  Data has been destroyed.\r\n\r\n**Additional context**\r\nPlease include the version of VisiData.\r\nlatest from develop branch\r\n\r\nApologies, this is an incomplete report.  If there is not enough to reproduce the bug, I'll provide additional details.\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/401/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/401/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/399", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/399/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/399/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/399/events", "html_url": "https://github.com/saulpw/visidata/issues/399", "id": 523294843, "node_id": "MDU6SXNzdWU1MjMyOTQ4NDM=", "number": 399, "title": "[develop] If any of a Sheet's colorizers raises an exception at any point, the sheet does not get drawn", "user": {"login": "anjakefala", "id": 7489659, "node_id": "MDQ6VXNlcjc0ODk2NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/7489659?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anjakefala", "html_url": "https://github.com/anjakefala", "followers_url": "https://api.github.com/users/anjakefala/followers", "following_url": "https://api.github.com/users/anjakefala/following{/other_user}", "gists_url": "https://api.github.com/users/anjakefala/gists{/gist_id}", "starred_url": "https://api.github.com/users/anjakefala/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anjakefala/subscriptions", "organizations_url": "https://api.github.com/users/anjakefala/orgs", "repos_url": "https://api.github.com/users/anjakefala/repos", "events_url": "https://api.github.com/users/anjakefala/events{/privacy}", "received_events_url": "https://api.github.com/users/anjakefala/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-11-15T07:06:41Z", "updated_at": "2019-11-26T06:03:19Z", "closed_at": "2019-11-26T06:03:19Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "In this example:\r\nhttps://github.com/saulpw/visidata/issues/348#issuecomment-528722373\r\n\r\n```\r\nColumnColorizer(2, 'color_negative', lambda s,c,r,v: c and isNumeric(c.type) and v < 0)\r\n```\r\n\r\nOccassionally, cell values (`v`) are `None`. In that case, `v < 0` raises an Exception. If this happens, the entire sheet does not get drawn.\r\n\r\n@saulpw and I agreed that this is not ideal, and should be characterised as a bug. This needs to be fixed without breaking our ability to debug, and we need to retain some notification when something is wrong. Correct behaviour needs design.", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/399/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/399/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/398", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/398/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/398/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/398/events", "html_url": "https://github.com/saulpw/visidata/issues/398", "id": 523244196, "node_id": "MDU6SXNzdWU1MjMyNDQxOTY=", "number": 398, "title": "[develop] Loaded .vds have an extra empty column", "user": {"login": "anjakefala", "id": 7489659, "node_id": "MDQ6VXNlcjc0ODk2NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/7489659?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anjakefala", "html_url": "https://github.com/anjakefala", "followers_url": "https://api.github.com/users/anjakefala/followers", "following_url": "https://api.github.com/users/anjakefala/following{/other_user}", "gists_url": "https://api.github.com/users/anjakefala/gists{/gist_id}", "starred_url": "https://api.github.com/users/anjakefala/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anjakefala/subscriptions", "organizations_url": "https://api.github.com/users/anjakefala/orgs", "repos_url": "https://api.github.com/users/anjakefala/repos", "events_url": "https://api.github.com/users/anjakefala/events{/privacy}", "received_events_url": "https://api.github.com/users/anjakefala/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-11-15T04:19:14Z", "updated_at": "2019-11-20T05:51:09Z", "closed_at": "2019-11-20T05:51:09Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "When any **.vd** is loaded by VisiData, its rightmost column is an empty blank one.\r\n\r\n**Technical Explanation**\r\n\r\nIn `TsvSheet`\r\n\r\n```\r\nif len(rows < self.nCols:\r\n    row.extend([None] * (self.nCols-len(row)))\r\n```\r\nextends rows that are missing entries. \r\n\r\nThe `CommandLog` has the `TsvSheet` as a parent. Among its static columns is one hidden one:\r\n\r\n```\r\nColumnAttr('undo', 'undofuncs', type=vlen, width=0)\r\n```\r\n**.vd**s often lack an undo column, but it still gets counted towards `nCols` and appears as a ghost column when **.vd**s are loaded.", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/398/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/398/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/395", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/395/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/395/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/395/events", "html_url": "https://github.com/saulpw/visidata/issues/395", "id": 522494229, "node_id": "MDU6SXNzdWU1MjI0OTQyMjk=", "number": 395, "title": "[v1.5.2] Can't see quantiles for column", "user": {"login": "WesleyAC", "id": 5001092, "node_id": "MDQ6VXNlcjUwMDEwOTI=", "avatar_url": "https://avatars.githubusercontent.com/u/5001092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/WesleyAC", "html_url": "https://github.com/WesleyAC", "followers_url": "https://api.github.com/users/WesleyAC/followers", "following_url": "https://api.github.com/users/WesleyAC/following{/other_user}", "gists_url": "https://api.github.com/users/WesleyAC/gists{/gist_id}", "starred_url": "https://api.github.com/users/WesleyAC/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/WesleyAC/subscriptions", "organizations_url": "https://api.github.com/users/WesleyAC/orgs", "repos_url": "https://api.github.com/users/WesleyAC/repos", "events_url": "https://api.github.com/users/WesleyAC/events{/privacy}", "received_events_url": "https://api.github.com/users/WesleyAC/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-11-13T21:53:19Z", "updated_at": "2019-11-19T09:06:12Z", "closed_at": "2019-11-19T09:06:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Small description**\r\n\r\nI have a csv with one column of floats, and I want to see quantiles for it. I would expect from reading the [Summarizing Data](https://jsvine.github.io/intro-to-visidata/basics/summarizing-data/) documentation that pressing `%` to set the column to floats, `z+`, typing `q4`, and pressing return would do this. Aggregations like `sum` and `max` work,.\r\n\r\n**Expected result**\r\n\r\nI see the quantiles for the column displayed.\r\n\r\n**Actual result with screenshot**\r\n\r\nError:\r\n```\r\nfilename| AttributeError: 'list' object has no attribute 'type' | \"q4\"                                                                                                                   z+      2690 lines\r\n```\r\n\r\nStack trace:\r\n```\r\n Traceback (most recent call last):\r\n   File \"/usr/local/Cellar/visidata/1.5.2/libexec/lib/python3.7/site-packages/visidata/vdtui.py\", line 1115, in exec_command\r\n     exec(cmd.execstr, vdglobals, LazyMap(self))\r\n   File \"<string>\", line 1, in <module>\r\n AttributeError: 'list' object has no attribute 'type'\r\n```\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n\r\nUnfortunately the sheet that I was operating on is confidential, but I think it's a pretty simple thing to reproduce - I'd expect that any sheet of floats would do this, though.\r\n\r\n**Additional context**\r\n\r\n`vd --version` reports `saul.pw/VisiData v1.5.2`. I'm running on a Mac.", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/395/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/395/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/390", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/390/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/390/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/390/events", "html_url": "https://github.com/saulpw/visidata/issues/390", "id": 520812661, "node_id": "MDU6SXNzdWU1MjA4MTI2NjE=", "number": 390, "title": "Feature request: implode specified field values rows, in cells", "user": {"login": "aborruso", "id": 30607, "node_id": "MDQ6VXNlcjMwNjA3", "avatar_url": "https://avatars.githubusercontent.com/u/30607?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aborruso", "html_url": "https://github.com/aborruso", "followers_url": "https://api.github.com/users/aborruso/followers", "following_url": "https://api.github.com/users/aborruso/following{/other_user}", "gists_url": "https://api.github.com/users/aborruso/gists{/gist_id}", "starred_url": "https://api.github.com/users/aborruso/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aborruso/subscriptions", "organizations_url": "https://api.github.com/users/aborruso/orgs", "repos_url": "https://api.github.com/users/aborruso/repos", "events_url": "https://api.github.com/users/aborruso/events{/privacy}", "received_events_url": "https://api.github.com/users/aborruso/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-11-11T08:39:31Z", "updated_at": "2019-11-11T09:42:20Z", "closed_at": "2019-11-11T09:13:14Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hi,\r\nsometime it is very useful to implode values vertically, from something like\r\n\r\n```\r\nfield value\r\nA     5\r\nA     3\r\nB     3\r\nC     5\r\nC     3\r\n```\r\n\r\nto\r\n\r\n```\r\nfield value\r\nA     5;3\r\nB     3\r\nC     5;3\r\n```\r\n\r\nIt would be great to add this feature to melt and pivot.\r\n\r\nThank you", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/390/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/390/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/388", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/388/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/388/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/388/events", "html_url": "https://github.com/saulpw/visidata/issues/388", "id": 520553999, "node_id": "MDU6SXNzdWU1MjA1NTM5OTk=", "number": 388, "title": "CSV file is sometimes truncated randomly when saved", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-11-10T04:53:18Z", "updated_at": "2019-11-10T05:19:47Z", "closed_at": "2019-11-10T05:19:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Small description**\r\nI have a CSV file of about 4800 rows. When I save it from vd, there's a roughly one in three chance that the file will be truncated and the last 100-2000 lines will be gone.\r\n\r\n**Expected result**\r\nShouldn't lose data.\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\nHere is a randomly generated CSV with 4866 lines: https://gist.githubusercontent.com/dbandstra/6e586c0d4fd3ccdacf85e3fd4d898a2a/raw/de8c734b15e7d2d2604586a7cbded2cec7309488/random.csv\r\n\r\nDownload it to disk, open it in `vd` and just save it again (ctrl-s, enter, y, enter). Quit. Check the file with `wc -l test.csv` to count the number of lines. Usually within 1 or 2 times doing this it's already missing lines (e.g. down to 4261 from 4866).\r\n\r\n**Additional context**\r\nHappens with v1.3, v1.5, and v2.-1dev, both on Ubuntu 18 and on a Mac.", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/388/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/388/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/387", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/387/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/387/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/387/events", "html_url": "https://github.com/saulpw/visidata/issues/387", "id": 520553310, "node_id": "MDU6SXNzdWU1MjA1NTMzMTA=", "number": 387, "title": "CSV files are saved with DOS line endings", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-11-10T04:43:35Z", "updated_at": "2019-11-10T07:47:40Z", "closed_at": "2019-11-10T07:35:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Small description**\r\nWhen I load a CSV file with unix (`\\n`) line endings into vd and save it, it's written over with DOS (`\\r\\n`) line endings, and I have to use a tool like `dos2unix` after every save to normalize it.\r\n\r\n**Expected result**\r\nI think it should either preserve the line ending format of the original file that was loaded.\r\n\r\n**Additional context**\r\nHappens with v1.3, v1.5, and v2.-1dev.\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/387/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/387/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/385", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/385/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/385/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/385/events", "html_url": "https://github.com/saulpw/visidata/issues/385", "id": 519295595, "node_id": "MDU6SXNzdWU1MTkyOTU1OTU=", "number": 385, "title": "xlsx plugin produces bad column in [develop]", "user": {"login": "sfranky", "id": 1530259, "node_id": "MDQ6VXNlcjE1MzAyNTk=", "avatar_url": "https://avatars.githubusercontent.com/u/1530259?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sfranky", "html_url": "https://github.com/sfranky", "followers_url": "https://api.github.com/users/sfranky/followers", "following_url": "https://api.github.com/users/sfranky/following{/other_user}", "gists_url": "https://api.github.com/users/sfranky/gists{/gist_id}", "starred_url": "https://api.github.com/users/sfranky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sfranky/subscriptions", "organizations_url": "https://api.github.com/users/sfranky/orgs", "repos_url": "https://api.github.com/users/sfranky/repos", "events_url": "https://api.github.com/users/sfranky/events{/privacy}", "received_events_url": "https://api.github.com/users/sfranky/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2019-11-07T14:20:29Z", "updated_at": "2019-11-07T18:42:30Z", "closed_at": "2019-11-07T18:42:30Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Small description**\r\nWhen loading any xlsx file, the first column is comprised of  `[<number>]`s everywhere. In [v2.-1], the output is normal. \r\n\r\n\r\n**Additional context**\r\ndevelop branch\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/385/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/385/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/384", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/384/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/384/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/384/events", "html_url": "https://github.com/saulpw/visidata/issues/384", "id": 518035525, "node_id": "MDU6SXNzdWU1MTgwMzU1MjU=", "number": 384, "title": "[defermods] Plugin savings automatically to provided source, without prompt", "user": {"login": "anjakefala", "id": 7489659, "node_id": "MDQ6VXNlcjc0ODk2NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/7489659?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anjakefala", "html_url": "https://github.com/anjakefala", "followers_url": "https://api.github.com/users/anjakefala/followers", "following_url": "https://api.github.com/users/anjakefala/following{/other_user}", "gists_url": "https://api.github.com/users/anjakefala/gists{/gist_id}", "starred_url": "https://api.github.com/users/anjakefala/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anjakefala/subscriptions", "organizations_url": "https://api.github.com/users/anjakefala/orgs", "repos_url": "https://api.github.com/users/anjakefala/repos", "events_url": "https://api.github.com/users/anjakefala/events{/privacy}", "received_events_url": "https://api.github.com/users/anjakefala/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "anjakefala", "id": 7489659, "node_id": "MDQ6VXNlcjc0ODk2NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/7489659?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anjakefala", "html_url": "https://github.com/anjakefala", "followers_url": "https://api.github.com/users/anjakefala/followers", "following_url": "https://api.github.com/users/anjakefala/following{/other_user}", "gists_url": "https://api.github.com/users/anjakefala/gists{/gist_id}", "starred_url": "https://api.github.com/users/anjakefala/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anjakefala/subscriptions", "organizations_url": "https://api.github.com/users/anjakefala/orgs", "repos_url": "https://api.github.com/users/anjakefala/repos", "events_url": "https://api.github.com/users/anjakefala/events{/privacy}", "received_events_url": "https://api.github.com/users/anjakefala/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "anjakefala", "id": 7489659, "node_id": "MDQ6VXNlcjc0ODk2NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/7489659?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anjakefala", "html_url": "https://github.com/anjakefala", "followers_url": "https://api.github.com/users/anjakefala/followers", "following_url": "https://api.github.com/users/anjakefala/following{/other_user}", "gists_url": "https://api.github.com/users/anjakefala/gists{/gist_id}", "starred_url": "https://api.github.com/users/anjakefala/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anjakefala/subscriptions", "organizations_url": "https://api.github.com/users/anjakefala/orgs", "repos_url": "https://api.github.com/users/anjakefala/repos", "events_url": "https://api.github.com/users/anjakefala/events{/privacy}", "received_events_url": "https://api.github.com/users/anjakefala/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2019-11-05T21:11:57Z", "updated_at": "2019-11-23T22:28:18Z", "closed_at": "2019-11-23T05:14:36Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "**Small description**\r\nWhen defermods.py is installed, and `^S` is pressed, VisiData will automatically save to the given source sheet without prompting with a file-input.\r\n\r\n**Expected result**\r\nVisiData should provides the file-input prompt for sheets that are not always saveToSource.\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\nInstall and load the defermods.py plugin. Change one cell (note that the source data is going to be overwritten). Press `^S`. It will save automatically to source. If confirm_overwrite is set to True, it will prompt if you want to save the change, but not prompt for which file you want to save to. \r\n\r\n**Additional context**\r\nCurrent `develop` branch\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/384/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/384/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/383", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/383/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/383/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/383/events", "html_url": "https://github.com/saulpw/visidata/issues/383", "id": 517985074, "node_id": "MDU6SXNzdWU1MTc5ODUwNzQ=", "number": 383, "title": "[defermods] edits to derived sheet do not transfer to the source sheet without a commit", "user": {"login": "sfranky", "id": 1530259, "node_id": "MDQ6VXNlcjE1MzAyNTk=", "avatar_url": "https://avatars.githubusercontent.com/u/1530259?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sfranky", "html_url": "https://github.com/sfranky", "followers_url": "https://api.github.com/users/sfranky/followers", "following_url": "https://api.github.com/users/sfranky/following{/other_user}", "gists_url": "https://api.github.com/users/sfranky/gists{/gist_id}", "starred_url": "https://api.github.com/users/sfranky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sfranky/subscriptions", "organizations_url": "https://api.github.com/users/sfranky/orgs", "repos_url": "https://api.github.com/users/sfranky/repos", "events_url": "https://api.github.com/users/sfranky/events{/privacy}", "received_events_url": "https://api.github.com/users/sfranky/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "anjakefala", "id": 7489659, "node_id": "MDQ6VXNlcjc0ODk2NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/7489659?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anjakefala", "html_url": "https://github.com/anjakefala", "followers_url": "https://api.github.com/users/anjakefala/followers", "following_url": "https://api.github.com/users/anjakefala/following{/other_user}", "gists_url": "https://api.github.com/users/anjakefala/gists{/gist_id}", "starred_url": "https://api.github.com/users/anjakefala/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anjakefala/subscriptions", "organizations_url": "https://api.github.com/users/anjakefala/orgs", "repos_url": "https://api.github.com/users/anjakefala/repos", "events_url": "https://api.github.com/users/anjakefala/events{/privacy}", "received_events_url": "https://api.github.com/users/anjakefala/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "anjakefala", "id": 7489659, "node_id": "MDQ6VXNlcjc0ODk2NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/7489659?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anjakefala", "html_url": "https://github.com/anjakefala", "followers_url": "https://api.github.com/users/anjakefala/followers", "following_url": "https://api.github.com/users/anjakefala/following{/other_user}", "gists_url": "https://api.github.com/users/anjakefala/gists{/gist_id}", "starred_url": "https://api.github.com/users/anjakefala/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anjakefala/subscriptions", "organizations_url": "https://api.github.com/users/anjakefala/orgs", "repos_url": "https://api.github.com/users/anjakefala/repos", "events_url": "https://api.github.com/users/anjakefala/events{/privacy}", "received_events_url": "https://api.github.com/users/anjakefala/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2019-11-05T19:39:39Z", "updated_at": "2020-04-07T05:20:01Z", "closed_at": "2020-04-07T05:20:01Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "If on a simple tsv file I select two rows, open a subsheet with \" (double-quote), proceed to change the value of one of the cells (the cell gets coloured yellow), and then switch back to the main tsv file with ctrl-6, the value is not transferred there. However, if I save the subsheet with a random name and *then* go back to the main tsv, the change is now visible. \r\n[edit: tried it with a simple numerical 4x4 tsv file]", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/383/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/383/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/379", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/379/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/379/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/379/events", "html_url": "https://github.com/saulpw/visidata/issues/379", "id": 516119766, "node_id": "MDU6SXNzdWU1MTYxMTk3NjY=", "number": 379, "title": "TypeError: 'classmethod' object is not callable", "user": {"login": "sfranky", "id": 1530259, "node_id": "MDQ6VXNlcjE1MzAyNTk=", "avatar_url": "https://avatars.githubusercontent.com/u/1530259?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sfranky", "html_url": "https://github.com/sfranky", "followers_url": "https://api.github.com/users/sfranky/followers", "following_url": "https://api.github.com/users/sfranky/following{/other_user}", "gists_url": "https://api.github.com/users/sfranky/gists{/gist_id}", "starred_url": "https://api.github.com/users/sfranky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sfranky/subscriptions", "organizations_url": "https://api.github.com/users/sfranky/orgs", "repos_url": "https://api.github.com/users/sfranky/repos", "events_url": "https://api.github.com/users/sfranky/events{/privacy}", "received_events_url": "https://api.github.com/users/sfranky/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-11-01T13:42:07Z", "updated_at": "2019-11-01T18:30:20Z", "closed_at": "2019-11-01T18:30:20Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "My .visidatarc is fairly empty. Basically, it just imports the three plugins vddedupe, rownum, vdnormcol (which work last time i checked), and datetime.\r\n\r\nIf i add this line:\r\nbindkey('0', 'go-leftmost')\r\nI get this error (and of course the binding doesn't work):\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/home/sfranky/.local/lib/python3.7/site-packages/visidata/settings.py\", line 257, in loadConfigFile\r\n    exec(code, _globals or globals())\r\n  File \"/home/sfranky/.visidatarc\", line 19, in <module>\r\n    bindkey('0', 'go-leftmost')\r\nTypeError: 'classmethod' object is not callable\r\n\r\n```\r\n\r\nI'm using version 2.-1.\r\nThanks!", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/379/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/379/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/376", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/376/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/376/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/376/events", "html_url": "https://github.com/saulpw/visidata/issues/376", "id": 509523193, "node_id": "MDU6SXNzdWU1MDk1MjMxOTM=", "number": 376, "title": "Cells with embedded newlines display well but export badly", "user": {"login": "Mesibov", "id": 16182234, "node_id": "MDQ6VXNlcjE2MTgyMjM0", "avatar_url": "https://avatars.githubusercontent.com/u/16182234?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Mesibov", "html_url": "https://github.com/Mesibov", "followers_url": "https://api.github.com/users/Mesibov/followers", "following_url": "https://api.github.com/users/Mesibov/following{/other_user}", "gists_url": "https://api.github.com/users/Mesibov/gists{/gist_id}", "starred_url": "https://api.github.com/users/Mesibov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Mesibov/subscriptions", "organizations_url": "https://api.github.com/users/Mesibov/orgs", "repos_url": "https://api.github.com/users/Mesibov/repos", "events_url": "https://api.github.com/users/Mesibov/events{/privacy}", "received_events_url": "https://api.github.com/users/Mesibov/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-10-19T23:43:32Z", "updated_at": "2019-11-16T09:17:06Z", "closed_at": "2019-11-16T09:17:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "VisiData v1.5.2\r\n\r\nIf a CSV is exported from a spreadsheet which contains newlines within cells, the CSV has broken records, with each of the lines from the \"newline-embedded\" cells starting a new CSV line. If this CSV is imported into VisiData, VisiData displays the broken lines as single lines - great!!\r\n\r\nHowever, after saving the CSV from VisiData as a TSV, the new TSV does not save the displayed table with broken lines fixed, but has the same structure as the CSV, with the full number of broken lines.\r\n\r\nI suggest this is a bug because \"save\" (\"^s\") is really just \"convert\", not \"save as displayed\".\r\n\r\nI attach a small .txt which should be renamed .csv before opening in VisiData. One record (begins with \"22177\") has 2 cells containing embedded newlines.\r\n\r\n[first10.txt](https://github.com/saulpw/visidata/files/3747286/first10.txt)\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/376/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/376/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/369", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/369/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/369/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/369/events", "html_url": "https://github.com/saulpw/visidata/issues/369", "id": 502659279, "node_id": "MDU6SXNzdWU1MDI2NTkyNzk=", "number": 369, "title": "SQLite handler fails with 'sqlite3.OperationalError' on selecting tables with keyword names", "user": {"login": "shym", "id": 547679, "node_id": "MDQ6VXNlcjU0NzY3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/547679?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shym", "html_url": "https://github.com/shym", "followers_url": "https://api.github.com/users/shym/followers", "following_url": "https://api.github.com/users/shym/following{/other_user}", "gists_url": "https://api.github.com/users/shym/gists{/gist_id}", "starred_url": "https://api.github.com/users/shym/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shym/subscriptions", "organizations_url": "https://api.github.com/users/shym/orgs", "repos_url": "https://api.github.com/users/shym/repos", "events_url": "https://api.github.com/users/shym/events{/privacy}", "received_events_url": "https://api.github.com/users/shym/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-10-04T14:09:41Z", "updated_at": "2019-10-12T18:08:31Z", "closed_at": "2019-10-05T08:48:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Small description**\r\nUsing VisiData v1.5.2, I cannot visualise the content of a table named \u201ctable\u201d or \u201cselect\u201d (or, I imagine, other SQL keywords) in a SQLite database.\r\nI wonder whether that could be a duplicate of #119 but I understood that issue as fixed quite some time ago, and the fix doesn\u2019t seem to relate to this issue.\r\n\r\n**Actual result with screenshot**\r\n\r\n```\r\n Traceback (most recent call last):                                                           \u2016\r\n   File \"/usr/lib/python3/dist-packages/visidata/vdtui.py\", line 1115, in exec_command        \u2016\r\n     exec(cmd.execstr, vdglobals, LazyMap(self))                                              \u2016\r\n   File \"<string>\", line 1, in <module>                                                       \u2016\r\n   File \"/usr/lib/python3/dist-packages/visidata/vdtui.py\", line 961, in push                 \u2016\r\n     vs.reload()                                                                              \u2016\r\n   File \"/usr/lib/python3/dist-packages/visidata/loaders/sqlite.py\", line 24, in reload       \u2016\r\n     self.columns = self.getColumns(tblname)                                                  \u2016\r\n   File \"/usr/lib/python3/dist-packages/visidata/loaders/sqlite.py\", line 33, in getColumns   \u2016\r\n     for i, r in enumerate(self.conn.execute('PRAGMA TABLE_INFO(%s)' % tableName)):           \u2016\r\n sqlite3.OperationalError: near \"select\": syntax error                                        \u2016\r\n```\r\n\r\nWithout surprise, in an interactive SQLite session I get:\r\n\r\n```\r\nsqlite> PRAGMA TABLE_INFO(table);\r\nError: near \"table\": syntax error\r\nsqlite> PRAGMA TABLE_INFO(\"table\");\r\n[correct output]\r\n```\r\n\r\n**Steps to reproduce**\r\n\r\n```sh\r\n$ sqlite3 bug.db 'create table \"table\" (\"col\" text)'\r\n$ vd bug.db\r\n```\r\nand select the table.\r\n\r\n**Additional context**\r\nVisiData v1.5.2, debian package 1.5.2-1", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/369/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/369/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/365", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/365/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/365/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/365/events", "html_url": "https://github.com/saulpw/visidata/issues/365", "id": 498187371, "node_id": "MDU6SXNzdWU0OTgxODczNzE=", "number": 365, "title": "setup.py install failes on develop", "user": {"login": "marrowsuck", "id": 1490076, "node_id": "MDQ6VXNlcjE0OTAwNzY=", "avatar_url": "https://avatars.githubusercontent.com/u/1490076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marrowsuck", "html_url": "https://github.com/marrowsuck", "followers_url": "https://api.github.com/users/marrowsuck/followers", "following_url": "https://api.github.com/users/marrowsuck/following{/other_user}", "gists_url": "https://api.github.com/users/marrowsuck/gists{/gist_id}", "starred_url": "https://api.github.com/users/marrowsuck/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marrowsuck/subscriptions", "organizations_url": "https://api.github.com/users/marrowsuck/orgs", "repos_url": "https://api.github.com/users/marrowsuck/repos", "events_url": "https://api.github.com/users/marrowsuck/events{/privacy}", "received_events_url": "https://api.github.com/users/marrowsuck/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-09-25T10:12:50Z", "updated_at": "2019-09-26T16:32:21Z", "closed_at": "2019-09-26T16:32:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "setup.py still references bin/vls although since commit 0db1138 it has moved to vsh.", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/365/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/365/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/363", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/363/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/363/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/363/events", "html_url": "https://github.com/saulpw/visidata/issues/363", "id": 495521798, "node_id": "MDU6SXNzdWU0OTU1MjE3OTg=", "number": 363, "title": "Can't add rows to a new Sheet in v.2.-1dev", "user": {"login": "for-coursera", "id": 7221116, "node_id": "MDQ6VXNlcjcyMjExMTY=", "avatar_url": "https://avatars.githubusercontent.com/u/7221116?v=4", "gravatar_id": "", "url": "https://api.github.com/users/for-coursera", "html_url": "https://github.com/for-coursera", "followers_url": "https://api.github.com/users/for-coursera/followers", "following_url": "https://api.github.com/users/for-coursera/following{/other_user}", "gists_url": "https://api.github.com/users/for-coursera/gists{/gist_id}", "starred_url": "https://api.github.com/users/for-coursera/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/for-coursera/subscriptions", "organizations_url": "https://api.github.com/users/for-coursera/orgs", "repos_url": "https://api.github.com/users/for-coursera/repos", "events_url": "https://api.github.com/users/for-coursera/events{/privacy}", "received_events_url": "https://api.github.com/users/for-coursera/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-09-19T01:06:52Z", "updated_at": "2019-09-19T06:57:48Z", "closed_at": "2019-09-19T06:52:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Small description**\r\n\r\n`ga` command fails to add rows in a new Sheet\r\n\r\n**Steps to reproduce**\r\n\r\n1. Launch `vd`\r\n2. Press `Shift-a` for a new Sheet (enter a number of columns for that sheet when asked, e.g. 2)\r\n3. Press `ga` to add some new rows (enter a number of columns for that sheet when asked, e.g. 10)\r\n\r\nBelow is the commandlog (saved with `Ctrl-d`) to show the steps that led to the issue:\r\n\r\n    sheet\tcol\trow\tlongname\tinput\tkeystrokes\tcomment\r\n    \t\t\topen-file\t.\to\t\r\n    \t\t\tadd-sheet\t2\tA\t\r\n    unnamed\t\t\tadd-rows\t10\tga\t\r\n\r\n**Expected result**\r\n\r\nWith v.1.5.2, 10 rows would have been added. \r\n\r\n**Actual result with screenshot**\r\n\r\nWith v.2.-1dev, vd reports `AttributeError: 'Sheet' object has no attribute 'newRow' | \"10\"`.\r\n\r\n![](https://i.imgur.com/RCzJpzp.png)\r\n\r\nBelow is the full stack trace (saved with `Ctrl-e`):\r\n\r\n    Traceback (most recent call last):\r\n       File \"/Users/me/Library/Python/3.7/lib/python/site-packages/visidata/threads.py\", line 197, in _toplevelTryFunc\r\n         t.status = func(*args, **kwargs)\r\n       File \"/Users/me/Library/Python/3.7/lib/python/site-packages/visidata/data.py\", line 53, in addRows\r\n         sheet.addRow(sheet.newRow(), idx+1)\r\n    AttributeError: 'Sheet' object has no attribute 'newRow'", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/363/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/363/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/360", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/360/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/360/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/360/events", "html_url": "https://github.com/saulpw/visidata/issues/360", "id": 493864522, "node_id": "MDU6SXNzdWU0OTM4NjQ1MjI=", "number": 360, "title": "[pandas develop] PandasSheets cannot be modified", "user": {"login": "anjakefala", "id": 7489659, "node_id": "MDQ6VXNlcjc0ODk2NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/7489659?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anjakefala", "html_url": "https://github.com/anjakefala", "followers_url": "https://api.github.com/users/anjakefala/followers", "following_url": "https://api.github.com/users/anjakefala/following{/other_user}", "gists_url": "https://api.github.com/users/anjakefala/gists{/gist_id}", "starred_url": "https://api.github.com/users/anjakefala/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anjakefala/subscriptions", "organizations_url": "https://api.github.com/users/anjakefala/orgs", "repos_url": "https://api.github.com/users/anjakefala/repos", "events_url": "https://api.github.com/users/anjakefala/events{/privacy}", "received_events_url": "https://api.github.com/users/anjakefala/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1297124213, "node_id": "MDU6TGFiZWwxMjk3MTI0MjEz", "url": "https://api.github.com/repos/saulpw/visidata/labels/pandas", "name": "pandas", "color": "cae87a", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-09-16T06:12:58Z", "updated_at": "2020-04-02T05:26:48Z", "closed_at": "2020-04-02T05:21:26Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "**Small description**\r\nWhen the work was done to enable selecting in pandas, [this line was added that effectively copies the dataframe](https://github.com/saulpw/visidata/blob/develop/visidata/loaders/_pandas.py#L71). This means that the source dataframe is not being modified.\r\n\r\n**Expected result**\r\nPandasSheets should be modifiable.\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\nvd sample_data/co3.dta\r\n\r\nAnd then try to edit any value.\r\n\r\n**Additional context**\r\ndevelop branch\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/360/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/360/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/354", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/354/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/354/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/354/events", "html_url": "https://github.com/saulpw/visidata/issues/354", "id": 491223141, "node_id": "MDU6SXNzdWU0OTEyMjMxNDE=", "number": 354, "title": "Failure reading stdin (piping to vd)", "user": {"login": "ajkerrigan", "id": 19539955, "node_id": "MDQ6VXNlcjE5NTM5OTU1", "avatar_url": "https://avatars.githubusercontent.com/u/19539955?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ajkerrigan", "html_url": "https://github.com/ajkerrigan", "followers_url": "https://api.github.com/users/ajkerrigan/followers", "following_url": "https://api.github.com/users/ajkerrigan/following{/other_user}", "gists_url": "https://api.github.com/users/ajkerrigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/ajkerrigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ajkerrigan/subscriptions", "organizations_url": "https://api.github.com/users/ajkerrigan/orgs", "repos_url": "https://api.github.com/users/ajkerrigan/repos", "events_url": "https://api.github.com/users/ajkerrigan/events{/privacy}", "received_events_url": "https://api.github.com/users/ajkerrigan/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-09-09T17:20:08Z", "updated_at": "2019-09-14T06:19:20Z", "closed_at": "2019-09-14T06:19:20Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "**Small description**\r\nIn `v2.-1` I was able to pipe command output to `vd` and get a sheet. With the current develop branch (37acde0bb9a0b758d664341c835b4a13de0a2a08), I get no data.\r\n\r\n**Expected result**\r\nPiping something like a directory list to VisiData, I expect to see a sheet with the data:\r\n\r\n```ls -l | vd -f fixed```\r\n\r\n**Actual result with screenshot**\r\nI get no error, but vd stops after showing:\r\n\r\n```- does not exist, creating new sheet```\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\nThis small test script should exit with 0 if things are working, and 1 otherwise. Using it with `git bisect` suggests the issue traces back to 4f7f82cf4f1d4d278c51a9bfc00ad3514b69b8ef:\r\n\r\n```bash\r\n#!/bin/bash\r\nVALUE=$(echo \"hi\" | ./bin/vd -bo -)\r\n[[ \"$VALUE\" == \"hi\" ]] && exit 0\r\nexit 1\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/354/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/354/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/350", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/350/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/350/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/350/events", "html_url": "https://github.com/saulpw/visidata/issues/350", "id": 490170727, "node_id": "MDU6SXNzdWU0OTAxNzA3Mjc=", "number": 350, "title": "Crash (stack overflow) with self-referential column expressions", "user": {"login": "chocolateboy", "id": 31533, "node_id": "MDQ6VXNlcjMxNTMz", "avatar_url": "https://avatars.githubusercontent.com/u/31533?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chocolateboy", "html_url": "https://github.com/chocolateboy", "followers_url": "https://api.github.com/users/chocolateboy/followers", "following_url": "https://api.github.com/users/chocolateboy/following{/other_user}", "gists_url": "https://api.github.com/users/chocolateboy/gists{/gist_id}", "starred_url": "https://api.github.com/users/chocolateboy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chocolateboy/subscriptions", "organizations_url": "https://api.github.com/users/chocolateboy/orgs", "repos_url": "https://api.github.com/users/chocolateboy/repos", "events_url": "https://api.github.com/users/chocolateboy/events{/privacy}", "received_events_url": "https://api.github.com/users/chocolateboy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-09-06T07:17:43Z", "updated_at": "2019-09-30T06:11:56Z", "closed_at": "2019-09-30T06:11:56Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "- OS: Linux (Arch)\r\n- VisiData: v1.5.2 and v2.-1dev\r\n- Python: 3.7.4\r\n\r\nNot sure if this is obvious, expected, a bug, or something I've overlooked in the documentation, but it's possible to crash VisiData (and python) if a column expression refers to its own column name, something which it's easy to do inadvertently/indirectly when columns are renamed.\r\n\r\nIn the attached test case, I have a bunch of TV episodes I want to assign a short season/episode identifier to, e.g. Season 6, Episode 7 -> \"06x07\". The generated column name is ugly and I have no particular use for its constituent columns after combining them so I name the newly-created column `episode` (and possibly hide the old `season` and `episode` columns).\r\n\r\nWhat happens next varies. Sometimes nothing happens (i.e. no error). Sometimes I get an immediate error (red exclamation marks in the new `episode` column's cells). Sometimes I trigger the error if I re-order the columns (e.g. moving the new `episode` column before the old one) and clear it if I move the column back. And sometimes VisiData crashes (with a mangled python stack trace) and python crashes (\"core dumped\") if I sort an unrelated column (as demonstrated in the [attached test case](https://github.com/saulpw/visidata/files/3582543/test.zip)).\r\n\r\nIn the error case, I get the core dump if I inspect any of the flagged cells with <kbd>z</kbd> <kbd>Ctrl-E</kbd>.\r\n\r\nIn case anyone else encounters the same issue, the stack trace of the crashed python process includes the following:\r\n\r\n```\r\n_PyBytes_Resize (in /usr/lib/libpython3.7m.so.1.0)\r\n??? (in /usr/lib/libpython3.7m.so.1.0)\r\n_PyMethodDef_RawFastCallDict (in /usr/lib/libpython3.7m.so.1.0)\r\n_PyCFunction_FastCallDict (in /usr/lib/libpython3.7m.so.1.0)\r\n??? (in /usr/lib/libpython3.7m.so.1.0)\r\n_PyMethodDef_RawFastCallDict (in /usr/lib/libpython3.7m.so.1.0)\r\n_PyCFunction_FastCallDict (in /usr/lib/libpython3.7m.so.1.0)\r\n_PyObject_CallMethodId_SizeT (in /usr/lib/libpython3.7m.so.1.0)\r\n??? (in /usr/lib/libpython3.7m.so.1.0)\r\n_PyMethodDef_RawFastCallKeywords (in /usr/lib/libpython3.7m.so.1.0)\r\n_PyMethodDescr_FastCallKeywords (in /usr/lib/libpython3.7m.so.1.0)\r\n```", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/350/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/350/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/344", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/344/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/344/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/344/events", "html_url": "https://github.com/saulpw/visidata/issues/344", "id": 487547895, "node_id": "MDU6SXNzdWU0ODc1NDc4OTU=", "number": 344, "title": "TSV file with column name \"length\" causes TypeError", "user": {"login": "suhrig", "id": 10560654, "node_id": "MDQ6VXNlcjEwNTYwNjU0", "avatar_url": "https://avatars.githubusercontent.com/u/10560654?v=4", "gravatar_id": "", "url": "https://api.github.com/users/suhrig", "html_url": "https://github.com/suhrig", "followers_url": "https://api.github.com/users/suhrig/followers", "following_url": "https://api.github.com/users/suhrig/following{/other_user}", "gists_url": "https://api.github.com/users/suhrig/gists{/gist_id}", "starred_url": "https://api.github.com/users/suhrig/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/suhrig/subscriptions", "organizations_url": "https://api.github.com/users/suhrig/orgs", "repos_url": "https://api.github.com/users/suhrig/repos", "events_url": "https://api.github.com/users/suhrig/events{/privacy}", "received_events_url": "https://api.github.com/users/suhrig/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-08-30T15:35:45Z", "updated_at": "2019-09-09T05:57:01Z", "closed_at": "2019-09-09T05:57:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Small description**\r\nFiles in TSV format containing a column named `length` cannot be loaded.\r\n\r\n**Expected result**\r\nSee content of TSV file.\r\n\r\n**Actual result with screenshot**\r\nAn empty file is shown. In the footer line it says:\r\n```\r\nTypeError: 'property' object is not callable\r\n```\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\nCreate a file named `test.tsv` with this content:\r\n```\r\nlength\r\n1\r\n```\r\nThen, try to open it:\r\n```\r\nvd test.tsv\r\n```\r\n\r\n**Additional context**\r\nversion 1.5.2\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/344/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/344/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/342", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/342/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/342/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/342/events", "html_url": "https://github.com/saulpw/visidata/issues/342", "id": 484862149, "node_id": "MDU6SXNzdWU0ODQ4NjIxNDk=", "number": 342, "title": "If two source sheets loaded, upon startup prev-sheet will stacktrace", "user": {"login": "frosencrantz", "id": 631242, "node_id": "MDQ6VXNlcjYzMTI0Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/631242?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frosencrantz", "html_url": "https://github.com/frosencrantz", "followers_url": "https://api.github.com/users/frosencrantz/followers", "following_url": "https://api.github.com/users/frosencrantz/following{/other_user}", "gists_url": "https://api.github.com/users/frosencrantz/gists{/gist_id}", "starred_url": "https://api.github.com/users/frosencrantz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frosencrantz/subscriptions", "organizations_url": "https://api.github.com/users/frosencrantz/orgs", "repos_url": "https://api.github.com/users/frosencrantz/repos", "events_url": "https://api.github.com/users/frosencrantz/events{/privacy}", "received_events_url": "https://api.github.com/users/frosencrantz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2019-08-24T21:04:38Z", "updated_at": "2019-09-05T02:40:48Z", "closed_at": "2019-09-05T02:40:47Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Running the prev-sheet command will stack trace if no other sheet visited**\r\n\r\n**Expected result**\r\nSwap to other sheet that was listed on the command line.  I listed two datasources on the command line, expected the prev-sheet to visit the other sheet (which would be more useful) or do nothing.  Didn't expect a stack trace.\r\n\r\n**Actual result with screenshot**\r\nEasy to reproduce.  I don't have the stack trace at time of report, available upon request\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n```\r\nvd /path/to/data/dir   two.csv\r\nType '^^' prev-sheet  as first command\r\n```\r\n\r\n\r\n\r\n**Additional context**\r\nLatest develop version\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/342/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/342/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/340", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/340/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/340/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/340/events", "html_url": "https://github.com/saulpw/visidata/issues/340", "id": 484213951, "node_id": "MDU6SXNzdWU0ODQyMTM5NTE=", "number": 340, "title": "[develop] Saving DirSheets doesn't delete files", "user": {"login": "Mikee-3000", "id": 13318998, "node_id": "MDQ6VXNlcjEzMzE4OTk4", "avatar_url": "https://avatars.githubusercontent.com/u/13318998?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Mikee-3000", "html_url": "https://github.com/Mikee-3000", "followers_url": "https://api.github.com/users/Mikee-3000/followers", "following_url": "https://api.github.com/users/Mikee-3000/following{/other_user}", "gists_url": "https://api.github.com/users/Mikee-3000/gists{/gist_id}", "starred_url": "https://api.github.com/users/Mikee-3000/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Mikee-3000/subscriptions", "organizations_url": "https://api.github.com/users/Mikee-3000/orgs", "repos_url": "https://api.github.com/users/Mikee-3000/repos", "events_url": "https://api.github.com/users/Mikee-3000/events{/privacy}", "received_events_url": "https://api.github.com/users/Mikee-3000/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-08-22T20:59:58Z", "updated_at": "2019-09-18T00:15:05Z", "closed_at": "2019-09-18T00:15:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Small description**\r\nOpened a directory in Visidata, deleted a file and saved.\r\n\r\n**Expected result**\r\nFile deleted from the file system\r\n\r\n**Actual result with screenshot**\r\nNo result, no error. \r\n![dirsheet](https://user-images.githubusercontent.com/13318998/63549161-c752ce80-c527-11e9-95d1-5268f50a98bd.gif)\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\nIn a terminal, open vd with `vd` (no args). Delete the file with `d`. Save with Ctrl+S\r\n\r\nCmdlog:\r\n```\r\nsheet\tcol\trow\tlongname\tinput\tkeystrokes\tcomment\r\n\t\t\topen-file\t.\to\t\r\n\t\t\u30ad.,test.md\tdelete-row\t\td\t\r\n\t\t\tsave-sheet\t\t^S\t\r\n```\r\n\r\n**Additional context**\r\nVD: 2.-1dev, OS: Linux\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/340/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/340/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/339", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/339/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/339/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/339/events", "html_url": "https://github.com/saulpw/visidata/issues/339", "id": 484205944, "node_id": "MDU6SXNzdWU0ODQyMDU5NDQ=", "number": 339, "title": "[develop] undo - redo doesn't go back to the same state", "user": {"login": "Mikee-3000", "id": 13318998, "node_id": "MDQ6VXNlcjEzMzE4OTk4", "avatar_url": "https://avatars.githubusercontent.com/u/13318998?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Mikee-3000", "html_url": "https://github.com/Mikee-3000", "followers_url": "https://api.github.com/users/Mikee-3000/followers", "following_url": "https://api.github.com/users/Mikee-3000/following{/other_user}", "gists_url": "https://api.github.com/users/Mikee-3000/gists{/gist_id}", "starred_url": "https://api.github.com/users/Mikee-3000/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Mikee-3000/subscriptions", "organizations_url": "https://api.github.com/users/Mikee-3000/orgs", "repos_url": "https://api.github.com/users/Mikee-3000/repos", "events_url": "https://api.github.com/users/Mikee-3000/events{/privacy}", "received_events_url": "https://api.github.com/users/Mikee-3000/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-08-22T20:40:16Z", "updated_at": "2019-09-09T05:57:40Z", "closed_at": "2019-09-09T05:57:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Small description**\r\nOpened a sheet, added a row, edited the cell [1:2]. 2 times Shift+U undid both steps. Consequent Shift+r added the row back, but the edited cell was now [2:2]\r\n\r\n**Expected result**\r\nThe edited cell was meant to be [1:2]\r\n\r\n**Actual result with screenshot**\r\n![vd_redo](https://user-images.githubusercontent.com/13318998/63547924-19debb80-c525-11e9-837d-a59f700ccb7e.gif)\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\nOpen a simple sheet with a row and 3 cells. Add arow. Enter a number into the first cell of the second row. Press Shift+U twice to undo all edits. Press Shift+R twice for redo.\r\n\r\n```\r\nsheet\tcol\trow\tlongname\tinput\tkeystrokes\tcomment\r\n\t\t\topen-file\tsh1.csv\to\t\r\nsh1\t\t0\tadd-row\t\ta\t\r\nsh1\t2\t1\tedit-cell\t2\te\t\r\n```\r\n\r\n**Additional context**\r\nVD: 2.-1dev, OS: Linux\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/339/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/339/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/338", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/338/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/338/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/338/events", "html_url": "https://github.com/saulpw/visidata/issues/338", "id": 484188215, "node_id": "MDU6SXNzdWU0ODQxODgyMTU=", "number": 338, "title": "[develop] Alt+<s> doesn't do anything", "user": {"login": "Mikee-3000", "id": 13318998, "node_id": "MDQ6VXNlcjEzMzE4OTk4", "avatar_url": "https://avatars.githubusercontent.com/u/13318998?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Mikee-3000", "html_url": "https://github.com/Mikee-3000", "followers_url": "https://api.github.com/users/Mikee-3000/followers", "following_url": "https://api.github.com/users/Mikee-3000/following{/other_user}", "gists_url": "https://api.github.com/users/Mikee-3000/gists{/gist_id}", "starred_url": "https://api.github.com/users/Mikee-3000/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Mikee-3000/subscriptions", "organizations_url": "https://api.github.com/users/Mikee-3000/orgs", "repos_url": "https://api.github.com/users/Mikee-3000/repos", "events_url": "https://api.github.com/users/Mikee-3000/events{/privacy}", "received_events_url": "https://api.github.com/users/Mikee-3000/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-08-22T20:09:26Z", "updated_at": "2019-08-22T21:37:56Z", "closed_at": "2019-08-22T21:36:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Small description**\r\nOpened 2 CSVs and tried to switch between them using Alt+\r\n\r\n**Expected result**\r\nAlt+1 should change to sheet 1, Alt+2 to sheet 2\r\n\r\n**Actual result with screenshot**\r\nNothing happened. Stack trace is empty (\"no error\") \r\n![vd](https://user-images.githubusercontent.com/13318998/63546039-b488cb80-c520-11e9-8c08-1e750fddb38c.gif)\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\nOpen 2 sheets, try to switch between them with Alt+\r\nCommand log:\r\n```\r\nsheet\tcol\trow\tlongname\tinput\tkeystrokes\tcomment\r\n\t\t\topen-file\tsh1.csv\to\t\r\n\t\t\topen-file\tsh2.csv\to\t\r\nsh2\t\t\tsheets-stack\t\tS\t\r\nsheets\t\tquit-sheet\t\tq\t\r\n```\r\n\r\n**Additional context**\r\nVersion 2.-1dev on PopOS 19.04 and Manjaro\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/338/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/338/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/337", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/337/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/337/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/337/events", "html_url": "https://github.com/saulpw/visidata/issues/337", "id": 483357138, "node_id": "MDU6SXNzdWU0ODMzNTcxMzg=", "number": 337, "title": "VisiData v2.-1dev - Range binning for numeric columns: how to use it?", "user": {"login": "aborruso", "id": 30607, "node_id": "MDQ6VXNlcjMwNjA3", "avatar_url": "https://avatars.githubusercontent.com/u/30607?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aborruso", "html_url": "https://github.com/aborruso", "followers_url": "https://api.github.com/users/aborruso/followers", "following_url": "https://api.github.com/users/aborruso/following{/other_user}", "gists_url": "https://api.github.com/users/aborruso/gists{/gist_id}", "starred_url": "https://api.github.com/users/aborruso/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aborruso/subscriptions", "organizations_url": "https://api.github.com/users/aborruso/orgs", "repos_url": "https://api.github.com/users/aborruso/repos", "events_url": "https://api.github.com/users/aborruso/events{/privacy}", "received_events_url": "https://api.github.com/users/aborruso/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-08-21T11:13:33Z", "updated_at": "2019-08-21T18:07:43Z", "closed_at": "2019-08-21T17:22:20Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hi,\r\nI have added `options.numeric_binning = \"True\"` to my config file.\r\n\r\nThen I have opened a csv file, set a the field type to floating for a field and then I launched `SHIFT + i` to open frequency table.\r\n\r\nBut I do not understand where I should see the binning output?\r\n\r\nThank you\r\n\r\n![image](https://user-images.githubusercontent.com/30607/63427412-5c18d780-c415-11e9-9f06-94c4beeedecd.png)\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/337/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/337/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/336", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/336/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/336/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/336/events", "html_url": "https://github.com/saulpw/visidata/issues/336", "id": 482585208, "node_id": "MDU6SXNzdWU0ODI1ODUyMDg=", "number": 336, "title": "[develop] Joining columns in the ColumnSheet causes an exception", "user": {"login": "frosencrantz", "id": 631242, "node_id": "MDQ6VXNlcjYzMTI0Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/631242?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frosencrantz", "html_url": "https://github.com/frosencrantz", "followers_url": "https://api.github.com/users/frosencrantz/followers", "following_url": "https://api.github.com/users/frosencrantz/following{/other_user}", "gists_url": "https://api.github.com/users/frosencrantz/gists{/gist_id}", "starred_url": "https://api.github.com/users/frosencrantz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frosencrantz/subscriptions", "organizations_url": "https://api.github.com/users/frosencrantz/orgs", "repos_url": "https://api.github.com/users/frosencrantz/repos", "events_url": "https://api.github.com/users/frosencrantz/events{/privacy}", "received_events_url": "https://api.github.com/users/frosencrantz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-08-20T00:16:43Z", "updated_at": "2019-09-09T06:02:27Z", "closed_at": "2019-09-09T06:02:27Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Joining columns in ColumnSheet cases traceback**\r\n\r\n**Expected result**\r\n\r\nColumns would be joined\r\n\r\n**Actual result with screenshot**\r\nException in cells of new column:\r\n```\r\nTraceback (most recent call last): \r\n   File \"/usr/lib/python3.6/site-packages/visidata/wrappers.py\", line 95, in wrapply \r\n     return func(*args, **kwargs) \r\n   File \"/usr/lib/python3.6/site-packages/visidata/column.py\", line 168, in getValue \r\n     return self.calcValue(row) \r\n   File \"/usr/lib/python3.6/site-packages/visidata/metasheets.py\", line 36, in calcValue \r\n     return srcCol.getDisplayValue(srcCol.sheet.cursorRow) \r\n AttributeError: 'NoneType' object has no attribute 'cursorRow'                    \r\n```\r\n**Steps to reproduce with sample data and a .vd**\r\nSelect multiple rows in a ColumnSheet, and hit the '&' key\r\n\r\n**Additional context**\r\ndevelop branch", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/336/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/336/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/335", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/335/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/335/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/335/events", "html_url": "https://github.com/saulpw/visidata/issues/335", "id": 482199024, "node_id": "MDU6SXNzdWU0ODIxOTkwMjQ=", "number": 335, "title": "VisiData version 2.0 installation", "user": {"login": "aborruso", "id": 30607, "node_id": "MDQ6VXNlcjMwNjA3", "avatar_url": "https://avatars.githubusercontent.com/u/30607?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aborruso", "html_url": "https://github.com/aborruso", "followers_url": "https://api.github.com/users/aborruso/followers", "following_url": "https://api.github.com/users/aborruso/following{/other_user}", "gists_url": "https://api.github.com/users/aborruso/gists{/gist_id}", "starred_url": "https://api.github.com/users/aborruso/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aborruso/subscriptions", "organizations_url": "https://api.github.com/users/aborruso/orgs", "repos_url": "https://api.github.com/users/aborruso/repos", "events_url": "https://api.github.com/users/aborruso/events{/privacy}", "received_events_url": "https://api.github.com/users/aborruso/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-08-19T09:21:31Z", "updated_at": "2019-08-19T14:44:37Z", "closed_at": "2019-08-19T14:44:36Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hi,\r\nis it necessary/better to uninstall the 1.5.2 and remove `.visidatarc` file?\r\n\r\nThank you", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/335/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/335/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/334", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/334/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/334/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/334/events", "html_url": "https://github.com/saulpw/visidata/issues/334", "id": 482140056, "node_id": "MDU6SXNzdWU0ODIxNDAwNTY=", "number": 334, "title": "[develop] Integrate deferred changes into Canvas", "user": {"login": "anjakefala", "id": 7489659, "node_id": "MDQ6VXNlcjc0ODk2NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/7489659?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anjakefala", "html_url": "https://github.com/anjakefala", "followers_url": "https://api.github.com/users/anjakefala/followers", "following_url": "https://api.github.com/users/anjakefala/following{/other_user}", "gists_url": "https://api.github.com/users/anjakefala/gists{/gist_id}", "starred_url": "https://api.github.com/users/anjakefala/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anjakefala/subscriptions", "organizations_url": "https://api.github.com/users/anjakefala/orgs", "repos_url": "https://api.github.com/users/anjakefala/repos", "events_url": "https://api.github.com/users/anjakefala/events{/privacy}", "received_events_url": "https://api.github.com/users/anjakefala/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-08-19T07:02:46Z", "updated_at": "2020-02-16T23:24:23Z", "closed_at": "2020-02-16T23:24:23Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "**Small description**\r\nThe deferred changes feature in 2.-1 resulted in adjustments to `delete-rows` within `clipboard.py`. Canvas commands, which delete the source rows within the current cursor, have not been updated.\r\n\r\n**Expected result**\r\n`delete-cursor` should mirror deletions on regular sheets. It should delete the source rows that are within the cursor. Those rows can be reloaded with `^R` until a save is performed on the source sheet. Those points should disappear from the plot.\r\n\r\n**Actual result with screenshot**\r\n~~~\r\nTraceback (most recent call last):\r\n  File \"/home/kefala/git/visidata/visidata/basesheet.py\", line 114, in exec_command\r\n    exec(code, vdglobals, LazyMap(vd, self))\r\n  File \"delete-cursor\", line 1, in <module>\r\n    import math\r\nAttributeError: 'CsvSheet' object has no attribute 'delete'\r\n~~~\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\nRun [tests/graphpr-nosave.vd](https://raw.githubusercontent.com/saulpw/visidata/develop/tests/graphpr-nosave.vd). Encapsulate some points with the cursor and press `d`.\r\n\r\n\r\n**Additional context**\r\nThis is in testing 2.-1.\r\nThis issue does not occur in 1.5.2.\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/334/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/334/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/332", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/332/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/332/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/332/events", "html_url": "https://github.com/saulpw/visidata/issues/332", "id": 481068512, "node_id": "MDU6SXNzdWU0ODEwNjg1MTI=", "number": 332, "title": "changing fmtstr causes error when replaying cmdlog", "user": {"login": "MarkoM2", "id": 35829869, "node_id": "MDQ6VXNlcjM1ODI5ODY5", "avatar_url": "https://avatars.githubusercontent.com/u/35829869?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MarkoM2", "html_url": "https://github.com/MarkoM2", "followers_url": "https://api.github.com/users/MarkoM2/followers", "following_url": "https://api.github.com/users/MarkoM2/following{/other_user}", "gists_url": "https://api.github.com/users/MarkoM2/gists{/gist_id}", "starred_url": "https://api.github.com/users/MarkoM2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MarkoM2/subscriptions", "organizations_url": "https://api.github.com/users/MarkoM2/orgs", "repos_url": "https://api.github.com/users/MarkoM2/repos", "events_url": "https://api.github.com/users/MarkoM2/events{/privacy}", "received_events_url": "https://api.github.com/users/MarkoM2/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-08-15T09:24:38Z", "updated_at": "2019-08-20T05:02:47Z", "closed_at": "2019-08-20T05:02:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Small description**\r\nI created a cmdlog.vd to process some time series data and included changes of the fmtstr to display the date in another fashion. That worked. However when I changed the fmtstr of a data column to display more digits, vd throws an error when replaying the cmdlog.vd file. \r\n\r\nChanging the fmtstr while in the session works btw.\r\n\r\n**Actual result with screenshot**\r\nThe error message is this:\r\n```\r\n> vd -p ~/.coinmon/calcpf2.vd\r\nTraceback (most recent call last):\r\n  File \"/usr/bin/vd\", line 152, in <module>\r\n    main()\r\n  File \"/usr/bin/vd\", line 139, in main\r\n    vs = eval_vd(vdfile, *fmtargs, **fmtkwargs)\r\n  File \"/usr/bin/vd\", line 16, in eval_vd\r\n    log = logpath.read_text().format(*args, **kwargs)\r\nIndexError: tuple index out of range\r\n```\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\ncmdlog.vd is this:\r\n```\r\nsheet\tcol\trow\tlongname\tinput\tkeystrokes\tcomment\r\n\t\t\topen-file\t/home/pi/.coinmon/portfoliolog_2.csv\to\t\r\nportfoliolog_2\tdate\t\ttype-date\t\t@\t\r\nportfoliolog_2\t\t\tcolumns-sheet\t\tC\t\r\nportfoliolog_2_columns\t\t\u30adBTC rate in EUR\tselect-row\t\ts\t\r\nportfoliolog_2_columns\t\t\u30adBTC balance\tselect-row\t\ts\t\r\nportfoliolog_2_columns\t\t\u30adETH rate in EUR\tselect-row\t\ts\t\r\nportfoliolog_2_columns\t\t\u30adETH balance\tselect-row\t\ts\t\r\nportfoliolog_2_columns\t\t\u30adUSDC rate in EUR\tselect-row\t\ts\t\r\nportfoliolog_2_columns\t\t\u30adUSDC balance\tselect-row\t\ts\t\r\nportfoliolog_2_columns\t\t\u30adUSDC balance\ttype-float-selected\t\tg%\t\r\nportfoliolog_2_columns\t\t\tquit-sheet\t\tq\t\r\nportfoliolog_2\tBTC rate in EUR\t\trename-col\tBTCrate\t^\t\r\nportfoliolog_2\tBTC balance\t\trename-col\tBTCbalance\t^\t\r\nportfoliolog_2\tETH rate in EUR\t\trename-col\tETHrate\t^\t\r\nportfoliolog_2\tETH balance\t\trename-col\tETHbalance\t^\t\r\nportfoliolog_2\tUSDC rate in EUR\t\trename-col\tUSDCrate\t^\t\r\nportfoliolog_2\tUSDC balance\t\trename-col\tUSDCbalance\t^\t\r\nportfoliolog_2\tUSDCbalance\t\taddcol-expr\tBTCrate*BTCbalance+ETHrate*ETHbalance+USDCrate*USDCbalance\t=\t\r\nportfoliolog_2\tBTCrate*BTCbalance+ETHrate*ETHbalance+USDCrate*USDCbalance\t\ttype-float\t\t%\t\r\nportfoliolog_2\tBTCrate*BTCbalance+ETHrate*ETHbalance+USDCrate*USDCbalance\t\trename-col\tPortfolio\t^\t\r\nportfoliolog_2\tdate\t\tkey-col\t\t!\t\r\nportfoliolog_2\t\t\tcolumns-sheet\t\tC\t\r\nportfoliolog_2_columns\tfmtstr\t\u30addate\tedit-cell\t%Y-%m-%d %H:%M:%S\te\t\r\nportfoliolog_2_columns\tfmtstr\t\u30adBTCbalance\tedit-cell\t{:.06f}\te\t\r\nportfoliolog_2_columns\tfmtstr\t\u30adETHbalance\tedit-cell\t{:.06f}\te\t\r\nportfoliolog_2_columns\t\t\tquit-sheet\t\tq\t\r\n```\r\nSampledata would be:\r\n```\r\ndate,BTC rate in EUR,BTC balance,ETH rate in EUR,ETH balance,USDC rate in EUR,USDC balance\r\n2019-08-14 15:55:05,9480.22705033,0.05898837,184.733014075,0,0.8967292765,0\r\n2019-08-14 16:00:04,9488.46350771,0.05898837,184.67089068,0,0.8967904687,0\r\n2019-08-14 16:05:04,9486.9116839,0.05898837,184.892745657,0,0.8984322335,0\r\n2019-08-14 16:10:05,9479.97697304,0.05898837,184.730015651,0,0.8984378446,0\r\n2019-08-14 16:15:04,9473.84148799,0.05898837,184.078152967,0,0.9001130957,0\r\n2019-08-14 16:20:05,9453.96604769,0.05898837,183.908557244,0,0.8991447542,0\r\n2019-08-14 16:25:04,9440.25403943,0.05898837,183.929830584,0,0.8994170165,0\r\n2019-08-14 16:30:04,9432.5424575,0.05898837,184.186597467,0,0.8986506015,0\r\n2019-08-14 16:35:05,9448.58308622,0.05898837,184.497965697,0,0.8973933275,0\r\n2019-08-14 16:40:04,9444.98969051,0.05898837,184.709042811,0,0.8979155624,0\r\n2019-08-14 16:45:05,9435.3329251,0.05898837,184.53183512,0,0.9016262956,0\r\n2019-08-14 16:50:05,9420.52973361,0.05898837,184.12941191,0,0.9010231825,0\r\n```\r\n\r\n\r\n**Additional context**\r\nVersion of VisiData: \r\nsaul.pw/VisiData v1.5.2\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/332/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/332/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/331", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/331/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/331/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/331/events", "html_url": "https://github.com/saulpw/visidata/issues/331", "id": 479679800, "node_id": "MDU6SXNzdWU0Nzk2Nzk4MDA=", "number": 331, "title": "Fixed format can truncate data, but not strip spaces.", "user": {"login": "frosencrantz", "id": 631242, "node_id": "MDQ6VXNlcjYzMTI0Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/631242?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frosencrantz", "html_url": "https://github.com/frosencrantz", "followers_url": "https://api.github.com/users/frosencrantz/followers", "following_url": "https://api.github.com/users/frosencrantz/following{/other_user}", "gists_url": "https://api.github.com/users/frosencrantz/gists{/gist_id}", "starred_url": "https://api.github.com/users/frosencrantz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frosencrantz/subscriptions", "organizations_url": "https://api.github.com/users/frosencrantz/orgs", "repos_url": "https://api.github.com/users/frosencrantz/repos", "events_url": "https://api.github.com/users/frosencrantz/events{/privacy}", "received_events_url": "https://api.github.com/users/frosencrantz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2019-08-12T14:32:58Z", "updated_at": "2019-09-11T09:22:09Z", "closed_at": "2019-09-09T06:04:09Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Fixed format can truncate values, and not strip spaces**\r\n\r\n**Expected result**\r\nThree things seem incorrect here:\r\n1) Non-space values are lost.\r\n2) Some cells have leading or trailing spaces.\r\n3) The leading column is empty.  First column should have a value.\r\n\r\n**Actual result with screenshot**\r\nIf you get an unexpected error, please include the full stack trace that you get with `Ctrl-E`.\r\n\r\n**Steps to reproduce with sample data and a .vd**\r\n\r\n```\r\n$ (echo  \"WXYZaXYZbXYZc\" ; echo \"WXYZdWXYZeWXYZf\" ; echo \"WXYZgggZhhhZiiii\") | sed -e \"s/[A-Z]/ /g\" | vd -f fixed --fixed-rows=3 -b -o r3.csv -                                                                      \r\n$ (echo  \"WXYZaXYZbXYZc\" ; echo \"WXYZdWXYZeWXYZf\" ; echo \"WXYZgggZhhhZiiii\") | sed -e \"s/[A-Z]/ /g\" | vd -f fixed --fixed-rows=2 -b -o r2.csv -\r\n$ grep \"\" * | sed -e 's/ /+/g'\r\nr2.csv:,a,b,c,\r\nr2.csv:+,d,+e,+,f\r\nr2.csv:+,g,hh,i,i\r\nr3.csv:,a,b,c\r\nr3.csv:+,d++,+e+,++f\r\nr3.csv:+,ggg,hhh,iiii\r\n```\r\n\r\n**Additional context**\r\nLatest version", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/331/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/331/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/329", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/329/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/329/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/329/events", "html_url": "https://github.com/saulpw/visidata/issues/329", "id": 479389053, "node_id": "MDU6SXNzdWU0NzkzODkwNTM=", "number": 329, "title": "Incomplete descriptions in commands.tsv", "user": {"login": "frosencrantz", "id": 631242, "node_id": "MDQ6VXNlcjYzMTI0Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/631242?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frosencrantz", "html_url": "https://github.com/frosencrantz", "followers_url": "https://api.github.com/users/frosencrantz/followers", "following_url": "https://api.github.com/users/frosencrantz/following{/other_user}", "gists_url": "https://api.github.com/users/frosencrantz/gists{/gist_id}", "starred_url": "https://api.github.com/users/frosencrantz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frosencrantz/subscriptions", "organizations_url": "https://api.github.com/users/frosencrantz/orgs", "repos_url": "https://api.github.com/users/frosencrantz/repos", "events_url": "https://api.github.com/users/frosencrantz/events{/privacy}", "received_events_url": "https://api.github.com/users/frosencrantz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2019-08-11T16:54:42Z", "updated_at": "2019-11-12T00:24:30Z", "closed_at": "2019-11-01T04:42:50Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**FYI: github says there are problems with commands.tsv**\r\n\r\n**Expected result**\r\ntable viewer in github ui.\r\n\r\n**Actual result with screenshot**\r\n\r\nWe can make this file beautiful and searchable if this error is corrected: It looks like row 94 should actually have 12 columns, instead of 11. in line 93.\r\n\r\n\r\nhttps://github.com/saulpw/visidata/blob/develop/visidata/commands.tsv\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/329/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/329/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/327", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/327/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/327/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/327/events", "html_url": "https://github.com/saulpw/visidata/issues/327", "id": 475216276, "node_id": "MDU6SXNzdWU0NzUyMTYyNzY=", "number": 327, "title": "yaml loader fails if the input is a dictionary", "user": {"login": "frosencrantz", "id": 631242, "node_id": "MDQ6VXNlcjYzMTI0Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/631242?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frosencrantz", "html_url": "https://github.com/frosencrantz", "followers_url": "https://api.github.com/users/frosencrantz/followers", "following_url": "https://api.github.com/users/frosencrantz/following{/other_user}", "gists_url": "https://api.github.com/users/frosencrantz/gists{/gist_id}", "starred_url": "https://api.github.com/users/frosencrantz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frosencrantz/subscriptions", "organizations_url": "https://api.github.com/users/frosencrantz/orgs", "repos_url": "https://api.github.com/users/frosencrantz/repos", "events_url": "https://api.github.com/users/frosencrantz/events{/privacy}", "received_events_url": "https://api.github.com/users/frosencrantz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-07-31T15:35:13Z", "updated_at": "2019-08-03T20:35:36Z", "closed_at": "2019-08-03T20:35:36Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I tried loading yaml that is just a dictionary, e.g.\r\nfoo: 1\r\nbar: 2\r\n\r\nThe code expects only an array to be returned:\r\n\r\n Traceback (most recent call last):\r\n   File \"/usr/lib/python3.6/site-packages/visidata/threads.py\", line 191, in _toplevelTryFunc \r\n     t.status = func(*args, **kwargs)\r\n   File \"/usr/lib/python3.6/site-packages/visidata/loaders/yaml.py\", line 15, in reload\r\n     for k in self.rows[0]:\r\n KeyError: 0", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/327/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/327/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/323", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/323/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/323/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/323/events", "html_url": "https://github.com/saulpw/visidata/issues/323", "id": 472265107, "node_id": "MDU6SXNzdWU0NzIyNjUxMDc=", "number": 323, "title": "Global tsv options and settings affect HelpSheet loading", "user": {"login": "frosencrantz", "id": 631242, "node_id": "MDQ6VXNlcjYzMTI0Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/631242?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frosencrantz", "html_url": "https://github.com/frosencrantz", "followers_url": "https://api.github.com/users/frosencrantz/followers", "following_url": "https://api.github.com/users/frosencrantz/following{/other_user}", "gists_url": "https://api.github.com/users/frosencrantz/gists{/gist_id}", "starred_url": "https://api.github.com/users/frosencrantz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frosencrantz/subscriptions", "organizations_url": "https://api.github.com/users/frosencrantz/orgs", "repos_url": "https://api.github.com/users/frosencrantz/repos", "events_url": "https://api.github.com/users/frosencrantz/events{/privacy}", "received_events_url": "https://api.github.com/users/frosencrantz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2019-07-24T12:50:20Z", "updated_at": "2019-11-12T00:33:49Z", "closed_at": "2019-11-01T04:59:25Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Seeing traceback from help.  I see it only when using the --delimiter flag. \r\n\r\n```\r\n==> cell_err.txt <==\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3.6/site-packages/visidata/wrappers.py\", line 95, in wrapply\r\n    return func(*args, **kwargs)\r\n  File \"/usr/lib/python3.6/site-packages/visidata/column.py\", line 168, in getValue\r\n    return self.calcValue(row)\r\n  File \"/usr/lib/python3.6/site-packages/visidata/column.py\", line 136, in calcValue\r\n    return (self.getter)(self, row)\r\n  File \"/usr/lib/python3.6/site-packages/visidata/metasheets.py\", line 83, in <lambda>\r\n    Column('description', getter=lambda col,row: col.sheet.cmddict[(row.sheet, row.longname)].helpstr),\r\nKeyError: ('Sheet', 'show-cursor')\r\n\r\n==> last_err.txt <==\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3.6/site-packages/visidata/utils.py\", line 76, in __getattr__\r\n    return self[self._fields.index(k)]\r\nValueError: 'sheet' is not in list\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3.6/site-packages/visidata/threads.py\", line 191, in _toplevelTryFunc\r\n    t.status = func(*args, **kwargs)\r\n  File \"/usr/lib/python3.6/site-packages/visidata/metasheets.py\", line 101, in reload\r\n    self.cmddict[(cmdrow.sheet, cmdrow.longname)] = cmdrow\r\n  File \"/usr/lib/python3.6/site-packages/visidata/utils.py\", line 78, in __getattr__\r\n    raise AttributeError\r\nAttributeError\r\n```\r\n\r\n\r\n\r\nNot seeing the traceback when run these ways:\r\n```\r\nbin/vd --csv-delimiter ,  long7.csv\r\nbin/vd -f csv --csv-delimiter ,  long7.csv\r\nbin/vd  -f tsv   long7.csv\r\n```\r\n\r\nConsistently getting the error this when running help (z^H) when run like this:\r\n```\r\nbin/vd -f tsv --delimiter ,  long7.csv\r\n```", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/323/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/323/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/321", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/321/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/321/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/321/events", "html_url": "https://github.com/saulpw/visidata/issues/321", "id": 472008283, "node_id": "MDU6SXNzdWU0NzIwMDgyODM=", "number": 321, "title": "Is the column separator color only supposed to work for the header row?", "user": {"login": "mightymiff", "id": 30919678, "node_id": "MDQ6VXNlcjMwOTE5Njc4", "avatar_url": "https://avatars.githubusercontent.com/u/30919678?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mightymiff", "html_url": "https://github.com/mightymiff", "followers_url": "https://api.github.com/users/mightymiff/followers", "following_url": "https://api.github.com/users/mightymiff/following{/other_user}", "gists_url": "https://api.github.com/users/mightymiff/gists{/gist_id}", "starred_url": "https://api.github.com/users/mightymiff/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mightymiff/subscriptions", "organizations_url": "https://api.github.com/users/mightymiff/orgs", "repos_url": "https://api.github.com/users/mightymiff/repos", "events_url": "https://api.github.com/users/mightymiff/events{/privacy}", "received_events_url": "https://api.github.com/users/mightymiff/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "anjakefala", "id": 7489659, "node_id": "MDQ6VXNlcjc0ODk2NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/7489659?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anjakefala", "html_url": "https://github.com/anjakefala", "followers_url": "https://api.github.com/users/anjakefala/followers", "following_url": "https://api.github.com/users/anjakefala/following{/other_user}", "gists_url": "https://api.github.com/users/anjakefala/gists{/gist_id}", "starred_url": "https://api.github.com/users/anjakefala/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anjakefala/subscriptions", "organizations_url": "https://api.github.com/users/anjakefala/orgs", "repos_url": "https://api.github.com/users/anjakefala/repos", "events_url": "https://api.github.com/users/anjakefala/events{/privacy}", "received_events_url": "https://api.github.com/users/anjakefala/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "anjakefala", "id": 7489659, "node_id": "MDQ6VXNlcjc0ODk2NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/7489659?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anjakefala", "html_url": "https://github.com/anjakefala", "followers_url": "https://api.github.com/users/anjakefala/followers", "following_url": "https://api.github.com/users/anjakefala/following{/other_user}", "gists_url": "https://api.github.com/users/anjakefala/gists{/gist_id}", "starred_url": "https://api.github.com/users/anjakefala/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anjakefala/subscriptions", "organizations_url": "https://api.github.com/users/anjakefala/orgs", "repos_url": "https://api.github.com/users/anjakefala/repos", "events_url": "https://api.github.com/users/anjakefala/events{/privacy}", "received_events_url": "https://api.github.com/users/anjakefala/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2019-07-23T23:17:21Z", "updated_at": "2019-07-29T04:43:35Z", "closed_at": "2019-07-29T04:43:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "I would really like to see the option to change the color of the column separator for separators in the body of a table, in addition to the headers.\r\n\r\nCurrent setting: `options.color_column_sep     =  '130 darkorange3'    # color of column separators`\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/321/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/321/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/317", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/317/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/317/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/317/events", "html_url": "https://github.com/saulpw/visidata/issues/317", "id": 470161634, "node_id": "MDU6SXNzdWU0NzAxNjE2MzQ=", "number": 317, "title": "[develop-branch] Playback not recording sheet name when importing from stdin", "user": {"login": "frosencrantz", "id": 631242, "node_id": "MDQ6VXNlcjYzMTI0Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/631242?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frosencrantz", "html_url": "https://github.com/frosencrantz", "followers_url": "https://api.github.com/users/frosencrantz/followers", "following_url": "https://api.github.com/users/frosencrantz/following{/other_user}", "gists_url": "https://api.github.com/users/frosencrantz/gists{/gist_id}", "starred_url": "https://api.github.com/users/frosencrantz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frosencrantz/subscriptions", "organizations_url": "https://api.github.com/users/frosencrantz/orgs", "repos_url": "https://api.github.com/users/frosencrantz/repos", "events_url": "https://api.github.com/users/frosencrantz/events{/privacy}", "received_events_url": "https://api.github.com/users/frosencrantz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2019-07-19T06:32:29Z", "updated_at": "2019-07-25T05:35:45Z", "closed_at": "2019-07-20T02:42:08Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "For commands that use a column like \"-\", the playback commands are not properly passed the column name. It seems like the \"-\" key is not hiding the column in playback. Also, when visiting the command table after performing such commands, the value in the column for column name is incorrect.", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/317/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/317/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/298", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/298/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/298/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/298/events", "html_url": "https://github.com/saulpw/visidata/issues/298", "id": 456654203, "node_id": "MDU6SXNzdWU0NTY2NTQyMDM=", "number": 298, "title": "strange behavior with fixed input source and empty column", "user": {"login": "aborruso", "id": 30607, "node_id": "MDQ6VXNlcjMwNjA3", "avatar_url": "https://avatars.githubusercontent.com/u/30607?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aborruso", "html_url": "https://github.com/aborruso", "followers_url": "https://api.github.com/users/aborruso/followers", "following_url": "https://api.github.com/users/aborruso/following{/other_user}", "gists_url": "https://api.github.com/users/aborruso/gists{/gist_id}", "starred_url": "https://api.github.com/users/aborruso/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aborruso/subscriptions", "organizations_url": "https://api.github.com/users/aborruso/orgs", "repos_url": "https://api.github.com/users/aborruso/repos", "events_url": "https://api.github.com/users/aborruso/events{/privacy}", "received_events_url": "https://api.github.com/users/aborruso/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-06-16T15:39:06Z", "updated_at": "2019-06-18T03:45:15Z", "closed_at": "2019-06-18T03:45:15Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hi,\r\nwhen I open this fixed table\r\n\r\n    curl -sL \"https://www.metoffice.gov.uk/pub/data/weather/uk/climate/datasets/Tmin/ranked/UK.txt?fbclid=IwAR26RJZPfZYJd4GJ5bn4zmAHlXkGmDj4UPxujCIgLWFW5ErgM9AWkmpG_IM\" | tail -n +8 | vd -f fixed\r\n\r\nand then run in the first empty column `gz=range(10000)`,  I have not as output a column with increasing progressive numbers. But why? What's wrong in my procedure?\r\n\r\nThank you", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/298/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/298/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/292", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/292/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/292/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/292/events", "html_url": "https://github.com/saulpw/visidata/issues/292", "id": 452010883, "node_id": "MDU6SXNzdWU0NTIwMTA4ODM=", "number": 292, "title": "[develop-branch] help-commands is showing null keystrokes", "user": {"login": "frosencrantz", "id": 631242, "node_id": "MDQ6VXNlcjYzMTI0Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/631242?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frosencrantz", "html_url": "https://github.com/frosencrantz", "followers_url": "https://api.github.com/users/frosencrantz/followers", "following_url": "https://api.github.com/users/frosencrantz/following{/other_user}", "gists_url": "https://api.github.com/users/frosencrantz/gists{/gist_id}", "starred_url": "https://api.github.com/users/frosencrantz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frosencrantz/subscriptions", "organizations_url": "https://api.github.com/users/frosencrantz/orgs", "repos_url": "https://api.github.com/users/frosencrantz/repos", "events_url": "https://api.github.com/users/frosencrantz/events{/privacy}", "received_events_url": "https://api.github.com/users/frosencrantz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-06-04T13:53:27Z", "updated_at": "2019-06-06T20:06:56Z", "closed_at": "2019-06-04T14:45:20Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The z^H command (help-commands) is broken in the develop branch it reports that bindkeys is not defined.\r\nAnd the it show null for the keystrokes for all rows.", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/292/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/292/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/282", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/282/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/282/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/282/events", "html_url": "https://github.com/saulpw/visidata/issues/282", "id": 444553564, "node_id": "MDU6SXNzdWU0NDQ1NTM1NjQ=", "number": 282, "title": "Select starting table in postgres from command-line", "user": {"login": "bknowles", "id": 1151895, "node_id": "MDQ6VXNlcjExNTE4OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1151895?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bknowles", "html_url": "https://github.com/bknowles", "followers_url": "https://api.github.com/users/bknowles/followers", "following_url": "https://api.github.com/users/bknowles/following{/other_user}", "gists_url": "https://api.github.com/users/bknowles/gists{/gist_id}", "starred_url": "https://api.github.com/users/bknowles/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bknowles/subscriptions", "organizations_url": "https://api.github.com/users/bknowles/orgs", "repos_url": "https://api.github.com/users/bknowles/repos", "events_url": "https://api.github.com/users/bknowles/events{/privacy}", "received_events_url": "https://api.github.com/users/bknowles/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 469750830, "node_id": "MDU6TGFiZWw0Njk3NTA4MzA=", "url": "https://api.github.com/repos/saulpw/visidata/labels/wishlist", "name": "wishlist", "color": "84b6eb", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2019-05-15T17:17:26Z", "updated_at": "2019-09-04T08:25:08Z", "closed_at": "2019-05-17T16:08:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "Related to #214 , I'd like to be able to specify a starting table when opening a particular postgres database.  The database I'm trying to work with has dozens of tables, some of which have millions of rows.  So, it takes so long to list all the tables and how many rows are in each table that the database query times out and I can't ever select the particular table that I want to open inside of the database.\r\n\r\nNote that Postico doesn't have any problems with opening the database and getting a list of tables, but at the top level it doesn't really need to know about how many rows are in each table.  So, I know I can get a list of tables quickly, and that would at least let me specify in advance from the command line which particular table I want to open with visidata.\r\n\r\nPlease let me know if you want to see any examples of the kind of thing I'm looking for.", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/282/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/282/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/279", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/279/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/279/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/279/events", "html_url": "https://github.com/saulpw/visidata/issues/279", "id": 438327682, "node_id": "MDU6SXNzdWU0MzgzMjc2ODI=", "number": 279, "title": "Resizing columns and wide characters", "user": {"login": "polm", "id": 286278, "node_id": "MDQ6VXNlcjI4NjI3OA==", "avatar_url": "https://avatars.githubusercontent.com/u/286278?v=4", "gravatar_id": "", "url": "https://api.github.com/users/polm", "html_url": "https://github.com/polm", "followers_url": "https://api.github.com/users/polm/followers", "following_url": "https://api.github.com/users/polm/following{/other_user}", "gists_url": "https://api.github.com/users/polm/gists{/gist_id}", "starred_url": "https://api.github.com/users/polm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/polm/subscriptions", "organizations_url": "https://api.github.com/users/polm/orgs", "repos_url": "https://api.github.com/users/polm/repos", "events_url": "https://api.github.com/users/polm/events{/privacy}", "received_events_url": "https://api.github.com/users/polm/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "polm", "id": 286278, "node_id": "MDQ6VXNlcjI4NjI3OA==", "avatar_url": "https://avatars.githubusercontent.com/u/286278?v=4", "gravatar_id": "", "url": "https://api.github.com/users/polm", "html_url": "https://github.com/polm", "followers_url": "https://api.github.com/users/polm/followers", "following_url": "https://api.github.com/users/polm/following{/other_user}", "gists_url": "https://api.github.com/users/polm/gists{/gist_id}", "starred_url": "https://api.github.com/users/polm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/polm/subscriptions", "organizations_url": "https://api.github.com/users/polm/orgs", "repos_url": "https://api.github.com/users/polm/repos", "events_url": "https://api.github.com/users/polm/events{/privacy}", "received_events_url": "https://api.github.com/users/polm/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "polm", "id": 286278, "node_id": "MDQ6VXNlcjI4NjI3OA==", "avatar_url": "https://avatars.githubusercontent.com/u/286278?v=4", "gravatar_id": "", "url": "https://api.github.com/users/polm", "html_url": "https://github.com/polm", "followers_url": "https://api.github.com/users/polm/followers", "following_url": "https://api.github.com/users/polm/following{/other_user}", "gists_url": "https://api.github.com/users/polm/gists{/gist_id}", "starred_url": "https://api.github.com/users/polm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/polm/subscriptions", "organizations_url": "https://api.github.com/users/polm/orgs", "repos_url": "https://api.github.com/users/polm/repos", "events_url": "https://api.github.com/users/polm/events{/privacy}", "received_events_url": "https://api.github.com/users/polm/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2019-04-29T13:53:37Z", "updated_at": "2019-05-18T02:36:52Z", "closed_at": "2019-05-18T02:36:52Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Adjusting column width with `_` doesn't seem to work as intended with wide/full width characters as used in East Asian languages.\r\n\r\nConsider this sample csv data:\r\n\r\n    \u58f1\u5f10\u53c2\u56db\u4e94\u516d\u4e03\u516b\u4e5d\u62fe,ok,test-test\r\n    this is a test,test two, test three\r\n\r\nOn the second row everything looks fine, but on the first row `_` is weird for all columns, not just the first one. \r\n\r\nYou should be able to compute the display width of a string with something like this:\r\n\r\n```\r\nimport unicodedata\r\n\r\ndef get_display_width(text):\r\n    width = 0\r\n    for cc in text:\r\n        if unicodedata.east_asian_width(cc) in 'FWA':\r\n            width += 2\r\n        else:\r\n            width += 1\r\n    return width\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/279/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/279/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/264", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/264/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/264/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/264/events", "html_url": "https://github.com/saulpw/visidata/issues/264", "id": 420555883, "node_id": "MDU6SXNzdWU0MjA1NTU4ODM=", "number": 264, "title": "[pandas develop] Adding a column to a PandasSheet does not work", "user": {"login": "migueldvb", "id": 678759, "node_id": "MDQ6VXNlcjY3ODc1OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/678759?v=4", "gravatar_id": "", "url": "https://api.github.com/users/migueldvb", "html_url": "https://github.com/migueldvb", "followers_url": "https://api.github.com/users/migueldvb/followers", "following_url": "https://api.github.com/users/migueldvb/following{/other_user}", "gists_url": "https://api.github.com/users/migueldvb/gists{/gist_id}", "starred_url": "https://api.github.com/users/migueldvb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/migueldvb/subscriptions", "organizations_url": "https://api.github.com/users/migueldvb/orgs", "repos_url": "https://api.github.com/users/migueldvb/repos", "events_url": "https://api.github.com/users/migueldvb/events{/privacy}", "received_events_url": "https://api.github.com/users/migueldvb/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 469750831, "node_id": "MDU6TGFiZWw0Njk3NTA4MzE=", "url": "https://api.github.com/repos/saulpw/visidata/labels/help%20wanted", "name": "help wanted", "color": "128A0C", "default": true, "description": null}, {"id": 1297124213, "node_id": "MDU6TGFiZWwxMjk3MTI0MjEz", "url": "https://api.github.com/repos/saulpw/visidata/labels/pandas", "name": "pandas", "color": "cae87a", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-03-13T15:13:23Z", "updated_at": "2020-04-07T05:26:44Z", "closed_at": "2020-04-07T05:26:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "Adding a row to a pandas dataframe in a separate thread works well as in this example.\r\n\r\n```\r\nimport pandas as pd\r\nimport visidata as vd\r\nfrom random import randint\r\nimport time\r\n\r\n\r\n@vd.asyncthread\r\ndef changedata(df):\r\n    while True:\r\n        df.loc[len(df)] = [randint(0, 9), randint(0, 9)]\r\n        time.sleep(1)\r\n\r\nd = {'col1': [1, 2], 'col2': [3, 4]}\r\ndf = pd.DataFrame(data=d)\r\n\r\nchangedata(df)\r\n\r\nvd.run(vd.PandasSheet('pandas', source=df))\r\n```\r\n\r\nHowever adding a column is not currently working as shown by the example below. This functionality is described [here](http://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#setting-with-enlargement) and has been added to pandas around v0.13. The reason I encountered this problem is because joining two dataframes in a separate thread with the `asyncthread` decorator does not show all the columns as `vdtui` is lauched before the merging of dataframes takes place.\r\n\r\n```\r\n@vd.asyncthread\r\ndef changedata(df):\r\n    while True:\r\n        df.loc[:, df.columns[-1]+'*'] = [randint(0, 9), randint(0, 9)]\r\n        time.sleep(1)\r\n\r\nd = {'col1': [1, 2], 'col2': [3, 4]}\r\ndf = pd.DataFrame(data=d)\r\n\r\nchangedata(df)\r\n\r\nvd.run(vd.PandasSheet('pandas', source=df))\r\n```", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/264/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/264/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/252", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/252/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/252/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/252/events", "html_url": "https://github.com/saulpw/visidata/issues/252", "id": 408389864, "node_id": "MDU6SXNzdWU0MDgzODk4NjQ=", "number": 252, "title": "After addcol-new, edit-cell shows the incorrect cell being modified (v1.6-dev)", "user": {"login": "anjakefala", "id": 7489659, "node_id": "MDQ6VXNlcjc0ODk2NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/7489659?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anjakefala", "html_url": "https://github.com/anjakefala", "followers_url": "https://api.github.com/users/anjakefala/followers", "following_url": "https://api.github.com/users/anjakefala/following{/other_user}", "gists_url": "https://api.github.com/users/anjakefala/gists{/gist_id}", "starred_url": "https://api.github.com/users/anjakefala/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anjakefala/subscriptions", "organizations_url": "https://api.github.com/users/anjakefala/orgs", "repos_url": "https://api.github.com/users/anjakefala/repos", "events_url": "https://api.github.com/users/anjakefala/events{/privacy}", "received_events_url": "https://api.github.com/users/anjakefala/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-02-09T02:45:51Z", "updated_at": "2019-02-12T05:02:00Z", "closed_at": "2019-02-12T05:02:00Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "1. Load sample_data/benchmarks.csv in visidata.\r\n2. Create a new column using `addcol-new` (`za`).\r\n3. Move the cursor to a column to the right of the newly created column.\r\n4. Exec `edit-cell` (`e`).\r\n\r\nNotice that the incorrect cell will be visually prompting you for editing. However, after I press enter, the contents written will appear in the correct cell. @saulpw has seen slightly different behaviour but all buggy cases had to do with modifying cells after a new column has been added with `addcol-new`.", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/252/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/252/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/251", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/251/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/251/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/251/events", "html_url": "https://github.com/saulpw/visidata/issues/251", "id": 407900380, "node_id": "MDU6SXNzdWU0MDc5MDAzODA=", "number": 251, "title": "addcol-new fails in batch mode", "user": {"login": "cwarden", "id": 387035, "node_id": "MDQ6VXNlcjM4NzAzNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/387035?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cwarden", "html_url": "https://github.com/cwarden", "followers_url": "https://api.github.com/users/cwarden/followers", "following_url": "https://api.github.com/users/cwarden/following{/other_user}", "gists_url": "https://api.github.com/users/cwarden/gists{/gist_id}", "starred_url": "https://api.github.com/users/cwarden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cwarden/subscriptions", "organizations_url": "https://api.github.com/users/cwarden/orgs", "repos_url": "https://api.github.com/users/cwarden/repos", "events_url": "https://api.github.com/users/cwarden/events{/privacy}", "received_events_url": "https://api.github.com/users/cwarden/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-02-07T21:15:12Z", "updated_at": "2019-03-13T07:11:40Z", "closed_at": "2019-03-13T07:11:39Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "`addcol-new` fails in batch mode:\r\n\r\n```\r\n$ vd --debug -b -p newCol.vd\r\nThink about what you're doing\r\nopening newCol as vd\r\n\".\"\r\nopening . as dir\r\n\"1\"\r\nc=addColumn(SettableColumn(\"\", width=options.default_width), cursorColIndex+1); draw(vd.scr); cursorVisibleColIndex=visibleCols.index(c); c.name=editCell(cursorVisibleColIndex, -1); c.width=None\r\nAttributeError: 'NoneType' object has no attribute 'erase'\r\nAttributeError: 'NoneType' object has no attribute 'erase'\r\nTraceback (most recent call last):\r\n  File \"/usr/local/bin/vd\", line 4, in <module>\r\n    __import__('pkg_resources').run_script('visidata==1.6.dev0', 'vd')\r\n  File \"/home/cwarden/.local/lib/python3.6/site-packages/pkg_resources/__init__.py\", line 664, in run_script\r\n    self.require(requires)[0].run_script(script_name, ns)\r\n  File \"/home/cwarden/.local/lib/python3.6/site-packages/pkg_resources/__init__.py\", line 1451, in run_script\r\n    exec(script_code, namespace, namespace)\r\n  File \"/usr/local/lib/python3.6/dist-packages/visidata-1.6.dev0-py3.6.egg/EGG-INFO/scripts/vd\", line 169, in <module>\r\n  File \"/usr/local/lib/python3.6/dist-packages/visidata-1.6.dev0-py3.6.egg/EGG-INFO/scripts/vd\", line 152, in main\r\n  File \"/usr/local/lib/python3.6/dist-packages/visidata-1.6.dev0-py3.6.egg/visidata/cmdlog.py\", line 289, in replay_sync\r\n  File \"/usr/local/lib/python3.6/dist-packages/visidata-1.6.dev0-py3.6.egg/visidata/vdtui/__init__.py\", line 455, in exceptionCaught\r\n  File \"/usr/local/lib/python3.6/dist-packages/visidata-1.6.dev0-py3.6.egg/visidata/cmdlog.py\", line 284, in replay_sync\r\n  File \"/usr/local/lib/python3.6/dist-packages/visidata-1.6.dev0-py3.6.egg/visidata/cmdlog.py\", line 264, in replayOne\r\n  File \"/usr/local/lib/python3.6/dist-packages/visidata-1.6.dev0-py3.6.egg/visidata/vdtui/__init__.py\", line 1132, in exec_command\r\n  File \"/usr/local/lib/python3.6/dist-packages/visidata-1.6.dev0-py3.6.egg/visidata/vdtui/__init__.py\", line 1126, in exec_command\r\n  File \"<string>\", line 1, in <module>\r\n  File \"/usr/local/lib/python3.6/dist-packages/visidata-1.6.dev0-py3.6.egg/visidata/vdtui/_sheet.py\", line 566, in draw\r\nAttributeError: 'NoneType' object has no attribute 'erase'\r\n```\r\n\r\nHere's the [cmdlog](https://gist.github.com/ada3b87d1eac75efd11ac28f73920af8).", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/251/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/251/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/saulpw/visidata/issues/27", "repository_url": "https://api.github.com/repos/saulpw/visidata", "labels_url": "https://api.github.com/repos/saulpw/visidata/issues/27/labels{/name}", "comments_url": "https://api.github.com/repos/saulpw/visidata/issues/27/comments", "events_url": "https://api.github.com/repos/saulpw/visidata/issues/27/events", "html_url": "https://github.com/saulpw/visidata/issues/27", "id": 231906105, "node_id": "MDU6SXNzdWUyMzE5MDYxMDU=", "number": 27, "title": "Tabs and newlines should be escaped or converted when saving .tsv files", "user": {"login": "vbrown608", "id": 1887071, "node_id": "MDQ6VXNlcjE4ODcwNzE=", "avatar_url": "https://avatars.githubusercontent.com/u/1887071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vbrown608", "html_url": "https://github.com/vbrown608", "followers_url": "https://api.github.com/users/vbrown608/followers", "following_url": "https://api.github.com/users/vbrown608/following{/other_user}", "gists_url": "https://api.github.com/users/vbrown608/gists{/gist_id}", "starred_url": "https://api.github.com/users/vbrown608/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vbrown608/subscriptions", "organizations_url": "https://api.github.com/users/vbrown608/orgs", "repos_url": "https://api.github.com/users/vbrown608/repos", "events_url": "https://api.github.com/users/vbrown608/events{/privacy}", "received_events_url": "https://api.github.com/users/vbrown608/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 469750828, "node_id": "MDU6TGFiZWw0Njk3NTA4Mjg=", "url": "https://api.github.com/repos/saulpw/visidata/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-05-29T00:41:51Z", "updated_at": "2017-10-06T03:32:20Z", "closed_at": "2017-10-06T03:32:20Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "", "reactions": {"url": "https://api.github.com/repos/saulpw/visidata/issues/27/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/saulpw/visidata/issues/27/timeline", "performed_via_github_app": null, "state_reason": "completed"}]