[{"url": "https://api.github.com/repos/certbot/certbot/issues/9651", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/9651/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/9651/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/9651/events", "html_url": "https://github.com/certbot/certbot/issues/9651", "id": 1650659751, "node_id": "I_kwDOAZSa8s5iYxGn", "number": 9651, "title": "dns_route53_propagation_seconds is always written to renewal conf since #9619  ", "user": {"login": "alexzorin", "id": 311534, "node_id": "MDQ6VXNlcjMxMTUzNA==", "avatar_url": "https://avatars.githubusercontent.com/u/311534?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexzorin", "html_url": "https://github.com/alexzorin", "followers_url": "https://api.github.com/users/alexzorin/followers", "following_url": "https://api.github.com/users/alexzorin/following{/other_user}", "gists_url": "https://api.github.com/users/alexzorin/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexzorin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexzorin/subscriptions", "organizations_url": "https://api.github.com/users/alexzorin/orgs", "repos_url": "https://api.github.com/users/alexzorin/repos", "events_url": "https://api.github.com/users/alexzorin/events{/privacy}", "received_events_url": "https://api.github.com/users/alexzorin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 1226192284, "node_id": "MDU6TGFiZWwxMjI2MTkyMjg0", "url": "https://api.github.com/repos/certbot/certbot/labels/priority:%20high", "name": "priority: high", "color": "5319e7", "default": false, "description": "Issues that should be included in the current milestone if at all possible."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/116", "html_url": "https://github.com/certbot/certbot/milestone/116", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/116/labels", "id": 9188089, "node_id": "MI_kwDOAZSa8s4AjDL5", "number": 116, "title": "2.5.0", "description": "", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 10, "state": "closed", "created_at": "2023-03-21T19:29:37Z", "updated_at": "2023-04-04T19:00:06Z", "due_on": "2023-04-04T07:00:00Z", "closed_at": "2023-04-04T19:00:06Z"}, "comments": 0, "created_at": "2023-04-01T21:10:17Z", "updated_at": "2023-04-03T17:20:25Z", "closed_at": "2023-04-03T17:20:24Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Since #9619 was merged, these two lines *always* get appended to renewal conf files:\r\n\r\n    certbot_route53:auth_propagation_seconds = None\r\n    dns_route53_propagation_seconds = None\r\n\r\nWe should avoid releasing Certbot v2.5.0 while this is still the case.", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/9651/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/9651/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/9635", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/9635/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/9635/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/9635/events", "html_url": "https://github.com/certbot/certbot/issues/9635", "id": 1642726716, "node_id": "I_kwDOAZSa8s5h6gU8", "number": 9635, "title": "Certbot 2.x `renew` incorrectly changes key type to ECDSA if key_type is absent from renewal conf", "user": {"login": "alexzorin", "id": 311534, "node_id": "MDQ6VXNlcjMxMTUzNA==", "avatar_url": "https://avatars.githubusercontent.com/u/311534?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexzorin", "html_url": "https://github.com/alexzorin", "followers_url": "https://api.github.com/users/alexzorin/followers", "following_url": "https://api.github.com/users/alexzorin/following{/other_user}", "gists_url": "https://api.github.com/users/alexzorin/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexzorin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexzorin/subscriptions", "organizations_url": "https://api.github.com/users/alexzorin/orgs", "repos_url": "https://api.github.com/users/alexzorin/repos", "events_url": "https://api.github.com/users/alexzorin/events{/privacy}", "received_events_url": "https://api.github.com/users/alexzorin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 261409142, "node_id": "MDU6TGFiZWwyNjE0MDkxNDI=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20renewal", "name": "area: renewal", "color": "c5def5", "default": false, "description": null}, {"id": 1226192284, "node_id": "MDU6TGFiZWwxMjI2MTkyMjg0", "url": "https://api.github.com/repos/certbot/certbot/labels/priority:%20high", "name": "priority: high", "color": "5319e7", "default": false, "description": "Issues that should be included in the current milestone if at all possible."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/116", "html_url": "https://github.com/certbot/certbot/milestone/116", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/116/labels", "id": 9188089, "node_id": "MI_kwDOAZSa8s4AjDL5", "number": 116, "title": "2.5.0", "description": "", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 10, "state": "closed", "created_at": "2023-03-21T19:29:37Z", "updated_at": "2023-04-04T19:00:06Z", "due_on": "2023-04-04T07:00:00Z", "closed_at": "2023-04-04T19:00:06Z"}, "comments": 0, "created_at": "2023-03-27T19:59:40Z", "updated_at": "2023-03-28T15:44:22Z", "closed_at": "2023-03-28T15:44:21Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "See https://community.letsencrypt.org/t/existing-rsa-key-cert-renewed-as-ecdsa-on-cerbot-upgrade/195317.\r\n\r\nReproduction:\r\n\r\n    certbot certonly -d example.com --key-type rsa\r\n    sed -i .bak 's/key_type = rsa//' /etc/letsencrypt/renewal/example.com.conf\r\n    certbot renew --cert-name example.com --force-renewal\r\n\r\nThe key type changes to ECDSA, but it shouldn't.\r\n\r\nI think what's happened is that the key preservation relies on https://github.com/certbot/certbot/pull/9217, which is not available in Certbot <v1.25.0.\r\n\r\nUpgrading from an older version causes the `key_type` not to be reconstituted correctly at the next renewal.\r\n\r\nThe unexpected key migration code only affects the `run` and `certonly` verbs, `renew` is untested and not working correctly with respect to key type preservation.", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/9635/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/9635/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/9615", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/9615/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/9615/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/9615/events", "html_url": "https://github.com/certbot/certbot/issues/9615", "id": 1629686887, "node_id": "I_kwDOAZSa8s5hIwxn", "number": 9615, "title": "acme: acme.messages.OrderResource cannot be roundtripped through JSON (patch available)", "user": {"login": "aglasgall", "id": 1006, "node_id": "MDQ6VXNlcjEwMDY=", "avatar_url": "https://avatars.githubusercontent.com/u/1006?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aglasgall", "html_url": "https://github.com/aglasgall", "followers_url": "https://api.github.com/users/aglasgall/followers", "following_url": "https://api.github.com/users/aglasgall/following{/other_user}", "gists_url": "https://api.github.com/users/aglasgall/gists{/gist_id}", "starred_url": "https://api.github.com/users/aglasgall/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aglasgall/subscriptions", "organizations_url": "https://api.github.com/users/aglasgall/orgs", "repos_url": "https://api.github.com/users/aglasgall/repos", "events_url": "https://api.github.com/users/aglasgall/events{/privacy}", "received_events_url": "https://api.github.com/users/aglasgall/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 277074172, "node_id": "MDU6TGFiZWwyNzcwNzQxNzI=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20acme", "name": "area: acme", "color": "c5def5", "default": false, "description": null}, {"id": 1226192732, "node_id": "MDU6TGFiZWwxMjI2MTkyNzMy", "url": "https://api.github.com/repos/certbot/certbot/labels/priority:%20unplanned", "name": "priority: unplanned", "color": "5319e7", "default": false, "description": "Work that we believe should be done, but does not have a higher priority."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/116", "html_url": "https://github.com/certbot/certbot/milestone/116", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/116/labels", "id": 9188089, "node_id": "MI_kwDOAZSa8s4AjDL5", "number": 116, "title": "2.5.0", "description": "", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 10, "state": "closed", "created_at": "2023-03-21T19:29:37Z", "updated_at": "2023-04-04T19:00:06Z", "due_on": "2023-04-04T07:00:00Z", "closed_at": "2023-04-04T19:00:06Z"}, "comments": 2, "created_at": "2023-03-17T17:32:33Z", "updated_at": "2023-03-21T19:30:28Z", "closed_at": "2023-03-21T17:49:41Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I am using the `acme` library in another project. This project has \"open ACME order\", \"answer challenges\", \"wait for validation\", etc as different steps that may be performed at different times on different machines and so we cannot keep the `OrderResource` object from `acme.client.ClientV2` around for the entire lifetime of the order; as such, it is convenient for us to be able to turn the `OrderResource` back into JSON for later consumption. However, `OrderResource.to_json()` does not properly handle the `csr_pem` field (it gets dumped as an array of small integers), and `.from_json()` does not properly reconstitute either `csr_pem` or `authorizations`. We have a workaround involving patching `OrderResource._fields` to update the field definitions before using the library, but I feel like it'd be better to fix this upstream :)\r\n\r\nI have a patch (with test) adding the necessary encoder and decoders to `OrderResource` (https://github.com/aglasgall/certbot/commit/f5a78b5645c2d9d6c801ef4f6b54f2488ef649eb) which I'd be happy to open a PR for if there is interest in fixing this.\r\n\r\nThanks,\r\n\r\nAnna Glasgall\r\n\r\nPS: As a side note, this project has some other unusual requirements and we've been quite pleased with how easy it's been to adapt `acme` to them. Thanks so much for the great work.", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/9615/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/9615/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/9539", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/9539/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/9539/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/9539/events", "html_url": "https://github.com/certbot/certbot/issues/9539", "id": 1552015232, "node_id": "I_kwDOAZSa8s5cgd-A", "number": 9539, "title": "py3.11+ crash with \"AttributeError: can't set attribute\" upon ACME server error", "user": {"login": "alexzorin", "id": 311534, "node_id": "MDQ6VXNlcjMxMTUzNA==", "avatar_url": "https://avatars.githubusercontent.com/u/311534?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexzorin", "html_url": "https://github.com/alexzorin", "followers_url": "https://api.github.com/users/alexzorin/followers", "following_url": "https://api.github.com/users/alexzorin/following{/other_user}", "gists_url": "https://api.github.com/users/alexzorin/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexzorin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexzorin/subscriptions", "organizations_url": "https://api.github.com/users/alexzorin/orgs", "repos_url": "https://api.github.com/users/alexzorin/repos", "events_url": "https://api.github.com/users/alexzorin/events{/privacy}", "received_events_url": "https://api.github.com/users/alexzorin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 200596079, "node_id": "MDU6TGFiZWwyMDA1OTYwNzk=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20ui%20/%20ux", "name": "area: ui / ux", "color": "c5def5", "default": false, "description": null}, {"id": 1226192284, "node_id": "MDU6TGFiZWwxMjI2MTkyMjg0", "url": "https://api.github.com/repos/certbot/certbot/labels/priority:%20high", "name": "priority: high", "color": "5319e7", "default": false, "description": "Issues that should be included in the current milestone if at all possible."}], "state": "closed", "locked": false, "assignee": {"login": "wgreenberg", "id": 626277, "node_id": "MDQ6VXNlcjYyNjI3Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/626277?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wgreenberg", "html_url": "https://github.com/wgreenberg", "followers_url": "https://api.github.com/users/wgreenberg/followers", "following_url": "https://api.github.com/users/wgreenberg/following{/other_user}", "gists_url": "https://api.github.com/users/wgreenberg/gists{/gist_id}", "starred_url": "https://api.github.com/users/wgreenberg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wgreenberg/subscriptions", "organizations_url": "https://api.github.com/users/wgreenberg/orgs", "repos_url": "https://api.github.com/users/wgreenberg/repos", "events_url": "https://api.github.com/users/wgreenberg/events{/privacy}", "received_events_url": "https://api.github.com/users/wgreenberg/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "wgreenberg", "id": 626277, "node_id": "MDQ6VXNlcjYyNjI3Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/626277?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wgreenberg", "html_url": "https://github.com/wgreenberg", "followers_url": "https://api.github.com/users/wgreenberg/followers", "following_url": "https://api.github.com/users/wgreenberg/following{/other_user}", "gists_url": "https://api.github.com/users/wgreenberg/gists{/gist_id}", "starred_url": "https://api.github.com/users/wgreenberg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wgreenberg/subscriptions", "organizations_url": "https://api.github.com/users/wgreenberg/orgs", "repos_url": "https://api.github.com/users/wgreenberg/repos", "events_url": "https://api.github.com/users/wgreenberg/events{/privacy}", "received_events_url": "https://api.github.com/users/wgreenberg/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 10, "created_at": "2023-01-22T06:03:17Z", "updated_at": "2023-01-24T22:06:55Z", "closed_at": "2023-01-24T22:06:54Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Python 3.10.8 seems to be fine, the breakage appears to be introduced in Python 3.11 and all subsequent releases (so far).\r\n\r\nI think the issue is approximately the same as https://github.com/python/cpython/issues/99856, in that if you raise an immutable exception (which `acme.messages.Error` is, owing to `josepy.util.ImmutableMap`) within a context manager, it will blow up when trying to set its `__traceback__` attribute on exiting the context manager.\r\n\r\nIt's not totally clear to me whether this is something that Python will fix, or we will be stuck with this behavior. We could put a workaround into`josepy`. @bmw wdyt? \r\n\r\n## My operating system is (include version):\r\nmacOS Ventura 13.1\r\n\r\n## I installed Certbot with (snap, OS package manager, pip, certbot-auto, etc):\r\n`git` @ be3bf316c0e9f29cfe9c90e5dd7b903f88f54504\r\n\r\n## I ran this command and it produced this output:\r\n(It's important to use Let's Encrypt production or staging, to trigger a policy error on `newOrder`)\r\n\r\n    $ sudo certbot certonly -d example.com --standalone --dry-run\r\n    Saving debug log to /var/log/letsencrypt/letsencrypt.log\r\n    Simulating a certificate request for example.com\r\n    An unexpected error occurred:\r\n    AttributeError: can't set attribute\r\n    Ask for help or search for solutions at https://community.letsencrypt.org. See the logfile /var/log/letsencrypt/letsencrypt.log or re-run Certbot with -v for more details.\r\n\r\n## Certbot's behavior differed from what I expected because:\r\nThe ACME error should not crash Certbot, it should show the normal output (snap output below):\r\n\r\n    # certbot certonly --webroot -w /tmp -d example.com --dry-run\r\n    Saving debug log to /var/log/letsencrypt/letsencrypt.log\r\n    Simulating a certificate request for example.com\r\n    An unexpected error occurred:\r\n    Error creating new order :: Cannot issue for \"example.com\": The ACME server refuses to issue a certificate for this domain name, because it is forbidden by policy\r\n    Ask for help or search for solutions at https://community.letsencrypt.org. See the logfile /var/log/letsencrypt/letsencrypt.log or re-run Certbot with -v for more details.\r\n\r\n## Here is a Certbot log showing the issue (if available):\r\n\r\n    2023-01-22 16:48:20,397:DEBUG:certbot._internal.main:certbot version: 2.3.0.dev0\r\n    2023-01-22 16:48:20,397:DEBUG:certbot._internal.main:Location of certbot entry point: /Users/alex/devel/certbot/venv/bin/certbot\r\n    2023-01-22 16:48:20,397:DEBUG:certbot._internal.main:Arguments: ['-d', 'example.com', '--standalone', '--dry-run']\r\n    2023-01-22 16:48:20,398:DEBUG:certbot._internal.main:Discovered plugins: PluginsRegistry(PluginEntryPoint#apache,PluginEntryPoint#certbot-route53:auth,PluginEntryPoint#dns-cloudflare,PluginEntryPoint#dns-digitalocean,PluginEntryPoint#dns-dnsimple,PluginEntryPoint#dns-dnsmadeeasy,PluginEntryPoint#dns-gehirn,PluginEntryPoint#dns-google,PluginEntryPoint#dns-linode,PluginEntryPoint#dns-luadns,PluginEntryPoint#dns-nsone,PluginEntryPoint#dns-ovh,PluginEntryPoint#dns-rfc2136,PluginEntryPoint#dns-route53,PluginEntryPoint#dns-sakuracloud,PluginEntryPoint#manual,PluginEntryPoint#nginx,PluginEntryPoint#null,PluginEntryPoint#standalone,PluginEntryPoint#webroot)\r\n    2023-01-22 16:48:20,425:DEBUG:certbot._internal.log:Root logging level set at 30\r\n    2023-01-22 16:48:20,426:DEBUG:certbot._internal.plugins.selection:Requested authenticator standalone and installer None\r\n    2023-01-22 16:48:20,427:DEBUG:certbot._internal.plugins.selection:Single candidate plugin: * standalone\r\n    Description: Runs an HTTP server locally which serves the necessary validation files under the /.well-known/acme-challenge/ request path. Suitable if there is no HTTP server already running. HTTP challenge only (wildcards not supported).\r\n    Interfaces: Authenticator, Plugin\r\n    Entry point: standalone = certbot._internal.plugins.standalone:Authenticator\r\n    Initialized: <certbot._internal.plugins.standalone.Authenticator object at 0x1047d9bd0>\r\n    Prep: True\r\n    2023-01-22 16:48:20,427:DEBUG:certbot._internal.plugins.selection:Selected authenticator <certbot._internal.plugins.standalone.Authenticator object at 0x1047d9bd0> and installer None\r\n    2023-01-22 16:48:20,427:INFO:certbot._internal.plugins.selection:Plugins selected: Authenticator standalone, Installer None\r\n    2023-01-22 16:48:20,495:DEBUG:certbot._internal.main:Picked account: <Account(RegistrationResource(body=Registration(key=None, contact=(), agreement=None, status=None, terms_of_service_agreed=None, only_return_existing=None, external_account_binding=None), uri='https://acme-staging-v02.api.letsencrypt.org/acme/acct/37176138', new_authzr_uri=None, terms_of_service=None), 8dee1ed9e2f5b5ee000bf0a0ccf21bc0, Meta(creation_dt=datetime.datetime(2021, 12, 15, 22, 8, 59, tzinfo=<UTC>), creation_host='1.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.ip6.arpa', register_to_eff=None))>\r\n    2023-01-22 16:48:20,502:DEBUG:acme.client:Sending GET request to https://acme-staging-v02.api.letsencrypt.org/directory.\r\n    2023-01-22 16:48:20,527:DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): acme-staging-v02.api.letsencrypt.org:443\r\n    2023-01-22 16:48:21,196:DEBUG:urllib3.connectionpool:https://acme-staging-v02.api.letsencrypt.org:443 \"GET /directory HTTP/1.1\" 200 830\r\n    2023-01-22 16:48:21,198:DEBUG:acme.client:Received response:\r\n    HTTP 200\r\n    Server: nginx\r\n    Date: Sun, 22 Jan 2023 05:48:21 GMT\r\n    Content-Type: application/json\r\n    Content-Length: 830\r\n    Connection: keep-alive\r\n    Cache-Control: public, max-age=0, no-cache\r\n    X-Frame-Options: DENY\r\n    Strict-Transport-Security: max-age=604800\r\n\r\n    {\r\n    \"5e5rgib1WlY\": \"https://community.letsencrypt.org/t/adding-random-entries-to-the-directory/33417\",\r\n    \"keyChange\": \"https://acme-staging-v02.api.letsencrypt.org/acme/key-change\",\r\n    \"meta\": {\r\n        \"caaIdentities\": [\r\n        \"letsencrypt.org\"\r\n        ],\r\n        \"termsOfService\": \"https://letsencrypt.org/documents/LE-SA-v1.3-September-21-2022.pdf\",\r\n        \"website\": \"https://letsencrypt.org/docs/staging-environment/\"\r\n    },\r\n    \"newAccount\": \"https://acme-staging-v02.api.letsencrypt.org/acme/new-acct\",\r\n    \"newNonce\": \"https://acme-staging-v02.api.letsencrypt.org/acme/new-nonce\",\r\n    \"newOrder\": \"https://acme-staging-v02.api.letsencrypt.org/acme/new-order\",\r\n    \"renewalInfo\": \"https://acme-staging-v02.api.letsencrypt.org/get/draft-ietf-acme-ari-00/renewalInfo/\",\r\n    \"revokeCert\": \"https://acme-staging-v02.api.letsencrypt.org/acme/revoke-cert\"\r\n    }\r\n    2023-01-22 16:48:21,200:DEBUG:certbot._internal.display.obj:Notifying user: Simulating a certificate request for example.com\r\n    2023-01-22 16:48:21,213:DEBUG:acme.client:Requesting fresh nonce\r\n    2023-01-22 16:48:21,213:DEBUG:acme.client:Sending HEAD request to https://acme-staging-v02.api.letsencrypt.org/acme/new-nonce.\r\n    2023-01-22 16:48:21,422:DEBUG:urllib3.connectionpool:https://acme-staging-v02.api.letsencrypt.org:443 \"HEAD /acme/new-nonce HTTP/1.1\" 200 0\r\n    2023-01-22 16:48:21,423:DEBUG:acme.client:Received response:\r\n    HTTP 200\r\n    Server: nginx\r\n    Date: Sun, 22 Jan 2023 05:48:21 GMT\r\n    Connection: keep-alive\r\n    Cache-Control: public, max-age=0, no-cache\r\n    Link: <https://acme-staging-v02.api.letsencrypt.org/directory>;rel=\"index\"\r\n    Replay-Nonce: B37CdOEt6R9D7GpOoUNeF8wtV8GFYCGxye8aslI7QggV7No\r\n    X-Frame-Options: DENY\r\n    Strict-Transport-Security: max-age=604800\r\n\r\n\r\n    2023-01-22 16:48:21,424:DEBUG:acme.client:Storing nonce: B37CdOEt6R9D7GpOoUNeF8wtV8GFYCGxye8aslI7QggV7No\r\n    2023-01-22 16:48:21,424:DEBUG:acme.client:JWS payload:\r\n    b'{\\n  \"identifiers\": [\\n    {\\n      \"type\": \"dns\",\\n      \"value\": \"example.com\"\\n    }\\n  ]\\n}'\r\n    2023-01-22 16:48:21,436:DEBUG:acme.client:Sending POST request to https://acme-staging-v02.api.letsencrypt.org/acme/new-order:\r\n    {\r\n    \"protected\": \"eyJhbGciOiAiUlMyNTYiLCAia2lkIjogImh0dHBzOi8vYWNtZS1zdGFnaW5nLXYwMi5hcGkubGV0c2VuY3J5cHQub3JnL2FjbWUvYWNjdC8zNzE3NjEzOCIsICJub25jZSI6ICJCMzdDZE9FdDZSOUQ3R3BPb1VOZUY4d3RWOEdGWUNHeHllOGFzbEk3UWdnVjdObyIsICJ1cmwiOiAiaHR0cHM6Ly9hY21lLXN0YWdpbmctdjAyLmFwaS5sZXRzZW5jcnlwdC5vcmcvYWNtZS9uZXctb3JkZXIifQ\",\r\n    \"signature\": \"mOaT0Wj7fwaglw3L7GadZwVBS8kmflkLOhUDWjLyJ4-16PFVMQSmY2t-7dN9qNr-KzSi4aAD9a2uHd6el4JYNyQUFXhwoU-vW9VawnwzAX15n8UALcpFNmTAFhU_iXLF1R_JWVT7EQoZzSgQo67lzIBTBcX6nRiFRNXtvuN-aFUJCSJp8_NikVnBLKPkxLq0sbcS7XNcmUvmK53k-R0JidfxRvCJP8ac3ka_0chcSVc5kOKyjMv0gEe5sa6qLkfZiIGUtrtZPyGuZl9odyVDBiH6YMvGyts4uEOktO8FtLZvhbO1a6t12zJDF90q3SXSOwlUfnql4UqGGv1BqHILWA\",\r\n    \"payload\": \"ewogICJpZGVudGlmaWVycyI6IFsKICAgIHsKICAgICAgInR5cGUiOiAiZG5zIiwKICAgICAgInZhbHVlIjogImV4YW1wbGUuY29tIgogICAgfQogIF0KfQ\"\r\n    }\r\n    2023-01-22 16:48:21,653:DEBUG:urllib3.connectionpool:https://acme-staging-v02.api.letsencrypt.org:443 \"POST /acme/new-order HTTP/1.1\" 400 258\r\n    2023-01-22 16:48:21,654:DEBUG:acme.client:Received response:\r\n    HTTP 400\r\n    Server: nginx\r\n    Date: Sun, 22 Jan 2023 05:48:21 GMT\r\n    Content-Type: application/problem+json\r\n    Content-Length: 258\r\n    Connection: keep-alive\r\n    Boulder-Requester: 37176138\r\n    Cache-Control: public, max-age=0, no-cache\r\n    Link: <https://acme-staging-v02.api.letsencrypt.org/directory>;rel=\"index\"\r\n    Replay-Nonce: BEB9MCA0p22E8Dedv8MJ4cDKOCOHPt45Qb1feMqjtDdi1Es\r\n\r\n    {\r\n    \"type\": \"urn:ietf:params:acme:error:rejectedIdentifier\",\r\n    \"detail\": \"Error creating new order :: Cannot issue for \\\"example.com\\\": The ACME server refuses to issue a certificate for this domain name, because it is forbidden by policy\",\r\n    \"status\": 400\r\n    }\r\n    2023-01-22 16:48:21,655:DEBUG:certbot._internal.log:Exiting abnormally:\r\n    Traceback (most recent call last):\r\n    File \"/Users/alex/.pyenv/versions/3.11.0/lib/python3.11/contextlib.py\", line 155, in __exit__\r\n        self.gen.throw(typ, value, traceback)\r\n    File \"/Users/alex/devel/certbot/certbot/certbot/_internal/main.py\", line 1683, in make_displayer\r\n        yield displayer\r\n    File \"/Users/alex/devel/certbot/certbot/certbot/_internal/main.py\", line 1736, in main\r\n        return config.func(config, plugins)\r\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n    File \"/Users/alex/devel/certbot/certbot/certbot/_internal/main.py\", line 1590, in certonly\r\n        lineage = _get_and_save_cert(le_client, config, domains, certname, lineage)\r\n                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n    File \"/Users/alex/devel/certbot/certbot/certbot/_internal/main.py\", line 138, in _get_and_save_cert\r\n        lineage = le_client.obtain_and_enroll_certificate(domains, certname)\r\n                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n    File \"/Users/alex/devel/certbot/certbot/certbot/_internal/client.py\", line 516, in obtain_and_enroll_certificate\r\n        cert, chain, key, _ = self.obtain_certificate(domains)\r\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n    File \"/Users/alex/devel/certbot/certbot/certbot/_internal/client.py\", line 428, in obtain_certificate\r\n        orderr = self._get_order_and_authorizations(csr.data, self.config.allow_subset_of_names)\r\n                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n    File \"/Users/alex/devel/certbot/certbot/certbot/_internal/client.py\", line 478, in _get_order_and_authorizations\r\n        orderr = self.acme.new_order(csr_pem)\r\n                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n    File \"/Users/alex/devel/certbot/acme/acme/client.py\", line 138, in new_order\r\n        response = self._post(self.directory['newOrder'], order)\r\n                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n    File \"/Users/alex/devel/certbot/acme/acme/client.py\", line 338, in _post\r\n        return self.net.post(*args, **kwargs)\r\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n    File \"/Users/alex/devel/certbot/acme/acme/client.py\", line 711, in post\r\n        return self._post_once(*args, **kwargs)\r\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n    File \"/Users/alex/devel/certbot/acme/acme/client.py\", line 724, in _post_once\r\n        response = self._check_response(response, content_type=content_type)\r\n                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n    File \"/Users/alex/devel/certbot/acme/acme/client.py\", line 575, in _check_response\r\n        raise messages.Error.from_json(jobj)\r\n    acme.messages.Error: urn:ietf:params:acme:error:rejectedIdentifier :: The server will not issue certificates for the identifier :: Error creating new order :: Cannot issue for \"example.com\": The ACME server refuses to issue a certificate for this domain name, because it is forbidden by policy\r\n\r\n    During handling of the above exception, another exception occurred:\r\n\r\n    Traceback (most recent call last):\r\n    File \"/Users/alex/devel/certbot/venv/bin/certbot\", line 33, in <module>\r\n        sys.exit(load_entry_point('certbot', 'console_scripts', 'certbot')())\r\n                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n    File \"/Users/alex/devel/certbot/certbot/certbot/main.py\", line 19, in main\r\n        return internal_main.main(cli_args)\r\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n    File \"/Users/alex/devel/certbot/certbot/certbot/_internal/main.py\", line 1733, in main\r\n        with make_displayer(config) as displayer:\r\n    File \"/Users/alex/.pyenv/versions/3.11.0/lib/python3.11/contextlib.py\", line 188, in __exit__\r\n        exc.__traceback__ = traceback\r\n        ^^^^^^^^^^^^^^^^^\r\n    File \"/Users/alex/devel/certbot/venv/lib/python3.11/site-packages/josepy/util.py\", line 191, in __setattr__\r\n        raise AttributeError(\"can't set attribute\")\r\n    AttributeError: can't set attribute\r\n    2023-01-22 16:48:21,661:ERROR:certbot._internal.log:An unexpected error occurred:\r\n    2023-01-22 16:48:21,662:ERROR:certbot._internal.log:AttributeError: can't set attribute\r\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/9539/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/9539/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/9481", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/9481/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/9481/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/9481/events", "html_url": "https://github.com/certbot/certbot/issues/9481", "id": 1463808731, "node_id": "I_kwDOAZSa8s5XP_Lb", "number": 9481, "title": "Apache tests crash on Debian unstable", "user": {"login": "alexzorin", "id": 311534, "node_id": "MDQ6VXNlcjMxMTUzNA==", "avatar_url": "https://avatars.githubusercontent.com/u/311534?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexzorin", "html_url": "https://github.com/alexzorin", "followers_url": "https://api.github.com/users/alexzorin/followers", "following_url": "https://api.github.com/users/alexzorin/following{/other_user}", "gists_url": "https://api.github.com/users/alexzorin/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexzorin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexzorin/subscriptions", "organizations_url": "https://api.github.com/users/alexzorin/orgs", "repos_url": "https://api.github.com/users/alexzorin/repos", "events_url": "https://api.github.com/users/alexzorin/events{/privacy}", "received_events_url": "https://api.github.com/users/alexzorin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 200587469, "node_id": "MDU6TGFiZWwyMDA1ODc0Njk=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20debian%20/%20ubuntu", "name": "area: debian / ubuntu", "color": "c5def5", "default": false, "description": null}, {"id": 1226192284, "node_id": "MDU6TGFiZWwxMjI2MTkyMjg0", "url": "https://api.github.com/repos/certbot/certbot/labels/priority:%20high", "name": "priority: high", "color": "5319e7", "default": false, "description": "Issues that should be included in the current milestone if at all possible."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/112", "html_url": "https://github.com/certbot/certbot/milestone/112", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/112/labels", "id": 8699351, "node_id": "MI_kwDOAZSa8s4AhL3X", "number": 112, "title": "2.1.0", "description": "", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 1, "state": "closed", "created_at": "2022-11-28T18:41:14Z", "updated_at": "2022-12-09T13:56:25Z", "due_on": "2022-12-06T08:00:00Z", "closed_at": "2022-12-09T13:56:25Z"}, "comments": 2, "created_at": "2022-11-24T21:05:12Z", "updated_at": "2022-12-01T20:27:26Z", "closed_at": "2022-12-01T20:27:25Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Reported by @hlieberman [in Mattermost](https://opensource.eff.org/eff-open-source/pl/cqzhdazg97raxqbj3atid86wpy).\r\n\r\nInitially I thought this might have something to do with how we replaced [`distutils.version.LooseVersion`](https://github.com/python/cpython/blob/v3.10.0/Lib/distutils/version.py#L205-L347) with [our own implementation](https://github.com/certbot/certbot/pull/9077/files#diff-2d6ee57700dc1f66f9f464b21ba4a9b3892ac453cd1964bb97fef6f8c59d7826R645).\r\n\r\nBut, the crash would have happened even if we were still using the `distutils` module:\r\n\r\n```\r\n>>> version.LooseVersion(\"bookworm/sid\") > version.LooseVersion(\"9\")\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/private/tmp/venv/lib/python3.11/site-packages/setuptools/_distutils/version.py\", line 84, in __gt__\r\n    c = self._cmp(other)\r\n        ^^^^^^^^^^^^^^^^\r\n  File \"/private/tmp/venv/lib/python3.11/site-packages/setuptools/_distutils/version.py\", line 352, in _cmp\r\n    if self.version < other.version:\r\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\nTypeError: '<' not supported between instances of 'str' and 'int'\r\n  ```\r\n  \r\nThe unsafe comparison was introducing in [this recent change](https://github.com/certbot/certbot/pull/9402/files#diff-d73d138390e77dafcc6b579a463523bf493d9763c2e2d2f005f7ad63612acedeR64) which was fixing our RHEL9 support:\r\n\r\nhttps://github.com/certbot/certbot/blob/c78503f21d6b631265a18f3b55f06f1ac448aec5/certbot-apache/certbot_apache/_internal/override_centos.py#L61-L62\r\n\r\nWe could probably fix this in a simple way by preventing the unsafe comparison to begin with:\r\n\r\n```patch\r\ndiff --git a/certbot-apache/certbot_apache/_internal/override_centos.py b/certbot-apache/certbot_apache/_internal/override_centos.py\r\nindex de5c31268..737e6d26d 100644\r\n--- a/certbot-apache/certbot_apache/_internal/override_centos.py\r\n+++ b/certbot-apache/certbot_apache/_internal/override_centos.py\r\n@@ -58,8 +58,7 @@ class CentOSConfigurator(configurator.ApacheConfigurator):\r\n             \"rhel\", \"redhatenterpriseserver\", \"red hat enterprise linux server\",\r\n             \"scientific\", \"scientific linux\",\r\n         ]\r\n-        at_least_v9 = util.parse_loose_version(os_version) >= util.parse_loose_version('9')\r\n-        return rhel_derived and at_least_v9\r\n+        return rhel_derived and util.parse_loose_version(os_version) >= util.parse_loose_version('9')\r\n\r\n     def _override_cmds(self) -> None:\r\n         super()._override_cmds()\r\n```\r\n\r\nbut I wonder if we shouldn't make `parse_loose_version` return a class instead with a type-safe comparison function on it instead, to prevent this issue recurring in the future. Backwards-compatibility is a pain though.\r\n\r\nAlso, why didn't `mypy` save us here \ud83d\ude20 ? ", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/9481/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/9481/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/9456", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/9456/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/9456/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/9456/events", "html_url": "https://github.com/certbot/certbot/issues/9456", "id": 1440933770, "node_id": "I_kwDOAZSa8s5V4ueK", "number": 9456, "title": "Switch from probot/stale to actions/stale", "user": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 245387015, "node_id": "MDU6TGFiZWwyNDUzODcwMTU=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20documentation", "name": "area: documentation", "color": "c5def5", "default": false, "description": null}, {"id": 277080619, "node_id": "MDU6TGFiZWwyNzcwODA2MTk=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20code%20health", "name": "area: code health", "color": "c5def5", "default": false, "description": null}, {"id": 281347824, "node_id": "MDU6TGFiZWwyODEzNDc4MjQ=", "url": "https://api.github.com/repos/certbot/certbot/labels/has%20pr", "name": "has pr", "color": "0052cc", "default": false, "description": null}, {"id": 1226192284, "node_id": "MDU6TGFiZWwxMjI2MTkyMjg0", "url": "https://api.github.com/repos/certbot/certbot/labels/priority:%20high", "name": "priority: high", "color": "5319e7", "default": false, "description": "Issues that should be included in the current milestone if at all possible."}], "state": "closed", "locked": false, "assignee": {"login": "wgreenberg", "id": 626277, "node_id": "MDQ6VXNlcjYyNjI3Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/626277?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wgreenberg", "html_url": "https://github.com/wgreenberg", "followers_url": "https://api.github.com/users/wgreenberg/followers", "following_url": "https://api.github.com/users/wgreenberg/following{/other_user}", "gists_url": "https://api.github.com/users/wgreenberg/gists{/gist_id}", "starred_url": "https://api.github.com/users/wgreenberg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wgreenberg/subscriptions", "organizations_url": "https://api.github.com/users/wgreenberg/orgs", "repos_url": "https://api.github.com/users/wgreenberg/repos", "events_url": "https://api.github.com/users/wgreenberg/events{/privacy}", "received_events_url": "https://api.github.com/users/wgreenberg/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "wgreenberg", "id": 626277, "node_id": "MDQ6VXNlcjYyNjI3Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/626277?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wgreenberg", "html_url": "https://github.com/wgreenberg", "followers_url": "https://api.github.com/users/wgreenberg/followers", "following_url": "https://api.github.com/users/wgreenberg/following{/other_user}", "gists_url": "https://api.github.com/users/wgreenberg/gists{/gist_id}", "starred_url": "https://api.github.com/users/wgreenberg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wgreenberg/subscriptions", "organizations_url": "https://api.github.com/users/wgreenberg/orgs", "repos_url": "https://api.github.com/users/wgreenberg/repos", "events_url": "https://api.github.com/users/wgreenberg/events{/privacy}", "received_events_url": "https://api.github.com/users/wgreenberg/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/114", "html_url": "https://github.com/certbot/certbot/milestone/114", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/114/labels", "id": 8961567, "node_id": "MI_kwDOAZSa8s4AiL4f", "number": 114, "title": "2.3.0", "description": "", "creator": {"login": "zoracon", "id": 4276080, "node_id": "MDQ6VXNlcjQyNzYwODA=", "avatar_url": "https://avatars.githubusercontent.com/u/4276080?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zoracon", "html_url": "https://github.com/zoracon", "followers_url": "https://api.github.com/users/zoracon/followers", "following_url": "https://api.github.com/users/zoracon/following{/other_user}", "gists_url": "https://api.github.com/users/zoracon/gists{/gist_id}", "starred_url": "https://api.github.com/users/zoracon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zoracon/subscriptions", "organizations_url": "https://api.github.com/users/zoracon/orgs", "repos_url": "https://api.github.com/users/zoracon/repos", "events_url": "https://api.github.com/users/zoracon/events{/privacy}", "received_events_url": "https://api.github.com/users/zoracon/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 4, "state": "closed", "created_at": "2023-01-24T19:25:58Z", "updated_at": "2023-02-27T18:18:40Z", "due_on": "2023-02-07T08:00:00Z", "closed_at": "2023-02-27T18:18:40Z"}, "comments": 2, "created_at": "2022-11-08T21:32:26Z", "updated_at": "2023-02-14T23:13:15Z", "closed_at": "2023-02-14T23:13:14Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Our stale bot seems to be broken and deprecated. See https://github.com/probot/stale/issues/385. I think we should uninstall our current stale bot and set up https://github.com/marketplace/actions/close-stale-issues.\r\n\r\nOur current stale bot config can be found at https://github.com/certbot/certbot/blob/master/.github/stale.yml.", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/9456/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/9456/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/9423", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/9423/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/9423/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/9423/events", "html_url": "https://github.com/certbot/certbot/issues/9423", "id": 1395530624, "node_id": "I_kwDOAZSa8s5TLhuA", "number": 9423, "title": "Creation of /var/lib/letsencrypt (and other core directories) is affected by umask", "user": {"login": "alexzorin", "id": 311534, "node_id": "MDQ6VXNlcjMxMTUzNA==", "avatar_url": "https://avatars.githubusercontent.com/u/311534?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexzorin", "html_url": "https://github.com/alexzorin", "followers_url": "https://api.github.com/users/alexzorin/followers", "following_url": "https://api.github.com/users/alexzorin/following{/other_user}", "gists_url": "https://api.github.com/users/alexzorin/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexzorin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexzorin/subscriptions", "organizations_url": "https://api.github.com/users/alexzorin/orgs", "repos_url": "https://api.github.com/users/alexzorin/repos", "events_url": "https://api.github.com/users/alexzorin/events{/privacy}", "received_events_url": "https://api.github.com/users/alexzorin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 281347824, "node_id": "MDU6TGFiZWwyODEzNDc4MjQ=", "url": "https://api.github.com/repos/certbot/certbot/labels/has%20pr", "name": "has pr", "color": "0052cc", "default": false, "description": null}, {"id": 1226192284, "node_id": "MDU6TGFiZWwxMjI2MTkyMjg0", "url": "https://api.github.com/repos/certbot/certbot/labels/priority:%20high", "name": "priority: high", "color": "5319e7", "default": false, "description": "Issues that should be included in the current milestone if at all possible."}], "state": "closed", "locked": false, "assignee": {"login": "wgreenberg", "id": 626277, "node_id": "MDQ6VXNlcjYyNjI3Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/626277?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wgreenberg", "html_url": "https://github.com/wgreenberg", "followers_url": "https://api.github.com/users/wgreenberg/followers", "following_url": "https://api.github.com/users/wgreenberg/following{/other_user}", "gists_url": "https://api.github.com/users/wgreenberg/gists{/gist_id}", "starred_url": "https://api.github.com/users/wgreenberg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wgreenberg/subscriptions", "organizations_url": "https://api.github.com/users/wgreenberg/orgs", "repos_url": "https://api.github.com/users/wgreenberg/repos", "events_url": "https://api.github.com/users/wgreenberg/events{/privacy}", "received_events_url": "https://api.github.com/users/wgreenberg/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "wgreenberg", "id": 626277, "node_id": "MDQ6VXNlcjYyNjI3Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/626277?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wgreenberg", "html_url": "https://github.com/wgreenberg", "followers_url": "https://api.github.com/users/wgreenberg/followers", "following_url": "https://api.github.com/users/wgreenberg/following{/other_user}", "gists_url": "https://api.github.com/users/wgreenberg/gists{/gist_id}", "starred_url": "https://api.github.com/users/wgreenberg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wgreenberg/subscriptions", "organizations_url": "https://api.github.com/users/wgreenberg/orgs", "repos_url": "https://api.github.com/users/wgreenberg/repos", "events_url": "https://api.github.com/users/wgreenberg/events{/privacy}", "received_events_url": "https://api.github.com/users/wgreenberg/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/111", "html_url": "https://github.com/certbot/certbot/milestone/111", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/111/labels", "id": 8514772, "node_id": "MI_kwDOAZSa8s4AgezU", "number": 111, "title": "1.32.0", "description": "", "creator": {"login": "zoracon", "id": 4276080, "node_id": "MDQ6VXNlcjQyNzYwODA=", "avatar_url": "https://avatars.githubusercontent.com/u/4276080?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zoracon", "html_url": "https://github.com/zoracon", "followers_url": "https://api.github.com/users/zoracon/followers", "following_url": "https://api.github.com/users/zoracon/following{/other_user}", "gists_url": "https://api.github.com/users/zoracon/gists{/gist_id}", "starred_url": "https://api.github.com/users/zoracon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zoracon/subscriptions", "organizations_url": "https://api.github.com/users/zoracon/orgs", "repos_url": "https://api.github.com/users/zoracon/repos", "events_url": "https://api.github.com/users/zoracon/events{/privacy}", "received_events_url": "https://api.github.com/users/zoracon/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 5, "state": "closed", "created_at": "2022-10-06T21:04:02Z", "updated_at": "2022-11-18T18:12:24Z", "due_on": "2022-11-01T07:00:00Z", "closed_at": "2022-11-18T18:12:24Z"}, "comments": 12, "created_at": "2022-10-04T01:04:44Z", "updated_at": "2022-11-14T22:35:30Z", "closed_at": "2022-11-14T22:35:30Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "This is a continuation of https://github.com/certbot/certbot/issues/7741 and #6872. The issue has been recently re-raised here: https://community.letsencrypt.org/t/issue-using-certbot-on-cis-ubuntu-image.\r\n\r\n## My operating system is (include version):\r\nUbuntu 20.04 with the `cis_level1_server` USG profile. (I think the important thing here is the default umask is `0027`).\r\n\r\n## I installed Certbot with (snap, OS package manager, pip, certbot-auto, etc):\r\n`v1.30.0` via `snap`\r\n\r\n## I ran this command and it produced this output:\r\n\r\n    rm -rf /var/lib/letsencrypt /etc/letsencrypt/; \r\n    certbot register -n --staging --register-unsafely-without-email --agree-tos;\r\n    stat /etc/letsencrypt/\r\n\r\n## Certbot's behavior differed from what I expected because:\r\n\r\nDirectory should be created with mode `0755` but ends up `0750`:\r\n\r\n    # stat /etc/letsencrypt/\r\n    File: /etc/letsencrypt/\r\n    Size: 4096            Blocks: 8          IO Block: 4096   directory\r\n    Device: fc01h/64513d    Inode: 792023      Links: 4\r\n    Access: (0750/drwxr-x---)  Uid: (    0/    root)   Gid: (    0/    root)\r\n    Access: 2022-10-04 11:59:18.525300619 +1100\r\n    Modify: 2022-10-04 11:59:19.685313875 +1100\r\n    Change: 2022-10-04 11:59:19.685313875 +1100\r\n    Birth: -\r\n \r\nIn turn, this causes problem for the `--apache` plugin as seen in the linked thread:\r\n\r\n>[Mon Oct 03 23:06:43.166813 2022] [core:error] [pid 1532] (13)Permission denied: [client 3.135.17.41:27500] AH00035: access to /.well-known/acme-challenge/EePksl7BbSJpmKH7jobt4u1aXc3n_wOPd8hXvV14Ux8 denied (filesystem path '/var/lib/letsencrypt/http_challenges') because search permissions are missing on a component of the path\r\n\r\n[`certbot.compat.filesystem.makedirs` is supposed to](https://github.com/certbot/certbot/blob/e3448fa0d5a553d52ac3886f5e5f5fe2bead10ae/certbot/certbot/compat/filesystem.py#L263-L292) deal with `umask` to make sure the modes are right, but it appears to be ineffective in this case.", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/9423/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/9423/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/9306", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/9306/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/9306/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/9306/events", "html_url": "https://github.com/certbot/certbot/issues/9306", "id": 1249517382, "node_id": "I_kwDOAZSa8s5Keh9G", "number": 9306, "title": "`show_account` broken in combination with ACMEv1 account reuse using symbolic links", "user": {"login": "osirisinferi", "id": 14792563, "node_id": "MDQ6VXNlcjE0NzkyNTYz", "avatar_url": "https://avatars.githubusercontent.com/u/14792563?v=4", "gravatar_id": "", "url": "https://api.github.com/users/osirisinferi", "html_url": "https://github.com/osirisinferi", "followers_url": "https://api.github.com/users/osirisinferi/followers", "following_url": "https://api.github.com/users/osirisinferi/following{/other_user}", "gists_url": "https://api.github.com/users/osirisinferi/gists{/gist_id}", "starred_url": "https://api.github.com/users/osirisinferi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/osirisinferi/subscriptions", "organizations_url": "https://api.github.com/users/osirisinferi/orgs", "repos_url": "https://api.github.com/users/osirisinferi/repos", "events_url": "https://api.github.com/users/osirisinferi/events{/privacy}", "received_events_url": "https://api.github.com/users/osirisinferi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 200596079, "node_id": "MDU6TGFiZWwyMDA1OTYwNzk=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20ui%20/%20ux", "name": "area: ui / ux", "color": "c5def5", "default": false, "description": null}, {"id": 281347824, "node_id": "MDU6TGFiZWwyODEzNDc4MjQ=", "url": "https://api.github.com/repos/certbot/certbot/labels/has%20pr", "name": "has pr", "color": "0052cc", "default": false, "description": null}, {"id": 1923192304, "node_id": "MDU6TGFiZWwxOTIzMTkyMzA0", "url": "https://api.github.com/repos/certbot/certbot/labels/priority:%20significant", "name": "priority: significant", "color": "5319e7", "default": false, "description": "Issues with higher than average priority that do not need to be in the current milestone."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-05-26T12:37:20Z", "updated_at": "2022-06-08T21:49:41Z", "closed_at": "2022-06-08T21:49:41Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Reported on the Community here: https://community.letsencrypt.org/t/certbot-show-account-fails-with-acme-v01-api-letsencrypt-org-dns-lookup-failure/178367\r\n\r\nSince #6156 ACMEv1 account reuse is done using symbolic links. \r\n\r\nIn #9127 the `show_account` subcommand was introduced, making use of the [`query_registration`](https://github.com/certbot/certbot/blob/5c111d0bd1206d864d7cb93754e101f6073bc669/acme/acme/client.py#L641-L655) function of the `acme` library, passing the `regr` object from the account to that function.\r\n\r\nHowever, when symbolic link account reuse is in place, the `regr` object contains an account `uri` of the ACMEv1 protocol, including the now-nonexisting `acme-v01` API URL. That URI is directly used in [`_send_recv_regr()`](https://github.com/certbot/certbot/blob/5c111d0bd1206d864d7cb93754e101f6073bc669/acme/acme/client.py#L84), triggering a DNS error.\r\n\r\nPossible fixes:\r\n\r\n* Detect ACMEv1 account URI and translate it into an ACMEv2 account URI *in Certbots `main.show_account`* and keep using `query_registration`, or\r\n* Detect ACMEv1 account URI and translate it into an ACMEv2 account URI *in acme's `client.query_registration`*, or\r\n* Rewrite Certbots `main.show_account()` to *not* use `query_registration` but build a signed request for `newAccount` on its own.", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/9306/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/9306/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/9243", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/9243/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/9243/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/9243/events", "html_url": "https://github.com/certbot/certbot/issues/9243", "id": 1173778082, "node_id": "I_kwDOAZSa8s5F9m6i", "number": 9243, "title": "dns-lexicon not found", "user": {"login": "GreggGreen", "id": 50535460, "node_id": "MDQ6VXNlcjUwNTM1NDYw", "avatar_url": "https://avatars.githubusercontent.com/u/50535460?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GreggGreen", "html_url": "https://github.com/GreggGreen", "followers_url": "https://api.github.com/users/GreggGreen/followers", "following_url": "https://api.github.com/users/GreggGreen/following{/other_user}", "gists_url": "https://api.github.com/users/GreggGreen/gists{/gist_id}", "starred_url": "https://api.github.com/users/GreggGreen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GreggGreen/subscriptions", "organizations_url": "https://api.github.com/users/GreggGreen/orgs", "repos_url": "https://api.github.com/users/GreggGreen/repos", "events_url": "https://api.github.com/users/GreggGreen/events{/privacy}", "received_events_url": "https://api.github.com/users/GreggGreen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 253794701, "node_id": "MDU6TGFiZWwyNTM3OTQ3MDE=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20macOS", "name": "area: macOS", "color": "c5def5", "default": false, "description": null}, {"id": 276667632, "node_id": "MDU6TGFiZWwyNzY2Njc2MzI=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20pkging", "name": "area: pkging", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2022-03-18T16:23:29Z", "updated_at": "2022-03-19T06:24:46Z", "closed_at": "2022-03-19T06:24:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "If you're having trouble using Certbot and aren't sure you've found a bug or\r\nrequest for a new feature, please first try asking for help at\r\nhttps://community.letsencrypt.org/. There is a much larger community there of\r\npeople familiar with the project who will be able to more quickly answer your\r\nquestions.\r\n\r\n## My operating system is (include version):\r\n\r\nMac OS 12.3\r\n\r\n## I installed Certbot with (snap, OS package manager, pip, certbot-auto, etc):\r\n\r\nMacports\r\n\r\n## I ran this command and it produced this output:\r\n\r\ncertbot\r\nAn unexpected error occurred:\r\npkg_resources.DistributionNotFound: The 'dns-lexicon>=3.2.1' distribution was not found and is required by the application\r\n\r\n\r\n## Certbot's behavior differed from what I expected because:\r\n\r\nIt's broken\r\n\r\n## Here is a Certbot log showing the issue (if available):\r\n###### Logs are stored in `/var/log/letsencrypt` by default. Feel free to redact domains, e-mail and IP addresses as you see fit.\r\n```\r\n\r\n2022-03-18 12:18:27,975:DEBUG:certbot._internal.log:Exiting abnormally:\r\nTraceback (most recent call last):\r\n  File \"/opt/local/bin/certbot\", line 33, in <module>\r\n    sys.exit(load_entry_point('certbot==1.25.0', 'console_scripts', 'certbot')())\r\n  File \"/opt/local/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/site-packages/certbot/main.py\", line 19, in main\r\n    return internal_main.main(cli_args)\r\n  File \"/opt/local/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/site-packages/certbot/_internal/main.py\", line 1676, in main\r\n    plugins = plugins_disco.PluginsRegistry.find_all()\r\n  File \"/opt/local/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/site-packages/certbot/_internal/plugins/disco.py\", line 241, in find_all\r\n    plugin_ep = cls._load_entry_point(entry_point, plugins, with_prefix=False)\r\n  File \"/opt/local/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/site-packages/certbot/_internal/plugins/disco.py\", line 261, in _load_entry_point\r\n    plugin_ep = PluginEntryPoint(entry_point, with_prefix)\r\n  File \"/opt/local/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/site-packages/certbot/_internal/plugins/disco.py\", line 60, in __init__\r\n    self.plugin_cls: Type[interfaces.Plugin] = entry_point.load()\r\n  File \"/opt/local/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/site-packages/pkg_resources/__init__.py\", line 2457, in load\r\n    self.require(*args, **kwargs)\r\n  File \"/opt/local/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/site-packages/pkg_resources/__init__.py\", line 2480, in require\r\n    items = working_set.resolve(reqs, env, installer, extras=self.extras)\r\n  File \"/opt/local/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/site-packages/pkg_resources/__init__.py\", line 783, in resolve\r\n    raise DistributionNotFound(req, requirers)\r\npkg_resources.DistributionNotFound: The 'dns-lexicon>=3.2.1' distribution was not found and is required by the application\r\n2022-03-18 12:18:27,975:ERROR:certbot._internal.log:An unexpected error occurred:\r\n2022-03-18 12:18:27,975:ERROR:certbot._internal.log:pkg_resources.DistributionNotFound: The 'dns-lexicon>=3.2.1' distribution was not found and is required by the application\r\n\r\n```\r\n\r\n## Here is the relevant nginx server block or Apache virtualhost for the domain I am configuring:\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/9243/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/9243/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/9129", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/9129/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/9129/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/9129/events", "html_url": "https://github.com/certbot/certbot/issues/9129", "id": 1074609707, "node_id": "I_kwDOAZSa8s5ADT4r", "number": 9129, "title": "Missing certbot --help output", "user": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 245387015, "node_id": "MDU6TGFiZWwyNDUzODcwMTU=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20documentation", "name": "area: documentation", "color": "c5def5", "default": false, "description": null}, {"id": 281347824, "node_id": "MDU6TGFiZWwyODEzNDc4MjQ=", "url": "https://api.github.com/repos/certbot/certbot/labels/has%20pr", "name": "has pr", "color": "0052cc", "default": false, "description": null}, {"id": 1226192095, "node_id": "MDU6TGFiZWwxMjI2MTkyMDk1", "url": "https://api.github.com/repos/certbot/certbot/labels/priority:%20critical", "name": "priority: critical", "color": "5319e7", "default": false, "description": "Regressions or features that must be included in the current milestone."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/103", "html_url": "https://github.com/certbot/certbot/milestone/103", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/103/labels", "id": 7469843, "node_id": "MI_kwDOAZSa8s4AcfsT", "number": 103, "title": "1.23.0", "description": "", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 6, "state": "closed", "created_at": "2021-12-08T16:44:50Z", "updated_at": "2022-02-08T16:16:50Z", "due_on": "2022-02-08T08:00:00Z", "closed_at": "2022-02-08T16:16:50Z"}, "comments": 4, "created_at": "2021-12-08T16:43:54Z", "updated_at": "2021-12-11T01:58:33Z", "closed_at": "2021-12-11T01:58:33Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "It looks like something broke in Certbot's `--help` output since the last release. See https://github.com/certbot/certbot/pull/9128/files#diff-0aafb69468d2e7d422472b877bf504077a04491f69118527f0ae815a09711329. Using `git bisect`, it looks like the commit that introduced the problem was 86406ab63aebf463ca4aa0381a55ddeb91231cd2 from https://github.com/certbot/certbot/pull/9087.", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/9129/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/9129/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/9121", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/9121/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/9121/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/9121/events", "html_url": "https://github.com/certbot/certbot/issues/9121", "id": 1067526239, "node_id": "I_kwDOAZSa8s4_oShf", "number": 9121, "title": "--dns-route53-propagation-seconds not respected?", "user": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 596606268, "node_id": "MDU6TGFiZWw1OTY2MDYyNjg=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20dns", "name": "area: dns", "color": "c5def5", "default": false, "description": null}, {"id": 1923192304, "node_id": "MDU6TGFiZWwxOTIzMTkyMzA0", "url": "https://api.github.com/repos/certbot/certbot/labels/priority:%20significant", "name": "priority: significant", "color": "5319e7", "default": false, "description": "Issues with higher than average priority that do not need to be in the current milestone."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2021-11-30T18:03:03Z", "updated_at": "2023-03-23T20:28:15Z", "closed_at": "2023-03-23T20:28:15Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "We got a report that `--dns-route53-propagation-seconds` is not respected. Quickly looking at the code, this seems like a real problem because that flag is added by the common DNS authenticator class in Certbot and used in the `perform` method which the route53 plugin overrides without calling the parent class.\r\n\r\nIt looks like the route53 plugin has some additional logic to wait for DNS changes to propagate, but I think we should either respect that flag or deprecate it and remove it from the plugin in the future.", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/9121/reactions", "total_count": 4, "+1": 4, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/9121/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/9088", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/9088/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/9088/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/9088/events", "html_url": "https://github.com/certbot/certbot/issues/9088", "id": 1046604872, "node_id": "I_kwDOAZSa8s4-YexI", "number": 9088, "title": "windows: webroot web.config can cause an HTTP 500 due to duplicate mimeMap", "user": {"login": "alexzorin", "id": 311534, "node_id": "MDQ6VXNlcjMxMTUzNA==", "avatar_url": "https://avatars.githubusercontent.com/u/311534?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexzorin", "html_url": "https://github.com/alexzorin", "followers_url": "https://api.github.com/users/alexzorin/followers", "following_url": "https://api.github.com/users/alexzorin/following{/other_user}", "gists_url": "https://api.github.com/users/alexzorin/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexzorin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexzorin/subscriptions", "organizations_url": "https://api.github.com/users/alexzorin/orgs", "repos_url": "https://api.github.com/users/alexzorin/repos", "events_url": "https://api.github.com/users/alexzorin/events{/privacy}", "received_events_url": "https://api.github.com/users/alexzorin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 276243286, "node_id": "MDU6TGFiZWwyNzYyNDMyODY=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20webroot", "name": "area: webroot", "color": "c5def5", "default": false, "description": null}, {"id": 588396942, "node_id": "MDU6TGFiZWw1ODgzOTY5NDI=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20windows", "name": "area: windows", "color": "c5def5", "default": false, "description": null}, {"id": 1226192284, "node_id": "MDU6TGFiZWwxMjI2MTkyMjg0", "url": "https://api.github.com/repos/certbot/certbot/labels/priority:%20high", "name": "priority: high", "color": "5319e7", "default": false, "description": "Issues that should be included in the current milestone if at all possible."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/102", "html_url": "https://github.com/certbot/certbot/milestone/102", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/102/labels", "id": 7231227, "node_id": "MI_kwDOAZSa8s4Ablb7", "number": 102, "title": "1.22.0", "description": "", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 4, "state": "closed", "created_at": "2021-10-07T20:48:23Z", "updated_at": "2021-12-08T16:45:15Z", "due_on": "2021-12-07T08:00:00Z", "closed_at": "2021-12-08T16:45:15Z"}, "comments": 0, "created_at": "2021-11-06T21:54:14Z", "updated_at": "2021-11-15T03:35:19Z", "closed_at": "2021-11-15T03:35:19Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "The feature we added in #9054 [is causing problems](https://community.letsencrypt.org/t/certbot-1-21-webroot-http-500-1-20-works/164870/6?u=_az).\r\n\r\nIf there is another `web.config` file, higher in the webroot directory tree than `acme-challenge/`, which also defines a `mimeMap` for extensionless files, then IIS will crash on  the duplicate `mimeMap` as it merges the configs.\r\n\r\nI think this probably a likely scenario for our Windows users to encounter, because I recall seeing (and have posted myself) advice to create `web.config` files in the `.well-known` directory rather than the `acme-challenge` directory.\r\n\r\nRather than traversing the filesystem looking for other `web.config` files, one way to fix this could be to use the `remove` element to remove any existing `mimeMap` for extensionless files, before we add ours:\r\n\r\n```xml\r\n      <staticContent>\r\n\t  <remove fileExtension=\".\"/>\r\n          <mimeMap fileExtension=\".\" mimeType=\"text/plain\" />\r\n      </staticContent>\r\n```\r\n\r\nThat seems to work on Windows Server 2019.\r\n\r\nOne thing that makes me nervous is that `remove` is conspicuously missing from the documentation for `mimeMap` and `staticContent`. I'm guessing it's some kind of generic element and I'm looking in the wrong place. I found the solution on some random blog.\r\n\r\ncc @adferrand ", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/9088/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/9088/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/8995", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/8995/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/8995/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/8995/events", "html_url": "https://github.com/certbot/certbot/issues/8995", "id": 972681346, "node_id": "MDU6SXNzdWU5NzI2ODEzNDY=", "number": 8995, "title": "ValueError: I/O operation on closed file in \"certonly\" mode", "user": {"login": "jgodoy2017", "id": 28831162, "node_id": "MDQ6VXNlcjI4ODMxMTYy", "avatar_url": "https://avatars.githubusercontent.com/u/28831162?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jgodoy2017", "html_url": "https://github.com/jgodoy2017", "followers_url": "https://api.github.com/users/jgodoy2017/followers", "following_url": "https://api.github.com/users/jgodoy2017/following{/other_user}", "gists_url": "https://api.github.com/users/jgodoy2017/gists{/gist_id}", "starred_url": "https://api.github.com/users/jgodoy2017/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jgodoy2017/subscriptions", "organizations_url": "https://api.github.com/users/jgodoy2017/orgs", "repos_url": "https://api.github.com/users/jgodoy2017/repos", "events_url": "https://api.github.com/users/jgodoy2017/events{/privacy}", "received_events_url": "https://api.github.com/users/jgodoy2017/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 200596079, "node_id": "MDU6TGFiZWwyMDA1OTYwNzk=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20ui%20/%20ux", "name": "area: ui / ux", "color": "c5def5", "default": false, "description": null}, {"id": 1226192284, "node_id": "MDU6TGFiZWwxMjI2MTkyMjg0", "url": "https://api.github.com/repos/certbot/certbot/labels/priority:%20high", "name": "priority: high", "color": "5319e7", "default": false, "description": "Issues that should be included in the current milestone if at all possible."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2021-08-17T13:17:59Z", "updated_at": "2021-09-07T15:38:28Z", "closed_at": "2021-09-07T15:38:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "## My operating system is (include version):\r\n\r\nCentOS Linux release 7.8.2003 (Core)\r\n\r\n## I installed Certbot with (snap, OS package manager, pip, certbot-auto, etc):\r\n\r\nInstalled using snap.\r\n\r\n## I ran this command and it produced this output:\r\n\r\ncertbot certonly --manual --quiet --force-renewal --preferred-challenge dns --manual-auth-hook ${CHALLENGE_SCRIPT} -d ${DOMAIN},*.${DOMAIN}\r\n\r\n## Certbot's behavior differed from what I expected because:\r\n\r\nIt actually issues the certificate, but it gives an I/O error (see below) just before quitting, which kind of breaks our automation.\r\n\r\n## Here is a Certbot log showing the issue (if available):\r\n\r\n    Error in atexit._run_exitfuncs:\r\n    Traceback (most recent call last):\r\n      File \"/var/lib/snapd/snap/certbot/1343/lib/python3.8/site-packages/certbot/util.py\", line 625, in _atexit_call\r\n        func(*args, **kwargs)\r\n      File \"/var/lib/snapd/snap/certbot/1343/lib/python3.8/site-packages/certbot/display/util.py\", line 72, in notification\r\n        obj.get_display().notification(message, pause=pause, wrap=wrap,\r\n      File \"/var/lib/snapd/snap/certbot/1343/lib/python3.8/site-packages/certbot/_internal/display/obj.py\", line 421, in notification\r\n        self.outfile.write(\r\n    ValueError: I/O operation on closed file.\r\n\r\n## Here is the relevant nginx server block or Apache virtualhost for the domain I am configuring:\r\n\r\nWe are using manual mode with certonly.", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/8995/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/8995/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/8977", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/8977/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/8977/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/8977/events", "html_url": "https://github.com/certbot/certbot/issues/8977", "id": 963311423, "node_id": "MDU6SXNzdWU5NjMzMTE0MjM=", "number": 8977, "title": "When ACME meta field is absent, Certbot asks user to agree to \"None\" terms of service", "user": {"login": "alexzorin", "id": 311534, "node_id": "MDQ6VXNlcjMxMTUzNA==", "avatar_url": "https://avatars.githubusercontent.com/u/311534?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexzorin", "html_url": "https://github.com/alexzorin", "followers_url": "https://api.github.com/users/alexzorin/followers", "following_url": "https://api.github.com/users/alexzorin/following{/other_user}", "gists_url": "https://api.github.com/users/alexzorin/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexzorin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexzorin/subscriptions", "organizations_url": "https://api.github.com/users/alexzorin/orgs", "repos_url": "https://api.github.com/users/alexzorin/repos", "events_url": "https://api.github.com/users/alexzorin/events{/privacy}", "received_events_url": "https://api.github.com/users/alexzorin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 200596079, "node_id": "MDU6TGFiZWwyMDA1OTYwNzk=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20ui%20/%20ux", "name": "area: ui / ux", "color": "c5def5", "default": false, "description": null}, {"id": 277074172, "node_id": "MDU6TGFiZWwyNzcwNzQxNzI=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20acme", "name": "area: acme", "color": "c5def5", "default": false, "description": null}, {"id": 281347824, "node_id": "MDU6TGFiZWwyODEzNDc4MjQ=", "url": "https://api.github.com/repos/certbot/certbot/labels/has%20pr", "name": "has pr", "color": "0052cc", "default": false, "description": null}, {"id": 1923192304, "node_id": "MDU6TGFiZWwxOTIzMTkyMzA0", "url": "https://api.github.com/repos/certbot/certbot/labels/priority:%20significant", "name": "priority: significant", "color": "5319e7", "default": false, "description": "Issues with higher than average priority that do not need to be in the current milestone."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-08-07T22:06:42Z", "updated_at": "2022-03-24T22:42:47Z", "closed_at": "2022-03-24T22:42:47Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "In #8976 we discovered that Certbot sometimes asks you to agree to a non-existent ACME Terms of Service:\r\n\r\n    Saving debug log to /var/log/letsencrypt/letsencrypt.log\r\n\r\n    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\r\n    Please read the Terms of Service at None. You must agree in order to register\r\n    with the ACME server. Do you agree?\r\n    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\r\n    (Y)es/(N)o: n\r\n\r\nThis can be reproduced when the ACME server is missing a `meta` field, such as in the case of Step CA where the ACME directory looks like:\r\n\r\n```json\r\n{\"newNonce\":\"https://localhost:8443/acme/acme/new-nonce\",\"newAccount\":\"https://localhost:8443/acme/acme/new-account\",\"newOrder\":\"https://localhost:8443/acme/acme/new-order\",\"revokeCert\":\"https://localhost:8443/acme/acme/revoke-cert\",\"keyChange\":\"https://localhost:8443/acme/acme/key-change\"}\r\n```\r\n\r\nIn Certbot, the ToS callback has this guard around it:\r\n\r\nhttps://github.com/certbot/certbot/blob/3058b6e748d085f53dd5c550be2806b26e7195eb/acme/acme/client.py#L865-L867\r\n\r\nHowever, in conjunction with the ACME directory above, the guard is ineffective:\r\n\r\n    client_v2.directory.meta=Meta(terms_of_service=None, _terms_of_service_v2=None, website=None, caa_identities=None, external_account_required=None)\r\n\r\nWe need to check that `terms_of_service` itself is not empty. ", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/8977/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/8977/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/8940", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/8940/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/8940/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/8940/events", "html_url": "https://github.com/certbot/certbot/issues/8940", "id": 943887742, "node_id": "MDU6SXNzdWU5NDM4ODc3NDI=", "number": 8940, "title": "Apache authenticator crashes on a completely empty virtualhost", "user": {"login": "alexzorin", "id": 311534, "node_id": "MDQ6VXNlcjMxMTUzNA==", "avatar_url": "https://avatars.githubusercontent.com/u/311534?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexzorin", "html_url": "https://github.com/alexzorin", "followers_url": "https://api.github.com/users/alexzorin/followers", "following_url": "https://api.github.com/users/alexzorin/following{/other_user}", "gists_url": "https://api.github.com/users/alexzorin/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexzorin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexzorin/subscriptions", "organizations_url": "https://api.github.com/users/alexzorin/orgs", "repos_url": "https://api.github.com/users/alexzorin/repos", "events_url": "https://api.github.com/users/alexzorin/events{/privacy}", "received_events_url": "https://api.github.com/users/alexzorin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 258836903, "node_id": "MDU6TGFiZWwyNTg4MzY5MDM=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20apache", "name": "area: apache", "color": "c5def5", "default": false, "description": null}, {"id": 1226192284, "node_id": "MDU6TGFiZWwxMjI2MTkyMjg0", "url": "https://api.github.com/repos/certbot/certbot/labels/priority:%20high", "name": "priority: high", "color": "5319e7", "default": false, "description": "Issues that should be included in the current milestone if at all possible."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/98", "html_url": "https://github.com/certbot/certbot/milestone/98", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/98/labels", "id": 6886612, "node_id": "MDk6TWlsZXN0b25lNjg4NjYxMg==", "number": 98, "title": "1.18.0", "description": "# Goals\r\n1. Drop ACMEv1 support", "creator": {"login": "zoracon", "id": 4276080, "node_id": "MDQ6VXNlcjQyNzYwODA=", "avatar_url": "https://avatars.githubusercontent.com/u/4276080?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zoracon", "html_url": "https://github.com/zoracon", "followers_url": "https://api.github.com/users/zoracon/followers", "following_url": "https://api.github.com/users/zoracon/following{/other_user}", "gists_url": "https://api.github.com/users/zoracon/gists{/gist_id}", "starred_url": "https://api.github.com/users/zoracon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zoracon/subscriptions", "organizations_url": "https://api.github.com/users/zoracon/orgs", "repos_url": "https://api.github.com/users/zoracon/repos", "events_url": "https://api.github.com/users/zoracon/events{/privacy}", "received_events_url": "https://api.github.com/users/zoracon/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 7, "state": "closed", "created_at": "2021-06-24T21:27:30Z", "updated_at": "2021-08-05T20:56:51Z", "due_on": "2021-08-03T07:00:00Z", "closed_at": "2021-08-05T20:56:51Z"}, "comments": 0, "created_at": "2021-07-13T22:58:02Z", "updated_at": "2021-07-15T18:12:15Z", "closed_at": "2021-07-15T18:12:15Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "This was reported at https://community.letsencrypt.org/t/cant-create-cert-for-a-domain-error-augeas-insert/155400.\r\n\r\nIn 1.17.0, https://github.com/certbot/certbot/pull/8898 was merged, to authenticate all virtual hosts which do not have an explicit `ServerName`.\r\n\r\nAs a result, Certbot tries to authenticate more vhosts than before.\r\n\r\nUnfortunately, this has exposed a bug with the authenticator that causes a crash if there are not any directives in the candidate vhost.\r\n\r\nThis will crash:\r\n\r\n```apache\r\n<VirtualHost *:80>\r\n</VirtualHost>\r\n```\r\n\r\nso will this (because apparently as the vhost is represented in Augeas, `/directive[1]` is empty):\r\n\r\n```apache\r\n<VirtualHost *:80>\r\n  <Location />\r\n        Require all denied\r\n  </Location>\r\n</VirtualHost>\r\n```\r\n\r\nThe stack trace is:\r\n\r\n    2021-07-14 08:55:47,165:DEBUG:certbot_apache._internal.http_01:Adding a temporary challenge validation Include for name: None in: /etc/apache2/sites-enabled/000-default.conf\r\n    2021-07-14 08:55:47,166:DEBUG:certbot._internal.error_handler:Encountered exception:\r\n    Traceback (most recent call last):\r\n      File \"/home/alex/devel/certbot/certbot/certbot/_internal/auth_handler.py\", line 73, in handle_authorizations\r\n        resps = self.auth.perform(achalls)\r\n      File \"/home/alex/devel/certbot/certbot-apache/certbot_apache/_internal/configurator.py\", line 2538, in perform\r\n        http_response = http_doer.perform()\r\n      File \"/home/alex/devel/certbot/certbot-apache/certbot_apache/_internal/http_01.py\", line 76, in perform\r\n        self._mod_config()\r\n      File \"/home/alex/devel/certbot/certbot-apache/certbot_apache/_internal/http_01.py\", line 120, in _mod_config\r\n        self._set_up_include_directives(vh)\r\n      File \"/home/alex/devel/certbot/certbot-apache/certbot_apache/_internal/http_01.py\", line 216, in _set_up_include_directives\r\n        self.configurator.parser.add_dir_beginning(\r\n      File \"/home/alex/devel/certbot/certbot-apache/certbot_apache/_internal/parser.py\", line 445, in add_dir_beginning\r\n        self.aug.insert(first_dir, \"directive\", True)\r\n      File \"/home/alex/devel/certbot/venv/lib/python3.8/site-packages/augeas.py\", line 369, in insert\r\n        raise ValueError(\"Unable to insert label!\")\r\n    ValueError: Unable to insert label!\r\n\r\nThis needs to be fixed for 1.18.0 (or earlier). Self-note: don't forget to add these kinds of vhosts to the Apache test suites.\r\n\r\nFor readers, a workaround is to add a directive, like `ServerName example.com`, to the vhost (outside of the `<Location>` block).", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/8940/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/8940/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/8937", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/8937/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/8937/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/8937/events", "html_url": "https://github.com/certbot/certbot/issues/8937", "id": 941767054, "node_id": "MDU6SXNzdWU5NDE3NjcwNTQ=", "number": 8937, "title": "nginx version detection shouldn't crash Certbot", "user": {"login": "alexzorin", "id": 311534, "node_id": "MDQ6VXNlcjMxMTUzNA==", "avatar_url": "https://avatars.githubusercontent.com/u/311534?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexzorin", "html_url": "https://github.com/alexzorin", "followers_url": "https://api.github.com/users/alexzorin/followers", "following_url": "https://api.github.com/users/alexzorin/following{/other_user}", "gists_url": "https://api.github.com/users/alexzorin/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexzorin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexzorin/subscriptions", "organizations_url": "https://api.github.com/users/alexzorin/orgs", "repos_url": "https://api.github.com/users/alexzorin/repos", "events_url": "https://api.github.com/users/alexzorin/events{/privacy}", "received_events_url": "https://api.github.com/users/alexzorin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 258836706, "node_id": "MDU6TGFiZWwyNTg4MzY3MDY=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20nginx", "name": "area: nginx", "color": "c5def5", "default": false, "description": null}, {"id": 272789317, "node_id": "MDU6TGFiZWwyNzI3ODkzMTc=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20error%20handling", "name": "area: error handling", "color": "c5def5", "default": false, "description": null}, {"id": 1383990430, "node_id": "MDU6TGFiZWwxMzgzOTkwNDMw", "url": "https://api.github.com/repos/certbot/certbot/labels/needs-update", "name": "needs-update", "color": "ADDEE4", "default": false, "description": ""}, {"id": 1923192304, "node_id": "MDU6TGFiZWwxOTIzMTkyMzA0", "url": "https://api.github.com/repos/certbot/certbot/labels/priority:%20significant", "name": "priority: significant", "color": "5319e7", "default": false, "description": "Issues with higher than average priority that do not need to be in the current milestone."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-07-12T07:40:19Z", "updated_at": "2023-04-22T01:50:30Z", "closed_at": "2023-04-22T01:50:30Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "One of our users reported this on https://community.letsencrypt.org/t/certbot-certonly-nginx-error/155544.\r\n\r\n## My operating system is (include version):\r\n centos7.6\r\n\r\n## I installed Certbot with (snap, OS package manager, pip, certbot-auto, etc):\r\nsnap\r\n\r\n## I ran this command and it produced this output:\r\n    certbot certonly --nginx\r\n\r\n## Certbot's behavior differed from what I expected because:\r\nAlthough a derivative version of nginx is being used, Certbot shouldn't crash with an ugly error when it encounters `nginx -V` output it doesn't like.\r\n\r\n## Here is a Certbot log showing the issue (if available):\r\n    2021-07-12 14:31:27,285:DEBUG:urllib3.connectionpool:http://localhost:None \"GET /v2/connections?snap=certbot&interface=content HTTP/1.1\" 200 97\r\n    2021-07-12 14:31:27,727:DEBUG:certbot._internal.main:certbot version: 1.17.0\r\n    2021-07-12 14:31:27,727:DEBUG:certbot._internal.main:Location of certbot entry point: /snap/certbot/1280/bin/certbot\r\n    2021-07-12 14:31:27,727:DEBUG:certbot._internal.main:Arguments: ['--nginx', '--preconfigured-renewal']\r\n    2021-07-12 14:31:27,727:DEBUG:certbot._internal.main:Discovered plugins: PluginsRegistry(PluginEntryPoint#apache,PluginEntryPoint#manual,PluginEntryPoint#nginx,PluginEntryPoint#null,PluginEntryPoint#standalone,PluginEntryPoint#webroot)\r\n    2021-07-12 14:31:27,747:DEBUG:certbot._internal.log:Root logging level set at 30\r\n    2021-07-12 14:31:27,750:DEBUG:certbot._internal.plugins.selection:Requested authenticator nginx and installer nginx\r\n    2021-07-12 14:31:27,895:WARNING:certbot_nginx._internal.configurator:NGINX derivative WS\r\n    built by gcc 4.8.5 20150623 (Red Hat 4.8.5-36) (GCC)\r\n    built with OpenSSL 1.0.2k-fips 26 Jan 2017\r\n    TLS SNI support enabled\r\n    configure arguments: --prefix= is not officially supported by certbot\r\n    2021-07-12 14:31:27,895:DEBUG:certbot._internal.log:Exiting abnormally:\r\n    Traceback (most recent call last):\r\n    File \"/snap/certbot/1280/bin/certbot\", line 8, in\r\n    sys.exit(main())\r\n    File \"/var/lib/snapd/snap/certbot/1280/lib/python3.8/site-packages/certbot/main.py\", line 15, in main\r\n    return internal_main.main(cli_args)\r\n    File \"/var/lib/snapd/snap/certbot/1280/lib/python3.8/site-packages/certbot/_internal/main.py\", line 1574, in main\r\n    return config.func(config, plugins)\r\n    File \"/var/lib/snapd/snap/certbot/1280/lib/python3.8/site-packages/certbot/_internal/main.py\", line 1415, in certonly\r\n    installer, auth = plug_sel.choose_configurator_plugins(config, plugins, \"certonly\")\r\n    File \"/var/lib/snapd/snap/certbot/1280/lib/python3.8/site-packages/certbot/_internal/plugins/selection.py\", line 219, in choose_configurator_plugins\r\n    installer = pick_installer(config, req_inst, plugins, installer_question)\r\n    File \"/var/lib/snapd/snap/certbot/1280/lib/python3.8/site-packages/certbot/_internal/plugins/selection.py\", line 30, in pick_installer\r\n    return pick_plugin(\r\n    File \"/var/lib/snapd/snap/certbot/1280/lib/python3.8/site-packages/certbot/_internal/plugins/selection.py\", line 106, in pick_plugin\r\n    verified.prepare()\r\n    File \"/var/lib/snapd/snap/certbot/1280/lib/python3.8/site-packages/certbot/_internal/plugins/disco.py\", line 303, in prepare\r\n    return [plugin_ep.prepare() for plugin_ep in self._plugins.values()]\r\n    File \"/var/lib/snapd/snap/certbot/1280/lib/python3.8/site-packages/certbot/_internal/plugins/disco.py\", line 303, in\r\n    return [plugin_ep.prepare() for plugin_ep in self._plugins.values()]\r\n    File \"/var/lib/snapd/snap/certbot/1280/lib/python3.8/site-packages/certbot/_internal/plugins/disco.py\", line 158, in prepare\r\n    self._initialized.prepare() # type: ignore\r\n    File \"/var/lib/snapd/snap/certbot/1280/lib/python3.8/site-packages/certbot_nginx/_internal/configurator.py\", line 200, in prepare\r\n    self.version = self.get_version()\r\n    File \"/var/lib/snapd/snap/certbot/1280/lib/python3.8/site-packages/certbot_nginx/_internal/configurator.py\", line 1043, in get_version\r\n    nginx_version = tuple(int(i) for i in product_version.split(\".\"))\r\n    File \"/var/lib/snapd/snap/certbot/1280/lib/python3.8/site-packages/certbot_nginx/_internal/configurator.py\", line 1043, in\r\n    nginx_version = tuple(int(i) for i in product_version.split(\".\"))\r\n    ValueError: invalid literal for int() with base 10: ''\r\n    2021-07-12 14:31:27,900:ERROR:certbot._internal.log:An unexpected error occurred:\r\n    2021-07-12 14:31:27,900:ERROR:certbot._internal.log:ValueError: invalid literal for int() with base 10: ''\r\n\r\n## Here is the relevant nginx server block or Apache virtualhost for the domain I am configuring:\r\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/8937/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/8937/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/8922", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/8922/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/8922/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/8922/events", "html_url": "https://github.com/certbot/certbot/issues/8922", "id": 928199951, "node_id": "MDU6SXNzdWU5MjgxOTk5NTE=", "number": 8922, "title": "Access denied on snap install certbot-dns-cloudflare on Debian 9 only", "user": {"login": "shivampaw", "id": 11842979, "node_id": "MDQ6VXNlcjExODQyOTc5", "avatar_url": "https://avatars.githubusercontent.com/u/11842979?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shivampaw", "html_url": "https://github.com/shivampaw", "followers_url": "https://api.github.com/users/shivampaw/followers", "following_url": "https://api.github.com/users/shivampaw/following{/other_user}", "gists_url": "https://api.github.com/users/shivampaw/gists{/gist_id}", "starred_url": "https://api.github.com/users/shivampaw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shivampaw/subscriptions", "organizations_url": "https://api.github.com/users/shivampaw/orgs", "repos_url": "https://api.github.com/users/shivampaw/repos", "events_url": "https://api.github.com/users/shivampaw/events{/privacy}", "received_events_url": "https://api.github.com/users/shivampaw/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 200587469, "node_id": "MDU6TGFiZWwyMDA1ODc0Njk=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20debian%20/%20ubuntu", "name": "area: debian / ubuntu", "color": "c5def5", "default": false, "description": null}, {"id": 281347824, "node_id": "MDU6TGFiZWwyODEzNDc4MjQ=", "url": "https://api.github.com/repos/certbot/certbot/labels/has%20pr", "name": "has pr", "color": "0052cc", "default": false, "description": null}, {"id": 596606268, "node_id": "MDU6TGFiZWw1OTY2MDYyNjg=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20dns", "name": "area: dns", "color": "c5def5", "default": false, "description": null}, {"id": 1226192284, "node_id": "MDU6TGFiZWwxMjI2MTkyMjg0", "url": "https://api.github.com/repos/certbot/certbot/labels/priority:%20high", "name": "priority: high", "color": "5319e7", "default": false, "description": "Issues that should be included in the current milestone if at all possible."}, {"id": 1771667669, "node_id": "MDU6TGFiZWwxNzcxNjY3NjY5", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20snaps", "name": "area: snaps", "color": "c5def5", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 13, "created_at": "2021-06-23T12:24:50Z", "updated_at": "2021-08-03T23:00:23Z", "closed_at": "2021-08-03T23:00:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "## My operating system is (include version):\r\nDebian 9 (tested on a fresh DO droplet)\r\n\r\n## I installed Certbot with (snap, OS package manager, pip, certbot-auto, etc):\r\nsnap\r\n\r\n## I ran this command and it produced this output:\r\nOn a fresh Debian 9 Digital Ocean droplet:\r\n```\r\napt update\r\napt install snapd\r\nsnap install core\r\nsnap refresh core\r\nsnap install certbot --classic\r\nsnap set certbot trust-plugin-with-root=ok\r\nsnap install certbot-dns-cloudflare\r\n```\r\n\r\n## Certbot's behavior differed from what I expected because:\r\n```\r\nerror: cannot perform the following tasks:\r\n- Run hook prepare-plug-plugin of snap \"certbot\" (run hook \"prepare-plug-plugin\":\r\n-----\r\nerror: access denied\r\nOnly connect this interface if you trust the plugin author to have root on the system.\r\nRun `snap set certbot trust-plugin-with-root=ok` to acknowledge this and then run this command again to perform the connection.\r\nIf that doesn't work, you may need to remove all certbot-dns-* plugins from the system, then try installing the certbot snap again.\r\n-----)\r\n```\r\n\r\nThis differs to #8182 because:\r\n* the dns plugin was not installed beforehand\r\n* this only seems to happen on Debian 9 (Debian 10 is working fine for me)\r\n* it happens on a fresh Digital Ocean droplet\r\n\r\n## Additional debugging:\r\nIf I `snap install hello-world` and run `snap run --shell` followed by `snapctl` in the shell the error received is:\r\n```\r\nerror: snapctl cannot run without args\r\n```\r\n\r\nIf I run that command in the certbot shell (`snap run --shell certbot`) the error received is:\r\n```\r\nerror: access denied\r\n```\r\n\r\n## `snap version`\r\n```\r\nroot@debian-s-1vcpu-1gb-lon1-01:~# snap version\r\nsnap    2.51\r\nsnapd   2.51\r\nseries  16\r\ndebian  9\r\nkernel  4.9.0-15-amd64\r\n```", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/8922/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/8922/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/8895", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/8895/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/8895/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/8895/events", "html_url": "https://github.com/certbot/certbot/pull/8895", "id": 916704107, "node_id": "MDExOlB1bGxSZXF1ZXN0NjY2MzQwOTQx", "number": 8895, "title": "Allow nginx parser to handle empty file", "user": {"login": "ohemorange", "id": 1227205, "node_id": "MDQ6VXNlcjEyMjcyMDU=", "avatar_url": "https://avatars.githubusercontent.com/u/1227205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ohemorange", "html_url": "https://github.com/ohemorange", "followers_url": "https://api.github.com/users/ohemorange/followers", "following_url": "https://api.github.com/users/ohemorange/following{/other_user}", "gists_url": "https://api.github.com/users/ohemorange/gists{/gist_id}", "starred_url": "https://api.github.com/users/ohemorange/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ohemorange/subscriptions", "organizations_url": "https://api.github.com/users/ohemorange/orgs", "repos_url": "https://api.github.com/users/ohemorange/repos", "events_url": "https://api.github.com/users/ohemorange/events{/privacy}", "received_events_url": "https://api.github.com/users/ohemorange/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 200596079, "node_id": "MDU6TGFiZWwyMDA1OTYwNzk=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20ui%20/%20ux", "name": "area: ui / ux", "color": "c5def5", "default": false, "description": null}, {"id": 258836706, "node_id": "MDU6TGFiZWwyNTg4MzY3MDY=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20nginx", "name": "area: nginx", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-06-09T21:58:11Z", "updated_at": "2021-06-10T23:21:53Z", "closed_at": "2021-06-10T23:21:52Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/certbot/certbot/pulls/8895", "html_url": "https://github.com/certbot/certbot/pull/8895", "diff_url": "https://github.com/certbot/certbot/pull/8895.diff", "patch_url": "https://github.com/certbot/certbot/pull/8895.patch", "merged_at": "2021-06-10T23:21:52Z"}, "body": "Fixes #7103.\r\n\r\nBefore:\r\n```\r\n# certbot --nginx\r\nSaving debug log to /var/log/letsencrypt/letsencrypt.log\r\nCould not parse file: /etc/nginx/sites-enabled/test.test due to Expected {Group:({[<SP><TAB><CR><LF>] \"#\" rest of line}) | Group:(Forward: {Group:({[<SP><TAB><CR><LF>] {Combine:({{quoted string, starting with \" ending with \" | quoted string, starting with ' ending with '} \")\" [Re:('(\\\\$\\\\{)|[^{;\\\\s]')]...}) | Combine:({Re:('(\\\\$\\\\{)|[^{};\\\\s\\'\\\\\"]') [Re:('(\\\\$\\\\{)|[^{;\\\\s]')]...}) | quoted string, starting with \" ending with \" | quoted string, starting with ' ending with '} [{<SP><TAB><CR><LF> {Combine:({{quoted string, starting with \" ending with \" | quoted string, starting with ' ending with '} \")\" [Re:('(\\\\$\\\\{)|[^{;\\\\s]')]...}) | Combine:({Re:('(\\\\$\\\\{)|[^{};\\\\s\\'\\\\\"]') [Re:('(\\\\$\\\\{)|[^{;\\\\s]')]...}) | quoted string, starting with \" ending with \" | quoted string, starting with ' ending with '}}]... [<SP><TAB><CR><LF>]}) Suppress:(\"{\") Group:({[{{Group:({[<SP><TAB><CR><LF>] \"#\" rest of line}) | Group:(: ...)} | Group:({{{{[<SP><TAB><CR><LF>] {{Combine:({{{quoted string, starting with \" ending with \" | quoted string, starting with ' ending with '} \")\"} [Re:('(\\\\$\\\\{)|[^{;\\\\s]')]...}) | Combine:({Re:('(\\\\$\\\\{)|[^{};\\\\s\\) | Group:({[<SP><TAB><CR><LF>] {Combine:({{quoted string, starting with \" ending with \" | quoted string, starting with ' ending with '} \")\" [Re:('(\\\\$\\\\{)|[^{;\\\\s]')]...}) | Combine:({Re:('(\\\\$\\\\{)|[^{};\\\\s\\'\\\\\"]') [Re:('(\\\\$\\\\{)|[^{;\\\\s]')]...}) | quoted string, starting with \" ending with \" | quoted string, starting with ' ending with '} [{<SP><TAB><CR><LF> {Combine:({{quoted string, starting with \" ending with \" | quoted string, starting with ' ending with '} \")\" [Re:('(\\\\$\\\\{)|[^{;\\\\s]')]...}) | Combine:({Re:('(\\\\$\\\\{)|[^{};\\\\s\\'\\\\\"]') [Re:('(\\\\$\\\\{)|[^{;\\\\s]')]...}) | quoted string, starting with \" ending with \" | quoted string, starting with ' ending with '}}]... [<SP><TAB><CR><LF>] Suppress:(\";\")})}  (at char 0), (line:1, col:1)\r\nPlugins selected: Authenticator nginx, Installer nginx\r\nAccount registered.\r\nPlease enter the domain name(s) you would like on your certificate (comma and/or\r\nspace separated) (Enter 'c' to cancel): c\r\n...\r\n```\r\n\r\nAfter:\r\n```\r\n# certbot --nginx\r\nSaving debug log to /var/log/letsencrypt/letsencrypt.log\r\nPlugins selected: Authenticator nginx, Installer nginx\r\nPlease enter the domain name(s) you would like on your certificate (comma and/or\r\nspace separated) (Enter 'c' to cancel): c\r\n...\r\n```", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/8895/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/8895/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/certbot/certbot/issues/8890", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/8890/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/8890/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/8890/events", "html_url": "https://github.com/certbot/certbot/issues/8890", "id": 914148294, "node_id": "MDU6SXNzdWU5MTQxNDgyOTQ=", "number": 8890, "title": "apache authenticator should authenticate all duplicate vhosts", "user": {"login": "alexzorin", "id": 311534, "node_id": "MDQ6VXNlcjMxMTUzNA==", "avatar_url": "https://avatars.githubusercontent.com/u/311534?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexzorin", "html_url": "https://github.com/alexzorin", "followers_url": "https://api.github.com/users/alexzorin/followers", "following_url": "https://api.github.com/users/alexzorin/following{/other_user}", "gists_url": "https://api.github.com/users/alexzorin/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexzorin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexzorin/subscriptions", "organizations_url": "https://api.github.com/users/alexzorin/orgs", "repos_url": "https://api.github.com/users/alexzorin/repos", "events_url": "https://api.github.com/users/alexzorin/events{/privacy}", "received_events_url": "https://api.github.com/users/alexzorin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 258836903, "node_id": "MDU6TGFiZWwyNTg4MzY5MDM=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20apache", "name": "area: apache", "color": "c5def5", "default": false, "description": null}, {"id": 1923192304, "node_id": "MDU6TGFiZWwxOTIzMTkyMzA0", "url": "https://api.github.com/repos/certbot/certbot/labels/priority:%20significant", "name": "priority: significant", "color": "5319e7", "default": false, "description": "Issues with higher than average priority that do not need to be in the current milestone."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-06-08T01:54:39Z", "updated_at": "2021-06-21T11:18:30Z", "closed_at": "2021-06-21T11:18:30Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "See https://community.letsencrypt.org/t/cant-renew-certificate/153274/3?u=_az. I've seen this a few other times as well.\r\n\r\nThe Apache authenticator needs to authenticate all of the virtual hosts which could match the requested domain, including duplicates and HTTPS ones.\r\n\r\n#6729 fixed this for the most part, but there are seemingly still some edge cases left over.\r\n\r\nLet's investigate and fix those.", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/8890/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/8890/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/8848", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/8848/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/8848/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/8848/events", "html_url": "https://github.com/certbot/certbot/issues/8848", "id": 890796711, "node_id": "MDU6SXNzdWU4OTA3OTY3MTE=", "number": 8848, "title": "ANSI sequences (colors, bold) don't render properly on Windows", "user": {"login": "alexzorin", "id": 311534, "node_id": "MDQ6VXNlcjMxMTUzNA==", "avatar_url": "https://avatars.githubusercontent.com/u/311534?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexzorin", "html_url": "https://github.com/alexzorin", "followers_url": "https://api.github.com/users/alexzorin/followers", "following_url": "https://api.github.com/users/alexzorin/following{/other_user}", "gists_url": "https://api.github.com/users/alexzorin/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexzorin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexzorin/subscriptions", "organizations_url": "https://api.github.com/users/alexzorin/orgs", "repos_url": "https://api.github.com/users/alexzorin/repos", "events_url": "https://api.github.com/users/alexzorin/events{/privacy}", "received_events_url": "https://api.github.com/users/alexzorin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 200596079, "node_id": "MDU6TGFiZWwyMDA1OTYwNzk=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20ui%20/%20ux", "name": "area: ui / ux", "color": "c5def5", "default": false, "description": null}, {"id": 588396942, "node_id": "MDU6TGFiZWw1ODgzOTY5NDI=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20windows", "name": "area: windows", "color": "c5def5", "default": false, "description": null}, {"id": 1923192304, "node_id": "MDU6TGFiZWwxOTIzMTkyMzA0", "url": "https://api.github.com/repos/certbot/certbot/labels/priority:%20significant", "name": "priority: significant", "color": "5319e7", "default": false, "description": "Issues with higher than average priority that do not need to be in the current milestone."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-05-13T07:14:22Z", "updated_at": "2021-05-28T17:36:52Z", "closed_at": "2021-05-28T17:36:52Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "## My operating system is (include version):\r\nWindows Server 2019\r\n\r\n## I installed Certbot with (snap, OS package manager, pip, certbot-auto, etc):\r\n1.15.0 installer\r\n\r\n## I ran this command and it produced this output:\r\n![image](https://user-images.githubusercontent.com/311534/118091733-82af4b00-b40e-11eb-862c-a5848683bc3b.png)\r\n\r\n\r\n## Certbot's behavior differed from what I expected because:\r\nWe should get the terminal to render ANSI properly or not print those sequences at all.\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/8848/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/8848/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/8824", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/8824/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/8824/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/8824/events", "html_url": "https://github.com/certbot/certbot/issues/8824", "id": 875640149, "node_id": "MDU6SXNzdWU4NzU2NDAxNDk=", "number": 8824, "title": "Windows installer doesn't properly overwrite itself", "user": {"login": "pwn0r", "id": 19326623, "node_id": "MDQ6VXNlcjE5MzI2NjIz", "avatar_url": "https://avatars.githubusercontent.com/u/19326623?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pwn0r", "html_url": "https://github.com/pwn0r", "followers_url": "https://api.github.com/users/pwn0r/followers", "following_url": "https://api.github.com/users/pwn0r/following{/other_user}", "gists_url": "https://api.github.com/users/pwn0r/gists{/gist_id}", "starred_url": "https://api.github.com/users/pwn0r/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pwn0r/subscriptions", "organizations_url": "https://api.github.com/users/pwn0r/orgs", "repos_url": "https://api.github.com/users/pwn0r/repos", "events_url": "https://api.github.com/users/pwn0r/events{/privacy}", "received_events_url": "https://api.github.com/users/pwn0r/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 588396942, "node_id": "MDU6TGFiZWw1ODgzOTY5NDI=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20windows", "name": "area: windows", "color": "c5def5", "default": false, "description": null}, {"id": 1226192284, "node_id": "MDU6TGFiZWwxMjI2MTkyMjg0", "url": "https://api.github.com/repos/certbot/certbot/labels/priority:%20high", "name": "priority: high", "color": "5319e7", "default": false, "description": "Issues that should be included in the current milestone if at all possible."}], "state": "closed", "locked": false, "assignee": {"login": "adferrand", "id": 9728851, "node_id": "MDQ6VXNlcjk3Mjg4NTE=", "avatar_url": "https://avatars.githubusercontent.com/u/9728851?v=4", "gravatar_id": "", "url": "https://api.github.com/users/adferrand", "html_url": "https://github.com/adferrand", "followers_url": "https://api.github.com/users/adferrand/followers", "following_url": "https://api.github.com/users/adferrand/following{/other_user}", "gists_url": "https://api.github.com/users/adferrand/gists{/gist_id}", "starred_url": "https://api.github.com/users/adferrand/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/adferrand/subscriptions", "organizations_url": "https://api.github.com/users/adferrand/orgs", "repos_url": "https://api.github.com/users/adferrand/repos", "events_url": "https://api.github.com/users/adferrand/events{/privacy}", "received_events_url": "https://api.github.com/users/adferrand/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "adferrand", "id": 9728851, "node_id": "MDQ6VXNlcjk3Mjg4NTE=", "avatar_url": "https://avatars.githubusercontent.com/u/9728851?v=4", "gravatar_id": "", "url": "https://api.github.com/users/adferrand", "html_url": "https://github.com/adferrand", "followers_url": "https://api.github.com/users/adferrand/followers", "following_url": "https://api.github.com/users/adferrand/following{/other_user}", "gists_url": "https://api.github.com/users/adferrand/gists{/gist_id}", "starred_url": "https://api.github.com/users/adferrand/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/adferrand/subscriptions", "organizations_url": "https://api.github.com/users/adferrand/orgs", "repos_url": "https://api.github.com/users/adferrand/repos", "events_url": "https://api.github.com/users/adferrand/events{/privacy}", "received_events_url": "https://api.github.com/users/adferrand/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2021-05-04T16:40:33Z", "updated_at": "2021-05-17T17:22:48Z", "closed_at": "2021-05-17T17:22:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "## My operating system is (include version):\r\nWindows 2012 R2\r\n\r\n## I installed Certbot with (snap, OS package manager, pip, certbot-auto, etc):\r\n\r\nbeta download from website https://dl.eff.org/certbot-beta-installer-win32.exe\r\n\r\n\r\n## Certbot's behavior differed from what I expected because:\r\ncryptography problem, but depending on actual version can be different\r\n\r\n\r\nI use certbot only to generate certs, I install them myself on the webservers\r\n\r\nHad iirc 1.12 version installed, downloaded and installed 1.14 (? if thats' the current one) -- run into cryptography error. \r\nIf you had a different version then a different problem can be reported (i run some tests with a few older versions I had).\r\n\r\nBasically it seems that in my case /pkgs subfolder contained both versions of cryptography (2.8 and 3.4.5 iirc), which triggered an exception when running certbot. \r\n\r\nTLDR -- it seems installing a newer beta version by installer may cause a conflict in python installation. \r\n\r\nIn my case there was a relatively easy workaround: I deleted pkgs subfolder manually and run the installer again. After that it worked as expected. ", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/8824/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/8824/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/8746", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/8746/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/8746/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/8746/events", "html_url": "https://github.com/certbot/certbot/issues/8746", "id": 842347842, "node_id": "MDU6SXNzdWU4NDIzNDc4NDI=", "number": 8746, "title": "Single test failure with pytest 6.2.2", "user": {"login": "rmcgibbo", "id": 641278, "node_id": "MDQ6VXNlcjY0MTI3OA==", "avatar_url": "https://avatars.githubusercontent.com/u/641278?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rmcgibbo", "html_url": "https://github.com/rmcgibbo", "followers_url": "https://api.github.com/users/rmcgibbo/followers", "following_url": "https://api.github.com/users/rmcgibbo/following{/other_user}", "gists_url": "https://api.github.com/users/rmcgibbo/gists{/gist_id}", "starred_url": "https://api.github.com/users/rmcgibbo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rmcgibbo/subscriptions", "organizations_url": "https://api.github.com/users/rmcgibbo/orgs", "repos_url": "https://api.github.com/users/rmcgibbo/repos", "events_url": "https://api.github.com/users/rmcgibbo/events{/privacy}", "received_events_url": "https://api.github.com/users/rmcgibbo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 263357278, "node_id": "MDU6TGFiZWwyNjMzNTcyNzg=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20testing", "name": "area: testing", "color": "c5def5", "default": false, "description": null}, {"id": 281347824, "node_id": "MDU6TGFiZWwyODEzNDc4MjQ=", "url": "https://api.github.com/repos/certbot/certbot/labels/has%20pr", "name": "has pr", "color": "0052cc", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-03-26T23:02:43Z", "updated_at": "2021-04-05T22:50:12Z", "closed_at": "2021-04-05T22:50:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nI'm seeing an issue where the builds of certbot in nixpkgs (the package repository using the nix package manager) recently started failing on our CI.\r\n\r\nHere's a link which shows the status over time, and from there you can navigate to the individual log files: https://hydra.nixos.org/job/nixpkgs/trunk/python38Packages.certbot.x86_64-linux\r\n\r\nHere's one of the log files: https://nix-cache.s3.amazonaws.com/log/ih5zphxw85jzw1xg8h1ldjmqkc9sa18i-python3.8-certbot-1.12.0.drv\r\n\r\nNixpkgs generally stays extremely up-to-date with upstream package versions (although it looks like we were one version behind with certbot -- I've verified manually that the issue I'm reporting also seems to apply to the latest version). The certbot failures began to occur due to, I believe, our upgrade of pytest from 6.1.2. to 6.2.2.\r\n\r\nThe test error looks like this:\r\n```\r\npython3.8-certbot> ____________________________ MainTest.test_register ____________________________\r\npython3.8-certbot> cls = <class '_pytest.runner.CallInfo'>\r\npython3.8-certbot> func = <function call_runtest_hook.<locals>.<lambda> at 0x7ffff5493b80>\r\npython3.8-certbot> when = 'call'\r\npython3.8-certbot> reraise = (<class '_pytest.outcomes.Exit'>, <class 'KeyboardInterrupt'>)\r\npython3.8-certbot> @classmethod\r\npython3.8-certbot> def from_call(\r\npython3.8-certbot> cls,\r\npython3.8-certbot> func: \"Callable[[], TResult]\",\r\npython3.8-certbot> when: \"Literal['collect', 'setup', 'call', 'teardown']\",\r\npython3.8-certbot> reraise: Optional[\r\npython3.8-certbot> Union[Type[BaseException], Tuple[Type[BaseException], ...]]\r\npython3.8-certbot> ] = None,\r\npython3.8-certbot> ) -> \"CallInfo[TResult]\":\r\npython3.8-certbot> excinfo = None\r\npython3.8-certbot> start = timing.time()\r\npython3.8-certbot> precise_start = timing.perf_counter()\r\npython3.8-certbot> try:\r\npython3.8-certbot> >           result: Optional[TResult] = func()\r\npython3.8-certbot> /nix/store/wjyqgb6545zj0xs2iyp8kplvlshb5li7-python3.8-pytest-6.2.2/lib/python3.8/site-packages/_pytest/runner.py:311:\r\npython3.8-certbot> _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\r\npython3.8-certbot> /nix/store/wjyqgb6545zj0xs2iyp8kplvlshb5li7-python3.8-pytest-6.2.2/lib/python3.8/site-packages/_pytest/runner.py:255: in <lambda>\r\npython3.8-certbot> lambda: ihook(item=item, **kwds), when=when, reraise=reraise\r\npython3.8-certbot> /nix/store/d8gb6jh5y31zvi44mk6rqn2i7l6smwms-python3.8-pluggy-0.13.1/lib/python3.8/site-packages/pluggy/hooks.py:286: in __call__\r\npython3.8-certbot> return self._hookexec(self, self.get_hookimpls(), kwargs)\r\npython3.8-certbot> /nix/store/d8gb6jh5y31zvi44mk6rqn2i7l6smwms-python3.8-pluggy-0.13.1/lib/python3.8/site-packages/pluggy/manager.py:93: in _hookexec\r\npython3.8-certbot> return self._inner_hookexec(hook, methods, kwargs)\r\npython3.8-certbot> /nix/store/d8gb6jh5y31zvi44mk6rqn2i7l6smwms-python3.8-pluggy-0.13.1/lib/python3.8/site-packages/pluggy/manager.py:84: in <lambda>\r\npython3.8-certbot> self._inner_hookexec = lambda hook, methods, kwargs: hook.multicall(\r\npython3.8-certbot> /nix/store/wjyqgb6545zj0xs2iyp8kplvlshb5li7-python3.8-pytest-6.2.2/lib/python3.8/site-packages/_pytest/unraisableexception.py:88: in pytest_runtest_call\r\npython3.8-certbot> yield from unraisable_exception_runtest_hook()\r\npython3.8-certbot> _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\r\npython3.8-certbot> def unraisable_exception_runtest_hook() -> Generator[None, None, None]:\r\npython3.8-certbot> with catch_unraisable_exception() as cm:\r\npython3.8-certbot> yield\r\npython3.8-certbot> if cm.unraisable:\r\npython3.8-certbot> if cm.unraisable.err_msg is not None:\r\npython3.8-certbot> err_msg = cm.unraisable.err_msg\r\npython3.8-certbot> else:\r\npython3.8-certbot> err_msg = \"Exception ignored in\"\r\npython3.8-certbot> msg = f\"{err_msg}: {cm.unraisable.object!r}\\n\\n\"\r\npython3.8-certbot> msg += \"\".join(\r\npython3.8-certbot> traceback.format_exception(\r\npython3.8-certbot> cm.unraisable.exc_type,\r\npython3.8-certbot> cm.unraisable.exc_value,\r\npython3.8-certbot> cm.unraisable.exc_traceback,\r\npython3.8-certbot> )\r\npython3.8-certbot> )\r\npython3.8-certbot> >               warnings.warn(pytest.PytestUnraisableExceptionWarning(msg))\r\npython3.8-certbot> E               pytest.PytestUnraisableExceptionWarning: Exception ignored in: <_io.FileIO [closed]>\r\npython3.8-certbot> E               \r\npython3.8-certbot> E               Traceback (most recent call last):\r\npython3.8-certbot> E                 File \"/build/source/certbot/certbot/_internal/cli/__init__.py\", line 450, in prepare_and_parse_args\r\npython3.8-certbot> E                   helpful_parser = helpful\r\npython3.8-certbot> E               ResourceWarning: unclosed file <_io.TextIOWrapper name='/dev/null' mode='w' encoding='UTF-8'>\r\npython3.8-certbot> /nix/store/wjyqgb6545zj0xs2iyp8kplvlshb5li7-python3.8-pytest-6.2.2/lib/python3.8/site-packages/_pytest/unraisableexception.py:78: PytestUnraisableExceptionWarning\r\n```\r\n\r\nI just wanted to give ya'll a heads up. On our end we'll probably disable the test or downgrade pytest or something like that, and no specific help from you is necessary. But in case other users were seeing this issue when running the tests (or maybe will in the future once they upgrade pytest), I just wanted to flag it for you.", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/8746/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/8746/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/8720", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/8720/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/8720/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/8720/events", "html_url": "https://github.com/certbot/certbot/pull/8720", "id": 836339585, "node_id": "MDExOlB1bGxSZXF1ZXN0NTk2ODYxMTg4", "number": 8720, "title": "Fix linux-py39-cover test", "user": {"login": "ohemorange", "id": 1227205, "node_id": "MDQ6VXNlcjEyMjcyMDU=", "avatar_url": "https://avatars.githubusercontent.com/u/1227205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ohemorange", "html_url": "https://github.com/ohemorange", "followers_url": "https://api.github.com/users/ohemorange/followers", "following_url": "https://api.github.com/users/ohemorange/following{/other_user}", "gists_url": "https://api.github.com/users/ohemorange/gists{/gist_id}", "starred_url": "https://api.github.com/users/ohemorange/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ohemorange/subscriptions", "organizations_url": "https://api.github.com/users/ohemorange/orgs", "repos_url": "https://api.github.com/users/ohemorange/repos", "events_url": "https://api.github.com/users/ohemorange/events{/privacy}", "received_events_url": "https://api.github.com/users/ohemorange/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 263357278, "node_id": "MDU6TGFiZWwyNjMzNTcyNzg=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20testing", "name": "area: testing", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-03-19T20:30:59Z", "updated_at": "2021-03-23T19:04:39Z", "closed_at": "2021-03-19T21:27:29Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/certbot/certbot/pulls/8720", "html_url": "https://github.com/certbot/certbot/pull/8720", "diff_url": "https://github.com/certbot/certbot/pull/8720.diff", "patch_url": "https://github.com/certbot/certbot/pull/8720.patch", "merged_at": "2021-03-19T21:27:29Z"}, "body": "This was failing on master. These changes fix the issue, as shown by the test now passing: https://dev.azure.com/certbot/certbot/_build/results?buildId=3606&view=logs&j=24802871-fa51-53e8-3cb5-265cf7a30276\r\n\r\nI ran the full test suite just to check that we didn't accidentally mess up anything else, since the branch that these changes come from had quite a few other changes, so it'll probably take a bit for everything to finish.", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/8720/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/8720/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/certbot/certbot/issues/8680", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/8680/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/8680/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/8680/events", "html_url": "https://github.com/certbot/certbot/issues/8680", "id": 813656294, "node_id": "MDU6SXNzdWU4MTM2NTYyOTQ=", "number": 8680, "title": "New Let's Encrypt staging hierarchy isn't recognized as fake", "user": {"login": "mnordhoff", "id": 1025227, "node_id": "MDQ6VXNlcjEwMjUyMjc=", "avatar_url": "https://avatars.githubusercontent.com/u/1025227?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mnordhoff", "html_url": "https://github.com/mnordhoff", "followers_url": "https://api.github.com/users/mnordhoff/followers", "following_url": "https://api.github.com/users/mnordhoff/following{/other_user}", "gists_url": "https://api.github.com/users/mnordhoff/gists{/gist_id}", "starred_url": "https://api.github.com/users/mnordhoff/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mnordhoff/subscriptions", "organizations_url": "https://api.github.com/users/mnordhoff/orgs", "repos_url": "https://api.github.com/users/mnordhoff/repos", "events_url": "https://api.github.com/users/mnordhoff/events{/privacy}", "received_events_url": "https://api.github.com/users/mnordhoff/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 263357278, "node_id": "MDU6TGFiZWwyNjMzNTcyNzg=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20testing", "name": "area: testing", "color": "c5def5", "default": false, "description": null}, {"id": 1226192284, "node_id": "MDU6TGFiZWwxMjI2MTkyMjg0", "url": "https://api.github.com/repos/certbot/certbot/labels/priority:%20high", "name": "priority: high", "color": "5319e7", "default": false, "description": "Issues that should be included in the current milestone if at all possible."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-02-22T16:27:45Z", "updated_at": "2021-02-24T22:51:58Z", "closed_at": "2021-02-24T22:51:58Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "## My operating system is (include version):\r\nUbuntu 20.04 (amd64)\r\n\r\n## I installed Certbot with (certbot-auto, OS package manager, pip, etc):\r\nsnap\r\n\r\n## I ran this command and it produced this output:\r\n```\r\n$ sudo certbot certonly --standalone --staging -d example.mattnordhoff.net\r\nSaving debug log to /var/log/letsencrypt/letsencrypt.log\r\nPlugins selected: Authenticator standalone, Installer None\r\nRequesting a certificate for example.mattnordhoff.net\r\nPerforming the following challenges:\r\nhttp-01 challenge for example.mattnordhoff.net\r\nWaiting for verification...\r\nCleaning up challenges\r\n\r\nIMPORTANT NOTES:\r\n - Congratulations! Your certificate and chain have been saved at:\r\n   /etc/letsencrypt/live/example.mattnordhoff.net/fullchain.pem\r\n   Your key file has been saved at:\r\n   /etc/letsencrypt/live/example.mattnordhoff.net/privkey.pem\r\n   Your certificate will expire on 2021-05-23. To obtain a new or\r\n   tweaked version of this certificate in the future, simply run\r\n   certbot again. To non-interactively renew *all* of your\r\n   certificates, run \"certbot renew\"\r\n$ sudo certbot renew --cert-name example.mattnordhoff.net --force-renewal\r\nSaving debug log to /var/log/letsencrypt/letsencrypt.log\r\n\r\n- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\r\nProcessing /etc/letsencrypt/renewal/example.mattnordhoff.net.conf\r\n- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\r\nPlugins selected: Authenticator standalone, Installer None\r\nRenewing an existing certificate for example.mattnordhoff.net\r\nFailed to renew certificate example.mattnordhoff.net with error: You've asked to renew/replace a seemingly valid certificate with a test certificate (domains: example.mattnordhoff.net). We will not do that unless you use the --break-my-certs flag!\r\n\r\n- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\r\nAll renewals failed. The following certificates could not be renewed:\r\n  /etc/letsencrypt/live/example.mattnordhoff.net/fullchain.pem (failure)\r\n- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\r\n1 renew failure(s), 0 parse failure(s)\r\n$ sudo certbot certificates\r\nSaving debug log to /var/log/letsencrypt/letsencrypt.log\r\n\r\n- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\r\nFound the following certs:\r\n  Certificate Name: example.mattnordhoff.net\r\n    Serial Number: fa0e796baf11f5365ad72886817d4a47a177\r\n    Key Type: RSA\r\n    Domains: example.mattnordhoff.net\r\n    Expiry Date: 2021-05-23 15:07:06+00:00 (INVALID: TEST_CERT)\r\n    Certificate Path: /etc/letsencrypt/live/example.mattnordhoff.net/fullchain.pem\r\n    Private Key Path: /etc/letsencrypt/live/example.mattnordhoff.net/privkey.pem\r\n- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\r\n$ sudo certbot renew --break-my-certs --cert-name example.mattnordhoff.net --force-renewal\r\nSaving debug log to /var/log/letsencrypt/letsencrypt.log\r\n\r\n- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\r\nProcessing /etc/letsencrypt/renewal/example.mattnordhoff.net.conf\r\n- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\r\nPlugins selected: Authenticator standalone, Installer None\r\nRenewing an existing certificate for example.mattnordhoff.net\r\n\r\n- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\r\nnew certificate deployed without reload, fullchain is\r\n/etc/letsencrypt/live/example.mattnordhoff.net/fullchain.pem\r\n- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\r\n\r\n- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\r\nCongratulations, all renewals succeeded:\r\n  /etc/letsencrypt/live/example.mattnordhoff.net/fullchain.pem (success)\r\n- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\r\n```\r\n\r\n## Certbot's behavior differed from what I expected because:\r\nCertbot required `--break-my-certs` to renew a Let's Encrypt staging certificate.\r\n\r\n## Here is a Certbot log showing the issue (if available):\r\n###### Logs are stored in `/var/log/letsencrypt` by default. Feel free to redact domains, e-mail and IP addresses as you see fit.\r\n1. `certbot certonly`...: https://mn0.us/pin5jVrpgjgz/letsencrypt.log.3.txt\r\n2. `certbot renew --cert-name example.mattnordhoff.net`...: https://mn0.us/nwb0ynUZfyAt/letsencrypt.log.2.txt\r\n4. `certbot renew --break-my-certs`...: https://mn0.us/04jX8Fya3cuP/letsencrypt.log.txt\r\n\r\n## Here is the relevant nginx server block or Apache virtualhost for the domain I am configuring:\r\nN/A\r\n\r\n---\r\n\r\nLet's Encrypt's new staging certificate hierarchy, documented on the [staging environment page](https://letsencrypt.org/docs/staging-environment/), uses \"(STAGING)\" in the root and intermediate certificate names, but no longer uses the word \"Fake\".\r\n\r\nCertbot has two methods of recognizing staging certificates -- one looks for \"staging\" in the URL, and the other looks for \"fake\" in the lowercased issuer name. The latter no longer matches.\r\n\r\nhttps://github.com/certbot/certbot/blob/v1.12.0/certbot/certbot/_internal/renewal.py#L318", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/8680/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/8680/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/8597", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/8597/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/8597/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/8597/events", "html_url": "https://github.com/certbot/certbot/issues/8597", "id": 782592906, "node_id": "MDU6SXNzdWU3ODI1OTI5MDY=", "number": 8597, "title": "Error: This security ID may not be assigned as the owner of this object", "user": {"login": "marveloo", "id": 36376767, "node_id": "MDQ6VXNlcjM2Mzc2NzY3", "avatar_url": "https://avatars.githubusercontent.com/u/36376767?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marveloo", "html_url": "https://github.com/marveloo", "followers_url": "https://api.github.com/users/marveloo/followers", "following_url": "https://api.github.com/users/marveloo/following{/other_user}", "gists_url": "https://api.github.com/users/marveloo/gists{/gist_id}", "starred_url": "https://api.github.com/users/marveloo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marveloo/subscriptions", "organizations_url": "https://api.github.com/users/marveloo/orgs", "repos_url": "https://api.github.com/users/marveloo/repos", "events_url": "https://api.github.com/users/marveloo/events{/privacy}", "received_events_url": "https://api.github.com/users/marveloo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 277074172, "node_id": "MDU6TGFiZWwyNzcwNzQxNzI=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20acme", "name": "area: acme", "color": "c5def5", "default": false, "description": null}, {"id": 281347824, "node_id": "MDU6TGFiZWwyODEzNDc4MjQ=", "url": "https://api.github.com/repos/certbot/certbot/labels/has%20pr", "name": "has pr", "color": "0052cc", "default": false, "description": null}, {"id": 588396942, "node_id": "MDU6TGFiZWw1ODgzOTY5NDI=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20windows", "name": "area: windows", "color": "c5def5", "default": false, "description": null}, {"id": 1923192304, "node_id": "MDU6TGFiZWwxOTIzMTkyMzA0", "url": "https://api.github.com/repos/certbot/certbot/labels/priority:%20significant", "name": "priority: significant", "color": "5319e7", "default": false, "description": "Issues with higher than average priority that do not need to be in the current milestone."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2021-01-09T11:57:49Z", "updated_at": "2021-05-05T10:35:20Z", "closed_at": "2021-01-13T22:38:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "Operating system: Windows Server 2008 R2\r\nCertbot version: 1.11.0 (installed via Certbot installer for Windows)\r\nWeb server: IIS 7.5\r\n<hr>\r\n\r\nI tried to obtain a certificate by running the following in the Command Prompt (with administrative rights):\r\n\r\n```\r\nC:\\Users\\Administrator>certbot certonly --webroot -w \"C:\\inetpub\\wwwroot\" -d mail.example.com\r\nSaving debug log to C:\\Certbot\\log\\letsencrypt.log\r\nPlugins selected: Authenticator webroot, Installer None\r\nRequesting a certificate for mail.example.com\r\nPerforming the following challenges:\r\nhttp-01 challenge for mail.example.com\r\nUsing the webroot path C:\\inetpub\\wwwroot for all unmatched domains.\r\nCleaning up challenges\r\n\u2190[31mEncountered exception during recovery: FileNotFoundError: [WinError 3] The system cannot find the path specified: 'C:\\\\inetpub\\\\wwwroot\\\\.well-known/acme-challenge\\\\G_ZWXtNYqJG3gNUTTcu5aEdAZSldFeiLn57WHGgrfDg'\u2190[0m\r\n\u2190[31mAn unexpected error occurred:\u2190[0m\r\n\u2190[31mpywintypes.error: (1307, 'SetFileSecurity', 'This security ID may not be assigned as the owner of this object.')\u2190[0m\r\nPlease see the logfiles in C:\\Certbot\\log for more details.\r\n```\r\n\r\nThis also produced an empty `.well-known` folder in `C:\\inetpub\\wwwroot`.\r\n\r\nHere we have the contents of `C:\\Certbot\\log\\letsencrypt.log`:\r\n\r\n```\r\n2021-01-09 12:56:01,293:DEBUG:certbot._internal.main:certbot version: 1.11.0\r\n2021-01-09 12:56:01,293:DEBUG:certbot._internal.main:Location of certbot entry point: C:\\Program Files (x86)\\Certbot\\bin\\certbot.exe\r\n2021-01-09 12:56:01,293:DEBUG:certbot._internal.main:Arguments: ['--webroot', '-w', 'C:\\\\inetpub\\\\wwwroot', '-d', 'mail.example.com']\r\n2021-01-09 12:56:01,293:DEBUG:certbot._internal.main:Discovered plugins: PluginsRegistry(PluginEntryPoint#manual,PluginEntryPoint#null,PluginEntryPoint#standalone,PluginEntryPoint#webroot)\r\n2021-01-09 12:56:01,340:DEBUG:certbot._internal.log:Root logging level set at 20\r\n2021-01-09 12:56:01,340:INFO:certbot._internal.log:Saving debug log to C:\\Certbot\\log\\letsencrypt.log\r\n2021-01-09 12:56:01,356:DEBUG:certbot._internal.plugins.selection:Requested authenticator webroot and installer None\r\n2021-01-09 12:56:01,356:DEBUG:certbot._internal.plugins.selection:Single candidate plugin: * webroot\r\nDescription: Place files in webroot directory\r\nInterfaces: IAuthenticator, IPlugin\r\nEntry point: webroot = certbot._internal.plugins.webroot:Authenticator\r\nInitialized: <certbot._internal.plugins.webroot.Authenticator object at 0x03A0F430>\r\nPrep: True\r\n2021-01-09 12:56:01,371:DEBUG:certbot._internal.plugins.selection:Selected authenticator <certbot._internal.plugins.webroot.Authenticator object at 0x03A0F430> and installer None\r\n2021-01-09 12:56:01,371:INFO:certbot._internal.plugins.selection:Plugins selected: Authenticator webroot, Installer None\r\n2021-01-09 12:56:01,371:DEBUG:certbot._internal.main:Picked account: <Account(RegistrationResource(body=Registration(key=None, contact=(), agreement=None, status=None, terms_of_service_agreed=None, only_return_existing=None, external_account_binding=None), uri='https://acme-v02.api.letsencrypt.org/acme/acct/108823696', new_authzr_uri=None, terms_of_service=None), 0e7468aa374bd9e2f4cea22ce01658fd, Meta(creation_dt=datetime.datetime(2021, 1, 8, 23, 49, 36, tzinfo=<UTC>), creation_host='WIN-12345678901', register_to_eff=None))>\r\n2021-01-09 12:56:01,371:DEBUG:acme.client:Sending GET request to https://acme-v02.api.letsencrypt.org/directory.\r\n2021-01-09 12:56:01,387:DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): acme-v02.api.letsencrypt.org:443\r\n2021-01-09 12:56:02,089:DEBUG:urllib3.connectionpool:https://acme-v02.api.letsencrypt.org:443 \"GET /directory HTTP/1.1\" 200 658\r\n2021-01-09 12:56:02,089:DEBUG:acme.client:Received response:\r\nHTTP 200\r\nServer: nginx\r\nDate: Sat, 09 Jan 2021 10:56:04 GMT\r\nContent-Type: application/json\r\nContent-Length: 658\r\nConnection: keep-alive\r\nCache-Control: public, max-age=0, no-cache\r\nX-Frame-Options: DENY\r\nStrict-Transport-Security: max-age=604800\r\n\r\n{\r\n  \"WV94tc0c-mw\": \"https://community.letsencrypt.org/t/adding-random-entries-to-the-directory/33417\",\r\n  \"keyChange\": \"https://acme-v02.api.letsencrypt.org/acme/key-change\",\r\n  \"meta\": {\r\n    \"caaIdentities\": [\r\n      \"letsencrypt.org\"\r\n    ],\r\n    \"termsOfService\": \"https://letsencrypt.org/documents/LE-SA-v1.2-November-15-2017.pdf\",\r\n    \"website\": \"https://letsencrypt.org\"\r\n  },\r\n  \"newAccount\": \"https://acme-v02.api.letsencrypt.org/acme/new-acct\",\r\n  \"newNonce\": \"https://acme-v02.api.letsencrypt.org/acme/new-nonce\",\r\n  \"newOrder\": \"https://acme-v02.api.letsencrypt.org/acme/new-order\",\r\n  \"revokeCert\": \"https://acme-v02.api.letsencrypt.org/acme/revoke-cert\"\r\n}\r\n2021-01-09 12:56:02,089:DEBUG:certbot.display.util:Notifying user: Requesting a certificate for mail.example.com\r\n2021-01-09 12:56:02,292:DEBUG:certbot.crypto_util:Generating RSA key (2048 bits): C:\\Certbot\\keys\\0002_key-certbot.pem\r\n2021-01-09 12:56:02,307:DEBUG:certbot.crypto_util:Creating CSR: C:\\Certbot\\csr\\0002_csr-certbot.pem\r\n2021-01-09 12:56:02,323:DEBUG:acme.client:Requesting fresh nonce\r\n2021-01-09 12:56:02,323:DEBUG:acme.client:Sending HEAD request to https://acme-v02.api.letsencrypt.org/acme/new-nonce.\r\n2021-01-09 12:56:02,495:DEBUG:urllib3.connectionpool:https://acme-v02.api.letsencrypt.org:443 \"HEAD /acme/new-nonce HTTP/1.1\" 200 0\r\n2021-01-09 12:56:02,495:DEBUG:acme.client:Received response:\r\nHTTP 200\r\nServer: nginx\r\nDate: Sat, 09 Jan 2021 10:56:04 GMT\r\nConnection: keep-alive\r\nCache-Control: public, max-age=0, no-cache\r\nLink: <https://acme-v02.api.letsencrypt.org/directory>;rel=\"index\"\r\nReplay-Nonce: 0103YUkTf_LUykqmKEDSR9zR3Tda8BKiETA4aCDAM6RqQIU\r\nX-Frame-Options: DENY\r\nStrict-Transport-Security: max-age=604800\r\n\r\n\r\n2021-01-09 12:56:02,495:DEBUG:acme.client:Storing nonce: 0103YUkTf_LUykqmKEDSR9zR3Tda8BKiETA4aCDAM6RqQIU\r\n2021-01-09 12:56:02,495:DEBUG:acme.client:JWS payload:\r\nb'{\\n  \"identifiers\": [\\n    {\\n      \"type\": \"dns\",\\n      \"value\": \"mail.example.com\"\\n    }\\n  ]\\n}'\r\n2021-01-09 12:56:02,510:DEBUG:acme.client:Sending POST request to https://acme-v02.api.letsencrypt.org/acme/new-order:\r\n{\r\n  \"protected\": \"eyJhbGciOiAiUlMyNTYiLCAia2lkIjogImh0dHBzOi8vYWNtZS12MDIuYXBpLmxldHNlbmNyeXB0Lm9yZy9hY21lL2FjY3QvMTA4ODIzNjk2IiwgIm5vbmNlIjogIjAxMDNZVWtUZl9MVXlrcW1LRURTUjl6UjNUZGE4QktpRVRBNGFDREFNNlJxUUlVIiwgInVybCI6ICJodHRwczovL2FjbWUtdjAyLmFwaS5sZXRzZW5jcnlwdC5vcmcvYWNtZS9uZXctb3JkZXIifQ\",\r\n  \"signature\": \"DSl8GkfSNfhK02tO4nWkHCQTk0GShIx8oJHMIM3KoGqnoTwPFZDn2sTRLpwlf2IQNDRcUkb3hlcsg4rr3uevJVsUQiRPf0Y4ODxe98mFa6s03vO21nzsBr0QO2qOFyJu24tAMxfb7SSeEnVEwc792c32Tx4XihMaIjXq6VtaaNpIvteJNX7MssJtXbMpXUcXKmGDkX3jmnKLvQx9f_PosBhl0x7H7vr4pZiuBxEQPRUSnb0ZBLgOwKs5H2Fa3UfXim-CC30CFmMoEg3OlrhH93g7cYrwXJf9x1xU3uARhYJMOXgzYlgjKASS-YgYEdRlcVgf9R_Am3Roea1IpQd7oA\",\r\n  \"payload\": \"ewogICJpZGVudGlmaWVycyI6IFsKICAgIHsKICAgICAgInR5cGUiOiAiZG5zIiwKICAgICAgInZhbHVlIjogIm1haWwuanVsaW5ndWEuY29tIgogICAgfQogIF0KfQ\"\r\n}\r\n2021-01-09 12:56:02,713:DEBUG:urllib3.connectionpool:https://acme-v02.api.letsencrypt.org:443 \"POST /acme/new-order HTTP/1.1\" 201 338\r\n2021-01-09 12:56:02,713:DEBUG:acme.client:Received response:\r\nHTTP 201\r\nServer: nginx\r\nDate: Sat, 09 Jan 2021 10:56:05 GMT\r\nContent-Type: application/json\r\nContent-Length: 338\r\nConnection: keep-alive\r\nBoulder-Requester: 108823696\r\nCache-Control: public, max-age=0, no-cache\r\nLink: <https://acme-v02.api.letsencrypt.org/directory>;rel=\"index\"\r\nLocation: https://acme-v02.api.letsencrypt.org/acme/order/108823696/7203976924\r\nReplay-Nonce: 0103BjmnxIkgcdMLvdBuEs2Eyb69vqiXCTLcdRx_5ZOC1MM\r\nX-Frame-Options: DENY\r\nStrict-Transport-Security: max-age=604800\r\n\r\n{\r\n  \"status\": \"pending\",\r\n  \"expires\": \"2021-01-15T23:50:47Z\",\r\n  \"identifiers\": [\r\n    {\r\n      \"type\": \"dns\",\r\n      \"value\": \"mail.example.com\"\r\n    }\r\n  ],\r\n  \"authorizations\": [\r\n    \"https://acme-v02.api.letsencrypt.org/acme/authz-v3/9929299852\"\r\n  ],\r\n  \"finalize\": \"https://acme-v02.api.letsencrypt.org/acme/finalize/108823696/7203976924\"\r\n}\r\n2021-01-09 12:56:02,713:DEBUG:acme.client:Storing nonce: 0103BjmnxIkgcdMLvdBuEs2Eyb69vqiXCTLcdRx_5ZOC1MM\r\n2021-01-09 12:56:02,713:DEBUG:acme.client:JWS payload:\r\nb''\r\n2021-01-09 12:56:02,729:DEBUG:acme.client:Sending POST request to https://acme-v02.api.letsencrypt.org/acme/authz-v3/9929299852:\r\n{\r\n  \"protected\": \"eyJhbGciOiAiUlMyNTYiLCAia2lkIjogImh0dHBzOi8vYWNtZS12MDIuYXBpLmxldHNlbmNyeXB0Lm9yZy9hY21lL2FjY3QvMTA4ODIzNjk2IiwgIm5vbmNlIjogIjAxMDNCam1ueElrZ2NkTUx2ZEJ1RXMyRXliNjl2cWlYQ1RMY2RSeF81Wk9DMU1NIiwgInVybCI6ICJodHRwczovL2FjbWUtdjAyLmFwaS5sZXRzZW5jcnlwdC5vcmcvYWNtZS9hdXRoei12My85OTI5Mjk5ODUyIn0\",\r\n  \"signature\": \"MCoXoiraSUaWfs1QLaW73-b6DNOlJrFQPnzDs-SRItCNr7UwJh5dFfy0yp7J6IWhpp_pRRKIgCBBouk7sOE35snBNMdLHGJfFV83KX_E55hmff-FPq5-PPQkoggcMSdVETbcq-xCuiwTpAzpZl54SpVztXyABP9MALSCYd5ynl4vshKXl-kmnQbyDoBb57PLIiIBN89zM6Vz92IlPY1hCfCaTk4Vlw0q0iEDDjtGjI9H55unUu2GbA4ntl4dBQslzlr5_4vZP3Ww028-wZ-Y4IsEMYrIH-a7YTKpdT61eTjUuHnWCHQG5G7DCvOU7HXrOu0SZ2_VF9183jEFY77WAA\",\r\n  \"payload\": \"\"\r\n}\r\n2021-01-09 12:56:02,931:DEBUG:urllib3.connectionpool:https://acme-v02.api.letsencrypt.org:443 \"POST /acme/authz-v3/9929299852 HTTP/1.1\" 200 795\r\n2021-01-09 12:56:02,931:DEBUG:acme.client:Received response:\r\nHTTP 200\r\nServer: nginx\r\nDate: Sat, 09 Jan 2021 10:56:05 GMT\r\nContent-Type: application/json\r\nContent-Length: 795\r\nConnection: keep-alive\r\nBoulder-Requester: 108823696\r\nCache-Control: public, max-age=0, no-cache\r\nLink: <https://acme-v02.api.letsencrypt.org/directory>;rel=\"index\"\r\nReplay-Nonce: 0103bDmFREprqZZOLr1wfG4nZPwIOPr9OsWl9u7ezjnM4Xs\r\nX-Frame-Options: DENY\r\nStrict-Transport-Security: max-age=604800\r\n\r\n{\r\n  \"identifier\": {\r\n    \"type\": \"dns\",\r\n    \"value\": \"mail.example.com\"\r\n  },\r\n  \"status\": \"pending\",\r\n  \"expires\": \"2021-01-15T23:50:47Z\",\r\n  \"challenges\": [\r\n    {\r\n      \"type\": \"http-01\",\r\n      \"status\": \"pending\",\r\n      \"url\": \"https://acme-v02.api.letsencrypt.org/acme/chall-v3/9929299852/gf7IeA\",\r\n      \"token\": \"G_ZWXtNYqJG3gNUTTcu5aEdAZSldFeiLn57WHGgrfDg\"\r\n    },\r\n    {\r\n      \"type\": \"dns-01\",\r\n      \"status\": \"pending\",\r\n      \"url\": \"https://acme-v02.api.letsencrypt.org/acme/chall-v3/9929299852/_OSUBw\",\r\n      \"token\": \"G_ZWXtNYqJG3gNUTTcu5aEdAZSldFeiLn57WHGgrfDg\"\r\n    },\r\n    {\r\n      \"type\": \"tls-alpn-01\",\r\n      \"status\": \"pending\",\r\n      \"url\": \"https://acme-v02.api.letsencrypt.org/acme/chall-v3/9929299852/rh4CXA\",\r\n      \"token\": \"G_ZWXtNYqJG3gNUTTcu5aEdAZSldFeiLn57WHGgrfDg\"\r\n    }\r\n  ]\r\n}\r\n2021-01-09 12:56:02,931:DEBUG:acme.client:Storing nonce: 0103bDmFREprqZZOLr1wfG4nZPwIOPr9OsWl9u7ezjnM4Xs\r\n2021-01-09 12:56:02,947:INFO:certbot._internal.auth_handler:Performing the following challenges:\r\n2021-01-09 12:56:02,947:INFO:certbot._internal.auth_handler:http-01 challenge for mail.example.com\r\n2021-01-09 12:56:02,947:INFO:certbot._internal.plugins.webroot:Using the webroot path C:\\inetpub\\wwwroot for all unmatched domains.\r\n2021-01-09 12:56:02,947:DEBUG:certbot._internal.plugins.webroot:Creating root challenges validation dir at C:\\inetpub\\wwwroot\\.well-known/acme-challenge\r\n2021-01-09 12:56:02,947:DEBUG:certbot._internal.error_handler:Encountered exception:\r\nTraceback (most recent call last):\r\n  File \"C:\\Program Files (x86)\\Certbot\\pkgs\\certbot\\_internal\\auth_handler.py\", line 70, in handle_authorizations\r\n    resps = self.auth.perform(achalls)\r\n  File \"C:\\Program Files (x86)\\Certbot\\pkgs\\certbot\\_internal\\plugins\\webroot.py\", line 83, in perform\r\n    self._create_challenge_dirs()\r\n  File \"C:\\Program Files (x86)\\Certbot\\pkgs\\certbot\\_internal\\plugins\\webroot.py\", line 185, in _create_challenge_dirs\r\n    path, prefix, 0o755, copy_user=True, copy_group=True)\r\n  File \"C:\\Program Files (x86)\\Certbot\\pkgs\\certbot\\compat\\filesystem.py\", line 110, in copy_ownership_and_apply_mode\r\n    _copy_win_ownership(src, dst)\r\n  File \"C:\\Program Files (x86)\\Certbot\\pkgs\\certbot\\compat\\filesystem.py\", line 622, in _copy_win_ownership\r\n    win32security.SetFileSecurity(dst, win32security.OWNER_SECURITY_INFORMATION, security_dst)\r\npywintypes.error: (1307, 'SetFileSecurity', 'This security ID may not be assigned as the owner of this object.')\r\n\r\n2021-01-09 12:56:02,947:DEBUG:certbot._internal.error_handler:Calling registered functions\r\n2021-01-09 12:56:02,947:INFO:certbot._internal.auth_handler:Cleaning up challenges\r\n2021-01-09 12:56:02,947:DEBUG:certbot._internal.plugins.webroot:Removing C:\\inetpub\\wwwroot\\.well-known/acme-challenge\\G_ZWXtNYqJG3gNUTTcu5aEdAZSldFeiLn57WHGgrfDg\r\n2021-01-09 12:56:02,947:ERROR:certbot._internal.error_handler:Encountered exception during recovery: FileNotFoundError: [WinError 3] The system cannot find the path specified: 'C:\\\\inetpub\\\\wwwroot\\\\.well-known/acme-challenge\\\\G_ZWXtNYqJG3gNUTTcu5aEdAZSldFeiLn57WHGgrfDg'\r\n2021-01-09 12:56:02,947:DEBUG:certbot._internal.log:Exiting abnormally:\r\nTraceback (most recent call last):\r\n  File \"D:\\obj\\windows-release\\37win32_Release\\msi_python\\zip_win32\\runpy.py\", line 193, in _run_module_as_main\r\n  File \"D:\\obj\\windows-release\\37win32_Release\\msi_python\\zip_win32\\runpy.py\", line 85, in _run_code\r\n  File \"C:\\Program Files (x86)\\Certbot\\bin\\certbot.exe\\__main__.py\", line 33, in <module>\r\n    sys.exit(main())\r\n  File \"C:\\Program Files (x86)\\Certbot\\pkgs\\certbot\\main.py\", line 15, in main\r\n    return internal_main.main(cli_args)\r\n  File \"C:\\Program Files (x86)\\Certbot\\pkgs\\certbot\\_internal\\main.py\", line 1421, in main\r\n    return config.func(config, plugins)\r\n  File \"C:\\Program Files (x86)\\Certbot\\pkgs\\certbot\\_internal\\main.py\", line 1294, in certonly\r\n    lineage = _get_and_save_cert(le_client, config, domains, certname, lineage)\r\n  File \"C:\\Program Files (x86)\\Certbot\\pkgs\\certbot\\_internal\\main.py\", line 135, in _get_and_save_cert\r\n    lineage = le_client.obtain_and_enroll_certificate(domains, certname)\r\n  File \"C:\\Program Files (x86)\\Certbot\\pkgs\\certbot\\_internal\\client.py\", line 441, in obtain_and_enroll_certificate\r\n    cert, chain, key, _ = self.obtain_certificate(domains)\r\n  File \"C:\\Program Files (x86)\\Certbot\\pkgs\\certbot\\_internal\\client.py\", line 374, in obtain_certificate\r\n    orderr = self._get_order_and_authorizations(csr.data, self.config.allow_subset_of_names)\r\n  File \"C:\\Program Files (x86)\\Certbot\\pkgs\\certbot\\_internal\\client.py\", line 421, in _get_order_and_authorizations\r\n    authzr = self.auth_handler.handle_authorizations(orderr, best_effort)\r\n  File \"C:\\Program Files (x86)\\Certbot\\pkgs\\certbot\\_internal\\auth_handler.py\", line 70, in handle_authorizations\r\n    resps = self.auth.perform(achalls)\r\n  File \"C:\\Program Files (x86)\\Certbot\\pkgs\\certbot\\_internal\\plugins\\webroot.py\", line 83, in perform\r\n    self._create_challenge_dirs()\r\n  File \"C:\\Program Files (x86)\\Certbot\\pkgs\\certbot\\_internal\\plugins\\webroot.py\", line 185, in _create_challenge_dirs\r\n    path, prefix, 0o755, copy_user=True, copy_group=True)\r\n  File \"C:\\Program Files (x86)\\Certbot\\pkgs\\certbot\\compat\\filesystem.py\", line 110, in copy_ownership_and_apply_mode\r\n    _copy_win_ownership(src, dst)\r\n  File \"C:\\Program Files (x86)\\Certbot\\pkgs\\certbot\\compat\\filesystem.py\", line 622, in _copy_win_ownership\r\n    win32security.SetFileSecurity(dst, win32security.OWNER_SECURITY_INFORMATION, security_dst)\r\npywintypes.error: (1307, 'SetFileSecurity', 'This security ID may not be assigned as the owner of this object.')\r\n2021-01-09 12:56:02,947:ERROR:certbot._internal.log:An unexpected error occurred:\r\n2021-01-09 12:56:02,947:ERROR:certbot._internal.log:pywintypes.error: (1307, 'SetFileSecurity', 'This security ID may not be assigned as the owner of this object.')\r\n\r\n```\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/8597/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/8597/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/8595", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/8595/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/8595/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/8595/events", "html_url": "https://github.com/certbot/certbot/issues/8595", "id": 782368685, "node_id": "MDU6SXNzdWU3ODIzNjg2ODU=", "number": 8595, "title": "Certbot disallows email addresses containing !", "user": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 272789317, "node_id": "MDU6TGFiZWwyNzI3ODkzMTc=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20error%20handling", "name": "area: error handling", "color": "c5def5", "default": false, "description": null}, {"id": 1226192732, "node_id": "MDU6TGFiZWwxMjI2MTkyNzMy", "url": "https://api.github.com/repos/certbot/certbot/labels/priority:%20unplanned", "name": "priority: unplanned", "color": "5319e7", "default": false, "description": "Work that we believe should be done, but does not have a higher priority."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-01-08T20:11:10Z", "updated_at": "2022-11-18T18:23:40Z", "closed_at": "2022-11-18T18:23:40Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "See https://community.letsencrypt.org/t/certbot-doesnt-seem-to-allow-mail-groups-mailgroup-foo-com/142296. Certbot prevents the user from providing an email address containing ! when it is entered interactively. Setting the email address on the command line with `--email` seems to work just fine.\r\n\r\nThe problem here is https://github.com/certbot/certbot/blob/434ca1985f26b08de18728e70e86813f357f6b65/certbot/certbot/util.py#L431\r\n\r\nPer https://tools.ietf.org/html/rfc5322, a ! character in an email address seems to be allowed and Boulder accepts it if Certbot is modified to do so.\r\n\r\nI also noticed that our regex looks remarkably similar to the Python regex at https://emailregex.com/ which appears to be simplified and not match all valid email addresses.\r\n\r\nTo fix this issue, I'd first look into git and GitHub history and see why we're validating email addresses on our end to begin with. Unless there is a good reason to do this and/or we can do this perfectly (or at least err on the side of trying to register email addresses which may be invalid), my initial thought is to stop validating email addresses in Certbot and just let the ACME server decide whether it'll accept it or not.", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/8595/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/8595/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/8569", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/8569/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/8569/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/8569/events", "html_url": "https://github.com/certbot/certbot/issues/8569", "id": 776922144, "node_id": "MDU6SXNzdWU3NzY5MjIxNDQ=", "number": 8569, "title": "certbot 1.10.1 fails to revoke ecdsa certificates using --cert-key", "user": {"login": "commonism", "id": 164513, "node_id": "MDQ6VXNlcjE2NDUxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/164513?v=4", "gravatar_id": "", "url": "https://api.github.com/users/commonism", "html_url": "https://github.com/commonism", "followers_url": "https://api.github.com/users/commonism/followers", "following_url": "https://api.github.com/users/commonism/following{/other_user}", "gists_url": "https://api.github.com/users/commonism/gists{/gist_id}", "starred_url": "https://api.github.com/users/commonism/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/commonism/subscriptions", "organizations_url": "https://api.github.com/users/commonism/orgs", "repos_url": "https://api.github.com/users/commonism/repos", "events_url": "https://api.github.com/users/commonism/events{/privacy}", "received_events_url": "https://api.github.com/users/commonism/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 210831837, "node_id": "MDU6TGFiZWwyMTA4MzE4Mzc=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20cert%20management", "name": "area: cert management", "color": "c5def5", "default": false, "description": null}, {"id": 277074172, "node_id": "MDU6TGFiZWwyNzcwNzQxNzI=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20acme", "name": "area: acme", "color": "c5def5", "default": false, "description": null}, {"id": 1923192304, "node_id": "MDU6TGFiZWwxOTIzMTkyMzA0", "url": "https://api.github.com/repos/certbot/certbot/labels/priority:%20significant", "name": "priority: significant", "color": "5319e7", "default": false, "description": "Issues with higher than average priority that do not need to be in the current milestone."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/103", "html_url": "https://github.com/certbot/certbot/milestone/103", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/103/labels", "id": 7469843, "node_id": "MI_kwDOAZSa8s4AcfsT", "number": 103, "title": "1.23.0", "description": "", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 6, "state": "closed", "created_at": "2021-12-08T16:44:50Z", "updated_at": "2022-02-08T16:16:50Z", "due_on": "2022-02-08T08:00:00Z", "closed_at": "2022-02-08T16:16:50Z"}, "comments": 3, "created_at": "2020-12-31T11:08:07Z", "updated_at": "2022-02-04T01:34:59Z", "closed_at": "2022-02-04T01:34:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nI'm with python3.8, certbot via pip, localhost ca.\r\n\r\ncertbot wants to sign the revocation with the certificate key.\r\nCurrent josepy lacks support for ecdsa, resulting in:\r\n```\r\n/tmp/cb/bin/certbot --non-interactive -c tmp/CertBotRSA2048EC256CA/certbot.ini --server http://localhost:8123/directory revoke --cert-path tmp/CertBotRSA2048EC256CA/etc/letsencrypt/live/f.localca2.test.de/cert.pem --key-path tmp/CertBotRSA2048EC256CA/etc/letsencrypt/live/f.localca2.test.de/privkey.pem\r\nSaving debug log to /tmp/certbot/logs/letsencrypt.log\r\nAn unexpected error occurred:\r\nTypeError: __init__() takes exactly the following arguments:  (key given)\r\nPlease see the logfiles in /tmp/certbot/logs for more details.\r\n```\r\n\r\nLogfile content:\r\n```\r\n2020-12-31 11:30:09,465:DEBUG:certbot._internal.main:certbot version: 1.10.1\r\n2020-12-31 11:30:09,466:DEBUG:certbot._internal.main:Arguments: ['--non-interactive', '-c', 'tmp/CertBotRSA2048EC256CA/certbot.ini', '--server', 'http://localhost:8123/directory', '--cert-path', 'tmp/CertBotRSA2048EC256CA/etc/letsencrypt/live/f.localca2.test.de/cert.pem', '--key-path', 'tmp/CertBotRSA2048EC256CA/etc/letsencrypt/live/f.localca2.test.de/privkey.pem']\r\n2020-12-31 11:30:09,466:DEBUG:certbot._internal.main:Discovered plugins: PluginsRegistry(PluginEntryPoint#manual,PluginEntryPoint#null,PluginEntryPoint#standalone,PluginEntryPoint#webroot)\r\n2020-12-31 11:30:09,478:DEBUG:certbot._internal.log:Root logging level set at 20\r\n2020-12-31 11:30:09,478:INFO:certbot._internal.log:Saving debug log to /tmp/certbot/logs/letsencrypt.log\r\n2020-12-31 11:30:09,479:DEBUG:certbot._internal.main:Revoking /srv/home/common/workspace/acme-broker/tests/tmp/CertBotRSA2048EC256CA/etc/letsencrypt/live/f.localca2.test.de/cert.pem using cert key /srv/home/common/workspace/acme-broker/tests/tmp/CertBotRSA2048EC256CA/etc/letsencrypt/live/f.localca2.test.de/privkey.pem\r\n2020-12-31 11:30:09,479:DEBUG:certbot._internal.log:Exiting abnormally:\r\nTraceback (most recent call last):\r\n  File \"/tmp/cb/bin/certbot\", line 8, in <module>\r\n    sys.exit(main())\r\n  File \"/tmp/cb/lib/python3.8/site-packages/certbot/main.py\", line 15, in main\r\n    return internal_main.main(cli_args)\r\n  File \"/tmp/cb/lib/python3.8/site-packages/certbot/_internal/main.py\", line 1412, in main\r\n    return config.func(config, plugins)\r\n  File \"/tmp/cb/lib/python3.8/site-packages/certbot/_internal/main.py\", line 1103, in revoke\r\n    key = jose.JWK.load(config.key_path[1])\r\n  File \"/tmp/cb/lib/python3.8/site-packages/josepy/jwk.py\", line 119, in load\r\n    return jwk_cls(key=key)\r\n  File \"/tmp/cb/lib/python3.8/site-packages/josepy/json_util.py\", line 217, in __init__\r\n    super(JSONObjectWithFields, self).__init__(\r\n  File \"/tmp/cb/lib/python3.8/site-packages/josepy/util.py\", line 150, in __init__\r\n    raise TypeError(\r\nTypeError: __init__() takes exactly the following arguments:  (key given)\r\n2020-12-31 11:30:09,480:ERROR:certbot._internal.log:An unexpected error occurred:\r\n2020-12-31 11:30:09,480:ERROR:certbot._internal.log:TypeError: __init__() takes exactly the following arguments:  (key given)\r\n```\r\n\r\nUsing the josepy patches https://github.com/certbot/josepy/pull/51 to provide ECDSA results in \u2026\r\n\r\n```\r\n\u2026\r\nSaving debug log to /tmp/certbot/logs/letsencrypt.log\r\nAn unexpected error occurred:\r\nAssertionError\r\nPlease see the logfiles in /tmp/certbot/logs for more details.\r\n```\r\n\r\n```\r\n2020-12-31 11:41:46,191:DEBUG:certbot._internal.main:certbot version: 1.10.1\r\n2020-12-31 11:41:46,191:DEBUG:certbot._internal.main:Arguments: ['--non-interactive', '-c', 'tmp/CertBotRSA2048EC256CA/certbot.ini', '--server', 'http://localhost:8123/directory', '--cert-path', 'tmp/CertBotRSA2048EC256CA/etc/letsencrypt/live/f.localca2.test.de/cert.pem', '--key-path', 'tmp/CertBotRSA2048EC256CA/etc/letsencrypt/live/f.localca2.test.de/privkey.pem']\r\n2020-12-31 11:41:46,191:DEBUG:certbot._internal.main:Discovered plugins: PluginsRegistry(PluginEntryPoint#manual,PluginEntryPoint#null,PluginEntryPoint#standalone,PluginEntryPoint#webroot)\r\n2020-12-31 11:41:46,202:DEBUG:certbot._internal.log:Root logging level set at 20\r\n2020-12-31 11:41:46,202:INFO:certbot._internal.log:Saving debug log to /tmp/certbot/logs/letsencrypt.log\r\n2020-12-31 11:41:46,203:DEBUG:certbot._internal.main:Revoking /srv/home/common/workspace/acme-broker/tests/tmp/CertBotRSA2048EC256CA/etc/letsencrypt/live/f.localca2.test.de/cert.pem using cert key /srv/home/common/workspace/acme-broker/tests/tmp/CertBotRSA2048EC256CA/etc/letsencrypt/live/f.localca2.test.de/privkey.pem\r\n2020-12-31 11:41:46,204:DEBUG:acme.client:Sending GET request to http://localhost:8123/directory.\r\n2020-12-31 11:41:46,205:DEBUG:urllib3.connectionpool:Starting new HTTP connection (1): localhost:8123\r\n2020-12-31 11:41:46,208:DEBUG:urllib3.connectionpool:http://localhost:8123 \"GET /directory HTTP/1.1\" 200 303\r\n2020-12-31 11:41:46,208:DEBUG:acme.client:Received response:\r\nHTTP 200\r\nContent-Type: application/json; charset=utf-8\r\nLink: <http://localhost:8123/directory>; rel=\"index\"\r\nReplay-Nonce: 45dc74fdb9bb426986fbfd9eecfdb310\r\nCache-Control: no-store\r\nContent-Length: 303\r\nDate: Thu, 31 Dec 2020 10:41:46 GMT\r\nServer: Python/3.8 aiohttp/3.6.3\r\n\r\n{\"newAccount\": \"http://localhost:8123/new-account\", \"newNonce\": \"http://localhost:8123/new-nonce\", \"newOrder\": \"http://localhost:8123/new-order\", \"revokeCert\": \"http://localhost:8123/revoke-cert\", \"meta\": {\"termsOfService\": \"https://tos.acmenoah.luis.uni-hannover.de\", \"externalAccountRequired\": false}}\r\n2020-12-31 11:41:46,209:DEBUG:certbot._internal.main:Reason code for revocation: 0\r\n2020-12-31 11:41:46,209:DEBUG:acme.client:Requesting fresh nonce\r\n2020-12-31 11:41:46,209:DEBUG:acme.client:Sending HEAD request to http://localhost:8123/new-nonce.\r\n2020-12-31 11:41:46,211:DEBUG:urllib3.connectionpool:http://localhost:8123 \"HEAD /new-nonce HTTP/1.1\" 204 0\r\n2020-12-31 11:41:46,211:DEBUG:acme.client:Received response:\r\nHTTP 204\r\nLink: <http://localhost:8123/directory>; rel=\"index\"\r\nReplay-Nonce: 552c6b3db96d4053916b1140eb5bd26c\r\nCache-Control: no-store\r\nContent-Length: 0\r\nContent-Type: application/octet-stream\r\nDate: Thu, 31 Dec 2020 10:41:46 GMT\r\nServer: Python/3.8 aiohttp/3.6.3\r\n\r\n\r\n2020-12-31 11:41:46,211:DEBUG:acme.client:Storing nonce: 552c6b3db96d4053916b1140eb5bd26c\r\n2020-12-31 11:41:46,212:DEBUG:acme.client:JWS payload:\r\nb'{\\n  \"certificate\": \"MIICcDCCAVigAwIBAgIUd_RypQd7JDUd2Zk0v0IGagz3Sf0wDQYJKoZIhvcNAQELBQAwXDELMAkGA1UEBhMCREUxFTATBgNVBAgMDExvd2VyIFNheG9ueTEQMA4GA1UEBwwHSGFub3ZlcjEUMBIGA1UECgwLQWNtZSBCcm9rZXIxDjAMBgNVBAcMBUFCIENBMB4XDTIwMTIzMDEwMzAwMFoXDTIxMDEyOTEwMzAwMFowHTEbMBkGA1UEAwwSZi5sb2NhbGNhMi50ZXN0LmRlMFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAEmTSaWScMRhmjhbg9oPpCwiO5WGJ6facr21q-MCRwQ7dcJeIC1adiEfbsWqFGB2xFxy3cc5ZepBNNPKxt0BjokqM0MDIwMAYDVR0RBCkwJ4ISZi5sb2NhbGNhMi50ZXN0LmRlghFmLmxvY2FsY2EudGVzdC5kZTANBgkqhkiG9w0BAQsFAAOCAQEARAhDyoTnQquUxBPw5i7PGuAQha1PZVkuEXrXZEw8ddfr6G8hoGzShGAI9nmffKj9nxsZleF_XcfEBrkgB0dvYa4t3NBnwb-RAjYHA5W49fdXyfiAJ1leldhM-zl_VKMZ3loDrb4rJwqjVZzVvLf7_85FK3_acDJlwT4zENWeZmIiY_Fw4SglW3B1FAbrmYsdNt--SBMcuDE0XgisgF3KzvGTOp77avwvWlw_u4yZXi9-xyjvfi6GMR1uNaKxYJ3GNftiimQH_S_f9MpM7-u0iXeR0PWbYlxL4KfmD0KlZ6PZN-ZVjsMpJHYBvzvfFGjr2MVQHnvjAv5SydeB6egcJA\",\\n  \"reason\": 0\\n}'\r\n2020-12-31 11:41:46,213:DEBUG:certbot._internal.log:Exiting abnormally:\r\nTraceback (most recent call last):\r\n  File \"/tmp/cb/bin/certbot\", line 8, in <module>\r\n    sys.exit(main())\r\n  File \"/tmp/cb/lib/python3.8/site-packages/certbot/main.py\", line 15, in main\r\n    return internal_main.main(cli_args)\r\n  File \"/tmp/cb/lib/python3.8/site-packages/certbot/_internal/main.py\", line 1412, in main\r\n    return config.func(config, plugins)\r\n  File \"/tmp/cb/lib/python3.8/site-packages/certbot/_internal/main.py\", line 1112, in revoke\r\n    acme.revoke(jose.ComparableX509(cert), config.reason)\r\n  File \"/tmp/cb/lib/python3.8/site-packages/acme/client.py\", line 938, in revoke\r\n    return self.client.revoke(cert, rsn)\r\n  File \"/tmp/cb/lib/python3.8/site-packages/acme/client.py\", line 780, in revoke\r\n    return self._revoke(cert, rsn, self.directory['revokeCert'])\r\n  File \"/tmp/cb/lib/python3.8/site-packages/acme/client.py\", line 225, in _revoke\r\n    response = self._post(url,\r\n  File \"/tmp/cb/lib/python3.8/site-packages/acme/client.py\", line 97, in _post\r\n    return self.net.post(*args, **kwargs)\r\n  File \"/tmp/cb/lib/python3.8/site-packages/acme/client.py\", line 1201, in post\r\n    return self._post_once(*args, **kwargs)\r\n  File \"/tmp/cb/lib/python3.8/site-packages/acme/client.py\", line 1211, in _post_once\r\n    data = self._wrap_in_jws(obj, self._get_nonce(url, new_nonce_url), url, acme_version)\r\n  File \"/tmp/cb/lib/python3.8/site-packages/acme/client.py\", line 1030, in _wrap_in_jws\r\n    return jws.JWS.sign(jobj, **kwargs).json_dumps(indent=2)\r\n  File \"/tmp/cb/lib/python3.8/site-packages/acme/jws.py\", line 51, in sign\r\n    return super(JWS, cls).sign(payload, key=key, alg=alg,\r\n  File \"/tmp/cb/lib/python3.8/site-packages/josepy-1.3.0.dev0-py3.8.egg/josepy/jws.py\", line 267, in sign\r\n    cls.signature_cls.sign(payload=payload, **kwargs),))\r\n  File \"/tmp/cb/lib/python3.8/site-packages/josepy-1.3.0.dev0-py3.8.egg/josepy/jws.py\", line 208, in sign\r\n    assert isinstance(key, alg.kty)\r\nAssertionError\r\n2020-12-31 11:41:46,214:ERROR:certbot._internal.log:An unexpected error occurred:\r\n2020-12-31 11:41:46,214:ERROR:certbot._internal.log:AssertionError\r\n```\r\n\r\nremoving the assert does not improve things \u2026\r\n\r\n```\r\n2020-12-31 11:52:55,568:DEBUG:acme.client:JWS payload:\r\n2020-12-31 11:52:55,569:DEBUG:certbot._internal.log:Exiting abnormally:\r\nTraceback (most recent call last):\r\n  File \"/tmp/cb/bin/certbot\", line 8, in <module>\r\n    sys.exit(main())\r\n  File \"/tmp/cb/lib/python3.8/site-packages/certbot/main.py\", line 15, in main\r\n    return internal_main.main(cli_args)\r\n  File \"/tmp/cb/lib/python3.8/site-packages/certbot/_internal/main.py\", line 1412, in main\r\n    return config.func(config, plugins)\r\n  File \"/tmp/cb/lib/python3.8/site-packages/certbot/_internal/main.py\", line 1112, in revoke\r\n    acme.revoke(jose.ComparableX509(cert), config.reason)\r\n  File \"/tmp/cb/lib/python3.8/site-packages/acme/client.py\", line 938, in revoke\r\n    return self.client.revoke(cert, rsn)\r\n  File \"/tmp/cb/lib/python3.8/site-packages/acme/client.py\", line 780, in revoke\r\n    return self._revoke(cert, rsn, self.directory['revokeCert'])\r\n  File \"/tmp/cb/lib/python3.8/site-packages/acme/client.py\", line 225, in _revoke\r\n    response = self._post(url,\r\n  File \"/tmp/cb/lib/python3.8/site-packages/acme/client.py\", line 97, in _post\r\n    return self.net.post(*args, **kwargs)\r\n  File \"/tmp/cb/lib/python3.8/site-packages/acme/client.py\", line 1201, in post\r\n    return self._post_once(*args, **kwargs)\r\n  File \"/tmp/cb/lib/python3.8/site-packages/acme/client.py\", line 1211, in _post_once\r\n    data = self._wrap_in_jws(obj, self._get_nonce(url, new_nonce_url), url, acme_version)\r\n  File \"/tmp/cb/lib/python3.8/site-packages/acme/client.py\", line 1030, in _wrap_in_jws\r\n    return jws.JWS.sign(jobj, **kwargs).json_dumps(indent=2)\r\n  File \"/tmp/cb/lib/python3.8/site-packages/acme/jws.py\", line 51, in sign\r\n    return super(JWS, cls).sign(payload, key=key, alg=alg,\r\n  File \"/tmp/cb/lib/python3.8/site-packages/josepy-1.3.0.dev0-py3.8.egg/josepy/jws.py\", line 267, in sign\r\n    cls.signature_cls.sign(payload=payload, **kwargs),))\r\n  File \"/tmp/cb/lib/python3.8/site-packages/josepy-1.3.0.dev0-py3.8.egg/josepy/jws.py\", line 229, in sign\r\n    signature = alg.sign(key.key, cls._msg(protected, payload))\r\n  File \"/tmp/cb/lib/python3.8/site-packages/josepy-1.3.0.dev0-py3.8.egg/josepy/jwa.py\", line 112, in sign\r\n    return key.sign(msg, self.padding, self.hash)\r\nTypeError: sign() takes 3 positional arguments but 4 were given\r\n2020-12-31 11:52:55,570:ERROR:certbot._internal.log:An unexpected error occurred:\r\n2020-12-31 11:52:55,570:ERROR:certbot._internal.log:TypeError: sign() takes 3 positional arguments but 4 were given\r\n```\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/8569/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/8569/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/8565", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/8565/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/8565/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/8565/events", "html_url": "https://github.com/certbot/certbot/issues/8565", "id": 774594374, "node_id": "MDU6SXNzdWU3NzQ1OTQzNzQ=", "number": 8565, "title": "certbot corrupts its own configuration", "user": {"login": "soletan", "id": 48088, "node_id": "MDQ6VXNlcjQ4MDg4", "avatar_url": "https://avatars.githubusercontent.com/u/48088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/soletan", "html_url": "https://github.com/soletan", "followers_url": "https://api.github.com/users/soletan/followers", "following_url": "https://api.github.com/users/soletan/following{/other_user}", "gists_url": "https://api.github.com/users/soletan/gists{/gist_id}", "starred_url": "https://api.github.com/users/soletan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/soletan/subscriptions", "organizations_url": "https://api.github.com/users/soletan/orgs", "repos_url": "https://api.github.com/users/soletan/repos", "events_url": "https://api.github.com/users/soletan/events{/privacy}", "received_events_url": "https://api.github.com/users/soletan/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 276243286, "node_id": "MDU6TGFiZWwyNzYyNDMyODY=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20webroot", "name": "area: webroot", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-12-25T01:25:53Z", "updated_at": "2023-02-17T02:49:09Z", "closed_at": "2023-02-17T02:46:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "If you're having trouble using Certbot and aren't sure you've found a bug or\r\nrequest for a new feature, please first try asking for help at\r\nhttps://community.letsencrypt.org/. There is a much larger community there of\r\npeople familiar with the project who will be able to more quickly answer your\r\nquestions.\r\n\r\n## My operating system is (include version):\r\n\r\nUbuntu 20.04 LTS\r\n\r\n## I installed Certbot with (certbot-auto, OS package manager, pip, etc):\r\n\r\napt install snapd\r\nsnap install --classic certbot\r\n\r\n```\r\nroot@foo:/# snap info certbot\r\nname:      certbot\r\nsummary:   Automatically configure HTTPS using Let's Encrypt\r\npublisher: Certbot Project (certbot-eff\u2713)\r\nstore-url: https://snapcraft.io/certbot\r\ncontact:   https://github.com/certbot/certbot/issues\r\nlicense:   unset\r\ndescription: |\r\n  The objective of Certbot, Let's Encrypt, and the ACME (Automated\r\n  Certificate Management Environment) protocol is to make it possible\r\n  to set up an HTTPS server and have it automatically obtain a\r\n  browser-trusted certificate, without any human intervention. This is\r\n  accomplished by running a certificate management agent on the web\r\n  server.\r\n\r\n  This agent is used to:\r\n    - Automatically prove to the Let's Encrypt CA that you control the website\r\n    - Obtain a browser-trusted certificate and set it up on your web server\r\n    - Keep track of when your certificate is going to expire, and renew it\r\n    - Help you revoke the certificate if that ever becomes necessary.\r\ncommands:\r\n  - certbot\r\nservices:\r\n  certbot.renew: oneshot, disabled, inactive\r\nsnap-id:      wy7i66qPx4neXr6m9rTh7Y40h8EhtZFh\r\ntracking:     latest/stable\r\nrefresh-date: 6 days ago, at 17:52 CET\r\nchannels:\r\n  latest/stable:    1.10.1      2020-12-03 (793) 49MB classic\r\n  latest/candidate: \u2191\r\n  latest/beta:      1.10.1      2020-12-09 (814) 49MB classic\r\n  latest/edge:      1.11.0.dev0 2020-12-24 (850) 51MB classic\r\ninstalled:          1.10.1                 (793) 49MB classic\r\n```\r\n\r\n## I ran this command and it produced this output:\r\n\r\n```\r\ncertbot certonly --webroot --cert-name my-multi-san -w /var/www/html -d foo.example.com -d bar.example.com\r\n```\r\n## Certbot's behavior differed from what I expected because:\r\n\r\n\r\nOnce run, I get a certificate named my-multi-san for the two listed domains. Next I run\r\n\r\n```\r\ncertbot certonly --webroot --cert-name my-multi-san -w /var/www/html -d foo.example.com -d bar.example.com -d baz.example.com\r\n```\r\n\r\nThis time certbot is asking for updating the cert by means of adding **baz.example.com** without removing any domain which I confirm. After that, in file **/etc/letsencrypt/renewal/my-multi-san.conf** the records on domains **foo.example.com** and **bar.example.com** in **[[webroot_map]]** are gone. \r\n\r\nIn addition the parameter **webroot_path** is set to **/var/www/html,** (obey the trailing comma) every time.\r\n\r\n## Here is a Certbot log showing the issue (if available):\r\n###### Logs are stored in `/var/log/letsencrypt` by default. Feel free to redact domains, e-mail and IP addresses as you see fit.\r\n\r\n```\r\n2020-12-25 01:39:50,970:DEBUG:urllib3.connectionpool:http://localhost:None \"GET /v2/connections?snap=certbot&interface=content HTTP/1.1\" 200 97\r\n2020-12-25 01:39:51,297:DEBUG:certbot._internal.main:certbot version: 1.10.1\r\n2020-12-25 01:39:51,298:DEBUG:certbot._internal.main:Arguments: ['--webroot', '--cert-name', 'mta-multi-san', '-w', '/var/www/html', '-d', 'foo.example.com,baz.example.com,bar.example.com,bay.example.com', '--preconfigured-renewal']\r\n2020-12-25 01:39:51,298:DEBUG:certbot._internal.main:Discovered plugins: PluginsRegistry(PluginEntryPoint#apache,PluginEntryPoint#manual,PluginEntryPoint#nginx,PluginEntryPoint#null,PluginEntryPoint#standalone,PluginEntryPoint#webroot)\r\n2020-12-25 01:39:51,321:DEBUG:certbot._internal.log:Root logging level set at 20\r\n2020-12-25 01:39:51,322:INFO:certbot._internal.log:Saving debug log to /var/log/letsencrypt/letsencrypt.log\r\n2020-12-25 01:39:51,323:DEBUG:certbot._internal.plugins.selection:Requested authenticator webroot and installer None\r\n2020-12-25 01:39:51,328:DEBUG:certbot._internal.plugins.selection:Single candidate plugin: * webroot\r\nDescription: Place files in webroot directory\r\nInterfaces: IAuthenticator, IPlugin\r\nEntry point: webroot = certbot._internal.plugins.webroot:Authenticator\r\nInitialized: <certbot._internal.plugins.webroot.Authenticator object at 0x7ff0cdd71400>\r\nPrep: True\r\n2020-12-25 01:39:51,328:DEBUG:certbot._internal.plugins.selection:Selected authenticator <certbot._internal.plugins.webroot.Authenticator object at 0x7ff0cdd71400> and installer None\r\n2020-12-25 01:39:51,329:INFO:certbot._internal.plugins.selection:Plugins selected: Authenticator webroot, Installer None\r\n2020-12-25 01:39:51,335:DEBUG:certbot._internal.main:Picked account: <Account(RegistrationResource(body=Registration(key=None, contact=(), agreement=None, status=None, terms_of_service_agreed=None, only_return_existing=None, external_account_binding=None), uri='https://acme-v02.api.letsencrypt.org/acme/acct/106852302', new_authzr_uri=None, terms_of_service=None), 660445803578fc82a5b1b4401f9101ed, Meta(creation_dt=datetime.datetime(2020, 12, 19, 16, 53, 25, tzinfo=<UTC>), creation_host='foo.example.com', register_to_eff=None))>\r\n2020-12-25 01:39:51,336:DEBUG:acme.client:Sending GET request to https://acme-v02.api.letsencrypt.org/directory.\r\n2020-12-25 01:39:51,338:DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): acme-v02.api.letsencrypt.org:443\r\n2020-12-25 01:39:51,890:DEBUG:urllib3.connectionpool:https://acme-v02.api.letsencrypt.org:443 \"GET /directory HTTP/1.1\" 200 658\r\n2020-12-25 01:39:51,892:DEBUG:acme.client:Received response:\r\nHTTP 200\r\nServer: nginx\r\nDate: Fri, 25 Dec 2020 00:39:51 GMT\r\nContent-Type: application/json\r\nContent-Length: 658\r\nConnection: keep-alive\r\nCache-Control: public, max-age=0, no-cache\r\nX-Frame-Options: DENY\r\nStrict-Transport-Security: max-age=604800\r\n\r\n{\r\n  \"PNtYpLwe1G8\": \"https://community.letsencrypt.org/t/adding-random-entries-to-the-directory/33417\",\r\n  \"keyChange\": \"https://acme-v02.api.letsencrypt.org/acme/key-change\",\r\n  \"meta\": {\r\n    \"caaIdentities\": [\r\n      \"letsencrypt.org\"\r\n    ],\r\n    \"termsOfService\": \"https://letsencrypt.org/documents/LE-SA-v1.2-November-15-2017.pdf\",\r\n    \"website\": \"https://letsencrypt.org\"\r\n  },\r\n  \"newAccount\": \"https://acme-v02.api.letsencrypt.org/acme/new-acct\",\r\n  \"newNonce\": \"https://acme-v02.api.letsencrypt.org/acme/new-nonce\",\r\n  \"newOrder\": \"https://acme-v02.api.letsencrypt.org/acme/new-order\",\r\n  \"revokeCert\": \"https://acme-v02.api.letsencrypt.org/acme/revoke-cert\"\r\n}\r\n2020-12-25 01:39:51,914:DEBUG:certbot._internal.plugins.selection:Requested authenticator webroot and installer <certbot._internal.cli.cli_utils._Default object at 0x7ff0cdd3d370>\r\n2020-12-25 01:39:56,433:DEBUG:certbot.display.util:Notifying user: Renewing an existing certificate for foo.example.com and 3 more domains\r\n2020-12-25 01:39:56,491:DEBUG:certbot.crypto_util:Generating RSA key (2048 bits): /etc/letsencrypt/keys/0007_key-certbot.pem\r\n2020-12-25 01:39:56,493:DEBUG:certbot.crypto_util:Creating CSR: /etc/letsencrypt/csr/0007_csr-certbot.pem\r\n2020-12-25 01:39:56,494:DEBUG:acme.client:Requesting fresh nonce\r\n2020-12-25 01:39:56,494:DEBUG:acme.client:Sending HEAD request to https://acme-v02.api.letsencrypt.org/acme/new-nonce.\r\n2020-12-25 01:39:56,633:DEBUG:urllib3.connectionpool:https://acme-v02.api.letsencrypt.org:443 \"HEAD /acme/new-nonce HTTP/1.1\" 200 0\r\n2020-12-25 01:39:56,634:DEBUG:acme.client:Received response:\r\nHTTP 200\r\nServer: nginx\r\nDate: Fri, 25 Dec 2020 00:39:56 GMT\r\nConnection: keep-alive\r\nCache-Control: public, max-age=0, no-cache\r\nLink: <https://acme-v02.api.letsencrypt.org/directory>;rel=\"index\"\r\nReplay-Nonce: 0104YffoSNW91Xra4v1j_Gl5kFwjOuuH5Np0UUOeWtqWqXI\r\nX-Frame-Options: DENY\r\nStrict-Transport-Security: max-age=604800\r\n\r\n\r\n2020-12-25 01:39:56,635:DEBUG:acme.client:Storing nonce: 0104YffoSNW91Xra4v1j_Gl5kFwjOuuH5Np0UUOeWtqWqXI\r\n2020-12-25 01:39:56,636:DEBUG:acme.client:JWS payload:\r\nb'{\\n  \"identifiers\": [\\n    {\\n      \"type\": \"dns\",\\n      \"value\": \"foo.example.com\"\\n    },\\n    {\\n      \"type\": \"dns\",\\n      \"value\": \"baz.example.com\"\\n    },\\n    {\\n      \"type\": \"dns\",\\n      \"value\": \"bar.example.com\"\\n    },\\n    {\\n      \"type\": \"dns\",\\n      \"value\": \"bay.example.com\"\\n    }\\n  ]\\n}'\r\n2020-12-25 01:39:56,642:DEBUG:acme.client:Sending POST request to https://acme-v02.api.letsencrypt.org/acme/new-order:\r\n{\r\n  \"protected\": \"[redacted]\",\r\n  \"signature\": \"wqYIq0NvtkrA67t1yPdgMx1BJOidp22q0sXL71U5AiBCSj0C0NcjunrVtOdwVwhDH3SZ0Bh2RQhtJegcjwpCv9LQ9QS0u9M2slSkk7dfepFcHsdQZ7uitEco_Rhli1kTCZp3rbL2e0QDQX9pa22bafPul_5v99jtZwr96wOQXb8x8nEdNWQbFfS54n4zAQgZqoW11J6MS755ocg1zjC90ZOyp9ezrh-8wiaIRrsdZ7-w2dx8A_Wq40dqhBtPeMy1_l3k3cboCTfX2cYyTtUQFiaonsp2BrWDfWAK1Zkw6TzoxJHA3FjSlY_fytP4RDc4Fw6J8fuMwsG5n1vP3KEj2Q\",\r\n  \"payload\": \"ewogICJpZGVudGlmaWVycyI6IFsKICAgIHsKICAgICAgInR5cGUiOiAiZG5zIiwKICAgICAgInZhbHVlIjogIm14LXByb3h5LmNlcGhhcnVtLmRlIgogICAgfSwKICAgIHsKICAgICAgInR5cGUiOiAiZG5zIiwKICAgICAgInZhbHVlIjogInNtdHAyLmNlcGhhcnVtLmRlIgogICAgfSwKICAgIHsKICAgICAgInR5cGUiOiAiZG5zIiwKICAgICAgInZhbHVlIjogImltYXAuY2VwaGFydW0uZGUiCiAgICB9LAogICAgewogICAgICAidHlwZSI6ICJkbnMiLAogICAgICAidmFsdWUiOiAibGRhcDMuY2VwaGFydW0uZGUiCiAgICB9CiAgXQp9\"\r\n}\r\n2020-12-25 01:39:57,037:DEBUG:urllib3.connectionpool:https://acme-v02.api.letsencrypt.org:443 \"POST /acme/new-order HTTP/1.1\" 201 764\r\n2020-12-25 01:39:57,039:DEBUG:acme.client:Received response:\r\nHTTP 201\r\nServer: nginx\r\nDate: Fri, 25 Dec 2020 00:39:56 GMT\r\nContent-Type: application/json\r\nContent-Length: 764\r\nConnection: keep-alive\r\nBoulder-Requester: 106852302\r\nCache-Control: public, max-age=0, no-cache\r\nLink: <https://acme-v02.api.letsencrypt.org/directory>;rel=\"index\"\r\nLocation: https://acme-v02.api.letsencrypt.org/acme/order/106852302/6926982208\r\nReplay-Nonce: 0103S3yTgZtU9jnmeWhXiK6ai0lLNRAGN5VtCflogwl0nwU\r\nX-Frame-Options: DENY\r\nStrict-Transport-Security: max-age=604800\r\n\r\n{\r\n  \"status\": \"pending\",\r\n  \"expires\": \"2021-01-01T00:39:56.887840403Z\",\r\n  \"identifiers\": [\r\n    {\r\n      \"type\": \"dns\",\r\n      \"value\": \"bar.example.com\"\r\n    },\r\n    {\r\n      \"type\": \"dns\",\r\n      \"value\": \"bay.example.com\"\r\n    },\r\n    {\r\n      \"type\": \"dns\",\r\n      \"value\": \"foo.example.com\"\r\n    },\r\n    {\r\n      \"type\": \"dns\",\r\n      \"value\": \"baz.example.com\"\r\n    }\r\n  ],\r\n  \"authorizations\": [\r\n    \"https://acme-v02.api.letsencrypt.org/acme/authz-v3/9536155428\",\r\n    \"https://acme-v02.api.letsencrypt.org/acme/authz-v3/9432645632\",\r\n    \"https://acme-v02.api.letsencrypt.org/acme/authz-v3/9527175139\",\r\n    \"https://acme-v02.api.letsencrypt.org/acme/authz-v3/9559476311\"\r\n  ],\r\n  \"finalize\": \"https://acme-v02.api.letsencrypt.org/acme/finalize/106852302/6926982208\"\r\n}\r\n2020-12-25 01:39:57,039:DEBUG:acme.client:Storing nonce: 0103S3yTgZtU9jnmeWhXiK6ai0lLNRAGN5VtCflogwl0nwU\r\n2020-12-25 01:39:57,040:DEBUG:acme.client:JWS payload:\r\nb''\r\n2020-12-25 01:39:57,042:DEBUG:acme.client:Sending POST request to https://acme-v02.api.letsencrypt.org/acme/authz-v3/9536155428:\r\n{\r\n  \"protected\": \"[redacted]\",\r\n  \"signature\": \"ffbqTLEGKGQ9a49do4X4NhpdtovNwWGzyCmp-BrHLOADWzP54MfCekaFWbH0eNpaFb6oEmPrQWpxOmySyTdSuRu7KuBeDUKnZ4jdG0z3RfZchv33RN0s8z6x_cvCs4-roReVD-Hr6BvpKpmegZeQK9MRtVwvqgLF0GtsRKAATwyJttc_JWX_bl8IAz8rCTRdHNQ9uNQcs3C69sslK7Rqiorr4Jlzghz7m3rRHhJIqNvnJ9Ex1XpAgx47NU0dDsryGwuUY5QS1LixTjW5wgVrM96klI_9XcZnfdNjfayvWP_MwodvEiN9BL3tp40VOl1k6RVp3nKR70WUnvukdcyzsg\",\r\n  \"payload\": \"\"\r\n}\r\n2020-12-25 01:39:57,205:DEBUG:urllib3.connectionpool:https://acme-v02.api.letsencrypt.org:443 \"POST /acme/authz-v3/9536155428 HTTP/1.1\" 200 761\r\n2020-12-25 01:39:57,206:DEBUG:acme.client:Received response:\r\nHTTP 200\r\nServer: nginx\r\nDate: Fri, 25 Dec 2020 00:39:57 GMT\r\nContent-Type: application/json\r\nContent-Length: 761\r\nConnection: keep-alive\r\nBoulder-Requester: 106852302\r\nCache-Control: public, max-age=0, no-cache\r\nLink: <https://acme-v02.api.letsencrypt.org/directory>;rel=\"index\"\r\nReplay-Nonce: 0104fzq2txFDiC964tPYXG-9o8lba2YwQuE4tlQkpw6HRqQ\r\nX-Frame-Options: DENY\r\nStrict-Transport-Security: max-age=604800\r\n\r\n{\r\n  \"identifier\": {\r\n    \"type\": \"dns\",\r\n    \"value\": \"bar.example.com\"\r\n  },\r\n  \"status\": \"valid\",\r\n  \"expires\": \"2021-01-23T00:42:32Z\",\r\n  \"challenges\": [\r\n    {\r\n      \"type\": \"http-01\",\r\n      \"status\": \"valid\",\r\n      \"url\": \"https://acme-v02.api.letsencrypt.org/acme/chall-v3/9536155428/L3CJjw\",\r\n      \"token\": \"j0tC1XbWEltm8whDxx3qy7J6DwZtGL2jZD5TiEnBsb0\",\r\n      \"validationRecord\": [\r\n        {\r\n          \"url\": \"http://bar.example.com/.well-known/acme-challenge/j0tC1XbWEltm8whDxx3qy7J6DwZtGL2jZD5TiEnBsb0\",\r\n          \"hostname\": \"bar.example.com\",\r\n          \"port\": \"80\",\r\n          \"addressesResolved\": [\r\n            \"78.47.152.132\",\r\n            \"2a01:4f8:c0c:204e::1\"\r\n          ],\r\n          \"addressUsed\": \"2a01:4f8:c0c:204e::1\"\r\n        }\r\n      ]\r\n    }\r\n  ]\r\n}\r\n2020-12-25 01:39:57,207:DEBUG:acme.client:Storing nonce: 0104fzq2txFDiC964tPYXG-9o8lba2YwQuE4tlQkpw6HRqQ\r\n2020-12-25 01:39:57,208:DEBUG:acme.client:JWS payload:\r\nb''\r\n2020-12-25 01:39:57,212:DEBUG:acme.client:Sending POST request to https://acme-v02.api.letsencrypt.org/acme/authz-v3/9432645632:\r\n{\r\n  \"protected\": \"[redacted]\",\r\n  \"signature\": \"l4rx0RuI0yOsgiUREAWx0Z2aA9B4nF7H34qvGTguNuG1qrRcN34fNoZH0L1NrEchqkcISL3MAYklNh-D1FOilHbng5uOtQsW00S9H0TRpwgGBtHWWT7akrg2nPP4zMizsy3b9LKyDVJJ1cwxJWFxFX8FjCOGVm_587dHiZF_pkjJpcNojqd2O3wxsQd5xrj4MfAiyybvY1iKpI5pV2-qZJBP83RsiV6orpEA4m-CZpVEK5kTchDFvJjvxcCNyub9DulF-IxVaQIZw29WR5T1-hMyEEywcSq3WmiiWizzx7OmjWg6-mPyMrWm15WSg5UbLPo-bPRm750CDpbOmxEkUQ\",\r\n  \"payload\": \"\"\r\n}\r\n2020-12-25 01:39:57,380:DEBUG:urllib3.connectionpool:https://acme-v02.api.letsencrypt.org:443 \"POST /acme/authz-v3/9432645632 HTTP/1.1\" 200 775\r\n2020-12-25 01:39:57,381:DEBUG:acme.client:Received response:\r\nHTTP 200\r\nServer: nginx\r\nDate: Fri, 25 Dec 2020 00:39:57 GMT\r\nContent-Type: application/json\r\nContent-Length: 775\r\nConnection: keep-alive\r\nBoulder-Requester: 106852302\r\nCache-Control: public, max-age=0, no-cache\r\nLink: <https://acme-v02.api.letsencrypt.org/directory>;rel=\"index\"\r\nReplay-Nonce: 0103kN9bupYwOoqdcYKSyX0ifIyJps7uIXTAhq-BOKpofxY\r\nX-Frame-Options: DENY\r\nStrict-Transport-Security: max-age=604800\r\n\r\n{\r\n  \"identifier\": {\r\n    \"type\": \"dns\",\r\n    \"value\": \"foo.example.com\"\r\n  },\r\n  \"status\": \"valid\",\r\n  \"expires\": \"2021-01-18T16:53:28Z\",\r\n  \"challenges\": [\r\n    {\r\n      \"type\": \"http-01\",\r\n      \"status\": \"valid\",\r\n      \"url\": \"https://acme-v02.api.letsencrypt.org/acme/chall-v3/9432645632/JQdymA\",\r\n      \"token\": \"Ze0FsVOtvncFKRCJQNvrSNbEuhThPIJTPk6ibRvRx18\",\r\n      \"validationRecord\": [\r\n        {\r\n          \"url\": \"http://foo.example.com/.well-known/acme-challenge/Ze0FsVOtvncFKRCJQNvrSNbEuhThPIJTPk6ibRvRx18\",\r\n          \"hostname\": \"foo.example.com\",\r\n          \"port\": \"80\",\r\n          \"addressesResolved\": [\r\n            \"116.203.132.156\",\r\n            \"2a01:4f8:c2c:3235::1\"\r\n          ],\r\n          \"addressUsed\": \"2a01:4f8:c2c:3235::1\"\r\n        }\r\n      ]\r\n    }\r\n  ]\r\n}\r\n2020-12-25 01:39:57,382:DEBUG:acme.client:Storing nonce: 0103kN9bupYwOoqdcYKSyX0ifIyJps7uIXTAhq-BOKpofxY\r\n2020-12-25 01:39:57,383:DEBUG:acme.client:JWS payload:\r\nb''\r\n2020-12-25 01:39:57,388:DEBUG:acme.client:Sending POST request to https://acme-v02.api.letsencrypt.org/acme/authz-v3/9527175139:\r\n{\r\n  \"protected\": \"[redacted]\",\r\n  \"signature\": \"h0GH34TiXvoXANFGmEF-fi4W-YfGYv2tRHI-T9RuuobfvwcOTwCigLHxcZFs9X5I4sTihCl5ua0FGhjbMf4z5HPR3DdsDKB_W4X4sRq5Hv_qBhsf9F2ENEc_jPZ77YUACznMQUIAb3RvV2DZlnCZQBu06IPPoonavZ61yq8Yo4VUWocoBgCGSK3z4Z1BBwQN38blMqlFtYAbWJd5li_ox8T5AX61q4paFbFvY1ukqcgnXMy2BsHWMSGKTdSIiijfXerMBtJSeGCjtnKj_BFm3EFr4P3opxWdxBxcsBqo1HDEasqhTTqGGBK5y9rA_AUhKq8YhMNGPYZJjyflKkbSdA\",\r\n  \"payload\": \"\"\r\n}\r\n2020-12-25 01:39:57,554:DEBUG:urllib3.connectionpool:https://acme-v02.api.letsencrypt.org:443 \"POST /acme/authz-v3/9527175139 HTTP/1.1\" 200 766\r\n2020-12-25 01:39:57,555:DEBUG:acme.client:Received response:\r\nHTTP 200\r\nServer: nginx\r\nDate: Fri, 25 Dec 2020 00:39:57 GMT\r\nContent-Type: application/json\r\nContent-Length: 766\r\nConnection: keep-alive\r\nBoulder-Requester: 106852302\r\nCache-Control: public, max-age=0, no-cache\r\nLink: <https://acme-v02.api.letsencrypt.org/directory>;rel=\"index\"\r\nReplay-Nonce: 0103DwAmhgLQzUsBVzrWmGCBZp8WnfBSN2860ariPS_2qfg\r\nX-Frame-Options: DENY\r\nStrict-Transport-Security: max-age=604800\r\n\r\n{\r\n  \"identifier\": {\r\n    \"type\": \"dns\",\r\n    \"value\": \"baz.example.com\"\r\n  },\r\n  \"status\": \"valid\",\r\n  \"expires\": \"2021-01-22T15:38:11Z\",\r\n  \"challenges\": [\r\n    {\r\n      \"type\": \"http-01\",\r\n      \"status\": \"valid\",\r\n      \"url\": \"https://acme-v02.api.letsencrypt.org/acme/chall-v3/9527175139/dL9MQg\",\r\n      \"token\": \"lKzoQ3pnU7CkxwITqHlaCD4p9QT1tmWwoft_pkd6hCw\",\r\n      \"validationRecord\": [\r\n        {\r\n          \"url\": \"http://baz.example.com/.well-known/acme-challenge/lKzoQ3pnU7CkxwITqHlaCD4p9QT1tmWwoft_pkd6hCw\",\r\n          \"hostname\": \"baz.example.com\",\r\n          \"port\": \"80\",\r\n          \"addressesResolved\": [\r\n            \"159.69.204.13\",\r\n            \"2a01:4f8:1c0c:6f75::1\"\r\n          ],\r\n          \"addressUsed\": \"2a01:4f8:1c0c:6f75::1\"\r\n        }\r\n      ]\r\n    }\r\n  ]\r\n}\r\n2020-12-25 01:39:57,556:DEBUG:acme.client:Storing nonce: 0103DwAmhgLQzUsBVzrWmGCBZp8WnfBSN2860ariPS_2qfg\r\n2020-12-25 01:39:57,557:DEBUG:acme.client:JWS payload:\r\nb''\r\n2020-12-25 01:39:57,561:DEBUG:acme.client:Sending POST request to https://acme-v02.api.letsencrypt.org/acme/authz-v3/9559476311:\r\n{\r\n  \"protected\": \"[redacted]\",\r\n  \"signature\": \"lQAwGYfw8r9P2YqPc7Mv5DJiDihRJ0enOq5upsmzkzZHNH6J9XCdbeCj4ZMfh7aBSukwq5GCVNWFJ7mstVz4szw-6yS8FHQPMPfmxUUG0ij9g3GHuMOUa16kCn27F1f0ArW0RkQtL-sjaCobGwaLnUYGUjYwSrsHTrlcO2didjy01kVTrOmEW-X6MtOllUPWEjQFcwYF0VAmAl1SyQ2OKaVFpddyxPYY47a9T7SJifvVt-EXVHfuNCF6FrX_ThMYbKE3vRhFFW-HnSJpuvN9cjSl0qzSIwBTQVN_5f50mw6l_7rBlBQoFeF520W2b79VjFDAaiVlTmMocaS2ZVVYCg\",\r\n  \"payload\": \"\"\r\n}\r\n2020-12-25 01:39:57,725:DEBUG:urllib3.connectionpool:https://acme-v02.api.letsencrypt.org:443 \"POST /acme/authz-v3/9559476311 HTTP/1.1\" 200 795\r\n2020-12-25 01:39:57,726:DEBUG:acme.client:Received response:\r\nHTTP 200\r\nServer: nginx\r\nDate: Fri, 25 Dec 2020 00:39:57 GMT\r\nContent-Type: application/json\r\nContent-Length: 795\r\nConnection: keep-alive\r\nBoulder-Requester: 106852302\r\nCache-Control: public, max-age=0, no-cache\r\nLink: <https://acme-v02.api.letsencrypt.org/directory>;rel=\"index\"\r\nReplay-Nonce: 0103LS4S4IH6Mf2knZQ1stJ6pN5R9iXlEHB_edpZNTDCDsA\r\nX-Frame-Options: DENY\r\nStrict-Transport-Security: max-age=604800\r\n\r\n{\r\n  \"identifier\": {\r\n    \"type\": \"dns\",\r\n    \"value\": \"bay.example.com\"\r\n  },\r\n  \"status\": \"pending\",\r\n  \"expires\": \"2021-01-01T00:39:56Z\",\r\n  \"challenges\": [\r\n    {\r\n      \"type\": \"http-01\",\r\n      \"status\": \"pending\",\r\n      \"url\": \"https://acme-v02.api.letsencrypt.org/acme/chall-v3/9559476311/3HbcdA\",\r\n      \"token\": \"7iQiWdQxrQ4h4bqNX2iPRDOxysclbAYHLWA5hu744fQ\"\r\n    },\r\n    {\r\n      \"type\": \"dns-01\",\r\n      \"status\": \"pending\",\r\n      \"url\": \"https://acme-v02.api.letsencrypt.org/acme/chall-v3/9559476311/sXn0xA\",\r\n      \"token\": \"7iQiWdQxrQ4h4bqNX2iPRDOxysclbAYHLWA5hu744fQ\"\r\n    },\r\n    {\r\n      \"type\": \"tls-alpn-01\",\r\n      \"status\": \"pending\",\r\n      \"url\": \"https://acme-v02.api.letsencrypt.org/acme/chall-v3/9559476311/ehmLFw\",\r\n      \"token\": \"7iQiWdQxrQ4h4bqNX2iPRDOxysclbAYHLWA5hu744fQ\"\r\n    }\r\n  ]\r\n}\r\n2020-12-25 01:39:57,726:DEBUG:acme.client:Storing nonce: 0103LS4S4IH6Mf2knZQ1stJ6pN5R9iXlEHB_edpZNTDCDsA\r\n2020-12-25 01:39:57,727:INFO:certbot._internal.auth_handler:Performing the following challenges:\r\n2020-12-25 01:39:57,727:INFO:certbot._internal.auth_handler:http-01 challenge for bay.example.com\r\n2020-12-25 01:39:57,728:INFO:certbot._internal.plugins.webroot:Using the webroot path /var/www/html for all unmatched domains.\r\n2020-12-25 01:39:57,728:DEBUG:certbot._internal.plugins.webroot:Creating root challenges validation dir at /var/www/html/.well-known/acme-challenge\r\n2020-12-25 01:39:57,732:DEBUG:certbot._internal.plugins.webroot:Attempting to save validation to /var/www/html/.well-known/acme-challenge/7iQiWdQxrQ4h4bqNX2iPRDOxysclbAYHLWA5hu744fQ\r\n2020-12-25 01:39:57,733:INFO:certbot._internal.auth_handler:Waiting for verification...\r\n2020-12-25 01:39:57,733:DEBUG:acme.client:JWS payload:\r\nb'{}'\r\n2020-12-25 01:39:57,735:DEBUG:acme.client:Sending POST request to https://acme-v02.api.letsencrypt.org/acme/chall-v3/9559476311/3HbcdA:\r\n{\r\n  \"protected\": \"[redacted]\",\r\n  \"signature\": \"jtVLmmCL--teRNZs05L644QjL1nUbwC9XBZmIOe_0dG9MUf3pdM4BS2wV_M7-0ZftHEySCaX6YMFXfT4iwwl74yg8YTQj6Db03M2TcFaNEiZgUjAx9hH-k6VrTjZvevHKIwsnial746Bd0rgqhq9BHPB72nihwGLIG16IV2scptvqdylXC2f4lH3FV7Yjd0eW85TV-y_NavumazJXC8pAbF2URKE0SWjyoxwpyJc4c32mnyomB3S0Kc9zaDvzqn_4wqU99-5NG3Fzy4h6GlpGpKrRXc50mjNjPxN7X8FW_VXmWCYOfblTqd0x1M3ZyHfHFk4vKsXAf5QRGYdALvOoA\",\r\n  \"payload\": \"e30\"\r\n}\r\n2020-12-25 01:39:57,913:DEBUG:urllib3.connectionpool:https://acme-v02.api.letsencrypt.org:443 \"POST /acme/chall-v3/9559476311/3HbcdA HTTP/1.1\" 200 185\r\n2020-12-25 01:39:57,914:DEBUG:acme.client:Received response:\r\nHTTP 200\r\nServer: nginx\r\nDate: Fri, 25 Dec 2020 00:39:57 GMT\r\nContent-Type: application/json\r\nContent-Length: 185\r\nConnection: keep-alive\r\nBoulder-Requester: 106852302\r\nCache-Control: public, max-age=0, no-cache\r\nLink: <https://acme-v02.api.letsencrypt.org/directory>;rel=\"index\", <https://acme-v02.api.letsencrypt.org/acme/authz-v3/9559476311>;rel=\"up\"\r\nLocation: https://acme-v02.api.letsencrypt.org/acme/chall-v3/9559476311/3HbcdA\r\nReplay-Nonce: 0103P0D7L5pYMOlKgHsi7kTDjimea5ZoW7lT8G6bw5sGmtc\r\nX-Frame-Options: DENY\r\nStrict-Transport-Security: max-age=604800\r\n\r\n{\r\n  \"type\": \"http-01\",\r\n  \"status\": \"pending\",\r\n  \"url\": \"https://acme-v02.api.letsencrypt.org/acme/chall-v3/9559476311/3HbcdA\",\r\n  \"token\": \"7iQiWdQxrQ4h4bqNX2iPRDOxysclbAYHLWA5hu744fQ\"\r\n}\r\n2020-12-25 01:39:57,915:DEBUG:acme.client:Storing nonce: 0103P0D7L5pYMOlKgHsi7kTDjimea5ZoW7lT8G6bw5sGmtc\r\n2020-12-25 01:39:58,917:DEBUG:acme.client:JWS payload:\r\nb''\r\n2020-12-25 01:39:58,921:DEBUG:acme.client:Sending POST request to https://acme-v02.api.letsencrypt.org/acme/authz-v3/9536155428:\r\n{\r\n  \"protected\": \"[redacted]\",\r\n  \"signature\": \"o5bgsvB9jHC7m0er5D8Weg3yeG8mPLGCKWN0o0lFoq_nSHdmru-gEcbr1tP07XuYq-KaHnYVvPdrz31zkJajrlV0aDN4gRTkpU1fhV4ElENdCVC47PZ21XfI72PzLLFCvhbEnU0WF9RkUuPzVU0u0SgnUatGs6TntdwmM4uIAFeUxmTlevpAVh4QrH1sL7PaOY5qTYCNm3O7IH12xVRmEzNgc9LcCWMJtyMMFy1rx_tqpAiqYUz546UsvXkydY4RPGonWQqQqIRu2hXucoVKs0oCuiHPV5WNVkDE46nkc3eIWqL-BUgvQpTm2B_EibSimzhzDp5IZa7SJ9WCYnhonA\",\r\n  \"payload\": \"\"\r\n}\r\n2020-12-25 01:39:59,087:DEBUG:urllib3.connectionpool:https://acme-v02.api.letsencrypt.org:443 \"POST /acme/authz-v3/9536155428 HTTP/1.1\" 200 761\r\n2020-12-25 01:39:59,089:DEBUG:acme.client:Received response:\r\nHTTP 200\r\nServer: nginx\r\nDate: Fri, 25 Dec 2020 00:39:59 GMT\r\nContent-Type: application/json\r\nContent-Length: 761\r\nConnection: keep-alive\r\nBoulder-Requester: 106852302\r\nCache-Control: public, max-age=0, no-cache\r\nLink: <https://acme-v02.api.letsencrypt.org/directory>;rel=\"index\"\r\nReplay-Nonce: 0104JHUhCsZ8OheqLkMHfflodo8tltsaE0PNHu2GfhZ9LkI\r\nX-Frame-Options: DENY\r\nStrict-Transport-Security: max-age=604800\r\n\r\n{\r\n  \"identifier\": {\r\n    \"type\": \"dns\",\r\n    \"value\": \"bar.example.com\"\r\n  },\r\n  \"status\": \"valid\",\r\n  \"expires\": \"2021-01-23T00:42:32Z\",\r\n  \"challenges\": [\r\n    {\r\n      \"type\": \"http-01\",\r\n      \"status\": \"valid\",\r\n      \"url\": \"https://acme-v02.api.letsencrypt.org/acme/chall-v3/9536155428/L3CJjw\",\r\n      \"token\": \"j0tC1XbWEltm8whDxx3qy7J6DwZtGL2jZD5TiEnBsb0\",\r\n      \"validationRecord\": [\r\n        {\r\n          \"url\": \"http://bar.example.com/.well-known/acme-challenge/j0tC1XbWEltm8whDxx3qy7J6DwZtGL2jZD5TiEnBsb0\",\r\n          \"hostname\": \"bar.example.com\",\r\n          \"port\": \"80\",\r\n          \"addressesResolved\": [\r\n            \"78.47.152.132\",\r\n            \"2a01:4f8:c0c:204e::1\"\r\n          ],\r\n          \"addressUsed\": \"2a01:4f8:c0c:204e::1\"\r\n        }\r\n      ]\r\n    }\r\n  ]\r\n}\r\n2020-12-25 01:39:59,089:DEBUG:acme.client:Storing nonce: 0104JHUhCsZ8OheqLkMHfflodo8tltsaE0PNHu2GfhZ9LkI\r\n2020-12-25 01:39:59,090:DEBUG:acme.client:JWS payload:\r\nb''\r\n2020-12-25 01:39:59,094:DEBUG:acme.client:Sending POST request to https://acme-v02.api.letsencrypt.org/acme/authz-v3/9432645632:\r\n{\r\n  \"protected\": \"[redacted]\",\r\n  \"signature\": \"wO4HiINSzWmz1Cbd1EVYQsuZ1ClDhwlcwdCM8DDBbS6piY1Q8mctXzrnHbybvyf2ikVfCrdb1uqxMqA9fRgQKVCb6Ph4RsRoGx8_vYorN_3YYuGulD_yjFQzOT5spYP-DmUj7i_HL87BGVf5MQWAj_VfhJswJBgi9y4VIzjTPlK5u76olnXtaAPu67v9-L0ZNqGyfr7_nHhcLXoexykpJO9_qTUwGCzxW3iuGXGguKMWmiNe_5oja38X5gbNCl56641qNt1K4W0ruvgTNO9cPva8D3UkKrpDbuAs8ASLoMZQnXQEQLlECT5xuvAl-x6yHEGbxT1BW2gLNI64OpwJxQ\",\r\n  \"payload\": \"\"\r\n}\r\n2020-12-25 01:39:59,259:DEBUG:urllib3.connectionpool:https://acme-v02.api.letsencrypt.org:443 \"POST /acme/authz-v3/9432645632 HTTP/1.1\" 200 775\r\n2020-12-25 01:39:59,260:DEBUG:acme.client:Received response:\r\nHTTP 200\r\nServer: nginx\r\nDate: Fri, 25 Dec 2020 00:39:59 GMT\r\nContent-Type: application/json\r\nContent-Length: 775\r\nConnection: keep-alive\r\nBoulder-Requester: 106852302\r\nCache-Control: public, max-age=0, no-cache\r\nLink: <https://acme-v02.api.letsencrypt.org/directory>;rel=\"index\"\r\nReplay-Nonce: 0104-fIHlWcijoKI_WaaadBbdFPx71qWx7OI8bxipSyeYHY\r\nX-Frame-Options: DENY\r\nStrict-Transport-Security: max-age=604800\r\n\r\n{\r\n  \"identifier\": {\r\n    \"type\": \"dns\",\r\n    \"value\": \"foo.example.com\"\r\n  },\r\n  \"status\": \"valid\",\r\n  \"expires\": \"2021-01-18T16:53:28Z\",\r\n  \"challenges\": [\r\n    {\r\n      \"type\": \"http-01\",\r\n      \"status\": \"valid\",\r\n      \"url\": \"https://acme-v02.api.letsencrypt.org/acme/chall-v3/9432645632/JQdymA\",\r\n      \"token\": \"Ze0FsVOtvncFKRCJQNvrSNbEuhThPIJTPk6ibRvRx18\",\r\n      \"validationRecord\": [\r\n        {\r\n          \"url\": \"http://foo.example.com/.well-known/acme-challenge/Ze0FsVOtvncFKRCJQNvrSNbEuhThPIJTPk6ibRvRx18\",\r\n          \"hostname\": \"foo.example.com\",\r\n          \"port\": \"80\",\r\n          \"addressesResolved\": [\r\n            \"116.203.132.156\",\r\n            \"2a01:4f8:c2c:3235::1\"\r\n          ],\r\n          \"addressUsed\": \"2a01:4f8:c2c:3235::1\"\r\n        }\r\n      ]\r\n    }\r\n  ]\r\n}\r\n2020-12-25 01:39:59,261:DEBUG:acme.client:Storing nonce: 0104-fIHlWcijoKI_WaaadBbdFPx71qWx7OI8bxipSyeYHY\r\n2020-12-25 01:39:59,262:DEBUG:acme.client:JWS payload:\r\nb''\r\n2020-12-25 01:39:59,265:DEBUG:acme.client:Sending POST request to https://acme-v02.api.letsencrypt.org/acme/authz-v3/9527175139:\r\n{\r\n  \"protected\": \"[redacted]\",\r\n  \"signature\": \"ODp6lKAXGn8XBQTw_9YstsISHkv13E_4J-dp1nCi-RT2Dxgo5L95bceOmy0IlOC4S9MxPOAXXd9kMWkWMZ9dmIoW55wNd7qSUAqGCXfhc81LEHRWdr5Q4vTht87Ui842cvEToYp9vmDggFQNJcwwoy-l53SnYFZxK71FeiQlDDydwh9HFxlSi5v7blN21JMUTu1a3tyhguTzERrSyo5--h-eaKrjsXC-gdbsbRzwtV-SMkyB2p-clMsag2ZgosEl2nrHmwXUTXeVras44UIprQltYPAeycyeKRnrnwIAJoIiMlpTpy2TejR_XT3WvghDPhPGFIHbjuicyVrxzy8Eew\",\r\n  \"payload\": \"\"\r\n}\r\n2020-12-25 01:39:59,433:DEBUG:urllib3.connectionpool:https://acme-v02.api.letsencrypt.org:443 \"POST /acme/authz-v3/9527175139 HTTP/1.1\" 200 766\r\n2020-12-25 01:39:59,434:DEBUG:acme.client:Received response:\r\nHTTP 200\r\nServer: nginx\r\nDate: Fri, 25 Dec 2020 00:39:59 GMT\r\nContent-Type: application/json\r\nContent-Length: 766\r\nConnection: keep-alive\r\nBoulder-Requester: 106852302\r\nCache-Control: public, max-age=0, no-cache\r\nLink: <https://acme-v02.api.letsencrypt.org/directory>;rel=\"index\"\r\nReplay-Nonce: 0103hXz66L2LARqi4tw8x8a1BhzQFvx5VJoYQIo7BKN7gUc\r\nX-Frame-Options: DENY\r\nStrict-Transport-Security: max-age=604800\r\n\r\n{\r\n  \"identifier\": {\r\n    \"type\": \"dns\",\r\n    \"value\": \"baz.example.com\"\r\n  },\r\n  \"status\": \"valid\",\r\n  \"expires\": \"2021-01-22T15:38:11Z\",\r\n  \"challenges\": [\r\n    {\r\n      \"type\": \"http-01\",\r\n      \"status\": \"valid\",\r\n      \"url\": \"https://acme-v02.api.letsencrypt.org/acme/chall-v3/9527175139/dL9MQg\",\r\n      \"token\": \"lKzoQ3pnU7CkxwITqHlaCD4p9QT1tmWwoft_pkd6hCw\",\r\n      \"validationRecord\": [\r\n        {\r\n          \"url\": \"http://baz.example.com/.well-known/acme-challenge/lKzoQ3pnU7CkxwITqHlaCD4p9QT1tmWwoft_pkd6hCw\",\r\n          \"hostname\": \"baz.example.com\",\r\n          \"port\": \"80\",\r\n          \"addressesResolved\": [\r\n            \"159.69.204.13\",\r\n            \"2a01:4f8:1c0c:6f75::1\"\r\n          ],\r\n          \"addressUsed\": \"2a01:4f8:1c0c:6f75::1\"\r\n        }\r\n      ]\r\n    }\r\n  ]\r\n}\r\n2020-12-25 01:39:59,435:DEBUG:acme.client:Storing nonce: 0103hXz66L2LARqi4tw8x8a1BhzQFvx5VJoYQIo7BKN7gUc\r\n2020-12-25 01:39:59,436:DEBUG:acme.client:JWS payload:\r\nb''\r\n2020-12-25 01:39:59,439:DEBUG:acme.client:Sending POST request to https://acme-v02.api.letsencrypt.org/acme/authz-v3/9559476311:\r\n{\r\n  \"protected\": \"[redacted]\",\r\n  \"signature\": \"RfCBGrnbDwQZtHuhdXlOeqw8rdm7kZRGTboxrzGFy6M_WZFoDW7XsOskpPWfKp5oMVu5BlCjfDj4kFBb7mdG8Pt6HwK7j2wTmr0V4PuoT1KPs_sRkt9jvq4s9NA_nAiyk-CdZyhxu9YT7ex8Nf99oW1K00BvVPDXGTtgWB8NPyXp4dR02WoLZR_TWa52wYEhrNw_FXiE_uUiwqs1Cij520UQ5rf26wPzlGYr0n2O-eqwTKJ2ljYmThiwlJnOd_bEHG8UdClHt5Jo9oK5SzibsmmjfsmJCYjxcACSIjQnOFE8i0DyX6BaEcrVj5NHHOoXMWfFLpFUOI8uLeuZbKGxhA\",\r\n  \"payload\": \"\"\r\n}\r\n2020-12-25 01:39:59,605:DEBUG:urllib3.connectionpool:https://acme-v02.api.letsencrypt.org:443 \"POST /acme/authz-v3/9559476311 HTTP/1.1\" 200 765\r\n2020-12-25 01:39:59,606:DEBUG:acme.client:Received response:\r\nHTTP 200\r\nServer: nginx\r\nDate: Fri, 25 Dec 2020 00:39:59 GMT\r\nContent-Type: application/json\r\nContent-Length: 765\r\nConnection: keep-alive\r\nBoulder-Requester: 106852302\r\nCache-Control: public, max-age=0, no-cache\r\nLink: <https://acme-v02.api.letsencrypt.org/directory>;rel=\"index\"\r\nReplay-Nonce: 0103uVpc0hdrj68tiE6x8SC-YwLjEKraMpa9ksy1UerzLQs\r\nX-Frame-Options: DENY\r\nStrict-Transport-Security: max-age=604800\r\n\r\n{\r\n  \"identifier\": {\r\n    \"type\": \"dns\",\r\n    \"value\": \"bay.example.com\"\r\n  },\r\n  \"status\": \"valid\",\r\n  \"expires\": \"2021-01-24T00:39:58Z\",\r\n  \"challenges\": [\r\n    {\r\n      \"type\": \"http-01\",\r\n      \"status\": \"valid\",\r\n      \"url\": \"https://acme-v02.api.letsencrypt.org/acme/chall-v3/9559476311/3HbcdA\",\r\n      \"token\": \"7iQiWdQxrQ4h4bqNX2iPRDOxysclbAYHLWA5hu744fQ\",\r\n      \"validationRecord\": [\r\n        {\r\n          \"url\": \"http://bay.example.com/.well-known/acme-challenge/7iQiWdQxrQ4h4bqNX2iPRDOxysclbAYHLWA5hu744fQ\",\r\n          \"hostname\": \"bay.example.com\",\r\n          \"port\": \"80\",\r\n          \"addressesResolved\": [\r\n            \"94.130.183.159\",\r\n            \"2a01:4f8:c2c:2fd8::1\"\r\n          ],\r\n          \"addressUsed\": \"2a01:4f8:c2c:2fd8::1\"\r\n        }\r\n      ]\r\n    }\r\n  ]\r\n}\r\n2020-12-25 01:39:59,606:DEBUG:acme.client:Storing nonce: 0103uVpc0hdrj68tiE6x8SC-YwLjEKraMpa9ksy1UerzLQs\r\n2020-12-25 01:39:59,607:DEBUG:certbot._internal.error_handler:Calling registered functions\r\n2020-12-25 01:39:59,607:INFO:certbot._internal.auth_handler:Cleaning up challenges\r\n2020-12-25 01:39:59,608:DEBUG:certbot._internal.plugins.webroot:Removing /var/www/html/.well-known/acme-challenge/7iQiWdQxrQ4h4bqNX2iPRDOxysclbAYHLWA5hu744fQ\r\n2020-12-25 01:39:59,608:DEBUG:certbot._internal.plugins.webroot:All challenges cleaned up\r\n2020-12-25 01:39:59,609:DEBUG:certbot._internal.client:CSR: CSR(file='/etc/letsencrypt/csr/0007_csr-certbot.pem', data=b'-----BEGIN CERTIFICATE REQUEST-----\\n[redacted]\\n-----END CERTIFICATE REQUEST-----\\n', form='pem')\r\n2020-12-25 01:39:59,610:DEBUG:acme.client:JWS payload:\r\nb'{\\n  \"csr\": \"[redacted]\"\\n}'\r\n2020-12-25 01:39:59,612:DEBUG:acme.client:Sending POST request to https://acme-v02.api.letsencrypt.org/acme/finalize/106852302/6926982208:\r\n{\r\n  \"protected\": \"[redacted]\",\r\n  \"signature\": \"P1yDZfAAwPiS-F2WknmOH-ScVJLUOCIGkmYZEPfoEDgHCrddXFmKQNrLErHUVhP6SzN-AG34-IicFl7tzpxe2MvOWkwuhXeCZtz4BjDSXnW5ojMzTRPHspw7IHYeHGlu7j5DPvOPQ-BhpopJ-UqQvGMkSRm6vPIBYv5f6eCPLexjB1wPKV7qndAgMfBBMm9KCZZLeSCZUr_xK7ozr2gLM1YEgynAnv4WTtA16w2rxQLRx1_OaxTDyUFdAUicJ-LkRfE1ESklDfv5w4l3_NSJAcld3JZrL0mUPMOP_Fm39kb5kKNfve4b1k4LajYjKGA551Xjd2TXqWJlXo9xKr_Wew\",\r\n  \"payload\": \"[redacted]\"\r\n}\r\n2020-12-25 01:40:00,271:DEBUG:urllib3.connectionpool:https://acme-v02.api.letsencrypt.org:443 \"POST /acme/finalize/106852302/6926982208 HTTP/1.1\" 200 856\r\n2020-12-25 01:40:00,272:DEBUG:acme.client:Received response:\r\nHTTP 200\r\nServer: nginx\r\nDate: Fri, 25 Dec 2020 00:40:00 GMT\r\nContent-Type: application/json\r\nContent-Length: 856\r\nConnection: keep-alive\r\nBoulder-Requester: 106852302\r\nCache-Control: public, max-age=0, no-cache\r\nLink: <https://acme-v02.api.letsencrypt.org/directory>;rel=\"index\"\r\nLocation: https://acme-v02.api.letsencrypt.org/acme/order/106852302/6926982208\r\nReplay-Nonce: 0103Z2b0vO5IhOuNrF6Bgvjs-hr4jL5UiorbkHNviRKB4WM\r\nX-Frame-Options: DENY\r\nStrict-Transport-Security: max-age=604800\r\n\r\n{\r\n  \"status\": \"valid\",\r\n  \"expires\": \"2021-01-01T00:39:56Z\",\r\n  \"identifiers\": [\r\n    {\r\n      \"type\": \"dns\",\r\n      \"value\": \"bar.example.com\"\r\n    },\r\n    {\r\n      \"type\": \"dns\",\r\n      \"value\": \"bay.example.com\"\r\n    },\r\n    {\r\n      \"type\": \"dns\",\r\n      \"value\": \"foo.example.com\"\r\n    },\r\n    {\r\n      \"type\": \"dns\",\r\n      \"value\": \"baz.example.com\"\r\n    }\r\n  ],\r\n  \"authorizations\": [\r\n    \"https://acme-v02.api.letsencrypt.org/acme/authz-v3/9432645632\",\r\n    \"https://acme-v02.api.letsencrypt.org/acme/authz-v3/9527175139\",\r\n    \"https://acme-v02.api.letsencrypt.org/acme/authz-v3/9536155428\",\r\n    \"https://acme-v02.api.letsencrypt.org/acme/authz-v3/9559476311\"\r\n  ],\r\n  \"finalize\": \"https://acme-v02.api.letsencrypt.org/acme/finalize/106852302/6926982208\",\r\n  \"certificate\": \"https://acme-v02.api.letsencrypt.org/acme/cert/041588812a96e336a1e4498090a1edb8dbcc\"\r\n}\r\n2020-12-25 01:40:00,272:DEBUG:acme.client:Storing nonce: 0103Z2b0vO5IhOuNrF6Bgvjs-hr4jL5UiorbkHNviRKB4WM\r\n2020-12-25 01:40:01,274:DEBUG:acme.client:JWS payload:\r\nb''\r\n2020-12-25 01:40:01,276:DEBUG:acme.client:Sending POST request to https://acme-v02.api.letsencrypt.org/acme/order/106852302/6926982208:\r\n{\r\n  \"protected\": \"[redacted]\",\r\n  \"signature\": \"CVLrg9mEyfevPTRXc80WvGdOBClOsXvn0_aJxXNmtR9I7O0mwOTl8NNSA5jT6wOzT3JZsMvjJYPBwfxt_ovTNP7POwIQnztVJFDR_t13w1B6iGmymgVoKE01N8jWkCNKm1WUMIDTeOeAc5zelWcYzxN8MfXuVkA3gULsV6qFK92tvizoIwULmyst_HuNqYzmi451WK3YgxIzr7lygg4dgusjQdX-pWhw5UFtpGb0bvUCw3QIcxQepBGybPwmQx-e4HuOC2UZcFWp1W4VzbhLQ9qwuYWWKWZn_JoJ3lgX_eMesgdakcp4MRvy3LqTi8q-CagwDECTiqT4RE2P7d7aUA\",\r\n  \"payload\": \"\"\r\n}\r\n2020-12-25 01:40:01,445:DEBUG:urllib3.connectionpool:https://acme-v02.api.letsencrypt.org:443 \"POST /acme/order/106852302/6926982208 HTTP/1.1\" 200 856\r\n2020-12-25 01:40:01,446:DEBUG:acme.client:Received response:\r\nHTTP 200\r\nServer: nginx\r\nDate: Fri, 25 Dec 2020 00:40:01 GMT\r\nContent-Type: application/json\r\nContent-Length: 856\r\nConnection: keep-alive\r\nCache-Control: public, max-age=0, no-cache\r\nLink: <https://acme-v02.api.letsencrypt.org/directory>;rel=\"index\"\r\nReplay-Nonce: 0103aHdQS8kZesBroMPuM-XYDGXd_TMhuDheQkNRtajr3E0\r\nX-Frame-Options: DENY\r\nStrict-Transport-Security: max-age=604800\r\n\r\n{\r\n  \"status\": \"valid\",\r\n  \"expires\": \"2021-01-01T00:39:56Z\",\r\n  \"identifiers\": [\r\n    {\r\n      \"type\": \"dns\",\r\n      \"value\": \"bar.example.com\"\r\n    },\r\n    {\r\n      \"type\": \"dns\",\r\n      \"value\": \"bay.example.com\"\r\n    },\r\n    {\r\n      \"type\": \"dns\",\r\n      \"value\": \"foo.example.com\"\r\n    },\r\n    {\r\n      \"type\": \"dns\",\r\n      \"value\": \"baz.example.com\"\r\n    }\r\n  ],\r\n  \"authorizations\": [\r\n    \"https://acme-v02.api.letsencrypt.org/acme/authz-v3/9432645632\",\r\n    \"https://acme-v02.api.letsencrypt.org/acme/authz-v3/9527175139\",\r\n    \"https://acme-v02.api.letsencrypt.org/acme/authz-v3/9536155428\",\r\n    \"https://acme-v02.api.letsencrypt.org/acme/authz-v3/9559476311\"\r\n  ],\r\n  \"finalize\": \"https://acme-v02.api.letsencrypt.org/acme/finalize/106852302/6926982208\",\r\n  \"certificate\": \"https://acme-v02.api.letsencrypt.org/acme/cert/041588812a96e336a1e4498090a1edb8dbcc\"\r\n}\r\n2020-12-25 01:40:01,446:DEBUG:acme.client:Storing nonce: 0103aHdQS8kZesBroMPuM-XYDGXd_TMhuDheQkNRtajr3E0\r\n2020-12-25 01:40:01,447:DEBUG:acme.client:JWS payload:\r\nb''\r\n2020-12-25 01:40:01,449:DEBUG:acme.client:Sending POST request to https://acme-v02.api.letsencrypt.org/acme/cert/041588812a96e336a1e4498090a1edb8dbcc:\r\n{\r\n  \"protected\": \"[redacted]\",\r\n  \"signature\": \"yCi7TRIOZk1jm7FDrl4C09NOc9m_rIJuzAF9sPdvzRXOY2NXiCbHQtVvDdfoYWUdEPzWQEfgOgxEI9eXbHOHj9BvEV_6tHh7aDV_R_wNd37zR6u21bKho352YhCv3bxA3WfV5KPqs7hvAPtsWu8xee5YGgKlpeAnfMVDOkog8OuojfV68fkia3tOSGKJLgqhOrBlCETvYobS41Nr2_B4zprWA3InxtHE1bBJ91SsTGWrBeEux7TrXw2r5YWdS46r-SDUgo-gzOp7WeQJliLVcg5hHxvEs4gKubrVZ7CgdDlqCIcBb2HFkIfZPzorocSU62lPx3lqVhiduZ-bu9zdbA\",\r\n  \"payload\": \"\"\r\n}\r\n2020-12-25 01:40:01,627:DEBUG:urllib3.connectionpool:https://acme-v02.api.letsencrypt.org:443 \"POST /acme/cert/041588812a96e336a1e4498090a1edb8dbcc HTTP/1.1\" 200 3518\r\n2020-12-25 01:40:01,627:DEBUG:acme.client:Received response:\r\nHTTP 200\r\nServer: nginx\r\nDate: Fri, 25 Dec 2020 00:40:01 GMT\r\nContent-Type: application/pem-certificate-chain\r\nContent-Length: 3518\r\nConnection: keep-alive\r\nCache-Control: public, max-age=0, no-cache\r\nLink: <https://acme-v02.api.letsencrypt.org/directory>;rel=\"index\", <https://acme-v02.api.letsencrypt.org/acme/cert/041588812a96e336a1e4498090a1edb8dbcc/1>;rel=\"alternate\"\r\nReplay-Nonce: 0104nXo4tQdoUvCg30geWtmxSo5LBzLC2qZIuRiugFIiHUo\r\nX-Frame-Options: DENY\r\nStrict-Transport-Security: max-age=604800\r\n\r\n-----BEGIN CERTIFICATE-----\r\n[.. redacted PEM ..]\r\n-----END CERTIFICATE-----\r\n\r\n-----BEGIN CERTIFICATE-----\r\n[.. redacted PEM ..]\r\n-----END CERTIFICATE-----\r\n\r\n2020-12-25 01:40:01,627:DEBUG:acme.client:Storing nonce: 0104nXo4tQdoUvCg30geWtmxSo5LBzLC2qZIuRiugFIiHUo\r\n2020-12-25 01:40:01,630:DEBUG:certbot._internal.storage:Writing new private key to /etc/letsencrypt/archive/mta-multi-san/privkey4.pem.\r\n2020-12-25 01:40:01,630:DEBUG:certbot._internal.storage:Writing certificate to /etc/letsencrypt/archive/mta-multi-san/cert4.pem.\r\n2020-12-25 01:40:01,630:DEBUG:certbot._internal.storage:Writing chain to /etc/letsencrypt/archive/mta-multi-san/chain4.pem.\r\n2020-12-25 01:40:01,631:DEBUG:certbot._internal.storage:Writing full chain to /etc/letsencrypt/archive/mta-multi-san/fullchain4.pem.\r\n2020-12-25 01:40:01,651:DEBUG:certbot._internal.cli:Var authenticator=webroot (set by user).\r\n2020-12-25 01:40:01,651:DEBUG:certbot._internal.cli:Var manual_public_ip_logging_ok=None (set by user).\r\n2020-12-25 01:40:01,651:DEBUG:certbot._internal.cli:Var webroot_path=/var/www/html (set by user).\r\n2020-12-25 01:40:01,652:DEBUG:certbot._internal.cli:Var webroot_path=/var/www/html (set by user).\r\n2020-12-25 01:40:01,652:DEBUG:certbot._internal.cli:Var webroot_map={'webroot_path'} (set by user).\r\n2020-12-25 01:40:01,652:DEBUG:certbot._internal.storage:Writing new config /etc/letsencrypt/renewal/mta-multi-san.conf.new.\r\n2020-12-25 01:40:01,654:INFO:certbot.compat.misc:Running deploy-hook command: /etc/letsencrypt/renewal-hooks/deploy/expose-cert.sh\r\n2020-12-25 01:40:01,842:ERROR:certbot.compat.misc:Error output from deploy-hook command expose-cert.sh:\r\nwriting RSA key\r\n\r\n2020-12-25 01:40:01,845:DEBUG:certbot._internal.reporter:Reporting to user: Congratulations! Your certificate and chain have been saved at:\r\n/etc/letsencrypt/live/mta-multi-san/fullchain.pem\r\nYour key file has been saved at:\r\n/etc/letsencrypt/live/mta-multi-san/privkey.pem\r\nYour cert will expire on 2021-03-24. To obtain a new or tweaked version of this certificate in the future, simply run certbot again. To non-interactively renew *all* of your certificates, run \"certbot renew\"\r\n2020-12-25 01:40:01,845:DEBUG:certbot._internal.reporter:Reporting to user: If you like Certbot, please consider supporting our work by:\r\n\r\nDonating to ISRG / Let's Encrypt:   https://letsencrypt.org/donate\r\nDonating to EFF:                    https://eff.org/donate-le\r\n\r\n```\r\n\r\n## Here is the relevant nginx server block or Apache virtualhost for the domain I am configuring:\r\n\r\nnginx is redirecting all HTTP requests to HTTPS unless using prefix **.well-known**:\r\n\r\n```\r\nserver {\r\n        listen 80 default_server;\r\n        listen [::]:80 default_server;\r\n\r\n        # handle ACME/certbot requests locally\r\n        location /.well-known {\r\n                root /var/www/html;\r\n        }\r\n\r\n        # show local document for all other requests\r\n        location / {\r\n                root /var/www/html;\r\n        }\r\n}\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/8565/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/8565/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/8540", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/8540/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/8540/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/8540/events", "html_url": "https://github.com/certbot/certbot/issues/8540", "id": 768285972, "node_id": "MDU6SXNzdWU3NjgyODU5NzI=", "number": 8540, "title": "Certbot always adds manual_public_logging_ok to configuration file", "user": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 200596079, "node_id": "MDU6TGFiZWwyMDA1OTYwNzk=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20ui%20/%20ux", "name": "area: ui / ux", "color": "c5def5", "default": false, "description": null}, {"id": 1226192284, "node_id": "MDU6TGFiZWwxMjI2MTkyMjg0", "url": "https://api.github.com/repos/certbot/certbot/labels/priority:%20high", "name": "priority: high", "color": "5319e7", "default": false, "description": "Issues that should be included in the current milestone if at all possible."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/91", "html_url": "https://github.com/certbot/certbot/milestone/91", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/91/labels", "id": 6018395, "node_id": "MDk6TWlsZXN0b25lNjAxODM5NQ==", "number": 91, "title": "1.12.0", "description": "", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 7, "state": "closed", "created_at": "2020-10-21T23:54:24Z", "updated_at": "2021-02-02T23:39:13Z", "due_on": "2021-02-02T08:00:00Z", "closed_at": "2021-02-02T23:39:13Z"}, "comments": 9, "created_at": "2020-12-15T23:09:47Z", "updated_at": "2021-01-28T20:34:51Z", "closed_at": "2021-01-28T20:34:51Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "After https://github.com/certbot/certbot/pull/8500, Certbot always includes `manual_public_ip_logging_ok = None` in its renewal configuration file. That PR took the approach of making adding deprecated plugin flags work the same way as adding deprecated core Certbot flags. Turns out there's also a bug in that approach too which was also introduced by the default detection system in 2016 in https://github.com/certbot/certbot/pull/2388.\r\n\r\nThe bug is `certbot._internal.cli.set_by_cli('manual_public_logging_ok')` always returns `True` because [its looking for our magic default value](https://github.com/certbot/certbot/blob/fcc8b38c02cc10ff320b401ffa242f2253ce9552/certbot/certbot/_internal/cli/__init__.py#L487) which deprecated flags don't have because we skip the extra default parsing [here](https://github.com/certbot/certbot/blob/fcc8b38c02cc10ff320b401ffa242f2253ce9552/certbot/certbot/_internal/cli/helpful.py#L361-L372). I think we never noticed this before because deprecated flags were either not relevant for renewal or they were plugin flags which took a single argument which worked properly before https://github.com/certbot/certbot/pull/8500.\r\n\r\nI think we should fix this, but I think the effect of the bug is pretty minimal. The only effect I can think of is people who downgrade their Certbot version (and are using the manual plugin) may have trouble, but that's always been the case.\r\n\r\nI started working on a fix for this at https://github.com/certbot/certbot/compare/deprecation-fix-part2. The code currently makes two changes:\r\n\r\n1. It causes deprecated arguments to have no effect on the resulting namespace config. It's probably fine, but this is currently relying on undocumented behavior which I asked about at https://bugs.python.org/issue42650.\r\n2. It causes renewal config items that start with the name of the selected plugin but are otherwise not recognized to be silently dropped.\r\n\r\nI'm unsure about (2). Our current behavior here is:\r\n\r\na. Any unrecognized parameters that do not start with the name of a plugin are silently dropped.\r\nb. We error about any unrecognized parameters that do start with the name of the plugin.\r\n\r\n(b) is kind of nice, but I think we should silently drop deprecated plugin options from the renewal config. If the option is deprecated (in the sense of the deprecation methods being used here), it has no effect and it will be removed in a future release. If we do not drop the option from the renewal config, Certbot will crash when it encounters the renewal config option after support for it has been removed.\r\n\r\nTo drop these flags while keeping the behavior in (b), I think we'd essentially need a generalized way to recognize deprecated plugin flags so they can be dropped. This seems tricky and for that reason I'm leaning towards just doing (2), but I wanted to get someone else's thoughts on this issue before I spent more time on it.", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/8540/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/8540/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/8501", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/8501/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/8501/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/8501/events", "html_url": "https://github.com/certbot/certbot/pull/8501", "id": 755682801, "node_id": "MDExOlB1bGxSZXF1ZXN0NTMxMzQ5NTYx", "number": 8501, "title": "Fix add deprecated argument on 1.10.x", "user": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 200596079, "node_id": "MDU6TGFiZWwyMDA1OTYwNzk=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20ui%20/%20ux", "name": "area: ui / ux", "color": "c5def5", "default": false, "description": null}, {"id": 276667632, "node_id": "MDU6TGFiZWwyNzY2Njc2MzI=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20pkging", "name": "area: pkging", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-12-02T23:17:42Z", "updated_at": "2020-12-03T08:06:17Z", "closed_at": "2020-12-03T08:06:06Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/certbot/certbot/pulls/8501", "html_url": "https://github.com/certbot/certbot/pull/8501", "diff_url": "https://github.com/certbot/certbot/pull/8501.diff", "patch_url": "https://github.com/certbot/certbot/pull/8501.patch", "merged_at": "2020-12-03T08:06:06Z"}, "body": "I think we should do a point release to fix https://github.com/certbot/certbot/issues/8495.\r\n\r\nThis PR cherry picks https://github.com/certbot/certbot/pull/8500 onto the 1.10.x branch to help accomplish this.\r\n\r\nWhile resolving the changelog merge conflicts, I updated the changelog to say 1.10.1 in the same we've done for past PRs like https://github.com/certbot/certbot/pull/7511.", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/8501/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/8501/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/certbot/certbot/issues/8500", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/8500/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/8500/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/8500/events", "html_url": "https://github.com/certbot/certbot/pull/8500", "id": 755608727, "node_id": "MDExOlB1bGxSZXF1ZXN0NTMxMjg4ODIy", "number": 8500, "title": "Fix add deprecated argument", "user": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 200596079, "node_id": "MDU6TGFiZWwyMDA1OTYwNzk=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20ui%20/%20ux", "name": "area: ui / ux", "color": "c5def5", "default": false, "description": null}, {"id": 277080619, "node_id": "MDU6TGFiZWwyNzcwODA2MTk=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20code%20health", "name": "area: code health", "color": "c5def5", "default": false, "description": null}, {"id": 1226192284, "node_id": "MDU6TGFiZWwxMjI2MTkyMjg0", "url": "https://api.github.com/repos/certbot/certbot/labels/priority:%20high", "name": "priority: high", "color": "5319e7", "default": false, "description": "Issues that should be included in the current milestone if at all possible."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/92", "html_url": "https://github.com/certbot/certbot/milestone/92", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/92/labels", "id": 6177458, "node_id": "MDk6TWlsZXN0b25lNjE3NzQ1OA==", "number": 92, "title": "1.10.1", "description": "", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 3, "state": "closed", "created_at": "2020-12-03T19:02:54Z", "updated_at": "2020-12-03T20:29:27Z", "due_on": "2020-12-03T08:00:00Z", "closed_at": "2020-12-03T19:05:11Z"}, "comments": 0, "created_at": "2020-12-02T21:04:34Z", "updated_at": "2020-12-03T19:03:19Z", "closed_at": "2020-12-02T23:08:08Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/certbot/certbot/pulls/8500", "html_url": "https://github.com/certbot/certbot/pull/8500", "diff_url": "https://github.com/certbot/certbot/pull/8500.diff", "patch_url": "https://github.com/certbot/certbot/pull/8500.patch", "merged_at": "2020-12-02T23:08:08Z"}, "body": "Fixes https://github.com/certbot/certbot/issues/8495.\r\n\r\nTo further explain the problem here, `modify_kwargs_for_default_detection` as called in `add` is simplistic and doesn't always work. See https://github.com/certbot/certbot/issues/6164 for one other example.\r\n\r\nIn this case, were bitten by the code https://github.com/certbot/certbot/blob/d1e7404358c05734aaf436ef3c9d709029d62b09/certbot/certbot/_internal/cli/helpful.py#L393-L395\r\n\r\nThe action used for deprecated arguments isn't in `ZERO_ARG_ACTIONS` so it assumes that all deprecated flags take one parameter.\r\n\r\nRather than trying to fix this function (which I think can only realistically be fixed by https://github.com/certbot/certbot/issues/4493), I took the approach that was previously used in `HelpfulArgumentParser.add_deprecated_argument` of bypassing this extra logic entirely. I adapted that function to now call `HelpfulArgumentParser.add` as well for consistency and to make testing easier.", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/8500/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/8500/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/certbot/certbot/issues/8495", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/8495/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/8495/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/8495/events", "html_url": "https://github.com/certbot/certbot/issues/8495", "id": 755121639, "node_id": "MDU6SXNzdWU3NTUxMjE2Mzk=", "number": 8495, "title": "manual-public-ip-logging-ok deprecation leads to error", "user": {"login": "st-h", "id": 5768353, "node_id": "MDQ6VXNlcjU3NjgzNTM=", "avatar_url": "https://avatars.githubusercontent.com/u/5768353?v=4", "gravatar_id": "", "url": "https://api.github.com/users/st-h", "html_url": "https://github.com/st-h", "followers_url": "https://api.github.com/users/st-h/followers", "following_url": "https://api.github.com/users/st-h/following{/other_user}", "gists_url": "https://api.github.com/users/st-h/gists{/gist_id}", "starred_url": "https://api.github.com/users/st-h/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/st-h/subscriptions", "organizations_url": "https://api.github.com/users/st-h/orgs", "repos_url": "https://api.github.com/users/st-h/repos", "events_url": "https://api.github.com/users/st-h/events{/privacy}", "received_events_url": "https://api.github.com/users/st-h/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 1226192284, "node_id": "MDU6TGFiZWwxMjI2MTkyMjg0", "url": "https://api.github.com/repos/certbot/certbot/labels/priority:%20high", "name": "priority: high", "color": "5319e7", "default": false, "description": "Issues that should be included in the current milestone if at all possible."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/92", "html_url": "https://github.com/certbot/certbot/milestone/92", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/92/labels", "id": 6177458, "node_id": "MDk6TWlsZXN0b25lNjE3NzQ1OA==", "number": 92, "title": "1.10.1", "description": "", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 3, "state": "closed", "created_at": "2020-12-03T19:02:54Z", "updated_at": "2020-12-03T20:29:27Z", "due_on": "2020-12-03T08:00:00Z", "closed_at": "2020-12-03T19:05:11Z"}, "comments": 10, "created_at": "2020-12-02T09:57:18Z", "updated_at": "2020-12-03T19:03:12Z", "closed_at": "2020-12-02T23:08:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am regularly running Certbot (latest docker image) to obtain new certificates when necessary. Tonight the Certbot command failed, which seems to be related to the deprecation of `manual-public-ip-logging-ok` within version `1.11.0`. Seems like this flag now requires an argument, which it previously did not. This is easy to fix, as it just means to remove the `--manual-public-ip-logging-ok` flag and things run fine again.\r\n\r\n\r\n```\r\nUse of --manual-public-ip-logging-ok is deprecated.\r\nSaving debug log to /var/log/letsencrypt/letsencrypt.log\r\nPlugins selected: Authenticator manual, Installer None\r\nusage: \r\n  certbot [SUBCOMMAND] [options] [-d DOMAIN] [-d DOMAIN] ...\r\nCertbot can obtain and install HTTPS/TLS/SSL certificates.  By default,\r\nit will attempt to use a webserver both for obtaining and installing the\r\ncertificate. \r\ncertbot: error: argument --manual-public-ip-logging-ok: expected one argument\r\n```", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/8495/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/8495/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/8377", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/8377/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/8377/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/8377/events", "html_url": "https://github.com/certbot/certbot/issues/8377", "id": 722407051, "node_id": "MDU6SXNzdWU3MjI0MDcwNTE=", "number": 8377, "title": "Error in aws ec2 instances", "user": {"login": "thiagodeandrade", "id": 35777700, "node_id": "MDQ6VXNlcjM1Nzc3NzAw", "avatar_url": "https://avatars.githubusercontent.com/u/35777700?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thiagodeandrade", "html_url": "https://github.com/thiagodeandrade", "followers_url": "https://api.github.com/users/thiagodeandrade/followers", "following_url": "https://api.github.com/users/thiagodeandrade/following{/other_user}", "gists_url": "https://api.github.com/users/thiagodeandrade/gists{/gist_id}", "starred_url": "https://api.github.com/users/thiagodeandrade/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thiagodeandrade/subscriptions", "organizations_url": "https://api.github.com/users/thiagodeandrade/orgs", "repos_url": "https://api.github.com/users/thiagodeandrade/repos", "events_url": "https://api.github.com/users/thiagodeandrade/events{/privacy}", "received_events_url": "https://api.github.com/users/thiagodeandrade/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 239432238, "node_id": "MDU6TGFiZWwyMzk0MzIyMzg=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20fedora%20/%20redhat%20/%20CentOS", "name": "area: fedora / redhat / CentOS", "color": "c5def5", "default": false, "description": null}, {"id": 276667632, "node_id": "MDU6TGFiZWwyNzY2Njc2MzI=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20pkging", "name": "area: pkging", "color": "c5def5", "default": false, "description": null}, {"id": 1771667669, "node_id": "MDU6TGFiZWwxNzcxNjY3NjY5", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20snaps", "name": "area: snaps", "color": "c5def5", "default": false, "description": ""}, {"id": 1923192304, "node_id": "MDU6TGFiZWwxOTIzMTkyMzA0", "url": "https://api.github.com/repos/certbot/certbot/labels/priority:%20significant", "name": "priority: significant", "color": "5319e7", "default": false, "description": "Issues with higher than average priority that do not need to be in the current milestone."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 14, "created_at": "2020-10-15T14:48:35Z", "updated_at": "2020-10-30T13:54:41Z", "closed_at": "2020-10-30T13:54:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "Error in aws ec2 instances\r\n\r\n## My operating system is (include version):\r\nAmazon Linux 2\r\n\r\n## I installed Certbot with (certbot-auto, OS package manager, pip, etc):\r\ninstalled with snap\r\n snap list\r\nName       Version      Rev    Tracking  Publisher     Notes\r\ncertbot    1.9.0        652    stable    certbot-eff\u2713  classic\r\n\r\n\r\n## I ran this command and it produced this output:\r\nany command with certbot return the same errors messages\r\n\r\nAn error occurred while fetching Certbot snap plugins: your version of snapd is outdated.\r\nPlease run \"sudo snap install core; sudo snap refresh core\" in your terminal and try again.\r\nAn unexpected error occurred:\r\nrequests.exceptions.HTTPError: 404 Client Error: Not Found for url: http://snapd/v2/connections?snap=certbot&interface=content\r\n\r\n\r\n## The snap is update\r\nsudo snap refresh core\r\nsnap \"core\" has no updates available\r\n\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/8377/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/8377/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/8373", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/8373/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/8373/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/8373/events", "html_url": "https://github.com/certbot/certbot/issues/8373", "id": 720713128, "node_id": "MDU6SXNzdWU3MjA3MTMxMjg=", "number": 8373, "title": "[Apache] Certbot Fail attempt to install cert on WSGI", "user": {"login": "DevDorrejo", "id": 7697566, "node_id": "MDQ6VXNlcjc2OTc1NjY=", "avatar_url": "https://avatars.githubusercontent.com/u/7697566?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DevDorrejo", "html_url": "https://github.com/DevDorrejo", "followers_url": "https://api.github.com/users/DevDorrejo/followers", "following_url": "https://api.github.com/users/DevDorrejo/following{/other_user}", "gists_url": "https://api.github.com/users/DevDorrejo/gists{/gist_id}", "starred_url": "https://api.github.com/users/DevDorrejo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DevDorrejo/subscriptions", "organizations_url": "https://api.github.com/users/DevDorrejo/orgs", "repos_url": "https://api.github.com/users/DevDorrejo/repos", "events_url": "https://api.github.com/users/DevDorrejo/events{/privacy}", "received_events_url": "https://api.github.com/users/DevDorrejo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 276680181, "node_id": "MDU6TGFiZWwyNzY2ODAxODE=", "url": "https://api.github.com/repos/certbot/certbot/labels/more-info", "name": "more-info", "color": "006b75", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-10-13T19:21:08Z", "updated_at": "2021-10-14T18:48:20Z", "closed_at": "2021-10-14T18:48:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "## My operating system is (include version): \r\nOpenSUSe Leap 15.2\r\n\r\n\r\n## I installed Certbot with (certbot-auto, OS package manager, pip, etc): \r\npip\r\n\r\n\r\n## I ran this command and it produced this output: \r\ncertbot --apache\r\n\r\n\r\n## Certbot's behavior differed from what I expected because:\r\nNot install the existing cert on the Vhost\r\n\r\n\r\n## Here is a Certbot log showing the issue (if available):\r\n###### Logs are stored in `/var/log/letsencrypt` by default. Feel free to redact domains, e-mail and IP addresses as you see fit.\r\n```\r\n2020-10-13 15:18:09,200:DEBUG:certbot._internal.error_handler:Calling registered functions\r\n2020-10-13 15:18:09,200:CRITICAL:certbot._internal.client:Rolling back to previous server configuration...\r\n2020-10-13 15:18:09,463:DEBUG:certbot._internal.reporter:Reporting to user: We were unable to install your certificate, however, we successfully restored your server to its prior configuration.\r\n2020-10-13 15:18:09,463:DEBUG:certbot._internal.log:Exiting abnormally:\r\nTraceback (most recent call last):\r\nFile \"/opt/pip/lib/python3.6/site-packages/certbot_apache/_internal/configurator.py\", line 2446, in config_test\r\nutil.run_script(self.option(\"conftest_cmd\"))\r\nFile \"/opt/pip/lib/python3.6/site-packages/certbot/util.py\", line 115, in run_script\r\nraise errors.SubprocessError(msg)\r\ncertbot.errors.SubprocessError: Error while running apache2ctl configtest.\r\n\r\nAH00526: Syntax error on line 4 of /etc/apache2/vhosts.d/pg.example.com.conf:\r\nName duplicates previous WSGI daemon definition.\r\n\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\nFile \"/opt/pip/bin/certbot\", line 8, in <module>\r\nsys.exit(main())\r\nFile \"/opt/pip/lib/python3.6/site-packages/certbot/main.py\", line 15, in main\r\nreturn internal_main.main(cli_args)\r\nFile \"/opt/pip/lib/python3.6/site-packages/certbot/_internal/main.py\", line 1362, in main\r\nreturn config.func(config, plugins)\r\nFile \"/opt/pip/lib/python3.6/site-packages/certbot/_internal/main.py\", line 1115, in run\r\n_install_cert(config, le_client, domains, new_lineage)\r\nFile \"/opt/pip/lib/python3.6/site-packages/certbot/_internal/main.py\", line 759, in _install_cert\r\npath_provider.cert_path, path_provider.chain_path, path_provider.fullchain_path)\r\nFile \"/opt/pip/lib/python3.6/site-packages/certbot/_internal/client.py\", line 530, in deploy_certificate\r\nself.installer.restart()\r\nFile \"/opt/pip/lib/python3.6/site-packages/certbot_apache/_internal/configurator.py\", line 2409, in restart\r\nself.config_test()\r\nFile \"/opt/pip/lib/python3.6/site-packages/certbot_apache/_internal/configurator.py\", line 2448, in config_test\r\nraise errors.MisconfigurationError(str(err))\r\ncertbot.errors.MisconfigurationError: Error while running apache2ctl configtest.\r\n\r\nAH00526: Syntax error on line 4 of /etc/apache2/vhosts.d/pg.example.com.conf:\r\nName duplicates previous WSGI daemon definition.\r\n\r\n2020-10-13 15:18:09,464:ERROR:certbot._internal.log:Error while running apache2ctl configtest.\r\n\r\nAH00526: Syntax error on line 4 of /etc/apache2/vhosts.d/pg.example.com.conf:\r\nName duplicates previous WSGI daemon definition.\r\n```\r\n## Here is the relevant nginx server block or Apache virtualhost for the domain I am configuring:\r\n```\r\n<VirtualHost *:80>\r\nServerName pg.example.com\r\n\r\nWSGIDaemonProcess pgadmin processes=1 threads=25 python-home=/opt/pip\r\nWSGIScriptAlias / /opt/pip/lib/python3.6/site-packages/pgadmin4/pgAdmin4.wsgi\r\n\r\nErrorLog /var/log/apache2/pg-error_log\r\nCustomLog /var/log/apache2/pg-access_log combined\r\n\r\n<Directory /opt/pip/lib/python3.6/site-packages/pgadmin4>\r\nWSGIProcessGroup pgadmin\r\nWSGIApplicationGroup %{GLOBAL}\r\nRequire all granted\r\n</Directory>\r\n</VirtualHost>\r\n```", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/8373/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/8373/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/8371", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/8371/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/8371/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/8371/events", "html_url": "https://github.com/certbot/certbot/pull/8371", "id": 720388044, "node_id": "MDExOlB1bGxSZXF1ZXN0NTAyNDM0Nzgy", "number": 8371, "title": "Read files as binary in crypto_util for crypto.load_certificate.", "user": {"login": "atombrella", "id": 6141390, "node_id": "MDQ6VXNlcjYxNDEzOTA=", "avatar_url": "https://avatars.githubusercontent.com/u/6141390?v=4", "gravatar_id": "", "url": "https://api.github.com/users/atombrella", "html_url": "https://github.com/atombrella", "followers_url": "https://api.github.com/users/atombrella/followers", "following_url": "https://api.github.com/users/atombrella/following{/other_user}", "gists_url": "https://api.github.com/users/atombrella/gists{/gist_id}", "starred_url": "https://api.github.com/users/atombrella/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/atombrella/subscriptions", "organizations_url": "https://api.github.com/users/atombrella/orgs", "repos_url": "https://api.github.com/users/atombrella/repos", "events_url": "https://api.github.com/users/atombrella/events{/privacy}", "received_events_url": "https://api.github.com/users/atombrella/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-10-13T15:03:20Z", "updated_at": "2020-11-18T09:44:20Z", "closed_at": "2020-11-18T00:02:36Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/certbot/certbot/pulls/8371", "html_url": "https://github.com/certbot/certbot/pull/8371", "diff_url": "https://github.com/certbot/certbot/pull/8371.diff", "patch_url": "https://github.com/certbot/certbot/pull/8371.patch", "merged_at": "2020-11-18T00:02:36Z"}, "body": "This was highlighted by PyCharm. The doc-string for `load_certificate` says `bytes` for the `buffer` parameter.\r\n\r\n## Pull Request Checklist\r\n\r\n- [x] If the change being made is to a [distributed component](https://certbot.eff.org/docs/contributing.html#code-components-and-layout), edit the `master` section of `certbot/CHANGELOG.md` to include a description of the change being made.\r\n- [x] Include your name in `AUTHORS.md` if you like.\r\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/8371/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/8371/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/certbot/certbot/issues/8355", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/8355/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/8355/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/8355/events", "html_url": "https://github.com/certbot/certbot/issues/8355", "id": 716768778, "node_id": "MDU6SXNzdWU3MTY3Njg3Nzg=", "number": 8355, "title": "Docker image for certbot/dns-digitalocean:v1.9.0 (current latest) raising ModuleNotFoundError: No module named 'certbot_dns_cloudxns'", "user": {"login": "tiangolo", "id": 1326112, "node_id": "MDQ6VXNlcjEzMjYxMTI=", "avatar_url": "https://avatars.githubusercontent.com/u/1326112?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tiangolo", "html_url": "https://github.com/tiangolo", "followers_url": "https://api.github.com/users/tiangolo/followers", "following_url": "https://api.github.com/users/tiangolo/following{/other_user}", "gists_url": "https://api.github.com/users/tiangolo/gists{/gist_id}", "starred_url": "https://api.github.com/users/tiangolo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tiangolo/subscriptions", "organizations_url": "https://api.github.com/users/tiangolo/orgs", "repos_url": "https://api.github.com/users/tiangolo/repos", "events_url": "https://api.github.com/users/tiangolo/events{/privacy}", "received_events_url": "https://api.github.com/users/tiangolo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 276667632, "node_id": "MDU6TGFiZWwyNzY2Njc2MzI=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20pkging", "name": "area: pkging", "color": "c5def5", "default": false, "description": null}, {"id": 1197635214, "node_id": "MDU6TGFiZWwxMTk3NjM1MjE0", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20docker", "name": "area: docker", "color": "c5def5", "default": false, "description": ""}, {"id": 1226192095, "node_id": "MDU6TGFiZWwxMjI2MTkyMDk1", "url": "https://api.github.com/repos/certbot/certbot/labels/priority:%20critical", "name": "priority: critical", "color": "5319e7", "default": false, "description": "Regressions or features that must be included in the current milestone."}], "state": "closed", "locked": false, "assignee": {"login": "adferrand", "id": 9728851, "node_id": "MDQ6VXNlcjk3Mjg4NTE=", "avatar_url": "https://avatars.githubusercontent.com/u/9728851?v=4", "gravatar_id": "", "url": "https://api.github.com/users/adferrand", "html_url": "https://github.com/adferrand", "followers_url": "https://api.github.com/users/adferrand/followers", "following_url": "https://api.github.com/users/adferrand/following{/other_user}", "gists_url": "https://api.github.com/users/adferrand/gists{/gist_id}", "starred_url": "https://api.github.com/users/adferrand/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/adferrand/subscriptions", "organizations_url": "https://api.github.com/users/adferrand/orgs", "repos_url": "https://api.github.com/users/adferrand/repos", "events_url": "https://api.github.com/users/adferrand/events{/privacy}", "received_events_url": "https://api.github.com/users/adferrand/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "adferrand", "id": 9728851, "node_id": "MDQ6VXNlcjk3Mjg4NTE=", "avatar_url": "https://avatars.githubusercontent.com/u/9728851?v=4", "gravatar_id": "", "url": "https://api.github.com/users/adferrand", "html_url": "https://github.com/adferrand", "followers_url": "https://api.github.com/users/adferrand/followers", "following_url": "https://api.github.com/users/adferrand/following{/other_user}", "gists_url": "https://api.github.com/users/adferrand/gists{/gist_id}", "starred_url": "https://api.github.com/users/adferrand/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/adferrand/subscriptions", "organizations_url": "https://api.github.com/users/adferrand/orgs", "repos_url": "https://api.github.com/users/adferrand/repos", "events_url": "https://api.github.com/users/adferrand/events{/privacy}", "received_events_url": "https://api.github.com/users/adferrand/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/88", "html_url": "https://github.com/certbot/certbot/milestone/88", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/88/labels", "id": 5624348, "node_id": "MDk6TWlsZXN0b25lNTYyNDM0OA==", "number": 88, "title": "1.10.0", "description": "UX work, ECDSA support, and minor packaging improvements", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 22, "state": "closed", "created_at": "2020-07-06T18:46:11Z", "updated_at": "2020-12-01T22:36:33Z", "due_on": "2020-12-01T08:00:00Z", "closed_at": "2020-12-01T22:36:33Z"}, "comments": 13, "created_at": "2020-10-07T18:46:54Z", "updated_at": "2020-10-26T22:20:28Z", "closed_at": "2020-10-26T22:20:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "## My operating system is (include version):\r\n\r\nRemote Ubuntu 18.04.5 LTS\r\n\r\n## I installed Certbot with (certbot-auto, OS package manager, pip, etc):\r\n\r\nDocker, using the image `certbot/dns-digitalocean:latest` or `certbot/dns-digitalocean:v1.9.0` :x: \r\n\r\nIt seems `certbot/dns-digitalocean:v1.8.0` is fine. :heavy_check_mark: \r\n\r\n## I ran this command and it produced this output:\r\n\r\n```console\r\n$ sudo docker run -v /tmp/certbottmp:/tmp -it certbot/dns-digitalocean\r\n\r\nAn unexpected error occurred:\r\nModuleNotFoundError: No module named 'certbot_dns_cloudxns'\r\nPlease see the logfile '/tmp/tmp9z4sh_ay/log' for more details.\r\n```\r\n\r\nThere's no need to pass any other parameters to replicate the issue.\r\n\r\nIt will try to import `certbot_dns_cloudxns` at some point while starting. I see is a different plugin than `certbot_dns_digitalocean`, but it seems it's been expected by `certbot/dns-digitalocean:v1.9.0`, but it's not installed in the system.\r\n\r\n## Certbot's behavior differed from what I expected because:\r\n\r\nIt errors out immediately, after trying to import that module (which is for another plugin).\r\n\r\nI expected it to run, and say something like:\r\n\r\n```\r\nSaving debug log to /var/log/letsencrypt/letsencrypt.log\r\nCertbot doesn't know how to automatically configure the web server on this system. However, it can still get a certificate for you. Please run \"certbot certonly\" to do so. You'll need to manually configure your web server to use the resulting certificate.\r\n```\r\n\r\n## Here is a Certbot log showing the issue (if available):\r\n###### Logs are stored in `/var/log/letsencrypt` by default. Feel free to redact domains, e-mail and IP addresses as you see fit.\r\n\r\n```\r\n2020-10-07 18:41:58,063:DEBUG:certbot._internal.log:Exiting abnormally:\r\nTraceback (most recent call last):\r\n  File \"/usr/local/bin/certbot\", line 11, in <module>\r\n    load_entry_point('certbot', 'console_scripts', 'certbot')()\r\n  File \"/opt/certbot/src/certbot/certbot/main.py\", line 15, in main\r\n    return internal_main.main(cli_args)\r\n  File \"/opt/certbot/src/certbot/certbot/_internal/main.py\", line 1332, in main\r\n    plugins = plugins_disco.PluginsRegistry.find_all()\r\n  File \"/opt/certbot/src/certbot/certbot/_internal/plugins/disco.py\", line 236, in find_all\r\n    plugin_ep = cls._load_entry_point(entry_point, plugins, with_prefix=False)\r\n  File \"/opt/certbot/src/certbot/certbot/_internal/plugins/disco.py\", line 251, in _load_entry_point\r\n    plugin_ep = PluginEntryPoint(entry_point, with_prefix)\r\n  File \"/opt/certbot/src/certbot/certbot/_internal/plugins/disco.py\", line 56, in __init__\r\n    self.plugin_cls = entry_point.load()\r\n  File \"/usr/local/lib/python3.8/site-packages/pkg_resources/__init__.py\", line 2346, in load\r\n    return self.resolve()\r\n  File \"/usr/local/lib/python3.8/site-packages/pkg_resources/__init__.py\", line 2352, in resolve\r\n    module = __import__(self.module_name, fromlist=['__name__'], level=0)\r\nModuleNotFoundError: No module named 'certbot_dns_cloudxns'\r\n2020-10-07 18:41:58,063:ERROR:certbot._internal.log:An unexpected error occurred:\r\n2020-10-07 18:41:58,064:ERROR:certbot._internal.log:ModuleNotFoundError: No module named 'certbot_dns_cloudxns'\r\n```\r\n\r\n## Here is the relevant nginx server block or Apache virtualhost for the domain I am configuring:\r\n\r\nN/A, it crashes before anything else.\r\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/8355/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/8355/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/8280", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/8280/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/8280/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/8280/events", "html_url": "https://github.com/certbot/certbot/issues/8280", "id": 698549717, "node_id": "MDU6SXNzdWU2OTg1NDk3MTc=", "number": 8280, "title": "jq error in Certbot snap", "user": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 1226192284, "node_id": "MDU6TGFiZWwxMjI2MTkyMjg0", "url": "https://api.github.com/repos/certbot/certbot/labels/priority:%20high", "name": "priority: high", "color": "5319e7", "default": false, "description": "Issues that should be included in the current milestone if at all possible."}, {"id": 1771667669, "node_id": "MDU6TGFiZWwxNzcxNjY3NjY5", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20snaps", "name": "area: snaps", "color": "c5def5", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "adferrand", "id": 9728851, "node_id": "MDQ6VXNlcjk3Mjg4NTE=", "avatar_url": "https://avatars.githubusercontent.com/u/9728851?v=4", "gravatar_id": "", "url": "https://api.github.com/users/adferrand", "html_url": "https://github.com/adferrand", "followers_url": "https://api.github.com/users/adferrand/followers", "following_url": "https://api.github.com/users/adferrand/following{/other_user}", "gists_url": "https://api.github.com/users/adferrand/gists{/gist_id}", "starred_url": "https://api.github.com/users/adferrand/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/adferrand/subscriptions", "organizations_url": "https://api.github.com/users/adferrand/orgs", "repos_url": "https://api.github.com/users/adferrand/repos", "events_url": "https://api.github.com/users/adferrand/events{/privacy}", "received_events_url": "https://api.github.com/users/adferrand/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "adferrand", "id": 9728851, "node_id": "MDQ6VXNlcjk3Mjg4NTE=", "avatar_url": "https://avatars.githubusercontent.com/u/9728851?v=4", "gravatar_id": "", "url": "https://api.github.com/users/adferrand", "html_url": "https://github.com/adferrand", "followers_url": "https://api.github.com/users/adferrand/followers", "following_url": "https://api.github.com/users/adferrand/following{/other_user}", "gists_url": "https://api.github.com/users/adferrand/gists{/gist_id}", "starred_url": "https://api.github.com/users/adferrand/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/adferrand/subscriptions", "organizations_url": "https://api.github.com/users/adferrand/orgs", "repos_url": "https://api.github.com/users/adferrand/repos", "events_url": "https://api.github.com/users/adferrand/events{/privacy}", "received_events_url": "https://api.github.com/users/adferrand/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/89", "html_url": "https://github.com/certbot/certbot/milestone/89", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/89/labels", "id": 5736823, "node_id": "MDk6TWlsZXN0b25lNTczNjgyMw==", "number": 89, "title": "1.9.0", "description": "", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 25, "state": "closed", "created_at": "2020-08-05T17:02:26Z", "updated_at": "2020-10-07T16:10:31Z", "due_on": "2020-10-06T07:00:00Z", "closed_at": "2020-10-07T16:10:31Z"}, "comments": 28, "created_at": "2020-09-10T22:10:29Z", "updated_at": "2020-09-30T20:26:06Z", "closed_at": "2020-09-30T20:26:05Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "On a clean Debian 10 VPS from DigitalOcean I ran:\r\n```\r\napt update\r\napt install snapd -y\r\nsnap install --classic certbot\r\n/snap/bin/certbot --version\r\n```\r\nThe last command fails with the output:\r\n```\r\njq: error (at <stdin>:0): Cannot iterate over null (null)\r\n```\r\nand the exit status 5.\r\n\r\nI'm not sure how widespread the problem is here or what the root cause is, but I wasn't able to reproduce it on my Ubuntu 20.04 machine.\r\n\r\ncc @adferrand, @alexzorin\r\n\r\nEDIT: After the discussion below, the changes we decided to make here are:\r\n\r\n1. ~~Help users avoid installing the Certbot snap with an old version of snapd. Probably the best way to do this it update our instructions on https://certbot.eff.org to have people manually update it, but I personally think it's worth a little time to see if there's an easy way for us to automate this (outside of trying to run `snap install core` ourselves in our snap which I don't think we should do).~~ Done in https://github.com/certbot/website/pull/650.\r\n2. ~~Improve the error message for people who somehow get themselves into this situation anyway. I still think it should be fatal but we can certainly make the description of the problem and how to fix it more clear. As part of this, I think we may want to consider rewriting `certbot.wrapper` in Python as suggested by Alex at https://github.com/certbot/certbot/issues/8280#issuecomment-690768231, but I personally think we can leave whether or not this is done up to whoever implements this.~~ Done in https://github.com/certbot/certbot/pull/8313.\r\n3. ~~Report a bug against https://github.com/canonical-web-and-design/snapcraft.io asking them to fix the Debian instructions to avoid this problem.~~ Done in https://github.com/canonical-web-and-design/snapcraft.io/pull/3074.", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/8280/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/8280/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/8277", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/8277/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/8277/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/8277/events", "html_url": "https://github.com/certbot/certbot/issues/8277", "id": 697053295, "node_id": "MDU6SXNzdWU2OTcwNTMyOTU=", "number": 8277, "title": "PluginError parsing Apache mod_deflate.conf", "user": {"login": "esherwoo77", "id": 24903140, "node_id": "MDQ6VXNlcjI0OTAzMTQw", "avatar_url": "https://avatars.githubusercontent.com/u/24903140?v=4", "gravatar_id": "", "url": "https://api.github.com/users/esherwoo77", "html_url": "https://github.com/esherwoo77", "followers_url": "https://api.github.com/users/esherwoo77/followers", "following_url": "https://api.github.com/users/esherwoo77/following{/other_user}", "gists_url": "https://api.github.com/users/esherwoo77/gists{/gist_id}", "starred_url": "https://api.github.com/users/esherwoo77/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/esherwoo77/subscriptions", "organizations_url": "https://api.github.com/users/esherwoo77/orgs", "repos_url": "https://api.github.com/users/esherwoo77/repos", "events_url": "https://api.github.com/users/esherwoo77/events{/privacy}", "received_events_url": "https://api.github.com/users/esherwoo77/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 258836903, "node_id": "MDU6TGFiZWwyNTg4MzY5MDM=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20apache", "name": "area: apache", "color": "c5def5", "default": false, "description": null}, {"id": 1226192732, "node_id": "MDU6TGFiZWwxMjI2MTkyNzMy", "url": "https://api.github.com/repos/certbot/certbot/labels/priority:%20unplanned", "name": "priority: unplanned", "color": "5319e7", "default": false, "description": "Work that we believe should be done, but does not have a higher priority."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-09-09T18:37:58Z", "updated_at": "2020-09-09T21:05:28Z", "closed_at": "2020-09-09T21:05:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "I receive a PluginError when Certbot attempts to parse my Apache2 config that includes a mod_deflate conf. I don't receive the error if I disable mod_deflate. The error when I do a Certbot renew dry-run (or when I run certbot --apache) is:\r\n\r\n> Could not choose appropriate plugin: The apache plugin is not working; there may be problems with your existing configuration.\r\n> The error was: PluginError('There has been an error in parsing the file /etc/apache2/mods-enabled/deflate.conf on line 7: Syntax error')\r\n> Attempting to renew cert (tbep.org) from /etc/letsencrypt/renewal/tbep.org.conf produced an unexpected error: The apache plugin is not working; there may be problems with your existing configuration.\r\n> The error was: PluginError('There has been an error in parsing the file /etc/apache2/mods-enabled/deflate.conf on line 7: Syntax error'). Skipping.\r\n> All renewal attempts failed. The following certs could not be renewed:\r\n>   /etc/letsencrypt/live/tbep.org/fullchain.pem (failure)\r\n\r\nLine 7 of the deflate.conf file is:\r\n>`<ifmodule mod_deflate.c=\"\">`\r\n\r\nAnd, the letsencrypt log says:\r\n\r\n> 2020-09-09 14:36:01,965:DEBUG:certbot.cli:Var dry_run=True (set by user).\r\n> 2020-09-09 14:36:01,965:DEBUG:certbot.cli:Var server={'staging', 'dry_run'} (set by user).\r\n> 2020-09-09 14:36:01,965:DEBUG:certbot.cli:Var dry_run=True (set by user).\r\n> 2020-09-09 14:36:01,965:DEBUG:certbot.cli:Var server={'staging', 'dry_run'} (set by user).\r\n> 2020-09-09 14:36:01,965:DEBUG:certbot.cli:Var account={'server'} (set by user).\r\n> 2020-09-09 14:36:01,974:INFO:certbot.renewal:Cert not due for renewal, but simulating renewal for dry run\r\n> 2020-09-09 14:36:01,974:DEBUG:certbot.plugins.selection:Requested authenticator apache and installer apache\r\n> 2020-09-09 14:36:02,073:DEBUG:certbot_apache.configurator:Apache version is 2.4.41\r\n> 2020-09-09 14:36:02,372:DEBUG:certbot.plugins.disco:Other error:(PluginEntryPoint#apache): There has been an error in parsing the file /etc/apache2/mods-enabled/deflate.conf on line 7: Syntax error\r\n> Traceback (most recent call last):\r\n>   File \"/usr/lib/python3/dist-packages/certbot/plugins/disco.py\", line 130, in prepare\r\n>     self._initialized.prepare()\r\n>   File \"/usr/lib/python3/dist-packages/certbot_apache/configurator.py\", line 257, in prepare\r\n>     self.parser.check_parsing_errors(\"httpd.aug\")\r\n>   File \"/usr/lib/python3/dist-packages/certbot_apache/parser.py\", line 132, in check_parsing_errors\r\n>     raise errors.PluginError(msg)\r\n> certbot.errors.PluginError: There has been an error in parsing the file /etc/apache2/mods-enabled/deflate.conf on line 7: Syntax error\r\n> 2020-09-09 14:36:02,373:DEBUG:certbot.plugins.selection:No candidate plugin\r\n> 2020-09-09 14:36:02,374:DEBUG:certbot.plugins.selection:No candidate plugin\r\n> 2020-09-09 14:36:02,374:DEBUG:certbot.plugins.selection:Selected authenticator None and installer None\r\n> 2020-09-09 14:36:02,374:INFO:certbot.main:Could not choose appropriate plugin: The apache plugin is not working; there may be problems with your existing configuration.\r\n> The error was: PluginError('There has been an error in parsing the file /etc/apache2/mods-enabled/deflate.conf on line 7: Syntax error')\r\n> 2020-09-09 14:36:02,375:WARNING:certbot.renewal:Attempting to renew cert (tbep.org) from /etc/letsencrypt/renewal/tbep.org.conf produced an unexpected error: The apache plugin is not working; there may be problems with your existing configuration.\r\n> The error was: PluginError('There has been an error in parsing the file /etc/apache2/mods-enabled/deflate.conf on line 7: Syntax error'). Skipping.\r\n> 2020-09-09 14:36:02,376:DEBUG:certbot.renewal:Traceback was:\r\n> Traceback (most recent call last):\r\n>   File \"/usr/lib/python3/dist-packages/certbot/renewal.py\", line 449, in handle_renewal_request\r\n>     main.renew_cert(lineage_config, plugins, renewal_candidate)\r\n>   File \"/usr/lib/python3/dist-packages/certbot/main.py\", line 1202, in renew_cert\r\n>     installer, auth = plug_sel.choose_configurator_plugins(config, plugins, \"certonly\")\r\n>   File \"/usr/lib/python3/dist-packages/certbot/plugins/selection.py\", line 235, in choose_configurator_plugins\r\n>     diagnose_configurator_problem(\"authenticator\", req_auth, plugins)\r\n>   File \"/usr/lib/python3/dist-packages/certbot/plugins/selection.py\", line 339, in diagnose_configurator_problem\r\n>     raise errors.PluginSelectionError(msg)\r\n> certbot.errors.PluginSelectionError: The apache plugin is not working; there may be problems with your existing configuration.\r\n> The error was: PluginError('There has been an error in parsing the file /etc/apache2/mods-enabled/deflate.conf on line 7: Syntax error')\r\n> \r\n> 2020-09-09 14:36:02,376:ERROR:certbot.renewal:All renewal attempts failed. The following certs could not be renewed:\r\n> 2020-09-09 14:36:02,376:ERROR:certbot.renewal:  /etc/letsencrypt/live/tbep.org/fullchain.pem (failure)\r\n> 2020-09-09 14:36:02,377:DEBUG:certbot.log:Exiting abnormally:\r\n> Traceback (most recent call last):\r\n>   File \"/usr/bin/certbot\", line 11, in <module>\r\n>     load_entry_point('certbot==0.40.0', 'console_scripts', 'certbot')()\r\n>   File \"/usr/lib/python3/dist-packages/certbot/main.py\", line 1382, in main\r\n>     return config.func(config, plugins)\r\n>   File \"/usr/lib/python3/dist-packages/certbot/main.py\", line 1287, in renew\r\n>     renewal.handle_renewal_request(config)\r\n>   File \"/usr/lib/python3/dist-packages/certbot/renewal.py\", line 473, in handle_renewal_request\r\n>     raise errors.Error(\"{0} renew failure(s), {1} parse failure(s)\".format(\r\n> certbot.errors.Error: 1 renew failure(s), 0 parse failure(s)", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/8277/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/8277/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/8216", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/8216/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/8216/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/8216/events", "html_url": "https://github.com/certbot/certbot/issues/8216", "id": 679480395, "node_id": "MDU6SXNzdWU2Nzk0ODAzOTU=", "number": 8216, "title": "certbot snap searches for x86_64 libaugeus on Raspberry Pi", "user": {"login": "Thynix", "id": 199917, "node_id": "MDQ6VXNlcjE5OTkxNw==", "avatar_url": "https://avatars.githubusercontent.com/u/199917?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Thynix", "html_url": "https://github.com/Thynix", "followers_url": "https://api.github.com/users/Thynix/followers", "following_url": "https://api.github.com/users/Thynix/following{/other_user}", "gists_url": "https://api.github.com/users/Thynix/gists{/gist_id}", "starred_url": "https://api.github.com/users/Thynix/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Thynix/subscriptions", "organizations_url": "https://api.github.com/users/Thynix/orgs", "repos_url": "https://api.github.com/users/Thynix/repos", "events_url": "https://api.github.com/users/Thynix/events{/privacy}", "received_events_url": "https://api.github.com/users/Thynix/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 258836903, "node_id": "MDU6TGFiZWwyNTg4MzY5MDM=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20apache", "name": "area: apache", "color": "c5def5", "default": false, "description": null}, {"id": 281347824, "node_id": "MDU6TGFiZWwyODEzNDc4MjQ=", "url": "https://api.github.com/repos/certbot/certbot/labels/has%20pr", "name": "has pr", "color": "0052cc", "default": false, "description": null}, {"id": 1226192284, "node_id": "MDU6TGFiZWwxMjI2MTkyMjg0", "url": "https://api.github.com/repos/certbot/certbot/labels/priority:%20high", "name": "priority: high", "color": "5319e7", "default": false, "description": "Issues that should be included in the current milestone if at all possible."}, {"id": 1771667669, "node_id": "MDU6TGFiZWwxNzcxNjY3NjY5", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20snaps", "name": "area: snaps", "color": "c5def5", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/87", "html_url": "https://github.com/certbot/certbot/milestone/87", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/87/labels", "id": 5492974, "node_id": "MDk6TWlsZXN0b25lNTQ5Mjk3NA==", "number": 87, "title": "1.8.0", "description": "", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 34, "state": "closed", "created_at": "2020-06-02T21:49:43Z", "updated_at": "2020-09-09T17:10:49Z", "due_on": "2020-09-08T07:00:00Z", "closed_at": "2020-09-09T17:10:49Z"}, "comments": 10, "created_at": "2020-08-15T02:08:05Z", "updated_at": "2021-09-10T11:49:14Z", "closed_at": "2020-08-26T21:03:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "## My operating system is (include version):\r\n\r\nUbuntu 20.04 on a Raspberry Pi 3B\r\n\r\n```\r\nubuntu@yeoman:~$ uname -a\r\nLinux yeoman 5.4.0-1015-raspi #15-Ubuntu SMP Fri Jul 10 05:34:24 UTC 2020 aarch64 aarch64 aarch64 GNU/Linux\r\n```\r\n\r\n## I installed Certbot with (certbot-auto, OS package manager, pip, etc):\r\n\r\nsnap\r\n\r\n## I ran this command and it produced this output:\r\n\r\n```\r\nubuntu@yeoman:~$ sudo snap install --classic --edge certbot\r\ncertbot (edge) 1.7.0-59-gf7eb5b79f from Certbot Project (certbot-eff\u2713) installed\r\nubuntu@yeoman:~$ sudo certbot --apache\r\nSaving debug log to /var/log/letsencrypt/letsencrypt.log\r\nAn unexpected error occurred:\r\nOSError: cannot load library '/snap/certbot/536/usr/lib/x86_64-linux-gnu/libaugeas.so.0': /snap/certbot/536/usr/lib/x86_64-linux-gnu/libaugeas.so.0: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called '/snap/certbot/536/usr/lib/x86_64-linux-gnu/libaugeas.so.0'\r\nPlease see the logfiles in /var/log/letsencrypt for more details.\r\n```\r\n\r\nThis happens both with the edge version above and the current stable `latest/stable:    1.7.0               2020-08-04 (501) 46MB classic` (which I tried first)\r\n\r\n## Certbot's behavior differed from what I expected because:\r\n\r\nCrash\r\n\r\n## Here is a Certbot log showing the issue (if available):\r\n\r\nFrom this portion of the log it looks like the `x86_64` portion is hardcoded:\r\n\r\n```\r\n  File \"/snap/certbot/536/lib/python3.8/site-packages/augeas/ffi.py\", line 48, in <module>\r\n    lib = ffi.dlopen(os.path.join(os.getenv('SNAP'), \"usr/lib/x86_64-linux-gnu/libaugeas.so.0\"))\r\n```\r\n\r\nComplete log follows:\r\n\r\n```\r\n2020-08-15 01:53:31,813:DEBUG:certbot._internal.main:certbot version: 1.8.0.dev0\r\n2020-08-15 01:53:31,815:DEBUG:certbot._internal.main:Arguments: ['--apache']\r\n2020-08-15 01:53:31,816:DEBUG:certbot._internal.main:Discovered plugins: PluginsRegistry(PluginEntryPoint#apache,PluginEntryPoint#manual,PluginEntryPoint#nginx,PluginEntryPoint#null,PluginEntryPoint#standalone,PluginEntryPoint#webroot)\r\n2020-08-15 01:53:31,932:DEBUG:certbot._internal.log:Root logging level set at 20\r\n2020-08-15 01:53:31,933:INFO:certbot._internal.log:Saving debug log to /var/log/letsencrypt/letsencrypt.log\r\n2020-08-15 01:53:31,940:DEBUG:certbot._internal.plugins.selection:Requested authenticator apache and installer apache\r\n2020-08-15 01:53:33,133:DEBUG:certbot_apache._internal.configurator:Apache version is 2.4.41\r\n2020-08-15 01:53:33,697:DEBUG:certbot._internal.log:Exiting abnormally:\r\nTraceback (most recent call last):\r\n  File \"/snap/certbot/536/bin/certbot\", line 8, in <module>\r\n    sys.exit(main())\r\n  File \"/snap/certbot/536/lib/python3.8/site-packages/certbot/main.py\", line 15, in main\r\n    return internal_main.main(cli_args)\r\n  File \"/snap/certbot/536/lib/python3.8/site-packages/certbot/_internal/main.py\", line 1357, in main\r\n    return config.func(config, plugins)\r\n  File \"/snap/certbot/536/lib/python3.8/site-packages/certbot/_internal/main.py\", line 1084, in run\r\n    installer, authenticator = plug_sel.choose_configurator_plugins(config, plugins, \"run\")\r\n  File \"/snap/certbot/536/lib/python3.8/site-packages/certbot/_internal/plugins/selection.py\", line 223, in choose_configurator_plugins\r\n    authenticator = installer = pick_configurator(config, req_inst, plugins)\r\n  File \"/snap/certbot/536/lib/python3.8/site-packages/certbot/_internal/plugins/selection.py\", line 22, in pick_configurator\r\n    return pick_plugin(\r\n  File \"/snap/certbot/536/lib/python3.8/site-packages/certbot/_internal/plugins/selection.py\", line 106, in pick_plugin\r\n    verified.prepare()\r\n  File \"/snap/certbot/536/lib/python3.8/site-packages/certbot/_internal/plugins/disco.py\", line 297, in prepare\r\n    return [plugin_ep.prepare() for plugin_ep in six.itervalues(self._plugins)]\r\n  File \"/snap/certbot/536/lib/python3.8/site-packages/certbot/_internal/plugins/disco.py\", line 297, in <listcomp>\r\n    return [plugin_ep.prepare() for plugin_ep in six.itervalues(self._plugins)]\r\n  File \"/snap/certbot/536/lib/python3.8/site-packages/certbot/_internal/plugins/disco.py\", line 157, in prepare\r\n    self._initialized.prepare()\r\n  File \"/snap/certbot/536/lib/python3.8/site-packages/certbot_apache/_internal/configurator.py\", line 336, in prepare\r\n    self.parser = self.get_parser()\r\n  File \"/snap/certbot/536/lib/python3.8/site-packages/certbot_apache/_internal/configurator.py\", line 441, in get_parser\r\n    return parser.ApacheParser(\r\n  File \"/snap/certbot/536/lib/python3.8/site-packages/certbot_apache/_internal/parser.py\", line 46, in __init__\r\n    self.init_augeas()\r\n  File \"/snap/certbot/536/lib/python3.8/site-packages/certbot_apache/_internal/parser.py\", line 93, in init_augeas\r\n    import augeas\r\n  File \"/snap/certbot/536/lib/python3.8/site-packages/augeas/__init__.py\", line 42, in <module>\r\n    from augeas.ffi import ffi, lib\r\n  File \"/snap/certbot/536/lib/python3.8/site-packages/augeas/ffi.py\", line 48, in <module>\r\n    lib = ffi.dlopen(os.path.join(os.getenv('SNAP'), \"usr/lib/x86_64-linux-gnu/libaugeas.so.0\"))\r\n  File \"/snap/certbot/536/lib/python3.8/site-packages/cffi/api.py\", line 150, in dlopen\r\n    lib, function_cache = _make_ffi_library(self, name, flags)\r\n  File \"/snap/certbot/536/lib/python3.8/site-packages/cffi/api.py\", line 832, in _make_ffi_library\r\n    backendlib = _load_backend_lib(backend, libname, flags)\r\n  File \"/snap/certbot/536/lib/python3.8/site-packages/cffi/api.py\", line 827, in _load_backend_lib\r\n    raise OSError(msg)\r\nOSError: cannot load library '/snap/certbot/536/usr/lib/x86_64-linux-gnu/libaugeas.so.0': /snap/certbot/536/usr/lib/x86_64-linux-gnu/libaugeas.so.0: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called '/snap/certbot/536/usr/lib/x86_64-linux-gnu/libaugeas.so.0'\r\n2020-08-15 01:53:33,737:ERROR:certbot._internal.log:An unexpected error occurred:\r\n2020-08-15 01:53:33,738:ERROR:certbot._internal.log:OSError: cannot load library '/snap/certbot/536/usr/lib/x86_64-linux-gnu/libaugeas.so.0': /snap/certbot/536/usr/lib/x86_64-linux-gnu/libaugeas.so.0: cannot open shared object file: No such file or directory.  Additionally, ctypes.util.find_library() did not manage to locate a library called '/snap/certbot/536/usr/lib/x86_64-linux-gnu/libaugeas.so.0'\r\n```\r\n\r\n## Here is the relevant nginx server block or Apache virtualhost for the domain I am configuring:\r\n\r\nI haven't gotten that far. :(", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/8216/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/8216/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/8146", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/8146/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/8146/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/8146/events", "html_url": "https://github.com/certbot/certbot/issues/8146", "id": 658566444, "node_id": "MDU6SXNzdWU2NTg1NjY0NDQ=", "number": 8146, "title": "UnicodeEncodeError in nginxparser.py from RawNginxDumper", "user": {"login": "jimhavrilla", "id": 6568964, "node_id": "MDQ6VXNlcjY1Njg5NjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/6568964?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jimhavrilla", "html_url": "https://github.com/jimhavrilla", "followers_url": "https://api.github.com/users/jimhavrilla/followers", "following_url": "https://api.github.com/users/jimhavrilla/following{/other_user}", "gists_url": "https://api.github.com/users/jimhavrilla/gists{/gist_id}", "starred_url": "https://api.github.com/users/jimhavrilla/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jimhavrilla/subscriptions", "organizations_url": "https://api.github.com/users/jimhavrilla/orgs", "repos_url": "https://api.github.com/users/jimhavrilla/repos", "events_url": "https://api.github.com/users/jimhavrilla/events{/privacy}", "received_events_url": "https://api.github.com/users/jimhavrilla/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 258836706, "node_id": "MDU6TGFiZWwyNTg4MzY3MDY=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20nginx", "name": "area: nginx", "color": "c5def5", "default": false, "description": null}, {"id": 281347824, "node_id": "MDU6TGFiZWwyODEzNDc4MjQ=", "url": "https://api.github.com/repos/certbot/certbot/labels/has%20pr", "name": "has pr", "color": "0052cc", "default": false, "description": null}, {"id": 1226192732, "node_id": "MDU6TGFiZWwxMjI2MTkyNzMy", "url": "https://api.github.com/repos/certbot/certbot/labels/priority:%20unplanned", "name": "priority: unplanned", "color": "5319e7", "default": false, "description": "Work that we believe should be done, but does not have a higher priority."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2020-07-16T21:00:44Z", "updated_at": "2020-11-27T17:15:28Z", "closed_at": "2020-11-27T17:15:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "If you're having trouble using Certbot and aren't sure you've found a bug or\r\nrequest for a new feature, please first try asking for help at\r\nhttps://community.letsencrypt.org/. There is a much larger community there of\r\npeople familiar with the project who will be able to more quickly answer your\r\nquestions.\r\n\r\n## My operating system is (include version):\r\n\r\nCentOS 7, Digital Ocean droplet\r\n\r\n## I installed Certbot with (certbot-auto, OS package manager, pip, etc):\r\n\r\ncertbot-auto\r\n\r\n## I ran this command and it produced this output:\r\n\r\ncertbot-auto\r\n\r\ngave correct domain and everything, certificate works, will not install.  Log says there's a unicode error in RawNginxDumper\r\n\r\n## Certbot's behavior differed from what I expected because:\r\n\r\nIt should just work since nginx seems to have no issues...\r\n\r\n## Here is a Certbot log showing the issue (if available):\r\n###### Logs are stored in `/var/log/letsencrypt` by default. Feel free to redact domains, e-mail and IP addresses as you see fit.\r\n\r\n```\r\n2020-07-16 20:50:55,377:INFO:certbot_nginx._internal.configurator:Deploying Certificate to VirtualHost /etc/nginx/conf.d/default.conf\r\n2020-07-16 20:50:55,377:DEBUG:certbot.reverter:Creating backup of /etc/nginx/nginx.conf\r\n2020-07-16 20:50:55,378:DEBUG:certbot.reverter:Creating backup of /etc/nginx/conf.d/default.conf\r\n2020-07-16 20:50:55,378:DEBUG:certbot.reverter:Creating backup of /etc/nginx/mime.types\r\n2020-07-16 20:50:55,378:DEBUG:certbot.reverter:Creating backup of /etc/letsencrypt/options-ssl-nginx.conf\r\n2020-07-16 20:50:55,380:DEBUG:certbot._internal.error_handler:Encountered exception:\r\nTraceback (most recent call last):\r\n  File \"/opt/eff.org/certbot/venv/lib/python2.7/site-packages/certbot/_internal/client.py\", line 521, in deploy_certificate\r\n    self.installer.save()  # needed by the Apache plugin\r\n  File \"/opt/eff.org/certbot/venv/lib/python2.7/site-packages/certbot_nginx/_internal/configurator.py\", line 1051, in save\r\n    self.parser.filedump(ext='')\r\n  File \"/opt/eff.org/certbot/venv/lib/python2.7/site-packages/certbot_nginx/_internal/parser.py\", line 250, in filedump\r\n    out = nginxparser.dumps(tree)\r\n  File \"/opt/eff.org/certbot/venv/lib/python2.7/site-packages/certbot_nginx/_internal/nginxparser.py\", line 140, in dumps\r\n    return str(RawNginxDumper(blocks.spaced))\r\nUnicodeEncodeError: 'ascii' codec can't encode characters in position 662-663: ordinal not in range(128)\r\n```\r\n\r\n## Here is the relevant nginx server block or Apache virtualhost for the domain I am configuring:\r\n\r\nnginx conf:\r\n\r\nserver {\r\n    listen 80;\r\n    server_name my-domain.org;\r\n\r\n    location / {\r\n        include uwsgi_params;\r\n        uwsgi_pass unix:/user/project/phencards.sock;\r\n    }\r\n}\r\n\r\nCertbot also added all the default stuff like `listen 443 ssl` the cert locations etc.\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/8146/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/8146/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/8072", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/8072/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/8072/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/8072/events", "html_url": "https://github.com/certbot/certbot/issues/8072", "id": 637380630, "node_id": "MDU6SXNzdWU2MzczODA2MzA=", "number": 8072, "title": "Could not find ssl_module;", "user": {"login": "DevDorrejo", "id": 7697566, "node_id": "MDQ6VXNlcjc2OTc1NjY=", "avatar_url": "https://avatars.githubusercontent.com/u/7697566?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DevDorrejo", "html_url": "https://github.com/DevDorrejo", "followers_url": "https://api.github.com/users/DevDorrejo/followers", "following_url": "https://api.github.com/users/DevDorrejo/following{/other_user}", "gists_url": "https://api.github.com/users/DevDorrejo/gists{/gist_id}", "starred_url": "https://api.github.com/users/DevDorrejo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DevDorrejo/subscriptions", "organizations_url": "https://api.github.com/users/DevDorrejo/orgs", "repos_url": "https://api.github.com/users/DevDorrejo/repos", "events_url": "https://api.github.com/users/DevDorrejo/events{/privacy}", "received_events_url": "https://api.github.com/users/DevDorrejo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 258836903, "node_id": "MDU6TGFiZWwyNTg4MzY5MDM=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20apache", "name": "area: apache", "color": "c5def5", "default": false, "description": null}, {"id": 511875125, "node_id": "MDU6TGFiZWw1MTE4NzUxMjU=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20SUSE", "name": "area: SUSE", "color": "c5def5", "default": false, "description": null}, {"id": 1923192304, "node_id": "MDU6TGFiZWwxOTIzMTkyMzA0", "url": "https://api.github.com/repos/certbot/certbot/labels/priority:%20significant", "name": "priority: significant", "color": "5319e7", "default": false, "description": "Issues with higher than average priority that do not need to be in the current milestone."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 14, "created_at": "2020-06-11T23:29:11Z", "updated_at": "2021-07-22T21:23:06Z", "closed_at": "2021-03-06T03:57:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "If you're having trouble using Certbot and aren't sure you've found a bug or\r\nrequest for a new feature, please first try asking for help at\r\nhttps://community.letsencrypt.org/. There is a much larger community there of\r\npeople familiar with the project who will be able to more quickly answer your\r\nquestions.\r\n\r\n## My operating system is (include version):\r\nOpensuse TW - 20200610\r\n\r\n## I installed Certbot with (certbot-auto, OS package manager, pip, etc):\r\nzypper in python3-certbot python3-certbot-apache\r\n\r\n## I ran this command and it produced this output:\r\n$ certbot\r\n$ certbot --apache\r\n\r\n## Certbot's behavior differed from what I expected because:\r\nshow this message: ***Could not find ssl_module; not disabling session tickets.***\r\n\r\n## Here is a Certbot log showing the issue (if available):\r\ncat letsencrypt.log\r\n2020-06-11 19:27:43,080:DEBUG:certbot._internal.main:certbot version: 1.4.0\r\n2020-06-11 19:27:43,081:DEBUG:certbot._internal.main:Arguments: ['--apache']\r\n2020-06-11 19:27:43,081:DEBUG:certbot._internal.main:Discovered plugins: PluginsRegistry(PluginEntryPoint#apache,PluginEntryPoint#manual,PluginEntryPoint#null,PluginEntryPoint#standalone,PluginEntryPoint#webroot)\r\n2020-06-11 19:27:43,094:DEBUG:certbot._internal.log:Root logging level set at 20\r\n2020-06-11 19:27:43,094:INFO:certbot._internal.log:Saving debug log to /var/log/letsencrypt/letsencrypt.log\r\n2020-06-11 19:27:43,095:DEBUG:certbot._internal.plugins.selection:Requested authenticator apache and installer apache\r\n2020-06-11 19:27:43,203:DEBUG:certbot_apache._internal.configurator:Apache version is 2.4.43\r\n2020-06-11 19:27:43,501:WARNING:certbot_apache._internal.configurator:Could not find ssl_module; not disabling session tickets.\r\n2020-06-11 19:27:43,502:DEBUG:certbot._internal.plugins.selection:Single candidate plugin: * apache\r\nDescription: Apache Web Server plugin\r\nInterfaces: IAuthenticator, IInstaller, IPlugin\r\nEntry point: apache = certbot_apache._internal.entrypoint:ENTRYPOINT\r\nInitialized: <certbot_apache._internal.override_suse.OpenSUSEConfigurator object at 0x7fda9b975b80>\r\nPrep: True\r\n2020-06-11 19:27:43,502:DEBUG:certbot._internal.plugins.selection:Selected authenticator <certbot_apache._internal.override_suse.OpenSUSEConfigurator object at 0x7fda9b975b80> and installer <certbot_apache._internal.override_suse.OpenSUSEConfigurator object at 0x7fda9b975b80>\r\n2020-06-11 19:27:43,502:INFO:certbot._internal.plugins.selection:Plugins selected: Authenticator apache, Installer apache\r\n2020-06-11 19:27:43,505:DEBUG:certbot._internal.main:Picked account: <Account(RegistrationResource(body=Registration(key=None, contact=(), agreement=None, status=None, terms_of_service_agreed=None, only_return_existing=None, external_account_binding=None), uri='https://acme-v02.api.letsencrypt.org/acme/acct/88336967', new_authzr_uri=None, terms_of_service=None), feac06fadef10b8cabf9523f0f040323, Meta(creation_dt=datetime.datetime(2020, 6, 9, 1, 25, 59, tzinfo=<UTC>), creation_host='static'))>\r\n2020-06-11 19:27:43,505:DEBUG:acme.client:Sending GET request to https://acme-v02.api.letsencrypt.org/directory.\r\n2020-06-11 19:27:43,507:DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): acme-v02.api.letsencrypt.org:443\r\n2020-06-11 19:27:44,048:DEBUG:urllib3.connectionpool:https://acme-v02.api.letsencrypt.org:443 \"GET /directory HTTP/1.1\" 200 658\r\n2020-06-11 19:27:44,048:DEBUG:acme.client:Received response:\r\nHTTP 200\r\nServer: nginx\r\nDate: Thu, 11 Jun 2020 23:27:44 GMT\r\nContent-Type: application/json\r\nContent-Length: 658\r\nConnection: keep-alive\r\nCache-Control: public, max-age=0, no-cache\r\nX-Frame-Options: DENY\r\nStrict-Transport-Security: max-age=604800\r\n\r\n{\r\n\"_PcQ5wlirSo\": \"https://community.letsencrypt.org/t/adding-random-entries-to-the-directory/33417\",\r\n\"keyChange\": \"https://acme-v02.api.letsencrypt.org/acme/key-change\",\r\n\"meta\": {\r\n\"caaIdentities\": [\r\n\"letsencrypt.org\"\r\n],\r\n\"termsOfService\": \"https://letsencrypt.org/documents/LE-SA-v1.2-November-15-2017.pdf\",\r\n\"website\": \"https://letsencrypt.org\"\r\n},\r\n\"newAccount\": \"https://acme-v02.api.letsencrypt.org/acme/new-acct\",\r\n\"newNonce\": \"https://acme-v02.api.letsencrypt.org/acme/new-nonce\",\r\n\"newOrder\": \"https://acme-v02.api.letsencrypt.org/acme/new-order\",\r\n\"revokeCert\": \"https://acme-v02.api.letsencrypt.org/acme/revoke-cert\"\r\n}\r\n2020-06-11 19:27:45,090:DEBUG:certbot._internal.log:Exiting abnormally:\r\nTraceback (most recent call last):\r\nFile \"/usr/bin/certbot\", line 11, in <module>\r\nload_entry_point('certbot==1.4.0', 'console_scripts', 'certbot')()\r\nFile \"/usr/lib/python3.8/site-packages/certbot/main.py\", line 15, in main\r\nreturn internal_main.main(cli_args)\r\nFile \"/usr/lib/python3.8/site-packages/certbot/_internal/main.py\", line 1347, in main\r\nreturn config.func(config, plugins)\r\nFile \"/usr/lib/python3.8/site-packages/certbot/_internal/main.py\", line 1095, in run\r\ndomains, certname = _find_domains_or_certname(config, installer)\r\nFile \"/usr/lib/python3.8/site-packages/certbot/_internal/main.py\", line 422, in _find_domains_or_certname\r\nraise errors.Error(\"Please specify --domains, or --installer that \"\r\ncertbot.errors.Error: Please specify --domains, or --installer that will help in domain names autodiscovery, or --cert-name for an existing certificate name.\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/8072/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/8072/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/8055", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/8055/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/8055/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/8055/events", "html_url": "https://github.com/certbot/certbot/issues/8055", "id": 631311415, "node_id": "MDU6SXNzdWU2MzEzMTE0MTU=", "number": 8055, "title": "apache: installer redirect for wildcard domains doesn't work without UseCanonicalName", "user": {"login": "alexzorin", "id": 311534, "node_id": "MDQ6VXNlcjMxMTUzNA==", "avatar_url": "https://avatars.githubusercontent.com/u/311534?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexzorin", "html_url": "https://github.com/alexzorin", "followers_url": "https://api.github.com/users/alexzorin/followers", "following_url": "https://api.github.com/users/alexzorin/following{/other_user}", "gists_url": "https://api.github.com/users/alexzorin/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexzorin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexzorin/subscriptions", "organizations_url": "https://api.github.com/users/alexzorin/orgs", "repos_url": "https://api.github.com/users/alexzorin/repos", "events_url": "https://api.github.com/users/alexzorin/events{/privacy}", "received_events_url": "https://api.github.com/users/alexzorin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 258836903, "node_id": "MDU6TGFiZWwyNTg4MzY5MDM=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20apache", "name": "area: apache", "color": "c5def5", "default": false, "description": null}, {"id": 300688866, "node_id": "MDU6TGFiZWwzMDA2ODg4NjY=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20install", "name": "area: install", "color": "c5def5", "default": false, "description": null}, {"id": 1226192732, "node_id": "MDU6TGFiZWwxMjI2MTkyNzMy", "url": "https://api.github.com/repos/certbot/certbot/labels/priority:%20unplanned", "name": "priority: unplanned", "color": "5319e7", "default": false, "description": "Work that we believe should be done, but does not have a higher priority."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-06-05T04:56:32Z", "updated_at": "2020-06-05T05:00:25Z", "closed_at": "2020-06-05T05:00:24Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Discovered via https://community.letsencrypt.org/t/problems-with-ssl-wildcard-automatically-https-forwarding-subdomains/124884/1.\r\n\r\n## My operating system is (include version):\r\nUbuntu 16.04\r\n\r\n## I installed Certbot with (certbot-auto, OS package manager, pip, etc):\r\ngit master\r\n\r\n## I ran this command and it produced this output:\r\n\r\n    PEBBLE_VA_ALWAYS_VALID=1 pebble\r\n\r\n    certbot -i apache -a manual \\\r\n    -d example.com -d \"*.example.com\" --redirect \\\r\n    --server https://localhost:14000/dir --no-verify-ssl  --manual-public-ip-logging-ok \\\r\n    --manual-auth-hook \"/bin/true\" --manual-cleanup-hook \"/bin/true\" \r\n\r\n## Certbot's behavior differed from what I expected because:\r\nIn the redirect that Certbot's Apache installer creates:\r\n\r\n```apache\r\nRewriteEngine on\r\nRewriteCond %{SERVER_NAME} =example.com [OR]\r\nRewriteCond %{SERVER_NAME} =*.example.com\r\nRewriteRule ^ https://%{SERVER_NAME}%{REQUEST_URI} [END,NE,R=permanent]\r\n```\r\n\r\nThe wildcard only matches if `UseCanonicalName` is `on`, because when it is `off`, the `SERVER_NAME` value comes from the request `Host` header. The default value is `off`.\r\n\r\nThe result is that the redirect is only effective for the base domain.\r\n\r\n## Here is a Certbot log showing the issue (if available):\r\n\r\n<details>\r\n\r\n    2020-06-05 04:54:51,213:DEBUG:certbot._internal.main:certbot version: 1.6.0.dev0\r\n    2020-06-05 04:54:51,214:DEBUG:certbot._internal.main:Arguments: ['-i', 'apache', '-a', 'manual', '-d', 'example.com', '-d', '*.example.com', '--redirect', '--server', 'https://192.168.1.103:14000/dir', '--no-verify-ss', '--manual-public-ip-logging-ok', '--manual-auth-hook', '/bin/true', '--manual-cleanup-hook', '/bin/true']\r\n    2020-06-05 04:54:51,215:DEBUG:certbot._internal.main:Discovered plugins: PluginsRegistry(PluginEntryPoint#apache,PluginEntryPoint#certbot-route53:auth,PluginEntryPoint#dns-cloudflare,PluginEntryPoint#dns-cloudxns,PluginEntryPoint#dns-digitalocean,PluginEntryPoint#dns-dnsimple,PluginEntryPoint#dns-dnsmadeeasy,PluginEntryPoint#dns-gehirn,PluginEntryPoint#dns-google,PluginEntryPoint#dns-linode,PluginEntryPoint#dns-luadns,PluginEntryPoint#dns-nsone,PluginEntryPoint#dns-ovh,PluginEntryPoint#dns-rfc2136,PluginEntryPoint#dns-route53,PluginEntryPoint#dns-sakuracloud,PluginEntryPoint#manual,PluginEntryPoint#nginx,PluginEntryPoint#null,PluginEntryPoint#standalone,PluginEntryPoint#webroot)\r\n    2020-06-05 04:54:51,227:DEBUG:certbot._internal.log:Root logging level set at 20\r\n    2020-06-05 04:54:51,227:INFO:certbot._internal.log:Saving debug log to /var/log/letsencrypt/letsencrypt.log\r\n    2020-06-05 04:54:51,228:DEBUG:certbot._internal.plugins.selection:Requested authenticator manual and installer apache\r\n    2020-06-05 04:54:51,298:DEBUG:certbot_apache._internal.configurator:Apache version is 2.4.18\r\n    2020-06-05 04:54:51,596:DEBUG:certbot._internal.plugins.selection:Single candidate plugin: * apache\r\n    Description: Apache Web Server plugin\r\n    Interfaces: IAuthenticator, IInstaller, IPlugin\r\n    Entry point: apache = certbot_apache._internal.entrypoint:ENTRYPOINT\r\n    Initialized: <certbot_apache._internal.override_debian.DebianConfigurator object at 0x7f94dcb7d1d0>\r\n    Prep: True\r\n    2020-06-05 04:54:51,602:DEBUG:certbot._internal.plugins.selection:Single candidate plugin: * manual\r\n    Description: Manual configuration or run your own shell scripts\r\n    Interfaces: IAuthenticator, IPlugin\r\n    Entry point: manual = certbot._internal.plugins.manual:Authenticator\r\n    Initialized: <certbot._internal.plugins.manual.Authenticator object at 0x7f94d92502e8>\r\n    Prep: True\r\n    2020-06-05 04:54:51,603:DEBUG:certbot._internal.plugins.selection:Selected authenticator <certbot._internal.plugins.manual.Authenticator object at 0x7f94d92502e8> and installer <certbot_apache._internal.override_debian.DebianConfigurator object at 0x7f94dcb7d1d0>\r\n    2020-06-05 04:54:51,603:INFO:certbot._internal.plugins.selection:Plugins selected: Authenticator manual, Installer apache\r\n    2020-06-05 04:54:51,606:DEBUG:certbot._internal.main:Picked account: <Account(RegistrationResource(terms_of_service=None, uri='https://192.168.1.103:14000/my-account/2', new_authzr_uri=None, body=Registration(external_account_binding=None, only_return_existing=None, contact=(), status=None, key=None, terms_of_service_agreed=None, agreement=None)), a2bd520f41905005281d240a4ad129d9, Meta(creation_host='6395b583308a', creation_dt=datetime.datetime(2020, 6, 5, 4, 32, 58, tzinfo=<UTC>)))>\r\n    2020-06-05 04:54:51,608:DEBUG:acme.client:Sending GET request to https://192.168.1.103:14000/dir.\r\n    2020-06-05 04:54:51,612:DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): 192.168.1.103:14000\r\n    2020-06-05 04:54:51,617:DEBUG:urllib3.connectionpool:https://192.168.1.103:14000 \"GET /dir HTTP/1.1\" 200 426\r\n    2020-06-05 04:54:51,617:DEBUG:acme.client:Received response:\r\n    HTTP 200\r\n    Cache-Control: public, max-age=0, no-cache\r\n    Content-Type: application/json; charset=utf-8\r\n    Date: Fri, 05 Jun 2020 04:54:51 GMT\r\n    Content-Length: 426\r\n\r\n    {\r\n      \"keyChange\": \"https://192.168.1.103:14000/rollover-account-key\",\r\n      \"meta\": {\r\n          \"externalAccountRequired\": false,\r\n          \"termsOfService\": \"data:text/plain,Do%20what%20thou%20wilt\"\r\n      },\r\n      \"newAccount\": \"https://192.168.1.103:14000/sign-me-up\",\r\n      \"newNonce\": \"https://192.168.1.103:14000/nonce-plz\",\r\n      \"newOrder\": \"https://192.168.1.103:14000/order-plz\",\r\n      \"revokeCert\": \"https://192.168.1.103:14000/revoke-cert\"\r\n    }\r\n    2020-06-05 04:54:51,623:INFO:certbot.ocsp:Cannot extract OCSP URI from /etc/letsencrypt/archive/example.com/cert1.pem\r\n    2020-06-05 04:54:51,626:INFO:certbot._internal.renewal:Cert not yet due for renewal\r\n    2020-06-05 04:54:55,625:INFO:certbot._internal.main:Keeping the existing certificate\r\n    2020-06-05 04:54:55,629:DEBUG:certbot._internal.reporter:Reporting to user: Congratulations! Your certificate and chain have been saved at:\r\n    /etc/letsencrypt/live/example.com/fullchain.pem\r\n    Your key file has been saved at:\r\n    /etc/letsencrypt/live/example.com/privkey.pem\r\n    Your cert will expire on 2025-06-05. To obtain a new or tweaked version of this certificate in the future, simply run certbot again with the \"certonly\" option. To non-interactively renew *all* of your certificates, run \"certbot renew\"\r\n    2020-06-05 04:54:55,644:INFO:certbot_apache._internal.configurator:Created an SSL vhost at /etc/apache2/apache2-le-ssl.conf\r\n    2020-06-05 04:54:55,652:DEBUG:certbot.reverter:Creating backup of /etc/apache2/apache2-le-ssl.conf\r\n    2020-06-05 04:54:55,754:INFO:certbot_apache._internal.configurator:Deploying Certificate to VirtualHost /etc/apache2/apache2-le-ssl.conf\r\n    2020-06-05 04:54:55,755:INFO:certbot_apache._internal.override_debian:Enabling available site: /etc/apache2/apache2-le-ssl.conf\r\n    2020-06-05 04:54:57,176:INFO:certbot_apache._internal.configurator:Deploying Certificate to VirtualHost /etc/apache2/apache2-le-ssl.conf\r\n    2020-06-05 04:54:57,336:DEBUG:certbot.reverter:Creating backup of /etc/apache2/apache2.conf\r\n    2020-06-05 04:54:57,357:INFO:certbot_apache._internal.configurator:Redirecting vhost in /etc/apache2/apache2.conf to ssl vhost in /etc/apache2/apache2-le-ssl.conf\r\n    2020-06-05 04:54:57,358:DEBUG:certbot_apache._internal.configurator:Already enabled redirect for this vhost\r\n    2020-06-05 04:54:57,460:DEBUG:certbot._internal.reporter:Reporting to user: If you like Certbot, please consider supporting our work by:\r\n\r\n    Donating to ISRG / Let's Encrypt:   https://letsencrypt.org/donate\r\n    Donating to EFF:                    https://eff.org/donate-le\r\n\r\n\r\n\r\n\r\n</details>\r\n\r\n## Here is the relevant nginx server block or Apache virtualhost for the domain I am configuring:\r\n```apache\r\n<VirtualHost *:80>\r\n        ServerName example.com\r\n        ServerAlias *.example.com\r\n        DocumentRoot /var/www/html\r\n</VirtualHost>\r\n```", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/8055/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/8055/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/8030", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/8030/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/8030/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/8030/events", "html_url": "https://github.com/certbot/certbot/issues/8030", "id": 626862326, "node_id": "MDU6SXNzdWU2MjY4NjIzMjY=", "number": 8030, "title": "Fix rebuild dependencies to include python version constraint (for enum)", "user": {"login": "ohemorange", "id": 1227205, "node_id": "MDQ6VXNlcjEyMjcyMDU=", "avatar_url": "https://avatars.githubusercontent.com/u/1227205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ohemorange", "html_url": "https://github.com/ohemorange", "followers_url": "https://api.github.com/users/ohemorange/followers", "following_url": "https://api.github.com/users/ohemorange/following{/other_user}", "gists_url": "https://api.github.com/users/ohemorange/gists{/gist_id}", "starred_url": "https://api.github.com/users/ohemorange/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ohemorange/subscriptions", "organizations_url": "https://api.github.com/users/ohemorange/orgs", "repos_url": "https://api.github.com/users/ohemorange/repos", "events_url": "https://api.github.com/users/ohemorange/events{/privacy}", "received_events_url": "https://api.github.com/users/ohemorange/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 263357278, "node_id": "MDU6TGFiZWwyNjMzNTcyNzg=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20testing", "name": "area: testing", "color": "c5def5", "default": false, "description": null}, {"id": 1919155694, "node_id": "MDU6TGFiZWwxOTE5MTU1Njk0", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20tooling", "name": "area: tooling", "color": "c5def5", "default": false, "description": ""}, {"id": 1923192304, "node_id": "MDU6TGFiZWwxOTIzMTkyMzA0", "url": "https://api.github.com/repos/certbot/certbot/labels/priority:%20significant", "name": "priority: significant", "color": "5319e7", "default": false, "description": "Issues with higher than average priority that do not need to be in the current milestone."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-05-28T22:42:55Z", "updated_at": "2020-06-04T15:59:46Z", "closed_at": "2020-06-04T15:59:46Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "We have code to do this, but it seems to no longer be working. This came up in the process of testing https://github.com/certbot/certbot/pull/8026. Until it's fixed, we have to remember to manually add the constraint whenever we run `rebuild_dependencies.py`.", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/8030/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/8030/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/7998", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/7998/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/7998/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/7998/events", "html_url": "https://github.com/certbot/certbot/issues/7998", "id": 620170770, "node_id": "MDU6SXNzdWU2MjAxNzA3NzA=", "number": 7998, "title": "\"Could not find ssl_module; not disabling session tickets.\"", "user": {"login": "LeoShivas", "id": 28844182, "node_id": "MDQ6VXNlcjI4ODQ0MTgy", "avatar_url": "https://avatars.githubusercontent.com/u/28844182?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LeoShivas", "html_url": "https://github.com/LeoShivas", "followers_url": "https://api.github.com/users/LeoShivas/followers", "following_url": "https://api.github.com/users/LeoShivas/following{/other_user}", "gists_url": "https://api.github.com/users/LeoShivas/gists{/gist_id}", "starred_url": "https://api.github.com/users/LeoShivas/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LeoShivas/subscriptions", "organizations_url": "https://api.github.com/users/LeoShivas/orgs", "repos_url": "https://api.github.com/users/LeoShivas/repos", "events_url": "https://api.github.com/users/LeoShivas/events{/privacy}", "received_events_url": "https://api.github.com/users/LeoShivas/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 258836903, "node_id": "MDU6TGFiZWwyNTg4MzY5MDM=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20apache", "name": "area: apache", "color": "c5def5", "default": false, "description": null}, {"id": 1923192304, "node_id": "MDU6TGFiZWwxOTIzMTkyMzA0", "url": "https://api.github.com/repos/certbot/certbot/labels/priority:%20significant", "name": "priority: significant", "color": "5319e7", "default": false, "description": "Issues with higher than average priority that do not need to be in the current milestone."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2020-05-18T12:31:13Z", "updated_at": "2020-06-04T21:02:08Z", "closed_at": "2020-06-04T21:02:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi everyone,\r\n\r\n##  My operating system is :\r\n`CentOS Linux release 8.1.1911 (Core)`\r\n\r\n## I installed Certbot with :\r\n`wget https://dl.eff.org/certbot-auto`\r\n\r\n## I ran this command and it produced this output:\r\n`/usr/local/bin/certbot-auto renew --apache --apache-server-root /local/httpd/current --apache-challenge-location /local/httpd/current/conf`\r\n```\r\nUpgrading certbot-auto 1.2.0 to 1.4.0...\r\nReplacing certbot-auto...\r\nCreating virtual environment...\r\nInstalling Python packages...\r\nInstallation succeeded.\r\nSaving debug log to /var/log/letsencrypt/letsencrypt.log\r\n\r\n- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\r\nProcessing /etc/letsencrypt/renewal/wiki.my-domain.com.conf\r\n- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\r\nCert is due for renewal, auto-renewing...\r\nCould not find ssl_module; not disabling session tickets.\r\nPlugins selected: Authenticator apache, Installer apache\r\nRenewing an existing certificate\r\nPerforming the following challenges:\r\nhttp-01 challenge for wiki.my-domain.com\r\nWaiting for verification...\r\nCleaning up challenges\r\n\r\n- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\r\nnew certificate deployed with reload of apache server; fullchain is\r\n/etc/letsencrypt/live/wiki.my-domain.com/fullchain.pem\r\n- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\r\n\r\n- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\r\nProcessing /etc/letsencrypt/renewal/www.my-domain.com.conf\r\n- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\r\nCert is due for renewal, auto-renewing...\r\nCould not find ssl_module; not disabling session tickets.\r\nPlugins selected: Authenticator apache, Installer apache\r\nRenewing an existing certificate\r\nPerforming the following challenges:\r\nhttp-01 challenge for plex.my-domain.com\r\nhttp-01 challenge for www.my-domain.com\r\nhttp-01 challenge for www.another-domain.fr\r\nWaiting for verification...\r\nCleaning up challenges\r\n\r\n- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\r\nnew certificate deployed with reload of apache server; fullchain is\r\n/etc/letsencrypt/live/www.my-domain.com/fullchain.pem\r\n- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\r\n\r\n- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\r\nProcessing /etc/letsencrypt/renewal/www.another-domain.fr.conf\r\n- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\r\nCert is due for renewal, auto-renewing...\r\nCould not find ssl_module; not disabling session tickets.\r\nPlugins selected: Authenticator apache, Installer apache\r\nRenewing an existing certificate\r\n\r\n- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\r\nnew certificate deployed with reload of apache server; fullchain is\r\n/etc/letsencrypt/live/www.another-domain.fr/fullchain.pem\r\n- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\r\n\r\n- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\r\n\r\nCongratulations, all renewals succeeded. The following certs have been renewed:\r\n  /etc/letsencrypt/live/wiki.my-domain.com/fullchain.pem (success)\r\n  /etc/letsencrypt/live/www.my-domain.com/fullchain.pem (success)\r\n  /etc/letsencrypt/live/www.another-domain.fr/fullchain.pem (success)\r\n- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\r\n```\r\n\r\n## Certbot's behavior differed from what I expected because:\r\nIt displays an error about ssl_module which is missing, but I had staticly compiled it in Apache and it works perfectly :\r\n```\r\n[root@myserver ~]# httpd -l\r\nCompiled in modules:\r\n  core.c\r\n  mod_authz_core.c\r\n  mod_socache_shmcb.c\r\n  http_core.c\r\n  mod_mime.c\r\n  mod_log_config.c\r\n  mod_proxy.c\r\n  mod_proxy_http.c\r\n  mod_proxy_fcgi.c\r\n  mod_proxy_wstunnel.c\r\n  mod_ssl.c\r\n  event.c\r\n  mod_unixd.c\r\n  mod_dir.c\r\n  mod_alias.c\r\n  mod_rewrite.c\r\n```\r\nSo, the error is meaningless.\r\n\r\n## Here is a Certbot log showing the issue :\r\nThe error is mentionned above in the output command : `Could not find ssl_module; not disabling session tickets.`\r\n\r\n## Here is the relevant Apache virtualhost for the domain I am configuring :\r\nThis is my compile options :\r\n```\r\n[root@myserver httpd-2.4.41]# cat config.nice\r\n#! /bin/sh\r\n#\r\n# Created by configure\r\n\r\n\"./configure\" \\\r\n\"--prefix=/local/httpd/current\" \\\r\n\"--enable-ssl=static\" \\\r\n\"--enable-ssl-staticlib-deps\" \\\r\n\"--enable-socache-shmcb\" \\\r\n\"--enable-proxy\" \\\r\n\"--enable-proxy-http\" \\\r\n\"--enable-proxy-wstunnel\" \\\r\n\"--enable-proxy-fcgi\" \\\r\n\"--disable-proxy-connect\" \\\r\n\"--disable-proxy-ftp\" \\\r\n\"--disable-proxy-scgi\" \\\r\n\"--disable-proxy-uwsgi\" \\\r\n\"--disable-proxy-fdpass\" \\\r\n\"--disable-proxy-ajp\" \\\r\n\"--disable-proxy-balancer\" \\\r\n\"--disable-proxy-express\" \\\r\n\"--disable-proxy-hcheck\" \\\r\n\"--disable-so\" \\\r\n\"--enable-rewrite\" \\\r\n\"--enable-mods-static=ssl socache-shmcb proxy rewrite authz_core log_config alias dir unixd mime\" \\\r\n\"--enable-static-rotatelogs\" \\\r\n\"--disable-access_compat\" \\\r\n\"--disable-auth\" \\\r\n\"--disable-auth_basic\" \\\r\n\"--disable-authn_core\" \\\r\n\"--disable-authn_file\" \\\r\n\"--disable-authz_groupfile\" \\\r\n\"--disable-authz_host\" \\\r\n\"--disable-authz_user\" \\\r\n\"--disable-autoindex\" \\\r\n\"--disable-env\" \\\r\n\"--disable-filter\" \\\r\n\"--disable-headers\" \\\r\n\"--enable-mime\" \\\r\n\"--disable-reqtimeout\" \\\r\n\"--disable-setenvif\" \\\r\n\"--disable-status\" \\\r\n\"--disable-version\" \\\r\n\"--disable-authn_dbm\" \\\r\n\"--disable-authn_anon\" \\\r\n\"--disable-authn_dbd\" \\\r\n\"--disable-authn_socache\" \\\r\n\"--disable-authz_dbm\" \\\r\n\"--disable-authz_owner\" \\\r\n\"--disable-authz_dbd\" \\\r\n\"--disable-auth_form\" \\\r\n\"--disable-auth_digest\" \\\r\n\"--disable-allowmethods\" \\\r\n\"--disable-file_cache\" \\\r\n\"--disable-cache\" \\\r\n\"--disable-cache_disk\" \\\r\n\"--disable-cache_socache\" \\\r\n\"--disable-socache_dbm\" \\\r\n\"--disable-socache_memcache\" \\\r\n\"--disable-socache_redis\" \\\r\n\"$@\"\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/7998/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/7998/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/7989", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/7989/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/7989/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/7989/events", "html_url": "https://github.com/certbot/certbot/pull/7989", "id": 617068910, "node_id": "MDExOlB1bGxSZXF1ZXN0NDE3MDU4MzM4", "number": 7989, "title": "ocsp: add support for public key hash ResponderIDs", "user": {"login": "alexzorin", "id": 311534, "node_id": "MDQ6VXNlcjMxMTUzNA==", "avatar_url": "https://avatars.githubusercontent.com/u/311534?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexzorin", "html_url": "https://github.com/alexzorin", "followers_url": "https://api.github.com/users/alexzorin/followers", "following_url": "https://api.github.com/users/alexzorin/following{/other_user}", "gists_url": "https://api.github.com/users/alexzorin/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexzorin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexzorin/subscriptions", "organizations_url": "https://api.github.com/users/alexzorin/orgs", "repos_url": "https://api.github.com/users/alexzorin/repos", "events_url": "https://api.github.com/users/alexzorin/events{/privacy}", "received_events_url": "https://api.github.com/users/alexzorin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 271144197, "node_id": "MDU6TGFiZWwyNzExNDQxOTc=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20ocsp", "name": "area: ocsp", "color": "c5def5", "default": false, "description": null}, {"id": 1923192304, "node_id": "MDU6TGFiZWwxOTIzMTkyMzA0", "url": "https://api.github.com/repos/certbot/certbot/labels/priority:%20significant", "name": "priority: significant", "color": "5319e7", "default": false, "description": "Issues with higher than average priority that do not need to be in the current milestone."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/84", "html_url": "https://github.com/certbot/certbot/milestone/84", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/84/labels", "id": 5137018, "node_id": "MDk6TWlsZXN0b25lNTEzNzAxOA==", "number": 84, "title": "1.5.0", "description": "", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 13, "state": "closed", "created_at": "2020-02-24T21:04:39Z", "updated_at": "2020-06-02T21:42:30Z", "due_on": "2020-06-02T07:00:00Z", "closed_at": "2020-06-02T21:42:30Z"}, "comments": 1, "created_at": "2020-05-13T01:20:14Z", "updated_at": "2020-05-13T22:55:40Z", "closed_at": "2020-05-13T22:55:36Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/certbot/certbot/pulls/7989", "html_url": "https://github.com/certbot/certbot/pull/7989", "diff_url": "https://github.com/certbot/certbot/pull/7989.diff", "patch_url": "https://github.com/certbot/certbot/pull/7989.patch", "merged_at": "2020-05-13T22:55:36Z"}, "body": "For both cases where the the response is signed by the issuer, or by a\r\ndelegated OCSP signer.\r\n\r\nResolves #7986", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/7989/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/7989/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/certbot/certbot/issues/7988", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/7988/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/7988/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/7988/events", "html_url": "https://github.com/certbot/certbot/issues/7988", "id": 616905188, "node_id": "MDU6SXNzdWU2MTY5MDUxODg=", "number": 7988, "title": "Fix TLS-ALPN tests with newer versions of OpenSSL", "user": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 263357278, "node_id": "MDU6TGFiZWwyNjMzNTcyNzg=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20testing", "name": "area: testing", "color": "c5def5", "default": false, "description": null}, {"id": 277074172, "node_id": "MDU6TGFiZWwyNzcwNzQxNzI=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20acme", "name": "area: acme", "color": "c5def5", "default": false, "description": null}, {"id": 1226192095, "node_id": "MDU6TGFiZWwxMjI2MTkyMDk1", "url": "https://api.github.com/repos/certbot/certbot/labels/priority:%20critical", "name": "priority: critical", "color": "5319e7", "default": false, "description": "Regressions or features that must be included in the current milestone."}], "state": "closed", "locked": false, "assignee": {"login": "ohemorange", "id": 1227205, "node_id": "MDQ6VXNlcjEyMjcyMDU=", "avatar_url": "https://avatars.githubusercontent.com/u/1227205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ohemorange", "html_url": "https://github.com/ohemorange", "followers_url": "https://api.github.com/users/ohemorange/followers", "following_url": "https://api.github.com/users/ohemorange/following{/other_user}", "gists_url": "https://api.github.com/users/ohemorange/gists{/gist_id}", "starred_url": "https://api.github.com/users/ohemorange/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ohemorange/subscriptions", "organizations_url": "https://api.github.com/users/ohemorange/orgs", "repos_url": "https://api.github.com/users/ohemorange/repos", "events_url": "https://api.github.com/users/ohemorange/events{/privacy}", "received_events_url": "https://api.github.com/users/ohemorange/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ohemorange", "id": 1227205, "node_id": "MDQ6VXNlcjEyMjcyMDU=", "avatar_url": "https://avatars.githubusercontent.com/u/1227205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ohemorange", "html_url": "https://github.com/ohemorange", "followers_url": "https://api.github.com/users/ohemorange/followers", "following_url": "https://api.github.com/users/ohemorange/following{/other_user}", "gists_url": "https://api.github.com/users/ohemorange/gists{/gist_id}", "starred_url": "https://api.github.com/users/ohemorange/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ohemorange/subscriptions", "organizations_url": "https://api.github.com/users/ohemorange/orgs", "repos_url": "https://api.github.com/users/ohemorange/repos", "events_url": "https://api.github.com/users/ohemorange/events{/privacy}", "received_events_url": "https://api.github.com/users/ohemorange/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/84", "html_url": "https://github.com/certbot/certbot/milestone/84", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/84/labels", "id": 5137018, "node_id": "MDk6TWlsZXN0b25lNTEzNzAxOA==", "number": 84, "title": "1.5.0", "description": "", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 13, "state": "closed", "created_at": "2020-02-24T21:04:39Z", "updated_at": "2020-06-02T21:42:30Z", "due_on": "2020-06-02T07:00:00Z", "closed_at": "2020-06-02T21:42:30Z"}, "comments": 0, "created_at": "2020-05-12T19:31:47Z", "updated_at": "2020-06-01T22:18:39Z", "closed_at": "2020-06-01T22:18:39Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "As reported https://opensource.eff.org/eff-open-source/pl/1rmed965bigxpfo787de9woguo and https://github.com/certbot/certbot/issues/7985, our `acme` unit tests are failing with newer versions of OpenSSL.\r\n\r\nThis issue overlaps with https://github.com/certbot/certbot/issues/7987 a bit, but I wanted to get a start on this issue in particular because I've promised our package maintainers that'd it be fixed in our next release and maybe even to do a point release to fix it.\r\n\r\nTo fix this, I think we should do two things:\r\n\r\n1. Update our tests (probably our test farm tests) so they fail due to this problem.\r\n2. Update the keys used in the tests so they pass with the new changes.\r\n\r\nFor step (2), a patch like the following should work after creating a new cert and key with that name:\r\n```\r\ndiff --git a/acme/tests/standalone_test.py b/acme/tests/standalone_test.py\r\nindex d03b56535..3d068fb46 100644\r\n--- a/acme/tests/standalone_test.py\r\n+++ b/acme/tests/standalone_test.py\r\n@@ -122,8 +122,8 @@ class TLSALPN01ServerTest(unittest.TestCase):\r\n         )}\r\n         # Use different certificate for challenge.\r\n         self.challenge_certs = {b'localhost': (\r\n-            test_util.load_pyopenssl_private_key('rsa1024_key.pem'),\r\n-            test_util.load_cert('rsa1024_cert.pem'),\r\n+            test_util.load_pyopenssl_private_key('rsa4096_key.pem'),\r\n+            test_util.load_cert('rsa4096_cert.pem'),\r\n         )}\r\n         from acme.standalone import TLSALPN01Server\r\n         self.server = TLSALPN01Server((\"localhost\", 0), certs=self.certs,\r\n```\r\n\r\nFor step (1), the reason tests pass is hopefully just our pinned version of `cryptography` is using its own OpenSSL version rather than the version provided by the OS on x86_64 systems. To fix this, we can tell `pip` not to use precompiled packages. There are a number of ways to pass options to `pip`, but I'd personally try to start with an environment variable like `PIP_NO_BINARY=\":all:\"`. If this doesn't work, we may have to update the `tools/*venv*.py` scripts to optionally pass command line flags. The test we should probably update to do this is `test_sdists.sh` because it's the only one of our test farm tests that runs our unit tests and runs in Travis.\r\n\r\nIf that doesn't work, then the problem is probably (also?) that none of our test farm tests have a new enough version of OpenSSL. Finding a reliable AMI to test on that does might be a little tricky, but if that's what's necessary to avoid shipping these problems in the future, I personally think it's worth it.", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/7988/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/7988/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/7986", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/7986/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/7986/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/7986/events", "html_url": "https://github.com/certbot/certbot/issues/7986", "id": 616615777, "node_id": "MDU6SXNzdWU2MTY2MTU3Nzc=", "number": 7986, "title": "ocsp: support key hash ResponderIDs, not just names.", "user": {"login": "alexzorin", "id": 311534, "node_id": "MDQ6VXNlcjMxMTUzNA==", "avatar_url": "https://avatars.githubusercontent.com/u/311534?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexzorin", "html_url": "https://github.com/alexzorin", "followers_url": "https://api.github.com/users/alexzorin/followers", "following_url": "https://api.github.com/users/alexzorin/following{/other_user}", "gists_url": "https://api.github.com/users/alexzorin/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexzorin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexzorin/subscriptions", "organizations_url": "https://api.github.com/users/alexzorin/orgs", "repos_url": "https://api.github.com/users/alexzorin/repos", "events_url": "https://api.github.com/users/alexzorin/events{/privacy}", "received_events_url": "https://api.github.com/users/alexzorin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 271144197, "node_id": "MDU6TGFiZWwyNzExNDQxOTc=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20ocsp", "name": "area: ocsp", "color": "c5def5", "default": false, "description": null}, {"id": 281347824, "node_id": "MDU6TGFiZWwyODEzNDc4MjQ=", "url": "https://api.github.com/repos/certbot/certbot/labels/has%20pr", "name": "has pr", "color": "0052cc", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/84", "html_url": "https://github.com/certbot/certbot/milestone/84", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/84/labels", "id": 5137018, "node_id": "MDk6TWlsZXN0b25lNTEzNzAxOA==", "number": 84, "title": "1.5.0", "description": "", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 13, "state": "closed", "created_at": "2020-02-24T21:04:39Z", "updated_at": "2020-06-02T21:42:30Z", "due_on": "2020-06-02T07:00:00Z", "closed_at": "2020-06-02T21:42:30Z"}, "comments": 0, "created_at": "2020-05-12T12:27:22Z", "updated_at": "2020-05-13T22:55:45Z", "closed_at": "2020-05-13T22:55:36Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "This was first reported [on the forums](https://community.letsencrypt.org/t/invalid-ocsp-response-for-no-matching-responder-certificate-could-be-found/122497).\r\n\r\nCertbot produces a warning when checking the revocation status of any certificate issued by [this Sectigo CA](https://censys.io/certificates?q=parsed.extensions.authority_key_id:%2017d9d6252767f931c24943d93036448c6ca94feb). \r\n\r\n>Invalid OCSP response for sectigo-leaf.pem: no matching responder certificate could be found.\r\n\r\nI think the warning is produced because Certbot's (`cryptography`) OCSP client is assuming that the Basic Response's `ResponderID` is always going to be a name. \r\n\r\nhttps://github.com/certbot/certbot/blob/71e3d82e47696daa24c5f07bd2cb8c553b40babd/certbot/certbot/ocsp.py#L265-L272\r\n\r\n[However](https://tools.ietf.org/html/rfc6960#section-4.2.2.3), it may be a hash of the public key:\r\n\r\n>   o  either the name of the responder or a hash of the responder's\r\n>      public key as the ResponderID;\r\n\r\nThis is exposed in `cryptography` as [`OCSPResponse.responder_key_hash`](https://cryptography.io/en/latest/x509/ocsp/#cryptography.x509.ocsp.OCSPResponse.responder_key_hash).\r\n\r\nIt seems that an OCSP client should implement both ways of identifying the OCSP issuer.", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/7986/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/7986/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/7985", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/7985/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/7985/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/7985/events", "html_url": "https://github.com/certbot/certbot/issues/7985", "id": 616537768, "node_id": "MDU6SXNzdWU2MTY1Mzc3Njg=", "number": 7985, "title": "CentOS 8: failing test due to 1024 bit RSA key in standalone_test.py", "user": {"login": "FelixSchwarz", "id": 212753, "node_id": "MDQ6VXNlcjIxMjc1Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/212753?v=4", "gravatar_id": "", "url": "https://api.github.com/users/FelixSchwarz", "html_url": "https://github.com/FelixSchwarz", "followers_url": "https://api.github.com/users/FelixSchwarz/followers", "following_url": "https://api.github.com/users/FelixSchwarz/following{/other_user}", "gists_url": "https://api.github.com/users/FelixSchwarz/gists{/gist_id}", "starred_url": "https://api.github.com/users/FelixSchwarz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/FelixSchwarz/subscriptions", "organizations_url": "https://api.github.com/users/FelixSchwarz/orgs", "repos_url": "https://api.github.com/users/FelixSchwarz/repos", "events_url": "https://api.github.com/users/FelixSchwarz/events{/privacy}", "received_events_url": "https://api.github.com/users/FelixSchwarz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 277074172, "node_id": "MDU6TGFiZWwyNzcwNzQxNzI=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20acme", "name": "area: acme", "color": "c5def5", "default": false, "description": null}, {"id": 1226192095, "node_id": "MDU6TGFiZWwxMjI2MTkyMDk1", "url": "https://api.github.com/repos/certbot/certbot/labels/priority:%20critical", "name": "priority: critical", "color": "5319e7", "default": false, "description": "Regressions or features that must be included in the current milestone."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-05-12T10:18:31Z", "updated_at": "2020-05-12T19:45:35Z", "closed_at": "2020-05-12T19:42:10Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "OpenSSL in RHEL 8/CentOS 8 uses system-wide crypto policies.\r\n\r\n`tests/standalone_test.py` uses a 1024 bit key since commit 07abe7a8d68961042ee301039dd4da87306cb1a0 (certbot 1.4) and the test fails because 1024 bit keys are not acceptable by the default crypto policy.\r\n\r\nThe tests pass if I generate a key with 4096 bit ([python-acme-strong-keys-in-standalone_test.patch](https://github.com/certbot/certbot/files/4614878/python-acme-strong-keys-in-standalone_test.patch.txt)).\r\n\r\nI'm not sure what the best course of action is for Fedora EPEL - should I just carry a local patch or would you mind upgrading your keys in the test suite? You might need to handle this as well when you add CentOS 8 machines to your test farm (#7420).\r\n\r\nPlease note that a `pip`-installed `cryptography` module might hide the problem because the binary wheels contain a statically compiled OpenSSL which does not care about the system-wide policy.\r\n\r\nJust for reference the default OpenSSL config in CentOS 8:\r\n\r\n    $ cat /etc/crypto-policies/back-ends/openssl.config\r\n    @SECLEVEL=2:kEECDH:kRSA:kEDH:kPSK:kDHEPSK:kECDHEPSK:-aDSS:-3DES:!DES:!RC4:!RC2:!IDEA:-SEED:!eNULL:!aNULL:!MD5:-SHA384:-CAMELLIA:-ARIA:-AESCCM8\r\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/7985/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/7985/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/7963", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/7963/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/7963/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/7963/events", "html_url": "https://github.com/certbot/certbot/issues/7963", "id": 610551806, "node_id": "MDU6SXNzdWU2MTA1NTE4MDY=", "number": 7963, "title": "Nginx parser errors when the domain starts with \u20180x\u2019", "user": {"login": "CloverGit", "id": 22031498, "node_id": "MDQ6VXNlcjIyMDMxNDk4", "avatar_url": "https://avatars.githubusercontent.com/u/22031498?v=4", "gravatar_id": "", "url": "https://api.github.com/users/CloverGit", "html_url": "https://github.com/CloverGit", "followers_url": "https://api.github.com/users/CloverGit/followers", "following_url": "https://api.github.com/users/CloverGit/following{/other_user}", "gists_url": "https://api.github.com/users/CloverGit/gists{/gist_id}", "starred_url": "https://api.github.com/users/CloverGit/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/CloverGit/subscriptions", "organizations_url": "https://api.github.com/users/CloverGit/orgs", "repos_url": "https://api.github.com/users/CloverGit/repos", "events_url": "https://api.github.com/users/CloverGit/events{/privacy}", "received_events_url": "https://api.github.com/users/CloverGit/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 258836706, "node_id": "MDU6TGFiZWwyNTg4MzY3MDY=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20nginx", "name": "area: nginx", "color": "c5def5", "default": false, "description": null}, {"id": 1923192304, "node_id": "MDU6TGFiZWwxOTIzMTkyMzA0", "url": "https://api.github.com/repos/certbot/certbot/labels/priority:%20significant", "name": "priority: significant", "color": "5319e7", "default": false, "description": "Issues with higher than average priority that do not need to be in the current milestone."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-05-01T04:21:23Z", "updated_at": "2020-05-19T03:54:15Z", "closed_at": "2020-05-19T03:54:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "## My operating system is (include version):\r\nCentOS 7\r\n\r\n## I installed Certbot with (certbot-auto, OS package manager, pip, etc):\r\ncertbot 1.3.0\r\n\r\n## I ran this command and it produced this output:\r\ncertbot-auto\r\n>2 (nginx)\r\n>1 (select a domain start with '0x' )\r\n## Output\r\nObtaining a new certificate\r\nPerforming the following challenges:\r\nhttp-01 challenge for 0xr.ink\r\nCleaning up challenges\r\nAn unexpected error occurred:\r\nUnicodeDecodeError: 'ascii' codec can't decode byte 0xe9 in position 1: ordinal not in range(128)\r\nPlease see the logfiles in /var/log/letsencrypt for more details.\r\n\r\n**Obviously, certbot-auto treated my domain as a hexadecimal character and caused an error**", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/7963/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/7963/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/7875", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/7875/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/7875/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/7875/events", "html_url": "https://github.com/certbot/certbot/issues/7875", "id": 592473157, "node_id": "MDU6SXNzdWU1OTI0NzMxNTc=", "number": 7875, "title": "certbot 0.28.0 wrongly split the chain obtained via acmev2 if the chain has CRLF lineending", "user": {"login": "szjozsef", "id": 16382161, "node_id": "MDQ6VXNlcjE2MzgyMTYx", "avatar_url": "https://avatars.githubusercontent.com/u/16382161?v=4", "gravatar_id": "", "url": "https://api.github.com/users/szjozsef", "html_url": "https://github.com/szjozsef", "followers_url": "https://api.github.com/users/szjozsef/followers", "following_url": "https://api.github.com/users/szjozsef/following{/other_user}", "gists_url": "https://api.github.com/users/szjozsef/gists{/gist_id}", "starred_url": "https://api.github.com/users/szjozsef/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/szjozsef/subscriptions", "organizations_url": "https://api.github.com/users/szjozsef/orgs", "repos_url": "https://api.github.com/users/szjozsef/repos", "events_url": "https://api.github.com/users/szjozsef/events{/privacy}", "received_events_url": "https://api.github.com/users/szjozsef/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 234599402, "node_id": "MDU6TGFiZWwyMzQ1OTk0MDI=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20spec-compliance", "name": "area: spec-compliance", "color": "c5def5", "default": false, "description": null}, {"id": 1226192284, "node_id": "MDU6TGFiZWwxMjI2MTkyMjg0", "url": "https://api.github.com/repos/certbot/certbot/labels/priority:%20high", "name": "priority: high", "color": "5319e7", "default": false, "description": "Issues that should be included in the current milestone if at all possible."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/83", "html_url": "https://github.com/certbot/certbot/milestone/83", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/83/labels", "id": 5092067, "node_id": "MDk6TWlsZXN0b25lNTA5MjA2Nw==", "number": 83, "title": "1.4.0", "description": "", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 48, "state": "closed", "created_at": "2020-02-10T21:21:52Z", "updated_at": "2020-05-06T19:34:03Z", "due_on": "2020-05-05T07:00:00Z", "closed_at": "2020-05-06T19:34:03Z"}, "comments": 6, "created_at": "2020-04-02T09:05:22Z", "updated_at": "2020-04-07T23:19:14Z", "closed_at": "2020-04-07T23:19:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "If you're having trouble using Certbot and aren't sure you've found a bug or\r\nrequest for a new feature, please first try asking for help at\r\nhttps://community.letsencrypt.org/. There is a much larger community there of\r\npeople familiar with the project who will be able to more quickly answer your\r\nquestions.\r\n\r\n## My operating system is (include version):\r\nDebian 9.12 (stretch) \r\n\r\n## I installed Certbot with (certbot-auto, OS package manager, pip, etc):\r\nOS package manager 0.28.0-1~deb9u2\r\n\r\n## I ran this command and it produced this output:\r\ncertbot certonly --webroot -w /var/www/example.com/public_html/ -d example.com -d www.example.com --server 'https://api.buypass.com/acme/directory'\r\n\r\n## Certbot's behavior differed from what I expected because:\r\nThe ACME v2 api server from buypass.com returns the pem-certificate-chain with CRLF lineending.\r\nThe certificate is extracted correctly and get's correctly converted to LF line ending.\r\nThe cain file get extracted with a wrong offset, containing a few charactes (in my case up to 35 characters) from the chain file, including the text: \"-----END CERTIFICATE-----\" and with CRLF linending\r\nAlso the fullchain.pem file is reconstructed by appending the cert file and the extracted chain file, resuling in a mixed lineending file, which contains extraneous characters between the certificate and the chain file.\r\nLike this:\r\nxxxxxxxxxxxxxxxxxxxxxxxxxxxAVbdrquLF\r\n-----END CERTIFICATE-----LF\r\nAVbdrquCRLF\r\n-----END CERTIFICATE-----CRLF\r\n-----BEGIN CERTIFICATE-----CRLF\r\nxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxCRLF\r\n...\r\n\r\n\r\n## Here is a Certbot log showing the issue (if available):\r\n###### Logs are stored in `/var/log/letsencrypt` by default. Feel free to redact domains, e-mail and IP addresses as you see fit.\r\nthe certbot logs as everyting is OK, without error\r\n\r\n## Here is the relevant nginx server block or Apache virtualhost for the domain I am configuring:\r\nN/A", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/7875/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/7875/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/7828", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/7828/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/7828/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/7828/events", "html_url": "https://github.com/certbot/certbot/issues/7828", "id": 574494300, "node_id": "MDU6SXNzdWU1NzQ0OTQzMDA=", "number": 7828, "title": "certbot-auto crashes when virtualenv is installed for Python3", "user": {"login": "kyegupov", "id": 502156, "node_id": "MDQ6VXNlcjUwMjE1Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/502156?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kyegupov", "html_url": "https://github.com/kyegupov", "followers_url": "https://api.github.com/users/kyegupov/followers", "following_url": "https://api.github.com/users/kyegupov/following{/other_user}", "gists_url": "https://api.github.com/users/kyegupov/gists{/gist_id}", "starred_url": "https://api.github.com/users/kyegupov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kyegupov/subscriptions", "organizations_url": "https://api.github.com/users/kyegupov/orgs", "repos_url": "https://api.github.com/users/kyegupov/repos", "events_url": "https://api.github.com/users/kyegupov/events{/privacy}", "received_events_url": "https://api.github.com/users/kyegupov/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 146954793, "node_id": "MDU6TGFiZWwxNDY5NTQ3OTM=", "url": "https://api.github.com/repos/certbot/certbot/labels/wontfix", "name": "wontfix", "color": "ffffff", "default": true, "description": null}, {"id": 276243379, "node_id": "MDU6TGFiZWwyNzYyNDMzNzk=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20certbot-auto", "name": "area: certbot-auto", "color": "c5def5", "default": false, "description": null}, {"id": 276667632, "node_id": "MDU6TGFiZWwyNzY2Njc2MzI=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20pkging", "name": "area: pkging", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-03-03T08:21:12Z", "updated_at": "2020-03-29T18:09:34Z", "closed_at": "2020-03-06T18:38:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "## My operating system is (include version):\r\n\r\nDebian 9\r\n\r\n## I installed Certbot with (certbot-auto, OS package manager, pip, etc):\r\n\r\ncerbot-auto\r\n\r\n## I ran this command and it produced this output:\r\n\r\n```\r\n$ virtualenv --version\r\nvirtualenv 20.0.7 from REDACTED/.local/lib/python3.8/site-packages/virtualenv/__init__.py\r\n\r\n$ ./certbot-auto certonly --webroot --agree-tos --email REDACTED -w REDACTED -d REDACTED --no-bootstrap\r\nCreating virtual environment...\r\nusage: virtualenv [--version] [--with-traceback] [-v | -q] [--app-data APP_DATA] [--clear-app-data] [--discovery {builtin}] [-p py] [--creator {builtin,cpython2-posix}] [--seeder {app-data,pip}] [--no-seed] [--activators comma_sep_list]\r\n                  [--clear] [--system-site-packages] [--symlinks | --copies] [--download | --no-download] [--extra-search-dir d [d ...]] [--pip version] [--setuptools version] [--wheel version] [--no-pip] [--no-setuptools] [--no-wheel]\r\n                  [--symlink-app-data] [--prompt prompt] [-h]\r\n                  dest\r\nvirtualenv: error: unrecognized arguments: --no-site-packages\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 27, in <module>\r\n  File \"<stdin>\", line 19, in create_venv\r\n  File \"/usr/lib/python2.7/subprocess.py\", line 186, in check_call\r\n    raise CalledProcessError(retcode, cmd)\r\nsubprocess.CalledProcessError: Command '['virtualenv', '--no-site-packages', '--python', '/usr/bin/python2.7', '/opt/\r\n```\r\n\r\n## Certbot's behavior differed from what I expected because:\r\ncertbot-auto does not work\r\n\r\nno-site-packages flag has been deprecated in virtualenv\r\n\r\nSee also https://github.com/espressif/esp-idf/issues/4744\r\n\r\n## WORKAROUND\r\n`USE_PYTHON_3=1 ./certbot-auto`", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/7828/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/7828/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/7741", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/7741/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/7741/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/7741/events", "html_url": "https://github.com/certbot/certbot/issues/7741", "id": 559415247, "node_id": "MDU6SXNzdWU1NTk0MTUyNDc=", "number": 7741, "title": "Apache plugin should work with restrictive umask", "user": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 258836903, "node_id": "MDU6TGFiZWwyNTg4MzY5MDM=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20apache", "name": "area: apache", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/82", "html_url": "https://github.com/certbot/certbot/milestone/82", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/82/labels", "id": 5030370, "node_id": "MDk6TWlsZXN0b25lNTAzMDM3MA==", "number": 82, "title": "1.3.0", "description": "", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 10, "state": "closed", "created_at": "2020-01-21T23:00:18Z", "updated_at": "2020-03-06T17:46:58Z", "due_on": "2020-03-03T08:00:00Z", "closed_at": "2020-03-05T18:15:59Z"}, "comments": 2, "created_at": "2020-02-04T00:27:18Z", "updated_at": "2022-10-04T01:06:29Z", "closed_at": "2020-02-27T01:09:21Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "This problem was initially described at https://github.com/certbot/certbot/issues/1761#issuecomment-581678866.\r\n\r\n##  I ran this command and it produced this output:\r\n```\r\n# umask 0077\r\n# certbot -d example.org --apache\r\nSaving debug log to /var/log/letsencrypt/letsencrypt.log\r\nPlugins selected: Authenticator apache, Installer apache\r\nRegistering without email!\r\nObtaining a new certificate\r\nPerforming the following challenges:\r\nhttp-01 challenge for example.org\r\nEnabled Apache rewrite module\r\nWaiting for verification...\r\nChallenge failed for domain example.org\r\nhttp-01 challenge for example.org\r\nCleaning up challenges\r\nSome challenges have failed.\r\n\r\nIMPORTANT NOTES:\r\n - The following errors were reported by the server:\r\n\r\n   Domain: example.org\r\n   Type:   unauthorized\r\n   Detail: Invalid response from\r\n   http://example.org/.well-known/acme-challenge/dYsk27k0uIUgA1QOewleMrShVzv_BLZx7nP5H5eDfww\r\n   [2604:a880:2:d0::578:6001]: \"<!DOCTYPE HTML PUBLIC \\\"-//IETF//DTD\r\n   HTML 2.0//EN\\\">\\n<html><head>\\n<title>403\r\n   Forbidden</title>\\n</head><body>\\n<h1>Forbidden</h1>\\n<p\"\r\n\r\n   To fix these errors, please make sure that your domain name was \r\n   entered correctly and the DNS A/AAAA record(s) for that domain\r\n   contain(s) the right IP address.\r\n```\r\n\r\n## Certbot's behavior differed from what I expected because:\r\n\r\nThe challenge failed.\r\n\r\n## Discussion\r\n\r\nThe problem is we're not accounting for the possibility of a restrictive umask in the Apache plugin when setting up the challenge. We should fix this like we do in the webroot plugin.\r\n\r\n~~I also think we should check if we have the same problem in the nginx plugin.~~", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/7741/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/7741/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/7713", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/7713/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/7713/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/7713/events", "html_url": "https://github.com/certbot/certbot/issues/7713", "id": 553873012, "node_id": "MDU6SXNzdWU1NTM4NzMwMTI=", "number": 7713, "title": "Windows: Renewal deploy hook opens in notepad.exe instead of being executed", "user": {"login": "mikenor", "id": 26778057, "node_id": "MDQ6VXNlcjI2Nzc4MDU3", "avatar_url": "https://avatars.githubusercontent.com/u/26778057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mikenor", "html_url": "https://github.com/mikenor", "followers_url": "https://api.github.com/users/mikenor/followers", "following_url": "https://api.github.com/users/mikenor/following{/other_user}", "gists_url": "https://api.github.com/users/mikenor/gists{/gist_id}", "starred_url": "https://api.github.com/users/mikenor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mikenor/subscriptions", "organizations_url": "https://api.github.com/users/mikenor/orgs", "repos_url": "https://api.github.com/users/mikenor/repos", "events_url": "https://api.github.com/users/mikenor/events{/privacy}", "received_events_url": "https://api.github.com/users/mikenor/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 588396942, "node_id": "MDU6TGFiZWw1ODgzOTY5NDI=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20windows", "name": "area: windows", "color": "c5def5", "default": false, "description": null}, {"id": 750624103, "node_id": "MDU6TGFiZWw3NTA2MjQxMDM=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20hooks", "name": "area: hooks", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "adferrand", "id": 9728851, "node_id": "MDQ6VXNlcjk3Mjg4NTE=", "avatar_url": "https://avatars.githubusercontent.com/u/9728851?v=4", "gravatar_id": "", "url": "https://api.github.com/users/adferrand", "html_url": "https://github.com/adferrand", "followers_url": "https://api.github.com/users/adferrand/followers", "following_url": "https://api.github.com/users/adferrand/following{/other_user}", "gists_url": "https://api.github.com/users/adferrand/gists{/gist_id}", "starred_url": "https://api.github.com/users/adferrand/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/adferrand/subscriptions", "organizations_url": "https://api.github.com/users/adferrand/orgs", "repos_url": "https://api.github.com/users/adferrand/repos", "events_url": "https://api.github.com/users/adferrand/events{/privacy}", "received_events_url": "https://api.github.com/users/adferrand/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "adferrand", "id": 9728851, "node_id": "MDQ6VXNlcjk3Mjg4NTE=", "avatar_url": "https://avatars.githubusercontent.com/u/9728851?v=4", "gravatar_id": "", "url": "https://api.github.com/users/adferrand", "html_url": "https://github.com/adferrand", "followers_url": "https://api.github.com/users/adferrand/followers", "following_url": "https://api.github.com/users/adferrand/following{/other_user}", "gists_url": "https://api.github.com/users/adferrand/gists{/gist_id}", "starred_url": "https://api.github.com/users/adferrand/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/adferrand/subscriptions", "organizations_url": "https://api.github.com/users/adferrand/orgs", "repos_url": "https://api.github.com/users/adferrand/repos", "events_url": "https://api.github.com/users/adferrand/events{/privacy}", "received_events_url": "https://api.github.com/users/adferrand/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/83", "html_url": "https://github.com/certbot/certbot/milestone/83", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/83/labels", "id": 5092067, "node_id": "MDk6TWlsZXN0b25lNTA5MjA2Nw==", "number": 83, "title": "1.4.0", "description": "", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 48, "state": "closed", "created_at": "2020-02-10T21:21:52Z", "updated_at": "2020-05-06T19:34:03Z", "due_on": "2020-05-05T07:00:00Z", "closed_at": "2020-05-06T19:34:03Z"}, "comments": 3, "created_at": "2020-01-23T00:27:52Z", "updated_at": "2020-04-27T16:38:42Z", "closed_at": "2020-04-27T16:38:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "I placed a .ps1 Powershell script into `C:\\Certbot\\renewal-hooks\\deploy` but Certbot does not execute it. Instead, it opens the script with Windows Notepad.\r\n\r\n## My operating system is (include version):\r\nWindows 10 1809\r\n\r\n## I installed Certbot with (certbot-auto, OS package manager, pip, etc):\r\nhttps://dl.eff.org/certbot-beta-installer-win32.exe\r\n\r\n## I ran this command and it produced this output:\r\n`certbot renew --force-renewal`\r\n\r\n```\r\nSaving debug log to C:\\Certbot\\log\\letsencrypt.log\r\n\r\n- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\r\nProcessing C:\\Certbot\\renewal\\miketest.pwsd76.ab.ca.conf\r\n- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\r\nPlugins selected: Authenticator standalone, Installer None\r\nRenewing an existing certificate\r\nRunning deploy-hook command: C:\\Certbot\\renewal-hooks\\deploy\\LM-CertUpload.ps1\r\n```\r\nThen Windows' notepad.exe opened up, showing my .ps1 script.\r\n\r\n## Certbot's behavior differed from what I expected because:\r\nThe [forum post about the Certbot Windows beta](https://community.letsencrypt.org/t/beta-phase-of-certbot-for-windows/105822) explicitly states that .ps1 hooks are supposed to work:\r\n> Similarly to Linux, Certbot for Windows supports any file executable for this platform, if it is available in the PATH. It can be .bat, .ps1 or even executable binaries like .exe.", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/7713/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/7713/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/7651", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/7651/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/7651/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/7651/events", "html_url": "https://github.com/certbot/certbot/issues/7651", "id": 540627917, "node_id": "MDU6SXNzdWU1NDA2Mjc5MTc=", "number": 7651, "title": "HTTP status codes fail to be parsed when using an old version of the requests library", "user": {"login": "regner", "id": 815037, "node_id": "MDQ6VXNlcjgxNTAzNw==", "avatar_url": "https://avatars.githubusercontent.com/u/815037?v=4", "gravatar_id": "", "url": "https://api.github.com/users/regner", "html_url": "https://github.com/regner", "followers_url": "https://api.github.com/users/regner/followers", "following_url": "https://api.github.com/users/regner/following{/other_user}", "gists_url": "https://api.github.com/users/regner/gists{/gist_id}", "starred_url": "https://api.github.com/users/regner/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/regner/subscriptions", "organizations_url": "https://api.github.com/users/regner/orgs", "repos_url": "https://api.github.com/users/regner/repos", "events_url": "https://api.github.com/users/regner/events{/privacy}", "received_events_url": "https://api.github.com/users/regner/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 276667632, "node_id": "MDU6TGFiZWwyNzY2Njc2MzI=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20pkging", "name": "area: pkging", "color": "c5def5", "default": false, "description": null}, {"id": 596606268, "node_id": "MDU6TGFiZWw1OTY2MDYyNjg=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20dns", "name": "area: dns", "color": "c5def5", "default": false, "description": null}, {"id": 1383990430, "node_id": "MDU6TGFiZWwxMzgzOTkwNDMw", "url": "https://api.github.com/repos/certbot/certbot/labels/needs-update", "name": "needs-update", "color": "ADDEE4", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-12-19T23:04:27Z", "updated_at": "2021-01-20T00:42:32Z", "closed_at": "2021-01-20T00:42:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "## My operating system is (include version):\r\nCentOS 7\r\n\r\n## I installed Certbot with (certbot-auto, OS package manager, pip, etc):\r\nInstalled with Puppet using the letsencrypt module (https://forge.puppet.com/puppet/letsencrypt/)\r\n\r\nWe are specifically on cerbot 0.39.0, however as far as I can tell this issue would be present in 1.0.0 as well.\r\n\r\n## I ran this command and it produced this output:\r\ncertbot --text --agree-tos --non-interactive --test-cert certonly --rsa-key-size 4096 --cert-name 'something' -d 'derp.domain.com' --dns-nsone --dns-nsone-credentials /etc/letsencrypt/nsone.ini --debug\r\n\r\n## Certbot's behavior differed from what I expected because:\r\nIt failed to create the TXT record at all.\r\n\r\n## Here is a Certbot log showing the issue (if available):\r\n```bash\r\n(22:44:48)-user@somevm:~# certbot --text --agree-tos --non-interactive --test-cert certonly --rsa-key-size 4096 --cert-name 'something' -d 'derp.domain.com' --dns-nsone --dns-nsone-credentials /etc/letsencrypt/nsone.ini --debug\r\nSaving debug log to /var/log/letsencrypt/letsencrypt.log\r\nPlugins selected: Authenticator dns-nsone, Installer None\r\nStarting new HTTPS connection (1): acme-staging-v02.api.letsencrypt.org\r\nRenewing an existing certificate\r\nPerforming the following challenges:\r\ndns-01 challenge for derp.domain.com\r\nStarting new HTTPS connection (1): api.nsone.net\r\nCleaning up challenges\r\nStarting new HTTPS connection (1): api.nsone.net\r\nExiting abnormally:\r\nTraceback (most recent call last):\r\n  File \"/bin/certbot\", line 9, in <module>\r\n    load_entry_point('certbot==0.39.0', 'console_scripts', 'certbot')()\r\n  File \"/usr/lib/python2.7/site-packages/certbot/main.py\", line 1378, in main\r\n    return config.func(config, plugins)\r\n  File \"/usr/lib/python2.7/site-packages/certbot/main.py\", line 1265, in certonly\r\n    lineage = _get_and_save_cert(le_client, config, domains, certname, lineage)\r\n  File \"/usr/lib/python2.7/site-packages/certbot/main.py\", line 116, in _get_and_save_cert\r\n    renewal.renew_cert(config, domains, le_client, lineage)\r\n  File \"/usr/lib/python2.7/site-packages/certbot/renewal.py\", line 307, in renew_cert\r\n    new_cert, new_chain, new_key, _ = le_client.obtain_certificate(domains, new_key)\r\n  File \"/usr/lib/python2.7/site-packages/certbot/client.py\", line 348, in obtain_certificate\r\n    orderr = self._get_order_and_authorizations(csr.data, self.config.allow_subset_of_names)\r\n  File \"/usr/lib/python2.7/site-packages/certbot/client.py\", line 384, in _get_order_and_authorizations\r\n    authzr = self.auth_handler.handle_authorizations(orderr, best_effort)\r\n  File \"/usr/lib/python2.7/site-packages/certbot/auth_handler.py\", line 69, in handle_authorizations\r\n    resps = self.auth.perform(achalls)\r\n  File \"/usr/lib/python2.7/site-packages/certbot/plugins/dns_common.py\", line 58, in perform\r\n    self._perform(domain, validation_domain_name, validation)\r\n  File \"/usr/lib/python2.7/site-packages/certbot_dns_nsone/dns_nsone.py\", line 51, in _perform\r\n    self._get_nsone_client().add_txt_record(domain, validation_name, validation)\r\n  File \"/usr/lib/python2.7/site-packages/certbot/plugins/dns_common_lexicon.py\", line 40, in add_txt_record\r\n    self._find_domain_id(domain)\r\n  File \"/usr/lib/python2.7/site-packages/certbot/plugins/dns_common_lexicon.py\", line 95, in _find_domain_id\r\n    raise result\r\nPluginError: Error determining zone identifier: 404 Client Error: Not Found.\r\nPlease see the logfiles in /var/log/letsencrypt for more details.\r\n```\r\n\r\n## The Issue\r\n\r\nThe plugins (in our case cerbot-dns-nsone) require `dns-lexicon>=2.2.1`.  That package uses the Python `requests` package but critically does NOT specify a package version in its dependency.\r\n\r\nI am raising this issue here because the version of `requests` doesn't really effect `dns-lexicon` however the plugins for `certbot` do actually depend on a minimum version of the `requests` library.\r\n\r\nA specific example, and what caused me to run into this, is this line here: https://github.com/certbot/certbot/blob/v0.39.0/certbot-dns-nsone/certbot_dns_nsone/dns_nsone.py#L76\r\n\r\nThe plugin is looking for a string that starts a very specific way. However that string has not always been the same. In version 2.8.0 of the `requests` library that string changed.\r\n\r\nThe commit causing the change is here: https://github.com/psf/requests/commit/e3bdec5934a4bdd00405acbb714aec81980f6097\r\n\r\nOn a fresh install of CentOS 7 running the puppet module ends us with version 2.6.0 of the `requests` library. \r\n\r\nDon't get me wrong, this is a laughably old version of the `requests` library and we will upgrade it which will solve our problem. However there should probably be an excplicit dependency listed on `requests>=2.8.0`.", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/7651/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/7651/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/7545", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/7545/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/7545/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/7545/events", "html_url": "https://github.com/certbot/certbot/issues/7545", "id": 521566482, "node_id": "MDU6SXNzdWU1MjE1NjY0ODI=", "number": 7545, "title": "Webroot Unicode Issue", "user": {"login": "xtermi", "id": 5196387, "node_id": "MDQ6VXNlcjUxOTYzODc=", "avatar_url": "https://avatars.githubusercontent.com/u/5196387?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xtermi", "html_url": "https://github.com/xtermi", "followers_url": "https://api.github.com/users/xtermi/followers", "following_url": "https://api.github.com/users/xtermi/following{/other_user}", "gists_url": "https://api.github.com/users/xtermi/gists{/gist_id}", "starred_url": "https://api.github.com/users/xtermi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xtermi/subscriptions", "organizations_url": "https://api.github.com/users/xtermi/orgs", "repos_url": "https://api.github.com/users/xtermi/repos", "events_url": "https://api.github.com/users/xtermi/events{/privacy}", "received_events_url": "https://api.github.com/users/xtermi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 276243286, "node_id": "MDU6TGFiZWwyNzYyNDMyODY=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20webroot", "name": "area: webroot", "color": "c5def5", "default": false, "description": null}, {"id": 277080619, "node_id": "MDU6TGFiZWwyNzcwODA2MTk=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20code%20health", "name": "area: code health", "color": "c5def5", "default": false, "description": null}, {"id": 853314368, "node_id": "MDU6TGFiZWw4NTMzMTQzNjg=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20encoding/type%20error", "name": "area: encoding/type error", "color": "c5def5", "default": false, "description": ""}, {"id": 1226192732, "node_id": "MDU6TGFiZWwxMjI2MTkyNzMy", "url": "https://api.github.com/repos/certbot/certbot/labels/priority:%20unplanned", "name": "priority: unplanned", "color": "5319e7", "default": false, "description": "Work that we believe should be done, but does not have a higher priority."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-11-12T13:56:26Z", "updated_at": "2021-05-16T13:17:41Z", "closed_at": "2021-05-16T13:17:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Certbot Version: 0.31.0-1+ubuntu16.04.1+certbot+1\r\nUbuntu 16.04.6 LTS\r\nInstallation from certbot PPA.**\r\n\r\n**CLI Command (Real domain name changed):**\r\nletsencrypt --agree-tos --noninteractive --webroot certonly --webroot-path /data/www/k000009/web/h\u00fc\u00fc\u00fc\u00fc.at --cert-name www.xn--h-ehaaaa.at --domains www.xn--h-ehaaaa.at,xn--h-ehaaaa.at --force-renew\r\n\r\nSaving debug log to /var/log/letsencrypt/letsencrypt.log\r\nPlugins selected: Authenticator webroot, Installer None\r\nObtaining a new certificate\r\nAn unexpected error occurred:\r\nUnicodeEncodeError: 'ascii' codec can't encode characters in position 659-662: ordinal not in range(128)\r\nPlease see the logfiles in /var/log/letsencrypt for more details.\r\n\r\n**Log File Output:**\r\n2019-11-12 14:33:00,609:DEBUG:certbot.plugins.selection:Requested authenticator webroot and installer <certbot.cli._Default object at 0x7fcbae54d080>\r\n2019-11-12 14:33:00,614:DEBUG:certbot.cli:Var authenticator=webroot (set by user).\r\n2019-11-12 14:33:00,617:DEBUG:certbot.cli:Var webroot_path=/data/www/k000009/web/h\u00fc\u00fc\u00fc\u00fc.at (set by user).\r\n2019-11-12 14:33:00,622:DEBUG:certbot.cli:Var webroot_path=/data/www/k000009/web/h\u00fc\u00fc\u00fc\u00fc.at (set by user).\r\n2019-11-12 14:33:00,623:DEBUG:certbot.cli:Var webroot_map={'webroot_path'} (set by user).\r\n2019-11-12 14:33:00,633:DEBUG:certbot.storage:Writing new config /etc/letsencrypt/renewal/www.letest.xn--h-ehaaaa.at-0003.conf.\r\n2019-11-12 14:33:00,634:DEBUG:certbot.log:Exiting abnormally:\r\nTraceback (most recent call last):\r\n  File \"/usr/bin/letsencrypt\", line 11, in <module>\r\n    load_entry_point('certbot==0.31.0', 'console_scripts', 'certbot')()\r\n  File \"/usr/lib/python3/dist-packages/certbot/main.py\", line 1365, in main\r\n    return config.func(config, plugins)\r\n  File \"/usr/lib/python3/dist-packages/certbot/main.py\", line 1250, in certonly\r\n    lineage = _get_and_save_cert(le_client, config, domains, certname, lineage)\r\n  File \"/usr/lib/python3/dist-packages/certbot/main.py\", line 121, in _get_and_save_cert\r\n    lineage = le_client.obtain_and_enroll_certificate(domains, certname)\r\n  File \"/usr/lib/python3/dist-packages/certbot/client.py\", line 428, in obtain_and_enroll_certificate\r\n    self.config)\r\n  File \"/usr/lib/python3/dist-packages/certbot/storage.py\", line 1048, in new_lineage\r\n    target, values)\r\n  File \"/usr/lib/python3/dist-packages/certbot/storage.py\", line 150, in write_renewal_config\r\n    config.write(outfile=f)\r\n  File \"/usr/lib/python3/dist-packages/configobj.py\", line 2119, in write\r\n    'ascii')\r\nUnicodeEncodeError: 'ascii' codec can't encode characters in position 659-662: ordinal not in range(128)\r\n\r\n**Expected behaviour:**\r\nThe current certbot client crashes, if you use a webroot with unicode characters e.g. \"\u00fc\u00e4\u00f6\". The client should allow unicode characters, which are widely supported by operating systems.", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/7545/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/7545/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/7425", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/7425/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/7425/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/7425/events", "html_url": "https://github.com/certbot/certbot/issues/7425", "id": 502999673, "node_id": "MDU6SXNzdWU1MDI5OTk2NzM=", "number": 7425, "title": "luadns dns validation: Failure if \"forward\" entry in zone", "user": {"login": "KaiBroeker", "id": 24399000, "node_id": "MDQ6VXNlcjI0Mzk5MDAw", "avatar_url": "https://avatars.githubusercontent.com/u/24399000?v=4", "gravatar_id": "", "url": "https://api.github.com/users/KaiBroeker", "html_url": "https://github.com/KaiBroeker", "followers_url": "https://api.github.com/users/KaiBroeker/followers", "following_url": "https://api.github.com/users/KaiBroeker/following{/other_user}", "gists_url": "https://api.github.com/users/KaiBroeker/gists{/gist_id}", "starred_url": "https://api.github.com/users/KaiBroeker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/KaiBroeker/subscriptions", "organizations_url": "https://api.github.com/users/KaiBroeker/orgs", "repos_url": "https://api.github.com/users/KaiBroeker/repos", "events_url": "https://api.github.com/users/KaiBroeker/events{/privacy}", "received_events_url": "https://api.github.com/users/KaiBroeker/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 277078963, "node_id": "MDU6TGFiZWwyNzcwNzg5NjM=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%203rd%20party", "name": "area: 3rd party", "color": "c7def8", "default": false, "description": null}, {"id": 596606268, "node_id": "MDU6TGFiZWw1OTY2MDYyNjg=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20dns", "name": "area: dns", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-10-05T18:36:07Z", "updated_at": "2020-01-24T23:01:02Z", "closed_at": "2020-01-24T23:01:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "## My operating system is (include version):\r\nI tested it with fedora 29 and ubuntu 18:04\r\n\r\n## I installed Certbot with (certbot-auto, OS package manager, pip, etc):\r\nI installed certbot and certbot-dns-luadns via pip.\r\n\r\n## I ran this command and it produced this output:\r\nCommand:\r\n\r\n```bash\r\ncertbot certonly  --dns-luadns --dns-luadns-credentials ./lua.ini -d ***.de\r\n```\r\nThe output was:\r\n\r\n```bash\r\nSaving debug log to /home/kai/le-dns/logdir/letsencrypt.log\r\nPlugins selected: Authenticator dns-luadns, Installer None\r\nObtaining a new certificate\r\nPerforming the following challenges:\r\ndns-01 challenge for ***.de\r\nCleaning up challenges\r\nEncountered exception during recovery: \r\nTraceback (most recent call last):\r\n  File \"/home/kai/le-dns/env/lib64/python3.7/site-packages/certbot/auth_handler.py\", line 69, in handle_authorizations\r\n    resps = self.auth.perform(achalls)\r\n  File \"/home/kai/le-dns/env/lib64/python3.7/site-packages/certbot/plugins/dns_common.py\", line 58, in perform\r\n    self._perform(domain, validation_domain_name, validation)\r\n  File \"/home/kai/le-dns/env/lib64/python3.7/site-packages/certbot_dns_luadns/dns_luadns.py\", line 52, in _perform\r\n    self._get_luadns_client().add_txt_record(domain, validation_name, validation)\r\n  File \"/home/kai/le-dns/env/lib64/python3.7/site-packages/certbot/plugins/dns_common_lexicon.py\", line 43, in add_txt_record\r\n    self.provider.create_record(type='TXT', name=record_name, content=record_content)\r\n  File \"/home/kai/le-dns/env/lib64/python3.7/site-packages/lexicon/providers/base.py\", line 80, in create_record\r\n    return self._create_record(rtype, name, content)\r\n  File \"/home/*/le-dns/env/lib64/python3.7/site-packages/lexicon/providers/luadns.py\", line 45, in _create_record\r\n    existing_records = self._list_records(rtype, name, content)\r\n  File \"/home/kai/le-dns/env/lib64/python3.7/site-packages/lexicon/providers/luadns.py\", line 71, in _list_records\r\n    'id': record['id']\r\nKeyError: 'id'\r\n```\r\n\r\n## dirty fix:\r\nremove all \"forward\" entries from the dns zone.  \r\nAfter that, the validation work fine.\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/7425/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/7425/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/7423", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/7423/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/7423/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/7423/events", "html_url": "https://github.com/certbot/certbot/issues/7423", "id": 502546403, "node_id": "MDU6SXNzdWU1MDI1NDY0MDM=", "number": 7423, "title": "LetsEncrypt fails to parse an Apache config file (IfVersion)", "user": {"login": "ogmueller", "id": 788989, "node_id": "MDQ6VXNlcjc4ODk4OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/788989?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ogmueller", "html_url": "https://github.com/ogmueller", "followers_url": "https://api.github.com/users/ogmueller/followers", "following_url": "https://api.github.com/users/ogmueller/following{/other_user}", "gists_url": "https://api.github.com/users/ogmueller/gists{/gist_id}", "starred_url": "https://api.github.com/users/ogmueller/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ogmueller/subscriptions", "organizations_url": "https://api.github.com/users/ogmueller/orgs", "repos_url": "https://api.github.com/users/ogmueller/repos", "events_url": "https://api.github.com/users/ogmueller/events{/privacy}", "received_events_url": "https://api.github.com/users/ogmueller/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 258836903, "node_id": "MDU6TGFiZWwyNTg4MzY5MDM=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20apache", "name": "area: apache", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-10-04T10:02:46Z", "updated_at": "2019-10-04T12:50:37Z", "closed_at": "2019-10-04T12:50:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "## My operating system is (include version):\r\nUbuntu 18.04\r\n\r\n## I installed Certbot with (certbot-auto, OS package manager, pip, etc):\r\nPPA: deb http://ppa.launchpad.net/certbot/certbot/ubuntu bionic main\r\n\r\n```\r\n# certbot --version\r\ncertbot 0.31.0\r\n```\r\n\r\n## I ran this command and it produced this output:\r\ncertbot -q renew\r\n\r\n## Certbot's behavior differed from what I expected because:\r\nit is exiting with an apache parse error, though there is no parse error in the configuration. apache linting is just fine.\r\n\r\n## Here is a Certbot log showing the issue (if available):\r\n```\r\n2019-10-04 11:33:15,097:DEBUG:certbot.plugins.selection:Requested authenticator None and installer None\r\n2019-10-04 11:33:15,195:DEBUG:certbot_apache.configurator:Apache version is 2.4.29\r\n2019-10-04 11:33:15,607:DEBUG:certbot.plugins.disco:Other error:(PluginEntryPoint#apache): There has been an error in parsing the file /etc/apache2/sites-enabled/000-default.conf on line 9: Syntax error\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3/dist-packages/certbot/plugins/disco.py\", line 132, in prepare\r\n    self._initialized.prepare()\r\n  File \"/usr/lib/python3/dist-packages/certbot_apache/configurator.py\", line 255, in prepare\r\n    self.check_parsing_errors(\"httpd.aug\")\r\n  File \"/usr/lib/python3/dist-packages/certbot_apache/augeas_configurator.py\", line 77, in check_parsing_errors\r\n    raise errors.PluginError(msg)\r\ncertbot.errors.PluginError: There has been an error in parsing the file /etc/apache2/sites-enabled/000-default.conf on line 9: Syntax error\r\n2019-10-04 11:33:15,608:DEBUG:certbot.plugins.selection:No candidate plugin\r\n2019-10-04 11:33:15,608:DEBUG:certbot.plugins.selection:Selected authenticator None and installer None\r\n2019-10-04 11:33:34,542:DEBUG:certbot.main:certbot version: 0.31.0\r\n2019-10-04 11:33:34,552:DEBUG:certbot.main:Arguments: []\r\n```\r\n\r\n## Here is the relevant nginx server block or Apache virtualhost for the domain I am configuring:\r\n```\r\n   7 <VirtualHost *:443>\r\n   8\r\n   9   <IfVersion > 2.4.8>\r\n  10     # Enable HTTP/2 whenever possible\r\n  11     Protocols h2 http/1.1\r\n  12   </IfVersion>\r\n  13\r\n```\r\n\r\nAs an XML doc this would be wrong, but Apache configuration is not pure XML and this configuration seems to be ok and as described in the documentation (https://httpd.apache.org/docs/2.4/mod/mod_version.html). Also apache linting is fine:\r\n```\r\n# apachectl -t\r\nSyntax OK\r\n```\r\n\r\nI have seen this issue already on  https://github.com/certbot/certbot/issues/1294, but @domcleal pointed me here.", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/7423/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/7423/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/7422", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/7422/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/7422/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/7422/events", "html_url": "https://github.com/certbot/certbot/issues/7422", "id": 502415423, "node_id": "MDU6SXNzdWU1MDI0MTU0MjM=", "number": 7422, "title": "Nginx installer not properly reloading configuration ", "user": {"login": "Ackis", "id": 22605, "node_id": "MDQ6VXNlcjIyNjA1", "avatar_url": "https://avatars.githubusercontent.com/u/22605?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Ackis", "html_url": "https://github.com/Ackis", "followers_url": "https://api.github.com/users/Ackis/followers", "following_url": "https://api.github.com/users/Ackis/following{/other_user}", "gists_url": "https://api.github.com/users/Ackis/gists{/gist_id}", "starred_url": "https://api.github.com/users/Ackis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Ackis/subscriptions", "organizations_url": "https://api.github.com/users/Ackis/orgs", "repos_url": "https://api.github.com/users/Ackis/repos", "events_url": "https://api.github.com/users/Ackis/events{/privacy}", "received_events_url": "https://api.github.com/users/Ackis/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 258836706, "node_id": "MDU6TGFiZWwyNTg4MzY3MDY=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20nginx", "name": "area: nginx", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/86", "html_url": "https://github.com/certbot/certbot/milestone/86", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/86/labels", "id": 5365033, "node_id": "MDk6TWlsZXN0b25lNTM2NTAzMw==", "number": 86, "title": "1.7.0", "description": "", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 13, "state": "closed", "created_at": "2020-04-29T20:33:15Z", "updated_at": "2020-08-05T17:02:12Z", "due_on": "2020-08-04T07:00:00Z", "closed_at": "2020-08-05T17:02:12Z"}, "comments": 17, "created_at": "2019-10-04T04:16:16Z", "updated_at": "2022-05-07T01:47:42Z", "closed_at": "2020-07-27T19:52:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "Detailed conversation could be found here:\r\nhttps://community.letsencrypt.org/t/cannot-renew-create-a-new-cert-when-i-had-no-issue-previously/103040/\r\n\r\n## My operating system is (include version):\r\nUbuntu 18.04.3 LTS\r\nNginx 1.17.4 (note, this isn't the version of nginx that's part of Ubuntu's repo's)\r\n\r\n## I installed Certbot with (certbot-auto, OS package manager, pip, etc):\r\n\r\n\r\n## I ran this command and it produced this output:\r\n`sudo certbot renew --cert-name ackis.duckdns.org --debug-challenges --dry-run`\r\n\r\n```\r\nSaving debug log to /var/log/letsencrypt/letsencrypt.log\r\n\r\n- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\r\nProcessing /etc/letsencrypt/renewal/ackis.duckdns.org.conf\r\n- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\r\nCert not due for renewal, but simulating renewal for dry run\r\nPlugins selected: Authenticator nginx, Installer nginx\r\nRenewing an existing certificate\r\nPerforming the following challenges:\r\nhttp-01 challenge for ackis.duckdns.org\r\nWaiting for verification...\r\n\r\n- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\r\nChallenges loaded. Press continue to submit to CA. Pass \"-v\" for more info about\r\nchallenges.\r\n- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\r\nCleaning up challenges\r\nAttempting to renew cert (ackis.duckdns.org) from /etc/letsencrypt/renewal/ackis.duckdns.org.conf produced an unexpected error: Failed authorization procedure. ackis.duckdns.org (http-01): urn:ietf:params:acme:error:unauthorized :: The client lacks sufficient authorization :: Invalid response from https://ackis.duckdns.org/.well-known/acme-challenge/7bO_DNxtDDyO_hPdRJcpGWEJHaLTRwtTsMWpWtQREDE [174.3.126.96]: \"<html>\\r\\n<head><title>404 Not Found</title></head>\\r\\n<body>\\r\\n<center><h1>404 Not Found</h1></center>\\r\\n<hr><center>nginx</center>\\r\\n\". Skipping.\r\nAll renewal attempts failed. The following certs could not be renewed:\r\n  /etc/letsencrypt/live/ackis.duckdns.org/fullchain.pem (failure)\r\n\r\n- - - - - - - - - - - - - - - - - - -  - - - - - - - - - - - - - - - - - - - - -\r\n** DRY RUN: simulating 'certbot renew' close to cert expiry\r\n**          (The test certificates below have not been saved.)\r\n\r\nAll renewal attempts failed. The following certs could not be renewed:\r\n  /etc/letsencrypt/live/ackis.duckdns.org/fullchain.pem (failure)\r\n** DRY RUN: simulating 'certbot renew' close to cert expiry\r\n**          (The test certificates above have not been saved.)\r\n- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\r\n1 renew failure(s), 0 parse failure(s)\r\n\r\nIMPORTANT NOTES:\r\n - The following errors were reported by the server:\r\n\r\n   Domain: ackis.duckdns.org\r\n   Type:   unauthorized\r\n   Detail: Invalid response from\r\n   https://ackis.duckdns.org/.well-known/acme-challenge/7bO_DNxtDDyO_hPdRJcpGWEJHaLTRwtTsMWpWtQREDE\r\n   [174.3.126.96]: \"<html>\\r\\n<head><title>404 Not\r\n   Found</title></head>\\r\\n<body>\\r\\n<center><h1>404 Not\r\n   Found</h1></center>\\r\\n<hr><center>nginx</center>\\r\\n\"\r\n\r\n   To fix these errors, please make sure that your domain name was\r\n   entered correctly and the DNS A/AAAA record(s) for that domain\r\n   contain(s) the right IP address.\r\n```\r\n\r\n## Certbot's behavior differed from what I expected because:\r\n\r\nCertbot should have renewed the certificate.\r\n\r\n## Here is the relevant nginx server block or Apache virtualhost for the domain I am configuring:\r\n\r\n```\r\n# HTTP server - redirect to HTTPS\r\nserver {\r\n        listen                                  80;\r\n        listen                                  [::]:80;\r\n        server_name                             www.ackis.duckdns.org ackis.duckdns.org;\r\n\r\n        location / {\r\n                return                          301 https://ackis.duckdns.org$request_uri;\r\n        }\r\n\r\n        # Workaround LE and certbot not working with nginx\r\n        location /.well-known/acme-challenge/ {\r\n                                                root /var/www/letsencrypt;\r\n        }\r\n\r\n        access_log                              syslog:server=localhost,tag=nginx_access_internet,severity=info;\r\n        error_log                               syslog:server=localhost,tag=nginx_error_internet;\r\n\r\n        add_header                              Strict-Transport-Security \"max-age=31536000;\";\r\n        add_header                              X-Frame-Options SAMEORIGIN;\r\n        add_header                              X-Content-Type-Options nosniff;\r\n        add_header                              X-XSS-Protection \"1; mode=block\";\r\n}\r\n\r\n# www domain - redirect to domain without www\r\nserver {\r\n        listen                                  443 ssl;\r\n        listen                                  [::]:443 ssl;\r\n        server_name                             www.ackis.duckdns.org;\r\n\r\n        location / {\r\n                return                          301 https://ackis.duckdns.org$request_uri;\r\n        }\r\n\r\n        access_log                              syslog:server=localhost,tag=nginx_access_internet,severity=info;\r\n        error_log                               syslog:server=localhost,tag=nginx_error_internet;\r\n\r\n        ssl_certificate                         /etc/letsencrypt/live/www.ackis.duckdns.org/fullchain.pem;\r\n        ssl_certificate_key                     /etc/letsencrypt/live/www.ackis.duckdns.org/privkey.pem;\r\n\r\n        server_tokens                           off;\r\n        etag                                    off;\r\n\r\n        add_header                              Strict-Transport-Security \"max-age=31536000;\";\r\n        add_header                              X-Frame-Options SAMEORIGIN;\r\n        add_header                              X-Content-Type-Options nosniff;\r\n        add_header                              X-XSS-Protection \"1; mode=block\";\r\n}\r\n\r\nserver {\r\n        listen                                  443 ssl default_server;\r\n        listen                                  [::]:443 ssl;\r\n        server_name                             ackis.duckdns.org;\r\n\r\n        access_log                              syslog:server=localhost,tag=nginx_access_internet,severity=info;\r\n        error_log                               syslog:server=localhost,tag=nginx_error_internet;\r\n\r\n        ssl_certificate                         /etc/letsencrypt/live/ackis.duckdns.org/fullchain.pem; # managed by Certbot\r\n        ssl_certificate_key                     /etc/letsencrypt/live/ackis.duckdns.org/privkey.pem; # managed by Certbot\r\n\r\n        server_tokens                           off;\r\n        etag                                    off;\r\n\r\n        add_header                              Strict-Transport-Security \"max-age=31536000;\";\r\n        add_header                              X-Frame-Options SAMEORIGIN;\r\n        add_header                              X-Content-Type-Options nosniff;\r\n        add_header                              X-XSS-Protection \"1; mode=block\";\r\n\r\n        location ~* /\\.\\./ {\r\n                deny                            all;\r\n                return                          404;\r\n        }\r\n\r\n        location ~* \"^(?:.+\\.(?:htaccess|make|txt|test|markdown|md|engine|inc|info|install|module|profile|po|sh|.*sql|theme|tpl(?:\\.php)?|xtmpl)|code-style\\.pl|/Entries.*|/Re$\r\n                return                          404;\r\n        }\r\n\r\n        location = /favicon.ico {\r\n                try_files                       /favicon.ico =204;\r\n        }\r\n\r\n        location / {\r\n                root                            /var/www/internet;\r\n                index                           index.html;\r\n        }\r\n        location /nginx_status {\r\n                access_log                      syslog:server=localhost,tag=nginx_access_admin,severity=info;\r\n                error_log                       syslog:server=localhost,tag=nginx_error_admin;\r\n                allow                           192.168.0.0/24;\r\n                deny                            all;\r\n\r\n                auth_basic                      \"Restricted access\";\r\n                auth_basic_user_file            /etc/nginx/auth/admin.htpasswd;\r\n\r\n                stub_status                     on;\r\n        }\r\n\r\n}\r\n\r\n```", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/7422/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/7422/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/7402", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/7402/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/7402/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/7402/events", "html_url": "https://github.com/certbot/certbot/issues/7402", "id": 498544712, "node_id": "MDU6SXNzdWU0OTg1NDQ3MTI=", "number": 7402, "title": "Use platform.linux_distribution where we can", "user": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 258836903, "node_id": "MDU6TGFiZWwyNTg4MzY5MDM=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20apache", "name": "area: apache", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/77", "html_url": "https://github.com/certbot/certbot/milestone/77", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/77/labels", "id": 4567475, "node_id": "MDk6TWlsZXN0b25lNDU2NzQ3NQ==", "number": 77, "title": "0.39.0", "description": "", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 16, "state": "closed", "created_at": "2019-08-12T20:32:42Z", "updated_at": "2019-10-03T21:10:03Z", "due_on": "2019-10-01T07:00:00Z", "closed_at": "2019-10-01T20:35:09Z"}, "comments": 3, "created_at": "2019-09-25T21:58:15Z", "updated_at": "2019-10-03T21:10:03Z", "closed_at": "2019-10-03T21:10:03Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "I briefly looked into problems such as https://github.com/certbot/certbot/issues/7390 which seem to be due to the switch from using `platform.linux_distribution` in the standard library to `distro.linux_distribution` from https://github.com/nir0s/distro.\r\n\r\nIt seems like there are a lot of potential issues. In addition to the issue above, I've seen the same problem on Oracle Linux 6 when lsb-release is installed. The standard library seems to [only use OS specific files in `/etc`](https://github.com/python/cpython/blob/b2d29bfa5be5a0794c7c69078c43953967fcacf4/Lib/platform.py#L369) (with a [few exceptions on more obscure systems](https://github.com/python/cpython/blob/b2d29bfa5be5a0794c7c69078c43953967fcacf4/Lib/platform.py#L234)) while [distro prefers `/etc/os-release` and `lsb-release` before those files](https://github.com/nir0s/distro/blob/cdfe85d15bd366820db6a1cfdc6cf9a0a5de7e37/distro.py#L714).\r\n\r\nTo resolve these issues for now, I think we should remove our dependency on `distro`, calling `platform.linux_distribution()` when it's available, and just using the value in `platform.system_alias()` if not. The relevant code is https://github.com/certbot/certbot/blob/8cb57566c0be9fbed6d86316a0afb18e86d9f481/certbot/util.py#L387-L401\r\n\r\nAlternatively, we could keep `distro` and use it on Python 3.8 only but all of the problematic systems we've seen using this `linux_distribution` code are based on RHEL 6 which does not have Python 3.8 and since its return values are very different from what we're used to, I think there's not much value without taking the time to do additional work.\r\n\r\nI'd like to hear what others think here.", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/7402/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/7402/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/7386", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/7386/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/7386/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/7386/events", "html_url": "https://github.com/certbot/certbot/issues/7386", "id": 496253666, "node_id": "MDU6SXNzdWU0OTYyNTM2NjY=", "number": 7386, "title": "Standalone server waits forever to drain clients during shutdown", "user": {"login": "alexzorin", "id": 311534, "node_id": "MDQ6VXNlcjMxMTUzNA==", "avatar_url": "https://avatars.githubusercontent.com/u/311534?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexzorin", "html_url": "https://github.com/alexzorin", "followers_url": "https://api.github.com/users/alexzorin/followers", "following_url": "https://api.github.com/users/alexzorin/following{/other_user}", "gists_url": "https://api.github.com/users/alexzorin/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexzorin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexzorin/subscriptions", "organizations_url": "https://api.github.com/users/alexzorin/orgs", "repos_url": "https://api.github.com/users/alexzorin/repos", "events_url": "https://api.github.com/users/alexzorin/events{/privacy}", "received_events_url": "https://api.github.com/users/alexzorin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 146954789, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODk=", "url": "https://api.github.com/repos/certbot/certbot/labels/feature%20request", "name": "feature request", "color": "00ccff", "default": false, "description": null}, {"id": 281347824, "node_id": "MDU6TGFiZWwyODEzNDc4MjQ=", "url": "https://api.github.com/repos/certbot/certbot/labels/has%20pr", "name": "has pr", "color": "0052cc", "default": false, "description": null}, {"id": 418985762, "node_id": "MDU6TGFiZWw0MTg5ODU3NjI=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20standalone", "name": "area: standalone", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/5", "html_url": "https://github.com/certbot/certbot/milestone/5", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/5/labels", "id": 1134473, "node_id": "MDk6TWlsZXN0b25lMTEzNDQ3Mw==", "number": 5, "title": "Wishlist", "description": "", "creator": {"login": "pde", "id": 479213, "node_id": "MDQ6VXNlcjQ3OTIxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/479213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pde", "html_url": "https://github.com/pde", "followers_url": "https://api.github.com/users/pde/followers", "following_url": "https://api.github.com/users/pde/following{/other_user}", "gists_url": "https://api.github.com/users/pde/gists{/gist_id}", "starred_url": "https://api.github.com/users/pde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pde/subscriptions", "organizations_url": "https://api.github.com/users/pde/orgs", "repos_url": "https://api.github.com/users/pde/repos", "events_url": "https://api.github.com/users/pde/events{/privacy}", "received_events_url": "https://api.github.com/users/pde/received_events", "type": "User", "site_admin": false}, "open_issues": 96, "closed_issues": 202, "state": "open", "created_at": "2015-05-26T17:47:38Z", "updated_at": "2023-04-17T19:55:31Z", "due_on": null, "closed_at": null}, "comments": 1, "created_at": "2019-09-20T09:42:24Z", "updated_at": "2020-04-01T21:53:59Z", "closed_at": "2020-04-01T21:53:59Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Originally discovered in [a help thread on the forums](https://community.letsencrypt.org/t/certbot-hangs-on-stopping-server/102450?u=_az).\r\n\r\n## My operating system is (include version):\r\nUbuntu 19.04\r\n\r\n## I installed Certbot with (certbot-auto, OS package manager, pip, etc):\r\ncertbot-auto\r\n\r\n## I ran this command and it produced this output:\r\n    sudo certbot-auto certonly -d certbot.eff.org --standalone --dry-run\r\n\r\nand simultaneously in a second terminal:\r\n\r\n    nc -vvv localhost 80\r\n\r\nCauses an infinite hang until the `nc` client disconnects:\r\n\r\n    2019-09-20 19:29:28,932:DEBUG:certbot.error_handler:Calling registered functions\r\n    2019-09-20 19:29:28,932:INFO:certbot.auth_handler:Cleaning up challenges\r\n    2019-09-20 19:29:28,932:DEBUG:certbot.plugins.standalone:Stopping server at :::80...\r\n\r\n## Certbot's behavior differed from what I expected because:\r\nThe standalone servers should not wait forever for clients to drain. I don't think they should wait at all and instead should just close the server socket. There is no reason to expect further legitimate traffic to the server. \r\n\r\nIf a very patient internet crawler happens to hit the port, we need to dispatch of it quickly.\r\n\r\nIt may be appropriate to also add read and write timeouts to the socket, since it is practically always going to be exposed to the internet.", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/7386/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/7386/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/7339", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/7339/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/7339/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/7339/events", "html_url": "https://github.com/certbot/certbot/issues/7339", "id": 482488698, "node_id": "MDU6SXNzdWU0ODI0ODg2OTg=", "number": 7339, "title": " \"acme.client:Ignoring wrong Content-Type ('application/json; charset=utf-8') for JSON decodable response\"", "user": {"login": "jernst", "id": 874785, "node_id": "MDQ6VXNlcjg3NDc4NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/874785?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jernst", "html_url": "https://github.com/jernst", "followers_url": "https://api.github.com/users/jernst/followers", "following_url": "https://api.github.com/users/jernst/following{/other_user}", "gists_url": "https://api.github.com/users/jernst/gists{/gist_id}", "starred_url": "https://api.github.com/users/jernst/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jernst/subscriptions", "organizations_url": "https://api.github.com/users/jernst/orgs", "repos_url": "https://api.github.com/users/jernst/repos", "events_url": "https://api.github.com/users/jernst/events{/privacy}", "received_events_url": "https://api.github.com/users/jernst/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 234599402, "node_id": "MDU6TGFiZWwyMzQ1OTk0MDI=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20spec-compliance", "name": "area: spec-compliance", "color": "c5def5", "default": false, "description": null}, {"id": 277074172, "node_id": "MDU6TGFiZWwyNzcwNzQxNzI=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20acme", "name": "area: acme", "color": "c5def5", "default": false, "description": null}, {"id": 281347824, "node_id": "MDU6TGFiZWwyODEzNDc4MjQ=", "url": "https://api.github.com/repos/certbot/certbot/labels/has%20pr", "name": "has pr", "color": "0052cc", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-08-19T19:35:04Z", "updated_at": "2020-02-24T11:02:46Z", "closed_at": "2020-02-24T11:02:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "Originally reported against pebble: https://github.com/letsencrypt/pebble/issues/271 but according to their analysis (in the comments, excerpted here), it is a certbot issue, so I'm refiling this here.\r\n\r\nIssue:\r\n\r\nI'm running certbot 0.32.0 against pebble 2.2.2 on localhost. `/var/log/letsencrypt/letsencrypt.log` contains the following message:\r\n```\r\n2019-08-19 17:56:38,338:DEBUG:acme.client:Ignoring wrong Content-Type ('application/json; charset=utf-8') for JSON decodable response\r\n```\r\n~~I would think that's probably certbot complaining about pebble, which is why I file this here (not sure that is correct, however).~~\r\n\r\nThis appears to be part of the register flow as it follows `https://0.0.0.0:14000 \"POST /sign-me-up HTTP/1.1\"`. There similar messages further below for other interactions.\r\n\r\nAnalysis:\r\n\r\n...It looks like [this is the location](https://github.com/certbot/certbot/blob/d39f63feca9827aa9267d14869dcb72b85e40c6f/acme/acme/client.py#L1071-L1074) that produced that log line. ... comparing the full raw content type value to the string cls.JSON_CONTENT_TYPE which is defined here as the string: application/json\r\n\r\nPebble is sending a content type value of \"application/json; charset=utf-8\" which fails the string comparison because of the inclusion of the charset parameter.", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/7339/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/7339/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/7295", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/7295/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/7295/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/7295/events", "html_url": "https://github.com/certbot/certbot/issues/7295", "id": 476555482, "node_id": "MDU6SXNzdWU0NzY1NTU0ODI=", "number": 7295, "title": "dns-rfc2136: doesn't support IPv6 DNS servers", "user": {"login": "toreanderson", "id": 4557060, "node_id": "MDQ6VXNlcjQ1NTcwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/4557060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/toreanderson", "html_url": "https://github.com/toreanderson", "followers_url": "https://api.github.com/users/toreanderson/followers", "following_url": "https://api.github.com/users/toreanderson/following{/other_user}", "gists_url": "https://api.github.com/users/toreanderson/gists{/gist_id}", "starred_url": "https://api.github.com/users/toreanderson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/toreanderson/subscriptions", "organizations_url": "https://api.github.com/users/toreanderson/orgs", "repos_url": "https://api.github.com/users/toreanderson/repos", "events_url": "https://api.github.com/users/toreanderson/events{/privacy}", "received_events_url": "https://api.github.com/users/toreanderson/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 596606268, "node_id": "MDU6TGFiZWw1OTY2MDYyNjg=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20dns", "name": "area: dns", "color": "c5def5", "default": false, "description": null}, {"id": 1226192732, "node_id": "MDU6TGFiZWwxMjI2MTkyNzMy", "url": "https://api.github.com/repos/certbot/certbot/labels/priority:%20unplanned", "name": "priority: unplanned", "color": "5319e7", "default": false, "description": "Work that we believe should be done, but does not have a higher priority."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2019-08-04T13:48:40Z", "updated_at": "2021-08-22T23:38:15Z", "closed_at": "2021-08-22T23:38:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "## My operating system is (include version):\r\n\r\nUbuntu Bionic.\r\n\r\n## I installed Certbot with (certbot-auto, OS package manager, pip, etc):\r\n\r\nTried first the packages bundled with Ubuntu (using `apt-get install certbot`). Afterwards, I tried `certbot-auto` (to confirm that this bug is still present in the latest upstream release).\r\n\r\n## I ran this command and it produced this output:\r\n\r\n```bash\r\n$ wget -O /usr/local/sbin/certbot-auto https://dl.eff.org/certbot-auto\r\n$\u00a0chmod a+x /usr/local/sbin/certbot-auto\r\n$\u00a0/usr/local/sbin/certbot-auto\r\n$\u00a0cd /opt/eff.org/certbot/venv\r\n$\u00a0source bin/activate\r\n$\u00a0pip install certbot-dns-rfc2136\r\n$\u00a0deactivate\r\n$\u00a0cat <<EOF > /tmp/rfc2136.ini\r\ndns_rfc2136_server = ipv6.google.com\r\ndns_rfc2136_name = bogus-tsig-key\r\ndns_rfc2136_secret = 3cMUEEgZs2tqGsyQB8X82TrK/O873NBSwkk9g2o9/VQ=\r\ndns_rfc2136_algorithm = HMAC-SHA256\r\nEOF\r\n$ certbot-auto certonly --dry-run -n -m foo@bar.zo -d $(hostname -f) --dns-rfc2136 --dns-rfc2136-credentials /tmp/rfc2136.ini\r\nSaving debug log to /var/log/letsencrypt/letsencrypt.log\r\nPlugins selected: Authenticator dns-rfc2136, Installer None\r\nObtaining a new certificate\r\nPerforming the following challenges:\r\ndns-01 challenge for mail2.fud.no\r\nUnsafe permissions on credentials configuration file: /tmp/rfc2136.ini\r\nCleaning up challenges\r\nEncountered exception during recovery:\r\nTraceback (most recent call last):\r\n  File \"/opt/eff.org/certbot/venv/local/lib/python2.7/site-packages/certbot/error_handler.py\", line 124, in _call_registered\r\n    self.funcs[-1]()\r\n  File \"/opt/eff.org/certbot/venv/local/lib/python2.7/site-packages/certbot/auth_handler.py\", line 220, in _cleanup_challenges\r\n    self.auth.cleanup(achalls)\r\n  File \"/opt/eff.org/certbot/venv/local/lib/python2.7/site-packages/certbot/plugins/dns_common.py\", line 77, in cleanup\r\n    self._cleanup(domain, validation_domain_name, validation)\r\n  File \"/opt/eff.org/certbot/venv/local/lib/python2.7/site-packages/certbot_dns_rfc2136/dns_rfc2136.py\", line 79, in _cleanup\r\n    self._get_rfc2136_client().del_txt_record(validation_name, validation)\r\n  File \"/opt/eff.org/certbot/venv/local/lib/python2.7/site-packages/certbot_dns_rfc2136/dns_rfc2136.py\", line 147, in del_txt_record\r\n    domain = self._find_domain(record_name)\r\n  File \"/opt/eff.org/certbot/venv/local/lib/python2.7/site-packages/certbot_dns_rfc2136/dns_rfc2136.py\", line 186, in _find_domain\r\n    if self._query_soa(guess):\r\n  File \"/opt/eff.org/certbot/venv/local/lib/python2.7/site-packages/certbot_dns_rfc2136/dns_rfc2136.py\", line 222, in _query_soa\r\n    .format(e))\r\nPluginError: Encountered error when making query: [Errno -2] Name or service not known\r\nEncountered error when making query: [Errno -2] Name or service not known\r\n```\r\n\r\n## Certbot's behavior differed from what I expected because:\r\n\r\n`ipv6.google.com` **does** exist in DNS with an `IN AAAA` record:\r\n\r\n```bash\r\n$ getent ahosts ipv6.google.com\r\n2a00:1450:400f:80b::200e STREAM ipv6.l.google.com\r\n2a00:1450:400f:80b::200e DGRAM  \r\n2a00:1450:400f:80b::200e RAW\r\n```\r\n\r\nIf I change the DNS server to one that has both IPv4 `IN A` and IPv6 `IN AAAA` records in DNS, I do not get this error:\r\n\r\n```bash\r\n$ sed -i s/ipv6/www/ /tmp/rfc2136.ini\r\n$ certbot-auto certonly --dry-run -n -m foo@bar.zo -d $(hostname -f) --dns-rfc2136 --dns-rfc2136-credentials /tmp/rfc2136.ini\r\nSaving debug log to /var/log/letsencrypt/letsencrypt.log\r\nPlugins selected: Authenticator dns-rfc2136, Installer None\r\nObtaining a new certificate\r\nPerforming the following challenges:\r\ndns-01 challenge for mail2.fud.no\r\nUnsafe permissions on credentials configuration file: /tmp/rfc2136.ini\r\n[...]\r\n```\r\n\r\nObviously it still doesn't work since I'm using totally bogus settings, but the key point is that the *\u00abName or service not known\u00bb* error is now gone. Using `tcpdump`, I can also confirm that `certbot` is now actually attempting to communicate with the DNS server supplied:\r\n\r\n```\r\n$ tcpdump -i any host www.google.com -n\r\ntcpdump: verbose output suppressed, use -v or -vv for full protocol decode\r\nlistening on any, link-type LINUX_SLL (Linux cooked), capture size 262144 bytes\r\n15:28:02.601283 IP 10.0.0.8.51705 > 216.58.207.196.53: 7302 SOA? _acme-challenge.mail2.fud.no. (46)\r\n```\r\n\r\nNote how it is using IPv4 for this query, even though `www.google.com` has both IPv4 and IPv6 addresses (and so has the host `certbot` is running on). This violates [RFC 6724](https://tools.ietf.org/html/rfc6724), which states that IPv6 should be attempted before IPv4, if available.\r\n\r\n## Here is a Certbot log showing the issue (if available):\r\n\r\n[letsencrypt.log](https://github.com/certbot/certbot/files/3464932/letsencrypt.log)", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/7295/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/7295/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/7287", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/7287/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/7287/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/7287/events", "html_url": "https://github.com/certbot/certbot/pull/7287", "id": 476150009, "node_id": "MDExOlB1bGxSZXF1ZXN0MzAzNzYyODgz", "number": 7287, "title": "[Critical] Fix virtualenv in AppVeyor CI jobs", "user": {"login": "adferrand", "id": 9728851, "node_id": "MDQ6VXNlcjk3Mjg4NTE=", "avatar_url": "https://avatars.githubusercontent.com/u/9728851?v=4", "gravatar_id": "", "url": "https://api.github.com/users/adferrand", "html_url": "https://github.com/adferrand", "followers_url": "https://api.github.com/users/adferrand/followers", "following_url": "https://api.github.com/users/adferrand/following{/other_user}", "gists_url": "https://api.github.com/users/adferrand/gists{/gist_id}", "starred_url": "https://api.github.com/users/adferrand/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/adferrand/subscriptions", "organizations_url": "https://api.github.com/users/adferrand/orgs", "repos_url": "https://api.github.com/users/adferrand/repos", "events_url": "https://api.github.com/users/adferrand/events{/privacy}", "received_events_url": "https://api.github.com/users/adferrand/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 263357278, "node_id": "MDU6TGFiZWwyNjMzNTcyNzg=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20testing", "name": "area: testing", "color": "c5def5", "default": false, "description": null}, {"id": 277080619, "node_id": "MDU6TGFiZWwyNzcwODA2MTk=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20code%20health", "name": "area: code health", "color": "c5def5", "default": false, "description": null}, {"id": 588396942, "node_id": "MDU6TGFiZWw1ODgzOTY5NDI=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20windows", "name": "area: windows", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-08-02T12:15:13Z", "updated_at": "2019-08-02T16:47:37Z", "closed_at": "2019-08-02T16:47:37Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/certbot/certbot/pulls/7287", "html_url": "https://github.com/certbot/certbot/pull/7287", "diff_url": "https://github.com/certbot/certbot/pull/7287.diff", "patch_url": "https://github.com/certbot/certbot/pull/7287.patch", "merged_at": "2019-08-02T16:47:37Z"}, "body": "AppVeyor recently upgrade the Python 3.7.x installed in their VM to 3.7.4. However, virtualenv 16.6.1 is [broken](https://github.com/pypa/virtualenv/issues/1380) on that specific version of Python for Windows.\r\n\r\nThis PR upgrade virtualenv installed for a dev/test environment from 16.6.1 to 16.6.2 in order to fix this issue, and repair the CI jobs execute by AppVeyor on PRs.", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/7287/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/7287/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/certbot/certbot/issues/7262", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/7262/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/7262/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/7262/events", "html_url": "https://github.com/certbot/certbot/issues/7262", "id": 471829286, "node_id": "MDU6SXNzdWU0NzE4MjkyODY=", "number": 7262, "title": "filesystem.realpath doesn't handle parent directories", "user": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 588396942, "node_id": "MDU6TGFiZWw1ODgzOTY5NDI=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20windows", "name": "area: windows", "color": "c5def5", "default": false, "description": null}, {"id": 1226192732, "node_id": "MDU6TGFiZWwxMjI2MTkyNzMy", "url": "https://api.github.com/repos/certbot/certbot/labels/priority:%20unplanned", "name": "priority: unplanned", "color": "5319e7", "default": false, "description": "Work that we believe should be done, but does not have a higher priority."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-07-23T17:27:52Z", "updated_at": "2022-11-18T18:23:36Z", "closed_at": "2022-11-18T18:23:36Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "`certbot.compat.filesystem.realpath` only removes symlinks from the path if the symlink is the last element of the path while `os.path.realpath` removes all symlinks.\r\n\r\nFor example, if the path is `/var/folders` and `/var` is a symlink to `/private/var`, notice the differing result between the two functions:\r\n```\r\nIn [10]: path = '/var/folders'\r\n\r\nIn [11]: os.path.realpath(path)\r\nOut[11]: '/private/var/folders'\r\n\r\nIn [12]: filesystem.realpath(path)\r\nOut[12]: '/var/folders'\r\n```\r\nI think we should fix this.", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/7262/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/7262/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/7243", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/7243/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/7243/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/7243/events", "html_url": "https://github.com/certbot/certbot/issues/7243", "id": 468002443, "node_id": "MDU6SXNzdWU0NjgwMDI0NDM=", "number": 7243, "title": "dns-rfc2136 plugin: once again fix CNAME/DNAME behavior", "user": {"login": "hpax", "id": 8127989, "node_id": "MDQ6VXNlcjgxMjc5ODk=", "avatar_url": "https://avatars.githubusercontent.com/u/8127989?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hpax", "html_url": "https://github.com/hpax", "followers_url": "https://api.github.com/users/hpax/followers", "following_url": "https://api.github.com/users/hpax/following{/other_user}", "gists_url": "https://api.github.com/users/hpax/gists{/gist_id}", "starred_url": "https://api.github.com/users/hpax/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hpax/subscriptions", "organizations_url": "https://api.github.com/users/hpax/orgs", "repos_url": "https://api.github.com/users/hpax/repos", "events_url": "https://api.github.com/users/hpax/events{/privacy}", "received_events_url": "https://api.github.com/users/hpax/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 281347824, "node_id": "MDU6TGFiZWwyODEzNDc4MjQ=", "url": "https://api.github.com/repos/certbot/certbot/labels/has%20pr", "name": "has pr", "color": "0052cc", "default": false, "description": null}, {"id": 596606268, "node_id": "MDU6TGFiZWw1OTY2MDYyNjg=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20dns", "name": "area: dns", "color": "c5def5", "default": false, "description": null}, {"id": 1383990430, "node_id": "MDU6TGFiZWwxMzgzOTkwNDMw", "url": "https://api.github.com/repos/certbot/certbot/labels/needs-update", "name": "needs-update", "color": "ADDEE4", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-07-15T08:33:30Z", "updated_at": "2020-07-15T17:06:47Z", "closed_at": "2020-07-15T17:06:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "The fix for bug #7142 once again introduces bug #6787. Note that the patch proposed by myself for #6787 is automatic, rather than expecting manual configuration as in the botched #7029 \r\n\r\nI have refreshed the patch on top of the current master and will submit a pull request shortly.\r\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/7243/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/7243/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/7177", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/7177/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/7177/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/7177/events", "html_url": "https://github.com/certbot/certbot/issues/7177", "id": 459743956, "node_id": "MDU6SXNzdWU0NTk3NDM5NTY=", "number": 7177, "title": "Acme module is not compliant with RFC 8555", "user": {"login": "adferrand", "id": 9728851, "node_id": "MDQ6VXNlcjk3Mjg4NTE=", "avatar_url": "https://avatars.githubusercontent.com/u/9728851?v=4", "gravatar_id": "", "url": "https://api.github.com/users/adferrand", "html_url": "https://github.com/adferrand", "followers_url": "https://api.github.com/users/adferrand/followers", "following_url": "https://api.github.com/users/adferrand/following{/other_user}", "gists_url": "https://api.github.com/users/adferrand/gists{/gist_id}", "starred_url": "https://api.github.com/users/adferrand/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/adferrand/subscriptions", "organizations_url": "https://api.github.com/users/adferrand/orgs", "repos_url": "https://api.github.com/users/adferrand/repos", "events_url": "https://api.github.com/users/adferrand/events{/privacy}", "received_events_url": "https://api.github.com/users/adferrand/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 263357278, "node_id": "MDU6TGFiZWwyNjMzNTcyNzg=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20testing", "name": "area: testing", "color": "c5def5", "default": false, "description": null}, {"id": 277074172, "node_id": "MDU6TGFiZWwyNzcwNzQxNzI=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20acme", "name": "area: acme", "color": "c5def5", "default": false, "description": null}, {"id": 277080619, "node_id": "MDU6TGFiZWwyNzcwODA2MTk=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20code%20health", "name": "area: code health", "color": "c5def5", "default": false, "description": null}, {"id": 281347824, "node_id": "MDU6TGFiZWwyODEzNDc4MjQ=", "url": "https://api.github.com/repos/certbot/certbot/labels/has%20pr", "name": "has pr", "color": "0052cc", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/83", "html_url": "https://github.com/certbot/certbot/milestone/83", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/83/labels", "id": 5092067, "node_id": "MDk6TWlsZXN0b25lNTA5MjA2Nw==", "number": 83, "title": "1.4.0", "description": "", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 48, "state": "closed", "created_at": "2020-02-10T21:21:52Z", "updated_at": "2020-05-06T19:34:03Z", "due_on": "2020-05-05T07:00:00Z", "closed_at": "2020-05-06T19:34:03Z"}, "comments": 1, "created_at": "2019-06-24T07:54:10Z", "updated_at": "2020-03-18T23:42:08Z", "closed_at": "2020-03-18T23:42:03Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "On several areas regarding the JWS tokens, `acme` is not compliant with RFC 8555. As a consequence, Certbot is not working anymore with Pebble v2.1.0+ in strict mode.\r\n\r\nIn particular, all Travis builds (PR or nightly) cannot succeed until this issue is fixed. See for instance: https://travis-ci.com/certbot/certbot/builds/116546080\r\n\r\nYou can see here the additional controls added to the compliance check Pebble side, that Certbot does not pass: https://github.com/letsencrypt/pebble/pull/246\r\n\r\nI propose two solutions in two PRs for that:\r\n* first one is a simplistic solution that just disable strict mode for now in integration tests: https://github.com/certbot/certbot/pull/7175\r\n* second one is a real solution, that makes `acme` compliant using an approach that may imply discussions: https://github.com/certbot/certbot/pull/7176\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/7177/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/7177/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/7165", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/7165/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/7165/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/7165/events", "html_url": "https://github.com/certbot/certbot/issues/7165", "id": 457213772, "node_id": "MDU6SXNzdWU0NTcyMTM3NzI=", "number": 7165, "title": "OSError: [Errno 2] No such file or directory: in webroot.py on SmartOS with Python 2.7", "user": {"login": "martin-c", "id": 503161, "node_id": "MDQ6VXNlcjUwMzE2MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/503161?v=4", "gravatar_id": "", "url": "https://api.github.com/users/martin-c", "html_url": "https://github.com/martin-c", "followers_url": "https://api.github.com/users/martin-c/followers", "following_url": "https://api.github.com/users/martin-c/following{/other_user}", "gists_url": "https://api.github.com/users/martin-c/gists{/gist_id}", "starred_url": "https://api.github.com/users/martin-c/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/martin-c/subscriptions", "organizations_url": "https://api.github.com/users/martin-c/orgs", "repos_url": "https://api.github.com/users/martin-c/repos", "events_url": "https://api.github.com/users/martin-c/events{/privacy}", "received_events_url": "https://api.github.com/users/martin-c/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 276243286, "node_id": "MDU6TGFiZWwyNzYyNDMyODY=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20webroot", "name": "area: webroot", "color": "c5def5", "default": false, "description": null}, {"id": 276680181, "node_id": "MDU6TGFiZWwyNzY2ODAxODE=", "url": "https://api.github.com/repos/certbot/certbot/labels/more-info", "name": "more-info", "color": "006b75", "default": false, "description": null}, {"id": 1226192732, "node_id": "MDU6TGFiZWwxMjI2MTkyNzMy", "url": "https://api.github.com/repos/certbot/certbot/labels/priority:%20unplanned", "name": "priority: unplanned", "color": "5319e7", "default": false, "description": "Work that we believe should be done, but does not have a higher priority."}, {"id": 1383990430, "node_id": "MDU6TGFiZWwxMzgzOTkwNDMw", "url": "https://api.github.com/repos/certbot/certbot/labels/needs-update", "name": "needs-update", "color": "ADDEE4", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2019-06-18T01:15:09Z", "updated_at": "2020-08-25T22:31:36Z", "closed_at": "2020-08-25T22:31:36Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "## Operating System: SmartOS instance(base-64-lts 16.4.1) ##\r\n * Python version 2.7.12\r\n * certbot install via `wget https://dl.eff.org/certbot-auto` ...\r\n## running command ##\r\n`sudo /usr/local/bin/certbot-auto --debug -d [removed] --webroot --webroot-path /usr/local/www/[removed] certonly`\r\n\r\n## command output ##\r\n`OSError: [Errno 2] No such file or directory: '/usr/local/www/[removed]/public/.well-known/acme-challenge/[removed]'`\r\n\r\n## traceback ##\r\n`Traceback (most recent call last):\r\n  File \"/opt/eff.org/certbot/venv/bin/letsencrypt\", line 11, in <module>\r\n    sys.exit(main())\r\n  File \"/opt/eff.org/certbot/venv/lib/python2.7/site-packages/certbot/main.py\", line 1379, in main\r\n    return config.func(config, plugins)\r\n  File \"/opt/eff.org/certbot/venv/lib/python2.7/site-packages/certbot/main.py\", line 1262, in certonly\r\n    lineage = _get_and_save_cert(le_client, config, domains, certname, lineage)\r\n  File \"/opt/eff.org/certbot/venv/lib/python2.7/site-packages/certbot/main.py\", line 120, in _get_and_save_cert\r\n    lineage = le_client.obtain_and_enroll_certificate(domains, certname)\r\n  File \"/opt/eff.org/certbot/venv/lib/python2.7/site-packages/certbot/client.py\", line 406, in obtain_and_enroll_certificate\r\n    cert, chain, key, _ = self.obtain_certificate(domains)\r\n  File \"/opt/eff.org/certbot/venv/lib/python2.7/site-packages/certbot/client.py\", line 349, in obtain_certificate\r\n    orderr = self._get_order_and_authorizations(csr.data, self.config.allow_subset_of_names)\r\n  File \"/opt/eff.org/certbot/venv/lib/python2.7/site-packages/certbot/client.py\", line 385, in _get_order_and_authorizations\r\n    authzr = self.auth_handler.handle_authorizations(orderr, best_effort)\r\n  File \"/opt/eff.org/certbot/venv/lib/python2.7/site-packages/certbot/auth_handler.py\", line 69, in handle_authorizations\r\n    resps = self.auth.perform(achalls)\r\n  File \"/opt/eff.org/certbot/venv/lib/python2.7/site-packages/certbot/plugins/webroot.py\", line 81, in perform\r\n    self._create_challenge_dirs()\r\n  File \"/opt/eff.org/certbot/venv/lib/python2.7/site-packages/certbot/plugins/webroot.py\", line 195, in _create_challenge_dirs\r\n    \"challenge responses: {1}\".format(name, exception))\r\nPluginError: Couldn't create root for [removed] http-01 challenge responses: [Errno 30] Read-only file system: '/usr/local'`\r\n\r\n## output of `mount` command ##\r\n...\r\n`/usr/local on /usr/local read/write/setuid/nodevices/dev=1690734 on Thu Jun 13 22:21:55 2019`\r\n...\r\n\r\n## Investigation of Problem ##\r\nI dug through `certbot/plugins/webroot.py`, and the problem seems to be in `_create_challenge_dirs()` lines 179 to 188. Specifically, when iterating through the second item in `for prefix in sorted(util.get_prefixes(self.full_roots[name])[:-1], key=len):`, which is `/usr/local` (iterates fine through `/usr` it seems), `os.mkdir(prefix, 0o0755)` raises an `[Errno 30] Read-only file system` exception which is not matched by line 188, `if exception.errno not in (errno.EEXIST, errno.EISDIR):` since it's not an `EEXIST` or `EISDIR` error. My hunch is that the function chokes on `/usr/local` and not on `/usr` because of how the filesystem is mounted (see output of mount command).\r\n\r\n## Temporary Solution ##\r\nI patched  `webroot.py` [as follows](https://gist.github.com/martin-c/984447adcaa99d079d39a2e2ff80adcd), and the command worked as expected.\r\n * By adding the `try` and `except` block around `os.stat()` and only continuing when stat raised an exception this eliminated the read only filesystem error when trying to create `/usr/local` which already exists.\r\n * Obviously this is a hack and a better, more permanent solution needs to be found. I just wanted to document what steps I took to make things work before I forget.\r\n * The print statements helped me make sense of what is going on in `for prefix in sorted(util.get_prefixes(self.full_roots[name])[:-1], key=len):`", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/7165/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/7165/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/7160", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/7160/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/7160/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/7160/events", "html_url": "https://github.com/certbot/certbot/issues/7160", "id": 457126970, "node_id": "MDU6SXNzdWU0NTcxMjY5NzA=", "number": 7160, "title": "Typo in usage output for deprecated update-registration command", "user": {"login": "os-99", "id": 39771842, "node_id": "MDQ6VXNlcjM5NzcxODQy", "avatar_url": "https://avatars.githubusercontent.com/u/39771842?v=4", "gravatar_id": "", "url": "https://api.github.com/users/os-99", "html_url": "https://github.com/os-99", "followers_url": "https://api.github.com/users/os-99/followers", "following_url": "https://api.github.com/users/os-99/following{/other_user}", "gists_url": "https://api.github.com/users/os-99/gists{/gist_id}", "starred_url": "https://api.github.com/users/os-99/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/os-99/subscriptions", "organizations_url": "https://api.github.com/users/os-99/orgs", "repos_url": "https://api.github.com/users/os-99/repos", "events_url": "https://api.github.com/users/os-99/events{/privacy}", "received_events_url": "https://api.github.com/users/os-99/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 200596079, "node_id": "MDU6TGFiZWwyMDA1OTYwNzk=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20ui%20/%20ux", "name": "area: ui / ux", "color": "c5def5", "default": false, "description": null}, {"id": 276239890, "node_id": "MDU6TGFiZWwyNzYyMzk4OTA=", "url": "https://api.github.com/repos/certbot/certbot/labels/easy-fix", "name": "easy-fix", "color": "207de5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-06-17T20:12:17Z", "updated_at": "2019-12-02T18:25:26Z", "closed_at": "2019-12-02T18:25:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have just copied a old command from the internet to update my email for certbot and found a typo in the usage output. In the last line you write certbot with out the first \"t\" and the shell doesn't recognize the command:\r\n\r\nroot@myserver:~# certbot register --update-registration --email xxxx\r\nSaving debug log to /var/log/letsencrypt/letsencrypt.log\r\nUsage 'certbot register --update-registration' is deprecated.\r\nPlease use '**cerbot** update_account [options]' instead.\r\n\r\nOS:\r\nUbuntu 18.04.2 LTS\r\n\r\nVersion: \r\n0.31.0-1+ubuntu18.04.1+certbot+1", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/7160/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/7160/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/7141", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/7141/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/7141/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/7141/events", "html_url": "https://github.com/certbot/certbot/pull/7141", "id": 454289393, "node_id": "MDExOlB1bGxSZXF1ZXN0Mjg2NzcxNzA2", "number": 7141, "title": "Fix dns-rfc2136 validation", "user": {"login": "jensalmer", "id": 553534, "node_id": "MDQ6VXNlcjU1MzUzNA==", "avatar_url": "https://avatars.githubusercontent.com/u/553534?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jensalmer", "html_url": "https://github.com/jensalmer", "followers_url": "https://api.github.com/users/jensalmer/followers", "following_url": "https://api.github.com/users/jensalmer/following{/other_user}", "gists_url": "https://api.github.com/users/jensalmer/gists{/gist_id}", "starred_url": "https://api.github.com/users/jensalmer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jensalmer/subscriptions", "organizations_url": "https://api.github.com/users/jensalmer/orgs", "repos_url": "https://api.github.com/users/jensalmer/repos", "events_url": "https://api.github.com/users/jensalmer/events{/privacy}", "received_events_url": "https://api.github.com/users/jensalmer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 596606268, "node_id": "MDU6TGFiZWw1OTY2MDYyNjg=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20dns", "name": "area: dns", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-06-10T17:52:23Z", "updated_at": "2019-06-13T18:32:54Z", "closed_at": "2019-06-13T18:32:54Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/certbot/certbot/pulls/7141", "html_url": "https://github.com/certbot/certbot/pull/7141", "diff_url": "https://github.com/certbot/certbot/pull/7141.diff", "patch_url": "https://github.com/certbot/certbot/pull/7141.patch", "merged_at": null}, "body": "There is a bug in the dns-rfc2136 code that causes all renewals and issues to fail because of parameter order.", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/7141/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/7141/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/certbot/certbot/issues/7084", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/7084/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/7084/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/7084/events", "html_url": "https://github.com/certbot/certbot/issues/7084", "id": 445821894, "node_id": "MDU6SXNzdWU0NDU4MjE4OTQ=", "number": 7084, "title": "dns-rfc2136 challenges run infinitely for invalid DNS servers", "user": {"login": "tambry", "id": 1827708, "node_id": "MDQ6VXNlcjE4Mjc3MDg=", "avatar_url": "https://avatars.githubusercontent.com/u/1827708?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tambry", "html_url": "https://github.com/tambry", "followers_url": "https://api.github.com/users/tambry/followers", "following_url": "https://api.github.com/users/tambry/following{/other_user}", "gists_url": "https://api.github.com/users/tambry/gists{/gist_id}", "starred_url": "https://api.github.com/users/tambry/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tambry/subscriptions", "organizations_url": "https://api.github.com/users/tambry/orgs", "repos_url": "https://api.github.com/users/tambry/repos", "events_url": "https://api.github.com/users/tambry/events{/privacy}", "received_events_url": "https://api.github.com/users/tambry/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 281347824, "node_id": "MDU6TGFiZWwyODEzNDc4MjQ=", "url": "https://api.github.com/repos/certbot/certbot/labels/has%20pr", "name": "has pr", "color": "0052cc", "default": false, "description": null}, {"id": 596606268, "node_id": "MDU6TGFiZWw1OTY2MDYyNjg=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20dns", "name": "area: dns", "color": "c5def5", "default": false, "description": null}, {"id": 1226192732, "node_id": "MDU6TGFiZWwxMjI2MTkyNzMy", "url": "https://api.github.com/repos/certbot/certbot/labels/priority:%20unplanned", "name": "priority: unplanned", "color": "5319e7", "default": false, "description": "Work that we believe should be done, but does not have a higher priority."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-05-19T13:46:13Z", "updated_at": "2020-10-09T20:13:47Z", "closed_at": "2020-10-09T20:13:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "1. Set `dns_rfc2136_server` to something invalid, e.g. `dns_rfc2136_server = 2001:db8::`.\r\n2. Try to obtain certificates.\r\n3. Challenges run forever.\r\n\r\nCTRL+C during a challenge:\r\n```\r\n[... usual]\r\nPerforming the following challenges:\r\ndns-01 challenge for [...]\r\ndns-01 challenge for [...]\r\nEncountered exception:\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3.7/site-packages/certbot/auth_handler.py\", line 75, in handle_authorizations\r\n    resp = self._solve_challenges(aauthzrs)\r\n  File \"/usr/lib/python3.7/site-packages/certbot/auth_handler.py\", line 139, in _solve_challenges\r\n    resp = self.auth.perform(all_achalls)\r\n  File \"/usr/lib/python3.7/site-packages/certbot/plugins/dns_common.py\", line 57, in perform\r\n    self._perform(domain, validation_domain_name, validation)\r\n  File \"/usr/lib/python3.7/site-packages/certbot_dns_rfc2136/dns_rfc2136.py\", line 76, in _perform\r\n    self._get_rfc2136_client().add_txt_record(validation_name, validation, self.ttl)\r\n  File \"/usr/lib/python3.7/site-packages/certbot_dns_rfc2136/dns_rfc2136.py\", line 112, in add_txt_record\r\n    domain = self._find_domain(record_name)\r\n  File \"/usr/lib/python3.7/site-packages/certbot_dns_rfc2136/dns_rfc2136.py\", line 186, in _find_domain\r\n    if self._query_soa(guess):\r\n  File \"/usr/lib/python3.7/site-packages/certbot_dns_rfc2136/dns_rfc2136.py\", line 209, in _query_soa\r\n    response = dns.query.udp(request, self.server, port=self.port)\r\n  File \"/usr/lib/python3.7/site-packages/dns/query.py\", line 240, in udp\r\n    _wait_for_readable(s, expiration)\r\n  File \"/usr/lib/python3.7/site-packages/dns/query.py\", line 157, in _wait_for_readable\r\n    _wait_for(s, True, False, True, expiration)\r\n  File \"/usr/lib/python3.7/site-packages/dns/query.py\", line 131, in _wait_for\r\n    if not _polling_backend(fd, readable, writable, error, timeout):\r\n  File \"/usr/lib/python3.7/site-packages/dns/query.py\", line 87, in _poll_for\r\n    event_list = pollable.poll()\r\nKeyboardInterrupt\r\n```\r\n\r\n**Expected:**  \r\nCertbot should set a reasonable query timeout ([this is supported by `dnspython`](https://stackoverflow.com/questions/8989457/dnspython-setting-query-timeout-lifetime)) and alert the user of an issue with the DNS server.", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/7084/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/7084/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/7053", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/7053/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/7053/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/7053/events", "html_url": "https://github.com/certbot/certbot/issues/7053", "id": 443094285, "node_id": "MDU6SXNzdWU0NDMwOTQyODU=", "number": 7053, "title": "Certbot can't verify OCSP responses signed by an explicitly designated responder", "user": {"login": "eabalea", "id": 1999527, "node_id": "MDQ6VXNlcjE5OTk1Mjc=", "avatar_url": "https://avatars.githubusercontent.com/u/1999527?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eabalea", "html_url": "https://github.com/eabalea", "followers_url": "https://api.github.com/users/eabalea/followers", "following_url": "https://api.github.com/users/eabalea/following{/other_user}", "gists_url": "https://api.github.com/users/eabalea/gists{/gist_id}", "starred_url": "https://api.github.com/users/eabalea/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eabalea/subscriptions", "organizations_url": "https://api.github.com/users/eabalea/orgs", "repos_url": "https://api.github.com/users/eabalea/repos", "events_url": "https://api.github.com/users/eabalea/events{/privacy}", "received_events_url": "https://api.github.com/users/eabalea/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 271144197, "node_id": "MDU6TGFiZWwyNzExNDQxOTc=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20ocsp", "name": "area: ocsp", "color": "c5def5", "default": false, "description": null}, {"id": 277074172, "node_id": "MDU6TGFiZWwyNzcwNzQxNzI=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20acme", "name": "area: acme", "color": "c5def5", "default": false, "description": null}, {"id": 281347824, "node_id": "MDU6TGFiZWwyODEzNDc4MjQ=", "url": "https://api.github.com/repos/certbot/certbot/labels/has%20pr", "name": "has pr", "color": "0052cc", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "adferrand", "id": 9728851, "node_id": "MDQ6VXNlcjk3Mjg4NTE=", "avatar_url": "https://avatars.githubusercontent.com/u/9728851?v=4", "gravatar_id": "", "url": "https://api.github.com/users/adferrand", "html_url": "https://github.com/adferrand", "followers_url": "https://api.github.com/users/adferrand/followers", "following_url": "https://api.github.com/users/adferrand/following{/other_user}", "gists_url": "https://api.github.com/users/adferrand/gists{/gist_id}", "starred_url": "https://api.github.com/users/adferrand/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/adferrand/subscriptions", "organizations_url": "https://api.github.com/users/adferrand/orgs", "repos_url": "https://api.github.com/users/adferrand/repos", "events_url": "https://api.github.com/users/adferrand/events{/privacy}", "received_events_url": "https://api.github.com/users/adferrand/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "adferrand", "id": 9728851, "node_id": "MDQ6VXNlcjk3Mjg4NTE=", "avatar_url": "https://avatars.githubusercontent.com/u/9728851?v=4", "gravatar_id": "", "url": "https://api.github.com/users/adferrand", "html_url": "https://github.com/adferrand", "followers_url": "https://api.github.com/users/adferrand/followers", "following_url": "https://api.github.com/users/adferrand/following{/other_user}", "gists_url": "https://api.github.com/users/adferrand/gists{/gist_id}", "starred_url": "https://api.github.com/users/adferrand/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/adferrand/subscriptions", "organizations_url": "https://api.github.com/users/adferrand/orgs", "repos_url": "https://api.github.com/users/adferrand/repos", "events_url": "https://api.github.com/users/adferrand/events{/privacy}", "received_events_url": "https://api.github.com/users/adferrand/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/69", "html_url": "https://github.com/certbot/certbot/milestone/69", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/69/labels", "id": 4171302, "node_id": "MDk6TWlsZXN0b25lNDE3MTMwMg==", "number": 69, "title": "0.35.0", "description": "", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 15, "state": "closed", "created_at": "2019-03-25T20:28:14Z", "updated_at": "2019-06-06T20:26:23Z", "due_on": "2019-06-05T07:00:00Z", "closed_at": "2019-06-06T20:26:23Z"}, "comments": 2, "created_at": "2019-05-12T11:34:13Z", "updated_at": "2019-06-03T19:55:27Z", "closed_at": "2019-06-03T19:55:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "If you're having trouble using Certbot and aren't sure you've found a bug or\r\nrequest for a new feature, please first try asking for help at\r\nhttps://community.letsencrypt.org/. There is a much larger community there of\r\npeople familiar with the project who will be able to more quickly answer your\r\nquestions.\r\n\r\n## My operating system is (include version):\r\n\r\nDebian stretch/sid\r\n\r\n## I installed Certbot with (certbot-auto, OS package manager, pip, etc):\r\n\r\ncertbot-auto\r\n\r\n## I ran this command and it produced this output:\r\n\r\n./certbot-auto certificates --cert-name buypasstest1\r\n\r\nSaving debug log to /var/log/letsencrypt/letsencrypt.log\r\nInvalid signature on OCSP response for /etc/letsencrypt/live/buypasstest1/cert.pem\r\n\r\n## Certbot's behavior differed from what I expected because:\r\n\r\nThe OCSP response is correctly signed, not by the issuer itself but by a properly designated responder.\r\n\r\n## Here is a Certbot log showing the issue (if available):\r\n###### Logs are stored in `/var/log/letsencrypt` by default. Feel free to redact domains, e-mail and IP addresses as you see fit.\r\n\r\n2019-05-12 13:32:13,645:DEBUG:certbot.main:certbot version: 0.34.2\r\n2019-05-12 13:32:13,647:DEBUG:certbot.main:Arguments: ['--cert-name', 'buypasstest1']\r\n2019-05-12 13:32:13,647:DEBUG:certbot.main:Discovered plugins: PluginsRegistry(PluginEntryPoint#apache,PluginEntryPoint#manual,PluginEntryPoint#nginx,PluginEntryPoint#null,PluginEntryPoint#standalone,PluginEntryPoint#webroot)\r\n2019-05-12 13:32:13,719:DEBUG:certbot.log:Root logging level set at 20\r\n2019-05-12 13:32:13,721:INFO:certbot.log:Saving debug log to /var/log/letsencrypt/letsencrypt.log\r\n2019-05-12 13:32:13,770:DEBUG:urllib3.connectionpool:Starting new HTTP connection (1): ocsp.buypass.com:80\r\n2019-05-12 13:32:13,994:DEBUG:urllib3.connectionpool:http://ocsp.buypass.com:80 \"POST / HTTP/1.1\" 200 1702\r\n2019-05-12 13:32:13,998:ERROR:certbot.ocsp:Invalid signature on OCSP response for /etc/letsencrypt/live/buypasstest1/cert.pem\r\n\r\n## Here is the relevant nginx server block or Apache virtualhost for the domain I am configuring:\r\n\r\n<doesn't matter.>\r\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/7053/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/7053/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/7048", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/7048/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/7048/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/7048/events", "html_url": "https://github.com/certbot/certbot/issues/7048", "id": 441940076, "node_id": "MDU6SXNzdWU0NDE5NDAwNzY=", "number": 7048, "title": "Certbot drops webroot options from renewal configuration file", "user": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 261409142, "node_id": "MDU6TGFiZWwyNjE0MDkxNDI=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20renewal", "name": "area: renewal", "color": "c5def5", "default": false, "description": null}, {"id": 276243286, "node_id": "MDU6TGFiZWwyNzYyNDMyODY=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20webroot", "name": "area: webroot", "color": "c5def5", "default": false, "description": null}, {"id": 281347824, "node_id": "MDU6TGFiZWwyODEzNDc4MjQ=", "url": "https://api.github.com/repos/certbot/certbot/labels/has%20pr", "name": "has pr", "color": "0052cc", "default": false, "description": null}, {"id": 1226192284, "node_id": "MDU6TGFiZWwxMjI2MTkyMjg0", "url": "https://api.github.com/repos/certbot/certbot/labels/priority:%20high", "name": "priority: high", "color": "5319e7", "default": false, "description": "Issues that should be included in the current milestone if at all possible."}], "state": "closed", "locked": false, "assignee": {"login": "adferrand", "id": 9728851, "node_id": "MDQ6VXNlcjk3Mjg4NTE=", "avatar_url": "https://avatars.githubusercontent.com/u/9728851?v=4", "gravatar_id": "", "url": "https://api.github.com/users/adferrand", "html_url": "https://github.com/adferrand", "followers_url": "https://api.github.com/users/adferrand/followers", "following_url": "https://api.github.com/users/adferrand/following{/other_user}", "gists_url": "https://api.github.com/users/adferrand/gists{/gist_id}", "starred_url": "https://api.github.com/users/adferrand/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/adferrand/subscriptions", "organizations_url": "https://api.github.com/users/adferrand/orgs", "repos_url": "https://api.github.com/users/adferrand/repos", "events_url": "https://api.github.com/users/adferrand/events{/privacy}", "received_events_url": "https://api.github.com/users/adferrand/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "adferrand", "id": 9728851, "node_id": "MDQ6VXNlcjk3Mjg4NTE=", "avatar_url": "https://avatars.githubusercontent.com/u/9728851?v=4", "gravatar_id": "", "url": "https://api.github.com/users/adferrand", "html_url": "https://github.com/adferrand", "followers_url": "https://api.github.com/users/adferrand/followers", "following_url": "https://api.github.com/users/adferrand/following{/other_user}", "gists_url": "https://api.github.com/users/adferrand/gists{/gist_id}", "starred_url": "https://api.github.com/users/adferrand/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/adferrand/subscriptions", "organizations_url": "https://api.github.com/users/adferrand/orgs", "repos_url": "https://api.github.com/users/adferrand/repos", "events_url": "https://api.github.com/users/adferrand/events{/privacy}", "received_events_url": "https://api.github.com/users/adferrand/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/69", "html_url": "https://github.com/certbot/certbot/milestone/69", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/69/labels", "id": 4171302, "node_id": "MDk6TWlsZXN0b25lNDE3MTMwMg==", "number": 69, "title": "0.35.0", "description": "", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 15, "state": "closed", "created_at": "2019-03-25T20:28:14Z", "updated_at": "2019-06-06T20:26:23Z", "due_on": "2019-06-05T07:00:00Z", "closed_at": "2019-06-06T20:26:23Z"}, "comments": 1, "created_at": "2019-05-08T21:29:03Z", "updated_at": "2020-01-10T23:17:06Z", "closed_at": "2019-05-28T22:16:13Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "To reproduce this, I think you need Certbot 0.31.0+ and an ACME server that reuses authorizations.\r\n\r\n## I ran this command and it produced this output:\r\n\r\nHere is each command and the renewal configuration file it produces.\r\n\r\nThe plugin used first here is irrelevant, you just have to get a cert with a valid authz.\r\n```\r\nsudo certbot certonly --staging --webroot -w /var/www/html -d example.com\r\n```\r\nproduces\r\n```\r\n# renew_before_expiry = 30 days\r\nversion = 0.34.0\r\narchive_dir = /etc/letsencrypt/archive/example.com\r\ncert = /etc/letsencrypt/live/example.com/cert.pem\r\nprivkey = /etc/letsencrypt/live/example.com/privkey.pem\r\nchain = /etc/letsencrypt/live/example.com/chain.pem\r\nfullchain = /etc/letsencrypt/live/example.com/fullchain.pem\r\n\r\n# Options used in the renewal process\r\n[renewalparams]\r\nauthenticator = webroot\r\naccount = 0652f690fd6e48af380ad6d6a1b4e792\r\nwebroot_path = /var/www/html,\r\nserver = https://acme-staging-v02.api.letsencrypt.org/directory\r\n[[webroot_map]]\r\nexample.com = /var/www/html\r\n```\r\nThis next command is the start of the problem. Notice the empty value from `webroot_map` when compared to the previous value.\r\n```\r\nsudo certbot certonly --staging --webroot -w /var/www/html -d example.com --renew-by-default\r\n```\r\nproduces\r\n```\r\n# renew_before_expiry = 30 days\r\nversion = 0.34.0\r\narchive_dir = /etc/letsencrypt/archive/example.com\r\ncert = /etc/letsencrypt/live/example.com/cert.pem\r\nprivkey = /etc/letsencrypt/live/example.com/privkey.pem\r\nchain = /etc/letsencrypt/live/example.com/chain.pem\r\nfullchain = /etc/letsencrypt/live/example.com/fullchain.pem\r\n\r\n# Options used in the renewal process\r\n[renewalparams]\r\nauthenticator = webroot\r\naccount = 0652f690fd6e48af380ad6d6a1b4e792\r\nwebroot_path = /var/www/html,\r\nserver = https://acme-staging-v02.api.letsencrypt.org/directory\r\n[[webroot_map]]\r\n```\r\nFinally, this command removes all references to the webroot from the renewal configuration file.\r\n```\r\nsudo certbot renew --force-renewal\r\n```\r\nproduces\r\n```\r\n# renew_before_expiry = 30 days\r\nversion = 0.34.0\r\narchive_dir = /etc/letsencrypt/archive/example.com\r\ncert = /etc/letsencrypt/live/example.com/cert.pem\r\nprivkey = /etc/letsencrypt/live/example.com/privkey.pem\r\nchain = /etc/letsencrypt/live/example.com/chain.pem\r\nfullchain = /etc/letsencrypt/live/example.com/fullchain.pem\r\n\r\n# Options used in the renewal process\r\n[renewalparams]\r\nauthenticator = webroot\r\naccount = 0652f690fd6e48af380ad6d6a1b4e792\r\nserver = https://acme-staging-v02.api.letsencrypt.org/directory\r\n```\r\n\r\n## Certbot's behavior differed from what I expected because:\r\n\r\nCertbot dropped the reference to the webroot path. This is bad because renewal will fail with:\r\n```\r\nMissing command line flag or config entry for this setting: Input the webroot for example.com\r\n```\r\nwhen authz are no longer available to be reused.\r\n\r\n## What's going on?\r\n\r\nWhile I haven't verified this, I think what's going on here is a combination of authz reuse (which Certbot understands as of version 0.31.0) and full parsing of the webroot options not happening until the challenge is preformed by the webroot plugin.\r\n\r\nI'm imagining the 2nd command causes the value for `webroot_path` to be preserved because it is set on the command line. `webroot_map` is preserved because `webroot_path` is set on the command line and `webroot_map` is considered modified if `webroot_path` is set due to the code [here](https://github.com/certbot/certbot/blob/d391fb8876dd97d5f446bcd1667ecdce0c4b187c/certbot/cli.py#L141), however, `webroot_map` is empty because the webroot plugin never ran.\r\n\r\nWhen `certbot renew --force-renewal` runs, I think `webroot_map` is initially set to it's default value and `webroot_path` is dropped due to the code [here](https://github.com/certbot/certbot/blob/d391fb8876dd97d5f446bcd1667ecdce0c4b187c/certbot/renewal.py#L103). After that, I think `webroot_map` is also dropped and not written to the renewal configuration file because it has its default value.", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/7048/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 1, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/7048/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/7031", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/7031/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/7031/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/7031/events", "html_url": "https://github.com/certbot/certbot/issues/7031", "id": 440883474, "node_id": "MDU6SXNzdWU0NDA4ODM0NzQ=", "number": 7031, "title": "certbot-auto writes check_permissions.py file in root folder", "user": {"login": "artgud", "id": 8464388, "node_id": "MDQ6VXNlcjg0NjQzODg=", "avatar_url": "https://avatars.githubusercontent.com/u/8464388?v=4", "gravatar_id": "", "url": "https://api.github.com/users/artgud", "html_url": "https://github.com/artgud", "followers_url": "https://api.github.com/users/artgud/followers", "following_url": "https://api.github.com/users/artgud/following{/other_user}", "gists_url": "https://api.github.com/users/artgud/gists{/gist_id}", "starred_url": "https://api.github.com/users/artgud/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/artgud/subscriptions", "organizations_url": "https://api.github.com/users/artgud/orgs", "repos_url": "https://api.github.com/users/artgud/repos", "events_url": "https://api.github.com/users/artgud/events{/privacy}", "received_events_url": "https://api.github.com/users/artgud/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 276243379, "node_id": "MDU6TGFiZWwyNzYyNDMzNzk=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20certbot-auto", "name": "area: certbot-auto", "color": "c5def5", "default": false, "description": null}, {"id": 281347824, "node_id": "MDU6TGFiZWwyODEzNDc4MjQ=", "url": "https://api.github.com/repos/certbot/certbot/labels/has%20pr", "name": "has pr", "color": "0052cc", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "adferrand", "id": 9728851, "node_id": "MDQ6VXNlcjk3Mjg4NTE=", "avatar_url": "https://avatars.githubusercontent.com/u/9728851?v=4", "gravatar_id": "", "url": "https://api.github.com/users/adferrand", "html_url": "https://github.com/adferrand", "followers_url": "https://api.github.com/users/adferrand/followers", "following_url": "https://api.github.com/users/adferrand/following{/other_user}", "gists_url": "https://api.github.com/users/adferrand/gists{/gist_id}", "starred_url": "https://api.github.com/users/adferrand/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/adferrand/subscriptions", "organizations_url": "https://api.github.com/users/adferrand/orgs", "repos_url": "https://api.github.com/users/adferrand/repos", "events_url": "https://api.github.com/users/adferrand/events{/privacy}", "received_events_url": "https://api.github.com/users/adferrand/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "adferrand", "id": 9728851, "node_id": "MDQ6VXNlcjk3Mjg4NTE=", "avatar_url": "https://avatars.githubusercontent.com/u/9728851?v=4", "gravatar_id": "", "url": "https://api.github.com/users/adferrand", "html_url": "https://github.com/adferrand", "followers_url": "https://api.github.com/users/adferrand/followers", "following_url": "https://api.github.com/users/adferrand/following{/other_user}", "gists_url": "https://api.github.com/users/adferrand/gists{/gist_id}", "starred_url": "https://api.github.com/users/adferrand/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/adferrand/subscriptions", "organizations_url": "https://api.github.com/users/adferrand/orgs", "repos_url": "https://api.github.com/users/adferrand/repos", "events_url": "https://api.github.com/users/adferrand/events{/privacy}", "received_events_url": "https://api.github.com/users/adferrand/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/73", "html_url": "https://github.com/certbot/certbot/milestone/73", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/73/labels", "id": 4304003, "node_id": "MDk6TWlsZXN0b25lNDMwNDAwMw==", "number": 73, "title": "0.34.2", "description": "", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 2, "state": "closed", "created_at": "2019-05-10T21:40:11Z", "updated_at": "2019-05-10T21:40:34Z", "due_on": "2019-05-07T07:00:00Z", "closed_at": "2019-05-10T21:40:34Z"}, "comments": 1, "created_at": "2019-05-06T20:56:34Z", "updated_at": "2019-05-10T21:40:21Z", "closed_at": "2019-05-06T22:49:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "We are using the latest certbot-auto script from by using the following command:\r\n\r\n`wget https://dl.eff.org/certbot-auto ; chmod 0700 ./certbot-auto`\r\n\r\nRecent version (0.34.0) writes file `check_permissions.py` in the `/` (root) folder. \r\n\r\nMy suspect is the following code part:\r\n\r\n```\r\nif [ \"$PYVER\" -ge \"$MIN_PYVER\" -a \"$NO_PERMISSIONS_CHECK\" != 1 ]; then\r\n    # ---------------------------------------------------------------------------\r\n    cat << \"UNLIKELY_EOF\" > \"$TEMP_DIR/check_permissions.py\"\r\n```\r\n\r\nLooks like TEMP_DIR is not set at this point and content is written to `/check_permissions.py`.\r\n\r\nIt looks a bit worrying, because TEMP dir sometimes is emptied with `rm -rf \"$TEMP_DIR\"` ...\r\n\r\nThanks.", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/7031/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/7031/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/7012", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/7012/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/7012/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/7012/events", "html_url": "https://github.com/certbot/certbot/issues/7012", "id": 439549498, "node_id": "MDU6SXNzdWU0Mzk1NDk0OTg=", "number": 7012, "title": "certbot-auto produces a stray newline in the standard output", "user": {"login": "melmothx", "id": 130971, "node_id": "MDQ6VXNlcjEzMDk3MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/130971?v=4", "gravatar_id": "", "url": "https://api.github.com/users/melmothx", "html_url": "https://github.com/melmothx", "followers_url": "https://api.github.com/users/melmothx/followers", "following_url": "https://api.github.com/users/melmothx/following{/other_user}", "gists_url": "https://api.github.com/users/melmothx/gists{/gist_id}", "starred_url": "https://api.github.com/users/melmothx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/melmothx/subscriptions", "organizations_url": "https://api.github.com/users/melmothx/orgs", "repos_url": "https://api.github.com/users/melmothx/repos", "events_url": "https://api.github.com/users/melmothx/events{/privacy}", "received_events_url": "https://api.github.com/users/melmothx/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 276243379, "node_id": "MDU6TGFiZWwyNzYyNDMzNzk=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20certbot-auto", "name": "area: certbot-auto", "color": "c5def5", "default": false, "description": null}, {"id": 281347824, "node_id": "MDU6TGFiZWwyODEzNDc4MjQ=", "url": "https://api.github.com/repos/certbot/certbot/labels/has%20pr", "name": "has pr", "color": "0052cc", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/72", "html_url": "https://github.com/certbot/certbot/milestone/72", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/72/labels", "id": 4280482, "node_id": "MDk6TWlsZXN0b25lNDI4MDQ4Mg==", "number": 72, "title": "0.34.1", "description": "", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 6, "state": "closed", "created_at": "2019-05-02T16:53:11Z", "updated_at": "2019-05-09T17:57:16Z", "due_on": "2019-05-13T07:00:00Z", "closed_at": "2019-05-09T17:57:16Z"}, "comments": 7, "created_at": "2019-05-02T11:46:22Z", "updated_at": "2019-08-23T17:04:08Z", "closed_at": "2019-05-06T23:09:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "Running certbot-auto on Debian Jessie, since the automatic upgrade to 0.34.0 each calls to certbot-auto outputs a new line\r\n\r\n```\r\n/usr/local/sbin/certbot-auto -q renew | hexdump -C\r\n00000000  0a                                                |.|\r\n00000001\r\n```\r\n\r\nThe problem is that this in turn generates an empty cronjob mail. This was not happening with previous versions.\r\n\r\nThanks\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/7012/reactions", "total_count": 6, "+1": 6, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/7012/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/6972", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/6972/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/6972/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/6972/events", "html_url": "https://github.com/certbot/certbot/issues/6972", "id": 434439436, "node_id": "MDU6SXNzdWU0MzQ0Mzk0MzY=", "number": 6972, "title": "Unable to determine zone identifier", "user": {"login": "sreyemnayr", "id": 8558670, "node_id": "MDQ6VXNlcjg1NTg2NzA=", "avatar_url": "https://avatars.githubusercontent.com/u/8558670?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sreyemnayr", "html_url": "https://github.com/sreyemnayr", "followers_url": "https://api.github.com/users/sreyemnayr/followers", "following_url": "https://api.github.com/users/sreyemnayr/following{/other_user}", "gists_url": "https://api.github.com/users/sreyemnayr/gists{/gist_id}", "starred_url": "https://api.github.com/users/sreyemnayr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sreyemnayr/subscriptions", "organizations_url": "https://api.github.com/users/sreyemnayr/orgs", "repos_url": "https://api.github.com/users/sreyemnayr/repos", "events_url": "https://api.github.com/users/sreyemnayr/events{/privacy}", "received_events_url": "https://api.github.com/users/sreyemnayr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 596606268, "node_id": "MDU6TGFiZWw1OTY2MDYyNjg=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20dns", "name": "area: dns", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-04-17T19:05:27Z", "updated_at": "2020-01-24T23:00:46Z", "closed_at": "2020-01-24T23:00:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "Just wanted to leave a note saying that using the dns-linode plugin, my zone identifier started with a capital letter, which caused the whole thing to choke with the \"Unable to determine zone identifier\" error message. When I went to linode console and changed the zone name to a lowercase letter, it worked correctly. Capitalizing the commands didn't make a difference. Had to do it from the linode dns manager side.", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/6972/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/6972/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/6927", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/6927/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/6927/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/6927/events", "html_url": "https://github.com/certbot/certbot/issues/6927", "id": 430575716, "node_id": "MDU6SXNzdWU0MzA1NzU3MTY=", "number": 6927, "title": "Lexicon update causes urls to be malformed when adding TXT records", "user": {"login": "jstaehle", "id": 1085515, "node_id": "MDQ6VXNlcjEwODU1MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1085515?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jstaehle", "html_url": "https://github.com/jstaehle", "followers_url": "https://api.github.com/users/jstaehle/followers", "following_url": "https://api.github.com/users/jstaehle/following{/other_user}", "gists_url": "https://api.github.com/users/jstaehle/gists{/gist_id}", "starred_url": "https://api.github.com/users/jstaehle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jstaehle/subscriptions", "organizations_url": "https://api.github.com/users/jstaehle/orgs", "repos_url": "https://api.github.com/users/jstaehle/repos", "events_url": "https://api.github.com/users/jstaehle/events{/privacy}", "received_events_url": "https://api.github.com/users/jstaehle/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 281347824, "node_id": "MDU6TGFiZWwyODEzNDc4MjQ=", "url": "https://api.github.com/repos/certbot/certbot/labels/has%20pr", "name": "has pr", "color": "0052cc", "default": false, "description": null}, {"id": 596606268, "node_id": "MDU6TGFiZWw1OTY2MDYyNjg=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20dns", "name": "area: dns", "color": "c5def5", "default": false, "description": null}, {"id": 1226192284, "node_id": "MDU6TGFiZWwxMjI2MTkyMjg0", "url": "https://api.github.com/repos/certbot/certbot/labels/priority:%20high", "name": "priority: high", "color": "5319e7", "default": false, "description": "Issues that should be included in the current milestone if at all possible."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/68", "html_url": "https://github.com/certbot/certbot/milestone/68", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/68/labels", "id": 4013408, "node_id": "MDk6TWlsZXN0b25lNDAxMzQwOA==", "number": 68, "title": "0.34.0", "description": "", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 17, "state": "closed", "created_at": "2019-01-30T00:07:48Z", "updated_at": "2019-05-02T16:53:15Z", "due_on": "2019-05-01T07:00:00Z", "closed_at": "2019-05-02T16:53:15Z"}, "comments": 18, "created_at": "2019-04-08T17:41:23Z", "updated_at": "2019-08-23T17:04:08Z", "closed_at": "2019-04-30T18:59:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "## My operating system is (include version):\r\nLinux (amazon aws fargate v 1.3.0 container)\r\n\r\n## I installed Certbot with (certbot-auto, OS package manager, pip, etc):\r\nI am depending on the `certbot/dns-dnsimple` docker image in my Dockerfile.\r\n\r\n## I ran this command and it produced this output:\r\nWhen attempting to generate certificates for qa environments in my startup script (full package here: https://github.com/askwonder/wonqa) I run `docker run -i --name wonqa-certbot wonqa-certbot:latest certonly --dns-dnsimple --dns-dnsimple-credentials dnsimple.ini --agree-tos --no-eff-email -m eng@askwonder.com -d fix-qa.wondev.net,api.fix-qa.wondev.net,start.fix-qa.wondev.net,research.fix-qa.wondev.net,storybook.fix-qa.wondev.net,pusher.fix-qa.wondev.net`.\r\nI get the following output: \r\n\r\n```\r\nObtaining a new certificate\r\n\r\nPerforming the following challenges:\r\n\r\ndns-01 challenge for api.fix-qa.wondev.net\r\ndns-01 challenge for fix-qa.wondev.net\r\ndns-01 challenge for pusher.fix-qa.wondev.net\r\ndns-01 challenge for research.fix-qa.wondev.net\r\n\r\ndns-01 challenge for start.fix-qa.wondev.net\r\ndns-01 challenge for storybook.fix-qa.wondev.net\r\nUnsafe permissions on credentials configuration file: dnsimple.ini\r\n\r\nCleaning up challenges\r\n\r\nError adding TXT record: 400 Client Error: Bad Request for url: https://api.dnsimple.com/v281695/zones/wondev.net/records\r\n```\r\n\r\n## Certbot's behavior differed from what I expected because:\r\nI expect it to add the TXT records successfully. Instead the url is malformed and there is no slash in between `v2` and `81695` which is my account id.\r\n\r\n## Investigation\r\nAfter doing some digging I have determined that the issue was caused by a change made by lexicon (https://github.com/AnalogJ/lexicon), likely this commit: https://github.com/AnalogJ/lexicon/commit/f46a072fc119d069bc276f7fd1977ab548fcd364#diff-89f3c260164ceef017a121144c790f42. \r\nI do not have a good explanation as to why we only started seeing issues due to this last week, or why that change appears to affect certbot despite you guys having locked your lexicon version at `dns-lexicon>=2.2.1` in your certbot-dns-dnsimple setup.py, but it has become a blocking issue for the wonqa repo referenced above. Fortunately, lexicon responded to our issue and merged a fix: https://github.com/AnalogJ/lexicon/pull/389.\r\n\r\nCertbot can obtain that fix by upgrading your lexicon dependency. I have submitted a PR (https://github.com/certbot/certbot/pull/6928) and have tested that the proposed change does indeed resolve our issue. Obviously there may be additional considerations in bumping this dependency that I am not in a great position to test fully. But do let me know if there's any additional useful information that I can provide in the interim.\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/6927/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/6927/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/6912", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/6912/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/6912/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/6912/events", "html_url": "https://github.com/certbot/certbot/issues/6912", "id": 429087935, "node_id": "MDU6SXNzdWU0MjkwODc5MzU=", "number": 6912, "title": "OS detection - integer expression expected", "user": {"login": "tszulborski", "id": 306752, "node_id": "MDQ6VXNlcjMwNjc1Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/306752?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tszulborski", "html_url": "https://github.com/tszulborski", "followers_url": "https://api.github.com/users/tszulborski/followers", "following_url": "https://api.github.com/users/tszulborski/following{/other_user}", "gists_url": "https://api.github.com/users/tszulborski/gists{/gist_id}", "starred_url": "https://api.github.com/users/tszulborski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tszulborski/subscriptions", "organizations_url": "https://api.github.com/users/tszulborski/orgs", "repos_url": "https://api.github.com/users/tszulborski/repos", "events_url": "https://api.github.com/users/tszulborski/events{/privacy}", "received_events_url": "https://api.github.com/users/tszulborski/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 239432238, "node_id": "MDU6TGFiZWwyMzk0MzIyMzg=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20fedora%20/%20redhat%20/%20CentOS", "name": "area: fedora / redhat / CentOS", "color": "c5def5", "default": false, "description": null}, {"id": 276243379, "node_id": "MDU6TGFiZWwyNzYyNDMzNzk=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20certbot-auto", "name": "area: certbot-auto", "color": "c5def5", "default": false, "description": null}, {"id": 281347824, "node_id": "MDU6TGFiZWwyODEzNDc4MjQ=", "url": "https://api.github.com/repos/certbot/certbot/labels/has%20pr", "name": "has pr", "color": "0052cc", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "adferrand", "id": 9728851, "node_id": "MDQ6VXNlcjk3Mjg4NTE=", "avatar_url": "https://avatars.githubusercontent.com/u/9728851?v=4", "gravatar_id": "", "url": "https://api.github.com/users/adferrand", "html_url": "https://github.com/adferrand", "followers_url": "https://api.github.com/users/adferrand/followers", "following_url": "https://api.github.com/users/adferrand/following{/other_user}", "gists_url": "https://api.github.com/users/adferrand/gists{/gist_id}", "starred_url": "https://api.github.com/users/adferrand/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/adferrand/subscriptions", "organizations_url": "https://api.github.com/users/adferrand/orgs", "repos_url": "https://api.github.com/users/adferrand/repos", "events_url": "https://api.github.com/users/adferrand/events{/privacy}", "received_events_url": "https://api.github.com/users/adferrand/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "adferrand", "id": 9728851, "node_id": "MDQ6VXNlcjk3Mjg4NTE=", "avatar_url": "https://avatars.githubusercontent.com/u/9728851?v=4", "gravatar_id": "", "url": "https://api.github.com/users/adferrand", "html_url": "https://github.com/adferrand", "followers_url": "https://api.github.com/users/adferrand/followers", "following_url": "https://api.github.com/users/adferrand/following{/other_user}", "gists_url": "https://api.github.com/users/adferrand/gists{/gist_id}", "starred_url": "https://api.github.com/users/adferrand/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/adferrand/subscriptions", "organizations_url": "https://api.github.com/users/adferrand/orgs", "repos_url": "https://api.github.com/users/adferrand/repos", "events_url": "https://api.github.com/users/adferrand/events{/privacy}", "received_events_url": "https://api.github.com/users/adferrand/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/70", "html_url": "https://github.com/certbot/certbot/milestone/70", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/70/labels", "id": 4201632, "node_id": "MDk6TWlsZXN0b25lNDIwMTYzMg==", "number": 70, "title": "0.33.1", "description": "https://github.com/certbot/certbot/issues/6912", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 3, "state": "closed", "created_at": "2019-04-04T18:14:22Z", "updated_at": "2019-04-08T17:19:44Z", "due_on": "2019-04-04T07:00:00Z", "closed_at": "2019-04-08T17:19:44Z"}, "comments": 2, "created_at": "2019-04-04T05:20:12Z", "updated_at": "2019-04-04T18:14:34Z", "closed_at": "2019-04-04T17:46:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "## My operating system is (include version):\r\nCloudLinux 7.6\r\n\r\n## I installed Certbot with (certbot-auto, OS package manager, pip, etc):\r\n wget https://dl.eff.org/certbot-auto\r\n chmod a+x ./certbot-auto\r\n\r\n## I ran this command and it produced this output:\r\n /bin/certbot-auto renew\r\n/bin/certbot-auto: line 754: [: 7.6: integer expression expected\r\n/bin/certbot-auto: line 754: [: 7.6: integer expression expected\r\n\r\n## Certbot's behavior differed from what I expected because:\r\nThere is some problem with OS detection.", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/6912/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/6912/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/6891", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/6891/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/6891/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/6891/events", "html_url": "https://github.com/certbot/certbot/pull/6891", "id": 426059482, "node_id": "MDExOlB1bGxSZXF1ZXN0MjY1MDAzNjgz", "number": 6891, "title": "Bump min nginx requirements to tested versions.", "user": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 258836706, "node_id": "MDU6TGFiZWwyNTg4MzY3MDY=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20nginx", "name": "area: nginx", "color": "c5def5", "default": false, "description": null}, {"id": 263357278, "node_id": "MDU6TGFiZWwyNjMzNTcyNzg=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20testing", "name": "area: testing", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-03-27T16:24:10Z", "updated_at": "2019-03-27T21:40:48Z", "closed_at": "2019-03-27T21:38:29Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/certbot/certbot/pulls/6891", "html_url": "https://github.com/certbot/certbot/pull/6891", "diff_url": "https://github.com/certbot/certbot/pull/6891.diff", "patch_url": "https://github.com/certbot/certbot/pull/6891.patch", "merged_at": "2019-03-27T21:38:29Z"}, "body": "When writing #6890, I noticed that we're not actually testing the nginx plugin against the versions of the acme and certbot plugins we claim to support. The versions we claim to support are defined in this `setup.py` file but the versions we're testing against are defined at https://github.com/certbot/certbot/blob/master/certbot-nginx/local-oldest-requirements.txt. This PR fixes the difference.\r\n\r\nThere will be merge conflicts between this and #6890 which I can fix up when one lands.", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/6891/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/6891/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/certbot/certbot/issues/6836", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/6836/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/6836/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/6836/events", "html_url": "https://github.com/certbot/certbot/issues/6836", "id": 419146164, "node_id": "MDU6SXNzdWU0MTkxNDYxNjQ=", "number": 6836, "title": "Invalid OCSP response for /etc/letsencrypt/live/.../cert.pem: param thisUpdate is in the future..", "user": {"login": "jsoref", "id": 2119212, "node_id": "MDQ6VXNlcjIxMTkyMTI=", "avatar_url": "https://avatars.githubusercontent.com/u/2119212?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsoref", "html_url": "https://github.com/jsoref", "followers_url": "https://api.github.com/users/jsoref/followers", "following_url": "https://api.github.com/users/jsoref/following{/other_user}", "gists_url": "https://api.github.com/users/jsoref/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsoref/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsoref/subscriptions", "organizations_url": "https://api.github.com/users/jsoref/orgs", "repos_url": "https://api.github.com/users/jsoref/repos", "events_url": "https://api.github.com/users/jsoref/events{/privacy}", "received_events_url": "https://api.github.com/users/jsoref/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 271144197, "node_id": "MDU6TGFiZWwyNzExNDQxOTc=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20ocsp", "name": "area: ocsp", "color": "c5def5", "default": false, "description": null}, {"id": 281347824, "node_id": "MDU6TGFiZWwyODEzNDc4MjQ=", "url": "https://api.github.com/repos/certbot/certbot/labels/has%20pr", "name": "has pr", "color": "0052cc", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "adferrand", "id": 9728851, "node_id": "MDQ6VXNlcjk3Mjg4NTE=", "avatar_url": "https://avatars.githubusercontent.com/u/9728851?v=4", "gravatar_id": "", "url": "https://api.github.com/users/adferrand", "html_url": "https://github.com/adferrand", "followers_url": "https://api.github.com/users/adferrand/followers", "following_url": "https://api.github.com/users/adferrand/following{/other_user}", "gists_url": "https://api.github.com/users/adferrand/gists{/gist_id}", "starred_url": "https://api.github.com/users/adferrand/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/adferrand/subscriptions", "organizations_url": "https://api.github.com/users/adferrand/orgs", "repos_url": "https://api.github.com/users/adferrand/repos", "events_url": "https://api.github.com/users/adferrand/events{/privacy}", "received_events_url": "https://api.github.com/users/adferrand/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "adferrand", "id": 9728851, "node_id": "MDQ6VXNlcjk3Mjg4NTE=", "avatar_url": "https://avatars.githubusercontent.com/u/9728851?v=4", "gravatar_id": "", "url": "https://api.github.com/users/adferrand", "html_url": "https://github.com/adferrand", "followers_url": "https://api.github.com/users/adferrand/followers", "following_url": "https://api.github.com/users/adferrand/following{/other_user}", "gists_url": "https://api.github.com/users/adferrand/gists{/gist_id}", "starred_url": "https://api.github.com/users/adferrand/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/adferrand/subscriptions", "organizations_url": "https://api.github.com/users/adferrand/orgs", "repos_url": "https://api.github.com/users/adferrand/repos", "events_url": "https://api.github.com/users/adferrand/events{/privacy}", "received_events_url": "https://api.github.com/users/adferrand/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/67", "html_url": "https://github.com/certbot/certbot/milestone/67", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/67/labels", "id": 4013407, "node_id": "MDk6TWlsZXN0b25lNDAxMzQwNw==", "number": 67, "title": "0.33.0", "description": "", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 24, "state": "closed", "created_at": "2019-01-30T00:07:38Z", "updated_at": "2019-04-11T00:09:32Z", "due_on": "2019-04-03T07:00:00Z", "closed_at": "2019-04-03T22:32:36Z"}, "comments": 5, "created_at": "2019-03-10T04:42:58Z", "updated_at": "2019-03-11T22:27:34Z", "closed_at": "2019-03-11T22:27:34Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "If you're having trouble using Certbot and aren't sure you've found a bug or\r\nrequest for a new feature, please first try asking for help at\r\nhttps://community.letsencrypt.org/. There is a much larger community there of\r\npeople familiar with the project who will be able to more quickly answer your\r\nquestions.\r\n\r\n## My operating system is (include version):\r\nCentOS release 6.10 (Final)\r\n\r\n## I installed Certbot with (certbot-auto, OS package manager, pip, etc):\r\ncertbot-auto\r\n\r\n## I ran this command and it produced this output:\r\ncertbot-auto --no-self-upgrade\r\n\r\n## Certbot's behavior differed from what I expected because:\r\nInvalid OCSP response for /etc/letsencrypt/live/.../cert.pem: param thisUpdate is in the future..\r\n\r\n## Here is a Certbot log showing the issue (if available):\r\n###### Logs are stored in `/var/log/letsencrypt` by default. Feel free to redact domains, e-mail and IP addresses as you see fit.\r\n```\r\n2019-03-09 20:39:02,485:DEBUG:urllib3.connectionpool:Starting new HTTP connection (1): ocsp.int-x3.letsencrypt.org:80\r\n2019-03-09 20:39:02,581:DEBUG:urllib3.connectionpool:http://ocsp.int-x3.letsencrypt.org:80 \"POST / HTTP/1.1\" 200 527\r\n2019-03-09 20:39:02,587:ERROR:certbot.ocsp:Invalid OCSP response for /etc/letsencrypt/live/.../cert.pem: param thisUpdate is in the future..\r\n2019-03-09 20:39:02,594:DEBUG:urllib3.connectionpool:Starting new HTTP connection (1): ocsp.int-x3.letsencrypt.org:80\r\n2019-03-09 20:39:02,703:DEBUG:urllib3.connectionpool:http://ocsp.int-x3.letsencrypt.org:80 \"POST / HTTP/1.1\" 200 527\r\n2019-03-09 20:39:02,705:ERROR:certbot.ocsp:Invalid OCSP response for /etc/letsencrypt/live/.../cert.pem: param thisUpdate is in the future..\r\n/\r\n```\r\n\r\nThis has happened on two computers in two very different infrastructure systems\r\n\r\n## Here is the relevant nginx server block or Apache virtualhost for the domain I am configuring:\r\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/6836/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/6836/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/6776", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/6776/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/6776/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/6776/events", "html_url": "https://github.com/certbot/certbot/issues/6776", "id": 411153019, "node_id": "MDU6SXNzdWU0MTExNTMwMTk=", "number": 6776, "title": "certbot adds acme-challenge to wrong config, if domain name is not lower case", "user": {"login": "SlavikCA", "id": 6293679, "node_id": "MDQ6VXNlcjYyOTM2Nzk=", "avatar_url": "https://avatars.githubusercontent.com/u/6293679?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SlavikCA", "html_url": "https://github.com/SlavikCA", "followers_url": "https://api.github.com/users/SlavikCA/followers", "following_url": "https://api.github.com/users/SlavikCA/following{/other_user}", "gists_url": "https://api.github.com/users/SlavikCA/gists{/gist_id}", "starred_url": "https://api.github.com/users/SlavikCA/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SlavikCA/subscriptions", "organizations_url": "https://api.github.com/users/SlavikCA/orgs", "repos_url": "https://api.github.com/users/SlavikCA/repos", "events_url": "https://api.github.com/users/SlavikCA/events{/privacy}", "received_events_url": "https://api.github.com/users/SlavikCA/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 200596079, "node_id": "MDU6TGFiZWwyMDA1OTYwNzk=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20ui%20/%20ux", "name": "area: ui / ux", "color": "c5def5", "default": false, "description": null}, {"id": 258836706, "node_id": "MDU6TGFiZWwyNTg4MzY3MDY=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20nginx", "name": "area: nginx", "color": "c5def5", "default": false, "description": null}, {"id": 281347824, "node_id": "MDU6TGFiZWwyODEzNDc4MjQ=", "url": "https://api.github.com/repos/certbot/certbot/labels/has%20pr", "name": "has pr", "color": "0052cc", "default": false, "description": null}, {"id": 1226192732, "node_id": "MDU6TGFiZWwxMjI2MTkyNzMy", "url": "https://api.github.com/repos/certbot/certbot/labels/priority:%20unplanned", "name": "priority: unplanned", "color": "5319e7", "default": false, "description": "Work that we believe should be done, but does not have a higher priority."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2019-02-17T05:59:57Z", "updated_at": "2022-06-06T21:48:06Z", "closed_at": "2020-09-08T21:14:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "- Debian 9.6\r\n- I installed Certbot with OS package manager\r\n- certbot 0.28.0\r\n- nginx\r\n\r\n- had this host in my config in `/etc/nginx/conf.d/RussianChurchVancouver.ca.conf`:  \r\n```\r\nserver {\r\n  listen       80;\r\n  server_name  RussianChurchVancouver.ca www.RussianChurchVancouver.ca;\r\n...\r\n```\r\n\r\n- I ran certbot and certs were not created, because certbot failed:\r\n```\r\nroot@deb96:/var/www/RussianChurchVancouver.ca/web# certbot -m slavikca@gmail.com --agree-tos --nginx -d RussianChurchVancouver.ca -d www.RussianChurchVancouver.ca\r\nSaving debug log to /var/log/letsencrypt/letsencrypt.log\r\nPlugins selected: Authenticator nginx, Installer nginx\r\nObtaining a new certificate\r\nPerforming the following challenges:\r\nhttp-01 challenge for russianchurchvancouver.ca\r\nhttp-01 challenge for www.russianchurchvancouver.ca\r\nnginx: [warn] conflicting server name \"www.russianchurchvancouver.ca\" on 0.0.0.0:80, ignored\r\nnginx: [warn] conflicting server name \"russianchurchvancouver.ca\" on 0.0.0.0:80, ignored\r\nWaiting for verification...\r\nCleaning up challenges\r\nFailed authorization procedure. russianchurchvancouver.ca (http-01): urn:ietf:params:acme:error:unauthorized :: The client lacks sufficient authorization :: Invalid response from http://russianchurchvancouver.ca/.well-known/acme-challenge/b4vlj_zIdB4H_a94FlltJWx2JBGBDS_ihAFWrpJSl5U: \"<html>\\r\\n<head><title>404 Not Found</title></head>\\r\\n<body>\\r\\n<center><h1>404 Not Found</h1></center>\\r\\n<hr><center>nginx</center>\\r\\n\", www.russianchurchvancouver.ca (http-01): urn:ietf:params:acme:error:unauthorized :: The client lacks sufficient authorization :: Invalid response from http://www.russianchurchvancouver.ca/.well-known/acme-challenge/B8e0i1p0jhjNtfV1Dd36rlE8eh4K2bpefVvABc6Na48: \"<html>\\r\\n<head><title>404 Not Found</title></head>\\r\\n<body>\\r\\n<center><h1>404 Not Found</h1></center>\\r\\n<hr><center>nginx</center>\\r\\n\"\r\n```\r\n\r\nWhile troubleshooting, I found, that  certbot adding acme-challenge to this config file:\r\n```\r\nWriting nginx conf tree to /etc/nginx/conf.d/default.conf\r\n```\r\nwhich is the bug. that's why I have `conflicting server name` in the log (certbot created situation when I have `russianchurchvancouver.ca` both in `default.conf` and in `RussianChurchVancouver.ca.conf`\r\nExpected, that it would add acme-challenge to this file:\r\n```\r\n/etc/nginx/conf.d/RussianChurchVancouver.ca.conf\r\n```\r\n\r\nAt this point, I started to suspect, that certbot does that because my domains in config file are not lower case.\r\nSo, I lowercased them:\r\n```\r\n  server_name  russianchurchvancouver.ca www.russianchurchvancouver.ca;\r\n```\r\nand certbot worked correctly:\r\n```\r\nroot@deb96:/etc/nginx/conf.d# certbot -m slavikca@gmail.com --agree-tos --nginx -d russianchurchvancouver.ca,www.russianchurchvancouver.ca\r\nSaving debug log to /var/log/letsencrypt/letsencrypt.log\r\nPlugins selected: Authenticator nginx, Installer nginx\r\nObtaining a new certificate\r\nPerforming the following challenges:\r\nhttp-01 challenge for www.russianchurchvancouver.ca\r\nhttp-01 challenge for russianchurchvancouver.ca\r\nWaiting for verification...\r\nCleaning up challenges\r\nDeploying Certificate to VirtualHost /etc/nginx/conf.d/RussianChurchVancouver.ca.conf\r\nDeploying Certificate to VirtualHost /etc/nginx/conf.d/RussianChurchVancouver.ca.conf\r\n...\r\nCongratulations! You have successfully enabled https://russianchurchvancouver.ca\r\nand https://www.russianchurchvancouver.ca\r\n```", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/6776/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/6776/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/6716", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/6716/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/6716/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/6716/events", "html_url": "https://github.com/certbot/certbot/issues/6716", "id": 404086231, "node_id": "MDU6SXNzdWU0MDQwODYyMzE=", "number": 6716, "title": "certbot --nginx ignores http-01-address, instead of adding it to listen directive", "user": {"login": "manger", "id": 3963658, "node_id": "MDQ6VXNlcjM5NjM2NTg=", "avatar_url": "https://avatars.githubusercontent.com/u/3963658?v=4", "gravatar_id": "", "url": "https://api.github.com/users/manger", "html_url": "https://github.com/manger", "followers_url": "https://api.github.com/users/manger/followers", "following_url": "https://api.github.com/users/manger/following{/other_user}", "gists_url": "https://api.github.com/users/manger/gists{/gist_id}", "starred_url": "https://api.github.com/users/manger/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/manger/subscriptions", "organizations_url": "https://api.github.com/users/manger/orgs", "repos_url": "https://api.github.com/users/manger/repos", "events_url": "https://api.github.com/users/manger/events{/privacy}", "received_events_url": "https://api.github.com/users/manger/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 258836706, "node_id": "MDU6TGFiZWwyNTg4MzY3MDY=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20nginx", "name": "area: nginx", "color": "c5def5", "default": false, "description": null}, {"id": 1383990430, "node_id": "MDU6TGFiZWwxMzgzOTkwNDMw", "url": "https://api.github.com/repos/certbot/certbot/labels/needs-update", "name": "needs-update", "color": "ADDEE4", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-01-29T01:50:25Z", "updated_at": "2020-03-01T00:02:30Z", "closed_at": "2020-03-01T00:02:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "On renewing a cert using the nginx module in http-01 mode, the nginx server block generated by certbot (...['listen', '80']...) causes a failure (bind() to 0.0.0.0:80 failed (98: Address already in use)) if the nginx configuration specifies an address when it listens to port 80 (listen 1.2.3.4:80).\r\n\r\nConfiguring Nginx to serve http typically involves a line like:\r\n  listen 80;\r\nBut when a server has multiple IP addresses and you only want to use 1 the line can be:\r\n  listen 1.2.3.4:80;\r\nHowever, the latter seems to clash with the block generated by certbot (which appears to be equivalent to \"listen 80\"), causing a \"address already in use\" error and hence the ACME challenge not being properly answered.\r\n\r\nCertbot has a --http-01-address option (which I believe sets an http01_address line in /etc/letsencrypt/renew/x.example.com.conf). The Nginx should probably use this to restrict the \"listen\" directive that it generates to just the specified address.\r\n\r\nThe function _default_listen_addresses in certbot_nginx/http_01.py should use http01_address (not just http01_port).\r\n\r\n\r\n## My operating system is (include version):\r\nUbuntu 18.04.1\r\n\r\n## I installed Certbot with (certbot-auto, OS package manager, pip, etc):\r\nOS package manager\r\n\r\n## I ran this command and it produced this output:\r\n$ sudo certbot --nginx --http-01-address 1.2.3.4\r\n...\r\n[from /var/log/nginx/error.log]\r\n2019/01/29 10:55:57 [emerg] 5566#5566: bind() to 0.0.0.0:80 failed (98: Address already in use)\r\n\r\n## Certbot's behavior differed from what I expected because:\r\nCertbot should be able to listen on port 80 as well as the rest of the web server, even when the rest of the web server is only listening on a specific IP address.\r\n\r\n## Here is a Certbot log excerpt showing the issue (if available):\r\n2019-01-29 08:57:45,822:DEBUG:certbot.plugins.selection:Requested authenticator nginx and installer nginx\r\n2019-01-29 08:57:47,445:INFO:certbot.auth_handler:Performing the following challenges:\r\n2019-01-29 08:57:47,446:INFO:certbot.auth_handler:http-01 challenge for x.example.com\r\n2019-01-29 08:57:47,463:INFO:certbot_nginx.http_01:Using default address 80 for authentication.\r\n2019-01-29 08:57:47,465:DEBUG:certbot_nginx.http_01:Generated server block:\r\n[[['server'], [['listen', '80'], ['server_name', 'x.example.com'], ['root', '/var/lib/letsencrypt/http_01_nonexistent'], [['location', '=', '/.well-known/acme-challenge/Klxm1KXttUeSoAlQN-jRLoFFDzs\r\n3-WllD4jm9uKhfsI'], [['default_type', 'text/plain'], ['return', '200', 'Klxwu5746D....I_GK_Q8dTdShh...']]]]]]\r\n\r\n2019-01-29 08:57:47,471:DEBUG:certbot_nginx.parser:Writing nginx conf tree to /etc/nginx/nginx.conf:\r\ninclude /etc/letsencrypt/le_http_01_cert_challenge.conf;\r\n\r\n2019-01-29 08:57:51,821:DEBUG:acme.client:Sending GET request to https://acme-staging-v02.api.letsencrypt.org/acme/authz/P_d-15...\r\n  \"challenges\": [\r\n    {\r\n      \"type\": \"http-01\",\r\n      \"status\": \"invalid\",\r\n      \"error\": {\r\n        \"type\": \"urn:ietf:params:acme:error:unauthorized\",\r\n        \"detail\": \"Invalid response from http://x.example.com/.well-known/acme-challenge/Klx...\",\r\n        \"status\": 403\r\n      },\r\n\r\n2019-01-29 08:57:52,104:DEBUG:certbot.reporter:Reporting to user: The following errors were reported by the server:\r\n\r\nDomain: x.example.com\r\nType:   unauthorized\r\nDetail: Invalid response from http://x.example.com/.well-known/acme-challenge/Klxwu5746D... 404 Not Found\r\n\r\n## Here is the relevant nginx server block or Apache virtualhost for the domain I am configuring:\r\n[/etc/nginx/sites-enabled/use_https.conf]\r\nserver {\r\n  listen 1.2.3.4:80;\r\n\r\n  location / {\r\n    error_page 404 /use_https.html;\r\n    return 404;\r\n  }\r\n  location = /use_https.html {\r\n    charset UTF-8;\r\n    root /var/www/html;\r\n  }\r\n}\r\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/6716/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/6716/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/6687", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/6687/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/6687/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/6687/events", "html_url": "https://github.com/certbot/certbot/issues/6687", "id": 402273417, "node_id": "MDU6SXNzdWU0MDIyNzM0MTc=", "number": 6687, "title": "pip install certbot-apache fails with pip 19", "user": {"login": "mgedmin", "id": 159967, "node_id": "MDQ6VXNlcjE1OTk2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/159967?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mgedmin", "html_url": "https://github.com/mgedmin", "followers_url": "https://api.github.com/users/mgedmin/followers", "following_url": "https://api.github.com/users/mgedmin/following{/other_user}", "gists_url": "https://api.github.com/users/mgedmin/gists{/gist_id}", "starred_url": "https://api.github.com/users/mgedmin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mgedmin/subscriptions", "organizations_url": "https://api.github.com/users/mgedmin/orgs", "repos_url": "https://api.github.com/users/mgedmin/repos", "events_url": "https://api.github.com/users/mgedmin/events{/privacy}", "received_events_url": "https://api.github.com/users/mgedmin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 200587469, "node_id": "MDU6TGFiZWwyMDA1ODc0Njk=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20debian%20/%20ubuntu", "name": "area: debian / ubuntu", "color": "c5def5", "default": false, "description": null}, {"id": 258836903, "node_id": "MDU6TGFiZWwyNTg4MzY5MDM=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20apache", "name": "area: apache", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/65", "html_url": "https://github.com/certbot/certbot/milestone/65", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/65/labels", "id": 4000998, "node_id": "MDk6TWlsZXN0b25lNDAwMDk5OA==", "number": 65, "title": "0.30.1", "description": "", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 2, "state": "closed", "created_at": "2019-01-25T00:31:39Z", "updated_at": "2019-01-30T01:38:58Z", "due_on": "2019-01-24T08:00:00Z", "closed_at": "2019-01-30T01:38:58Z"}, "comments": 6, "created_at": "2019-01-23T14:46:42Z", "updated_at": "2019-01-25T00:32:24Z", "closed_at": "2019-01-25T00:12:11Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "If you have pip 19, `pip install certbot-apache` fails with\r\n\r\n```\r\nException:\r\nTraceback (most recent call last):\r\n  File \"/tmp/py3/lib/python3.6/site-packages/pip/_internal/cli/base_command.py\", line 176, in main\r\n    status = self.run(options, args)\r\n  File \"/tmp/py3/lib/python3.6/site-packages/pip/_internal/commands/install.py\", line 393, in run\r\n    use_user_site=options.use_user_site,\r\n  File \"/tmp/py3/lib/python3.6/site-packages/pip/_internal/req/__init__.py\", line 57, in install_given_reqs\r\n    **kwargs\r\n  File \"/tmp/py3/lib/python3.6/site-packages/pip/_internal/req/req_install.py\", line 919, in install\r\n    use_user_site=use_user_site, pycompile=pycompile,\r\n  File \"/tmp/py3/lib/python3.6/site-packages/pip/_internal/req/req_install.py\", line 445, in move_wheel_files\r\n    warn_script_location=warn_script_location,\r\n  File \"/tmp/py3/lib/python3.6/site-packages/pip/_internal/wheel.py\", line 583, in move_wheel_files\r\n    outrows = get_csv_rows_for_installed(reader)\r\n  File \"/tmp/py3/lib/python3.6/site-packages/pip/_internal/wheel.py\", line 565, in get_csv_rows_for_installed\r\n    for fpath, digest, length in old_csv_rows:\r\nValueError: too many values to unpack (expected 3)\r\n```\r\n\r\nwhich is https://github.com/pypa/pip/issues/6165, but really caused by https://github.com/pypa/wheel/issues/280.\r\n\r\nI've seen this ValueError in one of the comments in #6682, but certbot-auto is not the only affected use-case (although I understand that users who create virtualenvs by hand and pip install certbot-apace in there are not officially supported).\r\n\r\nI'm filing this issue here because certbot-apache could avoid this issue if it renamed two test files\r\n\r\n```\r\n./certbot-apache/certbot_apache/tests/testdata/debian_apache_2_4/augeas_vhosts/apache2/sites-enabled/old,default.conf\r\n./certbot-apache/certbot_apache/tests/testdata/debian_apache_2_4/augeas_vhosts/apache2/sites-available/old,default.conf\r\n```\r\n\r\nto something that doesn't have a comma in the filename.", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/6687/reactions", "total_count": 4, "+1": 4, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/6687/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/6682", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/6682/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/6682/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/6682/events", "html_url": "https://github.com/certbot/certbot/issues/6682", "id": 401982267, "node_id": "MDU6SXNzdWU0MDE5ODIyNjc=", "number": 6682, "title": "Certbot-auto fails to install (Requirement already satisfied: setuptools>=1.0)", "user": {"login": "jrko", "id": 31940806, "node_id": "MDQ6VXNlcjMxOTQwODA2", "avatar_url": "https://avatars.githubusercontent.com/u/31940806?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jrko", "html_url": "https://github.com/jrko", "followers_url": "https://api.github.com/users/jrko/followers", "following_url": "https://api.github.com/users/jrko/following{/other_user}", "gists_url": "https://api.github.com/users/jrko/gists{/gist_id}", "starred_url": "https://api.github.com/users/jrko/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jrko/subscriptions", "organizations_url": "https://api.github.com/users/jrko/orgs", "repos_url": "https://api.github.com/users/jrko/repos", "events_url": "https://api.github.com/users/jrko/events{/privacy}", "received_events_url": "https://api.github.com/users/jrko/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 200587469, "node_id": "MDU6TGFiZWwyMDA1ODc0Njk=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20debian%20/%20ubuntu", "name": "area: debian / ubuntu", "color": "c5def5", "default": false, "description": null}, {"id": 1197635214, "node_id": "MDU6TGFiZWwxMTk3NjM1MjE0", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20docker", "name": "area: docker", "color": "c5def5", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/65", "html_url": "https://github.com/certbot/certbot/milestone/65", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/65/labels", "id": 4000998, "node_id": "MDk6TWlsZXN0b25lNDAwMDk5OA==", "number": 65, "title": "0.30.1", "description": "", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 2, "state": "closed", "created_at": "2019-01-25T00:31:39Z", "updated_at": "2019-01-30T01:38:58Z", "due_on": "2019-01-24T08:00:00Z", "closed_at": "2019-01-30T01:38:58Z"}, "comments": 41, "created_at": "2019-01-22T22:27:10Z", "updated_at": "2019-04-20T17:45:29Z", "closed_at": "2019-01-25T00:31:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "It looks like *certbot-auto* is failing to build its virtual environment when installing. Broken in my automated workflow as well as running manually.\r\n\r\n## My operating system is (include version):\r\nAmazon Linux AMI release 2018.03\r\n\r\n## I installed Certbot with (certbot-auto, OS package manager, pip, etc):\r\ncertbot-auto\r\n\r\n## I ran this command and it produced this output:\r\n```\r\n$ /opt/eff.org/certbot/certbot-auto --no-bootstrap --install-only\r\nCreating virtual environment...\r\nInstalling Python packages...\r\nHad a problem while installing Python packages.\r\n\r\npip prints the following errors: \r\n=====================================================\r\nDEPRECATION: Python 2.7 will reach the end of its life on January 1st, 2020. Please upgrade your Python as Python 2.7 won't be maintained after that date. A future version of pip will drop support for Python 2.7.\r\nCollecting argparse==1.4.0 (from -r /tmp/tmp.8vZyi2Q2zy/letsencrypt-auto-requirements.txt (line 11))\r\n  Downloading https://files.pythonhosted.org/packages/f2/94/3af39d34be01a24a6e65433d19e107099374224905f1e0cc6bbe1fd22a2f/argparse-1.4.0-py2.py3-none-any.whl\r\nCollecting pycparser==2.14 (from -r /tmp/tmp.8vZyi2Q2zy/letsencrypt-auto-requirements.txt (line 17))\r\n  Downloading https://files.pythonhosted.org/packages/6d/31/666614af3db0acf377876d48688c5d334b6e493b96d21aa7d332169bee50/pycparser-2.14.tar.gz (223kB)\r\nCollecting asn1crypto==0.22.0 (from -r /tmp/tmp.8vZyi2Q2zy/letsencrypt-auto-requirements.txt (line 21))\r\n  Downloading https://files.pythonhosted.org/packages/97/ba/7e8117d8efcee589f4d96dd2b2eb1d997f96d27d214cf2b7134ad8acf6ab/asn1crypto-0.22.0-py2.py3-none-any.whl (97kB)\r\nCollecting cffi==1.11.5 (from -r /tmp/tmp.8vZyi2Q2zy/letsencrypt-auto-requirements.txt (line 24))\r\n  Downloading https://files.pythonhosted.org/packages/14/dd/3e7a1e1280e7d767bd3fa15791759c91ec19058ebe31217fe66f3e9a8c49/cffi-1.11.5-cp27-cp27mu-manylinux1_x86_64.whl (407kB)\r\nCollecting ConfigArgParse==0.12.0 (from -r /tmp/tmp.8vZyi2Q2zy/letsencrypt-auto-requirements.txt (line 57))\r\n  Downloading https://files.pythonhosted.org/packages/17/8d/4a41f11b0971017c7001f118be8003da8f7b96b010c66cd792b76658d1e1/ConfigArgParse-0.12.0.tar.gz (41kB)\r\nCollecting configobj==5.0.6 (from -r /tmp/tmp.8vZyi2Q2zy/letsencrypt-auto-requirements.txt (line 60))\r\n  Downloading https://files.pythonhosted.org/packages/64/61/079eb60459c44929e684fa7d9e2fdca403f67d64dd9dbac27296be2e0fab/configobj-5.0.6.tar.gz\r\nCollecting cryptography==2.2.2 (from -r /tmp/tmp.8vZyi2Q2zy/letsencrypt-auto-requirements.txt (line 63))\r\n  Downloading https://files.pythonhosted.org/packages/dd/c2/3a5bfefb25690725824ade71e6b65449f0a9f4b29702cce10560f786ebf6/cryptography-2.2.2-cp27-cp27mu-manylinux1_x86_64.whl (2.2MB)\r\nCollecting enum34==1.1.2 (from -r /tmp/tmp.8vZyi2Q2zy/letsencrypt-auto-requirements.txt (line 83))\r\n  Downloading https://files.pythonhosted.org/packages/6f/e9/08fd439384b7e3d613e75a6c8236b8e64d90c47d23413493b38d4229a9a5/enum34-1.1.2.tar.gz (46kB)\r\nCollecting funcsigs==1.0.2 (from -r /tmp/tmp.8vZyi2Q2zy/letsencrypt-auto-requirements.txt (line 86))\r\n  Downloading https://files.pythonhosted.org/packages/69/cb/f5be453359271714c01b9bd06126eaf2e368f1fddfff30818754b5ac2328/funcsigs-1.0.2-py2.py3-none-any.whl\r\nCollecting idna==2.5 (from -r /tmp/tmp.8vZyi2Q2zy/letsencrypt-auto-requirements.txt (line 89))\r\n  Downloading https://files.pythonhosted.org/packages/11/7d/9bbbd7bb35f34b0169542487d2a8859e44306bb2e6a4455d491800a5621f/idna-2.5-py2.py3-none-any.whl (55kB)\r\nCollecting ipaddress==1.0.16 (from -r /tmp/tmp.8vZyi2Q2zy/letsencrypt-auto-requirements.txt (line 92))\r\n  Downloading https://files.pythonhosted.org/packages/23/6a/813ac29a01e4c33c19c2bded98ac3d4266ebbf0bd2c0eb0020e1c969958d/ipaddress-1.0.16-py27-none-any.whl\r\nCollecting josepy==1.1.0 (from -r /tmp/tmp.8vZyi2Q2zy/letsencrypt-auto-requirements.txt (line 95))\r\n  Downloading https://files.pythonhosted.org/packages/23/46/30ac29742b03be92e05d1fd9048df6f0902bb0b3b042a7ea76a2b3c30f7e/josepy-1.1.0-py2.py3-none-any.whl (53kB)\r\nCollecting linecache2==1.0.0 (from -r /tmp/tmp.8vZyi2Q2zy/letsencrypt-auto-requirements.txt (line 98))\r\n  Downloading https://files.pythonhosted.org/packages/c7/a3/c5da2a44c85bfbb6eebcfc1dde24933f8704441b98fdde6528f4831757a6/linecache2-1.0.0-py2.py3-none-any.whl\r\nCollecting mock==1.3.0 (from -r /tmp/tmp.8vZyi2Q2zy/letsencrypt-auto-requirements.txt (line 102))\r\n  Downloading https://files.pythonhosted.org/packages/b2/50/664a70b87408bb6c14c1af2337efa64eb8d1af80c933531758b8fb41ec25/mock-1.3.0-py2.py3-none-any.whl (56kB)\r\nCollecting ordereddict==1.1 (from -r /tmp/tmp.8vZyi2Q2zy/letsencrypt-auto-requirements.txt (line 105))\r\n  Downloading https://files.pythonhosted.org/packages/53/25/ef88e8e45db141faa9598fbf7ad0062df8f50f881a36ed6a0073e1572126/ordereddict-1.1.tar.gz\r\nCollecting packaging==16.8 (from -r /tmp/tmp.8vZyi2Q2zy/letsencrypt-auto-requirements.txt (line 108))\r\n  Downloading https://files.pythonhosted.org/packages/87/1b/c39b7c65b5612812b83d6cab7ef2885eac9f6beb0b7b8a7071a186aea3b1/packaging-16.8-py2.py3-none-any.whl\r\nCollecting parsedatetime==2.1 (from -r /tmp/tmp.8vZyi2Q2zy/letsencrypt-auto-requirements.txt (line 111))\r\n  Downloading https://files.pythonhosted.org/packages/85/1f/13fc06097e516f6259d62cea502b116451321c96e18a9d0fff9da3442e02/parsedatetime-2.1-py2-none-any.whl\r\nCollecting pbr==1.8.1 (from -r /tmp/tmp.8vZyi2Q2zy/letsencrypt-auto-requirements.txt (line 114))\r\n  Downloading https://files.pythonhosted.org/packages/fc/37/94af8387babb09796d306b18cf94ee5c70388c875a16d8a88e471500452c/pbr-1.8.1-py2.py3-none-any.whl (89kB)\r\nCollecting pyOpenSSL==16.2.0 (from -r /tmp/tmp.8vZyi2Q2zy/letsencrypt-auto-requirements.txt (line 117))\r\n  Downloading https://files.pythonhosted.org/packages/ac/93/b4cd538d31adacd07f83013860db6b88d78755af1f3fefe68ec22d397e7b/pyOpenSSL-16.2.0-py2.py3-none-any.whl (43kB)\r\nCollecting pyparsing==2.1.8 (from -r /tmp/tmp.8vZyi2Q2zy/letsencrypt-auto-requirements.txt (line 120))\r\n  Downloading https://files.pythonhosted.org/packages/85/b9/188515f35f78533b3f82966a2c3f1a71a86df8b801367ee75a77191a861d/pyparsing-2.1.8-py2.py3-none-any.whl (54kB)\r\nCollecting pyRFC3339==1.0 (from -r /tmp/tmp.8vZyi2Q2zy/letsencrypt-auto-requirements.txt (line 129))\r\n  Downloading https://files.pythonhosted.org/packages/9b/0a/decfa17e7707afca17d6e9595ff5c79c1c71c74063ad95576f897ed3a9f1/pyRFC3339-1.0-py2.py3-none-any.whl\r\nCollecting python-augeas==0.5.0 (from -r /tmp/tmp.8vZyi2Q2zy/letsencrypt-auto-requirements.txt (line 132))\r\n  Downloading https://files.pythonhosted.org/packages/41/e6/4b6740cb3e31b82252099994cea751c648b846aa7874343c31d68c2215be/python-augeas-0.5.0.tar.gz (90kB)\r\nCollecting pytz==2015.7 (from -r /tmp/tmp.8vZyi2Q2zy/letsencrypt-auto-requirements.txt (line 135))\r\n  Downloading https://files.pythonhosted.org/packages/c0/28/973f0382c803b21734cd7e97e0590928148ee21b1cbe8f7fed8b506204fb/pytz-2015.7-py2.py3-none-any.whl (476kB)\r\nCollecting requests==2.20.0 (from -r /tmp/tmp.8vZyi2Q2zy/letsencrypt-auto-requirements.txt (line 149))\r\n  Downloading https://files.pythonhosted.org/packages/f1/ca/10332a30cb25b627192b4ea272c351bce3ca1091e541245cccbace6051d8/requests-2.20.0-py2.py3-none-any.whl (60kB)\r\nCollecting six==1.10.0 (from -r /tmp/tmp.8vZyi2Q2zy/letsencrypt-auto-requirements.txt (line 152))\r\n  Downloading https://files.pythonhosted.org/packages/c8/0a/b6723e1bc4c516cb687841499455a8505b44607ab535be01091c0f24f079/six-1.10.0-py2.py3-none-any.whl\r\nCollecting traceback2==1.4.0 (from -r /tmp/tmp.8vZyi2Q2zy/letsencrypt-auto-requirements.txt (line 155))\r\n  Downloading https://files.pythonhosted.org/packages/17/0a/6ac05a3723017a967193456a2efa0aa9ac4b51456891af1e2353bb9de21e/traceback2-1.4.0-py2.py3-none-any.whl\r\nCollecting unittest2==1.1.0 (from -r /tmp/tmp.8vZyi2Q2zy/letsencrypt-auto-requirements.txt (line 158))\r\n  Downloading https://files.pythonhosted.org/packages/72/20/7f0f433060a962200b7272b8c12ba90ef5b903e218174301d0abfd523813/unittest2-1.1.0-py2.py3-none-any.whl (96kB)\r\nCollecting zope.component==4.2.2 (from -r /tmp/tmp.8vZyi2Q2zy/letsencrypt-auto-requirements.txt (line 161))\r\n  Downloading https://files.pythonhosted.org/packages/4c/c4/3f77127c876f49af478e8ea4dc223cda17730bb273c0d1606a4114c64008/zope.component-4.2.2.tar.gz (546kB)\r\nCollecting zope.event==4.1.0 (from -r /tmp/tmp.8vZyi2Q2zy/letsencrypt-auto-requirements.txt (line 164))\r\n  Downloading https://files.pythonhosted.org/packages/0e/87/75e3d62a3506953c2e56d15a150de31e5d92310e87db2c8b102dc01b0b8e/zope.event-4.1.0.tar.gz (476kB)\r\nCollecting zope.interface==4.1.3 (from -r /tmp/tmp.8vZyi2Q2zy/letsencrypt-auto-requirements.txt (line 167))\r\n  Downloading https://files.pythonhosted.org/packages/9d/81/2509ca3c6f59080123c1a8a97125eb48414022618cec0e64eb1313727bfe/zope.interface-4.1.3.tar.gz (141kB)\r\nCollecting requests-toolbelt==0.8.0 (from -r /tmp/tmp.8vZyi2Q2zy/letsencrypt-auto-requirements.txt (line 185))\r\n  Downloading https://files.pythonhosted.org/packages/97/8a/d710f792d6f6ecc089c5e55b66e66c3f2f35516a1ede5a8f54c13350ffb0/requests_toolbelt-0.8.0-py2.py3-none-any.whl (54kB)\r\nCollecting chardet==3.0.2 (from -r /tmp/tmp.8vZyi2Q2zy/letsencrypt-auto-requirements.txt (line 188))\r\n  Downloading https://files.pythonhosted.org/packages/b8/74/54fdc2fcfdd46b6c486964b64c5bb7db9a3664033ab25cf11aab06dd2a5d/chardet-3.0.2-py2.py3-none-any.whl (133kB)\r\nCollecting urllib3==1.24.1 (from -r /tmp/tmp.8vZyi2Q2zy/letsencrypt-auto-requirements.txt (line 191))\r\n  Downloading https://files.pythonhosted.org/packages/62/00/ee1d7de624db8ba7090d1226aebefab96a2c71cd5cfa7629d6ad3f61b79e/urllib3-1.24.1-py2.py3-none-any.whl (118kB)\r\nCollecting certifi==2017.4.17 (from -r /tmp/tmp.8vZyi2Q2zy/letsencrypt-auto-requirements.txt (line 194))\r\n  Downloading https://files.pythonhosted.org/packages/eb/01/c1f58987b777d6c4ec535b4e004a4a07bfc9db06f0c7533367ca6da8f2a6/certifi-2017.4.17-py2.py3-none-any.whl (375kB)\r\nCollecting letsencrypt==0.7.0 (from -r /tmp/tmp.8vZyi2Q2zy/letsencrypt-auto-requirements.txt (line 205))\r\n  Downloading https://files.pythonhosted.org/packages/fd/21/0c6f33829fadec8aca0c1ebb4d6f8101c05899356a58d1b2e506cb77cf18/letsencrypt-0.7.0-py2-none-any.whl\r\nCollecting certbot==0.30.0 (from -r /tmp/tmp.8vZyi2Q2zy/letsencrypt-auto-requirements.txt (line 209))\r\n  Downloading https://files.pythonhosted.org/packages/e0/5e/9881564f386c1294d6cf387d5c754d7eb3277507b46afac1c646d6ae6de6/certbot-0.30.0-py2.py3-none-any.whl (317kB)\r\nCollecting acme==0.30.0 (from -r /tmp/tmp.8vZyi2Q2zy/letsencrypt-auto-requirements.txt (line 212))\r\n  Downloading https://files.pythonhosted.org/packages/df/a7/fc6114c715233ab53c9571d3b710d596bc80446eac14e0906362fa69e4b1/acme-0.30.0-py2.py3-none-any.whl (85kB)\r\nCollecting certbot-apache==0.30.0 (from -r /tmp/tmp.8vZyi2Q2zy/letsencrypt-auto-requirements.txt (line 215))\r\n  Downloading https://files.pythonhosted.org/packages/37/37/46433ff4358e12d1caf4101308411bf1dad0df3e27e2e62c5037ca75d2e0/certbot_apache-0.30.0-py2.py3-none-any.whl (228kB)\r\nCollecting certbot-nginx==0.30.0 (from -r /tmp/tmp.8vZyi2Q2zy/letsencrypt-auto-requirements.txt (line 218))\r\n  Downloading https://files.pythonhosted.org/packages/ad/15/7f42f31ba068f837816647135a0704a8c89aad685df160407e92870c0277/certbot_nginx-0.30.0-py2.py3-none-any.whl (90kB)\r\nRequirement already satisfied: setuptools>=1.0 in /opt/eff.org/certbot/venv/lib/python2.7/dist-packages (from josepy==1.1.0->-r /tmp/tmp.8vZyi2Q2zy/letsencrypt-auto-requirements.txt (line 95)) (40.6.3)\r\nException:\r\nTraceback (most recent call last):\r\n  File \"/opt/eff.org/certbot/venv/local/lib/python2.7/dist-packages/pip/_internal/cli/base_command.py\", line 176, in main\r\n    status = self.run(options, args)\r\n  File \"/opt/eff.org/certbot/venv/local/lib/python2.7/dist-packages/pip/_internal/commands/install.py\", line 346, in run\r\n    session=session, autobuilding=True\r\n  File \"/opt/eff.org/certbot/venv/local/lib/python2.7/dist-packages/pip/_internal/wheel.py\", line 848, in build\r\n    assert building_is_possible\r\nAssertionError\r\n=====================================================\r\n\r\nCertbot has problem setting up the virtual environment.\r\n\r\nWe were not be able to guess the right solution from your pip \r\noutput.\r\n\r\nConsult https://certbot.eff.org/docs/install.html#problems-with-python-virtual-environment\r\nfor possible solutions.\r\nYou may also find some support resources at https://certbot.eff.org/support/ .\r\n```\r\n\r\n## Certbot's behavior differed from what I expected because:\r\nAutomated workflow previously installed Certbot without issue. Now it does not install.\r\n\r\n## Here is a Certbot log showing the issue (if available):\r\n###### Logs are stored in `/var/log/letsencrypt` by default. Feel free to redact domains, e-mail and IP addresses as you see fit.\r\nN/A\r\n## Here is the relevant nginx server block or Apache virtualhost for the domain I am configuring:\r\nN/A", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/6682/reactions", "total_count": 3, "+1": 3, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/6682/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/6679", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/6679/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/6679/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/6679/events", "html_url": "https://github.com/certbot/certbot/pull/6679", "id": 401035150, "node_id": "MDExOlB1bGxSZXF1ZXN0MjQ2MDcxNDE1", "number": 6679, "title": "Remove tls-sni-01 challenges in integration tests", "user": {"login": "adferrand", "id": 9728851, "node_id": "MDQ6VXNlcjk3Mjg4NTE=", "avatar_url": "https://avatars.githubusercontent.com/u/9728851?v=4", "gravatar_id": "", "url": "https://api.github.com/users/adferrand", "html_url": "https://github.com/adferrand", "followers_url": "https://api.github.com/users/adferrand/followers", "following_url": "https://api.github.com/users/adferrand/following{/other_user}", "gists_url": "https://api.github.com/users/adferrand/gists{/gist_id}", "starred_url": "https://api.github.com/users/adferrand/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/adferrand/subscriptions", "organizations_url": "https://api.github.com/users/adferrand/orgs", "repos_url": "https://api.github.com/users/adferrand/repos", "events_url": "https://api.github.com/users/adferrand/events{/privacy}", "received_events_url": "https://api.github.com/users/adferrand/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 263357278, "node_id": "MDU6TGFiZWwyNjMzNTcyNzg=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20testing", "name": "area: testing", "color": "c5def5", "default": false, "description": null}, {"id": 277080619, "node_id": "MDU6TGFiZWwyNzcwODA2MTk=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20code%20health", "name": "area: code health", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-01-19T21:09:45Z", "updated_at": "2019-01-29T12:58:43Z", "closed_at": "2019-01-20T15:53:19Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/certbot/certbot/pulls/6679", "html_url": "https://github.com/certbot/certbot/pull/6679", "diff_url": "https://github.com/certbot/certbot/pull/6679.diff", "patch_url": "https://github.com/certbot/certbot/pull/6679.patch", "merged_at": "2019-01-20T15:53:19Z"}, "body": "Since https://github.com/letsencrypt/boulder/commit/92e8e1708a725e9d08a5da2f4a7132320ed2158b, Boulder does not propose anymore tls-sni-01 challenges. This makes fail the Certbot integration tests that require to fulfill a tls-sni-01 challenge.\r\n\r\nThis PR removes all operations relevant to this deprecated and soon extincted challenge.", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/6679/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/6679/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/certbot/certbot/issues/6606", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/6606/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/6606/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/6606/events", "html_url": "https://github.com/certbot/certbot/issues/6606", "id": 391297858, "node_id": "MDU6SXNzdWUzOTEyOTc4NTg=", "number": 6606, "title": "Self signed certificate continues to be served with Apache on CentOS 6", "user": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 258836903, "node_id": "MDU6TGFiZWwyNTg4MzY5MDM=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20apache", "name": "area: apache", "color": "c5def5", "default": false, "description": null}, {"id": 281347824, "node_id": "MDU6TGFiZWwyODEzNDc4MjQ=", "url": "https://api.github.com/repos/certbot/certbot/labels/has%20pr", "name": "has pr", "color": "0052cc", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "schoen", "id": 1750103, "node_id": "MDQ6VXNlcjE3NTAxMDM=", "avatar_url": "https://avatars.githubusercontent.com/u/1750103?v=4", "gravatar_id": "", "url": "https://api.github.com/users/schoen", "html_url": "https://github.com/schoen", "followers_url": "https://api.github.com/users/schoen/followers", "following_url": "https://api.github.com/users/schoen/following{/other_user}", "gists_url": "https://api.github.com/users/schoen/gists{/gist_id}", "starred_url": "https://api.github.com/users/schoen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/schoen/subscriptions", "organizations_url": "https://api.github.com/users/schoen/orgs", "repos_url": "https://api.github.com/users/schoen/repos", "events_url": "https://api.github.com/users/schoen/events{/privacy}", "received_events_url": "https://api.github.com/users/schoen/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "schoen", "id": 1750103, "node_id": "MDQ6VXNlcjE3NTAxMDM=", "avatar_url": "https://avatars.githubusercontent.com/u/1750103?v=4", "gravatar_id": "", "url": "https://api.github.com/users/schoen", "html_url": "https://github.com/schoen", "followers_url": "https://api.github.com/users/schoen/followers", "following_url": "https://api.github.com/users/schoen/following{/other_user}", "gists_url": "https://api.github.com/users/schoen/gists{/gist_id}", "starred_url": "https://api.github.com/users/schoen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/schoen/subscriptions", "organizations_url": "https://api.github.com/users/schoen/orgs", "repos_url": "https://api.github.com/users/schoen/repos", "events_url": "https://api.github.com/users/schoen/events{/privacy}", "received_events_url": "https://api.github.com/users/schoen/received_events", "type": "User", "site_admin": false}, {"login": "joohoi", "id": 5235109, "node_id": "MDQ6VXNlcjUyMzUxMDk=", "avatar_url": "https://avatars.githubusercontent.com/u/5235109?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joohoi", "html_url": "https://github.com/joohoi", "followers_url": "https://api.github.com/users/joohoi/followers", "following_url": "https://api.github.com/users/joohoi/following{/other_user}", "gists_url": "https://api.github.com/users/joohoi/gists{/gist_id}", "starred_url": "https://api.github.com/users/joohoi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joohoi/subscriptions", "organizations_url": "https://api.github.com/users/joohoi/orgs", "repos_url": "https://api.github.com/users/joohoi/repos", "events_url": "https://api.github.com/users/joohoi/events{/privacy}", "received_events_url": "https://api.github.com/users/joohoi/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/67", "html_url": "https://github.com/certbot/certbot/milestone/67", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/67/labels", "id": 4013407, "node_id": "MDk6TWlsZXN0b25lNDAxMzQwNw==", "number": 67, "title": "0.33.0", "description": "", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 24, "state": "closed", "created_at": "2019-01-30T00:07:38Z", "updated_at": "2019-04-11T00:09:32Z", "due_on": "2019-04-03T07:00:00Z", "closed_at": "2019-04-03T22:32:36Z"}, "comments": 8, "created_at": "2018-12-14T22:16:18Z", "updated_at": "2019-07-18T21:32:22Z", "closed_at": "2019-04-02T16:26:59Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "I've heard about two reports of the Apache plugin thinking it obtained and installed a certificate for Apache on CentOS 6, but when the user visits their domain, Apache's self signed certificate is served. This is a pretty serious problem and should be fixed.\r\n\r\nThe one report I've seen myself is at https://community.letsencrypt.org/t/connection-not-secure-on-centos-6/80054. @schoen has seen more.\r\n\r\nWe're thinking this probably has something to do with vhost precedence rules, especially on CentOS 6 where if I remember correctly, [NameVirtualHost](https://httpd.apache.org/docs/2.2/mod/core.html#namevirtualhost) is disabled by default.\r\n\r\nWe should definitely try and get a configuration that reproduces this problem as it will make debugging much easier.", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/6606/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/6606/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/6579", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/6579/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/6579/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/6579/events", "html_url": "https://github.com/certbot/certbot/issues/6579", "id": 389505280, "node_id": "MDU6SXNzdWUzODk1MDUyODA=", "number": 6579, "title": "certbot-auto fails to compile dependencies on Raspberry Pi even with swap enabled", "user": {"login": "schoen", "id": 1750103, "node_id": "MDQ6VXNlcjE3NTAxMDM=", "avatar_url": "https://avatars.githubusercontent.com/u/1750103?v=4", "gravatar_id": "", "url": "https://api.github.com/users/schoen", "html_url": "https://github.com/schoen", "followers_url": "https://api.github.com/users/schoen/followers", "following_url": "https://api.github.com/users/schoen/following{/other_user}", "gists_url": "https://api.github.com/users/schoen/gists{/gist_id}", "starred_url": "https://api.github.com/users/schoen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/schoen/subscriptions", "organizations_url": "https://api.github.com/users/schoen/orgs", "repos_url": "https://api.github.com/users/schoen/repos", "events_url": "https://api.github.com/users/schoen/events{/privacy}", "received_events_url": "https://api.github.com/users/schoen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 276243379, "node_id": "MDU6TGFiZWwyNzYyNDMzNzk=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20certbot-auto", "name": "area: certbot-auto", "color": "c5def5", "default": false, "description": null}, {"id": 276680181, "node_id": "MDU6TGFiZWwyNzY2ODAxODE=", "url": "https://api.github.com/repos/certbot/certbot/labels/more-info", "name": "more-info", "color": "006b75", "default": false, "description": null}, {"id": 1383990430, "node_id": "MDU6TGFiZWwxMzgzOTkwNDMw", "url": "https://api.github.com/repos/certbot/certbot/labels/needs-update", "name": "needs-update", "color": "ADDEE4", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-12-10T22:00:28Z", "updated_at": "2019-06-20T04:59:52Z", "closed_at": "2019-06-20T04:59:52Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "At https://community.letsencrypt.org/t/renew-certificate/79204 we have a report of a problem with `certbot-auto` on a Raspberry Pi where the compilation fails with\r\n\r\n```\r\narm-linux-gnueabihf-gcc: internal compiler error: Speicherzugriffsfehler (program collect2)\r\nPlease submit a full bug report,\r\nwith preprocessed source if appropriate.\r\nSee <file:///usr/share/doc/gcc-4.9/README.Bugs> for instructions.\r\nerror: command \u2018arm-linux-gnueabihf-gcc\u2019 failed with exit status 4\r\n\r\n----------------------------------------\r\n\r\nCommand \u201c/opt/eff.org/certbot/venv/bin/python2.7 -u -c \u201cimport setuptools, tokenize;file=\u2019/tmp/pip-build-lAey8x/cffi/setup.py\u2019;f=getattr(tokenize, \u2018open\u2019, open)(file);code=f.read().replace(\u2019\r\n', \u2019\r\n');f.close();exec(compile(code, file, \u2018exec\u2019))\u201d install --record /tmp/pip-uIWj3z-record/install-record.txt --single-version-externally-managed --compile --install-headers /opt/eff.org/certbot/venv/include/site/python2.7/cffi\u201d failed with error code 1 in /tmp/pip-build-lAey8x/cffi/\r\n\r\nCertbot has problem setting up the virtual environment.\r\n```\r\n\r\n\"Speicherzugriffsfehler\" is German for 'memory access error' (perhaps a segfault)?\r\n\r\nHowever, when the user tried the existing suggestion of creating and activating a swapfile in order to alleviate memory pressure, the error still persisted!\r\n\r\nIt is a Raspberry Pi 3 with a Raspbian version based on Debian Jessie.\r\n\r\n```\r\nPRETTY_NAME=\u201cRaspbian GNU/Linux 8 (jessie)\u201d\r\nNAME=\u201cRaspbian GNU/Linux\u201d\r\nVERSION_ID=\u201c8\u201d\r\nVERSION=\u201c8 (jessie)\u201d\r\nID=raspbian\r\nID_LIKE=debian\r\n```", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/6579/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/6579/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/6495", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/6495/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/6495/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/6495/events", "html_url": "https://github.com/certbot/certbot/issues/6495", "id": 379677081, "node_id": "MDU6SXNzdWUzNzk2NzcwODE=", "number": 6495, "title": "Renew fails since certbot 0.28.0 with apache and FastCgiExternalServer", "user": {"login": "keros", "id": 1436611, "node_id": "MDQ6VXNlcjE0MzY2MTE=", "avatar_url": "https://avatars.githubusercontent.com/u/1436611?v=4", "gravatar_id": "", "url": "https://api.github.com/users/keros", "html_url": "https://github.com/keros", "followers_url": "https://api.github.com/users/keros/followers", "following_url": "https://api.github.com/users/keros/following{/other_user}", "gists_url": "https://api.github.com/users/keros/gists{/gist_id}", "starred_url": "https://api.github.com/users/keros/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/keros/subscriptions", "organizations_url": "https://api.github.com/users/keros/orgs", "repos_url": "https://api.github.com/users/keros/repos", "events_url": "https://api.github.com/users/keros/events{/privacy}", "received_events_url": "https://api.github.com/users/keros/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 258836903, "node_id": "MDU6TGFiZWwyNTg4MzY5MDM=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20apache", "name": "area: apache", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-11-12T08:54:50Z", "updated_at": "2018-11-12T21:57:24Z", "closed_at": "2018-11-12T21:57:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "## My operating system is (include version):\r\nUbuntu 16.04\r\nServer version: Apache/2.4.18 (Ubuntu)\r\nAll certs use the certbot apache module\r\n\r\n## I installed Certbot with (certbot-auto, OS package manager, pip, etc):\r\ncertbot-auto (because of an dependency issue)\r\n\r\n## I ran this command and it produced this output:\r\nletsencrypt --version\r\n-> certbot 0.28.0\r\nletsencrypt renew\r\n```\r\n...\r\nCert is due for renewal, auto-renewing...\r\nPlugins selected: Authenticator apache, Installer apache\r\nRenewing an existing certificate\r\nPerforming the following challenges:\r\nhttp-01 challenge for www.mydomain.com\r\nhttp-01 challenge for mydomain.com\r\nError while running apache2ctl configtest.\r\nAction 'configtest' failed.\r\nThe Apache error log may have more information.\r\n\r\nAH00526: Syntax error on line 46 of /etc/apache2/sites-available/mydomain.com.conf:\r\nFastCgiExternalServer: redefinition of previously defined class \"/var/www/mydomain.com/cgi-bin/php-fpm-fcgi-mydomain.com\"\r\n\r\nCleaning up challenges\r\nAttempting to renew cert (mydomain.com) from /etc/letsencrypt/renewal/mydomain.com.conf produced an unexpected error: Error while running apache2ctl configtest.\r\nAction 'configtest' failed.\r\nThe Apache error log may have more information.\r\n\r\nAH00526: Syntax error on line 46 of /etc/apache2/sites-available/mydomain.com.conf:\r\nFastCgiExternalServer: redefinition of previously defined class \"/var/www/mydomain.com/cgi-bin/php-fpm-fcgi-mydomain.com\"\r\n. Skipping.\r\n...\r\n```\r\n\r\n## Certbot's behavior differed from what I expected because:\r\nThere should not be an error like on the previous versions of certbot.\r\n\r\n## Here is a Certbot log showing the issue (if available):\r\n```\r\n2018-11-12 09:34:42,791:DEBUG:certbot.main:certbot version: 0.28.0\r\n2018-11-12 09:34:42,791:DEBUG:certbot.main:Arguments: ['--cert-name', 'mydomain.com']\r\n2018-11-12 09:34:42,791:DEBUG:certbot.main:Discovered plugins: PluginsRegistry(PluginEntryPoint#apache,PluginEntryPoint#manual,PluginEntryPoint#nginx,PluginEntryPoint#null,PluginEntryPoint#standalone,PluginEntryPoint#webroot)\r\n2018-11-12 09:34:42,827:DEBUG:certbot.log:Root logging level set at 20\r\n2018-11-12 09:34:42,828:INFO:certbot.log:Saving debug log to /var/log/letsencrypt/letsencrypt.log\r\n2018-11-12 09:34:42,861:DEBUG:certbot.plugins.selection:Requested authenticator <certbot.cli._Default object at 0x7fa2505f4510> and installer <certbot.cli._Default object at 0x7fa2505f4510>\r\n2018-11-12 09:34:42,905:DEBUG:certbot.storage:Should renew, less than 30 days before certificate expiry 2018-12-11 03:38:05 UTC.\r\n2018-11-12 09:34:42,905:INFO:certbot.renewal:Cert is due for renewal, auto-renewing...\r\n2018-11-12 09:34:42,906:DEBUG:certbot.plugins.selection:Requested authenticator apache and installer apache\r\n2018-11-12 09:34:43,401:DEBUG:certbot_apache.configurator:Apache version is 2.4.18\r\n2018-11-12 09:34:55,454:DEBUG:certbot.plugins.selection:Single candidate plugin: * apache\r\nDescription: Apache Web Server plugin - Beta\r\nInterfaces: IAuthenticator, IInstaller, IPlugin\r\nEntry point: apache = certbot_apache.entrypoint:ENTRYPOINT\r\nInitialized: <certbot_apache.override_debian.DebianConfigurator object at 0x7fa25062d390>\r\nPrep: True\r\n2018-11-12 09:34:55,458:DEBUG:certbot.plugins.selection:Single candidate plugin: * apache\r\nDescription: Apache Web Server plugin - Beta\r\nInterfaces: IAuthenticator, IInstaller, IPlugin\r\nEntry point: apache = certbot_apache.entrypoint:ENTRYPOINT\r\nInitialized: <certbot_apache.override_debian.DebianConfigurator object at 0x7fa25062d390>\r\nPrep: True\r\n2018-11-12 09:34:55,458:DEBUG:certbot.plugins.selection:Selected authenticator <certbot_apache.override_debian.DebianConfigurator object at 0x7fa25062d390> and installer <certbot_apache.override_debian.DebianConfigurator object at 0x7fa25062d390>\r\n2018-11-12 09:34:55,458:INFO:certbot.plugins.selection:Plugins selected: Authenticator apache, Installer apache\r\n2018-11-12 09:34:55,464:DEBUG:certbot.main:Picked account: <Account(RegistrationResource(body=Registration(status=None, terms_of_service_agreed=None, agreement=u'https://letsencrypt.org/documents/LE-SA-v1.0.1-July-27-2015.pdf', only_return_existing=None, contact=(u'mailto:webmaster@x-net.at',), key=JWKRSA(key=<ComparableRSAKey(<cryptography.hazmat.backends.openssl.rsa._RSAPublicKey object at 0x7fa24d2c3610>)>)), uri=u'https://acme-v01.api.letsencrypt.org/acme/reg/1860575', new_authzr_uri=u'https://acme-v01.api.letsencrypt.org/acme/new-authz', terms_of_service=u'https://letsencrypt.org/documents/LE-SA-v1.0.1-July-27-2015.pdf'), b08a91702ce6faba002c0ea55e96f023, Meta(creation_host=u'myserver.internal.local', creation_dt=datetime.datetime(2016, 5, 24, 13, 15, 59, tzinfo=<UTC>)))>\r\n2018-11-12 09:34:55,467:DEBUG:acme.client:Sending GET request to https://acme-v02.api.letsencrypt.org/directory.\r\n2018-11-12 09:34:55,473:DEBUG:requests.packages.urllib3.connectionpool:Starting new HTTPS connection (1): acme-v02.api.letsencrypt.org\r\n2018-11-12 09:34:55,732:DEBUG:requests.packages.urllib3.connectionpool:https://acme-v02.api.letsencrypt.org:443 \"GET /directory HTTP/1.1\" 200 658\r\n2018-11-12 09:34:55,735:DEBUG:acme.client:Received response:\r\nHTTP 200\r\nServer: nginx\r\nContent-Type: application/json\r\nContent-Length: 658\r\nX-Frame-Options: DENY\r\nStrict-Transport-Security: max-age=604800\r\nExpires: Mon, 12 Nov 2018 08:34:55 GMT\r\nCache-Control: max-age=0, no-cache, no-store\r\nPragma: no-cache\r\nDate: Mon, 12 Nov 2018 08:34:55 GMT\r\nConnection: keep-alive\r\n\r\n{\r\n  \"2DfrFyrq7GA\": \"https://community.letsencrypt.org/t/adding-random-entries-to-the-directory/33417\",\r\n  \"keyChange\": \"https://acme-v02.api.letsencrypt.org/acme/key-change\",\r\n  \"meta\": {\r\n    \"caaIdentities\": [\r\n      \"letsencrypt.org\"\r\n    ],\r\n    \"termsOfService\": \"https://letsencrypt.org/documents/LE-SA-v1.2-November-15-2017.pdf\",\r\n    \"website\": \"https://letsencrypt.org\"\r\n  },\r\n  \"newAccount\": \"https://acme-v02.api.letsencrypt.org/acme/new-acct\",\r\n  \"newNonce\": \"https://acme-v02.api.letsencrypt.org/acme/new-nonce\",\r\n  \"newOrder\": \"https://acme-v02.api.letsencrypt.org/acme/new-order\",\r\n  \"revokeCert\": \"https://acme-v02.api.letsencrypt.org/acme/revoke-cert\"\r\n}\r\n2018-11-12 09:34:55,736:INFO:certbot.main:Renewing an existing certificate\r\n2018-11-12 09:34:55,943:DEBUG:certbot.crypto_util:Generating key (2048 bits): /etc/letsencrypt/keys/0443_key-certbot.pem\r\n2018-11-12 09:34:55,949:DEBUG:certbot.crypto_util:Creating CSR: /etc/letsencrypt/csr/0443_csr-certbot.pem\r\n2018-11-12 09:34:55,950:DEBUG:acme.client:Requesting fresh nonce\r\n2018-11-12 09:34:55,950:DEBUG:acme.client:Sending HEAD request to https://acme-v02.api.letsencrypt.org/acme/new-nonce.\r\n2018-11-12 09:34:56,159:DEBUG:requests.packages.urllib3.connectionpool:https://acme-v02.api.letsencrypt.org:443 \"HEAD /acme/new-nonce HTTP/1.1\" 204 0\r\n2018-11-12 09:34:56,161:DEBUG:acme.client:Received response:\r\nHTTP 204\r\nServer: nginx\r\nReplay-Nonce: iN-qTFMnukQ4l3Fl9A0QARnv8V5h4Hx6uXloO2kGucE\r\nX-Frame-Options: DENY\r\nStrict-Transport-Security: max-age=604800\r\nExpires: Mon, 12 Nov 2018 08:34:56 GMT\r\nCache-Control: max-age=0, no-cache, no-store\r\nPragma: no-cache\r\nDate: Mon, 12 Nov 2018 08:34:56 GMT\r\nConnection: keep-alive\r\n\r\n\r\n2018-11-12 09:34:56,161:DEBUG:acme.client:Storing nonce: iN-qTFMnukQ4l3Fl9A0QARnv8V5h4Hx6uXloO2kGucE\r\n2018-11-12 09:34:56,163:DEBUG:acme.client:JWS payload:\r\n{\r\n  \"identifiers\": [\r\n    {\r\n      \"type\": \"dns\", \r\n      \"value\": \"mydomain.com\"\r\n    }, \r\n    {\r\n      \"type\": \"dns\", \r\n      \"value\": \"www.mydomain.com\"\r\n    }\r\n  ]\r\n}\r\n2018-11-12 09:34:56,169:DEBUG:acme.client:Sending POST request to https://acme-v02.api.letsencrypt.org/acme/new-order:\r\n{\r\n  \"protected\": \"eyJub25jZSI6ICJpTi1xVEZNbnVrUTRsM0ZsOUEwUUFSbnY4VjVoNEh4NnVYbG9PMmtHdWNFIiwgInVybCI6ICJodHRwczovL2FjbWUtdjAyLmFwaS5sZXRzZW5jcnlwdC5vcmcvYWNtZS9uZXctb3JkZXIiLCAia2lkIjogImh0dHBzOi8vYWNtZS12MDEuYXBpLmxldHNlbmNyeXB0Lm9yZy9hY21lL3JlZy8xODYwNTc1IiwgImFsZyI6ICJSUzI1NiJ9\", \r\n  \"payload\": \"ewogICJpZGVudGlmaWVycyI6IFsKICAgIHsKICAgICAgInR5cGUiOiAiZG5zIiwgCiAgICAgICJ2YWx1ZSI6ICJyZWNodHNhbndhbHQtc2Nob2VwcGwuYXQiCiAgICB9LCAKICAgIHsKICAgICAgInR5cGUiOiAiZG5zIiwgCiAgICAgICJ2YWx1ZSI6ICJ3d3cucmVjaHRzYW53YWx0LXNjaG9lcHBsLmF0IgogICAgfQogIF0KfQ\", \r\n  \"signature\": \"RrUIVG9oBQgO7CZDixv5p0s15FQA4HB9ImigIMFNojV7tSUtcok15qRiV3OF0nhuyb0OGBYEO0yjWVHp3NRdxQhQnkIbCAVlBmf5TaYgDbXBWY05FLdeb2sb27kJuCqMozfY0SOpSGxwUNrcKt4pSBkPow4lhHwX4W-z6ZNuohFT0NZ6_iY_8oeixfqIbhDFavWvuGHuRmE9Yy2QFr5DxcIpmEy2YRn2fPvXZxL5u5A7UTEmaAtdaIoG22PYpls8HgxHjdtmjDCzoR4TMhdCA9i7gySvi-xSsTVH_D08xKPOGn-ScxhlnPvqgqXIzlgAhVCtmvX1qPujpp7m24kimQ\"\r\n}\r\n2018-11-12 09:34:56,369:DEBUG:requests.packages.urllib3.connectionpool:https://acme-v02.api.letsencrypt.org:443 \"POST /acme/new-order HTTP/1.1\" 201 551\r\n2018-11-12 09:34:56,370:DEBUG:acme.client:Received response:\r\nHTTP 201\r\nServer: nginx\r\nContent-Type: application/json\r\nContent-Length: 551\r\nBoulder-Requester: 1860575\r\nLocation: https://acme-v02.api.letsencrypt.org/acme/order/1860575/167778100\r\nReplay-Nonce: zpedpb29h84M7hy1kiRLZM-SSJKE-_3x_4rYqDKXhBc\r\nX-Frame-Options: DENY\r\nStrict-Transport-Security: max-age=604800\r\nExpires: Mon, 12 Nov 2018 08:34:56 GMT\r\nCache-Control: max-age=0, no-cache, no-store\r\nPragma: no-cache\r\nDate: Mon, 12 Nov 2018 08:34:56 GMT\r\nConnection: keep-alive\r\n\r\n{\r\n  \"status\": \"pending\",\r\n  \"expires\": \"2018-11-18T05:41:59Z\",\r\n  \"identifiers\": [\r\n    {\r\n      \"type\": \"dns\",\r\n      \"value\": \"mydomain.com\"\r\n    },\r\n    {\r\n      \"type\": \"dns\",\r\n      \"value\": \"www.mydomain.com\"\r\n    }\r\n  ],\r\n  \"authorizations\": [\r\n    \"https://acme-v02.api.letsencrypt.org/acme/authz/qUhjUoBCfvXIc4Z67nJtdjUiuRC8VORUA8Gx0mm68sw\",\r\n    \"https://acme-v02.api.letsencrypt.org/acme/authz/XOfKMMMjMlD1Ki5L0BxiKAY3FTWPeamFI7kWS033Vls\"\r\n  ],\r\n  \"finalize\": \"https://acme-v02.api.letsencrypt.org/acme/finalize/1860575/167778100\"\r\n}\r\n2018-11-12 09:34:56,371:DEBUG:acme.client:Storing nonce: zpedpb29h84M7hy1kiRLZM-SSJKE-_3x_4rYqDKXhBc\r\n2018-11-12 09:34:56,372:DEBUG:acme.client:Sending GET request to https://acme-v02.api.letsencrypt.org/acme/authz/qUhjUoBCfvXIc4Z67nJtdjUiuRC8VORUA8Gx0mm68sw.\r\n2018-11-12 09:34:56,571:DEBUG:requests.packages.urllib3.connectionpool:https://acme-v02.api.letsencrypt.org:443 \"GET /acme/authz/qUhjUoBCfvXIc4Z67nJtdjUiuRC8VORUA8Gx0mm68sw HTTP/1.1\" 200 1172\r\n2018-11-12 09:34:56,573:DEBUG:acme.client:Received response:\r\nHTTP 200\r\nServer: nginx\r\nContent-Type: application/json\r\nContent-Length: 1172\r\nX-Frame-Options: DENY\r\nStrict-Transport-Security: max-age=604800\r\nExpires: Mon, 12 Nov 2018 08:34:56 GMT\r\nCache-Control: max-age=0, no-cache, no-store\r\nPragma: no-cache\r\nDate: Mon, 12 Nov 2018 08:34:56 GMT\r\nConnection: keep-alive\r\n\r\n{\r\n  \"identifier\": {\r\n    \"type\": \"dns\",\r\n    \"value\": \"www.mydomain.com\"\r\n  },\r\n  \"status\": \"pending\",\r\n  \"expires\": \"2018-11-18T05:41:59Z\",\r\n  \"challenges\": [\r\n    {\r\n      \"type\": \"tls-alpn-01\",\r\n      \"status\": \"pending\",\r\n      \"url\": \"https://acme-v02.api.letsencrypt.org/acme/challenge/qUhjUoBCfvXIc4Z67nJtdjUiuRC8VORUA8Gx0mm68sw/9174770220\",\r\n      \"token\": \"w9TJinPXe7FvQ0ysL-vgsNTdWHFcqBdBXioVqiTyOo0\"\r\n    },\r\n    {\r\n      \"type\": \"tls-sni-01\",\r\n      \"status\": \"pending\",\r\n      \"url\": \"https://acme-v02.api.letsencrypt.org/acme/challenge/qUhjUoBCfvXIc4Z67nJtdjUiuRC8VORUA8Gx0mm68sw/9174770221\",\r\n      \"token\": \"8Uq_muzxsXb6wYspBeBPb5jlvyzNbMlCDsid522Mowc\"\r\n    },\r\n    {\r\n      \"type\": \"http-01\",\r\n      \"status\": \"pending\",\r\n      \"url\": \"https://acme-v02.api.letsencrypt.org/acme/challenge/qUhjUoBCfvXIc4Z67nJtdjUiuRC8VORUA8Gx0mm68sw/9174770222\",\r\n      \"token\": \"9JeIpbNhAy3SdE8xOuWe_mDVsR60f83OsiX6hcn-mBo\"\r\n    },\r\n    {\r\n      \"type\": \"dns-01\",\r\n      \"status\": \"pending\",\r\n      \"url\": \"https://acme-v02.api.letsencrypt.org/acme/challenge/qUhjUoBCfvXIc4Z67nJtdjUiuRC8VORUA8Gx0mm68sw/9174770223\",\r\n      \"token\": \"5ZZS1iZ3JQrpUdrkwEVL_kfQYY5KUBfLmIFbgjEIY_0\"\r\n    }\r\n  ]\r\n}\r\n2018-11-12 09:34:56,575:DEBUG:acme.client:Sending GET request to https://acme-v02.api.letsencrypt.org/acme/authz/XOfKMMMjMlD1Ki5L0BxiKAY3FTWPeamFI7kWS033Vls.\r\n2018-11-12 09:34:56,762:DEBUG:requests.packages.urllib3.connectionpool:https://acme-v02.api.letsencrypt.org:443 \"GET /acme/authz/XOfKMMMjMlD1Ki5L0BxiKAY3FTWPeamFI7kWS033Vls HTTP/1.1\" 200 1168\r\n2018-11-12 09:34:56,764:DEBUG:acme.client:Received response:\r\nHTTP 200\r\nServer: nginx\r\nContent-Type: application/json\r\nContent-Length: 1168\r\nX-Frame-Options: DENY\r\nStrict-Transport-Security: max-age=604800\r\nExpires: Mon, 12 Nov 2018 08:34:56 GMT\r\nCache-Control: max-age=0, no-cache, no-store\r\nPragma: no-cache\r\nDate: Mon, 12 Nov 2018 08:34:56 GMT\r\nConnection: keep-alive\r\n\r\n{\r\n  \"identifier\": {\r\n    \"type\": \"dns\",\r\n    \"value\": \"mydomain.com\"\r\n  },\r\n  \"status\": \"pending\",\r\n  \"expires\": \"2018-11-18T05:41:59Z\",\r\n  \"challenges\": [\r\n    {\r\n      \"type\": \"tls-sni-01\",\r\n      \"status\": \"pending\",\r\n      \"url\": \"https://acme-v02.api.letsencrypt.org/acme/challenge/XOfKMMMjMlD1Ki5L0BxiKAY3FTWPeamFI7kWS033Vls/9174770216\",\r\n      \"token\": \"3IlVKFr7SFgiMJVbEQQDD3szqMH1VcDHMCQey3qXBlw\"\r\n    },\r\n    {\r\n      \"type\": \"http-01\",\r\n      \"status\": \"pending\",\r\n      \"url\": \"https://acme-v02.api.letsencrypt.org/acme/challenge/XOfKMMMjMlD1Ki5L0BxiKAY3FTWPeamFI7kWS033Vls/9174770217\",\r\n      \"token\": \"37WIP5volojDHY5FZi6g0FweDajnzZk5oZohp1mv6xM\"\r\n    },\r\n    {\r\n      \"type\": \"dns-01\",\r\n      \"status\": \"pending\",\r\n      \"url\": \"https://acme-v02.api.letsencrypt.org/acme/challenge/XOfKMMMjMlD1Ki5L0BxiKAY3FTWPeamFI7kWS033Vls/9174770218\",\r\n      \"token\": \"6EayipnY2bIKyVDLTu-9aP9jas2Z6tlgOLxES6I5whY\"\r\n    },\r\n    {\r\n      \"type\": \"tls-alpn-01\",\r\n      \"status\": \"pending\",\r\n      \"url\": \"https://acme-v02.api.letsencrypt.org/acme/challenge/XOfKMMMjMlD1Ki5L0BxiKAY3FTWPeamFI7kWS033Vls/9174770219\",\r\n      \"token\": \"FXJRgg5cC3ykO7xaZ6e-XPrvC7zB2IyZen7LrfGomwc\"\r\n    }\r\n  ]\r\n}\r\n2018-11-12 09:34:56,765:INFO:certbot.auth_handler:Performing the following challenges:\r\n2018-11-12 09:34:56,766:INFO:certbot.auth_handler:http-01 challenge for www.mydomain.com\r\n2018-11-12 09:34:56,767:INFO:certbot.auth_handler:http-01 challenge for mydomain.com\r\n2018-11-12 09:34:57,839:DEBUG:certbot_apache.http_01:Adding a temporary challenge validation Include for name: mydomain.com:80 in: /etc/apache2/sites-available/mydomain.com.conf\r\n2018-11-12 09:34:57,866:DEBUG:certbot_apache.http_01:writing a pre config file with text:\r\n         RewriteEngine on\r\n        RewriteRule ^/\\.well-known/acme-challenge/([A-Za-z0-9-_=]+)$ /var/lib/letsencrypt/http_challenges/$1 [END]\r\n    \r\n2018-11-12 09:34:57,866:DEBUG:certbot_apache.http_01:writing a post config file with text:\r\n         <Directory /var/lib/letsencrypt/http_challenges>\r\n            Require all granted\r\n        </Directory>\r\n        <Location /.well-known/acme-challenge>\r\n            Require all granted\r\n        </Location>\r\n    \r\n2018-11-12 09:34:57,905:DEBUG:certbot.reverter:Creating backup of /etc/apache2/sites-available/mydomain.com.conf\r\n2018-11-12 09:34:57,906:DEBUG:certbot.reverter:Creating backup of /etc/apache2/apache2.conf\r\n2018-11-12 09:34:58,738:ERROR:certbot.util:Error while running apache2ctl configtest.\r\nAction 'configtest' failed.\r\nThe Apache error log may have more information.\r\n\r\nAH00526: Syntax error on line 46 of /etc/apache2/sites-available/mydomain.com.conf:\r\nFastCgiExternalServer: redefinition of previously defined class \"/var/www/mydomain.com/cgi-bin/php-fpm-fcgi-mydomain.com\"\r\n\r\n2018-11-12 09:34:58,746:DEBUG:certbot.error_handler:Encountered exception:\r\nTraceback (most recent call last):\r\n  File \"/opt/eff.org/certbot/venv/local/lib/python2.7/site-packages/certbot/auth_handler.py\", line 75, in handle_authorizations\r\n    resp = self._solve_challenges(aauthzrs)\r\n  File \"/opt/eff.org/certbot/venv/local/lib/python2.7/site-packages/certbot/auth_handler.py\", line 132, in _solve_challenges\r\n    resp = self.auth.perform(all_achalls)\r\n  File \"/opt/eff.org/certbot/venv/local/lib/python2.7/site-packages/certbot_apache/configurator.py\", line 2286, in perform\r\n    self.restart()\r\n  File \"/opt/eff.org/certbot/venv/local/lib/python2.7/site-packages/certbot_apache/configurator.py\", line 2173, in restart\r\n    self.config_test()\r\n  File \"/opt/eff.org/certbot/venv/local/lib/python2.7/site-packages/certbot_apache/configurator.py\", line 2213, in config_test\r\n    raise errors.MisconfigurationError(str(err))\r\nMisconfigurationError: Error while running apache2ctl configtest.\r\nAction 'configtest' failed.\r\nThe Apache error log may have more information.\r\n\r\nAH00526: Syntax error on line 46 of /etc/apache2/sites-available/mydomain.com.conf:\r\nFastCgiExternalServer: redefinition of previously defined class \"/var/www/mydomain.com/cgi-bin/php-fpm-fcgi-mydomain.com\"\r\n\r\n\r\n2018-11-12 09:34:58,747:DEBUG:certbot.error_handler:Calling registered functions\r\n2018-11-12 09:34:58,748:INFO:certbot.auth_handler:Cleaning up challenges\r\n2018-11-12 09:35:01,111:WARNING:certbot.renewal:Attempting to renew cert (mydomain.com) from /etc/letsencrypt/renewal/mydomain.com.conf produced an unexpected error: Error while running apache2ctl configtest.\r\nAction 'configtest' failed.\r\nThe Apache error log may have more information.\r\n\r\nAH00526: Syntax error on line 46 of /etc/apache2/sites-available/mydomain.com.conf:\r\nFastCgiExternalServer: redefinition of previously defined class \"/var/www/mydomain.com/cgi-bin/php-fpm-fcgi-mydomain.com\"\r\n. Skipping.\r\n2018-11-12 09:35:01,116:DEBUG:certbot.renewal:Traceback was:\r\nTraceback (most recent call last):\r\n  File \"/opt/eff.org/certbot/venv/local/lib/python2.7/site-packages/certbot/renewal.py\", line 430, in handle_renewal_request\r\n    main.renew_cert(lineage_config, plugins, renewal_candidate)\r\n  File \"/opt/eff.org/certbot/venv/local/lib/python2.7/site-packages/certbot/main.py\", line 1168, in renew_cert\r\n    renewed_lineage = _get_and_save_cert(le_client, config, lineage=lineage)\r\n  File \"/opt/eff.org/certbot/venv/local/lib/python2.7/site-packages/certbot/main.py\", line 116, in _get_and_save_cert\r\n    renewal.renew_cert(config, domains, le_client, lineage)\r\n  File \"/opt/eff.org/certbot/venv/local/lib/python2.7/site-packages/certbot/renewal.py\", line 305, in renew_cert\r\n    new_cert, new_chain, new_key, _ = le_client.obtain_certificate(domains, new_key)\r\n  File \"/opt/eff.org/certbot/venv/local/lib/python2.7/site-packages/certbot/client.py\", line 335, in obtain_certificate\r\n    orderr = self._get_order_and_authorizations(csr.data, self.config.allow_subset_of_names)\r\n  File \"/opt/eff.org/certbot/venv/local/lib/python2.7/site-packages/certbot/client.py\", line 371, in _get_order_and_authorizations\r\n    authzr = self.auth_handler.handle_authorizations(orderr, best_effort)\r\n  File \"/opt/eff.org/certbot/venv/local/lib/python2.7/site-packages/certbot/auth_handler.py\", line 75, in handle_authorizations\r\n    resp = self._solve_challenges(aauthzrs)\r\n  File \"/opt/eff.org/certbot/venv/local/lib/python2.7/site-packages/certbot/auth_handler.py\", line 132, in _solve_challenges\r\n    resp = self.auth.perform(all_achalls)\r\n  File \"/opt/eff.org/certbot/venv/local/lib/python2.7/site-packages/certbot_apache/configurator.py\", line 2286, in perform\r\n    self.restart()\r\n  File \"/opt/eff.org/certbot/venv/local/lib/python2.7/site-packages/certbot_apache/configurator.py\", line 2173, in restart\r\n    self.config_test()\r\n  File \"/opt/eff.org/certbot/venv/local/lib/python2.7/site-packages/certbot_apache/configurator.py\", line 2213, in config_test\r\n    raise errors.MisconfigurationError(str(err))\r\nMisconfigurationError: Error while running apache2ctl configtest.\r\nAction 'configtest' failed.\r\nThe Apache error log may have more information.\r\n\r\nAH00526: Syntax error on line 46 of /etc/apache2/sites-available/mydomain.com.conf:\r\nFastCgiExternalServer: redefinition of previously defined class \"/var/www/mydomain.com/cgi-bin/php-fpm-fcgi-mydomain.com\"\r\n\r\n\r\n2018-11-12 09:35:01,118:ERROR:certbot.renewal:All renewal attempts failed. The following certs could not be renewed:\r\n2018-11-12 09:35:01,118:ERROR:certbot.renewal:  /etc/letsencrypt/live/mydomain.com/fullchain.pem (failure)\r\n2018-11-12 09:35:01,144:DEBUG:certbot.log:Exiting abnormally:\r\nTraceback (most recent call last):\r\n  File \"/opt/eff.org/certbot/venv/bin/letsencrypt\", line 11, in <module>\r\n    sys.exit(main())\r\n  File \"/opt/eff.org/certbot/venv/local/lib/python2.7/site-packages/certbot/main.py\", line 1340, in main\r\n    return config.func(config, plugins)\r\n  File \"/opt/eff.org/certbot/venv/local/lib/python2.7/site-packages/certbot/main.py\", line 1247, in renew\r\n    renewal.handle_renewal_request(config)\r\n  File \"/opt/eff.org/certbot/venv/local/lib/python2.7/site-packages/certbot/renewal.py\", line 455, in handle_renewal_request\r\n    len(renew_failures), len(parse_failures)))\r\nError: 1 renew failure(s), 0 parse failure(s)\r\n```\r\n\r\n## Here is the relevant nginx server block or Apache virtualhost for the domain I am configuring:\r\n```\r\n<VirtualHost *:80>\r\n\tServerName   mydomain.com:80\r\n\r\n\tUseCanonicalName Off\r\n\tServerAdmin  \"office@mydomain.com\"\r\n\tDocumentRoot /var/www/mydomain.com/httpdocs\r\n\tCustomLog /var/log/apache2/mydomain.com_access.log combined\r\n\tErrorLog /var/log/apache2/mydomain.com_error.log\r\n\r\n\t# use mod fastcgi -> proxy:fcgi makes some problems\r\n\t<IfModule mod_fastcgi.c>\r\n\t\t# Set virtual handler for fpm functions\r\n\t\t<LocationMatch \"^/(fpm-ping|fpm-status)$\">\r\n\t\t\t# Change the requre line to your needs if you need the functions\r\n\t\t\tRequire all denied\r\n\t\t\tSetHandler php-fpm-fcgi-virt\r\n\t\t\tAction php-fpm-fcgi-virt /php-fpm-fcgi virtual\r\n\t\t</LocationMatch>\r\n\t\t# Set handler for *.php, *.php7, *.phtml, ... files\r\n\t\t<FilesMatch \".+\\.ph(p[3457]?|t|tml)$\">\r\n\t\t\tSetHandler php-fpm-fcgi\r\n\t\t</FilesMatch>\r\n\t\t<FilesMatch \".+\\.phps$\">\r\n\t\t\t# Deny access to raw php sources by default\r\n\t\t\t# To re-enable it's recommended to enable access to the files\r\n\t\t\t# only in specific virtual host or directory\r\n\t\t\tRequire all denied\r\n\t\t</FilesMatch>\r\n\t\t# Deny access to files without filename (e.g. '.php')\r\n\t\t<FilesMatch \"^\\.ph(p[3457]?|t|tml|ps)$\">\r\n\t\t\tRequire all denied\r\n\t\t</FilesMatch>\r\n\r\n\t\tAction php-fpm-fcgi /php-fpm-fcgi\r\n\t\tAlias /php-fpm-fcgi /var/www/mydomain.com/cgi-bin/php-fpm-fcgi-mydomain.com\r\n\t\tFastCgiExternalServer /var/www/mydomain.com/cgi-bin/php-fpm-fcgi-mydomain.com -idle-timeout 300 -socket /run/php/php7-fpm.mydomain.com.sock -pass-header Authorization\r\n\r\n\t\t<Directory \"/var/www/mydomain.com/cgi-bin\">\r\n\t\t\tRequire all granted\r\n\t\t</Directory>\r\n\t</IfModule>\r\n\r\n\t<Directory /var/www/mydomain.com/httpdocs>\r\n\t\tOptions -Indexes\r\n\t\tRequire all granted\r\n\t\tAllowOverride All\r\n\t</Directory>\r\n</VirtualHost>\r\n```\r\n\r\n## Additional information\r\nI'm not sure what certbot is doing here.\r\nIf I do an \"apache2ctl configtest\" I get \"Syntax OK\" back.\r\nI asume certbot creates an duplicate configuration file or it uses \"apache2ctl configtest\" in a special way.\r\nThe error:\r\n`Syntax error on line 46 of /etc/apache2/`**sites-available**`/mydomain.com.conf`\r\nThis seems wrong to me if I do the configtest it only checks the \"**sites-enabled**\" folder.\r\n\r\nMy current workaround is to disable the line -> renew -> enable the line.\r\nFor some configs I can disable the line entirely because there is always a redirect to https, but sadly this is not always possible.", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/6495/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/6495/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/6425", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/6425/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/6425/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/6425/events", "html_url": "https://github.com/certbot/certbot/issues/6425", "id": 371955754, "node_id": "MDU6SXNzdWUzNzE5NTU3NTQ=", "number": 6425, "title": "Certbot renew command (using the nginx plugin) causes nginx to fail", "user": {"login": "ionutzp", "id": 35560, "node_id": "MDQ6VXNlcjM1NTYw", "avatar_url": "https://avatars.githubusercontent.com/u/35560?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ionutzp", "html_url": "https://github.com/ionutzp", "followers_url": "https://api.github.com/users/ionutzp/followers", "following_url": "https://api.github.com/users/ionutzp/following{/other_user}", "gists_url": "https://api.github.com/users/ionutzp/gists{/gist_id}", "starred_url": "https://api.github.com/users/ionutzp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ionutzp/subscriptions", "organizations_url": "https://api.github.com/users/ionutzp/orgs", "repos_url": "https://api.github.com/users/ionutzp/repos", "events_url": "https://api.github.com/users/ionutzp/events{/privacy}", "received_events_url": "https://api.github.com/users/ionutzp/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 146954788, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODg=", "url": "https://api.github.com/repos/certbot/certbot/labels/duplicate", "name": "duplicate", "color": "a6a6a6", "default": true, "description": null}, {"id": 258836706, "node_id": "MDU6TGFiZWwyNTg4MzY3MDY=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20nginx", "name": "area: nginx", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-10-19T13:22:57Z", "updated_at": "2018-11-05T22:58:44Z", "closed_at": "2018-11-05T22:58:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "Certbot renew command (using the nginx plugin) \r\n\r\n`sudo certbot renew --dry-run` \r\n\r\nproduces this error:\r\n\r\n`nginx: [error] open() \"/run/nginx.pid\" failed`\r\n\r\nResulting in spawning a rogue nginx process which needs to be killed manually and nginx needs to be started manually `service nginx start`\r\n\r\nIt looks like it runs the prehook from the configs in `/etc/letsencrypt/renewal` which stops nginx but still expects to read `/run/nginx.pid`\r\n\r\n```\r\nnginx version: nginx/1.14.0\r\nubuntu 16.04\r\ncertbot 0.26.1\r\n```", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/6425/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/6425/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/6404", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/6404/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/6404/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/6404/events", "html_url": "https://github.com/certbot/certbot/issues/6404", "id": 366052359, "node_id": "MDU6SXNzdWUzNjYwNTIzNTk=", "number": 6404, "title": "Apache plugin HTTP-01 challenge failure on Fedora", "user": {"login": "sydneyli", "id": 1813285, "node_id": "MDQ6VXNlcjE4MTMyODU=", "avatar_url": "https://avatars.githubusercontent.com/u/1813285?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sydneyli", "html_url": "https://github.com/sydneyli", "followers_url": "https://api.github.com/users/sydneyli/followers", "following_url": "https://api.github.com/users/sydneyli/following{/other_user}", "gists_url": "https://api.github.com/users/sydneyli/gists{/gist_id}", "starred_url": "https://api.github.com/users/sydneyli/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sydneyli/subscriptions", "organizations_url": "https://api.github.com/users/sydneyli/orgs", "repos_url": "https://api.github.com/users/sydneyli/repos", "events_url": "https://api.github.com/users/sydneyli/events{/privacy}", "received_events_url": "https://api.github.com/users/sydneyli/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 239432238, "node_id": "MDU6TGFiZWwyMzk0MzIyMzg=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20fedora%20/%20redhat%20/%20CentOS", "name": "area: fedora / redhat / CentOS", "color": "c5def5", "default": false, "description": null}, {"id": 258836903, "node_id": "MDU6TGFiZWwyNTg4MzY5MDM=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20apache", "name": "area: apache", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-10-02T19:47:31Z", "updated_at": "2018-10-02T19:52:13Z", "closed_at": "2018-10-02T19:52:13Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "As reported [here](https://community.letsencrypt.org/t/how-to-force-certbot-to-use-domain-name-not-nameserver/73675).", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/6404/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/6404/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/6381", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/6381/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/6381/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/6381/events", "html_url": "https://github.com/certbot/certbot/pull/6381", "id": 361098942, "node_id": "MDExOlB1bGxSZXF1ZXN0MjE2MTU2NDY5", "number": 6381, "title": "Update parser to match new Nginx functionality", "user": {"login": "ohemorange", "id": 1227205, "node_id": "MDQ6VXNlcjEyMjcyMDU=", "avatar_url": "https://avatars.githubusercontent.com/u/1227205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ohemorange", "html_url": "https://github.com/ohemorange", "followers_url": "https://api.github.com/users/ohemorange/followers", "following_url": "https://api.github.com/users/ohemorange/following{/other_user}", "gists_url": "https://api.github.com/users/ohemorange/gists{/gist_id}", "starred_url": "https://api.github.com/users/ohemorange/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ohemorange/subscriptions", "organizations_url": "https://api.github.com/users/ohemorange/orgs", "repos_url": "https://api.github.com/users/ohemorange/repos", "events_url": "https://api.github.com/users/ohemorange/events{/privacy}", "received_events_url": "https://api.github.com/users/ohemorange/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 258836706, "node_id": "MDU6TGFiZWwyNTg4MzY3MDY=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20nginx", "name": "area: nginx", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "schoen", "id": 1750103, "node_id": "MDQ6VXNlcjE3NTAxMDM=", "avatar_url": "https://avatars.githubusercontent.com/u/1750103?v=4", "gravatar_id": "", "url": "https://api.github.com/users/schoen", "html_url": "https://github.com/schoen", "followers_url": "https://api.github.com/users/schoen/followers", "following_url": "https://api.github.com/users/schoen/following{/other_user}", "gists_url": "https://api.github.com/users/schoen/gists{/gist_id}", "starred_url": "https://api.github.com/users/schoen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/schoen/subscriptions", "organizations_url": "https://api.github.com/users/schoen/orgs", "repos_url": "https://api.github.com/users/schoen/repos", "events_url": "https://api.github.com/users/schoen/events{/privacy}", "received_events_url": "https://api.github.com/users/schoen/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "schoen", "id": 1750103, "node_id": "MDQ6VXNlcjE3NTAxMDM=", "avatar_url": "https://avatars.githubusercontent.com/u/1750103?v=4", "gravatar_id": "", "url": "https://api.github.com/users/schoen", "html_url": "https://github.com/schoen", "followers_url": "https://api.github.com/users/schoen/followers", "following_url": "https://api.github.com/users/schoen/following{/other_user}", "gists_url": "https://api.github.com/users/schoen/gists{/gist_id}", "starred_url": "https://api.github.com/users/schoen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/schoen/subscriptions", "organizations_url": "https://api.github.com/users/schoen/orgs", "repos_url": "https://api.github.com/users/schoen/repos", "events_url": "https://api.github.com/users/schoen/events{/privacy}", "received_events_url": "https://api.github.com/users/schoen/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/59", "html_url": "https://github.com/certbot/certbot/milestone/59", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/59/labels", "id": 3627005, "node_id": "MDk6TWlsZXN0b25lMzYyNzAwNQ==", "number": 59, "title": "0.28.0", "description": "", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 24, "state": "closed", "created_at": "2018-09-06T01:05:42Z", "updated_at": "2018-11-08T23:29:08Z", "due_on": "2018-10-03T07:00:00Z", "closed_at": "2018-11-08T23:29:08Z"}, "comments": 1, "created_at": "2018-09-18T01:11:47Z", "updated_at": "2018-09-18T20:22:52Z", "closed_at": "2018-09-18T19:52:12Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/certbot/certbot/pulls/6381", "html_url": "https://github.com/certbot/certbot/pull/6381", "diff_url": "https://github.com/certbot/certbot/pull/6381.diff", "patch_url": "https://github.com/certbot/certbot/pull/6381.patch", "merged_at": "2018-09-18T19:52:11Z"}, "body": "Be sure to edit the `master` section of `CHANGELOG.md` with a line describing this PR before it gets merged.\r\n\r\nFixes #6376.\r\n\r\nPreviously, `${` could not start a variable name. Now it's allowed to. This means we'll be more permissible than Nginx when people are on older versions of Nginx, but it's unlikely anyone was relying on this to fail in the first place, so that's probably ok.", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/6381/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/6381/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/certbot/certbot/issues/6376", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/6376/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/6376/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/6376/events", "html_url": "https://github.com/certbot/certbot/issues/6376", "id": 360466019, "node_id": "MDU6SXNzdWUzNjA0NjYwMTk=", "number": 6376, "title": "nginx parser confused by some unquoted substitutions in proxy_set_header directives", "user": {"login": "duglin", "id": 1944671, "node_id": "MDQ6VXNlcjE5NDQ2NzE=", "avatar_url": "https://avatars.githubusercontent.com/u/1944671?v=4", "gravatar_id": "", "url": "https://api.github.com/users/duglin", "html_url": "https://github.com/duglin", "followers_url": "https://api.github.com/users/duglin/followers", "following_url": "https://api.github.com/users/duglin/following{/other_user}", "gists_url": "https://api.github.com/users/duglin/gists{/gist_id}", "starred_url": "https://api.github.com/users/duglin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/duglin/subscriptions", "organizations_url": "https://api.github.com/users/duglin/orgs", "repos_url": "https://api.github.com/users/duglin/repos", "events_url": "https://api.github.com/users/duglin/events{/privacy}", "received_events_url": "https://api.github.com/users/duglin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 258836706, "node_id": "MDU6TGFiZWwyNTg4MzY3MDY=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20nginx", "name": "area: nginx", "color": "c5def5", "default": false, "description": null}, {"id": 281347824, "node_id": "MDU6TGFiZWwyODEzNDc4MjQ=", "url": "https://api.github.com/repos/certbot/certbot/labels/has%20pr", "name": "has pr", "color": "0052cc", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "ohemorange", "id": 1227205, "node_id": "MDQ6VXNlcjEyMjcyMDU=", "avatar_url": "https://avatars.githubusercontent.com/u/1227205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ohemorange", "html_url": "https://github.com/ohemorange", "followers_url": "https://api.github.com/users/ohemorange/followers", "following_url": "https://api.github.com/users/ohemorange/following{/other_user}", "gists_url": "https://api.github.com/users/ohemorange/gists{/gist_id}", "starred_url": "https://api.github.com/users/ohemorange/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ohemorange/subscriptions", "organizations_url": "https://api.github.com/users/ohemorange/orgs", "repos_url": "https://api.github.com/users/ohemorange/repos", "events_url": "https://api.github.com/users/ohemorange/events{/privacy}", "received_events_url": "https://api.github.com/users/ohemorange/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ohemorange", "id": 1227205, "node_id": "MDQ6VXNlcjEyMjcyMDU=", "avatar_url": "https://avatars.githubusercontent.com/u/1227205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ohemorange", "html_url": "https://github.com/ohemorange", "followers_url": "https://api.github.com/users/ohemorange/followers", "following_url": "https://api.github.com/users/ohemorange/following{/other_user}", "gists_url": "https://api.github.com/users/ohemorange/gists{/gist_id}", "starred_url": "https://api.github.com/users/ohemorange/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ohemorange/subscriptions", "organizations_url": "https://api.github.com/users/ohemorange/orgs", "repos_url": "https://api.github.com/users/ohemorange/repos", "events_url": "https://api.github.com/users/ohemorange/events{/privacy}", "received_events_url": "https://api.github.com/users/ohemorange/received_events", "type": "User", "site_admin": false}, {"login": "schoen", "id": 1750103, "node_id": "MDQ6VXNlcjE3NTAxMDM=", "avatar_url": "https://avatars.githubusercontent.com/u/1750103?v=4", "gravatar_id": "", "url": "https://api.github.com/users/schoen", "html_url": "https://github.com/schoen", "followers_url": "https://api.github.com/users/schoen/followers", "following_url": "https://api.github.com/users/schoen/following{/other_user}", "gists_url": "https://api.github.com/users/schoen/gists{/gist_id}", "starred_url": "https://api.github.com/users/schoen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/schoen/subscriptions", "organizations_url": "https://api.github.com/users/schoen/orgs", "repos_url": "https://api.github.com/users/schoen/repos", "events_url": "https://api.github.com/users/schoen/events{/privacy}", "received_events_url": "https://api.github.com/users/schoen/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 11, "created_at": "2018-09-14T21:52:16Z", "updated_at": "2018-09-18T19:52:12Z", "closed_at": "2018-09-18T19:52:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "## My operating system is (include version):\r\nDebian GNU/Linux 9 (stretch)\r\n\r\n\r\n## I installed Certbot with (certbot-auto, OS package manager, pip, etc):\r\nwget https://dl.eff.org/certbot-auto\r\n\r\n\r\n## I ran this command and it produced this output:\r\nWhile trying to run `/certbot-auto renew --post-hook \"nginx -s reload\"`\r\nI get this error:\r\n```\r\nSaving debug log to /var/log/letsencrypt/letsencrypt.log\r\n\r\n- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\r\nProcessing /etc/letsencrypt/renewal/XXX.org.conf\r\n- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\r\nCert is due for renewal, auto-renewing...\r\nPlugins selected: Authenticator nginx, Installer nginx\r\nRenewing an existing certificate\r\nPerforming the following challenges:\r\ntls-sni-01 challenge for XXX.org\r\ntls-sni-01 challenge for www.XXX.org\r\nCleaning up challenges\r\n2018/09/14 21:45:38 [notice] 8286#8286: signal process started\r\nAttempting to renew cert (XXX.org) from /etc/letsencrypt/renewal/XXX.org.conf produced an unexpected error: Could not automatically find a matching server block for XXX.org. Set the `server_name` directive to use the Nginx installer.. Skipping.\r\nAll renewal attempts failed. The following certs could not be renewed:\r\n  /etc/letsencrypt/live/XXX/fullchain.pem (failure)\r\n\r\n- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\r\n\r\nAll renewal attempts failed. The following certs could not be renewed:\r\n  /etc/letsencrypt/live/XXX/fullchain.pem (failure)\r\n- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\r\nRunning post-hook command: nginx -s reload\r\nError output from nginx:\r\n2018/09/14 21:45:39 [notice] 8289#8289: signal process started\r\n\r\n1 renew failure(s), 0 parse failure(s)\r\n```\r\nI think the real error is shown in the debug log:\r\n```\r\n2018-09-14 21:45:37,250:DEBUG:certbot_nginx.parser:Could not parse file: /etc/ng\r\ninx/conf.d/default.conf due to Expected {Group:({[<SPC><TAB><CR><LF>] \"#\" rest o\r\nf line}) | Group:(Forward: ...) | Group:({[<SPC><TAB><CR><LF>] {Combine:({{quote\r\nd string, starting with \" ending with \" | quoted string, starting with ' ending \r\nwith '} \")\" [Re:('(\\\\$\\\\{)|[^{;\\\\s]')]...}) | Combine:({Re:('[^{};\\\\s\\'\\\\\"]') [R\r\ne:('(\\\\$\\\\{)|[^{;\\\\s]')]...}) | quoted string, starting with \" ending with \" | q\r\nuoted string, starting with ' ending with '} [{<SPC><TAB><CR><LF> {Combine:({{qu\r\noted string, starting with \" ending with \" | quoted string, starting with ' endi\r\nng with '} \")\" [Re:('(\\\\$\\\\{)|[^{;\\\\s]')]...}) | Combine:({Re:('[^{};\\\\s\\'\\\\\"]')\r\n [Re:('(\\\\$\\\\{)|[^{;\\\\s]')]...}) | quoted string, starting with \" ending with \" \r\n| quoted string, starting with ' ending with '}}]... [<SPC><TAB><CR><LF>] Suppre\r\nss:(\";\")})} (at char 2372), (line:77, col:1)\r\n```\r\n\r\nThe nginx config file is (masked):\r\n```\r\nserver {\r\n    listen       80 default_server;\r\n    listen  [::]:80 default_server;\r\n\r\n    server_name  XXX.org www.XXX.org;\r\n\r\n    listen       443 ssl http2 default_server;\r\n    listen  [::]:443 ssl http2 default_server;\r\n\r\n\tssl_certificate /etc/letsencrypt/live/XXX.org/fullchain.pem;\r\n\tssl_certificate_key /etc/letsencrypt/live/XXX.org/privkey.pem;\r\n\r\n\r\n    # from https://cipherli.st/\r\n    # and https://raymii.org/s/tutorials/Strong_SSL_Security_On_nginx.html\r\n\r\n    ssl_protocols TLSv1 TLSv1.1 TLSv1.2;\r\n    ssl_prefer_server_ciphers on;\r\n    ssl_ciphers \"XXX\";\r\n    ssl_ecdh_curve secp384r1;\r\n    ssl_session_cache shared:SSL:10m;\r\n    ssl_session_tickets off;\r\n    ssl_stapling on;\r\n    ssl_stapling_verify on;\r\n    resolver 8.8.8.8 8.8.4.4 valid=300s;\r\n    resolver_timeout 5s;\r\n    # Disable preloading HSTS for now.  You can use the commented out header line that includes\r\n    # the \"preload\" directive if you understand the implications.\r\n    #add_header Strict-Transport-Security \"max-age=63072000; includeSubdomains; preload\";\r\n    add_header Strict-Transport-Security \"max-age=63072000; includeSubdomains\";\r\n    # add_header X-Frame-Options SAMEORIGIN;\r\n    # add_header X-Content-Type-Options nosniff;\r\n\r\n    ssl_dhparam /etc/ssl/certs/dhparam.pem;\r\n\r\n    access_log  /var/log/nginx/log/host.access.log  main;\r\n\r\n    server_name_in_redirect off;\r\n\r\n    location /ddd {\r\n\t\treturn 302 $request_uri/;\r\n    }\r\n\r\n    location /ddd/ {\r\n\t\tproxy_pass       http://XXX:91/;\r\n\t\tproxy_set_header Host $http_host;\r\n\t\tproxy_set_header X-Origin-URI $uri;\r\n\t\tproxy_set_header Forwarded \"for=$remote_addr;proto=$scheme\";\r\n    }\r\n\r\n    location /ccc {\r\n\t\treturn 302 $request_uri/;\r\n    }\r\n\r\n    location /bbb/ {\r\n\t\tproxy_pass       http://XXX:90/;\r\n\t\tproxy_set_header Host $http_host;\r\n\t\tproxy_set_header X-Origin-URI $uri;\r\n\t\tproxy_set_header Forwarded \"for=$remote_addr;proto=$scheme\";\r\n    }\r\n\r\n    location /aaa/ {\r\n    \tproxy_pass       http://XXX:89/;\r\n\t\tproxy_set_header Host $http_host;\r\n\t\tproxy_set_header X-Origin-URI $uri;\r\n\t\tproxy_set_header Forwarded \"for=$remote_addr;proto=$scheme\";\r\n    }\r\n\r\n    location / {\r\n    \tproxy_pass\t http://XXX:88/;\r\n\t\tproxy_set_header Host $http_host;\r\n\t\tproxy_set_header X-Origin-URI ${scheme}://${http_host}/$request_uri;\r\n\t\tproxy_set_header Forwarded \"for=$remote_addr;proto=$scheme\";\r\n    }\r\n\r\n}\r\n```\r\n\r\nAny ideas what might be going on?", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/6376/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/6376/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/6362", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/6362/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/6362/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/6362/events", "html_url": "https://github.com/certbot/certbot/issues/6362", "id": 358371474, "node_id": "MDU6SXNzdWUzNTgzNzE0NzQ=", "number": 6362, "title": "Cannot install python-certbot-nginx on Ubuntu 18.04 because of \u2018unmet dependencies\u2019", "user": {"login": "glts", "id": 1483271, "node_id": "MDQ6VXNlcjE0ODMyNzE=", "avatar_url": "https://avatars.githubusercontent.com/u/1483271?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glts", "html_url": "https://github.com/glts", "followers_url": "https://api.github.com/users/glts/followers", "following_url": "https://api.github.com/users/glts/following{/other_user}", "gists_url": "https://api.github.com/users/glts/gists{/gist_id}", "starred_url": "https://api.github.com/users/glts/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glts/subscriptions", "organizations_url": "https://api.github.com/users/glts/orgs", "repos_url": "https://api.github.com/users/glts/repos", "events_url": "https://api.github.com/users/glts/events{/privacy}", "received_events_url": "https://api.github.com/users/glts/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 200587469, "node_id": "MDU6TGFiZWwyMDA1ODc0Njk=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20debian%20/%20ubuntu", "name": "area: debian / ubuntu", "color": "c5def5", "default": false, "description": null}, {"id": 245387015, "node_id": "MDU6TGFiZWwyNDUzODcwMTU=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20documentation", "name": "area: documentation", "color": "c5def5", "default": false, "description": null}, {"id": 276667632, "node_id": "MDU6TGFiZWwyNzY2Njc2MzI=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20pkging", "name": "area: pkging", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 19, "created_at": "2018-09-09T11:36:57Z", "updated_at": "2021-01-05T19:53:24Z", "closed_at": "2018-11-29T18:52:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "On a completely fresh, up-to-date Ubuntu 18.04.1 LTS (Server) installation, Certbot cannot be installed from the Certbot PPA. The installation fails with \u2018unmet dependencies\u2019.\r\n\r\nI am following the instructions at https://certbot.eff.org/lets-encrypt/ubuntuartful-nginx.\r\n\r\nCommand-line conversation after having done `sudo add-apt-repository ppa:certbot/certbot` and updated the APT package cache follows.\r\n\r\n```\r\nubuntu@pingu:~$ sudo apt-get install python-certbot-nginx\r\nReading package lists... Done\r\nBuilding dependency tree       \r\nReading state information... Done\r\nSome packages could not be installed. This may mean that you have\r\nrequested an impossible situation or if you are using the unstable\r\ndistribution that some required packages have not yet been created\r\nor been moved out of Incoming.\r\nThe following information may help to resolve the situation:\r\n\r\nThe following packages have unmet dependencies:\r\n python-certbot-nginx : Depends: python3-certbot-nginx but it is not going to be installed\r\nE: Unable to correct problems, you have held broken packages.\r\nubuntu@pingu:~$ sudo apt-get install python3-certbot-nginx\r\nReading package lists... Done\r\nBuilding dependency tree       \r\nReading state information... Done\r\nSome packages could not be installed. This may mean that you have\r\nrequested an impossible situation or if you are using the unstable\r\ndistribution that some required packages have not yet been created\r\nor been moved out of Incoming.\r\nThe following information may help to resolve the situation:\r\n\r\nThe following packages have unmet dependencies:\r\n python3-certbot-nginx : Depends: certbot (>= 0.25.0~) but it is not going to be installed\r\n                         Depends: python3-acme but it is not going to be installed\r\n                         Depends: python3-certbot (>= 0.25.0~) but it is not going to be installed\r\n                         Depends: python3-mock but it is not installable\r\nE: Unable to correct problems, you have held broken packages.\r\n```\r\n\r\nI expect this package install to work, or if I am missing some prerequisites perhaps the Certbot instructions should mention them. Thank you!\r\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/6362/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/6362/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/6344", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/6344/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/6344/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/6344/events", "html_url": "https://github.com/certbot/certbot/issues/6344", "id": 357540937, "node_id": "MDU6SXNzdWUzNTc1NDA5Mzc=", "number": 6344, "title": "KeyError handle_modules with 0.27.0 on openSUSE", "user": {"login": "ArloL", "id": 195367, "node_id": "MDQ6VXNlcjE5NTM2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/195367?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ArloL", "html_url": "https://github.com/ArloL", "followers_url": "https://api.github.com/users/ArloL/followers", "following_url": "https://api.github.com/users/ArloL/following{/other_user}", "gists_url": "https://api.github.com/users/ArloL/gists{/gist_id}", "starred_url": "https://api.github.com/users/ArloL/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ArloL/subscriptions", "organizations_url": "https://api.github.com/users/ArloL/orgs", "repos_url": "https://api.github.com/users/ArloL/repos", "events_url": "https://api.github.com/users/ArloL/events{/privacy}", "received_events_url": "https://api.github.com/users/ArloL/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 258836903, "node_id": "MDU6TGFiZWwyNTg4MzY5MDM=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20apache", "name": "area: apache", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sydneyli", "id": 1813285, "node_id": "MDQ6VXNlcjE4MTMyODU=", "avatar_url": "https://avatars.githubusercontent.com/u/1813285?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sydneyli", "html_url": "https://github.com/sydneyli", "followers_url": "https://api.github.com/users/sydneyli/followers", "following_url": "https://api.github.com/users/sydneyli/following{/other_user}", "gists_url": "https://api.github.com/users/sydneyli/gists{/gist_id}", "starred_url": "https://api.github.com/users/sydneyli/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sydneyli/subscriptions", "organizations_url": "https://api.github.com/users/sydneyli/orgs", "repos_url": "https://api.github.com/users/sydneyli/repos", "events_url": "https://api.github.com/users/sydneyli/events{/privacy}", "received_events_url": "https://api.github.com/users/sydneyli/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sydneyli", "id": 1813285, "node_id": "MDQ6VXNlcjE4MTMyODU=", "avatar_url": "https://avatars.githubusercontent.com/u/1813285?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sydneyli", "html_url": "https://github.com/sydneyli", "followers_url": "https://api.github.com/users/sydneyli/followers", "following_url": "https://api.github.com/users/sydneyli/following{/other_user}", "gists_url": "https://api.github.com/users/sydneyli/gists{/gist_id}", "starred_url": "https://api.github.com/users/sydneyli/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sydneyli/subscriptions", "organizations_url": "https://api.github.com/users/sydneyli/orgs", "repos_url": "https://api.github.com/users/sydneyli/repos", "events_url": "https://api.github.com/users/sydneyli/events{/privacy}", "received_events_url": "https://api.github.com/users/sydneyli/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/60", "html_url": "https://github.com/certbot/certbot/milestone/60", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/60/labels", "id": 3630571, "node_id": "MDk6TWlsZXN0b25lMzYzMDU3MQ==", "number": 60, "title": "0.27.1", "description": "openSUSE", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 3, "state": "closed", "created_at": "2018-09-06T22:01:41Z", "updated_at": "2018-09-13T21:09:06Z", "due_on": null, "closed_at": "2018-09-13T21:09:06Z"}, "comments": 2, "created_at": "2018-09-06T08:05:44Z", "updated_at": "2018-11-14T22:06:18Z", "closed_at": "2018-09-06T22:00:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "## My operating system is (include version):\r\n\r\nopenSUSE Leap 42.1\r\n\r\n## I installed Certbot with (certbot-auto, OS package manager, pip, etc):\r\n\r\ncertbot-auto\r\n\r\n## I ran this command and it produced this output:\r\n\r\n````\r\nkevdev36:~ # certbot-auto --version\r\nUpgrading certbot-auto 0.26.1 to 0.27.0...\r\nReplacing certbot-auto...\r\nCreating virtual environment...\r\nInstalling Python packages...\r\nInstallation succeeded.\r\nAn unexpected error occurred:\r\nKeyError: 'handle_modules'\r\nPlease see the logfile '/tmp/tmpMAZJox' for more details.\r\n````\r\n\r\n## Certbot's behavior differed from what I expected because:\r\n\r\nIt did not print the version.\r\n\r\n## Here is a Certbot log showing the issue (if available):\r\n\r\n/tmp/tmpMAZJox\r\n\r\n````\r\n2018-09-06 09:59:58,652:DEBUG:certbot.main:certbot version: 0.27.0\r\n2018-09-06 09:59:58,652:DEBUG:certbot.main:Arguments: ['--version']\r\n2018-09-06 09:59:58,653:DEBUG:certbot.main:Discovered plugins: PluginsRegistry(PluginEntryPoint#apache,PluginEntryPoint#manual,PluginEntryPoint#nginx,PluginEntryPoint#null,PluginEntryPoint#standalone,PluginEntryPoint#webroot)\r\n2018-09-06 09:59:58,660:DEBUG:certbot.log:Exiting abnormally:\r\nTraceback (most recent call last):\r\n  File \"/opt/eff.org/certbot/venv/bin/letsencrypt\", line 11, in <module>\r\n    sys.exit(main())\r\n  File \"/opt/eff.org/certbot/venv/lib/python2.7/site-packages/certbot/main.py\", line 1345, in main\r\n    args = cli.prepare_and_parse_args(plugins, cli_args)\r\n  File \"/opt/eff.org/certbot/venv/lib/python2.7/site-packages/certbot/cli.py\", line 1243, in prepare_and_parse_args\r\n    _plugins_parsing(helpful, plugins)\r\n  File \"/opt/eff.org/certbot/venv/lib/python2.7/site-packages/certbot/cli.py\", line 1458, in _plugins_parsing\r\n    helpful.add_plugin_args(plugins)\r\n  File \"/opt/eff.org/certbot/venv/lib/python2.7/site-packages/certbot/cli.py\", line 840, in add_plugin_args\r\n    plugin_ep.plugin_cls.inject_parser_options(parser_or_group, name)\r\n  File \"/opt/eff.org/certbot/venv/lib/python2.7/site-packages/certbot/plugins/common.py\", line 81, in inject_parser_options\r\n    return cls.add_parser_arguments(add)\r\n  File \"/opt/eff.org/certbot/venv/lib/python2.7/site-packages/certbot_apache/configurator.py\", line 159, in add_parser_arguments\r\n    add(\"handle-modules\", default=cls.OS_DEFAULTS[\"handle_modules\"],\r\nKeyError: 'handle_modules'\r\n2018-09-06 09:59:58,660:ERROR:certbot.log:An unexpected error occurred:\r\n````\r\n\r\n## Workaround\r\n\r\nDowngrade to 0.26.1 and use `certbot-auto` with `--no-self-upgrade`.\r\n\r\n````\r\nkevdev36:~ # wget https://raw.githubusercontent.com/certbot/certbot/v0.26.1/certbot-auto\r\nkevdev36:~ # chmod +x certbot-auto\r\nkevdev36:~ # /opt/eff.org/certbot/venv/bin/pip install certbot==0.26.1 certbot-apache==0.26.1 certbot-nginx==0.26.1\r\nkevdev36:~ # ./certbot-auto --no-self-upgrade --version\r\ncertbot 0.26.1\r\n````", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/6344/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/6344/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/6325", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/6325/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/6325/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/6325/events", "html_url": "https://github.com/certbot/certbot/issues/6325", "id": 355317373, "node_id": "MDU6SXNzdWUzNTUzMTczNzM=", "number": 6325, "title": "Certbot not recognizing individual .conf files from include directive in nginx.conf", "user": {"login": "Briscoooe", "id": 8821589, "node_id": "MDQ6VXNlcjg4MjE1ODk=", "avatar_url": "https://avatars.githubusercontent.com/u/8821589?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Briscoooe", "html_url": "https://github.com/Briscoooe", "followers_url": "https://api.github.com/users/Briscoooe/followers", "following_url": "https://api.github.com/users/Briscoooe/following{/other_user}", "gists_url": "https://api.github.com/users/Briscoooe/gists{/gist_id}", "starred_url": "https://api.github.com/users/Briscoooe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Briscoooe/subscriptions", "organizations_url": "https://api.github.com/users/Briscoooe/orgs", "repos_url": "https://api.github.com/users/Briscoooe/repos", "events_url": "https://api.github.com/users/Briscoooe/events{/privacy}", "received_events_url": "https://api.github.com/users/Briscoooe/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 258836706, "node_id": "MDU6TGFiZWwyNTg4MzY3MDY=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20nginx", "name": "area: nginx", "color": "c5def5", "default": false, "description": null}, {"id": 1923192304, "node_id": "MDU6TGFiZWwxOTIzMTkyMzA0", "url": "https://api.github.com/repos/certbot/certbot/labels/priority:%20significant", "name": "priority: significant", "color": "5319e7", "default": false, "description": "Issues with higher than average priority that do not need to be in the current milestone."}], "state": "closed", "locked": false, "assignee": {"login": "ohemorange", "id": 1227205, "node_id": "MDQ6VXNlcjEyMjcyMDU=", "avatar_url": "https://avatars.githubusercontent.com/u/1227205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ohemorange", "html_url": "https://github.com/ohemorange", "followers_url": "https://api.github.com/users/ohemorange/followers", "following_url": "https://api.github.com/users/ohemorange/following{/other_user}", "gists_url": "https://api.github.com/users/ohemorange/gists{/gist_id}", "starred_url": "https://api.github.com/users/ohemorange/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ohemorange/subscriptions", "organizations_url": "https://api.github.com/users/ohemorange/orgs", "repos_url": "https://api.github.com/users/ohemorange/repos", "events_url": "https://api.github.com/users/ohemorange/events{/privacy}", "received_events_url": "https://api.github.com/users/ohemorange/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ohemorange", "id": 1227205, "node_id": "MDQ6VXNlcjEyMjcyMDU=", "avatar_url": "https://avatars.githubusercontent.com/u/1227205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ohemorange", "html_url": "https://github.com/ohemorange", "followers_url": "https://api.github.com/users/ohemorange/followers", "following_url": "https://api.github.com/users/ohemorange/following{/other_user}", "gists_url": "https://api.github.com/users/ohemorange/gists{/gist_id}", "starred_url": "https://api.github.com/users/ohemorange/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ohemorange/subscriptions", "organizations_url": "https://api.github.com/users/ohemorange/orgs", "repos_url": "https://api.github.com/users/ohemorange/repos", "events_url": "https://api.github.com/users/ohemorange/events{/privacy}", "received_events_url": "https://api.github.com/users/ohemorange/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 11, "created_at": "2018-08-29T20:19:32Z", "updated_at": "2022-07-14T08:40:34Z", "closed_at": "2022-07-13T16:23:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "If you're having trouble using Certbot and aren't sure you've found a bug or\r\nrequest for a new feature, please first try asking for help at\r\nhttps://community.letsencrypt.org/. There is a much larger community there of\r\npeople familiar with the project who will be able to more quickly answer your\r\nquestions.\r\n\r\n## My operating system is (include version):\r\nUbuntu 14.04\r\n\r\n## I installed Certbot with (certbot-auto, OS package manager, pip, etc):\r\nOS package manager [using official instructions](https://certbot.eff.org/lets-encrypt/ubuntutrusty-nginx)\r\n```\r\n$ sudo apt-get update\r\n$ sudo apt-get install software-properties-common\r\n$ sudo add-apt-repository ppa:certbot/certbot\r\n$ sudo apt-get update\r\n$ sudo apt-get install python-certbot-nginx \r\n```\r\n\r\n## I ran this command and it produced this output:\r\n`sudo certbot --nginx --nginx-server-root /opt/bitnami/nginx/conf/`\r\n```\r\nSaving debug log to /var/log/letsencrypt/letsencrypt.log\r\nPlugins selected: Authenticator nginx, Installer nginx\r\nNo names were found in your configuration files. Please enter in your domain\r\nname(s) (comma and/or space separated)  (Enter 'c' to cancel):\r\n```\r\n\r\n## Certbot's behavior differed from what I expected because:\r\nI have a number of server blocks configured in individual `.conf` files that are being included in my `nginx.conf` from a specific directory. [See here](#nginxconf)\r\n\r\nA typical `.conf` [can be seen here](#site1conf)\r\n\r\nI know these `.conf` files are being successfully loaded by Nginx as I can access all of them using their server names, in this case `www.site1.com` or `site1.com` will successfully navigate to `http://site1.mydomain.com`. \r\n\r\nThe problem is that certbot does not recognize any of the domains configured in the server blocks in the directory. The only way I can get a domain to show up when I run the `sudo certbot --nginx --nginx-server-root /opt/bitnami/nginx/conf/` is to include the contents of an individual `.conf` file directly in the `nginx.conf` file. This is not a viable option for me as I have many domains and including each of their configurations in the `nginx.conf` file would be messy.\r\n\r\n## Here is a Certbot log showing the issue (if available):\r\n###### Logs are stored in `/var/log/letsencrypt` by default. Feel free to redact domains, e-mail and IP addresses as you see fit.\r\n\r\n## Here is the relevant nginx server block or Apache virtualhost for the domain I am configuring:\r\n### <a name=\"nginxconf\">`nginx.conf`</a>\r\n```\r\nuser  daemon daemon;\r\nworker_processes  auto;\r\n\r\nerror_log  \"/opt/bitnami/nginx/logs/error.log\";\r\n\r\npid        \"/opt/bitnami/nginx/logs/nginx.pid\";\r\n\r\n\r\nevents {\r\n    worker_connections  1024;\r\n}\r\n\r\n\r\nhttp {\r\n    server_names_hash_bucket_size 128;\r\n\r\n    /* typical nginx configurations */\r\n\r\n    server {\r\n        listen       80 default_server;\r\n        server_name  localhost;\r\n        location / {\r\n            root   html;\r\n            index  index.html index.htm;\r\n        }\r\n\r\n        include \"/opt/bitnami/nginx/conf/bitnami/phpfastcgi.conf\";\r\n        include \"/opt/bitnami/nginx/conf/bitnami/bitnami-apps-prefix.conf\";\r\n    }\r\n\r\n    include \"/opt/bitnami/nginx/conf/sites/*.conf\"; #This line includes the conf files\r\n\r\n}\r\n```\r\n### <a name=\"site1conf\">`site1.com.conf`</a>\r\n```\r\nserver {\r\n  listen 80;\r\n  server_name www.site1.com site1.com;\r\n  location / {\r\n\taccess_log off;\r\n\tproxy_pass http://site1.mydomain.com;\r\n  }\r\n}\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/6325/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/6325/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/6318", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/6318/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/6318/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/6318/events", "html_url": "https://github.com/certbot/certbot/issues/6318", "id": 353946239, "node_id": "MDU6SXNzdWUzNTM5NDYyMzk=", "number": 6318, "title": "Certbot --cert-name always obtains new certificate (ignores existing certificates)", "user": {"login": "akanix42", "id": 1229110, "node_id": "MDQ6VXNlcjEyMjkxMTA=", "avatar_url": "https://avatars.githubusercontent.com/u/1229110?v=4", "gravatar_id": "", "url": "https://api.github.com/users/akanix42", "html_url": "https://github.com/akanix42", "followers_url": "https://api.github.com/users/akanix42/followers", "following_url": "https://api.github.com/users/akanix42/following{/other_user}", "gists_url": "https://api.github.com/users/akanix42/gists{/gist_id}", "starred_url": "https://api.github.com/users/akanix42/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/akanix42/subscriptions", "organizations_url": "https://api.github.com/users/akanix42/orgs", "repos_url": "https://api.github.com/users/akanix42/repos", "events_url": "https://api.github.com/users/akanix42/events{/privacy}", "received_events_url": "https://api.github.com/users/akanix42/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 149596829, "node_id": "MDU6TGFiZWwxNDk1OTY4Mjk=", "url": "https://api.github.com/repos/certbot/certbot/labels/good%20first%20issue", "name": "good first issue", "color": "c61aff", "default": true, "description": null}, {"id": 210831837, "node_id": "MDU6TGFiZWwyMTA4MzE4Mzc=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20cert%20management", "name": "area: cert management", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "ohemorange", "id": 1227205, "node_id": "MDQ6VXNlcjEyMjcyMDU=", "avatar_url": "https://avatars.githubusercontent.com/u/1227205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ohemorange", "html_url": "https://github.com/ohemorange", "followers_url": "https://api.github.com/users/ohemorange/followers", "following_url": "https://api.github.com/users/ohemorange/following{/other_user}", "gists_url": "https://api.github.com/users/ohemorange/gists{/gist_id}", "starred_url": "https://api.github.com/users/ohemorange/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ohemorange/subscriptions", "organizations_url": "https://api.github.com/users/ohemorange/orgs", "repos_url": "https://api.github.com/users/ohemorange/repos", "events_url": "https://api.github.com/users/ohemorange/events{/privacy}", "received_events_url": "https://api.github.com/users/ohemorange/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ohemorange", "id": 1227205, "node_id": "MDQ6VXNlcjEyMjcyMDU=", "avatar_url": "https://avatars.githubusercontent.com/u/1227205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ohemorange", "html_url": "https://github.com/ohemorange", "followers_url": "https://api.github.com/users/ohemorange/followers", "following_url": "https://api.github.com/users/ohemorange/following{/other_user}", "gists_url": "https://api.github.com/users/ohemorange/gists{/gist_id}", "starred_url": "https://api.github.com/users/ohemorange/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ohemorange/subscriptions", "organizations_url": "https://api.github.com/users/ohemorange/orgs", "repos_url": "https://api.github.com/users/ohemorange/repos", "events_url": "https://api.github.com/users/ohemorange/events{/privacy}", "received_events_url": "https://api.github.com/users/ohemorange/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/5", "html_url": "https://github.com/certbot/certbot/milestone/5", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/5/labels", "id": 1134473, "node_id": "MDk6TWlsZXN0b25lMTEzNDQ3Mw==", "number": 5, "title": "Wishlist", "description": "", "creator": {"login": "pde", "id": 479213, "node_id": "MDQ6VXNlcjQ3OTIxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/479213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pde", "html_url": "https://github.com/pde", "followers_url": "https://api.github.com/users/pde/followers", "following_url": "https://api.github.com/users/pde/following{/other_user}", "gists_url": "https://api.github.com/users/pde/gists{/gist_id}", "starred_url": "https://api.github.com/users/pde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pde/subscriptions", "organizations_url": "https://api.github.com/users/pde/orgs", "repos_url": "https://api.github.com/users/pde/repos", "events_url": "https://api.github.com/users/pde/events{/privacy}", "received_events_url": "https://api.github.com/users/pde/received_events", "type": "User", "site_admin": false}, "open_issues": 96, "closed_issues": 202, "state": "open", "created_at": "2015-05-26T17:47:38Z", "updated_at": "2023-04-17T19:55:31Z", "due_on": null, "closed_at": null}, "comments": 6, "created_at": "2018-08-24T22:24:11Z", "updated_at": "2022-02-19T09:40:18Z", "closed_at": "2022-02-19T09:40:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "## My operating system is (include version):\r\nubuntu server 18.04.1\r\n\r\n## I installed Certbot with (certbot-auto, OS package manager, pip, etc):\r\nOS package manager\r\n\r\n## I ran this command and it produced this output:\r\nI ran (with an existing certificate created using the same command):\r\n``` bash\r\ncertbot certonly --nginx -n -d test2.criticalsupplies.somedomain.com --cert-name go2ptr-447600-test\r\n```\r\nOutput:\r\n```\r\nSaving debug log to /var/log/letsencrypt/letsencrypt.log\r\nPlugins selected: Authenticator nginx, Installer nginx\r\nObtaining a new certificate\r\nPerforming the following challenges:\r\nhttp-01 challenge for test2.criticalsupplies.somedomain.com\r\nWaiting for verification...\r\nCleaning up challenges\r\nAn unexpected error occurred:\r\nThere were too many requests of a given type :: Error finalizing order :: too many certificates already issued for exact set of domains: test2.criticalsupplies.somedomain.com: see https://letsencrypt.org/docs/rate-limits/\r\nPlease see the logfiles in /var/log/letsencrypt for more details.\r\n```\r\n## Certbot's behavior differed from what I expected because:\r\nThe certificate already exists, so certbot should just reuse the existing certificate. Explicitly specifying `--keep` also has no effect.\r\nHowever, if `--cert-name` is left off, the command works as expected:\r\n``` bash \r\ncertbot certonly --nginx -n -d test2.criticalsupplies.somedomain.com\r\n```\r\nOutput:\r\n```\r\nSaving debug log to /var/log/letsencrypt/letsencrypt.log\r\nPlugins selected: Authenticator nginx, Installer nginx\r\nCert not yet due for renewal\r\nKeeping the existing certificate\r\n```\r\n## Here is a Certbot log showing the issue (if available):\r\n###### Logs are stored in `/var/log/letsencrypt` by default. Feel free to redact domains, e-mail and IP addresses as you see fit.\r\n```\r\n2018-08-24 17:09:07,667:DEBUG:certbot.main:certbot version: 0.26.1\r\n2018-08-24 17:09:07,668:DEBUG:certbot.main:Arguments: ['--nginx', '-n', '-d', 'test2.criticalsupplies.somedomain.com', '--cert-name', 'go2ptr-447600-test']\r\n2018-08-24 17:09:07,669:DEBUG:certbot.main:Discovered plugins: PluginsRegistry(PluginEntryPoint#manual,PluginEntryPoint#nginx,PluginEntryPoint#null,PluginEntryPoint#standalone,PluginEntryPoint#webroot)\r\n2018-08-24 17:09:07,683:DEBUG:certbot.log:Root logging level set at 20\r\n2018-08-24 17:09:07,685:INFO:certbot.log:Saving debug log to /var/log/letsencrypt/letsencrypt.log\r\n2018-08-24 17:09:07,686:DEBUG:certbot.plugins.selection:Requested authenticator nginx and installer nginx\r\n2018-08-24 17:09:08,128:DEBUG:certbot.plugins.selection:Single candidate plugin: * nginx\r\nDescription: Nginx Web Server plugin - Alpha\r\nInterfaces: IAuthenticator, IInstaller, IPlugin\r\nEntry point: nginx = certbot_nginx.configurator:NginxConfigurator\r\nInitialized: <certbot_nginx.configurator.NginxConfigurator object at 0x7f9e44c3c0f0>\r\nPrep: True\r\n2018-08-24 17:09:08,132:DEBUG:certbot.plugins.selection:Single candidate plugin: * nginx\r\nDescription: Nginx Web Server plugin - Alpha\r\nInterfaces: IAuthenticator, IInstaller, IPlugin\r\nEntry point: nginx = certbot_nginx.configurator:NginxConfigurator\r\nInitialized: <certbot_nginx.configurator.NginxConfigurator object at 0x7f9e44c3c0f0>\r\nPrep: True\r\n2018-08-24 17:09:08,132:DEBUG:certbot.plugins.selection:Selected authenticator <certbot_nginx.configurator.NginxConfigurator object at 0x7f9e44c3c0f0> and installer <certbot_nginx.configurator.NginxConfigurator object at 0x7f9e44c3c0f0>\r\n2018-08-24 17:09:08,133:INFO:certbot.plugins.selection:Plugins selected: Authenticator nginx, Installer nginx\r\n2018-08-24 17:09:08,139:DEBUG:certbot.main:Picked account: <Account(RegistrationResource(body=Registration(key=None, contact=(), agreement=None, status=None, terms_of_service_agreed=None, only_return_existing=None), uri='https://acme-v02.api.letsencrypt.org/acme/acct/40751114', new_authzr_uri=None, terms_of_service=None), 0a0a51a0225e6402f1edb6c1d272af9d, Meta(creation_dt=datetime.datetime(2018, 8, 22, 22, 2, 57, tzinfo=<UTC>), creation_host='go2-linux-web-test-01.pmpremote.local'))>\r\n2018-08-24 17:09:08,142:DEBUG:acme.client:Sending GET request to https://acme-v02.api.letsencrypt.org/directory.\r\n2018-08-24 17:09:08,145:DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): acme-v02.api.letsencrypt.org\r\n2018-08-24 17:09:08,271:DEBUG:urllib3.connectionpool:https://acme-v02.api.letsencrypt.org:443 \"GET /directory HTTP/1.1\" 200 658\r\n2018-08-24 17:09:08,272:DEBUG:acme.client:Received response:\r\nHTTP 200\r\nServer: nginx\r\nContent-Type: application/json\r\nContent-Length: 658\r\nX-Frame-Options: DENY\r\nStrict-Transport-Security: max-age=604800\r\nExpires: Fri, 24 Aug 2018 22:09:08 GMT\r\nCache-Control: max-age=0, no-cache, no-store\r\nPragma: no-cache\r\nDate: Fri, 24 Aug 2018 22:09:08 GMT\r\nConnection: keep-alive\r\n\r\n{\r\n  \"_pKeOmw3EeQ\": \"https://community.letsencrypt.org/t/adding-random-entries-to-the-directory/33417\",\r\n  \"keyChange\": \"https://acme-v02.api.letsencrypt.org/acme/key-change\",\r\n  \"meta\": {\r\n    \"caaIdentities\": [\r\n      \"letsencrypt.org\"\r\n    ],\r\n    \"termsOfService\": \"https://letsencrypt.org/documents/LE-SA-v1.2-November-15-2017.pdf\",\r\n    \"website\": \"https://letsencrypt.org\"\r\n  },\r\n  \"newAccount\": \"https://acme-v02.api.letsencrypt.org/acme/new-acct\",\r\n  \"newNonce\": \"https://acme-v02.api.letsencrypt.org/acme/new-nonce\",\r\n  \"newOrder\": \"https://acme-v02.api.letsencrypt.org/acme/new-order\",\r\n  \"revokeCert\": \"https://acme-v02.api.letsencrypt.org/acme/revoke-cert\"\r\n}\r\n2018-08-24 17:09:08,273:DEBUG:certbot.cert_manager:Renewal conf file /etc/letsencrypt/renewal/go2ptr-447600-test.conf is broken.\r\n2018-08-24 17:09:08,274:DEBUG:certbot.cert_manager:Traceback was:\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3/dist-packages/certbot/cert_manager.py\", line 113, in lineage_for_certname\r\n    return storage.RenewableCert(renewal_file, cli_config)\r\n  File \"/usr/lib/python3/dist-packages/certbot/storage.py\", line 439, in __init__\r\n    self._check_symlinks()\r\n  File \"/usr/lib/python3/dist-packages/certbot/storage.py\", line 498, in _check_symlinks\r\n    \"expected {0} to be a symlink\".format(link))\r\ncertbot.errors.CertStorageError: expected /etc/letsencrypt/live/go2ptr-447600-test/cert.pem to be a symlink\r\n\r\n2018-08-24 17:09:08,274:INFO:certbot.main:Obtaining a new certificate\r\n2018-08-24 17:09:08,454:DEBUG:certbot.crypto_util:Generating key (2048 bits): /etc/letsencrypt/keys/0040_key-certbot.pem\r\n2018-08-24 17:09:08,459:DEBUG:certbot.crypto_util:Creating CSR: /etc/letsencrypt/csr/0040_csr-certbot.pem\r\n2018-08-24 17:09:08,460:DEBUG:acme.client:Requesting fresh nonce\r\n2018-08-24 17:09:08,461:DEBUG:acme.client:Sending HEAD request to https://acme-v02.api.letsencrypt.org/acme/new-order.\r\n2018-08-24 17:09:08,510:DEBUG:urllib3.connectionpool:https://acme-v02.api.letsencrypt.org:443 \"HEAD /acme/new-order HTTP/1.1\" 405 0\r\n2018-08-24 17:09:08,510:DEBUG:acme.client:Received response:\r\nHTTP 405\r\nServer: nginx\r\nContent-Type: application/problem+json\r\nContent-Length: 103\r\nAllow: POST\r\nReplay-Nonce: T5PBH6dfVtPrCpGbXJHnrsEow5wBn7uqvLiAes_DLr8\r\nExpires: Fri, 24 Aug 2018 22:09:08 GMT\r\nCache-Control: max-age=0, no-cache, no-store\r\nPragma: no-cache\r\nDate: Fri, 24 Aug 2018 22:09:08 GMT\r\nConnection: keep-alive\r\n\r\n\r\n2018-08-24 17:09:08,511:DEBUG:acme.client:Storing nonce: T5PBH6dfVtPrCpGbXJHnrsEow5wBn7uqvLiAes_DLr8\r\n2018-08-24 17:09:08,511:DEBUG:acme.client:JWS payload:\r\nb'{\\n  \"identifiers\": [\\n    {\\n      \"type\": \"dns\",\\n      \"value\": \"test2.criticalsupplies.somedomain.com\"\\n    }\\n  ],\\n  \"status\": \"pending\",\\n  \"resource\": \"new-order\"\\n}'\r\n2018-08-24 17:09:08,516:DEBUG:acme.client:Sending POST request to https://acme-v02.api.letsencrypt.org/acme/new-order:\r\n{\r\n  \"protected\": \"eyJhbGciOiAiUlMyNTYiLCAia2lkIjogImh0dHBzOi8vYWNtZS12MDIuYXBpLmxldHNlbmNyeXB0Lm9yZy9hY21lL2FjY3QvNDA3NTExMTQiLCAibm9uY2UiOiAiVDVQQkg2ZGZWdFByQ3BHYlhKSG5yc0VvdzV3Qm43dXF2TGlBZXNfRExyOCIsICJ1cmwiOiAiaHR0cHM6Ly9hY21lLXYwMi5hcGkubGV0c2VuY3J5cHQub3JnL2FjbWUvbmV3LW9yZGVyIn0\",\r\n  \"signature\": \"XzxhaKosSPzKmgDa2yCwMtZO4-Wa8IHqaACCgGczBQuwJhuW0N-XSkA60aw696kYsv09zqVzBad-54VaJ7GDUnxts0PLd7--OfZOHA8rAMQubQZzyh-rHY_pAXoCQPJt9Pm_ZgqVRRoYg8Uz8vC3bPMlM7TYhHULJmUpX2W5rmMIsSvbs7XFYMsi5bshlQkdHQk3Ahp7WYpnWDX56Dk8loqfrLUucxxkmwR-CYnixKvc3EChhwT2JMAVFQZ_P0ovq8-O0thRNiK72w88DT7jQjtl41sN-kmRY1gXIFF7_wkzhEydey7roJ4h0Amuc_VgfloRhXiMAx1d0utwminwKg\",\r\n  \"payload\": \"ewogICJpZGVudGlmaWVycyI6IFsKICAgIHsKICAgICAgInR5cGUiOiAiZG5zIiwKICAgICAgInZhbHVlIjogInRlc3QyLmNyaXRpY2Fsc3VwcGxpZXMuZ28ycGFydG5lcnMuY29tIgogICAgfQogIF0sCiAgInN0YXR1cyI6ICJwZW5kaW5nIiwKICAicmVzb3VyY2UiOiAibmV3LW9yZGVyIgp9\"\r\n}\r\n2018-08-24 17:09:08,583:DEBUG:urllib3.connectionpool:https://acme-v02.api.letsencrypt.org:443 \"POST /acme/new-order HTTP/1.1\" 201 394\r\n2018-08-24 17:09:08,584:DEBUG:acme.client:Received response:\r\nHTTP 201\r\nServer: nginx\r\nContent-Type: application/json\r\nContent-Length: 394\r\nBoulder-Requester: 40751114\r\nLocation: https://acme-v02.api.letsencrypt.org/acme/order/40751114/46868681\r\nReplay-Nonce: TMRl9lgCHurK1ViSnb9OeE3FODSU6WyMVuwSdt4sFiE\r\nX-Frame-Options: DENY\r\nStrict-Transport-Security: max-age=604800\r\nExpires: Fri, 24 Aug 2018 22:09:08 GMT\r\nCache-Control: max-age=0, no-cache, no-store\r\nPragma: no-cache\r\nDate: Fri, 24 Aug 2018 22:09:08 GMT\r\nConnection: keep-alive\r\n\r\n{\r\n  \"status\": \"ready\",\r\n  \"expires\": \"2018-08-31T22:09:08.547383428Z\",\r\n  \"identifiers\": [\r\n    {\r\n      \"type\": \"dns\",\r\n      \"value\": \"test2.criticalsupplies.somedomain.com\"\r\n    }\r\n  ],\r\n  \"authorizations\": [\r\n    \"https://acme-v02.api.letsencrypt.org/acme/authz/mfF4Bz3MYca6WbrCnLeaJelhOnxvo4ikL9rYYOOBn6s\"\r\n  ],\r\n  \"finalize\": \"https://acme-v02.api.letsencrypt.org/acme/finalize/40751114/46868681\"\r\n}\r\n2018-08-24 17:09:08,584:DEBUG:acme.client:Storing nonce: TMRl9lgCHurK1ViSnb9OeE3FODSU6WyMVuwSdt4sFiE\r\n2018-08-24 17:09:08,584:DEBUG:acme.client:Sending GET request to https://acme-v02.api.letsencrypt.org/acme/authz/mfF4Bz3MYca6WbrCnLeaJelhOnxvo4ikL9rYYOOBn6s.\r\n2018-08-24 17:09:08,642:DEBUG:urllib3.connectionpool:https://acme-v02.api.letsencrypt.org:443 \"GET /acme/authz/mfF4Bz3MYca6WbrCnLeaJelhOnxvo4ikL9rYYOOBn6s HTTP/1.1\" 200 1327\r\n2018-08-24 17:09:08,643:DEBUG:acme.client:Received response:\r\nHTTP 200\r\nServer: nginx\r\nContent-Type: application/json\r\nContent-Length: 1327\r\nX-Frame-Options: DENY\r\nStrict-Transport-Security: max-age=604800\r\nExpires: Fri, 24 Aug 2018 22:09:08 GMT\r\nCache-Control: max-age=0, no-cache, no-store\r\nPragma: no-cache\r\nDate: Fri, 24 Aug 2018 22:09:08 GMT\r\nConnection: keep-alive\r\n\r\n{\r\n  \"identifier\": {\r\n    \"type\": \"dns\",\r\n    \"value\": \"test2.criticalsupplies.somedomain.com\"\r\n  },\r\n  \"status\": \"valid\",\r\n  \"expires\": \"2018-09-22T17:18:42Z\",\r\n  \"challenges\": [\r\n    {\r\n      \"type\": \"dns-01\",\r\n      \"status\": \"pending\",\r\n      \"url\": \"https://acme-v02.api.letsencrypt.org/acme/challenge/mfF4Bz3MYca6WbrCnLeaJelhOnxvo4ikL9rYYOOBn6s/6715397016\",\r\n      \"token\": \"g5-BjIrgvb3BayzMcxiPaYl1M41o1ElhRlQrzAUiyOc\"\r\n    },\r\n    {\r\n      \"type\": \"http-01\",\r\n      \"status\": \"valid\",\r\n      \"url\": \"https://acme-v02.api.letsencrypt.org/acme/challenge/mfF4Bz3MYca6WbrCnLeaJelhOnxvo4ikL9rYYOOBn6s/6715397017\",\r\n      \"token\": \"eLK_7JjIwcLjZweVdnBAu5EWF8qlVFn7mQda0pplQnM\",\r\n      \"validationRecord\": [\r\n        {\r\n          \"url\": \"http://test2.criticalsupplies.somedomain.com/.well-known/acme-challenge/eLK_7JjIwcLjZweVdnBAu5EWF8qlVFn7mQda0pplQnM\",\r\n          \"hostname\": \"test2.criticalsupplies.somedomain.com\",\r\n          \"port\": \"80\",\r\n          \"addressesResolved\": [\r\n            \"209.249.1.1\"\r\n          ],\r\n          \"addressUsed\": \"209.249.1.1\"\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      \"type\": \"tls-alpn-01\",\r\n      \"status\": \"pending\",\r\n      \"url\": \"https://acme-v02.api.letsencrypt.org/acme/challenge/mfF4Bz3MYca6WbrCnLeaJelhOnxvo4ikL9rYYOOBn6s/6715397019\",\r\n      \"token\": \"OLmdlJ9EZJqv_OxxHnya8GUQRNSvqIW_TZRgGtxSg6E\"\r\n    }\r\n  ]\r\n}\r\n2018-08-24 17:09:08,644:INFO:certbot.auth_handler:Performing the following challenges:\r\n2018-08-24 17:09:08,644:INFO:certbot.auth_handler:http-01 challenge for test2.criticalsupplies.somedomain.com\r\n2018-08-24 17:09:08,690:DEBUG:certbot.reverter:Creating backup of /etc/nginx/modules-enabled/50-mod-http-image-filter.conf\r\n2018-08-24 17:09:08,691:DEBUG:certbot.reverter:Creating backup of /etc/nginx/mime.types\r\n2018-08-24 17:09:08,691:DEBUG:certbot.reverter:Creating backup of /etc/nginx/sites-enabled/somesitepf_293984_01-test.conf\r\n2018-08-24 17:09:08,692:DEBUG:certbot.reverter:Creating backup of /etc/nginx/modules-enabled/50-mod-mail.conf\r\n2018-08-24 17:09:08,692:DEBUG:certbot.reverter:Creating backup of /etc/nginx/sites-enabled/somesitemid-474820-test.conf\r\n2018-08-24 17:09:08,693:DEBUG:certbot.reverter:Creating backup of /etc/nginx/conf.d/mod-http-passenger.conf\r\n2018-08-24 17:09:08,693:DEBUG:certbot.reverter:Creating backup of /etc/nginx/sites-enabled/somesitemid-228671-mp-test.conf\r\n2018-08-24 17:09:08,694:DEBUG:certbot.reverter:Creating backup of /etc/nginx/modules-enabled/50-mod-http-geoip.conf\r\n2018-08-24 17:09:08,694:DEBUG:certbot.reverter:Creating backup of /etc/nginx/nginx.conf\r\n2018-08-24 17:09:08,694:DEBUG:certbot.reverter:Creating backup of /etc/nginx/sites-enabled/go2ptr-447600-test.conf\r\n2018-08-24 17:09:08,695:DEBUG:certbot.reverter:Creating backup of /etc/nginx/modules-enabled/50-mod-http-passenger.conf\r\n2018-08-24 17:09:08,695:DEBUG:certbot.reverter:Creating backup of /etc/nginx/modules-enabled/50-mod-stream.conf\r\n2018-08-24 17:09:08,696:DEBUG:certbot.reverter:Creating backup of /etc/nginx/sites-enabled/default\r\n2018-08-24 17:09:08,696:DEBUG:certbot.reverter:Creating backup of /etc/nginx/sites-enabled/somesitemid-418710-test.conf\r\n2018-08-24 17:09:08,697:DEBUG:certbot.reverter:Creating backup of /etc/nginx/modules-enabled/50-mod-http-xslt-filter.conf\r\n2018-08-24 17:09:08,699:DEBUG:certbot_nginx.parser:Writing nginx conf tree to /etc/nginx/nginx.conf:\r\nuser www-data;\r\nworker_processes auto;\r\npid /run/nginx.pid;\r\ninclude /etc/nginx/modules-enabled/*.conf;\r\n\r\nevents {\r\n        worker_connections 768;\r\n        # multi_accept on;\r\n}\r\n\r\nhttp {\r\ninclude /etc/letsencrypt/le_http_01_cert_challenge.conf;\r\n\r\n        ##\r\n        # Basic Settings\r\n        ##\r\n\r\n        sendfile on;\r\n        tcp_nopush on;\r\n        tcp_nodelay on;\r\n        keepalive_timeout 65;\r\n        types_hash_max_size 2048;\r\n        # server_tokens off;\r\n\r\n        server_names_hash_bucket_size 1024;\r\n        # server_name_in_redirect off;\r\n\r\n        include /etc/nginx/mime.types;\r\n        default_type application/octet-stream;\r\n\r\n        ##\r\n        # SSL Settings\r\n        ##\r\n\r\n        ssl_protocols TLSv1 TLSv1.1 TLSv1.2; # Dropping SSLv3, ref: POODLE\r\n        ssl_prefer_server_ciphers on;\r\n\r\n        ##\r\n        # Logging Settings\r\n        ##\r\n\r\n        access_log /var/log/nginx/access.log;\r\n        error_log /var/log/nginx/error.log;\r\n\r\n        ##\r\n        # Gzip Settings\r\n        ##\r\n\r\n        gzip on;\r\n\r\n        # gzip_vary on;\r\n        # gzip_proxied any;\r\n        # gzip_comp_level 6;\r\n        # gzip_buffers 16 8k;\r\n        # gzip_http_version 1.1;\r\n        # gzip_types text/plain text/css application/json application/javascript text/xml application/xml application/xml+rss text/javascript;\r\n\r\n        ##\r\n        # Virtual Host Configs\r\n        ##\r\n\r\n        include /etc/nginx/conf.d/*.conf;\r\n        include /etc/nginx/sites-enabled/*;\r\n}\r\n\r\n\r\n#mail {\r\n#       # See sample authentication script at:\r\n#       # http://wiki.nginx.org/ImapAuthenticateWithApachePhpScript\r\n#\r\n#       # auth_http localhost/auth.php;\r\n#       # pop3_capabilities \"TOP\" \"USER\";\r\n#       # imap_capabilities \"IMAP4rev1\" \"UIDPLUS\";\r\n#\r\n#       server {\r\n#               listen     localhost:110;\r\n#               protocol   pop3;\r\n#               proxy      on;\r\n#       }\r\n#\r\n#       server {\r\n#               listen     localhost:143;\r\n#               protocol   imap;\r\n#               proxy      on;\r\n#       }\r\n#}\r\n\r\n2018-08-24 17:09:08,700:DEBUG:certbot_nginx.parser:Writing nginx conf tree to /etc/nginx/sites-enabled/go2ptr-447600-test.conf:\r\n\r\n\r\nserver {rewrite ^(/.well-known/acme-challenge/.*) $1 break; # managed by Certbot\r\n\r\n\r\n  listen 80;\r\n  server_name          test2.criticalsupplies.somedomain.com;\r\n\r\n  return 301 https://test2.criticalsupplies.somedomain.com$request_uri;\r\nlocation = /.well-known/acme-challenge/eLK_7JjIwcLjZweVdnBAu5EWF8qlVFn7mQda0pplQnM{default_type text/plain;return 200 eLK_7JjIwcLjZweVdnBAu5EWF8qlVFn7mQda0pplQnM.TcEdb27rG8XOVjwZEFCFau7RTErFD3EbVAdedLc1vOk;} # managed by Certbot\r\n\r\n}\r\n\r\nserver {\r\n  server_name test2.criticalsupplies.somedomain.com;\r\n  listen 443 ssl http2;\r\n  listen [::]:443 ssl http2;\r\n\r\n  root /deployments/go2ptr-447600-test/bundle;\r\n  index index.html;\r\n\r\n  # Enable gzip compression\r\n  gzip on;\r\n  gzip_types application/javascript image/* text/css;\r\n  gunzip on;\r\n\r\n  # Serve static files\r\n  location / {\r\n    try_files $uri $uri/ =404;\r\n  }\r\n\r\n  # Enable static file caching\r\n  location ~* \\.(jpg|jpeg|png|gif|ico)$ {\r\n       expires 1d;\r\n  }\r\n  location ~* \\.(css|js)$ {\r\n     expires 1d;\r\n  }\r\n\r\n  ssl_certificate /etc/letsencrypt/live/go2ptr-447600-test-0005/fullchain.pem;\r\n  ssl_certificate_key /etc/letsencrypt/live/go2ptr-447600-test-0005/privkey.pem;\r\n}\r\n\r\n2018-08-24 17:09:09,725:INFO:certbot.auth_handler:Waiting for verification...\r\n2018-08-24 17:09:09,726:DEBUG:acme.client:JWS payload:\r\nb'{\\n  \"resource\": \"challenge\",\\n  \"keyAuthorization\": \"eLK_7JjIwcLjZweVdnBAu5EWF8qlVFn7mQda0pplQnM.TcEdb27rG8XOVjwZEFCFau7RTErFD3EbVAdedLc1vOk\",\\n  \"type\": \"http-01\"\\n}'\r\n2018-08-24 17:09:09,730:DEBUG:acme.client:Sending POST request to https://acme-v02.api.letsencrypt.org/acme/challenge/mfF4Bz3MYca6WbrCnLeaJelhOnxvo4ikL9rYYOOBn6s/6715397017:\r\n{\r\n  \"protected\": \"eyJhbGciOiAiUlMyNTYiLCAia2lkIjogImh0dHBzOi8vYWNtZS12MDIuYXBpLmxldHNlbmNyeXB0Lm9yZy9hY21lL2FjY3QvNDA3NTExMTQiLCAibm9uY2UiOiAiVE1SbDlsZ0NIdXJLMVZpU25iOU9lRTNGT0RTVTZXeU1WdXdTZHQ0c0ZpRSIsICJ1cmwiOiAiaHR0cHM6Ly9hY21lLXYwMi5hcGkubGV0c2VuY3J5cHQub3JnL2FjbWUvY2hhbGxlbmdlL21mRjRCejNNWWNhNldickNuTGVhSmVsaE9ueHZvNGlrTDlyWVlPT0JuNnMvNjcxNTM5NzAxNyJ9\",\r\n  \"signature\": \"b88K601gdfv36zTDmIhzK51sJxarQH9vkh_J2K0Yssk_6oOUO_kJM3JrDehh8L5PqeDsz6jD_G2qy1UJ9iniTMP8GcGWlrm1Tia93ozvudVNCrk7o2NXW1OzdSOLc0-Re8jzkyEk4hwLqvjH4hOs-tO8FCHV1gd7sm91snmYm-QWfGdH6eOhf1aEA2UozBRETaedwVR6zRxJEfRNaYSwp_-VcQAdUtsWFuEQgMihsDttTWq-StoMj0-FpfKg1UPm43IxnMQAgZHfe7v5koX_ecarqJ0yf0Aww4Kbbec0wdPQqvmTyLczvqRDUIEnOABCCC1MG3aZX0ekolahjvr-sw\",\r\n  \"payload\": \"ewogICJyZXNvdXJjZSI6ICJjaGFsbGVuZ2UiLAogICJrZXlBdXRob3JpemF0aW9uIjogImVMS183SmpJd2NMalp3ZVZkbkJBdTVFV0Y4cWxWRm43bVFkYTBwcGxRbk0uVGNFZGIyN3JHOFhPVmp3WkVGQ0ZhdTdSVEVyRkQzRWJWQWRlZExjMXZPayIsCiAgInR5cGUiOiAiaHR0cC0wMSIKfQ\"\r\n}\r\n2018-08-24 17:09:09,788:DEBUG:urllib3.connectionpool:https://acme-v02.api.letsencrypt.org:443 \"POST /acme/challenge/mfF4Bz3MYca6WbrCnLeaJelhOnxvo4ikL9rYYOOBn6s/6715397017 HTTP/1.1\" 200 578\r\n2018-08-24 17:09:09,789:DEBUG:acme.client:Received response:\r\nHTTP 200\r\nServer: nginx\r\nContent-Type: application/json\r\nContent-Length: 578\r\nBoulder-Requester: 40751114\r\nLink: <https://acme-v02.api.letsencrypt.org/acme/authz/mfF4Bz3MYca6WbrCnLeaJelhOnxvo4ikL9rYYOOBn6s>;rel=\"up\"\r\nLocation: https://acme-v02.api.letsencrypt.org/acme/challenge/mfF4Bz3MYca6WbrCnLeaJelhOnxvo4ikL9rYYOOBn6s/6715397017\r\nReplay-Nonce: P3TbXcSoJNHggTtMnr3IsXpQX1svXfXbqs0nf8j06Uc\r\nX-Frame-Options: DENY\r\nStrict-Transport-Security: max-age=604800\r\nExpires: Fri, 24 Aug 2018 22:09:09 GMT\r\nCache-Control: max-age=0, no-cache, no-store\r\nPragma: no-cache\r\nDate: Fri, 24 Aug 2018 22:09:09 GMT\r\nConnection: keep-alive\r\n\r\n{\r\n  \"type\": \"http-01\",\r\n  \"status\": \"valid\",\r\n  \"url\": \"https://acme-v02.api.letsencrypt.org/acme/challenge/mfF4Bz3MYca6WbrCnLeaJelhOnxvo4ikL9rYYOOBn6s/6715397017\",\r\n  \"token\": \"eLK_7JjIwcLjZweVdnBAu5EWF8qlVFn7mQda0pplQnM\",\r\n  \"validationRecord\": [\r\n    {\r\n      \"url\": \"http://test2.criticalsupplies.somedomain.com/.well-known/acme-challenge/eLK_7JjIwcLjZweVdnBAu5EWF8qlVFn7mQda0pplQnM\",\r\n      \"hostname\": \"test2.criticalsupplies.somedomain.com\",\r\n      \"port\": \"80\",\r\n      \"addressesResolved\": [\r\n        \"209.249.1.1\"\r\n      ],\r\n      \"addressUsed\": \"209.249.1.1\"\r\n    }\r\n  ]\r\n}\r\n2018-08-24 17:09:09,789:DEBUG:acme.client:Storing nonce: P3TbXcSoJNHggTtMnr3IsXpQX1svXfXbqs0nf8j06Uc\r\n2018-08-24 17:09:12,793:DEBUG:acme.client:Sending GET request to https://acme-v02.api.letsencrypt.org/acme/authz/mfF4Bz3MYca6WbrCnLeaJelhOnxvo4ikL9rYYOOBn6s.\r\n2018-08-24 17:09:12,895:DEBUG:urllib3.connectionpool:https://acme-v02.api.letsencrypt.org:443 \"GET /acme/authz/mfF4Bz3MYca6WbrCnLeaJelhOnxvo4ikL9rYYOOBn6s HTTP/1.1\" 200 1327\r\n2018-08-24 17:09:12,896:DEBUG:acme.client:Received response:\r\nHTTP 200\r\nServer: nginx\r\nContent-Type: application/json\r\nContent-Length: 1327\r\nX-Frame-Options: DENY\r\nStrict-Transport-Security: max-age=604800\r\nExpires: Fri, 24 Aug 2018 22:09:12 GMT\r\nCache-Control: max-age=0, no-cache, no-store\r\nPragma: no-cache\r\nDate: Fri, 24 Aug 2018 22:09:12 GMT\r\nConnection: keep-alive\r\n\r\n{\r\n  \"identifier\": {\r\n    \"type\": \"dns\",\r\n    \"value\": \"test2.criticalsupplies.somedomain.com\"\r\n  },\r\n  \"status\": \"valid\",\r\n  \"expires\": \"2018-09-22T17:18:42Z\",\r\n  \"challenges\": [\r\n    {\r\n      \"type\": \"dns-01\",\r\n      \"status\": \"pending\",\r\n      \"url\": \"https://acme-v02.api.letsencrypt.org/acme/challenge/mfF4Bz3MYca6WbrCnLeaJelhOnxvo4ikL9rYYOOBn6s/6715397016\",\r\n      \"token\": \"g5-BjIrgvb3BayzMcxiPaYl1M41o1ElhRlQrzAUiyOc\"\r\n    },\r\n    {\r\n      \"type\": \"http-01\",\r\n      \"status\": \"valid\",\r\n      \"url\": \"https://acme-v02.api.letsencrypt.org/acme/challenge/mfF4Bz3MYca6WbrCnLeaJelhOnxvo4ikL9rYYOOBn6s/6715397017\",\r\n      \"token\": \"eLK_7JjIwcLjZweVdnBAu5EWF8qlVFn7mQda0pplQnM\",\r\n      \"validationRecord\": [\r\n        {\r\n          \"url\": \"http://test2.criticalsupplies.somedomain.com/.well-known/acme-challenge/eLK_7JjIwcLjZweVdnBAu5EWF8qlVFn7mQda0pplQnM\",\r\n          \"hostname\": \"test2.criticalsupplies.somedomain.com\",\r\n          \"port\": \"80\",\r\n          \"addressesResolved\": [\r\n            \"209.249.1.1\"\r\n          ],\r\n          \"addressUsed\": \"209.249.1.1\"\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      \"type\": \"tls-alpn-01\",\r\n      \"status\": \"pending\",\r\n      \"url\": \"https://acme-v02.api.letsencrypt.org/acme/challenge/mfF4Bz3MYca6WbrCnLeaJelhOnxvo4ikL9rYYOOBn6s/6715397019\",\r\n      \"token\": \"OLmdlJ9EZJqv_OxxHnya8GUQRNSvqIW_TZRgGtxSg6E\"\r\n    }\r\n  ]\r\n}\r\n2018-08-24 17:09:12,898:DEBUG:certbot.error_handler:Calling registered functions\r\n2018-08-24 17:09:12,898:INFO:certbot.auth_handler:Cleaning up challenges\r\n2018-08-24 17:09:14,304:DEBUG:certbot.client:CSR: CSR(file='/etc/letsencrypt/csr/0040_csr-certbot.pem', data=b'-----BEGIN CERTIFICATE REQUEST-----\\nMIICiTCCAXECAQIwADCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAKpw\\nVPDovekOGT+V1VoYDUnPuzhGj7rEInpAQZiFvhcIQFDbBeN7wKxLZNCMMU9BCOrV\\ng255pXv2AoA9ILfxezIvsjVtTTPoQf9jnv+MldhWyRe7ChkFhW149oERoy7RkpHP\\ncox9QNtL7EiVrgLtHtf9sYbzPZs05DtI3R3U8wiSixNAqhGFBdovojn9fSqWYOOM\\n6hHe15hsD77QVl7ftd+JuCUEsavUp7S9pfGWKt3kXxkE7HZIeMCwzqHUCEinnNcn\\n1jjr54iTjdTN5igRwqtpoO/kV1/ubClLpOmhiOPCmJd4Neo7ZnFHFmboNDHutZkz\\nMsRh2W7jlHfHCuopNK0CAwEAAaBEMEIGCSqGSIb3DQEJDjE1MDMwMQYDVR0RBCow\\nKIImdGVzdDIuY3JpdGljYWxzdXBwbGllcy5nbzJwYXJ0bmVycy5jb20wDQYJKoZI\\nhvcNAQELBQADggEBAIsn5bsOrkeCyLGtCglcIRHltsrvam4a3tzj+JTUjzwx9Sdb\\n4Rvbnmbhd7H4RP7JnJl9pjg4Nit0r2hMCBB23ZWMTS7G+JdY4Dxmrt471MkBHQrn\\nEqP1Q6uW0K5Pu2YdV3r+r+3nNpQlPuveRNPJWtz8lGtvzpH6ikTyZRKMbCf0xqN0\\nlG1H18uPC/tKANfhwrcR2QC04VP5OKWcX1Ynrwz10IKzOhUjFfigFUIeE4Mw4slr\\na80KzdYal3wA+AZ65OyHzgco+PTboXHicczd2rWkUvK4utmsbxBwEhRtIMgtvirq\\nue5CXmqafke3pzyWdjycTY/PMtPy3OCdzwGQaO8=\\n-----END CERTIFICATE REQUEST-----\\n', form='pem')\r\n2018-08-24 17:09:14,308:DEBUG:acme.client:JWS payload:\r\nb'{\\n  \"resource\": \"new-cert\",\\n  \"csr\": \"MIICiTCCAXECAQIwADCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAKpwVPDovekOGT-V1VoYDUnPuzhGj7rEInpAQZiFvhcIQFDbBeN7wKxLZNCMMU9BCOrVg255pXv2AoA9ILfxezIvsjVtTTPoQf9jnv-MldhWyRe7ChkFhW149oERoy7RkpHPcox9QNtL7EiVrgLtHtf9sYbzPZs05DtI3R3U8wiSixNAqhGFBdovojn9fSqWYOOM6hHe15hsD77QVl7ftd-JuCUEsavUp7S9pfGWKt3kXxkE7HZIeMCwzqHUCEinnNcn1jjr54iTjdTN5igRwqtpoO_kV1_ubClLpOmhiOPCmJd4Neo7ZnFHFmboNDHutZkzMsRh2W7jlHfHCuopNK0CAwEAAaBEMEIGCSqGSIb3DQEJDjE1MDMwMQYDVR0RBCowKIImdGVzdDIuY3JpdGljYWxzdXBwbGllcy5nbzJwYXJ0bmVycy5jb20wDQYJKoZIhvcNAQELBQADggEBAIsn5bsOrkeCyLGtCglcIRHltsrvam4a3tzj-JTUjzwx9Sdb4Rvbnmbhd7H4RP7JnJl9pjg4Nit0r2hMCBB23ZWMTS7G-JdY4Dxmrt471MkBHQrnEqP1Q6uW0K5Pu2YdV3r-r-3nNpQlPuveRNPJWtz8lGtvzpH6ikTyZRKMbCf0xqN0lG1H18uPC_tKANfhwrcR2QC04VP5OKWcX1Ynrwz10IKzOhUjFfigFUIeE4Mw4slra80KzdYal3wA-AZ65OyHzgco-PTboXHicczd2rWkUvK4utmsbxBwEhRtIMgtvirque5CXmqafke3pzyWdjycTY_PMtPy3OCdzwGQaO8\"\\n}'\r\n2018-08-24 17:09:14,312:DEBUG:acme.client:Sending POST request to https://acme-v02.api.letsencrypt.org/acme/finalize/40751114/46868681:\r\n{\r\n  \"protected\": \"eyJhbGciOiAiUlMyNTYiLCAia2lkIjogImh0dHBzOi8vYWNtZS12MDIuYXBpLmxldHNlbmNyeXB0Lm9yZy9hY21lL2FjY3QvNDA3NTExMTQiLCAibm9uY2UiOiAiUDNUYlhjU29KTkhnZ1R0TW5yM0lzWHBRWDFzdlhmWGJxczBuZjhqMDZVYyIsICJ1cmwiOiAiaHR0cHM6Ly9hY21lLXYwMi5hcGkubGV0c2VuY3J5cHQub3JnL2FjbWUvZmluYWxpemUvNDA3NTExMTQvNDY4Njg2ODEifQ\",\r\n  \"signature\": \"p5KYKYOLVp20hVbNr-eqnXO9OjwnR1Bj76zKneFCDCSlxw2-CKNxa7wJcuJp_0wmiOLusLs5ehrgToXHWE_tKaaF20MXjWvd0hiUd9riySB2Q42ahzN-wJseeVC3i5X8WtBMW8AneFStYFV_BgrZ2eX-ZUm4lmovBlABHFLhv4FZqF_JnEx-N_wdbF0RGI2JlMgFpqKmvEWNMTUfU0bN0jnlFCpwNyhmkhMcp7KGicoZIOpZXMZAgM9-qXV8WXRnH9a1qeRzdPBNPxcTk70bwusMqgkgQn2bLYcqK61ltSl0N7rzYn-zpQO0RBztJw_FH-ZzNqHeA_zWg3-IUx7YaQ\",\r\n  \"payload\": \"ewogICJyZXNvdXJjZSI6ICJuZXctY2VydCIsCiAgImNzciI6ICJNSUlDaVRDQ0FYRUNBUUl3QURDQ0FTSXdEUVlKS29aSWh2Y05BUUVCQlFBRGdnRVBBRENDQVFvQ2dnRUJBS3B3VlBEb3Zla09HVC1WMVZvWURVblB1emhHajdyRUlucEFRWmlGdmhjSVFGRGJCZU43d0t4TFpOQ01NVTlCQ09yVmcyNTVwWHYyQW9BOUlMZnhlekl2c2pWdFRUUG9RZjlqbnYtTWxkaFd5UmU3Q2hrRmhXMTQ5b0VSb3k3UmtwSFBjb3g5UU50TDdFaVZyZ0x0SHRmOXNZYnpQWnMwNUR0STNSM1U4d2lTaXhOQXFoR0ZCZG92b2puOWZTcVdZT09NNmhIZTE1aHNENzdRVmw3ZnRkLUp1Q1VFc2F2VXA3UzlwZkdXS3Qza1h4a0U3SFpJZU1Dd3pxSFVDRWlubk5jbjFqanI1NGlUamRUTjVpZ1J3cXRwb09fa1YxX3ViQ2xMcE9taGlPUENtSmQ0TmVvN1puRkhGbWJvTkRIdXRaa3pNc1JoMlc3amxIZkhDdW9wTkswQ0F3RUFBYUJFTUVJR0NTcUdTSWIzRFFFSkRqRTFNRE13TVFZRFZSMFJCQ293S0lJbWRHVnpkREl1WTNKcGRHbGpZV3h6ZFhCd2JHbGxjeTVuYnpKd1lYSjBibVZ5Y3k1amIyMHdEUVlKS29aSWh2Y05BUUVMQlFBRGdnRUJBSXNuNWJzT3JrZUN5TEd0Q2dsY0lSSGx0c3J2YW00YTN0emotSlRVanp3eDlTZGI0UnZibm1iaGQ3SDRSUDdKbkpsOXBqZzROaXQwcjJoTUNCQjIzWldNVFM3Ry1KZFk0RHhtcnQ0NzFNa0JIUXJuRXFQMVE2dVcwSzVQdTJZZFYzci1yLTNuTnBRbFB1dmVSTlBKV3R6OGxHdHZ6cEg2aWtUeVpSS01iQ2YweHFOMGxHMUgxOHVQQ190S0FOZmh3cmNSMlFDMDRWUDVPS1djWDFZbnJ3ejEwSUt6T2hVakZmaWdGVUllRTRNdzRzbHJhODBLemRZYWwzd0EtQVo2NU95SHpnY28tUFRib1hIaWNjemQycldrVXZLNHV0bXNieEJ3RWhSdElNZ3R2aXJxdWU1Q1htcWFma2UzcHp5V2RqeWNUWV9QTXRQeTNPQ2R6d0dRYU84Igp9\"\r\n}\r\n2018-08-24 17:09:14,407:DEBUG:urllib3.connectionpool:https://acme-v02.api.letsencrypt.org:443 \"POST /acme/finalize/40751114/46868681 HTTP/1.1\" 429 261\r\n2018-08-24 17:09:14,408:DEBUG:acme.client:Received response:\r\nHTTP 429\r\nServer: nginx\r\nContent-Type: application/problem+json\r\nContent-Length: 261\r\nBoulder-Requester: 40751114\r\nReplay-Nonce: rQROaDfNSx4jrd9jXxK7rR-sLkdQWeeqVjiWbCDdiAM\r\nExpires: Fri, 24 Aug 2018 22:09:14 GMT\r\nCache-Control: max-age=0, no-cache, no-store\r\nPragma: no-cache\r\nDate: Fri, 24 Aug 2018 22:09:14 GMT\r\nConnection: close\r\n\r\n{\r\n  \"type\": \"urn:ietf:params:acme:error:rateLimited\",\r\n  \"detail\": \"Error finalizing order :: too many certificates already issued for exact set of domains: test2.criticalsupplies.somedomain.com: see https://letsencrypt.org/docs/rate-limits/\",\r\n  \"status\": 429\r\n}\r\n2018-08-24 17:09:14,408:DEBUG:acme.client:Storing nonce: rQROaDfNSx4jrd9jXxK7rR-sLkdQWeeqVjiWbCDdiAM\r\n2018-08-24 17:09:14,409:DEBUG:certbot.log:Exiting abnormally:\r\nTraceback (most recent call last):\r\n  File \"/usr/bin/certbot\", line 11, in <module>\r\n    load_entry_point('certbot==0.26.1', 'console_scripts', 'certbot')()\r\n  File \"/usr/lib/python3/dist-packages/certbot/main.py\", line 1364, in main\r\n    return config.func(config, plugins)\r\n  File \"/usr/lib/python3/dist-packages/certbot/main.py\", line 1254, in certonly\r\n    lineage = _get_and_save_cert(le_client, config, domains, certname, lineage)\r\n  File \"/usr/lib/python3/dist-packages/certbot/main.py\", line 120, in _get_and_save_cert\r\n    lineage = le_client.obtain_and_enroll_certificate(domains, certname)\r\n  File \"/usr/lib/python3/dist-packages/certbot/client.py\", line 391, in obtain_and_enroll_certificate\r\n    cert, chain, key, _ = self.obtain_certificate(domains)\r\n  File \"/usr/lib/python3/dist-packages/certbot/client.py\", line 350, in obtain_certificate\r\n    cert, chain = self.obtain_certificate_from_csr(csr, orderr)\r\n  File \"/usr/lib/python3/dist-packages/certbot/client.py\", line 282, in obtain_certificate_from_csr\r\n    orderr = self.acme.finalize_order(orderr, deadline)\r\n  File \"/usr/lib/python3/dist-packages/acme/client.py\", line 843, in finalize_order\r\n    return self.client.finalize_order(orderr, deadline)\r\n  File \"/usr/lib/python3/dist-packages/acme/client.py\", line 697, in finalize_order\r\n    self._post(orderr.body.finalize, wrapped_csr)\r\n  File \"/usr/lib/python3/dist-packages/acme/client.py\", line 92, in _post\r\n    return self.net.post(*args, **kwargs)\r\n  File \"/usr/lib/python3/dist-packages/acme/client.py\", line 1106, in post\r\n    return self._post_once(*args, **kwargs)\r\n  File \"/usr/lib/python3/dist-packages/acme/client.py\", line 1120, in _post_once\r\n    return self._check_response(response, content_type=content_type)\r\n  File \"/usr/lib/python3/dist-packages/acme/client.py\", line 980, in _check_response\r\n    raise messages.Error.from_json(jobj)\r\nacme.messages.Error: urn:ietf:params:acme:error:rateLimited :: There were too many requests of a given type :: Error finalizing order :: too many certificates already issued for exact set of domains: test2.criticalsupplies.somedomain.com: see https://letsencrypt.org/docs/rate-limits/\r\n2018-08-24 17:09:14,411:ERROR:certbot.log:An unexpected error occurred:\r\n2018-08-24 17:09:14,411:ERROR:certbot.log:There were too many requests of a given type :: Error finalizing order :: too many certificates already issued for exact set of domains: test2.criticalsupplies.somedomain.com: see https://letsencrypt.org/docs/rate-limits/\r\n\r\n```\r\n## Here is the relevant nginx server block or Apache virtualhost for the domain I am configuring:\r\nn/a", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/6318/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/6318/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/6313", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/6313/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/6313/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/6313/events", "html_url": "https://github.com/certbot/certbot/issues/6313", "id": 352756931, "node_id": "MDU6SXNzdWUzNTI3NTY5MzE=", "number": 6313, "title": "https://dl.eff.org Cert is expired and you can't download certbot-auto", "user": {"login": "gullevek", "id": 855861, "node_id": "MDQ6VXNlcjg1NTg2MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/855861?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gullevek", "html_url": "https://github.com/gullevek", "followers_url": "https://api.github.com/users/gullevek/followers", "following_url": "https://api.github.com/users/gullevek/following{/other_user}", "gists_url": "https://api.github.com/users/gullevek/gists{/gist_id}", "starred_url": "https://api.github.com/users/gullevek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gullevek/subscriptions", "organizations_url": "https://api.github.com/users/gullevek/orgs", "repos_url": "https://api.github.com/users/gullevek/repos", "events_url": "https://api.github.com/users/gullevek/events{/privacy}", "received_events_url": "https://api.github.com/users/gullevek/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 276243379, "node_id": "MDU6TGFiZWwyNzYyNDMzNzk=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20certbot-auto", "name": "area: certbot-auto", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-08-22T00:25:07Z", "updated_at": "2018-08-22T16:37:51Z", "closed_at": "2018-08-22T16:37:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "Major problem, you can't download the certbot-auto or anything because the cert on dl.eff.org is expired. So you can't download it at all as there seems to be no alternate mirrors.\r\n\r\n## My operating system is (include version):\r\n\r\nCentOS 6\r\n\r\n## I installed Certbot with (certbot-auto, OS package manager, pip, etc):\r\n\r\nTry to wget it\r\n\r\n## I ran this command and it produced this output:\r\n\r\n```\r\n# wget http://dl.eff.org/certbot-auto\r\n--2018-08-22 09:17:48--  http://dl.eff.org/certbot-auto\r\nResolving dl.eff.org... 151.101.72.201, 2a04:4e42:11::201\r\nConnecting to dl.eff.org|151.101.72.201|:80... connected.\r\nHTTP request sent, awaiting response... 503 certificate has expired\r\n2018-08-22 09:17:49 ERROR 503: certificate has expired.\r\n```\r\n\r\nOR via web\r\n\r\n```\r\nError 503 certificate has expired\r\n\r\ncertificate has expired\r\nGuru Mediation:\r\n\r\nDetails: cache-hnd18749-HND 1534897431 4156288774\r\n\r\nVarnish cache server\r\n```\r\n\r\n## Certbot's behavior differed from what I expected because:\r\n\r\nI expected the certbot script, but I got nothing :(\r\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/6313/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/6313/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/6299", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/6299/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/6299/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/6299/events", "html_url": "https://github.com/certbot/certbot/issues/6299", "id": 350070869, "node_id": "MDU6SXNzdWUzNTAwNzA4Njk=", "number": 6299, "title": "Certbot shuts down Apache without starting it again", "user": {"login": "t-eichmann", "id": 42349566, "node_id": "MDQ6VXNlcjQyMzQ5NTY2", "avatar_url": "https://avatars.githubusercontent.com/u/42349566?v=4", "gravatar_id": "", "url": "https://api.github.com/users/t-eichmann", "html_url": "https://github.com/t-eichmann", "followers_url": "https://api.github.com/users/t-eichmann/followers", "following_url": "https://api.github.com/users/t-eichmann/following{/other_user}", "gists_url": "https://api.github.com/users/t-eichmann/gists{/gist_id}", "starred_url": "https://api.github.com/users/t-eichmann/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/t-eichmann/subscriptions", "organizations_url": "https://api.github.com/users/t-eichmann/orgs", "repos_url": "https://api.github.com/users/t-eichmann/repos", "events_url": "https://api.github.com/users/t-eichmann/events{/privacy}", "received_events_url": "https://api.github.com/users/t-eichmann/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 258836903, "node_id": "MDU6TGFiZWwyNTg4MzY5MDM=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20apache", "name": "area: apache", "color": "c5def5", "default": false, "description": null}, {"id": 261409142, "node_id": "MDU6TGFiZWwyNjE0MDkxNDI=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20renewal", "name": "area: renewal", "color": "c5def5", "default": false, "description": null}, {"id": 276680181, "node_id": "MDU6TGFiZWwyNzY2ODAxODE=", "url": "https://api.github.com/repos/certbot/certbot/labels/more-info", "name": "more-info", "color": "006b75", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2018-08-13T15:08:02Z", "updated_at": "2018-08-20T07:22:56Z", "closed_at": "2018-08-20T07:22:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "## My operating system is (include version):\r\nUbuntu 18.04\r\n\r\n## I installed Certbot with (certbot-auto, OS package manager, pip, etc):\r\npackage manager\r\n\r\n## I ran this command and it produced this output:\r\nWhen running certbot with the renew command it ends its works with telling me that it is starting the Apache server again, but instead it shuts down Apache. The Apache logs tell me that Apache received a SIGTERM and is shutting down. The Apache logs also tell me that Apache is restarted during the renewal process several times, I think this is because we have some HTTP-challenge certificates and some of the older tls-sni-challenge certificates.\r\nEven specifying a \"systemctl start apache2\" post-hook doesn't help.\r\n\r\n## Certbot's behavior differed from what I expected because:\r\nApache should be started or at least restarted, but is shut down.\r\nHere is the relevant part from the Apache logs:\r\n[Mon Aug 13 09:59:28 2018] [notice] [pid 12062] AH00171: Graceful restart requested, doing restart\r\nAH00558: apache2: Could not reliably determine the server's fully qualified domain name, using 2a01:4f8:212:16a6::2. Set the 'ServerName' directive globally to suppress this message\r\n[Mon Aug 13 09:59:28 2018] [notice] [pid 12062] AH00163: Apache/2.4.29 (Ubuntu) OpenSSL/1.1.0g configured -- resuming normal operations\r\n[Mon Aug 13 09:59:28 2018] [notice] [pid 12062] AH00094: Command line: '/usr/sbin/apache2'\r\n[Mon Aug 13 09:59:28 2018] [notice] [pid 12062] AH00169: caught SIGTERM, shutting down\r\n\r\nPlease ignore the warning about the FQDN, this Apache is merely running as a TLS termination proxy and doesn't need a FQDN.\r\n\r\nThe only relevant part from the certbot logs seems to be this at the end of the renewal process:\r\n2018-08-13 09:59:28,058:INFO:certbot.hooks:Running post-hook command: systemctl start apache2\r\n\r\nThere is nothing else regarding starting/stopping/restarting Apache in there.\r\n\r\nI am out of clues how to handle this and am now down to manually starting certbot renew once a day. \r\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/6299/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/6299/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/6266", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/6266/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/6266/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/6266/events", "html_url": "https://github.com/certbot/certbot/issues/6266", "id": 345597644, "node_id": "MDU6SXNzdWUzNDU1OTc2NDQ=", "number": 6266, "title": "Certbot fails when parsing Apache conf file (but Apache doesn't report any errors)", "user": {"login": "atreloar", "id": 6369835, "node_id": "MDQ6VXNlcjYzNjk4MzU=", "avatar_url": "https://avatars.githubusercontent.com/u/6369835?v=4", "gravatar_id": "", "url": "https://api.github.com/users/atreloar", "html_url": "https://github.com/atreloar", "followers_url": "https://api.github.com/users/atreloar/followers", "following_url": "https://api.github.com/users/atreloar/following{/other_user}", "gists_url": "https://api.github.com/users/atreloar/gists{/gist_id}", "starred_url": "https://api.github.com/users/atreloar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/atreloar/subscriptions", "organizations_url": "https://api.github.com/users/atreloar/orgs", "repos_url": "https://api.github.com/users/atreloar/repos", "events_url": "https://api.github.com/users/atreloar/events{/privacy}", "received_events_url": "https://api.github.com/users/atreloar/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 258836903, "node_id": "MDU6TGFiZWwyNTg4MzY5MDM=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20apache", "name": "area: apache", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-07-30T03:19:59Z", "updated_at": "2018-07-30T12:44:42Z", "closed_at": "2018-07-30T12:44:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "If you're having trouble using Certbot and aren't sure you've found a bug or\r\nrequest for a new feature, please first try asking for help at\r\nhttps://community.letsencrypt.org/. There is a much larger community there of\r\npeople familiar with the project who will be able to more quickly answer your\r\nquestions.\r\n\r\n## My operating system is (include version):\r\nUbuntu 16.04 (provided through Linode)\r\n\r\n## I installed Certbot with (certbot-auto, OS package manager, pip, etc):\r\nUsing the package manager as documented at https://certbot.eff.org/lets-encrypt/ubuntuxenial-apache\r\n\r\n## I ran this command and it produced this output:\r\nsudo certbot --apache\r\n\r\nSaving debug log to /var/log/letsencrypt/letsencrypt.log\r\nThe apache plugin is not working; there may be problems with your existing configuration.\r\nThe error was: PluginError('There has been an error in parsing the file /etc/apache2/sites-enabled/andrew.treloar.net.conf on line 63: Syntax error',)\r\n\r\n## Certbot's behavior differed from what I expected because:\r\nI expected it to work. \r\nLine 63 in andrew.treloar.net.conf is \r\n#.\r\nLine 62 in andrew.treloar.net.conf (which might be more useful) is\r\n<IfModule mime_module>\r\n\r\nI am assuming that the reported error line is actually the line number in the concatenated conf file, but I can't work out how to see what that \"virtual\" line number is. I've scanned the files that should be getting included and can't see anything obviously wrong. \r\n\r\nIf I run:\r\nsudo apachectl configtest\r\n\r\nI get:\r\nSyntax OK\r\n\r\n## Here is a Certbot log showing the issue (if available):\r\n###### Logs are stored in `/var/log/letsencrypt` by default. Feel free to redact domains, e-mail and IP addresses as you see fit.\r\n\r\n2018-07-30 13:10:27,590:DEBUG:certbot.plugins.selection:Requested authenticator apache and installer apache\r\n2018-07-30 13:10:27,663:DEBUG:certbot_apache.configurator:Apache version is 2.4.18\r\n2018-07-30 13:10:27,975:DEBUG:certbot.plugins.disco:Other error:(PluginEntryPoint#apache): There has been an error in parsing the file /etc/apache2/sites-enabled/andrew.treloar.net.conf on line 63: Syntax error\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3/dist-packages/certbot/plugins/disco.py\", line 132, in prepare\r\n    self._initialized.prepare()\r\n  File \"/usr/lib/python3/dist-packages/certbot_apache/configurator.py\", line 234, in prepare\r\n    self.check_parsing_errors(\"httpd.aug\")\r\n  File \"/usr/lib/python3/dist-packages/certbot_apache/augeas_configurator.py\", line 77, in check_parsing_errors\r\n    raise errors.PluginError(msg)\r\ncertbot.errors.PluginError: There has been an error in parsing the file /etc/apache2/sites-enabled/andrew.treloar.net.conf on line 63: Syntax error\r\n2018-07-30 13:10:27,977:DEBUG:certbot.plugins.selection:No candidate plugin\r\n2018-07-30 13:10:27,977:DEBUG:certbot.plugins.selection:Selected authenticator None and installer None\r\n\r\n## Here is the relevant nginx server block or Apache virtualhost for the domain I am configuring:\r\n# domain: andrew.treloar.net\r\n# public: /var/www/html/treloar.net/public_html/\r\n\r\n<VirtualHost *:80>\r\n  # Admin email, Server Name (domain name), and any aliases\r\n  ServerAdmin andrew.treloar@gmail.com\r\n  ServerName  andrew.treloar.net\r\n\r\n  # Index file and Document Root (where the public files are located)\r\n  DirectoryIndex index.html index.php\r\n  DocumentRoot /var/www/html/treloar.net/public_html/andrew\r\n  # Log file locations\r\n  LogLevel warn\r\n  ErrorLog  /var/www/html/treloar.net/log/error.log\r\n  CustomLog /var/www/html/treloar.net/log/access.log combined\r\n\r\n<Directory /var/www/>\r\n        Options Indexes FollowSymLinks MultiViews Includes\r\n        AllowOverride None\r\n        Order allow,deny\r\n        allow from all\r\n</Directory>\r\n\r\n<IfModule dir_module>\r\n    DirectoryIndex index.html\r\n</IfModule>\r\n\r\n<IfModule alias_module>\r\n    #\r\n    # Redirect: Allows you to tell clients about documents that used to\r\n    # exist in your server's namespace, but do not anymore. The client\r\n    # will make a new request for the document at its new location.\r\n    # Example:\r\n    # Redirect permanent /foo http://www.example.com/bar\r\n\r\n    # Set up permanent redirect from .shtml files to .html files\r\n    RedirectMatch permanent (.*)\\.shtml$ $1.html\r\n\r\n    #\r\n    # Alias: Maps web paths into filesystem paths and is used to\r\n    # access content that does not live under the DocumentRoot.\r\n    # Example:\r\n    # Alias /webpath /full/filesystem/path\r\n    #\r\n    # If you include a trailing / on /webpath then the server will\r\n    # require it to be present in the URL.  You will also likely\r\n    # need to provide a <Directory> section to allow access to\r\n    # the filesystem path.\r\n\r\n    # \r\n    # ScriptAlias: This controls which directories contain server scripts.\r\n    # ScriptAliases are essentially the same as Aliases, except that\r\n    # documents in the target directory are treated as applications and\r\n    # run by the server when requested rather than as documents sent to the\r\n    # client.  The same rules about trailing \"/\" apply to ScriptAlias\r\n    # directives as to Alias.\r\n    #\r\n    # ScriptAliasMatch ^/cgi-bin/((?!(?i:webobjects)).*$) \"/Library/WebServer/CGI$\r\n\r\n</IfModule>\r\n\r\n<IfModule mime_module>\r\n    # \r\n    # TypesConfig points to the file containing the list of mappings from\r\n    # filename extension to MIME-type.\r\n    #\r\n    TypesConfig /private/etc/apache2/mime.types\r\n    # \r\n    TypesConfig /private/etc/apache2/mime.types\r\n\r\n    #\r\n    # AddType allows you to add to or override the MIME configuration\r\n    # file specified in TypesConfig for specific file types.\r\n    #\r\n    #AddType application/x-gzip .tgz\r\n    #\r\n    # AddEncoding allows you to have certain browsers uncompress\r\n    # information on the fly. Note: Not all browsers support this.\r\n    #\r\n    #AddEncoding x-compress .Z\r\n    #AddEncoding x-gzip .gz .tgz\r\n    #\r\n    # If the AddEncoding directives above are commented-out, then you\r\n    # probably should define those extensions to indicate media types:\r\n    # \r\n    AddType application/x-compress .Z\r\n    AddType application/x-gzip .gz .tgz\r\n\r\n    #\r\n    # AddHandler allows you to map certain file extensions to \"handlers\":\r\n    # actions unrelated to filetype. These can be either built into the server\r\n    # or added with the Action directive (see below)\r\n    #\r\n    # To use CGI scripts outside of ScriptAliased directories:\r\n    # (You will also need to add \"ExecCGI\" to the \"Options\" directive.)\r\n    # \r\n    #AddHandler cgi-script .cgi\r\n\r\n    # For type maps (negotiated resources):\r\n    #AddHandler type-map var\r\n\r\n    # \r\n    # Filters allow you to process content before it is sent to the client.\r\n    # \r\n    # To parse .shtml files for server-side includes (SSI):\r\n    # (You will also need to add \"Includes\" to the \"Options\" directive.)\r\n    #\r\n    AddType text/html .shtml\r\n    AddType text/html .html\r\n    AddOutputFilter INCLUDES .shtml\r\n    AddOutputFilter INCLUDES .html\r\n</IfModule>\r\n\r\n</VirtualHost>", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/6266/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/6266/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/6259", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/6259/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/6259/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/6259/events", "html_url": "https://github.com/certbot/certbot/issues/6259", "id": 344693965, "node_id": "MDU6SXNzdWUzNDQ2OTM5NjU=", "number": 6259, "title": "certbot.timer and certbot.service missing from PPA package", "user": {"login": "clayfreeman", "id": 182658, "node_id": "MDQ6VXNlcjE4MjY1OA==", "avatar_url": "https://avatars.githubusercontent.com/u/182658?v=4", "gravatar_id": "", "url": "https://api.github.com/users/clayfreeman", "html_url": "https://github.com/clayfreeman", "followers_url": "https://api.github.com/users/clayfreeman/followers", "following_url": "https://api.github.com/users/clayfreeman/following{/other_user}", "gists_url": "https://api.github.com/users/clayfreeman/gists{/gist_id}", "starred_url": "https://api.github.com/users/clayfreeman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/clayfreeman/subscriptions", "organizations_url": "https://api.github.com/users/clayfreeman/orgs", "repos_url": "https://api.github.com/users/clayfreeman/repos", "events_url": "https://api.github.com/users/clayfreeman/events{/privacy}", "received_events_url": "https://api.github.com/users/clayfreeman/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 200587469, "node_id": "MDU6TGFiZWwyMDA1ODc0Njk=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20debian%20/%20ubuntu", "name": "area: debian / ubuntu", "color": "c5def5", "default": false, "description": null}, {"id": 276667632, "node_id": "MDU6TGFiZWwyNzY2Njc2MzI=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20pkging", "name": "area: pkging", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2018-07-26T04:49:42Z", "updated_at": "2018-07-26T20:27:03Z", "closed_at": "2018-07-26T20:27:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "If you're having trouble using Certbot and aren't sure you've found a bug or\r\nrequest for a new feature, please first try asking for help at\r\nhttps://community.letsencrypt.org/. There is a much larger community there of\r\npeople familiar with the project who will be able to more quickly answer your\r\nquestions.\r\n\r\n## My operating system is (include version):\r\nUbuntu 18.04 LTS\r\n\r\n## I installed Certbot with (certbot-auto, OS package manager, pip, etc):\r\n`ppa:certbot/certbot`\r\n\r\n## Certbot's behavior differed from what I expected because:\r\n`certbot.timer` and `certbot.service` were missing in the `certbot` package from the PPA. These files are still present in Ubuntu `universe`.\r\n\r\nsystemd is still referenced in `/etc/cron.d/certbot`, so why are these files missing? Were they removed?", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/6259/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/6259/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/6247", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/6247/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/6247/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/6247/events", "html_url": "https://github.com/certbot/certbot/issues/6247", "id": 343392265, "node_id": "MDU6SXNzdWUzNDMzOTIyNjU=", "number": 6247, "title": "Parsing error apache vhost.conf with nested \"(\" / \")\" over several lines", "user": {"login": "datiscum", "id": 14824345, "node_id": "MDQ6VXNlcjE0ODI0MzQ1", "avatar_url": "https://avatars.githubusercontent.com/u/14824345?v=4", "gravatar_id": "", "url": "https://api.github.com/users/datiscum", "html_url": "https://github.com/datiscum", "followers_url": "https://api.github.com/users/datiscum/followers", "following_url": "https://api.github.com/users/datiscum/following{/other_user}", "gists_url": "https://api.github.com/users/datiscum/gists{/gist_id}", "starred_url": "https://api.github.com/users/datiscum/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/datiscum/subscriptions", "organizations_url": "https://api.github.com/users/datiscum/orgs", "repos_url": "https://api.github.com/users/datiscum/repos", "events_url": "https://api.github.com/users/datiscum/events{/privacy}", "received_events_url": "https://api.github.com/users/datiscum/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 258836903, "node_id": "MDU6TGFiZWwyNTg4MzY5MDM=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20apache", "name": "area: apache", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/59", "html_url": "https://github.com/certbot/certbot/milestone/59", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/59/labels", "id": 3627005, "node_id": "MDk6TWlsZXN0b25lMzYyNzAwNQ==", "number": 59, "title": "0.28.0", "description": "", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 24, "state": "closed", "created_at": "2018-09-06T01:05:42Z", "updated_at": "2018-11-08T23:29:08Z", "due_on": "2018-10-03T07:00:00Z", "closed_at": "2018-11-08T23:29:08Z"}, "comments": 3, "created_at": "2018-07-22T09:40:12Z", "updated_at": "2018-10-31T16:34:42Z", "closed_at": "2018-10-31T16:34:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "\r\nMy operating system is ( Ubuntu 18.04 LTS ):\r\n\r\nI installed Certbot with ( OS package manager  ): certbot  0.23.0-1\r\n\r\nI ran this command and it produced this output:\r\nletsencrypt renew \r\n\r\nCertbot's behavior differed from what I expected because:\r\nCert not due for renewal, but simulating renewal for dry run\r\nCould not choose appropriate plugin: The apache plugin is not working; there may be problems with your existing configuration.\r\nThe error was: PluginError('There has been an error in parsing the file /etc/apache2/sites-enabled/XXXXX.conf on line 248: Syntax error',)\r\n\r\n<ElseIf  \"(( %{REQUEST_METHOD} =  ) && ( =~ () )\\\r\n          || (  %{HTTP_REFERER} =~ ())\\\r\n          || ( (%{HTTP_REFERER} =~ ) && ( =~ ( ) ))\\\r\n          || ( (%{QUERY_STRING} =~ () = ) && (  =~  ))\\\r\n          || ( (%{HTTP_REFERER} =~ ) && (  =~  ))\\\r\n          || ( (-z %{HTTP_REFERER} || %{HTTP_REFERER} = ) &&  =~ )\\\r\n          || ( (-z %{HTTP_REFERER} || %{HTTP_REFERER} = ) &&  =~ ) **)**\\\r\n          || (( %{REQUEST_METHOD} = ) &&  ( =~ ))\">\r\n\r\nIn the penultimate line at the end, I remove the\")\" the parser is happy, which is wrong.\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/6247/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/6247/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/6246", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/6246/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/6246/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/6246/events", "html_url": "https://github.com/certbot/certbot/issues/6246", "id": 343213921, "node_id": "MDU6SXNzdWUzNDMyMTM5MjE=", "number": 6246, "title": "If the account has already been created and we try to create again Json parsing exception occures", "user": {"login": "daramousk", "id": 3503159, "node_id": "MDQ6VXNlcjM1MDMxNTk=", "avatar_url": "https://avatars.githubusercontent.com/u/3503159?v=4", "gravatar_id": "", "url": "https://api.github.com/users/daramousk", "html_url": "https://github.com/daramousk", "followers_url": "https://api.github.com/users/daramousk/followers", "following_url": "https://api.github.com/users/daramousk/following{/other_user}", "gists_url": "https://api.github.com/users/daramousk/gists{/gist_id}", "starred_url": "https://api.github.com/users/daramousk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/daramousk/subscriptions", "organizations_url": "https://api.github.com/users/daramousk/orgs", "repos_url": "https://api.github.com/users/daramousk/repos", "events_url": "https://api.github.com/users/daramousk/events{/privacy}", "received_events_url": "https://api.github.com/users/daramousk/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 272789317, "node_id": "MDU6TGFiZWwyNzI3ODkzMTc=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20error%20handling", "name": "area: error handling", "color": "c5def5", "default": false, "description": null}, {"id": 277074172, "node_id": "MDU6TGFiZWwyNzcwNzQxNzI=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20acme", "name": "area: acme", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/57", "html_url": "https://github.com/certbot/certbot/milestone/57", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/57/labels", "id": 3489472, "node_id": "MDk6TWlsZXN0b25lMzQ4OTQ3Mg==", "number": 57, "title": "0.27.0", "description": "", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 20, "state": "closed", "created_at": "2018-07-11T17:30:39Z", "updated_at": "2018-09-13T21:09:03Z", "due_on": "2018-09-05T07:00:00Z", "closed_at": "2018-09-13T21:09:03Z"}, "comments": 20, "created_at": "2018-07-20T18:56:35Z", "updated_at": "2019-01-17T21:34:33Z", "closed_at": "2018-07-27T16:01:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "This issue was mistakenly reported on the CA's Issues. Read the conversation at:\r\n\r\nhttps://github.com/letsencrypt/boulder/issues/3799\r\n\r\nUsing acme 0.26", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/6246/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/6246/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/6222", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/6222/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/6222/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/6222/events", "html_url": "https://github.com/certbot/certbot/issues/6222", "id": 341349333, "node_id": "MDU6SXNzdWUzNDEzNDkzMzM=", "number": 6222, "title": "OVH plugin tests require internet access", "user": {"login": "hlieberman", "id": 711517, "node_id": "MDQ6VXNlcjcxMTUxNw==", "avatar_url": "https://avatars.githubusercontent.com/u/711517?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hlieberman", "html_url": "https://github.com/hlieberman", "followers_url": "https://api.github.com/users/hlieberman/followers", "following_url": "https://api.github.com/users/hlieberman/following{/other_user}", "gists_url": "https://api.github.com/users/hlieberman/gists{/gist_id}", "starred_url": "https://api.github.com/users/hlieberman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hlieberman/subscriptions", "organizations_url": "https://api.github.com/users/hlieberman/orgs", "repos_url": "https://api.github.com/users/hlieberman/repos", "events_url": "https://api.github.com/users/hlieberman/events{/privacy}", "received_events_url": "https://api.github.com/users/hlieberman/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 200587469, "node_id": "MDU6TGFiZWwyMDA1ODc0Njk=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20debian%20/%20ubuntu", "name": "area: debian / ubuntu", "color": "c5def5", "default": false, "description": null}, {"id": 276667632, "node_id": "MDU6TGFiZWwyNzY2Njc2MzI=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20pkging", "name": "area: pkging", "color": "c5def5", "default": false, "description": null}, {"id": 281347824, "node_id": "MDU6TGFiZWwyODEzNDc4MjQ=", "url": "https://api.github.com/repos/certbot/certbot/labels/has%20pr", "name": "has pr", "color": "0052cc", "default": false, "description": null}, {"id": 596606268, "node_id": "MDU6TGFiZWw1OTY2MDYyNjg=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20dns", "name": "area: dns", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/59", "html_url": "https://github.com/certbot/certbot/milestone/59", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/59/labels", "id": 3627005, "node_id": "MDk6TWlsZXN0b25lMzYyNzAwNQ==", "number": 59, "title": "0.28.0", "description": "", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 24, "state": "closed", "created_at": "2018-09-06T01:05:42Z", "updated_at": "2018-11-08T23:29:08Z", "due_on": "2018-10-03T07:00:00Z", "closed_at": "2018-11-08T23:29:08Z"}, "comments": 4, "created_at": "2018-07-15T20:20:09Z", "updated_at": "2018-11-14T22:06:18Z", "closed_at": "2018-09-19T00:35:43Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Unlike other plugins using the lexicon backend, the dns-ovh plugin attempts to hit the actual OVH API during the testing phase.  When this is attempted inside Debian build environments, the tests all fail as internet access is not available.\r\n\r\n```\r\ntest_add_txt_record (certbot_dns_ovh.dns_ovh_test.OVHLexiconClientTest) ... ERROR\r\ntest_add_txt_record_error_adding_record (certbot_dns_ovh.dns_ovh_test.OVHLexiconClientTest) ... ERROR\r\ntest_add_txt_record_error_finding_domain (certbot_dns_ovh.dns_ovh_test.OVHLexiconClientTest) ... ERROR\r\ntest_add_txt_record_fail_to_authenticate (certbot_dns_ovh.dns_ovh_test.OVHLexiconClientTest) ... ERROR\r\ntest_add_txt_record_fail_to_authenticate_with_unknown_error (certbot_dns_ovh.dns_ovh_test.OVHLexiconClientTest) ... ERROR\r\ntest_add_txt_record_fail_to_find_domain (certbot_dns_ovh.dns_ovh_test.OVHLexiconClientTest) ... ERROR\r\ntest_add_txt_record_try_twice_to_find_domain (certbot_dns_ovh.dns_ovh_test.OVHLexiconClientTest) ... ERROR\r\ntest_del_txt_record (certbot_dns_ovh.dns_ovh_test.OVHLexiconClientTest) ... ERROR\r\ntest_del_txt_record_error_deleting_record (certbot_dns_ovh.dns_ovh_test.OVHLexiconClientTest) ... ERROR\r\ntest_del_txt_record_error_finding_domain (certbot_dns_ovh.dns_ovh_test.OVHLexiconClientTest) ... ERROR\r\ntest_del_txt_record_fail_to_authenticate (certbot_dns_ovh.dns_ovh_test.OVHLexiconClientTest) ... ERROR\r\ntest_del_txt_record_fail_to_authenticate_with_unknown_error (certbot_dns_ovh.dns_ovh_test.OVHLexiconClientTest) ... ERROR\r\ntest_del_txt_record_fail_to_find_domain (certbot_dns_ovh.dns_ovh_test.OVHLexiconClientTest) ... ERROR\r\n```\r\n```\r\nurllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='eu.api.ovh.com', port=443): Max retries exceeded with url: /1.0/auth/time (Caused by ProxyError('Cannot connect to proxy.', NewConnectionError('<urllib3.connection.VerifiedHTTPSConnection object at 0x7f8c1e181ac8>: Failed to establish a new connection: [Errno 111] Connection refused',)))\r\n```", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/6222/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/6222/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/6156", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/6156/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/6156/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/6156/events", "html_url": "https://github.com/certbot/certbot/pull/6156", "id": 336431839, "node_id": "MDExOlB1bGxSZXF1ZXN0MTk3ODg3MDAw", "number": 6156, "title": "Use account reuse symlink logic when loading an account", "user": {"login": "ohemorange", "id": 1227205, "node_id": "MDQ6VXNlcjEyMjcyMDU=", "avatar_url": "https://avatars.githubusercontent.com/u/1227205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ohemorange", "html_url": "https://github.com/ohemorange", "followers_url": "https://api.github.com/users/ohemorange/followers", "following_url": "https://api.github.com/users/ohemorange/following{/other_user}", "gists_url": "https://api.github.com/users/ohemorange/gists{/gist_id}", "starred_url": "https://api.github.com/users/ohemorange/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ohemorange/subscriptions", "organizations_url": "https://api.github.com/users/ohemorange/orgs", "repos_url": "https://api.github.com/users/ohemorange/repos", "events_url": "https://api.github.com/users/ohemorange/events{/privacy}", "received_events_url": "https://api.github.com/users/ohemorange/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 261409142, "node_id": "MDU6TGFiZWwyNjE0MDkxNDI=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20renewal", "name": "area: renewal", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/55", "html_url": "https://github.com/certbot/certbot/milestone/55", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/55/labels", "id": 3406101, "node_id": "MDk6TWlsZXN0b25lMzQwNjEwMQ==", "number": 55, "title": "0.26.0", "description": "", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 46, "state": "closed", "created_at": "2018-06-06T21:54:34Z", "updated_at": "2018-07-16T15:05:57Z", "due_on": "2018-07-05T07:00:00Z", "closed_at": "2018-07-12T23:01:20Z"}, "comments": 0, "created_at": "2018-06-28T00:22:31Z", "updated_at": "2018-07-11T18:44:13Z", "closed_at": "2018-06-28T20:34:17Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/certbot/certbot/pulls/6156", "html_url": "https://github.com/certbot/certbot/pull/6156", "diff_url": "https://github.com/certbot/certbot/pull/6156.diff", "patch_url": "https://github.com/certbot/certbot/pull/6156.patch", "merged_at": "2018-06-28T20:34:17Z"}, "body": "Fixes #6154.", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/6156/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/6156/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/certbot/certbot/issues/6155", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/6155/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/6155/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/6155/events", "html_url": "https://github.com/certbot/certbot/issues/6155", "id": 336419280, "node_id": "MDU6SXNzdWUzMzY0MTkyODA=", "number": 6155, "title": "Can't update or delete registration with account reuse", "user": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 277074172, "node_id": "MDU6TGFiZWwyNzcwNzQxNzI=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20acme", "name": "area: acme", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "ohemorange", "id": 1227205, "node_id": "MDQ6VXNlcjEyMjcyMDU=", "avatar_url": "https://avatars.githubusercontent.com/u/1227205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ohemorange", "html_url": "https://github.com/ohemorange", "followers_url": "https://api.github.com/users/ohemorange/followers", "following_url": "https://api.github.com/users/ohemorange/following{/other_user}", "gists_url": "https://api.github.com/users/ohemorange/gists{/gist_id}", "starred_url": "https://api.github.com/users/ohemorange/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ohemorange/subscriptions", "organizations_url": "https://api.github.com/users/ohemorange/orgs", "repos_url": "https://api.github.com/users/ohemorange/repos", "events_url": "https://api.github.com/users/ohemorange/events{/privacy}", "received_events_url": "https://api.github.com/users/ohemorange/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ohemorange", "id": 1227205, "node_id": "MDQ6VXNlcjEyMjcyMDU=", "avatar_url": "https://avatars.githubusercontent.com/u/1227205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ohemorange", "html_url": "https://github.com/ohemorange", "followers_url": "https://api.github.com/users/ohemorange/followers", "following_url": "https://api.github.com/users/ohemorange/following{/other_user}", "gists_url": "https://api.github.com/users/ohemorange/gists{/gist_id}", "starred_url": "https://api.github.com/users/ohemorange/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ohemorange/subscriptions", "organizations_url": "https://api.github.com/users/ohemorange/orgs", "repos_url": "https://api.github.com/users/ohemorange/repos", "events_url": "https://api.github.com/users/ohemorange/events{/privacy}", "received_events_url": "https://api.github.com/users/ohemorange/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/55", "html_url": "https://github.com/certbot/certbot/milestone/55", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/55/labels", "id": 3406101, "node_id": "MDk6TWlsZXN0b25lMzQwNjEwMQ==", "number": 55, "title": "0.26.0", "description": "", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 46, "state": "closed", "created_at": "2018-06-06T21:54:34Z", "updated_at": "2018-07-16T15:05:57Z", "due_on": "2018-07-05T07:00:00Z", "closed_at": "2018-07-12T23:01:20Z"}, "comments": 24, "created_at": "2018-06-27T23:13:42Z", "updated_at": "2018-08-22T18:31:43Z", "closed_at": "2018-07-10T20:03:26Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Create an ACMEv1 account by running:\r\n```\r\nsudo certbot register  --server https://acme-staging.api.letsencrypt.org/directory\r\n```\r\nThen try to delete (or update) the account when using the ACMEv2 server:\r\n```\r\nsudo certbot unregister --server https://acme-staging-v02.api.letsencrypt.org/directory\r\n```\r\nIt will fail with an error message like:\r\n```\r\nThe request message was malformed :: No JWK in JWS header\r\n```\r\nThis happens without setting the server if you have an ACMEv1 prod account and checkout the `acmev2-default` branch.\r\n\r\nThis happens because in `acme.client.BackwardsCompatibleClientV2` we're using the ACMEv2 client, but we POST to the URL taken from the registration on disk which is an ACMEv1 URL. This mismatch causes us to send the wrong values in the request causing this error.", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/6155/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/6155/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/6154", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/6154/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/6154/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/6154/events", "html_url": "https://github.com/certbot/certbot/issues/6154", "id": 336414442, "node_id": "MDU6SXNzdWUzMzY0MTQ0NDI=", "number": 6154, "title": "Use account reuse symlink logic when loading an account", "user": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 261409142, "node_id": "MDU6TGFiZWwyNjE0MDkxNDI=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20renewal", "name": "area: renewal", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "ohemorange", "id": 1227205, "node_id": "MDQ6VXNlcjEyMjcyMDU=", "avatar_url": "https://avatars.githubusercontent.com/u/1227205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ohemorange", "html_url": "https://github.com/ohemorange", "followers_url": "https://api.github.com/users/ohemorange/followers", "following_url": "https://api.github.com/users/ohemorange/following{/other_user}", "gists_url": "https://api.github.com/users/ohemorange/gists{/gist_id}", "starred_url": "https://api.github.com/users/ohemorange/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ohemorange/subscriptions", "organizations_url": "https://api.github.com/users/ohemorange/orgs", "repos_url": "https://api.github.com/users/ohemorange/repos", "events_url": "https://api.github.com/users/ohemorange/events{/privacy}", "received_events_url": "https://api.github.com/users/ohemorange/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ohemorange", "id": 1227205, "node_id": "MDQ6VXNlcjEyMjcyMDU=", "avatar_url": "https://avatars.githubusercontent.com/u/1227205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ohemorange", "html_url": "https://github.com/ohemorange", "followers_url": "https://api.github.com/users/ohemorange/followers", "following_url": "https://api.github.com/users/ohemorange/following{/other_user}", "gists_url": "https://api.github.com/users/ohemorange/gists{/gist_id}", "starred_url": "https://api.github.com/users/ohemorange/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ohemorange/subscriptions", "organizations_url": "https://api.github.com/users/ohemorange/orgs", "repos_url": "https://api.github.com/users/ohemorange/repos", "events_url": "https://api.github.com/users/ohemorange/events{/privacy}", "received_events_url": "https://api.github.com/users/ohemorange/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2018-06-27T22:50:11Z", "updated_at": "2018-08-22T18:31:43Z", "closed_at": "2018-06-28T20:34:17Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "To reproduce, start with an empty Certbot config directory and use any released version of Certbot to obtain an ACMEv1 prod cert. You shouldn't set `--server` anywhere.\r\n\r\nThen checkout the `acmev2-default` branch and run `certbot renew --force-renewal`. You should see an error like:\r\n```\r\nTraceback (most recent call last):\r\n  File \"/home/bmw/src/certbot/certbot/renewal.py\", line 430, in handle_renewal_request\r\n    main.renew_cert(lineage_config, plugins, renewal_candidate)\r\n  File \"/home/bmw/src/certbot/certbot/main.py\", line 1190, in renew_cert\r\n    le_client = _init_le_client(config, auth, installer)\r\n  File \"/home/bmw/src/certbot/certbot/main.py\", line 641, in _init_le_client\r\n    acc, acme = _determine_account(config)\r\n  File \"/home/bmw/src/certbot/certbot/main.py\", line 508, in _determine_account\r\n    acc = account_storage.load(config.account)\r\n  File \"/home/bmw/src/certbot/certbot/account.py\", line 224, in load\r\n    return self._load_for_server_path(account_id, self.config.server_path)\r\n  File \"/home/bmw/src/certbot/certbot/account.py\", line 204, in _load_for_server_path\r\n    \"Account at %s does not exist\" % account_dir_path)\r\nAccountNotFound: Account at /etc/letsencrypt/accounts/acme-v02.api.letsencrypt.org/directory/8f7e408abe6ff5832f20529fb812abad does not exist\r\n```\r\nThis happens because the default server value changed to ACMEv2 and Certbot is looking for the account specified in the renewal configuration file in the ACMEv2 account directory which doesn't exist and hasn't been symlinked yet.", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/6154/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/6154/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/6127", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/6127/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/6127/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/6127/events", "html_url": "https://github.com/certbot/certbot/issues/6127", "id": 333002808, "node_id": "MDU6SXNzdWUzMzMwMDI4MDg=", "number": 6127, "title": "Don't allow special characters in lineage name", "user": {"login": "tomwassenberg", "id": 6782150, "node_id": "MDQ6VXNlcjY3ODIxNTA=", "avatar_url": "https://avatars.githubusercontent.com/u/6782150?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tomwassenberg", "html_url": "https://github.com/tomwassenberg", "followers_url": "https://api.github.com/users/tomwassenberg/followers", "following_url": "https://api.github.com/users/tomwassenberg/following{/other_user}", "gists_url": "https://api.github.com/users/tomwassenberg/gists{/gist_id}", "starred_url": "https://api.github.com/users/tomwassenberg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tomwassenberg/subscriptions", "organizations_url": "https://api.github.com/users/tomwassenberg/orgs", "repos_url": "https://api.github.com/users/tomwassenberg/repos", "events_url": "https://api.github.com/users/tomwassenberg/events{/privacy}", "received_events_url": "https://api.github.com/users/tomwassenberg/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 149596829, "node_id": "MDU6TGFiZWwxNDk1OTY4Mjk=", "url": "https://api.github.com/repos/certbot/certbot/labels/good%20first%20issue", "name": "good first issue", "color": "c61aff", "default": true, "description": null}, {"id": 276239890, "node_id": "MDU6TGFiZWwyNzYyMzk4OTA=", "url": "https://api.github.com/repos/certbot/certbot/labels/easy-fix", "name": "easy-fix", "color": "207de5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "ohemorange", "id": 1227205, "node_id": "MDQ6VXNlcjEyMjcyMDU=", "avatar_url": "https://avatars.githubusercontent.com/u/1227205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ohemorange", "html_url": "https://github.com/ohemorange", "followers_url": "https://api.github.com/users/ohemorange/followers", "following_url": "https://api.github.com/users/ohemorange/following{/other_user}", "gists_url": "https://api.github.com/users/ohemorange/gists{/gist_id}", "starred_url": "https://api.github.com/users/ohemorange/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ohemorange/subscriptions", "organizations_url": "https://api.github.com/users/ohemorange/orgs", "repos_url": "https://api.github.com/users/ohemorange/repos", "events_url": "https://api.github.com/users/ohemorange/events{/privacy}", "received_events_url": "https://api.github.com/users/ohemorange/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ohemorange", "id": 1227205, "node_id": "MDQ6VXNlcjEyMjcyMDU=", "avatar_url": "https://avatars.githubusercontent.com/u/1227205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ohemorange", "html_url": "https://github.com/ohemorange", "followers_url": "https://api.github.com/users/ohemorange/followers", "following_url": "https://api.github.com/users/ohemorange/following{/other_user}", "gists_url": "https://api.github.com/users/ohemorange/gists{/gist_id}", "starred_url": "https://api.github.com/users/ohemorange/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ohemorange/subscriptions", "organizations_url": "https://api.github.com/users/ohemorange/orgs", "repos_url": "https://api.github.com/users/ohemorange/repos", "events_url": "https://api.github.com/users/ohemorange/events{/privacy}", "received_events_url": "https://api.github.com/users/ohemorange/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/117", "html_url": "https://github.com/certbot/certbot/milestone/117", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/117/labels", "id": 9240806, "node_id": "MI_kwDOAZSa8s4AjQDm", "number": 117, "title": "2.6.0", "description": "", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 5, "closed_issues": 5, "state": "open", "created_at": "2023-04-03T17:17:43Z", "updated_at": "2023-04-26T18:37:47Z", "due_on": "2023-05-02T07:00:00Z", "closed_at": null}, "comments": 7, "created_at": "2018-06-16T17:37:03Z", "updated_at": "2023-04-17T19:55:31Z", "closed_at": "2023-04-17T19:55:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "## My operating system is (include version):\r\nUbuntu 16.04.4\r\n\r\n## I installed Certbot with (certbot-auto, OS package manager, pip, etc):\r\nPPA, certbot 0.22.2\r\n\r\n## I ran this command and it produced this output:\r\n```bash\r\nroot@tom-vps:/etc/letsencrypt# certbot certonly --staging --webroot -d test.tomwassenberg.nl --webroot-path /var/www/acme-challenges/ --cert-name \"/example\"\r\nSaving debug log to /var/log/letsencrypt/letsencrypt.log\r\nPlugins selected: Authenticator webroot, Installer None\r\nObtaining a new certificate\r\nPerforming the following challenges:\r\nhttp-01 challenge for test.tomwassenberg.nl\r\nUsing the webroot path /var/www/acme-challenges for all unmatched domains.\r\nWaiting for verification...\r\nCleaning up challenges\r\n\r\nIMPORTANT NOTES:\r\n - Congratulations! Your certificate and chain have been saved at:\r\n   /etc/letsencrypt/live/example/fullchain.pem\r\n   Your key file has been saved at:\r\n   /etc/letsencrypt/live/example/privkey.pem\r\n   Your cert will expire on 2018-09-14. To obtain a new or tweaked\r\n   version of this certificate in the future, simply run certbot\r\n   again. To non-interactively renew *all* of your certificates, run\r\n   \"certbot renew\"\r\n```\r\n\r\n## Certbot's behavior differed from what I expected because:\r\nCertbot should halt and return an error message stating that you can't use a slash in a lineage name. Instead, it continues normally and saves the regular output in `/etc/letsencrypt/{archive,live}/example`. However, when saving the renewal configuration, it becomes apparent the lineage name is parsed as a path because it is saved on the actual path `/example.conf`, so on the root of the filesystem. This shouldn't happen.\r\n\r\nAlso other permutations of names with special characters, like names with slashes between regular characters, or names starting with a hyphen, cause unexpected behavior.\r\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/6127/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/6127/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/6096", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/6096/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/6096/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/6096/events", "html_url": "https://github.com/certbot/certbot/issues/6096", "id": 331422972, "node_id": "MDU6SXNzdWUzMzE0MjI5NzI=", "number": 6096, "title": "certbot-nginx requires acme >= 0.25", "user": {"login": "hlieberman", "id": 711517, "node_id": "MDQ6VXNlcjcxMTUxNw==", "avatar_url": "https://avatars.githubusercontent.com/u/711517?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hlieberman", "html_url": "https://github.com/hlieberman", "followers_url": "https://api.github.com/users/hlieberman/followers", "following_url": "https://api.github.com/users/hlieberman/following{/other_user}", "gists_url": "https://api.github.com/users/hlieberman/gists{/gist_id}", "starred_url": "https://api.github.com/users/hlieberman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hlieberman/subscriptions", "organizations_url": "https://api.github.com/users/hlieberman/orgs", "repos_url": "https://api.github.com/users/hlieberman/repos", "events_url": "https://api.github.com/users/hlieberman/events{/privacy}", "received_events_url": "https://api.github.com/users/hlieberman/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 200587469, "node_id": "MDU6TGFiZWwyMDA1ODc0Njk=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20debian%20/%20ubuntu", "name": "area: debian / ubuntu", "color": "c5def5", "default": false, "description": null}, {"id": 258836706, "node_id": "MDU6TGFiZWwyNTg4MzY3MDY=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20nginx", "name": "area: nginx", "color": "c5def5", "default": false, "description": null}, {"id": 276239890, "node_id": "MDU6TGFiZWwyNzYyMzk4OTA=", "url": "https://api.github.com/repos/certbot/certbot/labels/easy-fix", "name": "easy-fix", "color": "207de5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/56", "html_url": "https://github.com/certbot/certbot/milestone/56", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/56/labels", "id": 3420301, "node_id": "MDk6TWlsZXN0b25lMzQyMDMwMQ==", "number": 56, "title": "0.25.1", "description": "Fix packaging and TLS-ALPN issues.", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 6, "state": "closed", "created_at": "2018-06-12T23:55:36Z", "updated_at": "2018-06-15T22:04:28Z", "due_on": "2018-06-13T07:00:00Z", "closed_at": "2018-06-15T22:04:28Z"}, "comments": 1, "created_at": "2018-06-12T03:19:34Z", "updated_at": "2018-06-13T00:24:20Z", "closed_at": "2018-06-13T00:24:20Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Because of the import of symbols `from acme.magic_typing`, the nginx plugin released in 0.25 depends on acme 0.25 or better.  However, setup.py only lists `acme>0.21.1`, leading to a failure to build from source (and potential run-time failures).", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/6096/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/6096/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/6046", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/6046/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/6046/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/6046/events", "html_url": "https://github.com/certbot/certbot/issues/6046", "id": 327047738, "node_id": "MDU6SXNzdWUzMjcwNDc3Mzg=", "number": 6046, "title": "apache certbot configured a challenge to 127.0.0.1:443", "user": {"login": "jsoref", "id": 2119212, "node_id": "MDQ6VXNlcjIxMTkyMTI=", "avatar_url": "https://avatars.githubusercontent.com/u/2119212?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsoref", "html_url": "https://github.com/jsoref", "followers_url": "https://api.github.com/users/jsoref/followers", "following_url": "https://api.github.com/users/jsoref/following{/other_user}", "gists_url": "https://api.github.com/users/jsoref/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsoref/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsoref/subscriptions", "organizations_url": "https://api.github.com/users/jsoref/orgs", "repos_url": "https://api.github.com/users/jsoref/repos", "events_url": "https://api.github.com/users/jsoref/events{/privacy}", "received_events_url": "https://api.github.com/users/jsoref/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 258836903, "node_id": "MDU6TGFiZWwyNTg4MzY5MDM=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20apache", "name": "area: apache", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2018-05-28T14:38:38Z", "updated_at": "2019-05-10T11:22:13Z", "closed_at": "2019-05-10T11:22:13Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "## My operating system is (include version):\r\nRed Hat Enterprise Linux Server release 6.9 (Santiago)\r\nPython 2.7 (redhat scl python27)\r\n\r\n## I installed Certbot with (certbot-auto, OS package manager, pip, etc):\r\ncertbot-auto (0.24.0)\r\n\r\n## I ran this command and it produced this output:\r\n```sh\r\n/root/bin/certbot-auto --no-self-upgrade renew --debug-challenges\r\n```\r\n```sh\r\napachectl -S\r\nWarning: DocumentRoot [/var/lib/letsencrypt/tls_sni_01_page/] does not exist\r\nVirtualHost configuration:\r\n...\r\n127.0.0.1:443          is a NameVirtualHost\r\n         port 443 namevhost site.example.com (/etc/httpd/conf.d/103-site-ssl-localhost.conf:1)\r\n         port 443 namevhost XXXX.YYYY.acme.invalid (/etc/httpd/conf.d/le_tls_sni_01_cert_challenge.conf:2)\r\nwildcard NameVirtualHosts and _default_ servers:\r\n*:443                  is a NameVirtualHost\r\n         default server other.example.com (/etc/httpd/conf.d/001-other-ssl.conf:1)\r\n         port 443 namevhost site.example.com (/etc/httpd/conf.d/003-site-ssl.conf:1)\r\n         port 443 namevhost site.example.com (/etc/httpd/conf.d/103-site-ssl.conf:1)\r\n*:80                   is a NameVirtualHost\r\n         default server other.example.com (/etc/httpd/conf.d/001-other.conf:1)\r\n         port 80 namevhost site.example.com (/etc/httpd/conf.d/001-site.conf:1)\r\n```\r\n```sh\r\ncat /etc/httpd/conf.d/le_tls_sni_01_cert_challenge.conf\r\n<IfModule mod_ssl.c>\r\n<VirtualHost 127.0.0.1:443>\r\n    ServerName XXXX.YYYY.acme.invalid\r\n    UseCanonicalName on\r\n    SSLStrictSNIVHostCheck on\r\n\r\n    LimitRequestBody 1048576\r\n\r\n    Include /etc/letsencrypt/options-ssl-apache.conf\r\n    SSLCertificateFile /var/lib/letsencrypt/ZZZZ.crt\r\n    SSLCertificateKeyFile /var/lib/letsencrypt/ZZZZ.pem\r\n\r\n    DocumentRoot /var/lib/letsencrypt/tls_sni_01_page/\r\n</VirtualHost>\r\n\r\n</IfModule>\r\n```\r\n\r\nFailedChallenges: Failed authorization procedure. site.example.com (tls-sni-01): urn:acme:error:unauthorized :: The client lacks sufficient authorization :: Incorrect validation certificate for tls-sni-01 challenge. Requested whatever.acme.invalid from IP.AD.DR.ESS:443. Received 2 certificate(s), first certificate had names \"other.example.com\"\r\n\r\n## Certbot's behavior differed from what I expected because:\r\nIt configured a certificate challenge on 127.0.0.1!\r\n\r\nEssentially, the domain is configured on multiple IP addresses (127.0.0.1 and a hostname).\r\ncertbot should either listen on `*` or all ips listed for the servername (in this case that's only 127.0.0.1) + all ips that the local computer resolves as `hostname servername` (in this case, this is the path that leads to a routable ip).\r\n\r\n## Here is a Certbot log showing the issue (if available):\r\n###### Logs are stored in `/var/log/letsencrypt` by default. Feel free to redact domains, e-mail and IP addresses as you see fit.\r\n\r\n```\r\nFailedChallenges: Failed authorization procedure. site.example.com (tls-sni-01): urn:acme:error:unauthorized :: The client lacks sufficient authorization :: Incorrect validation certificate for tls-sni-01 challenge. Requested whatever.acme.invalid from IP.AD.DR.ESS:443. Received 2 certificate(s), first certificate had names \"other.example.com\"\r\n```\r\n\r\n## Here is the relevant nginx server block or Apache virtualhost for the domain I am configuring:\r\n\r\nFwiw, here's my normal -S output (minus a number of other hosts that aren't implicated by the output from certbot:\r\n```\r\n127.0.0.1:443          is a NameVirtualHost\r\n         default server other.example.com (/etc/httpd/conf.d/001-other-ssl-localhost.conf:1)\r\n         port 443 namevhost site.example.com (/etc/httpd/conf.d/103-site-ssl-localhost.conf:1)\r\nwildcard NameVirtualHosts and _default_ servers:\r\n*:443                  is a NameVirtualHost\r\n         default server other.example.com (/etc/httpd/conf.d/001-other-ssl.conf:1)\r\n         port 443 namevhost site.example.com (/etc/httpd/conf.d/003-site-ssl.conf:1)\r\n         port 443 namevhost site.example.com (/etc/httpd/conf.d/103-site-ssl.conf:1)\r\n*:80                   is a NameVirtualHost\r\n         default server other.example.com (/etc/httpd/conf.d/001-other.conf:1)\r\n         port 80 namevhost site.example.com (/etc/httpd/conf.d/001-site.conf:1)\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/6046/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/6046/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/5944", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/5944/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/5944/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/5944/events", "html_url": "https://github.com/certbot/certbot/pull/5944", "id": 321797588, "node_id": "MDExOlB1bGxSZXF1ZXN0MTg3MDkyNTA0", "number": 5944, "title": "Automatically select among default vhosts if we have a port preference in nginx", "user": {"login": "ohemorange", "id": 1227205, "node_id": "MDQ6VXNlcjEyMjcyMDU=", "avatar_url": "https://avatars.githubusercontent.com/u/1227205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ohemorange", "html_url": "https://github.com/ohemorange", "followers_url": "https://api.github.com/users/ohemorange/followers", "following_url": "https://api.github.com/users/ohemorange/following{/other_user}", "gists_url": "https://api.github.com/users/ohemorange/gists{/gist_id}", "starred_url": "https://api.github.com/users/ohemorange/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ohemorange/subscriptions", "organizations_url": "https://api.github.com/users/ohemorange/orgs", "repos_url": "https://api.github.com/users/ohemorange/repos", "events_url": "https://api.github.com/users/ohemorange/events{/privacy}", "received_events_url": "https://api.github.com/users/ohemorange/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 258836706, "node_id": "MDU6TGFiZWwyNTg4MzY3MDY=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20nginx", "name": "area: nginx", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sydneyli", "id": 1813285, "node_id": "MDQ6VXNlcjE4MTMyODU=", "avatar_url": "https://avatars.githubusercontent.com/u/1813285?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sydneyli", "html_url": "https://github.com/sydneyli", "followers_url": "https://api.github.com/users/sydneyli/followers", "following_url": "https://api.github.com/users/sydneyli/following{/other_user}", "gists_url": "https://api.github.com/users/sydneyli/gists{/gist_id}", "starred_url": "https://api.github.com/users/sydneyli/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sydneyli/subscriptions", "organizations_url": "https://api.github.com/users/sydneyli/orgs", "repos_url": "https://api.github.com/users/sydneyli/repos", "events_url": "https://api.github.com/users/sydneyli/events{/privacy}", "received_events_url": "https://api.github.com/users/sydneyli/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sydneyli", "id": 1813285, "node_id": "MDQ6VXNlcjE4MTMyODU=", "avatar_url": "https://avatars.githubusercontent.com/u/1813285?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sydneyli", "html_url": "https://github.com/sydneyli", "followers_url": "https://api.github.com/users/sydneyli/followers", "following_url": "https://api.github.com/users/sydneyli/following{/other_user}", "gists_url": "https://api.github.com/users/sydneyli/gists{/gist_id}", "starred_url": "https://api.github.com/users/sydneyli/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sydneyli/subscriptions", "organizations_url": "https://api.github.com/users/sydneyli/orgs", "repos_url": "https://api.github.com/users/sydneyli/repos", "events_url": "https://api.github.com/users/sydneyli/events{/privacy}", "received_events_url": "https://api.github.com/users/sydneyli/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/54", "html_url": "https://github.com/certbot/certbot/milestone/54", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/54/labels", "id": 3297130, "node_id": "MDk6TWlsZXN0b25lMzI5NzEzMA==", "number": 54, "title": "0.25.0", "description": "", "creator": {"login": "jgillula", "id": 6627267, "node_id": "MDQ6VXNlcjY2MjcyNjc=", "avatar_url": "https://avatars.githubusercontent.com/u/6627267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jgillula", "html_url": "https://github.com/jgillula", "followers_url": "https://api.github.com/users/jgillula/followers", "following_url": "https://api.github.com/users/jgillula/following{/other_user}", "gists_url": "https://api.github.com/users/jgillula/gists{/gist_id}", "starred_url": "https://api.github.com/users/jgillula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jgillula/subscriptions", "organizations_url": "https://api.github.com/users/jgillula/orgs", "repos_url": "https://api.github.com/users/jgillula/repos", "events_url": "https://api.github.com/users/jgillula/events{/privacy}", "received_events_url": "https://api.github.com/users/jgillula/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 74, "state": "closed", "created_at": "2018-04-25T18:19:22Z", "updated_at": "2018-06-11T17:41:58Z", "due_on": "2018-06-06T07:00:00Z", "closed_at": "2018-06-07T02:02:14Z"}, "comments": 5, "created_at": "2018-05-10T03:30:14Z", "updated_at": "2018-06-27T18:36:02Z", "closed_at": "2018-06-05T20:40:49Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/certbot/certbot/pulls/5944", "html_url": "https://github.com/certbot/certbot/pull/5944", "diff_url": "https://github.com/certbot/certbot/pull/5944.diff", "patch_url": "https://github.com/certbot/certbot/pull/5944.patch", "merged_at": "2018-06-05T20:40:49Z"}, "body": "Fixes #5817.\r\n\r\nManually tested this with a pre-TLSSNIGATE cert.\r\nEasier way to test:\r\nSet up two default server blocks on two different ports. Get a cert by having a matching name. Remove the matching name. Try to reinstall the cert.", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/5944/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/5944/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/certbot/certbot/issues/5927", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/5927/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/5927/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/5927/events", "html_url": "https://github.com/certbot/certbot/issues/5927", "id": 320444132, "node_id": "MDU6SXNzdWUzMjA0NDQxMzI=", "number": 5927, "title": "Updaters run when --dry-run is set", "user": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 291660454, "node_id": "MDU6TGFiZWwyOTE2NjA0NTQ=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20security%20enhancements", "name": "area: security enhancements", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "joohoi", "id": 5235109, "node_id": "MDQ6VXNlcjUyMzUxMDk=", "avatar_url": "https://avatars.githubusercontent.com/u/5235109?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joohoi", "html_url": "https://github.com/joohoi", "followers_url": "https://api.github.com/users/joohoi/followers", "following_url": "https://api.github.com/users/joohoi/following{/other_user}", "gists_url": "https://api.github.com/users/joohoi/gists{/gist_id}", "starred_url": "https://api.github.com/users/joohoi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joohoi/subscriptions", "organizations_url": "https://api.github.com/users/joohoi/orgs", "repos_url": "https://api.github.com/users/joohoi/repos", "events_url": "https://api.github.com/users/joohoi/events{/privacy}", "received_events_url": "https://api.github.com/users/joohoi/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "joohoi", "id": 5235109, "node_id": "MDQ6VXNlcjUyMzUxMDk=", "avatar_url": "https://avatars.githubusercontent.com/u/5235109?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joohoi", "html_url": "https://github.com/joohoi", "followers_url": "https://api.github.com/users/joohoi/followers", "following_url": "https://api.github.com/users/joohoi/following{/other_user}", "gists_url": "https://api.github.com/users/joohoi/gists{/gist_id}", "starred_url": "https://api.github.com/users/joohoi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joohoi/subscriptions", "organizations_url": "https://api.github.com/users/joohoi/orgs", "repos_url": "https://api.github.com/users/joohoi/repos", "events_url": "https://api.github.com/users/joohoi/events{/privacy}", "received_events_url": "https://api.github.com/users/joohoi/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/54", "html_url": "https://github.com/certbot/certbot/milestone/54", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/54/labels", "id": 3297130, "node_id": "MDk6TWlsZXN0b25lMzI5NzEzMA==", "number": 54, "title": "0.25.0", "description": "", "creator": {"login": "jgillula", "id": 6627267, "node_id": "MDQ6VXNlcjY2MjcyNjc=", "avatar_url": "https://avatars.githubusercontent.com/u/6627267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jgillula", "html_url": "https://github.com/jgillula", "followers_url": "https://api.github.com/users/jgillula/followers", "following_url": "https://api.github.com/users/jgillula/following{/other_user}", "gists_url": "https://api.github.com/users/jgillula/gists{/gist_id}", "starred_url": "https://api.github.com/users/jgillula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jgillula/subscriptions", "organizations_url": "https://api.github.com/users/jgillula/orgs", "repos_url": "https://api.github.com/users/jgillula/repos", "events_url": "https://api.github.com/users/jgillula/events{/privacy}", "received_events_url": "https://api.github.com/users/jgillula/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 74, "state": "closed", "created_at": "2018-04-25T18:19:22Z", "updated_at": "2018-06-11T17:41:58Z", "due_on": "2018-06-06T07:00:00Z", "closed_at": "2018-06-07T02:02:14Z"}, "comments": 0, "created_at": "2018-05-04T22:06:08Z", "updated_at": "2018-06-20T18:22:43Z", "closed_at": "2018-05-26T15:31:24Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Both the generic updater and the renew deployer run when `--dry-run` is set on the command line. We shouldn't do this as a dry run shouldn't be making any (permanent) changes to the user's config.", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/5927/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/5927/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/5866", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/5866/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/5866/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/5866/events", "html_url": "https://github.com/certbot/certbot/issues/5866", "id": 313945683, "node_id": "MDU6SXNzdWUzMTM5NDU2ODM=", "number": 5866, "title": "Certbot crash when applying certificate", "user": {"login": "Krutonium", "id": 3945538, "node_id": "MDQ6VXNlcjM5NDU1Mzg=", "avatar_url": "https://avatars.githubusercontent.com/u/3945538?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Krutonium", "html_url": "https://github.com/Krutonium", "followers_url": "https://api.github.com/users/Krutonium/followers", "following_url": "https://api.github.com/users/Krutonium/following{/other_user}", "gists_url": "https://api.github.com/users/Krutonium/gists{/gist_id}", "starred_url": "https://api.github.com/users/Krutonium/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Krutonium/subscriptions", "organizations_url": "https://api.github.com/users/Krutonium/orgs", "repos_url": "https://api.github.com/users/Krutonium/repos", "events_url": "https://api.github.com/users/Krutonium/events{/privacy}", "received_events_url": "https://api.github.com/users/Krutonium/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 146954788, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODg=", "url": "https://api.github.com/repos/certbot/certbot/labels/duplicate", "name": "duplicate", "color": "a6a6a6", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-04-13T02:09:53Z", "updated_at": "2018-04-13T09:31:57Z", "closed_at": "2018-04-13T09:31:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "If you're having trouble using Certbot and aren't sure you've found a bug or\r\nrequest for a new feature, please first try asking for help at\r\nhttps://community.letsencrypt.org/. There is a much larger community there of\r\npeople familiar with the project who will be able to more quickly answer your\r\nquestions.\r\n\r\n## My operating system is (include version):\r\nUbuntu 16.04\r\n\r\n## I installed Certbot with (certbot-auto, OS package manager, pip, etc):\r\nI installed it with apt.\r\n\r\n## I ran this command and it produced this output:\r\n<normal stuff>\r\n\r\n```\r\nWaiting for verification...\r\nCleaning up challenges\r\nDeploying Certificate to VirtualHost /etc/apache2/sites-enabled/krucloud.duckdns.org-le-ssl.conf\r\nDeploying Certificate to VirtualHost /etc/apache2/sites-enabled/krucloud.duckdns.org-le-ssl.conf\r\nDeploying Certificate to VirtualHost /etc/apache2/sites-enabled/krugit.duckdns.org-le-ssl.conf\r\nDeploying Certificate to VirtualHost /etc/apache2/sites-enabled/krugit.duckdns.org-le-ssl.conf\r\nFile:\r\n - Could not be found to be deleted /etc/apache2/sites-available/krupanel.duckdns.org-le-ssl.conf - Certbot probably shut down unexpectedly\r\nAn unexpected error occurred\r\n```\r\n\r\n## Certbot's behavior differed from what I expected because:\r\nIt crashed and failed to apply the certificate.\r\n\r\n## Here is a Certbot log showing the issue (if available):\r\n###### Logs are stored in `/var/log/letsencrypt` by default. Feel free to redact domains, e-mail and IP addresses as you see fit.\r\n```\r\n2018-04-13 01:52:17,612:DEBUG:certbot.error_handler:Encountered exception:\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3/dist-packages/certbot/client.py\", line 442, in deploy_certificate\r\n    fullchain_path=fullchain_path)\r\n  File \"/usr/lib/python3/dist-packages/certbot_apache/configurator.py\", line 302, in deploy_cert\r\n    vhosts = self.choose_vhosts(domain)\r\n  File \"/usr/lib/python3/dist-packages/certbot_apache/configurator.py\", line 326, in choose_vhosts\r\n    return [self.choose_vhost(domain)]\r\n  File \"/usr/lib/python3/dist-packages/certbot_apache/configurator.py\", line 501, in choose_vhost\r\n    vhost = self.make_vhost_ssl(vhost)\r\n  File \"/usr/lib/python3/dist-packages/certbot_apache/configurator.py\", line 1074, in make_vhost_ssl\r\n    self._copy_create_ssl_vhost_skeleton(nonssl_vhost, ssl_fp)\r\n  File \"/usr/lib/python3/dist-packages/certbot_apache/configurator.py\", line 1220, in _copy_create_ssl_vhost_skeleton\r\n    ssl_vh_contents, sift = self._sift_rewrite_rules(orig_contents)\r\n  File \"/usr/lib/python3/dist-packages/certbot_apache/configurator.py\", line 1292, in _sift_rewrite_rules\r\n    line = next(contents)\r\nStopIteration\r\n\r\n2018-04-13 01:52:17,612:DEBUG:certbot.error_handler:Calling registered functions\r\n2018-04-13 01:52:17,614:WARNING:certbot.reverter:File:\r\n - Could not be found to be deleted /etc/apache2/sites-available/krupanel.duckdns.org-le-ssl.conf - Certbot probably shut down unexpectedly\r\n2018-04-13 01:52:17,627:DEBUG:certbot.reporter:Reporting to user: Unable to install the certificate\r\n2018-04-13 01:52:17,628:DEBUG:certbot.log:Exiting abnormally:\r\nTraceback (most recent call last):\r\n  File \"/usr/bin/certbot\", line 11, in <module>\r\n    load_entry_point('certbot==0.22.2', 'console_scripts', 'certbot')()\r\n  File \"/usr/lib/python3/dist-packages/certbot/main.py\", line 1266, in main\r\n    return config.func(config, plugins)\r\n  File \"/usr/lib/python3/dist-packages/certbot/main.py\", line 1038, in run\r\n    _install_cert(config, le_client, domains, new_lineage)\r\n  File \"/usr/lib/python3/dist-packages/certbot/main.py\", line 760, in _install_cert\r\n    path_provider.cert_path, path_provider.chain_path, path_provider.fullchain_path)\r\n  File \"/usr/lib/python3/dist-packages/certbot/client.py\", line 442, in deploy_certificate\r\n    fullchain_path=fullchain_path)\r\n  File \"/usr/lib/python3/dist-packages/certbot_apache/configurator.py\", line 302, in deploy_cert\r\n    vhosts = self.choose_vhosts(domain)\r\n  File \"/usr/lib/python3/dist-packages/certbot_apache/configurator.py\", line 326, in choose_vhosts\r\n    return [self.choose_vhost(domain)]\r\n  File \"/usr/lib/python3/dist-packages/certbot_apache/configurator.py\", line 501, in choose_vhost\r\n    vhost = self.make_vhost_ssl(vhost)\r\n  File \"/usr/lib/python3/dist-packages/certbot_apache/configurator.py\", line 1074, in make_vhost_ssl\r\n    self._copy_create_ssl_vhost_skeleton(nonssl_vhost, ssl_fp)\r\n  File \"/usr/lib/python3/dist-packages/certbot_apache/configurator.py\", line 1220, in _copy_create_ssl_vhost_skeleton\r\n    ssl_vh_contents, sift = self._sift_rewrite_rules(orig_contents)\r\n  File \"/usr/lib/python3/dist-packages/certbot_apache/configurator.py\", line 1292, in _sift_rewrite_rules\r\n    line = next(contents)\r\nStopIteration\r\n2018-04-13 01:52:17,630:ERROR:certbot.log:An unexpected error occurred:\r\n```\r\n## Here is the relevant nginx server block or Apache virtualhost for the domain I am configuring:\r\n```\r\n<VirtualHost *:80>\r\nServerName www.krupanel.duckdns.org\r\nServerAlias krupanel.duckdns.org\r\nDocumentRoot /var/www/html\r\nProxyPreserveHost On\r\nProxyPass / http://0.0.0.0:19999/\r\nProxyPass / https://0.0.0.0:19999/\r\nProxyPassReverse / http://0.0.0.0:19999/\r\nProxyPassReverse / https://0.0.0.0:19999/\r\nRewriteEngine on\r\nRewriteCond %{SERVER_NAME} =www.krupanel.duckdns.org [OR]\r\nRewriteCond %{SERVER_NAME} =krupanel.duckdns.org\r\n<Proxy *>\r\nOrder deny,allow\r\nAllow from all\r\nAuthtype basic\r\nAuthname \"Password Required\"\r\nAuthUserFile /etc/apache2/.panelpass\r\nRequire valid-user\r\n</Proxy>\r\n</VirtualHost>\r\n```", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/5866/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/5866/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/5858", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/5858/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/5858/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/5858/events", "html_url": "https://github.com/certbot/certbot/issues/5858", "id": 313827062, "node_id": "MDU6SXNzdWUzMTM4MjcwNjI=", "number": 5858, "title": "Certbot crashes if EFF e-mail submission endpoint is unavailable", "user": {"login": "schoen", "id": 1750103, "node_id": "MDQ6VXNlcjE3NTAxMDM=", "avatar_url": "https://avatars.githubusercontent.com/u/1750103?v=4", "gravatar_id": "", "url": "https://api.github.com/users/schoen", "html_url": "https://github.com/schoen", "followers_url": "https://api.github.com/users/schoen/followers", "following_url": "https://api.github.com/users/schoen/following{/other_user}", "gists_url": "https://api.github.com/users/schoen/gists{/gist_id}", "starred_url": "https://api.github.com/users/schoen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/schoen/subscriptions", "organizations_url": "https://api.github.com/users/schoen/orgs", "repos_url": "https://api.github.com/users/schoen/repos", "events_url": "https://api.github.com/users/schoen/events{/privacy}", "received_events_url": "https://api.github.com/users/schoen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 200596079, "node_id": "MDU6TGFiZWwyMDA1OTYwNzk=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20ui%20/%20ux", "name": "area: ui / ux", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/54", "html_url": "https://github.com/certbot/certbot/milestone/54", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/54/labels", "id": 3297130, "node_id": "MDk6TWlsZXN0b25lMzI5NzEzMA==", "number": 54, "title": "0.25.0", "description": "", "creator": {"login": "jgillula", "id": 6627267, "node_id": "MDQ6VXNlcjY2MjcyNjc=", "avatar_url": "https://avatars.githubusercontent.com/u/6627267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jgillula", "html_url": "https://github.com/jgillula", "followers_url": "https://api.github.com/users/jgillula/followers", "following_url": "https://api.github.com/users/jgillula/following{/other_user}", "gists_url": "https://api.github.com/users/jgillula/gists{/gist_id}", "starred_url": "https://api.github.com/users/jgillula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jgillula/subscriptions", "organizations_url": "https://api.github.com/users/jgillula/orgs", "repos_url": "https://api.github.com/users/jgillula/repos", "events_url": "https://api.github.com/users/jgillula/events{/privacy}", "received_events_url": "https://api.github.com/users/jgillula/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 74, "state": "closed", "created_at": "2018-04-25T18:19:22Z", "updated_at": "2018-06-11T17:41:58Z", "due_on": "2018-06-06T07:00:00Z", "closed_at": "2018-06-07T02:02:14Z"}, "comments": 1, "created_at": "2018-04-12T17:51:14Z", "updated_at": "2018-05-15T19:50:58Z", "closed_at": "2018-05-15T19:50:48Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Certbot will crash if the user's e-mail information can't be submitted to the EFF endpoint:\r\n\r\nhttps://community.letsencrypt.org/t/issue-when-trying-to-create-certificate/59307/1\r\n\r\nhttps://github.com/certbot/certbot/blob/master/certbot/eff.py#L74\r\n\r\nIt crashes with a somewhat relevant error if the endpoint is unavailable, but a confusing error if the endpoint returns something other than JSON. It should probably not crash at all in either case. If the endpoint specifically says that the user's e-mail address is malformed, that's probably worth stopping to report to the user, but if the endpoint simply doesn't reply usefully, it's probably preferable to continue since I wouldn't think we really want to make users wait in this situation.\r\n\r\n(Adding the \"bug\" tag at least for the case where the endpoint returns a non-JSON reply because the error shown to the user in this case is unhelpful.)", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/5858/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/5858/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/5845", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/5845/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/5845/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/5845/events", "html_url": "https://github.com/certbot/certbot/issues/5845", "id": 313286889, "node_id": "MDU6SXNzdWUzMTMyODY4ODk=", "number": 5845, "title": "certbot-auto crashes with \"Bus error\" on older machine", "user": {"login": "jherazob", "id": 1019162, "node_id": "MDQ6VXNlcjEwMTkxNjI=", "avatar_url": "https://avatars.githubusercontent.com/u/1019162?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jherazob", "html_url": "https://github.com/jherazob", "followers_url": "https://api.github.com/users/jherazob/followers", "following_url": "https://api.github.com/users/jherazob/following{/other_user}", "gists_url": "https://api.github.com/users/jherazob/gists{/gist_id}", "starred_url": "https://api.github.com/users/jherazob/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jherazob/subscriptions", "organizations_url": "https://api.github.com/users/jherazob/orgs", "repos_url": "https://api.github.com/users/jherazob/repos", "events_url": "https://api.github.com/users/jherazob/events{/privacy}", "received_events_url": "https://api.github.com/users/jherazob/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 200587469, "node_id": "MDU6TGFiZWwyMDA1ODc0Njk=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20debian%20/%20ubuntu", "name": "area: debian / ubuntu", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2018-04-11T11:39:48Z", "updated_at": "2019-04-23T09:45:20Z", "closed_at": "2019-04-23T09:45:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "If you're having trouble using Certbot and aren't sure you've found a bug or\r\nrequest for a new feature, please first try asking for help at\r\nhttps://community.letsencrypt.org/. There is a much larger community there of\r\npeople familiar with the project who will be able to more quickly answer your\r\nquestions.\r\n\r\n## My operating system is (include version):\r\n\r\nDebian  7 (wheezy)\r\n\r\n## I installed Certbot with (certbot-auto, OS package manager, pip, etc):\r\n\r\ncertbot-auto\r\n\r\n## I ran this command and it produced this output:\r\n\r\nExecuted `/usr/local/bin/certbot-auto renew -v`\r\n\r\nReceived:\r\n\r\n     Root logging level set at 10\r\n     Saving debug log to /var/log/letsencrypt/letsencrypt.log\r\n\r\n     -------------------------------------------------------------------------------\r\n     Processing /etc/letsencrypt/renewal/<DOMAIN-WITHHELD>.conf\r\n     -------------------------------------------------------------------------------\r\n     Requested authenticator <certbot.cli._Default object at 0x23a0090> and installer <certbot.cli._Default object at 0x23a0090>\r\n     Should renew, less than 30 days before certificate expiry 2018-04-30 19:54:44 UTC.\r\n     Cert is due for renewal, auto-renewing...\r\n     Requested authenticator apache and installer apache\r\n     Apache version is 2.2.22\r\n     /usr/local/bin/certbot-auto: line 1670: 21920 Bus error               \"$VENV_BIN/letsencrypt\" \"$@\"`\r\n\r\nThe number right before \"Bus error\" seems to change on every execution, and line 1670 is the last line of certbot-auto.\r\n\r\n## Certbot's behavior differed from what I expected because:\r\n\r\nIt crashed before upgrading the certificate\r\n\r\n## Here is a Certbot log showing the issue (if available):\r\n###### Logs are stored in `/var/log/letsencrypt` by default. Feel free to redact domains, e-mail and IP addresses as you see fit.\r\n\r\nLog stops before the error happens:\r\n\r\n     2018-04-11 13:27:00,377:DEBUG:certbot.main:certbot version: 0.23.0\r\n     2018-04-11 13:27:00,377:DEBUG:certbot.main:Arguments: ['-v']\r\n     2018-04-11 13:27:00,377:DEBUG:certbot.main:Discovered plugins: PluginsRegistry(PluginEntryPoint#apache,PluginEntryPoint#manual,PluginEntryPoint#nginx,PluginEntryPoint#null,PluginEntryPoint#standalone,PluginEntryPoint#webroot)\r\n     2018-04-11 13:27:00,394:DEBUG:certbot.log:Root logging level set at 10\r\n     2018-04-11 13:27:00,394:INFO:certbot.log:Saving debug log to /var/log/letsencrypt/letsencrypt.log\r\n     2018-04-11 13:27:00,424:DEBUG:certbot.plugins.selection:Requested authenticator <certbot.cli._Default object at 0x23a0090> and installer <certbot.cli._Default object at 0x23a0090>\r\n     2018-04-11 13:27:00,431:DEBUG:certbot.storage:Should renew, less than 30 days before certificate expiry 2018-04-30 19:54:44 UTC.\r\n     2018-04-11 13:27:00,431:INFO:certbot.renewal:Cert is due for renewal, auto-renewing...\r\n     2018-04-11 13:27:00,454:DEBUG:certbot.plugins.selection:Requested authenticator apache and installer apache\r\n     2018-04-11 13:27:00,989:DEBUG:certbot_apache.configurator:Apache version is 2.2.22\r\n\r\n\r\n## Here is the relevant nginx server block or Apache virtualhost for the domain I am configuring:\r\n\r\nDoesn't seem to even get to do anything with it\r\n\r\nAll system packages are upgraded with dist-upgrade, and this used to work in the past as the certificate was created quite a while ago.\r\n\r\nI'll provide any information you need to help debug and fix the issue.\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/5845/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/5845/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/5839", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/5839/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/5839/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/5839/events", "html_url": "https://github.com/certbot/certbot/issues/5839", "id": 312625140, "node_id": "MDU6SXNzdWUzMTI2MjUxNDA=", "number": 5839, "title": "RawNginxDumper fails to process non-ASCII", "user": {"login": "jsha", "id": 220205, "node_id": "MDQ6VXNlcjIyMDIwNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/220205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsha", "html_url": "https://github.com/jsha", "followers_url": "https://api.github.com/users/jsha/followers", "following_url": "https://api.github.com/users/jsha/following{/other_user}", "gists_url": "https://api.github.com/users/jsha/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsha/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsha/subscriptions", "organizations_url": "https://api.github.com/users/jsha/orgs", "repos_url": "https://api.github.com/users/jsha/repos", "events_url": "https://api.github.com/users/jsha/events{/privacy}", "received_events_url": "https://api.github.com/users/jsha/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 146954788, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODg=", "url": "https://api.github.com/repos/certbot/certbot/labels/duplicate", "name": "duplicate", "color": "a6a6a6", "default": true, "description": null}, {"id": 258836706, "node_id": "MDU6TGFiZWwyNTg4MzY3MDY=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20nginx", "name": "area: nginx", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2018-04-09T17:49:38Z", "updated_at": "2020-11-30T04:19:54Z", "closed_at": "2020-11-30T04:19:54Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "As originally reported at https://github.com/certbot/certbot/issues/3614#issuecomment-379816901 by @1000i100. It looks like the problem is in the redirect target (`return 301 ...`) which contains a non-ASCII character.\r\n\r\n-----------\r\nan other failing case : \r\n\r\ncertbot-auto output : \r\n```\r\nhttp-01 challenge for xn--1-sua.money\r\nhttp-01 challenge for cesium.xn--1-sua.money\r\nhttp-01 challenge for www.xn--1-sua.money\r\nCleaning up challenges\r\nAn unexpected error occurred:\r\nUnicodeDecodeError: 'ascii' codec can't decode byte 0xc7 in position 13: ordinal not in range(128)\r\nPlease see the logfiles in /var/log/letsencrypt for more details.\r\n```\r\nlog :\r\n```\r\n2018-04-09 18:33:00,002:DEBUG:certbot.error_handler:Calling registered functions\r\n2018-04-09 18:33:00,002:INFO:certbot.auth_handler:Cleaning up challenges\r\n2018-04-09 18:33:06,839:DEBUG:certbot.log:Exiting abnormally:\r\nTraceback (most recent call last):\r\n  File \"/opt/eff.org/certbot/venv/bin/letsencrypt\", line 11, in <module>\r\n    sys.exit(main())\r\n  File \"/opt/eff.org/certbot/venv/local/lib/python2.7/site-packages/certbot/main.py\", line 1266, in main\r\n    return config.func(config, plugins)\r\n  File \"/opt/eff.org/certbot/venv/local/lib/python2.7/site-packages/certbot/main.py\", line 1031, in run\r\n    certname, lineage)\r\n  File \"/opt/eff.org/certbot/venv/local/lib/python2.7/site-packages/certbot/main.py\", line 113, in _get_and_save_cert\r\n    renewal.renew_cert(config, domains, le_client, lineage)\r\n  File \"/opt/eff.org/certbot/venv/local/lib/python2.7/site-packages/certbot/renewal.py\", line 297, in renew_cert\r\n    new_cert, new_chain, new_key, _ = le_client.obtain_certificate(domains)\r\n  File \"/opt/eff.org/certbot/venv/local/lib/python2.7/site-packages/certbot/client.py\", line 294, in obtain_certificate\r\n    orderr = self._get_order_and_authorizations(csr.data, self.config.allow_subset_of_names)\r\n  File \"/opt/eff.org/certbot/venv/local/lib/python2.7/site-packages/certbot/client.py\", line 330, in _get_order_and_authorizations\r\n    authzr = self.auth_handler.handle_authorizations(orderr, best_effort)\r\n  File \"/opt/eff.org/certbot/venv/local/lib/python2.7/site-packages/certbot/auth_handler.py\", line 73, in handle_authorizations\r\n    resp = self._solve_challenges(aauthzrs)\r\n  File \"/opt/eff.org/certbot/venv/local/lib/python2.7/site-packages/certbot/auth_handler.py\", line 124, in _solve_challenges\r\n    resp = self.auth.perform(all_achalls)\r\n  File \"/opt/eff.org/certbot/venv/local/lib/python2.7/site-packages/certbot_nginx/configurator.py\", line 1033, in perform\r\n    http_response = http_doer.perform()\r\n  File \"/opt/eff.org/certbot/venv/local/lib/python2.7/site-packages/certbot_nginx/http_01.py\", line 61, in perform\r\n    self.configurator.save(\"HTTP Challenge\", True)\r\n  File \"/opt/eff.org/certbot/venv/local/lib/python2.7/site-packages/certbot_nginx/configurator.py\", line 963, in save\r\n    self.parser.filedump(ext='')\r\n  File \"/opt/eff.org/certbot/venv/local/lib/python2.7/site-packages/certbot_nginx/parser.py\", line 242, in filedump\r\n    out = nginxparser.dumps(tree)\r\n  File \"/opt/eff.org/certbot/venv/local/lib/python2.7/site-packages/certbot_nginx/nginxparser.py\", line 134, in dumps\r\n    return str(RawNginxDumper(blocks.spaced))\r\n  File \"/opt/eff.org/certbot/venv/local/lib/python2.7/site-packages/certbot_nginx/nginxparser.py\", line 98, in __str__\r\n    return ''.join(self)\r\nUnicodeDecodeError: 'ascii' codec can't decode byte 0xc7 in position 13: ordinal not in range(128)\r\n2018-04-09 18:33:06,840:ERROR:certbot.log:An unexpected error occurred:\r\n```\r\nand nginx conf : \r\n```\r\nserver {\r\n        listen 80 default_server;\r\n        listen [::]:80 http2 default_server;\r\n        server_name _;\r\n        index index.html index.nginx-debian.html;\r\n        location '/.well-known/acme-challenge' {\r\n                root /var/www/demo;\r\n        }\r\n        root /var/www/html;\r\n        location / {\r\n                return 301 https://$host$request_uri;\r\n                # First attempt to serve request as file, then\r\n                # as directory, then fall back to displaying a 404.\r\n                try_files $uri $uri/ =404;\r\n        }\r\n}\r\n\r\nserver {\r\n        listen 443 ssl http2;\r\n        #server_name \u01e71.money xn--1-sua.money;\r\n        server_name xn--1-sua.money;\r\n        root /home/gammanu/1forma-tic.fr;\r\n    ssl_certificate /etc/letsencrypt/live/demo.mycelia.tools-0001/fullchain.pem; # managed by Certbot\r\n    ssl_certificate_key /etc/letsencrypt/live/demo.mycelia.tools-0001/privkey.pem; # managed by Certbot\r\n}\r\nserver {\r\n        listen 443 ssl http2;\r\n        #server_name cesium.\u01e71.money cesium.xn--1-sua.money;\r\n        server_name cesium.xn--1-sua.money;\r\n        root /home/gammanu/g1.1000i100.fr/cesium/;\r\n    ssl_certificate /etc/letsencrypt/live/demo.mycelia.tools-0001/fullchain.pem; # managed by Certbot\r\n    ssl_certificate_key /etc/letsencrypt/live/demo.mycelia.tools-0001/privkey.pem; # managed by Certbot\r\n}\r\nserver {\r\n    listen 80;\r\n    #server_name www.\u01e71.money www.xn--1-sua.money g1.money june.money www.g1.money www.june.money mlg1.fr www.mlg1.fr;\r\n    server_name www.xn--1-sua.money g1.money june.money www.g1.money www.june.money mlg1.fr www.mlg1.fr;\r\n    return 301 https://\u01e71.money$request_uri;\r\n}\r\nserver {\r\n    listen 80;\r\n    server_name cesium.g1.money cesium.june.money;\r\n    return 301 https://cesium.\u01e71.money$request_uri;\r\n}\r\n```", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/5839/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/5839/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/5838", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/5838/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/5838/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/5838/events", "html_url": "https://github.com/certbot/certbot/issues/5838", "id": 312533542, "node_id": "MDU6SXNzdWUzMTI1MzM1NDI=", "number": 5838, "title": "Certbot Crashes on Any Command", "user": {"login": "evanlihou", "id": 3743825, "node_id": "MDQ6VXNlcjM3NDM4MjU=", "avatar_url": "https://avatars.githubusercontent.com/u/3743825?v=4", "gravatar_id": "", "url": "https://api.github.com/users/evanlihou", "html_url": "https://github.com/evanlihou", "followers_url": "https://api.github.com/users/evanlihou/followers", "following_url": "https://api.github.com/users/evanlihou/following{/other_user}", "gists_url": "https://api.github.com/users/evanlihou/gists{/gist_id}", "starred_url": "https://api.github.com/users/evanlihou/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/evanlihou/subscriptions", "organizations_url": "https://api.github.com/users/evanlihou/orgs", "repos_url": "https://api.github.com/users/evanlihou/repos", "events_url": "https://api.github.com/users/evanlihou/events{/privacy}", "received_events_url": "https://api.github.com/users/evanlihou/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 200587469, "node_id": "MDU6TGFiZWwyMDA1ODc0Njk=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20debian%20/%20ubuntu", "name": "area: debian / ubuntu", "color": "c5def5", "default": false, "description": null}, {"id": 276667632, "node_id": "MDU6TGFiZWwyNzY2Njc2MzI=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20pkging", "name": "area: pkging", "color": "c5def5", "default": false, "description": null}, {"id": 503789200, "node_id": "MDU6TGFiZWw1MDM3ODkyMDA=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20pyca", "name": "area: pyca", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-04-09T13:35:57Z", "updated_at": "2019-06-01T05:13:27Z", "closed_at": "2019-04-23T09:31:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "If you're having trouble using Certbot and aren't sure you've found a bug or\r\nrequest for a new feature, please first try asking for help at\r\nhttps://community.letsencrypt.org/. There is a much larger community there of\r\npeople familiar with the project who will be able to more quickly answer your\r\nquestions.\r\n\r\n## My operating system is (include version):\r\nUbuntu Server 16.04 LTS\r\n\r\n## I installed Certbot with (certbot-auto, OS package manager, pip, etc):\r\nApt\r\n\r\n## I ran this command and it produced this output:\r\nAny certbot command results in something similar to this:\r\nevanlihou@hostname:~$ certbot\r\nTraceback (most recent call last):\r\n  File \"/usr/bin/certbot\", line 11, in <module>\r\n    load_entry_point('certbot==0.22.2', 'console_scripts', 'certbot')()\r\n  File \"/usr/lib/python3/dist-packages/pkg_resources/__init__.py\", line 542, in load_entry_point\r\n    return get_distribution(dist).load_entry_point(group, name)\r\n  File \"/usr/lib/python3/dist-packages/pkg_resources/__init__.py\", line 2569, in load_entry_point\r\n    return ep.load()\r\n  File \"/usr/lib/python3/dist-packages/pkg_resources/__init__.py\", line 2229, in load\r\n    return self.resolve()\r\n  File \"/usr/lib/python3/dist-packages/pkg_resources/__init__.py\", line 2235, in resolve\r\n    module = __import__(self.module_name, fromlist=['__name__'], level=0)\r\n  File \"/usr/lib/python3/dist-packages/certbot/main.py\", line 10, in <module>\r\n    import josepy as jose\r\n  File \"/usr/lib/python3/dist-packages/josepy/__init__.py\", line 41, in <module>\r\n    from josepy.interfaces import JSONDeSerializable\r\n  File \"/usr/lib/python3/dist-packages/josepy/interfaces.py\", line 8, in <module>\r\n    from josepy import errors, util\r\n  File \"/usr/lib/python3/dist-packages/josepy/util.py\", line 4, in <module>\r\n    import OpenSSL\r\n  File \"/usr/lib/python3/dist-packages/OpenSSL/__init__.py\", line 8, in <module>\r\n    from OpenSSL import crypto, SSL\r\n  File \"/usr/lib/python3/dist-packages/OpenSSL/crypto.py\", line 16, in <module>\r\n    from OpenSSL._util import (\r\n  File \"/usr/lib/python3/dist-packages/OpenSSL/_util.py\", line 6, in <module>\r\n    from cryptography.hazmat.bindings.openssl.binding import Binding\r\n  File \"/usr/lib/python3/dist-packages/cryptography/hazmat/bindings/openssl/binding.py\", line 156, in <module>\r\n    Binding.init_static_locks()\r\n  File \"/usr/lib/python3/dist-packages/cryptography/hazmat/bindings/openssl/binding.py\", line 137, in init_static_locks\r\n    cls._ensure_ffi_initialized()\r\n  File \"/usr/lib/python3/dist-packages/cryptography/hazmat/bindings/openssl/binding.py\", line 124, in _ensure_ffi_initialized\r\n    cls.lib = build_conditional_library(lib, CONDITIONAL_NAMES)\r\n  File \"/usr/lib/python3/dist-packages/cryptography/hazmat/bindings/openssl/binding.py\", line 84, in build_conditional_library\r\n    if not getattr(lib, condition):\r\nAttributeError: cffi library '_openssl' has no function, constant or global variable named 'Cryptography_HAS_SET_ECDH_AUTO'\r\n\r\n## Certbot's behavior differed from what I expected because:\r\nIt errors out every time\r\n\r\n## Here is a Certbot log showing the issue (if available):\r\n###### Logs are stored in `/var/log/letsencrypt` by default. Feel free to redact domains, e-mail and IP addresses as you see fit.\r\n(Logs are empty)\r\n\r\n## Here is the relevant nginx server block or Apache virtualhost for the domain I am configuring:\r\nCan't even get to stage of setting up any domains", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/5838/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/5838/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/5816", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/5816/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/5816/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/5816/events", "html_url": "https://github.com/certbot/certbot/issues/5816", "id": 310539010, "node_id": "MDU6SXNzdWUzMTA1MzkwMTA=", "number": 5816, "title": "Creating certificate for IPv6 is broken", "user": {"login": "mgrep", "id": 9761813, "node_id": "MDQ6VXNlcjk3NjE4MTM=", "avatar_url": "https://avatars.githubusercontent.com/u/9761813?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mgrep", "html_url": "https://github.com/mgrep", "followers_url": "https://api.github.com/users/mgrep/followers", "following_url": "https://api.github.com/users/mgrep/following{/other_user}", "gists_url": "https://api.github.com/users/mgrep/gists{/gist_id}", "starred_url": "https://api.github.com/users/mgrep/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mgrep/subscriptions", "organizations_url": "https://api.github.com/users/mgrep/orgs", "repos_url": "https://api.github.com/users/mgrep/repos", "events_url": "https://api.github.com/users/mgrep/events{/privacy}", "received_events_url": "https://api.github.com/users/mgrep/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 175439779, "node_id": "MDU6TGFiZWwxNzU0Mzk3Nzk=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20policy", "name": "area: policy", "color": "c5def5", "default": false, "description": null}, {"id": 277074172, "node_id": "MDU6TGFiZWwyNzcwNzQxNzI=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20acme", "name": "area: acme", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2018-04-02T16:55:23Z", "updated_at": "2021-10-06T07:40:11Z", "closed_at": "2021-10-06T07:40:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "If you're having trouble using Certbot and aren't sure you've found a bug or\r\nrequest for a new feature, please first try asking for help at\r\nhttps://community.letsencrypt.org/. There is a much larger community there of\r\npeople familiar with the project who will be able to more quickly answer your\r\nquestions.\r\n\r\n## My operating system is (include version):\r\nOpenSuse Tumbleweed 20180331\r\n\r\n## I installed Certbot with (certbot-auto, OS package manager, pip, etc):\r\ncertbot 0.22.2\r\n\r\n## I ran this command and it produced this output:\r\nOn terminal we see the following\r\n\r\n sudo certbot --duplicate certonly -d maikel.greppie.nl,2001:1c00:e07:9100:46d:80a4:38b9:a8 --test-cert --standalone\r\nSaving debug log to /var/log/certbot/letsencrypt.log\r\nPlugins selected: Authenticator standalone, Installer None\r\nObtaining a new certificate\r\nAn unexpected error occurred:\r\nThe request message was malformed :: Error creating new order :: DNS name does not have enough labels\r\n\r\nIn log we see the following\r\n2018-04-02 16:25:56,268:DEBUG:acme.client:Storing nonce: tBiw6Wm_S3DAih2KA2aksgN-AHY-6lccmb6FQe3RqLw\r\n2018-04-02 16:25:56,268:DEBUG:acme.client:JWS payload:\r\n{\r\n  \"status\": \"pending\", \r\n  \"identifiers\": [\r\n    {\r\n      \"type\": \"dns\", \r\n      \"value\": \"maikel.greppie.nl\"\r\n    }, \r\n    {\r\n      \"type\": \"dns\", \r\n      \"value\": \"**2001**\"\r\n    }\r\n  ], \r\n  \"resource\": \"new-order\"\r\n}\r\n\r\n\r\n{\r\n  \"type\": \"urn:ietf:params:acme:error:malformed\",\r\n  \"detail\": \"Error creating new order :: DNS name does not have enough labels\",\r\n  \"status\": 400\r\n}\r\n\r\n\r\n## Certbot's behavior differed from what I expected because:\r\nI would expect that IPv6 is supported but it can clearly not handle IPv6 addresses it only read it till the first ':' and strips everything after that.  \r\n\r\n## Here is a Certbot log showing the issue (if available):\r\n###### Logs are stored in `/var/log/letsencrypt` by default. Feel free to redact domains, e-mail and IP addresses as you see fit.\r\n\r\n## Here is the relevant nginx server block or Apache virtualhost for the domain I am configuring:\r\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/5816/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/5816/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/5811", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/5811/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/5811/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/5811/events", "html_url": "https://github.com/certbot/certbot/pull/5811", "id": 310156348, "node_id": "MDExOlB1bGxSZXF1ZXN0MTc4NjI2MDYw", "number": 5811, "title": " Support quoted server names in Nginx", "user": {"login": "ohemorange", "id": 1227205, "node_id": "MDQ6VXNlcjEyMjcyMDU=", "avatar_url": "https://avatars.githubusercontent.com/u/1227205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ohemorange", "html_url": "https://github.com/ohemorange", "followers_url": "https://api.github.com/users/ohemorange/followers", "following_url": "https://api.github.com/users/ohemorange/following{/other_user}", "gists_url": "https://api.github.com/users/ohemorange/gists{/gist_id}", "starred_url": "https://api.github.com/users/ohemorange/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ohemorange/subscriptions", "organizations_url": "https://api.github.com/users/ohemorange/orgs", "repos_url": "https://api.github.com/users/ohemorange/repos", "events_url": "https://api.github.com/users/ohemorange/events{/privacy}", "received_events_url": "https://api.github.com/users/ohemorange/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 258836706, "node_id": "MDU6TGFiZWwyNTg4MzY3MDY=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20nginx", "name": "area: nginx", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/50", "html_url": "https://github.com/certbot/certbot/milestone/50", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/50/labels", "id": 3067228, "node_id": "MDk6TWlsZXN0b25lMzA2NzIyOA==", "number": 50, "title": "0.23.0", "description": "", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 28, "state": "closed", "created_at": "2018-01-26T19:34:25Z", "updated_at": "2018-04-16T06:23:35Z", "due_on": "2018-04-04T07:00:00Z", "closed_at": "2018-04-04T01:52:28Z"}, "comments": 0, "created_at": "2018-03-30T20:04:54Z", "updated_at": "2018-04-03T19:14:27Z", "closed_at": "2018-04-03T19:14:24Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/certbot/certbot/pulls/5811", "html_url": "https://github.com/certbot/certbot/pull/5811", "diff_url": "https://github.com/certbot/certbot/pull/5811.diff", "patch_url": "https://github.com/certbot/certbot/pull/5811.patch", "merged_at": "2018-04-03T19:14:24Z"}, "body": "Fixes #5543.\r\n\r\nHere's the thing. This is a perfectly fine way to solve this problem.\r\n\r\nA slightly more complete solution would go and check that we're removing quotes everywhere else they might be. This is clearly the wrong choice, we can wait until we get complaints about other places to go fix those.\r\n\r\nA more complete way to solve this problem is to revamp the Nginx parsing infrastructure, so we can do all the things you're supposed to do at parse time like removing quotes and whitespace. Then we can kill unspaced list! And then we'd need a different solution for writing things back out that handles detecting formatting and where to put things. There's multiple perfectly good ways to handle that, which I'm not writing out here because they're pretty obvious. This would also solve at least one other open parsing-related ticket regarding strings and quotes.\r\n\r\nThe _best_ way to solve this tiny problem is by rewriting and packaging certbot as just a cert-management library that a plugin to the Nginx server could pull in. This is because the authoritative parsing is what Nginx does, and also because it's so much better of a UX.\r\n\r\nIn the meantime, here's a 27-character fix.", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/5811/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/5811/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/certbot/certbot/issues/5793", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/5793/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/5793/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/5793/events", "html_url": "https://github.com/certbot/certbot/pull/5793", "id": 308758524, "node_id": "MDExOlB1bGxSZXF1ZXN0MTc3NTg1Nzg0", "number": 5793, "title": "Remove ipv6only=on from duplicated vhosts", "user": {"login": "ohemorange", "id": 1227205, "node_id": "MDQ6VXNlcjEyMjcyMDU=", "avatar_url": "https://avatars.githubusercontent.com/u/1227205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ohemorange", "html_url": "https://github.com/ohemorange", "followers_url": "https://api.github.com/users/ohemorange/followers", "following_url": "https://api.github.com/users/ohemorange/following{/other_user}", "gists_url": "https://api.github.com/users/ohemorange/gists{/gist_id}", "starred_url": "https://api.github.com/users/ohemorange/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ohemorange/subscriptions", "organizations_url": "https://api.github.com/users/ohemorange/orgs", "repos_url": "https://api.github.com/users/ohemorange/repos", "events_url": "https://api.github.com/users/ohemorange/events{/privacy}", "received_events_url": "https://api.github.com/users/ohemorange/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 258836706, "node_id": "MDU6TGFiZWwyNTg4MzY3MDY=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20nginx", "name": "area: nginx", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/50", "html_url": "https://github.com/certbot/certbot/milestone/50", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/50/labels", "id": 3067228, "node_id": "MDk6TWlsZXN0b25lMzA2NzIyOA==", "number": 50, "title": "0.23.0", "description": "", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 28, "state": "closed", "created_at": "2018-01-26T19:34:25Z", "updated_at": "2018-04-16T06:23:35Z", "due_on": "2018-04-04T07:00:00Z", "closed_at": "2018-04-04T01:52:28Z"}, "comments": 0, "created_at": "2018-03-26T22:32:32Z", "updated_at": "2018-03-27T22:11:40Z", "closed_at": "2018-03-27T22:11:40Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/certbot/certbot/pulls/5793", "html_url": "https://github.com/certbot/certbot/pull/5793", "diff_url": "https://github.com/certbot/certbot/pull/5793.diff", "patch_url": "https://github.com/certbot/certbot/pull/5793.patch", "merged_at": "2018-03-27T22:11:40Z"}, "body": "Part of #5438.", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/5793/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/5793/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/certbot/certbot/issues/5788", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/5788/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/5788/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/5788/events", "html_url": "https://github.com/certbot/certbot/pull/5788", "id": 308208301, "node_id": "MDExOlB1bGxSZXF1ZXN0MTc3MjA2NTMw", "number": 5788, "title": " Allow 'default' along with 'default_server' in Nginx", "user": {"login": "ohemorange", "id": 1227205, "node_id": "MDQ6VXNlcjEyMjcyMDU=", "avatar_url": "https://avatars.githubusercontent.com/u/1227205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ohemorange", "html_url": "https://github.com/ohemorange", "followers_url": "https://api.github.com/users/ohemorange/followers", "following_url": "https://api.github.com/users/ohemorange/following{/other_user}", "gists_url": "https://api.github.com/users/ohemorange/gists{/gist_id}", "starred_url": "https://api.github.com/users/ohemorange/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ohemorange/subscriptions", "organizations_url": "https://api.github.com/users/ohemorange/orgs", "repos_url": "https://api.github.com/users/ohemorange/repos", "events_url": "https://api.github.com/users/ohemorange/events{/privacy}", "received_events_url": "https://api.github.com/users/ohemorange/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 258836706, "node_id": "MDU6TGFiZWwyNTg4MzY3MDY=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20nginx", "name": "area: nginx", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/50", "html_url": "https://github.com/certbot/certbot/milestone/50", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/50/labels", "id": 3067228, "node_id": "MDk6TWlsZXN0b25lMzA2NzIyOA==", "number": 50, "title": "0.23.0", "description": "", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 28, "state": "closed", "created_at": "2018-01-26T19:34:25Z", "updated_at": "2018-04-16T06:23:35Z", "due_on": "2018-04-04T07:00:00Z", "closed_at": "2018-04-04T01:52:28Z"}, "comments": 0, "created_at": "2018-03-23T23:46:14Z", "updated_at": "2018-03-26T21:56:36Z", "closed_at": "2018-03-26T21:56:32Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/certbot/certbot/pulls/5788", "html_url": "https://github.com/certbot/certbot/pull/5788", "diff_url": "https://github.com/certbot/certbot/pull/5788.diff", "patch_url": "https://github.com/certbot/certbot/pull/5788.patch", "merged_at": "2018-03-26T21:56:32Z"}, "body": "Part of #5438.", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/5788/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/5788/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/certbot/certbot/issues/5782", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/5782/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/5782/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/5782/events", "html_url": "https://github.com/certbot/certbot/issues/5782", "id": 307818226, "node_id": "MDU6SXNzdWUzMDc4MTgyMjY=", "number": 5782, "title": "Remove ipv6only=on when duplicating a block in Nginx.", "user": {"login": "ohemorange", "id": 1227205, "node_id": "MDQ6VXNlcjEyMjcyMDU=", "avatar_url": "https://avatars.githubusercontent.com/u/1227205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ohemorange", "html_url": "https://github.com/ohemorange", "followers_url": "https://api.github.com/users/ohemorange/followers", "following_url": "https://api.github.com/users/ohemorange/following{/other_user}", "gists_url": "https://api.github.com/users/ohemorange/gists{/gist_id}", "starred_url": "https://api.github.com/users/ohemorange/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ohemorange/subscriptions", "organizations_url": "https://api.github.com/users/ohemorange/orgs", "repos_url": "https://api.github.com/users/ohemorange/repos", "events_url": "https://api.github.com/users/ohemorange/events{/privacy}", "received_events_url": "https://api.github.com/users/ohemorange/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 258836706, "node_id": "MDU6TGFiZWwyNTg4MzY3MDY=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20nginx", "name": "area: nginx", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "ohemorange", "id": 1227205, "node_id": "MDQ6VXNlcjEyMjcyMDU=", "avatar_url": "https://avatars.githubusercontent.com/u/1227205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ohemorange", "html_url": "https://github.com/ohemorange", "followers_url": "https://api.github.com/users/ohemorange/followers", "following_url": "https://api.github.com/users/ohemorange/following{/other_user}", "gists_url": "https://api.github.com/users/ohemorange/gists{/gist_id}", "starred_url": "https://api.github.com/users/ohemorange/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ohemorange/subscriptions", "organizations_url": "https://api.github.com/users/ohemorange/orgs", "repos_url": "https://api.github.com/users/ohemorange/repos", "events_url": "https://api.github.com/users/ohemorange/events{/privacy}", "received_events_url": "https://api.github.com/users/ohemorange/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ohemorange", "id": 1227205, "node_id": "MDQ6VXNlcjEyMjcyMDU=", "avatar_url": "https://avatars.githubusercontent.com/u/1227205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ohemorange", "html_url": "https://github.com/ohemorange", "followers_url": "https://api.github.com/users/ohemorange/followers", "following_url": "https://api.github.com/users/ohemorange/following{/other_user}", "gists_url": "https://api.github.com/users/ohemorange/gists{/gist_id}", "starred_url": "https://api.github.com/users/ohemorange/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ohemorange/subscriptions", "organizations_url": "https://api.github.com/users/ohemorange/orgs", "repos_url": "https://api.github.com/users/ohemorange/repos", "events_url": "https://api.github.com/users/ohemorange/events{/privacy}", "received_events_url": "https://api.github.com/users/ohemorange/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/52", "html_url": "https://github.com/certbot/certbot/milestone/52", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/52/labels", "id": 3194336, "node_id": "MDk6TWlsZXN0b25lMzE5NDMzNg==", "number": 52, "title": "0.24.0", "description": "", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 20, "state": "closed", "created_at": "2018-03-16T20:10:48Z", "updated_at": "2018-05-02T19:18:30Z", "due_on": "2018-05-02T07:00:00Z", "closed_at": "2018-05-02T14:12:39Z"}, "comments": 2, "created_at": "2018-03-22T21:17:46Z", "updated_at": "2018-03-22T23:08:40Z", "closed_at": "2018-03-22T23:08:40Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "See https://github.com/certbot/certbot/issues/5780#issuecomment-375425148.", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/5782/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/5782/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/5780", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/5780/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/5780/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/5780/events", "html_url": "https://github.com/certbot/certbot/issues/5780", "id": 307479004, "node_id": "MDU6SXNzdWUzMDc0NzkwMDQ=", "number": 5780, "title": "Certbot-auto not generating certificates for nginx.", "user": {"login": "sflang1", "id": 7441979, "node_id": "MDQ6VXNlcjc0NDE5Nzk=", "avatar_url": "https://avatars.githubusercontent.com/u/7441979?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sflang1", "html_url": "https://github.com/sflang1", "followers_url": "https://api.github.com/users/sflang1/followers", "following_url": "https://api.github.com/users/sflang1/following{/other_user}", "gists_url": "https://api.github.com/users/sflang1/gists{/gist_id}", "starred_url": "https://api.github.com/users/sflang1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sflang1/subscriptions", "organizations_url": "https://api.github.com/users/sflang1/orgs", "repos_url": "https://api.github.com/users/sflang1/repos", "events_url": "https://api.github.com/users/sflang1/events{/privacy}", "received_events_url": "https://api.github.com/users/sflang1/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 258836706, "node_id": "MDU6TGFiZWwyNTg4MzY3MDY=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20nginx", "name": "area: nginx", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-03-22T02:00:00Z", "updated_at": "2018-03-23T03:40:36Z", "closed_at": "2018-03-22T21:16:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello!\r\n\r\nI'm trying to register a new SSL certificate in a VPS that has already multiple SSL certificates obtained with LetsEncrypt. I perform the command \r\n`sudo ./certbot-auto --nginx -d <domain name>-d <www.domain name>`\r\nBut it fails with the following log:\r\nSaving debug log to /var/log/letsencrypt/letsencrypt.log\r\nPlugins selected: Authenticator nginx, Installer nginx\r\nObtaining a new certificate\r\nPerforming the following challenges:\r\nhttp-01 challenge for womamusic.com\r\nhttp-01 challenge for www.womamusic.com\r\nnginx: [emerg] a duplicate default server for 0.0.0.0:443 in /etc/nginx/sites-enabled/wikss.com:82\r\nCleaning up challenges\r\nnginx restart failed:\r\n\r\n\r\n\r\nI've double checked but there is no double default_server in the specified file. Even, this file doesn't have 82 lines:\r\n```\r\n# Virtual Host configuration for wikss.com\r\n#\r\n# You can move that to a different file under sites-available/ and symlink that\r\n# to sites-enabled/ to enable it.\r\n\r\nserver {\r\n       listen 80 default_server;\r\n       listen [::]:80;\r\n\r\n       server_name wikss.com www.wikss.com;\r\n\r\n       root /var/www/wikss.com/public;\r\n       index index.php index.html;\r\n\r\n       location ~ \\.php$ {\r\n               include snippets/fastcgi-php.conf;\r\n               fastcgi_pass unix:/run/php/php7.0-fpm.sock;\r\n       }\r\n\r\n       location ~ /\\.ht {\r\n               deny all;\r\n       }\r\n\r\n       location ~ /.well-known {\r\n               allow all;\r\n       }\r\n\r\n       location / {\r\n               try_files $uri $uri/ /index.php?$query_string;\r\n       }\r\n\r\n\r\n    listen 443 default ssl; # managed by Certbot\r\nssl_certificate /etc/letsencrypt/live/wikss.com/fullchain.pem; # managed by Certbot\r\nssl_certificate_key /etc/letsencrypt/live/wikss.com/privkey.pem; # managed by Certbot\r\n    include /etc/letsencrypt/options-ssl-nginx.conf; # managed by Certbot\r\n\r\nssl_dhparam /etc/ssl/certs/dhparam.pem;\r\n\r\n    if ($scheme != \"https\") {\r\n        return 301 https://$host$request_uri;\r\n    } # managed by Certbot\r\n\r\n    # Redirect non-https traffic to https\r\n    # if ($scheme != \"https\") {\r\n    #     return 301 https://$host$request_uri;\r\n    # } # managed by Certbot\r\n\r\n}\r\n```\r\n\r\n## My operating system Ubuntu 16.04.3 LTS (xenial)\r\n\r\n\r\n## I installed Certbot with certbot-auto\r\n\r\n## Here is a Certbot log showing the issue (if available):\r\n###### Logs are stored in `/var/log/letsencrypt` by default. Feel free to redact domains, e-mail and IP addresses as you see fit.\r\n\r\n```\r\n2018-03-22 01:35:27,302:DEBUG:certbot.reverter:Creating backup of /etc/nginx/nginx.conf\r\n2018-03-22 01:35:27,304:DEBUG:certbot_nginx.parser:Writing nginx conf tree to /etc/nginx/sites-enabled/wikss.com:\r\n# Virtual Host configuration for wikss.com\r\n#\r\n# You can move that to a different file under sites-available/ and symlink that\r\n# to sites-enabled/ to enable it.\r\n\r\nserver {\r\n       listen 80 default_server;\r\n       listen [::]:80;\r\n\r\n       server_name wikss.com www.wikss.com;\r\n\r\n       root /var/www/wikss.com/public;\r\n       index index.php index.html;\r\n\r\n       location ~ \\.php$ {\r\n               include snippets/fastcgi-php.conf;\r\n               fastcgi_pass unix:/run/php/php7.0-fpm.sock;\r\n       }\r\n\r\n       location ~ /\\.ht {\r\n               deny all;\r\n       }\r\n\r\n       location ~ /.well-known {\r\n               allow all;\r\n       }\r\n\r\n       location / {\r\n               try_files $uri $uri/ /index.php?$query_string;\r\n       }\r\n\r\n\r\n    listen 443 default ssl; # managed by Certbot\r\nssl_certificate /etc/letsencrypt/live/wikss.com/fullchain.pem; # managed by Certbot\r\nssl_certificate_key /etc/letsencrypt/live/wikss.com/privkey.pem; # managed by Certbot\r\n    include /etc/letsencrypt/options-ssl-nginx.conf; # managed by Certbot\r\n\r\nssl_dhparam /etc/ssl/certs/dhparam.pem;\r\n\r\n    if ($scheme != \"https\") {\r\n        return 301 https://$host$request_uri;\r\n    } # managed by Certbot\r\n\r\n    # Redirect non-https traffic to https\r\n    # if ($scheme != \"https\") {\r\n    #     return 301 https://$host$request_uri;\r\n    # } # managed by Certbot\r\n\r\n}\r\n\r\n\r\nserver {rewrite ^(/.well-known/acme-challenge/.*) $1 break; # managed by Certbot\r\n\r\nrewrite ^(/.well-known/acme-challenge/.*) $1 break; # managed by Certbot\r\n\r\n\r\n       listen 80 ;\r\n       listen [::]:80;\r\n    server_name womamusic.com www.womamusic.com; # managed by Certbot\r\n\r\n       root /var/www/wikss.com/public;\r\n       index index.php index.html;\r\n\r\n       location ~ \\.php$ {\r\n               include snippets/fastcgi-php.conf;\r\n               fastcgi_pass unix:/run/php/php7.0-fpm.sock;\r\n       }\r\n\r\n       location ~ /\\.ht {\r\n               deny all;\r\n       }\r\n\r\n       location ~ /.well-known {\r\n               allow all;\r\n       }\r\n\r\n       location / {\r\n               try_files $uri $uri/ /index.php?$query_string;\r\n       }\r\n\r\n\r\n    listen 443 default ssl; # managed by Certbot\r\nssl_certificate /etc/letsencrypt/live/wikss.com/fullchain.pem; # managed by Certbot\r\nssl_certificate_key /etc/letsencrypt/live/wikss.com/privkey.pem; # managed by Certbot\r\n    include /etc/letsencrypt/options-ssl-nginx.conf; # managed by Certbot\r\n\r\nssl_dhparam /etc/ssl/certs/dhparam.pem;\r\n\r\n    if ($scheme != \"https\") {\r\n        return 301 https://$host$request_uri;\r\n    } # managed by Certbot\r\n\r\n    # Redirect non-https traffic to https\r\n    # if ($scheme != \"https\") {\r\n    #     return 301 https://$host$request_uri;\r\n    # } # managed by Certbot\r\n\r\n\r\nlocation = /.well-known/acme-challenge/FT_G2ESPTOz4cd3VB4EifWNQqKVunbeeqKFMHaKyh4g{default_type text/plain;return 200 FT_G2ESPTOz4cd3VB4EifWNQqKVunbeeqKFMHaKyh4g.rmJDXd2FpMP8EetheTQkSgL5ipQMf1OqEFUTt4mzfcw;} # managed by Certbot\r\n\r\n\r\nlocation = /.well-known/acme-challenge/eHQZYUwN5UjKIYGKBe2upjotrAdi-3FMqmALUICYsYI{default_type text/plain;return 200 eHQZYUwN5UjKIYGKBe2upjotrAdi-3FMqmALUICYsYI.rmJDXd2FpMP8EetheTQkSgL5ipQMf1OqEFUTt4mzfcw;} # managed by Certbot\r\n\r\n}\r\n2018-03-22 01:35:27,306:DEBUG:certbot_nginx.parser:Writing nginx conf tree to /etc/nginx/nginx.conf:\r\nuser www-data;\r\nworker_processes auto;\r\npid /run/nginx.pid;\r\n\r\nevents {\r\n\tworker_connections 768;\r\n\t# multi_accept on;\r\n}\r\n\r\nhttp {\r\ninclude /etc/letsencrypt/le_http_01_cert_challenge.conf;\r\nserver_names_hash_bucket_size 128;\r\n\r\n\t##\r\n\t# Basic Settings\r\n\t##\r\n\tclient_max_body_size 6M;\r\n\r\n\tsendfile off;\r\n\ttcp_nopush on;\r\n\ttcp_nodelay on;\r\n\tkeepalive_timeout 65;\r\n\ttypes_hash_max_size 2048;\r\n\t# server_tokens off;\r\n\r\n\t# server_names_hash_bucket_size 64;\r\n\t# server_name_in_redirect off;\r\n\r\n\tinclude /etc/nginx/mime.types;\r\n\tdefault_type application/octet-stream;\r\n\r\n\t##\r\n\t# SSL Settings\r\n\t##\r\n\r\n\tssl_protocols TLSv1 TLSv1.1 TLSv1.2; # Dropping SSLv3, ref: POODLE\r\n\tssl_prefer_server_ciphers on;\r\n\r\n\t##\r\n\t# Logging Settings\r\n\t##\r\n\r\n\taccess_log /var/log/nginx/access.log;\r\n\terror_log /var/log/nginx/error.log;\r\n\r\n\t##\r\n\t# Gzip Settings\r\n\t##\r\n\r\n\tgzip on;\r\n\tgzip_disable \"msie6\";\r\n\r\n\t# gzip_vary on;\r\n\t# gzip_proxied any;\r\n\t# gzip_comp_level 6;\r\n\t# gzip_buffers 16 8k;\r\n\t# gzip_http_version 1.1;\r\n\t# gzip_types text/plain text/css application/json application/javascript text/xml application/xml application/xml+rss text/javascript;\r\n\r\n\t##\r\n\t# Virtual Host Configs\r\n\t##\r\n\r\n\tinclude /etc/nginx/conf.d/*.conf;\r\n\tinclude /etc/nginx/sites-enabled/*;\r\n}\r\n\r\n\r\n#mail {\r\n#\t# See sample authentication script at:\r\n#\t# http://wiki.nginx.org/ImapAuthenticateWithApachePhpScript\r\n# \r\n#\t# auth_http localhost/auth.php;\r\n#\t# pop3_capabilities \"TOP\" \"USER\";\r\n#\t# imap_capabilities \"IMAP4rev1\" \"UIDPLUS\";\r\n# \r\n#\tserver {\r\n#\t\tlisten     localhost:110;\r\n#\t\tprotocol   pop3;\r\n#\t\tproxy      on;\r\n#\t}\r\n# \r\n#\tserver {\r\n#\t\tlisten     localhost:143;\r\n#\t\tprotocol   imap;\r\n#\t\tproxy      on;\r\n#\t}\r\n#}\r\n\r\n2018-03-22 01:35:27,332:DEBUG:certbot.error_handler:Encountered exception:\r\nTraceback (most recent call last):\r\n  File \"/opt/eff.org/certbot/venv/local/lib/python2.7/site-packages/certbot/auth_handler.py\", line 124, in _solve_challenges\r\n    resp = self.auth.perform(all_achalls)\r\n  File \"/opt/eff.org/certbot/venv/local/lib/python2.7/site-packages/certbot_nginx/configurator.py\", line 972, in perform\r\n    self.restart()\r\n  File \"/opt/eff.org/certbot/venv/local/lib/python2.7/site-packages/certbot_nginx/configurator.py\", line 787, in restart\r\n    nginx_restart(self.conf('ctl'), self.nginx_conf)\r\n  File \"/opt/eff.org/certbot/venv/local/lib/python2.7/site-packages/certbot_nginx/configurator.py\", line 1042, in nginx_restart\r\n    \"nginx restart failed:\\n%s\\n%s\" % (out.read(), err.read()))\r\nMisconfigurationError: nginx restart failed:\r\n\r\n\r\n\r\n2018-03-22 01:35:27,332:DEBUG:certbot.error_handler:Calling registered functions\r\n2018-03-22 01:35:27,332:INFO:certbot.auth_handler:Cleaning up challenges\r\n2018-03-22 01:35:28,623:DEBUG:certbot.log:Exiting abnormally:\r\nTraceback (most recent call last):\r\n  File \"/opt/eff.org/certbot/venv/bin/letsencrypt\", line 11, in <module>\r\n    sys.exit(main())\r\n  File \"/opt/eff.org/certbot/venv/local/lib/python2.7/site-packages/certbot/main.py\", line 1266, in main\r\n    return config.func(config, plugins)\r\n  File \"/opt/eff.org/certbot/venv/local/lib/python2.7/site-packages/certbot/main.py\", line 1031, in run\r\n    certname, lineage)\r\n  File \"/opt/eff.org/certbot/venv/local/lib/python2.7/site-packages/certbot/main.py\", line 118, in _get_and_save_cert\r\n    lineage = le_client.obtain_and_enroll_certificate(domains, certname)\r\n  File \"/opt/eff.org/certbot/venv/local/lib/python2.7/site-packages/certbot/client.py\", line 350, in obtain_and_enroll_certificate\r\n    cert, chain, key, _ = self.obtain_certificate(domains)\r\n  File \"/opt/eff.org/certbot/venv/local/lib/python2.7/site-packages/certbot/client.py\", line 294, in obtain_certificate\r\n    orderr = self._get_order_and_authorizations(csr.data, self.config.allow_subset_of_names)\r\n  File \"/opt/eff.org/certbot/venv/local/lib/python2.7/site-packages/certbot/client.py\", line 330, in _get_order_and_authorizations\r\n    authzr = self.auth_handler.handle_authorizations(orderr, best_effort)\r\n  File \"/opt/eff.org/certbot/venv/local/lib/python2.7/site-packages/certbot/auth_handler.py\", line 72, in handle_authorizations\r\n    resp = self._solve_challenges(aauthzrs)\r\n  File \"/opt/eff.org/certbot/venv/local/lib/python2.7/site-packages/certbot/auth_handler.py\", line 124, in _solve_challenges\r\n    resp = self.auth.perform(all_achalls)\r\n  File \"/opt/eff.org/certbot/venv/local/lib/python2.7/site-packages/certbot_nginx/configurator.py\", line 972, in perform\r\n    self.restart()\r\n  File \"/opt/eff.org/certbot/venv/local/lib/python2.7/site-packages/certbot_nginx/configurator.py\", line 787, in restart\r\n    nginx_restart(self.conf('ctl'), self.nginx_conf)\r\n  File \"/opt/eff.org/certbot/venv/local/lib/python2.7/site-packages/certbot_nginx/configurator.py\", line 1042, in nginx_restart\r\n    \"nginx restart failed:\\n%s\\n%s\" % (out.read(), err.read()))\r\nMisconfigurationError: nginx restart failed:\r\n\r\n\r\n\r\n```\r\n\r\n## Here is the relevant nginx server block or Apache virtualhost for the domain I am configuring:\r\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/5780/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/5780/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/5774", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/5774/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/5774/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/5774/events", "html_url": "https://github.com/certbot/certbot/issues/5774", "id": 307032850, "node_id": "MDU6SXNzdWUzMDcwMzI4NTA=", "number": 5774, "title": "Support multiline concatenated quotes in Nginx", "user": {"login": "ohemorange", "id": 1227205, "node_id": "MDQ6VXNlcjEyMjcyMDU=", "avatar_url": "https://avatars.githubusercontent.com/u/1227205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ohemorange", "html_url": "https://github.com/ohemorange", "followers_url": "https://api.github.com/users/ohemorange/followers", "following_url": "https://api.github.com/users/ohemorange/following{/other_user}", "gists_url": "https://api.github.com/users/ohemorange/gists{/gist_id}", "starred_url": "https://api.github.com/users/ohemorange/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ohemorange/subscriptions", "organizations_url": "https://api.github.com/users/ohemorange/orgs", "repos_url": "https://api.github.com/users/ohemorange/repos", "events_url": "https://api.github.com/users/ohemorange/events{/privacy}", "received_events_url": "https://api.github.com/users/ohemorange/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 258836706, "node_id": "MDU6TGFiZWwyNTg4MzY3MDY=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20nginx", "name": "area: nginx", "color": "c5def5", "default": false, "description": null}, {"id": 1383990430, "node_id": "MDU6TGFiZWwxMzgzOTkwNDMw", "url": "https://api.github.com/repos/certbot/certbot/labels/needs-update", "name": "needs-update", "color": "ADDEE4", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/5", "html_url": "https://github.com/certbot/certbot/milestone/5", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/5/labels", "id": 1134473, "node_id": "MDk6TWlsZXN0b25lMTEzNDQ3Mw==", "number": 5, "title": "Wishlist", "description": "", "creator": {"login": "pde", "id": 479213, "node_id": "MDQ6VXNlcjQ3OTIxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/479213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pde", "html_url": "https://github.com/pde", "followers_url": "https://api.github.com/users/pde/followers", "following_url": "https://api.github.com/users/pde/following{/other_user}", "gists_url": "https://api.github.com/users/pde/gists{/gist_id}", "starred_url": "https://api.github.com/users/pde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pde/subscriptions", "organizations_url": "https://api.github.com/users/pde/orgs", "repos_url": "https://api.github.com/users/pde/repos", "events_url": "https://api.github.com/users/pde/events{/privacy}", "received_events_url": "https://api.github.com/users/pde/received_events", "type": "User", "site_admin": false}, "open_issues": 96, "closed_issues": 202, "state": "open", "created_at": "2015-05-26T17:47:38Z", "updated_at": "2023-04-17T19:55:31Z", "due_on": null, "closed_at": null}, "comments": 3, "created_at": "2018-03-20T20:48:57Z", "updated_at": "2020-08-30T07:31:29Z", "closed_at": "2020-07-31T06:39:51Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "https://community.letsencrypt.org/t/certbot-on-debian-9-with-nginx-could-not-automatically-find-a-matching-server-block/56974/", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/5774/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/5774/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/5757", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/5757/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/5757/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/5757/events", "html_url": "https://github.com/certbot/certbot/issues/5757", "id": 306368617, "node_id": "MDU6SXNzdWUzMDYzNjg2MTc=", "number": 5757, "title": "'ascii' codec can't decode byte 0xe8 in position 1314: ordinal not in range(128)", "user": {"login": "JZLeung", "id": 7995232, "node_id": "MDQ6VXNlcjc5OTUyMzI=", "avatar_url": "https://avatars.githubusercontent.com/u/7995232?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JZLeung", "html_url": "https://github.com/JZLeung", "followers_url": "https://api.github.com/users/JZLeung/followers", "following_url": "https://api.github.com/users/JZLeung/following{/other_user}", "gists_url": "https://api.github.com/users/JZLeung/gists{/gist_id}", "starred_url": "https://api.github.com/users/JZLeung/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JZLeung/subscriptions", "organizations_url": "https://api.github.com/users/JZLeung/orgs", "repos_url": "https://api.github.com/users/JZLeung/repos", "events_url": "https://api.github.com/users/JZLeung/events{/privacy}", "received_events_url": "https://api.github.com/users/JZLeung/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 146954788, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODg=", "url": "https://api.github.com/repos/certbot/certbot/labels/duplicate", "name": "duplicate", "color": "a6a6a6", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-03-19T08:21:31Z", "updated_at": "2018-05-14T22:59:41Z", "closed_at": "2018-03-20T01:36:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "when i try to run the command `certbot --nginx`, it didn't work:\r\n```bash\r\nroot@localhost:~# certbot --nginx\r\nSaving debug log to /var/log/letsencrypt/letsencrypt.log\r\nAn unexpected error occurred:\r\nUnicodeDecodeError: 'ascii' codec can't decode byte 0xe8 in position 1314: ordinal not in range(128)\r\nPlease see the logfiles in /var/log/letsencrypt for more details.\r\n```\r\n\r\nthe log's detail are these: \r\n```\r\nroot@localhost:~# cat  /var/log/letsencrypt/letsencrypt.log\r\n2018-02-22 14:27:50,994:DEBUG:certbot.main:certbot version: 0.21.1\r\n2018-02-22 14:27:50,994:DEBUG:certbot.main:Arguments: []\r\n2018-02-22 14:27:50,994:DEBUG:certbot.main:Discovered plugins: PluginsRegistry(PluginEntryPoint#apache,PluginEntryPoint#manual,PluginEntryPoint#nginx,PluginEntryPoint#null,PluginEntryPoint#standalone,PluginEntryPoint#webroot)\r\n2018-02-22 14:27:51,010:DEBUG:certbot.log:Root logging level set at 20\r\n2018-02-22 14:27:51,011:INFO:certbot.log:Saving debug log to /var/log/letsencrypt/letsencrypt.log\r\n2018-02-22 14:27:51,036:DEBUG:certbot.plugins.selection:Requested authenticator <certbot.cli._Default object at 0x7f31b42690d0> and installer <certbot.cli._Default object at 0x7f31b42690d0>\r\n2018-02-22 14:27:51,036:DEBUG:certbot.cli:Default Detector is Namespace(account=<certbot.cli._Default object at 0x7f31b42afdd0>, agree_dev_preview=None, allow_subset_of_names=<certbot.cli._Default object at 0x7f31b42af210>, apache=<certbot.cli._Default object at 0x7f31b4269e50>, apache_challenge_location=<certbot.cli._Default object at 0x7f31b42714d0>, apache_ctl=<certbot.cli._Default object at 0x7f31b42718d0>, apache_dismod=<certbot.cli._Default object at 0x7f31b426eed0>, apache_enmod=<certbot.cli._Default object at 0x7f31b426edd0>, apache_handle_modules=<certbot.cli._Default object at 0x7f31b4271650>, apache_handle_sites=<certbot.cli._Default object at 0x7f31b42717d0>, apache_init_script=<certbot.cli._Default object at 0x7f31b4271a10>, apache_le_vhost_ext=<certbot.cli._Default object at 0x7f31b4271050>, apache_logs_root=<certbot.cli._Default object at 0x7f31b4271390>, apache_server_root=<certbot.cli._Default object at 0x7f31b4271190>, apache_vhost_root=<certbot.cli._Default object at 0x7f31b4271290>, authenticator=<certbot.cli._Default object at 0x7f31b42690d0>, break_my_certs=<certbot.cli._Default object at 0x7f31b424ac10>, cert_path=<certbot.cli._Default object at 0x7f31b429f790>, certname=<certbot.cli._Default object at 0x7f31b428f2d0>, chain_path=<certbot.cli._Default object at 0x7f31b4269ad0>, checkpoints=<certbot.cli._Default object at 0x7f31b42af890>, config_dir=<certbot.cli._Default object at 0x7f31b42698d0>, config_file=None, configurator=<certbot.cli._Default object at 0x7f31b42690d0>, csr=<certbot.cli._Default object at 0x7f31b42aff90>, debug=<certbot.cli._Default object at 0x7f31b424a510>, debug_challenges=<certbot.cli._Default object at 0x7f31b424a610>, delete_after_revoke=<certbot.cli._Default object at 0x7f31b42af310>, deploy_hook=<certbot.cli._Default object at 0x7f31b424aed0>, dialog=None, directory_hooks=<certbot.cli._Default object at 0x7f31b424aad0>, dns_cloudflare=<certbot.cli._Default object at 0x7f31b426e390>, dns_cloudxns=<certbot.cli._Default object at 0x7f31b426e490>, dns_digitalocean=<certbot.cli._Default object at 0x7f31b426e590>, dns_dnsimple=<certbot.cli._Default object at 0x7f31b426e690>, dns_dnsmadeeasy=<certbot.cli._Default object at 0x7f31b426e790>, dns_google=<certbot.cli._Default object at 0x7f31b426e890>, dns_luadns=<certbot.cli._Default object at 0x7f31b426e990>, dns_nsone=<certbot.cli._Default object at 0x7f31b426ea90>, dns_rfc2136=<certbot.cli._Default object at 0x7f31b426eb90>, dns_route53=<certbot.cli._Default object at 0x7f31b426ec90>, domains=<certbot.cli._Default object at 0x7f31b429fb90>, dry_run=<certbot.cli._Default object at 0x7f31b428f410>, duplicate=<certbot.cli._Default object at 0x7f31b42afed0>, eff_email=<certbot.cli._Default object at 0x7f31b428fe50>, email=<certbot.cli._Default object at 0x7f31b428fc10>, expand=<certbot.cli._Default object at 0x7f31b42af8d0>, force_interactive=<certbot.cli._Default object at 0x7f31b429f950>, fullchain_path=<certbot.cli._Default object at 0x7f31b429ff10>, func=<function renew at 0x7f31b44cc938>, hsts=<certbot.cli._Default object at 0x7f31b4269150>, http01_address=<certbot.cli._Default object at 0x7f31b424ab10>, http01_port=<certbot.cli._Default object at 0x7f31b424aa10>, ifaces=<certbot.cli._Default object at 0x7f31b428f610>, init=<certbot.cli._Default object at 0x7f31b428ff10>, installer=<certbot.cli._Default object at 0x7f31b42690d0>, key_path=<certbot.cli._Default object at 0x7f31b429f310>, logs_dir=<certbot.cli._Default object at 0x7f31b42694d0>, manual=<certbot.cli._Default object at 0x7f31b426e190>, manual_auth_hook=<certbot.cli._Default object at 0x7f31b426ed90>, manual_cleanup_hook=<certbot.cli._Default object at 0x7f31b4271c50>, manual_public_ip_logging_ok=<certbot.cli._Default object at 0x7f31b4271d50>, max_log_backups=<certbot.cli._Default object at 0x7f31b429f4d0>, must_staple=<certbot.cli._Default object at 0x7f31b424ae10>, nginx=<certbot.cli._Default object at 0x7f31b4269f50>, nginx_ctl=<certbot.cli._Default object at 0x7f31b4271f90>, nginx_server_root=<certbot.cli._Default object at 0x7f31b4271b10>, no_bootstrap=<certbot.cli._Default object at 0x7f31b424a210>, no_self_upgrade=<certbot.cli._Default object at 0x7f31b424a110>, no_verify_ssl=<certbot.cli._Default object at 0x7f31b424a710>, noninteractive_mode=<certbot.cli._Default object at 0x7f31b429f710>, num=<certbot.cli._Default object at 0x7f31b424a5d0>, os_packages_only=<certbot.cli._Default object at 0x7f31b42affd0>, post_hook=<certbot.cli._Default object at 0x7f31b4269a50>, pre_hook=<certbot.cli._Default object at 0x7f31b4269950>, pref_challs=<certbot.cli._Default object at 0x7f31b4269850>, prepare=<certbot.cli._Default object at 0x7f31b428fa90>, quiet=<certbot.cli._Default object at 0x7f31b424a310>, reason=<certbot.cli._Default object at 0x7f31b42afd90>, redirect=<certbot.cli._Default object at 0x7f31b424af10>, register_unsafely_without_email=<certbot.cli._Default object at 0x7f31b428f790>, reinstall=<certbot.cli._Default object at 0x7f31b42af9d0>, renew_by_default=<certbot.cli._Default object at 0x7f31b42af590>, renew_hook=<certbot.cli._Default object at 0x7f31b4269b50>, renew_with_new_domains=<certbot.cli._Default object at 0x7f31b42af3d0>, rsa_key_size=<certbot.cli._Default object at 0x7f31b424ad10>, server=<certbot.cli._Default object at 0x7f31b42692d0>, staging=<certbot.cli._Default object at 0x7f31b424a410>, standalone=<certbot.cli._Default object at 0x7f31b426e090>, standalone_supported_challenges=<certbot.cli._Default object at 0x7f31b42760d0>, staple=<certbot.cli._Default object at 0x7f31b4269550>, strict_permissions=<certbot.cli._Default object at 0x7f31b4269750>, text_mode=<certbot.cli._Default object at 0x7f31b429f290>, tls_sni_01_address=<certbot.cli._Default object at 0x7f31b424a910>, tls_sni_01_port=<certbot.cli._Default object at 0x7f31b424a810>, tos=<certbot.cli._Default object at 0x7f31b42af090>, uir=<certbot.cli._Default object at 0x7f31b4269350>, update_registration=<certbot.cli._Default object at 0x7f31b428f9d0>, user_agent=<certbot.cli._Default object at 0x7f31b424a3d0>, user_agent_comment=<certbot.cli._Default object at 0x7f31b424a1d0>, validate_hooks=<certbot.cli._Default object at 0x7f31b424acd0>, verb='renew', verbose_count=<certbot.cli._Default object at 0x7f31b429fe50>, webroot=<certbot.cli._Default object at 0x7f31b426e290>, webroot_map=<certbot.cli._Default object at 0x7f31b42762d0>, webroot_path=<certbot.cli._Default object at 0x7f31b4271e90>, work_dir=<certbot.cli._Default object at 0x7f31b42696d0>)\r\n2018-02-22 14:27:51,042:INFO:certbot.renewal:Cert not yet due for renewal\r\n2018-02-22 14:27:51,047:INFO:certbot.renewal:Cert not yet due for renewal\r\n2018-02-22 14:27:51,047:DEBUG:certbot.renewal:no renewal failures\r\n2018-03-19 08:04:31,363:DEBUG:certbot.main:certbot version: 0.21.1\r\n2018-03-19 08:04:31,364:DEBUG:certbot.main:Arguments: ['--nginx']\r\n2018-03-19 08:04:31,364:DEBUG:certbot.main:Discovered plugins: PluginsRegistry(PluginEntryPoint#manual,PluginEntryPoint#nginx,PluginEntryPoint#null,PluginEntryPoint#standalone,PluginEntryPoint#webroot)\r\n2018-03-19 08:04:31,370:DEBUG:certbot.log:Root logging level set at 20\r\n2018-03-19 08:04:31,371:INFO:certbot.log:Saving debug log to /var/log/letsencrypt/letsencrypt.log\r\n2018-03-19 08:04:31,372:DEBUG:certbot.plugins.selection:Requested authenticator nginx and installer nginx\r\n2018-03-19 08:04:31,482:DEBUG:certbot.log:Exiting abnormally:\r\nTraceback (most recent call last):\r\n  File \"/usr/bin/certbot\", line 11, in <module>\r\n    load_entry_point('certbot==0.21.1', 'console_scripts', 'certbot')()\r\n  File \"/usr/lib/python3/dist-packages/certbot/main.py\", line 1240, in main\r\n    return config.func(config, plugins)\r\n  File \"/usr/lib/python3/dist-packages/certbot/main.py\", line 1099, in certonly\r\n    installer, auth = plug_sel.choose_configurator_plugins(config, plugins, \"certonly\")\r\n  File \"/usr/lib/python3/dist-packages/certbot/plugins/selection.py\", line 192, in choose_configurator_plugins\r\n    installer = pick_installer(config, req_inst, plugins)\r\n  File \"/usr/lib/python3/dist-packages/certbot/plugins/selection.py\", line 32, in pick_installer\r\n    config, default, plugins, question, (interfaces.IInstaller,))\r\n  File \"/usr/lib/python3/dist-packages/certbot/plugins/selection.py\", line 77, in pick_plugin\r\n    verified.prepare()\r\n  File \"/usr/lib/python3/dist-packages/certbot/plugins/disco.py\", line 248, in prepare\r\n    return [plugin_ep.prepare() for plugin_ep in six.itervalues(self._plugins)]\r\n  File \"/usr/lib/python3/dist-packages/certbot/plugins/disco.py\", line 248, in <listcomp>\r\n    return [plugin_ep.prepare() for plugin_ep in six.itervalues(self._plugins)]\r\n  File \"/usr/lib/python3/dist-packages/certbot/plugins/disco.py\", line 130, in prepare\r\n    self._initialized.prepare()\r\n  File \"/usr/lib/python3/dist-packages/certbot_nginx/configurator.py\", line 131, in prepare\r\n    self.parser = parser.NginxParser(self.conf('server-root'))\r\n  File \"/usr/lib/python3/dist-packages/certbot_nginx/parser.py\", line 38, in __init__\r\n    self.load()\r\n  File \"/usr/lib/python3/dist-packages/certbot_nginx/parser.py\", line 45, in load\r\n    self._parse_recursively(self.config_root)\r\n  File \"/usr/lib/python3/dist-packages/certbot_nginx/parser.py\", line 66, in _parse_recursively\r\n    self._parse_recursively(subentry[1])\r\n  File \"/usr/lib/python3/dist-packages/certbot_nginx/parser.py\", line 56, in _parse_recursively\r\n    trees = self._parse_files(filepath)\r\n  File \"/usr/lib/python3/dist-packages/certbot_nginx/parser.py\", line 206, in _parse_files\r\n    parsed = nginxparser.load(_file)\r\n  File \"/usr/lib/python3/dist-packages/certbot_nginx/nginxparser.py\", line 123, in load\r\n    return loads(_file.read())\r\n  File \"/usr/lib/python3.5/encodings/ascii.py\", line 26, in decode\r\n    return codecs.ascii_decode(input, self.errors)[0]\r\nUnicodeDecodeError: 'ascii' codec can't decode byte 0xe8 in position 1314: ordinal not in range(128)\r\n2018-03-19 08:04:31,483:ERROR:certbot.log:An unexpected error occurred:\r\n2018-03-19 08:13:59,650:DEBUG:certbot.main:certbot version: 0.21.1\r\n2018-03-19 08:13:59,650:DEBUG:certbot.main:Arguments: ['--nginx']\r\n2018-03-19 08:13:59,651:DEBUG:certbot.main:Discovered plugins: PluginsRegistry(PluginEntryPoint#manual,PluginEntryPoint#nginx,PluginEntryPoint#null,PluginEntryPoint#standalone,PluginEntryPoint#webroot)\r\n2018-03-19 08:13:59,658:DEBUG:certbot.log:Root logging level set at 20\r\n2018-03-19 08:13:59,659:INFO:certbot.log:Saving debug log to /var/log/letsencrypt/letsencrypt.log\r\n2018-03-19 08:13:59,659:DEBUG:certbot.plugins.selection:Requested authenticator nginx and installer nginx\r\n2018-03-19 08:13:59,774:DEBUG:certbot.log:Exiting abnormally:\r\nTraceback (most recent call last):\r\n  File \"/usr/bin/certbot\", line 11, in <module>\r\n    load_entry_point('certbot==0.21.1', 'console_scripts', 'certbot')()\r\n  File \"/usr/lib/python3/dist-packages/certbot/main.py\", line 1240, in main\r\n    return config.func(config, plugins)\r\n  File \"/usr/lib/python3/dist-packages/certbot/main.py\", line 981, in run\r\n    installer, authenticator = plug_sel.choose_configurator_plugins(config, plugins, \"run\")\r\n  File \"/usr/lib/python3/dist-packages/certbot/plugins/selection.py\", line 189, in choose_configurator_plugins\r\n    authenticator = installer = pick_configurator(config, req_inst, plugins)\r\n  File \"/usr/lib/python3/dist-packages/certbot/plugins/selection.py\", line 25, in pick_configurator\r\n    (interfaces.IAuthenticator, interfaces.IInstaller))\r\n  File \"/usr/lib/python3/dist-packages/certbot/plugins/selection.py\", line 77, in pick_plugin\r\n    verified.prepare()\r\n  File \"/usr/lib/python3/dist-packages/certbot/plugins/disco.py\", line 248, in prepare\r\n    return [plugin_ep.prepare() for plugin_ep in six.itervalues(self._plugins)]\r\n  File \"/usr/lib/python3/dist-packages/certbot/plugins/disco.py\", line 248, in <listcomp>\r\n    return [plugin_ep.prepare() for plugin_ep in six.itervalues(self._plugins)]\r\n  File \"/usr/lib/python3/dist-packages/certbot/plugins/disco.py\", line 130, in prepare\r\n    self._initialized.prepare()\r\n  File \"/usr/lib/python3/dist-packages/certbot_nginx/configurator.py\", line 131, in prepare\r\n    self.parser = parser.NginxParser(self.conf('server-root'))\r\n  File \"/usr/lib/python3/dist-packages/certbot_nginx/parser.py\", line 38, in __init__\r\n    self.load()\r\n  File \"/usr/lib/python3/dist-packages/certbot_nginx/parser.py\", line 45, in load\r\n    self._parse_recursively(self.config_root)\r\n  File \"/usr/lib/python3/dist-packages/certbot_nginx/parser.py\", line 66, in _parse_recursively\r\n    self._parse_recursively(subentry[1])\r\n  File \"/usr/lib/python3/dist-packages/certbot_nginx/parser.py\", line 56, in _parse_recursively\r\n    trees = self._parse_files(filepath)\r\n  File \"/usr/lib/python3/dist-packages/certbot_nginx/parser.py\", line 206, in _parse_files\r\n    parsed = nginxparser.load(_file)\r\n  File \"/usr/lib/python3/dist-packages/certbot_nginx/nginxparser.py\", line 123, in load\r\n    return loads(_file.read())\r\n  File \"/usr/lib/python3.5/encodings/ascii.py\", line 26, in decode\r\n    return codecs.ascii_decode(input, self.errors)[0]\r\nUnicodeDecodeError: 'ascii' codec can't decode byte 0xe8 in position 1314: ordinal not in range(128)\r\n2018-03-19 08:13:59,775:ERROR:certbot.log:An unexpected error occurred:\r\n```\r\n\r\nmy server is `ubuntu16.04`", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/5757/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/5757/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/5752", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/5752/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/5752/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/5752/events", "html_url": "https://github.com/certbot/certbot/issues/5752", "id": 306180216, "node_id": "MDU6SXNzdWUzMDYxODAyMTY=", "number": 5752, "title": "Parsing nginx conf file fails when include in double quotes", "user": {"login": "SmallhillCZ", "id": 1273865, "node_id": "MDQ6VXNlcjEyNzM4NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/1273865?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SmallhillCZ", "html_url": "https://github.com/SmallhillCZ", "followers_url": "https://api.github.com/users/SmallhillCZ/followers", "following_url": "https://api.github.com/users/SmallhillCZ/following{/other_user}", "gists_url": "https://api.github.com/users/SmallhillCZ/gists{/gist_id}", "starred_url": "https://api.github.com/users/SmallhillCZ/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SmallhillCZ/subscriptions", "organizations_url": "https://api.github.com/users/SmallhillCZ/orgs", "repos_url": "https://api.github.com/users/SmallhillCZ/repos", "events_url": "https://api.github.com/users/SmallhillCZ/events{/privacy}", "received_events_url": "https://api.github.com/users/SmallhillCZ/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 146954788, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODg=", "url": "https://api.github.com/repos/certbot/certbot/labels/duplicate", "name": "duplicate", "color": "a6a6a6", "default": true, "description": null}, {"id": 258836706, "node_id": "MDU6TGFiZWwyNTg4MzY3MDY=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20nginx", "name": "area: nginx", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-03-17T18:43:15Z", "updated_at": "2018-03-19T22:05:17Z", "closed_at": "2018-03-19T22:05:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "When path for included file for include directove in nginx.conf is in double quotes, certbot fails to find the correct server_name directive. Using double quotes is correct for Nginx (nginx -t says ok), but fails for certbot.\r\n\r\n## My operating system is (include version):\r\n\r\nCentOS 7\r\n\r\n## I installed Certbot with (certbot-auto, OS package manager, pip, etc):\r\n\r\n OS package manager\r\n\r\n## I ran this command and it produced this output:\r\n\r\ncertbot --nginx\r\n\r\n## Certbot's behavior differed from what I expected because:\r\n\r\nCertbot should get the certificates and installed them. Instead it fails with \"Could not automatically find a matching server block. Set the `server_name` directive to use the Nginx installer.\".\r\n\r\n## Here is a Certbot log showing the issue (if available):\r\n\r\n2018-03-17 18:25:20,041:DEBUG:certbot.error_handler:Encountered exception:\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python2.7/site-packages/certbot/client.py\", line 442, in deploy_certificate\r\n    fullchain_path=fullchain_path)\r\n  File \"/usr/lib/python2.7/site-packages/certbot_nginx/configurator.py\", line 176, in deploy_cert\r\n    vhosts = self.choose_vhosts(domain, create_if_no_match=True)\r\n  File \"/usr/lib/python2.7/site-packages/certbot_nginx/configurator.py\", line 285, in choose_vhosts\r\n    vhosts = [self._vhost_from_duplicated_default(target_name)]\r\n  File \"/usr/lib/python2.7/site-packages/certbot_nginx/configurator.py\", line 330, in _vhost_from_duplicated_default\r\n    default_vhost = self._get_default_vhost(port)\r\n  File \"/usr/lib/python2.7/site-packages/certbot_nginx/configurator.py\", line 361, in _get_default_vhost\r\n    raise errors.MisconfigurationError(\"Could not automatically find a matching server\"\r\nMisconfigurationError: Could not automatically find a matching server block. Set the `server_name` directive to use the Nginx installer.\r\n\r\n2018-03-17 18:25:20,042:DEBUG:certbot.error_handler:Calling registered functions\r\n2018-03-17 18:25:20,065:DEBUG:certbot.reporter:Reporting to user: Unable to install the certificate\r\n2018-03-17 18:25:20,065:DEBUG:certbot.log:Exiting abnormally:\r\nTraceback (most recent call last):\r\n  File \"/usr/bin/certbot\", line 9, in <module>\r\n    load_entry_point('certbot==0.22.0', 'console_scripts', 'certbot')()\r\n  File \"/usr/lib/python2.7/site-packages/certbot/main.py\", line 1266, in main\r\n    return config.func(config, plugins)\r\n  File \"/usr/lib/python2.7/site-packages/certbot/main.py\", line 1038, in run\r\n    _install_cert(config, le_client, domains, new_lineage)\r\n  File \"/usr/lib/python2.7/site-packages/certbot/main.py\", line 760, in _install_cert\r\n    path_provider.cert_path, path_provider.chain_path, path_provider.fullchain_path)\r\n  File \"/usr/lib/python2.7/site-packages/certbot/client.py\", line 442, in deploy_certificate\r\n    fullchain_path=fullchain_path)\r\n  File \"/usr/lib/python2.7/site-packages/certbot_nginx/configurator.py\", line 176, in deploy_cert\r\n    vhosts = self.choose_vhosts(domain, create_if_no_match=True)\r\n  File \"/usr/lib/python2.7/site-packages/certbot_nginx/configurator.py\", line 285, in choose_vhosts\r\n    vhosts = [self._vhost_from_duplicated_default(target_name)]\r\n  File \"/usr/lib/python2.7/site-packages/certbot_nginx/configurator.py\", line 330, in _vhost_from_duplicated_default\r\n    default_vhost = self._get_default_vhost(port)\r\n  File \"/usr/lib/python2.7/site-packages/certbot_nginx/configurator.py\", line 361, in _get_default_vhost\r\n    raise errors.MisconfigurationError(\"Could not automatically find a matching server\"\r\nMisconfigurationError: Could not automatically find a matching server block. Set the `server_name` directive to use the Nginx installer.\r\n\r\n## Here is the relevant nginx server block or Apache virtualhost for the domain I am configuring:\r\n\r\nhttp {\r\n  rewrite_log on;\r\n  include \"/etc/nginx/conf.d/*\";\r\n}\r\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/5752/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/5752/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/5738", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/5738/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/5738/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/5738/events", "html_url": "https://github.com/certbot/certbot/issues/5738", "id": 305762249, "node_id": "MDU6SXNzdWUzMDU3NjIyNDk=", "number": 5738, "title": "[PATCH] >=0.22.0: Bug in acme.Client.__init__ breaks acme.Client.register", "user": {"login": "hartwork", "id": 1577132, "node_id": "MDQ6VXNlcjE1NzcxMzI=", "avatar_url": "https://avatars.githubusercontent.com/u/1577132?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hartwork", "html_url": "https://github.com/hartwork", "followers_url": "https://api.github.com/users/hartwork/followers", "following_url": "https://api.github.com/users/hartwork/following{/other_user}", "gists_url": "https://api.github.com/users/hartwork/gists{/gist_id}", "starred_url": "https://api.github.com/users/hartwork/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hartwork/subscriptions", "organizations_url": "https://api.github.com/users/hartwork/orgs", "repos_url": "https://api.github.com/users/hartwork/repos", "events_url": "https://api.github.com/users/hartwork/events{/privacy}", "received_events_url": "https://api.github.com/users/hartwork/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 277074172, "node_id": "MDU6TGFiZWwyNzcwNzQxNzI=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20acme", "name": "area: acme", "color": "c5def5", "default": false, "description": null}, {"id": 853314368, "node_id": "MDU6TGFiZWw4NTMzMTQzNjg=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20encoding/type%20error", "name": "area: encoding/type error", "color": "c5def5", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/51", "html_url": "https://github.com/certbot/certbot/milestone/51", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/51/labels", "id": 3170213, "node_id": "MDk6TWlsZXN0b25lMzE3MDIxMw==", "number": 51, "title": "0.22.1", "description": "", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 9, "state": "closed", "created_at": "2018-03-07T22:57:21Z", "updated_at": "2018-03-20T17:41:03Z", "due_on": null, "closed_at": "2018-03-20T17:41:03Z"}, "comments": 2, "created_at": "2018-03-16T00:16:49Z", "updated_at": "2018-03-17T00:45:46Z", "closed_at": "2018-03-17T00:45:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi!\r\n\r\nThere is a bug in `acme.Client.__init__`. When called with `net=None`, `self.net` is first initialited with a new instance of `ClientNetwork` but then `net` (rather than `self.net`) is pass to `ClientBase.__init__` which sets `self.net` back to None. The breaking code was introduced in 9baf75d6c887a9b69bd92c7bffe585f091c9b08e and is this:\r\n```\r\nclass ClientBase(object):  # pylint: disable=too-many-instance-attributes\r\n    [..]\r\n    def __init__(self, directory, net, acme_version):\r\n        [..]\r\n        self.net = net\r\n[..]\r\nclass Client(ClientBase):\r\n    [..]\r\n    def __init__(self, directory, key, alg=jose.RS256, verify_ssl=True,\r\n                 net=None):\r\n        [..]\r\n        self.net = ClientNetwork(key, alg=alg, verify_ssl=verify_ssl) if net is None else net\r\n        [..]\r\n        super(Client, self).__init__(directory=directory,\r\n            net=net, acme_version=1)\r\n```\r\nAs a result, calling `.register(...)` on the client will raise `AttributeError: 'NoneType' object has no attribute 'post'` which breaks wile, see https://github.com/costela/wile/issues/34.\r\n\r\nOne way to fix the issue is to change `net=net` to `self.net=net` in the line using `super`. I could provide a pull request to do that if that's the way you want to patch it.\r\n\r\nWhat do you think?", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/5738/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/5738/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/5728", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/5728/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/5728/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/5728/events", "html_url": "https://github.com/certbot/certbot/issues/5728", "id": 305245139, "node_id": "MDU6SXNzdWUzMDUyNDUxMzk=", "number": 5728, "title": "Generate wildcard + root domain certificates with certbot-dns-route53", "user": {"login": "jonasneves", "id": 946792, "node_id": "MDQ6VXNlcjk0Njc5Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/946792?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonasneves", "html_url": "https://github.com/jonasneves", "followers_url": "https://api.github.com/users/jonasneves/followers", "following_url": "https://api.github.com/users/jonasneves/following{/other_user}", "gists_url": "https://api.github.com/users/jonasneves/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonasneves/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonasneves/subscriptions", "organizations_url": "https://api.github.com/users/jonasneves/orgs", "repos_url": "https://api.github.com/users/jonasneves/repos", "events_url": "https://api.github.com/users/jonasneves/events{/privacy}", "received_events_url": "https://api.github.com/users/jonasneves/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 596606268, "node_id": "MDU6TGFiZWw1OTY2MDYyNjg=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20dns", "name": "area: dns", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2018-03-14T16:56:23Z", "updated_at": "2018-03-15T01:15:32Z", "closed_at": "2018-03-15T01:14:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "If you're having trouble using Certbot and aren't sure you've found a bug or\r\nrequest for a new feature, please first try asking for help at\r\nhttps://community.letsencrypt.org/. There is a much larger community there of\r\npeople familiar with the project who will be able to more quickly answer your\r\nquestions.\r\n\r\n## My operating system is (include version):\r\nCentOS 6.9\r\n\r\n## I installed Certbot with (certbot-auto, OS package manager, pip, etc):\r\npip\r\n\r\n## I ran this command and it produced this output:\r\n```\r\ncertbot certonly \\\r\n  --server https://acme-staging-v02.api.letsencrypt.org/directory\r\n  -n --agree-tos --email DEVOPS@COMPANY.COM \\\r\n  --dns-route53 \\\r\n  -d MY.DOMAIN.NAME,*.MY.DOMAIN.NAME\r\n```\r\n\r\nThe certificate is created successfully but only including the root domain, and ignoring the wildcard record\r\n\r\n## Certbot's behavior differed from what I expected because:\r\n\r\nApparently the DNS challenge is creating the TXT record only for the root domain, ignoring the wildcard record\r\n\r\n## Here is a Certbot log showing the issue (if available):\r\n###### Logs are stored in `/var/log/letsencrypt` by default. Feel free to redact domains, e-mail and IP addresses as you see fit.\r\n\r\n## Here is the relevant nginx server block or Apache virtualhost for the domain I am configuring:\r\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/5728/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/5728/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/5721", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/5721/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/5721/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/5721/events", "html_url": "https://github.com/certbot/certbot/issues/5721", "id": 304989994, "node_id": "MDU6SXNzdWUzMDQ5ODk5OTQ=", "number": 5721, "title": "Linebreaks in chain.pem (and fullchain.pem) differ from previous versions", "user": {"login": "keigel2001", "id": 9857738, "node_id": "MDQ6VXNlcjk4NTc3Mzg=", "avatar_url": "https://avatars.githubusercontent.com/u/9857738?v=4", "gravatar_id": "", "url": "https://api.github.com/users/keigel2001", "html_url": "https://github.com/keigel2001", "followers_url": "https://api.github.com/users/keigel2001/followers", "following_url": "https://api.github.com/users/keigel2001/following{/other_user}", "gists_url": "https://api.github.com/users/keigel2001/gists{/gist_id}", "starred_url": "https://api.github.com/users/keigel2001/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/keigel2001/subscriptions", "organizations_url": "https://api.github.com/users/keigel2001/orgs", "repos_url": "https://api.github.com/users/keigel2001/repos", "events_url": "https://api.github.com/users/keigel2001/events{/privacy}", "received_events_url": "https://api.github.com/users/keigel2001/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/51", "html_url": "https://github.com/certbot/certbot/milestone/51", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/51/labels", "id": 3170213, "node_id": "MDk6TWlsZXN0b25lMzE3MDIxMw==", "number": 51, "title": "0.22.1", "description": "", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 9, "state": "closed", "created_at": "2018-03-07T22:57:21Z", "updated_at": "2018-03-20T17:41:03Z", "due_on": null, "closed_at": "2018-03-20T17:41:03Z"}, "comments": 8, "created_at": "2018-03-14T01:16:34Z", "updated_at": "2018-07-04T05:11:30Z", "closed_at": "2018-03-15T18:18:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "## My operating system is (include version):\r\nDebian Stretch 9.4\r\n\r\n## I installed Certbot with (certbot-auto, OS package manager, pip, etc):\r\ncertbot-auto (0.22.0)\r\n\r\n## I ran this command and it produced this output:\r\n`./certbot-auto certonly --rsa-key-size 4096 --manual --preferred-challenges=dns-01 --manual-auth-hook /opt/eff.org/certbot/certbot_dns_authenticate.sh --manual-cleanup-hook /opt/eff.org/certbot/certbot_dns_cleanup.sh -d 'mydomain.tld','*.mydomain.tld' --server https://acme-v02.api.letsencrypt.org/directory`\r\n\r\n## Certbot's behavior differed from what I expected because:\r\nYesterday I obtained a new wildcard certificate with the help of certbot. Everything went fine and it's working with NGINX and Dovecot like expected. But when I tried my script which is chaining it into a special form for my ZNC, I couldn't connect.\r\nAfter debugging I noticed that the linebreaks differ from the certs I was obtaining in the past.\r\nNamely chain.pem (and because of this also fullchain.pem) are different. The rest is like excepted.\r\n\r\nprevious chain.pem:\r\n```\r\n-----BEGIN CERTIFICATE-----LF\r\nxxxLF\r\nyyyLF\r\n-----END CERTIFICATE-----LF\r\n```\r\n\r\nnew chain.pem:\r\n```\r\nLF\r\n-----BEGIN CERTIFICATE-----CRLF\r\nxxxCRLF\r\nyyyCRLF\r\n-----END CERTIFICATE-----\r\n```\r\n\r\nEspecially the missing linebreak at the end is breaking my application and I don't think it's like this on purpose. Resulting of this change the fullchain.pem is also different now.", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/5721/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/5721/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/5717", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/5717/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/5717/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/5717/events", "html_url": "https://github.com/certbot/certbot/issues/5717", "id": 304874417, "node_id": "MDU6SXNzdWUzMDQ4NzQ0MTc=", "number": 5717, "title": "certbot renew --dry-run doesn't use ACME v2", "user": {"login": "mnordhoff", "id": 1025227, "node_id": "MDQ6VXNlcjEwMjUyMjc=", "avatar_url": "https://avatars.githubusercontent.com/u/1025227?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mnordhoff", "html_url": "https://github.com/mnordhoff", "followers_url": "https://api.github.com/users/mnordhoff/followers", "following_url": "https://api.github.com/users/mnordhoff/following{/other_user}", "gists_url": "https://api.github.com/users/mnordhoff/gists{/gist_id}", "starred_url": "https://api.github.com/users/mnordhoff/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mnordhoff/subscriptions", "organizations_url": "https://api.github.com/users/mnordhoff/orgs", "repos_url": "https://api.github.com/users/mnordhoff/repos", "events_url": "https://api.github.com/users/mnordhoff/events{/privacy}", "received_events_url": "https://api.github.com/users/mnordhoff/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 277074172, "node_id": "MDU6TGFiZWwyNzcwNzQxNzI=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20acme", "name": "area: acme", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/51", "html_url": "https://github.com/certbot/certbot/milestone/51", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/51/labels", "id": 3170213, "node_id": "MDk6TWlsZXN0b25lMzE3MDIxMw==", "number": 51, "title": "0.22.1", "description": "", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 9, "state": "closed", "created_at": "2018-03-07T22:57:21Z", "updated_at": "2018-03-20T17:41:03Z", "due_on": null, "closed_at": "2018-03-20T17:41:03Z"}, "comments": 4, "created_at": "2018-03-13T18:00:47Z", "updated_at": "2018-03-16T22:24:56Z", "closed_at": "2018-03-16T22:24:56Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "## My operating system is (include version):\r\n\r\nUbuntu 16.04 (amd64)\r\n\r\n## I installed Certbot with (certbot-auto, OS package manager, pip, etc):\r\n\r\ncertbot-auto (0.22.0)\r\n\r\n## I ran this command and it produced this output:\r\n\r\n`$ sudo -H certbot certonly --manual --manual-auth-hook \"/opt/certbot_dns/certbot_dns.py --auth --config /opt/certbot_dns/certbot_dns.ini --route-53\" --manual-cleanup-hook \"/opt/certbot_dns/certbot_dns.py --cleanup --config /opt/certbot_dns/certbot_dns.ini --route-53\" --manual-public-ip-logging-ok --preferred-challenges dns-01 --server https://acme-staging-v02.api.letsencrypt.org/directory -d letsencrypt.mattnordhoff.info -d '*.letsencrypt.mattnordhoff.info'`\r\n\r\nThat's my not-open-source manual auth plugin for Route 53 DNS validation.\r\n\r\nThe certificate was successfully issued.\r\n\r\n    $ sudo -H certbot renew --dry-run\r\n    Saving debug log to /var/log/letsencrypt/letsencrypt.log\r\n\r\n    [snip]\r\n\r\n    -------------------------------------------------------------------------------\r\n    Processing /etc/letsencrypt/renewal/letsencrypt.mattnordhoff.info.conf\r\n    -------------------------------------------------------------------------------\r\n    Cert not due for renewal, but simulating renewal for dry run\r\n    Plugins selected: Authenticator manual, Installer None\r\n    Renewing an existing certificate\r\n    Attempting to renew cert (letsencrypt.mattnordhoff.info) from /etc/letsencrypt/renewal/letsencrypt.mattnordhoff.info.conf produced an unexpected error: The currently selected ACME CA endpoint does not support issuing wildcard certificates.. Skipping.\r\n\r\n    [snip]\r\n\r\n    The following certs could not be renewed:\r\n      /etc/letsencrypt/live/letsencrypt.mattnordhoff.info/fullchain.pem (failure)\r\n      /etc/letsencrypt/live/letsencrypt.mattnordhoff.net/fullchain.pem (failure)\r\n\r\n    -------------------------------------------------------------------------------\r\n    ** DRY RUN: simulating 'certbot renew' close to cert expiry\r\n    **          (The test certificates below have not been saved.)\r\n\r\n    The following certs were successfully renewed:\r\n    [snip]\r\n\r\n    The following certs could not be renewed:\r\n      /etc/letsencrypt/live/letsencrypt.mattnordhoff.info/fullchain.pem (failure)\r\n      /etc/letsencrypt/live/letsencrypt.mattnordhoff.net/fullchain.pem (failure)\r\n    ** DRY RUN: simulating 'certbot renew' close to cert expiry\r\n    **          (The test certificates above have not been saved.)\r\n    -------------------------------------------------------------------------------\r\n    2 renew failure(s), 0 parse failure(s)\r\n\r\n(The `letsencrypt.mattnordhoff.net` certificate failed for the same reason.)\r\n\r\n## Certbot's behavior differed from what I expected because:\r\n\r\nCertbot tries to renew an ACME v2 staging wildcard certificate using the ACME v1 server, and naturally fails.\r\n\r\n## Here is a Certbot log showing the issue (if available):\r\n###### Logs are stored in `/var/log/letsencrypt` by default. Feel free to redact domains, e-mail and IP addresses as you see fit.\r\n\r\nhttps://mn0.us/vPfhms7t_h2YLEaWk_AHaGK/letsencrypt.log (other certificates snipped)\r\n\r\nI don't know if this is a known issue or expected behavior, but I didn't see anything. :confused:", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/5717/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/5717/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/5705", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/5705/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/5705/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/5705/events", "html_url": "https://github.com/certbot/certbot/issues/5705", "id": 304189359, "node_id": "MDU6SXNzdWUzMDQxODkzNTk=", "number": 5705, "title": "Created an SSL vhost at /etc/httpd/conf/vhosts/www-root/<myhost>-le-ssl.conf Unable to save files: /etc/httpd/conf/vhosts/www-root. Attempted Save Notes: Created ssl vhost at /etc/httpd/conf/vhosts/www-root/<myhost>-le-ssl.conf  Error saving files, check logs for more info.", "user": {"login": "nibytes", "id": 15169344, "node_id": "MDQ6VXNlcjE1MTY5MzQ0", "avatar_url": "https://avatars.githubusercontent.com/u/15169344?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nibytes", "html_url": "https://github.com/nibytes", "followers_url": "https://api.github.com/users/nibytes/followers", "following_url": "https://api.github.com/users/nibytes/following{/other_user}", "gists_url": "https://api.github.com/users/nibytes/gists{/gist_id}", "starred_url": "https://api.github.com/users/nibytes/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nibytes/subscriptions", "organizations_url": "https://api.github.com/users/nibytes/orgs", "repos_url": "https://api.github.com/users/nibytes/repos", "events_url": "https://api.github.com/users/nibytes/events{/privacy}", "received_events_url": "https://api.github.com/users/nibytes/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 258836903, "node_id": "MDU6TGFiZWwyNTg4MzY5MDM=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20apache", "name": "area: apache", "color": "c5def5", "default": false, "description": null}, {"id": 276680181, "node_id": "MDU6TGFiZWwyNzY2ODAxODE=", "url": "https://api.github.com/repos/certbot/certbot/labels/more-info", "name": "more-info", "color": "006b75", "default": false, "description": null}, {"id": 1383990430, "node_id": "MDU6TGFiZWwxMzgzOTkwNDMw", "url": "https://api.github.com/repos/certbot/certbot/labels/needs-update", "name": "needs-update", "color": "ADDEE4", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2018-03-11T20:10:00Z", "updated_at": "2020-05-25T21:21:31Z", "closed_at": "2020-05-25T09:32:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "\r\n## My operating system is (include version):\r\nCentOS Linux release 7.4.1708 (Core)\r\nNAME=\"CentOS Linux\"\r\nVERSION=\"7 (Core)\"\r\nID=\"centos\"\r\nID_LIKE=\"rhel fedora\"\r\nVERSION_ID=\"7\"\r\nPRETTY_NAME=\"CentOS Linux 7 (Core)\"\r\nANSI_COLOR=\"0;31\"\r\nCPE_NAME=\"cpe:/o:centos:centos:7\"\r\nHOME_URL=\"https://www.centos.org/\"\r\nBUG_REPORT_URL=\"https://bugs.centos.org/\"\r\n\r\nCENTOS_MANTISBT_PROJECT=\"CentOS-7\"\r\nCENTOS_MANTISBT_PROJECT_VERSION=\"7\"\r\nREDHAT_SUPPORT_PRODUCT=\"centos\"\r\nREDHAT_SUPPORT_PRODUCT_VERSION=\"7\"\r\n\r\nCentOS Linux release 7.4.1708 (Core)\r\nCentOS Linux release 7.4.1708 (Core)\r\n\r\n## I installed Certbot with (certbot-auto, OS package manager, pip, etc):\r\nyum install\r\n\r\n## I ran this command and it produced this output:\r\ncertbot --apache -d domain -d www.domain\r\n\r\n## Certbot's behavior differed from what I expected because:\r\n - Unable to install the certificate\r\n\r\n## Here is a Certbot log showing the issue (if available):\r\nUnable to save files: /etc/httpd/conf/vhosts/www-root. Attempted Save Notes: Created ssl vhost at /\r\ntc/httpd/conf/vhosts/www-root/!domain!-le-ssl.conf\r\n###### Logs are stored in `/var/log/letsencrypt` by default. Feel free to redact domains, e-mail and IP addresses as you see fit.\r\n2018-03-11 19:39:41,820:DEBUG:certbot.main:certbot version: 0.21.1\r\n2018-03-11 19:39:41,820:DEBUG:certbot.main:Arguments: ['--apache', '-d', 'officeoffice2018.com', '-d', 'www.officeoffice2018.com']\r\n2018-03-11 19:39:41,820:DEBUG:certbot.main:Discovered plugins: PluginsRegistry(PluginEntryPoint#apache,PluginEntryPoint#manual,PluginEntryPoint#null,PluginEntryPoint#standalone,PluginEntryPoint#webroot)\r\n2018-03-11 19:39:41,845:DEBUG:certbot.log:Root logging level set at 20\r\n2018-03-11 19:39:41,845:INFO:certbot.log:Saving debug log to /var/log/letsencrypt/letsencrypt.log\r\n2018-03-11 19:39:41,846:DEBUG:certbot.plugins.selection:Requested authenticator apache and installer apache\r\n2018-03-11 19:39:41,956:DEBUG:certbot_apache.configurator:Apache version is 2.4.6\r\n2018-03-11 19:39:42,386:DEBUG:certbot.plugins.selection:Single candidate plugin: * apache\r\nDescription: Apache Web Server plugin - Beta\r\nInterfaces: IAuthenticator, IInstaller, IPlugin\r\nEntry point: apache = certbot_apache.entrypoint:ENTRYPOINT\r\nInitialized: <certbot_apache.override_centos.CentOSConfigurator object at 0x1c0d410>\r\nPrep: True\r\n2018-03-11 19:39:42,386:DEBUG:certbot.plugins.selection:Selected authenticator <certbot_apache.override_centos.CentOSConfigurator object at 0x1c0d410> and installer <certbot_apache.override_centos.CentOSConfigurator object at 0x1c0d410>\r\n2018-03-11 19:39:42,386:INFO:certbot.plugins.selection:Plugins selected: Authenticator apache, Installer apache\r\n2018-03-11 19:39:42,416:DEBUG:certbot.main:Picked account: <Account(RegistrationResource(body=Registration(status=u'valid', contact=(u'mailto:own@gmail.com',), agreement=u'https://letsencrypt.org/documents/LE-SA-v1.2-November-15-2017.pdf', key=JWKRSA(key=<ComparableRSAKey(<cryptography.hazmat.backends.openssl.rsa._RSAPublicKey object at 0x1171550>)>)), uri=u'https://acme-v01.api.letsencrypt.org/acme/reg/30959024', new_authzr_uri=u'https://acme-v01.api.letsencrypt.org/acme/new-authz', terms_of_service=u'https://letsencrypt.org/documents/LE-SA-v1.2-November-15-2017.pdf'), d6fab96944acc5a7a53ca522d5c7e52a, Meta(creation_host=u'vps1065703.ukrdomen.com', creation_dt=datetime.datetime(2018, 3, 11, 19, 1, 9, tzinfo=<UTC>)))>\r\n2018-03-11 19:39:42,422:DEBUG:acme.client:Sending GET request to https://acme-v01.api.letsencrypt.org/directory.\r\n2018-03-11 19:39:42,427:INFO:requests.packages.urllib3.connectionpool:Starting new HTTPS connection (1): acme-v01.api.letsencrypt.org\r\n2018-03-11 19:39:42,978:DEBUG:requests.packages.urllib3.connectionpool:\"GET /directory HTTP/1.1\" 200 562\r\n2018-03-11 19:39:42,979:DEBUG:acme.client:Received response:\r\nHTTP 200\r\ncontent-length: 562\r\nexpires: Sun, 11 Mar 2018 19:33:35 GMT\r\nstrict-transport-security: max-age=604800\r\nserver: nginx\r\nconnection: keep-alive\r\npragma: no-cache\r\ncache-control: max-age=0, no-cache, no-store\r\ndate: Sun, 11 Mar 2018 19:33:35 GMT\r\nx-frame-options: DENY\r\ncontent-type: application/json\r\nreplay-nonce: 2liFXpXP8Vc2Wh6gwKV6FJzIh6wCJhIfPnDH_LBX5ag\r\n\r\n{\r\n  \"key-change\": \"https://acme-v01.api.letsencrypt.org/acme/key-change\",\r\n  \"meta\": {\r\n    \"terms-of-service\": \"https://letsencrypt.org/documents/LE-SA-v1.2-November-15-2017.pdf\"\r\n  },\r\n  \"nVGCFm2pcfs\": \"https://community.letsencrypt.org/t/adding-random-entries-to-the-directory/33417\",\r\n  \"new-authz\": \"https://acme-v01.api.letsencrypt.org/acme/new-authz\",\r\n  \"new-cert\": \"https://acme-v01.api.letsencrypt.org/acme/new-cert\",\r\n  \"new-reg\": \"https://acme-v01.api.letsencrypt.org/acme/new-reg\",\r\n  \"revoke-cert\": \"https://acme-v01.api.letsencrypt.org/acme/revoke-cert\"\r\n}\r\n2018-03-11 19:39:42,990:INFO:certbot.renewal:Cert not yet due for renewal\r\n2018-03-11 19:39:44,748:INFO:certbot.main:Keeping the existing certificate\r\n2018-03-11 19:39:44,749:DEBUG:certbot.reporter:Reporting to user: Congratulations! Your certificate and chain have been saved at:\r\n/etc/letsencrypt/live/!domain!/fullchain.pem\r\nYour key file has been saved at:\r\n/etc/letsencrypt/live/!domain!/privkey.pem\r\nYour cert will expire on 2018-06-09. To obtain a new or tweaked version of this certificate in the future, simply run certbot again with the \"certonly\" option. To non-interactively renew *all* of your certificates, run \"certbot renew\"\r\n2018-03-11 19:39:44,764:INFO:certbot_apache.configurator:Created an SSL vhost at /etc/httpd/conf/vhosts/www-root/!domain!.com-le-ssl.conf\r\n2018-03-11 19:39:44,764:ERROR:certbot_apache.augeas_configurator:Unable to save files: /etc/httpd/conf/vhosts/www-root. Attempted Save Notes: Created ssl vhost at /etc/httpd/conf/vhosts/www-root/!domain!.com-le-ssl.conf\r\n\r\n2018-03-11 19:39:44,765:DEBUG:certbot.error_handler:Encountered exception:\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python2.7/site-packages/certbot/client.py\", line 452, in deploy_certificate\r\n    fullchain_path=fullchain_path)\r\n  File \"/usr/lib/python2.7/site-packages/certbot_apache/configurator.py\", line 285, in deploy_cert\r\n    vhost = self.choose_vhost(domain)\r\n  File \"/usr/lib/python2.7/site-packages/certbot_apache/configurator.py\", line 379, in choose_vhost\r\n    vhost = self.make_vhost_ssl(vhost)\r\n  File \"/usr/lib/python2.7/site-packages/certbot_apache/configurator.py\", line 984, in make_vhost_ssl\r\n    self.save()\r\n  File \"/usr/lib/python2.7/site-packages/certbot_apache/augeas_configurator.py\", line 144, in save\r\n    save_files = self.unsaved_files()\r\n  File \"/usr/lib/python2.7/site-packages/certbot_apache/augeas_configurator.py\", line 112, in unsaved_files\r\n    \"Error saving files, check logs for more info.\")\r\nPluginError: Error saving files, check logs for more info.\r\n\r\n2018-03-11 19:39:44,766:DEBUG:certbot.error_handler:Calling registered functions\r\n2018-03-11 19:39:44,766:DEBUG:certbot.reporter:Reporting to user: Unable to install the certificate\r\n2018-03-11 19:39:44,767:DEBUG:certbot.log:Exiting abnormally:\r\nTraceback (most recent call last):\r\n  File \"/usr/bin/certbot\", line 9, in <module>\r\n    load_entry_point('certbot==0.21.1', 'console_scripts', 'certbot')()\r\n  File \"/usr/lib/python2.7/site-packages/certbot/main.py\", line 1240, in main\r\n    return config.func(config, plugins)\r\n  File \"/usr/lib/python2.7/site-packages/certbot/main.py\", line 1001, in run\r\n    _install_cert(config, le_client, domains, new_lineage)\r\n  File \"/usr/lib/python2.7/site-packages/certbot/main.py\", line 757, in _install_cert\r\n    path_provider.cert_path, path_provider.chain_path, path_provider.fullchain_path)\r\n  File \"/usr/lib/python2.7/site-packages/certbot/client.py\", line 452, in deploy_certificate\r\n    fullchain_path=fullchain_path)\r\n  File \"/usr/lib/python2.7/site-packages/certbot_apache/configurator.py\", line 285, in deploy_cert\r\n    vhost = self.choose_vhost(domain)\r\n  File \"/usr/lib/python2.7/site-packages/certbot_apache/configurator.py\", line 379, in choose_vhost\r\n    vhost = self.make_vhost_ssl(vhost)\r\n  File \"/usr/lib/python2.7/site-packages/certbot_apache/configurator.py\", line 984, in make_vhost_ssl\r\n    self.save()\r\n  File \"/usr/lib/python2.7/site-packages/certbot_apache/augeas_configurator.py\", line 144, in save\r\n    save_files = self.unsaved_files()\r\n  File \"/usr/lib/python2.7/site-packages/certbot_apache/augeas_configurator.py\", line 112, in unsaved_files\r\n    \"Error saving files, check logs for more info.\")\r\nPluginError: Error saving files, check logs for more info.\r\n\r\n\r\n## Here is the relevant nginx server block or Apache virtualhost for the domain I am configuring:\r\n<VirtualHost !ip!:80>\r\n\tServerName !domain!\r\n\tServerAlias www.!domain!\r\n\tDocumentRoot /var/www/www-root/data/www/!domain!\r\n\tServerAdmin webmaster@!domain!\r\n\tDirectoryIndex index.php index.html\r\n\tAddDefaultCharset off\r\n\tSuexecUserGroup www-root www-root\r\n\tCustomLog /var/www/httpd-logs/!domain!.access.log combined\r\n\tErrorLog /var/www/httpd-logs/!domain!.error.log\r\n\t<FilesMatch \"\\.ph(p[3-5]?|tml)$\">\r\n\t\tSetHandler application/x-httpd-php\r\n\t</FilesMatch>\r\n\t<FilesMatch \"\\.phps$\">\r\n\t\tSetHandler application/x-httpd-php-source\r\n\t</FilesMatch>\r\n\t<IfModule php5_module>\r\n\t\tphp_admin_value sendmail_path \"/usr/sbin/sendmail -t -i -f webmaster@<domain>.com\"\r\n\t\tphp_admin_value upload_tmp_dir \"/var/www/www-root/data/mod-tmp\"\r\n\t\tphp_admin_value session.save_path \"/var/www/www-root/data/mod-tmp\"\r\n\t\tphp_admin_value open_basedir \"/var/www/www-root/data:.\"\r\n\t</IfModule>\r\n\t<IfModule php7_module>\r\n\t\tphp_admin_value sendmail_path \"/usr/sbin/sendmail -t -i -f webmaster@<domain>.com\"\r\n\t\tphp_admin_value upload_tmp_dir \"/var/www/www-root/data/mod-tmp\"\r\n\t\tphp_admin_value session.save_path \"/var/www/www-root/data/mod-tmp\"\r\n\t\tphp_admin_value open_basedir \"/var/www/www-root/data:.\"\r\n\t</IfModule>\r\n</VirtualHost>\r\n<Directory /var/www/www-root/data/www/!domain!.com>\r\n\tOptions +Includes -ExecCGI\r\n\t<IfModule php5_module>\r\n\t\tphp_admin_flag engine on\r\n\t</IfModule>\r\n\t<IfModule php7_module>\r\n\t\tphp_admin_flag engine on\r\n\t</IfModule>\r\n</Directory>\r\n\r\n**UPD:**\r\nSomeone can say it's bug or maybe  I do it something wrong?\r\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/5705/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/5705/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/5684", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/5684/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/5684/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/5684/events", "html_url": "https://github.com/certbot/certbot/issues/5684", "id": 303272356, "node_id": "MDU6SXNzdWUzMDMyNzIzNTY=", "number": 5684, "title": "`acme` module's `client._revoke` sends incorrect `ContentType` header.", "user": {"login": "cpu", "id": 292650, "node_id": "MDQ6VXNlcjI5MjY1MA==", "avatar_url": "https://avatars.githubusercontent.com/u/292650?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cpu", "html_url": "https://github.com/cpu", "followers_url": "https://api.github.com/users/cpu/followers", "following_url": "https://api.github.com/users/cpu/following{/other_user}", "gists_url": "https://api.github.com/users/cpu/gists{/gist_id}", "starred_url": "https://api.github.com/users/cpu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cpu/subscriptions", "organizations_url": "https://api.github.com/users/cpu/orgs", "repos_url": "https://api.github.com/users/cpu/repos", "events_url": "https://api.github.com/users/cpu/events{/privacy}", "received_events_url": "https://api.github.com/users/cpu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 277074172, "node_id": "MDU6TGFiZWwyNzcwNzQxNzI=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20acme", "name": "area: acme", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/51", "html_url": "https://github.com/certbot/certbot/milestone/51", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/51/labels", "id": 3170213, "node_id": "MDk6TWlsZXN0b25lMzE3MDIxMw==", "number": 51, "title": "0.22.1", "description": "", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 9, "state": "closed", "created_at": "2018-03-07T22:57:21Z", "updated_at": "2018-03-20T17:41:03Z", "due_on": null, "closed_at": "2018-03-20T17:41:03Z"}, "comments": 0, "created_at": "2018-03-07T21:49:01Z", "updated_at": "2018-03-07T23:10:08Z", "closed_at": "2018-03-07T23:09:48Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "[ACME draft-10, section 6.2](https://tools.ietf.org/html/draft-ietf-acme-acme-10#section-6.2) explicitly requires POSTs be sent with a `Content-Type` of `application/jose+json`: \r\n\r\n> Because client requests in ACME carry JWS objects in the Flattened\r\n> JSON Serialization, they must have the \"Content-Type\" header field\r\n> set to \"application/jose+json\".  If a request does not meet this\r\n> requirement, then the server MUST return a response with status code\r\n> 415 (Unsupported Media Type).\r\n\r\nThe good news is that Certbot & the `acme` module already do this in 99.99% of cases :tada: :+1: :balloon: \r\n\r\nThe bad news is that `client._revoke` overrides the default (correct) `ContentType` with `none`: https://github.com/certbot/certbot/blob/77fdb4d7d6194989dcc775f2e0ad81b6147c2359/acme/acme/client.py#L231\r\n\r\nThis will make revocation requests fail in a world where this restriction is enforced (See https://github.com/letsencrypt/boulder/pull/3532) \r\n\r\nThere doesn't seem to be a reason to want to override `ContentType` in this case so I believe the fix is to change `_revoke` to use the default.\r\n\r\nThanks!", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/5684/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/5684/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/5659", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/5659/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/5659/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/5659/events", "html_url": "https://github.com/certbot/certbot/issues/5659", "id": 302037191, "node_id": "MDU6SXNzdWUzMDIwMzcxOTE=", "number": 5659, "title": "KeyError when using --manual-cleanup-hook with wildcard certificate", "user": {"login": "d13r", "id": 236616, "node_id": "MDQ6VXNlcjIzNjYxNg==", "avatar_url": "https://avatars.githubusercontent.com/u/236616?v=4", "gravatar_id": "", "url": "https://api.github.com/users/d13r", "html_url": "https://github.com/d13r", "followers_url": "https://api.github.com/users/d13r/followers", "following_url": "https://api.github.com/users/d13r/following{/other_user}", "gists_url": "https://api.github.com/users/d13r/gists{/gist_id}", "starred_url": "https://api.github.com/users/d13r/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/d13r/subscriptions", "organizations_url": "https://api.github.com/users/d13r/orgs", "repos_url": "https://api.github.com/users/d13r/repos", "events_url": "https://api.github.com/users/d13r/events{/privacy}", "received_events_url": "https://api.github.com/users/d13r/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 277074172, "node_id": "MDU6TGFiZWwyNzcwNzQxNzI=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20acme", "name": "area: acme", "color": "c5def5", "default": false, "description": null}, {"id": 281347824, "node_id": "MDU6TGFiZWwyODEzNDc4MjQ=", "url": "https://api.github.com/repos/certbot/certbot/labels/has%20pr", "name": "has pr", "color": "0052cc", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/48", "html_url": "https://github.com/certbot/certbot/milestone/48", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/48/labels", "id": 2967509, "node_id": "MDk6TWlsZXN0b25lMjk2NzUwOQ==", "number": 48, "title": "0.22.0", "description": "", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 60, "state": "closed", "created_at": "2017-12-08T18:07:42Z", "updated_at": "2018-03-19T22:18:04Z", "due_on": "2018-02-07T08:00:00Z", "closed_at": "2018-03-14T16:15:49Z"}, "comments": 8, "created_at": "2018-03-03T22:17:49Z", "updated_at": "2018-03-16T07:03:45Z", "closed_at": "2018-03-06T15:21:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "## My operating system is (include version):\r\nUbuntu 16.04\r\n\r\n## I installed Certbot with (certbot-auto, OS package manager, pip, etc):\r\nGit - commit `31805c5`\r\n\r\n## I ran this command and it produced this output:\r\n```bash\r\n$ certbot --noninteractive --manual --manual-public-ip-logging-ok --preferred-challenges dns --manual-auth-hook \"/srv/letsencrypt-lexicon.sh auth\" --manual-cleanup-hook \"/srv/letsencrypt-lexicon.sh cleanup\" --server https://acme-staging-v02.api.letsencrypt.org/directory --cert-name xenial.alberon.co.uk -d xenial.alberon.co.uk,*.xenial.alberon.co.uk -m dave@davejamesmiller.com --agree-tos\r\n...\r\nTraceback (most recent call last):\r\n  File \"/srv/certbot/venv/bin/certbot\", line 11, in <module>\r\n    load_entry_point('certbot', 'console_scripts', 'certbot')()\r\n  File \"/srv/certbot/certbot/main.py\", line 1266, in main\r\n    return config.func(config, plugins)\r\n  File \"/srv/certbot/certbot/main.py\", line 1157, in certonly\r\n    lineage = _get_and_save_cert(le_client, config, domains, certname, lineage)\r\n  File \"/srv/certbot/certbot/main.py\", line 118, in _get_and_save_cert\r\n    lineage = le_client.obtain_and_enroll_certificate(domains, certname)\r\n  File \"/srv/certbot/certbot/client.py\", line 349, in obtain_and_enroll_certificate\r\n    cert, chain, key, _ = self.obtain_certificate(domains)\r\n  File \"/srv/certbot/certbot/client.py\", line 293, in obtain_certificate\r\n    orderr = self._get_order_and_authorizations(csr.data, self.config.allow_subset_of_names)\r\n  File \"/srv/certbot/certbot/client.py\", line 329, in _get_order_and_authorizations\r\n    authzr = self.auth_handler.handle_authorizations(orderr, best_effort)\r\n  File \"/srv/certbot/certbot/auth_handler.py\", line 82, in handle_authorizations\r\n    self._respond(resp, best_effort)\r\n  File \"/srv/certbot/certbot/auth_handler.py\", line 159, in _respond\r\n    self._cleanup_challenges(active_achalls)\r\n  File \"/srv/certbot/certbot/auth_handler.py\", line 304, in _cleanup_challenges\r\n    self.auth.cleanup(achalls)\r\n  File \"/srv/certbot/certbot/plugins/manual.py\", line 218, in cleanup\r\n    env = self.env.pop(achall.domain)\r\nKeyError: u'xenial.alberon.co.uk'\r\n```\r\n\r\n## Certbot's behavior differed from what I expected because:\r\nIt crashed.\r\n\r\nThis only seems to happen when using `--manual-cleanup-hook` *and* including both `xenial.alberon.co.uk` and `*.xenial.alberon.co.uk`.\r\n\r\nI think `self.env.pop(achall.domain)` gets called twice, both times with `achall.domain = 'xenial.alberon.co.uk'`, and the second time it's already been removed. I would guess the key needs to be changed to something else now that one domain may require two separate challenges.\r\n\r\n## Here is a Certbot log showing the issue (if available):\r\nhttps://gist.github.com/davejamesmiller/2a8c2f7a03cac9edd573c767a8fbedec\r\n\r\n## Here is the relevant nginx server block or Apache virtualhost for the domain I am configuring:\r\nN/A", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/5659/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/5659/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/5646", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/5646/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/5646/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/5646/events", "html_url": "https://github.com/certbot/certbot/issues/5646", "id": 301525990, "node_id": "MDU6SXNzdWUzMDE1MjU5OTA=", "number": 5646, "title": "UnicodeDecodeError: 'utf-8' codec can't decode", "user": {"login": "mashirozx", "id": 16148054, "node_id": "MDQ6VXNlcjE2MTQ4MDU0", "avatar_url": "https://avatars.githubusercontent.com/u/16148054?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mashirozx", "html_url": "https://github.com/mashirozx", "followers_url": "https://api.github.com/users/mashirozx/followers", "following_url": "https://api.github.com/users/mashirozx/following{/other_user}", "gists_url": "https://api.github.com/users/mashirozx/gists{/gist_id}", "starred_url": "https://api.github.com/users/mashirozx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mashirozx/subscriptions", "organizations_url": "https://api.github.com/users/mashirozx/orgs", "repos_url": "https://api.github.com/users/mashirozx/repos", "events_url": "https://api.github.com/users/mashirozx/events{/privacy}", "received_events_url": "https://api.github.com/users/mashirozx/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 258836706, "node_id": "MDU6TGFiZWwyNTg4MzY3MDY=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20nginx", "name": "area: nginx", "color": "c5def5", "default": false, "description": null}, {"id": 277080619, "node_id": "MDU6TGFiZWwyNzcwODA2MTk=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20code%20health", "name": "area: code health", "color": "c5def5", "default": false, "description": null}, {"id": 853314368, "node_id": "MDU6TGFiZWw4NTMzMTQzNjg=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20encoding/type%20error", "name": "area: encoding/type error", "color": "c5def5", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 16, "created_at": "2018-03-01T19:17:01Z", "updated_at": "2021-07-18T13:38:06Z", "closed_at": "2018-09-18T19:25:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "If you're having trouble using Certbot and aren't sure you've found a bug or\r\nrequest for a new feature, please first try asking for help at\r\nhttps://community.letsencrypt.org/. There is a much larger community there of\r\npeople familiar with the project who will be able to more quickly answer your\r\nquestions.\r\n\r\n## My operating system is (include version):\r\n\r\nUbuntu 17.10\r\nNginx 1.12.1\r\nCertbot 0.21.1\r\n\r\n## I installed Certbot with (certbot-auto, OS package manager, pip, etc):\r\n\r\n```bash\r\n$ sudo apt-get update\r\n$ sudo apt-get install software-properties-common\r\n$ sudo add-apt-repository ppa:certbot/certbot\r\n$ sudo apt-get update\r\n$ sudo apt-get install python-certbot-nginx \r\n```\r\n\r\n## I ran this command and it produced this output:\r\n\r\n```bash\r\n# sudo certbot --nginx certonly\r\nSaving debug log to /var/log/letsencrypt/letsencrypt.log\r\nAn unexpected error occurred:\r\nUnicodeDecodeError: 'utf-8' codec can't decode byte 0xd7 in position 650: invalid continuation byte\r\nPlease see the logfiles in /var/log/letsencrypt for more details.\r\n```\r\n\r\n## Certbot's behavior differed from what I expected because:\r\n\r\nSeems the same issue in Apache in #5211 , not sure it's fixed? What's more, my server is **Nginx**, I do use some utf-8 words (Chinese, and all they are in comment after # tag) in my Nginx conf files. \r\n\r\nI was using the older version of Certbot before, and it worked fine, today I find it cannot obtain new certificates and so installed the new version and got this problem.\r\n\r\n## Here is a Certbot log showing the issue (if available):\r\n###### Logs are stored in `/var/log/letsencrypt` by default. Feel free to redact domains, e-mail and IP addresses as you see fit.\r\n**The log:**\r\n\r\n```\r\n2018-03-01 18:57:19,455:DEBUG:certbot.main:certbot version: 0.21.1\r\n2018-03-01 18:57:19,457:DEBUG:certbot.main:Arguments: ['--nginx']\r\n2018-03-01 18:57:19,457:DEBUG:certbot.main:Discovered plugins: PluginsRegistry(PluginEntryPoint#manual,PluginEntryPoint#nginx,PluginEntryPoint#null,PluginEntryPoint#standalone,PluginEntryPoint#webroot)\r\n2018-03-01 18:57:19,469:DEBUG:certbot.log:Root logging level set at 20\r\n2018-03-01 18:57:19,470:INFO:certbot.log:Saving debug log to /var/log/letsencrypt/letsencrypt.log\r\n2018-03-01 18:57:19,473:DEBUG:certbot.plugins.selection:Requested authenticator nginx and installer nginx\r\n2018-03-01 18:57:19,855:DEBUG:certbot.log:Exiting abnormally:\r\nTraceback (most recent call last):\r\n  File \"/usr/bin/certbot\", line 11, in <module>\r\n    load_entry_point('certbot==0.21.1', 'console_scripts', 'certbot')()\r\n  File \"/usr/lib/python3/dist-packages/certbot/main.py\", line 1240, in main\r\n    return config.func(config, plugins)\r\n  File \"/usr/lib/python3/dist-packages/certbot/main.py\", line 981, in run\r\n    installer, authenticator = plug_sel.choose_configurator_plugins(config, plugins, \"run\")\r\n  File \"/usr/lib/python3/dist-packages/certbot/plugins/selection.py\", line 189, in choose_configurator_plugins\r\n    authenticator = installer = pick_configurator(config, req_inst, plugins)\r\n  File \"/usr/lib/python3/dist-packages/certbot/plugins/selection.py\", line 25, in pick_configurator\r\n    (interfaces.IAuthenticator, interfaces.IInstaller))\r\n  File \"/usr/lib/python3/dist-packages/certbot/plugins/selection.py\", line 77, in pick_plugin\r\n    verified.prepare()\r\n  File \"/usr/lib/python3/dist-packages/certbot/plugins/disco.py\", line 248, in prepare\r\n    return [plugin_ep.prepare() for plugin_ep in six.itervalues(self._plugins)]\r\n  File \"/usr/lib/python3/dist-packages/certbot/plugins/disco.py\", line 248, in <listcomp>\r\n    return [plugin_ep.prepare() for plugin_ep in six.itervalues(self._plugins)]\r\n  File \"/usr/lib/python3/dist-packages/certbot/plugins/disco.py\", line 130, in prepare\r\n    self._initialized.prepare()\r\n  File \"/usr/lib/python3/dist-packages/certbot_nginx/configurator.py\", line 131, in prepare\r\n    self.parser = parser.NginxParser(self.conf('server-root'))\r\n  File \"/usr/lib/python3/dist-packages/certbot_nginx/parser.py\", line 38, in __init__\r\n    self.load()\r\n  File \"/usr/lib/python3/dist-packages/certbot_nginx/parser.py\", line 45, in load\r\n    self._parse_recursively(self.config_root)\r\n  File \"/usr/lib/python3/dist-packages/certbot_nginx/parser.py\", line 66, in _parse_recursively\r\n    self._parse_recursively(subentry[1])\r\n  File \"/usr/lib/python3/dist-packages/certbot_nginx/parser.py\", line 61, in _parse_recursively\r\n    self._parse_recursively(entry[1])\r\n  File \"/usr/lib/python3/dist-packages/certbot_nginx/parser.py\", line 56, in _parse_recursively\r\n    trees = self._parse_files(filepath)\r\n  File \"/usr/lib/python3/dist-packages/certbot_nginx/parser.py\", line 206, in _parse_files\r\n    parsed = nginxparser.load(_file)\r\n  File \"/usr/lib/python3/dist-packages/certbot_nginx/nginxparser.py\", line 123, in load\r\n    return loads(_file.read())\r\n  File \"/usr/lib/python3.6/codecs.py\", line 321, in decode\r\n    (result, consumed) = self._buffer_decode(data, self.errors, final)\r\nUnicodeDecodeError: 'utf-8' codec can't decode byte 0xd7 in position 650: invalid continuation byte\r\n2018-03-01 18:57:19,861:ERROR:certbot.log:An unexpected error occurred:\r\n\r\n```\r\n\r\n## Here is the relevant nginx server block or Apache virtualhost for the domain I am configuring:\r\nMy nginx conf worked well before and I didn't modify it, sure not conf problem.\r\n\r\nThanks! :)", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/5646/reactions", "total_count": 5, "+1": 5, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/5646/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/5618", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/5618/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/5618/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/5618/events", "html_url": "https://github.com/certbot/certbot/issues/5618", "id": 299879856, "node_id": "MDU6SXNzdWUyOTk4Nzk4NTY=", "number": 5618, "title": "Invoking certbot immediately following boot, with --installer, results in error", "user": {"login": "Kramerican", "id": 627217, "node_id": "MDQ6VXNlcjYyNzIxNw==", "avatar_url": "https://avatars.githubusercontent.com/u/627217?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Kramerican", "html_url": "https://github.com/Kramerican", "followers_url": "https://api.github.com/users/Kramerican/followers", "following_url": "https://api.github.com/users/Kramerican/following{/other_user}", "gists_url": "https://api.github.com/users/Kramerican/gists{/gist_id}", "starred_url": "https://api.github.com/users/Kramerican/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Kramerican/subscriptions", "organizations_url": "https://api.github.com/users/Kramerican/orgs", "repos_url": "https://api.github.com/users/Kramerican/repos", "events_url": "https://api.github.com/users/Kramerican/events{/privacy}", "received_events_url": "https://api.github.com/users/Kramerican/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 258836706, "node_id": "MDU6TGFiZWwyNTg4MzY3MDY=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20nginx", "name": "area: nginx", "color": "c5def5", "default": false, "description": null}, {"id": 258836903, "node_id": "MDU6TGFiZWwyNTg4MzY5MDM=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20apache", "name": "area: apache", "color": "c5def5", "default": false, "description": null}, {"id": 276680181, "node_id": "MDU6TGFiZWwyNzY2ODAxODE=", "url": "https://api.github.com/repos/certbot/certbot/labels/more-info", "name": "more-info", "color": "006b75", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 17, "created_at": "2018-02-23T23:14:28Z", "updated_at": "2018-02-26T22:50:04Z", "closed_at": "2018-02-26T22:46:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "Ubuntu 16.04\r\nCertbot 0.21.1\r\n\r\nWe invoke a workflow where we call Certbot immediately after having provisioned a server in order to secure the customer's default domain, as per the LetsEncrypt mission statement :)\r\n\r\nHowever, what we have found is that Certbot will fail when restarting the webserver, for nginx this looks like:\r\n<details><summary>CLICK ME</summary>\r\n<p>\r\n\r\n\r\n```\r\nCertbot failed in newawesome Certbot message: Saving debug log to /var/log/letsencrypt/letsencrypt.log\r\nPlugins selected: Authenticator webroot, Installer nginx\r\nObtaining a new certificate\r\nPerforming the following challenges:\r\nhttp-01 challenge for newawesome.sisko.webdock.io\r\nUsing the webroot path /var/www/html for all unmatched domains.\r\nWaiting for verification...\r\nCleaning up challenges\r\nDeployed Certificate to VirtualHost /etc/nginx/sites-enabled/webdock for newawesome.sisko.webdock.io\r\nnginx: [error] open() \"/run/nginx.pid\" failed (2: No such file or directory)\r\nRolling back to previous server configuration...\r\nnginx: [error] open() \"/run/nginx.pid\" failed (2: No such file or directory)\r\nEncountered exception during recovery\r\nnginx restart failed:\r\nb\r\nb\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3/dist-packages/certbot/client.py\", line 462, in deploy_certificate\r\n    self.installer.restart()\r\n  File \"/usr/lib/python3/dist-packages/certbot_nginx/configurator.py\", line 680, in restart\r\n    nginx_restart(self.conf(ctl), self.nginx_conf)\r\n  File \"/usr/lib/python3/dist-packages/certbot_nginx/configurator.py\", line 926, in nginx_restart\r\n    \"nginx restart failed:\\n%s\\n%s\" % (out.read(), err.read()))\r\ncertbot.errors.MisconfigurationError: nginx restart failed:\r\nb\r\nb\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3/dist-packages/certbot/error_handler.py\", line 100, in _call_registered\r\n    self.funcs[-1]()\r\n  File \"/usr/lib/python3/dist-packages/certbot/client.py\", line 557, in _rollback_and_restart\r\n    self.installer.restart()\r\n  File \"/usr/lib/python3/dist-packages/certbot_nginx/configurator.py\", line 680, in restart\r\n    nginx_restart(self.conf(ctl), self.nginx_conf)\r\n  File \"/usr/lib/python3/dist-packages/certbot_nginx/configurator.py\", line 926, in nginx_restart\r\n    \"nginx restart failed:\\n%s\\n%s\" % (out.read(), err.read()))\r\ncertbot.errors.MisconfigurationError: nginx restart failed:\r\nb\r\nb\r\nnginx restart failed:\r\nb\r\nb\r\nIMPORTANT NOTES:\r\n - An error occurred and we failed to restore your config and restart\r\n   your server. Please submit a bug report to\r\n   https://github.com/letsencrypt/letsencrypt\r\n - Congratulations! Your certificate and chain have been saved at:\r\n   /etc/letsencrypt/live/newawesome.sisko.webdock.io/fullchain.pem\r\n   Your key file has been saved at:\r\n   /etc/letsencrypt/live/newawesome.sisko.webdock.io/privkey.pem\r\n   Your cert will expire on 2018-05-22. To obtain a new or tweaked\r\n   version of this certificate in the future, simply run certbot again\r\n   with the \"certonly\" option. To non-interactively renew *all* of\r\n   your certificates, run \"certbot renew\"\r\n - Your account credentials have been saved in your Certbot\r\n   configuration directory at /etc/letsencrypt. You should make a\r\n   secure backup of this folder now. This configuration directory will\r\n   also contain certificates and private keys obtained by Certbot so\r\n   making regular backups of this folder is ideal.\r\n```\r\n\r\n</p>\r\n</details>\r\n\r\nOf course per Murphys law I cannot reproduce this atm for Apache, but I have definitely seen this happen for Apache as well. \r\n\r\nWhat's interesting is that this flips the webserver completely, and I have to issue a killall command and then bring it back up.\r\n\r\nMy solution is a dumb one: I put in a 10 second sleep command, and that seems to do the trick.\r\n\r\nHowever, I am curious: How are you restarting the webserver? You're not invoking systemctl? It seems like as soon as Certbot is invoked you're doing something to interact with the webserver. I can't quite figure out what you are doing here, it's all a bit strange ...\r\n\r\n**Edit:** Just noticed that my current test here with Apache does not result in Certbot throwing an error - the log looks clean, but Apache has not been started succesfully and I had to manually run `systemctl start apache2`\r\n\r\nAs mentioned, putting in a 10 second sleep before invoking Certbot solves all issues. \r\n\r\nThis is all very strange, as immediately after provisioning the webserver is up and listening on port 80 and can be reached from the outside world. Certbot takes a bit of time ot auth the server (I am using webroot authentication) and one would think that Certbots interaction with the webserver in order to restart it would happen at the very end of the workflow.\r\n\r\nBut it almost seems to me you are grabbing the processes somehow very early, and then using that to restart the server, or something. Again, I find all this exceedingly bizarre. \r\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/5618/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/5618/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/5595", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/5595/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/5595/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/5595/events", "html_url": "https://github.com/certbot/certbot/issues/5595", "id": 298279844, "node_id": "MDU6SXNzdWUyOTgyNzk4NDQ=", "number": 5595, "title": "Broken Certbot Website documentation", "user": {"login": "marceliwac", "id": 17514757, "node_id": "MDQ6VXNlcjE3NTE0NzU3", "avatar_url": "https://avatars.githubusercontent.com/u/17514757?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marceliwac", "html_url": "https://github.com/marceliwac", "followers_url": "https://api.github.com/users/marceliwac/followers", "following_url": "https://api.github.com/users/marceliwac/following{/other_user}", "gists_url": "https://api.github.com/users/marceliwac/gists{/gist_id}", "starred_url": "https://api.github.com/users/marceliwac/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marceliwac/subscriptions", "organizations_url": "https://api.github.com/users/marceliwac/orgs", "repos_url": "https://api.github.com/users/marceliwac/repos", "events_url": "https://api.github.com/users/marceliwac/events{/privacy}", "received_events_url": "https://api.github.com/users/marceliwac/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 245387015, "node_id": "MDU6TGFiZWwyNDUzODcwMTU=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20documentation", "name": "area: documentation", "color": "c5def5", "default": false, "description": null}, {"id": 281347824, "node_id": "MDU6TGFiZWwyODEzNDc4MjQ=", "url": "https://api.github.com/repos/certbot/certbot/labels/has%20pr", "name": "has pr", "color": "0052cc", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-02-19T13:44:17Z", "updated_at": "2018-02-21T23:55:38Z", "closed_at": "2018-02-21T23:55:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "There is a problem with certbot website's documentation. The links are pointing to root's directory (i.e. `certbot.eff.org/using.html` instead of `certbot.eff.org/docs/using.html` and therefore the links are broken. Additionally the documentation menu itself displays without CSS applied which I suppose is not intentional either.\r\n\r\nI'm not sure whether the people responsible for website even look here so if anyone knows a better place for this bug report I would be very happy to redirect the question.\r\n\r\n#### My operating system is (include version):\r\nMacOS 10.13.3\r\nChrome Version 64.0.3282.167 (Official Build) (64-bit)\r\nSafari Version 11.0.3 (13604.5.6)\r\n\r\n#### Here is the log of Chrome's dev tools:\r\n```\r\nRefused to apply style from 'https://certbot.eff.org/_static/css/theme.css' because its MIME type ('text/html') is not a supported stylesheet MIME type, and strict MIME checking is enabled.\r\n\r\nmodernizr.min.js Failed to load resource: the server responded with a status of 404 (Not Found)\r\n\r\njquery.js Failed to load resource: the server responded with a status of 404 (Not Found)\r\n\r\nunderscore.js Failed to load resource: the server responded with a status of 404 (Not Found)\r\n\r\ndoctools.js Failed to load resource: the server responded with a status of 404 (Not Found)\r\n\r\ntheme.js Failed to load resource: the server responded with a status of 404 (Not Found)\r\ndocs:329 Uncaught ReferenceError: jQuery is not defined\r\n    at docs:329\r\n\r\ndocs:1 Refused to apply style from 'https://certbot.eff.org/_static/css/theme.css' because its MIME \r\ntype ('text/html') is not a supported stylesheet MIME type, and strict MIME checking is enabled.\r\n```", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/5595/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/5595/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/5592", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/5592/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/5592/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/5592/events", "html_url": "https://github.com/certbot/certbot/issues/5592", "id": 298113697, "node_id": "MDU6SXNzdWUyOTgxMTM2OTc=", "number": 5592, "title": "nginx authenticator crashes parsing non-ASCII text in comments in configuration files", "user": {"login": "schoen", "id": 1750103, "node_id": "MDQ6VXNlcjE3NTAxMDM=", "avatar_url": "https://avatars.githubusercontent.com/u/1750103?v=4", "gravatar_id": "", "url": "https://api.github.com/users/schoen", "html_url": "https://github.com/schoen", "followers_url": "https://api.github.com/users/schoen/followers", "following_url": "https://api.github.com/users/schoen/following{/other_user}", "gists_url": "https://api.github.com/users/schoen/gists{/gist_id}", "starred_url": "https://api.github.com/users/schoen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/schoen/subscriptions", "organizations_url": "https://api.github.com/users/schoen/orgs", "repos_url": "https://api.github.com/users/schoen/repos", "events_url": "https://api.github.com/users/schoen/events{/privacy}", "received_events_url": "https://api.github.com/users/schoen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 258836706, "node_id": "MDU6TGFiZWwyNTg4MzY3MDY=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20nginx", "name": "area: nginx", "color": "c5def5", "default": false, "description": null}, {"id": 258836903, "node_id": "MDU6TGFiZWwyNTg4MzY5MDM=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20apache", "name": "area: apache", "color": "c5def5", "default": false, "description": null}, {"id": 1383990430, "node_id": "MDU6TGFiZWwxMzgzOTkwNDMw", "url": "https://api.github.com/repos/certbot/certbot/labels/needs-update", "name": "needs-update", "color": "ADDEE4", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2018-02-18T20:08:37Z", "updated_at": "2022-03-29T21:34:25Z", "closed_at": "2020-02-20T16:19:10Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "According to\r\n\r\nhttps://community.letsencrypt.org/t/ascii-codec-cant-decode-byte-0xe6-in-position-1-ordinal-not-in-range-128-skipping/53394\r\n\r\nthe authenticator crashed with \r\n\r\n`\u2018ascii\u2019 codec can\u2019t decode byte 0xe6 in position 1: ordinal not in range(128)`\r\n\r\nat some point when processing an nginx config file containing Chinese-language text in comments. This was with `certbot-auto`, so it's presumably Certbot 0.21.1.", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/5592/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/5592/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/5569", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/5569/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/5569/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/5569/events", "html_url": "https://github.com/certbot/certbot/issues/5569", "id": 296635256, "node_id": "MDU6SXNzdWUyOTY2MzUyNTY=", "number": 5569, "title": "Certbot PPA version no longer working on Ubuntu 14.04", "user": {"login": "sunitknandi", "id": 5469519, "node_id": "MDQ6VXNlcjU0Njk1MTk=", "avatar_url": "https://avatars.githubusercontent.com/u/5469519?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sunitknandi", "html_url": "https://github.com/sunitknandi", "followers_url": "https://api.github.com/users/sunitknandi/followers", "following_url": "https://api.github.com/users/sunitknandi/following{/other_user}", "gists_url": "https://api.github.com/users/sunitknandi/gists{/gist_id}", "starred_url": "https://api.github.com/users/sunitknandi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sunitknandi/subscriptions", "organizations_url": "https://api.github.com/users/sunitknandi/orgs", "repos_url": "https://api.github.com/users/sunitknandi/repos", "events_url": "https://api.github.com/users/sunitknandi/events{/privacy}", "received_events_url": "https://api.github.com/users/sunitknandi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2018-02-13T07:12:41Z", "updated_at": "2018-02-15T04:14:54Z", "closed_at": "2018-02-15T04:13:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "After a software update via `apt-get upgrade` my certbot no longer works. My older version used to be 0.19 which worked perfectly, but the newer version 0.21.1 does not even start due to `ValueError: 'new_authzr_uri' in __slots__ conflicts with class variable`. Would you look into this and let me know how to fix it?\r\n\r\n## My operating system is (include version):\r\n```\r\nroot@mail:~# lsb_release -a\r\nNo LSB modules are available.\r\nDistributor ID: Ubuntu\r\nDescription:    Ubuntu 14.04.5 LTS\r\nRelease:        14.04\r\nCodename:       trusty\r\n```\r\n\r\n## I installed Certbot with (certbot-auto, OS package manager, pip, etc):\r\n```\r\nadd-apt-repository ppa:certbot/certbot\r\napt-get update\r\napt-get install certbot\r\n```\r\n\r\n## I ran this command and it produced this output:\r\n```\r\nroot@mail:~# certbot\r\nTraceback (most recent call last):\r\n  File \"/usr/bin/certbot\", line 11, in <module>\r\n    load_entry_point('certbot==0.21.1', 'console_scripts', 'certbot')()\r\n  File \"/usr/local/lib/python3.4/dist-packages/pkg_resources/__init__.py\", line 570, in load_entry_point\r\n    return get_distribution(dist).load_entry_point(group, name)\r\n  File \"/usr/local/lib/python3.4/dist-packages/pkg_resources/__init__.py\", line 2755, in load_entry_point\r\n    return ep.load()\r\n  File \"/usr/local/lib/python3.4/dist-packages/pkg_resources/__init__.py\", line 2409, in load\r\n    return self.resolve()\r\n  File \"/usr/local/lib/python3.4/dist-packages/pkg_resources/__init__.py\", line 2415, in resolve\r\n    module = __import__(self.module_name, fromlist=['__name__'], level=0)\r\n  File \"/usr/lib/python3/dist-packages/certbot/main.py\", line 17, in <module>\r\n    from certbot import account\r\n  File \"/usr/lib/python3/dist-packages/certbot/account.py\", line 122, in <module>\r\n    class RegistrationResourceWithNewAuthzrURI(messages.RegistrationResource):\r\n  File \"/usr/local/lib/python3.4/dist-packages/acme/jose/json_util.py\", line 181, in __new__\r\n    return abc.ABCMeta.__new__(mcs, name, bases, dikt)\r\n  File \"/usr/lib/python3.4/abc.py\", line 133, in __new__\r\n    cls = super().__new__(mcls, name, bases, namespace)\r\nValueError: 'new_authzr_uri' in __slots__ conflicts with class variable\r\n```\r\n\r\n## Certbot's behavior differed from what I expected because:\r\nUsually I get\r\n```\r\nroot@mail:~# certbot\r\nSaving debug log to /var/log/letsencrypt/letsencrypt.log\r\nCertbot doesn't know how to automatically configure the web server on this system. However, it can still get a certificate for you. Please run \"certbot certonly\" to do so. You'll need to manually configure your web server to use the resulting certificate.\r\n```\r\nbut now it does not even start\r\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/5569/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/5569/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/5550", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/5550/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/5550/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/5550/events", "html_url": "https://github.com/certbot/certbot/issues/5550", "id": 295227117, "node_id": "MDU6SXNzdWUyOTUyMjcxMTc=", "number": 5550, "title": "Error: duplicate listen options for [::]:443", "user": {"login": "hackuun", "id": 30086515, "node_id": "MDQ6VXNlcjMwMDg2NTE1", "avatar_url": "https://avatars.githubusercontent.com/u/30086515?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hackuun", "html_url": "https://github.com/hackuun", "followers_url": "https://api.github.com/users/hackuun/followers", "following_url": "https://api.github.com/users/hackuun/following{/other_user}", "gists_url": "https://api.github.com/users/hackuun/gists{/gist_id}", "starred_url": "https://api.github.com/users/hackuun/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hackuun/subscriptions", "organizations_url": "https://api.github.com/users/hackuun/orgs", "repos_url": "https://api.github.com/users/hackuun/repos", "events_url": "https://api.github.com/users/hackuun/events{/privacy}", "received_events_url": "https://api.github.com/users/hackuun/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 258836706, "node_id": "MDU6TGFiZWwyNTg4MzY3MDY=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20nginx", "name": "area: nginx", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/48", "html_url": "https://github.com/certbot/certbot/milestone/48", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/48/labels", "id": 2967509, "node_id": "MDk6TWlsZXN0b25lMjk2NzUwOQ==", "number": 48, "title": "0.22.0", "description": "", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 60, "state": "closed", "created_at": "2017-12-08T18:07:42Z", "updated_at": "2018-03-19T22:18:04Z", "due_on": "2018-02-07T08:00:00Z", "closed_at": "2018-03-14T16:15:49Z"}, "comments": 35, "created_at": "2018-02-07T17:33:03Z", "updated_at": "2022-07-06T19:55:21Z", "closed_at": "2018-03-01T23:08:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "## My operating system is (include version):\r\nUbuntu 16.04\r\n\r\n## I installed Certbot with (certbot-auto, OS package manager, pip, etc):\r\n`sudo apt-get install python-certbot-nginx`\r\n\r\n## I ran this command and it produced this output:\r\n`nginx: [emerg] duplicate listen options for [::]:443 in /etc/nginx/sites-enabled/example.online:29\r\n`\r\n\r\n## Certbot's behavior differed from what I expected because:\r\nIt should be no errors\r\n\r\n## Here is the relevant nginx server block or Apache virtualhost for the domain I am configuring:\r\n\r\n```\r\nserver {\r\n  listen 80;\r\n  listen [::]:80;\r\n\r\n  server_name example.online;\r\n\r\n  root /home/example/deploy;\r\n  index index.html;\r\n\r\n  location / {\r\n    try_files $uri $uri/ =404;\r\n  }\r\n}\r\n\r\nserver {\r\n  listen 80;\r\n  listen [::]:80;\r\n  server_name www.example.online;\r\n  return 301 $scheme://example.online$request_uri;\r\n}\r\n\r\n```", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/5550/reactions", "total_count": 22, "+1": 22, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/5550/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/5543", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/5543/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/5543/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/5543/events", "html_url": "https://github.com/certbot/certbot/issues/5543", "id": 294591398, "node_id": "MDU6SXNzdWUyOTQ1OTEzOTg=", "number": 5543, "title": "Unquote parameters in Nginx", "user": {"login": "ohemorange", "id": 1227205, "node_id": "MDQ6VXNlcjEyMjcyMDU=", "avatar_url": "https://avatars.githubusercontent.com/u/1227205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ohemorange", "html_url": "https://github.com/ohemorange", "followers_url": "https://api.github.com/users/ohemorange/followers", "following_url": "https://api.github.com/users/ohemorange/following{/other_user}", "gists_url": "https://api.github.com/users/ohemorange/gists{/gist_id}", "starred_url": "https://api.github.com/users/ohemorange/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ohemorange/subscriptions", "organizations_url": "https://api.github.com/users/ohemorange/orgs", "repos_url": "https://api.github.com/users/ohemorange/repos", "events_url": "https://api.github.com/users/ohemorange/events{/privacy}", "received_events_url": "https://api.github.com/users/ohemorange/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 258836706, "node_id": "MDU6TGFiZWwyNTg4MzY3MDY=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20nginx", "name": "area: nginx", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "ohemorange", "id": 1227205, "node_id": "MDQ6VXNlcjEyMjcyMDU=", "avatar_url": "https://avatars.githubusercontent.com/u/1227205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ohemorange", "html_url": "https://github.com/ohemorange", "followers_url": "https://api.github.com/users/ohemorange/followers", "following_url": "https://api.github.com/users/ohemorange/following{/other_user}", "gists_url": "https://api.github.com/users/ohemorange/gists{/gist_id}", "starred_url": "https://api.github.com/users/ohemorange/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ohemorange/subscriptions", "organizations_url": "https://api.github.com/users/ohemorange/orgs", "repos_url": "https://api.github.com/users/ohemorange/repos", "events_url": "https://api.github.com/users/ohemorange/events{/privacy}", "received_events_url": "https://api.github.com/users/ohemorange/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ohemorange", "id": 1227205, "node_id": "MDQ6VXNlcjEyMjcyMDU=", "avatar_url": "https://avatars.githubusercontent.com/u/1227205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ohemorange", "html_url": "https://github.com/ohemorange", "followers_url": "https://api.github.com/users/ohemorange/followers", "following_url": "https://api.github.com/users/ohemorange/following{/other_user}", "gists_url": "https://api.github.com/users/ohemorange/gists{/gist_id}", "starred_url": "https://api.github.com/users/ohemorange/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ohemorange/subscriptions", "organizations_url": "https://api.github.com/users/ohemorange/orgs", "repos_url": "https://api.github.com/users/ohemorange/repos", "events_url": "https://api.github.com/users/ohemorange/events{/privacy}", "received_events_url": "https://api.github.com/users/ohemorange/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/50", "html_url": "https://github.com/certbot/certbot/milestone/50", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/50/labels", "id": 3067228, "node_id": "MDk6TWlsZXN0b25lMzA2NzIyOA==", "number": 50, "title": "0.23.0", "description": "", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 28, "state": "closed", "created_at": "2018-01-26T19:34:25Z", "updated_at": "2018-04-16T06:23:35Z", "due_on": "2018-04-04T07:00:00Z", "closed_at": "2018-04-04T01:52:28Z"}, "comments": 0, "created_at": "2018-02-06T00:33:02Z", "updated_at": "2018-04-03T19:14:24Z", "closed_at": "2018-04-03T19:14:24Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "We should support cases like this: https://community.letsencrypt.org/t/nginx-installer-misconfigurationerror-cannot-find-a-virtualhost-matching-domain/", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/5543/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/5543/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/5523", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/5523/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/5523/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/5523/events", "html_url": "https://github.com/certbot/certbot/issues/5523", "id": 293397670, "node_id": "MDU6SXNzdWUyOTMzOTc2NzA=", "number": 5523, "title": "CentOS 6 pip error affected by locale settings", "user": {"login": "deno028", "id": 4360556, "node_id": "MDQ6VXNlcjQzNjA1NTY=", "avatar_url": "https://avatars.githubusercontent.com/u/4360556?v=4", "gravatar_id": "", "url": "https://api.github.com/users/deno028", "html_url": "https://github.com/deno028", "followers_url": "https://api.github.com/users/deno028/followers", "following_url": "https://api.github.com/users/deno028/following{/other_user}", "gists_url": "https://api.github.com/users/deno028/gists{/gist_id}", "starred_url": "https://api.github.com/users/deno028/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/deno028/subscriptions", "organizations_url": "https://api.github.com/users/deno028/orgs", "repos_url": "https://api.github.com/users/deno028/repos", "events_url": "https://api.github.com/users/deno028/events{/privacy}", "received_events_url": "https://api.github.com/users/deno028/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 276667632, "node_id": "MDU6TGFiZWwyNzY2Njc2MzI=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20pkging", "name": "area: pkging", "color": "c5def5", "default": false, "description": null}, {"id": 1383990430, "node_id": "MDU6TGFiZWwxMzgzOTkwNDMw", "url": "https://api.github.com/repos/certbot/certbot/labels/needs-update", "name": "needs-update", "color": "ADDEE4", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2018-02-01T04:11:05Z", "updated_at": "2020-04-09T15:06:00Z", "closed_at": "2020-04-09T15:06:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "I got this error from the renew command.\r\nError: Command '['/opt/eff.org/certbot/venv/bin/python3', '-Im', 'ensurepip', '--upgrade', '--default-pip']' returned non-zero exit status 1\r\n\r\n## My operating system is (include version):\r\nCentOS release 6.7 (Final)\r\nPython version: 2.7.8\r\n\r\n## I installed Certbot with (certbot-auto, OS package manager, pip, etc):\r\ncertbot-auto\r\n\r\n## I ran this command and it produced this output:\r\nError: Command '['/opt/eff.org/certbot/venv/bin/python3', '-Im', 'ensurepip', '--upgrade', '--default-pip']' returned non-zero exit status 1\r\n\r\n## Certbot's behavior differed from what I expected because:\r\nnew update\r\n\r\n## Here is a Certbot log showing the issue (if available):\r\n###### Logs are stored in `/var/log/letsencrypt` by default. Feel free to redact domains, e-mail and IP addresses as you see fit.\r\n\r\n## Here is the relevant nginx server block or Apache virtualhost for the domain I am configuring:\r\nnginx version: nginx/1.8.1\r\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/5523/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/5523/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/5499", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/5499/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/5499/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/5499/events", "html_url": "https://github.com/certbot/certbot/issues/5499", "id": 291886373, "node_id": "MDU6SXNzdWUyOTE4ODYzNzM=", "number": 5499, "title": "Don't delete entire lineage when revoking a cert that isn't the live one", "user": {"login": "Palethorn", "id": 671689, "node_id": "MDQ6VXNlcjY3MTY4OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/671689?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Palethorn", "html_url": "https://github.com/Palethorn", "followers_url": "https://api.github.com/users/Palethorn/followers", "following_url": "https://api.github.com/users/Palethorn/following{/other_user}", "gists_url": "https://api.github.com/users/Palethorn/gists{/gist_id}", "starred_url": "https://api.github.com/users/Palethorn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Palethorn/subscriptions", "organizations_url": "https://api.github.com/users/Palethorn/orgs", "repos_url": "https://api.github.com/users/Palethorn/repos", "events_url": "https://api.github.com/users/Palethorn/events{/privacy}", "received_events_url": "https://api.github.com/users/Palethorn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 210831837, "node_id": "MDU6TGFiZWwyMTA4MzE4Mzc=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20cert%20management", "name": "area: cert management", "color": "c5def5", "default": false, "description": null}, {"id": 276680181, "node_id": "MDU6TGFiZWwyNzY2ODAxODE=", "url": "https://api.github.com/repos/certbot/certbot/labels/more-info", "name": "more-info", "color": "006b75", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2018-01-26T12:23:58Z", "updated_at": "2019-08-23T17:04:01Z", "closed_at": "2019-01-15T21:14:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "## My operating system is (include version):\r\nDebian 9\r\n\r\n## I installed Certbot with (certbot-auto, OS package manager, pip, etc):\r\nUsing git\r\n\r\n## I ran this command and it produced this output:\r\n./certbot-auto --revoke --cert-path /etc/letsencrypt/archive/domain/certN.pem\r\n1. Certbot revoked my certificate as expected\r\n2. Asked me if I want to delete the referenced certificate [Y (recommended)/N]\r\n3. Answered Y\r\n4. Certbot deleted all my certs under /etc/letsencrypt/archive/domain including the live one\r\n## Certbot's behavior differed from what I expected because:\r\nI wanted to revoke the old cert which differs from my new live one. Certbot completely cleaned up every cert ever associated with that domain, which was not expected, and I hardly think that's the recommended option.\r\n\r\n## Here is a Certbot log showing the issue (if available):\r\nNot available\r\n\r\n###### Logs are stored in `/var/log/letsencrypt` by default. Feel free to redact domains, e-mail and IP addresses as you see fit.\r\n\r\n## Here is the relevant nginx server block or Apache virtualhost for the domain I am configuring:\r\nNginx server block\r\n **File: /etc/nginx/sites/domain.conf**\r\n...\r\n    include /etc/nginx/conf/domain.ssl;\r\n...\r\n\r\n**File: /etc/nginx/conf/domain.ssl**\r\n...\r\nssl on;\r\nssl_certificate /etc/letsencrypt/live/domain/fullchain.pem;\r\nssl_certificate_key /etc/letsencrypt/live/domain/privkey.pem;\r\nssl_session_cache shared:SSL:10m;\r\nssl_session_timeout 10m;\r\nssl_protocols TLSv1 TLSv1.1 TLSv1.2;\r\nssl_prefer_server_ciphers on;\r\nssl_ciphers \"EECDH+AESGCM:EDH+AESGCM:AES256+EECDH:AES256+EDH\";\r\nssl_ecdh_curve secp384r1;\r\nssl_session_tickets off;\r\nssl_stapling on;\r\nssl_stapling_verify on;\r\nadd_header Strict-Transport-Security \"max-age=63072000; includeSubdomains\";\r\nadd_header X-Frame-Options DENY;\r\nadd_header X-Content-Type-Options nosniff;\r\n...", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/5499/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/5499/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/5485", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/5485/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/5485/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/5485/events", "html_url": "https://github.com/certbot/certbot/issues/5485", "id": 291596946, "node_id": "MDU6SXNzdWUyOTE1OTY5NDY=", "number": 5485, "title": "Certbot keeps adding multiple options-ssl-apache.conf includes", "user": {"login": "nilsm", "id": 137836, "node_id": "MDQ6VXNlcjEzNzgzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/137836?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nilsm", "html_url": "https://github.com/nilsm", "followers_url": "https://api.github.com/users/nilsm/followers", "following_url": "https://api.github.com/users/nilsm/following{/other_user}", "gists_url": "https://api.github.com/users/nilsm/gists{/gist_id}", "starred_url": "https://api.github.com/users/nilsm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nilsm/subscriptions", "organizations_url": "https://api.github.com/users/nilsm/orgs", "repos_url": "https://api.github.com/users/nilsm/repos", "events_url": "https://api.github.com/users/nilsm/events{/privacy}", "received_events_url": "https://api.github.com/users/nilsm/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 258836903, "node_id": "MDU6TGFiZWwyNTg4MzY5MDM=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20apache", "name": "area: apache", "color": "c5def5", "default": false, "description": null}, {"id": 281347824, "node_id": "MDU6TGFiZWwyODEzNDc4MjQ=", "url": "https://api.github.com/repos/certbot/certbot/labels/has%20pr", "name": "has pr", "color": "0052cc", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/48", "html_url": "https://github.com/certbot/certbot/milestone/48", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/48/labels", "id": 2967509, "node_id": "MDk6TWlsZXN0b25lMjk2NzUwOQ==", "number": 48, "title": "0.22.0", "description": "", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 60, "state": "closed", "created_at": "2017-12-08T18:07:42Z", "updated_at": "2018-03-19T22:18:04Z", "due_on": "2018-02-07T08:00:00Z", "closed_at": "2018-03-14T16:15:49Z"}, "comments": 5, "created_at": "2018-01-25T14:53:33Z", "updated_at": "2019-02-03T16:21:37Z", "closed_at": "2018-02-14T16:16:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "## My operating system is (include version):\r\nDebian 8, Apache 2.4\r\n\r\n## I installed Certbot with (certbot-auto, OS package manager, pip, etc):\r\ncertbot-auto, gives me v0.21.0\r\n\r\n## I ran this command and it produced this output:\r\n```\r\n./certbot-auto --force-renew --webroot -d domain.com -w /var/www/domain.com --installer apache\r\n```\r\nI chose option 2, to redirect HTTP to HTTP2.\r\n\r\n## Certbot's behavior differed from what I expected because:\r\nEach time I run the command, certbot keeps adding another line to include the ssl options, even though it's already present in the file:\r\n\r\n```\r\nInclude /etc/letsencrypt/options-ssl-apache.conf'\r\n```\r\n\r\nI've now ended up with vhost config with 6 of these include lines, in different places. The file already had the line in once, and certbot added another 5 after consecutively running the command:\r\n\r\n```\r\nInclude /etc/letsencrypt/options-ssl-apache.conf\r\nInclude /etc/letsencrypt/options-ssl-apache.conf\r\nInclude /etc/letsencrypt/options-ssl-apache.conf\r\nInclude /etc/letsencrypt/options-ssl-apache.conf\r\n```\r\n\r\n## Here is a Certbot log showing the issue (if available):\r\n###### Logs are stored in `/var/log/letsencrypt` by default. Feel free to redact domains, e-mail and IP addresses as you see fit.\r\n\r\n## Here is the relevant nginx server block or Apache virtualhost for the domain I am configuring:\r\n\r\n```\r\n<VirtualHost *:443>\r\n        ServerName domain.com\r\n        DocumentRoot /var/www/domain.com\r\n        ErrorLog \"/var/log/apache2/error.log\"\r\n        CustomLog \"/var/log/apache2/access.log\" common\r\n\r\n\tInclude /etc/letsencrypt/options-ssl-apache.conf\r\n\r\n\t<Directory \"/var/www/domain.com\">\r\n  \t\tAllowOverride All\r\n \t \tOptions MultiViews FollowSymLinks\r\n   \t\tRequire all granted\r\n\t</Directory>\r\n\t        Include /etc/letsencrypt/options-ssl-apache.conf\r\nInclude /etc/letsencrypt/options-ssl-apache.conf\r\nInclude /etc/letsencrypt/options-ssl-apache.conf\r\nInclude /etc/letsencrypt/options-ssl-apache.conf\r\nSSLCertificateFile /etc/letsencrypt/live/domain.com/fullchain.pem\r\nSSLCertificateKeyFile /etc/letsencrypt/live/domain.com/privkey.pem\r\nInclude /etc/letsencrypt/options-ssl-apache.conf\r\n</VirtualHost>\r\n```", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/5485/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/5485/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/5475", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/5475/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/5475/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/5475/events", "html_url": "https://github.com/certbot/certbot/issues/5475", "id": 291403206, "node_id": "MDU6SXNzdWUyOTE0MDMyMDY=", "number": 5475, "title": "Apache 2.4 define breaks the Apache plugin's installer", "user": {"login": "FossPrime", "id": 876076, "node_id": "MDQ6VXNlcjg3NjA3Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/876076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/FossPrime", "html_url": "https://github.com/FossPrime", "followers_url": "https://api.github.com/users/FossPrime/followers", "following_url": "https://api.github.com/users/FossPrime/following{/other_user}", "gists_url": "https://api.github.com/users/FossPrime/gists{/gist_id}", "starred_url": "https://api.github.com/users/FossPrime/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/FossPrime/subscriptions", "organizations_url": "https://api.github.com/users/FossPrime/orgs", "repos_url": "https://api.github.com/users/FossPrime/repos", "events_url": "https://api.github.com/users/FossPrime/events{/privacy}", "received_events_url": "https://api.github.com/users/FossPrime/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 258836903, "node_id": "MDU6TGFiZWwyNTg4MzY5MDM=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20apache", "name": "area: apache", "color": "c5def5", "default": false, "description": null}, {"id": 1383990430, "node_id": "MDU6TGFiZWwxMzgzOTkwNDMw", "url": "https://api.github.com/repos/certbot/certbot/labels/needs-update", "name": "needs-update", "color": "ADDEE4", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/5", "html_url": "https://github.com/certbot/certbot/milestone/5", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/5/labels", "id": 1134473, "node_id": "MDk6TWlsZXN0b25lMTEzNDQ3Mw==", "number": 5, "title": "Wishlist", "description": "", "creator": {"login": "pde", "id": 479213, "node_id": "MDQ6VXNlcjQ3OTIxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/479213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pde", "html_url": "https://github.com/pde", "followers_url": "https://api.github.com/users/pde/followers", "following_url": "https://api.github.com/users/pde/following{/other_user}", "gists_url": "https://api.github.com/users/pde/gists{/gist_id}", "starred_url": "https://api.github.com/users/pde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pde/subscriptions", "organizations_url": "https://api.github.com/users/pde/orgs", "repos_url": "https://api.github.com/users/pde/repos", "events_url": "https://api.github.com/users/pde/events{/privacy}", "received_events_url": "https://api.github.com/users/pde/received_events", "type": "User", "site_admin": false}, "open_issues": 96, "closed_issues": 202, "state": "open", "created_at": "2015-05-26T17:47:38Z", "updated_at": "2023-04-17T19:55:31Z", "due_on": null, "closed_at": null}, "comments": 5, "created_at": "2018-01-24T23:54:45Z", "updated_at": "2020-05-04T01:43:36Z", "closed_at": "2020-05-04T01:43:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "## My operating system is (include version):\r\nUbuntu 14.04.5\r\n\r\n## I installed Certbot with (certbot-auto, OS package manager, pip, etc):\r\nOS package manager 0.19.0\r\n\r\n## I ran this command and it produced this output:\r\n`sudo certbot --authenticator webroot --installer apache --redirect -w /srv/www/test6.tdspof.vblip.com/ -d test6.tdspof.vblip.com`\r\n```\r\nDeploying Certificate for test6.tdspof.vblip.com to VirtualHost /etc/apache2/sites-enabled/test1.tdspof.vblip.com-le-ssl.conf\r\n```\r\n\r\n## Certbot's behavior differed from what I expected because:\r\nIt should have created a new config, but instead chose a completely unrelated one.\r\n\r\n## log ##\r\n[letsencrypt.txt](https://github.com/certbot/certbot/files/1662080/letsencrypt.txt)\r\n\r\n## Here is the relevant nginx server block or Apache virtualhost for the domain I am configuring:\r\npre test6, test1.tdspof.vblip.com-le-ssl.conf\r\n```\r\n<IfModule mod_ssl.c>\r\n<VirtualHost *:443>\r\n        Define domain test1.tdspof.vblip.com\r\n        ServerAdmin YouAreAwesome@example.com\r\n        ServerName ${domain}\r\n        DocumentRoot /srv/www/${domain}/\r\n        <Directory /srv/www/${domain}/>\r\n                Require all granted\r\n        </Directory>\r\nInclude /etc/letsencrypt/options-ssl-apache.conf\r\nSSLCertificateFile /etc/letsencrypt/live/test1.tdspof.vblip.com/cert.pem\r\nSSLCertificateKeyFile /etc/letsencrypt/live/test1.tdspof.vblip.com/privkey.pem\r\nInclude /etc/letsencrypt/options-ssl-apache.conf\r\nSSLCertificateChainFile /etc/letsencrypt/live/test1.tdspof.vblip.com/chain.pem\r\n</VirtualHost>\r\n</IfModule>\r\n```\r\n\r\ntest6.tdspof.vblip.com, remained untouched\r\n```\r\n<VirtualHost *:80>\r\n\tDefine domain test6.tdspof.vblip.com\r\n        ServerAdmin serveradmin@tdpowerskills.com\r\n        ServerName ${domain}\r\n        DocumentRoot /srv/www/${domain}/\r\n        <Directory /srv/www/${domain}/>\r\n                Require all granted\r\n        </Directory>\r\n\tErrorLog /var/log/apache2/${domain}-error.log\r\n\tCustomLog /var/log/apache2/${domain}-access.log combined\r\n</VirtualHost>\r\n```\r\n\r\npost test6, test1.tdspof.vblip.com\r\n```\r\n<IfModule mod_ssl.c>\r\n<VirtualHost *:443>\r\n        Define domain test1.tdspof.vblip.com\r\n        ServerAdmin lol@tdpowerskills.com\r\n        ServerName ${domain}\r\n        DocumentRoot /srv/www/${domain}/\r\n        <Directory /srv/www/${domain}/>\r\n                Require all granted\r\n        </Directory>\r\nInclude /etc/letsencrypt/options-ssl-apache.conf\r\nInclude /etc/letsencrypt/options-ssl-apache.conf\r\nSSLCertificateFile /etc/letsencrypt/live/test6.tdspof.vblip.com/cert.pem\r\nSSLCertificateKeyFile /etc/letsencrypt/live/test6.tdspof.vblip.com/privkey.pem\r\nInclude /etc/letsencrypt/options-ssl-apache.conf\r\nSSLCertificateChainFile /etc/letsencrypt/live/test6.tdspof.vblip.com/chain.pem\r\n</VirtualHost>\r\n</IfModule>\r\n```", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/5475/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/5475/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/5429", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/5429/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/5429/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/5429/events", "html_url": "https://github.com/certbot/certbot/issues/5429", "id": 288445852, "node_id": "MDU6SXNzdWUyODg0NDU4NTI=", "number": 5429, "title": "Authenticator cleanup not always called", "user": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sydneyli", "id": 1813285, "node_id": "MDQ6VXNlcjE4MTMyODU=", "avatar_url": "https://avatars.githubusercontent.com/u/1813285?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sydneyli", "html_url": "https://github.com/sydneyli", "followers_url": "https://api.github.com/users/sydneyli/followers", "following_url": "https://api.github.com/users/sydneyli/following{/other_user}", "gists_url": "https://api.github.com/users/sydneyli/gists{/gist_id}", "starred_url": "https://api.github.com/users/sydneyli/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sydneyli/subscriptions", "organizations_url": "https://api.github.com/users/sydneyli/orgs", "repos_url": "https://api.github.com/users/sydneyli/repos", "events_url": "https://api.github.com/users/sydneyli/events{/privacy}", "received_events_url": "https://api.github.com/users/sydneyli/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sydneyli", "id": 1813285, "node_id": "MDQ6VXNlcjE4MTMyODU=", "avatar_url": "https://avatars.githubusercontent.com/u/1813285?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sydneyli", "html_url": "https://github.com/sydneyli", "followers_url": "https://api.github.com/users/sydneyli/followers", "following_url": "https://api.github.com/users/sydneyli/following{/other_user}", "gists_url": "https://api.github.com/users/sydneyli/gists{/gist_id}", "starred_url": "https://api.github.com/users/sydneyli/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sydneyli/subscriptions", "organizations_url": "https://api.github.com/users/sydneyli/orgs", "repos_url": "https://api.github.com/users/sydneyli/repos", "events_url": "https://api.github.com/users/sydneyli/events{/privacy}", "received_events_url": "https://api.github.com/users/sydneyli/received_events", "type": "User", "site_admin": false}, {"login": "jgillula", "id": 6627267, "node_id": "MDQ6VXNlcjY2MjcyNjc=", "avatar_url": "https://avatars.githubusercontent.com/u/6627267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jgillula", "html_url": "https://github.com/jgillula", "followers_url": "https://api.github.com/users/jgillula/followers", "following_url": "https://api.github.com/users/jgillula/following{/other_user}", "gists_url": "https://api.github.com/users/jgillula/gists{/gist_id}", "starred_url": "https://api.github.com/users/jgillula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jgillula/subscriptions", "organizations_url": "https://api.github.com/users/jgillula/orgs", "repos_url": "https://api.github.com/users/jgillula/repos", "events_url": "https://api.github.com/users/jgillula/events{/privacy}", "received_events_url": "https://api.github.com/users/jgillula/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/50", "html_url": "https://github.com/certbot/certbot/milestone/50", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/50/labels", "id": 3067228, "node_id": "MDk6TWlsZXN0b25lMzA2NzIyOA==", "number": 50, "title": "0.23.0", "description": "", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 28, "state": "closed", "created_at": "2018-01-26T19:34:25Z", "updated_at": "2018-04-16T06:23:35Z", "due_on": "2018-04-04T07:00:00Z", "closed_at": "2018-04-04T01:52:28Z"}, "comments": 3, "created_at": "2018-01-14T22:37:30Z", "updated_at": "2018-03-27T00:09:03Z", "closed_at": "2018-03-27T00:09:03Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "In `auth_handler.py`, all code starting with the call to `perform` on the plugin and ending when the challenges can be cleaned up in the normal case should be wrapped in a `with error_handler.ErrorHandler(self._cleanup_challenges):` (or an equivalent) block. With the way this currently works, `_cleanup_challenges` would be called just outside the end of the `with` statement for the case when an exception/signal doesn't occur, but this could/should probably be refactored to have this handled by the `with` statement.", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/5429/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/5429/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/5403", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/5403/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/5403/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/5403/events", "html_url": "https://github.com/certbot/certbot/issues/5403", "id": 287294248, "node_id": "MDU6SXNzdWUyODcyOTQyNDg=", "number": 5403, "title": "Failed authorization procedure. beta.aaa.cn (tls-sni-01): urn:acme:error:connection :: The server could not connect to the client to verify the domain :: Timeout", "user": {"login": "SirBlues", "id": 16552746, "node_id": "MDQ6VXNlcjE2NTUyNzQ2", "avatar_url": "https://avatars.githubusercontent.com/u/16552746?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SirBlues", "html_url": "https://github.com/SirBlues", "followers_url": "https://api.github.com/users/SirBlues/followers", "following_url": "https://api.github.com/users/SirBlues/following{/other_user}", "gists_url": "https://api.github.com/users/SirBlues/gists{/gist_id}", "starred_url": "https://api.github.com/users/SirBlues/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SirBlues/subscriptions", "organizations_url": "https://api.github.com/users/SirBlues/orgs", "repos_url": "https://api.github.com/users/SirBlues/repos", "events_url": "https://api.github.com/users/SirBlues/events{/privacy}", "received_events_url": "https://api.github.com/users/SirBlues/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 276680181, "node_id": "MDU6TGFiZWwyNzY2ODAxODE=", "url": "https://api.github.com/repos/certbot/certbot/labels/more-info", "name": "more-info", "color": "006b75", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-01-10T02:18:28Z", "updated_at": "2019-03-29T15:02:22Z", "closed_at": "2019-03-29T15:02:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "018-01-10 01:52:15,641:ERROR:certbot.log:An unexpected error occurred:\r\n2018-01-10 01:52:15,641:ERROR:certbot.log:The request message was malformed :: Error creating new authz :: Invalid character in DNS name", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/5403/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/5403/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/5358", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/5358/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/5358/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/5358/events", "html_url": "https://github.com/certbot/certbot/issues/5358", "id": 285643383, "node_id": "MDU6SXNzdWUyODU2NDMzODM=", "number": 5358, "title": "certbot-auto: LookupError: unknown encoding: idna", "user": {"login": "fdellwing", "id": 22813377, "node_id": "MDQ6VXNlcjIyODEzMzc3", "avatar_url": "https://avatars.githubusercontent.com/u/22813377?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fdellwing", "html_url": "https://github.com/fdellwing", "followers_url": "https://api.github.com/users/fdellwing/followers", "following_url": "https://api.github.com/users/fdellwing/following{/other_user}", "gists_url": "https://api.github.com/users/fdellwing/gists{/gist_id}", "starred_url": "https://api.github.com/users/fdellwing/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fdellwing/subscriptions", "organizations_url": "https://api.github.com/users/fdellwing/orgs", "repos_url": "https://api.github.com/users/fdellwing/repos", "events_url": "https://api.github.com/users/fdellwing/events{/privacy}", "received_events_url": "https://api.github.com/users/fdellwing/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 630111673, "node_id": "MDU6TGFiZWw2MzAxMTE2NzM=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20python", "name": "area: python", "color": "c5def5", "default": false, "description": null}, {"id": 1383990430, "node_id": "MDU6TGFiZWwxMzgzOTkwNDMw", "url": "https://api.github.com/repos/certbot/certbot/labels/needs-update", "name": "needs-update", "color": "ADDEE4", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 20, "created_at": "2018-01-03T10:08:33Z", "updated_at": "2020-04-25T11:49:45Z", "closed_at": "2020-04-25T11:49:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "## My operating system is (include version):\r\n\r\nDistributor ID: Ubuntu\r\nDescription:    Ubuntu 12.04.5 LTS\r\nRelease:        12.04\r\nCodename:       precise\r\nKernel: 3.2.0\r\n\r\n## I installed Certbot with (certbot-auto, OS package manager, pip, etc):\r\n\r\ncertbot-auto\r\n\r\n## I ran this command and it produced this output:\r\n\r\n```\r\n[11:06 root@drupal-cms ~] > ./certbot-auto --apache -d www.bagusche.com\r\nBootstrapping dependencies for Debian-based OSes... (you can skip this with --no-bootstrap)\r\nOK   http://de.archive.ubuntu.com precise Release.gpg\r\nOK   http://de.archive.ubuntu.com precise-updates Release.gpg              \r\nOK   http://de.archive.ubuntu.com precise-backports Release.gpg            \r\nOK   http://security.ubuntu.com precise-security Release.gpg               \r\nOK   http://ppa.launchpad.net precise Release.gpg  \r\nOK   http://de.archive.ubuntu.com precise Release                                                    \r\nOK   http://de.archive.ubuntu.com precise-updates Release                                            \r\nOK   http://security.ubuntu.com precise-security Release                                             \r\nOK   http://de.archive.ubuntu.com precise-backports Release                                          \r\nOK   http://ppa.launchpad.net precise Release.gpg                         \r\nOK   http://de.archive.ubuntu.com precise/main i386 Packages                                        \r\nOK   http://de.archive.ubuntu.com precise/restricted i386 Packages                                                          \r\nOK   http://de.archive.ubuntu.com precise/universe i386 Packages                                                            \r\nOK   http://de.archive.ubuntu.com precise/multiverse i386 Packages                                                          \r\nOK   http://de.archive.ubuntu.com precise/main TranslationIndex                                                             \r\nOK   http://de.archive.ubuntu.com precise/multiverse TranslationIndex                                                       \r\nOK   http://de.archive.ubuntu.com precise/restricted TranslationIndex                                                       \r\nOK   http://de.archive.ubuntu.com precise/universe TranslationIndex                                                         \r\nOK   http://security.ubuntu.com precise-security/main i386 Packages                                                         \r\nOK   http://de.archive.ubuntu.com precise-updates/main i386 Packages   \r\nOK   http://de.archive.ubuntu.com precise-updates/restricted i386 Packages                     \r\nOK   http://de.archive.ubuntu.com precise-updates/universe i386 Packages                       \r\nOK   http://de.archive.ubuntu.com precise-updates/multiverse i386 Packages                     \r\nOK   http://de.archive.ubuntu.com precise-updates/main TranslationIndex                        \r\nOK   http://de.archive.ubuntu.com precise-updates/multiverse TranslationIndex                  \r\nOK   http://security.ubuntu.com precise-security/restricted i386 Packages                      \r\nOK   http://security.ubuntu.com precise-security/universe i386 Packages                        \r\nOK   http://security.ubuntu.com precise-security/multiverse i386 Packages\r\nOK   http://security.ubuntu.com precise-security/main TranslationIndex \r\nOK   http://security.ubuntu.com precise-security/multiverse TranslationIndex\r\nOK   http://security.ubuntu.com precise-security/restricted TranslationIndex\r\nOK   http://security.ubuntu.com precise-security/universe TranslationIndex\r\nOK   http://de.archive.ubuntu.com precise-updates/restricted TranslationIndex\r\nOK   http://de.archive.ubuntu.com precise-updates/universe TranslationIndex\r\nOK   http://de.archive.ubuntu.com precise-backports/main i386 Packages \r\nOK   http://de.archive.ubuntu.com precise-backports/restricted i386 Packages\r\nOK   http://de.archive.ubuntu.com precise-backports/universe i386 Packages                     \r\nOK   http://de.archive.ubuntu.com precise-backports/multiverse i386 Packages                   \r\nOK   http://de.archive.ubuntu.com precise-backports/main TranslationIndex                      \r\nOK   http://de.archive.ubuntu.com precise-backports/multiverse TranslationIndex                \r\nOK   http://de.archive.ubuntu.com precise-backports/restricted TranslationIndex                \r\nOK   http://security.ubuntu.com precise-security/main Translation-en                           \r\nOK   http://security.ubuntu.com precise-security/multiverse Translation-en                     \r\nOK   http://security.ubuntu.com precise-security/restricted Translation-en                     \r\nOK   http://de.archive.ubuntu.com precise-backports/universe TranslationIndex                  \r\nOK   http://de.archive.ubuntu.com precise/main Translation-de                                  \r\nOK   http://de.archive.ubuntu.com precise/main Translation-en                                  \r\nOK   http://de.archive.ubuntu.com precise/multiverse Translation-de                            \r\nOK   http://de.archive.ubuntu.com precise/multiverse Translation-en                            \r\nOK   http://de.archive.ubuntu.com precise/restricted Translation-de                            \r\nOK   http://security.ubuntu.com precise-security/universe Translation-en                       \r\nOK   http://ppa.launchpad.net precise Release.gpg                                              \r\nOK   http://de.archive.ubuntu.com precise/restricted Translation-en                              \r\nOK   http://de.archive.ubuntu.com precise/universe Translation-de                                \r\nOK   http://de.archive.ubuntu.com precise/universe Translation-en                                \r\nOK   http://de.archive.ubuntu.com precise-updates/main Translation-en                            \r\nOK   http://de.archive.ubuntu.com precise-updates/multiverse Translation-en                      \r\nOK   http://de.archive.ubuntu.com precise-updates/restricted Translation-en                      \r\nOK   http://de.archive.ubuntu.com precise-updates/universe Translation-en\r\nOK   http://de.archive.ubuntu.com precise-backports/main Translation-en  \r\nOK   http://de.archive.ubuntu.com precise-backports/multiverse Translation-en\r\nOK   http://de.archive.ubuntu.com precise-backports/restricted Translation-en\r\nOK   http://ppa.launchpad.net precise Release                            \r\nOK   http://de.archive.ubuntu.com precise-backports/universe Translation-en                                             \r\nOK   https://apt.dockerproject.org ubuntu-precise Release.gpg                                                           \r\nOK   https://apt.dockerproject.org ubuntu-precise Release                \r\nOK   https://apt.dockerproject.org ubuntu-precise/main i386 Packages  \r\nHole:1 https://apt.dockerproject.org ubuntu-precise/main TranslationIndex [454 B]\r\nIgn https://apt.dockerproject.org ubuntu-precise/main TranslationIndex          \r\nOK   http://ppa.launchpad.net precise Release                                   \r\nOK   http://ppa.launchpad.net precise Release                                                   \r\nOK   http://ppa.launchpad.net precise/main Sources                                              \r\nOK   http://ppa.launchpad.net precise/main i386 Packages                 \r\nOK   http://ppa.launchpad.net precise/main TranslationIndex              \r\nOK   http://ppa.launchpad.net precise/main Sources                       \r\nOK   http://ppa.launchpad.net precise/main i386 Packages                 \r\nOK   http://ppa.launchpad.net precise/main TranslationIndex              \r\nOK   http://ppa.launchpad.net precise/main Sources                       \r\nOK   http://ppa.launchpad.net precise/main i386 Packages                 \r\nOK   http://ppa.launchpad.net precise/main TranslationIndex              \r\nOK   http://ppa.launchpad.net precise/main Translation-en\r\nOK   http://ppa.launchpad.net precise/main Translation-en\r\nOK   http://ppa.launchpad.net precise/main Translation-en\r\nIgn https://apt.dockerproject.org ubuntu-precise/main Translation-de_DE\r\nIgn https://apt.dockerproject.org ubuntu-precise/main Translation-de\r\nIgn https://apt.dockerproject.org ubuntu-precise/main Translation-en\r\nPaketlisten werden gelesen... Fertig\r\nPaketlisten werden gelesen... Fertig\r\nAbh\u00e4ngigkeitsbaum wird aufgebaut       \r\nStatusinformationen werden eingelesen... Fertig\r\ngcc ist schon die neueste Version.\r\nlibffi-dev ist schon die neueste Version.\r\npython-virtualenv ist schon die neueste Version.\r\nca-certificates ist schon die neueste Version.\r\npython ist schon die neueste Version.\r\npython-dev ist schon die neueste Version.\r\naugeas-lenses ist schon die neueste Version.\r\nlibaugeas0 ist schon die neueste Version.\r\nopenssl ist schon die neueste Version.\r\nlibssl-dev ist schon die neueste Version.\r\n0 aktualisiert, 0 neu installiert, 0 zu entfernen und 0 nicht aktualisiert.\r\nCreating virtual environment...\r\nInstalling Python packages...\r\nHad a problem while installing Python packages.\r\n\r\npip prints the following errors: \r\n=====================================================\r\nCollecting argparse==1.4.0 (from -r /tmp/tmp.gF2NdgWFHM/letsencrypt-auto-requirements.txt (line 11))\r\nException:\r\nTraceback (most recent call last):\r\n  File \"/opt/eff.org/certbot/venv/local/lib/python2.7/site-packages/pip/basecommand.py\", line 215, in main\r\n    status = self.run(options, args)\r\n  File \"/opt/eff.org/certbot/venv/local/lib/python2.7/site-packages/pip/commands/install.py\", line 324, in run\r\n    requirement_set.prepare_files(finder)\r\n  File \"/opt/eff.org/certbot/venv/local/lib/python2.7/site-packages/pip/req/req_set.py\", line 380, in prepare_files\r\n    ignore_dependencies=self.ignore_dependencies))\r\n  File \"/opt/eff.org/certbot/venv/local/lib/python2.7/site-packages/pip/req/req_set.py\", line 554, in _prepare_file\r\n    require_hashes\r\n  File \"/opt/eff.org/certbot/venv/local/lib/python2.7/site-packages/pip/req/req_install.py\", line 278, in populate_link\r\n    self.link = finder.find_requirement(self, upgrade)\r\n  File \"/opt/eff.org/certbot/venv/local/lib/python2.7/site-packages/pip/index.py\", line 465, in find_requirement\r\n    all_candidates = self.find_all_candidates(req.name)\r\n  File \"/opt/eff.org/certbot/venv/local/lib/python2.7/site-packages/pip/index.py\", line 423, in find_all_candidates\r\n    for page in self._get_pages(url_locations, project_name):\r\n  File \"/opt/eff.org/certbot/venv/local/lib/python2.7/site-packages/pip/index.py\", line 568, in _get_pages\r\n    page = self._get_page(location)\r\n  File \"/opt/eff.org/certbot/venv/local/lib/python2.7/site-packages/pip/index.py\", line 683, in _get_page\r\n    return HTMLPage.get_page(link, session=self.session)\r\n  File \"/opt/eff.org/certbot/venv/local/lib/python2.7/site-packages/pip/index.py\", line 792, in get_page\r\n    \"Cache-Control\": \"max-age=600\",\r\n  File \"/opt/eff.org/certbot/venv/local/lib/python2.7/site-packages/pip/_vendor/requests/sessions.py\", line 488, in get\r\n    return self.request('GET', url, **kwargs)\r\n  File \"/opt/eff.org/certbot/venv/local/lib/python2.7/site-packages/pip/download.py\", line 386, in request\r\n    return super(PipSession, self).request(method, url, *args, **kwargs)\r\n  File \"/opt/eff.org/certbot/venv/local/lib/python2.7/site-packages/pip/_vendor/requests/sessions.py\", line 461, in request\r\n    prep = self.prepare_request(req)\r\n  File \"/opt/eff.org/certbot/venv/local/lib/python2.7/site-packages/pip/_vendor/requests/sessions.py\", line 394, in prepare_request\r\n    hooks=merge_hooks(request.hooks, self.hooks),\r\n  File \"/opt/eff.org/certbot/venv/local/lib/python2.7/site-packages/pip/_vendor/requests/models.py\", line 294, in prepare\r\n    self.prepare_url(url, params)\r\n  File \"/opt/eff.org/certbot/venv/local/lib/python2.7/site-packages/pip/_vendor/requests/models.py\", line 361, in prepare_url\r\n    host = host.encode('idna').decode('utf-8')\r\nLookupError: unknown encoding: idna\r\n=====================================================\r\n\r\nCertbot has problem setting up the virtual environment.\r\n\r\nWe were not be able to guess the right solution from your pip \r\noutput.\r\n\r\nConsult https://certbot.eff.org/docs/install.html#problems-with-python-virtual-environment\r\nfor possible solutions.\r\nYou may also find some support resources at https://certbot.eff.org/support/ .\r\n```\r\n\r\n## Certbot's behavior differed from what I expected because:\r\n\r\ncertbot is not installed\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/5358/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/5358/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/5344", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/5344/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/5344/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/5344/events", "html_url": "https://github.com/certbot/certbot/issues/5344", "id": 283670383, "node_id": "MDU6SXNzdWUyODM2NzAzODM=", "number": 5344, "title": "Can't install new certificates with certbot-apache under Gentoo since version 0.20.0", "user": {"login": "Tito1337", "id": 91934, "node_id": "MDQ6VXNlcjkxOTM0", "avatar_url": "https://avatars.githubusercontent.com/u/91934?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Tito1337", "html_url": "https://github.com/Tito1337", "followers_url": "https://api.github.com/users/Tito1337/followers", "following_url": "https://api.github.com/users/Tito1337/following{/other_user}", "gists_url": "https://api.github.com/users/Tito1337/gists{/gist_id}", "starred_url": "https://api.github.com/users/Tito1337/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Tito1337/subscriptions", "organizations_url": "https://api.github.com/users/Tito1337/orgs", "repos_url": "https://api.github.com/users/Tito1337/repos", "events_url": "https://api.github.com/users/Tito1337/events{/privacy}", "received_events_url": "https://api.github.com/users/Tito1337/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 258836903, "node_id": "MDU6TGFiZWwyNTg4MzY5MDM=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20apache", "name": "area: apache", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "joohoi", "id": 5235109, "node_id": "MDQ6VXNlcjUyMzUxMDk=", "avatar_url": "https://avatars.githubusercontent.com/u/5235109?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joohoi", "html_url": "https://github.com/joohoi", "followers_url": "https://api.github.com/users/joohoi/followers", "following_url": "https://api.github.com/users/joohoi/following{/other_user}", "gists_url": "https://api.github.com/users/joohoi/gists{/gist_id}", "starred_url": "https://api.github.com/users/joohoi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joohoi/subscriptions", "organizations_url": "https://api.github.com/users/joohoi/orgs", "repos_url": "https://api.github.com/users/joohoi/repos", "events_url": "https://api.github.com/users/joohoi/events{/privacy}", "received_events_url": "https://api.github.com/users/joohoi/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "joohoi", "id": 5235109, "node_id": "MDQ6VXNlcjUyMzUxMDk=", "avatar_url": "https://avatars.githubusercontent.com/u/5235109?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joohoi", "html_url": "https://github.com/joohoi", "followers_url": "https://api.github.com/users/joohoi/followers", "following_url": "https://api.github.com/users/joohoi/following{/other_user}", "gists_url": "https://api.github.com/users/joohoi/gists{/gist_id}", "starred_url": "https://api.github.com/users/joohoi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joohoi/subscriptions", "organizations_url": "https://api.github.com/users/joohoi/orgs", "repos_url": "https://api.github.com/users/joohoi/repos", "events_url": "https://api.github.com/users/joohoi/events{/privacy}", "received_events_url": "https://api.github.com/users/joohoi/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 7, "created_at": "2017-12-20T19:27:46Z", "updated_at": "2018-03-26T09:07:37Z", "closed_at": "2018-01-04T22:36:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "It seems that version 0.20.0 has a major architecture revision from 0.19.0, in particular regarding OS specific overrides. But the Gentoo overrides have a flaw when trying to install a new certificate : at one point it tries to run \"apache2ctl -t -D DUMP_MODULES\", which is no good at all under Gentoo because apache2ctl is a dummy script redirecting to /etc/init.d/apache2. It generates this error :\r\n\r\n`Error in checking parameter list: /etc/init.d/apache2: invalid option -- 't'`\r\n\r\n## My operating system is (include version):\r\nGentoo\r\n\r\n## I installed Certbot with (certbot-auto, OS package manager, pip, etc):\r\nOS package manager (emerge) with testing (~amd64) flag\r\n\r\n## I ran this command and it produced this output:\r\n```\r\ncertbot -d test.example.com\r\nSaving debug log to /var/log/letsencrypt/letsencrypt.log\r\nPlugins selected: Authenticator apache, Installer apache\r\nObtaining a new certificate\r\nPerforming the following challenges:\r\ntls-sni-01 challenge for test.example.com\r\nWaiting for verification...\r\nCleaning up challenges\r\nError in checking parameter list: /etc/init.d/apache2: invalid option -- 't'\r\n\r\nApache is unable to check whether or not the module is loaded because Apache is misconfigured.\r\n```\r\n\r\n## Certbot's behavior differed from what I expected because:\r\nCertbot did not install the certificate because it failed to run apache2ctl -t -D DUMP_MODULES", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/5344/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/5344/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/5317", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/5317/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/5317/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/5317/events", "html_url": "https://github.com/certbot/certbot/issues/5317", "id": 280805923, "node_id": "MDU6SXNzdWUyODA4MDU5MjM=", "number": 5317, "title": "Certbot fails to parse variables without separator in CentOS family specific configuration file", "user": {"login": "joohoi", "id": 5235109, "node_id": "MDQ6VXNlcjUyMzUxMDk=", "avatar_url": "https://avatars.githubusercontent.com/u/5235109?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joohoi", "html_url": "https://github.com/joohoi", "followers_url": "https://api.github.com/users/joohoi/followers", "following_url": "https://api.github.com/users/joohoi/following{/other_user}", "gists_url": "https://api.github.com/users/joohoi/gists{/gist_id}", "starred_url": "https://api.github.com/users/joohoi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joohoi/subscriptions", "organizations_url": "https://api.github.com/users/joohoi/orgs", "repos_url": "https://api.github.com/users/joohoi/repos", "events_url": "https://api.github.com/users/joohoi/events{/privacy}", "received_events_url": "https://api.github.com/users/joohoi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 239432238, "node_id": "MDU6TGFiZWwyMzk0MzIyMzg=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20fedora%20/%20redhat%20/%20CentOS", "name": "area: fedora / redhat / CentOS", "color": "c5def5", "default": false, "description": null}, {"id": 258836903, "node_id": "MDU6TGFiZWwyNTg4MzY5MDM=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20apache", "name": "area: apache", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "joohoi", "id": 5235109, "node_id": "MDQ6VXNlcjUyMzUxMDk=", "avatar_url": "https://avatars.githubusercontent.com/u/5235109?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joohoi", "html_url": "https://github.com/joohoi", "followers_url": "https://api.github.com/users/joohoi/followers", "following_url": "https://api.github.com/users/joohoi/following{/other_user}", "gists_url": "https://api.github.com/users/joohoi/gists{/gist_id}", "starred_url": "https://api.github.com/users/joohoi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joohoi/subscriptions", "organizations_url": "https://api.github.com/users/joohoi/orgs", "repos_url": "https://api.github.com/users/joohoi/repos", "events_url": "https://api.github.com/users/joohoi/events{/privacy}", "received_events_url": "https://api.github.com/users/joohoi/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "joohoi", "id": 5235109, "node_id": "MDQ6VXNlcjUyMzUxMDk=", "avatar_url": "https://avatars.githubusercontent.com/u/5235109?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joohoi", "html_url": "https://github.com/joohoi", "followers_url": "https://api.github.com/users/joohoi/followers", "following_url": "https://api.github.com/users/joohoi/following{/other_user}", "gists_url": "https://api.github.com/users/joohoi/gists{/gist_id}", "starred_url": "https://api.github.com/users/joohoi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joohoi/subscriptions", "organizations_url": "https://api.github.com/users/joohoi/orgs", "repos_url": "https://api.github.com/users/joohoi/repos", "events_url": "https://api.github.com/users/joohoi/events{/privacy}", "received_events_url": "https://api.github.com/users/joohoi/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/47", "html_url": "https://github.com/certbot/certbot/milestone/47", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/47/labels", "id": 2844151, "node_id": "MDk6TWlsZXN0b25lMjg0NDE1MQ==", "number": 47, "title": "0.21.0", "description": "", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 50, "state": "closed", "created_at": "2017-10-17T17:55:22Z", "updated_at": "2018-06-28T23:29:31Z", "due_on": "2018-01-03T08:00:00Z", "closed_at": "2018-01-18T01:44:06Z"}, "comments": 0, "created_at": "2017-12-10T12:33:52Z", "updated_at": "2017-12-11T19:51:03Z", "closed_at": "2017-12-11T19:50:56Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "When parsing `/etc/sysconfig/httpd` to find out `Define` statements on Apache command line, Certbot fails to parse variables without whitespace separator, for example `-DSSL` compared to `-D SSL`.", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/5317/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/5317/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/5272", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/5272/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/5272/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/5272/events", "html_url": "https://github.com/certbot/certbot/issues/5272", "id": 277538936, "node_id": "MDU6SXNzdWUyNzc1Mzg5MzY=", "number": 5272, "title": "centos 6.8 / apache / unable to renew", "user": {"login": "bll123", "id": 1205089, "node_id": "MDQ6VXNlcjEyMDUwODk=", "avatar_url": "https://avatars.githubusercontent.com/u/1205089?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bll123", "html_url": "https://github.com/bll123", "followers_url": "https://api.github.com/users/bll123/followers", "following_url": "https://api.github.com/users/bll123/following{/other_user}", "gists_url": "https://api.github.com/users/bll123/gists{/gist_id}", "starred_url": "https://api.github.com/users/bll123/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bll123/subscriptions", "organizations_url": "https://api.github.com/users/bll123/orgs", "repos_url": "https://api.github.com/users/bll123/repos", "events_url": "https://api.github.com/users/bll123/events{/privacy}", "received_events_url": "https://api.github.com/users/bll123/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 258836903, "node_id": "MDU6TGFiZWwyNTg4MzY5MDM=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20apache", "name": "area: apache", "color": "c5def5", "default": false, "description": null}, {"id": 276680181, "node_id": "MDU6TGFiZWwyNzY2ODAxODE=", "url": "https://api.github.com/repos/certbot/certbot/labels/more-info", "name": "more-info", "color": "006b75", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 14, "created_at": "2017-11-28T21:10:07Z", "updated_at": "2019-04-18T18:44:24Z", "closed_at": "2019-04-18T18:44:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "## My operating system is (include version):\r\n\r\nCentOS 6.8\r\n\r\n## I installed Certbot with (certbot-auto, OS package manager, pip, etc):\r\n\r\ncertbot-auto\r\n\r\nIt is version 0.19.0.  \r\nThe same error was produced with python 2.6; I installed python 2.7 and still the same.\r\nAlso tried version 0.16.0 as it appeared one other person had success with that version,\r\nbut the same error.\r\n\r\n## I ran this command and it produced this output:\r\n\r\n```\r\n[root@shop ~]# ./certbot-auto renew\r\nSaving debug log to /var/log/letsencrypt/letsencrypt.log\r\n\r\n-------------------------------------------------------------------------------\r\nProcessing /etc/letsencrypt/renewal/admin.goblanket.com.conf\r\n-------------------------------------------------------------------------------\r\nCert is due for renewal, auto-renewing...\r\nPlugins selected: Authenticator apache, Installer apache\r\nRenewing an existing certificate\r\nPerforming the following challenges:\r\ntls-sni-01 challenge for admin.goblanket.com\r\ntls-sni-01 challenge for shop.goblanket.com\r\nCleaning up challenges\r\nAttempting to renew cert (admin.goblanket.com) from /etc/letsencrypt/renewal/admin.goblanket.com.conf produced an unexpected error: Attempting to overwrite challenge file - /etc/httpd/conf/httpd.conf. Skipping.\r\nAll renewal attempts failed. The following certs could not be renewed:\r\n  /etc/letsencrypt/live/admin.goblanket.com/fullchain.pem (failure)\r\n\r\n-------------------------------------------------------------------------------\r\n\r\nAll renewal attempts failed. The following certs could not be renewed:\r\n  /etc/letsencrypt/live/admin.goblanket.com/fullchain.pem (failure)\r\n-------------------------------------------------------------------------------\r\n1 renew failure(s), 0 parse failure(s)\r\n```\r\n\r\n\r\n## Certbot's behavior differed from what I expected because:\r\n\r\n\r\n## Here is a Certbot log showing the issue (if available):\r\n###### Logs are stored in `/var/log/letsencrypt` by default. Feel free to redact domains, e-mail and IP addresses as you see fit.\r\n\r\ntail end of log file:\r\n```\r\n2017-11-28 20:45:55,461:DEBUG:certbot.reverter:Creating backup of /etc/httpd/conf/httpd.conf\r\n2017-11-28 20:45:56,043:DEBUG:certbot_apache.configurator:Setting VirtualHost at 66.151.36.94:443 to be a name based virtual host\r\n2017-11-28 20:45:56,046:DEBUG:certbot_apache.configurator:Setting 66.151.36.94:443 to be NameBasedVirtualHost\r\n\tDirective added to None\r\n\r\n2017-11-28 20:45:56,621:DEBUG:certbot.error_handler:Encountered exception:\r\nTraceback (most recent call last):\r\n  File \"/opt/eff.org/certbot/venv/lib/python2.7/site-packages/certbot/auth_handler.py\", line 115, in _solve_challenges\r\n    resp = self.auth.perform(self.achalls)\r\n  File \"/opt/eff.org/certbot/venv/lib/python2.7/site-packages/certbot_apache/configurator.py\", line 1919, in perform\r\n    sni_response = chall_doer.perform()\r\n  File \"/opt/eff.org/certbot/venv/lib/python2.7/site-packages/certbot_apache/tls_sni_01.py\", line 80, in perform\r\n    self.configurator.make_addrs_sni_ready(addrs)\r\n  File \"/opt/eff.org/certbot/venv/lib/python2.7/site-packages/certbot_apache/configurator.py\", line 821, in make_addrs_sni_ready\r\n    if not self.is_name_vhost(addr):\r\n  File \"/opt/eff.org/certbot/venv/lib/python2.7/site-packages/certbot_apache/configurator.py\", line 675, in is_name_vhost\r\n    self.parser.find_dir(\"NameVirtualHost\", str(target_addr)))\r\n  File \"/opt/eff.org/certbot/venv/lib/python2.7/site-packages/certbot_apache/parser.py\", line 358, in find_dir\r\n    self._get_include_path(self.get_arg(match + \"/arg\")),\r\n  File \"/opt/eff.org/certbot/venv/lib/python2.7/site-packages/certbot_apache/parser.py\", line 473, in _get_include_path\r\n    self.parse_file(arg)\r\n  File \"/opt/eff.org/certbot/venv/lib/python2.7/site-packages/certbot_apache/parser.py\", line 526, in parse_file\r\n    self.configurator.ensure_augeas_state()\r\n  File \"/opt/eff.org/certbot/venv/lib/python2.7/site-packages/certbot_apache/augeas_configurator.py\", line 87, in ensure_augeas_state\r\n    self.save()\r\n  File \"/opt/eff.org/certbot/venv/lib/python2.7/site-packages/certbot_apache/augeas_configurator.py\", line 147, in save\r\n    self.save_notes, temporary=temporary)\r\n  File \"/opt/eff.org/certbot/venv/lib/python2.7/site-packages/certbot/plugins/common.py\", line 135, in add_to_checkpoint\r\n    raise errors.PluginError(str(err))\r\nPluginError: Attempting to overwrite challenge file - /etc/httpd/conf/httpd.conf\r\n\r\n2017-11-28 20:45:56,622:DEBUG:certbot.error_handler:Calling registered functions\r\n2017-11-28 20:45:56,622:INFO:certbot.auth_handler:Cleaning up challenges\r\n2017-11-28 20:45:57,622:WARNING:certbot.renewal:Attempting to renew cert (admin.goblanket.com) from /etc/letsencrypt/renewal/admin.goblanket.com.conf produced an unexpected error: Attempting to overwrite challenge file - /etc/httpd/conf/httpd.conf. Skipping.\r\n2017-11-28 20:45:57,624:DEBUG:certbot.renewal:Traceback was:\r\nTraceback (most recent call last):\r\n  File \"/opt/eff.org/certbot/venv/lib/python2.7/site-packages/certbot/renewal.py\", line 425, in handle_renewal_request\r\n    main.renew_cert(lineage_config, plugins, renewal_candidate)\r\n  File \"/opt/eff.org/certbot/venv/lib/python2.7/site-packages/certbot/main.py\", line 743, in renew_cert\r\n    _get_and_save_cert(le_client, config, lineage=lineage)\r\n  File \"/opt/eff.org/certbot/venv/lib/python2.7/site-packages/certbot/main.py\", line 80, in _get_and_save_cert\r\n    renewal.renew_cert(config, domains, le_client, lineage)\r\n  File \"/opt/eff.org/certbot/venv/lib/python2.7/site-packages/certbot/renewal.py\", line 297, in renew_cert\r\n    new_certr, new_chain, new_key, _ = le_client.obtain_certificate(domains)\r\n  File \"/opt/eff.org/certbot/venv/lib/python2.7/site-packages/certbot/client.py\", line 318, in obtain_certificate\r\n    self.config.allow_subset_of_names)\r\n  File \"/opt/eff.org/certbot/venv/lib/python2.7/site-packages/certbot/auth_handler.py\", line 74, in get_authorizations\r\n    resp = self._solve_challenges()\r\n  File \"/opt/eff.org/certbot/venv/lib/python2.7/site-packages/certbot/auth_handler.py\", line 115, in _solve_challenges\r\n    resp = self.auth.perform(self.achalls)\r\n  File \"/opt/eff.org/certbot/venv/lib/python2.7/site-packages/certbot_apache/configurator.py\", line 1919, in perform\r\n    sni_response = chall_doer.perform()\r\n  File \"/opt/eff.org/certbot/venv/lib/python2.7/site-packages/certbot_apache/tls_sni_01.py\", line 80, in perform\r\n    self.configurator.make_addrs_sni_ready(addrs)\r\n  File \"/opt/eff.org/certbot/venv/lib/python2.7/site-packages/certbot_apache/configurator.py\", line 821, in make_addrs_sni_ready\r\n    if not self.is_name_vhost(addr):\r\n  File \"/opt/eff.org/certbot/venv/lib/python2.7/site-packages/certbot_apache/configurator.py\", line 675, in is_name_vhost\r\n    self.parser.find_dir(\"NameVirtualHost\", str(target_addr)))\r\n  File \"/opt/eff.org/certbot/venv/lib/python2.7/site-packages/certbot_apache/parser.py\", line 358, in find_dir\r\n    self._get_include_path(self.get_arg(match + \"/arg\")),\r\n  File \"/opt/eff.org/certbot/venv/lib/python2.7/site-packages/certbot_apache/parser.py\", line 473, in _get_include_path\r\n    self.parse_file(arg)\r\n  File \"/opt/eff.org/certbot/venv/lib/python2.7/site-packages/certbot_apache/parser.py\", line 526, in parse_file\r\n    self.configurator.ensure_augeas_state()\r\n  File \"/opt/eff.org/certbot/venv/lib/python2.7/site-packages/certbot_apache/augeas_configurator.py\", line 87, in ensure_augeas_state\r\n    self.save()\r\n  File \"/opt/eff.org/certbot/venv/lib/python2.7/site-packages/certbot_apache/augeas_configurator.py\", line 147, in save\r\n    self.save_notes, temporary=temporary)\r\n  File \"/opt/eff.org/certbot/venv/lib/python2.7/site-packages/certbot/plugins/common.py\", line 135, in add_to_checkpoint\r\n    raise errors.PluginError(str(err))\r\nPluginError: Attempting to overwrite challenge file - /etc/httpd/conf/httpd.conf\r\n\r\n2017-11-28 20:45:57,624:ERROR:certbot.renewal:All renewal attempts failed. The following certs could not be renewed:\r\n2017-11-28 20:45:57,625:ERROR:certbot.renewal:  /etc/letsencrypt/live/admin.goblanket.com/fullchain.pem (failure)\r\n2017-11-28 20:45:57,705:DEBUG:certbot.log:Exiting abnormally:\r\nTraceback (most recent call last):\r\n  File \"/opt/eff.org/certbot/venv/bin/letsencrypt\", line 11, in <module>\r\n    sys.exit(main())\r\n  File \"/opt/eff.org/certbot/venv/lib/python2.7/site-packages/certbot/main.py\", line 861, in main\r\n    return config.func(config, plugins)\r\n  File \"/opt/eff.org/certbot/venv/lib/python2.7/site-packages/certbot/main.py\", line 797, in renew\r\n    renewal.handle_renewal_request(config)\r\n  File \"/opt/eff.org/certbot/venv/lib/python2.7/site-packages/certbot/renewal.py\", line 443, in handle_renewal_request\r\n    len(renew_failures), len(parse_failures)))\r\nError: 1 renew failure(s), 0 parse failure(s)\r\n```\r\n## Here is the relevant nginx server block or Apache virtualhost for the domain I am configuring:\r\n\r\n[root@shop httpd]# pwd\r\n/etc/httpd\r\n[root@shop httpd]# egrep '^Name' conf/httpd.conf\r\n\r\nconf.d/ssl-eclogue.conf:\r\n\r\n```\r\n# shop.goblanket.com\r\n<VirtualHost 66.151.36.94:443>\r\n  DocumentRoot \"/home/www/apache/htdocs\"\r\n  ServerName 66.151.36.94:443\r\n\r\n...\r\n\r\n  SSLCertificateFile /etc/letsencrypt/live/admin.goblanket.com/cert.pem\r\n  SSLCertificateKeyFile /etc/letsencrypt/live/admin.goblanket.com/privkey.pem\r\nServerAlias admin.goblanket.com\r\nSSLCertificateChainFile /etc/letsencrypt/live/admin.goblanket.com/chain.pem\r\n</VirtualHost>\r\n\r\n# admin.goblanket.com\r\n<VirtualHost 66.151.32.156:443>\r\n  DocumentRoot \"/home/www/apache/htdocs\"\r\n  ServerName 66.151.32.156:443\r\n\r\n...\r\n\r\n  SSLCertificateFile /etc/letsencrypt/live/admin.goblanket.com/cert.pem\r\n  SSLCertificateKeyFile /etc/letsencrypt/live/admin.goblanket.com/privkey.pem\r\n  ServerAlias shop.goblanket.com\r\nSSLCertificateChainFile /etc/letsencrypt/live/admin.goblanket.com/chain.pem\r\n</VirtualHost>\r\n\r\n```", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/5272/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/5272/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/5255", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/5255/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/5255/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/5255/events", "html_url": "https://github.com/certbot/certbot/issues/5255", "id": 275840995, "node_id": "MDU6SXNzdWUyNzU4NDA5OTU=", "number": 5255, "title": "Certbot crashes with StopIteration exception when copying configuration file with orphaned RewriteCond", "user": {"login": "michalrokita", "id": 9018973, "node_id": "MDQ6VXNlcjkwMTg5NzM=", "avatar_url": "https://avatars.githubusercontent.com/u/9018973?v=4", "gravatar_id": "", "url": "https://api.github.com/users/michalrokita", "html_url": "https://github.com/michalrokita", "followers_url": "https://api.github.com/users/michalrokita/followers", "following_url": "https://api.github.com/users/michalrokita/following{/other_user}", "gists_url": "https://api.github.com/users/michalrokita/gists{/gist_id}", "starred_url": "https://api.github.com/users/michalrokita/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/michalrokita/subscriptions", "organizations_url": "https://api.github.com/users/michalrokita/orgs", "repos_url": "https://api.github.com/users/michalrokita/repos", "events_url": "https://api.github.com/users/michalrokita/events{/privacy}", "received_events_url": "https://api.github.com/users/michalrokita/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 258836903, "node_id": "MDU6TGFiZWwyNTg4MzY5MDM=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20apache", "name": "area: apache", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2017-11-21T19:59:03Z", "updated_at": "2021-11-10T14:39:37Z", "closed_at": "2019-03-28T22:21:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "## My operating system is (include version):\r\n\r\nDistributor ID:\tUbuntu\r\nDescription:\tUbuntu 16.04.2 LTS\r\nRelease:\t16.04\r\nCodename:\txenial\r\n\r\n\r\n## I installed Certbot with (certbot-auto, OS package manager, pip, etc):\r\n\r\ncertbot-auto\r\n\r\n\r\n## I ran this command and it produced this output:\r\n\r\nsudo certbot-auto --apache -d ********************\r\n\r\n\r\n## Here is a Certbot log showing the issue (if available):\r\n\r\n2017-11-20 19:57:50,640:DEBUG:certbot.error_handler:Calling registered functions\r\n2017-11-20 19:57:50,642:DEBUG:certbot.reporter:Reporting to user: Unable to install the certificate\r\n2017-11-20 19:57:50,642:DEBUG:certbot.log:Exiting abnormally:\r\nTraceback (most recent call last):\r\n  File \"/opt/eff.org/certbot/venv/bin/letsencrypt\", line 11, in <module>\r\n    sys.exit(main())\r\n  File \"/opt/eff.org/certbot/venv/local/lib/python2.7/site-packages/certbot/main.py\", line 861, in main\r\n    return config.func(config, plugins)\r\n  File \"/opt/eff.org/certbot/venv/local/lib/python2.7/site-packages/certbot/main.py\", line 705, in run\r\n    _install_cert(config, le_client, domains, new_lineage)\r\n  File \"/opt/eff.org/certbot/venv/local/lib/python2.7/site-packages/certbot/main.py\", line 565, in _install_cert\r\n    path_provider.cert_path, path_provider.chain_path, path_provider.fullchain_path)\r\n  File \"/opt/eff.org/certbot/venv/local/lib/python2.7/site-packages/certbot/client.py\", line 452, in deploy_certificate\r\n    fullchain_path=fullchain_path)\r\n  File \"/opt/eff.org/certbot/venv/local/lib/python2.7/site-packages/certbot_apache/configurator.py\", line 253, in deploy_cert\r\n    vhost = self.choose_vhost(domain)\r\n  File \"/opt/eff.org/certbot/venv/local/lib/python2.7/site-packages/certbot_apache/configurator.py\", line 347, in choose_vhost\r\n    vhost = self.make_vhost_ssl(vhost)\r\n  File \"/opt/eff.org/certbot/venv/local/lib/python2.7/site-packages/certbot_apache/configurator.py\", line 852, in make_vhost_ssl\r\n    self._copy_create_ssl_vhost_skeleton(nonssl_vhost, ssl_fp)\r\n  File \"/opt/eff.org/certbot/venv/local/lib/python2.7/site-packages/certbot_apache/configurator.py\", line 998, in _copy_create_ssl_vhost_skeleton\r\n    ssl_vh_contents, sift = self._sift_rewrite_rules(orig_contents)\r\n  File \"/opt/eff.org/certbot/venv/local/lib/python2.7/site-packages/certbot_apache/configurator.py\", line 1070, in _sift_rewrite_rules\r\n    line = next(contents)\r\nStopIteration\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/5255/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/5255/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/5238", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/5238/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/5238/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/5238/events", "html_url": "https://github.com/certbot/certbot/issues/5238", "id": 273825542, "node_id": "MDU6SXNzdWUyNzM4MjU1NDI=", "number": 5238, "title": "URL to check token badly constructed", "user": {"login": "tjamme", "id": 13420256, "node_id": "MDQ6VXNlcjEzNDIwMjU2", "avatar_url": "https://avatars.githubusercontent.com/u/13420256?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tjamme", "html_url": "https://github.com/tjamme", "followers_url": "https://api.github.com/users/tjamme/followers", "following_url": "https://api.github.com/users/tjamme/following{/other_user}", "gists_url": "https://api.github.com/users/tjamme/gists{/gist_id}", "starred_url": "https://api.github.com/users/tjamme/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tjamme/subscriptions", "organizations_url": "https://api.github.com/users/tjamme/orgs", "repos_url": "https://api.github.com/users/tjamme/repos", "events_url": "https://api.github.com/users/tjamme/events{/privacy}", "received_events_url": "https://api.github.com/users/tjamme/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 200587469, "node_id": "MDU6TGFiZWwyMDA1ODc0Njk=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20debian%20/%20ubuntu", "name": "area: debian / ubuntu", "color": "c5def5", "default": false, "description": null}, {"id": 276243379, "node_id": "MDU6TGFiZWwyNzYyNDMzNzk=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20certbot-auto", "name": "area: certbot-auto", "color": "c5def5", "default": false, "description": null}, {"id": 661382719, "node_id": "MDU6TGFiZWw2NjEzODI3MTk=", "url": "https://api.github.com/repos/certbot/certbot/labels/debugging", "name": "debugging", "color": "2de2b5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2017-11-14T15:07:33Z", "updated_at": "2017-11-15T11:40:22Z", "closed_at": "2017-11-15T08:32:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "## My operating system is (include version):\r\n(Ubuntu 4.8.4-2ubuntu1~14.04.3\r\n\r\n## I installed Certbot with (certbot-auto, OS package manager, pip, etc):\r\nDownloaded from site\r\n\r\n## I ran this command and it produced this output:\r\n./certbot-auto --manual -d footprint.wwf.org.uk -d www.footprint.wwf.org.uk certonly\r\n\r\nProblem is: MISSING FORWARD SLASH after .org.uk\r\nhttp://footprint.wwf.org.uk.well-known/acme-challenge/OOi-aLYqH3eh7VUo-JDGhKOKAL_4hZfXwR7AKJuGArI:http://footprint.wwf.org.uk.well-known/acme-challenge/OOi-aLYqH3eh7VUo-JDGhKOKAL_4hZfXwR7AKJuGArI:\r\nError getting validation data <===\r\n\r\n## Certbot's behavior differed from what I expected because:\r\nIt gave me an unjustified error: if it out the URL together wrong, it wasn't going to find the token...\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/5238/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/5238/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/5236", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/5236/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/5236/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/5236/events", "html_url": "https://github.com/certbot/certbot/issues/5236", "id": 273238342, "node_id": "MDU6SXNzdWUyNzMyMzgzNDI=", "number": 5236, "title": "unable to run certbot --nginx - UnicodeDecodeError: 'ascii'", "user": {"login": "john-gold", "id": 12373037, "node_id": "MDQ6VXNlcjEyMzczMDM3", "avatar_url": "https://avatars.githubusercontent.com/u/12373037?v=4", "gravatar_id": "", "url": "https://api.github.com/users/john-gold", "html_url": "https://github.com/john-gold", "followers_url": "https://api.github.com/users/john-gold/followers", "following_url": "https://api.github.com/users/john-gold/following{/other_user}", "gists_url": "https://api.github.com/users/john-gold/gists{/gist_id}", "starred_url": "https://api.github.com/users/john-gold/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/john-gold/subscriptions", "organizations_url": "https://api.github.com/users/john-gold/orgs", "repos_url": "https://api.github.com/users/john-gold/repos", "events_url": "https://api.github.com/users/john-gold/events{/privacy}", "received_events_url": "https://api.github.com/users/john-gold/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 258836706, "node_id": "MDU6TGFiZWwyNTg4MzY3MDY=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20nginx", "name": "area: nginx", "color": "c5def5", "default": false, "description": null}, {"id": 853314368, "node_id": "MDU6TGFiZWw4NTMzMTQzNjg=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20encoding/type%20error", "name": "area: encoding/type error", "color": "c5def5", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 17, "created_at": "2017-11-12T15:22:06Z", "updated_at": "2022-02-03T04:41:57Z", "closed_at": "2018-09-18T19:25:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "## My operating system is (include version):\r\nArchLinux (Kernel 4.13.11-1)\r\n\r\n## I installed Certbot with (certbot-auto, OS package manager, pip, etc):\r\npacman -S cerbot-nginx\r\n\r\n## I ran this command and it produced this output:\r\ncerbot --nginx\r\n\r\n## Certbot's behavior differed from what I expected because:\r\n```\r\nSaving debug log to /var/log/letsencrypt/letsencrypt.log\r\nAn unexpected error occurred:\r\nUnicodeDecodeError: 'ascii' codec can't decode byte 0xe2 in position 330: ordinal not in range(128)\r\nPlease see the logfiles in /var/log/letsencrypt for more details.\r\n```\r\n\r\n## Here is a Certbot log showing the issue (if available):\r\n```\r\n2017-11-12 15:15:18,497:DEBUG:certbot.main:certbot version: 0.19.0\r\n2017-11-12 15:15:18,499:DEBUG:certbot.main:Arguments: ['--nginx']\r\n2017-11-12 15:15:18,500:DEBUG:certbot.main:Discovered plugins: PluginsRegistry(PluginEntryPoint#manual,PluginEntryPoint#nginx,PluginEntryPoint#null,PluginEntryPoint#standalone,PluginEntryPoint#webroot)\r\n2017-11-12 15:15:18,529:DEBUG:certbot.log:Root logging level set at 20\r\n2017-11-12 15:15:18,531:INFO:certbot.log:Saving debug log to /var/log/letsencrypt/letsencrypt.log\r\n2017-11-12 15:15:18,532:DEBUG:certbot.plugins.selection:Requested authenticator nginx and installer nginx\r\n2017-11-12 15:15:18,557:DEBUG:certbot.log:Exiting abnormally:\r\nTraceback (most recent call last):\r\n  File \"/usr/bin/certbot\", line 11, in <module>\r\n    load_entry_point('certbot==0.19.0', 'console_scripts', 'certbot')()\r\n  File \"/usr/lib/python3.6/site-packages/certbot/main.py\", line 861, in main\r\n    return config.func(config, plugins)\r\n  File \"/usr/lib/python3.6/site-packages/certbot/main.py\", line 685, in run\r\n    installer, authenticator = plug_sel.choose_configurator_plugins(config, plugins, \"run\")\r\n  File \"/usr/lib/python3.6/site-packages/certbot/plugins/selection.py\", line 189, in choose_configurator_plugins\r\n    authenticator = installer = pick_configurator(config, req_inst, plugins)\r\n  File \"/usr/lib/python3.6/site-packages/certbot/plugins/selection.py\", line 25, in pick_configurator\r\n    (interfaces.IAuthenticator, interfaces.IInstaller))\r\n  File \"/usr/lib/python3.6/site-packages/certbot/plugins/selection.py\", line 77, in pick_plugin\r\n    verified.prepare()\r\n  File \"/usr/lib/python3.6/site-packages/certbot/plugins/disco.py\", line 248, in prepare\r\n    return [plugin_ep.prepare() for plugin_ep in six.itervalues(self._plugins)]\r\n  File \"/usr/lib/python3.6/site-packages/certbot/plugins/disco.py\", line 248, in <listcomp>\r\n    return [plugin_ep.prepare() for plugin_ep in six.itervalues(self._plugins)]\r\n  File \"/usr/lib/python3.6/site-packages/certbot/plugins/disco.py\", line 130, in prepare\r\n    self._initialized.prepare()\r\n  File \"/usr/lib/python3.6/site-packages/certbot_nginx/configurator.py\", line 156, in prepare\r\n    self.parser = parser.NginxParser(self.conf('server-root'))\r\n  File \"/usr/lib/python3.6/site-packages/certbot_nginx/parser.py\", line 35, in __init__\r\n    self.load()\r\n  File \"/usr/lib/python3.6/site-packages/certbot_nginx/parser.py\", line 42, in load\r\n    self._parse_recursively(self.config_root)\r\n  File \"/usr/lib/python3.6/site-packages/certbot_nginx/parser.py\", line 53, in _parse_recursively\r\n    trees = self._parse_files(filepath)\r\n  File \"/usr/lib/python3.6/site-packages/certbot_nginx/parser.py\", line 203, in _parse_files\r\n    parsed = nginxparser.load(_file)\r\n  File \"/usr/lib/python3.6/site-packages/certbot_nginx/nginxparser.py\", line 122, in load\r\n    return loads(_file.read())\r\n  File \"/usr/lib/python3.6/encodings/ascii.py\", line 26, in decode\r\n    return codecs.ascii_decode(input, self.errors)[0]\r\nUnicodeDecodeError: 'ascii' codec can't decode byte 0xe2 in position 330: ordinal not in range(128)\r\n2017-11-12 15:15:18,560:ERROR:certbot.log:An unexpected error occurred:\r\n```\r\n\r\n## Here is the relevant nginx server block or Apache virtualhost for the domain I am configuring:\r\n```\r\nuser http;\r\nworker_processes auto;\r\nworker_cpu_affinity auto;\r\npcre_jit on;\r\n\r\nevents {\r\n    worker_connections 2048;\r\n}\r\n\r\n\r\nhttp {\r\n    include mime.types;\r\n    default_type application/octet-stream;\r\n    sendfile on;\r\n    tcp_nopush on;\r\n    aio threads;\r\n    server_tokens off; # Security: Disables nginx version in error messages and in the \u201cServer\u201d response header field.\r\n    charset utf-8; # Force usage of UTF-8\r\n    index index.php index.html index.htm;\r\n    server {\r\n      listen 80;\r\n      listen [::]:80;\r\n      server_name domain.tld;\r\n      root /usr/share/nginx/html;\r\n      location / {\r\n        index index.htm index.html;\r\n      }\r\n\r\n      # ACME challenge\r\n      location ^~ /.well-known/acme-challenge/ {\r\n        default_type \"text/plain\";\r\n        root /var/lib/letsencrypt;\r\n      }\r\n    }\r\n}\r\n```", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/5236/reactions", "total_count": 4, "+1": 4, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/5236/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/5198", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/5198/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/5198/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/5198/events", "html_url": "https://github.com/certbot/certbot/pull/5198", "id": 267321956, "node_id": "MDExOlB1bGxSZXF1ZXN0MTQ3OTA4MzIx", "number": 5198, "title": "Fix bug that stopped nginx from finding new server block for redirect", "user": {"login": "ohemorange", "id": 1227205, "node_id": "MDQ6VXNlcjEyMjcyMDU=", "avatar_url": "https://avatars.githubusercontent.com/u/1227205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ohemorange", "html_url": "https://github.com/ohemorange", "followers_url": "https://api.github.com/users/ohemorange/followers", "following_url": "https://api.github.com/users/ohemorange/following{/other_user}", "gists_url": "https://api.github.com/users/ohemorange/gists{/gist_id}", "starred_url": "https://api.github.com/users/ohemorange/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ohemorange/subscriptions", "organizations_url": "https://api.github.com/users/ohemorange/orgs", "repos_url": "https://api.github.com/users/ohemorange/repos", "events_url": "https://api.github.com/users/ohemorange/events{/privacy}", "received_events_url": "https://api.github.com/users/ohemorange/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 258836706, "node_id": "MDU6TGFiZWwyNTg4MzY3MDY=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20nginx", "name": "area: nginx", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/47", "html_url": "https://github.com/certbot/certbot/milestone/47", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/47/labels", "id": 2844151, "node_id": "MDk6TWlsZXN0b25lMjg0NDE1MQ==", "number": 47, "title": "0.21.0", "description": "", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 50, "state": "closed", "created_at": "2017-10-17T17:55:22Z", "updated_at": "2018-06-28T23:29:31Z", "due_on": "2018-01-03T08:00:00Z", "closed_at": "2018-01-18T01:44:06Z"}, "comments": 0, "created_at": "2017-10-20T22:33:11Z", "updated_at": "2017-12-06T04:05:50Z", "closed_at": "2017-10-20T23:46:37Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/certbot/certbot/pulls/5198", "html_url": "https://github.com/certbot/certbot/pull/5198", "diff_url": "https://github.com/certbot/certbot/pull/5198.diff", "patch_url": "https://github.com/certbot/certbot/pull/5198.patch", "merged_at": "2017-10-20T23:46:37Z"}, "body": "Fixes #5196.", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/5198/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/5198/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/certbot/certbot/issues/5196", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/5196/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/5196/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/5196/events", "html_url": "https://github.com/certbot/certbot/issues/5196", "id": 266989355, "node_id": "MDU6SXNzdWUyNjY5ODkzNTU=", "number": 5196, "title": "Nginx plugin not finding HTTP server block it created", "user": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 258836706, "node_id": "MDU6TGFiZWwyNTg4MzY3MDY=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20nginx", "name": "area: nginx", "color": "c5def5", "default": false, "description": null}, {"id": 281347824, "node_id": "MDU6TGFiZWwyODEzNDc4MjQ=", "url": "https://api.github.com/repos/certbot/certbot/labels/has%20pr", "name": "has pr", "color": "0052cc", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/47", "html_url": "https://github.com/certbot/certbot/milestone/47", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/47/labels", "id": 2844151, "node_id": "MDk6TWlsZXN0b25lMjg0NDE1MQ==", "number": 47, "title": "0.21.0", "description": "", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 50, "state": "closed", "created_at": "2017-10-17T17:55:22Z", "updated_at": "2018-06-28T23:29:31Z", "due_on": "2018-01-03T08:00:00Z", "closed_at": "2018-01-18T01:44:06Z"}, "comments": 3, "created_at": "2017-10-19T21:06:23Z", "updated_at": "2017-12-06T04:06:02Z", "closed_at": "2017-10-20T23:46:37Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "## My operating system is (include version):\r\n\r\nUbuntu 16.04\r\n\r\n## I installed Certbot with (certbot-auto, OS package manager, pip, etc):\r\n\r\nDev instructions\r\n\r\n## I ran this command and it produced this output:\r\n\r\nStarting with the default Nginx config on Ubuntu 16.04, I ran:\r\n```\r\n$ sudo certbot -d example.org,www.example.org --nginx --redirect\r\n...\r\nNo matching insecure server blocks listening on port 80 found.\r\nNo matching insecure server blocks listening on port 80 found.\r\n...\r\n```\r\n\r\n## Certbot's behavior differed from what I expected because:\r\nNginx is listening on port 80 and continuing to serve insecure HTTP traffic for these domains.\r\n\r\nProbably what we should do is if no matching server block is found is if Nginx is listening on port 80 at all, we should create new server block(s) for the purpose of redirecting the traffic.\r\n\r\ncc @ohemorange ", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/5196/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/5196/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/5192", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/5192/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/5192/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/5192/events", "html_url": "https://github.com/certbot/certbot/pull/5192", "id": 266675476, "node_id": "MDExOlB1bGxSZXF1ZXN0MTQ3NDM1ODA0", "number": 5192, "title": "Correctly test for existing Certbot redirect when adding an Nginx redirect block", "user": {"login": "ohemorange", "id": 1227205, "node_id": "MDQ6VXNlcjEyMjcyMDU=", "avatar_url": "https://avatars.githubusercontent.com/u/1227205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ohemorange", "html_url": "https://github.com/ohemorange", "followers_url": "https://api.github.com/users/ohemorange/followers", "following_url": "https://api.github.com/users/ohemorange/following{/other_user}", "gists_url": "https://api.github.com/users/ohemorange/gists{/gist_id}", "starred_url": "https://api.github.com/users/ohemorange/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ohemorange/subscriptions", "organizations_url": "https://api.github.com/users/ohemorange/orgs", "repos_url": "https://api.github.com/users/ohemorange/repos", "events_url": "https://api.github.com/users/ohemorange/events{/privacy}", "received_events_url": "https://api.github.com/users/ohemorange/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 258836706, "node_id": "MDU6TGFiZWwyNTg4MzY3MDY=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20nginx", "name": "area: nginx", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/44", "html_url": "https://github.com/certbot/certbot/milestone/44", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/44/labels", "id": 2748775, "node_id": "MDk6TWlsZXN0b25lMjc0ODc3NQ==", "number": 44, "title": "0.20.0", "description": "", "creator": {"login": "pde", "id": 479213, "node_id": "MDQ6VXNlcjQ3OTIxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/479213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pde", "html_url": "https://github.com/pde", "followers_url": "https://api.github.com/users/pde/followers", "following_url": "https://api.github.com/users/pde/following{/other_user}", "gists_url": "https://api.github.com/users/pde/gists{/gist_id}", "starred_url": "https://api.github.com/users/pde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pde/subscriptions", "organizations_url": "https://api.github.com/users/pde/orgs", "repos_url": "https://api.github.com/users/pde/repos", "events_url": "https://api.github.com/users/pde/events{/privacy}", "received_events_url": "https://api.github.com/users/pde/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 18, "state": "closed", "created_at": "2017-09-06T19:16:40Z", "updated_at": "2018-01-18T01:34:10Z", "due_on": "2017-11-08T08:00:00Z", "closed_at": "2017-12-08T04:00:53Z"}, "comments": 0, "created_at": "2017-10-18T23:34:25Z", "updated_at": "2017-10-19T21:56:57Z", "closed_at": "2017-10-19T21:56:54Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/certbot/certbot/pulls/5192", "html_url": "https://github.com/certbot/certbot/pull/5192", "diff_url": "https://github.com/certbot/certbot/pull/5192.diff", "patch_url": "https://github.com/certbot/certbot/pull/5192.patch", "merged_at": "2017-10-19T21:56:53Z"}, "body": "Fixes #5156.", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/5192/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/5192/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/certbot/certbot/issues/5163", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/5163/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/5163/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/5163/events", "html_url": "https://github.com/certbot/certbot/issues/5163", "id": 262618402, "node_id": "MDU6SXNzdWUyNjI2MTg0MDI=", "number": 5163, "title": "require-hashes mode", "user": {"login": "torsinclair", "id": 12990522, "node_id": "MDQ6VXNlcjEyOTkwNTIy", "avatar_url": "https://avatars.githubusercontent.com/u/12990522?v=4", "gravatar_id": "", "url": "https://api.github.com/users/torsinclair", "html_url": "https://github.com/torsinclair", "followers_url": "https://api.github.com/users/torsinclair/followers", "following_url": "https://api.github.com/users/torsinclair/following{/other_user}", "gists_url": "https://api.github.com/users/torsinclair/gists{/gist_id}", "starred_url": "https://api.github.com/users/torsinclair/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/torsinclair/subscriptions", "organizations_url": "https://api.github.com/users/torsinclair/orgs", "repos_url": "https://api.github.com/users/torsinclair/repos", "events_url": "https://api.github.com/users/torsinclair/events{/privacy}", "received_events_url": "https://api.github.com/users/torsinclair/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 276243379, "node_id": "MDU6TGFiZWwyNzYyNDMzNzk=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20certbot-auto", "name": "area: certbot-auto", "color": "c5def5", "default": false, "description": null}, {"id": 1383990430, "node_id": "MDU6TGFiZWwxMzgzOTkwNDMw", "url": "https://api.github.com/repos/certbot/certbot/labels/needs-update", "name": "needs-update", "color": "ADDEE4", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/30", "html_url": "https://github.com/certbot/certbot/milestone/30", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/30/labels", "id": 2259327, "node_id": "MDk6TWlsZXN0b25lMjI1OTMyNw==", "number": 30, "title": "2.0", "description": "Breaking changes and more important wishlist items", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 47, "state": "closed", "created_at": "2017-01-17T18:46:28Z", "updated_at": "2022-11-28T18:41:26Z", "due_on": null, "closed_at": "2022-11-28T18:41:26Z"}, "comments": 9, "created_at": "2017-10-03T23:05:46Z", "updated_at": "2020-04-13T23:27:29Z", "closed_at": "2020-04-13T23:27:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "## My operating system is (include version):\r\nUbuntu 10.4\r\n\r\n## I installed Certbot with (certbot-auto, OS package manager, pip, etc):\r\nwget https://dl.eff.org/certbot-auto\r\n\r\n## I ran this command and it produced this output:\r\nsudo ./path/to/certbot-auto --apache certonly\r\n\r\nIn --require-hashes mode, all requirements must have their versions pinned with ==. These do not:\r\n    setuptools from https://pypi.python.org/packages/32/28/16fffbead19dc705f9546134ca81090d6c266aff6173fb092bb6d8dfd76a/setuptools-36.5.0-py2.py3-none-any.whl#md5=14b28ae24ea931a752f70acaafcb1b9f (from zope.component==4.2.2->-r /tmp/tmp.6pTxkO1B9B/letsencrypt-auto-requirements.txt (line 165))\r\n\r\n## Certbot's behavior differed from what I expected because:\r\ndidn't install\r\n\r\n## Here is a Certbot log showing the issue (if available):\r\n###### Logs are stored in `/var/log/letsencrypt` by default. Feel free to redact domains, e-mail and IP addresses as you see fit.\r\n\r\n## Here is the relevant nginx server block or Apache virtualhost for the domain I am configuring:\r\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/5163/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/5163/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/5156", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/5156/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/5156/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/5156/events", "html_url": "https://github.com/certbot/certbot/issues/5156", "id": 262193538, "node_id": "MDU6SXNzdWUyNjIxOTM1Mzg=", "number": 5156, "title": "We shouldn't be adding a commented out renewal block during the same run as adding an uncommented one when deploying certs with multiple domains", "user": {"login": "ohemorange", "id": 1227205, "node_id": "MDQ6VXNlcjEyMjcyMDU=", "avatar_url": "https://avatars.githubusercontent.com/u/1227205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ohemorange", "html_url": "https://github.com/ohemorange", "followers_url": "https://api.github.com/users/ohemorange/followers", "following_url": "https://api.github.com/users/ohemorange/following{/other_user}", "gists_url": "https://api.github.com/users/ohemorange/gists{/gist_id}", "starred_url": "https://api.github.com/users/ohemorange/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ohemorange/subscriptions", "organizations_url": "https://api.github.com/users/ohemorange/orgs", "repos_url": "https://api.github.com/users/ohemorange/repos", "events_url": "https://api.github.com/users/ohemorange/events{/privacy}", "received_events_url": "https://api.github.com/users/ohemorange/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 258836706, "node_id": "MDU6TGFiZWwyNTg4MzY3MDY=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20nginx", "name": "area: nginx", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "ohemorange", "id": 1227205, "node_id": "MDQ6VXNlcjEyMjcyMDU=", "avatar_url": "https://avatars.githubusercontent.com/u/1227205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ohemorange", "html_url": "https://github.com/ohemorange", "followers_url": "https://api.github.com/users/ohemorange/followers", "following_url": "https://api.github.com/users/ohemorange/following{/other_user}", "gists_url": "https://api.github.com/users/ohemorange/gists{/gist_id}", "starred_url": "https://api.github.com/users/ohemorange/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ohemorange/subscriptions", "organizations_url": "https://api.github.com/users/ohemorange/orgs", "repos_url": "https://api.github.com/users/ohemorange/repos", "events_url": "https://api.github.com/users/ohemorange/events{/privacy}", "received_events_url": "https://api.github.com/users/ohemorange/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ohemorange", "id": 1227205, "node_id": "MDQ6VXNlcjEyMjcyMDU=", "avatar_url": "https://avatars.githubusercontent.com/u/1227205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ohemorange", "html_url": "https://github.com/ohemorange", "followers_url": "https://api.github.com/users/ohemorange/followers", "following_url": "https://api.github.com/users/ohemorange/following{/other_user}", "gists_url": "https://api.github.com/users/ohemorange/gists{/gist_id}", "starred_url": "https://api.github.com/users/ohemorange/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ohemorange/subscriptions", "organizations_url": "https://api.github.com/users/ohemorange/orgs", "repos_url": "https://api.github.com/users/ohemorange/repos", "events_url": "https://api.github.com/users/ohemorange/events{/privacy}", "received_events_url": "https://api.github.com/users/ohemorange/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/44", "html_url": "https://github.com/certbot/certbot/milestone/44", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/44/labels", "id": 2748775, "node_id": "MDk6TWlsZXN0b25lMjc0ODc3NQ==", "number": 44, "title": "0.20.0", "description": "", "creator": {"login": "pde", "id": 479213, "node_id": "MDQ6VXNlcjQ3OTIxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/479213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pde", "html_url": "https://github.com/pde", "followers_url": "https://api.github.com/users/pde/followers", "following_url": "https://api.github.com/users/pde/following{/other_user}", "gists_url": "https://api.github.com/users/pde/gists{/gist_id}", "starred_url": "https://api.github.com/users/pde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pde/subscriptions", "organizations_url": "https://api.github.com/users/pde/orgs", "repos_url": "https://api.github.com/users/pde/repos", "events_url": "https://api.github.com/users/pde/events{/privacy}", "received_events_url": "https://api.github.com/users/pde/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 18, "state": "closed", "created_at": "2017-09-06T19:16:40Z", "updated_at": "2018-01-18T01:34:10Z", "due_on": "2017-11-08T08:00:00Z", "closed_at": "2017-12-08T04:00:53Z"}, "comments": 4, "created_at": "2017-10-02T19:13:12Z", "updated_at": "2017-10-19T21:56:54Z", "closed_at": "2017-10-19T21:56:54Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/5156/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/5156/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/5155", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/5155/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/5155/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/5155/events", "html_url": "https://github.com/certbot/certbot/issues/5155", "id": 262188575, "node_id": "MDU6SXNzdWUyNjIxODg1NzU=", "number": 5155, "title": "Replace instances of isinstance(x, str) with isinstance(x, six.string_types)", "user": {"login": "ohemorange", "id": 1227205, "node_id": "MDQ6VXNlcjEyMjcyMDU=", "avatar_url": "https://avatars.githubusercontent.com/u/1227205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ohemorange", "html_url": "https://github.com/ohemorange", "followers_url": "https://api.github.com/users/ohemorange/followers", "following_url": "https://api.github.com/users/ohemorange/following{/other_user}", "gists_url": "https://api.github.com/users/ohemorange/gists{/gist_id}", "starred_url": "https://api.github.com/users/ohemorange/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ohemorange/subscriptions", "organizations_url": "https://api.github.com/users/ohemorange/orgs", "repos_url": "https://api.github.com/users/ohemorange/repos", "events_url": "https://api.github.com/users/ohemorange/events{/privacy}", "received_events_url": "https://api.github.com/users/ohemorange/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 149596829, "node_id": "MDU6TGFiZWwxNDk1OTY4Mjk=", "url": "https://api.github.com/repos/certbot/certbot/labels/good%20first%20issue", "name": "good first issue", "color": "c61aff", "default": true, "description": null}, {"id": 277080619, "node_id": "MDU6TGFiZWwyNzcwODA2MTk=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20code%20health", "name": "area: code health", "color": "c5def5", "default": false, "description": null}, {"id": 281347824, "node_id": "MDU6TGFiZWwyODEzNDc4MjQ=", "url": "https://api.github.com/repos/certbot/certbot/labels/has%20pr", "name": "has pr", "color": "0052cc", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2017-10-02T18:56:00Z", "updated_at": "2019-06-07T17:49:07Z", "closed_at": "2017-11-01T18:17:55Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "To properly detect unicode and be python3-safe.", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/5155/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/5155/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/5154", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/5154/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/5154/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/5154/events", "html_url": "https://github.com/certbot/certbot/issues/5154", "id": 262144429, "node_id": "MDU6SXNzdWUyNjIxNDQ0Mjk=", "number": 5154, "title": "Enable certificate verification (incl. revocation) by installing OpenSSL on Docker image", "user": {"login": "gghidini", "id": 3170765, "node_id": "MDQ6VXNlcjMxNzA3NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/3170765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gghidini", "html_url": "https://github.com/gghidini", "followers_url": "https://api.github.com/users/gghidini/followers", "following_url": "https://api.github.com/users/gghidini/following{/other_user}", "gists_url": "https://api.github.com/users/gghidini/gists{/gist_id}", "starred_url": "https://api.github.com/users/gghidini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gghidini/subscriptions", "organizations_url": "https://api.github.com/users/gghidini/orgs", "repos_url": "https://api.github.com/users/gghidini/repos", "events_url": "https://api.github.com/users/gghidini/events{/privacy}", "received_events_url": "https://api.github.com/users/gghidini/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 276667632, "node_id": "MDU6TGFiZWwyNzY2Njc2MzI=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20pkging", "name": "area: pkging", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/43", "html_url": "https://github.com/certbot/certbot/milestone/43", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/43/labels", "id": 2728510, "node_id": "MDk6TWlsZXN0b25lMjcyODUxMA==", "number": 43, "title": "0.19.0", "description": "", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 45, "state": "closed", "created_at": "2017-08-28T23:39:35Z", "updated_at": "2017-10-05T15:11:05Z", "due_on": "2017-10-04T07:00:00Z", "closed_at": "2017-10-04T23:12:34Z"}, "comments": 5, "created_at": "2017-10-02T16:28:43Z", "updated_at": "2017-10-03T01:35:13Z", "closed_at": "2017-10-03T01:35:00Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Could `openssl` be installed into Docker image so that certifcates can be tested for revocation?\r\n\r\nI noticed `openssl-dev` is installed among `.build-deps` at https://github.com/certbot/certbot/blob/0.18.x/Dockerfile#L20 and then duly removed.\r\n\r\nSure enough certbot DID test for revocation after I installed `openssl` on my running container w/:\r\n\r\n```\r\n# apk info openssl\r\n```\r\n\r\n(after updating `apk` w/ `# apk update`)\r\n\r\n## My operating system is (include version):\r\n\r\nDigitalOcean Ubuntu 16.04.3 x64\r\n\r\n## I installed Certbot with (certbot-auto, OS package manager, pip, etc):\r\n\r\n```\r\n$ docker run -it \\\r\n  --entrypoint=ash \\\r\n  certbot/certbot:v0.18.2\r\n```\r\n\r\n## I ran this command and it produced this output:\r\n\r\n```\r\n/opt/certbot # certbot certificates\r\nSaving debug log to /var/log/letsencrypt/letsencrypt.log\r\nopenssl not installed, can't check revocation\r\n\r\n-------------------------------------------------------------------------------\r\nFound the following certs:\r\n  Certificate Name: <my cert>\r\n    Domains: <my domain>\r\n    Expiry Date: 2017-12-31 <time> (INVALID: TEST_CERT)\r\n    Certificate Path: /etc/letsencrypt/live/<name>/fullchain.pem\r\n    Private Key Path: /etc/letsencrypt/live/<name>/privkey.pem\r\n-------------------------------------------------------------------------------\r\n```\r\n\r\n## Certbot's behavior differed from what I expected because:\r\n\r\nUnless there's some other issue (image size, openssl version compatibility, etc), I think it would make sense to install openssl into Docker image, so that certificates can be tested for revocation.\r\n\r\n## Here is a Certbot log showing the issue (if available):\r\n###### Logs are stored in `/var/log/letsencrypt` by default. Feel free to redact domains, e-mail and IP addresses as you see fit.\r\n\r\nN/A\r\n\r\n## Here is the relevant nginx server block or Apache virtualhost for the domain I am configuring:\r\n\r\nN/A", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/5154/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/5154/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/5150", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/5150/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/5150/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/5150/events", "html_url": "https://github.com/certbot/certbot/pull/5150", "id": 261798368, "node_id": "MDExOlB1bGxSZXF1ZXN0MTQ0MDAwODA0", "number": 5150, "title": "Fixes #5115", "user": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 261409142, "node_id": "MDU6TGFiZWwyNjE0MDkxNDI=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20renewal", "name": "area: renewal", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "pde", "id": 479213, "node_id": "MDQ6VXNlcjQ3OTIxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/479213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pde", "html_url": "https://github.com/pde", "followers_url": "https://api.github.com/users/pde/followers", "following_url": "https://api.github.com/users/pde/following{/other_user}", "gists_url": "https://api.github.com/users/pde/gists{/gist_id}", "starred_url": "https://api.github.com/users/pde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pde/subscriptions", "organizations_url": "https://api.github.com/users/pde/orgs", "repos_url": "https://api.github.com/users/pde/repos", "events_url": "https://api.github.com/users/pde/events{/privacy}", "received_events_url": "https://api.github.com/users/pde/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "pde", "id": 479213, "node_id": "MDQ6VXNlcjQ3OTIxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/479213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pde", "html_url": "https://github.com/pde", "followers_url": "https://api.github.com/users/pde/followers", "following_url": "https://api.github.com/users/pde/following{/other_user}", "gists_url": "https://api.github.com/users/pde/gists{/gist_id}", "starred_url": "https://api.github.com/users/pde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pde/subscriptions", "organizations_url": "https://api.github.com/users/pde/orgs", "repos_url": "https://api.github.com/users/pde/repos", "events_url": "https://api.github.com/users/pde/events{/privacy}", "received_events_url": "https://api.github.com/users/pde/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/43", "html_url": "https://github.com/certbot/certbot/milestone/43", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/43/labels", "id": 2728510, "node_id": "MDk6TWlsZXN0b25lMjcyODUxMA==", "number": 43, "title": "0.19.0", "description": "", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 45, "state": "closed", "created_at": "2017-08-28T23:39:35Z", "updated_at": "2017-10-05T15:11:05Z", "due_on": "2017-10-04T07:00:00Z", "closed_at": "2017-10-04T23:12:34Z"}, "comments": 0, "created_at": "2017-09-29T23:44:56Z", "updated_at": "2017-10-02T21:34:03Z", "closed_at": "2017-10-02T21:33:49Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/certbot/certbot/pulls/5150", "html_url": "https://github.com/certbot/certbot/pull/5150", "diff_url": "https://github.com/certbot/certbot/pull/5150.diff", "patch_url": "https://github.com/certbot/certbot/pull/5150.patch", "merged_at": "2017-10-02T21:33:49Z"}, "body": "We have to track interaction between flags ourselves.\r\n\r\nI'm planning on adding an integration test for this too once my hook directory PR lands.", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/5150/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/5150/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/certbot/certbot/issues/5119", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/5119/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/5119/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/5119/events", "html_url": "https://github.com/certbot/certbot/issues/5119", "id": 258178425, "node_id": "MDU6SXNzdWUyNTgxNzg0MjU=", "number": 5119, "title": "Redirect vhost not enabled", "user": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 146954788, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODg=", "url": "https://api.github.com/repos/certbot/certbot/labels/duplicate", "name": "duplicate", "color": "a6a6a6", "default": true, "description": null}, {"id": 258836903, "node_id": "MDU6TGFiZWwyNTg4MzY5MDM=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20apache", "name": "area: apache", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-09-15T22:16:09Z", "updated_at": "2017-09-15T22:53:42Z", "closed_at": "2017-09-15T22:53:36Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "## My operating system is (include version):\r\n\r\nUbuntu 16.04\r\n\r\n\r\n## I installed Certbot with (certbot-auto, OS package manager, pip, etc):\r\n\r\nDev instructions\r\n\r\n## I ran this command and it produced this output:\r\n\r\nStarting with the default config on this system, I ran:\r\n```\r\nsudo certbot -d example.org --apache --no-redirect\r\nsudo a2dissite 000-default.conf\r\nsudo rm /etc/apache2/sites-available/000-default.conf\r\nsudo certbot -d example.org --apache --redirect --keep\r\n```\r\n\r\n## Certbot's behavior differed from what I expected because:\r\n\r\nThe redirect vhost is not enabled.\r\n\r\ncc @joohoi ", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/5119/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/5119/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/5115", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/5115/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/5115/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/5115/events", "html_url": "https://github.com/certbot/certbot/issues/5115", "id": 257875472, "node_id": "MDU6SXNzdWUyNTc4NzU0NzI=", "number": 5115, "title": "--deploy-hook value on command line not being used during renewal", "user": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 261409142, "node_id": "MDU6TGFiZWwyNjE0MDkxNDI=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20renewal", "name": "area: renewal", "color": "c5def5", "default": false, "description": null}, {"id": 281347824, "node_id": "MDU6TGFiZWwyODEzNDc4MjQ=", "url": "https://api.github.com/repos/certbot/certbot/labels/has%20pr", "name": "has pr", "color": "0052cc", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/43", "html_url": "https://github.com/certbot/certbot/milestone/43", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/43/labels", "id": 2728510, "node_id": "MDk6TWlsZXN0b25lMjcyODUxMA==", "number": 43, "title": "0.19.0", "description": "", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 45, "state": "closed", "created_at": "2017-08-28T23:39:35Z", "updated_at": "2017-10-05T15:11:05Z", "due_on": "2017-10-04T07:00:00Z", "closed_at": "2017-10-04T23:12:34Z"}, "comments": 0, "created_at": "2017-09-14T22:30:46Z", "updated_at": "2017-10-02T21:33:52Z", "closed_at": "2017-10-02T21:33:52Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "## I ran this command and it produced this output:\r\n```\r\n$ certbot certonly -d example.org --standalone --deploy-hook \"touch foo\"\r\n...\r\n$ certbot renew --force-renewal --deploy-hook \"touch bar\"\r\n...\r\n$ grep bar /etc/letsencrypt/renewal/example.org.conf || echo \"Why wasn't my deploy hook set?\"\r\nWhy wasn't my deploy hook set?\r\n$\r\n```\r\n\r\n## Certbot's behavior differed from what I expected because:\r\nThe deploy hook value should be set. I think this is due to renew hook to deploy hook rename and default detection. I think `certbot.cli.VAR_MODIFIERS` needs to be changed for this interaction to be handled proerply.", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/5115/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/5115/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/5085", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/5085/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/5085/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/5085/events", "html_url": "https://github.com/certbot/certbot/issues/5085", "id": 255946445, "node_id": "MDU6SXNzdWUyNTU5NDY0NDU=", "number": 5085, "title": "certbot-auto permissions error", "user": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 276243379, "node_id": "MDU6TGFiZWwyNzYyNDMzNzk=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20certbot-auto", "name": "area: certbot-auto", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/45", "html_url": "https://github.com/certbot/certbot/milestone/45", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/45/labels", "id": 2751719, "node_id": "MDk6TWlsZXN0b25lMjc1MTcxOQ==", "number": 45, "title": "0.18.1", "description": "Urgent bugfixes for the 0.18.0", "creator": {"login": "pde", "id": 479213, "node_id": "MDQ6VXNlcjQ3OTIxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/479213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pde", "html_url": "https://github.com/pde", "followers_url": "https://api.github.com/users/pde/followers", "following_url": "https://api.github.com/users/pde/following{/other_user}", "gists_url": "https://api.github.com/users/pde/gists{/gist_id}", "starred_url": "https://api.github.com/users/pde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pde/subscriptions", "organizations_url": "https://api.github.com/users/pde/orgs", "repos_url": "https://api.github.com/users/pde/repos", "events_url": "https://api.github.com/users/pde/events{/privacy}", "received_events_url": "https://api.github.com/users/pde/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 5, "state": "closed", "created_at": "2017-09-07T22:05:12Z", "updated_at": "2017-09-19T19:18:22Z", "due_on": null, "closed_at": "2017-09-19T19:18:22Z"}, "comments": 0, "created_at": "2017-09-07T13:57:54Z", "updated_at": "2017-09-08T00:23:58Z", "closed_at": "2017-09-08T00:23:58Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "## My operating system is (include version):\r\n\r\nDebian Stretch (although every OS is affected)\r\n\r\n## I installed Certbot with (certbot-auto, OS package manager, pip, etc):\r\n\r\ncertbot-auto\r\n\r\n## I ran this command and it produced this output:\r\n\r\n```\r\n$ ./certbot-auto                  \r\nUpgrading certbot-auto 0.17.0 to 0.18.0...\r\nReplacing certbot-auto...\r\nCreating virtual environment...\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3/dist-packages/virtualenv.py\", line 2375, in <module>\r\n    main()\r\n  File \"/usr/lib/python3/dist-packages/virtualenv.py\", line 724, in main\r\n    symlink=options.symlink)\r\n  File \"/usr/lib/python3/dist-packages/virtualenv.py\", line 946, in create_environment\r\n    site_packages=site_packages, clear=clear, symlink=symlink))\r\n  File \"/usr/lib/python3/dist-packages/virtualenv.py\", line 1157, in install_python\r\n    mkdir(lib_dir)\r\n  File \"/usr/lib/python3/dist-packages/virtualenv.py\", line 329, in mkdir\r\n    os.makedirs(path)\r\n  File \"/usr/lib/python2.7/os.py\", line 150, in makedirs\r\n    makedirs(head, mode)\r\n  File \"/usr/lib/python2.7/os.py\", line 150, in makedirs\r\n    makedirs(head, mode)\r\n  File \"/usr/lib/python2.7/os.py\", line 150, in makedirs\r\n    makedirs(head, mode)\r\n  File \"/usr/lib/python2.7/os.py\", line 150, in makedirs\r\n    makedirs(head, mode)\r\n  File \"/usr/lib/python2.7/os.py\", line 157, in makedirs\r\n    mkdir(name, mode)\r\nOSError: [Errno 13] Permission denied: '/opt/eff.org'\r\n```\r\n\r\n## Certbot's behavior differed from what I expected because:\r\n\r\nIt crashes.\r\n\r\nThe problem that occurs when upgrading is older versions of `certbot-auto` download a new version of themselves during what's called in the script \"Phase 1\". After this, the script is rerun with `--le-auto-phase2` and the new version of the script assumes that if you're in \"Phase 2\", we've already ensured we have root access. This isn't true when \"Phase 1\" is completed by an older version of the script.", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/5085/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/5085/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/5082", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/5082/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/5082/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/5082/events", "html_url": "https://github.com/certbot/certbot/pull/5082", "id": 255765181, "node_id": "MDExOlB1bGxSZXF1ZXN0MTM5NjgxOTk4", "number": 5082, "title": "Also check new path when determining cli_command", "user": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 200596079, "node_id": "MDU6TGFiZWwyMDA1OTYwNzk=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20ui%20/%20ux", "name": "area: ui / ux", "color": "c5def5", "default": false, "description": null}, {"id": 276243379, "node_id": "MDU6TGFiZWwyNzYyNDMzNzk=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20certbot-auto", "name": "area: certbot-auto", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/45", "html_url": "https://github.com/certbot/certbot/milestone/45", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/45/labels", "id": 2751719, "node_id": "MDk6TWlsZXN0b25lMjc1MTcxOQ==", "number": 45, "title": "0.18.1", "description": "Urgent bugfixes for the 0.18.0", "creator": {"login": "pde", "id": 479213, "node_id": "MDQ6VXNlcjQ3OTIxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/479213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pde", "html_url": "https://github.com/pde", "followers_url": "https://api.github.com/users/pde/followers", "following_url": "https://api.github.com/users/pde/following{/other_user}", "gists_url": "https://api.github.com/users/pde/gists{/gist_id}", "starred_url": "https://api.github.com/users/pde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pde/subscriptions", "organizations_url": "https://api.github.com/users/pde/orgs", "repos_url": "https://api.github.com/users/pde/repos", "events_url": "https://api.github.com/users/pde/events{/privacy}", "received_events_url": "https://api.github.com/users/pde/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 5, "state": "closed", "created_at": "2017-09-07T22:05:12Z", "updated_at": "2017-09-19T19:18:22Z", "due_on": null, "closed_at": "2017-09-19T19:18:22Z"}, "comments": 0, "created_at": "2017-09-06T22:50:01Z", "updated_at": "2017-09-08T20:33:11Z", "closed_at": "2017-09-07T03:22:28Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/certbot/certbot/pulls/5082", "html_url": "https://github.com/certbot/certbot/pull/5082", "diff_url": "https://github.com/certbot/certbot/pull/5082.diff", "patch_url": "https://github.com/certbot/certbot/pull/5082.patch", "merged_at": "2017-09-07T03:22:28Z"}, "body": "Fixes user-agent string and help/error message output when the new certbot-auto path is used.\r\n\r\nI'm planning on adding the following to  `tests/letstest/scripts/test_letsencrypt_auto_certonly_standalone.sh` prevent future regressions:\r\n```\r\nif ! letsencrypt-auto --help | grep -F \"letsencrypt-auto [SUBCOMMAND]\"; then\r\n    echo \"letsencrypt-auto not included in help output!\"\r\n    exit 1\r\nfi\r\n```", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/5082/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/5082/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/certbot/certbot/issues/5056", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/5056/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/5056/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/5056/events", "html_url": "https://github.com/certbot/certbot/issues/5056", "id": 252980841, "node_id": "MDU6SXNzdWUyNTI5ODA4NDE=", "number": 5056, "title": "Make rollback respect --nginx cli flag.", "user": {"login": "ohemorange", "id": 1227205, "node_id": "MDQ6VXNlcjEyMjcyMDU=", "avatar_url": "https://avatars.githubusercontent.com/u/1227205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ohemorange", "html_url": "https://github.com/ohemorange", "followers_url": "https://api.github.com/users/ohemorange/followers", "following_url": "https://api.github.com/users/ohemorange/following{/other_user}", "gists_url": "https://api.github.com/users/ohemorange/gists{/gist_id}", "starred_url": "https://api.github.com/users/ohemorange/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ohemorange/subscriptions", "organizations_url": "https://api.github.com/users/ohemorange/orgs", "repos_url": "https://api.github.com/users/ohemorange/repos", "events_url": "https://api.github.com/users/ohemorange/events{/privacy}", "received_events_url": "https://api.github.com/users/ohemorange/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/42", "html_url": "https://github.com/certbot/certbot/milestone/42", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/42/labels", "id": 2632977, "node_id": "MDk6TWlsZXN0b25lMjYzMjk3Nw==", "number": 42, "title": "0.18.0", "description": "", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 35, "state": "closed", "created_at": "2017-07-10T21:51:09Z", "updated_at": "2017-12-06T04:07:06Z", "due_on": "2017-09-07T07:00:00Z", "closed_at": "2017-09-06T20:29:50Z"}, "comments": 3, "created_at": "2017-08-25T18:18:09Z", "updated_at": "2017-08-25T18:35:41Z", "closed_at": "2017-08-25T18:35:41Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "It currently ignores the `--nginx` flag. It might also ignore `--apache`, or other forms of choosing the plugin.\r\n\r\nWe should also make sure that this all works as expected given the method we used to unhide Nginx.", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/5056/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/5056/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/5033", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/5033/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/5033/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/5033/events", "html_url": "https://github.com/certbot/certbot/issues/5033", "id": 250776370, "node_id": "MDU6SXNzdWUyNTA3NzYzNzA=", "number": 5033, "title": "Segfaults in openssl", "user": {"login": "herriett", "id": 7909780, "node_id": "MDQ6VXNlcjc5MDk3ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/7909780?v=4", "gravatar_id": "", "url": "https://api.github.com/users/herriett", "html_url": "https://github.com/herriett", "followers_url": "https://api.github.com/users/herriett/followers", "following_url": "https://api.github.com/users/herriett/following{/other_user}", "gists_url": "https://api.github.com/users/herriett/gists{/gist_id}", "starred_url": "https://api.github.com/users/herriett/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/herriett/subscriptions", "organizations_url": "https://api.github.com/users/herriett/orgs", "repos_url": "https://api.github.com/users/herriett/repos", "events_url": "https://api.github.com/users/herriett/events{/privacy}", "received_events_url": "https://api.github.com/users/herriett/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 146954790, "node_id": "MDU6TGFiZWwxNDY5NTQ3OTA=", "url": "https://api.github.com/repos/certbot/certbot/labels/help%20wanted", "name": "help wanted", "color": "159818", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 19, "created_at": "2017-08-16T22:17:54Z", "updated_at": "2019-09-28T08:54:39Z", "closed_at": "2017-10-31T18:30:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "## My operating system is (include version):\r\nGentoo-current\r\n\r\n## I installed Certbot with (certbot-auto, OS package manager, pip, etc):\r\nemerge -avuDN =app-crypt/certbot-0.15.0\r\n\r\n## I ran this command and it produced this output:\r\nstrace certbot -v certonly -d multiple -d valid -d domains\r\nThe same happens without strace of course, then without the trace output.\r\n\r\n## Certbot's behavior differed from what I expected because:\r\nIt segfaulted:\r\ncertbot[4183]: segfault at 7f21ec4fe9b0 ip 00007f21ec4fe9b0 sp 00007ffdec8c2608 error 15 in _openssl.abi3.so[7f21ec4f7000+8000]\r\n\r\n## Here is a Certbot log showing the issue (if available):\r\n###### Logs are stored in `/var/log/letsencrypt` by default. Feel free to redact domains, e-mail and IP addresses as you see fit.\r\n017-08-16 22:05:29,052:DEBUG:certbot.main:certbot version: 0.15.0\r\n2017-08-16 22:05:29,054:DEBUG:certbot.main:Arguments: ['-v', '-d', 'xxxxx.net', '-d', 'cloud.xxxxx.net', '-d', 'dyn.xxxxx.net', '-d', 'imap.xxxxx.net', '-d', 'mail.xxxxx.net', '-d', 'xxxx.de', '-d', 'smtp.xxxxxx.net', '-d', 'static.xxxxxxxx.net', '-d', 'ldap.xxxxxxxxxxx.net', '-d', 'sql.xxxxxxxxx.net', '-d', 'www.xxxxxxxx.net']\r\n2017-08-16 22:05:29,054:DEBUG:certbot.main:Discovered plugins: PluginsRegistry(PluginEntryPoint#apache,PluginEntryPoint#manual,PluginEntryPoint#null,PluginEntryPoint#standalone,PluginEntryPoint#webroot)\r\n2017-08-16 22:05:29,176:DEBUG:certbot.log:Root logging level set at 10\r\n2017-08-16 22:05:29,179:INFO:certbot.log:Saving debug log to /var/log/letsencrypt/letsencrypt.log\r\n2017-08-16 22:05:29,182:DEBUG:certbot.plugins.selection:Requested authenticator None and installer None\r\n2017-08-16 22:05:29,515:DEBUG:certbot_apache.configurator:Apache version is 2.4.27\r\n2017-08-16 22:05:30,806:DEBUG:certbot.plugins.selection:Multiple candidate plugins: * apache\r\nDescription: Apache Web Server plugin - Beta\r\nInterfaces: IAuthenticator, IInstaller, IPlugin\r\nEntry point: apache = certbot_apache.configurator:ApacheConfigurator\r\nInitialized: <certbot_apache.configurator.ApacheConfigurator object at 0x7f02ce0a0860>\r\nPrep: True\r\n\r\n* standalone\r\nDescription: Spin up a temporary webserver\r\nInterfaces: IAuthenticator, IPlugin\r\nEntry point: standalone = certbot.plugins.standalone:Authenticator\r\nInitialized: <certbot.plugins.standalone.Authenticator object at 0x7f02ce0ae240>\r\nPrep: True\r\n\r\n* webroot\r\nDescription: Place files in webroot directory\r\nInterfaces: IAuthenticator, IPlugin\r\nEntry point: webroot = certbot.plugins.webroot:Authenticator\r\nInitialized: <certbot.plugins.webroot.Authenticator object at 0x7f02cd40fb70>\r\nPrep: True\r\n2017-08-16 22:05:36,596:DEBUG:certbot.plugins.selection:Selected authenticator <certbot_apache.configurator.ApacheConfigurator object at 0x7f02ce0a0860> and installer None\r\n2017-08-16 22:05:36,781:DEBUG:certbot.main:Picked account: <Account(RegistrationResource(new_authzr_uri='https://acme-v01.api.letsencrypt.org/acme/new-authz', body=Registration(agreement='https://letsencrypt.org/documents/LE-SA-v1.1.1-August-1-2016.pdf', contact=('mailto:www@xxxxx.net',), status=None, key=xxxxx(key=<ComparableRSAKey(<cryptography.hazmat.backends.openssl.rsa._RSAPublicKey object at 0xxxxxxxx>)>)), terms_of_service='https://letsencrypt.org/documents/LE-SA-v1.1.1-August-1-2016.pdf', uri='https://acme-v01.api.letsencrypt.org/acme/reg/xxxxxxxx'), xxxxxxxxxxxx, Meta(creation_host='xxxxxx.xxxxx.net', creation_dt=datetime.datetime(2016, xx, xx, xx, xx, tzinfo=<UTC>)))>\r\n2017-08-16 22:05:36,789:DEBUG:acme.client:Sending GET request to https://acme-v01.api.letsencrypt.org/directory.\r\n2017-08-16 22:05:36,808:INFO:requests.packages.urllib3.connectionpool:Starting new HTTPS connection (1): acme-v01.api.letsencrypt.org\r\n--> here it segfaults and stopped logging\r\n\r\n## Here is the relevant nginx server block or Apache virtualhost for the domain I am configuring:\r\nNot relevant as it happens also in webroot mode\r\n\r\n## Here is the last lines from strace\r\ngetsockopt(10, SOL_SOCKET, SO_TYPE, [1], [4]) = 0\r\nioctl(10, FIONBIO, [1])                 = 0\r\ngetpeername(10, {sa_family=AF_INET, sin_port=htons(443), sin_addr=inet_addr(\"88.221.71.152\")}, [16]) = 0\r\ngetrandom(\"\\x0a\\xcf\\xa8\\x11\\x06\\xb2\\xc1\\x39\\xd7\\x7a\\x7a\\x95\\xfc\\xf2\\x7a\\x80\\xd4\\xc9\\x69\\x15\\xd4\\xbb\\xff\\xd4\\x49\\xc6\\x47\\x07\\x2b\\x4b\\x8c\\x8a\", 32, GRND_NONBLOCK) = 32\r\nwrite(10, \"\\26\\3\\1\\2\\0\\1\\0\\1\\374\\3\\3\\n\\317\\250\\21\\6\\262\\3019\\327zz\\225\\374\\362z\\200\\324\\311i\\25\\324\"..., 517) = 517\r\nread(10, 0xf03d9ad240, 7)               = -1 EAGAIN (Resource temporarily unavailable)\r\npoll([{fd=10, events=POLLIN}], 1, 45000) = 1 ([{fd=10, revents=POLLIN}])\r\nread(10, \"\\26\\3\\3\\0A\\2\\0\", 7)           = 7\r\nread(10, \"\\0=\\3\\3\\370\\36\\322\\324D\\22\\242\\302\\376\\234\\375\\322\\31\\272\\374\\246\\311\\311\\371\\10\\3404\\36\\246,\\316<\\317\"..., 63) = 63\r\nread(10, \"\\26\\3\\3\\24\\231\", 5)           = 5\r\nread(10, \"\\v\\0\\24\\225\\0\\24\\222\\0\\7\\0230\\202\\7\\0170\\202\\5\\367\\240\\3\\2\\1\\2\\2\\20\\177\\0\\0\\1\\0\\0\\1\"..., 5273) = 1373\r\nread(10, 0xf03d9ad7a5, 3900)            = -1 EAGAIN (Resource temporarily unavailable)\r\npoll([{fd=10, events=POLLIN}], 1, 45000) = 1 ([{fd=10, revents=POLLIN}])\r\nread(10, \"ttp://validation.identrust.com/c\"..., 3900) = 2648\r\nread(10, \"#\\33]3\\23\\22]\\304\\1%\\3660\\335\\2]\\237\\340\\325G\\275\\264\\353\\33\\241\\273II\\330\\237[\\2\\363\"..., 1252) = 1252\r\nread(10, \"\\26\\3\\3\\1M\", 5)               = 5\r\nread(10, \"\\f\\0\\1I\\3\\0\\27A\\4b\\324\\357x\\10V\\1\\236$4\\32\\321u\\33?\\225}7\\v\\305\\36/\\7\"..., 333) = 191\r\nread(10, 0xf03d9ad307, 142)             = -1 EAGAIN (Resource temporarily unavailable)\r\npoll([{fd=10, events=POLLIN}], 1, 45000) = 1 ([{fd=10, revents=POLLIN}])\r\nread(10, \"\\324\\361\\354\\211\\0058\\205\\373\\205\\343g\\31\\271P\\rQ\\37\\275\\263\\230\\372E\\331\\36;\\261C\\243\\215b\\6\\317\"..., 142) = 142\r\n--- SIGSEGV {si_signo=SIGSEGV, si_code=SEGV_ACCERR, si_addr=0x7f02ced1d9b0} ---\r\n+++ killed by SIGSEGV +++\r\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/5033/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/5033/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/4999", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/4999/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/4999/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/4999/events", "html_url": "https://github.com/certbot/certbot/issues/4999", "id": 248489696, "node_id": "MDU6SXNzdWUyNDg0ODk2OTY=", "number": 4999, "title": "nginx plugin not properly handling directives inherited from outside of the server block", "user": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 258836706, "node_id": "MDU6TGFiZWwyNTg4MzY3MDY=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20nginx", "name": "area: nginx", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/8", "html_url": "https://github.com/certbot/certbot/milestone/8", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/8/labels", "id": 1353913, "node_id": "MDk6TWlsZXN0b25lMTM1MzkxMw==", "number": 8, "title": "Important", "description": "This milestone was for things someone on the Certbot team considered necessary for the client to be out of beta, but it's become something of a holding place for many kinds of polishing tickets, and will probably need to be triaged further.", "creator": {"login": "pde", "id": 479213, "node_id": "MDQ6VXNlcjQ3OTIxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/479213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pde", "html_url": "https://github.com/pde", "followers_url": "https://api.github.com/users/pde/followers", "following_url": "https://api.github.com/users/pde/following{/other_user}", "gists_url": "https://api.github.com/users/pde/gists{/gist_id}", "starred_url": "https://api.github.com/users/pde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pde/subscriptions", "organizations_url": "https://api.github.com/users/pde/orgs", "repos_url": "https://api.github.com/users/pde/repos", "events_url": "https://api.github.com/users/pde/events{/privacy}", "received_events_url": "https://api.github.com/users/pde/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 160, "state": "closed", "created_at": "2015-10-13T19:41:13Z", "updated_at": "2020-03-20T18:56:33Z", "due_on": null, "closed_at": "2020-03-20T18:56:33Z"}, "comments": 1, "created_at": "2017-08-07T18:14:43Z", "updated_at": "2017-12-18T20:35:48Z", "closed_at": "2017-12-18T20:35:48Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Reported by @src386 [here](https://github.com/certbot/certbot/issues/4132#issuecomment-320610552):\r\n\r\nIn an nginx config, if you specify `server_names_hash_bucket_size` outside of a `server` block, we'll fail the challenge. This is because we only search for the directive in the specific server block rather than checking if it was inherited from elsewhere in the config.\r\n\r\nWhile we could do something like removing the directive if we fail to restart nginx after adding it and trying again, the correct solution would be a dramatic change in our parser to be able to properly handle inherited directives.\r\n\r\ncc @ohemorange ", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/4999/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/4999/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/4919", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/4919/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/4919/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/4919/events", "html_url": "https://github.com/certbot/certbot/issues/4919", "id": 241985749, "node_id": "MDU6SXNzdWUyNDE5ODU3NDk=", "number": 4919, "title": "Nginx plugin not able to get version number from openresty nginx binary", "user": {"login": "phoenixgao", "id": 853338, "node_id": "MDQ6VXNlcjg1MzMzOA==", "avatar_url": "https://avatars.githubusercontent.com/u/853338?v=4", "gravatar_id": "", "url": "https://api.github.com/users/phoenixgao", "html_url": "https://github.com/phoenixgao", "followers_url": "https://api.github.com/users/phoenixgao/followers", "following_url": "https://api.github.com/users/phoenixgao/following{/other_user}", "gists_url": "https://api.github.com/users/phoenixgao/gists{/gist_id}", "starred_url": "https://api.github.com/users/phoenixgao/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/phoenixgao/subscriptions", "organizations_url": "https://api.github.com/users/phoenixgao/orgs", "repos_url": "https://api.github.com/users/phoenixgao/repos", "events_url": "https://api.github.com/users/phoenixgao/events{/privacy}", "received_events_url": "https://api.github.com/users/phoenixgao/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 258836706, "node_id": "MDU6TGFiZWwyNTg4MzY3MDY=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20nginx", "name": "area: nginx", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "ohemorange", "id": 1227205, "node_id": "MDQ6VXNlcjEyMjcyMDU=", "avatar_url": "https://avatars.githubusercontent.com/u/1227205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ohemorange", "html_url": "https://github.com/ohemorange", "followers_url": "https://api.github.com/users/ohemorange/followers", "following_url": "https://api.github.com/users/ohemorange/following{/other_user}", "gists_url": "https://api.github.com/users/ohemorange/gists{/gist_id}", "starred_url": "https://api.github.com/users/ohemorange/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ohemorange/subscriptions", "organizations_url": "https://api.github.com/users/ohemorange/orgs", "repos_url": "https://api.github.com/users/ohemorange/repos", "events_url": "https://api.github.com/users/ohemorange/events{/privacy}", "received_events_url": "https://api.github.com/users/ohemorange/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ohemorange", "id": 1227205, "node_id": "MDQ6VXNlcjEyMjcyMDU=", "avatar_url": "https://avatars.githubusercontent.com/u/1227205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ohemorange", "html_url": "https://github.com/ohemorange", "followers_url": "https://api.github.com/users/ohemorange/followers", "following_url": "https://api.github.com/users/ohemorange/following{/other_user}", "gists_url": "https://api.github.com/users/ohemorange/gists{/gist_id}", "starred_url": "https://api.github.com/users/ohemorange/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ohemorange/subscriptions", "organizations_url": "https://api.github.com/users/ohemorange/orgs", "repos_url": "https://api.github.com/users/ohemorange/repos", "events_url": "https://api.github.com/users/ohemorange/events{/privacy}", "received_events_url": "https://api.github.com/users/ohemorange/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/50", "html_url": "https://github.com/certbot/certbot/milestone/50", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/50/labels", "id": 3067228, "node_id": "MDk6TWlsZXN0b25lMzA2NzIyOA==", "number": 50, "title": "0.23.0", "description": "", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 28, "state": "closed", "created_at": "2018-01-26T19:34:25Z", "updated_at": "2018-04-16T06:23:35Z", "due_on": "2018-04-04T07:00:00Z", "closed_at": "2018-04-04T01:52:28Z"}, "comments": 4, "created_at": "2017-07-11T09:37:00Z", "updated_at": "2018-04-04T01:44:36Z", "closed_at": "2018-03-23T00:50:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "## My operating system is (include version):\r\nUbuntu 16.04\r\n\r\n## I installed Certbot with (certbot-auto, OS package manager, pip, etc):\r\ncertbot-auto\r\n\r\n## I ran this command and it produced this output:\r\n`certbot-auto certonly --nginx`\r\n```\r\nError: invalid literal for int() with base 10: ''\r\n```\r\nThis is because in the nginx configurator code:\r\nhttps://github.com/certbot/certbot/blob/master/certbot-nginx/certbot_nginx/configurator.py#L649\r\n\r\nit uses regex `version_regex = re.compile(r\"nginx/([0-9\\.]*)\", re.IGNORECASE)` but the version number of openresty nginx is like `nginx version: openresty/1.11.2.2`\r\n\r\n\r\n## Certbot's behavior differed from what I expected because:\r\nnginx plugin should support openresty or prompt it doesn't support\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/4919/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/4919/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/4918", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/4918/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/4918/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/4918/events", "html_url": "https://github.com/certbot/certbot/issues/4918", "id": 241887647, "node_id": "MDU6SXNzdWUyNDE4ODc2NDc=", "number": 4918, "title": "Certbot fails to retrieve domains of previous certificate when SAN is a critical extension", "user": {"login": "tr1ck3r", "id": 16727476, "node_id": "MDQ6VXNlcjE2NzI3NDc2", "avatar_url": "https://avatars.githubusercontent.com/u/16727476?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tr1ck3r", "html_url": "https://github.com/tr1ck3r", "followers_url": "https://api.github.com/users/tr1ck3r/followers", "following_url": "https://api.github.com/users/tr1ck3r/following{/other_user}", "gists_url": "https://api.github.com/users/tr1ck3r/gists{/gist_id}", "starred_url": "https://api.github.com/users/tr1ck3r/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tr1ck3r/subscriptions", "organizations_url": "https://api.github.com/users/tr1ck3r/orgs", "repos_url": "https://api.github.com/users/tr1ck3r/repos", "events_url": "https://api.github.com/users/tr1ck3r/events{/privacy}", "received_events_url": "https://api.github.com/users/tr1ck3r/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 210831837, "node_id": "MDU6TGFiZWwyMTA4MzE4Mzc=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20cert%20management", "name": "area: cert management", "color": "c5def5", "default": false, "description": null}, {"id": 277074172, "node_id": "MDU6TGFiZWwyNzcwNzQxNzI=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20acme", "name": "area: acme", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/41", "html_url": "https://github.com/certbot/certbot/milestone/41", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/41/labels", "id": 2570267, "node_id": "MDk6TWlsZXN0b25lMjU3MDI2Nw==", "number": 41, "title": "0.17.0", "description": "", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 30, "state": "closed", "created_at": "2017-06-07T20:46:49Z", "updated_at": "2017-09-01T14:57:39Z", "due_on": "2017-08-02T07:00:00Z", "closed_at": "2017-08-02T20:59:06Z"}, "comments": 5, "created_at": "2017-07-11T00:12:39Z", "updated_at": "2017-07-18T22:57:11Z", "closed_at": "2017-07-18T22:57:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "## My operating system is (include version):\r\nCentOS 6 and CentOS 7\r\n\r\n## I installed Certbot with (certbot-auto, OS package manager, pip, etc):\r\nFor CentOS6 (certbot-auto):  https://certbot.eff.org/all-instructions/#centos-6-none-of-the-above\r\nFor CentOS7 (yum):  https://certbot.eff.org/all-instructions/#centos-rhel-7-none-of-the-above\r\n\r\nCurrently using certbot 0.14.1 on CentOS 7 and certbot-auto 0.16.0 on CentOS 6.\r\n\r\n## I ran this command and it produced this output:\r\ncertbot certonly --manual--cert-name cubs --domains chicago-cubs.venafi.example,cubs.venafi.example\r\n\r\n_(note: non-Let's Encrypt ACME server specified in /etc/letsencrypt/cli.ini)_\r\n\r\n```\r\nSaving debug log to /var/log/letsencrypt/letsencrypt.log\r\nStarting new HTTPS connection (1): tpp.venafi.example\r\n\r\n-------------------------------------------------------------------------------\r\nConfirm that you intend to update certificate cubs to include domains\r\n[u'chicago-cubs.venafi.example', u'cubs.venafi.example']. Note that it\r\npreviously contained domains [].\r\n-------------------------------------------------------------------------------\r\n```\r\n\r\n## Certbot's behavior differed from what I expected because:\r\nIt appears that certbot is unable to parse domains from the previous certificate when it has no CN and the DNS SANs are a critical extension.  Symptom is the unexpected prompt shown above (applicable [previous_cert_pem.txt](https://github.com/certbot/certbot/files/1137352/previous_cert_pem.txt)).\r\n\r\n\r\n## Background\r\nVenafi has introduced an ACME server interface in Trust Protection Platform 17.2 and the common application involves using certbot to obtain certificates from an enterprise PKI.  Microsoft's Active Directory Certifiate Services (ADCS) is a very popular enterprise PKI and when it enrolls a certificate request that lacks a Subject DN (has only SANs) the subjectAltName (2.5.29.17) extension is always critical.  This behavior is consistent with [Section 4.2.1.6 of RFC 5280](https://tools.ietf.org/html/rfc5280#section-4.2.1.6) which states \"If the subject field contains an empty sequence, then the issuing CA MUST include a subjectAltName extension that is marked as critical.\"\r\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/4918/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/4918/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/4900", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/4900/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/4900/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/4900/events", "html_url": "https://github.com/certbot/certbot/issues/4900", "id": 240347678, "node_id": "MDU6SXNzdWUyNDAzNDc2Nzg=", "number": 4900, "title": "Hook errors from dry-run", "user": {"login": "TheoJL", "id": 5908718, "node_id": "MDQ6VXNlcjU5MDg3MTg=", "avatar_url": "https://avatars.githubusercontent.com/u/5908718?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TheoJL", "html_url": "https://github.com/TheoJL", "followers_url": "https://api.github.com/users/TheoJL/followers", "following_url": "https://api.github.com/users/TheoJL/following{/other_user}", "gists_url": "https://api.github.com/users/TheoJL/gists{/gist_id}", "starred_url": "https://api.github.com/users/TheoJL/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TheoJL/subscriptions", "organizations_url": "https://api.github.com/users/TheoJL/orgs", "repos_url": "https://api.github.com/users/TheoJL/repos", "events_url": "https://api.github.com/users/TheoJL/events{/privacy}", "received_events_url": "https://api.github.com/users/TheoJL/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 200587469, "node_id": "MDU6TGFiZWwyMDA1ODc0Njk=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20debian%20/%20ubuntu", "name": "area: debian / ubuntu", "color": "c5def5", "default": false, "description": null}, {"id": 261409142, "node_id": "MDU6TGFiZWwyNjE0MDkxNDI=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20renewal", "name": "area: renewal", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/43", "html_url": "https://github.com/certbot/certbot/milestone/43", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/43/labels", "id": 2728510, "node_id": "MDk6TWlsZXN0b25lMjcyODUxMA==", "number": 43, "title": "0.19.0", "description": "", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 45, "state": "closed", "created_at": "2017-08-28T23:39:35Z", "updated_at": "2017-10-05T15:11:05Z", "due_on": "2017-10-04T07:00:00Z", "closed_at": "2017-10-04T23:12:34Z"}, "comments": 5, "created_at": "2017-07-04T08:26:41Z", "updated_at": "2017-09-13T23:40:47Z", "closed_at": "2017-09-13T23:40:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "I've just upgraded to Certbot 0.14.2 and in the middle of the upgrade I got this message that said _\"The default certbot cron hooks have been disabled!\"_. I don't really know what that means. \r\nUsing **certbot renew --dry-run** will output some errors regarding the hooks, so something must have happened here I guess? \r\n\r\nMy crontab looks like this \r\n`0 0 * * * certbot renew --post-hook \"service apache2 reload\" >> /var/log/le-renew.log`\r\n\r\n## My operating system is (include version):\r\nUbuntu 16.04.2\r\nApache 2.4.18\r\nCertbot 0.14.2\r\n\r\n## I installed Certbot with (certbot-auto, OS package manager, pip, etc):\r\nI believe it was certbot-auto\r\n\r\n## I ran this command and it produced this output:\r\nsudo certbot renew --dry-run\r\n\r\n```-------------------------------------------------------------------------------\r\nProcessing /etc/letsencrypt/renewal/www.testsite.se.conf\r\n-------------------------------------------------------------------------------\r\nCert not due for renewal, but simulating renewal for dry run\r\nRunning pre-hook command: /bin/run-parts /etc/letsencrypt/pre-hook.d/\r\nHook command \"/bin/run-parts /etc/letsencrypt/pre-hook.d/\" returned error code 1\r\nError output from run-parts:\r\nrun-parts: failed to open directory /etc/letsencrypt/pre-hook.d/: No such file or directory\r\n\r\nRenewing an existing certificate\r\nPerforming the following challenges:\r\ntls-sni-01 challenge for www.testsite.se\r\nWaiting for verification...\r\nCleaning up challenges\r\nDry run: skipping renewal hook command: /bin/run-parts /etc/letsencrypt/renew-hook.d/\r\n\r\n-------------------------------------------------------------------------------\r\nnew certificate deployed with reload of apache server; fullchain is\r\n/etc/letsencrypt/live/www.testsite.se/fullchain.pem\r\n-------------------------------------------------------------------------------\r\n** DRY RUN: simulating 'certbot renew' close to cert expiry\r\n**          (The test certificates below have not been saved.)\r\n\r\nCongratulations, all renewals succeeded. The following certs have been renewed:\r\n  /etc/letsencrypt/live/www.testsite.se/fullchain.pem (success)\r\n** DRY RUN: simulating 'certbot renew' close to cert expiry\r\n**          (The test certificates above have not been saved.)\r\nRunning post-hook command: /bin/run-parts /etc/letsencrypt/post-hook.d/\r\nHook command \"/bin/run-parts /etc/letsencrypt/post-hook.d/\" returned error code 1\r\nError output from run-parts:\r\nrun-parts: failed to open directory /etc/letsencrypt/post-hook.d/: No such file or directory\r\n```\r\nThere are some errors in this output\r\n\r\n\r\n## Certbot's behavior differed from what I expected because:\r\nYes, there shouldn't be hook errors in my output above, right?\r\n\r\n## Here is a Certbot log showing the issue (if available):\r\n###### Logs are stored in `/var/log/letsencrypt` by default. Feel free to redact domains, e-mail and IP addresses as you see fit.\r\nIf you need the log I'll share it. \r\n\r\n## Here is the relevant nginx server block or Apache virtualhost for the domain I am configuring:\r\nnot relevant", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/4900/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/4900/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/4846", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/4846/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/4846/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/4846/events", "html_url": "https://github.com/certbot/certbot/issues/4846", "id": 236620298, "node_id": "MDU6SXNzdWUyMzY2MjAyOTg=", "number": 4846, "title": "Nginx fails when --dry-run is provided", "user": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 258836706, "node_id": "MDU6TGFiZWwyNTg4MzY3MDY=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20nginx", "name": "area: nginx", "color": "c5def5", "default": false, "description": null}, {"id": 281347824, "node_id": "MDU6TGFiZWwyODEzNDc4MjQ=", "url": "https://api.github.com/repos/certbot/certbot/labels/has%20pr", "name": "has pr", "color": "0052cc", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/38", "html_url": "https://github.com/certbot/certbot/milestone/38", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/38/labels", "id": 2501130, "node_id": "MDk6TWlsZXN0b25lMjUwMTEzMA==", "number": 38, "title": "0.16.0", "description": "", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 28, "state": "closed", "created_at": "2017-05-04T20:40:14Z", "updated_at": "2017-09-25T19:03:23Z", "due_on": "2017-07-05T07:00:00Z", "closed_at": "2017-07-10T21:38:13Z"}, "comments": 0, "created_at": "2017-06-16T23:22:12Z", "updated_at": "2017-06-30T12:10:56Z", "closed_at": "2017-06-30T12:10:56Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "This is because `certbot.crypto_util.init_save_key` doesn't actually save they key if `--dry-run` is provided as an attempt to resolve #2495.\r\n\r\ncc @ohemorange ", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/4846/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/4846/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/4837", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/4837/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/4837/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/4837/events", "html_url": "https://github.com/certbot/certbot/issues/4837", "id": 236022838, "node_id": "MDU6SXNzdWUyMzYwMjI4Mzg=", "number": 4837, "title": "Properly handle installing certs/keys into an SSL vhost without cert and key directives", "user": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 146954789, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODk=", "url": "https://api.github.com/repos/certbot/certbot/labels/feature%20request", "name": "feature request", "color": "00ccff", "default": false, "description": null}, {"id": 258836903, "node_id": "MDU6TGFiZWwyNTg4MzY5MDM=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20apache", "name": "area: apache", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/43", "html_url": "https://github.com/certbot/certbot/milestone/43", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/43/labels", "id": 2728510, "node_id": "MDk6TWlsZXN0b25lMjcyODUxMA==", "number": 43, "title": "0.19.0", "description": "", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 45, "state": "closed", "created_at": "2017-08-28T23:39:35Z", "updated_at": "2017-10-05T15:11:05Z", "due_on": "2017-10-04T07:00:00Z", "closed_at": "2017-10-04T23:12:34Z"}, "comments": 0, "created_at": "2017-06-14T22:04:15Z", "updated_at": "2017-09-25T19:03:51Z", "closed_at": "2017-09-25T19:03:10Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "## My operating system is (include version):\r\n\r\nUbuntu 16.04\r\n\r\n## I installed Certbot with (certbot-auto, OS package manager, pip, etc):\r\n\r\nDev instructions\r\n\r\n## I ran this command and it produced this output:\r\n\r\nStarting with the default Apache config on this system, I removed the `SSLCertificateFile` and `SSLCertificateKeyFile` directives from `/etc/apache2/sites-available/default-ssl.conf` and put them in `/etc/apache2/apache2.conf`. Then I ran:\r\n```\r\nsudo rm /etc/apache2/sites-*/000-default.conf\r\nsudo a2enmod ssl\r\nsudo a2ensite default-ssl.conf\r\nsudo certbot -d example.com --apache\r\n```\r\n\r\n## Certbot's behavior differed from what I expected because:\r\n\r\nThis configuration is technically valid so we should ideally support it. The problem is we mark the vhost as SSL and assume cert and key directives exist in the file when they technically could be in the top level configuration.\r\n\r\n## Here is a Certbot log showing the issue (if available):\r\n###### Logs are stored in `/var/log/letsencrypt` by default. Feel free to redact domains, e-mail and IP addresses as you see fit.\r\nThe relevant log output is:\r\n```\r\nCannot find a cert or key directive in /files/etc/apache2/sites-available/default-ssl.conf/IfModule/VirtualHost. VirtualHost was not modified\r\nEncountered exception:\r\nTraceback (most recent call last):\r\n  File \"/home/bmw/src/certbot/certbot/client.py\", line 439, in deploy_certificate\r\n    fullchain_path=fullchain_path)\r\n  File \"/home/bmw/src/certbot/certbot-apache/certbot_apache/configurator.py\", line 269, in deploy_cert\r\n    \"Unable to find cert and/or key directives\")\r\nPluginError: Unable to find cert and/or key directives\r\n\r\nCalling registered functions\r\nReporting to user: Unable to install the certificate\r\nExiting abnormally:\r\nTraceback (most recent call last):\r\n  File \"/usr/local/bin/certbot\", line 11, in <module>\r\n    load_entry_point('certbot', 'console_scripts', 'certbot')()\r\n  File \"/home/bmw/src/certbot/certbot/main.py\", line 743, in main\r\n    return config.func(config, plugins)\r\n  File \"/home/bmw/src/certbot/certbot/main.py\", line 604, in run\r\n    _install_cert(config, le_client, domains, new_lineage)\r\n  File \"/home/bmw/src/certbot/certbot/main.py\", line 469, in _install_cert\r\n    path_provider.cert_path, path_provider.chain_path, path_provider.fullchain_path)\r\n  File \"/home/bmw/src/certbot/certbot/client.py\", line 439, in deploy_certificate\r\n    fullchain_path=fullchain_path)\r\n  File \"/home/bmw/src/certbot/certbot-apache/certbot_apache/configurator.py\", line 269, in deploy_cert\r\n    \"Unable to find cert and/or key directives\")\r\nPluginError: Unable to find cert and/or key directives\r\n```", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/4837/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/4837/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/4775", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/4775/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/4775/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/4775/events", "html_url": "https://github.com/certbot/certbot/issues/4775", "id": 233411561, "node_id": "MDU6SXNzdWUyMzM0MTE1NjE=", "number": 4775, "title": "'ascii' codec can't encode characters in position 307-309", "user": {"login": "978740431", "id": 11803404, "node_id": "MDQ6VXNlcjExODAzNDA0", "avatar_url": "https://avatars.githubusercontent.com/u/11803404?v=4", "gravatar_id": "", "url": "https://api.github.com/users/978740431", "html_url": "https://github.com/978740431", "followers_url": "https://api.github.com/users/978740431/followers", "following_url": "https://api.github.com/users/978740431/following{/other_user}", "gists_url": "https://api.github.com/users/978740431/gists{/gist_id}", "starred_url": "https://api.github.com/users/978740431/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/978740431/subscriptions", "organizations_url": "https://api.github.com/users/978740431/orgs", "repos_url": "https://api.github.com/users/978740431/repos", "events_url": "https://api.github.com/users/978740431/events{/privacy}", "received_events_url": "https://api.github.com/users/978740431/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 234599402, "node_id": "MDU6TGFiZWwyMzQ1OTk0MDI=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20spec-compliance", "name": "area: spec-compliance", "color": "c5def5", "default": false, "description": null}, {"id": 272789317, "node_id": "MDU6TGFiZWwyNzI3ODkzMTc=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20error%20handling", "name": "area: error handling", "color": "c5def5", "default": false, "description": null}, {"id": 277080619, "node_id": "MDU6TGFiZWwyNzcwODA2MTk=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20code%20health", "name": "area: code health", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "schoen", "id": 1750103, "node_id": "MDQ6VXNlcjE3NTAxMDM=", "avatar_url": "https://avatars.githubusercontent.com/u/1750103?v=4", "gravatar_id": "", "url": "https://api.github.com/users/schoen", "html_url": "https://github.com/schoen", "followers_url": "https://api.github.com/users/schoen/followers", "following_url": "https://api.github.com/users/schoen/following{/other_user}", "gists_url": "https://api.github.com/users/schoen/gists{/gist_id}", "starred_url": "https://api.github.com/users/schoen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/schoen/subscriptions", "organizations_url": "https://api.github.com/users/schoen/orgs", "repos_url": "https://api.github.com/users/schoen/repos", "events_url": "https://api.github.com/users/schoen/events{/privacy}", "received_events_url": "https://api.github.com/users/schoen/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "schoen", "id": 1750103, "node_id": "MDQ6VXNlcjE3NTAxMDM=", "avatar_url": "https://avatars.githubusercontent.com/u/1750103?v=4", "gravatar_id": "", "url": "https://api.github.com/users/schoen", "html_url": "https://github.com/schoen", "followers_url": "https://api.github.com/users/schoen/followers", "following_url": "https://api.github.com/users/schoen/following{/other_user}", "gists_url": "https://api.github.com/users/schoen/gists{/gist_id}", "starred_url": "https://api.github.com/users/schoen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/schoen/subscriptions", "organizations_url": "https://api.github.com/users/schoen/orgs", "repos_url": "https://api.github.com/users/schoen/repos", "events_url": "https://api.github.com/users/schoen/events{/privacy}", "received_events_url": "https://api.github.com/users/schoen/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 7, "created_at": "2017-06-04T04:48:38Z", "updated_at": "2017-06-14T23:49:14Z", "closed_at": "2017-06-14T23:49:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "`certbot renew --dry-run`\r\n\r\n`Attempting to renew cert from /etc/letsencrypt/renewal/www.goodinvoice.com.conf produced an unexpected error: 'ascii' codec can't encode characters in position 307-309: ordinal not in range(128). Skipping.`\r\n\r\n\r\nI use  \r\nCentOS Linux release 7.3.1611 (Core)\r\n\r\nLinux ip-172-31-1-162 3.10.0-514.16.1.el7.x86_64 #1 SMP Wed Apr 12 15:04:24 UTC 2017 x86_64 x86_64 x86_64 GNU/Linux", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/4775/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/4775/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/4727", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/4727/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/4727/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/4727/events", "html_url": "https://github.com/certbot/certbot/issues/4727", "id": 231021879, "node_id": "MDU6SXNzdWUyMzEwMjE4Nzk=", "number": 4727, "title": "Certbot renew stopping apache", "user": {"login": "runephilosof", "id": 948625, "node_id": "MDQ6VXNlcjk0ODYyNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/948625?v=4", "gravatar_id": "", "url": "https://api.github.com/users/runephilosof", "html_url": "https://github.com/runephilosof", "followers_url": "https://api.github.com/users/runephilosof/followers", "following_url": "https://api.github.com/users/runephilosof/following{/other_user}", "gists_url": "https://api.github.com/users/runephilosof/gists{/gist_id}", "starred_url": "https://api.github.com/users/runephilosof/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/runephilosof/subscriptions", "organizations_url": "https://api.github.com/users/runephilosof/orgs", "repos_url": "https://api.github.com/users/runephilosof/repos", "events_url": "https://api.github.com/users/runephilosof/events{/privacy}", "received_events_url": "https://api.github.com/users/runephilosof/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 258836903, "node_id": "MDU6TGFiZWwyNTg4MzY5MDM=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20apache", "name": "area: apache", "color": "c5def5", "default": false, "description": null}, {"id": 261409142, "node_id": "MDU6TGFiZWwyNjE0MDkxNDI=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20renewal", "name": "area: renewal", "color": "c5def5", "default": false, "description": null}, {"id": 276680181, "node_id": "MDU6TGFiZWwyNzY2ODAxODE=", "url": "https://api.github.com/repos/certbot/certbot/labels/more-info", "name": "more-info", "color": "006b75", "default": false, "description": null}, {"id": 277080619, "node_id": "MDU6TGFiZWwyNzcwODA2MTk=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20code%20health", "name": "area: code health", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "runephilosof", "id": 948625, "node_id": "MDQ6VXNlcjk0ODYyNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/948625?v=4", "gravatar_id": "", "url": "https://api.github.com/users/runephilosof", "html_url": "https://github.com/runephilosof", "followers_url": "https://api.github.com/users/runephilosof/followers", "following_url": "https://api.github.com/users/runephilosof/following{/other_user}", "gists_url": "https://api.github.com/users/runephilosof/gists{/gist_id}", "starred_url": "https://api.github.com/users/runephilosof/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/runephilosof/subscriptions", "organizations_url": "https://api.github.com/users/runephilosof/orgs", "repos_url": "https://api.github.com/users/runephilosof/repos", "events_url": "https://api.github.com/users/runephilosof/events{/privacy}", "received_events_url": "https://api.github.com/users/runephilosof/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "runephilosof", "id": 948625, "node_id": "MDQ6VXNlcjk0ODYyNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/948625?v=4", "gravatar_id": "", "url": "https://api.github.com/users/runephilosof", "html_url": "https://github.com/runephilosof", "followers_url": "https://api.github.com/users/runephilosof/followers", "following_url": "https://api.github.com/users/runephilosof/following{/other_user}", "gists_url": "https://api.github.com/users/runephilosof/gists{/gist_id}", "starred_url": "https://api.github.com/users/runephilosof/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/runephilosof/subscriptions", "organizations_url": "https://api.github.com/users/runephilosof/orgs", "repos_url": "https://api.github.com/users/runephilosof/repos", "events_url": "https://api.github.com/users/runephilosof/events{/privacy}", "received_events_url": "https://api.github.com/users/runephilosof/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 13, "created_at": "2017-05-24T12:24:47Z", "updated_at": "2020-02-25T09:30:09Z", "closed_at": "2019-05-10T11:31:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "## My operating system is (include version):\r\nubuntu 14.04\r\n\r\n## I installed Certbot with (certbot-auto, OS package manager, pip, etc):\r\ncertbot-auto 0.14.0\r\n\r\n## I ran this command and it produced this output:\r\nIn cron `PATH=$PATH:/usr/sbin /root/certbot-auto renew --apache --quiet --no-self-upgrade --post-hook \"service apache2 reload\"`\r\n```\r\nEncountered vhost ambiguity but unable to ask for user guidance in non-interactive mode. Currently Certbot needs each vhost to be in its own conf file, and may need vhosts to be explicitly labelled with ServerName or ServerAlias directories.\r\nFalling back to default vhost *:443...\r\nEncountered vhost ambiguity but unable to ask for user guidance in non-interactive mode. Currently Certbot needs each vhost to be in its own conf file, and may need vhosts to be explicitly labelled with ServerName or ServerAlias directories.\r\nFalling back to default vhost *:443...\r\n...\r\n```\r\n\r\nAlso, after this ran apache was not running.\r\n\r\n## Certbot's behavior differed from what I expected because:\r\nIf the config files are OK before running certbot renew: Renewing certificates should not cause Apache to stop, no matter whether successful or not.\r\nAlso, I don't have any apache config files with multiple virtualhost directives. So I don't see why it would complain.\r\n\r\n## Here is a Certbot log showing the issue (if available):\r\n###### Logs are stored in `/var/log/letsencrypt` by default. Feel free to redact domains, e-mail and IP addresses as you see fit.\r\n```\r\n2017-05-24 10:53:03,765:DEBUG:certbot.main:certbot version: 0.14.0\r\n2017-05-24 10:53:03,765:DEBUG:certbot.main:Arguments: ['--apache', '--quiet', '--no-self-upgrade', '--post-hook', 'service apache2 reload']\r\n2017-05-24 10:53:03,765:DEBUG:certbot.main:Discovered plugins: PluginsRegistry(PluginEntryPoint#apache,PluginEntryPoint#manual,PluginEntryPoint#nginx,PluginEntryPoint#null,PluginEntryPoint#standalone,PluginEntryPoint#webroot)\r\n2017-05-24 10:53:03,813:DEBUG:certbot.plugins.selection:Requested authenticator apache and installer apache\r\n2017-05-24 10:53:03,813:DEBUG:certbot.cli:Default Detector is Namespace(account=<certbot.cli._Default object at 0x7f80dbb16910>, agree_dev_preview=None, allow_subset_of_names=<certbot.cli._Default object at 0x7f80dbb166d0>, apache=True, apache_challenge_location=<certbot.cli._Default object at 0x7f80dbb1e7d0>, apache_ctl=<certbot.cli._Default object at 0x7f80dbb1ebd0>, apache_dismod=<certbot.cli._Default object at 0x7f80dbb1e210>, apache_enmod=<certbot.cli._Default object at 0x7f80dbb1e110>, apache_handle_modules=<certbot.cli._Default object at 0x7f80dbb1e950>, apache_handle_sites=<certbot.cli._Default object at 0x7f80dbb1ead0>, apache_init_script=<certbot.cli._Default object at 0x7f80dbb1ed10>, apache_le_vhost_ext=<certbot.cli._Default object at 0x7f80dbb1e350>, apache_logs_root=<certbot.cli._Default object at 0x7f80dbb1e690>, apache_server_root=<certbot.cli._Default object at 0x7f80dbb1e490>, apache_vhost_root=<certbot.cli._Default object at 0x7f80dbb1e590>, authenticator='apache', break_my_certs=<certbot.cli._Default object at 0x7f80dbb16fd0>, cert_path=<certbot.cli._Default object at 0x7f80dbb19090>, certname=<certbot.cli._Default object at 0x7f80dbb61350>, chain_path=<certbot.cli._Default object at 0x7f80dbb19390>, checkpoints=<certbot.cli._Default object at 0x7f80dbb17b50>, config_dir=<certbot.cli._Default object at 0x7f80dbb19490>, config_file=None, configurator=<certbot.cli._Default object at 0x7f80dbb19890>, csr=<certbot.cli._Default object at 0x7f80dbb17950>, debug=<certbot.cli._Default object at 0x7f80dbb17050>, debug_challenges=<certbot.cli._Default object at 0x7f80dbb17150>, dialog=None, domains=<certbot.cli._Default object at 0x7f80dbb61110>, dry_run=<certbot.cli._Default object at 0x7f80dbb61590>, duplicate=<certbot.cli._Default object at 0x7f80dbb16a10>, eff_email=<certbot.cli._Default object at 0x7f80dbb61ed0>, email=<certbot.cli._Default object at 0x7f80dbb61c50>, expand=<certbot.cli._Default object at 0x7f80dbb16310>, force_interactive=<certbot.cli._Default object at 0x7f80dbbcc910>, fullchain_path=<certbot.cli._Default object at 0x7f80dbb19290>, func=<function renew at 0x7f80dbfd8ed8>, hsts=<certbot.cli._Default object at 0x7f80dbb16590>, http01_port=<certbot.cli._Default object at 0x7f80dbb17450>, ifaces=<certbot.cli._Default object at 0x7f80dbb17e50>, init=<certbot.cli._Default object at 0x7f80dbb17c50>, installer='apache', key_path=<certbot.cli._Default object at 0x7f80dbb19190>, logs_dir=<certbot.cli._Default object at 0x7f80dbb19690>, manual=<certbot.cli._Default object at 0x7f80dbb19e90>, manual_auth_hook=<certbot.cli._Default object at 0x7f80dbb1e0d0>, manual_cleanup_hook=<certbot.cli._Default object at 0x7f80dbb1ef50>, manual_public_ip_logging_ok=<certbot.cli._Default object at 0x7f80dbb23090>, must_staple=<certbot.cli._Default object at 0x7f80dbb16bd0>, nginx=<certbot.cli._Default object at 0x7f80dbb19c90>, nginx_ctl=<certbot.cli._Default object at 0x7f80dbb232d0>, nginx_server_root=<certbot.cli._Default object at 0x7f80dbb1ee10>, no_bootstrap=<certbot.cli._Default object at 0x7f80dbb16d10>, no_self_upgrade=True, no_verify_ssl=<certbot.cli._Default object at 0x7f80dbb17250>, noninteractive_mode=<certbot.cli._Default object at 0x7f80dbb62810>, num=<certbot.cli._Default object at 0x7f80dbb17750>, os_packages_only=<certbot.cli._Default object at 0x7f80dbb16b10>, post_hook='service apache2 reload', pre_hook=<certbot.cli._Default object at 0x7f80dbb62490>, pref_challs=<certbot.cli._Default object at 0x7f80dbb62910>, prepare=<certbot.cli._Default object at 0x7f80dbb17d50>, quiet=True, reason=<certbot.cli._Default object at 0x7f80dbb17a50>, redirect=<certbot.cli._Default object at 0x7f80dbb169d0>, register_unsafely_without_email=<certbot.cli._Default object at 0x7f80dbb617d0>, reinstall=<certbot.cli._Default object at 0x7f80dbb16210>, renew_by_default=<certbot.cli._Default object at 0x7f80dbb164d0>, renew_hook=<certbot.cli._Default object at 0x7f80dbb171d0>, renew_with_new_domains=<certbot.cli._Default object at 0x7f80dbb165d0>, rsa_key_size=<certbot.cli._Default object at 0x7f80dbb16dd0>, server=<certbot.cli._Default object at 0x7f80dbb19790>, staging=<certbot.cli._Default object at 0x7f80dbb16f10>, standalone=<certbot.cli._Default object at 0x7f80dbb19d90>, standalone_supported_challenges=<certbot.cli._Default object at 0x7f80dbb233d0>, staple=<certbot.cli._Default object at 0x7f80dbb61b10>, strict_permissions=<certbot.cli._Default object at 0x7f80dbb61210>, text_mode=<certbot.cli._Default object at 0x7f80dbb625d0>, tls_sni_01_port=<certbot.cli._Default object at 0x7f80dbb17350>, tos=<certbot.cli._Default object at 0x7f80dbb16810>, uir=<certbot.cli._Default object at 0x7f80dbb161d0>, update_registration=<certbot.cli._Default object at 0x7f80dbb61a10>, user_agent=<certbot.cli._Default object at 0x7f80dbb17850>, validate_hooks=<certbot.cli._Default object at 0x7f80dbb17550>, verb='renew', verbose_count=<certbot.cli._Default object at 0x7f80dbb62390>, webroot=<certbot.cli._Default object at 0x7f80dbb19f90>, webroot_map=<certbot.cli._Default object at 0x7f80dbb235d0>, webroot_path=<certbot.cli._Default object at 0x7f80dbb231d0>, work_dir=<certbot.cli._Default object at 0x7f80dbb19590>)\r\n2017-05-24 10:53:03,849:DEBUG:certbot.log:Root logging level set at 30\r\n2017-05-24 10:53:03,849:INFO:certbot.log:Saving debug log to /var/log/letsencrypt/letsencrypt.log\r\n2017-05-24 10:53:03,861:INFO:certbot.renewal:Cert not yet due for renewal\r\n2017-05-24 10:53:03,869:INFO:certbot.renewal:Cert not yet due for renewal\r\n2017-05-24 10:53:03,872:INFO:certbot.renewal:Cert not yet due for renewal\r\n2017-05-24 10:53:03,876:INFO:certbot.renewal:Cert not yet due for renewal\r\n2017-05-24 10:53:03,879:DEBUG:certbot.storage:Should renew, less than 30 days before certificate expiry 2017-06-23 10:53:00 UTC.\r\n2017-05-24 10:53:03,879:INFO:certbot.renewal:Cert is due for renewal, auto-renewing...\r\n2017-05-24 10:53:03,907:DEBUG:certbot.plugins.selection:Requested authenticator apache and installer apache\r\n2017-05-24 10:53:04,034:DEBUG:certbot_apache.configurator:Apache version is 2.4.7\r\n2017-05-24 10:53:10,724:DEBUG:certbot.plugins.selection:Single candidate plugin: * apache\r\nDescription: Apache Web Server plugin - Beta\r\nInterfaces: IAuthenticator, IInstaller, IPlugin\r\nEntry point: apache = certbot_apache.configurator:ApacheConfigurator\r\nInitialized: <certbot_apache.configurator.ApacheConfigurator object at 0x7f80dbb1e550>\r\nPrep: True\r\n2017-05-24 10:53:10,724:DEBUG:certbot.plugins.selection:Single candidate plugin: * apache\r\nDescription: Apache Web Server plugin - Beta\r\nInterfaces: IAuthenticator, IInstaller, IPlugin\r\nEntry point: apache = certbot_apache.configurator:ApacheConfigurator\r\nInitialized: <certbot_apache.configurator.ApacheConfigurator object at 0x7f80dbb1e550>\r\nPrep: True\r\n2017-05-24 10:53:10,724:DEBUG:certbot.plugins.selection:Selected authenticator <certbot_apache.configurator.ApacheConfigurator object at 0x7f80dbb1e550> and installer <certbot_apache.configurator.ApacheConfigurator object at 0x7f80dbb1e550>\r\n2017-05-24 10:53:10,729:DEBUG:certbot.main:Picked account: <Account(RegistrationResource(body=Registration(status=None, contact=(u'mailto:XXX@XXXXXXXX',), agreement=u'https://letsencrypt.org/documents/LE-SA-v1.0.1-July-27-2015.pdf', key=JWKRSA(key=<ComparableRSAKey(<cryptography.hazmat.backends.openssl.rsa._RSAPublicKey object at 0x7f80de403450>)>)), uri=u'https://acme-v01.api.letsencrypt.org/acme/reg/89100', new_authzr_uri=u'https://acme-v01.api.letsencrypt.org/acme/new-authz', terms_of_service=u'https://letsencrypt.org/documents/LE-SA-v1.0.1-July-27-2015.pdf'), xxxxxxxxxxxxxx, Meta(creation_host=u'xxxxxxxxxxxxxxxx', creation_dt=datetime.datetime(2015, 12, 16, 10, 12, tzinfo=<UTC>)))>\r\n2017-05-24 10:53:10,729:DEBUG:acme.client:Sending GET request to https://acme-v01.api.letsencrypt.org/directory.\r\n2017-05-24 10:53:10,735:DEBUG:requests.packages.urllib3.connectionpool:Starting new HTTPS connection (1): acme-v01.api.letsencrypt.org\r\n... requesting nonces ...\r\n2017-05-24 10:53:12,888:INFO:certbot.auth_handler:Performing the following challenges:\r\n2017-05-24 10:53:12,888:INFO:certbot.auth_handler:tls-sni-01 challenge for xxxxxxxxxx\r\n2017-05-24 10:53:12,888:INFO:certbot.auth_handler:tls-sni-01 challenge for xxxxxxxxx\r\n2017-05-24 10:53:12,888:INFO:certbot.auth_handler:tls-sni-01 challenge for xxxxxxxxxxx\r\n2017-05-24 10:53:12,888:INFO:certbot.auth_handler:tls-sni-01 challenge for xxxxxxxxxxxx\r\n2017-05-24 10:53:12,888:INFO:certbot.auth_handler:tls-sni-01 challenge for xxxxxxxxxxxxx\r\n2017-05-24 10:53:12,888:INFO:certbot.auth_handler:tls-sni-01 challenge for www.xxxxxxxxxx\r\n2017-05-24 10:53:14,370:WARNING:certbot_apache.display_ops:Encountered vhost ambiguity but unable to ask for user guidance in non-interactive mode. Currently Certbot needs each vhost to be in its own conf file, and may need vhosts to be explicitly labelled with ServerName or ServerAlias directories.\r\n2017-05-24 10:53:14,371:WARNING:certbot_apache.tls_sni_01:Falling back to default vhost *:443...\r\n2017-05-24 10:53:14,436:WARNING:certbot_apache.display_ops:Encountered vhost ambiguity but unable to ask for user guidance in non-interactive mode. Currently Certbot needs each vhost to be in its own conf file, and may need vhosts to be explicitly labelled with ServerName or ServerAlias directories.\r\n2017-05-24 10:53:14,436:WARNING:certbot_apache.tls_sni_01:Falling back to default vhost *:443...\r\n2017-05-24 10:53:14,482:WARNING:certbot_apache.display_ops:Encountered vhost ambiguity but unable to ask for user guidance in non-interactive mode. Currently Certbot needs each vhost to be in its own conf file, and may need vhosts to be explicitly labelled with ServerName or ServerAlias directories.\r\n2017-05-24 10:53:14,482:WARNING:certbot_apache.tls_sni_01:Falling back to default vhost *:443...\r\n2017-05-24 10:53:14,519:WARNING:certbot_apache.display_ops:Encountered vhost ambiguity but unable to ask for user guidance in non-interactive mode. Currently Certbot needs each vhost to be in its own conf file, and may need vhosts to be explicitly labelled with ServerName or ServerAlias directories.\r\n2017-05-24 10:53:14,519:WARNING:certbot_apache.tls_sni_01:Falling back to default vhost *:443...\r\n2017-05-24 10:53:14,556:WARNING:certbot_apache.display_ops:Encountered vhost ambiguity but unable to ask for user guidance in non-interactive mode. Currently Certbot needs each vhost to be in its own conf file, and may need vhosts to be explicitly labelled with ServerName or ServerAlias directories.\r\n2017-05-24 10:53:14,556:WARNING:certbot_apache.tls_sni_01:Falling back to default vhost *:443...\r\n2017-05-24 10:53:14,593:WARNING:certbot_apache.display_ops:Encountered vhost ambiguity but unable to ask for user guidance in non-interactive mode. Currently Certbot needs each vhost to be in its own conf file, and may need vhosts to be explicitly labelled with ServerName or ServerAlias directories.\r\n2017-05-24 10:53:14,593:WARNING:certbot_apache.tls_sni_01:Falling back to default vhost *:443...\r\n2017-05-24 10:53:15,233:DEBUG:certbot_apache.tls_sni_01:Adding Include /etc/apache2/le_tls_sni_01_cert_challenge.conf to /files/etc/apache2/apache2.conf\r\n2017-05-24 10:53:15,234:DEBUG:certbot_apache.tls_sni_01:writing a config file with text:\r\n... Requesting and storing new certificates\r\n2017-05-24 10:53:29,861:DEBUG:certbot.renewal:no renewal failures\r\n2017-05-24 10:53:29,861:INFO:certbot.hooks:Running post-hook command: service apache2 reload\r\n```", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/4727/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/4727/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/4680", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/4680/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/4680/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/4680/events", "html_url": "https://github.com/certbot/certbot/issues/4680", "id": 229314516, "node_id": "MDU6SXNzdWUyMjkzMTQ1MTY=", "number": 4680, "title": "Wrong arg pass in systemd: certbot-renew.service can't work", "user": {"login": "pavlyuts", "id": 6569739, "node_id": "MDQ6VXNlcjY1Njk3Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/6569739?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pavlyuts", "html_url": "https://github.com/pavlyuts", "followers_url": "https://api.github.com/users/pavlyuts/followers", "following_url": "https://api.github.com/users/pavlyuts/following{/other_user}", "gists_url": "https://api.github.com/users/pavlyuts/gists{/gist_id}", "starred_url": "https://api.github.com/users/pavlyuts/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pavlyuts/subscriptions", "organizations_url": "https://api.github.com/users/pavlyuts/orgs", "repos_url": "https://api.github.com/users/pavlyuts/repos", "events_url": "https://api.github.com/users/pavlyuts/events{/privacy}", "received_events_url": "https://api.github.com/users/pavlyuts/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 239432238, "node_id": "MDU6TGFiZWwyMzk0MzIyMzg=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20fedora%20/%20redhat%20/%20CentOS", "name": "area: fedora / redhat / CentOS", "color": "c5def5", "default": false, "description": null}, {"id": 261409142, "node_id": "MDU6TGFiZWwyNjE0MDkxNDI=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20renewal", "name": "area: renewal", "color": "c5def5", "default": false, "description": null}, {"id": 276667632, "node_id": "MDU6TGFiZWwyNzY2Njc2MzI=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20pkging", "name": "area: pkging", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-05-17T11:00:40Z", "updated_at": "2017-05-18T16:09:55Z", "closed_at": "2017-05-18T16:09:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "## My operating system is (include version):\r\nCentos 7.3\r\n\r\n## I installed Certbot with (certbot-auto, OS package manager, pip, etc):\r\nEPEL package certbot.noarch 0.12.0-4.el7\r\n\r\n## I ran this command and it produced this output:\r\nsystemctl start certbot-renew.service\r\n\r\n## Certbot's behavior differed from what I expected because:\r\nFile `/lib/systemd/system/certbot-renew.service` from package has lines\r\n```\r\n[Service]\r\nEnvironmentFile=-/etc/sysconfig/certbot\r\nType=oneshot\r\nExecStart=/usr/bin/certbot renew --pre-hook $PRE_HOOK --post-hook $POST_HOOK --renew-hook $RENEW_HOOK $CERTBOT_ARGS\r\n```\r\nTherefore, it rely on `/etc/sysconfig/certbot` to set the variables. Ones are set by default like \r\n```\r\nPRE_HOOK=\"''\"\r\n```\r\nSo, something goes wrong with variables passing, systemd clears all type of quotes and puts nothing instead of ''\r\n\r\nIf I simulate certbot run with command from shell prompt:\r\n```\r\n/usr/bin/certbot renew --pre-hook '' --post-hook '' --renew-hook ''\r\n```\r\nIt is Ok, it works.\r\n\r\nThe workaround is to put any \"do nothing\" command in the quotes, for example:\r\n```\r\nPRE_HOOK=\"'echo >/dev/null'\"\r\n```\r\nAnd the same to all others. Now it works.\r\n\r\n## Here is a Certbot log showing the issue (if available):\r\nNo cerbot logs created at all.\r\n\r\nSystem messages log shows:\r\n```\r\nMay 17 00:00:06 pavlyuts systemd: Starting This service automatically renews any certbot certificates found...\r\nMay 17 00:00:06 pavlyuts certbot: usage:\r\nMay 17 00:00:06 pavlyuts certbot: certbot [SUBCOMMAND] [options] [-d DOMAIN] [-d DOMAIN] ...\r\nMay 17 00:00:06 pavlyuts certbot: Certbot can obtain and install HTTPS/TLS/SSL certificates.  By default,\r\nMay 17 00:00:06 pavlyuts certbot: it will attempt to use a webserver both for obtaining and installing the\r\nMay 17 00:00:06 pavlyuts certbot: cert.\r\nMay 17 00:00:06 pavlyuts certbot: certbot: error: argument --pre-hook: expected one argument\r\nMay 17 00:00:07 pavlyuts systemd: certbot-renew.service: main process exited, code=exited, status=2/INVALIDARGUMENT\r\nMay 17 00:00:07 pavlyuts systemd: Failed to start This service automatically renews any certbot certificates found.\r\nMay 17 00:00:07 pavlyuts systemd: Unit certbot-renew.service entered failed state.\r\nMay 17 00:00:07 pavlyuts systemd: certbot-renew.service failed.`\r\n```", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/4680/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/4680/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/4666", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/4666/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/4666/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/4666/events", "html_url": "https://github.com/certbot/certbot/pull/4666", "id": 228854924, "node_id": "MDExOlB1bGxSZXF1ZXN0MTIwNzAxMzgz", "number": 4666, "title": "Allow Nginx to insert include files with comments inside", "user": {"login": "ohemorange", "id": 1227205, "node_id": "MDQ6VXNlcjEyMjcyMDU=", "avatar_url": "https://avatars.githubusercontent.com/u/1227205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ohemorange", "html_url": "https://github.com/ohemorange", "followers_url": "https://api.github.com/users/ohemorange/followers", "following_url": "https://api.github.com/users/ohemorange/following{/other_user}", "gists_url": "https://api.github.com/users/ohemorange/gists{/gist_id}", "starred_url": "https://api.github.com/users/ohemorange/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ohemorange/subscriptions", "organizations_url": "https://api.github.com/users/ohemorange/orgs", "repos_url": "https://api.github.com/users/ohemorange/repos", "events_url": "https://api.github.com/users/ohemorange/events{/privacy}", "received_events_url": "https://api.github.com/users/ohemorange/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 258836706, "node_id": "MDU6TGFiZWwyNTg4MzY3MDY=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20nginx", "name": "area: nginx", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/39", "html_url": "https://github.com/certbot/certbot/milestone/39", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/39/labels", "id": 2518262, "node_id": "MDk6TWlsZXN0b25lMjUxODI2Mg==", "number": 39, "title": "0.14.1", "description": "Fix configargparse problem", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 9, "state": "closed", "created_at": "2017-05-13T00:10:01Z", "updated_at": "2017-05-31T22:05:37Z", "due_on": null, "closed_at": "2017-05-31T22:05:37Z"}, "comments": 1, "created_at": "2017-05-15T21:42:41Z", "updated_at": "2017-05-16T16:51:15Z", "closed_at": "2017-05-15T22:30:51Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/certbot/certbot/pulls/4666", "html_url": "https://github.com/certbot/certbot/pull/4666", "diff_url": "https://github.com/certbot/certbot/pull/4666.diff", "patch_url": "https://github.com/certbot/certbot/pull/4666.patch", "merged_at": "2017-05-15T22:30:51Z"}, "body": "Fixes #4657. ", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/4666/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/4666/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/certbot/certbot/issues/4664", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/4664/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/4664/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/4664/events", "html_url": "https://github.com/certbot/certbot/issues/4664", "id": 228759233, "node_id": "MDU6SXNzdWUyMjg3NTkyMzM=", "number": 4664, "title": "DNS label contains malformed punycode", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 200587469, "node_id": "MDU6TGFiZWwyMDA1ODc0Njk=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20debian%20/%20ubuntu", "name": "area: debian / ubuntu", "color": "c5def5", "default": false, "description": null}, {"id": 276243379, "node_id": "MDU6TGFiZWwyNzYyNDMzNzk=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20certbot-auto", "name": "area: certbot-auto", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-05-15T15:48:08Z", "updated_at": "2017-05-16T14:32:59Z", "closed_at": "2017-05-16T14:32:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "## My operating system is (include version): \r\nDebian 7.11\r\n\r\n\r\n## I installed Certbot with (certbot-auto, OS package manager, pip, etc): \r\ncertbot-auto\r\n\r\n\r\n## I ran this command and it produced this output: ./certbot-auto\r\n<skip>\r\n   16: xn--8080apmfex.xn--p1ai\r\n    17: www.xn--8080apmfex.xn--p1ai\r\n    18: xn--v1aaa.xn--8080apmfex.xn--p1ai\r\n    -------------------------------------------------------------------------------\r\nSelect the appropriate numbers separated by commas and/or spaces, or leave input\r\nblank to select all options shown (Enter 'c' to cancel):16\r\nObtaining a new certificate\r\nAn unexpected error occurred:\r\nThe request message was malformed :: Error creating new authz :: DNS label contains malformed punycode\r\nPlease see the logfiles in /var/log/letsencrypt for more details.\r\n\r\nxxx@vds3997:~# cat /etc/nginx/sites-available/psy-apache | grep server_\r\n    server_name www.xn--80apmfex.xn--p1ai xn--80apmfex.xn--p1ai xn--v1aaa.xn--80apmfex.xn-\r\n-p1ai;\r\n\r\n\r\n## Certbot's behavior differed from what I expected because:\r\n\r\nas we can see certbot doubles 80 in my domain name\r\n\r\n## Here is a Certbot log showing the issue (if available):\r\n###### Logs are stored in `/var/log/letsencrypt` by default. Feel free to redact domains, e-mail and IP addresses as you see fit.\r\n\r\nContent-Type: application/json\r\nContent-Length: 352\r\nBoulder-Request-Id: RwdAFEAB8LroQOHGExZUZ5zbshExtxV9FOVF2qS2KaA\r\nReplay-Nonce: 8USr_fl-yP8IcvTvsl88nh2RiXi9hJ5GkDC-zEu5D00\r\nX-Frame-Options: DENY\r\nStrict-Transport-Security: max-age=604800\r\nExpires: Mon, 15 May 2017 15:45:51 GMT\r\nCache-Control: max-age=0, no-cache, no-store\r\nPragma: no-cache\r\nDate: Mon, 15 May 2017 15:45:51 GMT\r\nConnection: keep-alive\r\n\r\n{\r\n  \"key-change\": \"https://acme-v01.api.letsencrypt.org/acme/key-change\",\r\n  \"new-authz\": \"https://acme-v01.api.letsencrypt.org/acme/new-authz\",\r\n  \"new-cert\": \"https://acme-v01.api.letsencrypt.org/acme/new-cert\",\r\n  \"new-reg\": \"https://acme-v01.api.letsencrypt.org/acme/new-reg\",\r\n  \"revoke-cert\": \"https://acme-v01.api.letsencrypt.org/acme/revoke-cert\"\r\n}\r\n2017-05-15 15:45:58,929:INFO:certbot.main:Obtaining a new certificate\r\n2017-05-15 15:45:58,930:DEBUG:acme.client:Requesting fresh nonce\r\n2017-05-15 15:45:58,930:DEBUG:acme.client:Sending HEAD request to https://acme-v01.api.letsencrypt.org/acme/new-authz.\r\n2017-05-15 15:45:59,154:DEBUG:requests.packages.urllib3.connectionpool:https://acme-v01.api.letsencrypt.org:443 \"HEAD /acme/new-authz HTTP\r\n.1\" 405 0\r\n2017-05-15 15:45:59,155:DEBUG:acme.client:Received response:\r\nHTTP 405\r\nServer: nginx\r\nContent-Type: application/problem+json\r\nContent-Length: 91\r\nAllow: POST\r\nBoulder-Request-Id: zPR_Thx4ww-OuETpqBjQnwU1_WunuAhqeWTXfE_Bh-A\r\nReplay-Nonce: BlSpNulyQ9q0Y_KSaZKM4SG6hA2SDnt1nl_rM1F8Y1U\r\nExpires: Mon, 15 May 2017 15:45:59 GMT\r\nCache-Control: max-age=0, no-cache, no-store\r\nPragma: no-cache\r\nDate: Mon, 15 May 2017 15:45:59 GMT\r\nConnection: keep-alive\r\n\r\n\r\n2017-05-15 15:45:59,155:DEBUG:acme.client:Storing nonce: BlSpNulyQ9q0Y_KSaZKM4SG6hA2SDnt1nl_rM1F8Y1U\r\n2017-05-15 15:45:59,155:DEBUG:acme.client:JWS payload:\r\n{\r\n  \"identifier\": {\r\n    \"type\": \"dns\",\r\n    \"value\": \"xn--8080apmfex.xn--p1ai\"\r\n  },\r\n  \"resource\": \"new-authz\"\r\n}\r\n2017-05-15 15:45:59,159:DEBUG:acme.client:Sending POST request to https://acme-v01.api.letsencrypt.org/acme/new-authz:\r\n{\r\n  \"header\": {\r\n    \"alg\": \"RS256\",\r\n    \"jwk\": {\r\n      \"e\": \"AQAB\",\r\n      \"kty\": \"RSA\",\r\n      \"n\": \"uuZqnIHVb4QCUmc1cbjsyGDTs6YPrLymEvA1FhnqBze3KiTUJHNKXaXkOMZJkerDvwfPScZtkBxO6HtZNmvAobabCdQVjmsomaT7v6fUGzy1WeZ1HJ_ZZWZgMBS6FX\r\nhgV06zAOd3hkfOGgLE05tAX8WbNfNLudiJfRDlNNd_u4qcDoXM07v7gmwGvBIBIY6X7sjcJE982_vlVq9i_RwHN_SjzA-83QznqYRcnNlgU56MK5XUt-WFeExiYAZlXK1buj6zGVQQ\r\n4BafhTqWuXx5cQynW1okF9xzZ78o63veBmyiMGyJJY0JL0PZexaPAPF9t2B-aPj3LRqvF4folQ\"\r\n    }\r\n  },\r\n  \"protected\": \"eyJub25jZSI6ICJCbFNwTnVseVE5cTBZX0tTYVpLTTRTRzZoQTJTRG50MW5sX3JNMUY4WTFVIn0\",\r\n  \"payload\": \"ewogICJpZGVudGlmaWVyIjogewogICAgInR5cGUiOiAiZG5zIiwgCiAgICAidmFsdWUiOiAieG4tLTgwODBhcG1mZXgueG4tLXAxYWkiCiAgfSwgCiAgInJlc291\r\nNlIjogIm5ldy1hdXRoeiIKfQ\",\r\n  \"signature\": \"EAtMULRoMxHMiZ6JEK_sVNWydeVBTJBTiia0k8NXMkUkgBFwwgdLHESmO-Lh8s4e9HXg5Z_2viYbHRv5QLJrkHADQPpUjXVvWiFUowPqenh52VYwGm2RYK5MlN\r\nRNncywvVUYT4mf6CeuaokROjWVlLBGOQMowI7uoJbXSlCYSEgFHleRbUd4XvWCA6TWZDQYyv5Nk5-PTi6Y-ISSEPfVCSHbv56TnZHAXzai-10U9NyhjzT4AhiflpWMbrviiqrrr2uy\r\na-_lwFS8I294eYGaz42NNraw2L0LKE1LfyM6jOOUc998hkSf8VzlHWlWhq1o_VvQs2mDFoX5pycThQ\"\r\n}\r\n2017-05-15 15:45:59,394:DEBUG:requests.packages.urllib3.connectionpool:https://acme-v01.api.letsencrypt.org:443 \"POST /acme/new-authz HTTP\r\n.1\" 400 138\r\n2017-05-15 15:45:59,395:DEBUG:acme.client:Received response:\r\nHTTP 400\r\nServer: nginx\r\nContent-Type: application/problem+json\r\nContent-Length: 138\r\nBoulder-Request-Id: n840QfU9iivzHUh0tpRCkKGASMw7OoS0mfyhaZaS92Q\r\nBoulder-Requester: 14506710\r\nReplay-Nonce: wSJ3YlhMffhVZwaItcJrDnR9IncYxgphdXMqltMsUXI\r\nExpires: Mon, 15 May 2017 15:45:59 GMT\r\nCache-Control: max-age=0, no-cache, no-store\r\nPragma: no-cache\r\nDate: Mon, 15 May 2017 15:45:59 GMT\r\nConnection: close\r\n\r\n{\r\n  \"type\": \"urn:acme:error:malformed\",\r\n  \"detail\": \"Error creating new authz :: DNS label contains malformed punycode\",\r\n  \"status\": 400\r\n}\r\n2017-05-15 15:45:59,395:DEBUG:acme.client:Storing nonce: wSJ3YlhMffhVZwaItcJrDnR9IncYxgphdXMqltMsUXI\r\n2017-05-15 15:45:59,396:DEBUG:certbot.log:Exiting abnormally:\r\nTraceback (most recent call last):\r\n  File \"/root/.local/share/letsencrypt/bin/letsencrypt\", line 11, in <module>\r\n    sys.exit(main())\r\n  File \"/root/.local/share/letsencrypt/local/lib/python2.7/site-packages/certbot/main.py\", line 742, in main\r\n    return config.func(config, plugins)\r\n  File \"/root/.local/share/letsencrypt/local/lib/python2.7/site-packages/certbot/main.py\", line 597, in run\r\n    certname, lineage)\r\n  File \"/root/.local/share/letsencrypt/local/lib/python2.7/site-packages/certbot/main.py\", line 82, in _get_and_save_cert\r\n    lineage = le_client.obtain_and_enroll_certificate(domains, certname)\r\n  File \"/root/.local/share/letsencrypt/local/lib/python2.7/site-packages/certbot/client.py\", line 344, in obtain_and_enroll_certificate\r\n    certr, chain, key, _ = self.obtain_certificate(domains)\r\n  File \"/root/.local/share/letsencrypt/local/lib/python2.7/site-packages/certbot/client.py\", line 313, in obtain_certificate\r\n    self.config.allow_subset_of_names)\r\n  File \"/root/.local/share/letsencrypt/local/lib/python2.7/site-packages/certbot/auth_handler.py\", line 66, in get_authorizations\r\n    self.authzr[domain] = self.acme.request_domain_challenges(domain)\r\n  File \"/root/.local/share/letsencrypt/local/lib/python2.7/site-packages/acme/client.py\", line 212, in request_domain_challenges\r\n    typ=messages.IDENTIFIER_FQDN, value=domain), new_authzr_uri)\r\n  File \"/root/.local/share/letsencrypt/local/lib/python2.7/site-packages/acme/client.py\", line 191, in request_challenges\r\n    response = self.net.post(self.directory.new_authz, new_authz)\r\n  File \"/root/.local/share/letsencrypt/local/lib/python2.7/site-packages/acme/client.py\", line 674, in post\r\n    return self._post_once(*args, **kwargs)\r\n  File \"/root/.local/share/letsencrypt/local/lib/python2.7/site-packages/acme/client.py\", line 687, in _post_once\r\n    return self._check_response(response, content_type=content_type)\r\n  File \"/root/.local/share/letsencrypt/local/lib/python2.7/site-packages/acme/client.py\", line 574, in _check_response\r\n    raise messages.Error.from_json(jobj)\r\nError: urn:acme:error:malformed :: The request message was malformed :: Error creating new authz :: DNS label contains malformed punycode\r\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/4664/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/4664/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/4650", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/4650/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/4650/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/4650/events", "html_url": "https://github.com/certbot/certbot/pull/4650", "id": 228390422, "node_id": "MDExOlB1bGxSZXF1ZXN0MTIwMzkzNTE0", "number": 4650, "title": "support version 0.12.0 of configargparse", "user": {"login": "ryanpineo", "id": 2896066, "node_id": "MDQ6VXNlcjI4OTYwNjY=", "avatar_url": "https://avatars.githubusercontent.com/u/2896066?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ryanpineo", "html_url": "https://github.com/ryanpineo", "followers_url": "https://api.github.com/users/ryanpineo/followers", "following_url": "https://api.github.com/users/ryanpineo/following{/other_user}", "gists_url": "https://api.github.com/users/ryanpineo/gists{/gist_id}", "starred_url": "https://api.github.com/users/ryanpineo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ryanpineo/subscriptions", "organizations_url": "https://api.github.com/users/ryanpineo/orgs", "repos_url": "https://api.github.com/users/ryanpineo/repos", "events_url": "https://api.github.com/users/ryanpineo/events{/privacy}", "received_events_url": "https://api.github.com/users/ryanpineo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/39", "html_url": "https://github.com/certbot/certbot/milestone/39", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/39/labels", "id": 2518262, "node_id": "MDk6TWlsZXN0b25lMjUxODI2Mg==", "number": 39, "title": "0.14.1", "description": "Fix configargparse problem", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 9, "state": "closed", "created_at": "2017-05-13T00:10:01Z", "updated_at": "2017-05-31T22:05:37Z", "due_on": null, "closed_at": "2017-05-31T22:05:37Z"}, "comments": 3, "created_at": "2017-05-12T19:47:40Z", "updated_at": "2017-05-16T16:51:36Z", "closed_at": "2017-05-15T22:37:50Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/certbot/certbot/pulls/4650", "html_url": "https://github.com/certbot/certbot/pull/4650", "diff_url": "https://github.com/certbot/certbot/pull/4650.diff", "patch_url": "https://github.com/certbot/certbot/pull/4650.patch", "merged_at": "2017-05-15T22:37:50Z"}, "body": "fixes #4648", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/4650/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/4650/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/certbot/certbot/issues/4648", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/4648/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/4648/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/4648/events", "html_url": "https://github.com/certbot/certbot/issues/4648", "id": 228359143, "node_id": "MDU6SXNzdWUyMjgzNTkxNDM=", "number": 4648, "title": "Incompatible with ConfigArgParse 0.12.0", "user": {"login": "mesouug", "id": 7653430, "node_id": "MDQ6VXNlcjc2NTM0MzA=", "avatar_url": "https://avatars.githubusercontent.com/u/7653430?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mesouug", "html_url": "https://github.com/mesouug", "followers_url": "https://api.github.com/users/mesouug/followers", "following_url": "https://api.github.com/users/mesouug/following{/other_user}", "gists_url": "https://api.github.com/users/mesouug/gists{/gist_id}", "starred_url": "https://api.github.com/users/mesouug/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mesouug/subscriptions", "organizations_url": "https://api.github.com/users/mesouug/orgs", "repos_url": "https://api.github.com/users/mesouug/repos", "events_url": "https://api.github.com/users/mesouug/events{/privacy}", "received_events_url": "https://api.github.com/users/mesouug/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 281347824, "node_id": "MDU6TGFiZWwyODEzNDc4MjQ=", "url": "https://api.github.com/repos/certbot/certbot/labels/has%20pr", "name": "has pr", "color": "0052cc", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/39", "html_url": "https://github.com/certbot/certbot/milestone/39", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/39/labels", "id": 2518262, "node_id": "MDk6TWlsZXN0b25lMjUxODI2Mg==", "number": 39, "title": "0.14.1", "description": "Fix configargparse problem", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 9, "state": "closed", "created_at": "2017-05-13T00:10:01Z", "updated_at": "2017-05-31T22:05:37Z", "due_on": null, "closed_at": "2017-05-31T22:05:37Z"}, "comments": 5, "created_at": "2017-05-12T17:36:22Z", "updated_at": "2017-05-15T22:37:50Z", "closed_at": "2017-05-15T22:37:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "## My operating system is (include version):\r\nUbuntu 16.04\r\n\r\n## I installed Certbot with (certbot-auto, OS package manager, pip, etc):\r\npip\r\n\r\n## I ran this command and it produced this output:\r\nAn unexpected error occurred:\r\nAttributeError: 'tuple' object has no attribute 'add'\r\n\r\n## Certbot's behavior differed from what I expected because:\r\nConfigArgParse updated to version 0.12.0\r\n\r\n## Here is a Certbot log showing the issue (if available):\r\n```\r\n# cat /tmp/tmpsCKLky \r\n2017-05-12 16:49:25,831:DEBUG:certbot.main:certbot version: 0.14.0\r\n2017-05-12 16:49:25,832:DEBUG:certbot.main:Arguments: []\r\n2017-05-12 16:49:25,832:DEBUG:certbot.main:Discovered plugins: PluginsRegistry(PluginEntryPoint#manual,PluginEntryPoint#null,PluginEntryPoint#standalone,PluginEntryPoint#webroot)\r\n2017-05-12 16:49:25,835:DEBUG:certbot.log:Exiting abnormally:\r\nTraceback (most recent call last):\r\n  File \"/usr/local/share/letsencrypt/env/bin/letsencrypt\", line 11, in <module>\r\n    sys.exit(main())\r\n  File \"/usr/local/share/letsencrypt/env/local/lib/python2.7/site-packages/certbot/main.py\", line 729, in main\r\n    args = cli.prepare_and_parse_args(plugins, cli_args)\r\n  File \"/usr/local/share/letsencrypt/env/local/lib/python2.7/site-packages/certbot/cli.py\", line 1089, in prepare_and_parse_args\r\n    helpful.add_deprecated_argument(\"--agree-dev-preview\", 0)\r\n  File \"/usr/local/share/letsencrypt/env/local/lib/python2.7/site-packages/certbot/cli.py\", line 741, in add_deprecated_argument\r\n    self.parser.add_argument, argument_name, num_args)\r\n  File \"/usr/local/share/letsencrypt/env/local/lib/python2.7/site-packages/certbot/util.py\", line 479, in add_deprecated_argument\r\n    configargparse.ACTION_TYPES_THAT_DONT_NEED_A_VALUE.add(ShowWarning)\r\nAttributeError: 'tuple' object has no attribute 'add'\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/4648/reactions", "total_count": 9, "+1": 9, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/4648/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/4643", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/4643/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/4643/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/4643/events", "html_url": "https://github.com/certbot/certbot/issues/4643", "id": 228098737, "node_id": "MDU6SXNzdWUyMjgwOTg3Mzc=", "number": 4643, "title": "Auto RewriteCond server_name Misconfiguration", "user": {"login": "tomas-samot", "id": 15977784, "node_id": "MDQ6VXNlcjE1OTc3Nzg0", "avatar_url": "https://avatars.githubusercontent.com/u/15977784?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tomas-samot", "html_url": "https://github.com/tomas-samot", "followers_url": "https://api.github.com/users/tomas-samot/followers", "following_url": "https://api.github.com/users/tomas-samot/following{/other_user}", "gists_url": "https://api.github.com/users/tomas-samot/gists{/gist_id}", "starred_url": "https://api.github.com/users/tomas-samot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tomas-samot/subscriptions", "organizations_url": "https://api.github.com/users/tomas-samot/orgs", "repos_url": "https://api.github.com/users/tomas-samot/repos", "events_url": "https://api.github.com/users/tomas-samot/events{/privacy}", "received_events_url": "https://api.github.com/users/tomas-samot/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 258836903, "node_id": "MDU6TGFiZWwyNTg4MzY5MDM=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20apache", "name": "area: apache", "color": "c5def5", "default": false, "description": null}, {"id": 291660454, "node_id": "MDU6TGFiZWwyOTE2NjA0NTQ=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20security%20enhancements", "name": "area: security enhancements", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "joohoi", "id": 5235109, "node_id": "MDQ6VXNlcjUyMzUxMDk=", "avatar_url": "https://avatars.githubusercontent.com/u/5235109?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joohoi", "html_url": "https://github.com/joohoi", "followers_url": "https://api.github.com/users/joohoi/followers", "following_url": "https://api.github.com/users/joohoi/following{/other_user}", "gists_url": "https://api.github.com/users/joohoi/gists{/gist_id}", "starred_url": "https://api.github.com/users/joohoi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joohoi/subscriptions", "organizations_url": "https://api.github.com/users/joohoi/orgs", "repos_url": "https://api.github.com/users/joohoi/repos", "events_url": "https://api.github.com/users/joohoi/events{/privacy}", "received_events_url": "https://api.github.com/users/joohoi/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "joohoi", "id": 5235109, "node_id": "MDQ6VXNlcjUyMzUxMDk=", "avatar_url": "https://avatars.githubusercontent.com/u/5235109?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joohoi", "html_url": "https://github.com/joohoi", "followers_url": "https://api.github.com/users/joohoi/followers", "following_url": "https://api.github.com/users/joohoi/following{/other_user}", "gists_url": "https://api.github.com/users/joohoi/gists{/gist_id}", "starred_url": "https://api.github.com/users/joohoi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joohoi/subscriptions", "organizations_url": "https://api.github.com/users/joohoi/orgs", "repos_url": "https://api.github.com/users/joohoi/repos", "events_url": "https://api.github.com/users/joohoi/events{/privacy}", "received_events_url": "https://api.github.com/users/joohoi/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/38", "html_url": "https://github.com/certbot/certbot/milestone/38", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/38/labels", "id": 2501130, "node_id": "MDk6TWlsZXN0b25lMjUwMTEzMA==", "number": 38, "title": "0.16.0", "description": "", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 28, "state": "closed", "created_at": "2017-05-04T20:40:14Z", "updated_at": "2017-09-25T19:03:23Z", "due_on": "2017-07-05T07:00:00Z", "closed_at": "2017-07-10T21:38:13Z"}, "comments": 1, "created_at": "2017-05-11T19:38:09Z", "updated_at": "2017-06-19T15:38:12Z", "closed_at": "2017-06-19T15:38:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "## My operating system is (include version):\r\nHost: `Ubuntu  Server 16.04`\r\nDocker container: `php:7.0-apache` Using `Debian Jessie`\r\nCertbot 0.10.2\r\n\r\n\r\n## I installed Certbot with (certbot-auto, OS package manager, pip, etc):\r\n`sudo apt-get install python-certbot-apache -t jessie-backports`\r\n\r\n## I ran this command and it produced this output:\r\nHostname of container is `samot.ninja`\r\ncert.sh\r\n```\r\n#!/bin/bash\r\nDOMAIN=\"samot.ninja\"\r\n\r\nif [ ! -f /firstcertgen ]; then\r\n  touch /firstcertgen\r\n  certbot --apache --break-my-certs --rsa-key-size 4096 --agree-tos --register-unsafely-without-email --redirect -d \"${DOMAIN}\"\r\nelse\r\n  echo \"File found! /firstcertgen\"\r\nfi\r\n```\r\n\r\nBash History\r\n```\r\nroot@samot:~# /./cert.sh \r\nSaving debug log to /var/log/letsencrypt/letsencrypt.log\r\nRegistering without email!\r\nStarting new HTTPS connection (1): acme-v01.api.letsencrypt.org\r\nObtaining a new certificate\r\nPerforming the following challenges:\r\ntls-sni-01 challenge for samot.ninja\r\nEnabled Apache socache_shmcb module\r\nEnabled Apache ssl module\r\nWaiting for verification...\r\nCleaning up challenges\r\nGenerating key (4096 bits): /etc/letsencrypt/keys/0000_key-certbot.pem\r\nCreating CSR: /etc/letsencrypt/csr/0000_csr-certbot.pem\r\nCreated an SSL vhost at /etc/apache2/sites-available/000-default-le-ssl.conf\r\nEnabled Apache socache_shmcb module\r\nEnabled Apache ssl module\r\nDeploying Certificate to VirtualHost /etc/apache2/sites-available/000-default-le-ssl.conf\r\nEnabling available site: /etc/apache2/sites-available/000-default-le-ssl.conf\r\nEnabled Apache rewrite module\r\nRedirecting vhost in /etc/apache2/sites-available/000-default.conf to ssl vhost in /etc/apache2/sites-available/000-default-le-ssl.conf\r\n\r\n-------------------------------------------------------------------------------\r\nCongratulations! You have successfully enabled https://samot.ninja\r\n\r\nYou should test your configuration at:\r\nhttps://www.ssllabs.com/ssltest/analyze.html?d=samot.ninja\r\n-------------------------------------------------------------------------------\r\n\r\nIMPORTANT NOTES:\r\n - Congratulations! Your certificate and chain have been saved at\r\n   /etc/letsencrypt/live/samot.ninja/fullchain.pem. Your cert will\r\n   expire on 2017-08-09. To obtain a new or tweaked version of this\r\n   certificate in the future, simply run certbot again with the\r\n   \"certonly\" option. To non-interactively renew *all* of your\r\n   certificates, run \"certbot renew\"\r\n - Your account credentials have been saved in your Certbot\r\n   configuration directory at /etc/letsencrypt. You should make a\r\n   secure backup of this folder now. This configuration directory will\r\n   also contain certificates and private keys obtained by Certbot so\r\n   making regular backups of this folder is ideal.\r\n - If you like Certbot, please consider supporting our work by:\r\n\r\n   Donating to ISRG / Let's Encrypt:   https://letsencrypt.org/donate\r\n   Donating to EFF:                    https://eff.org/donate-le\r\n\r\nroot@samot:~# cat /etc/apache2/sites-available/000-default.conf\r\n<VirtualHost *:80>\r\n\t# The ServerName directive sets the request scheme, hostname and port that\r\n\t# the server uses to identify itself. This is used when creating\r\n\t# redirection URLs. In the context of virtual hosts, the ServerName\r\n\t# specifies what hostname must appear in the request's Host: header to\r\n\t# match this virtual host. For the default virtual host (this file) this\r\n\t# value is not decisive as it is used as a last resort host regardless.\r\n\t# However, you must set it for any further virtual host explicitly.\r\n\t#ServerName www.example.com\r\n\r\n\tServerAdmin webmaster@localhost\r\n\tDocumentRoot /var/www/html\r\n\r\n\t# Available loglevels: trace8, ..., trace1, debug, info, notice, warn,\r\n\t# error, crit, alert, emerg.\r\n\t# It is also possible to configure the loglevel for particular\r\n\t# modules, e.g.\r\n\t#LogLevel info ssl:warn\r\n\r\n\tErrorLog ${APACHE_LOG_DIR}/error.log\r\n\tCustomLog ${APACHE_LOG_DIR}/access.log combined\r\n\r\n\t# For most configuration files from conf-available/, which are\r\n\t# enabled or disabled at a global level, it is possible to\r\n\t# include a line for only one particular virtual host. For example the\r\n\t# following line enables the CGI configuration for this host only\r\n\t# after it has been globally disabled with \"a2disconf\".\r\n\t#Include conf-available/serve-cgi-bin.conf\r\nRewriteEngine on\r\nRewriteCond %{SERVER_NAME} =s\r\nRewriteRule ^ https://%{SERVER_NAME}%{REQUEST_URI} [END,QSA,R=permanent]\r\n</VirtualHost>\r\n\r\n# vim: syntax=apache ts=4 sw=4 sts=4 sr noet\r\n```\r\n\r\n## Certbot's behavior differed from what I expected because:\r\n\r\n`RewriteCond %{SERVER_NAME} =s` This line in the apache config is missing `samot.ninja`. With the config like this it does not force a redirect to `https`.\r\nWhen I change it to this:\r\n`RewriteCond %{SERVER_NAME} =samot.ninja`\r\nThe forced redirect works.\r\n\r\n## Here is a Certbot log showing the issue (if available):\r\n###### Logs are stored in `/var/log/letsencrypt` by default. Feel free to redact domains, e-mail and IP addresses as you see fit.\r\n`cat /var/log/letsencrypt/letsencrypt.log | grep 'samot'`\r\n```\r\n2017-05-11 18:18:48,271:DEBUG:certbot.main:Arguments: ['--apache', '--break-my-certs', '--rsa-key-size', '4096', '--agree-tos', '--register-unsafely-without-email', '--redirect', '-d', 'samot.ninja']\r\n    \"value\": \"samot.ninja\"\r\n    \"value\": \"samot.ninja\"\r\n2017-05-11 18:18:50,202:INFO:certbot.auth_handler:tls-sni-01 challenge for samot.ninja\r\n    \"value\": \"samot.ninja\"\r\n          \"hostname\": \"samot.ninja\",\r\n2017-05-11 18:18:58,331:DEBUG:certbot.client:CSR: CSR(file='/etc/letsencrypt/csr/0000_csr-certbot.pem', data='0\\x82\\x04\\x840\\x82\\x02l\\x02\\x01\\x020\\x161\\x140\\x12\\x06\\x03U\\x04\\x03\\x0c\\x0bsamot.ninja0\\x82\\x02\"0\\r\\x06\\t*\\x86H\\x86\\xf7\\r\\x01\\x01\\x01\\x05\\x00\\x03\\x82\\x02\\x0f\\x000\\x82\\x02\\n\\x02\\x82\\x02\\x01\\x00\\xd0\\x87E\\xafe\\xd0\\xd9\\xc0\\xf3\\xb8\\xce \\xff\\xfc\\xe9R\\x03Z\\xfey\\x10\\xf0\\x81E\\x9d\\x10d[Wf\\x07\\xf2](\\x84*\\xdf)AoqA\\xc0\\x8d<\\xb1\\xb0\\x89\\x1b\\x9b1\\xb5c\\xa7uA\\x97\\xd1e\\x9c\\xc58\\xcb\\x85\\x03u\\xf7\\x7fh{\\x02\\xadMl\\xa4\\xf34 -=\\xe9\\xb5Bo\\xbb?]\\xb7M\\x15\\n|y\\xbbN2\\xed\\x91\\x89\\x829k\\x82\\x95s\\xf8N%\\xf6\\xd4\\xe3\\xc8\\x10\\xf6\\xa2\\xf9\\xdc\\x04\\xe7`\\xdb\"\\xc1\\x99\\xa0\\xb3y\\x9c;\\xa7_\\xf2\\xcd\\x15\\xc1N\\xbd\\x0b\\x984\\x91Mw\\xf0\\x80\\xebW\\xf1\\xfd\\xdd\\xc2\\xa5G\\x161\\xcd\\x80\\'\\x89\\xac\\xa3\\xd1\\xacqt\\x9dz\\xcb\\xf5D\\x80{\\xcf\\xcd\\x18Kt#\\x96i\\xbb\\x15n\\xe9G\\xe9t\\xf9;D\\xe9\\x87\\xdd\\r\\xccC\\xd0U\\xc6\\xad\\xd2\\xb5=\\x13\\x9cF\\x82\\x17\\xad\\xc6\\x12\\xc2\\xff\\xb2l\\x81\\xe1<rbf-\\x07\\xad\\x08\\xc5\\x8d~\\xee\\xf0\\xab\\xfb\\x1b?\\x07\\xd1\\xde\\x86\\xeeX\\x80\\xba<\\xec\\r\\xf0\\xfb\\x05\\xa6W\\x93\\xf4#\\xb3\\x9b@tH*ak\\x94\\x8a\\xd2-\\xb1\\xccA\\xef\\\\\\xfa\\xa4\\x97i\\xe3\\xb3/\\xed\\x8b\\xf73\\xde\\xf4\\xc8\\x1b\\t\\r\\xfeT\\x91\\xf4\\xb5v.U\\xbdrE\\xcf\\x87;\\xf4\\xc4\\xbf\\xe1\\xea\\xff\\x1b\\xd7\\x98^\\x812\\xa3\\x9e\\x12\\xd5\\\\\\xf5\\xa1&\\x1d\\x8b.\\xff\\x95\\x12\\xba\\x9fn\\xf1\\x1b\\x80c\\x17<9\\xe9_\\xa0u\\x1a\\x9f\\x10\\xa4\\xd5\\xa6\\xd0u\\xd7\\x82\\x1b\\xdc\\xda*\\xcaY\\'\\xf4\\xbc\\xa0\\xb33\\xb2\\xc8fJ\\xce\\'\\xbbuU\\xc6\\x84\\xcb\\xb9+xO\\x9f;\\x0c\\x98\\xc0\\xffFu>\\x13*\\x18*\\xb3\\xb7}/\\x9b\\x1f\\xbf\\xfd\\xab\\rWc\\xa4\\xd5\\xf2\\x96\\xaf\\xbc\\xca\\x8a\\xe5\\xca\\x06\\xe0%I>\\xaf\\x05\\x05h\\xc8d\\xf6\\xceL\\xa0U\\xf1r\\xf0\\xad\\x8a\\x96\\xe0\\xa2\\xe7\\x07S\\xde-\\x8biY5Ya]\\xff\\xdd\\xf0\\xa97\\xce\\xed^(\\xa0\\xc3k\\x86\\x94\\xde\\xff\\xc4\"*\\xa8I\\xd4Y\\x99\\x82\\xb7\\x89\\xb6\\x03\\xbf\\xa6\\xe3[\\xd3x\\xb7\\xda\\x86\\x07\\x98|\\xaf\\x05?$\\x1f\\xb7&\\xc1 \\x97\\xd7\\xdf(\\xcb\\xc7p\\x14\\xde\\xf0U\\xe9\\x02\\x03\\x01\\x00\\x01\\xa0)0\\'\\x06\\t*\\x86H\\x86\\xf7\\r\\x01\\t\\x0e1\\x1a0\\x180\\x16\\x06\\x03U\\x1d\\x11\\x04\\x0f0\\r\\x82\\x0bsamot.ninja0\\r\\x06\\t*\\x86H\\x86\\xf7\\r\\x01\\x01\\x0b\\x05\\x00\\x03\\x82\\x02\\x01\\x00\\xcf\\xfd\\xa9\\xa4Z\\x05\\xe3\\xda\\xd1\\x04zS\\x08\\xc3\\xd1\\xfb\\xdc`\\xd2X\\xe2{j\\xdf\\xeap0\\xb56\\x1f\\xa1r\\xfe \\xef\\xf0Yp\\xf9O\\xd9\\xf6\\xa9\\xbb\\r%.\\xc5\\xc6\\xe49\\xa7\\x91\\xca\\x1e\\x15o\\xf2\\xc91jpA\\x82\\x06\\xf6\\x89\\xba\\xca1\\xc8\\xab\\thv\\xb8\\xbc,\\xb2\\x9e\\xd4A\\x7fD\\xd9\\xa4*\\x9e.y\\xee\\xd1\\xe4\\xe0I\\xd7\\xf2\\x9f\\x88\\xd4J\\xef\\xa0\\xc0\\x9b\\x8a\\xd7\\x964\\xd2\\x93\\xe7\\xd5\\t ?\\x1c\\x81d\\xd6LI\\xc1z\\xea\\x9c\\x19\\x17Iu\\x02B\\r\\x92agv\\xc5`2|[\\x84\\xa00\\x9eGs.\\xfb\\xd5|\\xa2\\xb3X\\xec\\xcbj\\xe5\\xf4\\x99\\xdf\\xb0\\xad\\xe0\\x00\\x04\\xf0\\x9c\\xb7%\\x0c\\xc8o@1\\xb9\\xa0\\x8f\\x08)\\xeb\\xac\\x83r3\\x1d4d\\x92S~7D?4{!\\xa2\\xc9\\x84U\\'\\xbd\\xa8\\x86E\\xcd1\\xb0>\\xd3\\t\\x80<\\xe6\\xcci4\\x95\\xdb41#\\xcc]9\\x19\\xf0+5pIV\\xb4\\x0c\\xd2\\xc6\\xa1\\x95\\xde\\xf2\\xbe\\x1a\\xdc\\x86\\x1b\\xe6f\\xe1\\xc4B\\xc5\\xa71p0#\\n\\xe9\\x9e]\\x1b9s\\x9f[L\\x17Kh\\xd3\\xae`\\xa0f\\xa5\\x7f\\x00\\xb0g}\\x03df2\\xaf\\xa8\\x19df(\\xe4\\xa0(D\\xc3m\\x11\\x99N\\xb0ci\\x19-\\x1a\\x13\\x14\\xceL\\x92\\xb4\\x9bv\\xfa\\xf4\\x92\\xe4c\\xf4\\xd7c/\\x01\\xfe\\xd3\\xdf\\xcb\\xe0?\\x94\\x0f\\x82\\xd5\\x065\\xdd\\xd4y\\xeaP\\xed>\\xa3.\\xb5Q\\x97\\xe0\\xa1\\xcb\\x13\\x8f\\\\\\xd1\\xbaW1\\x1a%\\xb4t\\x9f\\xfa\\xfbC\\x84\\xc47\\xa2\\xfd#1\\xe5l\\xa6\\xd6\\xe8\\x8e\\xbe\\x82\\x8a\\x11\\xda\\x0br\\xe9 \\xd5\\xb4\\xda,\\x96\\xfc\\x85\\xbf\\x86\\xfbr\\xc4\\xcc\\xc7\\xa8\\x7f\\xbe\\xa8/\"\\xe5\\x9d\\x98cE6\\xb2\\xcdu-c[\\xce\\x87*\\xf1v\\x0e\\xc8\\xcd)\\x9a\\x01N&/\\xa6\\tA\\x8f\\xd2U\\xabL\\xf3\\xad\\x13\\xb9\\xed\\xafU+\\xeb\\x13\\x92^JE\\x91I?\\xe6\\x85:jek\\xde\\xb7\\xc9E\\xfa\\xfbw\\xb7\\x17`f<\\x96(s\\xf6B\\x95\\xe4\\x88X3\\x1b\\xc7\\xc0\\x01\\x1dY=\\xbb\\xcbW\\x046\\x95(+\\xb0/\\xff\\xcb\\xe9\\xca\\xac\\xe9\\xa4', form='der'), domains: [u'samot.ninja']\r\n2017-05-11 18:18:58,895:DEBUG:certbot.storage:Archive directory /etc/letsencrypt/archive/samot.ninja and live directory /etc/letsencrypt/live/samot.ninja created.\r\n2017-05-11 18:18:58,895:DEBUG:certbot.storage:Writing certificate to /etc/letsencrypt/live/samot.ninja/cert.pem.\r\n2017-05-11 18:18:58,896:DEBUG:certbot.storage:Writing private key to /etc/letsencrypt/live/samot.ninja/privkey.pem.\r\n2017-05-11 18:18:58,896:DEBUG:certbot.storage:Writing chain to /etc/letsencrypt/live/samot.ninja/chain.pem.\r\n2017-05-11 18:18:58,896:DEBUG:certbot.storage:Writing full chain to /etc/letsencrypt/live/samot.ninja/fullchain.pem.\r\n2017-05-11 18:18:58,896:DEBUG:certbot.storage:Writing README to /etc/letsencrypt/live/samot.ninja/README.\r\n2017-05-11 18:19:00,068:DEBUG:certbot.storage:Writing new config /etc/letsencrypt/renewal/samot.ninja.conf.\r\n2017-05-11 18:19:00,069:DEBUG:certbot.reporter:Reporting to user: Congratulations! Your certificate and chain have been saved at /etc/letsencrypt/live/samot.ninja/fullchain.pem. Your cert will expire on 2017-08-09. To obtain a new or tweaked version of this certificate in the future, simply run certbot again with the \"certonly\" option. To non-interactively renew *all* of your certificates, run \"certbot renew\"\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n## Dockerfile for building the image:\r\n```\r\n# sudo docker run -p 80:80 -p 443:443 -d -t --name PrivateBin -h samot.ninja -i privatebin\r\n# Build with:\r\n# docker build PrivateBin -t privatebin\r\nFROM php:7.0-apache\r\nEXPOSE 80\r\nEXPOSE 443\r\n\r\nENV PRIVATEBIN_URL https://github.com/PrivateBin/PrivateBin/archive/master.zip\r\n\r\nADD cert.sh /cert.sh\r\nRUN chmod a+x /cert.sh\r\n\r\nRUN apt-get update\r\nRUN apt-get install -y wget\r\nRUN apt-get install -y unzip\r\nRUN apt-get install -y cron\r\n\r\nRUN set -x \\\r\n  && cd /var/www/html \\\r\n  && rm -rf *\r\n\r\nRUN cd /tmp \\\r\n    && wget $PRIVATEBIN_URL \\\r\n    && unzip master.zip \\\r\n    && cd PrivateBin-master \\\r\n    && mv * /var/www/html \\\r\n    && cd /var/www/html\r\n\r\nRUN echo 'deb http://ftp.debian.org/debian jessie-backports main' >> /etc/apt/sources.list\r\nRUN apt-get update\r\nRUN apt-get install -y python-certbot-apache -t jessie-backports\r\n\r\nRUN rm -rf /var/lib/apt/lists/*\r\n\r\nRUN echo \"************************************************************************************************\"\r\nRUN echo \"Don't forget to edit & run /cert.sh\"\r\n```", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/4643/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/4643/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/4640", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/4640/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/4640/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/4640/events", "html_url": "https://github.com/certbot/certbot/issues/4640", "id": 227993537, "node_id": "MDU6SXNzdWUyMjc5OTM1Mzc=", "number": 4640, "title": "Pip fails as setuptools's version is not pinned", "user": {"login": "watercrossing", "id": 5656196, "node_id": "MDQ6VXNlcjU2NTYxOTY=", "avatar_url": "https://avatars.githubusercontent.com/u/5656196?v=4", "gravatar_id": "", "url": "https://api.github.com/users/watercrossing", "html_url": "https://github.com/watercrossing", "followers_url": "https://api.github.com/users/watercrossing/followers", "following_url": "https://api.github.com/users/watercrossing/following{/other_user}", "gists_url": "https://api.github.com/users/watercrossing/gists{/gist_id}", "starred_url": "https://api.github.com/users/watercrossing/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/watercrossing/subscriptions", "organizations_url": "https://api.github.com/users/watercrossing/orgs", "repos_url": "https://api.github.com/users/watercrossing/repos", "events_url": "https://api.github.com/users/watercrossing/events{/privacy}", "received_events_url": "https://api.github.com/users/watercrossing/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 276243379, "node_id": "MDU6TGFiZWwyNzYyNDMzNzk=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20certbot-auto", "name": "area: certbot-auto", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/38", "html_url": "https://github.com/certbot/certbot/milestone/38", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/38/labels", "id": 2501130, "node_id": "MDk6TWlsZXN0b25lMjUwMTEzMA==", "number": 38, "title": "0.16.0", "description": "", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 28, "state": "closed", "created_at": "2017-05-04T20:40:14Z", "updated_at": "2017-09-25T19:03:23Z", "due_on": "2017-07-05T07:00:00Z", "closed_at": "2017-07-10T21:38:13Z"}, "comments": 9, "created_at": "2017-05-11T13:35:32Z", "updated_at": "2017-06-12T20:50:39Z", "closed_at": "2017-06-12T20:50:27Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "## My operating system is (include version):\r\nScientific Linux 6.9\r\npython 2.6 (yeah I know...)\r\n\r\n## I installed Certbot with (certbot-auto, OS package manager, pip, etc):\r\ncertbot-auto, 0.14.0\r\n\r\n## I ran this command and it produced this output:\r\n```\r\nCreating virtual environment...\r\nInstalling Python packages...\r\nHad a problem while installing Python packages.\r\n\r\npip prints the following errors:\r\n=====================================================\r\nDEPRECATION: Python 2.6 is no longer supported by the Python core team, please upgrade your Python. A future version of pip will drop support for Python 2.6\r\nRequirement already satisfied (use --upgrade to upgrade): argparse==1.4.0 in /root/.local/share/letsencrypt/lib/python2.6/site-packages (from -r /tmp/tmp.SOYo2gMg6h/letsencrypt-auto-requirements.txt (line 11))\r\nCollecting pycparser==2.14 (from -r /tmp/tmp.SOYo2gMg6h/letsencrypt-auto-requirements.txt (line 17))\r\n/root/.local/share/letsencrypt/lib/python2.6/site-packages/pip/_vendor/requests/packages/urllib3/util/ssl_.py:315: SNIMissingWarning: An HTTPS request has been made, but the SNI (Subject Name Indication) extension to TLS is not available on this platform. This may cause the server to present an incorrect TLS certificate, which can cause validation failures. For more information, see https://urllib3.readthedocs.org/en/latest/security.html#snimissingwarning.\r\n  SNIMissingWarning\r\n/root/.local/share/letsencrypt/lib/python2.6/site-packages/pip/_vendor/requests/packages/urllib3/util/ssl_.py:120: InsecurePlatformWarning: A true SSLContext object is not available. This prevents urllib3 from configuring SSL appropriately and may cause certain SSL connections to fail. For more information, see https://urllib3.readthedocs.org/en/latest/security.html#insecureplatformwarning.\r\n  InsecurePlatformWarning\r\n  Downloading pycparser-2.14.tar.gz (223kB)\r\nCollecting cffi==1.4.2 (from -r /tmp/tmp.SOYo2gMg6h/letsencrypt-auto-requirements.txt (line 21))\r\n  Downloading cffi-1.4.2.tar.gz (365kB)\r\nCollecting ConfigArgParse==0.10.0 (from -r /tmp/tmp.SOYo2gMg6h/letsencrypt-auto-requirements.txt (line 38))\r\n  Downloading ConfigArgParse-0.10.0.tar.gz\r\nCollecting configobj==5.0.6 (from -r /tmp/tmp.SOYo2gMg6h/letsencrypt-auto-requirements.txt (line 40))\r\n  Downloading configobj-5.0.6.tar.gz\r\nCollecting cryptography==1.5.3 (from -r /tmp/tmp.SOYo2gMg6h/letsencrypt-auto-requirements.txt (line 42))\r\n  Downloading cryptography-1.5.3.tar.gz (400kB)\r\nCollecting enum34==1.1.2 (from -r /tmp/tmp.SOYo2gMg6h/letsencrypt-auto-requirements.txt (line 65))\r\n  Downloading enum34-1.1.2.tar.gz (46kB)\r\nCollecting funcsigs==0.4 (from -r /tmp/tmp.SOYo2gMg6h/letsencrypt-auto-requirements.txt (line 68))\r\n  Downloading funcsigs-0.4-py2.py3-none-any.whl\r\nCollecting idna==2.0 (from -r /tmp/tmp.SOYo2gMg6h/letsencrypt-auto-requirements.txt (line 71))\r\n  Downloading idna-2.0-py2.py3-none-any.whl (61kB)\r\nCollecting ipaddress==1.0.16 (from -r /tmp/tmp.SOYo2gMg6h/letsencrypt-auto-requirements.txt (line 74))\r\n  Downloading ipaddress-1.0.16.tar.gz\r\nCollecting linecache2==1.0.0 (from -r /tmp/tmp.SOYo2gMg6h/letsencrypt-auto-requirements.txt (line 77))\r\n  Downloading linecache2-1.0.0-py2.py3-none-any.whl\r\nCollecting ordereddict==1.1 (from -r /tmp/tmp.SOYo2gMg6h/letsencrypt-auto-requirements.txt (line 80))\r\n  Downloading ordereddict-1.1.tar.gz\r\nCollecting parsedatetime==2.1 (from -r /tmp/tmp.SOYo2gMg6h/letsencrypt-auto-requirements.txt (line 82))\r\n  Downloading parsedatetime-2.1-py2-none-any.whl\r\nCollecting pbr==1.8.1 (from -r /tmp/tmp.SOYo2gMg6h/letsencrypt-auto-requirements.txt (line 85))\r\n  Downloading pbr-1.8.1-py2.py3-none-any.whl (89kB)\r\nCollecting pyasn1==0.1.9 (from -r /tmp/tmp.SOYo2gMg6h/letsencrypt-auto-requirements.txt (line 88))\r\n  Downloading pyasn1-0.1.9-py2.py3-none-any.whl\r\nCollecting pyOpenSSL==16.2.0 (from -r /tmp/tmp.SOYo2gMg6h/letsencrypt-auto-requirements.txt (line 100))\r\n  Downloading pyOpenSSL-16.2.0-py2.py3-none-any.whl (43kB)\r\nCollecting pyparsing==2.1.8 (from -r /tmp/tmp.SOYo2gMg6h/letsencrypt-auto-requirements.txt (line 103))\r\n  Downloading pyparsing-2.1.8-py2.py3-none-any.whl (54kB)\r\nCollecting pyRFC3339==1.0 (from -r /tmp/tmp.SOYo2gMg6h/letsencrypt-auto-requirements.txt (line 112))\r\n  Downloading pyRFC3339-1.0-py2.py3-none-any.whl\r\nCollecting python-augeas==0.5.0 (from -r /tmp/tmp.SOYo2gMg6h/letsencrypt-auto-requirements.txt (line 115))\r\n  Downloading python-augeas-0.5.0.tar.gz (90kB)\r\nCollecting pytz==2015.7 (from -r /tmp/tmp.SOYo2gMg6h/letsencrypt-auto-requirements.txt (line 117))\r\n  Downloading pytz-2015.7-py2.py3-none-any.whl (476kB)\r\nCollecting requests==2.12.1 (from -r /tmp/tmp.SOYo2gMg6h/letsencrypt-auto-requirements.txt (line 131))\r\n  Downloading requests-2.12.1-py2.py3-none-any.whl (574kB)\r\nCollecting six==1.10.0 (from -r /tmp/tmp.SOYo2gMg6h/letsencrypt-auto-requirements.txt (line 134))\r\n  Downloading six-1.10.0-py2.py3-none-any.whl\r\nCollecting traceback2==1.4.0 (from -r /tmp/tmp.SOYo2gMg6h/letsencrypt-auto-requirements.txt (line 137))\r\n  Downloading traceback2-1.4.0-py2.py3-none-any.whl\r\nCollecting unittest2==1.1.0 (from -r /tmp/tmp.SOYo2gMg6h/letsencrypt-auto-requirements.txt (line 140))\r\n  Downloading unittest2-1.1.0-py2.py3-none-any.whl (96kB)\r\nCollecting zope.component==4.2.2 (from -r /tmp/tmp.SOYo2gMg6h/letsencrypt-auto-requirements.txt (line 143))\r\n  Downloading zope.component-4.2.2.tar.gz (546kB)\r\nCollecting zope.event==4.1.0 (from -r /tmp/tmp.SOYo2gMg6h/letsencrypt-auto-requirements.txt (line 145))\r\n  Downloading zope.event-4.1.0.tar.gz (476kB)\r\nCollecting zope.interface==4.1.3 (from -r /tmp/tmp.SOYo2gMg6h/letsencrypt-auto-requirements.txt (line 147))\r\n  Downloading zope.interface-4.1.3.tar.gz (141kB)\r\nCollecting mock==1.0.1 (from -r /tmp/tmp.SOYo2gMg6h/letsencrypt-auto-requirements.txt (line 165))\r\n  Downloading mock-1.0.1.zip (861kB)\r\nCollecting letsencrypt==0.7.0 (from -r /tmp/tmp.SOYo2gMg6h/letsencrypt-auto-requirements.txt (line 168))\r\n  Downloading letsencrypt-0.7.0-py2-none-any.whl\r\nCollecting acme==0.14.0 (from -r /tmp/tmp.SOYo2gMg6h/letsencrypt-auto-requirements.txt (line 174))\r\n  Downloading acme-0.14.0-py2.py3-none-any.whl (96kB)\r\nCollecting certbot==0.14.0 (from -r /tmp/tmp.SOYo2gMg6h/letsencrypt-auto-requirements.txt (line 177))\r\n  Downloading certbot-0.14.0-py2.py3-none-any.whl (247kB)\r\nCollecting certbot-apache==0.14.0 (from -r /tmp/tmp.SOYo2gMg6h/letsencrypt-auto-requirements.txt (line 180))\r\n  Downloading certbot_apache-0.14.0-py2.py3-none-any.whl (133kB)\r\nCollecting certbot-nginx==0.14.0 (from -r /tmp/tmp.SOYo2gMg6h/letsencrypt-auto-requirements.txt (line 183))\r\n  Downloading certbot_nginx-0.14.0-py2.py3-none-any.whl (63kB)\r\nCollecting setuptools>=11.3 (from cryptography==1.5.3->-r /tmp/tmp.SOYo2gMg6h/letsencrypt-auto-requirements.txt (line 42))\r\nIn --require-hashes mode, all requirements must have their versions pinned with ==. These do not:\r\n    setuptools>=11.3 from https://pypi.python.org/packages/27/45/79618f80704497f74f2de1ca62216a5c3ffdbd49f43047c81c30e126a055/setuptools-35.0.2-py2.py3-none-any.whl#md5=54a3dac8fe9b912bb884a485d9a2e9cb (from cryptography==1.5.3->-r /tmp/tmp.SOYo2gMg6h/letsencrypt-auto-requirements.txt (line 42))\r\n/root/.local/share/letsencrypt/lib/python2.6/site-packages/pip/_vendor/requests/packages/urllib3/util/ssl_.py:120: InsecurePlatformWarning: A true SSLContext object is not available. This prevents urllib3 from configuring SSL appropriately and may cause certain SSL connections to fail. For more information, see https://urllib3.readthedocs.org/en/latest/security.html#insecureplatformwarning.\r\n  InsecurePlatformWarning\r\nYou are using pip version 8.0.3, however version 9.0.1 is available.\r\nYou should consider upgrading via the 'pip install --upgrade pip' command.\r\n=====================================================\r\n```\r\n\r\n## Certbot's behavior differed from what I expected because:\r\nFails to install\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/4640/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/4640/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/4584", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/4584/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/4584/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/4584/events", "html_url": "https://github.com/certbot/certbot/issues/4584", "id": 225352457, "node_id": "MDU6SXNzdWUyMjUzNTI0NTc=", "number": 4584, "title": "[Errno 2] No such file or directory. Skipping.", "user": {"login": "mikeraz", "id": 333608, "node_id": "MDQ6VXNlcjMzMzYwOA==", "avatar_url": "https://avatars.githubusercontent.com/u/333608?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mikeraz", "html_url": "https://github.com/mikeraz", "followers_url": "https://api.github.com/users/mikeraz/followers", "following_url": "https://api.github.com/users/mikeraz/following{/other_user}", "gists_url": "https://api.github.com/users/mikeraz/gists{/gist_id}", "starred_url": "https://api.github.com/users/mikeraz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mikeraz/subscriptions", "organizations_url": "https://api.github.com/users/mikeraz/orgs", "repos_url": "https://api.github.com/users/mikeraz/repos", "events_url": "https://api.github.com/users/mikeraz/events{/privacy}", "received_events_url": "https://api.github.com/users/mikeraz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 261409142, "node_id": "MDU6TGFiZWwyNjE0MDkxNDI=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20renewal", "name": "area: renewal", "color": "c5def5", "default": false, "description": null}, {"id": 276667632, "node_id": "MDU6TGFiZWwyNzY2Njc2MzI=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20pkging", "name": "area: pkging", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2017-04-30T20:33:40Z", "updated_at": "2017-05-04T20:30:44Z", "closed_at": "2017-05-04T20:30:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "## My operating system is (include version):\r\nArchLinux - current\r\n\r\n## I installed Certbot with (certbot-auto, OS package manager, pip, etc):\r\nOS package manger\r\npacman -Qs certbot\r\nlocal/certbot 0.13.0-2\r\n    A tool to automatically receive and install X.509 certificates to enable TLS on servers. The client will interoperate with the Let\u2019s Encrypt CA which will be issuing\r\n    browser-trusted certificates for free.\r\nlocal/certbot-apache 0.13.0-1\r\n    Apache plugin for Let\u2019s Encrypt client\r\nlocal/letshelp-certbot 0.6.0-2\r\n    Let's help Let's Encrypt client\r\n\r\n## I ran this command and it produced this output:\r\n# /usr/bin/certbot renew\r\nSaving debug log to /var/log/letsencrypt/letsencrypt.log\r\n\r\n-------------------------------------------------------------------------------\r\nProcessing /etc/letsencrypt/renewal/michaelsnet.us.conf\r\n-------------------------------------------------------------------------------\r\nCert is due for renewal, auto-renewing...\r\nAttempting to renew cert from /etc/letsencrypt/renewal/michaelsnet.us.conf produced an unexpected error: [Errno 2] No such file or directory. Skipping.\r\n\r\nAll renewal attempts failed. The following certs could not be renewed:\r\n  /etc/letsencrypt/live/michaelsnet.us/fullchain.pem (failure)\r\n1 renew failure(s), 0 parse failure(s)\r\n\r\n\r\n## Certbot's behavior differed from what I expected because:\r\nExpected certs to be renewed.\r\n\r\n## Here is a Certbot log showing the issue (if available):\r\n###### Logs are stored in `/var/log/letsencrypt` by default. Feel free to redact domains, e-mail and IP addresses as you see fit.\r\n2017-04-30 20:24:28,237:DEBUG:certbot.log:Root logging level set at 20\r\n2017-04-30 20:24:28,239:INFO:certbot.log:Saving debug log to /var/log/letsencrypt/letsencrypt.log\r\n2017-04-30 20:24:28,240:DEBUG:certbot.main:certbot version: 0.13.0\r\n2017-04-30 20:24:28,240:DEBUG:certbot.main:Arguments: []\r\n2017-04-30 20:24:28,241:DEBUG:certbot.main:Discovered plugins: PluginsRegistry(PluginEntryPoint#apache,PluginEntryPoint#webroot,PluginEntryPoint#null,PluginEntryPoint#manual,PluginEntryPoint#standalone)\r\n2017-04-30 20:24:28,299:DEBUG:certbot.storage:Should renew, less than 30 days before certificate expiry 2017-05-16 01:24:00 UTC.\r\n2017-04-30 20:24:28,299:INFO:certbot.renewal:Cert is due for renewal, auto-renewing...\r\n2017-04-30 20:24:28,339:DEBUG:certbot.plugins.selection:Requested authenticator webroot and installer None\r\n2017-04-30 20:24:28,347:DEBUG:certbot.plugins.selection:Single candidate plugin: * webroot\r\nDescription: Place files in webroot directory\r\nInterfaces: IAuthenticator, IPlugin\r\nEntry point: webroot = certbot.plugins.webroot:Authenticator\r\nInitialized: <certbot.plugins.webroot.Authenticator object at 0x7f51969c3790>\r\nPrep: True\r\n2017-04-30 20:24:28,348:DEBUG:certbot.plugins.selection:Selected authenticator <certbot.plugins.webroot.Authenticator object at 0x7f51969c3790> and installer None\r\n2017-04-30 20:24:28,475:DEBUG:certbot.main:Picked account: <Account(7f8d653c6dcb66d57f1db6ddae484f18)>\r\n2017-04-30 20:24:28,477:DEBUG:acme.client:Sending GET request to https://acme-v01.api.letsencrypt.org/directory.\r\n2017-04-30 20:24:28,496:DEBUG:requests.packages.urllib3.connectionpool:Starting new HTTPS connection (1): acme-v01.api.letsencrypt.org\r\n2017-04-30 20:24:28,624:WARNING:certbot.renewal:Attempting to renew cert from /etc/letsencrypt/renewal/michaelsnet.us.conf produced an unexpected error: [Errno 2] No such file or directory. Skipping.\r\n2017-04-30 20:24:28,631:DEBUG:certbot.renewal:Traceback was:\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python2.7/site-packages/certbot/renewal.py\", line 418, in handle_renewal_request\r\n    main.renew_cert(lineage_config, plugins, renewal_candidate)\r\n  File \"/usr/lib/python2.7/site-packages/certbot/main.py\", line 638, in renew_cert\r\n    le_client = _init_le_client(config, auth, installer)\r\n  File \"/usr/lib/python2.7/site-packages/certbot/main.py\", line 389, in _init_le_client\r\n    return client.Client(config, acc, authenticator, installer, acme=acme)\r\n  File \"/usr/lib/python2.7/site-packages/certbot/client.py\", line 201, in __init__\r\n    acme = acme_from_config_key(config, self.account.key)\r\n  File \"/usr/lib/python2.7/site-packages/certbot/client.py\", line 43, in acme_from_config_key\r\n    return acme_client.Client(config.server, key=key, net=net)\r\n  File \"/usr/lib/python2.7/site-packages/acme/client.py\", line 71, in __init__\r\n    self.net.get(directory).json())\r\n  File \"/usr/lib/python2.7/site-packages/acme/client.py\", line 642, in get\r\n    self._send_request('GET', url, **kwargs), content_type=content_type)\r\n  File \"/usr/lib/python2.7/site-packages/acme/client.py\", line 615, in _send_request\r\n    response = self.session.request(method, url, *args, **kwargs)\r\n  File \"/usr/lib/python2.7/site-packages/requests/sessions.py\", line 488, in request\r\n    resp = self.send(prep, **send_kwargs)\r\n  File \"/usr/lib/python2.7/site-packages/requests/sessions.py\", line 609, in send\r\n    r = adapter.send(request, **kwargs)\r\n  File \"/usr/lib/python2.7/site-packages/requests/adapters.py\", line 497, in send\r\n    raise SSLError(e, request=request)\r\nSSLError: [Errno 2] No such file or directory\r\n\r\n2017-04-30 20:24:28,632:DEBUG:certbot.log:Exiting abnormally:\r\nTraceback (most recent call last):\r\n  File \"/usr/bin/certbot\", line 11, in <module>\r\n    load_entry_point('certbot==0.13.0', 'console_scripts', 'certbot')()\r\n  File \"/usr/lib/python2.7/site-packages/certbot/main.py\", line 755, in main\r\n    return config.func(config, plugins)\r\n  File \"/usr/lib/python2.7/site-packages/certbot/main.py\", line 692, in renew\r\n    renewal.handle_renewal_request(config)\r\n  File \"/usr/lib/python2.7/site-packages/certbot/renewal.py\", line 435, in handle_renewal_request\r\n    len(renew_failures), len(parse_failures)))\r\nError: 1 renew failure(s), 0 parse failure(s)\r\n\r\nNote: all file names found in /etc/letsencrypt/renewal/michaelsnet.us.conf and /usr/bin/certbot were found on the filesystem", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/4584/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/4584/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/4555", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/4555/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/4555/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/4555/events", "html_url": "https://github.com/certbot/certbot/pull/4555", "id": 224630295, "node_id": "MDExOlB1bGxSZXF1ZXN0MTE3ODMyNzY4", "number": 4555, "title": "Allow empty nginx blocks", "user": {"login": "ohemorange", "id": 1227205, "node_id": "MDQ6VXNlcjEyMjcyMDU=", "avatar_url": "https://avatars.githubusercontent.com/u/1227205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ohemorange", "html_url": "https://github.com/ohemorange", "followers_url": "https://api.github.com/users/ohemorange/followers", "following_url": "https://api.github.com/users/ohemorange/following{/other_user}", "gists_url": "https://api.github.com/users/ohemorange/gists{/gist_id}", "starred_url": "https://api.github.com/users/ohemorange/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ohemorange/subscriptions", "organizations_url": "https://api.github.com/users/ohemorange/orgs", "repos_url": "https://api.github.com/users/ohemorange/repos", "events_url": "https://api.github.com/users/ohemorange/events{/privacy}", "received_events_url": "https://api.github.com/users/ohemorange/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 258836706, "node_id": "MDU6TGFiZWwyNTg4MzY3MDY=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20nginx", "name": "area: nginx", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "void-elf", "id": 4513790, "node_id": "MDQ6VXNlcjQ1MTM3OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/4513790?v=4", "gravatar_id": "", "url": "https://api.github.com/users/void-elf", "html_url": "https://github.com/void-elf", "followers_url": "https://api.github.com/users/void-elf/followers", "following_url": "https://api.github.com/users/void-elf/following{/other_user}", "gists_url": "https://api.github.com/users/void-elf/gists{/gist_id}", "starred_url": "https://api.github.com/users/void-elf/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/void-elf/subscriptions", "organizations_url": "https://api.github.com/users/void-elf/orgs", "repos_url": "https://api.github.com/users/void-elf/repos", "events_url": "https://api.github.com/users/void-elf/events{/privacy}", "received_events_url": "https://api.github.com/users/void-elf/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "void-elf", "id": 4513790, "node_id": "MDQ6VXNlcjQ1MTM3OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/4513790?v=4", "gravatar_id": "", "url": "https://api.github.com/users/void-elf", "html_url": "https://github.com/void-elf", "followers_url": "https://api.github.com/users/void-elf/followers", "following_url": "https://api.github.com/users/void-elf/following{/other_user}", "gists_url": "https://api.github.com/users/void-elf/gists{/gist_id}", "starred_url": "https://api.github.com/users/void-elf/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/void-elf/subscriptions", "organizations_url": "https://api.github.com/users/void-elf/orgs", "repos_url": "https://api.github.com/users/void-elf/repos", "events_url": "https://api.github.com/users/void-elf/events{/privacy}", "received_events_url": "https://api.github.com/users/void-elf/received_events", "type": "User", "site_admin": false}, {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/35", "html_url": "https://github.com/certbot/certbot/milestone/35", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/35/labels", "id": 2375335, "node_id": "MDk6TWlsZXN0b25lMjM3NTMzNQ==", "number": 35, "title": "0.14.0", "description": "", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 44, "state": "closed", "created_at": "2017-03-09T18:57:34Z", "updated_at": "2018-02-06T00:50:46Z", "due_on": "2017-05-04T07:00:00Z", "closed_at": "2017-05-05T01:27:47Z"}, "comments": 0, "created_at": "2017-04-26T23:45:00Z", "updated_at": "2017-04-27T01:44:09Z", "closed_at": "2017-04-27T01:44:06Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/certbot/certbot/pulls/4555", "html_url": "https://github.com/certbot/certbot/pull/4555", "diff_url": "https://github.com/certbot/certbot/pull/4555.diff", "patch_url": "https://github.com/certbot/certbot/pull/4555.patch", "merged_at": "2017-04-27T01:44:06Z"}, "body": "Fixes #3893.", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/4555/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/4555/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/certbot/certbot/issues/4544", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/4544/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/4544/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/4544/events", "html_url": "https://github.com/certbot/certbot/issues/4544", "id": 223947519, "node_id": "MDU6SXNzdWUyMjM5NDc1MTk=", "number": 4544, "title": "Apache plugin crashing with Unicode ServerNames", "user": {"login": "schoen", "id": 1750103, "node_id": "MDQ6VXNlcjE3NTAxMDM=", "avatar_url": "https://avatars.githubusercontent.com/u/1750103?v=4", "gravatar_id": "", "url": "https://api.github.com/users/schoen", "html_url": "https://github.com/schoen", "followers_url": "https://api.github.com/users/schoen/followers", "following_url": "https://api.github.com/users/schoen/following{/other_user}", "gists_url": "https://api.github.com/users/schoen/gists{/gist_id}", "starred_url": "https://api.github.com/users/schoen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/schoen/subscriptions", "organizations_url": "https://api.github.com/users/schoen/orgs", "repos_url": "https://api.github.com/users/schoen/repos", "events_url": "https://api.github.com/users/schoen/events{/privacy}", "received_events_url": "https://api.github.com/users/schoen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 258836903, "node_id": "MDU6TGFiZWwyNTg4MzY5MDM=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20apache", "name": "area: apache", "color": "c5def5", "default": false, "description": null}, {"id": 1383990430, "node_id": "MDU6TGFiZWwxMzgzOTkwNDMw", "url": "https://api.github.com/repos/certbot/certbot/labels/needs-update", "name": "needs-update", "color": "ADDEE4", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/8", "html_url": "https://github.com/certbot/certbot/milestone/8", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/8/labels", "id": 1353913, "node_id": "MDk6TWlsZXN0b25lMTM1MzkxMw==", "number": 8, "title": "Important", "description": "This milestone was for things someone on the Certbot team considered necessary for the client to be out of beta, but it's become something of a holding place for many kinds of polishing tickets, and will probably need to be triaged further.", "creator": {"login": "pde", "id": 479213, "node_id": "MDQ6VXNlcjQ3OTIxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/479213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pde", "html_url": "https://github.com/pde", "followers_url": "https://api.github.com/users/pde/followers", "following_url": "https://api.github.com/users/pde/following{/other_user}", "gists_url": "https://api.github.com/users/pde/gists{/gist_id}", "starred_url": "https://api.github.com/users/pde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pde/subscriptions", "organizations_url": "https://api.github.com/users/pde/orgs", "repos_url": "https://api.github.com/users/pde/repos", "events_url": "https://api.github.com/users/pde/events{/privacy}", "received_events_url": "https://api.github.com/users/pde/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 160, "state": "closed", "created_at": "2015-10-13T19:41:13Z", "updated_at": "2020-03-20T18:56:33Z", "due_on": null, "closed_at": "2020-03-20T18:56:33Z"}, "comments": 5, "created_at": "2017-04-24T20:52:25Z", "updated_at": "2019-06-12T23:18:37Z", "closed_at": "2019-06-12T23:18:36Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Reported at\r\n\r\nhttps://community.letsencrypt.org/t/requesting-certs-for-non-ascii-domain-idn-via-certbot-causes-trouble/32637\r\n\r\nIt looks like a ServerName directive containing an \u00fc is causing a crash in `choose_vhost`.\r\n\r\n@jsha said in response to an earlier issue that users would commonly use the Punycode representation of their domain names in other contexts such as web server configurations, but this appears to be a counterexample to that, and one that we don't handle gracefully. :smile:", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/4544/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/4544/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/4533", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/4533/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/4533/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/4533/events", "html_url": "https://github.com/certbot/certbot/issues/4533", "id": 223143167, "node_id": "MDU6SXNzdWUyMjMxNDMxNjc=", "number": 4533, "title": "acme library crashes processing Unicode strings in ACME error detail", "user": {"login": "schoen", "id": 1750103, "node_id": "MDQ6VXNlcjE3NTAxMDM=", "avatar_url": "https://avatars.githubusercontent.com/u/1750103?v=4", "gravatar_id": "", "url": "https://api.github.com/users/schoen", "html_url": "https://github.com/schoen", "followers_url": "https://api.github.com/users/schoen/followers", "following_url": "https://api.github.com/users/schoen/following{/other_user}", "gists_url": "https://api.github.com/users/schoen/gists{/gist_id}", "starred_url": "https://api.github.com/users/schoen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/schoen/subscriptions", "organizations_url": "https://api.github.com/users/schoen/orgs", "repos_url": "https://api.github.com/users/schoen/repos", "events_url": "https://api.github.com/users/schoen/events{/privacy}", "received_events_url": "https://api.github.com/users/schoen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 146954788, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODg=", "url": "https://api.github.com/repos/certbot/certbot/labels/duplicate", "name": "duplicate", "color": "a6a6a6", "default": true, "description": null}, {"id": 272789317, "node_id": "MDU6TGFiZWwyNzI3ODkzMTc=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20error%20handling", "name": "area: error handling", "color": "c5def5", "default": false, "description": null}, {"id": 277074172, "node_id": "MDU6TGFiZWwyNzcwNzQxNzI=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20acme", "name": "area: acme", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-04-20T17:35:23Z", "updated_at": "2017-04-20T17:51:04Z", "closed_at": "2017-04-20T17:50:59Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Based on https://community.letsencrypt.org/t/unicodeencodeerror-running-the-certbot/32422, I investigated a bit and concluded that the `acme` library is unsafe when the CA returns an error detail string containing non-ASCII characters; it crashes with a `UnicodeEncodeError` at\r\n\r\nhttps://github.com/certbot/certbot/blob/master/acme/acme/messages.py#L39\r\n\r\n(Imagine that `err` is `u\"Err\u00f6r message\"`; calling `str()` on that is an error.)\r\n\r\nIn this case, a user had a 404 page containing Russian text and Certbot appeared to crash at the line above when trying to report a failed `webroot` authentication. I'm not certain that this is the only thing preventing Certbot from handling such an error properly, but if I've understood the problem properly, it's at least one obstacle.", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/4533/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/4533/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/4523", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/4523/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/4523/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/4523/events", "html_url": "https://github.com/certbot/certbot/issues/4523", "id": 222566180, "node_id": "MDU6SXNzdWUyMjI1NjYxODA=", "number": 4523, "title": "Don't parse files other than *.conf on Debian 8", "user": {"login": "jmorahan", "id": 1612405, "node_id": "MDQ6VXNlcjE2MTI0MDU=", "avatar_url": "https://avatars.githubusercontent.com/u/1612405?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jmorahan", "html_url": "https://github.com/jmorahan", "followers_url": "https://api.github.com/users/jmorahan/followers", "following_url": "https://api.github.com/users/jmorahan/following{/other_user}", "gists_url": "https://api.github.com/users/jmorahan/gists{/gist_id}", "starred_url": "https://api.github.com/users/jmorahan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jmorahan/subscriptions", "organizations_url": "https://api.github.com/users/jmorahan/orgs", "repos_url": "https://api.github.com/users/jmorahan/repos", "events_url": "https://api.github.com/users/jmorahan/events{/privacy}", "received_events_url": "https://api.github.com/users/jmorahan/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 258836903, "node_id": "MDU6TGFiZWwyNTg4MzY5MDM=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20apache", "name": "area: apache", "color": "c5def5", "default": false, "description": null}, {"id": 276680181, "node_id": "MDU6TGFiZWwyNzY2ODAxODE=", "url": "https://api.github.com/repos/certbot/certbot/labels/more-info", "name": "more-info", "color": "006b75", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "joohoi", "id": 5235109, "node_id": "MDQ6VXNlcjUyMzUxMDk=", "avatar_url": "https://avatars.githubusercontent.com/u/5235109?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joohoi", "html_url": "https://github.com/joohoi", "followers_url": "https://api.github.com/users/joohoi/followers", "following_url": "https://api.github.com/users/joohoi/following{/other_user}", "gists_url": "https://api.github.com/users/joohoi/gists{/gist_id}", "starred_url": "https://api.github.com/users/joohoi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joohoi/subscriptions", "organizations_url": "https://api.github.com/users/joohoi/orgs", "repos_url": "https://api.github.com/users/joohoi/repos", "events_url": "https://api.github.com/users/joohoi/events{/privacy}", "received_events_url": "https://api.github.com/users/joohoi/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "joohoi", "id": 5235109, "node_id": "MDQ6VXNlcjUyMzUxMDk=", "avatar_url": "https://avatars.githubusercontent.com/u/5235109?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joohoi", "html_url": "https://github.com/joohoi", "followers_url": "https://api.github.com/users/joohoi/followers", "following_url": "https://api.github.com/users/joohoi/following{/other_user}", "gists_url": "https://api.github.com/users/joohoi/gists{/gist_id}", "starred_url": "https://api.github.com/users/joohoi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joohoi/subscriptions", "organizations_url": "https://api.github.com/users/joohoi/orgs", "repos_url": "https://api.github.com/users/joohoi/repos", "events_url": "https://api.github.com/users/joohoi/events{/privacy}", "received_events_url": "https://api.github.com/users/joohoi/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/43", "html_url": "https://github.com/certbot/certbot/milestone/43", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/43/labels", "id": 2728510, "node_id": "MDk6TWlsZXN0b25lMjcyODUxMA==", "number": 43, "title": "0.19.0", "description": "", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 45, "state": "closed", "created_at": "2017-08-28T23:39:35Z", "updated_at": "2017-10-05T15:11:05Z", "due_on": "2017-10-04T07:00:00Z", "closed_at": "2017-10-04T23:12:34Z"}, "comments": 3, "created_at": "2017-04-18T22:40:32Z", "updated_at": "2017-09-25T19:03:42Z", "closed_at": "2017-09-25T19:03:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "## My operating system is (include version):\r\nDebian 8 (I expect Ubuntu 14.04 and later will also be affected)\r\n\r\n## I installed Certbot with (certbot-auto, OS package manager, pip, etc):\r\nProbably OS package manager (I don't know for sure because I'm filing this bug report based on [someone else's post](https://community.letsencrypt.org/t/the-apache-plugin-is-not-working/32279?u=jmorahan) in the community forum)\r\n\r\n## I ran this command and it produced this output:\r\n    sudo certbot --apache\r\n    The apache plugin is not working; there may be problems with your existing configuration.\r\n    The error was: PluginError(('There has been an error in parsing the file (%s): %s', '/etc/apache2/sites-available/000-default.conf.save', 'Syntax error'),)\r\n\r\n## Certbot's behavior differed from what I expected because:\r\nCertbot shouldn't have tried to parse that file at all, because Apache only includes files matching `*.conf` by default on Debian 8.\r\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/4523/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/4523/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/4489", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/4489/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/4489/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/4489/events", "html_url": "https://github.com/certbot/certbot/issues/4489", "id": 220875511, "node_id": "MDU6SXNzdWUyMjA4NzU1MTE=", "number": 4489, "title": "certbot-auto stores configuration in /~/ directory when launched as systemd service", "user": {"login": "Talkless", "id": 292191, "node_id": "MDQ6VXNlcjI5MjE5MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/292191?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Talkless", "html_url": "https://github.com/Talkless", "followers_url": "https://api.github.com/users/Talkless/followers", "following_url": "https://api.github.com/users/Talkless/following{/other_user}", "gists_url": "https://api.github.com/users/Talkless/gists{/gist_id}", "starred_url": "https://api.github.com/users/Talkless/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Talkless/subscriptions", "organizations_url": "https://api.github.com/users/Talkless/orgs", "repos_url": "https://api.github.com/users/Talkless/repos", "events_url": "https://api.github.com/users/Talkless/events{/privacy}", "received_events_url": "https://api.github.com/users/Talkless/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 200587469, "node_id": "MDU6TGFiZWwyMDA1ODc0Njk=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20debian%20/%20ubuntu", "name": "area: debian / ubuntu", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/35", "html_url": "https://github.com/certbot/certbot/milestone/35", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/35/labels", "id": 2375335, "node_id": "MDk6TWlsZXN0b25lMjM3NTMzNQ==", "number": 35, "title": "0.14.0", "description": "", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 44, "state": "closed", "created_at": "2017-03-09T18:57:34Z", "updated_at": "2018-02-06T00:50:46Z", "due_on": "2017-05-04T07:00:00Z", "closed_at": "2017-05-05T01:27:47Z"}, "comments": 7, "created_at": "2017-04-11T08:27:42Z", "updated_at": "2017-04-17T21:39:09Z", "closed_at": "2017-04-17T21:39:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "## My operating system is (include version):\r\n\r\nDebian 8 amd64\r\n\r\n## I installed Certbot with (certbot-auto, OS package manager, pip, etc):\r\n```\r\n# wget -q -O certbot-auto https://dl.eff.org/certbot-auto\r\n# chmod a+x certbot-auto \r\n# mv certbot-auto /usr/local/bin/certbot\r\n```\r\n\r\n## I ran this command and it produced this output:\r\n\r\nI create initial certificates like this:\r\n```\r\ncertbot certonly --non-interactive --agree-tos --no-self-upgrade --email info@domain.com --apache -d my.domain.com\r\n```\r\nCertbot creates `/root/.local/share/letsencryt`file tree:\r\n```\r\n# tree -a /root/.local/ | head\r\n/root/.local/\r\n\u2514\u2500\u2500 share\r\n    \u2514\u2500\u2500 letsencrypt\r\n        \u251c\u2500\u2500 bin\r\n        \u2502\u00a0\u00a0 \u251c\u2500\u2500 activate\r\n        \u2502\u00a0\u00a0 \u251c\u2500\u2500 activate.csh\r\n        \u2502\u00a0\u00a0 \u251c\u2500\u2500 activate.fish\r\n        \u2502\u00a0\u00a0 \u251c\u2500\u2500 activate_this.py\r\n        \u2502\u00a0\u00a0 \u251c\u2500\u2500 certbot\r\n        \u2502\u00a0\u00a0 \u251c\u2500\u2500 easy_install\r\n```\r\n\r\nBUT, \r\n\r\nAfter declaring systemd unit file `/etc/systemd/system/certbot.service` (to be usde by `certbot.timer`) like this:\r\n```\r\n[Unit]\r\nDescription=Certbot\r\n\r\n[Service]\r\nType=oneshot\r\nExecStart=/usr/local/bin/certbot --no-self-upgrade -q renew\r\nPrivateTmp=true\r\n```\r\nAnd execute `systemctl start certbot.service` (or by setting up `certbot.timer`),  Certbot creates different configuration file tree in system root, in `~` directory:\r\n```\r\n# tree -a /~/ | head                                                                                                                                     \r\n/~/\r\n\u2514\u2500\u2500 .local\r\n    \u2514\u2500\u2500 share\r\n        \u2514\u2500\u2500 letsencrypt\r\n            \u251c\u2500\u2500 bin\r\n            \u2502\u00a0\u00a0 \u251c\u2500\u2500 activate\r\n            \u2502\u00a0\u00a0 \u251c\u2500\u2500 activate.csh\r\n            \u2502\u00a0\u00a0 \u251c\u2500\u2500 activate.fish\r\n            \u2502\u00a0\u00a0 \u251c\u2500\u2500 activate_this.py\r\n            \u2502\u00a0\u00a0 \u251c\u2500\u2500 certbot\r\n\r\n```\r\n\r\n## Certbot's behavior differed from what I expected because:\r\n\r\nCertbot duplicates `.local/share/letsencrypt` in different path when executed as systemd service, compared to execution interactively in terminal. Seems like \"~/\" is not resolved when running as systemd service.\r\n\r\n## Here is a Certbot log showing the issue (if available):\r\nThere is no relevant log entries.\r\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/4489/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/4489/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/4484", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/4484/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/4484/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/4484/events", "html_url": "https://github.com/certbot/certbot/issues/4484", "id": 220681149, "node_id": "MDU6SXNzdWUyMjA2ODExNDk=", "number": 4484, "title": "certbot-auto doesn't know that \"renew\" should be non-interactive", "user": {"login": "kiranmr", "id": 3932761, "node_id": "MDQ6VXNlcjM5MzI3NjE=", "avatar_url": "https://avatars.githubusercontent.com/u/3932761?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kiranmr", "html_url": "https://github.com/kiranmr", "followers_url": "https://api.github.com/users/kiranmr/followers", "following_url": "https://api.github.com/users/kiranmr/following{/other_user}", "gists_url": "https://api.github.com/users/kiranmr/gists{/gist_id}", "starred_url": "https://api.github.com/users/kiranmr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kiranmr/subscriptions", "organizations_url": "https://api.github.com/users/kiranmr/orgs", "repos_url": "https://api.github.com/users/kiranmr/repos", "events_url": "https://api.github.com/users/kiranmr/events{/privacy}", "received_events_url": "https://api.github.com/users/kiranmr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 276243379, "node_id": "MDU6TGFiZWwyNzYyNDMzNzk=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20certbot-auto", "name": "area: certbot-auto", "color": "c5def5", "default": false, "description": null}, {"id": 281347824, "node_id": "MDU6TGFiZWwyODEzNDc4MjQ=", "url": "https://api.github.com/repos/certbot/certbot/labels/has%20pr", "name": "has pr", "color": "0052cc", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/35", "html_url": "https://github.com/certbot/certbot/milestone/35", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/35/labels", "id": 2375335, "node_id": "MDk6TWlsZXN0b25lMjM3NTMzNQ==", "number": 35, "title": "0.14.0", "description": "", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 44, "state": "closed", "created_at": "2017-03-09T18:57:34Z", "updated_at": "2018-02-06T00:50:46Z", "due_on": "2017-05-04T07:00:00Z", "closed_at": "2017-05-05T01:27:47Z"}, "comments": 12, "created_at": "2017-04-10T15:26:34Z", "updated_at": "2017-04-17T18:41:25Z", "closed_at": "2017-04-17T18:41:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "## My operating system is (include version): \r\nOS: Ubuntu 14.04.2 LTS, Trusty Tahr\r\ncertbot: 0.13.0\r\n\r\n\r\n## I installed Certbot with (certbot-auto, OS package manager, pip, etc): \r\ncertbot-auto downloaded from https://dl.eff.org/certbot-auto\r\n\r\n## I ran this command and it produced this output: \r\nCommand: `certbot-auto renew --pre-hook \"docker ps -q -f name=web|xargs docker stop\"` from a cronjob\r\nOutput: Script got stuck in apt-get \r\n```\r\n \\_ /bin/sh /usr/local/sbin/certbot-auto renew --pre-hook docker stop Controller_contro\r\n     \\_ apt-get install --no-install-recommends python python-dev python-virtualenv gcc\r\n```\r\n\r\napt-get is ran without -y  option, so its stuck waiting for user input.\r\n\r\n\r\n## Certbot's behavior differed from what I expected because:\r\nI expected cert-bot to install required packages non-interactively and continue. `-auto` suffix should  have ensured that apt-get is called with `-y` option\r\n\r\n\r\n## Root cause\r\nI analysed code of script https://github.com/certbot/certbot/blob/master/certbot-auto\r\n`ASSUME_YES` flag is set only if script name is `letsencrypt-auto`\r\n```shell\r\nif [ $BASENAME = \"letsencrypt-auto\" ]; then\r\n  # letsencrypt-auto does not respect --help or --yes for backwards compatibility\r\n  ASSUME_YES=1\r\n  HELP=0\r\nfi\r\n```\r\n\r\nI think above code should be changed to include `certbot-auto` also.\r\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/4484/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/4484/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/4452", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/4452/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/4452/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/4452/events", "html_url": "https://github.com/certbot/certbot/issues/4452", "id": 218754293, "node_id": "MDU6SXNzdWUyMTg3NTQyOTM=", "number": 4452, "title": "Renew fails, even with --allow-subset-of-names", "user": {"login": "nhathaway", "id": 8652371, "node_id": "MDQ6VXNlcjg2NTIzNzE=", "avatar_url": "https://avatars.githubusercontent.com/u/8652371?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nhathaway", "html_url": "https://github.com/nhathaway", "followers_url": "https://api.github.com/users/nhathaway/followers", "following_url": "https://api.github.com/users/nhathaway/following{/other_user}", "gists_url": "https://api.github.com/users/nhathaway/gists{/gist_id}", "starred_url": "https://api.github.com/users/nhathaway/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nhathaway/subscriptions", "organizations_url": "https://api.github.com/users/nhathaway/orgs", "repos_url": "https://api.github.com/users/nhathaway/repos", "events_url": "https://api.github.com/users/nhathaway/events{/privacy}", "received_events_url": "https://api.github.com/users/nhathaway/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 261409142, "node_id": "MDU6TGFiZWwyNjE0MDkxNDI=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20renewal", "name": "area: renewal", "color": "c5def5", "default": false, "description": null}, {"id": 276243379, "node_id": "MDU6TGFiZWwyNzYyNDMzNzk=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20certbot-auto", "name": "area: certbot-auto", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2017-04-02T10:00:27Z", "updated_at": "2017-04-06T18:59:04Z", "closed_at": "2017-04-05T23:42:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "## My operating system is (include version):\r\nUbuntu 14.04\r\n\r\n## I installed Certbot with (certbot-auto, OS package manager, pip, etc):\r\ncertbot-auto\r\n\r\n## I ran this command and it produced this output:\r\n/usr/local/sbin/certbot-auto renew --post-hook=/etc/letsencrypt/renew-hook.sh --allow-subset-of-names\r\n\r\n-------------------------------------------------------------------------------\r\nProcessing /etc/letsencrypt/renewal/XXXXX.com.conf\r\n-------------------------------------------------------------------------------\r\nCert is due for renewal, auto-renewing...\r\nRenewing an existing certificate\r\nPerforming the following challenges:\r\ntls-sni-01 challenge for XXXXX.com\r\ntls-sni-01 challenge for mail.XXXXX.com\r\ntls-sni-01 challenge for www.XXXXX.com\r\nCleaning up challenges\r\nAttempting to renew cert from /etc/letsencrypt/renewal/XXXXX.com.conf produced an unexpected error: Cannot find a VirtualHost matching domain mail.XXXXX.com.. Skipping.\r\n\r\n\r\n## Certbot's behavior differed from what I expected because:\r\nI expected it to ignore the fact that mail.XXXXX.com is not served using nginx and to renew anyway. I used certbot-auto to set up this arrangement without error, so surely it should renew without error?\r\n\r\n## Here is a Certbot log showing the issue (if available):\r\n###### Logs are stored in `/var/log/letsencrypt` by default. Feel free to redact domains, e-mail and IP addresses as you see fit.\r\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/4452/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/4452/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/4425", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/4425/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/4425/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/4425/events", "html_url": "https://github.com/certbot/certbot/pull/4425", "id": 217379027, "node_id": "MDExOlB1bGxSZXF1ZXN0MTEyODQxNTg1", "number": 4425, "title": "Change registering unsafely without email logging level to info", "user": {"login": "ohemorange", "id": 1227205, "node_id": "MDQ6VXNlcjEyMjcyMDU=", "avatar_url": "https://avatars.githubusercontent.com/u/1227205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ohemorange", "html_url": "https://github.com/ohemorange", "followers_url": "https://api.github.com/users/ohemorange/followers", "following_url": "https://api.github.com/users/ohemorange/following{/other_user}", "gists_url": "https://api.github.com/users/ohemorange/gists{/gist_id}", "starred_url": "https://api.github.com/users/ohemorange/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ohemorange/subscriptions", "organizations_url": "https://api.github.com/users/ohemorange/orgs", "repos_url": "https://api.github.com/users/ohemorange/repos", "events_url": "https://api.github.com/users/ohemorange/events{/privacy}", "received_events_url": "https://api.github.com/users/ohemorange/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/34", "html_url": "https://github.com/certbot/certbot/milestone/34", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/34/labels", "id": 2359788, "node_id": "MDk6TWlsZXN0b25lMjM1OTc4OA==", "number": 34, "title": "0.13.0", "description": "", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 54, "state": "closed", "created_at": "2017-03-02T21:05:43Z", "updated_at": "2017-04-12T21:50:48Z", "due_on": "2017-04-05T07:00:00Z", "closed_at": "2017-04-12T21:31:15Z"}, "comments": 0, "created_at": "2017-03-27T21:21:23Z", "updated_at": "2017-03-27T21:47:37Z", "closed_at": "2017-03-27T21:47:15Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/certbot/certbot/pulls/4425", "html_url": "https://github.com/certbot/certbot/pull/4425", "diff_url": "https://github.com/certbot/certbot/pull/4425.diff", "patch_url": "https://github.com/certbot/certbot/pull/4425.patch", "merged_at": "2017-03-27T21:47:15Z"}, "body": "Fixes #4408.", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/4425/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/4425/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/certbot/certbot/issues/4411", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/4411/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/4411/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/4411/events", "html_url": "https://github.com/certbot/certbot/issues/4411", "id": 216929622, "node_id": "MDU6SXNzdWUyMTY5Mjk2MjI=", "number": 4411, "title": " Dashes causing trouble generating certs", "user": {"login": "greg1988", "id": 16213418, "node_id": "MDQ6VXNlcjE2MjEzNDE4", "avatar_url": "https://avatars.githubusercontent.com/u/16213418?v=4", "gravatar_id": "", "url": "https://api.github.com/users/greg1988", "html_url": "https://github.com/greg1988", "followers_url": "https://api.github.com/users/greg1988/followers", "following_url": "https://api.github.com/users/greg1988/following{/other_user}", "gists_url": "https://api.github.com/users/greg1988/gists{/gist_id}", "starred_url": "https://api.github.com/users/greg1988/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/greg1988/subscriptions", "organizations_url": "https://api.github.com/users/greg1988/orgs", "repos_url": "https://api.github.com/users/greg1988/repos", "events_url": "https://api.github.com/users/greg1988/events{/privacy}", "received_events_url": "https://api.github.com/users/greg1988/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 200596079, "node_id": "MDU6TGFiZWwyMDA1OTYwNzk=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20ui%20/%20ux", "name": "area: ui / ux", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2017-03-24T23:39:03Z", "updated_at": "2017-03-28T21:12:32Z", "closed_at": "2017-03-28T21:12:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "## My operating system is (include version):\r\nUbuntu 14.04.5 LTS\r\n\r\n## I installed Certbot with (certbot-auto, OS package manager, pip, etc):\r\ncertbot-auto\r\n\r\n## I ran this command and it produced this output:\r\n**Command:**\r\n`/etc/scripts/certbot-auto certonly -a webroot --webroot-path=/etc/letsencrypt/live/ --keep-until-expiring --no-self-upgrade --agree-tos --force-renewal --non-interactive  -d \"--leadingdashes.com\" 2>&1`\r\n\r\n**Response:**\r\n\"certbot: error: argument -d/--domains/--domain: expected one argument\"\r\n\r\nAlso \r\n**Command:**\r\n`/etc/scripts/certbot-auto certonly -a webroot --webroot-path=/etc/letsencrypt/live/ --keep-until-expiring --no-self-upgrade --agree-tos --force-renewal --non-interactive  -d \"dash-.nexttoperiod.com\" 2>&1`\r\n\r\n**Response:**\r\n\"The request message was malformed :: Invalid character in DNS name\"\r\n\r\n\r\n## Certbot's behavior differed from what I expected because:\r\nI do not control these domains but I would expect the test to execute and fail after my system is able to prove control over the domains (I have also tried with domains I control and got the same errors)\r\n\r\nThe pattern that I am seeing is that if the url contains leading dashes it seems to be interpreted as a command flag\r\n\r\nOR \r\n\r\nIf the url contains dashes that are next to a period, the command fails saying there was an invalid character.\r\n\r\n## Here is a Certbot log showing the issue (if available):\r\n###### Logs are stored in `/var/log/letsencrypt` by default. Feel free to redact domains, e-mail and IP addresses as you see fit.\r\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/4411/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/4411/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/4408", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/4408/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/4408/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/4408/events", "html_url": "https://github.com/certbot/certbot/issues/4408", "id": 216534266, "node_id": "MDU6SXNzdWUyMTY1MzQyNjY=", "number": 4408, "title": "--register-unsafely-without-email prints message even with --quiet", "user": {"login": "jethrogb", "id": 1132307, "node_id": "MDQ6VXNlcjExMzIzMDc=", "avatar_url": "https://avatars.githubusercontent.com/u/1132307?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jethrogb", "html_url": "https://github.com/jethrogb", "followers_url": "https://api.github.com/users/jethrogb/followers", "following_url": "https://api.github.com/users/jethrogb/following{/other_user}", "gists_url": "https://api.github.com/users/jethrogb/gists{/gist_id}", "starred_url": "https://api.github.com/users/jethrogb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jethrogb/subscriptions", "organizations_url": "https://api.github.com/users/jethrogb/orgs", "repos_url": "https://api.github.com/users/jethrogb/repos", "events_url": "https://api.github.com/users/jethrogb/events{/privacy}", "received_events_url": "https://api.github.com/users/jethrogb/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 149596829, "node_id": "MDU6TGFiZWwxNDk1OTY4Mjk=", "url": "https://api.github.com/repos/certbot/certbot/labels/good%20first%20issue", "name": "good first issue", "color": "c61aff", "default": true, "description": null}, {"id": 277080619, "node_id": "MDU6TGFiZWwyNzcwODA2MTk=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20code%20health", "name": "area: code health", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "ohemorange", "id": 1227205, "node_id": "MDQ6VXNlcjEyMjcyMDU=", "avatar_url": "https://avatars.githubusercontent.com/u/1227205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ohemorange", "html_url": "https://github.com/ohemorange", "followers_url": "https://api.github.com/users/ohemorange/followers", "following_url": "https://api.github.com/users/ohemorange/following{/other_user}", "gists_url": "https://api.github.com/users/ohemorange/gists{/gist_id}", "starred_url": "https://api.github.com/users/ohemorange/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ohemorange/subscriptions", "organizations_url": "https://api.github.com/users/ohemorange/orgs", "repos_url": "https://api.github.com/users/ohemorange/repos", "events_url": "https://api.github.com/users/ohemorange/events{/privacy}", "received_events_url": "https://api.github.com/users/ohemorange/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ohemorange", "id": 1227205, "node_id": "MDQ6VXNlcjEyMjcyMDU=", "avatar_url": "https://avatars.githubusercontent.com/u/1227205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ohemorange", "html_url": "https://github.com/ohemorange", "followers_url": "https://api.github.com/users/ohemorange/followers", "following_url": "https://api.github.com/users/ohemorange/following{/other_user}", "gists_url": "https://api.github.com/users/ohemorange/gists{/gist_id}", "starred_url": "https://api.github.com/users/ohemorange/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ohemorange/subscriptions", "organizations_url": "https://api.github.com/users/ohemorange/orgs", "repos_url": "https://api.github.com/users/ohemorange/repos", "events_url": "https://api.github.com/users/ohemorange/events{/privacy}", "received_events_url": "https://api.github.com/users/ohemorange/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/34", "html_url": "https://github.com/certbot/certbot/milestone/34", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/34/labels", "id": 2359788, "node_id": "MDk6TWlsZXN0b25lMjM1OTc4OA==", "number": 34, "title": "0.13.0", "description": "", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 54, "state": "closed", "created_at": "2017-03-02T21:05:43Z", "updated_at": "2017-04-12T21:50:48Z", "due_on": "2017-04-05T07:00:00Z", "closed_at": "2017-04-12T21:31:15Z"}, "comments": 3, "created_at": "2017-03-23T18:48:01Z", "updated_at": "2017-03-28T20:27:22Z", "closed_at": "2017-03-27T21:47:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "## My operating system is (include version):\r\n\r\nUbuntu 16.04\r\n\r\n## I installed Certbot with (certbot-auto, OS package manager, pip, etc):\r\n\r\n`sudo pip install certbot`\r\n\r\n## I ran this command and it produced this output:\r\n\r\n```\r\n$ certbot register --non-interactive --quiet --agree-tos --register-unsafely-without-email\r\nRegistering without email!\r\n```\r\n\r\n## Certbot's behavior differed from what I expected because:\r\n\r\nFrom `certbot --help all`:\r\n\r\n```\r\n  -q, --quiet           Silence all output except errors. Useful for\r\n                        automation via cron. Implies --non-interactive.\r\n                        (default: False)\r\n```\r\n\r\n## Here is a Certbot log showing the issue (if available):\r\n###### Logs are stored in `/var/log/letsencrypt` by default. Feel free to redact domains, e-mail and IP addresses as you see fit.\r\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/4408/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/4408/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/4375", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/4375/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/4375/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/4375/events", "html_url": "https://github.com/certbot/certbot/issues/4375", "id": 215178318, "node_id": "MDU6SXNzdWUyMTUxNzgzMTg=", "number": 4375, "title": "certbot restores old version of site config on renew", "user": {"login": "mechmind", "id": 202584, "node_id": "MDQ6VXNlcjIwMjU4NA==", "avatar_url": "https://avatars.githubusercontent.com/u/202584?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mechmind", "html_url": "https://github.com/mechmind", "followers_url": "https://api.github.com/users/mechmind/followers", "following_url": "https://api.github.com/users/mechmind/following{/other_user}", "gists_url": "https://api.github.com/users/mechmind/gists{/gist_id}", "starred_url": "https://api.github.com/users/mechmind/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mechmind/subscriptions", "organizations_url": "https://api.github.com/users/mechmind/orgs", "repos_url": "https://api.github.com/users/mechmind/repos", "events_url": "https://api.github.com/users/mechmind/events{/privacy}", "received_events_url": "https://api.github.com/users/mechmind/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 258836706, "node_id": "MDU6TGFiZWwyNTg4MzY3MDY=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20nginx", "name": "area: nginx", "color": "c5def5", "default": false, "description": null}, {"id": 261409142, "node_id": "MDU6TGFiZWwyNjE0MDkxNDI=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20renewal", "name": "area: renewal", "color": "c5def5", "default": false, "description": null}, {"id": 276680181, "node_id": "MDU6TGFiZWwyNzY2ODAxODE=", "url": "https://api.github.com/repos/certbot/certbot/labels/more-info", "name": "more-info", "color": "006b75", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "ohemorange", "id": 1227205, "node_id": "MDQ6VXNlcjEyMjcyMDU=", "avatar_url": "https://avatars.githubusercontent.com/u/1227205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ohemorange", "html_url": "https://github.com/ohemorange", "followers_url": "https://api.github.com/users/ohemorange/followers", "following_url": "https://api.github.com/users/ohemorange/following{/other_user}", "gists_url": "https://api.github.com/users/ohemorange/gists{/gist_id}", "starred_url": "https://api.github.com/users/ohemorange/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ohemorange/subscriptions", "organizations_url": "https://api.github.com/users/ohemorange/orgs", "repos_url": "https://api.github.com/users/ohemorange/repos", "events_url": "https://api.github.com/users/ohemorange/events{/privacy}", "received_events_url": "https://api.github.com/users/ohemorange/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ohemorange", "id": 1227205, "node_id": "MDQ6VXNlcjEyMjcyMDU=", "avatar_url": "https://avatars.githubusercontent.com/u/1227205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ohemorange", "html_url": "https://github.com/ohemorange", "followers_url": "https://api.github.com/users/ohemorange/followers", "following_url": "https://api.github.com/users/ohemorange/following{/other_user}", "gists_url": "https://api.github.com/users/ohemorange/gists{/gist_id}", "starred_url": "https://api.github.com/users/ohemorange/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ohemorange/subscriptions", "organizations_url": "https://api.github.com/users/ohemorange/orgs", "repos_url": "https://api.github.com/users/ohemorange/repos", "events_url": "https://api.github.com/users/ohemorange/events{/privacy}", "received_events_url": "https://api.github.com/users/ohemorange/received_events", "type": "User", "site_admin": false}, {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 14, "created_at": "2017-03-18T09:17:32Z", "updated_at": "2017-06-07T20:55:04Z", "closed_at": "2017-06-07T20:54:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "## My operating system is (include version):\r\narchlinux\r\n\r\n## I installed Certbot with (certbot-auto, OS package manager, pip, etc):\r\nos package manager, version 0.12.0-1\r\n\r\n## I ran this command and it produced this output:\r\ncertbot renew (updated successfully)\r\n\r\n## Certbot's behavior differed from what I expected because:\r\ncertbot replaced current nginx config for server with old version of this config. The difference between configs are in some rewrites, letsencrypt part is not modified.\r\n\r\n## Here is a Certbot log showing the issue (if available):\r\n###### Logs are stored in `/var/log/letsencrypt` by default. Feel free to redact domains, e-mail and IP addresses as you see fit.\r\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/4375/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/4375/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/4346", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/4346/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/4346/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/4346/events", "html_url": "https://github.com/certbot/certbot/issues/4346", "id": 214381946, "node_id": "MDU6SXNzdWUyMTQzODE5NDY=", "number": 4346, "title": "Not able to run ./certbot-auto: Showing pip version upgrade message", "user": {"login": "veerendra2", "id": 8393701, "node_id": "MDQ6VXNlcjgzOTM3MDE=", "avatar_url": "https://avatars.githubusercontent.com/u/8393701?v=4", "gravatar_id": "", "url": "https://api.github.com/users/veerendra2", "html_url": "https://github.com/veerendra2", "followers_url": "https://api.github.com/users/veerendra2/followers", "following_url": "https://api.github.com/users/veerendra2/following{/other_user}", "gists_url": "https://api.github.com/users/veerendra2/gists{/gist_id}", "starred_url": "https://api.github.com/users/veerendra2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/veerendra2/subscriptions", "organizations_url": "https://api.github.com/users/veerendra2/orgs", "repos_url": "https://api.github.com/users/veerendra2/repos", "events_url": "https://api.github.com/users/veerendra2/events{/privacy}", "received_events_url": "https://api.github.com/users/veerendra2/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 239432238, "node_id": "MDU6TGFiZWwyMzk0MzIyMzg=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20fedora%20/%20redhat%20/%20CentOS", "name": "area: fedora / redhat / CentOS", "color": "c5def5", "default": false, "description": null}, {"id": 276243379, "node_id": "MDU6TGFiZWwyNzYyNDMzNzk=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20certbot-auto", "name": "area: certbot-auto", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2017-03-15T13:02:29Z", "updated_at": "2017-08-28T22:16:40Z", "closed_at": "2017-08-28T22:16:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "## My operating system is (include version):\r\n`Linux 10.0.0.169 2.6.32-642.11.1.el6.centos.plus.x86_64 #1 SMP Sat Nov 19 13:48:44 UTC 2016 x86_64 x86_64 x86_64 GNU/Linux`\r\n\r\n## I installed Certbot with (certbot-auto, OS package manager, pip, etc):\r\n`sudo yum install python-certbot-apache`\r\n`wget https://dl.eff.org/certbot-auto`\r\n`chmod a+x ./certbot-auto`\r\n\r\n**`pip` versions: all are showing `9.0`**\r\nDefault python version is 2.7\r\n```\r\n[root@10 ~]# which pip2.6\r\n/usr/bin/pip2.6\r\n[root@10 ~]# which pip2.7\r\n/usr/bin/pip2.7\r\n[root@10 ~]# pip2.6 -V\r\npip 9.0.1 from /usr/lib/python2.6/site-packages (python 2.6)\r\n[root@10 ~]# pip -V\r\npip 9.0.1 from /usr/lib/python2.7/site-packages (python 2.7)\r\n```\r\n\r\n## I ran this command and it produced this output:\r\n `./certbot-auto --apache`\r\n```\r\n------------Truncating Ouput ------------\r\n    c/call_python.c:190: error: \u2018state\u2019 undeclared (first use in this function)\r\n    c/call_python.c:196: warning: implicit declaration of function \u2018fprintf\u2019\r\n    c/call_python.c:196: warning: incompatible implicit declaration of built-in function \u2018fprintf\u2019\r\n    c/call_python.c:196: error: \u2018stderr\u2019 undeclared (first use in this function)\r\n    In file included from c/_cffi_backend.c:6413:\r\n    c/cffi1_module.c: At top level:\r\n    c/cffi1_module.c:22: error: expected \u2018)\u2019 before \u2018*\u2019 token\r\n    c/cffi1_module.c:76: error: expected declaration specifiers or \u2018...\u2019 before \u2018PyObject\u2019\r\n    c/cffi1_module.c:77: error: expected declaration specifiers or \u2018...\u2019 before \u2018PyObject\u2019\r\n    c/cffi1_module.c: In function \u2018make_included_tuples\u2019:\r\n    c/cffi1_module.c:79: error: \u2018Py_ssize_t\u2019 undeclared (first use in this function)\r\n    c/cffi1_module.c:79: warning: statement with no effect\r\n    c/cffi1_module.c:79: error: expected \u2018;\u2019 before \u2018num\u2019\r\n    c/cffi1_module.c:86: error: \u2018num\u2019 undeclared (first use in this function)\r\n    c/cffi1_module.c:86: error: lvalue required as increment operand\r\n    c/cffi1_module.c:86: warning: statement with no effect\r\n    c/cffi1_module.c:88: error: \u2018included_ffis\u2019 undeclared (first use in this function)\r\n    c/cffi1_module.c:88: warning: assignment makes pointer from integer without a cast\r\n    c/cffi1_module.c:89: error: \u2018included_libs\u2019 undeclared (first use in this function)\r\n    c/cffi1_module.c:89: warning: assignment makes pointer from integer without a cast\r\n    c/cffi1_module.c:93: warning: statement with no effect\r\n    c/cffi1_module.c:95: error: \u2018PyObject\u2019 undeclared (first use in this function)\r\n    c/cffi1_module.c:95: error: \u2018included_ffi\u2019 undeclared (first use in this function)\r\n    c/cffi1_module.c:95: error: invalid operands to binary * (have \u2018void **\u2019 and \u2018void **\u2019)\r\n    c/cffi1_module.c:95: error: \u2018included_lib\u2019 undeclared (first use in this function)\r\n    c/cffi1_module.c:95: warning: left-hand operand of comma expression has no effect\r\n    c/cffi1_module.c:95: warning: statement with no effect\r\n    c/cffi1_module.c:96: error: \u2018m\u2019 undeclared (first use in this function)\r\n    c/cffi1_module.c:96: error: invalid operands to binary * (have \u2018void **\u2019 and \u2018void **\u2019)\r\n    c/cffi1_module.c:96: warning: implicit declaration of function \u2018PyImport_ImportModule\u2019\r\n    c/cffi1_module.c:96: warning: statement with no effect\r\n    c/cffi1_module.c:100: warning: implicit declaration of function \u2018PyObject_GetAttrString\u2019\r\n    c/cffi1_module.c:100: warning: statement with no effect\r\n    c/cffi1_module.c:104: warning: pointer/integer type mismatch in conditional expression\r\n    c/cffi1_module.c:104: warning: statement with no effect\r\n    c/cffi1_module.c:111: warning: implicit declaration of function \u2018PyObject_TypeCheck\u2019\r\n    c/cffi1_module.c:111: error: \u2018FFI_Type\u2019 undeclared (first use in this function)\r\n    c/cffi1_module.c:112: error: \u2018Lib_Type\u2019 undeclared (first use in this function)\r\n    c/cffi1_module.c:112: warning: comparison between pointer and integer\r\n    c/cffi1_module.c:114: error: lvalue required as increment operand\r\n    c/cffi1_module.c:114: warning: statement with no effect\r\n    c/cffi1_module.c:119: error: \u2018PyExc_ImportError\u2019 undeclared (first use in this function)\r\n    c/cffi1_module.c: At top level:\r\n    c/cffi1_module.c:128: error: expected \u2018=\u2019, \u2018,\u2019, \u2018;\u2019, \u2018asm\u2019 or \u2018__attribute__\u2019 before \u2018*\u2019 token\r\n    c/cffi1_module.c:150: error: expected \u2018=\u2019, \u2018,\u2019, \u2018;\u2019, \u2018asm\u2019 or \u2018__attribute__\u2019 before \u2018*\u2019 token\r\n    c/_cffi_backend.c:6434: error: expected \u2018=\u2019, \u2018,\u2019, \u2018;\u2019, \u2018asm\u2019 or \u2018__attribute__\u2019 before \u2018init_cffi_backend\u2019\r\n    error: command 'gcc' failed with exit status 1\r\n    \r\n    ----------------------------------------\r\nCommand \"/root/.local/share/letsencrypt/bin/python2.7 -u -c \"import setuptools, tokenize;__file__='/tmp/pip-build-3JGvB2/cffi/setup.py';exec(compile(getattr(tokenize, 'open', open)(__file__).read().replace('\\r\\n', '\\n'), __file__, 'exec'))\" install --record /tmp/pip-s40VuD-record/install-record.txt --single-version-externally-managed --compile --install-headers /root/.local/share/letsencrypt/include/site/python2.7/cffi\" failed with error code 1 in /tmp/pip-build-3JGvB2/cffi\r\nYou are using pip version 8.0.3, however version 9.0.1 is available.\r\nYou should consider upgrading via the 'pip install --upgrade pip' command.\r\n=====================================================\r\n\r\nCertbot has problem setting up the virtual environment.\r\n\r\nWe were not be able to guess the right solution from your pip \r\noutput.\r\n\r\nConsult https://certbot.eff.org/docs/install.html#problems-with-python-virtual-environment\r\nfor possible solutions.\r\nYou may also find some support resources at https://certbot.eff.org/support/ .\r\n\r\n```\r\n## Certbot's behavior differed from what I expected because:\r\nIt should work without errors\r\n## Here is a Certbot log showing the issue (if available):\r\n###### Logs are stored in `/var/log/letsencrypt` by default. Feel free to redact domains, e-mail and IP addresses as you see fit.\r\nI could not find `/var/log/letsencrypt`  log file\r\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/4346/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/4346/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/4333", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/4333/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/4333/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/4333/events", "html_url": "https://github.com/certbot/certbot/pull/4333", "id": 213854835, "node_id": "MDExOlB1bGxSZXF1ZXN0MTEwNDY3MDcw", "number": 4333, "title": "If we fail to reload, try starting Nginx once without catching output", "user": {"login": "ohemorange", "id": 1227205, "node_id": "MDQ6VXNlcjEyMjcyMDU=", "avatar_url": "https://avatars.githubusercontent.com/u/1227205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ohemorange", "html_url": "https://github.com/ohemorange", "followers_url": "https://api.github.com/users/ohemorange/followers", "following_url": "https://api.github.com/users/ohemorange/following{/other_user}", "gists_url": "https://api.github.com/users/ohemorange/gists{/gist_id}", "starred_url": "https://api.github.com/users/ohemorange/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ohemorange/subscriptions", "organizations_url": "https://api.github.com/users/ohemorange/orgs", "repos_url": "https://api.github.com/users/ohemorange/repos", "events_url": "https://api.github.com/users/ohemorange/events{/privacy}", "received_events_url": "https://api.github.com/users/ohemorange/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 258836706, "node_id": "MDU6TGFiZWwyNTg4MzY3MDY=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20nginx", "name": "area: nginx", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/34", "html_url": "https://github.com/certbot/certbot/milestone/34", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/34/labels", "id": 2359788, "node_id": "MDk6TWlsZXN0b25lMjM1OTc4OA==", "number": 34, "title": "0.13.0", "description": "", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 54, "state": "closed", "created_at": "2017-03-02T21:05:43Z", "updated_at": "2017-04-12T21:50:48Z", "due_on": "2017-04-05T07:00:00Z", "closed_at": "2017-04-12T21:31:15Z"}, "comments": 4, "created_at": "2017-03-13T18:20:15Z", "updated_at": "2017-04-06T00:35:44Z", "closed_at": "2017-03-16T00:05:53Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/certbot/certbot/pulls/4333", "html_url": "https://github.com/certbot/certbot/pull/4333", "diff_url": "https://github.com/certbot/certbot/pull/4333.diff", "patch_url": "https://github.com/certbot/certbot/pull/4333.patch", "merged_at": "2017-03-16T00:05:53Z"}, "body": "Because a successful start with piped output hangs on Arch.\r\n\r\nFixes #4324.", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/4333/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/4333/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/certbot/certbot/issues/4330", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/4330/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/4330/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/4330/events", "html_url": "https://github.com/certbot/certbot/issues/4330", "id": 213565427, "node_id": "MDU6SXNzdWUyMTM1NjU0Mjc=", "number": 4330, "title": "certbot registration update fails due to updated terms-and-conditions", "user": {"login": "jimbauwens", "id": 467409, "node_id": "MDQ6VXNlcjQ2NzQwOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/467409?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jimbauwens", "html_url": "https://github.com/jimbauwens", "followers_url": "https://api.github.com/users/jimbauwens/followers", "following_url": "https://api.github.com/users/jimbauwens/following{/other_user}", "gists_url": "https://api.github.com/users/jimbauwens/gists{/gist_id}", "starred_url": "https://api.github.com/users/jimbauwens/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jimbauwens/subscriptions", "organizations_url": "https://api.github.com/users/jimbauwens/orgs", "repos_url": "https://api.github.com/users/jimbauwens/repos", "events_url": "https://api.github.com/users/jimbauwens/events{/privacy}", "received_events_url": "https://api.github.com/users/jimbauwens/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 200596079, "node_id": "MDU6TGFiZWwyMDA1OTYwNzk=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20ui%20/%20ux", "name": "area: ui / ux", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2017-03-11T22:48:34Z", "updated_at": "2017-03-21T23:41:50Z", "closed_at": "2017-03-21T23:41:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "## My operating system is (include version):\r\n\r\nDebian 8\r\n\r\n## I installed Certbot with (certbot-auto, OS package manager, pip, etc):\r\n\r\napt-get (using backports), certbot 0.9.3\r\n\r\n## I ran this command and it produced this output:\r\n\r\n```\r\n$ certbot register --update-registration --email new-xx@xx.xx\r\n\r\nAn unexpected error occurred:\r\nUnexpectedUpdate: RegistrationResource(body=Registration(certificates=None, contact=('mailto:x@xx.xx',), authorizations=None, agreement=u'https://letsencrypt.org/documents/LE-SA-v1.0.1-July-27-2015.pdf', key=JWKRSA(key=<ComparableRSAKey(<cryptography.hazmat.backends.openssl.rsa._RSAPublicKey object at ..>)>)), uri=u'https://acme-v01.api.letsencrypt.org/acme/reg/..', new_authzr_uri=u'https://acme-v01.api.letsencrypt.org/acme/new-authz', terms_of_service=u'https://letsencrypt.org/documents/LE-SA-v1.0.1-July-27-2015.pdf')\r\n```\r\n\r\n## Certbot's behavior differed from what I expected because:\r\n\r\nUpdate_registration (acme/client.py) certbot is too strict:\r\n```\r\n       if updated_regr != regr:\r\n           raise errors.UnexpectedUpdate(updated_regr)\r\n```\r\n\r\nIn my case the terms-and-conditions got updated and certbot failed.\r\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/4330/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/4330/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/4289", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/4289/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/4289/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/4289/events", "html_url": "https://github.com/certbot/certbot/issues/4289", "id": 211569469, "node_id": "MDU6SXNzdWUyMTE1Njk0Njk=", "number": 4289, "title": "IOError during config_changes", "user": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 1383990430, "node_id": "MDU6TGFiZWwxMzgzOTkwNDMw", "url": "https://api.github.com/repos/certbot/certbot/labels/needs-update", "name": "needs-update", "color": "ADDEE4", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-03-03T01:26:58Z", "updated_at": "2019-06-12T20:05:35Z", "closed_at": "2019-06-12T20:05:31Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "This bug isn't `certbot-auto` specific. Reversion still works properly before/after this, but this looks like a bug with the reverter and should be investigated.\r\n\r\n## My operating system is (include version):\r\n\r\nCentOS 6\r\n\r\n## I installed Certbot with (certbot-auto, OS package manager, pip, etc):\r\n\r\ncertbot-auto\r\n\r\n## I ran this command and it produced this output:\r\n#### Setup\r\n```\r\n$ sudo docker run --rm -p 80:80 -p 443:443 -it centos:centos6 bash\r\n# yum install httpd -y\r\n# curl https://dl.eff.org/certbot-auto > certbot-auto\r\n# chmod +x certbot-auto\r\n# ./certbot-auto -n --staging --agree-tos --register-unsafely-without-email -d example.org --redirect --apache\r\n```\r\n#### Problem\r\n```\r\n# ./certbot-auto config_changes                                                                             \r\n/root/.local/share/letsencrypt/lib/python2.6/site-packages/cryptography/__init__.py:26: DeprecationWarning: Python 2.6 is no longer supported by the Python core team, please upgrade your Python. A future version of cryptography will drop support for Python 2.6\r\n  DeprecationWarning\r\nSaving debug log to /var/log/letsencrypt/letsencrypt.log\r\nAn unexpected error occurred:\r\nIOError: [Errno 2] No such file or directory: '/var/lib/letsencrypt/backups/1488504145.43/FILEPATHS'\r\nPlease see the logfiles in /var/log/letsencrypt for more details.\r\n```\r\n\r\n## Certbot's behavior differed from what I expected because:\r\n\r\nCertbot blew up.\r\n\r\n## Here is a Certbot log showing the issue (if available):\r\n###### Logs are stored in `/var/log/letsencrypt` by default. Feel free to redact domains, e-mail and IP addresses as you see fit.\r\n```\r\n2017-03-03 01:22:37,183:DEBUG:certbot.main:Root logging level set at 20\r\n2017-03-03 01:22:37,183:INFO:certbot.main:Saving debug log to /var/log/letsencrypt/letsencrypt.log\r\n2017-03-03 01:22:37,184:DEBUG:certbot.main:certbot version: 0.12.0\r\n2017-03-03 01:22:37,184:DEBUG:certbot.main:Arguments: []\r\n2017-03-03 01:22:37,184:DEBUG:certbot.main:Discovered plugins: PluginsRegistry(PluginEntryPoint#nginx,PluginEntryPoint#standalone,PluginEntryPoint#manual,PluginEntryPoint#webroot,PluginEntryPoint#apache,PluginEntryPoint#null)\r\n2017-03-03 01:22:37,186:DEBUG:certbot.main:Exiting abnormally:\r\nTraceback (most recent call last):\r\n  File \"/root/.local/share/letsencrypt/bin/letsencrypt\", line 11, in <module>\r\n    sys.exit(main())\r\n  File \"/root/.local/share/letsencrypt/lib/python2.6/site-packages/certbot/main.py\", line 896, in main\r\n    return config.func(config, plugins)\r\n  File \"/root/.local/share/letsencrypt/lib/python2.6/site-packages/certbot/main.py\", line 534, in config_changes\r\n    client.view_config_changes(config, num=config.num)\r\n  File \"/root/.local/share/letsencrypt/lib/python2.6/site-packages/certbot/client.py\", line 587, in view_config_changes\r\n    rev.view_config_changes(num)\r\n  File \"/root/.local/share/letsencrypt/lib/python2.6/site-packages/certbot/reverter.py\", line 167, in view_config_changes\r\n    with open(os.path.join(cur_dir, \"FILEPATHS\")) as paths_fd:\r\nIOError: [Errno 2] No such file or directory: '/var/lib/letsencrypt/backups/1488504145.43/FILEPATHS'\r\n```", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/4289/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/4289/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/4273", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/4273/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/4273/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/4273/events", "html_url": "https://github.com/certbot/certbot/issues/4273", "id": 210838966, "node_id": "MDU6SXNzdWUyMTA4Mzg5NjY=", "number": 4273, "title": "UnicodeEncodeError while expanding certificate (ascii)", "user": {"login": "zabanshenas", "id": 25638555, "node_id": "MDQ6VXNlcjI1NjM4NTU1", "avatar_url": "https://avatars.githubusercontent.com/u/25638555?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zabanshenas", "html_url": "https://github.com/zabanshenas", "followers_url": "https://api.github.com/users/zabanshenas/followers", "following_url": "https://api.github.com/users/zabanshenas/following{/other_user}", "gists_url": "https://api.github.com/users/zabanshenas/gists{/gist_id}", "starred_url": "https://api.github.com/users/zabanshenas/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zabanshenas/subscriptions", "organizations_url": "https://api.github.com/users/zabanshenas/orgs", "repos_url": "https://api.github.com/users/zabanshenas/repos", "events_url": "https://api.github.com/users/zabanshenas/events{/privacy}", "received_events_url": "https://api.github.com/users/zabanshenas/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 276243286, "node_id": "MDU6TGFiZWwyNzYyNDMyODY=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20webroot", "name": "area: webroot", "color": "c5def5", "default": false, "description": null}, {"id": 281347824, "node_id": "MDU6TGFiZWwyODEzNDc4MjQ=", "url": "https://api.github.com/repos/certbot/certbot/labels/has%20pr", "name": "has pr", "color": "0052cc", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "void-elf", "id": 4513790, "node_id": "MDQ6VXNlcjQ1MTM3OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/4513790?v=4", "gravatar_id": "", "url": "https://api.github.com/users/void-elf", "html_url": "https://github.com/void-elf", "followers_url": "https://api.github.com/users/void-elf/followers", "following_url": "https://api.github.com/users/void-elf/following{/other_user}", "gists_url": "https://api.github.com/users/void-elf/gists{/gist_id}", "starred_url": "https://api.github.com/users/void-elf/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/void-elf/subscriptions", "organizations_url": "https://api.github.com/users/void-elf/orgs", "repos_url": "https://api.github.com/users/void-elf/repos", "events_url": "https://api.github.com/users/void-elf/events{/privacy}", "received_events_url": "https://api.github.com/users/void-elf/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "void-elf", "id": 4513790, "node_id": "MDQ6VXNlcjQ1MTM3OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/4513790?v=4", "gravatar_id": "", "url": "https://api.github.com/users/void-elf", "html_url": "https://github.com/void-elf", "followers_url": "https://api.github.com/users/void-elf/followers", "following_url": "https://api.github.com/users/void-elf/following{/other_user}", "gists_url": "https://api.github.com/users/void-elf/gists{/gist_id}", "starred_url": "https://api.github.com/users/void-elf/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/void-elf/subscriptions", "organizations_url": "https://api.github.com/users/void-elf/orgs", "repos_url": "https://api.github.com/users/void-elf/repos", "events_url": "https://api.github.com/users/void-elf/events{/privacy}", "received_events_url": "https://api.github.com/users/void-elf/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/41", "html_url": "https://github.com/certbot/certbot/milestone/41", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/41/labels", "id": 2570267, "node_id": "MDk6TWlsZXN0b25lMjU3MDI2Nw==", "number": 41, "title": "0.17.0", "description": "", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 30, "state": "closed", "created_at": "2017-06-07T20:46:49Z", "updated_at": "2017-09-01T14:57:39Z", "due_on": "2017-08-02T07:00:00Z", "closed_at": "2017-08-02T20:59:06Z"}, "comments": 12, "created_at": "2017-02-28T16:31:29Z", "updated_at": "2017-07-11T02:05:52Z", "closed_at": "2017-07-11T02:05:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "Whats the problem with the following code?\r\n\r\nMy domain is: zabanshenas.com, talk.zabanshenas.com\r\n\r\nI ran this command: \r\n```\r\n/usr/local/certbot/certbot-auto -t --renew-by-default --agree-tos --webroot -w /etc/letsencrypt/webroot --server https://acme-v01.api.letsencrypt.org/directory -m eng.hnaseri@gmail.com --expand -d zabanshenas.com,www.zabanshenas.com,talk.zabanshenas.com,www.talk.zabanshenas.com certonly\r\n```\r\n\r\n\r\nIt produced this output: \r\n```\r\nSaving debug log to /var/log/letsencrypt/letsencrypt.log\r\nRenewing an existing certificate\r\nPerforming the following challenges:\r\nhttp-01 challenge for zabanshenas.com\r\nhttp-01 challenge for www.zabanshenas.com\r\nhttp-01 challenge for talk.zabanshenas.com\r\nhttp-01 challenge for www.talk.zabanshenas.com\r\nUsing the webroot path /etc/letsencrypt/webroot for all unmatched domains.\r\nWaiting for verification...\r\nCleaning up challenges\r\nAn unexpected error occurred:\r\nUnicodeEncodeError: 'ascii' codec can't encode characters in position 276-280: ordinal not in range(128)\r\nPlease see the logfiles in /var/log/letsencrypt for more details.\r\n```\r\nlogfile:\r\n```\r\n2017-02-28 16:06:00,465:INFO:certbot.auth_handler:Cleaning up challenges\r\n2017-02-28 16:06:00,465:DEBUG:certbot.plugins.webroot:Removing /etc/letsencrypt/webroot/.well-known/acme-challenge/Olybbkj6iWuPN5MrNF7tAAIGrGyh8Ddy22F0TAoQaRE\r\n2017-02-28 16:06:00,466:DEBUG:certbot.plugins.webroot:Removing /etc/letsencrypt/webroot/.well-known/acme-challenge/5o1e3MiNU8gmtuV_Etz44dwhwQXdFbgR86cZhIHU04c\r\n2017-02-28 16:06:00,467:DEBUG:certbot.plugins.webroot:Removing /etc/letsencrypt/webroot/.well-known/acme-challenge/8kKTJhJa6T5wYMWrEwfr7x1wO2FtcNPMaTTMA27z1uA\r\n2017-02-28 16:06:00,467:DEBUG:certbot.plugins.webroot:All challenges cleaned up, removing /etc/letsencrypt/webroot/.well-known/acme-challenge\r\n2017-02-28 16:06:00,469:DEBUG:certbot.main:Exiting abnormally:\r\nTraceback (most recent call last):\r\n  File \"/root/.local/share/letsencrypt/bin/letsencrypt\", line 11, in <module>\r\n    sys.exit(main())\r\n  File \"/root/.local/share/letsencrypt/lib/python2.7/site-packages/certbot/main.py\", line 882, in main\r\n    return config.func(config, plugins)\r\n  File \"/root/.local/share/letsencrypt/lib/python2.7/site-packages/certbot/main.py\", line 659, in obtain_cert\r\n    action, _ = _auth_from_available(le_client, config, domains, certname, lineage)\r\n  File \"/root/.local/share/letsencrypt/lib/python2.7/site-packages/certbot/main.py\", line 104, in _auth_from_available\r\n    renewal.renew_cert(config, domains, le_client, lineage)\r\n  File \"/root/.local/share/letsencrypt/lib/python2.7/site-packages/certbot/renewal.py\", line 296, in renew_cert\r\n    new_certr, new_chain, new_key, _ = le_client.obtain_certificate(domains)\r\n  File \"/root/.local/share/letsencrypt/lib/python2.7/site-packages/certbot/client.py\", line 265, in obtain_certificate\r\n    self.config.allow_subset_of_names)\r\n  File \"/root/.local/share/letsencrypt/lib/python2.7/site-packages/certbot/auth_handler.py\", line 77, in get_authorizations\r\n    self._respond(resp, best_effort)\r\n  File \"/root/.local/share/letsencrypt/lib/python2.7/site-packages/certbot/auth_handler.py\", line 134, in _respond\r\n    self._poll_challenges(chall_update, best_effort)\r\n  File \"/root/.local/share/letsencrypt/lib/python2.7/site-packages/certbot/auth_handler.py\", line 197, in _poll_challenges\r\n    _report_failed_challs(all_failed_achalls)\r\n  File \"/root/.local/share/letsencrypt/lib/python2.7/site-packages/certbot/auth_handler.py\", line 488, in _report_failed_challs\r\n    _generate_failed_chall_msg(achalls), reporter.MEDIUM_PRIORITY)\r\n  File \"/root/.local/share/letsencrypt/lib/python2.7/site-packages/certbot/auth_handler.py\", line 504, in _generate_failed_chall_msg\r\n    if messages.is_acme_error(error):\r\n  File \"/root/.local/share/letsencrypt/lib/python2.7/site-packages/acme/messages.py\", line 39, in is_acme_error\r\n    return (ERROR_PREFIX in str(err)) or (OLD_ERROR_PREFIX in str(err))\r\nUnicodeEncodeError: 'ascii' codec can't encode characters in position 276-280: ordinal not in range(128)\r\n```", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/4273/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/4273/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/4259", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/4259/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/4259/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/4259/events", "html_url": "https://github.com/certbot/certbot/pull/4259", "id": 210199854, "node_id": "MDExOlB1bGxSZXF1ZXN0MTA3OTM5NDQy", "number": 4259, "title": "Don't crash on listen unix:", "user": {"login": "ohemorange", "id": 1227205, "node_id": "MDQ6VXNlcjEyMjcyMDU=", "avatar_url": "https://avatars.githubusercontent.com/u/1227205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ohemorange", "html_url": "https://github.com/ohemorange", "followers_url": "https://api.github.com/users/ohemorange/followers", "following_url": "https://api.github.com/users/ohemorange/following{/other_user}", "gists_url": "https://api.github.com/users/ohemorange/gists{/gist_id}", "starred_url": "https://api.github.com/users/ohemorange/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ohemorange/subscriptions", "organizations_url": "https://api.github.com/users/ohemorange/orgs", "repos_url": "https://api.github.com/users/ohemorange/repos", "events_url": "https://api.github.com/users/ohemorange/events{/privacy}", "received_events_url": "https://api.github.com/users/ohemorange/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 258836706, "node_id": "MDU6TGFiZWwyNTg4MzY3MDY=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20nginx", "name": "area: nginx", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/31", "html_url": "https://github.com/certbot/certbot/milestone/31", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/31/labels", "id": 2262270, "node_id": "MDk6TWlsZXN0b25lMjI2MjI3MA==", "number": 31, "title": "0.12.0", "description": "", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 30, "state": "closed", "created_at": "2017-01-18T19:34:56Z", "updated_at": "2017-03-09T20:14:45Z", "due_on": null, "closed_at": "2017-03-02T23:38:16Z"}, "comments": 0, "created_at": "2017-02-25T01:35:59Z", "updated_at": "2017-02-27T21:35:32Z", "closed_at": "2017-02-27T21:35:30Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/certbot/certbot/pulls/4259", "html_url": "https://github.com/certbot/certbot/pull/4259", "diff_url": "https://github.com/certbot/certbot/pull/4259.diff", "patch_url": "https://github.com/certbot/certbot/pull/4259.patch", "merged_at": "2017-02-27T21:35:29Z"}, "body": "Fixes #4225.", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/4259/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/4259/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/certbot/certbot/issues/4245", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/4245/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/4245/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/4245/events", "html_url": "https://github.com/certbot/certbot/issues/4245", "id": 209570531, "node_id": "MDU6SXNzdWUyMDk1NzA1MzE=", "number": 4245, "title": "certbot fails with \"AttributeError: 'NoneType' object has no attribute 'strip'\"", "user": {"login": "scubanarc", "id": 25964839, "node_id": "MDQ6VXNlcjI1OTY0ODM5", "avatar_url": "https://avatars.githubusercontent.com/u/25964839?v=4", "gravatar_id": "", "url": "https://api.github.com/users/scubanarc", "html_url": "https://github.com/scubanarc", "followers_url": "https://api.github.com/users/scubanarc/followers", "following_url": "https://api.github.com/users/scubanarc/following{/other_user}", "gists_url": "https://api.github.com/users/scubanarc/gists{/gist_id}", "starred_url": "https://api.github.com/users/scubanarc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/scubanarc/subscriptions", "organizations_url": "https://api.github.com/users/scubanarc/orgs", "repos_url": "https://api.github.com/users/scubanarc/repos", "events_url": "https://api.github.com/users/scubanarc/events{/privacy}", "received_events_url": "https://api.github.com/users/scubanarc/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 239432238, "node_id": "MDU6TGFiZWwyMzk0MzIyMzg=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20fedora%20/%20redhat%20/%20CentOS", "name": "area: fedora / redhat / CentOS", "color": "c5def5", "default": false, "description": null}, {"id": 258836903, "node_id": "MDU6TGFiZWwyNTg4MzY5MDM=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20apache", "name": "area: apache", "color": "c5def5", "default": false, "description": null}, {"id": 272789317, "node_id": "MDU6TGFiZWwyNzI3ODkzMTc=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20error%20handling", "name": "area: error handling", "color": "c5def5", "default": false, "description": null}, {"id": 281347824, "node_id": "MDU6TGFiZWwyODEzNDc4MjQ=", "url": "https://api.github.com/repos/certbot/certbot/labels/has%20pr", "name": "has pr", "color": "0052cc", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/43", "html_url": "https://github.com/certbot/certbot/milestone/43", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/43/labels", "id": 2728510, "node_id": "MDk6TWlsZXN0b25lMjcyODUxMA==", "number": 43, "title": "0.19.0", "description": "", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 45, "state": "closed", "created_at": "2017-08-28T23:39:35Z", "updated_at": "2017-10-05T15:11:05Z", "due_on": "2017-10-04T07:00:00Z", "closed_at": "2017-10-04T23:12:34Z"}, "comments": 21, "created_at": "2017-02-22T20:26:28Z", "updated_at": "2017-10-01T17:05:37Z", "closed_at": "2017-10-01T17:05:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "I did the following:\r\n<pre>\r\nsudo yum update\r\nsudo yum install httpd mod_ssl python-certbot-apache\r\nsudo systemctl start httpd\r\nsystemctl status httpd\r\nsudo certbot --apache -d example.com -d www.example.com\r\n</pre>\r\n\r\ncertbot --version\r\n  certbot 0.9.3\r\n\r\nrpm --query centos-release\r\n  centos-release-7-3.1611.el7.centos.x86_64\r\n\r\nCommand line doesn't seem to matter. I tried:\r\n  certbot\r\n  certbot --apache\r\n  sudo certbot --apache -d example.com -d www.example.com\r\n\r\nIn all cases certbot fails almost immediately with the error:\r\n\r\n\"AttributeError: 'NoneType' object has no attribute 'strip'\"\r\n\r\nIt shows the blue window and immediately fails.\r\n\r\nHere's the letsencrypt.log:\r\n\r\n<pre>\r\n2017-02-22 20:21:45,928:DEBUG:certbot.main:Root logging level set at 20\r\n2017-02-22 20:21:45,928:INFO:certbot.main:Saving debug log to /var/log/letsencrypt/letsencrypt.log\r\n2017-02-22 20:21:45,932:DEBUG:certbot.main:certbot version: 0.9.3\r\n2017-02-22 20:21:45,932:DEBUG:certbot.main:Arguments: ['--apache', '-d', 'domain.com', '-d', 'www.domain.com']\r\n2017-02-22 20:21:45,932:DEBUG:certbot.main:Discovered plugins: PluginsRegistry(PluginEntryPoint#apache,PluginEntryPoint#webroot,PluginEntryPoint#null,PluginEntryPoint#manual,PluginEntryPoint#standalone)\r\n2017-02-22 20:21:45,934:DEBUG:certbot.plugins.selection:Requested authenticator apache and installer apache\r\n2017-02-22 20:21:46,202:DEBUG:certbot.main:Exiting abnormally:\r\nTraceback (most recent call last):\r\n  File \"/bin/certbot\", line 9, in <module>\r\n    load_entry_point('certbot==0.9.3', 'console_scripts', 'certbot')()\r\n  File \"/usr/lib/python2.7/site-packages/certbot/main.py\", line 776, in main\r\n    return config.func(config, plugins)\r\n  File \"/usr/lib/python2.7/site-packages/certbot/main.py\", line 502, in run\r\n    installer, authenticator = plug_sel.choose_configurator_plugins(config, plugins, \"run\")\r\n  File \"/usr/lib/python2.7/site-packages/certbot/plugins/selection.py\", line 185, in choose_configurator_plugins\r\n    authenticator = installer = pick_configurator(config, req_inst, plugins)\r\n  File \"/usr/lib/python2.7/site-packages/certbot/plugins/selection.py\", line 25, in pick_configurator\r\n    (interfaces.IAuthenticator, interfaces.IInstaller))\r\n  File \"/usr/lib/python2.7/site-packages/certbot/plugins/selection.py\", line 77, in pick_plugin\r\n    verified.prepare()\r\n  File \"/usr/lib/python2.7/site-packages/certbot/plugins/disco.py\", line 220, in prepare\r\n    return [plugin_ep.prepare() for plugin_ep in six.itervalues(self._plugins)]\r\n  File \"/usr/lib/python2.7/site-packages/certbot/plugins/disco.py\", line 106, in prepare\r\n    self._initialized.prepare()\r\n  File \"/usr/lib/python2.7/site-packages/certbot_apache/configurator.py\", line 188, in prepare\r\n    self.version)\r\n  File \"/usr/lib/python2.7/site-packages/certbot_apache/parser.py\", line 58, in __init__\r\n    self.init_modules()\r\n  File \"/usr/lib/python2.7/site-packages/certbot_apache/parser.py\", line 92, in init_modules\r\n    self.modules.add(self.get_arg(match_name))\r\n  File \"/usr/lib/python2.7/site-packages/certbot_apache/parser.py\", line 339, in get_arg\r\n    value = value.strip(\"'\\\"\")\r\nAttributeError: 'NoneType' object has no attribute 'strip'\r\n</pre>\r\n\r\nAny help would be appreciated.", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/4245/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/4245/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/4243", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/4243/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/4243/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/4243/events", "html_url": "https://github.com/certbot/certbot/pull/4243", "id": 209541239, "node_id": "MDExOlB1bGxSZXF1ZXN0MTA3NDcwMTEx", "number": 4243, "title": "lineage_for_certname should return None if there is no existing renewal file", "user": {"login": "ohemorange", "id": 1227205, "node_id": "MDQ6VXNlcjEyMjcyMDU=", "avatar_url": "https://avatars.githubusercontent.com/u/1227205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ohemorange", "html_url": "https://github.com/ohemorange", "followers_url": "https://api.github.com/users/ohemorange/followers", "following_url": "https://api.github.com/users/ohemorange/following{/other_user}", "gists_url": "https://api.github.com/users/ohemorange/gists{/gist_id}", "starred_url": "https://api.github.com/users/ohemorange/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ohemorange/subscriptions", "organizations_url": "https://api.github.com/users/ohemorange/orgs", "repos_url": "https://api.github.com/users/ohemorange/repos", "events_url": "https://api.github.com/users/ohemorange/events{/privacy}", "received_events_url": "https://api.github.com/users/ohemorange/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 210831837, "node_id": "MDU6TGFiZWwyMTA4MzE4Mzc=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20cert%20management", "name": "area: cert management", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/31", "html_url": "https://github.com/certbot/certbot/milestone/31", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/31/labels", "id": 2262270, "node_id": "MDk6TWlsZXN0b25lMjI2MjI3MA==", "number": 31, "title": "0.12.0", "description": "", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 30, "state": "closed", "created_at": "2017-01-18T19:34:56Z", "updated_at": "2017-03-09T20:14:45Z", "due_on": null, "closed_at": "2017-03-02T23:38:16Z"}, "comments": 1, "created_at": "2017-02-22T18:32:50Z", "updated_at": "2017-02-24T02:31:26Z", "closed_at": "2017-02-24T02:31:24Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/certbot/certbot/pulls/4243", "html_url": "https://github.com/certbot/certbot/pull/4243", "diff_url": "https://github.com/certbot/certbot/pull/4243.diff", "patch_url": "https://github.com/certbot/certbot/pull/4243.patch", "merged_at": "2017-02-24T02:31:24Z"}, "body": "Fixes #4233", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/4243/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/4243/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/certbot/certbot/issues/4233", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/4233/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/4233/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/4233/events", "html_url": "https://github.com/certbot/certbot/issues/4233", "id": 208755783, "node_id": "MDU6SXNzdWUyMDg3NTU3ODM=", "number": 4233, "title": "--cert-name option not honored on new SSL certificate issuance", "user": {"login": "nuxwin", "id": 125594, "node_id": "MDQ6VXNlcjEyNTU5NA==", "avatar_url": "https://avatars.githubusercontent.com/u/125594?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nuxwin", "html_url": "https://github.com/nuxwin", "followers_url": "https://api.github.com/users/nuxwin/followers", "following_url": "https://api.github.com/users/nuxwin/following{/other_user}", "gists_url": "https://api.github.com/users/nuxwin/gists{/gist_id}", "starred_url": "https://api.github.com/users/nuxwin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nuxwin/subscriptions", "organizations_url": "https://api.github.com/users/nuxwin/orgs", "repos_url": "https://api.github.com/users/nuxwin/repos", "events_url": "https://api.github.com/users/nuxwin/events{/privacy}", "received_events_url": "https://api.github.com/users/nuxwin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 210831837, "node_id": "MDU6TGFiZWwyMTA4MzE4Mzc=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20cert%20management", "name": "area: cert management", "color": "c5def5", "default": false, "description": null}, {"id": 281347824, "node_id": "MDU6TGFiZWwyODEzNDc4MjQ=", "url": "https://api.github.com/repos/certbot/certbot/labels/has%20pr", "name": "has pr", "color": "0052cc", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/31", "html_url": "https://github.com/certbot/certbot/milestone/31", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/31/labels", "id": 2262270, "node_id": "MDk6TWlsZXN0b25lMjI2MjI3MA==", "number": 31, "title": "0.12.0", "description": "", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 30, "state": "closed", "created_at": "2017-01-18T19:34:56Z", "updated_at": "2017-03-09T20:14:45Z", "due_on": null, "closed_at": "2017-03-02T23:38:16Z"}, "comments": 6, "created_at": "2017-02-19T23:24:26Z", "updated_at": "2017-03-02T01:30:12Z", "closed_at": "2017-02-24T02:31:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\r\n\r\n```shell\r\nroot@stretch:~# certbot-auto --version\r\ncertbot 0.11.1\r\n```\r\n```shell\r\n# certbot-auto \\\r\ncertonly \\\r\n--non-interactive \\\r\n--agree-tos --email <email> \\\r\n--staging \\\r\n--webroot --webroot-path <path> \\\r\n--allow-subset-of-names \\\r\n--domain unresolvable.domain.tld \\\r\n--domain resolvable.domain.tld \\\r\n--cert-name unresolvable.domain.tld\r\n```\r\nResult in:\r\n```shell\r\nNo certificate found with name unresolvable.domain.tld (expected /etc/letsencrypt/renewal/unresolvable.domain.tld.conf).\r\n```\r\nBut help say (When creating a new certificate ...):\r\n```\r\n--cert-name CERTNAME  Certificate name to apply. Only one certificate name\r\n                        can be used per Certbot run. To see certificate names,\r\n                        run 'certbot certificates'. When creating a new\r\n                        certificate, specifies the new certificate's name.\r\n                        (default: None)\r\n```\r\n\r\nThank you.", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/4233/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/4233/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/4228", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/4228/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/4228/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/4228/events", "html_url": "https://github.com/certbot/certbot/issues/4228", "id": 208156677, "node_id": "MDU6SXNzdWUyMDgxNTY2Nzc=", "number": 4228, "title": "The client sent an unacceptable anti-replay nonce :: JWS has invalid anti-replay nonce", "user": {"login": "diegomaser", "id": 502470, "node_id": "MDQ6VXNlcjUwMjQ3MA==", "avatar_url": "https://avatars.githubusercontent.com/u/502470?v=4", "gravatar_id": "", "url": "https://api.github.com/users/diegomaser", "html_url": "https://github.com/diegomaser", "followers_url": "https://api.github.com/users/diegomaser/followers", "following_url": "https://api.github.com/users/diegomaser/following{/other_user}", "gists_url": "https://api.github.com/users/diegomaser/gists{/gist_id}", "starred_url": "https://api.github.com/users/diegomaser/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/diegomaser/subscriptions", "organizations_url": "https://api.github.com/users/diegomaser/orgs", "repos_url": "https://api.github.com/users/diegomaser/repos", "events_url": "https://api.github.com/users/diegomaser/events{/privacy}", "received_events_url": "https://api.github.com/users/diegomaser/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 146954788, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODg=", "url": "https://api.github.com/repos/certbot/certbot/labels/duplicate", "name": "duplicate", "color": "a6a6a6", "default": true, "description": null}, {"id": 146954790, "node_id": "MDU6TGFiZWwxNDY5NTQ3OTA=", "url": "https://api.github.com/repos/certbot/certbot/labels/help%20wanted", "name": "help wanted", "color": "159818", "default": true, "description": null}, {"id": 200587469, "node_id": "MDU6TGFiZWwyMDA1ODc0Njk=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20debian%20/%20ubuntu", "name": "area: debian / ubuntu", "color": "c5def5", "default": false, "description": null}, {"id": 261409142, "node_id": "MDU6TGFiZWwyNjE0MDkxNDI=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20renewal", "name": "area: renewal", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-02-16T15:37:34Z", "updated_at": "2017-03-01T17:47:09Z", "closed_at": "2017-03-01T17:47:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nI'm having some trouble renewing my certificate. I'm using the following command (manual renew due to hosting provider only supporting manual certificate upload). The process takes a while because it involves verification of 16 different subdomains. \r\n`sudo letsencrypt certonly --manual -d domain1.com -d domain2.com ...`\r\n\r\nAt the end of the process (after verifying each of the domains) I always get the error mentioned: 'The client sent an unacceptable anti-replay nonce :: JWS has invalid anti-replay nonce'.\r\n\r\nI tried 5-6 times, always with the same result. This worked alright a few months ago, I'm not sure what's different now. I'm using the stable LTS version of the client (0.4.1-1 in Ubuntu Xenial 16.04).\r\n\r\nPlease find attached the log file of the execution.\r\n```\r\n2017-02-16 14:27:36,673:DEBUG:letsencrypt.cli:Root logging level set at 30\r\n2017-02-16 14:27:36,674:INFO:letsencrypt.cli:Saving debug log to /var/log/letsencrypt/letsencrypt.log\r\n2017-02-16 14:27:36,675:DEBUG:letsencrypt.cli:letsencrypt version: 0.4.1\r\n2017-02-16 14:27:36,675:DEBUG:letsencrypt.cli:Arguments: ['--manual', '-d', 'XXXXXXXXX.com', '-d', 'www.XXXXXXXXX.com', '-d', 'XXXXXXXXX.org', '-d', 'www.XXXXXXXXX.org', '-d', 'XXXXXXXXX.de', '-d', 'www.XXXXXXXXX.de', '-d', 'BBBB.XXXXXXXXX.com', '-d', 'ZZZZZZZZ.com', '-d', 'www.ZZZZZZZZ.com', '-d', 'ZZZZZZZZ.com', '-d', 'www.ZZZZZZZZ.com', '-d', 'CCCCCC.XXXXXXXXX.com', '-d', 'YYYYYYYYY', '-d', 'www.YYYYYYYYY', '-d', 'beta.YYYYYYYYY', '-d', 'AAAAA.XXXXXXXXX.com']\r\n2017-02-16 14:27:36,675:DEBUG:letsencrypt.cli:Discovered plugins: PluginsRegistry(PluginEntryPoint#webroot,PluginEntryPoint#null,PluginEntryPoint#manual,PluginEntryPoint#standalone)\r\n2017-02-16 14:27:36,680:DEBUG:letsencrypt.cli:Requested authenticator manual and installer None\r\n2017-02-16 14:27:36,681:DEBUG:letsencrypt.display.ops:Single candidate plugin: * manual\r\nDescription: Manually configure an HTTP server\r\nInterfaces: IAuthenticator, IPlugin\r\nEntry point: manual = letsencrypt.plugins.manual:Authenticator\r\nInitialized: <letsencrypt.plugins.manual.Authenticator object at 0x7f184a0097d0>\r\nPrep: True\r\n2017-02-16 14:27:36,682:DEBUG:letsencrypt.cli:Selected authenticator <letsencrypt.plugins.manual.Authenticator object at 0x7f184a0097d0> and installer None\r\n2017-02-16 14:27:36,706:DEBUG:letsencrypt.cli:Picked account: <Account(78a55eded7db3fa8bd9d4a502ebd7e33)>\r\n2017-02-16 14:27:36,710:DEBUG:root:Sending GET request to https://acme-v01.api.letsencrypt.org/directory. args: (), kwargs: {}\r\n2017-02-16 14:27:36,715:INFO:requests.packages.urllib3.connectionpool:Starting new HTTPS connection (1): acme-v01.api.letsencrypt.org\r\n2017-02-16 14:27:37,052:DEBUG:requests.packages.urllib3.connectionpool:\"GET /directory HTTP/1.1\" 200 280\r\n2017-02-16 14:27:37,054:DEBUG:root:Received <Response [200]>. Headers: {'Content-Length': '280', 'Expires': 'Thu, 16 Feb 2017 14:27:37 GMT', 'Boulder-Request-Id': '7hUNyp43PjxKMC0RmIZIRjX2OjL4531_zK0dw7M-UvY', 'Strict-Transport-Security': 'max-age=604800', 'Server': 'nginx', 'Connection': 'keep-alive', 'Pragma': 'no-cache', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Date': 'Thu, 16 Feb 2017 14:27:37 GMT', 'X-Frame-Options': 'DENY', 'Content-Type': 'application/json', 'Replay-Nonce': 'Ndet7Pa1O2O-O6zh7CWWehJp1JpKYLliOjiM-ZVX6ak'}. Content: '{\\n  \"new-authz\": \"https://acme-v01.api.letsencrypt.org/acme/new-authz\",\\n  \"new-cert\": \"https://acme-v01.api.letsencrypt.org/acme/new-cert\",\\n  \"new-reg\": \"https://acme-v01.api.letsencrypt.org/acme/new-reg\",\\n  \"revoke-cert\": \"https://acme-v01.api.letsencrypt.org/acme/revoke-cert\"\\n}'\r\n2017-02-16 14:27:37,055:DEBUG:acme.client:Received response <Response [200]> (headers: {'Content-Length': '280', 'Expires': 'Thu, 16 Feb 2017 14:27:37 GMT', 'Boulder-Request-Id': '7hUNyp43PjxKMC0RmIZIRjX2OjL4531_zK0dw7M-UvY', 'Strict-Transport-Security': 'max-age=604800', 'Server': 'nginx', 'Connection': 'keep-alive', 'Pragma': 'no-cache', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Date': 'Thu, 16 Feb 2017 14:27:37 GMT', 'X-Frame-Options': 'DENY', 'Content-Type': 'application/json', 'Replay-Nonce': 'Ndet7Pa1O2O-O6zh7CWWehJp1JpKYLliOjiM-ZVX6ak'}): '{\\n  \"new-authz\": \"https://acme-v01.api.letsencrypt.org/acme/new-authz\",\\n  \"new-cert\": \"https://acme-v01.api.letsencrypt.org/acme/new-cert\",\\n  \"new-reg\": \"https://acme-v01.api.letsencrypt.org/acme/new-reg\",\\n  \"revoke-cert\": \"https://acme-v01.api.letsencrypt.org/acme/revoke-cert\"\\n}'\r\n2017-02-16 14:27:37,118:INFO:letsencrypt.crypto_util:Generating key (2048 bits): /etc/letsencrypt/keys/0007_key-letsencrypt.pem\r\n2017-02-16 14:27:37,120:INFO:letsencrypt.crypto_util:Creating CSR: /etc/letsencrypt/csr/0007_csr-letsencrypt.pem\r\n2017-02-16 14:27:37,121:DEBUG:letsencrypt.client:CSR: CSR(file='/etc/letsencrypt/csr/0007_csr-letsencrypt.pem', data='0\\x82\\x03\\xd60\\x82\\x02\\xbe\\x02\\x01\\x020\\x1d1\\x1b0\\x19\\x06\\x03U\\x04\\x03\\x0c\\x12XXXXXXXXX.com0\\x82\\x01\"0\\r\\x06\\t*\\x86H\\x86\\xf7\\r\\x01\\x01\\x01\\x05\\x00\\x03\\x82\\x01\\x0f\\x000\\x82\\x01\\n\\x02\\x82\\x01\\x01\\x00\\xb4\\x01O}\\xf4H8\\xf3\\x99\\xa9\\xd9\\xef\\xf2\\xe8\\xf7\\xad\\xfe\\x0b\\xb7\\xbc\\xee\\xad\\x89\\xfa\\xd6\\x8d\\x90\\xb0\\xdb\\xd2\\xc2\\x94\\xa5u&\\xf0O\\x1a\\xa13+\\xfe\\r,\\xf5c\\xf5\\xa3S\\xb3\\x90\\x9d\\xbb\\x03\\xb8\\x8eQ\\xba\\x07\\xfe\\x80/x\\xb3cQ\\xd5\\x1d*\\xd3\\x0bPl\\xa8\\xe8\\x06\\\\\\x99\\xefl$\\xffA\\x8f\\t\\xff\\xd3O\\xf6F3\\x10\\xaa\\x02P\\xda\\x8f\\xc3{\\xc6V\\xf0\\xc4Bx\\xe5\\xe1\\x17\\xc3W\\x99\\xc3\\xf3W\\x0b{E\\xef\\xc8\\xc3>*i\\x8f\\xd3\\x99g9\\x05\\xd1\\xaf7\\xf7\\xc4oK\\xb0O\\x9c\\x8a\\x8f\\xa7\\x12\\xc0\\x05\\xd5J\\xb5&\\x1e\\xea\\xf9\\xf7\\xe3\\xcc\\xd2H\\xb95\\xf3\\xb1\\xbd&\\x1c\\xf8I\\x84\\xb3Q\\x08g\\xf8\\x01`\\xe4\\xac*\\xd0~\\xba\\xc7b\\x15@9\\x96p\\xde\\tIx\\xebU\\t\\x13\\xddJ\\x91\\xa00\\xa9\\x0bl\\xba\\xd4\\x8dP\\xbd\\xa5Qx\"\\xe4\\n\\xf0/OYe/\\xd3J<\\x0c\\xf7\\xf4\\x8dd\\xdb\\x16 K\\x166\\xbb\\x0e?ExEw\\x8a=\\x1e\\xf7\\xf7<\\xf4g\\xf3v\\xbf\\xa9L\\xd2\\xcb\\x02\\x03\\x01\\x00\\x01\\xa0\\x82\\x01r0\\x82\\x01n\\x06\\t*\\x86H\\x86\\xf7\\r\\x01\\t\\x0e1\\x82\\x01_0\\x82\\x01[0\\x82\\x01W\\x06\\x03U\\x1d\\x11\\x04\\x82\\x01N0\\x82\\x01J\\x82\\x12XXXXXXXXX.com\\x82\\x16www.XXXXXXXXX.com\\x82\\x12XXXXXXXXX.org\\x82\\x16www.XXXXXXXXX.org\\x82\\x11XXXXXXXXX.de\\x82\\x15www.XXXXXXXXX.de\\x82\\x17BBBB.XXXXXXXXX.com\\x82\\x11ZZZZZZZZ.com\\x82\\x15www.ZZZZZZZZ.com\\x82\\x10ZZZZZZZZ.com\\x82\\x14www.ZZZZZZZZ.com\\x82\\x1bCCCCCC.XXXXXXXXX.com\\x82\\x08YYYYYYYYY\\x82\\x0cwww.YYYYYYYYY\\x82\\rbeta.YYYYYYYYY\\x82\\x17AAAAA.XXXXXXXXX.com0\\r\\x06\\t*\\x86H\\x86\\xf7\\r\\x01\\x01\\x0b\\x05\\x00\\x03\\x82\\x01\\x01\\x00\\x92\\x8e%\\xe0R\\xd0\\x88\\xeda\\xa1LA0\\\\\\xc2~\\xf9\\x93\\xf3g\\x18\\xde$\\x0cr\\xc3\\x8e\\xae\\x18\\xdc\\xaf\\xa9tJr\\xd1T\\xe3d\\xc6\\xf4(o\\x8a\\xb0\\x81\\xe6G\\xc6\\x98\\x87\\xe3\\x98\\xb60\\xa7\\xfa=e\\x18\\xe1\\rh\\xe9Ix\\xf8\\xb1\\xc4\\x81\\x8b\\x9e\\xf8\\x94,\\xe1\\xee\"!\\x01\\x8d,\\x03\\x08c\\x11\\x83y*gV\\tNE\\x1e\\xa7\\xea\\xd3\\xf5\\x03/\\xe7KO\\xf8\\x91\\x81h{\\x97z\\xacl\\x96\\xa7-k)t1\\x85\\x1c\\xab\\xcc\\xc2\\x17j-c\\x9aGe\\x13\\xdf\\xffH;\\x08\\x97\\x84T8]\\x84\\x12\\xd8\\xea\\x175dBj\\x84H\\x18Xb\\xac\\xc4\\xa9\\x00E\\r#+\\xbf~\\xe6+C++\\xdc9\\x1f\\x8d\\xbc\\x9ao\\xa3,\\xfeV1\\x17\\xf7\\x1ewx\\xa2\\xad`\\xb5\\xe1\\xca\\xb8.\\x99\\x08\\xfcuRl+\\x12\\xea\\x1d[\\xc9\\xefn*\\x15.\\xb1~\\xed~\\x17\\x8c*\\x14\\xe4\\xa3\\x9a\\x95\\x84n\\xa6\\x93$,\\x85\\xd2\\x92\\x13f\\x87v\\x88\\xd9X\\xd6\\xfb\\x96,L\\xeah\\xb3\\xeb\\xe3\\x9c\\x98\\xef\\x15', form='der'), domains: ['XXXXXXXXX.com', 'www.XXXXXXXXX.com', 'XXXXXXXXX.org', 'www.XXXXXXXXX.org', 'XXXXXXXXX.de', 'www.XXXXXXXXX.de', 'BBBB.XXXXXXXXX.com', 'ZZZZZZZZ.com', 'www.ZZZZZZZZ.com', 'ZZZZZZZZ.com', 'www.ZZZZZZZZ.com', 'CCCCCC.XXXXXXXXX.com', 'YYYYYYYYY', 'www.YYYYYYYYY', 'beta.YYYYYYYYY', 'AAAAA.XXXXXXXXX.com']\r\n2017-02-16 14:27:37,121:DEBUG:root:Requesting fresh nonce\r\n2017-02-16 14:27:37,121:DEBUG:root:Sending HEAD request to https://acme-v01.api.letsencrypt.org/acme/new-authz. args: (), kwargs: {}\r\n2017-02-16 14:27:37,122:INFO:requests.packages.urllib3.connectionpool:Starting new HTTPS connection (1): acme-v01.api.letsencrypt.org\r\n2017-02-16 14:27:37,356:DEBUG:requests.packages.urllib3.connectionpool:\"HEAD /acme/new-authz HTTP/1.1\" 405 0\r\n2017-02-16 14:27:37,361:DEBUG:root:Received <Response [405]>. Headers: {'Content-Length': '91', 'Pragma': 'no-cache', 'Boulder-Request-Id': 'XMTpDTZjOYZ6F3Vg-aN1hnezR12soDkPkIpaa5y8Ocg', 'Expires': 'Thu, 16 Feb 2017 14:27:37 GMT', 'Server': 'nginx', 'Connection': 'keep-alive', 'Allow': 'POST', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Date': 'Thu, 16 Feb 2017 14:27:37 GMT', 'Content-Type': 'application/problem+json', 'Replay-Nonce': 'LL9u0aHJ-zeOV0vNY4R7dVCiSOEkY7-1olZ4yFsD1mw'}. Content: ''\r\n2017-02-16 14:27:37,363:DEBUG:acme.client:Storing nonce: ',\\xbfn\\xd1\\xa1\\xc9\\xfb7\\x8eWK\\xcdc\\x84{uP\\xa2H\\xe1$c\\xbf\\xb5\\xa2Vx\\xc8[\\x03\\xd6l'\r\n2017-02-16 14:27:37,363:DEBUG:acme.jose.json_util:Omitted empty fields: challenges=None, combinations=None, status=None, expires=None\r\n2017-02-16 14:27:37,364:DEBUG:acme.client:Serialized JSON: {\"identifier\": {\"type\": \"dns\", \"value\": \"XXXXXXXXX.com\"}, \"resource\": \"new-authz\"}\r\n2017-02-16 14:27:37,366:DEBUG:acme.jose.json_util:Omitted empty fields: x5c=(), x5tS256=None, cty=None, jku=None, x5u=None, x5t=None, crit=(), kid=None, alg=None, jwk=None, typ=None\r\n2017-02-16 14:27:37,372:DEBUG:acme.jose.json_util:Omitted empty fields: jku=None, x5tS256=None, cty=None, x5c=(), x5u=None, x5t=None, crit=(), nonce=None, kid=None, typ=None\r\n2017-02-16 14:27:37,373:DEBUG:root:Sending POST request to https://acme-v01.api.letsencrypt.org/acme/new-authz. args: (), kwargs: {'data': '{\"header\": {\"alg\": \"RS256\", \"jwk\": {\"e\": \"AQAB\", \"kty\": \"RSA\", \"n\": \"pv0kqK_iaq3pJ3HkIwlrq58U_wow4BCoWxj_I2UqBc_z_kV_ZF5Dmfz4qQnJpCpl8DBu9IK5m5wbXWWbYLPqo6gZkDFs-74wp3mXK-viBvsu0vW1oKPUqBRVv13u-lJwbuYN8BsTZhMpcRnP2AqI5VyiUZPc8Bfb-2UkHNlaSWhgCZLI-PhhKKsoBIAfNzaRppur_NRmhC2xVhK-45MRIVevJMo2yNJ8OKWbgMOTXTWBkl3bLpmlkyNX3COcox10oQDJrLo8MOxdRfxXnBnu69dbb3FWaI0FMRim1inBzYMa-bnfERn9EFUd8edqmfGZZopOYm_oE9WPuxKQJSoduw\"}}, \"protected\": \"eyJub25jZSI6ICJMTDl1MGFISi16ZU9WMHZOWTRSN2RWQ2lTT0VrWTctMW9sWjR5RnNEMW13In0\", \"payload\": \"eyJpZGVudGlmaWVyIjogeyJ0eXBlIjogImRucyIsICJ2YWx1ZSI6ICJzb21hLWFuYWx5dGljcy5jb20ifSwgInJlc291cmNlIjogIm5ldy1hdXRoeiJ9\", \"signature\": \"HSd1fUrgD_vNGijOrALpNHFAKHm_xL9X-iBdOQRBuub3mf1zctXlLpqjIAnmq1bdNP4tkSWOiKk6JY74SWDAciGP4AXIa6X_xbExQIGt2im_xeXzRoBQoxp78NfNFmVW0cx_lKdFeFgm0HOHmdTmVZQZXRv0zh0DUxr1BsjSHeHB08era0bm_yJYNNtvJDUNi-0TEjfA0FpnHH9zaJ9TYdbeaV1rNuGgGdDQa_U5F3HcXqZDDXmWamQx7bCxvsm8exiM4Gyw5CBMN7cRei9njuMkm2Mz15uKdLwMCyS-YRClElR9oI-ytuJKRA6lILd6v-2r6NT78K-_oi1Qnp7J9w\"}'}\r\n2017-02-16 14:27:37,376:INFO:requests.packages.urllib3.connectionpool:Starting new HTTPS connection (1): acme-v01.api.letsencrypt.org\r\n2017-02-16 14:27:37,662:DEBUG:requests.packages.urllib3.connectionpool:\"POST /acme/new-authz HTTP/1.1\" 201 1003\r\n2017-02-16 14:27:37,666:DEBUG:root:Received <Response [201]>. Headers: {'Content-Length': '1003', 'Expires': 'Thu, 16 Feb 2017 14:27:37 GMT', 'Boulder-Request-Id': 'em9w01rkUv11pGtckJs66t-DH_UuOMa2eZtLYjZM7BU', 'Strict-Transport-Security': 'max-age=604800', 'Server': 'nginx', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Connection': 'keep-alive', 'Link': '<https://acme-v01.api.letsencrypt.org/acme/new-cert>;rel=\"next\"', 'Location': 'https://acme-v01.api.letsencrypt.org/acme/authz/35gmwEC8WXR7kDjIyuyff1pDhgNeY8D9hLQegjRAj4s', 'Pragma': 'no-cache', 'Boulder-Requester': '9632581', 'Date': 'Thu, 16 Feb 2017 14:27:37 GMT', 'X-Frame-Options': 'DENY', 'Content-Type': 'application/json', 'Replay-Nonce': 'p6hpuLbqyuMYQTvCOuZd0Pv6eNRPLZ49ONXkWBIiEXg'}. Content: '{\\n  \"identifier\": {\\n    \"type\": \"dns\",\\n    \"value\": \"XXXXXXXXX.com\"\\n  },\\n  \"status\": \"pending\",\\n  \"expires\": \"2017-02-23T14:27:37.524023812Z\",\\n  \"challenges\": [\\n    {\\n      \"type\": \"dns-01\",\\n      \"status\": \"pending\",\\n      \"uri\": \"https://acme-v01.api.letsencrypt.org/acme/challenge/35gmwEC8WXR7kDjIyuyff1pDhgNeY8D9hLQegjRAj4s/659945512\",\\n      \"token\": \"c-wyIkSPF_A5dKm0UoQSk5noFT-X9GAw5Yz1QKtPmFE\"\\n    },\\n    {\\n      \"type\": \"http-01\",\\n      \"status\": \"pending\",\\n      \"uri\": \"https://acme-v01.api.letsencrypt.org/acme/challenge/35gmwEC8WXR7kDjIyuyff1pDhgNeY8D9hLQegjRAj4s/659945513\",\\n      \"token\": \"nK3QkxA5mk9sm9tfZk6_DyStvdRg97VDFVwZDen-5TY\"\\n    },\\n    {\\n      \"type\": \"tls-sni-01\",\\n      \"status\": \"pending\",\\n      \"uri\": \"https://acme-v01.api.letsencrypt.org/acme/challenge/35gmwEC8WXR7kDjIyuyff1pDhgNeY8D9hLQegjRAj4s/659945514\",\\n      \"token\": \"eQyXNgoR2DaImW1A8UTuvRB3jymXNTYpL-vYPe7AjXs\"\\n    }\\n  ],\\n  \"combinations\": [\\n    [\\n      1\\n    ],\\n    [\\n      2\\n    ],\\n    [\\n      0\\n    ]\\n  ]\\n}'\r\n2017-02-16 14:27:37,668:DEBUG:acme.client:Storing nonce: '\\xa7\\xa8i\\xb8\\xb6\\xea\\xca\\xe3\\x18A;\\xc2:\\xe6]\\xd0\\xfb\\xfax\\xd4O-\\x9e=8\\xd5\\xe4X\\x12\"\\x11x'\r\n2017-02-16 14:27:37,668:DEBUG:acme.client:Received response <Response [201]> (headers: {'Content-Length': '1003', 'Expires': 'Thu, 16 Feb 2017 14:27:37 GMT', 'Boulder-Request-Id': 'em9w01rkUv11pGtckJs66t-DH_UuOMa2eZtLYjZM7BU', 'Strict-Transport-Security': 'max-age=604800', 'Server': 'nginx', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Connection': 'keep-alive', 'Link': '<https://acme-v01.api.letsencrypt.org/acme/new-cert>;rel=\"next\"', 'Location': 'https://acme-v01.api.letsencrypt.org/acme/authz/35gmwEC8WXR7kDjIyuyff1pDhgNeY8D9hLQegjRAj4s', 'Pragma': 'no-cache', 'Boulder-Requester': '9632581', 'Date': 'Thu, 16 Feb 2017 14:27:37 GMT', 'X-Frame-Options': 'DENY', 'Content-Type': 'application/json', 'Replay-Nonce': 'p6hpuLbqyuMYQTvCOuZd0Pv6eNRPLZ49ONXkWBIiEXg'}): '{\\n  \"identifier\": {\\n    \"type\": \"dns\",\\n    \"value\": \"XXXXXXXXX.com\"\\n  },\\n  \"status\": \"pending\",\\n  \"expires\": \"2017-02-23T14:27:37.524023812Z\",\\n  \"challenges\": [\\n    {\\n      \"type\": \"dns-01\",\\n      \"status\": \"pending\",\\n      \"uri\": \"https://acme-v01.api.letsencrypt.org/acme/challenge/35gmwEC8WXR7kDjIyuyff1pDhgNeY8D9hLQegjRAj4s/659945512\",\\n      \"token\": \"c-wyIkSPF_A5dKm0UoQSk5noFT-X9GAw5Yz1QKtPmFE\"\\n    },\\n    {\\n      \"type\": \"http-01\",\\n      \"status\": \"pending\",\\n      \"uri\": \"https://acme-v01.api.letsencrypt.org/acme/challenge/35gmwEC8WXR7kDjIyuyff1pDhgNeY8D9hLQegjRAj4s/659945513\",\\n      \"token\": \"nK3QkxA5mk9sm9tfZk6_DyStvdRg97VDFVwZDen-5TY\"\\n    },\\n    {\\n      \"type\": \"tls-sni-01\",\\n      \"status\": \"pending\",\\n      \"uri\": \"https://acme-v01.api.letsencrypt.org/acme/challenge/35gmwEC8WXR7kDjIyuyff1pDhgNeY8D9hLQegjRAj4s/659945514\",\\n      \"token\": \"eQyXNgoR2DaImW1A8UTuvRB3jymXNTYpL-vYPe7AjXs\"\\n    }\\n  ],\\n  \"combinations\": [\\n    [\\n      1\\n    ],\\n    [\\n      2\\n    ],\\n    [\\n      0\\n    ]\\n  ]\\n}'\r\n2017-02-16 14:27:37,670:DEBUG:acme.challenges:dns-01 was not recognized, full message: {u'status': u'pending', u'token': u'c-wyIkSPF_A5dKm0UoQSk5noFT-X9GAw5Yz1QKtPmFE', u'type': u'dns-01', u'uri': u'https://acme-v01.api.letsencrypt.org/acme/challenge/35gmwEC8WXR7kDjIyuyff1pDhgNeY8D9hLQegjRAj4s/659945512'}\r\n2017-02-16 14:27:37,672:DEBUG:acme.jose.json_util:Omitted empty fields: challenges=None, combinations=None, status=None, expires=None\r\n2017-02-16 14:27:37,672:DEBUG:acme.client:Serialized JSON: {\"identifier\": {\"type\": \"dns\", \"value\": \"www.XXXXXXXXX.com\"}, \"resource\": \"new-authz\"}\r\n2017-02-16 14:27:37,675:DEBUG:acme.jose.json_util:Omitted empty fields: x5c=(), x5tS256=None, cty=None, jku=None, x5u=None, x5t=None, crit=(), kid=None, alg=None, jwk=None, typ=None\r\n2017-02-16 14:27:37,682:DEBUG:acme.jose.json_util:Omitted empty fields: jku=None, x5tS256=None, cty=None, x5c=(), x5u=None, x5t=None, crit=(), nonce=None, kid=None, typ=None\r\n2017-02-16 14:27:37,682:DEBUG:root:Sending POST request to https://acme-v01.api.letsencrypt.org/acme/new-authz. args: (), kwargs: {'data': '{\"header\": {\"alg\": \"RS256\", \"jwk\": {\"e\": \"AQAB\", \"kty\": \"RSA\", \"n\": \"pv0kqK_iaq3pJ3HkIwlrq58U_wow4BCoWxj_I2UqBc_z_kV_ZF5Dmfz4qQnJpCpl8DBu9IK5m5wbXWWbYLPqo6gZkDFs-74wp3mXK-viBvsu0vW1oKPUqBRVv13u-lJwbuYN8BsTZhMpcRnP2AqI5VyiUZPc8Bfb-2UkHNlaSWhgCZLI-PhhKKsoBIAfNzaRppur_NRmhC2xVhK-45MRIVevJMo2yNJ8OKWbgMOTXTWBkl3bLpmlkyNX3COcox10oQDJrLo8MOxdRfxXnBnu69dbb3FWaI0FMRim1inBzYMa-bnfERn9EFUd8edqmfGZZopOYm_oE9WPuxKQJSoduw\"}}, \"protected\": \"eyJub25jZSI6ICJwNmhwdUxicXl1TVlRVHZDT3VaZDBQdjZlTlJQTFo0OU9OWGtXQklpRVhnIn0\", \"payload\": \"eyJpZGVudGlmaWVyIjogeyJ0eXBlIjogImRucyIsICJ2YWx1ZSI6ICJ3d3cuc29tYS1hbmFseXRpY3MuY29tIn0sICJyZXNvdXJjZSI6ICJuZXctYXV0aHoifQ\", \"signature\": \"Z_YTlESiJKgYxNIYVJBI5kAxluOe-Uh0CVJds0KpAYeOXoKw7NXjbGFai_8oHBUBRcQAMdkclf6XMHCcEILBelTWWSzLu7u4aV1DVRQoN2d58SVwT3MKQohyKL0bkiXcHGaaWIoYg5HXhvx0X9gq1AHaw648dysKiiep0WjQuL9UTd6zJY58TDGF6vBdmXW1XrE6lZ8XdteRDZrZvgtsAwSVRS3EKUZRPc9hE70Lhuw-sA3PfzfolkLE4Cth9y-xpDboh8USo_8pwf-Yhlyb0XlR4uCKOnJCW8qhqAcuRaurzwdWdIjBrjrbCZwHYTohCFZY2SNC6w8ZZI0Fin8ZEw\"}'}\r\n2017-02-16 14:27:37,685:INFO:requests.packages.urllib3.connectionpool:Starting new HTTPS connection (1): acme-v01.api.letsencrypt.org\r\n2017-02-16 14:27:38,020:DEBUG:requests.packages.urllib3.connectionpool:\"POST /acme/new-authz HTTP/1.1\" 201 1007\r\n2017-02-16 14:27:38,025:DEBUG:root:Received <Response [201]>. Headers: {'Content-Length': '1007', 'Expires': 'Thu, 16 Feb 2017 14:27:38 GMT', 'Boulder-Request-Id': 'DWARIA48RipdmC1UB1lQg4LQyaT4Jf0juM6Klg1dWYQ', 'Strict-Transport-Security': 'max-age=604800', 'Server': 'nginx', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Connection': 'keep-alive', 'Link': '<https://acme-v01.api.letsencrypt.org/acme/new-cert>;rel=\"next\"', 'Location': 'https://acme-v01.api.letsencrypt.org/acme/authz/soZDfnka1Kc1FeIROSE8HygJJjrtnM5fmwrc61RXfYM', 'Pragma': 'no-cache', 'Boulder-Requester': '9632581', 'Date': 'Thu, 16 Feb 2017 14:27:38 GMT', 'X-Frame-Options': 'DENY', 'Content-Type': 'application/json', 'Replay-Nonce': 'Ahvn4U9R69L_JMer4ZKDImhAXLV3bvufwPS1DPi5w90'}. Content: '{\\n  \"identifier\": {\\n    \"type\": \"dns\",\\n    \"value\": \"www.XXXXXXXXX.com\"\\n  },\\n  \"status\": \"pending\",\\n  \"expires\": \"2017-02-23T14:27:37.857754383Z\",\\n  \"challenges\": [\\n    {\\n      \"type\": \"http-01\",\\n      \"status\": \"pending\",\\n      \"uri\": \"https://acme-v01.api.letsencrypt.org/acme/challenge/soZDfnka1Kc1FeIROSE8HygJJjrtnM5fmwrc61RXfYM/659945545\",\\n      \"token\": \"w2tRDwMk7a4VsBJT47kwnmn9PP2jmrTOv4ml-9AgFx0\"\\n    },\\n    {\\n      \"type\": \"dns-01\",\\n      \"status\": \"pending\",\\n      \"uri\": \"https://acme-v01.api.letsencrypt.org/acme/challenge/soZDfnka1Kc1FeIROSE8HygJJjrtnM5fmwrc61RXfYM/659945546\",\\n      \"token\": \"sLR3787hOpTiglDEKxx_loLrBPgXExtVTtaEKVcUikE\"\\n    },\\n    {\\n      \"type\": \"tls-sni-01\",\\n      \"status\": \"pending\",\\n      \"uri\": \"https://acme-v01.api.letsencrypt.org/acme/challenge/soZDfnka1Kc1FeIROSE8HygJJjrtnM5fmwrc61RXfYM/659945547\",\\n      \"token\": \"8-xCWaoh80HHqDTkmkiifLyiMgxGeTllg5zzl77ZMg8\"\\n    }\\n  ],\\n  \"combinations\": [\\n    [\\n      1\\n    ],\\n    [\\n      0\\n    ],\\n    [\\n      2\\n    ]\\n  ]\\n}'\r\n2017-02-16 14:27:38,027:DEBUG:acme.client:Storing nonce: '\\x02\\x1b\\xe7\\xe1OQ\\xeb\\xd2\\xff$\\xc7\\xab\\xe1\\x92\\x83\"h@\\\\\\xb5wn\\xfb\\x9f\\xc0\\xf4\\xb5\\x0c\\xf8\\xb9\\xc3\\xdd'\r\n2017-02-16 14:27:38,027:DEBUG:acme.client:Received response <Response [201]> (headers: {'Content-Length': '1007', 'Expires': 'Thu, 16 Feb 2017 14:27:38 GMT', 'Boulder-Request-Id': 'DWARIA48RipdmC1UB1lQg4LQyaT4Jf0juM6Klg1dWYQ', 'Strict-Transport-Security': 'max-age=604800', 'Server': 'nginx', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Connection': 'keep-alive', 'Link': '<https://acme-v01.api.letsencrypt.org/acme/new-cert>;rel=\"next\"', 'Location': 'https://acme-v01.api.letsencrypt.org/acme/authz/soZDfnka1Kc1FeIROSE8HygJJjrtnM5fmwrc61RXfYM', 'Pragma': 'no-cache', 'Boulder-Requester': '9632581', 'Date': 'Thu, 16 Feb 2017 14:27:38 GMT', 'X-Frame-Options': 'DENY', 'Content-Type': 'application/json', 'Replay-Nonce': 'Ahvn4U9R69L_JMer4ZKDImhAXLV3bvufwPS1DPi5w90'}): '{\\n  \"identifier\": {\\n    \"type\": \"dns\",\\n    \"value\": \"www.XXXXXXXXX.com\"\\n  },\\n  \"status\": \"pending\",\\n  \"expires\": \"2017-02-23T14:27:37.857754383Z\",\\n  \"challenges\": [\\n    {\\n      \"type\": \"http-01\",\\n      \"status\": \"pending\",\\n      \"uri\": \"https://acme-v01.api.letsencrypt.org/acme/challenge/soZDfnka1Kc1FeIROSE8HygJJjrtnM5fmwrc61RXfYM/659945545\",\\n      \"token\": \"w2tRDwMk7a4VsBJT47kwnmn9PP2jmrTOv4ml-9AgFx0\"\\n    },\\n    {\\n      \"type\": \"dns-01\",\\n      \"status\": \"pending\",\\n      \"uri\": \"https://acme-v01.api.letsencrypt.org/acme/challenge/soZDfnka1Kc1FeIROSE8HygJJjrtnM5fmwrc61RXfYM/659945546\",\\n      \"token\": \"sLR3787hOpTiglDEKxx_loLrBPgXExtVTtaEKVcUikE\"\\n    },\\n    {\\n      \"type\": \"tls-sni-01\",\\n      \"status\": \"pending\",\\n      \"uri\": \"https://acme-v01.api.letsencrypt.org/acme/challenge/soZDfnka1Kc1FeIROSE8HygJJjrtnM5fmwrc61RXfYM/659945547\",\\n      \"token\": \"8-xCWaoh80HHqDTkmkiifLyiMgxGeTllg5zzl77ZMg8\"\\n    }\\n  ],\\n  \"combinations\": [\\n    [\\n      1\\n    ],\\n    [\\n      0\\n    ],\\n    [\\n      2\\n    ]\\n  ]\\n}'\r\n2017-02-16 14:27:38,028:DEBUG:acme.challenges:dns-01 was not recognized, full message: {u'status': u'pending', u'token': u'sLR3787hOpTiglDEKxx_loLrBPgXExtVTtaEKVcUikE', u'type': u'dns-01', u'uri': u'https://acme-v01.api.letsencrypt.org/acme/challenge/soZDfnka1Kc1FeIROSE8HygJJjrtnM5fmwrc61RXfYM/659945546'}\r\n2017-02-16 14:27:38,030:DEBUG:acme.jose.json_util:Omitted empty fields: challenges=None, combinations=None, status=None, expires=None\r\n2017-02-16 14:27:38,030:DEBUG:acme.client:Serialized JSON: {\"identifier\": {\"type\": \"dns\", \"value\": \"XXXXXXXXX.org\"}, \"resource\": \"new-authz\"}\r\n2017-02-16 14:27:38,033:DEBUG:acme.jose.json_util:Omitted empty fields: x5c=(), x5tS256=None, cty=None, jku=None, x5u=None, x5t=None, crit=(), kid=None, alg=None, jwk=None, typ=None\r\n2017-02-16 14:27:38,039:DEBUG:acme.jose.json_util:Omitted empty fields: jku=None, x5tS256=None, cty=None, x5c=(), x5u=None, x5t=None, crit=(), nonce=None, kid=None, typ=None\r\n2017-02-16 14:27:38,040:DEBUG:root:Sending POST request to https://acme-v01.api.letsencrypt.org/acme/new-authz. args: (), kwargs: {'data': '{\"header\": {\"alg\": \"RS256\", \"jwk\": {\"e\": \"AQAB\", \"kty\": \"RSA\", \"n\": \"pv0kqK_iaq3pJ3HkIwlrq58U_wow4BCoWxj_I2UqBc_z_kV_ZF5Dmfz4qQnJpCpl8DBu9IK5m5wbXWWbYLPqo6gZkDFs-74wp3mXK-viBvsu0vW1oKPUqBRVv13u-lJwbuYN8BsTZhMpcRnP2AqI5VyiUZPc8Bfb-2UkHNlaSWhgCZLI-PhhKKsoBIAfNzaRppur_NRmhC2xVhK-45MRIVevJMo2yNJ8OKWbgMOTXTWBkl3bLpmlkyNX3COcox10oQDJrLo8MOxdRfxXnBnu69dbb3FWaI0FMRim1inBzYMa-bnfERn9EFUd8edqmfGZZopOYm_oE9WPuxKQJSoduw\"}}, \"protected\": \"eyJub25jZSI6ICJBaHZuNFU5UjY5TF9KTWVyNFpLREltaEFYTFYzYnZ1ZndQUzFEUGk1dzkwIn0\", \"payload\": \"eyJpZGVudGlmaWVyIjogeyJ0eXBlIjogImRucyIsICJ2YWx1ZSI6ICJzb21hLWFuYWx5dGljcy5vcmcifSwgInJlc291cmNlIjogIm5ldy1hdXRoeiJ9\", \"signature\": \"RrsMwuB3pS9PSGqYeAexm8KTc-42x-PfxHU6JIHEUQ5g-U3DXj_PjZbUYfC0N2XCL_nyio3Md_-PBfElGQpaOc28sVw2NPa0fK2R65FmHUjQOE2STS2USNqFd4aX9mcGCZOOPX0DlsEZUVum-jPmC5cFm95l6btp31L2TaZtdBgg9HYJxJkjLKCqh3m3vt23S3VuNGbGZZAlTkmN1Z0l4XqgPynwwqe-UQUTPAKXykDrVahvQBtUbf2bdGdOS7B6nfTlkckgy4cySuxDsD-_n_euMvzvZ90eOD9f26EJ1C2N5etkA7vW_PT_pFQYM1mEjuWoF7zW_Rokk_UmPwBTcw\"}'}\r\n2017-02-16 14:27:38,043:INFO:requests.packages.urllib3.connectionpool:Starting new HTTPS connection (1): acme-v01.api.letsencrypt.org\r\n2017-02-16 14:27:38,429:DEBUG:requests.packages.urllib3.connectionpool:\"POST /acme/new-authz HTTP/1.1\" 201 1003\r\n2017-02-16 14:27:38,433:DEBUG:root:Received <Response [201]>. Headers: {'Content-Length': '1003', 'Expires': 'Thu, 16 Feb 2017 14:27:38 GMT', 'Boulder-Request-Id': '1LGHnWVJsSrXL0XP3Nax0DLY2NJWNysVhgWTUbHi_cE', 'Strict-Transport-Security': 'max-age=604800', 'Server': 'nginx', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Connection': 'keep-alive', 'Link': '<https://acme-v01.api.letsencrypt.org/acme/new-cert>;rel=\"next\"', 'Location': 'https://acme-v01.api.letsencrypt.org/acme/authz/14maLEj6xDOkHVaP2-g1kBnOolfBRPIYWWm1sNQZerg', 'Pragma': 'no-cache', 'Boulder-Requester': '9632581', 'Date': 'Thu, 16 Feb 2017 14:27:38 GMT', 'X-Frame-Options': 'DENY', 'Content-Type': 'application/json', 'Replay-Nonce': 'W9BP2jwp9CYdmq7Xcb63gbmU6TnR-bIjREidXLYc8rg'}. Content: '{\\n  \"identifier\": {\\n    \"type\": \"dns\",\\n    \"value\": \"XXXXXXXXX.org\"\\n  },\\n  \"status\": \"pending\",\\n  \"expires\": \"2017-02-23T14:27:38.202880639Z\",\\n  \"challenges\": [\\n    {\\n      \"type\": \"tls-sni-01\",\\n      \"status\": \"pending\",\\n      \"uri\": \"https://acme-v01.api.letsencrypt.org/acme/challenge/14maLEj6xDOkHVaP2-g1kBnOolfBRPIYWWm1sNQZerg/659945563\",\\n      \"token\": \"WQCU5zsKxrQ-NSOFVm30jj2dn7zS7F5jT0P_zn__7Co\"\\n    },\\n    {\\n      \"type\": \"http-01\",\\n      \"status\": \"pending\",\\n      \"uri\": \"https://acme-v01.api.letsencrypt.org/acme/challenge/14maLEj6xDOkHVaP2-g1kBnOolfBRPIYWWm1sNQZerg/659945564\",\\n      \"token\": \"SPzdUMxTQyQlyEPxu7kvlEHE39dVhFwdrnbQDs4v0Gg\"\\n    },\\n    {\\n      \"type\": \"dns-01\",\\n      \"status\": \"pending\",\\n      \"uri\": \"https://acme-v01.api.letsencrypt.org/acme/challenge/14maLEj6xDOkHVaP2-g1kBnOolfBRPIYWWm1sNQZerg/659945565\",\\n      \"token\": \"9B4bzQUvuUD6mRJBbDvxDsILHoIdd6vm-M-yYQ2k0F4\"\\n    }\\n  ],\\n  \"combinations\": [\\n    [\\n      2\\n    ],\\n    [\\n      0\\n    ],\\n    [\\n      1\\n    ]\\n  ]\\n}'\r\n2017-02-16 14:27:38,435:DEBUG:acme.client:Storing nonce: '[\\xd0O\\xda<)\\xf4&\\x1d\\x9a\\xae\\xd7q\\xbe\\xb7\\x81\\xb9\\x94\\xe99\\xd1\\xf9\\xb2#DH\\x9d\\\\\\xb6\\x1c\\xf2\\xb8'\r\n2017-02-16 14:27:38,435:DEBUG:acme.client:Received response <Response [201]> (headers: {'Content-Length': '1003', 'Expires': 'Thu, 16 Feb 2017 14:27:38 GMT', 'Boulder-Request-Id': '1LGHnWVJsSrXL0XP3Nax0DLY2NJWNysVhgWTUbHi_cE', 'Strict-Transport-Security': 'max-age=604800', 'Server': 'nginx', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Connection': 'keep-alive', 'Link': '<https://acme-v01.api.letsencrypt.org/acme/new-cert>;rel=\"next\"', 'Location': 'https://acme-v01.api.letsencrypt.org/acme/authz/14maLEj6xDOkHVaP2-g1kBnOolfBRPIYWWm1sNQZerg', 'Pragma': 'no-cache', 'Boulder-Requester': '9632581', 'Date': 'Thu, 16 Feb 2017 14:27:38 GMT', 'X-Frame-Options': 'DENY', 'Content-Type': 'application/json', 'Replay-Nonce': 'W9BP2jwp9CYdmq7Xcb63gbmU6TnR-bIjREidXLYc8rg'}): '{\\n  \"identifier\": {\\n    \"type\": \"dns\",\\n    \"value\": \"XXXXXXXXX.org\"\\n  },\\n  \"status\": \"pending\",\\n  \"expires\": \"2017-02-23T14:27:38.202880639Z\",\\n  \"challenges\": [\\n    {\\n      \"type\": \"tls-sni-01\",\\n      \"status\": \"pending\",\\n      \"uri\": \"https://acme-v01.api.letsencrypt.org/acme/challenge/14maLEj6xDOkHVaP2-g1kBnOolfBRPIYWWm1sNQZerg/659945563\",\\n      \"token\": \"WQCU5zsKxrQ-NSOFVm30jj2dn7zS7F5jT0P_zn__7Co\"\\n    },\\n    {\\n      \"type\": \"http-01\",\\n      \"status\": \"pending\",\\n      \"uri\": \"https://acme-v01.api.letsencrypt.org/acme/challenge/14maLEj6xDOkHVaP2-g1kBnOolfBRPIYWWm1sNQZerg/659945564\",\\n      \"token\": \"SPzdUMxTQyQlyEPxu7kvlEHE39dVhFwdrnbQDs4v0Gg\"\\n    },\\n    {\\n      \"type\": \"dns-01\",\\n      \"status\": \"pending\",\\n      \"uri\": \"https://acme-v01.api.letsencrypt.org/acme/challenge/14maLEj6xDOkHVaP2-g1kBnOolfBRPIYWWm1sNQZerg/659945565\",\\n      \"token\": \"9B4bzQUvuUD6mRJBbDvxDsILHoIdd6vm-M-yYQ2k0F4\"\\n    }\\n  ],\\n  \"combinations\": [\\n    [\\n      2\\n    ],\\n    [\\n      0\\n    ],\\n    [\\n      1\\n    ]\\n  ]\\n}'\r\n2017-02-16 14:27:38,436:DEBUG:acme.challenges:dns-01 was not recognized, full message: {u'status': u'pending', u'token': u'9B4bzQUvuUD6mRJBbDvxDsILHoIdd6vm-M-yYQ2k0F4', u'type': u'dns-01', u'uri': u'https://acme-v01.api.letsencrypt.org/acme/challenge/14maLEj6xDOkHVaP2-g1kBnOolfBRPIYWWm1sNQZerg/659945565'}\r\n2017-02-16 14:27:38,437:DEBUG:acme.jose.json_util:Omitted empty fields: challenges=None, combinations=None, status=None, expires=None\r\n2017-02-16 14:27:38,438:DEBUG:acme.client:Serialized JSON: {\"identifier\": {\"type\": \"dns\", \"value\": \"www.XXXXXXXXX.org\"}, \"resource\": \"new-authz\"}\r\n2017-02-16 14:27:38,440:DEBUG:acme.jose.json_util:Omitted empty fields: x5c=(), x5tS256=None, cty=None, jku=None, x5u=None, x5t=None, crit=(), kid=None, alg=None, jwk=None, typ=None\r\n2017-02-16 14:27:38,446:DEBUG:acme.jose.json_util:Omitted empty fields: jku=None, x5tS256=None, cty=None, x5c=(), x5u=None, x5t=None, crit=(), nonce=None, kid=None, typ=None\r\n2017-02-16 14:27:38,446:DEBUG:root:Sending POST request to https://acme-v01.api.letsencrypt.org/acme/new-authz. args: (), kwargs: {'data': '{\"header\": {\"alg\": \"RS256\", \"jwk\": {\"e\": \"AQAB\", \"kty\": \"RSA\", \"n\": \"pv0kqK_iaq3pJ3HkIwlrq58U_wow4BCoWxj_I2UqBc_z_kV_ZF5Dmfz4qQnJpCpl8DBu9IK5m5wbXWWbYLPqo6gZkDFs-74wp3mXK-viBvsu0vW1oKPUqBRVv13u-lJwbuYN8BsTZhMpcRnP2AqI5VyiUZPc8Bfb-2UkHNlaSWhgCZLI-PhhKKsoBIAfNzaRppur_NRmhC2xVhK-45MRIVevJMo2yNJ8OKWbgMOTXTWBkl3bLpmlkyNX3COcox10oQDJrLo8MOxdRfxXnBnu69dbb3FWaI0FMRim1inBzYMa-bnfERn9EFUd8edqmfGZZopOYm_oE9WPuxKQJSoduw\"}}, \"protected\": \"eyJub25jZSI6ICJXOUJQMmp3cDlDWWRtcTdYY2I2M2dibVU2VG5SLWJJalJFaWRYTFljOHJnIn0\", \"payload\": \"eyJpZGVudGlmaWVyIjogeyJ0eXBlIjogImRucyIsICJ2YWx1ZSI6ICJ3d3cuc29tYS1hbmFseXRpY3Mub3JnIn0sICJyZXNvdXJjZSI6ICJuZXctYXV0aHoifQ\", \"signature\": \"HM7tayxF9mcPP0zd-z7Yxsno_jBm6m6xIJkk9N22r01NCbn5lr046xUofMAw_o49gQrr0WIK-nayyKzFIDV5UTQG7i-oSqSI7yexHhQZv6PHkwWNL468n3vpGG-zJLWd8h4QCQwqsUsfVqZl4vBCUQ8FKI9_ypbt_hsp3-FrMxdZGDKgWqVDJJn5OAtVT2w1bFAec5vw0z-xXzma9B9WNhEdV75IVvLVGrBFe0jv0d07ZI66t-cwPTpMY5tQq0KBZZPz0dT3sdJDO0krEUyNmWOoibtNWOjme5jm39whQbGwua0YPBDsnVnDeOsgnhBQT3SG825F1GwoBeJ883XHvw\"}'}\r\n2017-02-16 14:27:38,449:INFO:requests.packages.urllib3.connectionpool:Starting new HTTPS connection (1): acme-v01.api.letsencrypt.org\r\n2017-02-16 14:27:38,722:DEBUG:requests.packages.urllib3.connectionpool:\"POST /acme/new-authz HTTP/1.1\" 201 1007\r\n2017-02-16 14:27:38,725:DEBUG:root:Received <Response [201]>. Headers: {'Content-Length': '1007', 'Expires': 'Thu, 16 Feb 2017 14:27:38 GMT', 'Boulder-Request-Id': '6j3sNggKaAPPbI0aaam3UCh0fVivv-rEJcp4ZmthLNg', 'Strict-Transport-Security': 'max-age=604800', 'Server': 'nginx', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Connection': 'keep-alive', 'Link': '<https://acme-v01.api.letsencrypt.org/acme/new-cert>;rel=\"next\"', 'Location': 'https://acme-v01.api.letsencrypt.org/acme/authz/yhPRhNr9_KIwfaYMSYH2d_8b-HRycy8HGlnZEASvKcM', 'Pragma': 'no-cache', 'Boulder-Requester': '9632581', 'Date': 'Thu, 16 Feb 2017 14:27:38 GMT', 'X-Frame-Options': 'DENY', 'Content-Type': 'application/json', 'Replay-Nonce': 'fRkVO3ddz_Ln6oZqTgyY2EwUOd4VPsGLBj0rzRSL6fU'}. Content: '{\\n  \"identifier\": {\\n    \"type\": \"dns\",\\n    \"value\": \"www.XXXXXXXXX.org\"\\n  },\\n  \"status\": \"pending\",\\n  \"expires\": \"2017-02-23T14:27:38.594200527Z\",\\n  \"challenges\": [\\n    {\\n      \"type\": \"tls-sni-01\",\\n      \"status\": \"pending\",\\n      \"uri\": \"https://acme-v01.api.letsencrypt.org/acme/challenge/yhPRhNr9_KIwfaYMSYH2d_8b-HRycy8HGlnZEASvKcM/659945578\",\\n      \"token\": \"DdBW-JxBw44nMkqKGGu2onNdAAXsFAMMHYsUtZuCK28\"\\n    },\\n    {\\n      \"type\": \"dns-01\",\\n      \"status\": \"pending\",\\n      \"uri\": \"https://acme-v01.api.letsencrypt.org/acme/challenge/yhPRhNr9_KIwfaYMSYH2d_8b-HRycy8HGlnZEASvKcM/659945579\",\\n      \"token\": \"UDytgExXFPoRaYWR8sFsdXrP3ul_iqV4S-Q06L2nxu8\"\\n    },\\n    {\\n      \"type\": \"http-01\",\\n      \"status\": \"pending\",\\n      \"uri\": \"https://acme-v01.api.letsencrypt.org/acme/challenge/yhPRhNr9_KIwfaYMSYH2d_8b-HRycy8HGlnZEASvKcM/659945580\",\\n      \"token\": \"fkc-xkcoaNi9cnrd8TLmqoesgH5q4Zccr53iWL51mR0\"\\n    }\\n  ],\\n  \"combinations\": [\\n    [\\n      2\\n    ],\\n    [\\n      1\\n    ],\\n    [\\n      0\\n    ]\\n  ]\\n}'\r\n2017-02-16 14:27:38,727:DEBUG:acme.client:Storing nonce: '}\\x19\\x15;w]\\xcf\\xf2\\xe7\\xea\\x86jN\\x0c\\x98\\xd8L\\x149\\xde\\x15>\\xc1\\x8b\\x06=+\\xcd\\x14\\x8b\\xe9\\xf5'\r\n2017-02-16 14:27:38,727:DEBUG:acme.client:Received response <Response [201]> (headers: {'Content-Length': '1007', 'Expires': 'Thu, 16 Feb 2017 14:27:38 GMT', 'Boulder-Request-Id': '6j3sNggKaAPPbI0aaam3UCh0fVivv-rEJcp4ZmthLNg', 'Strict-Transport-Security': 'max-age=604800', 'Server': 'nginx', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Connection': 'keep-alive', 'Link': '<https://acme-v01.api.letsencrypt.org/acme/new-cert>;rel=\"next\"', 'Location': 'https://acme-v01.api.letsencrypt.org/acme/authz/yhPRhNr9_KIwfaYMSYH2d_8b-HRycy8HGlnZEASvKcM', 'Pragma': 'no-cache', 'Boulder-Requester': '9632581', 'Date': 'Thu, 16 Feb 2017 14:27:38 GMT', 'X-Frame-Options': 'DENY', 'Content-Type': 'application/json', 'Replay-Nonce': 'fRkVO3ddz_Ln6oZqTgyY2EwUOd4VPsGLBj0rzRSL6fU'}): '{\\n  \"identifier\": {\\n    \"type\": \"dns\",\\n    \"value\": \"www.XXXXXXXXX.org\"\\n  },\\n  \"status\": \"pending\",\\n  \"expires\": \"2017-02-23T14:27:38.594200527Z\",\\n  \"challenges\": [\\n    {\\n      \"type\": \"tls-sni-01\",\\n      \"status\": \"pending\",\\n      \"uri\": \"https://acme-v01.api.letsencrypt.org/acme/challenge/yhPRhNr9_KIwfaYMSYH2d_8b-HRycy8HGlnZEASvKcM/659945578\",\\n      \"token\": \"DdBW-JxBw44nMkqKGGu2onNdAAXsFAMMHYsUtZuCK28\"\\n    },\\n    {\\n      \"type\": \"dns-01\",\\n      \"status\": \"pending\",\\n      \"uri\": \"https://acme-v01.api.letsencrypt.org/acme/challenge/yhPRhNr9_KIwfaYMSYH2d_8b-HRycy8HGlnZEASvKcM/659945579\",\\n      \"token\": \"UDytgExXFPoRaYWR8sFsdXrP3ul_iqV4S-Q06L2nxu8\"\\n    },\\n    {\\n      \"type\": \"http-01\",\\n      \"status\": \"pending\",\\n      \"uri\": \"https://acme-v01.api.letsencrypt.org/acme/challenge/yhPRhNr9_KIwfaYMSYH2d_8b-HRycy8HGlnZEASvKcM/659945580\",\\n      \"token\": \"fkc-xkcoaNi9cnrd8TLmqoesgH5q4Zccr53iWL51mR0\"\\n    }\\n  ],\\n  \"combinations\": [\\n    [\\n      2\\n    ],\\n    [\\n      1\\n    ],\\n    [\\n      0\\n    ]\\n  ]\\n}'\r\n2017-02-16 14:27:38,729:DEBUG:acme.challenges:dns-01 was not recognized, full message: {u'status': u'pending', u'token': u'UDytgExXFPoRaYWR8sFsdXrP3ul_iqV4S-Q06L2nxu8', u'type': u'dns-01', u'uri': u'https://acme-v01.api.letsencrypt.org/acme/challenge/yhPRhNr9_KIwfaYMSYH2d_8b-HRycy8HGlnZEASvKcM/659945579'}\r\n2017-02-16 14:27:38,729:DEBUG:acme.jose.json_util:Omitted empty fields: challenges=None, combinations=None, status=None, expires=None\r\n2017-02-16 14:27:38,730:DEBUG:acme.client:Serialized JSON: {\"identifier\": {\"type\": \"dns\", \"value\": \"XXXXXXXXX.de\"}, \"resource\": \"new-authz\"}\r\n2017-02-16 14:27:38,732:DEBUG:acme.jose.json_util:Omitted empty fields: x5c=(), x5tS256=None, cty=None, jku=None, x5u=None, x5t=None, crit=(), kid=None, alg=None, jwk=None, typ=None\r\n2017-02-16 14:27:38,736:DEBUG:acme.jose.json_util:Omitted empty fields: jku=None, x5tS256=None, cty=None, x5c=(), x5u=None, x5t=None, crit=(), nonce=None, kid=None, typ=None\r\n2017-02-16 14:27:38,736:DEBUG:root:Sending POST request to https://acme-v01.api.letsencrypt.org/acme/new-authz. args: (), kwargs: {'data': '{\"header\": {\"alg\": \"RS256\", \"jwk\": {\"e\": \"AQAB\", \"kty\": \"RSA\", \"n\": \"pv0kqK_iaq3pJ3HkIwlrq58U_wow4BCoWxj_I2UqBc_z_kV_ZF5Dmfz4qQnJpCpl8DBu9IK5m5wbXWWbYLPqo6gZkDFs-74wp3mXK-viBvsu0vW1oKPUqBRVv13u-lJwbuYN8BsTZhMpcRnP2AqI5VyiUZPc8Bfb-2UkHNlaSWhgCZLI-PhhKKsoBIAfNzaRppur_NRmhC2xVhK-45MRIVevJMo2yNJ8OKWbgMOTXTWBkl3bLpmlkyNX3COcox10oQDJrLo8MOxdRfxXnBnu69dbb3FWaI0FMRim1inBzYMa-bnfERn9EFUd8edqmfGZZopOYm_oE9WPuxKQJSoduw\"}}, \"protected\": \"eyJub25jZSI6ICJmUmtWTzNkZHpfTG42b1pxVGd5WTJFd1VPZDRWUHNHTEJqMHJ6UlNMNmZVIn0\", \"payload\": \"eyJpZGVudGlmaWVyIjogeyJ0eXBlIjogImRucyIsICJ2YWx1ZSI6ICJzb21hLWFuYWx5dGljcy5kZSJ9LCAicmVzb3VyY2UiOiAibmV3LWF1dGh6In0\", \"signature\": \"Vd0h3eY_2rRB19NNSr3zML4Rpbq9dnH1_m8u5C10OfxFYKtVMKt9eJA_EGWevWnWMkSUOkPbVX5RwbhfmK674HgJSGyIKq_BPecttNsg4hXLRd3zCcddVmBmaszx3Kko-_oGDGgzX-lLbGIH7NoIigYAE98o7IjLNoEPEzz-feWOYvBUypdfP9rhuvoY7Ovsky7GC_pdCdtGEmA1fZwHeGH2jNTgZqAecHOsdqiieCnwsBWmjPBjNA1ahAxmt8bhsI5nfeekuaQzHAlya6pBacD5BpsZQj6fdJn_GRn_OSVnwnM0uCh3h_C-9_ApS3YMd_PxLW2nNhwg4OW0krUFHQ\"}'}\r\n2017-02-16 14:27:38,738:INFO:requests.packages.urllib3.connectionpool:Starting new HTTPS connection (1): acme-v01.api.letsencrypt.org\r\n2017-02-16 14:27:39,108:DEBUG:requests.packages.urllib3.connectionpool:\"POST /acme/new-authz HTTP/1.1\" 201 1002\r\n2017-02-16 14:27:39,112:DEBUG:root:Received <Response [201]>. Headers: {'Content-Length': '1002', 'Expires': 'Thu, 16 Feb 2017 14:27:39 GMT', 'Boulder-Request-Id': '8cxhFEDQHIQnfDa-2ONo66_66ZVMA10Rv4SGIJk88ek', 'Strict-Transport-Security': 'max-age=604800', 'Server': 'nginx', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Connection': 'keep-alive', 'Link': '<https://acme-v01.api.letsencrypt.org/acme/new-cert>;rel=\"next\"', 'Location': 'https://acme-v01.api.letsencrypt.org/acme/authz/hMVTSY0fLplw_6HY7HbvYWt6WZC49pgmvQ0HBogEcSA', 'Pragma': 'no-cache', 'Boulder-Requester': '9632581', 'Date': 'Thu, 16 Feb 2017 14:27:39 GMT', 'X-Frame-Options': 'DENY', 'Content-Type': 'application/json', 'Replay-Nonce': 'dvt1uS8a0TzQtEtNRfQlaqHNmdDpyxs84IekmDyPhNU'}. Content: '{\\n  \"identifier\": {\\n    \"type\": \"dns\",\\n    \"value\": \"XXXXXXXXX.de\"\\n  },\\n  \"status\": \"pending\",\\n  \"expires\": \"2017-02-23T14:27:38.896757058Z\",\\n  \"challenges\": [\\n    {\\n      \"type\": \"http-01\",\\n      \"status\": \"pending\",\\n      \"uri\": \"https://acme-v01.api.letsencrypt.org/acme/challenge/hMVTSY0fLplw_6HY7HbvYWt6WZC49pgmvQ0HBogEcSA/659945593\",\\n      \"token\": \"jRklJJvZp6qGmUCusQ28Md-zzAgNzUsCClAzrUlV1-c\"\\n    },\\n    {\\n      \"type\": \"dns-01\",\\n      \"status\": \"pending\",\\n      \"uri\": \"https://acme-v01.api.letsencrypt.org/acme/challenge/hMVTSY0fLplw_6HY7HbvYWt6WZC49pgmvQ0HBogEcSA/659945594\",\\n      \"token\": \"G8GB-tVuqwt6vig8fbPLd_bWBU-yRpwtUGdKzhx0h0g\"\\n    },\\n    {\\n      \"type\": \"tls-sni-01\",\\n      \"status\": \"pending\",\\n      \"uri\": \"https://acme-v01.api.letsencrypt.org/acme/challenge/hMVTSY0fLplw_6HY7HbvYWt6WZC49pgmvQ0HBogEcSA/659945595\",\\n      \"token\": \"i2EnIQ3ckX3cNDauzjheJrvr91yGv3bsAMlYJRx983U\"\\n    }\\n  ],\\n  \"combinations\": [\\n    [\\n      2\\n    ],\\n    [\\n      1\\n    ],\\n    [\\n      0\\n    ]\\n  ]\\n}'\r\n2017-02-16 14:27:39,113:DEBUG:acme.client:Storing nonce: 'v\\xfbu\\xb9/\\x1a\\xd1<\\xd0\\xb4KME\\xf4%j\\xa1\\xcd\\x99\\xd0\\xe9\\xcb\\x1b<\\xe0\\x87\\xa4\\x98<\\x8f\\x84\\xd5'\r\n2017-02-16 14:27:39,114:DEBUG:acme.client:Received response <Response [201]> (headers: {'Content-Length': '1002', 'Expires': 'Thu, 16 Feb 2017 14:27:39 GMT', 'Boulder-Request-Id': '8cxhFEDQHIQnfDa-2ONo66_66ZVMA10Rv4SGIJk88ek', 'Strict-Transport-Security': 'max-age=604800', 'Server': 'nginx', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Connection': 'keep-alive', 'Link': '<https://acme-v01.api.letsencrypt.org/acme/new-cert>;rel=\"next\"', 'Location': 'https://acme-v01.api.letsencrypt.org/acme/authz/hMVTSY0fLplw_6HY7HbvYWt6WZC49pgmvQ0HBogEcSA', 'Pragma': 'no-cache', 'Boulder-Requester': '9632581', 'Date': 'Thu, 16 Feb 2017 14:27:39 GMT', 'X-Frame-Options': 'DENY', 'Content-Type': 'application/json', 'Replay-Nonce': 'dvt1uS8a0TzQtEtNRfQlaqHNmdDpyxs84IekmDyPhNU'}): '{\\n  \"identifier\": {\\n    \"type\": \"dns\",\\n    \"value\": \"XXXXXXXXX.de\"\\n  },\\n  \"status\": \"pending\",\\n  \"expires\": \"2017-02-23T14:27:38.896757058Z\",\\n  \"challenges\": [\\n    {\\n      \"type\": \"http-01\",\\n      \"status\": \"pending\",\\n      \"uri\": \"https://acme-v01.api.letsencrypt.org/acme/challenge/hMVTSY0fLplw_6HY7HbvYWt6WZC49pgmvQ0HBogEcSA/659945593\",\\n      \"token\": \"jRklJJvZp6qGmUCusQ28Md-zzAgNzUsCClAzrUlV1-c\"\\n    },\\n    {\\n      \"type\": \"dns-01\",\\n      \"status\": \"pending\",\\n      \"uri\": \"https://acme-v01.api.letsencrypt.org/acme/challenge/hMVTSY0fLplw_6HY7HbvYWt6WZC49pgmvQ0HBogEcSA/659945594\",\\n      \"token\": \"G8GB-tVuqwt6vig8fbPLd_bWBU-yRpwtUGdKzhx0h0g\"\\n    },\\n    {\\n      \"type\": \"tls-sni-01\",\\n      \"status\": \"pending\",\\n      \"uri\": \"https://acme-v01.api.letsencrypt.org/acme/challenge/hMVTSY0fLplw_6HY7HbvYWt6WZC49pgmvQ0HBogEcSA/659945595\",\\n      \"token\": \"i2EnIQ3ckX3cNDauzjheJrvr91yGv3bsAMlYJRx983U\"\\n    }\\n  ],\\n  \"combinations\": [\\n    [\\n      2\\n    ],\\n    [\\n      1\\n    ],\\n    [\\n      0\\n    ]\\n  ]\\n}'\r\n2017-02-16 14:27:39,115:DEBUG:acme.challenges:dns-01 was not recognized, full message: {u'status': u'pending', u'token': u'G8GB-tVuqwt6vig8fbPLd_bWBU-yRpwtUGdKzhx0h0g', u'type': u'dns-01', u'uri': u'https://acme-v01.api.letsencrypt.org/acme/challenge/hMVTSY0fLplw_6HY7HbvYWt6WZC49pgmvQ0HBogEcSA/659945594'}\r\n2017-02-16 14:27:39,116:DEBUG:acme.jose.json_util:Omitted empty fields: challenges=None, combinations=None, status=None, expires=None\r\n2017-02-16 14:27:39,116:DEBUG:acme.client:Serialized JSON: {\"identifier\": {\"type\": \"dns\", \"value\": \"www.XXXXXXXXX.de\"}, \"resource\": \"new-authz\"}\r\n2017-02-16 14:27:39,118:DEBUG:acme.jose.json_util:Omitted empty fields: x5c=(), x5tS256=None, cty=None, jku=None, x5u=None, x5t=None, crit=(), kid=None, alg=None, jwk=None, typ=None\r\n2017-02-16 14:27:39,124:DEBUG:acme.jose.json_util:Omitted empty fields: jku=None, x5tS256=None, cty=None, x5c=(), x5u=None, x5t=None, crit=(), nonce=None, kid=None, typ=None\r\n2017-02-16 14:27:39,124:DEBUG:root:Sending POST request to https://acme-v01.api.letsencrypt.org/acme/new-authz. args: (), kwargs: {'data': '{\"header\": {\"alg\": \"RS256\", \"jwk\": {\"e\": \"AQAB\", \"kty\": \"RSA\", \"n\": \"pv0kqK_iaq3pJ3HkIwlrq58U_wow4BCoWxj_I2UqBc_z_kV_ZF5Dmfz4qQnJpCpl8DBu9IK5m5wbXWWbYLPqo6gZkDFs-74wp3mXK-viBvsu0vW1oKPUqBRVv13u-lJwbuYN8BsTZhMpcRnP2AqI5VyiUZPc8Bfb-2UkHNlaSWhgCZLI-PhhKKsoBIAfNzaRppur_NRmhC2xVhK-45MRIVevJMo2yNJ8OKWbgMOTXTWBkl3bLpmlkyNX3COcox10oQDJrLo8MOxdRfxXnBnu69dbb3FWaI0FMRim1inBzYMa-bnfERn9EFUd8edqmfGZZopOYm_oE9WPuxKQJSoduw\"}}, \"protected\": \"eyJub25jZSI6ICJkdnQxdVM4YTBUelF0RXROUmZRbGFxSE5tZERweXhzODRJZWttRHlQaE5VIn0\", \"payload\": \"eyJpZGVudGlmaWVyIjogeyJ0eXBlIjogImRucyIsICJ2YWx1ZSI6ICJ3d3cuc29tYS1hbmFseXRpY3MuZGUifSwgInJlc291cmNlIjogIm5ldy1hdXRoeiJ9\", \"signature\": \"WCu-zNHa9ehm2SeiYXHNzoUJKzrdCJ6mQAwr6rX_-IilFri_tb2Ks5U7fv8AcdhaZWjA7mHPBDYdf6uQTghP4VEDSFKXYSds8IVMnPoeDOl53PtYYswyZ7m39FvOhM8ZaYQqEUSWSwZhTOp7SO07w3ouql5JmXrakrhcDS-x2s07SL5iJHu6Q4bICEgyIYi1_cu2n6uBbDIoK1NYCrGILR4mXALU4OrW9-Z59Heflx59am1NS3RXugUEjlrRzY372ITpf4xcL5xS9KPeCiKxVOODDyObburPGJZpBFUbsBtZWPT-2wHgp3QP6U6duH_HkprXgab7DYwKbY1fAgzZlw\"}'}\r\n2017-02-16 14:27:39,126:INFO:requests.packages.urllib3.connectionpool:Starting new HTTPS connection (1): acme-v01.api.letsencrypt.org\r\n2017-02-16 14:27:39,432:DEBUG:requests.packages.urllib3.connectionpool:\"POST /acme/new-authz HTTP/1.1\" 201 1006\r\n2017-02-16 14:27:39,437:DEBUG:root:Received <Response [201]>. Headers: {'Content-Length': '1006', 'Expires': 'Thu, 16 Feb 2017 14:27:39 GMT', 'Boulder-Request-Id': 'xH9i5WV_KIT5-8whsETbmcreao_ITQ-pHjNcqRPfAmo', 'Strict-Transport-Security': 'max-age=604800', 'Server': 'nginx', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Connection': 'keep-alive', 'Link': '<https://acme-v01.api.letsencrypt.org/acme/new-cert>;rel=\"next\"', 'Location': 'https://acme-v01.api.letsencrypt.org/acme/authz/xr-yzEKRexi-D7_raRquKYoX_j7B-3dpqN7btP5tTxA', 'Pragma': 'no-cache', 'Boulder-Requester': '9632581', 'Date': 'Thu, 16 Feb 2017 14:27:39 GMT', 'X-Frame-Options': 'DENY', 'Content-Type': 'application/json', 'Replay-Nonce': 'StEZnz6jKUolJjeWIu8EtH2kGEUwM3euKVMmpFKN3Ag'}. Content: '{\\n  \"identifier\": {\\n    \"type\": \"dns\",\\n    \"value\": \"www.XXXXXXXXX.de\"\\n  },\\n  \"status\": \"pending\",\\n  \"expires\": \"2017-02-23T14:27:39.302171088Z\",\\n  \"challenges\": [\\n    {\\n      \"type\": \"dns-01\",\\n      \"status\": \"pending\",\\n      \"uri\": \"https://acme-v01.api.letsencrypt.org/acme/challenge/xr-yzEKRexi-D7_raRquKYoX_j7B-3dpqN7btP5tTxA/659945602\",\\n      \"token\": \"LgpnNv-f0UyK7jMScZQAm_Wr2azth4iDpy2C2CHXdfQ\"\\n    },\\n    {\\n      \"type\": \"http-01\",\\n      \"status\": \"pending\",\\n      \"uri\": \"https://acme-v01.api.letsencrypt.org/acme/challenge/xr-yzEKRexi-D7_raRquKYoX_j7B-3dpqN7btP5tTxA/659945603\",\\n      \"token\": \"5SQzLPsSRMK03BLHjOEXMn959T1ViZqYwsYAf3UBe7s\"\\n    },\\n    {\\n      \"type\": \"tls-sni-01\",\\n      \"status\": \"pending\",\\n      \"uri\": \"https://acme-v01.api.letsencrypt.org/acme/challenge/xr-yzEKRexi-D7_raRquKYoX_j7B-3dpqN7btP5tTxA/659945604\",\\n      \"token\": \"19KgekdveW2Mj0KSk_4499SQk_ag87NSYw0hVXAkklU\"\\n    }\\n  ],\\n  \"combinations\": [\\n    [\\n      0\\n    ],\\n    [\\n      2\\n    ],\\n    [\\n      1\\n    ]\\n  ]\\n}'\r\n2017-02-16 14:27:39,439:DEBUG:acme.client:Storing nonce: 'J\\xd1\\x19\\x9f>\\xa3)J%&7\\x96\"\\xef\\x04\\xb4}\\xa4\\x18E03w\\xae)S&\\xa4R\\x8d\\xdc\\x08'\r\n2017-02-16 14:27:39,440:DEBUG:acme.client:Received response <Response [201]> (headers: {'Content-Length': '1006', 'Expires': 'Thu, 16 Feb 2017 14:27:39 GMT', 'Boulder-Request-Id': 'xH9i5WV_KIT5-8whsETbmcreao_ITQ-pHjNcqRPfAmo', 'Strict-Transport-Security': 'max-age=604800', 'Server': 'nginx', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Connection': 'keep-alive', 'Link': '<https://acme-v01.api.letsencrypt.org/acme/new-cert>;rel=\"next\"', 'Location': 'https://acme-v01.api.letsencrypt.org/acme/authz/xr-yzEKRexi-D7_raRquKYoX_j7B-3dpqN7btP5tTxA', 'Pragma': 'no-cache', 'Boulder-Requester': '9632581', 'Date': 'Thu, 16 Feb 2017 14:27:39 GMT', 'X-Frame-Options': 'DENY', 'Content-Type': 'application/json', 'Replay-Nonce': 'StEZnz6jKUolJjeWIu8EtH2kGEUwM3euKVMmpFKN3Ag'}): '{\\n  \"identifier\": {\\n    \"type\": \"dns\",\\n    \"value\": \"www.XXXXXXXXX.de\"\\n  },\\n  \"status\": \"pending\",\\n  \"expires\": \"2017-02-23T14:27:39.302171088Z\",\\n  \"challenges\": [\\n    {\\n      \"type\": \"dns-01\",\\n      \"status\": \"pending\",\\n      \"uri\": \"https://acme-v01.api.letsencrypt.org/acme/challenge/xr-yzEKRexi-D7_raRquKYoX_j7B-3dpqN7btP5tTxA/659945602\",\\n      \"token\": \"LgpnNv-f0UyK7jMScZQAm_Wr2azth4iDpy2C2CHXdfQ\"\\n    },\\n    {\\n      \"type\": \"http-01\",\\n      \"status\": \"pending\",\\n      \"uri\": \"https://acme-v01.api.letsencrypt.org/acme/challenge/xr-yzEKRexi-D7_raRquKYoX_j7B-3dpqN7btP5tTxA/659945603\",\\n      \"token\": \"5SQzLPsSRMK03BLHjOEXMn959T1ViZqYwsYAf3UBe7s\"\\n    },\\n    {\\n      \"type\": \"tls-sni-01\",\\n      \"status\": \"pending\",\\n      \"uri\": \"https://acme-v01.api.letsencrypt.org/acme/challenge/xr-yzEKRexi-D7_raRquKYoX_j7B-3dpqN7btP5tTxA/659945604\",\\n      \"token\": \"19KgekdveW2Mj0KSk_4499SQk_ag87NSYw0hVXAkklU\"\\n    }\\n  ],\\n  \"combinations\": [\\n    [\\n      0\\n    ],\\n    [\\n      2\\n    ],\\n    [\\n      1\\n    ]\\n  ]\\n}'\r\n2017-02-16 14:27:39,441:DEBUG:acme.challenges:dns-01 was not recognized, full message: {u'status': u'pending', u'token': u'LgpnNv-f0UyK7jMScZQAm_Wr2azth4iDpy2C2CHXdfQ', u'type': u'dns-01', u'uri': u'https://acme-v01.api.letsencrypt.org/acme/challenge/xr-yzEKRexi-D7_raRquKYoX_j7B-3dpqN7btP5tTxA/659945602'}\r\n2017-02-16 14:27:39,442:DEBUG:acme.jose.json_util:Omitted empty fields: challenges=None, combinations=None, status=None, expires=None\r\n2017-02-16 14:27:39,443:DEBUG:acme.client:Serialized JSON: {\"identifier\": {\"type\": \"dns\", \"value\": \"BBBB.XXXXXXXXX.com\"}, \"resource\": \"new-authz\"}\r\n2017-02-16 14:27:39,445:DEBUG:acme.jose.json_util:Omitted empty fields: x5c=(), x5tS256=None, cty=None, jku=None, x5u=None, x5t=None, crit=(), kid=None, alg=None, jwk=None, typ=None\r\n2017-02-16 14:27:39,451:DEBUG:acme.jose.json_util:Omitted empty fields: jku=None, x5tS256=None, cty=None, x5c=(), x5u=None, x5t=None, crit=(), nonce=None, kid=None, typ=None\r\n2017-02-16 14:27:39,452:DEBUG:root:Sending POST request to https://acme-v01.api.letsencrypt.org/acme/new-authz. args: (), kwargs: {'data': '{\"header\": {\"alg\": \"RS256\", \"jwk\": {\"e\": \"AQAB\", \"kty\": \"RSA\", \"n\": \"pv0kqK_iaq3pJ3HkIwlrq58U_wow4BCoWxj_I2UqBc_z_kV_ZF5Dmfz4qQnJpCpl8DBu9IK5m5wbXWWbYLPqo6gZkDFs-74wp3mXK-viBvsu0vW1oKPUqBRVv13u-lJwbuYN8BsTZhMpcRnP2AqI5VyiUZPc8Bfb-2UkHNlaSWhgCZLI-PhhKKsoBIAfNzaRppur_NRmhC2xVhK-45MRIVevJMo2yNJ8OKWbgMOTXTWBkl3bLpmlkyNX3COcox10oQDJrLo8MOxdRfxXnBnu69dbb3FWaI0FMRim1inBzYMa-bnfERn9EFUd8edqmfGZZopOYm_oE9WPuxKQJSoduw\"}}, \"protected\": \"eyJub25jZSI6ICJTdEVabno2aktVb2xKamVXSXU4RXRIMmtHRVV3TTNldUtWTW1wRktOM0FnIn0\", \"payload\": \"eyJpZGVudGlmaWVyIjogeyJ0eXBlIjogImRucyIsICJ2YWx1ZSI6ICJibG9nLnNvbWEtYW5hbHl0aWNzLmNvbSJ9LCAicmVzb3VyY2UiOiAibmV3LWF1dGh6In0\", \"signature\": \"EkgiHdMqJP0ZVm4Lki1cVpQEO94HoWQLm3YIrYxx3C9slWyhAoEzWQf_-_VZfn3jpxORcbDbMJo3KEhFGxH48QzVwhfgsTx6acCCTMCEgWdUgaXXMxf9tC2VitxVQp3kflQnxrULe3O4d8iPohOHyzV4sw_JX7Or8SCiJ6cw4N1dbIM7NspVeq1IcgPjCESh-hM1UwuXcTeRYZPI4_7Hcs7uABrGcYiE5OHbg5GPRaDBbeWIVsBA7M3skj-scw7_KmgeHyBPKhlIYSMAmI0vlDIT30jNWwXgiYucEt2U69s5LaIhKmpMRAuEpzF2-xmEBAMcVL3fWJgu0Haev0IVjw\"}'}\r\n2017-02-16 14:27:39,454:INFO:requests.packages.urllib3.connectionpool:Starting new HTTPS connection (1): acme-v01.api.letsencrypt.org\r\n2017-02-16 14:27:39,745:DEBUG:requests.packages.urllib3.connectionpool:\"POST /acme/new-authz HTTP/1.1\" 201 1008\r\n2017-02-16 14:27:39,750:DEBUG:root:Received <Response [201]>. Headers: {'Content-Length': '1008', 'Expires': 'Thu, 16 Feb 2017 14:27:39 GMT', 'Boulder-Request-Id': 'Fbdxp2kiT69DHwuAgEn71H2y3KIZH-GKLYIcociJMvk', 'Strict-Transport-Security': 'max-age=604800', 'Server': 'nginx', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Connection': 'keep-alive', 'Link': '<https://acme-v01.api.letsencrypt.org/acme/new-cert>;rel=\"next\"', 'Location': 'https://acme-v01.api.letsencrypt.org/acme/authz/3IFAjcufGN8hU1ARK47mq__xlSBCcfpMKl81COPllBU', 'Pragma': 'no-cache', 'Boulder-Requester': '9632581', 'Date': 'Thu, 16 Feb 2017 14:27:39 GMT', 'X-Frame-Options': 'DENY', 'Content-Type': 'application/json', 'Replay-Nonce': 'SySjZXsuYnoRogNBoH_f73FLrr3rqlEVTgOVsLegqMo'}. Content: '{\\n  \"identifier\": {\\n    \"type\": \"dns\",\\n    \"value\": \"BBBB.XXXXXXXXX.com\"\\n  },\\n  \"status\": \"pending\",\\n  \"expires\": \"2017-02-23T14:27:39.608305188Z\",\\n  \"challenges\": [\\n    {\\n      \"type\": \"tls-sni-01\",\\n      \"status\": \"pending\",\\n      \"uri\": \"https://acme-v01.api.letsencrypt.org/acme/challenge/3IFAjcufGN8hU1ARK47mq__xlSBCcfpMKl81COPllBU/659945614\",\\n      \"token\": \"mfODrazDBovHy6jx9hwZKlS-UxFX48lkqTfBkQnNIOY\"\\n    },\\n    {\\n      \"type\": \"dns-01\",\\n      \"status\": \"pending\",\\n      \"uri\": \"https://acme-v01.api.letsencrypt.org/acme/challenge/3IFAjcufGN8hU1ARK47mq__xlSBCcfpMKl81COPllBU/659945615\",\\n      \"token\": \"JMLJEvAr3V1ayMsfJhA-vffaATKySpuacKRhfgGq3lE\"\\n    },\\n    {\\n      \"type\": \"http-01\",\\n      \"status\": \"pending\",\\n      \"uri\": \"https://acme-v01.api.letsencrypt.org/acme/challenge/3IFAjcufGN8hU1ARK47mq__xlSBCcfpMKl81COPllBU/659945616\",\\n      \"token\": \"AmflrJGHNeUtYhwP3WqnKAFYwPRnpMKm3bni4ZkfTs4\"\\n    }\\n  ],\\n  \"combinations\": [\\n    [\\n      2\\n    ],\\n    [\\n      1\\n    ],\\n    [\\n      0\\n    ]\\n  ]\\n}'\r\n2017-02-16 14:27:39,752:DEBUG:acme.client:Storing nonce: 'K$\\xa3e{.bz\\x11\\xa2\\x03A\\xa0\\x7f\\xdf\\xefqK\\xae\\xbd\\xeb\\xaaQ\\x15N\\x03\\x95\\xb0\\xb7\\xa0\\xa8\\xca'\r\n2017-02-16 14:27:39,752:DEBUG:acme.client:Received response <Response [201]> (headers: {'Content-Length': '1008', 'Expires': 'Thu, 16 Feb 2017 14:27:39 GMT', 'Boulder-Request-Id': 'Fbdxp2kiT69DHwuAgEn71H2y3KIZH-GKLYIcociJMvk', 'Strict-Transport-Security': 'max-age=604800', 'Server': 'nginx', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Connection': 'keep-alive', 'Link': '<https://acme-v01.api.letsencrypt.org/acme/new-cert>;rel=\"next\"', 'Location': 'https://acme-v01.api.letsencrypt.org/acme/authz/3IFAjcufGN8hU1ARK47mq__xlSBCcfpMKl81COPllBU', 'Pragma': 'no-cache', 'Boulder-Requester': '9632581', 'Date': 'Thu, 16 Feb 2017 14:27:39 GMT', 'X-Frame-Options': 'DENY', 'Content-Type': 'application/json', 'Replay-Nonce': 'SySjZXsuYnoRogNBoH_f73FLrr3rqlEVTgOVsLegqMo'}): '{\\n  \"identifier\": {\\n    \"type\": \"dns\",\\n    \"value\": \"BBBB.XXXXXXXXX.com\"\\n  },\\n  \"status\": \"pending\",\\n  \"expires\": \"2017-02-23T14:27:39.608305188Z\",\\n  \"challenges\": [\\n    {\\n      \"type\": \"tls-sni-01\",\\n      \"status\": \"pending\",\\n      \"uri\": \"https://acme-v01.api.letsencrypt.org/acme/challenge/3IFAjcufGN8hU1ARK47mq__xlSBCcfpMKl81COPllBU/659945614\",\\n      \"token\": \"mfODrazDBovHy6jx9hwZKlS-UxFX48lkqTfBkQnNIOY\"\\n    },\\n    {\\n      \"type\": \"dns-01\",\\n      \"status\": \"pending\",\\n      \"uri\": \"https://acme-v01.api.letsencrypt.org/acme/challenge/3IFAjcufGN8hU1ARK47mq__xlSBCcfpMKl81COPllBU/659945615\",\\n      \"token\": \"JMLJEvAr3V1ayMsfJhA-vffaATKySpuacKRhfgGq3lE\"\\n    },\\n    {\\n      \"type\": \"http-01\",\\n      \"status\": \"pending\",\\n      \"uri\": \"https://acme-v01.api.letsencrypt.org/acme/challenge/3IFAjcufGN8hU1ARK47mq__xlSBCcfpMKl81COPllBU/659945616\",\\n      \"token\": \"AmflrJGHNeUtYhwP3WqnKAFYwPRnpMKm3bni4ZkfTs4\"\\n    }\\n  ],\\n  \"combinations\": [\\n    [\\n      2\\n    ],\\n    [\\n      1\\n    ],\\n    [\\n      0\\n    ]\\n  ]\\n}'\r\n2017-02-16 14:27:39,753:DEBUG:acme.challenges:dns-01 was not recognized, full message: {u'status': u'pending', u'token': u'JMLJEvAr3V1ayMsfJhA-vffaATKySpuacKRhfgGq3lE', u'type': u'dns-01', u'uri': u'https://acme-v01.api.letsencrypt.org/acme/challenge/3IFAjcufGN8hU1ARK47mq__xlSBCcfpMKl81COPllBU/659945615'}\r\n2017-02-16 14:27:39,755:DEBUG:acme.jose.json_util:Omitted empty fields: challenges=None, combinations=None, status=None, expires=None\r\n2017-02-16 14:27:39,755:DEBUG:acme.client:Serialized JSON: {\"identifier\": {\"type\": \"dns\", \"value\": \"ZZZZZZZZ.com\"}, \"resource\": \"new-authz\"}\r\n2017-02-16 14:27:39,758:DEBUG:acme.jose.json_util:Omitted empty fields: x5c=(), x5tS256=None, cty=None, jku=None, x5u=None, x5t=None, crit=(), kid=None, alg=None, jwk=None, typ=None\r\n2017-02-16 14:27:39,764:DEBUG:acme.jose.json_util:Omitted empty fields: jku=None, x5tS256=None, cty=None, x5c=(), x5u=None, x5t=None, crit=(), nonce=None, kid=None, typ=None\r\n2017-02-16 14:27:39,765:DEBUG:root:Sending POST request to https://acme-v01.api.letsencrypt.org/acme/new-authz. args: (), kwargs: {'data': '{\"header\": {\"alg\": \"RS256\", \"jwk\": {\"e\": \"AQAB\", \"kty\": \"RSA\", \"n\": \"pv0kqK_iaq3pJ3HkIwlrq58U_wow4BCoWxj_I2UqBc_z_kV_ZF5Dmfz4qQnJpCpl8DBu9IK5m5wbXWWbYLPqo6gZkDFs-74wp3mXK-viBvsu0vW1oKPUqBRVv13u-lJwbuYN8BsTZhMpcRnP2AqI5VyiUZPc8Bfb-2UkHNlaSWhgCZLI-PhhKKsoBIAfNzaRppur_NRmhC2xVhK-45MRIVevJMo2yNJ8OKWbgMOTXTWBkl3bLpmlkyNX3COcox10oQDJrLo8MOxdRfxXnBnu69dbb3FWaI0FMRim1inBzYMa-bnfERn9EFUd8edqmfGZZopOYm_oE9WPuxKQJSoduw\"}}, \"protected\": \"eyJub25jZSI6ICJTeVNqWlhzdVlub1JvZ05Cb0hfZjczRkxycjNycWxFVlRnT1ZzTGVncU1vIn0\", \"payload\": \"eyJpZGVudGlmaWVyIjogeyJ0eXBlIjogImRucyIsICJ2YWx1ZSI6ICJzb21hLWluc2lnaHRzLmNvbSJ9LCAicmVzb3VyY2UiOiAibmV3LWF1dGh6In0\", \"signature\": \"E-jk0QBXKiI13UIiFMSI4zWSGksbPOmtC9Q25jQ-_29QhlGTre-mA_OiCj4EAa1mwNyoX7br_yFlsNIIT3HbtbUW6UGHxLVLw2xDEq_hFXSw3LCZUwVtISaIhbii0X2U1iHOHcu4ouSi6zGk3obRgJIg8da2Zaj1LziERG2o8egoZM5v9fjpDlFXNb7eLarHwBrM_7Ih_NN322n45ISkb2R5bekdTsaHCrXstj7L7W-v19burecUT3MBTJskBcW05rX8iR0BEZ6xtVpAAdWs7GH9e83hbIv70AjqEVoDHXJ-x4bepaOMMY-wDvqWQnmZxG2CD3f-SqKZvSF8pKjuEA\"}'}\r\n2017-02-16 14:27:39,768:INFO:requests.packages.urllib3.connectionpool:Starting new HTTPS connection (1): acme-v01.api.letsencrypt.org\r\n2017-02-16 14:27:40,123:DEBUG:requests.packages.urllib3.connectionpool:\"POST /acme/new-authz HTTP/1.1\" 201 1002\r\n2017-02-16 14:27:40,128:DEBUG:root:Received <Response [201]>. Headers: {'Content-Length': '1002', 'Expires': 'Thu, 16 Feb 2017 14:27:40 GMT', 'Boulder-Request-Id': '3jKsIXAzIIZu96QOovLs35_k1TTy0NYGKTKeMyn0OAU', 'Strict-Transport-Security': 'max-age=604800', 'Server': 'nginx', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Connection': 'keep-alive', 'Link': '<https://acme-v01.api.letsencrypt.org/acme/new-cert>;rel=\"next\"', 'Location': 'https://acme-v01.api.letsencrypt.org/acme/authz/bc-NqdU0iZQJEYrdr2CsbG12COtC6eEjKdTl4m8C3pE', 'Pragma': 'no-cache', 'Boulder-Requester': '9632581', 'Date': 'Thu, 16 Feb 2017 14:27:40 GMT', 'X-Frame-Options': 'DENY', 'Content-Type': 'application/json', 'Replay-Nonce': 'vujGN5LpE56ArAyBc9cnsD0nGF41fCT0Qyd_T4xO3ZU'}. Content: '{\\n  \"identifier\": {\\n    \"type\": \"dns\",\\n    \"value\": \"ZZZZZZZZ.com\"\\n  },\\n  \"status\": \"pending\",\\n  \"expires\": \"2017-02-23T14:27:39.921683312Z\",\\n  \"challenges\": [\\n    {\\n      \"type\": \"http-01\",\\n      \"status\": \"pending\",\\n      \"uri\": \"https://acme-v01.api.letsencrypt.org/acme/challenge/bc-NqdU0iZQJEYrdr2CsbG12COtC6eEjKdTl4m8C3pE/659945632\",\\n      \"token\": \"lR0oOylvfS4NLai6SBlwASQ2loVwamN9MwnwJjvgjpM\"\\n    },\\n    {\\n      \"type\": \"tls-sni-01\",\\n      \"status\": \"pending\",\\n      \"uri\": \"https://acme-v01.api.letsencrypt.org/acme/challenge/bc-NqdU0iZQJEYrdr2CsbG12COtC6eEjKdTl4m8C3pE/659945633\",\\n      \"token\": \"rJJoz-17Ef_7ST-3uQQeGOYDRRDo9zOqZ8MGkmn-_nA\"\\n    },\\n    {\\n      \"type\": \"dns-01\",\\n      \"status\": \"pending\",\\n      \"uri\": \"https://acme-v01.api.letsencrypt.org/acme/challenge/bc-NqdU0iZQJEYrdr2CsbG12COtC6eEjKdTl4m8C3pE/659945634\",\\n      \"token\": \"-t1fW8-eSvo5ys8iO8BKHMUNvhA9KLUNVIULtc69Wws\"\\n    }\\n  ],\\n  \"combinations\": [\\n    [\\n      2\\n    ],\\n    [\\n      1\\n    ],\\n    [\\n      0\\n    ]\\n  ]\\n}'\r\n2017-02-16 14:27:40,130:DEBUG:acme.client:Storing nonce: \"\\xbe\\xe8\\xc67\\x92\\xe9\\x13\\x9e\\x80\\xac\\x0c\\x81s\\xd7'\\xb0='\\x18^5|$\\xf4C'\\x7fO\\x8cN\\xdd\\x95\"\r\n2017-02-16 14:27:40,130:DEBUG:acme.client:Received response <Response [201]> (headers: {'Content-Length': '1002', 'Expires': 'Thu, 16 Feb 2017 14:27:40 GMT', 'Boulder-Request-Id': '3jKsIXAzIIZu96QOovLs35_k1TTy0NYGKTKeMyn0OAU', 'Strict-Transport-Security': 'max-age=604800', 'Server': 'nginx', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Connection': 'keep-alive', 'Link': '<https://acme-v01.api.letsencrypt.org/acme/new-cert>;rel=\"next\"', 'Location': 'https://acme-v01.api.letsencrypt.org/acme/authz/bc-NqdU0iZQJEYrdr2CsbG12COtC6eEjKdTl4m8C3pE', 'Pragma': 'no-cache', 'Boulder-Requester': '9632581', 'Date': 'Thu, 16 Feb 2017 14:27:40 GMT', 'X-Frame-Options': 'DENY', 'Content-Type': 'application/json', 'Replay-Nonce': 'vujGN5LpE56ArAyBc9cnsD0nGF41fCT0Qyd_T4xO3ZU'}): '{\\n  \"identifier\": {\\n    \"type\": \"dns\",\\n    \"value\": \"ZZZZZZZZ.com\"\\n  },\\n  \"status\": \"pending\",\\n  \"expires\": \"2017-02-23T14:27:39.921683312Z\",\\n  \"challenges\": [\\n    {\\n      \"type\": \"http-01\",\\n      \"status\": \"pending\",\\n      \"uri\": \"https://acme-v01.api.letsencrypt.org/acme/challenge/bc-NqdU0iZQJEYrdr2CsbG12COtC6eEjKdTl4m8C3pE/659945632\",\\n      \"token\": \"lR0oOylvfS4NLai6SBlwASQ2loVwamN9MwnwJjvgjpM\"\\n    },\\n    {\\n      \"type\": \"tls-sni-01\",\\n      \"status\": \"pending\",\\n      \"uri\": \"https://acme-v01.api.letsencrypt.org/acme/challenge/bc-NqdU0iZQJEYrdr2CsbG12COtC6eEjKdTl4m8C3pE/659945633\",\\n      \"token\": \"rJJoz-17Ef_7ST-3uQQeGOYDRRDo9zOqZ8MGkmn-_nA\"\\n    },\\n    {\\n      \"type\": \"dns-01\",\\n      \"status\": \"pending\",\\n      \"uri\": \"https://acme-v01.api.letsencrypt.org/acme/challenge/bc-NqdU0iZQJEYrdr2CsbG12COtC6eEjKdTl4m8C3pE/659945634\",\\n      \"token\": \"-t1fW8-eSvo5ys8iO8BKHMUNvhA9KLUNVIULtc69Wws\"\\n    }\\n  ],\\n  \"combinations\": [\\n    [\\n      2\\n    ],\\n    [\\n      1\\n    ],\\n    [\\n      0\\n    ]\\n  ]\\n}'\r\n2017-02-16 14:27:40,132:DEBUG:acme.challenges:dns-01 was not recognized, full message: {u'status': u'pending', u'token': u'-t1fW8-eSvo5ys8iO8BKHMUNvhA9KLUNVIULtc69Wws', u'type': u'dns-01', u'uri': u'https://acme-v01.api.letsencrypt.org/acme/challenge/bc-NqdU0iZQJEYrdr2CsbG12COtC6eEjKdTl4m8C3pE/659945634'}\r\n2017-02-16 14:27:40,133:DEBUG:acme.jose.json_util:Omitted empty fields: challenges=None, combinations=None, status=None, expires=None\r\n2017-02-16 14:27:40,133:DEBUG:acme.client:Serialized JSON: {\"identifier\": {\"type\": \"dns\", \"value\": \"www.ZZZZZZZZ.com\"}, \"resource\": \"new-authz\"}\r\n2017-02-16 14:27:40,136:DEBUG:acme.jose.json_util:Omitted empty fields: x5c=(), x5tS256=None, cty=None, jku=None, x5u=None, x5t=None, crit=(), kid=None, alg=None, jwk=None, typ=None\r\n2017-02-16 14:27:40,143:DEBUG:acme.jose.json_util:Omitted empty fields: jku=None, x5tS256=None, cty=None, x5c=(), x5u=None, x5t=None, crit=(), nonce=None, kid=None, typ=None\r\n2017-02-16 14:27:40,143:DEBUG:root:Sending POST request to https://acme-v01.api.letsencrypt.org/acme/new-authz. args: (), kwargs: {'data': '{\"header\": {\"alg\": \"RS256\", \"jwk\": {\"e\": \"AQAB\", \"kty\": \"RSA\", \"n\": \"pv0kqK_iaq3pJ3HkIwlrq58U_wow4BCoWxj_I2UqBc_z_kV_ZF5Dmfz4qQnJpCpl8DBu9IK5m5wbXWWbYLPqo6gZkDFs-74wp3mXK-viBvsu0vW1oKPUqBRVv13u-lJwbuYN8BsTZhMpcRnP2AqI5VyiUZPc8Bfb-2UkHNlaSWhgCZLI-PhhKKsoBIAfNzaRppur_NRmhC2xVhK-45MRIVevJMo2yNJ8OKWbgMOTXTWBkl3bLpmlkyNX3COcox10oQDJrLo8MOxdRfxXnBnu69dbb3FWaI0FMRim1inBzYMa-bnfERn9EFUd8edqmfGZZopOYm_oE9WPuxKQJSoduw\"}}, \"protected\": \"eyJub25jZSI6ICJ2dWpHTjVMcEU1NkFyQXlCYzljbnNEMG5HRjQxZkNUMFF5ZF9UNHhPM1pVIn0\", \"payload\": \"eyJpZGVudGlmaWVyIjogeyJ0eXBlIjogImRucyIsICJ2YWx1ZSI6ICJ3d3cuc29tYS1pbnNpZ2h0cy5jb20ifSwgInJlc291cmNlIjogIm5ldy1hdXRoeiJ9\", \"signature\": \"BkuO-jJGpqfEs-aXDWGh-0463kbuqSypX1UiDSRObQbekpUjDdkVkWwF_bJMPF2myR0Ph5WXwL1fpitUhKV5TViuIoiAi8mb-c2ZTI5Z_TfKNBke3L9WfNk68mMuRDDOWJGF7wqMS0FxLDyQonIOD-9uh1o7wtMfk_SujIeOCgG06YX5VFwcg_Io32t21gls8YbFZh7gAN2ME7yxUbS2_YMGZLhnqygv-Unkc08THRUE-JTaYsgjMJY1ocjC6g6we4Vjofni4upqWwxoas1hF9ETdQ56JGMGPBI4xPcEV2Vb5GvcAcChYrGakULZNNFBcOgqLKhnf8sdW8QtasjgAg\"}'}\r\n2017-02-16 14:27:40,146:INFO:requests.packages.urllib3.connectionpool:Starting new HTTPS connection (1): acme-v01.api.letsencrypt.org\r\n2017-02-16 14:27:40,461:DEBUG:requests.packages.urllib3.connectionpool:\"POST /acme/new-authz HTTP/1.1\" 201 1005\r\n2017-02-16 14:27:40,466:DEBUG:root:Received <Response [201]>. Headers: {'Content-Length': '1005', 'Expires': 'Thu, 16 Feb 2017 14:27:40 GMT', 'Boulder-Request-Id': 'AVJIpRbrFNuZCAYvV5mzeBwwvgbR7JA_8usK8MrMFWE', 'Strict-Transport-Security': 'max-age=604800', 'Server': 'nginx', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Connection': 'keep-alive', 'Link': '<https://acme-v01.api.letsencrypt.org/acme/new-cert>;rel=\"next\"', 'Location': 'https://acme-v01.api.letsencrypt.org/acme/authz/JI_h4nF7nt_rA9ffMPBtAwh79wV9WxUe0BmFW5b7imk', 'Pragma': 'no-cache', 'Boulder-Requester': '9632581', 'Date': 'Thu, 16 Feb 2017 14:27:40 GMT', 'X-Frame-Options': 'DENY', 'Content-Type': 'application/json', 'Replay-Nonce': 'LCF4S_61shJgmeHsWvVlvhM3cwnFZ0y4xjA6h8nyldg'}. Content: '{\\n  \"identifier\": {\\n    \"type\": \"dns\",\\n    \"value\": \"www.ZZZZZZZZ.com\"\\n  },\\n  \"status\": \"pending\",\\n  \"expires\": \"2017-02-23T14:27:40.29648704Z\",\\n  \"challenges\": [\\n    {\\n      \"type\": \"tls-sni-01\",\\n      \"status\": \"pending\",\\n      \"uri\": \"https://acme-v01.api.letsencrypt.org/acme/challenge/JI_h4nF7nt_rA9ffMPBtAwh79wV9WxUe0BmFW5b7imk/659945659\",\\n      \"token\": \"pxgIdIXUgEVAnbVx29CicszA30wg9moP0ucHbtoX7bY\"\\n    },\\n    {\\n      \"type\": \"http-01\",\\n      \"status\": \"pending\",\\n      \"uri\": \"https://acme-v01.api.letsencrypt.org/acme/challenge/JI_h4nF7nt_rA9ffMPBtAwh79wV9WxUe0BmFW5b7imk/659945660\",\\n      \"token\": \"jD9hj9nmnJmMXl-3PuRCIoNDKQxPvvaU2YqROVY0EcA\"\\n    },\\n    {\\n      \"type\": \"dns-01\",\\n      \"status\": \"pending\",\\n      \"uri\": \"https://acme-v01.api.letsencrypt.org/acme/challenge/JI_h4nF7nt_rA9ffMPBtAwh79wV9WxUe0BmFW5b7imk/659945661\",\\n      \"token\": \"0l63T__ckFKah95-5biub9AVzeCrHeMgMLade4dMZd0\"\\n    }\\n  ],\\n  \"combinations\": [\\n    [\\n      1\\n    ],\\n    [\\n      2\\n    ],\\n    [\\n      0\\n    ]\\n  ]\\n}'\r\n2017-02-16 14:27:40,468:DEBUG:acme.client:Storing nonce: ',!xK\\xfe\\xb5\\xb2\\x12`\\x99\\xe1\\xecZ\\xf5e\\xbe\\x137s\\t\\xc5gL\\xb8\\xc60:\\x87\\xc9\\xf2\\x95\\xd8'\r\n2017-02-16 14:27:40,468:DEBUG:acme.client:Received response <Response [201]> (headers: {'Content-Length': '1005', 'Expires': 'Thu, 16 Feb 2017 14:27:40 GMT', 'Boulder-Request-Id': 'AVJIpRbrFNuZCAYvV5mzeBwwvgbR7JA_8usK8MrMFWE', 'Strict-Transport-Security': 'max-age=604800', 'Server': 'nginx', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Connection': 'keep-alive', 'Link': '<https://acme-v01.api.letsencrypt.org/acme/new-cert>;rel=\"next\"', 'Location': 'https://acme-v01.api.letsencrypt.org/acme/authz/JI_h4nF7nt_rA9ffMPBtAwh79wV9WxUe0BmFW5b7imk', 'Pragma': 'no-cache', 'Boulder-Requester': '9632581', 'Date': 'Thu, 16 Feb 2017 14:27:40 GMT', 'X-Frame-Options': 'DENY', 'Content-Type': 'application/json', 'Replay-Nonce': 'LCF4S_61shJgmeHsWvVlvhM3cwnFZ0y4xjA6h8nyldg'}): '{\\n  \"identifier\": {\\n    \"type\": \"dns\",\\n    \"value\": \"www.ZZZZZZZZ.com\"\\n  },\\n  \"status\": \"pending\",\\n  \"expires\": \"2017-02-23T14:27:40.29648704Z\",\\n  \"challenges\": [\\n    {\\n      \"type\": \"tls-sni-01\",\\n      \"status\": \"pending\",\\n      \"uri\": \"https://acme-v01.api.letsencrypt.org/acme/challenge/JI_h4nF7nt_rA9ffMPBtAwh79wV9WxUe0BmFW5b7imk/659945659\",\\n      \"token\": \"pxgIdIXUgEVAnbVx29CicszA30wg9moP0ucHbtoX7bY\"\\n    },\\n    {\\n      \"type\": \"http-01\",\\n      \"status\": \"pending\",\\n      \"uri\": \"https://acme-v01.api.letsencrypt.org/acme/challenge/JI_h4nF7nt_rA9ffMPBtAwh79wV9WxUe0BmFW5b7imk/659945660\",\\n      \"token\": \"jD9hj9nmnJmMXl-3PuRCIoNDKQxPvvaU2YqROVY0EcA\"\\n    },\\n    {\\n      \"type\": \"dns-01\",\\n      \"status\": \"pending\",\\n      \"uri\": \"https://acme-v01.api.letsencrypt.org/acme/challenge/JI_h4nF7nt_rA9ffMPBtAwh79wV9WxUe0BmFW5b7imk/659945661\",\\n      \"token\": \"0l63T__ckFKah95-5biub9AVzeCrHeMgMLade4dMZd0\"\\n    }\\n  ],\\n  \"combinations\": [\\n    [\\n      1\\n    ],\\n    [\\n      2\\n    ],\\n    [\\n      0\\n    ]\\n  ]\\n}'\r\n2017-02-16 14:27:40,470:DEBUG:acme.challenges:dns-01 was not recognized, full message: {u'status': u'pending', u'token': u'0l63T__ckFKah95-5biub9AVzeCrHeMgMLade4dMZd0', u'type': u'dns-01', u'uri': u'https://acme-v01.api.letsencrypt.org/acme/challenge/JI_h4nF7nt_rA9ffMPBtAwh79wV9WxUe0BmFW5b7imk/659945661'}\r\n2017-02-16 14:27:40,471:DEBUG:acme.jose.json_util:Omitted empty fields: challenges=None, combinations=None, status=None, expires=None\r\n2017-02-16 14:27:40,471:DEBUG:acme.client:Serialized JSON: {\"identifier\": {\"type\": \"dns\", \"value\": \"ZZZZZZZZ.com\"}, \"resource\": \"new-authz\"}\r\n2017-02-16 14:27:40,474:DEBUG:acme.jose.json_util:Omitted empty fields: x5c=(), x5tS256=None, cty=None, jku=None, x5u=None, x5t=None, crit=(), kid=None, alg=None, jwk=None, typ=None\r\n2017-02-16 14:27:40,480:DEBUG:acme.jose.json_util:Omitted empty fields: jku=None, x5tS256=None, cty=None, x5c=(), x5u=None, x5t=None, crit=(), nonce=None, kid=None, typ=None\r\n2017-02-16 14:27:40,481:DEBUG:root:Sending POST request to https://acme-v01.api.letsencrypt.org/acme/new-authz. args: (), kwargs: {'data': '{\"header\": {\"alg\": \"RS256\", \"jwk\": {\"e\": \"AQAB\", \"kty\": \"RSA\", \"n\": \"pv0kqK_iaq3pJ3HkIwlrq58U_wow4BCoWxj_I2UqBc_z_kV_ZF5Dmfz4qQnJpCpl8DBu9IK5m5wbXWWbYLPqo6gZkDFs-74wp3mXK-viBvsu0vW1oKPUqBRVv13u-lJwbuYN8BsTZhMpcRnP2AqI5VyiUZPc8Bfb-2UkHNlaSWhgCZLI-PhhKKsoBIAfNzaRppur_NRmhC2xVhK-45MRIVevJMo2yNJ8OKWbgMOTXTWBkl3bLpmlkyNX3COcox10oQDJrLo8MOxdRfxXnBnu69dbb3FWaI0FMRim1inBzYMa-bnfERn9EFUd8edqmfGZZopOYm_oE9WPuxKQJSoduw\"}}, \"protected\": \"eyJub25jZSI6ICJMQ0Y0U182MXNoSmdtZUhzV3ZWbHZoTTNjd25GWjB5NHhqQTZoOG55bGRnIn0\", \"payload\": \"eyJpZGVudGlmaWVyIjogeyJ0eXBlIjogImRucyIsICJ2YWx1ZSI6ICJzb21haW5zaWdodHMuY29tIn0sICJyZXNvdXJjZSI6ICJuZXctYXV0aHoifQ\", \"signature\": \"pgYeoWZgunGHUazQNP9xydD5LaorkRo_bA9M32xXmHPoz0W_bSRxBERm7-DEjfo_4zEkj4j_FHHDTRvB4Fjdpiwho8zkRwUIIb1jZdS_W2Abj-2GamEDIv5BPVAJAQ_4pphNUCIaBqEy6kyAeTDVjVZWl5il3BqtcZFocZ0_1I5cCDgQs6XrmnGfVnsEh5mdo4ElmEemR3UPJr1JvNVignBuKV9okGtaDHZ2dot0KQkRazoyrLYHu13hK7Bu5esCvLOhpP0Uyj_2RIn8yuaqwKva7j9Yjm4EyHeV3fj9AzpjoUDoD5gQLO2Rl5q1hDu_Pac1_iiK1hLXtBqLAY7Osw\"}'}\r\n2017-02-16 14:27:40,483:INFO:requests.packages.urllib3.connectionpool:Starting new HTTPS connection (1): acme-v01.api.letsencrypt.org\r\n2017-02-16 14:27:40,795:DEBUG:requests.packages.urllib3.connectionpool:\"POST /acme/new-authz HTTP/1.1\" 201 1001\r\n2017-02-16 14:27:40,801:DEBUG:root:Received <Response [201]>. Headers: {'Content-Length': '1001', 'Expires': 'Thu, 16 Feb 2017 14:27:40 GMT', 'Boulder-Request-Id': 'Q7l6HtPh3MnukmAv0PCWta8val00mm40kSVjOWK54mE', 'Strict-Transport-Security': 'max-age=604800', 'Server': 'nginx', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Connection': 'keep-alive', 'Link': '<https://acme-v01.api.letsencrypt.org/acme/new-cert>;rel=\"next\"', 'Location': 'https://acme-v01.api.letsencrypt.org/acme/authz/DUSAmsJiClunNYHkrtDqhgWXN5Th9mCXvKUp9Qfm3qM', 'Pragma': 'no-cache', 'Boulder-Requester': '9632581', 'Date': 'Thu, 16 Feb 2017 14:27:40 GMT', 'X-Frame-Options': 'DENY', 'Content-Type': 'application/json', 'Replay-Nonce': '_81jUM3fH9ezcKPoqc1NM5YW4S-IYtmqaB3vW8VV4LM'}. Content: '{\\n  \"identifier\": {\\n    \"type\": \"dns\",\\n    \"value\": \"ZZZZZZZZ.com\"\\n  },\\n  \"status\": \"pending\",\\n  \"expires\": \"2017-02-23T14:27:40.671116464Z\",\\n  \"challenges\": [\\n    {\\n      \"type\": \"tls-sni-01\",\\n      \"status\": \"pending\",\\n      \"uri\": \"https://acme-v01.api.letsencrypt.org/acme/challenge/DUSAmsJiClunNYHkrtDqhgWXN5Th9mCXvKUp9Qfm3qM/659945677\",\\n      \"token\": \"bofQ1vfl_sqeb83cayXDiG-Cb3sno0KUFReP_P7Vuxk\"\\n    },\\n    {\\n      \"type\": \"http-01\",\\n      \"status\": \"pending\",\\n      \"uri\": \"https://acme-v01.api.letsencrypt.org/acme/challenge/DUSAmsJiClunNYHkrtDqhgWXN5Th9mCXvKUp9Qfm3qM/659945678\",\\n      \"token\": \"_YDxnmk30qTiyWGmyTdp1BqNIvzozWCyQ0ZYnp8oW7s\"\\n    },\\n    {\\n      \"type\": \"dns-01\",\\n      \"status\": \"pending\",\\n      \"uri\": \"https://acme-v01.api.letsencrypt.org/acme/challenge/DUSAmsJiClunNYHkrtDqhgWXN5Th9mCXvKUp9Qfm3qM/659945679\",\\n      \"token\": \"i-vfeZGpPkzkQkBN0HgSHwq2ZhcGth0E8oqobpUO_xY\"\\n    }\\n  ],\\n  \"combinations\": [\\n    [\\n      0\\n    ],\\n    [\\n      1\\n    ],\\n    [\\n      2\\n    ]\\n  ]\\n}'\r\n2017-02-16 14:27:40,802:DEBUG:acme.client:Storing nonce: '\\xff\\xcdcP\\xcd\\xdf\\x1f\\xd7\\xb3p\\xa3\\xe8\\xa9\\xcdM3\\x96\\x16\\xe1/\\x88b\\xd9\\xaah\\x1d\\xef[\\xc5U\\xe0\\xb3'\r\n2017-02-16 14:27:40,803:DEBUG:acme.client:Received response <Response [201]> (headers: {'Content-Length': '1001', 'Expires': 'Thu, 16 Feb 2017 14:27:40 GMT', 'Boulder-Request-Id': 'Q7l6HtPh3MnukmAv0PCWta8val00mm40kSVjOWK54mE', 'Strict-Transport-Security': 'max-age=604800', 'Server': 'nginx', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Connection': 'keep-alive', 'Link': '<https://acme-v01.api.letsencrypt.org/acme/new-cert>;rel=\"next\"', 'Location': 'https://acme-v01.api.letsencrypt.org/acme/authz/DUSAmsJiClunNYHkrtDqhgWXN5Th9mCXvKUp9Qfm3qM', 'Pragma': 'no-cache', 'Boulder-Requester': '9632581', 'Date': 'Thu, 16 Feb 2017 14:27:40 GMT', 'X-Frame-Options': 'DENY', 'Content-Type': 'application/json', 'Replay-Nonce': '_81jUM3fH9ezcKPoqc1NM5YW4S-IYtmqaB3vW8VV4LM'}): '{\\n  \"identifier\": {\\n    \"type\": \"dns\",\\n    \"value\": \"ZZZZZZZZ.com\"\\n  },\\n  \"status\": \"pending\",\\n  \"expires\": \"2017-02-23T14:27:40.671116464Z\",\\n  \"challenges\": [\\n    {\\n      \"type\": \"tls-sni-01\",\\n      \"status\": \"pending\",\\n      \"uri\": \"https://acme-v01.api.letsencrypt.org/acme/challenge/DUSAmsJiClunNYHkrtDqhgWXN5Th9mCXvKUp9Qfm3qM/659945677\",\\n      \"token\": \"bofQ1vfl_sqeb83cayXDiG-Cb3sno0KUFReP_P7Vuxk\"\\n    },\\n    {\\n      \"type\": \"http-01\",\\n      \"status\": \"pending\",\\n      \"uri\": \"https://acme-v01.api.letsencrypt.org/acme/challenge/DUSAmsJiClunNYHkrtDqhgWXN5Th9mCXvKUp9Qfm3qM/659945678\",\\n      \"token\": \"_YDxnmk30qTiyWGmyTdp1BqNIvzozWCyQ0ZYnp8oW7s\"\\n    },\\n    {\\n      \"type\": \"dns-01\",\\n      \"status\": \"pending\",\\n      \"uri\": \"https://acme-v01.api.letsencrypt.org/acme/challenge/DUSAmsJiClunNYHkrtDqhgWXN5Th9mCXvKUp9Qfm3qM/659945679\",\\n      \"token\": \"i-vfeZGpPkzkQkBN0HgSHwq2ZhcGth0E8oqobpUO_xY\"\\n    }\\n  ],\\n  \"combinations\": [\\n    [\\n      0\\n    ],\\n    [\\n      1\\n    ],\\n    [\\n      2\\n    ]\\n  ]\\n}'\r\n2017-02-16 14:27:40,804:DEBUG:acme.challenges:dns-01 was not recognized, full message: {u'status': u'pending', u'token': u'i-vfeZGpPkzkQkBN0HgSHwq2ZhcGth0E8oqobpUO_xY', u'type': u'dns-01', u'uri': u'https://acme-v01.api.letsencrypt.org/acme/challenge/DUSAmsJiClunNYHkrtDqhgWXN5Th9mCXvKUp9Qfm3qM/659945679'}\r\n2017-02-16 14:27:40,805:DEBUG:acme.jose.json_util:Omitted empty fields: challenges=None, combinations=None, status=None, expires=None\r\n2017-02-16 14:27:40,806:DEBUG:acme.client:Serialized JSON: {\"identifier\": {\"type\": \"dns\", \"value\": \"www.ZZZZZZZZ.com\"}, \"resource\": \"new-authz\"}\r\n2017-02-16 14:27:40,809:DEBUG:acme.jose.json_util:Omitted empty fields: x5c=(), x5tS256=None, cty=None, jku=None, x5u=None, x5t=None, crit=(), kid=None, alg=None, jwk=None, typ=None\r\n2017-02-16 14:27:40,815:DEBUG:acme.jose.json_util:Omitted empty fields: jku=None, x5tS256=None, cty=None, x5c=(), x5u=None, x5t=None, crit=(), nonce=None, kid=None, typ=None\r\n2017-02-16 14:27:40,815:DEBUG:root:Sending POST request to https://acme-v01.api.letsencrypt.org/acme/new-authz. args: (), kwargs: {'data': '{\"header\": {\"alg\": \"RS256\", \"jwk\": {\"e\": \"AQAB\", \"kty\": \"RSA\", \"n\": \"pv0kqK_iaq3pJ3HkIwlrq58U_wow4BCoWxj_I2UqBc_z_kV_ZF5Dmfz4qQnJpCpl8DBu9IK5m5wbXWWbYLPqo6gZkDFs-74wp3mXK-viBvsu0vW1oKPUqBRVv13u-lJwbuYN8BsTZhMpcRnP2AqI5VyiUZPc8Bfb-2UkHNlaSWhgCZLI-PhhKKsoBIAfNzaRppur_NRmhC2xVhK-45MRIVevJMo2yNJ8OKWbgMOTXTWBkl3bLpmlkyNX3COcox10oQDJrLo8MOxdRfxXnBnu69dbb3FWaI0FMRim1inBzYMa-bnfERn9EFUd8edqmfGZZopOYm_oE9WPuxKQJSoduw\"}}, \"protected\": \"eyJub25jZSI6ICJfODFqVU0zZkg5ZXpjS1BvcWMxTk01WVc0Uy1JWXRtcWFCM3ZXOFZWNExNIn0\", \"payload\": \"eyJpZGVudGlmaWVyIjogeyJ0eXBlIjogImRucyIsICJ2YWx1ZSI6ICJ3d3cuc29tYWluc2lnaHRzLmNvbSJ9LCAicmVzb3VyY2UiOiAibmV3LWF1dGh6In0\", \"signature\": \"bb1AT0bzxYVH_DoBeYxFGkM3FyhUjonlmHzTMI_BWT3iluAV3QWAcgUNuY-YCUFcGsnVSq0TZ-pjMRriW0HNmiRIx0qbe2vIT9qHmqjd2hsG6Erhg_Z3r85ytZmO0ybWtIcyuD_-Kxn6AAXpbPMEpaHeifB6vXfl_BgY-vKC2w7B0_t3YcA4a8x3z7dR6IJMhXuGRiNfnuZo6uXSoGkrUSCTdvSOTG5Gf4im780vvThT5rryUgb1gs2j8GRl76XsbNCh6R_8g9VKW1StCYDjunhokkrgJ_UxPT370rChzBntfzbBIbv_6GAP0ak7g08Ng3-m5o-GYR5TcSfCowOfcQ\"}'}\r\n2017-02-16 14:27:40,818:INFO:requests.packages.urllib3.connectionpool:Starting new HTTPS connection (1): acme-v01.api.letsencrypt.org\r\n2017-02-16 14:27:41,197:DEBUG:requests.packages.urllib3.connectionpool:\"POST /acme/new-authz HTTP/1.1\" 201 1004\r\n2017-02-16 14:27:41,202:DEBUG:root:Received <Response [201]>. Headers: {'Content-Length': '1004', 'Expires': 'Thu, 16 Feb 2017 14:27:41 GMT', 'Boulder-Request-Id': '5Pr3W1MmEV5JpQEmi-IwNtckQ4W8LP2vv1EHOuopFkA', 'Strict-Transport-Security': 'max-age=604800', 'Server': 'nginx', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Connection': 'keep-alive', 'Link': '<https://acme-v01.api.letsencrypt.org/acme/new-cert>;rel=\"next\"', 'Location': 'https://acme-v01.api.letsencrypt.org/acme/authz/nNlXBd2M0Upyx4fKF3vXa3SVpICs-_Vxws1AUjtmyuc', 'Pragma': 'no-cache', 'Boulder-Requester': '9632581', 'Date': 'Thu, 16 Feb 2017 14:27:41 GMT', 'X-Frame-Options': 'DENY', 'Content-Type': 'application/json', 'Replay-Nonce': 'gcQdv85y5Whw6hw3HybE4g20fivzNm7njqCBCeWATO4'}. Content: '{\\n  \"identifier\": {\\n    \"type\": \"dns\",\\n    \"value\": \"www.ZZZZZZZZ.com\"\\n  },\\n  \"status\": \"pending\",\\n  \"expires\": \"2017-02-23T14:27:40.96607311Z\",\\n  \"challenges\": [\\n    {\\n      \"type\": \"tls-sni-01\",\\n      \"status\": \"pending\",\\n      \"uri\": \"https://acme-v01.api.letsencrypt.org/acme/challenge/nNlXBd2M0Upyx4fKF3vXa3SVpICs-_Vxws1AUjtmyuc/659945692\",\\n      \"token\": \"L_1yYq33yzpeIEeO4ocEMFsrmhP4Q7OT979t7mPw30Q\"\\n    },\\n    {\\n      \"type\": \"http-01\",\\n      \"status\": \"pending\",\\n      \"uri\": \"https://acme-v01.api.letsencrypt.org/acme/challenge/nNlXBd2M0Upyx4fKF3vXa3SVpICs-_Vxws1AUjtmyuc/659945693\",\\n      \"token\": \"EPtYC_CyauzUjXhs8KersP-1rsnN-4Arnxsuhkg9Y1k\"\\n    },\\n    {\\n      \"type\": \"dns-01\",\\n      \"status\": \"pending\",\\n      \"uri\": \"https://acme-v01.api.letsencrypt.org/acme/challenge/nNlXBd2M0Upyx4fKF3vXa3SVpICs-_Vxws1AUjtmyuc/659945694\",\\n      \"token\": \"bldBZv-Dy7ELEvxpGyvRjGzZcEXsPs2fLVkkarGwaAI\"\\n    }\\n  ],\\n  \"combinations\": [\\n    [\\n      0\\n    ],\\n    [\\n      2\\n    ],\\n    [\\n      1\\n    ]\\n  ]\\n}'\r\n2017-02-16 14:27:41,204:DEBUG:acme.client:Storing nonce: '\\x81\\xc4\\x1d\\xbf\\xcer\\xe5hp\\xea\\x1c7\\x1f&\\xc4\\xe2\\r\\xb4~+\\xf36n\\xe7\\x8e\\xa0\\x81\\t\\xe5\\x80L\\xee'\r\n2017-02-16 14:27:41,204:DEBUG:acme.client:Received response <Response [201]> (headers: {'Content-Length': '1004', 'Expires': 'Thu, 16 Feb 2017 14:27:41 GMT', 'Boulder-Request-Id': '5Pr3W1MmEV5JpQEmi-IwNtckQ4W8LP2vv1EHOuopFkA', 'Strict-Transport-Security': 'max-age=604800', 'Server': 'nginx', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Connection': 'keep-alive', 'Link': '<https://acme-v01.api.letsencrypt.org/acme/new-cert>;rel=\"next\"', 'Location': 'https://acme-v01.api.letsencrypt.org/acme/authz/nNlXBd2M0Upyx4fKF3vXa3SVpICs-_Vxws1AUjtmyuc', 'Pragma': 'no-cache', 'Boulder-Requester': '9632581', 'Date': 'Thu, 16 Feb 2017 14:27:41 GMT', 'X-Frame-Options': 'DENY', 'Content-Type': 'application/json', 'Replay-Nonce': 'gcQdv85y5Whw6hw3HybE4g20fivzNm7njqCBCeWATO4'}): '{\\n  \"identifier\": {\\n    \"type\": \"dns\",\\n    \"value\": \"www.ZZZZZZZZ.com\"\\n  },\\n  \"status\": \"pending\",\\n  \"expires\": \"2017-02-23T14:27:40.96607311Z\",\\n  \"challenges\": [\\n    {\\n      \"type\": \"tls-sni-01\",\\n      \"status\": \"pending\",\\n      \"uri\": \"https://acme-v01.api.letsencrypt.org/acme/challenge/nNlXBd2M0Upyx4fKF3vXa3SVpICs-_Vxws1AUjtmyuc/659945692\",\\n      \"token\": \"L_1yYq33yzpeIEeO4ocEMFsrmhP4Q7OT979t7mPw30Q\"\\n    },\\n    {\\n      \"type\": \"http-01\",\\n      \"status\": \"pending\",\\n      \"uri\": \"https://acme-v01.api.letsencrypt.org/acme/challenge/nNlXBd2M0Upyx4fKF3vXa3SVpICs-_Vxws1AUjtmyuc/659945693\",\\n      \"token\": \"EPtYC_CyauzUjXhs8KersP-1rsnN-4Arnxsuhkg9Y1k\"\\n    },\\n    {\\n      \"type\": \"dns-01\",\\n      \"status\": \"pending\",\\n      \"uri\": \"https://acme-v01.api.letsencrypt.org/acme/challenge/nNlXBd2M0Upyx4fKF3vXa3SVpICs-_Vxws1AUjtmyuc/659945694\",\\n      \"token\": \"bldBZv-Dy7ELEvxpGyvRjGzZcEXsPs2fLVkkarGwaAI\"\\n    }\\n  ],\\n  \"combinations\": [\\n    [\\n      0\\n    ],\\n    [\\n      2\\n    ],\\n    [\\n      1\\n    ]\\n  ]\\n}'\r\n2017-02-16 14:27:41,206:DEBUG:acme.challenges:dns-01 was not recognized, full message: {u'status': u'pending', u'token': u'bldBZv-Dy7ELEvxpGyvRjGzZcEXsPs2fLVkkarGwaAI', u'type': u'dns-01', u'uri': u'https://acme-v01.api.letsencrypt.org/acme/challenge/nNlXBd2M0Upyx4fKF3vXa3SVpICs-_Vxws1AUjtmyuc/659945694'}\r\n2017-02-16 14:27:41,207:DEBUG:acme.jose.json_util:Omitted empty fields: challenges=None, combinations=None, status=None, expires=None\r\n2017-02-16 14:27:41,208:DEBUG:acme.client:Serialized JSON: {\"identifier\": {\"type\": \"dns\", \"value\": \"CCCCCC.XXXXXXXXX.com\"}, \"resource\": \"new-authz\"}\r\n2017-02-16 14:27:41,210:DEBUG:acme.jose.json_util:Omitted empty fields: x5c=(), x5tS256=None, cty=None, jku=None, x5u=None, x5t=None, crit=(), kid=None, alg=None, jwk=None, typ=None\r\n2017-02-16 14:27:41,218:DEBUG:acme.jose.json_util:Omitted empty fields: jku=None, x5tS256=None, cty=None, x5c=(), x5u=None, x5t=None, crit=(), nonce=None, kid=None, typ=None\r\n2017-02-16 14:27:41,218:DEBUG:root:Sending POST request to https://acme-v01.api.letsencrypt.org/acme/new-authz. args: (), kwargs: {'data': '{\"header\": {\"alg\": \"RS256\", \"jwk\": {\"e\": \"AQAB\", \"kty\": \"RSA\", \"n\": \"pv0kqK_iaq3pJ3HkIwlrq58U_wow4BCoWxj_I2UqBc_z_kV_ZF5Dmfz4qQnJpCpl8DBu9IK5m5wbXWWbYLPqo6gZkDFs-74wp3mXK-viBvsu0vW1oKPUqBRVv13u-lJwbuYN8BsTZhMpcRnP2AqI5VyiUZPc8Bfb-2UkHNlaSWhgCZLI-PhhKKsoBIAfNzaRppur_NRmhC2xVhK-45MRIVevJMo2yNJ8OKWbgMOTXTWBkl3bLpmlkyNX3COcox10oQDJrLo8MOxdRfxXnBnu69dbb3FWaI0FMRim1inBzYMa-bnfERn9EFUd8edqmfGZZopOYm_oE9WPuxKQJSoduw\"}}, \"protected\": \"eyJub25jZSI6ICJnY1Fkdjg1eTVXaHc2aHczSHliRTRnMjBmaXZ6Tm03bmpxQ0JDZVdBVE80In0\", \"payload\": \"eyJpZGVudGlmaWVyIjogeyJ0eXBlIjogImRucyIsICJ2YWx1ZSI6ICJpbnNpZ2h0cy5zb21hLWFuYWx5dGljcy5jb20ifSwgInJlc291cmNlIjogIm5ldy1hdXRoeiJ9\", \"signature\": \"Km0ItyjWxPDajJaP8sTgezmdBjAqGxjKoy09mFnkDp2OzBxdZ2cOAhkgXdYFK_J8yYFx00dpIWogng3OwODhUWLW4lq1LR7UGwpEB5t1Fkqz4Oqx0pbZj2zFlIAuKQGmYjRVGsrEKSx6cGvsbrqMTpwcGvQ2xt_kSn-ezBA9mbJiaeVYPYymFTq2Dgsr98jlVLSb0C55rBLmxK0nzLiCJFlILDRzejlD_fQO3xk7b5MvY0d2CsBDjjfQTBflM83o6petbjqecL2eLlx2xEQe3-9eVuqYJ2waVnTUTyNC-H6M7hcXbx3y7_sx7yPDvhdf7pHbEVIwYqvQ9l4dYg87Hg\"}'}\r\n2017-02-16 14:27:41,222:INFO:requests.packages.urllib3.connectionpool:Starting new HTTPS connection (1): acme-v01.api.letsencrypt.org\r\n2017-02-16 14:27:41,515:DEBUG:requests.packages.urllib3.connectionpool:\"POST /acme/new-authz HTTP/1.1\" 201 1012\r\n2017-02-16 14:27:41,519:DEBUG:root:Received <Response [201]>. Headers: {'Content-Length': '1012', 'Expires': 'Thu, 16 Feb 2017 14:27:41 GMT', 'Boulder-Request-Id': 'CDn2TdM07k1ZxrEdpC9-bOUT1Ag1cDlRoZlg9-ap_T8', 'Strict-Transport-Security': 'max-age=604800', 'Server': 'nginx', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Connection': 'keep-alive', 'Link': '<https://acme-v01.api.letsencrypt.org/acme/new-cert>;rel=\"next\"', 'Location': 'https://acme-v01.api.letsencrypt.org/acme/authz/smA4h--3t-CDlZN--XPXAgWzXQl82dnxN0g5hTIihJQ', 'Pragma': 'no-cache', 'Boulder-Requester': '9632581', 'Date': 'Thu, 16 Feb 2017 14:27:41 GMT', 'X-Frame-Options': 'DENY', 'Content-Type': 'application/json', 'Replay-Nonce': 'yTHQBpgpmTUnL1I2fRMAcUHRi2-Y_T5ROmAeCxjHJgs'}. Content: '{\\n  \"identifier\": {\\n    \"type\": \"dns\",\\n    \"value\": \"CCCCCC.XXXXXXXXX.com\"\\n  },\\n  \"status\": \"pending\",\\n  \"expires\": \"2017-02-23T14:27:41.375460856Z\",\\n  \"challenges\": [\\n    {\\n      \"type\": \"tls-sni-01\",\\n      \"status\": \"pending\",\\n      \"uri\": \"https://acme-v01.api.letsencrypt.org/acme/challenge/smA4h--3t-CDlZN--XPXAgWzXQl82dnxN0g5hTIihJQ/659945713\",\\n      \"token\": \"B2vwdkiHUa8hWSdAA13tXm4Erqv4Mjd2FaCLvx6Tr0k\"\\n    },\\n    {\\n      \"type\": \"http-01\",\\n      \"status\": \"pending\",\\n      \"uri\": \"https://acme-v01.api.letsencrypt.org/acme/challenge/smA4h--3t-CDlZN--XPXAgWzXQl82dnxN0g5hTIihJQ/659945714\",\\n      \"token\": \"TgzlHj9BNpP8ob9hbhgk7v3k9B7LvacggctWjG3Yj60\"\\n    },\\n    {\\n      \"type\": \"dns-01\",\\n      \"status\": \"pending\",\\n      \"uri\": \"https://acme-v01.api.letsencrypt.org/acme/challenge/smA4h--3t-CDlZN--XPXAgWzXQl82dnxN0g5hTIihJQ/659945715\",\\n      \"token\": \"nSl3IE7-w6zoV-uO8oNPN61Bcr7a_wEjSlhWcir7s2o\"\\n    }\\n  ],\\n  \"combinations\": [\\n    [\\n      1\\n    ],\\n    [\\n      2\\n    ],\\n    [\\n      0\\n    ]\\n  ]\\n}'\r\n2017-02-16 14:27:41,520:DEBUG:acme.client:Storing nonce: \"\\xc91\\xd0\\x06\\x98)\\x995'/R6}\\x13\\x00qA\\xd1\\x8bo\\x98\\xfd>Q:`\\x1e\\x0b\\x18\\xc7&\\x0b\"\r\n2017-02-16 14:27:41,521:DEBUG:acme.client:Received response <Response [201]> (headers: {'Content-Length': '1012', 'Expires': 'Thu, 16 Feb 2017 14:27:41 GMT', 'Boulder-Request-Id': 'CDn2TdM07k1ZxrEdpC9-bOUT1Ag1cDlRoZlg9-ap_T8', 'Strict-Transport-Security': 'max-age=604800', 'Server': 'nginx', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Connection': 'keep-alive', 'Link': '<https://acme-v01.api.letsencrypt.org/acme/new-cert>;rel=\"next\"', 'Location': 'https://acme-v01.api.letsencrypt.org/acme/authz/smA4h--3t-CDlZN--XPXAgWzXQl82dnxN0g5hTIihJQ', 'Pragma': 'no-cache', 'Boulder-Requester': '9632581', 'Date': 'Thu, 16 Feb 2017 14:27:41 GMT', 'X-Frame-Options': 'DENY', 'Content-Type': 'application/json', 'Replay-Nonce': 'yTHQBpgpmTUnL1I2fRMAcUHRi2-Y_T5ROmAeCxjHJgs'}): '{\\n  \"identifier\": {\\n    \"type\": \"dns\",\\n    \"value\": \"CCCCCC.XXXXXXXXX.com\"\\n  },\\n  \"status\": \"pending\",\\n  \"expires\": \"2017-02-23T14:27:41.375460856Z\",\\n  \"challenges\": [\\n    {\\n      \"type\": \"tls-sni-01\",\\n      \"status\": \"pending\",\\n      \"uri\": \"https://acme-v01.api.letsencrypt.org/acme/challenge/smA4h--3t-CDlZN--XPXAgWzXQl82dnxN0g5hTIihJQ/659945713\",\\n      \"token\": \"B2vwdkiHUa8hWSdAA13tXm4Erqv4Mjd2FaCLvx6Tr0k\"\\n    },\\n    {\\n      \"type\": \"http-01\",\\n      \"status\": \"pending\",\\n      \"uri\": \"https://acme-v01.api.letsencrypt.org/acme/challenge/smA4h--3t-CDlZN--XPXAgWzXQl82dnxN0g5hTIihJQ/659945714\",\\n      \"token\": \"TgzlHj9BNpP8ob9hbhgk7v3k9B7LvacggctWjG3Yj60\"\\n    },\\n    {\\n      \"type\": \"dns-01\",\\n      \"status\": \"pending\",\\n      \"uri\": \"https://acme-v01.api.letsencrypt.org/acme/challenge/smA4h--3t-CDlZN--XPXAgWzXQl82dnxN0g5hTIihJQ/659945715\",\\n      \"token\": \"nSl3IE7-w6zoV-uO8oNPN61Bcr7a_wEjSlhWcir7s2o\"\\n    }\\n  ],\\n  \"combinations\": [\\n    [\\n      1\\n    ],\\n    [\\n      2\\n    ],\\n    [\\n      0\\n    ]\\n  ]\\n}'\r\n2017-02-16 14:27:41,522:DEBUG:acme.challenges:dns-01 was not recognized, full message: {u'status': u'pending', u'token': u'nSl3IE7-w6zoV-uO8oNPN61Bcr7a_wEjSlhWcir7s2o', u'type': u'dns-01', u'uri': u'https://acme-v01.api.letsencrypt.org/acme/challenge/smA4h--3t-CDlZN--XPXAgWzXQl82dnxN0g5hTIihJQ/659945715'}\r\n2017-02-16 14:27:41,523:DEBUG:acme.jose.json_util:Omitted empty fields: challenges=None, combinations=None, status=None, expires=None\r\n2017-02-16 14:27:41,524:DEBUG:acme.client:Serialized JSON: {\"identifier\": {\"type\": \"dns\", \"value\": \"YYYYYYYYY\"}, \"resource\": \"new-authz\"}\r\n2017-02-16 14:27:41,527:DEBUG:acme.jose.json_util:Omitted empty fields: x5c=(), x5tS256=None, cty=None, jku=None, x5u=None, x5t=None, crit=(), kid=None, alg=None, jwk=None, typ=None\r\n2017-02-16 14:27:41,533:DEBUG:acme.jose.json_util:Omitted empty fields: jku=None, x5tS256=None, cty=None, x5c=(), x5u=None, x5t=None, crit=(), nonce=None, kid=None, typ=None\r\n2017-02-16 14:27:41,534:DEBUG:root:Sending POST request to https://acme-v01.api.letsencrypt.org/acme/new-authz. args: (), kwargs: {'data': '{\"header\": {\"alg\": \"RS256\", \"jwk\": {\"e\": \"AQAB\", \"kty\": \"RSA\", \"n\": \"pv0kqK_iaq3pJ3HkIwlrq58U_wow4BCoWxj_I2UqBc_z_kV_ZF5Dmfz4qQnJpCpl8DBu9IK5m5wbXWWbYLPqo6gZkDFs-74wp3mXK-viBvsu0vW1oKPUqBRVv13u-lJwbuYN8BsTZhMpcRnP2AqI5VyiUZPc8Bfb-2UkHNlaSWhgCZLI-PhhKKsoBIAfNzaRppur_NRmhC2xVhK-45MRIVevJMo2yNJ8OKWbgMOTXTWBkl3bLpmlkyNX3COcox10oQDJrLo8MOxdRfxXnBnu69dbb3FWaI0FMRim1inBzYMa-bnfERn9EFUd8edqmfGZZopOYm_oE9WPuxKQJSoduw\"}}, \"protected\": \"eyJub25jZSI6ICJ5VEhRQnBncG1UVW5MMUkyZlJNQWNVSFJpMi1ZX1Q1Uk9tQWVDeGpISmdzIn0\", \"payload\": \"eyJpZGVudGlmaWVyIjogeyJ0eXBlIjogImRucyIsICJ2YWx1ZSI6ICJrZWxhYS5tZSJ9LCAicmVzb3VyY2UiOiAibmV3LWF1dGh6In0\", \"signature\": \"UfaetdRG6d_BUtsYHaoWyXD5dtsQFbIW4vNamFn7bMY3PalQhMh95OEqo4UZNDHqtlq-LahFHJxAjKfLN3ToAS-4DbJzNhp-0xmqAeqlk-yqYa5zkLYsUOLKAhhJY40xbfqFWwvD6bY4obdoPkRF1yb0cXJP9CY92H3Iu_m0sbyFrhBO6reOdx1y3EHCMq0dNVP57DsKrNxQAdm9J6YDnkTEe7ir0dWk-Z5lgjVUonRKxXnhioQ-uNv9AcVljSnlH2SiW4kxsV8QJ1dzdZbZvVoMu1RxADcQExVwmx0gmLBxFdf97ENj2oJXR8OmygFfvj2vRcWRutcKEpGxZSW6sg\"}'}\r\n2017-02-16 14:27:41,536:INFO:requests.packages.urllib3.connectionpool:Starting new HTTPS connection (1): acme-v01.api.letsencrypt.org\r\n2017-02-16 14:27:41,824:DEBUG:requests.packages.urllib3.connectionpool:\"POST /acme/new-authz HTTP/1.1\" 201 993\r\n2017-02-16 14:27:41,830:DEBUG:root:Received <Response [201]>. Headers: {'Content-Length': '993', 'Expires': 'Thu, 16 Feb 2017 14:27:41 GMT', 'Boulder-Request-Id': 'LY464fiE-ZdbFqlisZ8nB0iL3DCA4ff8ODuoBNLTsZY', 'Strict-Transport-Security': 'max-age=604800', 'Server': 'nginx', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Connection': 'keep-alive', 'Link': '<https://acme-v01.api.letsencrypt.org/acme/new-cert>;rel=\"next\"', 'Location': 'https://acme-v01.api.letsencrypt.org/acme/authz/vrq8BUIXUDbzuYg7VRJE5jue4h9hIxqT6VVEssm2Tcc', 'Pragma': 'no-cache', 'Boulder-Requester': '9632581', 'Date': 'Thu, 16 Feb 2017 14:27:41 GMT', 'X-Frame-Options': 'DENY', 'Content-Type': 'application/json', 'Replay-Nonce': 'uSfnfigCdw4E232LF-yFHLdFovifJrbKJLLuP7au1RI'}. Content: '{\\n  \"identifier\": {\\n    \"type\": \"dns\",\\n    \"value\": \"YYYYYYYYY\"\\n  },\\n  \"status\": \"pending\",\\n  \"expires\": \"2017-02-23T14:27:41.692455085Z\",\\n  \"challenges\": [\\n    {\\n      \"type\": \"http-01\",\\n      \"status\": \"pending\",\\n      \"uri\": \"https://acme-v01.api.letsencrypt.org/acme/challenge/vrq8BUIXUDbzuYg7VRJE5jue4h9hIxqT6VVEssm2Tcc/659945728\",\\n      \"token\": \"vb58J-JDbFk-ZdGpjUII-fnV6BE6xLPfBn4QhM8GOyQ\"\\n    },\\n    {\\n      \"type\": \"tls-sni-01\",\\n      \"status\": \"pending\",\\n      \"uri\": \"https://acme-v01.api.letsencrypt.org/acme/challenge/vrq8BUIXUDbzuYg7VRJE5jue4h9hIxqT6VVEssm2Tcc/659945729\",\\n      \"token\": \"T-GJgDvobe6_yPiJdQL9D8vTOt1S-dO8bXn2oMcGJo8\"\\n    },\\n    {\\n      \"type\": \"dns-01\",\\n      \"status\": \"pending\",\\n      \"uri\": \"https://acme-v01.api.letsencrypt.org/acme/challenge/vrq8BUIXUDbzuYg7VRJE5jue4h9hIxqT6VVEssm2Tcc/659945730\",\\n      \"token\": \"UHrRP-dFkKznSib8i1C4_VSQdMauRiXaLOj5qvKPrrI\"\\n    }\\n  ],\\n  \"combinations\": [\\n    [\\n      0\\n    ],\\n    [\\n      1\\n    ],\\n    [\\n      2\\n    ]\\n  ]\\n}'\r\n2017-02-16 14:27:41,831:DEBUG:acme.client:Storing nonce: \"\\xb9'\\xe7~(\\x02w\\x0e\\x04\\xdb}\\x8b\\x17\\xec\\x85\\x1c\\xb7E\\xa2\\xf8\\x9f&\\xb6\\xca$\\xb2\\xee?\\xb6\\xae\\xd5\\x12\"\r\n2017-02-16 14:27:41,832:DEBUG:acme.client:Received response <Response [201]> (headers: {'Content-Length': '993', 'Expires': 'Thu, 16 Feb 2017 14:27:41 GMT', 'Boulder-Request-Id': 'LY464fiE-ZdbFqlisZ8nB0iL3DCA4ff8ODuoBNLTsZY', 'Strict-Transport-Security': 'max-age=604800', 'Server': 'nginx', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Connection': 'keep-alive', 'Link': '<https://acme-v01.api.letsencrypt.org/acme/new-cert>;rel=\"next\"', 'Location': 'https://acme-v01.api.letsencrypt.org/acme/authz/vrq8BUIXUDbzuYg7VRJE5jue4h9hIxqT6VVEssm2Tcc', 'Pragma': 'no-cache', 'Boulder-Requester': '9632581', 'Date': 'Thu, 16 Feb 2017 14:27:41 GMT', 'X-Frame-Options': 'DENY', 'Content-Type': 'application/json', 'Replay-Nonce': 'uSfnfigCdw4E232LF-yFHLdFovifJrbKJLLuP7au1RI'}): '{\\n  \"identifier\": {\\n    \"type\": \"dns\",\\n    \"value\": \"YYYYYYYYY\"\\n  },\\n  \"status\": \"pending\",\\n  \"expires\": \"2017-02-23T14:27:41.692455085Z\",\\n  \"challenges\": [\\n    {\\n      \"type\": \"http-01\",\\n      \"status\": \"pending\",\\n      \"uri\": \"https://acme-v01.api.letsencrypt.org/acme/challenge/vrq8BUIXUDbzuYg7VRJE5jue4h9hIxqT6VVEssm2Tcc/659945728\",\\n      \"token\": \"vb58J-JDbFk-ZdGpjUII-fnV6BE6xLPfBn4QhM8GOyQ\"\\n    },\\n    {\\n      \"type\": \"tls-sni-01\",\\n      \"status\": \"pending\",\\n      \"uri\": \"https://acme-v01.api.letsencrypt.org/acme/challenge/vrq8BUIXUDbzuYg7VRJE5jue4h9hIxqT6VVEssm2Tcc/659945729\",\\n      \"token\": \"T-GJgDvobe6_yPiJdQL9D8vTOt1S-dO8bXn2oMcGJo8\"\\n    },\\n    {\\n      \"type\": \"dns-01\",\\n      \"status\": \"pending\",\\n      \"uri\": \"https://acme-v01.api.letsencrypt.org/acme/challenge/vrq8BUIXUDbzuYg7VRJE5jue4h9hIxqT6VVEssm2Tcc/659945730\",\\n      \"token\": \"UHrRP-dFkKznSib8i1C4_VSQdMauRiXaLOj5qvKPrrI\"\\n    }\\n  ],\\n  \"combinations\": [\\n    [\\n      0\\n    ],\\n    [\\n      1\\n    ],\\n    [\\n      2\\n    ]\\n  ]\\n}'\r\n2017-02-16 14:27:41,833:DEBUG:acme.challenges:dns-01 was not recognized, full message: {u'status': u'pending', u'token': u'UHrRP-dFkKznSib8i1C4_VSQdMauRiXaLOj5qvKPrrI', u'type': u'dns-01', u'uri': u'https://acme-v01.api.letsencrypt.org/acme/challenge/vrq8BUIXUDbzuYg7VRJE5jue4h9hIxqT6VVEssm2Tcc/659945730'}\r\n2017-02-16 14:27:41,834:DEBUG:acme.jose.json_util:Omitted empty fields: challenges=None, combinations=None, status=None, expires=None\r\n2017-02-16 14:27:41,834:DEBUG:acme.client:Serialized JSON: {\"identifier\": {\"type\": \"dns\", \"value\": \"www.YYYYYYYYY\"}, \"resource\": \"new-authz\"}\r\n2017-02-16 14:27:41,837:DEBUG:acme.jose.json_util:Omitted empty fields: x5c=(), x5tS256=None, cty=None, jku=None, x5u=None, x5t=None, crit=(), kid=None, alg=None, jwk=None, typ=None\r\n2017-02-16 14:27:41,843:DEBUG:acme.jose.json_util:Omitted empty fields: jku=None, x5tS256=None, cty=None, x5c=(), x5u=None, x5t=None, crit=(), nonce=None, kid=None, typ=None\r\n2017-02-16 14:27:41,843:DEBUG:root:Sending POST request to https://acme-v01.api.letsencrypt.org/acme/new-authz. args: (), kwargs: {'data': '{\"header\": {\"alg\": \"RS256\", \"jwk\": {\"e\": \"AQAB\", \"kty\": \"RSA\", \"n\": \"pv0kqK_iaq3pJ3HkIwlrq58U_wow4BCoWxj_I2UqBc_z_kV_ZF5Dmfz4qQnJpCpl8DBu9IK5m5wbXWWbYLPqo6gZkDFs-74wp3mXK-viBvsu0vW1oKPUqBRVv13u-lJwbuYN8BsTZhMpcRnP2AqI5VyiUZPc8Bfb-2UkHNlaSWhgCZLI-PhhKKsoBIAfNzaRppur_NRmhC2xVhK-45MRIVevJMo2yNJ8OKWbgMOTXTWBkl3bLpmlkyNX3COcox10oQDJrLo8MOxdRfxXnBnu69dbb3FWaI0FMRim1inBzYMa-bnfERn9EFUd8edqmfGZZopOYm_oE9WPuxKQJSoduw\"}}, \"protected\": \"eyJub25jZSI6ICJ1U2ZuZmlnQ2R3NEUyMzJMRi15RkhMZEZvdmlmSnJiS0pMTHVQN2F1MVJJIn0\", \"payload\": \"eyJpZGVudGlmaWVyIjogeyJ0eXBlIjogImRucyIsICJ2YWx1ZSI6ICJ3d3cua2VsYWEubWUifSwgInJlc291cmNlIjogIm5ldy1hdXRoeiJ9\", \"signature\": \"S6Yl7rH0Qec8jZpdrRKw7wbVUFn-SvNyc5f-J26p-Jz3b4RLyO-HIadJcXTUmKmSZxFdm9UWtiYwnVoKyDpmccggVQcsi-VQ9GE7LZQaYTDodBYUZFabZww-MUZy95kBeionmkUw0nAHDG6s3f-0qr7AZ2WdC6zHBD9lLVPSAl_s1t1OKzgVsxBL7OyYBIMaZPwCXyEfb2LzsAHKT1gU5zaa01irtroAtcW3GbUCH6Phj0BZ8w-HRy8bLf1N53NEbjGw3EJ5C5gXQptBCfSdEpzkJGDXZOBzub-T3-OuG37Hzv8FbQa9lU2WMRo_03kdxelTVLqjksbrqkUqOe1F8g\"}'}\r\n2017-02-16 14:27:41,846:INFO:requests.packages.urllib3.connectionpool:Starting new HTTPS connection (1): acme-v01.api.letsencrypt.org\r\n2017-02-16 14:27:42,179:DEBUG:requests.packages.urllib3.connectionpool:\"POST /acme/new-authz HTTP/1.1\" 201 997\r\n2017-02-16 14:27:42,183:DEBUG:root:Received <Response [201]>. Headers: {'Content-Length': '997', 'Expires': 'Thu, 16 Feb 2017 14:27:42 GMT', 'Boulder-Request-Id': 'AgPyGoO7MtOkjC0liGa-0kzXlk6Z6FD7iKP74qIcoao', 'Strict-Transport-Security': 'max-age=604800', 'Server': 'nginx', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Connection': 'keep-alive', 'Link': '<https://acme-v01.api.letsencrypt.org/acme/new-cert>;rel=\"next\"', 'Location': 'https://acme-v01.api.letsencrypt.org/acme/authz/OZvkvr_hnrrsdNpzQ16ZNAQ6VWzK5YxTDXBm-MuvoCA', 'Pragma': 'no-cache', 'Boulder-Requester': '9632581', 'Date': 'Thu, 16 Feb 2017 14:27:42 GMT', 'X-Frame-Options': 'DENY', 'Content-Type': 'application/json', 'Replay-Nonce': 'ANVULI883bmuOVU7rU6m8THa8FOL0Vd_pPb9ksz4bFM'}. Content: '{\\n  \"identifier\": {\\n    \"type\": \"dns\",\\n    \"value\": \"www.YYYYYYYYY\"\\n  },\\n  \"status\": \"pending\",\\n  \"expires\": \"2017-02-23T14:27:41.997614405Z\",\\n  \"challenges\": [\\n    {\\n      \"type\": \"tls-sni-01\",\\n      \"status\": \"pending\",\\n      \"uri\": \"https://acme-v01.api.letsencrypt.org/acme/challenge/OZvkvr_hnrrsdNpzQ16ZNAQ6VWzK5YxTDXBm-MuvoCA/659945737\",\\n      \"token\": \"8A-KnaVkEb9Je-AdjGMPWC6LoPfWv8ZM5M6JzVLQ5WU\"\\n    },\\n    {\\n      \"type\": \"dns-01\",\\n      \"status\": \"pending\",\\n      \"uri\": \"https://acme-v01.api.letsencrypt.org/acme/challenge/OZvkvr_hnrrsdNpzQ16ZNAQ6VWzK5YxTDXBm-MuvoCA/659945738\",\\n      \"token\": \"wUngEnyh8qgJm5vZ9FPi0JKpV-XgQ88f-LVIOGFZikE\"\\n    },\\n    {\\n      \"type\": \"http-01\",\\n      \"status\": \"pending\",\\n      \"uri\": \"https://acme-v01.api.letsencrypt.org/acme/challenge/OZvkvr_hnrrsdNpzQ16ZNAQ6VWzK5YxTDXBm-MuvoCA/659945739\",\\n      \"token\": \"SXnSoYxL4NJYLjHsZOBth0zokhNpJ3z8GVy49_IPTTM\"\\n    }\\n  ],\\n  \"combinations\": [\\n    [\\n      2\\n    ],\\n    [\\n      0\\n    ],\\n    [\\n      1\\n    ]\\n  ]\\n}'\r\n2017-02-16 14:27:42,185:DEBUG:acme.client:Storing nonce: '\\x00\\xd5T,\\x8f<\\xdd\\xb9\\xae9U;\\xadN\\xa6\\xf11\\xda\\xf0S\\x8b\\xd1W\\x7f\\xa4\\xf6\\xfd\\x92\\xcc\\xf8lS'\r\n2017-02-16 14:27:42,185:DEBUG:acme.client:Received response <Response [201]> (headers: {'Content-Length': '997', 'Expires': 'Thu, 16 Feb 2017 14:27:42 GMT', 'Boulder-Request-Id': 'AgPyGoO7MtOkjC0liGa-0kzXlk6Z6FD7iKP74qIcoao', 'Strict-Transport-Security': 'max-age=604800', 'Server': 'nginx', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Connection': 'keep-alive', 'Link': '<https://acme-v01.api.letsencrypt.org/acme/new-cert>;rel=\"next\"', 'Location': 'https://acme-v01.api.letsencrypt.org/acme/authz/OZvkvr_hnrrsdNpzQ16ZNAQ6VWzK5YxTDXBm-MuvoCA', 'Pragma': 'no-cache', 'Boulder-Requester': '9632581', 'Date': 'Thu, 16 Feb 2017 14:27:42 GMT', 'X-Frame-Options': 'DENY', 'Content-Type': 'application/json', 'Replay-Nonce': 'ANVULI883bmuOVU7rU6m8THa8FOL0Vd_pPb9ksz4bFM'}): '{\\n  \"identifier\": {\\n    \"type\": \"dns\",\\n    \"value\": \"www.YYYYYYYYY\"\\n  },\\n  \"status\": \"pending\",\\n  \"expires\": \"2017-02-23T14:27:41.997614405Z\",\\n  \"challenges\": [\\n    {\\n      \"type\": \"tls-sni-01\",\\n      \"status\": \"pending\",\\n      \"uri\": \"https://acme-v01.api.letsencrypt.org/acme/challenge/OZvkvr_hnrrsdNpzQ16ZNAQ6VWzK5YxTDXBm-MuvoCA/659945737\",\\n      \"token\": \"8A-KnaVkEb9Je-AdjGMPWC6LoPfWv8ZM5M6JzVLQ5WU\"\\n    },\\n    {\\n      \"type\": \"dns-01\",\\n      \"status\": \"pending\",\\n      \"uri\": \"https://acme-v01.api.letsencrypt.org/acme/challenge/OZvkvr_hnrrsdNpzQ16ZNAQ6VWzK5YxTDXBm-MuvoCA/659945738\",\\n      \"token\": \"wUngEnyh8qgJm5vZ9FPi0JKpV-XgQ88f-LVIOGFZikE\"\\n    },\\n    {\\n      \"type\": \"http-01\",\\n      \"status\": \"pending\",\\n      \"uri\": \"https://acme-v01.api.letsencrypt.org/acme/challenge/OZvkvr_hnrrsdNpzQ16ZNAQ6VWzK5YxTDXBm-MuvoCA/659945739\",\\n      \"token\": \"SXnSoYxL4NJYLjHsZOBth0zokhNpJ3z8GVy49_IPTTM\"\\n    }\\n  ],\\n  \"combinations\": [\\n    [\\n      2\\n    ],\\n    [\\n      0\\n    ],\\n    [\\n      1\\n    ]\\n  ]\\n}'\r\n2017-02-16 14:27:42,187:DEBUG:acme.challenges:dns-01 was not recognized, full message: {u'status': u'pending', u'token': u'wUngEnyh8qgJm5vZ9FPi0JKpV-XgQ88f-LVIOGFZikE', u'type': u'dns-01', u'uri': u'https://acme-v01.api.letsencrypt.org/acme/challenge/OZvkvr_hnrrsdNpzQ16ZNAQ6VWzK5YxTDXBm-MuvoCA/659945738'}\r\n2017-02-16 14:27:42,188:DEBUG:acme.jose.json_util:Omitted empty fields: challenges=None, combinations=None, status=None, expires=None\r\n2017-02-16 14:27:42,188:DEBUG:acme.client:Serialized JSON: {\"identifier\": {\"type\": \"dns\", \"value\": \"beta.YYYYYYYYY\"}, \"resource\": \"new-authz\"}\r\n2017-02-16 14:27:42,191:DEBUG:acme.jose.json_util:Omitted empty fields: x5c=(), x5tS256=None, cty=None, jku=None, x5u=None, x5t=None, crit=(), kid=None, alg=None, jwk=None, typ=None\r\n2017-02-16 14:27:42,198:DEBUG:acme.jose.json_util:Omitted empty fields: jku=None, x5tS256=None, cty=None, x5c=(), x5u=None, x5t=None, crit=(), nonce=None, kid=None, typ=None\r\n2017-02-16 14:27:42,198:DEBUG:root:Sending POST request to https://acme-v01.api.letsencrypt.org/acme/new-authz. args: (), kwargs: {'data': '{\"header\": {\"alg\": \"RS256\", \"jwk\": {\"e\": \"AQAB\", \"kty\": \"RSA\", \"n\": \"pv0kqK_iaq3pJ3HkIwlrq58U_wow4BCoWxj_I2UqBc_z_kV_ZF5Dmfz4qQnJpCpl8DBu9IK5m5wbXWWbYLPqo6gZkDFs-74wp3mXK-viBvsu0vW1oKPUqBRVv13u-lJwbuYN8BsTZhMpcRnP2AqI5VyiUZPc8Bfb-2UkHNlaSWhgCZLI-PhhKKsoBIAfNzaRppur_NRmhC2xVhK-45MRIVevJMo2yNJ8OKWbgMOTXTWBkl3bLpmlkyNX3COcox10oQDJrLo8MOxdRfxXnBnu69dbb3FWaI0FMRim1inBzYMa-bnfERn9EFUd8edqmfGZZopOYm_oE9WPuxKQJSoduw\"}}, \"protected\": \"eyJub25jZSI6ICJBTlZVTEk4ODNibXVPVlU3clU2bThUSGE4Rk9MMFZkX3BQYjlrc3o0YkZNIn0\", \"payload\": \"eyJpZGVudGlmaWVyIjogeyJ0eXBlIjogImRucyIsICJ2YWx1ZSI6ICJiZXRhLmtlbGFhLm1lIn0sICJyZXNvdXJjZSI6ICJuZXctYXV0aHoifQ\", \"signature\": \"D35h5aiBhiUv9wx3RVuxTMLcf7YCgovUIgvyZRk4d3PMgFjUXCMPSELH1908aZvx4Mek0X-p9Zi1uR9peSiGXeFhR4coWFBVVj6dpXbxq_nLYHrN5WMSmmFvgT_pmwrzBxEV0O7ijmgmoNoqbDzZx3AGOMMZF0zSm_4KKK8soSUR6onakohlxRgz43KqDyYYcrmvFdNwnRea5hFWSpt6nrSh4rrcrKiUepkWxZDlJu18hae8WOpqJEow5ZitLguuh9XuAz69yHv0CxJh7kEHGtXTUgIA286SFj51L11YlYT9XmjlAMhMoSb5Z3o7nrUy3HWd6mADpBYBv93Ez4jv_A\"}'}\r\n2017-02-16 14:27:42,201:INFO:requests.packages.urllib3.connectionpool:Starting new HTTPS connection (1): acme-v01.api.letsencrypt.org\r\n2017-02-16 14:27:42,488:DEBUG:requests.packages.urllib3.connectionpool:\"POST /acme/new-authz HTTP/1.1\" 201 998\r\n2017-02-16 14:27:42,493:DEBUG:root:Received <Response [201]>. Headers: {'Content-Length': '998', 'Expires': 'Thu, 16 Feb 2017 14:27:42 GMT', 'Boulder-Request-Id': 'K2tMp7ZTqPD_MQXdx1I2MI6rQigYiS_6agmnkeoVePk', 'Strict-Transport-Security': 'max-age=604800', 'Server': 'nginx', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Connection': 'keep-alive', 'Link': '<https://acme-v01.api.letsencrypt.org/acme/new-cert>;rel=\"next\"', 'Location': 'https://acme-v01.api.letsencrypt.org/acme/authz/876kNd-Tw-wGfQ2OY8gNCZsoIfftvVDFzAkgus3t2aY', 'Pragma': 'no-cache', 'Boulder-Requester': '9632581', 'Date': 'Thu, 16 Feb 2017 14:27:42 GMT', 'X-Frame-Options': 'DENY', 'Content-Type': 'application/json', 'Replay-Nonce': 'octm_27bFENm3JrXGh4KEJ9zg75isfd5n0Z2VwRHx-c'}. Content: '{\\n  \"identifier\": {\\n    \"type\": \"dns\",\\n    \"value\": \"beta.YYYYYYYYY\"\\n  },\\n  \"status\": \"pending\",\\n  \"expires\": \"2017-02-23T14:27:42.360626623Z\",\\n  \"challenges\": [\\n    {\\n      \"type\": \"http-01\",\\n      \"status\": \"pending\",\\n      \"uri\": \"https://acme-v01.api.letsencrypt.org/acme/challenge/876kNd-Tw-wGfQ2OY8gNCZsoIfftvVDFzAkgus3t2aY/659945752\",\\n      \"token\": \"bTkleGkwCU8ke1UInErxanqDDKxUrXspwbV_o4nWd_s\"\\n    },\\n    {\\n      \"type\": \"tls-sni-01\",\\n      \"status\": \"pending\",\\n      \"uri\": \"https://acme-v01.api.letsencrypt.org/acme/challenge/876kNd-Tw-wGfQ2OY8gNCZsoIfftvVDFzAkgus3t2aY/659945753\",\\n      \"token\": \"IcWg-HPyD_kNnhNhFIIYxuL-DtVxmj95dJUI8DuLEj0\"\\n    },\\n    {\\n      \"type\": \"dns-01\",\\n      \"status\": \"pending\",\\n      \"uri\": \"https://acme-v01.api.letsencrypt.org/acme/challenge/876kNd-Tw-wGfQ2OY8gNCZsoIfftvVDFzAkgus3t2aY/659945754\",\\n      \"token\": \"rYHjTmd-jegcYZ_bK0zINA1GzWz-8z-InZGlX098yCU\"\\n    }\\n  ],\\n  \"combinations\": [\\n    [\\n      1\\n    ],\\n    [\\n      0\\n    ],\\n    [\\n      2\\n    ]\\n  ]\\n}'\r\n2017-02-16 14:27:42,495:DEBUG:acme.client:Storing nonce: '\\xa1\\xcbf\\xffn\\xdb\\x14Cf\\xdc\\x9a\\xd7\\x1a\\x1e\\n\\x10\\x9fs\\x83\\xbeb\\xb1\\xf7y\\x9fFvW\\x04G\\xc7\\xe7'\r\n2017-02-16 14:27:42,495:DEBUG:acme.client:Received response <Response [201]> (headers: {'Content-Length': '998', 'Expires': 'Thu, 16 Feb 2017 14:27:42 GMT', 'Boulder-Request-Id': 'K2tMp7ZTqPD_MQXdx1I2MI6rQigYiS_6agmnkeoVePk', 'Strict-Transport-Security': 'max-age=604800', 'Server': 'nginx', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Connection': 'keep-alive', 'Link': '<https://acme-v01.api.letsencrypt.org/acme/new-cert>;rel=\"next\"', 'Location': 'https://acme-v01.api.letsencrypt.org/acme/authz/876kNd-Tw-wGfQ2OY8gNCZsoIfftvVDFzAkgus3t2aY', 'Pragma': 'no-cache', 'Boulder-Requester': '9632581', 'Date': 'Thu, 16 Feb 2017 14:27:42 GMT', 'X-Frame-Options': 'DENY', 'Content-Type': 'application/json', 'Replay-Nonce': 'octm_27bFENm3JrXGh4KEJ9zg75isfd5n0Z2VwRHx-c'}): '{\\n  \"identifier\": {\\n    \"type\": \"dns\",\\n    \"value\": \"beta.YYYYYYYYY\"\\n  },\\n  \"status\": \"pending\",\\n  \"expires\": \"2017-02-23T14:27:42.360626623Z\",\\n  \"challenges\": [\\n    {\\n      \"type\": \"http-01\",\\n      \"status\": \"pending\",\\n      \"uri\": \"https://acme-v01.api.letsencrypt.org/acme/challenge/876kNd-Tw-wGfQ2OY8gNCZsoIfftvVDFzAkgus3t2aY/659945752\",\\n      \"token\": \"bTkleGkwCU8ke1UInErxanqDDKxUrXspwbV_o4nWd_s\"\\n    },\\n    {\\n      \"type\": \"tls-sni-01\",\\n      \"status\": \"pending\",\\n      \"uri\": \"https://acme-v01.api.letsencrypt.org/acme/challenge/876kNd-Tw-wGfQ2OY8gNCZsoIfftvVDFzAkgus3t2aY/659945753\",\\n      \"token\": \"IcWg-HPyD_kNnhNhFIIYxuL-DtVxmj95dJUI8DuLEj0\"\\n    },\\n    {\\n      \"type\": \"dns-01\",\\n      \"status\": \"pending\",\\n      \"uri\": \"https://acme-v01.api.letsencrypt.org/acme/challenge/876kNd-Tw-wGfQ2OY8gNCZsoIfftvVDFzAkgus3t2aY/659945754\",\\n      \"token\": \"rYHjTmd-jegcYZ_bK0zINA1GzWz-8z-InZGlX098yCU\"\\n    }\\n  ],\\n  \"combinations\": [\\n    [\\n      1\\n    ],\\n    [\\n      0\\n    ],\\n    [\\n      2\\n    ]\\n  ]\\n}'\r\n2017-02-16 14:27:42,497:DEBUG:acme.challenges:dns-01 was not recognized, full message: {u'status': u'pending', u'token': u'rYHjTmd-jegcYZ_bK0zINA1GzWz-8z-InZGlX098yCU', u'type': u'dns-01', u'uri': u'https://acme-v01.api.letsencrypt.org/acme/challenge/876kNd-Tw-wGfQ2OY8gNCZsoIfftvVDFzAkgus3t2aY/659945754'}\r\n2017-02-16 14:27:42,499:DEBUG:acme.jose.json_util:Omitted empty fields: challenges=None, combinations=None, status=None, expires=None\r\n2017-02-16 14:27:42,499:DEBUG:acme.client:Serialized JSON: {\"identifier\": {\"type\": \"dns\", \"value\": \"AAAAA.XXXXXXXXX.com\"}, \"resource\": \"new-authz\"}\r\n2017-02-16 14:27:42,502:DEBUG:acme.jose.json_util:Omitted empty fields: x5c=(), x5tS256=None, cty=None, jku=None, x5u=None, x5t=None, crit=(), kid=None, alg=None, jwk=None, typ=None\r\n2017-02-16 14:27:42,507:DEBUG:acme.jose.json_util:Omitted empty fields: jku=None, x5tS256=None, cty=None, x5c=(), x5u=None, x5t=None, crit=(), nonce=None, kid=None, typ=None\r\n2017-02-16 14:27:42,508:DEBUG:root:Sending POST request to https://acme-v01.api.letsencrypt.org/acme/new-authz. args: (), kwargs: {'data': '{\"header\": {\"alg\": \"RS256\", \"jwk\": {\"e\": \"AQAB\", \"kty\": \"RSA\", \"n\": \"pv0kqK_iaq3pJ3HkIwlrq58U_wow4BCoWxj_I2UqBc_z_kV_ZF5Dmfz4qQnJpCpl8DBu9IK5m5wbXWWbYLPqo6gZkDFs-74wp3mXK-viBvsu0vW1oKPUqBRVv13u-lJwbuYN8BsTZhMpcRnP2AqI5VyiUZPc8Bfb-2UkHNlaSWhgCZLI-PhhKKsoBIAfNzaRppur_NRmhC2xVhK-45MRIVevJMo2yNJ8OKWbgMOTXTWBkl3bLpmlkyNX3COcox10oQDJrLo8MOxdRfxXnBnu69dbb3FWaI0FMRim1inBzYMa-bnfERn9EFUd8edqmfGZZopOYm_oE9WPuxKQJSoduw\"}}, \"protected\": \"eyJub25jZSI6ICJvY3RtXzI3YkZFTm0zSnJYR2g0S0VKOXpnNzVpc2ZkNW4wWjJWd1JIeC1jIn0\", \"payload\": \"eyJpZGVudGlmaWVyIjogeyJ0eXBlIjogImRucyIsICJ2YWx1ZSI6ICJoaXZlLnNvbWEtYW5hbHl0aWNzLmNvbSJ9LCAicmVzb3VyY2UiOiAibmV3LWF1dGh6In0\", \"signature\": \"VyOXwf_pgc-7rbNI3q6IIQ2JQPNukIQK3P0r-BE8FK55AR1yYhTOUchHDZuUQ3DCuKYqfCU-PcXwi_OvWoky09DQKm0X0BAChxPiLJ18ONrgjIogNYPilz9kumNoroIyWs2nEbOgJ59QcQLchCZ0ReLWxjHrwJ0GLtLK0Vx2yMA9bUhtZ9LdFnUK9hGe0XXCaiapkGEJGZoFs5xsrg3JkNOLeW27X5eTqQxdunSHB8ft0u1O9c-6tik110igZk978zyYVIVb73B0aEbr__x0nYVK5cplgSTLesk_r-gSEg6eIjnYzFp3smUh0bvGny7SqaB6ucLwD0u3aOHEkuNCjw\"}'}\r\n2017-02-16 14:27:42,510:INFO:requests.packages.urllib3.connectionpool:Starting new HTTPS connection (1): acme-v01.api.letsencrypt.org\r\n2017-02-16 14:27:42,781:DEBUG:requests.packages.urllib3.connectionpool:\"POST /acme/new-authz HTTP/1.1\" 201 1008\r\n2017-02-16 14:27:42,783:DEBUG:root:Received <Response [201]>. Headers: {'Content-Length': '1008', 'Expires': 'Thu, 16 Feb 2017 14:27:42 GMT', 'Boulder-Request-Id': 'PZ5u25toD5jTMgu1HZ3yniqqsBA2M04vn-ggxdY8akg', 'Strict-Transport-Security': 'max-age=604800', 'Server': 'nginx', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Connection': 'keep-alive', 'Link': '<https://acme-v01.api.letsencrypt.org/acme/new-cert>;rel=\"next\"', 'Location': 'https://acme-v01.api.letsencrypt.org/acme/authz/RErkoeKFHeP7YRe1L3YGHt0wAkkzh4GKznM9se3Yhvk', 'Pragma': 'no-cache', 'Boulder-Requester': '9632581', 'Date': 'Thu, 16 Feb 2017 14:27:42 GMT', 'X-Frame-Options': 'DENY', 'Content-Type': 'application/json', 'Replay-Nonce': '5y09TOBId5Urfg6kpsiXTvXqk5a7fJlvHnA94wJYu10'}. Content: '{\\n  \"identifier\": {\\n    \"type\": \"dns\",\\n    \"value\": \"AAAAA.XXXXXXXXX.com\"\\n  },\\n  \"status\": \"pending\",\\n  \"expires\": \"2017-02-23T14:27:42.654364515Z\",\\n  \"challenges\": [\\n    {\\n      \"type\": \"tls-sni-01\",\\n      \"status\": \"pending\",\\n      \"uri\": \"https://acme-v01.api.letsencrypt.org/acme/challenge/RErkoeKFHeP7YRe1L3YGHt0wAkkzh4GKznM9se3Yhvk/659945764\",\\n      \"token\": \"f7ZRtTSMCmSRxHkiiH9Qe0c7ci5bxJXelhdpK6mjavM\"\\n    },\\n    {\\n      \"type\": \"http-01\",\\n      \"status\": \"pending\",\\n      \"uri\": \"https://acme-v01.api.letsencrypt.org/acme/challenge/RErkoeKFHeP7YRe1L3YGHt0wAkkzh4GKznM9se3Yhvk/659945765\",\\n      \"token\": \"aiwvMPwp_xyMkd7ngC1spcmpqDO56gulbqujEDRvjmI\"\\n    },\\n    {\\n      \"type\": \"dns-01\",\\n      \"status\": \"pending\",\\n      \"uri\": \"https://acme-v01.api.letsencrypt.org/acme/challenge/RErkoeKFHeP7YRe1L3YGHt0wAkkzh4GKznM9se3Yhvk/659945766\",\\n      \"token\": \"YGHV9VybwyZmQb-MNhDx7Yyga_suUYwDkrhxbMtDRBM\"\\n    }\\n  ],\\n  \"combinations\": [\\n    [\\n      0\\n    ],\\n    [\\n      1\\n    ],\\n    [\\n      2\\n    ]\\n  ]\\n}'\r\n2017-02-16 14:27:42,784:DEBUG:acme.client:Storing nonce: '\\xe7-=L\\xe0Hw\\x95+~\\x0e\\xa4\\xa6\\xc8\\x97N\\xf5\\xea\\x93\\x96\\xbb|\\x99o\\x1ep=\\xe3\\x02X\\xbb]'\r\n2017-02-16 14:27:42,785:DEBUG:acme.client:Received response <Response [201]> (headers: {'Content-Length': '1008', 'Expires': 'Thu, 16 Feb 2017 14:27:42 GMT', 'Boulder-Request-Id': 'PZ5u25toD5jTMgu1HZ3yniqqsBA2M04vn-ggxdY8akg', 'Strict-Transport-Security': 'max-age=604800', 'Server': 'nginx', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Connection': 'keep-alive', 'Link': '<https://acme-v01.api.letsencrypt.org/acme/new-cert>;rel=\"next\"', 'Location': 'https://acme-v01.api.letsencrypt.org/acme/authz/RErkoeKFHeP7YRe1L3YGHt0wAkkzh4GKznM9se3Yhvk', 'Pragma': 'no-cache', 'Boulder-Requester': '9632581', 'Date': 'Thu, 16 Feb 2017 14:27:42 GMT', 'X-Frame-Options': 'DENY', 'Content-Type': 'application/json', 'Replay-Nonce': '5y09TOBId5Urfg6kpsiXTvXqk5a7fJlvHnA94wJYu10'}): '{\\n  \"identifier\": {\\n    \"type\": \"dns\",\\n    \"value\": \"AAAAA.XXXXXXXXX.com\"\\n  },\\n  \"status\": \"pending\",\\n  \"expires\": \"2017-02-23T14:27:42.654364515Z\",\\n  \"challenges\": [\\n    {\\n      \"type\": \"tls-sni-01\",\\n      \"status\": \"pending\",\\n      \"uri\": \"https://acme-v01.api.letsencrypt.org/acme/challenge/RErkoeKFHeP7YRe1L3YGHt0wAkkzh4GKznM9se3Yhvk/659945764\",\\n      \"token\": \"f7ZRtTSMCmSRxHkiiH9Qe0c7ci5bxJXelhdpK6mjavM\"\\n    },\\n    {\\n      \"type\": \"http-01\",\\n      \"status\": \"pending\",\\n      \"uri\": \"https://acme-v01.api.letsencrypt.org/acme/challenge/RErkoeKFHeP7YRe1L3YGHt0wAkkzh4GKznM9se3Yhvk/659945765\",\\n      \"token\": \"aiwvMPwp_xyMkd7ngC1spcmpqDO56gulbqujEDRvjmI\"\\n    },\\n    {\\n      \"type\": \"dns-01\",\\n      \"status\": \"pending\",\\n      \"uri\": \"https://acme-v01.api.letsencrypt.org/acme/challenge/RErkoeKFHeP7YRe1L3YGHt0wAkkzh4GKznM9se3Yhvk/659945766\",\\n      \"token\": \"YGHV9VybwyZmQb-MNhDx7Yyga_suUYwDkrhxbMtDRBM\"\\n    }\\n  ],\\n  \"combinations\": [\\n    [\\n      0\\n    ],\\n    [\\n      1\\n    ],\\n    [\\n      2\\n    ]\\n  ]\\n}'\r\n2017-02-16 14:27:42,786:DEBUG:acme.challenges:dns-01 was not recognized, full message: {u'status': u'pending', u'token': u'YGHV9VybwyZmQb-MNhDx7Yyga_suUYwDkrhxbMtDRBM', u'type': u'dns-01', u'uri': u'https://acme-v01.api.letsencrypt.org/acme/challenge/RErkoeKFHeP7YRe1L3YGHt0wAkkzh4GKznM9se3Yhvk/659945766'}\r\n2017-02-16 14:27:42,786:INFO:letsencrypt.auth_handler:Performing the following challenges:\r\n2017-02-16 14:27:42,786:INFO:letsencrypt.auth_handler:http-01 challenge for XXXXXXXXX.com\r\n2017-02-16 14:27:42,786:INFO:letsencrypt.auth_handler:http-01 challenge for www.XXXXXXXXX.com\r\n2017-02-16 14:27:42,787:INFO:letsencrypt.auth_handler:http-01 challenge for XXXXXXXXX.org\r\n2017-02-16 14:27:42,787:INFO:letsencrypt.auth_handler:http-01 challenge for www.XXXXXXXXX.org\r\n2017-02-16 14:27:42,787:INFO:letsencrypt.auth_handler:http-01 challenge for XXXXXXXXX.de\r\n2017-02-16 14:27:42,787:INFO:letsencrypt.auth_handler:http-01 challenge for www.XXXXXXXXX.de\r\n2017-02-16 14:27:42,787:INFO:letsencrypt.auth_handler:http-01 challenge for BBBB.XXXXXXXXX.com\r\n2017-02-16 14:27:42,787:INFO:letsencrypt.auth_handler:http-01 challenge for ZZZZZZZZ.com\r\n2017-02-16 14:27:42,788:INFO:letsencrypt.auth_handler:http-01 challenge for www.ZZZZZZZZ.com\r\n2017-02-16 14:27:42,788:INFO:letsencrypt.auth_handler:http-01 challenge for ZZZZZZZZ.com\r\n2017-02-16 14:27:42,788:INFO:letsencrypt.auth_handler:http-01 challenge for www.ZZZZZZZZ.com\r\n2017-02-16 14:27:42,788:INFO:letsencrypt.auth_handler:http-01 challenge for CCCCCC.XXXXXXXXX.com\r\n2017-02-16 14:27:42,788:INFO:letsencrypt.auth_handler:http-01 challenge for YYYYYYYYY\r\n2017-02-16 14:27:42,788:INFO:letsencrypt.auth_handler:http-01 challenge for www.YYYYYYYYY\r\n2017-02-16 14:27:42,789:INFO:letsencrypt.auth_handler:http-01 challenge for beta.YYYYYYYYY\r\n2017-02-16 14:27:42,789:INFO:letsencrypt.auth_handler:http-01 challenge for AAAAA.XXXXXXXXX.com\r\n2017-02-16 14:30:15,107:DEBUG:acme.challenges:Verifying http-01 at http://XXXXXXXXX.com/.well-known/acme-challenge/nK3QkxA5mk9sm9tfZk6_DyStvdRg97VDFVwZDen-5TY...\r\n2017-02-16 14:30:15,111:INFO:requests.packages.urllib3.connectionpool:Starting new HTTP connection (1): XXXXXXXXX.com\r\n2017-02-16 14:30:15,162:DEBUG:requests.packages.urllib3.connectionpool:\"GET /.well-known/acme-challenge/nK3QkxA5mk9sm9tfZk6_DyStvdRg97VDFVwZDen-5TY HTTP/1.1\" 200 87\r\n2017-02-16 14:30:15,202:DEBUG:acme.challenges:Received <Response [200]>: nK3QkxA5mk9sm9tfZk6_DyStvdRg97VDFVwZDen-5TY.UssqdWbIeqhBSdPc-6Kr0IIorBeaBfis8n8tQDMEqA0. Headers: {'Content-Length': '87', 'Accept-Ranges': 'bytes', 'Server': 'Apache', 'Last-Modified': 'Thu, 16 Feb 2017 14:28:00 GMT', 'Connection': 'keep-alive', 'ETag': '\"57-548a69aaa67db\"', 'Date': 'Thu, 16 Feb 2017 14:30:15 GMT'}\r\n2017-02-16 14:30:46,319:DEBUG:acme.challenges:Verifying http-01 at http://www.XXXXXXXXX.com/.well-known/acme-challenge/w2tRDwMk7a4VsBJT47kwnmn9PP2jmrTOv4ml-9AgFx0...\r\n2017-02-16 14:30:46,323:INFO:requests.packages.urllib3.connectionpool:Starting new HTTP connection (1): www.XXXXXXXXX.com\r\n2017-02-16 14:30:46,376:DEBUG:requests.packages.urllib3.connectionpool:\"GET /.well-known/acme-challenge/w2tRDwMk7a4VsBJT47kwnmn9PP2jmrTOv4ml-9AgFx0 HTTP/1.1\" 200 87\r\n2017-02-16 14:30:46,377:DEBUG:acme.challenges:Received <Response [200]>: w2tRDwMk7a4VsBJT47kwnmn9PP2jmrTOv4ml-9AgFx0.UssqdWbIeqhBSdPc-6Kr0IIorBeaBfis8n8tQDMEqA0. Headers: {'Content-Length': '87', 'Accept-Ranges': 'bytes', 'Server': 'Apache', 'Last-Modified': 'Thu, 16 Feb 2017 14:30:29 GMT', 'Connection': 'keep-alive', 'ETag': '\"57-548a6a395bb72\"', 'Date': 'Thu, 16 Feb 2017 14:30:46 GMT'}\r\n2017-02-16 14:33:25,765:DEBUG:acme.challenges:Verifying http-01 at http://XXXXXXXXX.org/.well-known/acme-challenge/SPzdUMxTQyQlyEPxu7kvlEHE39dVhFwdrnbQDs4v0Gg...\r\n2017-02-16 14:33:25,771:INFO:requests.packages.urllib3.connectionpool:Starting new HTTP connection (1): XXXXXXXXX.org\r\n2017-02-16 14:33:25,820:DEBUG:requests.packages.urllib3.connectionpool:\"GET /.well-known/acme-challenge/SPzdUMxTQyQlyEPxu7kvlEHE39dVhFwdrnbQDs4v0Gg HTTP/1.1\" 200 87\r\n2017-02-16 14:33:25,821:DEBUG:acme.challenges:Received <Response [200]>: SPzdUMxTQyQlyEPxu7kvlEHE39dVhFwdrnbQDs4v0Gg.UssqdWbIeqhBSdPc-6Kr0IIorBeaBfis8n8tQDMEqA0. Headers: {'Content-Length': '87', 'Accept-Ranges': 'bytes', 'Server': 'Apache', 'Last-Modified': 'Thu, 16 Feb 2017 14:33:13 GMT', 'Connection': 'keep-alive', 'ETag': '\"57-548a6ad588352\"', 'Date': 'Thu, 16 Feb 2017 14:33:25 GMT'}\r\n2017-02-16 14:37:26,106:DEBUG:acme.challenges:Verifying http-01 at http://www.XXXXXXXXX.org/.well-known/acme-challenge/fkc-xkcoaNi9cnrd8TLmqoesgH5q4Zccr53iWL51mR0...\r\n2017-02-16 14:37:26,110:INFO:requests.packages.urllib3.connectionpool:Starting new HTTP connection (1): www.XXXXXXXXX.org\r\n2017-02-16 14:37:26,160:DEBUG:requests.packages.urllib3.connectionpool:\"GET /.well-known/acme-challenge/fkc-xkcoaNi9cnrd8TLmqoesgH5q4Zccr53iWL51mR0 HTTP/1.1\" 200 87\r\n2017-02-16 14:37:26,162:DEBUG:acme.challenges:Received <Response [200]>: fkc-xkcoaNi9cnrd8TLmqoesgH5q4Zccr53iWL51mR0.UssqdWbIeqhBSdPc-6Kr0IIorBeaBfis8n8tQDMEqA0. Headers: {'Content-Length': '87', 'Accept-Ranges': 'bytes', 'Server': 'Apache', 'Last-Modified': 'Thu, 16 Feb 2017 14:33:45 GMT', 'Connection': 'keep-alive', 'ETag': '\"57-548a6af431555\"', 'Date': 'Thu, 16 Feb 2017 14:37:26 GMT'}\r\n2017-02-16 14:37:45,333:DEBUG:acme.challenges:Verifying http-01 at http://XXXXXXXXX.de/.well-known/acme-challenge/jRklJJvZp6qGmUCusQ28Md-zzAgNzUsCClAzrUlV1-c...\r\n2017-02-16 14:37:45,337:INFO:requests.packages.urllib3.connectionpool:Starting new HTTP connection (1): XXXXXXXXX.de\r\n2017-02-16 14:37:45,389:DEBUG:requests.packages.urllib3.connectionpool:\"GET /.well-known/acme-challenge/jRklJJvZp6qGmUCusQ28Md-zzAgNzUsCClAzrUlV1-c HTTP/1.1\" 200 87\r\n2017-02-16 14:37:45,390:DEBUG:acme.challenges:Received <Response [200]>: jRklJJvZp6qGmUCusQ28Md-zzAgNzUsCClAzrUlV1-c.UssqdWbIeqhBSdPc-6Kr0IIorBeaBfis8n8tQDMEqA0. Headers: {'Content-Length': '87', 'Accept-Ranges': 'bytes', 'Server': 'Apache', 'Last-Modified': 'Thu, 16 Feb 2017 14:37:36 GMT', 'Connection': 'keep-alive', 'ETag': '\"57-548a6bd040d0c\"', 'Date': 'Thu, 16 Feb 2017 14:37:45 GMT'}\r\n2017-02-16 14:38:04,512:DEBUG:acme.challenges:Verifying http-01 at http://www.XXXXXXXXX.de/.well-known/acme-challenge/5SQzLPsSRMK03BLHjOEXMn959T1ViZqYwsYAf3UBe7s...\r\n2017-02-16 14:38:04,515:INFO:requests.packages.urllib3.connectionpool:Starting new HTTP connection (1): www.XXXXXXXXX.de\r\n2017-02-16 14:38:04,563:DEBUG:requests.packages.urllib3.connectionpool:\"GET /.well-known/acme-challenge/5SQzLPsSRMK03BLHjOEXMn959T1ViZqYwsYAf3UBe7s HTTP/1.1\" 200 87\r\n2017-02-16 14:38:04,564:DEBUG:acme.challenges:Received <Response [200]>: 5SQzLPsSRMK03BLHjOEXMn959T1ViZqYwsYAf3UBe7s.UssqdWbIeqhBSdPc-6Kr0IIorBeaBfis8n8tQDMEqA0. Headers: {'Content-Length': '87', 'Accept-Ranges': 'bytes', 'Server': 'Apache', 'Last-Modified': 'Thu, 16 Feb 2017 14:37:57 GMT', 'Connection': 'keep-alive', 'ETag': '\"57-548a6be3e88e8\"', 'Date': 'Thu, 16 Feb 2017 14:38:04 GMT'}\r\n2017-02-16 14:42:27,440:DEBUG:acme.challenges:Verifying http-01 at http://BBBB.XXXXXXXXX.com/.well-known/acme-challenge/AmflrJGHNeUtYhwP3WqnKAFYwPRnpMKm3bni4ZkfTs4...\r\n2017-02-16 14:42:27,444:INFO:requests.packages.urllib3.connectionpool:Starting new HTTP connection (1): BBBB.XXXXXXXXX.com\r\n2017-02-16 14:42:27,506:DEBUG:requests.packages.urllib3.connectionpool:\"GET /.well-known/acme-challenge/AmflrJGHNeUtYhwP3WqnKAFYwPRnpMKm3bni4ZkfTs4 HTTP/1.1\" 200 87\r\n2017-02-16 14:42:27,508:DEBUG:acme.challenges:Received <Response [200]>: AmflrJGHNeUtYhwP3WqnKAFYwPRnpMKm3bni4ZkfTs4.UssqdWbIeqhBSdPc-6Kr0IIorBeaBfis8n8tQDMEqA0. Headers: {'Content-Length': '87', 'Accept-Ranges': 'bytes', 'Server': 'Apache', 'Last-Modified': 'Thu, 16 Feb 2017 14:42:20 GMT', 'Connection': 'keep-alive', 'ETag': '\"57-548a6cdf7ce43\"', 'Date': 'Thu, 16 Feb 2017 14:42:27 GMT'}\r\n2017-02-16 14:43:03,355:DEBUG:acme.challenges:Verifying http-01 at http://ZZZZZZZZ.com/.well-known/acme-challenge/lR0oOylvfS4NLai6SBlwASQ2loVwamN9MwnwJjvgjpM...\r\n2017-02-16 14:43:03,358:INFO:requests.packages.urllib3.connectionpool:Starting new HTTP connection (1): ZZZZZZZZ.com\r\n2017-02-16 14:43:03,407:DEBUG:requests.packages.urllib3.connectionpool:\"GET /.well-known/acme-challenge/lR0oOylvfS4NLai6SBlwASQ2loVwamN9MwnwJjvgjpM HTTP/1.1\" 200 87\r\n2017-02-16 14:43:03,408:DEBUG:acme.challenges:Received <Response [200]>: lR0oOylvfS4NLai6SBlwASQ2loVwamN9MwnwJjvgjpM.UssqdWbIeqhBSdPc-6Kr0IIorBeaBfis8n8tQDMEqA0. Headers: {'Content-Length': '87', 'Accept-Ranges': 'bytes', 'Server': 'Apache', 'Last-Modified': 'Thu, 16 Feb 2017 14:42:41 GMT', 'Connection': 'keep-alive', 'ETag': '\"57-548a6cf33d0bf\"', 'Date': 'Thu, 16 Feb 2017 14:43:03 GMT'}\r\n2017-02-16 14:44:00,823:DEBUG:acme.challenges:Verifying http-01 at http://www.ZZZZZZZZ.com/.well-known/acme-challenge/jD9hj9nmnJmMXl-3PuRCIoNDKQxPvvaU2YqROVY0EcA...\r\n2017-02-16 14:44:00,828:INFO:requests.packages.urllib3.connectionpool:Starting new HTTP connection (1): www.ZZZZZZZZ.com\r\n2017-02-16 14:44:00,876:DEBUG:requests.packages.urllib3.connectionpool:\"GET /.well-known/acme-challenge/jD9hj9nmnJmMXl-3PuRCIoNDKQxPvvaU2YqROVY0EcA HTTP/1.1\" 200 87\r\n2017-02-16 14:44:00,878:DEBUG:acme.challenges:Received <Response [200]>: jD9hj9nmnJmMXl-3PuRCIoNDKQxPvvaU2YqROVY0EcA.UssqdWbIeqhBSdPc-6Kr0IIorBeaBfis8n8tQDMEqA0. Headers: {'Content-Length': '87', 'Accept-Ranges': 'bytes', 'Server': 'Apache', 'Last-Modified': 'Thu, 16 Feb 2017 14:43:18 GMT', 'Connection': 'keep-alive', 'ETag': '\"57-548a6d1638215\"', 'Date': 'Thu, 16 Feb 2017 14:44:00 GMT'}\r\n2017-02-16 14:44:23,953:DEBUG:acme.challenges:Verifying http-01 at http://ZZZZZZZZ.com/.well-known/acme-challenge/_YDxnmk30qTiyWGmyTdp1BqNIvzozWCyQ0ZYnp8oW7s...\r\n2017-02-16 14:44:23,957:INFO:requests.packages.urllib3.connectionpool:Starting new HTTP connection (1): ZZZZZZZZ.com\r\n2017-02-16 14:44:24,005:DEBUG:requests.packages.urllib3.connectionpool:\"GET /.well-known/acme-challenge/_YDxnmk30qTiyWGmyTdp1BqNIvzozWCyQ0ZYnp8oW7s HTTP/1.1\" 200 87\r\n2017-02-16 14:44:24,008:DEBUG:acme.challenges:Received <Response [200]>: _YDxnmk30qTiyWGmyTdp1BqNIvzozWCyQ0ZYnp8oW7s.UssqdWbIeqhBSdPc-6Kr0IIorBeaBfis8n8tQDMEqA0. Headers: {'Content-Length': '87', 'Accept-Ranges': 'bytes', 'Server': 'Apache', 'Last-Modified': 'Thu, 16 Feb 2017 14:44:18 GMT', 'Connection': 'keep-alive', 'ETag': '\"57-548a6d4f3d4e8\"', 'Date': 'Thu, 16 Feb 2017 14:44:23 GMT'}\r\n2017-02-16 14:45:11,376:DEBUG:acme.challenges:Verifying http-01 at http://www.ZZZZZZZZ.com/.well-known/acme-challenge/EPtYC_CyauzUjXhs8KersP-1rsnN-4Arnxsuhkg9Y1k...\r\n2017-02-16 14:45:11,380:INFO:requests.packages.urllib3.connectionpool:Starting new HTTP connection (1): www.ZZZZZZZZ.com\r\n2017-02-16 14:45:11,444:DEBUG:requests.packages.urllib3.connectionpool:\"GET /.well-known/acme-challenge/EPtYC_CyauzUjXhs8KersP-1rsnN-4Arnxsuhkg9Y1k HTTP/1.1\" 200 87\r\n2017-02-16 14:45:11,445:DEBUG:acme.challenges:Received <Response [200]>: EPtYC_CyauzUjXhs8KersP-1rsnN-4Arnxsuhkg9Y1k.UssqdWbIeqhBSdPc-6Kr0IIorBeaBfis8n8tQDMEqA0. Headers: {'Content-Length': '87', 'Accept-Ranges': 'bytes', 'Server': 'Apache', 'Last-Modified': 'Thu, 16 Feb 2017 14:44:54 GMT', 'Connection': 'keep-alive', 'ETag': '\"57-548a6d71862ad\"', 'Date': 'Thu, 16 Feb 2017 14:45:11 GMT'}\r\n2017-02-16 14:49:12,432:DEBUG:acme.challenges:Verifying http-01 at http://CCCCCC.XXXXXXXXX.com/.well-known/acme-challenge/TgzlHj9BNpP8ob9hbhgk7v3k9B7LvacggctWjG3Yj60...\r\n2017-02-16 14:49:12,435:INFO:requests.packages.urllib3.connectionpool:Starting new HTTP connection (1): CCCCCC.XXXXXXXXX.com\r\n2017-02-16 14:49:12,495:DEBUG:requests.packages.urllib3.connectionpool:\"GET /.well-known/acme-challenge/TgzlHj9BNpP8ob9hbhgk7v3k9B7LvacggctWjG3Yj60 HTTP/1.1\" 200 87\r\n2017-02-16 14:49:12,496:DEBUG:acme.challenges:Received <Response [200]>: TgzlHj9BNpP8ob9hbhgk7v3k9B7LvacggctWjG3Yj60.UssqdWbIeqhBSdPc-6Kr0IIorBeaBfis8n8tQDMEqA0. Headers: {'Content-Length': '87', 'Accept-Ranges': 'bytes', 'Server': 'Apache', 'Last-Modified': 'Thu, 16 Feb 2017 14:45:27 GMT', 'Connection': 'keep-alive', 'ETag': '\"57-548a6d91c2201\"', 'Date': 'Thu, 16 Feb 2017 14:49:12 GMT'}\r\n2017-02-16 14:51:27,206:DEBUG:acme.challenges:Verifying http-01 at http://YYYYYYYYY/.well-known/acme-challenge/vb58J-JDbFk-ZdGpjUII-fnV6BE6xLPfBn4QhM8GOyQ...\r\n2017-02-16 14:51:27,210:INFO:requests.packages.urllib3.connectionpool:Starting new HTTP connection (1): YYYYYYYYY\r\n2017-02-16 14:51:27,263:DEBUG:requests.packages.urllib3.connectionpool:\"GET /.well-known/acme-challenge/vb58J-JDbFk-ZdGpjUII-fnV6BE6xLPfBn4QhM8GOyQ HTTP/1.1\" 200 87\r\n2017-02-16 14:51:27,264:DEBUG:acme.challenges:Received <Response [200]>: vb58J-JDbFk-ZdGpjUII-fnV6BE6xLPfBn4QhM8GOyQ.UssqdWbIeqhBSdPc-6Kr0IIorBeaBfis8n8tQDMEqA0. Headers: {'Content-Length': '87', 'Accept-Ranges': 'bytes', 'Server': 'Apache', 'Last-Modified': 'Thu, 16 Feb 2017 14:51:22 GMT', 'Connection': 'keep-alive', 'ETag': '\"57-548a6ee38cc9e\"', 'Date': 'Thu, 16 Feb 2017 14:51:27 GMT'}\r\n2017-02-16 14:52:06,220:DEBUG:acme.challenges:Verifying http-01 at http://www.YYYYYYYYY/.well-known/acme-challenge/SXnSoYxL4NJYLjHsZOBth0zokhNpJ3z8GVy49_IPTTM...\r\n2017-02-16 14:52:06,224:INFO:requests.packages.urllib3.connectionpool:Starting new HTTP connection (1): www.YYYYYYYYY\r\n2017-02-16 14:52:06,287:DEBUG:requests.packages.urllib3.connectionpool:\"GET /.well-known/acme-challenge/SXnSoYxL4NJYLjHsZOBth0zokhNpJ3z8GVy49_IPTTM HTTP/1.1\" 200 87\r\n2017-02-16 14:52:06,289:DEBUG:acme.challenges:Received <Response [200]>: SXnSoYxL4NJYLjHsZOBth0zokhNpJ3z8GVy49_IPTTM.UssqdWbIeqhBSdPc-6Kr0IIorBeaBfis8n8tQDMEqA0. Headers: {'Content-Length': '87', 'Accept-Ranges': 'bytes', 'Server': 'Apache', 'Last-Modified': 'Thu, 16 Feb 2017 14:51:55 GMT', 'Connection': 'keep-alive', 'ETag': '\"57-548a6f03a9024\"', 'Date': 'Thu, 16 Feb 2017 14:52:06 GMT'}\r\n2017-02-16 14:54:00,746:DEBUG:acme.challenges:Verifying http-01 at http://beta.YYYYYYYYY/.well-known/acme-challenge/bTkleGkwCU8ke1UInErxanqDDKxUrXspwbV_o4nWd_s...\r\n2017-02-16 14:54:00,750:INFO:requests.packages.urllib3.connectionpool:Starting new HTTP connection (1): beta.YYYYYYYYY\r\n2017-02-16 14:54:00,811:DEBUG:requests.packages.urllib3.connectionpool:\"GET /.well-known/acme-challenge/bTkleGkwCU8ke1UInErxanqDDKxUrXspwbV_o4nWd_s HTTP/1.1\" 200 87\r\n2017-02-16 14:54:00,813:DEBUG:acme.challenges:Received <Response [200]>: bTkleGkwCU8ke1UInErxanqDDKxUrXspwbV_o4nWd_s.UssqdWbIeqhBSdPc-6Kr0IIorBeaBfis8n8tQDMEqA0. Headers: {'Content-Length': '87', 'Accept-Ranges': 'bytes', 'Server': 'Apache', 'Last-Modified': 'Thu, 16 Feb 2017 14:53:49 GMT', 'Connection': 'keep-alive', 'ETag': '\"57-548a6f708a8fb\"', 'Date': 'Thu, 16 Feb 2017 14:54:00 GMT'}\r\n2017-02-16 14:55:18,598:DEBUG:acme.challenges:Verifying http-01 at http://AAAAA.XXXXXXXXX.com/.well-known/acme-challenge/aiwvMPwp_xyMkd7ngC1spcmpqDO56gulbqujEDRvjmI...\r\n2017-02-16 14:55:18,603:INFO:requests.packages.urllib3.connectionpool:Starting new HTTP connection (1): AAAAA.XXXXXXXXX.com\r\n2017-02-16 14:55:18,663:DEBUG:requests.packages.urllib3.connectionpool:\"GET /.well-known/acme-challenge/aiwvMPwp_xyMkd7ngC1spcmpqDO56gulbqujEDRvjmI HTTP/1.1\" 200 87\r\n2017-02-16 14:55:18,665:DEBUG:acme.challenges:Received <Response [200]>: aiwvMPwp_xyMkd7ngC1spcmpqDO56gulbqujEDRvjmI.UssqdWbIeqhBSdPc-6Kr0IIorBeaBfis8n8tQDMEqA0. Headers: {'Content-Length': '87', 'Accept-Ranges': 'bytes', 'Server': 'Apache', 'Last-Modified': 'Thu, 16 Feb 2017 14:55:05 GMT', 'Connection': 'keep-alive', 'ETag': '\"57-548a6fb84e27b\"', 'Date': 'Thu, 16 Feb 2017 14:55:18 GMT'}\r\n2017-02-16 14:55:18,666:INFO:letsencrypt.auth_handler:Waiting for verification...\r\n2017-02-16 14:55:18,666:DEBUG:acme.client:Serialized JSON: {\"keyAuthorization\": \"nK3QkxA5mk9sm9tfZk6_DyStvdRg97VDFVwZDen-5TY.UssqdWbIeqhBSdPc-6Kr0IIorBeaBfis8n8tQDMEqA0\", \"type\": \"http-01\", \"resource\": \"challenge\"}\r\n2017-02-16 14:55:18,669:DEBUG:acme.jose.json_util:Omitted empty fields: x5c=(), x5tS256=None, cty=None, jku=None, x5u=None, x5t=None, crit=(), kid=None, alg=None, jwk=None, typ=None\r\n2017-02-16 14:55:18,674:DEBUG:acme.jose.json_util:Omitted empty fields: jku=None, x5tS256=None, cty=None, x5c=(), x5u=None, x5t=None, crit=(), nonce=None, kid=None, typ=None\r\n2017-02-16 14:55:18,675:DEBUG:root:Sending POST request to https://acme-v01.api.letsencrypt.org/acme/challenge/35gmwEC8WXR7kDjIyuyff1pDhgNeY8D9hLQegjRAj4s/659945513. args: (), kwargs: {'data': '{\"header\": {\"alg\": \"RS256\", \"jwk\": {\"e\": \"AQAB\", \"kty\": \"RSA\", \"n\": \"pv0kqK_iaq3pJ3HkIwlrq58U_wow4BCoWxj_I2UqBc_z_kV_ZF5Dmfz4qQnJpCpl8DBu9IK5m5wbXWWbYLPqo6gZkDFs-74wp3mXK-viBvsu0vW1oKPUqBRVv13u-lJwbuYN8BsTZhMpcRnP2AqI5VyiUZPc8Bfb-2UkHNlaSWhgCZLI-PhhKKsoBIAfNzaRppur_NRmhC2xVhK-45MRIVevJMo2yNJ8OKWbgMOTXTWBkl3bLpmlkyNX3COcox10oQDJrLo8MOxdRfxXnBnu69dbb3FWaI0FMRim1inBzYMa-bnfERn9EFUd8edqmfGZZopOYm_oE9WPuxKQJSoduw\"}}, \"protected\": \"eyJub25jZSI6ICI1eTA5VE9CSWQ1VXJmZzZrcHNpWFR2WHFrNWE3ZkpsdkhuQTk0d0pZdTEwIn0\", \"payload\": \"eyJrZXlBdXRob3JpemF0aW9uIjogIm5LM1FreEE1bWs5c205dGZaazZfRHlTdHZkUmc5N1ZERlZ3WkRlbi01VFkuVXNzcWRXYkllcWhCU2RQYy02S3IwSUlvckJlYUJmaXM4bjh0UURNRXFBMCIsICJ0eXBlIjogImh0dHAtMDEiLCAicmVzb3VyY2UiOiAiY2hhbGxlbmdlIn0\", \"signature\": \"ZhQKxzQZxgs7XSw7d0sx2ovSRHGm8sRTs94ocRvxTZGQClsH6XBnyE3th-U8SILaFWa8EkosFwvHrABm6ZGxR0JQ3tl00gCvrLtpZQdqeIU4laec_sCNEo0E_AguOVhpXY11KSEnl9K2i_9jRfS-c6EFpsUAr3QwPcLNwJx4rxJonWaPquyCiv4rakb_mHoWWUKKhlfCWx6m3ResLnP_-H45iHImmClvrpGqDDukCHPs8SrFmHnG4PAx0Z1UJJuzqRtimdCnQcklpnyjii4HvzUFQgwmQpKV561KmWSn5R4aS_dodDvEp9Of7iHOEn5UOxnCCJIWbydS3VJGSV-Tqw\"}'}\r\n2017-02-16 14:55:18,677:INFO:requests.packages.urllib3.connectionpool:Starting new HTTPS connection (1): acme-v01.api.letsencrypt.org\r\n2017-02-16 14:55:18,923:DEBUG:requests.packages.urllib3.connectionpool:\"POST /acme/challenge/35gmwEC8WXR7kDjIyuyff1pDhgNeY8D9hLQegjRAj4s/659945513 HTTP/1.1\" 400 149\r\n2017-02-16 14:55:18,928:DEBUG:root:Received <Response [400]>. Headers: {'Content-Length': '149', 'Boulder-Request-Id': 'BZPyGm39eSslPPBeXXgyCcRhKM2lQTlQuVhmXPRb1uI', 'Expires': 'Thu, 16 Feb 2017 14:55:18 GMT', 'Server': 'nginx', 'Connection': 'close', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Pragma': 'no-cache', 'Boulder-Requester': '9632581', 'Date': 'Thu, 16 Feb 2017 14:55:18 GMT', 'Content-Type': 'application/problem+json', 'Replay-Nonce': 'dhc6WkrsDHCFlUr7GT_pynZ2q4O1jupj5yum6WnDA8Q'}. Content: '{\\n  \"type\": \"urn:acme:error:badNonce\",\\n  \"detail\": \"JWS has invalid anti-replay nonce 5y09TOBId5Urfg6kpsiXTvXqk5a7fJlvHnA94wJYu10\",\\n  \"status\": 400\\n}'\r\n2017-02-16 14:55:18,930:DEBUG:acme.client:Storing nonce: 'v\\x17:ZJ\\xec\\x0cp\\x85\\x95J\\xfb\\x19?\\xe9\\xcavv\\xab\\x83\\xb5\\x8e\\xeac\\xe7+\\xa6\\xe9i\\xc3\\x03\\xc4'\r\n2017-02-16 14:55:18,930:DEBUG:acme.client:Received response <Response [400]> (headers: {'Content-Length': '149', 'Boulder-Request-Id': 'BZPyGm39eSslPPBeXXgyCcRhKM2lQTlQuVhmXPRb1uI', 'Expires': 'Thu, 16 Feb 2017 14:55:18 GMT', 'Server': 'nginx', 'Connection': 'close', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Pragma': 'no-cache', 'Boulder-Requester': '9632581', 'Date': 'Thu, 16 Feb 2017 14:55:18 GMT', 'Content-Type': 'application/problem+json', 'Replay-Nonce': 'dhc6WkrsDHCFlUr7GT_pynZ2q4O1jupj5yum6WnDA8Q'}): '{\\n  \"type\": \"urn:acme:error:badNonce\",\\n  \"detail\": \"JWS has invalid anti-replay nonce 5y09TOBId5Urfg6kpsiXTvXqk5a7fJlvHnA94wJYu10\",\\n  \"status\": 400\\n}'\r\n2017-02-16 14:55:18,938:DEBUG:letsencrypt.cli:Exiting abnormally:\r\nTraceback (most recent call last):\r\n  File \"/usr/bin/letsencrypt\", line 9, in <module>\r\n    load_entry_point('letsencrypt==0.4.1', 'console_scripts', 'letsencrypt')()\r\n  File \"/usr/lib/python2.7/dist-packages/letsencrypt/cli.py\", line 1986, in main\r\n    return config.func(config, plugins)\r\n  File \"/usr/lib/python2.7/dist-packages/letsencrypt/cli.py\", line 706, in obtain_cert\r\n    _, action = _auth_from_domains(le_client, config, domains, lineage)\r\n  File \"/usr/lib/python2.7/dist-packages/letsencrypt/cli.py\", line 474, in _auth_from_domains\r\n    lineage = le_client.obtain_and_enroll_certificate(domains)\r\n  File \"/usr/lib/python2.7/dist-packages/letsencrypt/client.py\", line 269, in obtain_and_enroll_certificate\r\n    certr, chain, key, _ = self.obtain_certificate(domains)\r\n  File \"/usr/lib/python2.7/dist-packages/letsencrypt/client.py\", line 252, in obtain_certificate\r\n    return self.obtain_certificate_from_csr(domains, csr) + (key, csr)\r\n  File \"/usr/lib/python2.7/dist-packages/letsencrypt/client.py\", line 225, in obtain_certificate_from_csr\r\n    authzr = self.auth_handler.get_authorizations(domains)\r\n  File \"/usr/lib/python2.7/dist-packages/letsencrypt/auth_handler.py\", line 84, in get_authorizations\r\n    self._respond(cont_resp, dv_resp, best_effort)\r\n  File \"/usr/lib/python2.7/dist-packages/letsencrypt/auth_handler.py\", line 136, in _respond\r\n    self._send_responses(self.dv_c, dv_resp, chall_update))\r\n  File \"/usr/lib/python2.7/dist-packages/letsencrypt/auth_handler.py\", line 162, in _send_responses\r\n    self.acme.answer_challenge(achall.challb, resp)\r\n  File \"/usr/lib/python2.7/dist-packages/acme/client.py\", line 234, in answer_challenge\r\n    response = self.net.post(challb.uri, response)\r\n  File \"/usr/lib/python2.7/dist-packages/acme/client.py\", line 652, in post\r\n    return self._check_response(response, content_type=content_type)\r\n  File \"/usr/lib/python2.7/dist-packages/acme/client.py\", line 568, in _check_response\r\n    raise messages.Error.from_json(jobj)\r\nError: urn:acme:error:badNonce :: The client sent an unacceptable anti-replay nonce :: JWS has invalid anti-replay nonce 5y09TOBId5Urfg6kpsiXTvXqk5a7fJlvHnA94wJYu10\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/4228/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/4228/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/4225", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/4225/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/4225/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/4225/events", "html_url": "https://github.com/certbot/certbot/issues/4225", "id": 207848056, "node_id": "MDU6SXNzdWUyMDc4NDgwNTY=", "number": 4225, "title": "Nginx config parser cannot work with unix domain sock host", "user": {"login": "hinaloe", "id": 5253290, "node_id": "MDQ6VXNlcjUyNTMyOTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5253290?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hinaloe", "html_url": "https://github.com/hinaloe", "followers_url": "https://api.github.com/users/hinaloe/followers", "following_url": "https://api.github.com/users/hinaloe/following{/other_user}", "gists_url": "https://api.github.com/users/hinaloe/gists{/gist_id}", "starred_url": "https://api.github.com/users/hinaloe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hinaloe/subscriptions", "organizations_url": "https://api.github.com/users/hinaloe/orgs", "repos_url": "https://api.github.com/users/hinaloe/repos", "events_url": "https://api.github.com/users/hinaloe/events{/privacy}", "received_events_url": "https://api.github.com/users/hinaloe/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 258836706, "node_id": "MDU6TGFiZWwyNTg4MzY3MDY=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20nginx", "name": "area: nginx", "color": "c5def5", "default": false, "description": null}, {"id": 276680181, "node_id": "MDU6TGFiZWwyNzY2ODAxODE=", "url": "https://api.github.com/repos/certbot/certbot/labels/more-info", "name": "more-info", "color": "006b75", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-02-15T16:06:58Z", "updated_at": "2017-02-27T21:35:29Z", "closed_at": "2017-02-27T21:35:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Sumally\r\nIn certbot-nginx  \r\nIf there are some unix domain socket listen, It fail with `AttributeError: 'NoneType' object has no attribute 'ssl'`.\r\n\r\n## Why\r\nIn [parser.py#L590](https://github.com/certbot/certbot/blob/master/certbot-nginx/certbot_nginx/parser.py#L590), it see `addr.ssl` of `obj.Addr`. but in `obj.Add.fromStriing` of `obj.py`, it [return `None`](https://github.com/certbot/certbot/blob/master/certbot-nginx/certbot_nginx/obj.py#L55) if it is the unix socket address.\r\n\r\n## StackTrace and near log\r\n```\r\nSending GET request to https://acme-staging.api.letsencrypt.org/directory.\r\nStarting new HTTPS connection (1): acme-staging.api.letsencrypt.org\r\nhttps://acme-staging.api.letsencrypt.org:443 \"GET /directory HTTP/1.1\" 200 372\r\nReceived response:\r\nHTTP 200\r\nServer: nginx\r\nContent-Type: application/json\r\nContent-Length: 372\r\nBoulder-Request-Id: YEAeUNxir_MlrTWVJreyrS33D5Os8PVzytg-1B6vFi8\r\nReplay-Nonce: pytUVIcXyJI1GtdD5Yek-PXthHeg5_XEHrww7zdtTnA\r\nX-Frame-Options: DENY\r\nStrict-Transport-Security: max-age=604800\r\nExpires: Wed, 15 Feb 2017 16:05:39 GMT\r\nCache-Control: max-age=0, no-cache, no-store\r\nPragma: no-cache\r\nDate: Wed, 15 Feb 2017 16:05:39 GMT\r\nConnection: keep-alive\r\n\r\n{\r\n  \"key-change\": \"https://acme-staging.api.letsencrypt.org/acme/key-change\",\r\n  \"new-authz\": \"https://acme-staging.api.letsencrypt.org/acme/new-authz\",\r\n  \"new-cert\": \"https://acme-staging.api.letsencrypt.org/acme/new-cert\",\r\n  \"new-reg\": \"https://acme-staging.api.letsencrypt.org/acme/new-reg\",\r\n  \"revoke-cert\": \"https://acme-staging.api.letsencrypt.org/acme/revoke-cert\"\r\n}\r\nExiting abnormally:\r\nTraceback (most recent call last):\r\n  File \"/usr/local/bin/certbot\", line 11, in <module>\r\n    sys.exit(main())\r\n  File \"/opt/letsencrypt/local/lib/python2.7/site-packages/certbot/main.py\", line 882, in main\r\n    return config.func(config, plugins)\r\n  File \"/opt/letsencrypt/local/lib/python2.7/site-packages/certbot/main.py\", line 658, in obtain_cert\r\n    domains, certname = _find_domains_or_certname(config, installer)\r\n  File \"/opt/letsencrypt/local/lib/python2.7/site-packages/certbot/main.py\", line 300, in _find_domains_or_certname\r\n    domains = display_ops.choose_names(installer)\r\n  File \"/opt/letsencrypt/local/lib/python2.7/site-packages/certbot/display/ops.py\", line 104, in choose_names\r\n    domains = list(installer.get_all_names())\r\n  File \"/opt/letsencrypt/local/lib/python2.7/site-packages/certbot_nginx/configurator.py\", line 389, in get_all_names\r\n    for vhost in self.parser.get_vhosts():\r\n  File \"/opt/letsencrypt/local/lib/python2.7/site-packages/certbot_nginx/parser.py\", line 141, in get_vhosts\r\n    parsed_server = _parse_server_raw(server)\r\n  File \"/opt/letsencrypt/local/lib/python2.7/site-packages/certbot_nginx/parser.py\", line 590, in _parse_server_raw\r\n    if addr.ssl:\r\nAttributeError: 'NoneType' object has no attribute 'ssl'\r\n\r\nAn unexpected error occurred:\r\nAttributeError: 'NoneType' object has no attribute 'ssl'\r\nPlease see the logfiles in /var/log/letsencrypt for more details.\r\n```\r\n\r\n## Nginx conf\r\n### example.com.conf\r\n```\r\nserver {\r\n   root /var/www/vhosts/example.com;\r\n   server_name example.com;\r\n   listen 80;\r\n   index       index.php index.html index.htm;\r\n   ....\r\n}\r\n```\r\n\r\n### example.com.backend.conf\r\n```\r\nserver {\r\n   root /var/www/vhosts/example.com;\r\n   server_name example.com;\r\n   index       index.php index.html index.htm;\r\n   listen      unix:/var/run/nginx-backend.sock default;\r\n   ....\r\n}\r\n```", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/4225/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/4225/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/4223", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/4223/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/4223/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/4223/events", "html_url": "https://github.com/certbot/certbot/issues/4223", "id": 207780721, "node_id": "MDU6SXNzdWUyMDc3ODA3MjE=", "number": 4223, "title": "Certbot fails to bind on port 443 when there is no deafult Listen", "user": {"login": "met67", "id": 4471785, "node_id": "MDQ6VXNlcjQ0NzE3ODU=", "avatar_url": "https://avatars.githubusercontent.com/u/4471785?v=4", "gravatar_id": "", "url": "https://api.github.com/users/met67", "html_url": "https://github.com/met67", "followers_url": "https://api.github.com/users/met67/followers", "following_url": "https://api.github.com/users/met67/following{/other_user}", "gists_url": "https://api.github.com/users/met67/gists{/gist_id}", "starred_url": "https://api.github.com/users/met67/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/met67/subscriptions", "organizations_url": "https://api.github.com/users/met67/orgs", "repos_url": "https://api.github.com/users/met67/repos", "events_url": "https://api.github.com/users/met67/events{/privacy}", "received_events_url": "https://api.github.com/users/met67/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 239432238, "node_id": "MDU6TGFiZWwyMzk0MzIyMzg=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20fedora%20/%20redhat%20/%20CentOS", "name": "area: fedora / redhat / CentOS", "color": "c5def5", "default": false, "description": null}, {"id": 258836903, "node_id": "MDU6TGFiZWwyNTg4MzY5MDM=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20apache", "name": "area: apache", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "joohoi", "id": 5235109, "node_id": "MDQ6VXNlcjUyMzUxMDk=", "avatar_url": "https://avatars.githubusercontent.com/u/5235109?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joohoi", "html_url": "https://github.com/joohoi", "followers_url": "https://api.github.com/users/joohoi/followers", "following_url": "https://api.github.com/users/joohoi/following{/other_user}", "gists_url": "https://api.github.com/users/joohoi/gists{/gist_id}", "starred_url": "https://api.github.com/users/joohoi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joohoi/subscriptions", "organizations_url": "https://api.github.com/users/joohoi/orgs", "repos_url": "https://api.github.com/users/joohoi/repos", "events_url": "https://api.github.com/users/joohoi/events{/privacy}", "received_events_url": "https://api.github.com/users/joohoi/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "joohoi", "id": 5235109, "node_id": "MDQ6VXNlcjUyMzUxMDk=", "avatar_url": "https://avatars.githubusercontent.com/u/5235109?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joohoi", "html_url": "https://github.com/joohoi", "followers_url": "https://api.github.com/users/joohoi/followers", "following_url": "https://api.github.com/users/joohoi/following{/other_user}", "gists_url": "https://api.github.com/users/joohoi/gists{/gist_id}", "starred_url": "https://api.github.com/users/joohoi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joohoi/subscriptions", "organizations_url": "https://api.github.com/users/joohoi/orgs", "repos_url": "https://api.github.com/users/joohoi/repos", "events_url": "https://api.github.com/users/joohoi/events{/privacy}", "received_events_url": "https://api.github.com/users/joohoi/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2017-02-15T11:40:59Z", "updated_at": "2019-01-21T20:40:16Z", "closed_at": "2019-01-21T20:40:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "I was trying to install a Let's encrypt certificate on a site which is hosted on Apache in a RedHat Enterprise Linux 6.8.\r\nThe server hosts several sites, each one with its IP, and Apache doesn't listen on port 80 or 443 by default.\r\nEach site has its file in conf.d directory, which defines the Virtual Host and Listen on the right port:\r\n\r\n*site.conf*\r\n\r\n    Listen w.x.y.z.:80\r\n    NameVirtualHost w.x.y.z:80\r\n    <VirtualHost w.x.y.z.:80>\r\n    ...\r\n    </VirtualHost>\r\n\r\nIn this situation, the first run of certbot didn't modify the configuration to listen on port 443, so the verification failed.\r\nMoreover, since certbot stores the challenge configuration file in conf.d, with RedHat standard file structure this is included twice, one in `Include conf.d/*.conf` in the middle of httpd.conf and the second in `Include /etc/httpd/conf.d/le_tls_sni_01_cert_challenge.conf` at the end as a result of certbot's modifications.\r\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/4223/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/4223/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/4218", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/4218/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/4218/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/4218/events", "html_url": "https://github.com/certbot/certbot/issues/4218", "id": 207399308, "node_id": "MDU6SXNzdWUyMDczOTkzMDg=", "number": 4218, "title": "Fedora 25: ImportError: cannot import name integer_types", "user": {"login": "JesusAMR", "id": 16111357, "node_id": "MDQ6VXNlcjE2MTExMzU3", "avatar_url": "https://avatars.githubusercontent.com/u/16111357?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JesusAMR", "html_url": "https://github.com/JesusAMR", "followers_url": "https://api.github.com/users/JesusAMR/followers", "following_url": "https://api.github.com/users/JesusAMR/following{/other_user}", "gists_url": "https://api.github.com/users/JesusAMR/gists{/gist_id}", "starred_url": "https://api.github.com/users/JesusAMR/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JesusAMR/subscriptions", "organizations_url": "https://api.github.com/users/JesusAMR/orgs", "repos_url": "https://api.github.com/users/JesusAMR/repos", "events_url": "https://api.github.com/users/JesusAMR/events{/privacy}", "received_events_url": "https://api.github.com/users/JesusAMR/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 239432238, "node_id": "MDU6TGFiZWwyMzk0MzIyMzg=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20fedora%20/%20redhat%20/%20CentOS", "name": "area: fedora / redhat / CentOS", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2017-02-14T02:26:06Z", "updated_at": "2017-12-12T16:07:54Z", "closed_at": "2017-03-01T02:34:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "When running for the first time the command certbot --apache i get the following Traceback error:\r\n\r\n$ certbot --apache\r\nTraceback (most recent call last):\r\n  File \"/usr/bin/certbot\", line 9, in <module>\r\n    load_entry_point('certbot==0.9.3', 'console_scripts', 'certbot')()\r\n  File \"/usr/lib/python2.7/site-packages/pkg_resources/__init__.py\", line 542, in load_entry_point\r\n    return get_distribution(dist).load_entry_point(group, name)\r\n  File \"/usr/lib/python2.7/site-packages/pkg_resources/__init__.py\", line 2575, in load_entry_point\r\n    return ep.load()\r\n  File \"/usr/lib/python2.7/site-packages/pkg_resources/__init__.py\", line 2235, in load\r\n    return self.resolve()\r\n  File \"/usr/lib/python2.7/site-packages/pkg_resources/__init__.py\", line 2241, in resolve\r\n    module = __import__(self.module_name, fromlist=['__name__'], level=0)\r\n  File \"/usr/lib/python2.7/site-packages/certbot/main.py\", line 18, in <module>\r\n    from certbot import account\r\n  File \"/usr/lib/python2.7/site-packages/certbot/account.py\", line 16, in <module>\r\n    from acme import messages\r\n  File \"/usr/lib/python2.7/site-packages/acme/messages.py\", line 4, in <module>\r\n    from acme import challenges\r\n  File \"/usr/lib/python2.7/site-packages/acme/challenges.py\", line 10, in <module>\r\n    import requests\r\n  File \"/usr/lib/python2.7/site-packages/requests/__init__.py\", line 64, in <module>\r\n    from . import utils\r\n  File \"/usr/lib/python2.7/site-packages/requests/utils.py\", line 26, in <module>\r\n    from .compat import (\r\nImportError: cannot import name integer_types", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/4218/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/4218/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/4209", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/4209/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/4209/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/4209/events", "html_url": "https://github.com/certbot/certbot/issues/4209", "id": 206894878, "node_id": "MDU6SXNzdWUyMDY4OTQ4Nzg=", "number": 4209, "title": "\"certbot certonly\" fails on OpenBSD 6.0 with \"Abort trap (core dumped)\"", "user": {"login": "pcovello", "id": 6581720, "node_id": "MDQ6VXNlcjY1ODE3MjA=", "avatar_url": "https://avatars.githubusercontent.com/u/6581720?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pcovello", "html_url": "https://github.com/pcovello", "followers_url": "https://api.github.com/users/pcovello/followers", "following_url": "https://api.github.com/users/pcovello/following{/other_user}", "gists_url": "https://api.github.com/users/pcovello/gists{/gist_id}", "starred_url": "https://api.github.com/users/pcovello/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pcovello/subscriptions", "organizations_url": "https://api.github.com/users/pcovello/orgs", "repos_url": "https://api.github.com/users/pcovello/repos", "events_url": "https://api.github.com/users/pcovello/events{/privacy}", "received_events_url": "https://api.github.com/users/pcovello/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 276680181, "node_id": "MDU6TGFiZWwyNzY2ODAxODE=", "url": "https://api.github.com/repos/certbot/certbot/labels/more-info", "name": "more-info", "color": "006b75", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-02-10T20:10:55Z", "updated_at": "2017-08-28T21:17:23Z", "closed_at": "2017-08-28T21:17:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "I Installed certbot-0.8.1 from OpenBSD 6.0 package repo.\r\n\r\nUsing the \"certbot certonly\" command, I then entered option 1 (place files in webroot)\r\nand gave my email address for notices.\r\n\r\nThe program then failed with:\r\n\r\nAbort trap (core dumped)\r\n\r\nI found some chatter via search engine, suggesting that certbot is calling python and from there, a W^X violation occurs.\r\n\r\nThere was suggestion to allow/whitelist the program to ignore W^X violations, but this does not sit well with me, especially as this is security sensitive software.", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/4209/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/4209/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/4208", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/4208/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/4208/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/4208/events", "html_url": "https://github.com/certbot/certbot/issues/4208", "id": 206801740, "node_id": "MDU6SXNzdWUyMDY4MDE3NDA=", "number": 4208, "title": "RuntimeError: maximum recursion depth exceeded", "user": {"login": "wehmoen", "id": 6608103, "node_id": "MDQ6VXNlcjY2MDgxMDM=", "avatar_url": "https://avatars.githubusercontent.com/u/6608103?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wehmoen", "html_url": "https://github.com/wehmoen", "followers_url": "https://api.github.com/users/wehmoen/followers", "following_url": "https://api.github.com/users/wehmoen/following{/other_user}", "gists_url": "https://api.github.com/users/wehmoen/gists{/gist_id}", "starred_url": "https://api.github.com/users/wehmoen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wehmoen/subscriptions", "organizations_url": "https://api.github.com/users/wehmoen/orgs", "repos_url": "https://api.github.com/users/wehmoen/repos", "events_url": "https://api.github.com/users/wehmoen/events{/privacy}", "received_events_url": "https://api.github.com/users/wehmoen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 276243379, "node_id": "MDU6TGFiZWwyNzYyNDMzNzk=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20certbot-auto", "name": "area: certbot-auto", "color": "c5def5", "default": false, "description": null}, {"id": 300688866, "node_id": "MDU6TGFiZWwzMDA2ODg4NjY=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20install", "name": "area: install", "color": "c5def5", "default": false, "description": null}, {"id": 511875125, "node_id": "MDU6TGFiZWw1MTE4NzUxMjU=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20SUSE", "name": "area: SUSE", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-02-10T13:55:29Z", "updated_at": "2017-08-28T21:16:13Z", "closed_at": "2017-08-28T21:16:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\ni just installed your certbot and tried to use it but it fails:\r\n\r\n`j68949:/opt/certbot # ./certbot-auto -v\r\nBootstrapping dependencies for openSUSE-based OSes...\r\nDaten des Repositories laden ...\r\nInstallierte Pakete lesen ...\r\n'python' ist bereits installiert.\r\nKein Aktualisierungskandidat f\u00fcr 'python-2.7.3-10.28.1.x86_64'. Die neueste Version ist bereits installiert.\r\n'gcc' ist bereits installiert.\r\nKein Aktualisierungskandidat f\u00fcr 'gcc-4.7-7.1.1.x86_64'. Die neueste Version ist bereits installiert.\r\n'libopenssl-devel' ist bereits installiert.\r\nKein Aktualisierungskandidat f\u00fcr 'libopenssl-devel-1.0.1j-1.71.1.x86_64'. Die neueste Version ist bereits installiert.\r\n'ca-certificates' ist bereits installiert.\r\nKein Aktualisierungskandidat f\u00fcr 'ca-certificates-1-21.1.1.noarch'. Die neueste Version ist bereits installiert.\r\n'python-devel' ist bereits installiert.\r\nKein Aktualisierungskandidat f\u00fcr 'python-devel-2.7.3-10.28.1.x86_64'. Die neueste Version ist bereits installiert.\r\n'augeas-lenses' ist bereits installiert.\r\nKein Aktualisierungskandidat f\u00fcr 'augeas-lenses-0.10.0-7.5.1.x86_64'. Die neueste Version ist bereits installiert.\r\n'libffi-devel' wurde in den Paketnamen nicht gefunden. F\u00e4higkeiten werden durchsucht.\r\n'libffi47-devel', welches 'libffi-devel' anbietet, ist bereits installiert.\r\n'python-virtualenv' ist bereits installiert.\r\nKein Aktualisierungskandidat f\u00fcr 'python-virtualenv-1.8.4-2.1.1.noarch'. Die neueste Version ist bereits installiert.\r\nPaketabh\u00e4ngigkeiten aufl\u00f6sen ...\r\n\r\nKeine auszuf\u00fchrenden Aktionen.\r\nCreating virtual environment...\r\nRunning virtualenv with interpreter /usr/bin/python2.7\r\nNew python executable in /root/.local/share/letsencrypt/bin/python2.7\r\nAlso creating executable in /root/.local/share/letsencrypt/bin/python\r\nInstalling setuptools....................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................\r\n  Complete output from command /root/.local/share/letsencrypt/bin/python2.7 -c \"#!python\r\n\\\"\\\"\\\"Bootstra...sys.argv[1:])\r\n\r\n\r\n\r\n\r\n\r\n\r\n\" --always-copy -U setuptools:\r\n  Downloading http://pypi.python.org/packages/2.7/s/setuptools/setuptools-0.6c11-py2.7.egg\r\nSearching for setuptools\r\nReading http://pypi.python.org/simple/setuptools/\r\nBest match: setuptools 34.1.1\r\nDownloading https://pypi.python.org/packages/e2/51/3ea582a6d64dcd36858a10de31d43ca8ea0a3be5386dd0caf6503167cdfb/setuptools-34.1.1.zip#md5=a5582186dfd61820e6edc3aecde6f93c\r\nProcessing setuptools-34.1.1.zip\r\nRunning setuptools-34.1.1/setup.py -q bdist_egg --dist-dir /tmp/easy_install-2FQOuB/setuptools-34.1.1/egg-dist-tmp-EvBasW\r\n/usr/lib64/python2.7/distutils/dist.py:267: UserWarning: Unknown distribution option: 'src_root'\r\n  warnings.warn(msg)\r\nTraceback (most recent call last):\r\n  File \"<string>\", line 278, in <module>\r\n  File \"<string>\", line 213, in main\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/command/easy_install.py\", line 1712, in main\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/command/easy_install.py\", line 1700, in with_ei_usage\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/command/easy_install.py\", line 1716, in <lambda>\r\n  File \"/usr/lib64/python2.7/distutils/core.py\", line 152, in setup\r\n    dist.run_commands()\r\n  File \"/usr/lib64/python2.7/distutils/dist.py\", line 953, in run_commands\r\n    self.run_command(cmd)\r\n  File \"/usr/lib64/python2.7/distutils/dist.py\", line 972, in run_command\r\n    cmd_obj.run()\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/command/easy_install.py\", line 211, in run\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/command/easy_install.py\", line 446, in easy_install\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/command/easy_install.py\", line 476, in install_item\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/command/easy_install.py\", line 655, in install_eggs\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/command/easy_install.py\", line 930, in build_and_install\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/command/easy_install.py\", line 919, in run_setup\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/sandbox.py\", line 62, in run_setup\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/sandbox.py\", line 105, in run\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/sandbox.py\", line 64, in <lambda>\r\n  File \"setup.py\", line 191, in <module>\r\n\r\n  File \"/usr/lib64/python2.7/distutils/core.py\", line 112, in setup\r\n    _setup_distribution = dist = klass(attrs)\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 264, in __init__\r\n  File \"/usr/lib64/python2.7/distutils/dist.py\", line 287, in __init__\r\n    self.finalize_options()\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 296, in finalize_options\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 1966, in require\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 563, in resolve\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 799, in best_match\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 811, in obtain\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 305, in fetch_build_egg\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 264, in __init__\r\n  File \"/usr/lib64/python2.7/distutils/dist.py\", line 287, in __init__\r\n    self.finalize_options()\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 296, in finalize_options\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 1966, in require\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 563, in resolve\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 799, in best_match\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 811, in obtain\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 305, in fetch_build_egg\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 264, in __init__\r\n  File \"/usr/lib64/python2.7/distutils/dist.py\", line 287, in __init__\r\n    self.finalize_options()\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 296, in finalize_options\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 1966, in require\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 563, in resolve\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 799, in best_match\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 811, in obtain\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 305, in fetch_build_egg\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 264, in __init__\r\n  File \"/usr/lib64/python2.7/distutils/dist.py\", line 287, in __init__\r\n    self.finalize_options()\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 296, in finalize_options\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 1966, in require\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 563, in resolve\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 799, in best_match\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 811, in obtain\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 305, in fetch_build_egg\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 264, in __init__\r\n  File \"/usr/lib64/python2.7/distutils/dist.py\", line 287, in __init__\r\n    self.finalize_options()\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 296, in finalize_options\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 1966, in require\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 563, in resolve\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 799, in best_match\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 811, in obtain\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 305, in fetch_build_egg\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 264, in __init__\r\n  File \"/usr/lib64/python2.7/distutils/dist.py\", line 287, in __init__\r\n    self.finalize_options()\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 296, in finalize_options\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 1966, in require\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 563, in resolve\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 799, in best_match\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 811, in obtain\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 305, in fetch_build_egg\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 264, in __init__\r\n  File \"/usr/lib64/python2.7/distutils/dist.py\", line 287, in __init__\r\n    self.finalize_options()\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 296, in finalize_options\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 1966, in require\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 563, in resolve\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 799, in best_match\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 811, in obtain\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 305, in fetch_build_egg\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 264, in __init__\r\n  File \"/usr/lib64/python2.7/distutils/dist.py\", line 287, in __init__\r\n    self.finalize_options()\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 296, in finalize_options\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 1966, in require\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 563, in resolve\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 799, in best_match\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 811, in obtain\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 305, in fetch_build_egg\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 264, in __init__\r\n  File \"/usr/lib64/python2.7/distutils/dist.py\", line 287, in __init__\r\n    self.finalize_options()\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 296, in finalize_options\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 1966, in require\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 563, in resolve\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 799, in best_match\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 811, in obtain\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 305, in fetch_build_egg\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 264, in __init__\r\n  File \"/usr/lib64/python2.7/distutils/dist.py\", line 287, in __init__\r\n    self.finalize_options()\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 296, in finalize_options\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 1966, in require\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 563, in resolve\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 799, in best_match\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 811, in obtain\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 305, in fetch_build_egg\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 264, in __init__\r\n  File \"/usr/lib64/python2.7/distutils/dist.py\", line 287, in __init__\r\n    self.finalize_options()\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 296, in finalize_options\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 1966, in require\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 563, in resolve\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 799, in best_match\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 811, in obtain\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 305, in fetch_build_egg\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 264, in __init__\r\n  File \"/usr/lib64/python2.7/distutils/dist.py\", line 287, in __init__\r\n    self.finalize_options()\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 296, in finalize_options\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 1966, in require\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 563, in resolve\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 799, in best_match\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 811, in obtain\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 305, in fetch_build_egg\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 264, in __init__\r\n  File \"/usr/lib64/python2.7/distutils/dist.py\", line 287, in __init__\r\n    self.finalize_options()\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 296, in finalize_options\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 1966, in require\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 563, in resolve\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 799, in best_match\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 811, in obtain\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 305, in fetch_build_egg\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 264, in __init__\r\n  File \"/usr/lib64/python2.7/distutils/dist.py\", line 287, in __init__\r\n    self.finalize_options()\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 296, in finalize_options\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 1966, in require\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 563, in resolve\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 799, in best_match\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 811, in obtain\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 305, in fetch_build_egg\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 264, in __init__\r\n  File \"/usr/lib64/python2.7/distutils/dist.py\", line 287, in __init__\r\n    self.finalize_options()\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 296, in finalize_options\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 1966, in require\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 563, in resolve\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 799, in best_match\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 811, in obtain\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 305, in fetch_build_egg\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 264, in __init__\r\n  File \"/usr/lib64/python2.7/distutils/dist.py\", line 287, in __init__\r\n    self.finalize_options()\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 296, in finalize_options\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 1966, in require\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 563, in resolve\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 799, in best_match\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 811, in obtain\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 305, in fetch_build_egg\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 264, in __init__\r\n  File \"/usr/lib64/python2.7/distutils/dist.py\", line 287, in __init__\r\n    self.finalize_options()\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 296, in finalize_options\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 1966, in require\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 563, in resolve\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 799, in best_match\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 811, in obtain\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 305, in fetch_build_egg\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 264, in __init__\r\n  File \"/usr/lib64/python2.7/distutils/dist.py\", line 287, in __init__\r\n    self.finalize_options()\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 296, in finalize_options\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 1966, in require\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 563, in resolve\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 799, in best_match\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 811, in obtain\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 305, in fetch_build_egg\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 264, in __init__\r\n  File \"/usr/lib64/python2.7/distutils/dist.py\", line 287, in __init__\r\n    self.finalize_options()\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 296, in finalize_options\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 1966, in require\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 563, in resolve\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 799, in best_match\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 811, in obtain\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 305, in fetch_build_egg\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 264, in __init__\r\n  File \"/usr/lib64/python2.7/distutils/dist.py\", line 287, in __init__\r\n    self.finalize_options()\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 296, in finalize_options\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 1966, in require\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 563, in resolve\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 799, in best_match\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 811, in obtain\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 305, in fetch_build_egg\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 264, in __init__\r\n  File \"/usr/lib64/python2.7/distutils/dist.py\", line 287, in __init__\r\n    self.finalize_options()\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 296, in finalize_options\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 1966, in require\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 563, in resolve\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 799, in best_match\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 811, in obtain\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 305, in fetch_build_egg\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 264, in __init__\r\n  File \"/usr/lib64/python2.7/distutils/dist.py\", line 287, in __init__\r\n    self.finalize_options()\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 296, in finalize_options\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 1966, in require\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 563, in resolve\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 799, in best_match\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 811, in obtain\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 305, in fetch_build_egg\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 264, in __init__\r\n  File \"/usr/lib64/python2.7/distutils/dist.py\", line 287, in __init__\r\n    self.finalize_options()\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 296, in finalize_options\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 1966, in require\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 563, in resolve\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 799, in best_match\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 811, in obtain\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 305, in fetch_build_egg\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 264, in __init__\r\n  File \"/usr/lib64/python2.7/distutils/dist.py\", line 287, in __init__\r\n    self.finalize_options()\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 296, in finalize_options\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 1966, in require\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 563, in resolve\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 799, in best_match\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 811, in obtain\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 305, in fetch_build_egg\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 264, in __init__\r\n  File \"/usr/lib64/python2.7/distutils/dist.py\", line 287, in __init__\r\n    self.finalize_options()\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 296, in finalize_options\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 1966, in require\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 563, in resolve\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 799, in best_match\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 811, in obtain\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 305, in fetch_build_egg\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 264, in __init__\r\n  File \"/usr/lib64/python2.7/distutils/dist.py\", line 287, in __init__\r\n    self.finalize_options()\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 296, in finalize_options\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 1966, in require\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 563, in resolve\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 799, in best_match\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 811, in obtain\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 305, in fetch_build_egg\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 264, in __init__\r\n  File \"/usr/lib64/python2.7/distutils/dist.py\", line 287, in __init__\r\n    self.finalize_options()\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 296, in finalize_options\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 1966, in require\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 563, in resolve\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 799, in best_match\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 811, in obtain\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 305, in fetch_build_egg\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 264, in __init__\r\n  File \"/usr/lib64/python2.7/distutils/dist.py\", line 287, in __init__\r\n    self.finalize_options()\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 296, in finalize_options\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 1966, in require\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 563, in resolve\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 799, in best_match\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 811, in obtain\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 305, in fetch_build_egg\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 264, in __init__\r\n  File \"/usr/lib64/python2.7/distutils/dist.py\", line 287, in __init__\r\n    self.finalize_options()\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 296, in finalize_options\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 1966, in require\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 563, in resolve\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 799, in best_match\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 811, in obtain\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 305, in fetch_build_egg\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 264, in __init__\r\n  File \"/usr/lib64/python2.7/distutils/dist.py\", line 287, in __init__\r\n    self.finalize_options()\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 296, in finalize_options\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 1966, in require\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 563, in resolve\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 799, in best_match\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 811, in obtain\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 305, in fetch_build_egg\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 264, in __init__\r\n  File \"/usr/lib64/python2.7/distutils/dist.py\", line 287, in __init__\r\n    self.finalize_options()\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 296, in finalize_options\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 1966, in require\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 563, in resolve\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 799, in best_match\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 811, in obtain\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 305, in fetch_build_egg\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 264, in __init__\r\n  File \"/usr/lib64/python2.7/distutils/dist.py\", line 287, in __init__\r\n    self.finalize_options()\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 296, in finalize_options\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 1966, in require\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 563, in resolve\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 799, in best_match\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 811, in obtain\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 305, in fetch_build_egg\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 264, in __init__\r\n  File \"/usr/lib64/python2.7/distutils/dist.py\", line 287, in __init__\r\n    self.finalize_options()\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 296, in finalize_options\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 1966, in require\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 563, in resolve\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 799, in best_match\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 811, in obtain\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 305, in fetch_build_egg\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 264, in __init__\r\n  File \"/usr/lib64/python2.7/distutils/dist.py\", line 287, in __init__\r\n    self.finalize_options()\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 296, in finalize_options\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 1966, in require\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 563, in resolve\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 799, in best_match\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 811, in obtain\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 305, in fetch_build_egg\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 264, in __init__\r\n  File \"/usr/lib64/python2.7/distutils/dist.py\", line 287, in __init__\r\n    self.finalize_options()\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 296, in finalize_options\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 1966, in require\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 563, in resolve\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 799, in best_match\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 811, in obtain\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 305, in fetch_build_egg\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 264, in __init__\r\n  File \"/usr/lib64/python2.7/distutils/dist.py\", line 287, in __init__\r\n    self.finalize_options()\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 296, in finalize_options\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 1966, in require\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 563, in resolve\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 799, in best_match\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 811, in obtain\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 305, in fetch_build_egg\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 264, in __init__\r\n  File \"/usr/lib64/python2.7/distutils/dist.py\", line 287, in __init__\r\n    self.finalize_options()\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 296, in finalize_options\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 1966, in require\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 563, in resolve\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 799, in best_match\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 811, in obtain\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 305, in fetch_build_egg\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 264, in __init__\r\n  File \"/usr/lib64/python2.7/distutils/dist.py\", line 287, in __init__\r\n    self.finalize_options()\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 296, in finalize_options\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 1966, in require\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 563, in resolve\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 799, in best_match\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 811, in obtain\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 305, in fetch_build_egg\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 264, in __init__\r\n  File \"/usr/lib64/python2.7/distutils/dist.py\", line 287, in __init__\r\n    self.finalize_options()\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 296, in finalize_options\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 1966, in require\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 563, in resolve\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 799, in best_match\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 811, in obtain\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 305, in fetch_build_egg\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 264, in __init__\r\n  File \"/usr/lib64/python2.7/distutils/dist.py\", line 287, in __init__\r\n    self.finalize_options()\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 296, in finalize_options\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 1966, in require\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 563, in resolve\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 799, in best_match\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 811, in obtain\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 305, in fetch_build_egg\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 264, in __init__\r\n  File \"/usr/lib64/python2.7/distutils/dist.py\", line 287, in __init__\r\n    self.finalize_options()\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 296, in finalize_options\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 1966, in require\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 563, in resolve\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 799, in best_match\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 811, in obtain\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 305, in fetch_build_egg\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 264, in __init__\r\n  File \"/usr/lib64/python2.7/distutils/dist.py\", line 287, in __init__\r\n    self.finalize_options()\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 296, in finalize_options\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 1966, in require\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 563, in resolve\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 799, in best_match\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 811, in obtain\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 305, in fetch_build_egg\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 264, in __init__\r\n  File \"/usr/lib64/python2.7/distutils/dist.py\", line 287, in __init__\r\n    self.finalize_options()\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 296, in finalize_options\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 1966, in require\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 563, in resolve\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 799, in best_match\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 811, in obtain\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 305, in fetch_build_egg\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 264, in __init__\r\n  File \"/usr/lib64/python2.7/distutils/dist.py\", line 287, in __init__\r\n    self.finalize_options()\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 296, in finalize_options\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 1966, in require\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 563, in resolve\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 799, in best_match\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 811, in obtain\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 305, in fetch_build_egg\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 264, in __init__\r\n  File \"/usr/lib64/python2.7/distutils/dist.py\", line 287, in __init__\r\n    self.finalize_options()\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 296, in finalize_options\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 1966, in require\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 563, in resolve\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 799, in best_match\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 811, in obtain\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 305, in fetch_build_egg\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 264, in __init__\r\n  File \"/usr/lib64/python2.7/distutils/dist.py\", line 287, in __init__\r\n    self.finalize_options()\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 296, in finalize_options\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 1966, in require\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 563, in resolve\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 799, in best_match\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 811, in obtain\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 305, in fetch_build_egg\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 264, in __init__\r\n  File \"/usr/lib64/python2.7/distutils/dist.py\", line 287, in __init__\r\n    self.finalize_options()\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 296, in finalize_options\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 1966, in require\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 563, in resolve\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 799, in best_match\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 811, in obtain\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 305, in fetch_build_egg\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 264, in __init__\r\n  File \"/usr/lib64/python2.7/distutils/dist.py\", line 287, in __init__\r\n    self.finalize_options()\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 296, in finalize_options\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 1966, in require\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 563, in resolve\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 799, in best_match\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 811, in obtain\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 305, in fetch_build_egg\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 264, in __init__\r\n  File \"/usr/lib64/python2.7/distutils/dist.py\", line 287, in __init__\r\n    self.finalize_options()\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 296, in finalize_options\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 1966, in require\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 563, in resolve\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 799, in best_match\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 811, in obtain\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 305, in fetch_build_egg\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 264, in __init__\r\n  File \"/usr/lib64/python2.7/distutils/dist.py\", line 287, in __init__\r\n    self.finalize_options()\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 296, in finalize_options\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 1966, in require\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 563, in resolve\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 799, in best_match\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 811, in obtain\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 305, in fetch_build_egg\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 264, in __init__\r\n  File \"/usr/lib64/python2.7/distutils/dist.py\", line 287, in __init__\r\n    self.finalize_options()\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 296, in finalize_options\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 1966, in require\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 563, in resolve\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 799, in best_match\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 811, in obtain\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 305, in fetch_build_egg\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 264, in __init__\r\n  File \"/usr/lib64/python2.7/distutils/dist.py\", line 287, in __init__\r\n    self.finalize_options()\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 296, in finalize_options\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 1966, in require\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 563, in resolve\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 799, in best_match\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 811, in obtain\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 305, in fetch_build_egg\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 264, in __init__\r\n  File \"/usr/lib64/python2.7/distutils/dist.py\", line 287, in __init__\r\n    self.finalize_options()\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 296, in finalize_options\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 1966, in require\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 563, in resolve\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 799, in best_match\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 811, in obtain\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 305, in fetch_build_egg\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 264, in __init__\r\n  File \"/usr/lib64/python2.7/distutils/dist.py\", line 287, in __init__\r\n    self.finalize_options()\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 296, in finalize_options\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 1966, in require\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 563, in resolve\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 799, in best_match\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 811, in obtain\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 305, in fetch_build_egg\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 264, in __init__\r\n  File \"/usr/lib64/python2.7/distutils/dist.py\", line 287, in __init__\r\n    self.finalize_options()\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 296, in finalize_options\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 1966, in require\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 563, in resolve\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 799, in best_match\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 811, in obtain\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 305, in fetch_build_egg\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 264, in __init__\r\n  File \"/usr/lib64/python2.7/distutils/dist.py\", line 287, in __init__\r\n    self.finalize_options()\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 296, in finalize_options\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 1966, in require\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 563, in resolve\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 799, in best_match\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 811, in obtain\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 305, in fetch_build_egg\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 264, in __init__\r\n  File \"/usr/lib64/python2.7/distutils/dist.py\", line 287, in __init__\r\n    self.finalize_options()\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 296, in finalize_options\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 1966, in require\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 563, in resolve\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 799, in best_match\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 811, in obtain\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 305, in fetch_build_egg\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 264, in __init__\r\n  File \"/usr/lib64/python2.7/distutils/dist.py\", line 287, in __init__\r\n    self.finalize_options()\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 296, in finalize_options\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 1966, in require\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 563, in resolve\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 799, in best_match\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 811, in obtain\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 305, in fetch_build_egg\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 264, in __init__\r\n  File \"/usr/lib64/python2.7/distutils/dist.py\", line 287, in __init__\r\n    self.finalize_options()\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 296, in finalize_options\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 1966, in require\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 563, in resolve\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 799, in best_match\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 811, in obtain\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 305, in fetch_build_egg\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 264, in __init__\r\n  File \"/usr/lib64/python2.7/distutils/dist.py\", line 287, in __init__\r\n    self.finalize_options()\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 296, in finalize_options\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 1966, in require\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 563, in resolve\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 799, in best_match\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 811, in obtain\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 305, in fetch_build_egg\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 264, in __init__\r\n  File \"/usr/lib64/python2.7/distutils/dist.py\", line 287, in __init__\r\n    self.finalize_options()\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 296, in finalize_options\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 1966, in require\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 563, in resolve\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 799, in best_match\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 811, in obtain\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 305, in fetch_build_egg\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 264, in __init__\r\n  File \"/usr/lib64/python2.7/distutils/dist.py\", line 287, in __init__\r\n    self.finalize_options()\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 296, in finalize_options\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 1966, in require\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 563, in resolve\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 799, in best_match\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 811, in obtain\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 305, in fetch_build_egg\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 264, in __init__\r\n  File \"/usr/lib64/python2.7/distutils/dist.py\", line 287, in __init__\r\n    self.finalize_options()\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 296, in finalize_options\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 1966, in require\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 563, in resolve\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 799, in best_match\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 811, in obtain\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 305, in fetch_build_egg\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 264, in __init__\r\n  File \"/usr/lib64/python2.7/distutils/dist.py\", line 287, in __init__\r\n    self.finalize_options()\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 296, in finalize_options\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 1966, in require\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 563, in resolve\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 799, in best_match\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 811, in obtain\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 305, in fetch_build_egg\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 264, in __init__\r\n  File \"/usr/lib64/python2.7/distutils/dist.py\", line 287, in __init__\r\n    self.finalize_options()\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 296, in finalize_options\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 1966, in require\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 563, in resolve\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 799, in best_match\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 811, in obtain\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 305, in fetch_build_egg\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 264, in __init__\r\n  File \"/usr/lib64/python2.7/distutils/dist.py\", line 287, in __init__\r\n    self.finalize_options()\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 296, in finalize_options\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 1966, in require\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 563, in resolve\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 799, in best_match\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 811, in obtain\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 305, in fetch_build_egg\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 264, in __init__\r\n  File \"/usr/lib64/python2.7/distutils/dist.py\", line 287, in __init__\r\n    self.finalize_options()\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 296, in finalize_options\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 1966, in require\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 563, in resolve\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 799, in best_match\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 811, in obtain\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 305, in fetch_build_egg\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 264, in __init__\r\n  File \"/usr/lib64/python2.7/distutils/dist.py\", line 287, in __init__\r\n    self.finalize_options()\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 296, in finalize_options\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 1966, in require\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 563, in resolve\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 799, in best_match\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 811, in obtain\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 305, in fetch_build_egg\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 264, in __init__\r\n  File \"/usr/lib64/python2.7/distutils/dist.py\", line 287, in __init__\r\n    self.finalize_options()\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 296, in finalize_options\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 1966, in require\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 563, in resolve\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 799, in best_match\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 811, in obtain\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 305, in fetch_build_egg\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 264, in __init__\r\n  File \"/usr/lib64/python2.7/distutils/dist.py\", line 287, in __init__\r\n    self.finalize_options()\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 296, in finalize_options\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 1966, in require\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 563, in resolve\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 799, in best_match\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 811, in obtain\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 305, in fetch_build_egg\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 264, in __init__\r\n  File \"/usr/lib64/python2.7/distutils/dist.py\", line 287, in __init__\r\n    self.finalize_options()\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 296, in finalize_options\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 1966, in require\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 563, in resolve\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 799, in best_match\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 811, in obtain\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 305, in fetch_build_egg\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 264, in __init__\r\n  File \"/usr/lib64/python2.7/distutils/dist.py\", line 287, in __init__\r\n    self.finalize_options()\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 296, in finalize_options\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 1966, in require\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 563, in resolve\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 799, in best_match\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 811, in obtain\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 305, in fetch_build_egg\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 264, in __init__\r\n  File \"/usr/lib64/python2.7/distutils/dist.py\", line 287, in __init__\r\n    self.finalize_options()\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 296, in finalize_options\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 1966, in require\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 563, in resolve\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 799, in best_match\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 811, in obtain\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 305, in fetch_build_egg\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 264, in __init__\r\n  File \"/usr/lib64/python2.7/distutils/dist.py\", line 287, in __init__\r\n    self.finalize_options()\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/setuptools/dist.py\", line 296, in finalize_options\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 1966, in require\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 562, in resolve\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 722, in __init__\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 752, in scan\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 774, in add\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 2090, in __cmp__\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 2090, in __cmp__\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 2085, in <lambda>\r\n  File \"/opt/certbot/setuptools-0.6c11-py2.7.egg/pkg_resources.py\", line 2109, in parsed_version\r\nRuntimeError: maximum recursion depth exceeded\r\n----------------------------------------\r\n...Installing setuptools...done.\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python2.7/site-packages/virtualenv.py\", line 2559, in <module>\r\n    main()\r\n  File \"/usr/lib/python2.7/site-packages/virtualenv.py\", line 963, in main\r\n    never_download=options.never_download)\r\n  File \"/usr/lib/python2.7/site-packages/virtualenv.py\", line 1073, in create_environment\r\n    search_dirs=search_dirs, never_download=never_download)\r\n  File \"/usr/lib/python2.7/site-packages/virtualenv.py\", line 610, in install_setuptools\r\n    search_dirs=search_dirs, never_download=never_download)\r\n  File \"/usr/lib/python2.7/site-packages/virtualenv.py\", line 582, in _install_req\r\n    cwd=cwd)\r\n  File \"/usr/lib/python2.7/site-packages/virtualenv.py\", line 1041, in call_subprocess\r\n    % (cmd_desc, proc.returncode))\r\nOSError: Command /root/.local/share/letsencrypt/bin/python2.7 -c \"#!python\r\n\\\"\\\"\\\"Bootstra...sys.argv[1:])\r\n\r\n\r\n\r\n\r\n\r\n\r\n\" --always-copy -U setuptools failed with error code 1\r\n`\r\n\r\ni hope you can help me. I need an SSL Certificate for my domain. Otherwise my Facebook App won't work any longer.\r\n\r\nKind regards\r\n\r\nwehmoen :smiley: ", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/4208/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/4208/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/4189", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/4189/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/4189/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/4189/events", "html_url": "https://github.com/certbot/certbot/issues/4189", "id": 206276023, "node_id": "MDU6SXNzdWUyMDYyNzYwMjM=", "number": 4189, "title": "macOS BootstrapMac fails to install pip and virtualenv due to permission error", "user": {"login": "MichalMMac", "id": 3882687, "node_id": "MDQ6VXNlcjM4ODI2ODc=", "avatar_url": "https://avatars.githubusercontent.com/u/3882687?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MichalMMac", "html_url": "https://github.com/MichalMMac", "followers_url": "https://api.github.com/users/MichalMMac/followers", "following_url": "https://api.github.com/users/MichalMMac/following{/other_user}", "gists_url": "https://api.github.com/users/MichalMMac/gists{/gist_id}", "starred_url": "https://api.github.com/users/MichalMMac/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MichalMMac/subscriptions", "organizations_url": "https://api.github.com/users/MichalMMac/orgs", "repos_url": "https://api.github.com/users/MichalMMac/repos", "events_url": "https://api.github.com/users/MichalMMac/events{/privacy}", "received_events_url": "https://api.github.com/users/MichalMMac/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 146954793, "node_id": "MDU6TGFiZWwxNDY5NTQ3OTM=", "url": "https://api.github.com/repos/certbot/certbot/labels/wontfix", "name": "wontfix", "color": "ffffff", "default": true, "description": null}, {"id": 253794701, "node_id": "MDU6TGFiZWwyNTM3OTQ3MDE=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20macOS", "name": "area: macOS", "color": "c5def5", "default": false, "description": null}, {"id": 281347824, "node_id": "MDU6TGFiZWwyODEzNDc4MjQ=", "url": "https://api.github.com/repos/certbot/certbot/labels/has%20pr", "name": "has pr", "color": "0052cc", "default": false, "description": null}, {"id": 300688866, "node_id": "MDU6TGFiZWwzMDA2ODg4NjY=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20install", "name": "area: install", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-02-08T17:59:22Z", "updated_at": "2017-04-18T22:11:01Z", "closed_at": "2017-04-18T22:10:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "When running `letsencrypt-auto --help --debug` `BootstrapMac` function attempts to install `pip` and `virtualenv` with this code:\r\n\r\n```\r\ncurl --silent --show-error --retry 5 https://bootstrap.pypa.io/get-pip.py |  python\r\npip install virtualenv\r\n```\r\nSince `/Library/Python/2.7/site-packages/` is owned by `root` with 755 permissions installation fails with permission error.\r\n\r\nOne way to \"fix\" it is to chmod -R 777  site-packages packages directory as described in this blog [post](https://community.letsencrypt.org/t/complete-guide-to-install-ssl-certificate-on-your-os-x-server-hosted-website/15005).\r\n\r\nAnother way is to add $SUDO to install commands:\r\n\r\n```\r\ncurl --silent --show-error --retry 5 https://bootstrap.pypa.io/get-pip.py |  $SUDO python\r\n$SUDO pip install virtualenv\r\n```\r\n\r\nThis appears to work (tested on Sierra 10.12.3 with both MacPorts and HomeBrew).\r\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/4189/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/4189/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/4184", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/4184/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/4184/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/4184/events", "html_url": "https://github.com/certbot/certbot/issues/4184", "id": 206104256, "node_id": "MDU6SXNzdWUyMDYxMDQyNTY=", "number": 4184, "title": "Certbot crashes in cleanup for manual CSR for multiple domains with same server root", "user": {"login": "dgatwood", "id": 1230125, "node_id": "MDQ6VXNlcjEyMzAxMjU=", "avatar_url": "https://avatars.githubusercontent.com/u/1230125?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dgatwood", "html_url": "https://github.com/dgatwood", "followers_url": "https://api.github.com/users/dgatwood/followers", "following_url": "https://api.github.com/users/dgatwood/following{/other_user}", "gists_url": "https://api.github.com/users/dgatwood/gists{/gist_id}", "starred_url": "https://api.github.com/users/dgatwood/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dgatwood/subscriptions", "organizations_url": "https://api.github.com/users/dgatwood/orgs", "repos_url": "https://api.github.com/users/dgatwood/repos", "events_url": "https://api.github.com/users/dgatwood/events{/privacy}", "received_events_url": "https://api.github.com/users/dgatwood/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-02-08T06:01:43Z", "updated_at": "2017-08-28T21:14:32Z", "closed_at": "2017-08-28T21:14:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "Apparently, when certbot tries to validate multiple domains in a single pass (e.g. using a custom CSR), if multiple domains share the same root directory, certbot dies with an exception because it has already removed the temporary authorization files from the directory and then tries to remove them a second time and cannot do so.\r\n\r\nI've solved this in my copy by changing auth_handler.py:280 from:\r\n\r\n            self.auth.cleanup(achalls)\r\n\r\nto:\r\n\r\n            try :\r\n                self.auth.cleanup(achalls)\r\n            except :\r\n                pass\r\n\r\nhowever, I suspect there's a better way to fix this that would be obvious to somebody who is more familiar with the code.\r\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/4184/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/4184/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/4183", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/4183/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/4183/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/4183/events", "html_url": "https://github.com/certbot/certbot/issues/4183", "id": 206075139, "node_id": "MDU6SXNzdWUyMDYwNzUxMzk=", "number": 4183, "title": "Apache lowercase h isn't accepted <VirtualHost> works <Virtualhost> doesn't", "user": {"login": "kublermdk", "id": 907142, "node_id": "MDQ6VXNlcjkwNzE0Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/907142?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kublermdk", "html_url": "https://github.com/kublermdk", "followers_url": "https://api.github.com/users/kublermdk/followers", "following_url": "https://api.github.com/users/kublermdk/following{/other_user}", "gists_url": "https://api.github.com/users/kublermdk/gists{/gist_id}", "starred_url": "https://api.github.com/users/kublermdk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kublermdk/subscriptions", "organizations_url": "https://api.github.com/users/kublermdk/orgs", "repos_url": "https://api.github.com/users/kublermdk/repos", "events_url": "https://api.github.com/users/kublermdk/events{/privacy}", "received_events_url": "https://api.github.com/users/kublermdk/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 258836903, "node_id": "MDU6TGFiZWwyNTg4MzY5MDM=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20apache", "name": "area: apache", "color": "c5def5", "default": false, "description": null}, {"id": 281347824, "node_id": "MDU6TGFiZWwyODEzNDc4MjQ=", "url": "https://api.github.com/repos/certbot/certbot/labels/has%20pr", "name": "has pr", "color": "0052cc", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "joohoi", "id": 5235109, "node_id": "MDQ6VXNlcjUyMzUxMDk=", "avatar_url": "https://avatars.githubusercontent.com/u/5235109?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joohoi", "html_url": "https://github.com/joohoi", "followers_url": "https://api.github.com/users/joohoi/followers", "following_url": "https://api.github.com/users/joohoi/following{/other_user}", "gists_url": "https://api.github.com/users/joohoi/gists{/gist_id}", "starred_url": "https://api.github.com/users/joohoi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joohoi/subscriptions", "organizations_url": "https://api.github.com/users/joohoi/orgs", "repos_url": "https://api.github.com/users/joohoi/repos", "events_url": "https://api.github.com/users/joohoi/events{/privacy}", "received_events_url": "https://api.github.com/users/joohoi/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "joohoi", "id": 5235109, "node_id": "MDQ6VXNlcjUyMzUxMDk=", "avatar_url": "https://avatars.githubusercontent.com/u/5235109?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joohoi", "html_url": "https://github.com/joohoi", "followers_url": "https://api.github.com/users/joohoi/followers", "following_url": "https://api.github.com/users/joohoi/following{/other_user}", "gists_url": "https://api.github.com/users/joohoi/gists{/gist_id}", "starred_url": "https://api.github.com/users/joohoi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joohoi/subscriptions", "organizations_url": "https://api.github.com/users/joohoi/orgs", "repos_url": "https://api.github.com/users/joohoi/repos", "events_url": "https://api.github.com/users/joohoi/events{/privacy}", "received_events_url": "https://api.github.com/users/joohoi/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/31", "html_url": "https://github.com/certbot/certbot/milestone/31", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/31/labels", "id": 2262270, "node_id": "MDk6TWlsZXN0b25lMjI2MjI3MA==", "number": 31, "title": "0.12.0", "description": "", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 30, "state": "closed", "created_at": "2017-01-18T19:34:56Z", "updated_at": "2017-03-09T20:14:45Z", "due_on": null, "closed_at": "2017-03-02T23:38:16Z"}, "comments": 2, "created_at": "2017-02-08T02:09:44Z", "updated_at": "2017-02-24T04:28:51Z", "closed_at": "2017-02-24T04:28:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "### The version of Certbot you're running :\r\nI'm using certbot **v0.11.1**\r\n\r\n### The operating system you're running it on:\r\n**Ubuntu 14.04.5 LTS**\r\n\r\n### The commands you ran\r\n./certbot-auto\r\n\r\n### What you expected to happen\r\nI expected to be able to see my sites listed\r\n\r\n> Which names would you like to activate HTTPS for?\r\n> -------------------------------------------------------------------------------\r\n> 1: fendamenda.com.au\r\n> 2: www.fendamenda.com.au\r\n> 3: fendamenda.com\r\n> 4: www.fendamenda.com\r\n> 5: staging.fendamenda.com.au\r\n> -------------------------------------------------------------------------------\r\n\r\n\r\n### What actually happened\r\n\r\n> Which names would you like to activate HTTPS for?\r\n> -------------------------------------------------------------------------------\r\n> 1: staging.fendamenda.com.au\r\n> -------------------------------------------------------------------------------\r\n\r\ncertbot didn't understand the sites which used `<Virtualhost> ... </Virtualhost>` although Apache accepted them fine. When capitalising the h and using `<VirtualHost> ... <VirtualHost>` it worked and picked up the other site configs.\r\n\r\nI've posted an example virtualhost entry and basic info at http://www.kublermdk.com/2017/02/08/letsencrypt-certbot-virtualhost-vs-virtualhost/", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/4183/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/4183/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/4150", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/4150/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/4150/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/4150/events", "html_url": "https://github.com/certbot/certbot/issues/4150", "id": 204747797, "node_id": "MDU6SXNzdWUyMDQ3NDc3OTc=", "number": 4150, "title": "IndexError: list index out of range", "user": {"login": "aday395", "id": 11096018, "node_id": "MDQ6VXNlcjExMDk2MDE4", "avatar_url": "https://avatars.githubusercontent.com/u/11096018?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aday395", "html_url": "https://github.com/aday395", "followers_url": "https://api.github.com/users/aday395/followers", "following_url": "https://api.github.com/users/aday395/following{/other_user}", "gists_url": "https://api.github.com/users/aday395/gists{/gist_id}", "starred_url": "https://api.github.com/users/aday395/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aday395/subscriptions", "organizations_url": "https://api.github.com/users/aday395/orgs", "repos_url": "https://api.github.com/users/aday395/repos", "events_url": "https://api.github.com/users/aday395/events{/privacy}", "received_events_url": "https://api.github.com/users/aday395/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/33", "html_url": "https://github.com/certbot/certbot/milestone/33", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/33/labels", "id": 2294000, "node_id": "MDk6TWlsZXN0b25lMjI5NDAwMA==", "number": 33, "title": "0.11.1", "description": "Bug fix", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 4, "state": "closed", "created_at": "2017-02-02T00:29:54Z", "updated_at": "2017-02-07T23:09:57Z", "due_on": null, "closed_at": "2017-02-02T03:21:35Z"}, "comments": 1, "created_at": "2017-02-02T00:26:43Z", "updated_at": "2017-02-06T19:09:05Z", "closed_at": "2017-02-02T02:02:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "I got an error when running ./certbot-auto for letsencrypt: \r\n\r\n> IndexError: list index out of range\r\n\r\ncertbot.log showed:\r\n\r\n> Traceback (most recent call last):\r\n>   File \"/root/.local/share/letsencrypt/bin/letsencrypt\", line 11, in <module>\r\n>     sys.exit(main())\r\n>   File \"/root/.local/share/letsencrypt/local/lib/python2.7/site-packages/certbot/main.py\", line 861, in main\r\n>     args = cli.prepare_and_parse_args(plugins, cli_args)\r\n>   File \"/root/.local/share/letsencrypt/local/lib/python2.7/site-packages/certbot/cli.py\", line 814, in prepare_and_parse_args\r\n>     helpful = HelpfulArgumentParser(args, plugins, detect_defaults)\r\n>   File \"/root/.local/share/letsencrypt/local/lib/python2.7/site-packages/certbot/cli.py\", line 442, in __init__\r\n>     if self.args[0] == 'help':\r\n> IndexError: list index out of range", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/4150/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/4150/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/4125", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/4125/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/4125/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/4125/events", "html_url": "https://github.com/certbot/certbot/issues/4125", "id": 203510438, "node_id": "MDU6SXNzdWUyMDM1MTA0Mzg=", "number": 4125, "title": "Parser fails parsing WebSocket connection upgrade map block", "user": {"login": "massada", "id": 8666702, "node_id": "MDQ6VXNlcjg2NjY3MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/8666702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/massada", "html_url": "https://github.com/massada", "followers_url": "https://api.github.com/users/massada/followers", "following_url": "https://api.github.com/users/massada/following{/other_user}", "gists_url": "https://api.github.com/users/massada/gists{/gist_id}", "starred_url": "https://api.github.com/users/massada/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/massada/subscriptions", "organizations_url": "https://api.github.com/users/massada/orgs", "repos_url": "https://api.github.com/users/massada/repos", "events_url": "https://api.github.com/users/massada/events{/privacy}", "received_events_url": "https://api.github.com/users/massada/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 146954788, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODg=", "url": "https://api.github.com/repos/certbot/certbot/labels/duplicate", "name": "duplicate", "color": "a6a6a6", "default": true, "description": null}, {"id": 258836706, "node_id": "MDU6TGFiZWwyNTg4MzY3MDY=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20nginx", "name": "area: nginx", "color": "c5def5", "default": false, "description": null}, {"id": 281347824, "node_id": "MDU6TGFiZWwyODEzNDc4MjQ=", "url": "https://api.github.com/repos/certbot/certbot/labels/has%20pr", "name": "has pr", "color": "0052cc", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "ohemorange", "id": 1227205, "node_id": "MDQ6VXNlcjEyMjcyMDU=", "avatar_url": "https://avatars.githubusercontent.com/u/1227205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ohemorange", "html_url": "https://github.com/ohemorange", "followers_url": "https://api.github.com/users/ohemorange/followers", "following_url": "https://api.github.com/users/ohemorange/following{/other_user}", "gists_url": "https://api.github.com/users/ohemorange/gists{/gist_id}", "starred_url": "https://api.github.com/users/ohemorange/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ohemorange/subscriptions", "organizations_url": "https://api.github.com/users/ohemorange/orgs", "repos_url": "https://api.github.com/users/ohemorange/repos", "events_url": "https://api.github.com/users/ohemorange/events{/privacy}", "received_events_url": "https://api.github.com/users/ohemorange/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ohemorange", "id": 1227205, "node_id": "MDQ6VXNlcjEyMjcyMDU=", "avatar_url": "https://avatars.githubusercontent.com/u/1227205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ohemorange", "html_url": "https://github.com/ohemorange", "followers_url": "https://api.github.com/users/ohemorange/followers", "following_url": "https://api.github.com/users/ohemorange/following{/other_user}", "gists_url": "https://api.github.com/users/ohemorange/gists{/gist_id}", "starred_url": "https://api.github.com/users/ohemorange/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ohemorange/subscriptions", "organizations_url": "https://api.github.com/users/ohemorange/orgs", "repos_url": "https://api.github.com/users/ohemorange/repos", "events_url": "https://api.github.com/users/ohemorange/events{/privacy}", "received_events_url": "https://api.github.com/users/ohemorange/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/34", "html_url": "https://github.com/certbot/certbot/milestone/34", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/34/labels", "id": 2359788, "node_id": "MDk6TWlsZXN0b25lMjM1OTc4OA==", "number": 34, "title": "0.13.0", "description": "", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 54, "state": "closed", "created_at": "2017-03-02T21:05:43Z", "updated_at": "2017-04-12T21:50:48Z", "due_on": "2017-04-05T07:00:00Z", "closed_at": "2017-04-12T21:31:15Z"}, "comments": 6, "created_at": "2017-01-26T22:39:25Z", "updated_at": "2017-03-30T22:09:17Z", "closed_at": "2017-03-30T22:09:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "Parser fails when trying to parse the following map block:\r\n\r\n```\r\nmap $http_upgrade $connection_upgrade {\r\n  default upgrade;\r\n  '' close;\r\n}\r\n```\r\n\r\nWith error:\r\n\r\n```\r\nCannot find a VirtualHost matching domain\r\n```\r\n\r\nBy removing the map block the parsing is successfully. As a workaround (in nginx) I moved the WebSocket connection upgrade to a location block and removed the map block.\r\n\r\nI'm running version 0.9.3 on Debian 8 (Jessy).", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/4125/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/4125/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/4105", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/4105/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/4105/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/4105/events", "html_url": "https://github.com/certbot/certbot/issues/4105", "id": 202857599, "node_id": "MDU6SXNzdWUyMDI4NTc1OTk=", "number": 4105, "title": "preferred_challenges isn't stored in renewal conf", "user": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 261409142, "node_id": "MDU6TGFiZWwyNjE0MDkxNDI=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20renewal", "name": "area: renewal", "color": "c5def5", "default": false, "description": null}, {"id": 281347824, "node_id": "MDU6TGFiZWwyODEzNDc4MjQ=", "url": "https://api.github.com/repos/certbot/certbot/labels/has%20pr", "name": "has pr", "color": "0052cc", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/32", "html_url": "https://github.com/certbot/certbot/milestone/32", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/32/labels", "id": 2278222, "node_id": "MDk6TWlsZXN0b25lMjI3ODIyMg==", "number": 32, "title": "0.10.2", "description": "", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 8, "state": "closed", "created_at": "2017-01-25T19:34:09Z", "updated_at": "2017-01-28T19:38:05Z", "due_on": null, "closed_at": "2017-01-28T19:38:05Z"}, "comments": 1, "created_at": "2017-01-24T15:51:41Z", "updated_at": "2017-01-26T02:40:23Z", "closed_at": "2017-01-26T02:40:23Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "This is a problem. If you use `manual` to do the DNS challenge, we'll attempt to do the HTTP challenge when it comes time for renewal.", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/4105/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/4105/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/4096", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/4096/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/4096/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/4096/events", "html_url": "https://github.com/certbot/certbot/issues/4096", "id": 202278374, "node_id": "MDU6SXNzdWUyMDIyNzgzNzQ=", "number": 4096, "title": "`certbot renew` doesn't work when the /etc/letsencrypt/cli.ini file contains a list of domains.", "user": {"login": "audreytoskin", "id": 3881885, "node_id": "MDQ6VXNlcjM4ODE4ODU=", "avatar_url": "https://avatars.githubusercontent.com/u/3881885?v=4", "gravatar_id": "", "url": "https://api.github.com/users/audreytoskin", "html_url": "https://github.com/audreytoskin", "followers_url": "https://api.github.com/users/audreytoskin/followers", "following_url": "https://api.github.com/users/audreytoskin/following{/other_user}", "gists_url": "https://api.github.com/users/audreytoskin/gists{/gist_id}", "starred_url": "https://api.github.com/users/audreytoskin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/audreytoskin/subscriptions", "organizations_url": "https://api.github.com/users/audreytoskin/orgs", "repos_url": "https://api.github.com/users/audreytoskin/repos", "events_url": "https://api.github.com/users/audreytoskin/events{/privacy}", "received_events_url": "https://api.github.com/users/audreytoskin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 261409142, "node_id": "MDU6TGFiZWwyNjE0MDkxNDI=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20renewal", "name": "area: renewal", "color": "c5def5", "default": false, "description": null}, {"id": 272789317, "node_id": "MDU6TGFiZWwyNzI3ODkzMTc=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20error%20handling", "name": "area: error handling", "color": "c5def5", "default": false, "description": null}, {"id": 281347824, "node_id": "MDU6TGFiZWwyODEzNDc4MjQ=", "url": "https://api.github.com/repos/certbot/certbot/labels/has%20pr", "name": "has pr", "color": "0052cc", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/35", "html_url": "https://github.com/certbot/certbot/milestone/35", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/35/labels", "id": 2375335, "node_id": "MDk6TWlsZXN0b25lMjM3NTMzNQ==", "number": 35, "title": "0.14.0", "description": "", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 44, "state": "closed", "created_at": "2017-03-09T18:57:34Z", "updated_at": "2018-02-06T00:50:46Z", "due_on": "2017-05-04T07:00:00Z", "closed_at": "2017-05-05T01:27:47Z"}, "comments": 5, "created_at": "2017-01-21T01:05:39Z", "updated_at": "2017-04-12T22:49:20Z", "closed_at": "2017-04-12T22:48:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "**My system setup:**\r\n\r\n* Fedora 25 Server (64-bit)\r\n* certbot 0.9.3\r\n* openssl 1.0.2j\r\n\r\n**What I did:**\r\n\r\nUsing the `domains` config line, I successfully generated a certificate for all my domains and subdomains at once, but it apparently causes a problem for renewing them. certbot complains that you can't specify individual domains, even though no domains are specified *on the command line*.\r\n\r\n```\r\n\u21aa  sudo certbot renew  --pre-hook \"systemctl stop nginx.service\"  \\\r\n    --post-hook \"systemctl start nginx.service\"\r\nSaving debug log to /var/log/letsencrypt/letsencrypt.log\r\nNo renewals attempted, so not running post-hook\r\nCurrently, the renew verb is only capable of renewing all installed\r\ncertificates that are due to be renewed; individual domains cannot\r\nbe specified with this action. If you would like to renew specific\r\ncertificates, use the certonly command. The renew verb may provide\r\nother options for selecting certificates to renew in the future.\r\n\r\n<exit code 1>\r\n```\r\n\r\nWhen I comment out the `domains` line in `cli.ini`, `certbot renew` behaves as expected.\r\n\r\n```\r\n\u21aa  sudo certbot renew  --pre-hook \"systemctl stop nginx.service\"  \\\r\n    --post-hook \"systemctl start nginx.service\"\r\nSaving debug log to /var/log/letsencrypt/letsencrypt.log\r\n\r\n-----------------------------------------------------------------------\r\nProcessing /etc/letsencrypt/renewal/<MY_DOMAIN>.conf\r\n-----------------------------------------------------------------------\r\nCert not yet due for renewal\r\n\r\nThe following certs are not due for renewal yet:\r\n  /etc/letsencrypt/live/<MY_DOMAIN>/fullchain.pem (skipped)\r\nNo renewals were attempted.\r\nNo renewals attempted, so not running post-hook\r\n```", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/4096/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/4096/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/4053", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/4053/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/4053/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/4053/events", "html_url": "https://github.com/certbot/certbot/pull/4053", "id": 200735315, "node_id": "MDExOlB1bGxSZXF1ZXN0MTAxNTIwNDM5", "number": 4053, "title": "Fix expand certs regression", "user": {"login": "ohemorange", "id": 1227205, "node_id": "MDQ6VXNlcjEyMjcyMDU=", "avatar_url": "https://avatars.githubusercontent.com/u/1227205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ohemorange", "html_url": "https://github.com/ohemorange", "followers_url": "https://api.github.com/users/ohemorange/followers", "following_url": "https://api.github.com/users/ohemorange/following{/other_user}", "gists_url": "https://api.github.com/users/ohemorange/gists{/gist_id}", "starred_url": "https://api.github.com/users/ohemorange/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ohemorange/subscriptions", "organizations_url": "https://api.github.com/users/ohemorange/orgs", "repos_url": "https://api.github.com/users/ohemorange/repos", "events_url": "https://api.github.com/users/ohemorange/events{/privacy}", "received_events_url": "https://api.github.com/users/ohemorange/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/29", "html_url": "https://github.com/certbot/certbot/milestone/29", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/29/labels", "id": 2248847, "node_id": "MDk6TWlsZXN0b25lMjI0ODg0Nw==", "number": 29, "title": "0.10.1", "description": "Test bug fixes", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 8, "state": "closed", "created_at": "2017-01-13T00:36:36Z", "updated_at": "2017-01-24T22:38:40Z", "due_on": "2017-01-13T08:00:00Z", "closed_at": "2017-01-14T16:36:26Z"}, "comments": 2, "created_at": "2017-01-13T21:29:59Z", "updated_at": "2017-01-13T23:23:10Z", "closed_at": "2017-01-13T23:23:10Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/certbot/certbot/pulls/4053", "html_url": "https://github.com/certbot/certbot/pull/4053", "diff_url": "https://github.com/certbot/certbot/pull/4053.diff", "patch_url": "https://github.com/certbot/certbot/pull/4053.patch", "merged_at": "2017-01-13T23:23:10Z"}, "body": "Fixes #4052.", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/4053/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/4053/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/certbot/certbot/issues/4052", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/4052/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/4052/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/4052/events", "html_url": "https://github.com/certbot/certbot/issues/4052", "id": 200727278, "node_id": "MDU6SXNzdWUyMDA3MjcyNzg=", "number": 4052, "title": "Expand ignores new domains", "user": {"login": "pfigel", "id": 277794, "node_id": "MDQ6VXNlcjI3Nzc5NA==", "avatar_url": "https://avatars.githubusercontent.com/u/277794?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pfigel", "html_url": "https://github.com/pfigel", "followers_url": "https://api.github.com/users/pfigel/followers", "following_url": "https://api.github.com/users/pfigel/following{/other_user}", "gists_url": "https://api.github.com/users/pfigel/gists{/gist_id}", "starred_url": "https://api.github.com/users/pfigel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pfigel/subscriptions", "organizations_url": "https://api.github.com/users/pfigel/orgs", "repos_url": "https://api.github.com/users/pfigel/repos", "events_url": "https://api.github.com/users/pfigel/events{/privacy}", "received_events_url": "https://api.github.com/users/pfigel/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "ohemorange", "id": 1227205, "node_id": "MDQ6VXNlcjEyMjcyMDU=", "avatar_url": "https://avatars.githubusercontent.com/u/1227205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ohemorange", "html_url": "https://github.com/ohemorange", "followers_url": "https://api.github.com/users/ohemorange/followers", "following_url": "https://api.github.com/users/ohemorange/following{/other_user}", "gists_url": "https://api.github.com/users/ohemorange/gists{/gist_id}", "starred_url": "https://api.github.com/users/ohemorange/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ohemorange/subscriptions", "organizations_url": "https://api.github.com/users/ohemorange/orgs", "repos_url": "https://api.github.com/users/ohemorange/repos", "events_url": "https://api.github.com/users/ohemorange/events{/privacy}", "received_events_url": "https://api.github.com/users/ohemorange/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ohemorange", "id": 1227205, "node_id": "MDQ6VXNlcjEyMjcyMDU=", "avatar_url": "https://avatars.githubusercontent.com/u/1227205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ohemorange", "html_url": "https://github.com/ohemorange", "followers_url": "https://api.github.com/users/ohemorange/followers", "following_url": "https://api.github.com/users/ohemorange/following{/other_user}", "gists_url": "https://api.github.com/users/ohemorange/gists{/gist_id}", "starred_url": "https://api.github.com/users/ohemorange/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ohemorange/subscriptions", "organizations_url": "https://api.github.com/users/ohemorange/orgs", "repos_url": "https://api.github.com/users/ohemorange/repos", "events_url": "https://api.github.com/users/ohemorange/events{/privacy}", "received_events_url": "https://api.github.com/users/ohemorange/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/29", "html_url": "https://github.com/certbot/certbot/milestone/29", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/29/labels", "id": 2248847, "node_id": "MDk6TWlsZXN0b25lMjI0ODg0Nw==", "number": 29, "title": "0.10.1", "description": "Test bug fixes", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 8, "state": "closed", "created_at": "2017-01-13T00:36:36Z", "updated_at": "2017-01-24T22:38:40Z", "due_on": "2017-01-13T08:00:00Z", "closed_at": "2017-01-14T16:36:26Z"}, "comments": 3, "created_at": "2017-01-13T20:48:38Z", "updated_at": "2017-09-26T00:39:05Z", "closed_at": "2017-01-13T23:23:10Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "A number of users on the community forum reported that they were having difficulties while trying to expand existing certificates. I was able to reproduce on a clean Ubuntu 16.04 installation, using `certbot` 0.10.0. I tested standalone and apache, so it's probably not plugin-specific.\r\n\r\nCommands to reproduce, including output:\r\n```\r\nroot@debug:~# ./certbot-auto certonly --standalone -d 1.debug.le.pf.vc -d 2.debug.le.pf.vc --staging --register-unsafely-without-email\r\nObtaining a new certificate\r\nPerforming the following challenges:\r\ntls-sni-01 challenge for 1.debug.le.pf.vc\r\ntls-sni-01 challenge for 2.debug.le.pf.vc\r\nWaiting for verification...\r\nCleaning up challenges\r\nGenerating key (2048 bits): /etc/letsencrypt/keys/0000_key-certbot.pem\r\nCreating CSR: /etc/letsencrypt/csr/0000_csr-certbot.pem\r\n\r\nIMPORTANT NOTES:\r\n - Congratulations! Your certificate and chain have been saved at\r\n   /etc/letsencrypt/live/1.debug.le.pf.vc/fullchain.pem. Your cert\r\n   will expire on 2017-04-13. To obtain a new or tweaked version of\r\n   this certificate in the future, simply run certbot-auto again. To\r\n   non-interactively renew *all* of your certificates, run\r\n   \"certbot-auto renew\"\r\n - Your account credentials have been saved in your Certbot\r\n   configuration directory at /etc/letsencrypt. You should make a\r\n   secure backup of this folder now. This configuration directory will\r\n   also contain certificates and private keys obtained by Certbot so\r\n   making regular backups of this folder is ideal.\r\n\r\nroot@debug:~# ./certbot-auto certonly --standalone -d 1.debug.le.pf.vc -d 2.debug.le.pf.vc -d 3.debug.le.pf.vc --staging --register-unsafely-without-email\r\nSaving debug log to /var/log/letsencrypt/letsencrypt.log\r\n\r\n-------------------------------------------------------------------------------\r\nYou have an existing certificate that contains a portion of the domains you\r\nrequested (ref: /etc/letsencrypt/renewal/1.debug.le.pf.vc.conf)\r\n\r\nIt contains these names: 1.debug.le.pf.vc, 2.debug.le.pf.vc\r\n\r\nYou requested these names for the new certificate: 1.debug.le.pf.vc,\r\n2.debug.le.pf.vc, 3.debug.le.pf.vc.\r\n\r\nDo you want to expand and replace this existing certificate with the new\r\ncertificate?\r\n-------------------------------------------------------------------------------\r\n(E)xpand/(C)ancel: e\r\nRenewing an existing certificate\r\nPerforming the following challenges:\r\ntls-sni-01 challenge for 1.debug.le.pf.vc\r\ntls-sni-01 challenge for 2.debug.le.pf.vc\r\nWaiting for verification...\r\nCleaning up challenges\r\nGenerating key (2048 bits): /etc/letsencrypt/keys/0001_key-certbot.pem\r\nCreating CSR: /etc/letsencrypt/csr/0001_csr-certbot.pem\r\n\r\nIMPORTANT NOTES:\r\n - Congratulations! Your certificate and chain have been saved at\r\n   /etc/letsencrypt/live/1.debug.le.pf.vc/fullchain.pem. Your cert\r\n   will expire on 2017-04-13. To obtain a new or tweaked version of\r\n   this certificate in the future, simply run certbot-auto again. To\r\n   non-interactively renew *all* of your certificates, run\r\n   \"certbot-auto renew\"\r\n\r\nroot@debug:~# openssl x509 -text -noout -in /etc/letsencrypt/live/1.debug.le.pf.vc/cert.pem | grep DNS\r\n                DNS:1.debug.le.pf.vc, DNS:2.debug.le.pf.vc\r\n```\r\n\r\nOriginal reports:\r\nhttps://community.letsencrypt.org/t/expands-not-working-on-pre-existing-cert-requests/25605?u=pfg\r\nhttps://community.letsencrypt.org/t/workaround-for-5-domain-limit/25651?u=pfg", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/4052/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/4052/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/4013", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/4013/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/4013/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/4013/events", "html_url": "https://github.com/certbot/certbot/issues/4013", "id": 199961071, "node_id": "MDU6SXNzdWUxOTk5NjEwNzE=", "number": 4013, "title": "`cert_manager.lineage_for_certname` doesn't properly reconstitute based on `renewalparams`", "user": {"login": "ohemorange", "id": 1227205, "node_id": "MDQ6VXNlcjEyMjcyMDU=", "avatar_url": "https://avatars.githubusercontent.com/u/1227205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ohemorange", "html_url": "https://github.com/ohemorange", "followers_url": "https://api.github.com/users/ohemorange/followers", "following_url": "https://api.github.com/users/ohemorange/following{/other_user}", "gists_url": "https://api.github.com/users/ohemorange/gists{/gist_id}", "starred_url": "https://api.github.com/users/ohemorange/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ohemorange/subscriptions", "organizations_url": "https://api.github.com/users/ohemorange/orgs", "repos_url": "https://api.github.com/users/ohemorange/repos", "events_url": "https://api.github.com/users/ohemorange/events{/privacy}", "received_events_url": "https://api.github.com/users/ohemorange/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "ohemorange", "id": 1227205, "node_id": "MDQ6VXNlcjEyMjcyMDU=", "avatar_url": "https://avatars.githubusercontent.com/u/1227205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ohemorange", "html_url": "https://github.com/ohemorange", "followers_url": "https://api.github.com/users/ohemorange/followers", "following_url": "https://api.github.com/users/ohemorange/following{/other_user}", "gists_url": "https://api.github.com/users/ohemorange/gists{/gist_id}", "starred_url": "https://api.github.com/users/ohemorange/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ohemorange/subscriptions", "organizations_url": "https://api.github.com/users/ohemorange/orgs", "repos_url": "https://api.github.com/users/ohemorange/repos", "events_url": "https://api.github.com/users/ohemorange/events{/privacy}", "received_events_url": "https://api.github.com/users/ohemorange/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ohemorange", "id": 1227205, "node_id": "MDQ6VXNlcjEyMjcyMDU=", "avatar_url": "https://avatars.githubusercontent.com/u/1227205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ohemorange", "html_url": "https://github.com/ohemorange", "followers_url": "https://api.github.com/users/ohemorange/followers", "following_url": "https://api.github.com/users/ohemorange/following{/other_user}", "gists_url": "https://api.github.com/users/ohemorange/gists{/gist_id}", "starred_url": "https://api.github.com/users/ohemorange/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ohemorange/subscriptions", "organizations_url": "https://api.github.com/users/ohemorange/orgs", "repos_url": "https://api.github.com/users/ohemorange/repos", "events_url": "https://api.github.com/users/ohemorange/events{/privacy}", "received_events_url": "https://api.github.com/users/ohemorange/received_events", "type": "User", "site_admin": false}, {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/35", "html_url": "https://github.com/certbot/certbot/milestone/35", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/35/labels", "id": 2375335, "node_id": "MDk6TWlsZXN0b25lMjM3NTMzNQ==", "number": 35, "title": "0.14.0", "description": "", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 44, "state": "closed", "created_at": "2017-03-09T18:57:34Z", "updated_at": "2018-02-06T00:50:46Z", "due_on": "2017-05-04T07:00:00Z", "closed_at": "2017-05-05T01:27:47Z"}, "comments": 5, "created_at": "2017-01-10T23:16:53Z", "updated_at": "2017-03-28T22:02:37Z", "closed_at": "2017-03-28T22:02:37Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Saw this with `server` -- it's not grabbing the staging server.", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/4013/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/4013/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/4005", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/4005/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/4005/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/4005/events", "html_url": "https://github.com/certbot/certbot/issues/4005", "id": 199696458, "node_id": "MDU6SXNzdWUxOTk2OTY0NTg=", "number": 4005, "title": "Track down rsa key size heisenbug", "user": {"login": "ohemorange", "id": 1227205, "node_id": "MDQ6VXNlcjEyMjcyMDU=", "avatar_url": "https://avatars.githubusercontent.com/u/1227205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ohemorange", "html_url": "https://github.com/ohemorange", "followers_url": "https://api.github.com/users/ohemorange/followers", "following_url": "https://api.github.com/users/ohemorange/following{/other_user}", "gists_url": "https://api.github.com/users/ohemorange/gists{/gist_id}", "starred_url": "https://api.github.com/users/ohemorange/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ohemorange/subscriptions", "organizations_url": "https://api.github.com/users/ohemorange/orgs", "repos_url": "https://api.github.com/users/ohemorange/repos", "events_url": "https://api.github.com/users/ohemorange/events{/privacy}", "received_events_url": "https://api.github.com/users/ohemorange/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 263357278, "node_id": "MDU6TGFiZWwyNjMzNTcyNzg=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20testing", "name": "area: testing", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-01-09T23:55:54Z", "updated_at": "2019-01-04T00:19:01Z", "closed_at": "2019-01-04T00:19:01Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "```\r\nFAIL: Test that relevant_values() can reject a default value.\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"/home/travis/build/certbot/certbot/certbot/tests/storage_test.py\", line 566, in test_relevant_values_default\r\n    self.assertEqual(self._test_relevant_values_common(values), {})\r\nAssertionError: {'rsa_key_size': 2048} != {}\r\n- {'rsa_key_size': 2048}\r\n+ {}\r\n```\r\n\r\nShowed up in py33 test here: https://travis-ci.org/certbot/certbot/jobs/190406373", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/4005/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/4005/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/4003", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/4003/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/4003/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/4003/events", "html_url": "https://github.com/certbot/certbot/pull/4003", "id": 199662975, "node_id": "MDExOlB1bGxSZXF1ZXN0MTAwNzYxMzE2", "number": 4003, "title": "Break on failure to deploy cert", "user": {"login": "ohemorange", "id": 1227205, "node_id": "MDQ6VXNlcjEyMjcyMDU=", "avatar_url": "https://avatars.githubusercontent.com/u/1227205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ohemorange", "html_url": "https://github.com/ohemorange", "followers_url": "https://api.github.com/users/ohemorange/followers", "following_url": "https://api.github.com/users/ohemorange/following{/other_user}", "gists_url": "https://api.github.com/users/ohemorange/gists{/gist_id}", "starred_url": "https://api.github.com/users/ohemorange/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ohemorange/subscriptions", "organizations_url": "https://api.github.com/users/ohemorange/orgs", "repos_url": "https://api.github.com/users/ohemorange/repos", "events_url": "https://api.github.com/users/ohemorange/events{/privacy}", "received_events_url": "https://api.github.com/users/ohemorange/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 258836706, "node_id": "MDU6TGFiZWwyNTg4MzY3MDY=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20nginx", "name": "area: nginx", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "pde", "id": 479213, "node_id": "MDQ6VXNlcjQ3OTIxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/479213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pde", "html_url": "https://github.com/pde", "followers_url": "https://api.github.com/users/pde/followers", "following_url": "https://api.github.com/users/pde/following{/other_user}", "gists_url": "https://api.github.com/users/pde/gists{/gist_id}", "starred_url": "https://api.github.com/users/pde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pde/subscriptions", "organizations_url": "https://api.github.com/users/pde/orgs", "repos_url": "https://api.github.com/users/pde/repos", "events_url": "https://api.github.com/users/pde/events{/privacy}", "received_events_url": "https://api.github.com/users/pde/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "pde", "id": 479213, "node_id": "MDQ6VXNlcjQ3OTIxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/479213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pde", "html_url": "https://github.com/pde", "followers_url": "https://api.github.com/users/pde/followers", "following_url": "https://api.github.com/users/pde/following{/other_user}", "gists_url": "https://api.github.com/users/pde/gists{/gist_id}", "starred_url": "https://api.github.com/users/pde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pde/subscriptions", "organizations_url": "https://api.github.com/users/pde/orgs", "repos_url": "https://api.github.com/users/pde/repos", "events_url": "https://api.github.com/users/pde/events{/privacy}", "received_events_url": "https://api.github.com/users/pde/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/24", "html_url": "https://github.com/certbot/certbot/milestone/24", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/24/labels", "id": 1868831, "node_id": "MDk6TWlsZXN0b25lMTg2ODgzMQ==", "number": 24, "title": "0.10.0", "description": "Cert management, script plugin, Nginx bugfixes", "creator": {"login": "pde", "id": 479213, "node_id": "MDQ6VXNlcjQ3OTIxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/479213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pde", "html_url": "https://github.com/pde", "followers_url": "https://api.github.com/users/pde/followers", "following_url": "https://api.github.com/users/pde/following{/other_user}", "gists_url": "https://api.github.com/users/pde/gists{/gist_id}", "starred_url": "https://api.github.com/users/pde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pde/subscriptions", "organizations_url": "https://api.github.com/users/pde/orgs", "repos_url": "https://api.github.com/users/pde/repos", "events_url": "https://api.github.com/users/pde/events{/privacy}", "received_events_url": "https://api.github.com/users/pde/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 144, "state": "closed", "created_at": "2016-07-06T23:58:42Z", "updated_at": "2017-04-13T22:08:16Z", "due_on": "2017-01-04T08:00:00Z", "closed_at": "2017-01-12T00:32:36Z"}, "comments": 15, "created_at": "2017-01-09T21:10:43Z", "updated_at": "2017-01-11T01:27:10Z", "closed_at": "2017-01-11T01:27:10Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/certbot/certbot/pulls/4003", "html_url": "https://github.com/certbot/certbot/pull/4003", "diff_url": "https://github.com/certbot/certbot/pull/4003.diff", "patch_url": "https://github.com/certbot/certbot/pull/4003.patch", "merged_at": "2017-01-11T01:27:10Z"}, "body": "Fixes #4002.", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/4003/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/4003/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/certbot/certbot/issues/4002", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/4002/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/4002/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/4002/events", "html_url": "https://github.com/certbot/certbot/issues/4002", "id": 199656914, "node_id": "MDU6SXNzdWUxOTk2NTY5MTQ=", "number": 4002, "title": "Incorrect success condition in nginx", "user": {"login": "ohemorange", "id": 1227205, "node_id": "MDQ6VXNlcjEyMjcyMDU=", "avatar_url": "https://avatars.githubusercontent.com/u/1227205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ohemorange", "html_url": "https://github.com/ohemorange", "followers_url": "https://api.github.com/users/ohemorange/followers", "following_url": "https://api.github.com/users/ohemorange/following{/other_user}", "gists_url": "https://api.github.com/users/ohemorange/gists{/gist_id}", "starred_url": "https://api.github.com/users/ohemorange/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ohemorange/subscriptions", "organizations_url": "https://api.github.com/users/ohemorange/orgs", "repos_url": "https://api.github.com/users/ohemorange/repos", "events_url": "https://api.github.com/users/ohemorange/events{/privacy}", "received_events_url": "https://api.github.com/users/ohemorange/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 258836706, "node_id": "MDU6TGFiZWwyNTg4MzY3MDY=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20nginx", "name": "area: nginx", "color": "c5def5", "default": false, "description": null}, {"id": 281347824, "node_id": "MDU6TGFiZWwyODEzNDc4MjQ=", "url": "https://api.github.com/repos/certbot/certbot/labels/has%20pr", "name": "has pr", "color": "0052cc", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "ohemorange", "id": 1227205, "node_id": "MDQ6VXNlcjEyMjcyMDU=", "avatar_url": "https://avatars.githubusercontent.com/u/1227205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ohemorange", "html_url": "https://github.com/ohemorange", "followers_url": "https://api.github.com/users/ohemorange/followers", "following_url": "https://api.github.com/users/ohemorange/following{/other_user}", "gists_url": "https://api.github.com/users/ohemorange/gists{/gist_id}", "starred_url": "https://api.github.com/users/ohemorange/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ohemorange/subscriptions", "organizations_url": "https://api.github.com/users/ohemorange/orgs", "repos_url": "https://api.github.com/users/ohemorange/repos", "events_url": "https://api.github.com/users/ohemorange/events{/privacy}", "received_events_url": "https://api.github.com/users/ohemorange/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ohemorange", "id": 1227205, "node_id": "MDQ6VXNlcjEyMjcyMDU=", "avatar_url": "https://avatars.githubusercontent.com/u/1227205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ohemorange", "html_url": "https://github.com/ohemorange", "followers_url": "https://api.github.com/users/ohemorange/followers", "following_url": "https://api.github.com/users/ohemorange/following{/other_user}", "gists_url": "https://api.github.com/users/ohemorange/gists{/gist_id}", "starred_url": "https://api.github.com/users/ohemorange/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ohemorange/subscriptions", "organizations_url": "https://api.github.com/users/ohemorange/orgs", "repos_url": "https://api.github.com/users/ohemorange/repos", "events_url": "https://api.github.com/users/ohemorange/events{/privacy}", "received_events_url": "https://api.github.com/users/ohemorange/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/24", "html_url": "https://github.com/certbot/certbot/milestone/24", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/24/labels", "id": 1868831, "node_id": "MDk6TWlsZXN0b25lMTg2ODgzMQ==", "number": 24, "title": "0.10.0", "description": "Cert management, script plugin, Nginx bugfixes", "creator": {"login": "pde", "id": 479213, "node_id": "MDQ6VXNlcjQ3OTIxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/479213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pde", "html_url": "https://github.com/pde", "followers_url": "https://api.github.com/users/pde/followers", "following_url": "https://api.github.com/users/pde/following{/other_user}", "gists_url": "https://api.github.com/users/pde/gists{/gist_id}", "starred_url": "https://api.github.com/users/pde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pde/subscriptions", "organizations_url": "https://api.github.com/users/pde/orgs", "repos_url": "https://api.github.com/users/pde/repos", "events_url": "https://api.github.com/users/pde/events{/privacy}", "received_events_url": "https://api.github.com/users/pde/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 144, "state": "closed", "created_at": "2016-07-06T23:58:42Z", "updated_at": "2017-04-13T22:08:16Z", "due_on": "2017-01-04T08:00:00Z", "closed_at": "2017-01-12T00:32:36Z"}, "comments": 1, "created_at": "2017-01-09T20:44:44Z", "updated_at": "2017-01-11T01:27:10Z", "closed_at": "2017-01-11T01:27:10Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "`Cannot find a cert or key directive in /etc/nginx/sites-enabled/site.conf for set(['sitecom']). VirtualHost was not modified.`\r\n\r\nAfter getting this message, we still ask about Easy or Secure, and then print a success message. That is incorrect.\r\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/4002/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/4002/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/4000", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/4000/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/4000/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/4000/events", "html_url": "https://github.com/certbot/certbot/issues/4000", "id": 199648789, "node_id": "MDU6SXNzdWUxOTk2NDg3ODk=", "number": 4000, "title": "running certbot turns valid-but-useless config into invalid config and fails to install when it probably can", "user": {"login": "ohemorange", "id": 1227205, "node_id": "MDQ6VXNlcjEyMjcyMDU=", "avatar_url": "https://avatars.githubusercontent.com/u/1227205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ohemorange", "html_url": "https://github.com/ohemorange", "followers_url": "https://api.github.com/users/ohemorange/followers", "following_url": "https://api.github.com/users/ohemorange/following{/other_user}", "gists_url": "https://api.github.com/users/ohemorange/gists{/gist_id}", "starred_url": "https://api.github.com/users/ohemorange/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ohemorange/subscriptions", "organizations_url": "https://api.github.com/users/ohemorange/orgs", "repos_url": "https://api.github.com/users/ohemorange/repos", "events_url": "https://api.github.com/users/ohemorange/events{/privacy}", "received_events_url": "https://api.github.com/users/ohemorange/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 258836706, "node_id": "MDU6TGFiZWwyNTg4MzY3MDY=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20nginx", "name": "area: nginx", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "ohemorange", "id": 1227205, "node_id": "MDQ6VXNlcjEyMjcyMDU=", "avatar_url": "https://avatars.githubusercontent.com/u/1227205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ohemorange", "html_url": "https://github.com/ohemorange", "followers_url": "https://api.github.com/users/ohemorange/followers", "following_url": "https://api.github.com/users/ohemorange/following{/other_user}", "gists_url": "https://api.github.com/users/ohemorange/gists{/gist_id}", "starred_url": "https://api.github.com/users/ohemorange/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ohemorange/subscriptions", "organizations_url": "https://api.github.com/users/ohemorange/orgs", "repos_url": "https://api.github.com/users/ohemorange/repos", "events_url": "https://api.github.com/users/ohemorange/events{/privacy}", "received_events_url": "https://api.github.com/users/ohemorange/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ohemorange", "id": 1227205, "node_id": "MDQ6VXNlcjEyMjcyMDU=", "avatar_url": "https://avatars.githubusercontent.com/u/1227205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ohemorange", "html_url": "https://github.com/ohemorange", "followers_url": "https://api.github.com/users/ohemorange/followers", "following_url": "https://api.github.com/users/ohemorange/following{/other_user}", "gists_url": "https://api.github.com/users/ohemorange/gists{/gist_id}", "starred_url": "https://api.github.com/users/ohemorange/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ohemorange/subscriptions", "organizations_url": "https://api.github.com/users/ohemorange/orgs", "repos_url": "https://api.github.com/users/ohemorange/repos", "events_url": "https://api.github.com/users/ohemorange/events{/privacy}", "received_events_url": "https://api.github.com/users/ohemorange/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2017-01-09T20:06:37Z", "updated_at": "2017-03-01T21:49:35Z", "closed_at": "2017-02-18T01:45:37Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "```\r\nserver {\r\n\tlisten 443 ssl;\r\n\tserver_name existing.com;\r\n\tssl_certificate...\r\n}\r\n\r\nserver {\r\n\tlisten 443;\r\n\tserver_name new.com;\r\n\r\n\tlisten 443 ssl; # managed by Certbot\r\n\tssl_certificate... # managed by Certbot\r\n}\r\n\r\nserver {\r\n\tlisten 80;\r\n\tserver_name *.com;\r\n}\r\n```", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/4000/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/4000/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/3999", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/3999/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/3999/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/3999/events", "html_url": "https://github.com/certbot/certbot/issues/3999", "id": 199646109, "node_id": "MDU6SXNzdWUxOTk2NDYxMDk=", "number": 3999, "title": "Remove extra character in help output", "user": {"login": "ohemorange", "id": 1227205, "node_id": "MDQ6VXNlcjEyMjcyMDU=", "avatar_url": "https://avatars.githubusercontent.com/u/1227205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ohemorange", "html_url": "https://github.com/ohemorange", "followers_url": "https://api.github.com/users/ohemorange/followers", "following_url": "https://api.github.com/users/ohemorange/following{/other_user}", "gists_url": "https://api.github.com/users/ohemorange/gists{/gist_id}", "starred_url": "https://api.github.com/users/ohemorange/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ohemorange/subscriptions", "organizations_url": "https://api.github.com/users/ohemorange/orgs", "repos_url": "https://api.github.com/users/ohemorange/repos", "events_url": "https://api.github.com/users/ohemorange/events{/privacy}", "received_events_url": "https://api.github.com/users/ohemorange/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 276239890, "node_id": "MDU6TGFiZWwyNzYyMzk4OTA=", "url": "https://api.github.com/repos/certbot/certbot/labels/easy-fix", "name": "easy-fix", "color": "207de5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 8, "created_at": "2017-01-09T19:54:34Z", "updated_at": "2017-01-11T20:39:36Z", "closed_at": "2017-01-11T05:46:39Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/3999/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/3999/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/3998", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/3998/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/3998/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/3998/events", "html_url": "https://github.com/certbot/certbot/issues/3998", "id": 199644800, "node_id": "MDU6SXNzdWUxOTk2NDQ4MDA=", "number": 3998, "title": "cerbot rename should rename all relevant files", "user": {"login": "ohemorange", "id": 1227205, "node_id": "MDQ6VXNlcjEyMjcyMDU=", "avatar_url": "https://avatars.githubusercontent.com/u/1227205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ohemorange", "html_url": "https://github.com/ohemorange", "followers_url": "https://api.github.com/users/ohemorange/followers", "following_url": "https://api.github.com/users/ohemorange/following{/other_user}", "gists_url": "https://api.github.com/users/ohemorange/gists{/gist_id}", "starred_url": "https://api.github.com/users/ohemorange/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ohemorange/subscriptions", "organizations_url": "https://api.github.com/users/ohemorange/orgs", "repos_url": "https://api.github.com/users/ohemorange/repos", "events_url": "https://api.github.com/users/ohemorange/events{/privacy}", "received_events_url": "https://api.github.com/users/ohemorange/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "ohemorange", "id": 1227205, "node_id": "MDQ6VXNlcjEyMjcyMDU=", "avatar_url": "https://avatars.githubusercontent.com/u/1227205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ohemorange", "html_url": "https://github.com/ohemorange", "followers_url": "https://api.github.com/users/ohemorange/followers", "following_url": "https://api.github.com/users/ohemorange/following{/other_user}", "gists_url": "https://api.github.com/users/ohemorange/gists{/gist_id}", "starred_url": "https://api.github.com/users/ohemorange/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ohemorange/subscriptions", "organizations_url": "https://api.github.com/users/ohemorange/orgs", "repos_url": "https://api.github.com/users/ohemorange/repos", "events_url": "https://api.github.com/users/ohemorange/events{/privacy}", "received_events_url": "https://api.github.com/users/ohemorange/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ohemorange", "id": 1227205, "node_id": "MDQ6VXNlcjEyMjcyMDU=", "avatar_url": "https://avatars.githubusercontent.com/u/1227205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ohemorange", "html_url": "https://github.com/ohemorange", "followers_url": "https://api.github.com/users/ohemorange/followers", "following_url": "https://api.github.com/users/ohemorange/following{/other_user}", "gists_url": "https://api.github.com/users/ohemorange/gists{/gist_id}", "starred_url": "https://api.github.com/users/ohemorange/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ohemorange/subscriptions", "organizations_url": "https://api.github.com/users/ohemorange/orgs", "repos_url": "https://api.github.com/users/ohemorange/repos", "events_url": "https://api.github.com/users/ohemorange/events{/privacy}", "received_events_url": "https://api.github.com/users/ohemorange/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/5", "html_url": "https://github.com/certbot/certbot/milestone/5", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/5/labels", "id": 1134473, "node_id": "MDk6TWlsZXN0b25lMTEzNDQ3Mw==", "number": 5, "title": "Wishlist", "description": "", "creator": {"login": "pde", "id": 479213, "node_id": "MDQ6VXNlcjQ3OTIxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/479213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pde", "html_url": "https://github.com/pde", "followers_url": "https://api.github.com/users/pde/followers", "following_url": "https://api.github.com/users/pde/following{/other_user}", "gists_url": "https://api.github.com/users/pde/gists{/gist_id}", "starred_url": "https://api.github.com/users/pde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pde/subscriptions", "organizations_url": "https://api.github.com/users/pde/orgs", "repos_url": "https://api.github.com/users/pde/repos", "events_url": "https://api.github.com/users/pde/events{/privacy}", "received_events_url": "https://api.github.com/users/pde/received_events", "type": "User", "site_admin": false}, "open_issues": 96, "closed_issues": 202, "state": "open", "created_at": "2015-05-26T17:47:38Z", "updated_at": "2023-04-17T19:55:31Z", "due_on": null, "closed_at": null}, "comments": 5, "created_at": "2017-01-09T19:49:10Z", "updated_at": "2020-04-23T18:27:22Z", "closed_at": "2020-04-23T18:27:21Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/3998/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/3998/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/3997", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/3997/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/3997/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/3997/events", "html_url": "https://github.com/certbot/certbot/issues/3997", "id": 199644704, "node_id": "MDU6SXNzdWUxOTk2NDQ3MDQ=", "number": 3997, "title": "certbot run --> reinstall ignores installer in renewal conf file", "user": {"login": "ohemorange", "id": 1227205, "node_id": "MDQ6VXNlcjEyMjcyMDU=", "avatar_url": "https://avatars.githubusercontent.com/u/1227205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ohemorange", "html_url": "https://github.com/ohemorange", "followers_url": "https://api.github.com/users/ohemorange/followers", "following_url": "https://api.github.com/users/ohemorange/following{/other_user}", "gists_url": "https://api.github.com/users/ohemorange/gists{/gist_id}", "starred_url": "https://api.github.com/users/ohemorange/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ohemorange/subscriptions", "organizations_url": "https://api.github.com/users/ohemorange/orgs", "repos_url": "https://api.github.com/users/ohemorange/repos", "events_url": "https://api.github.com/users/ohemorange/events{/privacy}", "received_events_url": "https://api.github.com/users/ohemorange/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "pde", "id": 479213, "node_id": "MDQ6VXNlcjQ3OTIxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/479213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pde", "html_url": "https://github.com/pde", "followers_url": "https://api.github.com/users/pde/followers", "following_url": "https://api.github.com/users/pde/following{/other_user}", "gists_url": "https://api.github.com/users/pde/gists{/gist_id}", "starred_url": "https://api.github.com/users/pde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pde/subscriptions", "organizations_url": "https://api.github.com/users/pde/orgs", "repos_url": "https://api.github.com/users/pde/repos", "events_url": "https://api.github.com/users/pde/events{/privacy}", "received_events_url": "https://api.github.com/users/pde/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "pde", "id": 479213, "node_id": "MDQ6VXNlcjQ3OTIxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/479213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pde", "html_url": "https://github.com/pde", "followers_url": "https://api.github.com/users/pde/followers", "following_url": "https://api.github.com/users/pde/following{/other_user}", "gists_url": "https://api.github.com/users/pde/gists{/gist_id}", "starred_url": "https://api.github.com/users/pde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pde/subscriptions", "organizations_url": "https://api.github.com/users/pde/orgs", "repos_url": "https://api.github.com/users/pde/repos", "events_url": "https://api.github.com/users/pde/events{/privacy}", "received_events_url": "https://api.github.com/users/pde/received_events", "type": "User", "site_admin": false}, {"login": "schoen", "id": 1750103, "node_id": "MDQ6VXNlcjE3NTAxMDM=", "avatar_url": "https://avatars.githubusercontent.com/u/1750103?v=4", "gravatar_id": "", "url": "https://api.github.com/users/schoen", "html_url": "https://github.com/schoen", "followers_url": "https://api.github.com/users/schoen/followers", "following_url": "https://api.github.com/users/schoen/following{/other_user}", "gists_url": "https://api.github.com/users/schoen/gists{/gist_id}", "starred_url": "https://api.github.com/users/schoen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/schoen/subscriptions", "organizations_url": "https://api.github.com/users/schoen/orgs", "repos_url": "https://api.github.com/users/schoen/repos", "events_url": "https://api.github.com/users/schoen/events{/privacy}", "received_events_url": "https://api.github.com/users/schoen/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/34", "html_url": "https://github.com/certbot/certbot/milestone/34", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/34/labels", "id": 2359788, "node_id": "MDk6TWlsZXN0b25lMjM1OTc4OA==", "number": 34, "title": "0.13.0", "description": "", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 54, "state": "closed", "created_at": "2017-03-02T21:05:43Z", "updated_at": "2017-04-12T21:50:48Z", "due_on": "2017-04-05T07:00:00Z", "closed_at": "2017-04-12T21:31:15Z"}, "comments": 0, "created_at": "2017-01-09T19:48:44Z", "updated_at": "2017-03-28T22:04:02Z", "closed_at": "2017-03-28T22:04:02Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/3997/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/3997/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/3996", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/3996/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/3996/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/3996/events", "html_url": "https://github.com/certbot/certbot/issues/3996", "id": 199644543, "node_id": "MDU6SXNzdWUxOTk2NDQ1NDM=", "number": 3996, "title": "certbot delete and rename evoke IDisplay bug", "user": {"login": "ohemorange", "id": 1227205, "node_id": "MDQ6VXNlcjEyMjcyMDU=", "avatar_url": "https://avatars.githubusercontent.com/u/1227205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ohemorange", "html_url": "https://github.com/ohemorange", "followers_url": "https://api.github.com/users/ohemorange/followers", "following_url": "https://api.github.com/users/ohemorange/following{/other_user}", "gists_url": "https://api.github.com/users/ohemorange/gists{/gist_id}", "starred_url": "https://api.github.com/users/ohemorange/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ohemorange/subscriptions", "organizations_url": "https://api.github.com/users/ohemorange/orgs", "repos_url": "https://api.github.com/users/ohemorange/repos", "events_url": "https://api.github.com/users/ohemorange/events{/privacy}", "received_events_url": "https://api.github.com/users/ohemorange/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 281347824, "node_id": "MDU6TGFiZWwyODEzNDc4MjQ=", "url": "https://api.github.com/repos/certbot/certbot/labels/has%20pr", "name": "has pr", "color": "0052cc", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2017-01-09T19:48:07Z", "updated_at": "2017-01-26T19:12:57Z", "closed_at": "2017-01-11T00:25:33Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/3996/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/3996/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/3954", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/3954/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/3954/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/3954/events", "html_url": "https://github.com/certbot/certbot/issues/3954", "id": 197301838, "node_id": "MDU6SXNzdWUxOTczMDE4Mzg=", "number": 3954, "title": "`-n` doesn't like `force_interactive`?", "user": {"login": "pde", "id": 479213, "node_id": "MDQ6VXNlcjQ3OTIxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/479213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pde", "html_url": "https://github.com/pde", "followers_url": "https://api.github.com/users/pde/followers", "following_url": "https://api.github.com/users/pde/following{/other_user}", "gists_url": "https://api.github.com/users/pde/gists{/gist_id}", "starred_url": "https://api.github.com/users/pde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pde/subscriptions", "organizations_url": "https://api.github.com/users/pde/orgs", "repos_url": "https://api.github.com/users/pde/repos", "events_url": "https://api.github.com/users/pde/events{/privacy}", "received_events_url": "https://api.github.com/users/pde/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 281347824, "node_id": "MDU6TGFiZWwyODEzNDc4MjQ=", "url": "https://api.github.com/repos/certbot/certbot/labels/has%20pr", "name": "has pr", "color": "0052cc", "default": false, "description": null}, {"id": 493513299, "node_id": "MDU6TGFiZWw0OTM1MTMyOTk=", "url": "https://api.github.com/repos/certbot/certbot/labels/potential%20workflow%20regression", "name": "potential workflow regression", "color": "c95054", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-12-23T02:04:01Z", "updated_at": "2017-01-31T23:25:43Z", "closed_at": "2016-12-23T18:49:57Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Using `-n` to dodge some questions about vhosts:\r\n\r\n```\r\ncertbot --config-dir /tmp/sample-config --agree-t --regi certonly --apache  --test-cert -n -d b.encryption-example.com\r\nSaving debug log to /var/log/letsencrypt/letsencrypt.log\r\nStarting new HTTPS connection (1): acme-staging.api.letsencrypt.org\r\nObtaining a new certificate\r\nPerforming the following challenges:\r\ntls-sni-01 challenge for b.encryption-example.com\r\nCleaning up challenges\r\nAn unexpected error occurred:\r\nTypeError: menu() got an unexpected keyword argument 'force_interactive'\r\nPlease see the logfiles in /var/log/letsencrypt for more details.\r\n```", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/3954/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/3954/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/3937", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/3937/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/3937/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/3937/events", "html_url": "https://github.com/certbot/certbot/pull/3937", "id": 196764836, "node_id": "MDExOlB1bGxSZXF1ZXN0OTg4MTQxNzg=", "number": 3937, "title": "Return domains for _find_domains_or_certname", "user": {"login": "ohemorange", "id": 1227205, "node_id": "MDQ6VXNlcjEyMjcyMDU=", "avatar_url": "https://avatars.githubusercontent.com/u/1227205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ohemorange", "html_url": "https://github.com/ohemorange", "followers_url": "https://api.github.com/users/ohemorange/followers", "following_url": "https://api.github.com/users/ohemorange/following{/other_user}", "gists_url": "https://api.github.com/users/ohemorange/gists{/gist_id}", "starred_url": "https://api.github.com/users/ohemorange/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ohemorange/subscriptions", "organizations_url": "https://api.github.com/users/ohemorange/orgs", "repos_url": "https://api.github.com/users/ohemorange/repos", "events_url": "https://api.github.com/users/ohemorange/events{/privacy}", "received_events_url": "https://api.github.com/users/ohemorange/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "pde", "id": 479213, "node_id": "MDQ6VXNlcjQ3OTIxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/479213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pde", "html_url": "https://github.com/pde", "followers_url": "https://api.github.com/users/pde/followers", "following_url": "https://api.github.com/users/pde/following{/other_user}", "gists_url": "https://api.github.com/users/pde/gists{/gist_id}", "starred_url": "https://api.github.com/users/pde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pde/subscriptions", "organizations_url": "https://api.github.com/users/pde/orgs", "repos_url": "https://api.github.com/users/pde/repos", "events_url": "https://api.github.com/users/pde/events{/privacy}", "received_events_url": "https://api.github.com/users/pde/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "pde", "id": 479213, "node_id": "MDQ6VXNlcjQ3OTIxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/479213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pde", "html_url": "https://github.com/pde", "followers_url": "https://api.github.com/users/pde/followers", "following_url": "https://api.github.com/users/pde/following{/other_user}", "gists_url": "https://api.github.com/users/pde/gists{/gist_id}", "starred_url": "https://api.github.com/users/pde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pde/subscriptions", "organizations_url": "https://api.github.com/users/pde/orgs", "repos_url": "https://api.github.com/users/pde/repos", "events_url": "https://api.github.com/users/pde/events{/privacy}", "received_events_url": "https://api.github.com/users/pde/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/24", "html_url": "https://github.com/certbot/certbot/milestone/24", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/24/labels", "id": 1868831, "node_id": "MDk6TWlsZXN0b25lMTg2ODgzMQ==", "number": 24, "title": "0.10.0", "description": "Cert management, script plugin, Nginx bugfixes", "creator": {"login": "pde", "id": 479213, "node_id": "MDQ6VXNlcjQ3OTIxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/479213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pde", "html_url": "https://github.com/pde", "followers_url": "https://api.github.com/users/pde/followers", "following_url": "https://api.github.com/users/pde/following{/other_user}", "gists_url": "https://api.github.com/users/pde/gists{/gist_id}", "starred_url": "https://api.github.com/users/pde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pde/subscriptions", "organizations_url": "https://api.github.com/users/pde/orgs", "repos_url": "https://api.github.com/users/pde/repos", "events_url": "https://api.github.com/users/pde/events{/privacy}", "received_events_url": "https://api.github.com/users/pde/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 144, "state": "closed", "created_at": "2016-07-06T23:58:42Z", "updated_at": "2017-04-13T22:08:16Z", "due_on": "2017-01-04T08:00:00Z", "closed_at": "2017-01-12T00:32:36Z"}, "comments": 3, "created_at": "2016-12-20T19:52:19Z", "updated_at": "2016-12-21T01:17:01Z", "closed_at": "2016-12-21T01:17:01Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/certbot/certbot/pulls/3937", "html_url": "https://github.com/certbot/certbot/pull/3937", "diff_url": "https://github.com/certbot/certbot/pull/3937.diff", "patch_url": "https://github.com/certbot/certbot/pull/3937.patch", "merged_at": "2016-12-21T01:17:01Z"}, "body": "Fixes #3935.", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/3937/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/3937/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/certbot/certbot/issues/3935", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/3935/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/3935/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/3935/events", "html_url": "https://github.com/certbot/certbot/issues/3935", "id": 196754015, "node_id": "MDU6SXNzdWUxOTY3NTQwMTU=", "number": 3935, "title": "--cert-name causes explosions when trying to use \"run\" as an installer", "user": {"login": "pde", "id": 479213, "node_id": "MDQ6VXNlcjQ3OTIxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/479213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pde", "html_url": "https://github.com/pde", "followers_url": "https://api.github.com/users/pde/followers", "following_url": "https://api.github.com/users/pde/following{/other_user}", "gists_url": "https://api.github.com/users/pde/gists{/gist_id}", "starred_url": "https://api.github.com/users/pde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pde/subscriptions", "organizations_url": "https://api.github.com/users/pde/orgs", "repos_url": "https://api.github.com/users/pde/repos", "events_url": "https://api.github.com/users/pde/events{/privacy}", "received_events_url": "https://api.github.com/users/pde/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 300688866, "node_id": "MDU6TGFiZWwzMDA2ODg4NjY=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20install", "name": "area: install", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "ohemorange", "id": 1227205, "node_id": "MDQ6VXNlcjEyMjcyMDU=", "avatar_url": "https://avatars.githubusercontent.com/u/1227205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ohemorange", "html_url": "https://github.com/ohemorange", "followers_url": "https://api.github.com/users/ohemorange/followers", "following_url": "https://api.github.com/users/ohemorange/following{/other_user}", "gists_url": "https://api.github.com/users/ohemorange/gists{/gist_id}", "starred_url": "https://api.github.com/users/ohemorange/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ohemorange/subscriptions", "organizations_url": "https://api.github.com/users/ohemorange/orgs", "repos_url": "https://api.github.com/users/ohemorange/repos", "events_url": "https://api.github.com/users/ohemorange/events{/privacy}", "received_events_url": "https://api.github.com/users/ohemorange/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ohemorange", "id": 1227205, "node_id": "MDQ6VXNlcjEyMjcyMDU=", "avatar_url": "https://avatars.githubusercontent.com/u/1227205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ohemorange", "html_url": "https://github.com/ohemorange", "followers_url": "https://api.github.com/users/ohemorange/followers", "following_url": "https://api.github.com/users/ohemorange/following{/other_user}", "gists_url": "https://api.github.com/users/ohemorange/gists{/gist_id}", "starred_url": "https://api.github.com/users/ohemorange/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ohemorange/subscriptions", "organizations_url": "https://api.github.com/users/ohemorange/orgs", "repos_url": "https://api.github.com/users/ohemorange/repos", "events_url": "https://api.github.com/users/ohemorange/events{/privacy}", "received_events_url": "https://api.github.com/users/ohemorange/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/24", "html_url": "https://github.com/certbot/certbot/milestone/24", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/24/labels", "id": 1868831, "node_id": "MDk6TWlsZXN0b25lMTg2ODgzMQ==", "number": 24, "title": "0.10.0", "description": "Cert management, script plugin, Nginx bugfixes", "creator": {"login": "pde", "id": 479213, "node_id": "MDQ6VXNlcjQ3OTIxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/479213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pde", "html_url": "https://github.com/pde", "followers_url": "https://api.github.com/users/pde/followers", "following_url": "https://api.github.com/users/pde/following{/other_user}", "gists_url": "https://api.github.com/users/pde/gists{/gist_id}", "starred_url": "https://api.github.com/users/pde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pde/subscriptions", "organizations_url": "https://api.github.com/users/pde/orgs", "repos_url": "https://api.github.com/users/pde/repos", "events_url": "https://api.github.com/users/pde/events{/privacy}", "received_events_url": "https://api.github.com/users/pde/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 144, "state": "closed", "created_at": "2016-07-06T23:58:42Z", "updated_at": "2017-04-13T22:08:16Z", "due_on": "2017-01-04T08:00:00Z", "closed_at": "2017-01-12T00:32:36Z"}, "comments": 0, "created_at": "2016-12-20T19:10:38Z", "updated_at": "2016-12-21T01:17:01Z", "closed_at": "2016-12-21T01:17:01Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "One thing you can do with the `run` verb is try to install an existing cert (since the `install` verb is more like a construction kit than a real Certbot subcommand). \r\n```\r\ncertbot certificates\r\nSaving debug log to /var/log/letsencrypt/letsencrypt.log\r\n\r\n-------------------------------------------------------------------------------\r\nFound the following certs:\r\n  Certificate Name: isnot.org\r\n    Domains: isnot.org goxogle.com is.isnot.org www.isnot.org\r\n    Expiry Date: 2017-03-20 17:57:00+00:00 (VALID: 89 days)\r\n    Certificate Path: /etc/letsencrypt/live/isnot.org/fullchain.pem\r\n    Private Key Path: /etc/letsencrypt/live/isnot.org/privkey.pem\r\n...\r\n\r\ncertbot --cert-name isnot.org --debug\r\nSaving debug log to /var/log/letsencrypt/letsencrypt.log\r\nStarting new HTTPS connection (1): acme-v01.api.letsencrypt.org\r\nCert not yet due for renewal\r\n\r\nYou have an existing certificate that has exactly the same domains or certificate name you requested and isn't close to expiry.\r\n(ref: /etc/letsencrypt/renewal/isnot.org.conf)\r\n\r\nWhat would you like to do?\r\n-------------------------------------------------------------------------------\r\n1: Attempt to reinstall this existing certificate\r\n2: Renew & replace the cert (limit ~5 per 7 days)\r\n-------------------------------------------------------------------------------\r\nSelect the appropriate number [1-2] then [enter] (press 'c' to cancel): 1\r\nKeeping the existing certificate\r\nTraceback (most recent call last):\r\n  File \"venv/bin/certbot\", line 11, in <module>\r\n    load_entry_point('certbot', 'console_scripts', 'certbot')()\r\n  File \"/home/ubuntu/letsencrypt/certbot/main.py\", line 831, in main\r\n    return config.func(config, plugins)\r\n  File \"/home/ubuntu/letsencrypt/certbot/main.py\", line 570, in run\r\n    lineage.chain, lineage.fullchain)\r\n  File \"/home/ubuntu/letsencrypt/certbot/client.py\", line 380, in deploy_certificate\r\n    for dom in domains:\r\nTypeError: 'NoneType' object is not iterable\r\n```", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/3935/reactions", "total_count": 2, "+1": 0, "-1": 1, "laugh": 0, "hooray": 0, "confused": 1, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/3935/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/3934", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/3934/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/3934/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/3934/events", "html_url": "https://github.com/certbot/certbot/issues/3934", "id": 196752541, "node_id": "MDU6SXNzdWUxOTY3NTI1NDE=", "number": 3934, "title": "Interactivity glitch in git master", "user": {"login": "pde", "id": 479213, "node_id": "MDQ6VXNlcjQ3OTIxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/479213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pde", "html_url": "https://github.com/pde", "followers_url": "https://api.github.com/users/pde/followers", "following_url": "https://api.github.com/users/pde/following{/other_user}", "gists_url": "https://api.github.com/users/pde/gists{/gist_id}", "starred_url": "https://api.github.com/users/pde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pde/subscriptions", "organizations_url": "https://api.github.com/users/pde/orgs", "repos_url": "https://api.github.com/users/pde/repos", "events_url": "https://api.github.com/users/pde/events{/privacy}", "received_events_url": "https://api.github.com/users/pde/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 281347824, "node_id": "MDU6TGFiZWwyODEzNDc4MjQ=", "url": "https://api.github.com/repos/certbot/certbot/labels/has%20pr", "name": "has pr", "color": "0052cc", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/24", "html_url": "https://github.com/certbot/certbot/milestone/24", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/24/labels", "id": 1868831, "node_id": "MDk6TWlsZXN0b25lMTg2ODgzMQ==", "number": 24, "title": "0.10.0", "description": "Cert management, script plugin, Nginx bugfixes", "creator": {"login": "pde", "id": 479213, "node_id": "MDQ6VXNlcjQ3OTIxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/479213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pde", "html_url": "https://github.com/pde", "followers_url": "https://api.github.com/users/pde/followers", "following_url": "https://api.github.com/users/pde/following{/other_user}", "gists_url": "https://api.github.com/users/pde/gists{/gist_id}", "starred_url": "https://api.github.com/users/pde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pde/subscriptions", "organizations_url": "https://api.github.com/users/pde/orgs", "repos_url": "https://api.github.com/users/pde/repos", "events_url": "https://api.github.com/users/pde/events{/privacy}", "received_events_url": "https://api.github.com/users/pde/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 144, "state": "closed", "created_at": "2016-07-06T23:58:42Z", "updated_at": "2017-04-13T22:08:16Z", "due_on": "2017-01-04T08:00:00Z", "closed_at": "2017-01-12T00:32:36Z"}, "comments": 1, "created_at": "2016-12-20T19:03:49Z", "updated_at": "2016-12-20T22:34:16Z", "closed_at": "2016-12-20T22:34:16Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "```\r\nroot@isnot:/etc/apache2/sites-enabled# lel --config-dir /tmp/zzz --test-cert --agree-t --regi\r\nSaving debug log to /var/log/letsencrypt/letsencrypt.log\r\n\r\nWhich names would you like to activate HTTPS for?\r\n-------------------------------------------------------------------------------\r\n1: goxogle.com\r\n2: isnot.org\r\n3: is.isnot.org\r\n4: tweedle.isnot.org\r\n5: www.isnot.org\r\n6: demo.reworld.org\r\n-------------------------------------------------------------------------------\r\nAn unexpected error occurred:\r\nAssertionError: Invalid IDisplay call for this prompt:\r\nSelect the appropriate numbers separated by commas and/or spaces, or leave input blank to select all options shown\r\nPlease see the logfiles in /var/log/letsencrypt for more details.\r\n```", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/3934/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/3934/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/3893", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/3893/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/3893/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/3893/events", "html_url": "https://github.com/certbot/certbot/issues/3893", "id": 194832182, "node_id": "MDU6SXNzdWUxOTQ4MzIxODI=", "number": 3893, "title": "\"IndexError: list index out of range\" while setup for nginx", "user": {"login": "stertingen", "id": 1983865, "node_id": "MDQ6VXNlcjE5ODM4NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/1983865?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stertingen", "html_url": "https://github.com/stertingen", "followers_url": "https://api.github.com/users/stertingen/followers", "following_url": "https://api.github.com/users/stertingen/following{/other_user}", "gists_url": "https://api.github.com/users/stertingen/gists{/gist_id}", "starred_url": "https://api.github.com/users/stertingen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stertingen/subscriptions", "organizations_url": "https://api.github.com/users/stertingen/orgs", "repos_url": "https://api.github.com/users/stertingen/repos", "events_url": "https://api.github.com/users/stertingen/events{/privacy}", "received_events_url": "https://api.github.com/users/stertingen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 258836706, "node_id": "MDU6TGFiZWwyNTg4MzY3MDY=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20nginx", "name": "area: nginx", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "stertingen", "id": 1983865, "node_id": "MDQ6VXNlcjE5ODM4NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/1983865?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stertingen", "html_url": "https://github.com/stertingen", "followers_url": "https://api.github.com/users/stertingen/followers", "following_url": "https://api.github.com/users/stertingen/following{/other_user}", "gists_url": "https://api.github.com/users/stertingen/gists{/gist_id}", "starred_url": "https://api.github.com/users/stertingen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stertingen/subscriptions", "organizations_url": "https://api.github.com/users/stertingen/orgs", "repos_url": "https://api.github.com/users/stertingen/repos", "events_url": "https://api.github.com/users/stertingen/events{/privacy}", "received_events_url": "https://api.github.com/users/stertingen/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "stertingen", "id": 1983865, "node_id": "MDQ6VXNlcjE5ODM4NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/1983865?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stertingen", "html_url": "https://github.com/stertingen", "followers_url": "https://api.github.com/users/stertingen/followers", "following_url": "https://api.github.com/users/stertingen/following{/other_user}", "gists_url": "https://api.github.com/users/stertingen/gists{/gist_id}", "starred_url": "https://api.github.com/users/stertingen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stertingen/subscriptions", "organizations_url": "https://api.github.com/users/stertingen/orgs", "repos_url": "https://api.github.com/users/stertingen/repos", "events_url": "https://api.github.com/users/stertingen/events{/privacy}", "received_events_url": "https://api.github.com/users/stertingen/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/35", "html_url": "https://github.com/certbot/certbot/milestone/35", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/35/labels", "id": 2375335, "node_id": "MDk6TWlsZXN0b25lMjM3NTMzNQ==", "number": 35, "title": "0.14.0", "description": "", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 44, "state": "closed", "created_at": "2017-03-09T18:57:34Z", "updated_at": "2018-02-06T00:50:46Z", "due_on": "2017-05-04T07:00:00Z", "closed_at": "2017-05-05T01:27:47Z"}, "comments": 12, "created_at": "2016-12-11T13:34:36Z", "updated_at": "2017-04-29T01:52:50Z", "closed_at": "2017-01-16T09:31:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "Affects version certbot 0.10.0.dev0 and propaby below.\r\nSystem: Arch linux.\r\n\r\nLog output:\r\n\r\n```\r\n2016-12-11 13:18:22,545:DEBUG:certbot.main:Root logging level set at 20\r\n2016-12-11 13:18:22,549:INFO:certbot.main:Saving debug log to /var/log/letsencrypt/letsencrypt.log\r\n2016-12-11 13:18:22,552:DEBUG:certbot.main:certbot version: 0.10.0.dev0\r\n2016-12-11 13:18:22,552:DEBUG:certbot.main:Arguments: ['--nginx']\r\n2016-12-11 13:18:22,555:DEBUG:certbot.main:Discovered plugins: PluginsRegistry(PluginEntryPoint#script,PluginEntryPoint#standalone,PluginEntryPoint#manual,PluginEntryPoint#webroot,PluginEntryPoint#nginx,PluginEntryPoint#null)\r\n2016-12-11 13:18:22,557:DEBUG:certbot.plugins.selection:Requested authenticator nginx and installer nginx\r\n2016-12-11 13:18:25,558:DEBUG:certbot.plugins.selection:Single candidate plugin: * nginx\r\nDescription: Nginx Web Server plugin - Alpha\r\nInterfaces: IAuthenticator, IInstaller, IPlugin\r\nEntry point: nginx = certbot_nginx.configurator:NginxConfigurator\r\nInitialized: <certbot_nginx.configurator.NginxConfigurator object at 0xb6931d8c>\r\nPrep: True\r\n2016-12-11 13:18:25,563:DEBUG:certbot.plugins.selection:Selected authenticator <certbot_nginx.configurator.NginxConfigurator object at 0xb6931d8c> and installer <certbot_nginx.configurator.NginxConfigurator object at 0xb6931d8c>\r\n2016-12-11 13:18:25,658:DEBUG:certbot.main:Exiting abnormally:\r\nTraceback (most recent call last):\r\n  File \"/usr/bin/certbot\", line 11, in <module>\r\n    load_entry_point('certbot==0.10.0.dev0', 'console_scripts', 'certbot')()\r\n  File \"/usr/lib/python2.7/site-packages/certbot/main.py\", line 818, in main\r\n    return config.func(config, plugins)\r\n  File \"/usr/lib/python2.7/site-packages/certbot/main.py\", line 550, in run\r\n    domains, certname = _find_domains_or_certname(config, installer)\r\n  File \"/usr/lib/python2.7/site-packages/certbot/main.py\", line 288, in _find_domains_or_certname\r\n    domains = display_ops.choose_names(installer)\r\n  File \"/usr/lib/python2.7/site-packages/certbot/display/ops.py\", line 103, in choose_names\r\n    domains = list(installer.get_all_names())\r\n  File \"/usr/lib/python2.7/site-packages/certbot_nginx/configurator.py\", line 391, in get_all_names\r\n    for vhost in self.parser.get_vhosts():\r\n  File \"/usr/lib/python2.7/site-packages/certbot_nginx/parser.py\", line 134, in get_vhosts\r\n    servers = self._get_raw_servers()\r\n  File \"/usr/lib/python2.7/site-packages/certbot_nginx/parser.py\", line 114, in _get_raw_servers\r\n    lambda x, y: srv.append((x[1], y)))\r\n  File \"/usr/lib/python2.7/site-packages/certbot_nginx/parser.py\", line 364, in _do_for_subarray\r\n    _do_for_subarray(item, condition, func, path + [index])\r\n  File \"/usr/lib/python2.7/site-packages/certbot_nginx/parser.py\", line 364, in _do_for_subarray\r\n    _do_for_subarray(item, condition, func, path + [index])\r\n  File \"/usr/lib/python2.7/site-packages/certbot_nginx/parser.py\", line 360, in _do_for_subarray\r\n    if condition(entry):\r\n  File \"/usr/lib/python2.7/site-packages/certbot_nginx/parser.py\", line 113, in <lambda>\r\n    _do_for_subarray(tree, lambda x: x[0] == ['server'],\r\nIndexError: list index out of range\r\n```\r\n\r\nnginx configuration\r\n\r\n```\r\nuser http;\r\nworker_processes  1;\r\n\r\nerror_log  /var/log/nginx/error.log;\r\nerror_log  /var/log/nginx/error.log  notice;\r\nerror_log  /var/log/nginx/error.log  info;\r\n\r\n#pid        logs/nginx.pid;\r\n\r\n\r\nevents {\r\n\tworker_connections  1024;\r\n}\r\n\r\n\r\nhttp {\r\n\tinclude       mime.types;\r\n\tdefault_type  application/octet-stream;\r\n\r\n\tlog_format  main  '$remote_addr - $remote_user [$time_local] \"$request\" '\r\n\t\t'$status $body_bytes_sent \"$http_referer\" '\r\n\t\t'\"$http_user_agent\" \"$http_x_forwarded_for\"';\r\n\r\n\taccess_log  /var/log/nginx/access.log  main;\r\n\r\n\tsendfile        on;\r\n\r\n\tkeepalive_timeout  120;\r\n\r\n\tserver {\r\n\t\tlisten 80;\r\n\t\tserver_name subdomain.myserver.com;\r\n\t\r\n\t\trewrite ^ https://$server_name$request_uri permanent;\r\n\t}\r\n\r\n\tserver {\r\n\t\tlisten 443 ssl;\r\n\t\tserver_name subdomain.myserver.com;\r\n\r\n\t\tadd_header Strict-Transport-Security \"max-age=31536000\" always;\r\n\r\n\t\tssl_certificate      /etc/letsencrypt/live/subdomain.myserver.com/fullchain.pem;\r\n\t\tssl_certificate_key  /etc/letsencrypt/live/subdomain.myserver.com/privkey.pem;\r\n\r\n\t\tssl_session_cache    shared:SSL:1m;\r\n\t\tssl_session_timeout  5m;\r\n\r\n\t\tssl_ciphers  HIGH:!aNULL:!MD5;\r\n\t\tssl_prefer_server_ciphers  on;\r\n\r\n\t\tinclude sites-enabled/*;\r\n\t}\r\n\r\n}\r\n```", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/3893/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/3893/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/3888", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/3888/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/3888/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/3888/events", "html_url": "https://github.com/certbot/certbot/issues/3888", "id": 194710913, "node_id": "MDU6SXNzdWUxOTQ3MTA5MTM=", "number": 3888, "title": "--allow-subset-of-names should probably be a renewalparam", "user": {"login": "pde", "id": 479213, "node_id": "MDQ6VXNlcjQ3OTIxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/479213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pde", "html_url": "https://github.com/pde", "followers_url": "https://api.github.com/users/pde/followers", "following_url": "https://api.github.com/users/pde/following{/other_user}", "gists_url": "https://api.github.com/users/pde/gists{/gist_id}", "starred_url": "https://api.github.com/users/pde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pde/subscriptions", "organizations_url": "https://api.github.com/users/pde/orgs", "repos_url": "https://api.github.com/users/pde/repos", "events_url": "https://api.github.com/users/pde/events{/privacy}", "received_events_url": "https://api.github.com/users/pde/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 261409142, "node_id": "MDU6TGFiZWwyNjE0MDkxNDI=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20renewal", "name": "area: renewal", "color": "c5def5", "default": false, "description": null}, {"id": 281347824, "node_id": "MDU6TGFiZWwyODEzNDc4MjQ=", "url": "https://api.github.com/repos/certbot/certbot/labels/has%20pr", "name": "has pr", "color": "0052cc", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/24", "html_url": "https://github.com/certbot/certbot/milestone/24", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/24/labels", "id": 1868831, "node_id": "MDk6TWlsZXN0b25lMTg2ODgzMQ==", "number": 24, "title": "0.10.0", "description": "Cert management, script plugin, Nginx bugfixes", "creator": {"login": "pde", "id": 479213, "node_id": "MDQ6VXNlcjQ3OTIxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/479213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pde", "html_url": "https://github.com/pde", "followers_url": "https://api.github.com/users/pde/followers", "following_url": "https://api.github.com/users/pde/following{/other_user}", "gists_url": "https://api.github.com/users/pde/gists{/gist_id}", "starred_url": "https://api.github.com/users/pde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pde/subscriptions", "organizations_url": "https://api.github.com/users/pde/orgs", "repos_url": "https://api.github.com/users/pde/repos", "events_url": "https://api.github.com/users/pde/events{/privacy}", "received_events_url": "https://api.github.com/users/pde/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 144, "state": "closed", "created_at": "2016-07-06T23:58:42Z", "updated_at": "2017-04-13T22:08:16Z", "due_on": "2017-01-04T08:00:00Z", "closed_at": "2017-01-12T00:32:36Z"}, "comments": 0, "created_at": "2016-12-09T22:19:04Z", "updated_at": "2017-01-05T01:46:48Z", "closed_at": "2017-01-05T01:46:48Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/3888/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/3888/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/3876", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/3876/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/3876/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/3876/events", "html_url": "https://github.com/certbot/certbot/issues/3876", "id": 194328444, "node_id": "MDU6SXNzdWUxOTQzMjg0NDQ=", "number": 3876, "title": "Error when using non-english locale on Debian", "user": {"login": "lilalkor", "id": 2451958, "node_id": "MDQ6VXNlcjI0NTE5NTg=", "avatar_url": "https://avatars.githubusercontent.com/u/2451958?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lilalkor", "html_url": "https://github.com/lilalkor", "followers_url": "https://api.github.com/users/lilalkor/followers", "following_url": "https://api.github.com/users/lilalkor/following{/other_user}", "gists_url": "https://api.github.com/users/lilalkor/gists{/gist_id}", "starred_url": "https://api.github.com/users/lilalkor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lilalkor/subscriptions", "organizations_url": "https://api.github.com/users/lilalkor/orgs", "repos_url": "https://api.github.com/users/lilalkor/repos", "events_url": "https://api.github.com/users/lilalkor/events{/privacy}", "received_events_url": "https://api.github.com/users/lilalkor/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 200587469, "node_id": "MDU6TGFiZWwyMDA1ODc0Njk=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20debian%20/%20ubuntu", "name": "area: debian / ubuntu", "color": "c5def5", "default": false, "description": null}, {"id": 276239890, "node_id": "MDU6TGFiZWwyNzYyMzk4OTA=", "url": "https://api.github.com/repos/certbot/certbot/labels/easy-fix", "name": "easy-fix", "color": "207de5", "default": false, "description": null}, {"id": 276243379, "node_id": "MDU6TGFiZWwyNzYyNDMzNzk=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20certbot-auto", "name": "area: certbot-auto", "color": "c5def5", "default": false, "description": null}, {"id": 281347824, "node_id": "MDU6TGFiZWwyODEzNDc4MjQ=", "url": "https://api.github.com/repos/certbot/certbot/labels/has%20pr", "name": "has pr", "color": "0052cc", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/24", "html_url": "https://github.com/certbot/certbot/milestone/24", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/24/labels", "id": 1868831, "node_id": "MDk6TWlsZXN0b25lMTg2ODgzMQ==", "number": 24, "title": "0.10.0", "description": "Cert management, script plugin, Nginx bugfixes", "creator": {"login": "pde", "id": 479213, "node_id": "MDQ6VXNlcjQ3OTIxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/479213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pde", "html_url": "https://github.com/pde", "followers_url": "https://api.github.com/users/pde/followers", "following_url": "https://api.github.com/users/pde/following{/other_user}", "gists_url": "https://api.github.com/users/pde/gists{/gist_id}", "starred_url": "https://api.github.com/users/pde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pde/subscriptions", "organizations_url": "https://api.github.com/users/pde/orgs", "repos_url": "https://api.github.com/users/pde/repos", "events_url": "https://api.github.com/users/pde/events{/privacy}", "received_events_url": "https://api.github.com/users/pde/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 144, "state": "closed", "created_at": "2016-07-06T23:58:42Z", "updated_at": "2017-04-13T22:08:16Z", "due_on": "2017-01-04T08:00:00Z", "closed_at": "2017-01-12T00:32:36Z"}, "comments": 4, "created_at": "2016-12-08T12:52:47Z", "updated_at": "2016-12-13T18:23:32Z", "closed_at": "2016-12-13T18:23:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "Using ru_RU locale leads to error:\r\n\r\n```\r\nroot@localhost /tmp/cbot # ./certbot-auto\r\nBootstrapping dependencies for Debian-based OSes...\r\n\u0412 \u043a\u044d\u0448\u0435 http://security.debian.org wheezy/updates Release.gpg\r\n\u0412 \u043a\u044d\u0448\u0435 http://security.debian.org wheezy/updates Release                                                                                                                                               \r\n\u0412 \u043a\u044d\u0448\u0435 http://ftp.debian.org wheezy-backports Release.gpg                                                                                                                                              \r\n\u0412 \u043a\u044d\u0448\u0435 http://security.debian.org wheezy/updates/main Sources                                                                                                      \r\n\u0412 \u043a\u044d\u0448\u0435 http://ftp.debian.org wheezy-backports Release                                                                                                                                                   \r\n\u0412 \u043a\u044d\u0448\u0435 http://security.debian.org wheezy/updates/contrib Sources                                                                                                                      \r\n\u0412 \u043a\u044d\u0448\u0435 http://security.debian.org wheezy/updates/non-free Sources                                                                                                                            \r\n\u0412 \u043a\u044d\u0448\u0435 http://security.debian.org wheezy/updates/main amd64 Packages                                                                                                                                                                   \r\n\u0412 \u043a\u044d\u0448\u0435 http://security.debian.org wheezy/updates/contrib amd64 Packages                                                                                                                                                                \r\n\u0412 \u043a\u044d\u0448\u0435 http://security.debian.org wheezy/updates/non-free amd64 Packages                                                                                                                                                               \r\n\u0412 \u043a\u044d\u0448\u0435 http://ftp.debian.org wheezy-backports/main Sources                                                                                                                                              \r\n\u0412 \u043a\u044d\u0448\u0435 http://http.debian.net wheezy Release.gpg                                                                                                                \r\n\u0412 \u043a\u044d\u0448\u0435 http://ftp.debian.org wheezy-backports/contrib Sources                                                                                                                                                                        \r\n\u0412 \u043a\u044d\u0448\u0435 http://http.debian.net wheezy-updates Release.gpg                                                                                                                                                  \r\n\u0412 \u043a\u044d\u0448\u0435 http://ftp.debian.org wheezy-backports/non-free Sources                                                                                                                                            \r\n\u0412 \u043a\u044d\u0448\u0435 http://http.debian.net wheezy-backports Release.gpg                                                                                                                                                \r\n\u0412 \u043a\u044d\u0448\u0435 http://ftp.debian.org wheezy-backports/main amd64 Packages                                                                                                 \r\n\u0412 \u043a\u044d\u0448\u0435 http://http.debian.net wheezy-backports-sloppy Release.gpg                                                                                                 \r\n\u0412 \u043a\u044d\u0448\u0435 http://ftp.debian.org wheezy-backports/contrib amd64 Packages                                                                                              \r\n\u0412 \u043a\u044d\u0448\u0435 http://ftp.debian.org wheezy-backports/non-free amd64 Packages                                                                                             \r\n\u0412 \u043a\u044d\u0448\u0435 http://http.debian.net wheezy Release                                                                                                                                                   \r\n\u041f\u043e\u043b\u0443\u0447\u0435\u043d\u043e:1 http://http.debian.net wheezy-updates Release [155 kB]                                                                                                                              \r\n\u0412 \u043a\u044d\u0448\u0435 http://http.debian.net wheezy-backports Release                                                                                                                        \r\n\u0412 \u043a\u044d\u0448\u0435 http://http.debian.net wheezy-backports-sloppy Release                                                                                                                                    \r\n\u0412 \u043a\u044d\u0448\u0435 http://http.debian.net wheezy/main Sources                                                                                                 \r\n\u0412 \u043a\u044d\u0448\u0435 http://http.debian.net wheezy/contrib Sources                                                                        \r\n\u0412 \u043a\u044d\u0448\u0435 http://http.debian.net wheezy/non-free Sources                                                 \r\n\u0412 \u043a\u044d\u0448\u0435 http://nginx.org wheezy Release.gpg                                                            \r\n\u0412 \u043a\u044d\u0448\u0435 http://http.debian.net wheezy/main amd64 Packages                                              \r\n\u041f\u043e\u043b\u0443\u0447\u0435\u043d\u043e:2 http://http.debian.net wheezy/contrib amd64 Packages [42,0 kB]                             \r\n\u041f\u043e\u043b\u0443\u0447\u0435\u043d\u043e:3 http://http.debian.net wheezy/non-free amd64 Packages [80,8 kB]                                                             \r\n\u0412 \u043a\u044d\u0448\u0435 http://http.debian.net wheezy-backports/main Sources                                                                           \r\n\u0412 \u043a\u044d\u0448\u0435 http://http.debian.net wheezy-backports/contrib Sources                                                                                \r\n\u0412 \u043a\u044d\u0448\u0435 http://nginx.org wheezy Release                                                                                                        \r\n\u041f\u043e\u043b\u0443\u0447\u0435\u043d\u043e:4 http://http.debian.net wheezy-backports/non-free Sources [8\u00a0935 B]                                                 \r\n\u0412 \u043a\u044d\u0448\u0435 http://http.debian.net wheezy-backports/main amd64 Packages                                                                      \r\n\u0412 \u043a\u044d\u0448\u0435 http://http.debian.net wheezy-backports/contrib amd64 Packages                                                                        \r\n\u0412 \u043a\u044d\u0448\u0435 http://http.debian.net wheezy-backports/non-free amd64 Packages                                                                       \r\n\u0412 \u043a\u044d\u0448\u0435 http://nginx.org wheezy/nginx Sources                                                           \r\n\u041f\u043e\u043b\u0443\u0447\u0435\u043d\u043e:5 http://http.debian.net wheezy-updates/main Sources [5\u00a0505 B]                                \r\n\u041f\u043e\u043b\u0443\u0447\u0435\u043d\u043e:6 http://http.debian.net wheezy-updates/contrib Sources [14 B]                                                                   \r\n\u041f\u043e\u043b\u0443\u0447\u0435\u043d\u043e:7 http://http.debian.net wheezy-updates/non-free Sources [929 B]                                                         \r\n\u041f\u043e\u043b\u0443\u0447\u0435\u043d\u043e:8 http://http.debian.net wheezy-updates/main amd64 Packages [7\u00a0047 B]                                                      \r\n\u041f\u043e\u043b\u0443\u0447\u0435\u043d\u043e:9 http://http.debian.net wheezy-updates/contrib amd64 Packages [14 B]                                                             \r\n\u041f\u043e\u043b\u0443\u0447\u0435\u043d\u043e:10 http://http.debian.net wheezy-updates/non-free amd64 Packages [488 B]                                                  \r\n\u0412 \u043a\u044d\u0448\u0435 http://nginx.org wheezy/nginx amd64 Packages                                                                                   \r\n\u0412 \u043a\u044d\u0448\u0435 http://http.debian.net wheezy-backports-sloppy/main Sources                                                                    \r\n\u0412 \u043a\u044d\u0448\u0435 http://http.debian.net wheezy-backports-sloppy/contrib Sources                                                                 \r\n\u0412 \u043a\u044d\u0448\u0435 http://http.debian.net wheezy-backports-sloppy/non-free Sources\r\n\u0412 \u043a\u044d\u0448\u0435 http://http.debian.net wheezy-backports-sloppy/main amd64 Packages\r\n\u0412 \u043a\u044d\u0448\u0435 http://http.debian.net wheezy-backports-sloppy/contrib amd64 Packages                            \r\n\u0412 \u043a\u044d\u0448\u0435 http://http.debian.net wheezy-backports-sloppy/non-free amd64 Packages                           \r\n\u041f\u043e\u043b\u0443\u0447\u0435\u043d\u043e 301 k\u0411 \u0437\u0430 1\u0441 (288 k\u0411/c)                                 \r\n\u0427\u0442\u0435\u043d\u0438\u0435 \u0441\u043f\u0438\u0441\u043a\u043e\u0432 \u043f\u0430\u043a\u0435\u0442\u043e\u0432\u2026 \u0413\u043e\u0442\u043e\u0432\u043e\r\n\u0427\u0442\u0435\u043d\u0438\u0435 \u0441\u043f\u0438\u0441\u043a\u043e\u0432 \u043f\u0430\u043a\u0435\u0442\u043e\u0432\u2026 \u0413\u043e\u0442\u043e\u0432\u043e\r\n\u041f\u043e\u0441\u0442\u0440\u043e\u0435\u043d\u0438\u0435 \u0434\u0435\u0440\u0435\u0432\u0430 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0435\u0439       \r\n\u0427\u0442\u0435\u043d\u0438\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043e \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0438\u2026 \u0413\u043e\u0442\u043e\u0432\u043e\r\n\u041f\u0430\u043a\u0435\u0442 virtualenv \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d, \u043d\u043e \u0443\u043f\u043e\u043c\u044f\u043d\u0443\u0442 \u0432 \u0441\u043f\u0438\u0441\u043a\u0435 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0435\u0439 \u0434\u0440\u0443\u0433\u043e\u0433\u043e \u043f\u0430\u043a\u0435\u0442\u0430.\r\n\u042d\u0442\u043e \u043c\u043e\u0436\u0435\u0442 \u043e\u0437\u043d\u0430\u0447\u0430\u0442\u044c, \u0447\u0442\u043e \u043f\u0430\u043a\u0435\u0442 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442, \u0443\u0441\u0442\u0430\u0440\u0435\u043b, \u0438\u043b\u0438 \u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d \u0438\u0437 \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a\u043e\u0432, \u043d\u0435 \u0443\u043f\u043e\u043c\u044f\u043d\u0443\u0442\u044b\u0445 \u0432 sources.list\r\n\r\nE: \u0414\u043b\u044f \u043f\u0430\u043a\u0435\u0442\u0430 \u00abvirtualenv\u00bb \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d \u043a\u0430\u043d\u0434\u0438\u0434\u0430\u0442 \u043d\u0430 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0443\r\n```\r\nForcing en_US locale works fine:\r\n```\r\n# LC_ALL=en_US.utf8 ./certbot-auto \r\nBootstrapping dependencies for Debian-based OSes...\r\nHit http://security.debian.org wheezy/updates Release.gpg\r\nHit http://security.debian.org wheezy/updates Release                                                                                                                    \r\nHit http://ftp.debian.org wheezy-backports Release.gpg                                                                                                                   \r\nHit http://security.debian.org wheezy/updates/main Sources                                                           \r\nHit http://ftp.debian.org wheezy-backports Release                                                                                     \r\nHit http://security.debian.org wheezy/updates/contrib Sources                                                                          \r\nHit http://security.debian.org wheezy/updates/non-free Sources                                                                                                                    \r\nHit http://security.debian.org wheezy/updates/main amd64 Packages                                                                                                                 \r\nHit http://security.debian.org wheezy/updates/contrib amd64 Packages                                                                                                              \r\nHit http://security.debian.org wheezy/updates/non-free amd64 Packages                                                                                                             \r\nHit http://ftp.debian.org wheezy-backports/main Sources                                                                                \r\nHit http://http.debian.net wheezy Release.gpg                                                                                          \r\nHit http://ftp.debian.org wheezy-backports/contrib Sources                                                                                                                    \r\nHit http://ftp.debian.org wheezy-backports/non-free Sources                                                                                                                   \r\nHit http://http.debian.net wheezy-updates Release.gpg                                                                                              \r\nHit http://ftp.debian.org wheezy-backports/main amd64 Packages                                                                                                                            \r\nHit http://http.debian.net wheezy-backports Release.gpg                                                                                                                                   \r\nHit http://ftp.debian.org wheezy-backports/contrib amd64 Packages                                                                                           \r\nHit http://http.debian.net wheezy-backports-sloppy Release.gpg                                                                                                                 \r\nHit http://ftp.debian.org wheezy-backports/non-free amd64 Packages                                                                                                             \r\nHit http://http.debian.net wheezy Release                                                                         \r\nHit http://http.debian.net wheezy-updates Release                                         \r\nHit http://http.debian.net wheezy-backports Release                                       \r\nHit http://http.debian.net wheezy-backports-sloppy Release                                                               \r\nGet:1 http://http.debian.net wheezy/main Sources [5,993 kB]                                                                  \r\nHit http://http.debian.net wheezy/contrib Sources                              \r\nHit http://nginx.org wheezy Release.gpg                                                         \r\nHit http://http.debian.net wheezy/non-free Sources                            \r\nHit http://http.debian.net wheezy/main amd64 Packages                                          \r\nHit http://http.debian.net wheezy/non-free amd64 Packages                                           \r\nHit http://http.debian.net wheezy-updates/main Sources                                              \r\nGet:2 http://http.debian.net wheezy/contrib amd64 Packages [42.0 kB]                                           \r\nHit http://http.debian.net wheezy-updates/contrib Sources                                                                                       \r\nHit http://nginx.org wheezy Release                                                                            \r\nHit http://http.debian.net wheezy-updates/non-free Sources                                                                                             \r\nHit http://http.debian.net wheezy-updates/main amd64 Packages                                                                   \r\nHit http://http.debian.net wheezy-updates/contrib amd64 Packages                         \r\nHit http://http.debian.net wheezy-updates/non-free amd64 Packages                        \r\nHit http://nginx.org wheezy/nginx Sources                                                \r\nGet:3 http://http.debian.net wheezy-backports/main Sources [453 kB]                      \r\nHit http://http.debian.net wheezy-backports/contrib Sources                                                           \r\nHit http://http.debian.net wheezy-backports/non-free Sources                                                           \r\nHit http://http.debian.net wheezy-backports/main amd64 Packages                                                       \r\nHit http://http.debian.net wheezy-backports/contrib amd64 Packages                                            \r\nHit http://http.debian.net wheezy-backports/non-free amd64 Packages                                            \r\nHit http://nginx.org wheezy/nginx amd64 Packages                                            \r\nHit http://http.debian.net wheezy-backports-sloppy/main Sources                          \r\nHit http://http.debian.net wheezy-backports-sloppy/contrib Sources    \r\nHit http://http.debian.net wheezy-backports-sloppy/non-free Sources\r\nHit http://http.debian.net wheezy-backports-sloppy/main amd64 Packages\r\nHit http://http.debian.net wheezy-backports-sloppy/contrib amd64 Packages\r\nHit http://http.debian.net wheezy-backports-sloppy/non-free amd64 Packages\r\nFetched 6,488 kB in 1s (3,969 kB/s)      \r\nReading package lists... Done\r\nReading package lists... Done\r\nBuilding dependency tree       \r\nReading state information... Done\r\nca-certificates is already the newest version.\r\nca-certificates set to manually installed.\r\ngcc is already the newest version.\r\npython is already the newest version.\r\npython set to manually installed.\r\npython-dev is already the newest version.\r\npython-virtualenv is already the newest version.\r\naugeas-lenses is already the newest version.\r\nlibaugeas0 is already the newest version.\r\nThe following extra packages will be installed:\r\n  libssl1.0.0\r\nThe following NEW packages will be installed:\r\n  dialog libffi-dev\r\nThe following packages will be upgraded:\r\n  libssl-dev libssl1.0.0\r\n2 upgraded, 2 newly installed, 0 to remove and 143 not upgraded.\r\nNeed to get 3,514 kB of archives.\r\nAfter this operation, 1,867 kB of additional disk space will be used.\r\nDo you want to continue [Y/n]? ^C\r\n```\r\n\r\nThe reason is packets check in line 180 that uses english error text:\r\n\r\n```\r\n  176   # virtualenv binary can be found in different packages depending on\r\n  177   # distro version (#346)\r\n  178 \r\n  179   virtualenv=\r\n  180   if apt-cache show virtualenv > /dev/null 2>&1 && ! apt-cache --quiet=0 show virtualenv 2>&1 | grep -q 'No packages found'; then\r\n  181     virtualenv=\"virtualenv\"\r\n  182   fi\r\n  183 \r\n  184   if apt-cache show python-virtualenv > /dev/null 2>&1; then\r\n  185     virtualenv=\"$virtualenv python-virtualenv\"\r\n  186   fi\r\n```\r\n\r\nThe easiest way to fix it is just set locale in script to en_US.utf8 (or C, or anything you want).", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/3876/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/3876/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/3856", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/3856/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/3856/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/3856/events", "html_url": "https://github.com/certbot/certbot/pull/3856", "id": 193602551, "node_id": "MDExOlB1bGxSZXF1ZXN0OTY2MDM2NDU=", "number": 3856, "title": "Mark Nginx vhosts as ssl when any vhost is on ssl at that address", "user": {"login": "ohemorange", "id": 1227205, "node_id": "MDQ6VXNlcjEyMjcyMDU=", "avatar_url": "https://avatars.githubusercontent.com/u/1227205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ohemorange", "html_url": "https://github.com/ohemorange", "followers_url": "https://api.github.com/users/ohemorange/followers", "following_url": "https://api.github.com/users/ohemorange/following{/other_user}", "gists_url": "https://api.github.com/users/ohemorange/gists{/gist_id}", "starred_url": "https://api.github.com/users/ohemorange/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ohemorange/subscriptions", "organizations_url": "https://api.github.com/users/ohemorange/orgs", "repos_url": "https://api.github.com/users/ohemorange/repos", "events_url": "https://api.github.com/users/ohemorange/events{/privacy}", "received_events_url": "https://api.github.com/users/ohemorange/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 258836706, "node_id": "MDU6TGFiZWwyNTg4MzY3MDY=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20nginx", "name": "area: nginx", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "jsha", "id": 220205, "node_id": "MDQ6VXNlcjIyMDIwNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/220205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsha", "html_url": "https://github.com/jsha", "followers_url": "https://api.github.com/users/jsha/followers", "following_url": "https://api.github.com/users/jsha/following{/other_user}", "gists_url": "https://api.github.com/users/jsha/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsha/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsha/subscriptions", "organizations_url": "https://api.github.com/users/jsha/orgs", "repos_url": "https://api.github.com/users/jsha/repos", "events_url": "https://api.github.com/users/jsha/events{/privacy}", "received_events_url": "https://api.github.com/users/jsha/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jsha", "id": 220205, "node_id": "MDQ6VXNlcjIyMDIwNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/220205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsha", "html_url": "https://github.com/jsha", "followers_url": "https://api.github.com/users/jsha/followers", "following_url": "https://api.github.com/users/jsha/following{/other_user}", "gists_url": "https://api.github.com/users/jsha/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsha/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsha/subscriptions", "organizations_url": "https://api.github.com/users/jsha/orgs", "repos_url": "https://api.github.com/users/jsha/repos", "events_url": "https://api.github.com/users/jsha/events{/privacy}", "received_events_url": "https://api.github.com/users/jsha/received_events", "type": "User", "site_admin": false}, {"login": "pde", "id": 479213, "node_id": "MDQ6VXNlcjQ3OTIxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/479213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pde", "html_url": "https://github.com/pde", "followers_url": "https://api.github.com/users/pde/followers", "following_url": "https://api.github.com/users/pde/following{/other_user}", "gists_url": "https://api.github.com/users/pde/gists{/gist_id}", "starred_url": "https://api.github.com/users/pde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pde/subscriptions", "organizations_url": "https://api.github.com/users/pde/orgs", "repos_url": "https://api.github.com/users/pde/repos", "events_url": "https://api.github.com/users/pde/events{/privacy}", "received_events_url": "https://api.github.com/users/pde/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/24", "html_url": "https://github.com/certbot/certbot/milestone/24", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/24/labels", "id": 1868831, "node_id": "MDk6TWlsZXN0b25lMTg2ODgzMQ==", "number": 24, "title": "0.10.0", "description": "Cert management, script plugin, Nginx bugfixes", "creator": {"login": "pde", "id": 479213, "node_id": "MDQ6VXNlcjQ3OTIxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/479213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pde", "html_url": "https://github.com/pde", "followers_url": "https://api.github.com/users/pde/followers", "following_url": "https://api.github.com/users/pde/following{/other_user}", "gists_url": "https://api.github.com/users/pde/gists{/gist_id}", "starred_url": "https://api.github.com/users/pde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pde/subscriptions", "organizations_url": "https://api.github.com/users/pde/orgs", "repos_url": "https://api.github.com/users/pde/repos", "events_url": "https://api.github.com/users/pde/events{/privacy}", "received_events_url": "https://api.github.com/users/pde/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 144, "state": "closed", "created_at": "2016-07-06T23:58:42Z", "updated_at": "2017-04-13T22:08:16Z", "due_on": "2017-01-04T08:00:00Z", "closed_at": "2017-01-12T00:32:36Z"}, "comments": 5, "created_at": "2016-12-05T20:32:10Z", "updated_at": "2016-12-08T01:14:40Z", "closed_at": "2016-12-06T03:17:04Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/certbot/certbot/pulls/3856", "html_url": "https://github.com/certbot/certbot/pull/3856", "diff_url": "https://github.com/certbot/certbot/pull/3856.diff", "patch_url": "https://github.com/certbot/certbot/pull/3856.patch", "merged_at": "2016-12-06T03:17:04Z"}, "body": "Fixes #3752. ", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/3856/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/3856/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/certbot/certbot/issues/3855", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/3855/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/3855/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/3855/events", "html_url": "https://github.com/certbot/certbot/issues/3855", "id": 193601526, "node_id": "MDU6SXNzdWUxOTM2MDE1MjY=", "number": 3855, "title": "Fully check for Nginx address equality", "user": {"login": "ohemorange", "id": 1227205, "node_id": "MDQ6VXNlcjEyMjcyMDU=", "avatar_url": "https://avatars.githubusercontent.com/u/1227205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ohemorange", "html_url": "https://github.com/ohemorange", "followers_url": "https://api.github.com/users/ohemorange/followers", "following_url": "https://api.github.com/users/ohemorange/following{/other_user}", "gists_url": "https://api.github.com/users/ohemorange/gists{/gist_id}", "starred_url": "https://api.github.com/users/ohemorange/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ohemorange/subscriptions", "organizations_url": "https://api.github.com/users/ohemorange/orgs", "repos_url": "https://api.github.com/users/ohemorange/repos", "events_url": "https://api.github.com/users/ohemorange/events{/privacy}", "received_events_url": "https://api.github.com/users/ohemorange/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 258836706, "node_id": "MDU6TGFiZWwyNTg4MzY3MDY=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20nginx", "name": "area: nginx", "color": "c5def5", "default": false, "description": null}, {"id": 276239890, "node_id": "MDU6TGFiZWwyNzYyMzk4OTA=", "url": "https://api.github.com/repos/certbot/certbot/labels/easy-fix", "name": "easy-fix", "color": "207de5", "default": false, "description": null}, {"id": 281347824, "node_id": "MDU6TGFiZWwyODEzNDc4MjQ=", "url": "https://api.github.com/repos/certbot/certbot/labels/has%20pr", "name": "has pr", "color": "0052cc", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/24", "html_url": "https://github.com/certbot/certbot/milestone/24", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/24/labels", "id": 1868831, "node_id": "MDk6TWlsZXN0b25lMTg2ODgzMQ==", "number": 24, "title": "0.10.0", "description": "Cert management, script plugin, Nginx bugfixes", "creator": {"login": "pde", "id": 479213, "node_id": "MDQ6VXNlcjQ3OTIxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/479213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pde", "html_url": "https://github.com/pde", "followers_url": "https://api.github.com/users/pde/followers", "following_url": "https://api.github.com/users/pde/following{/other_user}", "gists_url": "https://api.github.com/users/pde/gists{/gist_id}", "starred_url": "https://api.github.com/users/pde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pde/subscriptions", "organizations_url": "https://api.github.com/users/pde/orgs", "repos_url": "https://api.github.com/users/pde/repos", "events_url": "https://api.github.com/users/pde/events{/privacy}", "received_events_url": "https://api.github.com/users/pde/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 144, "state": "closed", "created_at": "2016-07-06T23:58:42Z", "updated_at": "2017-04-13T22:08:16Z", "due_on": "2017-01-04T08:00:00Z", "closed_at": "2017-01-12T00:32:36Z"}, "comments": 1, "created_at": "2016-12-05T20:27:21Z", "updated_at": "2016-12-13T22:38:57Z", "closed_at": "2016-12-13T22:38:57Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "`\"0.0.0.0\"`, `\"*\"`, and `\"\"` are equivalent to Nginx but not to the parser. This will manifest as a failure to correctly label server blocks as `ssl`, or anywhere else address equality is tested. This should probably be fixed in the Nginx `Addr` object when testing equality.", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/3855/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/3855/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/3844", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/3844/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/3844/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/3844/events", "html_url": "https://github.com/certbot/certbot/issues/3844", "id": 193248983, "node_id": "MDU6SXNzdWUxOTMyNDg5ODM=", "number": 3844, "title": "Renewal: Preserve 'OCSP Must Staple' (option --must-staple)", "user": {"login": "thomaszbz", "id": 11200727, "node_id": "MDQ6VXNlcjExMjAwNzI3", "avatar_url": "https://avatars.githubusercontent.com/u/11200727?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thomaszbz", "html_url": "https://github.com/thomaszbz", "followers_url": "https://api.github.com/users/thomaszbz/followers", "following_url": "https://api.github.com/users/thomaszbz/following{/other_user}", "gists_url": "https://api.github.com/users/thomaszbz/gists{/gist_id}", "starred_url": "https://api.github.com/users/thomaszbz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thomaszbz/subscriptions", "organizations_url": "https://api.github.com/users/thomaszbz/orgs", "repos_url": "https://api.github.com/users/thomaszbz/repos", "events_url": "https://api.github.com/users/thomaszbz/events{/privacy}", "received_events_url": "https://api.github.com/users/thomaszbz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 261409142, "node_id": "MDU6TGFiZWwyNjE0MDkxNDI=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20renewal", "name": "area: renewal", "color": "c5def5", "default": false, "description": null}, {"id": 276239890, "node_id": "MDU6TGFiZWwyNzYyMzk4OTA=", "url": "https://api.github.com/repos/certbot/certbot/labels/easy-fix", "name": "easy-fix", "color": "207de5", "default": false, "description": null}, {"id": 281347824, "node_id": "MDU6TGFiZWwyODEzNDc4MjQ=", "url": "https://api.github.com/repos/certbot/certbot/labels/has%20pr", "name": "has pr", "color": "0052cc", "default": false, "description": null}, {"id": 291660454, "node_id": "MDU6TGFiZWwyOTE2NjA0NTQ=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20security%20enhancements", "name": "area: security enhancements", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/24", "html_url": "https://github.com/certbot/certbot/milestone/24", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/24/labels", "id": 1868831, "node_id": "MDk6TWlsZXN0b25lMTg2ODgzMQ==", "number": 24, "title": "0.10.0", "description": "Cert management, script plugin, Nginx bugfixes", "creator": {"login": "pde", "id": 479213, "node_id": "MDQ6VXNlcjQ3OTIxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/479213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pde", "html_url": "https://github.com/pde", "followers_url": "https://api.github.com/users/pde/followers", "following_url": "https://api.github.com/users/pde/following{/other_user}", "gists_url": "https://api.github.com/users/pde/gists{/gist_id}", "starred_url": "https://api.github.com/users/pde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pde/subscriptions", "organizations_url": "https://api.github.com/users/pde/orgs", "repos_url": "https://api.github.com/users/pde/repos", "events_url": "https://api.github.com/users/pde/events{/privacy}", "received_events_url": "https://api.github.com/users/pde/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 144, "state": "closed", "created_at": "2016-07-06T23:58:42Z", "updated_at": "2017-04-13T22:08:16Z", "due_on": "2017-01-04T08:00:00Z", "closed_at": "2017-01-12T00:32:36Z"}, "comments": 4, "created_at": "2016-12-03T00:16:55Z", "updated_at": "2017-01-05T02:07:25Z", "closed_at": "2017-01-05T02:07:25Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Description:\r\n\r\nVia #2626, Certbot creates a certificate with `OCSP Must Staple` [TLS extension](https://tools.ietf.org/html/rfc7633) when called with option `--must-staple`. Please note that this TLS extension is contained in the generated certificate file itself.\r\n\r\nHowever, the option `--must-staple` is not stored in `/etc/letsencrypt/renewal/www.example.com.conf`. In my case:\r\n\r\n```\r\n[renewalparams]\r\ninstaller = apache\r\nauthenticator = apache\r\nrsa_key_size = 4096\r\naccount = abc\r\n```\r\n\r\nThere also seems not to be an entry for `OCSP Must Staple` in the [test file](https://github.com/certbot/certbot/blob/master/certbot/tests/testdata/sample-renewal.conf#L8).\r\n\r\nWhen executing `certbot renew` for renewal, certbot renews certificates _without_ `OCSP Must Staple`, extension respectively.\r\n\r\n### Suggested Fix:\r\n\r\n- For renewal, certbot should be aware that the old certificate was generated with  `--must-staple`. That information should be stored in the `[renewalparams]` section, respectively.\r\n- For `certbot renew`, the new certificate should be generated with `--must-staple`, in case the old certificate was generated with that extension.\r\n\r\n### Use case:\r\n\r\n- I have some certificates which I want to renew with `--must-staple`, because e.g. apache supports that.\r\n- I have other certificates which I use with other software (e.g. an ancient mailserver) which does not support OCSP at all.\r\n- For `certbot renew`, certbot should be aware which one is which, using `[renewalparams]`. Otherwise, `certbot renew` would not qualify to be used for automation in my case.\r\n\r\n### Version:\r\n```\r\ncertbot --version\r\ncertbot 0.9.3\r\n```\r\n\r\nOS: Debian 8, with certbot installed via official debian repository.\r\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/3844/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/3844/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/3752", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/3752/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/3752/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/3752/events", "html_url": "https://github.com/certbot/certbot/issues/3752", "id": 187477320, "node_id": "MDU6SXNzdWUxODc0NzczMjA=", "number": 3752, "title": "Strange reinstallation errors", "user": {"login": "ohemorange", "id": 1227205, "node_id": "MDQ6VXNlcjEyMjcyMDU=", "avatar_url": "https://avatars.githubusercontent.com/u/1227205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ohemorange", "html_url": "https://github.com/ohemorange", "followers_url": "https://api.github.com/users/ohemorange/followers", "following_url": "https://api.github.com/users/ohemorange/following{/other_user}", "gists_url": "https://api.github.com/users/ohemorange/gists{/gist_id}", "starred_url": "https://api.github.com/users/ohemorange/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ohemorange/subscriptions", "organizations_url": "https://api.github.com/users/ohemorange/orgs", "repos_url": "https://api.github.com/users/ohemorange/repos", "events_url": "https://api.github.com/users/ohemorange/events{/privacy}", "received_events_url": "https://api.github.com/users/ohemorange/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 258836706, "node_id": "MDU6TGFiZWwyNTg4MzY3MDY=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20nginx", "name": "area: nginx", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "ohemorange", "id": 1227205, "node_id": "MDQ6VXNlcjEyMjcyMDU=", "avatar_url": "https://avatars.githubusercontent.com/u/1227205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ohemorange", "html_url": "https://github.com/ohemorange", "followers_url": "https://api.github.com/users/ohemorange/followers", "following_url": "https://api.github.com/users/ohemorange/following{/other_user}", "gists_url": "https://api.github.com/users/ohemorange/gists{/gist_id}", "starred_url": "https://api.github.com/users/ohemorange/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ohemorange/subscriptions", "organizations_url": "https://api.github.com/users/ohemorange/orgs", "repos_url": "https://api.github.com/users/ohemorange/repos", "events_url": "https://api.github.com/users/ohemorange/events{/privacy}", "received_events_url": "https://api.github.com/users/ohemorange/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ohemorange", "id": 1227205, "node_id": "MDQ6VXNlcjEyMjcyMDU=", "avatar_url": "https://avatars.githubusercontent.com/u/1227205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ohemorange", "html_url": "https://github.com/ohemorange", "followers_url": "https://api.github.com/users/ohemorange/followers", "following_url": "https://api.github.com/users/ohemorange/following{/other_user}", "gists_url": "https://api.github.com/users/ohemorange/gists{/gist_id}", "starred_url": "https://api.github.com/users/ohemorange/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ohemorange/subscriptions", "organizations_url": "https://api.github.com/users/ohemorange/orgs", "repos_url": "https://api.github.com/users/ohemorange/repos", "events_url": "https://api.github.com/users/ohemorange/events{/privacy}", "received_events_url": "https://api.github.com/users/ohemorange/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/24", "html_url": "https://github.com/certbot/certbot/milestone/24", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/24/labels", "id": 1868831, "node_id": "MDk6TWlsZXN0b25lMTg2ODgzMQ==", "number": 24, "title": "0.10.0", "description": "Cert management, script plugin, Nginx bugfixes", "creator": {"login": "pde", "id": 479213, "node_id": "MDQ6VXNlcjQ3OTIxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/479213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pde", "html_url": "https://github.com/pde", "followers_url": "https://api.github.com/users/pde/followers", "following_url": "https://api.github.com/users/pde/following{/other_user}", "gists_url": "https://api.github.com/users/pde/gists{/gist_id}", "starred_url": "https://api.github.com/users/pde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pde/subscriptions", "organizations_url": "https://api.github.com/users/pde/orgs", "repos_url": "https://api.github.com/users/pde/repos", "events_url": "https://api.github.com/users/pde/events{/privacy}", "received_events_url": "https://api.github.com/users/pde/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 144, "state": "closed", "created_at": "2016-07-06T23:58:42Z", "updated_at": "2017-04-13T22:08:16Z", "due_on": "2017-01-04T08:00:00Z", "closed_at": "2017-01-12T00:32:36Z"}, "comments": 1, "created_at": "2016-11-05T05:06:12Z", "updated_at": "2016-12-08T01:14:38Z", "closed_at": "2016-12-06T03:17:04Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "From jsha:\r\n```\r\nAttempting to renew cert from\r\n/etc/letsencrypt/renewal/www.hoffman-andrews.com.conf produced an\r\nunexpected error: Problem in\r\n/etc/nginx/sites-enabled/jacob.hoffman-andrews.com: tried to insert\r\ndirective \"['ssl_certificate',\r\n'/var/lib/letsencrypt/snakeoil/0011_cert.pem']\" but found conflicting\r\n\"['ssl_certificate',\r\n'/etc/letsencrypt/live/hoffman-andrews.com/fullchain.pem']\".. Skipping.\r\nAttempting to renew cert from\r\n/etc/letsencrypt/renewal/lastbart.at-0001.conf produced an unexpected\r\nerror: Account at\r\n/etc/letsencrypt/accounts/acme-staging.api.letsencrypt.org/directory/06c4ea2fe30100e185fea43f26817312\r\ndoes not exist. Skipping.\r\nAttempting to renew cert from\r\n/etc/letsencrypt/renewal/jacob.hoffman-andrews.com-0002.conf produced an\r\nunexpected error: Problem in\r\n/etc/nginx/sites-enabled/jacob.hoffman-andrews.com: tried to insert\r\ndirective \"['ssl_certificate',\r\n'/var/lib/letsencrypt/snakeoil/0012_cert.pem']\" but found conflicting\r\n\"['ssl_certificate',\r\n'/etc/letsencrypt/live/hoffman-andrews.com/fullchain.pem']\".. Skipping.\r\nAttempting to renew cert from\r\n/etc/letsencrypt/renewal/jacob.hoffman-andrews.com.conf produced an\r\nunexpected error: Account at\r\n/etc/letsencrypt/accounts/acme-staging.api.letsencrypt.org/directory/06c4ea2fe30100e185fea43f26817312\r\ndoes not exist. Skipping.\r\nAttempting to renew cert from /etc/letsencrypt/renewal/lastbart.at.conf\r\nproduced an unexpected error: Account at\r\n/etc/letsencrypt/accounts/acme-staging.api.letsencrypt.org/directory/06c4ea2fe30100e185fea43f26817312\r\ndoes not exist. Skipping.\r\nAttempting to renew cert from\r\n/etc/letsencrypt/renewal/jacob.hoffman-andrews.com-0001.conf produced an\r\nunexpected error: Account at\r\n/etc/letsencrypt/accounts/acme-staging.api.letsencrypt.org/directory/06c4ea2fe30100e185fea43f26817312\r\ndoes not exist. Skipping.\r\n\r\nThe following certs are not due for renewal yet:\r\n  /etc/letsencrypt/live/hoffman-andrews.com/fullchain.pem (skipped)\r\n  /etc/letsencrypt/live/redirecthttp.crud.net/fullchain.pem (skipped)\r\n  /etc/letsencrypt/live/crud.net/fullchain.pem (skipped)\r\n  /etc/letsencrypt/live/lastbart.at-0002/fullchain.pem (skipped)\r\nAll renewal attempts failed. The following certs could not be renewed:\r\n  /etc/letsencrypt/live/www.hoffman-andrews.com/fullchain.pem (failure)\r\n  /etc/letsencrypt/live/lastbart.at-0001/fullchain.pem (failure)\r\n  /etc/letsencrypt/live/jacob.hoffman-andrews.com-0002/fullchain.pem\r\n(failure)\r\n  /etc/letsencrypt/live/jacob.hoffman-andrews.com/fullchain.pem (failure)\r\n  /etc/letsencrypt/live/lastbart.at/fullchain.pem (failure)\r\n  /etc/letsencrypt/live/jacob.hoffman-andrews.com-0001/fullchain.pem\r\n(failure)\r\n```\r\n\r\n```\r\nserver {\r\n    listen 443;\r\n    listen [::]:443;\r\n\r\n    listen 80;\r\n    listen [::]:80;\r\n\r\n    if ($scheme != \"https\") {\r\n        return 301 https://$host$request_uri;\r\n    }\r\n    ## listen for ipv6\r\n    server_name jacob.hoffman-andrews.com;\r\n    server_name www.hoffman-andrews.com;\r\n    server_name hoffman-andrews.com;\r\n    client_max_body_size 400M;\r\n    ssl_stapling_verify on;\r\n    ssl_stapling on;\r\n    ssl_trusted_certificate\r\n/etc/letsencrypt/live/hoffman-andrews.com/chain.pem;\r\n    include /etc/letsencrypt/options-ssl-nginx.conf;\r\n    ssl_certificate_key\r\n/etc/letsencrypt/live/hoffman-andrews.com/privkey.pem;\r\n    ssl_certificate /etc/letsencrypt/live/hoffman-andrews.com/fullchain.pem;\r\n    #include conf.d/security-headers.conf;\r\n    add_header Strict-Transport-Security \"max-age=31536000;\r\nincludeSubdomains\";\r\n\r\n    location /upload/server/php/files {\r\n        location ~ \\.php$ {\r\n            return 403;\r\n        }\r\n    }\r\n\r\n    location /upload {\r\n        try_files $uri /upload/index.html;\r\n    }\r\n\r\n    location ~ /netcomix/[0-9]+/.* {\r\n        default_type image/png;\r\n    }\r\n}\r\n```\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/3752/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/3752/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/3743", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/3743/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/3743/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/3743/events", "html_url": "https://github.com/certbot/certbot/issues/3743", "id": 187419855, "node_id": "MDU6SXNzdWUxODc0MTk4NTU=", "number": 3743, "title": "Don't re-append Nginx redirect directive", "user": {"login": "ohemorange", "id": 1227205, "node_id": "MDQ6VXNlcjEyMjcyMDU=", "avatar_url": "https://avatars.githubusercontent.com/u/1227205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ohemorange", "html_url": "https://github.com/ohemorange", "followers_url": "https://api.github.com/users/ohemorange/followers", "following_url": "https://api.github.com/users/ohemorange/following{/other_user}", "gists_url": "https://api.github.com/users/ohemorange/gists{/gist_id}", "starred_url": "https://api.github.com/users/ohemorange/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ohemorange/subscriptions", "organizations_url": "https://api.github.com/users/ohemorange/orgs", "repos_url": "https://api.github.com/users/ohemorange/repos", "events_url": "https://api.github.com/users/ohemorange/events{/privacy}", "received_events_url": "https://api.github.com/users/ohemorange/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 258836706, "node_id": "MDU6TGFiZWwyNTg4MzY3MDY=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20nginx", "name": "area: nginx", "color": "c5def5", "default": false, "description": null}, {"id": 291660454, "node_id": "MDU6TGFiZWwyOTE2NjA0NTQ=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20security%20enhancements", "name": "area: security enhancements", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "ohemorange", "id": 1227205, "node_id": "MDQ6VXNlcjEyMjcyMDU=", "avatar_url": "https://avatars.githubusercontent.com/u/1227205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ohemorange", "html_url": "https://github.com/ohemorange", "followers_url": "https://api.github.com/users/ohemorange/followers", "following_url": "https://api.github.com/users/ohemorange/following{/other_user}", "gists_url": "https://api.github.com/users/ohemorange/gists{/gist_id}", "starred_url": "https://api.github.com/users/ohemorange/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ohemorange/subscriptions", "organizations_url": "https://api.github.com/users/ohemorange/orgs", "repos_url": "https://api.github.com/users/ohemorange/repos", "events_url": "https://api.github.com/users/ohemorange/events{/privacy}", "received_events_url": "https://api.github.com/users/ohemorange/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ohemorange", "id": 1227205, "node_id": "MDQ6VXNlcjEyMjcyMDU=", "avatar_url": "https://avatars.githubusercontent.com/u/1227205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ohemorange", "html_url": "https://github.com/ohemorange", "followers_url": "https://api.github.com/users/ohemorange/followers", "following_url": "https://api.github.com/users/ohemorange/following{/other_user}", "gists_url": "https://api.github.com/users/ohemorange/gists{/gist_id}", "starred_url": "https://api.github.com/users/ohemorange/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ohemorange/subscriptions", "organizations_url": "https://api.github.com/users/ohemorange/orgs", "repos_url": "https://api.github.com/users/ohemorange/repos", "events_url": "https://api.github.com/users/ohemorange/events{/privacy}", "received_events_url": "https://api.github.com/users/ohemorange/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/24", "html_url": "https://github.com/certbot/certbot/milestone/24", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/24/labels", "id": 1868831, "node_id": "MDk6TWlsZXN0b25lMTg2ODgzMQ==", "number": 24, "title": "0.10.0", "description": "Cert management, script plugin, Nginx bugfixes", "creator": {"login": "pde", "id": 479213, "node_id": "MDQ6VXNlcjQ3OTIxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/479213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pde", "html_url": "https://github.com/pde", "followers_url": "https://api.github.com/users/pde/followers", "following_url": "https://api.github.com/users/pde/following{/other_user}", "gists_url": "https://api.github.com/users/pde/gists{/gist_id}", "starred_url": "https://api.github.com/users/pde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pde/subscriptions", "organizations_url": "https://api.github.com/users/pde/orgs", "repos_url": "https://api.github.com/users/pde/repos", "events_url": "https://api.github.com/users/pde/events{/privacy}", "received_events_url": "https://api.github.com/users/pde/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 144, "state": "closed", "created_at": "2016-07-06T23:58:42Z", "updated_at": "2017-04-13T22:08:16Z", "due_on": "2017-01-04T08:00:00Z", "closed_at": "2017-01-12T00:32:36Z"}, "comments": 0, "created_at": "2016-11-04T19:32:50Z", "updated_at": "2016-12-08T01:14:38Z", "closed_at": "2016-11-07T23:48:46Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "When the user selects Reinstall > Secure and there's already a certbot-managed redirect directive, we just append another one anyway. Don't do that.", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/3743/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/3743/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/3672", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/3672/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/3672/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/3672/events", "html_url": "https://github.com/certbot/certbot/issues/3672", "id": 184501288, "node_id": "MDU6SXNzdWUxODQ1MDEyODg=", "number": 3672, "title": "Referencing unbound variable in certbot.display.ops.get_email", "user": {"login": "ieugen", "id": 1050920, "node_id": "MDQ6VXNlcjEwNTA5MjA=", "avatar_url": "https://avatars.githubusercontent.com/u/1050920?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ieugen", "html_url": "https://github.com/ieugen", "followers_url": "https://api.github.com/users/ieugen/followers", "following_url": "https://api.github.com/users/ieugen/following{/other_user}", "gists_url": "https://api.github.com/users/ieugen/gists{/gist_id}", "starred_url": "https://api.github.com/users/ieugen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ieugen/subscriptions", "organizations_url": "https://api.github.com/users/ieugen/orgs", "repos_url": "https://api.github.com/users/ieugen/repos", "events_url": "https://api.github.com/users/ieugen/events{/privacy}", "received_events_url": "https://api.github.com/users/ieugen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 149596829, "node_id": "MDU6TGFiZWwxNDk1OTY4Mjk=", "url": "https://api.github.com/repos/certbot/certbot/labels/good%20first%20issue", "name": "good first issue", "color": "c61aff", "default": true, "description": null}, {"id": 276239890, "node_id": "MDU6TGFiZWwyNzYyMzk4OTA=", "url": "https://api.github.com/repos/certbot/certbot/labels/easy-fix", "name": "easy-fix", "color": "207de5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/24", "html_url": "https://github.com/certbot/certbot/milestone/24", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/24/labels", "id": 1868831, "node_id": "MDk6TWlsZXN0b25lMTg2ODgzMQ==", "number": 24, "title": "0.10.0", "description": "Cert management, script plugin, Nginx bugfixes", "creator": {"login": "pde", "id": 479213, "node_id": "MDQ6VXNlcjQ3OTIxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/479213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pde", "html_url": "https://github.com/pde", "followers_url": "https://api.github.com/users/pde/followers", "following_url": "https://api.github.com/users/pde/following{/other_user}", "gists_url": "https://api.github.com/users/pde/gists{/gist_id}", "starred_url": "https://api.github.com/users/pde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pde/subscriptions", "organizations_url": "https://api.github.com/users/pde/orgs", "repos_url": "https://api.github.com/users/pde/repos", "events_url": "https://api.github.com/users/pde/events{/privacy}", "received_events_url": "https://api.github.com/users/pde/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 144, "state": "closed", "created_at": "2016-07-06T23:58:42Z", "updated_at": "2017-04-13T22:08:16Z", "due_on": "2017-01-04T08:00:00Z", "closed_at": "2017-01-12T00:32:36Z"}, "comments": 2, "created_at": "2016-10-21T14:36:54Z", "updated_at": "2016-12-08T01:14:37Z", "closed_at": "2016-10-24T21:51:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello, \n\nI have a new DNS domain. I have added an entry in the nameserver but it seems not to be propagated. \n\nWhen I ran certbot certonly I got this error and stacktrace:\n\n```\n2016-10-21 14:33:08,109:DEBUG:requests.packages.urllib3.connectionpool:\"POST /acme/new-reg HTTP/1.1\" 400 94\n2016-10-21 14:33:08,111:DEBUG:root:Received <Response [400]>. Headers: {'content-length': '94', 'boulder-request-id': 'FVDE0vBeNybRDlP0D8_wS7ChtpBoriwlYviCgM-f7Ow', 'expires': 'Fri, 21 Oct 2016 14:33:08 GMT', 'server': 'nginx', 'connection': 'close', 'pragma': 'no-cache', 'cache-control': 'max-age=0, no-cache, no-store', 'date': 'Fri, 21 Oct 2016 14:33:08 GMT', 'content-type': 'application/problem+json', 'replay-nonce': 'p1RG6Y8H_CKk4IdUmpEyNKxIv5yMvQ7HwQOlZvyC5t4'}. Content: '{\\n  \"type\": \"urn:acme:error:invalidEmail\",\\n  \"detail\": \"empty DNS response\",\\n  \"status\": 400\\n}'\n2016-10-21 14:33:08,111:DEBUG:acme.client:Storing nonce: '\\xa7TF\\xe9\\x8f\\x07\\xfc\"\\xa4\\xe0\\x87T\\x9a\\x9124\\xacH\\xbf\\x9c\\x8c\\xbd\\x0e\\xc7\\xc1\\x03\\xa5f\\xfc\\x82\\xe6\\xde'\n2016-10-21 14:33:08,111:DEBUG:acme.client:Received response <Response [400]> (headers: {'content-length': '94', 'boulder-request-id': 'FVDE0vBeNybRDlP0D8_wS7ChtpBoriwlYviCgM-f7Ow', 'expires': 'Fri, 21 Oct 2016 14:33:08 GMT', 'server': 'nginx', 'connection': 'close', 'pragma': 'no-cache', 'cache-control': 'max-age=0, no-cache, no-store', 'date': 'Fri, 21 Oct 2016 14:33:08 GMT', 'content-type': 'application/problem+json', 'replay-nonce': 'p1RG6Y8H_CKk4IdUmpEyNKxIv5yMvQ7HwQOlZvyC5t4'}): '{\\n  \"type\": \"urn:acme:error:invalidEmail\",\\n  \"detail\": \"empty DNS response\",\\n  \"status\": 400\\n}'\n2016-10-21 14:33:10,918:WARNING:certbot.util:Invalid email address: gr8pi.org.\n2016-10-21 14:33:10,922:DEBUG:certbot.main:Exiting abnormally:\nTraceback (most recent call last):\n  File \"/usr/bin/certbot\", line 9, in <module>\n    load_entry_point('certbot==0.8.1', 'console_scripts', 'certbot')()\n  File \"/usr/lib/python2.7/dist-packages/certbot/main.py\", line 744, in main\n    return config.func(config, plugins)\n  File \"/usr/lib/python2.7/dist-packages/certbot/main.py\", line 550, in obtain_cert\n    le_client = _init_le_client(config, auth, installer)\n  File \"/usr/lib/python2.7/dist-packages/certbot/main.py\", line 360, in _init_le_client\n    acc, acme = _determine_account(config)\n  File \"/usr/lib/python2.7/dist-packages/certbot/main.py\", line 345, in _determine_account\n    config, account_storage, tos_cb=_tos_cb)\n  File \"/usr/lib/python2.7/dist-packages/certbot/client.py\", line 120, in register\n    regr = perform_registration(acme, config)\n  File \"/usr/lib/python2.7/dist-packages/certbot/client.py\", line 153, in perform_registration\n    config.namespace.email = display_ops.get_email(invalid=True)\n  File \"/usr/lib/python2.7/dist-packages/certbot/display/ops.py\", line 63, in get_email\n    elif suggest_unsafe:\nUnboundLocalError: local variable 'suggest_unsafe' referenced before assignment\n```\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/3672/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/3672/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/3651", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/3651/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/3651/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/3651/events", "html_url": "https://github.com/certbot/certbot/pull/3651", "id": 183521047, "node_id": "MDExOlB1bGxSZXF1ZXN0ODk2OTgwOTk=", "number": 3651, "title": "Fix link to Docker's user guide", "user": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 245387015, "node_id": "MDU6TGFiZWwyNDUzODcwMTU=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20documentation", "name": "area: documentation", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "pde", "id": 479213, "node_id": "MDQ6VXNlcjQ3OTIxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/479213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pde", "html_url": "https://github.com/pde", "followers_url": "https://api.github.com/users/pde/followers", "following_url": "https://api.github.com/users/pde/following{/other_user}", "gists_url": "https://api.github.com/users/pde/gists{/gist_id}", "starred_url": "https://api.github.com/users/pde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pde/subscriptions", "organizations_url": "https://api.github.com/users/pde/orgs", "repos_url": "https://api.github.com/users/pde/repos", "events_url": "https://api.github.com/users/pde/events{/privacy}", "received_events_url": "https://api.github.com/users/pde/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "pde", "id": 479213, "node_id": "MDQ6VXNlcjQ3OTIxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/479213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pde", "html_url": "https://github.com/pde", "followers_url": "https://api.github.com/users/pde/followers", "following_url": "https://api.github.com/users/pde/following{/other_user}", "gists_url": "https://api.github.com/users/pde/gists{/gist_id}", "starred_url": "https://api.github.com/users/pde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pde/subscriptions", "organizations_url": "https://api.github.com/users/pde/orgs", "repos_url": "https://api.github.com/users/pde/repos", "events_url": "https://api.github.com/users/pde/events{/privacy}", "received_events_url": "https://api.github.com/users/pde/received_events", "type": "User", "site_admin": false}, {"login": "ohemorange", "id": 1227205, "node_id": "MDQ6VXNlcjEyMjcyMDU=", "avatar_url": "https://avatars.githubusercontent.com/u/1227205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ohemorange", "html_url": "https://github.com/ohemorange", "followers_url": "https://api.github.com/users/ohemorange/followers", "following_url": "https://api.github.com/users/ohemorange/following{/other_user}", "gists_url": "https://api.github.com/users/ohemorange/gists{/gist_id}", "starred_url": "https://api.github.com/users/ohemorange/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ohemorange/subscriptions", "organizations_url": "https://api.github.com/users/ohemorange/orgs", "repos_url": "https://api.github.com/users/ohemorange/repos", "events_url": "https://api.github.com/users/ohemorange/events{/privacy}", "received_events_url": "https://api.github.com/users/ohemorange/received_events", "type": "User", "site_admin": false}, {"login": "schoen", "id": 1750103, "node_id": "MDQ6VXNlcjE3NTAxMDM=", "avatar_url": "https://avatars.githubusercontent.com/u/1750103?v=4", "gravatar_id": "", "url": "https://api.github.com/users/schoen", "html_url": "https://github.com/schoen", "followers_url": "https://api.github.com/users/schoen/followers", "following_url": "https://api.github.com/users/schoen/following{/other_user}", "gists_url": "https://api.github.com/users/schoen/gists{/gist_id}", "starred_url": "https://api.github.com/users/schoen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/schoen/subscriptions", "organizations_url": "https://api.github.com/users/schoen/orgs", "repos_url": "https://api.github.com/users/schoen/repos", "events_url": "https://api.github.com/users/schoen/events{/privacy}", "received_events_url": "https://api.github.com/users/schoen/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2016-10-17T20:38:10Z", "updated_at": "2016-10-26T01:51:01Z", "closed_at": "2016-10-26T01:51:01Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/certbot/certbot/pulls/3651", "html_url": "https://github.com/certbot/certbot/pull/3651", "diff_url": "https://github.com/certbot/certbot/pull/3651.diff", "patch_url": "https://github.com/certbot/certbot/pull/3651.patch", "merged_at": "2016-10-26T01:51:01Z"}, "body": "Fixes certbot/website#162.\n\nIn my browser, https://docs.docker.com/userguide/ redirects to https://docs.docker.com/engine/userguide/intro/, however, in Python (and presumably Ruby), the URL returns a 404.\n\n```\n$ ipython\nPython 2.7.12 (default, Jul  1 2016, 15:12:24) \nType \"copyright\", \"credits\" or \"license\" for more information.\n\nIPython 2.4.1 -- An enhanced Interactive Python.\n?         -> Introduction and overview of IPython's features.\n%quickref -> Quick reference.\nhelp      -> Python's own help system.\nobject?   -> Details about 'object', use 'object??' for extra details.\n\nIn [1]: import requests\n\nIn [2]: requests.get(\"https://docs.docker.com/userguide/\")\nOut[2]: <Response [404]>\n```\n\nThis PR does nothing but make our tests happy.\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/3651/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/3651/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/certbot/certbot/issues/3607", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/3607/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/3607/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/3607/events", "html_url": "https://github.com/certbot/certbot/pull/3607", "id": 182141065, "node_id": "MDExOlB1bGxSZXF1ZXN0ODg3NDkzOTY=", "number": 3607, "title": "Mark parsed Nginx addresses as listening sslishly when an ssl on directive is included in the server block.", "user": {"login": "ohemorange", "id": 1227205, "node_id": "MDQ6VXNlcjEyMjcyMDU=", "avatar_url": "https://avatars.githubusercontent.com/u/1227205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ohemorange", "html_url": "https://github.com/ohemorange", "followers_url": "https://api.github.com/users/ohemorange/followers", "following_url": "https://api.github.com/users/ohemorange/following{/other_user}", "gists_url": "https://api.github.com/users/ohemorange/gists{/gist_id}", "starred_url": "https://api.github.com/users/ohemorange/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ohemorange/subscriptions", "organizations_url": "https://api.github.com/users/ohemorange/orgs", "repos_url": "https://api.github.com/users/ohemorange/repos", "events_url": "https://api.github.com/users/ohemorange/events{/privacy}", "received_events_url": "https://api.github.com/users/ohemorange/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 258836706, "node_id": "MDU6TGFiZWwyNTg4MzY3MDY=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20nginx", "name": "area: nginx", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/26", "html_url": "https://github.com/certbot/certbot/milestone/26", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/26/labels", "id": 2055559, "node_id": "MDk6TWlsZXN0b25lMjA1NTU1OQ==", "number": 26, "title": "0.9.2", "description": "Fix unit test failures that are delaying Certbot OS packaging", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 13, "state": "closed", "created_at": "2016-10-07T18:28:39Z", "updated_at": "2016-10-24T20:51:16Z", "due_on": "2016-10-10T07:00:00Z", "closed_at": "2016-10-13T00:49:38Z"}, "comments": 1, "created_at": "2016-10-10T23:46:13Z", "updated_at": "2016-10-11T02:04:35Z", "closed_at": "2016-10-11T02:04:35Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/certbot/certbot/pulls/3607", "html_url": "https://github.com/certbot/certbot/pull/3607", "diff_url": "https://github.com/certbot/certbot/pull/3607.diff", "patch_url": "https://github.com/certbot/certbot/pull/3607.patch", "merged_at": "2016-10-11T02:04:35Z"}, "body": "This should fix the original issue in #3605.\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/3607/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/3607/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/certbot/certbot/issues/3605", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/3605/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/3605/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/3605/events", "html_url": "https://github.com/certbot/certbot/issues/3605", "id": 182115575, "node_id": "MDU6SXNzdWUxODIxMTU1NzU=", "number": 3605, "title": "nginx + separate ssl/non-ssl blocks", "user": {"login": "pnomolos", "id": 36223, "node_id": "MDQ6VXNlcjM2MjIz", "avatar_url": "https://avatars.githubusercontent.com/u/36223?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pnomolos", "html_url": "https://github.com/pnomolos", "followers_url": "https://api.github.com/users/pnomolos/followers", "following_url": "https://api.github.com/users/pnomolos/following{/other_user}", "gists_url": "https://api.github.com/users/pnomolos/gists{/gist_id}", "starred_url": "https://api.github.com/users/pnomolos/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pnomolos/subscriptions", "organizations_url": "https://api.github.com/users/pnomolos/orgs", "repos_url": "https://api.github.com/users/pnomolos/repos", "events_url": "https://api.github.com/users/pnomolos/events{/privacy}", "received_events_url": "https://api.github.com/users/pnomolos/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 258836706, "node_id": "MDU6TGFiZWwyNTg4MzY3MDY=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20nginx", "name": "area: nginx", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "ohemorange", "id": 1227205, "node_id": "MDQ6VXNlcjEyMjcyMDU=", "avatar_url": "https://avatars.githubusercontent.com/u/1227205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ohemorange", "html_url": "https://github.com/ohemorange", "followers_url": "https://api.github.com/users/ohemorange/followers", "following_url": "https://api.github.com/users/ohemorange/following{/other_user}", "gists_url": "https://api.github.com/users/ohemorange/gists{/gist_id}", "starred_url": "https://api.github.com/users/ohemorange/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ohemorange/subscriptions", "organizations_url": "https://api.github.com/users/ohemorange/orgs", "repos_url": "https://api.github.com/users/ohemorange/repos", "events_url": "https://api.github.com/users/ohemorange/events{/privacy}", "received_events_url": "https://api.github.com/users/ohemorange/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ohemorange", "id": 1227205, "node_id": "MDQ6VXNlcjEyMjcyMDU=", "avatar_url": "https://avatars.githubusercontent.com/u/1227205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ohemorange", "html_url": "https://github.com/ohemorange", "followers_url": "https://api.github.com/users/ohemorange/followers", "following_url": "https://api.github.com/users/ohemorange/following{/other_user}", "gists_url": "https://api.github.com/users/ohemorange/gists{/gist_id}", "starred_url": "https://api.github.com/users/ohemorange/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ohemorange/subscriptions", "organizations_url": "https://api.github.com/users/ohemorange/orgs", "repos_url": "https://api.github.com/users/ohemorange/repos", "events_url": "https://api.github.com/users/ohemorange/events{/privacy}", "received_events_url": "https://api.github.com/users/ohemorange/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/26", "html_url": "https://github.com/certbot/certbot/milestone/26", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/26/labels", "id": 2055559, "node_id": "MDk6TWlsZXN0b25lMjA1NTU1OQ==", "number": 26, "title": "0.9.2", "description": "Fix unit test failures that are delaying Certbot OS packaging", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 13, "state": "closed", "created_at": "2016-10-07T18:28:39Z", "updated_at": "2016-10-24T20:51:16Z", "due_on": "2016-10-10T07:00:00Z", "closed_at": "2016-10-13T00:49:38Z"}, "comments": 5, "created_at": "2016-10-10T21:05:14Z", "updated_at": "2016-10-11T02:04:57Z", "closed_at": "2016-10-11T02:04:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "We have our sites set up with two server blocks per site, as so:\n\n```\nserver {\n    listen 80;\n    server_name domain.name;\n    return 301 https://$http_host$request_uri;\n}\n\nserver {\n    listen 443;\n    server_name domain.name;\n    # ...\n}\n```\n\n(See https://www.nginx.com/resources/wiki/start/topics/tutorials/config_pitfalls/#using-if - it's explicitly recommend to set things up this way rather than using an if block).\n\nThe nginx plugin currently doesn't deal very well with this set up.  I had to manually disable my SSL directives in the SSL server block for the certbot auth to succeed, then it created all the directives in the non-SSL server block, resulting in a redirect loop :)\n\n/cc @ohemorange @bmw \n\n(In reference to: https://community.letsencrypt.org/t/seeking-feedback-on-new-certbot-nginx-plugin/20693/7?u=pnomolos)\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/3605/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/3605/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/3592", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/3592/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/3592/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/3592/events", "html_url": "https://github.com/certbot/certbot/issues/3592", "id": 181372167, "node_id": "MDU6SXNzdWUxODEzNzIxNjc=", "number": 3592, "title": "certbot-auto 0.9.0 not quiet anymore", "user": {"login": "manuelmeurer", "id": 16672, "node_id": "MDQ6VXNlcjE2Njcy", "avatar_url": "https://avatars.githubusercontent.com/u/16672?v=4", "gravatar_id": "", "url": "https://api.github.com/users/manuelmeurer", "html_url": "https://github.com/manuelmeurer", "followers_url": "https://api.github.com/users/manuelmeurer/followers", "following_url": "https://api.github.com/users/manuelmeurer/following{/other_user}", "gists_url": "https://api.github.com/users/manuelmeurer/gists{/gist_id}", "starred_url": "https://api.github.com/users/manuelmeurer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/manuelmeurer/subscriptions", "organizations_url": "https://api.github.com/users/manuelmeurer/orgs", "repos_url": "https://api.github.com/users/manuelmeurer/repos", "events_url": "https://api.github.com/users/manuelmeurer/events{/privacy}", "received_events_url": "https://api.github.com/users/manuelmeurer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 200596079, "node_id": "MDU6TGFiZWwyMDA1OTYwNzk=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20ui%20/%20ux", "name": "area: ui / ux", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/25", "html_url": "https://github.com/certbot/certbot/milestone/25", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/25/labels", "id": 2053259, "node_id": "MDk6TWlsZXN0b25lMjA1MzI1OQ==", "number": 25, "title": "0.9.1", "description": "", "creator": {"login": "pde", "id": 479213, "node_id": "MDQ6VXNlcjQ3OTIxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/479213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pde", "html_url": "https://github.com/pde", "followers_url": "https://api.github.com/users/pde/followers", "following_url": "https://api.github.com/users/pde/following{/other_user}", "gists_url": "https://api.github.com/users/pde/gists{/gist_id}", "starred_url": "https://api.github.com/users/pde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pde/subscriptions", "organizations_url": "https://api.github.com/users/pde/orgs", "repos_url": "https://api.github.com/users/pde/repos", "events_url": "https://api.github.com/users/pde/events{/privacy}", "received_events_url": "https://api.github.com/users/pde/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 3, "state": "closed", "created_at": "2016-10-06T19:51:50Z", "updated_at": "2016-10-07T18:28:57Z", "due_on": "2016-10-07T07:00:00Z", "closed_at": "2016-10-07T18:28:57Z"}, "comments": 2, "created_at": "2016-10-06T10:00:30Z", "updated_at": "2016-10-06T21:14:43Z", "closed_at": "2016-10-06T21:14:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have a cron job set up that runs `sudo /usr/local/bin/certbot-auto renew --quiet` every day. Normally it produces no output but yesterday it updated `certbot-auto` to v0.9.0 and since then I get the following output on every run:\n\n```\nSaving debug log to /var/log/letsencrypt/letsencrypt.log\nCert not yet due for renewal\nCert not yet due for renewal\nCert not yet due for renewal\nCert not yet due for renewal\nCert not yet due for renewal\nCert not yet due for renewal\nCert not yet due for renewal\n```\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/3592/reactions", "total_count": 4, "+1": 4, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/3592/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/3542", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/3542/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/3542/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/3542/events", "html_url": "https://github.com/certbot/certbot/issues/3542", "id": 179350802, "node_id": "MDU6SXNzdWUxNzkzNTA4MDI=", "number": 3542, "title": "Nginx parser has trouble with existing TLS listener on 8443", "user": {"login": "schoen", "id": 1750103, "node_id": "MDQ6VXNlcjE3NTAxMDM=", "avatar_url": "https://avatars.githubusercontent.com/u/1750103?v=4", "gravatar_id": "", "url": "https://api.github.com/users/schoen", "html_url": "https://github.com/schoen", "followers_url": "https://api.github.com/users/schoen/followers", "following_url": "https://api.github.com/users/schoen/following{/other_user}", "gists_url": "https://api.github.com/users/schoen/gists{/gist_id}", "starred_url": "https://api.github.com/users/schoen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/schoen/subscriptions", "organizations_url": "https://api.github.com/users/schoen/orgs", "repos_url": "https://api.github.com/users/schoen/repos", "events_url": "https://api.github.com/users/schoen/events{/privacy}", "received_events_url": "https://api.github.com/users/schoen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 258836706, "node_id": "MDU6TGFiZWwyNTg4MzY3MDY=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20nginx", "name": "area: nginx", "color": "c5def5", "default": false, "description": null}, {"id": 277075197, "node_id": "MDU6TGFiZWwyNzcwNzUxOTc=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20compatibility-test", "name": "area: compatibility-test", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2016-09-26T22:14:12Z", "updated_at": "2019-03-13T17:08:08Z", "closed_at": "2019-03-12T09:29:16Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I'm not sure what the underlying problem is, but `certbot-compatibility-test -ai` doesn't like this sample configuration file from our corpus (which has an existing HTTPS listener on port 8443, and an HTTP listener on port 80 that generates a redirect to the HTTPS site).\n\n```\nupstream django_server_random6822.example.org {\n    server unix:/srv/http/random7047/live/website.sock;\n}\n\nserver {\n    listen 8443;\n    server_name random6822.example.org;\n\n    ssl on;\n    ssl_certificate       /etc/nginx/empty_cert.pem;\n    ssl_certificate_key   /etc/nginx/key2.pem;\n\n    location /media/ {\n        alias /srv/http/random7047/live/dynamic/public/;\n        expires 7d;\n    }\n    location /static/ {\n        alias /srv/http/random7047/live/static_collected/;\n        expires 7d;\n    }\n\n    location / {\n        proxy_pass http://django_server_random6822.example.org;\n        include          /etc/nginx/proxy_params;\n    }\n\n    access_log /var/log/access.log combined;\n    error_log  /var/log/error.log;\n}\n\nserver {\n    listen 80;\n    server_name random6822.example.org;\n\n    rewrite ^/(.*) https://random6822.example.org:8443/$1;\n}\n```\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/3542/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/3542/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/3537", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/3537/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/3537/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/3537/events", "html_url": "https://github.com/certbot/certbot/issues/3537", "id": 179111398, "node_id": "MDU6SXNzdWUxNzkxMTEzOTg=", "number": 3537, "title": "Acount foldernames with special characters", "user": {"login": "strarsis", "id": 9271436, "node_id": "MDQ6VXNlcjkyNzE0MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/9271436?v=4", "gravatar_id": "", "url": "https://api.github.com/users/strarsis", "html_url": "https://github.com/strarsis", "followers_url": "https://api.github.com/users/strarsis/followers", "following_url": "https://api.github.com/users/strarsis/following{/other_user}", "gists_url": "https://api.github.com/users/strarsis/gists{/gist_id}", "starred_url": "https://api.github.com/users/strarsis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/strarsis/subscriptions", "organizations_url": "https://api.github.com/users/strarsis/orgs", "repos_url": "https://api.github.com/users/strarsis/repos", "events_url": "https://api.github.com/users/strarsis/events{/privacy}", "received_events_url": "https://api.github.com/users/strarsis/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 1383990430, "node_id": "MDU6TGFiZWwxMzgzOTkwNDMw", "url": "https://api.github.com/repos/certbot/certbot/labels/needs-update", "name": "needs-update", "color": "ADDEE4", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/8", "html_url": "https://github.com/certbot/certbot/milestone/8", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/8/labels", "id": 1353913, "node_id": "MDk6TWlsZXN0b25lMTM1MzkxMw==", "number": 8, "title": "Important", "description": "This milestone was for things someone on the Certbot team considered necessary for the client to be out of beta, but it's become something of a holding place for many kinds of polishing tickets, and will probably need to be triaged further.", "creator": {"login": "pde", "id": 479213, "node_id": "MDQ6VXNlcjQ3OTIxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/479213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pde", "html_url": "https://github.com/pde", "followers_url": "https://api.github.com/users/pde/followers", "following_url": "https://api.github.com/users/pde/following{/other_user}", "gists_url": "https://api.github.com/users/pde/gists{/gist_id}", "starred_url": "https://api.github.com/users/pde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pde/subscriptions", "organizations_url": "https://api.github.com/users/pde/orgs", "repos_url": "https://api.github.com/users/pde/repos", "events_url": "https://api.github.com/users/pde/events{/privacy}", "received_events_url": "https://api.github.com/users/pde/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 160, "state": "closed", "created_at": "2015-10-13T19:41:13Z", "updated_at": "2020-03-20T18:56:33Z", "due_on": null, "closed_at": "2020-03-20T18:56:33Z"}, "comments": 2, "created_at": "2016-09-25T21:52:45Z", "updated_at": "2019-06-22T02:56:51Z", "closed_at": "2019-06-22T02:56:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "The account folders in config directory (--config-dir) have filenames with special characters \n(for port number) which cause trouble on some filesystems, notably Windows filesystems and shares:\n\n```\nOSError: [Errno 5] Input/output error: '[...]accounts/test:4000'\n```\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/3537/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/3537/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/3514", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/3514/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/3514/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/3514/events", "html_url": "https://github.com/certbot/certbot/issues/3514", "id": 177895620, "node_id": "MDU6SXNzdWUxNzc4OTU2MjA=", "number": 3514, "title": "Make parser.py: add_server_directives documentation consistent with functionality", "user": {"login": "ohemorange", "id": 1227205, "node_id": "MDQ6VXNlcjEyMjcyMDU=", "avatar_url": "https://avatars.githubusercontent.com/u/1227205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ohemorange", "html_url": "https://github.com/ohemorange", "followers_url": "https://api.github.com/users/ohemorange/followers", "following_url": "https://api.github.com/users/ohemorange/following{/other_user}", "gists_url": "https://api.github.com/users/ohemorange/gists{/gist_id}", "starred_url": "https://api.github.com/users/ohemorange/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ohemorange/subscriptions", "organizations_url": "https://api.github.com/users/ohemorange/orgs", "repos_url": "https://api.github.com/users/ohemorange/repos", "events_url": "https://api.github.com/users/ohemorange/events{/privacy}", "received_events_url": "https://api.github.com/users/ohemorange/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 258836706, "node_id": "MDU6TGFiZWwyNTg4MzY3MDY=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20nginx", "name": "area: nginx", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/22", "html_url": "https://github.com/certbot/certbot/milestone/22", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/22/labels", "id": 1805759, "node_id": "MDk6TWlsZXN0b25lMTgwNTc1OQ==", "number": 22, "title": "0.9.0", "description": "Nginx plugin, DNS Challenge support, plus lots of polish and bugfixes", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 131, "state": "closed", "created_at": "2016-06-02T19:22:08Z", "updated_at": "2017-04-27T23:17:01Z", "due_on": "2016-08-19T07:00:00Z", "closed_at": "2016-10-05T17:14:48Z"}, "comments": 6, "created_at": "2016-09-19T20:56:14Z", "updated_at": "2016-10-06T01:21:43Z", "closed_at": "2016-09-26T20:14:20Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Documentation and at least one calling function assume that add_server_directives performs: \"Add or replace directives in the first server block with names.\"\n\nInstead, it add or replaces directives in all server blocks with names\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/3514/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/3514/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/3497", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/3497/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/3497/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/3497/events", "html_url": "https://github.com/certbot/certbot/issues/3497", "id": 177028670, "node_id": "MDU6SXNzdWUxNzcwMjg2NzA=", "number": 3497, "title": "should_autorenew ignores symlinks", "user": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 261409142, "node_id": "MDU6TGFiZWwyNjE0MDkxNDI=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20renewal", "name": "area: renewal", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "pde", "id": 479213, "node_id": "MDQ6VXNlcjQ3OTIxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/479213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pde", "html_url": "https://github.com/pde", "followers_url": "https://api.github.com/users/pde/followers", "following_url": "https://api.github.com/users/pde/following{/other_user}", "gists_url": "https://api.github.com/users/pde/gists{/gist_id}", "starred_url": "https://api.github.com/users/pde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pde/subscriptions", "organizations_url": "https://api.github.com/users/pde/orgs", "repos_url": "https://api.github.com/users/pde/repos", "events_url": "https://api.github.com/users/pde/events{/privacy}", "received_events_url": "https://api.github.com/users/pde/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "pde", "id": 479213, "node_id": "MDQ6VXNlcjQ3OTIxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/479213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pde", "html_url": "https://github.com/pde", "followers_url": "https://api.github.com/users/pde/followers", "following_url": "https://api.github.com/users/pde/following{/other_user}", "gists_url": "https://api.github.com/users/pde/gists{/gist_id}", "starred_url": "https://api.github.com/users/pde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pde/subscriptions", "organizations_url": "https://api.github.com/users/pde/orgs", "repos_url": "https://api.github.com/users/pde/repos", "events_url": "https://api.github.com/users/pde/events{/privacy}", "received_events_url": "https://api.github.com/users/pde/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/22", "html_url": "https://github.com/certbot/certbot/milestone/22", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/22/labels", "id": 1805759, "node_id": "MDk6TWlsZXN0b25lMTgwNTc1OQ==", "number": 22, "title": "0.9.0", "description": "Nginx plugin, DNS Challenge support, plus lots of polish and bugfixes", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 131, "state": "closed", "created_at": "2016-06-02T19:22:08Z", "updated_at": "2017-04-27T23:17:01Z", "due_on": "2016-08-19T07:00:00Z", "closed_at": "2016-10-05T17:14:48Z"}, "comments": 11, "created_at": "2016-09-14T21:39:42Z", "updated_at": "2016-10-06T01:21:43Z", "closed_at": "2016-10-04T17:35:07Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Imagine the following scenario (which happened to a user). You've successfully completed your challenges from Let's Encrypt and you're renewing your certificates. After saving all four of `cert.pem`, `privkey.pem`, `chain.pem`, and `fullchain.pem` to `/etc/letsencrypt/archive`, you hit ctrl+C. Your symlinks in `/etc/letsencrypt/live` were never updated.\n\nWhen you run `certbot renew` again, Certbot will tell your certificate is not due for renewal. This is because we currently check the expiration of the newest entry in `/etc/letsencrypt/archive` that has all four of the files listed above ([source](https://github.com/certbot/certbot/blob/master/certbot/storage.py#L706)). We do not check the symlink.\n\nThere are a number of ways to fix this, but this is a pretty bad bug and should be resolved before we release 0.9.0.\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/3497/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/3497/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/3494", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/3494/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/3494/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/3494/events", "html_url": "https://github.com/certbot/certbot/issues/3494", "id": 176790329, "node_id": "MDU6SXNzdWUxNzY3OTAzMjk=", "number": 3494, "title": "Apache should only redirect the requested domains", "user": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 258836903, "node_id": "MDU6TGFiZWwyNTg4MzY5MDM=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20apache", "name": "area: apache", "color": "c5def5", "default": false, "description": null}, {"id": 1226192732, "node_id": "MDU6TGFiZWwxMjI2MTkyNzMy", "url": "https://api.github.com/repos/certbot/certbot/labels/priority:%20unplanned", "name": "priority: unplanned", "color": "5319e7", "default": false, "description": "Work that we believe should be done, but does not have a higher priority."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-09-14T01:14:13Z", "updated_at": "2022-11-18T18:26:35Z", "closed_at": "2022-11-18T18:26:35Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "This vhost:\n\n```\n<VirtualHost *:80>\n    ServerName example.com\n    ServerAlias http.example.com\n...\n```\n\nplus this command:\n\n```\ncertbot -d example.com --redirect --apache\n```\n\nequals:\n\n```\n<VirtualHost *:80>\n    ServerName example.com\n    ServerAlias http.example.com\n...\nRewriteEngine on\nRewriteCond %{SERVER_NAME} =http.example.com [OR]\nRewriteCond %{SERVER_NAME} =example.com\nRewriteRule ^ https://%{SERVER_NAME}%{REQUEST_URI} [END,QSA,R=permanent]\n</VirtualHost>\n```\n\nShouldn't we only be redirecting the domains that were actually requested by the user?\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/3494/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/3494/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/3394", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/3394/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/3394/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/3394/events", "html_url": "https://github.com/certbot/certbot/issues/3394", "id": 170606679, "node_id": "MDU6SXNzdWUxNzA2MDY2Nzk=", "number": 3394, "title": "Hooks do not get stored in renewal config file", "user": {"login": "maddes-b", "id": 565223, "node_id": "MDQ6VXNlcjU2NTIyMw==", "avatar_url": "https://avatars.githubusercontent.com/u/565223?v=4", "gravatar_id": "", "url": "https://api.github.com/users/maddes-b", "html_url": "https://github.com/maddes-b", "followers_url": "https://api.github.com/users/maddes-b/followers", "following_url": "https://api.github.com/users/maddes-b/following{/other_user}", "gists_url": "https://api.github.com/users/maddes-b/gists{/gist_id}", "starred_url": "https://api.github.com/users/maddes-b/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/maddes-b/subscriptions", "organizations_url": "https://api.github.com/users/maddes-b/orgs", "repos_url": "https://api.github.com/users/maddes-b/repos", "events_url": "https://api.github.com/users/maddes-b/events{/privacy}", "received_events_url": "https://api.github.com/users/maddes-b/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 261409142, "node_id": "MDU6TGFiZWwyNjE0MDkxNDI=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20renewal", "name": "area: renewal", "color": "c5def5", "default": false, "description": null}, {"id": 281347824, "node_id": "MDU6TGFiZWwyODEzNDc4MjQ=", "url": "https://api.github.com/repos/certbot/certbot/labels/has%20pr", "name": "has pr", "color": "0052cc", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "pde", "id": 479213, "node_id": "MDQ6VXNlcjQ3OTIxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/479213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pde", "html_url": "https://github.com/pde", "followers_url": "https://api.github.com/users/pde/followers", "following_url": "https://api.github.com/users/pde/following{/other_user}", "gists_url": "https://api.github.com/users/pde/gists{/gist_id}", "starred_url": "https://api.github.com/users/pde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pde/subscriptions", "organizations_url": "https://api.github.com/users/pde/orgs", "repos_url": "https://api.github.com/users/pde/repos", "events_url": "https://api.github.com/users/pde/events{/privacy}", "received_events_url": "https://api.github.com/users/pde/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "pde", "id": 479213, "node_id": "MDQ6VXNlcjQ3OTIxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/479213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pde", "html_url": "https://github.com/pde", "followers_url": "https://api.github.com/users/pde/followers", "following_url": "https://api.github.com/users/pde/following{/other_user}", "gists_url": "https://api.github.com/users/pde/gists{/gist_id}", "starred_url": "https://api.github.com/users/pde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pde/subscriptions", "organizations_url": "https://api.github.com/users/pde/orgs", "repos_url": "https://api.github.com/users/pde/repos", "events_url": "https://api.github.com/users/pde/events{/privacy}", "received_events_url": "https://api.github.com/users/pde/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/24", "html_url": "https://github.com/certbot/certbot/milestone/24", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/24/labels", "id": 1868831, "node_id": "MDk6TWlsZXN0b25lMTg2ODgzMQ==", "number": 24, "title": "0.10.0", "description": "Cert management, script plugin, Nginx bugfixes", "creator": {"login": "pde", "id": 479213, "node_id": "MDQ6VXNlcjQ3OTIxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/479213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pde", "html_url": "https://github.com/pde", "followers_url": "https://api.github.com/users/pde/followers", "following_url": "https://api.github.com/users/pde/following{/other_user}", "gists_url": "https://api.github.com/users/pde/gists{/gist_id}", "starred_url": "https://api.github.com/users/pde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pde/subscriptions", "organizations_url": "https://api.github.com/users/pde/orgs", "repos_url": "https://api.github.com/users/pde/repos", "events_url": "https://api.github.com/users/pde/events{/privacy}", "received_events_url": "https://api.github.com/users/pde/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 144, "state": "closed", "created_at": "2016-07-06T23:58:42Z", "updated_at": "2017-04-13T22:08:16Z", "due_on": "2017-01-04T08:00:00Z", "closed_at": "2017-01-12T00:32:36Z"}, "comments": 22, "created_at": "2016-08-11T09:42:29Z", "updated_at": "2018-01-30T16:53:15Z", "closed_at": "2017-01-05T19:43:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "OS: Debian 8 \"Jessie\" with all current updates (as of 2016-08-10)\nPackage: certbot 0.8.1-2~bpo8+ from jessie-backports\n\nWhen getting a new cert via certonly then the hook definitions are not executed and stored in the renewal config file.\nUsed certonly with --config for domain specific stuff and the hook definitions did not get executed and are missing in the renewal config file.\nAlso checked with a fresh setup and defining the hook on the command line with \"--post-hook 'systemctl reload apache2'\", but no difference.\nExpected behaviour after reading the docs was that the post hook gets executed on certonly and also stored in the renewal config file.\nGetting the certifcate and renewal itself works fine.\n\nMy setup:\n- File /etc/letsencrypt/cli.ini contains just registration config\n- File /home/root/setup_files/files_letsencrypt/letsencrypt/letsencrypt.www.example.ltd.conf contains the domain config for the initial certonly call\n- Executed certbot certonly --noninteractive --test-cert --config /home/root/setup_files/files_letsencrypt/letsencrypt/letsencrypt.www.example.ltd.conf\n- Renewal file /etc/letsencrypt/renewal/www.example.ltd.conf was created\n\nFollowing is the content of those file. The content was changed to only have example.ltd instead of the original multiple domains and webroots.\n\n1) /etc/letsencrypt/cli.ini\n\n```\nemail = someone@example.ltd\nagree-tos\nupdate-registration\n```\n\n2) /home/root/setup_files/files_letsencrypt/letsencrypt/letsencrypt.www.example.ltd.conf\n\n```\nauthenticator = webroot\n\npost-hook = systemctl reload apache2\n\n### results will be in /etc/letsencrypt/live/<1st domain>\n### here: /etc/letsencrypt/live/www.example.ltd/[cert|fullchain].pem and privkey.pem\n\n### use domain to define the first domain (only works 100% on initial request)\ndomain = www.example.ltd\n\n### in config file have to use webroot-map for multiple webroot-paths\n### webroot-map must be a single line (as of 0.8.1)\nwebroot-map = {\"www.example.ltd,example.ltd\":\"/home/maddes/www/example.ltd/httpdocs/\" }\n\n### ATTENTION!!!\n### csr will make the cert not renewable via renew command, but can still be renewed via certonly\n#csr = /etc/ssl/private/services-4096.www.example.ltd.sha512.csr\n### paths are ignored when *not* called with csr\n#cert-path = /etc/ssl/certs/services-4096.www.example.ltd.sha256.letsencrypt.crt\n#fullchain-path = /etc/ssl/certs/services-4096.www.example.ltd.sha256.letsencrypt-chain.crt\n#chain-path = /tmp/services-4096.www.example.ltd.sha256.letsencrypt-dummy.crt\n```\n\n3) /etc/letsencrypt/renewal/www.example.ltd.conf\n\n```\n# renew_before_expiry = 30 days\nversion = 0.8.1\ncert = /etc/letsencrypt/live/www.example.ltd/cert.pem\nprivkey = /etc/letsencrypt/live/www.example.ltd/privkey.pem\nchain = /etc/letsencrypt/live/www.example.ltd/chain.pem\nfullchain = /etc/letsencrypt/live/www.example.ltd/fullchain.pem\n\n# Options used in the renewal process\n[renewalparams]\nauthenticator = webroot\ninstaller = None\naccount = 617630c4c6dc6937564c6450602deb92\nserver = https://acme-staging.api.letsencrypt.org/directory\n[[webroot_map]]\nexample.ltd = /home/maddes/www/example.ltd/httpdocs\nwww.example.ltd = /home/maddes/www/example.ltd/httpdocs\n```\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/3394/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/3394/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/3362", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/3362/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/3362/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/3362/events", "html_url": "https://github.com/certbot/certbot/issues/3362", "id": 168661877, "node_id": "MDU6SXNzdWUxNjg2NjE4Nzc=", "number": 3362, "title": "\"LE probably shut down unexpectedly\"", "user": {"login": "ChrisHoman", "id": 2571694, "node_id": "MDQ6VXNlcjI1NzE2OTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/2571694?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ChrisHoman", "html_url": "https://github.com/ChrisHoman", "followers_url": "https://api.github.com/users/ChrisHoman/followers", "following_url": "https://api.github.com/users/ChrisHoman/following{/other_user}", "gists_url": "https://api.github.com/users/ChrisHoman/gists{/gist_id}", "starred_url": "https://api.github.com/users/ChrisHoman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ChrisHoman/subscriptions", "organizations_url": "https://api.github.com/users/ChrisHoman/orgs", "repos_url": "https://api.github.com/users/ChrisHoman/repos", "events_url": "https://api.github.com/users/ChrisHoman/events{/privacy}", "received_events_url": "https://api.github.com/users/ChrisHoman/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 239432238, "node_id": "MDU6TGFiZWwyMzk0MzIyMzg=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20fedora%20/%20redhat%20/%20CentOS", "name": "area: fedora / redhat / CentOS", "color": "c5def5", "default": false, "description": null}, {"id": 258836903, "node_id": "MDU6TGFiZWwyNTg4MzY5MDM=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20apache", "name": "area: apache", "color": "c5def5", "default": false, "description": null}, {"id": 1383990430, "node_id": "MDU6TGFiZWwxMzgzOTkwNDMw", "url": "https://api.github.com/repos/certbot/certbot/labels/needs-update", "name": "needs-update", "color": "ADDEE4", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/8", "html_url": "https://github.com/certbot/certbot/milestone/8", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/8/labels", "id": 1353913, "node_id": "MDk6TWlsZXN0b25lMTM1MzkxMw==", "number": 8, "title": "Important", "description": "This milestone was for things someone on the Certbot team considered necessary for the client to be out of beta, but it's become something of a holding place for many kinds of polishing tickets, and will probably need to be triaged further.", "creator": {"login": "pde", "id": 479213, "node_id": "MDQ6VXNlcjQ3OTIxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/479213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pde", "html_url": "https://github.com/pde", "followers_url": "https://api.github.com/users/pde/followers", "following_url": "https://api.github.com/users/pde/following{/other_user}", "gists_url": "https://api.github.com/users/pde/gists{/gist_id}", "starred_url": "https://api.github.com/users/pde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pde/subscriptions", "organizations_url": "https://api.github.com/users/pde/orgs", "repos_url": "https://api.github.com/users/pde/repos", "events_url": "https://api.github.com/users/pde/events{/privacy}", "received_events_url": "https://api.github.com/users/pde/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 160, "state": "closed", "created_at": "2015-10-13T19:41:13Z", "updated_at": "2020-03-20T18:56:33Z", "due_on": null, "closed_at": "2020-03-20T18:56:33Z"}, "comments": 17, "created_at": "2016-08-01T14:39:02Z", "updated_at": "2019-06-19T01:57:20Z", "closed_at": "2019-06-19T01:57:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "Tried running LE on Centos 6 - Apache 2.4.3\n\nInstalled using these root commands:\n\n```\nyum install epel-release\nwget https://dl.eff.org/certbot-auto\nchmod a+x certbot-auto\n```\n\nWhen I run `./certbot-auto --apache` I run through these dialogs:\n\n![screen shot 2016-08-01 at 15 26 25](https://cloud.githubusercontent.com/assets/2571694/17297175/85b186f6-57fc-11e6-8170-0149c17bc0d0.png)\n![screen shot 2016-08-01 at 15 26 43](https://cloud.githubusercontent.com/assets/2571694/17297182/88e49ebc-57fc-11e6-97cf-2702a7f09ee2.png)\n![screen shot 2016-08-01 at 15 26 58](https://cloud.githubusercontent.com/assets/2571694/17297192/90aa8eea-57fc-11e6-8dcf-491685f7db3b.png)\nAnd I get this error: \n\nAn unexpected error occurred:  \nIOError: [Errno 2] No such file or directory: '/etc/httpd/conf.d/le_tls_sni_01_cert_challenge.conf'\nPlease see the logfiles in /var/log/letsencrypt for more details.\n\nThe log file is attached here:\n\n[letsencrypt.log.txt](https://github.com/certbot/certbot/files/394038/letsencrypt.log.txt)\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/3362/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 1, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/3362/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/3334", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/3334/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/3334/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/3334/events", "html_url": "https://github.com/certbot/certbot/issues/3334", "id": 167844586, "node_id": "MDU6SXNzdWUxNjc4NDQ1ODY=", "number": 3334, "title": "psutil fails to install because hash is missing when running certbot-auto", "user": {"login": "joohoi", "id": 5235109, "node_id": "MDQ6VXNlcjUyMzUxMDk=", "avatar_url": "https://avatars.githubusercontent.com/u/5235109?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joohoi", "html_url": "https://github.com/joohoi", "followers_url": "https://api.github.com/users/joohoi/followers", "following_url": "https://api.github.com/users/joohoi/following{/other_user}", "gists_url": "https://api.github.com/users/joohoi/gists{/gist_id}", "starred_url": "https://api.github.com/users/joohoi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joohoi/subscriptions", "organizations_url": "https://api.github.com/users/joohoi/orgs", "repos_url": "https://api.github.com/users/joohoi/repos", "events_url": "https://api.github.com/users/joohoi/events{/privacy}", "received_events_url": "https://api.github.com/users/joohoi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 276243379, "node_id": "MDU6TGFiZWwyNzYyNDMzNzk=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20certbot-auto", "name": "area: certbot-auto", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/22", "html_url": "https://github.com/certbot/certbot/milestone/22", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/22/labels", "id": 1805759, "node_id": "MDk6TWlsZXN0b25lMTgwNTc1OQ==", "number": 22, "title": "0.9.0", "description": "Nginx plugin, DNS Challenge support, plus lots of polish and bugfixes", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 131, "state": "closed", "created_at": "2016-06-02T19:22:08Z", "updated_at": "2017-04-27T23:17:01Z", "due_on": "2016-08-19T07:00:00Z", "closed_at": "2016-10-05T17:14:48Z"}, "comments": 0, "created_at": "2016-07-27T12:45:13Z", "updated_at": "2016-10-06T01:21:40Z", "closed_at": "2016-07-27T15:54:08Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "certbot-auto pulls packages from pypi, and the latest version still has psutil dependency from setup.py, but in the git master version has the hashes already removed. Dependency needs to be restored, and removed gradually.\n\nCommunity forum thread: https://community.letsencrypt.org/t/had-a-problem-while-installing-python-packages/18333\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/3334/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/3334/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/3210", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/3210/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/3210/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/3210/events", "html_url": "https://github.com/certbot/certbot/issues/3210", "id": 162131393, "node_id": "MDU6SXNzdWUxNjIxMzEzOTM=", "number": 3210, "title": "certbot removes http->https rules corrupts ruleset", "user": {"login": "padjon", "id": 11526149, "node_id": "MDQ6VXNlcjExNTI2MTQ5", "avatar_url": "https://avatars.githubusercontent.com/u/11526149?v=4", "gravatar_id": "", "url": "https://api.github.com/users/padjon", "html_url": "https://github.com/padjon", "followers_url": "https://api.github.com/users/padjon/followers", "following_url": "https://api.github.com/users/padjon/following{/other_user}", "gists_url": "https://api.github.com/users/padjon/gists{/gist_id}", "starred_url": "https://api.github.com/users/padjon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/padjon/subscriptions", "organizations_url": "https://api.github.com/users/padjon/orgs", "repos_url": "https://api.github.com/users/padjon/repos", "events_url": "https://api.github.com/users/padjon/events{/privacy}", "received_events_url": "https://api.github.com/users/padjon/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 258836903, "node_id": "MDU6TGFiZWwyNTg4MzY5MDM=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20apache", "name": "area: apache", "color": "c5def5", "default": false, "description": null}, {"id": 291660454, "node_id": "MDU6TGFiZWwyOTE2NjA0NTQ=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20security%20enhancements", "name": "area: security enhancements", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sagi", "id": 6293471, "node_id": "MDQ6VXNlcjYyOTM0NzE=", "avatar_url": "https://avatars.githubusercontent.com/u/6293471?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sagi", "html_url": "https://github.com/sagi", "followers_url": "https://api.github.com/users/sagi/followers", "following_url": "https://api.github.com/users/sagi/following{/other_user}", "gists_url": "https://api.github.com/users/sagi/gists{/gist_id}", "starred_url": "https://api.github.com/users/sagi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sagi/subscriptions", "organizations_url": "https://api.github.com/users/sagi/orgs", "repos_url": "https://api.github.com/users/sagi/repos", "events_url": "https://api.github.com/users/sagi/events{/privacy}", "received_events_url": "https://api.github.com/users/sagi/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sagi", "id": 6293471, "node_id": "MDQ6VXNlcjYyOTM0NzE=", "avatar_url": "https://avatars.githubusercontent.com/u/6293471?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sagi", "html_url": "https://github.com/sagi", "followers_url": "https://api.github.com/users/sagi/followers", "following_url": "https://api.github.com/users/sagi/following{/other_user}", "gists_url": "https://api.github.com/users/sagi/gists{/gist_id}", "starred_url": "https://api.github.com/users/sagi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sagi/subscriptions", "organizations_url": "https://api.github.com/users/sagi/orgs", "repos_url": "https://api.github.com/users/sagi/repos", "events_url": "https://api.github.com/users/sagi/events{/privacy}", "received_events_url": "https://api.github.com/users/sagi/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/22", "html_url": "https://github.com/certbot/certbot/milestone/22", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/22/labels", "id": 1805759, "node_id": "MDk6TWlsZXN0b25lMTgwNTc1OQ==", "number": 22, "title": "0.9.0", "description": "Nginx plugin, DNS Challenge support, plus lots of polish and bugfixes", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 131, "state": "closed", "created_at": "2016-06-02T19:22:08Z", "updated_at": "2017-04-27T23:17:01Z", "due_on": "2016-08-19T07:00:00Z", "closed_at": "2016-10-05T17:14:48Z"}, "comments": 2, "created_at": "2016-06-24T11:52:49Z", "updated_at": "2016-10-06T01:21:38Z", "closed_at": "2016-07-08T23:06:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "certbot removes rewrite-rules which may result in endless forwarding rules. It should also remove the corresponding conditions because this corrupts the ruleset otherwise.\n\nHere is my ruleset:\n\nRewriteEngine On\nRewriteCond %{HTTPS} !=on\nRewriteRule .\\* https://%{SERVER_NAME}%{REQUEST_URI} [NE,R,L]\nRewriteCond %{DOCUMENT_ROOT}/%{REQUEST_FILENAME} !-f\nRewriteRule ^/(.*)$ balancer://unicornservers%{REQUEST_URI} [P,QSA,L]\n\ncertbot changes this to:\n\nRewriteEngine On\nRewriteCond %{HTTPS} !=on\n# RewriteRule .\\* https://%{SERVER_NAME}%{REQUEST_URI} [NE,R,L]\n\nRewriteCond %{DOCUMENT_ROOT}/%{REQUEST_FILENAME} !-f\nRewriteRule ^/(.*)$ balancer://unicornservers%{REQUEST_URI} [P,QSA,L]\n\nNow the RewriteCond in line 1 is applied to the last RewriteRule and changes thereby the conditions for this rule.\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/3210/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/3210/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/3206", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/3206/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/3206/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/3206/events", "html_url": "https://github.com/certbot/certbot/issues/3206", "id": 162027086, "node_id": "MDU6SXNzdWUxNjIwMjcwODY=", "number": 3206, "title": "Nginx parser apparently can't parse \"map\"", "user": {"login": "schoen", "id": 1750103, "node_id": "MDQ6VXNlcjE3NTAxMDM=", "avatar_url": "https://avatars.githubusercontent.com/u/1750103?v=4", "gravatar_id": "", "url": "https://api.github.com/users/schoen", "html_url": "https://github.com/schoen", "followers_url": "https://api.github.com/users/schoen/followers", "following_url": "https://api.github.com/users/schoen/following{/other_user}", "gists_url": "https://api.github.com/users/schoen/gists{/gist_id}", "starred_url": "https://api.github.com/users/schoen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/schoen/subscriptions", "organizations_url": "https://api.github.com/users/schoen/orgs", "repos_url": "https://api.github.com/users/schoen/repos", "events_url": "https://api.github.com/users/schoen/events{/privacy}", "received_events_url": "https://api.github.com/users/schoen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 258836706, "node_id": "MDU6TGFiZWwyNTg4MzY3MDY=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20nginx", "name": "area: nginx", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "pde", "id": 479213, "node_id": "MDQ6VXNlcjQ3OTIxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/479213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pde", "html_url": "https://github.com/pde", "followers_url": "https://api.github.com/users/pde/followers", "following_url": "https://api.github.com/users/pde/following{/other_user}", "gists_url": "https://api.github.com/users/pde/gists{/gist_id}", "starred_url": "https://api.github.com/users/pde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pde/subscriptions", "organizations_url": "https://api.github.com/users/pde/orgs", "repos_url": "https://api.github.com/users/pde/repos", "events_url": "https://api.github.com/users/pde/events{/privacy}", "received_events_url": "https://api.github.com/users/pde/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "pde", "id": 479213, "node_id": "MDQ6VXNlcjQ3OTIxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/479213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pde", "html_url": "https://github.com/pde", "followers_url": "https://api.github.com/users/pde/followers", "following_url": "https://api.github.com/users/pde/following{/other_user}", "gists_url": "https://api.github.com/users/pde/gists{/gist_id}", "starred_url": "https://api.github.com/users/pde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pde/subscriptions", "organizations_url": "https://api.github.com/users/pde/orgs", "repos_url": "https://api.github.com/users/pde/repos", "events_url": "https://api.github.com/users/pde/events{/privacy}", "received_events_url": "https://api.github.com/users/pde/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/22", "html_url": "https://github.com/certbot/certbot/milestone/22", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/22/labels", "id": 1805759, "node_id": "MDk6TWlsZXN0b25lMTgwNTc1OQ==", "number": 22, "title": "0.9.0", "description": "Nginx plugin, DNS Challenge support, plus lots of polish and bugfixes", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 131, "state": "closed", "created_at": "2016-06-02T19:22:08Z", "updated_at": "2017-04-27T23:17:01Z", "due_on": "2016-08-19T07:00:00Z", "closed_at": "2016-10-05T17:14:48Z"}, "comments": 1, "created_at": "2016-06-23T21:26:12Z", "updated_at": "2016-10-06T01:21:38Z", "closed_at": "2016-07-13T22:54:17Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I was looking at issues on the nginxparser project and found this one:\n\nhttps://github.com/fatiherikli/nginxparser/issues/19\n\nIt appears to me that we can't parse configurations containing this. I got something like\n\n`ParseException: Expected stringEnd (at char 100), (line:5, col:1)`\n\nwhen trying to `nginxparser.loads()` a file that included that map directive.\n\ncc @pde \n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/3206/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/3206/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/3178", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/3178/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/3178/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/3178/events", "html_url": "https://github.com/certbot/certbot/issues/3178", "id": 160525167, "node_id": "MDU6SXNzdWUxNjA1MjUxNjc=", "number": 3178, "title": "certbot config_changes crashes on partial checkpoints", "user": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2016-06-15T21:12:43Z", "updated_at": "2020-03-20T18:28:07Z", "closed_at": "2020-03-20T18:28:04Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "In the CentOS 6 docker image, I ran the following instructions:\n\n```\nyum update -y\nyum install epel-release httpd -y\ncd $(mktemp -d)\ncurl -O https://dl.eff.org/certbot-auto\nchmod a+x certbot-auto\n./certbot-auto --os-packages-only -n\nvirtualenv --no-site-packages venv\n. ./venv/bin/activate\npip install certbot-apache\ncertbot -d example.com,www.example.com --redirect\ncertbot config_changes\n```\n\nAfter running the final command I got this traceback:\n\n```\nTraceback (most recent call last):\n  File \"/tmp/tmp.bAqH3wJJN5/venv/bin/certbot\", line 11, in <module>\n    sys.exit(main())\n  File \"/tmp/tmp.bAqH3wJJN5/venv/lib/python2.6/site-packages/certbot/main.py\", line 744, in main\n    return config.func(config, plugins)\n  File \"/tmp/tmp.bAqH3wJJN5/venv/lib/python2.6/site-packages/certbot/main.py\", line 469, in config_changes\n    client.view_config_changes(config, num=config.num)\n  File \"/tmp/tmp.bAqH3wJJN5/venv/lib/python2.6/site-packages/certbot/client.py\", line 574, in view_config_changes\n    rev.view_config_changes(num)\n  File \"/tmp/tmp.bAqH3wJJN5/venv/lib/python2.6/site-packages/certbot/reverter.py\", line 136, in view_config_changes\n    with open(os.path.join(cur_dir, \"FILEPATHS\")) as paths_fd:\nIOError: [Errno 2] No such file or directory: '/var/lib/letsencrypt/backups/1465952656.69/FILEPATHS'\n```\n\n@SwartzCr, do you think you could take a look at this?\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/3178/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/3178/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/3170", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/3170/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/3170/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/3170/events", "html_url": "https://github.com/certbot/certbot/issues/3170", "id": 160132350, "node_id": "MDU6SXNzdWUxNjAxMzIzNTA=", "number": 3170, "title": "\"certbot renew --standalone\" restarts apache (all webservers?) after a renewal.", "user": {"login": "KoffieNu", "id": 5707742, "node_id": "MDQ6VXNlcjU3MDc3NDI=", "avatar_url": "https://avatars.githubusercontent.com/u/5707742?v=4", "gravatar_id": "", "url": "https://api.github.com/users/KoffieNu", "html_url": "https://github.com/KoffieNu", "followers_url": "https://api.github.com/users/KoffieNu/followers", "following_url": "https://api.github.com/users/KoffieNu/following{/other_user}", "gists_url": "https://api.github.com/users/KoffieNu/gists{/gist_id}", "starred_url": "https://api.github.com/users/KoffieNu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/KoffieNu/subscriptions", "organizations_url": "https://api.github.com/users/KoffieNu/orgs", "repos_url": "https://api.github.com/users/KoffieNu/repos", "events_url": "https://api.github.com/users/KoffieNu/events{/privacy}", "received_events_url": "https://api.github.com/users/KoffieNu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 146954792, "node_id": "MDU6TGFiZWwxNDY5NTQ3OTI=", "url": "https://api.github.com/repos/certbot/certbot/labels/question", "name": "question", "color": "cc3399", "default": true, "description": null}, {"id": 200596079, "node_id": "MDU6TGFiZWwyMDA1OTYwNzk=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20ui%20/%20ux", "name": "area: ui / ux", "color": "c5def5", "default": false, "description": null}, {"id": 261409142, "node_id": "MDU6TGFiZWwyNjE0MDkxNDI=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20renewal", "name": "area: renewal", "color": "c5def5", "default": false, "description": null}, {"id": 1383990430, "node_id": "MDU6TGFiZWwxMzgzOTkwNDMw", "url": "https://api.github.com/repos/certbot/certbot/labels/needs-update", "name": "needs-update", "color": "ADDEE4", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/8", "html_url": "https://github.com/certbot/certbot/milestone/8", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/8/labels", "id": 1353913, "node_id": "MDk6TWlsZXN0b25lMTM1MzkxMw==", "number": 8, "title": "Important", "description": "This milestone was for things someone on the Certbot team considered necessary for the client to be out of beta, but it's become something of a holding place for many kinds of polishing tickets, and will probably need to be triaged further.", "creator": {"login": "pde", "id": 479213, "node_id": "MDQ6VXNlcjQ3OTIxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/479213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pde", "html_url": "https://github.com/pde", "followers_url": "https://api.github.com/users/pde/followers", "following_url": "https://api.github.com/users/pde/following{/other_user}", "gists_url": "https://api.github.com/users/pde/gists{/gist_id}", "starred_url": "https://api.github.com/users/pde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pde/subscriptions", "organizations_url": "https://api.github.com/users/pde/orgs", "repos_url": "https://api.github.com/users/pde/repos", "events_url": "https://api.github.com/users/pde/events{/privacy}", "received_events_url": "https://api.github.com/users/pde/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 160, "state": "closed", "created_at": "2015-10-13T19:41:13Z", "updated_at": "2020-03-20T18:56:33Z", "due_on": null, "closed_at": "2020-03-20T18:56:33Z"}, "comments": 7, "created_at": "2016-06-14T09:10:26Z", "updated_at": "2019-06-20T17:17:01Z", "closed_at": "2019-06-20T17:17:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "Kinda related to #3149 .\n\nTo work around this I was able to renew my certificates by stopping apache, using the standalone option and then starting it. However, after each renewed cert, apache is reloaded, even when certbot runs in standalone mode and the web server wasn't running when certbot was started. (can't it wants the port available)\n\nIt's totally logical to reload a web server when using it's plugin, but please, leave the server alone when running in standalone mode. It's a fallback for when the regular modes don't work. (or you're renewing a cert for something else, like an imap server...)\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/3170/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/3170/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/3157", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/3157/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/3157/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/3157/events", "html_url": "https://github.com/certbot/certbot/issues/3157", "id": 159839169, "node_id": "MDU6SXNzdWUxNTk4MzkxNjk=", "number": 3157, "title": "certbot-auto trouble finding Python interpreter on Mac OS X system", "user": {"login": "hamptonmoore", "id": 8162992, "node_id": "MDQ6VXNlcjgxNjI5OTI=", "avatar_url": "https://avatars.githubusercontent.com/u/8162992?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hamptonmoore", "html_url": "https://github.com/hamptonmoore", "followers_url": "https://api.github.com/users/hamptonmoore/followers", "following_url": "https://api.github.com/users/hamptonmoore/following{/other_user}", "gists_url": "https://api.github.com/users/hamptonmoore/gists{/gist_id}", "starred_url": "https://api.github.com/users/hamptonmoore/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hamptonmoore/subscriptions", "organizations_url": "https://api.github.com/users/hamptonmoore/orgs", "repos_url": "https://api.github.com/users/hamptonmoore/repos", "events_url": "https://api.github.com/users/hamptonmoore/events{/privacy}", "received_events_url": "https://api.github.com/users/hamptonmoore/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 146954793, "node_id": "MDU6TGFiZWwxNDY5NTQ3OTM=", "url": "https://api.github.com/repos/certbot/certbot/labels/wontfix", "name": "wontfix", "color": "ffffff", "default": true, "description": null}, {"id": 253794701, "node_id": "MDU6TGFiZWwyNTM3OTQ3MDE=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20macOS", "name": "area: macOS", "color": "c5def5", "default": false, "description": null}, {"id": 276243379, "node_id": "MDU6TGFiZWwyNzYyNDMzNzk=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20certbot-auto", "name": "area: certbot-auto", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-06-12T17:51:41Z", "updated_at": "2017-04-18T22:14:35Z", "closed_at": "2017-04-18T22:14:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "When I run on a mac I keep getting this error\n./certbot-auto: /usr/local/bin/pip: /usr/local/opt/python/bin/python2.7: bad interpreter: No such file or directory\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/3157/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/3157/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/3153", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/3153/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/3153/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/3153/events", "html_url": "https://github.com/certbot/certbot/issues/3153", "id": 159736918, "node_id": "MDU6SXNzdWUxNTk3MzY5MTg=", "number": 3153, "title": "Interactive webroot values not stored in renewal config file", "user": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/23", "html_url": "https://github.com/certbot/certbot/milestone/23", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/23/labels", "id": 1827940, "node_id": "MDk6TWlsZXN0b25lMTgyNzk0MA==", "number": 23, "title": "0.8.1", "description": "Renewal and OS X bug fixes", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 21, "state": "closed", "created_at": "2016-06-15T01:23:13Z", "updated_at": "2016-08-13T01:36:19Z", "due_on": null, "closed_at": "2016-06-15T01:25:27Z"}, "comments": 0, "created_at": "2016-06-10T22:41:46Z", "updated_at": "2016-06-15T01:24:00Z", "closed_at": "2016-06-14T21:23:28Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "This is due to using mutable values as the default in `argparse` such as `list` and `dict` and then reaching inside `argparse` to check the defaults in `storage.py`. The result is modifications to these values also modify the default, meaning they always compare equal to the default value and `storage.py` thinks they should not be saved.\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/3153/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/3153/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/3148", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/3148/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/3148/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/3148/events", "html_url": "https://github.com/certbot/certbot/issues/3148", "id": 159617082, "node_id": "MDU6SXNzdWUxNTk2MTcwODI=", "number": 3148, "title": "No handlers could be found for logger \"certbot.crypto_util\"", "user": {"login": "HepplerDotNet", "id": 12952240, "node_id": "MDQ6VXNlcjEyOTUyMjQw", "avatar_url": "https://avatars.githubusercontent.com/u/12952240?v=4", "gravatar_id": "", "url": "https://api.github.com/users/HepplerDotNet", "html_url": "https://github.com/HepplerDotNet", "followers_url": "https://api.github.com/users/HepplerDotNet/followers", "following_url": "https://api.github.com/users/HepplerDotNet/following{/other_user}", "gists_url": "https://api.github.com/users/HepplerDotNet/gists{/gist_id}", "starred_url": "https://api.github.com/users/HepplerDotNet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/HepplerDotNet/subscriptions", "organizations_url": "https://api.github.com/users/HepplerDotNet/orgs", "repos_url": "https://api.github.com/users/HepplerDotNet/repos", "events_url": "https://api.github.com/users/HepplerDotNet/events{/privacy}", "received_events_url": "https://api.github.com/users/HepplerDotNet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 200596079, "node_id": "MDU6TGFiZWwyMDA1OTYwNzk=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20ui%20/%20ux", "name": "area: ui / ux", "color": "c5def5", "default": false, "description": null}, {"id": 272789317, "node_id": "MDU6TGFiZWwyNzI3ODkzMTc=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20error%20handling", "name": "area: error handling", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/35", "html_url": "https://github.com/certbot/certbot/milestone/35", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/35/labels", "id": 2375335, "node_id": "MDk6TWlsZXN0b25lMjM3NTMzNQ==", "number": 35, "title": "0.14.0", "description": "", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 44, "state": "closed", "created_at": "2017-03-09T18:57:34Z", "updated_at": "2018-02-06T00:50:46Z", "due_on": "2017-05-04T07:00:00Z", "closed_at": "2017-05-05T01:27:47Z"}, "comments": 9, "created_at": "2016-06-10T11:41:45Z", "updated_at": "2017-04-13T20:42:02Z", "closed_at": "2017-04-13T20:42:02Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I'm using this python script for a while to renew certs and update TLSA records in DNS:\nhttps://gist.github.com/PatrickHeppler/064f6463d14fcf7d7a99f18f68a10684\n\nBut now certbot errors out: No handlers could be found for logger \"certbot.crypto_util\" which \"triggers\" my error handling. The certificates are signed, that's not the problem. But my script sees an error from letsencrypt and stops processing. I could disable the check, but that's a bad idea.\n\nHow to fix this? Missing package maybe?\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/3148/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/3148/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/3077", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/3077/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/3077/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/3077/events", "html_url": "https://github.com/certbot/certbot/issues/3077", "id": 157039868, "node_id": "MDU6SXNzdWUxNTcwMzk4Njg=", "number": 3077, "title": "Issue with boulder-start.sh", "user": {"login": "cowlicks", "id": 598099, "node_id": "MDQ6VXNlcjU5ODA5OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/598099?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cowlicks", "html_url": "https://github.com/cowlicks", "followers_url": "https://api.github.com/users/cowlicks/followers", "following_url": "https://api.github.com/users/cowlicks/following{/other_user}", "gists_url": "https://api.github.com/users/cowlicks/gists{/gist_id}", "starred_url": "https://api.github.com/users/cowlicks/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cowlicks/subscriptions", "organizations_url": "https://api.github.com/users/cowlicks/orgs", "repos_url": "https://api.github.com/users/cowlicks/repos", "events_url": "https://api.github.com/users/cowlicks/events{/privacy}", "received_events_url": "https://api.github.com/users/cowlicks/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 263357278, "node_id": "MDU6TGFiZWwyNjMzNTcyNzg=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20testing", "name": "area: testing", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-05-26T17:45:01Z", "updated_at": "2018-10-30T22:45:36Z", "closed_at": "2018-10-30T22:45:35Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "When I run boulder start on master:\n\n```\n(venv)\u279c  ~/github/letsencrypt git:(master) ./tests/boulder-start.sh\n+ git clone -b docker-integration https://github.com/letsencrypt/boulder\nCloning into 'boulder'...\nremote: Counting objects: 23370, done.\nremote: Compressing objects: 100% (88/88), done.\nremote: Total 23370 (delta 40), reused 0 (delta 0), pack-reused 23280\nReceiving objects: 100% (23370/23370), 18.37 MiB | 452.00 KiB/s, done.\nResolving deltas: 100% (14269/14269), done.\nChecking connectivity... done.\n+ cd\n+ sed -i 's/FAKE_DNS: .*/FAKE_DNS: 172.17.42.1/' docker-compose.yml\nsed: can't read docker-compose.yml: No such file or directory\n./tests/boulder-start.sh: line 9: ./start.py: No such file or directory\n```\n\nThe problem:\n1. `boulder-start.sh` [calls](https://github.com/certbot/certbot/blob/master/tests/boulder-start.sh#L6) the `boulder-fetch.sh` script. \n2. `boulder-fetch.sh` tries to git clone boulder into the `$BOULDERPATh` directory [here](https://github.com/certbot/certbot/blob/master/tests/boulder-fetch.sh#L6). But that isn't set anywhere. So it just it just goes in the certbot directory.\n3. We pop back to `boulder-start.sh`, where we `cd $GOPATH/src/github.com/letsencrypt/boulder` because this used to be where boulder would go, back when we got boulder with `go get`. So this directory either doesn't exist or is empty (my case), or has an old copy of boulder.\n4. Try to run `start.py`, but it isn't there so fail.\n\nSince we need to get a special branch, I don't think we could use go get. So we need to set `$BOULDERPATH` properly. Probably to `$GOPATH/src/github.com/letsencrypt/` in `boulder-start.sh`.\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/3077/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/3077/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/3075", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/3075/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/3075/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/3075/events", "html_url": "https://github.com/certbot/certbot/issues/3075", "id": 156900442, "node_id": "MDU6SXNzdWUxNTY5MDA0NDI=", "number": 3075, "title": "Provide neither an e-mail or --register-unsafely flag", "user": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 200596079, "node_id": "MDU6TGFiZWwyMDA1OTYwNzk=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20ui%20/%20ux", "name": "area: ui / ux", "color": "c5def5", "default": false, "description": null}, {"id": 281347824, "node_id": "MDU6TGFiZWwyODEzNDc4MjQ=", "url": "https://api.github.com/repos/certbot/certbot/labels/has%20pr", "name": "has pr", "color": "0052cc", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/21", "html_url": "https://github.com/certbot/certbot/milestone/21", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/21/labels", "id": 1770201, "node_id": "MDk6TWlsZXN0b25lMTc3MDIwMQ==", "number": 21, "title": "0.8.0", "description": "Register verb and minor bug fixes", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 17, "state": "closed", "created_at": "2016-05-17T01:06:36Z", "updated_at": "2016-06-14T22:06:25Z", "due_on": "2016-06-14T07:00:00Z", "closed_at": "2016-06-02T21:53:10Z"}, "comments": 1, "created_at": "2016-05-26T04:20:29Z", "updated_at": "2016-06-01T06:21:11Z", "closed_at": "2016-06-01T06:21:11Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "1. Run the client with the `certonly` or `run` subcommands and a fresh config.\n2. When asked for an e-mail, provide one that passes the clients `safe_email` test but will fail when sent to boulder. I used `<keyboard mashing>@<keyboard mashing>.com`.\n3. When asked for an e-mail again, cancel. The client will register without an e-mail address.\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/3075/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/3075/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/3057", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/3057/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/3057/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/3057/events", "html_url": "https://github.com/certbot/certbot/issues/3057", "id": 156392294, "node_id": "MDU6SXNzdWUxNTYzOTIyOTQ=", "number": 3057, "title": "Bug in FQDN detection: installer wrongly interprets _ ", "user": {"login": "wkoszek", "id": 483344, "node_id": "MDQ6VXNlcjQ4MzM0NA==", "avatar_url": "https://avatars.githubusercontent.com/u/483344?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wkoszek", "html_url": "https://github.com/wkoszek", "followers_url": "https://api.github.com/users/wkoszek/followers", "following_url": "https://api.github.com/users/wkoszek/following{/other_user}", "gists_url": "https://api.github.com/users/wkoszek/gists{/gist_id}", "starred_url": "https://api.github.com/users/wkoszek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wkoszek/subscriptions", "organizations_url": "https://api.github.com/users/wkoszek/orgs", "repos_url": "https://api.github.com/users/wkoszek/repos", "events_url": "https://api.github.com/users/wkoszek/events{/privacy}", "received_events_url": "https://api.github.com/users/wkoszek/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/22", "html_url": "https://github.com/certbot/certbot/milestone/22", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/22/labels", "id": 1805759, "node_id": "MDk6TWlsZXN0b25lMTgwNTc1OQ==", "number": 22, "title": "0.9.0", "description": "Nginx plugin, DNS Challenge support, plus lots of polish and bugfixes", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 131, "state": "closed", "created_at": "2016-06-02T19:22:08Z", "updated_at": "2017-04-27T23:17:01Z", "due_on": "2016-08-19T07:00:00Z", "closed_at": "2016-10-05T17:14:48Z"}, "comments": 7, "created_at": "2016-05-23T23:59:42Z", "updated_at": "2016-10-06T01:21:36Z", "closed_at": "2016-06-18T02:17:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Problem\n\nI'm attempting to get a certificate for a new domain with a following format:\n\n`wkoszek_nc2.x.mycompany.com`\n\nHowever the client seems to get confused about `_`. Upon removing the `_` from the domain name, it works fine. For example, this works OK:\n\n`wkoszeknc2.x.mycompany.com`\n## To reproduce the problem:\n\nUse this command to reproduce:\n\n`# ./certbot-auto certonly --standalone --email wkoszek@mycompany.com -d wkoszek_nc2.x.mycompany.com\n`\n\nI'm getting this:\n\n```\nChecking for new version...\nRequesting root privileges to run certbot...\n   /root/.local/share/letsencrypt/bin/letsencrypt certonly --standalone --email wkoszek@mycompany.com -d wkoszek_nc2.x.mycompany.com\nRequested domain wkoszek_nc2.x.mycompany.com is not a FQDN\n```\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/3057/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/3057/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/3056", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/3056/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/3056/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/3056/events", "html_url": "https://github.com/certbot/certbot/issues/3056", "id": 156389997, "node_id": "MDU6SXNzdWUxNTYzODk5OTc=", "number": 3056, "title": "Installer thinks bare TLD is not a valid FQDN", "user": {"login": "eligrey", "id": 46995, "node_id": "MDQ6VXNlcjQ2OTk1", "avatar_url": "https://avatars.githubusercontent.com/u/46995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eligrey", "html_url": "https://github.com/eligrey", "followers_url": "https://api.github.com/users/eligrey/followers", "following_url": "https://api.github.com/users/eligrey/following{/other_user}", "gists_url": "https://api.github.com/users/eligrey/gists{/gist_id}", "starred_url": "https://api.github.com/users/eligrey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eligrey/subscriptions", "organizations_url": "https://api.github.com/users/eligrey/orgs", "repos_url": "https://api.github.com/users/eligrey/repos", "events_url": "https://api.github.com/users/eligrey/events{/privacy}", "received_events_url": "https://api.github.com/users/eligrey/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/22", "html_url": "https://github.com/certbot/certbot/milestone/22", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/22/labels", "id": 1805759, "node_id": "MDk6TWlsZXN0b25lMTgwNTc1OQ==", "number": 22, "title": "0.9.0", "description": "Nginx plugin, DNS Challenge support, plus lots of polish and bugfixes", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 131, "state": "closed", "created_at": "2016-06-02T19:22:08Z", "updated_at": "2017-04-27T23:17:01Z", "due_on": "2016-08-19T07:00:00Z", "closed_at": "2016-10-05T17:14:48Z"}, "comments": 0, "created_at": "2016-05-23T23:39:57Z", "updated_at": "2016-10-06T01:21:36Z", "closed_at": "2016-06-18T02:17:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "If you attempt to enter either \"[ai](http://ai.)\" or \"[ai.](http://ai.)\" (same with [to](http://to.)), the installer complains about it not being a valid FQDN. It is a valid FQDN, and the installer should allow it to proceed with validation. Oddly enough, the installer _does_ treat `user@tld` properly for email entry.\n\nOther TLDs such as IO used to also have websites hosted directly on their TLD. [ai](http://ai.) and [to](http://to.) are just two such examples of websites being hosted directly on a TLD.\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/3056/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/3056/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/3048", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/3048/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/3048/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/3048/events", "html_url": "https://github.com/certbot/certbot/issues/3048", "id": 156100288, "node_id": "MDU6SXNzdWUxNTYxMDAyODg=", "number": 3048, "title": "certbot prompts re-installation for expired certs", "user": {"login": "SwartzCr", "id": 649860, "node_id": "MDQ6VXNlcjY0OTg2MA==", "avatar_url": "https://avatars.githubusercontent.com/u/649860?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SwartzCr", "html_url": "https://github.com/SwartzCr", "followers_url": "https://api.github.com/users/SwartzCr/followers", "following_url": "https://api.github.com/users/SwartzCr/following{/other_user}", "gists_url": "https://api.github.com/users/SwartzCr/gists{/gist_id}", "starred_url": "https://api.github.com/users/SwartzCr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SwartzCr/subscriptions", "organizations_url": "https://api.github.com/users/SwartzCr/orgs", "repos_url": "https://api.github.com/users/SwartzCr/repos", "events_url": "https://api.github.com/users/SwartzCr/events{/privacy}", "received_events_url": "https://api.github.com/users/SwartzCr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 146954792, "node_id": "MDU6TGFiZWwxNDY5NTQ3OTI=", "url": "https://api.github.com/repos/certbot/certbot/labels/question", "name": "question", "color": "cc3399", "default": true, "description": null}, {"id": 261409142, "node_id": "MDU6TGFiZWwyNjE0MDkxNDI=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20renewal", "name": "area: renewal", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "schoen", "id": 1750103, "node_id": "MDQ6VXNlcjE3NTAxMDM=", "avatar_url": "https://avatars.githubusercontent.com/u/1750103?v=4", "gravatar_id": "", "url": "https://api.github.com/users/schoen", "html_url": "https://github.com/schoen", "followers_url": "https://api.github.com/users/schoen/followers", "following_url": "https://api.github.com/users/schoen/following{/other_user}", "gists_url": "https://api.github.com/users/schoen/gists{/gist_id}", "starred_url": "https://api.github.com/users/schoen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/schoen/subscriptions", "organizations_url": "https://api.github.com/users/schoen/orgs", "repos_url": "https://api.github.com/users/schoen/repos", "events_url": "https://api.github.com/users/schoen/events{/privacy}", "received_events_url": "https://api.github.com/users/schoen/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "schoen", "id": 1750103, "node_id": "MDQ6VXNlcjE3NTAxMDM=", "avatar_url": "https://avatars.githubusercontent.com/u/1750103?v=4", "gravatar_id": "", "url": "https://api.github.com/users/schoen", "html_url": "https://github.com/schoen", "followers_url": "https://api.github.com/users/schoen/followers", "following_url": "https://api.github.com/users/schoen/following{/other_user}", "gists_url": "https://api.github.com/users/schoen/gists{/gist_id}", "starred_url": "https://api.github.com/users/schoen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/schoen/subscriptions", "organizations_url": "https://api.github.com/users/schoen/orgs", "repos_url": "https://api.github.com/users/schoen/repos", "events_url": "https://api.github.com/users/schoen/events{/privacy}", "received_events_url": "https://api.github.com/users/schoen/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/22", "html_url": "https://github.com/certbot/certbot/milestone/22", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/22/labels", "id": 1805759, "node_id": "MDk6TWlsZXN0b25lMTgwNTc1OQ==", "number": 22, "title": "0.9.0", "description": "Nginx plugin, DNS Challenge support, plus lots of polish and bugfixes", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 131, "state": "closed", "created_at": "2016-06-02T19:22:08Z", "updated_at": "2017-04-27T23:17:01Z", "due_on": "2016-08-19T07:00:00Z", "closed_at": "2016-10-05T17:14:48Z"}, "comments": 11, "created_at": "2016-05-21T12:43:20Z", "updated_at": "2017-03-09T22:38:45Z", "closed_at": "2017-03-09T22:38:22Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "On my server I have an expired cert, but when certbot tries to parse the config file it doesn't see that it needs to be renewed and offers to just re-install it. This might be because we've added a renewal window section to the config file but old files don't have it?\nconfig:\n\n```\ncert = /etc/letsencrypt/live/catplanet.cat/cert.pem\nprivkey = /etc/letsencrypt/live/catplanet.cat/privkey.pem\nchain = /etc/letsencrypt/live/catplanet.cat/chain.pem\nfullchain = /etc/letsencrypt/live/catplanet.cat/fullchain.pem\n\n# Options and defaults used in the renewal process\n[renewalparams]\nno_self_upgrade = False\napache_enmod = a2enmod\nno_verify_ssl = False\nifaces = None\napache_dismod = a2dismod\nregister_unsafely_without_email = False\napache_handle_modules = True\nuir = None\ninstaller = apache\nnginx_ctl = nginx\nconfig_dir = /etc/letsencrypt\ntext_mode = True\nfunc = <function run at 0x3805c80>\nstaging = False\ndry_run = False\nwork_dir = /var/lib/letsencrypt\ntos = False\ninit = False\nhttp01_port = 80\nduplicate = False\nnoninteractive_mode = False\nkey_path = None\nnginx = False\nnginx_server_root = /etc/nginx\nfullchain_path = None\nemail = None\ncsr = None\nagree_dev_preview = None\nredirect = None\nverb = run\nverbose_count = -3\nconfig_file = None\nrenew_by_default = False\nhsts = False\napache_handle_sites = True\nauthenticator = apache\ndomains = catplanet.cat,\nrsa_key_size = 2048\napache_challenge_location = /etc/apache2\ncheckpoints = 1\nmanual_test_mode = False\napache = True\ncert_path = None\nwebroot_path = ,\nreinstall = False\nexpand = False\nstrict_permissions = False\napache_server_root = /etc/apache2\naccount = 7102d106709f6586d54e910aa3d23e07\nprepare = False\nmanual_public_ip_logging_ok = False\nchain_path = None\nbreak_my_certs = False\nstandalone = False\nmanual = False\nserver = https://acme-v01.api.letsencrypt.org/directory\nstandalone_supported_challenges = \"tls-sni-01,http-01\"\nwebroot = False\nos_packages_only = False\napache_init_script = None\nuser_agent = None\napache_ctl = None\napache_le_vhost_ext = -le-ssl.conf\ndebug = False\ntls_sni_01_port = 443\nlogs_dir = /var/log/letsencrypt\napache_vhost_root = /etc/apache2/sites-available\nconfigurator = None\n[[webroot_map]]\n```\n\nand SSL Labs:\n![sslmate](https://cloud.githubusercontent.com/assets/649860/15448448/e1b29ee6-1f16-11e6-92bf-56270f00a10f.jpg)\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/3048/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/3048/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/3012", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/3012/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/3012/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/3012/events", "html_url": "https://github.com/certbot/certbot/issues/3012", "id": 155290126, "node_id": "MDU6SXNzdWUxNTUyOTAxMjY=", "number": 3012, "title": "AttributeError: 'Namespace' object has no attribute 'changes_since_path'", "user": {"login": "frankw2", "id": 785577, "node_id": "MDQ6VXNlcjc4NTU3Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/785577?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frankw2", "html_url": "https://github.com/frankw2", "followers_url": "https://api.github.com/users/frankw2/followers", "following_url": "https://api.github.com/users/frankw2/following{/other_user}", "gists_url": "https://api.github.com/users/frankw2/gists{/gist_id}", "starred_url": "https://api.github.com/users/frankw2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frankw2/subscriptions", "organizations_url": "https://api.github.com/users/frankw2/orgs", "repos_url": "https://api.github.com/users/frankw2/repos", "events_url": "https://api.github.com/users/frankw2/events{/privacy}", "received_events_url": "https://api.github.com/users/frankw2/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "pde", "id": 479213, "node_id": "MDQ6VXNlcjQ3OTIxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/479213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pde", "html_url": "https://github.com/pde", "followers_url": "https://api.github.com/users/pde/followers", "following_url": "https://api.github.com/users/pde/following{/other_user}", "gists_url": "https://api.github.com/users/pde/gists{/gist_id}", "starred_url": "https://api.github.com/users/pde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pde/subscriptions", "organizations_url": "https://api.github.com/users/pde/orgs", "repos_url": "https://api.github.com/users/pde/repos", "events_url": "https://api.github.com/users/pde/events{/privacy}", "received_events_url": "https://api.github.com/users/pde/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "pde", "id": 479213, "node_id": "MDQ6VXNlcjQ3OTIxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/479213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pde", "html_url": "https://github.com/pde", "followers_url": "https://api.github.com/users/pde/followers", "following_url": "https://api.github.com/users/pde/following{/other_user}", "gists_url": "https://api.github.com/users/pde/gists{/gist_id}", "starred_url": "https://api.github.com/users/pde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pde/subscriptions", "organizations_url": "https://api.github.com/users/pde/orgs", "repos_url": "https://api.github.com/users/pde/repos", "events_url": "https://api.github.com/users/pde/events{/privacy}", "received_events_url": "https://api.github.com/users/pde/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/20", "html_url": "https://github.com/certbot/certbot/milestone/20", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/20/labels", "id": 1640144, "node_id": "MDk6TWlsZXN0b25lMTY0MDE0NA==", "number": 20, "title": "0.7.0", "description": "", "creator": {"login": "pde", "id": 479213, "node_id": "MDQ6VXNlcjQ3OTIxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/479213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pde", "html_url": "https://github.com/pde", "followers_url": "https://api.github.com/users/pde/followers", "following_url": "https://api.github.com/users/pde/following{/other_user}", "gists_url": "https://api.github.com/users/pde/gists{/gist_id}", "starred_url": "https://api.github.com/users/pde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pde/subscriptions", "organizations_url": "https://api.github.com/users/pde/orgs", "repos_url": "https://api.github.com/users/pde/repos", "events_url": "https://api.github.com/users/pde/events{/privacy}", "received_events_url": "https://api.github.com/users/pde/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 54, "state": "closed", "created_at": "2016-03-12T02:18:26Z", "updated_at": "2016-08-17T20:34:36Z", "due_on": "2016-05-19T07:00:00Z", "closed_at": "2016-05-27T21:29:15Z"}, "comments": 3, "created_at": "2016-05-17T15:31:09Z", "updated_at": "2016-05-27T20:34:15Z", "closed_at": "2016-05-25T04:45:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "This error comes up when I try to use certbot-auto with apache, so it is unable to set up enhancement redirect.\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/3012/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/3012/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/2987", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/2987/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/2987/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/2987/events", "html_url": "https://github.com/certbot/certbot/issues/2987", "id": 154809789, "node_id": "MDU6SXNzdWUxNTQ4MDk3ODk=", "number": 2987, "title": "*-auto arg parsing problems", "user": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 276243379, "node_id": "MDU6TGFiZWwyNzYyNDMzNzk=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20certbot-auto", "name": "area: certbot-auto", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/20", "html_url": "https://github.com/certbot/certbot/milestone/20", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/20/labels", "id": 1640144, "node_id": "MDk6TWlsZXN0b25lMTY0MDE0NA==", "number": 20, "title": "0.7.0", "description": "", "creator": {"login": "pde", "id": 479213, "node_id": "MDQ6VXNlcjQ3OTIxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/479213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pde", "html_url": "https://github.com/pde", "followers_url": "https://api.github.com/users/pde/followers", "following_url": "https://api.github.com/users/pde/following{/other_user}", "gists_url": "https://api.github.com/users/pde/gists{/gist_id}", "starred_url": "https://api.github.com/users/pde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pde/subscriptions", "organizations_url": "https://api.github.com/users/pde/orgs", "repos_url": "https://api.github.com/users/pde/repos", "events_url": "https://api.github.com/users/pde/events{/privacy}", "received_events_url": "https://api.github.com/users/pde/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 54, "state": "closed", "created_at": "2016-03-12T02:18:26Z", "updated_at": "2016-08-17T20:34:36Z", "due_on": "2016-05-19T07:00:00Z", "closed_at": "2016-05-27T21:29:15Z"}, "comments": 4, "created_at": "2016-05-13T22:08:21Z", "updated_at": "2016-05-27T20:34:14Z", "closed_at": "2016-05-17T21:33:25Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "If you run `certbot-auto --os-packages-only`, `getopts` parses the `n`, thinks you mean `-n` and forces yes in your package manager.\n\nTo do what we want in a portable way, I think we'll have to do argument parsing by hand.\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/2987/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/2987/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/2984", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/2984/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/2984/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/2984/events", "html_url": "https://github.com/certbot/certbot/issues/2984", "id": 154723074, "node_id": "MDU6SXNzdWUxNTQ3MjMwNzQ=", "number": 2984, "title": "post-hook runs alway while renew", "user": {"login": "AleksCee", "id": 2960655, "node_id": "MDQ6VXNlcjI5NjA2NTU=", "avatar_url": "https://avatars.githubusercontent.com/u/2960655?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AleksCee", "html_url": "https://github.com/AleksCee", "followers_url": "https://api.github.com/users/AleksCee/followers", "following_url": "https://api.github.com/users/AleksCee/following{/other_user}", "gists_url": "https://api.github.com/users/AleksCee/gists{/gist_id}", "starred_url": "https://api.github.com/users/AleksCee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AleksCee/subscriptions", "organizations_url": "https://api.github.com/users/AleksCee/orgs", "repos_url": "https://api.github.com/users/AleksCee/repos", "events_url": "https://api.github.com/users/AleksCee/events{/privacy}", "received_events_url": "https://api.github.com/users/AleksCee/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 261409142, "node_id": "MDU6TGFiZWwyNjE0MDkxNDI=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20renewal", "name": "area: renewal", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "pde", "id": 479213, "node_id": "MDQ6VXNlcjQ3OTIxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/479213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pde", "html_url": "https://github.com/pde", "followers_url": "https://api.github.com/users/pde/followers", "following_url": "https://api.github.com/users/pde/following{/other_user}", "gists_url": "https://api.github.com/users/pde/gists{/gist_id}", "starred_url": "https://api.github.com/users/pde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pde/subscriptions", "organizations_url": "https://api.github.com/users/pde/orgs", "repos_url": "https://api.github.com/users/pde/repos", "events_url": "https://api.github.com/users/pde/events{/privacy}", "received_events_url": "https://api.github.com/users/pde/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "pde", "id": 479213, "node_id": "MDQ6VXNlcjQ3OTIxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/479213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pde", "html_url": "https://github.com/pde", "followers_url": "https://api.github.com/users/pde/followers", "following_url": "https://api.github.com/users/pde/following{/other_user}", "gists_url": "https://api.github.com/users/pde/gists{/gist_id}", "starred_url": "https://api.github.com/users/pde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pde/subscriptions", "organizations_url": "https://api.github.com/users/pde/orgs", "repos_url": "https://api.github.com/users/pde/repos", "events_url": "https://api.github.com/users/pde/events{/privacy}", "received_events_url": "https://api.github.com/users/pde/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/20", "html_url": "https://github.com/certbot/certbot/milestone/20", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/20/labels", "id": 1640144, "node_id": "MDk6TWlsZXN0b25lMTY0MDE0NA==", "number": 20, "title": "0.7.0", "description": "", "creator": {"login": "pde", "id": 479213, "node_id": "MDQ6VXNlcjQ3OTIxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/479213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pde", "html_url": "https://github.com/pde", "followers_url": "https://api.github.com/users/pde/followers", "following_url": "https://api.github.com/users/pde/following{/other_user}", "gists_url": "https://api.github.com/users/pde/gists{/gist_id}", "starred_url": "https://api.github.com/users/pde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pde/subscriptions", "organizations_url": "https://api.github.com/users/pde/orgs", "repos_url": "https://api.github.com/users/pde/repos", "events_url": "https://api.github.com/users/pde/events{/privacy}", "received_events_url": "https://api.github.com/users/pde/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 54, "state": "closed", "created_at": "2016-03-12T02:18:26Z", "updated_at": "2016-08-17T20:34:36Z", "due_on": "2016-05-19T07:00:00Z", "closed_at": "2016-05-27T21:29:15Z"}, "comments": 2, "created_at": "2016-05-13T14:21:31Z", "updated_at": "2016-05-27T20:34:14Z", "closed_at": "2016-05-18T23:31:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\n\nmy certy are from yesterday and I test a cronjob....\n\n```\n# cat letsencrypt.cron \n#!/bin/sh\ncd /...somepath.../tools/letsencrypt\n./letsencrypt-auto renew -vvv --post-hook \"service apache2 reload && service postfix restart\"\n```\n\nBut apache is reloaded and postfix ist restartet - in the output I see:\n\n```\nThe following certs are not due for renewal yet:\n  /etc/letsencrypt/live/somedomain.tl/fullchain.pem (skipped)\nNo renewals were attempted.\n2016-05-13 16:13:48,278:DEBUG:certbot.renewal:no renewal failures\n2016-05-13 16:13:48,278:INFO:certbot.hooks:Running post-hook command: service apache2 reload && service postfix restart\n```\n\nWhere is my mistake?\n\nThanks, Alex\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/2984/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/2984/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/2977", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/2977/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/2977/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/2977/events", "html_url": "https://github.com/certbot/certbot/issues/2977", "id": 154582732, "node_id": "MDU6SXNzdWUxNTQ1ODI3MzI=", "number": 2977, "title": "--dry-run on renew didn't work", "user": {"login": "AleksCee", "id": 2960655, "node_id": "MDQ6VXNlcjI5NjA2NTU=", "avatar_url": "https://avatars.githubusercontent.com/u/2960655?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AleksCee", "html_url": "https://github.com/AleksCee", "followers_url": "https://api.github.com/users/AleksCee/followers", "following_url": "https://api.github.com/users/AleksCee/following{/other_user}", "gists_url": "https://api.github.com/users/AleksCee/gists{/gist_id}", "starred_url": "https://api.github.com/users/AleksCee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AleksCee/subscriptions", "organizations_url": "https://api.github.com/users/AleksCee/orgs", "repos_url": "https://api.github.com/users/AleksCee/repos", "events_url": "https://api.github.com/users/AleksCee/events{/privacy}", "received_events_url": "https://api.github.com/users/AleksCee/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 261409142, "node_id": "MDU6TGFiZWwyNjE0MDkxNDI=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20renewal", "name": "area: renewal", "color": "c5def5", "default": false, "description": null}, {"id": 276243286, "node_id": "MDU6TGFiZWwyNzYyNDMyODY=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20webroot", "name": "area: webroot", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/20", "html_url": "https://github.com/certbot/certbot/milestone/20", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/20/labels", "id": 1640144, "node_id": "MDk6TWlsZXN0b25lMTY0MDE0NA==", "number": 20, "title": "0.7.0", "description": "", "creator": {"login": "pde", "id": 479213, "node_id": "MDQ6VXNlcjQ3OTIxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/479213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pde", "html_url": "https://github.com/pde", "followers_url": "https://api.github.com/users/pde/followers", "following_url": "https://api.github.com/users/pde/following{/other_user}", "gists_url": "https://api.github.com/users/pde/gists{/gist_id}", "starred_url": "https://api.github.com/users/pde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pde/subscriptions", "organizations_url": "https://api.github.com/users/pde/orgs", "repos_url": "https://api.github.com/users/pde/repos", "events_url": "https://api.github.com/users/pde/events{/privacy}", "received_events_url": "https://api.github.com/users/pde/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 54, "state": "closed", "created_at": "2016-03-12T02:18:26Z", "updated_at": "2016-08-17T20:34:36Z", "due_on": "2016-05-19T07:00:00Z", "closed_at": "2016-05-27T21:29:15Z"}, "comments": 5, "created_at": "2016-05-12T21:12:49Z", "updated_at": "2016-05-27T20:34:14Z", "closed_at": "2016-05-18T21:32:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\n\nI just try to test the renew like this:\n./letsencrypt-auto renew -v --dry-run\nand the log says:\n\n```\n2016-05-12 21:03:20,463:DEBUG:certbot.main:Root logging level set at 20\n2016-05-12 21:03:20,464:INFO:certbot.main:Saving debug log to /var/log/letsencrypt/letsencrypt.log\n2016-05-12 21:03:20,464:DEBUG:certbot.main:certbot version: 0.6.0\n2016-05-12 21:03:20,464:DEBUG:certbot.main:Arguments: ['-v', '--dry-run']\n2016-05-12 21:03:20,464:DEBUG:certbot.main:Discovered plugins: PluginsRegistry(PluginEntryPoint#apache,PluginEntryPoint#webroot,PluginEntryPoint#null,PluginEntryPoint#manual,PluginEntryPoint#standalone)\n2016-05-12 21:03:20,465:DEBUG:certbot.main:Exiting abnormally:\nTraceback (most recent call last):\n  File \"/root/.local/share/letsencrypt/bin/letsencrypt\", line 11, in <module>\n    sys.exit(main())\n  File \"/root/.local/share/letsencrypt/local/lib/python2.7/site-packages/certbot/main.py\", line 693, in main\n    return config.func(config, plugins)\n  File \"/root/.local/share/letsencrypt/local/lib/python2.7/site-packages/certbot/main.py\", line 538, in renew\n    renewal.renew_all_lineages(config)\n  File \"/root/.local/share/letsencrypt/local/lib/python2.7/site-packages/certbot/renewal.py\", line 305, in renew_all_lineages\n    raise errors.Error(\"Currently, the renew verb is only capable of \"\nError: Currently, the renew verb is only capable of renewing all installed certificates that are due to be renewed; individual domains cannot be specified with this action. If you would like to renew specific certificates, use the certonly command. The renew verb may provide other options for selecting certificates to renew in the future.\n```\n\nI use a cli.ini with \nauthenticator = webroot\nwebroot-map = {....some domains which are correctly installed with certonly command }\n\nAny idea?\n\nThanks, Alex\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/2977/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/2977/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/2927", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/2927/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/2927/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/2927/events", "html_url": "https://github.com/certbot/certbot/issues/2927", "id": 153184433, "node_id": "MDU6SXNzdWUxNTMxODQ0MzM=", "number": 2927, "title": "standalone_supported_challenges value from private beta causes renewal failures", "user": {"login": "NiklasMerz", "id": 3585860, "node_id": "MDQ6VXNlcjM1ODU4NjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3585860?v=4", "gravatar_id": "", "url": "https://api.github.com/users/NiklasMerz", "html_url": "https://github.com/NiklasMerz", "followers_url": "https://api.github.com/users/NiklasMerz/followers", "following_url": "https://api.github.com/users/NiklasMerz/following{/other_user}", "gists_url": "https://api.github.com/users/NiklasMerz/gists{/gist_id}", "starred_url": "https://api.github.com/users/NiklasMerz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/NiklasMerz/subscriptions", "organizations_url": "https://api.github.com/users/NiklasMerz/orgs", "repos_url": "https://api.github.com/users/NiklasMerz/repos", "events_url": "https://api.github.com/users/NiklasMerz/events{/privacy}", "received_events_url": "https://api.github.com/users/NiklasMerz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 261409142, "node_id": "MDU6TGFiZWwyNjE0MDkxNDI=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20renewal", "name": "area: renewal", "color": "c5def5", "default": false, "description": null}, {"id": 281347824, "node_id": "MDU6TGFiZWwyODEzNDc4MjQ=", "url": "https://api.github.com/repos/certbot/certbot/labels/has%20pr", "name": "has pr", "color": "0052cc", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/18", "html_url": "https://github.com/certbot/certbot/milestone/18", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/18/labels", "id": 1591649, "node_id": "MDk6TWlsZXN0b25lMTU5MTY0OQ==", "number": 18, "title": "0.6.0", "description": "Nginx and client rename", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 79, "state": "closed", "created_at": "2016-02-18T20:41:33Z", "updated_at": "2016-08-05T01:47:43Z", "due_on": "2016-05-10T07:00:00Z", "closed_at": "2016-05-12T22:27:44Z"}, "comments": 3, "created_at": "2016-05-05T07:42:58Z", "updated_at": "2016-05-10T00:12:16Z", "closed_at": "2016-05-10T00:12:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am using a Apache and ran ./letsencrpt-auto renew \n\n`2016-05-05 07:36:46,390:INFO:letsencrypt.renewal:updating legacy http01_port value\n2016-05-05 07:36:46,390:WARNING:letsencrypt.renewal:Renewal configuration file /etc/letsencrypt/renewal/XXXXXX.conf produced an unexpected error: Unrecognized challenges: dvsni. Skipping.\n2016-05-05 07:36:46,390:DEBUG:letsencrypt.renewal:Traceback was:\nTraceback (most recent call last):\n  File \"/root/.local/share/letsencrypt/local/lib/python2.7/site-packages/letsencrypt/renewal.py\", line 325, in renew_all_lineages\n    renewal_candidate = _reconstitute(lineage_config, renewal_file)\n  File \"/root/.local/share/letsencrypt/local/lib/python2.7/site-packages/letsencrypt/renewal.py\", line 80, in _reconstitute\n    _restore_plugin_configs(config, renewalparams)\n  File \"/root/.local/share/letsencrypt/local/lib/python2.7/site-packages/letsencrypt/renewal.py\", line 155, in _restore_plugin_configs\n    setattr(config.namespace, config_item, cast(config_value))\n  File \"/root/.local/share/letsencrypt/local/lib/python2.7/site-packages/letsencrypt/plugins/standalone.py\", line 127, in supported_challenges_validator\n    \"Unrecognized challenges: {0}\".format(\", \".join(unrecognized)))\nArgumentTypeError: Unrecognized challenges: dvsni\n\n2016-05-05 07:36:46,391:DEBUG:letsencrypt.main:Exiting abnormally:\nTraceback (most recent call last):\n  File \"/root/.local/share/letsencrypt/bin/letsencrypt\", line 11, in <module>\n    sys.exit(main())\n  File \"/root/.local/share/letsencrypt/local/lib/python2.7/site-packages/letsencrypt/main.py\", line 692, in main\n    return config.func(config, plugins)\n  File \"/root/.local/share/letsencrypt/local/lib/python2.7/site-packages/letsencrypt/main.py\", line 538, in renew\n    renewal.renew_all_lineages(config)\n  File \"/root/.local/share/letsencrypt/local/lib/python2.7/site-packages/letsencrypt/renewal.py\", line 355, in renew_all_lineages\n    renew_skipped, parse_failures)\n  File \"/root/.local/share/letsencrypt/local/lib/python2.7/site-packages/letsencrypt/renewal.py\", line 290, in _renew_describe_results\n    notify(parse_failures, \"parsefail\")\nTypeError: append() takes exactly one argument (2 given)\n`\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/2927/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/2927/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/2898", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/2898/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/2898/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/2898/events", "html_url": "https://github.com/certbot/certbot/issues/2898", "id": 151259585, "node_id": "MDU6SXNzdWUxNTEyNTk1ODU=", "number": 2898, "title": "Renewal config files are sometimes marked executable", "user": {"login": "schoen", "id": 1750103, "node_id": "MDQ6VXNlcjE3NTAxMDM=", "avatar_url": "https://avatars.githubusercontent.com/u/1750103?v=4", "gravatar_id": "", "url": "https://api.github.com/users/schoen", "html_url": "https://github.com/schoen", "followers_url": "https://api.github.com/users/schoen/followers", "following_url": "https://api.github.com/users/schoen/following{/other_user}", "gists_url": "https://api.github.com/users/schoen/gists{/gist_id}", "starred_url": "https://api.github.com/users/schoen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/schoen/subscriptions", "organizations_url": "https://api.github.com/users/schoen/orgs", "repos_url": "https://api.github.com/users/schoen/repos", "events_url": "https://api.github.com/users/schoen/events{/privacy}", "received_events_url": "https://api.github.com/users/schoen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 261409142, "node_id": "MDU6TGFiZWwyNjE0MDkxNDI=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20renewal", "name": "area: renewal", "color": "c5def5", "default": false, "description": null}, {"id": 276239890, "node_id": "MDU6TGFiZWwyNzYyMzk4OTA=", "url": "https://api.github.com/repos/certbot/certbot/labels/easy-fix", "name": "easy-fix", "color": "207de5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-04-26T23:03:16Z", "updated_at": "2016-12-20T18:46:08Z", "closed_at": "2016-12-20T18:46:08Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Reported on the forum at\n\nhttps://community.letsencrypt.org/t/renewal-configuration-file/14931\n\nI notice this is the case on my test server too (for some but not all renewal configuration files -- maybe they're marked executable when first created and then the `x` is removed when a renewal happens, or something?).\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/2898/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/2898/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/2831", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/2831/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/2831/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/2831/events", "html_url": "https://github.com/certbot/certbot/issues/2831", "id": 148262775, "node_id": "MDU6SXNzdWUxNDgyNjI3NzU=", "number": 2831, "title": " --keep-until-expiring requires interaction if no certificate update ", "user": {"login": "cfairweather", "id": 3741691, "node_id": "MDQ6VXNlcjM3NDE2OTE=", "avatar_url": "https://avatars.githubusercontent.com/u/3741691?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cfairweather", "html_url": "https://github.com/cfairweather", "followers_url": "https://api.github.com/users/cfairweather/followers", "following_url": "https://api.github.com/users/cfairweather/following{/other_user}", "gists_url": "https://api.github.com/users/cfairweather/gists{/gist_id}", "starred_url": "https://api.github.com/users/cfairweather/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cfairweather/subscriptions", "organizations_url": "https://api.github.com/users/cfairweather/orgs", "repos_url": "https://api.github.com/users/cfairweather/repos", "events_url": "https://api.github.com/users/cfairweather/events{/privacy}", "received_events_url": "https://api.github.com/users/cfairweather/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 200596079, "node_id": "MDU6TGFiZWwyMDA1OTYwNzk=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20ui%20/%20ux", "name": "area: ui / ux", "color": "c5def5", "default": false, "description": null}, {"id": 261409142, "node_id": "MDU6TGFiZWwyNjE0MDkxNDI=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20renewal", "name": "area: renewal", "color": "c5def5", "default": false, "description": null}, {"id": 281347824, "node_id": "MDU6TGFiZWwyODEzNDc4MjQ=", "url": "https://api.github.com/repos/certbot/certbot/labels/has%20pr", "name": "has pr", "color": "0052cc", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/18", "html_url": "https://github.com/certbot/certbot/milestone/18", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/18/labels", "id": 1591649, "node_id": "MDk6TWlsZXN0b25lMTU5MTY0OQ==", "number": 18, "title": "0.6.0", "description": "Nginx and client rename", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 79, "state": "closed", "created_at": "2016-02-18T20:41:33Z", "updated_at": "2016-08-05T01:47:43Z", "due_on": "2016-05-10T07:00:00Z", "closed_at": "2016-05-12T22:27:44Z"}, "comments": 2, "created_at": "2016-04-14T06:20:59Z", "updated_at": "2016-04-21T17:48:16Z", "closed_at": "2016-04-21T17:48:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "Running a command of `./letsencrypt-auto --config /opt/letsencrypt.ini certonly --keep-until-expiring --agree-tos -d my.domain.com` with configuration file contents that includes the option `text = True` results in prompted input if certificates are not yet due for removal, breaking automated scripts.\n## STR:\n1. Request certificates using let's encrypt (using the options provided below).\n2. Request certificates again using `--keep-until-expiring` flag set and a configuration file that specifies `text = True`, the same that should have been used for the first request:\n   1. An example command would be `./letsencrypt-auto --config /opt/letsencrypt.ini certonly --keep-until-expiring --agree-tos -d my.domain.com`\n   2. with a configuration file of:\n   \n   ```\n   # Let's Encrypt Configuration with defaults\n   # All flags used by the client can be configured here. Run Let's Encrypt with\n   # \"--help\" to learn more about the available options.\n   \n   # Use a 4096 bit RSA key instead of 2048\n   rsa-key-size = 4096\n   \n   # Uncomment and update to register with the specified e-mail address\n   email = EMAIL_HERE@EMAIL_HERE\n   \n   # Uncomment and update to generate certificates for the specified\n   # domains.\n   # domains = example.com, www.example.com\n   # Always provide domains via env. See letsencrypt-run.sh\n   \n   # Uncomment to use a text interface instead of ncurses\n   text = True\n   \n   # Uncomment to use the standalone authenticator on port 443\n   # authenticator = standalone\n   # standalone-supported-challenges = tls-sni-01\n   \n   # Uncomment to use the webroot authenticator. Replace webroot-path with the\n   # path to the public_html / webroot folder being served by your web server.\n   authenticator = webroot\n   webroot-path = /var/www/challenges\n   ```\n## Expected:\n1. Let's Encrypt client prints:\n\n```\n------------------------------------------------------------------------------- \nCertificate not yet due for renewal; no action taken.                           \n------------------------------------------------------------------------------- \n```\n\nand does not prompt for input afterward, allowing the client to exit with a code of `0`.\n## Actual:\n1. Let's Encrypt client prints:\n\n```\n------------------------------------------------------------------------------- \nCertificate not yet due for renewal; no action taken.                           \n------------------------------------------------------------------------------- \nPress Enter to Continue\n```\n\nand requires interaction from a tty before exiting cleanly. \n## Environment\n- OS = Ubuntu 14.04.2 \n- Webserver = nginx, but using certonly since acme-challenges are successfully handled through an existing nginx server. The `letsencrypt.ini` file specifies the correct challenge directory for the client by providing the options \n  - \n  \n  ```\n  authenticator = webroot\n  webroot-path = /var/www/challenges\n  ```\n### Notes\n\nLet's Encrypt was installed by running and then calling:\n\n```\ngit clone https://github.com/letsencrypt/letsencrypt\n./letsencrypt-auto --config /opt/letsencrypt.ini certonly --keep-until-expiring --agree-tos -d my.domain.com\n```\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/2831/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/2831/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/2822", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/2822/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/2822/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/2822/events", "html_url": "https://github.com/certbot/certbot/issues/2822", "id": 147977650, "node_id": "MDU6SXNzdWUxNDc5Nzc2NTA=", "number": 2822, "title": "Renewal: append() takes exactly one argument (2 given)", "user": {"login": "sebix", "id": 199050, "node_id": "MDQ6VXNlcjE5OTA1MA==", "avatar_url": "https://avatars.githubusercontent.com/u/199050?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sebix", "html_url": "https://github.com/sebix", "followers_url": "https://api.github.com/users/sebix/followers", "following_url": "https://api.github.com/users/sebix/following{/other_user}", "gists_url": "https://api.github.com/users/sebix/gists{/gist_id}", "starred_url": "https://api.github.com/users/sebix/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sebix/subscriptions", "organizations_url": "https://api.github.com/users/sebix/orgs", "repos_url": "https://api.github.com/users/sebix/repos", "events_url": "https://api.github.com/users/sebix/events{/privacy}", "received_events_url": "https://api.github.com/users/sebix/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 276239890, "node_id": "MDU6TGFiZWwyNzYyMzk4OTA=", "url": "https://api.github.com/repos/certbot/certbot/labels/easy-fix", "name": "easy-fix", "color": "207de5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/18", "html_url": "https://github.com/certbot/certbot/milestone/18", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/18/labels", "id": 1591649, "node_id": "MDk6TWlsZXN0b25lMTU5MTY0OQ==", "number": 18, "title": "0.6.0", "description": "Nginx and client rename", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 79, "state": "closed", "created_at": "2016-02-18T20:41:33Z", "updated_at": "2016-08-05T01:47:43Z", "due_on": "2016-05-10T07:00:00Z", "closed_at": "2016-05-12T22:27:44Z"}, "comments": 2, "created_at": "2016-04-13T07:53:45Z", "updated_at": "2016-04-18T23:29:34Z", "closed_at": "2016-04-18T23:29:33Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Using letsencrypt 0.5.0, I got this error when renewing my certificates (subcommand renew):\n\n``` shell\n2016-04-13 07:29:24,428:INFO:letsencrypt.renewal:Cert not yet due for renewal\n2016-04-13 07:29:24,429:DEBUG:letsencrypt.main:Exiting abnormally:\nTraceback (most recent call last):\n  File \"/root/.local/share/letsencrypt/bin/letsencrypt\", line 11, in <module>\n    sys.exit(main())\n  File \"/root/.local/share/letsencrypt/local/lib/python2.7/site-packages/letsencrypt/main.py\", line 692, in main\n    return config.func(config, plugins)\n  File \"/root/.local/share/letsencrypt/local/lib/python2.7/site-packages/letsencrypt/main.py\", line 538, in renew\n    renewal.renew_all_lineages(config)\n  File \"/root/.local/share/letsencrypt/local/lib/python2.7/site-packages/letsencrypt/renewal.py\", line 355, in renew_all_lineages\n    renew_skipped, parse_failures)\n  File \"/root/.local/share/letsencrypt/local/lib/python2.7/site-packages/letsencrypt/renewal.py\", line 290, in _renew_describe_results\n    notify(parse_failures, \"parsefail\")\nTypeError: append() takes exactly one argument (2 given)\n```\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/2822/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/2822/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/2813", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/2813/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/2813/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/2813/events", "html_url": "https://github.com/certbot/certbot/issues/2813", "id": 147519037, "node_id": "MDU6SXNzdWUxNDc1MTkwMzc=", "number": 2813, "title": "Dialog error messages", "user": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 149596829, "node_id": "MDU6TGFiZWwxNDk1OTY4Mjk=", "url": "https://api.github.com/repos/certbot/certbot/labels/good%20first%20issue", "name": "good first issue", "color": "c61aff", "default": true, "description": null}, {"id": 272789317, "node_id": "MDU6TGFiZWwyNzI3ODkzMTc=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20error%20handling", "name": "area: error handling", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/22", "html_url": "https://github.com/certbot/certbot/milestone/22", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/22/labels", "id": 1805759, "node_id": "MDk6TWlsZXN0b25lMTgwNTc1OQ==", "number": 22, "title": "0.9.0", "description": "Nginx plugin, DNS Challenge support, plus lots of polish and bugfixes", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 131, "state": "closed", "created_at": "2016-06-02T19:22:08Z", "updated_at": "2017-04-27T23:17:01Z", "due_on": "2016-08-19T07:00:00Z", "closed_at": "2016-10-05T17:14:48Z"}, "comments": 8, "created_at": "2016-04-11T18:51:23Z", "updated_at": "2016-10-06T01:21:35Z", "closed_at": "2016-06-17T02:18:02Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "I haven't taken the time to dig into this, but `letsencrypt` loses the content of dialog error messages. I caused an error by making my terminal too small to display the `dialog` widget (see #2812). When doing this, the output to my terminal was:\n\n```\nAn unexpected error occurred:\nDialogError\n```\n\nThe contents of my logfile were:\n\n```\n2016-04-11 18:31:36,104:DEBUG:letsencrypt.main:Root logging level set at 30\n2016-04-11 18:31:36,105:INFO:letsencrypt.main:Saving debug log to /var/log/letsencrypt/letsencrypt.log\n2016-04-11 18:31:36,105:DEBUG:letsencrypt.main:letsencrypt version: 0.6.0.dev0\n2016-04-11 18:31:36,105:DEBUG:letsencrypt.main:Arguments: []\n2016-04-11 18:31:36,106:DEBUG:letsencrypt.main:Discovered plugins: PluginsRegistry(PluginEntryPoint#nginx,PluginEntryPoint#standalone,PluginEntryPoint#manual,PluginEntryPoint#webroot,PluginEntryPoint#apache,PluginEntryPoint#null)\n2016-04-11 18:31:36,109:DEBUG:letsencrypt.plugins.selection:Requested authenticator None and installer None\n2016-04-11 18:31:36,430:DEBUG:letsencrypt.plugins.disco:No installation (PluginEntryPoint#nginx): \nTraceback (most recent call last):\n  File \"/root/letsencrypt/letsencrypt/plugins/disco.py\", line 104, in prepare\n    self._initialized.prepare()\n  File \"/root/letsencrypt/letsencrypt-nginx/letsencrypt_nginx/configurator.py\", line 115, in prepare\n    raise errors.NoInstallationError\nNoInstallationError\n2016-04-11 18:31:36,430:DEBUG:letsencrypt.plugins.selection:Single candidate plugin: * apache\nDescription: Apache Web Server - Alpha\nInterfaces: IAuthenticator, IInstaller, IPlugin\nEntry point: apache = letsencrypt_apache.configurator:ApacheConfigurator\nInitialized: <letsencrypt_apache.configurator.ApacheConfigurator object at 0x7fc63206bc10>\nPrep: True\n2016-04-11 18:31:36,431:DEBUG:letsencrypt.plugins.selection:Selected authenticator <letsencrypt_apache.configurator.ApacheConfigurator object at 0x7fc63206bc10> and installer <letsencrypt_apache.configurator.ApacheConfigurator object at 0x7fc63206bc10>\n2016-04-11 18:31:38,909:DEBUG:letsencrypt.main:Exiting abnormally:\nTraceback (most recent call last):\n  File \"/root/letsencrypt/venv/bin/letsencrypt\", line 9, in <module>\n    load_entry_point('letsencrypt', 'console_scripts', 'letsencrypt')()\n  File \"/root/letsencrypt/letsencrypt/main.py\", line 692, in main\n    return config.func(config, plugins)\n  File \"/root/letsencrypt/letsencrypt/main.py\", line 452, in run\n    domains = _find_domains(config, installer)\n  File \"/root/letsencrypt/letsencrypt/main.py\", line 261, in _find_domains\n    domains = display_ops.choose_names(installer)\n  File \"/root/letsencrypt/letsencrypt/display/ops.py\", line 100, in choose_names\n    return _choose_names_manually()\n  File \"/root/letsencrypt/letsencrypt/display/ops.py\", line 150, in _choose_names_manually\n    cli_flag=\"--domains\")\n  File \"/root/letsencrypt/letsencrypt/display/util.py\", line 146, in input\n    return self.dialog.inputbox(message, width=self.width, height=height)\n  File \"/root/letsencrypt/venv/local/lib/python2.7/site-packages/dialog.py\", line 2715, in inputbox\n    kwargs, strip_xdialog_newline=True, raw_help=True)\n  File \"/root/letsencrypt/venv/local/lib/python2.7/site-packages/dialog.py\", line 1746, in _widget_with_string_output\n    code, output = self._perform(args, **kwargs)\n  File \"/root/letsencrypt/venv/local/lib/python2.7/site-packages/dialog.py\", line 1541, in _perform\n    args_file)\n  File \"/root/letsencrypt/venv/local/lib/python2.7/site-packages/dialog.py\", line 1502, in _handle_program_exit\n    child_output_rfd)\n  File \"/root/letsencrypt/venv/local/lib/python2.7/site-packages/dialog.py\", line 1454, in _wait_for_program_termination\n    child_output.strip()))\nDialogError\n```\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/2813/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/2813/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/2811", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/2811/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/2811/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/2811/events", "html_url": "https://github.com/certbot/certbot/issues/2811", "id": 147515898, "node_id": "MDU6SXNzdWUxNDc1MTU4OTg=", "number": 2811, "title": "Timestamps of the CLI output differ from the ones in the log file", "user": {"login": "ffittschen", "id": 7734806, "node_id": "MDQ6VXNlcjc3MzQ4MDY=", "avatar_url": "https://avatars.githubusercontent.com/u/7734806?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ffittschen", "html_url": "https://github.com/ffittschen", "followers_url": "https://api.github.com/users/ffittschen/followers", "following_url": "https://api.github.com/users/ffittschen/following{/other_user}", "gists_url": "https://api.github.com/users/ffittschen/gists{/gist_id}", "starred_url": "https://api.github.com/users/ffittschen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ffittschen/subscriptions", "organizations_url": "https://api.github.com/users/ffittschen/orgs", "repos_url": "https://api.github.com/users/ffittschen/repos", "events_url": "https://api.github.com/users/ffittschen/events{/privacy}", "received_events_url": "https://api.github.com/users/ffittschen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 200596079, "node_id": "MDU6TGFiZWwyMDA1OTYwNzk=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20ui%20/%20ux", "name": "area: ui / ux", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/8", "html_url": "https://github.com/certbot/certbot/milestone/8", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/8/labels", "id": 1353913, "node_id": "MDk6TWlsZXN0b25lMTM1MzkxMw==", "number": 8, "title": "Important", "description": "This milestone was for things someone on the Certbot team considered necessary for the client to be out of beta, but it's become something of a holding place for many kinds of polishing tickets, and will probably need to be triaged further.", "creator": {"login": "pde", "id": 479213, "node_id": "MDQ6VXNlcjQ3OTIxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/479213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pde", "html_url": "https://github.com/pde", "followers_url": "https://api.github.com/users/pde/followers", "following_url": "https://api.github.com/users/pde/following{/other_user}", "gists_url": "https://api.github.com/users/pde/gists{/gist_id}", "starred_url": "https://api.github.com/users/pde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pde/subscriptions", "organizations_url": "https://api.github.com/users/pde/orgs", "repos_url": "https://api.github.com/users/pde/repos", "events_url": "https://api.github.com/users/pde/events{/privacy}", "received_events_url": "https://api.github.com/users/pde/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 160, "state": "closed", "created_at": "2015-10-13T19:41:13Z", "updated_at": "2020-03-20T18:56:33Z", "due_on": null, "closed_at": "2020-03-20T18:56:33Z"}, "comments": 2, "created_at": "2016-04-11T18:41:31Z", "updated_at": "2017-03-14T00:46:22Z", "closed_at": "2017-03-14T00:46:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\nwhen I run `./letsencrypt-auto certonly --webroot -w /var/www/html/example.com/ -d example.com -d www.example.com -w /var/www/html/other.domain.com/ -d other.domain.com --text -v --dry-run` I get the following output:\n\n```\nChecking for new version...\nRequesting root privileges to run letsencrypt...\n   /root/.local/share/letsencrypt/bin/letsencrypt certonly --webroot -w /var/www/html/example.com/ -d example.com -d www.example.com -w /var/www/html/other.domain.com/ -d other.domain.com --text -v --dry-run\n2016-04-11 20:27:04,669:INFO:letsencrypt.main:Saving debug log to /var/log/letsencrypt/letsencrypt.log\n2016-04-11 20:27:04,863:INFO:requests.packages.urllib3.connectionpool:Starting new HTTPS connection (1): acme-staging.api.letsencrypt.org\n2016-04-11 20:27:05,085:INFO:requests.packages.urllib3.connectionpool:Starting new HTTPS connection (1): acme-staging.api.letsencrypt.org\n2016-04-11 20:27:05,317:INFO:requests.packages.urllib3.connectionpool:Starting new HTTPS connection (1): acme-staging.api.letsencrypt.org\n2016-04-11 20:27:05,621:INFO:requests.packages.urllib3.connectionpool:Starting new HTTPS connection (1): acme-staging.api.letsencrypt.org\n2016-04-11 20:27:05,918:INFO:requests.packages.urllib3.connectionpool:Starting new HTTPS connection (1): acme-staging.api.letsencrypt.org\n2016-04-11 20:27:06,195:INFO:letsencrypt.auth_handler:Performing the following challenges:\n2016-04-11 20:27:06,195:INFO:letsencrypt.auth_handler:http-01 challenge for example.com\n2016-04-11 20:27:06,195:INFO:letsencrypt.auth_handler:http-01 challenge for www.example.com\n2016-04-11 20:27:06,196:INFO:letsencrypt.auth_handler:http-01 challenge for other.domain.com\n2016-04-11 20:27:06,196:INFO:letsencrypt.plugins.webroot:Using the webroot path /var/www/html/other.domain.com for all unmatched domains.\n2016-04-11 20:27:06,221:INFO:letsencrypt.auth_handler:Waiting for verification...\n2016-04-11 20:27:06,241:INFO:requests.packages.urllib3.connectionpool:Starting new HTTPS connection (1): acme-staging.api.letsencrypt.org\n2016-04-11 20:27:06,524:INFO:requests.packages.urllib3.connectionpool:Starting new HTTPS connection (1): acme-staging.api.letsencrypt.org\n2016-04-11 20:27:06,808:INFO:requests.packages.urllib3.connectionpool:Starting new HTTPS connection (1): acme-staging.api.letsencrypt.org\n2016-04-11 20:27:10,077:INFO:requests.packages.urllib3.connectionpool:Starting new HTTPS connection (1): acme-staging.api.letsencrypt.org\n2016-04-11 20:27:10,336:INFO:requests.packages.urllib3.connectionpool:Starting new HTTPS connection (1): acme-staging.api.letsencrypt.org\n2016-04-11 20:27:10,562:INFO:requests.packages.urllib3.connectionpool:Starting new HTTPS connection (1): acme-staging.api.letsencrypt.org\n2016-04-11 20:27:10,809:INFO:letsencrypt.auth_handler:Cleaning up challenges\n2016-04-11 20:27:11,050:INFO:letsencrypt.crypto_util:Generating key (2048 bits): /etc/letsencrypt/keys/0031_key-letsencrypt.pem\n2016-04-11 20:27:11,057:INFO:letsencrypt.crypto_util:Creating CSR: /etc/letsencrypt/csr/0031_csr-letsencrypt.pem\n2016-04-11 20:27:11,079:INFO:requests.packages.urllib3.connectionpool:Starting new HTTPS connection (1): acme-staging.api.letsencrypt.org\n2016-04-11 20:27:11,429:INFO:requests.packages.urllib3.connectionpool:Starting new HTTPS connection (1): acme-staging.api.letsencrypt.org\n2016-04-11 20:27:11,760:INFO:letsencrypt.client:Dry run: Skipping creating new lineage for example.com\n2016-04-11 20:27:11,761:INFO:letsencrypt.reporter:Reporting to user: The dry run was successful.\n\nIMPORTANT NOTES:\n - The dry run was successful.\n```\n\nBut the specified log file says:\n\n```\n016-04-11 18:27:04,668:DEBUG:letsencrypt.main:Root logging level set at 20\n2016-04-11 18:27:04,669:INFO:letsencrypt.main:Saving debug log to /var/log/letsencrypt/letsencrypt.log\n2016-04-11 18:27:04,670:DEBUG:letsencrypt.main:letsencrypt version: 0.5.0\n2016-04-11 18:27:04,670:DEBUG:letsencrypt.main:Arguments: ['--webroot', '-w', '/var/www/html/example.com/', '-d', 'example.com', '-d', \n'www.example.com', '-w', '/var/www/html/other.domain.com/', '-d', 'other.domain.com', '--text', '-v', '--dry-run']\n2016-04-11 18:27:04,670:DEBUG:letsencrypt.main:Discovered plugins: PluginsRegistry(PluginEntryPoint#apache,PluginEntryPoint#webroot,Plu\nginEntryPoint#null,PluginEntryPoint#manual,PluginEntryPoint#standalone)\n2016-04-11 18:27:04,671:DEBUG:letsencrypt.plugins.selection:Requested authenticator webroot and installer None\n2016-04-11 18:27:04,675:DEBUG:letsencrypt.plugins.selection:Single candidate plugin: * webroot\nDescription: Place files in webroot directory\nInterfaces: IAuthenticator, IPlugin\nEntry point: webroot = letsencrypt.plugins.webroot:Authenticator\nInitialized: <letsencrypt.plugins.webroot.Authenticator object at 0x7f4f27f13850>\nPrep: True\n2016-04-11 18:27:04,676:DEBUG:letsencrypt.plugins.selection:Selected authenticator <letsencrypt.plugins.webroot.Authenticator object at\n 0x7f4f27f13850> and installer None\n2016-04-11 18:27:04,857:DEBUG:letsencrypt.main:Picked account: <Account(7a122c253b92c68437f02f91ds20f28a)>\n2016-04-11 18:27:04,859:DEBUG:root:Sending GET request to https://acme-staging.api.letsencrypt.org/directory. args: (), kwargs: {}\n2016-04-11 18:27:04,863:INFO:requests.packages.urllib3.connectionpool:Starting new HTTPS connection (1): acme-staging.api.letsencrypt.o\nrg\n2016-04-11 18:27:05,074:DEBUG:requests.packages.urllib3.connectionpool:\"GET /directory HTTP/1.1\" 200 279\n2016-04-11 18:27:05,077:DEBUG:root:Received <Response [200]>. Headers: {'Content-Length': '279', 'Expires': 'Mon, 11 Apr 2016 18:27:05\nGMT', 'Strict-Transport-Security': 'max-age=604800', 'Server': 'nginx', 'Connection': 'keep-alive', 'Pragma': 'no-cache', 'Cache-Contro\nl': 'max-age=0, no-cache, no-store', 'Date': 'Mon, 11 Apr 2016 18:27:05 GMT', 'X-Frame-Options': 'DENY', 'Content-Type': 'application/j\nson', 'Replay-Nonce': 'EI2R7ftgW3XS4AM5wQnDA6kTpY7XAEm83svW-2Lol_8'}. Content: '{\"new-authz\":\"https://acme-staging.api.letsencrypt.org/\nacme/new-authz\",\"new-cert\":\"https://acme-staging.api.letsencrypt.org/acme/new-cert\",\"new-reg\":\"https://acme-staging.api.letsencrypt.org\n/acme/new-reg\",\"revoke-cert\":\"https://acme-staging.api.letsencrypt.org/acme/revoke-cert\"}'\n2016-04-11 18:27:05,078:DEBUG:acme.client:Received response <Response [200]> (headers: {'Content-Length': '279', 'Expires': 'Mon, 11 Ap\nr 2016 18:27:05 GMT', 'Strict-Transport-Security': 'max-age=604800', 'Server': 'nginx', 'Connection': 'keep-alive', 'Pragma': 'no-cache\n', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Date': 'Mon, 11 Apr 2016 18:27:05 GMT', 'X-Frame-Options': 'DENY', 'Content-Type'\n: 'application/json', 'Replay-Nonce': 'EI2R7ftgW3XS4AM5wQnDA6kTpY7XAEm83svW-2Lol_8'}): '{\"new-authz\":\"https://acme-staging.api.letsencr\nypt.org/acme/new-authz\",\"new-cert\":\"https://acme-staging.api.letsencrypt.org/acme/new-cert\",\"new-reg\":\"https://acme-staging.api.letsenc\nrypt.org/acme/new-reg\",\"revoke-cert\":\"https://acme-staging.api.letsencrypt.org/acme/revoke-cert\"}'\n2016-04-11 18:27:05,083:DEBUG:root:Requesting fresh nonce\n```\n\nThe timestamps in the log file are in GMT, but the ones from the CLI are in the local time of the machine that runs the CLI.\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/2811/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/2811/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/2798", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/2798/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/2798/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/2798/events", "html_url": "https://github.com/certbot/certbot/issues/2798", "id": 147135145, "node_id": "MDU6SXNzdWUxNDcxMzUxNDU=", "number": 2798, "title": "Domain order not preserved in generated CSR", "user": {"login": "pfigel", "id": 277794, "node_id": "MDQ6VXNlcjI3Nzc5NA==", "avatar_url": "https://avatars.githubusercontent.com/u/277794?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pfigel", "html_url": "https://github.com/pfigel", "followers_url": "https://api.github.com/users/pfigel/followers", "following_url": "https://api.github.com/users/pfigel/following{/other_user}", "gists_url": "https://api.github.com/users/pfigel/gists{/gist_id}", "starred_url": "https://api.github.com/users/pfigel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pfigel/subscriptions", "organizations_url": "https://api.github.com/users/pfigel/orgs", "repos_url": "https://api.github.com/users/pfigel/repos", "events_url": "https://api.github.com/users/pfigel/events{/privacy}", "received_events_url": "https://api.github.com/users/pfigel/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 200596079, "node_id": "MDU6TGFiZWwyMDA1OTYwNzk=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20ui%20/%20ux", "name": "area: ui / ux", "color": "c5def5", "default": false, "description": null}, {"id": 281347824, "node_id": "MDU6TGFiZWwyODEzNDc4MjQ=", "url": "https://api.github.com/repos/certbot/certbot/labels/has%20pr", "name": "has pr", "color": "0052cc", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/18", "html_url": "https://github.com/certbot/certbot/milestone/18", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/18/labels", "id": 1591649, "node_id": "MDk6TWlsZXN0b25lMTU5MTY0OQ==", "number": 18, "title": "0.6.0", "description": "Nginx and client rename", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 79, "state": "closed", "created_at": "2016-02-18T20:41:33Z", "updated_at": "2016-08-05T01:47:43Z", "due_on": "2016-05-10T07:00:00Z", "closed_at": "2016-05-12T22:27:44Z"}, "comments": 0, "created_at": "2016-04-09T14:53:49Z", "updated_at": "2016-04-28T21:34:12Z", "closed_at": "2016-04-28T21:34:12Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "4d6a1ee7ff23b29d4416ee91610a7d8a58173292 introduced a change which causes the domain order passed to the client not to be preserved.\n\nThe previous implementation in `get_authorizations` would iterate over the original domain list, preserving the original order, whereas the new implementation uses `authzr.values()`, which does not follow the same sorting order.\n\nAs a side-effect, the Common Name field is not guaranteed to be the first domain passed via `-d`, causing issues for users who are relying on this after upgrading to 0.5.0.\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/2798/reactions", "total_count": 5, "+1": 5, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/2798/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/2792", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/2792/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/2792/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/2792/events", "html_url": "https://github.com/certbot/certbot/issues/2792", "id": 147060467, "node_id": "MDU6SXNzdWUxNDcwNjA0Njc=", "number": 2792, "title": "Reverter could be confused by system clock changes", "user": {"login": "pde", "id": 479213, "node_id": "MDQ6VXNlcjQ3OTIxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/479213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pde", "html_url": "https://github.com/pde", "followers_url": "https://api.github.com/users/pde/followers", "following_url": "https://api.github.com/users/pde/following{/other_user}", "gists_url": "https://api.github.com/users/pde/gists{/gist_id}", "starred_url": "https://api.github.com/users/pde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pde/subscriptions", "organizations_url": "https://api.github.com/users/pde/orgs", "repos_url": "https://api.github.com/users/pde/repos", "events_url": "https://api.github.com/users/pde/events{/privacy}", "received_events_url": "https://api.github.com/users/pde/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 258836706, "node_id": "MDU6TGFiZWwyNTg4MzY3MDY=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20nginx", "name": "area: nginx", "color": "c5def5", "default": false, "description": null}, {"id": 258836903, "node_id": "MDU6TGFiZWwyNTg4MzY5MDM=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20apache", "name": "area: apache", "color": "c5def5", "default": false, "description": null}, {"id": 281347824, "node_id": "MDU6TGFiZWwyODEzNDc4MjQ=", "url": "https://api.github.com/repos/certbot/certbot/labels/has%20pr", "name": "has pr", "color": "0052cc", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/18", "html_url": "https://github.com/certbot/certbot/milestone/18", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/18/labels", "id": 1591649, "node_id": "MDk6TWlsZXN0b25lMTU5MTY0OQ==", "number": 18, "title": "0.6.0", "description": "Nginx and client rename", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 79, "state": "closed", "created_at": "2016-02-18T20:41:33Z", "updated_at": "2016-08-05T01:47:43Z", "due_on": "2016-05-10T07:00:00Z", "closed_at": "2016-05-12T22:27:44Z"}, "comments": 0, "created_at": "2016-04-08T23:01:08Z", "updated_at": "2016-04-12T22:25:05Z", "closed_at": "2016-04-12T22:25:05Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "If the client is run with a system clock at time t1, and then run with an earlier time t0, `reverter.rollback_checkpoints` would wind up broken.  That would be especially sever in case of an installer error, but would also affect use of the `revert` verb.\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/2792/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/2792/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/2755", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/2755/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/2755/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/2755/events", "html_url": "https://github.com/certbot/certbot/issues/2755", "id": 145554948, "node_id": "MDU6SXNzdWUxNDU1NTQ5NDg=", "number": 2755, "title": "Conf file not generated for WSGI subdomain", "user": {"login": "controversial", "id": 10377391, "node_id": "MDQ6VXNlcjEwMzc3Mzkx", "avatar_url": "https://avatars.githubusercontent.com/u/10377391?v=4", "gravatar_id": "", "url": "https://api.github.com/users/controversial", "html_url": "https://github.com/controversial", "followers_url": "https://api.github.com/users/controversial/followers", "following_url": "https://api.github.com/users/controversial/following{/other_user}", "gists_url": "https://api.github.com/users/controversial/gists{/gist_id}", "starred_url": "https://api.github.com/users/controversial/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/controversial/subscriptions", "organizations_url": "https://api.github.com/users/controversial/orgs", "repos_url": "https://api.github.com/users/controversial/repos", "events_url": "https://api.github.com/users/controversial/events{/privacy}", "received_events_url": "https://api.github.com/users/controversial/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 146954788, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODg=", "url": "https://api.github.com/repos/certbot/certbot/labels/duplicate", "name": "duplicate", "color": "a6a6a6", "default": true, "description": null}, {"id": 258836903, "node_id": "MDU6TGFiZWwyNTg4MzY5MDM=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20apache", "name": "area: apache", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2016-04-04T00:14:09Z", "updated_at": "2016-08-05T01:47:43Z", "closed_at": "2016-04-06T21:22:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "I tried to enable https for all my sites' subdomains simultaneously via\n\n```\n./letsencrypt-auto --apache -d deentaylor.com -d luke.deentaylor.com -d api.deentaylor.com -d www.deentaylor.com\n```\n\nIn my setup, www.deentaylor.com is an alias for [deentaylor.com](https://deentaylor.com), which redirects to `luke.deentaylor.com`, so that any of those 3 pages will resolve to `luke.deentaylor.com`. \n\nAfter running these commands, I can visit https://api.deentaylor.com, https://deentaylor.com (which redirects) and https://www.deentaylor.com (which also redirects). However, I cannot visit https://luke.deentaylor.com without getting a 404. (I can still visit the insecure `http` site, although I did specify for letsencrypt to force `https`)\n\nThe problem seems to be that separate `.conf` files were generated for all domains _except_ luke.deentaylor.com. With `ls /etc/apache2/sites-available/`, I see a `luke.deentaylor.com.conf` but _not_ a `luke.deentaylor.com-le-ssl.conf`, while I do see an `api.deentaylor.com-le-ssl.conf` as well as a similar file for the other domains besides `luke.deentaylor.com`.\n\nRe-running the command, this time targeting the domain specifically with `./letsencrypt-auto --apache -d luke.deentaylor.com`, doesn't resolve the issue.\n\nNote that https://www.ssllabs.com/ssltest/analyze.html?d=luke.deentaylor.com doesn't see an issue.\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/2755/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/2755/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/2744", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/2744/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/2744/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/2744/events", "html_url": "https://github.com/certbot/certbot/issues/2744", "id": 145319382, "node_id": "MDU6SXNzdWUxNDUzMTkzODI=", "number": 2744, "title": "Some people's renewal spuriously appends digits to the directory URI", "user": {"login": "schoen", "id": 1750103, "node_id": "MDQ6VXNlcjE3NTAxMDM=", "avatar_url": "https://avatars.githubusercontent.com/u/1750103?v=4", "gravatar_id": "", "url": "https://api.github.com/users/schoen", "html_url": "https://github.com/schoen", "followers_url": "https://api.github.com/users/schoen/followers", "following_url": "https://api.github.com/users/schoen/following{/other_user}", "gists_url": "https://api.github.com/users/schoen/gists{/gist_id}", "starred_url": "https://api.github.com/users/schoen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/schoen/subscriptions", "organizations_url": "https://api.github.com/users/schoen/orgs", "repos_url": "https://api.github.com/users/schoen/repos", "events_url": "https://api.github.com/users/schoen/events{/privacy}", "received_events_url": "https://api.github.com/users/schoen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 261409142, "node_id": "MDU6TGFiZWwyNjE0MDkxNDI=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20renewal", "name": "area: renewal", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/18", "html_url": "https://github.com/certbot/certbot/milestone/18", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/18/labels", "id": 1591649, "node_id": "MDk6TWlsZXN0b25lMTU5MTY0OQ==", "number": 18, "title": "0.6.0", "description": "Nginx and client rename", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 79, "state": "closed", "created_at": "2016-02-18T20:41:33Z", "updated_at": "2016-08-05T01:47:43Z", "due_on": "2016-05-10T07:00:00Z", "closed_at": "2016-05-12T22:27:44Z"}, "comments": 1, "created_at": "2016-04-02T00:53:54Z", "updated_at": "2016-04-15T22:31:45Z", "closed_at": "2016-04-15T22:31:45Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Described in\n\nhttps://community.letsencrypt.org/t/renewal-failure-404-error/13193\n\nTwo different people are seeing 404 errors on renewal because their client is somehow appending a number (different for each of them) to the directory URI (despite these numbers seemingly _not_ being present in the `server` variables in the renewal configs!).\n\nI thought we saw something like this before, but the number was then actually present in the renewal config then, where in this case it appears not to be. I don't know why the client would modify the directory location in this way.\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/2744/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/2744/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/2736", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/2736/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/2736/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/2736/events", "html_url": "https://github.com/certbot/certbot/issues/2736", "id": 145004881, "node_id": "MDU6SXNzdWUxNDUwMDQ4ODE=", "number": 2736, "title": "Invalid warning about Apache redirect", "user": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 258836903, "node_id": "MDU6TGFiZWwyNTg4MzY5MDM=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20apache", "name": "area: apache", "color": "c5def5", "default": false, "description": null}, {"id": 272789317, "node_id": "MDU6TGFiZWwyNzI3ODkzMTc=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20error%20handling", "name": "area: error handling", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sagi", "id": 6293471, "node_id": "MDQ6VXNlcjYyOTM0NzE=", "avatar_url": "https://avatars.githubusercontent.com/u/6293471?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sagi", "html_url": "https://github.com/sagi", "followers_url": "https://api.github.com/users/sagi/followers", "following_url": "https://api.github.com/users/sagi/following{/other_user}", "gists_url": "https://api.github.com/users/sagi/gists{/gist_id}", "starred_url": "https://api.github.com/users/sagi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sagi/subscriptions", "organizations_url": "https://api.github.com/users/sagi/orgs", "repos_url": "https://api.github.com/users/sagi/repos", "events_url": "https://api.github.com/users/sagi/events{/privacy}", "received_events_url": "https://api.github.com/users/sagi/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sagi", "id": 6293471, "node_id": "MDQ6VXNlcjYyOTM0NzE=", "avatar_url": "https://avatars.githubusercontent.com/u/6293471?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sagi", "html_url": "https://github.com/sagi", "followers_url": "https://api.github.com/users/sagi/followers", "following_url": "https://api.github.com/users/sagi/following{/other_user}", "gists_url": "https://api.github.com/users/sagi/gists{/gist_id}", "starred_url": "https://api.github.com/users/sagi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sagi/subscriptions", "organizations_url": "https://api.github.com/users/sagi/orgs", "repos_url": "https://api.github.com/users/sagi/repos", "events_url": "https://api.github.com/users/sagi/events{/privacy}", "received_events_url": "https://api.github.com/users/sagi/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/20", "html_url": "https://github.com/certbot/certbot/milestone/20", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/20/labels", "id": 1640144, "node_id": "MDk6TWlsZXN0b25lMTY0MDE0NA==", "number": 20, "title": "0.7.0", "description": "", "creator": {"login": "pde", "id": 479213, "node_id": "MDQ6VXNlcjQ3OTIxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/479213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pde", "html_url": "https://github.com/pde", "followers_url": "https://api.github.com/users/pde/followers", "following_url": "https://api.github.com/users/pde/following{/other_user}", "gists_url": "https://api.github.com/users/pde/gists{/gist_id}", "starred_url": "https://api.github.com/users/pde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pde/subscriptions", "organizations_url": "https://api.github.com/users/pde/orgs", "repos_url": "https://api.github.com/users/pde/repos", "events_url": "https://api.github.com/users/pde/events{/privacy}", "received_events_url": "https://api.github.com/users/pde/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 54, "state": "closed", "created_at": "2016-03-12T02:18:26Z", "updated_at": "2016-08-17T20:34:36Z", "due_on": "2016-05-19T07:00:00Z", "closed_at": "2016-05-27T21:29:15Z"}, "comments": 10, "created_at": "2016-03-31T20:10:50Z", "updated_at": "2016-05-27T20:34:13Z", "closed_at": "2016-05-19T23:12:25Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "With a fresh install of Apache on Debian Jessie, I created this vhost:\n\n```\n<VirtualHost *:80>\n        # The ServerName directive sets the request scheme, hostname and port that\n        # the server uses to identify itself. This is used when creating\n        # redirection URLs. In the context of virtual hosts, the ServerName\n        # specifies what hostname must appear in the request's Host: header to\n        # match this virtual host. For the default virtual host (this file) this\n        # value is not decisive as it is used as a last resort host regardless.\n        # However, you must set it for any further virtual host explicitly.\n        ServerName example.com\n        ServerAlias www.example.com\n\n        ServerAdmin webmaster@localhost\n        DocumentRoot /var/www/html\n\n        # Available loglevels: trace8, ..., trace1, debug, info, notice, warn,\n        # error, crit, alert, emerg.\n        # It is also possible to configure the loglevel for particular\n        # modules, e.g.\n        #LogLevel info ssl:warn\n\n        ErrorLog ${APACHE_LOG_DIR}/error.log\n        CustomLog ${APACHE_LOG_DIR}/access.log combined\n\n        # For most configuration files from conf-available/, which are\n        # enabled or disabled at a global level, it is possible to\n        # include a line for only one particular virtual host. For example the\n        # following line enables the CGI configuration for this host only\n        # after it has been globally disabled with \"a2disconf\".\n        #Include conf-available/serve-cgi-bin.conf\n</VirtualHost>\n```\n\nThis is the only vhost I had enabled. When running `letsencrypt run --redirect` I get the error message:\n\n```\nWARNING:letsencrypt.client:Enhancement redirect was already set.\n```\n\nDespite this error message, the redirect was correctly enabled. Are we trying to set up the redirect twice?\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/2736/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/2736/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/2735", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/2735/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/2735/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/2735/events", "html_url": "https://github.com/certbot/certbot/issues/2735", "id": 144910207, "node_id": "MDU6SXNzdWUxNDQ5MTAyMDc=", "number": 2735, "title": "Still having backslash parsing errors in apache config file (0.4.2)", "user": {"login": "jradwan", "id": 11047158, "node_id": "MDQ6VXNlcjExMDQ3MTU4", "avatar_url": "https://avatars.githubusercontent.com/u/11047158?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jradwan", "html_url": "https://github.com/jradwan", "followers_url": "https://api.github.com/users/jradwan/followers", "following_url": "https://api.github.com/users/jradwan/following{/other_user}", "gists_url": "https://api.github.com/users/jradwan/gists{/gist_id}", "starred_url": "https://api.github.com/users/jradwan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jradwan/subscriptions", "organizations_url": "https://api.github.com/users/jradwan/orgs", "repos_url": "https://api.github.com/users/jradwan/repos", "events_url": "https://api.github.com/users/jradwan/events{/privacy}", "received_events_url": "https://api.github.com/users/jradwan/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 258836903, "node_id": "MDU6TGFiZWwyNTg4MzY5MDM=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20apache", "name": "area: apache", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/18", "html_url": "https://github.com/certbot/certbot/milestone/18", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/18/labels", "id": 1591649, "node_id": "MDk6TWlsZXN0b25lMTU5MTY0OQ==", "number": 18, "title": "0.6.0", "description": "Nginx and client rename", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 79, "state": "closed", "created_at": "2016-02-18T20:41:33Z", "updated_at": "2016-08-05T01:47:43Z", "due_on": "2016-05-10T07:00:00Z", "closed_at": "2016-05-12T22:27:44Z"}, "comments": 3, "created_at": "2016-03-31T13:58:16Z", "updated_at": "2016-05-10T00:20:25Z", "closed_at": "2016-05-10T00:20:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "I've seen all the old bugs about Apache config file parsing errors with regards to backslashes and updates to the augeas lenses, but I'm still getting this error when trying to run 'letsencrypt-auto --apache':\n\n`The error was: PluginError(('There has been an error in parsing the file (%s): %s', u'/etc/apache2/sites-enabled/piwigo.conf', u'Syntax error'),)`\n\ncaused by these two RewriteCond lines (which have backslashes):\n\n```\nRewriteCond %{HTTP:Content-Disposition} \\.php [NC]\nRewriteCond %{THE_REQUEST} ^[A-Z]{3,9}\\ /.+/trackback/?\\ HTTP/ [NC]\n```\n\nIf I comment those out, the parsing works (and then I run into the \"Failed to connect to host for DVSNI challenge\" problem, which I'm still working on.\n\nI even tried updating to the 1.4.0 versions of augeas-lenses and libaugeas0 (I had 1.3.0 on Wily, 1.4.0 is coming with Xenial) but that didn't help either. I'm guessing it's safe to just leave those lines commented out to get past the parsing and then turn them back on once I'm done with the letsencrypt process/setup?\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/2735/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/2735/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/2731", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/2731/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/2731/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/2731/events", "html_url": "https://github.com/certbot/certbot/issues/2731", "id": 144706389, "node_id": "MDU6SXNzdWUxNDQ3MDYzODk=", "number": 2731, "title": "Fails to Parse Apache Configuration File on Host with Multiple Domains managed by Plesk", "user": {"login": "sokser", "id": 5604335, "node_id": "MDQ6VXNlcjU2MDQzMzU=", "avatar_url": "https://avatars.githubusercontent.com/u/5604335?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sokser", "html_url": "https://github.com/sokser", "followers_url": "https://api.github.com/users/sokser/followers", "following_url": "https://api.github.com/users/sokser/following{/other_user}", "gists_url": "https://api.github.com/users/sokser/gists{/gist_id}", "starred_url": "https://api.github.com/users/sokser/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sokser/subscriptions", "organizations_url": "https://api.github.com/users/sokser/orgs", "repos_url": "https://api.github.com/users/sokser/repos", "events_url": "https://api.github.com/users/sokser/events{/privacy}", "received_events_url": "https://api.github.com/users/sokser/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 258836903, "node_id": "MDU6TGFiZWwyNTg4MzY5MDM=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20apache", "name": "area: apache", "color": "c5def5", "default": false, "description": null}, {"id": 272789317, "node_id": "MDU6TGFiZWwyNzI3ODkzMTc=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20error%20handling", "name": "area: error handling", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/18", "html_url": "https://github.com/certbot/certbot/milestone/18", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/18/labels", "id": 1591649, "node_id": "MDk6TWlsZXN0b25lMTU5MTY0OQ==", "number": 18, "title": "0.6.0", "description": "Nginx and client rename", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 79, "state": "closed", "created_at": "2016-02-18T20:41:33Z", "updated_at": "2016-08-05T01:47:43Z", "due_on": "2016-05-10T07:00:00Z", "closed_at": "2016-05-12T22:27:44Z"}, "comments": 5, "created_at": "2016-03-30T20:11:39Z", "updated_at": "2016-05-10T00:19:30Z", "closed_at": "2016-05-10T00:19:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "I've used letsencrypt successfully on other servers, however when I test it on a server that is hosting multiple domains it fails to correctly parse the apache config file. When I attempt to run it I get the following error:\n\n<pre><code>The apache plugin is not working; there may be problems with your existing configuration.\nThe error was: PluginError(('There has been an error in parsing the file (%s): %s', u'/etc/httpd/conf/plesk.conf.d/server.conf', u'Syntax error'),)</code></pre>\n\n\nHowever when I check the config file for errors, it returns an ok status:\n\n<pre><code>apachectl configtest\nSyntax OK\n</code></pre>\n\n\nBelow you can see the configuration file:\n\nhttps://gist.github.com/sokser/b0618d033f75e5687983dfa1003a935f\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/2731/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/2731/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/2712", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/2712/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/2712/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/2712/events", "html_url": "https://github.com/certbot/certbot/issues/2712", "id": 143339633, "node_id": "MDU6SXNzdWUxNDMzMzk2MzM=", "number": 2712, "title": "Version Conflict in latest docker image", "user": {"login": "ptxmac", "id": 56919, "node_id": "MDQ6VXNlcjU2OTE5", "avatar_url": "https://avatars.githubusercontent.com/u/56919?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ptxmac", "html_url": "https://github.com/ptxmac", "followers_url": "https://api.github.com/users/ptxmac/followers", "following_url": "https://api.github.com/users/ptxmac/following{/other_user}", "gists_url": "https://api.github.com/users/ptxmac/gists{/gist_id}", "starred_url": "https://api.github.com/users/ptxmac/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ptxmac/subscriptions", "organizations_url": "https://api.github.com/users/ptxmac/orgs", "repos_url": "https://api.github.com/users/ptxmac/repos", "events_url": "https://api.github.com/users/ptxmac/events{/privacy}", "received_events_url": "https://api.github.com/users/ptxmac/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 276667632, "node_id": "MDU6TGFiZWwyNzY2Njc2MzI=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20pkging", "name": "area: pkging", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2016-03-24T19:38:02Z", "updated_at": "2016-03-26T01:50:32Z", "closed_at": "2016-03-26T00:50:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "I just pulled the latest docker image today, and I get the following error when I try to run it:\n\n```\n# docker run -it --rm --name letsencrypt -p 10080:80 -p 10443:443 -v `pwd`/etc:/etc/letsencrypt -v `pwd`/var:/var/lib/letsencrypt quay.io/letsencrypt/letsencrypt:latest     \nTraceback (most recent call last):\n  File \"/opt/letsencrypt/venv/bin/letsencrypt\", line 5, in <module>\n    from pkg_resources import load_entry_point\n  File \"/opt/letsencrypt/venv/local/lib/python2.7/site-packages/pkg_resources.py\", line 2720, in <module>\n    parse_requirements(__requires__), Environment()\n  File \"/opt/letsencrypt/venv/local/lib/python2.7/site-packages/pkg_resources.py\", line 592, in resolve\n    raise VersionConflict(dist,req) # XXX put more info here\npkg_resources.VersionConflict: (setuptools 2.2 (/opt/letsencrypt/venv/lib/python2.7/site-packages), Requirement.parse('setuptools>=11.3'))\n```\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/2712/reactions", "total_count": 4, "+1": 4, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/2712/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/2709", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/2709/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/2709/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/2709/events", "html_url": "https://github.com/certbot/certbot/issues/2709", "id": 143323691, "node_id": "MDU6SXNzdWUxNDMzMjM2OTE=", "number": 2709, "title": "authenticator/installer is set to \"none\"", "user": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 261409142, "node_id": "MDU6TGFiZWwyNjE0MDkxNDI=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20renewal", "name": "area: renewal", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/16", "html_url": "https://github.com/certbot/certbot/milestone/16", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/16/labels", "id": 1549770, "node_id": "MDk6TWlsZXN0b25lMTU0OTc3MA==", "number": 16, "title": "0.5.0", "description": "Renewal and plugin polish", "creator": {"login": "pde", "id": 479213, "node_id": "MDQ6VXNlcjQ3OTIxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/479213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pde", "html_url": "https://github.com/pde", "followers_url": "https://api.github.com/users/pde/followers", "following_url": "https://api.github.com/users/pde/following{/other_user}", "gists_url": "https://api.github.com/users/pde/gists{/gist_id}", "starred_url": "https://api.github.com/users/pde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pde/subscriptions", "organizations_url": "https://api.github.com/users/pde/orgs", "repos_url": "https://api.github.com/users/pde/repos", "events_url": "https://api.github.com/users/pde/events{/privacy}", "received_events_url": "https://api.github.com/users/pde/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 70, "state": "closed", "created_at": "2016-01-28T19:37:09Z", "updated_at": "2016-08-10T00:05:05Z", "due_on": "2016-03-24T07:00:00Z", "closed_at": "2016-04-06T01:14:41Z"}, "comments": 0, "created_at": "2016-03-24T18:26:23Z", "updated_at": "2016-04-05T01:36:54Z", "closed_at": "2016-03-24T22:19:44Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "This gets put into the renewal config file which will not be restored correctly. The correct value is \"None\".\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/2709/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/2709/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/2701", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/2701/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/2701/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/2701/events", "html_url": "https://github.com/certbot/certbot/issues/2701", "id": 142747388, "node_id": "MDU6SXNzdWUxNDI3NDczODg=", "number": 2701, "title": "letsencrypt-apache on Gentoo should read /etc/conf.d/apache", "user": {"login": "LeCoyote", "id": 731050, "node_id": "MDQ6VXNlcjczMTA1MA==", "avatar_url": "https://avatars.githubusercontent.com/u/731050?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LeCoyote", "html_url": "https://github.com/LeCoyote", "followers_url": "https://api.github.com/users/LeCoyote/followers", "following_url": "https://api.github.com/users/LeCoyote/following{/other_user}", "gists_url": "https://api.github.com/users/LeCoyote/gists{/gist_id}", "starred_url": "https://api.github.com/users/LeCoyote/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LeCoyote/subscriptions", "organizations_url": "https://api.github.com/users/LeCoyote/orgs", "repos_url": "https://api.github.com/users/LeCoyote/repos", "events_url": "https://api.github.com/users/LeCoyote/events{/privacy}", "received_events_url": "https://api.github.com/users/LeCoyote/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 258836903, "node_id": "MDU6TGFiZWwyNTg4MzY5MDM=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20apache", "name": "area: apache", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/16", "html_url": "https://github.com/certbot/certbot/milestone/16", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/16/labels", "id": 1549770, "node_id": "MDk6TWlsZXN0b25lMTU0OTc3MA==", "number": 16, "title": "0.5.0", "description": "Renewal and plugin polish", "creator": {"login": "pde", "id": 479213, "node_id": "MDQ6VXNlcjQ3OTIxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/479213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pde", "html_url": "https://github.com/pde", "followers_url": "https://api.github.com/users/pde/followers", "following_url": "https://api.github.com/users/pde/following{/other_user}", "gists_url": "https://api.github.com/users/pde/gists{/gist_id}", "starred_url": "https://api.github.com/users/pde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pde/subscriptions", "organizations_url": "https://api.github.com/users/pde/orgs", "repos_url": "https://api.github.com/users/pde/repos", "events_url": "https://api.github.com/users/pde/events{/privacy}", "received_events_url": "https://api.github.com/users/pde/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 70, "state": "closed", "created_at": "2016-01-28T19:37:09Z", "updated_at": "2016-08-10T00:05:05Z", "due_on": "2016-03-24T07:00:00Z", "closed_at": "2016-04-06T01:14:41Z"}, "comments": 5, "created_at": "2016-03-22T19:04:10Z", "updated_at": "2016-04-05T01:36:54Z", "closed_at": "2016-03-30T00:36:19Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "In Gentoo, Define's are passed by the initscript as -D arguments read in /etc/conf.d/apache\n\nLE seems to ignore that. As a result, since the \"Listen 443\" directive is inside IfDefine blocks, it is systematically overlooked by LE since it doesn't know about the active Define directives.\n\nLE will therefore add a \"Listen 443\" temporary directive, which will cause apache to fail with a \"could not bind to address 0.0.0.0:443\" error. LE in turn will fail with \"urn:acme:error:connection\" since apache is not running during the challenge.\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/2701/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/2701/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/2668", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/2668/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/2668/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/2668/events", "html_url": "https://github.com/certbot/certbot/issues/2668", "id": 141086712, "node_id": "MDU6SXNzdWUxNDEwODY3MTI=", "number": 2668, "title": "--configurator and _set_by_cli problems", "user": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/16", "html_url": "https://github.com/certbot/certbot/milestone/16", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/16/labels", "id": 1549770, "node_id": "MDk6TWlsZXN0b25lMTU0OTc3MA==", "number": 16, "title": "0.5.0", "description": "Renewal and plugin polish", "creator": {"login": "pde", "id": 479213, "node_id": "MDQ6VXNlcjQ3OTIxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/479213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pde", "html_url": "https://github.com/pde", "followers_url": "https://api.github.com/users/pde/followers", "following_url": "https://api.github.com/users/pde/following{/other_user}", "gists_url": "https://api.github.com/users/pde/gists{/gist_id}", "starred_url": "https://api.github.com/users/pde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pde/subscriptions", "organizations_url": "https://api.github.com/users/pde/orgs", "repos_url": "https://api.github.com/users/pde/repos", "events_url": "https://api.github.com/users/pde/events{/privacy}", "received_events_url": "https://api.github.com/users/pde/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 70, "state": "closed", "created_at": "2016-01-28T19:37:09Z", "updated_at": "2016-08-10T00:05:05Z", "due_on": "2016-03-24T07:00:00Z", "closed_at": "2016-04-06T01:14:41Z"}, "comments": 0, "created_at": "2016-03-15T20:16:49Z", "updated_at": "2016-04-05T01:36:54Z", "closed_at": "2016-03-18T00:15:53Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Running `letsencrypt renew` with a value for `configurator` set on the CLI or in a configfile leads to errors like this:\n\n```\n2016-03-15 13:12:28,832:WARNING:letsencrypt.cli:An error occured while parsing /etc/letsencrypt/renewal/example.com.conf. The error was Too many flags setting configurators/installers/authenticators 'apache' -> ''. Skipping the file.\n```\n\nThis problem is also causing the errors in #2663, where `letsencrypt-nginx/tests/boulder-integration.sh` is calling `letsencrypt` with `--configurator nginx` which causes `_set_by_cli` to raise an exception when creating a new lineage.\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/2668/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/2668/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/2661", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/2661/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/2661/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/2661/events", "html_url": "https://github.com/certbot/certbot/issues/2661", "id": 140516648, "node_id": "MDU6SXNzdWUxNDA1MTY2NDg=", "number": 2661, "title": "none ascii domains, error catching failed", "user": {"login": "puggan", "id": 866668, "node_id": "MDQ6VXNlcjg2NjY2OA==", "avatar_url": "https://avatars.githubusercontent.com/u/866668?v=4", "gravatar_id": "", "url": "https://api.github.com/users/puggan", "html_url": "https://github.com/puggan", "followers_url": "https://api.github.com/users/puggan/followers", "following_url": "https://api.github.com/users/puggan/following{/other_user}", "gists_url": "https://api.github.com/users/puggan/gists{/gist_id}", "starred_url": "https://api.github.com/users/puggan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/puggan/subscriptions", "organizations_url": "https://api.github.com/users/puggan/orgs", "repos_url": "https://api.github.com/users/puggan/repos", "events_url": "https://api.github.com/users/puggan/events{/privacy}", "received_events_url": "https://api.github.com/users/puggan/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 272789317, "node_id": "MDU6TGFiZWwyNzI3ODkzMTc=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20error%20handling", "name": "area: error handling", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "schoen", "id": 1750103, "node_id": "MDQ6VXNlcjE3NTAxMDM=", "avatar_url": "https://avatars.githubusercontent.com/u/1750103?v=4", "gravatar_id": "", "url": "https://api.github.com/users/schoen", "html_url": "https://github.com/schoen", "followers_url": "https://api.github.com/users/schoen/followers", "following_url": "https://api.github.com/users/schoen/following{/other_user}", "gists_url": "https://api.github.com/users/schoen/gists{/gist_id}", "starred_url": "https://api.github.com/users/schoen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/schoen/subscriptions", "organizations_url": "https://api.github.com/users/schoen/orgs", "repos_url": "https://api.github.com/users/schoen/repos", "events_url": "https://api.github.com/users/schoen/events{/privacy}", "received_events_url": "https://api.github.com/users/schoen/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "schoen", "id": 1750103, "node_id": "MDQ6VXNlcjE3NTAxMDM=", "avatar_url": "https://avatars.githubusercontent.com/u/1750103?v=4", "gravatar_id": "", "url": "https://api.github.com/users/schoen", "html_url": "https://github.com/schoen", "followers_url": "https://api.github.com/users/schoen/followers", "following_url": "https://api.github.com/users/schoen/following{/other_user}", "gists_url": "https://api.github.com/users/schoen/gists{/gist_id}", "starred_url": "https://api.github.com/users/schoen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/schoen/subscriptions", "organizations_url": "https://api.github.com/users/schoen/orgs", "repos_url": "https://api.github.com/users/schoen/repos", "events_url": "https://api.github.com/users/schoen/events{/privacy}", "received_events_url": "https://api.github.com/users/schoen/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/16", "html_url": "https://github.com/certbot/certbot/milestone/16", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/16/labels", "id": 1549770, "node_id": "MDk6TWlsZXN0b25lMTU0OTc3MA==", "number": 16, "title": "0.5.0", "description": "Renewal and plugin polish", "creator": {"login": "pde", "id": 479213, "node_id": "MDQ6VXNlcjQ3OTIxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/479213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pde", "html_url": "https://github.com/pde", "followers_url": "https://api.github.com/users/pde/followers", "following_url": "https://api.github.com/users/pde/following{/other_user}", "gists_url": "https://api.github.com/users/pde/gists{/gist_id}", "starred_url": "https://api.github.com/users/pde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pde/subscriptions", "organizations_url": "https://api.github.com/users/pde/orgs", "repos_url": "https://api.github.com/users/pde/repos", "events_url": "https://api.github.com/users/pde/events{/privacy}", "received_events_url": "https://api.github.com/users/pde/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 70, "state": "closed", "created_at": "2016-01-28T19:37:09Z", "updated_at": "2016-08-10T00:05:05Z", "due_on": "2016-03-24T07:00:00Z", "closed_at": "2016-04-06T01:14:41Z"}, "comments": 10, "created_at": "2016-03-13T19:08:56Z", "updated_at": "2016-04-05T01:36:54Z", "closed_at": "2016-03-15T02:14:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "This code should catch UnicodeDecodeError?\n\n```\n    # Unicode\n    try:\n        domain = domain.encode('ascii').lower()\n    except UnicodeDecodeError:\n        raise errors.ConfigurationError(\n            \"Internationalized domain names are not presently supported: {0}\"\n            .format(domain))\n```\n\nSo why is my log saying:\n\n> 2016-03-13 18:57:09,064:DEBUG:letsencrypt.cli:Exiting abnormally:\n> Traceback (most recent call last):\n>   File \"./letsencrypt\", line 11, in <module>\n>     sys.exit(main())\n>   File \"/root/.local/share/letsencrypt/lib64/python2.7/site-packages/letsencrypt/cli.py\", line 1993, in main\n>     return config.func(config, plugins)\n>   File \"/root/.local/share/letsencrypt/lib64/python2.7/site-packages/letsencrypt/cli.py\", line 658, in run\n>     domains = _find_domains(config, installer)\n>   File \"/root/.local/share/letsencrypt/lib64/python2.7/site-packages/letsencrypt/cli.py\", line 133, in _find_domains\n>     domains = display_ops.choose_names(installer)\n>   File \"/root/.local/share/letsencrypt/lib64/python2.7/site-packages/letsencrypt/display/ops.py\", line 208, in choose_names\n>     names = get_valid_domains(domains)\n>   File \"/root/.local/share/letsencrypt/lib64/python2.7/site-packages/letsencrypt/display/ops.py\", line 242, in get_valid_domains\n>     valid_domains.append(le_util.enforce_domain_sanity(domain))\n>   File \"/root/.local/share/letsencrypt/lib64/python2.7/site-packages/letsencrypt/le_util.py\", line 312, in enforce_domain_sanity\n>     domain = domain.encode('ascii').lower()\n> UnicodeEncodeError: 'ascii' codec can't encode character u'\\xe5' in position 1: ordinal not in range(128)\n\nrow 312 is the `domain = domain.encode('ascii').lower()` row, LE version 0.4.2\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/2661/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/2661/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/2600", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/2600/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/2600/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/2600/events", "html_url": "https://github.com/certbot/certbot/issues/2600", "id": 138325495, "node_id": "MDU6SXNzdWUxMzgzMjU0OTU=", "number": 2600, "title": "Failed to run Apache plugin non-interactively", "user": {"login": "schoen", "id": 1750103, "node_id": "MDQ6VXNlcjE3NTAxMDM=", "avatar_url": "https://avatars.githubusercontent.com/u/1750103?v=4", "gravatar_id": "", "url": "https://api.github.com/users/schoen", "html_url": "https://github.com/schoen", "followers_url": "https://api.github.com/users/schoen/followers", "following_url": "https://api.github.com/users/schoen/following{/other_user}", "gists_url": "https://api.github.com/users/schoen/gists{/gist_id}", "starred_url": "https://api.github.com/users/schoen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/schoen/subscriptions", "organizations_url": "https://api.github.com/users/schoen/orgs", "repos_url": "https://api.github.com/users/schoen/repos", "events_url": "https://api.github.com/users/schoen/events{/privacy}", "received_events_url": "https://api.github.com/users/schoen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 258836903, "node_id": "MDU6TGFiZWwyNTg4MzY5MDM=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20apache", "name": "area: apache", "color": "c5def5", "default": false, "description": null}, {"id": 261409142, "node_id": "MDU6TGFiZWwyNjE0MDkxNDI=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20renewal", "name": "area: renewal", "color": "c5def5", "default": false, "description": null}, {"id": 281347824, "node_id": "MDU6TGFiZWwyODEzNDc4MjQ=", "url": "https://api.github.com/repos/certbot/certbot/labels/has%20pr", "name": "has pr", "color": "0052cc", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/18", "html_url": "https://github.com/certbot/certbot/milestone/18", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/18/labels", "id": 1591649, "node_id": "MDk6TWlsZXN0b25lMTU5MTY0OQ==", "number": 18, "title": "0.6.0", "description": "Nginx and client rename", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 79, "state": "closed", "created_at": "2016-02-18T20:41:33Z", "updated_at": "2016-08-05T01:47:43Z", "due_on": "2016-05-10T07:00:00Z", "closed_at": "2016-05-12T22:27:44Z"}, "comments": 8, "created_at": "2016-03-03T23:11:09Z", "updated_at": "2016-05-10T02:18:06Z", "closed_at": "2016-05-06T21:55:42Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "As described at \n\nhttps://community.letsencrypt.org/t/trouble-automatically-renewing-with-a-script/11894\n\na hand-written `default-ssl.conf` containing various VirtualHosts is giving \n\n```\nFailed to run Apache plugin non-interactively\nMissing command line flag or config entry for this setting:\nWe were unable to find a vhost with a ServerName or Address of subdomain.client1.com.\nWhich virtual host would you like to choose?\n```\n\nwhen running `letsencrypt renew`. This looks like a problem with the `apache` plugin to me.\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/2600/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/2600/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/2597", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/2597/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/2597/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/2597/events", "html_url": "https://github.com/certbot/certbot/issues/2597", "id": 138290101, "node_id": "MDU6SXNzdWUxMzgyOTAxMDE=", "number": 2597, "title": "Request new cert failed", "user": {"login": "FabianCernota", "id": 9626021, "node_id": "MDQ6VXNlcjk2MjYwMjE=", "avatar_url": "https://avatars.githubusercontent.com/u/9626021?v=4", "gravatar_id": "", "url": "https://api.github.com/users/FabianCernota", "html_url": "https://github.com/FabianCernota", "followers_url": "https://api.github.com/users/FabianCernota/followers", "following_url": "https://api.github.com/users/FabianCernota/following{/other_user}", "gists_url": "https://api.github.com/users/FabianCernota/gists{/gist_id}", "starred_url": "https://api.github.com/users/FabianCernota/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/FabianCernota/subscriptions", "organizations_url": "https://api.github.com/users/FabianCernota/orgs", "repos_url": "https://api.github.com/users/FabianCernota/repos", "events_url": "https://api.github.com/users/FabianCernota/events{/privacy}", "received_events_url": "https://api.github.com/users/FabianCernota/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 276680181, "node_id": "MDU6TGFiZWwyNzY2ODAxODE=", "url": "https://api.github.com/repos/certbot/certbot/labels/more-info", "name": "more-info", "color": "006b75", "default": false, "description": null}, {"id": 278457504, "node_id": "MDU6TGFiZWwyNzg0NTc1MDQ=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20boulder", "name": "area: boulder", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 19, "created_at": "2016-03-03T20:35:14Z", "updated_at": "2018-04-02T03:07:17Z", "closed_at": "2016-03-07T22:21:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\n2016-03-03 20:32:44,209:INFO:requests.packages.urllib3.connectionpool:Starting new HTTPS connection (1): acme-v01.api.letsencrypt.org\n2016-03-03 20:32:48,109:DEBUG:requests.packages.urllib3.connectionpool:\"POST /acme/new-cert HTTP/1.1\" 500 88\n2016-03-03 20:32:48,114:DEBUG:root:Received <Response [500]>. Headers: {'Content-Length': '88', 'Expires': 'Thu, 03 Mar 2016 20:32:48 GMT', 'Server': 'nginx', 'Connection': 'close', 'Pragma': 'no-cache', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Date': 'Thu, 03 Mar 2016 20:32:48 GMT', 'Content-Type': 'application/problem+json', 'Replay-Nonce': 'DsfbYUV-WhPbvd0ab1LTZfsHULiAndN6cEWrNjJWfXs'}. Content: '{\"type\":\"urn:acme:error:serverInternal\",\"detail\":\"Error creating new cert\",\"status\":500}'\n2016-03-03 20:32:48,115:DEBUG:acme.client:Storing nonce: '\\x0e\\xc7\\xdbaE~Z\\x13\\xdb\\xbd\\xdd\\x1aoR\\xd3e\\xfb\\x07P\\xb8\\x80\\x9d\\xd3zpE\\xab62V}{'\n2016-03-03 20:32:48,115:DEBUG:acme.client:Received response <Response [500]> (headers: {'Content-Length': '88', 'Expires': 'Thu, 03 Mar 2016 20:32:48 GMT', 'Server': 'nginx', 'Connection': 'close', 'Pragma': 'no-cache', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Date': 'Thu, 03 Mar 2016 20:32:48 GMT', 'Content-Type': 'application/problem+json', 'Replay-Nonce': 'DsfbYUV-WhPbvd0ab1LTZfsHULiAndN6cEWrNjJWfXs'}): '{\"type\":\"urn:acme:error:serverInternal\",\"detail\":\"Error creating new cert\",\"status\":500}'\n2016-03-03 20:32:48,117:DEBUG:letsencrypt.cli:Exiting abnormally:\nTraceback (most recent call last):\n  File \"/root/.local/share/letsencrypt/bin/letsencrypt\", line 11, in <module>\n    sys.exit(main())\n  File \"/root/.local/share/letsencrypt/local/lib/python2.7/site-packages/letsencrypt/cli.py\", line 1986, in main\n    return config.func(config, plugins)\n  File \"/root/.local/share/letsencrypt/local/lib/python2.7/site-packages/letsencrypt/cli.py\", line 706, in obtain_cert\n    _, action = _auth_from_domains(le_client, config, domains, lineage)\n  File \"/root/.local/share/letsencrypt/local/lib/python2.7/site-packages/letsencrypt/cli.py\", line 457, in _auth_from_domains\n    new_certr, new_chain, new_key, _ = le_client.obtain_certificate(domains)\n  File \"/root/.local/share/letsencrypt/local/lib/python2.7/site-packages/letsencrypt/client.py\", line 252, in obtain_certificate\n    return self.obtain_certificate_from_csr(domains, csr) + (key, csr)\n  File \"/root/.local/share/letsencrypt/local/lib/python2.7/site-packages/letsencrypt/client.py\", line 229, in obtain_certificate_from_csr\n    authzr)\n  File \"/root/.local/share/letsencrypt/local/lib/python2.7/site-packages/acme/client.py\", line 319, in request_issuance\n    headers={'Accept': content_type})\n  File \"/root/.local/share/letsencrypt/local/lib/python2.7/site-packages/acme/client.py\", line 652, in post\n    return self._check_response(response, content_type=content_type)\n  File \"/root/.local/share/letsencrypt/local/lib/python2.7/site-packages/acme/client.py\", line 568, in _check_response\n    raise messages.Error.from_json(jobj)\nError: urn:acme:error:serverInternal :: The server experienced an internal error :: Error creating new cert\n```\n\nThanks,\nFabian\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/2597/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/2597/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/2532", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/2532/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/2532/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/2532/events", "html_url": "https://github.com/certbot/certbot/issues/2532", "id": 135761350, "node_id": "MDU6SXNzdWUxMzU3NjEzNTA=", "number": 2532, "title": "automatic virtualenv package name detection broken on Ubuntu 14.04", "user": {"login": "vondrt4", "id": 1347565, "node_id": "MDQ6VXNlcjEzNDc1NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/1347565?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vondrt4", "html_url": "https://github.com/vondrt4", "followers_url": "https://api.github.com/users/vondrt4/followers", "following_url": "https://api.github.com/users/vondrt4/following{/other_user}", "gists_url": "https://api.github.com/users/vondrt4/gists{/gist_id}", "starred_url": "https://api.github.com/users/vondrt4/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vondrt4/subscriptions", "organizations_url": "https://api.github.com/users/vondrt4/orgs", "repos_url": "https://api.github.com/users/vondrt4/repos", "events_url": "https://api.github.com/users/vondrt4/events{/privacy}", "received_events_url": "https://api.github.com/users/vondrt4/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 276243379, "node_id": "MDU6TGFiZWwyNzYyNDMzNzk=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20certbot-auto", "name": "area: certbot-auto", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2016-02-23T15:06:50Z", "updated_at": "2018-10-30T22:34:55Z", "closed_at": "2018-10-30T22:34:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "...because of:\n# apt-cache show virtualenv\n\nN: Can't select versions from package 'virtualenv' as it is purely virtual\nN: No packages found\n# echo $?\n\n0\n\nI've just cloned the master branch.\n\nBy the way, I think that installing system packages from inside a script without asking the user, and before being able to show help, is highly rude.\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/2532/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/2532/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/2528", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/2528/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/2528/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/2528/events", "html_url": "https://github.com/certbot/certbot/issues/2528", "id": 135633477, "node_id": "MDU6SXNzdWUxMzU2MzM0Nzc=", "number": 2528, "title": "Version must be set on CSR before marshaling", "user": {"login": "rolandshoemaker", "id": 5080674, "node_id": "MDQ6VXNlcjUwODA2NzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/5080674?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rolandshoemaker", "html_url": "https://github.com/rolandshoemaker", "followers_url": "https://api.github.com/users/rolandshoemaker/followers", "following_url": "https://api.github.com/users/rolandshoemaker/following{/other_user}", "gists_url": "https://api.github.com/users/rolandshoemaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/rolandshoemaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rolandshoemaker/subscriptions", "organizations_url": "https://api.github.com/users/rolandshoemaker/orgs", "repos_url": "https://api.github.com/users/rolandshoemaker/repos", "events_url": "https://api.github.com/users/rolandshoemaker/events{/privacy}", "received_events_url": "https://api.github.com/users/rolandshoemaker/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/17", "html_url": "https://github.com/certbot/certbot/milestone/17", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/17/labels", "id": 1576814, "node_id": "MDk6TWlsZXN0b25lMTU3NjgxNA==", "number": 17, "title": "0.4.1", "description": null, "creator": {"login": "SwartzCr", "id": 649860, "node_id": "MDQ6VXNlcjY0OTg2MA==", "avatar_url": "https://avatars.githubusercontent.com/u/649860?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SwartzCr", "html_url": "https://github.com/SwartzCr", "followers_url": "https://api.github.com/users/SwartzCr/followers", "following_url": "https://api.github.com/users/SwartzCr/following{/other_user}", "gists_url": "https://api.github.com/users/SwartzCr/gists{/gist_id}", "starred_url": "https://api.github.com/users/SwartzCr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SwartzCr/subscriptions", "organizations_url": "https://api.github.com/users/SwartzCr/orgs", "repos_url": "https://api.github.com/users/SwartzCr/repos", "events_url": "https://api.github.com/users/SwartzCr/events{/privacy}", "received_events_url": "https://api.github.com/users/SwartzCr/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 62, "state": "closed", "created_at": "2016-02-11T00:51:40Z", "updated_at": "2020-07-18T07:18:29Z", "due_on": null, "closed_at": "2016-03-01T19:53:11Z"}, "comments": 0, "created_at": "2016-02-23T04:56:49Z", "updated_at": "2016-02-23T23:19:53Z", "closed_at": "2016-02-23T16:08:23Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "If you happen to have a very old version of OpenSSL (looking at you Travis) and you don't set the CSR Version an empty integer (0 length byte slice) will be inserted into the version field which causes Boulder to choke as this is an invalid DER encoding. On newer versions if the version isn't set OpenSSL will sneakily just insert a `0` value and continue, meaning we hadn't stumbled across this before.\n\nThe version should be set using `req.set_version(2)` (2 = X509v3... because) in [`make_csr`](https://github.com/letsencrypt/letsencrypt/blob/fd1ebb2d9f6a0030307028aad92ceee586fc06c5/letsencrypt/crypto_util.py#L95). Fixing this will allow us to unblock moving Boulder to Golang 1.6 (which we should build a Boulder instance from and run a test-farm thingies against just to check!)\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/2528/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/2528/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/2508", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/2508/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/2508/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/2508/events", "html_url": "https://github.com/certbot/certbot/issues/2508", "id": 134845633, "node_id": "MDU6SXNzdWUxMzQ4NDU2MzM=", "number": 2508, "title": "Renewer should report failures via exit status", "user": {"login": "marcan", "id": 98387, "node_id": "MDQ6VXNlcjk4Mzg3", "avatar_url": "https://avatars.githubusercontent.com/u/98387?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marcan", "html_url": "https://github.com/marcan", "followers_url": "https://api.github.com/users/marcan/followers", "following_url": "https://api.github.com/users/marcan/following{/other_user}", "gists_url": "https://api.github.com/users/marcan/gists{/gist_id}", "starred_url": "https://api.github.com/users/marcan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marcan/subscriptions", "organizations_url": "https://api.github.com/users/marcan/orgs", "repos_url": "https://api.github.com/users/marcan/repos", "events_url": "https://api.github.com/users/marcan/events{/privacy}", "received_events_url": "https://api.github.com/users/marcan/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 261409142, "node_id": "MDU6TGFiZWwyNjE0MDkxNDI=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20renewal", "name": "area: renewal", "color": "c5def5", "default": false, "description": null}, {"id": 281347824, "node_id": "MDU6TGFiZWwyODEzNDc4MjQ=", "url": "https://api.github.com/repos/certbot/certbot/labels/has%20pr", "name": "has pr", "color": "0052cc", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/17", "html_url": "https://github.com/certbot/certbot/milestone/17", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/17/labels", "id": 1576814, "node_id": "MDk6TWlsZXN0b25lMTU3NjgxNA==", "number": 17, "title": "0.4.1", "description": null, "creator": {"login": "SwartzCr", "id": 649860, "node_id": "MDQ6VXNlcjY0OTg2MA==", "avatar_url": "https://avatars.githubusercontent.com/u/649860?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SwartzCr", "html_url": "https://github.com/SwartzCr", "followers_url": "https://api.github.com/users/SwartzCr/followers", "following_url": "https://api.github.com/users/SwartzCr/following{/other_user}", "gists_url": "https://api.github.com/users/SwartzCr/gists{/gist_id}", "starred_url": "https://api.github.com/users/SwartzCr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SwartzCr/subscriptions", "organizations_url": "https://api.github.com/users/SwartzCr/orgs", "repos_url": "https://api.github.com/users/SwartzCr/repos", "events_url": "https://api.github.com/users/SwartzCr/events{/privacy}", "received_events_url": "https://api.github.com/users/SwartzCr/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 62, "state": "closed", "created_at": "2016-02-11T00:51:40Z", "updated_at": "2020-07-18T07:18:29Z", "due_on": null, "closed_at": "2016-03-01T19:53:11Z"}, "comments": 2, "created_at": "2016-02-19T11:44:45Z", "updated_at": "2016-02-26T01:02:14Z", "closed_at": "2016-02-25T00:31:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "The `renew` subcommand should cause the process to exit with a nonzero exit status if renewal failed for any certificate. This makes it easier for an automated renewal script to determine if something went wrong or not. Right now, it seems to exit with status 0 anyway (at least in dry run mode).\n\nRelatedly, I would also suggest adding a \"quiet\" option that skips the \"Processing\" lines and does not print the final summary if the status of all certs is \"skipped\". This makes it easier to just run as a cronjob, since it will avoid producing any output if nothing was done, and therefore won't send an email.\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/2508/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/2508/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/2470", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/2470/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/2470/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/2470/events", "html_url": "https://github.com/certbot/certbot/issues/2470", "id": 133421347, "node_id": "MDU6SXNzdWUxMzM0MjEzNDc=", "number": 2470, "title": "NameError: free variable 'addrs' referenced before assignment in enclosing scope", "user": {"login": "Boschman", "id": 1070905, "node_id": "MDQ6VXNlcjEwNzA5MDU=", "avatar_url": "https://avatars.githubusercontent.com/u/1070905?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Boschman", "html_url": "https://github.com/Boschman", "followers_url": "https://api.github.com/users/Boschman/followers", "following_url": "https://api.github.com/users/Boschman/following{/other_user}", "gists_url": "https://api.github.com/users/Boschman/gists{/gist_id}", "starred_url": "https://api.github.com/users/Boschman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Boschman/subscriptions", "organizations_url": "https://api.github.com/users/Boschman/orgs", "repos_url": "https://api.github.com/users/Boschman/repos", "events_url": "https://api.github.com/users/Boschman/events{/privacy}", "received_events_url": "https://api.github.com/users/Boschman/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 258836903, "node_id": "MDU6TGFiZWwyNTg4MzY5MDM=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20apache", "name": "area: apache", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/17", "html_url": "https://github.com/certbot/certbot/milestone/17", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/17/labels", "id": 1576814, "node_id": "MDk6TWlsZXN0b25lMTU3NjgxNA==", "number": 17, "title": "0.4.1", "description": null, "creator": {"login": "SwartzCr", "id": 649860, "node_id": "MDQ6VXNlcjY0OTg2MA==", "avatar_url": "https://avatars.githubusercontent.com/u/649860?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SwartzCr", "html_url": "https://github.com/SwartzCr", "followers_url": "https://api.github.com/users/SwartzCr/followers", "following_url": "https://api.github.com/users/SwartzCr/following{/other_user}", "gists_url": "https://api.github.com/users/SwartzCr/gists{/gist_id}", "starred_url": "https://api.github.com/users/SwartzCr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SwartzCr/subscriptions", "organizations_url": "https://api.github.com/users/SwartzCr/orgs", "repos_url": "https://api.github.com/users/SwartzCr/repos", "events_url": "https://api.github.com/users/SwartzCr/events{/privacy}", "received_events_url": "https://api.github.com/users/SwartzCr/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 62, "state": "closed", "created_at": "2016-02-11T00:51:40Z", "updated_at": "2020-07-18T07:18:29Z", "due_on": null, "closed_at": "2016-03-01T19:53:11Z"}, "comments": 3, "created_at": "2016-02-13T10:51:41Z", "updated_at": "2016-02-19T20:27:50Z", "closed_at": "2016-02-19T20:27:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "When using `./letsencrypt-auto run` on Ubuntu 14.04 I run into this error:\n\n`An unexpected error occurred:\nNameError: free variable 'addrs' referenced before assignment in enclosing scope`.\n\nFrom letsencrypt.log:\n\n```\n2016-02-13 10:13:29,799:DEBUG:letsencrypt.error_handler:Calling registered functions\n2016-02-13 10:13:29,802:DEBUG:letsencrypt.cli:Exiting abnormally:\nTraceback (most recent call last):\n  File \"/home/aaa/.local/share/letsencrypt/bin/letsencrypt\", line 11, in <module>\n    sys.exit(main())\n  File \"/home/aaa/.local/share/letsencrypt/local/lib/python2.7/site-packages/letsencrypt/cli.py\", line 1987, in main\n    return config.func(config, plugins)\n  File \"/home/aaa/.local/share/letsencrypt/local/lib/python2.7/site-packages/letsencrypt/cli.py\", line 667, in run\n    lineage.chain, lineage.fullchain)\n  File \"/home/aaa/.local/share/letsencrypt/local/lib/python2.7/site-packages/letsencrypt/client.py\", line 355, in deploy_certificate\n    fullchain_path=fullchain_path)\n  File \"/home/aaa/.local/share/letsencrypt/local/lib/python2.7/site-packages/letsencrypt_apache/configurator.py\", line 214, in deploy_cert\n    vhost = self.choose_vhost(domain)\n  File \"/home/aaa/.local/share/letsencrypt/local/lib/python2.7/site-packages/letsencrypt_apache/configurator.py\", line 308, in choose_vhost\n    vhost = self.make_vhost_ssl(vhost)\n  File \"/home/aaa/.local/share/letsencrypt/local/lib/python2.7/site-packages/letsencrypt_apache/configurator.py\", line 733, in make_vhost_ssl\n    self._add_name_vhost_if_necessary(ssl_vhost)\n  File \"/home/aaa/.local/share/letsencrypt/local/lib/python2.7/site-packages/letsencrypt_apache/configurator.py\", line 905, in _add_name_vhost_if_necessary\n    test_addr in test_vh.addrs) and\n  File \"/home/aaa/.local/share/letsencrypt/local/lib/python2.7/site-packages/letsencrypt_apache/configurator.py\", line 905, in <genexpr>\n    test_addr in test_vh.addrs) and\nNameError: free variable 'addrs' referenced before assignment in enclosing scope\n```\n\nI'm using version 45ee1eb889c86f582c53b1743fdfaf9187c4658b.\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/2470/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/2470/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/2468", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/2468/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/2468/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/2468/events", "html_url": "https://github.com/certbot/certbot/issues/2468", "id": 133376468, "node_id": "MDU6SXNzdWUxMzMzNzY0Njg=", "number": 2468, "title": "Expected a numeric value for http01_port", "user": {"login": "schoen", "id": 1750103, "node_id": "MDQ6VXNlcjE3NTAxMDM=", "avatar_url": "https://avatars.githubusercontent.com/u/1750103?v=4", "gravatar_id": "", "url": "https://api.github.com/users/schoen", "html_url": "https://github.com/schoen", "followers_url": "https://api.github.com/users/schoen/followers", "following_url": "https://api.github.com/users/schoen/following{/other_user}", "gists_url": "https://api.github.com/users/schoen/gists{/gist_id}", "starred_url": "https://api.github.com/users/schoen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/schoen/subscriptions", "organizations_url": "https://api.github.com/users/schoen/orgs", "repos_url": "https://api.github.com/users/schoen/repos", "events_url": "https://api.github.com/users/schoen/events{/privacy}", "received_events_url": "https://api.github.com/users/schoen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 261409142, "node_id": "MDU6TGFiZWwyNjE0MDkxNDI=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20renewal", "name": "area: renewal", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/19", "html_url": "https://github.com/certbot/certbot/milestone/19", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/19/labels", "id": 1618960, "node_id": "MDk6TWlsZXN0b25lMTYxODk2MA==", "number": 19, "title": "0.4.2", "description": "stop DROWNing in API breakage", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 14, "state": "closed", "created_at": "2016-03-02T22:18:32Z", "updated_at": "2016-03-08T23:55:11Z", "due_on": "2016-03-03T08:00:00Z", "closed_at": "2016-03-08T20:31:30Z"}, "comments": 5, "created_at": "2016-02-13T00:22:20Z", "updated_at": "2016-03-02T22:21:49Z", "closed_at": "2016-03-02T02:11:30Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Forum user Randall describes this problem when using `letsencrypt renew`:\n\n> ...The error was `Expected a numeric value for http01_port. ...` \n> Editing the file /etc/letsencrypt/renewal/[my.domain].conf file solved this problem. I changed `http01_port = None`  to  `http01_port = 80`\n\nhttps://community.letsencrypt.org/t/help-us-test-renewal-with-letsencrypt-renew/10562/5\n\n@bmw said that this would have been fixed (in terms of renewal config files correctly specifying `http01_port`) back in November, but people who have older lineages than that may have this problem when renewing with `standalone`. That could conceivably be a pretty large number of users!\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/2468/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/2468/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/2460", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/2460/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/2460/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/2460/events", "html_url": "https://github.com/certbot/certbot/issues/2460", "id": 133242503, "node_id": "MDU6SXNzdWUxMzMyNDI1MDM=", "number": 2460, "title": "./letsencrypt-auto --help dumps core on Debian Jessie (8.3)", "user": {"login": "florath", "id": 11856543, "node_id": "MDQ6VXNlcjExODU2NTQz", "avatar_url": "https://avatars.githubusercontent.com/u/11856543?v=4", "gravatar_id": "", "url": "https://api.github.com/users/florath", "html_url": "https://github.com/florath", "followers_url": "https://api.github.com/users/florath/followers", "following_url": "https://api.github.com/users/florath/following{/other_user}", "gists_url": "https://api.github.com/users/florath/gists{/gist_id}", "starred_url": "https://api.github.com/users/florath/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/florath/subscriptions", "organizations_url": "https://api.github.com/users/florath/orgs", "repos_url": "https://api.github.com/users/florath/repos", "events_url": "https://api.github.com/users/florath/events{/privacy}", "received_events_url": "https://api.github.com/users/florath/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2016-02-12T13:31:37Z", "updated_at": "2018-10-26T00:42:04Z", "closed_at": "2018-10-26T00:42:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "Executing the documented commands:\n\n```\ngit clone https://github.com/letsencrypt/letsencrypt\ncd letsencrypt\n./letsencrypt-auto --help\n```\n\nFinishes with:\n\n```\nRequesting root privileges to run letsencrypt...\n       /root/.local/share/letsencrypt/bin/letsencrypt --no-self-upgrade --help\nSegmentation fault (core dumped)\n```\n\n```\n# file core\ncore: ELF 64-bit LSB core file x86-64, version 1 (SYSV), SVR4-style, from '/root/.local/share/letsencrypt/bin/python /root/.local/share/letsencrypt/bin/le'\n```\n\n```\n# gdb /root/.local/share/letsencrypt/bin/python core\n(gdb) bt\n#0  0x00007f7dedd0699b in ffi_prep_closure_loc () from /usr/lib/x86_64-linux-gnu/libffi.so.6\n#1  0x00007f7dedf1e270 in b_callback (self=self@entry=0x0, args=args@entry=0x7f7dee4280a8) at c/_cffi_backend.c:5191\n#2  0x00007f7dedf1e69b in _ffi_callback_decorator (outer_args=0x7f7dee4280a8, fn=<optimized out>) at c/ffi_obj.c:764\n#3  0x00000000004cadbe in PyEval_EvalFrameEx ()\n#4  0x00000000004c87a1 in PyEval_EvalCodeEx ()\n#5  0x00000000004c8036 in PyEval_EvalCode ()\n#6  0x00000000004c67ec in PyImport_ExecCodeModuleEx ()\n#7  0x00000000004c2f82 in ?? ()\n#8  0x00000000004b1532 in ?? ()\n#9  0x000000000041ca96 in ?? ()\n#10 0x00000000004b3d66 in ?? ()\n#11 0x00000000004d1a1b in PyEval_CallObjectWithKeywords ()\n#12 0x00000000004ccc1c in PyEval_EvalFrameEx ()\n#13 0x00000000004c87a1 in PyEval_EvalCodeEx ()\n#14 0x00000000004c8036 in PyEval_EvalCode ()\n#15 0x00000000004c67ec in PyImport_ExecCodeModuleEx ()\n#16 0x00000000004c2f82 in ?? ()\n#17 0x00000000004b1532 in ?? ()\n#18 0x00000000004b0ee9 in ?? ()\n#19 0x00000000004b3d66 in ?? ()\n#20 0x00000000004d1a1b in PyEval_CallObjectWithKeywords ()\n#21 0x00000000004ccc1c in PyEval_EvalFrameEx ()\n#22 0x00000000004c87a1 in PyEval_EvalCodeEx ()\n#23 0x00000000004c8036 in PyEval_EvalCode ()\n#24 0x00000000004c67ec in PyImport_ExecCodeModuleEx ()\n#25 0x00000000004c2f82 in ?? ()\n#26 0x00000000004b188f in ?? ()\n#27 0x00000000004b697b in ?? ()\n#28 0x00000000004b08e2 in ?? ()\n#29 0x00000000004b3d66 in ?? ()\n#30 0x00000000004d1a1b in PyEval_CallObjectWithKeywords ()\n#31 0x00000000004ccc1c in PyEval_EvalFrameEx ()\n#32 0x00000000004c87a1 in PyEval_EvalCodeEx ()\n#33 0x00000000004c8036 in PyEval_EvalCode ()\n#34 0x00000000004c67ec in PyImport_ExecCodeModuleEx ()\n#35 0x00000000004c2f82 in ?? ()\n#36 0x00000000004c449c in ?? ()\n#37 0x00000000004b188f in ?? ()\n#38 0x00000000004b145b in ?? ()\n#39 0x00000000004b0b2a in ?? ()\n#40 0x00000000004b3d66 in ?? ()\n#41 0x00000000004d1a1b in PyEval_CallObjectWithKeywords ()\n#42 0x00000000004ccc1c in PyEval_EvalFrameEx ()\n#43 0x00000000004c87a1 in PyEval_EvalCodeEx ()\n#44 0x00000000004c8036 in PyEval_EvalCode ()\n#45 0x00000000004c67ec in PyImport_ExecCodeModuleEx ()\n#46 0x00000000004c2f82 in ?? ()\n#47 0x00000000004b1532 in ?? ()\n#48 0x00000000004b0ee9 in ?? ()\n#49 0x00000000004b3d66 in ?? ()\n#50 0x00000000004d1a1b in PyEval_CallObjectWithKeywords ()\n#51 0x00000000004ccc1c in PyEval_EvalFrameEx ()\n#52 0x00000000004c87a1 in PyEval_EvalCodeEx ()\n---Type <return> to continue, or q <return> to quit---\n#53 0x00000000005030ef in ?? ()\n#54 0x00000000004f8c72 in PyRun_FileExFlags ()\n#55 0x00000000004f7d77 in PyRun_SimpleFileExFlags ()\n#56 0x00000000004982f2 in Py_Main ()\n#57 0x00007f7def232b45 in __libc_start_main (main=0x497d80 <main>, argc=4, argv=0x7ffd46d41368, init=<optimized out>, fini=<optimized out>, rtld_fini=<optimized out>, \n    stack_end=0x7ffd46d41358) at libc-start.c:287\n#58 0x0000000000497ca0 in _start ()\n```\n\nEnvironment:\nUp-to date Debian Jessie (8.3) running inside a VM.\nletsencrypt: commit ef21220bc5f17c33066611601352a0b111b26c1f\n\nIf you need additional info, please ask.\n\nIMHO this might be strange:\n\n```\nUpgrading letsencrypt-auto 0.5.0.dev0 to 0.4.0...\nReplacing letsencrypt-auto...\n   cp /tmp/tmp.sCrsX22vzL/letsencrypt-auto ./letsencrypt-auto\n```\n\nLooks like downgrading?\n\nKind regards\n\nAnd\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/2460/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/2460/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/2456", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/2456/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/2456/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/2456/events", "html_url": "https://github.com/certbot/certbot/issues/2456", "id": 133154366, "node_id": "MDU6SXNzdWUxMzMxNTQzNjY=", "number": 2456, "title": "letsencrypt-auto upgrade overwrites itself before the shell is done reading the script", "user": {"login": "Voltara", "id": 2379988, "node_id": "MDQ6VXNlcjIzNzk5ODg=", "avatar_url": "https://avatars.githubusercontent.com/u/2379988?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Voltara", "html_url": "https://github.com/Voltara", "followers_url": "https://api.github.com/users/Voltara/followers", "following_url": "https://api.github.com/users/Voltara/following{/other_user}", "gists_url": "https://api.github.com/users/Voltara/gists{/gist_id}", "starred_url": "https://api.github.com/users/Voltara/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Voltara/subscriptions", "organizations_url": "https://api.github.com/users/Voltara/orgs", "repos_url": "https://api.github.com/users/Voltara/repos", "events_url": "https://api.github.com/users/Voltara/events{/privacy}", "received_events_url": "https://api.github.com/users/Voltara/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 276243379, "node_id": "MDU6TGFiZWwyNzYyNDMzNzk=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20certbot-auto", "name": "area: certbot-auto", "color": "c5def5", "default": false, "description": null}, {"id": 281347824, "node_id": "MDU6TGFiZWwyODEzNDc4MjQ=", "url": "https://api.github.com/repos/certbot/certbot/labels/has%20pr", "name": "has pr", "color": "0052cc", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "erikrose", "id": 295816, "node_id": "MDQ6VXNlcjI5NTgxNg==", "avatar_url": "https://avatars.githubusercontent.com/u/295816?v=4", "gravatar_id": "", "url": "https://api.github.com/users/erikrose", "html_url": "https://github.com/erikrose", "followers_url": "https://api.github.com/users/erikrose/followers", "following_url": "https://api.github.com/users/erikrose/following{/other_user}", "gists_url": "https://api.github.com/users/erikrose/gists{/gist_id}", "starred_url": "https://api.github.com/users/erikrose/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/erikrose/subscriptions", "organizations_url": "https://api.github.com/users/erikrose/orgs", "repos_url": "https://api.github.com/users/erikrose/repos", "events_url": "https://api.github.com/users/erikrose/events{/privacy}", "received_events_url": "https://api.github.com/users/erikrose/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "erikrose", "id": 295816, "node_id": "MDQ6VXNlcjI5NTgxNg==", "avatar_url": "https://avatars.githubusercontent.com/u/295816?v=4", "gravatar_id": "", "url": "https://api.github.com/users/erikrose", "html_url": "https://github.com/erikrose", "followers_url": "https://api.github.com/users/erikrose/followers", "following_url": "https://api.github.com/users/erikrose/following{/other_user}", "gists_url": "https://api.github.com/users/erikrose/gists{/gist_id}", "starred_url": "https://api.github.com/users/erikrose/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/erikrose/subscriptions", "organizations_url": "https://api.github.com/users/erikrose/orgs", "repos_url": "https://api.github.com/users/erikrose/repos", "events_url": "https://api.github.com/users/erikrose/events{/privacy}", "received_events_url": "https://api.github.com/users/erikrose/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/17", "html_url": "https://github.com/certbot/certbot/milestone/17", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/17/labels", "id": 1576814, "node_id": "MDk6TWlsZXN0b25lMTU3NjgxNA==", "number": 17, "title": "0.4.1", "description": null, "creator": {"login": "SwartzCr", "id": 649860, "node_id": "MDQ6VXNlcjY0OTg2MA==", "avatar_url": "https://avatars.githubusercontent.com/u/649860?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SwartzCr", "html_url": "https://github.com/SwartzCr", "followers_url": "https://api.github.com/users/SwartzCr/followers", "following_url": "https://api.github.com/users/SwartzCr/following{/other_user}", "gists_url": "https://api.github.com/users/SwartzCr/gists{/gist_id}", "starred_url": "https://api.github.com/users/SwartzCr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SwartzCr/subscriptions", "organizations_url": "https://api.github.com/users/SwartzCr/orgs", "repos_url": "https://api.github.com/users/SwartzCr/repos", "events_url": "https://api.github.com/users/SwartzCr/events{/privacy}", "received_events_url": "https://api.github.com/users/SwartzCr/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 62, "state": "closed", "created_at": "2016-02-11T00:51:40Z", "updated_at": "2020-07-18T07:18:29Z", "due_on": null, "closed_at": "2016-03-01T19:53:11Z"}, "comments": 9, "created_at": "2016-02-12T04:17:19Z", "updated_at": "2016-02-26T07:58:09Z", "closed_at": "2016-02-26T07:58:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "I got this error when `letsencrypt-auto` upgraded from 0.3.0 to 0.4.0:\n\n```\nChecking for new version...\nUpgrading letsencrypt-auto 0.3.0 to 0.4.0...\nReplacing letsencrypt-auto...\n   cp /tmp/tmp.IOXyxE1Nmb/letsencrypt-auto /root/letsencrypt/letsencrypt-auto\nCreating virtual environment...\nInstalling Python packages...\nRequesting root privileges to run letsencrypt...\n   /root/.local/share/letsencrypt/bin/letsencrypt --no-self-upgrade --keep-until-expiring --apache certonly -d www.voltara.org -d voltara.org -d ipv4.voltara.org\n/root/letsencrypt/letsencrypt-auto: 1800: /root/letsencrypt/letsencrypt-auto: ownership: not found\n```\n\nThe problem is `letsencrypt-auto` overwrites itself using the `cp` command _before_ the shell (dash) has finished reading the script.  (Technically speaking, it read all 64445 bytes of the script, but did not yet attempt to read past EOF.)  The new version is 64814 bytes, 369 bytes larger than the previous version.  Thus when the shell tried reading more of the script, instead of returning EOF, it read the final 369 bytes of the _new_ version.\n\n```\n$ tail -c -369 letsencrypt-auto\nownership from the old copy.\n    # TODO: Deal with quotes in pathnames.\n    echo \"Replacing letsencrypt-auto...\"\n    echo \"  \" $SUDO cp \"$TEMP_DIR/letsencrypt-auto\" \"$0\"\n    $SUDO cp \"$TEMP_DIR/letsencrypt-auto\" \"$0\"\n    # TODO: Clean up temp dir safely, even if it has quotes in its path.\n    rm -rf \"$TEMP_DIR\"\n  fi  # should upgrade\n  \"$0\" --no-self-upgrade \"$@\"\nfi\n```\n\nBecause this fragment happened to start with the word \"ownership\", it gave an `ownership: not found` error.  (I imagine it could have been much worse...)\n\nHere is the `strace` output showing the behavior:\n\n```\nrt_sigreturn()                          = 17961\nread(10, \"encies. Aborting bootstrap!\\\"\\n   \"..., 8192) = 8192\nread(10, \"uz-re_bUPwGx8\\nordereddict==1.1\\n\\n\"..., 8192) = 8192\nread(10, \"le wasn't there, so some\\n# of ou\"..., 8192) = 8192\nread(10, \": Everything after the subcomman\"..., 8192) = 8192\nread(10, \"     filename = link.filename  #\"..., 8192) = 8192\nread(10, \"he requirements file, which\\\\n'\\n \"..., 8192) = 8192\nread(10, \"on:\\n        exception_handler(*s\"..., 8192) = 7101     <=== Reading last few bytes of old version\n...\n...\nrt_sigreturn()                          = 17975\nclone(child_stack=0, flags=CLONE_CHILD_CLEARTID|CLONE_CHILD_SETTID|SIGCHLD, child_tidptr=0x7f3b4e0ffa10) = 17976\nwait4(-1, Requesting root privileges to run letsencrypt...\n   /root/.local/share/letsencrypt/bin/letsencrypt --no-self-upgrade --version\nletsencrypt 0.4.0\n[{WIFEXITED(s) && WEXITSTATUS(s) == 0}], 0, NULL) = 17976\n--- SIGCHLD {si_signo=SIGCHLD, si_code=CLD_EXITED, si_pid=17976, si_status=0, si_utime=0, si_stime=0} ---\nrt_sigreturn()                          = 17976\nread(10, \"ownership from the old copy.\\n   \"..., 8192) = 369      <=== Reading tail end of *new* version\nstat(\"/usr/sbin/ownership\", 0x7ffddf98fd30) = -1 ENOENT (No such file or directory)\nstat(\"/usr/bin/ownership\", 0x7ffddf98fd30) = -1 ENOENT (No such file or directory)\nstat(\"/sbin/ownership\", 0x7ffddf98fd30) = -1 ENOENT (No such file or directory)\nstat(\"/bin/ownership\", 0x7ffddf98fd30)  = -1 ENOENT (No such file or directory)\nwrite(2, \"./letsencrypt-auto: 1800: ./lets\"..., 46./letsencrypt-auto: 1800: ./letsencrypt-auto: ) = 46\nwrite(2, \"ownership: not found\", 20ownership: not found)    = 20\nwrite(2, \"\\n\", 1\n)                       = 1\nexit_group(127)                         = ?\n```\n\nI'm running Ubuntu 14.04.3 LTS, and my `/bin/sh` is a symlink to `dash` 0.5.7-4ubuntu1.\n\nHere's how I can reproduce the issue.  This is very sensitive to the old/new versions of the script; as of this writing, the \"new\" version is v0.4.0.  I'm not exactly sure what the \"old\" version is (it's most likely a prerelease version of the self-updating letsencrypt-auto; however, the bug is still present in the 0.4.0 version):\n- Check out commit `eb59804f76f6f0975f411df135c42fc4eaace521`\n- Change `if [ \"$LE_AUTO_VERSION\"` on line 1781 of letsencrypt-auto-source/letsencrypt-auto to `if [ \"$XX_XXXX_XXXXXXX\"`, taking care not to alter the length of the file.\n- Verify the script is still 64445 bytes in length\n- Run it: `./letsencrypt-auto --version`\n- The script will update in-place to version 0.4.0 and then terminate with `ownership: not found`\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/2456/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/2456/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/2419", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/2419/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/2419/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/2419/events", "html_url": "https://github.com/certbot/certbot/issues/2419", "id": 132585715, "node_id": "MDU6SXNzdWUxMzI1ODU3MTU=", "number": 2419, "title": "letsencrypt renew fails to renew authenticator=standalone lineage after installer=apache", "user": {"login": "schoen", "id": 1750103, "node_id": "MDQ6VXNlcjE3NTAxMDM=", "avatar_url": "https://avatars.githubusercontent.com/u/1750103?v=4", "gravatar_id": "", "url": "https://api.github.com/users/schoen", "html_url": "https://github.com/schoen", "followers_url": "https://api.github.com/users/schoen/followers", "following_url": "https://api.github.com/users/schoen/following{/other_user}", "gists_url": "https://api.github.com/users/schoen/gists{/gist_id}", "starred_url": "https://api.github.com/users/schoen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/schoen/subscriptions", "organizations_url": "https://api.github.com/users/schoen/orgs", "repos_url": "https://api.github.com/users/schoen/repos", "events_url": "https://api.github.com/users/schoen/events{/privacy}", "received_events_url": "https://api.github.com/users/schoen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 258836903, "node_id": "MDU6TGFiZWwyNTg4MzY5MDM=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20apache", "name": "area: apache", "color": "c5def5", "default": false, "description": null}, {"id": 261409142, "node_id": "MDU6TGFiZWwyNjE0MDkxNDI=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20renewal", "name": "area: renewal", "color": "c5def5", "default": false, "description": null}, {"id": 1383990430, "node_id": "MDU6TGFiZWwxMzgzOTkwNDMw", "url": "https://api.github.com/repos/certbot/certbot/labels/needs-update", "name": "needs-update", "color": "ADDEE4", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/5", "html_url": "https://github.com/certbot/certbot/milestone/5", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/5/labels", "id": 1134473, "node_id": "MDk6TWlsZXN0b25lMTEzNDQ3Mw==", "number": 5, "title": "Wishlist", "description": "", "creator": {"login": "pde", "id": 479213, "node_id": "MDQ6VXNlcjQ3OTIxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/479213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pde", "html_url": "https://github.com/pde", "followers_url": "https://api.github.com/users/pde/followers", "following_url": "https://api.github.com/users/pde/following{/other_user}", "gists_url": "https://api.github.com/users/pde/gists{/gist_id}", "starred_url": "https://api.github.com/users/pde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pde/subscriptions", "organizations_url": "https://api.github.com/users/pde/orgs", "repos_url": "https://api.github.com/users/pde/repos", "events_url": "https://api.github.com/users/pde/events{/privacy}", "received_events_url": "https://api.github.com/users/pde/received_events", "type": "User", "site_admin": false}, "open_issues": 96, "closed_issues": 202, "state": "open", "created_at": "2015-05-26T17:47:38Z", "updated_at": "2023-04-17T19:55:31Z", "due_on": null, "closed_at": null}, "comments": 4, "created_at": "2016-02-10T01:33:41Z", "updated_at": "2019-06-13T18:35:08Z", "closed_at": "2019-06-13T18:35:08Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Right now, if you do `service apache2 stop` in the hope of renewing `standalone` lineages, but the renewer decides to renew any `installer=apache` lineage, the renewer will call `.restart()` which will then cause `apache2` to start again! That, in turn, will cause TCP ports to be in use and `standalone` to be unable to renew its lineages.\n\nThe `apache` plugin should not actually \"reload\" a non-running Apache; there's arguably no need to do so because the new cert, if any, will be picked up automatically the next time that Apache is started.\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/2419/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/2419/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/2355", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/2355/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/2355/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/2355/events", "html_url": "https://github.com/certbot/certbot/issues/2355", "id": 131111762, "node_id": "MDU6SXNzdWUxMzExMTE3NjI=", "number": 2355, "title": "SSLEngine on missing from virtualhost config", "user": {"login": "AutomatedTester", "id": 128518, "node_id": "MDQ6VXNlcjEyODUxOA==", "avatar_url": "https://avatars.githubusercontent.com/u/128518?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AutomatedTester", "html_url": "https://github.com/AutomatedTester", "followers_url": "https://api.github.com/users/AutomatedTester/followers", "following_url": "https://api.github.com/users/AutomatedTester/following{/other_user}", "gists_url": "https://api.github.com/users/AutomatedTester/gists{/gist_id}", "starred_url": "https://api.github.com/users/AutomatedTester/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AutomatedTester/subscriptions", "organizations_url": "https://api.github.com/users/AutomatedTester/orgs", "repos_url": "https://api.github.com/users/AutomatedTester/repos", "events_url": "https://api.github.com/users/AutomatedTester/events{/privacy}", "received_events_url": "https://api.github.com/users/AutomatedTester/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 146954789, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODk=", "url": "https://api.github.com/repos/certbot/certbot/labels/feature%20request", "name": "feature request", "color": "00ccff", "default": false, "description": null}, {"id": 258836903, "node_id": "MDU6TGFiZWwyNTg4MzY5MDM=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20apache", "name": "area: apache", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/8", "html_url": "https://github.com/certbot/certbot/milestone/8", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/8/labels", "id": 1353913, "node_id": "MDk6TWlsZXN0b25lMTM1MzkxMw==", "number": 8, "title": "Important", "description": "This milestone was for things someone on the Certbot team considered necessary for the client to be out of beta, but it's become something of a holding place for many kinds of polishing tickets, and will probably need to be triaged further.", "creator": {"login": "pde", "id": 479213, "node_id": "MDQ6VXNlcjQ3OTIxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/479213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pde", "html_url": "https://github.com/pde", "followers_url": "https://api.github.com/users/pde/followers", "following_url": "https://api.github.com/users/pde/following{/other_user}", "gists_url": "https://api.github.com/users/pde/gists{/gist_id}", "starred_url": "https://api.github.com/users/pde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pde/subscriptions", "organizations_url": "https://api.github.com/users/pde/orgs", "repos_url": "https://api.github.com/users/pde/repos", "events_url": "https://api.github.com/users/pde/events{/privacy}", "received_events_url": "https://api.github.com/users/pde/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 160, "state": "closed", "created_at": "2015-10-13T19:41:13Z", "updated_at": "2020-03-20T18:56:33Z", "due_on": null, "closed_at": "2020-03-20T18:56:33Z"}, "comments": 1, "created_at": "2016-02-03T18:24:27Z", "updated_at": "2017-09-27T12:36:21Z", "closed_at": "2017-09-27T12:35:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "I installed a cert on https://futurama.theautomatedtester.co.uk but Apache wouldn't start up. \n\n`[Wed Feb 03 16:20:25.876214 2016] [ssl:emerg] [pid 24501] AH02311: Fatal error initialising mod_ssl, exiting. See /var/log/apache2/futurama-error.log for more information`\n\nwhich had \n\n`\n[Wed Feb 03 15:29:40.678671 2016] [ssl:emerg] [pid 12371] AH01910: Oops, no RSA, DSA or ECC server certificate found for 'futurama.theautomatedtester.co.uk:0'?!\n`\n\nAfter Googling around for a while I found it was because `SSLEngine on` was not in the conf file for that virtualhost. This should probably be handled automatically.\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/2355/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/2355/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/2340", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/2340/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/2340/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/2340/events", "html_url": "https://github.com/certbot/certbot/issues/2340", "id": 130607051, "node_id": "MDU6SXNzdWUxMzA2MDcwNTE=", "number": 2340, "title": "letsencrypt error aws", "user": {"login": "jhiew", "id": 17021258, "node_id": "MDQ6VXNlcjE3MDIxMjU4", "avatar_url": "https://avatars.githubusercontent.com/u/17021258?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jhiew", "html_url": "https://github.com/jhiew", "followers_url": "https://api.github.com/users/jhiew/followers", "following_url": "https://api.github.com/users/jhiew/following{/other_user}", "gists_url": "https://api.github.com/users/jhiew/gists{/gist_id}", "starred_url": "https://api.github.com/users/jhiew/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jhiew/subscriptions", "organizations_url": "https://api.github.com/users/jhiew/orgs", "repos_url": "https://api.github.com/users/jhiew/repos", "events_url": "https://api.github.com/users/jhiew/events{/privacy}", "received_events_url": "https://api.github.com/users/jhiew/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 276243379, "node_id": "MDU6TGFiZWwyNzYyNDMzNzk=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20certbot-auto", "name": "area: certbot-auto", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2016-02-02T08:03:33Z", "updated_at": "2018-10-23T23:46:22Z", "closed_at": "2018-10-23T23:46:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "HI Guys,\n\nI hit this error as below when running ./letsencrypt-auto on AWS RHEL v6.6 \nError msg as follow \n\nCommand \"/root/.local/share/letsencrypt/bin/python2.7 -u -c \"import setuptools, tokenize;**file**='/tmp/pip-build-JRpGnW/cffi/setup.py';exec(compile(getattr(tokenize, 'open', open)(**file**).read().replace('\\r\\n', '\\n'), **file**, 'exec'))\" install --record /tmp/pip-amq3gz-record/install-record.txt --single-version-externally-managed --compile --install-headers /root/.local/share/letsencrypt/include/site/python2.7/cffi\" failed with error code\n\nAny suggestion ?\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/2340/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/2340/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/2320", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/2320/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/2320/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/2320/events", "html_url": "https://github.com/certbot/certbot/issues/2320", "id": 130042043, "node_id": "MDU6SXNzdWUxMzAwNDIwNDM=", "number": 2320, "title": "Client parses files with multiple vhosts when it should skip them", "user": {"login": "dwilson390", "id": 8929767, "node_id": "MDQ6VXNlcjg5Mjk3Njc=", "avatar_url": "https://avatars.githubusercontent.com/u/8929767?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dwilson390", "html_url": "https://github.com/dwilson390", "followers_url": "https://api.github.com/users/dwilson390/followers", "following_url": "https://api.github.com/users/dwilson390/following{/other_user}", "gists_url": "https://api.github.com/users/dwilson390/gists{/gist_id}", "starred_url": "https://api.github.com/users/dwilson390/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dwilson390/subscriptions", "organizations_url": "https://api.github.com/users/dwilson390/orgs", "repos_url": "https://api.github.com/users/dwilson390/repos", "events_url": "https://api.github.com/users/dwilson390/events{/privacy}", "received_events_url": "https://api.github.com/users/dwilson390/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 258836903, "node_id": "MDU6TGFiZWwyNTg4MzY5MDM=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20apache", "name": "area: apache", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/16", "html_url": "https://github.com/certbot/certbot/milestone/16", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/16/labels", "id": 1549770, "node_id": "MDk6TWlsZXN0b25lMTU0OTc3MA==", "number": 16, "title": "0.5.0", "description": "Renewal and plugin polish", "creator": {"login": "pde", "id": 479213, "node_id": "MDQ6VXNlcjQ3OTIxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/479213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pde", "html_url": "https://github.com/pde", "followers_url": "https://api.github.com/users/pde/followers", "following_url": "https://api.github.com/users/pde/following{/other_user}", "gists_url": "https://api.github.com/users/pde/gists{/gist_id}", "starred_url": "https://api.github.com/users/pde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pde/subscriptions", "organizations_url": "https://api.github.com/users/pde/orgs", "repos_url": "https://api.github.com/users/pde/repos", "events_url": "https://api.github.com/users/pde/events{/privacy}", "received_events_url": "https://api.github.com/users/pde/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 70, "state": "closed", "created_at": "2016-01-28T19:37:09Z", "updated_at": "2016-08-10T00:05:05Z", "due_on": "2016-03-24T07:00:00Z", "closed_at": "2016-04-06T01:14:41Z"}, "comments": 8, "created_at": "2016-01-30T21:44:12Z", "updated_at": "2016-04-05T01:36:53Z", "closed_at": "2016-03-17T18:41:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "The client does not correctly recognise what sites the Apache .conf (under sites-available) corresponds to.  Here is an example;\n\nScreenshot; https://dyw.pm/i/T7gEMb.png\n\nActual contents;\n\ndyw.pm.conf (LE claims multiple sites are hosted in this file);\n\n```\n<VirtualHost *:80>\n    ServerName dyw.pm\n    ServerAlias www.dyw.pm\n    ServerAdmin contact@dwilson.me.uk\n    DocumentRoot /var/www/dyw.pm/www/public/\n    ErrorLog ${APACHE_LOG_DIR}/error.log\n    CustomLog ${APACHE_LOG_DIR}/access.log combined\n    RewriteEngine on\n    RewriteRule ^ https://%{SERVER_NAME}%{REQUEST_URI} [L,QSA,R=permanent]\n  <ifmodule mpm_itk_module>\n    AssignUserID dywpm dywpm\n  </ifmodule>\n</VirtualHost>\n\n<IfModule mod_ssl.c>            \n    <VirtualHost *:443>\n        ServerName dyw.pm\n        ServerAlias www.dyw.pm\n        ServerAdmin contact@dwilson.me.uk\n        DocumentRoot /var/www/dyw.pm/www/public/\n        ErrorLog ${APACHE_LOG_DIR}/error.log\n        CustomLog ${APACHE_LOG_DIR}/access.log combined\n        SSLEngine on\n        SSLCipherSuite ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-AES256-GCM-SHA384:DHE-RSA-AES128-GCM-SHA256:DHE-DSS-AES128-GCM-SHA256:kEDH+AESGCM:ECDHE-RSA-AES128-SHA256:ECDHE-ECDSA-AES128-SHA256:ECDHE-RSA-AES128-SHA:ECDHE-ECDSA-AES128-SHA:ECDHE-RSA-AES256-SHA384:ECDHE-ECDSA-AES256-SHA384:ECDHE-RSA-AES256-SHA:ECDHE-ECDSA-AES256-SHA:DHE-RSA-AES128-SHA256:DHE-RSA-AES128-SHA:DHE-DSS-AES128-SHA256:DHE-RSA-AES256-SHA256:DHE-DSS-AES256-SHA:DHE-RSA-AES256-SHA:AES128-GCM-SHA256:AES256-GCM-SHA384:AES128-SHA256:AES256-SHA256:AES128-SHA:AES256-SHA:AES:CAMELLIA:DES-CBC3-SHA:!aNULL:!eNULL:!EXPORT:!DES:!RC4:!MD5:!PSK:!aECDH:!EDH-DSS-DES-CBC3-SHA:!EDH-RSA-DES-CBC3-SHA:!KRB5-DES-CBC3-SHA\n        SSLHonorCipherOrder on\n        SSLCertificateFile  /etc/letsencrypt/live/dyw.pm/cert.pem\n        SSLCertificateKeyFile /etc/letsencrypt/live/dyw.pm/privkey.pem\n        SSLCertificateChainFile /etc/letsencrypt/live/dyw.pm/chain.pem\n        <FilesMatch \"\\.(cgi|shtml|phtml|php)$\">\n            SSLOptions +StdEnvVars\n        </FilesMatch>\n        <Directory /usr/lib/cgi-bin>\n            SSLOptions +StdEnvVars\n        </Directory>\n        BrowserMatch \"MSIE [2-6]\" \\\n            nokeepalive ssl-unclean-shutdown \\\n            downgrade-1.0 force-response-1.0\n        BrowserMatch \"MSIE [17-9]\" ssl-unclean-shutdown\n    <ifmodule mpm_itk_module>\n      AssignUserID dywpm dywpm\n    </ifmodule>\n    </VirtualHost>\n</IfModule>\n\n# vim: syntax=apache ts=4 sw=4 sts=4 sr noet\n```\n\ndwilson.me.uk.conf (LE claims that there is only status.dwilson.me.uk contained in this file);\n\n```\n<VirtualHost *:80>\n    ServerName dwilson.me.uk\n    ServerAlias www.dwilson.me.uk\n    ServerAdmin contact@dwilson.me.uk\n    DocumentRoot /var/www/dwilson.me.uk/www/public/\n    ErrorLog ${APACHE_LOG_DIR}/error.log\n    CustomLog ${APACHE_LOG_DIR}/access.log combined\n    RewriteEngine on\n    RewriteRule ^ https://%{SERVER_NAME}%{REQUEST_URI} [L,QSA,R=permanent]\n  <ifmodule mpm_itk_module>\n    AssignUserID dwilsonm dwilsonm\n  </ifmodule>\n</VirtualHost>\n\n<VirtualHost *:80>\n    ServerName projects.dwilson.me.uk\n    ServerAdmin contact@dwilson.me.uk\n    DocumentRoot /var/www/dwilson.me.uk/projects/public/\n    ErrorLog ${APACHE_LOG_DIR}/error.log\n    CustomLog ${APACHE_LOG_DIR}/access.log combined\n    RewriteEngine on\n    RewriteRule ^ https://%{SERVER_NAME}%{REQUEST_URI} [L,QSA,R=permanent]\n  <ifmodule mpm_itk_module>\n    AssignUserID dwilsonm dwilsonm\n  </ifmodule>\n</VirtualHost>\n\n<VirtualHost *:80>\n    ServerName downloads.dwilson.me.uk\n    ServerAdmin contact@dwilson.me.uk\n    DocumentRoot /var/www/dwilson.me.uk/downloads/public/\n    ErrorLog ${APACHE_LOG_DIR}/error.log\n    CustomLog ${APACHE_LOG_DIR}/access.log combined\n    RewriteEngine on\n    RewriteRule ^ https://%{SERVER_NAME}%{REQUEST_URI} [L,QSA,R=permanent]\n  <ifmodule mpm_itk_module>\n    AssignUserID dwilsonm dwilsonm\n  </ifmodule>\n</VirtualHost>\n\n<VirtualHost *:80>\n    ServerName status.dwilson.me.uk\n    ServerAdmin contact@dwilson.me.uk\n    DocumentRoot /var/www/dwilson.me.uk/status/public/\n    ErrorLog ${APACHE_LOG_DIR}/error.log\n    CustomLog ${APACHE_LOG_DIR}/access.log combined\n    <Directory \"/var/www/Cachet/public\">  \n            Require all granted\n            Options Indexes FollowSymLinks\n            AllowOverride All\n            Order allow,deny\n            Allow from all\n    </Directory>\n    RewriteEngine on\n    RewriteRule ^ https://%{SERVER_NAME}%{REQUEST_URI} [L,QSA,R=permanent]\n  <ifmodule mpm_itk_module>\n    AssignUserID dwilsonm dwilsonm\n  </ifmodule>\n</VirtualHost>\n\n<IfModule mod_ssl.c>            \n    <VirtualHost *:443>\n        ServerName dwilson.me.uk\n        ServerAlias www.dwilson.me.uk\n        ServerAdmin contact@dwilson.me.uk\n        DocumentRoot /var/www/dwilson.me.uk/www/public/\n        ErrorLog ${APACHE_LOG_DIR}/error.log\n        CustomLog ${APACHE_LOG_DIR}/access.log combined\n        SSLEngine on\n        SSLCipherSuite ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-AES256-GCM-SHA384:DHE-RSA-AES128-GCM-SHA256:DHE-DSS-AES128-GCM-SHA256:kEDH+AESGCM:ECDHE-RSA-AES128-SHA256:ECDHE-ECDSA-AES128-SHA256:ECDHE-RSA-AES128-SHA:ECDHE-ECDSA-AES128-SHA:ECDHE-RSA-AES256-SHA384:ECDHE-ECDSA-AES256-SHA384:ECDHE-RSA-AES256-SHA:ECDHE-ECDSA-AES256-SHA:DHE-RSA-AES128-SHA256:DHE-RSA-AES128-SHA:DHE-DSS-AES128-SHA256:DHE-RSA-AES256-SHA256:DHE-DSS-AES256-SHA:DHE-RSA-AES256-SHA:AES128-GCM-SHA256:AES256-GCM-SHA384:AES128-SHA256:AES256-SHA256:AES128-SHA:AES256-SHA:AES:CAMELLIA:DES-CBC3-SHA:!aNULL:!eNULL:!EXPORT:!DES:!RC4:!MD5:!PSK:!aECDH:!EDH-DSS-DES-CBC3-SHA:!EDH-RSA-DES-CBC3-SHA:!KRB5-DES-CBC3-SHA\n        SSLHonorCipherOrder on\n        SSLCertificateFile  /etc/letsencrypt/live/dwilson.me.uk/cert.pem\n        SSLCertificateKeyFile /etc/letsencrypt/live/dwilson.me.uk/privkey.pem\n        SSLCertificateChainFile /etc/letsencrypt/live/dwilson.me.uk/chain.pem\n        <FilesMatch \"\\.(cgi|shtml|phtml|php)$\">\n            SSLOptions +StdEnvVars\n        </FilesMatch>\n        <Directory /usr/lib/cgi-bin>\n            SSLOptions +StdEnvVars\n        </Directory>\n        BrowserMatch \"MSIE [2-6]\" \\\n            nokeepalive ssl-unclean-shutdown \\\n            downgrade-1.0 force-response-1.0\n        BrowserMatch \"MSIE [17-9]\" ssl-unclean-shutdown\n    <ifmodule mpm_itk_module>\n      AssignUserID dwilsonm dwilsonm\n    </ifmodule>\n    </VirtualHost>\n\n    <VirtualHost *:443>\n        ServerName projects.dwilson.me.uk\n        ServerAdmin contact@dwilson.me.uk\n        DocumentRoot /var/www/dwilson.me.uk/projects/public/\n        ErrorLog ${APACHE_LOG_DIR}/error.log\n        CustomLog ${APACHE_LOG_DIR}/access.log combined\n        SSLEngine on\n        SSLCipherSuite ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-AES256-GCM-SHA384:DHE-RSA-AES128-GCM-SHA256:DHE-DSS-AES128-GCM-SHA256:kEDH+AESGCM:ECDHE-RSA-AES128-SHA256:ECDHE-ECDSA-AES128-SHA256:ECDHE-RSA-AES128-SHA:ECDHE-ECDSA-AES128-SHA:ECDHE-RSA-AES256-SHA384:ECDHE-ECDSA-AES256-SHA384:ECDHE-RSA-AES256-SHA:ECDHE-ECDSA-AES256-SHA:DHE-RSA-AES128-SHA256:DHE-RSA-AES128-SHA:DHE-DSS-AES128-SHA256:DHE-RSA-AES256-SHA256:DHE-DSS-AES256-SHA:DHE-RSA-AES256-SHA:AES128-GCM-SHA256:AES256-GCM-SHA384:AES128-SHA256:AES256-SHA256:AES128-SHA:AES256-SHA:AES:CAMELLIA:DES-CBC3-SHA:!aNULL:!eNULL:!EXPORT:!DES:!RC4:!MD5:!PSK:!aECDH:!EDH-DSS-DES-CBC3-SHA:!EDH-RSA-DES-CBC3-SHA:!KRB5-DES-CBC3-SHA\n        SSLHonorCipherOrder on\n        SSLCertificateFile  /etc/letsencrypt/live/dwilson.me.uk/cert.pem\n        SSLCertificateKeyFile /etc/letsencrypt/live/dwilson.me.uk/privkey.pem\n        SSLCertificateChainFile /etc/letsencrypt/live/dwilson.me.uk/chain.pem\n        <FilesMatch \"\\.(cgi|shtml|phtml|php)$\">\n            SSLOptions +StdEnvVars\n        </FilesMatch>\n        <Directory /usr/lib/cgi-bin>\n            SSLOptions +StdEnvVars\n        </Directory>\n        BrowserMatch \"MSIE [2-6]\" \\\n            nokeepalive ssl-unclean-shutdown \\\n            downgrade-1.0 force-response-1.0\n        BrowserMatch \"MSIE [17-9]\" ssl-unclean-shutdown\n    <ifmodule mpm_itk_module>\n      AssignUserID dwilsonm dwilsonm\n    </ifmodule>\n    </VirtualHost>\n\n    <VirtualHost *:443>\n        ServerName downloads.dwilson.me.uk\n        ServerAdmin contact@dwilson.me.uk\n        DocumentRoot /var/www/dwilson.me.uk/downloads/public/\n        ErrorLog ${APACHE_LOG_DIR}/error.log\n        CustomLog ${APACHE_LOG_DIR}/access.log combined\n        SSLEngine on\n        SSLCipherSuite ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-AES256-GCM-SHA384:DHE-RSA-AES128-GCM-SHA256:DHE-DSS-AES128-GCM-SHA256:kEDH+AESGCM:ECDHE-RSA-AES128-SHA256:ECDHE-ECDSA-AES128-SHA256:ECDHE-RSA-AES128-SHA:ECDHE-ECDSA-AES128-SHA:ECDHE-RSA-AES256-SHA384:ECDHE-ECDSA-AES256-SHA384:ECDHE-RSA-AES256-SHA:ECDHE-ECDSA-AES256-SHA:DHE-RSA-AES128-SHA256:DHE-RSA-AES128-SHA:DHE-DSS-AES128-SHA256:DHE-RSA-AES256-SHA256:DHE-DSS-AES256-SHA:DHE-RSA-AES256-SHA:AES128-GCM-SHA256:AES256-GCM-SHA384:AES128-SHA256:AES256-SHA256:AES128-SHA:AES256-SHA:AES:CAMELLIA:DES-CBC3-SHA:!aNULL:!eNULL:!EXPORT:!DES:!RC4:!MD5:!PSK:!aECDH:!EDH-DSS-DES-CBC3-SHA:!EDH-RSA-DES-CBC3-SHA:!KRB5-DES-CBC3-SHA\n        SSLHonorCipherOrder on\n        SSLCertificateFile  /etc/letsencrypt/live/dwilson.me.uk/cert.pem\n        SSLCertificateKeyFile /etc/letsencrypt/live/dwilson.me.uk/privkey.pem\n        SSLCertificateChainFile /etc/letsencrypt/live/dwilson.me.uk/chain.pem\n        <FilesMatch \"\\.(cgi|shtml|phtml|php)$\">\n            SSLOptions +StdEnvVars\n        </FilesMatch>\n        <Directory /usr/lib/cgi-bin>\n            SSLOptions +StdEnvVars\n        </Directory>\n        BrowserMatch \"MSIE [2-6]\" \\\n            nokeepalive ssl-unclean-shutdown \\\n            downgrade-1.0 force-response-1.0\n        BrowserMatch \"MSIE [17-9]\" ssl-unclean-shutdown\n    <ifmodule mpm_itk_module>\n      AssignUserID dwilsonm dwilsonm\n    </ifmodule>\n    </VirtualHost>\n\n    <VirtualHost *:443>\n        ServerName status.dwilson.me.uk\n        ServerAdmin contact@dwilson.me.uk\n        DocumentRoot /var/www/dwilson.me.uk/status/public/\n        ErrorLog ${APACHE_LOG_DIR}/error.log\n        CustomLog ${APACHE_LOG_DIR}/access.log combined\n        <Directory \"/var/www/Cachet/public\">  \n                Require all granted\n                Options Indexes FollowSymLinks\n                AllowOverride All\n                Order allow,deny\n                Allow from all\n        </Directory>  \n        SSLEngine on\n        SSLCipherSuite ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-AES256-GCM-SHA384:DHE-RSA-AES128-GCM-SHA256:DHE-DSS-AES128-GCM-SHA256:kEDH+AESGCM:ECDHE-RSA-AES128-SHA256:ECDHE-ECDSA-AES128-SHA256:ECDHE-RSA-AES128-SHA:ECDHE-ECDSA-AES128-SHA:ECDHE-RSA-AES256-SHA384:ECDHE-ECDSA-AES256-SHA384:ECDHE-RSA-AES256-SHA:ECDHE-ECDSA-AES256-SHA:DHE-RSA-AES128-SHA256:DHE-RSA-AES128-SHA:DHE-DSS-AES128-SHA256:DHE-RSA-AES256-SHA256:DHE-DSS-AES256-SHA:DHE-RSA-AES256-SHA:AES128-GCM-SHA256:AES256-GCM-SHA384:AES128-SHA256:AES256-SHA256:AES128-SHA:AES256-SHA:AES:CAMELLIA:DES-CBC3-SHA:!aNULL:!eNULL:!EXPORT:!DES:!RC4:!MD5:!PSK:!aECDH:!EDH-DSS-DES-CBC3-SHA:!EDH-RSA-DES-CBC3-SHA:!KRB5-DES-CBC3-SHA\n        SSLHonorCipherOrder on\n        SSLCertificateFile  /etc/letsencrypt/live/dwilson.me.uk/cert.pem\n        SSLCertificateKeyFile /etc/letsencrypt/live/dwilson.me.uk/privkey.pem\n        SSLCertificateChainFile /etc/letsencrypt/live/dwilson.me.uk/chain.pem\n        <FilesMatch \"\\.(cgi|shtml|phtml|php)$\">\n            SSLOptions +StdEnvVars\n        </FilesMatch>\n        <Directory /usr/lib/cgi-bin>\n            SSLOptions +StdEnvVars\n        </Directory>\n        BrowserMatch \"MSIE [2-6]\" \\\n            nokeepalive ssl-unclean-shutdown \\\n            downgrade-1.0 force-response-1.0\n        BrowserMatch \"MSIE [17-9]\" ssl-unclean-shutdown\n        BrowserMatch \"MSIE [17-9]\" ssl-unclean-shutdown\n    <ifmodule mpm_itk_module>\n      AssignUserID dwilsonm dwilsonm\n    </ifmodule>\n    </VirtualHost>\n</IfModule>\n\n# vim: syntax=apache ts=4 sw=4 sts=4 sr noet\n```\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/2320/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/2320/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/2315", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/2315/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/2315/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/2315/events", "html_url": "https://github.com/certbot/certbot/issues/2315", "id": 129876848, "node_id": "MDU6SXNzdWUxMjk4NzY4NDg=", "number": 2315, "title": "Reporter doesn't respect on_crash parameter", "user": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 1383990430, "node_id": "MDU6TGFiZWwxMzgzOTkwNDMw", "url": "https://api.github.com/repos/certbot/certbot/labels/needs-update", "name": "needs-update", "color": "ADDEE4", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-01-29T20:41:47Z", "updated_at": "2019-06-18T00:23:44Z", "closed_at": "2019-06-18T00:23:41Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "`letsencrypt.reporter.Reporter.add_message` has a `on_crash` parameter that is supposed determine whether the registered message should be shown if the program exits with an unhandled exception.\n\nDue to the way we suppress all exceptions, this does not work properly and needs  to be fixed.\n\nMarking this as low priority since there is currently only one place in the code where we add a message with `on_crash=False` and it is the last thing done before the program exits.\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/2315/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/2315/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/2289", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/2289/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/2289/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/2289/events", "html_url": "https://github.com/certbot/certbot/issues/2289", "id": 128989297, "node_id": "MDU6SXNzdWUxMjg5ODkyOTc=", "number": 2289, "title": "Don't fail when Detail field is empty", "user": {"login": "jsha", "id": 220205, "node_id": "MDQ6VXNlcjIyMDIwNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/220205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsha", "html_url": "https://github.com/jsha", "followers_url": "https://api.github.com/users/jsha/followers", "following_url": "https://api.github.com/users/jsha/following{/other_user}", "gists_url": "https://api.github.com/users/jsha/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsha/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsha/subscriptions", "organizations_url": "https://api.github.com/users/jsha/orgs", "repos_url": "https://api.github.com/users/jsha/repos", "events_url": "https://api.github.com/users/jsha/events{/privacy}", "received_events_url": "https://api.github.com/users/jsha/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 277074172, "node_id": "MDU6TGFiZWwyNzcwNzQxNzI=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20acme", "name": "area: acme", "color": "c5def5", "default": false, "description": null}, {"id": 281347824, "node_id": "MDU6TGFiZWwyODEzNDc4MjQ=", "url": "https://api.github.com/repos/certbot/certbot/labels/has%20pr", "name": "has pr", "color": "0052cc", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/18", "html_url": "https://github.com/certbot/certbot/milestone/18", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/18/labels", "id": 1591649, "node_id": "MDk6TWlsZXN0b25lMTU5MTY0OQ==", "number": 18, "title": "0.6.0", "description": "Nginx and client rename", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 79, "state": "closed", "created_at": "2016-02-18T20:41:33Z", "updated_at": "2016-08-05T01:47:43Z", "due_on": "2016-05-10T07:00:00Z", "closed_at": "2016-05-12T22:27:44Z"}, "comments": 2, "created_at": "2016-01-27T00:45:02Z", "updated_at": "2016-05-11T17:36:30Z", "closed_at": "2016-05-11T16:50:14Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The Detail field of a [Problem Detail](https://tools.ietf.org/html/draft-ietf-appsawg-http-problem-03) is not required, and may in particular be absent when it is redundant with the status field. Right now the client throws a nasty exception when it receives a Problem Detail without a Detail field. Instead it should just print the type.\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/2289/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/2289/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/2267", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/2267/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/2267/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/2267/events", "html_url": "https://github.com/certbot/certbot/issues/2267", "id": 128237688, "node_id": "MDU6SXNzdWUxMjgyMzc2ODg=", "number": 2267, "title": "Syntax error during apache configuration", "user": {"login": "Kritzefitz", "id": 8547449, "node_id": "MDQ6VXNlcjg1NDc0NDk=", "avatar_url": "https://avatars.githubusercontent.com/u/8547449?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Kritzefitz", "html_url": "https://github.com/Kritzefitz", "followers_url": "https://api.github.com/users/Kritzefitz/followers", "following_url": "https://api.github.com/users/Kritzefitz/following{/other_user}", "gists_url": "https://api.github.com/users/Kritzefitz/gists{/gist_id}", "starred_url": "https://api.github.com/users/Kritzefitz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Kritzefitz/subscriptions", "organizations_url": "https://api.github.com/users/Kritzefitz/orgs", "repos_url": "https://api.github.com/users/Kritzefitz/repos", "events_url": "https://api.github.com/users/Kritzefitz/events{/privacy}", "received_events_url": "https://api.github.com/users/Kritzefitz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 258836903, "node_id": "MDU6TGFiZWwyNTg4MzY5MDM=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20apache", "name": "area: apache", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2016-01-22T20:24:42Z", "updated_at": "2017-03-19T21:57:49Z", "closed_at": "2016-12-20T18:57:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "I tried to obtain and install a staging certificate on an apache2 server. My OS is Debian Jessie.\n\nIs used the command `./letsencrypt-auto --apache`.\n\nAfter accepting the Terms & Conditions and selecting a certificate for all my three domains I got the following error:\n\n```\napache2: Syntax error on line 219 of /etc/apache2/apache2.conf: Syntax error on line 7 of /etc/apache2/sites-enabled/static-le-ssl.conf: Expected </VirtualHost> but saw </VirtualHost></IfModule>\n```\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/2267/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/2267/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/2245", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/2245/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/2245/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/2245/events", "html_url": "https://github.com/certbot/certbot/issues/2245", "id": 127714563, "node_id": "MDU6SXNzdWUxMjc3MTQ1NjM=", "number": 2245, "title": "letsencrypt.log should not be truncated with each run", "user": {"login": "jsha", "id": 220205, "node_id": "MDQ6VXNlcjIyMDIwNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/220205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsha", "html_url": "https://github.com/jsha", "followers_url": "https://api.github.com/users/jsha/followers", "following_url": "https://api.github.com/users/jsha/following{/other_user}", "gists_url": "https://api.github.com/users/jsha/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsha/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsha/subscriptions", "organizations_url": "https://api.github.com/users/jsha/orgs", "repos_url": "https://api.github.com/users/jsha/repos", "events_url": "https://api.github.com/users/jsha/events{/privacy}", "received_events_url": "https://api.github.com/users/jsha/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 276239890, "node_id": "MDU6TGFiZWwyNzYyMzk4OTA=", "url": "https://api.github.com/repos/certbot/certbot/labels/easy-fix", "name": "easy-fix", "color": "207de5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/8", "html_url": "https://github.com/certbot/certbot/milestone/8", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/8/labels", "id": 1353913, "node_id": "MDk6TWlsZXN0b25lMTM1MzkxMw==", "number": 8, "title": "Important", "description": "This milestone was for things someone on the Certbot team considered necessary for the client to be out of beta, but it's become something of a holding place for many kinds of polishing tickets, and will probably need to be triaged further.", "creator": {"login": "pde", "id": 479213, "node_id": "MDQ6VXNlcjQ3OTIxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/479213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pde", "html_url": "https://github.com/pde", "followers_url": "https://api.github.com/users/pde/followers", "following_url": "https://api.github.com/users/pde/following{/other_user}", "gists_url": "https://api.github.com/users/pde/gists{/gist_id}", "starred_url": "https://api.github.com/users/pde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pde/subscriptions", "organizations_url": "https://api.github.com/users/pde/orgs", "repos_url": "https://api.github.com/users/pde/repos", "events_url": "https://api.github.com/users/pde/events{/privacy}", "received_events_url": "https://api.github.com/users/pde/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 160, "state": "closed", "created_at": "2015-10-13T19:41:13Z", "updated_at": "2020-03-20T18:56:33Z", "due_on": null, "closed_at": "2020-03-20T18:56:33Z"}, "comments": 3, "created_at": "2016-01-20T16:00:30Z", "updated_at": "2016-01-21T00:56:09Z", "closed_at": "2016-01-20T21:25:36Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Right now, each run of letsencrypt truncates the existing letsencrypt.log. Instead we should always append to letsencrypt.log. That way on systems that run letsencrypt repeatedly in an automated way, errors from earlier invocations are not obliterated by later invocations.\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/2245/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/2245/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/2144", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/2144/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/2144/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/2144/events", "html_url": "https://github.com/certbot/certbot/issues/2144", "id": 126058844, "node_id": "MDU6SXNzdWUxMjYwNTg4NDQ=", "number": 2144, "title": "./letsencrypt-auto fails if VirtualHost contains FastCgiExternalServer", "user": {"login": "julien-lecomte", "id": 1992050, "node_id": "MDQ6VXNlcjE5OTIwNTA=", "avatar_url": "https://avatars.githubusercontent.com/u/1992050?v=4", "gravatar_id": "", "url": "https://api.github.com/users/julien-lecomte", "html_url": "https://github.com/julien-lecomte", "followers_url": "https://api.github.com/users/julien-lecomte/followers", "following_url": "https://api.github.com/users/julien-lecomte/following{/other_user}", "gists_url": "https://api.github.com/users/julien-lecomte/gists{/gist_id}", "starred_url": "https://api.github.com/users/julien-lecomte/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/julien-lecomte/subscriptions", "organizations_url": "https://api.github.com/users/julien-lecomte/orgs", "repos_url": "https://api.github.com/users/julien-lecomte/repos", "events_url": "https://api.github.com/users/julien-lecomte/events{/privacy}", "received_events_url": "https://api.github.com/users/julien-lecomte/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 258836903, "node_id": "MDU6TGFiZWwyNTg4MzY5MDM=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20apache", "name": "area: apache", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2016-01-11T23:04:56Z", "updated_at": "2017-09-27T12:49:27Z", "closed_at": "2017-09-27T12:49:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "./letsencrypt-auto fails if VirtualHost contains FastCgiExternalServer\n\nSample virtualhost conf:\n\n``` xml\n<VirtualHost *:80>\n  ...\n  DocumentRoot /srv/wwwroot/blog/htdocs\n  Alias   /php5-fcgi   /usr/lib/cgi-bin/php5-fcgi-blog\n  FastCgiExternalServer /usr/lib/cgi-bin/php5-fcgi-blog -socket /var/run/php5-fpm.blog.sock -pass-header Authorization\n</VirtualHost>\n```\n\nComment the FastCgiExternalServer part and letsencrypt-auto succeeds\n\nCommand line \n./letsencrypt-auto --verbose --server https://example.com/  --webroot-path /srv/wwwroot/example/htdocs certonly\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/2144/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/2144/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/2118", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/2118/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/2118/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/2118/events", "html_url": "https://github.com/certbot/certbot/issues/2118", "id": 125651941, "node_id": "MDU6SXNzdWUxMjU2NTE5NDE=", "number": 2118, "title": "Fix sporadic Apache unit test failures", "user": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 258836903, "node_id": "MDU6TGFiZWwyNTg4MzY5MDM=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20apache", "name": "area: apache", "color": "c5def5", "default": false, "description": null}, {"id": 263357278, "node_id": "MDU6TGFiZWwyNjMzNTcyNzg=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20testing", "name": "area: testing", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-01-08T17:11:34Z", "updated_at": "2016-12-20T18:58:55Z", "closed_at": "2016-12-20T18:58:55Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "The Apache plugin has begun sporadically failing unit tests in Travis. I have only seen this occur during coverage tests. Here's 3 different logs of the problem: [log1](https://gist.github.com/5d6e16b74e1b7008d5a6), [log2](https://travis-ci.org/letsencrypt/letsencrypt/jobs/100924529), [log3](https://gist.github.com/c464d11fb30c56ffac2c).\n\nThese problems need to be fixed as it slows down development, confuses new contributors, and may be caused by larger problems with the plugin.\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/2118/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/2118/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/2079", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/2079/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/2079/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/2079/events", "html_url": "https://github.com/certbot/certbot/issues/2079", "id": 124785511, "node_id": "MDU6SXNzdWUxMjQ3ODU1MTE=", "number": 2079, "title": "Perl code in Apache config causes letsencrypt-auto to fail", "user": {"login": "mgollo", "id": 4586616, "node_id": "MDQ6VXNlcjQ1ODY2MTY=", "avatar_url": "https://avatars.githubusercontent.com/u/4586616?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mgollo", "html_url": "https://github.com/mgollo", "followers_url": "https://api.github.com/users/mgollo/followers", "following_url": "https://api.github.com/users/mgollo/following{/other_user}", "gists_url": "https://api.github.com/users/mgollo/gists{/gist_id}", "starred_url": "https://api.github.com/users/mgollo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mgollo/subscriptions", "organizations_url": "https://api.github.com/users/mgollo/orgs", "repos_url": "https://api.github.com/users/mgollo/repos", "events_url": "https://api.github.com/users/mgollo/events{/privacy}", "received_events_url": "https://api.github.com/users/mgollo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 258836903, "node_id": "MDU6TGFiZWwyNTg4MzY5MDM=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20apache", "name": "area: apache", "color": "c5def5", "default": false, "description": null}, {"id": 281347824, "node_id": "MDU6TGFiZWwyODEzNDc4MjQ=", "url": "https://api.github.com/repos/certbot/certbot/labels/has%20pr", "name": "has pr", "color": "0052cc", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/15", "html_url": "https://github.com/certbot/certbot/milestone/15", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/15/labels", "id": 1505957, "node_id": "MDk6TWlsZXN0b25lMTUwNTk1Nw==", "number": 15, "title": "0.3.0", "description": "In this release we will sign the new le-auto (#1665) to make it work in the field but (at least at first) not deploy it to mainstream users.", "creator": {"login": "pde", "id": 479213, "node_id": "MDQ6VXNlcjQ3OTIxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/479213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pde", "html_url": "https://github.com/pde", "followers_url": "https://api.github.com/users/pde/followers", "following_url": "https://api.github.com/users/pde/following{/other_user}", "gists_url": "https://api.github.com/users/pde/gists{/gist_id}", "starred_url": "https://api.github.com/users/pde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pde/subscriptions", "organizations_url": "https://api.github.com/users/pde/orgs", "repos_url": "https://api.github.com/users/pde/repos", "events_url": "https://api.github.com/users/pde/events{/privacy}", "received_events_url": "https://api.github.com/users/pde/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 27, "state": "closed", "created_at": "2016-01-13T23:51:16Z", "updated_at": "2016-01-28T17:55:42Z", "due_on": "2016-01-21T08:00:00Z", "closed_at": "2016-01-28T03:02:12Z"}, "comments": 1, "created_at": "2016-01-04T16:03:51Z", "updated_at": "2016-01-19T21:36:20Z", "closed_at": "2016-01-19T21:36:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "The widely used request-tracker4 package on Debian Jessie ships the file /etc/request-tracker4/apache2-modperl2.conf which contains the following at the very end:\n\n> <Perl>\n>   use Plack::Handler::Apache2;\n>   Plack::Handler::Apache2->preload(\"/usr/share/request-tracker4/libexec/rt-server\");\n> </Perl>\n\nThe second line within the <Perl> tag causes the following error when running letsencrypt-auto with the apache plugin:\n\n> The apache plugin is not working; there may be problems with your existing configuration.\n> The error was: PluginError(('There has been an error in parsing the file (%s): %s', u'/etc/request-tracker4/apache2-modperl2.conf', u'Syntax error'),)\n\nCommenting out the line gets the letsencrypt client to work, but in my Opinion, it shouldn't fail because the config file is perfectly valid.\n\nIf you need further information, please let me know.\n\nThanks,\nMartin\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/2079/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/2079/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/2074", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/2074/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/2074/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/2074/events", "html_url": "https://github.com/certbot/certbot/issues/2074", "id": 124672490, "node_id": "MDU6SXNzdWUxMjQ2NzI0OTA=", "number": 2074, "title": "letsencrypt-auto fails on \"Amazon Linux\" with missing virtualenv", "user": {"login": "rudi-cilibrasi", "id": 9170568, "node_id": "MDQ6VXNlcjkxNzA1Njg=", "avatar_url": "https://avatars.githubusercontent.com/u/9170568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rudi-cilibrasi", "html_url": "https://github.com/rudi-cilibrasi", "followers_url": "https://api.github.com/users/rudi-cilibrasi/followers", "following_url": "https://api.github.com/users/rudi-cilibrasi/following{/other_user}", "gists_url": "https://api.github.com/users/rudi-cilibrasi/gists{/gist_id}", "starred_url": "https://api.github.com/users/rudi-cilibrasi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rudi-cilibrasi/subscriptions", "organizations_url": "https://api.github.com/users/rudi-cilibrasi/orgs", "repos_url": "https://api.github.com/users/rudi-cilibrasi/repos", "events_url": "https://api.github.com/users/rudi-cilibrasi/events{/privacy}", "received_events_url": "https://api.github.com/users/rudi-cilibrasi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 276243379, "node_id": "MDU6TGFiZWwyNzYyNDMzNzk=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20certbot-auto", "name": "area: certbot-auto", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2016-01-03T21:41:43Z", "updated_at": "2018-11-14T23:25:47Z", "closed_at": "2018-11-14T23:25:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "Using the command:\n\n./letsencrypt-auto certonly --standalone --email lyndie@0div0.com -d 0div0.com --debug\n\nfails after a bit with:\n\n  libverto.x86_64 0:0.2.5-4.9.amzn1  \n  libverto-devel.x86_64 0:0.2.5-4.9.amzn1  \n  mpfr.x86_64 0:2.4.2-1.7.amzn1  \n  zlib-devel.x86_64 0:1.2.8-7.18.amzn1                                          \n\nDependency Updated:\n  e2fsprogs.x86_64 0:1.42.12-4.35.amzn1  \n  e2fsprogs-libs.x86_64 0:1.42.12-4.35.amzn1  \n  glibc.x86_64 0:2.17-55.145.amzn1  \n  glibc-common.x86_64 0:2.17-55.145.amzn1  \n  krb5-libs.x86_64 0:1.12.2-14.43.amzn1  \n  libcom_err.x86_64 0:1.42.12-4.35.amzn1  \n  libss.x86_64 0:1.42.12-4.35.amzn1                                             \n\nComplete!\nCreating virtual environment...\n./letsencrypt-auto: line 167: virtualenv: command not found\n\n---\n\nThis command fixes the problem for me:\n\n sudo yum install -y python27-virtualenv\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/2074/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/2074/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/2065", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/2065/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/2065/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/2065/events", "html_url": "https://github.com/certbot/certbot/issues/2065", "id": 124607262, "node_id": "MDU6SXNzdWUxMjQ2MDcyNjI=", "number": 2065, "title": "FQDN passed with a trailing period is not valid.", "user": {"login": "grahamc", "id": 76716, "node_id": "MDQ6VXNlcjc2NzE2", "avatar_url": "https://avatars.githubusercontent.com/u/76716?v=4", "gravatar_id": "", "url": "https://api.github.com/users/grahamc", "html_url": "https://github.com/grahamc", "followers_url": "https://api.github.com/users/grahamc/followers", "following_url": "https://api.github.com/users/grahamc/following{/other_user}", "gists_url": "https://api.github.com/users/grahamc/gists{/gist_id}", "starred_url": "https://api.github.com/users/grahamc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/grahamc/subscriptions", "organizations_url": "https://api.github.com/users/grahamc/orgs", "repos_url": "https://api.github.com/users/grahamc/repos", "events_url": "https://api.github.com/users/grahamc/events{/privacy}", "received_events_url": "https://api.github.com/users/grahamc/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 281347824, "node_id": "MDU6TGFiZWwyODEzNDc4MjQ=", "url": "https://api.github.com/repos/certbot/certbot/labels/has%20pr", "name": "has pr", "color": "0052cc", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/13", "html_url": "https://github.com/certbot/certbot/milestone/13", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/13/labels", "id": 1458720, "node_id": "MDk6TWlsZXN0b25lMTQ1ODcyMA==", "number": 13, "title": "0.4.0", "description": "This release will feature reasonable autorenewal support, at least for users who are willing to configure their own cron jobs.", "creator": {"login": "pde", "id": 479213, "node_id": "MDQ6VXNlcjQ3OTIxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/479213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pde", "html_url": "https://github.com/pde", "followers_url": "https://api.github.com/users/pde/followers", "following_url": "https://api.github.com/users/pde/following{/other_user}", "gists_url": "https://api.github.com/users/pde/gists{/gist_id}", "starred_url": "https://api.github.com/users/pde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pde/subscriptions", "organizations_url": "https://api.github.com/users/pde/orgs", "repos_url": "https://api.github.com/users/pde/repos", "events_url": "https://api.github.com/users/pde/events{/privacy}", "received_events_url": "https://api.github.com/users/pde/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 78, "state": "closed", "created_at": "2015-12-14T09:29:18Z", "updated_at": "2017-03-08T00:56:23Z", "due_on": "2016-02-04T08:00:00Z", "closed_at": "2016-02-11T22:41:36Z"}, "comments": 2, "created_at": "2016-01-02T19:25:35Z", "updated_at": "2016-07-07T00:30:14Z", "closed_at": "2016-07-07T00:30:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\nRequesting root privileges to run with virtualenv: ~/.local/share/letsencrypt/bin/letsencrypt run --apache --email ...@....... --redirect --agree-tos -d mysubdomain.mydomain.io.\nRequested domain is not a FQDN\n```\n\nIt is valid to refer to a domain using the trailing period, and I had expected letsencrypt would handle it as such too.\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/2065/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/2065/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/2055", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/2055/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/2055/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/2055/events", "html_url": "https://github.com/certbot/certbot/issues/2055", "id": 124559264, "node_id": "MDU6SXNzdWUxMjQ1NTkyNjQ=", "number": 2055, "title": "certonly mangles output paths (--cert-path, --fullchain-path)", "user": {"login": "silbe", "id": 4546556, "node_id": "MDQ6VXNlcjQ1NDY1NTY=", "avatar_url": "https://avatars.githubusercontent.com/u/4546556?v=4", "gravatar_id": "", "url": "https://api.github.com/users/silbe", "html_url": "https://github.com/silbe", "followers_url": "https://api.github.com/users/silbe/followers", "following_url": "https://api.github.com/users/silbe/following{/other_user}", "gists_url": "https://api.github.com/users/silbe/gists{/gist_id}", "starred_url": "https://api.github.com/users/silbe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/silbe/subscriptions", "organizations_url": "https://api.github.com/users/silbe/orgs", "repos_url": "https://api.github.com/users/silbe/repos", "events_url": "https://api.github.com/users/silbe/events{/privacy}", "received_events_url": "https://api.github.com/users/silbe/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 146954789, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODk=", "url": "https://api.github.com/repos/certbot/certbot/labels/feature%20request", "name": "feature request", "color": "00ccff", "default": false, "description": null}, {"id": 1383990430, "node_id": "MDU6TGFiZWwxMzgzOTkwNDMw", "url": "https://api.github.com/repos/certbot/certbot/labels/needs-update", "name": "needs-update", "color": "ADDEE4", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/8", "html_url": "https://github.com/certbot/certbot/milestone/8", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/8/labels", "id": 1353913, "node_id": "MDk6TWlsZXN0b25lMTM1MzkxMw==", "number": 8, "title": "Important", "description": "This milestone was for things someone on the Certbot team considered necessary for the client to be out of beta, but it's become something of a holding place for many kinds of polishing tickets, and will probably need to be triaged further.", "creator": {"login": "pde", "id": 479213, "node_id": "MDQ6VXNlcjQ3OTIxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/479213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pde", "html_url": "https://github.com/pde", "followers_url": "https://api.github.com/users/pde/followers", "following_url": "https://api.github.com/users/pde/following{/other_user}", "gists_url": "https://api.github.com/users/pde/gists{/gist_id}", "starred_url": "https://api.github.com/users/pde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pde/subscriptions", "organizations_url": "https://api.github.com/users/pde/orgs", "repos_url": "https://api.github.com/users/pde/repos", "events_url": "https://api.github.com/users/pde/events{/privacy}", "received_events_url": "https://api.github.com/users/pde/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 160, "state": "closed", "created_at": "2015-10-13T19:41:13Z", "updated_at": "2020-03-20T18:56:33Z", "due_on": null, "closed_at": "2020-03-20T18:56:33Z"}, "comments": 2, "created_at": "2016-01-01T19:58:48Z", "updated_at": "2019-06-24T13:50:28Z", "closed_at": "2019-06-24T13:50:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "`letsencrypt certonly` modifies the paths passed as `--cert-path` and / or `--fullchain-path` before saving the certificates. This means the resulting paths are unpredictable (without knowledge of `letsencrypt` internals, that is). Quite bad for automation.\n\nIn case there are no existing files at the given paths, `letsencrypt certonly` should simply use the paths as-is. The default action in case there are existing files is up for debate, but there should be way to tell `letsencrypt certonly` to overwrite the existing files (\"batch mode\") if that's not the default.\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/2055/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/2055/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/2050", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/2050/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/2050/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/2050/events", "html_url": "https://github.com/certbot/certbot/issues/2050", "id": 124451945, "node_id": "MDU6SXNzdWUxMjQ0NTE5NDU=", "number": 2050, "title": "Apache plugin fails to parse OWASP's ModSecurity ruleset", "user": {"login": "netpalantir", "id": 10104531, "node_id": "MDQ6VXNlcjEwMTA0NTMx", "avatar_url": "https://avatars.githubusercontent.com/u/10104531?v=4", "gravatar_id": "", "url": "https://api.github.com/users/netpalantir", "html_url": "https://github.com/netpalantir", "followers_url": "https://api.github.com/users/netpalantir/followers", "following_url": "https://api.github.com/users/netpalantir/following{/other_user}", "gists_url": "https://api.github.com/users/netpalantir/gists{/gist_id}", "starred_url": "https://api.github.com/users/netpalantir/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/netpalantir/subscriptions", "organizations_url": "https://api.github.com/users/netpalantir/orgs", "repos_url": "https://api.github.com/users/netpalantir/repos", "events_url": "https://api.github.com/users/netpalantir/events{/privacy}", "received_events_url": "https://api.github.com/users/netpalantir/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 258836903, "node_id": "MDU6TGFiZWwyNTg4MzY5MDM=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20apache", "name": "area: apache", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/22", "html_url": "https://github.com/certbot/certbot/milestone/22", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/22/labels", "id": 1805759, "node_id": "MDk6TWlsZXN0b25lMTgwNTc1OQ==", "number": 22, "title": "0.9.0", "description": "Nginx plugin, DNS Challenge support, plus lots of polish and bugfixes", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 131, "state": "closed", "created_at": "2016-06-02T19:22:08Z", "updated_at": "2017-04-27T23:17:01Z", "due_on": "2016-08-19T07:00:00Z", "closed_at": "2016-10-05T17:14:48Z"}, "comments": 5, "created_at": "2015-12-31T09:35:39Z", "updated_at": "2016-10-06T01:21:34Z", "closed_at": "2016-06-22T21:36:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\n\nI have been trying to run the Apache module, but unfortunately it is unable to parse some configuration files from OWASP's ModSecurity core ruleset. The problematic files can be found here:\n\nhttps://github.com/SpiderLabs/owasp-modsecurity-crs/blob/master/base_rules/modsecurity_crs_60_correlation.conf\n\nhttps://github.com/SpiderLabs/owasp-modsecurity-crs/blob/master/base_rules/modsecurity_crs_40_generic_attacks.conf\n\nhttps://github.com/SpiderLabs/owasp-modsecurity-crs/blob/master/base_rules/modsecurity_crs_47_common_exceptions.conf\n\nThe error I am getting is: \n\n```\nPluginError: ('There has been an error in parsing the file (%s): %s', u'/etc/modsecurity/owasp-modsecurity-crs/activated_rules/modsecurity_crs_60_correlation.conf', u'Syntax error')\n```\n\nTemporarily removing those three files will solve the problem.\n\nI am on Ubuntu 14.04 with mod_security2 installed.\n\nThanks for the great work!!\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/2050/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 1, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/2050/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/1996", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/1996/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/1996/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/1996/events", "html_url": "https://github.com/certbot/certbot/issues/1996", "id": 123654034, "node_id": "MDU6SXNzdWUxMjM2NTQwMzQ=", "number": 1996, "title": "the apache plugin adds an unconditional redirect inside the :443 vhost", "user": {"login": "timir", "id": 403156, "node_id": "MDQ6VXNlcjQwMzE1Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/403156?v=4", "gravatar_id": "", "url": "https://api.github.com/users/timir", "html_url": "https://github.com/timir", "followers_url": "https://api.github.com/users/timir/followers", "following_url": "https://api.github.com/users/timir/following{/other_user}", "gists_url": "https://api.github.com/users/timir/gists{/gist_id}", "starred_url": "https://api.github.com/users/timir/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/timir/subscriptions", "organizations_url": "https://api.github.com/users/timir/orgs", "repos_url": "https://api.github.com/users/timir/repos", "events_url": "https://api.github.com/users/timir/events{/privacy}", "received_events_url": "https://api.github.com/users/timir/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 258836903, "node_id": "MDU6TGFiZWwyNTg4MzY5MDM=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20apache", "name": "area: apache", "color": "c5def5", "default": false, "description": null}, {"id": 281347824, "node_id": "MDU6TGFiZWwyODEzNDc4MjQ=", "url": "https://api.github.com/repos/certbot/certbot/labels/has%20pr", "name": "has pr", "color": "0052cc", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/12", "html_url": "https://github.com/certbot/certbot/milestone/12", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/12/labels", "id": 1450588, "node_id": "MDk6TWlsZXN0b25lMTQ1MDU4OA==", "number": 12, "title": "0.2.0", "description": "This release will improve packagability, and make our UX for letsencrypt-auto better where packages aren't yet available.", "creator": {"login": "pde", "id": 479213, "node_id": "MDQ6VXNlcjQ3OTIxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/479213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pde", "html_url": "https://github.com/pde", "followers_url": "https://api.github.com/users/pde/followers", "following_url": "https://api.github.com/users/pde/following{/other_user}", "gists_url": "https://api.github.com/users/pde/gists{/gist_id}", "starred_url": "https://api.github.com/users/pde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pde/subscriptions", "organizations_url": "https://api.github.com/users/pde/orgs", "repos_url": "https://api.github.com/users/pde/repos", "events_url": "https://api.github.com/users/pde/events{/privacy}", "received_events_url": "https://api.github.com/users/pde/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 47, "state": "closed", "created_at": "2015-12-08T19:20:06Z", "updated_at": "2016-01-19T00:53:39Z", "due_on": "2016-01-09T08:00:00Z", "closed_at": "2016-01-15T23:51:13Z"}, "comments": 10, "created_at": "2015-12-23T12:42:11Z", "updated_at": "2016-05-06T19:21:51Z", "closed_at": "2016-01-12T20:26:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "The apache plugin adds an unconditional redirect inside the :443 vhost\n\nI had to comment out these lines or else the webaddress just kept looping\n\nRewriteEngine on\nRewriteRule ^ https://%{SERVER_NAME}%{REQUEST_URI} [L,QSA,R=permanent]\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/1996/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/1996/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/1960", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/1960/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/1960/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/1960/events", "html_url": "https://github.com/certbot/certbot/issues/1960", "id": 123114891, "node_id": "MDU6SXNzdWUxMjMxMTQ4OTE=", "number": 1960, "title": "Apache plugin error -- syntax error in configuration file", "user": {"login": "jeremiah", "id": 5260, "node_id": "MDQ6VXNlcjUyNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/5260?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jeremiah", "html_url": "https://github.com/jeremiah", "followers_url": "https://api.github.com/users/jeremiah/followers", "following_url": "https://api.github.com/users/jeremiah/following{/other_user}", "gists_url": "https://api.github.com/users/jeremiah/gists{/gist_id}", "starred_url": "https://api.github.com/users/jeremiah/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jeremiah/subscriptions", "organizations_url": "https://api.github.com/users/jeremiah/orgs", "repos_url": "https://api.github.com/users/jeremiah/repos", "events_url": "https://api.github.com/users/jeremiah/events{/privacy}", "received_events_url": "https://api.github.com/users/jeremiah/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 258836903, "node_id": "MDU6TGFiZWwyNTg4MzY5MDM=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20apache", "name": "area: apache", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/12", "html_url": "https://github.com/certbot/certbot/milestone/12", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/12/labels", "id": 1450588, "node_id": "MDk6TWlsZXN0b25lMTQ1MDU4OA==", "number": 12, "title": "0.2.0", "description": "This release will improve packagability, and make our UX for letsencrypt-auto better where packages aren't yet available.", "creator": {"login": "pde", "id": 479213, "node_id": "MDQ6VXNlcjQ3OTIxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/479213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pde", "html_url": "https://github.com/pde", "followers_url": "https://api.github.com/users/pde/followers", "following_url": "https://api.github.com/users/pde/following{/other_user}", "gists_url": "https://api.github.com/users/pde/gists{/gist_id}", "starred_url": "https://api.github.com/users/pde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pde/subscriptions", "organizations_url": "https://api.github.com/users/pde/orgs", "repos_url": "https://api.github.com/users/pde/repos", "events_url": "https://api.github.com/users/pde/events{/privacy}", "received_events_url": "https://api.github.com/users/pde/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 47, "state": "closed", "created_at": "2015-12-08T19:20:06Z", "updated_at": "2016-01-19T00:53:39Z", "due_on": "2016-01-09T08:00:00Z", "closed_at": "2016-01-15T23:51:13Z"}, "comments": 3, "created_at": "2015-12-19T22:45:47Z", "updated_at": "2015-12-22T22:23:04Z", "closed_at": "2015-12-22T22:23:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\n\nI'm getting this error message;\n\n\"The apache plugin is not working; there may be problems with your existing configuration.\nThe error was: PluginError(('There has been an error in parsing the file (%s): %s', u'/etc/apache2/sites-enabled/jeremiahfoster.com.conf', u'Syntax error'),)\"\n\nIn the file mentioned, there is a second <IfModule> rule. This one contains; \n\n```\n<IfModule mod_rewrite.c>\n RewriteEngine On\n RewriteCond %{REQUEST_URI} ^.*(,|;|:|<|>|\">|\"<|/|\\\\\\.\\.\\\\).* [NC,OR]\n RewriteCond %{REQUEST_URI} ^.*(\\=|\\@|\\[|\\]|\\^|\\`|\\{|\\}|\\~).* [NC,OR]\n RewriteCond %{REQUEST_URI} ^.*(\\'|%0A|%0D|%27|%3C|%3E|%00).* [NC]\n RewriteRule ^(.*)$ - [F,L]\n</IfModule>`\n```\n\nWhen I remove that rule, the parse error disappears and letsencrypt runs to completion.\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/1960/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/1960/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/1912", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/1912/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/1912/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/1912/events", "html_url": "https://github.com/certbot/certbot/issues/1912", "id": 122476145, "node_id": "MDU6SXNzdWUxMjI0NzYxNDU=", "number": 1912, "title": "SSLCertificateChainFile not added, config_changes states that it was", "user": {"login": "ghormoon", "id": 9092160, "node_id": "MDQ6VXNlcjkwOTIxNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/9092160?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghormoon", "html_url": "https://github.com/ghormoon", "followers_url": "https://api.github.com/users/ghormoon/followers", "following_url": "https://api.github.com/users/ghormoon/following{/other_user}", "gists_url": "https://api.github.com/users/ghormoon/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghormoon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghormoon/subscriptions", "organizations_url": "https://api.github.com/users/ghormoon/orgs", "repos_url": "https://api.github.com/users/ghormoon/repos", "events_url": "https://api.github.com/users/ghormoon/events{/privacy}", "received_events_url": "https://api.github.com/users/ghormoon/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 258836903, "node_id": "MDU6TGFiZWwyNTg4MzY5MDM=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20apache", "name": "area: apache", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2015-12-16T10:48:40Z", "updated_at": "2017-09-27T12:53:43Z", "closed_at": "2017-09-27T12:53:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "I've run ./letsencrypt-auto --apache -d domain.tld, it correctly found the virtualhost and changed paths in SSLCertificateFile and SSLCertificateKeyFile, didn't touch SSLCACertificateFile, and also didn't add any SSLCertificateChainFile.\nruning ./letsencrypt-auto config_changes shows that it set SSLCertificateFile, SSLCertificateKeyFile, SSLCertificateChainFile which is inconsistent with what happened.\nmay be related to https://github.com/letsencrypt/letsencrypt/issues/1723\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/1912/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/1912/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/1836", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/1836/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/1836/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/1836/events", "html_url": "https://github.com/certbot/certbot/issues/1836", "id": 121065880, "node_id": "MDU6SXNzdWUxMjEwNjU4ODA=", "number": 1836, "title": "Domain with german umlauts ('ascii' codec can't encode character)", "user": {"login": "lulabad", "id": 5675012, "node_id": "MDQ6VXNlcjU2NzUwMTI=", "avatar_url": "https://avatars.githubusercontent.com/u/5675012?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lulabad", "html_url": "https://github.com/lulabad", "followers_url": "https://api.github.com/users/lulabad/followers", "following_url": "https://api.github.com/users/lulabad/following{/other_user}", "gists_url": "https://api.github.com/users/lulabad/gists{/gist_id}", "starred_url": "https://api.github.com/users/lulabad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lulabad/subscriptions", "organizations_url": "https://api.github.com/users/lulabad/orgs", "repos_url": "https://api.github.com/users/lulabad/repos", "events_url": "https://api.github.com/users/lulabad/events{/privacy}", "received_events_url": "https://api.github.com/users/lulabad/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 272789317, "node_id": "MDU6TGFiZWwyNzI3ODkzMTc=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20error%20handling", "name": "area: error handling", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-12-08T18:11:20Z", "updated_at": "2015-12-16T02:18:53Z", "closed_at": "2015-12-16T02:18:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "CentOS 7.1.1503\n\nI tried to create an certificat with domain contains german umlauts. Domain is: ent\u00e4.de\nI getting in the console this error:\n\n```\nAn unexpected error occurred:\nUnicodeEncodeError: 'ascii' codec can't encode character u'\\xe4' in position 3: ordinal not in range(128)\nPlease see the logfiles in /var/log/letsencrypt for more details.\n```\n\nLogfile:\n\n``` python\n2015-12-08 17:58:44,353:DEBUG:letsencrypt.cli:Exiting abnormally:\nTraceback (most recent call last):\n  File \"/root/.local/share/letsencrypt/bin/letsencrypt\", line 11, in <module>\n    sys.exit(main())\n  File \"/root/.local/share/letsencrypt/lib/python2.7/site-packages/letsencrypt/cli.py\", line 1283, in main\n    return args.func(args, config, plugins)\n  File \"/root/.local/share/letsencrypt/lib/python2.7/site-packages/letsencrypt/cli.py\", line 511, in obtain_cert\n    domains = _find_domains(args, installer)\n  File \"/root/.local/share/letsencrypt/lib/python2.7/site-packages/letsencrypt/cli.py\", line 106, in _find_domains\n    domains = display_ops.choose_names(installer)\n  File \"/root/.local/share/letsencrypt/lib/python2.7/site-packages/letsencrypt/display/ops.py\", line 187, in choose_names\n    return _choose_names_manually()\n  File \"/root/.local/share/letsencrypt/lib/python2.7/site-packages/letsencrypt/display/ops.py\", line 235, in _choose_names_manually\n    return display_util.separate_list_input(input_)\n  File \"/root/.local/share/letsencrypt/lib/python2.7/site-packages/letsencrypt/display/util.py\", line 419, in separate_list_input\n    return [str(string) for string in no_commas.split()]\nUnicodeEncodeError: 'ascii' codec can't encode character u'\\xe4' in position 3: ordinal not in range(128)\n```\n\nIs there a way to fix this?\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/1836/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/1836/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/1802", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/1802/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/1802/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/1802/events", "html_url": "https://github.com/certbot/certbot/issues/1802", "id": 120682552, "node_id": "MDU6SXNzdWUxMjA2ODI1NTI=", "number": 1802, "title": "webroot_map does not extract domains from CSR files", "user": {"login": "DeHackEd", "id": 1657601, "node_id": "MDQ6VXNlcjE2NTc2MDE=", "avatar_url": "https://avatars.githubusercontent.com/u/1657601?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DeHackEd", "html_url": "https://github.com/DeHackEd", "followers_url": "https://api.github.com/users/DeHackEd/followers", "following_url": "https://api.github.com/users/DeHackEd/following{/other_user}", "gists_url": "https://api.github.com/users/DeHackEd/gists{/gist_id}", "starred_url": "https://api.github.com/users/DeHackEd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DeHackEd/subscriptions", "organizations_url": "https://api.github.com/users/DeHackEd/orgs", "repos_url": "https://api.github.com/users/DeHackEd/repos", "events_url": "https://api.github.com/users/DeHackEd/events{/privacy}", "received_events_url": "https://api.github.com/users/DeHackEd/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 276243286, "node_id": "MDU6TGFiZWwyNzYyNDMyODY=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20webroot", "name": "area: webroot", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/8", "html_url": "https://github.com/certbot/certbot/milestone/8", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/8/labels", "id": 1353913, "node_id": "MDk6TWlsZXN0b25lMTM1MzkxMw==", "number": 8, "title": "Important", "description": "This milestone was for things someone on the Certbot team considered necessary for the client to be out of beta, but it's become something of a holding place for many kinds of polishing tickets, and will probably need to be triaged further.", "creator": {"login": "pde", "id": 479213, "node_id": "MDQ6VXNlcjQ3OTIxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/479213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pde", "html_url": "https://github.com/pde", "followers_url": "https://api.github.com/users/pde/followers", "following_url": "https://api.github.com/users/pde/following{/other_user}", "gists_url": "https://api.github.com/users/pde/gists{/gist_id}", "starred_url": "https://api.github.com/users/pde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pde/subscriptions", "organizations_url": "https://api.github.com/users/pde/orgs", "repos_url": "https://api.github.com/users/pde/repos", "events_url": "https://api.github.com/users/pde/events{/privacy}", "received_events_url": "https://api.github.com/users/pde/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 160, "state": "closed", "created_at": "2015-10-13T19:41:13Z", "updated_at": "2020-03-20T18:56:33Z", "due_on": null, "closed_at": "2020-03-20T18:56:33Z"}, "comments": 10, "created_at": "2015-12-07T01:51:17Z", "updated_at": "2016-02-10T21:07:55Z", "closed_at": "2016-02-10T21:07:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "Environment: CentOS 7 in a virtualenv with all components installed via pip.\n\n<pre>\n$ git describe\nv0.1.0-32-gce0ea2b\n$ letsencrypt -v -v -v --text --webroot --config-dir /home/sslcerts/letsencrypt-data/etc --work-dir /home/sslcerts/letsencrypt-data/varlib --logs-dir /home/sslcerts/letsencrypt-data/varlog --webroot-path /home/sslcerts/public_html/ --csr domain.net.req_der --register-unsafely-without-email --webroot-path /home/sslcerts/public_html/ certonly \n2015-12-06 20:31:42,545:DEBUG:letsencrypt.cli:Root logging level set at 0\n2015-12-06 20:31:42,546:INFO:letsencrypt.cli:Saving debug log to /home/sslcerts/letsencrypt-data/varlog/letsencrypt.log\n2015-12-06 20:31:42,546:DEBUG:letsencrypt.cli:letsencrypt version: 0.2.0.dev0\n2015-12-06 20:31:42,546:DEBUG:letsencrypt.cli:Arguments: ['-v', '-v', '-v', '--text', '--webroot', '--config-dir', '/home/sslcerts/letsencrypt-data/etc', '--work-dir', '/home/sslcerts/letsencrypt-data/varlib', '--logs-dir', '/home/sslcerts/letsencrypt-data/varlog', '--webroot-path', '/home/sslcerts/public_html/', '--csr', 'domain.net.req_der', '--register-unsafely-without-email', '--webroot-path', '/home/sslcerts/public_html/']\n2015-12-06 20:31:42,547:DEBUG:letsencrypt.cli:Discovered plugins: PluginsRegistry(PluginEntryPoint#webroot,PluginEntryPoint#null,PluginEntryPoint#manual,PluginEntryPoint#standalone)\n2015-12-06 20:31:42,548:WARNING:letsencrypt.cli:Root (sudo) is required to run most of letsencrypt functionality.\n2015-12-06 20:31:42,548:DEBUG:letsencrypt.cli:Requested authenticator webroot and installer None\n2015-12-06 20:31:42,551:DEBUG:letsencrypt.plugins.disco:Other error:(PluginEntryPoint#webroot): --webroot-path must be set\nTraceback (most recent call last):\n  File \"/home/sslcerts/virutalenv/lib/python2.7/site-packages/letsencrypt-0.2.0.dev0-py2.7.egg/letsencrypt/plugins/disco.py\", line 103, in prepare\n    self._initialized.prepare()\n  File \"/home/sslcerts/virutalenv/lib/python2.7/site-packages/letsencrypt-0.2.0.dev0-py2.7.egg/letsencrypt/plugins/webroot.py\", line 54, in prepare\n    self.option_name(\"path\")))\nPluginError: --webroot-path must be set\n2015-12-06 20:31:42,552:DEBUG:letsencrypt.display.ops:No candidate plugin\n2015-12-06 20:31:42,552:DEBUG:letsencrypt.cli:Selected authenticator None and installer None\nThe webroot plugin is not working; there may be problems with your existing configuration.\nThe error was: PluginError('--webroot-path must be set',)\n$\n</pre>\n\n\nWhen using a client-generated key and csr (replace `--csr  filename` with `-d domain.net`) it does work successfully.\n\nYes I specified webroot-path twice. I was trying a few basic troubleshooting ideas\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/1802/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/1802/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/1762", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/1762/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/1762/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/1762/events", "html_url": "https://github.com/certbot/certbot/issues/1762", "id": 120545042, "node_id": "MDU6SXNzdWUxMjA1NDUwNDI=", "number": 1762, "title": "Email Validity Checking is Bugged", "user": {"login": "hongkongkiwi", "id": 1750976, "node_id": "MDQ6VXNlcjE3NTA5NzY=", "avatar_url": "https://avatars.githubusercontent.com/u/1750976?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hongkongkiwi", "html_url": "https://github.com/hongkongkiwi", "followers_url": "https://api.github.com/users/hongkongkiwi/followers", "following_url": "https://api.github.com/users/hongkongkiwi/following{/other_user}", "gists_url": "https://api.github.com/users/hongkongkiwi/gists{/gist_id}", "starred_url": "https://api.github.com/users/hongkongkiwi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hongkongkiwi/subscriptions", "organizations_url": "https://api.github.com/users/hongkongkiwi/orgs", "repos_url": "https://api.github.com/users/hongkongkiwi/repos", "events_url": "https://api.github.com/users/hongkongkiwi/events{/privacy}", "received_events_url": "https://api.github.com/users/hongkongkiwi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2015-12-05T10:18:27Z", "updated_at": "2015-12-16T21:54:57Z", "closed_at": "2015-12-16T21:54:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "It seems that the email checking is a bit wonky.\n\nMy email is something like \"me@blah.hk\" which is a perfectly valid email and .hk is a valid TLC however, it is rejected and it tells me the only way to register is unsafely without email (obviously not what I want).\n\nIf I use an email from work which has \"me@blah.com.hk\" it is perfectly happy.\n\nSeems like the email is valid checking has issues. Really I think it shouldn't do any kind of validation on email address except something that has an @ symbol and a dot. If I mistype it, or else if I write it incorrectly it's my own fault.\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/1762/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/1762/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/1761", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/1761/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/1761/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/1761/events", "html_url": "https://github.com/certbot/certbot/issues/1761", "id": 120542769, "node_id": "MDU6SXNzdWUxMjA1NDI3Njk=", "number": 1761, "title": "client creates .well-known folder with insufficient permissions", "user": {"login": "Kissaki", "id": 93181, "node_id": "MDQ6VXNlcjkzMTgx", "avatar_url": "https://avatars.githubusercontent.com/u/93181?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Kissaki", "html_url": "https://github.com/Kissaki", "followers_url": "https://api.github.com/users/Kissaki/followers", "following_url": "https://api.github.com/users/Kissaki/following{/other_user}", "gists_url": "https://api.github.com/users/Kissaki/gists{/gist_id}", "starred_url": "https://api.github.com/users/Kissaki/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Kissaki/subscriptions", "organizations_url": "https://api.github.com/users/Kissaki/orgs", "repos_url": "https://api.github.com/users/Kissaki/repos", "events_url": "https://api.github.com/users/Kissaki/events{/privacy}", "received_events_url": "https://api.github.com/users/Kissaki/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 276243286, "node_id": "MDU6TGFiZWwyNzYyNDMyODY=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20webroot", "name": "area: webroot", "color": "c5def5", "default": false, "description": null}, {"id": 1383990430, "node_id": "MDU6TGFiZWwxMzgzOTkwNDMw", "url": "https://api.github.com/repos/certbot/certbot/labels/needs-update", "name": "needs-update", "color": "ADDEE4", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/8", "html_url": "https://github.com/certbot/certbot/milestone/8", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/8/labels", "id": 1353913, "node_id": "MDk6TWlsZXN0b25lMTM1MzkxMw==", "number": 8, "title": "Important", "description": "This milestone was for things someone on the Certbot team considered necessary for the client to be out of beta, but it's become something of a holding place for many kinds of polishing tickets, and will probably need to be triaged further.", "creator": {"login": "pde", "id": 479213, "node_id": "MDQ6VXNlcjQ3OTIxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/479213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pde", "html_url": "https://github.com/pde", "followers_url": "https://api.github.com/users/pde/followers", "following_url": "https://api.github.com/users/pde/following{/other_user}", "gists_url": "https://api.github.com/users/pde/gists{/gist_id}", "starred_url": "https://api.github.com/users/pde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pde/subscriptions", "organizations_url": "https://api.github.com/users/pde/orgs", "repos_url": "https://api.github.com/users/pde/repos", "events_url": "https://api.github.com/users/pde/events{/privacy}", "received_events_url": "https://api.github.com/users/pde/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 160, "state": "closed", "created_at": "2015-10-13T19:41:13Z", "updated_at": "2020-03-20T18:56:33Z", "due_on": null, "closed_at": "2020-03-20T18:56:33Z"}, "comments": 15, "created_at": "2015-12-05T09:24:23Z", "updated_at": "2020-04-16T20:24:20Z", "closed_at": "2019-06-13T21:25:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "I used the `letsencrypt-auto` client with `--webroot --webroot-path`.\n\nWhen the webroot path does not contain a `.well-known` folder yet, the client creates it as root (current user) with permissions 700. With a webserver running as www-data this will not allow the webserver to serve the challenge files, as it does not have the folder traversal (x) permission.\n\nThe subfolder `acme-challenge` is created with www-data:www-data 777, which is fine.\n\n> ./letsencrypt-auto certonly --webroot --webroot-path /path/to -d example.com\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/1761/reactions", "total_count": 6, "+1": 6, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/1761/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/1738", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/1738/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/1738/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/1738/events", "html_url": "https://github.com/certbot/certbot/issues/1738", "id": 120395632, "node_id": "MDU6SXNzdWUxMjAzOTU2MzI=", "number": 1738, "title": "letsencrypt-auto --apache fails with \"AttributeError: 'NoneType' object has no attribute 'strip'\"", "user": {"login": "FrancisRussell", "id": 2285771, "node_id": "MDQ6VXNlcjIyODU3NzE=", "avatar_url": "https://avatars.githubusercontent.com/u/2285771?v=4", "gravatar_id": "", "url": "https://api.github.com/users/FrancisRussell", "html_url": "https://github.com/FrancisRussell", "followers_url": "https://api.github.com/users/FrancisRussell/followers", "following_url": "https://api.github.com/users/FrancisRussell/following{/other_user}", "gists_url": "https://api.github.com/users/FrancisRussell/gists{/gist_id}", "starred_url": "https://api.github.com/users/FrancisRussell/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/FrancisRussell/subscriptions", "organizations_url": "https://api.github.com/users/FrancisRussell/orgs", "repos_url": "https://api.github.com/users/FrancisRussell/repos", "events_url": "https://api.github.com/users/FrancisRussell/events{/privacy}", "received_events_url": "https://api.github.com/users/FrancisRussell/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 258836903, "node_id": "MDU6TGFiZWwyNTg4MzY5MDM=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20apache", "name": "area: apache", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2015-12-04T12:50:09Z", "updated_at": "2017-09-27T13:01:01Z", "closed_at": "2017-09-27T13:01:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am running Debian testing amd64 with apache2. Having cloned the git repo (currently 8bfda79fd663884e565a8c278a4fefd6c6cd5474), and having run './letsencrypt-auto --help all' which led to a number of dependencies being installed, running 'letsencrypt-auto --apache' fails as follows:\n\n```\nfpr@xen:~/letsencrypt$ ./letsencrypt-auto --apache\nUpdating letsencrypt and virtual environment dependencies.......\nRunning with virtualenv: sudo /home/fpr/.local/share/letsencrypt/bin/letsencrypt --apache\nAn unexpected error occurred:\nAttributeError: 'NoneType' object has no attribute 'strip'\nPlease see the logfiles in /var/log/letsencrypt for more details.\n```\n\n[The log is here.](https://github.com/letsencrypt/letsencrypt/files/52035/letsencrypt.log.txt)\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/1738/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/1738/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/1728", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/1728/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/1728/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/1728/events", "html_url": "https://github.com/certbot/certbot/issues/1728", "id": 120371682, "node_id": "MDU6SXNzdWUxMjAzNzE2ODI=", "number": 1728, "title": "don't add includeSubDomains for Strict-Transport-Security header", "user": {"login": "netsandbox", "id": 165430, "node_id": "MDQ6VXNlcjE2NTQzMA==", "avatar_url": "https://avatars.githubusercontent.com/u/165430?v=4", "gravatar_id": "", "url": "https://api.github.com/users/netsandbox", "html_url": "https://github.com/netsandbox", "followers_url": "https://api.github.com/users/netsandbox/followers", "following_url": "https://api.github.com/users/netsandbox/following{/other_user}", "gists_url": "https://api.github.com/users/netsandbox/gists{/gist_id}", "starred_url": "https://api.github.com/users/netsandbox/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/netsandbox/subscriptions", "organizations_url": "https://api.github.com/users/netsandbox/orgs", "repos_url": "https://api.github.com/users/netsandbox/repos", "events_url": "https://api.github.com/users/netsandbox/events{/privacy}", "received_events_url": "https://api.github.com/users/netsandbox/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 258836903, "node_id": "MDU6TGFiZWwyNTg4MzY5MDM=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20apache", "name": "area: apache", "color": "c5def5", "default": false, "description": null}, {"id": 291660454, "node_id": "MDU6TGFiZWwyOTE2NjA0NTQ=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20security%20enhancements", "name": "area: security enhancements", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "pde", "id": 479213, "node_id": "MDQ6VXNlcjQ3OTIxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/479213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pde", "html_url": "https://github.com/pde", "followers_url": "https://api.github.com/users/pde/followers", "following_url": "https://api.github.com/users/pde/following{/other_user}", "gists_url": "https://api.github.com/users/pde/gists{/gist_id}", "starred_url": "https://api.github.com/users/pde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pde/subscriptions", "organizations_url": "https://api.github.com/users/pde/orgs", "repos_url": "https://api.github.com/users/pde/repos", "events_url": "https://api.github.com/users/pde/events{/privacy}", "received_events_url": "https://api.github.com/users/pde/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "pde", "id": 479213, "node_id": "MDQ6VXNlcjQ3OTIxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/479213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pde", "html_url": "https://github.com/pde", "followers_url": "https://api.github.com/users/pde/followers", "following_url": "https://api.github.com/users/pde/following{/other_user}", "gists_url": "https://api.github.com/users/pde/gists{/gist_id}", "starred_url": "https://api.github.com/users/pde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pde/subscriptions", "organizations_url": "https://api.github.com/users/pde/orgs", "repos_url": "https://api.github.com/users/pde/repos", "events_url": "https://api.github.com/users/pde/events{/privacy}", "received_events_url": "https://api.github.com/users/pde/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/12", "html_url": "https://github.com/certbot/certbot/milestone/12", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/12/labels", "id": 1450588, "node_id": "MDk6TWlsZXN0b25lMTQ1MDU4OA==", "number": 12, "title": "0.2.0", "description": "This release will improve packagability, and make our UX for letsencrypt-auto better where packages aren't yet available.", "creator": {"login": "pde", "id": 479213, "node_id": "MDQ6VXNlcjQ3OTIxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/479213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pde", "html_url": "https://github.com/pde", "followers_url": "https://api.github.com/users/pde/followers", "following_url": "https://api.github.com/users/pde/following{/other_user}", "gists_url": "https://api.github.com/users/pde/gists{/gist_id}", "starred_url": "https://api.github.com/users/pde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pde/subscriptions", "organizations_url": "https://api.github.com/users/pde/orgs", "repos_url": "https://api.github.com/users/pde/repos", "events_url": "https://api.github.com/users/pde/events{/privacy}", "received_events_url": "https://api.github.com/users/pde/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 47, "state": "closed", "created_at": "2015-12-08T19:20:06Z", "updated_at": "2016-01-19T00:53:39Z", "due_on": "2016-01-09T08:00:00Z", "closed_at": "2016-01-15T23:51:13Z"}, "comments": 2, "created_at": "2015-12-04T10:14:52Z", "updated_at": "2015-12-23T21:33:26Z", "closed_at": "2015-12-23T21:33:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\n\nI think the letsencrypt client shouldn\u2019t add `includeSubDomains` to the Strict-Transport-Security header by default.\n\nIf you let the letsencrypt client modify the configuration for a webserver which hosts example.com, this would make it only possible to reach subdomain hosts (foo.example.com) with https. If you forgot only one webserver which serves a subdomain by http only, you can't reach this one any more.\nAnd as browsers actually don't have an option to clear the HSTS cache, It won't help you to remove the includeSubDomains later from the webserver config.\n\nincludeSubDomains is something, that an admin should only add if he truly knows, that all subdomains are reachable by https. So I think this should never be added by an automatic tool, like the letsencrypt client.\n\nRFC 6797 section 11.1 [1] also describes some implications of includeSubDomains\n\nChris\n\n[1] https://tools.ietf.org/html/rfc6797#section-11.4\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/1728/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/1728/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/1726", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/1726/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/1726/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/1726/events", "html_url": "https://github.com/certbot/certbot/issues/1726", "id": 120371049, "node_id": "MDU6SXNzdWUxMjAzNzEwNDk=", "number": 1726, "title": "The request message was malformed :: Error unmarshaling certificate request (boulder doesn't like some CSR fields)", "user": {"login": "belidzs", "id": 7085801, "node_id": "MDQ6VXNlcjcwODU4MDE=", "avatar_url": "https://avatars.githubusercontent.com/u/7085801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/belidzs", "html_url": "https://github.com/belidzs", "followers_url": "https://api.github.com/users/belidzs/followers", "following_url": "https://api.github.com/users/belidzs/following{/other_user}", "gists_url": "https://api.github.com/users/belidzs/gists{/gist_id}", "starred_url": "https://api.github.com/users/belidzs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/belidzs/subscriptions", "organizations_url": "https://api.github.com/users/belidzs/orgs", "repos_url": "https://api.github.com/users/belidzs/repos", "events_url": "https://api.github.com/users/belidzs/events{/privacy}", "received_events_url": "https://api.github.com/users/belidzs/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 278457504, "node_id": "MDU6TGFiZWwyNzg0NTc1MDQ=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20boulder", "name": "area: boulder", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2015-12-04T10:10:57Z", "updated_at": "2018-09-26T21:43:45Z", "closed_at": "2018-09-26T21:43:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Command\n\n``` bash\nroot@nw4:~# /opt/letsencrypt/letsencrypt-auto certonly --csr /home/belidzs/tarkaret.der --apache\n```\n## Environment\n\n```\nroot@nw4:~# lsb_release -a\nNo LSB modules are available.\nDistributor ID: Ubuntu\nDescription:    Ubuntu 14.04.3 LTS\nRelease:        14.04\nCodename:       trusty\n```\n## Version\n\n```\nroot@nw4:~# /opt/letsencrypt/letsencrypt-auto --version\nUpdating letsencrypt and virtual environment dependencies......\nRunning with virtualenv: /root/.local/share/letsencrypt/bin/letsencrypt --version\nletsencrypt 0.1.0\n```\n## Contents of `/var/log/letsencrypt/letsencrypt.log`\n\nNote: I have changed the domain name to example.com\n\n```\n2015-12-04 09:58:51,481:DEBUG:letsencrypt.cli:Root logging level set at 30\n2015-12-04 09:58:51,482:INFO:letsencrypt.cli:Saving debug log to /var/log/letsencrypt/letsencrypt.log\n2015-12-04 09:58:51,482:DEBUG:letsencrypt.cli:letsencrypt version: 0.1.0\n2015-12-04 09:58:51,482:DEBUG:letsencrypt.cli:Arguments: ['--csr', '/home/belidzs/tarkaret.der', '--apache']\n2015-12-04 09:58:51,482:DEBUG:letsencrypt.cli:Discovered plugins: PluginsRegistry(PluginEntryPoint#apache,PluginEntryPoint#webroot,PluginEntryPoint#null,PluginEntryPoint#manual,PluginEntryPoint#standalone)\n2015-12-04 09:58:51,509:DEBUG:letsencrypt.cli:Requested authenticator apache and installer apache\n2015-12-04 09:58:52,103:DEBUG:letsencrypt.display.ops:Single candidate plugin: * apache\nDescription: Apache Web Server - Alpha\nInterfaces: IAuthenticator, IInstaller, IPlugin\nEntry point: apache = letsencrypt_apache.configurator:ApacheConfigurator\nInitialized: <letsencrypt_apache.configurator.ApacheConfigurator object at 0x7f635c8d3b90>\nPrep: True\n2015-12-04 09:58:52,104:DEBUG:letsencrypt.display.ops:Single candidate plugin: * apache\nDescription: Apache Web Server - Alpha\nInterfaces: IAuthenticator, IInstaller, IPlugin\nEntry point: apache = letsencrypt_apache.configurator:ApacheConfigurator\nInitialized: <letsencrypt_apache.configurator.ApacheConfigurator object at 0x7f635c8d3b90>\nPrep: True\n2015-12-04 09:58:52,105:DEBUG:letsencrypt.cli:Selected authenticator <letsencrypt_apache.configurator.ApacheConfigurator object at 0x7f635c8d3b90> and installer <letsencrypt_apache.configurator.ApacheConfigurator object at 0x7f635c8d3b90>\n2015-12-04 09:58:52,128:DEBUG:letsencrypt.cli:Picked account: <Account(1c8408aabd279b18696b95f50a1f0817)>\n2015-12-04 09:58:52,129:DEBUG:root:Sending GET request to https://acme-v01.api.letsencrypt.org/directory. args: (), kwargs: {}\n2015-12-04 09:58:52,136:INFO:requests.packages.urllib3.connectionpool:Starting new HTTPS connection (1): acme-v01.api.letsencrypt.org\n2015-12-04 09:58:52,471:DEBUG:requests.packages.urllib3.connectionpool:\"GET /directory HTTP/1.1\" 200 263\n2015-12-04 09:58:52,477:DEBUG:root:Received <Response [200]>. Headers: {'Content-Length': '263', 'Expires': 'Fri, 04 Dec 2015 09:58:52 GMT', 'Strict-Transport-Security': 'max-age=604800', 'Server': 'nginx', 'Connection': 'keep-alive', 'Pragma': 'no-cache', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Date': 'Fri, 04 Dec 2015 09:58:52 GMT', 'X-Frame-Options': 'DENY', 'Content-Type': 'application/json', 'Replay-Nonce': 'os5F7vFoIwBiM8HM_MPechQdeNoliMibuLIeTVkaeqI'}. Content: '{\"new-authz\":\"https://acme-v01.api.letsencrypt.org/acme/new-authz\",\"new-cert\":\"https://acme-v01.api.letsencrypt.org/acme/new-cert\",\"new-reg\":\"https://acme-v01.api.letsencrypt.org/acme/new-reg\",\"revoke-cert\":\"https://acme-v01.api.letsencrypt.org/acme/revoke-cert\"}'\n2015-12-04 09:58:52,478:DEBUG:acme.client:Received response <Response [200]> (headers: {'Content-Length': '263', 'Expires': 'Fri, 04 Dec 2015 09:58:52 GMT', 'Strict-Transport-Security': 'max-age=604800', 'Server': 'nginx', 'Connection': 'keep-alive', 'Pragma': 'no-cache', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Date': 'Fri, 04 Dec 2015 09:58:52 GMT', 'X-Frame-Options': 'DENY', 'Content-Type': 'application/json', 'Replay-Nonce': 'os5F7vFoIwBiM8HM_MPechQdeNoliMibuLIeTVkaeqI'}): '{\"new-authz\":\"https://acme-v01.api.letsencrypt.org/acme/new-authz\",\"new-cert\":\"https://acme-v01.api.letsencrypt.org/acme/new-cert\",\"new-reg\":\"https://acme-v01.api.letsencrypt.org/acme/new-reg\",\"revoke-cert\":\"https://acme-v01.api.letsencrypt.org/acme/revoke-cert\"}'\n2015-12-04 09:58:52,479:DEBUG:letsencrypt.client:CSR: CSR(file='/home/belidzs/tarkaret.der', data='0\\x82\\x02\\xa20\\x82\\x01\\x8a\\x02\\x01\\x000\\x1d1\\x1b0\\x19\\x06\\x03U\\x04\\x03\\x13\\x12examle.com0\\x82\\x01\"0\\r\\x06\\t*\\x86H\\x86\\xf7\\r\\x01\\x01\\x01\\x05\\x00\\x03\\x82\\x01\\x0f\\x000\\x82\\x01\\n\\x02\\x82\\x01\\x01\\x00\\xe9MR\\x02N\\t.\\xbf_\\x91s\\xe3\\xb9+{\\x0bO=d\\x97M\\xa1\\x11J\\x88\\x1a@\\x1dr\\x15\\xc1L\\xb90\\xa88z#\\xd5N\\xdc\\xe9;\\xe01o#)(\\xe0\\xed\\xf5\\x8eD\\xfe\\x0e\\xcd[\\x10\\xca\\x84\\x13pw\\x05iE[\\xdf<\\xa1o\\xef\\x94\\xa1|\\x9b\\xf7\\x0f\\xea;\\xf4\\xa55\\x83 >\\xfd\\xf8\\x8c\\xdb\\x1a\\t\\xb5[\\x92\\x00v\\xb6\\xba`\\xbcq\\xbc\\xcf\\xcf\\xea\\xdc\\x00|\\xa9\\xcb\\xb5\\xfbJ\\x8b\\xe0\\xb7j\\xf6sH\\xa0\\xd6\\xf9 0**\\xc5gW\\x0f\\xf6gt\\xc1\\xc7\\\\@L\\x93\\xd6\\x0e\\xa8K\\xd5M\"s\\x17\\xb7\\x1d\\xa0==\\xc1;\\x1d\\xd1\\x9b\\xad\\x8d\\xcb,\\x9f\\xf8h\\xf6\\xd8\\xa5\\xc5\\xd3R\\x14\\x1e\\xee\\x18[\\xad\\x04y\\xc2\\x86\\xa6H\\xc9D\\x88\\xfa\\x9f\\xa5\\xbe\\xd84aLk\\x8c\\x00B\\x1c\\xe2\\x1e@\\xef$\\xcaB\\x88M\\xae\\xa6?\\x18:\\xc0\\x82b\\xeaR\\x8a^\\xbc\\xba\\xc9\\xe0\\xb9\\xa9h|(\\x80u\\x97r\\xd5\\x0eM\\xf3g\\xa4\\x97\\xa1\\xaa8P\\xb3}mlQ\\xd5f\\xd2i\\x02\\x03\\x01\\x00\\x01\\xa0@0>\\x06\\t*\\x86H\\x86\\xf7\\r\\x01\\t\\x0e110/0\\x0e\\x06\\x03U\\x1d\\x0f\\x01\\x01\\xff\\x04\\x04\\x03\\x02\\x02\\xa40\\x1d\\x06\\x03U\\x1d\\x11\\x04\\x160\\x14\\x82\\x12examle.com0\\r\\x06\\t*\\x86H\\x86\\xf7\\r\\x01\\x01\\x05\\x05\\x00\\x03\\x82\\x01\\x01\\x00\\xb4\\xd0t3\\xc2\\xec\\xc2\\x96)\\x81\\xfa?\\xce\\x94\\x08\\x00JR\\xac\\x91\\xd4L\\xd3%\\x1f\\xf7\\x98xS\\xd2\\x1f\\xf5r\\x01\\x97-RL\\x888\\xc5p5\\x84\\xd6UU\\xfe\\x9e\\x99i\\xa1F\\xa6\\xfcR\\x0cr1Q}8F\\xf2\\x00\\xc2\\xf5&5\\xbb\\x8aw\\xdcX\\xf9;\\x8f\\xd8\\x81\\xa3\\xc7\\x9e\\x9c4\\x003\\x82\\x9c\\xb4I=\\xcd\\xcb>`)\\x8b\\x98\\xeb\\x99M\\xab\\xdd\\xae#\\xe2\\xba\\xd3P\\xc3Pd\\xaaQ\\xfc\\xe3\\xa8\\xf3n\\xb6\\xf2\\xec_\\xec\\xa1\\x07y?\\x01a2\\xe4\\x80\\xf8C\\x98KKl\\xf7\\x04\\xf6\\xe7\\x9c\\xd98,\\x8d\\xf4J B6\\xe4\\x8c\\x8eF\\x05\\x9aQ\\x04WQ\\x85\\xecN\\xdd\\xf5\\x9a\\xb4$T\\x07\\xcc\\xa3o!\\xfc\\x01\\xb7S\\xdd\\x93p\\n6q,\\xbe\\n\\x1a\\x8f\\xb1\\x8e\\xed\\xdf\\x01\\x034\\x18\\x1c\\xd3\\xab\\xd9\\x02\\xc1\\x9dw\\x80T|\\xad\\xb6\\xdb\\t\\x17\\x94\\x00\\xe9^\\x0b\\xdc_\\x92\\xcfr\\xc9i\\xe5\\xeaz\\x85\\xdb~\\xcbQ+\\xebA\\xff\\x10\\xe2\\xf5|iW\\xf2\\xe8\\x05z\\nWWB\\xe3h', form='der'), domains: ['examle.com']\n2015-12-04 09:58:52,479:DEBUG:root:Requesting fresh nonce\n2015-12-04 09:58:52,479:DEBUG:root:Sending HEAD request to https://acme-v01.api.letsencrypt.org/acme/new-authz. args: (), kwargs: {}\n2015-12-04 09:58:52,481:INFO:requests.packages.urllib3.connectionpool:Starting new HTTPS connection (1): acme-v01.api.letsencrypt.org\n2015-12-04 09:58:52,695:DEBUG:requests.packages.urllib3.connectionpool:\"HEAD /acme/new-authz HTTP/1.1\" 405 0\n2015-12-04 09:58:52,698:DEBUG:root:Received <Response [405]>. Headers: {'Content-Length': '0', 'Pragma': 'no-cache', 'Expires': 'Fri, 04 Dec 2015 09:58:52 GMT', 'Server': 'nginx', 'Connection': 'keep-alive', 'Allow': 'POST', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Date': 'Fri, 04 Dec 2015 09:58:52 GMT', 'Content-Type': 'application/problem+json', 'Replay-Nonce': 'E1LBKfclIZBS00okKxR5TCZoecuM7K3aMHj89OeZE4w'}. Content: ''\n2015-12-04 09:58:52,698:DEBUG:acme.client:Storing nonce: '\\x13R\\xc1)\\xf7%!\\x90R\\xd3J$+\\x14yL&hy\\xcb\\x8c\\xec\\xad\\xda0x\\xfc\\xf4\\xe7\\x99\\x13\\x8c'\n2015-12-04 09:58:52,699:DEBUG:acme.jose.json_util:Omitted empty fields: expires=None, challenges=None, status=None, combinations=None\n2015-12-04 09:58:52,699:DEBUG:acme.client:Serialized JSON: {\"identifier\": {\"type\": \"dns\", \"value\": \"examle.com\"}, \"resource\": \"new-authz\"}\n2015-12-04 09:58:52,700:DEBUG:acme.jose.json_util:Omitted empty fields: x5c=(), crit=(), kid=None, jwk=None, x5t=None, x5tS256=None, cty=None, x5u=None, typ=None, alg=None, jku=None\n2015-12-04 09:58:52,704:DEBUG:acme.jose.json_util:Omitted empty fields: x5c=(), crit=(), kid=None, nonce=None, x5tS256=None, cty=None, x5t=None, x5u=None, typ=None, jku=None\n2015-12-04 09:58:52,704:DEBUG:root:Sending POST request to https://acme-v01.api.letsencrypt.org/acme/new-authz. args: (), kwargs: {'data': '{\"header\": {\"alg\": \"RS256\", \"jwk\": {\"e\": \"AQAB\", \"kty\": \"RSA\", \"n\": \"yCn8-8b6jLWTUaPYozEG8uhueVXJo2ds14yVCTg0Wh0m_f23FX4ZvMB6r_rr0DlWv1-vyL7EB1lF3dGvkPNU-zcZwzDVnCWxPLngMJYMnli3M2_tkPbeOFs9LR3IcW9FJqpIiVBtpKTDq_BauLxN3lpHyUweUCoSOlxZcQnMfP42H2LfBYDMCI18bgxfd6JPvdUnzYNWCHlZi2eNFylTP6wpah6plqteiMNbGbOkRzLJDEmwynQ__7ZsSgkaxikqX2PsqtfwtoY8Q0xENhuNiqYCh9i0ppZzQ9WRKJGNNqsuY1WyFrPaZy9dutZ8TTY43dsXzJJSJcKJbVpCAXMycw\"}}, \"protected\": \"eyJub25jZSI6ICJFMUxCS2ZjbElaQlMwMG9rS3hSNVRDWm9lY3VNN0szYU1Iajg5T2VaRTR3In0\", \"payload\": \"eyJpZGVudGlmaWVyIjogeyJ0eXBlIjogImRucyIsICJ2YWx1ZSI6ICJ0YXJrYXJldC5jb3JuZXQuaHUifSwgInJlc291cmNlIjogIm5ldy1hdXRoeiJ9\", \"signature\": \"OvZKPJgOoy6zdoclQ7rcXb1VKyQFx-R9wAhShKRslzoa6P3g6iPwGZnvNCm3LbWY1wuHepLQZovVLgX6-CuoglsvsHLbZxc2KmZE1RBkya49R5hVDFzeT2COVx7GJc2Z7O7r7E4osvK0G7PH_AGnOI0jHt9LGaMhTlmIG_McRCayl-tUjTj4xgNDADiCFJOPKwJ-AICSfgelKpxHnqZRGdxTAVw2TR9EafIQvv9QLEJgbEs-ZTW1JxPtRMa5rdsKbqRa92Xi3sMRiEQdtkmVKOCNmJwlltURrPGN5ur14Z0JXOCZl9aYW9Gx7LxaFFzgj5OMdN6XI6mSUjUlI69zag\"}'}\n2015-12-04 09:58:52,705:INFO:requests.packages.urllib3.connectionpool:Starting new HTTPS connection (1): acme-v01.api.letsencrypt.org\n2015-12-04 09:58:52,969:DEBUG:requests.packages.urllib3.connectionpool:\"POST /acme/new-authz HTTP/1.1\" 201 569\n2015-12-04 09:58:52,972:DEBUG:root:Received <Response [201]>. Headers: {'Content-Length': '569', 'Expires': 'Fri, 04 Dec 2015 09:58:52 GMT', 'Strict-Transport-Security': 'max-age=604800', 'Server': 'nginx', 'Connection': 'keep-alive', 'Link': '<https://acme-v01.api.letsencrypt.org/acme/new-cert>;rel=\"next\"', 'Location': 'https://acme-v01.api.letsencrypt.org/acme/authz/344To-_vJY0ynb-SRVYnO-VXJg_gp0uwtVzlI0HGyTQ', 'Pragma': 'no-cache', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Date': 'Fri, 04 Dec 2015 09:58:52 GMT', 'X-Frame-Options': 'DENY', 'Content-Type': 'application/json', 'Replay-Nonce': 'OIwGWLSXqaf6_WsNx1gcszvVE378utv35H4KxaYNnIs'}. Content: '{\"identifier\":{\"type\":\"dns\",\"value\":\"examle.com\"},\"status\":\"pending\",\"expires\":\"2015-12-11T09:58:52.856246472Z\",\"challenges\":[{\"type\":\"http-01\",\"status\":\"pending\",\"uri\":\"https://acme-v01.api.letsencrypt.org/acme/challenge/344To-_vJY0ynb-SRVYnO-VXJg_gp0uwtVzlI0HGyTQ/699559\",\"token\":\"7FPR6skSGgoUqaal5JmSStuUcstRa4-L7afcp5w1qAQ\"},{\"type\":\"tls-sni-01\",\"status\":\"pending\",\"uri\":\"https://acme-v01.api.letsencrypt.org/acme/challenge/344To-_vJY0ynb-SRVYnO-VXJg_gp0uwtVzlI0HGyTQ/699560\",\"token\":\"fwMcjjLzjXshtn4IQNCZHV0vj23VT2bW9vqijUEvh-I\"}],\"combinations\":[[1],[0]]}'\n2015-12-04 09:58:52,972:DEBUG:acme.client:Storing nonce: '8\\x8c\\x06X\\xb4\\x97\\xa9\\xa7\\xfa\\xfdk\\r\\xc7X\\x1c\\xb3;\\xd5\\x13~\\xfc\\xba\\xdb\\xf7\\xe4~\\n\\xc5\\xa6\\r\\x9c\\x8b'\n2015-12-04 09:58:52,972:DEBUG:acme.client:Received response <Response [201]> (headers: {'Content-Length': '569', 'Expires': 'Fri, 04 Dec 2015 09:58:52 GMT', 'Strict-Transport-Security': 'max-age=604800', 'Server': 'nginx', 'Connection': 'keep-alive', 'Link': '<https://acme-v01.api.letsencrypt.org/acme/new-cert>;rel=\"next\"', 'Location': 'https://acme-v01.api.letsencrypt.org/acme/authz/344To-_vJY0ynb-SRVYnO-VXJg_gp0uwtVzlI0HGyTQ', 'Pragma': 'no-cache', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Date': 'Fri, 04 Dec 2015 09:58:52 GMT', 'X-Frame-Options': 'DENY', 'Content-Type': 'application/json', 'Replay-Nonce': 'OIwGWLSXqaf6_WsNx1gcszvVE378utv35H4KxaYNnIs'}): '{\"identifier\":{\"type\":\"dns\",\"value\":\"examle.com\"},\"status\":\"pending\",\"expires\":\"2015-12-11T09:58:52.856246472Z\",\"challenges\":[{\"type\":\"http-01\",\"status\":\"pending\",\"uri\":\"https://acme-v01.api.letsencrypt.org/acme/challenge/344To-_vJY0ynb-SRVYnO-VXJg_gp0uwtVzlI0HGyTQ/699559\",\"token\":\"7FPR6skSGgoUqaal5JmSStuUcstRa4-L7afcp5w1qAQ\"},{\"type\":\"tls-sni-01\",\"status\":\"pending\",\"uri\":\"https://acme-v01.api.letsencrypt.org/acme/challenge/344To-_vJY0ynb-SRVYnO-VXJg_gp0uwtVzlI0HGyTQ/699560\",\"token\":\"fwMcjjLzjXshtn4IQNCZHV0vj23VT2bW9vqijUEvh-I\"}],\"combinations\":[[1],[0]]}'\n2015-12-04 09:58:52,973:INFO:letsencrypt.auth_handler:Performing the following challenges:\n2015-12-04 09:58:52,973:INFO:letsencrypt.auth_handler:tls-sni-01 challenge for examle.com\n2015-12-04 09:58:56,604:DEBUG:letsencrypt.reverter:Creating backup of /etc/apache2/apache2.conf\n2015-12-04 09:58:59,886:INFO:letsencrypt.auth_handler:Waiting for verification...\n2015-12-04 09:58:59,887:DEBUG:acme.client:Serialized JSON: {\"keyAuthorization\": \"fwMcjjLzjXshtn4IQNCZHV0vj23VT2bW9vqijUEvh-I.EdpBlm-tLvZgHTPj7Gky8kgQmIixejcms9dnTNHw2UM\", \"type\": \"tls-sni-01\", \"resource\": \"challenge\"}\n2015-12-04 09:58:59,890:DEBUG:acme.jose.json_util:Omitted empty fields: x5c=(), crit=(), kid=None, jwk=None, x5t=None, x5tS256=None, cty=None, x5u=None, typ=None, alg=None, jku=None\n2015-12-04 09:58:59,893:DEBUG:acme.jose.json_util:Omitted empty fields: x5c=(), crit=(), kid=None, nonce=None, x5tS256=None, cty=None, x5t=None, x5u=None, typ=None, jku=None\n2015-12-04 09:58:59,894:DEBUG:root:Sending POST request to https://acme-v01.api.letsencrypt.org/acme/challenge/344To-_vJY0ynb-SRVYnO-VXJg_gp0uwtVzlI0HGyTQ/699560. args: (), kwargs: {'data': '{\"header\": {\"alg\": \"RS256\", \"jwk\": {\"e\": \"AQAB\", \"kty\": \"RSA\", \"n\": \"yCn8-8b6jLWTUaPYozEG8uhueVXJo2ds14yVCTg0Wh0m_f23FX4ZvMB6r_rr0DlWv1-vyL7EB1lF3dGvkPNU-zcZwzDVnCWxPLngMJYMnli3M2_tkPbeOFs9LR3IcW9FJqpIiVBtpKTDq_BauLxN3lpHyUweUCoSOlxZcQnMfP42H2LfBYDMCI18bgxfd6JPvdUnzYNWCHlZi2eNFylTP6wpah6plqteiMNbGbOkRzLJDEmwynQ__7ZsSgkaxikqX2PsqtfwtoY8Q0xENhuNiqYCh9i0ppZzQ9WRKJGNNqsuY1WyFrPaZy9dutZ8TTY43dsXzJJSJcKJbVpCAXMycw\"}}, \"protected\": \"eyJub25jZSI6ICJPSXdHV0xTWHFhZjZfV3NOeDFnY3N6dlZFMzc4dXR2MzVINEt4YVlObklzIn0\", \"payload\": \"eyJrZXlBdXRob3JpemF0aW9uIjogImZ3TWNqakx6alhzaHRuNElRTkNaSFYwdmoyM1ZUMmJXOXZxaWpVRXZoLUkuRWRwQmxtLXRMdlpnSFRQajdHa3k4a2dRbUlpeGVqY21zOWRuVE5IdzJVTSIsICJ0eXBlIjogInRscy1zbmktMDEiLCAicmVzb3VyY2UiOiAiY2hhbGxlbmdlIn0\", \"signature\": \"Ee5FQRhtHrPjy4l_1w17T8KFf3MdO_LnGavY0AuZduAcdwj48hLd6fzClPe61a8Og4yf8x7aaCPKQvxL9FfwB6_z27WL8dU7yFqwZU78a6f4GR7D-8MaaYfJPDPaPz6FkhsAEkYxP6nBjULiKWGZ060G08WVW9jqDx-A_-KFmPMH8zTpov9JlF1eM13iu_bQoyuHjj_FaqnDP2Hh8JdV6dZ9-yAborg2WbL4sTu9NXdKC6HyZMqO67CLqFpCSaE2BJ244RuarJDKfF4OsjqgouSlLANESvW_LkXO50IcF6Od-8FKrWCpa3ia7IXqkCJTXjLcQRovP7kflV8W0PHxkg\"}'}\n2015-12-04 09:58:59,897:INFO:requests.packages.urllib3.connectionpool:Starting new HTTPS connection (1): acme-v01.api.letsencrypt.org\n2015-12-04 09:59:00,195:DEBUG:requests.packages.urllib3.connectionpool:\"POST /acme/challenge/344To-_vJY0ynb-SRVYnO-VXJg_gp0uwtVzlI0HGyTQ/699560 HTTP/1.1\" 202 314\n2015-12-04 09:59:00,197:DEBUG:root:Received <Response [202]>. Headers: {'Content-Length': '314', 'Expires': 'Fri, 04 Dec 2015 09:59:00 GMT', 'Server': 'nginx', 'Connection': 'keep-alive', 'Link': '<https://acme-v01.api.letsencrypt.org/acme/authz/344To-_vJY0ynb-SRVYnO-VXJg_gp0uwtVzlI0HGyTQ>;rel=\"up\"', 'Location': 'https://acme-v01.api.letsencrypt.org/acme/challenge/344To-_vJY0ynb-SRVYnO-VXJg_gp0uwtVzlI0HGyTQ/699560', 'Pragma': 'no-cache', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Date': 'Fri, 04 Dec 2015 09:59:00 GMT', 'Content-Type': 'application/json', 'Replay-Nonce': 'qhf7HrjlicXEKtGaqxMTUJf-z2U78Vp2TB3h80morbQ'}. Content: '{\"type\":\"tls-sni-01\",\"status\":\"pending\",\"uri\":\"https://acme-v01.api.letsencrypt.org/acme/challenge/344To-_vJY0ynb-SRVYnO-VXJg_gp0uwtVzlI0HGyTQ/699560\",\"token\":\"fwMcjjLzjXshtn4IQNCZHV0vj23VT2bW9vqijUEvh-I\",\"keyAuthorization\":\"fwMcjjLzjXshtn4IQNCZHV0vj23VT2bW9vqijUEvh-I.EdpBlm-tLvZgHTPj7Gky8kgQmIixejcms9dnTNHw2UM\"}'\n2015-12-04 09:59:00,198:DEBUG:acme.client:Storing nonce: '\\xaa\\x17\\xfb\\x1e\\xb8\\xe5\\x89\\xc5\\xc4*\\xd1\\x9a\\xab\\x13\\x13P\\x97\\xfe\\xcfe;\\xf1ZvL\\x1d\\xe1\\xf3I\\xa8\\xad\\xb4'\n2015-12-04 09:59:00,198:DEBUG:acme.client:Received response <Response [202]> (headers: {'Content-Length': '314', 'Expires': 'Fri, 04 Dec 2015 09:59:00 GMT', 'Server': 'nginx', 'Connection': 'keep-alive', 'Link': '<https://acme-v01.api.letsencrypt.org/acme/authz/344To-_vJY0ynb-SRVYnO-VXJg_gp0uwtVzlI0HGyTQ>;rel=\"up\"', 'Location': 'https://acme-v01.api.letsencrypt.org/acme/challenge/344To-_vJY0ynb-SRVYnO-VXJg_gp0uwtVzlI0HGyTQ/699560', 'Pragma': 'no-cache', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Date': 'Fri, 04 Dec 2015 09:59:00 GMT', 'Content-Type': 'application/json', 'Replay-Nonce': 'qhf7HrjlicXEKtGaqxMTUJf-z2U78Vp2TB3h80morbQ'}): '{\"type\":\"tls-sni-01\",\"status\":\"pending\",\"uri\":\"https://acme-v01.api.letsencrypt.org/acme/challenge/344To-_vJY0ynb-SRVYnO-VXJg_gp0uwtVzlI0HGyTQ/699560\",\"token\":\"fwMcjjLzjXshtn4IQNCZHV0vj23VT2bW9vqijUEvh-I\",\"keyAuthorization\":\"fwMcjjLzjXshtn4IQNCZHV0vj23VT2bW9vqijUEvh-I.EdpBlm-tLvZgHTPj7Gky8kgQmIixejcms9dnTNHw2UM\"}'\n2015-12-04 09:59:03,202:DEBUG:root:Sending GET request to https://acme-v01.api.letsencrypt.org/acme/authz/344To-_vJY0ynb-SRVYnO-VXJg_gp0uwtVzlI0HGyTQ. args: (), kwargs: {}\n2015-12-04 09:59:03,203:INFO:requests.packages.urllib3.connectionpool:Starting new HTTPS connection (1): acme-v01.api.letsencrypt.org\n2015-12-04 09:59:03,429:DEBUG:requests.packages.urllib3.connectionpool:\"GET /acme/authz/344To-_vJY0ynb-SRVYnO-VXJg_gp0uwtVzlI0HGyTQ HTTP/1.1\" 200 800\n2015-12-04 09:59:03,431:DEBUG:root:Received <Response [200]>. Headers: {'Content-Length': '800', 'Expires': 'Fri, 04 Dec 2015 09:59:03 GMT', 'Strict-Transport-Security': 'max-age=604800', 'Server': 'nginx', 'Connection': 'keep-alive', 'Link': '<https://acme-v01.api.letsencrypt.org/acme/new-cert>;rel=\"next\"', 'Pragma': 'no-cache', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Date': 'Fri, 04 Dec 2015 09:59:03 GMT', 'X-Frame-Options': 'DENY', 'Content-Type': 'application/json', 'Replay-Nonce': 'uluF7nZ8cxznf4wJQbg3x1xOv4c_t8Em-ywhbPvQ7j8'}. Content: '{\"identifier\":{\"type\":\"dns\",\"value\":\"examle.com\"},\"status\":\"valid\",\"expires\":\"2016-09-29T09:59:01Z\",\"challenges\":[{\"type\":\"http-01\",\"status\":\"pending\",\"uri\":\"https://acme-v01.api.letsencrypt.org/acme/challenge/344To-_vJY0ynb-SRVYnO-VXJg_gp0uwtVzlI0HGyTQ/699559\",\"token\":\"7FPR6skSGgoUqaal5JmSStuUcstRa4-L7afcp5w1qAQ\"},{\"type\":\"tls-sni-01\",\"status\":\"valid\",\"uri\":\"https://acme-v01.api.letsencrypt.org/acme/challenge/344To-_vJY0ynb-SRVYnO-VXJg_gp0uwtVzlI0HGyTQ/699560\",\"token\":\"fwMcjjLzjXshtn4IQNCZHV0vj23VT2bW9vqijUEvh-I\",\"keyAuthorization\":\"fwMcjjLzjXshtn4IQNCZHV0vj23VT2bW9vqijUEvh-I.EdpBlm-tLvZgHTPj7Gky8kgQmIixejcms9dnTNHw2UM\",\"validationRecord\":[{\"hostname\":\"examle.com\",\"port\":\"443\",\"addressesResolved\":[\"146.110.10.56\"],\"addressUsed\":\"146.110.10.56\"}]}],\"combinations\":[[1],[0]]}'\n2015-12-04 09:59:03,431:DEBUG:acme.client:Received response <Response [200]> (headers: {'Content-Length': '800', 'Expires': 'Fri, 04 Dec 2015 09:59:03 GMT', 'Strict-Transport-Security': 'max-age=604800', 'Server': 'nginx', 'Connection': 'keep-alive', 'Link': '<https://acme-v01.api.letsencrypt.org/acme/new-cert>;rel=\"next\"', 'Pragma': 'no-cache', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Date': 'Fri, 04 Dec 2015 09:59:03 GMT', 'X-Frame-Options': 'DENY', 'Content-Type': 'application/json', 'Replay-Nonce': 'uluF7nZ8cxznf4wJQbg3x1xOv4c_t8Em-ywhbPvQ7j8'}): '{\"identifier\":{\"type\":\"dns\",\"value\":\"examle.com\"},\"status\":\"valid\",\"expires\":\"2016-09-29T09:59:01Z\",\"challenges\":[{\"type\":\"http-01\",\"status\":\"pending\",\"uri\":\"https://acme-v01.api.letsencrypt.org/acme/challenge/344To-_vJY0ynb-SRVYnO-VXJg_gp0uwtVzlI0HGyTQ/699559\",\"token\":\"7FPR6skSGgoUqaal5JmSStuUcstRa4-L7afcp5w1qAQ\"},{\"type\":\"tls-sni-01\",\"status\":\"valid\",\"uri\":\"https://acme-v01.api.letsencrypt.org/acme/challenge/344To-_vJY0ynb-SRVYnO-VXJg_gp0uwtVzlI0HGyTQ/699560\",\"token\":\"fwMcjjLzjXshtn4IQNCZHV0vj23VT2bW9vqijUEvh-I\",\"keyAuthorization\":\"fwMcjjLzjXshtn4IQNCZHV0vj23VT2bW9vqijUEvh-I.EdpBlm-tLvZgHTPj7Gky8kgQmIixejcms9dnTNHw2UM\",\"validationRecord\":[{\"hostname\":\"examle.com\",\"port\":\"443\",\"addressesResolved\":[\"146.110.10.56\"],\"addressUsed\":\"146.110.10.56\"}]}],\"combinations\":[[1],[0]]}'\n2015-12-04 09:59:03,432:INFO:letsencrypt.auth_handler:Cleaning up challenges\n2015-12-04 09:59:03,842:DEBUG:acme.client:Requesting issuance...\n2015-12-04 09:59:03,844:DEBUG:acme.client:Serialized JSON: {\"resource\": \"new-cert\", \"csr\": \"MIICojCCAYoCAQAwHTEbMBkGA1UEAxMSdGFya2FyZXQuY29ybmV0Lmh1MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA6U1SAk4JLr9fkXPjuSt7C089ZJdNoRFKiBpAHXIVwUy5MKg4eiPVTtzpO-AxbyMpKODt9Y5E_g7NWxDKhBNwdwVpRVvfPKFv75ShfJv3D-o79KU1gyA-_fiM2xoJtVuSAHa2umC8cbzPz-rcAHypy7X7Sovgt2r2c0ig1vkgMCoqxWdXD_ZndMHHXEBMk9YOqEvVTSJzF7cdoD09wTsd0Zutjcssn_ho9tilxdNSFB7uGFutBHnChqZIyUSI-p-lvtg0YUxrjABCHOIeQO8kykKITa6mPxg6wIJi6lKKXry6yeC5qWh8KIB1l3LVDk3zZ6SXoao4ULN9bWxR1WbSaQIDAQABoEAwPgYJKoZIhvcNAQkOMTEwLzAOBgNVHQ8BAf8EBAMCAqQwHQYDVR0RBBYwFIISdGFya2FyZXQuY29ybmV0Lmh1MA0GCSqGSIb3DQEBBQUAA4IBAQC00HQzwuzClimB-j_OlAgASlKskdRM0yUf95h4U9If9XIBly1STIg4xXA1hNZVVf6emWmhRqb8UgxyMVF9OEbyAML1JjW7infcWPk7j9iBo8eenDQAM4KctEk9zcs-YCmLmOuZTavdriPiutNQw1BkqlH846jzbrby7F_soQd5PwFhMuSA-EOYS0ts9wT255zZOCyN9EogQjbkjI5GBZpRBFdRhexO3fWatCRUB8yjbyH8AbdT3ZNwCjZxLL4KGo-xju3fAQM0GBzTq9kCwZ13gFR8rbbbCReUAOleC9xfks9yyWnl6nqF237LUSvrQf8Q4vV8aVfy6AV6CldXQuNo\"}\n2015-12-04 09:59:03,845:DEBUG:acme.jose.json_util:Omitted empty fields: x5c=(), crit=(), kid=None, jwk=None, x5t=None, x5tS256=None, cty=None, x5u=None, typ=None, alg=None, jku=None\n2015-12-04 09:59:03,849:DEBUG:acme.jose.json_util:Omitted empty fields: x5c=(), crit=(), kid=None, nonce=None, x5tS256=None, cty=None, x5t=None, x5u=None, typ=None, jku=None\n2015-12-04 09:59:03,849:DEBUG:root:Sending POST request to https://acme-v01.api.letsencrypt.org/acme/new-cert. args: (), kwargs: {'headers': {'Accept': 'application/pkix-cert'}, 'data': '{\"header\": {\"alg\": \"RS256\", \"jwk\": {\"e\": \"AQAB\", \"kty\": \"RSA\", \"n\": \"yCn8-8b6jLWTUaPYozEG8uhueVXJo2ds14yVCTg0Wh0m_f23FX4ZvMB6r_rr0DlWv1-vyL7EB1lF3dGvkPNU-zcZwzDVnCWxPLngMJYMnli3M2_tkPbeOFs9LR3IcW9FJqpIiVBtpKTDq_BauLxN3lpHyUweUCoSOlxZcQnMfP42H2LfBYDMCI18bgxfd6JPvdUnzYNWCHlZi2eNFylTP6wpah6plqteiMNbGbOkRzLJDEmwynQ__7ZsSgkaxikqX2PsqtfwtoY8Q0xENhuNiqYCh9i0ppZzQ9WRKJGNNqsuY1WyFrPaZy9dutZ8TTY43dsXzJJSJcKJbVpCAXMycw\"}}, \"protected\": \"eyJub25jZSI6ICJxaGY3SHJqbGljWEVLdEdhcXhNVFVKZi16MlU3OFZwMlRCM2g4MG1vcmJRIn0\", \"payload\": \"eyJyZXNvdXJjZSI6ICJuZXctY2VydCIsICJjc3IiOiAiTUlJQ29qQ0NBWW9DQVFBd0hURWJNQmtHQTFVRUF4TVNkR0Z5YTJGeVpYUXVZMjl5Ym1WMExtaDFNSUlCSWpBTkJna3Foa2lHOXcwQkFRRUZBQU9DQVE4QU1JSUJDZ0tDQVFFQTZVMVNBazRKTHI5ZmtYUGp1U3Q3QzA4OVpKZE5vUkZLaUJwQUhYSVZ3VXk1TUtnNGVpUFZUdHpwTy1BeGJ5TXBLT0R0OVk1RV9nN05XeERLaEJOd2R3VnBSVnZmUEtGdjc1U2hmSnYzRC1vNzlLVTFneUEtX2ZpTTJ4b0p0VnVTQUhhMnVtQzhjYnpQei1yY0FIeXB5N1g3U292Z3QycjJjMGlnMXZrZ01Db3F4V2RYRF9abmRNSEhYRUJNazlZT3FFdlZUU0p6RjdjZG9EMDl3VHNkMFp1dGpjc3NuX2hvOXRpbHhkTlNGQjd1R0Z1dEJIbkNocVpJeVVTSS1wLWx2dGcwWVV4cmpBQkNIT0llUU84a3lrS0lUYTZtUHhnNndJSmk2bEtLWHJ5NnllQzVxV2g4S0lCMWwzTFZEazN6WjZTWG9hbzRVTE45Yld4UjFXYlNhUUlEQVFBQm9FQXdQZ1lKS29aSWh2Y05BUWtPTVRFd0x6QU9CZ05WSFE4QkFmOEVCQU1DQXFRd0hRWURWUjBSQkJZd0ZJSVNkR0Z5YTJGeVpYUXVZMjl5Ym1WMExtaDFNQTBHQ1NxR1NJYjNEUUVCQlFVQUE0SUJBUUMwMEhRend1ekNsaW1CLWpfT2xBZ0FTbEtza2RSTTB5VWY5NWg0VTlJZjlYSUJseTFTVElnNHhYQTFoTlpWVmY2ZW1XbWhScWI4VWd4eU1WRjlPRWJ5QU1MMUpqVzdpbmZjV1BrN2o5aUJvOGVlbkRRQU00S2N0RWs5emNzLVlDbUxtT3VaVGF2ZHJpUGl1dE5RdzFCa3FsSDg0Nmp6YnJieTdGX3NvUWQ1UHdGaE11U0EtRU9ZUzB0czl3VDI1NXpaT0N5TjlFb2dRamJrakk1R0JacFJCRmRSaGV4TzNmV2F0Q1JVQjh5amJ5SDhBYmRUM1pOd0NqWnhMTDRLR28teGp1M2ZBUU0wR0J6VHE5a0N3WjEzZ0ZSOHJiYmJDUmVVQU9sZUM5eGZrczl5eVdubDZucUYyMzdMVVN2clFmOFE0dlY4YVZmeTZBVjZDbGRYUXVObyJ9\", \"signature\": \"UXZk1grd6ODFkH0aD-kFFYXOhLpFAlw5jLUdfW_FFa_7ke2344ZaQQW5icBZQQQhdr7Ggcd5E-wYYb4fJvxaCLccpSiDwGTUWPiSOavSPa_IOQWbWxjJNGfl_WEafDzQdUWLygC6ewXKc9i65EP9ot6RKZ5GoxxhuZb7pQUWnNdErMYp7GNf3v3Fd1GE83WyRDsFW3_JabdXiXqId2v40s850StoTjb31769vDF4Tn41Nay1CTT47Y6IOiyQlpuiRB8kxBZg-HUnYt-71Z6KcU2c7euwqdkEC6sisqv5EAGiCaY47Uwi0dLCP_KzEZly-hzrPPi2e0wa9bvk2xTSQg\"}'}\n2015-12-04 09:59:03,852:INFO:requests.packages.urllib3.connectionpool:Starting new HTTPS connection (1): acme-v01.api.letsencrypt.org\n2015-12-04 09:59:04,091:DEBUG:requests.packages.urllib3.connectionpool:\"POST /acme/new-cert HTTP/1.1\" 400 98\n2015-12-04 09:59:04,094:DEBUG:root:Received <Response [400]>. Headers: {'Content-Length': '98', 'Expires': 'Fri, 04 Dec 2015 09:59:04 GMT', 'Server': 'nginx', 'Connection': 'close', 'Pragma': 'no-cache', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Date': 'Fri, 04 Dec 2015 09:59:04 GMT', 'Content-Type': 'application/problem+json', 'Replay-Nonce': '24cwexWat_fJrBjJtLuDHyvqmkHr2hUhdwQJPS4zRdw'}. Content: '{\"type\":\"urn:acme:error:malformed\",\"detail\":\"Error unmarshaling certificate request\",\"status\":400}'\n2015-12-04 09:59:04,095:DEBUG:acme.client:Storing nonce: '\\xdb\\x870{\\x15\\x9a\\xb7\\xf7\\xc9\\xac\\x18\\xc9\\xb4\\xbb\\x83\\x1f+\\xea\\x9aA\\xeb\\xda\\x15!w\\x04\\t=.3E\\xdc'\n2015-12-04 09:59:04,095:DEBUG:acme.client:Received response <Response [400]> (headers: {'Content-Length': '98', 'Expires': 'Fri, 04 Dec 2015 09:59:04 GMT', 'Server': 'nginx', 'Connection': 'close', 'Pragma': 'no-cache', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Date': 'Fri, 04 Dec 2015 09:59:04 GMT', 'Content-Type': 'application/problem+json', 'Replay-Nonce': '24cwexWat_fJrBjJtLuDHyvqmkHr2hUhdwQJPS4zRdw'}): '{\"type\":\"urn:acme:error:malformed\",\"detail\":\"Error unmarshaling certificate request\",\"status\":400}'\n2015-12-04 09:59:04,097:DEBUG:letsencrypt.cli:Exiting abnormally:\nTraceback (most recent call last):\n  File \"/root/.local/share/letsencrypt/bin/letsencrypt\", line 11, in <module>\n    sys.exit(main())\n  File \"/root/.local/share/letsencrypt/local/lib/python2.7/site-packages/letsencrypt/cli.py\", line 1283, in main\n    return args.func(args, config, plugins)\n  File \"/root/.local/share/letsencrypt/local/lib/python2.7/site-packages/letsencrypt/cli.py\", line 506, in obtain_cert\n    file=args.csr[0], data=args.csr[1], form=\"der\"))\n  File \"/root/.local/share/letsencrypt/local/lib/python2.7/site-packages/letsencrypt/client.py\", line 245, in obtain_certificate_from_csr\n    csr.data, OpenSSL.crypto.FILETYPE_ASN1), csr)\n  File \"/root/.local/share/letsencrypt/local/lib/python2.7/site-packages/letsencrypt/client.py\", line 228, in _obtain_certificate\n    authzr)\n  File \"/root/.local/share/letsencrypt/local/lib/python2.7/site-packages/acme/client.py\", line 310, in request_issuance\n    headers={'Accept': content_type})\n  File \"/root/.local/share/letsencrypt/local/lib/python2.7/site-packages/acme/client.py\", line 634, in post\n    return self._check_response(response, content_type=content_type)\n  File \"/root/.local/share/letsencrypt/local/lib/python2.7/site-packages/acme/client.py\", line 550, in _check_response\n    raise messages.Error.from_json(jobj)\nError: urn:acme:error:malformed :: The request message was malformed :: Error unmarshaling certificate request\n```\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/1726/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/1726/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/1719", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/1719/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/1719/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/1719/events", "html_url": "https://github.com/certbot/certbot/issues/1719", "id": 120349478, "node_id": "MDU6SXNzdWUxMjAzNDk0Nzg=", "number": 1719, "title": "max_attempts in poll_and_ri should be per-authorization", "user": {"login": "kuba", "id": 106176, "node_id": "MDQ6VXNlcjEwNjE3Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/106176?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kuba", "html_url": "https://github.com/kuba", "followers_url": "https://api.github.com/users/kuba/followers", "following_url": "https://api.github.com/users/kuba/following{/other_user}", "gists_url": "https://api.github.com/users/kuba/gists{/gist_id}", "starred_url": "https://api.github.com/users/kuba/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kuba/subscriptions", "organizations_url": "https://api.github.com/users/kuba/orgs", "repos_url": "https://api.github.com/users/kuba/repos", "events_url": "https://api.github.com/users/kuba/events{/privacy}", "received_events_url": "https://api.github.com/users/kuba/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 277074172, "node_id": "MDU6TGFiZWwyNzcwNzQxNzI=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20acme", "name": "area: acme", "color": "c5def5", "default": false, "description": null}, {"id": 281347824, "node_id": "MDU6TGFiZWwyODEzNDc4MjQ=", "url": "https://api.github.com/repos/certbot/certbot/labels/has%20pr", "name": "has pr", "color": "0052cc", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/15", "html_url": "https://github.com/certbot/certbot/milestone/15", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/15/labels", "id": 1505957, "node_id": "MDk6TWlsZXN0b25lMTUwNTk1Nw==", "number": 15, "title": "0.3.0", "description": "In this release we will sign the new le-auto (#1665) to make it work in the field but (at least at first) not deploy it to mainstream users.", "creator": {"login": "pde", "id": 479213, "node_id": "MDQ6VXNlcjQ3OTIxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/479213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pde", "html_url": "https://github.com/pde", "followers_url": "https://api.github.com/users/pde/followers", "following_url": "https://api.github.com/users/pde/following{/other_user}", "gists_url": "https://api.github.com/users/pde/gists{/gist_id}", "starred_url": "https://api.github.com/users/pde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pde/subscriptions", "organizations_url": "https://api.github.com/users/pde/orgs", "repos_url": "https://api.github.com/users/pde/repos", "events_url": "https://api.github.com/users/pde/events{/privacy}", "received_events_url": "https://api.github.com/users/pde/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 27, "state": "closed", "created_at": "2016-01-13T23:51:16Z", "updated_at": "2016-01-28T17:55:42Z", "due_on": "2016-01-21T08:00:00Z", "closed_at": "2016-01-28T03:02:12Z"}, "comments": 1, "created_at": "2015-12-04T07:35:37Z", "updated_at": "2016-01-18T19:40:36Z", "closed_at": "2016-01-18T19:40:36Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "`poll_and_request_issuance([authz1, authz2], max_attempt=1)` is the simplest example, where the code fails, because `max_attempts` counts total number of attempts for all authorizations, instead of counting per authorization. With default limit of 10, this causes problems in practice - usually when people are using more than 10 domains.\n\nCore is not affected, because it doesn't use this retry loop. https://github.com/kuba/simp_le, however, is (and any other client using our library).\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/1719/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/1719/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/1556", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/1556/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/1556/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/1556/events", "html_url": "https://github.com/certbot/certbot/issues/1556", "id": 117633054, "node_id": "MDU6SXNzdWUxMTc2MzMwNTQ=", "number": 1556, "title": "Install failure on Ubuntu 14.04.1: virtualenv version, then OSError of some sort", "user": {"login": "gunsch", "id": 769353, "node_id": "MDQ6VXNlcjc2OTM1Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/769353?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gunsch", "html_url": "https://github.com/gunsch", "followers_url": "https://api.github.com/users/gunsch/followers", "following_url": "https://api.github.com/users/gunsch/following{/other_user}", "gists_url": "https://api.github.com/users/gunsch/gists{/gist_id}", "starred_url": "https://api.github.com/users/gunsch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gunsch/subscriptions", "organizations_url": "https://api.github.com/users/gunsch/orgs", "repos_url": "https://api.github.com/users/gunsch/repos", "events_url": "https://api.github.com/users/gunsch/events{/privacy}", "received_events_url": "https://api.github.com/users/gunsch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 276243379, "node_id": "MDU6TGFiZWwyNzYyNDMzNzk=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20certbot-auto", "name": "area: certbot-auto", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2015-11-18T17:06:10Z", "updated_at": "2017-03-11T19:16:16Z", "closed_at": "2016-01-08T03:14:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "First time I ran the script:\n\n$ ./letsencrypt-auto --agree-dev-preview --server \\\n\n> ```\n>   https://acme-v01.api.letsencrypt.org/directory auth\n> ```\n> \n> Bootstrapping dependencies for Debian-based OSes...\n> [sudo] password for gunsch:\n> Get:1 http://security.ubuntu.com trusty-updates InRelease [64.4 kB]\n> Ign http://us.archive.ubuntu.com trusty InRelease\n> Get:2 http://us.archive.ubuntu.com trusty-updates InRelease [64.4 kB]\n> Hit http://us.archive.ubuntu.com trusty Release.gpg\n> Get:3 http://us.archive.ubuntu.com trusty-updates/universe Sources [143 kB]\n> Get:4 http://us.archive.ubuntu.com trusty-updates/universe i386 Packages [328 kB]\n> Get:5 http://security.ubuntu.com trusty-security InRelease [64.4 kB]\n> Get:6 http://us.archive.ubuntu.com trusty-updates/universe Translation-en [172 kB]\n> Hit http://us.archive.ubuntu.com trusty Release\n> Hit http://us.archive.ubuntu.com trusty/main Sources\n> Hit http://us.archive.ubuntu.com trusty/restricted Sources\n> Hit http://us.archive.ubuntu.com trusty/universe Sources\n> Hit http://us.archive.ubuntu.com trusty/main i386 Packages\n> Hit http://us.archive.ubuntu.com trusty/restricted i386 Packages\n> Hit http://us.archive.ubuntu.com trusty/universe i386 Packages\n> Hit http://us.archive.ubuntu.com trusty/main Translation-en\n> Get:7 http://security.ubuntu.com trusty-updates/main Sources [244 kB]\n> Hit http://us.archive.ubuntu.com trusty/restricted Translation-en\n> Hit http://us.archive.ubuntu.com trusty/universe Translation-en\n> Get:8 http://security.ubuntu.com trusty-updates/restricted Sources [4722 B]\n> Get:9 http://security.ubuntu.com trusty-updates/main i386 Packages [631 kB]\n> Get:10 http://security.ubuntu.com trusty-updates/restricted i386 Packages [15.1 kB]\n> Get:11 http://security.ubuntu.com trusty-updates/main Translation-en [319 kB]\n> Get:12 http://security.ubuntu.com trusty-updates/restricted Translation-en [3569 B]\n> Get:13 http://security.ubuntu.com trusty-security/main Sources [99.2 kB]\n> Get:14 http://security.ubuntu.com trusty-security/restricted Sources [3357 B]\n> Get:15 http://security.ubuntu.com trusty-security/universe Sources [31.5 kB]\n> Get:16 http://security.ubuntu.com trusty-security/main i386 Packages [350 kB]\n> Get:17 http://security.ubuntu.com trusty-security/restricted i386 Packages [12.2 kB]\n> Get:18 http://security.ubuntu.com trusty-security/universe i386 Packages [119 kB]\n> Get:19 http://security.ubuntu.com trusty-security/main Translation-en [200 kB]\n> Get:20 http://security.ubuntu.com trusty-security/restricted Translation-en [3076 B]\n> Get:21 http://security.ubuntu.com trusty-security/universe Translation-en [69.6 kB]\n> Fetched 2943 kB in 14s (199 kB/s)\n> Reading package lists... Done\n> E: No packages found\n> Reading package lists... Done\n> Building dependency tree\n> Reading state information... Done\n> gcc is already the newest version.\n> gcc set to manually installed.\n> python is already the newest version.\n> python-dev is already the newest version.\n> git is already the newest version.\n> git set to manually installed.\n> The following packages were automatically installed and are no longer required:\n>   libavcodec53 libavdevice53 libavfilter2 libavformat53 libavutil51 libcaca0\n>   libcdio-cdda0 libcdio-paranoia0 libcdio10 libdc1394-22 libgsm1 libjack0\n>   libmp3lame0 libopenjpeg2 liborc-0.4-0 libpostproc52 libraw1394-11\n>   libschroedinger-1.0-0 libsdl1.2debian libspeex1 libswresample0 libswscale2\n>   libtheora0 libx264-120\n> Use 'apt-get autoremove' to remove them.\n> The following extra packages will be installed:\n>   augeas-lenses libssl1.0.0\n> Suggested packages:\n>   augeas-doc augeas-tools\n> Recommended packages:\n>   libssl-doc\n> The following NEW packages will be installed:\n>   augeas-lenses dialog libaugeas0 libffi-dev python-virtualenv\n> The following packages will be upgraded:\n>   ca-certificates libssl-dev libssl1.0.0\n> 3 upgraded, 5 newly installed, 0 to remove and 211 not upgraded.\n> Need to get 4194 kB of archives.\n> After this operation, 5113 kB of additional disk space will be used.\n> Get:1 http://us.archive.ubuntu.com/ubuntu/ trusty/main dialog i386 1.2-20130928-1 [294 kB]\n> Get:2 http://security.ubuntu.com/ubuntu/ trusty-updates/main libssl-dev i386 1.0.1f-1ubuntu2.15 [989 kB]\n> Get:3 http://us.archive.ubuntu.com/ubuntu/ trusty/universe python-virtualenv all 1.11.4-1 [1485 kB]\n> Get:4 http://us.archive.ubuntu.com/ubuntu/ trusty/main libffi-dev i386 3.1~rc1+r3.0.13-12 [99.0 kB]\n> Get:5 http://security.ubuntu.com/ubuntu/ trusty-updates/main libssl1.0.0 i386 1.0.1f-1ubuntu2.15 [780 kB]\n> Get:6 http://security.ubuntu.com/ubuntu/ trusty-updates/main ca-certificates all 20141019ubuntu0.14.04.1 [189 kB]\n> Get:7 http://security.ubuntu.com/ubuntu/ trusty-updates/main augeas-lenses all 1.2.0-0ubuntu1.1 [230 kB]\n> Get:8 http://security.ubuntu.com/ubuntu/ trusty-updates/main libaugeas0 i386 1.2.0-0ubuntu1.1 [129 kB]\n> Fetched 4194 kB in 21s (194 kB/s)\n> Preconfiguring packages ...\n> (Reading database ... 31453 files and directories currently installed.)\n> Preparing to unpack .../libssl-dev_1.0.1f-1ubuntu2.15_i386.deb ...\n> Unpacking libssl-dev:i386 (1.0.1f-1ubuntu2.15) over (1.0.1f-1ubuntu2.8) ...\n> Preparing to unpack .../libssl1.0.0_1.0.1f-1ubuntu2.15_i386.deb ...\n> Unpacking libssl1.0.0:i386 (1.0.1f-1ubuntu2.15) over (1.0.1f-1ubuntu2.8) ...\n> Preparing to unpack .../ca-certificates_20141019ubuntu0.14.04.1_all.deb ...\n> Unpacking ca-certificates (20141019ubuntu0.14.04.1) over (20130906ubuntu2) ...\n> Selecting previously unselected package augeas-lenses.\n> Preparing to unpack .../augeas-lenses_1.2.0-0ubuntu1.1_all.deb ...\n> Unpacking augeas-lenses (1.2.0-0ubuntu1.1) ...\n> Selecting previously unselected package dialog.\n> Preparing to unpack .../dialog_1.2-20130928-1_i386.deb ...\n> Unpacking dialog (1.2-20130928-1) ...\n> Selecting previously unselected package libaugeas0.\n> Preparing to unpack .../libaugeas0_1.2.0-0ubuntu1.1_i386.deb ...\n> Unpacking libaugeas0 (1.2.0-0ubuntu1.1) ...\n> Selecting previously unselected package python-virtualenv.\n> Preparing to unpack .../python-virtualenv_1.11.4-1_all.deb ...\n> Unpacking python-virtualenv (1.11.4-1) ...\n> Selecting previously unselected package libffi-dev:i386.\n> Preparing to unpack .../libffi-dev_3.1~rc1+r3.0.13-12_i386.deb ...\n> Unpacking libffi-dev:i386 (3.1~rc1+r3.0.13-12) ...\n> Processing triggers for man-db (2.6.7.1-1ubuntu1) ...\n> Processing triggers for install-info (5.2.0.dfsg.1-2) ...\n> Setting up libssl1.0.0:i386 (1.0.1f-1ubuntu2.15) ...\n> Setting up libssl-dev:i386 (1.0.1f-1ubuntu2.15) ...\n> Setting up ca-certificates (20141019ubuntu0.14.04.1) ...\n> Setting up augeas-lenses (1.2.0-0ubuntu1.1) ...\n> Setting up dialog (1.2-20130928-1) ...\n> Setting up libaugeas0 (1.2.0-0ubuntu1.1) ...\n> Setting up python-virtualenv (1.11.4-1) ...\n> Setting up libffi-dev:i386 (3.1~rc1+r3.0.13-12) ...\n> Processing triggers for libc-bin (2.19-0ubuntu6.5) ...\n> Processing triggers for ca-certificates (20141019ubuntu0.14.04.1) ...\n> Updating certificates in /etc/ssl/certs... 17 added, 8 removed; done.\n> Running hooks in /etc/ca-certificates/update.d....\n> Adding debian:ACCVRAIZ1.pem\n> Adding debian:Atos_TrustedRoot_2011.pem\n> Adding debian:DigiCert_Assured_ID_Root_G2.pem\n> Adding debian:DigiCert_Assured_ID_Root_G3.pem\n> Adding debian:DigiCert_Global_Root_G2.pem\n> Adding debian:DigiCert_Global_Root_G3.pem\n> Adding debian:DigiCert_Trusted_Root_G4.pem\n> Adding debian:E-Tugra_Certification_Authority.pem\n> Adding debian:QuoVadis_Root_CA_1_G3.pem\n> Adding debian:QuoVadis_Root_CA_2_G3.pem\n> Adding debian:QuoVadis_Root_CA_3_G3.pem\n> Adding debian:SG_TRUST_SERVICES_RACINE.pem\n> Adding debian:T-TeleSec_GlobalRoot_Class_2.pem\n> Adding debian:TWCA_Global_Root_CA.pem\n> Adding debian:TeliaSonera_Root_CA_v1.pem\n> Adding debian:WoSign.pem\n> Adding debian:WoSign_China.pem\n> Removing debian:Entrust.net_Secure_Server_CA.pem\n> Removing debian:Firmaprofesional_Root_CA.pem\n> Removing debian:RSA_Root_Certificate_1.pem\n> Removing debian:TDC_Internet_Root_CA.pem\n> Removing debian:TDC_OCES_Root_CA.pem\n> Removing debian:ValiCert_Class_1_VA.pem\n> Removing debian:ValiCert_Class_2_VA.pem\n> Removing debian:Wells_Fargo_Root_CA.pem\n> done.\n> done.\n> Creating virtual environment...\n> Traceback (most recent call last):\n>   File \"/usr/local/bin/virtualenv\", line 5, in <module>\n>     from pkg_resources import load_entry_point\n>   File \"/usr/lib/python2.7/dist-packages/pkg_resources.py\", line 2749, in <module>\n>     working_set = WorkingSet._build_master()\n>   File \"/usr/lib/python2.7/dist-packages/pkg_resources.py\", line 446, in _build_master\n>     return cls._build_from_requirements(__requires__)\n>   File \"/usr/lib/python2.7/dist-packages/pkg_resources.py\", line 459, in _build_from_requirements\n>     dists = ws.resolve(reqs, Environment())\n>   File \"/usr/lib/python2.7/dist-packages/pkg_resources.py\", line 628, in resolve\n>     raise DistributionNotFound(req)\n> pkg_resources.DistributionNotFound: virtualenv==1.8.4\n\nAfter this, I \"sudo pip install virtualenv==1.8.4\" and retried. I also wiped ~/letsencrypt (where I checked out the code) and ~/.local/share/letsencrypt and retried. Getting this failure since:\n\n$ ./letsencrypt-auto --agree-dev-preview --server \\\n\n> ```\n>  https://acme-v01.api.letsencrypt.org/directory auth\n> ```\n> \n> Bootstrapping dependencies for Debian-based OSes...\n> [sudo] password for gunsch:\n> Hit http://security.ubuntu.com trusty-updates InRelease\n> Ign http://us.archive.ubuntu.com trusty InRelease\n> Hit http://security.ubuntu.com trusty-security InRelease\n> Hit http://us.archive.ubuntu.com trusty-updates InRelease\n> Hit http://security.ubuntu.com trusty-updates/main Sources\n> Hit http://us.archive.ubuntu.com trusty Release.gpg\n> Hit http://security.ubuntu.com trusty-updates/restricted Sources\n> Hit http://us.archive.ubuntu.com trusty-updates/universe Sources\n> Hit http://security.ubuntu.com trusty-updates/main i386 Packages\n> Hit http://us.archive.ubuntu.com trusty-updates/universe i386 Packages\n> Hit http://security.ubuntu.com trusty-updates/restricted i386 Packages\n> Hit http://us.archive.ubuntu.com trusty-updates/universe Translation-en\n> Hit http://security.ubuntu.com trusty-updates/main Translation-en\n> Hit http://us.archive.ubuntu.com trusty Release\n> Hit http://security.ubuntu.com trusty-updates/restricted Translation-en\n> Hit http://us.archive.ubuntu.com trusty/main Sources\n> Hit http://security.ubuntu.com trusty-security/main Sources\n> Hit http://us.archive.ubuntu.com trusty/restricted Sources\n> Hit http://security.ubuntu.com trusty-security/restricted Sources\n> Hit http://us.archive.ubuntu.com trusty/universe Sources\n> Hit http://security.ubuntu.com trusty-security/universe Sources\n> Hit http://us.archive.ubuntu.com trusty/main i386 Packages\n> Hit http://security.ubuntu.com trusty-security/main i386 Packages\n> Hit http://us.archive.ubuntu.com trusty/restricted i386 Packages\n> Hit http://security.ubuntu.com trusty-security/restricted i386 Packages\n> Hit http://us.archive.ubuntu.com trusty/universe i386 Packages\n> Hit http://security.ubuntu.com trusty-security/universe i386 Packages\n> Hit http://us.archive.ubuntu.com trusty/main Translation-en\n> Hit http://security.ubuntu.com trusty-security/main Translation-en\n> Hit http://us.archive.ubuntu.com trusty/restricted Translation-en\n> Hit http://security.ubuntu.com trusty-security/restricted Translation-en\n> Hit http://us.archive.ubuntu.com trusty/universe Translation-en\n> Hit http://security.ubuntu.com trusty-security/universe Translation-en\n> Reading package lists... Done\n> E: No packages found\n> Reading package lists... Done\n> Building dependency tree\n> Reading state information... Done\n> dialog is already the newest version.\n> gcc is already the newest version.\n> libffi-dev is already the newest version.\n> python is already the newest version.\n> python-dev is already the newest version.\n> python-virtualenv is already the newest version.\n> ca-certificates is already the newest version.\n> git is already the newest version.\n> libaugeas0 is already the newest version.\n> libssl-dev is already the newest version.\n> The following packages were automatically installed and are no longer required:\n>   libavcodec53 libavdevice53 libavfilter2 libavformat53 libavutil51 libcaca0\n>   libcdio-cdda0 libcdio-paranoia0 libcdio10 libdc1394-22 libgsm1 libjack0\n>   libmp3lame0 libopenjpeg2 liborc-0.4-0 libpostproc52 libraw1394-11\n>   libschroedinger-1.0-0 libsdl1.2debian libspeex1 libswresample0 libswscale2\n>   libtheora0 libx264-120\n> Use 'apt-get autoremove' to remove them.\n> 0 upgraded, 0 newly installed, 0 to remove and 211 not upgraded.\n> Creating virtual environment...\n> Traceback (most recent call last):\n>   File \"/usr/local/lib/python2.7/dist-packages/virtualenv.py\", line 2560, in <module>\n>     main()\n>   File \"/usr/local/lib/python2.7/dist-packages/virtualenv.py\", line 964, in main\n>     never_download=options.never_download)\n>   File \"/usr/local/lib/python2.7/dist-packages/virtualenv.py\", line 1074, in create_environment\n>     search_dirs=search_dirs, never_download=never_download)\n>   File \"/usr/local/lib/python2.7/dist-packages/virtualenv.py\", line 611, in install_setuptools\n>     search_dirs=search_dirs, never_download=never_download)\n>   File \"/usr/local/lib/python2.7/dist-packages/virtualenv.py\", line 583, in _install_req\n>     cwd=cwd)\n>   File \"/usr/local/lib/python2.7/dist-packages/virtualenv.py\", line 1042, in call_subprocess\n>     % (cmd_desc, proc.returncode))\n> OSError: Command /home/gunsch/.local/...ncrypt/bin/python2.7 -c \"#!python\n> \\\"\\\"\\\"Bootstra...sys.argv[1:])\n\n\" /usr/local/lib/pytho...ols-0.6c11-py2.7.egg failed with error code 1\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/1556/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/1556/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/1529", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/1529/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/1529/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/1529/events", "html_url": "https://github.com/certbot/certbot/issues/1529", "id": 117298092, "node_id": "MDU6SXNzdWUxMTcyOTgwOTI=", "number": 1529, "title": "Does not recognize legitimate FQDNs", "user": {"login": "mrak", "id": 491140, "node_id": "MDQ6VXNlcjQ5MTE0MA==", "avatar_url": "https://avatars.githubusercontent.com/u/491140?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mrak", "html_url": "https://github.com/mrak", "followers_url": "https://api.github.com/users/mrak/followers", "following_url": "https://api.github.com/users/mrak/following{/other_user}", "gists_url": "https://api.github.com/users/mrak/gists{/gist_id}", "starred_url": "https://api.github.com/users/mrak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mrak/subscriptions", "organizations_url": "https://api.github.com/users/mrak/orgs", "repos_url": "https://api.github.com/users/mrak/repos", "events_url": "https://api.github.com/users/mrak/events{/privacy}", "received_events_url": "https://api.github.com/users/mrak/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2015-11-17T07:11:31Z", "updated_at": "2015-11-18T16:58:47Z", "closed_at": "2015-11-18T16:58:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "I own a `.graphics` domain, but the `letsencrypt` client gives the following error: \n\n```\nRequested domain is not a FQDN\n```\n\nI think this is from [configuration.py#L160](https://github.com/letsencrypt/letsencrypt/blob/5d9c32b583972e7581cecb5b2b51f0f73d509d6e/letsencrypt/configuration.py#L160) using an out-dated regex for the domain names. It limits the TLD to 6 characters, and `.graphics` is 8.\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/1529/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/1529/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/1432", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/1432/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/1432/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/1432/events", "html_url": "https://github.com/certbot/certbot/issues/1432", "id": 115938106, "node_id": "MDU6SXNzdWUxMTU5MzgxMDY=", "number": 1432, "title": "Asks about HTTPS redirect despite installer not supporting it", "user": {"login": "sesse", "id": 238700, "node_id": "MDQ6VXNlcjIzODcwMA==", "avatar_url": "https://avatars.githubusercontent.com/u/238700?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sesse", "html_url": "https://github.com/sesse", "followers_url": "https://api.github.com/users/sesse/followers", "following_url": "https://api.github.com/users/sesse/following{/other_user}", "gists_url": "https://api.github.com/users/sesse/gists{/gist_id}", "starred_url": "https://api.github.com/users/sesse/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sesse/subscriptions", "organizations_url": "https://api.github.com/users/sesse/orgs", "repos_url": "https://api.github.com/users/sesse/repos", "events_url": "https://api.github.com/users/sesse/events{/privacy}", "received_events_url": "https://api.github.com/users/sesse/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 200596079, "node_id": "MDU6TGFiZWwyMDA1OTYwNzk=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20ui%20/%20ux", "name": "area: ui / ux", "color": "c5def5", "default": false, "description": null}, {"id": 291660454, "node_id": "MDU6TGFiZWwyOTE2NjA0NTQ=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20security%20enhancements", "name": "area: security enhancements", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/12", "html_url": "https://github.com/certbot/certbot/milestone/12", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/12/labels", "id": 1450588, "node_id": "MDk6TWlsZXN0b25lMTQ1MDU4OA==", "number": 12, "title": "0.2.0", "description": "This release will improve packagability, and make our UX for letsencrypt-auto better where packages aren't yet available.", "creator": {"login": "pde", "id": 479213, "node_id": "MDQ6VXNlcjQ3OTIxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/479213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pde", "html_url": "https://github.com/pde", "followers_url": "https://api.github.com/users/pde/followers", "following_url": "https://api.github.com/users/pde/following{/other_user}", "gists_url": "https://api.github.com/users/pde/gists{/gist_id}", "starred_url": "https://api.github.com/users/pde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pde/subscriptions", "organizations_url": "https://api.github.com/users/pde/orgs", "repos_url": "https://api.github.com/users/pde/repos", "events_url": "https://api.github.com/users/pde/events{/privacy}", "received_events_url": "https://api.github.com/users/pde/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 47, "state": "closed", "created_at": "2015-12-08T19:20:06Z", "updated_at": "2016-01-19T00:53:39Z", "due_on": "2016-01-09T08:00:00Z", "closed_at": "2016-01-15T23:51:13Z"}, "comments": 1, "created_at": "2015-11-09T18:39:16Z", "updated_at": "2015-12-16T20:47:37Z", "closed_at": "2015-12-16T20:47:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\n\nI'm writing an installer plugin that will not support enhancements, and thus returns none:\n\n```\ndef supported_enhancements(self):\n    return []\n```\n\nNevertheless, on letsencrypt install (with this plugin), I get the choice \u201cPlease choose whether HTTPS access is required or optional.\u201d, and then I can choose between Easy or Secure. Shouldn't it check with the installer if it can do the \u201credirect\u201d enhancement before it asks? It just calls enhance() with no more ifs and buts, which fails.\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/1432/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/1432/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/1354", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/1354/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/1354/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/1354/events", "html_url": "https://github.com/certbot/certbot/issues/1354", "id": 115175104, "node_id": "MDU6SXNzdWUxMTUxNzUxMDQ=", "number": 1354, "title": "Removes config file during renewal resulting in error", "user": {"login": "kroeckx", "id": 1616242, "node_id": "MDQ6VXNlcjE2MTYyNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/1616242?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kroeckx", "html_url": "https://github.com/kroeckx", "followers_url": "https://api.github.com/users/kroeckx/followers", "following_url": "https://api.github.com/users/kroeckx/following{/other_user}", "gists_url": "https://api.github.com/users/kroeckx/gists{/gist_id}", "starred_url": "https://api.github.com/users/kroeckx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kroeckx/subscriptions", "organizations_url": "https://api.github.com/users/kroeckx/orgs", "repos_url": "https://api.github.com/users/kroeckx/repos", "events_url": "https://api.github.com/users/kroeckx/events{/privacy}", "received_events_url": "https://api.github.com/users/kroeckx/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 146954790, "node_id": "MDU6TGFiZWwxNDY5NTQ3OTA=", "url": "https://api.github.com/repos/certbot/certbot/labels/help%20wanted", "name": "help wanted", "color": "159818", "default": true, "description": null}, {"id": 258836903, "node_id": "MDU6TGFiZWwyNTg4MzY5MDM=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20apache", "name": "area: apache", "color": "c5def5", "default": false, "description": null}, {"id": 276680181, "node_id": "MDU6TGFiZWwyNzY2ODAxODE=", "url": "https://api.github.com/repos/certbot/certbot/labels/more-info", "name": "more-info", "color": "006b75", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/2", "html_url": "https://github.com/certbot/certbot/milestone/2", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/2/labels", "id": 966383, "node_id": "MDk6TWlsZXN0b25lOTY2Mzgz", "number": 2, "title": "1.0 for launch", "description": "", "creator": {"login": "pde", "id": 479213, "node_id": "MDQ6VXNlcjQ3OTIxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/479213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pde", "html_url": "https://github.com/pde", "followers_url": "https://api.github.com/users/pde/followers", "following_url": "https://api.github.com/users/pde/following{/other_user}", "gists_url": "https://api.github.com/users/pde/gists{/gist_id}", "starred_url": "https://api.github.com/users/pde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pde/subscriptions", "organizations_url": "https://api.github.com/users/pde/orgs", "repos_url": "https://api.github.com/users/pde/repos", "events_url": "https://api.github.com/users/pde/events{/privacy}", "received_events_url": "https://api.github.com/users/pde/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 79, "state": "closed", "created_at": "2015-02-05T00:42:45Z", "updated_at": "2016-07-06T23:16:33Z", "due_on": "2015-12-03T08:00:00Z", "closed_at": "2015-12-04T18:08:24Z"}, "comments": 6, "created_at": "2015-11-04T23:38:05Z", "updated_at": "2015-11-24T03:58:45Z", "closed_at": "2015-11-24T03:58:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm on a Debian system and I have the config files /etc/apache2/sites-available/  This is also where it's writing the new config file.  But to enable it I need to create a symlink in /etc/apache2/sites-enabled/.\n\nIt seems that somewhere during the renewal it removes the file in sites-available creating a dangling symlink which then results in an error trying to restart apache2, breaking the whole process.\n\nI also don't think it's a good idea to remove that file in any case, it will cause the site to go down even if you remove the symlink too.  Also, since I had to edit the file because of other bugs I would appreciate that you didn't revert my changes.\n\nOne thing I noticed that it says that my configuration was broken or something, not sure why it says that.  It was working perfectly.\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/1354/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/1354/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/1342", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/1342/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/1342/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/1342/events", "html_url": "https://github.com/certbot/certbot/issues/1342", "id": 115138315, "node_id": "MDU6SXNzdWUxMTUxMzgzMTU=", "number": 1342, "title": "Persistence of .pyc files causes periodic local tox failures", "user": {"login": "pde", "id": 479213, "node_id": "MDQ6VXNlcjQ3OTIxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/479213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pde", "html_url": "https://github.com/pde", "followers_url": "https://api.github.com/users/pde/followers", "following_url": "https://api.github.com/users/pde/following{/other_user}", "gists_url": "https://api.github.com/users/pde/gists{/gist_id}", "starred_url": "https://api.github.com/users/pde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pde/subscriptions", "organizations_url": "https://api.github.com/users/pde/orgs", "repos_url": "https://api.github.com/users/pde/repos", "events_url": "https://api.github.com/users/pde/events{/privacy}", "received_events_url": "https://api.github.com/users/pde/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 263357278, "node_id": "MDU6TGFiZWwyNjMzNTcyNzg=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20testing", "name": "area: testing", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2015-11-04T20:18:22Z", "updated_at": "2017-08-31T22:51:25Z", "closed_at": "2017-08-31T22:51:25Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "I just wasted a bunch of time chasing down another instance of this. We should probably rm them in the `dev/venv.sh` script, at the very least.\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/1342/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/1342/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/1326", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/1326/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/1326/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/1326/events", "html_url": "https://github.com/certbot/certbot/issues/1326", "id": 115054076, "node_id": "MDU6SXNzdWUxMTUwNTQwNzY=", "number": 1326, "title": "renewer fails due to http01_port = None", "user": {"login": "marcan", "id": 98387, "node_id": "MDQ6VXNlcjk4Mzg3", "avatar_url": "https://avatars.githubusercontent.com/u/98387?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marcan", "html_url": "https://github.com/marcan", "followers_url": "https://api.github.com/users/marcan/followers", "following_url": "https://api.github.com/users/marcan/following{/other_user}", "gists_url": "https://api.github.com/users/marcan/gists{/gist_id}", "starred_url": "https://api.github.com/users/marcan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marcan/subscriptions", "organizations_url": "https://api.github.com/users/marcan/orgs", "repos_url": "https://api.github.com/users/marcan/repos", "events_url": "https://api.github.com/users/marcan/events{/privacy}", "received_events_url": "https://api.github.com/users/marcan/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 261409142, "node_id": "MDU6TGFiZWwyNjE0MDkxNDI=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20renewal", "name": "area: renewal", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-11-04T13:44:03Z", "updated_at": "2016-02-19T00:42:27Z", "closed_at": "2016-02-19T00:42:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "By default, letsencrypt writes `http01_port = None` to the renewal config file. However, the renewer expects an int, and fails:\n\n```\nTraceback (most recent call last):\n  File \"/usr/bin/letsencrypt-renewer\", line 9, in <module>\n    load_entry_point('letsencrypt==0.1.0.dev0', 'console_scripts', 'letsencrypt-renewer')()\n  File \"/usr/lib64/python2.7/site-packages/letsencrypt-0.1.0.dev0-py2.7.egg/letsencrypt/renewer.py\", line 196, in main\n    renew(cert, old_version)\n  File \"/usr/lib64/python2.7/site-packages/letsencrypt-0.1.0.dev0-py2.7.egg/letsencrypt/renewer.py\", line 79, in renew\n    config.namespace.http01_port = int(config.namespace.http01_port)\nValueError: invalid literal for int() with base 10: 'None'\n```\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/1326/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/1326/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/1280", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/1280/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/1280/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/1280/events", "html_url": "https://github.com/certbot/certbot/issues/1280", "id": 114497628, "node_id": "MDU6SXNzdWUxMTQ0OTc2Mjg=", "number": 1280, "title": "\"Validation payload has improper value for field token\"", "user": {"login": "mpl", "id": 626071, "node_id": "MDQ6VXNlcjYyNjA3MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/626071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mpl", "html_url": "https://github.com/mpl", "followers_url": "https://api.github.com/users/mpl/followers", "following_url": "https://api.github.com/users/mpl/following{/other_user}", "gists_url": "https://api.github.com/users/mpl/gists{/gist_id}", "starred_url": "https://api.github.com/users/mpl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mpl/subscriptions", "organizations_url": "https://api.github.com/users/mpl/orgs", "repos_url": "https://api.github.com/users/mpl/repos", "events_url": "https://api.github.com/users/mpl/events{/privacy}", "received_events_url": "https://api.github.com/users/mpl/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2015-11-01T22:37:25Z", "updated_at": "2017-08-31T22:51:38Z", "closed_at": "2017-08-31T22:49:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "Command used:\n./letsencrypt-auto --agree-dev-preview -d granivo.re --server https://acme-v01.api.letsencrypt.org/directory -vvvvvvv auth\n\nOutput:\nFailed authorization procedure. granivo.re (simpleHttp): unauthorized :: The client lacks sufficient authorization :: Validation payload has improper value for field token\n\nIMPORTANT NOTES:\n- The following 'unauthorized' errors were reported by the server:\n  \n  Domains: granivo.re\n  Error: The client lacks sufficient authorization\n  \n  To fix these errors, please make sure that your domain name was\n  entered correctly and the DNS A record(s) for that domain contains\n  the right IP address.\n\nLog:\nhttp://pastebin.com/pkweHbDe\n\n./letsencrypt-auto --version:\nletsencrypt 0.0.0.dev20151030\n\nOS:\nUbuntu 12.04.5 LTS\n\nInstallation method:\nletsencrypt-auto\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/1280/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/1280/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/1270", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/1270/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/1270/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/1270/events", "html_url": "https://github.com/certbot/certbot/issues/1270", "id": 114458218, "node_id": "MDU6SXNzdWUxMTQ0NTgyMTg=", "number": 1270, "title": "Letsencrypt deinstalls postfix on FreeBSD", "user": {"login": "mfechner", "id": 5580248, "node_id": "MDQ6VXNlcjU1ODAyNDg=", "avatar_url": "https://avatars.githubusercontent.com/u/5580248?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mfechner", "html_url": "https://github.com/mfechner", "followers_url": "https://api.github.com/users/mfechner/followers", "following_url": "https://api.github.com/users/mfechner/following{/other_user}", "gists_url": "https://api.github.com/users/mfechner/gists{/gist_id}", "starred_url": "https://api.github.com/users/mfechner/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mfechner/subscriptions", "organizations_url": "https://api.github.com/users/mfechner/orgs", "repos_url": "https://api.github.com/users/mfechner/repos", "events_url": "https://api.github.com/users/mfechner/events{/privacy}", "received_events_url": "https://api.github.com/users/mfechner/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 276243379, "node_id": "MDU6TGFiZWwyNzYyNDMzNzk=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20certbot-auto", "name": "area: certbot-auto", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-11-01T09:34:39Z", "updated_at": "2018-09-18T23:55:51Z", "closed_at": "2018-09-18T23:55:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "Install letsencrypt and start it on FreeBSD with:\n./letsencrypt-auto --agree-dev-preview --server https://acme-v01.api.letsencrypt.org/directory auth\n\nIt killed my complete mailsetup as it starts to install packages using pkg on FreeBSD and does not use the already installed packages.\nIt uninstalled postfix and installed sendmail, this can be seen as absolutely critical, this needs really to be fixed, as the complete mailsetup on this system is now destroyed and I have to reinstall all manually now.\n\nSuggestion: If you start to install software on the computer with root privileges, ask the user before.\nHere the user should get a prompt and endless time to read what he is doing!\nI do not even have an idea how letsencrypt can do this, as I was logged in as normal user.\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/1270/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/1270/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/1243", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/1243/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/1243/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/1243/events", "html_url": "https://github.com/certbot/certbot/issues/1243", "id": 114375107, "node_id": "MDU6SXNzdWUxMTQzNzUxMDc=", "number": 1243, "title": "apache install - Unable to finalize checkpoint", "user": {"login": "charlesay", "id": 10878534, "node_id": "MDQ6VXNlcjEwODc4NTM0", "avatar_url": "https://avatars.githubusercontent.com/u/10878534?v=4", "gravatar_id": "", "url": "https://api.github.com/users/charlesay", "html_url": "https://github.com/charlesay", "followers_url": "https://api.github.com/users/charlesay/followers", "following_url": "https://api.github.com/users/charlesay/following{/other_user}", "gists_url": "https://api.github.com/users/charlesay/gists{/gist_id}", "starred_url": "https://api.github.com/users/charlesay/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/charlesay/subscriptions", "organizations_url": "https://api.github.com/users/charlesay/orgs", "repos_url": "https://api.github.com/users/charlesay/repos", "events_url": "https://api.github.com/users/charlesay/events{/privacy}", "received_events_url": "https://api.github.com/users/charlesay/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 258836903, "node_id": "MDU6TGFiZWwyNTg4MzY5MDM=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20apache", "name": "area: apache", "color": "c5def5", "default": false, "description": null}, {"id": 281347824, "node_id": "MDU6TGFiZWwyODEzNDc4MjQ=", "url": "https://api.github.com/repos/certbot/certbot/labels/has%20pr", "name": "has pr", "color": "0052cc", "default": false, "description": null}, {"id": 291660454, "node_id": "MDU6TGFiZWwyOTE2NjA0NTQ=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20security%20enhancements", "name": "area: security enhancements", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "pde", "id": 479213, "node_id": "MDQ6VXNlcjQ3OTIxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/479213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pde", "html_url": "https://github.com/pde", "followers_url": "https://api.github.com/users/pde/followers", "following_url": "https://api.github.com/users/pde/following{/other_user}", "gists_url": "https://api.github.com/users/pde/gists{/gist_id}", "starred_url": "https://api.github.com/users/pde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pde/subscriptions", "organizations_url": "https://api.github.com/users/pde/orgs", "repos_url": "https://api.github.com/users/pde/repos", "events_url": "https://api.github.com/users/pde/events{/privacy}", "received_events_url": "https://api.github.com/users/pde/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "pde", "id": 479213, "node_id": "MDQ6VXNlcjQ3OTIxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/479213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pde", "html_url": "https://github.com/pde", "followers_url": "https://api.github.com/users/pde/followers", "following_url": "https://api.github.com/users/pde/following{/other_user}", "gists_url": "https://api.github.com/users/pde/gists{/gist_id}", "starred_url": "https://api.github.com/users/pde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pde/subscriptions", "organizations_url": "https://api.github.com/users/pde/orgs", "repos_url": "https://api.github.com/users/pde/repos", "events_url": "https://api.github.com/users/pde/events{/privacy}", "received_events_url": "https://api.github.com/users/pde/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/18", "html_url": "https://github.com/certbot/certbot/milestone/18", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/18/labels", "id": 1591649, "node_id": "MDk6TWlsZXN0b25lMTU5MTY0OQ==", "number": 18, "title": "0.6.0", "description": "Nginx and client rename", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 79, "state": "closed", "created_at": "2016-02-18T20:41:33Z", "updated_at": "2016-08-05T01:47:43Z", "due_on": "2016-05-10T07:00:00Z", "closed_at": "2016-05-12T22:27:44Z"}, "comments": 16, "created_at": "2015-10-31T00:03:21Z", "updated_at": "2017-09-27T07:47:49Z", "closed_at": "2016-04-13T00:23:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "after generating the certificates I was unable to make them operational, first by entering the paths in the apache-config files.\n\nrunning `./letsencrypt-auto install --apache --cert-path /etc/letsencrypt/live/www.eiserneketten.de/cert.pem --key-path /etc/letsencrypt/live/www.eiserneketten.de/privkey.pem` results in the error \nmore extensive excerpt from the log, can't paste it here in full\n\n> Unable to finalize checkpoint \n> 2015-10-30 23:26:49,074:DEBUG:letsencrypt.error_handler:Encountered exception:\n> Traceback (most recent call last):\n> File \"/home/server/.local/share/letsencrypt/local/lib/python2.7/site-packages/letsencrypt/client.py\", line 330, in deploy_certificate\n>    self.installer.save(\"Deployed Let's Encrypt Certificate\")\n> File \"/home/server/.local/share/letsencrypt/local/lib/python2.7/site-packages/letsencrypt_apache/augeas_configurator.py\", line 125, in save\n>    raise errors.PluginError(str(err))\n> PluginError: Unable to add title\n> \n> 2015-10-30 23:26:49,074:DEBUG:letsencrypt.error_handler:Calling registered functions\n> 2015-10-30 23:26:49,179:DEBUG:letsencrypt.cli:Exiting abnormally:\n> Traceback (most recent call last):\n> File \"/home/server/.local/share/letsencrypt/bin/letsencrypt\", line 11, in <module>\n>     sys.exit(main())\n> File \"/home/server/.local/share/letsencrypt/local/lib/python2.7/site-packages/letsencrypt/cli.py\", line 1131, in main\n>  return args.func(args, config, plugins)\n> File \"/home/server/.local/share/letsencrypt/local/lib/python2.7/site-packages/letsencrypt/cli.py\", line 507, in install\n>    args.fullchain_pa2015-10-30 23:26:49,074:DEBUG:letsencrypt.error_handler:Encountered exception:\n> Traceback (most recent call last):\n> File \"/home/server/.local/share/letsencrypt/local/lib/python2.7/site-packages/letsencrypt /client.py\", line 330, in deploy_certificate\n>    self.installer.save(\"Deployed Let's Encrypt Certificate\")\n>  File \"/home/server/.local/share/letsencrypt/local/lib/python2.7/site-packages/letsencrypt_apache /augeas_configurator.py\", line 125, in save\n>    raise errors.PluginError(str(err))\n> PluginError: Unable to add title\n> \n> 2015-10-30 23:26:49,074:DEBUG:letsencrypt.error_handler:Calling registered functions\n> 2015-10-30 23:26:49,179:DEBUG:letsencrypt.cli:Exiting abnormally:\n> Traceback (most recent call last):\n>  File \"/home/server/.local/share/letsencrypt/bin/letsencrypt\", line 11, in <module>\n>     sys.exit(main())\n>  File \"/home/server/.local/share/letsencrypt/local/lib/python2.7/site-packages/letsencrypt/cli.py\",  line 1131, in main\n>    return args.func(args, config, plugins)\n>  File \"/home/server/.local/share/letsencrypt/local/lib/python2.7/site-packages/letsencrypt/cli.py\", line 507, in install\n>   args.fullchain_path)\n> File \"/home/server/.local/share/letsencrypt/local/lib/python2.7/site-packages/letsencrypt /client.py\", line 330, in deploy_certificate\n>    self.installer.save(\"Deployed Let's Encrypt Certificate\")\n>  File \"/home/server/.local/share/letsencrypt/local/lib/python2.7/site-packages/letsencrypt_apache/augeas_configurator.py\", line 125, in save\n>    raise errors.PluginError(str(err)th)\n>  File \"/home/server/.local/share/letsencrypt/local/lib/python2.7/site-packages/letsencrypt/client.py\", line 330, in deploy_certificate\n>    self.installer.save(\"Deployed Let's Encrypt Certificate\")\n> File \"/home/server/.local/share/letsencrypt/local/lib/python2.7/site-packages/letsencrypt_apache/augeas_configurator.py\", line 125, in save\n>   raise errors.PluginError(str(err)\n> adding title\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/1243/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/1243/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/1214", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/1214/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/1214/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/1214/events", "html_url": "https://github.com/certbot/certbot/issues/1214", "id": 114325946, "node_id": "MDU6SXNzdWUxMTQzMjU5NDY=", "number": 1214, "title": "Crash in storage.py if user deleted accounts directory", "user": {"login": "schoen", "id": 1750103, "node_id": "MDQ6VXNlcjE3NTAxMDM=", "avatar_url": "https://avatars.githubusercontent.com/u/1750103?v=4", "gravatar_id": "", "url": "https://api.github.com/users/schoen", "html_url": "https://github.com/schoen", "followers_url": "https://api.github.com/users/schoen/followers", "following_url": "https://api.github.com/users/schoen/following{/other_user}", "gists_url": "https://api.github.com/users/schoen/gists{/gist_id}", "starred_url": "https://api.github.com/users/schoen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/schoen/subscriptions", "organizations_url": "https://api.github.com/users/schoen/orgs", "repos_url": "https://api.github.com/users/schoen/repos", "events_url": "https://api.github.com/users/schoen/events{/privacy}", "received_events_url": "https://api.github.com/users/schoen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 210831837, "node_id": "MDU6TGFiZWwyMTA4MzE4Mzc=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20cert%20management", "name": "area: cert management", "color": "c5def5", "default": false, "description": null}, {"id": 261409142, "node_id": "MDU6TGFiZWwyNjE0MDkxNDI=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20renewal", "name": "area: renewal", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/3", "html_url": "https://github.com/certbot/certbot/milestone/3", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/3/labels", "id": 966385, "node_id": "MDk6TWlsZXN0b25lOTY2Mzg1", "number": 3, "title": "2.0.0", "description": "", "creator": {"login": "pde", "id": 479213, "node_id": "MDQ6VXNlcjQ3OTIxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/479213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pde", "html_url": "https://github.com/pde", "followers_url": "https://api.github.com/users/pde/followers", "following_url": "https://api.github.com/users/pde/following{/other_user}", "gists_url": "https://api.github.com/users/pde/gists{/gist_id}", "starred_url": "https://api.github.com/users/pde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pde/subscriptions", "organizations_url": "https://api.github.com/users/pde/orgs", "repos_url": "https://api.github.com/users/pde/repos", "events_url": "https://api.github.com/users/pde/events{/privacy}", "received_events_url": "https://api.github.com/users/pde/received_events", "type": "User", "site_admin": false}, "open_issues": 2, "closed_issues": 39, "state": "closed", "created_at": "2015-02-05T00:42:54Z", "updated_at": "2020-04-23T04:23:53Z", "due_on": null, "closed_at": "2016-01-14T22:00:27Z"}, "comments": 6, "created_at": "2015-10-30T18:16:48Z", "updated_at": "2018-12-10T22:34:34Z", "closed_at": "2018-12-10T22:34:33Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Reported at https://community.letsencrypt.org/t/storage-py-nonetype-found/2529\n\nIf a user deletes the entire `accounts` directory, `storage.py` gives a crash on next run.\n\nDeleting `accounts` without deleting the associated certs is not a recommended action (effectively it creates a referential integrity problem between the two), but maybe `storage.py` should be more robust and can give a more specific and useful error. I'll also file a related issue about how to change e-mail addresses, which in this case is what the user was trying to do.\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/1214/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/1214/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/1195", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/1195/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/1195/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/1195/events", "html_url": "https://github.com/certbot/certbot/issues/1195", "id": 114076765, "node_id": "MDU6SXNzdWUxMTQwNzY3NjU=", "number": 1195, "title": "Messing with /etc/letsencrypt leads to An unexpected error occurred. TypeError: coercing to Unicode: need string or buffer, NoneType found.", "user": {"login": "erebus2", "id": 14859312, "node_id": "MDQ6VXNlcjE0ODU5MzEy", "avatar_url": "https://avatars.githubusercontent.com/u/14859312?v=4", "gravatar_id": "", "url": "https://api.github.com/users/erebus2", "html_url": "https://github.com/erebus2", "followers_url": "https://api.github.com/users/erebus2/followers", "following_url": "https://api.github.com/users/erebus2/following{/other_user}", "gists_url": "https://api.github.com/users/erebus2/gists{/gist_id}", "starred_url": "https://api.github.com/users/erebus2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/erebus2/subscriptions", "organizations_url": "https://api.github.com/users/erebus2/orgs", "repos_url": "https://api.github.com/users/erebus2/repos", "events_url": "https://api.github.com/users/erebus2/events{/privacy}", "received_events_url": "https://api.github.com/users/erebus2/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2015-10-29T15:34:59Z", "updated_at": "2018-09-18T01:31:07Z", "closed_at": "2018-09-18T01:30:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello everyone,\n\nI got yet another problem with letsencrypt. :-(\n\nFirst of all, I was able to obtain and install several letsencrypt certificates although I had to use the standalone authenticator. (the apache plugin is broken for me, but that's a different issue.)\n\nHowever, after I had obtained several certificates, letsencrypt suddenly stopped working.\n\nNow, when I try to request a cert, I just get the following error:\n\n   An unexpected error occurred.\n   TypeError: coercing to Unicode: need string or buffer, NoneType found\n   Please see the logfiles in /var/log/letsencrypt for more details.\n\nThe error happens just after I have typed the domain name which I need the certificate for. It happens with both authenticators (manual and standalone) and it happens with every domain name I tried.\n\nThese are the last lines of the logfile:\n\n```\n[...]\n2015-10-29 14:15:32,882:DEBUG:root:Sending GET request to https://acme-v01.api.letsencrypt.org/directory. args: (), kwargs: {}\n2015-10-29 14:15:32,909:INFO:requests.packages.urllib3.connectionpool:Starting new HTTPS connection (1): acme-v01.api.letsencrypt.org\n2015-10-29 14:15:33,851:DEBUG:requests.packages.urllib3.connectionpool:\"GET /directory HTTP/1.1\" 200 263\n2015-10-29 14:15:33,856:DEBUG:root:Received <Response [200]>. Headers: {'Content-Length': '263', 'Expires': 'Thu, 29 Oct 2015 14:19:37 GMT', 'Strict-Transport-Security': 'max-age=604800', 'Server': 'nginx', 'Connection': 'keep-alive', 'Pragma': 'no-cache', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Date': 'Thu, 29 Oct 2015 14:19:37 GMT', 'X-Frame-Options': 'DENY', 'Content-Type': 'application/json', 'Access-Control-Allow-Origin': '*', 'Replay-Nonce': '***'}. Content: '{\"new-authz\":\"https://acme-v01.api.letsencrypt.org/acme/new-authz\",\"new-cert\":\"https://acme-v01.api.letsencrypt.org/acme/new-cert\",\"new-reg\":\"https://acme-v01.api.letsencrypt.org/acme/new-reg\",\"revoke-cert\":\"https://acme-v01.api.letsencrypt.org/acme/revoke-cert\"}'\n2015-10-29 14:15:33,859:DEBUG:acme.client:Received response <Response [200]> (headers: {'Content-Length': '263', 'Expires': 'Thu, 29 Oct 2015 14:19:37 GMT', 'Strict-Transport-Security': 'max-age=604800', 'Server': 'nginx', 'Connection': 'keep-alive', 'Pragma': 'no-cache', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Date': 'Thu, 29 Oct 2015 14:19:37 GMT', 'X-Frame-Options': 'DENY', 'Content-Type': 'application/json', 'Access-Control-Allow-Origin': '*', 'Replay-Nonce': '***'}): '{\"new-authz\":\"https://acme-v01.api.letsencrypt.org/acme/new-authz\",\"new-cert\":\"https://acme-v01.api.letsencrypt.org/acme/new-cert\",\"new-reg\":\"https://acme-v01.api.letsencrypt.org/acme/new-reg\",\"revoke-cert\":\"https://acme-v01.api.letsencrypt.org/acme/revoke-cert\"}'\n2015-10-29 14:15:33,859:DEBUG:letsencrypt.display.ops:No installer, picking names manually\n2015-10-29 14:15:38,067:DEBUG:letsencrypt.cli:Exiting abnormally:\nTraceback (most recent call last):\n  File \"/root/.local/share/letsencrypt/bin/letsencrypt\", line 11, in <module>\nsys.exit(main())\n  File \"/root/.local/share/letsencrypt/local/lib/python2.7/site-packages/letsencrypt/cli.py\", line 1097, in main\nreturn args.func(args, config, plugins)\n  File \"/root/.local/share/letsencrypt/local/lib/python2.7/site-packages/letsencrypt/cli.py\", line 473, in auth\n_auth_from_domains(le_client, config, domains, plugins)\n  File \"/root/.local/share/letsencrypt/local/lib/python2.7/site-packages/letsencrypt/cli.py\", line 295, in _auth_from_domains\nlineage = _treat_as_renewal(config, domains)\n  File \"/root/.local/share/letsencrypt/local/lib/python2.7/site-packages/letsencrypt/cli.py\", line 215, in _treat_as_renewal\nconfig, domains)\n  File \"/root/.local/share/letsencrypt/local/lib/python2.7/site-packages/letsencrypt/cli.py\", line 189, in _find_duplicative_certs\ncandidate_names = set(candidate_lineage.names())\n  File \"/root/.local/share/letsencrypt/local/lib/python2.7/site-packages/letsencrypt/storage.py\", line 435, in names\nwith open(target) as f:\nTypeError: coercing to Unicode: need string or buffer, NoneType found\n```\n\nWhat the heck is happening here??????????????\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/1195/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/1195/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/1165", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/1165/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/1165/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/1165/events", "html_url": "https://github.com/certbot/certbot/issues/1165", "id": 113713893, "node_id": "MDU6SXNzdWUxMTM3MTM4OTM=", "number": 1165, "title": "jwk thumbprint is mismade", "user": {"login": "jmhodges", "id": 598, "node_id": "MDQ6VXNlcjU5OA==", "avatar_url": "https://avatars.githubusercontent.com/u/598?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jmhodges", "html_url": "https://github.com/jmhodges", "followers_url": "https://api.github.com/users/jmhodges/followers", "following_url": "https://api.github.com/users/jmhodges/following{/other_user}", "gists_url": "https://api.github.com/users/jmhodges/gists{/gist_id}", "starred_url": "https://api.github.com/users/jmhodges/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jmhodges/subscriptions", "organizations_url": "https://api.github.com/users/jmhodges/orgs", "repos_url": "https://api.github.com/users/jmhodges/repos", "events_url": "https://api.github.com/users/jmhodges/events{/privacy}", "received_events_url": "https://api.github.com/users/jmhodges/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 277074172, "node_id": "MDU6TGFiZWwyNzcwNzQxNzI=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20acme", "name": "area: acme", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/2", "html_url": "https://github.com/certbot/certbot/milestone/2", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/2/labels", "id": 966383, "node_id": "MDk6TWlsZXN0b25lOTY2Mzgz", "number": 2, "title": "1.0 for launch", "description": "", "creator": {"login": "pde", "id": 479213, "node_id": "MDQ6VXNlcjQ3OTIxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/479213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pde", "html_url": "https://github.com/pde", "followers_url": "https://api.github.com/users/pde/followers", "following_url": "https://api.github.com/users/pde/following{/other_user}", "gists_url": "https://api.github.com/users/pde/gists{/gist_id}", "starred_url": "https://api.github.com/users/pde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pde/subscriptions", "organizations_url": "https://api.github.com/users/pde/orgs", "repos_url": "https://api.github.com/users/pde/repos", "events_url": "https://api.github.com/users/pde/events{/privacy}", "received_events_url": "https://api.github.com/users/pde/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 79, "state": "closed", "created_at": "2015-02-05T00:42:45Z", "updated_at": "2016-07-06T23:16:33Z", "due_on": "2015-12-03T08:00:00Z", "closed_at": "2015-12-04T18:08:24Z"}, "comments": 5, "created_at": "2015-10-27T23:54:13Z", "updated_at": "2015-10-29T01:18:20Z", "closed_at": "2015-10-29T01:18:20Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The JWK.thumbprint method isn't quite right. \n\nI think the problem is that the `json.dumps` the thumbprint method uses can mis-order the keys in the JSON hash. There is an order that [RFC7638](https://tools.ietf.org/html/rfc7638#section-3.3) says the keys must be in. The go-jose code does that with this line of code: https://github.com/square/go-jose/blob/4ddd71883fa547d37fbf598071f04512d8bafee3/jwk.go#L155\n\nGoing off the go-jose test vectors, this RSA public key JWK: \n\n```\n{\n    \"kty\": \"RSA\",\n    \"kid\": \"bilbo.baggins@hobbiton.example\",\n    \"use\": \"sig\",\n    \"n\": \"n4EPtAOCc9AlkeQHPzHStgAbgs7bTZLwUBZdR8_KuKPEHLd4rHVTeT-O-XV2jRojdNhxJWTDvNd7nqQ0VEiZQHz_AJmSCpMaJMRBSFKrKb2wqVwGU_NsYOYL-QtiWN2lbzcEe6XC0dApr5ydQLrHqkHHig3RBordaZ6Aj-oBHqFEHYpPe7Tpe-OfVfHd1E6cS6M1FZcD1NNLYD5lFHpPI9bTwJlsde3uhGqC0ZCuEHg8lhzwOHrtIQbS0FVbb9k3-tVTU4fg_3L_vniUFAKwuCLqKnS2BYwdq_mzSnbLY7h_qixoR7jig3__kRhuaxwUkRz5iaiQkqgc5gHdrNP5zw\",\n \"e\": \"AQAB\"\n}\n```\n\nmust be thumbprinted into `f63838e96077ad1fc01c3f8405774dedc0641f558ebb4b40dccf5f9b6d66a932`.\n\nIn case I fat-fingered the key or its hash, here they are in the go-jose tests: https://github.com/square/go-jose/blob/4ddd71883fa547d37fbf598071f04512d8bafee3/jwk_test.go#L331-L344 and https://github.com/square/go-jose/blob/4ddd71883fa547d37fbf598071f04512d8bafee3/jwk_test.go#L384\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/1165/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/1165/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/1157", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/1157/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/1157/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/1157/events", "html_url": "https://github.com/certbot/certbot/issues/1157", "id": 113686412, "node_id": "MDU6SXNzdWUxMTM2ODY0MTI=", "number": 1157, "title": "Webroot plugin not visible from menu", "user": {"login": "kuba", "id": 106176, "node_id": "MDQ6VXNlcjEwNjE3Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/106176?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kuba", "html_url": "https://github.com/kuba", "followers_url": "https://api.github.com/users/kuba/followers", "following_url": "https://api.github.com/users/kuba/following{/other_user}", "gists_url": "https://api.github.com/users/kuba/gists{/gist_id}", "starred_url": "https://api.github.com/users/kuba/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kuba/subscriptions", "organizations_url": "https://api.github.com/users/kuba/orgs", "repos_url": "https://api.github.com/users/kuba/repos", "events_url": "https://api.github.com/users/kuba/events{/privacy}", "received_events_url": "https://api.github.com/users/kuba/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 276243286, "node_id": "MDU6TGFiZWwyNzYyNDMyODY=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20webroot", "name": "area: webroot", "color": "c5def5", "default": false, "description": null}, {"id": 281347824, "node_id": "MDU6TGFiZWwyODEzNDc4MjQ=", "url": "https://api.github.com/repos/certbot/certbot/labels/has%20pr", "name": "has pr", "color": "0052cc", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/16", "html_url": "https://github.com/certbot/certbot/milestone/16", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/16/labels", "id": 1549770, "node_id": "MDk6TWlsZXN0b25lMTU0OTc3MA==", "number": 16, "title": "0.5.0", "description": "Renewal and plugin polish", "creator": {"login": "pde", "id": 479213, "node_id": "MDQ6VXNlcjQ3OTIxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/479213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pde", "html_url": "https://github.com/pde", "followers_url": "https://api.github.com/users/pde/followers", "following_url": "https://api.github.com/users/pde/following{/other_user}", "gists_url": "https://api.github.com/users/pde/gists{/gist_id}", "starred_url": "https://api.github.com/users/pde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pde/subscriptions", "organizations_url": "https://api.github.com/users/pde/orgs", "repos_url": "https://api.github.com/users/pde/repos", "events_url": "https://api.github.com/users/pde/events{/privacy}", "received_events_url": "https://api.github.com/users/pde/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 70, "state": "closed", "created_at": "2016-01-28T19:37:09Z", "updated_at": "2016-08-10T00:05:05Z", "due_on": "2016-03-24T07:00:00Z", "closed_at": "2016-04-06T01:14:41Z"}, "comments": 1, "created_at": "2015-10-27T20:52:23Z", "updated_at": "2016-04-05T01:36:20Z", "closed_at": "2016-04-05T01:36:20Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "This is because it requires `--webroot-path` to be set.\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/1157/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/1157/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/1149", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/1149/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/1149/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/1149/events", "html_url": "https://github.com/certbot/certbot/issues/1149", "id": 113494669, "node_id": "MDU6SXNzdWUxMTM0OTQ2Njk=", "number": 1149, "title": "Standalone should verify ports for suported challenges only", "user": {"login": "bbigras", "id": 24027, "node_id": "MDQ6VXNlcjI0MDI3", "avatar_url": "https://avatars.githubusercontent.com/u/24027?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bbigras", "html_url": "https://github.com/bbigras", "followers_url": "https://api.github.com/users/bbigras/followers", "following_url": "https://api.github.com/users/bbigras/following{/other_user}", "gists_url": "https://api.github.com/users/bbigras/gists{/gist_id}", "starred_url": "https://api.github.com/users/bbigras/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bbigras/subscriptions", "organizations_url": "https://api.github.com/users/bbigras/orgs", "repos_url": "https://api.github.com/users/bbigras/repos", "events_url": "https://api.github.com/users/bbigras/events{/privacy}", "received_events_url": "https://api.github.com/users/bbigras/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 276239890, "node_id": "MDU6TGFiZWwyNzYyMzk4OTA=", "url": "https://api.github.com/repos/certbot/certbot/labels/easy-fix", "name": "easy-fix", "color": "207de5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/2", "html_url": "https://github.com/certbot/certbot/milestone/2", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/2/labels", "id": 966383, "node_id": "MDk6TWlsZXN0b25lOTY2Mzgz", "number": 2, "title": "1.0 for launch", "description": "", "creator": {"login": "pde", "id": 479213, "node_id": "MDQ6VXNlcjQ3OTIxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/479213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pde", "html_url": "https://github.com/pde", "followers_url": "https://api.github.com/users/pde/followers", "following_url": "https://api.github.com/users/pde/following{/other_user}", "gists_url": "https://api.github.com/users/pde/gists{/gist_id}", "starred_url": "https://api.github.com/users/pde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pde/subscriptions", "organizations_url": "https://api.github.com/users/pde/orgs", "repos_url": "https://api.github.com/users/pde/repos", "events_url": "https://api.github.com/users/pde/events{/privacy}", "received_events_url": "https://api.github.com/users/pde/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 79, "state": "closed", "created_at": "2015-02-05T00:42:45Z", "updated_at": "2016-07-06T23:16:33Z", "due_on": "2015-12-03T08:00:00Z", "closed_at": "2015-12-04T18:08:24Z"}, "comments": 1, "created_at": "2015-10-27T02:46:57Z", "updated_at": "2015-10-27T23:38:37Z", "closed_at": "2015-10-27T23:38:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "I ran the following commands and both complained that nginx was already using port 80.\n`./letsencrypt-auto --standalone --dvsni-port 63443 --server https://acme-v01.api.letsencrypt.org/directory auth`\n`./letsencrypt-auto --standalone --dvsni-port 63443 --server https://acme-v01.api.letsencrypt.org/directory --standalone-supported-challenges dvsni auth`\n\nI was under the impression that using `--dvsni-port` would force dvsni only.\n\nI had to supply a fake port with `--simple-http-port 9999` with the second commad to get a certificate.\n\nI'm using haproxy in the front to redirect *.acme.invalid to port 63443.\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/1149/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/1149/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/1085", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/1085/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/1085/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/1085/events", "html_url": "https://github.com/certbot/certbot/issues/1085", "id": 112860585, "node_id": "MDU6SXNzdWUxMTI4NjA1ODU=", "number": 1085, "title": "Hanging threads (acme.standalone)", "user": {"login": "kuba", "id": 106176, "node_id": "MDQ6VXNlcjEwNjE3Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/106176?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kuba", "html_url": "https://github.com/kuba", "followers_url": "https://api.github.com/users/kuba/followers", "following_url": "https://api.github.com/users/kuba/following{/other_user}", "gists_url": "https://api.github.com/users/kuba/gists{/gist_id}", "starred_url": "https://api.github.com/users/kuba/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kuba/subscriptions", "organizations_url": "https://api.github.com/users/kuba/orgs", "repos_url": "https://api.github.com/users/kuba/repos", "events_url": "https://api.github.com/users/kuba/events{/privacy}", "received_events_url": "https://api.github.com/users/kuba/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 277074172, "node_id": "MDU6TGFiZWwyNzcwNzQxNzI=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20acme", "name": "area: acme", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/2", "html_url": "https://github.com/certbot/certbot/milestone/2", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/2/labels", "id": 966383, "node_id": "MDk6TWlsZXN0b25lOTY2Mzgz", "number": 2, "title": "1.0 for launch", "description": "", "creator": {"login": "pde", "id": 479213, "node_id": "MDQ6VXNlcjQ3OTIxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/479213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pde", "html_url": "https://github.com/pde", "followers_url": "https://api.github.com/users/pde/followers", "following_url": "https://api.github.com/users/pde/following{/other_user}", "gists_url": "https://api.github.com/users/pde/gists{/gist_id}", "starred_url": "https://api.github.com/users/pde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pde/subscriptions", "organizations_url": "https://api.github.com/users/pde/orgs", "repos_url": "https://api.github.com/users/pde/repos", "events_url": "https://api.github.com/users/pde/events{/privacy}", "received_events_url": "https://api.github.com/users/pde/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 79, "state": "closed", "created_at": "2015-02-05T00:42:45Z", "updated_at": "2016-07-06T23:16:33Z", "due_on": "2015-12-03T08:00:00Z", "closed_at": "2015-12-04T18:08:24Z"}, "comments": 5, "created_at": "2015-10-22T18:19:11Z", "updated_at": "2016-05-06T19:21:36Z", "closed_at": "2015-10-30T01:22:05Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/1085/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/1085/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/1061", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/1061/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/1061/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/1061/events", "html_url": "https://github.com/certbot/certbot/issues/1061", "id": 112532688, "node_id": "MDU6SXNzdWUxMTI1MzI2ODg=", "number": 1061, "title": "Debian 7, build with letsencrypt-auto fails -- virtualenv not found", "user": {"login": "akamensky", "id": 985805, "node_id": "MDQ6VXNlcjk4NTgwNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/985805?v=4", "gravatar_id": "", "url": "https://api.github.com/users/akamensky", "html_url": "https://github.com/akamensky", "followers_url": "https://api.github.com/users/akamensky/followers", "following_url": "https://api.github.com/users/akamensky/following{/other_user}", "gists_url": "https://api.github.com/users/akamensky/gists{/gist_id}", "starred_url": "https://api.github.com/users/akamensky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/akamensky/subscriptions", "organizations_url": "https://api.github.com/users/akamensky/orgs", "repos_url": "https://api.github.com/users/akamensky/repos", "events_url": "https://api.github.com/users/akamensky/events{/privacy}", "received_events_url": "https://api.github.com/users/akamensky/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 200587469, "node_id": "MDU6TGFiZWwyMDA1ODc0Njk=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20debian%20/%20ubuntu", "name": "area: debian / ubuntu", "color": "c5def5", "default": false, "description": null}, {"id": 276243379, "node_id": "MDU6TGFiZWwyNzYyNDMzNzk=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20certbot-auto", "name": "area: certbot-auto", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/7", "html_url": "https://github.com/certbot/certbot/milestone/7", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/7/labels", "id": 1322654, "node_id": "MDk6TWlsZXN0b25lMTMyMjY1NA==", "number": 7, "title": "beta", "description": "For first valid issuance of certs", "creator": {"login": "pde", "id": 479213, "node_id": "MDQ6VXNlcjQ3OTIxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/479213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pde", "html_url": "https://github.com/pde", "followers_url": "https://api.github.com/users/pde/followers", "following_url": "https://api.github.com/users/pde/following{/other_user}", "gists_url": "https://api.github.com/users/pde/gists{/gist_id}", "starred_url": "https://api.github.com/users/pde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pde/subscriptions", "organizations_url": "https://api.github.com/users/pde/orgs", "repos_url": "https://api.github.com/users/pde/repos", "events_url": "https://api.github.com/users/pde/events{/privacy}", "received_events_url": "https://api.github.com/users/pde/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 14, "state": "closed", "created_at": "2015-09-24T18:35:45Z", "updated_at": "2017-08-31T22:15:44Z", "due_on": "2015-10-20T07:00:00Z", "closed_at": "2015-10-26T00:24:14Z"}, "comments": 6, "created_at": "2015-10-21T08:11:49Z", "updated_at": "2015-10-22T00:21:59Z", "closed_at": "2015-10-22T00:21:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "Here is the log:\n\n```\n0 upgraded, 0 newly installed, 0 to remove and 228 not upgraded.\nReading package lists... Done\nBuilding dependency tree       \nReading state information... Done\nlibaugeas0 is already the newest version.\nca-certificates is already the newest version.\ndialog is already the newest version.\ngcc is already the newest version.\ngit-core is already the newest version.\nlibffi-dev is already the newest version.\nlibssl-dev is already the newest version.\npython is already the newest version.\npython-dev is already the newest version.\npython-virtualenv is already the newest version.\nThe following package was automatically installed and is no longer required:\n  libgssglue1\nUse 'apt-get autoremove' to remove it.\n0 upgraded, 0 newly installed, 0 to remove and 228 not upgraded.\nCreating virtual environment...\n./letsencrypt-auto: 63: ./letsencrypt-auto: virtualenv: not found\n```\n\nAlso on annoying side -- it does not need to attempt to reinstall packages if they are already present in system...\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/1061/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/1061/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/1012", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/1012/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/1012/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/1012/events", "html_url": "https://github.com/certbot/certbot/issues/1012", "id": 111959468, "node_id": "MDU6SXNzdWUxMTE5NTk0Njg=", "number": 1012, "title": "cryptography==0.8 breaks client", "user": {"login": "kuba", "id": 106176, "node_id": "MDQ6VXNlcjEwNjE3Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/106176?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kuba", "html_url": "https://github.com/kuba", "followers_url": "https://api.github.com/users/kuba/followers", "following_url": "https://api.github.com/users/kuba/following{/other_user}", "gists_url": "https://api.github.com/users/kuba/gists{/gist_id}", "starred_url": "https://api.github.com/users/kuba/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kuba/subscriptions", "organizations_url": "https://api.github.com/users/kuba/orgs", "repos_url": "https://api.github.com/users/kuba/repos", "events_url": "https://api.github.com/users/kuba/events{/privacy}", "received_events_url": "https://api.github.com/users/kuba/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 149596829, "node_id": "MDU6TGFiZWwxNDk1OTY4Mjk=", "url": "https://api.github.com/repos/certbot/certbot/labels/good%20first%20issue", "name": "good first issue", "color": "c61aff", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/2", "html_url": "https://github.com/certbot/certbot/milestone/2", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/2/labels", "id": 966383, "node_id": "MDk6TWlsZXN0b25lOTY2Mzgz", "number": 2, "title": "1.0 for launch", "description": "", "creator": {"login": "pde", "id": 479213, "node_id": "MDQ6VXNlcjQ3OTIxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/479213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pde", "html_url": "https://github.com/pde", "followers_url": "https://api.github.com/users/pde/followers", "following_url": "https://api.github.com/users/pde/following{/other_user}", "gists_url": "https://api.github.com/users/pde/gists{/gist_id}", "starred_url": "https://api.github.com/users/pde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pde/subscriptions", "organizations_url": "https://api.github.com/users/pde/orgs", "repos_url": "https://api.github.com/users/pde/repos", "events_url": "https://api.github.com/users/pde/events{/privacy}", "received_events_url": "https://api.github.com/users/pde/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 79, "state": "closed", "created_at": "2015-02-05T00:42:45Z", "updated_at": "2016-07-06T23:16:33Z", "due_on": "2015-12-03T08:00:00Z", "closed_at": "2015-12-04T18:08:24Z"}, "comments": 1, "created_at": "2015-10-17T11:51:51Z", "updated_at": "2015-10-21T19:05:36Z", "closed_at": "2015-10-21T19:05:36Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Follow-up from https://bugs.freebsd.org/bugzilla/show_bug.cgi?id=203405#c17. It seems that our `cryptography>=0.8` requirement is too weak. After `pip install cryptography==0.8` the following error is thrown:\n\n```\nTraceback (most recent call last):\n  File \"/root/letsencrypt/venv/bin/letsencrypt\", line 9, in <module>\n    load_entry_point('letsencrypt==0.1.0.dev0', 'console_scripts', 'letsencrypt')()\n  File \"/root/letsencrypt/letsencrypt/cli.py\", line 1002, in main\n    return args.func(args, config, plugins)\n  File \"/root/letsencrypt/letsencrypt/cli.py\", line 376, in auth\n    le_client = _init_le_client(args, config, authenticator, installer)\n  File \"/root/letsencrypt/letsencrypt/cli.py\", line 160, in _init_le_client\n    acc, acme = _determine_account(args, config)\n  File \"/root/letsencrypt/letsencrypt/cli.py\", line 147, in _determine_account\n    config, account_storage, tos_cb=_tos_cb)\n  File \"/root/letsencrypt/letsencrypt/client.py\", line 98, in register\n    acc = account.Account(regr, key)\n  File \"/root/letsencrypt/letsencrypt/account.py\", line 60, in __init__\n    format=serialization.PublicFormat.SubjectPublicKeyInfo)\n  File \"/root/letsencrypt/venv/local/lib/python2.7/site-packages/cryptography/hazmat/backends/openssl/rsa.py\", line 614, in public_bytes\n    self._rsa_cdata\n  File \"/root/letsencrypt/venv/local/lib/python2.7/site-packages/cryptography/hazmat/backends/openssl/backend.py\", line 1199, in _public_key_bytes\n    raise ValueError(\"Only PEM encoding is supported by this backend\")\nValueError: Only PEM encoding is supported by this backend\n```\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/1012/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/1012/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/998", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/998/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/998/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/998/events", "html_url": "https://github.com/certbot/certbot/issues/998", "id": 111744680, "node_id": "MDU6SXNzdWUxMTE3NDQ2ODA=", "number": 998, "title": "Bad installation not properly reverted", "user": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 258836903, "node_id": "MDU6TGFiZWwyNTg4MzY5MDM=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20apache", "name": "area: apache", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/2", "html_url": "https://github.com/certbot/certbot/milestone/2", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/2/labels", "id": 966383, "node_id": "MDk6TWlsZXN0b25lOTY2Mzgz", "number": 2, "title": "1.0 for launch", "description": "", "creator": {"login": "pde", "id": 479213, "node_id": "MDQ6VXNlcjQ3OTIxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/479213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pde", "html_url": "https://github.com/pde", "followers_url": "https://api.github.com/users/pde/followers", "following_url": "https://api.github.com/users/pde/following{/other_user}", "gists_url": "https://api.github.com/users/pde/gists{/gist_id}", "starred_url": "https://api.github.com/users/pde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pde/subscriptions", "organizations_url": "https://api.github.com/users/pde/orgs", "repos_url": "https://api.github.com/users/pde/repos", "events_url": "https://api.github.com/users/pde/events{/privacy}", "received_events_url": "https://api.github.com/users/pde/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 79, "state": "closed", "created_at": "2015-02-05T00:42:45Z", "updated_at": "2016-07-06T23:16:33Z", "due_on": "2015-12-03T08:00:00Z", "closed_at": "2015-12-04T18:08:24Z"}, "comments": 6, "created_at": "2015-10-16T02:16:29Z", "updated_at": "2015-11-05T03:11:29Z", "closed_at": "2015-11-05T03:11:29Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "I just ran `letsencrypt install --cert-path $(mktemp -d) --key-path $(mktemp -d) -t` with only Apache installed. Installation failed, but the changes to the vhost were not reverted, leaving directives like this:\n\n```\nSSLCertificateFile /tmp/tmp.57eWjciAOH\nSSLCertificateKeyFile /tmp/tmp.h7pSVhLI4U\n```\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/998/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/998/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/922", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/922/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/922/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/922/events", "html_url": "https://github.com/certbot/certbot/issues/922", "id": 110350649, "node_id": "MDU6SXNzdWUxMTAzNTA2NDk=", "number": 922, "title": "Could not build the server_names_hash", "user": {"login": "jsha", "id": 220205, "node_id": "MDQ6VXNlcjIyMDIwNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/220205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsha", "html_url": "https://github.com/jsha", "followers_url": "https://api.github.com/users/jsha/followers", "following_url": "https://api.github.com/users/jsha/following{/other_user}", "gists_url": "https://api.github.com/users/jsha/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsha/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsha/subscriptions", "organizations_url": "https://api.github.com/users/jsha/orgs", "repos_url": "https://api.github.com/users/jsha/repos", "events_url": "https://api.github.com/users/jsha/events{/privacy}", "received_events_url": "https://api.github.com/users/jsha/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 258836706, "node_id": "MDU6TGFiZWwyNTg4MzY3MDY=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20nginx", "name": "area: nginx", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2015-10-08T00:46:45Z", "updated_at": "2015-10-12T23:41:52Z", "closed_at": "2015-10-12T23:41:52Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Steps to reproduce:\n\nRun the letsencrypt client with nginx authenticator.\n\nExpected result: works\n\nActual result:\n\n`nginx: [emerg] could not build the server_names_hash, you should increase server_names_hash_bucket_size: 64`\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/922/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/922/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/921", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/921/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/921/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/921/events", "html_url": "https://github.com/certbot/certbot/issues/921", "id": 110349356, "node_id": "MDU6SXNzdWUxMTAzNDkzNTY=", "number": 921, "title": "Nginx fails if ssl_session_cache already defined", "user": {"login": "jsha", "id": 220205, "node_id": "MDQ6VXNlcjIyMDIwNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/220205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsha", "html_url": "https://github.com/jsha", "followers_url": "https://api.github.com/users/jsha/followers", "following_url": "https://api.github.com/users/jsha/following{/other_user}", "gists_url": "https://api.github.com/users/jsha/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsha/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsha/subscriptions", "organizations_url": "https://api.github.com/users/jsha/orgs", "repos_url": "https://api.github.com/users/jsha/repos", "events_url": "https://api.github.com/users/jsha/events{/privacy}", "received_events_url": "https://api.github.com/users/jsha/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 258836706, "node_id": "MDU6TGFiZWwyNTg4MzY3MDY=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20nginx", "name": "area: nginx", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/22", "html_url": "https://github.com/certbot/certbot/milestone/22", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/22/labels", "id": 1805759, "node_id": "MDk6TWlsZXN0b25lMTgwNTc1OQ==", "number": 22, "title": "0.9.0", "description": "Nginx plugin, DNS Challenge support, plus lots of polish and bugfixes", "creator": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 131, "state": "closed", "created_at": "2016-06-02T19:22:08Z", "updated_at": "2017-04-27T23:17:01Z", "due_on": "2016-08-19T07:00:00Z", "closed_at": "2016-10-05T17:14:48Z"}, "comments": 17, "created_at": "2015-10-08T00:38:59Z", "updated_at": "2021-11-08T20:00:57Z", "closed_at": "2017-04-27T23:17:01Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Steps to reproduce:\n1. Put `ssl_session_cache shared:SSL:10m;` in your Nginx configs somewhere.\n2. Run letsencrypt with the nginx authenticator.\n\nExpected results: works\n\nActual results:\n\n`2015-10-08 00:30:17,856:ERROR:letsencrypt_nginx.configurator:Nginx Restart Failed!\n\nnginx: [emerg] the size 1048576 of shared memory zone \"SSL\" conflicts with already declared size 10485760 in /etc/letsencrypt/options-ssl-nginx.conf:1`\n\nContents of /etc/letsencrypt/options-ssl-nginx.conf:\n\n```\nssl_session_cache shared:SSL:1m;\nssl_session_timeout 1440m;\n\nssl_protocols TLSv1 TLSv1.1 TLSv1.2;\nssl_prefer_server_ciphers on;\n\n# Using list of ciphers from \"Bulletproof SSL and TLS\"\nssl_ciphers \"ECDHE-ECDSA-AES128-GCM-SHA256 ECDHE-ECDSA-AES256-GCM-SHA384 ECDHE-ECDSA-AES128-SHA ECDHE-ECDSA-AES256-SHA ECDHE-ECDSA-AES128-SHA256 ECDHE-ECDSA-AES256-SHA384 ECDHE-RSA-AES128-GCM-SHA256 ECDHE-RSA-AES256-GCM-SHA384 ECDHE-RSA-AES128-SHA ECDHE-RSA-AES128-SHA256 ECDHE-RSA-AES256-SHA384 DHE-RSA-AES128-GCM-SHA256 DHE-RSA-AES256-GCM-SHA384 DHE-RSA-AES128-SHA DHE-RSA-AES256-SHA DHE-RSA-AES128-SHA256 DHE-RSA-AES256-SHA256 EDH-RSA-DES-CBC3-SHA\";\n```\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/921/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/921/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/845", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/845/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/845/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/845/events", "html_url": "https://github.com/certbot/certbot/issues/845", "id": 108558691, "node_id": "MDU6SXNzdWUxMDg1NTg2OTE=", "number": 845, "title": "Broken --version", "user": {"login": "kuba", "id": 106176, "node_id": "MDQ6VXNlcjEwNjE3Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/106176?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kuba", "html_url": "https://github.com/kuba", "followers_url": "https://api.github.com/users/kuba/followers", "following_url": "https://api.github.com/users/kuba/following{/other_user}", "gists_url": "https://api.github.com/users/kuba/gists{/gist_id}", "starred_url": "https://api.github.com/users/kuba/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kuba/subscriptions", "organizations_url": "https://api.github.com/users/kuba/orgs", "repos_url": "https://api.github.com/users/kuba/repos", "events_url": "https://api.github.com/users/kuba/events{/privacy}", "received_events_url": "https://api.github.com/users/kuba/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 200596079, "node_id": "MDU6TGFiZWwyMDA1OTYwNzk=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20ui%20/%20ux", "name": "area: ui / ux", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-09-27T20:24:50Z", "updated_at": "2015-10-01T19:59:49Z", "closed_at": "2015-10-01T19:59:49Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "```\n$ letsencrypt --version\nusage:\n  letsencrypt [SUBCOMMAND] [options] [domains]\n\nThe Let's Encrypt agent can obtain and install HTTPS/TLS/SSL certificates.  By\ndefault, it will attempt to use a webserver both for obtaining and installing\nthe cert.\nletsencrypt: error: unrecognized arguments: --version\n```\n\nVerified in 523dba0b999ec46daf8c74edbfe1c29a3b43d8d2\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/845/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/845/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/842", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/842/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/842/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/842/events", "html_url": "https://github.com/certbot/certbot/issues/842", "id": 108556109, "node_id": "MDU6SXNzdWUxMDg1NTYxMDk=", "number": 842, "title": "Detect when chosen web server isn't listening on necessary port", "user": {"login": "jsha", "id": 220205, "node_id": "MDQ6VXNlcjIyMDIwNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/220205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsha", "html_url": "https://github.com/jsha", "followers_url": "https://api.github.com/users/jsha/followers", "following_url": "https://api.github.com/users/jsha/following{/other_user}", "gists_url": "https://api.github.com/users/jsha/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsha/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsha/subscriptions", "organizations_url": "https://api.github.com/users/jsha/orgs", "repos_url": "https://api.github.com/users/jsha/repos", "events_url": "https://api.github.com/users/jsha/events{/privacy}", "received_events_url": "https://api.github.com/users/jsha/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 258836903, "node_id": "MDU6TGFiZWwyNTg4MzY5MDM=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20apache", "name": "area: apache", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2015-09-27T19:32:23Z", "updated_at": "2015-09-28T07:12:52Z", "closed_at": "2015-09-28T07:12:52Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Steps to reproduce:\n1. Install Apache and Nginx. Run Nginx and leave Apache stopped.\n2. Run `letsencrypt  --text --agree-eula --agree-tos -d lastbart.at -a apache auth`\n\nActual result:\n\n`Failed authorization procedure. lastbart.at (dvsni): connection :: The server could not connect to the client for DV :: Failed to connect to host for DVSNI challenge`\n\nExpected result:\n\nClient gives an error saying that Apache doesn't have access to port 443 or isn't listening on port 443.\n\nOne can also reproduce with only Apache installed by editing ports.conf so that it doesn't include port 443.\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/842/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/842/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/836", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/836/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/836/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/836/events", "html_url": "https://github.com/certbot/certbot/issues/836", "id": 108510154, "node_id": "MDU6SXNzdWUxMDg1MTAxNTQ=", "number": 836, "title": "CLI directory options should take absolute path", "user": {"login": "jdkasten", "id": 1581662, "node_id": "MDQ6VXNlcjE1ODE2NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/1581662?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jdkasten", "html_url": "https://github.com/jdkasten", "followers_url": "https://api.github.com/users/jdkasten/followers", "following_url": "https://api.github.com/users/jdkasten/following{/other_user}", "gists_url": "https://api.github.com/users/jdkasten/gists{/gist_id}", "starred_url": "https://api.github.com/users/jdkasten/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jdkasten/subscriptions", "organizations_url": "https://api.github.com/users/jdkasten/orgs", "repos_url": "https://api.github.com/users/jdkasten/repos", "events_url": "https://api.github.com/users/jdkasten/events{/privacy}", "received_events_url": "https://api.github.com/users/jdkasten/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 281347824, "node_id": "MDU6TGFiZWwyODEzNDc4MjQ=", "url": "https://api.github.com/repos/certbot/certbot/labels/has%20pr", "name": "has pr", "color": "0052cc", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/2", "html_url": "https://github.com/certbot/certbot/milestone/2", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/2/labels", "id": 966383, "node_id": "MDk6TWlsZXN0b25lOTY2Mzgz", "number": 2, "title": "1.0 for launch", "description": "", "creator": {"login": "pde", "id": 479213, "node_id": "MDQ6VXNlcjQ3OTIxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/479213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pde", "html_url": "https://github.com/pde", "followers_url": "https://api.github.com/users/pde/followers", "following_url": "https://api.github.com/users/pde/following{/other_user}", "gists_url": "https://api.github.com/users/pde/gists{/gist_id}", "starred_url": "https://api.github.com/users/pde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pde/subscriptions", "organizations_url": "https://api.github.com/users/pde/orgs", "repos_url": "https://api.github.com/users/pde/repos", "events_url": "https://api.github.com/users/pde/events{/privacy}", "received_events_url": "https://api.github.com/users/pde/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 79, "state": "closed", "created_at": "2015-02-05T00:42:45Z", "updated_at": "2016-07-06T23:16:33Z", "due_on": "2015-12-03T08:00:00Z", "closed_at": "2015-12-04T18:08:24Z"}, "comments": 1, "created_at": "2015-09-27T03:08:59Z", "updated_at": "2015-11-13T08:22:25Z", "closed_at": "2015-11-13T08:22:25Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I was attempting to determine if #443, was still a problem.\n\nI ran letsencrypt --work-dir ../Downloads -vvvv run\n\nI was left with the following error...\n\n```\nAH00526: Syntax error on line 10 of /etc/apache2/le_dvsni_cert_challenge.conf:\nSSLCertificateFile: file '/etc/Downloads/OwYVJOOHVxWaHWNpNUgNDy4TIafggji3RdP0SymKozo.crt' does not exist or is empty\nAction 'configtest' failed.\nThe Apache error log may have more information. \n```\n\nI thought it to be a peculiar place to be looking for a cert.\n\nThe config file is populated with...\n\n```\ndef get_cert_path(self, achall):\n        \"\"\"Returns standardized name for challenge certificate.\n        :param achall: Annotated DVSNI challenge.\n        :type achall: :class:`letsencrypt.achallenges.DVSNI`\n        :returns: certificate file name\n        :rtype: str\n        \"\"\"\n        return os.path.join(self.configurator.config.work_dir,\n                            achall.chall.encode(\"token\") + \".crt\")\n```\n\nThus, leading me to the conclusion that we do not handle our directories appropriately from the command-line.  I think it would be much easier if all of the work_dir, config_dir, and logs_dir were guaranteed to be an absolute path.\n\nProviding the full path off the command-line did solve the problem.\n\nCan we find a place to normalize all paths?\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/836/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/836/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/818", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/818/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/818/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/818/events", "html_url": "https://github.com/certbot/certbot/issues/818", "id": 108415403, "node_id": "MDU6SXNzdWUxMDg0MTU0MDM=", "number": 818, "title": "Ambiguous choice of directory name for SAN certs leads to wrong cert served", "user": {"login": "jsha", "id": 220205, "node_id": "MDQ6VXNlcjIyMDIwNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/220205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsha", "html_url": "https://github.com/jsha", "followers_url": "https://api.github.com/users/jsha/followers", "following_url": "https://api.github.com/users/jsha/following{/other_user}", "gists_url": "https://api.github.com/users/jsha/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsha/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsha/subscriptions", "organizations_url": "https://api.github.com/users/jsha/orgs", "repos_url": "https://api.github.com/users/jsha/repos", "events_url": "https://api.github.com/users/jsha/events{/privacy}", "received_events_url": "https://api.github.com/users/jsha/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 210831837, "node_id": "MDU6TGFiZWwyMTA4MzE4Mzc=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20cert%20management", "name": "area: cert management", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/8", "html_url": "https://github.com/certbot/certbot/milestone/8", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/8/labels", "id": 1353913, "node_id": "MDk6TWlsZXN0b25lMTM1MzkxMw==", "number": 8, "title": "Important", "description": "This milestone was for things someone on the Certbot team considered necessary for the client to be out of beta, but it's become something of a holding place for many kinds of polishing tickets, and will probably need to be triaged further.", "creator": {"login": "pde", "id": 479213, "node_id": "MDQ6VXNlcjQ3OTIxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/479213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pde", "html_url": "https://github.com/pde", "followers_url": "https://api.github.com/users/pde/followers", "following_url": "https://api.github.com/users/pde/following{/other_user}", "gists_url": "https://api.github.com/users/pde/gists{/gist_id}", "starred_url": "https://api.github.com/users/pde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pde/subscriptions", "organizations_url": "https://api.github.com/users/pde/orgs", "repos_url": "https://api.github.com/users/pde/repos", "events_url": "https://api.github.com/users/pde/events{/privacy}", "received_events_url": "https://api.github.com/users/pde/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 160, "state": "closed", "created_at": "2015-10-13T19:41:13Z", "updated_at": "2020-03-20T18:56:33Z", "due_on": null, "closed_at": "2020-03-20T18:56:33Z"}, "comments": 4, "created_at": "2015-09-25T22:06:33Z", "updated_at": "2015-11-24T22:38:16Z", "closed_at": "2015-11-24T22:38:16Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Steps to reproduce (from memory):\n1. Use `letsencrypt --server https://acme-staging.api.letsencrypt.org/directory auth` to issue and install a cert for two names `jacob.hoffman-andrews.com hoffman-andrews.com`, using the staging instance\n2. Use `letsencrypt --server <prod> auth` to issue and install from production for the two names `hoffman-andrews.com jacob.hoffman-andrews.com`. Note the different order!\n\nExpected result:\n\nApache serves the prod cert.\n\nActual result:\n\nApache serves the staging cert.\n\nUpon further investigation, I found that the staging cert existed in /etc/letsencrypt/live/jacob.hoffman-andrews.com/cert.pem and that prod cert existed in /etc/letsencrypt/live/hoffman-andrews.com/cert.pem.\n\nMy Apache config had:\n\n```\nSSLCertificateFile /etc/letsencrypt/live/jacob.hoffman-andrews.com/cert.pem\n```\n\nSo it was still pointed at the first, staging cert, rather than being updated to point at the new prod cert.\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/818/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/818/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/803", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/803/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/803/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/803/events", "html_url": "https://github.com/certbot/certbot/issues/803", "id": 107614177, "node_id": "MDU6SXNzdWUxMDc2MTQxNzc=", "number": 803, "title": "test failures: missing strict_permissions attr", "user": {"login": "diracdeltas", "id": 549654, "node_id": "MDQ6VXNlcjU0OTY1NA==", "avatar_url": "https://avatars.githubusercontent.com/u/549654?v=4", "gravatar_id": "", "url": "https://api.github.com/users/diracdeltas", "html_url": "https://github.com/diracdeltas", "followers_url": "https://api.github.com/users/diracdeltas/followers", "following_url": "https://api.github.com/users/diracdeltas/following{/other_user}", "gists_url": "https://api.github.com/users/diracdeltas/gists{/gist_id}", "starred_url": "https://api.github.com/users/diracdeltas/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/diracdeltas/subscriptions", "organizations_url": "https://api.github.com/users/diracdeltas/orgs", "repos_url": "https://api.github.com/users/diracdeltas/repos", "events_url": "https://api.github.com/users/diracdeltas/events{/privacy}", "received_events_url": "https://api.github.com/users/diracdeltas/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2015-09-21T22:53:43Z", "updated_at": "2015-09-27T02:14:05Z", "closed_at": "2015-09-27T02:14:05Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "When I run `tox -e py27` inside Docker, I get these errors:\n\n```\n======================================================================\nERROR: test_it (letsencrypt.tests.crypto_util_test.InitSaveCSRTest)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/opt/letsencrypt/src/.tox/py27/local/lib/python2.7/site-packages/mock.py\", line 1201, in patched\n    return func(*args, **keywargs)\n  File \"/opt/letsencrypt/src/letsencrypt/tests/crypto_util_test.py\", line 65, in test_it\n    'csr-letsencrypt.pem')\n  File \"/opt/letsencrypt/src/letsencrypt/crypto_util.py\", line 83, in init_save_csr\n    config.strict_permissions)\n  File \"/opt/letsencrypt/src/letsencrypt/configuration.py\", line 39, in __getattr__\n    return getattr(self.namespace, name)\nAttributeError: '_AttrDict' object has no attribute 'strict_permissions'\n\n======================================================================\nERROR: test_success (letsencrypt.tests.crypto_util_test.InitSaveKeyTest)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/opt/letsencrypt/src/.tox/py27/local/lib/python2.7/site-packages/mock.py\", line 1201, in patched\n    return func(*args, **keywargs)\n  File \"/opt/letsencrypt/src/letsencrypt/tests/crypto_util_test.py\", line 37, in test_success\n    key = self._call(1024, self.key_dir)\n  File \"/opt/letsencrypt/src/letsencrypt/tests/crypto_util_test.py\", line 32, in _call\n    return init_save_key(key_size, key_dir, 'key-letsencrypt.pem')\n  File \"/opt/letsencrypt/src/letsencrypt/crypto_util.py\", line 53, in init_save_key\n    config.strict_permissions)\n  File \"/opt/letsencrypt/src/letsencrypt/configuration.py\", line 39, in __getattr__\n    return getattr(self.namespace, name)\nAttributeError: '_AttrDict' object has no attribute 'strict_permissions'\n\n----------------------------------------------------------------------\nRan 391 tests in 7.805s\n\nFAILED (errors=2)\nERROR: InvocationError: '/opt/letsencrypt/src/.tox/py27/bin/python setup.py test -q'\n```\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/803/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/803/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/781", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/781/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/781/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/781/events", "html_url": "https://github.com/certbot/certbot/issues/781", "id": 106925137, "node_id": "MDU6SXNzdWUxMDY5MjUxMzc=", "number": 781, "title": "Failed Apache Parsing", "user": {"login": "jdkasten", "id": 1581662, "node_id": "MDQ6VXNlcjE1ODE2NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/1581662?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jdkasten", "html_url": "https://github.com/jdkasten", "followers_url": "https://api.github.com/users/jdkasten/followers", "following_url": "https://api.github.com/users/jdkasten/following{/other_user}", "gists_url": "https://api.github.com/users/jdkasten/gists{/gist_id}", "starred_url": "https://api.github.com/users/jdkasten/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jdkasten/subscriptions", "organizations_url": "https://api.github.com/users/jdkasten/orgs", "repos_url": "https://api.github.com/users/jdkasten/repos", "events_url": "https://api.github.com/users/jdkasten/events{/privacy}", "received_events_url": "https://api.github.com/users/jdkasten/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 258836903, "node_id": "MDU6TGFiZWwyNTg4MzY5MDM=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20apache", "name": "area: apache", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2015-09-17T07:15:17Z", "updated_at": "2016-05-06T19:22:13Z", "closed_at": "2015-09-17T18:17:20Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "From the community forums\n\nHi all,\n\nI'm trying to get some certificates using the Let's Encrypt client for two domains on my Linux web server. The web server is Apache 2.4 under Debian 8 on a VPS. I've had the VPS for quite a long time - the initial install was in 2003 - and it's been upgraded through a number of Debian releases, so the Apache 2 configuration is not quite standard.\n\nThe Let's Encrypt installer isn't playing the game on my installation, and I assume something to do with the way I have Apache setup is responsible for it, but I would like to debug the problem. Unfortunately, the error message and the matching Python code is not really enough for me to figure out what is going wrong. The error message I get from \"letsencrypt auth\" or \"letsencrypt -d ssl.zzap.org auth\" is:\n\nAn unexpected error occurred. Please see the logfiles in /var/log/letsencrypt for more details.\n\n```\nThe log file says the following:\n2015-09-17 04:37:46,230:DEBUG:letsencrypt.cli:Root logging level set at 30\n2015-09-17 04:37:46,231:INFO:letsencrypt.cli:Saving debug log to /var/log/letsencrypt/letsencrypt.log\n2015-09-17 04:37:46,231:DEBUG:letsencrypt.cli:Arguments: ['-d', 'ssl.zzap.org', 'auth']\n2015-09-17 04:37:46,232:DEBUG:letsencrypt.cli:Discovered plugins: PluginsRegistry(PluginEntryPoint#apache,PluginEntryPoint#nginx,PluginEntryPoint#null,PluginEntryPoint#manual,PluginEntryPoint#standalone)\n2015-09-17 04:37:47,377:DEBUG:letsencrypt.cli:Exiting abnormally:\nTraceback (most recent call last):\nFile \"/usr/local/bin/letsencrypt\", line 9, in \nload_entry_point('letsencrypt==0.1', 'console_scripts', 'letsencrypt')()\nFile \"/usr/local/src/letsencrypt/venv/local/lib/python2.7/site-packages/letsencrypt/cli.py\", line 920, in main\nreturn args.func(args, config, plugins)\nFile \"/usr/local/src/letsencrypt/venv/local/lib/python2.7/site-packages/letsencrypt/cli.py\", line 312, in auth\nconfig, args.authenticator, plugins)\nFile \"/usr/local/src/letsencrypt/venv/local/lib/python2.7/site-packages/letsencrypt/display/ops.py\", line 98, in pick_authenticator\nconfig, default, plugins, question, (interfaces.IAuthenticator,))\nFile \"/usr/local/src/letsencrypt/venv/local/lib/python2.7/site-packages/letsencrypt/display/ops.py\", line 72, in pick_plugin\nverified.prepare()\nFile \"/usr/local/src/letsencrypt/venv/local/lib/python2.7/site-packages/letsencrypt/plugins/disco.py\", line 197, in prepare\nreturn [plugin_ep.prepare() for plugin_ep in self._plugins.itervalues()]\nFile \"/usr/local/src/letsencrypt/venv/local/lib/python2.7/site-packages/letsencrypt/plugins/disco.py\", line 98, in prepare\nself._initialized.prepare()\nFile \"/usr/local/src/letsencrypt/venv/local/lib/python2.7/site-packages/letsencrypt_apache/configurator.py\", line 144, in prepare\nself.aug, self.conf(\"server-root\"), self.conf(\"ctl\"))\nFile \"/usr/local/src/letsencrypt/venv/local/lib/python2.7/site-packages/letsencrypt_apache/parser.py\", line 54, in init\nself.init_modules()\nFile \"/usr/local/src/letsencrypt/venv/local/lib/python2.7/site-packages/letsencrypt_apache/parser.py\", line 72, in init_modules\nmatches = self.find_dir(\"LoadModule\")\n...skipping...\nreturn args.func(args, config, plugins)\nFile \"/usr/local/src/letsencrypt/venv/local/lib/python2.7/site-packages/letsencrypt/cli.py\", line 312, in auth\nconfig, args.authenticator, plugins)\nFile \"/usr/local/src/letsencrypt/venv/local/lib/python2.7/site-packages/letsencrypt/display/ops.py\", line 98, in pick_authenticator\nconfig, default, plugins, question, (interfaces.IAuthenticator,))\nFile \"/usr/local/src/letsencrypt/venv/local/lib/python2.7/site-packages/letsencrypt/display/ops.py\", line 72, in pick_plugin\nverified.prepare()\nFile \"/usr/local/src/letsencrypt/venv/local/lib/python2.7/site-packages/letsencrypt/plugins/disco.py\", line 197, in prepare\nreturn [plugin_ep.prepare() for plugin_ep in self._plugins.itervalues()]\nFile \"/usr/local/src/letsencrypt/venv/local/lib/python2.7/site-packages/letsencrypt/plugins/disco.py\", line 98, in prepare\nself._initialized.prepare()\nFile \"/usr/local/src/letsencrypt/venv/local/lib/python2.7/site-packages/letsencrypt_apache/configurator.py\", line 144, in prepare\nself.aug, self.conf(\"server-root\"), self.conf(\"ctl\"))\nFile \"/usr/local/src/letsencrypt/venv/local/lib/python2.7/site-packages/letsencrypt_apache/parser.py\", line 54, in init\nself.init_modules()\nFile \"/usr/local/src/letsencrypt/venv/local/lib/python2.7/site-packages/letsencrypt_apache/parser.py\", line 72, in init_modules\nmatches = self.find_dir(\"LoadModule\")\nFile \"/usr/local/src/letsencrypt/venv/local/lib/python2.7/site-packages/letsencrypt_apache/parser.py\", line 304, in find_dir\nexclude))\nFile \"/usr/local/src/letsencrypt/venv/local/lib/python2.7/site-packages/letsencrypt_apache/parser.py\", line 282, in find_dir\n\"%s//*[self::directive=~regexp('%s')]\" % (start, regex))\nFile \"/usr/local/src/letsencrypt/venv/local/lib/python2.7/site-packages/augeas.py\", line 415, in match\nraise RuntimeError(\"Error during match procedure!\", path)\nRuntimeError: ('Error during match procedure!', u\"/files/etc/apache2/sites-enabled///*[self::directive=~regexp('([Ll][Oo][Aa][Dd][Mm][Oo][Dd][Uu][Ll][Ee])|([Ii][Nn][Cc][Ll][Uu][Dd][Ee])|([Ii][Nn][Cc][Ll][Uu][Dd][Ee][Oo][Pp][Tt][Ii][Oo][Nn][Aa][Ll])')]\")\n```\n\nIt looks like it can't find the LoadModule command, but this is in /etc/apache2/mods-enabled/ssl.load (for the SSL module). I tried adding it to /etc/apache2/sites-enabled/all, which contains all my site configuration, but that didn't make any difference. I also tried changing my site configuration to include domain names instead of IP addresses under the VirtualHost commands, but that didn't make any difference. Beyond this, I tried looking through the Python code, but I don't really know Python particularly well and the best I could do was figure out where the error message is (.../letsencrypt/letsencrypt-apache/letsencrypt_apache/parser.py) but not how to fix it, or even bypass the offending piece of code.\n\nDoes anyone here know how I would at least figure out what the client is looking for that it's not finding, or how to fix or work around this problem?\n\nThanks,\n\nRegards,\n\nSimon.\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/781/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/781/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/765", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/765/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/765/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/765/events", "html_url": "https://github.com/certbot/certbot/issues/765", "id": 105953561, "node_id": "MDU6SXNzdWUxMDU5NTM1NjE=", "number": 765, "title": "Storage.version returns unnecessarily long path", "user": {"login": "jdkasten", "id": 1581662, "node_id": "MDQ6VXNlcjE1ODE2NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/1581662?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jdkasten", "html_url": "https://github.com/jdkasten", "followers_url": "https://api.github.com/users/jdkasten/followers", "following_url": "https://api.github.com/users/jdkasten/following{/other_user}", "gists_url": "https://api.github.com/users/jdkasten/gists{/gist_id}", "starred_url": "https://api.github.com/users/jdkasten/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jdkasten/subscriptions", "organizations_url": "https://api.github.com/users/jdkasten/orgs", "repos_url": "https://api.github.com/users/jdkasten/repos", "events_url": "https://api.github.com/users/jdkasten/events{/privacy}", "received_events_url": "https://api.github.com/users/jdkasten/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2015-09-11T06:40:59Z", "updated_at": "2016-05-06T19:22:13Z", "closed_at": "2015-09-11T07:13:37Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "/tmp/tmpWbM0gL/live/example.org/../../archive/example.org/cert8.pem\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/765/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/765/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/738", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/738/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/738/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/738/events", "html_url": "https://github.com/certbot/certbot/issues/738", "id": 103852546, "node_id": "MDU6SXNzdWUxMDM4NTI1NDY=", "number": 738, "title": "Copy nginx config file", "user": {"login": "dazorni", "id": 1658380, "node_id": "MDQ6VXNlcjE2NTgzODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1658380?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dazorni", "html_url": "https://github.com/dazorni", "followers_url": "https://api.github.com/users/dazorni/followers", "following_url": "https://api.github.com/users/dazorni/following{/other_user}", "gists_url": "https://api.github.com/users/dazorni/gists{/gist_id}", "starred_url": "https://api.github.com/users/dazorni/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dazorni/subscriptions", "organizations_url": "https://api.github.com/users/dazorni/orgs", "repos_url": "https://api.github.com/users/dazorni/repos", "events_url": "https://api.github.com/users/dazorni/events{/privacy}", "received_events_url": "https://api.github.com/users/dazorni/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 258836706, "node_id": "MDU6TGFiZWwyNTg4MzY3MDY=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20nginx", "name": "area: nginx", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2015-08-29T13:45:14Z", "updated_at": "2016-02-08T03:37:01Z", "closed_at": "2015-10-14T07:13:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "I started letsencrypt on my server and had an error message caused of wrong configuration in my nginx file. I changed this configuration and restarted letsencrpyt. I got the same error again an my nginx config file changed back to the old version of this file!\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/738/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/738/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/730", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/730/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/730/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/730/events", "html_url": "https://github.com/certbot/certbot/issues/730", "id": 103804862, "node_id": "MDU6SXNzdWUxMDM4MDQ4NjI=", "number": 730, "title": "Manual mode instructions fail in Nginx default configs that forbid serving dotfiles", "user": {"login": "centminmod", "id": 5899584, "node_id": "MDQ6VXNlcjU4OTk1ODQ=", "avatar_url": "https://avatars.githubusercontent.com/u/5899584?v=4", "gravatar_id": "", "url": "https://api.github.com/users/centminmod", "html_url": "https://github.com/centminmod", "followers_url": "https://api.github.com/users/centminmod/followers", "following_url": "https://api.github.com/users/centminmod/following{/other_user}", "gists_url": "https://api.github.com/users/centminmod/gists{/gist_id}", "starred_url": "https://api.github.com/users/centminmod/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/centminmod/subscriptions", "organizations_url": "https://api.github.com/users/centminmod/orgs", "repos_url": "https://api.github.com/users/centminmod/repos", "events_url": "https://api.github.com/users/centminmod/events{/privacy}", "received_events_url": "https://api.github.com/users/centminmod/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 13, "created_at": "2015-08-28T22:20:28Z", "updated_at": "2017-01-23T10:20:27Z", "closed_at": "2015-10-13T22:11:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "In the client's Manual Authenticator mode the the directory the client is looking for the ACME challenge is prefixed with a dot\n\ni.e. `.well-known/acme-challenge/ET_sy6y1KuIy1dk-vn8KfGyW_T20MHQ2ddcLFgMknys`\n\n```\nMake sure your web server displays the following content at\nhttps://newdomain2.com/.well-known/acme-challenge/ET_sy6y1KuIy1dk-vn8KfGyW_T20MHQ2ddcLFgMknys before continuing:\n```\n\nHowever, certain Nginx configurations best practices are to block file and directory access to dot prefixed folders and files\n\n```\nlocation ~ /\\.          { access_log off; log_not_found off; deny all; }\n```\n\nSo Manual mode instructions for `./venv/bin/letsencrypt -d newdomain2.com auth`\n\n```\nMake sure your web server displays the following content at\nhttps://newdomain2.com/.well-known/acme-challenge/ET_sy6y1KuIy1dk-vn8KfGyW_T20MHQ2ddcLFgMknys before continuing:\n\n?*>|l0t6u$\n\n           Content-Type header MUST be set to application/jose+json.\n\nIf you don't have HTTP server configured, you can run the following\ncommand on the target server (as root):\n\nmkdir -p /tmp/letsencrypt/public_html/.well-known/acme-challenge\ncd /tmp/letsencrypt/public_html\necho -n '{\"header\": {\"alg\": \"RS256\", \"jwk\": {\"e\": \"AQAB\", \"kty\": \"RSA\", \"n\": \"rqrPQZTTBwGyjTi4ob6vwXLo3kGhrRhNx-lkGnOFFAhlMWDE7TtuAttmp45xxKsfZUTyWSH_HZBml53YOmTwXmLMHjVvZp7yXXgH7p3e1Do4yf31M83Lm1ymCSGQe4OQFXu0raVpXA6iguDRt1wPpD9uPG20vuvjgvoDz9ohrigCbVZLuuJiBm4gPqARr4FD7LaufBabvoDDiATtiwfLtsLNVwjYY79W7ZWxqU7mZibT1--Uo2-fsRh2pMxYT4SWXBya4943W5t8HzP-CNVZTsLrUMG9laHPtZv_6A67NfrC-3RpSUTOK9_fbmTFzpYQFAnKWE4YxvwC2xE5GqO4kQ\"}}, \"payload\": \"eyJ0bHMiOiB0cnVlLCAidG9rZW4iOiAiRVRfc3k2eTFLdUl5MWRrLXZuOEtmR3lXX1QyME1IUTJkZGNMRmdNa255cyIsICJ0eXBlIjogInNpbXBsZUh0dHAifQ\", \"signature\": \"KrCfJMYiJAPCzeFutsIRGw5t4X5B3ZpFeqPPGV9E44eKIYqJGK5NBAeyTvBRZgrhnj0ifQeFJ8gbs-vWX-4HgVr4XgmAkLdN1_ZN6pCkARwDc4XZXC3AcIoCNpGIVy4f9qZRbkOgaHbfJzsT7fJcqyTQs2gNeXiuKi4miJgwQANpkoHCAFT-cggkqDRB_vRdw5glUFlJArHY90_tV8VX5OV4SNlsQGPqVcwUME1KI0vka6dD1KTYDSxUrQmo1eFlS1SFKRU2lmxGB_BU7lJ_ymmzgjrBDSFLRtOTYFKoizHX03FmpOhm3_h-_0JuStsN879bUq2NSzGLt94G1IDuvQ\"}' > .well-known/acme-challenge/ET_sy6y1KuIy1dk    -vn8KfGyW_T20MHQ2ddcLFgMknys\n# run only once per server:\nopenssl req -new -newkey rsa:4096 -subj \"/\" -days 1 -nodes -x509 -keyout ../key.pem -out ../cert.pem\n$(command -v python2 || command -v python2.7 || command -v python2.6) -c \\\n\"import BaseHTTPServer, SimpleHTTPServer, ssl; \\\nSimpleHTTPServer.SimpleHTTPRequestHandler.extensions_map = {'': 'application/jose+json'}; \\\ns = BaseHTTPServer.HTTPServer(('', 443), SimpleHTTPServer.SimpleHTTPRequestHandler); \\\ns.socket = ssl.wrap_socket(s.socket, keyfile='../key.pem', certfile='../cert.pem'); \\\ns.serve_forever()\" \nPress ENTER to continue\n```\n\nIf I change them for my custom Nginx paths to\n\n```\ncd /home/nginx/domains/newdomain2.com/public\nmkdir -p .well-known/acme-challenge\necho -n '{\"header\": {\"alg\": \"RS256\", \"jwk\": {\"e\": \"AQAB\", \"kty\": \"RSA\", \"n\": \"rqrPQZTTBwGyjTi4ob6vwXLo3kGhrRhNx-lkGnOFFAhlMWDE7TtuAttmp45xxKsfZUTyWSH_HZBml53YOmTwXmLMHjVvZp7yXXgH7p3e1Do4yf31M83Lm1ymCSGQe4OQFXu0raVpXA6iguDRt1wPpD9uPG20vuvjgvoDz9ohrigCbVZLuuJiBm4gPqARr4FD7LaufBabvoDDiATtiwfLtsLNVwjYY79W7ZWxqU7mZibT1--Uo2-fsRh2pMxYT4SWXBya4943W5t8HzP-CNVZTsLrUMG9laHPtZv_6A67NfrC-3RpSUTOK9_fbmTFzpYQFAnKWE4YxvwC2xE5GqO4kQ\"}}, \"payload\": \"eyJ0bHMiOiB0cnVlLCAidG9rZW4iOiAiRVRfc3k2eTFLdUl5MWRrLXZuOEtmR3lXX1QyME1IUTJkZGNMRmdNa255cyIsICJ0eXBlIjogInNpbXBsZUh0dHAifQ\", \"signature\": \"KrCfJMYiJAPCzeFutsIRGw5t4X5B3ZpFeqPPGV9E44eKIYqJGK5NBAeyTvBRZgrhnj0ifQeFJ8gbs-vWX-4HgVr4XgmAkLdN1_ZN6pCkARwDc4XZXC3AcIoCNpGIVy4f9qZRbkOgaHbfJzsT7fJcqyTQs2gNeXiuKi4miJgwQANpkoHCAFT-cggkqDRB_vRdw5glUFlJArHY90_tV8VX5OV4SNlsQGPqVcwUME1KI0vka6dD1KTYDSxUrQmo1eFlS1SFKRU2lmxGB_BU7lJ_ymmzgjrBDSFLRtOTYFKoizHX03FmpOhm3_h-_0JuStsN879bUq2NSzGLt94G1IDuvQ\"}' > .well-known/acme-challenge/ET_sy6y1KuIy1dk-vn8KfGyW_T20MHQ2ddcLFgMknys\n```\n\nthen try accessing `.well-known/acme-challenge/ET_sy6y1KuIy1dk-vn8KfGyW_T20MHQ2ddcLFgMknys`, I will get 403 Forbidden / access denied due to my Nginx configuration blocking dot prefixed files/folders\n\n```\ncurl -Ik https://newdomain2.com/.well-known/acme-challenge/ET_sy6y1KuIy1dk-vn8KfGyW_T20MHQ2ddcLFgMknys\nHTTP/1.1 403 Forbidden\nDate: Fri, 28 Aug 2015 22:06:57 GMT\nContent-Type: text/html; charset=utf-8\nContent-Length: 162\nConnection: keep-alive\nServer: nginx centminmod    \n```\n\nSo maybe you need to remove that dot prefix for `/.well-known` or rename it to something else as there are plenty of Nginx configurations out there that block those dot prefixed files and folders and may cause problems for manual authenticator mode setups.\n\nremoving dot prefix can access fine (newdomain2.com has a self-signed SSL cert with HPKP already setup on port 443)\n\n```\ncurl -Ik https://newdomain2.com/well-known/acme-challenge/ET_sy6y1KuIy1dk-vn8KfGyW_T20MHQ2ddcLFgMknys \nHTTP/1.1 200 OK\nDate: Fri, 28 Aug 2015 22:18:30 GMT\nContent-Type: application/octet-stream\nContent-Length: 911\nLast-Modified: Fri, 28 Aug 2015 22:06:39 GMT\nConnection: keep-alive\nETag: \"55e0db6f-38f\"\nServer: nginx centminmod\nAlternate-Protocol: 443:npn-spdy/3\nPublic-Key-Pins: pin-sha256=\"gIm5JM8lPc+uiz995GgIR/9lmo8dkDZ4X3VQJAUvN0s=\"; pin-sha256=\"ALeqbO2k1tzkLG3Z0DaQW2QgC8MG9tQZD2sNHVW08GM=\"; max-age=604800\nAccept-Ranges: bytes\n```\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/730/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/730/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/682", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/682/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/682/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/682/events", "html_url": "https://github.com/certbot/certbot/pull/682", "id": 100930219, "node_id": "MDExOlB1bGxSZXF1ZXN0NDI0MjI5NjY=", "number": 682, "title": "Fix enable_mod register_undo_command in challenges", "user": {"login": "jdkasten", "id": 1581662, "node_id": "MDQ6VXNlcjE1ODE2NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/1581662?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jdkasten", "html_url": "https://github.com/jdkasten", "followers_url": "https://api.github.com/users/jdkasten/followers", "following_url": "https://api.github.com/users/jdkasten/following{/other_user}", "gists_url": "https://api.github.com/users/jdkasten/gists{/gist_id}", "starred_url": "https://api.github.com/users/jdkasten/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jdkasten/subscriptions", "organizations_url": "https://api.github.com/users/jdkasten/orgs", "repos_url": "https://api.github.com/users/jdkasten/repos", "events_url": "https://api.github.com/users/jdkasten/events{/privacy}", "received_events_url": "https://api.github.com/users/jdkasten/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-08-14T04:19:32Z", "updated_at": "2015-08-17T20:50:07Z", "closed_at": "2015-08-14T16:33:31Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/certbot/certbot/pulls/682", "html_url": "https://github.com/certbot/certbot/pull/682", "diff_url": "https://github.com/certbot/certbot/pull/682.diff", "patch_url": "https://github.com/certbot/certbot/pull/682.patch", "merged_at": "2015-08-14T16:33:30Z"}, "body": "This bug was found with @bmw's testing suite in #628.  I believe I have fixed the bug and have written a test case against it.\n\nI will address the module dependencies cleanup in a separate PR.\n\nOnce ^ is complete, I will work on getting the plugin tests into the integration flow.\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/682/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/682/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/certbot/certbot/issues/646", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/646/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/646/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/646/events", "html_url": "https://github.com/certbot/certbot/issues/646", "id": 98844654, "node_id": "MDU6SXNzdWU5ODg0NDY1NA==", "number": 646, "title": "Renewer should register symlink change with reverter", "user": {"login": "jdkasten", "id": 1581662, "node_id": "MDQ6VXNlcjE1ODE2NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/1581662?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jdkasten", "html_url": "https://github.com/jdkasten", "followers_url": "https://api.github.com/users/jdkasten/followers", "following_url": "https://api.github.com/users/jdkasten/following{/other_user}", "gists_url": "https://api.github.com/users/jdkasten/gists{/gist_id}", "starred_url": "https://api.github.com/users/jdkasten/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jdkasten/subscriptions", "organizations_url": "https://api.github.com/users/jdkasten/orgs", "repos_url": "https://api.github.com/users/jdkasten/repos", "events_url": "https://api.github.com/users/jdkasten/events{/privacy}", "received_events_url": "https://api.github.com/users/jdkasten/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 210831837, "node_id": "MDU6TGFiZWwyMTA4MzE4Mzc=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20cert%20management", "name": "area: cert management", "color": "c5def5", "default": false, "description": null}, {"id": 261409142, "node_id": "MDU6TGFiZWwyNjE0MDkxNDI=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20renewal", "name": "area: renewal", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/3", "html_url": "https://github.com/certbot/certbot/milestone/3", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/3/labels", "id": 966385, "node_id": "MDk6TWlsZXN0b25lOTY2Mzg1", "number": 3, "title": "2.0.0", "description": "", "creator": {"login": "pde", "id": 479213, "node_id": "MDQ6VXNlcjQ3OTIxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/479213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pde", "html_url": "https://github.com/pde", "followers_url": "https://api.github.com/users/pde/followers", "following_url": "https://api.github.com/users/pde/following{/other_user}", "gists_url": "https://api.github.com/users/pde/gists{/gist_id}", "starred_url": "https://api.github.com/users/pde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pde/subscriptions", "organizations_url": "https://api.github.com/users/pde/orgs", "repos_url": "https://api.github.com/users/pde/repos", "events_url": "https://api.github.com/users/pde/events{/privacy}", "received_events_url": "https://api.github.com/users/pde/received_events", "type": "User", "site_admin": false}, "open_issues": 2, "closed_issues": 39, "state": "closed", "created_at": "2015-02-05T00:42:54Z", "updated_at": "2020-04-23T04:23:53Z", "due_on": null, "closed_at": "2016-01-14T22:00:27Z"}, "comments": 3, "created_at": "2015-08-03T21:45:41Z", "updated_at": "2015-10-26T03:28:59Z", "closed_at": "2015-10-26T03:28:59Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The renewer will need to use the reverter or a reverter like mechanism to register symlink change updates so that they can be rolled back appropriately.\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/646/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/646/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/631", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/631/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/631/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/631/events", "html_url": "https://github.com/certbot/certbot/pull/631", "id": 97183329, "node_id": "MDExOlB1bGxSZXF1ZXN0NDA4Mjk1MDY=", "number": 631, "title": "Apache Overhaul", "user": {"login": "jdkasten", "id": 1581662, "node_id": "MDQ6VXNlcjE1ODE2NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/1581662?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jdkasten", "html_url": "https://github.com/jdkasten", "followers_url": "https://api.github.com/users/jdkasten/followers", "following_url": "https://api.github.com/users/jdkasten/following{/other_user}", "gists_url": "https://api.github.com/users/jdkasten/gists{/gist_id}", "starred_url": "https://api.github.com/users/jdkasten/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jdkasten/subscriptions", "organizations_url": "https://api.github.com/users/jdkasten/orgs", "repos_url": "https://api.github.com/users/jdkasten/repos", "events_url": "https://api.github.com/users/jdkasten/events{/privacy}", "received_events_url": "https://api.github.com/users/jdkasten/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 146954789, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODk=", "url": "https://api.github.com/repos/certbot/certbot/labels/feature%20request", "name": "feature request", "color": "00ccff", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2015-07-25T02:29:19Z", "updated_at": "2015-07-31T23:02:36Z", "closed_at": "2015-07-31T23:02:04Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/certbot/certbot/pulls/631", "html_url": "https://github.com/certbot/certbot/pull/631", "diff_url": "https://github.com/certbot/certbot/pull/631.diff", "patch_url": "https://github.com/certbot/certbot/pull/631.patch", "merged_at": "2015-07-31T23:02:03Z"}, "body": "Sorry for the size of this PR, but it fixes most of the issues within Apache and raises test coverage to 100% for the Apache plugin.\nFixes #571 #603 #479 #394 and implements #17\n\nIn addition to the above issues... Here are some of the larger changes..\nParsing now incorporates current plugins and variable declarations and correctly applies them to IfModule and IfDefine directives.\n\nApache variables are interpreted correctly.\n\nApache works cleanly on the Debian default installation.\n\nBetter error handling in general.\n\nKnown list of things still left to do.\n1.  Support ports other than 443 for https\n2.  Support other Apache layouts (non-debian)\n3.  Include IfModule <rewrite_module> around rewrite directives.\n4.  Smarter auto-selection for vhosts.  It will prompt you if you have more than one non-default addressed VirtualHost.  (The command now runs seamlessly on the default Apache configuration)\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/631/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/631/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/certbot/certbot/issues/610", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/610/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/610/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/610/events", "html_url": "https://github.com/certbot/certbot/issues/610", "id": 95008031, "node_id": "MDU6SXNzdWU5NTAwODAzMQ==", "number": 610, "title": "nginx plugin should insert fullchain.pem instead of cert.pem", "user": {"login": "HepplerDotNet", "id": 12952240, "node_id": "MDQ6VXNlcjEyOTUyMjQw", "avatar_url": "https://avatars.githubusercontent.com/u/12952240?v=4", "gravatar_id": "", "url": "https://api.github.com/users/HepplerDotNet", "html_url": "https://github.com/HepplerDotNet", "followers_url": "https://api.github.com/users/HepplerDotNet/followers", "following_url": "https://api.github.com/users/HepplerDotNet/following{/other_user}", "gists_url": "https://api.github.com/users/HepplerDotNet/gists{/gist_id}", "starred_url": "https://api.github.com/users/HepplerDotNet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/HepplerDotNet/subscriptions", "organizations_url": "https://api.github.com/users/HepplerDotNet/orgs", "repos_url": "https://api.github.com/users/HepplerDotNet/repos", "events_url": "https://api.github.com/users/HepplerDotNet/events{/privacy}", "received_events_url": "https://api.github.com/users/HepplerDotNet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 258836706, "node_id": "MDU6TGFiZWwyNTg4MzY3MDY=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20nginx", "name": "area: nginx", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-07-14T18:30:26Z", "updated_at": "2015-10-12T23:41:52Z", "closed_at": "2015-10-12T23:41:52Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "letsencrypt nginx plugin should insert fullchain.pem into vhost conf instead of cert.pem.\nI'll bet cert.pem will raise an chain issue on ssllabs.com server test\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/610/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/610/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/581", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/581/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/581/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/581/events", "html_url": "https://github.com/certbot/certbot/issues/581", "id": 92508072, "node_id": "MDU6SXNzdWU5MjUwODA3Mg==", "number": 581, "title": "Fix Revocation for current ACME spec", "user": {"login": "jdkasten", "id": 1581662, "node_id": "MDQ6VXNlcjE1ODE2NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/1581662?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jdkasten", "html_url": "https://github.com/jdkasten", "followers_url": "https://api.github.com/users/jdkasten/followers", "following_url": "https://api.github.com/users/jdkasten/following{/other_user}", "gists_url": "https://api.github.com/users/jdkasten/gists{/gist_id}", "starred_url": "https://api.github.com/users/jdkasten/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jdkasten/subscriptions", "organizations_url": "https://api.github.com/users/jdkasten/orgs", "repos_url": "https://api.github.com/users/jdkasten/repos", "events_url": "https://api.github.com/users/jdkasten/events{/privacy}", "received_events_url": "https://api.github.com/users/jdkasten/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 146954789, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODk=", "url": "https://api.github.com/repos/certbot/certbot/labels/feature%20request", "name": "feature request", "color": "00ccff", "default": false, "description": null}, {"id": 210831837, "node_id": "MDU6TGFiZWwyMTA4MzE4Mzc=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20cert%20management", "name": "area: cert management", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/2", "html_url": "https://github.com/certbot/certbot/milestone/2", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/2/labels", "id": 966383, "node_id": "MDk6TWlsZXN0b25lOTY2Mzgz", "number": 2, "title": "1.0 for launch", "description": "", "creator": {"login": "pde", "id": 479213, "node_id": "MDQ6VXNlcjQ3OTIxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/479213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pde", "html_url": "https://github.com/pde", "followers_url": "https://api.github.com/users/pde/followers", "following_url": "https://api.github.com/users/pde/following{/other_user}", "gists_url": "https://api.github.com/users/pde/gists{/gist_id}", "starred_url": "https://api.github.com/users/pde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pde/subscriptions", "organizations_url": "https://api.github.com/users/pde/orgs", "repos_url": "https://api.github.com/users/pde/repos", "events_url": "https://api.github.com/users/pde/events{/privacy}", "received_events_url": "https://api.github.com/users/pde/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 79, "state": "closed", "created_at": "2015-02-05T00:42:45Z", "updated_at": "2016-07-06T23:16:33Z", "due_on": "2015-12-03T08:00:00Z", "closed_at": "2015-12-04T18:08:24Z"}, "comments": 2, "created_at": "2015-07-01T23:35:49Z", "updated_at": "2015-07-02T04:50:08Z", "closed_at": "2015-07-02T04:50:08Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Revocation worked at one point, but the code has rotted while ACME was overhauled.  We should create a certificate management interface and handle both revocation and renewal.\n\nThis is related to #338.\n\nOld, but perhaps relevant code.\nrevoker.py\ndisplay/revocation.py\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/581/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/581/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/573", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/573/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/573/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/573/events", "html_url": "https://github.com/certbot/certbot/issues/573", "id": 91932103, "node_id": "MDU6SXNzdWU5MTkzMjEwMw==", "number": 573, "title": "Apache -D parameters", "user": {"login": "jdkasten", "id": 1581662, "node_id": "MDQ6VXNlcjE1ODE2NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/1581662?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jdkasten", "html_url": "https://github.com/jdkasten", "followers_url": "https://api.github.com/users/jdkasten/followers", "following_url": "https://api.github.com/users/jdkasten/following{/other_user}", "gists_url": "https://api.github.com/users/jdkasten/gists{/gist_id}", "starred_url": "https://api.github.com/users/jdkasten/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jdkasten/subscriptions", "organizations_url": "https://api.github.com/users/jdkasten/orgs", "repos_url": "https://api.github.com/users/jdkasten/repos", "events_url": "https://api.github.com/users/jdkasten/events{/privacy}", "received_events_url": "https://api.github.com/users/jdkasten/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-06-29T23:10:13Z", "updated_at": "2015-06-29T23:36:13Z", "closed_at": "2015-06-29T23:36:13Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "While working on correctly parsing IfDefine configuration directives, my first solution only considers parameters defined by the environment variable APACHE_ARGUMENTS.\n\nThis will misses definitions directly passed to the binary via -D.\n\nI attempted playing around with apache2ctl -D DUMP_RUN_CFG, but my initial testing indicated it only presented variables defined during the particular run of apache2ctl.  Not the variables defined by the currently running server.\n\nIf I do not find a solution, I will have to add additional command-line parameters to Apache.\n\nAny help from those more knowledgeable about the subject would be greatly appreciated.\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/573/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/573/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/552", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/552/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/552/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/552/events", "html_url": "https://github.com/certbot/certbot/issues/552", "id": 91034851, "node_id": "MDU6SXNzdWU5MTAzNDg1MQ==", "number": 552, "title": "Solution for permissions", "user": {"login": "jdkasten", "id": 1581662, "node_id": "MDQ6VXNlcjE1ODE2NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/1581662?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jdkasten", "html_url": "https://github.com/jdkasten", "followers_url": "https://api.github.com/users/jdkasten/followers", "following_url": "https://api.github.com/users/jdkasten/following{/other_user}", "gists_url": "https://api.github.com/users/jdkasten/gists{/gist_id}", "starred_url": "https://api.github.com/users/jdkasten/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jdkasten/subscriptions", "organizations_url": "https://api.github.com/users/jdkasten/orgs", "repos_url": "https://api.github.com/users/jdkasten/repos", "events_url": "https://api.github.com/users/jdkasten/events{/privacy}", "received_events_url": "https://api.github.com/users/jdkasten/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 146954789, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODk=", "url": "https://api.github.com/repos/certbot/certbot/labels/feature%20request", "name": "feature request", "color": "00ccff", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/2", "html_url": "https://github.com/certbot/certbot/milestone/2", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/2/labels", "id": 966383, "node_id": "MDk6TWlsZXN0b25lOTY2Mzgz", "number": 2, "title": "1.0 for launch", "description": "", "creator": {"login": "pde", "id": 479213, "node_id": "MDQ6VXNlcjQ3OTIxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/479213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pde", "html_url": "https://github.com/pde", "followers_url": "https://api.github.com/users/pde/followers", "following_url": "https://api.github.com/users/pde/following{/other_user}", "gists_url": "https://api.github.com/users/pde/gists{/gist_id}", "starred_url": "https://api.github.com/users/pde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pde/subscriptions", "organizations_url": "https://api.github.com/users/pde/orgs", "repos_url": "https://api.github.com/users/pde/repos", "events_url": "https://api.github.com/users/pde/events{/privacy}", "received_events_url": "https://api.github.com/users/pde/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 79, "state": "closed", "created_at": "2015-02-05T00:42:45Z", "updated_at": "2016-07-06T23:16:33Z", "due_on": "2015-12-03T08:00:00Z", "closed_at": "2015-12-04T18:08:24Z"}, "comments": 4, "created_at": "2015-06-25T18:04:21Z", "updated_at": "2015-09-17T02:14:00Z", "closed_at": "2015-09-17T02:14:00Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "make_or_verify_dir was initially written to avoid privilege escalation attacks.  It checks that the directory is owned by the current user.  Since files are overwritten and files are transferred into protected directories as root, it was important that those files were not edited by a lower privileged user.  Requiring blanket permissions was an easy way to avoid the vulnerabilities.  \n\nExample vuln:  Backup configuration files for Apache will automatically be transferred into the configuration if Let's Encrypt fails... or rather if certain backup files exist.  Apache configuration files are Turing complete.\n\nNow that the project has transitioned into a much more robust and feature heavy application.  This limitation can be confusing and annoying.\n\nWe need a finer-grained approach that maintains the protections where necessary, but also avoids unnecessary restrictions.\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/552/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/552/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/550", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/550/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/550/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/550/events", "html_url": "https://github.com/certbot/certbot/issues/550", "id": 91020835, "node_id": "MDU6SXNzdWU5MTAyMDgzNQ==", "number": 550, "title": "Install verb deploys incorrect key", "user": {"login": "jdkasten", "id": 1581662, "node_id": "MDQ6VXNlcjE1ODE2NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/1581662?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jdkasten", "html_url": "https://github.com/jdkasten", "followers_url": "https://api.github.com/users/jdkasten/followers", "following_url": "https://api.github.com/users/jdkasten/following{/other_user}", "gists_url": "https://api.github.com/users/jdkasten/gists{/gist_id}", "starred_url": "https://api.github.com/users/jdkasten/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jdkasten/subscriptions", "organizations_url": "https://api.github.com/users/jdkasten/orgs", "repos_url": "https://api.github.com/users/jdkasten/repos", "events_url": "https://api.github.com/users/jdkasten/events{/privacy}", "received_events_url": "https://api.github.com/users/jdkasten/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2015-06-25T17:04:47Z", "updated_at": "2015-06-27T07:18:56Z", "closed_at": "2015-06-27T07:18:56Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The deploy_certificate call is currently using the account key which should never be the same as the key for the certificate.\n\nhttps://github.com/letsencrypt/letsencrypt/blob/master/letsencrypt/cli.py#L190\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/550/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/550/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/543", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/543/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/543/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/543/events", "html_url": "https://github.com/certbot/certbot/issues/543", "id": 90630204, "node_id": "MDU6SXNzdWU5MDYzMDIwNA==", "number": 543, "title": "Nginx Restart Failed!", "user": {"login": "alexohneander", "id": 1469954, "node_id": "MDQ6VXNlcjE0Njk5NTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1469954?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexohneander", "html_url": "https://github.com/alexohneander", "followers_url": "https://api.github.com/users/alexohneander/followers", "following_url": "https://api.github.com/users/alexohneander/following{/other_user}", "gists_url": "https://api.github.com/users/alexohneander/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexohneander/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexohneander/subscriptions", "organizations_url": "https://api.github.com/users/alexohneander/orgs", "repos_url": "https://api.github.com/users/alexohneander/repos", "events_url": "https://api.github.com/users/alexohneander/events{/privacy}", "received_events_url": "https://api.github.com/users/alexohneander/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 258836706, "node_id": "MDU6TGFiZWwyNTg4MzY3MDY=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20nginx", "name": "area: nginx", "color": "c5def5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2015-06-24T10:01:47Z", "updated_at": "2017-04-27T21:12:32Z", "closed_at": "2017-04-27T20:55:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "every Time i do `letsencrypt -d www.domain.de run`\ni got                            Nginx Restart Failed!                                                \u2502  \n                              \u2502 nginx: [emerg] the size 1048576 of shared memory zone \"SSL\"          \u2502  \n                              \u2502 conflicts with already declared size 5242880 in                      \u2502  \n                              \u2502 /etc/letsencrypt/options-ssl-nginx.conf:1   \n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/543/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/543/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/482", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/482/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/482/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/482/events", "html_url": "https://github.com/certbot/certbot/issues/482", "id": 85665540, "node_id": "MDU6SXNzdWU4NTY2NTU0MA==", "number": 482, "title": "When modules are moved, .pyc files can persist in the tree and cause havoc", "user": {"login": "pde", "id": 479213, "node_id": "MDQ6VXNlcjQ3OTIxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/479213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pde", "html_url": "https://github.com/pde", "followers_url": "https://api.github.com/users/pde/followers", "following_url": "https://api.github.com/users/pde/following{/other_user}", "gists_url": "https://api.github.com/users/pde/gists{/gist_id}", "starred_url": "https://api.github.com/users/pde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pde/subscriptions", "organizations_url": "https://api.github.com/users/pde/orgs", "repos_url": "https://api.github.com/users/pde/repos", "events_url": "https://api.github.com/users/pde/events{/privacy}", "received_events_url": "https://api.github.com/users/pde/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2015-06-06T00:45:32Z", "updated_at": "2015-10-20T02:52:38Z", "closed_at": "2015-10-20T02:52:38Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Running the client (\"python ./setup.py install\") from git gives:\n\n```\nletsencrypt\nTraceback (most recent call last):\n  File \"/usr/local/bin/letsencrypt\", line 9, in <module>\n    load_entry_point('letsencrypt==0.1', 'console_scripts', 'letsencrypt')()\n  File \"/usr/lib/python2.7/dist-packages/pkg_resources.py\", line 356, in load_entry_point\n    return get_distribution(dist).load_entry_point(group, name)\n  File \"/usr/lib/python2.7/dist-packages/pkg_resources.py\", line 2476, in load_entry_point\n    return ep.load()\n  File \"/usr/lib/python2.7/dist-packages/pkg_resources.py\", line 2190, in load\n    ['__name__'])\n  File \"/usr/local/lib/python2.7/dist-packages/letsencrypt-0.1-py2.7.egg/letsencrypt/cli.py\", line 17, in <module>\n    from letsencrypt import configuration\n  File \"/usr/local/lib/python2.7/dist-packages/letsencrypt-0.1-py2.7.egg/letsencrypt/configuration.py\", line 7, in <module>\n    from letsencrypt import constants\n  File \"/usr/local/lib/python2.7/dist-packages/letsencrypt-0.1-py2.7.egg/letsencrypt/constants.py\", line 26, in <module>\n    dvsni_port=challenges.DVSNI.PORT,\nAttributeError: type object 'DVSNI' has no attribute 'PORT'\n```\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/482/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/482/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/479", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/479/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/479/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/479/events", "html_url": "https://github.com/certbot/certbot/issues/479", "id": 84552492, "node_id": "MDU6SXNzdWU4NDU1MjQ5Mg==", "number": 479, "title": "Apache and nginx do not respect --dvsni-port", "user": {"login": "kuba", "id": 106176, "node_id": "MDQ6VXNlcjEwNjE3Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/106176?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kuba", "html_url": "https://github.com/kuba", "followers_url": "https://api.github.com/users/kuba/followers", "following_url": "https://api.github.com/users/kuba/following{/other_user}", "gists_url": "https://api.github.com/users/kuba/gists{/gist_id}", "starred_url": "https://api.github.com/users/kuba/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kuba/subscriptions", "organizations_url": "https://api.github.com/users/kuba/orgs", "repos_url": "https://api.github.com/users/kuba/repos", "events_url": "https://api.github.com/users/kuba/events{/privacy}", "received_events_url": "https://api.github.com/users/kuba/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2015-06-03T13:02:30Z", "updated_at": "2015-10-16T03:57:25Z", "closed_at": "2015-10-16T03:57:25Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Custom `--dvsni-port` works with the standalone authenticator only. Integration testing should also involve Apache and nginx plugins, but [they don't respect this option](https://github.com/letsencrypt/lets-encrypt-preview/blob/73e9956a481cf6504439ce437db1de978c00b046/letsencrypt/cli.py#L263).\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/479/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/479/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/443", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/443/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/443/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/443/events", "html_url": "https://github.com/certbot/certbot/issues/443", "id": 79630654, "node_id": "MDU6SXNzdWU3OTYzMDY1NA==", "number": 443, "title": "Client persistently broken by a single invocation with invalid --work-dir", "user": {"login": "schoen", "id": 1750103, "node_id": "MDQ6VXNlcjE3NTAxMDM=", "avatar_url": "https://avatars.githubusercontent.com/u/1750103?v=4", "gravatar_id": "", "url": "https://api.github.com/users/schoen", "html_url": "https://github.com/schoen", "followers_url": "https://api.github.com/users/schoen/followers", "following_url": "https://api.github.com/users/schoen/following{/other_user}", "gists_url": "https://api.github.com/users/schoen/gists{/gist_id}", "starred_url": "https://api.github.com/users/schoen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/schoen/subscriptions", "organizations_url": "https://api.github.com/users/schoen/orgs", "repos_url": "https://api.github.com/users/schoen/repos", "events_url": "https://api.github.com/users/schoen/events{/privacy}", "received_events_url": "https://api.github.com/users/schoen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-05-22T22:11:38Z", "updated_at": "2016-05-06T19:22:15Z", "closed_at": "2015-09-27T03:20:58Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Using the Apache configurator, running the client with\n\n`sudo ~/venv/bin/letsencrypt --work-dir yowl run`\n\npersistently breaks the client, even when subsequently run with an ordinary\n\n`sudo ~/venv/bin/letsencrypt run`\n\nFor reasons I haven't been able to deduce, on all subsequent client invocations Apache complains about not being able to find `/etc/letsencrypt/le_dvsni_cert_challenge.conf`.\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/443/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/443/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/428", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/428/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/428/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/428/events", "html_url": "https://github.com/certbot/certbot/issues/428", "id": 77849129, "node_id": "MDU6SXNzdWU3Nzg0OTEyOQ==", "number": 428, "title": "Deployment of renewed certs needs to call .restart()", "user": {"login": "schoen", "id": 1750103, "node_id": "MDQ6VXNlcjE3NTAxMDM=", "avatar_url": "https://avatars.githubusercontent.com/u/1750103?v=4", "gravatar_id": "", "url": "https://api.github.com/users/schoen", "html_url": "https://github.com/schoen", "followers_url": "https://api.github.com/users/schoen/followers", "following_url": "https://api.github.com/users/schoen/following{/other_user}", "gists_url": "https://api.github.com/users/schoen/gists{/gist_id}", "starred_url": "https://api.github.com/users/schoen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/schoen/subscriptions", "organizations_url": "https://api.github.com/users/schoen/orgs", "repos_url": "https://api.github.com/users/schoen/repos", "events_url": "https://api.github.com/users/schoen/events{/privacy}", "received_events_url": "https://api.github.com/users/schoen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 261409142, "node_id": "MDU6TGFiZWwyNjE0MDkxNDI=", "url": "https://api.github.com/repos/certbot/certbot/labels/area:%20renewal", "name": "area: renewal", "color": "c5def5", "default": false, "description": null}, {"id": 276239890, "node_id": "MDU6TGFiZWwyNzYyMzk4OTA=", "url": "https://api.github.com/repos/certbot/certbot/labels/easy-fix", "name": "easy-fix", "color": "207de5", "default": false, "description": null}, {"id": 281347824, "node_id": "MDU6TGFiZWwyODEzNDc4MjQ=", "url": "https://api.github.com/repos/certbot/certbot/labels/has%20pr", "name": "has pr", "color": "0052cc", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "schoen", "id": 1750103, "node_id": "MDQ6VXNlcjE3NTAxMDM=", "avatar_url": "https://avatars.githubusercontent.com/u/1750103?v=4", "gravatar_id": "", "url": "https://api.github.com/users/schoen", "html_url": "https://github.com/schoen", "followers_url": "https://api.github.com/users/schoen/followers", "following_url": "https://api.github.com/users/schoen/following{/other_user}", "gists_url": "https://api.github.com/users/schoen/gists{/gist_id}", "starred_url": "https://api.github.com/users/schoen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/schoen/subscriptions", "organizations_url": "https://api.github.com/users/schoen/orgs", "repos_url": "https://api.github.com/users/schoen/repos", "events_url": "https://api.github.com/users/schoen/events{/privacy}", "received_events_url": "https://api.github.com/users/schoen/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "schoen", "id": 1750103, "node_id": "MDQ6VXNlcjE3NTAxMDM=", "avatar_url": "https://avatars.githubusercontent.com/u/1750103?v=4", "gravatar_id": "", "url": "https://api.github.com/users/schoen", "html_url": "https://github.com/schoen", "followers_url": "https://api.github.com/users/schoen/followers", "following_url": "https://api.github.com/users/schoen/following{/other_user}", "gists_url": "https://api.github.com/users/schoen/gists{/gist_id}", "starred_url": "https://api.github.com/users/schoen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/schoen/subscriptions", "organizations_url": "https://api.github.com/users/schoen/orgs", "repos_url": "https://api.github.com/users/schoen/repos", "events_url": "https://api.github.com/users/schoen/events{/privacy}", "received_events_url": "https://api.github.com/users/schoen/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/13", "html_url": "https://github.com/certbot/certbot/milestone/13", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/13/labels", "id": 1458720, "node_id": "MDk6TWlsZXN0b25lMTQ1ODcyMA==", "number": 13, "title": "0.4.0", "description": "This release will feature reasonable autorenewal support, at least for users who are willing to configure their own cron jobs.", "creator": {"login": "pde", "id": 479213, "node_id": "MDQ6VXNlcjQ3OTIxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/479213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pde", "html_url": "https://github.com/pde", "followers_url": "https://api.github.com/users/pde/followers", "following_url": "https://api.github.com/users/pde/following{/other_user}", "gists_url": "https://api.github.com/users/pde/gists{/gist_id}", "starred_url": "https://api.github.com/users/pde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pde/subscriptions", "organizations_url": "https://api.github.com/users/pde/orgs", "repos_url": "https://api.github.com/users/pde/repos", "events_url": "https://api.github.com/users/pde/events{/privacy}", "received_events_url": "https://api.github.com/users/pde/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 78, "state": "closed", "created_at": "2015-12-14T09:29:18Z", "updated_at": "2017-03-08T00:56:23Z", "due_on": "2016-02-04T08:00:00Z", "closed_at": "2016-02-11T22:41:36Z"}, "comments": 4, "created_at": "2015-05-18T23:26:56Z", "updated_at": "2016-02-06T02:17:18Z", "closed_at": "2016-02-06T02:17:18Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Currently the renewer script doesn't attempt to instantiate the installer and hence can't invokve the installer's `.restart()` method to restart the web server. Restarting the web server would be expected behavior as part of a deployment because it's necessary in order to make the server actually start using the new cert.\n\n(The file links are successfully updated as part of the deployment step, but most server software wouldn't know to re-read them.)\n\nThe process of instantiating the installer ought to be exactly parallel to the existing process of instantiating the authenticator.\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/428/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/428/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/423", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/423/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/423/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/423/events", "html_url": "https://github.com/certbot/certbot/issues/423", "id": 76926955, "node_id": "MDU6SXNzdWU3NjkyNjk1NQ==", "number": 423, "title": "Inhibit spurious successive autorenewals", "user": {"login": "schoen", "id": 1750103, "node_id": "MDQ6VXNlcjE3NTAxMDM=", "avatar_url": "https://avatars.githubusercontent.com/u/1750103?v=4", "gravatar_id": "", "url": "https://api.github.com/users/schoen", "html_url": "https://github.com/schoen", "followers_url": "https://api.github.com/users/schoen/followers", "following_url": "https://api.github.com/users/schoen/following{/other_user}", "gists_url": "https://api.github.com/users/schoen/gists{/gist_id}", "starred_url": "https://api.github.com/users/schoen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/schoen/subscriptions", "organizations_url": "https://api.github.com/users/schoen/orgs", "repos_url": "https://api.github.com/users/schoen/repos", "events_url": "https://api.github.com/users/schoen/events{/privacy}", "received_events_url": "https://api.github.com/users/schoen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "schoen", "id": 1750103, "node_id": "MDQ6VXNlcjE3NTAxMDM=", "avatar_url": "https://avatars.githubusercontent.com/u/1750103?v=4", "gravatar_id": "", "url": "https://api.github.com/users/schoen", "html_url": "https://github.com/schoen", "followers_url": "https://api.github.com/users/schoen/followers", "following_url": "https://api.github.com/users/schoen/following{/other_user}", "gists_url": "https://api.github.com/users/schoen/gists{/gist_id}", "starred_url": "https://api.github.com/users/schoen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/schoen/subscriptions", "organizations_url": "https://api.github.com/users/schoen/orgs", "repos_url": "https://api.github.com/users/schoen/repos", "events_url": "https://api.github.com/users/schoen/events{/privacy}", "received_events_url": "https://api.github.com/users/schoen/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "schoen", "id": 1750103, "node_id": "MDQ6VXNlcjE3NTAxMDM=", "avatar_url": "https://avatars.githubusercontent.com/u/1750103?v=4", "gravatar_id": "", "url": "https://api.github.com/users/schoen", "html_url": "https://github.com/schoen", "followers_url": "https://api.github.com/users/schoen/followers", "following_url": "https://api.github.com/users/schoen/following{/other_user}", "gists_url": "https://api.github.com/users/schoen/gists{/gist_id}", "starred_url": "https://api.github.com/users/schoen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/schoen/subscriptions", "organizations_url": "https://api.github.com/users/schoen/orgs", "repos_url": "https://api.github.com/users/schoen/repos", "events_url": "https://api.github.com/users/schoen/events{/privacy}", "received_events_url": "https://api.github.com/users/schoen/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2015-05-16T02:47:28Z", "updated_at": "2015-05-18T23:51:53Z", "closed_at": "2015-05-18T23:51:53Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "If an automated renewal happens and isn't followed relatively soon by an automated deployment, the current renewer might think that _another_ automated renewal should happen (because the currently deployed cert is still out of date), and perform 2 or more renewals prior to deployment. The criteria for automated renewal need to be improved to prevent this from happening.\n\nOne likely solution for this would be to examine the expiry time not only of the currently-deployed cert, but of each of its successors (if any exist in the lineage).\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/423/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/423/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/395", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/395/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/395/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/395/events", "html_url": "https://github.com/certbot/certbot/issues/395", "id": 74495708, "node_id": "MDU6SXNzdWU3NDQ5NTcwOA==", "number": 395, "title": "recovery_routine should always be called when letsencrypt fails", "user": {"login": "diracdeltas", "id": 549654, "node_id": "MDQ6VXNlcjU0OTY1NA==", "avatar_url": "https://avatars.githubusercontent.com/u/549654?v=4", "gravatar_id": "", "url": "https://api.github.com/users/diracdeltas", "html_url": "https://github.com/diracdeltas", "followers_url": "https://api.github.com/users/diracdeltas/followers", "following_url": "https://api.github.com/users/diracdeltas/following{/other_user}", "gists_url": "https://api.github.com/users/diracdeltas/gists{/gist_id}", "starred_url": "https://api.github.com/users/diracdeltas/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/diracdeltas/subscriptions", "organizations_url": "https://api.github.com/users/diracdeltas/orgs", "repos_url": "https://api.github.com/users/diracdeltas/repos", "events_url": "https://api.github.com/users/diracdeltas/events{/privacy}", "received_events_url": "https://api.github.com/users/diracdeltas/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "bmw", "id": 6504915, "node_id": "MDQ6VXNlcjY1MDQ5MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6504915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmw", "html_url": "https://github.com/bmw", "followers_url": "https://api.github.com/users/bmw/followers", "following_url": "https://api.github.com/users/bmw/following{/other_user}", "gists_url": "https://api.github.com/users/bmw/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmw/subscriptions", "organizations_url": "https://api.github.com/users/bmw/orgs", "repos_url": "https://api.github.com/users/bmw/repos", "events_url": "https://api.github.com/users/bmw/events{/privacy}", "received_events_url": "https://api.github.com/users/bmw/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2015-05-08T21:07:21Z", "updated_at": "2015-09-26T08:25:58Z", "closed_at": "2015-09-26T08:25:58Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "`recovery_routine` is not consistently called when letsencrypt exits with an error, ex: when the DVSNI challenge fails. Maybe this is intentional, but users may not expect their server config files to be left in a weird state. Also, if the user then manually edits config files, those changes are lost when letsencrypt is run again.\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/395/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/395/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/394", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/394/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/394/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/394/events", "html_url": "https://github.com/certbot/certbot/issues/394", "id": 74097912, "node_id": "MDU6SXNzdWU3NDA5NzkxMg==", "number": 394, "title": "Allow rollback of enabling of mod_ssl", "user": {"login": "schoen", "id": 1750103, "node_id": "MDQ6VXNlcjE3NTAxMDM=", "avatar_url": "https://avatars.githubusercontent.com/u/1750103?v=4", "gravatar_id": "", "url": "https://api.github.com/users/schoen", "html_url": "https://github.com/schoen", "followers_url": "https://api.github.com/users/schoen/followers", "following_url": "https://api.github.com/users/schoen/following{/other_user}", "gists_url": "https://api.github.com/users/schoen/gists{/gist_id}", "starred_url": "https://api.github.com/users/schoen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/schoen/subscriptions", "organizations_url": "https://api.github.com/users/schoen/orgs", "repos_url": "https://api.github.com/users/schoen/repos", "events_url": "https://api.github.com/users/schoen/events{/privacy}", "received_events_url": "https://api.github.com/users/schoen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-05-07T19:23:18Z", "updated_at": "2015-07-31T23:06:29Z", "closed_at": "2015-07-31T23:06:29Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I found that when I used the client to get a cert for a site that previously had no HTTPS enabled at all, and then rolled back the configuration change with `-b 1`, the site continued listening on port 443 (but speaking HTTP rather than HTTPS on that port).\n\n@jdkasten has explained this as an inability for the rollback code to disable mod_ssl if it was enabled for the first time by the client. (Apache's ports.conf apparently makes listening on 443 default behavior if mod_ssl is loaded, even if there are no actual HTTPS virtual hosts enabled. So the client enables mod_ssl and then can't disable it afterward, and then Apache continues listening on 443.)\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/394/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/394/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/381", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/381/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/381/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/381/events", "html_url": "https://github.com/certbot/certbot/issues/381", "id": 73019418, "node_id": "MDU6SXNzdWU3MzAxOTQxOA==", "number": 381, "title": "StandaloneAuthenticator tests fail when port 443 is taken", "user": {"login": "kuba", "id": 106176, "node_id": "MDQ6VXNlcjEwNjE3Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/106176?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kuba", "html_url": "https://github.com/kuba", "followers_url": "https://api.github.com/users/kuba/followers", "following_url": "https://api.github.com/users/kuba/following{/other_user}", "gists_url": "https://api.github.com/users/kuba/gists{/gist_id}", "starred_url": "https://api.github.com/users/kuba/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kuba/subscriptions", "organizations_url": "https://api.github.com/users/kuba/orgs", "repos_url": "https://api.github.com/users/kuba/repos", "events_url": "https://api.github.com/users/kuba/events{/privacy}", "received_events_url": "https://api.github.com/users/kuba/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "schoen", "id": 1750103, "node_id": "MDQ6VXNlcjE3NTAxMDM=", "avatar_url": "https://avatars.githubusercontent.com/u/1750103?v=4", "gravatar_id": "", "url": "https://api.github.com/users/schoen", "html_url": "https://github.com/schoen", "followers_url": "https://api.github.com/users/schoen/followers", "following_url": "https://api.github.com/users/schoen/following{/other_user}", "gists_url": "https://api.github.com/users/schoen/gists{/gist_id}", "starred_url": "https://api.github.com/users/schoen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/schoen/subscriptions", "organizations_url": "https://api.github.com/users/schoen/orgs", "repos_url": "https://api.github.com/users/schoen/repos", "events_url": "https://api.github.com/users/schoen/events{/privacy}", "received_events_url": "https://api.github.com/users/schoen/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "schoen", "id": 1750103, "node_id": "MDQ6VXNlcjE3NTAxMDM=", "avatar_url": "https://avatars.githubusercontent.com/u/1750103?v=4", "gravatar_id": "", "url": "https://api.github.com/users/schoen", "html_url": "https://github.com/schoen", "followers_url": "https://api.github.com/users/schoen/followers", "following_url": "https://api.github.com/users/schoen/following{/other_user}", "gists_url": "https://api.github.com/users/schoen/gists{/gist_id}", "starred_url": "https://api.github.com/users/schoen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/schoen/subscriptions", "organizations_url": "https://api.github.com/users/schoen/orgs", "repos_url": "https://api.github.com/users/schoen/repos", "events_url": "https://api.github.com/users/schoen/events{/privacy}", "received_events_url": "https://api.github.com/users/schoen/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2015-05-04T13:29:12Z", "updated_at": "2015-06-02T19:25:58Z", "closed_at": "2015-06-02T19:25:58Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "```\ntest_can_perform (letsencrypt.client.plugins.standalone.tests.authenticator_test.PerformTest)\nWhat happens if start_listener() returns True. ... \n-------------------------------------------------------------------------------\nThe program apache2 (process ID 25204) is already listening on TCP port 443.\nThis will prevent us from binding to that port. Please stop the apache2 program\ntemporarily and then try again.\n-------------------------------------------------------------------------------\nPress Enter to Continue\nFAIL\ntest_cannot_perform (letsencrypt.client.plugins.standalone.tests.authenticator_test.PerformTest)\nWhat happens if start_listener() returns False. ... \n-------------------------------------------------------------------------------\nThe program apache2 (process ID 25204) is already listening on TCP port 443.\nThis will prevent us from binding to that port. Please stop the apache2 program\ntemporarily and then try again.\n-------------------------------------------------------------------------------\nPress Enter to Continue\nFAIL\n\n```\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/381/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/381/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/378", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/378/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/378/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/378/events", "html_url": "https://github.com/certbot/certbot/issues/378", "id": 72682404, "node_id": "MDU6SXNzdWU3MjY4MjQwNA==", "number": 378, "title": "I/O possible", "user": {"login": "kuba", "id": 106176, "node_id": "MDQ6VXNlcjEwNjE3Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/106176?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kuba", "html_url": "https://github.com/kuba", "followers_url": "https://api.github.com/users/kuba/followers", "following_url": "https://api.github.com/users/kuba/following{/other_user}", "gists_url": "https://api.github.com/users/kuba/gists{/gist_id}", "starred_url": "https://api.github.com/users/kuba/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kuba/subscriptions", "organizations_url": "https://api.github.com/users/kuba/orgs", "repos_url": "https://api.github.com/users/kuba/repos", "events_url": "https://api.github.com/users/kuba/events{/privacy}", "received_events_url": "https://api.github.com/users/kuba/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "schoen", "id": 1750103, "node_id": "MDQ6VXNlcjE3NTAxMDM=", "avatar_url": "https://avatars.githubusercontent.com/u/1750103?v=4", "gravatar_id": "", "url": "https://api.github.com/users/schoen", "html_url": "https://github.com/schoen", "followers_url": "https://api.github.com/users/schoen/followers", "following_url": "https://api.github.com/users/schoen/following{/other_user}", "gists_url": "https://api.github.com/users/schoen/gists{/gist_id}", "starred_url": "https://api.github.com/users/schoen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/schoen/subscriptions", "organizations_url": "https://api.github.com/users/schoen/orgs", "repos_url": "https://api.github.com/users/schoen/repos", "events_url": "https://api.github.com/users/schoen/events{/privacy}", "received_events_url": "https://api.github.com/users/schoen/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "schoen", "id": 1750103, "node_id": "MDQ6VXNlcjE3NTAxMDM=", "avatar_url": "https://avatars.githubusercontent.com/u/1750103?v=4", "gravatar_id": "", "url": "https://api.github.com/users/schoen", "html_url": "https://github.com/schoen", "followers_url": "https://api.github.com/users/schoen/followers", "following_url": "https://api.github.com/users/schoen/following{/other_user}", "gists_url": "https://api.github.com/users/schoen/gists{/gist_id}", "starred_url": "https://api.github.com/users/schoen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/schoen/subscriptions", "organizations_url": "https://api.github.com/users/schoen/orgs", "repos_url": "https://api.github.com/users/schoen/repos", "events_url": "https://api.github.com/users/schoen/events{/privacy}", "received_events_url": "https://api.github.com/users/schoen/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2015-05-02T18:50:22Z", "updated_at": "2015-05-18T17:18:13Z", "closed_at": "2015-05-18T17:18:13Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I often (but not always) get the `I/O possible` error. It's been happening for a while now, long before boulder branch got included.\n\n```\nDEBUG:root:Sending POST data: {\"header\": {\"alg\": \"RS256\", \"jwk\": {\"e\": \"AQAB\", \"kty\": \"RSA\", \"n\": \"rkxqHTiL6PtN8FIQt9MblqmLi0Hry4NrWjQQdwnQ8vwRb16RKjxLF5O4J6Xkv4pjeAsVJLJi5qpiLFz2uQn8m4PiQI6fY0lyo3ag2EXAYUaJsZRM92pcGWTEJYzWo55JwSzmHwxnaG9f3qp06IFz_xQ3qVm7g05iNDDYdOs-t1Mxz4fIrQ3brYfbFg80Xv_OhGvPGI4Ntm2f7VqEgGlTlRRuXl9-6b1-oictlekbATkIxojPZfB-ZbPCBcHViKJ9Mw0rD8bJbDCdl-I_yXeuNfAjLrmpjF7MuorKoJ7dK08otDzkebOIJP7qQ3BbyQd0uG7BMwwAh5BJwytmkcuVbw\"}}, \"payload\": \"eyJpZGVudGlmaWVyIjogeyJ0eXBlIjogImRucyIsICJ2YWx1ZSI6ICJmb28uY29tIn19\", \"signature\": \"XMJxL7idrIsh2ieJlElc7H8b57S6gsBDpC84DkL3FvDf5Quhb0wQRdsqWAmEnEXC8gF3TIEzGI4W2nTInylU2ca2H_rcJhhpTMObKmaZ1rX0Hqx8QFiDVoeu7XNVGQA81RV_KNlo0ej4YiusRvJr7VRK2uFB9Wn7kM6KFj3la_-kEoYTAmaRBcryzzcPlXLbKa5aeUtZT08eJ6fi_7f6J3WuseWpnyjiDv1wJt_HftsLJ00ix3EEygkuJJtRCbf9clAuuJfRTPpdDc42TuNF3wrlFlItSqwFMn-Pw2X4jMJGI2kGf_tmVaTVSL5Wfru3ZWj-LnXn3MAbA89aP1dr7A\"}\nDEBUG:root:Received response <Response [201]>: {\"identifier\":{\"type\":\"dns\",\"value\":\"foo.com\"},\"key\":{\"e\":\"AQAB\",\"kty\":\"RSA\",\"n\":\"rkxqHTiL6PtN8FIQt9MblqmLi0Hry4NrWjQQdwnQ8vwRb16RKjxLF5O4J6Xkv4pjeAsVJLJi5qpiLFz2uQn8m4PiQI6fY0lyo3ag2EXAYUaJsZRM92pcGWTEJYzWo55JwSzmHwxnaG9f3qp06IFz_xQ3qVm7g05iNDDYdOs-t1Mxz4fIrQ3brYfbFg80Xv_OhGvPGI4Ntm2f7VqEgGlTlRRuXl9-6b1-oictlekbATkIxojPZfB-ZbPCBcHViKJ9Mw0rD8bJbDCdl-I_yXeuNfAjLrmpjF7MuorKoJ7dK08otDzkebOIJP7qQ3BbyQd0uG7BMwwAh5BJwytmkcuVbw\"},\"status\":\"pending\",\"expires\":\"0001-01-01T00:00:00Z\",\"challenges\":[{\"type\":\"simpleHttps\",\"status\":\"pending\",\"uri\":\"https://www.letsencrypt-demo.org/acme/authz/5QAI1_s1ZU71HpghUM0RATsaRrZAQpuT4yMxTHXfKDA?challenge=0\",\"token\":\"mNJS7oiNFH2GfVAsPc9Nr763Xld1PAZLmQNe0dhkSeQ\"},{\"type\":\"dvsni\",\"status\":\"pending\",\"uri\":\"https://www.letsencrypt-demo.org/acme/authz/5QAI1_s1ZU71HpghUM0RATsaRrZAQpuT4yMxTHXfKDA?challenge=1\",\"r\":\"mxgVtg9L7imjzQOGTjCbziygn388rZAtFZXWrjdzCn0\",\"nonce\":\"f7ca5861765fb80b03415942139383da\"}],\"combinations\":[[0],[1]]}\nINFO:root:Performing the following challenges:\nINFO:root:  DVSNI challenge for foo.com.\nI/O possible\n(venv)root@le:~/lets-encrypt-preview# echo $?\n157\n(venv)root@le:~/lets-encrypt-preview# ps auxxww | grep letse\nroot     15423  0.0  7.6 121884 38696 pts/1    S    14:45   0:00 /root/lets-encrypt-preview/venv/bin/python2 /root/lets-encrypt-preview/venv/bin/letsencrypt -vvvv -ted foo.com -m admin@foo.com auth\n```\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/378/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/378/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/344", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/344/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/344/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/344/events", "html_url": "https://github.com/certbot/certbot/issues/344", "id": 67573888, "node_id": "MDU6SXNzdWU2NzU3Mzg4OA==", "number": 344, "title": "network/network2 API docs empty", "user": {"login": "kuba", "id": 106176, "node_id": "MDQ6VXNlcjEwNjE3Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/106176?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kuba", "html_url": "https://github.com/kuba", "followers_url": "https://api.github.com/users/kuba/followers", "following_url": "https://api.github.com/users/kuba/following{/other_user}", "gists_url": "https://api.github.com/users/kuba/gists{/gist_id}", "starred_url": "https://api.github.com/users/kuba/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kuba/subscriptions", "organizations_url": "https://api.github.com/users/kuba/orgs", "repos_url": "https://api.github.com/users/kuba/repos", "events_url": "https://api.github.com/users/kuba/events{/privacy}", "received_events_url": "https://api.github.com/users/kuba/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2015-04-10T11:27:52Z", "updated_at": "2015-07-13T21:03:29Z", "closed_at": "2015-07-13T21:03:29Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "http://letsencrypt.readthedocs.org/en/latest/api/client/network.html\nhttp://letsencrypt.readthedocs.org/en/latest/api/client/network2.html\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/344/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/344/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/289", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/289/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/289/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/289/events", "html_url": "https://github.com/certbot/certbot/issues/289", "id": 62824739, "node_id": "MDU6SXNzdWU2MjgyNDczOQ==", "number": 289, "title": "Pylint 1.4.3 linter_plugin.py", "user": {"login": "jdkasten", "id": 1581662, "node_id": "MDQ6VXNlcjE1ODE2NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/1581662?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jdkasten", "html_url": "https://github.com/jdkasten", "followers_url": "https://api.github.com/users/jdkasten/followers", "following_url": "https://api.github.com/users/jdkasten/following{/other_user}", "gists_url": "https://api.github.com/users/jdkasten/gists{/gist_id}", "starred_url": "https://api.github.com/users/jdkasten/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jdkasten/subscriptions", "organizations_url": "https://api.github.com/users/jdkasten/orgs", "repos_url": "https://api.github.com/users/jdkasten/repos", "events_url": "https://api.github.com/users/jdkasten/events{/privacy}", "received_events_url": "https://api.github.com/users/jdkasten/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-03-18T23:09:07Z", "updated_at": "2015-03-28T00:03:47Z", "closed_at": "2015-03-28T00:03:47Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Did a bit of digging on the pylint 1.4.3 [problem](https://travis-ci.org/letsencrypt/lets-encrypt-preview/jobs/54677169) There are a few issues.... first of all it appears that for the classes where slots really matter... (classes derived from `acme.util.ImmutableMap`) do not pass the recently added new-class style test.\n\nhttps://bitbucket.org/logilab/astroid/diff/astroid/scoped_nodes.py?diff1=ca726f4c9aad&diff2=46deabf86bd2ff4cf2bb3c5017240f56dc48d4c1&at=default\n\nThe major errors happen when the scoped_node(_Environ) class gets run which throws the exception..\nastroid.exceptions.AstroidError: Could not find <Import() l.398 [os] at 0x7f0feffce150> in <TryExcept() l.392 [os] at 0x7f0ff00bbfd0>'s children\n\nObviously, we should limit the plugin to run only on the classes derived from ImmutableMap, but the objects passed to the transform function are of `<class 'astroid.scoped_nodes.Class>`.  \nI did not find an easy way to access the underlying represented class... ie. classes like `letsencrypt.acme.challenges.*` where something like `issubclass` could be run.  Even if we do find a nice mechanism... the linter_plugin still won't work because the classes are not being recognized as having the `newstyle` attribute.\n\nThe changes causing the issues are extremely recent.  I might temporarily pin pylint to 1.4.1 or 1.4.2 until we can figure out what is going on or the issues are solved upstream.\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/289/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/289/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/269", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/269/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/269/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/269/events", "html_url": "https://github.com/certbot/certbot/issues/269", "id": 58994477, "node_id": "MDU6SXNzdWU1ODk5NDQ3Nw==", "number": 269, "title": "Circumstances for deletion of key material", "user": {"login": "schoen", "id": 1750103, "node_id": "MDQ6VXNlcjE3NTAxMDM=", "avatar_url": "https://avatars.githubusercontent.com/u/1750103?v=4", "gravatar_id": "", "url": "https://api.github.com/users/schoen", "html_url": "https://github.com/schoen", "followers_url": "https://api.github.com/users/schoen/followers", "following_url": "https://api.github.com/users/schoen/following{/other_user}", "gists_url": "https://api.github.com/users/schoen/gists{/gist_id}", "starred_url": "https://api.github.com/users/schoen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/schoen/subscriptions", "organizations_url": "https://api.github.com/users/schoen/orgs", "repos_url": "https://api.github.com/users/schoen/repos", "events_url": "https://api.github.com/users/schoen/events{/privacy}", "received_events_url": "https://api.github.com/users/schoen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 146954792, "node_id": "MDU6TGFiZWwxNDY5NTQ3OTI=", "url": "https://api.github.com/repos/certbot/certbot/labels/question", "name": "question", "color": "cc3399", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2015-02-26T00:24:07Z", "updated_at": "2018-09-13T00:13:40Z", "closed_at": "2018-09-13T00:13:40Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Are there circumstances in which we would actually delete private keys?\n\n(If so, we should use a secure deletion tool so that the private key isn't left behind on the hard drive afterward -- though on some filesystems we still can't guarantee that that won't happen.)\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/269/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/269/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/225", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/225/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/225/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/225/events", "html_url": "https://github.com/certbot/certbot/issues/225", "id": 56315510, "node_id": "MDU6SXNzdWU1NjMxNTUxMA==", "number": 225, "title": "traceback when cancelling domain selection", "user": {"login": "ThomasWaldmann", "id": 356103, "node_id": "MDQ6VXNlcjM1NjEwMw==", "avatar_url": "https://avatars.githubusercontent.com/u/356103?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ThomasWaldmann", "html_url": "https://github.com/ThomasWaldmann", "followers_url": "https://api.github.com/users/ThomasWaldmann/followers", "following_url": "https://api.github.com/users/ThomasWaldmann/following{/other_user}", "gists_url": "https://api.github.com/users/ThomasWaldmann/gists{/gist_id}", "starred_url": "https://api.github.com/users/ThomasWaldmann/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ThomasWaldmann/subscriptions", "organizations_url": "https://api.github.com/users/ThomasWaldmann/orgs", "repos_url": "https://api.github.com/users/ThomasWaldmann/repos", "events_url": "https://api.github.com/users/ThomasWaldmann/events{/privacy}", "received_events_url": "https://api.github.com/users/ThomasWaldmann/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2015-02-03T00:25:13Z", "updated_at": "2015-02-25T23:06:39Z", "closed_at": "2015-02-25T23:06:39Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "sudo letsencrypt -t\ncancel domain selection, boom:\n\nTraceback (most recent call last):\n  File \"./venv/bin/letsencrypt\", line 9, in <module>\n    load_entry_point('letsencrypt==0.1', 'console_scripts', 'letsencrypt')()\n  File \"/home/tw/w/lets-encrypt-preview/letsencrypt/scripts/main.py\", line 115, in main\n    domains = choose_names(installer) if args.domains is None else args.domains\n  File \"/home/tw/w/lets-encrypt-preview/letsencrypt/scripts/main.py\", line 158, in choose_names\n    interfaces.IDisplay).filter_names(get_all_names(installer))\n  File \"/home/tw/w/lets-encrypt-preview/letsencrypt/client/display.py\", line 300, in filter_names\n    return code, [names[tag]]\nIndexError: list index out of range\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/225/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/225/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/224", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/224/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/224/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/224/events", "html_url": "https://github.com/certbot/certbot/issues/224", "id": 56315412, "node_id": "MDU6SXNzdWU1NjMxNTQxMg==", "number": 224, "title": "traceback in x509v3_ext_conf", "user": {"login": "ThomasWaldmann", "id": 356103, "node_id": "MDQ6VXNlcjM1NjEwMw==", "avatar_url": "https://avatars.githubusercontent.com/u/356103?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ThomasWaldmann", "html_url": "https://github.com/ThomasWaldmann", "followers_url": "https://api.github.com/users/ThomasWaldmann/followers", "following_url": "https://api.github.com/users/ThomasWaldmann/following{/other_user}", "gists_url": "https://api.github.com/users/ThomasWaldmann/gists{/gist_id}", "starred_url": "https://api.github.com/users/ThomasWaldmann/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ThomasWaldmann/subscriptions", "organizations_url": "https://api.github.com/users/ThomasWaldmann/orgs", "repos_url": "https://api.github.com/users/ThomasWaldmann/repos", "events_url": "https://api.github.com/users/ThomasWaldmann/events{/privacy}", "received_events_url": "https://api.github.com/users/ThomasWaldmann/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2015-02-03T00:24:03Z", "updated_at": "2017-11-24T06:28:30Z", "closed_at": "2015-02-25T23:05:44Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "command: sudo letsencrypt -t\n\nthen selected 1 for first (and only) domain it found, then boom:\n\nTraceback (most recent call last):\n  File \"./venv/bin/letsencrypt\", line 9, in <module>\n    load_entry_point('letsencrypt==0.1', 'console_scripts', 'letsencrypt')()\n  File \"/home/tw/w/lets-encrypt-preview/letsencrypt/scripts/main.py\", line 133, in main\n    cert_file, chain_file = acme.obtain_certificate(domains)\n  File \"/home/tw/w/lets-encrypt-preview/letsencrypt/client/client.py\", line 98, in obtain_certificate\n    self.auth_handler.get_authorizations()\n  File \"/home/tw/w/lets-encrypt-preview/letsencrypt/client/auth_handler.py\", line 79, in get_authorizations\n    self._satisfy_challenges()\n  File \"/home/tw/w/lets-encrypt-preview/letsencrypt/client/auth_handler.py\", line 153, in _satisfy_challenges\n    dv_resp = self.dv_auth.perform(flat_auth)\n  File \"/home/tw/w/lets-encrypt-preview/letsencrypt/client/apache/configurator.py\", line 992, in perform\n    sni_response = apache_dvsni.perform()\n  File \"/home/tw/w/lets-encrypt-preview/letsencrypt/client/apache/dvsni.py\", line 90, in perform\n    s_b64 = self._setup_challenge_cert(chall)\n  File \"/home/tw/w/lets-encrypt-preview/letsencrypt/client/apache/dvsni.py\", line 108, in _setup_challenge_cert\n    chall.domain, chall.r_b64, chall.nonce, chall.key)\n  File \"/home/tw/w/lets-encrypt-preview/letsencrypt/client/challenge_util.py\", line 54, in dvsni_gen_cert\n    key.pem, [nonce + CONFIG.INVALID_EXT, name, ext])\n  File \"/home/tw/w/lets-encrypt-preview/letsencrypt/client/crypto_util.py\", line 214, in make_ss_cert\n    'subjectAltName', \", \".join([\"DNS:%s\" % d for d in domains])))\n  File \"/home/tw/w/lets-encrypt-preview/venv/local/lib/python2.7/site-packages/M2Crypto/X509.py\", line 32, in new_extension\n    x509_ext_ptr = m2.x509v3_ext_conf(lhash, ctx, name, value)\nTypeError: in method 'x509v3_ext_conf', argument 4 of type 'char *'\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/224/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/224/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/204", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/204/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/204/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/204/events", "html_url": "https://github.com/certbot/certbot/issues/204", "id": 55633929, "node_id": "MDU6SXNzdWU1NTYzMzkyOQ==", "number": 204, "title": "delay root requirement", "user": {"login": "ThomasWaldmann", "id": 356103, "node_id": "MDQ6VXNlcjM1NjEwMw==", "avatar_url": "https://avatars.githubusercontent.com/u/356103?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ThomasWaldmann", "html_url": "https://github.com/ThomasWaldmann", "followers_url": "https://api.github.com/users/ThomasWaldmann/followers", "following_url": "https://api.github.com/users/ThomasWaldmann/following{/other_user}", "gists_url": "https://api.github.com/users/ThomasWaldmann/gists{/gist_id}", "starred_url": "https://api.github.com/users/ThomasWaldmann/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ThomasWaldmann/subscriptions", "organizations_url": "https://api.github.com/users/ThomasWaldmann/orgs", "repos_url": "https://api.github.com/users/ThomasWaldmann/repos", "events_url": "https://api.github.com/users/ThomasWaldmann/events{/privacy}", "received_events_url": "https://api.github.com/users/ThomasWaldmann/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 146954789, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODk=", "url": "https://api.github.com/repos/certbot/certbot/labels/feature%20request", "name": "feature request", "color": "00ccff", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2015-01-27T15:44:19Z", "updated_at": "2015-06-29T16:35:00Z", "closed_at": "2015-06-29T16:35:00Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "currently, the code checks rather early for running as uid 0 and terminates letsencrypt if it is not running as root.\n\nthis code should be put in a function \"require_root\" (or so) and calls to that should be put at all places where it is clear that it can't continue without root.\n\nsee also #200 - that does not require root (in fact, it doesn't require much at all, except being able to modify DNS somehow).\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/204/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/204/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/201", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/201/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/201/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/201/events", "html_url": "https://github.com/certbot/certbot/issues/201", "id": 55453789, "node_id": "MDU6SXNzdWU1NTQ1Mzc4OQ==", "number": 201, "title": "Revoker.py not catching IOError for bad paths.", "user": {"login": "jdkasten", "id": 1581662, "node_id": "MDQ6VXNlcjE1ODE2NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/1581662?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jdkasten", "html_url": "https://github.com/jdkasten", "followers_url": "https://api.github.com/users/jdkasten/followers", "following_url": "https://api.github.com/users/jdkasten/following{/other_user}", "gists_url": "https://api.github.com/users/jdkasten/gists{/gist_id}", "starred_url": "https://api.github.com/users/jdkasten/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jdkasten/subscriptions", "organizations_url": "https://api.github.com/users/jdkasten/orgs", "repos_url": "https://api.github.com/users/jdkasten/repos", "events_url": "https://api.github.com/users/jdkasten/events{/privacy}", "received_events_url": "https://api.github.com/users/jdkasten/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-01-26T07:36:43Z", "updated_at": "2016-05-06T19:22:12Z", "closed_at": "2015-02-26T21:51:45Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The Revoker class needs an overhaul.  It needs to be compatible without an Installer, and it isn't handling all of the errors as well as it could be.  For instance, since the code cleanup, it isn't handling IOErrors which occur when bad paths are given to certificate files.\n\nIt could also use some code cleanup.\n\nget_all_certs_keys returns locations found in sites-available (within Apache).  I think that this is probably the correct functionality (find all of the possibly installed certificates), but the revoker must deal with the errors.\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/201/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/201/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/198", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/198/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/198/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/198/events", "html_url": "https://github.com/certbot/certbot/issues/198", "id": 55438455, "node_id": "MDU6SXNzdWU1NTQzODQ1NQ==", "number": 198, "title": "add pypi metadata to setup.py, fix license there", "user": {"login": "ThomasWaldmann", "id": 356103, "node_id": "MDQ6VXNlcjM1NjEwMw==", "avatar_url": "https://avatars.githubusercontent.com/u/356103?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ThomasWaldmann", "html_url": "https://github.com/ThomasWaldmann", "followers_url": "https://api.github.com/users/ThomasWaldmann/followers", "following_url": "https://api.github.com/users/ThomasWaldmann/following{/other_user}", "gists_url": "https://api.github.com/users/ThomasWaldmann/gists{/gist_id}", "starred_url": "https://api.github.com/users/ThomasWaldmann/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ThomasWaldmann/subscriptions", "organizations_url": "https://api.github.com/users/ThomasWaldmann/orgs", "repos_url": "https://api.github.com/users/ThomasWaldmann/repos", "events_url": "https://api.github.com/users/ThomasWaldmann/events{/privacy}", "received_events_url": "https://api.github.com/users/ThomasWaldmann/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2015-01-26T01:15:48Z", "updated_at": "2015-10-16T04:48:37Z", "closed_at": "2015-10-16T04:48:37Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "plus some other things, just build a pypi package and look into its metadata. \"UNDEFINED\".\n\ni suggest to put some of that stuff into `letsencrypt/__init__.py` and read the metadata from there as we'll soon do with `__version__`.\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/198/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/198/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/180", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/180/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/180/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/180/events", "html_url": "https://github.com/certbot/certbot/issues/180", "id": 55246407, "node_id": "MDU6SXNzdWU1NTI0NjQwNw==", "number": 180, "title": "IPv6 doesn't work", "user": {"login": "ThomasWaldmann", "id": 356103, "node_id": "MDQ6VXNlcjM1NjEwMw==", "avatar_url": "https://avatars.githubusercontent.com/u/356103?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ThomasWaldmann", "html_url": "https://github.com/ThomasWaldmann", "followers_url": "https://api.github.com/users/ThomasWaldmann/followers", "following_url": "https://api.github.com/users/ThomasWaldmann/following{/other_user}", "gists_url": "https://api.github.com/users/ThomasWaldmann/gists{/gist_id}", "starred_url": "https://api.github.com/users/ThomasWaldmann/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ThomasWaldmann/subscriptions", "organizations_url": "https://api.github.com/users/ThomasWaldmann/orgs", "repos_url": "https://api.github.com/users/ThomasWaldmann/repos", "events_url": "https://api.github.com/users/ThomasWaldmann/events{/privacy}", "received_events_url": "https://api.github.com/users/ThomasWaldmann/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/certbot/certbot/milestones/3", "html_url": "https://github.com/certbot/certbot/milestone/3", "labels_url": "https://api.github.com/repos/certbot/certbot/milestones/3/labels", "id": 966385, "node_id": "MDk6TWlsZXN0b25lOTY2Mzg1", "number": 3, "title": "2.0.0", "description": "", "creator": {"login": "pde", "id": 479213, "node_id": "MDQ6VXNlcjQ3OTIxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/479213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pde", "html_url": "https://github.com/pde", "followers_url": "https://api.github.com/users/pde/followers", "following_url": "https://api.github.com/users/pde/following{/other_user}", "gists_url": "https://api.github.com/users/pde/gists{/gist_id}", "starred_url": "https://api.github.com/users/pde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pde/subscriptions", "organizations_url": "https://api.github.com/users/pde/orgs", "repos_url": "https://api.github.com/users/pde/repos", "events_url": "https://api.github.com/users/pde/events{/privacy}", "received_events_url": "https://api.github.com/users/pde/received_events", "type": "User", "site_admin": false}, "open_issues": 2, "closed_issues": 39, "state": "closed", "created_at": "2015-02-05T00:42:54Z", "updated_at": "2020-04-23T04:23:53Z", "due_on": null, "closed_at": "2016-01-14T22:00:27Z"}, "comments": 15, "created_at": "2015-01-23T05:25:10Z", "updated_at": "2015-12-09T21:00:19Z", "closed_at": "2015-12-09T20:53:51Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "$ sudo ./venv/bin/letsencrypt -e -d myname.nsupdate.info -t\nINFO:root:Generating key: /etc/apache2/ssl/key-letsencrypt_17.pem\nINFO:root:Performing the following challenges:\nINFO:root:  DVSNI challenge for name myname.nsupdate.info.\nINFO:root:Ready for verification...\nINFO:root:Waiting for 3 seconds...\nCRITICAL:root:Expected message (authorization) not received\nCRITICAL:root:Failed Authorization procedure - cleaning up challenges\nINFO:root:Cleaning up challenges for myname.nsupdate.info\n\ntw@tux:~/w/lets-encrypt-preview$ host myname.nsupdate.info\nmyname.nsupdate.info has IPv6 address 2002:xxxx:xxxx:xxxx:xxxx:xxff:fexx:xxxx (only v6 in DNS!)\n\ntw@tux:~/w/lets-encrypt-preview$ host letsencrypt-demo.org\nletsencrypt-demo.org has address 54.183.196.250 (only v4 in DNS!)\n\nnote: myname.nsupdate.info has v4 and v6 connectivity.\n\nSo, not sure what's going wrong, but I think it would be good if you added a AAAA record for the ACME server (and also v6 connectivity in case it is not yet there).\n\nSame thing worked if I put an A record into DNS.\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/180/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/180/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/168", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/168/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/168/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/168/events", "html_url": "https://github.com/certbot/certbot/issues/168", "id": 54925601, "node_id": "MDU6SXNzdWU1NDkyNTYwMQ==", "number": 168, "title": "parsing cups printers.conf? wat?", "user": {"login": "ThomasWaldmann", "id": 356103, "node_id": "MDQ6VXNlcjM1NjEwMw==", "avatar_url": "https://avatars.githubusercontent.com/u/356103?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ThomasWaldmann", "html_url": "https://github.com/ThomasWaldmann", "followers_url": "https://api.github.com/users/ThomasWaldmann/followers", "following_url": "https://api.github.com/users/ThomasWaldmann/following{/other_user}", "gists_url": "https://api.github.com/users/ThomasWaldmann/gists{/gist_id}", "starred_url": "https://api.github.com/users/ThomasWaldmann/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ThomasWaldmann/subscriptions", "organizations_url": "https://api.github.com/users/ThomasWaldmann/orgs", "repos_url": "https://api.github.com/users/ThomasWaldmann/repos", "events_url": "https://api.github.com/users/ThomasWaldmann/events{/privacy}", "received_events_url": "https://api.github.com/users/ThomasWaldmann/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-01-20T19:13:33Z", "updated_at": "2015-01-21T06:16:49Z", "closed_at": "2015-01-21T06:16:49Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I installed as described in the README on Ubuntu 14.04 and after starting letsencrypt from the venv, it shows the disclaimer and after I agree, it shows:\n\n   There has been an error in parsing the file: /etc/cups/printers.conf  \n   Parse error: mismatched in square lens, expecting \"DefaultPrinter\"  \n   but got \"Printer\"  \n   No domain names were found in your installation  \n   Either specify which names you would like letsencrypt to validate  \n   or add server names to your virtual hosts                         \n\nWhy is it parsing my cups printers.conf???\n\n(the rest is ok, I have no hostnames, apache2 was freshly installed on this machine)\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/168/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/168/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/166", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/166/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/166/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/166/events", "html_url": "https://github.com/certbot/certbot/issues/166", "id": 54659274, "node_id": "MDU6SXNzdWU1NDY1OTI3NA==", "number": 166, "title": "Checkpoint backup system should be accessible even in a failed state.", "user": {"login": "jdkasten", "id": 1581662, "node_id": "MDQ6VXNlcjE1ODE2NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/1581662?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jdkasten", "html_url": "https://github.com/jdkasten", "followers_url": "https://api.github.com/users/jdkasten/followers", "following_url": "https://api.github.com/users/jdkasten/following{/other_user}", "gists_url": "https://api.github.com/users/jdkasten/gists{/gist_id}", "starred_url": "https://api.github.com/users/jdkasten/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jdkasten/subscriptions", "organizations_url": "https://api.github.com/users/jdkasten/orgs", "repos_url": "https://api.github.com/users/jdkasten/repos", "events_url": "https://api.github.com/users/jdkasten/events{/privacy}", "received_events_url": "https://api.github.com/users/jdkasten/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-01-17T11:38:13Z", "updated_at": "2016-05-06T19:22:11Z", "closed_at": "2015-01-29T11:16:01Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "In a failed state (which I am defining as a failed apache state where there doesn't exist a temporary or half-completed checkpoint) the rollback cannot be currently accessed.  This is caused by checking/loading mod_ssl on startup causing a call to the apache process to fail.  The Augeas recovery_routine (which does run) only \"recovers\" from half-baked or temporary checkpoints.\n\nI believe we should make a separate recovery interface that merely has the specific recovery functions.  This class wouldn't require a full ApacheConfigurator initialization, which would be much faster on startup, and it would never be affected by a failed Installer initialization.\n\nThis would also allow more opportunities for developers to use the \"save mechanism/recovery\" code even if they aren't implementing a subclass of AugeasConfigurator for their Installers.\n\nThoughts?\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/166/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/166/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/152", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/152/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/152/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/152/events", "html_url": "https://github.com/certbot/certbot/issues/152", "id": 53226257, "node_id": "MDU6SXNzdWU1MzIyNjI1Nw==", "number": 152, "title": "First run of setup.py fails when setting up M2Crypto", "user": {"login": "JensErat", "id": 628441, "node_id": "MDQ6VXNlcjYyODQ0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/628441?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JensErat", "html_url": "https://github.com/JensErat", "followers_url": "https://api.github.com/users/JensErat/followers", "following_url": "https://api.github.com/users/JensErat/following{/other_user}", "gists_url": "https://api.github.com/users/JensErat/gists{/gist_id}", "starred_url": "https://api.github.com/users/JensErat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JensErat/subscriptions", "organizations_url": "https://api.github.com/users/JensErat/orgs", "repos_url": "https://api.github.com/users/JensErat/repos", "events_url": "https://api.github.com/users/JensErat/events{/privacy}", "received_events_url": "https://api.github.com/users/JensErat/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2015-01-01T19:09:55Z", "updated_at": "2015-01-25T10:39:42Z", "closed_at": "2015-01-25T04:26:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "While constructing a Docker file, I got into trouble while running  `./venv/bin/python setup.py install`, which fails when running the first time (but succeeds on the second run).\n\nStacktrace of the error:\n\n```\nSearching for M2Crypto\nReading https://pypi.python.org/simple/M2Crypto/\nBest match: M2Crypto 0.22.3\nDownloading https://pypi.python.org/packages/source/M/M2Crypto/M2Crypto-0.22.3.tar.gz#md5=573f21aaac7d5c9549798e72ffcefedd\nProcessing M2Crypto-0.22.3.tar.gz\nWriting /tmp/easy_install-KBq_4X/M2Crypto-0.22.3/setup.cfg\nRunning M2Crypto-0.22.3/setup.py -q bdist_egg --dist-dir /tmp/easy_install-KBq_4X/M2Crypto-0.22.3/egg-dist-tmp-iRNoDy\nTraceback (most recent call last):\n  File \"setup.py\", line 57, in <module>\n    include_package_data=True,\n  File \"/usr/lib/python2.7/distutils/core.py\", line 151, in setup\n    dist.run_commands()\n  File \"/usr/lib/python2.7/distutils/dist.py\", line 953, in run_commands\n    self.run_command(cmd)\n  File \"/usr/lib/python2.7/distutils/dist.py\", line 972, in run_command\n    cmd_obj.run()\n  File \"/opt/lets-encrypt-preview/venv/local/lib/python2.7/site-packages/setuptools/command/install.py\", line 74, in run\n    self.do_egg_install()\n  File \"/opt/lets-encrypt-preview/venv/local/lib/python2.7/site-packages/setuptools/command/install.py\", line 97, in do_egg_install\n    cmd.run()\n  File \"/opt/lets-encrypt-preview/venv/local/lib/python2.7/site-packages/setuptools/command/easy_install.py\", line 358, in run\n    self.easy_install(spec, not self.no_deps)\n  File \"/opt/lets-encrypt-preview/venv/local/lib/python2.7/site-packages/setuptools/command/easy_install.py\", line 574, in easy_install\n    return self.install_item(None, spec, tmpdir, deps, True)\n  File \"/opt/lets-encrypt-preview/venv/local/lib/python2.7/site-packages/setuptools/command/easy_install.py\", line 625, in install_item\n    self.process_distribution(spec, dist, deps)\n  File \"/opt/lets-encrypt-preview/venv/local/lib/python2.7/site-packages/setuptools/command/easy_install.py\", line 671, in process_distribution\n    [requirement], self.local_index, self.easy_install\n  File \"/opt/lets-encrypt-preview/venv/local/lib/python2.7/site-packages/pkg_resources.py\", line 580, in resolve\n    dist = best[req.key] = env.best_match(req, ws, installer)\n  File \"/opt/lets-encrypt-preview/venv/local/lib/python2.7/site-packages/pkg_resources.py\", line 818, in best_match\n    return self.obtain(req, installer) # try and download/install\n  File \"/opt/lets-encrypt-preview/venv/local/lib/python2.7/site-packages/pkg_resources.py\", line 830, in obtain\n    return installer(requirement)\n  File \"/opt/lets-encrypt-preview/venv/local/lib/python2.7/site-packages/setuptools/command/easy_install.py\", line 593, in easy_install\n    return self.install_item(spec, dist.location, tmpdir, deps)\n  File \"/opt/lets-encrypt-preview/venv/local/lib/python2.7/site-packages/setuptools/command/easy_install.py\", line 623, in install_item\n    dists = self.install_eggs(spec, download, tmpdir)\n  File \"/opt/lets-encrypt-preview/venv/local/lib/python2.7/site-packages/setuptools/command/easy_install.py\", line 809, in install_eggs\n    return self.build_and_install(setup_script, setup_base)\n  File \"/opt/lets-encrypt-preview/venv/local/lib/python2.7/site-packages/setuptools/command/easy_install.py\", line 1015, in build_and_install\n    self.run_setup(setup_script, setup_base, args)\n  File \"/opt/lets-encrypt-preview/venv/local/lib/python2.7/site-packages/setuptools/command/easy_install.py\", line 1000, in run_setup\n    run_setup(setup_script, args)\n  File \"/opt/lets-encrypt-preview/venv/local/lib/python2.7/site-packages/setuptools/sandbox.py\", line 50, in run_setup\n    lambda: execfile(\n  File \"/opt/lets-encrypt-preview/venv/local/lib/python2.7/site-packages/setuptools/sandbox.py\", line 100, in run\n    return func()\n  File \"/opt/lets-encrypt-preview/venv/local/lib/python2.7/site-packages/setuptools/sandbox.py\", line 52, in <lambda>\n    {'__file__':setup_script, '__name__':'__main__'}\n  File \"setup.py\", line 148, in <module>\n\n  File \"/usr/lib/python2.7/distutils/core.py\", line 151, in setup\n    dist.run_commands()\n  File \"/usr/lib/python2.7/distutils/dist.py\", line 953, in run_commands\n    self.run_command(cmd)\n  File \"/usr/lib/python2.7/distutils/dist.py\", line 972, in run_command\n    cmd_obj.run()\n  File \"/opt/lets-encrypt-preview/venv/local/lib/python2.7/site-packages/setuptools/command/bdist_egg.py\", line 177, in run\n    self.run_command(\"egg_info\")\n  File \"/usr/lib/python2.7/distutils/cmd.py\", line 326, in run_command\n    self.distribution.run_command(command)\n  File \"/usr/lib/python2.7/distutils/dist.py\", line 972, in run_command\n    cmd_obj.run()\n  File \"/opt/lets-encrypt-preview/venv/local/lib/python2.7/site-packages/setuptools/command/egg_info.py\", line 163, in run\n    self.find_sources()\n  File \"/opt/lets-encrypt-preview/venv/local/lib/python2.7/site-packages/setuptools/command/egg_info.py\", line 186, in find_sources\n    mm.run()\n  File \"/opt/lets-encrypt-preview/venv/local/lib/python2.7/site-packages/setuptools/command/egg_info.py\", line 246, in run\n    self.add_defaults()\n  File \"/opt/lets-encrypt-preview/venv/local/lib/python2.7/site-packages/setuptools/command/egg_info.py\", line 282, in add_defaults\n    sdist.add_defaults(self)\n  File \"/opt/lets-encrypt-preview/venv/local/lib/python2.7/site-packages/setuptools/command/sdist.py\", line 179, in add_defaults\n    build_ext = self.get_finalized_command('build_ext')\n  File \"/usr/lib/python2.7/distutils/cmd.py\", line 312, in get_finalized_command\n    cmd_obj.ensure_finalized()\n  File \"/usr/lib/python2.7/distutils/cmd.py\", line 109, in ensure_finalized\n    self.finalize_options()\n  File \"setup.py\", line 69, in finalize_options\n\n  File \"/opt/lets-encrypt-preview/venv/local/lib/python2.7/site-packages/setuptools/command/build_ext.py\", line 108, in finalize_options\n    _build_ext.finalize_options(self)\n  File \"/usr/lib/python2.7/distutils/command/build_ext.py\", line 182, in finalize_options\n    if os.name == 'nt':\nAttributeError: 'NoneType' object has no attribute 'name'\n```\n\nDockerfile used so far (will put it on Github and post on mailing list when finished), as workaround I'm simply running the command twice (when it fails, which is currently always):\n\n```\nFROM ubuntu:trusty\nMAINTAINER Jens Erat <email@jenserat.de>\n\nEXPOSE 80 443\n\nENV DEBIAN_FRONTEND noninteractive\nRUN \\\n  apt-get update && \\\n  apt-get install --no-install-recommends -y apache2 && \\\n  apt-get install --no-install-recommends -y openssl ca-certificates git && \\\n  apt-get install --no-install-recommends -y python python-setuptools python-virtualenv python-dev gcc swig dialog libaugeas0 libssl-dev && \\\n  apt-get clean && rm -rf /var/lib/apt/lists/* /tmp/* /var/tmp/*\n\n# Quick and dirty fix for https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=696327\nRUN ln -s /usr/include/x86_64-linux-gnu/openssl/opensslconf.h /usr/include/openssl/\n\nRUN cd /opt && git clone https://github.com/letsencrypt/lets-encrypt-preview.git\nWORKDIR /opt/lets-encrypt-preview\n# For some reason, first installation attempt fails\nRUN \\\n  virtualenv --no-site-packages -p python2 venv && \\\n  ./venv/bin/python setup.py install || \\\n  ./venv/bin/python setup.py install\n```\n\nThe link used is a workaround for a Debian/Ubuntu issue, I don't think letsencrypt is in charge here.\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/152/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/152/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/120", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/120/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/120/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/120/events", "html_url": "https://github.com/certbot/certbot/issues/120", "id": 51479360, "node_id": "MDU6SXNzdWU1MTQ3OTM2MA==", "number": 120, "title": "Need to specify Python 2 when setting up virtualenv", "user": {"login": "njurgens", "id": 1845727, "node_id": "MDQ6VXNlcjE4NDU3Mjc=", "avatar_url": "https://avatars.githubusercontent.com/u/1845727?v=4", "gravatar_id": "", "url": "https://api.github.com/users/njurgens", "html_url": "https://github.com/njurgens", "followers_url": "https://api.github.com/users/njurgens/followers", "following_url": "https://api.github.com/users/njurgens/following{/other_user}", "gists_url": "https://api.github.com/users/njurgens/gists{/gist_id}", "starred_url": "https://api.github.com/users/njurgens/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/njurgens/subscriptions", "organizations_url": "https://api.github.com/users/njurgens/orgs", "repos_url": "https://api.github.com/users/njurgens/repos", "events_url": "https://api.github.com/users/njurgens/events{/privacy}", "received_events_url": "https://api.github.com/users/njurgens/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2014-12-09T20:46:17Z", "updated_at": "2015-10-05T21:42:00Z", "closed_at": "2014-12-15T02:16:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "The command to setup the virtualenv should specify Python 2 for compatibility with Linux distributions that use Python 3 as the default interpreter (Arch Linux, for example).  Otherwise `setup.py` fails with syntax errors.\n\n`virtualenv --no-site-packages --python=python2 venv`\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/120/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/120/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/107", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/107/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/107/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/107/events", "html_url": "https://github.com/certbot/certbot/issues/107", "id": 50444643, "node_id": "MDU6SXNzdWU1MDQ0NDY0Mw==", "number": 107, "title": "Rename the Debian package from `trustify` to `letsencrypt`", "user": {"login": "fmarier", "id": 167821, "node_id": "MDQ6VXNlcjE2NzgyMQ==", "avatar_url": "https://avatars.githubusercontent.com/u/167821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fmarier", "html_url": "https://github.com/fmarier", "followers_url": "https://api.github.com/users/fmarier/followers", "following_url": "https://api.github.com/users/fmarier/following{/other_user}", "gists_url": "https://api.github.com/users/fmarier/gists{/gist_id}", "starred_url": "https://api.github.com/users/fmarier/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fmarier/subscriptions", "organizations_url": "https://api.github.com/users/fmarier/orgs", "repos_url": "https://api.github.com/users/fmarier/repos", "events_url": "https://api.github.com/users/fmarier/events{/privacy}", "received_events_url": "https://api.github.com/users/fmarier/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2014-11-30T02:38:27Z", "updated_at": "2014-12-01T09:26:44Z", "closed_at": "2014-12-01T09:26:44Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/107/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/107/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/68", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/68/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/68/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/68/events", "html_url": "https://github.com/certbot/certbot/issues/68", "id": 49836260, "node_id": "MDU6SXNzdWU0OTgzNjI2MA==", "number": 68, "title": "Running the demo code on Debian Wheezy 7.6", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 16, "created_at": "2014-11-23T19:42:26Z", "updated_at": "2015-03-29T12:30:31Z", "closed_at": "2015-03-29T12:30:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi everybody,\nI tried the demo code for Ubuntu but on a Debian test server When hitting \"./venv/bin/letsencrypt\", I got the following in return. Is that return because of the unstable Apache2 conf layout? Anyhow, is there another way to test letsencrypt on Debian?\n\nTraceback (most recent call last):\n  File \"./venv/bin/letsencrypt\", line 9, in <module>\n    load_entry_point('letsencrypt==0.1', 'console_scripts', 'letsencrypt')()\n  File \"/home/stefan/lets-encrypt-preview-master/venv/local/lib/python2.7/site-packages/distribute-0.6.24-py2.7.egg/pkg_resources.py\", line 337, in load_entry_point\n    return get_distribution(dist).load_entry_point(group, name)\n  File \"/home/stefan/lets-encrypt-preview-master/venv/local/lib/python2.7/site-packages/distribute-0.6.24-py2.7.egg/pkg_resources.py\", line 2279, in load_entry_point\n    return ep.load()\n  File \"/home/stefan/lets-encrypt-preview-master/venv/local/lib/python2.7/site-packages/distribute-0.6.24-py2.7.egg/pkg_resources.py\", line 1989, in load\n    entry = **import**(self.module_name, globals(),globals(), ['**name**'])\n  File \"/home/stefan/lets-encrypt-preview-master/venv/local/lib/python2.7/site-packages/letsencrypt-0.1-py2.7.egg/letsencrypt/scripts/main.py\", line 7, in <module>\n    from letsencrypt.client import apache_configurator\n  File \"/home/stefan/lets-encrypt-preview-master/venv/local/lib/python2.7/site-packages/letsencrypt-0.1-py2.7.egg/letsencrypt/client/apache_configurator.py\", line 13, in <module>\n    from letsencrypt.client import augeas_configurator\n  File \"/home/stefan/lets-encrypt-preview-master/venv/local/lib/python2.7/site-packages/letsencrypt-0.1-py2.7.egg/letsencrypt/client/augeas_configurator.py\", line 6, in <module>\n    import augeas\n  File \"/home/stefan/lets-encrypt-preview-master/venv/local/lib/python2.7/site-packages/python_augeas-0.5.0-py2.7.egg/augeas.py\", line 78, in <module>\n    class Augeas(object):\n  File \"/home/stefan/lets-encrypt-preview-master/venv/local/lib/python2.7/site-packages/python_augeas-0.5.0-py2.7.egg/augeas.py\", line 82, in Augeas\n    _libaugeas = _dlopen(\"augeas\")\n  File \"/home/stefan/lets-encrypt-preview-master/venv/local/lib/python2.7/site-packages/python_augeas-0.5.0-py2.7.egg/augeas.py\", line 75, in _dlopen\n    raise ImportError(\"Unable to import lib%s!\" % args[0])\nImportError: Unable to import libaugeas!\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/68/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/68/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/58", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/58/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/58/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/58/events", "html_url": "https://github.com/certbot/certbot/issues/58", "id": 49792765, "node_id": "MDU6SXNzdWU0OTc5Mjc2NQ==", "number": 58, "title": "Continuous integration", "user": {"login": "kuba", "id": 106176, "node_id": "MDQ6VXNlcjEwNjE3Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/106176?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kuba", "html_url": "https://github.com/kuba", "followers_url": "https://api.github.com/users/kuba/followers", "following_url": "https://api.github.com/users/kuba/following{/other_user}", "gists_url": "https://api.github.com/users/kuba/gists{/gist_id}", "starred_url": "https://api.github.com/users/kuba/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kuba/subscriptions", "organizations_url": "https://api.github.com/users/kuba/orgs", "repos_url": "https://api.github.com/users/kuba/repos", "events_url": "https://api.github.com/users/kuba/events{/privacy}", "received_events_url": "https://api.github.com/users/kuba/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 146954789, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODk=", "url": "https://api.github.com/repos/certbot/certbot/labels/feature%20request", "name": "feature request", "color": "00ccff", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2014-11-22T14:30:13Z", "updated_at": "2014-12-17T08:23:51Z", "closed_at": "2014-12-17T08:23:51Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "We could set up a continuous integration server to check against the `master`. One of the candidates would be [Travis CI](https://travis-ci.org) (quite popular here on GitHub), but note it is non-free (as in libre) sofware.\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/58/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/58/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/55", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/55/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/55/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/55/events", "html_url": "https://github.com/certbot/certbot/issues/55", "id": 49771580, "node_id": "MDU6SXNzdWU0OTc3MTU4MA==", "number": 55, "title": ".ca_offerings vs ca_offerings", "user": {"login": "kuba", "id": 106176, "node_id": "MDQ6VXNlcjEwNjE3Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/106176?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kuba", "html_url": "https://github.com/kuba", "followers_url": "https://api.github.com/users/kuba/followers", "following_url": "https://api.github.com/users/kuba/following{/other_user}", "gists_url": "https://api.github.com/users/kuba/gists{/gist_id}", "starred_url": "https://api.github.com/users/kuba/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kuba/subscriptions", "organizations_url": "https://api.github.com/users/kuba/orgs", "repos_url": "https://api.github.com/users/kuba/repos", "events_url": "https://api.github.com/users/kuba/events{/privacy}", "received_events_url": "https://api.github.com/users/kuba/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-11-22T03:52:53Z", "updated_at": "2016-05-06T19:21:25Z", "closed_at": "2014-11-22T07:46:51Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Isn't one of `.ca_offerings` or `ca_offerings` redundant?\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/55/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/55/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/44", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/44/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/44/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/44/events", "html_url": "https://github.com/certbot/certbot/issues/44", "id": 49682688, "node_id": "MDU6SXNzdWU0OTY4MjY4OA==", "number": 44, "title": "Too generic exceptions", "user": {"login": "kuba", "id": 106176, "node_id": "MDQ6VXNlcjEwNjE3Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/106176?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kuba", "html_url": "https://github.com/kuba", "followers_url": "https://api.github.com/users/kuba/followers", "following_url": "https://api.github.com/users/kuba/following{/other_user}", "gists_url": "https://api.github.com/users/kuba/gists{/gist_id}", "starred_url": "https://api.github.com/users/kuba/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kuba/subscriptions", "organizations_url": "https://api.github.com/users/kuba/orgs", "repos_url": "https://api.github.com/users/kuba/repos", "events_url": "https://api.github.com/users/kuba/events{/privacy}", "received_events_url": "https://api.github.com/users/kuba/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2014-11-21T10:48:20Z", "updated_at": "2015-06-09T11:56:09Z", "closed_at": "2015-06-09T11:56:09Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "1. Catching `Exception` should always be avoided (e.g. it catches `KeyboardInterrupt` as well).\n2. Let's create our own exception hierarchy starting with `class LetsEncryptError(Exception)`, and use it instead of throwing generic `Exception`.\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/44/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/44/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/41", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/41/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/41/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/41/events", "html_url": "https://github.com/certbot/certbot/issues/41", "id": 49628981, "node_id": "MDU6SXNzdWU0OTYyODk4MQ==", "number": 41, "title": "`sudo ./letsencrypt.py` cannot access data installed by `setup.py install --user` in Debian", "user": {"login": "kuba", "id": 106176, "node_id": "MDQ6VXNlcjEwNjE3Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/106176?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kuba", "html_url": "https://github.com/kuba", "followers_url": "https://api.github.com/users/kuba/followers", "following_url": "https://api.github.com/users/kuba/following{/other_user}", "gists_url": "https://api.github.com/users/kuba/gists{/gist_id}", "starred_url": "https://api.github.com/users/kuba/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kuba/subscriptions", "organizations_url": "https://api.github.com/users/kuba/orgs", "repos_url": "https://api.github.com/users/kuba/repos", "events_url": "https://api.github.com/users/kuba/events{/privacy}", "received_events_url": "https://api.github.com/users/kuba/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 146954790, "node_id": "MDU6TGFiZWwxNDY5NTQ3OTA=", "url": "https://api.github.com/repos/certbot/certbot/labels/help%20wanted", "name": "help wanted", "color": "159818", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-11-20T22:48:12Z", "updated_at": "2014-11-21T21:31:21Z", "closed_at": "2014-11-21T21:31:21Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "`sys.path` doesn't include ~/.local when running as root in Debian wheezy:\n\n```\njakub@debian-wheezy:~/lets-encrypt-preview$ lsb_release -a\nNo LSB modules are available.\nDistributor ID: Debian\nDescription:    Debian GNU/Linux 7.6 (wheezy)\nRelease:        7.6\nCodename:       wheezy\njakub@test:~/lets-encrypt-preview$ python setup.py install --user >/dev/null 2>&1\njakub@test:~/lets-encrypt-preview$ sudo ./letsencrypt.py \nTraceback (most recent call last):\n  File \"./letsencrypt.py\", line 9, in <module>\n    from letsencrypt.client import client\nImportError: No module named letsencrypt.client\n$ ./letsencrypt.py \n\nOnly root can run letsencrypt.\n\njakub@test:~/lets-encrypt-preview$ sudo python -c 'import sys; print sys.path'                                                                                                                         \n['', '/usr/lib/python2.7', '/usr/lib/python2.7/plat-linux2', '/usr/lib/python2.7/lib-tk', '/usr/lib/python2.7/lib-old', '/usr/lib/python2.7/lib-dynload', '/usr/local/lib/python2.7/dist-packages', '/usr/lib/python2.7/dist-packages', '/usr/lib/pymodules/python2.7']\njakub@test:~/lets-encrypt-preview$ python -c 'import sys; print sys.path'\n['', '/home/jakub/.local/lib/python2.7/site-packages/letsencrypt-0.1-py2.7.egg', '/home/jakub/.local/lib/python2.7/site-packages/python2_pythondialog-3.0.1-py2.7.egg', '/home/jakub/.local/lib/python2.7/site-packages/pycrypto-2.6.1-py2.7-linux-x86_64.egg', '/home/jakub/.local/lib/python2.7/site-packages/M2Crypto-0.22.3-py2.7-linux-x86_64.egg', '/home/jakub/.local/lib/python2.7/site-packages/jsonschema-2.4.0-py2.7.egg', '/home/jakub/.local/lib/python2.7/site-packages/requests-2.4.3-py2.7.egg', '/usr/lib/python2.7', '/usr/lib/python2.7/plat-linux2', '/usr/lib/python2.7/lib-tk', '/usr/lib/python2.7/lib-old', '/usr/lib/python2.7/lib-dynload', '/home/jakub/.local/lib/python2.7/site-packages', '/usr/local/lib/python2.7/dist-packages', '/usr/lib/python2.7/dist-packages', '/usr/lib/pymodules/python2.7']\n$ python --version\nPython 2.7.3\n```\n\nand current Debian sid:\n\n```\njakub@debian-sid:~$ python -c 'import letsencrypt'\njakub@debian-sid:~$ sudo python -c 'import letsencrypt'\nTraceback (most recent call last):\n  File \"<string>\", line 1, in <module>\nImportError: No module named letsencrypt\njakub@debian-sid:~$ sudo python -c 'import sys; print sys.path'\n['', '/usr/lib/python2.7', '/usr/lib/python2.7/plat-x86_64-linux-gnu', '/usr/lib/python2.7/lib-tk', '/usr/lib/python2.7/lib-old', '/usr/lib/python2.7/lib-dynload', '/usr/local/lib/python2.7/dist-packages', '/usr/lib/python2.7/dist-packages', '/usr/lib/python2.7/dist-packages/PILcompat', '/usr/lib/python2.7/dist-packages/gtk-2.0', '/usr/lib/pymodules/python2.7']\njakub@debian-sid:~$ python -c 'import sys; print sys.path'\n['', '/home/jakub/.local/lib/python2.7/site-packages/python2_pythondialog-3.0.1-py2.7.egg', '/usr/lib/python2.7/dist-packages', '/home/jakub/dev/letsencrypt/lets-encrypt-preview', '/usr/lib/python2.7', '/usr/lib/python2.7/plat-x86_64-linux-gnu', '/usr/lib/python2.7/lib-tk', '/usr/lib/python2.7/lib-old', '/usr/lib/python2.7/lib-dynload', '/home/jakub/.local/lib/python2.7/site-packages', '/usr/local/lib/python2.7/dist-packages', '/usr/lib/python2.7/dist-packages/PILcompat', '/usr/lib/python2.7/dist-packages/gtk-2.0', '/usr/lib/pymodules/python2.7']\njakub@debian-sid:~$ python --version\nPython 2.7.8\n```\n\nwhile it's OK in Ubuntu 14.04.1 (trusty):\n\n```\njakub@ubuntu-trusty$ sudo python -c 'import sys; print sys.path'\n['', '/usr/lib/python2.7', '/usr/lib/python2.7/plat-x86_64-linux-gnu', '/usr/lib/python2.7/lib-tk', '/usr/lib/python2.7/lib-old', '/usr/lib/python2.7/lib-dynload', '/home/jakub/.local/lib/python2.7/site-packages', '/usr/local/lib/python2.7/dist-packages', '/usr/lib/python2.7/dist-packages']\n$ python --version\nPython 2.7.6\n```\n\nQuickfix would be to use `SUDO python setup.py install --user`, but I guess it's saner to give a guide for `virtualenv` as suggested in #10...\n\nAlso c.f. discussion in #40.\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/41/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/41/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/37", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/37/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/37/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/37/events", "html_url": "https://github.com/certbot/certbot/issues/37", "id": 49554027, "node_id": "MDU6SXNzdWU0OTU1NDAyNw==", "number": 37, "title": "Unable to find 'openssl/opensslv.h' ", "user": {"login": "mousavian", "id": 317322, "node_id": "MDQ6VXNlcjMxNzMyMg==", "avatar_url": "https://avatars.githubusercontent.com/u/317322?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mousavian", "html_url": "https://github.com/mousavian", "followers_url": "https://api.github.com/users/mousavian/followers", "following_url": "https://api.github.com/users/mousavian/following{/other_user}", "gists_url": "https://api.github.com/users/mousavian/gists{/gist_id}", "starred_url": "https://api.github.com/users/mousavian/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mousavian/subscriptions", "organizations_url": "https://api.github.com/users/mousavian/orgs", "repos_url": "https://api.github.com/users/mousavian/repos", "events_url": "https://api.github.com/users/mousavian/events{/privacy}", "received_events_url": "https://api.github.com/users/mousavian/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2014-11-20T14:00:56Z", "updated_at": "2016-09-14T15:54:30Z", "closed_at": "2014-11-22T01:09:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "I faced this error \n\n```\nSWIG/_m2crypto.i:30: Error: Unable to find 'openssl/opensslv.h'\n```\n\nand I solved it by installing **libssl-dev** package.\nSo I think this is another requirement.\n\n```\nsudo apt-get install libssl-dev\n```\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/37/reactions", "total_count": 12, "+1": 12, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/37/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/35", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/35/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/35/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/35/events", "html_url": "https://github.com/certbot/certbot/issues/35", "id": 49527543, "node_id": "MDU6SXNzdWU0OTUyNzU0Mw==", "number": 35, "title": "Send() failed may have lost connection", "user": {"login": "jarmouz", "id": 5909895, "node_id": "MDQ6VXNlcjU5MDk4OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/5909895?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jarmouz", "html_url": "https://github.com/jarmouz", "followers_url": "https://api.github.com/users/jarmouz/followers", "following_url": "https://api.github.com/users/jarmouz/following{/other_user}", "gists_url": "https://api.github.com/users/jarmouz/gists{/gist_id}", "starred_url": "https://api.github.com/users/jarmouz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jarmouz/subscriptions", "organizations_url": "https://api.github.com/users/jarmouz/orgs", "repos_url": "https://api.github.com/users/jarmouz/repos", "events_url": "https://api.github.com/users/jarmouz/events{/privacy}", "received_events_url": "https://api.github.com/users/jarmouz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 15, "created_at": "2014-11-20T10:43:16Z", "updated_at": "2014-11-22T19:44:56Z", "closed_at": "2014-11-22T19:44:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\n\ni am interested by this project. bu i have this fatal error  Send() failed may have lost connection\nHow can I resolve the problem ?\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/35/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/35/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/32", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/32/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/32/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/32/events", "html_url": "https://github.com/certbot/certbot/issues/32", "id": 49486452, "node_id": "MDU6SXNzdWU0OTQ4NjQ1Mg==", "number": 32, "title": "Readme doesn't include all dependencies", "user": {"login": "willnewby", "id": 1313599, "node_id": "MDQ6VXNlcjEzMTM1OTk=", "avatar_url": "https://avatars.githubusercontent.com/u/1313599?v=4", "gravatar_id": "", "url": "https://api.github.com/users/willnewby", "html_url": "https://github.com/willnewby", "followers_url": "https://api.github.com/users/willnewby/followers", "following_url": "https://api.github.com/users/willnewby/following{/other_user}", "gists_url": "https://api.github.com/users/willnewby/gists{/gist_id}", "starred_url": "https://api.github.com/users/willnewby/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/willnewby/subscriptions", "organizations_url": "https://api.github.com/users/willnewby/orgs", "repos_url": "https://api.github.com/users/willnewby/repos", "events_url": "https://api.github.com/users/willnewby/events{/privacy}", "received_events_url": "https://api.github.com/users/willnewby/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-11-20T03:17:54Z", "updated_at": "2014-11-20T06:31:32Z", "closed_at": "2014-11-20T06:31:32Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I had to install both swig and dialog in addition to the existing setup directions on my minimal ubuntu install in order for the script to execute without bailing.\n\nPR incoming.\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/32/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/32/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/certbot/certbot/issues/28", "repository_url": "https://api.github.com/repos/certbot/certbot", "labels_url": "https://api.github.com/repos/certbot/certbot/issues/28/labels{/name}", "comments_url": "https://api.github.com/repos/certbot/certbot/issues/28/comments", "events_url": "https://api.github.com/repos/certbot/certbot/issues/28/events", "html_url": "https://github.com/certbot/certbot/issues/28", "id": 49432792, "node_id": "MDU6SXNzdWU0OTQzMjc5Mg==", "number": 28, "title": "Send() failed... may have lost connection to server", "user": {"login": "mimi89999", "id": 8530546, "node_id": "MDQ6VXNlcjg1MzA1NDY=", "avatar_url": "https://avatars.githubusercontent.com/u/8530546?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mimi89999", "html_url": "https://github.com/mimi89999", "followers_url": "https://api.github.com/users/mimi89999/followers", "following_url": "https://api.github.com/users/mimi89999/following{/other_user}", "gists_url": "https://api.github.com/users/mimi89999/gists{/gist_id}", "starred_url": "https://api.github.com/users/mimi89999/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mimi89999/subscriptions", "organizations_url": "https://api.github.com/users/mimi89999/orgs", "repos_url": "https://api.github.com/users/mimi89999/repos", "events_url": "https://api.github.com/users/mimi89999/events{/privacy}", "received_events_url": "https://api.github.com/users/mimi89999/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 146954787, "node_id": "MDU6TGFiZWwxNDY5NTQ3ODc=", "url": "https://api.github.com/repos/certbot/certbot/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2014-11-19T18:12:59Z", "updated_at": "2014-11-20T20:14:57Z", "closed_at": "2014-11-20T18:40:06Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "After I've chosen the domain to use I get this error:\nSend() failed... may have lost connection to server\n", "reactions": {"url": "https://api.github.com/repos/certbot/certbot/issues/28/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/certbot/certbot/issues/28/timeline", "performed_via_github_app": null, "state_reason": "completed"}]