[{"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/2749", "repository_url": "https://api.github.com/repos/AlexsLemonade/refinebio", "labels_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/2749/labels{/name}", "comments_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/2749/comments", "events_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/2749/events", "html_url": "https://github.com/AlexsLemonade/refinebio/issues/2749", "id": 909853511, "node_id": "MDU6SXNzdWU5MDk4NTM1MTE=", "number": 2749, "title": "Import issues cause our tests to not run", "user": {"login": "wvauclain", "id": 13942258, "node_id": "MDQ6VXNlcjEzOTQyMjU4", "avatar_url": "https://avatars.githubusercontent.com/u/13942258?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wvauclain", "html_url": "https://github.com/wvauclain", "followers_url": "https://api.github.com/users/wvauclain/followers", "following_url": "https://api.github.com/users/wvauclain/following{/other_user}", "gists_url": "https://api.github.com/users/wvauclain/gists{/gist_id}", "starred_url": "https://api.github.com/users/wvauclain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wvauclain/subscriptions", "organizations_url": "https://api.github.com/users/wvauclain/orgs", "repos_url": "https://api.github.com/users/wvauclain/repos", "events_url": "https://api.github.com/users/wvauclain/events{/privacy}", "received_events_url": "https://api.github.com/users/wvauclain/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 559891810, "node_id": "MDU6TGFiZWw1NTk4OTE4MTA=", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 820454688, "node_id": "MDU6TGFiZWw4MjA0NTQ2ODg=", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/testing", "name": "testing", "color": "bdef67", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "wvauclain", "id": 13942258, "node_id": "MDQ6VXNlcjEzOTQyMjU4", "avatar_url": "https://avatars.githubusercontent.com/u/13942258?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wvauclain", "html_url": "https://github.com/wvauclain", "followers_url": "https://api.github.com/users/wvauclain/followers", "following_url": "https://api.github.com/users/wvauclain/following{/other_user}", "gists_url": "https://api.github.com/users/wvauclain/gists{/gist_id}", "starred_url": "https://api.github.com/users/wvauclain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wvauclain/subscriptions", "organizations_url": "https://api.github.com/users/wvauclain/orgs", "repos_url": "https://api.github.com/users/wvauclain/repos", "events_url": "https://api.github.com/users/wvauclain/events{/privacy}", "received_events_url": "https://api.github.com/users/wvauclain/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "wvauclain", "id": 13942258, "node_id": "MDQ6VXNlcjEzOTQyMjU4", "avatar_url": "https://avatars.githubusercontent.com/u/13942258?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wvauclain", "html_url": "https://github.com/wvauclain", "followers_url": "https://api.github.com/users/wvauclain/followers", "following_url": "https://api.github.com/users/wvauclain/following{/other_user}", "gists_url": "https://api.github.com/users/wvauclain/gists{/gist_id}", "starred_url": "https://api.github.com/users/wvauclain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wvauclain/subscriptions", "organizations_url": "https://api.github.com/users/wvauclain/orgs", "repos_url": "https://api.github.com/users/wvauclain/repos", "events_url": "https://api.github.com/users/wvauclain/events{/privacy}", "received_events_url": "https://api.github.com/users/wvauclain/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2021-06-02T20:20:56Z", "updated_at": "2021-06-03T18:58:52Z", "closed_at": "2021-06-03T18:58:52Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Context\r\n\r\nSee https://github.com/AlexsLemonade/refinebio/issues/1348 for more context on the issue the last time we faced it. The compendia tests were not running because there was some issue that I am currently tracking down in the `IterativeSVD` package.\r\n\r\n### Problem or idea\r\n\r\nIt looks like there are some classes of issues which cause tests not to run, including syntax errors. I found a new error that also causes tests to get skipped, but this one is not statically analyzable, so we need to find a new solution to this problem.\r\n\r\n### Solution or next step\r\n\r\nI think we should be able to make a new test in each directory that dynamically imports all of the other test files. As long as the imports are dynamic and happen inside the body of the test, this should avoid the issue from above.", "reactions": {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/2749/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/2749/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/2490", "repository_url": "https://api.github.com/repos/AlexsLemonade/refinebio", "labels_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/2490/labels{/name}", "comments_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/2490/comments", "events_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/2490/events", "html_url": "https://github.com/AlexsLemonade/refinebio/issues/2490", "id": 678752706, "node_id": "MDU6SXNzdWU2Nzg3NTI3MDY=", "number": 2490, "title": "Illumina image not building with update_my_docker_images.sh", "user": {"login": "BEW111", "id": 30025868, "node_id": "MDQ6VXNlcjMwMDI1ODY4", "avatar_url": "https://avatars.githubusercontent.com/u/30025868?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BEW111", "html_url": "https://github.com/BEW111", "followers_url": "https://api.github.com/users/BEW111/followers", "following_url": "https://api.github.com/users/BEW111/following{/other_user}", "gists_url": "https://api.github.com/users/BEW111/gists{/gist_id}", "starred_url": "https://api.github.com/users/BEW111/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BEW111/subscriptions", "organizations_url": "https://api.github.com/users/BEW111/orgs", "repos_url": "https://api.github.com/users/BEW111/repos", "events_url": "https://api.github.com/users/BEW111/events{/privacy}", "received_events_url": "https://api.github.com/users/BEW111/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 559891810, "node_id": "MDU6TGFiZWw1NTk4OTE4MTA=", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "wvauclain", "id": 13942258, "node_id": "MDQ6VXNlcjEzOTQyMjU4", "avatar_url": "https://avatars.githubusercontent.com/u/13942258?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wvauclain", "html_url": "https://github.com/wvauclain", "followers_url": "https://api.github.com/users/wvauclain/followers", "following_url": "https://api.github.com/users/wvauclain/following{/other_user}", "gists_url": "https://api.github.com/users/wvauclain/gists{/gist_id}", "starred_url": "https://api.github.com/users/wvauclain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wvauclain/subscriptions", "organizations_url": "https://api.github.com/users/wvauclain/orgs", "repos_url": "https://api.github.com/users/wvauclain/repos", "events_url": "https://api.github.com/users/wvauclain/events{/privacy}", "received_events_url": "https://api.github.com/users/wvauclain/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "wvauclain", "id": 13942258, "node_id": "MDQ6VXNlcjEzOTQyMjU4", "avatar_url": "https://avatars.githubusercontent.com/u/13942258?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wvauclain", "html_url": "https://github.com/wvauclain", "followers_url": "https://api.github.com/users/wvauclain/followers", "following_url": "https://api.github.com/users/wvauclain/following{/other_user}", "gists_url": "https://api.github.com/users/wvauclain/gists{/gist_id}", "starred_url": "https://api.github.com/users/wvauclain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wvauclain/subscriptions", "organizations_url": "https://api.github.com/users/wvauclain/orgs", "repos_url": "https://api.github.com/users/wvauclain/repos", "events_url": "https://api.github.com/users/wvauclain/events{/privacy}", "received_events_url": "https://api.github.com/users/wvauclain/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-08-13T21:45:52Z", "updated_at": "2020-08-14T15:07:39Z", "closed_at": "2020-08-14T15:07:39Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Context\r\n\r\nI tried building the docker images for cloud deployment with:\r\n`$ ./scripts/update_my_docker_images.sh -d bew1 -v v0.0.0`\r\n\r\n### Problem or idea\r\n\r\nWhen it gets to the Illumina images, I get this error (I made sure it happens on the dev branch):\r\n```\r\nAttaching package: 'limma'\r\n\r\nThe following object is masked from 'package:BiocGenerics':\r\n\r\n    plotMA\r\n\r\nError in library(oligo) : there is no package called 'oligo'\r\n```\r\n\r\nFor now I've been avoiding this by just not building the Illumina images and all the other images are building and pushing okay.\r\n\r\n### Solution or next step\r\n\r\nI guess it means that oligo isn't installed or something like that?\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/2490/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/2490/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/2391", "repository_url": "https://api.github.com/repos/AlexsLemonade/refinebio", "labels_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/2391/labels{/name}", "comments_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/2391/comments", "events_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/2391/events", "html_url": "https://github.com/AlexsLemonade/refinebio/issues/2391", "id": 652493702, "node_id": "MDU6SXNzdWU2NTI0OTM3MDI=", "number": 2391, "title": "Erroring on unversioned requests is broken", "user": {"login": "wvauclain", "id": 13942258, "node_id": "MDQ6VXNlcjEzOTQyMjU4", "avatar_url": "https://avatars.githubusercontent.com/u/13942258?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wvauclain", "html_url": "https://github.com/wvauclain", "followers_url": "https://api.github.com/users/wvauclain/followers", "following_url": "https://api.github.com/users/wvauclain/following{/other_user}", "gists_url": "https://api.github.com/users/wvauclain/gists{/gist_id}", "starred_url": "https://api.github.com/users/wvauclain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wvauclain/subscriptions", "organizations_url": "https://api.github.com/users/wvauclain/orgs", "repos_url": "https://api.github.com/users/wvauclain/repos", "events_url": "https://api.github.com/users/wvauclain/events{/privacy}", "received_events_url": "https://api.github.com/users/wvauclain/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 559891810, "node_id": "MDU6TGFiZWw1NTk4OTE4MTA=", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-07-07T17:26:03Z", "updated_at": "2020-07-13T18:20:51Z", "closed_at": "2020-07-13T18:20:51Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Context\r\n\r\nI typed in the URL wrong for our API and accidentally tried the unversioned one.\r\n\r\n### Problem or idea\r\n\r\nInstead of getting an error about unversioned URLs I got a 500 error with no details when hitting [https://api.refine.bio/samples/](https://api.refine.bio/samples/)\r\n\r\n### Solution or next step\r\n\r\nAre we doing some error filtering?\r\n", "reactions": {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/2391/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/2391/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/2290", "repository_url": "https://api.github.com/repos/AlexsLemonade/refinebio", "labels_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/2290/labels{/name}", "comments_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/2290/comments", "events_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/2290/events", "html_url": "https://github.com/AlexsLemonade/refinebio/issues/2290", "id": 627358949, "node_id": "MDU6SXNzdWU2MjczNTg5NDk=", "number": 2290, "title": "Illumina samples not processing properly", "user": {"login": "wvauclain", "id": 13942258, "node_id": "MDQ6VXNlcjEzOTQyMjU4", "avatar_url": "https://avatars.githubusercontent.com/u/13942258?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wvauclain", "html_url": "https://github.com/wvauclain", "followers_url": "https://api.github.com/users/wvauclain/followers", "following_url": "https://api.github.com/users/wvauclain/following{/other_user}", "gists_url": "https://api.github.com/users/wvauclain/gists{/gist_id}", "starred_url": "https://api.github.com/users/wvauclain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wvauclain/subscriptions", "organizations_url": "https://api.github.com/users/wvauclain/orgs", "repos_url": "https://api.github.com/users/wvauclain/repos", "events_url": "https://api.github.com/users/wvauclain/events{/privacy}", "received_events_url": "https://api.github.com/users/wvauclain/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 559891810, "node_id": "MDU6TGFiZWw1NTk4OTE4MTA=", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 918327558, "node_id": "MDU6TGFiZWw5MTgzMjc1NTg=", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/illumina%20beadchip", "name": "illumina beadchip", "color": "3c85c1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "wvauclain", "id": 13942258, "node_id": "MDQ6VXNlcjEzOTQyMjU4", "avatar_url": "https://avatars.githubusercontent.com/u/13942258?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wvauclain", "html_url": "https://github.com/wvauclain", "followers_url": "https://api.github.com/users/wvauclain/followers", "following_url": "https://api.github.com/users/wvauclain/following{/other_user}", "gists_url": "https://api.github.com/users/wvauclain/gists{/gist_id}", "starred_url": "https://api.github.com/users/wvauclain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wvauclain/subscriptions", "organizations_url": "https://api.github.com/users/wvauclain/orgs", "repos_url": "https://api.github.com/users/wvauclain/repos", "events_url": "https://api.github.com/users/wvauclain/events{/privacy}", "received_events_url": "https://api.github.com/users/wvauclain/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "wvauclain", "id": 13942258, "node_id": "MDQ6VXNlcjEzOTQyMjU4", "avatar_url": "https://avatars.githubusercontent.com/u/13942258?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wvauclain", "html_url": "https://github.com/wvauclain", "followers_url": "https://api.github.com/users/wvauclain/followers", "following_url": "https://api.github.com/users/wvauclain/following{/other_user}", "gists_url": "https://api.github.com/users/wvauclain/gists{/gist_id}", "starred_url": "https://api.github.com/users/wvauclain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wvauclain/subscriptions", "organizations_url": "https://api.github.com/users/wvauclain/orgs", "repos_url": "https://api.github.com/users/wvauclain/repos", "events_url": "https://api.github.com/users/wvauclain/events{/privacy}", "received_events_url": "https://api.github.com/users/wvauclain/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2020-05-29T15:40:35Z", "updated_at": "2020-06-08T12:06:42Z", "closed_at": "2020-06-08T12:06:42Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Context\r\n\r\n#2275\r\n\r\n### Problem or idea\r\n\r\nEven after detecting the right number of pvalue headers, the processing fails with\r\n```\r\n2020-05-29 14:13:16,452 local [volume: 0] data_refinery_workers.processors.illumina ERROR [title: Ad-EGFP-1.AVG_Signal] [processor_job: 20] [file_path: /home/user/data_store/processor_job_20/GSE56080_non-normalized.PCL]: Could not find sample for column while splitting Illumina file.\r\n2020-05-29 14:13:16,457 local [volume: 0] data_refinery_workers.processors.illumina ERROR [title: Ad-EGFP-2.AVG_Signal] [processor_job: 20] [file_path: /home/user/data_store/processor_job_20/GSE56080_non-normalized.PCL]: Could not find sample for column while splitting Illumina file.\r\n2020-05-29 14:13:16,463 local [volume: 0] data_refinery_workers.processors.illumina ERROR [title: Ad-Cre-1.AVG_Signal] [processor_job: 20] [file_path: /home/user/data_store/processor_job_20/GSE56080_non-normalized.PCL]: Could not find sample for column while splitting Illumina file.\r\n2020-05-29 14:13:16,468 local [volume: 0] data_refinery_workers.processors.illumina ERROR [title: Ad-Cre-2.AVG_Signal] [processor_job: 20] [file_path: /home/user/data_store/processor_job_20/GSE56080_non-normalized.PCL]: Could not find sample for column while splitting Illumina file.\r\n```\r\n\r\nFrom my conversation with @kurtwheeler it looks like we might be struggling to associate researchers' sample names with our accession codes while we are splitting out the files.\r\n\r\n### Solution or next step\r\n\r\nWe need to figure out why this is happening. It turns out GEO might also be able to return the information for individual samples like https://www.ncbi.nlm.nih.gov/geo/query/acc.cgi?view=data&acc=GSM1354762, so maybe this is better than splitting out files.\r\n", "reactions": {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/2290/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/2290/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/2276", "repository_url": "https://api.github.com/repos/AlexsLemonade/refinebio", "labels_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/2276/labels{/name}", "comments_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/2276/comments", "events_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/2276/events", "html_url": "https://github.com/AlexsLemonade/refinebio/issues/2276", "id": 624963204, "node_id": "MDU6SXNzdWU2MjQ5NjMyMDQ=", "number": 2276, "title": "Illumina regex should be search not match", "user": {"login": "davidsmejia", "id": 1075609, "node_id": "MDQ6VXNlcjEwNzU2MDk=", "avatar_url": "https://avatars.githubusercontent.com/u/1075609?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidsmejia", "html_url": "https://github.com/davidsmejia", "followers_url": "https://api.github.com/users/davidsmejia/followers", "following_url": "https://api.github.com/users/davidsmejia/following{/other_user}", "gists_url": "https://api.github.com/users/davidsmejia/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidsmejia/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidsmejia/subscriptions", "organizations_url": "https://api.github.com/users/davidsmejia/orgs", "repos_url": "https://api.github.com/users/davidsmejia/repos", "events_url": "https://api.github.com/users/davidsmejia/events{/privacy}", "received_events_url": "https://api.github.com/users/davidsmejia/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 559891810, "node_id": "MDU6TGFiZWw1NTk4OTE4MTA=", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "davidsmejia", "id": 1075609, "node_id": "MDQ6VXNlcjEwNzU2MDk=", "avatar_url": "https://avatars.githubusercontent.com/u/1075609?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidsmejia", "html_url": "https://github.com/davidsmejia", "followers_url": "https://api.github.com/users/davidsmejia/followers", "following_url": "https://api.github.com/users/davidsmejia/following{/other_user}", "gists_url": "https://api.github.com/users/davidsmejia/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidsmejia/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidsmejia/subscriptions", "organizations_url": "https://api.github.com/users/davidsmejia/orgs", "repos_url": "https://api.github.com/users/davidsmejia/repos", "events_url": "https://api.github.com/users/davidsmejia/events{/privacy}", "received_events_url": "https://api.github.com/users/davidsmejia/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "davidsmejia", "id": 1075609, "node_id": "MDQ6VXNlcjEwNzU2MDk=", "avatar_url": "https://avatars.githubusercontent.com/u/1075609?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidsmejia", "html_url": "https://github.com/davidsmejia", "followers_url": "https://api.github.com/users/davidsmejia/followers", "following_url": "https://api.github.com/users/davidsmejia/following{/other_user}", "gists_url": "https://api.github.com/users/davidsmejia/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidsmejia/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidsmejia/subscriptions", "organizations_url": "https://api.github.com/users/davidsmejia/orgs", "repos_url": "https://api.github.com/users/davidsmejia/repos", "events_url": "https://api.github.com/users/davidsmejia/events{/privacy}", "received_events_url": "https://api.github.com/users/davidsmejia/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-05-26T15:15:03Z", "updated_at": "2020-06-08T15:17:09Z", "closed_at": "2020-06-08T15:17:09Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Context\r\n\r\nIn illumina.py when we search for the header that contains the pvalue we currently are using `re.match` but we should be using `re.search` because the groups that are tested do not match if they are later in the search string. ie \"Detection Pval\" matches but not \"Random String.Detection Pvalue\" should but does not.\r\n\r\n### Next Step\r\nChange the re method", "reactions": {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/2276/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/2276/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/2240", "repository_url": "https://api.github.com/repos/AlexsLemonade/refinebio", "labels_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/2240/labels{/name}", "comments_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/2240/comments", "events_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/2240/events", "html_url": "https://github.com/AlexsLemonade/refinebio/issues/2240", "id": 603519094, "node_id": "MDU6SXNzdWU2MDM1MTkwOTQ=", "number": 2240, "title": "It's not possible to run a dev stack outside `us-east-1`", "user": {"login": "arielsvn", "id": 1882507, "node_id": "MDQ6VXNlcjE4ODI1MDc=", "avatar_url": "https://avatars.githubusercontent.com/u/1882507?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arielsvn", "html_url": "https://github.com/arielsvn", "followers_url": "https://api.github.com/users/arielsvn/followers", "following_url": "https://api.github.com/users/arielsvn/following{/other_user}", "gists_url": "https://api.github.com/users/arielsvn/gists{/gist_id}", "starred_url": "https://api.github.com/users/arielsvn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arielsvn/subscriptions", "organizations_url": "https://api.github.com/users/arielsvn/orgs", "repos_url": "https://api.github.com/users/arielsvn/repos", "events_url": "https://api.github.com/users/arielsvn/events{/privacy}", "received_events_url": "https://api.github.com/users/arielsvn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 559891810, "node_id": "MDU6TGFiZWw1NTk4OTE4MTA=", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 842058073, "node_id": "MDU6TGFiZWw4NDIwNTgwNzM=", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/infrastructure", "name": "infrastructure", "color": "3ed6ce", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-04-20T20:37:35Z", "updated_at": "2021-07-20T14:31:37Z", "closed_at": "2021-07-20T14:31:36Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Context\r\n\r\nI was testing an infrastructure change with a dev-stack deployed on `us-east-2`\r\n\r\n### Problem or idea\r\n\r\nLooks like some scripts are dependant on the region, and they assume that the app is deployed on `us-east-1`. For example: https://github.com/AlexsLemonade/refinebio/blob/dev/infrastructure/nomad-configuration/client-instance-user-data.tpl.sh#L31-L35\r\n\r\nWhen looking into one of the instances I got the following error:\r\n\r\n```\r\n+ EBS_VOLUME_ID=null\r\n+ aws ec2 attach-volume --volume-id null --instance-id i-00162d77206f82d6a --device /dev/sdf --region us-east-2\r\n\r\nAn error occurred (InvalidParameterValue) when calling the AttachVolume operation: Value (null) for parameter volume is invalid. Expected: 'vol-...'.\r\n```\r\n\r\n### Solution or next step\r\n\r\nFind the places where `us-east-1` is used and replace it with the region variable.", "reactions": {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/2240/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/2240/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/2054", "repository_url": "https://api.github.com/repos/AlexsLemonade/refinebio", "labels_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/2054/labels{/name}", "comments_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/2054/comments", "events_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/2054/events", "html_url": "https://github.com/AlexsLemonade/refinebio/issues/2054", "id": 547082416, "node_id": "MDU6SXNzdWU1NDcwODI0MTY=", "number": 2054, "title": "Processing info: Sample is not available but only tximport is run on it", "user": {"login": "dvenprasad", "id": 15315514, "node_id": "MDQ6VXNlcjE1MzE1NTE0", "avatar_url": "https://avatars.githubusercontent.com/u/15315514?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dvenprasad", "html_url": "https://github.com/dvenprasad", "followers_url": "https://api.github.com/users/dvenprasad/followers", "following_url": "https://api.github.com/users/dvenprasad/following{/other_user}", "gists_url": "https://api.github.com/users/dvenprasad/gists{/gist_id}", "starred_url": "https://api.github.com/users/dvenprasad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dvenprasad/subscriptions", "organizations_url": "https://api.github.com/users/dvenprasad/orgs", "repos_url": "https://api.github.com/users/dvenprasad/repos", "events_url": "https://api.github.com/users/dvenprasad/events{/privacy}", "received_events_url": "https://api.github.com/users/dvenprasad/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 559891810, "node_id": "MDU6TGFiZWw1NTk4OTE4MTA=", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [{"login": "arielsvn", "id": 1882507, "node_id": "MDQ6VXNlcjE4ODI1MDc=", "avatar_url": "https://avatars.githubusercontent.com/u/1882507?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arielsvn", "html_url": "https://github.com/arielsvn", "followers_url": "https://api.github.com/users/arielsvn/followers", "following_url": "https://api.github.com/users/arielsvn/following{/other_user}", "gists_url": "https://api.github.com/users/arielsvn/gists{/gist_id}", "starred_url": "https://api.github.com/users/arielsvn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arielsvn/subscriptions", "organizations_url": "https://api.github.com/users/arielsvn/orgs", "repos_url": "https://api.github.com/users/arielsvn/repos", "events_url": "https://api.github.com/users/arielsvn/events{/privacy}", "received_events_url": "https://api.github.com/users/arielsvn/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2020-01-03T19:58:58Z", "updated_at": "2020-01-10T19:26:55Z", "closed_at": "2020-01-10T19:26:55Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Ex:\r\nhttps://www.refine.bio/experiments/SRP074593/gene-expression-profiling-of-drosophila-s2r-cells-following-rnai-mediated-knockdown-of-transcription-factors\r\n\r\n![Screen Shot 2020-01-03 at 2 58 39 PM](https://user-images.githubusercontent.com/15315514/71745903-8e155e00-2e39-11ea-92d4-de1927766356.png)\r\n\r\n\r\nWe should just show the submitter supplied info, since the samples aren't really processed through our pipeline\r\n", "reactions": {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/2054/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/2054/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1997", "repository_url": "https://api.github.com/repos/AlexsLemonade/refinebio", "labels_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1997/labels{/name}", "comments_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1997/comments", "events_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1997/events", "html_url": "https://github.com/AlexsLemonade/refinebio/issues/1997", "id": 537613591, "node_id": "MDU6SXNzdWU1Mzc2MTM1OTE=", "number": 1997, "title": "Statuscake didn't alert us that the API was down all night", "user": {"login": "kurtwheeler", "id": 4026833, "node_id": "MDQ6VXNlcjQwMjY4MzM=", "avatar_url": "https://avatars.githubusercontent.com/u/4026833?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kurtwheeler", "html_url": "https://github.com/kurtwheeler", "followers_url": "https://api.github.com/users/kurtwheeler/followers", "following_url": "https://api.github.com/users/kurtwheeler/following{/other_user}", "gists_url": "https://api.github.com/users/kurtwheeler/gists{/gist_id}", "starred_url": "https://api.github.com/users/kurtwheeler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kurtwheeler/subscriptions", "organizations_url": "https://api.github.com/users/kurtwheeler/orgs", "repos_url": "https://api.github.com/users/kurtwheeler/repos", "events_url": "https://api.github.com/users/kurtwheeler/events{/privacy}", "received_events_url": "https://api.github.com/users/kurtwheeler/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 559891810, "node_id": "MDU6TGFiZWw1NTk4OTE4MTA=", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 872422017, "node_id": "MDU6TGFiZWw4NzI0MjIwMTc=", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/api", "name": "api", "color": "ecc2f9", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-12-13T15:34:10Z", "updated_at": "2019-12-27T14:57:32Z", "closed_at": "2019-12-27T14:57:32Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Context\r\n\r\nI got a slack message this morning asking when the API might come back up.\r\n\r\n### Problem or idea\r\n\r\nThat was the first I had heard that it was down. I thought we had statuscake set up so that our users wouldn't be the first to notify us when our API is down.\r\n\r\n### Solution or next step\r\n\r\nFix statuscake again. If it's not already configured to do so, send it to #ccdl-general and #devops so that it doesn't get lost in the spam that's in #robots\r\n", "reactions": {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1997/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1997/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1967", "repository_url": "https://api.github.com/repos/AlexsLemonade/refinebio", "labels_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1967/labels{/name}", "comments_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1967/comments", "events_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1967/events", "html_url": "https://github.com/AlexsLemonade/refinebio/issues/1967", "id": 531203560, "node_id": "MDU6SXNzdWU1MzEyMDM1NjA=", "number": 1967, "title": "All parameterized Nomad jobs aren't being queued correctly.", "user": {"login": "kurtwheeler", "id": 4026833, "node_id": "MDQ6VXNlcjQwMjY4MzM=", "avatar_url": "https://avatars.githubusercontent.com/u/4026833?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kurtwheeler", "html_url": "https://github.com/kurtwheeler", "followers_url": "https://api.github.com/users/kurtwheeler/followers", "following_url": "https://api.github.com/users/kurtwheeler/following{/other_user}", "gists_url": "https://api.github.com/users/kurtwheeler/gists{/gist_id}", "starred_url": "https://api.github.com/users/kurtwheeler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kurtwheeler/subscriptions", "organizations_url": "https://api.github.com/users/kurtwheeler/orgs", "repos_url": "https://api.github.com/users/kurtwheeler/repos", "events_url": "https://api.github.com/users/kurtwheeler/events{/privacy}", "received_events_url": "https://api.github.com/users/kurtwheeler/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 559891810, "node_id": "MDU6TGFiZWw1NTk4OTE4MTA=", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 918556985, "node_id": "MDU6TGFiZWw5MTg1NTY5ODU=", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/devops", "name": "devops", "color": "f9d0c4", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-12-02T15:29:56Z", "updated_at": "2019-12-05T16:28:19Z", "closed_at": "2019-12-05T16:28:19Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Context\r\n\r\nFrom the lead Nomad server:\r\n```\r\n$ nomad status\r\nID                         Type                 Priority  Status   Submit Date\r\nCREATE_COMPENDIA           batch/parameterized  80        running  2019-12-02T15:16:09Z\r\nCREATE_QN_TARGET           batch/parameterized  80        running  2019-12-02T15:16:09Z\r\nCREATE_QUANTPENDIA         batch/parameterized  80        running  2019-12-02T15:16:09Z\r\nSEQUENTIAL_SURVEYOR_16384  batch/parameterized  30        running  2019-12-02T15:16:09Z\r\nSEQUENTIAL_SURVEYOR_256    batch/parameterized  30        running  2019-12-02T15:16:09Z\r\nSEQUENTIAL_SURVEYOR_4096   batch/parameterized  30        running  2019-12-02T15:16:09Z\r\nSMASHER                    batch/parameterized  75        running  2019-12-02T15:16:09Z\r\nSURVEYOR_16384             batch/parameterized  30        running  2019-12-02T15:16:09Z\r\nSURVEYOR_256               batch/parameterized  30        running  2019-12-02T15:16:09Z\r\nSURVEYOR_4096              batch/parameterized  30        running  2019-12-02T15:16:09Z\r\nSURVEYOR_DISPATCHER        batch/parameterized  90        running  2019-12-02T15:16:09Z\r\nTXIMPORT                   batch/parameterized  50        running  2019-12-02T15:16:09Z\r\n```\r\n\r\n### Problem or idea\r\n\r\nThere should be a lot more. Like all the salmon, affy, illumnina, transcriptome, etc.\r\n\r\n### Solution or next step\r\n\r\nFigure out why these aren't getting queued and fix it!!!", "reactions": {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1967/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1967/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1964", "repository_url": "https://api.github.com/repos/AlexsLemonade/refinebio", "labels_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1964/labels{/name}", "comments_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1964/comments", "events_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1964/events", "html_url": "https://github.com/AlexsLemonade/refinebio/pull/1964", "id": 529837842, "node_id": "MDExOlB1bGxSZXF1ZXN0MzQ2NjM4NzY0", "number": 1964, "title": "Fix compendia missing output file", "user": {"login": "cgreene", "id": 542643, "node_id": "MDQ6VXNlcjU0MjY0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/542643?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cgreene", "html_url": "https://github.com/cgreene", "followers_url": "https://api.github.com/users/cgreene/followers", "following_url": "https://api.github.com/users/cgreene/following{/other_user}", "gists_url": "https://api.github.com/users/cgreene/gists{/gist_id}", "starred_url": "https://api.github.com/users/cgreene/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cgreene/subscriptions", "organizations_url": "https://api.github.com/users/cgreene/orgs", "repos_url": "https://api.github.com/users/cgreene/repos", "events_url": "https://api.github.com/users/cgreene/events{/privacy}", "received_events_url": "https://api.github.com/users/cgreene/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 559891810, "node_id": "MDU6TGFiZWw1NTk4OTE4MTA=", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-11-28T10:51:32Z", "updated_at": "2019-11-28T15:10:29Z", "closed_at": "2019-11-28T15:10:29Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/pulls/1964", "html_url": "https://github.com/AlexsLemonade/refinebio/pull/1964", "diff_url": "https://github.com/AlexsLemonade/refinebio/pull/1964.diff", "patch_url": "https://github.com/AlexsLemonade/refinebio/pull/1964.patch", "merged_at": "2019-11-28T15:10:29Z"}, "body": "## Issue Number\r\n\r\nDeploy #1963 / fix #1962 \r\n\r\n## Purpose/Implementation Notes\r\n\r\nCreating a PR to deploy @davidsmejia's fix.\r\n\r\n## Methods\r\n\r\nN/A\r\n\r\n## Types of changes\r\n\r\nWhat types of changes does your code introduce?\r\n\r\n<!-- Remove any which your PR isn't -->\r\n- Bugfix (non-breaking change which fixes an issue)\r\n\r\n## Functional tests\r\n\r\nList out the functional tests you've completed to verify your changes work locally.\r\n\r\n## Checklist\r\n\r\n_Put an `x` in the boxes that apply._\r\n\r\n- [ ] Lint and unit tests pass locally with my changes\r\n- [ ] I have added tests that prove my fix is effective or that my feature works\r\n- [ ] I have added necessary documentation (if appropriate)\r\n- [ ] Any dependent changes have been merged and published in downstream modules\r\n\r\n## Screenshots\r\n\r\nPlease attach any screenshots that illustrate these changes.\r\n", "reactions": {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1964/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1964/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1963", "repository_url": "https://api.github.com/repos/AlexsLemonade/refinebio", "labels_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1963/labels{/name}", "comments_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1963/comments", "events_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1963/events", "html_url": "https://github.com/AlexsLemonade/refinebio/pull/1963", "id": 529682072, "node_id": "MDExOlB1bGxSZXF1ZXN0MzQ2NTEyMjQ4", "number": 1963, "title": "fix compendia output file", "user": {"login": "davidsmejia", "id": 1075609, "node_id": "MDQ6VXNlcjEwNzU2MDk=", "avatar_url": "https://avatars.githubusercontent.com/u/1075609?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidsmejia", "html_url": "https://github.com/davidsmejia", "followers_url": "https://api.github.com/users/davidsmejia/followers", "following_url": "https://api.github.com/users/davidsmejia/following{/other_user}", "gists_url": "https://api.github.com/users/davidsmejia/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidsmejia/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidsmejia/subscriptions", "organizations_url": "https://api.github.com/users/davidsmejia/orgs", "repos_url": "https://api.github.com/users/davidsmejia/repos", "events_url": "https://api.github.com/users/davidsmejia/events{/privacy}", "received_events_url": "https://api.github.com/users/davidsmejia/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 559891810, "node_id": "MDU6TGFiZWw1NTk4OTE4MTA=", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-11-28T04:10:34Z", "updated_at": "2019-12-24T14:33:05Z", "closed_at": "2019-11-28T10:46:55Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/pulls/1963", "html_url": "https://github.com/AlexsLemonade/refinebio/pull/1963", "diff_url": "https://github.com/AlexsLemonade/refinebio/pull/1963.diff", "patch_url": "https://github.com/AlexsLemonade/refinebio/pull/1963.patch", "merged_at": "2019-11-28T10:46:55Z"}, "body": "## Issue Number\r\n\r\n#1962 \r\n\r\n## Purpose/Implementation Notes\r\n\r\nThis adds back the 2 lines that send the csv to the output directory before zipping the `output_dir`\r\n\r\n## Methods\r\n\r\n```create_compendia.py```\r\n\r\n## Types of changes\r\n\r\n- Bugfix (non-breaking change which fixes an issue)\r\n\r\n## Functional tests\r\n\r\nNone.\r\n\r\n## Checklist\r\n\r\n- [ ] Lint and unit tests pass locally with my changes\r\n- [ ] I have added tests that prove my fix is effective or that my feature works\r\n- [ ] I have added necessary documentation (if appropriate)\r\n- [ ] Any dependent changes have been merged and published in downstream modules\r\n\r\n## Screenshots\r\n\r\nPlease attach any screenshots that illustrate these changes.\r\n", "reactions": {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1963/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1963/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1944", "repository_url": "https://api.github.com/repos/AlexsLemonade/refinebio", "labels_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1944/labels{/name}", "comments_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1944/comments", "events_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1944/events", "html_url": "https://github.com/AlexsLemonade/refinebio/issues/1944", "id": 528162704, "node_id": "MDU6SXNzdWU1MjgxNjI3MDQ=", "number": 1944, "title": "Too many emails when dataset fails to smash", "user": {"login": "dvenprasad", "id": 15315514, "node_id": "MDQ6VXNlcjE1MzE1NTE0", "avatar_url": "https://avatars.githubusercontent.com/u/15315514?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dvenprasad", "html_url": "https://github.com/dvenprasad", "followers_url": "https://api.github.com/users/dvenprasad/followers", "following_url": "https://api.github.com/users/dvenprasad/following{/other_user}", "gists_url": "https://api.github.com/users/dvenprasad/gists{/gist_id}", "starred_url": "https://api.github.com/users/dvenprasad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dvenprasad/subscriptions", "organizations_url": "https://api.github.com/users/dvenprasad/orgs", "repos_url": "https://api.github.com/users/dvenprasad/repos", "events_url": "https://api.github.com/users/dvenprasad/events{/privacy}", "received_events_url": "https://api.github.com/users/dvenprasad/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 559891810, "node_id": "MDU6TGFiZWw1NTk4OTE4MTA=", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 873907685, "node_id": "MDU6TGFiZWw4NzM5MDc2ODU=", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/smasher", "name": "smasher", "color": "16e20b", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "arielsvn", "id": 1882507, "node_id": "MDQ6VXNlcjE4ODI1MDc=", "avatar_url": "https://avatars.githubusercontent.com/u/1882507?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arielsvn", "html_url": "https://github.com/arielsvn", "followers_url": "https://api.github.com/users/arielsvn/followers", "following_url": "https://api.github.com/users/arielsvn/following{/other_user}", "gists_url": "https://api.github.com/users/arielsvn/gists{/gist_id}", "starred_url": "https://api.github.com/users/arielsvn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arielsvn/subscriptions", "organizations_url": "https://api.github.com/users/arielsvn/orgs", "repos_url": "https://api.github.com/users/arielsvn/repos", "events_url": "https://api.github.com/users/arielsvn/events{/privacy}", "received_events_url": "https://api.github.com/users/arielsvn/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "arielsvn", "id": 1882507, "node_id": "MDQ6VXNlcjE4ODI1MDc=", "avatar_url": "https://avatars.githubusercontent.com/u/1882507?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arielsvn", "html_url": "https://github.com/arielsvn", "followers_url": "https://api.github.com/users/arielsvn/followers", "following_url": "https://api.github.com/users/arielsvn/following{/other_user}", "gists_url": "https://api.github.com/users/arielsvn/gists{/gist_id}", "starred_url": "https://api.github.com/users/arielsvn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arielsvn/subscriptions", "organizations_url": "https://api.github.com/users/arielsvn/orgs", "repos_url": "https://api.github.com/users/arielsvn/repos", "events_url": "https://api.github.com/users/arielsvn/events{/privacy}", "received_events_url": "https://api.github.com/users/arielsvn/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2019-11-25T15:31:49Z", "updated_at": "2019-12-27T20:21:19Z", "closed_at": "2019-12-27T20:21:19Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Context\r\nI tried to download a dataset from refine.bio which failed. (Nov 19, 20) \r\n\r\n### Problem or idea\r\nI received 5 emails that day and 4 of them in a span of 20 minutes, all with the same failure reason. \r\nFor another one, I tried to download I got 3 emails in a span of 2 minutes. \r\n\r\nI don't know if this is the normal behavior or there was something else going on that day which might have triggered the additional emails.\r\n\r\n### Solution or next step\r\n\r\nUsers should receive one failure email.\r\n", "reactions": {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1944/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1944/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1934", "repository_url": "https://api.github.com/repos/AlexsLemonade/refinebio", "labels_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1934/labels{/name}", "comments_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1934/comments", "events_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1934/events", "html_url": "https://github.com/AlexsLemonade/refinebio/issues/1934", "id": 526664839, "node_id": "MDU6SXNzdWU1MjY2NjQ4Mzk=", "number": 1934, "title": "Certbot didn't get installed or run on API instance", "user": {"login": "kurtwheeler", "id": 4026833, "node_id": "MDQ6VXNlcjQwMjY4MzM=", "avatar_url": "https://avatars.githubusercontent.com/u/4026833?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kurtwheeler", "html_url": "https://github.com/kurtwheeler", "followers_url": "https://api.github.com/users/kurtwheeler/followers", "following_url": "https://api.github.com/users/kurtwheeler/following{/other_user}", "gists_url": "https://api.github.com/users/kurtwheeler/gists{/gist_id}", "starred_url": "https://api.github.com/users/kurtwheeler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kurtwheeler/subscriptions", "organizations_url": "https://api.github.com/users/kurtwheeler/orgs", "repos_url": "https://api.github.com/users/kurtwheeler/repos", "events_url": "https://api.github.com/users/kurtwheeler/events{/privacy}", "received_events_url": "https://api.github.com/users/kurtwheeler/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 559891810, "node_id": "MDU6TGFiZWw1NTk4OTE4MTA=", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 872422017, "node_id": "MDU6TGFiZWw4NzI0MjIwMTc=", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/api", "name": "api", "color": "ecc2f9", "default": false, "description": ""}, {"id": 918556985, "node_id": "MDU6TGFiZWw5MTg1NTY5ODU=", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/devops", "name": "devops", "color": "f9d0c4", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-11-21T15:25:18Z", "updated_at": "2019-12-16T17:02:32Z", "closed_at": "2019-12-16T17:02:32Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Context\r\n\r\n#1933 \r\n\r\n### Problem or idea\r\n\r\nI fixed 1933 by installing and running certbot. It's in the API startup script, so I'm not sure why it didn't happen during the deploy.\r\n\r\n### Solution or next step\r\n\r\nFigure out why it didn't happen and make sure it does in the future.", "reactions": {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1934/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1934/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1923", "repository_url": "https://api.github.com/repos/AlexsLemonade/refinebio", "labels_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1923/labels{/name}", "comments_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1923/comments", "events_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1923/events", "html_url": "https://github.com/AlexsLemonade/refinebio/issues/1923", "id": 525243486, "node_id": "MDU6SXNzdWU1MjUyNDM0ODY=", "number": 1923, "title": "Smasher jobs don't mark datasets as failures when they fail", "user": {"login": "kurtwheeler", "id": 4026833, "node_id": "MDQ6VXNlcjQwMjY4MzM=", "avatar_url": "https://avatars.githubusercontent.com/u/4026833?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kurtwheeler", "html_url": "https://github.com/kurtwheeler", "followers_url": "https://api.github.com/users/kurtwheeler/followers", "following_url": "https://api.github.com/users/kurtwheeler/following{/other_user}", "gists_url": "https://api.github.com/users/kurtwheeler/gists{/gist_id}", "starred_url": "https://api.github.com/users/kurtwheeler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kurtwheeler/subscriptions", "organizations_url": "https://api.github.com/users/kurtwheeler/orgs", "repos_url": "https://api.github.com/users/kurtwheeler/repos", "events_url": "https://api.github.com/users/kurtwheeler/events{/privacy}", "received_events_url": "https://api.github.com/users/kurtwheeler/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 559891810, "node_id": "MDU6TGFiZWw1NTk4OTE4MTA=", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "arielsvn", "id": 1882507, "node_id": "MDQ6VXNlcjE4ODI1MDc=", "avatar_url": "https://avatars.githubusercontent.com/u/1882507?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arielsvn", "html_url": "https://github.com/arielsvn", "followers_url": "https://api.github.com/users/arielsvn/followers", "following_url": "https://api.github.com/users/arielsvn/following{/other_user}", "gists_url": "https://api.github.com/users/arielsvn/gists{/gist_id}", "starred_url": "https://api.github.com/users/arielsvn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arielsvn/subscriptions", "organizations_url": "https://api.github.com/users/arielsvn/orgs", "repos_url": "https://api.github.com/users/arielsvn/repos", "events_url": "https://api.github.com/users/arielsvn/events{/privacy}", "received_events_url": "https://api.github.com/users/arielsvn/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "arielsvn", "id": 1882507, "node_id": "MDQ6VXNlcjE4ODI1MDc=", "avatar_url": "https://avatars.githubusercontent.com/u/1882507?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arielsvn", "html_url": "https://github.com/arielsvn", "followers_url": "https://api.github.com/users/arielsvn/followers", "following_url": "https://api.github.com/users/arielsvn/following{/other_user}", "gists_url": "https://api.github.com/users/arielsvn/gists{/gist_id}", "starred_url": "https://api.github.com/users/arielsvn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arielsvn/subscriptions", "organizations_url": "https://api.github.com/users/arielsvn/orgs", "repos_url": "https://api.github.com/users/arielsvn/repos", "events_url": "https://api.github.com/users/arielsvn/events{/privacy}", "received_events_url": "https://api.github.com/users/arielsvn/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2019-11-19T20:20:21Z", "updated_at": "2020-01-02T21:09:31Z", "closed_at": "2020-01-02T21:09:31Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Context\r\n\r\nThere's a couple places in the smasher code where we delay failing the job so that the job can make it to the `_notify()` function so it can let the user know that their dataset failed to process.\r\n\r\n### Problem or idea\r\n\r\nThe job eventually gets marked as a failure like we want. However the dataset object does not, nor does the failure_reason get set on the dataset object. This means that the frontend just forever shows the dataset as processing.\r\n\r\n### Solution or next step\r\n\r\nFix this bug by fixing the smasher's flow. Doing it like that is such a hack. We should have two notify functions, one for successes, one for failures. If the job fails we should call the `_notify_failure()` function and then properly exit the processor, setting the `failure_reason` and `success` fields of the dataset object. If we succeed then the pipeline should be allowed to continue to the `notify_success()` function.", "reactions": {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1923/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1923/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1829", "repository_url": "https://api.github.com/repos/AlexsLemonade/refinebio", "labels_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1829/labels{/name}", "comments_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1829/comments", "events_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1829/events", "html_url": "https://github.com/AlexsLemonade/refinebio/issues/1829", "id": 511982377, "node_id": "MDU6SXNzdWU1MTE5ODIzNzc=", "number": 1829, "title": "Multiple compendias have the same version", "user": {"login": "arielsvn", "id": 1882507, "node_id": "MDQ6VXNlcjE4ODI1MDc=", "avatar_url": "https://avatars.githubusercontent.com/u/1882507?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arielsvn", "html_url": "https://github.com/arielsvn", "followers_url": "https://api.github.com/users/arielsvn/followers", "following_url": "https://api.github.com/users/arielsvn/following{/other_user}", "gists_url": "https://api.github.com/users/arielsvn/gists{/gist_id}", "starred_url": "https://api.github.com/users/arielsvn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arielsvn/subscriptions", "organizations_url": "https://api.github.com/users/arielsvn/orgs", "repos_url": "https://api.github.com/users/arielsvn/repos", "events_url": "https://api.github.com/users/arielsvn/events{/privacy}", "received_events_url": "https://api.github.com/users/arielsvn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 559891810, "node_id": "MDU6TGFiZWw1NTk4OTE4MTA=", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-10-24T14:27:59Z", "updated_at": "2019-11-27T16:10:31Z", "closed_at": "2019-11-27T16:10:31Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Context\r\n\r\nOn the endpoint `/v1/compendia` we use `compendia_version` to get the latest compendia version for a given organism.\r\n\r\n### Problem or idea\r\n\r\nLooks like we are not incrementing these values correctly:\r\n\r\n```\r\n    {\r\n        \"id\": 5730851,\r\n        \"filename\": \"441b3c7a-ecf3-4f1f-966e-1e8509287ed9_compendia.zip\",\r\n        \"size_in_bytes\": 2735058985,\r\n        \"is_compendia\": true,\r\n        \"quant_sf_only\": false,\r\n        \"compendia_version\": 1,\r\n        \"organism_name\": \"RATTUS_NORVEGICUS\",\r\n        \"sha1\": \"803052c13ee666a365615bfd58450dae2f511083\",\r\n        \"s3_bucket\": \"data-refinery-s3-circleci-prod\",\r\n        \"s3_key\": \"0630wrqrrsjlfcpcw8a8lzaa_441b3c7a-ecf3-4f1f-966e-1e8509287ed9_compendia.zip\",\r\n        \"s3_url\": \"https://s3.amazonaws.com/data-refinery-s3-circleci-prod/0630wrqrrsjlfcpcw8a8lzaa_441b3c7a-ecf3-4f1f-966e-1e8509287ed9_compendia.zip\",\r\n        \"created_at\": \"2019-10-16T00:50:30.415087Z\",\r\n        \"last_modified\": \"2019-10-16T00:52:56.537989Z\"\r\n    },\r\n    {\r\n        \"id\": 5730848,\r\n        \"filename\": \"aaaacc00-185d-441c-bd62-cf8ff07ff82f_compendia.zip\",\r\n        \"size_in_bytes\": 2735034298,\r\n        \"is_compendia\": true,\r\n        \"quant_sf_only\": false,\r\n        \"compendia_version\": 1,\r\n        \"organism_name\": \"RATTUS_NORVEGICUS\",\r\n        \"sha1\": \"56099d279531abf884c6f8786137a58a380b840d\",\r\n        \"s3_bucket\": \"data-refinery-s3-circleci-prod\",\r\n        \"s3_key\": \"gz82jtax6nz6wlwe1x68cth5_aaaacc00-185d-441c-bd62-cf8ff07ff82f_compendia.zip\",\r\n        \"s3_url\": \"https://s3.amazonaws.com/data-refinery-s3-circleci-prod/gz82jtax6nz6wlwe1x68cth5_aaaacc00-185d-441c-bd62-cf8ff07ff82f_compendia.zip\",\r\n        \"created_at\": \"2019-10-12T17:19:50.213335Z\",\r\n        \"last_modified\": \"2019-10-12T17:22:11.032866Z\"\r\n    },\r\n```\r\n\r\n### Solution or next step\r\n\r\nThis is where we assign the `compendia_version`\r\n\r\nhttps://github.com/AlexsLemonade/refinebio/blob/dev/workers/data_refinery_workers/processors/create_compendia.py#L438-L445\r\n\r\nI'm wondering now if we could remove this value, and just use the date when the compendia was created to get the latest one.", "reactions": {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1829/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1829/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1828", "repository_url": "https://api.github.com/repos/AlexsLemonade/refinebio", "labels_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1828/labels{/name}", "comments_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1828/comments", "events_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1828/events", "html_url": "https://github.com/AlexsLemonade/refinebio/issues/1828", "id": 511577379, "node_id": "MDU6SXNzdWU1MTE1NzczNzk=", "number": 1828, "title": "Infinite cycle when processing HTA2 samples", "user": {"login": "arielsvn", "id": 1882507, "node_id": "MDQ6VXNlcjE4ODI1MDc=", "avatar_url": "https://avatars.githubusercontent.com/u/1882507?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arielsvn", "html_url": "https://github.com/arielsvn", "followers_url": "https://api.github.com/users/arielsvn/followers", "following_url": "https://api.github.com/users/arielsvn/following{/other_user}", "gists_url": "https://api.github.com/users/arielsvn/gists{/gist_id}", "starred_url": "https://api.github.com/users/arielsvn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arielsvn/subscriptions", "organizations_url": "https://api.github.com/users/arielsvn/orgs", "repos_url": "https://api.github.com/users/arielsvn/repos", "events_url": "https://api.github.com/users/arielsvn/events{/privacy}", "received_events_url": "https://api.github.com/users/arielsvn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 559891810, "node_id": "MDU6TGFiZWw1NTk4OTE4MTA=", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "arielsvn", "id": 1882507, "node_id": "MDQ6VXNlcjE4ODI1MDc=", "avatar_url": "https://avatars.githubusercontent.com/u/1882507?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arielsvn", "html_url": "https://github.com/arielsvn", "followers_url": "https://api.github.com/users/arielsvn/followers", "following_url": "https://api.github.com/users/arielsvn/following{/other_user}", "gists_url": "https://api.github.com/users/arielsvn/gists{/gist_id}", "starred_url": "https://api.github.com/users/arielsvn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arielsvn/subscriptions", "organizations_url": "https://api.github.com/users/arielsvn/orgs", "repos_url": "https://api.github.com/users/arielsvn/repos", "events_url": "https://api.github.com/users/arielsvn/events{/privacy}", "received_events_url": "https://api.github.com/users/arielsvn/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "arielsvn", "id": 1882507, "node_id": "MDQ6VXNlcjE4ODI1MDc=", "avatar_url": "https://avatars.githubusercontent.com/u/1882507?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arielsvn", "html_url": "https://github.com/arielsvn", "followers_url": "https://api.github.com/users/arielsvn/followers", "following_url": "https://api.github.com/users/arielsvn/following{/other_user}", "gists_url": "https://api.github.com/users/arielsvn/gists{/gist_id}", "starred_url": "https://api.github.com/users/arielsvn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arielsvn/subscriptions", "organizations_url": "https://api.github.com/users/arielsvn/orgs", "repos_url": "https://api.github.com/users/arielsvn/repos", "events_url": "https://api.github.com/users/arielsvn/events{/privacy}", "received_events_url": "https://api.github.com/users/arielsvn/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 8, "created_at": "2019-10-23T21:18:04Z", "updated_at": "2019-11-14T20:22:59Z", "closed_at": "2019-11-14T20:22:58Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Context\r\n\r\nAs part of https://github.com/AlexsLemonade/refinebio/issues/1744 we re-queued a bunch of samples with the HTA 2.0 platform.\r\n\r\n### Problem or idea\r\n\r\nThese samples were not processed. And the jobs seem to be in an infinite loop. Not sure if this is related to #1818 \r\n\r\nLooked into sample `GSM1933008` from the experiment [GSE74777](https://www.refine.bio/experiments/GSE74777/expression-profiling-of-early-stage-lung-squamous-cell-carcinomas).\r\n\r\nThis sample has two original files:\r\n\r\n```\r\n>>> sample = Sample.objects.get(accession_code='GSM1933008')\r\n>>> sample.original_files.all()\r\n<QuerySet [<OriginalFile: OriginalFile: GSM1933008_96_SQ11-172T.CEL>, <OriginalFile: OriginalFile: GSM1933008_96_SQ11-172T.CEL.gz>]>\r\n```\r\n\r\nThe first one has processor jobs but no downloader jobs and the second is the opposite, has downloader jobs and no processor jobs.\r\n\r\n```\r\n>>> file1 = sample.original_files.all()[0]\r\n>>> file2 = sample.original_files.all()[1]\r\n>>> file1.downloader_jobs.all()\r\n<QuerySet []>\r\n>>> file1.processor_jobs.all()\r\n<QuerySet [<ProcessorJob: ProcessorJob 29312930: AFFY_TO_PCL>, <ProcessorJob: ProcessorJob 1195121: AFFY_TO_PCL>, <ProcessorJob: ProcessorJob 1176076: AFFY_TO_PCL>, <ProcessorJob: ProcessorJob 1169720: AFFY_TO_PCL>]>\r\n>>> file2.downloader_jobs.all()\r\n<QuerySet [<DownloaderJob: DownloaderJob 6903809: GEO>, <DownloaderJob: DownloaderJob 1878500: GEO>, <DownloaderJob: DownloaderJob 1759487: GEO>]>\r\n>>> file2.processor_jobs.all()\r\n<QuerySet []>\r\n```\r\n\r\nLooks like the infinite cycle is caused because when the processor job starts, it realizes that the original files need to be downloaded so triggers a downloader job for `file2`. When the downloader job finishes, it triggers a processor job for `file1`, which in turn notices that the file is missing and starts again.\r\n\r\n### Solution or next step\r\n\r\nWe should look into how these downloader/processor jobs are being triggered.\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1828/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1828/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1819", "repository_url": "https://api.github.com/repos/AlexsLemonade/refinebio", "labels_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1819/labels{/name}", "comments_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1819/comments", "events_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1819/events", "html_url": "https://github.com/AlexsLemonade/refinebio/issues/1819", "id": 510821550, "node_id": "MDU6SXNzdWU1MTA4MjE1NTA=", "number": 1819, "title": "main_tests seem to be failing after 10 mins of inactivity", "user": {"login": "arielsvn", "id": 1882507, "node_id": "MDQ6VXNlcjE4ODI1MDc=", "avatar_url": "https://avatars.githubusercontent.com/u/1882507?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arielsvn", "html_url": "https://github.com/arielsvn", "followers_url": "https://api.github.com/users/arielsvn/followers", "following_url": "https://api.github.com/users/arielsvn/following{/other_user}", "gists_url": "https://api.github.com/users/arielsvn/gists{/gist_id}", "starred_url": "https://api.github.com/users/arielsvn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arielsvn/subscriptions", "organizations_url": "https://api.github.com/users/arielsvn/orgs", "repos_url": "https://api.github.com/users/arielsvn/repos", "events_url": "https://api.github.com/users/arielsvn/events{/privacy}", "received_events_url": "https://api.github.com/users/arielsvn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 559891810, "node_id": "MDU6TGFiZWw1NTk4OTE4MTA=", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-10-22T18:09:50Z", "updated_at": "2019-11-15T18:28:56Z", "closed_at": "2019-11-15T18:28:56Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Context\r\n\r\n`main_tests` seem to be failing again. I checked the tests on the [latest dev commit](https://circleci.com/gh/AlexsLemonade/refinebio/25517?utm_campaign=vcs-integration-link&utm_medium=referral&utm_source=github-build-link)\r\n\r\n### Problem or idea\r\n\r\nI noticed that they don't finish running and instead they get interrupted after 10 mins of innactivity.\r\n\r\n```\r\n2019-10-22 15:16:07,519 local [volume: 0] data_refinery_foreman.surveyor.external_source INFO [downloader_job: 10372] [downloaded_urls: ['ftp://ftp.ensemblgenomes.org/pub/release-45/plants/fasta/zea_mays/dna/Zea_mays.B73_RefGen_v4.dna.toplevel.fa.gz', 'ftp://ftp.ensemblgenomes.org/pub/release-45/plants/gtf/zea_mays/Zea_mays.B73_RefGen_v4.45.gtf.gz']] [survey_job: 40]: Queuing downloader job.\r\n2019-10-22 15:16:07,526 local [volume: 0] data_refinery_foreman.surveyor.external_source INFO [downloader_job: 10373] [downloaded_urls: ['ftp://ftp.ensemblgenomes.org/pub/release-45/plants/fasta/triticum_aestivum/dna/Triticum_aestivum.IWGSC.dna.toplevel.fa.gz', 'ftp://ftp.ensemblgenomes.org/pub/release-45/plants/gtf/triticum_aestivum/Triticum_aestivum.IWGSC.45.gtf.gz']] [survey_job: 40]: Queuing downloader job.\r\n2019-10-22 15:16:07,532 local [volume: 0] data_refinery_foreman.surveyor.external_source INFO [downloader_job: 10374] [downloaded_urls: ['ftp://ftp.ensemblgenomes.org/pub/release-45/plants/fasta/aegilops_tauschii/dna/Aegilops_tauschii.Aet_v4.0.dna.toplevel.fa.gz', 'ftp://ftp.ensemblgenomes.org/pub/release-45/plants/gtf/aegilops_tauschii/Aegilops_tauschii.Aet_v4.0.45.gtf.gz']] [survey_job: 40]: Queuing downloader job.\r\n2019-10-22 15:16:07,539 local [volume: 0] data_refinery_foreman.surveyor.external_source INFO [downloader_job: 10375] [downloaded_urls: ['ftp://ftp.ensemblgenomes.org/pub/release-45/plants/fasta/triticum_turgidum/dna/Triticum_turgidum.svevo.dna.toplevel.fa.gz', 'ftp://ftp.ensemblgenomes.org/pub/release-45/plants/gtf/triticum_turgidum/Triticum_turgidum.svevo.45.gtf.gz']] [survey_job: 40]: Queuing downloader job.\r\n..2019-10-22 15:16:08,605 local [volume: 0] data_refinery_foreman.foreman.management.commands.create_compendia INFO [quant_sf_only: True] [job_id: 37] [organism: HOMO_SAPIENS]: Sending compendia job for Organism\r\nToo long with no output (exceeded 10m0s)\r\n```\r\n\r\nNot sure if this is related to https://github.com/AlexsLemonade/refinebio/issues/1814 because the Ensembl URLs are the latest ones that appear in the test logs. However, I'm almost sure I saw this finish even with the bad URLs before.\r\n\r\n### Solution or next step\r\n\r\nWe need to investigate what might be causing this.", "reactions": {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1819/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1819/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1818", "repository_url": "https://api.github.com/repos/AlexsLemonade/refinebio", "labels_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1818/labels{/name}", "comments_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1818/comments", "events_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1818/events", "html_url": "https://github.com/AlexsLemonade/refinebio/issues/1818", "id": 510754441, "node_id": "MDU6SXNzdWU1MTA3NTQ0NDE=", "number": 1818, "title": "We seem to have an infinite cycle of AFFY processor jobs", "user": {"login": "arielsvn", "id": 1882507, "node_id": "MDQ6VXNlcjE4ODI1MDc=", "avatar_url": "https://avatars.githubusercontent.com/u/1882507?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arielsvn", "html_url": "https://github.com/arielsvn", "followers_url": "https://api.github.com/users/arielsvn/followers", "following_url": "https://api.github.com/users/arielsvn/following{/other_user}", "gists_url": "https://api.github.com/users/arielsvn/gists{/gist_id}", "starred_url": "https://api.github.com/users/arielsvn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arielsvn/subscriptions", "organizations_url": "https://api.github.com/users/arielsvn/orgs", "repos_url": "https://api.github.com/users/arielsvn/repos", "events_url": "https://api.github.com/users/arielsvn/events{/privacy}", "received_events_url": "https://api.github.com/users/arielsvn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 559891810, "node_id": "MDU6TGFiZWw1NTk4OTE4MTA=", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "arielsvn", "id": 1882507, "node_id": "MDQ6VXNlcjE4ODI1MDc=", "avatar_url": "https://avatars.githubusercontent.com/u/1882507?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arielsvn", "html_url": "https://github.com/arielsvn", "followers_url": "https://api.github.com/users/arielsvn/followers", "following_url": "https://api.github.com/users/arielsvn/following{/other_user}", "gists_url": "https://api.github.com/users/arielsvn/gists{/gist_id}", "starred_url": "https://api.github.com/users/arielsvn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arielsvn/subscriptions", "organizations_url": "https://api.github.com/users/arielsvn/orgs", "repos_url": "https://api.github.com/users/arielsvn/repos", "events_url": "https://api.github.com/users/arielsvn/events{/privacy}", "received_events_url": "https://api.github.com/users/arielsvn/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "arielsvn", "id": 1882507, "node_id": "MDQ6VXNlcjE4ODI1MDc=", "avatar_url": "https://avatars.githubusercontent.com/u/1882507?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arielsvn", "html_url": "https://github.com/arielsvn", "followers_url": "https://api.github.com/users/arielsvn/followers", "following_url": "https://api.github.com/users/arielsvn/following{/other_user}", "gists_url": "https://api.github.com/users/arielsvn/gists{/gist_id}", "starred_url": "https://api.github.com/users/arielsvn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arielsvn/subscriptions", "organizations_url": "https://api.github.com/users/arielsvn/orgs", "repos_url": "https://api.github.com/users/arielsvn/repos", "events_url": "https://api.github.com/users/arielsvn/events{/privacy}", "received_events_url": "https://api.github.com/users/arielsvn/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2019-10-22T15:59:16Z", "updated_at": "2019-11-14T19:50:45Z", "closed_at": "2019-11-14T19:50:45Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Context\r\n\r\nWe should not be processing anything, but we have several jobs running\r\n\r\n### Problem or idea\r\n\r\nThese are some of the processor jobs running:\r\n\r\n```\r\n$ nomad status | grep dispatch | grep running\r\nAFFY_TO_PCL_0_2048/dispatch-1571758727-75294e36  batch                50        running  2019-10-22T15:38:47Z\r\nAFFY_TO_PCL_0_2048/dispatch-1571758732-a694b5bf  batch                50        running  2019-10-22T15:38:52Z\r\nAFFY_TO_PCL_0_2048/dispatch-1571758779-f810c083  batch                50        running  2019-10-22T15:39:39Z\r\nAFFY_TO_PCL_0_2048/dispatch-1571758788-d95c698f  batch                50        running  2019-10-22T15:39:48Z\r\n```\r\n\r\nThey doesn't seem to have any `start_date` in the DB. That's why they don't appear in the dashboard.\r\n\r\n```\r\ndata_refinery=> select * from processor_jobs\r\ndata_refinery-> where nomad_job_id='AFFY_TO_PCL_0_2048/dispatch-1571758727-75294e36'\r\ndata_refinery->     or nomad_job_id='AFFY_TO_PCL_0_2048/dispatch-1571758732-a694b5bf'\r\ndata_refinery->     or nomad_job_id='AFFY_TO_PCL_0_2048/dispatch-1571758779-f810c083'\r\ndata_refinery->     or nomad_job_id='AFFY_TO_PCL_0_2048/dispatch-1571758788-d95c698f';\r\n    id    | pipeline_applied | no_retry | ram_amount | volume_index | start_time | end_time | success |                  nomad_job_id                   | num_retries | retried | worker_id | worker_version | failure_reason |          created_at           |         last_modified         | retried_job_id \r\n----------+------------------+----------+------------+--------------+------------+----------+---------+-------------------------------------------------+-------------+---------+-----------+----------------+----------------+-------------------------------+-------------------------------+----------------\r\n 29304326 | AFFY_TO_PCL      | f        |       2048 | 0            |            |          |         | AFFY_TO_PCL_0_2048/dispatch-1571758779-f810c083 |           0 | f       |           |                |                | 2019-10-22 15:39:39.867285+00 | 2019-10-22 15:39:39.896467+00 |               \r\n 29304327 | AFFY_TO_PCL      | f        |       2048 | 0            |            |          |         | AFFY_TO_PCL_0_2048/dispatch-1571758788-d95c698f |           0 | f       |           |                |                | 2019-10-22 15:39:48.707007+00 | 2019-10-22 15:39:48.737365+00 |               \r\n 29304324 | AFFY_TO_PCL      | f        |       2048 | 0            |            |          |         | AFFY_TO_PCL_0_2048/dispatch-1571758727-75294e36 |           0 | f       |           |                |                | 2019-10-22 15:38:47.173538+00 | 2019-10-22 15:38:47.212877+00 |               \r\n 29304325 | AFFY_TO_PCL      | f        |       2048 | 0            |            |          |         | AFFY_TO_PCL_0_2048/dispatch-1571758732-a694b5bf |           0 | f       |           |                |                | 2019-10-22 15:38:52.333198+00 | 2019-10-22 15:38:52.360586+00 |               \r\n(4 rows)\r\n```\r\n\r\nAfter a few minutes, these jobs are also removed from the DB.\r\n\r\n```\r\ndata_refinery=> select * from processor_jobs\r\nwhere nomad_job_id='AFFY_TO_PCL_0_2048/dispatch-1571758727-75294e36'\r\n    or nomad_job_id='AFFY_TO_PCL_0_2048/dispatch-1571758732-a694b5bf'\r\n    or nomad_job_id='AFFY_TO_PCL_0_2048/dispatch-1571758779-f810c083'\r\n    or nomad_job_id='AFFY_TO_PCL_0_2048/dispatch-1571758788-d95c698f';\r\n id | pipeline_applied | no_retry | ram_amount | volume_index | start_time | end_time | success | nomad_job_id | num_retries | retried | worker_id | worker_version | failure_reason | created_at | last_modified | retried_job_id \r\n----+------------------+----------+------------+--------------+------------+----------+---------+--------------+-------------+---------+-----------+----------------+----------------+------------+---------------+----------------\r\n(0 rows)\r\n```\r\n\r\n### Solution or next step\r\n\r\nNot sure what is happening looks like the processor job don't see the downloaded files and they trigger new downloader jobs, which in turn don't download the files correctly and trigger new processor jobs continuing the cycle.\r\n\r\nWe need to investigate more.\r\n", "reactions": {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1818/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1818/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1794", "repository_url": "https://api.github.com/repos/AlexsLemonade/refinebio", "labels_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1794/labels{/name}", "comments_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1794/comments", "events_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1794/events", "html_url": "https://github.com/AlexsLemonade/refinebio/issues/1794", "id": 507990254, "node_id": "MDU6SXNzdWU1MDc5OTAyNTQ=", "number": 1794, "title": "How to download transcriptome indices?", "user": {"login": "arielsvn", "id": 1882507, "node_id": "MDQ6VXNlcjE4ODI1MDc=", "avatar_url": "https://avatars.githubusercontent.com/u/1882507?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arielsvn", "html_url": "https://github.com/arielsvn", "followers_url": "https://api.github.com/users/arielsvn/followers", "following_url": "https://api.github.com/users/arielsvn/following{/other_user}", "gists_url": "https://api.github.com/users/arielsvn/gists{/gist_id}", "starred_url": "https://api.github.com/users/arielsvn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arielsvn/subscriptions", "organizations_url": "https://api.github.com/users/arielsvn/orgs", "repos_url": "https://api.github.com/users/arielsvn/repos", "events_url": "https://api.github.com/users/arielsvn/events{/privacy}", "received_events_url": "https://api.github.com/users/arielsvn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 559891810, "node_id": "MDU6TGFiZWw1NTk4OTE4MTA=", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-10-16T17:24:24Z", "updated_at": "2019-12-30T15:00:43Z", "closed_at": "2019-12-30T15:00:43Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Context\r\n\r\nSomeone needed a transcriptome index.\r\n\r\n### Problem or idea\r\n\r\nWe have an endpoint that should provide this information, but the download `s3_url` is empty for all results.\r\n\r\nhttps://api.refine.bio/v1/transcriptome_indices/\r\n\r\nThe [docs](http://docs.refine.bio/en/latest/main_text.html#transcriptome-index) also mention people should be able to get them from here.\r\n\r\nLooks like the organism indices don't have any `s3_url` in the DB either.\r\n\r\n```sql\r\ndata_refinery=> select count(*) from organism_index where s3_url!='';\r\n count \r\n-------\r\n     0\r\n(1 row)\r\n```\r\n\r\n### Solution or next step\r\n\r\nWe should investigate why these values are not being populated.", "reactions": {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1794/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1794/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1669", "repository_url": "https://api.github.com/repos/AlexsLemonade/refinebio", "labels_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1669/labels{/name}", "comments_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1669/comments", "events_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1669/events", "html_url": "https://github.com/AlexsLemonade/refinebio/issues/1669", "id": 499002429, "node_id": "MDU6SXNzdWU0OTkwMDI0Mjk=", "number": 1669, "title": "Creation of quant-compendia failed", "user": {"login": "arielsvn", "id": 1882507, "node_id": "MDQ6VXNlcjE4ODI1MDc=", "avatar_url": "https://avatars.githubusercontent.com/u/1882507?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arielsvn", "html_url": "https://github.com/arielsvn", "followers_url": "https://api.github.com/users/arielsvn/followers", "following_url": "https://api.github.com/users/arielsvn/following{/other_user}", "gists_url": "https://api.github.com/users/arielsvn/gists{/gist_id}", "starred_url": "https://api.github.com/users/arielsvn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arielsvn/subscriptions", "organizations_url": "https://api.github.com/users/arielsvn/orgs", "repos_url": "https://api.github.com/users/arielsvn/repos", "events_url": "https://api.github.com/users/arielsvn/events{/privacy}", "received_events_url": "https://api.github.com/users/arielsvn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 559891810, "node_id": "MDU6TGFiZWw1NTk4OTE4MTA=", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-09-26T16:51:48Z", "updated_at": "2019-09-26T19:34:47Z", "closed_at": "2019-09-26T19:34:47Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Context\r\n\r\n Tried running\r\n\r\n```\r\nnomad job dispatch -meta ORGANISMS=HOMO_SAPIENS,MUS_MUSCULUS -meta QUANT_SF_ONLY=False -meta SVD_ALGORITHM=NONE CREATE_COMPENDIA\r\n```\r\n\r\n### Problem or idea\r\n\r\nSeems like it failed shortly after having started.\r\n\r\n```\r\n$ nomad status CREATE_COMPENDIA/dispatch-1569516091-3e892cc8\r\nID            = CREATE_COMPENDIA/dispatch-1569516091-3e892cc8\r\nName          = CREATE_COMPENDIA/dispatch-1569516091-3e892cc8\r\nSubmit Date   = 2019-09-26T16:41:31Z\r\nType          = batch\r\nPriority      = 80\r\nDatacenters   = dc1\r\nStatus        = dead\r\nPeriodic      = false\r\nParameterized = false\r\n\r\nSummary\r\nTask Group  Queued  Starting  Running  Failed  Complete  Lost\r\njobs        0       0         0        1       0         0\r\n\r\nAllocations\r\nID        Node ID   Task Group  Version  Desired  Status  Created    Modified\r\n1f96063d  d8f3d34c  jobs        0        run      failed  5m46s ago  1m37s ago\r\n```\r\n\r\n```\r\n$ nomad logs CREATE_COMPENDIA/dispatch-1569516091-3e892cc8\r\nError querying allocation: Unexpected response code: 500 (alloc lookup failed: index error: Invalid UUID length. UUID have 36 characters; got 44)\r\n```\r\n\r\n### Solution or next step\r\n\r\nWe'll need to investigate why\r\n", "reactions": {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1669/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1669/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1570", "repository_url": "https://api.github.com/repos/AlexsLemonade/refinebio", "labels_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1570/labels{/name}", "comments_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1570/comments", "events_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1570/events", "html_url": "https://github.com/AlexsLemonade/refinebio/issues/1570", "id": 490418279, "node_id": "MDU6SXNzdWU0OTA0MTgyNzk=", "number": 1570, "title": "Samples endpoint is not filtering by specie", "user": {"login": "arielsvn", "id": 1882507, "node_id": "MDQ6VXNlcjE4ODI1MDc=", "avatar_url": "https://avatars.githubusercontent.com/u/1882507?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arielsvn", "html_url": "https://github.com/arielsvn", "followers_url": "https://api.github.com/users/arielsvn/followers", "following_url": "https://api.github.com/users/arielsvn/following{/other_user}", "gists_url": "https://api.github.com/users/arielsvn/gists{/gist_id}", "starred_url": "https://api.github.com/users/arielsvn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arielsvn/subscriptions", "organizations_url": "https://api.github.com/users/arielsvn/orgs", "repos_url": "https://api.github.com/users/arielsvn/repos", "events_url": "https://api.github.com/users/arielsvn/events{/privacy}", "received_events_url": "https://api.github.com/users/arielsvn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 559891810, "node_id": "MDU6TGFiZWw1NTk4OTE4MTA=", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 845496395, "node_id": "MDU6TGFiZWw4NDU0OTYzOTU=", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/data%20for%20GUI", "name": "data for GUI", "color": "4fc61b", "default": false, "description": ""}, {"id": 872422017, "node_id": "MDU6TGFiZWw4NzI0MjIwMTc=", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/api", "name": "api", "color": "ecc2f9", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "arielsvn", "id": 1882507, "node_id": "MDQ6VXNlcjE4ODI1MDc=", "avatar_url": "https://avatars.githubusercontent.com/u/1882507?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arielsvn", "html_url": "https://github.com/arielsvn", "followers_url": "https://api.github.com/users/arielsvn/followers", "following_url": "https://api.github.com/users/arielsvn/following{/other_user}", "gists_url": "https://api.github.com/users/arielsvn/gists{/gist_id}", "starred_url": "https://api.github.com/users/arielsvn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arielsvn/subscriptions", "organizations_url": "https://api.github.com/users/arielsvn/orgs", "repos_url": "https://api.github.com/users/arielsvn/repos", "events_url": "https://api.github.com/users/arielsvn/events{/privacy}", "received_events_url": "https://api.github.com/users/arielsvn/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "arielsvn", "id": 1882507, "node_id": "MDQ6VXNlcjE4ODI1MDc=", "avatar_url": "https://avatars.githubusercontent.com/u/1882507?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arielsvn", "html_url": "https://github.com/arielsvn", "followers_url": "https://api.github.com/users/arielsvn/followers", "following_url": "https://api.github.com/users/arielsvn/following{/other_user}", "gists_url": "https://api.github.com/users/arielsvn/gists{/gist_id}", "starred_url": "https://api.github.com/users/arielsvn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arielsvn/subscriptions", "organizations_url": "https://api.github.com/users/arielsvn/orgs", "repos_url": "https://api.github.com/users/arielsvn/repos", "events_url": "https://api.github.com/users/arielsvn/events{/privacy}", "received_events_url": "https://api.github.com/users/arielsvn/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2019-09-06T16:34:27Z", "updated_at": "2019-09-30T14:53:13Z", "closed_at": "2019-09-30T14:53:13Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Context\r\n\r\nIn the downloads page, we use `/samples` to list details about samples on each specie\r\n\r\n### Problem or idea\r\n\r\nhttps://api.refine.bio/v1/samples/?dataset_id=1631c0c2-1b71-4124-9927-58d2e7ef757e&organism__name=DANIO_RERIO&offset=0&limit=10\r\n\r\nThe parameter `organism__name=DANIO_RERIO` doesn't seem to be working and the endpoint is returning all samples in the dataset.\r\n\r\n### Solution or next step\r\n\r\nInvestigate why the parameter isn't working.\r\n", "reactions": {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1570/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1570/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1560", "repository_url": "https://api.github.com/repos/AlexsLemonade/refinebio", "labels_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1560/labels{/name}", "comments_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1560/comments", "events_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1560/events", "html_url": "https://github.com/AlexsLemonade/refinebio/issues/1560", "id": 488798164, "node_id": "MDU6SXNzdWU0ODg3OTgxNjQ=", "number": 1560, "title": "Don't fail when detecting column header for illumina sample", "user": {"login": "arielsvn", "id": 1882507, "node_id": "MDQ6VXNlcjE4ODI1MDc=", "avatar_url": "https://avatars.githubusercontent.com/u/1882507?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arielsvn", "html_url": "https://github.com/arielsvn", "followers_url": "https://api.github.com/users/arielsvn/followers", "following_url": "https://api.github.com/users/arielsvn/following{/other_user}", "gists_url": "https://api.github.com/users/arielsvn/gists{/gist_id}", "starred_url": "https://api.github.com/users/arielsvn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arielsvn/subscriptions", "organizations_url": "https://api.github.com/users/arielsvn/orgs", "repos_url": "https://api.github.com/users/arielsvn/repos", "events_url": "https://api.github.com/users/arielsvn/events{/privacy}", "received_events_url": "https://api.github.com/users/arielsvn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 559891810, "node_id": "MDU6TGFiZWw1NTk4OTE4MTA=", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "arielsvn", "id": 1882507, "node_id": "MDQ6VXNlcjE4ODI1MDc=", "avatar_url": "https://avatars.githubusercontent.com/u/1882507?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arielsvn", "html_url": "https://github.com/arielsvn", "followers_url": "https://api.github.com/users/arielsvn/followers", "following_url": "https://api.github.com/users/arielsvn/following{/other_user}", "gists_url": "https://api.github.com/users/arielsvn/gists{/gist_id}", "starred_url": "https://api.github.com/users/arielsvn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arielsvn/subscriptions", "organizations_url": "https://api.github.com/users/arielsvn/orgs", "repos_url": "https://api.github.com/users/arielsvn/repos", "events_url": "https://api.github.com/users/arielsvn/events{/privacy}", "received_events_url": "https://api.github.com/users/arielsvn/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "arielsvn", "id": 1882507, "node_id": "MDQ6VXNlcjE4ODI1MDc=", "avatar_url": "https://avatars.githubusercontent.com/u/1882507?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arielsvn", "html_url": "https://github.com/arielsvn", "followers_url": "https://api.github.com/users/arielsvn/followers", "following_url": "https://api.github.com/users/arielsvn/following{/other_user}", "gists_url": "https://api.github.com/users/arielsvn/gists{/gist_id}", "starred_url": "https://api.github.com/users/arielsvn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arielsvn/subscriptions", "organizations_url": "https://api.github.com/users/arielsvn/orgs", "repos_url": "https://api.github.com/users/arielsvn/repos", "events_url": "https://api.github.com/users/arielsvn/events{/privacy}", "received_events_url": "https://api.github.com/users/arielsvn/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2019-09-03T20:07:56Z", "updated_at": "2021-07-30T15:48:47Z", "closed_at": "2021-07-30T15:48:47Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Context\r\n\r\nWe have `4287` samples that failed because we weren't able to find an id column in their headers. For example for sample [GSM2677584](https://www.ncbi.nlm.nih.gov/geo/query/acc.cgi?acc=GSM2677584) we failed with the error:\r\n\r\n`Could not find any ID column in headers ['ID_REF ', 'SAMPLE 1', 'Detection Pval', 'SAMPLE 2', 'Detection Pval', 'SAMPLE 3', 'Detection Pval', 'SAMPLE 4', 'Detection Pval', 'SAMPLE 5', 'Detection Pval', 'SAMPLE 6', 'Detection Pval', 'SAMPLE 7', 'Detection Pval', 'SAMPLE 8', 'Detection Pval', 'SAMPLE 9', 'Detection Pval', 'SAMPLE 10', 'Detection Pval', 'SAMPLE 11', 'Detection Pval', 'SAMPLE 12', 'Detection Pval', 'SAMPLE 13', 'Detection Pval', 'SAMPLE 14', 'Detection Pval', 'SAMPLE 15', 'Detection Pval', 'SAMPLE 16', 'Detection Pval', 'SAMPLE 17', 'Detection Pval', 'SAMPLE 18', 'Detection Pval'] for file /home/user/data_store/processor_job_1310904/GSE100301_non-normalized.txt.sanitized`\r\n\r\nhttps://github.com/AlexsLemonade/refinebio/issues/86#issuecomment-379308817\r\n\r\n### Problem or idea\r\n\r\nSeems like we are not parsing the first column correctly, there's trailing whitespace on `'ID_REF '`, and that's causing the job to fail in \r\n\r\nhttps://github.com/AlexsLemonade/refinebio/blob/dev/workers/data_refinery_workers/processors/illumina.py#L115-L121\r\n\r\nThere're more samples with the same error (~14k), however, the fix doesn't seem to be as easy for the others.\r\n\r\n<details><summary>queries</summary>\r\n\r\n```sql\r\nselect count(*)\r\nfrom (\r\n    select samples.accession_code, (\r\n        select processor_jobs.failure_reason\r\n        from original_file_sample_associations, processorjob_originalfile_associations, processor_jobs\r\n        where samples.id=original_file_sample_associations.sample_id\r\n            and original_file_sample_associations.original_file_id=processorjob_originalfile_associations.original_file_id\r\n            and processorjob_originalfile_associations.processor_job_id=processor_jobs.id\r\n        order by processor_jobs.start_time desc           \r\n        limit 1\r\n      ) as job_failure_reason\r\n    from samples\r\n    where samples.is_processed='f'\r\n  ) tt \r\nwhere job_failure_reason like 'Could not find any ID column in headers [''ID_REF '',%';\r\n```\r\n\r\n```sql\r\nselect count(*)\r\nfrom (\r\n    select samples.accession_code, (\r\n        select processor_jobs.failure_reason\r\n        from original_file_sample_associations, processorjob_originalfile_associations, processor_jobs\r\n        where samples.id=original_file_sample_associations.sample_id\r\n            and original_file_sample_associations.original_file_id=processorjob_originalfile_associations.original_file_id\r\n            and processorjob_originalfile_associations.processor_job_id=processor_jobs.id\r\n        order by processor_jobs.start_time desc           \r\n        limit 1\r\n      ) as job_failure_reason\r\n    from samples\r\n    where samples.is_processed='f'\r\n  ) tt \r\nwhere job_failure_reason like 'Could not find any ID column in headers%';\r\n count \r\n-------\r\n 14389\r\n(1 row)\r\n```\r\n\r\n</details>\r\n\r\n### Solution or next step\r\n\r\nThis looks like an easy fix, I'll ensure trailing whitespaces are removed from columns names.\r\n", "reactions": {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1560/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1560/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1555", "repository_url": "https://api.github.com/repos/AlexsLemonade/refinebio", "labels_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1555/labels{/name}", "comments_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1555/comments", "events_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1555/events", "html_url": "https://github.com/AlexsLemonade/refinebio/issues/1555", "id": 487257182, "node_id": "MDU6SXNzdWU0ODcyNTcxODI=", "number": 1555, "title": "API search endpoint es indexing is a step function?", "user": {"login": "davidsmejia", "id": 1075609, "node_id": "MDQ6VXNlcjEwNzU2MDk=", "avatar_url": "https://avatars.githubusercontent.com/u/1075609?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidsmejia", "html_url": "https://github.com/davidsmejia", "followers_url": "https://api.github.com/users/davidsmejia/followers", "following_url": "https://api.github.com/users/davidsmejia/following{/other_user}", "gists_url": "https://api.github.com/users/davidsmejia/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidsmejia/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidsmejia/subscriptions", "organizations_url": "https://api.github.com/users/davidsmejia/orgs", "repos_url": "https://api.github.com/users/davidsmejia/repos", "events_url": "https://api.github.com/users/davidsmejia/events{/privacy}", "received_events_url": "https://api.github.com/users/davidsmejia/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 559891810, "node_id": "MDU6TGFiZWw1NTk4OTE4MTA=", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "davidsmejia", "id": 1075609, "node_id": "MDQ6VXNlcjEwNzU2MDk=", "avatar_url": "https://avatars.githubusercontent.com/u/1075609?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidsmejia", "html_url": "https://github.com/davidsmejia", "followers_url": "https://api.github.com/users/davidsmejia/followers", "following_url": "https://api.github.com/users/davidsmejia/following{/other_user}", "gists_url": "https://api.github.com/users/davidsmejia/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidsmejia/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidsmejia/subscriptions", "organizations_url": "https://api.github.com/users/davidsmejia/orgs", "repos_url": "https://api.github.com/users/davidsmejia/repos", "events_url": "https://api.github.com/users/davidsmejia/events{/privacy}", "received_events_url": "https://api.github.com/users/davidsmejia/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "davidsmejia", "id": 1075609, "node_id": "MDQ6VXNlcjEwNzU2MDk=", "avatar_url": "https://avatars.githubusercontent.com/u/1075609?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidsmejia", "html_url": "https://github.com/davidsmejia", "followers_url": "https://api.github.com/users/davidsmejia/followers", "following_url": "https://api.github.com/users/davidsmejia/following{/other_user}", "gists_url": "https://api.github.com/users/davidsmejia/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidsmejia/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidsmejia/subscriptions", "organizations_url": "https://api.github.com/users/davidsmejia/orgs", "repos_url": "https://api.github.com/users/davidsmejia/repos", "events_url": "https://api.github.com/users/davidsmejia/events{/privacy}", "received_events_url": "https://api.github.com/users/davidsmejia/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2019-08-30T02:40:08Z", "updated_at": "2019-09-16T15:08:25Z", "closed_at": "2019-09-16T15:08:25Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Context\r\n\r\nAPI search index has been acting strangely. \r\n\r\n### Problem or idea\r\nThis is probably unrelated but should be addressed or at the very least investigated. It occurs locally and on at least the last few deploys.\r\n```\r\nIndexing 2 'Experiment' objects\r\n/usr/local/lib/python3.6/site-packages/django_elasticsearch_dsl/documents.py:207: \r\nUnorderedObjectListWarning: \r\n  Pagination may yield inconsistent results with an unordered object_list: \r\n  <class 'data_refinery_common.models.models.Experiment'> QuerySet.\r\n  object_list, self._doc_type.queryset_pagination\r\n```\r\n\r\n### Solution or next step\r\n\r\nFind where this query is coming from and possibly replace with an explicitly ordered query.\r\nOr maybe - and I'm not sure about this - possible add a default ordering to experiments a useful option would be ```id``` or ```created_at```\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1555/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1555/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1491", "repository_url": "https://api.github.com/repos/AlexsLemonade/refinebio", "labels_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1491/labels{/name}", "comments_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1491/comments", "events_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1491/events", "html_url": "https://github.com/AlexsLemonade/refinebio/issues/1491", "id": 480753460, "node_id": "MDU6SXNzdWU0ODA3NTM0NjA=", "number": 1491, "title": "DB Error null value in column \"protocol_description\" violates not-null constraint", "user": {"login": "arielsvn", "id": 1882507, "node_id": "MDQ6VXNlcjE4ODI1MDc=", "avatar_url": "https://avatars.githubusercontent.com/u/1882507?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arielsvn", "html_url": "https://github.com/arielsvn", "followers_url": "https://api.github.com/users/arielsvn/followers", "following_url": "https://api.github.com/users/arielsvn/following{/other_user}", "gists_url": "https://api.github.com/users/arielsvn/gists{/gist_id}", "starred_url": "https://api.github.com/users/arielsvn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arielsvn/subscriptions", "organizations_url": "https://api.github.com/users/arielsvn/orgs", "repos_url": "https://api.github.com/users/arielsvn/repos", "events_url": "https://api.github.com/users/arielsvn/events{/privacy}", "received_events_url": "https://api.github.com/users/arielsvn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 559891810, "node_id": "MDU6TGFiZWw1NTk4OTE4MTA=", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-08-14T15:43:36Z", "updated_at": "2019-08-14T18:27:46Z", "closed_at": "2019-08-14T18:27:46Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Context\r\n\r\nWe have been running a bunch of Surveyor jobs.\r\n\r\n### Problem or idea\r\n\r\nLooking at the DB logs and noticed we have a few of the following errors:\r\n\r\n```\r\n2019-08-14 15:00:17 UTC:10.0.73.172(47744):drpostgresuser@data_refinery:[2092]:ERROR:  null value in column \"protocol_description\" violates not-null constraint\r\n2019-08-14 15:00:17 UTC:10.0.73.172(47744):drpostgresuser@data_refinery:[2092]:DETAIL:  Failing row contains (44405, DRP003656, SRA, https://www.ebi.ac.uk/ena/data/view/DRP003656, Transcriptome analyses of the mouse tissues, In mammals, more than 60% of the genome is use for transcription..., null, RNA-SEQ, Epigenetics Group, f, , , {}, , null, null, t, 2019-08-14 15:00:17.120163+00, 2019-08-14 15:00:17.120163+00, null, 0, 0, {}, {}, {}, {}, 0).\r\n2019-08-14 15:00:17 UTC:10.0.73.172(47744):drpostgresuser@data_refinery:[2092]:STATEMENT:  INSERT INTO \"experiments\" (\"accession_code\", \"alternate_accession_code\", \"source_database\", \"source_url\", \"title\", \"description\", \"protocol_description\", \"technology\", \"submitter_institution\", \"has_publication\", \"publication_title\", \"publication_doi\", \"publication_authors\", \"pubmed_id\", \"source_first_published\", \"source_last_modified\", \"num_total_samples\", \"num_processed_samples\", \"num_downloadable_samples\", \"sample_metadata_fields\", \"organism_names\", \"platform_names\", \"platform_accession_codes\", \"is_public\", \"created_at\", \"last_modified\") VALUES ('DRP003656', NULL, 'SRA', 'https://www.ebi.ac.uk/ena/data/view/DRP003656', 'Transcriptome analyses of the mouse tissues', 'In mammals, more than 60% of the genome is use for transcription for mRNAs and noncoding RNAs (ncRNAs). For the comprehensive transcriptome analysis, we perform directional RNA sequencing of the mouse cerebral cortex.', NULL, 'RNA-SEQ', 'Epigenetics Group', false, '', '', '{}', '', NULL, NULL, 0, 0, 0, '{}', '{}', '{}', '{}', true, '2019-08-14T15:00:17.120163+00:00'::timestamptz, '2019-08-14T15:00:17.120163+00:00'::timestamptz) RETURNING \"experiments\".\"id\"\r\n```\r\n\r\n```\r\n2019-08-14 15:32:07 UTC:10.0.73.172(47986):drpostgresuser@data_refinery:[22198]:ERROR:  null value in column \"protocol_description\" violates not-null constraint\r\n2019-08-14 15:32:07 UTC:10.0.73.172(47986):drpostgresuser@data_refinery:[22198]:DETAIL:  Failing row contains (44533, DRP004999, SRA, https://www.ebi.ac.uk/ena/data/view/DRP004999, The presence of RNA in murine spermatozoa, The presence of RNA in the spermatozoa collected in HTF medium f..., null, RNA-SEQ, Animal reproduction, Hiroshima University, f, , , {}, , null, null, t, 2019-08-14 15:32:07.7324+00, 2019-08-14 15:32:07.7324+00, null, 0, 0, {}, {}, {}, {}, 0).\r\n```\r\n\r\n### Solution or next step\r\n\r\nNot sure why this happened, seems like an issue in the Surveyor?\r\n", "reactions": {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1491/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1491/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1476", "repository_url": "https://api.github.com/repos/AlexsLemonade/refinebio", "labels_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1476/labels{/name}", "comments_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1476/comments", "events_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1476/events", "html_url": "https://github.com/AlexsLemonade/refinebio/issues/1476", "id": 479661465, "node_id": "MDU6SXNzdWU0Nzk2NjE0NjU=", "number": 1476, "title": "A smasher job failed over the weekend, now stuck at pending", "user": {"login": "kurtwheeler", "id": 4026833, "node_id": "MDQ6VXNlcjQwMjY4MzM=", "avatar_url": "https://avatars.githubusercontent.com/u/4026833?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kurtwheeler", "html_url": "https://github.com/kurtwheeler", "followers_url": "https://api.github.com/users/kurtwheeler/followers", "following_url": "https://api.github.com/users/kurtwheeler/following{/other_user}", "gists_url": "https://api.github.com/users/kurtwheeler/gists{/gist_id}", "starred_url": "https://api.github.com/users/kurtwheeler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kurtwheeler/subscriptions", "organizations_url": "https://api.github.com/users/kurtwheeler/orgs", "repos_url": "https://api.github.com/users/kurtwheeler/repos", "events_url": "https://api.github.com/users/kurtwheeler/events{/privacy}", "received_events_url": "https://api.github.com/users/kurtwheeler/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 559891810, "node_id": "MDU6TGFiZWw1NTk4OTE4MTA=", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 873907685, "node_id": "MDU6TGFiZWw4NzM5MDc2ODU=", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/smasher", "name": "smasher", "color": "16e20b", "default": false, "description": ""}, {"id": 918556985, "node_id": "MDU6TGFiZWw5MTg1NTY5ODU=", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/devops", "name": "devops", "color": "f9d0c4", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-08-12T13:58:38Z", "updated_at": "2021-06-24T21:24:03Z", "closed_at": "2021-06-24T21:24:03Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Context\r\n\r\nA smasher job failed twice over the weekend and now is stuck at pending.\r\n\r\n### Problem or idea\r\n\r\nFigure out why it failed, why it's stuck, and then get it unstuck and succeeeding.\r\n", "reactions": {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1476/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1476/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1431", "repository_url": "https://api.github.com/repos/AlexsLemonade/refinebio", "labels_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1431/labels{/name}", "comments_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1431/comments", "events_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1431/events", "html_url": "https://github.com/AlexsLemonade/refinebio/issues/1431", "id": 474824893, "node_id": "MDU6SXNzdWU0NzQ4MjQ4OTM=", "number": 1431, "title": "Some processor jobs have a blank pipeline_applied field", "user": {"login": "kurtwheeler", "id": 4026833, "node_id": "MDQ6VXNlcjQwMjY4MzM=", "avatar_url": "https://avatars.githubusercontent.com/u/4026833?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kurtwheeler", "html_url": "https://github.com/kurtwheeler", "followers_url": "https://api.github.com/users/kurtwheeler/followers", "following_url": "https://api.github.com/users/kurtwheeler/following{/other_user}", "gists_url": "https://api.github.com/users/kurtwheeler/gists{/gist_id}", "starred_url": "https://api.github.com/users/kurtwheeler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kurtwheeler/subscriptions", "organizations_url": "https://api.github.com/users/kurtwheeler/orgs", "repos_url": "https://api.github.com/users/kurtwheeler/repos", "events_url": "https://api.github.com/users/kurtwheeler/events{/privacy}", "received_events_url": "https://api.github.com/users/kurtwheeler/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 559891810, "node_id": "MDU6TGFiZWw1NTk4OTE4MTA=", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-07-30T21:16:15Z", "updated_at": "2019-11-27T16:17:29Z", "closed_at": "2019-11-27T16:17:29Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Context\r\n\r\nThey look kinda like:\r\n\r\n```\r\n   id    | pipeline_applied | no_retry | ram_amount | volume_index |          start_time           |           end_time            | success |                    nomad_job_id                     | num_retries | retried | worker_id | worker_version |             failure_reason             |          created_at           |         last_modified         | retried_job_id \r\n---------+------------------+----------+------------+--------------+-------------------------------+-------------------------------+---------+-----------------------------------------------------+-------------+---------+-----------+----------------+----------------------------------------+-------------------------------+-------------------------------+----------------\r\n 3123270 |                  | f        |       2048 |              |                               |                               |         | SALMON_1_32768/dispatch-1564156955-f024a5da         |          -1 | f       |           |                |                                        | 2019-07-26 20:39:11.131165+00 | 2019-07-26 20:39:11.131165+00 |               \r\n 3123271 |                  | f        |       2048 |              |                               |                               |         | SALMON_1_32768/dispatch-1564157224-a172b1ba         |          -1 | f       |           |                |                                        | 2019-07-26 20:39:11.143894+00 | 2019-07-26 20:39:11.143894+00 |               \r\n 3123272 |                  | f        |       2048 |              |                               |                               |         | SALMON_1_32768/dispatch-1564160123-ded5d260         |          -1 | f       |           |                |                                        | 2019-07-26 20:39:11.158252+00 | 2019-07-26 20:39:11.158252+00 |               \r\n```\r\n\r\n### Problem or idea\r\n\r\nThis shouldn't be happening. This shouldn't happen. I thought we had a data model that literally made this impossible, but I guess blank=False doesn't mean what I think it does in django-land.\r\n\r\n### Solution or next step\r\n\r\nWe should figure out what's causing jobs like this to exist and prevent it from making more. We should maybe do something with the jobs that already exist like this.\r\n", "reactions": {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1431/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1431/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1427", "repository_url": "https://api.github.com/repos/AlexsLemonade/refinebio", "labels_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1427/labels{/name}", "comments_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1427/comments", "events_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1427/events", "html_url": "https://github.com/AlexsLemonade/refinebio/issues/1427", "id": 474780257, "node_id": "MDU6SXNzdWU0NzQ3ODAyNTc=", "number": 1427, "title": "Some salmon jobs are being recreated over and over again.", "user": {"login": "kurtwheeler", "id": 4026833, "node_id": "MDQ6VXNlcjQwMjY4MzM=", "avatar_url": "https://avatars.githubusercontent.com/u/4026833?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kurtwheeler", "html_url": "https://github.com/kurtwheeler", "followers_url": "https://api.github.com/users/kurtwheeler/followers", "following_url": "https://api.github.com/users/kurtwheeler/following{/other_user}", "gists_url": "https://api.github.com/users/kurtwheeler/gists{/gist_id}", "starred_url": "https://api.github.com/users/kurtwheeler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kurtwheeler/subscriptions", "organizations_url": "https://api.github.com/users/kurtwheeler/orgs", "repos_url": "https://api.github.com/users/kurtwheeler/repos", "events_url": "https://api.github.com/users/kurtwheeler/events{/privacy}", "received_events_url": "https://api.github.com/users/kurtwheeler/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 559891810, "node_id": "MDU6TGFiZWw1NTk4OTE4MTA=", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-07-30T19:27:20Z", "updated_at": "2019-09-03T15:36:57Z", "closed_at": "2019-09-03T15:36:57Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Context\r\n\r\n```\r\ndata_refinery=> select id, success, num_retries, no_retry, volume_index from processor_jobs where id in (select processor_job_id from processorjob_originalfile_associations where original_file_id =1821396);\r\n   id    | success | num_retries | no_retry | volume_index \r\n---------+---------+-------------+----------+--------------\r\n 3119252 |         |           0 | f        | 4\r\n 3118750 | f       |           0 | t        | 0\r\n 3118221 | f       |           0 | t        | 0\r\n 3117480 | f       |           0 | t        | 0\r\n 3116663 | f       |           0 | t        | 0\r\n 3106446 | f       |           0 | t        | 4\r\n 3097472 | f       |           0 | t        | 2\r\n 3054680 | f       |           0 | t        | 1\r\n 3049050 | f       |           0 | t        | 2\r\n 3042520 | f       |           0 | t        | 0\r\n(10 rows)\r\n```\r\n\r\nand\r\n\r\n```\r\ndata_refinery=>  select id, success, num_retries, no_retry, was_recreated from downloader_jobs where id in (select downloader_job_id from downloaderjob_originalfile_associations where original_file_id =1821396);\r\n   id    | success | num_retries | no_retry | was_recreated \r\n---------+---------+-------------+----------+---------------\r\n 4726341 | t       |           0 | f        | t\r\n 4726051 | t       |           0 | f        | t\r\n 4725842 | t       |           0 | f        | t\r\n 4725486 | t       |           2 | f        | t\r\n 4725457 | f       |           1 | f        | t\r\n 4725379 | f       |           0 | f        | t\r\n 4724872 | t       |           0 | f        | t\r\n 4719529 | t       |           0 | f        | t\r\n 4713954 | t       |           0 | f        | t\r\n 4681557 | t       |           0 | f        | t\r\n 4670071 | t       |           0 | f        | t\r\n 4624654 | t       |          -1 | f        | f\r\n(12 rows)\r\n```\r\n\r\n### Problem or idea\r\n\r\nThese jobs are all no_retry=True, because they timed out. However something is recreating them over and over again. It's not immediately clear to me what that is.\r\n\r\n### Solution or next step\r\n\r\nFigure out what's recreating these jobs that we don't want to be retried and stop it from doing so.\r\n", "reactions": {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1427/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1427/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1410", "repository_url": "https://api.github.com/repos/AlexsLemonade/refinebio", "labels_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1410/labels{/name}", "comments_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1410/comments", "events_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1410/events", "html_url": "https://github.com/AlexsLemonade/refinebio/issues/1410", "id": 471796303, "node_id": "MDU6SXNzdWU0NzE3OTYzMDM=", "number": 1410, "title": "Salmon processor jobs failing for Nomad reasons", "user": {"login": "wvauclain", "id": 13942258, "node_id": "MDQ6VXNlcjEzOTQyMjU4", "avatar_url": "https://avatars.githubusercontent.com/u/13942258?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wvauclain", "html_url": "https://github.com/wvauclain", "followers_url": "https://api.github.com/users/wvauclain/followers", "following_url": "https://api.github.com/users/wvauclain/following{/other_user}", "gists_url": "https://api.github.com/users/wvauclain/gists{/gist_id}", "starred_url": "https://api.github.com/users/wvauclain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wvauclain/subscriptions", "organizations_url": "https://api.github.com/users/wvauclain/orgs", "repos_url": "https://api.github.com/users/wvauclain/repos", "events_url": "https://api.github.com/users/wvauclain/events{/privacy}", "received_events_url": "https://api.github.com/users/wvauclain/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 559891810, "node_id": "MDU6TGFiZWw1NTk4OTE4MTA=", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2019-07-23T16:28:38Z", "updated_at": "2021-06-25T16:32:16Z", "closed_at": "2021-06-25T16:32:16Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Context\r\n\r\nI was checking on some of the dead salmon jobs to see why they died.\r\n\r\n### Problem or idea\r\n\r\n```\r\nubuntu@ip-10-0-205-197:~$ nomad status 51410cd7\r\nID                  = 51410cd7\r\nEval ID             = 8f4b1cb7\r\nName                = SALMON_4_32768/dispatch-1563888675-330fad7b.jobs[0]\r\nNode ID             = 76758d96\r\nJob ID              = SALMON_4_32768/dispatch-1563888675-330fad7b\r\nJob Version         = 0\r\nClient Status       = failed\r\nClient Description  = <none>\r\nDesired Status      = run\r\nDesired Description = <none>\r\nCreated             = 13m9s ago\r\nModified            = 8m1s ago\r\n\r\nTask \"salmon\" is \"dead\"\r\nTask Resources\r\nCPU       Memory  Disk    IOPS  Addresses\r\n1024 MHz  32 GiB  10 MiB  0\r\n\r\nTask Events:\r\nStarted At     = N/A\r\nFinished At    = 2019-07-23T16:18:41Z\r\nTotal Restarts = 0\r\nLast Restart   = N/A\r\n\r\nRecent Events:\r\nTime                  Type            Description\r\n2019-07-23T16:18:41Z  Not Restarting  Policy allows no restarts\r\n2019-07-23T16:18:41Z  Driver Failure  failed to start task \"salmon\" for alloc \"51410cd7-1165-aa01-ee6e-cbf38b46d249\": Failed to start container e1d625cfda84735be12b5cd7ea8a4c0b30e2262e026dc45e8e8c3c17bb419ac9: Post http://unix.sock/containers/e1d625cfda84735be12b5cd7ea8a4c0b30e2262e026dc45e8e8c3c17bb419ac9/start: net/http: request canceled (Client.Timeout exceeded while awaiting headers)\r\n2019-07-23T16:13:39Z  Task Setup      Building Task Directory\r\n2019-07-23T16:13:39Z  Received        Task received by client\r\n```\r\n\r\n### Solution or next step\r\n\r\nWe need to figure out what this error means\r\n", "reactions": {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1410/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1410/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1399", "repository_url": "https://api.github.com/repos/AlexsLemonade/refinebio", "labels_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1399/labels{/name}", "comments_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1399/comments", "events_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1399/events", "html_url": "https://github.com/AlexsLemonade/refinebio/issues/1399", "id": 469454746, "node_id": "MDU6SXNzdWU0Njk0NTQ3NDY=", "number": 1399, "title": "Some samples have a typo on the manufacturer field", "user": {"login": "arielsvn", "id": 1882507, "node_id": "MDQ6VXNlcjE4ODI1MDc=", "avatar_url": "https://avatars.githubusercontent.com/u/1882507?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arielsvn", "html_url": "https://github.com/arielsvn", "followers_url": "https://api.github.com/users/arielsvn/followers", "following_url": "https://api.github.com/users/arielsvn/following{/other_user}", "gists_url": "https://api.github.com/users/arielsvn/gists{/gist_id}", "starred_url": "https://api.github.com/users/arielsvn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arielsvn/subscriptions", "organizations_url": "https://api.github.com/users/arielsvn/orgs", "repos_url": "https://api.github.com/users/arielsvn/repos", "events_url": "https://api.github.com/users/arielsvn/events{/privacy}", "received_events_url": "https://api.github.com/users/arielsvn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 559891810, "node_id": "MDU6TGFiZWw1NTk4OTE4MTA=", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "wvauclain", "id": 13942258, "node_id": "MDQ6VXNlcjEzOTQyMjU4", "avatar_url": "https://avatars.githubusercontent.com/u/13942258?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wvauclain", "html_url": "https://github.com/wvauclain", "followers_url": "https://api.github.com/users/wvauclain/followers", "following_url": "https://api.github.com/users/wvauclain/following{/other_user}", "gists_url": "https://api.github.com/users/wvauclain/gists{/gist_id}", "starred_url": "https://api.github.com/users/wvauclain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wvauclain/subscriptions", "organizations_url": "https://api.github.com/users/wvauclain/orgs", "repos_url": "https://api.github.com/users/wvauclain/repos", "events_url": "https://api.github.com/users/wvauclain/events{/privacy}", "received_events_url": "https://api.github.com/users/wvauclain/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "wvauclain", "id": 13942258, "node_id": "MDQ6VXNlcjEzOTQyMjU4", "avatar_url": "https://avatars.githubusercontent.com/u/13942258?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wvauclain", "html_url": "https://github.com/wvauclain", "followers_url": "https://api.github.com/users/wvauclain/followers", "following_url": "https://api.github.com/users/wvauclain/following{/other_user}", "gists_url": "https://api.github.com/users/wvauclain/gists{/gist_id}", "starred_url": "https://api.github.com/users/wvauclain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wvauclain/subscriptions", "organizations_url": "https://api.github.com/users/wvauclain/orgs", "repos_url": "https://api.github.com/users/wvauclain/repos", "events_url": "https://api.github.com/users/wvauclain/events{/privacy}", "received_events_url": "https://api.github.com/users/wvauclain/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 7, "created_at": "2019-07-17T21:27:07Z", "updated_at": "2019-08-13T18:02:22Z", "closed_at": "2019-08-13T15:44:30Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Context\r\n\r\nI was running some queries in the DB for #1391 \r\n\r\n### Problem or idea\r\n\r\nNoticed that some samples  have `AFFYMETRTIX` in the manufacturer field instead of `AFFYMETRIX`.\r\n\r\n```\r\ndata_refinery=> select count(id), manufacturer from samples group by manufacturer;\r\n count  | manufacturer \r\n--------+--------------\r\n  49906 | UNKNOWN\r\n 532028 | ILLUMINA\r\n   1351 | ION_TORRENT\r\n  20858 | AFFYMETRTIX\r\n    112 | NEXTSEQ\r\n 607980 | AFFYMETRIX\r\n(6 rows)\r\n```\r\n\r\n### Solution or next step\r\n\r\nNot sure if it's better to fix this with a migration or a management command.\r\n", "reactions": {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1399/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1399/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1390", "repository_url": "https://api.github.com/repos/AlexsLemonade/refinebio", "labels_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1390/labels{/name}", "comments_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1390/comments", "events_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1390/events", "html_url": "https://github.com/AlexsLemonade/refinebio/issues/1390", "id": 468201139, "node_id": "MDU6SXNzdWU0NjgyMDExMzk=", "number": 1390, "title": "Many tests are failing (eUtils)", "user": {"login": "wvauclain", "id": 13942258, "node_id": "MDQ6VXNlcjEzOTQyMjU4", "avatar_url": "https://avatars.githubusercontent.com/u/13942258?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wvauclain", "html_url": "https://github.com/wvauclain", "followers_url": "https://api.github.com/users/wvauclain/followers", "following_url": "https://api.github.com/users/wvauclain/following{/other_user}", "gists_url": "https://api.github.com/users/wvauclain/gists{/gist_id}", "starred_url": "https://api.github.com/users/wvauclain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wvauclain/subscriptions", "organizations_url": "https://api.github.com/users/wvauclain/orgs", "repos_url": "https://api.github.com/users/wvauclain/repos", "events_url": "https://api.github.com/users/wvauclain/events{/privacy}", "received_events_url": "https://api.github.com/users/wvauclain/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 559891810, "node_id": "MDU6TGFiZWw1NTk4OTE4MTA=", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1067929310, "node_id": "MDU6TGFiZWwxMDY3OTI5MzEw", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/beta", "name": "beta", "color": "fcb83a", "default": false, "description": "Necessary for beta launch."}], "state": "closed", "locked": false, "assignee": {"login": "wvauclain", "id": 13942258, "node_id": "MDQ6VXNlcjEzOTQyMjU4", "avatar_url": "https://avatars.githubusercontent.com/u/13942258?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wvauclain", "html_url": "https://github.com/wvauclain", "followers_url": "https://api.github.com/users/wvauclain/followers", "following_url": "https://api.github.com/users/wvauclain/following{/other_user}", "gists_url": "https://api.github.com/users/wvauclain/gists{/gist_id}", "starred_url": "https://api.github.com/users/wvauclain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wvauclain/subscriptions", "organizations_url": "https://api.github.com/users/wvauclain/orgs", "repos_url": "https://api.github.com/users/wvauclain/repos", "events_url": "https://api.github.com/users/wvauclain/events{/privacy}", "received_events_url": "https://api.github.com/users/wvauclain/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "wvauclain", "id": 13942258, "node_id": "MDQ6VXNlcjEzOTQyMjU4", "avatar_url": "https://avatars.githubusercontent.com/u/13942258?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wvauclain", "html_url": "https://github.com/wvauclain", "followers_url": "https://api.github.com/users/wvauclain/followers", "following_url": "https://api.github.com/users/wvauclain/following{/other_user}", "gists_url": "https://api.github.com/users/wvauclain/gists{/gist_id}", "starred_url": "https://api.github.com/users/wvauclain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wvauclain/subscriptions", "organizations_url": "https://api.github.com/users/wvauclain/orgs", "repos_url": "https://api.github.com/users/wvauclain/repos", "events_url": "https://api.github.com/users/wvauclain/events{/privacy}", "received_events_url": "https://api.github.com/users/wvauclain/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2019-07-15T15:44:35Z", "updated_at": "2019-07-17T16:45:00Z", "closed_at": "2019-07-16T18:57:06Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Context\r\n\r\nAll of our salmon tests are currently failing with an `eutils` issue.\r\n\r\n### Problem or idea\r\n\r\n```\r\n2019-07-15 15:36:50,651 local [volume: 0] data_refinery_common.models.organism ERROR [text: <?xml version=\"1.0\" encoding=\"UTF-8\" ?>\r\n<!DOCTYPE eSearchResult PUBLIC \"-//NLM//DTD esearch 20060628//EN\" \"https://eutils.ncbi.nlm.nih.gov/eutils/dtd/20060628/esearch.dtd\">\r\n<eSearchResult>\r\n\t<ERROR>Search Backend failed: Unable to open connection to #PMQuerySrv?dbaf=taxonomy</ERROR>\r\n</eSearchResult>\r\n]: Bad response from eUtils.\r\nE2019-07-15 15:36:50,758 local [volume: 0] data_refinery_common.models.organism ERROR [text: <?xml version=\"1.0\" encoding=\"UTF-8\" ?>\r\n<!DOCTYPE eSearchResult PUBLIC \"-//NLM//DTD esearch 20060628//EN\" \"https://eutils.ncbi.nlm.nih.gov/eutils/dtd/20060628/esearch.dtd\">\r\n<eSearchResult>\r\n\t<ERROR>Search Backend failed: Unable to open connection to #PMQuerySrv?dbaf=taxonomy</ERROR>\r\n</eSearchResult>\r\n]: Bad response from eUtils.\r\nE2019-07-15 15:36:50,956 local [volume: 0] data_refinery_common.models.organism ERROR [text: <?xml version=\"1.0\" encoding=\"UTF-8\" ?>\r\n<!DOCTYPE eSearchResult PUBLIC \"-//NLM//DTD esearch 20060628//EN\" \"https://eutils.ncbi.nlm.nih.gov/eutils/dtd/20060628/esearch.dtd\">\r\n<eSearchResult>\r\n\t<ERROR>Search Backend failed: Unable to open connection to #PMQuerySrv?dbaf=taxonomy</ERROR>\r\n</eSearchResult>\r\n]: Bad response from eUtils.\r\n```\r\n\r\n### Solution or next step\r\n\r\n_You can tag others or simply leave it for further investigation, but you must propose a next step towards solving the issue._\r\n", "reactions": {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1390/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1390/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1352", "repository_url": "https://api.github.com/repos/AlexsLemonade/refinebio", "labels_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1352/labels{/name}", "comments_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1352/comments", "events_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1352/events", "html_url": "https://github.com/AlexsLemonade/refinebio/issues/1352", "id": 460995530, "node_id": "MDU6SXNzdWU0NjA5OTU1MzA=", "number": 1352, "title": "Nomad version's API returns wrong number of jobs", "user": {"login": "arielsvn", "id": 1882507, "node_id": "MDQ6VXNlcjE4ODI1MDc=", "avatar_url": "https://avatars.githubusercontent.com/u/1882507?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arielsvn", "html_url": "https://github.com/arielsvn", "followers_url": "https://api.github.com/users/arielsvn/followers", "following_url": "https://api.github.com/users/arielsvn/following{/other_user}", "gists_url": "https://api.github.com/users/arielsvn/gists{/gist_id}", "starred_url": "https://api.github.com/users/arielsvn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arielsvn/subscriptions", "organizations_url": "https://api.github.com/users/arielsvn/orgs", "repos_url": "https://api.github.com/users/arielsvn/repos", "events_url": "https://api.github.com/users/arielsvn/events{/privacy}", "received_events_url": "https://api.github.com/users/arielsvn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 559891810, "node_id": "MDU6TGFiZWw1NTk4OTE4MTA=", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1519748681, "node_id": "MDU6TGFiZWwxNTE5NzQ4Njgx", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/dashboard", "name": "dashboard", "color": "e82e7e", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "arielsvn", "id": 1882507, "node_id": "MDQ6VXNlcjE4ODI1MDc=", "avatar_url": "https://avatars.githubusercontent.com/u/1882507?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arielsvn", "html_url": "https://github.com/arielsvn", "followers_url": "https://api.github.com/users/arielsvn/followers", "following_url": "https://api.github.com/users/arielsvn/following{/other_user}", "gists_url": "https://api.github.com/users/arielsvn/gists{/gist_id}", "starred_url": "https://api.github.com/users/arielsvn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arielsvn/subscriptions", "organizations_url": "https://api.github.com/users/arielsvn/orgs", "repos_url": "https://api.github.com/users/arielsvn/repos", "events_url": "https://api.github.com/users/arielsvn/events{/privacy}", "received_events_url": "https://api.github.com/users/arielsvn/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "arielsvn", "id": 1882507, "node_id": "MDQ6VXNlcjE4ODI1MDc=", "avatar_url": "https://avatars.githubusercontent.com/u/1882507?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arielsvn", "html_url": "https://github.com/arielsvn", "followers_url": "https://api.github.com/users/arielsvn/followers", "following_url": "https://api.github.com/users/arielsvn/following{/other_user}", "gists_url": "https://api.github.com/users/arielsvn/gists{/gist_id}", "starred_url": "https://api.github.com/users/arielsvn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arielsvn/subscriptions", "organizations_url": "https://api.github.com/users/arielsvn/orgs", "repos_url": "https://api.github.com/users/arielsvn/repos", "events_url": "https://api.github.com/users/arielsvn/events{/privacy}", "received_events_url": "https://api.github.com/users/arielsvn/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2019-06-26T14:11:46Z", "updated_at": "2019-10-07T20:16:50Z", "closed_at": "2019-10-07T20:16:50Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "![image](https://user-images.githubusercontent.com/1882507/60186865-39da5300-97f2-11e9-83f6-7ca0762b2ebd.png)\r\n", "reactions": {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1352/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1352/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1301", "repository_url": "https://api.github.com/repos/AlexsLemonade/refinebio", "labels_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1301/labels{/name}", "comments_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1301/comments", "events_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1301/events", "html_url": "https://github.com/AlexsLemonade/refinebio/issues/1301", "id": 442753633, "node_id": "MDU6SXNzdWU0NDI3NTM2MzM=", "number": 1301, "title": "Deal with Ensembl's latest API change", "user": {"login": "kurtwheeler", "id": 4026833, "node_id": "MDQ6VXNlcjQwMjY4MzM=", "avatar_url": "https://avatars.githubusercontent.com/u/4026833?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kurtwheeler", "html_url": "https://github.com/kurtwheeler", "followers_url": "https://api.github.com/users/kurtwheeler/followers", "following_url": "https://api.github.com/users/kurtwheeler/following{/other_user}", "gists_url": "https://api.github.com/users/kurtwheeler/gists{/gist_id}", "starred_url": "https://api.github.com/users/kurtwheeler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kurtwheeler/subscriptions", "organizations_url": "https://api.github.com/users/kurtwheeler/orgs", "repos_url": "https://api.github.com/users/kurtwheeler/repos", "events_url": "https://api.github.com/users/kurtwheeler/events{/privacy}", "received_events_url": "https://api.github.com/users/kurtwheeler/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 559891810, "node_id": "MDU6TGFiZWw1NTk4OTE4MTA=", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1356111435, "node_id": "MDU6TGFiZWwxMzU2MTExNDM1", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/external%20%20dependency%20issue", "name": "external  dependency issue", "color": "000963", "default": false, "description": "Someone we rely on broke things, now we get to deal with it"}], "state": "closed", "locked": false, "assignee": {"login": "arielsvn", "id": 1882507, "node_id": "MDQ6VXNlcjE4ODI1MDc=", "avatar_url": "https://avatars.githubusercontent.com/u/1882507?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arielsvn", "html_url": "https://github.com/arielsvn", "followers_url": "https://api.github.com/users/arielsvn/followers", "following_url": "https://api.github.com/users/arielsvn/following{/other_user}", "gists_url": "https://api.github.com/users/arielsvn/gists{/gist_id}", "starred_url": "https://api.github.com/users/arielsvn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arielsvn/subscriptions", "organizations_url": "https://api.github.com/users/arielsvn/orgs", "repos_url": "https://api.github.com/users/arielsvn/repos", "events_url": "https://api.github.com/users/arielsvn/events{/privacy}", "received_events_url": "https://api.github.com/users/arielsvn/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "arielsvn", "id": 1882507, "node_id": "MDQ6VXNlcjE4ODI1MDc=", "avatar_url": "https://avatars.githubusercontent.com/u/1882507?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arielsvn", "html_url": "https://github.com/arielsvn", "followers_url": "https://api.github.com/users/arielsvn/followers", "following_url": "https://api.github.com/users/arielsvn/following{/other_user}", "gists_url": "https://api.github.com/users/arielsvn/gists{/gist_id}", "starred_url": "https://api.github.com/users/arielsvn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arielsvn/subscriptions", "organizations_url": "https://api.github.com/users/arielsvn/orgs", "repos_url": "https://api.github.com/users/arielsvn/repos", "events_url": "https://api.github.com/users/arielsvn/events{/privacy}", "received_events_url": "https://api.github.com/users/arielsvn/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2019-05-10T14:41:07Z", "updated_at": "2019-05-14T19:48:19Z", "closed_at": "2019-05-14T19:48:12Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Context\r\n\r\nEnsembl's API has always been weirdly divided into divisions, most of which were at one API: https://rest.ensemblgenomes.org\r\n\r\nHowever they also had a different URL with what I've called their \"main division\" (since it's not otherwise labeled): https://rest.ensembl.org\r\n\r\n### Problem or idea\r\n\r\nEnsembl changed their API and broke our transcriptome index code with this release: http://www.ensembl.info/2019/03/08/joint-rest-server-for-ensembl-and-ensembl-genomes-in-ensembl-96/\r\n\r\nThey completely broke https://rest.ensemblgenomes.org... even when requesting JSON the response is just plain text: \"This REST server has been retired, please use rest.ensembl.org instead. For further information please see our blog post http://www.ensembl.info/2019/03/08/joint-rest-server-for-ensembl-and-ensembl-genomes-in-ensembl-96/\" (WHICH BTW IS NOT THE WAY TO DEPRECATE AN API!!!!!!!!) It looks like basically we're supposed to get all the data from the other URL. I haven't read all the whole blog post through, but it looks like they at least give a very detailed description of what changed and how.\r\n\r\n### Solution or next step\r\n\r\nWe have a bunch of logic to use the right endpoint based on the division but now it looks like we don't need to worry about that. We should just use the same URL for all organisms and parse out the metadata fields which are equivalent to the ones we're already storing.", "reactions": {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1301/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1301/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1289", "repository_url": "https://api.github.com/repos/AlexsLemonade/refinebio", "labels_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1289/labels{/name}", "comments_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1289/comments", "events_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1289/events", "html_url": "https://github.com/AlexsLemonade/refinebio/issues/1289", "id": 439324441, "node_id": "MDU6SXNzdWU0MzkzMjQ0NDE=", "number": 1289, "title": "Compendia page not returning download url field", "user": {"login": "arielsvn", "id": 1882507, "node_id": "MDQ6VXNlcjE4ODI1MDc=", "avatar_url": "https://avatars.githubusercontent.com/u/1882507?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arielsvn", "html_url": "https://github.com/arielsvn", "followers_url": "https://api.github.com/users/arielsvn/followers", "following_url": "https://api.github.com/users/arielsvn/following{/other_user}", "gists_url": "https://api.github.com/users/arielsvn/gists{/gist_id}", "starred_url": "https://api.github.com/users/arielsvn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arielsvn/subscriptions", "organizations_url": "https://api.github.com/users/arielsvn/orgs", "repos_url": "https://api.github.com/users/arielsvn/repos", "events_url": "https://api.github.com/users/arielsvn/events{/privacy}", "received_events_url": "https://api.github.com/users/arielsvn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 559891810, "node_id": "MDU6TGFiZWw1NTk4OTE4MTA=", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 845496395, "node_id": "MDU6TGFiZWw4NDU0OTYzOTU=", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/data%20for%20GUI", "name": "data for GUI", "color": "4fc61b", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-05-01T21:03:57Z", "updated_at": "2019-05-07T20:34:40Z", "closed_at": "2019-05-07T20:34:39Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Context\r\n\r\nSome endpoints that return an S3 download link require api consumers to send a valid token in the request headers. https://github.com/AlexsLemonade/refinebio-frontend/issues/560\r\n\r\n### Problem or idea\r\n\r\nThe compendia endpoint (`/compendia`) detects the token, but it doesn't return anything in the `download_url`.\r\n\r\n### Solution or next step\r\n\r\nTagging @kurtwheeler for input. ", "reactions": {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1289/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1289/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1224", "repository_url": "https://api.github.com/repos/AlexsLemonade/refinebio", "labels_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1224/labels{/name}", "comments_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1224/comments", "events_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1224/events", "html_url": "https://github.com/AlexsLemonade/refinebio/issues/1224", "id": 431031111, "node_id": "MDU6SXNzdWU0MzEwMzExMTE=", "number": 1224, "title": "Organism filter is broken for QN target query", "user": {"login": "jaclyn-taroni", "id": 19534205, "node_id": "MDQ6VXNlcjE5NTM0MjA1", "avatar_url": "https://avatars.githubusercontent.com/u/19534205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaclyn-taroni", "html_url": "https://github.com/jaclyn-taroni", "followers_url": "https://api.github.com/users/jaclyn-taroni/followers", "following_url": "https://api.github.com/users/jaclyn-taroni/following{/other_user}", "gists_url": "https://api.github.com/users/jaclyn-taroni/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaclyn-taroni/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaclyn-taroni/subscriptions", "organizations_url": "https://api.github.com/users/jaclyn-taroni/orgs", "repos_url": "https://api.github.com/users/jaclyn-taroni/repos", "events_url": "https://api.github.com/users/jaclyn-taroni/events{/privacy}", "received_events_url": "https://api.github.com/users/jaclyn-taroni/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 559891810, "node_id": "MDU6TGFiZWw1NTk4OTE4MTA=", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 872422017, "node_id": "MDU6TGFiZWw4NzI0MjIwMTc=", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/api", "name": "api", "color": "ecc2f9", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2019-04-09T15:26:20Z", "updated_at": "2019-04-09T22:43:08Z", "closed_at": "2019-04-09T22:43:08Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Context\r\n\r\nWorking on creating a QN your own data example (https://github.com/AlexsLemonade/refinebio-examples/issues/26).\r\n\r\n### Problem or idea\r\n\r\nI used `https://api.refine.bio/qn_targets/?organism=DANIO_RERIO`. I thought it was returning multiple zebrafish targets created at different times (12 to be exact), but when I read in the latest QN target it had about 3000 more genes than I was expecting to see. It was actually the mouse target.\r\n\r\n### Solution or next step\r\n\r\nReturn only QN target info for the specified organism. \r\n\r\n### New Issue Checklist\r\n\r\n- [x] The title is short and descriptive.\r\n- [x] You have explained the context that led you to write this issue.\r\n- [x] You have reported a problem or idea.\r\n- [x] You have proposed a solution or next step.\r\n", "reactions": {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1224/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1224/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1181", "repository_url": "https://api.github.com/repos/AlexsLemonade/refinebio", "labels_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1181/labels{/name}", "comments_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1181/comments", "events_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1181/events", "html_url": "https://github.com/AlexsLemonade/refinebio/issues/1181", "id": 426178898, "node_id": "MDU6SXNzdWU0MjYxNzg4OTg=", "number": 1181, "title": "Filtering by platform doesn't work", "user": {"login": "arielsvn", "id": 1882507, "node_id": "MDQ6VXNlcjE4ODI1MDc=", "avatar_url": "https://avatars.githubusercontent.com/u/1882507?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arielsvn", "html_url": "https://github.com/arielsvn", "followers_url": "https://api.github.com/users/arielsvn/followers", "following_url": "https://api.github.com/users/arielsvn/following{/other_user}", "gists_url": "https://api.github.com/users/arielsvn/gists{/gist_id}", "starred_url": "https://api.github.com/users/arielsvn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arielsvn/subscriptions", "organizations_url": "https://api.github.com/users/arielsvn/orgs", "repos_url": "https://api.github.com/users/arielsvn/repos", "events_url": "https://api.github.com/users/arielsvn/events{/privacy}", "received_events_url": "https://api.github.com/users/arielsvn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 559891810, "node_id": "MDU6TGFiZWw1NTk4OTE4MTA=", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 872422017, "node_id": "MDU6TGFiZWw4NzI0MjIwMTc=", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/api", "name": "api", "color": "ecc2f9", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "arielsvn", "id": 1882507, "node_id": "MDQ6VXNlcjE4ODI1MDc=", "avatar_url": "https://avatars.githubusercontent.com/u/1882507?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arielsvn", "html_url": "https://github.com/arielsvn", "followers_url": "https://api.github.com/users/arielsvn/followers", "following_url": "https://api.github.com/users/arielsvn/following{/other_user}", "gists_url": "https://api.github.com/users/arielsvn/gists{/gist_id}", "starred_url": "https://api.github.com/users/arielsvn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arielsvn/subscriptions", "organizations_url": "https://api.github.com/users/arielsvn/orgs", "repos_url": "https://api.github.com/users/arielsvn/repos", "events_url": "https://api.github.com/users/arielsvn/events{/privacy}", "received_events_url": "https://api.github.com/users/arielsvn/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "arielsvn", "id": 1882507, "node_id": "MDQ6VXNlcjE4ODI1MDc=", "avatar_url": "https://avatars.githubusercontent.com/u/1882507?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arielsvn", "html_url": "https://github.com/arielsvn", "followers_url": "https://api.github.com/users/arielsvn/followers", "following_url": "https://api.github.com/users/arielsvn/following{/other_user}", "gists_url": "https://api.github.com/users/arielsvn/gists{/gist_id}", "starred_url": "https://api.github.com/users/arielsvn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arielsvn/subscriptions", "organizations_url": "https://api.github.com/users/arielsvn/orgs", "repos_url": "https://api.github.com/users/arielsvn/repos", "events_url": "https://api.github.com/users/arielsvn/events{/privacy}", "received_events_url": "https://api.github.com/users/arielsvn/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2019-03-27T20:54:23Z", "updated_at": "2019-04-24T18:51:00Z", "closed_at": "2019-04-24T18:50:56Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Context\r\n\r\nSearch API should support filtering by platform.\r\n\r\n### Problem or idea\r\n\r\nBut as reported in https://github.com/AlexsLemonade/refinebio-frontend/issues/569 it doesn't seem to be working. Except for those platforms with special characters, for example this works:\r\n\r\nhttps://api.refine.bio/es/?platform=IlluminaHiSeq2000\r\nhttps://api.refine.bio/es/?platform=Illumina%20HiSeq%202000\r\n\r\n\r\nThat is for platforms `IlluminaHiSeq2000` or `Illumina HiSeq 2000` (with spaces), but it doesn't work for other platforms like `Illumina HumanHT-12 V4.0 expression beadchip`\r\n\r\n\r\nhttps://api.refine.bio/es/?platform=Illumina%20HumanHT-12%20V4.0%20expression%20beadchip\r\n\r\n### Solution or next step\r\n\r\nNot sure what is happening here, at some point we had an encoding issue in the frontend but that was fixed and it's not the case here. I created these urls directly with the API.\r\n\r\n@Miserlou is there any setting that we can tweak to fix these? I'm guessing the problem is the platforms with non letter characters and how ES indexes them.\r\n\r\n### New Issue Checklist\r\n\r\n- [x] The title is short and descriptive.\r\n- [x] You have explained the context that led you to write this issue.\r\n- [x] You have reported a problem or idea.\r\n- [x] You have proposed a solution or next step.\r\n", "reactions": {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1181/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1181/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1137", "repository_url": "https://api.github.com/repos/AlexsLemonade/refinebio", "labels_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1137/labels{/name}", "comments_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1137/comments", "events_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1137/events", "html_url": "https://github.com/AlexsLemonade/refinebio/issues/1137", "id": 422258093, "node_id": "MDU6SXNzdWU0MjIyNTgwOTM=", "number": 1137, "title": "Cannot Smash a Lone Sample", "user": {"login": "Miserlou", "id": 139987, "node_id": "MDQ6VXNlcjEzOTk4Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/139987?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Miserlou", "html_url": "https://github.com/Miserlou", "followers_url": "https://api.github.com/users/Miserlou/followers", "following_url": "https://api.github.com/users/Miserlou/following{/other_user}", "gists_url": "https://api.github.com/users/Miserlou/gists{/gist_id}", "starred_url": "https://api.github.com/users/Miserlou/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Miserlou/subscriptions", "organizations_url": "https://api.github.com/users/Miserlou/orgs", "repos_url": "https://api.github.com/users/Miserlou/repos", "events_url": "https://api.github.com/users/Miserlou/events{/privacy}", "received_events_url": "https://api.github.com/users/Miserlou/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 559891810, "node_id": "MDU6TGFiZWw1NTk4OTE4MTA=", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 873907685, "node_id": "MDU6TGFiZWw4NzM5MDc2ODU=", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/smasher", "name": "smasher", "color": "16e20b", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "Miserlou", "id": 139987, "node_id": "MDQ6VXNlcjEzOTk4Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/139987?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Miserlou", "html_url": "https://github.com/Miserlou", "followers_url": "https://api.github.com/users/Miserlou/followers", "following_url": "https://api.github.com/users/Miserlou/following{/other_user}", "gists_url": "https://api.github.com/users/Miserlou/gists{/gist_id}", "starred_url": "https://api.github.com/users/Miserlou/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Miserlou/subscriptions", "organizations_url": "https://api.github.com/users/Miserlou/orgs", "repos_url": "https://api.github.com/users/Miserlou/repos", "events_url": "https://api.github.com/users/Miserlou/events{/privacy}", "received_events_url": "https://api.github.com/users/Miserlou/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "Miserlou", "id": 139987, "node_id": "MDQ6VXNlcjEzOTk4Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/139987?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Miserlou", "html_url": "https://github.com/Miserlou", "followers_url": "https://api.github.com/users/Miserlou/followers", "following_url": "https://api.github.com/users/Miserlou/following{/other_user}", "gists_url": "https://api.github.com/users/Miserlou/gists{/gist_id}", "starred_url": "https://api.github.com/users/Miserlou/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Miserlou/subscriptions", "organizations_url": "https://api.github.com/users/Miserlou/orgs", "repos_url": "https://api.github.com/users/Miserlou/repos", "events_url": "https://api.github.com/users/Miserlou/events{/privacy}", "received_events_url": "https://api.github.com/users/Miserlou/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2019-03-18T14:45:48Z", "updated_at": "2019-03-18T18:08:11Z", "closed_at": "2019-03-18T18:08:07Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Smashing `GSE36379` in its entirety works just fine, but smashing a single sample (`GSM891030`) from it causes:\r\n\r\n```\r\n\"failure_reason\": \"Failure reason: Found fewer columns than required for QN combinatorial - bad smash?\",\r\n```\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1137/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1137/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1120", "repository_url": "https://api.github.com/repos/AlexsLemonade/refinebio", "labels_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1120/labels{/name}", "comments_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1120/comments", "events_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1120/events", "html_url": "https://github.com/AlexsLemonade/refinebio/issues/1120", "id": 420547946, "node_id": "MDU6SXNzdWU0MjA1NDc5NDY=", "number": 1120, "title": "Querying samples by organism name causes a 500.", "user": {"login": "kurtwheeler", "id": 4026833, "node_id": "MDQ6VXNlcjQwMjY4MzM=", "avatar_url": "https://avatars.githubusercontent.com/u/4026833?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kurtwheeler", "html_url": "https://github.com/kurtwheeler", "followers_url": "https://api.github.com/users/kurtwheeler/followers", "following_url": "https://api.github.com/users/kurtwheeler/following{/other_user}", "gists_url": "https://api.github.com/users/kurtwheeler/gists{/gist_id}", "starred_url": "https://api.github.com/users/kurtwheeler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kurtwheeler/subscriptions", "organizations_url": "https://api.github.com/users/kurtwheeler/orgs", "repos_url": "https://api.github.com/users/kurtwheeler/repos", "events_url": "https://api.github.com/users/kurtwheeler/events{/privacy}", "received_events_url": "https://api.github.com/users/kurtwheeler/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 559891810, "node_id": "MDU6TGFiZWw1NTk4OTE4MTA=", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 872422017, "node_id": "MDU6TGFiZWw4NzI0MjIwMTc=", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/api", "name": "api", "color": "ecc2f9", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-03-13T14:59:00Z", "updated_at": "2019-03-13T20:12:03Z", "closed_at": "2019-03-13T20:12:03Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Context\r\n\r\nhttps://api.refine.bio/samples/?technology=MICROARRAY&organism=DANIO_RERIO\r\n\r\ncauses\r\n\r\n![image](https://user-images.githubusercontent.com/4026833/54288891-9afd5400-457e-11e9-8612-83e6f1141ec3.png)\r\n\r\nHowever if you happen to know the ID of the organism, it will work:\r\n\r\nhttps://api.refine.bio/samples/?technology=MICROARRAY&organism=46\r\n\r\n### Problem or idea\r\n\r\nI think there's two problems here:\r\n  1. Providing a string when we're expecting an ID should probably cause an error message, not a 500.\r\n  2. Users should be able to provide a name since telling people to make the additional query to the organisms endpoint for the ID is probably more complicated than we want to make things for our users.\r\n\r\n### Solution or next step\r\n\r\nFix the two problems this issue identifies.\r\n\r\n### New Issue Checklist\r\n\r\n- [x] The title is short and descriptive.\r\n- [x] You have explained the context that led you to write this issue.\r\n- [x] You have reported a problem or idea.\r\n- [x] You have proposed a solution or next step.\r\n", "reactions": {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1120/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1120/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1080", "repository_url": "https://api.github.com/repos/AlexsLemonade/refinebio", "labels_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1080/labels{/name}", "comments_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1080/comments", "events_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1080/events", "html_url": "https://github.com/AlexsLemonade/refinebio/issues/1080", "id": 413128402, "node_id": "MDU6SXNzdWU0MTMxMjg0MDI=", "number": 1080, "title": "Some experiments have an incorrect title", "user": {"login": "arielsvn", "id": 1882507, "node_id": "MDQ6VXNlcjE4ODI1MDc=", "avatar_url": "https://avatars.githubusercontent.com/u/1882507?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arielsvn", "html_url": "https://github.com/arielsvn", "followers_url": "https://api.github.com/users/arielsvn/followers", "following_url": "https://api.github.com/users/arielsvn/following{/other_user}", "gists_url": "https://api.github.com/users/arielsvn/gists{/gist_id}", "starred_url": "https://api.github.com/users/arielsvn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arielsvn/subscriptions", "organizations_url": "https://api.github.com/users/arielsvn/orgs", "repos_url": "https://api.github.com/users/arielsvn/repos", "events_url": "https://api.github.com/users/arielsvn/events{/privacy}", "received_events_url": "https://api.github.com/users/arielsvn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 559891810, "node_id": "MDU6TGFiZWw1NTk4OTE4MTA=", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 805486154, "node_id": "MDU6TGFiZWw4MDU0ODYxNTQ=", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/review", "name": "review", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-02-21T21:19:20Z", "updated_at": "2021-06-24T20:28:23Z", "closed_at": "2021-06-24T20:28:23Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Context\r\n\r\nWe added slugs to the experiment url, and while generating a sitemap, google started complaining that a few experiments had invalid urls.\r\n\r\n### Problem or idea\r\n\r\nProblem was that the urls were too long (will fix in the frontend). But the experiments in question have an incorrect title.\r\n\r\n![image](https://user-images.githubusercontent.com/1882507/53202240-00030100-35f4-11e9-9bf4-f0d0fcab08b1.png)\r\n\r\nI think all of them can be found by searching [title:AEExperimentType](https://www.refine.bio/search?q=title:AEExperimentType). Some of them are:\r\n\r\n- https://www.refine.bio/experiments/E-MTAB-392\r\n- https://www.refine.bio/experiments/E-MEXP-76\r\n- https://www.refine.bio/experiments/E-MEXP-1513\r\n\r\n### Solution or next step\r\n\r\nNot sure how to address this. Tagging @Miserlou and @kurtwheeler for next step.\r\n\r\n### New Issue Checklist\r\n\r\n- [x] The title is short and descriptive.\r\n- [x] You have explained the context that led you to write this issue.\r\n- [x] You have reported a problem or idea.\r\n- [x] You have proposed a solution or next step.\r\n", "reactions": {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1080/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 1, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1080/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1075", "repository_url": "https://api.github.com/repos/AlexsLemonade/refinebio", "labels_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1075/labels{/name}", "comments_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1075/comments", "events_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1075/events", "html_url": "https://github.com/AlexsLemonade/refinebio/issues/1075", "id": 412486496, "node_id": "MDU6SXNzdWU0MTI0ODY0OTY=", "number": 1075, "title": "Platform filter not working in search", "user": {"login": "arielsvn", "id": 1882507, "node_id": "MDQ6VXNlcjE4ODI1MDc=", "avatar_url": "https://avatars.githubusercontent.com/u/1882507?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arielsvn", "html_url": "https://github.com/arielsvn", "followers_url": "https://api.github.com/users/arielsvn/followers", "following_url": "https://api.github.com/users/arielsvn/following{/other_user}", "gists_url": "https://api.github.com/users/arielsvn/gists{/gist_id}", "starred_url": "https://api.github.com/users/arielsvn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arielsvn/subscriptions", "organizations_url": "https://api.github.com/users/arielsvn/orgs", "repos_url": "https://api.github.com/users/arielsvn/repos", "events_url": "https://api.github.com/users/arielsvn/events{/privacy}", "received_events_url": "https://api.github.com/users/arielsvn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 559891810, "node_id": "MDU6TGFiZWw1NTk4OTE4MTA=", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 872422017, "node_id": "MDU6TGFiZWw4NzI0MjIwMTc=", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/api", "name": "api", "color": "ecc2f9", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-02-20T15:31:41Z", "updated_at": "2019-02-20T18:21:46Z", "closed_at": "2019-02-20T18:21:46Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Context\r\n\r\nSearch API should support filtering the results by platform.\r\n\r\n### Problem or idea\r\n\r\nThis was working when we did the initial deploy, but for some reason now it's not working. For example this returns no results:\r\n\r\nhttps://api.refine.bio/es/?platform=IlluminaHiSeq2000\r\n\r\n### Solution or next step\r\n\r\nNot sure how to fix it. Tagging @Miserlou for advice.\r\n\r\n### New Issue Checklist\r\n\r\n- [x] The title is short and descriptive.\r\n- [x] You have explained the context that led you to write this issue.\r\n- [x] You have reported a problem or idea.\r\n- [x] You have proposed a solution or next step.\r\n", "reactions": {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1075/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1075/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1071", "repository_url": "https://api.github.com/repos/AlexsLemonade/refinebio", "labels_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1071/labels{/name}", "comments_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1071/comments", "events_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1071/events", "html_url": "https://github.com/AlexsLemonade/refinebio/issues/1071", "id": 411659441, "node_id": "MDU6SXNzdWU0MTE2NTk0NDE=", "number": 1071, "title": "Detailed samples endpoint returning a huge JSON response", "user": {"login": "arielsvn", "id": 1882507, "node_id": "MDQ6VXNlcjE4ODI1MDc=", "avatar_url": "https://avatars.githubusercontent.com/u/1882507?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arielsvn", "html_url": "https://github.com/arielsvn", "followers_url": "https://api.github.com/users/arielsvn/followers", "following_url": "https://api.github.com/users/arielsvn/following{/other_user}", "gists_url": "https://api.github.com/users/arielsvn/gists{/gist_id}", "starred_url": "https://api.github.com/users/arielsvn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arielsvn/subscriptions", "organizations_url": "https://api.github.com/users/arielsvn/orgs", "repos_url": "https://api.github.com/users/arielsvn/repos", "events_url": "https://api.github.com/users/arielsvn/events{/privacy}", "received_events_url": "https://api.github.com/users/arielsvn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 559891810, "node_id": "MDU6TGFiZWw1NTk4OTE4MTA=", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-02-18T21:56:14Z", "updated_at": "2019-03-18T14:37:42Z", "closed_at": "2019-03-18T14:37:39Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Context\r\n\r\nWe use the `/samples` endpoint to get detailed information about each sample.\r\n\r\n### Problem or idea\r\n\r\nI noticed this was really slow, and when inspected the response I saw there are a lot of files that are being added to the response. For sample [ERR657518](https://api.refine.bio/samples/?experiment_accession_code=ERP006132&offset=0&limit=1) we're returning 2827 files.\r\n\r\nHere're two for reference.\r\n\r\n```\r\n{  \r\n   \"id\":1079489,\r\n   \"filename\":\"ERR657546_output_gene_lengthScaledTPM.tsv\",\r\n   \"size_in_bytes\":1026229,\r\n   \"is_smashable\":true,\r\n   \"is_qc\":false,\r\n   \"sha1\":\"7d328cae179d00d98b6227262ac20d37c4507c4f\",\r\n   \"s3_bucket\":\"data-refinery-s3-circleci-prod\",\r\n   \"s3_key\":\"ya0uy4rr7peiwc49o1tq37ye_ERR657546_output_gene_lengthScaledTPM.tsv\",\r\n   \"created_at\":\"2019-02-13T04:49:54.632412Z\",\r\n   \"last_modified\":\"2019-02-13T05:24:56.316789Z\"\r\n},\r\n{  \r\n   \"id\":1079486,\r\n   \"filename\":\"ERR657549_output_gene_lengthScaledTPM.tsv\",\r\n   \"size_in_bytes\":1037777,\r\n   \"is_smashable\":true,\r\n   \"is_qc\":false,\r\n   \"sha1\":\"12109dfa0687dfac88dd906b509c9fe2a2567433\",\r\n   \"s3_bucket\":\"data-refinery-s3-circleci-prod\",\r\n   \"s3_key\":\"rojrnifyrcaymo9wo9jf1nf0_ERR657549_output_gene_lengthScaledTPM.tsv\",\r\n   \"created_at\":\"2019-02-13T04:49:54.371617Z\",\r\n   \"last_modified\":\"2019-02-13T05:24:55.966066Z\"\r\n},\r\n```\r\n\r\n### Solution or next step\r\n\r\nA simple solution would be to modify the serializers to avoid sending that field.\r\n\r\nTagging @kurtwheeler in case there might be a bug behind this.\r\n\r\n### New Issue Checklist\r\n\r\n- [x] The title is short and descriptive.\r\n- [x] You have explained the context that led you to write this issue.\r\n- [x] You have reported a problem or idea.\r\n- [x] You have proposed a solution or next step.\r\n", "reactions": {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1071/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1071/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1067", "repository_url": "https://api.github.com/repos/AlexsLemonade/refinebio", "labels_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1067/labels{/name}", "comments_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1067/comments", "events_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1067/events", "html_url": "https://github.com/AlexsLemonade/refinebio/issues/1067", "id": 411541482, "node_id": "MDU6SXNzdWU0MTE1NDE0ODI=", "number": 1067, "title": "Some Salmon jobs still OOMing with 32GB of RAM", "user": {"login": "kurtwheeler", "id": 4026833, "node_id": "MDQ6VXNlcjQwMjY4MzM=", "avatar_url": "https://avatars.githubusercontent.com/u/4026833?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kurtwheeler", "html_url": "https://github.com/kurtwheeler", "followers_url": "https://api.github.com/users/kurtwheeler/followers", "following_url": "https://api.github.com/users/kurtwheeler/following{/other_user}", "gists_url": "https://api.github.com/users/kurtwheeler/gists{/gist_id}", "starred_url": "https://api.github.com/users/kurtwheeler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kurtwheeler/subscriptions", "organizations_url": "https://api.github.com/users/kurtwheeler/orgs", "repos_url": "https://api.github.com/users/kurtwheeler/repos", "events_url": "https://api.github.com/users/kurtwheeler/events{/privacy}", "received_events_url": "https://api.github.com/users/kurtwheeler/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 559891810, "node_id": "MDU6TGFiZWw1NTk4OTE4MTA=", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "kurtwheeler", "id": 4026833, "node_id": "MDQ6VXNlcjQwMjY4MzM=", "avatar_url": "https://avatars.githubusercontent.com/u/4026833?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kurtwheeler", "html_url": "https://github.com/kurtwheeler", "followers_url": "https://api.github.com/users/kurtwheeler/followers", "following_url": "https://api.github.com/users/kurtwheeler/following{/other_user}", "gists_url": "https://api.github.com/users/kurtwheeler/gists{/gist_id}", "starred_url": "https://api.github.com/users/kurtwheeler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kurtwheeler/subscriptions", "organizations_url": "https://api.github.com/users/kurtwheeler/orgs", "repos_url": "https://api.github.com/users/kurtwheeler/repos", "events_url": "https://api.github.com/users/kurtwheeler/events{/privacy}", "received_events_url": "https://api.github.com/users/kurtwheeler/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "kurtwheeler", "id": 4026833, "node_id": "MDQ6VXNlcjQwMjY4MzM=", "avatar_url": "https://avatars.githubusercontent.com/u/4026833?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kurtwheeler", "html_url": "https://github.com/kurtwheeler", "followers_url": "https://api.github.com/users/kurtwheeler/followers", "following_url": "https://api.github.com/users/kurtwheeler/following{/other_user}", "gists_url": "https://api.github.com/users/kurtwheeler/gists{/gist_id}", "starred_url": "https://api.github.com/users/kurtwheeler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kurtwheeler/subscriptions", "organizations_url": "https://api.github.com/users/kurtwheeler/orgs", "repos_url": "https://api.github.com/users/kurtwheeler/repos", "events_url": "https://api.github.com/users/kurtwheeler/events{/privacy}", "received_events_url": "https://api.github.com/users/kurtwheeler/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2019-02-18T15:51:37Z", "updated_at": "2019-03-18T14:13:10Z", "closed_at": "2019-03-18T14:13:10Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Context\r\n\r\nSome of the zebrafish jobs I was trying to get to pass didn't because they got OOM-killed.\r\n\r\n### Problem or idea\r\n\r\nWe need to handle this somehow, but I'm not 100% sure how yet. I'm not sure I want to add another 64GB tier to salmon which gets used automatically because it seems we often end up running a lot of jobs at the max tier and most jobs don't need it. Maybe we can make the foreman come up with a reasonable heuristic for when it thinks jobs are getting OOM-killed and then put those on the higher tier? (The tricky thing is that OOM-killed jobs don't show it well, they just have a failure reason of NULL.)\r\n\r\n### Solution or next step\r\n\r\nDetermine what the best way to handle this is via discussion and then implement that fix.\r\n\r\n### New Issue Checklist\r\n\r\n- [x] The title is short and descriptive.\r\n- [x] You have explained the context that led you to write this issue.\r\n- [x] You have reported a problem or idea.\r\n- [x] You have proposed a solution or next step.\r\n", "reactions": {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1067/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1067/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1065", "repository_url": "https://api.github.com/repos/AlexsLemonade/refinebio", "labels_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1065/labels{/name}", "comments_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1065/comments", "events_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1065/events", "html_url": "https://github.com/AlexsLemonade/refinebio/issues/1065", "id": 411537947, "node_id": "MDU6SXNzdWU0MTE1Mzc5NDc=", "number": 1065, "title": "Fastqc is mysteriously erroring for some samples", "user": {"login": "kurtwheeler", "id": 4026833, "node_id": "MDQ6VXNlcjQwMjY4MzM=", "avatar_url": "https://avatars.githubusercontent.com/u/4026833?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kurtwheeler", "html_url": "https://github.com/kurtwheeler", "followers_url": "https://api.github.com/users/kurtwheeler/followers", "following_url": "https://api.github.com/users/kurtwheeler/following{/other_user}", "gists_url": "https://api.github.com/users/kurtwheeler/gists{/gist_id}", "starred_url": "https://api.github.com/users/kurtwheeler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kurtwheeler/subscriptions", "organizations_url": "https://api.github.com/users/kurtwheeler/orgs", "repos_url": "https://api.github.com/users/kurtwheeler/repos", "events_url": "https://api.github.com/users/kurtwheeler/events{/privacy}", "received_events_url": "https://api.github.com/users/kurtwheeler/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 559891810, "node_id": "MDU6TGFiZWw1NTk4OTE4MTA=", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-02-18T15:44:17Z", "updated_at": "2019-03-08T15:25:23Z", "closed_at": "2019-03-08T15:25:20Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Context\r\n\r\nSome of the zebrafish jobs I tried to rerun failed with a failure message like:\r\n```\r\ndata_refinery=> select failure_reason from processor_jobs where id=2025954;\r\n               failure_reason\r\n--------------------------------------------\r\n Started analysis of SRR3666782_1.fastq    +\r\n Started analysis of SRR3666782_2.fastq    +\r\n Approx 5% complete for SRR3666782_1.fastq +\r\n Approx 5% complete for SRR3666782_2.fastq +\r\n Approx 10% complete for SRR3666782_2.fastq+\r\n Approx 10% complete for SRR3666782_1.fastq+\r\n....\r\n```\r\n\r\n### Problem or idea\r\n\r\nWe should figure out what's causing those jobs to fail and fix it!\r\n\r\n### Solution or next step\r\n\r\n@jaclyn-taroni mentioned that fastqc may switch its standard error and its standard out, so there could be an error message that we're not capturing. Capturing that and rerunning a failed job may give more insight.\r\n\r\nEither way, fix the bug!\r\n\r\n### New Issue Checklist\r\n\r\n- [x] The title is short and descriptive.\r\n- [x] You have explained the context that led you to write this issue.\r\n- [x] You have reported a problem or idea.\r\n- [x] You have proposed a solution or next step.\r\n", "reactions": {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1065/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/1065/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/968", "repository_url": "https://api.github.com/repos/AlexsLemonade/refinebio", "labels_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/968/labels{/name}", "comments_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/968/comments", "events_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/968/events", "html_url": "https://github.com/AlexsLemonade/refinebio/issues/968", "id": 395702537, "node_id": "MDU6SXNzdWUzOTU3MDI1Mzc=", "number": 968, "title": "There are microarray samples which are mislabeled as RNA-Seq", "user": {"login": "kurtwheeler", "id": 4026833, "node_id": "MDQ6VXNlcjQwMjY4MzM=", "avatar_url": "https://avatars.githubusercontent.com/u/4026833?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kurtwheeler", "html_url": "https://github.com/kurtwheeler", "followers_url": "https://api.github.com/users/kurtwheeler/followers", "following_url": "https://api.github.com/users/kurtwheeler/following{/other_user}", "gists_url": "https://api.github.com/users/kurtwheeler/gists{/gist_id}", "starred_url": "https://api.github.com/users/kurtwheeler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kurtwheeler/subscriptions", "organizations_url": "https://api.github.com/users/kurtwheeler/orgs", "repos_url": "https://api.github.com/users/kurtwheeler/repos", "events_url": "https://api.github.com/users/kurtwheeler/events{/privacy}", "received_events_url": "https://api.github.com/users/kurtwheeler/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 559891810, "node_id": "MDU6TGFiZWw1NTk4OTE4MTA=", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "kurtwheeler", "id": 4026833, "node_id": "MDQ6VXNlcjQwMjY4MzM=", "avatar_url": "https://avatars.githubusercontent.com/u/4026833?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kurtwheeler", "html_url": "https://github.com/kurtwheeler", "followers_url": "https://api.github.com/users/kurtwheeler/followers", "following_url": "https://api.github.com/users/kurtwheeler/following{/other_user}", "gists_url": "https://api.github.com/users/kurtwheeler/gists{/gist_id}", "starred_url": "https://api.github.com/users/kurtwheeler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kurtwheeler/subscriptions", "organizations_url": "https://api.github.com/users/kurtwheeler/orgs", "repos_url": "https://api.github.com/users/kurtwheeler/repos", "events_url": "https://api.github.com/users/kurtwheeler/events{/privacy}", "received_events_url": "https://api.github.com/users/kurtwheeler/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "kurtwheeler", "id": 4026833, "node_id": "MDQ6VXNlcjQwMjY4MzM=", "avatar_url": "https://avatars.githubusercontent.com/u/4026833?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kurtwheeler", "html_url": "https://github.com/kurtwheeler", "followers_url": "https://api.github.com/users/kurtwheeler/followers", "following_url": "https://api.github.com/users/kurtwheeler/following{/other_user}", "gists_url": "https://api.github.com/users/kurtwheeler/gists{/gist_id}", "starred_url": "https://api.github.com/users/kurtwheeler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kurtwheeler/subscriptions", "organizations_url": "https://api.github.com/users/kurtwheeler/orgs", "repos_url": "https://api.github.com/users/kurtwheeler/repos", "events_url": "https://api.github.com/users/kurtwheeler/events{/privacy}", "received_events_url": "https://api.github.com/users/kurtwheeler/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2019-01-03T19:50:11Z", "updated_at": "2019-03-13T18:24:13Z", "closed_at": "2019-03-13T18:24:12Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Context\r\n\r\nhttps://github.com/AlexsLemonade/refinebio/issues/963\r\nhttps://github.com/AlexsLemonade/refinebio/issues/967\r\n\r\n### Problem or idea\r\n\r\nSome of our microarray samples have been mislabeled as RNA-Seq. This seems to be related to surveying super-series in GEO. Here is one example I came across: https://www.ncbi.nlm.nih.gov/geo/query/acc.cgi?acc=GSM1692993\r\n\r\n### Solution or next step\r\n\r\nWe need to find all of these samples and rectify the data issues. The easiest solution may be to purge the affected experiments and re-survey them.\r\n\r\n### New Issue Checklist\r\n\r\n- [x] The title is short and descriptive.\r\n- [x] You have explained the context that led you to write this issue.\r\n- [x] You have reported a problem or idea.\r\n- [x] You have proposed a solution or next step.\r\n", "reactions": {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/968/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/968/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/967", "repository_url": "https://api.github.com/repos/AlexsLemonade/refinebio", "labels_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/967/labels{/name}", "comments_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/967/comments", "events_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/967/events", "html_url": "https://github.com/AlexsLemonade/refinebio/issues/967", "id": 395700580, "node_id": "MDU6SXNzdWUzOTU3MDA1ODA=", "number": 967, "title": "GEO superseries cause incorrect platform/technology detection", "user": {"login": "kurtwheeler", "id": 4026833, "node_id": "MDQ6VXNlcjQwMjY4MzM=", "avatar_url": "https://avatars.githubusercontent.com/u/4026833?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kurtwheeler", "html_url": "https://github.com/kurtwheeler", "followers_url": "https://api.github.com/users/kurtwheeler/followers", "following_url": "https://api.github.com/users/kurtwheeler/following{/other_user}", "gists_url": "https://api.github.com/users/kurtwheeler/gists{/gist_id}", "starred_url": "https://api.github.com/users/kurtwheeler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kurtwheeler/subscriptions", "organizations_url": "https://api.github.com/users/kurtwheeler/orgs", "repos_url": "https://api.github.com/users/kurtwheeler/repos", "events_url": "https://api.github.com/users/kurtwheeler/events{/privacy}", "received_events_url": "https://api.github.com/users/kurtwheeler/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 559891810, "node_id": "MDU6TGFiZWw1NTk4OTE4MTA=", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "kurtwheeler", "id": 4026833, "node_id": "MDQ6VXNlcjQwMjY4MzM=", "avatar_url": "https://avatars.githubusercontent.com/u/4026833?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kurtwheeler", "html_url": "https://github.com/kurtwheeler", "followers_url": "https://api.github.com/users/kurtwheeler/followers", "following_url": "https://api.github.com/users/kurtwheeler/following{/other_user}", "gists_url": "https://api.github.com/users/kurtwheeler/gists{/gist_id}", "starred_url": "https://api.github.com/users/kurtwheeler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kurtwheeler/subscriptions", "organizations_url": "https://api.github.com/users/kurtwheeler/orgs", "repos_url": "https://api.github.com/users/kurtwheeler/repos", "events_url": "https://api.github.com/users/kurtwheeler/events{/privacy}", "received_events_url": "https://api.github.com/users/kurtwheeler/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "kurtwheeler", "id": 4026833, "node_id": "MDQ6VXNlcjQwMjY4MzM=", "avatar_url": "https://avatars.githubusercontent.com/u/4026833?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kurtwheeler", "html_url": "https://github.com/kurtwheeler", "followers_url": "https://api.github.com/users/kurtwheeler/followers", "following_url": "https://api.github.com/users/kurtwheeler/following{/other_user}", "gists_url": "https://api.github.com/users/kurtwheeler/gists{/gist_id}", "starred_url": "https://api.github.com/users/kurtwheeler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kurtwheeler/subscriptions", "organizations_url": "https://api.github.com/users/kurtwheeler/orgs", "repos_url": "https://api.github.com/users/kurtwheeler/repos", "events_url": "https://api.github.com/users/kurtwheeler/events{/privacy}", "received_events_url": "https://api.github.com/users/kurtwheeler/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2019-01-03T19:43:31Z", "updated_at": "2019-03-13T18:24:09Z", "closed_at": "2019-03-13T18:24:08Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Context\r\n\r\nhttps://github.com/AlexsLemonade/refinebio/issues/963#issuecomment-451249805\r\n\r\n### Problem or idea\r\n\r\nWe should detect the correct technology and platform for all samples, regardless of whether they are surveyed as part of a superseries or not.\r\n\r\n### Solution or next step\r\n\r\nTwo things should be done here:\r\n  1. Fix the code so that the samples in GSE69108 have the same platform/accession code whether surveyed via GSE69111 or GSE69108.\r\n  2. Try to figure out if there's any other potential edge cases that could be broken and address those.\r\n\r\n### New Issue Checklist\r\n\r\n- [x] The title is short and descriptive.\r\n- [x] You have explained the context that led you to write this issue.\r\n- [x] You have reported a problem or idea.\r\n- [x] You have proposed a solution or next step.\r\n", "reactions": {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/967/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/967/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/940", "repository_url": "https://api.github.com/repos/AlexsLemonade/refinebio", "labels_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/940/labels{/name}", "comments_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/940/comments", "events_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/940/events", "html_url": "https://github.com/AlexsLemonade/refinebio/issues/940", "id": 391862700, "node_id": "MDU6SXNzdWUzOTE4NjI3MDA=", "number": 940, "title": "ENA's Aspera server seems to be down", "user": {"login": "kurtwheeler", "id": 4026833, "node_id": "MDQ6VXNlcjQwMjY4MzM=", "avatar_url": "https://avatars.githubusercontent.com/u/4026833?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kurtwheeler", "html_url": "https://github.com/kurtwheeler", "followers_url": "https://api.github.com/users/kurtwheeler/followers", "following_url": "https://api.github.com/users/kurtwheeler/following{/other_user}", "gists_url": "https://api.github.com/users/kurtwheeler/gists{/gist_id}", "starred_url": "https://api.github.com/users/kurtwheeler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kurtwheeler/subscriptions", "organizations_url": "https://api.github.com/users/kurtwheeler/orgs", "repos_url": "https://api.github.com/users/kurtwheeler/repos", "events_url": "https://api.github.com/users/kurtwheeler/events{/privacy}", "received_events_url": "https://api.github.com/users/kurtwheeler/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 559891810, "node_id": "MDU6TGFiZWw1NTk4OTE4MTA=", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 917784562, "node_id": "MDU6TGFiZWw5MTc3ODQ1NjI=", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/RNA-seq", "name": "RNA-seq", "color": "bfdadc", "default": false, "description": ""}, {"id": 968142480, "node_id": "MDU6TGFiZWw5NjgxNDI0ODA=", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/aspera", "name": "aspera", "color": "e0da28", "default": false, "description": ""}, {"id": 968142746, "node_id": "MDU6TGFiZWw5NjgxNDI3NDY=", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/speed", "name": "speed", "color": "1d37f7", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-12-17T19:44:50Z", "updated_at": "2019-02-14T16:26:19Z", "closed_at": "2019-02-14T16:26:16Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Context\r\n\r\n`fasterq-dump` is making downloading and converting `.sra` files from NCBI so I/O intensive that we cannot properly utilize our prod machines. Therefore we're pausing using NCBI until nomad 8.7 is released so we can use a RAM-disk to avoid writing the fastq files to disk again. However in the meantime we'd like to download from ENA using as much bandwidth as we can without knocking them over. Unfortunately it looks like their aspera endpoint is not working currently.\r\n\r\n### Problem or idea\r\n\r\nI have opened the following support ticket with EBI via their online system:\r\n\r\n```\r\nI have used aspera to download RNA-Seq data from ENA. I retried the command that used to work for me:\r\n\r\n.aspera/cli/bin/ascp -v -P33001 -i .aspera/cli/etc/asperaweb_id_dsa.openssh era-fasp@fasp.sra.ebi.ac.uk:/vol1/fastq/SRR134/008/SRR1342218/SRR1342218_1.fastq.gz /home/user/data_store/SRP042975/SRR1342218/SRR1342218_1.fastq.gz\r\n\r\nAnd it now exits with the error:\r\n\r\n.aspera/cli/bin/ascp -v -P33001 -i .aspera/cli/etc/asperaweb_id_dsa.openssh era-fasp@fasp.sra.ebi.ac.uk:/vol1/fastq/SRR134/008/SRR1342218/SRR1342218_1.fastq.gz /home/user/data_store/SRP042975/SRR1342218/SRR1342218_1.fastq.gz\r\n\r\nI haven't been able to find anything about that error code relating to aspera online. However, it also comes up if we run one of the example commands from https://www.ebi.ac.uk/ena/browse/read-download#downloading_files_aspera (modified so the paths work for our installation):\r\n\r\n.aspera/cli/bin/ascp -QT -l 300m -P33001 -i .aspera/cli/etc/asperaweb_id_dsa.openssh era-fasp@fasp.sra.ebi.ac.uk:/vol1/fastq/ERR036/ERR036000/ERR036000_1.fastq.gz .\r\n\r\nGiven that we haven't changed our code (we just stopped using it, but now that we're trying to use it again it's exactly the same) and that the examples listed on the help page also don't work, I suspect something may be going wrong server-side. Is that the case? Are ENA's aspera servers are up and running?\r\n\r\nThank you,\r\n\r\n- Kurt\r\n```\r\n\r\n### Solution or next step\r\n\r\nThat report includes why I have summarized that ENA's Aspera server is down. Hopefully they respond fairly quickly, but if not I can send an email with similar contents to the contacts we've communicated with in the past over there. Additionally they may just fix this without further prodding on our end.\r\n\r\n\r\n### New Issue Checklist\r\n\r\n- [x] The title is short and descriptive.\r\n- [x] You have explained the context that led you to write this issue.\r\n- [x] You have reported a problem or idea.\r\n- [x] You have proposed a solution or next step.\r\n", "reactions": {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/940/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/940/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/923", "repository_url": "https://api.github.com/repos/AlexsLemonade/refinebio", "labels_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/923/labels{/name}", "comments_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/923/comments", "events_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/923/events", "html_url": "https://github.com/AlexsLemonade/refinebio/issues/923", "id": 390293073, "node_id": "MDU6SXNzdWUzOTAyOTMwNzM=", "number": 923, "title": "Sample which should have a processor job doesn't have one.", "user": {"login": "kurtwheeler", "id": 4026833, "node_id": "MDQ6VXNlcjQwMjY4MzM=", "avatar_url": "https://avatars.githubusercontent.com/u/4026833?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kurtwheeler", "html_url": "https://github.com/kurtwheeler", "followers_url": "https://api.github.com/users/kurtwheeler/followers", "following_url": "https://api.github.com/users/kurtwheeler/following{/other_user}", "gists_url": "https://api.github.com/users/kurtwheeler/gists{/gist_id}", "starred_url": "https://api.github.com/users/kurtwheeler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kurtwheeler/subscriptions", "organizations_url": "https://api.github.com/users/kurtwheeler/orgs", "repos_url": "https://api.github.com/users/kurtwheeler/repos", "events_url": "https://api.github.com/users/kurtwheeler/events{/privacy}", "received_events_url": "https://api.github.com/users/kurtwheeler/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 559891810, "node_id": "MDU6TGFiZWw1NTk4OTE4MTA=", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 805477791, "node_id": "MDU6TGFiZWw4MDU0Nzc3OTE=", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/backlog", "name": "backlog", "color": "ededed", "default": false, "description": null}, {"id": 842058880, "node_id": "MDU6TGFiZWw4NDIwNTg4ODA=", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/salmon", "name": "salmon", "color": "93abe2", "default": false, "description": null}, {"id": 892675090, "node_id": "MDU6TGFiZWw4OTI2NzUwOTA=", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/processor", "name": "processor", "color": "0c1a7a", "default": false, "description": ""}, {"id": 968142319, "node_id": "MDU6TGFiZWw5NjgxNDIzMTk=", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/downloader", "name": "downloader", "color": "38bfd1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-12-12T16:02:00Z", "updated_at": "2021-06-24T20:18:20Z", "closed_at": "2021-06-24T20:18:19Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Context\r\n\r\nI started digging into some of the results from https://github.com/AlexsLemonade/refinebio/issues/914\r\n\r\nWe picked experiment ERP008771 to investigate because it has 2200+ samples and only two of them haven't been processed yet. We decided to requeue the processor jobs for those samples and see if they can complete successfully now that we've made some changes to RAM amounts and fasterqdump. The two samples are (<id> - <accession>):\r\n  * 19636 - ERR1692615\r\n  * 15896 - ERR1373762\r\n\r\n### Problem or idea\r\n\r\nSample ERR1692615 doesn't have any processor jobs. However it's filename is `ERR1692615.sra` and it has a successful downloader job, so I can't tell why it didn't have a processor job created for it.\r\n\r\n### Solution or next step\r\n\r\nTwo things should happen:\r\n  1. We should create a processor job for ERR1692615 so that experiment can complete.\r\n  2. We should try to figure out why one never got created in the first place and prevent it from happening in the future.\r\n\r\n### New Issue Checklist\r\n\r\n- [x] The title is short and descriptive.\r\n- [x] You have explained the context that led you to write this issue.\r\n- [x] You have reported a problem or idea.\r\n- [x] You have proposed a solution or next step.\r\n", "reactions": {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/923/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/923/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/902", "repository_url": "https://api.github.com/repos/AlexsLemonade/refinebio", "labels_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/902/labels{/name}", "comments_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/902/comments", "events_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/902/events", "html_url": "https://github.com/AlexsLemonade/refinebio/issues/902", "id": 388703210, "node_id": "MDU6SXNzdWUzODg3MDMyMTA=", "number": 902, "title": "Foreman database connection broke overnight causing things to stop working", "user": {"login": "kurtwheeler", "id": 4026833, "node_id": "MDQ6VXNlcjQwMjY4MzM=", "avatar_url": "https://avatars.githubusercontent.com/u/4026833?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kurtwheeler", "html_url": "https://github.com/kurtwheeler", "followers_url": "https://api.github.com/users/kurtwheeler/followers", "following_url": "https://api.github.com/users/kurtwheeler/following{/other_user}", "gists_url": "https://api.github.com/users/kurtwheeler/gists{/gist_id}", "starred_url": "https://api.github.com/users/kurtwheeler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kurtwheeler/subscriptions", "organizations_url": "https://api.github.com/users/kurtwheeler/orgs", "repos_url": "https://api.github.com/users/kurtwheeler/repos", "events_url": "https://api.github.com/users/kurtwheeler/events{/privacy}", "received_events_url": "https://api.github.com/users/kurtwheeler/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 559891810, "node_id": "MDU6TGFiZWw1NTk4OTE4MTA=", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 918556985, "node_id": "MDU6TGFiZWw5MTg1NTY5ODU=", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/devops", "name": "devops", "color": "f9d0c4", "default": false, "description": ""}, {"id": 1110128214, "node_id": "MDU6TGFiZWwxMTEwMTI4MjE0", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/can't%20reproduce", "name": "can't reproduce", "color": "25057f", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "kurtwheeler", "id": 4026833, "node_id": "MDQ6VXNlcjQwMjY4MzM=", "avatar_url": "https://avatars.githubusercontent.com/u/4026833?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kurtwheeler", "html_url": "https://github.com/kurtwheeler", "followers_url": "https://api.github.com/users/kurtwheeler/followers", "following_url": "https://api.github.com/users/kurtwheeler/following{/other_user}", "gists_url": "https://api.github.com/users/kurtwheeler/gists{/gist_id}", "starred_url": "https://api.github.com/users/kurtwheeler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kurtwheeler/subscriptions", "organizations_url": "https://api.github.com/users/kurtwheeler/orgs", "repos_url": "https://api.github.com/users/kurtwheeler/repos", "events_url": "https://api.github.com/users/kurtwheeler/events{/privacy}", "received_events_url": "https://api.github.com/users/kurtwheeler/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "kurtwheeler", "id": 4026833, "node_id": "MDQ6VXNlcjQwMjY4MzM=", "avatar_url": "https://avatars.githubusercontent.com/u/4026833?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kurtwheeler", "html_url": "https://github.com/kurtwheeler", "followers_url": "https://api.github.com/users/kurtwheeler/followers", "following_url": "https://api.github.com/users/kurtwheeler/following{/other_user}", "gists_url": "https://api.github.com/users/kurtwheeler/gists{/gist_id}", "starred_url": "https://api.github.com/users/kurtwheeler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kurtwheeler/subscriptions", "organizations_url": "https://api.github.com/users/kurtwheeler/orgs", "repos_url": "https://api.github.com/users/kurtwheeler/repos", "events_url": "https://api.github.com/users/kurtwheeler/events{/privacy}", "received_events_url": "https://api.github.com/users/kurtwheeler/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2018-12-07T15:35:49Z", "updated_at": "2018-12-10T15:35:47Z", "closed_at": "2018-12-10T15:35:47Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Context\r\n\r\nForeman logs this morning were full of:\r\n```\r\ndata-refinery-log-group-circleci-prod log-stream-foreman-circleci-prod 2018-12-07 15:26:21,351 i-0277d8159091c4549 [volume: -1] data_refinery_foreman.foreman.main ERROR: Exception caught by Foreman while running\r\n retry_lost_downloader_jobs\r\ndata-refinery-log-group-circleci-prod log-stream-foreman-circleci-prod Traceback (most recent call last):\r\ndata-refinery-log-group-circleci-prod log-stream-foreman-circleci-prod   File \"/usr/local/lib/python3.5/dist-packages/django/db/backends/base/base.py\", line 234, in _cursor\r\ndata-refinery-log-group-circleci-prod log-stream-foreman-circleci-prod     return self._prepare_cursor(self.create_cursor(name))\r\ndata-refinery-log-group-circleci-prod log-stream-foreman-circleci-prod   File \"/usr/local/lib/python3.5/dist-packages/django/db/backends/postgresql/base.py\", line 222, in create_cursor\r\ndata-refinery-log-group-circleci-prod log-stream-foreman-circleci-prod     cursor = self.connection.cursor()\r\ndata-refinery-log-group-circleci-prod log-stream-foreman-circleci-prod psycopg2.InterfaceError: connection already closed\r\ndata-refinery-log-group-circleci-prod log-stream-foreman-circleci-prod \r\ndata-refinery-log-group-circleci-prod log-stream-foreman-circleci-prod The above exception was the direct cause of the following exception:\r\ndata-refinery-log-group-circleci-prod log-stream-foreman-circleci-prod \r\ndata-refinery-log-group-circleci-prod log-stream-foreman-circleci-prod Traceback (most recent call last):\r\ndata-refinery-log-group-circleci-prod log-stream-foreman-circleci-prod   File \"/home/user/data_refinery_foreman/foreman/main.py\", line 99, in wrapper\r\ndata-refinery-log-group-circleci-prod log-stream-foreman-circleci-prod     function(*args, **kwargs)\r\ndata-refinery-log-group-circleci-prod log-stream-foreman-circleci-prod   File \"/home/user/data_refinery_foreman/foreman/main.py\", line 424, in retry_lost_downloader_jobs\r\ndata-refinery-log-group-circleci-prod log-stream-foreman-circleci-prod     for job in potentially_lost_jobs:\r\ndata-refinery-log-group-circleci-prod log-stream-foreman-circleci-prod   File \"/usr/local/lib/python3.5/dist-packages/django/db/models/query.py\", line 268, in __iter__\r\ndata-refinery-log-group-circleci-prod log-stream-foreman-circleci-prod     self._fetch_all()\r\ndata-refinery-log-group-circleci-prod log-stream-foreman-circleci-prod   File \"/usr/local/lib/python3.5/dist-packages/django/db/models/query.py\", line 1186, in _fetch_all\r\ndata-refinery-log-group-circleci-prod log-stream-foreman-circleci-prod     self._result_cache = list(self._iterable_class(self))\r\ndata-refinery-log-group-circleci-prod log-stream-foreman-circleci-prod   File \"/usr/local/lib/python3.5/dist-packages/django/db/models/query.py\", line 54, in __iter__\r\ndata-refinery-log-group-circleci-prod log-stream-foreman-circleci-prod     results = compiler.execute_sql(chunked_fetch=self.chunked_fetch, chunk_size=self.chunk_size)\r\ndata-refinery-log-group-circleci-prod log-stream-foreman-circleci-prod   File \"/usr/local/lib/python3.5/dist-packages/django/db/models/sql/compiler.py\", line 1063, in execute_sql\r\ndata-refinery-log-group-circleci-prod log-stream-foreman-circleci-prod     cursor = self.connection.cursor()\r\ndata-refinery-log-group-circleci-prod log-stream-foreman-circleci-prod   File \"/usr/local/lib/python3.5/dist-packages/django/db/backends/base/base.py\", line 255, in cursor\r\ndata-refinery-log-group-circleci-prod log-stream-foreman-circleci-prod     return self._cursor()\r\ndata-refinery-log-group-circleci-prod log-stream-foreman-circleci-prod   File \"/usr/local/lib/python3.5/dist-packages/django/db/backends/base/base.py\", line 234, in _cursor\r\ndata-refinery-log-group-circleci-prod log-stream-foreman-circleci-prod     return self._prepare_cursor(self.create_cursor(name))\r\ndata-refinery-log-group-circleci-prod log-stream-foreman-circleci-prod   File \"/usr/local/lib/python3.5/dist-packages/django/db/utils.py\", line 89, in __exit__\r\ndata-refinery-log-group-circleci-prod log-stream-foreman-circleci-prod     raise dj_exc_value.with_traceback(traceback) from exc_value\r\ndata-refinery-log-group-circleci-prod log-stream-foreman-circleci-prod   File \"/usr/local/lib/python3.5/dist-packages/django/db/backends/base/base.py\", line 234, in _cursor\r\ndata-refinery-log-group-circleci-prod log-stream-foreman-circleci-prod     return self._prepare_cursor(self.create_cursor(name))\r\ndata-refinery-log-group-circleci-prod log-stream-foreman-circleci-prod   File \"/usr/local/lib/python3.5/dist-packages/django/db/backends/postgresql/base.py\", line 222, in create_cursor\r\ndata-refinery-log-group-circleci-prod log-stream-foreman-circleci-prod     cursor = self.connection.cursor()\r\ndata-refinery-log-group-circleci-prod log-stream-foreman-circleci-prod django.db.utils.InterfaceError: connection already closed\r\n```\r\n\r\nI used `docker restart` to restart the foreman container and everything picked back up.\r\n\r\n### Problem or idea\r\n\r\nWe need to either prevent this from happening again or be able to detect when it is happening so we can restart the Foreman.\r\n\r\n### Solution or next step\r\n\r\nI'm not really sure. This needs to be investigated.\r\n\r\n### New Issue Checklist\r\n\r\n- [x] The title is short and descriptive.\r\n- [x] You have explained the context that led you to write this issue.\r\n- [x] You have reported a problem or idea.\r\n- [x] You have proposed a solution or next step.\r\n", "reactions": {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/902/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/902/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/840", "repository_url": "https://api.github.com/repos/AlexsLemonade/refinebio", "labels_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/840/labels{/name}", "comments_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/840/comments", "events_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/840/events", "html_url": "https://github.com/AlexsLemonade/refinebio/issues/840", "id": 380865001, "node_id": "MDU6SXNzdWUzODA4NjUwMDE=", "number": 840, "title": "AttributeError: 'list' object has no attribute 'strip'", "user": {"login": "Miserlou", "id": 139987, "node_id": "MDQ6VXNlcjEzOTk4Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/139987?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Miserlou", "html_url": "https://github.com/Miserlou", "followers_url": "https://api.github.com/users/Miserlou/followers", "following_url": "https://api.github.com/users/Miserlou/following{/other_user}", "gists_url": "https://api.github.com/users/Miserlou/gists{/gist_id}", "starred_url": "https://api.github.com/users/Miserlou/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Miserlou/subscriptions", "organizations_url": "https://api.github.com/users/Miserlou/orgs", "repos_url": "https://api.github.com/users/Miserlou/repos", "events_url": "https://api.github.com/users/Miserlou/events{/privacy}", "received_events_url": "https://api.github.com/users/Miserlou/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 559891810, "node_id": "MDU6TGFiZWw1NTk4OTE4MTA=", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "kurtwheeler", "id": 4026833, "node_id": "MDQ6VXNlcjQwMjY4MzM=", "avatar_url": "https://avatars.githubusercontent.com/u/4026833?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kurtwheeler", "html_url": "https://github.com/kurtwheeler", "followers_url": "https://api.github.com/users/kurtwheeler/followers", "following_url": "https://api.github.com/users/kurtwheeler/following{/other_user}", "gists_url": "https://api.github.com/users/kurtwheeler/gists{/gist_id}", "starred_url": "https://api.github.com/users/kurtwheeler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kurtwheeler/subscriptions", "organizations_url": "https://api.github.com/users/kurtwheeler/orgs", "repos_url": "https://api.github.com/users/kurtwheeler/repos", "events_url": "https://api.github.com/users/kurtwheeler/events{/privacy}", "received_events_url": "https://api.github.com/users/kurtwheeler/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "kurtwheeler", "id": 4026833, "node_id": "MDQ6VXNlcjQwMjY4MzM=", "avatar_url": "https://avatars.githubusercontent.com/u/4026833?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kurtwheeler", "html_url": "https://github.com/kurtwheeler", "followers_url": "https://api.github.com/users/kurtwheeler/followers", "following_url": "https://api.github.com/users/kurtwheeler/following{/other_user}", "gists_url": "https://api.github.com/users/kurtwheeler/gists{/gist_id}", "starred_url": "https://api.github.com/users/kurtwheeler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kurtwheeler/subscriptions", "organizations_url": "https://api.github.com/users/kurtwheeler/orgs", "repos_url": "https://api.github.com/users/kurtwheeler/repos", "events_url": "https://api.github.com/users/kurtwheeler/events{/privacy}", "received_events_url": "https://api.github.com/users/kurtwheeler/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2018-11-14T20:05:12Z", "updated_at": "2018-11-15T16:17:17Z", "closed_at": "2018-11-15T16:17:17Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Context\r\n\r\nFound during testing\r\n\r\n### Problem or idea\r\n\r\n```\r\ndata-refinery-log-group-miserlou-dev log-stream-surveyor-docker-miserlou-dev 2018-11-14 19:37:52,216 local data_refinery_foreman.surveyor.external_source ERROR [survey_job: 298]: Exception caught while discovering samples. Terminating survey job.\r\ndata-refinery-log-group-miserlou-dev log-stream-surveyor-docker-miserlou-dev Traceback (most recent call last):\r\ndata-refinery-log-group-miserlou-dev log-stream-surveyor-docker-miserlou-dev   File \"/home/user/data_refinery_foreman/surveyor/array_express.py\", line 484, in create_samples_from_api\r\ndata-refinery-log-group-miserlou-dev log-stream-surveyor-docker-miserlou-dev     sample_object = Sample.objects.get(accession_code=sample_accession_code)\r\ndata-refinery-log-group-miserlou-dev log-stream-surveyor-docker-miserlou-dev   File \"/usr/local/lib/python3.5/dist-packages/django/db/models/manager.py\", line 82, in manager_method\r\ndata-refinery-log-group-miserlou-dev log-stream-surveyor-docker-miserlou-dev     return getattr(self.get_queryset(), name)(*args, **kwargs)\r\ndata-refinery-log-group-miserlou-dev log-stream-surveyor-docker-miserlou-dev   File \"/usr/local/lib/python3.5/dist-packages/django/db/models/query.py\", line 399, in get\r\ndata-refinery-log-group-miserlou-dev log-stream-surveyor-docker-miserlou-dev     self.model._meta.object_name\r\ndata-refinery-log-group-miserlou-dev log-stream-surveyor-docker-miserlou-dev data_refinery_common.models.models.Sample.DoesNotExist: Sample matching query does not exist.\r\ndata-refinery-log-group-miserlou-dev log-stream-surveyor-docker-miserlou-dev During handling of the above exception, another exception occurred:\r\ndata-refinery-log-group-miserlou-dev log-stream-surveyor-docker-miserlou-dev Traceback (most recent call last):\r\ndata-refinery-log-group-miserlou-dev log-stream-surveyor-docker-miserlou-dev   File \"/home/user/data_refinery_foreman/surveyor/external_source.py\", line 167, in survey\r\ndata-refinery-log-group-miserlou-dev log-stream-surveyor-docker-miserlou-dev     experiment, samples = self.discover_experiment_and_samples()\r\ndata-refinery-log-group-miserlou-dev log-stream-surveyor-docker-miserlou-dev   File \"/home/user/data_refinery_foreman/surveyor/array_express.py\", line 595, in discover_experiment_and_samples\r\ndata-refinery-log-group-miserlou-dev log-stream-surveyor-docker-miserlou-dev     samples = self.create_samples_from_api(experiment, platform_dict)\r\ndata-refinery-log-group-miserlou-dev log-stream-surveyor-docker-miserlou-dev   File \"/home/user/data_refinery_foreman/surveyor/array_express.py\", line 519, in create_samples_from_api\r\ndata-refinery-log-group-miserlou-dev log-stream-surveyor-docker-miserlou-dev     protocol_url=experiment.source_url + '/protocols'\r\ndata-refinery-log-group-miserlou-dev log-stream-surveyor-docker-miserlou-dev   File \"/home/user/data_refinery_foreman/surveyor/array_express.py\", line 309, in update_sample_protocol_info\r\ndata-refinery-log-group-miserlou-dev log-stream-surveyor-docker-miserlou-dev     not new_protocol.get('text', '').strip()):\r\ndata-refinery-log-group-miserlou-dev log-stream-surveyor-docker-miserlou-dev AttributeError: 'list' object has no attribute 'strip'\r\n```\r\n\r\nI think this was introduced in [this PR](https://github.com/AlexsLemonade/refinebio/commit/a5c1ff53b3248d9aa2662a4dd0a05fbbd210a0c4) from September.\r\n", "reactions": {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/840/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/840/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/833", "repository_url": "https://api.github.com/repos/AlexsLemonade/refinebio", "labels_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/833/labels{/name}", "comments_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/833/comments", "events_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/833/events", "html_url": "https://github.com/AlexsLemonade/refinebio/issues/833", "id": 379337325, "node_id": "MDU6SXNzdWUzNzkzMzczMjU=", "number": 833, "title": "Missing Organism for GSE54716", "user": {"login": "Miserlou", "id": 139987, "node_id": "MDQ6VXNlcjEzOTk4Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/139987?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Miserlou", "html_url": "https://github.com/Miserlou", "followers_url": "https://api.github.com/users/Miserlou/followers", "following_url": "https://api.github.com/users/Miserlou/following{/other_user}", "gists_url": "https://api.github.com/users/Miserlou/gists{/gist_id}", "starred_url": "https://api.github.com/users/Miserlou/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Miserlou/subscriptions", "organizations_url": "https://api.github.com/users/Miserlou/orgs", "repos_url": "https://api.github.com/users/Miserlou/repos", "events_url": "https://api.github.com/users/Miserlou/events{/privacy}", "received_events_url": "https://api.github.com/users/Miserlou/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 559891810, "node_id": "MDU6TGFiZWw1NTk4OTE4MTA=", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "kurtwheeler", "id": 4026833, "node_id": "MDQ6VXNlcjQwMjY4MzM=", "avatar_url": "https://avatars.githubusercontent.com/u/4026833?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kurtwheeler", "html_url": "https://github.com/kurtwheeler", "followers_url": "https://api.github.com/users/kurtwheeler/followers", "following_url": "https://api.github.com/users/kurtwheeler/following{/other_user}", "gists_url": "https://api.github.com/users/kurtwheeler/gists{/gist_id}", "starred_url": "https://api.github.com/users/kurtwheeler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kurtwheeler/subscriptions", "organizations_url": "https://api.github.com/users/kurtwheeler/orgs", "repos_url": "https://api.github.com/users/kurtwheeler/repos", "events_url": "https://api.github.com/users/kurtwheeler/events{/privacy}", "received_events_url": "https://api.github.com/users/kurtwheeler/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "kurtwheeler", "id": 4026833, "node_id": "MDQ6VXNlcjQwMjY4MzM=", "avatar_url": "https://avatars.githubusercontent.com/u/4026833?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kurtwheeler", "html_url": "https://github.com/kurtwheeler", "followers_url": "https://api.github.com/users/kurtwheeler/followers", "following_url": "https://api.github.com/users/kurtwheeler/following{/other_user}", "gists_url": "https://api.github.com/users/kurtwheeler/gists{/gist_id}", "starred_url": "https://api.github.com/users/kurtwheeler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kurtwheeler/subscriptions", "organizations_url": "https://api.github.com/users/kurtwheeler/orgs", "repos_url": "https://api.github.com/users/kurtwheeler/repos", "events_url": "https://api.github.com/users/kurtwheeler/events{/privacy}", "received_events_url": "https://api.github.com/users/kurtwheeler/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2018-11-09T22:02:11Z", "updated_at": "2019-03-12T19:52:14Z", "closed_at": "2019-03-12T19:52:11Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "https://api.refine.bio/experiments/GSE54716/\r\n\r\n`organisms` is `[]`, which shouldn't happen. Not a problem for GSE54717.\r\n", "reactions": {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/833/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/833/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/779", "repository_url": "https://api.github.com/repos/AlexsLemonade/refinebio", "labels_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/779/labels{/name}", "comments_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/779/comments", "events_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/779/events", "html_url": "https://github.com/AlexsLemonade/refinebio/issues/779", "id": 377611211, "node_id": "MDU6SXNzdWUzNzc2MTEyMTE=", "number": 779, "title": "Docker daemon stopped on a Nomad node causing it to be unreachable", "user": {"login": "kurtwheeler", "id": 4026833, "node_id": "MDQ6VXNlcjQwMjY4MzM=", "avatar_url": "https://avatars.githubusercontent.com/u/4026833?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kurtwheeler", "html_url": "https://github.com/kurtwheeler", "followers_url": "https://api.github.com/users/kurtwheeler/followers", "following_url": "https://api.github.com/users/kurtwheeler/following{/other_user}", "gists_url": "https://api.github.com/users/kurtwheeler/gists{/gist_id}", "starred_url": "https://api.github.com/users/kurtwheeler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kurtwheeler/subscriptions", "organizations_url": "https://api.github.com/users/kurtwheeler/orgs", "repos_url": "https://api.github.com/users/kurtwheeler/repos", "events_url": "https://api.github.com/users/kurtwheeler/events{/privacy}", "received_events_url": "https://api.github.com/users/kurtwheeler/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 559891810, "node_id": "MDU6TGFiZWw1NTk4OTE4MTA=", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 805477791, "node_id": "MDU6TGFiZWw4MDU0Nzc3OTE=", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/backlog", "name": "backlog", "color": "ededed", "default": false, "description": null}, {"id": 918556985, "node_id": "MDU6TGFiZWw5MTg1NTY5ODU=", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/devops", "name": "devops", "color": "f9d0c4", "default": false, "description": ""}, {"id": 1110128214, "node_id": "MDU6TGFiZWwxMTEwMTI4MjE0", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/can't%20reproduce", "name": "can't reproduce", "color": "25057f", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-11-05T22:31:23Z", "updated_at": "2021-07-20T14:29:55Z", "closed_at": "2021-07-20T14:29:55Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Context\r\n\r\nI started running a staging test and the sole client instance wouldn't pick up any jobs despite having an `available` node status as far as the Nomad server was concerned. I looked into it and it looks like docker went down for some reason and this caused the client Nomad to be unable to communicate with the nomad cluster. When I restarted Nomad on the node the old logs got blown away, but there were a lot of messages like:\r\n```\r\nnomad RPC failed to server 10.0.124.208:4647: rpc error: EOF\r\n```\r\n\r\n### Problem or idea\r\n\r\nI fixed this by restarting docker using the command we use to start it out of the client startup script. I then restarted the nomad client by once again reusing a command out of the client startup script.\r\n\r\n### Solution or next step\r\n\r\nI wasn't able to figure out what caused this so I don't know how to reproduce it or prevent it from happening again. However it could happen again so we should be aware and keep an eye out for it.\r\n\r\n### New Issue Checklist\r\n\r\n- [x] The title is short and descriptive.\r\n- [x] You have explained the context that led you to write this issue.\r\n- [x] You have reported a problem or idea.\r\n- [x] You have proposed a solution or next step.\r\n", "reactions": {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/779/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/779/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/761", "repository_url": "https://api.github.com/repos/AlexsLemonade/refinebio", "labels_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/761/labels{/name}", "comments_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/761/comments", "events_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/761/events", "html_url": "https://github.com/AlexsLemonade/refinebio/issues/761", "id": 375650208, "node_id": "MDU6SXNzdWUzNzU2NTAyMDg=", "number": 761, "title": "Exception in array express surveyor caused by a list of protocols", "user": {"login": "kurtwheeler", "id": 4026833, "node_id": "MDQ6VXNlcjQwMjY4MzM=", "avatar_url": "https://avatars.githubusercontent.com/u/4026833?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kurtwheeler", "html_url": "https://github.com/kurtwheeler", "followers_url": "https://api.github.com/users/kurtwheeler/followers", "following_url": "https://api.github.com/users/kurtwheeler/following{/other_user}", "gists_url": "https://api.github.com/users/kurtwheeler/gists{/gist_id}", "starred_url": "https://api.github.com/users/kurtwheeler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kurtwheeler/subscriptions", "organizations_url": "https://api.github.com/users/kurtwheeler/orgs", "repos_url": "https://api.github.com/users/kurtwheeler/repos", "events_url": "https://api.github.com/users/kurtwheeler/events{/privacy}", "received_events_url": "https://api.github.com/users/kurtwheeler/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 559891810, "node_id": "MDU6TGFiZWw1NTk4OTE4MTA=", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "kurtwheeler", "id": 4026833, "node_id": "MDQ6VXNlcjQwMjY4MzM=", "avatar_url": "https://avatars.githubusercontent.com/u/4026833?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kurtwheeler", "html_url": "https://github.com/kurtwheeler", "followers_url": "https://api.github.com/users/kurtwheeler/followers", "following_url": "https://api.github.com/users/kurtwheeler/following{/other_user}", "gists_url": "https://api.github.com/users/kurtwheeler/gists{/gist_id}", "starred_url": "https://api.github.com/users/kurtwheeler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kurtwheeler/subscriptions", "organizations_url": "https://api.github.com/users/kurtwheeler/orgs", "repos_url": "https://api.github.com/users/kurtwheeler/repos", "events_url": "https://api.github.com/users/kurtwheeler/events{/privacy}", "received_events_url": "https://api.github.com/users/kurtwheeler/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "kurtwheeler", "id": 4026833, "node_id": "MDQ6VXNlcjQwMjY4MzM=", "avatar_url": "https://avatars.githubusercontent.com/u/4026833?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kurtwheeler", "html_url": "https://github.com/kurtwheeler", "followers_url": "https://api.github.com/users/kurtwheeler/followers", "following_url": "https://api.github.com/users/kurtwheeler/following{/other_user}", "gists_url": "https://api.github.com/users/kurtwheeler/gists{/gist_id}", "starred_url": "https://api.github.com/users/kurtwheeler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kurtwheeler/subscriptions", "organizations_url": "https://api.github.com/users/kurtwheeler/orgs", "repos_url": "https://api.github.com/users/kurtwheeler/repos", "events_url": "https://api.github.com/users/kurtwheeler/events{/privacy}", "received_events_url": "https://api.github.com/users/kurtwheeler/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2018-10-30T19:12:46Z", "updated_at": "2018-11-15T16:17:31Z", "closed_at": "2018-11-15T16:17:28Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Context\r\n\r\nRan into this while trying to test the smasher instance. I snagged the accession E-GEOD-22433 out of the test_no_op.py file but it caused:\r\n```\r\nata-refinery-log-group-kurt-dev log-stream-surveyor-docker-kurt-dev 2018-10-30 19:02:49,471 local data_refinery_foreman.surveyor.external_source ERROR [survey_job: 2]: Exception caught while discovering samples. Terminating survey job.\r\ndata-refinery-log-group-kurt-dev log-stream-surveyor-docker-kurt-dev Traceback (most recent call last):\r\ndata-refinery-log-group-kurt-dev log-stream-surveyor-docker-kurt-dev   File \"/home/user/data_refinery_foreman/surveyor/array_express.py\", line 484, in create_samples_from_api\r\ndata-refinery-log-group-kurt-dev log-stream-surveyor-docker-kurt-dev     sample_object = Sample.objects.get(accession_code=sample_accession_code)\r\ndata-refinery-log-group-kurt-dev log-stream-surveyor-docker-kurt-dev   File \"/usr/local/lib/python3.5/dist-packages/django/db/models/manager.py\", line 82, in manager_method\r\ndata-refinery-log-group-kurt-dev log-stream-surveyor-docker-kurt-dev     return getattr(self.get_queryset(), name)(*args, **kwargs)\r\ndata-refinery-log-group-kurt-dev log-stream-surveyor-docker-kurt-dev   File \"/usr/local/lib/python3.5/dist-packages/django/db/models/query.py\", line 399, in get\r\ndata-refinery-log-group-kurt-dev log-stream-surveyor-docker-kurt-dev     self.model._meta.object_name\r\ndata-refinery-log-group-kurt-dev log-stream-surveyor-docker-kurt-dev data_refinery_common.models.models.Sample.DoesNotExist: Sample matching query does not exist.\r\ndata-refinery-log-group-kurt-dev log-stream-surveyor-docker-kurt-dev During handling of the above exception, another exception occurred:\r\ndata-refinery-log-group-kurt-dev log-stream-surveyor-docker-kurt-dev Traceback (most recent call last):\r\ndata-refinery-log-group-kurt-dev log-stream-surveyor-docker-kurt-dev   File \"/home/user/data_refinery_foreman/surveyor/external_source.py\", line 167, in survey\r\ndata-refinery-log-group-kurt-dev log-stream-surveyor-docker-kurt-dev     experiment, samples = self.discover_experiment_and_samples()\r\ndata-refinery-log-group-kurt-dev log-stream-surveyor-docker-kurt-dev   File \"/home/user/data_refinery_foreman/surveyor/array_express.py\", line 595, in discover_experiment_and_samples\r\ndata-refinery-log-group-kurt-dev log-stream-surveyor-docker-kurt-dev     samples = self.create_samples_from_api(experiment, platform_dict)\r\ndata-refinery-log-group-kurt-dev log-stream-surveyor-docker-kurt-dev   File \"/home/user/data_refinery_foreman/surveyor/array_express.py\", line 519, in create_samples_from_api\r\ndata-refinery-log-group-kurt-dev log-stream-surveyor-docker-kurt-dev     protocol_url=experiment.source_url + '/protocols'\r\ndata-refinery-log-group-kurt-dev log-stream-surveyor-docker-kurt-dev   File \"/home/user/data_refinery_foreman/surveyor/array_express.py\", line 309, in update_sample_protocol_info\r\ndata-refinery-log-group-kurt-dev log-stream-surveyor-docker-kurt-dev     not new_protocol.get('text', '').strip()):\r\ndata-refinery-log-group-kurt-dev log-stream-surveyor-docker-kurt-dev AttributeError: 'list' object has no attribute 'strip'\r\n```\r\n\r\n### Problem or idea\r\n\r\nWe should be able to handle this case, unless this is just a bad experiment we don't want to be able to handle. However in that case we shouldn't use this accession in our NO_OP tests.\r\n\r\n### Solution or next step\r\n\r\nEither fix the array_express surveyor to be able to handle this or use a different accession for the test.\r\n\r\n### New Issue Checklist\r\n\r\n- [x] The title is short and descriptive.\r\n- [x] You have explained the context that led you to write this issue.\r\n- [x] You have reported a problem or idea.\r\n- [x] You have proposed a solution or next step.\r\n", "reactions": {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/761/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/761/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/746", "repository_url": "https://api.github.com/repos/AlexsLemonade/refinebio", "labels_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/746/labels{/name}", "comments_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/746/comments", "events_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/746/events", "html_url": "https://github.com/AlexsLemonade/refinebio/issues/746", "id": 371223359, "node_id": "MDU6SXNzdWUzNzEyMjMzNTk=", "number": 746, "title": "API doesn't start after initial deploy", "user": {"login": "kurtwheeler", "id": 4026833, "node_id": "MDQ6VXNlcjQwMjY4MzM=", "avatar_url": "https://avatars.githubusercontent.com/u/4026833?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kurtwheeler", "html_url": "https://github.com/kurtwheeler", "followers_url": "https://api.github.com/users/kurtwheeler/followers", "following_url": "https://api.github.com/users/kurtwheeler/following{/other_user}", "gists_url": "https://api.github.com/users/kurtwheeler/gists{/gist_id}", "starred_url": "https://api.github.com/users/kurtwheeler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kurtwheeler/subscriptions", "organizations_url": "https://api.github.com/users/kurtwheeler/orgs", "repos_url": "https://api.github.com/users/kurtwheeler/repos", "events_url": "https://api.github.com/users/kurtwheeler/events{/privacy}", "received_events_url": "https://api.github.com/users/kurtwheeler/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 559891810, "node_id": "MDU6TGFiZWw1NTk4OTE4MTA=", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 918556985, "node_id": "MDU6TGFiZWw5MTg1NTY5ODU=", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/devops", "name": "devops", "color": "f9d0c4", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/milestones/18", "html_url": "https://github.com/AlexsLemonade/refinebio/milestone/18", "labels_url": "https://api.github.com/repos/AlexsLemonade/refinebio/milestones/18/labels", "id": 3717733, "node_id": "MDk6TWlsZXN0b25lMzcxNzczMw==", "number": 18, "title": "Electric Eevee", "description": "", "creator": {"login": "jaclyn-taroni", "id": 19534205, "node_id": "MDQ6VXNlcjE5NTM0MjA1", "avatar_url": "https://avatars.githubusercontent.com/u/19534205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaclyn-taroni", "html_url": "https://github.com/jaclyn-taroni", "followers_url": "https://api.github.com/users/jaclyn-taroni/followers", "following_url": "https://api.github.com/users/jaclyn-taroni/following{/other_user}", "gists_url": "https://api.github.com/users/jaclyn-taroni/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaclyn-taroni/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaclyn-taroni/subscriptions", "organizations_url": "https://api.github.com/users/jaclyn-taroni/orgs", "repos_url": "https://api.github.com/users/jaclyn-taroni/repos", "events_url": "https://api.github.com/users/jaclyn-taroni/events{/privacy}", "received_events_url": "https://api.github.com/users/jaclyn-taroni/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 37, "state": "closed", "created_at": "2018-10-07T15:14:08Z", "updated_at": "2020-05-21T12:52:45Z", "due_on": "2019-02-15T08:00:00Z", "closed_at": "2020-05-21T12:52:45Z"}, "comments": 0, "created_at": "2018-10-17T19:02:08Z", "updated_at": "2018-10-26T19:41:21Z", "closed_at": "2018-10-26T19:41:20Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Context\r\n\r\nThe API is started via a series of ssh commands in `deploy.sh`. This is so that we don't have to cycle the API instance just to update it to a new image.\r\n\r\n### Problem or idea\r\n\r\nThis process works well when we are deploying a patch that doesn't require cycling the API instance. However when we have to cycle it, it has to initialize and this takes some time. Generally the deploy script tries to run SSH commands on it before it is done initializing, so they fail and the API server doesn't start.\r\n\r\n### Solution or next step\r\n\r\nWe should start the API in the startup script and make `deploy.sh` ignore when the instance isn't up yet.\r\n\r\n### New Issue Checklist\r\n\r\n- [x] The title is short and descriptive.\r\n- [x] You have explained the context that led you to write this issue.\r\n- [x] You have reported a problem or idea.\r\n- [x] You have proposed a solution or next step.\r\n", "reactions": {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/746/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/746/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/722", "repository_url": "https://api.github.com/repos/AlexsLemonade/refinebio", "labels_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/722/labels{/name}", "comments_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/722/comments", "events_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/722/events", "html_url": "https://github.com/AlexsLemonade/refinebio/issues/722", "id": 368241446, "node_id": "MDU6SXNzdWUzNjgyNDE0NDY=", "number": 722, "title": "tximport RDS object should be at the transcript level", "user": {"login": "jaclyn-taroni", "id": 19534205, "node_id": "MDQ6VXNlcjE5NTM0MjA1", "avatar_url": "https://avatars.githubusercontent.com/u/19534205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaclyn-taroni", "html_url": "https://github.com/jaclyn-taroni", "followers_url": "https://api.github.com/users/jaclyn-taroni/followers", "following_url": "https://api.github.com/users/jaclyn-taroni/following{/other_user}", "gists_url": "https://api.github.com/users/jaclyn-taroni/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaclyn-taroni/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaclyn-taroni/subscriptions", "organizations_url": "https://api.github.com/users/jaclyn-taroni/orgs", "repos_url": "https://api.github.com/users/jaclyn-taroni/repos", "events_url": "https://api.github.com/users/jaclyn-taroni/events{/privacy}", "received_events_url": "https://api.github.com/users/jaclyn-taroni/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 559891810, "node_id": "MDU6TGFiZWw1NTk4OTE4MTA=", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 892675090, "node_id": "MDU6TGFiZWw4OTI2NzUwOTA=", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/processor", "name": "processor", "color": "0c1a7a", "default": false, "description": ""}, {"id": 917784562, "node_id": "MDU6TGFiZWw5MTc3ODQ1NjI=", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/RNA-seq", "name": "RNA-seq", "color": "bfdadc", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "jaclyn-taroni", "id": 19534205, "node_id": "MDQ6VXNlcjE5NTM0MjA1", "avatar_url": "https://avatars.githubusercontent.com/u/19534205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaclyn-taroni", "html_url": "https://github.com/jaclyn-taroni", "followers_url": "https://api.github.com/users/jaclyn-taroni/followers", "following_url": "https://api.github.com/users/jaclyn-taroni/following{/other_user}", "gists_url": "https://api.github.com/users/jaclyn-taroni/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaclyn-taroni/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaclyn-taroni/subscriptions", "organizations_url": "https://api.github.com/users/jaclyn-taroni/orgs", "repos_url": "https://api.github.com/users/jaclyn-taroni/repos", "events_url": "https://api.github.com/users/jaclyn-taroni/events{/privacy}", "received_events_url": "https://api.github.com/users/jaclyn-taroni/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jaclyn-taroni", "id": 19534205, "node_id": "MDQ6VXNlcjE5NTM0MjA1", "avatar_url": "https://avatars.githubusercontent.com/u/19534205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaclyn-taroni", "html_url": "https://github.com/jaclyn-taroni", "followers_url": "https://api.github.com/users/jaclyn-taroni/followers", "following_url": "https://api.github.com/users/jaclyn-taroni/following{/other_user}", "gists_url": "https://api.github.com/users/jaclyn-taroni/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaclyn-taroni/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaclyn-taroni/subscriptions", "organizations_url": "https://api.github.com/users/jaclyn-taroni/orgs", "repos_url": "https://api.github.com/users/jaclyn-taroni/repos", "events_url": "https://api.github.com/users/jaclyn-taroni/events{/privacy}", "received_events_url": "https://api.github.com/users/jaclyn-taroni/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2018-10-09T14:31:48Z", "updated_at": "2018-10-09T17:35:34Z", "closed_at": "2018-10-09T17:35:34Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Context\r\n\r\nLooking into #508 & downloading files \r\n\r\n### Problem or idea\r\n\r\nIn #278, I made a mistake in asking @dongbohu to change the parameter below to `FALSE`.\r\n\r\nhttps://github.com/AlexsLemonade/refinebio/blob/79d9d9032caaa7ffda6ad898862da16b82edcbab/workers/data_refinery_workers/processors/tximport.R#L49\r\n\r\nThis means that the `txi_out.RDS` file is at the gene-level rather than the desired transcript-level.\r\n\r\n### Solution or next step\r\n\r\nThis parameter should set to `TRUE`\r\n\r\n### New Issue Checklist\r\n\r\n- [x] The title is short and descriptive.\r\n- [x] You have explained the context that led you to write this issue.\r\n- [x] You have reported a problem or idea.\r\n- [x] You have proposed a solution or next step.\r\n", "reactions": {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/722/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/722/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/701", "repository_url": "https://api.github.com/repos/AlexsLemonade/refinebio", "labels_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/701/labels{/name}", "comments_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/701/comments", "events_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/701/events", "html_url": "https://github.com/AlexsLemonade/refinebio/issues/701", "id": 367264676, "node_id": "MDU6SXNzdWUzNjcyNjQ2NzY=", "number": 701, "title": "Platform badge on search page always displays the mixed platform badge", "user": {"login": "dvenprasad", "id": 15315514, "node_id": "MDQ6VXNlcjE1MzE1NTE0", "avatar_url": "https://avatars.githubusercontent.com/u/15315514?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dvenprasad", "html_url": "https://github.com/dvenprasad", "followers_url": "https://api.github.com/users/dvenprasad/followers", "following_url": "https://api.github.com/users/dvenprasad/following{/other_user}", "gists_url": "https://api.github.com/users/dvenprasad/gists{/gist_id}", "starred_url": "https://api.github.com/users/dvenprasad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dvenprasad/subscriptions", "organizations_url": "https://api.github.com/users/dvenprasad/orgs", "repos_url": "https://api.github.com/users/dvenprasad/repos", "events_url": "https://api.github.com/users/dvenprasad/events{/privacy}", "received_events_url": "https://api.github.com/users/dvenprasad/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 559891810, "node_id": "MDU6TGFiZWw1NTk4OTE4MTA=", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/milestones/18", "html_url": "https://github.com/AlexsLemonade/refinebio/milestone/18", "labels_url": "https://api.github.com/repos/AlexsLemonade/refinebio/milestones/18/labels", "id": 3717733, "node_id": "MDk6TWlsZXN0b25lMzcxNzczMw==", "number": 18, "title": "Electric Eevee", "description": "", "creator": {"login": "jaclyn-taroni", "id": 19534205, "node_id": "MDQ6VXNlcjE5NTM0MjA1", "avatar_url": "https://avatars.githubusercontent.com/u/19534205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaclyn-taroni", "html_url": "https://github.com/jaclyn-taroni", "followers_url": "https://api.github.com/users/jaclyn-taroni/followers", "following_url": "https://api.github.com/users/jaclyn-taroni/following{/other_user}", "gists_url": "https://api.github.com/users/jaclyn-taroni/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaclyn-taroni/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaclyn-taroni/subscriptions", "organizations_url": "https://api.github.com/users/jaclyn-taroni/orgs", "repos_url": "https://api.github.com/users/jaclyn-taroni/repos", "events_url": "https://api.github.com/users/jaclyn-taroni/events{/privacy}", "received_events_url": "https://api.github.com/users/jaclyn-taroni/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 37, "state": "closed", "created_at": "2018-10-07T15:14:08Z", "updated_at": "2020-05-21T12:52:45Z", "due_on": "2019-02-15T08:00:00Z", "closed_at": "2020-05-21T12:52:45Z"}, "comments": 1, "created_at": "2018-10-05T15:38:18Z", "updated_at": "2018-10-15T17:55:49Z", "closed_at": "2018-10-15T17:55:46Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Context\r\n\r\n Noticed this walking through refine.bio\r\n\r\n### Problem or idea\r\nOn the search page the platform badge is always the mixed platform badge.\r\n![screen shot 2018-10-05 at 11 33 39 am](https://user-images.githubusercontent.com/15315514/46544825-9a0b1c80-c892-11e8-8cbc-67c232d1f713.png)\r\n\r\nBut on the experiment page it displays the correct platform badge:\r\n![screen shot 2018-10-05 at 11 34 54 am](https://user-images.githubusercontent.com/15315514/46544861-b3ac6400-c892-11e8-98ed-0f6fb56cf341.png)\r\n\r\nCould be related to #589 \r\n\r\n### Solution or next step\r\nTagging @arielsvn and @Miserlou for input", "reactions": {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/701/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/701/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/684", "repository_url": "https://api.github.com/repos/AlexsLemonade/refinebio", "labels_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/684/labels{/name}", "comments_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/684/comments", "events_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/684/events", "html_url": "https://github.com/AlexsLemonade/refinebio/issues/684", "id": 365547671, "node_id": "MDU6SXNzdWUzNjU1NDc2NzE=", "number": 684, "title": "Was told to SRA-extract a non-existent file - why did this happen?", "user": {"login": "Miserlou", "id": 139987, "node_id": "MDQ6VXNlcjEzOTk4Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/139987?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Miserlou", "html_url": "https://github.com/Miserlou", "followers_url": "https://api.github.com/users/Miserlou/followers", "following_url": "https://api.github.com/users/Miserlou/following{/other_user}", "gists_url": "https://api.github.com/users/Miserlou/gists{/gist_id}", "starred_url": "https://api.github.com/users/Miserlou/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Miserlou/subscriptions", "organizations_url": "https://api.github.com/users/Miserlou/orgs", "repos_url": "https://api.github.com/users/Miserlou/repos", "events_url": "https://api.github.com/users/Miserlou/events{/privacy}", "received_events_url": "https://api.github.com/users/Miserlou/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 559891810, "node_id": "MDU6TGFiZWw1NTk4OTE4MTA=", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 842058880, "node_id": "MDU6TGFiZWw4NDIwNTg4ODA=", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/salmon", "name": "salmon", "color": "93abe2", "default": false, "description": null}, {"id": 968142319, "node_id": "MDU6TGFiZWw5NjgxNDIzMTk=", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/downloader", "name": "downloader", "color": "38bfd1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "Miserlou", "id": 139987, "node_id": "MDQ6VXNlcjEzOTk4Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/139987?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Miserlou", "html_url": "https://github.com/Miserlou", "followers_url": "https://api.github.com/users/Miserlou/followers", "following_url": "https://api.github.com/users/Miserlou/following{/other_user}", "gists_url": "https://api.github.com/users/Miserlou/gists{/gist_id}", "starred_url": "https://api.github.com/users/Miserlou/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Miserlou/subscriptions", "organizations_url": "https://api.github.com/users/Miserlou/orgs", "repos_url": "https://api.github.com/users/Miserlou/repos", "events_url": "https://api.github.com/users/Miserlou/events{/privacy}", "received_events_url": "https://api.github.com/users/Miserlou/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "Miserlou", "id": 139987, "node_id": "MDQ6VXNlcjEzOTk4Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/139987?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Miserlou", "html_url": "https://github.com/Miserlou", "followers_url": "https://api.github.com/users/Miserlou/followers", "following_url": "https://api.github.com/users/Miserlou/following{/other_user}", "gists_url": "https://api.github.com/users/Miserlou/gists{/gist_id}", "starred_url": "https://api.github.com/users/Miserlou/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Miserlou/subscriptions", "organizations_url": "https://api.github.com/users/Miserlou/orgs", "repos_url": "https://api.github.com/users/Miserlou/repos", "events_url": "https://api.github.com/users/Miserlou/events{/privacy}", "received_events_url": "https://api.github.com/users/Miserlou/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/milestones/18", "html_url": "https://github.com/AlexsLemonade/refinebio/milestone/18", "labels_url": "https://api.github.com/repos/AlexsLemonade/refinebio/milestones/18/labels", "id": 3717733, "node_id": "MDk6TWlsZXN0b25lMzcxNzczMw==", "number": 18, "title": "Electric Eevee", "description": "", "creator": {"login": "jaclyn-taroni", "id": 19534205, "node_id": "MDQ6VXNlcjE5NTM0MjA1", "avatar_url": "https://avatars.githubusercontent.com/u/19534205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaclyn-taroni", "html_url": "https://github.com/jaclyn-taroni", "followers_url": "https://api.github.com/users/jaclyn-taroni/followers", "following_url": "https://api.github.com/users/jaclyn-taroni/following{/other_user}", "gists_url": "https://api.github.com/users/jaclyn-taroni/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaclyn-taroni/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaclyn-taroni/subscriptions", "organizations_url": "https://api.github.com/users/jaclyn-taroni/orgs", "repos_url": "https://api.github.com/users/jaclyn-taroni/repos", "events_url": "https://api.github.com/users/jaclyn-taroni/events{/privacy}", "received_events_url": "https://api.github.com/users/jaclyn-taroni/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 37, "state": "closed", "created_at": "2018-10-07T15:14:08Z", "updated_at": "2020-05-21T12:52:45Z", "due_on": "2019-02-15T08:00:00Z", "closed_at": "2020-05-21T12:52:45Z"}, "comments": 1, "created_at": "2018-10-01T16:45:14Z", "updated_at": "2019-01-18T19:58:22Z", "closed_at": "2019-01-18T19:58:19Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Not much to go with on this one, but the error is not uncommon.  My guess is that there was a problem during downloading that wasn't detected before the Salmon job was dispatched.\r\n\r\n```\r\ndata-refinery-log-group-circleci-prod log-stream-processor-docker-circleci-prod 2018-09-30 10:51:07,200 i-08e11e93bb9c7a3c0 data_refinery_workers.processors.salmon ERROR [processor_job: 10682] [input_file_path: /home/user/data_store/ERP017126/ERR1631317/ERR1631317.sra]: Was told to SRA-extract a non-existent file - why did this happen?\r\ndata-refinery-log-group-circleci-prod log-stream-processor-docker-circleci-prod 2018-09-30 10:51:07,361 i-08e11e93bb9c7a3c0 data_refinery_workers.processors.utils ERROR [processor_job: 10682] [failure_reason: Missing SRA file: /home/user/data_store/ERP017126/ERR1631317/ERR1631317.sra]: Processor function _extract_sra failed. Terminating pipeline.\r\ndata-refinery-log-group-circleci-prod log-stream-processor-docker-circleci-prod 2018-09-30 10:51:07,369 i-08e11e93bb9c7a3c0 data_refinery_workers.processors.utils ERROR [processor_job: 10682] [failure_reason: Missing SRA file: /home/user/data_store/ERP017126/ERR1631317/ERR1631317.sra] [pipeline_applied: SALMON] [no_retry: False]: Processor job failed!\r\n```", "reactions": {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/684/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/684/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/683", "repository_url": "https://api.github.com/repos/AlexsLemonade/refinebio", "labels_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/683/labels{/name}", "comments_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/683/comments", "events_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/683/events", "html_url": "https://github.com/AlexsLemonade/refinebio/issues/683", "id": 365544681, "node_id": "MDU6SXNzdWUzNjU1NDQ2ODE=", "number": 683, "title": "Silent FastQC Failures", "user": {"login": "Miserlou", "id": 139987, "node_id": "MDQ6VXNlcjEzOTk4Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/139987?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Miserlou", "html_url": "https://github.com/Miserlou", "followers_url": "https://api.github.com/users/Miserlou/followers", "following_url": "https://api.github.com/users/Miserlou/following{/other_user}", "gists_url": "https://api.github.com/users/Miserlou/gists{/gist_id}", "starred_url": "https://api.github.com/users/Miserlou/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Miserlou/subscriptions", "organizations_url": "https://api.github.com/users/Miserlou/orgs", "repos_url": "https://api.github.com/users/Miserlou/repos", "events_url": "https://api.github.com/users/Miserlou/events{/privacy}", "received_events_url": "https://api.github.com/users/Miserlou/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 559891810, "node_id": "MDU6TGFiZWw1NTk4OTE4MTA=", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/milestones/18", "html_url": "https://github.com/AlexsLemonade/refinebio/milestone/18", "labels_url": "https://api.github.com/repos/AlexsLemonade/refinebio/milestones/18/labels", "id": 3717733, "node_id": "MDk6TWlsZXN0b25lMzcxNzczMw==", "number": 18, "title": "Electric Eevee", "description": "", "creator": {"login": "jaclyn-taroni", "id": 19534205, "node_id": "MDQ6VXNlcjE5NTM0MjA1", "avatar_url": "https://avatars.githubusercontent.com/u/19534205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaclyn-taroni", "html_url": "https://github.com/jaclyn-taroni", "followers_url": "https://api.github.com/users/jaclyn-taroni/followers", "following_url": "https://api.github.com/users/jaclyn-taroni/following{/other_user}", "gists_url": "https://api.github.com/users/jaclyn-taroni/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaclyn-taroni/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaclyn-taroni/subscriptions", "organizations_url": "https://api.github.com/users/jaclyn-taroni/orgs", "repos_url": "https://api.github.com/users/jaclyn-taroni/repos", "events_url": "https://api.github.com/users/jaclyn-taroni/events{/privacy}", "received_events_url": "https://api.github.com/users/jaclyn-taroni/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 37, "state": "closed", "created_at": "2018-10-07T15:14:08Z", "updated_at": "2020-05-21T12:52:45Z", "due_on": "2019-02-15T08:00:00Z", "closed_at": "2020-05-21T12:52:45Z"}, "comments": 0, "created_at": "2018-10-01T16:36:53Z", "updated_at": "2019-01-18T19:58:14Z", "closed_at": "2019-01-18T19:58:11Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "```\r\ndata-refinery-log-group-circleci-prod log-stream-processor-docker-circleci-prod 2018-09-29 23:03:24,101 i-094075f4b46b5ec64 data_refinery_workers.processors.salmon ERROR [processor_job: 9187]: Shell call to FastQC failed with error message: Started analysis of ERR1631915.fastq\r\ndata-refinery-log-group-circleci-prod log-stream-processor-docker-circleci-prod 2018-09-29 23:03:24,279 i-094075f4b46b5ec64 data_refinery_workers.processors.utils ERROR [failure_reason: Started analysis of ERR1631915.fastq] [processor_job: 9187]: Processor function _run_fastqc failed. Terminating pipeline.\r\n```\r\n\r\nNot a whole lot to go with here - my guess is that this is a memory issue again.\r\n\r\nHopefully our strategy of increasingly large Salmon placements will address all of these issues together.\r\n", "reactions": {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/683/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/683/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/682", "repository_url": "https://api.github.com/repos/AlexsLemonade/refinebio", "labels_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/682/labels{/name}", "comments_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/682/comments", "events_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/682/events", "html_url": "https://github.com/AlexsLemonade/refinebio/issues/682", "id": 365542438, "node_id": "MDU6SXNzdWUzNjU1NDI0Mzg=", "number": 682, "title": "KeyError: 'internal_accession'", "user": {"login": "Miserlou", "id": 139987, "node_id": "MDQ6VXNlcjEzOTk4Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/139987?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Miserlou", "html_url": "https://github.com/Miserlou", "followers_url": "https://api.github.com/users/Miserlou/followers", "following_url": "https://api.github.com/users/Miserlou/following{/other_user}", "gists_url": "https://api.github.com/users/Miserlou/gists{/gist_id}", "starred_url": "https://api.github.com/users/Miserlou/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Miserlou/subscriptions", "organizations_url": "https://api.github.com/users/Miserlou/orgs", "repos_url": "https://api.github.com/users/Miserlou/repos", "events_url": "https://api.github.com/users/Miserlou/events{/privacy}", "received_events_url": "https://api.github.com/users/Miserlou/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 559891810, "node_id": "MDU6TGFiZWw1NTk4OTE4MTA=", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/milestones/18", "html_url": "https://github.com/AlexsLemonade/refinebio/milestone/18", "labels_url": "https://api.github.com/repos/AlexsLemonade/refinebio/milestones/18/labels", "id": 3717733, "node_id": "MDk6TWlsZXN0b25lMzcxNzczMw==", "number": 18, "title": "Electric Eevee", "description": "", "creator": {"login": "jaclyn-taroni", "id": 19534205, "node_id": "MDQ6VXNlcjE5NTM0MjA1", "avatar_url": "https://avatars.githubusercontent.com/u/19534205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaclyn-taroni", "html_url": "https://github.com/jaclyn-taroni", "followers_url": "https://api.github.com/users/jaclyn-taroni/followers", "following_url": "https://api.github.com/users/jaclyn-taroni/following{/other_user}", "gists_url": "https://api.github.com/users/jaclyn-taroni/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaclyn-taroni/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaclyn-taroni/subscriptions", "organizations_url": "https://api.github.com/users/jaclyn-taroni/orgs", "repos_url": "https://api.github.com/users/jaclyn-taroni/repos", "events_url": "https://api.github.com/users/jaclyn-taroni/events{/privacy}", "received_events_url": "https://api.github.com/users/jaclyn-taroni/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 37, "state": "closed", "created_at": "2018-10-07T15:14:08Z", "updated_at": "2020-05-21T12:52:45Z", "due_on": "2019-02-15T08:00:00Z", "closed_at": "2020-05-21T12:52:45Z"}, "comments": 1, "created_at": "2018-10-01T16:30:55Z", "updated_at": "2019-01-18T19:58:05Z", "closed_at": "2019-01-18T19:58:02Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "This one (these ones) look like a straight-up bug. Possible we couldn't actually ever process this sample anyway since we can't determine the internal accession, but we should still handle this more gracefully.\r\n\r\n```\r\ndata-refinery-log-group-circleci-prod log-stream-processor-docker-circleci-prod 2018-09-30 07:26:10,564 i-094075f4b46b5ec64 data_refinery_workers.processors.utils ERROR [processor_job: 10329] [no_retry: True]: Unhandled exception caught while running processor function _convert_genes in pipeline:\r\ndata-refinery-log-group-circleci-prod log-stream-processor-docker-circleci-prod Traceback (most recent call last):\r\ndata-refinery-log-group-circleci-prod log-stream-processor-docker-circleci-prod   File \"/home/user/data_refinery_workers/processors/utils.py\", line 231, in run_pipeline\r\ndata-refinery-log-group-circleci-prod log-stream-processor-docker-circleci-prod     last_result = processor(last_result)\r\ndata-refinery-log-group-circleci-prod log-stream-processor-docker-circleci-prod   File \"/home/user/data_refinery_workers/processors/no_op.py\", line 158, in _convert_genes\r\ndata-refinery-log-group-circleci-prod log-stream-processor-docker-circleci-prod     return _convert_affy_genes(job_context)\r\ndata-refinery-log-group-circleci-prod log-stream-processor-docker-circleci-prod   File \"/home/user/data_refinery_workers/processors/no_op.py\", line 163, in _convert_affy_genes\r\ndata-refinery-log-group-circleci-prod log-stream-processor-docker-circleci-prod     gene_index_path = \"/home/user/gene_indexes/\" + job_context[\"internal_accession\"] + \".tsv.gz\"\r\ndata-refinery-log-group-circleci-prod log-stream-processor-docker-circleci-prod KeyError: 'internal_accession'\r\ndata-refinery-log-group-circleci-prod log-stream-processor-docker-circleci-prod 2018-09-30 07:26:10,586 i-094075f4b46b5ec64 data_refinery_workers.processors.utils ERROR [processor_job: 10329] [pipeline_applied: NO_OP] [no_retry: True] [failure_reason: Unhandled exception caught while running processor function _convert_genes in pipeline: 'internal_accession']: Processor job failed!\r\n```", "reactions": {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/682/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/682/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/681", "repository_url": "https://api.github.com/repos/AlexsLemonade/refinebio", "labels_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/681/labels{/name}", "comments_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/681/comments", "events_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/681/events", "html_url": "https://github.com/AlexsLemonade/refinebio/issues/681", "id": 365537774, "node_id": "MDU6SXNzdWUzNjU1Mzc3NzQ=", "number": 681, "title": "File Not Found During SHA1 Check", "user": {"login": "Miserlou", "id": 139987, "node_id": "MDQ6VXNlcjEzOTk4Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/139987?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Miserlou", "html_url": "https://github.com/Miserlou", "followers_url": "https://api.github.com/users/Miserlou/followers", "following_url": "https://api.github.com/users/Miserlou/following{/other_user}", "gists_url": "https://api.github.com/users/Miserlou/gists{/gist_id}", "starred_url": "https://api.github.com/users/Miserlou/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Miserlou/subscriptions", "organizations_url": "https://api.github.com/users/Miserlou/orgs", "repos_url": "https://api.github.com/users/Miserlou/repos", "events_url": "https://api.github.com/users/Miserlou/events{/privacy}", "received_events_url": "https://api.github.com/users/Miserlou/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 559891810, "node_id": "MDU6TGFiZWw1NTk4OTE4MTA=", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 842058880, "node_id": "MDU6TGFiZWw4NDIwNTg4ODA=", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/salmon", "name": "salmon", "color": "93abe2", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "Miserlou", "id": 139987, "node_id": "MDQ6VXNlcjEzOTk4Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/139987?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Miserlou", "html_url": "https://github.com/Miserlou", "followers_url": "https://api.github.com/users/Miserlou/followers", "following_url": "https://api.github.com/users/Miserlou/following{/other_user}", "gists_url": "https://api.github.com/users/Miserlou/gists{/gist_id}", "starred_url": "https://api.github.com/users/Miserlou/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Miserlou/subscriptions", "organizations_url": "https://api.github.com/users/Miserlou/orgs", "repos_url": "https://api.github.com/users/Miserlou/repos", "events_url": "https://api.github.com/users/Miserlou/events{/privacy}", "received_events_url": "https://api.github.com/users/Miserlou/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "Miserlou", "id": 139987, "node_id": "MDQ6VXNlcjEzOTk4Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/139987?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Miserlou", "html_url": "https://github.com/Miserlou", "followers_url": "https://api.github.com/users/Miserlou/followers", "following_url": "https://api.github.com/users/Miserlou/following{/other_user}", "gists_url": "https://api.github.com/users/Miserlou/gists{/gist_id}", "starred_url": "https://api.github.com/users/Miserlou/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Miserlou/subscriptions", "organizations_url": "https://api.github.com/users/Miserlou/orgs", "repos_url": "https://api.github.com/users/Miserlou/repos", "events_url": "https://api.github.com/users/Miserlou/events{/privacy}", "received_events_url": "https://api.github.com/users/Miserlou/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/milestones/18", "html_url": "https://github.com/AlexsLemonade/refinebio/milestone/18", "labels_url": "https://api.github.com/repos/AlexsLemonade/refinebio/milestones/18/labels", "id": 3717733, "node_id": "MDk6TWlsZXN0b25lMzcxNzczMw==", "number": 18, "title": "Electric Eevee", "description": "", "creator": {"login": "jaclyn-taroni", "id": 19534205, "node_id": "MDQ6VXNlcjE5NTM0MjA1", "avatar_url": "https://avatars.githubusercontent.com/u/19534205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaclyn-taroni", "html_url": "https://github.com/jaclyn-taroni", "followers_url": "https://api.github.com/users/jaclyn-taroni/followers", "following_url": "https://api.github.com/users/jaclyn-taroni/following{/other_user}", "gists_url": "https://api.github.com/users/jaclyn-taroni/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaclyn-taroni/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaclyn-taroni/subscriptions", "organizations_url": "https://api.github.com/users/jaclyn-taroni/orgs", "repos_url": "https://api.github.com/users/jaclyn-taroni/repos", "events_url": "https://api.github.com/users/jaclyn-taroni/events{/privacy}", "received_events_url": "https://api.github.com/users/jaclyn-taroni/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 37, "state": "closed", "created_at": "2018-10-07T15:14:08Z", "updated_at": "2020-05-21T12:52:45Z", "due_on": "2019-02-15T08:00:00Z", "closed_at": "2020-05-21T12:52:45Z"}, "comments": 2, "created_at": "2018-10-01T16:18:44Z", "updated_at": "2019-01-18T19:57:54Z", "closed_at": "2019-01-18T19:57:51Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Context\r\n```\r\ndata-refinery-log-group-circleci-prod log-stream-processor-docker-circleci-prod 2018-09-30 09:53:19,387 i-03b2b1628573bd053 data_refinery_workers.processors.utils ERROR [processor_job: 6648] [no_retry: False]: Unhandled exception caught while running processor function _run_salmon in pipeline:\r\ndata-refinery-log-group-circleci-prod log-stream-processor-docker-circleci-prod Traceback (most recent call last):\r\ndata-refinery-log-group-circleci-prod log-stream-processor-docker-circleci-prod   File \"/home/user/data_refinery_workers/processors/utils.py\", line 231, in run_pipeline\r\ndata-refinery-log-group-circleci-prod log-stream-processor-docker-circleci-prod     last_result = processor(last_result)\r\ndata-refinery-log-group-circleci-prod log-stream-processor-docker-circleci-prod   File \"/home/user/data_refinery_workers/processors/salmon.py\", line 675, in _run_salmon\r\ndata-refinery-log-group-circleci-prod log-stream-processor-docker-circleci-prod     quant_file.calculate_sha1()\r\ndata-refinery-log-group-circleci-prod log-stream-processor-docker-circleci-prod   File \"/usr/local/lib/python3.5/dist-packages/data_refinery_common/models/models.py\", line 759, in calculate_sha1\r\ndata-refinery-log-group-circleci-prod log-stream-processor-docker-circleci-prod     with open(self.absolute_file_path, mode='rb') as open_file:\r\ndata-refinery-log-group-circleci-prod log-stream-processor-docker-circleci-prod FileNotFoundError: [Errno 2] No such file or directory: '/home/user/data_store/processor_job_6648/SRR6025586_output/quant.sf'\r\ndata-refinery-log-group-circleci-prod log-stream-processor-docker-circleci-prod 2018-09-30 09:53:25,258 i-03b2b1628573bd053 data_refinery_workers.processors.utils ERROR [failure_reason: Unhandled exception caught while running processor function _run_salmon in pipeline: [Errno 2] No such file or directory: '/home/user/data_store/processor_job_6648/SRR6025586_output/quant.sf'] [pipeline_applied: SALMON] [processor_job: 6648] [no_retry: False]: Processor job failed!\r\n```\r\n\r\n### Problem or idea\r\n\r\nThis actually seems like a fairly common error, and I can't immediately explain it. \r\n\r\nMy guesses are:\r\n\r\n1) Salmon isn't creating the final result file, but isn't reporting the proper error code/stderr, so we never see the failure and just assume the file was created.\r\n2) There is a disk read problem which happens when we try to read in the file for hashing.\r\n\r\n### Solution or next step\r\n\r\nInvestigate and try to repro with `SRR6025586`. \r\n", "reactions": {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/681/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/681/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/680", "repository_url": "https://api.github.com/repos/AlexsLemonade/refinebio", "labels_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/680/labels{/name}", "comments_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/680/comments", "events_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/680/events", "html_url": "https://github.com/AlexsLemonade/refinebio/issues/680", "id": 365533015, "node_id": "MDU6SXNzdWUzNjU1MzMwMTU=", "number": 680, "title": "fasterq-dump: Not Enough Memory", "user": {"login": "Miserlou", "id": 139987, "node_id": "MDQ6VXNlcjEzOTk4Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/139987?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Miserlou", "html_url": "https://github.com/Miserlou", "followers_url": "https://api.github.com/users/Miserlou/followers", "following_url": "https://api.github.com/users/Miserlou/following{/other_user}", "gists_url": "https://api.github.com/users/Miserlou/gists{/gist_id}", "starred_url": "https://api.github.com/users/Miserlou/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Miserlou/subscriptions", "organizations_url": "https://api.github.com/users/Miserlou/orgs", "repos_url": "https://api.github.com/users/Miserlou/repos", "events_url": "https://api.github.com/users/Miserlou/events{/privacy}", "received_events_url": "https://api.github.com/users/Miserlou/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 559891810, "node_id": "MDU6TGFiZWw1NTk4OTE4MTA=", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 559891812, "node_id": "MDU6TGFiZWw1NTk4OTE4MTI=", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/milestones/18", "html_url": "https://github.com/AlexsLemonade/refinebio/milestone/18", "labels_url": "https://api.github.com/repos/AlexsLemonade/refinebio/milestones/18/labels", "id": 3717733, "node_id": "MDk6TWlsZXN0b25lMzcxNzczMw==", "number": 18, "title": "Electric Eevee", "description": "", "creator": {"login": "jaclyn-taroni", "id": 19534205, "node_id": "MDQ6VXNlcjE5NTM0MjA1", "avatar_url": "https://avatars.githubusercontent.com/u/19534205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaclyn-taroni", "html_url": "https://github.com/jaclyn-taroni", "followers_url": "https://api.github.com/users/jaclyn-taroni/followers", "following_url": "https://api.github.com/users/jaclyn-taroni/following{/other_user}", "gists_url": "https://api.github.com/users/jaclyn-taroni/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaclyn-taroni/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaclyn-taroni/subscriptions", "organizations_url": "https://api.github.com/users/jaclyn-taroni/orgs", "repos_url": "https://api.github.com/users/jaclyn-taroni/repos", "events_url": "https://api.github.com/users/jaclyn-taroni/events{/privacy}", "received_events_url": "https://api.github.com/users/jaclyn-taroni/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 37, "state": "closed", "created_at": "2018-10-07T15:14:08Z", "updated_at": "2020-05-21T12:52:45Z", "due_on": "2019-02-15T08:00:00Z", "closed_at": "2020-05-21T12:52:45Z"}, "comments": 1, "created_at": "2018-10-01T16:06:44Z", "updated_at": "2019-03-04T16:31:04Z", "closed_at": "2019-03-04T16:31:00Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "It seems like once we started processing larger files, we started to see some messages like this:\r\n\r\n```\r\ndata-refinery-log-group-circleci-prod log-stream-processor-docker-circleci-prod 2018-09-30 11:24:34,903 i-03b2b1628573bd053 data_refinery_workers.processors.salmon ERROR [file: /home/user/data_store/DRP003977/DRR051067/DRR051067.sra] [stdout: 2018-09-30T06:11:52 fasterq-dump.2.9.1 err: unknown while writing file within file system module - unknown system error errno='Cannot allocate memory(12)'\r\ndata-refinery-log-group-circleci-prod log-stream-processor-docker-circleci-prod 2018-09-30T06:11:53 fasterq-dump.2.9.1 err: you have exhausted your space\r\ndata-refinery-log-group-circleci-prod log-stream-processor-docker-circleci-prod 2018-09-30T06:11:53 fasterq-dump.2.9.1 err: copy_machine.c push2q().KQueuePush() -> RC(rcCont,rcQueue,rcInserting,rcQueue,rcReadonly)] [processor_job: 6044]: Shell call to fasterq-dump failed with error message: 2018-09-30T06:11:52 fasterq-dump.2.9.1 err: unknown while writing file within file system module - unknown system error errno='Cannot allocate memory(12)'\r\ndata-refinery-log-group-circleci-prod log-stream-processor-docker-circleci-prod 2018-09-30T06:11:53 fasterq-dump.2.9.1 err: you have exhausted your space\r\ndata-refinery-log-group-circleci-prod log-stream-processor-docker-circleci-prod 2018-09-30T06:11:53 fasterq-dump.2.9.1 err: copy_machine.c push2q().KQueuePush() -> RC(rcCont,rcQueue,rcInserting,rcQueue,rcReadonly)\r\ndata-refinery-log-group-circleci-prod log-stream-processor-docker-circleci-prod 2018-09-30 11:24:35,076 i-03b2b1628573bd053 data_refinery_workers.processors.utils ERROR [failure_reason: 2018-09-30T06:11:52 fasterq-dump.2.9.1 err: unknown while writing file within file system module - unknown system error errno='Cannot allocate memory(12)'\r\ndata-refinery-log-group-circleci-prod log-stream-processor-docker-circleci-prod 2018-09-30T06:11:53 fasterq-dump.2.9.1 err: you have exhausted your space\r\ndata-refinery-log-group-circleci-prod log-stream-processor-docker-circleci-prod 2018-09-30T06:11:53 fasterq-dump.2.9.1 err: copy_machine.c push2q().KQueuePush() -> RC(rcCont,rcQueue,rcInserting,rcQueue,rcReadonly)] [processor_job: 6044]: Processor function _extract_sra failed. Terminating pipeline.\r\ndata-refinery-log-group-circleci-prod log-stream-processor-docker-circleci-prod 2018-09-30 11:24:43,094 i-03b2b1628573bd053 data_refinery_workers.processors.utils ERROR [pipeline_applied: SALMON] [no_retry: False] [failure_reason: 2018-09-30T06:11:52 fasterq-dump.2.9.1 err: unknown while writing file within file system module - unknown system error errno='Cannot allocate memory(12)'\r\ndata-refinery-log-group-circleci-prod log-stream-processor-docker-circleci-prod 2018-09-30T06:11:53 fasterq-dump.2.9.1 err: you have exhausted your space\r\ndata-refinery-log-group-circleci-prod log-stream-processor-docker-circleci-prod 2018-09-30T06:11:53 fasterq-dump.2.9.1 err: copy_machine.c push2q().KQueuePush() -> RC(rcCont,rcQueue,rcInserting,rcQueue,rcReadonly)] [processor_job: 6044]: Processor job failed!\r\n```\r\n\r\nI suggest that we try to add a little bit of intelligence to the Foreman such that errors of this type are retried with high memory limits. The frequence of this type of error is low enough that I think that it'd be more efficient to retry these jobs than to raise the memory requirement for all jobs.\r\n", "reactions": {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/680/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/680/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/675", "repository_url": "https://api.github.com/repos/AlexsLemonade/refinebio", "labels_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/675/labels{/name}", "comments_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/675/comments", "events_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/675/events", "html_url": "https://github.com/AlexsLemonade/refinebio/issues/675", "id": 365011357, "node_id": "MDU6SXNzdWUzNjUwMTEzNTc=", "number": 675, "title": "Redirected to 403 page when I click on Privacy, TOU, and License ", "user": {"login": "dvenprasad", "id": 15315514, "node_id": "MDQ6VXNlcjE1MzE1NTE0", "avatar_url": "https://avatars.githubusercontent.com/u/15315514?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dvenprasad", "html_url": "https://github.com/dvenprasad", "followers_url": "https://api.github.com/users/dvenprasad/followers", "following_url": "https://api.github.com/users/dvenprasad/following{/other_user}", "gists_url": "https://api.github.com/users/dvenprasad/gists{/gist_id}", "starred_url": "https://api.github.com/users/dvenprasad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dvenprasad/subscriptions", "organizations_url": "https://api.github.com/users/dvenprasad/orgs", "repos_url": "https://api.github.com/users/dvenprasad/repos", "events_url": "https://api.github.com/users/dvenprasad/events{/privacy}", "received_events_url": "https://api.github.com/users/dvenprasad/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 559891810, "node_id": "MDU6TGFiZWw1NTk4OTE4MTA=", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 841812379, "node_id": "MDU6TGFiZWw4NDE4MTIzNzk=", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/frontend", "name": "frontend", "color": "fbca04", "default": false, "description": null}, {"id": 1072955382, "node_id": "MDU6TGFiZWwxMDcyOTU1Mzgy", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/production", "name": "production", "color": "e2dd36", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-09-28T19:24:05Z", "updated_at": "2018-09-28T19:29:40Z", "closed_at": "2018-09-28T19:29:40Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Context\r\n\r\nI saw this when I was walking through the production site\r\n\r\n### Problem or idea\r\n\r\nClicking on Privacy, Terms of Use, and License links redirects to a 403 page. \r\n\r\n### Solution or next step\r\nTagging @kurtwheeler and @arielsvn for input. \r\n", "reactions": {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/675/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/675/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/436", "repository_url": "https://api.github.com/repos/AlexsLemonade/refinebio", "labels_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/436/labels{/name}", "comments_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/436/comments", "events_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/436/events", "html_url": "https://github.com/AlexsLemonade/refinebio/issues/436", "id": 343133443, "node_id": "MDU6SXNzdWUzNDMxMzM0NDM=", "number": 436, "title": "Salmon Job Error: ZeroDivisionError: division by zero", "user": {"login": "kurtwheeler", "id": 4026833, "node_id": "MDQ6VXNlcjQwMjY4MzM=", "avatar_url": "https://avatars.githubusercontent.com/u/4026833?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kurtwheeler", "html_url": "https://github.com/kurtwheeler", "followers_url": "https://api.github.com/users/kurtwheeler/followers", "following_url": "https://api.github.com/users/kurtwheeler/following{/other_user}", "gists_url": "https://api.github.com/users/kurtwheeler/gists{/gist_id}", "starred_url": "https://api.github.com/users/kurtwheeler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kurtwheeler/subscriptions", "organizations_url": "https://api.github.com/users/kurtwheeler/orgs", "repos_url": "https://api.github.com/users/kurtwheeler/repos", "events_url": "https://api.github.com/users/kurtwheeler/events{/privacy}", "received_events_url": "https://api.github.com/users/kurtwheeler/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 559891810, "node_id": "MDU6TGFiZWw1NTk4OTE4MTA=", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1002442932, "node_id": "MDU6TGFiZWwxMDAyNDQyOTMy", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/has%20open%20pr", "name": "has open pr", "color": "a5ffa0", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/milestones/17", "html_url": "https://github.com/AlexsLemonade/refinebio/milestone/17", "labels_url": "https://api.github.com/repos/AlexsLemonade/refinebio/milestones/17/labels", "id": 3536138, "node_id": "MDk6TWlsZXN0b25lMzUzNjEzOA==", "number": 17, "title": "Tambourine Tesla", "description": "Public beta", "creator": {"login": "jaclyn-taroni", "id": 19534205, "node_id": "MDQ6VXNlcjE5NTM0MjA1", "avatar_url": "https://avatars.githubusercontent.com/u/19534205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaclyn-taroni", "html_url": "https://github.com/jaclyn-taroni", "followers_url": "https://api.github.com/users/jaclyn-taroni/followers", "following_url": "https://api.github.com/users/jaclyn-taroni/following{/other_user}", "gists_url": "https://api.github.com/users/jaclyn-taroni/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaclyn-taroni/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaclyn-taroni/subscriptions", "organizations_url": "https://api.github.com/users/jaclyn-taroni/orgs", "repos_url": "https://api.github.com/users/jaclyn-taroni/repos", "events_url": "https://api.github.com/users/jaclyn-taroni/events{/privacy}", "received_events_url": "https://api.github.com/users/jaclyn-taroni/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 55, "state": "closed", "created_at": "2018-07-31T16:02:33Z", "updated_at": "2019-06-28T16:19:56Z", "due_on": "2018-09-01T07:00:00Z", "closed_at": "2019-01-14T17:03:12Z"}, "comments": 2, "created_at": "2018-07-20T14:40:20Z", "updated_at": "2018-08-01T14:03:17Z", "closed_at": "2018-08-01T14:03:14Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "https://sentry.io/greenelab/staging-refinebio/issues/613819451/\n\n```\nZeroDivisionError: division by zero\n  File \"data_refinery_workers/processors/utils.py\", line 212, in run_pipeline\n    last_result = processor(last_result)\n  File \"data_refinery_workers/processors/salmon.py\", line 128, in _determine_index_length\n    index_length_raw = total_base_pairs / number_of_reads\n\nUnhandled exception caught while running processor function _determine_index_length in pipeline\n```", "reactions": {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/436/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/436/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/435", "repository_url": "https://api.github.com/repos/AlexsLemonade/refinebio", "labels_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/435/labels{/name}", "comments_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/435/comments", "events_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/435/events", "html_url": "https://github.com/AlexsLemonade/refinebio/issues/435", "id": 343128776, "node_id": "MDU6SXNzdWUzNDMxMjg3NzY=", "number": 435, "title": "A problem occured while downloading!", "user": {"login": "kurtwheeler", "id": 4026833, "node_id": "MDQ6VXNlcjQwMjY4MzM=", "avatar_url": "https://avatars.githubusercontent.com/u/4026833?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kurtwheeler", "html_url": "https://github.com/kurtwheeler", "followers_url": "https://api.github.com/users/kurtwheeler/followers", "following_url": "https://api.github.com/users/kurtwheeler/following{/other_user}", "gists_url": "https://api.github.com/users/kurtwheeler/gists{/gist_id}", "starred_url": "https://api.github.com/users/kurtwheeler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kurtwheeler/subscriptions", "organizations_url": "https://api.github.com/users/kurtwheeler/orgs", "repos_url": "https://api.github.com/users/kurtwheeler/repos", "events_url": "https://api.github.com/users/kurtwheeler/events{/privacy}", "received_events_url": "https://api.github.com/users/kurtwheeler/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 559891810, "node_id": "MDU6TGFiZWw1NTk4OTE4MTA=", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1002442932, "node_id": "MDU6TGFiZWwxMDAyNDQyOTMy", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/has%20open%20pr", "name": "has open pr", "color": "a5ffa0", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/milestones/17", "html_url": "https://github.com/AlexsLemonade/refinebio/milestone/17", "labels_url": "https://api.github.com/repos/AlexsLemonade/refinebio/milestones/17/labels", "id": 3536138, "node_id": "MDk6TWlsZXN0b25lMzUzNjEzOA==", "number": 17, "title": "Tambourine Tesla", "description": "Public beta", "creator": {"login": "jaclyn-taroni", "id": 19534205, "node_id": "MDQ6VXNlcjE5NTM0MjA1", "avatar_url": "https://avatars.githubusercontent.com/u/19534205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaclyn-taroni", "html_url": "https://github.com/jaclyn-taroni", "followers_url": "https://api.github.com/users/jaclyn-taroni/followers", "following_url": "https://api.github.com/users/jaclyn-taroni/following{/other_user}", "gists_url": "https://api.github.com/users/jaclyn-taroni/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaclyn-taroni/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaclyn-taroni/subscriptions", "organizations_url": "https://api.github.com/users/jaclyn-taroni/orgs", "repos_url": "https://api.github.com/users/jaclyn-taroni/repos", "events_url": "https://api.github.com/users/jaclyn-taroni/events{/privacy}", "received_events_url": "https://api.github.com/users/jaclyn-taroni/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 55, "state": "closed", "created_at": "2018-07-31T16:02:33Z", "updated_at": "2019-06-28T16:19:56Z", "due_on": "2018-09-01T07:00:00Z", "closed_at": "2019-01-14T17:03:12Z"}, "comments": 1, "created_at": "2018-07-20T14:27:53Z", "updated_at": "2018-08-01T14:03:10Z", "closed_at": "2018-08-01T14:03:07Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "https://sentry.io/greenelab/staging-refinebio/issues/613757266/\n\n```\nA problem occured while downloading!\n```\n\nThere's not too much more info in Sentry than that. This should be investigated.", "reactions": {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/435/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/435/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/434", "repository_url": "https://api.github.com/repos/AlexsLemonade/refinebio", "labels_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/434/labels{/name}", "comments_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/434/comments", "events_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/434/events", "html_url": "https://github.com/AlexsLemonade/refinebio/issues/434", "id": 343127986, "node_id": "MDU6SXNzdWUzNDMxMjc5ODY=", "number": 434, "title": "Shell call to salmon failed with error message: ### salmon (mapping-based) v0.9.1", "user": {"login": "kurtwheeler", "id": 4026833, "node_id": "MDQ6VXNlcjQwMjY4MzM=", "avatar_url": "https://avatars.githubusercontent.com/u/4026833?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kurtwheeler", "html_url": "https://github.com/kurtwheeler", "followers_url": "https://api.github.com/users/kurtwheeler/followers", "following_url": "https://api.github.com/users/kurtwheeler/following{/other_user}", "gists_url": "https://api.github.com/users/kurtwheeler/gists{/gist_id}", "starred_url": "https://api.github.com/users/kurtwheeler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kurtwheeler/subscriptions", "organizations_url": "https://api.github.com/users/kurtwheeler/orgs", "repos_url": "https://api.github.com/users/kurtwheeler/repos", "events_url": "https://api.github.com/users/kurtwheeler/events{/privacy}", "received_events_url": "https://api.github.com/users/kurtwheeler/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 559891810, "node_id": "MDU6TGFiZWw1NTk4OTE4MTA=", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "kurtwheeler", "id": 4026833, "node_id": "MDQ6VXNlcjQwMjY4MzM=", "avatar_url": "https://avatars.githubusercontent.com/u/4026833?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kurtwheeler", "html_url": "https://github.com/kurtwheeler", "followers_url": "https://api.github.com/users/kurtwheeler/followers", "following_url": "https://api.github.com/users/kurtwheeler/following{/other_user}", "gists_url": "https://api.github.com/users/kurtwheeler/gists{/gist_id}", "starred_url": "https://api.github.com/users/kurtwheeler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kurtwheeler/subscriptions", "organizations_url": "https://api.github.com/users/kurtwheeler/orgs", "repos_url": "https://api.github.com/users/kurtwheeler/repos", "events_url": "https://api.github.com/users/kurtwheeler/events{/privacy}", "received_events_url": "https://api.github.com/users/kurtwheeler/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "kurtwheeler", "id": 4026833, "node_id": "MDQ6VXNlcjQwMjY4MzM=", "avatar_url": "https://avatars.githubusercontent.com/u/4026833?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kurtwheeler", "html_url": "https://github.com/kurtwheeler", "followers_url": "https://api.github.com/users/kurtwheeler/followers", "following_url": "https://api.github.com/users/kurtwheeler/following{/other_user}", "gists_url": "https://api.github.com/users/kurtwheeler/gists{/gist_id}", "starred_url": "https://api.github.com/users/kurtwheeler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kurtwheeler/subscriptions", "organizations_url": "https://api.github.com/users/kurtwheeler/orgs", "repos_url": "https://api.github.com/users/kurtwheeler/repos", "events_url": "https://api.github.com/users/kurtwheeler/events{/privacy}", "received_events_url": "https://api.github.com/users/kurtwheeler/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/milestones/17", "html_url": "https://github.com/AlexsLemonade/refinebio/milestone/17", "labels_url": "https://api.github.com/repos/AlexsLemonade/refinebio/milestones/17/labels", "id": 3536138, "node_id": "MDk6TWlsZXN0b25lMzUzNjEzOA==", "number": 17, "title": "Tambourine Tesla", "description": "Public beta", "creator": {"login": "jaclyn-taroni", "id": 19534205, "node_id": "MDQ6VXNlcjE5NTM0MjA1", "avatar_url": "https://avatars.githubusercontent.com/u/19534205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaclyn-taroni", "html_url": "https://github.com/jaclyn-taroni", "followers_url": "https://api.github.com/users/jaclyn-taroni/followers", "following_url": "https://api.github.com/users/jaclyn-taroni/following{/other_user}", "gists_url": "https://api.github.com/users/jaclyn-taroni/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaclyn-taroni/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaclyn-taroni/subscriptions", "organizations_url": "https://api.github.com/users/jaclyn-taroni/orgs", "repos_url": "https://api.github.com/users/jaclyn-taroni/repos", "events_url": "https://api.github.com/users/jaclyn-taroni/events{/privacy}", "received_events_url": "https://api.github.com/users/jaclyn-taroni/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 55, "state": "closed", "created_at": "2018-07-31T16:02:33Z", "updated_at": "2019-06-28T16:19:56Z", "due_on": "2018-09-01T07:00:00Z", "closed_at": "2019-01-14T17:03:12Z"}, "comments": 4, "created_at": "2018-07-20T14:25:49Z", "updated_at": "2018-08-02T18:27:57Z", "closed_at": "2018-08-02T18:27:54Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "https://sentry.io/greenelab/staging-refinebio/issues/613738208/\n\n```\nShell call to salmon failed with error message: ### salmon (mapping-based) v0.9.1\n### [ program ] => salmon \n### [ command ] => quant \n### [ libType ] => { A }\n### [ index ] => { /home/user/data_store/Homo_sapiens/index }\n### [ unmatedReads ] => { /home/user/data_store/SRP095882/SRS1888280/SRR5137179.fastq.gz }\n### [ threads ] => { 20 }\n### [ output ] => { /home/user/data_store/SRP095882/SRS1888280/processed/ }\n### [ seqBias ] => { }\n### [ dumpEq ] => { }\n### [ writeUnmappedNames ] => { }\nLogs will be written to /home/user/data_store/SRP095882/SRS1888280/processed/logs\n[2018-07-20 08:33:01.237] [jointLog] [info] parsing read library format\n[2018-07-20 08:33:01.237] [jointLog] [info] There is 1 library.\n[2018-07-20 08:33:01.294] [jointLog] [info] Loading Quasi index\n[2018-07-20 08:33:01.299] [jointLog] [info] Loading 32-bit quasi index\n[2018-07-20 08:33:01.305] [stderrLog] [info] Loading Suffix Array \nException : [Failed to read 8 bytes from input stream! Read 0]\nsalmon quant was invoked improperly.\nFor usage information, try salmon quant --help\nExiting.\n```", "reactions": {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/434/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/434/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/433", "repository_url": "https://api.github.com/repos/AlexsLemonade/refinebio", "labels_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/433/labels{/name}", "comments_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/433/comments", "events_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/433/events", "html_url": "https://github.com/AlexsLemonade/refinebio/issues/433", "id": 343127085, "node_id": "MDU6SXNzdWUzNDMxMjcwODU=", "number": 433, "title": "CEL file sent to NO_OP Pipeline", "user": {"login": "kurtwheeler", "id": 4026833, "node_id": "MDQ6VXNlcjQwMjY4MzM=", "avatar_url": "https://avatars.githubusercontent.com/u/4026833?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kurtwheeler", "html_url": "https://github.com/kurtwheeler", "followers_url": "https://api.github.com/users/kurtwheeler/followers", "following_url": "https://api.github.com/users/kurtwheeler/following{/other_user}", "gists_url": "https://api.github.com/users/kurtwheeler/gists{/gist_id}", "starred_url": "https://api.github.com/users/kurtwheeler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kurtwheeler/subscriptions", "organizations_url": "https://api.github.com/users/kurtwheeler/orgs", "repos_url": "https://api.github.com/users/kurtwheeler/repos", "events_url": "https://api.github.com/users/kurtwheeler/events{/privacy}", "received_events_url": "https://api.github.com/users/kurtwheeler/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 559891810, "node_id": "MDU6TGFiZWw1NTk4OTE4MTA=", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/milestones/17", "html_url": "https://github.com/AlexsLemonade/refinebio/milestone/17", "labels_url": "https://api.github.com/repos/AlexsLemonade/refinebio/milestones/17/labels", "id": 3536138, "node_id": "MDk6TWlsZXN0b25lMzUzNjEzOA==", "number": 17, "title": "Tambourine Tesla", "description": "Public beta", "creator": {"login": "jaclyn-taroni", "id": 19534205, "node_id": "MDQ6VXNlcjE5NTM0MjA1", "avatar_url": "https://avatars.githubusercontent.com/u/19534205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaclyn-taroni", "html_url": "https://github.com/jaclyn-taroni", "followers_url": "https://api.github.com/users/jaclyn-taroni/followers", "following_url": "https://api.github.com/users/jaclyn-taroni/following{/other_user}", "gists_url": "https://api.github.com/users/jaclyn-taroni/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaclyn-taroni/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaclyn-taroni/subscriptions", "organizations_url": "https://api.github.com/users/jaclyn-taroni/orgs", "repos_url": "https://api.github.com/users/jaclyn-taroni/repos", "events_url": "https://api.github.com/users/jaclyn-taroni/events{/privacy}", "received_events_url": "https://api.github.com/users/jaclyn-taroni/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 55, "state": "closed", "created_at": "2018-07-31T16:02:33Z", "updated_at": "2019-06-28T16:19:56Z", "due_on": "2018-09-01T07:00:00Z", "closed_at": "2019-01-14T17:03:12Z"}, "comments": 6, "created_at": "2018-07-20T14:23:23Z", "updated_at": "2018-08-14T15:25:02Z", "closed_at": "2018-08-14T15:24:58Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "https://sentry.io/greenelab/staging-refinebio/issues/612485148/\n\n```\nIndexError: list index out of range\n  File \"data_refinery_workers/processors/utils.py\", line 212, in run_pipeline\n    last_result = processor(last_result)\n  File \"data_refinery_workers/processors/no_op.py\", line 57, in _prepare_files\n    float(row[1])\n\nUnhandled exception caught while running processor function _prepare_files in pipeline\n```", "reactions": {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/433/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/433/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/428", "repository_url": "https://api.github.com/repos/AlexsLemonade/refinebio", "labels_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/428/labels{/name}", "comments_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/428/comments", "events_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/428/events", "html_url": "https://github.com/AlexsLemonade/refinebio/issues/428", "id": 343040975, "node_id": "MDU6SXNzdWUzNDMwNDA5NzU=", "number": 428, "title": "Currently all processor jobs fail all the time", "user": {"login": "kurtwheeler", "id": 4026833, "node_id": "MDQ6VXNlcjQwMjY4MzM=", "avatar_url": "https://avatars.githubusercontent.com/u/4026833?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kurtwheeler", "html_url": "https://github.com/kurtwheeler", "followers_url": "https://api.github.com/users/kurtwheeler/followers", "following_url": "https://api.github.com/users/kurtwheeler/following{/other_user}", "gists_url": "https://api.github.com/users/kurtwheeler/gists{/gist_id}", "starred_url": "https://api.github.com/users/kurtwheeler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kurtwheeler/subscriptions", "organizations_url": "https://api.github.com/users/kurtwheeler/orgs", "repos_url": "https://api.github.com/users/kurtwheeler/repos", "events_url": "https://api.github.com/users/kurtwheeler/events{/privacy}", "received_events_url": "https://api.github.com/users/kurtwheeler/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 559891810, "node_id": "MDU6TGFiZWw1NTk4OTE4MTA=", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-07-20T09:41:46Z", "updated_at": "2018-07-30T21:29:57Z", "closed_at": "2018-07-30T21:29:54Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Context\r\n\r\nhttps://github.com/AlexsLemonade/refinebio/pull/346 introduced the `processor` field for ComputationalResult objects. However it didn't populate the `Processor` table, so whenever a job finishes it tries to lookup its pipeline and ends up with an exception because it cannot look up a record that doesn't exist.\r\n\r\nI've worked around this for the short term staging crunch for training purposes by commenting out every line where that property is set.\r\n\r\n### Problem or idea\r\n\r\nWe should enable all of our processor jobs to finish successfully while we wait on the `Processor` table population code.\r\n\r\n### Solution or next step\r\n\r\nRemove the lines of code where this field is set until the lookups will succeed. When we are ready to re-enable it we should implement it in a way such that if for some reason the lookup fails we log it loudly but don't fail the job.\r\n\r\n### New Issue Checklist\r\n\r\n- [x] The title is short and descriptive.\r\n- [x] You have explained the context that led you to write this issue.\r\n- [x] You have reported a problem or idea.\r\n- [x] You have proposed a solution or next step.\r\n", "reactions": {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/428/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/428/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/274", "repository_url": "https://api.github.com/repos/AlexsLemonade/refinebio", "labels_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/274/labels{/name}", "comments_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/274/comments", "events_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/274/events", "html_url": "https://github.com/AlexsLemonade/refinebio/issues/274", "id": 325722061, "node_id": "MDU6SXNzdWUzMjU3MjIwNjE=", "number": 274, "title": "Determine ensembl version via API call rather than hardcoding versions.", "user": {"login": "kurtwheeler", "id": 4026833, "node_id": "MDQ6VXNlcjQwMjY4MzM=", "avatar_url": "https://avatars.githubusercontent.com/u/4026833?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kurtwheeler", "html_url": "https://github.com/kurtwheeler", "followers_url": "https://api.github.com/users/kurtwheeler/followers", "following_url": "https://api.github.com/users/kurtwheeler/following{/other_user}", "gists_url": "https://api.github.com/users/kurtwheeler/gists{/gist_id}", "starred_url": "https://api.github.com/users/kurtwheeler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kurtwheeler/subscriptions", "organizations_url": "https://api.github.com/users/kurtwheeler/orgs", "repos_url": "https://api.github.com/users/kurtwheeler/repos", "events_url": "https://api.github.com/users/kurtwheeler/events{/privacy}", "received_events_url": "https://api.github.com/users/kurtwheeler/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 559891810, "node_id": "MDU6TGFiZWw1NTk4OTE4MTA=", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 807790232, "node_id": "MDU6TGFiZWw4MDc3OTAyMzI=", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/SCIENCE!%20(A.K.A.%20research%20question)", "name": "SCIENCE! (A.K.A. research question)", "color": "5319e7", "default": false, "description": null}, {"id": 917784562, "node_id": "MDU6TGFiZWw5MTc3ODQ1NjI=", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/RNA-seq", "name": "RNA-seq", "color": "bfdadc", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/milestones/10", "html_url": "https://github.com/AlexsLemonade/refinebio/milestone/10", "labels_url": "https://api.github.com/repos/AlexsLemonade/refinebio/milestones/10/labels", "id": 3090622, "node_id": "MDk6TWlsZXN0b25lMzA5MDYyMg==", "number": 10, "title": "Keytar Kurt", "description": "In Keytar Kurt we aim to be able to process ~1 million samples.", "creator": {"login": "kurtwheeler", "id": 4026833, "node_id": "MDQ6VXNlcjQwMjY4MzM=", "avatar_url": "https://avatars.githubusercontent.com/u/4026833?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kurtwheeler", "html_url": "https://github.com/kurtwheeler", "followers_url": "https://api.github.com/users/kurtwheeler/followers", "following_url": "https://api.github.com/users/kurtwheeler/following{/other_user}", "gists_url": "https://api.github.com/users/kurtwheeler/gists{/gist_id}", "starred_url": "https://api.github.com/users/kurtwheeler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kurtwheeler/subscriptions", "organizations_url": "https://api.github.com/users/kurtwheeler/orgs", "repos_url": "https://api.github.com/users/kurtwheeler/repos", "events_url": "https://api.github.com/users/kurtwheeler/events{/privacy}", "received_events_url": "https://api.github.com/users/kurtwheeler/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 44, "state": "closed", "created_at": "2018-02-05T18:36:34Z", "updated_at": "2018-09-25T14:51:35Z", "due_on": "2018-06-15T07:00:00Z", "closed_at": "2018-09-25T14:51:35Z"}, "comments": 4, "created_at": "2018-05-23T14:05:49Z", "updated_at": "2018-06-18T12:50:09Z", "closed_at": "2018-06-18T12:50:09Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Context\r\n\r\nEnsembl released a new version of its API's and this broke our code:https://github.com/AlexsLemonade/refinebio/pull/266#pullrequestreview-122598723\r\n\r\n### Problem or idea\r\n\r\nThe ensembl mailing list replied to the concern I raised about it: http://lists.ensembl.org/pipermail/dev/2018-May/013014.html\r\n\r\nThe upshot is that they do archive the last five releases, but at special URLs. The more useful information is that the current release can be found by hitting http://rest.ensembl.org/info/software?content-type=application/json. So we can harden our code by using that rather than hardcoded version numbers.\r\n\r\n### Solution or next step\r\n\r\nRather than having `MAIN_DIVISION_ASSEMBLY_VERSION` and `OTHER_DIVISIONS_ASSEMBLY_VERSION` hardcoded in `foreman/data_refinery_foreman/surveyor/transcriptome_index.py`, first hit the endpoint to determine the correct version to specify.\r\n\r\nI tagged this as a SCIENCE issue because I think we need @jaclyn-taroni and @cgreene to make sure that automatically using to the latest version of ensembl won't be undesired behavior. I'll note that it's not like we'll automatically reprocess all the organism indices when a new version is released, we'll just use the latest version whenever we do decide to rerun the Index Refinery.\r\n\r\n### New Issue Checklist\r\n\r\n- [x] The title is short and descriptive.\r\n- [x] You have explained the context that led you to write this issue.\r\n- [x] You have reported a problem or idea.\r\n- [x] You have proposed a solution or next step.\r\n", "reactions": {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/274/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/274/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/273", "repository_url": "https://api.github.com/repos/AlexsLemonade/refinebio", "labels_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/273/labels{/name}", "comments_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/273/comments", "events_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/273/events", "html_url": "https://github.com/AlexsLemonade/refinebio/issues/273", "id": 325460552, "node_id": "MDU6SXNzdWUzMjU0NjA1NTI=", "number": 273, "title": "Salmon output files will be overwritten by other samples", "user": {"login": "kurtwheeler", "id": 4026833, "node_id": "MDQ6VXNlcjQwMjY4MzM=", "avatar_url": "https://avatars.githubusercontent.com/u/4026833?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kurtwheeler", "html_url": "https://github.com/kurtwheeler", "followers_url": "https://api.github.com/users/kurtwheeler/followers", "following_url": "https://api.github.com/users/kurtwheeler/following{/other_user}", "gists_url": "https://api.github.com/users/kurtwheeler/gists{/gist_id}", "starred_url": "https://api.github.com/users/kurtwheeler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kurtwheeler/subscriptions", "organizations_url": "https://api.github.com/users/kurtwheeler/orgs", "repos_url": "https://api.github.com/users/kurtwheeler/repos", "events_url": "https://api.github.com/users/kurtwheeler/events{/privacy}", "received_events_url": "https://api.github.com/users/kurtwheeler/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 559891810, "node_id": "MDU6TGFiZWw1NTk4OTE4MTA=", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 842058880, "node_id": "MDU6TGFiZWw4NDIwNTg4ODA=", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/salmon", "name": "salmon", "color": "93abe2", "default": false, "description": null}, {"id": 917784562, "node_id": "MDU6TGFiZWw5MTc3ODQ1NjI=", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/RNA-seq", "name": "RNA-seq", "color": "bfdadc", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "dongbohu", "id": 15133253, "node_id": "MDQ6VXNlcjE1MTMzMjUz", "avatar_url": "https://avatars.githubusercontent.com/u/15133253?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dongbohu", "html_url": "https://github.com/dongbohu", "followers_url": "https://api.github.com/users/dongbohu/followers", "following_url": "https://api.github.com/users/dongbohu/following{/other_user}", "gists_url": "https://api.github.com/users/dongbohu/gists{/gist_id}", "starred_url": "https://api.github.com/users/dongbohu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dongbohu/subscriptions", "organizations_url": "https://api.github.com/users/dongbohu/orgs", "repos_url": "https://api.github.com/users/dongbohu/repos", "events_url": "https://api.github.com/users/dongbohu/events{/privacy}", "received_events_url": "https://api.github.com/users/dongbohu/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "dongbohu", "id": 15133253, "node_id": "MDQ6VXNlcjE1MTMzMjUz", "avatar_url": "https://avatars.githubusercontent.com/u/15133253?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dongbohu", "html_url": "https://github.com/dongbohu", "followers_url": "https://api.github.com/users/dongbohu/followers", "following_url": "https://api.github.com/users/dongbohu/following{/other_user}", "gists_url": "https://api.github.com/users/dongbohu/gists{/gist_id}", "starred_url": "https://api.github.com/users/dongbohu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dongbohu/subscriptions", "organizations_url": "https://api.github.com/users/dongbohu/orgs", "repos_url": "https://api.github.com/users/dongbohu/repos", "events_url": "https://api.github.com/users/dongbohu/events{/privacy}", "received_events_url": "https://api.github.com/users/dongbohu/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/milestones/10", "html_url": "https://github.com/AlexsLemonade/refinebio/milestone/10", "labels_url": "https://api.github.com/repos/AlexsLemonade/refinebio/milestones/10/labels", "id": 3090622, "node_id": "MDk6TWlsZXN0b25lMzA5MDYyMg==", "number": 10, "title": "Keytar Kurt", "description": "In Keytar Kurt we aim to be able to process ~1 million samples.", "creator": {"login": "kurtwheeler", "id": 4026833, "node_id": "MDQ6VXNlcjQwMjY4MzM=", "avatar_url": "https://avatars.githubusercontent.com/u/4026833?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kurtwheeler", "html_url": "https://github.com/kurtwheeler", "followers_url": "https://api.github.com/users/kurtwheeler/followers", "following_url": "https://api.github.com/users/kurtwheeler/following{/other_user}", "gists_url": "https://api.github.com/users/kurtwheeler/gists{/gist_id}", "starred_url": "https://api.github.com/users/kurtwheeler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kurtwheeler/subscriptions", "organizations_url": "https://api.github.com/users/kurtwheeler/orgs", "repos_url": "https://api.github.com/users/kurtwheeler/repos", "events_url": "https://api.github.com/users/kurtwheeler/events{/privacy}", "received_events_url": "https://api.github.com/users/kurtwheeler/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 44, "state": "closed", "created_at": "2018-02-05T18:36:34Z", "updated_at": "2018-09-25T14:51:35Z", "due_on": "2018-06-15T07:00:00Z", "closed_at": "2018-09-25T14:51:35Z"}, "comments": 4, "created_at": "2018-05-22T20:58:21Z", "updated_at": "2018-05-31T20:09:07Z", "closed_at": "2018-05-31T20:09:03Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Context\r\n\r\nThe output directory for salmon jobs is on a per-experiment basis, however the processor jobs are run on a per-sample basis. This means that as each processor job finishes, it will overwrite the `quant.sf` file that was output by any jobs for that experiment which already finished.\r\n\r\n### Problem or idea\r\n\r\nWe need to create per-sample or per-job output directories. The tricky part to this is making them discoverable from either ComputationalResult or ComputedFile objects.\r\n\r\n### Solution or next step\r\n\r\nCreate separate directories for each salmon job so that files won't conflict. Find a way to track these down from database objects.\r\n\r\n### New Issue Checklist\r\n\r\n- [x] The title is short and descriptive.\r\n- [x] You have explained the context that led you to write this issue.\r\n- [x] You have reported a problem or idea.\r\n- [x] You have proposed a solution or next step.\r\n", "reactions": {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/273/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/273/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/40", "repository_url": "https://api.github.com/repos/AlexsLemonade/refinebio", "labels_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/40/labels{/name}", "comments_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/40/comments", "events_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/40/events", "html_url": "https://github.com/AlexsLemonade/refinebio/issues/40", "id": 252006127, "node_id": "MDU6SXNzdWUyNTIwMDYxMjc=", "number": 40, "title": "File extensions aren't treated in a case insensitive manner", "user": {"login": "kurtwheeler", "id": 4026833, "node_id": "MDQ6VXNlcjQwMjY4MzM=", "avatar_url": "https://avatars.githubusercontent.com/u/4026833?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kurtwheeler", "html_url": "https://github.com/kurtwheeler", "followers_url": "https://api.github.com/users/kurtwheeler/followers", "following_url": "https://api.github.com/users/kurtwheeler/following{/other_user}", "gists_url": "https://api.github.com/users/kurtwheeler/gists{/gist_id}", "starred_url": "https://api.github.com/users/kurtwheeler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kurtwheeler/subscriptions", "organizations_url": "https://api.github.com/users/kurtwheeler/orgs", "repos_url": "https://api.github.com/users/kurtwheeler/repos", "events_url": "https://api.github.com/users/kurtwheeler/events{/privacy}", "received_events_url": "https://api.github.com/users/kurtwheeler/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 559891810, "node_id": "MDU6TGFiZWw1NTk4OTE4MTA=", "url": "https://api.github.com/repos/AlexsLemonade/refinebio/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/milestones/9", "html_url": "https://github.com/AlexsLemonade/refinebio/milestone/9", "labels_url": "https://api.github.com/repos/AlexsLemonade/refinebio/milestones/9/labels", "id": 3039847, "node_id": "MDk6TWlsZXN0b25lMzAzOTg0Nw==", "number": 9, "title": "Address backlog of minor issues", "description": "There are a number of outstanding issues which are fairly small. We should address the easy/important ones before launching.", "creator": {"login": "kurtwheeler", "id": 4026833, "node_id": "MDQ6VXNlcjQwMjY4MzM=", "avatar_url": "https://avatars.githubusercontent.com/u/4026833?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kurtwheeler", "html_url": "https://github.com/kurtwheeler", "followers_url": "https://api.github.com/users/kurtwheeler/followers", "following_url": "https://api.github.com/users/kurtwheeler/following{/other_user}", "gists_url": "https://api.github.com/users/kurtwheeler/gists{/gist_id}", "starred_url": "https://api.github.com/users/kurtwheeler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kurtwheeler/subscriptions", "organizations_url": "https://api.github.com/users/kurtwheeler/orgs", "repos_url": "https://api.github.com/users/kurtwheeler/repos", "events_url": "https://api.github.com/users/kurtwheeler/events{/privacy}", "received_events_url": "https://api.github.com/users/kurtwheeler/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 5, "state": "closed", "created_at": "2018-01-16T17:37:37Z", "updated_at": "2018-04-08T11:02:10Z", "due_on": null, "closed_at": "2018-04-08T11:02:10Z"}, "comments": 0, "created_at": "2017-08-22T15:54:42Z", "updated_at": "2018-03-16T20:27:09Z", "closed_at": "2018-03-16T20:27:06Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "This causes a `abc.cel` file to not be treated as a `.CEL` type file. Fixing this would fix some edge cases.", "reactions": {"url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/40/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/AlexsLemonade/refinebio/issues/40/timeline", "performed_via_github_app": null, "state_reason": "completed"}]