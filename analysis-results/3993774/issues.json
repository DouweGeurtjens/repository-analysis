[{"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3441", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3441/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3441/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3441/events", "html_url": "https://github.com/RaRe-Technologies/gensim/pull/3441", "id": 1576080392, "node_id": "PR_kwDOABSYj85Jhfqo", "number": 3441, "title": "fix: conversion of cosine distance to cosine similarity is incorrect", "user": {"login": "monash849", "id": 62815453, "node_id": "MDQ6VXNlcjYyODE1NDUz", "avatar_url": "https://avatars.githubusercontent.com/u/62815453?v=4", "gravatar_id": "", "url": "https://api.github.com/users/monash849", "html_url": "https://github.com/monash849", "followers_url": "https://api.github.com/users/monash849/followers", "following_url": "https://api.github.com/users/monash849/following{/other_user}", "gists_url": "https://api.github.com/users/monash849/gists{/gist_id}", "starred_url": "https://api.github.com/users/monash849/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/monash849/subscriptions", "organizations_url": "https://api.github.com/users/monash849/orgs", "repos_url": "https://api.github.com/users/monash849/repos", "events_url": "https://api.github.com/users/monash849/events{/privacy}", "received_events_url": "https://api.github.com/users/monash849/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/milestones/7", "html_url": "https://github.com/RaRe-Technologies/gensim/milestone/7", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/milestones/7/labels", "id": 8794407, "node_id": "MI_kwDOABSYj84AhjEn", "number": 7, "title": "Next release", "description": "", "creator": {"login": "piskvorky", "id": 610412, "node_id": "MDQ6VXNlcjYxMDQxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/610412?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piskvorky", "html_url": "https://github.com/piskvorky", "followers_url": "https://api.github.com/users/piskvorky/followers", "following_url": "https://api.github.com/users/piskvorky/following{/other_user}", "gists_url": "https://api.github.com/users/piskvorky/gists{/gist_id}", "starred_url": "https://api.github.com/users/piskvorky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piskvorky/subscriptions", "organizations_url": "https://api.github.com/users/piskvorky/orgs", "repos_url": "https://api.github.com/users/piskvorky/repos", "events_url": "https://api.github.com/users/piskvorky/events{/privacy}", "received_events_url": "https://api.github.com/users/piskvorky/received_events", "type": "User", "site_admin": false}, "open_issues": 1, "closed_issues": 12, "state": "open", "created_at": "2022-12-23T19:59:12Z", "updated_at": "2023-04-29T14:57:30Z", "due_on": null, "closed_at": null}, "comments": 2, "created_at": "2023-02-08T13:02:00Z", "updated_at": "2023-03-03T12:02:44Z", "closed_at": "2023-03-03T12:02:43Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/pulls/3441", "html_url": "https://github.com/RaRe-Technologies/gensim/pull/3441", "diff_url": "https://github.com/RaRe-Technologies/gensim/pull/3441.diff", "patch_url": "https://github.com/RaRe-Technologies/gensim/pull/3441.patch", "merged_at": "2023-03-03T12:02:43Z"}, "body": "Fixes #3440 ", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3441/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3441/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3440", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3440/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3440/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3440/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/3440", "id": 1574639251, "node_id": "I_kwDOABSYj85d2xaT", "number": 3440, "title": "annoy.py conversion of cosine distance to cosine similarity is incorrect", "user": {"login": "monash8", "id": 102522920, "node_id": "U_kgDOBhxgKA", "avatar_url": "https://avatars.githubusercontent.com/u/102522920?v=4", "gravatar_id": "", "url": "https://api.github.com/users/monash8", "html_url": "https://github.com/monash8", "followers_url": "https://api.github.com/users/monash8/followers", "following_url": "https://api.github.com/users/monash8/following{/other_user}", "gists_url": "https://api.github.com/users/monash8/gists{/gist_id}", "starred_url": "https://api.github.com/users/monash8/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/monash8/subscriptions", "organizations_url": "https://api.github.com/users/monash8/orgs", "repos_url": "https://api.github.com/users/monash8/repos", "events_url": "https://api.github.com/users/monash8/events{/privacy}", "received_events_url": "https://api.github.com/users/monash8/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 1602334164, "node_id": "MDU6TGFiZWwxNjAyMzM0MTY0", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/impact%20LOW", "name": "impact LOW", "color": "0052cc", "default": false, "description": "Low impact on affected users"}, {"id": 1602340302, "node_id": "MDU6TGFiZWwxNjAyMzQwMzAy", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/reach%20LOW", "name": "reach LOW", "color": "5abc21", "default": false, "description": "Affects only niche use-case users"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/milestones/7", "html_url": "https://github.com/RaRe-Technologies/gensim/milestone/7", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/milestones/7/labels", "id": 8794407, "node_id": "MI_kwDOABSYj84AhjEn", "number": 7, "title": "Next release", "description": "", "creator": {"login": "piskvorky", "id": 610412, "node_id": "MDQ6VXNlcjYxMDQxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/610412?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piskvorky", "html_url": "https://github.com/piskvorky", "followers_url": "https://api.github.com/users/piskvorky/followers", "following_url": "https://api.github.com/users/piskvorky/following{/other_user}", "gists_url": "https://api.github.com/users/piskvorky/gists{/gist_id}", "starred_url": "https://api.github.com/users/piskvorky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piskvorky/subscriptions", "organizations_url": "https://api.github.com/users/piskvorky/orgs", "repos_url": "https://api.github.com/users/piskvorky/repos", "events_url": "https://api.github.com/users/piskvorky/events{/privacy}", "received_events_url": "https://api.github.com/users/piskvorky/received_events", "type": "User", "site_admin": false}, "open_issues": 1, "closed_issues": 12, "state": "open", "created_at": "2022-12-23T19:59:12Z", "updated_at": "2023-04-29T14:57:30Z", "due_on": null, "closed_at": null}, "comments": 4, "created_at": "2023-02-07T16:28:26Z", "updated_at": "2023-03-03T12:02:45Z", "closed_at": "2023-03-03T12:02:45Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "in [this function](https://github.com/RaRe-Technologies/gensim/blob/f35faae7a7b0c3c8586fb61208560522e37e0e7e/gensim/similarities/annoy.py#L169) the code to calculate cosine similarity is incorrect\r\n\r\n    def most_similar(self, vector, num_neighbors):\r\n        \"\"\"Find `num_neighbors` most similar items.\r\n\r\n        Parameters\r\n        ----------\r\n        vector : numpy.array\r\n            Vector for word/document.\r\n        num_neighbors : int\r\n            Number of most similar items\r\n\r\n        Returns\r\n        -------\r\n        list of (str, float)\r\n            List of most similar items in format [(`item`, `cosine_distance`), ... ]\r\n\r\n        \"\"\"\r\n        ids, distances = self.index.get_nns_by_vector(\r\n            vector, num_neighbors, include_distances=True)\r\n\r\n        return [(self.labels[ids[i]], 1 - distances[i] / 2) for i in range(len(ids))]\r\n\r\naccording to annoy documentation `get_nns_by_vector` with `include_distances=True` will return the distances and not the square power of the distance (this was changed since aug 2016):\r\n\r\n_`a.get_distance(i, j)` returns the distance between items i and j. NOTE: this used to return the squared distance, but has been changed as of Aug 2016._\r\n\r\n[link](https://github.com/spotify/annoy#:~:text=a.get_distance(i%2C%20j)%20returns%20the%20distance%20between%20items%20i%20and%20j.%20NOTE%3A%20this%20used%20to%20return%20the%20squared%20distance%2C%20but%20has%20been%20changed%20as%20of%20Aug%202016.)\r\n\r\nalso:\r\nAnnoy uses Euclidean distance of normalized vectors for its angular distance, which for two vectors u,v is equal to sqrt(2(1-cos(u,v)))\r\n[link](https://github.com/spotify/annoy#:~:text=Annoy%20uses%20Euclidean%20distance%20of%20normalized%20vectors%20for%20its%20angular%20distance%2C%20which%20for%20two%20vectors%20u%2Cv%20is%20equal%20to%20sqrt(2(1%2Dcos(u%2Cv))))\r\n\r\nso this means that in order to calculate the cosine similarity correctly we should do this:\r\n`\r\nreturn [(self.labels[ids[i]], 1 - distances[i]^2 / 2) for i in range(len(ids))]\r\n`", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3440/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3440/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3413", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3413/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3413/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3413/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/3413", "id": 1496864750, "node_id": "I_kwDOABSYj85ZOFfu", "number": 3413, "title": "Can not open and score a Word2vec model generated in v3.8.0 in v4.2.0", "user": {"login": "Wats0ns", "id": 12210272, "node_id": "MDQ6VXNlcjEyMjEwMjcy", "avatar_url": "https://avatars.githubusercontent.com/u/12210272?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Wats0ns", "html_url": "https://github.com/Wats0ns", "followers_url": "https://api.github.com/users/Wats0ns/followers", "following_url": "https://api.github.com/users/Wats0ns/following{/other_user}", "gists_url": "https://api.github.com/users/Wats0ns/gists{/gist_id}", "starred_url": "https://api.github.com/users/Wats0ns/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Wats0ns/subscriptions", "organizations_url": "https://api.github.com/users/Wats0ns/orgs", "repos_url": "https://api.github.com/users/Wats0ns/repos", "events_url": "https://api.github.com/users/Wats0ns/events{/privacy}", "received_events_url": "https://api.github.com/users/Wats0ns/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 233081, "node_id": "MDU6TGFiZWwyMzMwODE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20easy", "name": "difficulty easy", "color": "00ff00", "default": false, "description": "Easy issue: required small fix"}, {"id": 721000065, "node_id": "MDU6TGFiZWw3MjEwMDAwNjU=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/good%20first%20issue", "name": "good first issue", "color": "7057ff", "default": true, "description": "Issue for new contributors (not required gensim understanding + very simple)"}, {"id": 1602257032, "node_id": "MDU6TGFiZWwxNjAyMjU3MDMy", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/impact%20HIGH", "name": "impact HIGH", "color": "b60205", "default": false, "description": "Show-stopper for affected users"}, {"id": 1602340302, "node_id": "MDU6TGFiZWwxNjAyMzQwMzAy", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/reach%20LOW", "name": "reach LOW", "color": "5abc21", "default": false, "description": "Affects only niche use-case users"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/milestones/6", "html_url": "https://github.com/RaRe-Technologies/gensim/milestone/6", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/milestones/6/labels", "id": 7945549, "node_id": "MI_kwDOABSYj84AeT1N", "number": 6, "title": "v4.3.0", "description": "", "creator": {"login": "piskvorky", "id": 610412, "node_id": "MDQ6VXNlcjYxMDQxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/610412?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piskvorky", "html_url": "https://github.com/piskvorky", "followers_url": "https://api.github.com/users/piskvorky/followers", "following_url": "https://api.github.com/users/piskvorky/following{/other_user}", "gists_url": "https://api.github.com/users/piskvorky/gists{/gist_id}", "starred_url": "https://api.github.com/users/piskvorky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piskvorky/subscriptions", "organizations_url": "https://api.github.com/users/piskvorky/orgs", "repos_url": "https://api.github.com/users/piskvorky/repos", "events_url": "https://api.github.com/users/piskvorky/events{/privacy}", "received_events_url": "https://api.github.com/users/piskvorky/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 24, "state": "closed", "created_at": "2022-05-05T05:32:34Z", "updated_at": "2022-12-23T19:59:16Z", "due_on": null, "closed_at": "2022-12-23T19:59:16Z"}, "comments": 8, "created_at": "2022-12-14T15:19:20Z", "updated_at": "2022-12-16T13:33:51Z", "closed_at": "2022-12-16T13:12:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Problem description\r\nHello,\r\n\r\nI'm trying to score a sentence in a script using gensim v4.2.0, with a model trained in v3.8.0. However, I meet the error `AttributeError: 'Word2Vec' object has no attribute 'syn1'`\r\n\r\n#### Steps/code/corpus to reproduce\r\n\r\nLink to the model file: https://filetransfer.io/data-package/DIMOegMO#link\r\n\r\n```python\r\nfrom gensim.models import Word2vec\r\nfrom gensim.utils import SaveLoad\r\n\r\nsv = SaveLoad()\r\nmodel = sv.load('test.mdl')\r\nmodel.score(['test'], total_sentences=1)\r\n```\r\n\r\n#### Versions\r\n\r\n\r\n```python\r\n>>> import platform; print(platform.platform())\r\nLinux-5.4.0-135-generic-x86_64-with-Ubuntu-18.04-bionic\r\n>>> import sys; print(\"Python\", sys.version)\r\nPython 3.6.9 (default, Nov 25 2022, 14:10:45) \r\n[GCC 8.4.0]\r\n>>> import struct; print(\"Bits\", 8 * struct.calcsize(\"P\"))\r\nBits 64\r\n>>> import numpy; print(\"NumPy\", numpy.__version__)\r\nNumPy 1.18.3\r\n>>> import scipy; print(\"SciPy\", scipy.__version__)\r\nSciPy 1.4.1\r\n>>> import gensim; print(\"gensim\", gensim.__version__)\r\ngensim 4.2.0\r\n>>> from gensim.models import word2vec;print(\"FAST_VERSION\", word2vec.FAST_VERSION)\r\nFAST_VERSION 1\r\n```\r\n\r\nThanks a lot !\r\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3413/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3413/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3406", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3406/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3406/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3406/events", "html_url": "https://github.com/RaRe-Technologies/gensim/pull/3406", "id": 1455124909, "node_id": "PR_kwDOABSYj85DNaxX", "number": 3406, "title": "Path Coherence Model to correctly handle empty documents", "user": {"login": "PrimozGodec", "id": 6421558, "node_id": "MDQ6VXNlcjY0MjE1NTg=", "avatar_url": "https://avatars.githubusercontent.com/u/6421558?v=4", "gravatar_id": "", "url": "https://api.github.com/users/PrimozGodec", "html_url": "https://github.com/PrimozGodec", "followers_url": "https://api.github.com/users/PrimozGodec/followers", "following_url": "https://api.github.com/users/PrimozGodec/following{/other_user}", "gists_url": "https://api.github.com/users/PrimozGodec/gists{/gist_id}", "starred_url": "https://api.github.com/users/PrimozGodec/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/PrimozGodec/subscriptions", "organizations_url": "https://api.github.com/users/PrimozGodec/orgs", "repos_url": "https://api.github.com/users/PrimozGodec/repos", "events_url": "https://api.github.com/users/PrimozGodec/events{/privacy}", "received_events_url": "https://api.github.com/users/PrimozGodec/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/milestones/6", "html_url": "https://github.com/RaRe-Technologies/gensim/milestone/6", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/milestones/6/labels", "id": 7945549, "node_id": "MI_kwDOABSYj84AeT1N", "number": 6, "title": "v4.3.0", "description": "", "creator": {"login": "piskvorky", "id": 610412, "node_id": "MDQ6VXNlcjYxMDQxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/610412?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piskvorky", "html_url": "https://github.com/piskvorky", "followers_url": "https://api.github.com/users/piskvorky/followers", "following_url": "https://api.github.com/users/piskvorky/following{/other_user}", "gists_url": "https://api.github.com/users/piskvorky/gists{/gist_id}", "starred_url": "https://api.github.com/users/piskvorky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piskvorky/subscriptions", "organizations_url": "https://api.github.com/users/piskvorky/orgs", "repos_url": "https://api.github.com/users/piskvorky/repos", "events_url": "https://api.github.com/users/piskvorky/events{/privacy}", "received_events_url": "https://api.github.com/users/piskvorky/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 24, "state": "closed", "created_at": "2022-05-05T05:32:34Z", "updated_at": "2022-12-23T19:59:16Z", "due_on": null, "closed_at": "2022-12-23T19:59:16Z"}, "comments": 1, "created_at": "2022-11-18T13:28:59Z", "updated_at": "2022-12-06T07:38:42Z", "closed_at": "2022-12-06T07:38:16Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/pulls/3406", "html_url": "https://github.com/RaRe-Technologies/gensim/pull/3406", "diff_url": "https://github.com/RaRe-Technologies/gensim/pull/3406.diff", "patch_url": "https://github.com/RaRe-Technologies/gensim/pull/3406.patch", "merged_at": "2022-12-06T07:38:16Z"}, "body": "Fixes https://github.com/RaRe-Technologies/gensim/issues/3368\r\nBefore https://github.com/RaRe-Technologies/gensim/pull/3197 empty documents were skipped, after changes coherence fails if any document without tokens is in the list.\r\n\r\nFixing to also work when documents without tokens are in the list.\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3406/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3406/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3389", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3389/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3389/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3389/events", "html_url": "https://github.com/RaRe-Technologies/gensim/pull/3389", "id": 1390613257, "node_id": "PR_kwDOABSYj84_1--F", "number": 3389, "title": "Fixed FastTextKeyedVectors handling in add_vector ", "user": {"login": "globba", "id": 114566111, "node_id": "U_kgDOBtQj3w", "avatar_url": "https://avatars.githubusercontent.com/u/114566111?v=4", "gravatar_id": "", "url": "https://api.github.com/users/globba", "html_url": "https://github.com/globba", "followers_url": "https://api.github.com/users/globba/followers", "following_url": "https://api.github.com/users/globba/following{/other_user}", "gists_url": "https://api.github.com/users/globba/gists{/gist_id}", "starred_url": "https://api.github.com/users/globba/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/globba/subscriptions", "organizations_url": "https://api.github.com/users/globba/orgs", "repos_url": "https://api.github.com/users/globba/repos", "events_url": "https://api.github.com/users/globba/events{/privacy}", "received_events_url": "https://api.github.com/users/globba/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/milestones/6", "html_url": "https://github.com/RaRe-Technologies/gensim/milestone/6", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/milestones/6/labels", "id": 7945549, "node_id": "MI_kwDOABSYj84AeT1N", "number": 6, "title": "v4.3.0", "description": "", "creator": {"login": "piskvorky", "id": 610412, "node_id": "MDQ6VXNlcjYxMDQxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/610412?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piskvorky", "html_url": "https://github.com/piskvorky", "followers_url": "https://api.github.com/users/piskvorky/followers", "following_url": "https://api.github.com/users/piskvorky/following{/other_user}", "gists_url": "https://api.github.com/users/piskvorky/gists{/gist_id}", "starred_url": "https://api.github.com/users/piskvorky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piskvorky/subscriptions", "organizations_url": "https://api.github.com/users/piskvorky/orgs", "repos_url": "https://api.github.com/users/piskvorky/repos", "events_url": "https://api.github.com/users/piskvorky/events{/privacy}", "received_events_url": "https://api.github.com/users/piskvorky/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 24, "state": "closed", "created_at": "2022-05-05T05:32:34Z", "updated_at": "2022-12-23T19:59:16Z", "due_on": null, "closed_at": "2022-12-23T19:59:16Z"}, "comments": 4, "created_at": "2022-09-29T10:12:02Z", "updated_at": "2022-12-12T13:40:03Z", "closed_at": "2022-12-12T13:40:03Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/pulls/3389", "html_url": "https://github.com/RaRe-Technologies/gensim/pull/3389", "diff_url": "https://github.com/RaRe-Technologies/gensim/pull/3389.diff", "patch_url": "https://github.com/RaRe-Technologies/gensim/pull/3389.patch", "merged_at": "2022-12-12T13:40:03Z"}, "body": "Fixes issue #3388\r\n\r\nSince Gensim 4.0,`'key' in FastTextKeyedVectors` always returns True by design.\r\nThis resulted in vectors not being added when performing `FastTextKeyedVectors.add_vectors()` due to the way that `in_vocab_mask` was being created.\r\nThe proper way to check if a key already exists is with `'key' in FastTextKeyedVectors.key_to_index`.", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3389/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3389/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3368", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3368/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3368/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3368/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/3368", "id": 1316386971, "node_id": "I_kwDOABSYj85Odnib", "number": 3368, "title": "CoherenceModel does not finish with computing", "user": {"login": "PrimozGodec", "id": 6421558, "node_id": "MDQ6VXNlcjY0MjE1NTg=", "avatar_url": "https://avatars.githubusercontent.com/u/6421558?v=4", "gravatar_id": "", "url": "https://api.github.com/users/PrimozGodec", "html_url": "https://github.com/PrimozGodec", "followers_url": "https://api.github.com/users/PrimozGodec/followers", "following_url": "https://api.github.com/users/PrimozGodec/following{/other_user}", "gists_url": "https://api.github.com/users/PrimozGodec/gists{/gist_id}", "starred_url": "https://api.github.com/users/PrimozGodec/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/PrimozGodec/subscriptions", "organizations_url": "https://api.github.com/users/PrimozGodec/orgs", "repos_url": "https://api.github.com/users/PrimozGodec/repos", "events_url": "https://api.github.com/users/PrimozGodec/events{/privacy}", "received_events_url": "https://api.github.com/users/PrimozGodec/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 233081, "node_id": "MDU6TGFiZWwyMzMwODE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20easy", "name": "difficulty easy", "color": "00ff00", "default": false, "description": "Easy issue: required small fix"}, {"id": 1602257032, "node_id": "MDU6TGFiZWwxNjAyMjU3MDMy", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/impact%20HIGH", "name": "impact HIGH", "color": "b60205", "default": false, "description": "Show-stopper for affected users"}, {"id": 1602340302, "node_id": "MDU6TGFiZWwxNjAyMzQwMzAy", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/reach%20LOW", "name": "reach LOW", "color": "5abc21", "default": false, "description": "Affects only niche use-case users"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/milestones/6", "html_url": "https://github.com/RaRe-Technologies/gensim/milestone/6", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/milestones/6/labels", "id": 7945549, "node_id": "MI_kwDOABSYj84AeT1N", "number": 6, "title": "v4.3.0", "description": "", "creator": {"login": "piskvorky", "id": 610412, "node_id": "MDQ6VXNlcjYxMDQxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/610412?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piskvorky", "html_url": "https://github.com/piskvorky", "followers_url": "https://api.github.com/users/piskvorky/followers", "following_url": "https://api.github.com/users/piskvorky/following{/other_user}", "gists_url": "https://api.github.com/users/piskvorky/gists{/gist_id}", "starred_url": "https://api.github.com/users/piskvorky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piskvorky/subscriptions", "organizations_url": "https://api.github.com/users/piskvorky/orgs", "repos_url": "https://api.github.com/users/piskvorky/repos", "events_url": "https://api.github.com/users/piskvorky/events{/privacy}", "received_events_url": "https://api.github.com/users/piskvorky/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 24, "state": "closed", "created_at": "2022-05-05T05:32:34Z", "updated_at": "2022-12-23T19:59:16Z", "due_on": null, "closed_at": "2022-12-23T19:59:16Z"}, "comments": 5, "created_at": "2022-07-25T07:23:04Z", "updated_at": "2022-12-06T07:38:18Z", "closed_at": "2022-12-06T07:38:17Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Problem description\r\n\r\nWhen computing coherence scores, it newer finishes with computing on a bit bigger dataset. Run the code below (with the provided dataset) to reproduce. \r\n\r\n#### Steps/code/corpus to reproduce\r\n\r\n```python\r\n    with open(\"coherence-bug.pkl\", \"rb\") as f:\r\n        model, tokens = pickle.load(f)\r\n\r\n    print(\"conherence\")\r\n    print(datetime.now())\r\n    t = time.time()\r\n    cm = CoherenceModel(model=model, texts=tokens, coherence=\"c_v\")\r\n    coherence = cm.get_coherence()\r\n    print(time.time() - t)\r\n```\r\n[coherence-bug.pkl.zip](https://github.com/RaRe-Technologies/gensim/files/9178910/coherence-bug.pkl.zip)\r\n\r\n#### Versions\r\n\r\nThe bug appears on Gensim version 4.2, but it does not happen on 4.1.2\r\n\r\nmacOS-10.16-x86_64-i386-64bit\r\nPython 3.8.12 (default, Oct 12 2021, 06:23:56) \r\n[Clang 10.0.0 ]\r\nBits 64\r\nNumPy 1.22.3\r\nSciPy 1.8.1\r\ngensim 4.2.1.dev0\r\nFAST_VERSION 0\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3368/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3368/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3362", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3362/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3362/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3362/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/3362", "id": 1299342700, "node_id": "I_kwDOABSYj85NcmVs", "number": 3362, "title": "Install issue when installing with poetry", "user": {"login": "jaymegordo", "id": 29611875, "node_id": "MDQ6VXNlcjI5NjExODc1", "avatar_url": "https://avatars.githubusercontent.com/u/29611875?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaymegordo", "html_url": "https://github.com/jaymegordo", "followers_url": "https://api.github.com/users/jaymegordo/followers", "following_url": "https://api.github.com/users/jaymegordo/following{/other_user}", "gists_url": "https://api.github.com/users/jaymegordo/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaymegordo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaymegordo/subscriptions", "organizations_url": "https://api.github.com/users/jaymegordo/orgs", "repos_url": "https://api.github.com/users/jaymegordo/repos", "events_url": "https://api.github.com/users/jaymegordo/events{/privacy}", "received_events_url": "https://api.github.com/users/jaymegordo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2022-07-08T18:49:51Z", "updated_at": "2022-12-03T15:34:58Z", "closed_at": "2022-12-03T15:34:58Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "`poetry add gensim`\r\n\r\nhttps://github.com/RaRe-Technologies/gensim/blob/ded78776284ad7b55b6626191eaa8dcea0dd3db0/setup.py#L107\r\n\r\ngetting `AttributeError: 'dict' object has no attribute '__NUMPY_SETUP__'` when trying to install gensim with poetry.\r\n\r\nSeems to work on intel Macs, fails on M1\r\n\r\n```pytb\r\n       Traceback (most recent call last):\r\n          File \"/var/folders/06/vq0z1ctd6yx5c3kgfz1bh4n00000gn/T/tmpgt9xpffh_in_process.py\", line 363, in <module>\r\n            main()\r\n          File \"/var/folders/06/vq0z1ctd6yx5c3kgfz1bh4n00000gn/T/tmpgt9xpffh_in_process.py\", line 345, in main\r\n            json_out['return_val'] = hook(**hook_input['kwargs'])\r\n          File \"/var/folders/06/vq0z1ctd6yx5c3kgfz1bh4n00000gn/T/tmpgt9xpffh_in_process.py\", line 164, in prepare_metadata_for_build_wheel\r\n            return hook(metadata_directory, config_settings)\r\n          File \"/private/var/folders/06/vq0z1ctd6yx5c3kgfz1bh4n00000gn/T/pip-build-env-yx8vfexi/overlay/lib/python3.9/site-packages/setuptools/build_meta.py\", line 188, in prepare_metadata_for_build_wheel\r\n            self.run_setup()\r\n          File \"/private/var/folders/06/vq0z1ctd6yx5c3kgfz1bh4n00000gn/T/pip-build-env-yx8vfexi/overlay/lib/python3.9/site-packages/setuptools/build_meta.py\", line 281, in run_setup\r\n            super(_BuildMetaLegacyBackend,\r\n          File \"/private/var/folders/06/vq0z1ctd6yx5c3kgfz1bh4n00000gn/T/pip-build-env-yx8vfexi/overlay/lib/python3.9/site-packages/setuptools/build_meta.py\", line 174, in run_setup\r\n            exec(compile(code, __file__, 'exec'), locals())\r\n          File \"setup.py\", line 335, in <module>\r\n            setup(\r\n          File \"/private/var/folders/06/vq0z1ctd6yx5c3kgfz1bh4n00000gn/T/pip-build-env-yx8vfexi/overlay/lib/python3.9/site-packages/setuptools/__init__.py\", line 87, in setup\r\n            return distutils.core.setup(**attrs)\r\n          File \"/private/var/folders/06/vq0z1ctd6yx5c3kgfz1bh4n00000gn/T/pip-build-env-yx8vfexi/overlay/lib/python3.9/site-packages/setuptools/_distutils/core.py\", line 177, in setup\r\n            return run_commands(dist)\r\n          File \"/private/var/folders/06/vq0z1ctd6yx5c3kgfz1bh4n00000gn/T/pip-build-env-yx8vfexi/overlay/lib/python3.9/site-packages/setuptools/_distutils/core.py\", line 193, in run_commands\r\n            dist.run_commands()\r\n          File \"/private/var/folders/06/vq0z1ctd6yx5c3kgfz1bh4n00000gn/T/pip-build-env-yx8vfexi/overlay/lib/python3.9/site-packages/setuptools/_distutils/dist.py\", line 968, in run_commands\r\n            self.run_command(cmd)\r\n          File \"/private/var/folders/06/vq0z1ctd6yx5c3kgfz1bh4n00000gn/T/pip-build-env-yx8vfexi/overlay/lib/python3.9/site-packages/setuptools/dist.py\", line 1217, in run_command\r\n            super().run_command(command)\r\n          File \"/private/var/folders/06/vq0z1ctd6yx5c3kgfz1bh4n00000gn/T/pip-build-env-yx8vfexi/overlay/lib/python3.9/site-packages/setuptools/_distutils/dist.py\", line 987, in run_command\r\n            cmd_obj.run()\r\n          File \"/private/var/folders/06/vq0z1ctd6yx5c3kgfz1bh4n00000gn/T/pip-build-env-yx8vfexi/overlay/lib/python3.9/site-packages/setuptools/command/dist_info.py\", line 35, in run\r\n            egg_info.run()\r\n          File \"/private/var/folders/06/vq0z1ctd6yx5c3kgfz1bh4n00000gn/T/pip-build-env-yx8vfexi/overlay/lib/python3.9/site-packages/setuptools/command/egg_info.py\", line 307, in run\r\n            self.find_sources()\r\n          File \"/private/var/folders/06/vq0z1ctd6yx5c3kgfz1bh4n00000gn/T/pip-build-env-yx8vfexi/overlay/lib/python3.9/site-packages/setuptools/command/egg_info.py\", line 314, in find_sources\r\n            mm.run()\r\n          File \"/private/var/folders/06/vq0z1ctd6yx5c3kgfz1bh4n00000gn/T/pip-build-env-yx8vfexi/overlay/lib/python3.9/site-packages/setuptools/command/egg_info.py\", line 549, in run\r\n            self.add_defaults()\r\n          File \"/private/var/folders/06/vq0z1ctd6yx5c3kgfz1bh4n00000gn/T/pip-build-env-yx8vfexi/overlay/lib/python3.9/site-packages/setuptools/command/egg_info.py\", line 586, in add_defaults\r\n            sdist.add_defaults(self)\r\n          File \"/private/var/folders/06/vq0z1ctd6yx5c3kgfz1bh4n00000gn/T/pip-build-env-yx8vfexi/overlay/lib/python3.9/site-packages/setuptools/_distutils/command/sdist.py\", line 252, in add_defaults\r\n            self._add_defaults_ext()\r\n          File \"/private/var/folders/06/vq0z1ctd6yx5c3kgfz1bh4n00000gn/T/pip-build-env-yx8vfexi/overlay/lib/python3.9/site-packages/setuptools/_distutils/command/sdist.py\", line 336, in _add_defaults_ext\r\n            build_ext = self.get_finalized_command('build_ext')\r\n          File \"/private/var/folders/06/vq0z1ctd6yx5c3kgfz1bh4n00000gn/T/pip-build-env-yx8vfexi/overlay/lib/python3.9/site-packages/setuptools/_distutils/cmd.py\", line 304, in get_finalized_command\r\n            cmd_obj.ensure_finalized()\r\n          File \"/private/var/folders/06/vq0z1ctd6yx5c3kgfz1bh4n00000gn/T/pip-build-env-yx8vfexi/overlay/lib/python3.9/site-packages/setuptools/_distutils/cmd.py\", line 107, in ensure_finalized\r\n            self.finalize_options()\r\n          File \"setup.py\", line 107, in finalize_options\r\n            __builtins__.__NUMPY_SETUP__ = False\r\n        AttributeError: 'dict' object has no attribute '__NUMPY_SETUP__'\r\n        [end of output]\r\n```", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3362/reactions", "total_count": 6, "+1": 6, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3362/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3359", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3359/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3359/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3359/events", "html_url": "https://github.com/RaRe-Technologies/gensim/pull/3359", "id": 1279698908, "node_id": "PR_kwDOABSYj846GNuW", "number": 3359, "title": "Fix bug that prevents loading old models", "user": {"login": "funasshi", "id": 54014411, "node_id": "MDQ6VXNlcjU0MDE0NDEx", "avatar_url": "https://avatars.githubusercontent.com/u/54014411?v=4", "gravatar_id": "", "url": "https://api.github.com/users/funasshi", "html_url": "https://github.com/funasshi", "followers_url": "https://api.github.com/users/funasshi/followers", "following_url": "https://api.github.com/users/funasshi/following{/other_user}", "gists_url": "https://api.github.com/users/funasshi/gists{/gist_id}", "starred_url": "https://api.github.com/users/funasshi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/funasshi/subscriptions", "organizations_url": "https://api.github.com/users/funasshi/orgs", "repos_url": "https://api.github.com/users/funasshi/repos", "events_url": "https://api.github.com/users/funasshi/events{/privacy}", "received_events_url": "https://api.github.com/users/funasshi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/milestones/6", "html_url": "https://github.com/RaRe-Technologies/gensim/milestone/6", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/milestones/6/labels", "id": 7945549, "node_id": "MI_kwDOABSYj84AeT1N", "number": 6, "title": "v4.3.0", "description": "", "creator": {"login": "piskvorky", "id": 610412, "node_id": "MDQ6VXNlcjYxMDQxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/610412?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piskvorky", "html_url": "https://github.com/piskvorky", "followers_url": "https://api.github.com/users/piskvorky/followers", "following_url": "https://api.github.com/users/piskvorky/following{/other_user}", "gists_url": "https://api.github.com/users/piskvorky/gists{/gist_id}", "starred_url": "https://api.github.com/users/piskvorky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piskvorky/subscriptions", "organizations_url": "https://api.github.com/users/piskvorky/orgs", "repos_url": "https://api.github.com/users/piskvorky/repos", "events_url": "https://api.github.com/users/piskvorky/events{/privacy}", "received_events_url": "https://api.github.com/users/piskvorky/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 24, "state": "closed", "created_at": "2022-05-05T05:32:34Z", "updated_at": "2022-12-23T19:59:16Z", "due_on": null, "closed_at": "2022-12-23T19:59:16Z"}, "comments": 2, "created_at": "2022-06-22T07:34:38Z", "updated_at": "2022-12-07T02:50:48Z", "closed_at": "2022-12-07T02:50:47Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/pulls/3359", "html_url": "https://github.com/RaRe-Technologies/gensim/pull/3359", "diff_url": "https://github.com/RaRe-Technologies/gensim/pull/3359.diff", "patch_url": "https://github.com/RaRe-Technologies/gensim/pull/3359.patch", "merged_at": "2022-12-07T02:50:47Z"}, "body": "Fixes #3357.\r\n\r\n# Problem\r\nthe model created by gensim 3.8.3 cannot be loaded by load function of gensim 4.2.0 and Attribute error occurs.\r\n\r\n# How to solve \r\nimport Vocab in word2vec.py", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3359/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3359/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3358", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3358/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3358/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3358/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/3358", "id": 1278231858, "node_id": "I_kwDOABSYj85MMEUy", "number": 3358, "title": "Upgraded from version 4.0.1. to 4.2.0, now KeyedVectors.most_similar() throws error", "user": {"login": "brunoj", "id": 6350069, "node_id": "MDQ6VXNlcjYzNTAwNjk=", "avatar_url": "https://avatars.githubusercontent.com/u/6350069?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brunoj", "html_url": "https://github.com/brunoj", "followers_url": "https://api.github.com/users/brunoj/followers", "following_url": "https://api.github.com/users/brunoj/following{/other_user}", "gists_url": "https://api.github.com/users/brunoj/gists{/gist_id}", "starred_url": "https://api.github.com/users/brunoj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brunoj/subscriptions", "organizations_url": "https://api.github.com/users/brunoj/orgs", "repos_url": "https://api.github.com/users/brunoj/repos", "events_url": "https://api.github.com/users/brunoj/events{/privacy}", "received_events_url": "https://api.github.com/users/brunoj/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 234670, "node_id": "MDU6TGFiZWwyMzQ2NzA=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20medium", "name": "difficulty medium", "color": "00d000", "default": false, "description": "Medium issue: required good gensim understanding & python skills"}, {"id": 721000065, "node_id": "MDU6TGFiZWw3MjEwMDAwNjU=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/good%20first%20issue", "name": "good first issue", "color": "7057ff", "default": true, "description": "Issue for new contributors (not required gensim understanding + very simple)"}, {"id": 1602257032, "node_id": "MDU6TGFiZWwxNjAyMjU3MDMy", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/impact%20HIGH", "name": "impact HIGH", "color": "b60205", "default": false, "description": "Show-stopper for affected users"}, {"id": 1602278675, "node_id": "MDU6TGFiZWwxNjAyMjc4Njc1", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/reach%20HIGH", "name": "reach HIGH", "color": "229e03", "default": false, "description": "Affects most or all Gensim users"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2022-06-21T10:24:06Z", "updated_at": "2022-06-21T17:09:59Z", "closed_at": "2022-06-21T17:09:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n**IMPORTANT**:\r\n\r\n- Use the [Gensim mailing list](https://groups.google.com/forum/#!forum/gensim) to ask general or usage questions. Github issues are only for bug reports.\r\n- Check [Recipes&FAQ](https://github.com/RaRe-Technologies/gensim/wiki/Recipes-&-FAQ) first for common answers.\r\n\r\nGithub bug reports that do not include relevant information and context will be closed without an answer. Thanks!\r\n-->\r\n\r\n#### Problem description\r\n\r\nUsing KeyedVectors.most_similar() as follows:\r\n\r\nlearn_language.most_similar(positive=[class_vectors[classname]], negative=[class_vectors[aclassname]], topn=max_topn)\r\n\r\nwhere class_vectors[X] are some vectors created by averaging a number of KeyedVectors (of the size 75 or shape (75,)) from the same KeyedVectors object.\r\n\r\nWORKS perfectly well in version 4.0.1, but on version 4.2.0 throws the following error:\r\n\r\nlearn_language.most_similar(positive=[class_vectors[classname]], negative=[class_vectors[aclassname]], topn=max_topn)\r\n  File \"/usr/local/lib/python3.9/site-packages/gensim/models/keyedvectors.py\", line 842, in most_similar\r\n    mean = self.get_mean_vector(keys, weight, pre_normalize=True, post_normalize=True, ignore_missing=False)\r\n  File \"/usr/local/lib/python3.9/site-packages/gensim/models/keyedvectors.py\", line 512, in get_mean_vector\r\n    mean += weights[idx] * key\r\nValueError: operands could not be broadcast together with shapes (100,) (75,) (100,) \r\n\r\n#### Steps/code/corpus to reproduce\r\n\r\n```python\r\nimport gensim\r\nimport numpy as np\r\nlearn_language = gensim.models.KeyedVectors.load(\"embeddings.english\", mmap=\"r\")\r\nlearn_language.most_similar(positive=[learn_language[\"great\"]], negative=[learn_language[\"terrible\"]], topn=100)\r\n\r\nlearn_language.most_similar(positive=[learn_language[\"great\"]], negative=[learn_language[\"terrible\"]], topn=100)\r\n  File \"/usr/local/lib/python3.9/site-packages/gensim/models/keyedvectors.py\", line 842, in most_similar\r\n    mean = self.get_mean_vector(keys, weight, pre_normalize=True, post_normalize=True, ignore_missing=False)\r\n  File \"/usr/local/lib/python3.9/site-packages/gensim/models/keyedvectors.py\", line 512, in get_mean_vector\r\n    mean += weights[idx] * key\r\nValueError: operands could not be broadcast together with shapes (100,) (75,) (100,) \r\n```\r\n\r\n#### Versions\r\n\r\n>>> import platform; print(platform.platform())\r\nWindows-10-10.0.19041-SP0\r\n>>> import sys; print(\"Python\", sys.version)\r\nPython 3.9.4 (tags/v3.9.4:1f2e308, Apr  6 2021, 13:40:21) [MSC v.1928 64 bit (AMD64)]\r\n>>> import struct; print(\"Bits\", 8 * struct.calcsize(\"P\"))\r\nBits 64\r\n>>> import numpy; print(\"NumPy\", numpy.__version__)\r\nNumPy 1.22.4\r\n>>> import scipy; print(\"SciPy\", scipy.__version__)\r\nSciPy 1.8.1\r\n>>> import gensim; print(\"gensim\", gensim.__version__)\r\ngensim 4.2.0\r\n>>> from gensim.models import word2vec;print(\"FAST_VERSION\", word2vec.FAST_VERSION)\r\nFAST_VERSION 0", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3358/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3358/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3357", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3357/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3357/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3357/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/3357", "id": 1277707984, "node_id": "I_kwDOABSYj85MKEbQ", "number": 3357, "title": "How to load 3.8.3 gensim word2vec model by new version 4.2.0 gensim model", "user": {"login": "Atsuyoshi-Funahashi", "id": 105275688, "node_id": "U_kgDOBkZhKA", "avatar_url": "https://avatars.githubusercontent.com/u/105275688?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Atsuyoshi-Funahashi", "html_url": "https://github.com/Atsuyoshi-Funahashi", "followers_url": "https://api.github.com/users/Atsuyoshi-Funahashi/followers", "following_url": "https://api.github.com/users/Atsuyoshi-Funahashi/following{/other_user}", "gists_url": "https://api.github.com/users/Atsuyoshi-Funahashi/gists{/gist_id}", "starred_url": "https://api.github.com/users/Atsuyoshi-Funahashi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Atsuyoshi-Funahashi/subscriptions", "organizations_url": "https://api.github.com/users/Atsuyoshi-Funahashi/orgs", "repos_url": "https://api.github.com/users/Atsuyoshi-Funahashi/repos", "events_url": "https://api.github.com/users/Atsuyoshi-Funahashi/events{/privacy}", "received_events_url": "https://api.github.com/users/Atsuyoshi-Funahashi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 233081, "node_id": "MDU6TGFiZWwyMzMwODE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20easy", "name": "difficulty easy", "color": "00ff00", "default": false, "description": "Easy issue: required small fix"}, {"id": 1602257032, "node_id": "MDU6TGFiZWwxNjAyMjU3MDMy", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/impact%20HIGH", "name": "impact HIGH", "color": "b60205", "default": false, "description": "Show-stopper for affected users"}, {"id": 1602279836, "node_id": "MDU6TGFiZWwxNjAyMjc5ODM2", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/reach%20MEDIUM", "name": "reach MEDIUM", "color": "ef7a1a", "default": false, "description": "Affects a significant number of users"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/milestones/6", "html_url": "https://github.com/RaRe-Technologies/gensim/milestone/6", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/milestones/6/labels", "id": 7945549, "node_id": "MI_kwDOABSYj84AeT1N", "number": 6, "title": "v4.3.0", "description": "", "creator": {"login": "piskvorky", "id": 610412, "node_id": "MDQ6VXNlcjYxMDQxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/610412?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piskvorky", "html_url": "https://github.com/piskvorky", "followers_url": "https://api.github.com/users/piskvorky/followers", "following_url": "https://api.github.com/users/piskvorky/following{/other_user}", "gists_url": "https://api.github.com/users/piskvorky/gists{/gist_id}", "starred_url": "https://api.github.com/users/piskvorky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piskvorky/subscriptions", "organizations_url": "https://api.github.com/users/piskvorky/orgs", "repos_url": "https://api.github.com/users/piskvorky/repos", "events_url": "https://api.github.com/users/piskvorky/events{/privacy}", "received_events_url": "https://api.github.com/users/piskvorky/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 24, "state": "closed", "created_at": "2022-05-05T05:32:34Z", "updated_at": "2022-12-23T19:59:16Z", "due_on": null, "closed_at": "2022-12-23T19:59:16Z"}, "comments": 6, "created_at": "2022-06-21T02:38:13Z", "updated_at": "2022-12-07T02:50:49Z", "closed_at": "2022-12-07T02:50:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n**IMPORTANT**:\r\n\r\n- Use the [Gensim mailing list](https://groups.google.com/forum/#!forum/gensim) to ask general or usage questions. Github issues are only for bug reports.\r\n- Check [Recipes&FAQ](https://github.com/RaRe-Technologies/gensim/wiki/Recipes-&-FAQ) first for common answers.\r\n\r\nGithub bug reports that do not include relevant information and context will be closed without an answer. Thanks!\r\n-->\r\n\r\n## Problem description\r\n\r\nHi! I have been using gensim 3.8.1 and want to use the latest version, gensim 4.2.0.\r\n\r\nI have been able to load models made with older gensim versions, but when I changed to the latest version, I can no longer load them.\r\nThis is the error code.\r\n\r\n```zsh\r\nException has occurred: AttributeError\r\nCan't get attribute 'Vocab' on <module 'gensim.models.word2vec' from '/PATH'>\r\n```\r\n\r\nI would like to know if there is some way to load older models.\r\n\r\n## Versions\r\n\r\npython 3.8.9\r\ngensim 4.2.0", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3357/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3357/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3336", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3336/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3336/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3336/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/3336", "id": 1215451081, "node_id": "I_kwDOABSYj85Ick_J", "number": 3336, "title": "Parsing Error in Docs", "user": {"login": "MattYoon", "id": 57797966, "node_id": "MDQ6VXNlcjU3Nzk3OTY2", "avatar_url": "https://avatars.githubusercontent.com/u/57797966?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MattYoon", "html_url": "https://github.com/MattYoon", "followers_url": "https://api.github.com/users/MattYoon/followers", "following_url": "https://api.github.com/users/MattYoon/following{/other_user}", "gists_url": "https://api.github.com/users/MattYoon/gists{/gist_id}", "starred_url": "https://api.github.com/users/MattYoon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MattYoon/subscriptions", "organizations_url": "https://api.github.com/users/MattYoon/orgs", "repos_url": "https://api.github.com/users/MattYoon/repos", "events_url": "https://api.github.com/users/MattYoon/events{/privacy}", "received_events_url": "https://api.github.com/users/MattYoon/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 175643, "node_id": "MDU6TGFiZWwxNzU2NDM=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/documentation", "name": "documentation", "color": "02d7e1", "default": true, "description": "Current issue related to documentation"}, {"id": 1602334164, "node_id": "MDU6TGFiZWwxNjAyMzM0MTY0", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/impact%20LOW", "name": "impact LOW", "color": "0052cc", "default": false, "description": "Low impact on affected users"}, {"id": 1602340302, "node_id": "MDU6TGFiZWwxNjAyMzQwMzAy", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/reach%20LOW", "name": "reach LOW", "color": "5abc21", "default": false, "description": "Affects only niche use-case users"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-04-26T06:14:03Z", "updated_at": "2022-04-29T02:54:36Z", "closed_at": "2022-04-29T02:54:36Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Problem description\r\n\r\nThere seems to be a parsing error in [modesl.fasttext,FastTextKeyedVectors docs](https://radimrehurek.com/gensim/models/fasttext.html#gensim.models.fasttext.FastTextKeyedVectors).\r\n\r\nIt is in between `bucket_word` and `__getitem__` attributes.\r\n![doc error](https://user-images.githubusercontent.com/57797966/165233852-fc93c467-3c07-4131-bf9f-59420aa9042a.PNG)\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3336/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3336/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3316", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3316/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3316/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3316/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/3316", "id": 1189486415, "node_id": "I_kwDOABSYj85G5h9P", "number": 3316, "title": "corpora.TextDirectoryCorpus fails on utf-8 encoded files on windows ", "user": {"login": "Sandman-Ren", "id": 14991012, "node_id": "MDQ6VXNlcjE0OTkxMDEy", "avatar_url": "https://avatars.githubusercontent.com/u/14991012?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Sandman-Ren", "html_url": "https://github.com/Sandman-Ren", "followers_url": "https://api.github.com/users/Sandman-Ren/followers", "following_url": "https://api.github.com/users/Sandman-Ren/following{/other_user}", "gists_url": "https://api.github.com/users/Sandman-Ren/gists{/gist_id}", "starred_url": "https://api.github.com/users/Sandman-Ren/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Sandman-Ren/subscriptions", "organizations_url": "https://api.github.com/users/Sandman-Ren/orgs", "repos_url": "https://api.github.com/users/Sandman-Ren/repos", "events_url": "https://api.github.com/users/Sandman-Ren/events{/privacy}", "received_events_url": "https://api.github.com/users/Sandman-Ren/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 233081, "node_id": "MDU6TGFiZWwyMzMwODE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20easy", "name": "difficulty easy", "color": "00ff00", "default": false, "description": "Easy issue: required small fix"}, {"id": 1602334472, "node_id": "MDU6TGFiZWwxNjAyMzM0NDcy", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/impact%20MEDIUM", "name": "impact MEDIUM", "color": "7af49f", "default": false, "description": "Big annoyance for affected users"}, {"id": 1602340302, "node_id": "MDU6TGFiZWwxNjAyMzQwMzAy", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/reach%20LOW", "name": "reach LOW", "color": "5abc21", "default": false, "description": "Affects only niche use-case users"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-04-01T09:04:48Z", "updated_at": "2022-04-15T12:26:04Z", "closed_at": "2022-04-15T12:26:04Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Problem description\r\n\r\nWhat are you trying to achieve? What is the expected result? What are you seeing instead?\r\n\r\nI have a directory of utf-8 encoded files (scraped Reddit submissions selftext i.e. text in reddit posts) in plain text. I wanted to create a corpus using gensim.corpora.TextDirectoryCorpus(<dir_of_scraped_plaintexts>). I expect this to run without error and return a working corpus. I see a UnicodeDecodeError instead: (not to be confused with the UnicodeDecodeError in the [FAQ Q10](https://github.com/RaRe-Technologies/gensim/wiki/Recipes-&-FAQ#q10-loading-a-word2vec-model-fails-with-unicodedecodeerror-utf-8-codec-cant-decode-bytes-in-position-)\r\n\r\n<details> <summary>Stack Trace</summary>\r\n---------------------------------------------------------------------------\r\nUnicodeDecodeError                        Traceback (most recent call last)\r\n~\\AppData\\Local\\Temp\\ipykernel_13728\\103931668.py in <module>\r\n      1 # load all selftext into gensim\r\n      2 all_selftext_dir = Path.cwd() / 'data/all_selftexts'\r\n----> 3 corpus = gensim.corpora.TextDirectoryCorpus(str(all_selftext_dir))\r\n\r\nD:\\Work\\Anaconda\\envs\\cs37\\lib\\site-packages\\gensim\\corpora\\textcorpus.py in __init__(self, input, dictionary, metadata, min_depth, max_depth, pattern, exclude_pattern, lines_are_documents, **kwargs)\r\n    433         self.exclude_pattern = exclude_pattern\r\n    434         self.lines_are_documents = lines_are_documents\r\n--> 435         super(TextDirectoryCorpus, self).__init__(input, dictionary, metadata, **kwargs)\r\n    436 \r\n    437     @property\r\n\r\nD:\\Work\\Anaconda\\envs\\cs37\\lib\\site-packages\\gensim\\corpora\\textcorpus.py in __init__(self, input, dictionary, metadata, character_filters, tokenizer, token_filters)\r\n    181         self.length = None\r\n    182         self.dictionary = None\r\n--> 183         self.init_dictionary(dictionary)\r\n    184 \r\n    185     def init_dictionary(self, dictionary):\r\n\r\nD:\\Work\\Anaconda\\envs\\cs37\\lib\\site-packages\\gensim\\corpora\\textcorpus.py in init_dictionary(self, dictionary)\r\n    203                 metadata_setting = self.metadata\r\n    204                 self.metadata = False\r\n--> 205                 self.dictionary.add_documents(self.get_texts())\r\n    206                 self.metadata = metadata_setting\r\n    207             else:\r\n\r\nD:\\Work\\Anaconda\\envs\\cs37\\lib\\site-packages\\gensim\\corpora\\dictionary.py in add_documents(self, documents, prune_at)\r\n    192 \r\n    193         \"\"\"\r\n--> 194         for docno, document in enumerate(documents):\r\n    195             # log progress & run a regular check for pruning, once every 10k docs\r\n    196             if docno % 10000 == 0:\r\n\r\nD:\\Work\\Anaconda\\envs\\cs37\\lib\\site-packages\\gensim\\corpora\\textcorpus.py in get_texts(self)\r\n    312                 yield self.preprocess_text(line), (lineno,)\r\n    313         else:\r\n--> 314             for line in lines:\r\n    315                 yield self.preprocess_text(line)\r\n    316 \r\n\r\nD:\\Work\\Anaconda\\envs\\cs37\\lib\\site-packages\\gensim\\corpora\\textcorpus.py in getstream(self)\r\n    521                     except Exception as e:\r\n    522                         print(path)\r\n--> 523                         raise e\r\n    524                     num_texts += 1\r\n    525 \r\n\r\nD:\\Work\\Anaconda\\envs\\cs37\\lib\\site-packages\\gensim\\corpora\\textcorpus.py in getstream(self)\r\n    518                 else:\r\n    519                     try:\r\n--> 520                         yield f.read().strip()\r\n    521                     except Exception as e:\r\n    522                         print(path)\r\n\r\nD:\\Work\\Anaconda\\envs\\cs37\\lib\\encodings\\cp1252.py in decode(self, input, final)\r\n     21 class IncrementalDecoder(codecs.IncrementalDecoder):\r\n     22     def decode(self, input, final=False):\r\n---> 23         return codecs.charmap_decode(input,self.errors,decoding_table)[0]\r\n     24 \r\n     25 class StreamWriter(Codec,codecs.StreamWriter):\r\n\r\nUnicodeDecodeError: 'charmap' codec can't decode byte 0x9d in position 1897: character maps to <undefined>\r\n</details>\r\n\r\n#### Steps/code/corpus to reproduce\r\n\r\n**Platform Specific**: this error is reproducible on platforms where ```locale.gerpreferredencoding() == 'cp1252'``` i.e. it is reproducible only on some _Windows_ machines.\r\n\r\nConsider this file: [encoding_err_txt.txt](https://github.com/RaRe-Technologies/gensim/files/8396053/encoding_err_txt.txt)\r\nPlace the above file in an empty directory, then run:\r\n```\r\ngensim.corpora.TextDirectoryCorpus(<path_to_dir>)\r\n```\r\n\r\n#### Versions\r\n```\r\n>>> import platform; print(platform.platform())\r\nWindows-10-10.0.19041-SP0\r\n>>> import sys; print(\"Python\", sys.version)\r\nPython 3.7.10 (default, Feb 26 2021, 13:06:18) [MSC v.1916 64 bit (AMD64)]\r\n>>> import struct; print(\"Bits\", 8 * struct.calcsize(\"P\"))\r\nBits 64\r\n>>> import numpy; print(\"NumPy\", numpy.__version__)\r\nNumPy 1.21.5\r\n>>> import scipy; print(\"SciPy\", scipy.__version__)\r\nSciPy 1.7.3\r\n>>> import gensim; print(\"gensim\", gensim.__version__)\r\ngensim 4.1.2\r\n>>> from gensim.models import word2vec;print(\"FAST_VERSION\", word2vec.FAST_VERSION)\r\nFAST_VERSION 1\r\n```\r\n\r\n#### Additional Note\r\nThis issue seems to be caused by [gensim.corpora.textcorpus.py:513](https://github.com/RaRe-Technologies/gensim/blob/4c941b454a86bdcead2cb1a174e6ec7158253e29/gensim/corpora/textcorpus.py#L513) where TextDirectoryCorpus.getstream() uses the python builtin _open()_ without specifying an _encoding=_ argument. This lets python defaults to using\r\n``` python\r\nlocale.getpreferredencoding(False)\r\n```\r\nfor an encoding to read the file. Unfortunately, on the aforementioned platform, the above line returns _cp1252_ which cannot decode some of the _utf-8_ characters.\r\n\r\n##### Workarounds\r\n_python 3.7 and later_: added [a UTF-8 mode](https://peps.python.org/pep-0540/) where python reads the environment variable \"PYTHONUTF8\" and sets the _sys.flags.utf8_mode_. If _sys.flags.utf8_mode == 1_, then _locale.getpreferredencoding(False) == \"UTF-8\"_ and TextDirectoryCorpus is able to load the file.\r\n\r\nI spent a few hours tinkering around and reading up on some resources (example: [python's utf-8 mode](https://dev.to/methane/python-use-utf-8-mode-on-windows-212i), [changing locale to change the preferred encoding, did not work](https://stackoverflow.com/questions/27437325/windows-python-changing-encoding-using-the-locale-module)) before discovering the above workaround.\r\n\r\nOverall I think this is an easy issue to fix (perhaps by adding an _encoding='utf-8'_ default keyword argument in [TextDirectoryCorpus.\\_\\_init\\_\\_(...)](https://github.com/RaRe-Technologies/gensim/blob/4c941b454a86bdcead2cb1a174e6ec7158253e29/gensim/corpora/textcorpus.py#L401) and _self.encoding_ to [gensim.corpora.textcorpus.py:513](https://github.com/RaRe-Technologies/gensim/blob/4c941b454a86bdcead2cb1a174e6ec7158253e29/gensim/corpora/textcorpus.py#L513)) and does not look like it will break anything. It should greatly increase the usability of TextDirectoryCorpus on Windows platforms.\r\n\r\nThanks \u263a\ufe0f ", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3316/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3316/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3289", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3289/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3289/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3289/events", "html_url": "https://github.com/RaRe-Technologies/gensim/pull/3289", "id": 1143494929, "node_id": "PR_kwDOABSYj84zG2Tv", "number": 3289, "title": "Typos, text and code fix in LDA tutorial", "user": {"login": "davebulaval", "id": 24845694, "node_id": "MDQ6VXNlcjI0ODQ1Njk0", "avatar_url": "https://avatars.githubusercontent.com/u/24845694?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davebulaval", "html_url": "https://github.com/davebulaval", "followers_url": "https://api.github.com/users/davebulaval/followers", "following_url": "https://api.github.com/users/davebulaval/following{/other_user}", "gists_url": "https://api.github.com/users/davebulaval/gists{/gist_id}", "starred_url": "https://api.github.com/users/davebulaval/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davebulaval/subscriptions", "organizations_url": "https://api.github.com/users/davebulaval/orgs", "repos_url": "https://api.github.com/users/davebulaval/repos", "events_url": "https://api.github.com/users/davebulaval/events{/privacy}", "received_events_url": "https://api.github.com/users/davebulaval/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 175643, "node_id": "MDU6TGFiZWwxNzU2NDM=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/documentation", "name": "documentation", "color": "02d7e1", "default": true, "description": "Current issue related to documentation"}], "state": "closed", "locked": false, "assignee": {"login": "mpenkov", "id": 1101396, "node_id": "MDQ6VXNlcjExMDEzOTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1101396?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mpenkov", "html_url": "https://github.com/mpenkov", "followers_url": "https://api.github.com/users/mpenkov/followers", "following_url": "https://api.github.com/users/mpenkov/following{/other_user}", "gists_url": "https://api.github.com/users/mpenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/mpenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mpenkov/subscriptions", "organizations_url": "https://api.github.com/users/mpenkov/orgs", "repos_url": "https://api.github.com/users/mpenkov/repos", "events_url": "https://api.github.com/users/mpenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/mpenkov/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "mpenkov", "id": 1101396, "node_id": "MDQ6VXNlcjExMDEzOTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1101396?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mpenkov", "html_url": "https://github.com/mpenkov", "followers_url": "https://api.github.com/users/mpenkov/followers", "following_url": "https://api.github.com/users/mpenkov/following{/other_user}", "gists_url": "https://api.github.com/users/mpenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/mpenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mpenkov/subscriptions", "organizations_url": "https://api.github.com/users/mpenkov/orgs", "repos_url": "https://api.github.com/users/mpenkov/repos", "events_url": "https://api.github.com/users/mpenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/mpenkov/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/milestones/5", "html_url": "https://github.com/RaRe-Technologies/gensim/milestone/5", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/milestones/5/labels", "id": 6827878, "node_id": "MDk6TWlsZXN0b25lNjgyNzg3OA==", "number": 5, "title": "4.2.0", "description": "", "creator": {"login": "piskvorky", "id": 610412, "node_id": "MDQ6VXNlcjYxMDQxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/610412?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piskvorky", "html_url": "https://github.com/piskvorky", "followers_url": "https://api.github.com/users/piskvorky/followers", "following_url": "https://api.github.com/users/piskvorky/following{/other_user}", "gists_url": "https://api.github.com/users/piskvorky/gists{/gist_id}", "starred_url": "https://api.github.com/users/piskvorky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piskvorky/subscriptions", "organizations_url": "https://api.github.com/users/piskvorky/orgs", "repos_url": "https://api.github.com/users/piskvorky/repos", "events_url": "https://api.github.com/users/piskvorky/events{/privacy}", "received_events_url": "https://api.github.com/users/piskvorky/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 37, "state": "closed", "created_at": "2021-06-06T10:20:31Z", "updated_at": "2022-05-01T16:51:28Z", "due_on": "2022-04-30T07:00:00Z", "closed_at": "2022-05-01T16:51:28Z"}, "comments": 9, "created_at": "2022-02-18T17:54:04Z", "updated_at": "2022-03-22T11:58:00Z", "closed_at": "2022-03-22T11:57:50Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/pulls/3289", "html_url": "https://github.com/RaRe-Technologies/gensim/pull/3289", "diff_url": "https://github.com/RaRe-Technologies/gensim/pull/3289.diff", "patch_url": "https://github.com/RaRe-Technologies/gensim/pull/3289.patch", "merged_at": "2022-03-22T11:57:50Z"}, "body": "This PR fixes the following in all three files format:\r\n\r\n- unused import (`os.path` and `io`)\r\n- Fix some dead code\r\n- Propose some text improvements\r\n\r\nMoreover, the following link is broken [http://rare-technologies.com/lda-training-tips/](http://rare-technologies.com/lda-training-tips/), and I was not able to find the new URL.\r\n\r\n![image](https://user-images.githubusercontent.com/24845694/154736229-921a9c87-900a-4d52-beed-26ecb87ada37.png)\r\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3289/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3289/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3286", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3286/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3286/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3286/events", "html_url": "https://github.com/RaRe-Technologies/gensim/pull/3286", "id": 1124376886, "node_id": "PR_kwDOABSYj84yF5wQ", "number": 3286, "title": "Fixes 'not enough arguments for format string' error", "user": {"login": "gilbertfrancois", "id": 15607023, "node_id": "MDQ6VXNlcjE1NjA3MDIz", "avatar_url": "https://avatars.githubusercontent.com/u/15607023?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gilbertfrancois", "html_url": "https://github.com/gilbertfrancois", "followers_url": "https://api.github.com/users/gilbertfrancois/followers", "following_url": "https://api.github.com/users/gilbertfrancois/following{/other_user}", "gists_url": "https://api.github.com/users/gilbertfrancois/gists{/gist_id}", "starred_url": "https://api.github.com/users/gilbertfrancois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gilbertfrancois/subscriptions", "organizations_url": "https://api.github.com/users/gilbertfrancois/orgs", "repos_url": "https://api.github.com/users/gilbertfrancois/repos", "events_url": "https://api.github.com/users/gilbertfrancois/events{/privacy}", "received_events_url": "https://api.github.com/users/gilbertfrancois/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 233081, "node_id": "MDU6TGFiZWwyMzMwODE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20easy", "name": "difficulty easy", "color": "00ff00", "default": false, "description": "Easy issue: required small fix"}, {"id": 1602334164, "node_id": "MDU6TGFiZWwxNjAyMzM0MTY0", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/impact%20LOW", "name": "impact LOW", "color": "0052cc", "default": false, "description": "Low impact on affected users"}, {"id": 1602340302, "node_id": "MDU6TGFiZWwxNjAyMzQwMzAy", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/reach%20LOW", "name": "reach LOW", "color": "5abc21", "default": false, "description": "Affects only niche use-case users"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/milestones/5", "html_url": "https://github.com/RaRe-Technologies/gensim/milestone/5", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/milestones/5/labels", "id": 6827878, "node_id": "MDk6TWlsZXN0b25lNjgyNzg3OA==", "number": 5, "title": "4.2.0", "description": "", "creator": {"login": "piskvorky", "id": 610412, "node_id": "MDQ6VXNlcjYxMDQxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/610412?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piskvorky", "html_url": "https://github.com/piskvorky", "followers_url": "https://api.github.com/users/piskvorky/followers", "following_url": "https://api.github.com/users/piskvorky/following{/other_user}", "gists_url": "https://api.github.com/users/piskvorky/gists{/gist_id}", "starred_url": "https://api.github.com/users/piskvorky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piskvorky/subscriptions", "organizations_url": "https://api.github.com/users/piskvorky/orgs", "repos_url": "https://api.github.com/users/piskvorky/repos", "events_url": "https://api.github.com/users/piskvorky/events{/privacy}", "received_events_url": "https://api.github.com/users/piskvorky/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 37, "state": "closed", "created_at": "2021-06-06T10:20:31Z", "updated_at": "2022-05-01T16:51:28Z", "due_on": "2022-04-30T07:00:00Z", "closed_at": "2022-05-01T16:51:28Z"}, "comments": 12, "created_at": "2022-02-04T16:17:25Z", "updated_at": "2022-02-25T07:12:29Z", "closed_at": "2022-02-25T07:12:29Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/pulls/3286", "html_url": "https://github.com/RaRe-Technologies/gensim/pull/3286", "diff_url": "https://github.com/RaRe-Technologies/gensim/pull/3286.diff", "patch_url": "https://github.com/RaRe-Technologies/gensim/pull/3286.patch", "merged_at": "2022-02-25T07:12:28Z"}, "body": "For Doc2Vec, when building the vocabulary and the `raw_int` and `corpus_count` are not the same, the log gives a warning. However, the log string expects 4 arguments, but only 3 are given, so the log produces an error, shown below. \r\n\r\nThe fix was to give the difference of `raw_int` and `corpus_count` as the 3rd argument.\r\n\r\n\r\nPart of the stack trace:\r\n```\r\n--- Logging error ---\r\nTraceback (most recent call last):\r\n  File \"/home/ubuntu/.pyenv/versions/3.8.10/lib/python3.8/logging/__init__.py\", line 1085, in emit\r\n    msg = self.format(record)\r\n  File \"/home/ubuntu/.pyenv/versions/3.8.10/lib/python3.8/logging/__init__.py\", line 929, in format\r\n    return fmt.format(record)\r\n  File \"/home/ubuntu/.pyenv/versions/3.8.10/lib/python3.8/logging/__init__.py\", line 668, in format\r\n    record.message = record.getMessage()\r\n  File \"/home/ubuntu/.pyenv/versions/3.8.10/lib/python3.8/logging/__init__.py\", line 373, in getMessage\r\n    msg = msg % self.args\r\nTypeError: not enough arguments for format string\r\nCall stack:\r\n  File \"/home/ubuntu/.pyenv/versions/3.8.10/lib/python3.8/runpy.py\", line 194, in _run_module_as_main\r\n    return _run_code(code, main_globals, None,\r\n...\r\n\r\n...\r\n  File \"/home/ubuntu/.cache/pypoetry/virtualenvs/gilbert-lab-aKPhFkG7-py3.8/lib/python3.8/site-packages/gensim/models/doc2vec.py\", line 993, in _scan_vocab\r\n    logger.warning(\r\nMessage: 'Highest int doctag (%i) larger than count of documents (%i). This means at least %i excess, unused slots (%i bytes) will be allocated for vectors.'\r\nArguments: (60108, 60082, 5200)\r\n\r\n```", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3286/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3286/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3282", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3282/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3282/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3282/events", "html_url": "https://github.com/RaRe-Technologies/gensim/pull/3282", "id": 1088613819, "node_id": "PR_kwDOABSYj84wRiRo", "number": 3282, "title": "Fix `str()` method in WmdSimilarity", "user": {"login": "DingQK", "id": 58072531, "node_id": "MDQ6VXNlcjU4MDcyNTMx", "avatar_url": "https://avatars.githubusercontent.com/u/58072531?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DingQK", "html_url": "https://github.com/DingQK", "followers_url": "https://api.github.com/users/DingQK/followers", "following_url": "https://api.github.com/users/DingQK/following{/other_user}", "gists_url": "https://api.github.com/users/DingQK/gists{/gist_id}", "starred_url": "https://api.github.com/users/DingQK/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DingQK/subscriptions", "organizations_url": "https://api.github.com/users/DingQK/orgs", "repos_url": "https://api.github.com/users/DingQK/repos", "events_url": "https://api.github.com/users/DingQK/events{/privacy}", "received_events_url": "https://api.github.com/users/DingQK/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}], "state": "closed", "locked": false, "assignee": {"login": "mpenkov", "id": 1101396, "node_id": "MDQ6VXNlcjExMDEzOTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1101396?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mpenkov", "html_url": "https://github.com/mpenkov", "followers_url": "https://api.github.com/users/mpenkov/followers", "following_url": "https://api.github.com/users/mpenkov/following{/other_user}", "gists_url": "https://api.github.com/users/mpenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/mpenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mpenkov/subscriptions", "organizations_url": "https://api.github.com/users/mpenkov/orgs", "repos_url": "https://api.github.com/users/mpenkov/repos", "events_url": "https://api.github.com/users/mpenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/mpenkov/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "mpenkov", "id": 1101396, "node_id": "MDQ6VXNlcjExMDEzOTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1101396?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mpenkov", "html_url": "https://github.com/mpenkov", "followers_url": "https://api.github.com/users/mpenkov/followers", "following_url": "https://api.github.com/users/mpenkov/following{/other_user}", "gists_url": "https://api.github.com/users/mpenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/mpenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mpenkov/subscriptions", "organizations_url": "https://api.github.com/users/mpenkov/orgs", "repos_url": "https://api.github.com/users/mpenkov/repos", "events_url": "https://api.github.com/users/mpenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/mpenkov/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/milestones/5", "html_url": "https://github.com/RaRe-Technologies/gensim/milestone/5", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/milestones/5/labels", "id": 6827878, "node_id": "MDk6TWlsZXN0b25lNjgyNzg3OA==", "number": 5, "title": "4.2.0", "description": "", "creator": {"login": "piskvorky", "id": 610412, "node_id": "MDQ6VXNlcjYxMDQxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/610412?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piskvorky", "html_url": "https://github.com/piskvorky", "followers_url": "https://api.github.com/users/piskvorky/followers", "following_url": "https://api.github.com/users/piskvorky/following{/other_user}", "gists_url": "https://api.github.com/users/piskvorky/gists{/gist_id}", "starred_url": "https://api.github.com/users/piskvorky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piskvorky/subscriptions", "organizations_url": "https://api.github.com/users/piskvorky/orgs", "repos_url": "https://api.github.com/users/piskvorky/repos", "events_url": "https://api.github.com/users/piskvorky/events{/privacy}", "received_events_url": "https://api.github.com/users/piskvorky/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 37, "state": "closed", "created_at": "2021-06-06T10:20:31Z", "updated_at": "2022-05-01T16:51:28Z", "due_on": "2022-04-30T07:00:00Z", "closed_at": "2022-05-01T16:51:28Z"}, "comments": 20, "created_at": "2021-12-25T14:56:36Z", "updated_at": "2022-03-30T13:57:27Z", "closed_at": "2022-03-30T13:57:16Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/pulls/3282", "html_url": "https://github.com/RaRe-Technologies/gensim/pull/3282", "diff_url": "https://github.com/RaRe-Technologies/gensim/pull/3282.diff", "patch_url": "https://github.com/RaRe-Technologies/gensim/pull/3282.patch", "merged_at": "2022-03-30T13:57:15Z"}, "body": "This PR fixes #3269 , by updating __str__() function through the using of latest names. The test result is as follows:\r\n\r\n```Python\r\nfrom gensim.models import Word2Vec\r\nfrom gensim.similarities import WmdSimilarity\r\n\r\na = \"Trump\u2019s decision not to join the Trans-Pacific Partnership (TPP) came as little surprise. During his election campaign he railed against international trade deals, blaming them for job losses and focusing anger in the industrial heartland. Obama had argued that this deal would provide an effective counterweight to China in the region.\"\r\nb = \"Trump's decision to withdraw the US from TPP is also a first step in the administration's efforts to amass a governing coalition to push the new President's agenda, one that includes the blue-collar workers who defected from Democrats and flocked to Trump's candidacy in November.\"\r\nc = \"Although the Trans-Pacific Partnership had not been approved by Congress, Mr. Trump\u2019s decision to withdraw not only doomed former President Barack Obama\u2019s signature trade achievement, but also carried broad geopolitical implications in a fast-growing region. The deal, which was to link a dozen nations from Canada and Chile to Australia and Japan in a complex web of trade rules, was sold as a way to permanently tie the United States to East Asia and create an economic bulwark against a rising China.\"\r\n\r\ndef w2v(corpus):\r\n    w2v_model = Word2Vec(corpus, alpha=0.025, vector_size=50,\r\n         window=5, min_count=1, workers=2, epochs=50, sg = 0)\r\n    return w2v_model\r\n\r\ncorpus = \"\\n\".join([a,b,c])\r\nmodel = w2v(corpus)\r\nprint(model, type(model))\r\nprint(WmdSimilarity([a,b,c], model))\r\n\r\n```\r\n![image](https://user-images.githubusercontent.com/58072531/147387675-76b7e282-f1e1-407c-828b-dc74bfe4d966.png)\r\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3282/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3282/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3269", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3269/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3269/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3269/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/3269", "id": 1059435654, "node_id": "I_kwDOABSYj84_JbSG", "number": 3269, "title": "Possible bug in WmdSimilarity", "user": {"login": "tvrbanec", "id": 5420280, "node_id": "MDQ6VXNlcjU0MjAyODA=", "avatar_url": "https://avatars.githubusercontent.com/u/5420280?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tvrbanec", "html_url": "https://github.com/tvrbanec", "followers_url": "https://api.github.com/users/tvrbanec/followers", "following_url": "https://api.github.com/users/tvrbanec/following{/other_user}", "gists_url": "https://api.github.com/users/tvrbanec/gists{/gist_id}", "starred_url": "https://api.github.com/users/tvrbanec/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tvrbanec/subscriptions", "organizations_url": "https://api.github.com/users/tvrbanec/orgs", "repos_url": "https://api.github.com/users/tvrbanec/repos", "events_url": "https://api.github.com/users/tvrbanec/events{/privacy}", "received_events_url": "https://api.github.com/users/tvrbanec/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 233081, "node_id": "MDU6TGFiZWwyMzMwODE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20easy", "name": "difficulty easy", "color": "00ff00", "default": false, "description": "Easy issue: required small fix"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2021-11-21T17:19:37Z", "updated_at": "2022-03-30T13:57:15Z", "closed_at": "2022-03-30T13:57:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n**IMPORTANT**:\r\n\r\n- Use the [Gensim mailing list](https://groups.google.com/forum/#!forum/gensim) to ask general or usage questions. Github issues are only for bug reports.\r\n- Check [Recipes&FAQ](https://github.com/RaRe-Technologies/gensim/wiki/Recipes-&-FAQ) first for common answers.\r\n\r\nGithub bug reports that do not include relevant information and context will be closed without an answer. Thanks!\r\n-->\r\n\r\n#### Problem description\r\n\r\nI wanted to check if WmdSimilarity is any better (it should not be) from multiprocessing wmdistance, but it did not work at all. \r\nSo, I made a little example and the result was exactly the same: AttributeError: 'WmdSimilarity' object has no attribute 'w2v_model'\r\n\r\n\r\n#### Steps/code/corpus to reproduce\r\n\r\n```python\r\nfrom gensim.models import Word2Vec\r\nfrom gensim.similarities import WmdSimilarity\r\n\r\na = \"Trump\u2019s decision not to join the Trans-Pacific Partnership (TPP) came as little surprise. During his election campaign he railed against international trade deals, blaming them for job losses and focusing anger in the industrial heartland. Obama had argued that this deal would provide an effective counterweight to China in the region.\"\r\nb = \"Trump's decision to withdraw the US from TPP is also a first step in the administration's efforts to amass a governing coalition to push the new President's agenda, one that includes the blue-collar workers who defected from Democrats and flocked to Trump's candidacy in November.\"\r\nc = \"Although the Trans-Pacific Partnership had not been approved by Congress, Mr. Trump\u2019s decision to withdraw not only doomed former President Barack Obama\u2019s signature trade achievement, but also carried broad geopolitical implications in a fast-growing region. The deal, which was to link a dozen nations from Canada and Chile to Australia and Japan in a complex web of trade rules, was sold as a way to permanently tie the United States to East Asia and create an economic bulwark against a rising China.\"\r\n\r\ndef w2v(corpus):\r\n    w2v_model = Word2Vec(corpus, alpha=0.025, vector_size=50,\r\n         window=5, min_count=1, workers=2, epochs=50, sg = 0)\r\n    return w2v_model\r\n\r\ncorpus = \"\\n\".join([a,b,c])\r\nmodel = w2v(corpus)\r\nprint(model, type(model))\r\nprint(WmdSimilarity([a,b,c], model))\r\n```\r\n\r\nRESULTS:\r\n\r\n```\r\nWord2Vec(vocab=47, vector_size=50, alpha=0.025) <class 'gensim.models.word2vec.Word2Vec'>\r\nTraceback (most recent call last):\r\n  File \"/home/tedo/diagnose/proba.py\", line 18, in <module>\r\n    print(WmdSimilarity([a,b,c], model))\r\n  File \"/usr/local/lib/python3.9/dist-packages/gensim/similarities/docsim.py\", line 1099, in __str__\r\n    return \"%s<%i docs, %i features>\" % (self.__class__.__name__, len(self), self.w2v_model.wv.syn0.shape[1])\r\nAttributeError: 'WmdSimilarity' object has no attribute 'w2v_model'\r\n```\r\n\r\n#### Versions\r\n\r\nPlease provide the output of:\r\n\r\n```python\r\nimport platform; print(platform.platform())\r\nimport sys; print(\"Python\", sys.version)\r\nimport struct; print(\"Bits\", 8 * struct.calcsize(\"P\"))\r\nimport numpy; print(\"NumPy\", numpy.__version__)\r\nimport scipy; print(\"SciPy\", scipy.__version__)\r\nimport gensim; print(\"gensim\", gensim.__version__)\r\nfrom gensim.models import word2vec;print(\"FAST_VERSION\", word2vec.FAST_VERSION)\r\n```\r\nLinux-5.10.0-9-amd64-x86_64-with-glibc2.31\r\nPython 3.9.2 (default, Feb 28 2021, 17:03:44) \r\n[GCC 10.2.1 20210110]\r\nBits 64\r\nNumPy 1.21.2\r\nSciPy 1.7.1\r\ngensim 4.1.1\r\nFAST_VERSION 1", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3269/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3269/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3266", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3266/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3266/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3266/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/3266", "id": 1048698780, "node_id": "I_kwDOABSYj84-gd-c", "number": 3266, "title": "Incorrect CBOW implementation in Gensim leads to inferior performance", "user": {"login": "piskvorky", "id": 610412, "node_id": "MDQ6VXNlcjYxMDQxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/610412?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piskvorky", "html_url": "https://github.com/piskvorky", "followers_url": "https://api.github.com/users/piskvorky/followers", "following_url": "https://api.github.com/users/piskvorky/following{/other_user}", "gists_url": "https://api.github.com/users/piskvorky/gists{/gist_id}", "starred_url": "https://api.github.com/users/piskvorky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piskvorky/subscriptions", "organizations_url": "https://api.github.com/users/piskvorky/orgs", "repos_url": "https://api.github.com/users/piskvorky/repos", "events_url": "https://api.github.com/users/piskvorky/events{/privacy}", "received_events_url": "https://api.github.com/users/piskvorky/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 234670, "node_id": "MDU6TGFiZWwyMzQ2NzA=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20medium", "name": "difficulty medium", "color": "00d000", "default": false, "description": "Medium issue: required good gensim understanding & python skills"}, {"id": 1602279836, "node_id": "MDU6TGFiZWwxNjAyMjc5ODM2", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/reach%20MEDIUM", "name": "reach MEDIUM", "color": "ef7a1a", "default": false, "description": "Affects a significant number of users"}, {"id": 1602334164, "node_id": "MDU6TGFiZWwxNjAyMzM0MTY0", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/impact%20LOW", "name": "impact LOW", "color": "0052cc", "default": false, "description": "Low impact on affected users"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-11-09T14:51:57Z", "updated_at": "2021-11-15T17:36:33Z", "closed_at": "2021-11-15T17:36:33Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "#### Problem description\r\n\r\nAccording to this article https://aclanthology.org/2021.insights-1.1.pdf:\r\n\r\n<img width=\"636\" alt=\"Screen Shot 2021-11-09 at 15 47 21\" src=\"https://user-images.githubusercontent.com/610412/140945923-7d279468-a9e9-41b4-b7c2-919919832bc5.png\">\r\n\r\n\r\n#### Steps/code/corpus to reproduce\r\n\r\nI haven't tried to verify / reproduce. Gensim's goal is to follow the original C implementation faithfully, which it does. So this is not a bug per se, more a question of \"how whether / how much we want to deviate from the reference implementation\". I'm in favour if the result is unambiguous better (more accurate, faster, no downsides).\r\n\r\n#### Versions\r\n\r\nAll versions since the beginning of word2vec in Gensim.", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3266/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3266/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3235", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3235/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3235/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3235/events", "html_url": "https://github.com/RaRe-Technologies/gensim/pull/3235", "id": 996393643, "node_id": "PR_kwDOABSYj84rv9xV", "number": 3235, "title": "Fix TFIDF docs", "user": {"login": "piskvorky", "id": 610412, "node_id": "MDQ6VXNlcjYxMDQxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/610412?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piskvorky", "html_url": "https://github.com/piskvorky", "followers_url": "https://api.github.com/users/piskvorky/followers", "following_url": "https://api.github.com/users/piskvorky/following{/other_user}", "gists_url": "https://api.github.com/users/piskvorky/gists{/gist_id}", "starred_url": "https://api.github.com/users/piskvorky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piskvorky/subscriptions", "organizations_url": "https://api.github.com/users/piskvorky/orgs", "repos_url": "https://api.github.com/users/piskvorky/repos", "events_url": "https://api.github.com/users/piskvorky/events{/privacy}", "received_events_url": "https://api.github.com/users/piskvorky/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 175643, "node_id": "MDU6TGFiZWwxNzU2NDM=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/documentation", "name": "documentation", "color": "02d7e1", "default": true, "description": "Current issue related to documentation"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-09-14T20:12:59Z", "updated_at": "2021-09-28T14:17:21Z", "closed_at": "2021-09-28T14:17:17Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/pulls/3235", "html_url": "https://github.com/RaRe-Technologies/gensim/pull/3235", "diff_url": "https://github.com/RaRe-Technologies/gensim/pull/3235.diff", "patch_url": "https://github.com/RaRe-Technologies/gensim/pull/3235.patch", "merged_at": "2021-09-28T14:17:17Z"}, "body": "\u2026 plus check whether CI tests run now (the wheel step always failed before 4.1.1).", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3235/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3235/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3232", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3232/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3232/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3232/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/3232", "id": 995075771, "node_id": "MDU6SXNzdWU5OTUwNzU3NzE=", "number": 3232, "title": "Negative exponent with value -1 (minus one) raises error when loading Doc2Vec model", "user": {"login": "edg-stg", "id": 15832109, "node_id": "MDQ6VXNlcjE1ODMyMTA5", "avatar_url": "https://avatars.githubusercontent.com/u/15832109?v=4", "gravatar_id": "", "url": "https://api.github.com/users/edg-stg", "html_url": "https://github.com/edg-stg", "followers_url": "https://api.github.com/users/edg-stg/followers", "following_url": "https://api.github.com/users/edg-stg/following{/other_user}", "gists_url": "https://api.github.com/users/edg-stg/gists{/gist_id}", "starred_url": "https://api.github.com/users/edg-stg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/edg-stg/subscriptions", "organizations_url": "https://api.github.com/users/edg-stg/orgs", "repos_url": "https://api.github.com/users/edg-stg/repos", "events_url": "https://api.github.com/users/edg-stg/events{/privacy}", "received_events_url": "https://api.github.com/users/edg-stg/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 233081, "node_id": "MDU6TGFiZWwyMzMwODE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20easy", "name": "difficulty easy", "color": "00ff00", "default": false, "description": "Easy issue: required small fix"}, {"id": 721000065, "node_id": "MDU6TGFiZWw3MjEwMDAwNjU=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/good%20first%20issue", "name": "good first issue", "color": "7057ff", "default": true, "description": "Issue for new contributors (not required gensim understanding + very simple)"}, {"id": 1602257032, "node_id": "MDU6TGFiZWwxNjAyMjU3MDMy", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/impact%20HIGH", "name": "impact HIGH", "color": "b60205", "default": false, "description": "Show-stopper for affected users"}, {"id": 1602340302, "node_id": "MDU6TGFiZWwxNjAyMzQwMzAy", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/reach%20LOW", "name": "reach LOW", "color": "5abc21", "default": false, "description": "Affects only niche use-case users"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-09-13T16:12:11Z", "updated_at": "2021-10-28T01:18:52Z", "closed_at": "2021-10-28T01:18:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n**IMPORTANT**:\r\n\r\n- Use the [Gensim mailing list](https://groups.google.com/forum/#!forum/gensim) to ask general or usage questions. Github issues are only for bug reports.\r\n- Check [Recipes&FAQ](https://github.com/RaRe-Technologies/gensim/wiki/Recipes-&-FAQ) first for common answers.\r\n\r\nGithub bug reports that do not include relevant information and context will be closed without an answer. Thanks!\r\n-->\r\n\r\n#### Problem description\r\n\r\nI try to vary the value of the negative exponent parameter. When I use a value of -1, training works fine, saving the model too, but when I try to load the model afterwards with Doc2Vec.load() it raises the error \"ValueError: Integers to negative integer powers are not allowed.\"\r\n\r\nThis is due to the following line: https://github.com/RaRe-Technologies/gensim/blob/266a01455ade51a93a08dba5950e87b4d98e0724/gensim/models/word2vec.py#L836\r\n\r\nHere, numpy does not raise an integer by the power of another, but negative integer.\r\n\r\nI guess this could be solved by converting the exponent to a float in this case?\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3232/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3232/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3227", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3227/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3227/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3227/events", "html_url": "https://github.com/RaRe-Technologies/gensim/pull/3227", "id": 986611077, "node_id": "MDExOlB1bGxSZXF1ZXN0NzI1ODAxNTY0", "number": 3227, "title": "Fix FastText doc-comment example for `build_vocab` and `train` to use correct argument names", "user": {"login": "HLasse", "id": 23191638, "node_id": "MDQ6VXNlcjIzMTkxNjM4", "avatar_url": "https://avatars.githubusercontent.com/u/23191638?v=4", "gravatar_id": "", "url": "https://api.github.com/users/HLasse", "html_url": "https://github.com/HLasse", "followers_url": "https://api.github.com/users/HLasse/followers", "following_url": "https://api.github.com/users/HLasse/following{/other_user}", "gists_url": "https://api.github.com/users/HLasse/gists{/gist_id}", "starred_url": "https://api.github.com/users/HLasse/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/HLasse/subscriptions", "organizations_url": "https://api.github.com/users/HLasse/orgs", "repos_url": "https://api.github.com/users/HLasse/repos", "events_url": "https://api.github.com/users/HLasse/events{/privacy}", "received_events_url": "https://api.github.com/users/HLasse/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 175643, "node_id": "MDU6TGFiZWwxNzU2NDM=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/documentation", "name": "documentation", "color": "02d7e1", "default": true, "description": "Current issue related to documentation"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2021-09-02T11:54:42Z", "updated_at": "2021-10-24T05:29:54Z", "closed_at": "2021-10-24T05:29:42Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/pulls/3227", "html_url": "https://github.com/RaRe-Technologies/gensim/pull/3227", "diff_url": "https://github.com/RaRe-Technologies/gensim/pull/3227.diff", "patch_url": "https://github.com/RaRe-Technologies/gensim/pull/3227.patch", "merged_at": "2021-10-24T05:29:41Z"}, "body": "Some of the examples in the documentation for the FastText model are not runnable as they use the `sentences` argument which should be `corpus_iterable` instead.", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3227/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3227/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3158", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3158/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3158/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3158/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/3158", "id": 904640311, "node_id": "MDU6SXNzdWU5MDQ2NDAzMTE=", "number": 3158, "title": "doc2vec's infer_vector has `epochs` and `steps` input parameters - `steps` not in use", "user": {"login": "gohjunlin", "id": 62754326, "node_id": "MDQ6VXNlcjYyNzU0MzI2", "avatar_url": "https://avatars.githubusercontent.com/u/62754326?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gohjunlin", "html_url": "https://github.com/gohjunlin", "followers_url": "https://api.github.com/users/gohjunlin/followers", "following_url": "https://api.github.com/users/gohjunlin/following{/other_user}", "gists_url": "https://api.github.com/users/gohjunlin/gists{/gist_id}", "starred_url": "https://api.github.com/users/gohjunlin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gohjunlin/subscriptions", "organizations_url": "https://api.github.com/users/gohjunlin/orgs", "repos_url": "https://api.github.com/users/gohjunlin/repos", "events_url": "https://api.github.com/users/gohjunlin/events{/privacy}", "received_events_url": "https://api.github.com/users/gohjunlin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 233081, "node_id": "MDU6TGFiZWwyMzMwODE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20easy", "name": "difficulty easy", "color": "00ff00", "default": false, "description": "Easy issue: required small fix"}, {"id": 721000065, "node_id": "MDU6TGFiZWw3MjEwMDAwNjU=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/good%20first%20issue", "name": "good first issue", "color": "7057ff", "default": true, "description": "Issue for new contributors (not required gensim understanding + very simple)"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-05-28T03:40:01Z", "updated_at": "2021-06-29T00:55:42Z", "closed_at": "2021-06-29T00:55:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "Refer to doc2vec.py, `infer_vector` function seems to be using `epochs` for the number of iterations and `steps` is not in used.\r\n\r\nHowever, in the `similarity_unseen_docs` function, `steps` is used when calling the infer_vector function.\r\n\r\n![image](https://user-images.githubusercontent.com/62754326/119926239-9085d400-bfa9-11eb-838b-dae98da26c3f.png)\r\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3158/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3158/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3144", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3144/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3144/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3144/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/3144", "id": 892507376, "node_id": "MDU6SXNzdWU4OTI1MDczNzY=", "number": 3144, "title": "Fix documentation link to mycorpus.txt download", "user": {"login": "rohit901", "id": 30185369, "node_id": "MDQ6VXNlcjMwMTg1MzY5", "avatar_url": "https://avatars.githubusercontent.com/u/30185369?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rohit901", "html_url": "https://github.com/rohit901", "followers_url": "https://api.github.com/users/rohit901/followers", "following_url": "https://api.github.com/users/rohit901/following{/other_user}", "gists_url": "https://api.github.com/users/rohit901/gists{/gist_id}", "starred_url": "https://api.github.com/users/rohit901/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rohit901/subscriptions", "organizations_url": "https://api.github.com/users/rohit901/orgs", "repos_url": "https://api.github.com/users/rohit901/repos", "events_url": "https://api.github.com/users/rohit901/events{/privacy}", "received_events_url": "https://api.github.com/users/rohit901/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 175643, "node_id": "MDU6TGFiZWwxNzU2NDM=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/documentation", "name": "documentation", "color": "02d7e1", "default": true, "description": "Current issue related to documentation"}, {"id": 233081, "node_id": "MDU6TGFiZWwyMzMwODE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20easy", "name": "difficulty easy", "color": "00ff00", "default": false, "description": "Easy issue: required small fix"}, {"id": 1602334164, "node_id": "MDU6TGFiZWwxNjAyMzM0MTY0", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/impact%20LOW", "name": "impact LOW", "color": "0052cc", "default": false, "description": "Low impact on affected users"}, {"id": 1602340302, "node_id": "MDU6TGFiZWwxNjAyMzQwMzAy", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/reach%20LOW", "name": "reach LOW", "color": "5abc21", "default": false, "description": "Affects only niche use-case users"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-05-15T18:12:30Z", "updated_at": "2021-06-01T01:46:13Z", "closed_at": "2021-06-01T01:46:13Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "<!--\r\n**IMPORTANT**:\r\n\r\n- Use the [Gensim mailing list](https://groups.google.com/forum/#!forum/gensim) to ask general or usage questions. Github issues are only for bug reports.\r\n- Check [Recipes&FAQ](https://github.com/RaRe-Technologies/gensim/wiki/Recipes-&-FAQ) first for common answers.\r\n\r\nGithub bug reports that do not include relevant information and context will be closed without an answer. Thanks!\r\n-->\r\n\r\n#### Problem description\r\n\r\nTrying to reproduce Corpora and Vector Space tutorial given in the documentation, but the link to download txt file is not working. The link given in the tutorial [here](https://radimrehurek.com/gensim/auto_examples/core/run_corpora_and_vector_spaces.html#corpus-streaming-one-document-at-a-time) is giving 404 error.\r\n\r\n#### Steps/code/corpus to reproduce\r\n\r\nJust visit this [link](https://radimrehurek.com/gensim/mycorpus.txt) which is used in the code given in the documentation, it is not working.\r\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3144/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3144/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3137", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3137/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3137/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3137/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/3137", "id": 884340240, "node_id": "MDU6SXNzdWU4ODQzNDAyNDA=", "number": 3137, "title": "Minimum required numpy version needs to be bumped to 1.17.0", "user": {"login": "shakhat", "id": 2250646, "node_id": "MDQ6VXNlcjIyNTA2NDY=", "avatar_url": "https://avatars.githubusercontent.com/u/2250646?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shakhat", "html_url": "https://github.com/shakhat", "followers_url": "https://api.github.com/users/shakhat/followers", "following_url": "https://api.github.com/users/shakhat/following{/other_user}", "gists_url": "https://api.github.com/users/shakhat/gists{/gist_id}", "starred_url": "https://api.github.com/users/shakhat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shakhat/subscriptions", "organizations_url": "https://api.github.com/users/shakhat/orgs", "repos_url": "https://api.github.com/users/shakhat/repos", "events_url": "https://api.github.com/users/shakhat/events{/privacy}", "received_events_url": "https://api.github.com/users/shakhat/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 175986, "node_id": "MDU6TGFiZWwxNzU5ODY=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/testing", "name": "testing", "color": "444444", "default": false, "description": "Issue related with testing (code, documentation, etc)"}, {"id": 1602334164, "node_id": "MDU6TGFiZWwxNjAyMzM0MTY0", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/impact%20LOW", "name": "impact LOW", "color": "0052cc", "default": false, "description": "Low impact on affected users"}, {"id": 1602340302, "node_id": "MDU6TGFiZWwxNjAyMzQwMzAy", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/reach%20LOW", "name": "reach LOW", "color": "5abc21", "default": false, "description": "Affects only niche use-case users"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-05-10T14:24:11Z", "updated_at": "2021-09-14T11:12:22Z", "closed_at": "2021-09-14T11:12:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n**IMPORTANT**:\r\n\r\n- Use the [Gensim mailing list](https://groups.google.com/forum/#!forum/gensim) to ask general or usage questions. Github issues are only for bug reports.\r\n- Check [Recipes&FAQ](https://github.com/RaRe-Technologies/gensim/wiki/Recipes-&-FAQ) first for common answers.\r\n\r\nGithub bug reports that do not include relevant information and context will be closed without an answer. Thanks!\r\n-->\r\n\r\n#### Problem description\r\n\r\ngensim is declared to work with numpy >= 1.11.3, however it doesn't work with any version below 1.17.0.\r\n\r\n#### Steps/code/corpus to reproduce\r\n\r\nInstall gensim and non-recent version of numpy:\r\n\r\n```bash\r\n$ pip install \"numpy<1.17.0\" gensim\r\n```\r\n\r\nRun python interpreter with the following code\r\n```python\r\n>>> import gensim\r\n```\r\n\r\nObserved error:\r\n```\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/private/tmp/.venv/lib/python3.7/site-packages/gensim/__init__.py\", line 11, in <module>\r\n    from gensim import parsing, corpora, matutils, interfaces, models, similarities, utils  # noqa:F401\r\n  File \"/private/tmp/.venv/lib/python3.7/site-packages/gensim/parsing/__init__.py\", line 4, in <module>\r\n    from .preprocessing import (remove_stopwords, strip_punctuation, strip_punctuation2,  # noqa:F401\r\n  File \"/private/tmp/.venv/lib/python3.7/site-packages/gensim/parsing/preprocessing.py\", line 26, in <module>\r\n    from gensim import utils\r\n  File \"/private/tmp/.venv/lib/python3.7/site-packages/gensim/utils.py\", line 62, in <module>\r\n    default_prng = np.random.default_rng()\r\nAttributeError: module 'numpy.random' has no attribute 'default_rng'\r\n```\r\n\r\nThe solution is to bump the minimum version of numpy to be at least 1.17.0: https://github.com/RaRe-Technologies/gensim/blob/develop/setup.py#L318\r\n\r\n#### Versions\r\n\r\n```\r\n>>> import numpy; print(\"NumPy\", numpy.__version__)\r\nNumPy 1.16.6\r\n>>> import scipy; print(\"SciPy\", scipy.__version__)\r\nSciPy 1.6.3\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3137/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3137/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3130", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3130/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3130/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3130/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/3130", "id": 871170405, "node_id": "MDU6SXNzdWU4NzExNzA0MDU=", "number": 3130, "title": "NameError: name 'Nmf' is not defined", "user": {"login": "rodrigo-92", "id": 32023142, "node_id": "MDQ6VXNlcjMyMDIzMTQy", "avatar_url": "https://avatars.githubusercontent.com/u/32023142?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rodrigo-92", "html_url": "https://github.com/rodrigo-92", "followers_url": "https://api.github.com/users/rodrigo-92/followers", "following_url": "https://api.github.com/users/rodrigo-92/following{/other_user}", "gists_url": "https://api.github.com/users/rodrigo-92/gists{/gist_id}", "starred_url": "https://api.github.com/users/rodrigo-92/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rodrigo-92/subscriptions", "organizations_url": "https://api.github.com/users/rodrigo-92/orgs", "repos_url": "https://api.github.com/users/rodrigo-92/repos", "events_url": "https://api.github.com/users/rodrigo-92/events{/privacy}", "received_events_url": "https://api.github.com/users/rodrigo-92/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 175643, "node_id": "MDU6TGFiZWwxNzU2NDM=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/documentation", "name": "documentation", "color": "02d7e1", "default": true, "description": "Current issue related to documentation"}, {"id": 233081, "node_id": "MDU6TGFiZWwyMzMwODE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20easy", "name": "difficulty easy", "color": "00ff00", "default": false, "description": "Easy issue: required small fix"}, {"id": 1602334164, "node_id": "MDU6TGFiZWwxNjAyMzM0MTY0", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/impact%20LOW", "name": "impact LOW", "color": "0052cc", "default": false, "description": "Low impact on affected users"}, {"id": 1602340302, "node_id": "MDU6TGFiZWwxNjAyMzQwMzAy", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/reach%20LOW", "name": "reach LOW", "color": "5abc21", "default": false, "description": "Affects only niche use-case users"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2021-04-29T15:45:55Z", "updated_at": "2021-05-08T05:24:38Z", "closed_at": "2021-05-08T05:24:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Problem description\r\n\r\nTrying to run NMF using gensim, but it doesn't work.\r\n\r\n#### Steps/code/corpus to reproduce\r\n\r\nI tried to run what documentation suggests:\r\n\r\n```python\r\nfrom gensim.test.utils import common_texts\r\nfrom gensim.corpora.dictionary import Dictionary\r\n\r\n# Create a corpus from a list of texts\r\ncommon_dictionary = Dictionary(common_texts)\r\ncommon_corpus = [common_dictionary.doc2bow(text) for text in common_texts]\r\n\r\n# Train the model on the corpus.\r\nnmf = Nmf(common_corpus, num_topics=10)\r\n```\r\nbut it throws the error in subject. \r\n\r\nI tried to inspect the package and it seems it's not installed or doesn't exist. I don't understand why.\r\n\r\n#### Versions\r\n\r\ngensim 3.8.3\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3130/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3130/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3095", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3095/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3095/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3095/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/3095", "id": 844222847, "node_id": "MDU6SXNzdWU4NDQyMjI4NDc=", "number": 3095, "title": "import gensim fails on Windows with numpy 1.19.5", "user": {"login": "Bomme", "id": 13520622, "node_id": "MDQ6VXNlcjEzNTIwNjIy", "avatar_url": "https://avatars.githubusercontent.com/u/13520622?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Bomme", "html_url": "https://github.com/Bomme", "followers_url": "https://api.github.com/users/Bomme/followers", "following_url": "https://api.github.com/users/Bomme/following{/other_user}", "gists_url": "https://api.github.com/users/Bomme/gists{/gist_id}", "starred_url": "https://api.github.com/users/Bomme/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Bomme/subscriptions", "organizations_url": "https://api.github.com/users/Bomme/orgs", "repos_url": "https://api.github.com/users/Bomme/repos", "events_url": "https://api.github.com/users/Bomme/events{/privacy}", "received_events_url": "https://api.github.com/users/Bomme/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 1602257032, "node_id": "MDU6TGFiZWwxNjAyMjU3MDMy", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/impact%20HIGH", "name": "impact HIGH", "color": "b60205", "default": false, "description": "Show-stopper for affected users"}, {"id": 1602278675, "node_id": "MDU6TGFiZWwxNjAyMjc4Njc1", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/reach%20HIGH", "name": "reach HIGH", "color": "229e03", "default": false, "description": "Affects most or all Gensim users"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2021-03-30T08:27:38Z", "updated_at": "2021-04-01T15:58:40Z", "closed_at": "2021-04-01T15:58:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n**IMPORTANT**:\r\n\r\n- Use the [Gensim mailing list](https://groups.google.com/forum/#!forum/gensim) to ask general or usage questions. Github issues are only for bug reports.\r\n- Check [Recipes&FAQ](https://github.com/RaRe-Technologies/gensim/wiki/Recipes-&-FAQ) first for common answers.\r\n\r\nGithub bug reports that do not include relevant information and context will be closed without an answer. Thanks!\r\n-->\r\n\r\n#### Problem description\r\n\r\nAfter I upgraded to gensim `4.0.0` from `4.0.0beta`, I was no longer able to do `import gensim` (see numpy error message below). When I upgraded to numpy `1.20.2` the problem was solved.\r\n\r\n#### Steps/code/corpus to reproduce\r\n\r\n```\r\nPython 3.8.6 (tags/v3.8.6:db45529, Sep 23 2020, 15:52:53) [MSC v.1927 64 bit (AMD64)] on win32\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> import gensim\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"C:\\Users\\user\\Dev\\code\\venv\\lib\\site-packages\\gensim\\__init__.py\", line 11, in <module>\r\n    from gensim import parsing, corpora, matutils, interfaces, models, similarities, utils  # noqa:F401\r\n  File \"C:\\Users\\user\\Dev\\code\\venv\\lib\\site-packages\\gensim\\corpora\\__init__.py\", line 6, in <module>\r\n    from .indexedcorpus import IndexedCorpus  # noqa:F401 must appear before the other classes\r\n  File \"C:\\Users\\user\\Dev\\code\\venv\\lib\\site-packages\\gensim\\corpora\\indexedcorpus.py\", line 14, in <module>\r\n    from gensim import interfaces, utils\r\n  File \"C:\\Users\\user\\Dev\\code\\venv\\lib\\site-packages\\gensim\\interfaces.py\", line 19, in <module>\r\n    from gensim import utils, matutils\r\n  File \"C:\\Users\\user\\Dev\\code\\venv\\lib\\site-packages\\gensim\\matutils.py\", line 1024, in <module>\r\n    from gensim._matutils import logsumexp, mean_absolute_difference, dirichlet_expectation\r\n  File \"gensim\\_matutils.pyx\", line 1, in init gensim._matutils\r\nValueError: numpy.ndarray size changed, may indicate binary incompatibility. Expected 88 from C header, got 80 from PyObject\r\n>>>\r\n```\r\n\r\n#### Versions\r\n\r\n\r\n```\r\nWindows-10-10.0.19041-SP0\r\nPython 3.8.6 (tags/v3.8.6:db45529, Sep 23 2020, 15:52:53) [MSC v.1927 64 bit (AMD64)] on win32\r\nBits 64\r\n\r\nNumPy 1.19.5\r\nscipy 1.6.0\r\ngensim 4.0.0\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3095/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3095/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3067", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3067/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3067/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3067/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/3067", "id": 826230908, "node_id": "MDU6SXNzdWU4MjYyMzA5MDg=", "number": 3067, "title": "Update WMD documentation", "user": {"login": "piskvorky", "id": 610412, "node_id": "MDQ6VXNlcjYxMDQxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/610412?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piskvorky", "html_url": "https://github.com/piskvorky", "followers_url": "https://api.github.com/users/piskvorky/followers", "following_url": "https://api.github.com/users/piskvorky/following{/other_user}", "gists_url": "https://api.github.com/users/piskvorky/gists{/gist_id}", "starred_url": "https://api.github.com/users/piskvorky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piskvorky/subscriptions", "organizations_url": "https://api.github.com/users/piskvorky/orgs", "repos_url": "https://api.github.com/users/piskvorky/repos", "events_url": "https://api.github.com/users/piskvorky/events{/privacy}", "received_events_url": "https://api.github.com/users/piskvorky/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 175643, "node_id": "MDU6TGFiZWwxNzU2NDM=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/documentation", "name": "documentation", "color": "02d7e1", "default": true, "description": "Current issue related to documentation"}, {"id": 233081, "node_id": "MDU6TGFiZWwyMzMwODE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20easy", "name": "difficulty easy", "color": "00ff00", "default": false, "description": "Easy issue: required small fix"}, {"id": 721000065, "node_id": "MDU6TGFiZWw3MjEwMDAwNjU=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/good%20first%20issue", "name": "good first issue", "color": "7057ff", "default": true, "description": "Issue for new contributors (not required gensim understanding + very simple)"}, {"id": 1602334164, "node_id": "MDU6TGFiZWwxNjAyMzM0MTY0", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/impact%20LOW", "name": "impact LOW", "color": "0052cc", "default": false, "description": "Low impact on affected users"}, {"id": 1602340302, "node_id": "MDU6TGFiZWwxNjAyMzQwMzAy", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/reach%20LOW", "name": "reach LOW", "color": "5abc21", "default": false, "description": "Affects only niche use-case users"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/milestones/3", "html_url": "https://github.com/RaRe-Technologies/gensim/milestone/3", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/milestones/3/labels", "id": 5364765, "node_id": "MDk6TWlsZXN0b25lNTM2NDc2NQ==", "number": 3, "title": "4.0.0", "description": "", "creator": {"login": "piskvorky", "id": 610412, "node_id": "MDQ6VXNlcjYxMDQxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/610412?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piskvorky", "html_url": "https://github.com/piskvorky", "followers_url": "https://api.github.com/users/piskvorky/followers", "following_url": "https://api.github.com/users/piskvorky/following{/other_user}", "gists_url": "https://api.github.com/users/piskvorky/gists{/gist_id}", "starred_url": "https://api.github.com/users/piskvorky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piskvorky/subscriptions", "organizations_url": "https://api.github.com/users/piskvorky/orgs", "repos_url": "https://api.github.com/users/piskvorky/repos", "events_url": "https://api.github.com/users/piskvorky/events{/privacy}", "received_events_url": "https://api.github.com/users/piskvorky/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 38, "state": "closed", "created_at": "2020-04-29T19:09:55Z", "updated_at": "2021-03-28T13:26:38Z", "due_on": null, "closed_at": "2021-03-28T13:26:38Z"}, "comments": 5, "created_at": "2021-03-09T16:41:50Z", "updated_at": "2021-03-14T13:11:50Z", "closed_at": "2021-03-14T12:57:09Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "A user reported a documentation issue on the mailing list: https://groups.google.com/g/gensim/c/8nobtm9tu-g.\r\n\r\nThe report shows two problems:\r\n\r\n1) Something changed with `wmdistance` between 3.8 and 4.0 that is not properly captured in the [Migration notes](https://github.com/RaRe-Technologies/gensim/wiki/Migrating-from-Gensim-3.x-to-4).\r\n\r\n2. The [WMD tutorial](https://radimrehurek.com/gensim_4.0.0/auto_examples/tutorials/run_wmd.html#normalizing-word2vec-vectors) contains instructions that are now outdated in 4.0: \r\n\r\n   > When using the wmdistance method, it is beneficial to normalize the word2vec vectors first, so they all have equal length. To do this, simply call model.init_sims(replace=True) and Gensim will take care of that for you.\r\n\r\n   \u2026And then our own tutorial logs a `WARNING : destructive init_sims(replace=True) deprecated & no longer required for space-efficiency`, which looks silly.", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3067/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3067/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3062", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3062/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3062/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3062/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/3062", "id": 823282127, "node_id": "MDU6SXNzdWU4MjMyODIxMjc=", "number": 3062, "title": "Fix paper reference", "user": {"login": "jonaschn", "id": 9538230, "node_id": "MDQ6VXNlcjk1MzgyMzA=", "avatar_url": "https://avatars.githubusercontent.com/u/9538230?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonaschn", "html_url": "https://github.com/jonaschn", "followers_url": "https://api.github.com/users/jonaschn/followers", "following_url": "https://api.github.com/users/jonaschn/following{/other_user}", "gists_url": "https://api.github.com/users/jonaschn/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonaschn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonaschn/subscriptions", "organizations_url": "https://api.github.com/users/jonaschn/orgs", "repos_url": "https://api.github.com/users/jonaschn/repos", "events_url": "https://api.github.com/users/jonaschn/events{/privacy}", "received_events_url": "https://api.github.com/users/jonaschn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 175643, "node_id": "MDU6TGFiZWwxNzU2NDM=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/documentation", "name": "documentation", "color": "02d7e1", "default": true, "description": "Current issue related to documentation"}, {"id": 233081, "node_id": "MDU6TGFiZWwyMzMwODE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20easy", "name": "difficulty easy", "color": "00ff00", "default": false, "description": "Easy issue: required small fix"}, {"id": 1602334164, "node_id": "MDU6TGFiZWwxNjAyMzM0MTY0", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/impact%20LOW", "name": "impact LOW", "color": "0052cc", "default": false, "description": "Low impact on affected users"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-03-05T17:29:45Z", "updated_at": "2021-03-06T10:59:53Z", "closed_at": "2021-03-06T10:59:53Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The linked pdf file is not available anymore (404).\r\nhttps://github.com/RaRe-Technologies/gensim/blob/70fc15985572bc10cd4424a1ac7fd8650389d43f/gensim/models/lsimodel.py#L325", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3062/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3062/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3031", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3031/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3031/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3031/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/3031", "id": 789706565, "node_id": "MDU6SXNzdWU3ODk3MDY1NjU=", "number": 3031, "title": "Runtime error in phrases.py", "user": {"login": "thalishsajeed", "id": 10665298, "node_id": "MDQ6VXNlcjEwNjY1Mjk4", "avatar_url": "https://avatars.githubusercontent.com/u/10665298?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thalishsajeed", "html_url": "https://github.com/thalishsajeed", "followers_url": "https://api.github.com/users/thalishsajeed/followers", "following_url": "https://api.github.com/users/thalishsajeed/following{/other_user}", "gists_url": "https://api.github.com/users/thalishsajeed/gists{/gist_id}", "starred_url": "https://api.github.com/users/thalishsajeed/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thalishsajeed/subscriptions", "organizations_url": "https://api.github.com/users/thalishsajeed/orgs", "repos_url": "https://api.github.com/users/thalishsajeed/repos", "events_url": "https://api.github.com/users/thalishsajeed/events{/privacy}", "received_events_url": "https://api.github.com/users/thalishsajeed/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}], "state": "closed", "locked": false, "assignee": {"login": "piskvorky", "id": 610412, "node_id": "MDQ6VXNlcjYxMDQxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/610412?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piskvorky", "html_url": "https://github.com/piskvorky", "followers_url": "https://api.github.com/users/piskvorky/followers", "following_url": "https://api.github.com/users/piskvorky/following{/other_user}", "gists_url": "https://api.github.com/users/piskvorky/gists{/gist_id}", "starred_url": "https://api.github.com/users/piskvorky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piskvorky/subscriptions", "organizations_url": "https://api.github.com/users/piskvorky/orgs", "repos_url": "https://api.github.com/users/piskvorky/repos", "events_url": "https://api.github.com/users/piskvorky/events{/privacy}", "received_events_url": "https://api.github.com/users/piskvorky/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "piskvorky", "id": 610412, "node_id": "MDQ6VXNlcjYxMDQxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/610412?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piskvorky", "html_url": "https://github.com/piskvorky", "followers_url": "https://api.github.com/users/piskvorky/followers", "following_url": "https://api.github.com/users/piskvorky/following{/other_user}", "gists_url": "https://api.github.com/users/piskvorky/gists{/gist_id}", "starred_url": "https://api.github.com/users/piskvorky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piskvorky/subscriptions", "organizations_url": "https://api.github.com/users/piskvorky/orgs", "repos_url": "https://api.github.com/users/piskvorky/repos", "events_url": "https://api.github.com/users/piskvorky/events{/privacy}", "received_events_url": "https://api.github.com/users/piskvorky/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/milestones/3", "html_url": "https://github.com/RaRe-Technologies/gensim/milestone/3", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/milestones/3/labels", "id": 5364765, "node_id": "MDk6TWlsZXN0b25lNTM2NDc2NQ==", "number": 3, "title": "4.0.0", "description": "", "creator": {"login": "piskvorky", "id": 610412, "node_id": "MDQ6VXNlcjYxMDQxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/610412?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piskvorky", "html_url": "https://github.com/piskvorky", "followers_url": "https://api.github.com/users/piskvorky/followers", "following_url": "https://api.github.com/users/piskvorky/following{/other_user}", "gists_url": "https://api.github.com/users/piskvorky/gists{/gist_id}", "starred_url": "https://api.github.com/users/piskvorky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piskvorky/subscriptions", "organizations_url": "https://api.github.com/users/piskvorky/orgs", "repos_url": "https://api.github.com/users/piskvorky/repos", "events_url": "https://api.github.com/users/piskvorky/events{/privacy}", "received_events_url": "https://api.github.com/users/piskvorky/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 38, "state": "closed", "created_at": "2020-04-29T19:09:55Z", "updated_at": "2021-03-28T13:26:38Z", "due_on": null, "closed_at": "2021-03-28T13:26:38Z"}, "comments": 21, "created_at": "2021-01-20T07:11:54Z", "updated_at": "2021-02-13T00:31:17Z", "closed_at": "2021-02-13T00:31:17Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "<!--\r\n**IMPORTANT**:\r\n\r\n- Use the [Gensim mailing list](https://groups.google.com/forum/#!forum/gensim) to ask general or usage questions. Github issues are only for bug reports.\r\n- Check [Recipes&FAQ](https://github.com/RaRe-Technologies/gensim/wiki/Recipes-&-FAQ) first for common answers.\r\n\r\nGithub bug reports that do not include relevant information and context will be closed without an answer. Thanks!\r\n-->\r\n\r\n#### Problem description\r\n\r\nTrying to use export_phrases function on a phrases model.    \r\nInstead getting Runtime error\r\n\r\n#### Steps/code/corpus to reproduce\r\n\r\n```python\r\nfrom gensim.models.phrases import Phrases, ENGLISH_CONNECTOR_WORDS\r\n\r\ndocuments = [\"I am interested in machine learning projects\", \r\n             \"machine learning projects can be useful sometimes\",\r\n            \"I love working on machine learning projects\",\r\n            \"interested does not mean the same thing as likes\",\r\n            \"i am interested in blockchain\"]\r\n\r\nsentence_stream = [doc.split(\" \") for doc in documents]\r\nbigrams = Phrases(sentence_stream, min_count=2, threshold=1, connector_words=ENGLISH_CONNECTOR_WORDS)\r\ntrigrams = Phrases(bigrams[sentence_stream], min_count=2, threshold=1)\r\ntrigrams.export_phrases()\r\n```\r\n\r\n```\r\nRuntimeError                              Traceback (most recent call last)\r\n<ipython-input-190-0f7e41471301> in <module>\r\n----> 1 trigrams.export_phrases()\r\n\r\n~\\Anaconda3\\lib\\site-packages\\gensim\\models\\phrases.py in export_phrases(self)\r\n    716         \"\"\"\r\n    717         result, source_vocab = {}, self.vocab\r\n--> 718         for token in source_vocab:\r\n    719             unigrams = token.split(self.delimiter)\r\n    720             if len(unigrams) < 2:\r\n\r\nRuntimeError: dictionary changed size during iteration\r\n```\r\n\r\n\r\n\r\n#### Versions\r\n\r\nPlease provide the output of:\r\n\r\n```python\r\nWindows-10-10.0.17763-SP0\r\nPython 3.8.3 (default, Jul  2 2020, 17:30:36) [MSC v.1916 64 bit (AMD64)]\r\nBits 64\r\nNumPy 1.19.5\r\nSciPy 1.5.2\r\ngensim 4.0.0beta\r\nFAST_VERSION 0\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3031/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3031/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3028", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3028/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3028/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3028/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/3028", "id": 788824830, "node_id": "MDU6SXNzdWU3ODg4MjQ4MzA=", "number": 3028, "title": "AttributeError: 'Word2Vec' object has no attribute 'most_similar'", "user": {"login": "freedomSummer1964", "id": 41180455, "node_id": "MDQ6VXNlcjQxMTgwNDU1", "avatar_url": "https://avatars.githubusercontent.com/u/41180455?v=4", "gravatar_id": "", "url": "https://api.github.com/users/freedomSummer1964", "html_url": "https://github.com/freedomSummer1964", "followers_url": "https://api.github.com/users/freedomSummer1964/followers", "following_url": "https://api.github.com/users/freedomSummer1964/following{/other_user}", "gists_url": "https://api.github.com/users/freedomSummer1964/gists{/gist_id}", "starred_url": "https://api.github.com/users/freedomSummer1964/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/freedomSummer1964/subscriptions", "organizations_url": "https://api.github.com/users/freedomSummer1964/orgs", "repos_url": "https://api.github.com/users/freedomSummer1964/repos", "events_url": "https://api.github.com/users/freedomSummer1964/events{/privacy}", "received_events_url": "https://api.github.com/users/freedomSummer1964/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 175643, "node_id": "MDU6TGFiZWwxNzU2NDM=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/documentation", "name": "documentation", "color": "02d7e1", "default": true, "description": "Current issue related to documentation"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/milestones/3", "html_url": "https://github.com/RaRe-Technologies/gensim/milestone/3", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/milestones/3/labels", "id": 5364765, "node_id": "MDk6TWlsZXN0b25lNTM2NDc2NQ==", "number": 3, "title": "4.0.0", "description": "", "creator": {"login": "piskvorky", "id": 610412, "node_id": "MDQ6VXNlcjYxMDQxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/610412?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piskvorky", "html_url": "https://github.com/piskvorky", "followers_url": "https://api.github.com/users/piskvorky/followers", "following_url": "https://api.github.com/users/piskvorky/following{/other_user}", "gists_url": "https://api.github.com/users/piskvorky/gists{/gist_id}", "starred_url": "https://api.github.com/users/piskvorky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piskvorky/subscriptions", "organizations_url": "https://api.github.com/users/piskvorky/orgs", "repos_url": "https://api.github.com/users/piskvorky/repos", "events_url": "https://api.github.com/users/piskvorky/events{/privacy}", "received_events_url": "https://api.github.com/users/piskvorky/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 38, "state": "closed", "created_at": "2020-04-29T19:09:55Z", "updated_at": "2021-03-28T13:26:38Z", "due_on": null, "closed_at": "2021-03-28T13:26:38Z"}, "comments": 5, "created_at": "2021-01-19T08:44:24Z", "updated_at": "2021-01-19T21:41:21Z", "closed_at": "2021-01-19T21:41:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "\r\n#### Problem description\r\n\r\nWhen I was trying to use a trained word2vec model to find the similar word, it showed that 'Word2Vec' object has no attribute 'most_similar'.\r\n\r\nI haven't seen that what are changed of the 'most_similar' attribute from gensim 4.0. When I was using the gensim in Earlier versions, most_similar() can be used as:\r\n\r\nmodel_hasTrain=word2vec.Word2Vec.load(saveBinPath)\r\ny=model_hasTrain.most_similar('price',topn=100)\r\n\r\n\r\nI don't know that are most_similar() removed or changed? Or do I need to reinstall the gensim? Thank you for solving my problem. Thanks very much.\r\n\r\n\r\n\r\n\r\n\r\n#### Versions\r\n\r\nPlease provide the output of:\r\n\r\n```python\r\nWindows-2012Server-6.2.9200-SP0\r\nPython 3.8.3 (default, Jul  2 2020, 17:30:36) [MSC v.1916 64 bit (AMD64)]\r\nBits 64\r\nNumPy 1.18.5\r\nSciPy 1.5.0\r\ngensim 4.0.0beta\r\nFAST_VERSION 1\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3028/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3028/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3003", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3003/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3003/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3003/events", "html_url": "https://github.com/RaRe-Technologies/gensim/pull/3003", "id": 747907113, "node_id": "MDExOlB1bGxSZXF1ZXN0NTI1MDQ0NzMx", "number": 3003, "title": "Point WordEmbeddingSimilarityIndex documentation to gensim.similarities", "user": {"login": "Witiko", "id": 603082, "node_id": "MDQ6VXNlcjYwMzA4Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/603082?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Witiko", "html_url": "https://github.com/Witiko", "followers_url": "https://api.github.com/users/Witiko/followers", "following_url": "https://api.github.com/users/Witiko/following{/other_user}", "gists_url": "https://api.github.com/users/Witiko/gists{/gist_id}", "starred_url": "https://api.github.com/users/Witiko/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Witiko/subscriptions", "organizations_url": "https://api.github.com/users/Witiko/orgs", "repos_url": "https://api.github.com/users/Witiko/repos", "events_url": "https://api.github.com/users/Witiko/events{/privacy}", "received_events_url": "https://api.github.com/users/Witiko/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 175643, "node_id": "MDU6TGFiZWwxNzU2NDM=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/documentation", "name": "documentation", "color": "02d7e1", "default": true, "description": "Current issue related to documentation"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/milestones/3", "html_url": "https://github.com/RaRe-Technologies/gensim/milestone/3", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/milestones/3/labels", "id": 5364765, "node_id": "MDk6TWlsZXN0b25lNTM2NDc2NQ==", "number": 3, "title": "4.0.0", "description": "", "creator": {"login": "piskvorky", "id": 610412, "node_id": "MDQ6VXNlcjYxMDQxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/610412?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piskvorky", "html_url": "https://github.com/piskvorky", "followers_url": "https://api.github.com/users/piskvorky/followers", "following_url": "https://api.github.com/users/piskvorky/following{/other_user}", "gists_url": "https://api.github.com/users/piskvorky/gists{/gist_id}", "starred_url": "https://api.github.com/users/piskvorky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piskvorky/subscriptions", "organizations_url": "https://api.github.com/users/piskvorky/orgs", "repos_url": "https://api.github.com/users/piskvorky/repos", "events_url": "https://api.github.com/users/piskvorky/events{/privacy}", "received_events_url": "https://api.github.com/users/piskvorky/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 38, "state": "closed", "created_at": "2020-04-29T19:09:55Z", "updated_at": "2021-03-28T13:26:38Z", "due_on": null, "closed_at": "2021-03-28T13:26:38Z"}, "comments": 12, "created_at": "2020-11-21T02:47:55Z", "updated_at": "2021-03-01T08:57:48Z", "closed_at": "2021-03-01T06:31:34Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/pulls/3003", "html_url": "https://github.com/RaRe-Technologies/gensim/pull/3003", "diff_url": "https://github.com/RaRe-Technologies/gensim/pull/3003.diff", "patch_url": "https://github.com/RaRe-Technologies/gensim/pull/3003.patch", "merged_at": "2021-03-01T06:31:34Z"}, "body": "Currently, all documentation, Jupyter notebooks and code examples assume that `WordEmbeddingSimilarityIndex` is located in `gensim.models`, although it lives in `gensim.similarities` since 4.0.0. This pull request fixes the documentation.", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3003/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/3003/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2995", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2995/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2995/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2995/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/2995", "id": 735714926, "node_id": "MDU6SXNzdWU3MzU3MTQ5MjY=", "number": 2995, "title": "Make the link to the Gensim 3.8.3 documentation dynamic", "user": {"login": "Witiko", "id": 603082, "node_id": "MDQ6VXNlcjYwMzA4Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/603082?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Witiko", "html_url": "https://github.com/Witiko", "followers_url": "https://api.github.com/users/Witiko/followers", "following_url": "https://api.github.com/users/Witiko/following{/other_user}", "gists_url": "https://api.github.com/users/Witiko/gists{/gist_id}", "starred_url": "https://api.github.com/users/Witiko/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Witiko/subscriptions", "organizations_url": "https://api.github.com/users/Witiko/orgs", "repos_url": "https://api.github.com/users/Witiko/repos", "events_url": "https://api.github.com/users/Witiko/events{/privacy}", "received_events_url": "https://api.github.com/users/Witiko/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 175643, "node_id": "MDU6TGFiZWwxNzU2NDM=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/documentation", "name": "documentation", "color": "02d7e1", "default": true, "description": "Current issue related to documentation"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/milestones/3", "html_url": "https://github.com/RaRe-Technologies/gensim/milestone/3", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/milestones/3/labels", "id": 5364765, "node_id": "MDk6TWlsZXN0b25lNTM2NDc2NQ==", "number": 3, "title": "4.0.0", "description": "", "creator": {"login": "piskvorky", "id": 610412, "node_id": "MDQ6VXNlcjYxMDQxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/610412?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piskvorky", "html_url": "https://github.com/piskvorky", "followers_url": "https://api.github.com/users/piskvorky/followers", "following_url": "https://api.github.com/users/piskvorky/following{/other_user}", "gists_url": "https://api.github.com/users/piskvorky/gists{/gist_id}", "starred_url": "https://api.github.com/users/piskvorky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piskvorky/subscriptions", "organizations_url": "https://api.github.com/users/piskvorky/orgs", "repos_url": "https://api.github.com/users/piskvorky/repos", "events_url": "https://api.github.com/users/piskvorky/events{/privacy}", "received_events_url": "https://api.github.com/users/piskvorky/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 38, "state": "closed", "created_at": "2020-04-29T19:09:55Z", "updated_at": "2021-03-28T13:26:38Z", "due_on": null, "closed_at": "2021-03-28T13:26:38Z"}, "comments": 0, "created_at": "2020-11-04T00:03:47Z", "updated_at": "2020-11-16T22:51:09Z", "closed_at": "2020-11-16T22:51:09Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Clicking on the \"Gensim 3.8.3 documentation\" link in the header of the Gensim 4.0.0 documentation redirects the user to [the index page of the Gensim 3.8.3 documentation](https://radimrehurek.com/gensim_3.8.3/) rather than to the corresponding page, which is an unpleasant user experience. For example, try getting from [the 4.0.0 documentation of `gensim.models.phrases`](https://radimrehurek.com/gensim/models/phrases.html) to its 3.8.3 documentation.\r\n\r\nA quick fix would be to set an ID attribute on the link and add inline JavaScript code that would update the HREF attribute of the link according to the current value of `location.pathname`.\r\n\r\nhttps://github.com/RaRe-Technologies/gensim/blob/60a8f7f5599e241779b82f97d375a5046cb730c9/docs/src/sphinx_rtd_theme/notification.html#L2", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2995/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2995/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2943", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2943/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2943/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2943/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/2943", "id": 700128534, "node_id": "MDU6SXNzdWU3MDAxMjg1MzQ=", "number": 2943, "title": "Issue with calculation of `new_words` and `pre_exist_words`", "user": {"login": "geopapa11", "id": 12255344, "node_id": "MDQ6VXNlcjEyMjU1MzQ0", "avatar_url": "https://avatars.githubusercontent.com/u/12255344?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geopapa11", "html_url": "https://github.com/geopapa11", "followers_url": "https://api.github.com/users/geopapa11/followers", "following_url": "https://api.github.com/users/geopapa11/following{/other_user}", "gists_url": "https://api.github.com/users/geopapa11/gists{/gist_id}", "starred_url": "https://api.github.com/users/geopapa11/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geopapa11/subscriptions", "organizations_url": "https://api.github.com/users/geopapa11/orgs", "repos_url": "https://api.github.com/users/geopapa11/repos", "events_url": "https://api.github.com/users/geopapa11/events{/privacy}", "received_events_url": "https://api.github.com/users/geopapa11/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 1602257032, "node_id": "MDU6TGFiZWwxNjAyMjU3MDMy", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/impact%20HIGH", "name": "impact HIGH", "color": "b60205", "default": false, "description": "Show-stopper for affected users"}, {"id": 1602279836, "node_id": "MDU6TGFiZWwxNjAyMjc5ODM2", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/reach%20MEDIUM", "name": "reach MEDIUM", "color": "ef7a1a", "default": false, "description": "Affects a significant number of users"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-09-12T07:50:05Z", "updated_at": "2020-10-15T22:19:04Z", "closed_at": "2020-10-15T22:19:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "https://github.com/RaRe-Technologies/gensim/blob/bb947b38a23f10c40948ec6876bc0a850eafbcf6/gensim/models/word2vec.py#L602\r\n\r\n`new_words` and `pre_exist_words` are initialized by reference as follows:\r\n```python\r\nnew_words = pre_exist_words = []\r\n```\r\nThis has a result every time an append happens to one of the two, both variables change because they refer to the same underlying list. Therefore, the calculation of `new_words` and `pre_exist_words` is not correct.\r\n\r\nThe solution would simply be:\r\n```python\r\nnew_words = []\r\npre_exist_words = []\r\n```\r\n\r\nThis has downstream implications. The calculation of `retain_words` (`retain_words = new_words + pre_exist_words`)  is also not correct because of that.\r\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2943/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2943/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2938", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2938/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2938/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2938/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/2938", "id": 696518409, "node_id": "MDU6SXNzdWU2OTY1MTg0MDk=", "number": 2938, "title": "Fix deprecations in SoftCosineSimilarity", "user": {"login": "piskvorky", "id": 610412, "node_id": "MDQ6VXNlcjYxMDQxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/610412?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piskvorky", "html_url": "https://github.com/piskvorky", "followers_url": "https://api.github.com/users/piskvorky/followers", "following_url": "https://api.github.com/users/piskvorky/following{/other_user}", "gists_url": "https://api.github.com/users/piskvorky/gists{/gist_id}", "starred_url": "https://api.github.com/users/piskvorky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piskvorky/subscriptions", "organizations_url": "https://api.github.com/users/piskvorky/orgs", "repos_url": "https://api.github.com/users/piskvorky/repos", "events_url": "https://api.github.com/users/piskvorky/events{/privacy}", "received_events_url": "https://api.github.com/users/piskvorky/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 1602278675, "node_id": "MDU6TGFiZWwxNjAyMjc4Njc1", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/reach%20HIGH", "name": "reach HIGH", "color": "229e03", "default": false, "description": "Affects most or all Gensim users"}, {"id": 1602334472, "node_id": "MDU6TGFiZWwxNjAyMzM0NDcy", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/impact%20MEDIUM", "name": "impact MEDIUM", "color": "7af49f", "default": false, "description": "Big annoyance for affected users"}, {"id": 2020756897, "node_id": "MDU6TGFiZWwyMDIwNzU2ODk3", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/housekeeping", "name": "housekeeping", "color": "d863b1", "default": false, "description": "internal tasks and processes"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/milestones/3", "html_url": "https://github.com/RaRe-Technologies/gensim/milestone/3", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/milestones/3/labels", "id": 5364765, "node_id": "MDk6TWlsZXN0b25lNTM2NDc2NQ==", "number": 3, "title": "4.0.0", "description": "", "creator": {"login": "piskvorky", "id": 610412, "node_id": "MDQ6VXNlcjYxMDQxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/610412?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piskvorky", "html_url": "https://github.com/piskvorky", "followers_url": "https://api.github.com/users/piskvorky/followers", "following_url": "https://api.github.com/users/piskvorky/following{/other_user}", "gists_url": "https://api.github.com/users/piskvorky/gists{/gist_id}", "starred_url": "https://api.github.com/users/piskvorky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piskvorky/subscriptions", "organizations_url": "https://api.github.com/users/piskvorky/orgs", "repos_url": "https://api.github.com/users/piskvorky/repos", "events_url": "https://api.github.com/users/piskvorky/events{/privacy}", "received_events_url": "https://api.github.com/users/piskvorky/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 38, "state": "closed", "created_at": "2020-04-29T19:09:55Z", "updated_at": "2021-03-28T13:26:38Z", "due_on": null, "closed_at": "2021-03-28T13:26:38Z"}, "comments": 6, "created_at": "2020-09-09T07:20:19Z", "updated_at": "2020-09-16T07:32:48Z", "closed_at": "2020-09-16T07:32:48Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "When running our CI test suite, I see an array of deprecation warnings:\r\n\r\nhttps://dev.azure.com/rare-technologies/gensim-ci/_build/results?buildId=287&view=logs&jobId=f9575ddc-dec8-54e6-9d26-abb8bdd9bed7&j=f9575ddc-dec8-54e6-9d26-abb8bdd9bed7&t=180156a9-2bf9-537d-c84a-ef9e808c0367\r\n\r\nSome are from gensim, some from scipy:\r\n<img width=\"1440\" alt=\"Screen Shot 2020-09-09 at 09 16 00\" src=\"https://user-images.githubusercontent.com/610412/92567026-635b8f00-f27d-11ea-9d5f-c56f3ba7c08b.png\">\r\n\r\n@Witiko could you please have a look? Is it something your existing PR already addresses?\r\n\r\nIf not, can you please fix those? Thanks.", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2938/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2938/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2934", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2934/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2934/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2934/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/2934", "id": 695605723, "node_id": "MDU6SXNzdWU2OTU2MDU3MjM=", "number": 2934, "title": "Word2Vec docs indicate sents can be a generator, but it can't", "user": {"login": "polm", "id": 286278, "node_id": "MDQ6VXNlcjI4NjI3OA==", "avatar_url": "https://avatars.githubusercontent.com/u/286278?v=4", "gravatar_id": "", "url": "https://api.github.com/users/polm", "html_url": "https://github.com/polm", "followers_url": "https://api.github.com/users/polm/followers", "following_url": "https://api.github.com/users/polm/following{/other_user}", "gists_url": "https://api.github.com/users/polm/gists{/gist_id}", "starred_url": "https://api.github.com/users/polm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/polm/subscriptions", "organizations_url": "https://api.github.com/users/polm/orgs", "repos_url": "https://api.github.com/users/polm/repos", "events_url": "https://api.github.com/users/polm/events{/privacy}", "received_events_url": "https://api.github.com/users/polm/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 175643, "node_id": "MDU6TGFiZWwxNzU2NDM=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/documentation", "name": "documentation", "color": "02d7e1", "default": true, "description": "Current issue related to documentation"}, {"id": 233081, "node_id": "MDU6TGFiZWwyMzMwODE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20easy", "name": "difficulty easy", "color": "00ff00", "default": false, "description": "Easy issue: required small fix"}, {"id": 721000065, "node_id": "MDU6TGFiZWw3MjEwMDAwNjU=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/good%20first%20issue", "name": "good first issue", "color": "7057ff", "default": true, "description": "Issue for new contributors (not required gensim understanding + very simple)"}, {"id": 1602279836, "node_id": "MDU6TGFiZWwxNjAyMjc5ODM2", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/reach%20MEDIUM", "name": "reach MEDIUM", "color": "ef7a1a", "default": false, "description": "Affects a significant number of users"}, {"id": 1602334164, "node_id": "MDU6TGFiZWwxNjAyMzM0MTY0", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/impact%20LOW", "name": "impact LOW", "color": "0052cc", "default": false, "description": "Low impact on affected users"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-09-08T06:55:12Z", "updated_at": "2020-09-16T08:17:02Z", "closed_at": "2020-09-16T08:17:02Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "<!--\r\n**IMPORTANT**:\r\n\r\n- Use the [Gensim mailing list](https://groups.google.com/forum/#!forum/gensim) to ask general or usage questions. Github issues are only for bug reports.\r\n- Check [Recipes&FAQ](https://github.com/RaRe-Technologies/gensim/wiki/Recipes-&-FAQ) first for common answers.\r\n\r\nGithub bug reports that do not include relevant information and context will be closed without an answer. Thanks!\r\n-->\r\n\r\n#### Problem description\r\n\r\nTried to pass a generator as the `sentences` argument when training Word2Vec, as suggested [in the docs](https://radimrehurek.com/gensim/models/word2vec.html#usage-examples:~:text=sentences%20can%20be%20a%20generator). But then I get this error:\r\n\r\n    TypeError: You can't pass a generator as the sentences argument. Try a sequence.\r\n\r\n#### Steps/code/corpus to reproduce\r\n\r\n```\r\n\r\nfrom gensim.models import Word2Vec\r\n\r\ndef get_sents():\r\n    for ii in range(100):\r\n        yield ['hi']\r\n\r\nsents = get_sents()\r\nmodel = Word2Vec(sents, size=100, window=5, min_count=1, workers=4)\r\n```\r\n\r\n#### Versions\r\n\r\nPlease provide the output of:\r\n\r\n```python\r\nimport platform; print(platform.platform())\r\nimport sys; print(\"Python\", sys.version)\r\nimport struct; print(\"Bits\", 8 * struct.calcsize(\"P\"))\r\nimport numpy; print(\"NumPy\", numpy.__version__)\r\nimport scipy; print(\"SciPy\", scipy.__version__)\r\nimport gensim; print(\"gensim\", gensim.__version__)\r\nfrom gensim.models import word2vec;print(\"FAST_VERSION\", word2vec.FAST_VERSION)\r\n```\r\n```\r\nLinux-5.8.5-arch1-1-x86_64-with-glibc2.2.5\r\nPython 3.8.5 (default, Jul 27 2020, 08:42:51) \r\n[GCC 10.1.0]\r\nBits 64\r\nNumPy 1.19.1\r\nSciPy 1.4.1\r\ngensim 3.8.3\r\nFAST_VERSION 1\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2934/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2934/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2872", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2872/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2872/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2872/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/2872", "id": 651018163, "node_id": "MDU6SXNzdWU2NTEwMTgxNjM=", "number": 2872, "title": "Broken file link in `run_corpora_and_vector_spaces` tutorial", "user": {"login": "piskvorky", "id": 610412, "node_id": "MDQ6VXNlcjYxMDQxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/610412?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piskvorky", "html_url": "https://github.com/piskvorky", "followers_url": "https://api.github.com/users/piskvorky/followers", "following_url": "https://api.github.com/users/piskvorky/following{/other_user}", "gists_url": "https://api.github.com/users/piskvorky/gists{/gist_id}", "starred_url": "https://api.github.com/users/piskvorky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piskvorky/subscriptions", "organizations_url": "https://api.github.com/users/piskvorky/orgs", "repos_url": "https://api.github.com/users/piskvorky/repos", "events_url": "https://api.github.com/users/piskvorky/events{/privacy}", "received_events_url": "https://api.github.com/users/piskvorky/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 175643, "node_id": "MDU6TGFiZWwxNzU2NDM=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/documentation", "name": "documentation", "color": "02d7e1", "default": true, "description": "Current issue related to documentation"}, {"id": 233081, "node_id": "MDU6TGFiZWwyMzMwODE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20easy", "name": "difficulty easy", "color": "00ff00", "default": false, "description": "Easy issue: required small fix"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/milestones/5", "html_url": "https://github.com/RaRe-Technologies/gensim/milestone/5", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/milestones/5/labels", "id": 6827878, "node_id": "MDk6TWlsZXN0b25lNjgyNzg3OA==", "number": 5, "title": "4.2.0", "description": "", "creator": {"login": "piskvorky", "id": 610412, "node_id": "MDQ6VXNlcjYxMDQxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/610412?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piskvorky", "html_url": "https://github.com/piskvorky", "followers_url": "https://api.github.com/users/piskvorky/followers", "following_url": "https://api.github.com/users/piskvorky/following{/other_user}", "gists_url": "https://api.github.com/users/piskvorky/gists{/gist_id}", "starred_url": "https://api.github.com/users/piskvorky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piskvorky/subscriptions", "organizations_url": "https://api.github.com/users/piskvorky/orgs", "repos_url": "https://api.github.com/users/piskvorky/repos", "events_url": "https://api.github.com/users/piskvorky/events{/privacy}", "received_events_url": "https://api.github.com/users/piskvorky/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 37, "state": "closed", "created_at": "2021-06-06T10:20:31Z", "updated_at": "2022-05-01T16:51:28Z", "due_on": "2022-04-30T07:00:00Z", "closed_at": "2022-05-01T16:51:28Z"}, "comments": 6, "created_at": "2020-07-05T07:24:23Z", "updated_at": "2021-06-06T13:50:18Z", "closed_at": "2021-06-06T12:03:18Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "#### Problem description\r\n\r\nThe `run_corpora_and_vector_spaces.ipynb` tutorial depends on a file on the web, and that file is missing.\r\n\r\n#### Steps/code/corpus to reproduce\r\n\r\nSee https://groups.google.com/g/gensim/c/nX4lc8j0ZO0\r\n\r\n#### Versions\r\n\r\nPlease provide the output of:\r\n\r\n```python\r\nimport platform; print(platform.platform())\r\nimport sys; print(\"Python\", sys.version)\r\nimport numpy; print(\"NumPy\", numpy.__version__)\r\nimport scipy; print(\"SciPy\", scipy.__version__)\r\nimport gensim; print(\"gensim\", gensim.__version__)\r\nfrom gensim.models import word2vec;print(\"FAST_VERSION\", word2vec.FAST_VERSION)\r\n```\r\n\r\nUnknown (probably any).", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2872/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2872/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2853", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2853/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2853/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2853/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/2853", "id": 636521959, "node_id": "MDU6SXNzdWU2MzY1MjE5NTk=", "number": 2853, "title": "save_facebook_model() - AssertionError", "user": {"login": "imendibo", "id": 5813782, "node_id": "MDQ6VXNlcjU4MTM3ODI=", "avatar_url": "https://avatars.githubusercontent.com/u/5813782?v=4", "gravatar_id": "", "url": "https://api.github.com/users/imendibo", "html_url": "https://github.com/imendibo", "followers_url": "https://api.github.com/users/imendibo/followers", "following_url": "https://api.github.com/users/imendibo/following{/other_user}", "gists_url": "https://api.github.com/users/imendibo/gists{/gist_id}", "starred_url": "https://api.github.com/users/imendibo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/imendibo/subscriptions", "organizations_url": "https://api.github.com/users/imendibo/orgs", "repos_url": "https://api.github.com/users/imendibo/repos", "events_url": "https://api.github.com/users/imendibo/events{/privacy}", "received_events_url": "https://api.github.com/users/imendibo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/milestones/3", "html_url": "https://github.com/RaRe-Technologies/gensim/milestone/3", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/milestones/3/labels", "id": 5364765, "node_id": "MDk6TWlsZXN0b25lNTM2NDc2NQ==", "number": 3, "title": "4.0.0", "description": "", "creator": {"login": "piskvorky", "id": 610412, "node_id": "MDQ6VXNlcjYxMDQxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/610412?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piskvorky", "html_url": "https://github.com/piskvorky", "followers_url": "https://api.github.com/users/piskvorky/followers", "following_url": "https://api.github.com/users/piskvorky/following{/other_user}", "gists_url": "https://api.github.com/users/piskvorky/gists{/gist_id}", "starred_url": "https://api.github.com/users/piskvorky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piskvorky/subscriptions", "organizations_url": "https://api.github.com/users/piskvorky/orgs", "repos_url": "https://api.github.com/users/piskvorky/repos", "events_url": "https://api.github.com/users/piskvorky/events{/privacy}", "received_events_url": "https://api.github.com/users/piskvorky/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 38, "state": "closed", "created_at": "2020-04-29T19:09:55Z", "updated_at": "2021-03-28T13:26:38Z", "due_on": null, "closed_at": "2021-03-28T13:26:38Z"}, "comments": 25, "created_at": "2020-06-10T20:21:07Z", "updated_at": "2021-12-04T04:36:30Z", "closed_at": "2020-10-15T22:19:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Problem description\r\nI am trying to save the trained model of fasttext using the new save_facebook_model function.\r\nI was unable to do it so because an assertionError arises in the code line:\r\n`assert vocab_n == len(model.wv.vocab)`\r\n The vocabulary of my model is of 2000264:\r\n```\r\nlen(model.wv.vocab)\r\n2000264\r\n```\r\nI tried with a model with a vocabulary of 4500 and it worked. So I guess there is a limitation in that. But the error message did not tell any of that.\r\n\r\n#### Steps/code/corpus to reproduce\r\n\r\n```\r\nfrom gensim.models.fasttext import save_facebook_model\r\n\r\nsave_facebook_model(model,'own_fasttext_model_pretrained.bin')\r\n\r\n---------------------------------------------------------------------------\r\nAssertionError                            Traceback (most recent call last)\r\n<ipython-input-201-0a3c1c458b74> in <module>\r\n      2 from gensim.models.fasttext import load_facebook_model, load_facebook_vectors,save_facebook_model\r\n      3 \r\n----> 4 save_facebook_model(model,'own_fasttext_model_pretrained.bin')\r\n\r\n/opt/conda/lib/python3.7/site-packages/gensim/models/fasttext.py in save_facebook_model(model, path, encoding, lr_update_rate, word_ngrams)\r\n   1334     \"\"\"\r\n   1335     fb_fasttext_parameters = {\"lr_update_rate\": lr_update_rate, \"word_ngrams\": word_ngrams}\r\n-> 1336     gensim.models._fasttext_bin.save(model, path, fb_fasttext_parameters, encoding)\r\n\r\n/opt/conda/lib/python3.7/site-packages/gensim/models/_fasttext_bin.py in save(model, fout, fb_fasttext_parameters, encoding)\r\n    666     if isinstance(fout, str):\r\n    667         with open(fout, \"wb\") as fout_stream:\r\n--> 668             _save_to_stream(model, fout_stream, fb_fasttext_parameters, encoding)\r\n    669     else:\r\n    670         _save_to_stream(model, fout, fb_fasttext_parameters, encoding)\r\n\r\n/opt/conda/lib/python3.7/site-packages/gensim/models/_fasttext_bin.py in _save_to_stream(model, fout, fb_fasttext_parameters, encoding)\r\n    629 \r\n    630     # Save words and ngrams vectors\r\n--> 631     _input_save(fout, model)\r\n    632     fout.write(struct.pack('@?', False))  # Save 'quot_', which is False for unsupervised models\r\n    633 \r\n\r\n/opt/conda/lib/python3.7/site-packages/gensim/models/_fasttext_bin.py in _input_save(fout, model)\r\n    573 \r\n    574     assert vocab_dim == ngrams_dim\r\n--> 575     assert vocab_n == len(model.wv.vocab)\r\n    576     assert ngrams_n == model.wv.bucket\r\n    577 \r\n\r\nAssertionError: \r\n```\r\n\r\n\r\n\r\n\r\n\r\n#### Versions\r\n\r\n```\r\nPython 3.7.6 | packaged by conda-forge | (default, Jan  7 2020, 22:33:48) \r\n[GCC 7.3.0] on linux\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\nLinux-4.9.0-12-amd64-x86_64-with-debian-9.12\r\nPython 3.7.6 | packaged by conda-forge | (default, Jan  7 2020, 22:33:48) \r\n[GCC 7.3.0]\r\nNumPy 1.18.1\r\nSciPy 1.4.1\r\ngensim 3.8.3\r\nFAST_VERSION 0\r\n```", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2853/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2853/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2828", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2828/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2828/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2828/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/2828", "id": 612946429, "node_id": "MDU6SXNzdWU2MTI5NDY0Mjk=", "number": 2828, "title": "CHANGELOG.md vs PyPI?", "user": {"login": "gojomo", "id": 1641, "node_id": "MDQ6VXNlcjE2NDE=", "avatar_url": "https://avatars.githubusercontent.com/u/1641?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gojomo", "html_url": "https://github.com/gojomo", "followers_url": "https://api.github.com/users/gojomo/followers", "following_url": "https://api.github.com/users/gojomo/following{/other_user}", "gists_url": "https://api.github.com/users/gojomo/gists{/gist_id}", "starred_url": "https://api.github.com/users/gojomo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gojomo/subscriptions", "organizations_url": "https://api.github.com/users/gojomo/orgs", "repos_url": "https://api.github.com/users/gojomo/repos", "events_url": "https://api.github.com/users/gojomo/events{/privacy}", "received_events_url": "https://api.github.com/users/gojomo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 175643, "node_id": "MDU6TGFiZWwxNzU2NDM=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/documentation", "name": "documentation", "color": "02d7e1", "default": true, "description": "Current issue related to documentation"}, {"id": 1602334472, "node_id": "MDU6TGFiZWwxNjAyMzM0NDcy", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/impact%20MEDIUM", "name": "impact MEDIUM", "color": "7af49f", "default": false, "description": "Big annoyance for affected users"}, {"id": 1602340302, "node_id": "MDU6TGFiZWwxNjAyMzQwMzAy", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/reach%20LOW", "name": "reach LOW", "color": "5abc21", "default": false, "description": "Affects only niche use-case users"}], "state": "closed", "locked": false, "assignee": {"login": "mpenkov", "id": 1101396, "node_id": "MDQ6VXNlcjExMDEzOTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1101396?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mpenkov", "html_url": "https://github.com/mpenkov", "followers_url": "https://api.github.com/users/mpenkov/followers", "following_url": "https://api.github.com/users/mpenkov/following{/other_user}", "gists_url": "https://api.github.com/users/mpenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/mpenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mpenkov/subscriptions", "organizations_url": "https://api.github.com/users/mpenkov/orgs", "repos_url": "https://api.github.com/users/mpenkov/repos", "events_url": "https://api.github.com/users/mpenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/mpenkov/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "mpenkov", "id": 1101396, "node_id": "MDQ6VXNlcjExMDEzOTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1101396?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mpenkov", "html_url": "https://github.com/mpenkov", "followers_url": "https://api.github.com/users/mpenkov/followers", "following_url": "https://api.github.com/users/mpenkov/following{/other_user}", "gists_url": "https://api.github.com/users/mpenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/mpenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mpenkov/subscriptions", "organizations_url": "https://api.github.com/users/mpenkov/orgs", "repos_url": "https://api.github.com/users/mpenkov/repos", "events_url": "https://api.github.com/users/mpenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/mpenkov/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 10, "created_at": "2020-05-05T23:02:47Z", "updated_at": "2020-05-09T12:53:10Z", "closed_at": "2020-05-09T12:53:10Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "PyPI shows gensim releases \"3.8.2\" and \"3.8.3\". But these aren't mentioned in the `CHANGELOG.md`, nor were they announced on the project discussion list. (There was a tweet announcing 3.8.3.) Should those steps \u2013 especially, updating `CHANGELOG.md` \u2013 be part of a release checklist, or maybe even some sort of automated-pre-release check?", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2828/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2828/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2805", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2805/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2805/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2805/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/2805", "id": 605554698, "node_id": "MDU6SXNzdWU2MDU1NTQ2OTg=", "number": 2805, "title": "README badges fail to render", "user": {"login": "piskvorky", "id": 610412, "node_id": "MDQ6VXNlcjYxMDQxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/610412?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piskvorky", "html_url": "https://github.com/piskvorky", "followers_url": "https://api.github.com/users/piskvorky/followers", "following_url": "https://api.github.com/users/piskvorky/following{/other_user}", "gists_url": "https://api.github.com/users/piskvorky/gists{/gist_id}", "starred_url": "https://api.github.com/users/piskvorky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piskvorky/subscriptions", "organizations_url": "https://api.github.com/users/piskvorky/orgs", "repos_url": "https://api.github.com/users/piskvorky/repos", "events_url": "https://api.github.com/users/piskvorky/events{/privacy}", "received_events_url": "https://api.github.com/users/piskvorky/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 175643, "node_id": "MDU6TGFiZWwxNzU2NDM=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/documentation", "name": "documentation", "color": "02d7e1", "default": true, "description": "Current issue related to documentation"}, {"id": 1602334164, "node_id": "MDU6TGFiZWwxNjAyMzM0MTY0", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/impact%20LOW", "name": "impact LOW", "color": "0052cc", "default": false, "description": "Low impact on affected users"}, {"id": 1602340302, "node_id": "MDU6TGFiZWwxNjAyMzQwMzAy", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/reach%20LOW", "name": "reach LOW", "color": "5abc21", "default": false, "description": "Affects only niche use-case users"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-04-23T13:50:42Z", "updated_at": "2020-04-24T08:34:56Z", "closed_at": "2020-04-24T08:34:56Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "I see this often in many Github repos (not just Gensim):\r\n\r\n<img width=\"1114\" alt=\"Screen Shot 2020-04-23 at 15 35 54\" src=\"https://user-images.githubusercontent.com/610412/80105011-43e6f280-8578-11ea-8a11-8448e26f429f.png\">\r\n\r\nAccording to https://github.com/badges/shields/issues/1568, this is an issue with Github's non-caching proxy (`https://camo.githubusercontent.com`) timing out when querying the original image (hosted at `https://img.shields.io`).\r\n\r\nThe proxy timeout limit seems to be 4 seconds. So if `img.shields.io` takes longer than 4 seconds to return the image, Github will show a broken image instead.\r\n\r\nGithub injects its proxy automatically to all `<img>` links and I found no way to disable it.\r\n\r\nA solution suggested [here](https://github.com/badges/shields/issues/1568#issuecomment-407860059) is to use *another* proxy, one that caches the img.shields.io response so that github's proxy doesn't time out. For example Google's caching proxy at `https://images1-focus-opensocial.googleusercontent.com/gadgets/proxy`.\r\n\r\nExample of a cached \"shields => google's cache => github's proxy => browser\" badge:\r\n`https://images1-focus-opensocial.googleusercontent.com/gadgets/proxy?container=focus&refresh=3600&url=https%3A%2F%2Fimg.shields.io%2Fpypi%2Fdm%2Fgensim%3Fcolor%3Dblue` ![example](https://images1-focus-opensocial.googleusercontent.com/gadgets/proxy?container=focus&refresh=3600&url=https%3A%2F%2Fimg.shields.io%2Fpypi%2Fdm%2Fgensim%3Fcolor%3Dblue)", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2805/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2805/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2802", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2802/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2802/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2802/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/2802", "id": 604356020, "node_id": "MDU6SXNzdWU2MDQzNTYwMjA=", "number": 2802, "title": "gensim installed with pip on Mac with python 3.7 not finding C extension ", "user": {"login": "hsimpson22", "id": 12161985, "node_id": "MDQ6VXNlcjEyMTYxOTg1", "avatar_url": "https://avatars.githubusercontent.com/u/12161985?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hsimpson22", "html_url": "https://github.com/hsimpson22", "followers_url": "https://api.github.com/users/hsimpson22/followers", "following_url": "https://api.github.com/users/hsimpson22/following{/other_user}", "gists_url": "https://api.github.com/users/hsimpson22/gists{/gist_id}", "starred_url": "https://api.github.com/users/hsimpson22/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hsimpson22/subscriptions", "organizations_url": "https://api.github.com/users/hsimpson22/orgs", "repos_url": "https://api.github.com/users/hsimpson22/repos", "events_url": "https://api.github.com/users/hsimpson22/events{/privacy}", "received_events_url": "https://api.github.com/users/hsimpson22/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 175986, "node_id": "MDU6TGFiZWwxNzU5ODY=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/testing", "name": "testing", "color": "444444", "default": false, "description": "Issue related with testing (code, documentation, etc)"}, {"id": 1602257032, "node_id": "MDU6TGFiZWwxNjAyMjU3MDMy", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/impact%20HIGH", "name": "impact HIGH", "color": "b60205", "default": false, "description": "Show-stopper for affected users"}, {"id": 1602279836, "node_id": "MDU6TGFiZWwxNjAyMjc5ODM2", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/reach%20MEDIUM", "name": "reach MEDIUM", "color": "ef7a1a", "default": false, "description": "Affects a significant number of users"}], "state": "closed", "locked": false, "assignee": {"login": "mpenkov", "id": 1101396, "node_id": "MDQ6VXNlcjExMDEzOTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1101396?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mpenkov", "html_url": "https://github.com/mpenkov", "followers_url": "https://api.github.com/users/mpenkov/followers", "following_url": "https://api.github.com/users/mpenkov/following{/other_user}", "gists_url": "https://api.github.com/users/mpenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/mpenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mpenkov/subscriptions", "organizations_url": "https://api.github.com/users/mpenkov/orgs", "repos_url": "https://api.github.com/users/mpenkov/repos", "events_url": "https://api.github.com/users/mpenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/mpenkov/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "mpenkov", "id": 1101396, "node_id": "MDQ6VXNlcjExMDEzOTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1101396?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mpenkov", "html_url": "https://github.com/mpenkov", "followers_url": "https://api.github.com/users/mpenkov/followers", "following_url": "https://api.github.com/users/mpenkov/following{/other_user}", "gists_url": "https://api.github.com/users/mpenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/mpenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mpenkov/subscriptions", "organizations_url": "https://api.github.com/users/mpenkov/orgs", "repos_url": "https://api.github.com/users/mpenkov/repos", "events_url": "https://api.github.com/users/mpenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/mpenkov/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/milestones/2", "html_url": "https://github.com/RaRe-Technologies/gensim/milestone/2", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/milestones/2/labels", "id": 5313874, "node_id": "MDk6TWlsZXN0b25lNTMxMzg3NA==", "number": 2, "title": "3.8.3", "description": "", "creator": {"login": "mpenkov", "id": 1101396, "node_id": "MDQ6VXNlcjExMDEzOTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1101396?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mpenkov", "html_url": "https://github.com/mpenkov", "followers_url": "https://api.github.com/users/mpenkov/followers", "following_url": "https://api.github.com/users/mpenkov/following{/other_user}", "gists_url": "https://api.github.com/users/mpenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/mpenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mpenkov/subscriptions", "organizations_url": "https://api.github.com/users/mpenkov/orgs", "repos_url": "https://api.github.com/users/mpenkov/repos", "events_url": "https://api.github.com/users/mpenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/mpenkov/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 11, "state": "closed", "created_at": "2020-04-16T01:32:28Z", "updated_at": "2020-07-26T15:42:53Z", "due_on": null, "closed_at": "2020-07-26T15:42:53Z"}, "comments": 23, "created_at": "2020-04-21T23:55:21Z", "updated_at": "2020-05-02T11:24:56Z", "closed_at": "2020-05-02T11:24:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n**IMPORTANT**:\r\n\r\n- Use the [Gensim mailing list](https://groups.google.com/forum/#!forum/gensim) to ask general or usage questions. Github issues are only for bug reports.\r\n- Check [Recipes&FAQ](https://github.com/RaRe-Technologies/gensim/wiki/Recipes-&-FAQ) first for common answers.\r\n\r\nGithub bug reports that do not include relevant information and context will be closed without an answer. Thanks!\r\n-->\r\n\r\n#### Problem description\r\n I am trying to train a w2v model on my local machine (Mac OS 10.14.5), but I am getting message about needing to install C compiler: \r\n\r\n> /Users/hsimpson/envs/py3/lib/python3.7/site-packages/gensim/models/base_any2vec.py:743: UserWarning: C extension not loaded, training will be slow. Install a C compiler and reinstall gensim for fast training.\r\n\r\n#### Steps/code/corpus to reproduce\r\n\r\nany call to gensim.models.Word2Vec \r\n\r\nI am working in a python3 virtual env (name = `py3`)\r\n\r\nI tried the following to fix: \r\n- `pip install --upgrade gensim`\r\nresponse is : \r\n> `Requirement already up-to-date: gensim in /Users/hsimpson/envs/py3/lib/python3.7/site-packages (3.8.2)` \r\nand get `Requirement already satisfied` messages for all dependencies\r\n\r\n- `pip uninstall gensim; pip install gensim`\r\nthis installed that same version `3.8.2` \r\n\r\nneither solved the problem . \r\n\r\nI know installing conda might fix as it did for user **guo18306671737**  in  https://github.com/RaRe-Technologies/gensim/issues/2572 but I don't use conda anymore as it has caused issues for me with paths etc.  so would really like pip install to work for me  -- for that user looks like the problem was attributed to being Windows specific but I am on a Mac so thought it's worth letting you know at least --- that user was also on Python 3.7\r\n\r\n#### Versions\r\n\r\non CLI & in PyCharm (both with virtual env py3):\r\n```\r\nDarwin-18.6.0-x86_64-i386-64bit\r\nPython 3.7.5 (default, Nov  1 2019, 02:16:32) \r\n[Clang 11.0.0 (clang-1100.0.33.8)]\r\nNumPy 1.16.5\r\nSciPy 1.3.1\r\ngensim 3.8.1\r\nFAST_VERSION -1\r\n```\r\nin jupyter notebook, with either Python3 or py3 kernel selected: \r\n```\r\nDarwin-18.6.0-x86_64-i386-64bit\r\nPython 3.7.5 (default, Nov  1 2019, 02:16:32) \r\n[Clang 11.0.0 (clang-1100.0.33.8)]\r\nNumPy 1.16.4\r\nSciPy 1.4.1\r\ngensim 3.2.0\r\nFAST_VERSION -1\r\n```\r\nso, strangely, the gensim version pip says it installed (`3.8.2`), the version in CLI/PyCharm (`3.8.1`) and version in jupyter notebook kernel (`3.2.0`) all do not match ..  not sure why .. in my notebook I had to prepend the path to `/Users/hsimpson/envs/py3/lib/python3.7/site-packages` (where pip says it's installing gensim 3.8.2) in order to get spacy to be imported, but it still says it's running `gensim 3.2.0`\r\n\r\nhowever since both `3.8.1` and `3.2.0` versions say FAST_VERSION -1 not sure if that matters", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2802/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2802/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2796", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2796/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2796/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2796/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/2796", "id": 600178525, "node_id": "MDU6SXNzdWU2MDAxNzg1MjU=", "number": 2796, "title": "Inconsistency between pip version (3.8.2) and installed version (3.8.1)", "user": {"login": "dpasqualin", "id": 68142, "node_id": "MDQ6VXNlcjY4MTQy", "avatar_url": "https://avatars.githubusercontent.com/u/68142?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dpasqualin", "html_url": "https://github.com/dpasqualin", "followers_url": "https://api.github.com/users/dpasqualin/followers", "following_url": "https://api.github.com/users/dpasqualin/following{/other_user}", "gists_url": "https://api.github.com/users/dpasqualin/gists{/gist_id}", "starred_url": "https://api.github.com/users/dpasqualin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dpasqualin/subscriptions", "organizations_url": "https://api.github.com/users/dpasqualin/orgs", "repos_url": "https://api.github.com/users/dpasqualin/repos", "events_url": "https://api.github.com/users/dpasqualin/events{/privacy}", "received_events_url": "https://api.github.com/users/dpasqualin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/milestones/2", "html_url": "https://github.com/RaRe-Technologies/gensim/milestone/2", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/milestones/2/labels", "id": 5313874, "node_id": "MDk6TWlsZXN0b25lNTMxMzg3NA==", "number": 2, "title": "3.8.3", "description": "", "creator": {"login": "mpenkov", "id": 1101396, "node_id": "MDQ6VXNlcjExMDEzOTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1101396?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mpenkov", "html_url": "https://github.com/mpenkov", "followers_url": "https://api.github.com/users/mpenkov/followers", "following_url": "https://api.github.com/users/mpenkov/following{/other_user}", "gists_url": "https://api.github.com/users/mpenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/mpenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mpenkov/subscriptions", "organizations_url": "https://api.github.com/users/mpenkov/orgs", "repos_url": "https://api.github.com/users/mpenkov/repos", "events_url": "https://api.github.com/users/mpenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/mpenkov/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 11, "state": "closed", "created_at": "2020-04-16T01:32:28Z", "updated_at": "2020-07-26T15:42:53Z", "due_on": null, "closed_at": "2020-07-26T15:42:53Z"}, "comments": 4, "created_at": "2020-04-15T10:05:36Z", "updated_at": "2020-07-15T09:36:43Z", "closed_at": "2020-05-01T02:14:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Problem description\r\nThe gensim package version is 3.8.2 on [pip](https://pypi.org/project/gensim/), but after installing it and checking the version on python console I see 3.8.1:\r\n```python\r\nimport gensim\r\ngensim.__version__\r\n# '3.8.1'\r\n```\r\n\r\n#### Versions\r\n```bash\r\nLinux-5.3.0-46-generic-x86_64-with-glibc2.10\r\nPython 3.8.2 (default, Mar 26 2020, 15:53:00) \r\n[GCC 7.3.0]\r\nNumPy 1.18.1\r\nSciPy 1.4.1\r\ngensim 3.8.1\r\nFAST_VERSION 1\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2796/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2796/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2794", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2794/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2794/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2794/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/2794", "id": 599654716, "node_id": "MDU6SXNzdWU1OTk2NTQ3MTY=", "number": 2794, "title": "FAST_VERSION is -1 when using latest gensim (3.8.1) ", "user": {"login": "cfd-01", "id": 60528514, "node_id": "MDQ6VXNlcjYwNTI4NTE0", "avatar_url": "https://avatars.githubusercontent.com/u/60528514?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cfd-01", "html_url": "https://github.com/cfd-01", "followers_url": "https://api.github.com/users/cfd-01/followers", "following_url": "https://api.github.com/users/cfd-01/following{/other_user}", "gists_url": "https://api.github.com/users/cfd-01/gists{/gist_id}", "starred_url": "https://api.github.com/users/cfd-01/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cfd-01/subscriptions", "organizations_url": "https://api.github.com/users/cfd-01/orgs", "repos_url": "https://api.github.com/users/cfd-01/repos", "events_url": "https://api.github.com/users/cfd-01/events{/privacy}", "received_events_url": "https://api.github.com/users/cfd-01/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 708430967, "node_id": "MDU6TGFiZWw3MDg0MzA5Njc=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/performance", "name": "performance", "color": "d93f0b", "default": false, "description": "Issue related to performance (in HW meaning)"}, {"id": 1602257032, "node_id": "MDU6TGFiZWwxNjAyMjU3MDMy", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/impact%20HIGH", "name": "impact HIGH", "color": "b60205", "default": false, "description": "Show-stopper for affected users"}, {"id": 1602278675, "node_id": "MDU6TGFiZWwxNjAyMjc4Njc1", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/reach%20HIGH", "name": "reach HIGH", "color": "229e03", "default": false, "description": "Affects most or all Gensim users"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/milestones/2", "html_url": "https://github.com/RaRe-Technologies/gensim/milestone/2", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/milestones/2/labels", "id": 5313874, "node_id": "MDk6TWlsZXN0b25lNTMxMzg3NA==", "number": 2, "title": "3.8.3", "description": "", "creator": {"login": "mpenkov", "id": 1101396, "node_id": "MDQ6VXNlcjExMDEzOTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1101396?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mpenkov", "html_url": "https://github.com/mpenkov", "followers_url": "https://api.github.com/users/mpenkov/followers", "following_url": "https://api.github.com/users/mpenkov/following{/other_user}", "gists_url": "https://api.github.com/users/mpenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/mpenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mpenkov/subscriptions", "organizations_url": "https://api.github.com/users/mpenkov/orgs", "repos_url": "https://api.github.com/users/mpenkov/repos", "events_url": "https://api.github.com/users/mpenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/mpenkov/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 11, "state": "closed", "created_at": "2020-04-16T01:32:28Z", "updated_at": "2020-07-26T15:42:53Z", "due_on": null, "closed_at": "2020-07-26T15:42:53Z"}, "comments": 15, "created_at": "2020-04-14T15:20:35Z", "updated_at": "2020-04-17T06:26:40Z", "closed_at": "2020-04-17T06:26:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n**IMPORTANT**:\r\n\r\n- Use the [Gensim mailing list](https://groups.google.com/forum/#!forum/gensim) to ask general or usage questions. Github issues are only for bug reports.\r\n- Check [Recipes&FAQ](https://github.com/RaRe-Technologies/gensim/wiki/Recipes-&-FAQ) first for common answers.\r\n\r\nGithub bug reports that do not include relevant information and context will be closed without an answer. Thanks!\r\n-->\r\n\r\n#### Problem description\r\n\r\n`assert gensim.models.doc2vec.FAST_VERSION > -1` fails with gensim 3.8.1, even though it works with 3.7.0.\r\n\r\n#### Steps/code/corpus to reproduce\r\nWhen I install the latest version of gensim using `pip install --upgrade gensim`, I observe the following:\r\n```>>> import multiprocessing\r\n>>> import gensim.models.doc2vec\r\n>>> assert gensim.models.doc2vec.FAST_VERSION > -1, \"This will be painfully slow otherwise\"\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\nAssertionError: This will be painfully slow otherwise\r\n```  \r\nWhen I roll back to version 3.7, the assertion passes:\r\n```\r\n>>> import multiprocessing\r\n>>> import gensim.models.doc2vec\r\n>>> assert gensim.models.doc2vec.FAST_VERSION > -1, \"This will be painfully slow otherwise\"\r\n>>> \r\n```\r\n\r\n\r\n#### Versions\r\n```\r\n>>> import platform; print(platform.platform())\r\nDarwin-18.7.0-x86_64-i386-64bit\r\n>>> import sys; print(\"Python\", sys.version)\r\nPython 3.7.6 (default, Dec 30 2019, 19:38:28) \r\n[Clang 11.0.0 (clang-1100.0.33.16)]\r\n>>> import numpy; print(\"NumPy\", numpy.__version__)\r\nNumPy 1.18.1\r\n>>> import scipy; print(\"SciPy\", scipy.__version__)\r\nSciPy 1.4.1\r\n>>> import gensim; print(\"gensim\", gensim.__version__)\r\ngensim 3.8.1\r\n>>> from gensim.models import word2vec;print(\"FAST_VERSION\", word2vec.FAST_VERSION)\r\nFAST_VERSION -1\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2794/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2794/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2788", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2788/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2788/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2788/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/2788", "id": 597441359, "node_id": "MDU6SXNzdWU1OTc0NDEzNTk=", "number": 2788, "title": "Do test instructions still work?", "user": {"login": "piskvorky", "id": 610412, "node_id": "MDQ6VXNlcjYxMDQxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/610412?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piskvorky", "html_url": "https://github.com/piskvorky", "followers_url": "https://api.github.com/users/piskvorky/followers", "following_url": "https://api.github.com/users/piskvorky/following{/other_user}", "gists_url": "https://api.github.com/users/piskvorky/gists{/gist_id}", "starred_url": "https://api.github.com/users/piskvorky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piskvorky/subscriptions", "organizations_url": "https://api.github.com/users/piskvorky/orgs", "repos_url": "https://api.github.com/users/piskvorky/repos", "events_url": "https://api.github.com/users/piskvorky/events{/privacy}", "received_events_url": "https://api.github.com/users/piskvorky/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 175643, "node_id": "MDU6TGFiZWwxNzU2NDM=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/documentation", "name": "documentation", "color": "02d7e1", "default": true, "description": "Current issue related to documentation"}, {"id": 175986, "node_id": "MDU6TGFiZWwxNzU5ODY=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/testing", "name": "testing", "color": "444444", "default": false, "description": "Issue related with testing (code, documentation, etc)"}, {"id": 1602334164, "node_id": "MDU6TGFiZWwxNjAyMzM0MTY0", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/impact%20LOW", "name": "impact LOW", "color": "0052cc", "default": false, "description": "Low impact on affected users"}, {"id": 1602340302, "node_id": "MDU6TGFiZWwxNjAyMzQwMzAy", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/reach%20LOW", "name": "reach LOW", "color": "5abc21", "default": false, "description": "Affects only niche use-case users"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/milestones/2", "html_url": "https://github.com/RaRe-Technologies/gensim/milestone/2", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/milestones/2/labels", "id": 5313874, "node_id": "MDk6TWlsZXN0b25lNTMxMzg3NA==", "number": 2, "title": "3.8.3", "description": "", "creator": {"login": "mpenkov", "id": 1101396, "node_id": "MDQ6VXNlcjExMDEzOTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1101396?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mpenkov", "html_url": "https://github.com/mpenkov", "followers_url": "https://api.github.com/users/mpenkov/followers", "following_url": "https://api.github.com/users/mpenkov/following{/other_user}", "gists_url": "https://api.github.com/users/mpenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/mpenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mpenkov/subscriptions", "organizations_url": "https://api.github.com/users/mpenkov/orgs", "repos_url": "https://api.github.com/users/mpenkov/repos", "events_url": "https://api.github.com/users/mpenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/mpenkov/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 11, "state": "closed", "created_at": "2020-04-16T01:32:28Z", "updated_at": "2020-07-26T15:42:53Z", "due_on": null, "closed_at": "2020-07-26T15:42:53Z"}, "comments": 9, "created_at": "2020-04-09T17:32:23Z", "updated_at": "2020-05-01T02:13:06Z", "closed_at": "2020-05-01T02:13:06Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "In our [README](https://github.com/RaRe-Technologies/gensim#installation), we tell users to run `python setup.py test`.\r\n\r\nOne user [reported on our mailing list](https://groups.google.com/forum/#!topic/gensim/JfeV2phNTjk) that this doesn't actually work.\r\n\r\nWe should fix the docs or the tests \u2013\u00a0whichever is at fault here.", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2788/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2788/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2786", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2786/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2786/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2786/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/2786", "id": 597157351, "node_id": "MDU6SXNzdWU1OTcxNTczNTE=", "number": 2786, "title": "Recent versions of smart-open (1.11.0 and 1.11.1)  break gensim in Python 2.7", "user": {"login": "brukau", "id": 15345943, "node_id": "MDQ6VXNlcjE1MzQ1OTQz", "avatar_url": "https://avatars.githubusercontent.com/u/15345943?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brukau", "html_url": "https://github.com/brukau", "followers_url": "https://api.github.com/users/brukau/followers", "following_url": "https://api.github.com/users/brukau/following{/other_user}", "gists_url": "https://api.github.com/users/brukau/gists{/gist_id}", "starred_url": "https://api.github.com/users/brukau/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brukau/subscriptions", "organizations_url": "https://api.github.com/users/brukau/orgs", "repos_url": "https://api.github.com/users/brukau/repos", "events_url": "https://api.github.com/users/brukau/events{/privacy}", "received_events_url": "https://api.github.com/users/brukau/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 1602257032, "node_id": "MDU6TGFiZWwxNjAyMjU3MDMy", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/impact%20HIGH", "name": "impact HIGH", "color": "b60205", "default": false, "description": "Show-stopper for affected users"}, {"id": 1602278675, "node_id": "MDU6TGFiZWwxNjAyMjc4Njc1", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/reach%20HIGH", "name": "reach HIGH", "color": "229e03", "default": false, "description": "Affects most or all Gensim users"}], "state": "closed", "locked": false, "assignee": {"login": "mpenkov", "id": 1101396, "node_id": "MDQ6VXNlcjExMDEzOTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1101396?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mpenkov", "html_url": "https://github.com/mpenkov", "followers_url": "https://api.github.com/users/mpenkov/followers", "following_url": "https://api.github.com/users/mpenkov/following{/other_user}", "gists_url": "https://api.github.com/users/mpenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/mpenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mpenkov/subscriptions", "organizations_url": "https://api.github.com/users/mpenkov/orgs", "repos_url": "https://api.github.com/users/mpenkov/repos", "events_url": "https://api.github.com/users/mpenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/mpenkov/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "mpenkov", "id": 1101396, "node_id": "MDQ6VXNlcjExMDEzOTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1101396?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mpenkov", "html_url": "https://github.com/mpenkov", "followers_url": "https://api.github.com/users/mpenkov/followers", "following_url": "https://api.github.com/users/mpenkov/following{/other_user}", "gists_url": "https://api.github.com/users/mpenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/mpenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mpenkov/subscriptions", "organizations_url": "https://api.github.com/users/mpenkov/orgs", "repos_url": "https://api.github.com/users/mpenkov/repos", "events_url": "https://api.github.com/users/mpenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/mpenkov/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/milestones/2", "html_url": "https://github.com/RaRe-Technologies/gensim/milestone/2", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/milestones/2/labels", "id": 5313874, "node_id": "MDk6TWlsZXN0b25lNTMxMzg3NA==", "number": 2, "title": "3.8.3", "description": "", "creator": {"login": "mpenkov", "id": 1101396, "node_id": "MDQ6VXNlcjExMDEzOTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1101396?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mpenkov", "html_url": "https://github.com/mpenkov", "followers_url": "https://api.github.com/users/mpenkov/followers", "following_url": "https://api.github.com/users/mpenkov/following{/other_user}", "gists_url": "https://api.github.com/users/mpenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/mpenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mpenkov/subscriptions", "organizations_url": "https://api.github.com/users/mpenkov/orgs", "repos_url": "https://api.github.com/users/mpenkov/repos", "events_url": "https://api.github.com/users/mpenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/mpenkov/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 11, "state": "closed", "created_at": "2020-04-16T01:32:28Z", "updated_at": "2020-07-26T15:42:53Z", "due_on": null, "closed_at": "2020-07-26T15:42:53Z"}, "comments": 19, "created_at": "2020-04-09T09:42:49Z", "updated_at": "2020-05-01T02:17:16Z", "closed_at": "2020-05-01T02:17:15Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Problem description\r\n\r\nWhat are you trying to achieve? What is the expected result? What are you seeing instead?\r\n\r\nUsing gensim with Python2.7\r\n\r\n#### Steps/code/corpus to reproduce\r\n```\r\npip install gensim\r\n...\r\npython\r\n>>> import gensim\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/home/brukau/tmp/gensim/local/lib/python2.7/site-packages/gensim/__init__.py\", line 5, in <module>\r\n    from gensim import parsing, corpora, matutils, interfaces, models, similarities, summarization, utils  # noqa:F401\r\n  File \"/home/brukau/tmp/gensim/local/lib/python2.7/site-packages/gensim/parsing/__init__.py\", line 4, in <module>\r\n    from .preprocessing import (remove_stopwords, strip_punctuation, strip_punctuation2,  # noqa:F401\r\n  File \"/home/brukau/tmp/gensim/local/lib/python2.7/site-packages/gensim/parsing/preprocessing.py\", line 42, in <module>\r\n    from gensim import utils\r\n  File \"/home/brukau/tmp/gensim/local/lib/python2.7/site-packages/gensim/utils.py\", line 45, in <module>\r\n    from smart_open import open\r\n  File \"/home/brukau/tmp/gensim/local/lib/python2.7/site-packages/smart_open/__init__.py\", line 28, in <module>\r\n    from .smart_open_lib import open, parse_uri, smart_open, register_compressor\r\n  File \"/home/brukau/tmp/gensim/local/lib/python2.7/site-packages/smart_open/smart_open_lib.py\", line 23, in <module>\r\n    import pathlib\r\nImportError: No module named pathlib\r\n>>> \r\n```\r\n\r\n#### Versions\r\n\r\nPlease provide the output of:\r\n\r\n```python\r\nimport platform; print(platform.platform())\r\nimport sys; print(\"Python\", sys.version)\r\nimport numpy; print(\"NumPy\", numpy.__version__)\r\nimport scipy; print(\"SciPy\", scipy.__version__)\r\nimport gensim; print(\"gensim\", gensim.__version__)\r\nfrom gensim.models import word2vec;print(\"FAST_VERSION\", word2vec.FAST_VERSION)\r\n```\r\n\r\nLinux-5.3.0-45-generic-x86_64-with-Ubuntu-19.10-eoan\r\n('Python', '2.7.17 (default, Nov  7 2019, 10:07:09) \\n[GCC 9.2.1 20191008]')\r\n('NumPy', '1.16.1')\r\n('SciPy', '1.2.3')\r\ngensim import fails\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2786/reactions", "total_count": 3, "+1": 3, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2786/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2779", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2779/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2779/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2779/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/2779", "id": 590611601, "node_id": "MDU6SXNzdWU1OTA2MTE2MDE=", "number": 2779, "title": "AttributeError: module 'smart_open' has no attribute 's3'", "user": {"login": "eliksr", "id": 4199205, "node_id": "MDQ6VXNlcjQxOTkyMDU=", "avatar_url": "https://avatars.githubusercontent.com/u/4199205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eliksr", "html_url": "https://github.com/eliksr", "followers_url": "https://api.github.com/users/eliksr/followers", "following_url": "https://api.github.com/users/eliksr/following{/other_user}", "gists_url": "https://api.github.com/users/eliksr/gists{/gist_id}", "starred_url": "https://api.github.com/users/eliksr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eliksr/subscriptions", "organizations_url": "https://api.github.com/users/eliksr/orgs", "repos_url": "https://api.github.com/users/eliksr/repos", "events_url": "https://api.github.com/users/eliksr/events{/privacy}", "received_events_url": "https://api.github.com/users/eliksr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/milestones/2", "html_url": "https://github.com/RaRe-Technologies/gensim/milestone/2", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/milestones/2/labels", "id": 5313874, "node_id": "MDk6TWlsZXN0b25lNTMxMzg3NA==", "number": 2, "title": "3.8.3", "description": "", "creator": {"login": "mpenkov", "id": 1101396, "node_id": "MDQ6VXNlcjExMDEzOTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1101396?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mpenkov", "html_url": "https://github.com/mpenkov", "followers_url": "https://api.github.com/users/mpenkov/followers", "following_url": "https://api.github.com/users/mpenkov/following{/other_user}", "gists_url": "https://api.github.com/users/mpenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/mpenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mpenkov/subscriptions", "organizations_url": "https://api.github.com/users/mpenkov/orgs", "repos_url": "https://api.github.com/users/mpenkov/repos", "events_url": "https://api.github.com/users/mpenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/mpenkov/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 11, "state": "closed", "created_at": "2020-04-16T01:32:28Z", "updated_at": "2020-07-26T15:42:53Z", "due_on": null, "closed_at": "2020-07-26T15:42:53Z"}, "comments": 18, "created_at": "2020-03-30T21:33:25Z", "updated_at": "2020-05-02T11:26:06Z", "closed_at": "2020-05-02T11:26:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "python 3.6\r\ntrying to import gensim and got:\r\n\r\n```python\r\nAttributeError                            Traceback (most recent call last)\r\n<ipython-input-8-492cbaec3fd5> in <module>()\r\n     12 import configparser\r\n     13 \r\n---> 14 from dataset.conversation import Conversation\r\n     15 # from train import train\r\n     16 logging.basicConfig(stream=sys.stdout, format=\"%(asctime)s %(levelname)s %(message)s\", level=logging.INFO)\r\n\r\n~/SageMaker/conversation-platform/src/dataset/conversation.py in <module>()\r\n      5 import torch\r\n      6 import json\r\n----> 7 from preprocess.builder import PipeBuilder\r\n      8 from utils import VECTORIZED_COL, PATICIPANT_COL, BEGIN_TIME_COL, END_TIME_COL, AGENT_COL, CUSTOMER_COL\r\n      9 \r\n\r\n~/SageMaker/conversation-platform/src/preprocess/builder.py in <module>()\r\n----> 1 from preprocess.filtering import IntervalsFilter, ParticipateFilter\r\n      2 import preprocess.transformer as transformer\r\n      3 from sklearn.pipeline import Pipeline\r\n      4 from utils import build_embedding_matrix\r\n      5 \r\n\r\n~/SageMaker/conversation-platform/src/preprocess/filtering.py in <module>()\r\n      1 from sklearn.base import BaseEstimator, TransformerMixin\r\n      2 import pandas as pd\r\n----> 3 from utils import UTTERANCE_ITEM\r\n      4 \r\n      5 \r\n\r\n~/SageMaker/conversation-platform/src/utils.py in <module>()\r\n      6 from sklearn import metrics\r\n      7 import numpy as np\r\n----> 8 from gensim.models import KeyedVectors\r\n      9 \r\n     10 \r\n\r\n~/anaconda3/envs/pytorch_p36/lib/python3.6/site-packages/gensim/__init__.py in <module>()\r\n      3 \"\"\"\r\n      4 \r\n----> 5 from gensim import parsing, corpora, matutils, interfaces, models, similarities, summarization, utils  # noqa:F401\r\n      6 import logging\r\n      7 \r\n\r\n~/anaconda3/envs/pytorch_p36/lib/python3.6/site-packages/gensim/parsing/__init__.py in <module>()\r\n      2 \r\n      3 from .porter import PorterStemmer  # noqa:F401\r\n----> 4 from .preprocessing import (remove_stopwords, strip_punctuation, strip_punctuation2,  # noqa:F401\r\n      5                             strip_tags, strip_short, strip_numeric,\r\n      6                             strip_non_alphanum, strip_multiple_whitespaces,\r\n\r\n~/anaconda3/envs/pytorch_p36/lib/python3.6/site-packages/gensim/parsing/preprocessing.py in <module>()\r\n     40 import glob\r\n     41 \r\n---> 42 from gensim import utils\r\n     43 from gensim.parsing.porter import PorterStemmer\r\n     44 \r\n\r\n~/anaconda3/envs/pytorch_p36/lib/python3.6/site-packages/gensim/utils.py in <module>()\r\n     43 from six.moves import range\r\n     44 \r\n---> 45 from smart_open import open\r\n     46 \r\n     47 from multiprocessing import cpu_count\r\n\r\n~/anaconda3/envs/pytorch_p36/lib/python3.6/site-packages/smart_open/__init__.py in <module>()\r\n     25 from smart_open import version\r\n     26 \r\n---> 27 from .smart_open_lib import open, smart_open, register_compressor\r\n     28 from .s3 import iter_bucket as s3_iter_bucket\r\n     29 __all__ = ['open', 'smart_open', 's3_iter_bucket', 'register_compressor']\r\n\r\n~/anaconda3/envs/pytorch_p36/lib/python3.6/site-packages/smart_open/smart_open_lib.py in <module>()\r\n     36 # smart_open.submodule to reference to the submodules.\r\n     37 #\r\n---> 38 import smart_open.s3 as smart_open_s3\r\n     39 import smart_open.hdfs as smart_open_hdfs\r\n     40 import smart_open.webhdfs as smart_open_webhdfs\r\n\r\nAttributeError: module 'smart_open' has no attribute 's3'\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2779/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2779/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2746", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2746/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2746/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2746/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/2746", "id": 561079926, "node_id": "MDU6SXNzdWU1NjEwNzk5MjY=", "number": 2746, "title": "Word2Vec ns_exponent cannot be changed from default", "user": {"login": "coopwilliams", "id": 6357375, "node_id": "MDQ6VXNlcjYzNTczNzU=", "avatar_url": "https://avatars.githubusercontent.com/u/6357375?v=4", "gravatar_id": "", "url": "https://api.github.com/users/coopwilliams", "html_url": "https://github.com/coopwilliams", "followers_url": "https://api.github.com/users/coopwilliams/followers", "following_url": "https://api.github.com/users/coopwilliams/following{/other_user}", "gists_url": "https://api.github.com/users/coopwilliams/gists{/gist_id}", "starred_url": "https://api.github.com/users/coopwilliams/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/coopwilliams/subscriptions", "organizations_url": "https://api.github.com/users/coopwilliams/orgs", "repos_url": "https://api.github.com/users/coopwilliams/repos", "events_url": "https://api.github.com/users/coopwilliams/events{/privacy}", "received_events_url": "https://api.github.com/users/coopwilliams/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-02-06T15:17:19Z", "updated_at": "2020-07-14T02:58:19Z", "closed_at": "2020-07-14T02:58:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Problem description\r\n\r\nI am trying to train Word2Vec and tune the `ns_exponent` hyperparameter. When I initialize the model, I set `ns_exponent = 0.5`, but find that it has reset to the default of `ns_exponent = 0.75` immediately after initializing.\r\n\r\nI looked through the Word2Vec source code for any mentions of `ns_exponent`, but found no reason for the class to ignore my argument. I suspected the Vocabulary initialization may have something to do with it, but that seems to take its argument straight from the `__init__`. Neither do I believe that I am overriding the `ns_exponent` setting with one of the other parameters, because this occurs even when `ns_exponent` is the only one explicitly set.\r\n\r\n#### Steps/code/corpus to reproduce\r\n\r\n```\r\nmodel = Word2Vec(ns_exponent = 0.5)\r\nprint(model.ns_exponent)\r\n```\r\n\r\nThe printed output is: \r\n\r\n```\r\n0.75\r\n```\r\n\r\nand the resulting model's `ns_exponent` attribute is set to 0.75 as well.\r\n\r\n\r\n#### Versions\r\n\r\n```\r\nWindows-10-10.0.18362-SP0\r\nPython 3.7.4 (default, Aug  9 2019, 18:34:13) [MSC v.1915 64 bit (AMD64)]\r\nNumPy 1.16.0\r\nSciPy 1.1.0\r\ngensim 3.6.0\r\nFAST_VERSION 0\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2746/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2746/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2686", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2686/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2686/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2686/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/2686", "id": 528180991, "node_id": "MDU6SXNzdWU1MjgxODA5OTE=", "number": 2686, "title": "lda mallet random seed not working", "user": {"login": "carlodavid012", "id": 29329735, "node_id": "MDQ6VXNlcjI5MzI5NzM1", "avatar_url": "https://avatars.githubusercontent.com/u/29329735?v=4", "gravatar_id": "", "url": "https://api.github.com/users/carlodavid012", "html_url": "https://github.com/carlodavid012", "followers_url": "https://api.github.com/users/carlodavid012/followers", "following_url": "https://api.github.com/users/carlodavid012/following{/other_user}", "gists_url": "https://api.github.com/users/carlodavid012/gists{/gist_id}", "starred_url": "https://api.github.com/users/carlodavid012/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/carlodavid012/subscriptions", "organizations_url": "https://api.github.com/users/carlodavid012/orgs", "repos_url": "https://api.github.com/users/carlodavid012/repos", "events_url": "https://api.github.com/users/carlodavid012/events{/privacy}", "received_events_url": "https://api.github.com/users/carlodavid012/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-11-25T16:01:06Z", "updated_at": "2021-03-03T14:24:49Z", "closed_at": "2020-03-03T23:41:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Problem description\r\n\r\nI tried to use random_seed on ldamallet but its not working\r\n\r\n#### Code\r\n```\r\nmallet_path = 'mallet-2.0.8/mallet-2.0.8/bin/mallet' \r\nldamallet = gensim.models.wrappers.LdaMallet(mallet_path, corpus=corpus, num_topics=25, id2word=id2word, random_seed = 0)\r\n```\r\n\r\n#### Output:\r\n\r\nThe model shows different output everytime i print out the topics\r\n\r\n#### Versions:\r\n\r\nLinux-4.15.0-70-generic-x86_64-with-debian-buster-sid\r\nPython 3.7.2 (default, Dec 29 2018, 06:19:36) \r\n[GCC 7.3.0]\r\nNumPy 1.15.1\r\nSciPy 1.1.0\r\ngensim 3.8.1\r\nFAST_VERSION 1\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2686/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2686/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2670", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2670/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2670/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2670/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/2670", "id": 519064545, "node_id": "MDU6SXNzdWU1MTkwNjQ1NDU=", "number": 2670, "title": "Python 3.7.3, gensim 3.8.1: UnboundLocalError: local variable 'doc_no2' referenced before assignment", "user": {"login": "paulrigor", "id": 5049480, "node_id": "MDQ6VXNlcjUwNDk0ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/5049480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/paulrigor", "html_url": "https://github.com/paulrigor", "followers_url": "https://api.github.com/users/paulrigor/followers", "following_url": "https://api.github.com/users/paulrigor/following{/other_user}", "gists_url": "https://api.github.com/users/paulrigor/gists{/gist_id}", "starred_url": "https://api.github.com/users/paulrigor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/paulrigor/subscriptions", "organizations_url": "https://api.github.com/users/paulrigor/orgs", "repos_url": "https://api.github.com/users/paulrigor/repos", "events_url": "https://api.github.com/users/paulrigor/events{/privacy}", "received_events_url": "https://api.github.com/users/paulrigor/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 233081, "node_id": "MDU6TGFiZWwyMzMwODE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20easy", "name": "difficulty easy", "color": "00ff00", "default": false, "description": "Easy issue: required small fix"}, {"id": 1602257032, "node_id": "MDU6TGFiZWwxNjAyMjU3MDMy", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/impact%20HIGH", "name": "impact HIGH", "color": "b60205", "default": false, "description": "Show-stopper for affected users"}, {"id": 1602340302, "node_id": "MDU6TGFiZWwxNjAyMzQwMzAy", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/reach%20LOW", "name": "reach LOW", "color": "5abc21", "default": false, "description": "Affects only niche use-case users"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-11-07T06:16:17Z", "updated_at": "2019-11-23T11:50:18Z", "closed_at": "2019-11-23T11:50:18Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Client code:\r\n`    model = LogEntropyModel(corpus=data_corpus, normalize=True)\r\n`\r\nReferenced code:\r\nhttps://github.com/RaRe-Technologies/gensim/blob/44ea7931c916349821aa1c717fbf7e90fb138297/gensim/models/logentropy_model.py#L115\r\n\r\nException thrown:\r\n\r\n```\r\n  File \"/anaconda3/lib/python3.7/site-packages/gensim/models/logentropy_model.py\", line 76, in __init__\r\n    self.initialize(corpus)\r\n  File \"/anaconda3/lib/python3.7/site-packages/gensim/models/logentropy_model.py\", line 115, in initialize\r\n    if doc_no2 != doc_no:\r\nUnboundLocalError: local variable 'doc_no2' referenced before assignment\r\n\r\n```", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2670/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2670/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2637", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2637/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2637/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2637/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/2637", "id": 508322487, "node_id": "MDU6SXNzdWU1MDgzMjI0ODc=", "number": 2637, "title": "Incomplete DTM docs", "user": {"login": "piskvorky", "id": 610412, "node_id": "MDQ6VXNlcjYxMDQxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/610412?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piskvorky", "html_url": "https://github.com/piskvorky", "followers_url": "https://api.github.com/users/piskvorky/followers", "following_url": "https://api.github.com/users/piskvorky/following{/other_user}", "gists_url": "https://api.github.com/users/piskvorky/gists{/gist_id}", "starred_url": "https://api.github.com/users/piskvorky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piskvorky/subscriptions", "organizations_url": "https://api.github.com/users/piskvorky/orgs", "repos_url": "https://api.github.com/users/piskvorky/repos", "events_url": "https://api.github.com/users/piskvorky/events{/privacy}", "received_events_url": "https://api.github.com/users/piskvorky/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 175643, "node_id": "MDU6TGFiZWwxNzU2NDM=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/documentation", "name": "documentation", "color": "02d7e1", "default": true, "description": "Current issue related to documentation"}, {"id": 1072221028, "node_id": "MDU6TGFiZWwxMDcyMjIxMDI4", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/Hacktoberfest", "name": "Hacktoberfest", "color": "b396e0", "default": false, "description": "Issues marked for hacktoberfest"}, {"id": 1602334164, "node_id": "MDU6TGFiZWwxNjAyMzM0MTY0", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/impact%20LOW", "name": "impact LOW", "color": "0052cc", "default": false, "description": "Low impact on affected users"}, {"id": 1602340302, "node_id": "MDU6TGFiZWwxNjAyMzQwMzAy", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/reach%20LOW", "name": "reach LOW", "color": "5abc21", "default": false, "description": "Affects only niche use-case users"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-10-17T08:37:34Z", "updated_at": "2019-11-03T07:12:16Z", "closed_at": "2019-11-03T07:12:16Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "In https://radimrehurek.com/gensim/models/wrappers/dtmmodel.html#gensim.models.wrappers.dtmmodel.DtmModel : \r\n\r\n```\r\ntop_chain_var (int, optional) \u2013 Hyperparameter that affects.\r\n```\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2637/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2637/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2600", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2600/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2600/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2600/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/2600", "id": 491070569, "node_id": "MDU6SXNzdWU0OTEwNzA1Njk=", "number": 2600, "title": "Missing wheels for Windows", "user": {"login": "piskvorky", "id": 610412, "node_id": "MDQ6VXNlcjYxMDQxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/610412?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piskvorky", "html_url": "https://github.com/piskvorky", "followers_url": "https://api.github.com/users/piskvorky/followers", "following_url": "https://api.github.com/users/piskvorky/following{/other_user}", "gists_url": "https://api.github.com/users/piskvorky/gists{/gist_id}", "starred_url": "https://api.github.com/users/piskvorky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piskvorky/subscriptions", "organizations_url": "https://api.github.com/users/piskvorky/orgs", "repos_url": "https://api.github.com/users/piskvorky/repos", "events_url": "https://api.github.com/users/piskvorky/events{/privacy}", "received_events_url": "https://api.github.com/users/piskvorky/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}], "state": "closed", "locked": false, "assignee": {"login": "mpenkov", "id": 1101396, "node_id": "MDQ6VXNlcjExMDEzOTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1101396?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mpenkov", "html_url": "https://github.com/mpenkov", "followers_url": "https://api.github.com/users/mpenkov/followers", "following_url": "https://api.github.com/users/mpenkov/following{/other_user}", "gists_url": "https://api.github.com/users/mpenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/mpenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mpenkov/subscriptions", "organizations_url": "https://api.github.com/users/mpenkov/orgs", "repos_url": "https://api.github.com/users/mpenkov/repos", "events_url": "https://api.github.com/users/mpenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/mpenkov/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "mpenkov", "id": 1101396, "node_id": "MDQ6VXNlcjExMDEzOTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1101396?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mpenkov", "html_url": "https://github.com/mpenkov", "followers_url": "https://api.github.com/users/mpenkov/followers", "following_url": "https://api.github.com/users/mpenkov/following{/other_user}", "gists_url": "https://api.github.com/users/mpenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/mpenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mpenkov/subscriptions", "organizations_url": "https://api.github.com/users/mpenkov/orgs", "repos_url": "https://api.github.com/users/mpenkov/repos", "events_url": "https://api.github.com/users/mpenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/mpenkov/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 12, "created_at": "2019-09-09T12:38:27Z", "updated_at": "2019-10-08T08:12:46Z", "closed_at": "2019-10-08T08:12:46Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Lately, there's been a stream of issues from Windows users, e.g. [here](https://groups.google.com/forum/#!topic/gensim/PbiMySYNPjs).\r\n\r\nLooking at PyPI, it seems binary wheels are completely missing from the last few distributions (incl. the latest 3.8.0):\r\nhttps://pypi.org/project/gensim/#files\r\n\r\nThis means Windows users don't get to install the optimized Gensim easily, and unless they have a compiler properly set up, they'll install the slow (uncompiled) version of word2vec, fastttext etc.\r\n\r\nWe definitely want those binary wheels on PyPI, **especially** for Windows. Windows users are the least tech-savvy, least likely to have a C compiler, and most likely to raise confused support tickets.", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2600/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2600/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2598", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2598/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2598/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2598/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/2598", "id": 490713931, "node_id": "MDU6SXNzdWU0OTA3MTM5MzE=", "number": 2598, "title": "keywords.py gives `IndexError: list index out of range` when `words` parameter is provided.", "user": {"login": "ariel-frischer", "id": 19893395, "node_id": "MDQ6VXNlcjE5ODkzMzk1", "avatar_url": "https://avatars.githubusercontent.com/u/19893395?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ariel-frischer", "html_url": "https://github.com/ariel-frischer", "followers_url": "https://api.github.com/users/ariel-frischer/followers", "following_url": "https://api.github.com/users/ariel-frischer/following{/other_user}", "gists_url": "https://api.github.com/users/ariel-frischer/gists{/gist_id}", "starred_url": "https://api.github.com/users/ariel-frischer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ariel-frischer/subscriptions", "organizations_url": "https://api.github.com/users/ariel-frischer/orgs", "repos_url": "https://api.github.com/users/ariel-frischer/repos", "events_url": "https://api.github.com/users/ariel-frischer/events{/privacy}", "received_events_url": "https://api.github.com/users/ariel-frischer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 1072221028, "node_id": "MDU6TGFiZWwxMDcyMjIxMDI4", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/Hacktoberfest", "name": "Hacktoberfest", "color": "b396e0", "default": false, "description": "Issues marked for hacktoberfest"}, {"id": 1602279836, "node_id": "MDU6TGFiZWwxNjAyMjc5ODM2", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/reach%20MEDIUM", "name": "reach MEDIUM", "color": "ef7a1a", "default": false, "description": "Affects a significant number of users"}, {"id": 1602334164, "node_id": "MDU6TGFiZWwxNjAyMzM0MTY0", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/impact%20LOW", "name": "impact LOW", "color": "0052cc", "default": false, "description": "Low impact on affected users"}], "state": "closed", "locked": false, "assignee": {"login": "mpenkov", "id": 1101396, "node_id": "MDQ6VXNlcjExMDEzOTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1101396?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mpenkov", "html_url": "https://github.com/mpenkov", "followers_url": "https://api.github.com/users/mpenkov/followers", "following_url": "https://api.github.com/users/mpenkov/following{/other_user}", "gists_url": "https://api.github.com/users/mpenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/mpenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mpenkov/subscriptions", "organizations_url": "https://api.github.com/users/mpenkov/orgs", "repos_url": "https://api.github.com/users/mpenkov/repos", "events_url": "https://api.github.com/users/mpenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/mpenkov/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "mpenkov", "id": 1101396, "node_id": "MDQ6VXNlcjExMDEzOTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1101396?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mpenkov", "html_url": "https://github.com/mpenkov", "followers_url": "https://api.github.com/users/mpenkov/followers", "following_url": "https://api.github.com/users/mpenkov/following{/other_user}", "gists_url": "https://api.github.com/users/mpenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/mpenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mpenkov/subscriptions", "organizations_url": "https://api.github.com/users/mpenkov/orgs", "repos_url": "https://api.github.com/users/mpenkov/repos", "events_url": "https://api.github.com/users/mpenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/mpenkov/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2019-09-08T05:47:20Z", "updated_at": "2020-03-21T08:23:54Z", "closed_at": "2020-03-21T08:23:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "Really confused why I'm getting this error. Perhaps I'm making a silly mistake I'm not familiar with gensim and nlp in general.\r\nIm running on Windows 10 Home 64-bit, conda version : 4.7.11, conda-build version : 2.18.8, python version : 3.7.3.final.0\r\nMy code is attempting to get keywords per sentence in a loop. To simplify matters I've isolated the following code that causes this, trying to get keywords from gensim's `keywords.py`.\r\n\r\n```python\r\ns = \"Don\u2019t dive right into solving without a plan (and somehow hope you can muddle your way through).\"\r\nkeywords(s, words=4, scores=False, split=True, lemmatize=True)\r\n\r\nFile \"C:\\Users\\username\\Anaconda3\\envs\\gensim\\lib\\site-packages\\gensim\\summarization\\keywords.py\", line 521, in keywords\r\n    extracted_lemmas = _extract_tokens(graph.nodes(), pagerank_scores, ratio, words)\r\n  File \"C:\\Users\\username\\Anaconda3\\envs\\gensim\\lib\\site-packages\\gensim\\summarization\\keywords.py\", line 304, in _extract_tokens\r\n    return [(scores[lemmas[i]], lemmas[i],) for i in range(int(length))]\r\n  File \"C:\\Users\\username\\Anaconda3\\envs\\gensim\\lib\\site-packages\\gensim\\summarization\\keywords.py\", line 304, in <listcomp>\r\n    return [(scores[lemmas[i]], lemmas[i],) for i in range(int(length))]\r\nIndexError: list index out of range\r\n```\r\n\r\nI've tried setting `scores=True`, `lemmatize=False`, and `split=False` but the same error persists. I've also tried removing the parenthesis and removing the apostrophe, the error persisted. What did work is removing the `words` parameter altogether, but still it shouldn't create an error if it's provided. Thanks for the help in advance!", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2598/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2598/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2595", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2595/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2595/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2595/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/2595", "id": 489041327, "node_id": "MDU6SXNzdWU0ODkwNDEzMjc=", "number": 2595, "title": "Having issue with load vocabulary built in HashDictionary()", "user": {"login": "gauravkoradiya", "id": 25217521, "node_id": "MDQ6VXNlcjI1MjE3NTIx", "avatar_url": "https://avatars.githubusercontent.com/u/25217521?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gauravkoradiya", "html_url": "https://github.com/gauravkoradiya", "followers_url": "https://api.github.com/users/gauravkoradiya/followers", "following_url": "https://api.github.com/users/gauravkoradiya/following{/other_user}", "gists_url": "https://api.github.com/users/gauravkoradiya/gists{/gist_id}", "starred_url": "https://api.github.com/users/gauravkoradiya/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gauravkoradiya/subscriptions", "organizations_url": "https://api.github.com/users/gauravkoradiya/orgs", "repos_url": "https://api.github.com/users/gauravkoradiya/repos", "events_url": "https://api.github.com/users/gauravkoradiya/events{/privacy}", "received_events_url": "https://api.github.com/users/gauravkoradiya/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 708355863, "node_id": "MDU6TGFiZWw3MDgzNTU4NjM=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/need%20info", "name": "need info", "color": "fbca04", "default": false, "description": "Not enough information for reproduce an issue, need more info from author"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-09-04T09:18:55Z", "updated_at": "2019-10-08T08:14:22Z", "closed_at": "2019-10-08T08:14:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n**IMPORTANT**:\r\n\r\n- Use the [Gensim mailing list](https://groups.google.com/forum/#!forum/gensim) to ask general or usage questions. Github issues are only for bug reports.\r\n- Check [Recipes&FAQ](https://github.com/RaRe-Technologies/gensim/wiki/Recipes-&-FAQ) first for common answers.\r\n\r\nGithub bug reports that do not include relevant information and context will be closed without an answer. Thanks!\r\n-->\r\n\r\n#### Problem description\r\n\r\nWhat are you trying to achieve? \r\n:-Build a vocab on wiki corpus online.\r\nWhat is the expected result?\r\n:- It should able to save and load a dict sucessfully.\r\n What are you seeing instead?\r\n:- It is showing error while load a hash dict via load().\r\n\r\n#### Steps/code/corpus to reproduce\r\n\r\n```\r\ndictionary = gensim.corpora.HashDictionary.load('dictionary/results_wordids.txt.bz2')\r\n2019-09-04 14:46:59,356 : INFO : loading HashDictionary object from dictionary/results_wordids.txt.bz2\r\nTraceback (most recent call last):\r\n  File \"C:\\Users\\koradg\\AppData\\Local\\Programs\\Python\\Python36\\lib\\site-packages\\IPython\\core\\interactiveshell.py\", line 3326, in run_code\r\n    exec(code_obj, self.user_global_ns, self.user_ns)\r\n  File \"<ipython-input-11-f4a49c9d73de>\", line 1, in <module>\r\n    dictionary = gensim.corpora.HashDictionary.load('dictionary/results_wordids.txt.bz2')\r\n  File \"C:\\Users\\koradg\\AppData\\Local\\Programs\\Python\\Python36\\lib\\site-packages\\gensim\\utils.py\", line 426, in load\r\n    obj = unpickle(fname)\r\n  File \"C:\\Users\\koradg\\AppData\\Local\\Programs\\Python\\Python36\\lib\\site-packages\\gensim\\utils.py\", line 1384, in unpickle\r\n    return _pickle.load(f,encoding='latin1')\r\n_pickle.UnpicklingError: invalid load key, '6'.\r\n```\r\n\r\n#### Versions\r\n\r\nPlease provide the output of:\r\n\r\n```python\r\nimport platform; print(platform.platform())\r\nimport sys; print(\"Python\", sys.version)\r\nimport numpy; print(\"NumPy\", numpy.__version__)\r\nimport scipy; print(\"SciPy\", scipy.__version__)\r\nimport gensim; print(\"gensim\", gensim.__version__)\r\nfrom gensim.models import word2vec;print(\"FAST_VERSION\", word2vec.FAST_VERSION)\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2595/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2595/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2593", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2593/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2593/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2593/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/2593", "id": 488931678, "node_id": "MDU6SXNzdWU0ODg5MzE2Nzg=", "number": 2593, "title": "Memory error while processing with mm.serialize() method", "user": {"login": "gauravkoradiya", "id": 25217521, "node_id": "MDQ6VXNlcjI1MjE3NTIx", "avatar_url": "https://avatars.githubusercontent.com/u/25217521?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gauravkoradiya", "html_url": "https://github.com/gauravkoradiya", "followers_url": "https://api.github.com/users/gauravkoradiya/followers", "following_url": "https://api.github.com/users/gauravkoradiya/following{/other_user}", "gists_url": "https://api.github.com/users/gauravkoradiya/gists{/gist_id}", "starred_url": "https://api.github.com/users/gauravkoradiya/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gauravkoradiya/subscriptions", "organizations_url": "https://api.github.com/users/gauravkoradiya/orgs", "repos_url": "https://api.github.com/users/gauravkoradiya/repos", "events_url": "https://api.github.com/users/gauravkoradiya/events{/privacy}", "received_events_url": "https://api.github.com/users/gauravkoradiya/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 175643, "node_id": "MDU6TGFiZWwxNzU2NDM=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/documentation", "name": "documentation", "color": "02d7e1", "default": true, "description": "Current issue related to documentation"}, {"id": 1602257032, "node_id": "MDU6TGFiZWwxNjAyMjU3MDMy", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/impact%20HIGH", "name": "impact HIGH", "color": "b60205", "default": false, "description": "Show-stopper for affected users"}, {"id": 1602340302, "node_id": "MDU6TGFiZWwxNjAyMzQwMzAy", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/reach%20LOW", "name": "reach LOW", "color": "5abc21", "default": false, "description": "Affects only niche use-case users"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2019-09-04T04:20:56Z", "updated_at": "2020-08-16T11:28:29Z", "closed_at": "2020-08-15T10:13:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n**IMPORTANT**:\r\n\r\n- Use the [Gensim mailing list](https://groups.google.com/forum/#!forum/gensim) to ask general or usage questions. Github issues are only for bug reports.\r\n- Check [Recipes&FAQ](https://github.com/RaRe-Technologies/gensim/wiki/Recipes-&-FAQ) first for common answers.\r\n\r\nGithub bug reports that do not include relevant information and context will be closed without an answer. Thanks!\r\n-->\r\n\r\n#### Problem description\r\n\r\nWhat are you trying to achieve? \r\n:- To successfully store a corpus in MM formate.\r\n\r\nWhat is the expected result?\r\n:- It should store without any error.\r\n\r\n What are you seeing instead?\r\n:- It is giving memory error a the end of saving a corpus.\r\n```\r\n2019-09-04 09:10:31,905 : INFO : PROGRESS: saving document #50014000\r\n2019-09-04 09:10:32,156 : INFO : PROGRESS: saving document #50015000\r\n2019-09-04 09:10:32,467 : INFO : PROGRESS: saving document #50016000\r\n2019-09-04 09:10:32,738 : INFO : PROGRESS: saving document #50017000\r\n2019-09-04 09:10:33,068 : INFO : PROGRESS: saving document #50018000\r\n2019-09-04 09:10:33,336 : INFO : PROGRESS: saving document #50019000\r\n2019-09-04 09:10:33,623 : INFO : PROGRESS: saving document #50020000\r\n2019-09-04 09:10:33,925 : INFO : PROGRESS: saving document #50021000\r\n2019-09-04 09:10:34,186 : INFO : PROGRESS: saving document #50022000\r\n2019-09-04 09:10:34,478 : INFO : PROGRESS: saving document #50023000\r\n2019-09-04 09:10:34,730 : INFO : PROGRESS: saving document #50024000\r\n2019-09-04 09:10:34,985 : INFO : PROGRESS: saving document #50025000\r\nTraceback (most recent call last):\r\n  File \"email_data_experiment.py\", line 23, in <module>\r\n    MmCorpus.serialize(fname=corpus_path, corpus=corpus, metadata=True, id2word=corpus.dictionary)\r\n  File \"C:\\Users\\koradg\\AppData\\Local\\Programs\\Python\\Python36\\lib\\site-packages\\gensim\\corpora\\indexedcorpus.py\", line 123, in serialize\r\n    offsets = serializer.save_corpus(fname, corpus, id2word, **kwargs)\r\n  File \"C:\\Users\\koradg\\AppData\\Local\\Programs\\Python\\Python36\\lib\\site-packages\\gensim\\corpora\\mmcorpus.py\", line 125, in save_corpus\r\n    fname, corpus, num_terms=num_terms, index=True, progress_cnt=progress_cnt, metadata=metadata\r\n  File \"C:\\Users\\koradg\\AppData\\Local\\Programs\\Python\\Python36\\lib\\site-packages\\gensim\\matutils.py\", line 1391, in write_corpus\r\n    utils.pickle(docno2metadata, fname + '.metadata.cpickle')\r\n  File \"C:\\Users\\koradg\\AppData\\Local\\Programs\\Python\\Python36\\lib\\site-packages\\gensim\\utils.py\", line 1364, in pickle\r\n    _pickle.dump(obj, fout, protocol=protocol)\r\nMemoryError\r\n```\r\n\r\n#### Steps/code/corpus to reproduce\r\n\r\n```\r\n        corpus = TextDirectoryCorpus(input=data_path,metadata=True,max_depth=2,lines_are_documents=True)\r\n        Dictionary.save_as_text(corpus.dictionary, fname_or_handle=dictionary_path)\r\n        MmCorpus.serialize(fname=corpus_path, corpus=corpus, metadata=True, id2word=corpus.dictionary)\r\n\r\n```\r\ngetting error on 3rd line.\r\n\r\n\r\n#### Versions\r\n\r\nPlease provide the output of:\r\n\r\n```python\r\nimport platform; print(platform.platform())\r\nimport sys; print(\"Python\", sys.version)\r\nimport numpy; print(\"NumPy\", numpy.__version__)\r\nimport scipy; print(\"SciPy\", scipy.__version__)\r\nimport gensim; print(\"gensim\", gensim.__version__)\r\nfrom gensim.models import word2vec;print(\"FAST_VERSION\", word2vec.FAST_VERSION)\r\n```\r\nWindows-10-10.0.17763-SP0\r\nPython 3.6.5 (v3.6.5:f59c0932b4, Mar 28 2018, 17:00:18) [MSC v.1900 64 bit (AMD64)]\r\nNumPy 1.17.0\r\nSciPy 1.3.0\r\ngensim 3.8.0\r\nFAST_VERSION 0\r\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2593/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2593/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2584", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2584/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2584/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2584/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/2584", "id": 486121907, "node_id": "MDU6SXNzdWU0ODYxMjE5MDc=", "number": 2584, "title": "gensim.similarities.Similarity merges results from shards incorrectly (LSI model)", "user": {"login": "avoskresensky", "id": 10179521, "node_id": "MDQ6VXNlcjEwMTc5NTIx", "avatar_url": "https://avatars.githubusercontent.com/u/10179521?v=4", "gravatar_id": "", "url": "https://api.github.com/users/avoskresensky", "html_url": "https://github.com/avoskresensky", "followers_url": "https://api.github.com/users/avoskresensky/followers", "following_url": "https://api.github.com/users/avoskresensky/following{/other_user}", "gists_url": "https://api.github.com/users/avoskresensky/gists{/gist_id}", "starred_url": "https://api.github.com/users/avoskresensky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/avoskresensky/subscriptions", "organizations_url": "https://api.github.com/users/avoskresensky/orgs", "repos_url": "https://api.github.com/users/avoskresensky/repos", "events_url": "https://api.github.com/users/avoskresensky/events{/privacy}", "received_events_url": "https://api.github.com/users/avoskresensky/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 234670, "node_id": "MDU6TGFiZWwyMzQ2NzA=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20medium", "name": "difficulty medium", "color": "00d000", "default": false, "description": "Medium issue: required good gensim understanding & python skills"}, {"id": 1583467927, "node_id": "MDU6TGFiZWwxNTgzNDY3OTI3", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/help%20wanted", "name": "help wanted", "color": "1d76db", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-08-28T02:10:02Z", "updated_at": "2020-01-05T01:41:31Z", "closed_at": "2020-01-05T01:41:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "If \"num_best\" is used, `gensim.similarities.Similarity` runs the query against each of the shards (MatrixSimilarity objects) and then merges the results.\r\n\r\nMatrixSimilarity uses `matutils.full2sparse_clipped()` to pick \"num_best\" results which sorts by the absolute value.\r\n\r\ngensim.similarities.Similarity on the other hand, just uses `heapq.nlargest` (in `__getitem__`) to merge the results from each of the shards. So negative sims are either pushed down the list or cut off completely.", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2584/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2584/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2579", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2579/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2579/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2579/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/2579", "id": 480542761, "node_id": "MDU6SXNzdWU0ODA1NDI3NjE=", "number": 2579, "title": "why skip-gram takes context word as input and predict word itself", "user": {"login": "truythu169", "id": 5937734, "node_id": "MDQ6VXNlcjU5Mzc3MzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/5937734?v=4", "gravatar_id": "", "url": "https://api.github.com/users/truythu169", "html_url": "https://github.com/truythu169", "followers_url": "https://api.github.com/users/truythu169/followers", "following_url": "https://api.github.com/users/truythu169/following{/other_user}", "gists_url": "https://api.github.com/users/truythu169/gists{/gist_id}", "starred_url": "https://api.github.com/users/truythu169/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/truythu169/subscriptions", "organizations_url": "https://api.github.com/users/truythu169/orgs", "repos_url": "https://api.github.com/users/truythu169/repos", "events_url": "https://api.github.com/users/truythu169/events{/privacy}", "received_events_url": "https://api.github.com/users/truythu169/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}], "state": "closed", "locked": false, "assignee": {"login": "mpenkov", "id": 1101396, "node_id": "MDQ6VXNlcjExMDEzOTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1101396?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mpenkov", "html_url": "https://github.com/mpenkov", "followers_url": "https://api.github.com/users/mpenkov/followers", "following_url": "https://api.github.com/users/mpenkov/following{/other_user}", "gists_url": "https://api.github.com/users/mpenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/mpenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mpenkov/subscriptions", "organizations_url": "https://api.github.com/users/mpenkov/orgs", "repos_url": "https://api.github.com/users/mpenkov/repos", "events_url": "https://api.github.com/users/mpenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/mpenkov/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "mpenkov", "id": 1101396, "node_id": "MDQ6VXNlcjExMDEzOTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1101396?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mpenkov", "html_url": "https://github.com/mpenkov", "followers_url": "https://api.github.com/users/mpenkov/followers", "following_url": "https://api.github.com/users/mpenkov/following{/other_user}", "gists_url": "https://api.github.com/users/mpenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/mpenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mpenkov/subscriptions", "organizations_url": "https://api.github.com/users/mpenkov/orgs", "repos_url": "https://api.github.com/users/mpenkov/repos", "events_url": "https://api.github.com/users/mpenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/mpenkov/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2019-08-14T08:15:46Z", "updated_at": "2019-09-07T19:14:27Z", "closed_at": "2019-09-07T08:42:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Problem description\r\n\r\nI'm going to use the python code of skip-gram (sg) in my research but recognize difference between the implementation and the original in Mikolov's paper.\r\nThe detail of the difference will be mentioned below.\r\nPlease let me know if this difference is intentionally or just a bug.\r\n\r\n#### Steps/code/corpus to reproduce\r\n\r\ncode in: \r\n\r\n> gensim/gensim/models/word2vec.py\r\n\r\nhttps://github.com/RaRe-Technologies/gensim/blob/f97d0e793faa57877a2bbedc15c287835463eaa9/gensim/models/word2vec.py#L399-L414\r\n\r\n> We can see input word is treated as output of NN, while context is embedded by matrix syn0 (vectors matrix)\r\n\r\n...\r\n\r\nhttps://github.com/RaRe-Technologies/gensim/blob/f97d0e793faa57877a2bbedc15c287835463eaa9/gensim/models/word2vec.py#L443-L456\r\n\r\n> as a result, we're going to optimize P( input / context ) while, in the original paper, they tried to optimize P( context / input) in skip-gram architecture.\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2579/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2579/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2578", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2578/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2578/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2578/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/2578", "id": 480477092, "node_id": "MDU6SXNzdWU0ODA0NzcwOTI=", "number": 2578, "title": "\"OverflowError: value too large to convert to int\" when training word2vec on a large corpus", "user": {"login": "miweru", "id": 9095319, "node_id": "MDQ6VXNlcjkwOTUzMTk=", "avatar_url": "https://avatars.githubusercontent.com/u/9095319?v=4", "gravatar_id": "", "url": "https://api.github.com/users/miweru", "html_url": "https://github.com/miweru", "followers_url": "https://api.github.com/users/miweru/followers", "following_url": "https://api.github.com/users/miweru/following{/other_user}", "gists_url": "https://api.github.com/users/miweru/gists{/gist_id}", "starred_url": "https://api.github.com/users/miweru/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/miweru/subscriptions", "organizations_url": "https://api.github.com/users/miweru/orgs", "repos_url": "https://api.github.com/users/miweru/repos", "events_url": "https://api.github.com/users/miweru/events{/privacy}", "received_events_url": "https://api.github.com/users/miweru/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 1602278675, "node_id": "MDU6TGFiZWwxNjAyMjc4Njc1", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/reach%20HIGH", "name": "reach HIGH", "color": "229e03", "default": false, "description": "Affects most or all Gensim users"}, {"id": 1602334472, "node_id": "MDU6TGFiZWwxNjAyMzM0NDcy", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/impact%20MEDIUM", "name": "impact MEDIUM", "color": "7af49f", "default": false, "description": "Big annoyance for affected users"}], "state": "closed", "locked": false, "assignee": {"login": "mpenkov", "id": 1101396, "node_id": "MDQ6VXNlcjExMDEzOTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1101396?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mpenkov", "html_url": "https://github.com/mpenkov", "followers_url": "https://api.github.com/users/mpenkov/followers", "following_url": "https://api.github.com/users/mpenkov/following{/other_user}", "gists_url": "https://api.github.com/users/mpenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/mpenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mpenkov/subscriptions", "organizations_url": "https://api.github.com/users/mpenkov/orgs", "repos_url": "https://api.github.com/users/mpenkov/repos", "events_url": "https://api.github.com/users/mpenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/mpenkov/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "mpenkov", "id": 1101396, "node_id": "MDQ6VXNlcjExMDEzOTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1101396?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mpenkov", "html_url": "https://github.com/mpenkov", "followers_url": "https://api.github.com/users/mpenkov/followers", "following_url": "https://api.github.com/users/mpenkov/following{/other_user}", "gists_url": "https://api.github.com/users/mpenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/mpenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mpenkov/subscriptions", "organizations_url": "https://api.github.com/users/mpenkov/orgs", "repos_url": "https://api.github.com/users/mpenkov/repos", "events_url": "https://api.github.com/users/mpenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/mpenkov/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 9, "created_at": "2019-08-14T04:38:37Z", "updated_at": "2021-03-10T12:42:52Z", "closed_at": "2021-03-10T12:41:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\ni am trying to train word2vec on on a large corpus (>500GB) and the newest gensim version (3.8.0) and an error occurs on every Thread:\r\n\r\n`Exception in thread Thread-10:\r\nTraceback (most recent call last):\r\n  File \"/home/michael/miniconda3/lib/python3.7/threading.py\", line 917, in _bootstrap_inner\r\n    self.run()\r\n  File \"/home/michael/miniconda3/lib/python3.7/threading.py\", line 865, in run\r\n    self._target(*self._args, **self._kwargs)\r\n  File \"/home/michael/miniconda3/lib/python3.7/site-packages/gensim/models/base_any2vec.py\", line 175, in _worker_loop_corpusfile\r\n    total_examples=total_examples, total_words=total_words, **kwargs)\r\n  File \"/home/michael/miniconda3/lib/python3.7/site-packages/gensim/models/word2vec.py\", line 794, in _do_train_epoch\r\n    total_examples, total_words, work, neu1, self.compute_loss)\r\n  File \"gensim/models/word2vec_corpusfile.pyx\", line 379, in gensim.models.word2vec_corpusfile.train_epoch_cbow\r\nOverflowError: value too large to convert to int`\r\n\r\nMy command for training the Model is:\r\n`Word2Vec(corpus_file=\"encc_tokenized\", size = 1024, window = 8, workers = 16)`\r\n\r\nThank you for help", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2578/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2578/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2576", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2576/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2576/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2576/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/2576", "id": 479728311, "node_id": "MDU6SXNzdWU0Nzk3MjgzMTE=", "number": 2576, "title": "Import KeyedVectors error: cannot import name 'open'", "user": {"login": "GlorianY", "id": 22544783, "node_id": "MDQ6VXNlcjIyNTQ0Nzgz", "avatar_url": "https://avatars.githubusercontent.com/u/22544783?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GlorianY", "html_url": "https://github.com/GlorianY", "followers_url": "https://api.github.com/users/GlorianY/followers", "following_url": "https://api.github.com/users/GlorianY/following{/other_user}", "gists_url": "https://api.github.com/users/GlorianY/gists{/gist_id}", "starred_url": "https://api.github.com/users/GlorianY/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GlorianY/subscriptions", "organizations_url": "https://api.github.com/users/GlorianY/orgs", "repos_url": "https://api.github.com/users/GlorianY/repos", "events_url": "https://api.github.com/users/GlorianY/events{/privacy}", "received_events_url": "https://api.github.com/users/GlorianY/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 175986, "node_id": "MDU6TGFiZWwxNzU5ODY=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/testing", "name": "testing", "color": "444444", "default": false, "description": "Issue related with testing (code, documentation, etc)"}], "state": "closed", "locked": true, "assignee": {"login": "mpenkov", "id": 1101396, "node_id": "MDQ6VXNlcjExMDEzOTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1101396?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mpenkov", "html_url": "https://github.com/mpenkov", "followers_url": "https://api.github.com/users/mpenkov/followers", "following_url": "https://api.github.com/users/mpenkov/following{/other_user}", "gists_url": "https://api.github.com/users/mpenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/mpenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mpenkov/subscriptions", "organizations_url": "https://api.github.com/users/mpenkov/orgs", "repos_url": "https://api.github.com/users/mpenkov/repos", "events_url": "https://api.github.com/users/mpenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/mpenkov/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "mpenkov", "id": 1101396, "node_id": "MDQ6VXNlcjExMDEzOTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1101396?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mpenkov", "html_url": "https://github.com/mpenkov", "followers_url": "https://api.github.com/users/mpenkov/followers", "following_url": "https://api.github.com/users/mpenkov/following{/other_user}", "gists_url": "https://api.github.com/users/mpenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/mpenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mpenkov/subscriptions", "organizations_url": "https://api.github.com/users/mpenkov/orgs", "repos_url": "https://api.github.com/users/mpenkov/repos", "events_url": "https://api.github.com/users/mpenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/mpenkov/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 9, "created_at": "2019-08-12T16:04:53Z", "updated_at": "2020-05-28T17:51:03Z", "closed_at": "2019-08-23T08:07:19Z", "author_association": "NONE", "active_lock_reason": "resolved", "body": "<!--\r\n**IMPORTANT**:\r\n\r\n- Use the [Gensim mailing list](https://groups.google.com/forum/#!forum/gensim) to ask general or usage questions. Github issues are only for bug reports.\r\n- Check [Recipes&FAQ](https://github.com/RaRe-Technologies/gensim/wiki/Recipes-&-FAQ) first for common answers.\r\n\r\nGithub bug reports that do not include relevant information and context will be closed without an answer. Thanks!\r\n-->\r\n\r\n#### Problem description\r\n\r\nI want to import KeyedVectors. Then I got the error: ImportError: cannot import name 'open'\r\n\r\n#### Steps/code/corpus to reproduce\r\n- Install the latest Gensim version (gensim-3.8.0)\r\n- Then, try to run 'from gensim.models import KeyedVectors'\r\n- Afterwards I got an error as printed in the below\r\n```Traceback (most recent call last):\r\n  File \"fastText_gensim_convert.py\", line 3, in <module>\r\n    from gensim.models import KeyedVectors\r\n  File \"/usr/local/lib/python3.6/dist-packages/gensim/__init__.py\", line 5, in <module>\r\n    from gensim import parsing, corpora, matutils, interfaces, models, similarities, summarization, utils  # noqa:F401\r\n  File \"/usr/local/lib/python3.6/dist-packages/gensim/parsing/__init__.py\", line 4, in <module>\r\n    from .preprocessing import (remove_stopwords, strip_punctuation, strip_punctuation2,  # noqa:F401\r\n  File \"/usr/local/lib/python3.6/dist-packages/gensim/parsing/preprocessing.py\", line 42, in <module>\r\n    from gensim import utils\r\n  File \"/usr/local/lib/python3.6/dist-packages/gensim/utils.py\", line 45, in <module>\r\n    from smart_open import open\r\nImportError: cannot import name 'open'\r\n```\r\n#### Versions\r\n\r\n```\r\n>>> import platform; print(platform.platform())\r\nLinux-4.15.0-55-generic-x86_64-with-Ubuntu-16.04-xenial\r\n>>> import sys; print(\"Python\", sys.version)\r\nPython 3.6.9 (default, Jul  3 2019, 15:36:16) \r\n[GCC 5.4.0 20160609]\r\n>>> import numpy; print(\"NumPy\", numpy.__version__)\r\nNumPy 1.15.4\r\n>>> import scipy; print(\"SciPy\", scipy.__version__)\r\nSciPy 1.1.0\r\n>>> import gensim; print(\"gensim\", gensim.__version__)\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/usr/local/lib/python3.6/dist-packages/gensim/__init__.py\", line 5, in <module>\r\n    from gensim import parsing, corpora, matutils, interfaces, models, similarities, summarization, utils  # noqa:F401\r\n  File \"/usr/local/lib/python3.6/dist-packages/gensim/parsing/__init__.py\", line 4, in <module>\r\n    from .preprocessing import (remove_stopwords, strip_punctuation, strip_punctuation2,  # noqa:F401\r\n  File \"/usr/local/lib/python3.6/dist-packages/gensim/parsing/preprocessing.py\", line 42, in <module>\r\n    from gensim import utils\r\n  File \"/usr/local/lib/python3.6/dist-packages/gensim/utils.py\", line 45, in <module>\r\n    from smart_open import open\r\n>>> from gensim.models import word2vec;print(\"FAST_VERSION\", word2vec.FAST_VERSION)\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/usr/local/lib/python3.6/dist-packages/gensim/__init__.py\", line 5, in <module>\r\n    from gensim import parsing, corpora, matutils, interfaces, models, similarities, summarization, utils  # noqa:F401\r\n  File \"/usr/local/lib/python3.6/dist-packages/gensim/parsing/__init__.py\", line 4, in <module>\r\n    from .preprocessing import (remove_stopwords, strip_punctuation, strip_punctuation2,  # noqa:F401\r\n  File \"/usr/local/lib/python3.6/dist-packages/gensim/parsing/preprocessing.py\", line 42, in <module>\r\n    from gensim import utils\r\n  File \"/usr/local/lib/python3.6/dist-packages/gensim/utils.py\", line 45, in <module>\r\n    from smart_open import open\r\nImportError: cannot import name 'open'\r\n```\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2576/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2576/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2574", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2574/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2574/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2574/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/2574", "id": 479018098, "node_id": "MDU6SXNzdWU0NzkwMTgwOTg=", "number": 2574, "title": "Dictionary gensim.corpora should update the collection frequencies cfs after filtering with filter_extremes", "user": {"login": "aless80", "id": 6652854, "node_id": "MDQ6VXNlcjY2NTI4NTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/6652854?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aless80", "html_url": "https://github.com/aless80", "followers_url": "https://api.github.com/users/aless80/followers", "following_url": "https://api.github.com/users/aless80/following{/other_user}", "gists_url": "https://api.github.com/users/aless80/gists{/gist_id}", "starred_url": "https://api.github.com/users/aless80/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aless80/subscriptions", "organizations_url": "https://api.github.com/users/aless80/orgs", "repos_url": "https://api.github.com/users/aless80/repos", "events_url": "https://api.github.com/users/aless80/events{/privacy}", "received_events_url": "https://api.github.com/users/aless80/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 721000065, "node_id": "MDU6TGFiZWw3MjEwMDAwNjU=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/good%20first%20issue", "name": "good first issue", "color": "7057ff", "default": true, "description": "Issue for new contributors (not required gensim understanding + very simple)"}, {"id": 1072221028, "node_id": "MDU6TGFiZWwxMDcyMjIxMDI4", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/Hacktoberfest", "name": "Hacktoberfest", "color": "b396e0", "default": false, "description": "Issues marked for hacktoberfest"}, {"id": 1583467927, "node_id": "MDU6TGFiZWwxNTgzNDY3OTI3", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/help%20wanted", "name": "help wanted", "color": "1d76db", "default": true, "description": ""}, {"id": 1602334164, "node_id": "MDU6TGFiZWwxNjAyMzM0MTY0", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/impact%20LOW", "name": "impact LOW", "color": "0052cc", "default": false, "description": "Low impact on affected users"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-08-09T14:32:03Z", "updated_at": "2020-01-05T02:18:24Z", "closed_at": "2020-01-05T02:18:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Problem description\r\n\r\nI am using the Dictionary class gensim.corpora.dictionary.Dictionary , in particular the filter_extremes method and the cfs property (returning a collection frequencies dictionary mapping token_id to tokenfrequency). \r\nIt appears that after using  filter_extremes, the cfs still shows unfiltered token_id's can be absent from the filtered Dictionary instance. This can lead to KeyErrors. \r\n\r\n#### Steps to reproduce\r\n\r\n```python\r\nfrom gensim.corpora import Dictionary\r\ncorpus = [['common','single'],['common']]\r\ndct = Dictionary(corpus)\r\nlen(dct)  #2\r\ndct.cfs   #{0: 2, 1: 1}\r\ndct.filter_extremes(no_below=1, no_above=0.5, keep_n=1)\r\nlen(dct)  #1\r\ndct.cfs   #{1: 1}\r\ndct[1]\r\n```\r\n\r\nThe last line fails with 'KeyError: 1', as the filtered Dictionary has only one element. I suspect the cfs dictionary should be updated once the Dictionary instance dct gets filtered by filter_extremes. The documentation has this warning for the filter_extremes method, but I do not think it is relevant for this case: \"After the pruning, resulting gaps in word ids are shrunk. Due to this gap shrinking, the same word may have a different word id before and after the call to this function!\"\r\n\r\n#### Versions\r\n\r\nPlease provide the output of:\r\n\r\n```python\r\nimport platform; print(platform.platform())\r\nimport sys; print(\"Python\", sys.version)\r\nimport numpy; print(\"NumPy\", numpy.__version__)\r\nimport scipy; print(\"SciPy\", scipy.__version__)\r\nimport gensim; print(\"gensim\", gensim.__version__)\r\nfrom gensim.models import word2vec;print(\"FAST_VERSION\", word2vec.FAST_VERSION)\r\n\r\nLinux-4.15.0-50-generic-x86_64-with-LinuxMint-19-tara\r\nPython 3.6.7 (default, Oct 22 2018, 11:32:17) \r\n[GCC 8.2.0]\r\nNumPy 1.16.3\r\nSciPy 0.19.1\r\ngensim 3.8.0\r\nFAST_VERSION 1\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2574/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2574/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2562", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2562/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2562/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2562/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/2562", "id": 473653386, "node_id": "MDU6SXNzdWU0NzM2NTMzODY=", "number": 2562, "title": "word2vec does not find model.wv", "user": {"login": "marcalt94", "id": 44497700, "node_id": "MDQ6VXNlcjQ0NDk3NzAw", "avatar_url": "https://avatars.githubusercontent.com/u/44497700?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marcalt94", "html_url": "https://github.com/marcalt94", "followers_url": "https://api.github.com/users/marcalt94/followers", "following_url": "https://api.github.com/users/marcalt94/following{/other_user}", "gists_url": "https://api.github.com/users/marcalt94/gists{/gist_id}", "starred_url": "https://api.github.com/users/marcalt94/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marcalt94/subscriptions", "organizations_url": "https://api.github.com/users/marcalt94/orgs", "repos_url": "https://api.github.com/users/marcalt94/repos", "events_url": "https://api.github.com/users/marcalt94/events{/privacy}", "received_events_url": "https://api.github.com/users/marcalt94/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 175643, "node_id": "MDU6TGFiZWwxNzU2NDM=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/documentation", "name": "documentation", "color": "02d7e1", "default": true, "description": "Current issue related to documentation"}, {"id": 708355863, "node_id": "MDU6TGFiZWw3MDgzNTU4NjM=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/need%20info", "name": "need info", "color": "fbca04", "default": false, "description": "Not enough information for reproduce an issue, need more info from author"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-07-27T16:16:05Z", "updated_at": "2019-07-31T02:17:06Z", "closed_at": "2019-07-31T02:17:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n**IMPORTANT**:\r\n\r\n- Use the [Gensim mailing list](https://groups.google.com/forum/#!forum/gensim) to ask general or usage questions. Github issues are only for bug reports.\r\n- Check [Recipes&FAQ](https://github.com/RaRe-Technologies/gensim/wiki/Recipes-&-FAQ) first for common answers.\r\n\r\nGithub bug reports that do not include relevant information and context will be closed without an answer. Thanks!\r\n-->\r\n\r\n#### Problem description\r\n\r\nWhat are you trying to achieve? What is the expected result? What are you seeing instead?\r\n\r\nHey,\r\nI am trying to reproduce this [word2vec tutorial](https://radimrehurek.com/gensim/models/word2vec.html), but at a certain point I always run into the same error. When I try to run the ```vector = wv['computer']  # numpy vector of a word``` part of the tutorial, I get  the ```FileNotFoundError: [Errno 2] No such file or directory: 'model.wv'``` error. I have executed all previous tutorial steps, so the file should be created, but the model still does not find it.\r\n\r\n#### Steps/code/corpus to reproduce\r\n\r\nInclude full tracebacks, logs and datasets if necessary. Please keep the examples minimal (\"minimal reproducible example\").\r\n\r\n#### Versions\r\n\r\nPlease provide the output of:\r\n\r\n```python\r\nimport platform; print(platform.platform()) Windows-10-10.0.17134-SP0\r\n\r\nimport sys; print(\"Python\", sys.version) Python 3.7.3 (default, Apr 24 2019, 15:29:51) [MSC v.1915 64 bit (AMD64)]\r\n\r\nimport numpy; print(\"NumPy\", numpy.__version__)  NumPy 1.16.4\r\n\r\nimport scipy; print(\"SciPy\", scipy.__version__) SciPy 1.2.1\r\n\r\nimport gensim; print(\"gensim\", gensim.__version__) gensim 3.4.0\r\n\r\nfrom gensim.models import word2vec;print(\"FAST_VERSION\", word2vec.FAST_VERSION) FAST_VERSION 1\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2562/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2562/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2556", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2556/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2556/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2556/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/2556", "id": 467858581, "node_id": "MDU6SXNzdWU0Njc4NTg1ODE=", "number": 2556, "title": "D2VTransformer raises if passed a Pandas series without index key 0", "user": {"login": "rpetchler", "id": 1696284, "node_id": "MDQ6VXNlcjE2OTYyODQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1696284?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rpetchler", "html_url": "https://github.com/rpetchler", "followers_url": "https://api.github.com/users/rpetchler/followers", "following_url": "https://api.github.com/users/rpetchler/following{/other_user}", "gists_url": "https://api.github.com/users/rpetchler/gists{/gist_id}", "starred_url": "https://api.github.com/users/rpetchler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rpetchler/subscriptions", "organizations_url": "https://api.github.com/users/rpetchler/orgs", "repos_url": "https://api.github.com/users/rpetchler/repos", "events_url": "https://api.github.com/users/rpetchler/events{/privacy}", "received_events_url": "https://api.github.com/users/rpetchler/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 233081, "node_id": "MDU6TGFiZWwyMzMwODE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20easy", "name": "difficulty easy", "color": "00ff00", "default": false, "description": "Easy issue: required small fix"}, {"id": 1072221028, "node_id": "MDU6TGFiZWwxMDcyMjIxMDI4", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/Hacktoberfest", "name": "Hacktoberfest", "color": "b396e0", "default": false, "description": "Issues marked for hacktoberfest"}, {"id": 1602279836, "node_id": "MDU6TGFiZWwxNjAyMjc5ODM2", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/reach%20MEDIUM", "name": "reach MEDIUM", "color": "ef7a1a", "default": false, "description": "Affects a significant number of users"}, {"id": 1602334164, "node_id": "MDU6TGFiZWwxNjAyMzM0MTY0", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/impact%20LOW", "name": "impact LOW", "color": "0052cc", "default": false, "description": "Low impact on affected users"}], "state": "closed", "locked": false, "assignee": {"login": "mpenkov", "id": 1101396, "node_id": "MDQ6VXNlcjExMDEzOTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1101396?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mpenkov", "html_url": "https://github.com/mpenkov", "followers_url": "https://api.github.com/users/mpenkov/followers", "following_url": "https://api.github.com/users/mpenkov/following{/other_user}", "gists_url": "https://api.github.com/users/mpenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/mpenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mpenkov/subscriptions", "organizations_url": "https://api.github.com/users/mpenkov/orgs", "repos_url": "https://api.github.com/users/mpenkov/repos", "events_url": "https://api.github.com/users/mpenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/mpenkov/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "mpenkov", "id": 1101396, "node_id": "MDQ6VXNlcjExMDEzOTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1101396?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mpenkov", "html_url": "https://github.com/mpenkov", "followers_url": "https://api.github.com/users/mpenkov/followers", "following_url": "https://api.github.com/users/mpenkov/following{/other_user}", "gists_url": "https://api.github.com/users/mpenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/mpenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mpenkov/subscriptions", "organizations_url": "https://api.github.com/users/mpenkov/orgs", "repos_url": "https://api.github.com/users/mpenkov/repos", "events_url": "https://api.github.com/users/mpenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/mpenkov/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 10, "created_at": "2019-07-14T16:23:13Z", "updated_at": "2020-11-01T13:26:17Z", "closed_at": "2020-11-01T13:26:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "`D2VTransformer` raises if passed a Pandas series with an index that does not contain the key 0:\r\n\r\n```python\r\nimport pandas as pd\r\nfrom gensim.sklearn_api import D2VTransformer\r\nfrom gensim.test.utils import common_texts\r\n\r\nseries = pd.Series(common_texts)\r\nseries.index += 1  # Increment the index so that it does not contain the key 0\r\n\r\ntransformer = D2VTransformer(min_count=1, size=5)\r\ntransformer.fit(series)\r\n```\r\n\r\nOutput:\r\n\r\n```python\r\n\ufeffTraceback (most recent call last):\r\n  File \"main.py\", line 9, in <module>\r\n    transformer.fit(series)\r\n  File \"venv/lib/python3.7/site-packages/gensim/sklearn_api/d2vmodel.py\", line 162, in fit\r\n    if isinstance(X[0], doc2vec.TaggedDocument):\r\n  File \"venv/lib/python3.7/site-packages/pandas/core/series.py\", line 868, in __getitem__\r\n    result = self.index.get_value(self, key)\r\n  File \"venv/lib/python3.7/site-packages/pandas/core/indexes/base.py\", line 4375, in get_value\r\n    tz=getattr(series.dtype, 'tz', None))\r\n  File \"pandas/_libs/index.pyx\", line 81, in pandas._libs.index.IndexEngine.get_value\r\n  File \"pandas/_libs/index.pyx\", line 89, in pandas._libs.index.IndexEngine.get_value\r\n  File \"pandas/_libs/index.pyx\", line 132, in pandas._libs.index.IndexEngine.get_loc\r\n  File \"pandas/_libs/hashtable_class_helper.pxi\", line 987, in pandas._libs.hashtable.Int64HashTable.get_item\r\n  File \"pandas/_libs/hashtable_class_helper.pxi\", line 993, in pandas._libs.hashtable.Int64HashTable.get_item\r\nKeyError: 0\r\n```\r\n\r\nThis occurs because the [`fit`](https://github.com/RaRe-Technologies/gensim/blob/4543646d3fe3496e11bc935e72cbf9b18504442e/gensim/sklearn_api/d2vmodel.py#L162) and [`transform`](https://github.com/RaRe-Technologies/gensim/blob/4543646d3fe3496e11bc935e72cbf9b18504442e/gensim/sklearn_api/d2vmodel.py#L198) methods of `D2VTransformer` require `__getitem__` on the passed iterable not to raise an exception for key 0.\r\n\r\nVersions:\r\n\r\nDarwin-18.6.0-x86_64-i386-64bit\r\nPython 3.7.3 (default, Mar 27 2019, 09:23:15) [Clang 10.0.1 (clang-1001.0.46.3)]\r\nNumPy 1.16.4\r\nSciPy 1.3.0\r\ngensim 3.8.0\r\nFAST_VERSION 1", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2556/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2556/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2554", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2554/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2554/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2554/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/2554", "id": 466415247, "node_id": "MDU6SXNzdWU0NjY0MTUyNDc=", "number": 2554, "title": "WikiCorpus.get_text logs ARTICLE_MIN_WORDS instead of article_min_tokens", "user": {"login": "0x0badc0de", "id": 2474513, "node_id": "MDQ6VXNlcjI0NzQ1MTM=", "avatar_url": "https://avatars.githubusercontent.com/u/2474513?v=4", "gravatar_id": "", "url": "https://api.github.com/users/0x0badc0de", "html_url": "https://github.com/0x0badc0de", "followers_url": "https://api.github.com/users/0x0badc0de/followers", "following_url": "https://api.github.com/users/0x0badc0de/following{/other_user}", "gists_url": "https://api.github.com/users/0x0badc0de/gists{/gist_id}", "starred_url": "https://api.github.com/users/0x0badc0de/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/0x0badc0de/subscriptions", "organizations_url": "https://api.github.com/users/0x0badc0de/orgs", "repos_url": "https://api.github.com/users/0x0badc0de/repos", "events_url": "https://api.github.com/users/0x0badc0de/events{/privacy}", "received_events_url": "https://api.github.com/users/0x0badc0de/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 233081, "node_id": "MDU6TGFiZWwyMzMwODE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20easy", "name": "difficulty easy", "color": "00ff00", "default": false, "description": "Easy issue: required small fix"}, {"id": 1072221028, "node_id": "MDU6TGFiZWwxMDcyMjIxMDI4", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/Hacktoberfest", "name": "Hacktoberfest", "color": "b396e0", "default": false, "description": "Issues marked for hacktoberfest"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-07-10T16:50:13Z", "updated_at": "2019-10-04T02:39:04Z", "closed_at": "2019-10-04T02:39:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n**IMPORTANT**:\r\n\r\n- Use the [Gensim mailing list](https://groups.google.com/forum/#!forum/gensim) to ask general or usage questions. Github issues are only for bug reports.\r\n- Check [Recipes&FAQ](https://github.com/RaRe-Technologies/gensim/wiki/Recipes-&-FAQ) first for common answers.\r\n\r\nGithub bug reports that do not include relevant information and context will be closed without an answer. Thanks!\r\n-->\r\n\r\n#### Problem description\r\n\r\n`WikiCorpus.get_texts` logs `ARTICLE_MIN_WORDS` instead of `article_min_tokens`.\r\nI've passed a custom value for `article_min_tokens` but instead default one gets logged.\r\nSee:\r\nhttps://github.com/RaRe-Technologies/gensim/blob/3.8.0/gensim/corpora/wikicorpus.py#L703\r\nhttps://github.com/RaRe-Technologies/gensim/blob/3.8.0/gensim/corpora/wikicorpus.py#L712\r\n\r\n#### Steps/code/corpus to reproduce\r\n\r\n1. Just provide any value for `article_min_tokens` (except 50 obviously) in `WikiCorpus.__init__`\r\n2. Invoke `get_texts`\r\n2. See default one in logs\r\n\r\n#### Versions\r\n\r\nPlease provide the output of:\r\n\r\n```python\r\nPython 3.7.3 (default, May  8 2019, 05:28:42)\r\n[GCC 6.3.0 20170516] on linux\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> import platform; print(platform.platform())\r\nLinux-4.9.125-linuxkit-x86_64-with-debian-9.9\r\n>>> import sys; print(\"Python\", sys.version)\r\nPython 3.7.3 (default, May  8 2019, 05:28:42)\r\n[GCC 6.3.0 20170516]\r\n>>> import numpy; print(\"NumPy\", numpy.__version__)\r\nNumPy 1.16.4\r\n>>> import scipy; print(\"SciPy\", scipy.__version__)\r\nSciPy 1.3.0\r\n>>> import gensim; print(\"gensim\", gensim.__version__)\r\ngensim 3.7.3\r\n>>> from gensim.models import word2vec;print(\"FAST_VERSION\", word2vec.FAST_VERSION)\r\nFAST_VERSION 1\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2554/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2554/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2552", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2552/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2552/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2552/events", "html_url": "https://github.com/RaRe-Technologies/gensim/pull/2552", "id": 464398690, "node_id": "MDExOlB1bGxSZXF1ZXN0Mjk0Njg2ODgz", "number": 2552, "title": "Fix bug where a module import set up logging, pin doctools for Py2", "user": {"login": "piskvorky", "id": 610412, "node_id": "MDQ6VXNlcjYxMDQxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/610412?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piskvorky", "html_url": "https://github.com/piskvorky", "followers_url": "https://api.github.com/users/piskvorky/followers", "following_url": "https://api.github.com/users/piskvorky/following{/other_user}", "gists_url": "https://api.github.com/users/piskvorky/gists{/gist_id}", "starred_url": "https://api.github.com/users/piskvorky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piskvorky/subscriptions", "organizations_url": "https://api.github.com/users/piskvorky/orgs", "repos_url": "https://api.github.com/users/piskvorky/repos", "events_url": "https://api.github.com/users/piskvorky/events{/privacy}", "received_events_url": "https://api.github.com/users/piskvorky/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}], "state": "closed", "locked": false, "assignee": {"login": "mpenkov", "id": 1101396, "node_id": "MDQ6VXNlcjExMDEzOTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1101396?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mpenkov", "html_url": "https://github.com/mpenkov", "followers_url": "https://api.github.com/users/mpenkov/followers", "following_url": "https://api.github.com/users/mpenkov/following{/other_user}", "gists_url": "https://api.github.com/users/mpenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/mpenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mpenkov/subscriptions", "organizations_url": "https://api.github.com/users/mpenkov/orgs", "repos_url": "https://api.github.com/users/mpenkov/repos", "events_url": "https://api.github.com/users/mpenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/mpenkov/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "mpenkov", "id": 1101396, "node_id": "MDQ6VXNlcjExMDEzOTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1101396?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mpenkov", "html_url": "https://github.com/mpenkov", "followers_url": "https://api.github.com/users/mpenkov/followers", "following_url": "https://api.github.com/users/mpenkov/following{/other_user}", "gists_url": "https://api.github.com/users/mpenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/mpenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mpenkov/subscriptions", "organizations_url": "https://api.github.com/users/mpenkov/orgs", "repos_url": "https://api.github.com/users/mpenkov/repos", "events_url": "https://api.github.com/users/mpenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/mpenkov/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2019-07-04T21:31:32Z", "updated_at": "2019-08-26T23:24:38Z", "closed_at": "2019-08-26T23:24:25Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/pulls/2552", "html_url": "https://github.com/RaRe-Technologies/gensim/pull/2552", "diff_url": "https://github.com/RaRe-Technologies/gensim/pull/2552.diff", "patch_url": "https://github.com/RaRe-Technologies/gensim/pull/2552.patch", "merged_at": "2019-08-26T23:24:25Z"}, "body": "- Module imports must never issue logging events, because logging is not set up in the main app yet. The logging event triggered a default (unwanted) config init.\r\n- `warnings.warn` better, but in this case, we can more simply re-use the existing functionality from `gensim.utils`\r\n\r\nThe bug manifested itself as an unexpected log output on Gensim import:\r\n\r\n```\r\n 2019-07-04 23:22:48,902 [MainProcess/98263] [INFO] gensim.summarization.textcleaner:37: 'pattern' package not found; tag filters are not available for English\r\n```\r\n\r\nThis may be a deeper issue with the `summarization` subpackage doing weird stuff. This PR is only a surface stop-gap, I didn't look any deeper.", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2552/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2552/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2506", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2506/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2506/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2506/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/2506", "id": 449650315, "node_id": "MDU6SXNzdWU0NDk2NTAzMTU=", "number": 2506, "title": "LsiTransformer is giving a ValueError", "user": {"login": "robguinness", "id": 730957, "node_id": "MDQ6VXNlcjczMDk1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/730957?v=4", "gravatar_id": "", "url": "https://api.github.com/users/robguinness", "html_url": "https://github.com/robguinness", "followers_url": "https://api.github.com/users/robguinness/followers", "following_url": "https://api.github.com/users/robguinness/following{/other_user}", "gists_url": "https://api.github.com/users/robguinness/gists{/gist_id}", "starred_url": "https://api.github.com/users/robguinness/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/robguinness/subscriptions", "organizations_url": "https://api.github.com/users/robguinness/orgs", "repos_url": "https://api.github.com/users/robguinness/repos", "events_url": "https://api.github.com/users/robguinness/events{/privacy}", "received_events_url": "https://api.github.com/users/robguinness/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 233082, "node_id": "MDU6TGFiZWwyMzMwODI=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20hard", "name": "difficulty hard", "color": "00a000", "default": false, "description": "Hard issue: required deep gensim understanding & high python/cython skills"}, {"id": 1072221028, "node_id": "MDU6TGFiZWwxMDcyMjIxMDI4", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/Hacktoberfest", "name": "Hacktoberfest", "color": "b396e0", "default": false, "description": "Issues marked for hacktoberfest"}, {"id": 1583467927, "node_id": "MDU6TGFiZWwxNTgzNDY3OTI3", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/help%20wanted", "name": "help wanted", "color": "1d76db", "default": true, "description": ""}, {"id": 1602334472, "node_id": "MDU6TGFiZWwxNjAyMzM0NDcy", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/impact%20MEDIUM", "name": "impact MEDIUM", "color": "7af49f", "default": false, "description": "Big annoyance for affected users"}, {"id": 1602340302, "node_id": "MDU6TGFiZWwxNjAyMzQwMzAy", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/reach%20LOW", "name": "reach LOW", "color": "5abc21", "default": false, "description": "Affects only niche use-case users"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2019-05-29T07:49:41Z", "updated_at": "2021-05-14T19:26:25Z", "closed_at": "2021-05-14T14:34:59Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Problem description\r\n\r\nI'm trying to use the class `gensim.sklearn_api.lsimodel.LsiTransformer` according to the documentation, but it results in a ValueError with the following stack trace:\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/home/rob/code_projects/gensim_test/test.py\", line 14, in <module>\r\n    corpus_lsi_space = lsi_model.fit_transform(tfidf_features)\r\n  File \"/home/rob/venv/pex/gensim_test/lib/python3.6/site-packages/sklearn/base.py\", line 553, in fit_transform\r\n    return self.fit(X, **fit_params).transform(X)\r\n  File \"/home/rob/venv/pex/gensim_test/lib/python3.6/site-packages/gensim/sklearn_api/lsimodel.py\", line 133, in transform\r\n    distribution = [matutils.sparse2full(self.gensim_model[doc], self.num_topics) for doc in docs]\r\n  File \"/home/rob/venv/pex/gensim_test/lib/python3.6/site-packages/gensim/sklearn_api/lsimodel.py\", line 133, in <listcomp>\r\n    distribution = [matutils.sparse2full(self.gensim_model[doc], self.num_topics) for doc in docs]\r\n  File \"/home/rob/venv/pex/gensim_test/lib/python3.6/site-packages/gensim/models/lsimodel.py\", line 583, in __getitem__\r\n    vec = matutils.corpus2csc(bow, num_terms=self.num_terms, dtype=self.projection.u.dtype)\r\n  File \"/home/rob/venv/pex/gensim_test/lib/python3.6/site-packages/gensim/matutils.py\", line 158, in corpus2csc\r\n    doc_indices, doc_data = zip(*doc) if doc else ([], [])\r\n  File \"/home/rob/venv/pex/gensim_test/lib/python3.6/site-packages/scipy/sparse/base.py\", line 287, in __bool__\r\n    raise ValueError(\"The truth value of an array with more than one \"\r\nValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all().\r\n```\r\n\r\nIt could be that I'm misunderstanding something or that the documentation is wrong, but I'm pretty sure this is a bug.\r\n\r\n#### Steps/code/corpus to reproduce\r\n\r\nHere is a minimal example to reproduce the above stack trace:\r\n\r\n```python\r\nfrom sklearn.feature_extraction.text import TfidfVectorizer\r\nfrom gensim.sklearn_api.lsimodel import LsiTransformer\r\n\r\n\r\ndocs = [\r\n    'This is a doc with nothing special',\r\n    'This is another doc with absolutely nothing special',\r\n    'Here we go with another boring doc that has some generic words'\r\n]\r\n\r\nvectorizer = TfidfVectorizer()\r\ntfidf_features = vectorizer.fit_transform(docs)\r\nlsi_model = LsiTransformer(num_topics=5)\r\ncorpus_lsi_space = lsi_model.fit_transform(tfidf_features)\r\n```\r\n\r\n#### Versions\r\n\r\n```python\r\nLinux-4.15.0-50-generic-x86_64-with-Ubuntu-18.04-bionic\r\nPython 3.6.7 (default, Oct 22 2018, 11:32:17) \r\n[GCC 8.2.0]\r\nNumPy 1.16.4\r\nSciPy 1.3.0\r\ngensim 3.7.3\r\nFAST_VERSION 1\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2506/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2506/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2497", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2497/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2497/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2497/events", "html_url": "https://github.com/RaRe-Technologies/gensim/pull/2497", "id": 445632182, "node_id": "MDExOlB1bGxSZXF1ZXN0MjgwMDQ0MDI5", "number": 2497, "title": "Make most_similar accept topn of any integer type", "user": {"login": "Witiko", "id": 603082, "node_id": "MDQ6VXNlcjYwMzA4Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/603082?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Witiko", "html_url": "https://github.com/Witiko", "followers_url": "https://api.github.com/users/Witiko/followers", "following_url": "https://api.github.com/users/Witiko/following{/other_user}", "gists_url": "https://api.github.com/users/Witiko/gists{/gist_id}", "starred_url": "https://api.github.com/users/Witiko/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Witiko/subscriptions", "organizations_url": "https://api.github.com/users/Witiko/orgs", "repos_url": "https://api.github.com/users/Witiko/repos", "events_url": "https://api.github.com/users/Witiko/events{/privacy}", "received_events_url": "https://api.github.com/users/Witiko/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}], "state": "closed", "locked": false, "assignee": {"login": "mpenkov", "id": 1101396, "node_id": "MDQ6VXNlcjExMDEzOTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1101396?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mpenkov", "html_url": "https://github.com/mpenkov", "followers_url": "https://api.github.com/users/mpenkov/followers", "following_url": "https://api.github.com/users/mpenkov/following{/other_user}", "gists_url": "https://api.github.com/users/mpenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/mpenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mpenkov/subscriptions", "organizations_url": "https://api.github.com/users/mpenkov/orgs", "repos_url": "https://api.github.com/users/mpenkov/repos", "events_url": "https://api.github.com/users/mpenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/mpenkov/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "mpenkov", "id": 1101396, "node_id": "MDQ6VXNlcjExMDEzOTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1101396?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mpenkov", "html_url": "https://github.com/mpenkov", "followers_url": "https://api.github.com/users/mpenkov/followers", "following_url": "https://api.github.com/users/mpenkov/following{/other_user}", "gists_url": "https://api.github.com/users/mpenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/mpenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mpenkov/subscriptions", "organizations_url": "https://api.github.com/users/mpenkov/orgs", "repos_url": "https://api.github.com/users/mpenkov/repos", "events_url": "https://api.github.com/users/mpenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/mpenkov/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 18, "created_at": "2019-05-17T21:55:36Z", "updated_at": "2019-06-21T06:59:22Z", "closed_at": "2019-06-21T02:36:16Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/pulls/2497", "html_url": "https://github.com/RaRe-Technologies/gensim/pull/2497", "diff_url": "https://github.com/RaRe-Technologies/gensim/pull/2497.diff", "patch_url": "https://github.com/RaRe-Technologies/gensim/pull/2497.patch", "merged_at": "2019-06-21T02:36:16Z"}, "body": "This PR continues #2356 and #2461 and closes #2496. The PR makes the following changes:\r\n- d910fa9: This change is unrelated to #2496, but it fixes one implementation of `most_similar` ([`PoincareKeyedVectors`](https://github.com/RaRe-Technologies/gensim/blob/develop/gensim/models/poincare.py#L822)) that I missed in #2461.\r\n- b34b06e: This change closes #2496 by allowing any subtype of [`numbers.Integral`](https://docs.python.org/2.7/library/numbers.html#numbers.Integral) to be accepted as the parameter `topn` in `most_similar`. This change also adds a unit test.\r\n- b588bd7: This change is an additional defensive fix of #2496 that patches the caller of `most_similar` not to use `topn=0`. This is because there are many implementations of `most_similar` and expecting all the current and future implementations to uphold the contract seems naive.\r\n- 83455e2: This change makes the variable notation of the [`SparseTermSimilarityMatrix`](https://github.com/RaRe-Technologies/gensim/blob/develop/gensim/similarities/termsim.py#L184) consistent and prevents a possible integer overflow.", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2497/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2497/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2473", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2473/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2473/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2473/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/2473", "id": 440170086, "node_id": "MDU6SXNzdWU0NDAxNzAwODY=", "number": 2473, "title": "Using the load_facebook_model method produces ValueError on array reshaping", "user": {"login": "dpalbrecht", "id": 20650445, "node_id": "MDQ6VXNlcjIwNjUwNDQ1", "avatar_url": "https://avatars.githubusercontent.com/u/20650445?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dpalbrecht", "html_url": "https://github.com/dpalbrecht", "followers_url": "https://api.github.com/users/dpalbrecht/followers", "following_url": "https://api.github.com/users/dpalbrecht/following{/other_user}", "gists_url": "https://api.github.com/users/dpalbrecht/gists{/gist_id}", "starred_url": "https://api.github.com/users/dpalbrecht/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dpalbrecht/subscriptions", "organizations_url": "https://api.github.com/users/dpalbrecht/orgs", "repos_url": "https://api.github.com/users/dpalbrecht/repos", "events_url": "https://api.github.com/users/dpalbrecht/events{/privacy}", "received_events_url": "https://api.github.com/users/dpalbrecht/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}], "state": "closed", "locked": false, "assignee": {"login": "mpenkov", "id": 1101396, "node_id": "MDQ6VXNlcjExMDEzOTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1101396?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mpenkov", "html_url": "https://github.com/mpenkov", "followers_url": "https://api.github.com/users/mpenkov/followers", "following_url": "https://api.github.com/users/mpenkov/following{/other_user}", "gists_url": "https://api.github.com/users/mpenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/mpenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mpenkov/subscriptions", "organizations_url": "https://api.github.com/users/mpenkov/orgs", "repos_url": "https://api.github.com/users/mpenkov/repos", "events_url": "https://api.github.com/users/mpenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/mpenkov/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "mpenkov", "id": 1101396, "node_id": "MDQ6VXNlcjExMDEzOTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1101396?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mpenkov", "html_url": "https://github.com/mpenkov", "followers_url": "https://api.github.com/users/mpenkov/followers", "following_url": "https://api.github.com/users/mpenkov/following{/other_user}", "gists_url": "https://api.github.com/users/mpenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/mpenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mpenkov/subscriptions", "organizations_url": "https://api.github.com/users/mpenkov/orgs", "repos_url": "https://api.github.com/users/mpenkov/repos", "events_url": "https://api.github.com/users/mpenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/mpenkov/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 8, "created_at": "2019-05-03T18:37:13Z", "updated_at": "2019-05-06T01:15:26Z", "closed_at": "2019-05-06T01:15:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am trying to load in the English, pre-trained, bin model from [FastText](https://fasttext.cc/docs/en/crawl-vectors.html), but am getting a ValueError.\r\n\r\nVersions:\r\n```\r\nWindows-10-10.0.17134-SP0\r\nPython 3.6.8 (tags/v3.6.8:3c6b436a57, Dec 24 2018, 00:16:47) [MSC v.1916 64 bit (AMD64)]\r\nNumPy 1.16.2\r\nSciPy 1.2.1\r\ngensim 3.7.2\r\nFAST_VERSION 0\r\n```\r\n\r\nI am running the following line: \r\n`model_fast = gensim.models.fasttext.load_facebook_model('cc.en.300.bin.gz')`\r\n\r\nHowever, I get this error:\r\n```\r\nValueError                                Traceback (most recent call last)\r\n<ipython-input-7-615bb517a8f5> in <module>\r\n----> 1 model_fast = gensim.models.fasttext.load_facebook_model('cc.en.300.bin.gz')\r\n\r\nc:\\users\\david\\desktop\\bennet~1\\bennet~1\\bert_t~1\\env\\lib\\site-packages\\gensim\\models\\fasttext.py in load_facebook_model(path, encoding)\r\n   1241 \r\n   1242     \"\"\"\r\n-> 1243     return _load_fasttext_format(path, encoding=encoding, full_model=True)\r\n   1244 \r\n   1245 \r\n\r\nc:\\users\\david\\desktop\\bennet~1\\bennet~1\\bert_t~1\\env\\lib\\site-packages\\gensim\\models\\fasttext.py in _load_fasttext_format(model_file, encoding, full_model)\r\n   1321     \"\"\"\r\n   1322     with smart_open(model_file, 'rb') as fin:\r\n-> 1323         m = gensim.models._fasttext_bin.load(fin, encoding=encoding, full_model=full_model)\r\n   1324 \r\n   1325     model = FastText(\r\n\r\nc:\\users\\david\\desktop\\bennet~1\\bennet~1\\bert_t~1\\env\\lib\\site-packages\\gensim\\models\\_fasttext_bin.py in load(fin, encoding, full_model)\r\n    272     model.update(raw_vocab=raw_vocab, vocab_size=vocab_size, nwords=nwords)\r\n    273 \r\n--> 274     vectors_ngrams = _load_matrix(fin, new_format=new_format)\r\n    275 \r\n    276     if not full_model:\r\n\r\nc:\\users\\david\\desktop\\bennet~1\\bennet~1\\bert_t~1\\env\\lib\\site-packages\\gensim\\models\\_fasttext_bin.py in _load_matrix(fin, new_format)\r\n    235 \r\n    236     matrix = np.fromfile(fin, dtype=dtype, count=num_vectors * dim)\r\n--> 237     matrix = matrix.reshape((num_vectors, dim))\r\n    238     return matrix\r\n    239 \r\n\r\nValueError: cannot reshape array of size 1116604308 into shape (4000000,300)\r\n```", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2473/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2473/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2453", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2453/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2453/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2453/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/2453", "id": 435167593, "node_id": "MDU6SXNzdWU0MzUxNjc1OTM=", "number": 2453, "title": "_rollback_optimization is not performed on some old FastText models", "user": {"login": "generall", "id": 1935623, "node_id": "MDQ6VXNlcjE5MzU2MjM=", "avatar_url": "https://avatars.githubusercontent.com/u/1935623?v=4", "gravatar_id": "", "url": "https://api.github.com/users/generall", "html_url": "https://github.com/generall", "followers_url": "https://api.github.com/users/generall/followers", "following_url": "https://api.github.com/users/generall/following{/other_user}", "gists_url": "https://api.github.com/users/generall/gists{/gist_id}", "starred_url": "https://api.github.com/users/generall/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/generall/subscriptions", "organizations_url": "https://api.github.com/users/generall/orgs", "repos_url": "https://api.github.com/users/generall/repos", "events_url": "https://api.github.com/users/generall/events{/privacy}", "received_events_url": "https://api.github.com/users/generall/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 1162250977, "node_id": "MDU6TGFiZWwxMTYyMjUwOTc3", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/fasttext", "name": "fasttext", "color": "ad52ea", "default": false, "description": "Issues related to the FastText model"}], "state": "closed", "locked": false, "assignee": {"login": "mpenkov", "id": 1101396, "node_id": "MDQ6VXNlcjExMDEzOTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1101396?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mpenkov", "html_url": "https://github.com/mpenkov", "followers_url": "https://api.github.com/users/mpenkov/followers", "following_url": "https://api.github.com/users/mpenkov/following{/other_user}", "gists_url": "https://api.github.com/users/mpenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/mpenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mpenkov/subscriptions", "organizations_url": "https://api.github.com/users/mpenkov/orgs", "repos_url": "https://api.github.com/users/mpenkov/repos", "events_url": "https://api.github.com/users/mpenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/mpenkov/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "mpenkov", "id": 1101396, "node_id": "MDQ6VXNlcjExMDEzOTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1101396?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mpenkov", "html_url": "https://github.com/mpenkov", "followers_url": "https://api.github.com/users/mpenkov/followers", "following_url": "https://api.github.com/users/mpenkov/following{/other_user}", "gists_url": "https://api.github.com/users/mpenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/mpenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mpenkov/subscriptions", "organizations_url": "https://api.github.com/users/mpenkov/orgs", "repos_url": "https://api.github.com/users/mpenkov/repos", "events_url": "https://api.github.com/users/mpenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/mpenkov/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2019-04-19T12:52:05Z", "updated_at": "2019-05-04T02:34:52Z", "closed_at": "2019-05-04T02:34:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n**IMPORTANT**:\r\n\r\n- Use the [Gensim mailing list](https://groups.google.com/forum/#!forum/gensim) to ask general or usage questions. Github issues are only for bug reports.\r\n- Check [Recipes&FAQ](https://github.com/RaRe-Technologies/gensim/wiki/Recipes-&-FAQ) first for common answers.\r\n\r\nGithub bug reports that do not include relevant information and context will be closed without an answer. Thanks!\r\n-->\r\n\r\n#### Problem description\r\n\r\nModel `araneum_none_fasttextskipgram_300_5_2018` from https://rusvectores.org/ru/models/\r\nis loading incorrectly with `gensim.models.fasttext.FastText.load`\r\nThis method creates model with `compatible_hash = True` and `hash2index` param, so that ngram indexes are computed incorrectly. \r\n\r\n#### Steps/code/corpus to reproduce\r\n\r\n```python\r\n\r\nfrom gensim.models.fasttext import FastText\r\n\r\nft2 = FastText.load('./data/araneum_none_fasttextskipgram_300_5_2018.model')\r\nft2.wv.word_vec('\u0441\u043b\u043e\u0432\u043e123')\r\n```\r\n\r\ngives the following stacktrace\r\n\r\n```\r\n---------------------------------------------------------------------------\r\nIndexError                                Traceback (most recent call last)\r\n<ipython-input-14-5fac1e42e24a> in <module>()\r\n----> 1 ft2.wv.word_vec('\u0441\u043b\u043e\u0432\u043e123')\r\n\r\n~/anaconda3/lib/python3.6/site-packages/gensim/models/keyedvectors.py in word_vec(self, word, use_norm)\r\n   2111                 return word_vec\r\n   2112             for nh in ngram_hashes:\r\n-> 2113                 word_vec += ngram_weights[nh]\r\n   2114             return word_vec / len(ngram_hashes)\r\n   2115 \r\n\r\nIndexError: index 1369364 is out of bounds for axis 0 with size 27355\r\n```\r\n#### Versions\r\n\r\n```\r\nLinux-4.2.0-27-generic-x86_64-with-debian-jessie-sid\r\nPython 3.6.8 |Anaconda 4.4.0 (64-bit)| (default, Dec 30 2018, 01:22:34) \r\n[GCC 7.3.0]\r\nNumPy 1.16.0\r\nSciPy 1.1.0\r\ngensim 3.7.2\r\nFAST_VERSION 1\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2453/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2453/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2424", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2424/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2424/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2424/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/2424", "id": 423080377, "node_id": "MDU6SXNzdWU0MjMwODAzNzc=", "number": 2424, "title": "tutorials fail doctests", "user": {"login": "mpenkov", "id": 1101396, "node_id": "MDQ6VXNlcjExMDEzOTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1101396?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mpenkov", "html_url": "https://github.com/mpenkov", "followers_url": "https://api.github.com/users/mpenkov/followers", "following_url": "https://api.github.com/users/mpenkov/following{/other_user}", "gists_url": "https://api.github.com/users/mpenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/mpenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mpenkov/subscriptions", "organizations_url": "https://api.github.com/users/mpenkov/orgs", "repos_url": "https://api.github.com/users/mpenkov/repos", "events_url": "https://api.github.com/users/mpenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/mpenkov/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 175643, "node_id": "MDU6TGFiZWwxNzU2NDM=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/documentation", "name": "documentation", "color": "02d7e1", "default": true, "description": "Current issue related to documentation"}, {"id": 1602334164, "node_id": "MDU6TGFiZWwxNjAyMzM0MTY0", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/impact%20LOW", "name": "impact LOW", "color": "0052cc", "default": false, "description": "Low impact on affected users"}, {"id": 1602340302, "node_id": "MDU6TGFiZWwxNjAyMzQwMzAy", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/reach%20LOW", "name": "reach LOW", "color": "5abc21", "default": false, "description": "Affects only niche use-case users"}], "state": "closed", "locked": false, "assignee": {"login": "mpenkov", "id": 1101396, "node_id": "MDQ6VXNlcjExMDEzOTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1101396?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mpenkov", "html_url": "https://github.com/mpenkov", "followers_url": "https://api.github.com/users/mpenkov/followers", "following_url": "https://api.github.com/users/mpenkov/following{/other_user}", "gists_url": "https://api.github.com/users/mpenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/mpenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mpenkov/subscriptions", "organizations_url": "https://api.github.com/users/mpenkov/orgs", "repos_url": "https://api.github.com/users/mpenkov/repos", "events_url": "https://api.github.com/users/mpenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/mpenkov/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "mpenkov", "id": 1101396, "node_id": "MDQ6VXNlcjExMDEzOTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1101396?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mpenkov", "html_url": "https://github.com/mpenkov", "followers_url": "https://api.github.com/users/mpenkov/followers", "following_url": "https://api.github.com/users/mpenkov/following{/other_user}", "gists_url": "https://api.github.com/users/mpenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/mpenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mpenkov/subscriptions", "organizations_url": "https://api.github.com/users/mpenkov/orgs", "repos_url": "https://api.github.com/users/mpenkov/repos", "events_url": "https://api.github.com/users/mpenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/mpenkov/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2019-03-20T05:57:24Z", "updated_at": "2019-10-21T21:52:58Z", "closed_at": "2019-10-21T21:52:58Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "If you run \"python -m doctest docs/src/tut1.rst\" you get a ton of output. Most of the problems are because of incorrect formatting, e.g.\r\n\r\n```python\r\n>>> x = [1,\r\n>>>      2]\r\n```\r\n\r\nshould really be:\r\n\r\n```python\r\n>>> x = [1,\r\n...      2]\r\n```\r\n\r\nFor whatever reason, it doesn't look like the tutorials were ever tested with doctest. There's no reason for it to be this way, so we should make them doctest-compatible in the future.", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2424/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2424/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2415", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2415/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2415/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2415/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/2415", "id": 420581700, "node_id": "MDU6SXNzdWU0MjA1ODE3MDA=", "number": 2415, "title": "Inference issue using FB pretrained model if word have no ngrams", "user": {"login": "menshikh-iv", "id": 15094669, "node_id": "MDQ6VXNlcjE1MDk0NjY5", "avatar_url": "https://avatars.githubusercontent.com/u/15094669?v=4", "gravatar_id": "", "url": "https://api.github.com/users/menshikh-iv", "html_url": "https://github.com/menshikh-iv", "followers_url": "https://api.github.com/users/menshikh-iv/followers", "following_url": "https://api.github.com/users/menshikh-iv/following{/other_user}", "gists_url": "https://api.github.com/users/menshikh-iv/gists{/gist_id}", "starred_url": "https://api.github.com/users/menshikh-iv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/menshikh-iv/subscriptions", "organizations_url": "https://api.github.com/users/menshikh-iv/orgs", "repos_url": "https://api.github.com/users/menshikh-iv/repos", "events_url": "https://api.github.com/users/menshikh-iv/events{/privacy}", "received_events_url": "https://api.github.com/users/menshikh-iv/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 1162250977, "node_id": "MDU6TGFiZWwxMTYyMjUwOTc3", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/fasttext", "name": "fasttext", "color": "ad52ea", "default": false, "description": "Issues related to the FastText model"}], "state": "closed", "locked": false, "assignee": {"login": "mpenkov", "id": 1101396, "node_id": "MDQ6VXNlcjExMDEzOTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1101396?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mpenkov", "html_url": "https://github.com/mpenkov", "followers_url": "https://api.github.com/users/mpenkov/followers", "following_url": "https://api.github.com/users/mpenkov/following{/other_user}", "gists_url": "https://api.github.com/users/mpenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/mpenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mpenkov/subscriptions", "organizations_url": "https://api.github.com/users/mpenkov/orgs", "repos_url": "https://api.github.com/users/mpenkov/repos", "events_url": "https://api.github.com/users/mpenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/mpenkov/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "mpenkov", "id": 1101396, "node_id": "MDQ6VXNlcjExMDEzOTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1101396?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mpenkov", "html_url": "https://github.com/mpenkov", "followers_url": "https://api.github.com/users/mpenkov/followers", "following_url": "https://api.github.com/users/mpenkov/following{/other_user}", "gists_url": "https://api.github.com/users/mpenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/mpenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mpenkov/subscriptions", "organizations_url": "https://api.github.com/users/mpenkov/orgs", "repos_url": "https://api.github.com/users/mpenkov/repos", "events_url": "https://api.github.com/users/mpenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/mpenkov/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 11, "created_at": "2019-03-13T15:58:39Z", "updated_at": "2019-04-20T18:18:56Z", "closed_at": "2019-04-20T12:48:57Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Problem:** `FastText` in gensim and official version still produce different output on FB pretrained model (issue with oov word **without ngrams**).\r\n\r\n\r\n**Prepare data:**\r\n```bash\r\ncurl https://dl.fbaipublicfiles.com/fasttext/vectors-crawl/cc.en.300.bin.gz --output cc.en.300.bin.gz\r\ngunzip cc.en.300.bin.gz\r\n```\r\n\r\n**Code:**\r\n```python\r\nfrom gensim.models import FastText\r\nfrom fastText import load_model\r\nimport numpy as np\r\n\r\nfname = \"cc.en.300.bin\"\r\n\r\nfb_model = load_model(fname)\r\ngensim_model = FastText.load_fasttext_format(fname)\r\n\r\nword = \"`\"  # you can't generate subwords from this word\r\n\r\nassert len(fb_model.get_subwords(word)[0]) == 0  # really, no subwords\r\n\r\nfb_vector = fb_model.get_word_vector(\"`\")  # fb_vector exist, though no subwords and not in vocab\r\nnp.testing.assert_allclose(fb_vector, np.zeros(fb_vector.shape[0]))  # and fb vector is zero vector\r\n\r\ngensim_vector = gensim_model[\"`\"]  # raise an exception\r\n```\r\n```python\r\n---------------------------------------------------------------------------\r\nKeyError                                  Traceback (most recent call last)\r\n<ipython-input-13-243ea594a1c4> in <module>\r\n      8 np.testing.assert_allclose(fb_vector, np.zeros(fb_vector.shape[0]))\r\n      9 \r\n---> 10 gensim_vector = gensim_model[\"`\"]\r\n\r\n~/.local/lib/python3.6/site-packages/gensim/utils.py in new_func1(*args, **kwargs)\r\n   1445                     stacklevel=2\r\n   1446                 )\r\n-> 1447                 return func(*args, **kwargs)\r\n   1448 \r\n   1449             return new_func1\r\n\r\n~/.local/lib/python3.6/site-packages/gensim/models/fasttext.py in __getitem__(self, words)\r\n    926 \r\n    927         \"\"\"\r\n--> 928         return self.wv.__getitem__(words)\r\n    929 \r\n    930     @deprecated(\"Method will be removed in 4.0.0, use self.wv.__contains__() instead\")\r\n\r\n~/.local/lib/python3.6/site-packages/gensim/models/keyedvectors.py in __getitem__(self, entities)\r\n    345         if isinstance(entities, string_types):\r\n    346             # allow calls like trained_model['office'], as a shorthand for trained_model[['office']]\r\n--> 347             return self.get_vector(entities)\r\n    348 \r\n    349         return vstack([self.get_vector(entity) for entity in entities])\r\n\r\n~/.local/lib/python3.6/site-packages/gensim/models/keyedvectors.py in get_vector(self, word)\r\n    463 \r\n    464     def get_vector(self, word):\r\n--> 465         return self.word_vec(word)\r\n    466 \r\n    467     def words_closer_than(self, w1, w2):\r\n\r\n~/.local/lib/python3.6/site-packages/gensim/models/keyedvectors.py in word_vec(self, word, use_norm)\r\n   2096                 return word_vec / max(1, ngrams_found)\r\n   2097             else:  # No ngrams of the word are present in self.ngrams\r\n-> 2098                 raise KeyError('all ngrams for word %s absent from model' % word)\r\n   2099 \r\n   2100     def init_sims(self, replace=False):\r\n\r\nKeyError: 'all ngrams for word ` absent from model'\r\n\r\n```\r\n\r\nException is correct, but behaviour is wrong (should return zero vector as FB implementation. instead of raising an exception).\r\nBTW - when we load & use FB model - we shouldn't raise an exception at all.\r\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2415/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2415/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2402", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2402/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2402/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2402/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/2402", "id": 417699689, "node_id": "MDU6SXNzdWU0MTc2OTk2ODk=", "number": 2402, "title": "AssertionError: unexpected number of vectors when loading Korean FB model", "user": {"login": "zzaebok", "id": 44357534, "node_id": "MDQ6VXNlcjQ0MzU3NTM0", "avatar_url": "https://avatars.githubusercontent.com/u/44357534?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zzaebok", "html_url": "https://github.com/zzaebok", "followers_url": "https://api.github.com/users/zzaebok/followers", "following_url": "https://api.github.com/users/zzaebok/following{/other_user}", "gists_url": "https://api.github.com/users/zzaebok/gists{/gist_id}", "starred_url": "https://api.github.com/users/zzaebok/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zzaebok/subscriptions", "organizations_url": "https://api.github.com/users/zzaebok/orgs", "repos_url": "https://api.github.com/users/zzaebok/repos", "events_url": "https://api.github.com/users/zzaebok/events{/privacy}", "received_events_url": "https://api.github.com/users/zzaebok/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}], "state": "closed", "locked": false, "assignee": {"login": "mpenkov", "id": 1101396, "node_id": "MDQ6VXNlcjExMDEzOTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1101396?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mpenkov", "html_url": "https://github.com/mpenkov", "followers_url": "https://api.github.com/users/mpenkov/followers", "following_url": "https://api.github.com/users/mpenkov/following{/other_user}", "gists_url": "https://api.github.com/users/mpenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/mpenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mpenkov/subscriptions", "organizations_url": "https://api.github.com/users/mpenkov/orgs", "repos_url": "https://api.github.com/users/mpenkov/repos", "events_url": "https://api.github.com/users/mpenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/mpenkov/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "mpenkov", "id": 1101396, "node_id": "MDQ6VXNlcjExMDEzOTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1101396?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mpenkov", "html_url": "https://github.com/mpenkov", "followers_url": "https://api.github.com/users/mpenkov/followers", "following_url": "https://api.github.com/users/mpenkov/following{/other_user}", "gists_url": "https://api.github.com/users/mpenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/mpenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mpenkov/subscriptions", "organizations_url": "https://api.github.com/users/mpenkov/orgs", "repos_url": "https://api.github.com/users/mpenkov/repos", "events_url": "https://api.github.com/users/mpenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/mpenkov/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 20, "created_at": "2019-03-06T09:20:25Z", "updated_at": "2019-04-06T08:33:57Z", "closed_at": "2019-04-06T08:33:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nI downloaded pretrained word vector file (.bin) from facebook \r\n(https://fasttext.cc/docs/en/crawl-vectors.html)\r\nHowever, when I tried to use this model it happens to make error.\r\n\r\n    from gensim.models import FastText\r\n    fasttext_model = FastText.load_fasttext_format('cc.ko.300.bin', encoding='utf8')\r\n\r\n    UnicodeDecodeError: 'utf-8' codec can't decode byte 0xed in position 0: invalid continuation byte\r\n\r\nBut weird thing is that it operates well when I use old version bin file (https://fasttext.cc/docs/en/pretrained-vectors.html)\r\n\r\nSo I tried to find the solution and found that this problem had happend and solved.\r\n\r\nThe issue was made through facebook fasttext issue\r\n(https://github.com/facebookresearch/fastText/issues/715)\r\nAnd they fixed it by\r\n(https://github.com/facebookresearch/fastText/commit/e13484bcb261cda51d33c4940ab5e207aba3ee79)\r\n\r\nSo, I think gensim load_fasttext_format function had this UnicodeDecodeError because of above problem.\r\n\r\nCan you help me to find and solve this problem?\r\n\r\n------------------------------------------\r\n\r\n\r\nI tried changing\r\nword = word_bytes.decode(encoding, errors='replace')\r\nword = word_bytes.decode(encoding, errors='ignore')\r\nin gensim\\models\\_fasttext_bin.py , line 177\r\nBut both made same error\r\n    File \"C:\\Users\\User\\PycharmProjects\\ksenticnet\\venv\\lib\\site-packages\\gensim\\models\\keyedvectors.py\", line 2207, in init_post_load\r\n    assert vectors.shape[0] == vocab_words + self.bucket, 'unexpected number of vectors'\r\nAssertionError: unexpected number of vectors\r\n\r\n#### Versions\r\nWindows-10-10.0.17134-SP0\r\nPython 3.6.5 (v3.6.5:f59c0932b4, Mar 28 2018, 17:00:18) [MSC v.1900 64 bit (AMD64)]\r\nNumPy 1.16.2\r\nSciPy 1.2.1\r\ngensim 3.7.1\r\nFAST_VERSION 0\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2402/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2402/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2378", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2378/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2378/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2378/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/2378", "id": 408428670, "node_id": "MDU6SXNzdWU0MDg0Mjg2NzA=", "number": 2378, "title": "loading fastText model trained with pretrained_vectors still fails (see: #2350)", "user": {"login": "cbjrobertson", "id": 22371870, "node_id": "MDQ6VXNlcjIyMzcxODcw", "avatar_url": "https://avatars.githubusercontent.com/u/22371870?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cbjrobertson", "html_url": "https://github.com/cbjrobertson", "followers_url": "https://api.github.com/users/cbjrobertson/followers", "following_url": "https://api.github.com/users/cbjrobertson/following{/other_user}", "gists_url": "https://api.github.com/users/cbjrobertson/gists{/gist_id}", "starred_url": "https://api.github.com/users/cbjrobertson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cbjrobertson/subscriptions", "organizations_url": "https://api.github.com/users/cbjrobertson/orgs", "repos_url": "https://api.github.com/users/cbjrobertson/repos", "events_url": "https://api.github.com/users/cbjrobertson/events{/privacy}", "received_events_url": "https://api.github.com/users/cbjrobertson/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 1162250977, "node_id": "MDU6TGFiZWwxMTYyMjUwOTc3", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/fasttext", "name": "fasttext", "color": "ad52ea", "default": false, "description": "Issues related to the FastText model"}], "state": "closed", "locked": false, "assignee": {"login": "mpenkov", "id": 1101396, "node_id": "MDQ6VXNlcjExMDEzOTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1101396?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mpenkov", "html_url": "https://github.com/mpenkov", "followers_url": "https://api.github.com/users/mpenkov/followers", "following_url": "https://api.github.com/users/mpenkov/following{/other_user}", "gists_url": "https://api.github.com/users/mpenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/mpenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mpenkov/subscriptions", "organizations_url": "https://api.github.com/users/mpenkov/orgs", "repos_url": "https://api.github.com/users/mpenkov/repos", "events_url": "https://api.github.com/users/mpenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/mpenkov/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "mpenkov", "id": 1101396, "node_id": "MDQ6VXNlcjExMDEzOTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1101396?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mpenkov", "html_url": "https://github.com/mpenkov", "followers_url": "https://api.github.com/users/mpenkov/followers", "following_url": "https://api.github.com/users/mpenkov/following{/other_user}", "gists_url": "https://api.github.com/users/mpenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/mpenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mpenkov/subscriptions", "organizations_url": "https://api.github.com/users/mpenkov/orgs", "repos_url": "https://api.github.com/users/mpenkov/repos", "events_url": "https://api.github.com/users/mpenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/mpenkov/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 25, "created_at": "2019-02-09T12:49:09Z", "updated_at": "2021-03-06T17:49:06Z", "closed_at": "2019-10-08T09:19:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Description\r\nLoading pretrained `fastext_model.bin` with `gensim.models.fasttext.FastText.load_fasttext_format('wiki-news-300d-1M-subword.bin')` fails with `AssertionError: unexpected number of vectors` despite fix for #2350.\r\n\r\n## Steps/Code/Corpus to Reproduce\r\nfirst install `develop` branch with: `pip install --upgrade git+git://github.com/RaRe-Technologies/gensim@develop`, then:\r\n```python\r\n#dependencies \r\nimport requests, zipfile, io\r\nfrom gensim.models.fasttext import FastText\r\n\r\n#download model\r\nft_url = 'https://s3-us-west-1.amazonaws.com/fasttext-vectors/wiki-news-300d-1M-subword.bin.zip'\r\nr = requests.get(ft_url)\r\nz = zipfile.ZipFile(io.BytesIO(r.content))\r\nz.extractall()\r\n\r\n#attempt load\r\nmod = FastText.load_fasttext_format('wiki-news-300d-1M-subword.bin')\r\n```\r\n\r\n#### Expected Results\r\nLoaded model.\r\n\r\n#### Actual Results\r\n```\r\n---------------------------------------------------------------------------\r\nAssertionError                            Traceback (most recent call last)\r\n<ipython-input-29-a054256d6f88> in <module>\r\n      1 #load model\r\n      2 from gensim.models.fasttext import FastText\r\n----> 3 mod = FastText.load_fasttext_format('wiki-news-300d-1M-subword.bin')\r\n      4 # from gensim.models import KeyedVectors\r\n      5 # wv = KeyedVectors.load_word2vec_format('wiki-news-300d-1M-subword.vec')\r\n\r\n/anaconda3/envs/tensor_env/lib/python3.7/site-packages/gensim/models/fasttext.py in load_fasttext_format(cls, model_file, encoding, full_model)\r\n   1012 \r\n   1013         \"\"\"\r\n-> 1014         return _load_fasttext_format(model_file, encoding=encoding, full_model=full_model)\r\n   1015 \r\n   1016     def load_binary_data(self, encoding='utf8'):\r\n\r\n/anaconda3/envs/tensor_env/lib/python3.7/site-packages/gensim/models/fasttext.py in _load_fasttext_format(model_file, encoding, full_model)\r\n   1270     #\r\n   1271     # We explicitly set min_count=1 regardless of the model's parameters to\r\n-> 1272     # ignore the trim rule when building the vocabulary.  We do this in order\r\n   1273     # to support loading native models that were trained with pretrained vectors.\r\n   1274     # Such models will contain vectors for _all_ encountered words, not only\r\n\r\n/anaconda3/envs/tensor_env/lib/python3.7/site-packages/gensim/models/keyedvectors.py in init_post_load(self, vectors, match_gensim)\r\n   2205         \"\"\"\r\n   2206         vocab_words = len(self.vocab)\r\n-> 2207         assert vectors.shape[0] == vocab_words + self.bucket, 'unexpected number of vectors'\r\n   2208         assert vectors.shape[1] == self.vector_size, 'unexpected vector dimensionality'\r\n   2209 \r\n\r\nAssertionError: unexpected number of vectors\r\n```\r\n\r\n## Versions\r\nDarwin-18.2.0-x86_64-i386-64bit\r\nPython 3.7.2 (default, Dec 29 2018, 00:00:04) \r\n[Clang 4.0.1 (tags/RELEASE_401/final)]\r\nNumPy 1.16.1\r\nSciPy 1.2.0\r\ngensim 3.7.1\r\nFAST_VERSION 1\r\n\r\n#### thanks for your work! \r\n\r\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2378/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2378/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2377", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2377/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2377/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2377/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/2377", "id": 407867418, "node_id": "MDU6SXNzdWU0MDc4Njc0MTg=", "number": 2377, "title": "FastText segfaults for some ngram ranges", "user": {"login": "ctrado18", "id": 31693877, "node_id": "MDQ6VXNlcjMxNjkzODc3", "avatar_url": "https://avatars.githubusercontent.com/u/31693877?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ctrado18", "html_url": "https://github.com/ctrado18", "followers_url": "https://api.github.com/users/ctrado18/followers", "following_url": "https://api.github.com/users/ctrado18/following{/other_user}", "gists_url": "https://api.github.com/users/ctrado18/gists{/gist_id}", "starred_url": "https://api.github.com/users/ctrado18/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ctrado18/subscriptions", "organizations_url": "https://api.github.com/users/ctrado18/orgs", "repos_url": "https://api.github.com/users/ctrado18/repos", "events_url": "https://api.github.com/users/ctrado18/events{/privacy}", "received_events_url": "https://api.github.com/users/ctrado18/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 1162250977, "node_id": "MDU6TGFiZWwxMTYyMjUwOTc3", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/fasttext", "name": "fasttext", "color": "ad52ea", "default": false, "description": "Issues related to the FastText model"}], "state": "closed", "locked": false, "assignee": {"login": "mpenkov", "id": 1101396, "node_id": "MDQ6VXNlcjExMDEzOTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1101396?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mpenkov", "html_url": "https://github.com/mpenkov", "followers_url": "https://api.github.com/users/mpenkov/followers", "following_url": "https://api.github.com/users/mpenkov/following{/other_user}", "gists_url": "https://api.github.com/users/mpenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/mpenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mpenkov/subscriptions", "organizations_url": "https://api.github.com/users/mpenkov/orgs", "repos_url": "https://api.github.com/users/mpenkov/repos", "events_url": "https://api.github.com/users/mpenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/mpenkov/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "mpenkov", "id": 1101396, "node_id": "MDQ6VXNlcjExMDEzOTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1101396?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mpenkov", "html_url": "https://github.com/mpenkov", "followers_url": "https://api.github.com/users/mpenkov/followers", "following_url": "https://api.github.com/users/mpenkov/following{/other_user}", "gists_url": "https://api.github.com/users/mpenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/mpenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mpenkov/subscriptions", "organizations_url": "https://api.github.com/users/mpenkov/orgs", "repos_url": "https://api.github.com/users/mpenkov/repos", "events_url": "https://api.github.com/users/mpenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/mpenkov/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 8, "created_at": "2019-02-07T19:45:51Z", "updated_at": "2019-03-07T06:18:08Z", "closed_at": "2019-03-07T06:18:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "hey,\r\n\r\nI feel something is bad with my text data. I used common crawl for text data and even without any preprocesing (to dismiss as error source) the fasttext model stops during training and just exists without any messages. That is only for some ngram ranges like:\r\n\r\n```\r\nmodel=FastText(sentences,min_n=4)\r\nprint(model)\r\n```\r\nIn this case no modell summary is printed and the model was not built but there is no message at all.\r\n\r\nGiving as paramater instead just `min_n=2, max_n=4` the model is built and works fine.\r\n\r\nI used my text data and the sentence iterator like here\r\n\r\n```\r\n>>> from gensim.utils import tokenize\r\n>>> import smart_open\r\n>>>\r\n>>>\r\n>>> class MyIter(object):\r\n...     def __iter__(self):\r\n...         path = datapath('crime-and-punishment.txt')\r\n...         with smart_open.smart_open(path, 'r', encoding='utf-8') as fin:\r\n...             for line in fin:\r\n...                 yield list(tokenize(line))\r\n\r\n```\r\n\r\nwith above fasttext statement. \r\n\r\n\r\nMight this comes from bad encoding like `\\xad`? How to find out what is bad in my data?", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2377/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2377/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2375", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2375/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2375/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2375/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/2375", "id": 407284033, "node_id": "MDU6SXNzdWU0MDcyODQwMzM=", "number": 2375, "title": "Off-by-one counting error in TFIDF", "user": {"login": "piskvorky", "id": 610412, "node_id": "MDQ6VXNlcjYxMDQxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/610412?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piskvorky", "html_url": "https://github.com/piskvorky", "followers_url": "https://api.github.com/users/piskvorky/followers", "following_url": "https://api.github.com/users/piskvorky/following{/other_user}", "gists_url": "https://api.github.com/users/piskvorky/gists{/gist_id}", "starred_url": "https://api.github.com/users/piskvorky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piskvorky/subscriptions", "organizations_url": "https://api.github.com/users/piskvorky/orgs", "repos_url": "https://api.github.com/users/piskvorky/repos", "events_url": "https://api.github.com/users/piskvorky/events{/privacy}", "received_events_url": "https://api.github.com/users/piskvorky/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-02-06T15:17:25Z", "updated_at": "2019-04-28T02:37:50Z", "closed_at": "2019-04-28T02:37:50Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Building a TFIDF model outputs this in the log:\r\n\r\n```\r\nINFO - 2019-02-06 16:09:54,670 - resulting dictionary: Dictionary(10000 unique tokens: [u'writings', u'foul', u'prefix', u'woods', u'hanging']...)\r\nINFO - 2019-02-06 16:10:01,718 - collecting document frequencies\r\nINFO - 2019-02-06 16:10:01,718 - PROGRESS: processing document #0\r\nINFO - 2019-02-06 16:10:02,162 - calculating IDF weights for 1701 documents and 9999 features (2220559 matrix non-zeros)\r\n```\r\n\r\nNote the \"9999 features\", despite the dictionary having 10000 features. (any dictionary and any number of features -- the actual values don't matter, it's always off-by-one).\r\n\r\nThis seems to be a bug introduced in [this refactoring](https://github.com/RaRe-Technologies/gensim/commit/af01bc702f7ad48ed9ecacb256d9f6f7da6d3bc4#diff-896942304f9417b1b8842823b19d7431R128).\r\n\r\nNot sure if this is an isolated problem or what other places are affected by similar \"optimizations\".", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2375/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2375/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2350", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2350/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2350/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2350/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/2350", "id": 402696132, "node_id": "MDU6SXNzdWU0MDI2OTYxMzI=", "number": 2350, "title": "impossible to load into gensim the fastText model trained with pretrained_vectors", "user": {"login": "lynochka", "id": 10230326, "node_id": "MDQ6VXNlcjEwMjMwMzI2", "avatar_url": "https://avatars.githubusercontent.com/u/10230326?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lynochka", "html_url": "https://github.com/lynochka", "followers_url": "https://api.github.com/users/lynochka/followers", "following_url": "https://api.github.com/users/lynochka/following{/other_user}", "gists_url": "https://api.github.com/users/lynochka/gists{/gist_id}", "starred_url": "https://api.github.com/users/lynochka/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lynochka/subscriptions", "organizations_url": "https://api.github.com/users/lynochka/orgs", "repos_url": "https://api.github.com/users/lynochka/repos", "events_url": "https://api.github.com/users/lynochka/events{/privacy}", "received_events_url": "https://api.github.com/users/lynochka/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 234670, "node_id": "MDU6TGFiZWwyMzQ2NzA=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20medium", "name": "difficulty medium", "color": "00d000", "default": false, "description": "Medium issue: required good gensim understanding & python skills"}, {"id": 1162250977, "node_id": "MDU6TGFiZWwxMTYyMjUwOTc3", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/fasttext", "name": "fasttext", "color": "ad52ea", "default": false, "description": "Issues related to the FastText model"}], "state": "closed", "locked": true, "assignee": {"login": "mpenkov", "id": 1101396, "node_id": "MDQ6VXNlcjExMDEzOTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1101396?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mpenkov", "html_url": "https://github.com/mpenkov", "followers_url": "https://api.github.com/users/mpenkov/followers", "following_url": "https://api.github.com/users/mpenkov/following{/other_user}", "gists_url": "https://api.github.com/users/mpenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/mpenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mpenkov/subscriptions", "organizations_url": "https://api.github.com/users/mpenkov/orgs", "repos_url": "https://api.github.com/users/mpenkov/repos", "events_url": "https://api.github.com/users/mpenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/mpenkov/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "mpenkov", "id": 1101396, "node_id": "MDQ6VXNlcjExMDEzOTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1101396?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mpenkov", "html_url": "https://github.com/mpenkov", "followers_url": "https://api.github.com/users/mpenkov/followers", "following_url": "https://api.github.com/users/mpenkov/following{/other_user}", "gists_url": "https://api.github.com/users/mpenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/mpenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mpenkov/subscriptions", "organizations_url": "https://api.github.com/users/mpenkov/orgs", "repos_url": "https://api.github.com/users/mpenkov/repos", "events_url": "https://api.github.com/users/mpenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/mpenkov/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 12, "created_at": "2019-01-24T13:00:42Z", "updated_at": "2019-07-21T11:18:40Z", "closed_at": "2019-02-06T22:58:12Z", "author_association": "NONE", "active_lock_reason": "resolved", "body": "#### Description\r\nWhen using using fastText model, trained itself with the pretrained vectors,  impossible to load the model with gensim.models.FastText.load_fasttext_format\r\n\r\n#### Steps/Code/Corpus to Reproduce\r\nFirst we make glove into word2vec format with gensim.\r\nKeep \"glove.6B.50d.txt\" in local\r\n```py\r\nfrom gensim.scripts.glove2word2vec import glove2word2vec\r\nfrom gensim.models import KeyedVectors\r\n_ = glove2word2vec(\"glove.6B.50d.txt\", \"w2v_from_glove.6B.50d.txt\")\r\n```\r\n\r\nThen use any sample text TEXT_FOR_WE_FILENAME, e.g.,\r\nhttps://raw.githubusercontent.com/bbejeck/hadoop-algorithms/master/src/shakespeare.txt\r\n(keep \"shakespeare.txt\" in local)\r\nand train with pretrained vectors from \"w2v_from_glove.6B.50d.txt\" on the text:\r\n```py\r\nTEXT_FOR_WE_FILENAME = shakespeare.txt\r\nPRETRAINED_VECTOR_DIM = 50\r\nPRETRAINED_FILE =  \"w2v_from_glove.6B.50d.txt\"\r\nimport fastText\r\nmodel_pre = fastText.train_unsupervised(TEXT_FOR_WE_FILENAME, model='skipgram', dim=PRETRAINED_VECTOR_DIM, pretrainedVectors=PRETRAINED_FILE)\r\nmodel_pre.save_model(\"fasttext_model.bin\")\r\n```\r\n\r\nError comes when trying to load this new fasttext model into gensim (while it is possible to load it into\r\nthe original fastText\r\n```py\r\nimport fastText\r\nfrom gensim.models import FastText as ge_ft\r\nFASTTEXT_MODEL_BIN = \"fasttext_model.bin\"\r\n#this works\r\nft_model = fastText.load_model(FASTTEXT_MODEL_BIN)\r\nft_model.get_word_vector(\"additional\")\r\n\r\n#this one does not: \r\nge_model = ge_ft.load_fasttext_format(FASTTEXT_MODEL_BIN)\r\n\r\n```\r\nOutput:\r\n```\r\nAssertionError: unexpected number of vectors\r\n---------------------------------------------------------------------------\r\nAssertionError                            Traceback (most recent call last)\r\n<command-3269280551404242> in <module>()\r\n      1 #gensim FastText (having  some different features)\r\n----> 2 ge_model = ge_ft.load_fasttext_format(FASTTEXT_MODEL_BIN)\r\n\r\n/databricks/python/lib/python3.5/site-packages/gensim/models/fasttext.py in load_fasttext_format(cls, model_file, encoding)\r\n    778 \r\n    779         \"\"\"\r\n--> 780         return _load_fasttext_format(model_file, encoding=encoding)\r\n    781 \r\n    782     def load_binary_data(self, encoding='utf8'):\r\n\r\n/databricks/python/lib/python3.5/site-packages/gensim/models/fasttext.py in _load_fasttext_format(model_file, encoding)\r\n   1005     model.num_original_vectors = m.vectors_ngrams.shape[0]\r\n   1006 \r\n-> 1007     model.wv.init_post_load(m.vectors_ngrams)\r\n   1008     model.trainables.init_post_load(model, m.hidden_output)\r\n   1009 \r\n\r\n/databricks/python/lib/python3.5/site-packages/gensim/models/keyedvectors.py in init_post_load(self, vectors, match_gensim)\r\n   2189         \"\"\"\r\n   2190         vocab_words = len(self.vocab)\r\n-> 2191         assert vectors.shape[0] == vocab_words + self.bucket, 'unexpected number of vectors'\r\n   2192         assert vectors.shape[1] == self.vector_size, 'unexpected vector dimensionality'\r\n   2193 \r\n\r\nAssertionError: unexpected number of vectors\r\n```\r\n\r\n#### Versions\r\nLinux-4.15.0-1036-azure-x86_64-with-Ubuntu-16.04-xenial\r\nPython 3.5.2 (default, Nov 23 2017, 16:37:01) \r\n[GCC 5.4.0 20160609]\r\nNumPy 1.15.3\r\nSciPy 0.18.1\r\ngensim 3.7.0, FAST_VERSION 0\r\nfasttext 0.8.22\r\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2350/reactions", "total_count": 3, "+1": 3, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2350/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2341", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2341/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2341/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2341/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/2341", "id": 401027223, "node_id": "MDU6SXNzdWU0MDEwMjcyMjM=", "number": 2341, "title": "fastText  fixes in 3.7 break compatibility with old models", "user": {"login": "akutuzov", "id": 3366913, "node_id": "MDQ6VXNlcjMzNjY5MTM=", "avatar_url": "https://avatars.githubusercontent.com/u/3366913?v=4", "gravatar_id": "", "url": "https://api.github.com/users/akutuzov", "html_url": "https://github.com/akutuzov", "followers_url": "https://api.github.com/users/akutuzov/followers", "following_url": "https://api.github.com/users/akutuzov/following{/other_user}", "gists_url": "https://api.github.com/users/akutuzov/gists{/gist_id}", "starred_url": "https://api.github.com/users/akutuzov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/akutuzov/subscriptions", "organizations_url": "https://api.github.com/users/akutuzov/orgs", "repos_url": "https://api.github.com/users/akutuzov/repos", "events_url": "https://api.github.com/users/akutuzov/events{/privacy}", "received_events_url": "https://api.github.com/users/akutuzov/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 1162250977, "node_id": "MDU6TGFiZWwxMTYyMjUwOTc3", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/fasttext", "name": "fasttext", "color": "ad52ea", "default": false, "description": "Issues related to the FastText model"}], "state": "closed", "locked": false, "assignee": {"login": "mpenkov", "id": 1101396, "node_id": "MDQ6VXNlcjExMDEzOTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1101396?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mpenkov", "html_url": "https://github.com/mpenkov", "followers_url": "https://api.github.com/users/mpenkov/followers", "following_url": "https://api.github.com/users/mpenkov/following{/other_user}", "gists_url": "https://api.github.com/users/mpenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/mpenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mpenkov/subscriptions", "organizations_url": "https://api.github.com/users/mpenkov/orgs", "repos_url": "https://api.github.com/users/mpenkov/repos", "events_url": "https://api.github.com/users/mpenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/mpenkov/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "mpenkov", "id": 1101396, "node_id": "MDQ6VXNlcjExMDEzOTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1101396?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mpenkov", "html_url": "https://github.com/mpenkov", "followers_url": "https://api.github.com/users/mpenkov/followers", "following_url": "https://api.github.com/users/mpenkov/following{/other_user}", "gists_url": "https://api.github.com/users/mpenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/mpenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mpenkov/subscriptions", "organizations_url": "https://api.github.com/users/mpenkov/orgs", "repos_url": "https://api.github.com/users/mpenkov/repos", "events_url": "https://api.github.com/users/mpenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/mpenkov/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2019-01-19T19:32:06Z", "updated_at": "2019-01-23T03:30:52Z", "closed_at": "2019-01-23T03:30:52Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Recent fixes to Gensim's fastText implementation introduced in #2313 are great. Unfortunately, they also break compatibility with fastText models trained by older Gensim versions - if the models are stored as a KeyedVectors() object. One can load such a model, but as soon as you try to do anything useful (like `most_similar()`, etc), it fails, because the `compatible_hash` attribute is missing.\r\nIf this attribute is added manually after the loading, everything goes fine.\r\n\r\n#### Steps/Code/Corpus to Reproduce\r\n```\r\nimport gensim\r\n\r\nmodel = gensim.models.KeyedVectors.load(ANY_KEYED_VECTORS_FASTTEXT_MODEL)\r\nmodel.most_similar(positive=ANY_WORD)\r\n```\r\n#### Expected Results\r\nThe `compatible_hash` attribute is automatically assigned the False value on load, and the model works as before.\r\n\r\n#### Actual Results\r\n```\r\n/usr/local/lib/python3.5/dist-packages/gensim/models/keyedvectors.py in word_vec(self, word, use_norm)\r\n   2057 \r\n   2058         \"\"\"\r\n-> 2059         hash_fn = _ft_hash if self.compatible_hash else _ft_hash_broken\r\n   2060 \r\n   2061         if word in self.vocab:\r\n\r\nAttributeError: 'FastTextKeyedVectors' object has no attribute 'compatible_hash'\r\n\r\n```\r\n\r\n#### Versions\r\nLinux-4.15.0-43-generic-x86_64-with-LinuxMint-18.3-sylvia\r\nPython 3.5.2 (default, Nov 12 2018, 13:43:14) \r\n[GCC 5.4.0 20160609]\r\nNumPy 1.14.5\r\nSciPy 1.1.0\r\ngensim 3.7.0\r\nFAST_VERSION 1", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2341/reactions", "total_count": 5, "+1": 5, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2341/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2329", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2329/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2329/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2329/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/2329", "id": 398252541, "node_id": "MDU6SXNzdWUzOTgyNTI1NDE=", "number": 2329, "title": "Roll back optimization that trims empty buckets", "user": {"login": "mpenkov", "id": 1101396, "node_id": "MDQ6VXNlcjExMDEzOTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1101396?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mpenkov", "html_url": "https://github.com/mpenkov", "followers_url": "https://api.github.com/users/mpenkov/followers", "following_url": "https://api.github.com/users/mpenkov/following{/other_user}", "gists_url": "https://api.github.com/users/mpenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/mpenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mpenkov/subscriptions", "organizations_url": "https://api.github.com/users/mpenkov/orgs", "repos_url": "https://api.github.com/users/mpenkov/repos", "events_url": "https://api.github.com/users/mpenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/mpenkov/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 234670, "node_id": "MDU6TGFiZWwyMzQ2NzA=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20medium", "name": "difficulty medium", "color": "00d000", "default": false, "description": "Medium issue: required good gensim understanding & python skills"}, {"id": 1162250977, "node_id": "MDU6TGFiZWwxMTYyMjUwOTc3", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/fasttext", "name": "fasttext", "color": "ad52ea", "default": false, "description": "Issues related to the FastText model"}], "state": "closed", "locked": false, "assignee": {"login": "mpenkov", "id": 1101396, "node_id": "MDQ6VXNlcjExMDEzOTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1101396?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mpenkov", "html_url": "https://github.com/mpenkov", "followers_url": "https://api.github.com/users/mpenkov/followers", "following_url": "https://api.github.com/users/mpenkov/following{/other_user}", "gists_url": "https://api.github.com/users/mpenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/mpenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mpenkov/subscriptions", "organizations_url": "https://api.github.com/users/mpenkov/orgs", "repos_url": "https://api.github.com/users/mpenkov/repos", "events_url": "https://api.github.com/users/mpenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/mpenkov/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "mpenkov", "id": 1101396, "node_id": "MDQ6VXNlcjExMDEzOTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1101396?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mpenkov", "html_url": "https://github.com/mpenkov", "followers_url": "https://api.github.com/users/mpenkov/followers", "following_url": "https://api.github.com/users/mpenkov/following{/other_user}", "gists_url": "https://api.github.com/users/mpenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/mpenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mpenkov/subscriptions", "organizations_url": "https://api.github.com/users/mpenkov/orgs", "repos_url": "https://api.github.com/users/mpenkov/repos", "events_url": "https://api.github.com/users/mpenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/mpenkov/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2019-01-11T11:36:35Z", "updated_at": "2019-03-07T06:44:32Z", "closed_at": "2019-03-07T06:44:32Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Our implementation diverges from Facebook's because we trim buckets that have no ngrams assigned to them, saving memory and training time. We should roll back this optimization because it introduces divergent behavior and makes the code more complex.\r\n\r\nSee https://github.com/RaRe-Technologies/gensim/pull/2313#issue-241664476 and https://github.com/RaRe-Technologies/gensim/pull/2313#issuecomment-453492981 for more details", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2329/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2329/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2301", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2301/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2301/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2301/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/2301", "id": 392227248, "node_id": "MDU6SXNzdWUzOTIyMjcyNDg=", "number": 2301, "title": "Found a broken link in Tutorials.md", "user": {"login": "rsdel2007", "id": 39291744, "node_id": "MDQ6VXNlcjM5MjkxNzQ0", "avatar_url": "https://avatars.githubusercontent.com/u/39291744?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rsdel2007", "html_url": "https://github.com/rsdel2007", "followers_url": "https://api.github.com/users/rsdel2007/followers", "following_url": "https://api.github.com/users/rsdel2007/following{/other_user}", "gists_url": "https://api.github.com/users/rsdel2007/gists{/gist_id}", "starred_url": "https://api.github.com/users/rsdel2007/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rsdel2007/subscriptions", "organizations_url": "https://api.github.com/users/rsdel2007/orgs", "repos_url": "https://api.github.com/users/rsdel2007/repos", "events_url": "https://api.github.com/users/rsdel2007/events{/privacy}", "received_events_url": "https://api.github.com/users/rsdel2007/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 175643, "node_id": "MDU6TGFiZWwxNzU2NDM=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/documentation", "name": "documentation", "color": "02d7e1", "default": true, "description": "Current issue related to documentation"}, {"id": 233081, "node_id": "MDU6TGFiZWwyMzMwODE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20easy", "name": "difficulty easy", "color": "00ff00", "default": false, "description": "Easy issue: required small fix"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-12-18T16:10:52Z", "updated_at": "2018-12-19T04:28:08Z", "closed_at": "2018-12-19T04:28:08Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "In tutorials.md, link to the __America's_ Next topic Model Slides_ is **broken.** This is the [link](https://speakerdeck.com/tmylk/americas-next-topic-model?slide=6).\r\nIt should be replaced by the correct one.", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2301/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2301/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2270", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2270/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2270/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2270/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/2270", "id": 382738355, "node_id": "MDU6SXNzdWUzODI3MzgzNTU=", "number": 2270, "title": "DeprecationWarning: numpy sum :: np.sum(generator) is deprecated - LDA", "user": {"login": "raviolli", "id": 6323048, "node_id": "MDQ6VXNlcjYzMjMwNDg=", "avatar_url": "https://avatars.githubusercontent.com/u/6323048?v=4", "gravatar_id": "", "url": "https://api.github.com/users/raviolli", "html_url": "https://github.com/raviolli", "followers_url": "https://api.github.com/users/raviolli/followers", "following_url": "https://api.github.com/users/raviolli/following{/other_user}", "gists_url": "https://api.github.com/users/raviolli/gists{/gist_id}", "starred_url": "https://api.github.com/users/raviolli/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/raviolli/subscriptions", "organizations_url": "https://api.github.com/users/raviolli/orgs", "repos_url": "https://api.github.com/users/raviolli/repos", "events_url": "https://api.github.com/users/raviolli/events{/privacy}", "received_events_url": "https://api.github.com/users/raviolli/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 233081, "node_id": "MDU6TGFiZWwyMzMwODE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20easy", "name": "difficulty easy", "color": "00ff00", "default": false, "description": "Easy issue: required small fix"}], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2018-11-20T16:14:27Z", "updated_at": "2020-02-23T13:31:48Z", "closed_at": "2018-12-15T08:40:24Z", "author_association": "NONE", "active_lock_reason": "resolved", "body": "**Warning:**\r\nscore += np.sum(cnt * logsumexp(Elogthetad + Elogbeta[:, int(id)]) for id, cnt in doc)\r\n/usr/local/lib/python2.7/dist-packages/gensim/models/ldamodel.py:1077: DeprecationWarning: Calling np.sum(generator) is deprecated, and in the future will give a different result. Use np.sum(np.from_iter(generator)) or the python sum builtin instead.\r\n  score += np.sum(cnt * logsumexp(Elogthetad + Elogbeta[:, int(id)]) for id, cnt in doc)\r\n\r\n#### Versions\r\nimport platform; print(platform.platform())\r\nLinux-4.16.0-x86_64-with-Ubuntu-18.04-bionic\r\nimport sys; print(\"Python\", sys.version)\r\n('Python', '2.7.15rc1 (default, Nov 12 2018, 14:31:15) \\n[GCC 7.3.0]')\r\nimport numpy; print(\"NumPy\", numpy.__version__)\r\n('NumPy', '1.15.4')\r\nimport scipy; print(\"SciPy\", scipy.__version__)\r\n('SciPy', '1.1.0')\r\nimport gensim; print(\"gensim\", gensim.__version__)\r\n('gensim', '3.6.0')\r\nfrom gensim.models import word2vec;print(\"FAST_VERSION\", word2vec.FAST_VERSION)\r\n('FAST_VERSION', 1)\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2270/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2270/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2265", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2265/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2265/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2265/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/2265", "id": 380930875, "node_id": "MDU6SXNzdWUzODA5MzA4NzU=", "number": 2265, "title": "LDA Diff and Convergence metrics: inefficient memory consumption and file size", "user": {"login": "andifunke", "id": 18445361, "node_id": "MDQ6VXNlcjE4NDQ1MzYx", "avatar_url": "https://avatars.githubusercontent.com/u/18445361?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andifunke", "html_url": "https://github.com/andifunke", "followers_url": "https://api.github.com/users/andifunke/followers", "following_url": "https://api.github.com/users/andifunke/following{/other_user}", "gists_url": "https://api.github.com/users/andifunke/gists{/gist_id}", "starred_url": "https://api.github.com/users/andifunke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andifunke/subscriptions", "organizations_url": "https://api.github.com/users/andifunke/orgs", "repos_url": "https://api.github.com/users/andifunke/repos", "events_url": "https://api.github.com/users/andifunke/events{/privacy}", "received_events_url": "https://api.github.com/users/andifunke/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 233081, "node_id": "MDU6TGFiZWwyMzMwODE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20easy", "name": "difficulty easy", "color": "00ff00", "default": false, "description": "Easy issue: required small fix"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-11-14T23:21:28Z", "updated_at": "2018-12-13T14:43:43Z", "closed_at": "2018-12-13T14:43:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Description\r\nThe current implementation of the DiffMetric and ConvergenceMetric callbacks has some severe drawbacks with respect to memory consumption and file size when persisting an LdaModel.\r\n\r\n**Details:** The two callback metrics call the LdaModel.diff() method which requires a second model as an argument. Therefore, the callbacks make a deep copy of the model when initializing the callbacks and also at each time they are called (refere to Callback.set_model() and Callback.on_epoch_end()). With a deep copy you not only copy the model's dictionary, you also make a copy of any other callback the model points to. Running both the DiffMetric and the ConvergenceMetric during training over several epochs you inherit quite a bit of recursion and redundancy.\r\n\r\n#### Steps/Code/Corpus to Reproduce\r\nYou can easily see the issue when watching memory consumption growing over time during training, but also when serializing the model after training. Run the following tutorial notebook:\r\n[https://github.com/RaRe-Technologies/gensim/blob/develop/docs/notebooks/Training_visualizations.ipynb](https://github.com/RaRe-Technologies/gensim/blob/develop/docs/notebooks/Training_visualizations.ipynb)\r\nAfter training save the model with and without callbacks and compare the file sizes:\r\n\r\n```\r\nmodel.save('model_with_cb')\r\n# file size: 2.9 GB <- not ok\r\n\r\nmodel.callbacks = None\r\nmodel.save('model_without_cb')\r\n# file size: 595.2 kB <- ok\r\n```\r\n\r\n#### Possible solutions\r\nA workaround would be to set ldamodel.callbacks to None before saving the model. However, if you plan to update the model you'll have to remember to initialize new callbacks. Still, the memory consumption remains an issue during training. It would be better to avoid making a deep copy of the model in the first place.\r\n\r\nInternally the LdaModel.diff() method only needs access to the previous topics, not to the entire model. Thus, it would be sufficient to backup just the previous topics instead of the entire model. In order to do so the diff method might need some re-writing, though.\r\n\r\n#### Versions\r\nLinux-4.13.0-38-generic-x86_64-with-debian-stretch-sid\r\nPython 3.6.5 |Anaconda, Inc.| (default, Apr 29 2018, 16:14:56) \r\n[GCC 7.2.0]\r\nNumPy 1.14.3\r\nSciPy 1.0.1\r\ngensim 3.5.0\r\nFAST_VERSION 1", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2265/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2265/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2260", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2260/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2260/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2260/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/2260", "id": 377788511, "node_id": "MDU6SXNzdWUzNzc3ODg1MTE=", "number": 2260, "title": "doc2vec/word2vec/fasttext models do not appear to improve if similarities checked mid-training epochs", "user": {"login": "timbicker", "id": 28577763, "node_id": "MDQ6VXNlcjI4NTc3NzYz", "avatar_url": "https://avatars.githubusercontent.com/u/28577763?v=4", "gravatar_id": "", "url": "https://api.github.com/users/timbicker", "html_url": "https://github.com/timbicker", "followers_url": "https://api.github.com/users/timbicker/followers", "following_url": "https://api.github.com/users/timbicker/following{/other_user}", "gists_url": "https://api.github.com/users/timbicker/gists{/gist_id}", "starred_url": "https://api.github.com/users/timbicker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/timbicker/subscriptions", "organizations_url": "https://api.github.com/users/timbicker/orgs", "repos_url": "https://api.github.com/users/timbicker/repos", "events_url": "https://api.github.com/users/timbicker/events{/privacy}", "received_events_url": "https://api.github.com/users/timbicker/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 233081, "node_id": "MDU6TGFiZWwyMzMwODE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20easy", "name": "difficulty easy", "color": "00ff00", "default": false, "description": "Easy issue: required small fix"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2018-11-06T10:43:21Z", "updated_at": "2021-09-18T09:21:29Z", "closed_at": "2021-09-18T09:21:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!-- Instructions For Filing a Bug: https://github.com/RaRe-Technologies/gensim/blob/develop/CONTRIBUTING.md -->\r\n\r\n#### Description\r\nI am training a doc2vec model on a large corpus. I need to observe the model for more detailed statistics for my supervisor/boss.\r\nThe problem is similar to the problem below where I just slightly modified the [Doc2Vec Tutorial on the Lee Dataset](https://github.com/RaRe-Technologies/gensim/blob/develop/docs/notebooks/doc2vec-lee.ipynb). The model does not improve its recommendations for the` most_similar method`.\r\n\r\n#### Steps/Code/Corpus to Reproduce\r\n```python\r\nimport gensim\r\nimport os\r\nimport smart_open\r\nimport gensim.models.callbacks\r\n\r\n\r\n# Set file names for train and test data\r\ntest_data_dir = '{}'.format(os.sep).join([gensim.__path__[0], 'test', 'test_data'])\r\nlee_train_file = test_data_dir + os.sep + 'lee_background.cor'\r\nlee_test_file = test_data_dir + os.sep + 'lee.cor'\r\n\r\n\r\ndef read_corpus(fname, tokens_only=False):\r\n    with smart_open.smart_open(fname, encoding=\"iso-8859-1\") as f:\r\n        for i, line in enumerate(f):\r\n            if tokens_only:\r\n                yield gensim.utils.simple_preprocess(line)\r\n            else:\r\n                # For training data, add tags\r\n                yield gensim.models.doc2vec.TaggedDocument(gensim.utils.simple_preprocess(line), [i])\r\n\r\n\r\ntrain_corpus = list(read_corpus(lee_train_file))\r\ntest_corpus = list(read_corpus(lee_test_file, tokens_only=True))\r\n\r\nresults_new = {i: None for i, doc in enumerate(train_corpus)}\r\nresults_old = results_new.copy()\r\n\r\n\r\nclass TrainProgressEvaluation(gensim.models.callbacks.CallbackAny2Vec):\r\n\r\n    def __init__(self, test_set, results_new, results_old):\r\n        self.test_set = test_set\r\n        self.results_new = results_new\r\n        self.results_old = results_old\r\n        self.epoch = 0\r\n\r\n    def on_epoch_end(self, model):\r\n        self.epoch += 1\r\n        print(f\"epoch {self.epoch} end\")\r\n\r\n    def on_batch_begin(self, model):\r\n        for num, sample in enumerate(self.test_set):\r\n            recs = model.docvecs.most_similar(num)\r\n            # for the first call results_new[num] is None\r\n            self.results_old[num] = results_new[num] or recs\r\n            self.results_new[num] = recs\r\n            for i in range(len(recs)):\r\n                if not self.results_old[num][i][0] == self.results_new[num][i][0] or not self.results_old[num][i][1] == self.results_new[num][i][1]:\r\n                    print(f\"Sample {num} has changed.\")\r\n                    print(f\"Old tag {self.results_old[num][i][0]}. New tag {self.results_new[num][i][0]}\")\r\n                    print(f\"Old distance {self.results_old[num][i][1]}. New distance {self.results_new[num][i][1]}\")\r\n\r\n\r\nmodel = gensim.models.doc2vec.Doc2Vec(vector_size=50, min_count=2, epochs=40, workers=4)\r\nmodel.build_vocab(train_corpus)\r\nmodel.train(train_corpus, total_examples=model.corpus_count, epochs=model.epochs,\r\n            callbacks=(TrainProgressEvaluation(train_corpus, results_new, results_old),))\r\n\r\n\r\n```\r\n\r\n#### Expected Results\r\nI expect to see many improvements in either recommendation or distance.\r\n\r\n#### Actual Results\r\nConsol Output with four workers:\r\nIt surprises me that only the first sample in the training_corpus receives some updates. I don't understand it.\r\n\r\n```\r\nSample 0 has changed.\r\n/usr/local/lib/python3.7/site-packages/gensim/matutils.py:737: FutureWarning: Conversion of the second argument of issubdtype from `int` to `np.signedinteger` is deprecated. In future, it will be treated as `np.int64 == np.dtype(int).type`.\r\nOld tag 116. New tag 30\r\n  if np.issubdtype(vec.dtype, np.int):\r\nOld distance 0.5557072162628174. New distance 0.4648822546005249\r\nSample 0 has changed.\r\nOld tag 42. New tag 224\r\nOld distance 0.48946425318717957. New distance 0.3621359169483185\r\nSample 0 has changed.\r\nOld tag 51. New tag 96\r\nOld distance 0.4082771837711334. New distance 0.31921446323394775\r\nSample 0 has changed.\r\nOld tag 90. New tag 77\r\nOld distance 0.3731566369533539. New distance 0.3184990882873535\r\nSample 0 has changed.\r\nOld tag 128. New tag 45\r\nOld distance 0.34601616859436035. New distance 0.30474674701690674Sample 0 has changed.\r\nOld tag 30. New tag 116\r\nOld distance 0.4648822546005249. New distance 0.5557072162628174\r\nSample 0 has changed.\r\nOld tag 224. New tag 42\r\nOld distance 0.3621359169483185. New distance 0.48946425318717957\r\nSample 0 has changed.\r\nOld tag 96. New tag 51\r\nOld distance 0.31921446323394775. New distance 0.4082771837711334\r\nSample 0 has changed.\r\nOld tag 77. New tag 90\r\nSample 0 has changed.\r\nOld tag 46. New tag 234\r\nOld distance 0.3005654215812683. New distance 0.3441653251647949\r\nOld distance 0.3184990882873535. New distance 0.3731566369533539\r\nSample 0 has changed.\r\nOld tag 45. New tag 128\r\nOld distance 0.30474674701690674. New distance 0.34601616859436035\r\nSample 0 has changed.\r\nOld tag 46. New tag 234\r\nOld distance 0.3005654215812683. New distance 0.3441653251647949\r\nSample 0 has changed.\r\nSample 0 has changed.\r\nOld tag 111. New tag 76\r\nOld tag 111. New tag 76\r\nOld distance 0.280322402715683. New distance 0.32334667444229126\r\nOld distance 0.280322402715683. New distance 0.32334667444229126\r\nSample 0 has changed.\r\nOld tag 221. New tag 49\r\n\r\nOld distance 0.2779023051261902. New distance 0.27320006489753723\r\nSample 0 has changed.\r\nOld tag 52. New tag 4\r\nOld distance 0.27472415566444397. New distance 0.27205419540405273\r\nSample 0 has changed.\r\nOld tag 221. New tag 49\r\nOld distance 0.2779023051261902. New distance 0.27320006489753723\r\nSample 0 has changed.\r\nSample 0 has changed.\r\nOld tag 205. New tag 149\r\nOld distance 0.26930660009384155. New distance 0.2699446976184845\r\nOld tag 52. New tag 4\r\nOld distance 0.27472415566444397. New distance 0.27205419540405273\r\nSample 0 has changed.\r\nOld tag 205. New tag 149\r\nOld distance 0.26930660009384155. New distance 0.2699446976184845\r\nSample 0 has changed.\r\nOld tag 116. New tag 30\r\nOld distance 0.5557072162628174. New distance 0.4648822546005249\r\nSample 0 has changed.\r\nOld tag 42. New tag 224\r\nOld distance 0.48946425318717957. New distance 0.3621359169483185\r\nSample 0 has changed.\r\nOld tag 51. New tag 96\r\nOld distance 0.4082771837711334. New distance 0.31921446323394775\r\nSample 0 has changed.\r\nOld tag 90. New tag 77\r\nOld distance 0.3731566369533539. New distance 0.3184990882873535\r\nSample 0 has changed.\r\nOld tag 128. New tag 45\r\nOld distance 0.34601616859436035. New distance 0.30474674701690674\r\nSample 0 has changed.\r\nOld tag 234. New tag 46\r\nOld distance 0.3441653251647949. New distance 0.3005654215812683\r\nSample 0 has changed.\r\nOld tag 76. New tag 111\r\nOld distance 0.32334667444229126. New distance 0.280322402715683\r\nSample 0 has changed.\r\nOld tag 49. New tag 221\r\nOld distance 0.27320006489753723. New distance 0.2779023051261902\r\nSample 0 has changed.\r\nOld tag 4. New tag 52\r\nOld distance 0.27205419540405273. New distance 0.27472415566444397\r\nSample 0 has changed.\r\nOld tag 149. New tag 205\r\nOld distance 0.2699446976184845. New distance 0.26930660009384155\r\nepoch 1 end\r\nepoch 1 end\r\nepoch 2 end\r\nepoch 3 end\r\nepoch 4 end\r\n....\r\n```\r\n\r\nSo I debug the model and there are no improvements anymore:\r\n```\r\n/usr/local/lib/python3.7/site-packages/gensim/matutils.py:737: FutureWarning: Conversion of the second argument of issubdtype from `int` to `np.signedinteger` is deprecated. In future, it will be treated as `np.int64 == np.dtype(int).type`.\r\n  if np.issubdtype(vec.dtype, np.int):\r\nepoch 1 end\r\nepoch 2 end\r\n....\r\n```\r\n\r\nI try it with 1 worker only:\r\n```\r\n/usr/local/lib/python3.7/site-packages/gensim/matutils.py:737: FutureWarning: Conversion of the second argument of issubdtype from `int` to `np.signedinteger` is deprecated. In future, it will be treated as `np.int64 == np.dtype(int).type`.\r\n  if np.issubdtype(vec.dtype, np.int):\r\nepoch 1 end\r\nepoch 2 end\r\nepoch 3 end\r\n....\r\n```\r\n\r\nWhat's happening here and how can I see during training how my doc2vec model improves? Because it is also not possible to see the training_error for doc2vec [#999](https://github.com/RaRe-Technologies/gensim/issues/999).\r\nFurther experimenting reveals that docvecs.vectors_docs are of course updated between each call of `batch_end`. But `most_similiar` always returns the same suggestion.\r\n\r\n#### Versions\r\nDarwin-17.5.0-x86_64-i386-64bit\r\nPython 3.7.0 (default, Jun 29 2018, 20:13:13) \r\n[Clang 9.1.0 (clang-902.0.39.2)]\r\nNumPy 1.15.0\r\nSciPy 1.1.0\r\ngensim 3.5.0\r\nFAST_VERSION 0\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2260/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2260/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2258", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2258/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2258/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2258/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/2258", "id": 377469903, "node_id": "MDU6SXNzdWUzNzc0Njk5MDM=", "number": 2258, "title": "Integer overflow during `FastText` training with `corpus_file`", "user": {"login": "joelkuiper", "id": 971293, "node_id": "MDQ6VXNlcjk3MTI5Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/971293?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joelkuiper", "html_url": "https://github.com/joelkuiper", "followers_url": "https://api.github.com/users/joelkuiper/followers", "following_url": "https://api.github.com/users/joelkuiper/following{/other_user}", "gists_url": "https://api.github.com/users/joelkuiper/gists{/gist_id}", "starred_url": "https://api.github.com/users/joelkuiper/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joelkuiper/subscriptions", "organizations_url": "https://api.github.com/users/joelkuiper/orgs", "repos_url": "https://api.github.com/users/joelkuiper/repos", "events_url": "https://api.github.com/users/joelkuiper/events{/privacy}", "received_events_url": "https://api.github.com/users/joelkuiper/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 233081, "node_id": "MDU6TGFiZWwyMzMwODE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20easy", "name": "difficulty easy", "color": "00ff00", "default": false, "description": "Easy issue: required small fix"}, {"id": 1162250977, "node_id": "MDU6TGFiZWwxMTYyMjUwOTc3", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/fasttext", "name": "fasttext", "color": "ad52ea", "default": false, "description": "Issues related to the FastText model"}], "state": "closed", "locked": false, "assignee": {"login": "mpenkov", "id": 1101396, "node_id": "MDQ6VXNlcjExMDEzOTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1101396?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mpenkov", "html_url": "https://github.com/mpenkov", "followers_url": "https://api.github.com/users/mpenkov/followers", "following_url": "https://api.github.com/users/mpenkov/following{/other_user}", "gists_url": "https://api.github.com/users/mpenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/mpenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mpenkov/subscriptions", "organizations_url": "https://api.github.com/users/mpenkov/orgs", "repos_url": "https://api.github.com/users/mpenkov/repos", "events_url": "https://api.github.com/users/mpenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/mpenkov/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "mpenkov", "id": 1101396, "node_id": "MDQ6VXNlcjExMDEzOTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1101396?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mpenkov", "html_url": "https://github.com/mpenkov", "followers_url": "https://api.github.com/users/mpenkov/followers", "following_url": "https://api.github.com/users/mpenkov/following{/other_user}", "gists_url": "https://api.github.com/users/mpenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/mpenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mpenkov/subscriptions", "organizations_url": "https://api.github.com/users/mpenkov/orgs", "repos_url": "https://api.github.com/users/mpenkov/repos", "events_url": "https://api.github.com/users/mpenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/mpenkov/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2018-11-05T16:10:29Z", "updated_at": "2019-01-11T16:40:47Z", "closed_at": "2019-01-11T16:40:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\nIf your issue is a usage or a general question, please submit it here instead:\r\n- Mailing List: https://groups.google.com/forum/#!forum/gensim\r\nFor more information, see Recipes&FAQ: https://github.com/RaRe-Technologies/gensim/wiki/Recipes-&-FAQ\r\n-->\r\n\r\n<!-- Instructions For Filing a Bug: https://github.com/RaRe-Technologies/gensim/blob/develop/CONTRIBUTING.md -->\r\n\r\n#### Description\r\n\r\n<!-- Example: Vocabulary size is not what I expected when training Word2Vec. -->\r\n`model = FastText(corpus_file=\"sentences_norm.txt.gz\", workers=14, iter=5, size=200, sg=1, hs=1)`\r\n\r\nwith the following sizes \r\n\r\n```\r\n2018-11-05 16:57:52,809 : INFO : collected 6532860 word types from a corpus of 4728738902 raw words and 238627116 sentences\r\n2018-11-05 16:57:52,809 : INFO : Loading a fresh vocabulary\r\n2018-11-05 16:58:00,788 : INFO : effective_min_count=5 retains 1887156 unique words (28% of original 6532860, drops 4645704)\r\n2018-11-05 16:58:00,788 : INFO : effective_min_count=5 leaves 4721157112 word corpus (99% of original 4728738902, drops 7581790)\r\n2018-11-05 16:58:07,437 : INFO : deleting the raw counts dictionary of 6532860 items\r\n2018-11-05 16:58:07,615 : INFO : sample=0.001 downsamples 26 most-common words\r\n2018-11-05 16:58:07,615 : INFO : downsampling leaves estimated 3749158657 word corpus (79.4% of prior 4721157112)\r\n2018-11-05 16:58:11,281 : INFO : constructing a huffman tree from 1887156 words\r\n2018-11-05 16:59:36,077 : INFO : built huffman tree with maximum node depth 30\r\n2018-11-05 17:00:17,300 : INFO : estimated required memory for 1887156 words, 1929637 buckets and 200 dimensions: 7871448352 bytes\r\n2018-11-05 17:00:17,398 : INFO : resetting layer weights\r\n2018-11-05 17:01:43,333 : INFO : Total number of ngrams is 1929637\r\n2018-11-05 17:02:11,990 : INFO : training model with 14 workers on 1887156 vocabulary and 200 features, using sg=1 hs=1 sample=0.001 negative=5 window=5\r\n```\r\n\r\nyields \r\n\r\n```\r\nException in thread Thread-2120:\r\nTraceback (most recent call last):\r\n  File \"/home/joelkuiper/anaconda3/lib/python3.6/threading.py\", line 916, in _bootstrap_inner\r\n    self.run()\r\n  File \"/home/joelkuiper/anaconda3/lib/python3.6/threading.py\", line 864, in run\r\n    self._target(*self._args, **self._kwargs)\r\n  File \"/home/joelkuiper/anaconda3/lib/python3.6/site-packages/gensim/models/base_any2vec.py\", line 175, in _worker_loop_corpusfile\r\n    total_examples=total_examples, total_words=total_words, **kwargs)\r\n  File \"/home/joelkuiper/anaconda3/lib/python3.6/site-packages/gensim/models/fasttext.py\", line 561, in _do_train_epoch\r\n    total_examples, total_words, work, neu1)\r\n  File \"gensim/models/fasttext_corpusfile.pyx\", line 126, in gensim.models.fasttext_corpusfile.train_epoch_sg\r\nOverflowError: value too large to convert to int\r\n```` \r\n\r\non all workers. Note that the sg and hs parameters seem to have no relation to this, also happens without them. \r\n\r\n### Steps to reproduce\r\n`model = FastText(corpus_file=\"sentences_norm.txt.gz\", workers=14, iter=5,size=200)`\r\n\r\n#### Expected Results\r\nShould train the model\r\n\r\n#### Actual Results\r\nException thrown, no further output. \r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/home/joelkuiper/anaconda3/lib/python3.6/threading.py\", line 916, in _bootstrap_inner\r\n    self.run()\r\n  File \"/home/joelkuiper/anaconda3/lib/python3.6/threading.py\", line 864, in run\r\n    self._target(*self._args, **self._kwargs)\r\n  File \"/home/joelkuiper/anaconda3/lib/python3.6/site-packages/gensim/models/base_any2vec.py\", line 175, in _worker_loop_corpusfile\r\n    total_examples=total_examples, total_words=total_words, **kwargs)\r\n  File \"/home/joelkuiper/anaconda3/lib/python3.6/site-packages/gensim/models/fasttext.py\", line 561, in _do_train_epoch\r\n    total_examples, total_words, work, neu1)\r\n  File \"gensim/models/fasttext_corpusfile.pyx\", line 126, in gensim.models.fasttext_corpusfile.train_epoch_sg\r\nOverflowError: value too large to convert to int\r\n```\r\n\r\n#### Versions\r\n<!--\r\nPlease run the following snippet and paste the output below.\r\nimport platform; print(platform.platform())\r\nimport sys; print(\"Python\", sys.version)\r\nimport numpy; print(\"NumPy\", numpy.__version__)\r\nimport scipy; print(\"SciPy\", scipy.__version__)\r\nimport gensim; print(\"gensim\", gensim.__version__)\r\nfrom gensim.models import word2vec;print(\"FAST_VERSION\", word2vec.FAST_VERSION)\r\n-->\r\n\r\nPython 3.6.6 |Anaconda, Inc.| (default, Oct  9 2018, 12:34:16) \r\n[GCC 7.3.0]\r\nNumPy 1.15.3\r\nSciPy 1.1.0\r\ngensim 3.6.0\r\n\r\nOn Ubuntu 16.04\r\n\r\n**edit** seems to work fine when passing in a `LineSentence` object\r\n<!-- Thanks for contributing! -->\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2258/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2258/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2253", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2253/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2253/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2253/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/2253", "id": 376593438, "node_id": "MDU6SXNzdWUzNzY1OTM0Mzg=", "number": 2253, "title": "Dockerfile doesn't build", "user": {"login": "adrianog", "id": 9115562, "node_id": "MDQ6VXNlcjkxMTU1NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/9115562?v=4", "gravatar_id": "", "url": "https://api.github.com/users/adrianog", "html_url": "https://github.com/adrianog", "followers_url": "https://api.github.com/users/adrianog/followers", "following_url": "https://api.github.com/users/adrianog/following{/other_user}", "gists_url": "https://api.github.com/users/adrianog/gists{/gist_id}", "starred_url": "https://api.github.com/users/adrianog/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/adrianog/subscriptions", "organizations_url": "https://api.github.com/users/adrianog/orgs", "repos_url": "https://api.github.com/users/adrianog/repos", "events_url": "https://api.github.com/users/adrianog/events{/privacy}", "received_events_url": "https://api.github.com/users/adrianog/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 233081, "node_id": "MDU6TGFiZWwyMzMwODE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20easy", "name": "difficulty easy", "color": "00ff00", "default": false, "description": "Easy issue: required small fix"}, {"id": 1602334164, "node_id": "MDU6TGFiZWwxNjAyMzM0MTY0", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/impact%20LOW", "name": "impact LOW", "color": "0052cc", "default": false, "description": "Low impact on affected users"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 15, "created_at": "2018-11-01T22:20:27Z", "updated_at": "2020-05-14T02:34:43Z", "closed_at": "2020-05-14T02:34:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Description\r\ndockerfile doesn't build\r\n\r\n#### Steps/Code/Corpus to Reproduce\r\ncd docker\r\ndocker build .\r\n\r\n#### Expected Results\r\nbuild comples succesfully\r\n\r\n#### Actual Results\r\n```\r\nGet:18 http://archive.ubuntu.com/ubuntu xenial-backports/universe amd64 Packages [8532 B]\r\nFetched 15.5 MB in 1s (10.1 MB/s)\r\nReading package lists...\r\nReading package lists...\r\nBuilding dependency tree...\r\nReading state information...\r\nE: Version '1.17.1-1ubuntu1.3' for 'wget' was not found\r\nE: Version '2.23-0ubuntu9' for 'locales' was not found\r\nThe command '/bin/sh -c apt-get update     && apt-get install -y     ant=1.9.6-1ubuntu1     cmake=3.5.1-1ubuntu3     default-jdk=2:1.8-56ubuntu2     g++=4:5.3.1-1ubuntu1     git=1:2.7.4-0ubuntu1     libboost-all-dev=1.58.0.1ubuntu1     libgsl-dev=2.1+dfsg-2     mercurial=3.7.3-1ubuntu1     python3=3.5.1-3     python3-pip=8.1.1-2ubuntu0.4     python3-setuptools=20.7.0-1     python=2.7.11-1     python-pip=8.1.1-2ubuntu0.4     python-setuptools=20.7.0-1     unzip=6.0-20ubuntu1     wget=1.17.1-1ubuntu1.3     subversion=1.9.3-2ubuntu1.1     locales=2.23-0ubuntu9     libopenblas-dev=0.2.18-1ubuntu1     libboost-program-options-dev=1.58.0.1ubuntu1     zlib1g-dev=1:1.2.8.dfsg-2ubuntu4.1' returned a non-zero code: 100\r\n```\r\n\r\n\r\n#### Versions\r\ndevelop branch @ 20181101_2219", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2253/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2253/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2239", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2239/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2239/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2239/events", "html_url": "https://github.com/RaRe-Technologies/gensim/pull/2239", "id": 372562499, "node_id": "MDExOlB1bGxSZXF1ZXN0MjI0NzEyOTU1", "number": 2239, "title": "Fix overflow error for `*Vec` corpusfile-based training", "user": {"login": "bm371613", "id": 3083638, "node_id": "MDQ6VXNlcjMwODM2Mzg=", "avatar_url": "https://avatars.githubusercontent.com/u/3083638?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bm371613", "html_url": "https://github.com/bm371613", "followers_url": "https://api.github.com/users/bm371613/followers", "following_url": "https://api.github.com/users/bm371613/following{/other_user}", "gists_url": "https://api.github.com/users/bm371613/gists{/gist_id}", "starred_url": "https://api.github.com/users/bm371613/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bm371613/subscriptions", "organizations_url": "https://api.github.com/users/bm371613/orgs", "repos_url": "https://api.github.com/users/bm371613/repos", "events_url": "https://api.github.com/users/bm371613/events{/privacy}", "received_events_url": "https://api.github.com/users/bm371613/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 1162250977, "node_id": "MDU6TGFiZWwxMTYyMjUwOTc3", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/fasttext", "name": "fasttext", "color": "ad52ea", "default": false, "description": "Issues related to the FastText model"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2018-10-22T15:11:47Z", "updated_at": "2019-01-11T16:40:54Z", "closed_at": "2019-01-11T16:40:47Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/pulls/2239", "html_url": "https://github.com/RaRe-Technologies/gensim/pull/2239", "diff_url": "https://github.com/RaRe-Technologies/gensim/pull/2239.diff", "patch_url": "https://github.com/RaRe-Technologies/gensim/pull/2239.patch", "merged_at": "2019-01-11T16:40:47Z"}, "body": "Fix #2258 \r\n\r\nCorpus size is currently limited in terms of the total word count to what fits a 32-bit signed integer. This can result in a `OverflowError: value too large to convert to int` for a big corpus. This PR replaces `int` with a `long long` to allow for bigger corpora.", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2239/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2239/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2235", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2235/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2235/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2235/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/2235", "id": 371402570, "node_id": "MDU6SXNzdWUzNzE0MDI1NzA=", "number": 2235, "title": "FastText save & callbacks suspicious behavior", "user": {"login": "darentsia", "id": 33403645, "node_id": "MDQ6VXNlcjMzNDAzNjQ1", "avatar_url": "https://avatars.githubusercontent.com/u/33403645?v=4", "gravatar_id": "", "url": "https://api.github.com/users/darentsia", "html_url": "https://github.com/darentsia", "followers_url": "https://api.github.com/users/darentsia/followers", "following_url": "https://api.github.com/users/darentsia/following{/other_user}", "gists_url": "https://api.github.com/users/darentsia/gists{/gist_id}", "starred_url": "https://api.github.com/users/darentsia/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/darentsia/subscriptions", "organizations_url": "https://api.github.com/users/darentsia/orgs", "repos_url": "https://api.github.com/users/darentsia/repos", "events_url": "https://api.github.com/users/darentsia/events{/privacy}", "received_events_url": "https://api.github.com/users/darentsia/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 234670, "node_id": "MDU6TGFiZWwyMzQ2NzA=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20medium", "name": "difficulty medium", "color": "00d000", "default": false, "description": "Medium issue: required good gensim understanding & python skills"}, {"id": 1162250977, "node_id": "MDU6TGFiZWwxMTYyMjUwOTc3", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/fasttext", "name": "fasttext", "color": "ad52ea", "default": false, "description": "Issues related to the FastText model"}], "state": "closed", "locked": false, "assignee": {"login": "mpenkov", "id": 1101396, "node_id": "MDQ6VXNlcjExMDEzOTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1101396?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mpenkov", "html_url": "https://github.com/mpenkov", "followers_url": "https://api.github.com/users/mpenkov/followers", "following_url": "https://api.github.com/users/mpenkov/following{/other_user}", "gists_url": "https://api.github.com/users/mpenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/mpenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mpenkov/subscriptions", "organizations_url": "https://api.github.com/users/mpenkov/orgs", "repos_url": "https://api.github.com/users/mpenkov/repos", "events_url": "https://api.github.com/users/mpenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/mpenkov/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "mpenkov", "id": 1101396, "node_id": "MDQ6VXNlcjExMDEzOTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1101396?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mpenkov", "html_url": "https://github.com/mpenkov", "followers_url": "https://api.github.com/users/mpenkov/followers", "following_url": "https://api.github.com/users/mpenkov/following{/other_user}", "gists_url": "https://api.github.com/users/mpenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/mpenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mpenkov/subscriptions", "organizations_url": "https://api.github.com/users/mpenkov/orgs", "repos_url": "https://api.github.com/users/mpenkov/repos", "events_url": "https://api.github.com/users/mpenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/mpenkov/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 7, "created_at": "2018-10-18T07:49:16Z", "updated_at": "2019-01-17T06:52:53Z", "closed_at": "2019-01-17T06:51:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!-- Instructions For Filing a Bug: https://github.com/RaRe-Technologies/gensim/blob/develop/CONTRIBUTING.md -->\r\n\r\n#### Description\r\nTODO: FastText model does not learn anything from the text corpus. \r\n\r\n#### Steps/Code/Corpus to Reproduce\r\n\r\n\r\n```python\r\nimport os\r\nimport logging\r\n\r\nfrom gensim.models import FastText\r\nfrom gensim.models.callbacks import CallbackAny2Vec\r\n\r\nclass EpochSaver(CallbackAny2Vec):\r\n    '''Callback to save model after each epoch and show training parameters '''\r\n\r\n    def __init__(self, savedir):\r\n        self.savedir = savedir\r\n        self.epoch = 0\r\n        os.makedirs(self.savedir, exist_ok=True)\r\n\r\n    def on_epoch_end(self, model):\r\n        savepath = os.path.join(self.savedir, \"model_fastText_web_kw_sm{}_epoch.gz\".format(self.epoch))\r\n        model.save(savepath)\r\n        print(\r\n            \"Epoch saved: {}\".format(self.epoch + 1),\r\n            \"Start next epoch ... \", sep=\"\\n\"\r\n            )\r\n        if os.path.isfile(os.path.join(self.savedir, \"model_fastText_web_kw_sm{}_epoch.gz\".format(self.epoch - 1))):\r\n            print(\"Previous model deleted \")\r\n            os.remove(os.path.join(self.savedir, \"model_fastText_web_kw_sm{}_epoch.gz\".format(self.epoch - 1)))\r\n        self.epoch += 1\r\n\r\nclass SentenceIter:\r\n    def __iter__(self):\r\n        with open(\"data/eng_tweets/20_news_groups_dataset.txt\", \"r\") as f:\r\n            for line in f:\r\n                yield line[:-1].split(\" \")\r\n\r\nif __name__ == \"__main__\":\r\n\r\n   logging.basicConfig(\r\n   format='%(asctime)s : %(levelname)s : %(message)s', level=logging.INFO\r\n   )\r\n\r\n   num_workers = os.cpu_count()\r\n   model = FastText(\r\n        SentenceIter(),\r\n        sg=1,\r\n        size=100,\r\n        window=3,\r\n        min_count=5,\r\n        workers=num_workers,\r\n        iter=5,\r\n        negative=20\r\n        callbacks=[EpochSaver(\"./checkpoints/fasttext_eng_tweets\")]\r\n    )\r\n```\r\n\r\n#### Expected Results \r\n\r\nI expect to find in model.most_similar(\"word\") something closer in meaning but found just a trash. \r\nI took an open-source dataset  from sklearn.datasets  - fetch_20newsgroups. \r\n\r\n#### Actual Results\r\n\r\n![image](https://user-images.githubusercontent.com/33403645/47139525-ad6fac00-d2c4-11e8-9747-e384678ebb40.png)\r\n\r\nAnd it changes very slightly from epoch to epoch, It can change slightly an order of this words, or change their similarity. But nothing changes during training. Nothing learns. \r\n\r\nAlso, what is important: \r\n\r\n1. If I try to make a fasttext model from command line, I mean using this command: \r\n` ./fasttext skipgram -input data.txt -output model`  (https://github.com/facebookresearch/fastText) It shows good results, for example for apple we would receive: apples, apple's and so on.  \r\n\r\n2. Also If I change my model from FastText to Word2Vec - I can learn. Results are good. \r\n\r\n3. Also If I don't use my EpochSaver, but just load and save model on each epoch manuall, for example:\r\n\r\n```python\r\nfor epoch in range(N_epochs):\r\n    train model \r\n    save model \r\n```\r\n\r\nAnd then load your model before the next epoch starts, you can also receive good results. \r\n\r\nSo, the problem can be in EpochSaver, but can you explain please, why in Word2Vec's case it works, but here - don't. \r\n\r\n#### Versions\r\n\r\nLinux-4.15.0-24-generic-x86_64-with-Ubuntu-16.04-xenial\r\nPython 3.5.2 (default, Nov 23 2017, 16:37:01) \r\n[GCC 5.4.0 20160609]\r\nNumPy 1.14.5\r\nSciPy 1.1.0\r\ngensim 3.6.0\r\nFAST_VERSION 1\r\n\r\n<!-- Thanks for contributing! -->\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2235/reactions", "total_count": 3, "+1": 3, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2235/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2223", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2223/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2223/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2223/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/2223", "id": 369246769, "node_id": "MDU6SXNzdWUzNjkyNDY3Njk=", "number": 2223, "title": "LdaMulticore parameter alpha: 'auto' not supported but documentation says it is", "user": {"login": "johann-petrak", "id": 619106, "node_id": "MDQ6VXNlcjYxOTEwNg==", "avatar_url": "https://avatars.githubusercontent.com/u/619106?v=4", "gravatar_id": "", "url": "https://api.github.com/users/johann-petrak", "html_url": "https://github.com/johann-petrak", "followers_url": "https://api.github.com/users/johann-petrak/followers", "following_url": "https://api.github.com/users/johann-petrak/following{/other_user}", "gists_url": "https://api.github.com/users/johann-petrak/gists{/gist_id}", "starred_url": "https://api.github.com/users/johann-petrak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/johann-petrak/subscriptions", "organizations_url": "https://api.github.com/users/johann-petrak/orgs", "repos_url": "https://api.github.com/users/johann-petrak/repos", "events_url": "https://api.github.com/users/johann-petrak/events{/privacy}", "received_events_url": "https://api.github.com/users/johann-petrak/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 175643, "node_id": "MDU6TGFiZWwxNzU2NDM=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/documentation", "name": "documentation", "color": "02d7e1", "default": true, "description": "Current issue related to documentation"}, {"id": 233081, "node_id": "MDU6TGFiZWwyMzMwODE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20easy", "name": "difficulty easy", "color": "00ff00", "default": false, "description": "Easy issue: required small fix"}, {"id": 721000065, "node_id": "MDU6TGFiZWw3MjEwMDAwNjU=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/good%20first%20issue", "name": "good first issue", "color": "7057ff", "default": true, "description": "Issue for new contributors (not required gensim understanding + very simple)"}, {"id": 1072221028, "node_id": "MDU6TGFiZWwxMDcyMjIxMDI4", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/Hacktoberfest", "name": "Hacktoberfest", "color": "b396e0", "default": false, "description": "Issues marked for hacktoberfest"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2018-10-11T18:22:09Z", "updated_at": "2018-10-15T06:30:06Z", "closed_at": "2018-10-15T06:30:06Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "When using the value 'auto' for parameter \"alpha\" for LdaMulticore, the following exception is raised:\r\n```\r\nNotImplementedError: auto-tuning alpha not implemented in multicore LDA; use plain LdaModel.\r\n```\r\n(ldamulticore.py, line 146)\r\n\r\nHowever the documentation string of the `__init__` states that \"auto\" is supported.\r\n\r\nThis may be a copy/paste error, but is there any chance to see auto get supported for the Multicore version as well? \r\n\r\n#### Versions\r\n```\r\nLinux-4.15.0-35-generic-x86_64-with-debian-buster-sid\r\nPython 3.6.3 |Anaconda custom (64-bit)| (default, Oct 13 2017, 12:02:49) \r\n[GCC 7.2.0]\r\nNumPy 1.14.2\r\nSciPy 1.0.0\r\ngensim 3.4.0\r\nFAST_VERSION 1\r\n```\r\n\r\nHowever, the exception code is still present in the latest master as well, I think. ", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2223/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2223/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2219", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2219/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2219/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2219/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/2219", "id": 368350294, "node_id": "MDU6SXNzdWUzNjgzNTAyOTQ=", "number": 2219, "title": "Stopword \"fifty\" misspelled \"fify\". ", "user": {"login": "thedansimonson", "id": 921417, "node_id": "MDQ6VXNlcjkyMTQxNw==", "avatar_url": "https://avatars.githubusercontent.com/u/921417?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thedansimonson", "html_url": "https://github.com/thedansimonson", "followers_url": "https://api.github.com/users/thedansimonson/followers", "following_url": "https://api.github.com/users/thedansimonson/following{/other_user}", "gists_url": "https://api.github.com/users/thedansimonson/gists{/gist_id}", "starred_url": "https://api.github.com/users/thedansimonson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thedansimonson/subscriptions", "organizations_url": "https://api.github.com/users/thedansimonson/orgs", "repos_url": "https://api.github.com/users/thedansimonson/repos", "events_url": "https://api.github.com/users/thedansimonson/events{/privacy}", "received_events_url": "https://api.github.com/users/thedansimonson/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 233081, "node_id": "MDU6TGFiZWwyMzMwODE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20easy", "name": "difficulty easy", "color": "00ff00", "default": false, "description": "Easy issue: required small fix"}, {"id": 721000065, "node_id": "MDU6TGFiZWw3MjEwMDAwNjU=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/good%20first%20issue", "name": "good first issue", "color": "7057ff", "default": true, "description": "Issue for new contributors (not required gensim understanding + very simple)"}, {"id": 1072221028, "node_id": "MDU6TGFiZWwxMDcyMjIxMDI4", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/Hacktoberfest", "name": "Hacktoberfest", "color": "b396e0", "default": false, "description": "Issues marked for hacktoberfest"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-10-09T18:58:07Z", "updated_at": "2018-10-09T20:17:01Z", "closed_at": "2018-10-09T20:17:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\nIf your issue is a usage or a general question, please submit it here instead:\r\n- Mailing List: https://groups.google.com/forum/#!forum/gensim\r\nFor more information, see Recipes&FAQ: https://github.com/RaRe-Technologies/gensim/wiki/Recipes-&-FAQ\r\n-->\r\n\r\n<!-- Instructions For Filing a Bug: https://github.com/RaRe-Technologies/gensim/blob/develop/CONTRIBUTING.md -->\r\n\r\n#### Description\r\n\r\nThe word \"fifty\" isn't in `gensim.parsing.preprocessing.STOPWORDS` frozenset, while the word \"fify\" is. \r\n\r\n#### Steps/Code/Corpus to Reproduce\r\n\r\nSee expected and actual results below:\r\n\r\n#### Expected Results\r\n```\r\n>>> import gensim.parsing.preprocessing\r\n>>> \"fifty\" in gensim.parsing.preprocessing.STOPWORDS\r\nTrue\r\n>>> \"fify\" in gensim.parsing.preprocessing.STOPWORDS\r\nFalse\r\n```\r\n\r\n```\r\n>>> print(\"\\n\".join(sorted(gensim.parsing.preprocessing.STOPWORDS)))\r\n...\r\nexcept\r\nfew\r\nfifteen\r\nfifty\r\nfill\r\nfind\r\nfire\r\n...\r\n```\r\n\r\n#### Actual Results\r\n```\r\n>>> import gensim.parsing.preprocessing\r\n>>> \"fifty\" in gensim.parsing.preprocessing.STOPWORDS\r\nFalse\r\n>>> \"fify\" in gensim.parsing.preprocessing.STOPWORDS\r\nTrue\r\n```\r\n\r\n```\r\n>>> print(\"\\n\".join(sorted(gensim.parsing.preprocessing.STOPWORDS)))\r\n...\r\nexcept\r\nfew\r\nfifteen\r\nfify\r\nfill\r\nfind\r\nfire\r\n...\r\n```\r\n\r\n#### Versions\r\n\r\n\"fify\" is present on line 48 of [gensim.parsing.preprocessing.py](https://github.com/RaRe-Technologies/gensim/blob/4543646d3fe3496e11bc935e72cbf9b18504442e/gensim/parsing/preprocessing.py)\r\n\r\n```\r\n>>> import platform; print(platform.platform())\r\nLinux-4.15.0-36-generic-x86_64-with-Ubuntu-16.04-xenial\r\n>>> import sys; print(\"Python\", sys.version)\r\n('Python', '2.7.12 (default, Dec  4 2017, 14:50:18) \\n[GCC 5.4.0 20160609]')\r\n>>> import numpy; print(\"NumPy\", numpy.__version__)\r\n('NumPy', '1.14.2')\r\n>>> import scipy; print(\"SciPy\", scipy.__version__)\r\n('SciPy', '1.0.1')\r\n>>> import gensim; print(\"gensim\", gensim.__version__)\r\n('gensim', '3.4.0')\r\n>>> from gensim.models import word2vec;print(\"FAST_VERSION\", word2vec.FAST_VERSION)\r\n('FAST_VERSION', 1)\r\n```\r\n\r\n\r\n<!-- Thanks for contributing! -->\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2219/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2219/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2203", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2203/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2203/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2203/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/2203", "id": 365445030, "node_id": "MDU6SXNzdWUzNjU0NDUwMzA=", "number": 2203, "title": "Wrong return types in docstrings for wv.evaluate_word_analogies and wv.evaluate_word_pairs", "user": {"login": "Stigjb", "id": 418181, "node_id": "MDQ6VXNlcjQxODE4MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/418181?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Stigjb", "html_url": "https://github.com/Stigjb", "followers_url": "https://api.github.com/users/Stigjb/followers", "following_url": "https://api.github.com/users/Stigjb/following{/other_user}", "gists_url": "https://api.github.com/users/Stigjb/gists{/gist_id}", "starred_url": "https://api.github.com/users/Stigjb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Stigjb/subscriptions", "organizations_url": "https://api.github.com/users/Stigjb/orgs", "repos_url": "https://api.github.com/users/Stigjb/repos", "events_url": "https://api.github.com/users/Stigjb/events{/privacy}", "received_events_url": "https://api.github.com/users/Stigjb/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 175643, "node_id": "MDU6TGFiZWwxNzU2NDM=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/documentation", "name": "documentation", "color": "02d7e1", "default": true, "description": "Current issue related to documentation"}, {"id": 233081, "node_id": "MDU6TGFiZWwyMzMwODE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20easy", "name": "difficulty easy", "color": "00ff00", "default": false, "description": "Easy issue: required small fix"}, {"id": 1072221028, "node_id": "MDU6TGFiZWwxMDcyMjIxMDI4", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/Hacktoberfest", "name": "Hacktoberfest", "color": "b396e0", "default": false, "description": "Issues marked for hacktoberfest"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-10-01T12:48:01Z", "updated_at": "2018-10-03T09:22:12Z", "closed_at": "2018-10-03T02:05:32Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "This is the documented return type for `KeyedVectors.evaluate_word_analogies`:\r\nhttps://github.com/RaRe-Technologies/gensim/blob/6a4424d3e465dea0afcddc4f4e2410cf0f52dba1/gensim/models/keyedvectors.py#L1070\r\n\r\nThe dicts in the second element of the return tuple have as values either a string or a list of 4-tuples. For instance:\r\n```\r\n{\r\n    'section': 'family',\r\n    'correct': [('he', 'she', 'dad', 'mom'), ...],\r\n    'incorrect': [('man', 'woman', 'groom', 'bride'), ...]\r\n}\r\n```\r\nSo I believe the return value of `evaluate_word_analogies` is actually `Tuple[float, List[Dict[str, Union[str, List[Tuple[str, str, str, str]]]]]` (in PEP-484 style annotation).\r\n\r\nThen, in `KeyedVectors.evaluate_word_pairs`, the documented return type is:\r\nhttps://github.com/RaRe-Technologies/gensim/blob/6a4424d3e465dea0afcddc4f4e2410cf0f52dba1/gensim/models/keyedvectors.py#L1284\r\n\r\nHere, the second and third elements of the return tuple are actually pairs of floats, since they are the values returned from `scipy.stats.pearsonr` and `spearmanr`, which return both the correlation and a p-value. I don't know whether the p-value should be discarded or the documented return type be updated to `(float, (float, float), (float, float))`.", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2203/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2203/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2201", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2201/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2201/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2201/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/2201", "id": 365137220, "node_id": "MDU6SXNzdWUzNjUxMzcyMjA=", "number": 2201, "title": "Unable to load KeyedVectors models created with gensim==3.2.0: AttributeError: Can't get attribute 'EuclideanKeyedVectors'", "user": {"login": "pypt", "id": 181949, "node_id": "MDQ6VXNlcjE4MTk0OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/181949?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pypt", "html_url": "https://github.com/pypt", "followers_url": "https://api.github.com/users/pypt/followers", "following_url": "https://api.github.com/users/pypt/following{/other_user}", "gists_url": "https://api.github.com/users/pypt/gists{/gist_id}", "starred_url": "https://api.github.com/users/pypt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pypt/subscriptions", "organizations_url": "https://api.github.com/users/pypt/orgs", "repos_url": "https://api.github.com/users/pypt/repos", "events_url": "https://api.github.com/users/pypt/events{/privacy}", "received_events_url": "https://api.github.com/users/pypt/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 234670, "node_id": "MDU6TGFiZWwyMzQ2NzA=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20medium", "name": "difficulty medium", "color": "00d000", "default": false, "description": "Medium issue: required good gensim understanding & python skills"}], "state": "closed", "locked": false, "assignee": {"login": "mpenkov", "id": 1101396, "node_id": "MDQ6VXNlcjExMDEzOTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1101396?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mpenkov", "html_url": "https://github.com/mpenkov", "followers_url": "https://api.github.com/users/mpenkov/followers", "following_url": "https://api.github.com/users/mpenkov/following{/other_user}", "gists_url": "https://api.github.com/users/mpenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/mpenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mpenkov/subscriptions", "organizations_url": "https://api.github.com/users/mpenkov/orgs", "repos_url": "https://api.github.com/users/mpenkov/repos", "events_url": "https://api.github.com/users/mpenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/mpenkov/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "mpenkov", "id": 1101396, "node_id": "MDQ6VXNlcjExMDEzOTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1101396?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mpenkov", "html_url": "https://github.com/mpenkov", "followers_url": "https://api.github.com/users/mpenkov/followers", "following_url": "https://api.github.com/users/mpenkov/following{/other_user}", "gists_url": "https://api.github.com/users/mpenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/mpenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mpenkov/subscriptions", "organizations_url": "https://api.github.com/users/mpenkov/orgs", "repos_url": "https://api.github.com/users/mpenkov/repos", "events_url": "https://api.github.com/users/mpenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/mpenkov/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2018-09-29T14:32:03Z", "updated_at": "2019-04-28T02:33:48Z", "closed_at": "2019-04-28T02:33:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\nIf your issue is a usage or a general question, please submit it here instead:\r\n- Mailing List: https://groups.google.com/forum/#!forum/gensim\r\nFor more information, see Recipes&FAQ: https://github.com/RaRe-Technologies/gensim/wiki/Recipes-&-FAQ\r\n-->\r\n\r\n<!-- Instructions For Filing a Bug: https://github.com/RaRe-Technologies/gensim/blob/develop/CONTRIBUTING.md -->\r\n\r\n#### Description\r\n\r\nHi there,\r\n\r\nI can't seem to be able to load trimmed `KeyedVectors` models created with gensim 3.2.0 with any newer version of gensim (3.3.0 - 3.6.0) because:\r\n\r\n```\r\nAttributeError: Can't get attribute 'EuclideanKeyedVectors' on <module 'gensim.models.keyedvectors' from '/usr/local/lib/python3.7/site-packages/gensim/models/keyedvectors.py'>\r\n```\r\n\r\n#### Steps/Code/Corpus to Reproduce\r\n\r\nTo replicate:\r\n\r\n1) Create a model with gensim==3.2.0, convert it to `KeyedVectors` and then save it:\r\n\r\n```shell\r\npip3.7 install -qU gensim==3.2.0\r\n```\r\n\r\n```python\r\nfrom gensim.models import Word2Vec\r\nfrom gensim.test.utils import common_texts\r\n\r\nmodel = Word2Vec(common_texts, size=100, window=5, min_count=1, workers=4)\r\ntrimmed_model = model.wv\r\ntrimmed_model.save('test.word2vec')\r\n```\r\n\r\n2) Try loading the model with gensim>=3.2.0:\r\n\r\n```shell\r\npip3.7 install -qU gensim==3.6.0\t# same with 3.3.0, 3.4.0 and 3.5.0 too\r\n```\r\n\r\n```python\r\nfrom gensim.models import KeyedVectors\r\n\r\nword_vectors = KeyedVectors.load('test.word2vec')\r\n```\r\n\r\n#### Expected Results\r\n\r\nModel should get loaded and be functional.\r\n\r\n\r\n#### Actual Results\r\n\r\n`KeyedVectors.load()` fails with:\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/usr/local/lib/python3.7/site-packages/gensim/models/keyedvectors.py\", line 212, in load\r\n    return super(BaseKeyedVectors, cls).load(fname_or_handle, **kwargs)\r\n  File \"/usr/local/lib/python3.7/site-packages/gensim/utils.py\", line 422, in load\r\n    obj = unpickle(fname)\r\n  File \"/usr/local/lib/python3.7/site-packages/gensim/utils.py\", line 1361, in unpickle\r\n    return _pickle.load(f, encoding='latin1')\r\nAttributeError: Can't get attribute 'EuclideanKeyedVectors' on <module 'gensim.models.keyedvectors' from '/usr/local/lib/python3.7/site-packages/gensim/models/keyedvectors.py'>\r\n```\r\n\r\n\r\n#### Versions\r\n<!--\r\nPlease run the following snippet and paste the output below.\r\nimport platform; print(platform.platform())\r\nimport sys; print(\"Python\", sys.version)\r\nimport numpy; print(\"NumPy\", numpy.__version__)\r\nimport scipy; print(\"SciPy\", scipy.__version__)\r\nimport gensim; print(\"gensim\", gensim.__version__)\r\nfrom gensim.models import word2vec;print(\"FAST_VERSION\", word2vec.FAST_VERSION)\r\n-->\r\n\r\n```\r\n>>> import platform; print(platform.platform())\r\nDarwin-18.0.0-x86_64-i386-64bit\r\n>>> import sys; print(\"Python\", sys.version)\r\nPython 3.7.0 (default, Sep 18 2018, 18:47:08) \r\n[Clang 10.0.0 (clang-1000.10.43.1)]\r\n>>> import numpy; print(\"NumPy\", numpy.__version__)\r\nNumPy 1.15.2\r\n>>> import scipy; print(\"SciPy\", scipy.__version__)\r\nSciPy 1.1.0\r\n>>> import gensim; print(\"gensim\", gensim.__version__)\r\ngensim 3.6.0\r\n>>> from gensim.models import word2vec;print(\"FAST_VERSION\", word2vec.FAST_VERSION)\r\nFAST_VERSION 0\r\n```\r\n\r\n\r\n<!-- Thanks for contributing! -->\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2201/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2201/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2188", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2188/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2188/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2188/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/2188", "id": 360671953, "node_id": "MDU6SXNzdWUzNjA2NzE5NTM=", "number": 2188, "title": "FutureWarning: Conversion of the second argument of issubdtype from `int` to `np.signedinteger` is deprecated", "user": {"login": "dniku", "id": 1315874, "node_id": "MDQ6VXNlcjEzMTU4NzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1315874?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dniku", "html_url": "https://github.com/dniku", "followers_url": "https://api.github.com/users/dniku/followers", "following_url": "https://api.github.com/users/dniku/following{/other_user}", "gists_url": "https://api.github.com/users/dniku/gists{/gist_id}", "starred_url": "https://api.github.com/users/dniku/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dniku/subscriptions", "organizations_url": "https://api.github.com/users/dniku/orgs", "repos_url": "https://api.github.com/users/dniku/repos", "events_url": "https://api.github.com/users/dniku/events{/privacy}", "received_events_url": "https://api.github.com/users/dniku/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 233081, "node_id": "MDU6TGFiZWwyMzMwODE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20easy", "name": "difficulty easy", "color": "00ff00", "default": false, "description": "Easy issue: required small fix"}, {"id": 1072221028, "node_id": "MDU6TGFiZWwxMDcyMjIxMDI4", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/Hacktoberfest", "name": "Hacktoberfest", "color": "b396e0", "default": false, "description": "Issues marked for hacktoberfest"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2018-09-16T19:48:35Z", "updated_at": "2018-12-25T16:05:11Z", "closed_at": "2018-10-05T02:36:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Description\r\n```\r\n/usr/lib/python3.7/site-packages/gensim/matutils.py:737: FutureWarning: Conversion of the second argument of issubdtype from `int` to `np.signedinteger` is deprecated. In future, it will be treated as `np.int64 == np.dtype(int).type`.\r\n  if np.issubdtype(vec.dtype, np.int):\r\n```\r\n\r\n#### Steps/Code/Corpus to Reproduce\r\n\r\n```\r\nfrom gensim.test.utils import common_texts\r\nfrom gensim.models import Word2Vec\r\n\r\nmodel = Word2Vec(common_texts, size=100, window=5, min_count=1, workers=4)\r\nprint(model.wv.most_similar('human'))\r\n```\r\n\r\n#### Expected Results\r\nNo warning.\r\n\r\n#### Actual Results\r\n`FutureWarning`.\r\n\r\n#### Versions\r\n```\r\nLinux-4.14.68-1-MANJARO-x86_64-with-arch-Manjaro-Linux\r\nPython 3.7.0 (default, Jul 15 2018, 10:44:58) \r\n[GCC 8.1.1 20180531]\r\nNumPy 1.15.1\r\nSciPy 1.1.0\r\ngensim 3.5.0\r\nFAST_VERSION 0\r\n```\r\n\r\n#### Possible fix\r\n\r\nReplace the offending line with\r\n\r\n```\r\nif np.issubdtype(vec.dtype, np.signedinteger) or np.issubdtype(vec.dtype, np.unsignedinteger):\r\n```\r\n\r\nBased on [Numpy docs](https://docs.scipy.org/doc/numpy-1.15.1/reference/arrays.dtypes.html?highlight=signedinteger#specifying-and-constructing-data-types). I haven't researched the issue thoroughly though and I'm not sure whether this is a proper fix.", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2188/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2188/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2182", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2182/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2182/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2182/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/2182", "id": 359608728, "node_id": "MDU6SXNzdWUzNTk2MDg3Mjg=", "number": 2182, "title": "Word2Vec keeps on training during on_batch_end call", "user": {"login": "jbayardo", "id": 1063569, "node_id": "MDQ6VXNlcjEwNjM1Njk=", "avatar_url": "https://avatars.githubusercontent.com/u/1063569?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jbayardo", "html_url": "https://github.com/jbayardo", "followers_url": "https://api.github.com/users/jbayardo/followers", "following_url": "https://api.github.com/users/jbayardo/following{/other_user}", "gists_url": "https://api.github.com/users/jbayardo/gists{/gist_id}", "starred_url": "https://api.github.com/users/jbayardo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jbayardo/subscriptions", "organizations_url": "https://api.github.com/users/jbayardo/orgs", "repos_url": "https://api.github.com/users/jbayardo/repos", "events_url": "https://api.github.com/users/jbayardo/events{/privacy}", "received_events_url": "https://api.github.com/users/jbayardo/received_events", "type": "User", "site_admin": true}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 234670, "node_id": "MDU6TGFiZWwyMzQ2NzA=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20medium", "name": "difficulty medium", "color": "00d000", "default": false, "description": "Medium issue: required good gensim understanding & python skills"}], "state": "closed", "locked": false, "assignee": {"login": "mpenkov", "id": 1101396, "node_id": "MDQ6VXNlcjExMDEzOTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1101396?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mpenkov", "html_url": "https://github.com/mpenkov", "followers_url": "https://api.github.com/users/mpenkov/followers", "following_url": "https://api.github.com/users/mpenkov/following{/other_user}", "gists_url": "https://api.github.com/users/mpenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/mpenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mpenkov/subscriptions", "organizations_url": "https://api.github.com/users/mpenkov/orgs", "repos_url": "https://api.github.com/users/mpenkov/repos", "events_url": "https://api.github.com/users/mpenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/mpenkov/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "mpenkov", "id": 1101396, "node_id": "MDQ6VXNlcjExMDEzOTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1101396?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mpenkov", "html_url": "https://github.com/mpenkov", "followers_url": "https://api.github.com/users/mpenkov/followers", "following_url": "https://api.github.com/users/mpenkov/following{/other_user}", "gists_url": "https://api.github.com/users/mpenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/mpenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mpenkov/subscriptions", "organizations_url": "https://api.github.com/users/mpenkov/orgs", "repos_url": "https://api.github.com/users/mpenkov/repos", "events_url": "https://api.github.com/users/mpenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/mpenkov/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/milestones/3", "html_url": "https://github.com/RaRe-Technologies/gensim/milestone/3", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/milestones/3/labels", "id": 5364765, "node_id": "MDk6TWlsZXN0b25lNTM2NDc2NQ==", "number": 3, "title": "4.0.0", "description": "", "creator": {"login": "piskvorky", "id": 610412, "node_id": "MDQ6VXNlcjYxMDQxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/610412?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piskvorky", "html_url": "https://github.com/piskvorky", "followers_url": "https://api.github.com/users/piskvorky/followers", "following_url": "https://api.github.com/users/piskvorky/following{/other_user}", "gists_url": "https://api.github.com/users/piskvorky/gists{/gist_id}", "starred_url": "https://api.github.com/users/piskvorky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piskvorky/subscriptions", "organizations_url": "https://api.github.com/users/piskvorky/orgs", "repos_url": "https://api.github.com/users/piskvorky/repos", "events_url": "https://api.github.com/users/piskvorky/events{/privacy}", "received_events_url": "https://api.github.com/users/piskvorky/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 38, "state": "closed", "created_at": "2020-04-29T19:09:55Z", "updated_at": "2021-03-28T13:26:38Z", "due_on": null, "closed_at": "2021-03-28T13:26:38Z"}, "comments": 13, "created_at": "2018-09-12T18:54:37Z", "updated_at": "2021-03-19T02:10:35Z", "closed_at": "2021-03-19T02:10:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Description\r\nSaving Word2Vec during a on_batch_end call fails because of something that looks a lot like a race condition. It looks like some internal dict within gensim is still being changed during the call to save.\r\n\r\n#### Steps/Code/Corpus to Reproduce\r\nTrain W2V with a callback that looks like:\r\n\r\n```python\r\n    def on_batch_end(self, model):\r\n        current_timestamp = datetime.utcnow()\r\n        if current_timestamp - self._last_temporary_save >= timedelta(hours=1):\r\n            relative_path = get_output_path(\r\n                'PartialCheckpoint', add_kwargs=True, relative=self.base_path, epoch=self.epoch, batch=self.batch)\r\n            output_path = os.path.join(self.base_path, relative_path)\r\n\r\n            model.save(output_path)\r\n            self._last_temporary_save = current_timestamp\r\n\r\n        self.batch += 1\r\n```\r\n\r\n#### Expected Results\r\nModel checkpoint after every hour of training\r\n\r\n#### Actual Results\r\nWhile running train:\r\n\r\n```\r\nException in thread Thread-15:\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python2.7/threading.py\", line 801, in __bootstrap_inner\r\n    self.run()\r\n  File \"/usr/lib/python2.7/threading.py\", line 754, in run\r\n    self.__target(*self.__args, **self.__kwargs)\r\n  File \"/home/ubuntu/workspace/machine_learning_tools-recommendations/mpozzer_env/local/lib/python2.7/site-packages/gensim/models/base_any2vec.py\", line 167, in _worker_loop\r\n    callback.on_batch_end(self)\r\n  File \"/home/ubuntu/workspace/machine_learning_tools-recommendations/meli_recsys/pipelines/machine_learning/meta_prod2vec/mp2v_train.py\", line 60, in on_batch_end\r\n    self._save_checkpoint(model, output_path)\r\n  File \"/home/ubuntu/workspace/machine_learning_tools-recommendations/meli_recsys/pipelines/machine_learning/meta_prod2vec/mp2v_train.py\", line 90, in _save_checkpoint\r\n    model.save(path)\r\n  File \"/home/ubuntu/workspace/machine_learning_tools-recommendations/mpozzer_env/local/lib/python2.7/site-packages/gensim/models/word2vec.py\", line 1214, in save\r\n    super(Word2Vec, self).save(*args, **kwargs)\r\n  File \"/home/ubuntu/workspace/machine_learning_tools-recommendations/mpozzer_env/local/lib/python2.7/site-packages/gensim/models/base_any2vec.py\", line 501, in save\r\n    super(BaseAny2VecModel, self).save(fname_or_handle, **kwargs)\r\n  File \"/home/ubuntu/workspace/machine_learning_tools-recommendations/mpozzer_env/local/lib/python2.7/site-packages/gensim/utils.py\", line 682, in save\r\n    self._smart_save(fname_or_handle, separately, sep_limit, ignore, pickle_protocol=pickle_protocol)\r\n  File \"/home/ubuntu/workspace/machine_learning_tools-recommendations/mpozzer_env/local/lib/python2.7/site-packages/gensim/utils.py\", line 536, in _smart_save\r\n    compress, subname)\r\n  File \"/home/ubuntu/workspace/machine_learning_tools-recommendations/mpozzer_env/local/lib/python2.7/site-packages/gensim/utils.py\", line 592, in _save_specials\r\n    for attrib, val in iteritems(self.__dict__):\r\nRuntimeError: dictionary changed size during iteration\r\n\r\nException in thread Thread-17:\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python2.7/threading.py\", line 801, in __bootstrap_inner\r\n    self.run()\r\n  File \"/usr/lib/python2.7/threading.py\", line 754, in run\r\n    self.__target(*self.__args, **self.__kwargs)\r\n  File \"/home/ubuntu/workspace/machine_learning_tools-recommendations/mpozzer_env/local/lib/python2.7/site-packages/gensim/models/base_any2vec.py\", line 167, in _worker_loop\r\n    callback.on_batch_end(self)\r\n  File \"/home/ubuntu/workspace/machine_learning_tools-recommendations/meli_recsys/pipelines/machine_learning/meta_prod2vec/mp2v_train.py\", line 60, in on_batch_end\r\n    self._save_checkpoint(model, output_path)\r\n  File \"/home/ubuntu/workspace/machine_learning_tools-recommendations/meli_recsys/pipelines/machine_learning/meta_prod2vec/mp2v_train.py\", line 90, in _save_checkpoint\r\n    model.save(path)\r\n  File \"/home/ubuntu/workspace/machine_learning_tools-recommendations/mpozzer_env/local/lib/python2.7/site-packages/gensim/models/word2vec.py\", line 1214, in save\r\n    super(Word2Vec, self).save(*args, **kwargs)\r\n  File \"/home/ubuntu/workspace/machine_learning_tools-recommendations/mpozzer_env/local/lib/python2.7/site-packages/gensim/models/base_any2vec.py\", line 501, in save\r\n    super(BaseAny2VecModel, self).save(fname_or_handle, **kwargs)\r\n  File \"/home/ubuntu/workspace/machine_learning_tools-recommendations/mpozzer_env/local/lib/python2.7/site-packages/gensim/utils.py\", line 682, in save\r\n    self._smart_save(fname_or_handle, separately, sep_limit, ignore, pickle_protocol=pickle_protocol)\r\n  File \"/home/ubuntu/workspace/machine_learning_tools-recommendations/mpozzer_env/local/lib/python2.7/site-packages/gensim/utils.py\", line 536, in _smart_save\r\n    compress, subname)\r\n  File \"/home/ubuntu/workspace/machine_learning_tools-recommendations/mpozzer_env/local/lib/python2.7/site-packages/gensim/utils.py\", line 592, in _save_specials\r\n    for attrib, val in iteritems(self.__dict__):\r\nRuntimeError: dictionary changed size during iteration\r\n\r\nException in thread Thread-10:\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python2.7/threading.py\", line 801, in __bootstrap_inner\r\n    self.run()\r\n  File \"/usr/lib/python2.7/threading.py\", line 754, in run\r\n    self.__target(*self.__args, **self.__kwargs)\r\n  File \"/home/ubuntu/workspace/machine_learning_tools-recommendations/mpozzer_env/local/lib/python2.7/site-packages/gensim/models/base_any2vec.py\", line 164, in _worker_loop\r\n    tally, raw_tally = self._do_train_job(data_iterable, job_parameters, thread_private_mem)\r\n  File \"/home/ubuntu/workspace/machine_learning_tools-recommendations/mpozzer_env/local/lib/python2.7/site-packages/gensim/models/word2vec.py\", line 771, in _do_train_job\r\n    tally += train_batch_sg(self, sentences, alpha, work, self.compute_loss)\r\n  File \"gensim/models/word2vec_inner.pyx\", line 497, in gensim.models.word2vec_inner.train_batch_sg\r\n    cdef REAL_t *syn0 = <REAL_t *>(np.PyArray_DATA(model.wv.vectors))\r\nAttributeError: 'Word2VecKeyedVectors' object has no attribute 'vectors'\r\n\r\nException in thread Thread-19:\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python2.7/threading.py\", line 801, in __bootstrap_inner\r\n    self.run()\r\n  File \"/usr/lib/python2.7/threading.py\", line 754, in run\r\n    self.__target(*self.__args, **self.__kwargs)\r\n  File \"/home/ubuntu/workspace/machine_learning_tools-recommendations/mpozzer_env/local/lib/python2.7/site-packages/gensim/models/base_any2vec.py\", line 164, in _worker_loop\r\n    tally, raw_tally = self._do_train_job(data_iterable, job_parameters, thread_private_mem)\r\n  File \"/home/ubuntu/workspace/machine_learning_tools-recommendations/mpozzer_env/local/lib/python2.7/site-packages/gensim/models/word2vec.py\", line 771, in _do_train_job\r\n    tally += train_batch_sg(self, sentences, alpha, work, self.compute_loss)\r\n  File \"gensim/models/word2vec_inner.pyx\", line 497, in gensim.models.word2vec_inner.train_batch_sg\r\n    cdef REAL_t *syn0 = <REAL_t *>(np.PyArray_DATA(model.wv.vectors))\r\nAttributeError: 'Word2VecKeyedVectors' object has no attribute 'vectors'\r\n\r\nException in thread Thread-18:\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python2.7/threading.py\", line 801, in __bootstrap_inner\r\n    self.run()\r\n  File \"/usr/lib/python2.7/threading.py\", line 754, in run\r\n    self.__target(*self.__args, **self.__kwargs)\r\n  File \"/home/ubuntu/workspace/machine_learning_tools-recommendations/mpozzer_env/local/lib/python2.7/site-packages/gensim/models/base_any2vec.py\", line 164, in _worker_loop\r\n    tally, raw_tally = self._do_train_job(data_iterable, job_parameters, thread_private_mem)\r\n  File \"/home/ubuntu/workspace/machine_learning_tools-recommendations/mpozzer_env/local/lib/python2.7/site-packages/gensim/models/word2vec.py\", line 771, in _do_train_job\r\n    tally += train_batch_sg(self, sentences, alpha, work, self.compute_loss)\r\n  File \"gensim/models/word2vec_inner.pyx\", line 497, in gensim.models.word2vec_inner.train_batch_sg\r\n    cdef REAL_t *syn0 = <REAL_t *>(np.PyArray_DATA(model.wv.vectors))\r\nAttributeError: 'Word2VecKeyedVectors' object has no attribute 'vectors'\r\n\r\nException in thread Thread-11:\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python2.7/threading.py\", line 801, in __bootstrap_inner\r\n    self.run()\r\n  File \"/usr/lib/python2.7/threading.py\", line 754, in run\r\n    self.__target(*self.__args, **self.__kwargs)\r\n  File \"/home/ubuntu/workspace/machine_learning_tools-recommendations/mpozzer_env/local/lib/python2.7/site-packages/gensim/models/base_any2vec.py\", line 164, in _worker_loop\r\n    tally, raw_tally = self._do_train_job(data_iterable, job_parameters, thread_private_mem)\r\n  File \"/home/ubuntu/workspace/machine_learning_tools-recommendations/mpozzer_env/local/lib/python2.7/site-packages/gensim/models/word2vec.py\", line 771, in _do_train_job\r\n    tally += train_batch_sg(self, sentences, alpha, work, self.compute_loss)\r\n  File \"gensim/models/word2vec_inner.pyx\", line 497, in gensim.models.word2vec_inner.train_batch_sg\r\n    cdef REAL_t *syn0 = <REAL_t *>(np.PyArray_DATA(model.wv.vectors))\r\nAttributeError: 'Word2VecKeyedVectors' object has no attribute 'vectors'\r\n\r\nException in thread Thread-16:\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python2.7/threading.py\", line 801, in __bootstrap_inner\r\n    self.run()\r\n  File \"/usr/lib/python2.7/threading.py\", line 754, in run\r\n    self.__target(*self.__args, **self.__kwargs)\r\n  File \"/home/ubuntu/workspace/machine_learning_tools-recommendations/mpozzer_env/local/lib/python2.7/site-packages/gensim/models/base_any2vec.py\", line 164, in _worker_loop\r\n    tally, raw_tally = self._do_train_job(data_iterable, job_parameters, thread_private_mem)\r\n  File \"/home/ubuntu/workspace/machine_learning_tools-recommendations/mpozzer_env/local/lib/python2.7/site-packages/gensim/models/word2vec.py\", line 771, in _do_train_job\r\n    tally += train_batch_sg(self, sentences, alpha, work, self.compute_loss)\r\n  File \"gensim/models/word2vec_inner.pyx\", line 497, in gensim.models.word2vec_inner.train_batch_sg\r\n    cdef REAL_t *syn0 = <REAL_t *>(np.PyArray_DATA(model.wv.vectors))\r\nAttributeError: 'Word2VecKeyedVectors' object has no attribute 'vectors'\r\n\r\nException in thread Thread-8:\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python2.7/threading.py\", line 801, in __bootstrap_inner\r\n    self.run()\r\n  File \"/usr/lib/python2.7/threading.py\", line 754, in run\r\n    self.__target(*self.__args, **self.__kwargs)\r\n  File \"/home/ubuntu/workspace/machine_learning_tools-recommendations/mpozzer_env/local/lib/python2.7/site-packages/gensim/models/base_any2vec.py\", line 164, in _worker_loop\r\n    tally, raw_tally = self._do_train_job(data_iterable, job_parameters, thread_private_mem)\r\n  File \"/home/ubuntu/workspace/machine_learning_tools-recommendations/mpozzer_env/local/lib/python2.7/site-packages/gensim/models/word2vec.py\", line 771, in _do_train_job\r\n    tally += train_batch_sg(self, sentences, alpha, work, self.compute_loss)\r\n  File \"gensim/models/word2vec_inner.pyx\", line 497, in gensim.models.word2vec_inner.train_batch_sg\r\n    cdef REAL_t *syn0 = <REAL_t *>(np.PyArray_DATA(model.wv.vectors))\r\nAttributeError: 'Word2VecKeyedVectors' object has no attribute 'vectors'\r\n\r\nException in thread Thread-13:\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python2.7/threading.py\", line 801, in __bootstrap_inner\r\n    self.run()\r\n  File \"/usr/lib/python2.7/threading.py\", line 754, in run\r\n    self.__target(*self.__args, **self.__kwargs)\r\n  File \"/home/ubuntu/workspace/machine_learning_tools-recommendations/mpozzer_env/local/lib/python2.7/site-packages/gensim/models/base_any2vec.py\", line 164, in _worker_loop\r\n    tally, raw_tally = self._do_train_job(data_iterable, job_parameters, thread_private_mem)\r\n  File \"/home/ubuntu/workspace/machine_learning_tools-recommendations/mpozzer_env/local/lib/python2.7/site-packages/gensim/models/word2vec.py\", line 771, in _do_train_job\r\n    tally += train_batch_sg(self, sentences, alpha, work, self.compute_loss)\r\n  File \"gensim/models/word2vec_inner.pyx\", line 497, in gensim.models.word2vec_inner.train_batch_sg\r\n    cdef REAL_t *syn0 = <REAL_t *>(np.PyArray_DATA(model.wv.vectors))\r\nAttributeError: 'Word2VecKeyedVectors' object has no attribute 'vectors'\r\n\r\nException in thread Thread-12:\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python2.7/threading.py\", line 801, in __bootstrap_inner\r\n    self.run()\r\n  File \"/usr/lib/python2.7/threading.py\", line 754, in run\r\n    self.__target(*self.__args, **self.__kwargs)\r\n  File \"/home/ubuntu/workspace/machine_learning_tools-recommendations/mpozzer_env/local/lib/python2.7/site-packages/gensim/models/base_any2vec.py\", line 164, in _worker_loop\r\n    tally, raw_tally = self._do_train_job(data_iterable, job_parameters, thread_private_mem)\r\n  File \"/home/ubuntu/workspace/machine_learning_tools-recommendations/mpozzer_env/local/lib/python2.7/site-packages/gensim/models/word2vec.py\", line 771, in _do_train_job\r\n    tally += train_batch_sg(self, sentences, alpha, work, self.compute_loss)\r\n  File \"gensim/models/word2vec_inner.pyx\", line 497, in gensim.models.word2vec_inner.train_batch_sg\r\n    cdef REAL_t *syn0 = <REAL_t *>(np.PyArray_DATA(model.wv.vectors))\r\nAttributeError: 'Word2VecKeyedVectors' object has no attribute 'vectors'\r\n\r\nException in thread Thread-14:\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python2.7/threading.py\", line 801, in __bootstrap_inner\r\n    self.run()\r\n  File \"/usr/lib/python2.7/threading.py\", line 754, in run\r\n    self.__target(*self.__args, **self.__kwargs)\r\n  File \"/home/ubuntu/workspace/machine_learning_tools-recommendations/mpozzer_env/local/lib/python2.7/site-packages/gensim/models/base_any2vec.py\", line 164, in _worker_loop\r\n    tally, raw_tally = self._do_train_job(data_iterable, job_parameters, thread_private_mem)\r\n  File \"/home/ubuntu/workspace/machine_learning_tools-recommendations/mpozzer_env/local/lib/python2.7/site-packages/gensim/models/word2vec.py\", line 771, in _do_train_job\r\n    tally += train_batch_sg(self, sentences, alpha, work, self.compute_loss)\r\n  File \"gensim/models/word2vec_inner.pyx\", line 497, in gensim.models.word2vec_inner.train_batch_sg\r\n    cdef REAL_t *syn0 = <REAL_t *>(np.PyArray_DATA(model.wv.vectors))\r\nAttributeError: 'Word2VecKeyedVectors' object has no attribute 'vectors'\r\n\r\nException in thread Thread-9:\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python2.7/threading.py\", line 801, in __bootstrap_inner\r\n    self.run()\r\n  File \"/usr/lib/python2.7/threading.py\", line 754, in run\r\n    self.__target(*self.__args, **self.__kwargs)\r\n  File \"/home/ubuntu/workspace/machine_learning_tools-recommendations/mpozzer_env/local/lib/python2.7/site-packages/gensim/models/base_any2vec.py\", line 164, in _worker_loop\r\n    tally, raw_tally = self._do_train_job(data_iterable, job_parameters, thread_private_mem)\r\n  File \"/home/ubuntu/workspace/machine_learning_tools-recommendations/mpozzer_env/local/lib/python2.7/site-packages/gensim/models/word2vec.py\", line 771, in _do_train_job\r\n    tally += train_batch_sg(self, sentences, alpha, work, self.compute_loss)\r\n  File \"gensim/models/word2vec_inner.pyx\", line 497, in gensim.models.word2vec_inner.train_batch_sg\r\n    cdef REAL_t *syn0 = <REAL_t *>(np.PyArray_DATA(model.wv.vectors))\r\nAttributeError: 'Word2VecKeyedVectors' object has no attribute 'vectors'\r\n```\r\n\r\n#### Versions\r\nLinux-4.4.0-1062-aws-x86_64-with-Ubuntu-16.04-xenial\r\n('Python', '2.7.12 (default, Dec  4 2017, 14:50:18) \\n[GCC 5.4.0 20160609]')\r\n('NumPy', '1.15.1')\r\n('SciPy', '0.19.1')\r\n('gensim', '3.5.0')\r\n('FAST_VERSION', 1)\r\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2182/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2182/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2162", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2162/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2162/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2162/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/2162", "id": 353854504, "node_id": "MDU6SXNzdWUzNTM4NTQ1MDQ=", "number": 2162, "title": "Fix nested inline markup in `translation_matrix.py`", "user": {"login": "nzw0301", "id": 7121753, "node_id": "MDQ6VXNlcjcxMjE3NTM=", "avatar_url": "https://avatars.githubusercontent.com/u/7121753?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nzw0301", "html_url": "https://github.com/nzw0301", "followers_url": "https://api.github.com/users/nzw0301/followers", "following_url": "https://api.github.com/users/nzw0301/following{/other_user}", "gists_url": "https://api.github.com/users/nzw0301/gists{/gist_id}", "starred_url": "https://api.github.com/users/nzw0301/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nzw0301/subscriptions", "organizations_url": "https://api.github.com/users/nzw0301/orgs", "repos_url": "https://api.github.com/users/nzw0301/repos", "events_url": "https://api.github.com/users/nzw0301/events{/privacy}", "received_events_url": "https://api.github.com/users/nzw0301/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 175643, "node_id": "MDU6TGFiZWwxNzU2NDM=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/documentation", "name": "documentation", "color": "02d7e1", "default": true, "description": "Current issue related to documentation"}, {"id": 233081, "node_id": "MDU6TGFiZWwyMzMwODE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20easy", "name": "difficulty easy", "color": "00ff00", "default": false, "description": "Easy issue: required small fix"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-08-24T16:45:32Z", "updated_at": "2018-08-27T02:32:20Z", "closed_at": "2018-08-27T02:32:19Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "<!--\r\nIf your issue is a usage or a general question, please submit it here instead:\r\n- Mailing List: https://groups.google.com/forum/#!forum/gensim\r\nFor more information, see Recipes&FAQ: https://github.com/RaRe-Technologies/gensim/wiki/Recipes-&-FAQ\r\n-->\r\n\r\n<!-- Instructions For Filing a Bug: https://github.com/RaRe-Technologies/gensim/blob/develop/CONTRIBUTING.md -->\r\n\r\n#### Description\r\n\r\nreStructuredText parser cannot deal with nested inline markup according to http://docutils.sourceforge.net/FAQ.html#is-nested-inline-markup-possible .\r\n\r\nSo, [this line](https://github.com/RaRe-Technologies/gensim/blob/46124f4895b4bec6eee58c23e1686e5c9efb84fd/gensim/models/translation_matrix.py#L50) does not show correctly:\r\n\r\n![2018-08-25 1 17 10](https://user-images.githubusercontent.com/7121753/44596212-60acaf00-a806-11e8-8525-936d894c8ed4.png)\r\n\r\nThere are two ways to deal with this nested inline problem, but they are not recommended by [this site](http://docutils.sourceforge.net/FAQ.html#is-nested-inline-markup-possible).\r\n\r\nI guess that the most simple way is to avoid to use the bold style for the link part:\r\n`**How to make translation between two** :class:`~gensim.models.doc2vec.Doc2Vec` **models**`.\r\n\r\n\r\n![2018-08-25 1 42 56](https://user-images.githubusercontent.com/7121753/44596715-3eb42c00-a808-11e8-8614-5452d3314f7c.png)\r\n\r\n\r\nWhat do you think about it?\r\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2162/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2162/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2161", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2161/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2161/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2161/events", "html_url": "https://github.com/RaRe-Technologies/gensim/pull/2161", "id": 353848383, "node_id": "MDExOlB1bGxSZXF1ZXN0MjEwNzg4Mjg1", "number": 2161, "title": "Fix quote of vocabulary in word2vec class", "user": {"login": "nzw0301", "id": 7121753, "node_id": "MDQ6VXNlcjcxMjE3NTM=", "avatar_url": "https://avatars.githubusercontent.com/u/7121753?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nzw0301", "html_url": "https://github.com/nzw0301", "followers_url": "https://api.github.com/users/nzw0301/followers", "following_url": "https://api.github.com/users/nzw0301/following{/other_user}", "gists_url": "https://api.github.com/users/nzw0301/gists{/gist_id}", "starred_url": "https://api.github.com/users/nzw0301/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nzw0301/subscriptions", "organizations_url": "https://api.github.com/users/nzw0301/orgs", "repos_url": "https://api.github.com/users/nzw0301/repos", "events_url": "https://api.github.com/users/nzw0301/events{/privacy}", "received_events_url": "https://api.github.com/users/nzw0301/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 175643, "node_id": "MDU6TGFiZWwxNzU2NDM=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/documentation", "name": "documentation", "color": "02d7e1", "default": true, "description": "Current issue related to documentation"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-08-24T16:24:49Z", "updated_at": "2018-08-27T06:19:24Z", "closed_at": "2018-08-27T03:12:31Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/pulls/2161", "html_url": "https://github.com/RaRe-Technologies/gensim/pull/2161", "diff_url": "https://github.com/RaRe-Technologies/gensim/pull/2161.diff", "patch_url": "https://github.com/RaRe-Technologies/gensim/pull/2161.patch", "merged_at": "2018-08-27T03:12:31Z"}, "body": "`Word2VecVocab` did not be parsed correctly.\r\n\r\nBefore\r\n![2018-08-25 0 56 41](https://user-images.githubusercontent.com/7121753/44595865-576f1280-a805-11e8-94ec-c5987bf2dbf7.png)\r\n\r\nAfter\r\n![2018-08-25 1 08 44](https://user-images.githubusercontent.com/7121753/44595869-5938d600-a805-11e8-8cc9-69323b22c517.png)\r\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2161/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2161/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2160", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2160/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2160/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2160/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/2160", "id": 353697778, "node_id": "MDU6SXNzdWUzNTM2OTc3Nzg=", "number": 2160, "title": "[Feature request] Load full native fastText model to continue training on new data", "user": {"login": "tranhungnghiep", "id": 4527536, "node_id": "MDQ6VXNlcjQ1Mjc1MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/4527536?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tranhungnghiep", "html_url": "https://github.com/tranhungnghiep", "followers_url": "https://api.github.com/users/tranhungnghiep/followers", "following_url": "https://api.github.com/users/tranhungnghiep/following{/other_user}", "gists_url": "https://api.github.com/users/tranhungnghiep/gists{/gist_id}", "starred_url": "https://api.github.com/users/tranhungnghiep/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tranhungnghiep/subscriptions", "organizations_url": "https://api.github.com/users/tranhungnghiep/orgs", "repos_url": "https://api.github.com/users/tranhungnghiep/repos", "events_url": "https://api.github.com/users/tranhungnghiep/events{/privacy}", "received_events_url": "https://api.github.com/users/tranhungnghiep/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 234670, "node_id": "MDU6TGFiZWwyMzQ2NzA=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20medium", "name": "difficulty medium", "color": "00d000", "default": false, "description": "Medium issue: required good gensim understanding & python skills"}, {"id": 1162250977, "node_id": "MDU6TGFiZWwxMTYyMjUwOTc3", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/fasttext", "name": "fasttext", "color": "ad52ea", "default": false, "description": "Issues related to the FastText model"}], "state": "closed", "locked": true, "assignee": {"login": "mpenkov", "id": 1101396, "node_id": "MDQ6VXNlcjExMDEzOTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1101396?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mpenkov", "html_url": "https://github.com/mpenkov", "followers_url": "https://api.github.com/users/mpenkov/followers", "following_url": "https://api.github.com/users/mpenkov/following{/other_user}", "gists_url": "https://api.github.com/users/mpenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/mpenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mpenkov/subscriptions", "organizations_url": "https://api.github.com/users/mpenkov/orgs", "repos_url": "https://api.github.com/users/mpenkov/repos", "events_url": "https://api.github.com/users/mpenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/mpenkov/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "mpenkov", "id": 1101396, "node_id": "MDQ6VXNlcjExMDEzOTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1101396?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mpenkov", "html_url": "https://github.com/mpenkov", "followers_url": "https://api.github.com/users/mpenkov/followers", "following_url": "https://api.github.com/users/mpenkov/following{/other_user}", "gists_url": "https://api.github.com/users/mpenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/mpenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mpenkov/subscriptions", "organizations_url": "https://api.github.com/users/mpenkov/orgs", "repos_url": "https://api.github.com/users/mpenkov/repos", "events_url": "https://api.github.com/users/mpenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/mpenkov/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2018-08-24T08:48:37Z", "updated_at": "2020-10-01T06:38:00Z", "closed_at": "2019-01-11T15:07:40Z", "author_association": "NONE", "active_lock_reason": "resolved", "body": "Currently gensim cannot load and continue training native fastText model. According to the docs [[1]](https://github.com/RaRe-Technologies/gensim/blob/develop/gensim/models/fasttext.py#L685), this is because it only loads input-hidden matrix. However, fastText also saves hidden-output matrix [[2]](https://github.com/facebookresearch/fastText/blob/master/src/fasttext.cc#L176). \r\n\r\nMoreover, even the input-hidden matrix could support some sort of transfer learning, with hidden-output matrix inited randomly, similar to how `gensim.models.Word2Vec.intersect_word2vec_format()` works.\r\n\r\nPlease correct me if I'm wrong here, but I think there is no technical issue preventing loading and continue training fastText model. How about supporting this feature?", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2160/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2160/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2155", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2155/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2155/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2155/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/2155", "id": 349765925, "node_id": "MDU6SXNzdWUzNDk3NjU5MjU=", "number": 2155, "title": "\"AttributeError: 'Visdom' object has no attribute 'updateTrace'\" when running \"Training_visualizations.ipynb\"", "user": {"login": "yingchengsun", "id": 11466174, "node_id": "MDQ6VXNlcjExNDY2MTc0", "avatar_url": "https://avatars.githubusercontent.com/u/11466174?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yingchengsun", "html_url": "https://github.com/yingchengsun", "followers_url": "https://api.github.com/users/yingchengsun/followers", "following_url": "https://api.github.com/users/yingchengsun/following{/other_user}", "gists_url": "https://api.github.com/users/yingchengsun/gists{/gist_id}", "starred_url": "https://api.github.com/users/yingchengsun/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yingchengsun/subscriptions", "organizations_url": "https://api.github.com/users/yingchengsun/orgs", "repos_url": "https://api.github.com/users/yingchengsun/repos", "events_url": "https://api.github.com/users/yingchengsun/events{/privacy}", "received_events_url": "https://api.github.com/users/yingchengsun/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 233081, "node_id": "MDU6TGFiZWwyMzMwODE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20easy", "name": "difficulty easy", "color": "00ff00", "default": false, "description": "Easy issue: required small fix"}, {"id": 1072221028, "node_id": "MDU6TGFiZWwxMDcyMjIxMDI4", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/Hacktoberfest", "name": "Hacktoberfest", "color": "b396e0", "default": false, "description": "Issues marked for hacktoberfest"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-08-11T21:45:07Z", "updated_at": "2019-01-11T08:34:43Z", "closed_at": "2019-01-11T08:34:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "\"updateTrace\" has been deprecated in the newest version of  Visdom, but it is still being called in Gensim, so failed to run callbacks in \"Training_visualizations.ipynb\". Hope this issue can be fixed, thanks!\r\nSee\r\nhttps://github.com/facebookresearch/visdom/issues/358", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2155/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2155/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2140", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2140/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2140/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2140/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/2140", "id": 344767207, "node_id": "MDU6SXNzdWUzNDQ3NjcyMDc=", "number": 2140, "title": "Phrases keeps learned vocabs as bytestring", "user": {"login": "midnightradio", "id": 149314, "node_id": "MDQ6VXNlcjE0OTMxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/149314?v=4", "gravatar_id": "", "url": "https://api.github.com/users/midnightradio", "html_url": "https://github.com/midnightradio", "followers_url": "https://api.github.com/users/midnightradio/followers", "following_url": "https://api.github.com/users/midnightradio/following{/other_user}", "gists_url": "https://api.github.com/users/midnightradio/gists{/gist_id}", "starred_url": "https://api.github.com/users/midnightradio/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/midnightradio/subscriptions", "organizations_url": "https://api.github.com/users/midnightradio/orgs", "repos_url": "https://api.github.com/users/midnightradio/repos", "events_url": "https://api.github.com/users/midnightradio/events{/privacy}", "received_events_url": "https://api.github.com/users/midnightradio/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 233081, "node_id": "MDU6TGFiZWwyMzMwODE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20easy", "name": "difficulty easy", "color": "00ff00", "default": false, "description": "Easy issue: required small fix"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2018-07-26T09:33:17Z", "updated_at": "2020-10-10T19:54:08Z", "closed_at": "2020-10-10T19:50:45Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Description\r\nTo collect phrase dictionary or to find appropriate parameters for a corpus with the Phrases model, I tried to see vocabularies built inside a trained instance of Pharses. However, there are full of bytestrings stored inside the member `vocab`. And I found that it intentionally converts all tokens into a bytestring by calling a method `any2utf8`. I think it is not normal as it produces unexpected behaviour with the docstring example code (below) inside the class.\r\n\r\n#### Steps/Code/Corpus to Reproduce\r\nThis is an example code in gensim/models/phrases.py, which shows a way to get vocabulary list after training the model.\r\n\r\n```python\r\n>>> from gensim.test.utils import datapath\r\n>>> from gensim.models.word2vec import Text8Corpus\r\n>>> from gensim.models.phrases import Phrases\r\n>>>\r\n>>> sentences = Text8Corpus(datapath('testcorpus.txt'))\r\n>>> pruned_words, counters, total_words = Phrases.learn_vocab(sentences, 100)\r\n```\r\n\r\n#### Expected Results\r\n```python\r\n>>> counters['computer']\r\n2\r\n>>> counters['response_time']\r\n1\r\n>>> counters.keys()\r\ndict_keys(['computer', 'human', 'computer_human', 'interface', 'human_interface', 'interface_computer', 'response', 'computer_response', 'survey', 'response_survey', 'system', 'survey_system', 'time', 'system_time', 'user', 'time_user', 'user_interface', 'interface_system', 'system_user', 'eps', 'user_eps', 'eps_human', 'human_system', 'system_system', 'system_eps', 'eps_response', 'response_time', 'trees', 'user_trees', 'trees_trees', 'graph', 'trees_graph', 'graph_trees', 'minors', 'graph_minors', 'minors_survey', 'survey_graph'])\r\n```\r\n\r\n#### Actual Results\r\n```python\r\n>>> counters.keys()\r\ndict_keys([b'computer', b'human', b'computer_human', b'interface', b'human_interface', b'interface_computer', b'response', b'computer_response', b'survey', b'response_survey', b'system', b'survey_system', b'time', b'system_time', b'user', b'time_user', b'user_interface', b'interface_system', b'system_user', b'eps', b'user_eps', b'eps_human', b'human_system', b'system_system', b'system_eps', b'eps_response', b'response_time', b'trees', b'user_trees', b'trees_trees', b'graph', b'trees_graph', b'graph_trees', b'minors', b'graph_minors', b'minors_survey', b'survey_graph', 'computer'])\r\n>>> counters['computer']\r\n0\r\n>>> counters['response_time']\r\n0\r\n>>> counters[b'computer']\r\n2\r\n>>> counters[b'response_time']\r\n1\r\n```\r\nThe keys are stored in bytestring and only outputs expected countings with providing bytestring.\r\n\r\n#### Versions\r\nLinux-4.13.0-45-generic-x86_64-with-debian-stretch-sid\r\nPython 3.6.6 |Anaconda, Inc.| (default, Jun 28 2018, 17:14:51)\r\n[GCC 7.2.0]\r\nNumPy 1.14.5\r\nSciPy 1.1.0\r\ngensim 3.5.0\r\nFAST_VERSION 1\r\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2140/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2140/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2139", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2139/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2139/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2139/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/2139", "id": 343944924, "node_id": "MDU6SXNzdWUzNDM5NDQ5MjQ=", "number": 2139, "title": "FastText incremental training fails", "user": {"login": "xor-xor", "id": 2082842, "node_id": "MDQ6VXNlcjIwODI4NDI=", "avatar_url": "https://avatars.githubusercontent.com/u/2082842?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xor-xor", "html_url": "https://github.com/xor-xor", "followers_url": "https://api.github.com/users/xor-xor/followers", "following_url": "https://api.github.com/users/xor-xor/following{/other_user}", "gists_url": "https://api.github.com/users/xor-xor/gists{/gist_id}", "starred_url": "https://api.github.com/users/xor-xor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xor-xor/subscriptions", "organizations_url": "https://api.github.com/users/xor-xor/orgs", "repos_url": "https://api.github.com/users/xor-xor/repos", "events_url": "https://api.github.com/users/xor-xor/events{/privacy}", "received_events_url": "https://api.github.com/users/xor-xor/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 234670, "node_id": "MDU6TGFiZWwyMzQ2NzA=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20medium", "name": "difficulty medium", "color": "00d000", "default": false, "description": "Medium issue: required good gensim understanding & python skills"}, {"id": 1162250977, "node_id": "MDU6TGFiZWwxMTYyMjUwOTc3", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/fasttext", "name": "fasttext", "color": "ad52ea", "default": false, "description": "Issues related to the FastText model"}], "state": "closed", "locked": false, "assignee": {"login": "mpenkov", "id": 1101396, "node_id": "MDQ6VXNlcjExMDEzOTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1101396?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mpenkov", "html_url": "https://github.com/mpenkov", "followers_url": "https://api.github.com/users/mpenkov/followers", "following_url": "https://api.github.com/users/mpenkov/following{/other_user}", "gists_url": "https://api.github.com/users/mpenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/mpenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mpenkov/subscriptions", "organizations_url": "https://api.github.com/users/mpenkov/orgs", "repos_url": "https://api.github.com/users/mpenkov/repos", "events_url": "https://api.github.com/users/mpenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/mpenkov/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "mpenkov", "id": 1101396, "node_id": "MDQ6VXNlcjExMDEzOTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1101396?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mpenkov", "html_url": "https://github.com/mpenkov", "followers_url": "https://api.github.com/users/mpenkov/followers", "following_url": "https://api.github.com/users/mpenkov/following{/other_user}", "gists_url": "https://api.github.com/users/mpenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/mpenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mpenkov/subscriptions", "organizations_url": "https://api.github.com/users/mpenkov/orgs", "repos_url": "https://api.github.com/users/mpenkov/repos", "events_url": "https://api.github.com/users/mpenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/mpenkov/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 13, "created_at": "2018-07-24T08:56:28Z", "updated_at": "2019-01-11T15:11:51Z", "closed_at": "2019-01-11T15:11:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Description\r\nHaving successfully trained model (with 20 epochs), which has been saved and loaded back without any problems, I'm trying to continue training it for another 10 epochs - on the same data, with the same parameters - but it fails with an error: `TypeError: 'NoneType' object is not subscriptable` (for full traceback see below).\r\n\r\n#### Steps/Code/Corpus to Reproduce\r\n```python\r\nfrom gensim.models.fasttext import FastText\r\n\r\n# `train_data' is just a list of lists of strings (words), e.g.\r\n# `[['w1', 'w2', 'w3', ...], ['w1', 'w4', 'w5', ...], ...]'.\r\nmodel = FastText(\r\n    train_data,\r\n    sg=1,\r\n    size=200,\r\n    window=5,\r\n    min_count=1,\r\n    workers=16,\r\n    negative=20,\r\n    iter=20,\r\n    min_n=3,\r\n    max_n=5,\r\n    word_ngrams=1,\r\n    bucket=int(2e6)\r\n)\r\n\r\n# `model_file' is a string with the path to the file where model is being saved\r\nmodel.save(model_file)\r\n\r\nmodel = FastText.load(model_file)\r\n\r\n# `train_data' here is exactly the same as before\r\nmodel.train(train_data, epochs=10, total_examples=model.corpus_count)\r\n```\r\n\r\n#### Expected Results\r\nSuccessfully trained model.\r\n\r\n#### Actual Results\r\n```python\r\n[WARNING 2018-07-23 14:42:00,222] Effective 'alpha' higher than previous training cycles\r\n[INFO 2018-07-23 14:42:00,222] training model with 16 workers on 15145 vocabulary and 200 features, using sg=1 hs=0 sample=0.001 negative=20 window=5\r\nException in thread Thread-50:\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3.5/threading.py\", line 914, in _bootstrap_inner\r\n    self.run()\r\n  File \"/usr/lib/python3.5/threading.py\", line 862, in run\r\n    self._target(*self._args, **self._kwargs)\r\n  File \"/home/ubuntu/env/lib/python3.5/site-packages/gensim/models/base_any2vec.py\", line 99, in _worker_loop\r\n    tally, raw_tally = self._do_train_job(data_iterable, job_parameters, thread_private_mem)\r\n  File \"/home/ubuntu/env/lib/python3.5/site-packages/gensim/models/fasttext.py\", line 454, in _do_train_job\r\n    tally += train_batch_sg(self, sentences, alpha, work, neu1)\r\n  File \"gensim/models/fasttext_inner.pyx\", line 319, in gensim.models.fasttext_inner.train_batch_sg\r\nTypeError: 'NoneType' object is not subscriptable\r\n```\r\n\r\n#### Versions\r\nLinux-4.15.0-1014-gcp-x86_64-with-Ubuntu-16.04-xenial\r\nPython 3.5.2 (default, Nov 23 2017, 16:37:01) \r\n[GCC 5.4.0 20160609]\r\nNumPy 1.14.5\r\nSciPy 1.1.0\r\ngensim 3.4.0\r\nFAST_VERSION 1", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2139/reactions", "total_count": 5, "+1": 5, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2139/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2137", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2137/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2137/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2137/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/2137", "id": 343771257, "node_id": "MDU6SXNzdWUzNDM3NzEyNTc=", "number": 2137, "title": "Can't run Wrapper.LDAmallet via python due to FileNotFoundError & CalledProcessError", "user": {"login": "bbiney1", "id": 22688868, "node_id": "MDQ6VXNlcjIyNjg4ODY4", "avatar_url": "https://avatars.githubusercontent.com/u/22688868?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bbiney1", "html_url": "https://github.com/bbiney1", "followers_url": "https://api.github.com/users/bbiney1/followers", "following_url": "https://api.github.com/users/bbiney1/following{/other_user}", "gists_url": "https://api.github.com/users/bbiney1/gists{/gist_id}", "starred_url": "https://api.github.com/users/bbiney1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bbiney1/subscriptions", "organizations_url": "https://api.github.com/users/bbiney1/orgs", "repos_url": "https://api.github.com/users/bbiney1/repos", "events_url": "https://api.github.com/users/bbiney1/events{/privacy}", "received_events_url": "https://api.github.com/users/bbiney1/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 233081, "node_id": "MDU6TGFiZWwyMzMwODE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20easy", "name": "difficulty easy", "color": "00ff00", "default": false, "description": "Easy issue: required small fix"}, {"id": 1072221028, "node_id": "MDU6TGFiZWwxMDcyMjIxMDI4", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/Hacktoberfest", "name": "Hacktoberfest", "color": "b396e0", "default": false, "description": "Issues marked for hacktoberfest"}], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2018-07-23T19:50:10Z", "updated_at": "2019-06-08T09:07:31Z", "closed_at": "2018-12-14T10:11:33Z", "author_association": "NONE", "active_lock_reason": "resolved", "body": "I posted this issue on a dev branch for mallet, it's about the same problem (and it will probably have more depth cuz I might miss certain details this time around): https://github.com/mimno/Mallet/issues/135#issuecomment-407156116\r\nBased on the response I got, I wanted to bring the issue here. I'm now just going to start copying most of the text from that post. A developer there felt as though the issue is that the gensim wrapper can't quite construct windows directory paths.\r\n\r\nI'm using python 3 on windows 10, gensim 3.5.0 and mallet 2.0.8 (with Java SDK 8). I'm alternating between two error messages based on the changes that I make to the `MALLET_BINARY_PATH` variable below. My mallet folder lives in another directory called mallet_unzipped. This is the location to the binary: C:\\Users\\biney\\mallet_unzipped\\mallet-2.0.8\\bin\\mallet\r\n\r\n```\r\nfrom pathlib import Path\r\nhome = str(Path.home())\r\nMALLET_BINARY_PATH = home + \"\\\\mallet_unzipped\\\\mallet-2.0.8\\\\bin\\\\mallet\" # absolute address\r\n#MALLET_BINARY_PATH =\"/c/users/biney/mallet_unzipped/mallet-2.0.8/bin/mallet\" # \r\ndoc_term_matrix = [doc_dict.doc2bow(doc) for doc in docs_of_tokens]\r\nLda_mallet = LdaMallet(mallet_path=MALLET_BINARY_PATH, corpus=doc_term_matrix, id2word=doc_dict, iterations=30)\r\n```\r\n\r\nIf I run this code as is, with MALLET_BINARY_PATH the first declaration (the one commented with \"absolute address\"), I get the FileNotFoundError. In this case, MALLET_BINARY_PATH prints: `C:\\Users\\biney\\mallet_unzipped\\mallet-2.0.8\\bin\\mallet`\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"text_mining.py\", line 632, in <module>\r\n    main()\r\n  File \"text_mining.py\", line 563, in main\r\n    mallet_LDA_implementation(name_of_lda=\"mallet_lda_no_filter_t10\", create_dic\r\nt=False, remove_low_freq=False)\r\n  File \"text_mining.py\", line 458, in mallet_LDA_implementation\r\n    Lda_mallet = LdaMallet(mallet_path=MALLET_BINARY_PATH,  corpus=doc_term_matr\r\nix, id2word=doc_dict, iterations=30)\r\n  File \"C:\\Users\\biney\\Miniconda3\\lib\\site-packages\\gensim\\models\\wrappers\\ldama\r\nllet.py\", line 126, in __init__\r\n    self.train(corpus)\r\n  File \"C:\\Users\\biney\\Miniconda3\\lib\\site-packages\\gensim\\models\\wrappers\\ldama\r\nllet.py\", line 279, in train\r\n    self.word_topics = self.load_word_topics()\r\n  File \"C:\\Users\\biney\\Miniconda3\\lib\\site-packages\\gensim\\models\\wrappers\\ldama\r\nllet.py\", line 337, in load_word_topics\r\n    with utils.smart_open(self.fstate()) as fin:\r\n  File \"C:\\Users\\biney\\Miniconda3\\lib\\site-packages\\smart_open\\smart_open_lib.py\r\n\", line 231, in smart_open\r\n    binary, filename = _open_binary_stream(uri, binary_mode, **kw)\r\n  File \"C:\\Users\\biney\\Miniconda3\\lib\\site-packages\\smart_open\\smart_open_lib.py\r\n\", line 318, in _open_binary_stream\r\n    fobj = io.open(parsed_uri.uri_path, mode)\r\nFileNotFoundError: [Errno 2] No such file or directory: 'C:\\\\Users\\\\biney\\\\AppDa\r\nta\\\\Local\\\\Temp\\\\db41f1_state.mallet.gz'\r\n```\r\nIt seems like what's problematic about this error message is the two backslashes used between directories. However, the way I've been typing in backslashes into python is through the following: '\\\\' and it's at least printing correctly.\r\nIf I comment out the MALLET_BINARY_PATH = home +... and comment in the line below it, I get the following error message:\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"text_mining.py\", line 632, in <module>\r\n    main()\r\n  File \"text_mining.py\", line 563, in main\r\n    mallet_LDA_implementation(name_of_lda=\"mallet_lda_no_filter_t10\", create_dic\r\nt=False, remove_low_freq=False)\r\n  File \"text_mining.py\", line 458, in mallet_LDA_implementation\r\n    Lda_mallet = LdaMallet(mallet_path=MALLET_BINARY_PATH,  corpus=doc_term_matr\r\nix, id2word=doc_dict, iterations=30)\r\n  File \"C:\\Users\\biney\\Miniconda3\\lib\\site-packages\\gensim\\models\\wrappers\\ldama\r\nllet.py\", line 126, in __init__\r\n    self.train(corpus)\r\n  File \"C:\\Users\\biney\\Miniconda3\\lib\\site-packages\\gensim\\models\\wrappers\\ldama\r\nllet.py\", line 267, in train\r\n    self.convert_input(corpus, infer=False)\r\n  File \"C:\\Users\\biney\\Miniconda3\\lib\\site-packages\\gensim\\models\\wrappers\\ldama\r\nllet.py\", line 256, in convert_input\r\n    check_output(args=cmd, shell=True)\r\n  File \"C:\\Users\\biney\\Miniconda3\\lib\\site-packages\\gensim\\utils.py\", line 1832,\r\n in check_output\r\n    raise error\r\nsubprocess.CalledProcessError: Command '/c/users/biney/mallet_unzipped/mallet-2.\r\n0.8/bin/mallet import-file --preserve-case --keep-sequence --remove-stopwords --\r\ntoken-regex \"\\S+\" --input C:\\Users\\biney\\AppData\\Local\\Temp\\e0e83e_corpus.txt --\r\noutput C:\\Users\\biney\\AppData\\Local\\Temp\\e0e83e_corpus.mallet' returned non-zero\r\n exit status 1.\r\n```\r\n\r\nI've been bouncing back and forth between these errors and I really don't know what they mean or how to set the right foot forward. I have tried copying the command shown in the second error message into git bash and it worked without crashing. I had to make adjustments. This command seems to refer to two temporary files that were created prior to me getting the other two error messages I copied and pasted.\r\n\r\n```\r\n~/mallet_unzipped/mallet-2.0.8/bin/mallet import-file --preserve-case --keep-sequence --remove-stopwords --token-regex \"\\S+\" --input ~/AppData/Local/Temp/a0a87d_corpus.txt --output ~/AppData/Local/Temp/a0a87d_corpus.mallet\r\n```\r\n\r\nAnd you may wonder if I tried including `'~'` in the python code... in short, including the `'~'` char gives an \"error this character isn't recognizable\" message.\r\nSpecifying a prefix parameter location seems to always give me an error along the lines of\r\nFileNotFoundError: [Errno 2] No such file or directory: 'mallet_temp/state.mallet.gz'\r\nthe 'mallet_temp/state.mallet' used the prefix 'mallet_temp'. Any error message I get shows the prefix location and states that no such file or directory exists with the name and extension shown.\r\n\r\nThe final attempt I made was the following choices with parameters:\r\n\r\n```\r\nprefix_path = \"/c/users/biney/Projects/twitter_gmu_2018/mallet_temp/\"\r\nLda_mallet = LdaMallet(mallet_path=\"/c/users/biney/mallet_unzipped/mallet-2.0.8/bin/mallet\", prefix=prefix_path, corpus=doc_term_matrix, id2word=doc_dict, iterations=30)\r\n```\r\nAnd I get the following error message\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"text_mining.py\", line 634, in <module>\r\n    main()\r\n  File \"text_mining.py\", line 565, in main\r\n    mallet_LDA_implementation(name_of_lda=\"mallet_lda_no_filter_t10\", create_dic\r\nt=False, remove_low_freq=False)\r\n  File \"text_mining.py\", line 460, in mallet_LDA_implementation\r\n    Lda_mallet = LdaMallet(mallet_path=\"/c/users/biney/mallet_unzipped/mallet-2.\r\n0.8/bin/mallet\", prefix=prefix_path,  corpus=doc_term_matrix, id2word=doc_dict,\r\niterations=30)\r\n  File \"C:\\Users\\biney\\Miniconda3\\lib\\site-packages\\gensim\\models\\wrappers\\ldama\r\nllet.py\", line 126, in __init__\r\n    self.train(corpus)\r\n  File \"C:\\Users\\biney\\Miniconda3\\lib\\site-packages\\gensim\\models\\wrappers\\ldama\r\nllet.py\", line 267, in train\r\n    self.convert_input(corpus, infer=False)\r\n  File \"C:\\Users\\biney\\Miniconda3\\lib\\site-packages\\gensim\\models\\wrappers\\ldama\r\nllet.py\", line 242, in convert_input\r\n    with smart_open(self.fcorpustxt(), 'wb') as fout:\r\n  File \"C:\\Users\\biney\\Miniconda3\\lib\\site-packages\\smart_open\\smart_open_lib.py\r\n\", line 181, in smart_open\r\n    fobj = _shortcut_open(uri, mode, **kw)\r\n  File \"C:\\Users\\biney\\Miniconda3\\lib\\site-packages\\smart_open\\smart_open_lib.py\r\n\", line 287, in _shortcut_open\r\n    return io.open(parsed_uri.uri_path, mode, **open_kwargs)\r\nFileNotFoundError: [Errno 2] No such file or directory: '/c/users/biney/Projects\r\n/twitter_gmu_2018/mallet_temp/corpus.txt'\r\n```\r\nWhat's frustrating from that final error message is that from using file explorer and goingto the /mallet_temp/ directory... there actually is only one file in it called \"corpus.txt.\" So that's suggesting to me that this file is somehow not being found when it actually should be.\r\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2137/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2137/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2123", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2123/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2123/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2123/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/2123", "id": 339411213, "node_id": "MDU6SXNzdWUzMzk0MTEyMTM=", "number": 2123, "title": "Poincare visualization breaks with plotly 3.0.0    ", "user": {"login": "brettbj", "id": 893692, "node_id": "MDQ6VXNlcjg5MzY5Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/893692?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brettbj", "html_url": "https://github.com/brettbj", "followers_url": "https://api.github.com/users/brettbj/followers", "following_url": "https://api.github.com/users/brettbj/following{/other_user}", "gists_url": "https://api.github.com/users/brettbj/gists{/gist_id}", "starred_url": "https://api.github.com/users/brettbj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brettbj/subscriptions", "organizations_url": "https://api.github.com/users/brettbj/orgs", "repos_url": "https://api.github.com/users/brettbj/repos", "events_url": "https://api.github.com/users/brettbj/events{/privacy}", "received_events_url": "https://api.github.com/users/brettbj/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 233081, "node_id": "MDU6TGFiZWwyMzMwODE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20easy", "name": "difficulty easy", "color": "00ff00", "default": false, "description": "Easy issue: required small fix"}, {"id": 1072221028, "node_id": "MDU6TGFiZWwxMDcyMjIxMDI4", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/Hacktoberfest", "name": "Hacktoberfest", "color": "b396e0", "default": false, "description": "Issues marked for hacktoberfest"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2018-07-09T11:30:09Z", "updated_at": "2022-04-30T02:52:04Z", "closed_at": "2019-01-09T13:48:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Description\r\n\r\npoincare_2d_visualization - receives the following error - \r\nValueError: \r\n    Invalid value of type 'builtins.str' received for the 'textposition' property of scatter\r\n        Received value: 'bottom'\r\n\r\n#### Steps/Code/Corpus to Reproduce\r\nExample:\r\n```\r\nfrom gensim.viz.poincare import poincare_2d_visualization\r\nimport plotly\r\n\r\n\r\nvis = poincare_2d_visualization(model, tuples, 'Poincare Plot')\r\n```\r\n\r\n#### Versions\r\nPlease run the following snippet and paste the output below.\r\nDarwin-17.2.0-x86_64-i386-64bit\r\nPython 3.6.5 |Anaconda, Inc.| (default, Apr 26 2018, 08:42:37) \r\n[GCC 4.2.1 Compatible Clang 4.0.1 (tags/RELEASE_401/final)]\r\nNumPy 1.14.3\r\nSciPy 1.1.0\r\ngensim 3.5.0\r\nFAST_VERSION 1\r\nPlotly 3.0.0", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2123/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2123/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2121", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2121/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2121/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2121/events", "html_url": "https://github.com/RaRe-Technologies/gensim/pull/2121", "id": 338985312, "node_id": "MDExOlB1bGxSZXF1ZXN0MTk5NzgyNjMy", "number": 2121, "title": "Additional documentation fixes", "user": {"login": "piskvorky", "id": 610412, "node_id": "MDQ6VXNlcjYxMDQxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/610412?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piskvorky", "html_url": "https://github.com/piskvorky", "followers_url": "https://api.github.com/users/piskvorky/followers", "following_url": "https://api.github.com/users/piskvorky/following{/other_user}", "gists_url": "https://api.github.com/users/piskvorky/gists{/gist_id}", "starred_url": "https://api.github.com/users/piskvorky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piskvorky/subscriptions", "organizations_url": "https://api.github.com/users/piskvorky/orgs", "repos_url": "https://api.github.com/users/piskvorky/repos", "events_url": "https://api.github.com/users/piskvorky/events{/privacy}", "received_events_url": "https://api.github.com/users/piskvorky/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 175643, "node_id": "MDU6TGFiZWwxNzU2NDM=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/documentation", "name": "documentation", "color": "02d7e1", "default": true, "description": "Current issue related to documentation"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-07-06T15:41:37Z", "updated_at": "2018-07-31T06:09:27Z", "closed_at": "2018-07-31T06:09:24Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/pulls/2121", "html_url": "https://github.com/RaRe-Technologies/gensim/pull/2121", "diff_url": "https://github.com/RaRe-Technologies/gensim/pull/2121.diff", "patch_url": "https://github.com/RaRe-Technologies/gensim/pull/2121.patch", "merged_at": "2018-07-31T06:09:24Z"}, "body": "\u2026past 3.5.0 release. No changes to functionality, so I will deploy these \"live\" at https://radimrehurek.com/gensim/ right away.", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2121/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2121/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2118", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2118/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2118/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2118/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/2118", "id": 338675942, "node_id": "MDU6SXNzdWUzMzg2NzU5NDI=", "number": 2118, "title": "Setup script instructions are out of date.", "user": {"login": "jtalviste", "id": 12858988, "node_id": "MDQ6VXNlcjEyODU4OTg4", "avatar_url": "https://avatars.githubusercontent.com/u/12858988?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jtalviste", "html_url": "https://github.com/jtalviste", "followers_url": "https://api.github.com/users/jtalviste/followers", "following_url": "https://api.github.com/users/jtalviste/following{/other_user}", "gists_url": "https://api.github.com/users/jtalviste/gists{/gist_id}", "starred_url": "https://api.github.com/users/jtalviste/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jtalviste/subscriptions", "organizations_url": "https://api.github.com/users/jtalviste/orgs", "repos_url": "https://api.github.com/users/jtalviste/repos", "events_url": "https://api.github.com/users/jtalviste/events{/privacy}", "received_events_url": "https://api.github.com/users/jtalviste/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 175643, "node_id": "MDU6TGFiZWwxNzU2NDM=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/documentation", "name": "documentation", "color": "02d7e1", "default": true, "description": "Current issue related to documentation"}, {"id": 721000065, "node_id": "MDU6TGFiZWw3MjEwMDAwNjU=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/good%20first%20issue", "name": "good first issue", "color": "7057ff", "default": true, "description": "Issue for new contributors (not required gensim understanding + very simple)"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2018-07-05T18:13:22Z", "updated_at": "2018-07-06T14:05:18Z", "closed_at": "2018-07-06T14:03:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "Setup script instructions are out of date.\r\n\r\nEnvironment: no C++ build tools.\r\n\r\nRunning cmd in in windows:\r\neasy_install -U gensim\r\n\r\n\r\nEDIT: OR running cmd in in windows:\r\npip install --upgrade gensim\r\n\r\nerror message:\r\nerror: Setup script exited with error: Microsoft Visual C++ 14.0 is required. Get it with \"Microsoft Visual C++ Build Tools\": http://landinghub.visualstudio.com/visual-cpp-build-tools\r\n\r\nGoing to http://landinghub.visualstudio.com/visual-cpp-build-tools\r\nGives 404 - page not found\r\n\r\nSuggestion:\r\nreplace URL with\r\nhttps://visualstudio.microsoft.com/downloads/#build-tools-for-visual-studio-2017", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2118/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2118/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2115", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2115/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2115/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2115/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/2115", "id": 337962344, "node_id": "MDU6SXNzdWUzMzc5NjIzNDQ=", "number": 2115, "title": "gensim.models.LDAmodel producing NaN & same words in each topic", "user": {"login": "czhao028", "id": 21087118, "node_id": "MDQ6VXNlcjIxMDg3MTE4", "avatar_url": "https://avatars.githubusercontent.com/u/21087118?v=4", "gravatar_id": "", "url": "https://api.github.com/users/czhao028", "html_url": "https://github.com/czhao028", "followers_url": "https://api.github.com/users/czhao028/followers", "following_url": "https://api.github.com/users/czhao028/following{/other_user}", "gists_url": "https://api.github.com/users/czhao028/gists{/gist_id}", "starred_url": "https://api.github.com/users/czhao028/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/czhao028/subscriptions", "organizations_url": "https://api.github.com/users/czhao028/orgs", "repos_url": "https://api.github.com/users/czhao028/repos", "events_url": "https://api.github.com/users/czhao028/events{/privacy}", "received_events_url": "https://api.github.com/users/czhao028/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 233081, "node_id": "MDU6TGFiZWwyMzMwODE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20easy", "name": "difficulty easy", "color": "00ff00", "default": false, "description": "Easy issue: required small fix"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 23, "created_at": "2018-07-03T16:01:49Z", "updated_at": "2019-11-10T03:42:34Z", "closed_at": "2019-01-09T05:52:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Description\r\nHere is a brief introduction on StackOverflow; I thought I'd post this here too because the other StackOverflow question with the **exact same issue** as mine hasn't gotten even a single response in 2 weeks.\r\n\r\nLink: [https://stackoverflow.com/questions/51142294/gensim-ldamodel-error-nan-and-all-topics-the-same](https://stackoverflow.com/questions/51142294/gensim-ldamodel-error-nan-and-all-topics-the-same)\r\n\r\n#### Steps/Code/Corpus to Reproduce\r\n```python\r\n#create pandas frame object w/ default rows\r\ndef tokenize(pd_object):\r\n    for i, row in pd_object.iterrows():\r\n        id = row[\"ID\"]\r\n        sentences = split_sentences(str(row[\"Comment\"]))\r\n        \"\"\" **Time Consuming** \"\"\"\r\n        tokens =  [[id, sent, gensim.parsing.preprocessing.preprocess_string(sent.lower(), filters=[strip_punctuation,\r\n            strip_multiple_whitespaces, strip_numeric, strip_short, wordnet_stem])] for sent in sentences]\r\n#append tokens to new pandas dataframe object \r\n```\r\n\r\n```python\r\ndef train(pd_object):\r\n    t1 = time.time()\r\n    phrases_and_tokens = tokenize(pd_object)\r\n    bag_of_words = phrases_and_tokens[\"Tokens\"].tolist()\r\n    t2 = time.time()\r\n    print(\"Time Taken %12f\" % (t2-t1))\r\n\r\n    bigram = gensim.models.Phrases(bag_of_words, threshold=1)\r\n    bigram_mod = gensim.models.phrases.Phraser(bigram)\r\n\r\n    texts = [filter_stop(bigram_mod[t]) for t in bag_of_words]\r\n\r\n    id2word = corpora.Dictionary(texts)\r\n    sent_wordfreq = [id2word.doc2bow(sent) for sent in texts]\r\n\r\n    lda_model = gensim.models.ldamodel.LdaModel(corpus=sent_wordfreq,\r\n                                                id2word=id2word,\r\n                                                num_topics=5)\r\n\r\n    print(lda_model.print_topics())\r\n```\r\n\r\n-->\r\n\r\n#### Expected Results\r\nSomething like this:\r\n```python\r\n[(0,\r\n  '0.025*\"game\" + 0.018*\"team\" + 0.016*\"year\" + 0.014*\"play\" + 0.013*\"good\" + '\r\n  '0.012*\"player\" + 0.011*\"win\" + 0.007*\"season\" + 0.007*\"hockey\" + '\r\n  '0.007*\"fan\"'),\r\n (1,\r\n  '0.021*\"window\" + 0.015*\"file\" + 0.012*\"image\" + 0.010*\"program\" + '\r\n  '0.010*\"version\" + 0.009*\"display\" + 0.009*\"server\" + 0.009*\"software\" + '\r\n  '0.008*\"graphic\" + 0.008*\"application\"'),\r\n (2,\r\n  '0.021*\"gun\" + 0.019*\"state\" + 0.016*\"law\" + 0.010*\"people\" + 0.008*\"case\" + '\r\n  '0.008*\"crime\" + 0.007*\"government\" + 0.007*\"weapon\" + 0.007*\"police\" + '\r\n  '0.006*\"firearm\"'),\r\n (3,\r\n  '0.855*\"ax\" + 0.062*\"max\" + 0.002*\"tm\" + 0.002*\"qax\" + 0.001*\"mf\" + '\r\n  '0.001*\"giz\" + 0.001*\"_\" + 0.001*\"ml\" + 0.001*\"fp\" + 0.001*\"mr\"'),\r\n (4,\r\n  '0.020*\"file\" + 0.020*\"line\" + 0.013*\"read\" + 0.013*\"set\" + 0.012*\"program\" '\r\n  '+ 0.012*\"number\" + 0.010*\"follow\" + 0.010*\"error\" + 0.010*\"change\" + '\r\n  '0.009*\"entry\"'),\r\n (5,\r\n  '0.021*\"god\" + 0.016*\"christian\" + 0.008*\"religion\" + 0.008*\"bible\" + '\r\n  '0.007*\"life\" + 0.007*\"people\" + 0.007*\"church\" + 0.007*\"word\" + 0.007*\"man\" '\r\n  '+ 0.006*\"faith\"'),\r\n (..truncated..)]\r\n```\r\n#### Actual Results\r\n```python\r\n[(0, 'nan*\"datalabs\" + nan*\"india\" + nan*\"frequently\" + nan*\"inconsistency\" + nan*\"standard\" + ....\r\n(1, 'nan*\"datalabs\" + nan*\"india\" + nan*\"frequently\" + nan*\"inconsistency\" + nan*\"standard\" + ...\r\n(2, 'nan*\"datalabs\" + nan*\"india\" + nan*\"frequently\" + nan*\"inconsistency\" + nan*\"standard\" + ...\r\n(3, 'nan*\"datalabs\" + nan*\"india\" + nan*\"frequently\" + nan*\"inconsistency\" + nan*\"standard\" + ..)\r\n(4, 'nan*\"datalabs\" + nan*\"india\" + nan*\"frequently\" + nan*\"inconsistency\" + nan*\"standard\" + ..)]\r\n```\r\n\r\nPlease paste or specifically describe the actual output or traceback. -->\r\n\r\n#### Versions\r\n```python\r\n>>> import platform; print(platform.platform())\r\nDarwin-17.6.0-x86_64-i386-64bit\r\n>>> import sys; print(\"Python\", sys.version)\r\nPython 3.6.5 |Anaconda, Inc.| (default, Apr 26 2018, 08:42:37) \r\n[GCC 4.2.1 Compatible Clang 4.0.1 (tags/RELEASE_401/final)]\r\n>>> import numpy; print(\"NumPy\", numpy.__version__)\r\nNumPy 1.14.5\r\n>>> import scipy; print(\"SciPy\", scipy.__version__)\r\nSciPy 1.1.0\r\n>>> import gensim; print(\"gensim\", gensim.__version__)\r\ngensim 3.4.0\r\n>>> from gensim.models import word2vec;print(\"FAST_VERSION\", word2vec.FAST_VERSION)\r\nFAST_VERSION 1\r\n```\r\n\r\nI think it probably has to do with a numpy issue but all my attempts to upgrade and reinstall have been fruitless. Another coworker ran this on his computer and it worked just fine. Probably a recent update in numpy has caused this recent issue (there's one other person who posted it on StackOverflow 2 weeks ago) but uninstalling packages has broken so many things that I don't want to take the risk. However, I am trying to learn how to use virtual environments and see if I can test out different versions of numpy with this code. Thank you! Hope to get a response soon. \r\n\r\n<!-- Thanks for contributing! -->\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2115/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2115/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2113", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2113/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2113/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2113/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/2113", "id": 336759490, "node_id": "MDU6SXNzdWUzMzY3NTk0OTA=", "number": 2113, "title": "`SvmLightCorpus.serialize` issue when `labels` type are `numpy.ndarray`", "user": {"login": "shiwangi27", "id": 11012439, "node_id": "MDQ6VXNlcjExMDEyNDM5", "avatar_url": "https://avatars.githubusercontent.com/u/11012439?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shiwangi27", "html_url": "https://github.com/shiwangi27", "followers_url": "https://api.github.com/users/shiwangi27/followers", "following_url": "https://api.github.com/users/shiwangi27/following{/other_user}", "gists_url": "https://api.github.com/users/shiwangi27/gists{/gist_id}", "starred_url": "https://api.github.com/users/shiwangi27/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shiwangi27/subscriptions", "organizations_url": "https://api.github.com/users/shiwangi27/orgs", "repos_url": "https://api.github.com/users/shiwangi27/repos", "events_url": "https://api.github.com/users/shiwangi27/events{/privacy}", "received_events_url": "https://api.github.com/users/shiwangi27/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 233081, "node_id": "MDU6TGFiZWwyMzMwODE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20easy", "name": "difficulty easy", "color": "00ff00", "default": false, "description": "Easy issue: required small fix"}, {"id": 721000065, "node_id": "MDU6TGFiZWw3MjEwMDAwNjU=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/good%20first%20issue", "name": "good first issue", "color": "7057ff", "default": true, "description": "Issue for new contributors (not required gensim understanding + very simple)"}, {"id": 1072221028, "node_id": "MDU6TGFiZWwxMDcyMjIxMDI4", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/Hacktoberfest", "name": "Hacktoberfest", "color": "b396e0", "default": false, "description": "Issues marked for hacktoberfest"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2018-06-28T19:59:44Z", "updated_at": "2019-01-10T02:26:07Z", "closed_at": "2019-01-10T02:26:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\nIf your issue is a usage or a general question, please submit it here instead:\r\n- Mailing List: https://groups.google.com/forum/#!forum/gensim\r\nFor more information, see Recipes&FAQ: https://github.com/RaRe-Technologies/gensim/wiki/Recipes-&-FAQ\r\n-->\r\n\r\n<!-- Instructions For Filing a Bug: https://github.com/RaRe-Technologies/gensim/blob/develop/CONTRIBUTING.md -->\r\n\r\n#### Description\r\nFound error in check labels condition while creating corpus using SvmLightCorpus.serialize \r\n\r\n#### Steps/Code/Corpus to Reproduce \r\n\r\n- Use twenty_newsgroups dataset from sklearn.datasets\r\n- tokenize data and create corpus using gensim dictionary.doc2bow \r\n- create tfidf of the corpus \r\n- Pass corpus_tfidf and labels in:\r\n gensim.corpora.SvmLightCorpus.serialize('svm_20_news_groups.train', corpus_tfidf, labels=labels)\r\n\r\nSuggestion: \r\nChange line 117 to :\r\n` label = labels[docno] if labels.any() else 0  # target class is 0 by default`\r\nor \r\n` label = labels[docno] if labels is not None and len(labels)>0 else 0  # target class is 0 by default`\r\n\r\n#### Expected Results\r\nShould save a gensim corpus\r\n\r\n#### Actual Results\r\nTraceback (most recent call last):\r\nFile \"svm.py\", line 40, in <module>\r\n    gensim.corpora.SvmLightCorpus.serialize('svm_20_news_groups.train', corpus_tfidf, labels=labels)\r\nFile \"C:\\Users\\shiwangisingh\\AppData\\Local\\Programs\\Python\\Python36\\lib\\site-packages\\gensim\\corpora\\indexedcorpus.py\", line 117, in serialize\r\n    offsets = serializer.save_corpus(fname, corpus, id2word, **kwargs)\r\nFile \"C:\\Users\\shiwangisingh\\AppData\\Local\\Programs\\Python\\Python36\\lib\\site-packages\\gensim\\corpora\\svmlightcorpus.py\", line 117, in save_corpus\r\n    label = labels[docno] if labels else 0  # target class is 0 by default\r\nValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()\r\n\r\n#### Versions\r\n<!--\r\nPlease run the following snippet and paste the output below.\r\nimport platform; print(platform.platform())\r\nimport sys; print(\"Python\", sys.version)\r\nimport numpy; print(\"NumPy\", numpy.__version__)\r\nimport scipy; print(\"SciPy\", scipy.__version__)\r\nimport gensim; print(\"gensim\", gensim.__version__)\r\nfrom gensim.models import word2vec;print(\"FAST_VERSION\", word2vec.FAST_VERSION)\r\n-->\r\n\r\n\r\n<!-- Thanks for contributing! -->\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2113/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2113/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2111", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2111/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2111/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2111/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/2111", "id": 336678262, "node_id": "MDU6SXNzdWUzMzY2NzgyNjI=", "number": 2111, "title": "Phrases documentation for threshold argument is misleading", "user": {"login": "umangv", "id": 306547, "node_id": "MDQ6VXNlcjMwNjU0Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/306547?v=4", "gravatar_id": "", "url": "https://api.github.com/users/umangv", "html_url": "https://github.com/umangv", "followers_url": "https://api.github.com/users/umangv/followers", "following_url": "https://api.github.com/users/umangv/following{/other_user}", "gists_url": "https://api.github.com/users/umangv/gists{/gist_id}", "starred_url": "https://api.github.com/users/umangv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/umangv/subscriptions", "organizations_url": "https://api.github.com/users/umangv/orgs", "repos_url": "https://api.github.com/users/umangv/repos", "events_url": "https://api.github.com/users/umangv/events{/privacy}", "received_events_url": "https://api.github.com/users/umangv/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 175643, "node_id": "MDU6TGFiZWwxNzU2NDM=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/documentation", "name": "documentation", "color": "02d7e1", "default": true, "description": "Current issue related to documentation"}, {"id": 233081, "node_id": "MDU6TGFiZWwyMzMwODE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20easy", "name": "difficulty easy", "color": "00ff00", "default": false, "description": "Easy issue: required small fix"}, {"id": 721000065, "node_id": "MDU6TGFiZWw3MjEwMDAwNjU=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/good%20first%20issue", "name": "good first issue", "color": "7057ff", "default": true, "description": "Issue for new contributors (not required gensim understanding + very simple)"}, {"id": 1072221028, "node_id": "MDU6TGFiZWwxMDcyMjIxMDI4", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/Hacktoberfest", "name": "Hacktoberfest", "color": "b396e0", "default": false, "description": "Issues marked for hacktoberfest"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-06-28T15:47:22Z", "updated_at": "2018-12-13T13:15:22Z", "closed_at": "2018-12-13T13:15:22Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "https://github.com/RaRe-Technologies/gensim/blob/37e49971efa74310b300468a5b3cf531319c6536/gensim/models/phrases.py#L252-L255\r\n\r\nIt feels to me like this should have said the opposite: \"**Heavily** depends on concrete scoring-function\" rather than \"**Hardly** depends on concrete socring-function\".\r\n\r\nFor example, if you choose npmi instead of the default, the threshold has to between -1 and 1, which makes the default (10.0) make no sense. The current documentation suggests that 10.0 will be OK.", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2111/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2111/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2091", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2091/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2091/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2091/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/2091", "id": 332247764, "node_id": "MDU6SXNzdWUzMzIyNDc3NjQ=", "number": 2091, "title": "AttributeError: 'Doc2VecKeyedVectors' object has no attribute 'ffset2doctag'", "user": {"login": "yiranxijie", "id": 12460007, "node_id": "MDQ6VXNlcjEyNDYwMDA3", "avatar_url": "https://avatars.githubusercontent.com/u/12460007?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yiranxijie", "html_url": "https://github.com/yiranxijie", "followers_url": "https://api.github.com/users/yiranxijie/followers", "following_url": "https://api.github.com/users/yiranxijie/following{/other_user}", "gists_url": "https://api.github.com/users/yiranxijie/gists{/gist_id}", "starred_url": "https://api.github.com/users/yiranxijie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yiranxijie/subscriptions", "organizations_url": "https://api.github.com/users/yiranxijie/orgs", "repos_url": "https://api.github.com/users/yiranxijie/repos", "events_url": "https://api.github.com/users/yiranxijie/events{/privacy}", "received_events_url": "https://api.github.com/users/yiranxijie/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 233081, "node_id": "MDU6TGFiZWwyMzMwODE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20easy", "name": "difficulty easy", "color": "00ff00", "default": false, "description": "Easy issue: required small fix"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-06-14T04:27:56Z", "updated_at": "2018-06-21T04:26:11Z", "closed_at": "2018-06-21T04:26:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "![image](https://user-images.githubusercontent.com/12460007/41391590-1b9089ac-6fce-11e8-8211-ec02072b1af1.png)\r\nMaybe it is offset2doctag", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2091/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2091/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2086", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2086/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2086/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2086/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/2086", "id": 330361212, "node_id": "MDU6SXNzdWUzMzAzNjEyMTI=", "number": 2086, "title": "NPMI scorer does not take into account `min_count`", "user": {"login": "kikoaumond", "id": 669385, "node_id": "MDQ6VXNlcjY2OTM4NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/669385?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kikoaumond", "html_url": "https://github.com/kikoaumond", "followers_url": "https://api.github.com/users/kikoaumond/followers", "following_url": "https://api.github.com/users/kikoaumond/following{/other_user}", "gists_url": "https://api.github.com/users/kikoaumond/gists{/gist_id}", "starred_url": "https://api.github.com/users/kikoaumond/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kikoaumond/subscriptions", "organizations_url": "https://api.github.com/users/kikoaumond/orgs", "repos_url": "https://api.github.com/users/kikoaumond/repos", "events_url": "https://api.github.com/users/kikoaumond/events{/privacy}", "received_events_url": "https://api.github.com/users/kikoaumond/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 233081, "node_id": "MDU6TGFiZWwyMzMwODE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20easy", "name": "difficulty easy", "color": "00ff00", "default": false, "description": "Easy issue: required small fix"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-06-07T17:09:47Z", "updated_at": "2018-07-31T07:26:13Z", "closed_at": "2018-07-31T07:26:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "in phrases.py, npmi_scorer does not take into account min_count when scoring bigrams.\r\n\r\nI suggest the following alternative for taking min_count into account when using NPMI scoring.  This function has yielded good results for me; however,  I have not explored other ways to  use min_count:\r\n\r\n```\r\n# Custom scoring function to take into account min_counts when using npmi\r\ndef npmi_scorer_with_min_count(worda_count, wordb_count, bigram_count, len_vocab, min_count, corpus_word_count):\r\n\r\n    if bigram_count < min_count:\r\n        return -1\r\n\r\n    pa = worda_count / corpus_word_count\r\n    pb = wordb_count / corpus_word_count\r\n    pab = bigram_count / corpus_word_count\r\n    return log(pab / (pa * pb)) / -log(pab)\r\n\r\n```", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2086/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2086/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2075", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2075/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2075/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2075/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/2075", "id": 328380923, "node_id": "MDU6SXNzdWUzMjgzODA5MjM=", "number": 2075, "title": "ZeroDivisionError: float division by zero", "user": {"login": "anujgupta82", "id": 11848354, "node_id": "MDQ6VXNlcjExODQ4MzU0", "avatar_url": "https://avatars.githubusercontent.com/u/11848354?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anujgupta82", "html_url": "https://github.com/anujgupta82", "followers_url": "https://api.github.com/users/anujgupta82/followers", "following_url": "https://api.github.com/users/anujgupta82/following{/other_user}", "gists_url": "https://api.github.com/users/anujgupta82/gists{/gist_id}", "starred_url": "https://api.github.com/users/anujgupta82/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anujgupta82/subscriptions", "organizations_url": "https://api.github.com/users/anujgupta82/orgs", "repos_url": "https://api.github.com/users/anujgupta82/repos", "events_url": "https://api.github.com/users/anujgupta82/events{/privacy}", "received_events_url": "https://api.github.com/users/anujgupta82/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 233081, "node_id": "MDU6TGFiZWwyMzMwODE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20easy", "name": "difficulty easy", "color": "00ff00", "default": false, "description": "Easy issue: required small fix"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-06-01T04:47:22Z", "updated_at": "2018-08-10T11:41:27Z", "closed_at": "2018-08-10T11:41:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "Getting error :  ZeroDivisionError: float division by zero\r\n\r\nhttps://github.com/RaRe-Technologies/gensim/blob/9481915915bf61aa6e4e719a2f26d509677e6779/gensim/summarization/pagerank_weighted.py#L53\r\n\r\n\r\n![error](https://user-images.githubusercontent.com/11848354/40821543-3283e832-6585-11e8-9a66-3a4d8ba95eeb.JPG)\r\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2075/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2075/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2072", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2072/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2072/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2072/events", "html_url": "https://github.com/RaRe-Technologies/gensim/pull/2072", "id": 327357258, "node_id": "MDExOlB1bGxSZXF1ZXN0MTkxMTczOTA3", "number": 2072, "title": "Fix min_count handling in phrases detection using npmi", "user": {"login": "lopusz", "id": 63733, "node_id": "MDQ6VXNlcjYzNzMz", "avatar_url": "https://avatars.githubusercontent.com/u/63733?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lopusz", "html_url": "https://github.com/lopusz", "followers_url": "https://api.github.com/users/lopusz/followers", "following_url": "https://api.github.com/users/lopusz/following{/other_user}", "gists_url": "https://api.github.com/users/lopusz/gists{/gist_id}", "starred_url": "https://api.github.com/users/lopusz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lopusz/subscriptions", "organizations_url": "https://api.github.com/users/lopusz/orgs", "repos_url": "https://api.github.com/users/lopusz/repos", "events_url": "https://api.github.com/users/lopusz/events{/privacy}", "received_events_url": "https://api.github.com/users/lopusz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 13, "created_at": "2018-05-29T14:53:20Z", "updated_at": "2019-11-27T14:30:04Z", "closed_at": "2018-07-31T07:25:42Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/pulls/2072", "html_url": "https://github.com/RaRe-Technologies/gensim/pull/2072", "diff_url": "https://github.com/RaRe-Technologies/gensim/pull/2072.diff", "patch_url": "https://github.com/RaRe-Technologies/gensim/pull/2072.patch", "merged_at": "2018-07-31T07:25:42Z"}, "body": "Dear Gensim Developers,\r\n\r\nFirst of all, gensim is an amazing tool. Thank you for your work!\r\n\r\nRecently, I played a bit with phrases (collocation) detection via gensim.\r\n\r\nIt seems that the npmi version ignores `min_count` parameter. \r\nI believe `min_count` should allow me to filter rarely occurring bigrams no matter how strong the collocation score might be. It works fine with the default (original) scorer, but npmi ignores `min_count` parameter.\r\n\r\nThe attached example illustrates the point (sorry for txt ext, but github complains about py). It displays detected phrases, calls are with `min_count`=3. Before modification the NPMI version does not drop cases with 3 or fewer occurrences.\r\n\r\n```\r\nDefault scoring\r\n(b'A', b'A') (5, 0.18)\r\n(b'B', b'A') (4, 0.1125)\r\nNPMI scoring\r\n(b'E', b'B') (1, 0.29377325990008535)\r\n(b'A', b'E') (1, 0.2179885169004593)\r\n(b'B', b'A') (4, -0.032919469600875044)\r\n(b'A', b'A') (5, -0.03842191266041472)\r\n(b'B', b'B') (2, -0.23155457855616865)\r\n(b'A', b'B') (1, -0.48823822319945537)\r\n```\r\n\r\nAfter the correction, the low count bigrams are correctly pruned:\r\n\r\n```\r\nDefault scoring\r\n(b'A', b'A') (5, 0.18)\r\n(b'B', b'A') (4, 0.1125)\r\nNPMI scoring\r\n(b'B', b'A') (4, -0.032919469600875044)\r\n(b'A', b'A') (5, -0.03842191266041472)\r\n```\r\n\r\nIf my way of reasoning is right, but you want me to add some love to the attached pull\r\nrequest do not hesitate to let me know (perhaps stating explicitly in the docs that\r\nscorer should handle the `min_count` would be a nice addition, in case somebody wants to write her/his own...)\r\n\r\nBest regards,\r\nMicha\u0142 \r\n[mwe.txt](https://github.com/RaRe-Technologies/gensim/files/2048681/mwe.txt)\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2072/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2072/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2069", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2069/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2069/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2069/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/2069", "id": 327093620, "node_id": "MDU6SXNzdWUzMjcwOTM2MjA=", "number": 2069, "title": "Incoherent topic word distributions after `malletmodel2ldamodel`", "user": {"login": "Wolfi-101", "id": 8885683, "node_id": "MDQ6VXNlcjg4ODU2ODM=", "avatar_url": "https://avatars.githubusercontent.com/u/8885683?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Wolfi-101", "html_url": "https://github.com/Wolfi-101", "followers_url": "https://api.github.com/users/Wolfi-101/followers", "following_url": "https://api.github.com/users/Wolfi-101/following{/other_user}", "gists_url": "https://api.github.com/users/Wolfi-101/gists{/gist_id}", "starred_url": "https://api.github.com/users/Wolfi-101/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Wolfi-101/subscriptions", "organizations_url": "https://api.github.com/users/Wolfi-101/orgs", "repos_url": "https://api.github.com/users/Wolfi-101/repos", "events_url": "https://api.github.com/users/Wolfi-101/events{/privacy}", "received_events_url": "https://api.github.com/users/Wolfi-101/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 234670, "node_id": "MDU6TGFiZWwyMzQ2NzA=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20medium", "name": "difficulty medium", "color": "00d000", "default": false, "description": "Medium issue: required good gensim understanding & python skills"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 21, "created_at": "2018-05-28T18:28:15Z", "updated_at": "2020-12-11T15:04:44Z", "closed_at": "2019-01-08T14:33:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi everyone,\r\nfirst off many thanks for providing such an awesome module! I am using `gensim` to do topic modeling with LDA and encountered the following bug/issue. I have already read about it in the [mailing list](https://groups.google.com/forum/#!topic/gensim/ZesMoKZCf4c), but apparently no issue has been created on Github.\r\n\r\n#### Description\r\nAfter training an LDA model with the gensim mallet wrapper I converted the model to a native gensim LDA model via the `malletmodel2ldamodel` function provided with the wrapper. Before and after the conversion the topic word distributions are quite different. The ldamallet version returns comprehensible topics with sensible weights, whereas the topic word distribution after conversion is nearly uniform, leading to topics without a clear focus. \r\n\r\nI am assuming that the resulting topics are supposed to be at least somewhat similar before and after conversion. Am I doing something wrong? What could be causing this behaviour?\r\n\r\n#### Steps/Code/Corpus to Reproduce\r\n```python\r\nimport gensim\r\nfrom sklearn.datasets import fetch_20newsgroups\r\n\r\n# select five quite distinct categories from the 20 newsgroups\r\ncat = ['soc.religion.christian', 'comp.graphics', 'rec.motorcycles', \r\n       'sci.space', 'talk.politics.guns']\r\n\r\n# keep and use only the main text\r\nnewsgroups_train = fetch_20newsgroups(subset='all', categories=cat,\r\n                                      remove=('headers', 'footers', 'quotes'))\r\n\r\ntokenized = [gensim.utils.simple_preprocess(doc) for doc in newsgroups_train.data]\r\ndictionary = gensim.corpora.Dictionary(tokenized)\r\ncorpus = [dictionary.doc2bow(text) for text in tokenized]\r\n\r\nlda_mallet = gensim.models.wrappers.ldamallet.LdaMallet(\r\n        'c:/mallet/bin/mallet', corpus=corpus, \r\n        num_topics=5, id2word=dictionary, iterations=1000)\r\n\r\nlda_gensim = gensim.models.wrappers.ldamallet.malletmodel2ldamodel(\r\n        lda_mallet, iterations=1000)\r\n\r\nfor topic in lda_mallet.show_topics(num_topics=5, num_words=10):\r\n    print(topic)\r\nfor topic in lda_gensim.show_topics(num_topics=5, num_words=10):\r\n    print(topic)\r\n```\r\n#### Expected Results\r\nThese are the results I get from the mallet wrapper using `lda_mallet.show_topics(num_topics=5, num_words=10)`. Those are what one would expect considering the chosen categories from 20newsgroups: \r\n```python\r\n(0, '0.021*\"god\" + 0.009*\"people\" + 0.007*\"jesus\" + 0.007*\"church\" + 0.006*\"christ\" + 0.005*\"life\" + 0.005*\"christian\" + 0.005*\"bible\" + 0.004*\"christians\" + 0.004*\"man\"')\r\n(1, '0.014*\"don\" + 0.011*\"ve\" + 0.009*\"good\" + 0.008*\"bike\" + 0.007*\"time\" + 0.007*\"back\" + 0.007*\"make\" + 0.006*\"ll\" + 0.006*\"problem\" + 0.006*\"thing\"')\r\n(2, '0.017*\"space\" + 0.006*\"nasa\" + 0.006*\"earth\" + 0.005*\"system\" + 0.005*\"launch\" + 0.004*\"shuttle\" + 0.004*\"orbit\" + 0.003*\"years\" + 0.003*\"mission\" + 0.003*\"moon\"')\r\n(3, '0.012*\"people\" + 0.011*\"gun\" + 0.005*\"guns\" + 0.005*\"government\" + 0.005*\"state\" + 0.005*\"law\" + 0.005*\"fire\" + 0.005*\"control\" + 0.004*\"don\" + 0.004*\"fbi\"')\r\n(4, '0.013*\"image\" + 0.009*\"graphics\" + 0.008*\"jpeg\" + 0.007*\"file\" + 0.006*\"images\" + 0.006*\"data\" + 0.006*\"bit\" + 0.006*\"software\" + 0.006*\"ftp\" + 0.006*\"mail\"')\r\n```\r\n#### Actual Results\r\nThese are the results I get from the converted native gensim model using `lda_gensim.show_topics(num_topics=5, num_words=10)`. The word probabilities are all very low and not very distinctive, resulting in mostly incoherent topics: \r\n```python\r\n(0, '0.000*\"tribunal\" + 0.000*\"insruance\" + 0.000*\"damper\" + 0.000*\"unfurl\" + 0.000*\"urinalisys\" + 0.000*\"saturnation\" + 0.000*\"stupider\" + 0.000*\"improved\" + 0.000*\"waltons\" + 0.000*\"t_ng\"')\r\n(1, '0.000*\"ott\" + 0.000*\"raved\" + 0.000*\"warped\" + 0.000*\"onesies\" + 0.000*\"speculating\" + 0.000*\"irrigate\" + 0.000*\"bodies\" + 0.000*\"inherant\" + 0.000*\"illustrations\" + 0.000*\"filler\"')\r\n(2, '0.000*\"datasets\" + 0.000*\"addiction\" + 0.000*\"lr\" + 0.000*\"overturning\" + 0.000*\"supertrapp\" + 0.000*\"collision\" + 0.000*\"nl__\" + 0.000*\"someone\" + 0.000*\"switch\" + 0.000*\"pirate\"')\r\n(3, '0.000*\"inbetweens\" + 0.000*\"hostname\" + 0.000*\"obsevatory\" + 0.000*\"dscharge\" + 0.000*\"ecclesiates\" + 0.000*\"drills\" + 0.000*\"ranching\" + 0.000*\"metz\" + 0.000*\"omnivorous\" + 0.000*\"normals\"')\r\n(4, '0.000*\"uad\" + 0.000*\"undecidable\" + 0.000*\"eroded\" + 0.000*\"summarized\" + 0.000*\"reposition\" + 0.000*\"sttod\" + 0.000*\"sanctas\" + 0.000*\"broadest\" + 0.000*\"inception\" + 0.000*\"turntable\"')\r\n```\r\n\r\n#### Versions\r\n- Windows-7-6.1.7601-SP1\r\n- Python 3.6.5 | packaged by conda-forge | (default, Apr  6 2018, 16:13:55) [MSC v.1900 64 bit (AMD64)]\r\n- NumPy 1.14.2\r\n- SciPy 1.0.1\r\n- gensim 3.4.0\r\n- FAST_VERSION 1\r\n- mallet version 2.0.8\r\n\r\n\r\nThanks in advance for any help! Cheers,\r\nWolfgang", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2069/reactions", "total_count": 7, "+1": 7, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2069/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2063", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2063/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2063/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2063/events", "html_url": "https://github.com/RaRe-Technologies/gensim/pull/2063", "id": 326603713, "node_id": "MDExOlB1bGxSZXF1ZXN0MTkwNjQ5Mjg3", "number": 2063, "title": "Fix linear decay for learning rate in `Doc2Vec.infer_vector`. Fix #2061", "user": {"login": "umangv", "id": 306547, "node_id": "MDQ6VXNlcjMwNjU0Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/306547?v=4", "gravatar_id": "", "url": "https://api.github.com/users/umangv", "html_url": "https://github.com/umangv", "followers_url": "https://api.github.com/users/umangv/followers", "following_url": "https://api.github.com/users/umangv/following{/other_user}", "gists_url": "https://api.github.com/users/umangv/gists{/gist_id}", "starred_url": "https://api.github.com/users/umangv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/umangv/subscriptions", "organizations_url": "https://api.github.com/users/umangv/orgs", "repos_url": "https://api.github.com/users/umangv/repos", "events_url": "https://api.github.com/users/umangv/events{/privacy}", "received_events_url": "https://api.github.com/users/umangv/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 708430967, "node_id": "MDU6TGFiZWw3MDg0MzA5Njc=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/performance", "name": "performance", "color": "d93f0b", "default": false, "description": "Issue related to performance (in HW meaning)"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2018-05-25T17:19:34Z", "updated_at": "2018-06-20T19:32:53Z", "closed_at": "2018-06-20T04:15:56Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/pulls/2063", "html_url": "https://github.com/RaRe-Technologies/gensim/pull/2063", "diff_url": "https://github.com/RaRe-Technologies/gensim/pull/2063.diff", "patch_url": "https://github.com/RaRe-Technologies/gensim/pull/2063.patch", "merged_at": "2018-06-20T04:15:56Z"}, "body": "This would fix issue #2061", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2063/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2063/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2062", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2062/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2062/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2062/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/2062", "id": 326580888, "node_id": "MDU6SXNzdWUzMjY1ODA4ODg=", "number": 2062, "title": "'FastTextTrainables' object has no attribute 'vectors'", "user": {"login": "rpedela", "id": 1952582, "node_id": "MDQ6VXNlcjE5NTI1ODI=", "avatar_url": "https://avatars.githubusercontent.com/u/1952582?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rpedela", "html_url": "https://github.com/rpedela", "followers_url": "https://api.github.com/users/rpedela/followers", "following_url": "https://api.github.com/users/rpedela/following{/other_user}", "gists_url": "https://api.github.com/users/rpedela/gists{/gist_id}", "starred_url": "https://api.github.com/users/rpedela/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rpedela/subscriptions", "organizations_url": "https://api.github.com/users/rpedela/orgs", "repos_url": "https://api.github.com/users/rpedela/repos", "events_url": "https://api.github.com/users/rpedela/events{/privacy}", "received_events_url": "https://api.github.com/users/rpedela/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 234670, "node_id": "MDU6TGFiZWwyMzQ2NzA=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20medium", "name": "difficulty medium", "color": "00d000", "default": false, "description": "Medium issue: required good gensim understanding & python skills"}, {"id": 1162250977, "node_id": "MDU6TGFiZWwxMTYyMjUwOTc3", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/fasttext", "name": "fasttext", "color": "ad52ea", "default": false, "description": "Issues related to the FastText model"}], "state": "closed", "locked": false, "assignee": {"login": "mpenkov", "id": 1101396, "node_id": "MDQ6VXNlcjExMDEzOTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1101396?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mpenkov", "html_url": "https://github.com/mpenkov", "followers_url": "https://api.github.com/users/mpenkov/followers", "following_url": "https://api.github.com/users/mpenkov/following{/other_user}", "gists_url": "https://api.github.com/users/mpenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/mpenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mpenkov/subscriptions", "organizations_url": "https://api.github.com/users/mpenkov/orgs", "repos_url": "https://api.github.com/users/mpenkov/repos", "events_url": "https://api.github.com/users/mpenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/mpenkov/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "mpenkov", "id": 1101396, "node_id": "MDQ6VXNlcjExMDEzOTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1101396?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mpenkov", "html_url": "https://github.com/mpenkov", "followers_url": "https://api.github.com/users/mpenkov/followers", "following_url": "https://api.github.com/users/mpenkov/following{/other_user}", "gists_url": "https://api.github.com/users/mpenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/mpenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mpenkov/subscriptions", "organizations_url": "https://api.github.com/users/mpenkov/orgs", "repos_url": "https://api.github.com/users/mpenkov/repos", "events_url": "https://api.github.com/users/mpenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/mpenkov/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 9, "created_at": "2018-05-25T16:01:04Z", "updated_at": "2019-01-18T10:37:04Z", "closed_at": "2019-01-18T10:37:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "Using the [pre-trained FastText English Wikipedia model](https://github.com/facebookresearch/fastText/blob/master/pretrained-vectors.md), I load it and then save it to gensim's format. When I load the new file, I get a ```'FastTextTrainables' object has no attribute 'vectors'``` error. I am using version 3.4.0.\r\n\r\n```python\r\nfrom gensim.models import FastText\r\nmodel = FastText.load_fasttext_format('./wiki.en.bin')\r\nmodel.save('./gensim_en_fasttext_wiki_lg')\r\nnew_model = FastText.load('./gensim_en_fasttext_wiki_lg')\r\n```\r\n\r\n**Saved Files**\r\n```\r\ngensim_en_fasttext_wiki_lg\r\ngensim_en_fasttext_wiki_lg.wv.vectors_ngrams.npy\r\ngensim_en_fasttext_wiki_lg.wv.vectors.npy\r\n```\r\n\r\n**Error**\r\n```\r\nTraceback (most recent call last):\r\n  File \"/usr/local/lib/python3.5/dist-packages/gensim/models/fasttext.py\", line 718, in load\r\n    model.trainables.vectors_vocab_lockf = ones(len(model.trainables.vectors), dtype=REAL)\r\nAttributeError: 'FastTextTrainables' object has no attribute 'vectors'\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"cluster_vectors.py\", line 26, in <module>\r\n    new_model = FastText.load('./gensim_en_fasttext_wiki_lg')\r\n  File \"/usr/local/lib/python3.5/dist-packages/gensim/models/fasttext.py\", line 725, in load\r\n    return load_old_fasttext(*args, **kwargs)\r\n  File \"/usr/local/lib/python3.5/dist-packages/gensim/models/deprecated/fasttext.py\", line 53, in load_old_fasttext\r\n    old_model = FastText.load(*args, **kwargs)\r\n  File \"/usr/local/lib/python3.5/dist-packages/gensim/models/deprecated/word2vec.py\", line 1616, in load\r\n    model = super(Word2Vec, cls).load(*args, **kwargs)\r\n  File \"/usr/local/lib/python3.5/dist-packages/gensim/models/deprecated/old_saveload.py\", line 87, in load\r\n    obj = unpickle(fname)\r\n  File \"/usr/local/lib/python3.5/dist-packages/gensim/models/deprecated/old_saveload.py\", line 380, in unpickle\r\n    return _pickle.loads(file_bytes, encoding='latin1')\r\nAttributeError: Can't get attribute 'FastTextVocab' on <module 'gensim.models.deprecated.fasttext' from '/usr/local/lib/python3.5/dist-packages/gensim/models/deprecated/fasttext.py'>\r\n```\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2062/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2062/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2061", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2061/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2061/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2061/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/2061", "id": 326559129, "node_id": "MDU6SXNzdWUzMjY1NTkxMjk=", "number": 2061, "title": "Doc2Vec.infer_vector learning rate decays extremely fast (non-linearly)", "user": {"login": "umangv", "id": 306547, "node_id": "MDQ6VXNlcjMwNjU0Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/306547?v=4", "gravatar_id": "", "url": "https://api.github.com/users/umangv", "html_url": "https://github.com/umangv", "followers_url": "https://api.github.com/users/umangv/followers", "following_url": "https://api.github.com/users/umangv/following{/other_user}", "gists_url": "https://api.github.com/users/umangv/gists{/gist_id}", "starred_url": "https://api.github.com/users/umangv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/umangv/subscriptions", "organizations_url": "https://api.github.com/users/umangv/orgs", "repos_url": "https://api.github.com/users/umangv/repos", "events_url": "https://api.github.com/users/umangv/events{/privacy}", "received_events_url": "https://api.github.com/users/umangv/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-05-25T15:00:57Z", "updated_at": "2018-06-20T04:16:02Z", "closed_at": "2018-06-20T04:16:02Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I am working with a corpus of very short documents and noticed that the inferred vectors for the same document were very different.\r\n\r\n```python\r\nfrom scipy.spatial.distance import pdist, squareform\r\ntestdoc = \"This is a small sample document.\"\r\nvectors = [d2vmod.infer_vector(testdoc) for _ in range(5)]\r\nsquareform(pdist(vectors, \"cosine\"))\r\n```\r\n\r\n```\r\narray([[0.        , 0.05987812, 0.06183155, 0.06931093, 0.05466599],\r\n       [0.05987812, 0.        , 0.03724874, 0.05006329, 0.04789369],\r\n       [0.06183155, 0.03724874, 0.        , 0.04771786, 0.05983109],\r\n       [0.06931093, 0.05006329, 0.04771786, 0.        , 0.0367826 ],\r\n       [0.05466599, 0.04789369, 0.05983109, 0.0367826 , 0.        ]])\r\n```\r\n\r\nMore training steps makes things worse in this case:\r\n```python\r\nvectors = [d2vmod.infer_vector(testdoc, 10000) for _ in range(5)]\r\nsquareform(pdist(vectors, \"cosine\"))\r\n```\r\n```\r\narray([[0.        , 0.27392197, 0.308742  , 0.51374501, 0.45744246],\r\n       [0.27392197, 0.        , 0.14912033, 0.32902151, 0.1822687 ],\r\n       [0.308742  , 0.14912033, 0.        , 0.2895444 , 0.27019636],\r\n       [0.51374501, 0.32902151, 0.2895444 , 0.        , 0.38096254],\r\n       [0.45744246, 0.1822687 , 0.27019636, 0.38096254, 0.        ]])\r\n```\r\nNote: This is more extreme than what I'm seeing with more domain-specific sample documents, where start to get more consistent after about 5000 steps.\r\n\r\nI believe this is happening because the learning rate decays extremely rapidly:\r\n https://github.com/RaRe-Technologies/gensim/blob/8b810918d59781116794a6679999afdc76b857ef/gensim/models/doc2vec.py#L565\r\n\r\n```python\r\nalpha = 0.025\r\nmin_alpha = 0.001\r\nsteps = 100\r\nfor i in range(steps):\r\n    print(alpha)\r\n    alpha = ((alpha - min_alpha) / (steps - i)) + min_alpha\r\n```\r\n```\r\n0.025\r\n0.00124\r\n0.0010024242424242424\r\n0.0010000247371675943\r\n...\r\n```\r\nNotice that `alpha` is very close to `min_alpha` after the first step and this is exaggerated even more when the number of steps is larger. \r\n\r\nWhen I change Doc2Vec to have a linear decay in learning rate\r\n```python\r\nalpha_delta = (alpha-min_alpha)/(steps-1)\r\nfor i in range(steps):\r\n    # ...\r\n    alpha -= alpha_delta\r\n```\r\n\r\nI get much better results. With 20 steps, we get pairwise cosine distances of\r\n```\r\narray([[0.        , 0.01617053, 0.02467067, 0.01828433, 0.01834735],\r\n       [0.01617053, 0.        , 0.01879757, 0.00910884, 0.01358116],\r\n       [0.02467067, 0.01879757, 0.        , 0.01521225, 0.01392789],\r\n       [0.01828433, 0.00910884, 0.01521225, 0.        , 0.01121792],\r\n       [0.01834735, 0.01358116, 0.01392789, 0.01121792, 0.        ]])\r\n```\r\n, with 100 we get\r\n```\r\narray([[0.        , 0.00282428, 0.00373375, 0.00331408, 0.00362875],\r\n       [0.00282428, 0.        , 0.0036147 , 0.0028999 , 0.00210812],\r\n       [0.00373375, 0.0036147 , 0.        , 0.0032986 , 0.00361321],\r\n       [0.00331408, 0.0028999 , 0.0032986 , 0.        , 0.00318849],\r\n       [0.00362875, 0.00210812, 0.00361321, 0.00318849, 0.        ]])\r\n```\r\n, and with 1000 steps:\r\n```\r\narray([[0.        , 0.00055459, 0.000633  , 0.00074271, 0.00036596],\r\n       [0.00055459, 0.        , 0.00067211, 0.00075522, 0.00058975],\r\n       [0.000633  , 0.00067211, 0.        , 0.00109709, 0.00049239],\r\n       [0.00074271, 0.00075522, 0.00109709, 0.        , 0.00072527],\r\n       [0.00036596, 0.00058975, 0.00049239, 0.00072527, 0.        ]])\r\n```", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2061/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2061/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2059", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2059/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2059/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2059/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/2059", "id": 325902165, "node_id": "MDU6SXNzdWUzMjU5MDIxNjU=", "number": 2059, "title": "fasttext ft_hash and unicode handling", "user": {"login": "leezu", "id": 946903, "node_id": "MDQ6VXNlcjk0NjkwMw==", "avatar_url": "https://avatars.githubusercontent.com/u/946903?v=4", "gravatar_id": "", "url": "https://api.github.com/users/leezu", "html_url": "https://github.com/leezu", "followers_url": "https://api.github.com/users/leezu/followers", "following_url": "https://api.github.com/users/leezu/following{/other_user}", "gists_url": "https://api.github.com/users/leezu/gists{/gist_id}", "starred_url": "https://api.github.com/users/leezu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/leezu/subscriptions", "organizations_url": "https://api.github.com/users/leezu/orgs", "repos_url": "https://api.github.com/users/leezu/repos", "events_url": "https://api.github.com/users/leezu/events{/privacy}", "received_events_url": "https://api.github.com/users/leezu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 234670, "node_id": "MDU6TGFiZWwyMzQ2NzA=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20medium", "name": "difficulty medium", "color": "00d000", "default": false, "description": "Medium issue: required good gensim understanding & python skills"}, {"id": 1162250977, "node_id": "MDU6TGFiZWwxMTYyMjUwOTc3", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/fasttext", "name": "fasttext", "color": "ad52ea", "default": false, "description": "Issues related to the FastText model"}], "state": "closed", "locked": false, "assignee": {"login": "mpenkov", "id": 1101396, "node_id": "MDQ6VXNlcjExMDEzOTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1101396?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mpenkov", "html_url": "https://github.com/mpenkov", "followers_url": "https://api.github.com/users/mpenkov/followers", "following_url": "https://api.github.com/users/mpenkov/following{/other_user}", "gists_url": "https://api.github.com/users/mpenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/mpenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mpenkov/subscriptions", "organizations_url": "https://api.github.com/users/mpenkov/orgs", "repos_url": "https://api.github.com/users/mpenkov/repos", "events_url": "https://api.github.com/users/mpenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/mpenkov/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "mpenkov", "id": 1101396, "node_id": "MDQ6VXNlcjExMDEzOTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1101396?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mpenkov", "html_url": "https://github.com/mpenkov", "followers_url": "https://api.github.com/users/mpenkov/followers", "following_url": "https://api.github.com/users/mpenkov/following{/other_user}", "gists_url": "https://api.github.com/users/mpenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/mpenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mpenkov/subscriptions", "organizations_url": "https://api.github.com/users/mpenkov/orgs", "repos_url": "https://api.github.com/users/mpenkov/repos", "events_url": "https://api.github.com/users/mpenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/mpenkov/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 10, "created_at": "2018-05-23T22:51:32Z", "updated_at": "2019-01-11T15:07:40Z", "closed_at": "2019-01-11T15:07:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "Fasttext uses the hashing trick to map ngrams to a an index in [0, N]. Gensim supports loading models trained with original fasttext implementation from facebook research. It is therefore important that both gensims and the original implementation use the same hash function to make sure that ngrams are associated with the correct vectors.\r\n\r\nThe [original implementation](https://github.com/facebookresearch/fastText/blob/53dd4c5/src/dictionary.cc#L143) is in C++ and considers ngrams as `std::basic_string<char>`, ie. a sequence of bytes:\r\n\r\n```\r\nuint32_t Dictionary::hash(const std::string& str) const {\r\n  uint32_t h = 2166136261;\r\n  for (size_t i = 0; i < str.size(); i++) {\r\n    h = h ^ uint32_t(str[i]);\r\n    h = h * 16777619;\r\n  }\r\n  return h;\r\n}\r\n```\r\n\r\nHowever the [gensim python implementation](https://github.com/RaRe-Technologies/gensim/blob/9021ea8b31871e760095086669651dd1f072fce0/gensim/models/utils_any2vec.py#L26) consider a ngram as a sequence of unicode characters:\r\n\r\n```\r\n        h = np.uint32(2166136261)\r\n        for c in string:\r\n            h = h ^ np.uint32(ord(c))\r\n            h = h * np.uint32(16777619)\r\n        return h\r\n\r\n```\r\n\r\nThe two are not equivalent. Consider:\r\n```\r\nIn [1]: import numpy as np\r\n\r\nIn [2]: def hash_unicode(s):\r\n   ...:     h = np.uint32(2166136261)\r\n   ...:     for c in s:\r\n   ...:         h = h ^ np.uint32(ord(c))\r\n   ...:         h = h * np.uint32(16777619)\r\n   ...:     return h\r\n   ...:\r\n   ...:\r\n   ...: def hash_bytes(s):\r\n   ...:     h = np.uint32(2166136261)\r\n   ...:     s = s.encode('utf-8')\r\n   ...:     for c in s:\r\n   ...:         h = h ^ np.uint32(c)\r\n   ...:         h = h * np.uint32(16777619)\r\n   ...:     return h\r\n   ...:\r\n   ...:\r\n\r\nIn [3]: hash_unicode(\"\u00e9\")\r\nOut[3]: 1812687940\r\n\r\nIn [4]: hash_bytes(\"\u00e9\")\r\nOut[4]: 513665217\r\n```\r\n\r\nI am not really familiar with gensims code, so I may have overlooked something.\r\n\r\nI assume that the cython implementation treats the iteration over a `unicode` string also as an iteration over unicode characters, so the same consideration as above would apply, but I haven't verified this.\r\n\r\nEdit: I checked the inputs to the hash function of the original fasttext implementation. There, eg. `<\u03b1>` is represented by `3c ffffffce ffffffb1 3e`", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2059/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2059/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2020", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2020/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2020/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2020/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/2020", "id": 311928465, "node_id": "MDU6SXNzdWUzMTE5Mjg0NjU=", "number": 2020, "title": "Fix implementation of smartirs Document Frequency n", "user": {"login": "PeteBleackley", "id": 5558335, "node_id": "MDQ6VXNlcjU1NTgzMzU=", "avatar_url": "https://avatars.githubusercontent.com/u/5558335?v=4", "gravatar_id": "", "url": "https://api.github.com/users/PeteBleackley", "html_url": "https://github.com/PeteBleackley", "followers_url": "https://api.github.com/users/PeteBleackley/followers", "following_url": "https://api.github.com/users/PeteBleackley/following{/other_user}", "gists_url": "https://api.github.com/users/PeteBleackley/gists{/gist_id}", "starred_url": "https://api.github.com/users/PeteBleackley/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/PeteBleackley/subscriptions", "organizations_url": "https://api.github.com/users/PeteBleackley/orgs", "repos_url": "https://api.github.com/users/PeteBleackley/repos", "events_url": "https://api.github.com/users/PeteBleackley/events{/privacy}", "received_events_url": "https://api.github.com/users/PeteBleackley/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 233081, "node_id": "MDU6TGFiZWwyMzMwODE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20easy", "name": "difficulty easy", "color": "00ff00", "default": false, "description": "Easy issue: required small fix"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2018-04-06T10:38:45Z", "updated_at": "2018-04-10T09:03:10Z", "closed_at": "2018-04-10T09:03:10Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "<!--\r\nIf your issue is a usage or a general question, please submit it here instead:\r\n- Mailing List: https://groups.google.com/forum/#!forum/gensim\r\nFor more information, see Recipes&FAQ: https://github.com/RaRe-Technologies/gensim/wiki/Recipes-&-FAQ\r\n-->\r\n\r\n<!-- Instructions For Filing a Bug: https://github.com/RaRe-Technologies/gensim/blob/develop/CONTRIBUTING.md -->\r\n\r\n#### Description\r\ntfidfmodel.updated_wglobal(docfreq, totaldoc, 'n') returns utils.identity(docfreq) instead of 1.\r\nThis means that all term frequencies will be multiplied by the document frequency. For a large corpus this is particularly bad and will cause normalisation to crash.\r\n\r\n\r\n<!-- Thanks for contributing! -->\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2020/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2020/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2009", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2009/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2009/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2009/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/2009", "id": 310082152, "node_id": "MDU6SXNzdWUzMTAwODIxNTI=", "number": 2009, "title": "LDA Python3 - TypeError: '>' not supported between instances of 'float' and 'NoneType'", "user": {"login": "budhiraja", "id": 6032923, "node_id": "MDQ6VXNlcjYwMzI5MjM=", "avatar_url": "https://avatars.githubusercontent.com/u/6032923?v=4", "gravatar_id": "", "url": "https://api.github.com/users/budhiraja", "html_url": "https://github.com/budhiraja", "followers_url": "https://api.github.com/users/budhiraja/followers", "following_url": "https://api.github.com/users/budhiraja/following{/other_user}", "gists_url": "https://api.github.com/users/budhiraja/gists{/gist_id}", "starred_url": "https://api.github.com/users/budhiraja/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/budhiraja/subscriptions", "organizations_url": "https://api.github.com/users/budhiraja/orgs", "repos_url": "https://api.github.com/users/budhiraja/repos", "events_url": "https://api.github.com/users/budhiraja/events{/privacy}", "received_events_url": "https://api.github.com/users/budhiraja/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 708355863, "node_id": "MDU6TGFiZWw3MDgzNTU4NjM=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/need%20info", "name": "need info", "color": "fbca04", "default": false, "description": "Not enough information for reproduce an issue, need more info from author"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2018-03-30T14:38:51Z", "updated_at": "2018-08-13T03:46:49Z", "closed_at": "2018-08-13T03:46:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "I had reported the same issues some time back and it was fixed by reinstallation but the issue has reappeared and reinstallation is not resolving it.\r\n\r\nI have trained an LDA model using gensim library and I am using it to extract topic vectors of a document and I am using the following code\r\n\r\n    def clean_doc(data_string):    \r\n        global en_stop\r\n        tokenizer = RegexpTokenizer(r'\\w+') #Create appropriate tokenizer\r\n        p_stemmer = PorterStemmer() #Create object from Porter Stemmer\r\n        #clean and tokenize document string\r\n        raw = data_string.lower()\r\n        tokens = tokenizer.tokenize(raw)\r\n        # remove stop words from tokens\r\n        stopped_tokens = [i for i in tokens if not i in en_stop]\r\n        # stem tokens\r\n        stemmed_tokens = [p_stemmer.stem(i) for i in stopped_tokens]\r\n        return stemmed_tokens\r\n    \r\n    def infer_lda_vector(s, dictionary, model, dimensions):\r\n        #s = s.decode('utf-8')\r\n        print (s)\r\n        vector = [0.0]*dimensions\r\n        s = clean_doc(s)\r\n        print (s)\r\n        bow_vector = dictionary.doc2bow(s)   \r\n        lda_vector = model[bow_vector]            \r\n        for i in lda_vector:\r\n            vector[i[0]] = i[1]\r\n        return vector\r\n\r\nI call it as follows:\r\n\r\n    text = \"this a test\"\r\n    lda_vector = infer_lda_vector(text, dictionary, lda_model, 300)\r\n\r\nThis exact piece of code was working when I was using Python2.7 but when I updated my system to Python3.x, its throwing the following error:\r\n\r\n```\r\nthis is a test on office and firefox\r\n['test', 'offic', 'firefox']\r\n[(4, 1), (85, 1), (1458, 1)]\r\n---------------------------------------------------------------------------\r\nTypeError                                 Traceback (most recent call last)\r\n<ipython-input-12-ddb10c8f6b5d> in <module>()\r\n      1 text = \"this is a test on office and firefox\"\r\n----> 2 lda_vector = infer_lda_vector(text, dictionary, lda_model, 300)\r\n      3 lda_vector\r\n\r\n<ipython-input-9-62f10637e316> in infer_lda_vector(s, dictionary, model, dimensions)\r\n     36     bow_vector = dictionary.doc2bow(s)\r\n     37     print (bow_vector)\r\n---> 38     lda_vector = model[bow_vector]\r\n     39     print (lda_vector)\r\n     40     vector = [0.0]*dimensions\r\n\r\n~\\AppData\\Local\\Continuum\\anaconda3\\lib\\site-packages\\gensim\\models\\ldamodel.py in __getitem__(self, bow, eps)\r\n   1158             `(topic_id, topic_probability)` 2-tuples.\r\n   1159         \"\"\"\r\n-> 1160         return self.get_document_topics(bow, eps, self.minimum_phi_value, self.per_word_topics)\r\n   1161 \r\n   1162     def save(self, fname, ignore=('state', 'dispatcher'), separately=None, *args, **kwargs):\r\n\r\n~\\AppData\\Local\\Continuum\\anaconda3\\lib\\site-packages\\gensim\\models\\ldamodel.py in get_document_topics(self, bow, minimum_probability, minimum_phi_value, per_word_topics)\r\n    979         if minimum_probability is None:\r\n    980             minimum_probability = self.minimum_probability\r\n--> 981         minimum_probability = max(minimum_probability, 1e-8)  # never allow zero values in sparse output\r\n    982 \r\n    983         if minimum_phi_value is None:\r\n\r\nTypeError: '>' not supported between instances of 'float' and 'NoneType'\r\n```\r\n\r\nWhat am I doing wrong?\r\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2009/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2009/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2000", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2000/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2000/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2000/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/2000", "id": 308513541, "node_id": "MDU6SXNzdWUzMDg1MTM1NDE=", "number": 2000, "title": "'Word2Vec' object has no attribute 'trainables'", "user": {"login": "narrowsnap", "id": 17559987, "node_id": "MDQ6VXNlcjE3NTU5OTg3", "avatar_url": "https://avatars.githubusercontent.com/u/17559987?v=4", "gravatar_id": "", "url": "https://api.github.com/users/narrowsnap", "html_url": "https://github.com/narrowsnap", "followers_url": "https://api.github.com/users/narrowsnap/followers", "following_url": "https://api.github.com/users/narrowsnap/following{/other_user}", "gists_url": "https://api.github.com/users/narrowsnap/gists{/gist_id}", "starred_url": "https://api.github.com/users/narrowsnap/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/narrowsnap/subscriptions", "organizations_url": "https://api.github.com/users/narrowsnap/orgs", "repos_url": "https://api.github.com/users/narrowsnap/repos", "events_url": "https://api.github.com/users/narrowsnap/events{/privacy}", "received_events_url": "https://api.github.com/users/narrowsnap/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 14, "created_at": "2018-03-26T10:20:59Z", "updated_at": "2021-06-28T05:23:48Z", "closed_at": "2018-12-13T11:45:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\nIf your issue is a usage or a general question, please submit it here instead:\r\n- Mailing List: https://groups.google.com/forum/#!forum/gensim\r\nFor more information, see Recipes&FAQ: https://github.com/RaRe-Technologies/gensim/wiki/Recipes-&-FAQ\r\n-->\r\n```\r\nfrom gensim.models import word2vec\r\nmodel = word2vec.Word2Vec.load('myModel')\r\n```\r\n\r\n<!-- Instructions For Filing a Bug: https://github.com/RaRe-Technologies/gensim/blob/develop/CONTRIBUTING.md -->\r\n\r\n#### Description\r\nI got this:\r\n```\r\nTraceback (most recent call last):\r\n  File \"/usr/local/lib/python3.5/dist-packages/gensim/models/word2vec.py\", line 975, in load\r\n    return super(Word2Vec, cls).load(*args, **kwargs)\r\n  File \"/usr/local/lib/python3.5/dist-packages/gensim/models/base_any2vec.py\", line 629, in load\r\n    model = super(BaseWordEmbeddingsModel, cls).load(*args, **kwargs)\r\n  File \"/usr/local/lib/python3.5/dist-packages/gensim/models/base_any2vec.py\", line 278, in load\r\n    return super(BaseAny2VecModel, cls).load(fname_or_handle, **kwargs)\r\n  File \"/usr/local/lib/python3.5/dist-packages/gensim/utils.py\", line 426, in load\r\n    obj._load_specials(fname, mmap, compress, subname)\r\n  File \"/usr/local/lib/python3.5/dist-packages/gensim/utils.py\", line 469, in _load_specials\r\n    setattr(self, attrib, val)\r\n  File \"/usr/local/lib/python3.5/dist-packages/gensim/utils.py\", line 1398, in new_func1\r\n    return func(*args, **kwargs)\r\n  File \"/usr/local/lib/python3.5/dist-packages/gensim/models/base_any2vec.py\", line 380, in syn1neg\r\n    self.trainables.syn1neg = value\r\nAttributeError: 'Word2Vec' object has no attribute 'trainables'\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"word.py\", line 164, in <module>\r\n    X_vector, Y_vector = XY_vector(X, Y)\r\n  File \"word.py\", line 116, in XY_vector\r\n    model = gensim.models.word2vec.Word2Vec.load('./word_vector/Word60.model')\r\n  File \"/usr/local/lib/python3.5/dist-packages/gensim/models/word2vec.py\", line 979, in load\r\n    return load_old_word2vec(*args, **kwargs)\r\n  File \"/usr/local/lib/python3.5/dist-packages/gensim/models/deprecated/word2vec.py\", line 195, in load_old_word2vec\r\n    new_model.min_alpha_yet_reached = old_model.min_alpha_yet_reached\r\nAttributeError: 'Word2Vec' object has no attribute 'min_alpha_yet_reached'\r\n\r\n```\r\n<!-- Example: Vocabulary size is not what I expected when training Word2Vec. -->\r\n\r\n\r\n#### Versions\r\nI used gensim version 3.4.0, python version 3.5.2\r\n\r\n#### Please share your model (very important for reproducing your error)\r\nWhat should I do for this?\r\n\r\n#### What's a python and OS?\r\nubuntu16.04LTS\r\n<!--\r\nPlease run the following snippet and paste the output below.\r\nimport platform; print(platform.platform())\r\nimport sys; print(\"Python\", sys.version)\r\nimport numpy; print(\"NumPy\", numpy.__version__)\r\nimport scipy; print(\"SciPy\", scipy.__version__)\r\nimport gensim; print(\"gensim\", gensim.__version__)\r\nfrom gensim.models import word2vec;print(\"FAST_VERSION\", word2vec.FAST_VERSION)\r\n-->\r\n\r\n\r\n<!-- Thanks for contributing! -->\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2000/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/2000/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1998", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1998/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1998/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1998/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/1998", "id": 308367967, "node_id": "MDU6SXNzdWUzMDgzNjc5Njc=", "number": 1998, "title": "OverflowError when loading a large term-document matrix in Matrix Market format", "user": {"login": "KartikTaskhuman", "id": 34170284, "node_id": "MDQ6VXNlcjM0MTcwMjg0", "avatar_url": "https://avatars.githubusercontent.com/u/34170284?v=4", "gravatar_id": "", "url": "https://api.github.com/users/KartikTaskhuman", "html_url": "https://github.com/KartikTaskhuman", "followers_url": "https://api.github.com/users/KartikTaskhuman/followers", "following_url": "https://api.github.com/users/KartikTaskhuman/following{/other_user}", "gists_url": "https://api.github.com/users/KartikTaskhuman/gists{/gist_id}", "starred_url": "https://api.github.com/users/KartikTaskhuman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/KartikTaskhuman/subscriptions", "organizations_url": "https://api.github.com/users/KartikTaskhuman/orgs", "repos_url": "https://api.github.com/users/KartikTaskhuman/repos", "events_url": "https://api.github.com/users/KartikTaskhuman/events{/privacy}", "received_events_url": "https://api.github.com/users/KartikTaskhuman/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 233081, "node_id": "MDU6TGFiZWwyMzMwODE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20easy", "name": "difficulty easy", "color": "00ff00", "default": false, "description": "Easy issue: required small fix"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-03-25T17:22:20Z", "updated_at": "2018-03-28T06:28:07Z", "closed_at": "2018-03-28T06:28:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\nIf your issue is a usage or a general question, please submit it here instead:\r\n- Mailing List: https://groups.google.com/forum/#!forum/gensim\r\nFor more information, see Recipes&FAQ: https://github.com/RaRe-Technologies/gensim/wiki/Recipes-&-FAQ\r\n-->\r\n\r\n<!-- Instructions For Filing a Bug: https://github.com/RaRe-Technologies/gensim/blob/develop/CONTRIBUTING.md -->\r\n\r\n#### Description\r\nWhile loading the LSI vectors containing 4411273 documents and 500 terms in Matrix Market format , gensim complained the OverflowError.\r\n\r\n#### Steps/Code/Corpus to Reproduce\r\n```\r\nIn [14]: gensim.__version__\r\nOut[14]: '3.4.0'\r\n\r\nIn [6]: corpus = MmCorpus(datapath('lsi_vectors.mm.gz'))\r\n---------------------------------------------------------------------------\r\nOverflowError                             Traceback (most recent call last)\r\n<ipython-input-6-9e22aec68b3c> in <module>()\r\n----> 1 corpus = MmCorpus(datapath('lsi_vectors.mm.gz'))\r\n\r\n/Users/aukauk/anaconda3.6/anaconda3/envs/py27/lib/python2.7/site-packages/gensim/corpora/mmcorpus.pyc in __init__(self, fname)\r\n     62         # avoid calling super(), too confusing\r\n     63         IndexedCorpus.__init__(self, fname)\r\n---> 64         matutils.MmReader.__init__(self, fname)\r\n     65 \r\n     66     def __iter__(self):\r\n\r\n/Users/aukauk/anaconda3.6/anaconda3/envs/py27/lib/python2.7/site-packages/gensim/corpora/_mmreader.pyx in gensim.corpora._mmreader.MmReader.__init__()\r\n     58         logger.info(\"initializing cython corpus reader from %s\", input)\r\n     59         self.input, self.transposed = input, transposed\r\n---> 60         with utils.open_file(self.input) as lines:\r\n     61             try:\r\n     62                 header = utils.to_unicode(next(lines)).strip()\r\n\r\n/Users/aukauk/anaconda3.6/anaconda3/envs/py27/lib/python2.7/site-packages/gensim/corpora/_mmreader.pyx in gensim.corpora._mmreader.MmReader.__init__()\r\n     73                 line = utils.to_unicode(line)\r\n     74                 if not line.startswith('%'):\r\n---> 75                     self.num_docs, self.num_terms, self.num_nnz = (int(x) for x in line.split())\r\n     76                     if not self.transposed:\r\n     77                         self.num_docs, self.num_terms = self.num_terms, self.num_docs\r\n\r\nOverflowError: value too large to convert to int\r\n\r\ncat lsi_vectors.mm |wc -l\r\n2213498865\r\n\r\nhead lsi_vectors.mm\r\n%%MatrixMarket matrix coordinate real general\r\n4427006 500 2213498863                            \r\n1 1 0.3913027376444812\r\n1 2 -0.07658791716226626\r\n1 3 -0.020870794080588395\r\n1 4 0.2145833024464887\r\n1 5 0.16483779845897858\r\n1 6 -0.05127146459864627\r\n1 7 0.007765814982918945\r\n1 8 -0.01817635794795088\r\n\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1998/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1998/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1983", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1983/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1983/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1983/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/1983", "id": 306151139, "node_id": "MDU6SXNzdWUzMDYxNTExMzk=", "number": 1983, "title": "Word2Vec and Doc2Vec do not update word embeddings if `negative` keyword is set to 0", "user": {"login": "swierh", "id": 19287354, "node_id": "MDQ6VXNlcjE5Mjg3MzU0", "avatar_url": "https://avatars.githubusercontent.com/u/19287354?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swierh", "html_url": "https://github.com/swierh", "followers_url": "https://api.github.com/users/swierh/followers", "following_url": "https://api.github.com/users/swierh/following{/other_user}", "gists_url": "https://api.github.com/users/swierh/gists{/gist_id}", "starred_url": "https://api.github.com/users/swierh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swierh/subscriptions", "organizations_url": "https://api.github.com/users/swierh/orgs", "repos_url": "https://api.github.com/users/swierh/repos", "events_url": "https://api.github.com/users/swierh/events{/privacy}", "received_events_url": "https://api.github.com/users/swierh/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 175643, "node_id": "MDU6TGFiZWwxNzU2NDM=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/documentation", "name": "documentation", "color": "02d7e1", "default": true, "description": "Current issue related to documentation"}, {"id": 233081, "node_id": "MDU6TGFiZWwyMzMwODE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20easy", "name": "difficulty easy", "color": "00ff00", "default": false, "description": "Easy issue: required small fix"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2018-03-17T12:03:25Z", "updated_at": "2023-02-17T14:45:02Z", "closed_at": "2023-02-17T14:45:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Description\r\nSetting the `negative` keyword to `0` for Doc2Vec causes the training to not update word embeddings after the random initialisation.  \r\nThis happens silently and is behavior I wasn't expecting.\r\n\r\n#### Steps/Code/Corpus to Reproduce\r\n```python\r\nfrom sklearn.datasets import fetch_20newsgroups\r\nimport pandas as pd\r\nfrom gensim.models import Doc2Vec, Word2Vec\r\nfrom gensim.models.doc2vec import TaggedDocument\r\n\r\ndf = pd.DataFrame(fetch_20newsgroups().data)\r\ndf[0] = df[0].str.split(' ')\r\ndocuments = df.apply(lambda x: TaggedDocument(x[0], x.index), axis=1)\r\n\r\nmodel1a = Doc2Vec(documents, negative=1, epochs=1)\r\nmodel1b = Doc2Vec(documents, negative=0, epochs=1)\r\nmodel2a = Doc2Vec(documents, negative=1, epochs=2)\r\nmodel2b = Doc2Vec(documents, negative=0, epochs=2)\r\n\r\nprint('model1a:', model1a.wv.most_similar('test'))\r\nprint('model1b:', model1b.wv.most_similar('test'))\r\nprint('model2a:', model2a.wv.most_similar('test'))\r\nprint('model2b:', model2b.wv.most_similar('test'))\r\n\r\nmodel1a = Word2Vec(df[0], negative=1, iter=1)\r\nmodel1b = Word2Vec(df[0], negative=0, iter=1)\r\nmodel2a = Word2Vec(df[0], negative=1, iter=2)\r\nmodel2b = Word2Vec(df[0], negative=0, iter=2)\r\n\r\nprint('model1a:', model1a.most_similar('test'))\r\nprint('model1b:', model1b.most_similar('test'))\r\nprint('model2a:', model2a.most_similar('test'))\r\nprint('model2b:', model2b.most_similar('test'))\r\n```\r\n\r\n\r\n#### Results\r\nAs can be seen below, the results for the models that have a `negative=0` show the same results after 1 or 2 epochs of training, where the models with `negative=1` show different (and somewhat more sensible) results.\r\n_Doc2Vec_:\r\n```\r\nmodel1a:\r\n[('time', 0.9929366111755371),\r\n ('either', 0.9923557639122009),\r\n ('up', 0.9921339154243469),\r\n ('problem', 0.9915313720703125),\r\n ('being', 0.9915310144424438),\r\n ('getting', 0.991266131401062),\r\n ('group', 0.991013765335083),\r\n ('keeping', 0.9908334016799927),\r\n ('players', 0.9906938672065735),\r\n ('further', 0.9902615547180176)]\r\n \r\nmodel1b:\r\n[('518-393-7228', 0.4212157428264618),\r\n ('anyone?', 0.4167076647281647),\r\n ('it,', 0.3915032744407654),\r\n ('deliver', 0.3873376250267029),\r\n ('Books', 0.3643316328525543),\r\n ('stuck', 0.35024553537368774),\r\n (\"o'clock\", 0.34999915957450867),\r\n ('(Dostoevsky)', 0.34075409173965454),\r\n ('(Thyagi', 0.33959853649139404),\r\n ('MSDOS', 0.3370114862918854)]\r\n \r\nmodel2a:\r\n[('chip,', 0.9874706268310547),\r\n ('moves', 0.9828106164932251),\r\n ('board', 0.9789682626724243),\r\n ('adding', 0.978229820728302),\r\n ('express', 0.9764397144317627),\r\n ('sport', 0.9763677716255188),\r\n ('correctly', 0.9756811261177063),\r\n ('restricted', 0.9725382328033447),\r\n ('concern', 0.9719469547271729),\r\n ('user,', 0.9711147546768188)]\r\n \r\nmodel2b:\r\n[('518-393-7228', 0.4212157428264618),\r\n ('anyone?', 0.4167076647281647),\r\n ('it,', 0.3915032744407654),\r\n ('deliver', 0.3873376250267029),\r\n ('Books', 0.3643316328525543),\r\n ('stuck', 0.35024553537368774),\r\n (\"o'clock\", 0.34999915957450867),\r\n ('(Dostoevsky)', 0.34075409173965454),\r\n ('(Thyagi', 0.33959853649139404),\r\n ('MSDOS', 0.3370114862918854)]\r\n```\r\n\r\n_Word2Vec_:\r\n```\r\nmodel1a:\r\n[('moral', 0.9974657297134399),\r\n ('obvious', 0.9970457553863525),\r\n ('high', 0.9967347979545593),\r\n ('ago,', 0.9966593384742737),\r\n ('food', 0.9964239001274109),\r\n ('case,', 0.996358335018158),\r\n ('in,', 0.9963352084159851),\r\n ('problems', 0.996278703212738),\r\n ('doctor', 0.9962717890739441),\r\n ('kept', 0.9961578845977783)]\r\n\r\nmodel1b:\r\n[('Fulk)\\nSubject:', 0.43792209029197693),\r\n ('weak', 0.3926801085472107),\r\n ('Provine', 0.382274866104126),\r\n ('suspension,', 0.37375500798225403),\r\n ('kirsch@staff.tc.umn.edu', 0.3638245761394501),\r\n ('negligible', 0.3633933365345001),\r\n ('frozen', 0.36065810918807983),\r\n ('notch', 0.35705092549324036),\r\n ('_|_|_', 0.3445291221141815),\r\n ('(Grant', 0.3377472162246704)]\r\n\r\nmodel2a:\r\n[('motorcycle', 0.9882928729057312),\r\n ('grounds', 0.9797140955924988),\r\n ('charge', 0.977377712726593),\r\n ('goes', 0.9750747084617615),\r\n ('trip', 0.9731242060661316),\r\n ('mark', 0.9729797840118408),\r\n ('needed', 0.9718480706214905),\r\n ('directly', 0.9717421531677246),\r\n ('group,', 0.9714720845222473),\r\n ('store', 0.971139669418335)]\r\n\r\nmodel2b:\r\n[('Fulk)\\nSubject:', 0.43792209029197693),\r\n ('weak', 0.3926801085472107),\r\n ('Provine', 0.382274866104126),\r\n ('suspension,', 0.37375500798225403),\r\n ('kirsch@staff.tc.umn.edu', 0.3638245761394501),\r\n ('negligible', 0.3633933365345001),\r\n ('frozen', 0.36065810918807983),\r\n ('notch', 0.35705092549324036),\r\n ('_|_|_', 0.3445291221141815),\r\n ('(Grant', 0.3377472162246704)]\r\n```\r\n\r\n#### Logs during training\r\n##### Doc2Vec\r\n**model1a:**\r\n```2018-03-17 12:48:28,330 : INFO : collecting all words and their counts\r\n2018-03-17 12:48:28,331 : INFO : PROGRESS: at example #0, processed 0 words (0/s), 0 word types, 0 tags\r\n2018-03-17 12:48:28,966 : INFO : PROGRESS: at example #10000, processed 3198312 words (5044963/s), 390776 word types, 1 tags\r\n2018-03-17 12:48:29,049 : INFO : collected 427021 word types and 1 unique tags from a corpus of 11314 examples and 3593473 words\r\n2018-03-17 12:48:29,050 : INFO : Loading a fresh vocabulary\r\n2018-03-17 12:48:29,283 : INFO : min_count=5 retains 40708 unique words (9% of original 427021, drops 386313)\r\n2018-03-17 12:48:29,284 : INFO : min_count=5 leaves 3082977 word corpus (85% of original 3593473, drops 510496)\r\n2018-03-17 12:48:29,373 : INFO : deleting the raw counts dictionary of 427021 items\r\n2018-03-17 12:48:29,379 : INFO : sample=0.001 downsamples 32 most-common words\r\n2018-03-17 12:48:29,379 : INFO : downsampling leaves estimated 2056839 word corpus (66.7% of prior 3082977)\r\n2018-03-17 12:48:29,490 : INFO : estimated required memory for 40708 words and 100 dimensions: 52920800 bytes\r\n2018-03-17 12:48:29,490 : INFO : resetting layer weights\r\n2018-03-17 12:48:29,840 : INFO : training model with 3 workers on 40708 vocabulary and 100 features, using sg=0 hs=0 sample=0.001 negative=1 window=5\r\n2018-03-17 12:48:30,848 : INFO : EPOCH 1 - PROGRESS: at 56.44% examples, 1165806 words/s, in_qsize 5, out_qsize 0\r\n2018-03-17 12:48:31,587 : INFO : worker thread finished; awaiting finish of 2 more threads\r\n2018-03-17 12:48:31,588 : INFO : worker thread finished; awaiting finish of 1 more threads\r\n2018-03-17 12:48:31,594 : INFO : worker thread finished; awaiting finish of 0 more threads\r\n2018-03-17 12:48:31,595 : INFO : EPOCH - 1 : training on 3593473 raw words (2068258 effective words) took 1.8s, 1180569 effective words/s\r\n2018-03-17 12:48:31,595 : INFO : training on a 3593473 raw words (2068258 effective words) took 1.8s, 1178829 effective words/s\r\n```\r\n**model1b:**\r\n```\r\n2018-03-17 12:48:31,596 : INFO : collecting all words and their counts\r\n2018-03-17 12:48:31,597 : INFO : PROGRESS: at example #0, processed 0 words (0/s), 0 word types, 0 tags\r\n2018-03-17 12:48:32,172 : INFO : PROGRESS: at example #10000, processed 3198312 words (5569233/s), 390776 word types, 1 tags\r\n2018-03-17 12:48:32,252 : INFO : collected 427021 word types and 1 unique tags from a corpus of 11314 examples and 3593473 words\r\n2018-03-17 12:48:32,253 : INFO : Loading a fresh vocabulary\r\n2018-03-17 12:48:32,413 : INFO : min_count=5 retains 40708 unique words (9% of original 427021, drops 386313)\r\n2018-03-17 12:48:32,414 : INFO : min_count=5 leaves 3082977 word corpus (85% of original 3593473, drops 510496)\r\n2018-03-17 12:48:32,506 : INFO : deleting the raw counts dictionary of 427021 items\r\n2018-03-17 12:48:32,511 : INFO : sample=0.001 downsamples 32 most-common words\r\n2018-03-17 12:48:32,512 : INFO : downsampling leaves estimated 2056839 word corpus (66.7% of prior 3082977)\r\n2018-03-17 12:48:32,557 : INFO : estimated required memory for 40708 words and 100 dimensions: 36637600 bytes\r\n2018-03-17 12:48:32,557 : INFO : resetting layer weights\r\n2018-03-17 12:48:32,910 : INFO : training model with 3 workers on 40708 vocabulary and 100 features, using sg=0 hs=0 sample=0.001 negative=0 window=5\r\n2018-03-17 12:48:33,913 : INFO : EPOCH 1 - PROGRESS: at 66.48% examples, 1398264 words/s, in_qsize 5, out_qsize 0\r\n2018-03-17 12:48:34,396 : INFO : worker thread finished; awaiting finish of 2 more threads\r\n2018-03-17 12:48:34,403 : INFO : worker thread finished; awaiting finish of 1 more threads\r\n2018-03-17 12:48:34,409 : INFO : worker thread finished; awaiting finish of 0 more threads\r\n2018-03-17 12:48:34,412 : INFO : EPOCH - 1 : training on 3593473 raw words (2067706 effective words) took 1.5s, 1378469 effective words/s\r\n2018-03-17 12:48:34,412 : INFO : training on a 3593473 raw words (2067706 effective words) took 1.5s, 1376358 effective words/s\r\n```\r\n**model2a:**\r\n```\r\n2018-03-17 12:48:34,413 : INFO : collecting all words and their counts\r\n2018-03-17 12:48:34,415 : INFO : PROGRESS: at example #0, processed 0 words (0/s), 0 word types, 0 tags\r\n2018-03-17 12:48:35,073 : INFO : PROGRESS: at example #10000, processed 3198312 words (4869749/s), 390776 word types, 1 tags\r\n2018-03-17 12:48:35,152 : INFO : collected 427021 word types and 1 unique tags from a corpus of 11314 examples and 3593473 words\r\n2018-03-17 12:48:35,153 : INFO : Loading a fresh vocabulary\r\n2018-03-17 12:48:35,452 : INFO : min_count=5 retains 40708 unique words (9% of original 427021, drops 386313)\r\n2018-03-17 12:48:35,453 : INFO : min_count=5 leaves 3082977 word corpus (85% of original 3593473, drops 510496)\r\n2018-03-17 12:48:35,563 : INFO : deleting the raw counts dictionary of 427021 items\r\n2018-03-17 12:48:35,568 : INFO : sample=0.001 downsamples 32 most-common words\r\n2018-03-17 12:48:35,569 : INFO : downsampling leaves estimated 2056839 word corpus (66.7% of prior 3082977)\r\n2018-03-17 12:48:35,686 : INFO : estimated required memory for 40708 words and 100 dimensions: 52920800 bytes\r\n2018-03-17 12:48:35,687 : INFO : resetting layer weights\r\n2018-03-17 12:48:36,044 : INFO : training model with 3 workers on 40708 vocabulary and 100 features, using sg=0 hs=0 sample=0.001 negative=1 window=5\r\n2018-03-17 12:48:37,052 : INFO : EPOCH 1 - PROGRESS: at 42.69% examples, 886813 words/s, in_qsize 5, out_qsize 0\r\n2018-03-17 12:48:38,052 : INFO : EPOCH 1 - PROGRESS: at 98.46% examples, 1013776 words/s, in_qsize 5, out_qsize 0\r\n2018-03-17 12:48:38,090 : INFO : worker thread finished; awaiting finish of 2 more threads\r\n2018-03-17 12:48:38,091 : INFO : worker thread finished; awaiting finish of 1 more threads\r\n2018-03-17 12:48:38,102 : INFO : worker thread finished; awaiting finish of 0 more threads\r\n2018-03-17 12:48:38,102 : INFO : EPOCH - 1 : training on 3593473 raw words (2067777 effective words) took 2.1s, 1006127 effective words/s\r\n2018-03-17 12:48:39,107 : INFO : EPOCH 2 - PROGRESS: at 57.09% examples, 1186646 words/s, in_qsize 5, out_qsize 0\r\n2018-03-17 12:48:39,865 : INFO : worker thread finished; awaiting finish of 2 more threads\r\n2018-03-17 12:48:39,873 : INFO : worker thread finished; awaiting finish of 1 more threads\r\n2018-03-17 12:48:39,874 : INFO : worker thread finished; awaiting finish of 0 more threads\r\n2018-03-17 12:48:39,875 : INFO : EPOCH - 2 : training on 3593473 raw words (2067767 effective words) took 1.8s, 1168711 effective words/s\r\n2018-03-17 12:48:39,875 : INFO : training on a 7186946 raw words (4135544 effective words) took 3.8s, 1079693 effective words/s\r\n```\r\n**model2b:**\r\n```\r\n2018-03-17 12:48:39,876 : INFO : collecting all words and their counts\r\n2018-03-17 12:48:39,878 : INFO : PROGRESS: at example #0, processed 0 words (0/s), 0 word types, 0 tags\r\n2018-03-17 12:48:40,616 : INFO : PROGRESS: at example #10000, processed 3198312 words (4332917/s), 390776 word types, 1 tags\r\n2018-03-17 12:48:40,697 : INFO : collected 427021 word types and 1 unique tags from a corpus of 11314 examples and 3593473 words\r\n2018-03-17 12:48:40,698 : INFO : Loading a fresh vocabulary\r\n2018-03-17 12:48:40,982 : INFO : min_count=5 retains 40708 unique words (9% of original 427021, drops 386313)\r\n2018-03-17 12:48:40,985 : INFO : min_count=5 leaves 3082977 word corpus (85% of original 3593473, drops 510496)\r\n2018-03-17 12:48:41,106 : INFO : deleting the raw counts dictionary of 427021 items\r\n2018-03-17 12:48:41,111 : INFO : sample=0.001 downsamples 32 most-common words\r\n2018-03-17 12:48:41,112 : INFO : downsampling leaves estimated 2056839 word corpus (66.7% of prior 3082977)\r\n2018-03-17 12:48:41,156 : INFO : estimated required memory for 40708 words and 100 dimensions: 36637600 bytes\r\n2018-03-17 12:48:41,157 : INFO : resetting layer weights\r\n2018-03-17 12:48:41,517 : INFO : training model with 3 workers on 40708 vocabulary and 100 features, using sg=0 hs=0 sample=0.001 negative=0 window=5\r\n2018-03-17 12:48:42,525 : INFO : EPOCH 1 - PROGRESS: at 65.36% examples, 1362872 words/s, in_qsize 5, out_qsize 0\r\n2018-03-17 12:48:43,161 : INFO : worker thread finished; awaiting finish of 2 more threads\r\n2018-03-17 12:48:43,166 : INFO : worker thread finished; awaiting finish of 1 more threads\r\n2018-03-17 12:48:43,169 : INFO : worker thread finished; awaiting finish of 0 more threads\r\n2018-03-17 12:48:43,170 : INFO : EPOCH - 1 : training on 3593473 raw words (2067697 effective words) took 1.7s, 1252184 effective words/s\r\n2018-03-17 12:48:44,173 : INFO : EPOCH 2 - PROGRESS: at 55.19% examples, 1149188 words/s, in_qsize 5, out_qsize 0\r\n2018-03-17 12:48:44,820 : INFO : worker thread finished; awaiting finish of 2 more threads\r\n2018-03-17 12:48:44,825 : INFO : worker thread finished; awaiting finish of 1 more threads\r\n2018-03-17 12:48:44,828 : INFO : worker thread finished; awaiting finish of 0 more threads\r\n2018-03-17 12:48:44,829 : INFO : EPOCH - 2 : training on 3593473 raw words (2067746 effective words) took 1.7s, 1248269 effective words/s\r\n2018-03-17 12:48:44,829 : INFO : training on a 7186946 raw words (4135443 effective words) took 3.3s, 1248589 effective words/s\r\n```\r\n\r\n##### Word2Vec\r\n**model1a**:\r\n```\r\n2018-03-17 12:54:55,113 : INFO : collecting all words and their counts\r\n2018-03-17 12:54:55,114 : INFO : PROGRESS: at sentence #0, processed 0 words, keeping 0 word types\r\n2018-03-17 12:54:55,710 : INFO : PROGRESS: at sentence #10000, processed 3198312 words, keeping 390776 word types\r\n2018-03-17 12:54:55,789 : INFO : collected 427021 word types from a corpus of 3593473 raw words and 11314 sentences\r\n2018-03-17 12:54:55,789 : INFO : Loading a fresh vocabulary\r\n2018-03-17 12:54:55,943 : INFO : min_count=5 retains 40708 unique words (9% of original 427021, drops 386313)\r\n2018-03-17 12:54:55,943 : INFO : min_count=5 leaves 3082977 word corpus (85% of original 3593473, drops 510496)\r\n2018-03-17 12:54:56,036 : INFO : deleting the raw counts dictionary of 427021 items\r\n2018-03-17 12:54:56,041 : INFO : sample=0.001 downsamples 32 most-common words\r\n2018-03-17 12:54:56,042 : INFO : downsampling leaves estimated 2056839 word corpus (66.7% of prior 3082977)\r\n2018-03-17 12:54:56,154 : INFO : estimated required memory for 40708 words and 100 dimensions: 52920400 bytes\r\n2018-03-17 12:54:56,154 : INFO : resetting layer weights\r\n2018-03-17 12:54:56,501 : INFO : training model with 3 workers on 40708 vocabulary and 100 features, using sg=0 hs=0 sample=0.001 negative=1 window=5\r\n2018-03-17 12:54:57,505 : INFO : EPOCH 1 - PROGRESS: at 78.98% examples, 1626661 words/s, in_qsize 5, out_qsize 0\r\n2018-03-17 12:54:57,768 : INFO : worker thread finished; awaiting finish of 2 more threads\r\n2018-03-17 12:54:57,769 : INFO : worker thread finished; awaiting finish of 1 more threads\r\n2018-03-17 12:54:57,772 : INFO : worker thread finished; awaiting finish of 0 more threads\r\n2018-03-17 12:54:57,773 : INFO : EPOCH - 1 : training on 3593473 raw words (2056644 effective words) took 1.3s, 1620306 effective words/s\r\n2018-03-17 12:54:57,773 : INFO : training on a 3593473 raw words (2056644 effective words) took 1.3s, 1618042 effective words/s\r\n```\r\n**model1b**:\r\n```\r\n2018-03-17 12:54:57,780 : INFO : collecting all words and their counts\r\n2018-03-17 12:54:57,782 : INFO : PROGRESS: at sentence #0, processed 0 words, keeping 0 word types\r\n2018-03-17 12:54:58,335 : INFO : PROGRESS: at sentence #10000, processed 3198312 words, keeping 390776 word types\r\n2018-03-17 12:54:58,412 : INFO : collected 427021 word types from a corpus of 3593473 raw words and 11314 sentences\r\n2018-03-17 12:54:58,413 : INFO : Loading a fresh vocabulary\r\n2018-03-17 12:54:58,703 : INFO : min_count=5 retains 40708 unique words (9% of original 427021, drops 386313)\r\n2018-03-17 12:54:58,703 : INFO : min_count=5 leaves 3082977 word corpus (85% of original 3593473, drops 510496)\r\n2018-03-17 12:54:58,791 : INFO : deleting the raw counts dictionary of 427021 items\r\n2018-03-17 12:54:58,796 : INFO : sample=0.001 downsamples 32 most-common words\r\n2018-03-17 12:54:58,797 : INFO : downsampling leaves estimated 2056839 word corpus (66.7% of prior 3082977)\r\n2018-03-17 12:54:58,841 : INFO : estimated required memory for 40708 words and 100 dimensions: 36637200 bytes\r\n2018-03-17 12:54:58,842 : INFO : resetting layer weights\r\n2018-03-17 12:54:59,194 : INFO : training model with 3 workers on 40708 vocabulary and 100 features, using sg=0 hs=0 sample=0.001 negative=0 window=5\r\n2018-03-17 12:55:00,184 : INFO : worker thread finished; awaiting finish of 2 more threads\r\n2018-03-17 12:55:00,189 : INFO : worker thread finished; awaiting finish of 1 more threads\r\n2018-03-17 12:55:00,189 : INFO : worker thread finished; awaiting finish of 0 more threads\r\n2018-03-17 12:55:00,190 : INFO : EPOCH - 1 : training on 3593473 raw words (2057464 effective words) took 1.0s, 2069005 effective words/s\r\n2018-03-17 12:55:00,190 : INFO : training on a 3593473 raw words (2057464 effective words) took 1.0s, 2064908 effective words/s\r\n```\r\n**model2a**:\r\n```\r\n2018-03-17 12:55:00,198 : INFO : collecting all words and their counts\r\n2018-03-17 12:55:00,200 : INFO : PROGRESS: at sentence #0, processed 0 words, keeping 0 word types\r\n2018-03-17 12:55:00,760 : INFO : PROGRESS: at sentence #10000, processed 3198312 words, keeping 390776 word types\r\n2018-03-17 12:55:00,835 : INFO : collected 427021 word types from a corpus of 3593473 raw words and 11314 sentences\r\n2018-03-17 12:55:00,836 : INFO : Loading a fresh vocabulary\r\n2018-03-17 12:55:01,001 : INFO : min_count=5 retains 40708 unique words (9% of original 427021, drops 386313)\r\n2018-03-17 12:55:01,001 : INFO : min_count=5 leaves 3082977 word corpus (85% of original 3593473, drops 510496)\r\n2018-03-17 12:55:01,102 : INFO : deleting the raw counts dictionary of 427021 items\r\n2018-03-17 12:55:01,108 : INFO : sample=0.001 downsamples 32 most-common words\r\n2018-03-17 12:55:01,108 : INFO : downsampling leaves estimated 2056839 word corpus (66.7% of prior 3082977)\r\n2018-03-17 12:55:01,215 : INFO : estimated required memory for 40708 words and 100 dimensions: 52920400 bytes\r\n2018-03-17 12:55:01,215 : INFO : resetting layer weights\r\n2018-03-17 12:55:01,583 : INFO : training model with 3 workers on 40708 vocabulary and 100 features, using sg=0 hs=0 sample=0.001 negative=1 window=5\r\n2018-03-17 12:55:02,588 : INFO : EPOCH 1 - PROGRESS: at 70.71% examples, 1471948 words/s, in_qsize 5, out_qsize 0\r\n2018-03-17 12:55:02,957 : INFO : worker thread finished; awaiting finish of 2 more threads\r\n2018-03-17 12:55:02,958 : INFO : worker thread finished; awaiting finish of 1 more threads\r\n2018-03-17 12:55:02,960 : INFO : worker thread finished; awaiting finish of 0 more threads\r\n2018-03-17 12:55:02,961 : INFO : EPOCH - 1 : training on 3593473 raw words (2056026 effective words) took 1.4s, 1494852 effective words/s\r\n2018-03-17 12:55:03,970 : INFO : EPOCH 2 - PROGRESS: at 78.28% examples, 1614596 words/s, in_qsize 6, out_qsize 0\r\n2018-03-17 12:55:04,240 : INFO : worker thread finished; awaiting finish of 2 more threads\r\n2018-03-17 12:55:04,241 : INFO : worker thread finished; awaiting finish of 1 more threads\r\n2018-03-17 12:55:04,244 : INFO : worker thread finished; awaiting finish of 0 more threads\r\n2018-03-17 12:55:04,245 : INFO : EPOCH - 2 : training on 3593473 raw words (2057234 effective words) took 1.3s, 1611148 effective words/s\r\n2018-03-17 12:55:04,245 : INFO : training on a 7186946 raw words (4113260 effective words) took 2.7s, 1545423 effective words/s\r\n```\r\n**model2b**:\r\n```\r\n2018-03-17 12:55:04,255 : INFO : collecting all words and their counts\r\n2018-03-17 12:55:04,257 : INFO : PROGRESS: at sentence #0, processed 0 words, keeping 0 word types\r\n2018-03-17 12:55:04,810 : INFO : PROGRESS: at sentence #10000, processed 3198312 words, keeping 390776 word types\r\n2018-03-17 12:55:04,882 : INFO : collected 427021 word types from a corpus of 3593473 raw words and 11314 sentences\r\n2018-03-17 12:55:04,882 : INFO : Loading a fresh vocabulary\r\n2018-03-17 12:55:05,177 : INFO : min_count=5 retains 40708 unique words (9% of original 427021, drops 386313)\r\n2018-03-17 12:55:05,177 : INFO : min_count=5 leaves 3082977 word corpus (85% of original 3593473, drops 510496)\r\n2018-03-17 12:55:05,278 : INFO : deleting the raw counts dictionary of 427021 items\r\n2018-03-17 12:55:05,283 : INFO : sample=0.001 downsamples 32 most-common words\r\n2018-03-17 12:55:05,284 : INFO : downsampling leaves estimated 2056839 word corpus (66.7% of prior 3082977)\r\n2018-03-17 12:55:05,329 : INFO : estimated required memory for 40708 words and 100 dimensions: 36637200 bytes\r\n2018-03-17 12:55:05,329 : INFO : resetting layer weights\r\n2018-03-17 12:55:05,674 : INFO : training model with 3 workers on 40708 vocabulary and 100 features, using sg=0 hs=0 sample=0.001 negative=0 window=5\r\n2018-03-17 12:55:06,562 : INFO : worker thread finished; awaiting finish of 2 more threads\r\n2018-03-17 12:55:06,566 : INFO : worker thread finished; awaiting finish of 1 more threads\r\n2018-03-17 12:55:06,567 : INFO : worker thread finished; awaiting finish of 0 more threads\r\n2018-03-17 12:55:06,567 : INFO : EPOCH - 1 : training on 3593473 raw words (2056953 effective words) took 0.9s, 2308747 effective words/s\r\n2018-03-17 12:55:07,450 : INFO : worker thread finished; awaiting finish of 2 more threads\r\n2018-03-17 12:55:07,451 : INFO : worker thread finished; awaiting finish of 1 more threads\r\n2018-03-17 12:55:07,458 : INFO : worker thread finished; awaiting finish of 0 more threads\r\n2018-03-17 12:55:07,459 : INFO : EPOCH - 2 : training on 3593473 raw words (2056387 effective words) took 0.9s, 2313723 effective words/s\r\n2018-03-17 12:55:07,462 : INFO : training on a 7186946 raw words (4113340 effective words) took 1.8s, 2300980 effective words/s\r\n```\r\n\r\n#### Versions\r\n```\r\nPython 3.6.3 (default, Oct  3 2017, 21:45:48) \r\n[GCC 7.2.0]\r\nNumPy 1.14.1\r\nSciPy 1.0.0\r\ngensim 3.4.0\r\nFAST_VERSION 1\r\n```", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1983/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1983/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1977", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1977/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1977/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1977/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/1977", "id": 304760774, "node_id": "MDU6SXNzdWUzMDQ3NjA3NzQ=", "number": 1977, "title": "Trouble re-loading Doc2Vec Model Generated In earlier Version", "user": {"login": "fsfeng", "id": 10656568, "node_id": "MDQ6VXNlcjEwNjU2NTY4", "avatar_url": "https://avatars.githubusercontent.com/u/10656568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fsfeng", "html_url": "https://github.com/fsfeng", "followers_url": "https://api.github.com/users/fsfeng/followers", "following_url": "https://api.github.com/users/fsfeng/following{/other_user}", "gists_url": "https://api.github.com/users/fsfeng/gists{/gist_id}", "starred_url": "https://api.github.com/users/fsfeng/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fsfeng/subscriptions", "organizations_url": "https://api.github.com/users/fsfeng/orgs", "repos_url": "https://api.github.com/users/fsfeng/repos", "events_url": "https://api.github.com/users/fsfeng/events{/privacy}", "received_events_url": "https://api.github.com/users/fsfeng/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 234670, "node_id": "MDU6TGFiZWwyMzQ2NzA=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20medium", "name": "difficulty medium", "color": "00d000", "default": false, "description": "Medium issue: required good gensim understanding & python skills"}], "state": "closed", "locked": false, "assignee": {"login": "manneshiva", "id": 26998249, "node_id": "MDQ6VXNlcjI2OTk4MjQ5", "avatar_url": "https://avatars.githubusercontent.com/u/26998249?v=4", "gravatar_id": "", "url": "https://api.github.com/users/manneshiva", "html_url": "https://github.com/manneshiva", "followers_url": "https://api.github.com/users/manneshiva/followers", "following_url": "https://api.github.com/users/manneshiva/following{/other_user}", "gists_url": "https://api.github.com/users/manneshiva/gists{/gist_id}", "starred_url": "https://api.github.com/users/manneshiva/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/manneshiva/subscriptions", "organizations_url": "https://api.github.com/users/manneshiva/orgs", "repos_url": "https://api.github.com/users/manneshiva/repos", "events_url": "https://api.github.com/users/manneshiva/events{/privacy}", "received_events_url": "https://api.github.com/users/manneshiva/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "manneshiva", "id": 26998249, "node_id": "MDQ6VXNlcjI2OTk4MjQ5", "avatar_url": "https://avatars.githubusercontent.com/u/26998249?v=4", "gravatar_id": "", "url": "https://api.github.com/users/manneshiva", "html_url": "https://github.com/manneshiva", "followers_url": "https://api.github.com/users/manneshiva/followers", "following_url": "https://api.github.com/users/manneshiva/following{/other_user}", "gists_url": "https://api.github.com/users/manneshiva/gists{/gist_id}", "starred_url": "https://api.github.com/users/manneshiva/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/manneshiva/subscriptions", "organizations_url": "https://api.github.com/users/manneshiva/orgs", "repos_url": "https://api.github.com/users/manneshiva/repos", "events_url": "https://api.github.com/users/manneshiva/events{/privacy}", "received_events_url": "https://api.github.com/users/manneshiva/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 10, "created_at": "2018-03-13T13:18:17Z", "updated_at": "2018-04-12T03:59:05Z", "closed_at": "2018-04-12T03:59:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "I trained a Doc2Vec model in an earlier version of gensim and now can not load it. I tried both `Doc2Vec.load(fname)` and `Doc2Vec.load(fname, mmap = 'r')`. Both produce the same errors:\r\n\r\n`AttributeError: Can't get attribute 'DocvecsArray' on <module 'gensim.models.doc2vec' from 'DIR/python/miniconda3/lib/python3.6/site-packages/gensim/models/doc2vec.py'>`\r\n\r\n` AttributeError: 'Doc2Vec' object has no attribute 'running_training_loss'`\r\n\r\nAny help would be much appreciated. Thanks!\r\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1977/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1977/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1961", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1961/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1961/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1961/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/1961", "id": 303205951, "node_id": "MDU6SXNzdWUzMDMyMDU5NTE=", "number": 1961, "title": "similarity_matrix: unit tests not run", "user": {"login": "nataliedurgin", "id": 9994055, "node_id": "MDQ6VXNlcjk5OTQwNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/9994055?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nataliedurgin", "html_url": "https://github.com/nataliedurgin", "followers_url": "https://api.github.com/users/nataliedurgin/followers", "following_url": "https://api.github.com/users/nataliedurgin/following{/other_user}", "gists_url": "https://api.github.com/users/nataliedurgin/gists{/gist_id}", "starred_url": "https://api.github.com/users/nataliedurgin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nataliedurgin/subscriptions", "organizations_url": "https://api.github.com/users/nataliedurgin/orgs", "repos_url": "https://api.github.com/users/nataliedurgin/repos", "events_url": "https://api.github.com/users/nataliedurgin/events{/privacy}", "received_events_url": "https://api.github.com/users/nataliedurgin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 233081, "node_id": "MDU6TGFiZWwyMzMwODE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20easy", "name": "difficulty easy", "color": "00ff00", "default": false, "description": "Easy issue: required small fix"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-03-07T18:16:14Z", "updated_at": "2018-03-18T11:36:05Z", "closed_at": "2018-03-18T11:36:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\nIf your issue is a usage or a general question, please submit it here instead:\r\n- Mailing List: https://groups.google.com/forum/#!forum/gensim\r\nFor more information, see Recipes&FAQ: https://github.com/RaRe-Technologies/gensim/wiki/Recipes-&-FAQ\r\n-->\r\n\r\n<!-- Instructions For Filing a Bug: https://github.com/RaRe-Technologies/gensim/blob/develop/CONTRIBUTING.md -->\r\n\r\n#### Description\r\nThe unit tests for the gensim.models.keyedvectors similarity_matrix cannot currently be found and are not being run.\r\n\r\nhttps://github.com/RaRe-Technologies/gensim/blob/f9669bb8a0b5b4b45fa8ff58d951a11d3178116d/gensim/test/test_keyedvectors.py#L30\r\n\r\nFix is underway: \r\nhttps://github.com/nataliedurgin/gensim/commit/5bb6aea3a92b8e7ff7cecfca054a6057bb9b8fa8\r\n\r\n\r\n<!-- Thanks for contributing! -->\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1961/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1961/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1958", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1958/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1958/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1958/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/1958", "id": 303024784, "node_id": "MDU6SXNzdWUzMDMwMjQ3ODQ=", "number": 1958, "title": "gensim.scripts.word2vec2tensor TypeError: write() argument must be str, not bytes ", "user": {"login": "ttpro1995", "id": 7196876, "node_id": "MDQ6VXNlcjcxOTY4NzY=", "avatar_url": "https://avatars.githubusercontent.com/u/7196876?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ttpro1995", "html_url": "https://github.com/ttpro1995", "followers_url": "https://api.github.com/users/ttpro1995/followers", "following_url": "https://api.github.com/users/ttpro1995/following{/other_user}", "gists_url": "https://api.github.com/users/ttpro1995/gists{/gist_id}", "starred_url": "https://api.github.com/users/ttpro1995/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ttpro1995/subscriptions", "organizations_url": "https://api.github.com/users/ttpro1995/orgs", "repos_url": "https://api.github.com/users/ttpro1995/repos", "events_url": "https://api.github.com/users/ttpro1995/events{/privacy}", "received_events_url": "https://api.github.com/users/ttpro1995/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 233081, "node_id": "MDU6TGFiZWwyMzMwODE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20easy", "name": "difficulty easy", "color": "00ff00", "default": false, "description": "Easy issue: required small fix"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2018-03-07T09:33:25Z", "updated_at": "2018-08-14T01:53:42Z", "closed_at": "2018-08-14T01:53:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "Python environment\r\n\r\n```\r\nPython 3.6.4 |Anaconda, Inc.| (default, Jan 16 2018, 18:10:19) \r\n[GCC 7.2.0] on linux\r\n```\r\n\r\n\r\n**How I make article_body_w2v_300.txt**  \r\n\r\n```\r\nimport gensim\r\nfrom gensim.models import Word2Vec\r\nfrom gensim.models.word2vec import LineSentence\r\n\r\nsentences = LineSentence(\"./data/article_body_corpus.txt\")\r\n\r\nmodel = Word2Vec(sentences, size=300, window=5, min_count=5, workers=4)\r\n\r\nmodel.wv.save_word2vec_format(\"article_body_w2v_300.txt\", binary=False)\r\n```\r\n\r\n\r\n**Command I use to run gensim.scripts.word2vec2tensor** \r\n\r\n```\r\npython -m gensim.scripts.word2vec2tensor -i article_body_w2v_300.txt -o meow/\r\n```\r\n\r\nConsole output\r\n```\r\nword_embedding  python -m gensim.scripts.word2vec2tensor -i article_body_w2v_300.txt -o meow/\r\n2018-03-07 16:30:29,484 - word2vec2tensor - INFO - running /home/cpu11453local/anaconda3/envs/gensim/lib/python3.6/site-packages/gensim/scripts/word2vec2tensor.py -i article_body_w2v_300.txt -o meow/\r\n2018-03-07 16:30:29,484 - utils_any2vec - INFO - loading projection weights from article_body_w2v_300.txt\r\n2018-03-07 16:30:41,992 - utils_any2vec - INFO - loaded (56543, 300) matrix from article_body_w2v_300.txt\r\nTraceback (most recent call last):\r\n  File \"/home/cpu11453local/anaconda3/envs/gensim/lib/python3.6/runpy.py\", line 193, in _run_module_as_main\r\n    \"__main__\", mod_spec)\r\n  File \"/home/cpu11453local/anaconda3/envs/gensim/lib/python3.6/runpy.py\", line 85, in _run_code\r\n    exec(code, run_globals)\r\n  File \"/home/cpu11453local/anaconda3/envs/gensim/lib/python3.6/site-packages/gensim/scripts/word2vec2tensor.py\", line 93, in <module>\r\n    word2vec2tensor(args.input, args.output, args.binary)\r\n  File \"/home/cpu11453local/anaconda3/envs/gensim/lib/python3.6/site-packages/gensim/scripts/word2vec2tensor.py\", line 73, in word2vec2tensor\r\n    file_metadata.write(gensim.utils.to_utf8(word) + gensim.utils.to_utf8('\\n'))\r\nTypeError: write() argument must be str, not bytes\r\n\r\n```", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1958/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1958/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1955", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1955/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1955/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1955/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/1955", "id": 302413738, "node_id": "MDU6SXNzdWUzMDI0MTM3Mzg=", "number": 1955, "title": "SoftCosineSimilarity: Unexpected Behavior for Query Input", "user": {"login": "nataliedurgin", "id": 9994055, "node_id": "MDQ6VXNlcjk5OTQwNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/9994055?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nataliedurgin", "html_url": "https://github.com/nataliedurgin", "followers_url": "https://api.github.com/users/nataliedurgin/followers", "following_url": "https://api.github.com/users/nataliedurgin/following{/other_user}", "gists_url": "https://api.github.com/users/nataliedurgin/gists{/gist_id}", "starred_url": "https://api.github.com/users/nataliedurgin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nataliedurgin/subscriptions", "organizations_url": "https://api.github.com/users/nataliedurgin/orgs", "repos_url": "https://api.github.com/users/nataliedurgin/repos", "events_url": "https://api.github.com/users/nataliedurgin/events{/privacy}", "received_events_url": "https://api.github.com/users/nataliedurgin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 234670, "node_id": "MDU6TGFiZWwyMzQ2NzA=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20medium", "name": "difficulty medium", "color": "00d000", "default": false, "description": "Medium issue: required good gensim understanding & python skills"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 31, "created_at": "2018-03-05T18:39:00Z", "updated_at": "2018-04-01T08:49:40Z", "closed_at": "2018-03-12T06:06:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\nIf your issue is a usage or a general question, please submit it here instead:\r\n- Mailing List: https://groups.google.com/forum/#!forum/gensim\r\nFor more information, see Recipes&FAQ: https://github.com/RaRe-Technologies/gensim/wiki/Recipes-&-FAQ\r\n-->\r\n\r\n<!-- Instructions For Filing a Bug: https://github.com/RaRe-Technologies/gensim/blob/develop/CONTRIBUTING.md -->\r\n\r\n#### Description\r\nExpected SoftCosineSimilarity self[query] syntax to accept any iterable of list of (int, number) as indicated by: https://github.com/RaRe-Technologies/gensim/blob/f9669bb8a0b5b4b45fa8ff58d951a11d3178116d/gensim/similarities/docsim.py#L925\r\n\r\n#### Steps/Code/Corpus to Reproduce\r\n```\r\nimport scipy as sp\r\nimport gensim\r\n\r\n# import the common_corpus as a TextCorpus object\r\n# We assume common_corpus is a text file containing the lines:\r\n#\r\n# Human machine interface for lab abc computer applications\r\n# A survey of user opinion of computer system response time\r\n# The EPS user interface management system\r\n# System and human system engineering testing of EPS\r\n# Relation of user perceived response time to error measurement\r\n# The generation of random binary unordered trees\r\n# The intersection graph of paths in trees\r\n# Graph minors IV Widths of trees and well quasi ordering\r\n# Graph minors A survey\r\n\r\ncorpus = gensim.corpora.TextCorpus(input=\"path/common_corpus\")\r\ntfidf = gensim.models.TfidfModel(\r\n    corpus, id2word=corpus.dictionary, normalize=True)\r\n\r\n# Behavior of MatrixSimilarity\r\ncos_index = gensim.similarities.MatrixSimilarity(tfidf[corpus])\r\ncos_index[tfidf[corpus]]  # :)\r\n\r\n# Behavior of SoftCosineSimilarity\r\ndim = len(corpus.dictionary)\r\nM = sp.sparse.identity(dim).tocsc() # generate the identity matrix\r\nsoftcos_index = gensim.similarities.SoftCosineSimilarity(tfidf[corpus], M)\r\nsoftcos_index[tfidf[corpus]] # :(\r\nsoftcos_index[tfidf[[bow for bow in corpus]]] # :|\r\nsoftcos_index[[vec for vec in tfidf[corpus]]] # :|\r\n```\r\n\r\n\r\n#### Expected Results\r\nI believe that the TransformedCorpus tfidf[corpus] is an iterable of list of (int, number):\r\n```\r\nIn [248]: next(iter(tfidf[corpus]))\r\nOut[248]:\r\n[(0, 0.4500498962785324),\r\n (1, 0.4500498962785324),\r\n (2, 0.3080749612015952),\r\n (3, 0.3080749612015952),\r\n (4, 0.4500498962785324),\r\n (5, 0.4500498962785324)]\r\n```\r\nI would expect that to be taken as query input without incident. It seems that SoftCosineSimilarity was adapted from a copy of MatrixSimilarity and was meant to function in a similar spirit, however, they do not accept the same types of input. \r\n\r\n#### Actual Results\r\n```\r\nIn [249]: softcos_index[tfidf[corpus]]\r\n---------------------------------------------------------------------------\r\nRuntimeError                              Traceback (most recent call last)\r\n<ipython-input-249-2d8c4d759cc9> in <module>()\r\n----> 1 softcos_index[tfidf[corpus]]\r\n\r\n/Users/natalied/Projects/canonical_answers/.venv/lib/python2.7/site-packages/gensim/interfaces.pyc in __getitem__(self, query)\r\n    365                 else:\r\n    366                     query = matutils.unitvec(query)\r\n--> 367         result = self.get_similarities(query)\r\n    368\r\n    369         if self.num_best is None:\r\n\r\n/Users/natalied/Projects/canonical_answers/.venv/lib/python2.7/site-packages/gensim/similarities/docsim.pyc in get_similarities(self, query)\r\n    936             query = [self.corpus[i] for i in query]\r\n    937\r\n--> 938         if not query or not isinstance(query[0], list):\r\n    939             query = [query]\r\n    940\r\n\r\n/Users/natalied/Projects/canonical_answers/.venv/lib/python2.7/site-packages/gensim/interfaces.pyc in __getitem__(self, docno)\r\n    215             return self.obj[self.corpus[docno]]\r\n    216         else:\r\n--> 217             raise RuntimeError('Type {} does not support slicing.'.format(type(self.corpus)))\r\n    218\r\n    219\r\n\r\nRuntimeError: Type <class 'gensim.corpora.textcorpus.TextCorpus'> does not support slicing.\r\n```\r\n\r\n#### Possible Code Involved\r\nCompare the MatrixSimilarity get_similarities method: \r\nhttps://github.com/RaRe-Technologies/gensim/blob/f9669bb8a0b5b4b45fa8ff58d951a11d3178116d/gensim/similarities/docsim.py#L825\r\nwith the SoftCosineSimilarity get_similarities method:\r\nhttps://github.com/RaRe-Technologies/gensim/blob/f9669bb8a0b5b4b45fa8ff58d951a11d3178116d/gensim/similarities/docsim.py#L938\r\n\r\nAlso we may need to expand this test: \r\nhttps://github.com/RaRe-Technologies/gensim/blob/f9669bb8a0b5b4b45fa8ff58d951a11d3178116d/gensim/test/test_similarities.py#L377\r\n\r\n#### Versions\r\n```\r\nDarwin-15.6.0-x86_64-i386-64bit\r\n('Python', '2.7.13 (default, Apr  4 2017, 08:46:44) \\n[GCC 4.2.1 Compatible Apple LLVM 8.0.0 (clang-800.0.42.1)]')\r\n('NumPy', '1.14.1')\r\n('SciPy', '1.0.0')\r\n('gensim', '3.4.0')\r\n('FAST_VERSION', 0)\r\n```\r\n\r\n\r\n<!-- Thanks for contributing! -->\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1955/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1955/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1952", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1952/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1952/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1952/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/1952", "id": 302170608, "node_id": "MDU6SXNzdWUzMDIxNzA2MDg=", "number": 1952, "title": "AttributeError: 'DocvecsArray' object has no attribute 'vector_size'", "user": {"login": "JonathanHourany", "id": 12027634, "node_id": "MDQ6VXNlcjEyMDI3NjM0", "avatar_url": "https://avatars.githubusercontent.com/u/12027634?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JonathanHourany", "html_url": "https://github.com/JonathanHourany", "followers_url": "https://api.github.com/users/JonathanHourany/followers", "following_url": "https://api.github.com/users/JonathanHourany/following{/other_user}", "gists_url": "https://api.github.com/users/JonathanHourany/gists{/gist_id}", "starred_url": "https://api.github.com/users/JonathanHourany/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JonathanHourany/subscriptions", "organizations_url": "https://api.github.com/users/JonathanHourany/orgs", "repos_url": "https://api.github.com/users/JonathanHourany/repos", "events_url": "https://api.github.com/users/JonathanHourany/events{/privacy}", "received_events_url": "https://api.github.com/users/JonathanHourany/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 233081, "node_id": "MDU6TGFiZWwyMzMwODE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20easy", "name": "difficulty easy", "color": "00ff00", "default": false, "description": "Easy issue: required small fix"}], "state": "closed", "locked": false, "assignee": {"login": "manneshiva", "id": 26998249, "node_id": "MDQ6VXNlcjI2OTk4MjQ5", "avatar_url": "https://avatars.githubusercontent.com/u/26998249?v=4", "gravatar_id": "", "url": "https://api.github.com/users/manneshiva", "html_url": "https://github.com/manneshiva", "followers_url": "https://api.github.com/users/manneshiva/followers", "following_url": "https://api.github.com/users/manneshiva/following{/other_user}", "gists_url": "https://api.github.com/users/manneshiva/gists{/gist_id}", "starred_url": "https://api.github.com/users/manneshiva/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/manneshiva/subscriptions", "organizations_url": "https://api.github.com/users/manneshiva/orgs", "repos_url": "https://api.github.com/users/manneshiva/repos", "events_url": "https://api.github.com/users/manneshiva/events{/privacy}", "received_events_url": "https://api.github.com/users/manneshiva/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "manneshiva", "id": 26998249, "node_id": "MDQ6VXNlcjI2OTk4MjQ5", "avatar_url": "https://avatars.githubusercontent.com/u/26998249?v=4", "gravatar_id": "", "url": "https://api.github.com/users/manneshiva", "html_url": "https://github.com/manneshiva", "followers_url": "https://api.github.com/users/manneshiva/followers", "following_url": "https://api.github.com/users/manneshiva/following{/other_user}", "gists_url": "https://api.github.com/users/manneshiva/gists{/gist_id}", "starred_url": "https://api.github.com/users/manneshiva/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/manneshiva/subscriptions", "organizations_url": "https://api.github.com/users/manneshiva/orgs", "repos_url": "https://api.github.com/users/manneshiva/repos", "events_url": "https://api.github.com/users/manneshiva/events{/privacy}", "received_events_url": "https://api.github.com/users/manneshiva/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2018-03-05T04:47:12Z", "updated_at": "2018-03-12T06:47:13Z", "closed_at": "2018-03-12T06:47:13Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I have Doc2Vec models that were trained and saved before the Re-design \"*2vec\" implementations #1777 commit (specifically, they were trained in v3.2) . On trying to use them today, the above attribute error was raised when I tried to use `infer_vector`. This is because in gensim/models/doc2vec.py\", line 543, in infer_vector the line:\r\n\r\n```doctag_vectors, doctag_locks = self.trainables.get_doctag_trainables(doc_words, self.docvecs.vector_size)```\r\n\r\nAttempts to access `self.docvecs.vector_size`, which before version 3.4.0 is not an attribute of the DocVecsArray class.\r\n\r\n#### Steps to Reproduce\r\n```\r\nfrom gensim.models import Doc2Vec\r\n\r\nmodel = Doc2Vec.load('some-3.2-model/model')\r\nmodel.infer_vector(['foo'])\r\n\r\n---------------------------------------------------------------------------\r\nAttributeError                            Traceback (most recent call last)\r\n<ipython-input-13-851ff3602fcf> in <module>()\r\n----> 1 model.infer_vector(['foo'])\r\n\r\n~/anaconda2/envs/faker/lib/python3.6/site-packages/gensim/models/doc2vec.py in infer_vector(self, doc_words, alpha, min_alpha, steps)\r\n    541 \r\n    542         \"\"\"\r\n--> 543         doctag_vectors, doctag_locks = self.trainables.get_doctag_trainables(doc_words, self.docvecs.vector_size)\r\n    544         doctag_indexes = [0]\r\n    545         work = zeros(self.trainables.layer1_size, dtype=REAL)\r\n\r\nAttributeError: 'DocvecsArray' object has no attribute 'vector_size'\r\n```", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1952/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1952/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1940", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1940/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1940/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1940/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/1940", "id": 300895897, "node_id": "MDU6SXNzdWUzMDA4OTU4OTc=", "number": 1940, "title": "FastText native VS original, different outputs", "user": {"login": "menshikh-iv", "id": 15094669, "node_id": "MDQ6VXNlcjE1MDk0NjY5", "avatar_url": "https://avatars.githubusercontent.com/u/15094669?v=4", "gravatar_id": "", "url": "https://api.github.com/users/menshikh-iv", "html_url": "https://github.com/menshikh-iv", "followers_url": "https://api.github.com/users/menshikh-iv/followers", "following_url": "https://api.github.com/users/menshikh-iv/following{/other_user}", "gists_url": "https://api.github.com/users/menshikh-iv/gists{/gist_id}", "starred_url": "https://api.github.com/users/menshikh-iv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/menshikh-iv/subscriptions", "organizations_url": "https://api.github.com/users/menshikh-iv/orgs", "repos_url": "https://api.github.com/users/menshikh-iv/repos", "events_url": "https://api.github.com/users/menshikh-iv/events{/privacy}", "received_events_url": "https://api.github.com/users/menshikh-iv/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 234670, "node_id": "MDU6TGFiZWwyMzQ2NzA=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20medium", "name": "difficulty medium", "color": "00d000", "default": false, "description": "Medium issue: required good gensim understanding & python skills"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2018-02-28T05:24:26Z", "updated_at": "2018-08-28T20:45:04Z", "closed_at": "2018-03-01T15:17:39Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "## Intro\r\n\r\nAs the person mentioned in [mailing list](https://groups.google.com/forum/#!topic/gensim/zPp8vr4n8pI), he receives different result with a pre-trained model with gensim code & original facebook code.\r\n\r\n## How to reproduce\r\n1. Install Facebook FastText\r\n    ```bash\r\n    wget https://github.com/facebookresearch/fastText/archive/v0.1.0.zip\r\n    unzip v0.1.0.zip\r\n    cd fastText-0.1.0\r\n    make\r\n    ```\r\n2. Download pre-trained vectors from https://github.com/facebookresearch/fastText/blob/master/pretrained-vectors.md (I pick english, only as example), you need `bin+text` link\r\n3. Unpack archive with vectors\r\n4. Try to retreive vectors with gensim\r\n    ```python\r\n    from gensim.models import FastText\r\n\r\n    m = FastText.load_fasttext_format(\"wiki.en.vec\")\r\n    print(m[\"hello\"])  # existent word\r\n    print(m[\"someundefinedword\"])  # non-existent word\r\n5. Repeat it with original FastText implementation\r\n    ```bash\r\n    ./fasttext  print-word-vectors ../wiki.en.bin\r\n    hello\r\n    someundefinedword\r\n    ```\r\n6. Compare vectors from (5) and (6)\r\n\r\n### Expected Results\r\nVectors for \"hello\" and \"someundefinedword\" exactly same (from gensim & Facebook)\r\n\r\n### Actual result\r\nExactly same vectors for \"hello\", but different for \"someundefinedword\"\r\n\r\nCC: @manneshiva\r\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1940/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1940/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1937", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1937/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1937/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1937/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/1937", "id": 300603970, "node_id": "MDU6SXNzdWUzMDA2MDM5NzA=", "number": 1937, "title": "sklearn_api.d2vmodel.D2VTransformer uses deprecated arguments size and iter", "user": {"login": "swierh", "id": 19287354, "node_id": "MDQ6VXNlcjE5Mjg3MzU0", "avatar_url": "https://avatars.githubusercontent.com/u/19287354?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swierh", "html_url": "https://github.com/swierh", "followers_url": "https://api.github.com/users/swierh/followers", "following_url": "https://api.github.com/users/swierh/following{/other_user}", "gists_url": "https://api.github.com/users/swierh/gists{/gist_id}", "starred_url": "https://api.github.com/users/swierh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swierh/subscriptions", "organizations_url": "https://api.github.com/users/swierh/orgs", "repos_url": "https://api.github.com/users/swierh/repos", "events_url": "https://api.github.com/users/swierh/events{/privacy}", "received_events_url": "https://api.github.com/users/swierh/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 233081, "node_id": "MDU6TGFiZWwyMzMwODE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20easy", "name": "difficulty easy", "color": "00ff00", "default": false, "description": "Easy issue: required small fix"}, {"id": 721000065, "node_id": "MDU6TGFiZWw3MjEwMDAwNjU=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/good%20first%20issue", "name": "good first issue", "color": "7057ff", "default": true, "description": "Issue for new contributors (not required gensim understanding + very simple)"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-02-27T12:05:07Z", "updated_at": "2018-03-12T09:02:17Z", "closed_at": "2018-03-12T09:02:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Description\r\nThe D2VTransformer in `sklearn_api.d2vmodel` uses the deprecated arguments `size` instead of `vector_size` and `iter` instead of `epochs`. According to the warnings this will be breaking in version 4.0.0.\r\n\r\n#### Code to Reproduce\r\n```\r\nfrom gensim.sklearn_api.d2vmodel import D2VTransformer\r\nfrom gensim.models.doc2vec import TaggedDocument\r\nd2v = D2VTransformer(size=1, iter=1).fit([TaggedDocument(['a','a','a','a','a'], [0])]) # gives warnings\r\nd2v = D2VTransformer(vector_size=1, epochs=1).fit([TaggedDocument(['a','a','a','a','a'], [0])]) #gives errors\r\n```\r\n\r\n#### Resulting warnings and errors:\r\n```\r\n/lib/python3.6/site-packages/gensim/models/doc2vec.py:355: UserWarning: The parameter `iter` is deprecated, will be removed in 4.0.0, use `epochs` instead.\r\n  warnings.warn(\"The parameter `iter` is deprecated, will be removed in 4.0.0, use `epochs` instead.\")\r\n/lib/python3.6/site-packages/gensim/models/doc2vec.py:359: UserWarning: The parameter `size` is deprecated, will be removed in 4.0.0, use `vector_size` instead.\r\n  warnings.warn(\"The parameter `size` is deprecated, will be removed in 4.0.0, use `vector_size` instead.\")\r\n---------------------------------------------------------------------------\r\nTypeError                                 Traceback (most recent call last)\r\n<ipython-input-108-561949d569bd> in <module>()\r\n      2 from gensim.models.doc2vec import TaggedDocument\r\n      3 d2v = D2VTransformer(size=1, iter=1).fit([TaggedDocument(['a','a','a','a','a'], [0])])\r\n----> 4 d2v = D2VTransformer(vector_size=1, epochs=1).fit([TaggedDocument(['a','a','a','a','a'], [0])])\r\n\r\nTypeError: __init__() got an unexpected keyword argument 'vector_size'\r\n```\r\n\r\n#### Versions\r\n```\r\nLinux-4.13.0-36-generic-x86_64-with-Ubuntu-17.10-artful\r\nPython 3.6.3 (default, Oct  3 2017, 21:45:48) \r\n[GCC 7.2.0]\r\nNumPy 1.14.1\r\nSciPy 1.0.0\r\ngensim 3.3.0\r\nFAST_VERSION 1\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1937/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1937/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1917", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1917/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1917/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1917/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/1917", "id": 298522920, "node_id": "MDU6SXNzdWUyOTg1MjI5MjA=", "number": 1917, "title": "Poincare training bug", "user": {"login": "menshikh-iv", "id": 15094669, "node_id": "MDQ6VXNlcjE1MDk0NjY5", "avatar_url": "https://avatars.githubusercontent.com/u/15094669?v=4", "gravatar_id": "", "url": "https://api.github.com/users/menshikh-iv", "html_url": "https://github.com/menshikh-iv", "followers_url": "https://api.github.com/users/menshikh-iv/followers", "following_url": "https://api.github.com/users/menshikh-iv/following{/other_user}", "gists_url": "https://api.github.com/users/menshikh-iv/gists{/gist_id}", "starred_url": "https://api.github.com/users/menshikh-iv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/menshikh-iv/subscriptions", "organizations_url": "https://api.github.com/users/menshikh-iv/orgs", "repos_url": "https://api.github.com/users/menshikh-iv/repos", "events_url": "https://api.github.com/users/menshikh-iv/events{/privacy}", "received_events_url": "https://api.github.com/users/menshikh-iv/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 234670, "node_id": "MDU6TGFiZWwyMzQ2NzA=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20medium", "name": "difficulty medium", "color": "00d000", "default": false, "description": "Medium issue: required good gensim understanding & python skills"}], "state": "closed", "locked": false, "assignee": {"login": "jayantj", "id": 1329532, "node_id": "MDQ6VXNlcjEzMjk1MzI=", "avatar_url": "https://avatars.githubusercontent.com/u/1329532?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jayantj", "html_url": "https://github.com/jayantj", "followers_url": "https://api.github.com/users/jayantj/followers", "following_url": "https://api.github.com/users/jayantj/following{/other_user}", "gists_url": "https://api.github.com/users/jayantj/gists{/gist_id}", "starred_url": "https://api.github.com/users/jayantj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jayantj/subscriptions", "organizations_url": "https://api.github.com/users/jayantj/orgs", "repos_url": "https://api.github.com/users/jayantj/repos", "events_url": "https://api.github.com/users/jayantj/events{/privacy}", "received_events_url": "https://api.github.com/users/jayantj/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jayantj", "id": 1329532, "node_id": "MDQ6VXNlcjEzMjk1MzI=", "avatar_url": "https://avatars.githubusercontent.com/u/1329532?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jayantj", "html_url": "https://github.com/jayantj", "followers_url": "https://api.github.com/users/jayantj/followers", "following_url": "https://api.github.com/users/jayantj/following{/other_user}", "gists_url": "https://api.github.com/users/jayantj/gists{/gist_id}", "starred_url": "https://api.github.com/users/jayantj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jayantj/subscriptions", "organizations_url": "https://api.github.com/users/jayantj/orgs", "repos_url": "https://api.github.com/users/jayantj/repos", "events_url": "https://api.github.com/users/jayantj/events{/privacy}", "received_events_url": "https://api.github.com/users/jayantj/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2018-02-20T09:27:07Z", "updated_at": "2018-03-14T13:27:08Z", "closed_at": "2018-03-14T13:27:08Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Description\r\nI trained Poincare model on wiki graph and receive this exception\r\n\r\n\r\n#### Steps/Code/Corpus to Reproduce\r\nI have no good example for reproducing, but what I exactly did\r\n\r\n```python\r\nfrom gensim.models.poincare import PoincareModel\r\nimport logging\r\nimport json\r\nfrom tqdm import tqdm\r\nfrom smart_open import smart_open\r\n\r\nlogging.basicConfig(level=logging.INFO, format='%(asctime)s - %(message)s')\r\n\r\nclass WikiGraphReader(object):\r\n    def __init__(self, pth):\r\n        self.pth = pth\r\n        \r\n    def __iter__(self):\r\n        with smart_open(self.pth, 'r') as infile:\r\n            for row in tqdm(infile):\r\n                row = json.loads(row)\r\n                src = row[\"s\"]\r\n\r\n                for dst in row[\"d\"]:\r\n                    yield (src, dst)\r\n         \r\ncorpus = WikiGraphReader(\"edges.jsonl.gz\")\r\nmodel = PoincareModel(corpus)\r\nmodel.train(epochs=1, batch_size=1000)  # all fine, trained successfully\r\nmodel.save(\"poincare-1ep-wiki.model\")\r\nmodel.train(epochs=1, batch_size=1000)  # exception from here line\r\nmodel.save(\"p_model/poincare-1.5ep-wiki.model\")  # I saved this model too\r\n```\r\n\r\nFull stack trace from second `model.train(epochs=1, batch_size=1000)`\r\n```\r\n2018-02-05 10:49:58,008 - training model of size 50 with 1 workers on 128138847 relations for 1 epochs and 10 burn-in epochs, using lr=0.01000 burn-in lr=0.01000 negative=10\r\n2018-02-05 10:49:58,010 - Starting burn-in (10 epochs)----------------------------------------\r\n2018-02-05 10:56:51,400 - Training on epoch 1, examples #999000-#1000000, loss: 2188.85\r\n2018-02-05 10:56:51,404 - Time taken for 1000000 examples: 329.60 s, 3033.98 examples / s\r\n2018-02-05 11:01:44,625 - Training on epoch 1, examples #1999000-#2000000, loss: 2187.71\r\n2018-02-05 11:01:44,627 - Time taken for 1000000 examples: 293.22 s, 3410.41 examples / s\r\n2018-02-05 11:06:38,729 - Training on epoch 1, examples #2999000-#3000000, loss: 2186.41\r\n2018-02-05 11:06:38,731 - Time taken for 1000000 examples: 294.10 s, 3400.18 examples / s\r\n2018-02-05 11:11:28,291 - Training on epoch 1, examples #3999000-#4000000, loss: 2185.42\r\n2018-02-05 11:11:28,293 - Time taken for 1000000 examples: 289.56 s, 3453.52 examples / s\r\n2018-02-05 11:16:16,831 - Training on epoch 1, examples #4999000-#5000000, loss: 2184.04\r\n2018-02-05 11:16:16,833 - Time taken for 1000000 examples: 288.54 s, 3465.75 examples / s\r\n2018-02-05 11:21:06,625 - Training on epoch 1, examples #5999000-#6000000, loss: 2182.88\r\n2018-02-05 11:21:06,630 - Time taken for 1000000 examples: 289.79 s, 3450.75 examples / s\r\n2018-02-05 11:26:55,483 - Training on epoch 1, examples #6999000-#7000000, loss: 2181.47\r\n2018-02-05 11:26:55,484 - Time taken for 1000000 examples: 348.85 s, 2866.54 examples / s\r\n2018-02-05 11:31:45,830 - Training on epoch 1, examples #7999000-#8000000, loss: 2180.34\r\n2018-02-05 11:31:45,839 - Time taken for 1000000 examples: 290.34 s, 3444.18 examples / s\r\n2018-02-05 11:36:30,690 - Training on epoch 1, examples #8999000-#9000000, loss: 2179.56\r\n2018-02-05 11:36:30,692 - Time taken for 1000000 examples: 284.85 s, 3510.62 examples / s\r\n2018-02-05 11:41:15,313 - Training on epoch 1, examples #9999000-#10000000, loss: 2178.03\r\n2018-02-05 11:41:15,315 - Time taken for 1000000 examples: 284.62 s, 3513.45 examples / s\r\n2018-02-05 11:46:00,357 - Training on epoch 1, examples #10999000-#11000000, loss: 2177.52\r\n2018-02-05 11:46:00,358 - Time taken for 1000000 examples: 285.04 s, 3508.26 examples / s\r\n2018-02-05 11:50:48,905 - Training on epoch 1, examples #11999000-#12000000, loss: 2175.87\r\n2018-02-05 11:50:48,910 - Time taken for 1000000 examples: 288.55 s, 3465.64 examples / s\r\n2018-02-05 11:55:35,918 - Training on epoch 1, examples #12999000-#13000000, loss: 2174.76\r\n2018-02-05 11:55:35,919 - Time taken for 1000000 examples: 287.01 s, 3484.23 examples / s\r\n2018-02-05 12:00:24,240 - Training on epoch 1, examples #13999000-#14000000, loss: 2173.49\r\n2018-02-05 12:00:24,242 - Time taken for 1000000 examples: 288.32 s, 3468.36 examples / s\r\n2018-02-05 12:05:07,573 - Training on epoch 1, examples #14999000-#15000000, loss: 2172.35\r\n2018-02-05 12:05:07,574 - Time taken for 1000000 examples: 283.33 s, 3529.45 examples / s\r\n2018-02-05 12:09:52,164 - Training on epoch 1, examples #15999000-#16000000, loss: 2171.20\r\n2018-02-05 12:09:52,165 - Time taken for 1000000 examples: 284.59 s, 3513.83 examples / s\r\n2018-02-05 12:14:41,436 - Training on epoch 1, examples #16999000-#17000000, loss: 2170.33\r\n2018-02-05 12:14:41,438 - Time taken for 1000000 examples: 289.27 s, 3456.97 examples / s\r\n2018-02-05 12:19:34,138 - Training on epoch 1, examples #17999000-#18000000, loss: 2169.56\r\n2018-02-05 12:19:34,142 - Time taken for 1000000 examples: 292.70 s, 3416.47 examples / s\r\n2018-02-05 12:24:27,812 - Training on epoch 1, examples #18999000-#19000000, loss: 2168.17\r\n2018-02-05 12:24:27,814 - Time taken for 1000000 examples: 293.67 s, 3405.19 examples / s\r\n2018-02-05 12:29:15,083 - Training on epoch 1, examples #19999000-#20000000, loss: 2167.16\r\n2018-02-05 12:29:15,085 - Time taken for 1000000 examples: 287.27 s, 3481.06 examples / s\r\n2018-02-05 12:34:03,589 - Training on epoch 1, examples #20999000-#21000000, loss: 2165.85\r\n2018-02-05 12:34:03,590 - Time taken for 1000000 examples: 288.50 s, 3466.17 examples / s\r\n2018-02-05 12:38:50,770 - Training on epoch 1, examples #21999000-#22000000, loss: 2164.89\r\n2018-02-05 12:38:50,772 - Time taken for 1000000 examples: 287.18 s, 3482.14 examples / s\r\n2018-02-05 12:43:41,125 - Training on epoch 1, examples #22999000-#23000000, loss: 2163.63\r\n2018-02-05 12:43:41,129 - Time taken for 1000000 examples: 290.35 s, 3444.09 examples / s\r\n2018-02-05 12:48:27,127 - Training on epoch 1, examples #23999000-#24000000, loss: 2162.46\r\n2018-02-05 12:48:27,129 - Time taken for 1000000 examples: 286.00 s, 3496.53 examples / s\r\n2018-02-05 12:53:17,683 - Training on epoch 1, examples #24999000-#25000000, loss: 2161.23\r\n2018-02-05 12:53:17,684 - Time taken for 1000000 examples: 290.55 s, 3441.71 examples / s\r\n2018-02-05 12:58:02,880 - Training on epoch 1, examples #25999000-#26000000, loss: 2160.17\r\n2018-02-05 12:58:02,881 - Time taken for 1000000 examples: 285.20 s, 3506.37 examples / s\r\n2018-02-05 13:02:47,177 - Training on epoch 1, examples #26999000-#27000000, loss: 2158.66\r\n2018-02-05 13:02:47,179 - Time taken for 1000000 examples: 284.30 s, 3517.46 examples / s\r\n2018-02-05 13:07:31,441 - Training on epoch 1, examples #27999000-#28000000, loss: 2157.93\r\n2018-02-05 13:07:31,442 - Time taken for 1000000 examples: 284.26 s, 3517.89 examples / s\r\n2018-02-05 13:12:20,000 - Training on epoch 1, examples #28999000-#29000000, loss: 2156.97\r\n2018-02-05 13:12:20,004 - Time taken for 1000000 examples: 288.56 s, 3465.52 examples / s\r\n2018-02-05 13:17:06,050 - Training on epoch 1, examples #29999000-#30000000, loss: 2155.66\r\n2018-02-05 13:17:06,051 - Time taken for 1000000 examples: 286.04 s, 3495.96 examples / s\r\n2018-02-05 13:21:56,627 - Training on epoch 1, examples #30999000-#31000000, loss: 2154.42\r\n2018-02-05 13:21:56,628 - Time taken for 1000000 examples: 290.58 s, 3441.45 examples / s\r\n2018-02-05 13:26:41,004 - Training on epoch 1, examples #31999000-#32000000, loss: 2153.39\r\n2018-02-05 13:26:41,005 - Time taken for 1000000 examples: 284.37 s, 3516.49 examples / s\r\n2018-02-05 13:31:26,601 - Training on epoch 1, examples #32999000-#33000000, loss: 2152.29\r\n2018-02-05 13:31:26,603 - Time taken for 1000000 examples: 285.59 s, 3501.49 examples / s\r\n2018-02-05 13:36:11,844 - Training on epoch 1, examples #33999000-#34000000, loss: 2151.36\r\n2018-02-05 13:36:11,845 - Time taken for 1000000 examples: 285.24 s, 3505.82 examples / s\r\n2018-02-05 13:41:08,003 - Training on epoch 1, examples #34999000-#35000000, loss: 2150.06\r\n2018-02-05 13:41:08,008 - Time taken for 1000000 examples: 296.16 s, 3376.58 examples / s\r\n2018-02-05 13:45:59,593 - Training on epoch 1, examples #35999000-#36000000, loss: 2149.02\r\n2018-02-05 13:45:59,594 - Time taken for 1000000 examples: 291.58 s, 3429.54 examples / s\r\n2018-02-05 13:50:52,455 - Training on epoch 1, examples #36999000-#37000000, loss: 2148.05\r\n2018-02-05 13:50:52,457 - Time taken for 1000000 examples: 292.86 s, 3414.59 examples / s\r\n2018-02-05 13:55:42,711 - Training on epoch 1, examples #37999000-#38000000, loss: 2146.37\r\n2018-02-05 13:55:42,712 - Time taken for 1000000 examples: 290.25 s, 3445.26 examples / s\r\n2018-02-05 14:00:31,112 - Training on epoch 1, examples #38999000-#39000000, loss: 2145.71\r\n2018-02-05 14:00:31,113 - Time taken for 1000000 examples: 288.40 s, 3467.42 examples / s\r\n2018-02-05 14:05:18,087 - Training on epoch 1, examples #39999000-#40000000, loss: 2144.32\r\n2018-02-05 14:05:18,088 - Time taken for 1000000 examples: 286.97 s, 3484.65 examples / s\r\n2018-02-05 14:10:08,383 - Training on epoch 1, examples #40999000-#41000000, loss: 2143.63\r\n2018-02-05 14:10:08,388 - Time taken for 1000000 examples: 290.29 s, 3444.78 examples / s\r\n2018-02-05 14:15:01,954 - Training on epoch 1, examples #41999000-#42000000, loss: 2142.36\r\n2018-02-05 14:15:01,955 - Time taken for 1000000 examples: 293.57 s, 3406.40 examples / s\r\n2018-02-05 14:19:58,021 - Training on epoch 1, examples #42999000-#43000000, loss: 2141.21\r\n2018-02-05 14:19:58,023 - Time taken for 1000000 examples: 296.07 s, 3377.63 examples / s\r\n2018-02-05 14:24:43,944 - Training on epoch 1, examples #43999000-#44000000, loss: 2140.30\r\n2018-02-05 14:24:43,945 - Time taken for 1000000 examples: 285.92 s, 3497.48 examples / s\r\n2018-02-05 14:29:36,938 - Training on epoch 1, examples #44999000-#45000000, loss: 2138.98\r\n2018-02-05 14:29:36,939 - Time taken for 1000000 examples: 292.99 s, 3413.06 examples / s\r\n2018-02-05 14:34:31,522 - Training on epoch 1, examples #45999000-#46000000, loss: 2137.78\r\n2018-02-05 14:34:31,523 - Time taken for 1000000 examples: 294.58 s, 3394.64 examples / s\r\n2018-02-05 14:39:24,775 - Training on epoch 1, examples #46999000-#47000000, loss: 2136.79\r\n2018-02-05 14:39:24,780 - Time taken for 1000000 examples: 293.25 s, 3410.04 examples / s\r\n2018-02-05 14:44:15,172 - Training on epoch 1, examples #47999000-#48000000, loss: 2135.49\r\n2018-02-05 14:44:15,174 - Time taken for 1000000 examples: 290.39 s, 3443.62 examples / s\r\n2018-02-05 14:49:07,628 - Training on epoch 1, examples #48999000-#49000000, loss: 2135.08\r\n2018-02-05 14:49:07,630 - Time taken for 1000000 examples: 292.45 s, 3419.34 examples / s\r\n2018-02-05 14:53:51,284 - Training on epoch 1, examples #49999000-#50000000, loss: 2133.45\r\n2018-02-05 14:53:51,285 - Time taken for 1000000 examples: 283.65 s, 3525.43 examples / s\r\n2018-02-05 14:58:39,403 - Training on epoch 1, examples #50999000-#51000000, loss: 2132.59\r\n2018-02-05 14:58:39,404 - Time taken for 1000000 examples: 288.12 s, 3470.81 examples / s\r\n2018-02-05 15:03:27,455 - Training on epoch 1, examples #51999000-#52000000, loss: 2131.60\r\n2018-02-05 15:03:27,456 - Time taken for 1000000 examples: 288.05 s, 3471.65 examples / s\r\n2018-02-05 15:08:19,622 - Training on epoch 1, examples #52999000-#53000000, loss: 2130.17\r\n2018-02-05 15:08:19,627 - Time taken for 1000000 examples: 292.17 s, 3422.71 examples / s\r\n2018-02-05 15:13:12,975 - Training on epoch 1, examples #53999000-#54000000, loss: 2129.34\r\n2018-02-05 15:13:12,976 - Time taken for 1000000 examples: 293.35 s, 3408.92 examples / s\r\n2018-02-05 15:18:01,815 - Training on epoch 1, examples #54999000-#55000000, loss: 2128.32\r\n2018-02-05 15:18:01,816 - Time taken for 1000000 examples: 288.84 s, 3462.15 examples / s\r\n2018-02-05 15:22:45,226 - Training on epoch 1, examples #55999000-#56000000, loss: 2126.67\r\n2018-02-05 15:22:45,227 - Time taken for 1000000 examples: 283.41 s, 3528.47 examples / s\r\n2018-02-05 15:27:31,026 - Training on epoch 1, examples #56999000-#57000000, loss: 2126.11\r\n2018-02-05 15:27:31,027 - Time taken for 1000000 examples: 285.79 s, 3499.01 examples / s\r\n2018-02-05 15:32:19,805 - Training on epoch 1, examples #57999000-#58000000, loss: 2125.11\r\n2018-02-05 15:32:19,807 - Time taken for 1000000 examples: 288.77 s, 3462.90 examples / s\r\n2018-02-05 15:37:11,024 - Training on epoch 1, examples #58999000-#59000000, loss: 2123.99\r\n2018-02-05 15:37:11,028 - Time taken for 1000000 examples: 291.22 s, 3433.87 examples / s\r\n2018-02-05 15:42:06,631 - Training on epoch 1, examples #59999000-#60000000, loss: 2123.01\r\n2018-02-05 15:42:06,632 - Time taken for 1000000 examples: 295.60 s, 3382.92 examples / s\r\n2018-02-05 15:46:54,707 - Training on epoch 1, examples #60999000-#61000000, loss: 2121.46\r\n2018-02-05 15:46:54,709 - Time taken for 1000000 examples: 288.07 s, 3471.33 examples / s\r\n2018-02-05 15:51:42,019 - Training on epoch 1, examples #61999000-#62000000, loss: 2120.72\r\n2018-02-05 15:51:42,021 - Time taken for 1000000 examples: 287.31 s, 3480.57 examples / s\r\n2018-02-05 15:56:29,973 - Training on epoch 1, examples #62999000-#63000000, loss: 2119.82\r\n2018-02-05 15:56:29,974 - Time taken for 1000000 examples: 287.95 s, 3472.81 examples / s\r\n2018-02-05 16:01:22,243 - Training on epoch 1, examples #63999000-#64000000, loss: 2118.50\r\n2018-02-05 16:01:22,247 - Time taken for 1000000 examples: 292.27 s, 3421.52 examples / s\r\n2018-02-05 16:06:09,893 - Training on epoch 1, examples #64999000-#65000000, loss: 2117.51\r\n2018-02-05 16:06:09,894 - Time taken for 1000000 examples: 287.64 s, 3476.51 examples / s\r\n2018-02-05 16:11:00,706 - Training on epoch 1, examples #65999000-#66000000, loss: 2116.77\r\n2018-02-05 16:11:00,707 - Time taken for 1000000 examples: 290.81 s, 3438.66 examples / s\r\n2018-02-05 16:15:46,906 - Training on epoch 1, examples #66999000-#67000000, loss: 2115.44\r\n2018-02-05 16:15:46,908 - Time taken for 1000000 examples: 286.20 s, 3494.08 examples / s\r\n2018-02-05 16:20:32,582 - Training on epoch 1, examples #67999000-#68000000, loss: 2114.07\r\n2018-02-05 16:20:32,584 - Time taken for 1000000 examples: 285.67 s, 3500.49 examples / s\r\n2018-02-05 16:25:18,195 - Training on epoch 1, examples #68999000-#69000000, loss: 2113.42\r\n2018-02-05 16:25:18,197 - Time taken for 1000000 examples: 285.61 s, 3501.27 examples / s\r\n---------------------------------------------------------------------------\r\nIndexError                                Traceback (most recent call last)\r\n<ipython-input-15-50d51e10cfa2> in <module>()\r\n----> 1 model.train(epochs=1, batch_size=1000)\r\n\r\n~/.virtualenvs/wiki-graph/lib/python3.5/site-packages/gensim/models/poincare.py in train(self, epochs, batch_size, print_every, check_gradients_every)\r\n    542             self._train_batchwise(\r\n    543                 epochs=self.burn_in, batch_size=batch_size, print_every=print_every,\r\n--> 544                 check_gradients_every=check_gradients_every)\r\n    545             self._burn_in_done = True\r\n    546             logger.info(\"Burn-in finished\")\r\n\r\n~/.virtualenvs/wiki-graph/lib/python3.5/site-packages/gensim/models/poincare.py in _train_batchwise(self, epochs, batch_size, print_every, check_gradients_every)\r\n    583                 batch_indices = indices[i:i + batch_size]\r\n    584                 relations = [self.all_relations[idx] for idx in batch_indices]\r\n--> 585                 result = self._train_on_batch(relations, check_gradients=check_gradients)\r\n    586                 avg_loss += result.loss\r\n    587                 if should_print:\r\n\r\n~/.virtualenvs/wiki-graph/lib/python3.5/site-packages/gensim/models/poincare.py in _train_on_batch(self, relations, check_gradients)\r\n    442         \"\"\"\r\n    443         all_negatives = self._sample_negatives_batch([relation[0] for relation in relations])\r\n--> 444         batch = self._prepare_training_batch(relations, all_negatives, check_gradients)\r\n    445         self._update_vectors_batch(batch)\r\n    446         return batch\r\n\r\n~/.virtualenvs/wiki-graph/lib/python3.5/site-packages/gensim/models/poincare.py in _prepare_training_batch(self, relations, all_negatives, check_gradients)\r\n    363 \r\n    364         vectors_u = self.kv.syn0[indices_u]\r\n--> 365         vectors_v = self.kv.syn0[indices_v].reshape((batch_size, 1 + self.negative, self.size))\r\n    366         vectors_v = vectors_v.swapaxes(0, 1).swapaxes(1, 2)\r\n    367         batch = PoincareBatch(vectors_u, vectors_v, indices_u, indices_v, self.regularization_coeff)\r\n\r\nIndexError: index 13971421 is out of bounds for axis 0 with size 13971421\r\n\r\n```\r\n\r\nFrom the first sight, looks like problem with `self.negative`.\r\n\r\n#### All files, mentioned in code\r\n- [edges.jsonl.gz](https://drive.google.com/file/d/1waas84tIppy2M1Lsy-qhHQBce3ceeMbe/view?usp=sharing)\r\n- models (will be loaded later, 14GB of `.tar.gz`)\r\n\r\n#### Versions\r\n```\r\nLinux-4.4.0-62-generic-x86_64-with-Ubuntu-16.04-xenial\r\nPython 3.5.2 (default, Sep 14 2017, 22:51:06) \r\n[GCC 5.4.0 20160609]\r\nNumPy 1.14.0\r\nSciPy 1.0.0\r\ngensim 3.3.0\r\nFAST_VERSION 1\r\n```\r\n\r\n\r\n<!-- Thanks for contributing! -->\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1917/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1917/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1900", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1900/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1900/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1900/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/1900", "id": 296951606, "node_id": "MDU6SXNzdWUyOTY5NTE2MDY=", "number": 1900, "title": "Seems Word2VecKeyedVectors.get_keras_embedding should take care of 'mask_zero'", "user": {"login": "uZeroJ", "id": 17406589, "node_id": "MDQ6VXNlcjE3NDA2NTg5", "avatar_url": "https://avatars.githubusercontent.com/u/17406589?v=4", "gravatar_id": "", "url": "https://api.github.com/users/uZeroJ", "html_url": "https://github.com/uZeroJ", "followers_url": "https://api.github.com/users/uZeroJ/followers", "following_url": "https://api.github.com/users/uZeroJ/following{/other_user}", "gists_url": "https://api.github.com/users/uZeroJ/gists{/gist_id}", "starred_url": "https://api.github.com/users/uZeroJ/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/uZeroJ/subscriptions", "organizations_url": "https://api.github.com/users/uZeroJ/orgs", "repos_url": "https://api.github.com/users/uZeroJ/repos", "events_url": "https://api.github.com/users/uZeroJ/events{/privacy}", "received_events_url": "https://api.github.com/users/uZeroJ/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 234670, "node_id": "MDU6TGFiZWwyMzQ2NzA=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20medium", "name": "difficulty medium", "color": "00d000", "default": false, "description": "Medium issue: required good gensim understanding & python skills"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2018-02-14T02:00:53Z", "updated_at": "2020-10-06T21:50:26Z", "closed_at": "2020-10-06T21:50:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\nIf your issue is a usage or a general question, please submit it here instead:\r\n- Mailing List: https://groups.google.com/forum/#!forum/gensim\r\nFor more information, see Recipes&FAQ: https://github.com/RaRe-Technologies/gensim/wiki/Recipes-&-FAQ\r\n-->\r\n\r\n<!-- Instructions For Filing a Bug: https://github.com/RaRe-Technologies/gensim/blob/develop/CONTRIBUTING.md -->\r\n\r\n#### Description\r\n\r\nAs described in Groups, create this issue for tracking, thanks Ivan for a quick view.\r\n[Google Groups tracking](https://groups.google.com/forum/#!topic/gensim/Wk4CnPqL_OY)\r\n\r\nThis is a question about combining gensim with Keras.\r\nAs KeyedVectors.vectors as start with index of '0', then the word indices with index '0' should be valid word to obtain a word vector from embedding layer. [code line](https://github.com/RaRe-Technologies/gensim/blob/e1022729e986688438b9079db6aefaf892bc8478/gensim/models/keyedvectors.py#L1141)\r\nAnd Keras Embedding layer do provide mask_zero to have eyes on padding '0'([Keras Embedding](https://keras.io/layers/embeddings/)).\r\nAnd as shown in tutorials of [Keras blog](https://blog.keras.io/using-pre-trained-word-embeddings-in-a-keras-model.html) , they do provide a embedding matrix to Embedding layer with index starting from '1' and input_dim=len(vocab) + 1.\r\nThus, if we get_keras_embedding from Word2VecKeyedVectors, we'll take all '0' padding as the first word, or missing all the first word if we set mask_zero=True.\r\nSo I smell bug here.\r\nAnd changing the behavior of get_keras_embedding may also need to change model.index2word or KeyedVectors.vocab.\r\n\r\nI know there are many ways to work around this issue, such as manually pad with other values instead of '0' or manually build a Keras Embedding layer. Then what if we could do to both take the advantage of get_keras_embedding and pad_sequeneces in Keras?\r\n\r\nThanks!\r\n\r\n#### Steps/Code/Corpus to Reproduce\r\n```python\r\nimport os\r\n\r\nimport numpy as np\r\nfrom gensim.models.keyedvectors import KeyedVectors\r\nfrom keras.layers import Embedding, Input\r\nfrom keras.preprocessing.sequence import pad_sequences\r\nfrom keras.models import Model\r\nimport keras.backend as K\r\n\r\nemb_file = 'gensim.txt'\r\n\"\"\" Content in gensim.txt\r\n2 3\r\nthe 0 1 2\r\nand 3 4 5\r\n\"\"\"\r\nkvecs = KeyedVectors.load_word2vec_format(emb_file)\r\n#print(kvecs.word_index)\r\n#print(kvecs.vectors)\r\n#print(kvecs.syn0)\r\nemb_layer = kvecs.get_keras_embedding()\r\n\r\n\r\nemb_weights = np.arange((2*3)).reshape((2, 3))\r\ninputs = np.array([0, 1, 1]).reshape((1, 3))\r\ninputs_pad = pad_sequences(inputs, maxlen=10)\r\ninp=Input((10,))\r\n#out=Embedding(input_dim=2, output_dim=3, weights=[emb_weights])(inp)\r\nout=emb_layer(inp)\r\nmodel = Model(inp, out)\r\nprint(model.predict(inputs_pad))\r\n```\r\n#### Actual Results\r\n```python\r\n[[[0. 1. 2.]\r\n  [0. 1. 2.]\r\n  [0. 1. 2.]\r\n  [0. 1. 2.]\r\n  [0. 1. 2.]\r\n  [0. 1. 2.]\r\n  [0. 1. 2.]\r\n  [0. 1. 2.]\r\n  [3. 4. 5.]\r\n  [3. 4. 5.]]]\r\n```\r\n\r\n#### Expected Results\r\nAnd  the expected result maybe\r\n```python\r\n[[[0. 0. 0.]\r\n  [0. 0. 0.]\r\n  [0. 0. 0.]\r\n  [0. 0. 0.]\r\n  [0. 0. 0.]\r\n  [0. 0.0.]\r\n  [0. 0. 0.]\r\n  [0. 1. 2.]\r\n  [3. 4. 5.]\r\n  [3. 4. 5.]]]\r\n```\r\n#### Versions\r\n```\r\nDarwin-16.7.0-x86_64-i386-64bit\r\nPython 3.6.1 |Anaconda custom (64-bit)| (default, May 11 2017, 13:04:09)\r\n[GCC 4.2.1 Compatible Apple LLVM 6.0 (clang-600.0.57)]\r\nNumPy 1.14.0\r\nSciPy 1.0.0\r\ngensim 3.3.0\r\nFAST_VERSION 0\r\n(Tough have nothing to do with the environment but do need gensim >= 3.3.0)\r\n```\r\n<!-- Thanks for contributing! -->\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1900/reactions", "total_count": 4, "+1": 4, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1900/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1890", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1890/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1890/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1890/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/1890", "id": 295749742, "node_id": "MDU6SXNzdWUyOTU3NDk3NDI=", "number": 1890, "title": "segment_all_articles(include_interlinks=True) errors in image links", "user": {"login": "galtay", "id": 663051, "node_id": "MDQ6VXNlcjY2MzA1MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/663051?v=4", "gravatar_id": "", "url": "https://api.github.com/users/galtay", "html_url": "https://github.com/galtay", "followers_url": "https://api.github.com/users/galtay/followers", "following_url": "https://api.github.com/users/galtay/following{/other_user}", "gists_url": "https://api.github.com/users/galtay/gists{/gist_id}", "starred_url": "https://api.github.com/users/galtay/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/galtay/subscriptions", "organizations_url": "https://api.github.com/users/galtay/orgs", "repos_url": "https://api.github.com/users/galtay/repos", "events_url": "https://api.github.com/users/galtay/events{/privacy}", "received_events_url": "https://api.github.com/users/galtay/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 234670, "node_id": "MDU6TGFiZWwyMzQ2NzA=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20medium", "name": "difficulty medium", "color": "00d000", "default": false, "description": "Medium issue: required good gensim understanding & python skills"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2018-02-09T04:14:22Z", "updated_at": "2018-02-15T22:29:43Z", "closed_at": "2018-02-15T22:29:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "When using the script, \r\n\r\nhttps://github.com/RaRe-Technologies/gensim/blob/develop/gensim/scripts/segment_wiki.py#L69\r\n\r\nwith the include_interlinks=True kwarg, I get some links that are very long and do not match any enwiki page titles.  After investigating the first one, I found that it is inside an image caption.  For example, in the page \"Anarchism\" one of the links is, \r\n\r\n> 'link_title': 'individualist anarchist and social anarchist thinkers.'\r\n> 'raw_anchor_text': 'individualist anarchist and social anarchist thinkers.'\r\n\r\nIn the page xml you can see the wikitext, \r\n\r\n> == Anarchist schools of thought ==                                                                                    \r\n> {{Main|Anarchist schools of thought}}                                                                                 \r\n> [[File:Portrait of Pierre Joseph Proudhon 1865.jpg|thumb|upright|Portrait of philosopher Pierre-Joseph Proudhon (1809\u20131865) by Gustave Courbet. Proudhon was the primary proponent of anarchist mutualism, and influenced many future [[individualist anarchist]] and social anarchist thinkers.]]\r\n\r\nLooks like the doubly nested double square brackets is throwing the parser off.   \r\n\r\n#### Steps/Code/Corpus to Reproduce\r\nExample:\r\n```\r\nsegment_wiki.segment_and_write_all_articles(                                                                      \r\n        in_fname, out_fname, min_article_character=10, include_interlinks=True) \r\n```\r\n\r\n\r\n#### Expected Results\r\nI expect the interlink result to have the anchor text = \"individualist anarchist\", title=\"individualist anarchist\".\r\n\r\n#### Versions\r\n<!--\r\nPlease run the following snippet and paste the output below.\r\nimport platform; print(platform.platform())\r\nimport sys; print(\"Python\", sys.version)\r\nimport numpy; print(\"NumPy\", numpy.__version__)\r\nimport scipy; print(\"SciPy\", scipy.__version__)\r\nimport gensim; print(\"gensim\", gensim.__version__)\r\nfrom gensim.models import word2vec;print(\"FAST_VERSION\", word2vec.FAST_VERSION)\r\n-->\r\nLinux-4.4.0-1049-aws-x86_64-with-debian-stretch-sid\r\nPython 3.6.4 |Anaconda, Inc.| (default, Jan 16 2018, 18:10:19) \r\n[GCC 7.2.0]\r\nNumPy 1.14.0\r\nSciPy 1.0.0\r\ngensim 3.3.0\r\nFAST_VERSION 1\r\n\r\n<!-- Thanks for contributing! -->\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1890/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1890/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1886", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1886/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1886/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1886/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/1886", "id": 295543801, "node_id": "MDU6SXNzdWUyOTU1NDM4MDE=", "number": 1886, "title": "cannot import name 'LabeledSentence'", "user": {"login": "thepurpleowl", "id": 21123710, "node_id": "MDQ6VXNlcjIxMTIzNzEw", "avatar_url": "https://avatars.githubusercontent.com/u/21123710?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thepurpleowl", "html_url": "https://github.com/thepurpleowl", "followers_url": "https://api.github.com/users/thepurpleowl/followers", "following_url": "https://api.github.com/users/thepurpleowl/following{/other_user}", "gists_url": "https://api.github.com/users/thepurpleowl/gists{/gist_id}", "starred_url": "https://api.github.com/users/thepurpleowl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thepurpleowl/subscriptions", "organizations_url": "https://api.github.com/users/thepurpleowl/orgs", "repos_url": "https://api.github.com/users/thepurpleowl/repos", "events_url": "https://api.github.com/users/thepurpleowl/events{/privacy}", "received_events_url": "https://api.github.com/users/thepurpleowl/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 233081, "node_id": "MDU6TGFiZWwyMzMwODE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20easy", "name": "difficulty easy", "color": "00ff00", "default": false, "description": "Easy issue: required small fix"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-02-08T15:00:29Z", "updated_at": "2018-02-09T06:06:19Z", "closed_at": "2018-02-09T06:06:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "\r\n#### Description\r\nLabeledSentence is not being imported from gensim.models.doc2vec. \r\n\r\n``from gensim.models.doc2vec import LabeledSentence``\r\n\r\nthe error I am getting is \r\n``cannot import name 'LabeledSentence'``\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1886/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1886/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1878", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1878/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1878/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1878/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/1878", "id": 294203172, "node_id": "MDU6SXNzdWUyOTQyMDMxNzI=", "number": 1878, "title": "DeprecationWarning: inspect.getargspec() is deprecated in phrases.py:317", "user": {"login": "Diyago", "id": 8073766, "node_id": "MDQ6VXNlcjgwNzM3NjY=", "avatar_url": "https://avatars.githubusercontent.com/u/8073766?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Diyago", "html_url": "https://github.com/Diyago", "followers_url": "https://api.github.com/users/Diyago/followers", "following_url": "https://api.github.com/users/Diyago/following{/other_user}", "gists_url": "https://api.github.com/users/Diyago/gists{/gist_id}", "starred_url": "https://api.github.com/users/Diyago/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Diyago/subscriptions", "organizations_url": "https://api.github.com/users/Diyago/orgs", "repos_url": "https://api.github.com/users/Diyago/repos", "events_url": "https://api.github.com/users/Diyago/events{/privacy}", "received_events_url": "https://api.github.com/users/Diyago/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 233081, "node_id": "MDU6TGFiZWwyMzMwODE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20easy", "name": "difficulty easy", "color": "00ff00", "default": false, "description": "Easy issue: required small fix"}, {"id": 721000065, "node_id": "MDU6TGFiZWw3MjEwMDAwNjU=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/good%20first%20issue", "name": "good first issue", "color": "7057ff", "default": true, "description": "Issue for new contributors (not required gensim understanding + very simple)"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2018-02-04T14:58:19Z", "updated_at": "2018-02-09T03:32:58Z", "closed_at": "2018-02-09T03:32:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\nIf your issue is a usage or a general question, please submit it here instead:\r\n- Mailing List: https://groups.google.com/forum/#!forum/gensim\r\nFor more information, see Recipes&FAQ: https://github.com/RaRe-Technologies/gensim/wiki/Recipes-&-FAQ\r\n-->\r\n\r\n<!-- Instructions For Filing a Bug: https://github.com/RaRe-Technologies/gensim/blob/develop/CONTRIBUTING.md -->\r\n\r\n#### Description\r\nI wanted to add bigrams/trigrams by using `Phrases()` but something went wrong\r\n#### Steps/Code/Corpus to Reproduce\r\n\r\n``` python\r\nfrom gensim.models import Phrases \r\n#1st way to get error\r\nbigram_model = Phrases()\r\n\r\n#2nd way to get error\r\nbigram_model = Phrases(['aaa', 'aaa'])\r\n```\r\n\r\n#### Expected Results\r\nTwo get bigrams. I have got them, but I have confused by the errors/warnings below\r\n#### Actual Results\r\n```\r\nC:\\Users\\...\\AppData\\Local\\Continuum\\anaconda3\\lib\\site-packages\\gensim\\models\\phrases.py:317: DeprecationWarning: inspect.getargspec() is deprecated, use inspect.signature() or inspect.getfullargspec()\r\n  if all(parameter in getargspec(scoring)[0] for parameter in scoring_parameters):\r\nC:\\Users\\...\\AppData\\Local\\Continuum\\anaconda3\\lib\\site-packages\\gensim\\models\\phrases.py:317: DeprecationWarning: inspect.getargspec() is deprecated, use inspect.signature() or inspect.getfullargspec()\r\n  if all(parameter in getargspec(scoring)[0] for parameter in scoring_parameters):\r\nC:\\Users\\...\\AppData\\Local\\Continuum\\anaconda3\\lib\\site-packages\\gensim\\models\\phrases.py:317: DeprecationWarning: inspect.getargspec() is deprecated, use inspect.signature() or inspect.getfullargspec()\r\n  if all(parameter in getargspec(scoring)[0] for parameter in scoring_parameters):\r\nC:\\Users\\...\\AppData\\Local\\Continuum\\anaconda3\\lib\\site-packages\\gensim\\models\\phrases.py:317: DeprecationWarning: inspect.getargspec() is deprecated, use inspect.signature() or inspect.getfullargspec()\r\n  if all(parameter in getargspec(scoring)[0] for parameter in scoring_parameters):\r\nC:\\Users\\...\\AppData\\Local\\Continuum\\anaconda3\\lib\\site-packages\\gensim\\models\\phrases.py:317: DeprecationWarning: inspect.getargspec() is deprecated, use inspect.signature() or inspect.getfullargspec()\r\n  if all(parameter in getargspec(scoring)[0] for parameter in scoring_parameters):\r\nC:\\Users\\...\\AppData\\Local\\Continuum\\anaconda3\\lib\\site-packages\\gensim\\models\\phrases.py:317: DeprecationWarning: inspect.getargspec() is deprecated, use inspect.signature() or inspect.getfullargspec()\r\n  if all(parameter in getargspec(scoring)[0] for parameter in scoring_parameters):\r\n```\r\nPlease paste or specifically describe the actual output or traceback. -->\r\n\r\n#### Versions\r\n```\r\nWindows-10-10.0.15063-SP0\r\nPython 3.6.3 |Anaconda, Inc.| (default, Oct 15 2017, 03:27:45) [MSC v.1900 64 bit (AMD64)]\r\nNumPy 1.14.0\r\nSciPy 0.19.1\r\ngensim 3.3.0\r\nFAST_VERSION 1\r\n```\r\n\r\n\r\n<!-- Thanks for contributing! -->\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1878/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 1, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1878/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1869", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1869/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1869/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1869/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/1869", "id": 293469759, "node_id": "MDU6SXNzdWUyOTM0Njk3NTk=", "number": 1869, "title": "MmCorpus file-like object support bug", "user": {"login": "menshikh-iv", "id": 15094669, "node_id": "MDQ6VXNlcjE1MDk0NjY5", "avatar_url": "https://avatars.githubusercontent.com/u/15094669?v=4", "gravatar_id": "", "url": "https://api.github.com/users/menshikh-iv", "html_url": "https://github.com/menshikh-iv", "followers_url": "https://api.github.com/users/menshikh-iv/followers", "following_url": "https://api.github.com/users/menshikh-iv/following{/other_user}", "gists_url": "https://api.github.com/users/menshikh-iv/gists{/gist_id}", "starred_url": "https://api.github.com/users/menshikh-iv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/menshikh-iv/subscriptions", "organizations_url": "https://api.github.com/users/menshikh-iv/orgs", "repos_url": "https://api.github.com/users/menshikh-iv/repos", "events_url": "https://api.github.com/users/menshikh-iv/events{/privacy}", "received_events_url": "https://api.github.com/users/menshikh-iv/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 234670, "node_id": "MDU6TGFiZWwyMzQ2NzA=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20medium", "name": "difficulty medium", "color": "00d000", "default": false, "description": "Medium issue: required good gensim understanding & python skills"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2018-02-01T10:03:05Z", "updated_at": "2018-02-23T06:35:29Z", "closed_at": "2018-02-23T06:35:29Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Into**\r\nWe have some \"weird\" behavior if a user passes a `file-like` object to `MmCorpus`, based on [this mailing list thread](https://groups.google.com/forum/#!topic/gensim/420pRBwexKQ)\r\n\r\n**Demonstration**\r\n\r\n```python\r\nfrom gensim.corpora import MmCorpus\r\nimport bz2\r\n\r\nf = bz2.BZ2File(\"testcorpus.mm.bz2\")\r\nprint(f.closed)  # 0\r\ncorpus = MmCorpus(f)\r\nprint(f.closed)  # 1 ???\r\n```\r\n\r\n**What happens**\r\nFile-like object was closed when we call `MmReader`, problem located here\r\n\r\nhttps://github.com/RaRe-Technologies/gensim/blob/5342153eb4f4b02bb45bfa3951eef8250ac9f6b6/gensim/matutils.py#L1274\r\n\r\n\r\n`with` automatically close `file-like` when we out of scope, **this is OK if we open this file**, but we **shouldn't close file-like passed from user**.\r\n\r\nRelated PR #1867 \r\n\r\n\r\n**UPD:** another problem here - call `IndexCopus.__init__`, that didn't support `file-like` object at all.", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1869/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1869/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1858", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1858/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1858/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1858/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/1858", "id": 291580778, "node_id": "MDU6SXNzdWUyOTE1ODA3Nzg=", "number": 1858, "title": "Wrong distance in Lexical entailment experiment for Poincare embeddings", "user": {"login": "octavian-ganea", "id": 5745926, "node_id": "MDQ6VXNlcjU3NDU5MjY=", "avatar_url": "https://avatars.githubusercontent.com/u/5745926?v=4", "gravatar_id": "", "url": "https://api.github.com/users/octavian-ganea", "html_url": "https://github.com/octavian-ganea", "followers_url": "https://api.github.com/users/octavian-ganea/followers", "following_url": "https://api.github.com/users/octavian-ganea/following{/other_user}", "gists_url": "https://api.github.com/users/octavian-ganea/gists{/gist_id}", "starred_url": "https://api.github.com/users/octavian-ganea/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/octavian-ganea/subscriptions", "organizations_url": "https://api.github.com/users/octavian-ganea/orgs", "repos_url": "https://api.github.com/users/octavian-ganea/repos", "events_url": "https://api.github.com/users/octavian-ganea/events{/privacy}", "received_events_url": "https://api.github.com/users/octavian-ganea/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 233081, "node_id": "MDU6TGFiZWwyMzMwODE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20easy", "name": "difficulty easy", "color": "00ff00", "default": false, "description": "Easy issue: required small fix"}, {"id": 721000065, "node_id": "MDU6TGFiZWw3MjEwMDAwNjU=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/good%20first%20issue", "name": "good first issue", "color": "7057ff", "default": true, "description": "Issue for new contributors (not required gensim understanding + very simple)"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2018-01-25T14:04:56Z", "updated_at": "2018-01-30T07:24:23Z", "closed_at": "2018-01-30T07:24:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "The following line https://github.com/RaRe-Technologies/gensim/blob/develop/gensim/models/poincare.py#L1522\r\nshould be:\r\n```\r\nreturn -1 * (1 + self.alpha * (norm_2 - norm_1)) * min_distance\r\n```\r\notherwise `distance` is the last encountered distance, not the smallest one.", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1858/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1858/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1854", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1854/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1854/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1854/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/1854", "id": 291143597, "node_id": "MDU6SXNzdWUyOTExNDM1OTc=", "number": 1854, "title": "gensim.matutils.hellinger d(x,y) != d(y,x) if len(x) = len(y)", "user": {"login": "elituan", "id": 34507382, "node_id": "MDQ6VXNlcjM0NTA3Mzgy", "avatar_url": "https://avatars.githubusercontent.com/u/34507382?v=4", "gravatar_id": "", "url": "https://api.github.com/users/elituan", "html_url": "https://github.com/elituan", "followers_url": "https://api.github.com/users/elituan/followers", "following_url": "https://api.github.com/users/elituan/following{/other_user}", "gists_url": "https://api.github.com/users/elituan/gists{/gist_id}", "starred_url": "https://api.github.com/users/elituan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/elituan/subscriptions", "organizations_url": "https://api.github.com/users/elituan/orgs", "repos_url": "https://api.github.com/users/elituan/repos", "events_url": "https://api.github.com/users/elituan/events{/privacy}", "received_events_url": "https://api.github.com/users/elituan/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 233081, "node_id": "MDU6TGFiZWwyMzMwODE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20easy", "name": "difficulty easy", "color": "00ff00", "default": false, "description": "Easy issue: required small fix"}, {"id": 721000065, "node_id": "MDU6TGFiZWw3MjEwMDAwNjU=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/good%20first%20issue", "name": "good first issue", "color": "7057ff", "default": true, "description": "Issue for new contributors (not required gensim understanding + very simple)"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-01-24T09:47:10Z", "updated_at": "2018-01-30T07:59:16Z", "closed_at": "2018-01-30T07:59:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\nIf your issue is a usage or a general question, please submit it here instead:\r\n- Mailing List: https://groups.google.com/forum/#!forum/gensim\r\nFor more information, see Recipes&FAQ: https://github.com/RaRe-Technologies/gensim/wiki/Recipes-&-FAQ\r\n-->\r\n\r\n<!-- Instructions For Filing a Bug: https://github.com/RaRe-Technologies/gensim/blob/develop/CONTRIBUTING.md -->\r\n\r\n#### Description\r\n<!-- Example: Vocabulary size is not what I expected when training Word2Vec. -->\r\nCompute the distance between 2 distribution with gensim.matutils.hellinger. The d(x,y) do not equal to d(y,x) if len(x) = len(y)\r\n#### Steps/Code/Corpus to Reproduce\r\n<!--\r\nExample:\r\n```\r\nfrom gensim.models import word2vec\r\n\r\nsentences = ['human', 'machine']\r\nmodel = word2vec.Word2Vec(sentences)\r\nprint(model.syn0.shape) \r\n```\r\nIf the code is too long, feel free to put it in a public gist and link\r\nit in the issue: https://gist.github.com\r\n-->\r\nfrom gensim.matutils import hellinger\r\nvec_1 = [(2, 0.1), (3, 0.4), (4, 0.1), (5, 0.1), (1, 0.1), (7, 0.2)]\r\nvec_2 = [(1, 0.1), (3, 0.8), (4, 0.1), (8, 0.1), (10, 0.8), (9, 0.1)]\r\nhellinger(vec_1,vec_2) == hellinger(vec_2,vec_1)\r\n\r\n#### Expected Results\r\n<!-- Example: Expected shape of (100,2).-->\r\nTrue\r\n#### Actual Results\r\n<!-- Example: Actual shape of (100,5). \r\nPlease paste or specifically describe the actual output or traceback. -->\r\nFalse\r\n#### Versions\r\n<!--\r\nPlease run the following snippet and paste the output below.\r\nimport platform; print(platform.platform())\r\nimport sys; print(\"Python\", sys.version)\r\nimport numpy; print(\"NumPy\", numpy.__version__)\r\nimport scipy; print(\"SciPy\", scipy.__version__)\r\nimport gensim; print(\"gensim\", gensim.__version__)\r\nfrom gensim.models import word2vec;print(\"FAST_VERSION\", word2vec.FAST_VERSION)\r\n-->\r\nLinux-4.13.0-26-generic-x86_64-with-debian-stretch-sid\r\n('Python', '2.7.11 |Anaconda custom (64-bit)| (default, Dec  6 2015, 18:08:32) \\n[GCC 4.4.7 20120313 (Red Hat 4.4.7-1)]')\r\n('NumPy', '1.13.3')\r\n('SciPy', '1.0.0')\r\n('gensim', '3.1.0')\r\n('FAST_VERSION', 1)\r\n\r\n<!-- Thanks for contributing! -->\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1854/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1854/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1851", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1851/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1851/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1851/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/1851", "id": 290821160, "node_id": "MDU6SXNzdWUyOTA4MjExNjA=", "number": 1851, "title": "Support streaming models split into multiple files from S3 / GCS", "user": {"login": "JensMadsen", "id": 6726111, "node_id": "MDQ6VXNlcjY3MjYxMTE=", "avatar_url": "https://avatars.githubusercontent.com/u/6726111?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JensMadsen", "html_url": "https://github.com/JensMadsen", "followers_url": "https://api.github.com/users/JensMadsen/followers", "following_url": "https://api.github.com/users/JensMadsen/following{/other_user}", "gists_url": "https://api.github.com/users/JensMadsen/gists{/gist_id}", "starred_url": "https://api.github.com/users/JensMadsen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JensMadsen/subscriptions", "organizations_url": "https://api.github.com/users/JensMadsen/orgs", "repos_url": "https://api.github.com/users/JensMadsen/repos", "events_url": "https://api.github.com/users/JensMadsen/events{/privacy}", "received_events_url": "https://api.github.com/users/JensMadsen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 234670, "node_id": "MDU6TGFiZWwyMzQ2NzA=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20medium", "name": "difficulty medium", "color": "00d000", "default": false, "description": "Medium issue: required good gensim understanding & python skills"}, {"id": 1602279836, "node_id": "MDU6TGFiZWwxNjAyMjc5ODM2", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/reach%20MEDIUM", "name": "reach MEDIUM", "color": "ef7a1a", "default": false, "description": "Affects a significant number of users"}, {"id": 1602334472, "node_id": "MDU6TGFiZWwxNjAyMzM0NDcy", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/impact%20MEDIUM", "name": "impact MEDIUM", "color": "7af49f", "default": false, "description": "Big annoyance for affected users"}], "state": "closed", "locked": false, "assignee": {"login": "gojomo", "id": 1641, "node_id": "MDQ6VXNlcjE2NDE=", "avatar_url": "https://avatars.githubusercontent.com/u/1641?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gojomo", "html_url": "https://github.com/gojomo", "followers_url": "https://api.github.com/users/gojomo/followers", "following_url": "https://api.github.com/users/gojomo/following{/other_user}", "gists_url": "https://api.github.com/users/gojomo/gists{/gist_id}", "starred_url": "https://api.github.com/users/gojomo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gojomo/subscriptions", "organizations_url": "https://api.github.com/users/gojomo/orgs", "repos_url": "https://api.github.com/users/gojomo/repos", "events_url": "https://api.github.com/users/gojomo/events{/privacy}", "received_events_url": "https://api.github.com/users/gojomo/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gojomo", "id": 1641, "node_id": "MDQ6VXNlcjE2NDE=", "avatar_url": "https://avatars.githubusercontent.com/u/1641?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gojomo", "html_url": "https://github.com/gojomo", "followers_url": "https://api.github.com/users/gojomo/followers", "following_url": "https://api.github.com/users/gojomo/following{/other_user}", "gists_url": "https://api.github.com/users/gojomo/gists{/gist_id}", "starred_url": "https://api.github.com/users/gojomo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gojomo/subscriptions", "organizations_url": "https://api.github.com/users/gojomo/orgs", "repos_url": "https://api.github.com/users/gojomo/repos", "events_url": "https://api.github.com/users/gojomo/events{/privacy}", "received_events_url": "https://api.github.com/users/gojomo/received_events", "type": "User", "site_admin": false}, {"login": "piskvorky", "id": 610412, "node_id": "MDQ6VXNlcjYxMDQxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/610412?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piskvorky", "html_url": "https://github.com/piskvorky", "followers_url": "https://api.github.com/users/piskvorky/followers", "following_url": "https://api.github.com/users/piskvorky/following{/other_user}", "gists_url": "https://api.github.com/users/piskvorky/gists{/gist_id}", "starred_url": "https://api.github.com/users/piskvorky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piskvorky/subscriptions", "organizations_url": "https://api.github.com/users/piskvorky/orgs", "repos_url": "https://api.github.com/users/piskvorky/repos", "events_url": "https://api.github.com/users/piskvorky/events{/privacy}", "received_events_url": "https://api.github.com/users/piskvorky/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/milestones/3", "html_url": "https://github.com/RaRe-Technologies/gensim/milestone/3", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/milestones/3/labels", "id": 5364765, "node_id": "MDk6TWlsZXN0b25lNTM2NDc2NQ==", "number": 3, "title": "4.0.0", "description": "", "creator": {"login": "piskvorky", "id": 610412, "node_id": "MDQ6VXNlcjYxMDQxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/610412?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piskvorky", "html_url": "https://github.com/piskvorky", "followers_url": "https://api.github.com/users/piskvorky/followers", "following_url": "https://api.github.com/users/piskvorky/following{/other_user}", "gists_url": "https://api.github.com/users/piskvorky/gists{/gist_id}", "starred_url": "https://api.github.com/users/piskvorky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piskvorky/subscriptions", "organizations_url": "https://api.github.com/users/piskvorky/orgs", "repos_url": "https://api.github.com/users/piskvorky/repos", "events_url": "https://api.github.com/users/piskvorky/events{/privacy}", "received_events_url": "https://api.github.com/users/piskvorky/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 38, "state": "closed", "created_at": "2020-04-29T19:09:55Z", "updated_at": "2021-03-28T13:26:38Z", "due_on": null, "closed_at": "2021-03-28T13:26:38Z"}, "comments": 34, "created_at": "2018-01-23T12:37:30Z", "updated_at": "2021-08-15T06:39:21Z", "closed_at": "2021-03-09T00:20:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "Streaming small d2v models from s3 bucket works fine. Simply insert the s3 address into model.load. e.g. model.load('s3://<bucket>/<path>). However, when the model gets bigger and is split into multiple files all files except the main model file cannot be loaded. These other files are loaded by numpy and not smart_open. \r\n\r\nThe essential part of my code is\r\n\r\n```\r\ndef load_model(model_file):\r\n    return Doc2Vec.load(model_file)\r\n\r\n# infer \r\ndef infer_docs(input_string, model_file, inferred_docs=5):\r\n    model = load_model(model_file)\r\n    processed_str = simple_preprocess(input_string, min_len=2, max_len=35)    \r\n    inferred_vector = model.infer_vector(processed_str)\r\n    return model.docvecs.most_similar([inferred_vector], topn=inferred_docs)\r\n```\r\nTrying to load from s3 on a bugger model yields: \r\n\r\n```\r\n[INFO]  2018-01-21T20:44:59.613Z    f2689816-feeb-11e7-b397-b7ff2947dcec    testing keys in event dict\r\n[INFO]  2018-01-21T20:44:59.614Z    f2689816-feeb-11e7-b397-b7ff2947dcec    loading model from s3://data-d2v/trained_models/model_law\r\n[INFO]  2018-01-21T20:44:59.614Z    f2689816-feeb-11e7-b397-b7ff2947dcec    loading Doc2Vec object from s3://data-d2v/trained_models/model_law\r\n[INFO]  2018-01-21T20:44:59.650Z    f2689816-feeb-11e7-b397-b7ff2947dcec    Found credentials in environment variables.\r\n[INFO]  2018-01-21T20:44:59.707Z    f2689816-feeb-11e7-b397-b7ff2947dcec    Starting new HTTPS connection (1): s3.eu-west-1.amazonaws.com\r\n[INFO]  2018-01-21T20:44:59.801Z    f2689816-feeb-11e7-b397-b7ff2947dcec    Starting new HTTPS connection (2): s3.eu-west-1.amazonaws.com\r\n[INFO]  2018-01-21T20:45:35.830Z    f2689816-feeb-11e7-b397-b7ff2947dcec    loading wv recursively from s3://data-d2v/trained_models/model_law.wv.* with mmap=None\r\n[INFO]  2018-01-21T20:45:35.830Z    f2689816-feeb-11e7-b397-b7ff2947dcec    loading syn0 from s3://data-d2v/trained_models/model_law.wv.syn0.npy with mmap=None\r\n[Errno 2] No such file or directory: 's3://data-d2v/trained_models/model_law.wv.syn0.npy': FileNotFoundError\r\nTraceback (most recent call last):\r\n  File \"/var/task/handler.py\", line 20, in infer_handler\r\n    event['input_text'], event['model_file'], inferred_docs=10)\r\n  File \"/var/task/infer_doc.py\", line 26, in infer_docs\r\n    model = load_model(model_file)\r\n  File \"/var/task/infer_doc.py\", line 21, in load_model\r\n    return Doc2Vec.load(model_file)\r\n  File \"/var/task/gensim/models/word2vec.py\", line 1569, in load\r\n    model = super(Word2Vec, cls).load(*args, **kwargs)\r\n  File \"/var/task/gensim/utils.py\", line 282, in load\r\n    obj._load_specials(fname, mmap, compress, subname)\r\n  File \"/var/task/gensim/models/word2vec.py\", line 1593, in _load_specials\r\n    super(Word2Vec, self)._load_specials(*args, **kwargs)\r\n  File \"/var/task/gensim/utils.py\", line 301, in _load_specials\r\n    getattr(self, attrib)._load_specials(cfname, mmap, compress, subname)\r\n  File \"/var/task/gensim/utils.py\", line 312, in _load_specials\r\n    val = np.load(subname(fname, attrib), mmap_mode=mmap)\r\n  File \"/var/task/numpy/lib/npyio.py\", line 372, in load\r\n    fid = open(file, \"rb\")\r\nFileNotFoundError: [Errno 2] No such file or directory: 's3://data-d2v/trained_models/model_law.wv.syn0.npy'\r\n```\r\nMy use case is to serve the models on a AWS lambda. My current workarond is to download all model files to a local folder and then load the model from the local folder which is rather slow\r\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1851/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1851/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1846", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1846/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1846/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1846/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/1846", "id": 289887909, "node_id": "MDU6SXNzdWUyODk4ODc5MDk=", "number": 1846, "title": "Lda Model does not work with numpy 1.13", "user": {"login": "Ronggui", "id": 3939211, "node_id": "MDQ6VXNlcjM5MzkyMTE=", "avatar_url": "https://avatars.githubusercontent.com/u/3939211?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Ronggui", "html_url": "https://github.com/Ronggui", "followers_url": "https://api.github.com/users/Ronggui/followers", "following_url": "https://api.github.com/users/Ronggui/following{/other_user}", "gists_url": "https://api.github.com/users/Ronggui/gists{/gist_id}", "starred_url": "https://api.github.com/users/Ronggui/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Ronggui/subscriptions", "organizations_url": "https://api.github.com/users/Ronggui/orgs", "repos_url": "https://api.github.com/users/Ronggui/repos", "events_url": "https://api.github.com/users/Ronggui/events{/privacy}", "received_events_url": "https://api.github.com/users/Ronggui/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 234670, "node_id": "MDU6TGFiZWwyMzQ2NzA=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20medium", "name": "difficulty medium", "color": "00d000", "default": false, "description": "Medium issue: required good gensim understanding & python skills"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 14, "created_at": "2018-01-19T07:41:43Z", "updated_at": "2020-03-29T17:57:28Z", "closed_at": "2018-01-29T11:57:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "It gives that following warning, \r\nRuntimeWarning: invalid value encountered in subtract  result = psi(alpha) - psi(np.sum(alpha))\r\n\r\nIt also does not result proper words probabilities for topics, and the result of show_topics looks like this: nan*w1 + nan*w2\r\n\r\nWhen I upgrade numpy to 1.14, LdaModel works properly.\r\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1846/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1846/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1844", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1844/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1844/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1844/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/1844", "id": 289602673, "node_id": "MDU6SXNzdWUyODk2MDI2NzM=", "number": 1844, "title": "CalledProcessError", "user": {"login": "Hambath", "id": 33073712, "node_id": "MDQ6VXNlcjMzMDczNzEy", "avatar_url": "https://avatars.githubusercontent.com/u/33073712?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Hambath", "html_url": "https://github.com/Hambath", "followers_url": "https://api.github.com/users/Hambath/followers", "following_url": "https://api.github.com/users/Hambath/following{/other_user}", "gists_url": "https://api.github.com/users/Hambath/gists{/gist_id}", "starred_url": "https://api.github.com/users/Hambath/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Hambath/subscriptions", "organizations_url": "https://api.github.com/users/Hambath/orgs", "repos_url": "https://api.github.com/users/Hambath/repos", "events_url": "https://api.github.com/users/Hambath/events{/privacy}", "received_events_url": "https://api.github.com/users/Hambath/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 233081, "node_id": "MDU6TGFiZWwyMzMwODE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20easy", "name": "difficulty easy", "color": "00ff00", "default": false, "description": "Easy issue: required small fix"}], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 16, "created_at": "2018-01-18T11:55:07Z", "updated_at": "2020-01-30T09:12:27Z", "closed_at": "2018-01-19T09:50:04Z", "author_association": "NONE", "active_lock_reason": "resolved", "body": "Key lines:\r\nMallet_Loc = r\"/Users/myself/mallet-2.0.7\"\r\nlda = gensim.models.wrappers.LdaMallet(Mallet_Loc,corpus, num_topics=Nos_Topics, id2word = dictionary)\r\n\r\ngives the following error\r\n\r\nTraceback (most recent call last):\r\n  File \"/Users/myself/Documents/JH_LDA Processing Gensim Mallet v3.py\", line 91, in <module>\r\n    lda = gensim.models.wrappers.LdaMallet(Mallet_Loc,corpus, num_topics=Nos_Topics, id2word = dictionary)\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/gensim/models/wrappers/ldamallet.py\", line 98, in __init__\r\n    self.train(corpus)\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/gensim/models/wrappers/ldamallet.py\", line 156, in train\r\n    self.convert_input(corpus, infer=False)\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/gensim/models/wrappers/ldamallet.py\", line 153, in convert_input\r\n    check_output(args=cmd, shell=True)\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/gensim/utils.py\", line 1174, in check_output\r\n    raise error\r\nsubprocess.CalledProcessError: Command '/Users/jamiehamilton/mallet-2.0.7 import-file --preserve-case --keep-sequence --remove-stopwords --token-regex \"\\S+\" --input /var/folders/hl/vxz79b3d7qd_ktk3dxs6gt680000gn/T/750b51_corpus.txt --output /var/folders/hl/vxz79b3d7qd_ktk3dxs6gt680000gn/T/750b51_corpus.mallet' returned non-zero exit status 126.\r\n\r\nCant find reference to similar - any ideas?\r\n\r\nAll the best\r\nJamie\r\n\r\nimport platform; print(platform.platform())\r\nDarwin-14.5.0-x86_64-i386-64bit\r\n>>> import sys; print(\"Python\", sys.version)\r\nPython 3.6.2 (v3.6.2:5fd33b5926, Jul 16 2017, 20:11:06) \r\n[GCC 4.2.1 (Apple Inc. build 5666) (dot 3)]\r\n>>> import numpy; print(\"NumPy\", numpy.__version__)\r\nNumPy 1.13.3\r\n>>> import scipy; print(\"SciPy\", scipy.__version__)\r\nSciPy 0.19.1\r\n>>> import gensim; print(\"gensim\", gensim.__version__)\r\ngensim 3.0.0\r\n>>> from gensim.models import word2vec;print(\"FAST_VERSION\", word2vec.FAST_VERSION)\r\nFAST_VERSION 0\r\n>>> ", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1844/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1844/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1834", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1834/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1834/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1834/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/1834", "id": 287000656, "node_id": "MDU6SXNzdWUyODcwMDA2NTY=", "number": 1834, "title": "D2VTransformer.fit_transform doesn't work", "user": {"login": "volj1", "id": 35227916, "node_id": "MDQ6VXNlcjM1MjI3OTE2", "avatar_url": "https://avatars.githubusercontent.com/u/35227916?v=4", "gravatar_id": "", "url": "https://api.github.com/users/volj1", "html_url": "https://github.com/volj1", "followers_url": "https://api.github.com/users/volj1/followers", "following_url": "https://api.github.com/users/volj1/following{/other_user}", "gists_url": "https://api.github.com/users/volj1/gists{/gist_id}", "starred_url": "https://api.github.com/users/volj1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/volj1/subscriptions", "organizations_url": "https://api.github.com/users/volj1/orgs", "repos_url": "https://api.github.com/users/volj1/repos", "events_url": "https://api.github.com/users/volj1/events{/privacy}", "received_events_url": "https://api.github.com/users/volj1/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 233081, "node_id": "MDU6TGFiZWwyMzMwODE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20easy", "name": "difficulty easy", "color": "00ff00", "default": false, "description": "Easy issue: required small fix"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-01-09T08:01:23Z", "updated_at": "2018-04-11T11:16:57Z", "closed_at": "2018-02-16T06:40:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "The **X** parameter of the **fit_transform** method of **D2VTransformer** doesn't accept variables of any type, nor list of token lists (raises _AttributeError: 'list' object has no attribute 'words'_), nor list of TaggedDocument (raises _TypeError: sequence item 0: expected str instance, list found_).\r\n\r\nExample:\r\n```python\r\nfrom gensim.sklearn_api import D2VTransformer\r\nfrom gensim.models import doc2vec\r\n\r\nclass_dict = {'mathematics': 1, 'physics': 0}\r\ntrain_data = [\r\n    (['calculus', 'mathematical'], 'mathematics'), (['geometry', 'operations', 'curves'], 'mathematics'),\r\n    (['natural', 'nuclear'], 'physics'), (['science', 'electromagnetism', 'natural'], 'physics')\r\n]\r\nd2v_sentences = [doc2vec.TaggedDocument(words[0], [i]) for i, words in enumerate(train_data)]\r\ntrain_input = list(map(lambda x: x[0], train_data))\r\ntrain_target = list(map(lambda x: class_dict[x[1]], train_data))\r\n\r\nmodel = D2VTransformer(min_count=1)\r\nmodel.fit_transform(train_input, train_target)\r\n#model.fit_transform(d2v_sentences, train_target)\r\n```\r\nVersions:\r\nWindows-10-10.0.16299-SP0\r\nPython 3.6.4 | packaged by conda-forge | (default, Dec 24 2017, 10:11:43) [MSC v.1900 64 bit (AMD64)]\r\nNumPy 1.13.3\r\nSciPy 0.19.1\r\ngensim 3.2.0\r\nFAST_VERSION 1", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1834/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1834/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1828", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1828/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1828/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1828/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/1828", "id": 286559665, "node_id": "MDU6SXNzdWUyODY1NTk2NjU=", "number": 1828, "title": "BM25 : Incorrect scoring function", "user": {"login": "Atulgang", "id": 20840314, "node_id": "MDQ6VXNlcjIwODQwMzE0", "avatar_url": "https://avatars.githubusercontent.com/u/20840314?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Atulgang", "html_url": "https://github.com/Atulgang", "followers_url": "https://api.github.com/users/Atulgang/followers", "following_url": "https://api.github.com/users/Atulgang/following{/other_user}", "gists_url": "https://api.github.com/users/Atulgang/gists{/gist_id}", "starred_url": "https://api.github.com/users/Atulgang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Atulgang/subscriptions", "organizations_url": "https://api.github.com/users/Atulgang/orgs", "repos_url": "https://api.github.com/users/Atulgang/repos", "events_url": "https://api.github.com/users/Atulgang/events{/privacy}", "received_events_url": "https://api.github.com/users/Atulgang/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 721000065, "node_id": "MDU6TGFiZWw3MjEwMDAwNjU=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/good%20first%20issue", "name": "good first issue", "color": "7057ff", "default": true, "description": "Issue for new contributors (not required gensim understanding + very simple)"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-01-07T10:36:39Z", "updated_at": "2018-01-11T17:15:09Z", "closed_at": "2018-01-11T17:15:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "https://github.com/RaRe-Technologies/gensim/blob/develop/gensim/summarization/bm25.py\r\n**Instead of \"len(document)\" it should be the length of the _index_ document of the corpus.**\r\n  \r\n```\r\n def get_score(self, document, index, average_idf): \r\n           # in this line it should be the length of the index document in the corpus\r\n            score += (idf * self.f[index][word] * (PARAM_K1 + 1)\r\n                      / (self.f[index][word] + PARAM_K1 * (1 - PARAM_B + PARAM_B * len(document) / self.avgdl)))\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1828/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1828/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1824", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1824/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1824/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1824/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/1824", "id": 285714522, "node_id": "MDU6SXNzdWUyODU3MTQ1MjI=", "number": 1824, "title": "FastText memory usage greatly exceeds value returned by `estimate_memory`", "user": {"login": "jbaiter", "id": 608610, "node_id": "MDQ6VXNlcjYwODYxMA==", "avatar_url": "https://avatars.githubusercontent.com/u/608610?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jbaiter", "html_url": "https://github.com/jbaiter", "followers_url": "https://api.github.com/users/jbaiter/followers", "following_url": "https://api.github.com/users/jbaiter/following{/other_user}", "gists_url": "https://api.github.com/users/jbaiter/gists{/gist_id}", "starred_url": "https://api.github.com/users/jbaiter/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jbaiter/subscriptions", "organizations_url": "https://api.github.com/users/jbaiter/orgs", "repos_url": "https://api.github.com/users/jbaiter/repos", "events_url": "https://api.github.com/users/jbaiter/events{/privacy}", "received_events_url": "https://api.github.com/users/jbaiter/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 233081, "node_id": "MDU6TGFiZWwyMzMwODE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20easy", "name": "difficulty easy", "color": "00ff00", "default": false, "description": "Easy issue: required small fix"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2018-01-03T15:12:11Z", "updated_at": "2018-03-01T18:46:15Z", "closed_at": "2018-03-01T08:17:47Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Description\r\nWhen using `gensim.models.fasttext.FastText`, the actual memory usage is much higher (>2x) than predicted by `FastText.estimate_memory`.\r\nMy usage scenario is to generate 300-dimensional word embeddings using SkipGram training with window size 8. My corpus has ~55,000,000 documents with ~4,144,457 word types across ~20,000,000,000 tokens. The machine has 16GB of available memory, 15GB of which are available for the Gensim process, as well as 16GB of Swap space.\r\n\r\nThe estimated memory usage is ~11.2GB (see below), which is identical to the size estimated for the Word2Vec model with the same parameters. Training with Word2Vec works flawlessly and uses almost exactly as much memory as estimated.\r\n\r\nIt seems that `FastText` does not implement its own `estimate_memory` method, but inherits it from the `Word2Vec` class, yielding unreliable values as can be seen below.  The critical section where the most memory is used seems to be this part in `FastText.init_ngrams`:\r\n\r\n```python\r\nall_ngrams = []\r\nfor w, v in self.wv.vocab.items():\r\n    self.wv.ngrams_word[w] = compute_ngrams(w, self.min_n, self.max_n)\r\n    all_ngrams += self.wv.ngrams_word[w]\r\n```\r\n\r\n#### Steps/Code/Corpus to Reproduce\r\n\r\n```python\r\nfrom gensim.models import fasttext\r\n\r\nmodel = fasttext.FastText(size=300, sg=1, window=8, min_count=50, workers=8, iter=5)\r\n\r\n# Word frequencies loaded from a finite state transducer on disk, i.e. no memory usage\r\nfreqs = load_frequencies()\r\nvocab_size = sum(1 for typ, cnt in freqs.items() if cnt >= 50)\r\nmodel.estimate_memory(vocab_size=vocab_size, report=True)\r\n# { 'syn0': 4973348400,\r\n#   'syn1neg': 4973348400,\r\n#   'vocab': 2072228500\r\n#   'total': 12018925300 }\r\n# I.e. ~11.2GB, well within the available memory\r\n\r\nmodel.build_vocab_from_freq(freqs, corpus_count=54878750)\r\n# Memory usage is at ~7GB now, identical to Word2Vec\r\n\r\nmodel.init_ngrams()\r\n# ... Killed by OOM killer after swap space has run out\r\n```\r\n\r\n#### Expected Results\r\nShould finish training without running out of memory.\r\n\r\n#### Actual Results\r\nRuns out of memory.\r\n\r\n#### Versions\r\n```\r\nLinux-4.10.0-28-generic-x86_64-with-Ubuntu-16.04-xenial\r\nPython 3.5.2 (default, Nov 23 2017, 16:37:01)\r\n[GCC 5.4.0 20160609]\r\nNumPy 1.13.3\r\nSciPy 1.0.0\r\ngensim 3.2.0\r\nFAST_VERSION (fasttext) 1\r\nFAST_VERSION (word2vec) 1\r\n```\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1824/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1824/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1818", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1818/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1818/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1818/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/1818", "id": 284616159, "node_id": "MDU6SXNzdWUyODQ2MTYxNTk=", "number": 1818, "title": "Incorrect setting of FastText parameters during online training  ", "user": {"login": "manneshiva", "id": 26998249, "node_id": "MDQ6VXNlcjI2OTk4MjQ5", "avatar_url": "https://avatars.githubusercontent.com/u/26998249?v=4", "gravatar_id": "", "url": "https://api.github.com/users/manneshiva", "html_url": "https://github.com/manneshiva", "followers_url": "https://api.github.com/users/manneshiva/followers", "following_url": "https://api.github.com/users/manneshiva/following{/other_user}", "gists_url": "https://api.github.com/users/manneshiva/gists{/gist_id}", "starred_url": "https://api.github.com/users/manneshiva/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/manneshiva/subscriptions", "organizations_url": "https://api.github.com/users/manneshiva/orgs", "repos_url": "https://api.github.com/users/manneshiva/repos", "events_url": "https://api.github.com/users/manneshiva/events{/privacy}", "received_events_url": "https://api.github.com/users/manneshiva/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 233081, "node_id": "MDU6TGFiZWwyMzMwODE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20easy", "name": "difficulty easy", "color": "00ff00", "default": false, "description": "Easy issue: required small fix"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-12-26T22:11:55Z", "updated_at": "2018-01-12T06:01:19Z", "closed_at": "2018-01-12T06:01:19Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Description\r\nThe `FastText` model is trained with wrong parameters (`epochs`, `total_examples`, `start_alpha`, `end_alpha`) when calling `FastText.train` after building vocabulary. Since the above-mentioned training parameters are not logged, this bug is hidden from the users (probably explains why no one reported this issue earlier). This is a result of incorrect parameter setting ([here](https://github.com/RaRe-Technologies/gensim/blob/develop/gensim/models/fasttext.py#L531)) in the original pure python native implementation PR #1525 ([here](https://github.com/RaRe-Technologies/gensim/pull/1525/files#diff-d600f54965c37a9b12d856fe05956d90R205)).\r\n\r\n#### Steps/Code/Corpus to Reproduce\r\nNo code -- since this issue is not detectable through code.\r\n\r\n#### Expected Results\r\nOn calling `model.train(....)`, the model should train with parameters provided in the method call.\r\n\r\n#### Actual Results\r\nModel trains with the parameters set during model initialization.\r\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1818/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1818/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1789", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1789/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1789/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1789/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/1789", "id": 282297003, "node_id": "MDU6SXNzdWUyODIyOTcwMDM=", "number": 1789, "title": "open('aclImdb/alldata-id.txt', encoding='utf-8') doesn't work in Python 2.x ", "user": {"login": "gitclem", "id": 2096427, "node_id": "MDQ6VXNlcjIwOTY0Mjc=", "avatar_url": "https://avatars.githubusercontent.com/u/2096427?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gitclem", "html_url": "https://github.com/gitclem", "followers_url": "https://api.github.com/users/gitclem/followers", "following_url": "https://api.github.com/users/gitclem/following{/other_user}", "gists_url": "https://api.github.com/users/gitclem/gists{/gist_id}", "starred_url": "https://api.github.com/users/gitclem/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gitclem/subscriptions", "organizations_url": "https://api.github.com/users/gitclem/orgs", "repos_url": "https://api.github.com/users/gitclem/repos", "events_url": "https://api.github.com/users/gitclem/events{/privacy}", "received_events_url": "https://api.github.com/users/gitclem/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 234670, "node_id": "MDU6TGFiZWwyMzQ2NzA=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20medium", "name": "difficulty medium", "color": "00d000", "default": false, "description": "Medium issue: required good gensim understanding & python skills"}, {"id": 721000065, "node_id": "MDU6TGFiZWw3MjEwMDAwNjU=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/good%20first%20issue", "name": "good first issue", "color": "7057ff", "default": true, "description": "Issue for new contributors (not required gensim understanding + very simple)"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2017-12-15T01:57:07Z", "updated_at": "2018-03-10T05:31:23Z", "closed_at": "2018-03-10T05:31:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "In file doc2vec-IMDB.ipynb, this statement is not supported in Python 2.x but is in Python 3.x\r\n\r\n`with open('aclImdb/alldata-id.txt', encoding='utf-8') as alldata:\r\n`\r\n\r\nThis works in Python 2.7:\r\n\r\n`import codecs\r\n`\r\n`with codecs.open('aclImdb/alldata-id.txt', encoding='utf-8') as alldata:\r\n`", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1789/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1789/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1788", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1788/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1788/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1788/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/1788", "id": 282296035, "node_id": "MDU6SXNzdWUyODIyOTYwMzU=", "number": 1788, "title": "os.path.isfile('question-words.txt') should be 'questions-...", "user": {"login": "gitclem", "id": 2096427, "node_id": "MDQ6VXNlcjIwOTY0Mjc=", "avatar_url": "https://avatars.githubusercontent.com/u/2096427?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gitclem", "html_url": "https://github.com/gitclem", "followers_url": "https://api.github.com/users/gitclem/followers", "following_url": "https://api.github.com/users/gitclem/following{/other_user}", "gists_url": "https://api.github.com/users/gitclem/gists{/gist_id}", "starred_url": "https://api.github.com/users/gitclem/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gitclem/subscriptions", "organizations_url": "https://api.github.com/users/gitclem/orgs", "repos_url": "https://api.github.com/users/gitclem/repos", "events_url": "https://api.github.com/users/gitclem/events{/privacy}", "received_events_url": "https://api.github.com/users/gitclem/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 233081, "node_id": "MDU6TGFiZWwyMzMwODE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20easy", "name": "difficulty easy", "color": "00ff00", "default": false, "description": "Easy issue: required small fix"}, {"id": 721000065, "node_id": "MDU6TGFiZWw3MjEwMDAwNjU=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/good%20first%20issue", "name": "good first issue", "color": "7057ff", "default": true, "description": "Issue for new contributors (not required gensim understanding + very simple)"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-12-15T01:50:21Z", "updated_at": "2017-12-18T14:24:21Z", "closed_at": "2017-12-18T14:24:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "Minor typo in file doc2vec-IMDB.ipynb\r\n\r\nFile name used in the statement (Note missing 's' after the word `question` in file name)\r\n\r\n`if os.path.isfile('question-words.txt')\r\n`\r\nshould be:\r\n\r\n`if os.path.isfile('questions-words.txt')`", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1788/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1788/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1762", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1762/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1762/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1762/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/1762", "id": 279316392, "node_id": "MDU6SXNzdWUyNzkzMTYzOTI=", "number": 1762, "title": "ipython notebook starts ipython3 kernel also when choosing python2 Kernel", "user": {"login": "rbahumi", "id": 2045063, "node_id": "MDQ6VXNlcjIwNDUwNjM=", "avatar_url": "https://avatars.githubusercontent.com/u/2045063?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rbahumi", "html_url": "https://github.com/rbahumi", "followers_url": "https://api.github.com/users/rbahumi/followers", "following_url": "https://api.github.com/users/rbahumi/following{/other_user}", "gists_url": "https://api.github.com/users/rbahumi/gists{/gist_id}", "starred_url": "https://api.github.com/users/rbahumi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rbahumi/subscriptions", "organizations_url": "https://api.github.com/users/rbahumi/orgs", "repos_url": "https://api.github.com/users/rbahumi/repos", "events_url": "https://api.github.com/users/rbahumi/events{/privacy}", "received_events_url": "https://api.github.com/users/rbahumi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 233081, "node_id": "MDU6TGFiZWwyMzMwODE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20easy", "name": "difficulty easy", "color": "00ff00", "default": false, "description": "Easy issue: required small fix"}, {"id": 721000065, "node_id": "MDU6TGFiZWw3MjEwMDAwNjU=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/good%20first%20issue", "name": "good first issue", "color": "7057ff", "default": true, "description": "Issue for new contributors (not required gensim understanding + very simple)"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-12-05T10:09:42Z", "updated_at": "2017-12-05T14:02:54Z", "closed_at": "2017-12-05T14:02:54Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Description\r\nipython notebook starts ipython3 kernel also when choosing python2 Kernel\r\n\r\n#### Steps/Code/Corpus to Reproduce\r\nExample:\r\n1. Build a docker and login to it.\r\n2. Open a new jupyter notebook with python2 kernel\r\n3. Try running code that is only suitable to python2 syntax like: \r\n```\r\nprint 1\r\n```\r\n\r\n4. On Ubuntu you can also run:\r\n```    \r\nps -ef | grep jupyter\r\n```\r\nand verify the new notebook was started with ipython3 kernel\r\n\r\n#### Expected Results\r\nThe new notebook will be ran with ipython2 kernel\r\n\r\n#### Actual Results\r\nThe new notebook will be ran with ipython2 kernel\r\n\r\n### Cause:\r\nBoth Kernels has the same command - _python_ as the first _argv_ parameter:\r\n```\r\nroot@273133a334a2:/# cat /usr/local/share/jupyter/kernels/python3/kernel.json\r\n{\r\n \"argv\": [\r\n  \"python\",\r\n  \"-m\",\r\n  \"ipykernel_launcher\",\r\n  \"-f\",\r\n  \"{connection_file}\"\r\n ],\r\n \"display_name\": \"Python 3\",\r\n \"language\": \"python\"\r\n}root@273133a334a2:/# cat /usr/local/share/jupyter/kernels/python2/kernel.json\r\n{\r\n \"display_name\": \"Python 2\",\r\n \"language\": \"python\",\r\n \"argv\": [\r\n  \"python\",\r\n  \"-m\",\r\n  \"ipykernel_launcher\",\r\n  \"-f\",\r\n  \"{connection_file}\"\r\n ]\r\n}\r\n```\r\n\r\n### Solution\r\nRunning the following commands (as described [here](https://github.com/jupyter/notebook/issues/2563)):\r\n```\r\nroot@273133a334a2:/# ipython2 kernel install\r\nInstalled kernelspec python2 in /usr/local/share/jupyter/kernels/python2\r\nroot@273133a334a2:/# ipython3 kernel install\r\nInstalled kernelspec python3 in /usr/local/share/jupyter/kernels/python3\r\n```\r\n Fixes the issue:\r\n```\r\nroot@273133a334a2:/# cat /usr/local/share/jupyter/kernels/python2/kernel.json\r\n{\r\n \"display_name\": \"Python 2\",\r\n \"language\": \"python\",\r\n \"argv\": [\r\n  \"/usr/bin/python\",\r\n  \"-m\",\r\n  \"ipykernel_launcher\",\r\n  \"-f\",\r\n  \"{connection_file}\"\r\n ]\r\n}root@273133a334a2:/# cat /usr/local/share/jupyter/kernels/python3/kernel.json\r\n{\r\n \"argv\": [\r\n  \"/usr/bin/python3\",\r\n  \"-m\",\r\n  \"ipykernel_launcher\",\r\n  \"-f\",\r\n  \"{connection_file}\"\r\n ],\r\n \"display_name\": \"Python 3\",\r\n \"language\": \"python\"\r\n}\r\n```\r\n\r\n### Actions Required:\r\nAdd the following lines to the Dockerfile:\r\n```\r\nRUN ipython2 kernel install\r\nRUN ipython3 kernel install\r\n```\r\nI'll submit a Pull request containing these changes soon\r\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1762/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1762/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1752", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1752/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1752/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1752/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/1752", "id": 278826325, "node_id": "MDU6SXNzdWUyNzg4MjYzMjU=", "number": 1752, "title": "Incorrect learning of word vectors during online training using `FastText` native implementation", "user": {"login": "manneshiva", "id": 26998249, "node_id": "MDQ6VXNlcjI2OTk4MjQ5", "avatar_url": "https://avatars.githubusercontent.com/u/26998249?v=4", "gravatar_id": "", "url": "https://api.github.com/users/manneshiva", "html_url": "https://github.com/manneshiva", "followers_url": "https://api.github.com/users/manneshiva/followers", "following_url": "https://api.github.com/users/manneshiva/following{/other_user}", "gists_url": "https://api.github.com/users/manneshiva/gists{/gist_id}", "starred_url": "https://api.github.com/users/manneshiva/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/manneshiva/subscriptions", "organizations_url": "https://api.github.com/users/manneshiva/orgs", "repos_url": "https://api.github.com/users/manneshiva/repos", "events_url": "https://api.github.com/users/manneshiva/events{/privacy}", "received_events_url": "https://api.github.com/users/manneshiva/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 234670, "node_id": "MDU6TGFiZWwyMzQ2NzA=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20medium", "name": "difficulty medium", "color": "00d000", "default": false, "description": "Medium issue: required good gensim understanding & python skills"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-12-03T22:15:05Z", "updated_at": "2017-12-05T01:56:16Z", "closed_at": "2017-12-05T01:56:16Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Description\r\nA bug in Fasttext native implementation causes `syn0` to be equal to `syn0_vocab` at the end of training. This causes incorrect learning of vectors during online training.\r\n\r\n#### Steps/Code/Corpus to Reproduce\r\n\r\n```\r\nfrom gensim.models.word2vec import LineSentence\r\nfrom gensim.models.fasttext import FastText as FT_gensim\r\nimport os\r\nimport gensim\r\n\r\ndata_dir = '{}'.format(os.sep).join([gensim.__path__[0], 'test', 'test_data']) + os.sep\r\ndata_file = '{}lee_background.cor'.format(data_dir)\r\nsentences = LineSentence(data_file)\r\n\r\nmodel = FT_gensim(sg=1, hs=0,window=2, negative=5, iter=1)\r\nmodel.build_vocab(sentences)\r\nmodel.train(sentences, total_examples=model.corpus_count, epochs=model.iter)\r\n\r\nprint (model.wv.syn0 == model.wv.syn0_vocab).all()\r\n```\r\n#### Expected Results\r\n`False`\r\n\r\n#### Actual Results\r\n`True`\r\n\r\n#### Versions\r\nLinux-4.10.0-40-generic-x86_64-with-Ubuntu-16.04-xenial\r\n('Python', '2.7.12 (default, Nov 19 2016, 06:48:10) \\n[GCC 5.4.0 20160609]')\r\n('NumPy', '1.13.3')\r\n('SciPy', '1.0.0')\r\n('gensim', '3.1.0')\r\n('FAST_VERSION', 1)\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1752/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1752/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1751", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1751/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1751/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1751/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/1751", "id": 278719670, "node_id": "MDU6SXNzdWUyNzg3MTk2NzA=", "number": 1751, "title": "Gensim 3.1.0 Phrase loader incompatible with older models due to introduction of common_terms", "user": {"login": "dldx", "id": 107700, "node_id": "MDQ6VXNlcjEwNzcwMA==", "avatar_url": "https://avatars.githubusercontent.com/u/107700?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dldx", "html_url": "https://github.com/dldx", "followers_url": "https://api.github.com/users/dldx/followers", "following_url": "https://api.github.com/users/dldx/following{/other_user}", "gists_url": "https://api.github.com/users/dldx/gists{/gist_id}", "starred_url": "https://api.github.com/users/dldx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dldx/subscriptions", "organizations_url": "https://api.github.com/users/dldx/orgs", "repos_url": "https://api.github.com/users/dldx/repos", "events_url": "https://api.github.com/users/dldx/events{/privacy}", "received_events_url": "https://api.github.com/users/dldx/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2017-12-02T21:34:58Z", "updated_at": "2018-03-12T07:11:54Z", "closed_at": "2017-12-06T13:46:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have a Phrases model that was computed using Gensim 2.2.0 but because of changes in 3.1.0 (I believe), I cannot load it anymore. This is the error I get:\r\n\r\n```\r\n---------------------------------------------------------------------------\r\nAttributeError                            Traceback (most recent call last)\r\n<timed exec> in <module>()\r\n\r\n~/Stuff/Sources/anaconda3/envs/nlp/lib/python3.6/site-packages/gensim/models/phrases.py in __init__(self, phrases_model)\r\n    546         self.delimiter = phrases_model.delimiter\r\n    547         self.scoring = phrases_model.scoring\r\n--> 548         self.common_terms = phrases_model.common_terms\r\n    549         corpus = self.pseudocorpus(phrases_model)\r\n    550         self.phrasegrams = {}\r\n\r\nAttributeError: 'Phrases' object has no attribute 'common_terms'\r\n```\r\n\r\nCheers!", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1751/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1751/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1747", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1747/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1747/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1747/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/1747", "id": 278080414, "node_id": "MDU6SXNzdWUyNzgwODA0MTQ=", "number": 1747, "title": "Update show_topics method from Mallet wrapper", "user": {"login": "menshikh-iv", "id": 15094669, "node_id": "MDQ6VXNlcjE1MDk0NjY5", "avatar_url": "https://avatars.githubusercontent.com/u/15094669?v=4", "gravatar_id": "", "url": "https://api.github.com/users/menshikh-iv", "html_url": "https://github.com/menshikh-iv", "followers_url": "https://api.github.com/users/menshikh-iv/followers", "following_url": "https://api.github.com/users/menshikh-iv/following{/other_user}", "gists_url": "https://api.github.com/users/menshikh-iv/gists{/gist_id}", "starred_url": "https://api.github.com/users/menshikh-iv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/menshikh-iv/subscriptions", "organizations_url": "https://api.github.com/users/menshikh-iv/orgs", "repos_url": "https://api.github.com/users/menshikh-iv/repos", "events_url": "https://api.github.com/users/menshikh-iv/events{/privacy}", "received_events_url": "https://api.github.com/users/menshikh-iv/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 233081, "node_id": "MDU6TGFiZWwyMzMwODE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20easy", "name": "difficulty easy", "color": "00ff00", "default": false, "description": "Easy issue: required small fix"}, {"id": 721000065, "node_id": "MDU6TGFiZWw3MjEwMDAwNjU=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/good%20first%20issue", "name": "good first issue", "color": "7057ff", "default": true, "description": "Issue for new contributors (not required gensim understanding + very simple)"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-11-30T11:04:04Z", "updated_at": "2017-12-05T01:11:23Z", "closed_at": "2017-12-05T01:11:23Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Need to update https://github.com/RaRe-Technologies/gensim/blob/3.1.0/gensim/models/wrappers/ldamallet.py#L250 (replace `num_words` to `topn`) to prevent warning (report comes from https://groups.google.com/forum/#!topic/gensim/r3YIaqPRmzU)", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1747/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1747/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1743", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1743/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1743/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1743/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/1743", "id": 277519345, "node_id": "MDU6SXNzdWUyNzc1MTkzNDU=", "number": 1743, "title": "`save/load_word2vec_format` fails for `FastText` models", "user": {"login": "jayantj", "id": 1329532, "node_id": "MDQ6VXNlcjEzMjk1MzI=", "avatar_url": "https://avatars.githubusercontent.com/u/1329532?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jayantj", "html_url": "https://github.com/jayantj", "followers_url": "https://api.github.com/users/jayantj/followers", "following_url": "https://api.github.com/users/jayantj/following{/other_user}", "gists_url": "https://api.github.com/users/jayantj/gists{/gist_id}", "starred_url": "https://api.github.com/users/jayantj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jayantj/subscriptions", "organizations_url": "https://api.github.com/users/jayantj/orgs", "repos_url": "https://api.github.com/users/jayantj/repos", "events_url": "https://api.github.com/users/jayantj/events{/privacy}", "received_events_url": "https://api.github.com/users/jayantj/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 234670, "node_id": "MDU6TGFiZWwyMzQ2NzA=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20medium", "name": "difficulty medium", "color": "00d000", "default": false, "description": "Medium issue: required good gensim understanding & python skills"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2017-11-28T20:01:41Z", "updated_at": "2017-12-06T11:47:30Z", "closed_at": "2017-12-06T11:46:28Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Description\r\nSaving and loading using `save_word2vec_format` and `load_word2vec_format` fails for both native FastText models and models loaded using the wrapper.\r\n#### Steps/Code/Corpus to Reproduce\r\nExample:\r\n```python\r\nfrom gensim.models import fasttext as ft\r\nfrom gensim.models.wrappers import fasttext as ft_wrapper\r\nfrom gensim.models.word2vec import Text8Corpus\r\n\r\ncorpus = Text8Corpus('gensim/test/test_data/lee_background.cor')\r\nnative_model = ft.FastText()\r\nnative_model.build_vocab(corpus)\r\n\r\nprint(native_model.wv.most_similar('wars'))\r\n>>> # prints results\r\n\r\nprint(native_model.wv['wars'])\r\n>>> # prints results\r\n\r\nnative_model.wv.save_word2vec_format('test.wv')\r\nwv = ft_wrapper.FastTextKeyedVectors.load_word2vec_format('test.wv')\r\n```\r\n\r\n```\r\nprint(wv.most_similar('wars'))\r\n\r\n---------------------------------------------------------------------------\r\nTypeError                                 Traceback (most recent call last)\r\n<ipython-input-5-43e12f136081> in <module>()\r\n----> 1 print(wv.most_similar('wars'))\r\n\r\n~/Projects/gensim/gensim/gensim/models/keyedvectors.py in most_similar(self, positive, negative, topn, restrict_vocab, indexer)\r\n    318             negative = []\r\n    319 \r\n--> 320         self.init_sims()\r\n    321 \r\n    322         if isinstance(positive, string_types) and not negative:\r\n\r\n~/Projects/gensim/gensim/gensim/models/wrappers/fasttext.py in init_sims(self, replace)\r\n    125             else:\r\n    126                 self.syn0_ngrams_norm = \\\r\n--> 127                     (self.syn0_ngrams / sqrt((self.syn0_ngrams ** 2).sum(-1))[..., newaxis]).astype(REAL)\r\n    128 \r\n    129     def __contains__(self, word):\r\n\r\nTypeError: unsupported operand type(s) for ** or pow(): 'NoneType' and 'int'\r\n```\r\n\r\n```\r\nprint(wv['wars'])\r\n\r\n---------------------------------------------------------------------------\r\nAttributeError                            Traceback (most recent call last)\r\n<ipython-input-6-ce05f767b013> in <module>()\r\n----> 1 print(wv['wars'])\r\n\r\n~/Projects/gensim/gensim/gensim/models/keyedvectors.py in __getitem__(self, words)\r\n    601         if isinstance(words, string_types):\r\n    602             # allow calls like trained_model['office'], as a shorthand for trained_model[['office']]\r\n--> 603             return self.word_vec(words)\r\n    604 \r\n    605         return vstack([self.word_vec(word) for word in words])\r\n\r\n~/Projects/gensim/gensim/gensim/models/wrappers/fasttext.py in word_vec(self, word, use_norm)\r\n     91             return super(FastTextKeyedVectors, self).word_vec(word, use_norm)\r\n     92         else:\r\n---> 93             word_vec = np.zeros(self.syn0_ngrams.shape[1], dtype=np.float32)\r\n     94             ngrams = compute_ngrams(word, self.min_n, self.max_n)\r\n     95             ngrams = [ng for ng in ngrams if ng in self.ngrams]\r\n\r\nAttributeError: 'NoneType' object has no attribute 'shape'\r\n```\r\n\r\nFrom a quick glance, it looks like this resulted from the changes made to `FastTextKeyedVectors` during the native implementation of `FastText` where two different matrices - `syn0_vocab` and `syn0_ngrams` were created.\r\nAlthough, I'm not sure `save_word2vec_format` is even suitable for `FastText` seeing as how the ngram vectors aren't stored to disk.", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1743/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1743/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1732", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1732/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1732/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1732/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/1732", "id": 275787636, "node_id": "MDU6SXNzdWUyNzU3ODc2MzY=", "number": 1732, "title": "Process case for dictionary id mismatch in LsiModel (instead of break the interpreter)", "user": {"login": "nmoran", "id": 433344, "node_id": "MDQ6VXNlcjQzMzM0NA==", "avatar_url": "https://avatars.githubusercontent.com/u/433344?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nmoran", "html_url": "https://github.com/nmoran", "followers_url": "https://api.github.com/users/nmoran/followers", "following_url": "https://api.github.com/users/nmoran/following{/other_user}", "gists_url": "https://api.github.com/users/nmoran/gists{/gist_id}", "starred_url": "https://api.github.com/users/nmoran/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nmoran/subscriptions", "organizations_url": "https://api.github.com/users/nmoran/orgs", "repos_url": "https://api.github.com/users/nmoran/repos", "events_url": "https://api.github.com/users/nmoran/events{/privacy}", "received_events_url": "https://api.github.com/users/nmoran/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 175643, "node_id": "MDU6TGFiZWwxNzU2NDM=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/documentation", "name": "documentation", "color": "02d7e1", "default": true, "description": "Current issue related to documentation"}, {"id": 233081, "node_id": "MDU6TGFiZWwyMzMwODE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20easy", "name": "difficulty easy", "color": "00ff00", "default": false, "description": "Easy issue: required small fix"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2017-11-21T16:58:13Z", "updated_at": "2017-11-23T10:59:11Z", "closed_at": "2017-11-23T04:39:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\nIf your issue is a usage or a general question, please submit it here instead:\r\n- Mailing List: https://groups.google.com/forum/#!forum/gensim\r\nFor more information, see Recipes&FAQ: https://github.com/RaRe-Technologies/gensim/wiki/Recipes-&-FAQ\r\n-->\r\n\r\n<!-- Instructions For Filing a Bug: https://github.com/RaRe-Technologies/gensim/blob/develop/CONTRIBUTING.md -->\r\n\r\n#### Description\r\nAttempting to train LSI models in online mode results in a segmentation fault. \r\n<!-- Example: Vocabulary size is not what I expected when training Word2Vec. -->\r\n\r\n#### Steps/Code/Corpus to Reproduce\r\n<!--\r\nExample:\r\n-->\r\n```\r\nimport logging\r\nlogging.basicConfig(format='%(asctime)s : %(levelname)s : %(message)s', level=logging.DEBUG)\r\nfrom gensim import models\r\n\r\ncorpus = [[(0, 1.0), (1, 1.0), (2, 1.0)],\r\n          [(2, 1.0), (3, 1.0), (4, 1.0), (5, 1.0), (6, 1.0), (8, 1.0)],\r\n          [(1, 1.0), (3, 1.0), (4, 1.0), (7, 1.0)],\r\n          [(0, 1.0), (4, 2.0), (7, 1.0)],\r\n           [(3, 1.0), (5, 1.0), (6, 1.0)],\r\n           [(9, 1.0)],\r\n           [(9, 1.0), (10, 1.0)],\r\n           [(9, 1.0), (10, 1.0), (11, 1.0)],\r\n           [(8, 1.0), (10, 1.0), (11, 1.0)]]\r\n\r\nlsi2 = models.lsimodel.LsiModel(corpus[:5], num_topics=5)\r\nlsi2.add_documents(corpus[5:])\r\n```\r\n\r\n#### Expected Results\r\n<!-- Example: Expected shape of (100,2).-->\r\nThat model is trained successfully and gives the same topics as if full corpus was input in one go.\r\n\r\n#### Actual Results\r\n<!-- Example: Actual shape of (100,5). \r\n\r\nPlease paste or specifically describe the actual output or traceback. -->\r\n\r\nCrashes when documents are added in the stochastic_svd function of matutils.py. Output is:\r\n\r\n```\r\n2017-11-21 16:50:24,213 : DEBUG : Fast version of gensim.models.doc2vec is being used\r\n2017-11-21 16:50:24,219 : INFO : 'pattern' package not found; tag filters are not available for English\r\n2017-11-21 16:50:24,220 : WARNING : no word id mapping provided; initializing from corpus, assuming identity\r\n2017-11-21 16:50:24,220 : INFO : using serial LSI version on this node\r\n2017-11-21 16:50:24,220 : INFO : updating model with new documents\r\n2017-11-21 16:50:24,220 : INFO : preparing a new chunk of documents\r\n2017-11-21 16:50:24,220 : DEBUG : converting corpus to csc format\r\n2017-11-21 16:50:24,220 : INFO : using 100 extra samples and 2 power iterations\r\n2017-11-21 16:50:24,220 : INFO : 1st phase: constructing (9, 105) action matrix\r\n2017-11-21 16:50:24,220 : INFO : orthonormalizing (9, 105) action matrix\r\n2017-11-21 16:50:24,220 : DEBUG : computing QR of (9, 105) dense matrix\r\n2017-11-21 16:50:24,221 : DEBUG : running 2 power iterations\r\n2017-11-21 16:50:24,221 : DEBUG : computing QR of (9, 9) dense matrix\r\n2017-11-21 16:50:24,221 : DEBUG : computing QR of (9, 9) dense matrix\r\n2017-11-21 16:50:24,221 : INFO : 2nd phase: running dense svd on (9, 5) matrix\r\n2017-11-21 16:50:24,221 : INFO : computing the final decomposition\r\n2017-11-21 16:50:24,221 : INFO : keeping 5 factors (discarding 0.000% of energy spectrum)\r\n2017-11-21 16:50:24,222 : INFO : processed documents up to #5\r\n2017-11-21 16:50:24,222 : INFO : topic #0(3.333): 0.650*\"4\" + 0.405*\"3\" + 0.305*\"7\" + 0.264*\"5\" + 0.264*\"6\" + 0.240*\"2\" + 0.225*\"0\" + 0.200*\"1\" + 0.180*\"8\"\r\n2017-11-21 16:50:24,222 : INFO : topic #1(2.363): 0.448*\"6\" + 0.448*\"5\" + -0.390*\"4\" + -0.356*\"7\" + 0.350*\"3\" + -0.309*\"0\" + 0.225*\"8\" + 0.174*\"2\" + -0.148*\"1\"\r\n2017-11-21 16:50:24,222 : INFO : topic #2(1.644): 0.594*\"2\" + 0.557*\"1\" + 0.413*\"0\" + -0.337*\"4\" + -0.187*\"7\" + -0.091*\"3\" + -0.070*\"6\" + -0.070*\"5\" + 0.016*\"8\"\r\n2017-11-21 16:50:24,222 : INFO : topic #3(1.365): 0.562*\"1\" + 0.503*\"3\" + -0.324*\"0\" + 0.297*\"7\" + -0.293*\"2\" + -0.263*\"8\" + -0.261*\"4\" + -0.088*\"6\" + -0.088*\"5\"\r\n2017-11-21 16:50:24,222 : INFO : topic #4(0.858): -0.583*\"0\" + 0.555*\"8\" + -0.323*\"5\" + -0.323*\"6\" + 0.322*\"2\" + 0.177*\"4\" + 0.089*\"1\" + -0.028*\"7\" + -0.001*\"3\"\r\n2017-11-21 16:50:24,222 : INFO : updating model with new documents\r\n2017-11-21 16:50:24,222 : INFO : preparing a new chunk of documents\r\n2017-11-21 16:50:24,222 : DEBUG : converting corpus to csc format\r\n2017-11-21 16:50:24,222 : INFO : using 100 extra samples and 2 power iterations\r\n2017-11-21 16:50:24,222 : INFO : 1st phase: constructing (9, 105) action matrix\r\n2017-11-21 16:50:24,222 : INFO : orthonormalizing (9, 105) action matrix\r\n*** Error in `python': double free or corruption (!prev): 0x0000000001785490 ***\r\n```\r\n\r\nFull backtrace output found at https://gist.github.com/nmoran/09a13599156e56d6b40a0e7627642e7a\r\n\r\n#### Versions\r\n<!--\r\nPlease run the following snippet and paste the output below.\r\nimport platform; print(platform.platform())\r\nimport sys; print(\"Python\", sys.version)\r\nimport numpy; print(\"NumPy\", numpy.__version__)\r\nimport scipy; print(\"SciPy\", scipy.__version__)\r\nimport gensim; print(\"gensim\", gensim.__version__)\r\nfrom gensim.models import word2vec;print(\"FAST_VERSION\", word2vec.FAST_VERSION)\r\n-->\r\nLinux-4.4.0-97-generic-x86_64-with-Ubuntu-16.04-xenial\r\n('Python', '2.7.12 (default, Nov 19 2016, 06:48:10) \\n[GCC 5.4.0 20160609]')\r\n('NumPy', '1.13.3')\r\n('SciPy', '1.0.0')\r\n('gensim', '3.1.0')\r\n('FAST_VERSION', 1)\r\n\r\n<!-- Thanks for contributing! -->\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1732/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1732/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1722", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1722/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1722/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1722/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/1722", "id": 274835834, "node_id": "MDU6SXNzdWUyNzQ4MzU4MzQ=", "number": 1722, "title": "matutils.unitvec returns vector with different dtype from input vector", "user": {"login": "jayantj", "id": 1329532, "node_id": "MDQ6VXNlcjEzMjk1MzI=", "avatar_url": "https://avatars.githubusercontent.com/u/1329532?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jayantj", "html_url": "https://github.com/jayantj", "followers_url": "https://api.github.com/users/jayantj/followers", "following_url": "https://api.github.com/users/jayantj/following{/other_user}", "gists_url": "https://api.github.com/users/jayantj/gists{/gist_id}", "starred_url": "https://api.github.com/users/jayantj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jayantj/subscriptions", "organizations_url": "https://api.github.com/users/jayantj/orgs", "repos_url": "https://api.github.com/users/jayantj/repos", "events_url": "https://api.github.com/users/jayantj/events{/privacy}", "received_events_url": "https://api.github.com/users/jayantj/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 233081, "node_id": "MDU6TGFiZWwyMzMwODE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20easy", "name": "difficulty easy", "color": "00ff00", "default": false, "description": "Easy issue: required small fix"}, {"id": 721000065, "node_id": "MDU6TGFiZWw3MjEwMDAwNjU=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/good%20first%20issue", "name": "good first issue", "color": "7057ff", "default": true, "description": "Issue for new contributors (not required gensim understanding + very simple)"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-11-17T11:29:56Z", "updated_at": "2018-04-16T03:50:41Z", "closed_at": "2018-04-16T03:50:41Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Description\r\n`matutils.unitvec` can return a unitvector of a different dtype from the input vector if the input dtype isn't `np.float`.\r\n#### Steps/Code/Corpus to Reproduce\r\n```python\r\nfrom gensim import matutils\r\nimport numpy as np\r\n\r\ninput_vector = np.random.uniform(size=(100,)).astype(np.float32)\r\nprint(input_vector.dtype)\r\n>>> float32\r\n\r\nunit_vector = matutils.unitvec(input_vector) \r\nprint(unit_vector.dtype)\r\n>>> float64\r\n```\r\n\r\nThis seems like mostly an internally used method, so it's probably not super-important but it does lead to some surprises while developing.", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1722/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1722/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1718", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1718/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1718/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1718/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/1718", "id": 274258361, "node_id": "MDU6SXNzdWUyNzQyNTgzNjE=", "number": 1718, "title": "Bug in bm25 implementation.", "user": {"login": "se4u", "id": 2301364, "node_id": "MDQ6VXNlcjIzMDEzNjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/2301364?v=4", "gravatar_id": "", "url": "https://api.github.com/users/se4u", "html_url": "https://github.com/se4u", "followers_url": "https://api.github.com/users/se4u/followers", "following_url": "https://api.github.com/users/se4u/following{/other_user}", "gists_url": "https://api.github.com/users/se4u/gists{/gist_id}", "starred_url": "https://api.github.com/users/se4u/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/se4u/subscriptions", "organizations_url": "https://api.github.com/users/se4u/orgs", "repos_url": "https://api.github.com/users/se4u/repos", "events_url": "https://api.github.com/users/se4u/events{/privacy}", "received_events_url": "https://api.github.com/users/se4u/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 233081, "node_id": "MDU6TGFiZWwyMzMwODE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20easy", "name": "difficulty easy", "color": "00ff00", "default": false, "description": "Easy issue: required small fix"}, {"id": 721000065, "node_id": "MDU6TGFiZWw3MjEwMDAwNjU=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/good%20first%20issue", "name": "good first issue", "color": "7057ff", "default": true, "description": "Issue for new contributors (not required gensim understanding + very simple)"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-11-15T18:28:16Z", "updated_at": "2017-11-20T05:20:02Z", "closed_at": "2017-11-20T05:20:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "In line 52 of bm25.py the variable `self.corpus_size` should be replaced by `len(document)`.\r\n\r\nhttps://github.com/RaRe-Technologies/gensim/blob/82c394a9085d583e8a75c2bb32ecd37cf61236f0/gensim/summarization/bm25.py#L52", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1718/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1718/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1710", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1710/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1710/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1710/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/1710", "id": 273228166, "node_id": "MDU6SXNzdWUyNzMyMjgxNjY=", "number": 1710, "title": "segment_wiki doesn't extract only plain text", "user": {"login": "piskvorky", "id": 610412, "node_id": "MDQ6VXNlcjYxMDQxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/610412?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piskvorky", "html_url": "https://github.com/piskvorky", "followers_url": "https://api.github.com/users/piskvorky/followers", "following_url": "https://api.github.com/users/piskvorky/following{/other_user}", "gists_url": "https://api.github.com/users/piskvorky/gists{/gist_id}", "starred_url": "https://api.github.com/users/piskvorky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piskvorky/subscriptions", "organizations_url": "https://api.github.com/users/piskvorky/orgs", "repos_url": "https://api.github.com/users/piskvorky/repos", "events_url": "https://api.github.com/users/piskvorky/events{/privacy}", "received_events_url": "https://api.github.com/users/piskvorky/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 234670, "node_id": "MDU6TGFiZWwyMzQ2NzA=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20medium", "name": "difficulty medium", "color": "00d000", "default": false, "description": "Medium issue: required good gensim understanding & python skills"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2017-11-12T13:16:24Z", "updated_at": "2018-03-15T14:34:07Z", "closed_at": "2018-03-15T14:34:07Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "The `segment_wiki.py` script doesn't filter formatting properly. Its plain text output contains rubbish like `{| class=\\\"wikitable\\\" style=\\\"text-align: center`, for example in the article `Academy Award for Best Production Design`, but also others.\r\n\r\nThis is contrary to the stated mission of the script.", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1710/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1710/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1706", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1706/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1706/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1706/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/1706", "id": 273066116, "node_id": "MDU6SXNzdWUyNzMwNjYxMTY=", "number": 1706, "title": "Missplaced logging", "user": {"login": "piskvorky", "id": 610412, "node_id": "MDQ6VXNlcjYxMDQxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/610412?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piskvorky", "html_url": "https://github.com/piskvorky", "followers_url": "https://api.github.com/users/piskvorky/followers", "following_url": "https://api.github.com/users/piskvorky/following{/other_user}", "gists_url": "https://api.github.com/users/piskvorky/gists{/gist_id}", "starred_url": "https://api.github.com/users/piskvorky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piskvorky/subscriptions", "organizations_url": "https://api.github.com/users/piskvorky/orgs", "repos_url": "https://api.github.com/users/piskvorky/repos", "events_url": "https://api.github.com/users/piskvorky/events{/privacy}", "received_events_url": "https://api.github.com/users/piskvorky/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 233081, "node_id": "MDU6TGFiZWwyMzMwODE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20easy", "name": "difficulty easy", "color": "00ff00", "default": false, "description": "Easy issue: required small fix"}, {"id": 721000065, "node_id": "MDU6TGFiZWw3MjEwMDAwNjU=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/good%20first%20issue", "name": "good first issue", "color": "7057ff", "default": true, "description": "Issue for new contributors (not required gensim understanding + very simple)"}], "state": "closed", "locked": false, "assignee": {"login": "menshikh-iv", "id": 15094669, "node_id": "MDQ6VXNlcjE1MDk0NjY5", "avatar_url": "https://avatars.githubusercontent.com/u/15094669?v=4", "gravatar_id": "", "url": "https://api.github.com/users/menshikh-iv", "html_url": "https://github.com/menshikh-iv", "followers_url": "https://api.github.com/users/menshikh-iv/followers", "following_url": "https://api.github.com/users/menshikh-iv/following{/other_user}", "gists_url": "https://api.github.com/users/menshikh-iv/gists{/gist_id}", "starred_url": "https://api.github.com/users/menshikh-iv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/menshikh-iv/subscriptions", "organizations_url": "https://api.github.com/users/menshikh-iv/orgs", "repos_url": "https://api.github.com/users/menshikh-iv/repos", "events_url": "https://api.github.com/users/menshikh-iv/events{/privacy}", "received_events_url": "https://api.github.com/users/menshikh-iv/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "menshikh-iv", "id": 15094669, "node_id": "MDQ6VXNlcjE1MDk0NjY5", "avatar_url": "https://avatars.githubusercontent.com/u/15094669?v=4", "gravatar_id": "", "url": "https://api.github.com/users/menshikh-iv", "html_url": "https://github.com/menshikh-iv", "followers_url": "https://api.github.com/users/menshikh-iv/followers", "following_url": "https://api.github.com/users/menshikh-iv/following{/other_user}", "gists_url": "https://api.github.com/users/menshikh-iv/gists{/gist_id}", "starred_url": "https://api.github.com/users/menshikh-iv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/menshikh-iv/subscriptions", "organizations_url": "https://api.github.com/users/menshikh-iv/orgs", "repos_url": "https://api.github.com/users/menshikh-iv/repos", "events_url": "https://api.github.com/users/menshikh-iv/events{/privacy}", "received_events_url": "https://api.github.com/users/menshikh-iv/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 9, "created_at": "2017-11-10T21:31:24Z", "updated_at": "2018-02-01T18:46:53Z", "closed_at": "2018-02-01T17:58:05Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Running the `segment_wiki.py` scripts prints:\r\n\r\n```bash\r\n$ time python -m gensim.scripts.segment_wiki -f /data_hdd/wiki/enwiki-latest-pages-articles.xml.bz2 -o /data_hdd/wiki/enwiki-latest.json.gz\r\n\r\nNo handlers could be found for logger \"gensim.models.doc2vec\"\r\n\r\n2017-11-10 22:21:25,334 : MainProcess : INFO : running /home/radim/workspace/gensim/gensim/scripts/segment_wiki.py -f /data_hdd/wiki/enwiki-latest-pages-articles.xml.bz2 -o /data_hdd/wiki/enwiki-latest.json.gz\r\n2017-11-10 22:24:40,174 : MainProcess : INFO : Processed #100000 articles\r\n```\r\n\r\nwhich is a bug. The doc2vec module should not log anything on import -- it should behave the same as word2vec, or any other gensim module.", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1706/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1706/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1698", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1698/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1698/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1698/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/1698", "id": 271751098, "node_id": "MDU6SXNzdWUyNzE3NTEwOTg=", "number": 1698, "title": "Reduce size of gensim distrib", "user": {"login": "menshikh-iv", "id": 15094669, "node_id": "MDQ6VXNlcjE1MDk0NjY5", "avatar_url": "https://avatars.githubusercontent.com/u/15094669?v=4", "gravatar_id": "", "url": "https://api.github.com/users/menshikh-iv", "html_url": "https://github.com/menshikh-iv", "followers_url": "https://api.github.com/users/menshikh-iv/followers", "following_url": "https://api.github.com/users/menshikh-iv/following{/other_user}", "gists_url": "https://api.github.com/users/menshikh-iv/gists{/gist_id}", "starred_url": "https://api.github.com/users/menshikh-iv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/menshikh-iv/subscriptions", "organizations_url": "https://api.github.com/users/menshikh-iv/orgs", "repos_url": "https://api.github.com/users/menshikh-iv/repos", "events_url": "https://api.github.com/users/menshikh-iv/events{/privacy}", "received_events_url": "https://api.github.com/users/menshikh-iv/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 233081, "node_id": "MDU6TGFiZWwyMzMwODE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20easy", "name": "difficulty easy", "color": "00ff00", "default": false, "description": "Easy issue: required small fix"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-11-07T08:46:48Z", "updated_at": "2017-11-08T05:15:51Z", "closed_at": "2017-11-08T05:15:51Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "For the current moment, gensim distribution is very heavy (>60Mb for `.tar.gz`). Need to significantly reduce this value, for example, remove notebooks from tar.gz and so on.\r\n\r\n**How to produce `tar.gz`**\r\n`python setup.py sdist`\r\n\r\n**How to control content in `tar.gz`**\r\nChange [MANIFEST.in](https://github.com/RaRe-Technologies/gensim/blob/develop/MANIFEST.in)", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1698/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1698/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1683", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1683/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1683/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1683/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/1683", "id": 270405112, "node_id": "MDU6SXNzdWUyNzA0MDUxMTI=", "number": 1683, "title": "model/coherencemodel.py issue - no single core mode", "user": {"login": "chriswi93", "id": 33293241, "node_id": "MDQ6VXNlcjMzMjkzMjQx", "avatar_url": "https://avatars.githubusercontent.com/u/33293241?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chriswi93", "html_url": "https://github.com/chriswi93", "followers_url": "https://api.github.com/users/chriswi93/followers", "following_url": "https://api.github.com/users/chriswi93/following{/other_user}", "gists_url": "https://api.github.com/users/chriswi93/gists{/gist_id}", "starred_url": "https://api.github.com/users/chriswi93/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chriswi93/subscriptions", "organizations_url": "https://api.github.com/users/chriswi93/orgs", "repos_url": "https://api.github.com/users/chriswi93/repos", "events_url": "https://api.github.com/users/chriswi93/events{/privacy}", "received_events_url": "https://api.github.com/users/chriswi93/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 233081, "node_id": "MDU6TGFiZWwyMzMwODE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20easy", "name": "difficulty easy", "color": "00ff00", "default": false, "description": "Easy issue: required small fix"}, {"id": 721000065, "node_id": "MDU6TGFiZWw3MjEwMDAwNjU=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/good%20first%20issue", "name": "good first issue", "color": "7057ff", "default": true, "description": "Issue for new contributors (not required gensim understanding + very simple)"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-11-01T18:28:08Z", "updated_at": "2017-11-02T06:35:41Z", "closed_at": "2017-11-02T06:34:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Description\r\n**model/coherencemodel.py** can not be used in single core mode.\r\n\r\n#### Steps/Code/Corpus to Reproduce\r\n**line 218**\r\n`self.processes = processes if processes > 1 else max(1, mp.cpu_count() - 1)`\r\n\r\n#### Expected Results\r\nIf I choose processes parameter = 1 for TopicCoherence, self.processes should be 1, too.\r\n\r\n#### Actual Results\r\nIf I choose processes parameter = 1 for TopicCoherence, self.processes is mp.cpu_count() - 1. In my case self.processes = 3.\r\n\r\n#### Solution\r\n**line 218**\r\n`self.processes = processes if processes >= 1 else max(1, mp.cpu_count() - 1)`\r\n\r\n#### Versions\r\nWindows-10-10.0.14393-SP0\r\nPython 3.5.2 |Enthought, Inc. (x86_64)| (default, Mar  2 2017, 16:37:47) [MSC v.1900 64 bit (AMD64)]\r\nNumPy 1.13.3\r\nSciPy 1.0.0\r\ngensim 3.0.1\r\nFAST_VERSION 0\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1683/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1683/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1682", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1682/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1682/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1682/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/1682", "id": 270379741, "node_id": "MDU6SXNzdWUyNzAzNzk3NDE=", "number": 1682, "title": "`datatype` parameter in `load_word2vec_format` doesn't work as expected", "user": {"login": "jayantj", "id": 1329532, "node_id": "MDQ6VXNlcjEzMjk1MzI=", "avatar_url": "https://avatars.githubusercontent.com/u/1329532?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jayantj", "html_url": "https://github.com/jayantj", "followers_url": "https://api.github.com/users/jayantj/followers", "following_url": "https://api.github.com/users/jayantj/following{/other_user}", "gists_url": "https://api.github.com/users/jayantj/gists{/gist_id}", "starred_url": "https://api.github.com/users/jayantj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jayantj/subscriptions", "organizations_url": "https://api.github.com/users/jayantj/orgs", "repos_url": "https://api.github.com/users/jayantj/repos", "events_url": "https://api.github.com/users/jayantj/events{/privacy}", "received_events_url": "https://api.github.com/users/jayantj/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 233081, "node_id": "MDU6TGFiZWwyMzMwODE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20easy", "name": "difficulty easy", "color": "00ff00", "default": false, "description": "Easy issue: required small fix"}, {"id": 721000065, "node_id": "MDU6TGFiZWw3MjEwMDAwNjU=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/good%20first%20issue", "name": "good first issue", "color": "7057ff", "default": true, "description": "Issue for new contributors (not required gensim understanding + very simple)"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-11-01T17:06:58Z", "updated_at": "2018-02-16T10:01:17Z", "closed_at": "2018-02-16T10:01:17Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Description\r\nUsing `datatype=np.float64` in a `KeyedVectors.load_word2vec_call` doesn't work as expected, the loaded floats seem to lose precision. The datatype for `syn0` is still `float64` though, so it seems that they are cast to float32 first while loading, then cast to float64 when creating the array.\r\n\r\n#### Steps/Code/Corpus to Reproduce\r\nUsing this file - \r\n[test.kv.txt](https://github.com/RaRe-Technologies/gensim/files/1434953/test.kv.txt)\r\n\r\n```python\r\nfrom gensim.models.keyedvectors import KeyedVectors\r\nimport numpy as np\r\n\r\nkv = KeyedVectors.load_word2vec_format('test.kv.txt', datatype=np.float64)\r\nprint(kv['horse.n.01'][0] == -0.0008546282343595379)\r\n# False\r\nprint(kv['horse.n.01'].dtype)\r\n# float64\r\n```\r\n#### Expected Results\r\n```python\r\nprint(kv['horse.n.01'][0] == -0.0008546282343595379)\r\n# True\r\n```\r\n#### Actual Results\r\n```python\r\nprint(kv['horse.n.01'][0] == -0.0008546282343595379)\r\n# False\r\n```\r\n\r\nLooking at the code and making a quick hack [here](https://github.com/RaRe-Technologies/gensim/blob/develop/gensim/models/keyedvectors.py#L253), changing..\r\n```\r\nword, weights = parts[0], [REAL(x) for x in parts[1:]]\r\n```\r\nto..\r\n```\r\nword, weights = parts[0], [datatype(x) for x in parts[1:]]\r\n```\r\n..leads to the correct result. However, I imagine there are other cases to be covered as well.", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1682/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1682/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1676", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1676/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1676/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1676/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/1676", "id": 270069462, "node_id": "MDU6SXNzdWUyNzAwNjk0NjI=", "number": 1676, "title": "Bug in sklearn_api.hdp and in sklearn_api.ldamodel", "user": {"login": "mmunozm", "id": 5989775, "node_id": "MDQ6VXNlcjU5ODk3NzU=", "avatar_url": "https://avatars.githubusercontent.com/u/5989775?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mmunozm", "html_url": "https://github.com/mmunozm", "followers_url": "https://api.github.com/users/mmunozm/followers", "following_url": "https://api.github.com/users/mmunozm/following{/other_user}", "gists_url": "https://api.github.com/users/mmunozm/gists{/gist_id}", "starred_url": "https://api.github.com/users/mmunozm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mmunozm/subscriptions", "organizations_url": "https://api.github.com/users/mmunozm/orgs", "repos_url": "https://api.github.com/users/mmunozm/repos", "events_url": "https://api.github.com/users/mmunozm/events{/privacy}", "received_events_url": "https://api.github.com/users/mmunozm/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 233081, "node_id": "MDU6TGFiZWwyMzMwODE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20easy", "name": "difficulty easy", "color": "00ff00", "default": false, "description": "Easy issue: required small fix"}, {"id": 721000065, "node_id": "MDU6TGFiZWw3MjEwMDAwNjU=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/good%20first%20issue", "name": "good first issue", "color": "7057ff", "default": true, "description": "Issue for new contributors (not required gensim understanding + very simple)"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-10-31T18:31:14Z", "updated_at": "2017-11-20T08:41:11Z", "closed_at": "2017-11-20T08:41:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\nIf your issue is a usage or a general question, please submit it here instead:\r\n- Mailing List: https://groups.google.com/forum/#!forum/gensim\r\nFor more information, see Recipes&FAQ: https://github.com/RaRe-Technologies/gensim/wiki/Recipes-&-FAQ\r\n-->\r\n\r\n<!-- Instructions For Filing a Bug: https://github.com/RaRe-Technologies/gensim/blob/develop/CONTRIBUTING.md -->\r\n\r\n#### Description\r\nThe new `sklearn_api.hdp` (and also `ldamodel`) modules and/or their combination with `matutils.Sparse2Corpus` yield the wrong results when fitting models from sklearn vectorizers or other sklearn-styled sparse matrices, since they are stored in CSR format. This error might occur in other sklearn_api classes, too.\r\n\r\nI believe that either the default value of Sparse2Corpus constructor's `documents_columns` parameter should be changed:\r\n\r\n```python\r\nclass Sparse2Corpus(object):\r\n    \"\"\"\r\n    Convert a matrix in scipy.sparse format into a streaming gensim corpus.\r\n    This is the mirror function to `corpus2csc`.\r\n    \"\"\"\r\n\r\n    # Change this to def __init__(self, sparse, documents_columns=False) ?\r\n    def __init__(self, sparse, documents_columns=True):\r\n        if documents_columns:\r\n            self.sparse = sparse.tocsc()\r\n        else:\r\n            self.sparse = sparse.tocsr().T  # make sure shape[1]=number of docs (needed in len())\r\n```\r\n\r\nor the following call should include that `documents_columns=False`:\r\n\r\n```python\r\n# Same happens in lda model\r\nclass HdpTransformer(TransformerMixin, BaseEstimator):\r\n    ...\r\n    def fit(self, X, y=None):\r\n        \"\"\"\r\n        Fit the model according to the given training data.\r\n        Calls gensim.models.HdpModel\r\n        \"\"\"\r\n        if sparse.issparse(X):\r\n            corpus = matutils.Sparse2Corpus(X) # Change to matutils.Sparse2Corpus(X, False) ?\r\n        ...\r\n```\r\n\r\n\r\n<!-- Example: Vocabulary size is not what I expected when training Word2Vec. -->\r\n\r\n#### Steps/Code/Corpus to Reproduce\r\n\r\nExample: The number of processed documents corresponds to the number of features.\r\n\r\n```python\r\nfrom sklearn.datasets import fetch_20newsgroups\r\nfrom sklearn.feature_extraction.text import CountVectorizer\r\nfrom gensim.sklearn_api.hdp import HdpTransformer\r\n\r\n# Small dataset configuration\r\nngs = fetch_20newsgroups()\r\nsamples = ngs.data[:100]\r\n\r\n# Simple count vectorization\r\nvectorizer = CountVectorizer()\r\n# x is a sparse matrix\r\nx = vectorizer.fit_transform(samples)\r\nprint(\"%d documents, %d features\" % x.shape) # 100 documents, 6547 features\r\n\r\ninv_vocab = {v: k for k, v in vectorizer.vocabulary_.items()}\r\n\r\n# Train a HDP\r\nhdp_transformer = HdpTransformer(inv_vocab)\r\nhdp_transformer.fit(x)\r\n\r\n# Should be 100 but got 6547\r\nprint(\"Processed documents %d\" % hdp_transformer.gensim_model.m_num_docs_processed) # 6547\r\n```\r\n\r\n#### Expected Results\r\nWe should expect that the hdp gensim model had processed the 100 documents in samples.\r\n```python\r\nprint(\"%d documents, %d features\" % x.shape)\r\n# 100 documents, 6547 features\r\n```\r\n\r\n#### Actual Results\r\nHDP processed 6547 documents\r\n```python\r\nprint(\"Processed documents: %d\" % hdp_transformer.gensim_model.m_num_docs_processed)\r\n# Processed documents: 6547\r\n```\r\n\r\n#### Workaround, for the record\r\nTo make it work correctly, the sparse matrix `x` should be transposed.\r\n```python\r\nvectorizer = CountVectorizer()\r\nx = vectorizer.fit_transform(samples)\r\ninv_vocab = {v: k for k, v in vectorizer.vocabulary_.items()}\r\n\r\nhdp_transformer = HdpTransformer(inv_vocab)\r\nhdp_transformer.fit(x.T)\r\n```\r\n\r\n#### Versions\r\n```\r\nWindows-8.1-6.3.9600\r\n('Python', '2.7.13 |Anaconda custom (64-bit)| (default, Dec 19 2016, 13:29:36) [MSC v.1500 64 bit (AMD64)]')\r\n('NumPy', '1.12.1')\r\n('SciPy', '1.0.0')\r\n('gensim', '3.0.1')\r\n('FAST_VERSION', 0)\r\n```\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1676/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1676/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1659", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1659/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1659/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1659/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/1659", "id": 269291034, "node_id": "MDU6SXNzdWUyNjkyOTEwMzQ=", "number": 1659, "title": "model_trimmed_post_training not set on `load()`ed older models", "user": {"login": "gojomo", "id": 1641, "node_id": "MDQ6VXNlcjE2NDE=", "avatar_url": "https://avatars.githubusercontent.com/u/1641?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gojomo", "html_url": "https://github.com/gojomo", "followers_url": "https://api.github.com/users/gojomo/followers", "following_url": "https://api.github.com/users/gojomo/following{/other_user}", "gists_url": "https://api.github.com/users/gojomo/gists{/gist_id}", "starred_url": "https://api.github.com/users/gojomo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gojomo/subscriptions", "organizations_url": "https://api.github.com/users/gojomo/orgs", "repos_url": "https://api.github.com/users/gojomo/repos", "events_url": "https://api.github.com/users/gojomo/events{/privacy}", "received_events_url": "https://api.github.com/users/gojomo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 234670, "node_id": "MDU6TGFiZWwyMzQ2NzA=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20medium", "name": "difficulty medium", "color": "00d000", "default": false, "description": "Medium issue: required good gensim understanding & python skills"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-10-28T07:09:10Z", "updated_at": "2018-04-14T13:46:57Z", "closed_at": "2018-04-14T04:48:09Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "As seen at: https://stackoverflow.com/questions/46985320/gensim-word2vec-online-training-attributeerror-word2vec-object-has-no-att/46987193#46987193\r\n\r\nUser received an error because `model_trimmed_post_training` was not present on a model. \r\n\r\nEither `load()` should impute this when missing, or some less-clunky way of tracking stripped-down model state be used, perhaps by testing for actual available properties, rather than adding another flag to be maintained. ", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1659/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1659/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1646", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1646/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1646/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1646/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/1646", "id": 267775716, "node_id": "MDU6SXNzdWUyNjc3NzU3MTY=", "number": 1646, "title": "Fix Regex Deprecation Warnings in Python 3", "user": {"login": "franklsf95", "id": 2411818, "node_id": "MDQ6VXNlcjI0MTE4MTg=", "avatar_url": "https://avatars.githubusercontent.com/u/2411818?v=4", "gravatar_id": "", "url": "https://api.github.com/users/franklsf95", "html_url": "https://github.com/franklsf95", "followers_url": "https://api.github.com/users/franklsf95/followers", "following_url": "https://api.github.com/users/franklsf95/following{/other_user}", "gists_url": "https://api.github.com/users/franklsf95/gists{/gist_id}", "starred_url": "https://api.github.com/users/franklsf95/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/franklsf95/subscriptions", "organizations_url": "https://api.github.com/users/franklsf95/orgs", "repos_url": "https://api.github.com/users/franklsf95/repos", "events_url": "https://api.github.com/users/franklsf95/events{/privacy}", "received_events_url": "https://api.github.com/users/franklsf95/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 233081, "node_id": "MDU6TGFiZWwyMzMwODE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20easy", "name": "difficulty easy", "color": "00ff00", "default": false, "description": "Easy issue: required small fix"}, {"id": 721000065, "node_id": "MDU6TGFiZWw3MjEwMDAwNjU=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/good%20first%20issue", "name": "good first issue", "color": "7057ff", "default": true, "description": "Issue for new contributors (not required gensim understanding + very simple)"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-10-23T18:46:03Z", "updated_at": "2017-10-26T12:00:43Z", "closed_at": "2017-10-26T12:00:43Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Description\r\n\r\nWhen I import gensim in Python 3, I get a lot of deprecation warnings like\r\n\r\n```\r\nDeprecationWarning: invalid escape sequence \\[\r\n  RE_P2 = re.compile(\"(\\n\\[\\[[a-z][a-z][\\w-]*:[^:\\]]+\\]\\])+$\", re.UNICODE)\r\n```\r\n\r\nwhich is a 2 to 3 issue which I believe can be fixed by adding a raw flag before the string.\r\n\r\n#### Steps/Code/Corpus to Reproduce\r\n\r\nOn Python 3...\r\n\r\n```\r\nimport gensim\r\n```\r\n\r\nObserve the warnings.\r\n\r\n#### Expected Results\r\n\r\nNo deprecation warnings.\r\n\r\n#### Actual Results\r\n\r\nDeprecation warnings.\r\n\r\n#### Versions\r\n\r\nPython 3.6.3, gensim 3.0.0\r\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1646/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1646/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1644", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1644/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1644/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1644/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/1644", "id": 267610954, "node_id": "MDU6SXNzdWUyNjc2MTA5NTQ=", "number": 1644, "title": "Fix list of ignored problems for flake8", "user": {"login": "menshikh-iv", "id": 15094669, "node_id": "MDQ6VXNlcjE1MDk0NjY5", "avatar_url": "https://avatars.githubusercontent.com/u/15094669?v=4", "gravatar_id": "", "url": "https://api.github.com/users/menshikh-iv", "html_url": "https://github.com/menshikh-iv", "followers_url": "https://api.github.com/users/menshikh-iv/followers", "following_url": "https://api.github.com/users/menshikh-iv/following{/other_user}", "gists_url": "https://api.github.com/users/menshikh-iv/gists{/gist_id}", "starred_url": "https://api.github.com/users/menshikh-iv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/menshikh-iv/subscriptions", "organizations_url": "https://api.github.com/users/menshikh-iv/orgs", "repos_url": "https://api.github.com/users/menshikh-iv/repos", "events_url": "https://api.github.com/users/menshikh-iv/events{/privacy}", "received_events_url": "https://api.github.com/users/menshikh-iv/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 233081, "node_id": "MDU6TGFiZWwyMzMwODE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20easy", "name": "difficulty easy", "color": "00ff00", "default": false, "description": "Easy issue: required small fix"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-10-23T10:06:55Z", "updated_at": "2017-11-20T21:33:34Z", "closed_at": "2017-11-20T21:33:34Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Now we using `--ignore=E501,E731,E12,W503,E402` parameters for `flake8`, we can be more \"strict\" and reduce list of \"ignored\" checks\r\n\r\nWhat this checks means (full list [here](http://pep8.readthedocs.io/en/latest/intro.html#error-codes))\r\n\r\n| Code | Message | Action (from us)|\r\n|---------|--------------|---------|\r\n|E501|line too long (>80 characters)| remove (but need track size with adequate limit, like 120)|\r\n|E731|do not assign a lambda expression, use a def| remove |\r\n|W503|line break occurred before a binary operator| - |\r\n|E402|module level import not at top of file | remove |\r\n|E12| Many checks ... | remove (need to think about E121, E123, E126) |\r\n\r\n\r\nRelated #1636 \r\n\r\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1644/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1644/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1642", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1642/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1642/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1642/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/1642", "id": 267483707, "node_id": "MDU6SXNzdWUyNjc0ODM3MDc=", "number": 1642, "title": "fastText models from 2.3.0 can't be loaded in 3.0.0", "user": {"login": "Liebeck", "id": 8311360, "node_id": "MDQ6VXNlcjgzMTEzNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/8311360?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Liebeck", "html_url": "https://github.com/Liebeck", "followers_url": "https://api.github.com/users/Liebeck/followers", "following_url": "https://api.github.com/users/Liebeck/following{/other_user}", "gists_url": "https://api.github.com/users/Liebeck/gists{/gist_id}", "starred_url": "https://api.github.com/users/Liebeck/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Liebeck/subscriptions", "organizations_url": "https://api.github.com/users/Liebeck/orgs", "repos_url": "https://api.github.com/users/Liebeck/repos", "events_url": "https://api.github.com/users/Liebeck/events{/privacy}", "received_events_url": "https://api.github.com/users/Liebeck/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 234670, "node_id": "MDU6TGFiZWwyMzQ2NzA=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20medium", "name": "difficulty medium", "color": "00d000", "default": false, "description": "Medium issue: required good gensim understanding & python skills"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2017-10-22T17:40:41Z", "updated_at": "2017-11-20T08:26:06Z", "closed_at": "2017-11-20T08:26:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Description\r\nI do have a compatibility issue with fastText and version 3.0.0. In version 2.3.0, I used the fastText C++ wrapper to train a model based on the code available at that time from \r\nhttps://github.com/RaRe-Technologies/gensim/blob/develop/docs/notebooks/FastText_Tutorial.ipynb\r\n\r\nThis code works in **2.3.0**\r\n```\r\nfrom gensim.models.wrappers.fasttext import FastText as FT_wrapper\r\nmodel = FT_wrapper.load(model_path)\r\nif key in model:\r\n    character_embedding = model[key]\r\n```\r\n\r\nIn **3.0.0** it fails due to\r\n>     File \"scripts/foo.py\", line 43, in reduce_fasttext_embedding\r\n>     character_embedding = model[key]\r\n>   File \"/usr/local/lib/python3.5/dist-packages/gensim/models/word2vec.py\", line 1345, in __getitem__\r\n>     return self.wv.__getitem__(words)\r\n>   File \"/usr/local/lib/python3.5/dist-packages/gensim/models/keyedvectors.py\", line 602, in __getitem__\r\n>     return self.word_vec(words)\r\n>   File \"/usr/local/lib/python3.5/dist-packages/gensim/models/wrappers/fasttext.py\", line 94, in word_vec\r\n>     word_vec = np.zeros(self.syn0_ngrams.shape[1])\r\n> AttributeError: 'FastTextKeyedVectors' object has no attribute 'syn0_ngrams'\r\n\r\n#### Expected Results\r\nI expected the model from 2.3.0 to be loadable in 3.0.0. I was able to get my code working by downgrading to 2.3.0. I made some evaluations with trained models and I'd be happy to still use these models. Otherwise, I'm stuck at gensim 2.3.0\r\n\r\n@menshikh-iv\r\nI guess this has something to do with this commit https://github.com/RaRe-Technologies/gensim/commit/6e511565c1721636cfd14f88df3a08e124e14364#diff-cd6e655ec64f5b3927aa96ce5d006207 and split **'syn0_all' into 'syn0_vocab' and 'syn0_ngrams'**. I'm guessing that models trained with 2.3.0 aren't compatible with version 3. Is it possible that the load method checks whether the model was trained in 2.3.0, loads the 2.3.0 method, and internally makes the same split?\r\n\r\n\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1642/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1642/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1641", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1641/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1641/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1641/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/1641", "id": 267379551, "node_id": "MDU6SXNzdWUyNjczNzk1NTE=", "number": 1641, "title": "Quick-start possible duplicate", "user": {"login": "yurkai", "id": 15030246, "node_id": "MDQ6VXNlcjE1MDMwMjQ2", "avatar_url": "https://avatars.githubusercontent.com/u/15030246?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yurkai", "html_url": "https://github.com/yurkai", "followers_url": "https://api.github.com/users/yurkai/followers", "following_url": "https://api.github.com/users/yurkai/following{/other_user}", "gists_url": "https://api.github.com/users/yurkai/gists{/gist_id}", "starred_url": "https://api.github.com/users/yurkai/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yurkai/subscriptions", "organizations_url": "https://api.github.com/users/yurkai/orgs", "repos_url": "https://api.github.com/users/yurkai/repos", "events_url": "https://api.github.com/users/yurkai/events{/privacy}", "received_events_url": "https://api.github.com/users/yurkai/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 175643, "node_id": "MDU6TGFiZWwxNzU2NDM=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/documentation", "name": "documentation", "color": "02d7e1", "default": true, "description": "Current issue related to documentation"}, {"id": 234670, "node_id": "MDU6TGFiZWwyMzQ2NzA=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20medium", "name": "difficulty medium", "color": "00d000", "default": false, "description": "Medium issue: required good gensim understanding & python skills"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2017-10-21T13:18:42Z", "updated_at": "2019-10-21T21:52:58Z", "closed_at": "2019-10-21T21:52:58Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Description\r\nQuick-start tutorial possible duplicated: [One](https://github.com/RaRe-Technologies/gensim/blob/develop/gensim%20Quick%20Start.ipynb), [Two](https://github.com/RaRe-Technologies/gensim/blob/develop/docs/notebooks/gensim%20Quick%20Start.ipynb). \r\n\r\nSecond is in tutorials folder and has links from [main](https://github.com/RaRe-Technologies/gensim) page and [tutorials](https://github.com/RaRe-Technologies/gensim/blob/develop/tutorials.md#tutorials) page. Since first one is in the root and also has few more -- instructions how to install gensim and to work with Jupyter notebooks. Both notebooks are equal except 'how to' introduction. It doesn't looks very confusing. Nevertheless there's no link to first one, it appears in list of files only.", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1641/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1641/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1637", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1637/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1637/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1637/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/1637", "id": 266856154, "node_id": "MDU6SXNzdWUyNjY4NTYxNTQ=", "number": 1637, "title": "FastText wrapper returns inconsistent dtypes", "user": {"login": "mcobzarenco", "id": 797170, "node_id": "MDQ6VXNlcjc5NzE3MA==", "avatar_url": "https://avatars.githubusercontent.com/u/797170?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mcobzarenco", "html_url": "https://github.com/mcobzarenco", "followers_url": "https://api.github.com/users/mcobzarenco/followers", "following_url": "https://api.github.com/users/mcobzarenco/following{/other_user}", "gists_url": "https://api.github.com/users/mcobzarenco/gists{/gist_id}", "starred_url": "https://api.github.com/users/mcobzarenco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mcobzarenco/subscriptions", "organizations_url": "https://api.github.com/users/mcobzarenco/orgs", "repos_url": "https://api.github.com/users/mcobzarenco/repos", "events_url": "https://api.github.com/users/mcobzarenco/events{/privacy}", "received_events_url": "https://api.github.com/users/mcobzarenco/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 233081, "node_id": "MDU6TGFiZWwyMzMwODE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20easy", "name": "difficulty easy", "color": "00ff00", "default": false, "description": "Easy issue: required small fix"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-10-19T14:08:43Z", "updated_at": "2017-10-24T11:22:15Z", "closed_at": "2017-10-24T11:22:15Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Description\r\n`gensim.models.wrappers.FastText` returns inconsistent dtypes.\r\n\r\n#### Steps/Code/Corpus to Reproduce\r\n```python\r\nfrom gensim.models.wrappers import FastText\r\nembeds = FastText.load_fasttext_format(...)\r\n```\r\nFor an existing word:\r\n```python\r\nembeds['the'].dtype == dtype('float32')\r\n```\r\nFor an \"imputed\" word (missing from the vocabulary). The word embedding is computed as the sum of embedding for n-grams:\r\n\r\n```python\r\nembeds['ttttt'].dtype == dtype('float64')\r\n```\r\n\r\nThe problem in `models/wrappers/fasttext.py::FastTextKeyedVectors.word_vec`. In the case of a missing word, the zero vector is initialised to be a 64-bit float array to which a bunch of 32-bit embeddings are added to. \r\n\r\n#### Versions\r\nLinux-4.4.0-97-generic-x86_64-with-Ubuntu-16.04-xenial\r\nPython 3.5.2 (default, Nov 17 2016, 17:05:23)\r\n[GCC 5.4.0 20160609]\r\nNumPy 1.13.3\r\nSciPy 0.19.1\r\ngensim 3.0.1\r\nFAST_VERSION 1\r\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1637/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1637/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1635", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1635/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1635/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1635/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/1635", "id": 266651057, "node_id": "MDU6SXNzdWUyNjY2NTEwNTc=", "number": 1635, "title": "Scoring function in Phrases model is hardcoded", "user": {"login": "hristo-vrigazov", "id": 14914140, "node_id": "MDQ6VXNlcjE0OTE0MTQw", "avatar_url": "https://avatars.githubusercontent.com/u/14914140?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hristo-vrigazov", "html_url": "https://github.com/hristo-vrigazov", "followers_url": "https://api.github.com/users/hristo-vrigazov/followers", "following_url": "https://api.github.com/users/hristo-vrigazov/following{/other_user}", "gists_url": "https://api.github.com/users/hristo-vrigazov/gists{/gist_id}", "starred_url": "https://api.github.com/users/hristo-vrigazov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hristo-vrigazov/subscriptions", "organizations_url": "https://api.github.com/users/hristo-vrigazov/orgs", "repos_url": "https://api.github.com/users/hristo-vrigazov/repos", "events_url": "https://api.github.com/users/hristo-vrigazov/events{/privacy}", "received_events_url": "https://api.github.com/users/hristo-vrigazov/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 234670, "node_id": "MDU6TGFiZWwyMzQ2NzA=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20medium", "name": "difficulty medium", "color": "00d000", "default": false, "description": "Medium issue: required good gensim understanding & python skills"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2017-10-18T21:39:38Z", "updated_at": "2017-10-24T12:33:59Z", "closed_at": "2017-10-24T12:33:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "The [Phrases model](https://github.com/RaRe-Technologies/gensim/blob/develop/gensim/models/phrases.py) is based on word counting and bigram counting and it can process sentences by a given scoring function, which can be supplied via the construtor of `Phrases` (the parameter `scoring`). However, the field for scoring function is used only in the `export_phrases` method. Have a look here: \r\nhttps://github.com/RaRe-Technologies/gensim/blob/develop/gensim/models/phrases.py#L269\r\nand here:\r\nhttps://github.com/RaRe-Technologies/gensim/blob/develop/gensim/models/phrases.py#L284\r\n\r\n```\r\ncount_a = float(vocab[word_a])\r\ncount_b = float(vocab[word_b])\r\ncount_ab = float(vocab[bigram_word])\r\nscore = scoring_function(count_a, count_b, count_ab)\r\n```\r\n\r\nHowever, in the `__getitem__` method, the scoring uses the default scoring always https://github.com/RaRe-Technologies/gensim/blob/develop/gensim/models/phrases.py#L334 :\r\n```\r\npa = float(vocab[word_a])\r\npb = float(vocab[word_b])\r\npab = float(vocab[bigram_word])\r\nscore = (pab - min_count) / pa / pb * len(vocab)\r\n```\r\n\r\nThis looks like a bug to me (we are always using the default scoring, even if we explicitly stated npmi in the constructor). Is it okay if I open a pull request fixing this one?", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1635/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1635/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1617", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1617/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1617/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1617/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/1617", "id": 264092994, "node_id": "MDU6SXNzdWUyNjQwOTI5OTQ=", "number": 1617, "title": "Under utilization of CPU cores when running Word2Vec", "user": {"login": "manneshiva", "id": 26998249, "node_id": "MDQ6VXNlcjI2OTk4MjQ5", "avatar_url": "https://avatars.githubusercontent.com/u/26998249?v=4", "gravatar_id": "", "url": "https://api.github.com/users/manneshiva", "html_url": "https://github.com/manneshiva", "followers_url": "https://api.github.com/users/manneshiva/followers", "following_url": "https://api.github.com/users/manneshiva/following{/other_user}", "gists_url": "https://api.github.com/users/manneshiva/gists{/gist_id}", "starred_url": "https://api.github.com/users/manneshiva/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/manneshiva/subscriptions", "organizations_url": "https://api.github.com/users/manneshiva/orgs", "repos_url": "https://api.github.com/users/manneshiva/repos", "events_url": "https://api.github.com/users/manneshiva/events{/privacy}", "received_events_url": "https://api.github.com/users/manneshiva/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 233082, "node_id": "MDU6TGFiZWwyMzMwODI=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20hard", "name": "difficulty hard", "color": "00a000", "default": false, "description": "Hard issue: required deep gensim understanding & high python/cython skills"}], "state": "closed", "locked": false, "assignee": {"login": "gojomo", "id": 1641, "node_id": "MDQ6VXNlcjE2NDE=", "avatar_url": "https://avatars.githubusercontent.com/u/1641?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gojomo", "html_url": "https://github.com/gojomo", "followers_url": "https://api.github.com/users/gojomo/followers", "following_url": "https://api.github.com/users/gojomo/following{/other_user}", "gists_url": "https://api.github.com/users/gojomo/gists{/gist_id}", "starred_url": "https://api.github.com/users/gojomo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gojomo/subscriptions", "organizations_url": "https://api.github.com/users/gojomo/orgs", "repos_url": "https://api.github.com/users/gojomo/repos", "events_url": "https://api.github.com/users/gojomo/events{/privacy}", "received_events_url": "https://api.github.com/users/gojomo/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gojomo", "id": 1641, "node_id": "MDQ6VXNlcjE2NDE=", "avatar_url": "https://avatars.githubusercontent.com/u/1641?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gojomo", "html_url": "https://github.com/gojomo", "followers_url": "https://api.github.com/users/gojomo/followers", "following_url": "https://api.github.com/users/gojomo/following{/other_user}", "gists_url": "https://api.github.com/users/gojomo/gists{/gist_id}", "starred_url": "https://api.github.com/users/gojomo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gojomo/subscriptions", "organizations_url": "https://api.github.com/users/gojomo/orgs", "repos_url": "https://api.github.com/users/gojomo/repos", "events_url": "https://api.github.com/users/gojomo/events{/privacy}", "received_events_url": "https://api.github.com/users/gojomo/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2017-10-10T04:05:44Z", "updated_at": "2017-10-10T07:45:55Z", "closed_at": "2017-10-10T05:48:56Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Description\r\nI am training a word2vec model with a preprocessed wiki corpus(~8GB) on a dedicated Softlayer cloud instance with the following system configuration:\r\n`56 cores x 2.0GHz, 128GB RAM, 100GB(SAN), Ubuntu Linux 16.04 LST Minimal Install (64 bit).`\r\nI run the code in a docker with **56 workers**. While I can see 56 processes(in training phase), the aggregated CPU utilization is around **1100%**. Screenshots of CPU utilization of each process can be seen below.\r\nWhy is total CPU utilization not around 5600%? Is this behavior expected? Am I missing something trivial?\r\n\r\n#### Steps/Code/Corpus to Reproduce\r\nLink to gensim [code](https://github.com/manneshiva/benchmark-word2vec-frameworks/blob/master/nn_frameworks/gensim/gensim_word2vec.py)\r\nLink to [Dockerfile](https://github.com/manneshiva/benchmark-word2vec-frameworks/blob/master/Dockerfile-cpu-tfsource)\r\n\r\n#### Expected Results\r\nTotal CPU utilization > 1100%. Should be around 5600%. \r\n\r\n#### Actual Results\r\nLink to [INFO logs](https://gist.github.com/manneshiva/c4b7fd200507664fa3145b591be17be7).\r\n\r\n`top -H -p <PID>`\r\n![top](https://user-images.githubusercontent.com/26998249/31368736-300b7624-ad9d-11e7-9c38-4876e8d679af.png)\r\n\r\n`htop`\r\n![selection_006](https://user-images.githubusercontent.com/26998249/31368794-828f3714-ad9d-11e7-8a58-bafe552b3fae.jpg)\r\n\r\n#### Versions\r\nLinux-4.10.0-21-generic-x86_64-with-Ubuntu-16.04-xenial\r\n('Python', '2.7.12 (default, Nov 19 2016, 06:48:10) \\n[GCC 5.4.0 20160609]')\r\n('NumPy', '1.13.1')\r\n('SciPy', '0.19.1')\r\n('gensim', '2.1.0')\r\n('FAST_VERSION', 1)\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1617/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1617/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1614", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1614/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1614/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1614/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/1614", "id": 263326178, "node_id": "MDU6SXNzdWUyNjMzMjYxNzg=", "number": 1614, "title": "gensim import is very slow", "user": {"login": "menshikh-iv", "id": 15094669, "node_id": "MDQ6VXNlcjE1MDk0NjY5", "avatar_url": "https://avatars.githubusercontent.com/u/15094669?v=4", "gravatar_id": "", "url": "https://api.github.com/users/menshikh-iv", "html_url": "https://github.com/menshikh-iv", "followers_url": "https://api.github.com/users/menshikh-iv/followers", "following_url": "https://api.github.com/users/menshikh-iv/following{/other_user}", "gists_url": "https://api.github.com/users/menshikh-iv/gists{/gist_id}", "starred_url": "https://api.github.com/users/menshikh-iv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/menshikh-iv/subscriptions", "organizations_url": "https://api.github.com/users/menshikh-iv/orgs", "repos_url": "https://api.github.com/users/menshikh-iv/repos", "events_url": "https://api.github.com/users/menshikh-iv/events{/privacy}", "received_events_url": "https://api.github.com/users/menshikh-iv/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 233081, "node_id": "MDU6TGFiZWwyMzMwODE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20easy", "name": "difficulty easy", "color": "00ff00", "default": false, "description": "Easy issue: required small fix"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-10-06T03:23:32Z", "updated_at": "2017-10-06T10:26:13Z", "closed_at": "2017-10-06T10:26:13Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Description\r\nGensim import works very long if you'll have installed Keras+TF, report from [maillist](https://groups.google.com/forum/#!msg/gensim/HY90TZiBiAA/td4fsmwFBgAJ)\r\n\r\n#### Steps/Code/Corpus to Reproduce\r\n```\r\nimport gensim\r\n```\r\n\r\n#### Expected Results\r\nFast import (less than 0.5 sec) without any `stdout`\r\n\r\n#### Actual Results\r\nSlow import (more that 1 sec) + `Using TensorFlow backend.`\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1614/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1614/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1589", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1589/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1589/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1589/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/1589", "id": 258247086, "node_id": "MDU6SXNzdWUyNTgyNDcwODY=", "number": 1589, "title": "Problem using bound function in Author Topic model!!", "user": {"login": "sa-matiny", "id": 7403605, "node_id": "MDQ6VXNlcjc0MDM2MDU=", "avatar_url": "https://avatars.githubusercontent.com/u/7403605?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sa-matiny", "html_url": "https://github.com/sa-matiny", "followers_url": "https://api.github.com/users/sa-matiny/followers", "following_url": "https://api.github.com/users/sa-matiny/following{/other_user}", "gists_url": "https://api.github.com/users/sa-matiny/gists{/gist_id}", "starred_url": "https://api.github.com/users/sa-matiny/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sa-matiny/subscriptions", "organizations_url": "https://api.github.com/users/sa-matiny/orgs", "repos_url": "https://api.github.com/users/sa-matiny/repos", "events_url": "https://api.github.com/users/sa-matiny/events{/privacy}", "received_events_url": "https://api.github.com/users/sa-matiny/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 234670, "node_id": "MDU6TGFiZWwyMzQ2NzA=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20medium", "name": "difficulty medium", "color": "00d000", "default": false, "description": "Medium issue: required good gensim understanding & python skills"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2017-09-16T17:44:54Z", "updated_at": "2018-08-02T04:21:56Z", "closed_at": "2018-08-02T04:21:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi\r\nI am trying to use author topic model. When I used bound function to evaluate my model I received this error in python:\r\n```\r\nTraceback (most recent call last):\r\n  File \"C:\\Users\\Sara\\Desktop\\E-COM\\Final Project\\Working on data\\at_clustering.py\", line 161, in <module>\r\n    test_corpus = test_corpus, test_d2a = test_doc2author, test_a2d = test_author2doc, limit = 25)\r\n  File \"C:\\Users\\Sara\\Desktop\\E-COM\\Final Project\\Working on data\\at_clustering.py\", line 70, in evaluate_k\r\n    pr = np.exp2(-model.bound(test_corpus, doc2author=test_d2a, author2doc=test_a2d)/number_of_words)\r\n  File \"C:\\Python27\\lib\\site-packages\\gensim\\models\\atmodel.py\", line 835, in bound\r\n    phinorm = self.compute_phinorm(ids, authors_d, expElogtheta[authors_d, :], expElogbeta[:, ids])\r\nIndexError: arrays used as indices must be of integer (or boolean) type\r\n```\r\n I think the problem is `` expElogbeta[:, ids] `` because this is not acceptable in python!\r\n\r\nPlease test bound function and fix source code.\r\nThanks\r\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1589/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1589/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1575", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1575/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1575/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1575/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/1575", "id": 256097194, "node_id": "MDU6SXNzdWUyNTYwOTcxOTQ=", "number": 1575, "title": "Add preprocessing in summarize function to remove newlines in the middle of sentences", "user": {"login": "diegospd", "id": 9475030, "node_id": "MDQ6VXNlcjk0NzUwMzA=", "avatar_url": "https://avatars.githubusercontent.com/u/9475030?v=4", "gravatar_id": "", "url": "https://api.github.com/users/diegospd", "html_url": "https://github.com/diegospd", "followers_url": "https://api.github.com/users/diegospd/followers", "following_url": "https://api.github.com/users/diegospd/following{/other_user}", "gists_url": "https://api.github.com/users/diegospd/gists{/gist_id}", "starred_url": "https://api.github.com/users/diegospd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/diegospd/subscriptions", "organizations_url": "https://api.github.com/users/diegospd/orgs", "repos_url": "https://api.github.com/users/diegospd/repos", "events_url": "https://api.github.com/users/diegospd/events{/privacy}", "received_events_url": "https://api.github.com/users/diegospd/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 233081, "node_id": "MDU6TGFiZWwyMzMwODE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20easy", "name": "difficulty easy", "color": "00ff00", "default": false, "description": "Easy issue: required small fix"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-09-07T23:15:52Z", "updated_at": "2017-11-09T06:43:48Z", "closed_at": "2017-11-09T06:43:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Description\r\nThe `summarize` function depends on the text having at least 10 sentences as measured by `clean_text_by_sentences`.  If the text is shorter than that then the summarization fails in an undocumented way. Moreover  `clean_text_by_sentences` cannot handle properly a text with new lines\r\nat the middle of a sentence. I suggest a preprocessing step to purge those.\r\n\r\nI'm currently using this to workaround this bug\r\n```\r\nimport re\r\ntext = re.sub(r'\\n|\\r|\\t', ' ', text)\r\ntext = re.sub(r'\\s+', ' ', text)\r\n```\r\n\r\n#### Versions\r\n- Python 3.6.2 (default, Jul 17 2017, 16:44:45)\r\n[GCC 4.2.1 Compatible Apple LLVM 8.1.0 (clang-802.0.42)]\r\n- NumPy 1.13.0\r\n- SciPy 0.19.1\r\n- gensim 2.3.0\r\n- FAST_VERSION 0", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1575/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1575/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1561", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1561/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1561/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1561/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/1561", "id": 254792725, "node_id": "MDU6SXNzdWUyNTQ3OTI3MjU=", "number": 1561, "title": "Mutable Default Arguments", "user": {"login": "zsef123", "id": 18730255, "node_id": "MDQ6VXNlcjE4NzMwMjU1", "avatar_url": "https://avatars.githubusercontent.com/u/18730255?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zsef123", "html_url": "https://github.com/zsef123", "followers_url": "https://api.github.com/users/zsef123/followers", "following_url": "https://api.github.com/users/zsef123/following{/other_user}", "gists_url": "https://api.github.com/users/zsef123/gists{/gist_id}", "starred_url": "https://api.github.com/users/zsef123/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zsef123/subscriptions", "organizations_url": "https://api.github.com/users/zsef123/orgs", "repos_url": "https://api.github.com/users/zsef123/repos", "events_url": "https://api.github.com/users/zsef123/events{/privacy}", "received_events_url": "https://api.github.com/users/zsef123/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 233081, "node_id": "MDU6TGFiZWwyMzMwODE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20easy", "name": "difficulty easy", "color": "00ff00", "default": false, "description": "Easy issue: required small fix"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2017-09-02T06:13:08Z", "updated_at": "2017-09-07T03:18:28Z", "closed_at": "2017-09-04T14:16:51Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Mutable arguments can have unintended behavior. \r\nlike calling repeatedly under function\r\n```\r\ndef foo(x=[]):\r\n    x.append(1)\r\n    return x\r\n```\r\nif call foo 3 times, the result is `[1,1,1]`  [Python Reference](https://docs.python.org/3/reference/compound_stmts.html#function-definitions), [The Hitchhiker\u2019s Guide to Python](http://docs.python-guide.org/en/latest/writing/gotchas/#what-you-wrote)\r\n\r\nIn [summerization/graph.py:175 ](https://github.com/RaRe-Technologies/gensim/blob/develop/gensim/summarization/summarizer.py)\r\n```\r\ndef add_node(self, node, attrs=None):\r\n        if attrs is None:\r\n            attrs = []```\r\n```   \r\n`def add_edge(self, edge, wt=1, label='', attrs=[]):`\r\n\r\n`add_edge` function is used `[]` in default argument but `add_node` function is used `None`.\r\nAnd then check if attrs is None then assigns empty list\r\n\r\nI think way of add_node is more secure than add_edge.\r\n\r\nHow about changing `[]` to `None`?", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1561/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1561/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1557", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1557/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1557/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1557/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/1557", "id": 254522801, "node_id": "MDU6SXNzdWUyNTQ1MjI4MDE=", "number": 1557, "title": "KeyedVectors.get_embedding_layer(train_embeddings = False) returns a trainable Embedding layer.", "user": {"login": "vrmpx", "id": 1670648, "node_id": "MDQ6VXNlcjE2NzA2NDg=", "avatar_url": "https://avatars.githubusercontent.com/u/1670648?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vrmpx", "html_url": "https://github.com/vrmpx", "followers_url": "https://api.github.com/users/vrmpx/followers", "following_url": "https://api.github.com/users/vrmpx/following{/other_user}", "gists_url": "https://api.github.com/users/vrmpx/gists{/gist_id}", "starred_url": "https://api.github.com/users/vrmpx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vrmpx/subscriptions", "organizations_url": "https://api.github.com/users/vrmpx/orgs", "repos_url": "https://api.github.com/users/vrmpx/repos", "events_url": "https://api.github.com/users/vrmpx/events{/privacy}", "received_events_url": "https://api.github.com/users/vrmpx/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-09-01T02:59:55Z", "updated_at": "2017-09-01T15:23:11Z", "closed_at": "2017-09-01T15:23:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Description\r\n`KeyedVectors.get_embedding_layer` does not set `trainable` when returning the Keras Embedding layer.\r\n\r\n#### Steps/Code/Corpus to Reproduce\r\n```\r\nfrom gensim.models.keyedvectors import KeyedVectors\r\n\r\nembeddings = KeyedVectors.load_word2vec_format(\"GoogleNews-vectors-negative300.bin\", binary = True)\r\nembedding_layer = embeddings.get_embedding_layer(train_embeddings=False)\r\nprint(embedding_layer.trainable)\r\n```\r\n\r\n#### Expected Results\r\nFalse\r\n\r\n#### Actual Results\r\nTrue\r\n\r\n#### Versions\r\nLinux-4.4.0-93-generic-x86_64-with-debian-stretch-sid\r\nPython 3.6.1 |Continuum Analytics, Inc.| (default, May 11 2017, 13:09:58)\r\n[GCC 4.4.7 20120313 (Red Hat 4.4.7-1)]\r\nNumPy 1.13.1\r\nSciPy 0.19.1\r\ngensim 2.3.0\r\nFAST_VERSION 2\r\n\r\n<!-- Thanks for contributing! -->\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1557/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1557/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1542", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1542/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1542/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1542/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/1542", "id": 251440467, "node_id": "MDU6SXNzdWUyNTE0NDA0Njc=", "number": 1542, "title": "Doc2Vec - get trained document vectors and infer_vector", "user": {"login": "ColdL", "id": 14210214, "node_id": "MDQ6VXNlcjE0MjEwMjE0", "avatar_url": "https://avatars.githubusercontent.com/u/14210214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ColdL", "html_url": "https://github.com/ColdL", "followers_url": "https://api.github.com/users/ColdL/followers", "following_url": "https://api.github.com/users/ColdL/following{/other_user}", "gists_url": "https://api.github.com/users/ColdL/gists{/gist_id}", "starred_url": "https://api.github.com/users/ColdL/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ColdL/subscriptions", "organizations_url": "https://api.github.com/users/ColdL/orgs", "repos_url": "https://api.github.com/users/ColdL/repos", "events_url": "https://api.github.com/users/ColdL/events{/privacy}", "received_events_url": "https://api.github.com/users/ColdL/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 708355863, "node_id": "MDU6TGFiZWw3MDgzNTU4NjM=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/need%20info", "name": "need info", "color": "fbca04", "default": false, "description": "Not enough information for reproduce an issue, need more info from author"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2017-08-19T18:00:55Z", "updated_at": "2018-02-09T06:44:05Z", "closed_at": "2018-02-09T06:44:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "Recently, I am trying to use the Doc2Vec module provided by Gensim. However, I am quite confused by some outputs. I am using Gensim-2.3.0 and Python-2.7.12.\r\n\r\nI find that document vector after training is exactly the same as the one before training. I use model.docvecs[0] or model.docvecs.doctag_syn0[0] to get a document vector.\r\n\r\nAt the same time, the model.docvecs.most_similar outputs significantly changed after training, and the result is correct.\r\n\r\nI also find that for model.infer_vector, the 2-norm of inferred vector would be larger, if the 'steps' parameter is bigger.\r\n\r\nNow I am not sure if model.docvecs[0] or model.docvecs.doctag_syn0[0] are correct ways to get a document vector.\r\n\r\nMy python codes:\r\n\r\n```python\r\nfrom gensim.models.doc2vec import Doc2Vec, TaggedDocument\r\n\r\ndef practice()\r\n    # prepare documents by TaggedDocument\r\n    # docs = ...\r\n\r\n    # an article tag\r\n    id_str = '706cf480-7fe0-11e7-941e-959224aefd7b'\r\n\r\n    # initialize a model\r\n    model = Doc2Vec(size=300, window=20, min_count=2, workers=8, alpha=0.025, min_alpha=0.01, dm=0)\r\n\r\n    # build vocabulary\r\n    model.build_vocab(docs)\r\n\r\n    # get the initial document vector\r\n    docvec1 = model.docvecs[0]\r\n    docvecsyn1 = model.docvecs.doctag_syn0[0]\r\n\r\n    # calculate most similar documents\r\n    # (the model is not trained, so the results should be wrong)\r\n    docsim1 = model.docvecs.most_similar(id_str)\r\n\r\n    # train this model\r\n    model.train(docs, total_examples=len(docs), epochs=20)\r\n\r\n    # get the trained document vector\r\n    docvec2 = model.docvecs[0]\r\n    docvecsyn2 = model.docvecs.doctag_syn0[0]\r\n\r\n    # calculate most similar documents\r\n    # (we expect the results to be correct)\r\n    docsim2 = model.docvecs.most_similar(id_str)\r\n\r\n    # choose one document\r\n    doc = docs[0].words\r\n\r\n    # infer vectors with different 'steps' parameters\r\n    infervec1 = model.infer_vector(doc, alpha=0.025, min_alpha=0.01, steps=1)\r\n    infervec2 = model.infer_vector(doc, alpha=0.025, min_alpha=0.01, steps=10)\r\n    infervec3 = model.infer_vector(doc, alpha=0.025, min_alpha=0.01, steps=100)\r\n    infervec4 = model.infer_vector(doc, alpha=0.025, min_alpha=0.01, steps=1000)\r\n\r\n    # print results\r\n\r\n    # document vector\r\n    print('Document vector:')\r\n\r\n    # we can see that the document vectors do not change after training.\r\n    print(docvec1[:5])\r\n    print(docvec2[:5])\r\n    print(docvecsyn1[:5])\r\n    print(docvecsyn2[:5])\r\n\r\n    # most similar documents\r\n    print('Most similar:')\r\n\r\n    # before training, the result is wrong. after training, correct. good.\r\n    print(docsim1[:2])\r\n    print(docsim2[:2])\r\n\r\n    # infered vectors with different 'steps' parameters\r\n    print('Infered vector:')\r\n\r\n    # we can see that, they are quite different.\r\n    print(infervec1[:5])\r\n    print(infervec2[:5])\r\n    print(infervec3[:5])\r\n    print(infervec4[:5])\r\n\r\n    # norm of inferred vectors\r\n    print('Norm of infered vector:')\r\n\r\n    # it seems that, the norm of inferred vectors would be larger for bigger steps\r\n    print(np.linalg.norm(infervec1))\r\n    print(np.linalg.norm(infervec2))\r\n    print(np.linalg.norm(infervec3))\r\n    print(np.linalg.norm(infervec4))\r\n\r\npractice()\r\n```\r\n\r\nAnd the outputs:\r\n\r\n```python\r\nDocument vector:\r\n[ 0.45329446  0.04028329  0.74391299  0.23470438  0.28504953]\r\n[ 0.45329446  0.04028329  0.74391299  0.23470438  0.28504953]\r\n[ 0.45329446  0.04028329  0.74391299  0.23470438  0.28504953]\r\n[ 0.45329446  0.04028329  0.74391299  0.23470438  0.28504953]\r\nMost similar:\r\n[('0029ed60-7903-11e7-bf23-1fad2a3e2eee', 0.1123562902212143), ('000a1c60-469a-11e7-b51a-11cd5459406e', 0.104494109749794)]\r\n[('e20eae20-8063-11e7-941e-959224aefd7b', 0.9975029230117798), ('00482ab0-6ad4-11e7-8c8e-312511c861bd', 0.4974672198295593)]\r\nInfered vector:\r\n[ 0.18638353  0.01556012  0.50137675  0.14996666  0.24600163]\r\n[ 0.58159155  0.01523605  0.77991062  0.21884988  0.303388  ]\r\n[ 1.07764459  0.03167941  0.96692777  0.22491962  0.08230448]\r\n[ 1.18006694  0.21795054  0.61040705  0.67637557 -0.62287807]\r\nNorm of infered vector:\r\n5.25663\r\n8.78524\r\n11.4886\r\n14.5209\r\n```", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1542/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1542/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1533", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1533/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1533/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1533/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/1533", "id": 250288413, "node_id": "MDU6SXNzdWUyNTAyODg0MTM=", "number": 1533, "title": "Phrases __getitem__() method does not respect chosen scoring function", "user": {"login": "SergeyDidenko", "id": 150409, "node_id": "MDQ6VXNlcjE1MDQwOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/150409?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SergeyDidenko", "html_url": "https://github.com/SergeyDidenko", "followers_url": "https://api.github.com/users/SergeyDidenko/followers", "following_url": "https://api.github.com/users/SergeyDidenko/following{/other_user}", "gists_url": "https://api.github.com/users/SergeyDidenko/gists{/gist_id}", "starred_url": "https://api.github.com/users/SergeyDidenko/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SergeyDidenko/subscriptions", "organizations_url": "https://api.github.com/users/SergeyDidenko/orgs", "repos_url": "https://api.github.com/users/SergeyDidenko/repos", "events_url": "https://api.github.com/users/SergeyDidenko/events{/privacy}", "received_events_url": "https://api.github.com/users/SergeyDidenko/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2017-08-15T11:22:19Z", "updated_at": "2017-10-24T12:22:57Z", "closed_at": "2017-10-24T12:22:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Description\r\nPhrases `__getitem__()` method does not respect chosen scoring function, it has 'default' scoring builtin. So when Phrases object is constructed with `scoring='npmi'` it returns wrong results.\r\n\r\nSee Phrases `export_phrases()` for correct implementation, i.e. `score = scoring_function(count_a, count_b, count_ab)` instead of `score = (pab - min_count) / pa / pb * len(vocab)`\r\n\r\nFor a while it's better to construct and use Phraser object, i.e. \r\n`phraser = Phraser[phrases]; res = phraser[sentences]` instead of  `res = phrases[sentences]`", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1533/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1533/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1531", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1531/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1531/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1531/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/1531", "id": 250026966, "node_id": "MDU6SXNzdWUyNTAwMjY5NjY=", "number": 1531, "title": "'NoneType' object is not iterable when using summarize", "user": {"login": "nabergh", "id": 5368304, "node_id": "MDQ6VXNlcjUzNjgzMDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/5368304?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nabergh", "html_url": "https://github.com/nabergh", "followers_url": "https://api.github.com/users/nabergh/followers", "following_url": "https://api.github.com/users/nabergh/following{/other_user}", "gists_url": "https://api.github.com/users/nabergh/gists{/gist_id}", "starred_url": "https://api.github.com/users/nabergh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nabergh/subscriptions", "organizations_url": "https://api.github.com/users/nabergh/orgs", "repos_url": "https://api.github.com/users/nabergh/repos", "events_url": "https://api.github.com/users/nabergh/events{/privacy}", "received_events_url": "https://api.github.com/users/nabergh/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}], "state": "closed", "locked": false, "assignee": {"login": "menshikh-iv", "id": 15094669, "node_id": "MDQ6VXNlcjE1MDk0NjY5", "avatar_url": "https://avatars.githubusercontent.com/u/15094669?v=4", "gravatar_id": "", "url": "https://api.github.com/users/menshikh-iv", "html_url": "https://github.com/menshikh-iv", "followers_url": "https://api.github.com/users/menshikh-iv/followers", "following_url": "https://api.github.com/users/menshikh-iv/following{/other_user}", "gists_url": "https://api.github.com/users/menshikh-iv/gists{/gist_id}", "starred_url": "https://api.github.com/users/menshikh-iv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/menshikh-iv/subscriptions", "organizations_url": "https://api.github.com/users/menshikh-iv/orgs", "repos_url": "https://api.github.com/users/menshikh-iv/repos", "events_url": "https://api.github.com/users/menshikh-iv/events{/privacy}", "received_events_url": "https://api.github.com/users/menshikh-iv/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "menshikh-iv", "id": 15094669, "node_id": "MDQ6VXNlcjE1MDk0NjY5", "avatar_url": "https://avatars.githubusercontent.com/u/15094669?v=4", "gravatar_id": "", "url": "https://api.github.com/users/menshikh-iv", "html_url": "https://github.com/menshikh-iv", "followers_url": "https://api.github.com/users/menshikh-iv/followers", "following_url": "https://api.github.com/users/menshikh-iv/following{/other_user}", "gists_url": "https://api.github.com/users/menshikh-iv/gists{/gist_id}", "starred_url": "https://api.github.com/users/menshikh-iv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/menshikh-iv/subscriptions", "organizations_url": "https://api.github.com/users/menshikh-iv/orgs", "repos_url": "https://api.github.com/users/menshikh-iv/repos", "events_url": "https://api.github.com/users/menshikh-iv/events{/privacy}", "received_events_url": "https://api.github.com/users/menshikh-iv/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 20, "created_at": "2017-08-14T13:13:46Z", "updated_at": "2018-07-21T01:52:51Z", "closed_at": "2017-09-18T10:35:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "When using `gensim.summarization.summarize`, `TypeError: 'NoneType' object is not iterable` is occasionally thrown when summarizing random complaints in [this dataset of consumer complaints](https://catalog.data.gov/dataset/consumer-complaint-database). I'm not sure what it is about the strings that causes this error to be thrown but I feel the error should not be thrown regardless. Here is a self-contained example:\r\n\r\n```\r\nfrom gensim.summarization import summarize\r\ntext = \"To whom it may concern, Only after weeks of using my new Wal-Mart master \" \\\r\n    \"card was I given the option to opt out of personal information sharing including :\" \\\r\n    \" Social Security #, income, account balance, payment history, credit history and credit\" \\\r\n    \" scores. According to the supervising operator at the wal-mart credit card call center my\" \\\r\n    \" personal information had already been shared. Furthermore, the letter informing me of my \" \\\r\n    \" rights was apart from my billing statement. Seemingly hidden between some flyers in the same\" \\\r\n    \" envelope. I almost threw it in the recycle bin without seeing it. If this is not illegal it \" \\\r\n    \"certainly appears to be an attempt to deceive me and disseminate my private information without \" \\\r\n    \"my permission. Thank you for your time and effort. Sincerely, XXXX XXXX\"\r\nsummary = summarize(text)\r\n```\r\n\r\nI pasted the stack trace below but I'm sure you'll see it when running the above example.\r\n```\r\n---------------------------------------------------------------------------\r\nTypeError                                 Traceback (most recent call last)\r\n<ipython-input-1-15020c19bb47> in <module>()\r\n      1 from gensim.summarization import summarize\r\n      2 text = \"To whom it may concern, Only after weeks of using my new Wal-Mart master \"     \"card was I given the option to opt out of personal information sharing including :\"     \" Social Security #, income, account balance, payment history, credit history and credit\"     \" scores. According to the supervising operator at the wal-mart credit card call center my\"     \" personal information had already been shared. Furthermore, the letter informing me of my \"     \" rights was apart from my billing statement. Seemingly hidden between some flyers in the same\"     \" envelope. I almost threw it in the recycle bin without seeing it. If this is not illegal it \"     \"certainly appears to be an attempt to deceive me and disseminate my private information without \"    \"my permission. Thank you for your time and effort. Sincerely, XXXX XXXX\"\r\n----> 3 summary = summarize(text)\r\n\r\n/usr/local/lib/python3.6/site-packages/gensim/summarization/summarizer.py in summarize(text, ratio, word_count, split)\r\n    213 \r\n    214     # Extracts the most important sentences with the selected criterion.\r\n--> 215     extracted_sentences = _extract_important_sentences(sentences, corpus, most_important_docs, word_count)\r\n    216 \r\n    217     # Sorts the extracted sentences by apparition order in the original text.\r\n\r\n/usr/local/lib/python3.6/site-packages/gensim/summarization/summarizer.py in _extract_important_sentences(sentences, corpus, important_docs, word_count)\r\n    112 \r\n    113 def _extract_important_sentences(sentences, corpus, important_docs, word_count):\r\n--> 114     important_sentences = _get_important_sentences(sentences, corpus, important_docs)\r\n    115 \r\n    116     # If no \"word_count\" option is provided, the number of sentences is\r\n\r\n/usr/local/lib/python3.6/site-packages/gensim/summarization/summarizer.py in _get_important_sentences(sentences, corpus, important_docs)\r\n     87     hashable_corpus = _build_hasheable_corpus(corpus)\r\n     88     sentences_by_corpus = dict(zip(hashable_corpus, sentences))\r\n---> 89     return [sentences_by_corpus[tuple(important_doc)] for important_doc in important_docs]\r\n     90 \r\n     91 \r\n\r\nTypeError: 'NoneType' object is not iterable\r\n```\r\n\r\nI'm assuming this is a bug but there's no example in the gensim ~~documentation~~ api page so I'm not entirely sure if I'm using the function correctly.", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1531/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1531/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1514", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1514/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1514/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1514/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/1514", "id": 246969899, "node_id": "MDU6SXNzdWUyNDY5Njk4OTk=", "number": 1514, "title": "TypeError: train() got an unexpected keyword argument 'total_examples'", "user": {"login": "xxyy1", "id": 7850609, "node_id": "MDQ6VXNlcjc4NTA2MDk=", "avatar_url": "https://avatars.githubusercontent.com/u/7850609?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xxyy1", "html_url": "https://github.com/xxyy1", "followers_url": "https://api.github.com/users/xxyy1/followers", "following_url": "https://api.github.com/users/xxyy1/following{/other_user}", "gists_url": "https://api.github.com/users/xxyy1/gists{/gist_id}", "starred_url": "https://api.github.com/users/xxyy1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xxyy1/subscriptions", "organizations_url": "https://api.github.com/users/xxyy1/orgs", "repos_url": "https://api.github.com/users/xxyy1/repos", "events_url": "https://api.github.com/users/xxyy1/events{/privacy}", "received_events_url": "https://api.github.com/users/xxyy1/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 234670, "node_id": "MDU6TGFiZWwyMzQ2NzA=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20medium", "name": "difficulty medium", "color": "00d000", "default": false, "description": "Medium issue: required good gensim understanding & python skills"}, {"id": 1162250977, "node_id": "MDU6TGFiZWwxMTYyMjUwOTc3", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/fasttext", "name": "fasttext", "color": "ad52ea", "default": false, "description": "Issues related to the FastText model"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2017-08-01T06:42:26Z", "updated_at": "2020-02-26T18:26:06Z", "closed_at": "2020-02-26T18:26:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "gensim 2.3.0\r\n\r\nmodel = gensim.models.wrappers.fasttext.FastText(sentences=usr_sequence, size=8, min_count=5, window=8, workers=16)\r\n\r\nerror:\r\nTraceback (most recent call last):\r\n  File \"mytest_fasttext.py\", line 31, in <module>\r\n    train_poi2vec(s_sequence_file, model_file)\r\n  File \"mytest_fasttext.py\", line 22, \r\n    model = gensim.models.wrappers.fasttext.FastText(sentences=usr_sequence, size=8, min_count=5, window=8, workers=16)\r\n  File \"/home/anaconda3/lib/python3.6/site-packages/gensim/models/word2vec.py\", line 505, in __init__\r\n    start_alpha=self.alpha, end_alpha=self.min_alpha)\r\nTypeError: train() got an unexpected keyword argument 'total_examples'", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1514/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1514/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1511", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1511/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1511/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1511/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/1511", "id": 246504684, "node_id": "MDU6SXNzdWUyNDY1MDQ2ODQ=", "number": 1511, "title": "ShardedCorpus skips the first value of a generator", "user": {"login": "karkkainenk1", "id": 626534, "node_id": "MDQ6VXNlcjYyNjUzNA==", "avatar_url": "https://avatars.githubusercontent.com/u/626534?v=4", "gravatar_id": "", "url": "https://api.github.com/users/karkkainenk1", "html_url": "https://github.com/karkkainenk1", "followers_url": "https://api.github.com/users/karkkainenk1/followers", "following_url": "https://api.github.com/users/karkkainenk1/following{/other_user}", "gists_url": "https://api.github.com/users/karkkainenk1/gists{/gist_id}", "starred_url": "https://api.github.com/users/karkkainenk1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/karkkainenk1/subscriptions", "organizations_url": "https://api.github.com/users/karkkainenk1/orgs", "repos_url": "https://api.github.com/users/karkkainenk1/repos", "events_url": "https://api.github.com/users/karkkainenk1/events{/privacy}", "received_events_url": "https://api.github.com/users/karkkainenk1/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 233081, "node_id": "MDU6TGFiZWwyMzMwODE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20easy", "name": "difficulty easy", "color": "00ff00", "default": false, "description": "Easy issue: required small fix"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-07-29T07:00:57Z", "updated_at": "2017-09-14T11:01:41Z", "closed_at": "2017-09-14T11:01:41Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Description\r\nShardedCorpus skips the first value of a generator. This is possibly caused by ShardedCorpus not using the fixed corpus that is returned from is_corpus method, but I haven't verified this yet.\r\n\r\n#### Steps/Code/Corpus to Reproduce\r\n\r\n```\r\nfrom gensim.corpora.sharded_corpus import ShardedCorpus\r\n\r\ndef my_generator():\r\n    yield [(0,1)]\r\n    yield [(1,1)]\r\n    yield [(2,1)]\r\n\r\ncorpus = ShardedCorpus(\"corpus\", my_generator(), dim=3, overwrite=True)\r\n\r\nprint(len(corpus))\r\nprint(corpus[0])\r\n```\r\n\r\n#### Expected Results\r\n\r\nExpected output:\r\n```\r\n3\r\n[ 1.  0.  0.]\r\n```\r\n\r\n#### Actual Results\r\n\r\nActual output:\r\n```\r\n2\r\n[ 0.  1.  0.]\r\n```\r\n\r\nI.e. The first item in the generator has been skipped and is missing from the resulting corpus\r\n\r\n#### Versions\r\n\r\nDarwin-16.7.0-x86_64-i386-64bit\r\nPython 3.6.1 |Anaconda 4.4.0 (x86_64)| (default, May 11 2017, 13:04:09) \r\n[GCC 4.2.1 Compatible Apple LLVM 6.0 (clang-600.0.57)]\r\nNumPy 1.12.1\r\nSciPy 0.19.0\r\ngensim 2.3.0\r\nFAST_VERSION 1\r\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1511/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1511/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1472", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1472/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1472/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1472/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/1472", "id": 241091663, "node_id": "MDU6SXNzdWUyNDEwOTE2NjM=", "number": 1472, "title": "Potential numerical instability in word2vec scoring functions?", "user": {"login": "jmhessel", "id": 178075, "node_id": "MDQ6VXNlcjE3ODA3NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/178075?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jmhessel", "html_url": "https://github.com/jmhessel", "followers_url": "https://api.github.com/users/jmhessel/followers", "following_url": "https://api.github.com/users/jmhessel/following{/other_user}", "gists_url": "https://api.github.com/users/jmhessel/gists{/gist_id}", "starred_url": "https://api.github.com/users/jmhessel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jmhessel/subscriptions", "organizations_url": "https://api.github.com/users/jmhessel/orgs", "repos_url": "https://api.github.com/users/jmhessel/repos", "events_url": "https://api.github.com/users/jmhessel/events{/privacy}", "received_events_url": "https://api.github.com/users/jmhessel/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 234670, "node_id": "MDU6TGFiZWwyMzQ2NzA=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20medium", "name": "difficulty medium", "color": "00d000", "default": false, "description": "Medium issue: required good gensim understanding & python skills"}, {"id": 708355863, "node_id": "MDU6TGFiZWw3MDgzNTU4NjM=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/need%20info", "name": "need info", "color": "fbca04", "default": false, "description": "Not enough information for reproduce an issue, need more info from author"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2017-07-06T21:28:59Z", "updated_at": "2018-04-09T08:54:39Z", "closed_at": "2018-02-16T06:47:49Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hi there --\r\n\r\nI figured I'd file a separate issue to go along with my observations in #999 but I think there is a numerical instability when comparing the model scoring between numpy and cython in word2vec. I discovered this instability when implementing scoring functions for doc2vec in my fork of gensim. After much debugging, I discovered the following:\r\n\r\nNumpy uses `logaddexp` to score pairs for cbow and skipgram ([the documentation](https://docs.scipy.org/doc/numpy/reference/generated/numpy.logaddexp.html) mentions that this function takes special precautions for numerical stability reasons), i.e.,\r\n\r\n```\r\ndef score_sg_pair(model, word, word2):\r\n    l1 = model.wv.syn0[word2.index]\r\n    l2a = deepcopy(model.syn1[word.point])  # 2d matrix, codelen x layer1_size\r\n    sgn = (-1.0)**word.code  # ch function, 0-> 1, 1 -> -1\r\n    lprob = -logaddexp(0, -sgn * dot(l1, l2a.T))\r\n    return sum(lprob)\r\n\r\n\r\ndef score_cbow_pair(model, word, l1):\r\n    l2a = model.syn1[word.point]  # 2d matrix, codelen x layer1_size\r\n    sgn = (-1.0)**word.code  # ch function, 0-> 1, 1 -> -1\r\n    lprob = -logaddexp(0, -sgn * dot(l1, l2a.T))\r\n    return sum(lprob)\r\n```\r\nnote that this implicitly computes the log of the sigmoid function for each internal node of the hierarchical softmax -- i.e.,\r\n```\r\n-logaddexp(0, -y)\r\n-logadd(1, e^-y)\r\n-log(1+e^-y)\r\nlog ( 1 / (1 + e^-y))\r\n```\r\nthe cython implementations use a different method, which I think is mathematically equivalent, i.e. it explicitly computes the log sigmoids in a table first, and then sums them up. https://github.com/RaRe-Technologies/gensim/blob/develop/gensim/models/word2vec_inner.pyx#L672-L680\r\n\r\n```\r\nfor b in range(codelens[i]):\r\n    row2 = word_point[b] * size\r\n    f = our_dot(&size, neu1, &ONE, &syn1[row2], &ONE)\r\n    sgn = (-1)**word_code[b] # ch function: 0-> 1, 1 -> -1\r\n    f = sgn*f\r\n    if f <= -MAX_EXP or f >= MAX_EXP:\r\n       continue\r\n    f = LOG_TABLE[<int>((f + MAX_EXP) * (EXP_TABLE_SIZE / MAX_EXP / 2))]\r\n    work[0] += f\r\n```\r\n`LOG_TABLE` contains precomputed `log(sigmoid(x))`.\r\n\r\nI can't quite pinpoint where these two implementations differ (they differ even when the `MAX_EXP` check doesn't fire), but I have found that they can produce significantly different outputs, even when I increase the resolution of the `LOG_TABLE.` When I use a more numerically stable logaddexp in cython, the output matches the numpy output. I will be doing a bit more investigation but figured I'd mention this.\r\n\r\nAlso, in my branch, I added functions that do model scoring for doc2vec, if those are of interest.", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1472/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1472/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1450", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1450/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1450/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1450/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/1450", "id": 238444232, "node_id": "MDU6SXNzdWUyMzg0NDQyMzI=", "number": 1450, "title": "Minimum version for numpy/scipy", "user": {"login": "menshikh-iv", "id": 15094669, "node_id": "MDQ6VXNlcjE1MDk0NjY5", "avatar_url": "https://avatars.githubusercontent.com/u/15094669?v=4", "gravatar_id": "", "url": "https://api.github.com/users/menshikh-iv", "html_url": "https://github.com/menshikh-iv", "followers_url": "https://api.github.com/users/menshikh-iv/followers", "following_url": "https://api.github.com/users/menshikh-iv/following{/other_user}", "gists_url": "https://api.github.com/users/menshikh-iv/gists{/gist_id}", "starred_url": "https://api.github.com/users/menshikh-iv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/menshikh-iv/subscriptions", "organizations_url": "https://api.github.com/users/menshikh-iv/orgs", "repos_url": "https://api.github.com/users/menshikh-iv/repos", "events_url": "https://api.github.com/users/menshikh-iv/events{/privacy}", "received_events_url": "https://api.github.com/users/menshikh-iv/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 175986, "node_id": "MDU6TGFiZWwxNzU5ODY=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/testing", "name": "testing", "color": "444444", "default": false, "description": "Issue related with testing (code, documentation, etc)"}, {"id": 233081, "node_id": "MDU6TGFiZWwyMzMwODE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20easy", "name": "difficulty easy", "color": "00ff00", "default": false, "description": "Easy issue: required small fix"}], "state": "closed", "locked": false, "assignee": {"login": "menshikh-iv", "id": 15094669, "node_id": "MDQ6VXNlcjE1MDk0NjY5", "avatar_url": "https://avatars.githubusercontent.com/u/15094669?v=4", "gravatar_id": "", "url": "https://api.github.com/users/menshikh-iv", "html_url": "https://github.com/menshikh-iv", "followers_url": "https://api.github.com/users/menshikh-iv/followers", "following_url": "https://api.github.com/users/menshikh-iv/following{/other_user}", "gists_url": "https://api.github.com/users/menshikh-iv/gists{/gist_id}", "starred_url": "https://api.github.com/users/menshikh-iv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/menshikh-iv/subscriptions", "organizations_url": "https://api.github.com/users/menshikh-iv/orgs", "repos_url": "https://api.github.com/users/menshikh-iv/repos", "events_url": "https://api.github.com/users/menshikh-iv/events{/privacy}", "received_events_url": "https://api.github.com/users/menshikh-iv/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "menshikh-iv", "id": 15094669, "node_id": "MDQ6VXNlcjE1MDk0NjY5", "avatar_url": "https://avatars.githubusercontent.com/u/15094669?v=4", "gravatar_id": "", "url": "https://api.github.com/users/menshikh-iv", "html_url": "https://github.com/menshikh-iv", "followers_url": "https://api.github.com/users/menshikh-iv/followers", "following_url": "https://api.github.com/users/menshikh-iv/following{/other_user}", "gists_url": "https://api.github.com/users/menshikh-iv/gists{/gist_id}", "starred_url": "https://api.github.com/users/menshikh-iv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/menshikh-iv/subscriptions", "organizations_url": "https://api.github.com/users/menshikh-iv/orgs", "repos_url": "https://api.github.com/users/menshikh-iv/repos", "events_url": "https://api.github.com/users/menshikh-iv/events{/privacy}", "received_events_url": "https://api.github.com/users/menshikh-iv/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2017-06-26T05:25:26Z", "updated_at": "2017-07-07T04:57:06Z", "closed_at": "2017-07-07T04:56:56Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "In the last release, I had to \"bump\" versions for numpy/scipy. This may be a problem for *ops people (need to upgrade old versions). \r\n\r\nFor this reason, we should downgrade numpy/scipy version and don't break anything.", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1450/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1450/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1441", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1441/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1441/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1441/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/1441", "id": 237824344, "node_id": "MDU6SXNzdWUyMzc4MjQzNDQ=", "number": 1441, "title": "Windows 2.2.0 issues", "user": {"login": "menshikh-iv", "id": 15094669, "node_id": "MDQ6VXNlcjE1MDk0NjY5", "avatar_url": "https://avatars.githubusercontent.com/u/15094669?v=4", "gravatar_id": "", "url": "https://api.github.com/users/menshikh-iv", "html_url": "https://github.com/menshikh-iv", "followers_url": "https://api.github.com/users/menshikh-iv/followers", "following_url": "https://api.github.com/users/menshikh-iv/following{/other_user}", "gists_url": "https://api.github.com/users/menshikh-iv/gists{/gist_id}", "starred_url": "https://api.github.com/users/menshikh-iv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/menshikh-iv/subscriptions", "organizations_url": "https://api.github.com/users/menshikh-iv/orgs", "repos_url": "https://api.github.com/users/menshikh-iv/repos", "events_url": "https://api.github.com/users/menshikh-iv/events{/privacy}", "received_events_url": "https://api.github.com/users/menshikh-iv/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 175986, "node_id": "MDU6TGFiZWwxNzU5ODY=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/testing", "name": "testing", "color": "444444", "default": false, "description": "Issue related with testing (code, documentation, etc)"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-06-22T12:08:27Z", "updated_at": "2017-07-06T10:40:22Z", "closed_at": "2017-07-06T10:40:22Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "We have several errors in tests if I use Windows\r\n\r\n2 errors, connected with multithreading in windows (???) from [#1349](https://github.com/RaRe-Technologies/gensim/pull/1349), python2 and python3\r\n```\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"C:\\Python35-x64\\lib\\site-packages\\gensim\\test\\test_text_analysis.py\", line 57, in test_occurrence_counting\r\n    self.assertEqual(3, accumulator.get_occurrences(\"this\"))\r\nAssertionError: 3 != 0\r\n-------------------- >> begin captured logging << --------------------\r\ngensim.topic_coherence.text_analysis: INFO: 1 batches submitted to accumulate stats from 64 documents (3 virtual)\r\ngensim.topic_coherence.text_analysis: INFO: 2 accumulators retrieved from output queue\r\ngensim.topic_coherence.text_analysis: INFO: accumulated word occurrence stats for 4 virtual documents\r\n--------------------- >> end captured logging << ---------------------\r\n======================================================================\r\nFAIL: test_occurrence_counting2 (gensim.test.test_text_analysis.TestParallelWordOccurrenceAccumulator)\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"C:\\Python35-x64\\lib\\site-packages\\gensim\\test\\test_text_analysis.py\", line 67, in test_occurrence_counting2\r\n    self.assertEqual(2, accumulator.get_occurrences(\"human\"))\r\nAssertionError: 2 != 0\r\n-------------------- >> begin captured logging << --------------------\r\ngensim.topic_coherence.text_analysis: INFO: 2 accumulators retrieved from output queue\r\ngensim.topic_coherence.text_analysis: INFO: accumulated word occurrence stats for 10 virtual documents\r\n--------------------- >> end captured logging << ---------------------\r\n```\r\n3 errors connected with encoding from [#1402](https://github.com/RaRe-Technologies/gensim/pull/1402), \r\npython3 only\r\n\r\n```\r\n======================================================================\r\nERROR: `Dictionary` can be loaded from textfile.\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"C:\\Python35-x64\\lib\\site-packages\\gensim\\test\\test_corpora_dictionary.py\", line 234, in test_loadFromText\r\n    d = Dictionary.load_from_text(tmpf)\r\n  File \"C:\\Python35-x64\\lib\\site-packages\\gensim\\corpora\\dictionary.py\", line 358, in load_from_text\r\n    line = utils.to_unicode(line)\r\n  File \"C:\\Python35-x64\\lib\\site-packages\\gensim\\utils.py\", line 235, in any2unicode\r\n    return unicode(text, encoding, errors=errors)\r\nUnicodeDecodeError: 'utf-8' codec can't decode byte 0xe9 in position 5: invalid continuation byte\r\n======================================================================\r\nERROR: `Dictionary` can be loaded from textfile in legacy format.\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"C:\\Python35-x64\\lib\\site-packages\\gensim\\test\\test_corpora_dictionary.py\", line 220, in test_loadFromText_legacy\r\n    d = Dictionary.load_from_text(tmpf)\r\n  File \"C:\\Python35-x64\\lib\\site-packages\\gensim\\corpora\\dictionary.py\", line 358, in load_from_text\r\n    line = utils.to_unicode(line)\r\n  File \"C:\\Python35-x64\\lib\\site-packages\\gensim\\utils.py\", line 235, in any2unicode\r\n    return unicode(text, encoding, errors=errors)\r\nUnicodeDecodeError: 'utf-8' codec can't decode byte 0xe9 in position 5: invalid continuation byte\r\n======================================================================\r\nFAIL: `Dictionary` can be saved as textfile.\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"C:\\Python35-x64\\lib\\site-packages\\gensim\\test\\test_corpora_dictionary.py\", line 197, in test_saveAsText\r\n    self.assertEqual(serialized_lines[1][1:], \"\\tdruh\ufffd\\t2\\n\")\r\nAssertionError: '\\tdruh\u00e9\\t2\\n' != '\\tdruh\ufffd\\t2\\n'\r\n- \tdruh\u00e9\t2\r\n? \t    ^^\r\n+ \tdruh\ufffd\t2\r\n? \t    ^\r\n-------------------- >> begin captured logging << --------------------\r\ngensim.corpora.dictionary: INFO: adding document #0 to Dictionary(0 unique tokens: [])\r\ngensim.corpora.dictionary: INFO: built Dictionary(3 unique tokens: ['druh\ufffd', 'prv\ufffd', 'slovo']) from 3 documents (total 6 corpus positions)\r\ngensim.corpora.dictionary: INFO: saving dictionary mapping to C:\\Users\\appveyor\\AppData\\Local\\Temp\\1\\save_dict_test.txt\r\n--------------------- >> end captured logging << ---------------------\r\n```", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1441/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1441/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1415", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1415/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1415/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1415/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/1415", "id": 235967965, "node_id": "MDU6SXNzdWUyMzU5Njc5NjU=", "number": 1415, "title": "duplicate annoy tutorials - annoytutorial.ipynb & annoytutorial-text8.ipynb ?", "user": {"login": "gojomo", "id": 1641, "node_id": "MDQ6VXNlcjE2NDE=", "avatar_url": "https://avatars.githubusercontent.com/u/1641?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gojomo", "html_url": "https://github.com/gojomo", "followers_url": "https://api.github.com/users/gojomo/followers", "following_url": "https://api.github.com/users/gojomo/following{/other_user}", "gists_url": "https://api.github.com/users/gojomo/gists{/gist_id}", "starred_url": "https://api.github.com/users/gojomo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gojomo/subscriptions", "organizations_url": "https://api.github.com/users/gojomo/orgs", "repos_url": "https://api.github.com/users/gojomo/repos", "events_url": "https://api.github.com/users/gojomo/events{/privacy}", "received_events_url": "https://api.github.com/users/gojomo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 233081, "node_id": "MDU6TGFiZWwyMzMwODE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20easy", "name": "difficulty easy", "color": "00ff00", "default": false, "description": "Easy issue: required small fix"}, {"id": 721000065, "node_id": "MDU6TGFiZWw3MjEwMDAwNjU=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/good%20first%20issue", "name": "good first issue", "color": "7057ff", "default": true, "description": "Issue for new contributors (not required gensim understanding + very simple)"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-06-14T18:22:40Z", "updated_at": "2017-10-21T10:54:20Z", "closed_at": "2017-10-21T10:54:20Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "There seem to be two (nearly?) identical ANNOY tutorial notebooks:\r\n\r\nhttps://github.com/RaRe-Technologies/gensim/blob/develop/docs/notebooks/annoytutorial-text8.ipynb\r\n\r\nhttps://github.com/RaRe-Technologies/gensim/blob/develop/docs/notebooks/annoytutorial.ipynb\r\n\r\nMaybe a merge error retained the file under an older name? Seems there should be only one, probably the one with the longer more-detailed name.\r\n\r\n@quole @vochicong @pmbaumgartner ", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1415/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1415/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1401", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1401/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1401/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1401/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/1401", "id": 234619232, "node_id": "MDU6SXNzdWUyMzQ2MTkyMzI=", "number": 1401, "title": "different Phrases behavior for same code/corpus between 0.13.4.1 and 2.1.0", "user": {"login": "jeremybmerrill", "id": 548250, "node_id": "MDQ6VXNlcjU0ODI1MA==", "avatar_url": "https://avatars.githubusercontent.com/u/548250?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jeremybmerrill", "html_url": "https://github.com/jeremybmerrill", "followers_url": "https://api.github.com/users/jeremybmerrill/followers", "following_url": "https://api.github.com/users/jeremybmerrill/following{/other_user}", "gists_url": "https://api.github.com/users/jeremybmerrill/gists{/gist_id}", "starred_url": "https://api.github.com/users/jeremybmerrill/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jeremybmerrill/subscriptions", "organizations_url": "https://api.github.com/users/jeremybmerrill/orgs", "repos_url": "https://api.github.com/users/jeremybmerrill/repos", "events_url": "https://api.github.com/users/jeremybmerrill/events{/privacy}", "received_events_url": "https://api.github.com/users/jeremybmerrill/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 234670, "node_id": "MDU6TGFiZWwyMzQ2NzA=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20medium", "name": "difficulty medium", "color": "00d000", "default": false, "description": "Medium issue: required good gensim understanding & python skills"}], "state": "closed", "locked": false, "assignee": {"login": "menshikh-iv", "id": 15094669, "node_id": "MDQ6VXNlcjE1MDk0NjY5", "avatar_url": "https://avatars.githubusercontent.com/u/15094669?v=4", "gravatar_id": "", "url": "https://api.github.com/users/menshikh-iv", "html_url": "https://github.com/menshikh-iv", "followers_url": "https://api.github.com/users/menshikh-iv/followers", "following_url": "https://api.github.com/users/menshikh-iv/following{/other_user}", "gists_url": "https://api.github.com/users/menshikh-iv/gists{/gist_id}", "starred_url": "https://api.github.com/users/menshikh-iv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/menshikh-iv/subscriptions", "organizations_url": "https://api.github.com/users/menshikh-iv/orgs", "repos_url": "https://api.github.com/users/menshikh-iv/repos", "events_url": "https://api.github.com/users/menshikh-iv/events{/privacy}", "received_events_url": "https://api.github.com/users/menshikh-iv/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "menshikh-iv", "id": 15094669, "node_id": "MDQ6VXNlcjE1MDk0NjY5", "avatar_url": "https://avatars.githubusercontent.com/u/15094669?v=4", "gravatar_id": "", "url": "https://api.github.com/users/menshikh-iv", "html_url": "https://github.com/menshikh-iv", "followers_url": "https://api.github.com/users/menshikh-iv/followers", "following_url": "https://api.github.com/users/menshikh-iv/following{/other_user}", "gists_url": "https://api.github.com/users/menshikh-iv/gists{/gist_id}", "starred_url": "https://api.github.com/users/menshikh-iv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/menshikh-iv/subscriptions", "organizations_url": "https://api.github.com/users/menshikh-iv/orgs", "repos_url": "https://api.github.com/users/menshikh-iv/repos", "events_url": "https://api.github.com/users/menshikh-iv/events{/privacy}", "received_events_url": "https://api.github.com/users/menshikh-iv/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 30, "created_at": "2017-06-08T18:39:46Z", "updated_at": "2018-09-27T06:05:15Z", "closed_at": "2018-02-15T11:38:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Description\r\nHi friends -- I've been using gensim 0.13.4.1 to generate bigrams and trigrams (Phrase model), then to train a word2vec model on a stream of sentences run thru the trigrams phrase model. Works great. \r\n\r\nBut I've tried to upgrade to 1.0.0 and 2.1.0 and the results are way way worse -- with the exact same code. I've scoured the release notes but haven't found an explanation. Don't see deprecation warnings in 0.13.4.1 either.\r\n\r\nI should clarify -- on gensim 2.1.0, everything \"works\", i.e. there are no exceptions. It's just that the answers it gives for similarity are incorrect. The classic man : king :: woman : __ analogy gives \"chernow\" in the 2.1.0-trained model, but \"queen\" (the expected answer) in the 0.13.4.1-trained model.\r\n\r\nI'm not an expert on any of this, so this could be a silly mistake. (I posted about this in the gitter channel and was directed to open an issue.)\r\n\r\n#### Steps/Code/Corpus to Reproduce\r\nSnippet:\r\n```\r\n  model = gensim.models.Word2Vec(\r\n                                  ngrams_models[ngrams_model](sentences) if ngrams_model else sentences, \r\n                                  workers=4, \r\n                                  min_count=min_count, \r\n                                  size=size, \r\n                                  sample=downsampling, \r\n                                  # sg=(1 if use_skipgrams else 0)\r\n                                )\r\n\r\n  model.init_sims(replace=True)\r\n  try:\r\n    model_name = \"model_%s_%s_%s_min_count_%s_size_%s_downsampling_%s_%s.bin\" % (sentences_filename.split(\"/\")[-1].split(\".\")[0], \"stemmed\" if stemming else \"raw_words\", ngrams_model, min_count, size, downsampling, \"sg\" if use_skipgrams else \"cbow\")\r\n  except:\r\n    model_name = \"model.bin\"\r\n  model.save(model_name)\r\n\r\n  with open(\"most_recent_model_filename.txt\", \"w\") as f:\r\n    f.write(model_name)\r\n\r\n  print(model.most_similar_cosmul(positive=['woman', 'king'], negative=['man']))\r\n```\r\n\r\nFULL training script (slightly sanitized): https://github.com/jeremybmerrill/ineffable_abracadabra_of_cleaning/blob/master/train_in_vain.py. The only difference it takes to get the different results is changing `requirements.txt` to specify gensim 2.1.0 and re-running `pip install -r requirements.txt`\r\n\r\n#### Expected Results\r\n`print(model.most_similar_cosmul(positive=['woman', 'king'], negative=['man']))`\r\nshould have `queen` as the first answer, e.g.\r\n```[(u'queen', 0.8925966620445251), (u'royal', 0.8144874572753906), (u'wales', 0.7882706522941589), (u'kingston_ontario', 0.7752816677093506), (u'helen_mirren', 0.7718634009361267), (u'bismarck', 0.7668762803077698), (u'princess', 0.7609482407569885), (u'queen_elizabeth_ii', 0.76094651222229), (u'prince_philip', 0.7592762112617493), (u'duchess', 0.7587381601333618)]```\r\n\r\nthis is the result from in 0.13.4.1\r\n\r\n#### Actual Results\r\ngives `chernow` as the first answer and a bunch of other irrelevant stuff, ```(\"chernow\",0.8686840534210205),(\"anxiety_disorders\",0.8328080177307129),(\"marlinga\",0.8300415277481079), ...```\r\n\r\n(This is with a model trained in 2.1.0 and calling `model.most_similar_cosmul` in 2.1.0. I haven't tested what happens using a model trained in 0.13.4.1, but loading the model and calling `model.most_similar_cosmul` in 2.1.0.)\r\n\r\n#### Versions\r\n````\r\nLinux-4.12.0-999-generic-x86_64-with-Ubuntu-17.04-zesty\r\n>>> import sys; print(\"Python\", sys.version)\r\n('Python', '2.7.13 (default, Jan 19 2017, 14:48:08) \\n[GCC 6.3.0 20170118]')\r\n>>> import numpy; print(\"NumPy\", numpy.__version__)\r\n('NumPy', '1.12.1')\r\n>>> import scipy; print(\"SciPy\", scipy.__version__)\r\n('SciPy', '0.19.0')\r\n>>> import gensim; print(\"gensim\", gensim.__version__)\r\n('gensim', '2.1.0')\r\n>>> from gensim.models import word2vec;print(\"FAST_VERSION\", word2vec.FAST_VERSION)\r\n('FAST_VERSION', 1)\r\n````\r\nI appreciate any help y'all can offer! (Great software, love it, so much fun, :D etc. )", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1401/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1401/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1370", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1370/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1370/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1370/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/1370", "id": 231827575, "node_id": "MDU6SXNzdWUyMzE4Mjc1NzU=", "number": 1370, "title": "Fasttext incorrect shape in test", "user": {"login": "menshikh-iv", "id": 15094669, "node_id": "MDQ6VXNlcjE1MDk0NjY5", "avatar_url": "https://avatars.githubusercontent.com/u/15094669?v=4", "gravatar_id": "", "url": "https://api.github.com/users/menshikh-iv", "html_url": "https://github.com/menshikh-iv", "followers_url": "https://api.github.com/users/menshikh-iv/followers", "following_url": "https://api.github.com/users/menshikh-iv/following{/other_user}", "gists_url": "https://api.github.com/users/menshikh-iv/gists{/gist_id}", "starred_url": "https://api.github.com/users/menshikh-iv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/menshikh-iv/subscriptions", "organizations_url": "https://api.github.com/users/menshikh-iv/orgs", "repos_url": "https://api.github.com/users/menshikh-iv/repos", "events_url": "https://api.github.com/users/menshikh-iv/events{/privacy}", "received_events_url": "https://api.github.com/users/menshikh-iv/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-05-27T20:57:03Z", "updated_at": "2017-05-29T15:54:52Z", "closed_at": "2017-05-29T15:31:47Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I run all tests and get this error (any python version, `develop` branch)\r\nCC @prakhar2b @jayantj \r\n```\r\n======================================================================\r\nFAIL: testTraining (gensim.test.test_fasttext_wrapper.TestFastText)\r\nTest self.test_model successfully trained, parameters and weights correctly loaded\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"/home/ivan/release/test/gensim/gensim/test/test_fasttext_wrapper.py\", line 63, in testTraining\r\n    self.assertEqual(trained_model.wv.syn0.shape, (vocab_size, model_size))\r\nAssertionError: Tuples differ: (1763, 10) != (1762, 10)\r\n\r\nFirst differing element 0:\r\n1763\r\n1762\r\n\r\n- (1763, 10)\r\n?     ^\r\n\r\n+ (1762, 10)\r\n?     ^\r\n\r\n\r\n----------------------------------------------------------------------\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1370/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1370/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1320", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1320/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1320/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1320/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/1320", "id": 228531145, "node_id": "MDU6SXNzdWUyMjg1MzExNDU=", "number": 1320, "title": "WikiCorpus processes lock-up when run from command line", "user": {"login": "jli05", "id": 3519667, "node_id": "MDQ6VXNlcjM1MTk2Njc=", "avatar_url": "https://avatars.githubusercontent.com/u/3519667?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jli05", "html_url": "https://github.com/jli05", "followers_url": "https://api.github.com/users/jli05/followers", "following_url": "https://api.github.com/users/jli05/following{/other_user}", "gists_url": "https://api.github.com/users/jli05/gists{/gist_id}", "starred_url": "https://api.github.com/users/jli05/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jli05/subscriptions", "organizations_url": "https://api.github.com/users/jli05/orgs", "repos_url": "https://api.github.com/users/jli05/repos", "events_url": "https://api.github.com/users/jli05/events{/privacy}", "received_events_url": "https://api.github.com/users/jli05/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 233081, "node_id": "MDU6TGFiZWwyMzMwODE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20easy", "name": "difficulty easy", "color": "00ff00", "default": false, "description": "Easy issue: required small fix"}, {"id": 721000065, "node_id": "MDU6TGFiZWw3MjEwMDAwNjU=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/good%20first%20issue", "name": "good first issue", "color": "7057ff", "default": true, "description": "Issue for new contributors (not required gensim understanding + very simple)"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2017-05-14T10:01:32Z", "updated_at": "2017-10-24T10:27:40Z", "closed_at": "2017-10-24T10:27:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "When we run the following function from within `iPython`, it runs successfully with multi-processes enabled by the `processes` argument when constructing `WikiCorpus`. However when we put this function in a `.py` file and use `python3 xxx.py` to invoke it, it never processes more than 200 documents, when we press Ctrl-C, there seems to be a semaphore lock-up caused by multi-processes.\r\n\r\n```python\r\ndef dump_bow(corpus, partition_size=10000, limit=200, output_prefix='dump'):\r\n    ''' Dump Bag-of-Word from gensim WikiCorpus\r\n\r\n    Iterate through the documents in the wiki dump and dump the\r\n    Bag-of-Words of the documents in a series of .txt.gz files.\r\n    Each line in the uncompressed file represent one document, with\r\n    only lower-case words separated by space.\r\n\r\n    PARAMETERS\r\n    -----------\r\n    corpus: gensim.corpora.WikiCorpus\r\n        The Wikidump corpus.\r\n    partition_size: int\r\n        Number of documents in each .txt.gz dump file.\r\n    limit: int\r\n        The total number of documents to dump.\r\n    output_prefix: str\r\n        Prefix of the dump files.\r\n    '''\r\n    def write_buffer(buf, output_prefix, partition_id):\r\n        ''' Dump current buffer of Bag-of-Words '''\r\n        fname = '{}-{:06d}.txt.gz'.format(output_prefix, partition_id)\r\n        with gzip.open(fname, 'wt') as partition_file:\r\n            partition_file.write(buf)\r\n\r\n    count_documents = 0\r\n    partition_id = 0\r\n    buf = ''\r\n\r\n    for bow in corpus.get_texts():\r\n        text = ' '.join([byte_array.decode('utf-8') for byte_array in bow])\r\n        buf += text + '\\n'\r\n        count_documents += 1\r\n\r\n        if count_documents % 100 == 0:\r\n            print('Processed {} documents.'.format(count_documents))\r\n\r\n        if count_documents % partition_size == 0:\r\n            write_buffer(buf, output_prefix, partition_id)\r\n            buf = ''\r\n            partition_id += 1\r\n\r\n        if limit is not None and count_documents >= limit:\r\n            break\r\n\r\n    if buf:\r\n        write_buffer(buf, output_prefix, partition_id)\r\n```\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3.5/multiprocessing/process.py\", line 252, in _bootstrap\r\n    util._exit_function()\r\n  File \"/usr/lib/python3.5/multiprocessing/util.py\", line 314, in _exit_function\r\n    _run_finalizers()\r\n  File \"/usr/lib/python3.5/multiprocessing/util.py\", line 254, in _run_finalizers\r\n    finalizer()\r\n  File \"/usr/lib/python3.5/multiprocessing/util.py\", line 186, in __call__\r\n    res = self._callback(*self._args, **self._kwargs)\r\n  File \"/usr/lib/python3.5/multiprocessing/queues.py\", line 198, in _finalize_join\r\n    thread.join()\r\n  File \"/usr/lib/python3.5/threading.py\", line 1054, in join\r\n    self._wait_for_tstate_lock()\r\n  File \"/usr/lib/python3.5/threading.py\", line 1070, in _wait_for_tstate_lock\r\n    elif lock.acquire(block, timeout):\r\nKeyboardInterrupt\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3.5/multiprocessing/process.py\", line 249, in _bootstrap\r\n    self.run()\r\n  File \"/usr/lib/python3.5/multiprocessing/process.py\", line 93, in run\r\n    self._target(*self._args, **self._kwargs)\r\n  File \"/usr/lib/python3.5/multiprocessing/pool.py\", line 108, in worker\r\n    task = get()\r\n  File \"/usr/lib/python3.5/multiprocessing/queues.py\", line 342, in get\r\n    with self._rlock:\r\n  File \"/usr/lib/python3.5/multiprocessing/synchronize.py\", line 96, in __enter__\r\n    return self._semlock.__enter__()\r\nKeyboardInterrupt\r\n``` \r\n\r\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1320/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1320/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1276", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1276/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1276/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1276/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/1276", "id": 221202195, "node_id": "MDU6SXNzdWUyMjEyMDIxOTU=", "number": 1276, "title": "wordrank_comparisions typeerror", "user": {"login": "luoyangen", "id": 3061079, "node_id": "MDQ6VXNlcjMwNjEwNzk=", "avatar_url": "https://avatars.githubusercontent.com/u/3061079?v=4", "gravatar_id": "", "url": "https://api.github.com/users/luoyangen", "html_url": "https://github.com/luoyangen", "followers_url": "https://api.github.com/users/luoyangen/followers", "following_url": "https://api.github.com/users/luoyangen/following{/other_user}", "gists_url": "https://api.github.com/users/luoyangen/gists{/gist_id}", "starred_url": "https://api.github.com/users/luoyangen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/luoyangen/subscriptions", "organizations_url": "https://api.github.com/users/luoyangen/orgs", "repos_url": "https://api.github.com/users/luoyangen/repos", "events_url": "https://api.github.com/users/luoyangen/events{/privacy}", "received_events_url": "https://api.github.com/users/luoyangen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 175643, "node_id": "MDU6TGFiZWwxNzU2NDM=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/documentation", "name": "documentation", "color": "02d7e1", "default": true, "description": "Current issue related to documentation"}, {"id": 233081, "node_id": "MDU6TGFiZWwyMzMwODE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20easy", "name": "difficulty easy", "color": "00ff00", "default": false, "description": "Easy issue: required small fix"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-04-12T09:24:57Z", "updated_at": "2017-05-10T09:47:15Z", "closed_at": "2017-05-10T09:47:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "hi,\r\n    I'm trying to run the [wordrank_comparisions](https://github.com/RaRe-Technologies/gensim/blob/develop/docs/notebooks/Wordrank_comparisons.ipynb), but while training the wordrank model, got the error: TypeError: train() takes at least 4 arguments (7 given).\r\n    I can't figure out whether the code error or my python environment, but other wordrank models is successes trained. waiting for help. thx.\r\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1276/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1276/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1236", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1236/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1236/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1236/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/1236", "id": 216395992, "node_id": "MDU6SXNzdWUyMTYzOTU5OTI=", "number": 1236, "title": "Gensim error when loading French FastText", "user": {"login": "jplu", "id": 959590, "node_id": "MDQ6VXNlcjk1OTU5MA==", "avatar_url": "https://avatars.githubusercontent.com/u/959590?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jplu", "html_url": "https://github.com/jplu", "followers_url": "https://api.github.com/users/jplu/followers", "following_url": "https://api.github.com/users/jplu/following{/other_user}", "gists_url": "https://api.github.com/users/jplu/gists{/gist_id}", "starred_url": "https://api.github.com/users/jplu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jplu/subscriptions", "organizations_url": "https://api.github.com/users/jplu/orgs", "repos_url": "https://api.github.com/users/jplu/repos", "events_url": "https://api.github.com/users/jplu/events{/privacy}", "received_events_url": "https://api.github.com/users/jplu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 234670, "node_id": "MDU6TGFiZWwyMzQ2NzA=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20medium", "name": "difficulty medium", "color": "00d000", "default": false, "description": "Medium issue: required good gensim understanding & python skills"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 14, "created_at": "2017-03-23T11:24:37Z", "updated_at": "2017-06-28T09:28:21Z", "closed_at": "2017-06-28T09:28:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\r\n\r\nI'm trying to use the fasttext wrapper in order to load the French model that one can find [here](https://s3-us-west-1.amazonaws.com/fasttext-vectors/wiki.fr.zip). Unfortunately I get the following error:\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"app.py\", line 18, in <module>\r\n    model = FastText.load_fasttext_format(os.path.abspath('./wiki.fr'))\r\n  File \"/opt/local/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/gensim/models/wrappers/fasttext.py\", line 238, in load_fasttext_format\r\n    model.load_binary_data('%s.bin' % model_file)\r\n  File \"/opt/local/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/gensim/models/wrappers/fasttext.py\", line 255, in load_binary_data\r\n    self.load_dict(f)\r\n  File \"/opt/local/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/gensim/models/wrappers/fasttext.py\", line 277, in load_dict\r\n    assert len(self.wv.vocab) == vocab_size, 'mismatch between vocab sizes'\r\nAssertionError: mismatch between vocab sizes\r\n```\r\nI'm using the following environment:\r\n\r\n```\r\n>>> import platform; print(platform.platform())\r\nDarwin-16.4.0-x86_64-i386-64bit\r\n>>> import sys; print(\"Python\", sys.version)\r\n('Python', '2.7.13 (default, Dec 28 2016, 14:29:07) \\n[GCC 4.2.1 Compatible Apple LLVM 8.0.0 (clang-800.0.42.1)]')\r\n>>> import numpy; print(\"NumPy\", numpy.__version__)\r\n('NumPy', '1.12.0')\r\n>>> import scipy; print(\"SciPy\", scipy.__version__)\r\n('SciPy', '0.19.0')\r\n>>> import gensim; print(\"gensim\", gensim.__version__)\r\n('gensim', '1.0.1')\r\n>>> from gensim.models import word2vec;print(\"FAST_VERSION\", word2vec.FAST_VERSION)\r\n('FAST_VERSION', 0)\r\n```\r\n\r\nSteps to reproduce the error:\r\n\r\n```\r\nwget https://s3-us-west-1.amazonaws.com/fasttext-vectors/wiki.fr.zip\r\nunzip wiki.fr.zip\r\npython -c \"import os;from gensim.models.wrappers import FastText;FastText.load_fasttext_format(os.path.abspath('./wiki.fr'))\"\r\n```\r\nI don't know if it is a bug from gensim or an issue from the used model. Any help would be appreciated.\r\n\r\nThanks in advance.", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1236/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1236/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1203", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1203/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1203/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1203/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/1203", "id": 213453063, "node_id": "MDU6SXNzdWUyMTM0NTMwNjM=", "number": 1203, "title": "No inference method for ldamallet (pyLDAVis gives an error)", "user": {"login": "icepieces", "id": 18015701, "node_id": "MDQ6VXNlcjE4MDE1NzAx", "avatar_url": "https://avatars.githubusercontent.com/u/18015701?v=4", "gravatar_id": "", "url": "https://api.github.com/users/icepieces", "html_url": "https://github.com/icepieces", "followers_url": "https://api.github.com/users/icepieces/followers", "following_url": "https://api.github.com/users/icepieces/following{/other_user}", "gists_url": "https://api.github.com/users/icepieces/gists{/gist_id}", "starred_url": "https://api.github.com/users/icepieces/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/icepieces/subscriptions", "organizations_url": "https://api.github.com/users/icepieces/orgs", "repos_url": "https://api.github.com/users/icepieces/repos", "events_url": "https://api.github.com/users/icepieces/events{/privacy}", "received_events_url": "https://api.github.com/users/icepieces/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 233081, "node_id": "MDU6TGFiZWwyMzMwODE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20easy", "name": "difficulty easy", "color": "00ff00", "default": false, "description": "Easy issue: required small fix"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2017-03-10T21:10:44Z", "updated_at": "2018-07-31T04:55:36Z", "closed_at": "2017-05-02T23:41:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am trying to use the pyldavis for visualizing my LDA models built by the wrapper for mallet. The only way I can have the visualization to work is to convert the malletlda to a ldamodel. This doesn't allow to use the Gibbs Sampling Inference in mallet and also somehow ignores my stopwords. ", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1203/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1203/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1196", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1196/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1196/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1196/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/1196", "id": 212675931, "node_id": "MDU6SXNzdWUyMTI2NzU5MzE=", "number": 1196, "title": "Gensim error when loading FastText", "user": {"login": "jaksmid", "id": 3618465, "node_id": "MDQ6VXNlcjM2MTg0NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/3618465?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaksmid", "html_url": "https://github.com/jaksmid", "followers_url": "https://api.github.com/users/jaksmid/followers", "following_url": "https://api.github.com/users/jaksmid/following{/other_user}", "gists_url": "https://api.github.com/users/jaksmid/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaksmid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaksmid/subscriptions", "organizations_url": "https://api.github.com/users/jaksmid/orgs", "repos_url": "https://api.github.com/users/jaksmid/repos", "events_url": "https://api.github.com/users/jaksmid/events{/privacy}", "received_events_url": "https://api.github.com/users/jaksmid/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 233081, "node_id": "MDU6TGFiZWwyMzMwODE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20easy", "name": "difficulty easy", "color": "00ff00", "default": false, "description": "Easy issue: required small fix"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 18, "created_at": "2017-03-08T09:04:40Z", "updated_at": "2017-03-30T14:03:25Z", "closed_at": "2017-03-30T14:03:25Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hello,\r\n\r\nI downloaded fasttext [English wikipedia](https://s3-us-west-1.amazonaws.com/fasttext-vectors/wiki.en.zip)\r\n\r\nI simply executed `model = FastText.load_fasttext_format('/Users/smidj/Repositories/snippetbot/data/fasttext/wiki.en/wiki.en')`\r\n\r\nI got an error:\r\n```\r\nOSError                                   Traceback (most recent call last)\r\n<ipython-input-3-83dcc56dad43> in <module>()\r\n----> 1 model = FastText.load_fasttext_format('/Users/smidj/Repositories/snippetbot/data/fasttext/wiki.en/wiki.en')\r\n\r\n/Users/smidj/.virtualenvs/snippetbot/lib/python3.6/site-packages/gensim/models/wrappers/fasttext.py in load_fasttext_format(cls, model_file)\r\n    236         model = cls()\r\n    237         model.wv = cls.load_word2vec_format('%s.vec' % model_file)\r\n--> 238         model.load_binary_data('%s.bin' % model_file)\r\n    239         return model\r\n    240 \r\n\r\n/Users/smidj/.virtualenvs/snippetbot/lib/python3.6/site-packages/gensim/models/wrappers/fasttext.py in load_binary_data(self, model_binary_file)\r\n    254             self.load_model_params(f)\r\n    255             self.load_dict(f)\r\n--> 256             self.load_vectors(f)\r\n    257 \r\n    258     def load_model_params(self, file_handle):\r\n\r\n/Users/smidj/.virtualenvs/snippetbot/lib/python3.6/site-packages/gensim/models/wrappers/fasttext.py in load_vectors(self, file_handle)\r\n    301 \r\n    302         self.num_original_vectors = num_vectors\r\n--> 303         self.wv.syn0_all = np.fromstring(file_handle.read(num_vectors * dim * float_size), dtype=dtype)\r\n    304         self.wv.syn0_all = self.wv.syn0_all.reshape((num_vectors, dim))\r\n    305         assert self.wv.syn0_all.shape == (self.bucket + len(self.wv.vocab), self.size), \\\r\n\r\nOSError: [Errno 22] Invalid argument\r\n```\r\n\r\nI use Mac OS Sierra, python 3.6 (in virtaulenv), and gensim version 1.0.1.\r\n\r\nThanks,\r\nJakub", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1196/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1196/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1192", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1192/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1192/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1192/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/1192", "id": 212587807, "node_id": "MDU6SXNzdWUyMTI1ODc4MDc=", "number": 1192, "title": "Sphinx warnings", "user": {"login": "tmylk", "id": 1261528, "node_id": "MDQ6VXNlcjEyNjE1Mjg=", "avatar_url": "https://avatars.githubusercontent.com/u/1261528?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tmylk", "html_url": "https://github.com/tmylk", "followers_url": "https://api.github.com/users/tmylk/followers", "following_url": "https://api.github.com/users/tmylk/following{/other_user}", "gists_url": "https://api.github.com/users/tmylk/gists{/gist_id}", "starred_url": "https://api.github.com/users/tmylk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tmylk/subscriptions", "organizations_url": "https://api.github.com/users/tmylk/orgs", "repos_url": "https://api.github.com/users/tmylk/repos", "events_url": "https://api.github.com/users/tmylk/events{/privacy}", "received_events_url": "https://api.github.com/users/tmylk/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 175643, "node_id": "MDU6TGFiZWwxNzU2NDM=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/documentation", "name": "documentation", "color": "02d7e1", "default": true, "description": "Current issue related to documentation"}, {"id": 233081, "node_id": "MDU6TGFiZWwyMzMwODE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20easy", "name": "difficulty easy", "color": "00ff00", "default": false, "description": "Easy issue: required small fix"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-03-07T23:06:46Z", "updated_at": "2017-07-05T08:04:19Z", "closed_at": "2017-07-05T08:04:19Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Sphinx 1.5.3 [raises 108 warnings](https://gist.github.com/tmylk/11d42f19c2acabbcf9aac466e204dc5f) when generating gensim docs when running\r\n```\r\ncd docs/src\r\nmake clean html \r\n```\r\n\r\nAll the files are generated correctly even though Sphinx labels some of the warnings as `errors`.\r\n\r\nThe easiest warnings to fix are in the `rst` files of type `Title underline too short.`\r\n\r\nThe warnings in the `py` file are hard to fix because the line numbers listed in the error messages don't correspond to the line numbers in the files. For example, there is no docstring on line 41 though sphinx reports\r\n`coherencemodel.py:docstring of gensim.models.coherencemodel.CoherenceModel:41: ERROR: Unexpected indentation.` \r\n\r\n\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1192/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1192/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1188", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1188/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1188/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1188/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/1188", "id": 212426888, "node_id": "MDU6SXNzdWUyMTI0MjY4ODg=", "number": 1188, "title": "value error report during training the lsi model", "user": {"login": "sherlockhoatszx", "id": 14892920, "node_id": "MDQ6VXNlcjE0ODkyOTIw", "avatar_url": "https://avatars.githubusercontent.com/u/14892920?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sherlockhoatszx", "html_url": "https://github.com/sherlockhoatszx", "followers_url": "https://api.github.com/users/sherlockhoatszx/followers", "following_url": "https://api.github.com/users/sherlockhoatszx/following{/other_user}", "gists_url": "https://api.github.com/users/sherlockhoatszx/gists{/gist_id}", "starred_url": "https://api.github.com/users/sherlockhoatszx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sherlockhoatszx/subscriptions", "organizations_url": "https://api.github.com/users/sherlockhoatszx/orgs", "repos_url": "https://api.github.com/users/sherlockhoatszx/repos", "events_url": "https://api.github.com/users/sherlockhoatszx/events{/privacy}", "received_events_url": "https://api.github.com/users/sherlockhoatszx/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}], "state": "closed", "locked": false, "assignee": {"login": "tmylk", "id": 1261528, "node_id": "MDQ6VXNlcjEyNjE1Mjg=", "avatar_url": "https://avatars.githubusercontent.com/u/1261528?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tmylk", "html_url": "https://github.com/tmylk", "followers_url": "https://api.github.com/users/tmylk/followers", "following_url": "https://api.github.com/users/tmylk/following{/other_user}", "gists_url": "https://api.github.com/users/tmylk/gists{/gist_id}", "starred_url": "https://api.github.com/users/tmylk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tmylk/subscriptions", "organizations_url": "https://api.github.com/users/tmylk/orgs", "repos_url": "https://api.github.com/users/tmylk/repos", "events_url": "https://api.github.com/users/tmylk/events{/privacy}", "received_events_url": "https://api.github.com/users/tmylk/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tmylk", "id": 1261528, "node_id": "MDQ6VXNlcjEyNjE1Mjg=", "avatar_url": "https://avatars.githubusercontent.com/u/1261528?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tmylk", "html_url": "https://github.com/tmylk", "followers_url": "https://api.github.com/users/tmylk/followers", "following_url": "https://api.github.com/users/tmylk/following{/other_user}", "gists_url": "https://api.github.com/users/tmylk/gists{/gist_id}", "starred_url": "https://api.github.com/users/tmylk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tmylk/subscriptions", "organizations_url": "https://api.github.com/users/tmylk/orgs", "repos_url": "https://api.github.com/users/tmylk/repos", "events_url": "https://api.github.com/users/tmylk/events{/privacy}", "received_events_url": "https://api.github.com/users/tmylk/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2017-03-07T13:05:58Z", "updated_at": "2017-05-02T23:07:51Z", "closed_at": "2017-05-02T23:07:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "Traceback (most recent call last):\r\n  File \"generate_model_andindex.py\", line 25, in <module>\r\n    lsi = models.LsiModel(corpus_tfidf, id2word=dictionary, num_topics=500)\r\n  File \"/usr/local/lib/python2.7/dist-packages/gensim/models/lsimodel.py\", line 331, in __init__\r\n    self.add_documents(corpus)\r\n  File \"/usr/local/lib/python2.7/dist-packages/gensim/models/lsimodel.py\", line 390, in add_documents\r\n    update = Projection(self.num_terms, self.num_topics, job, extra_dims=self.extra_samples, power_iters=self.power_iters)\r\n  File \"/usr/local/lib/python2.7/dist-packages/gensim/models/lsimodel.py\", line 129, in __init__\r\n    extra_dims=self.extra_dims)\r\n  File \"/usr/local/lib/python2.7/dist-packages/gensim/models/lsimodel.py\", line 709, in stochastic_svd\r\n    u, s, vt = scipy.linalg.svd(b, full_matrices=False)\r\n  File \"/usr/local/lib/python2.7/dist-packages/scipy/linalg/decomp_svd.py\", line 96, in svd\r\n    a1 = _asarray_validated(a, check_finite=check_finite)\r\n  File \"/usr/local/lib/python2.7/dist-packages/scipy/_lib/_util.py\", line 228, in _asarray_validated\r\n    a = toarray(a)\r\n  File \"/usr/local/lib/python2.7/dist-packages/numpy/lib/function_base.py\", line 1215, in asarray_chkfinite\r\n    \"array must not contain infs or NaNs\")\r\nValueError: array must not contain infs or NaNs\r\n\r\nmy code is \r\n\r\n```\r\ndictionary = corpora.Dictionary.load('/new32/law/500kdic_lsi.dictionary')\r\nprint ' dictionary loaded'\r\ncorpus = corpora.MmCorpus('/new32/law/1k_corpus.mm')\r\nprint 'corpus loaded'\r\ntfidf = models.TfidfModel(corpus)\r\ncorpus_tfidf = tfidf[corpus]\r\nprint 'starting training model'\r\nlsi = models.LsiModel(corpus_tfidf, id2word=dictionary, num_topics=500)\r\nprint 'model trained'\r\nlsi.save('/new32/law/5ootopic_mar7.lsi') \r\n```", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1188/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1188/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1129", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1129/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1129/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1129/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/1129", "id": 204562886, "node_id": "MDU6SXNzdWUyMDQ1NjI4ODY=", "number": 1129, "title": "gensim/utils.py occur TypeError: file must have a 'write' attribute", "user": {"login": "AaronKim-CN", "id": 6576355, "node_id": "MDQ6VXNlcjY1NzYzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6576355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AaronKim-CN", "html_url": "https://github.com/AaronKim-CN", "followers_url": "https://api.github.com/users/AaronKim-CN/followers", "following_url": "https://api.github.com/users/AaronKim-CN/following{/other_user}", "gists_url": "https://api.github.com/users/AaronKim-CN/gists{/gist_id}", "starred_url": "https://api.github.com/users/AaronKim-CN/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AaronKim-CN/subscriptions", "organizations_url": "https://api.github.com/users/AaronKim-CN/orgs", "repos_url": "https://api.github.com/users/AaronKim-CN/repos", "events_url": "https://api.github.com/users/AaronKim-CN/events{/privacy}", "received_events_url": "https://api.github.com/users/AaronKim-CN/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 234670, "node_id": "MDU6TGFiZWwyMzQ2NzA=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20medium", "name": "difficulty medium", "color": "00d000", "default": false, "description": "Medium issue: required good gensim understanding & python skills"}], "state": "closed", "locked": false, "assignee": {"login": "menshikh-iv", "id": 15094669, "node_id": "MDQ6VXNlcjE1MDk0NjY5", "avatar_url": "https://avatars.githubusercontent.com/u/15094669?v=4", "gravatar_id": "", "url": "https://api.github.com/users/menshikh-iv", "html_url": "https://github.com/menshikh-iv", "followers_url": "https://api.github.com/users/menshikh-iv/followers", "following_url": "https://api.github.com/users/menshikh-iv/following{/other_user}", "gists_url": "https://api.github.com/users/menshikh-iv/gists{/gist_id}", "starred_url": "https://api.github.com/users/menshikh-iv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/menshikh-iv/subscriptions", "organizations_url": "https://api.github.com/users/menshikh-iv/orgs", "repos_url": "https://api.github.com/users/menshikh-iv/repos", "events_url": "https://api.github.com/users/menshikh-iv/events{/privacy}", "received_events_url": "https://api.github.com/users/menshikh-iv/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "menshikh-iv", "id": 15094669, "node_id": "MDQ6VXNlcjE1MDk0NjY5", "avatar_url": "https://avatars.githubusercontent.com/u/15094669?v=4", "gravatar_id": "", "url": "https://api.github.com/users/menshikh-iv", "html_url": "https://github.com/menshikh-iv", "followers_url": "https://api.github.com/users/menshikh-iv/followers", "following_url": "https://api.github.com/users/menshikh-iv/following{/other_user}", "gists_url": "https://api.github.com/users/menshikh-iv/gists{/gist_id}", "starred_url": "https://api.github.com/users/menshikh-iv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/menshikh-iv/subscriptions", "organizations_url": "https://api.github.com/users/menshikh-iv/orgs", "repos_url": "https://api.github.com/users/menshikh-iv/repos", "events_url": "https://api.github.com/users/menshikh-iv/events{/privacy}", "received_events_url": "https://api.github.com/users/menshikh-iv/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 30, "created_at": "2017-02-01T11:47:29Z", "updated_at": "2022-05-22T19:49:21Z", "closed_at": "2021-03-16T06:29:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello, I am new to gensim library. \r\n\r\nWhen I run a code like bellow, the type error will occur.\r\n\r\n```python\r\n    model = models.Doc2Vec(alpha=0.025, min_alpha=0.025)  # use fixed learning rate\r\n    model.build_vocab(sentences)\r\n    # sentences is a labeled text data. using models.doc2vec.LabeledSentence()\r\n\r\n    # store the model to mmap-able files\r\n    model.save(model_basename+'.d2v')\r\n```\r\n\r\nthe method of save will cause the error\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/root/.pyenv/versions/3.6.0/lib/python3.6/site-packages/gensim/utils.py\", line 493, in save\r\n    _pickle.dump(self, fname_or_handle, protocol=pickle_protocol)\r\nTypeError: file must have a 'write' attribute\r\n```\r\n\r\nCould you help me?", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1129/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1129/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1123", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1123/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1123/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1123/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/1123", "id": 203887295, "node_id": "MDU6SXNzdWUyMDM4ODcyOTU=", "number": 1123, "title": "Support sklearn pipeline interface. Continuing #932.", "user": {"login": "tmylk", "id": 1261528, "node_id": "MDQ6VXNlcjEyNjE1Mjg=", "avatar_url": "https://avatars.githubusercontent.com/u/1261528?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tmylk", "html_url": "https://github.com/tmylk", "followers_url": "https://api.github.com/users/tmylk/followers", "following_url": "https://api.github.com/users/tmylk/following{/other_user}", "gists_url": "https://api.github.com/users/tmylk/gists{/gist_id}", "starred_url": "https://api.github.com/users/tmylk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tmylk/subscriptions", "organizations_url": "https://api.github.com/users/tmylk/orgs", "repos_url": "https://api.github.com/users/tmylk/repos", "events_url": "https://api.github.com/users/tmylk/events{/privacy}", "received_events_url": "https://api.github.com/users/tmylk/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-01-29T18:46:01Z", "updated_at": "2017-10-02T11:19:33Z", "closed_at": "2017-10-02T11:19:33Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Pipeline interface is not supported in the sklearn wrapper added in #932 .", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1123/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1123/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1106", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1106/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1106/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1106/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/1106", "id": 202818826, "node_id": "MDU6SXNzdWUyMDI4MTg4MjY=", "number": 1106, "title": "The _raw_word_count method is breaking word2vec model", "user": {"login": "edilsonacjr", "id": 2707797, "node_id": "MDQ6VXNlcjI3MDc3OTc=", "avatar_url": "https://avatars.githubusercontent.com/u/2707797?v=4", "gravatar_id": "", "url": "https://api.github.com/users/edilsonacjr", "html_url": "https://github.com/edilsonacjr", "followers_url": "https://api.github.com/users/edilsonacjr/followers", "following_url": "https://api.github.com/users/edilsonacjr/following{/other_user}", "gists_url": "https://api.github.com/users/edilsonacjr/gists{/gist_id}", "starred_url": "https://api.github.com/users/edilsonacjr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/edilsonacjr/subscriptions", "organizations_url": "https://api.github.com/users/edilsonacjr/orgs", "repos_url": "https://api.github.com/users/edilsonacjr/repos", "events_url": "https://api.github.com/users/edilsonacjr/events{/privacy}", "received_events_url": "https://api.github.com/users/edilsonacjr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-01-24T13:33:12Z", "updated_at": "2017-01-27T08:00:50Z", "closed_at": "2017-01-27T08:00:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "The old code for the function _raw_word_count is breaking the word2vec model:\r\n\r\n>   File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/gensim/models/word2vec.py\", line 744, in <genexpr>\r\n>     return sum(len(sentence) for sentence in job)\r\n> TypeError: object of type 'map' has no len()\r\n\r\n\r\nThe solution was already implemented. Why is it not yet available?\r\n\r\nFrom (Issue #535 ): \r\ndef _raw_word_count(self, job):\r\n        \"\"\"Return the number of words in a given job.\"\"\"\r\n        return sum(len(sentence.words) for sentence in job)", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1106/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1106/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1096", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1096/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1096/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1096/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/1096", "id": 201492775, "node_id": "MDU6SXNzdWUyMDE0OTI3NzU=", "number": 1096, "title": "eta = 'auto' setting does not appear to work", "user": {"login": "huihuifan", "id": 3150717, "node_id": "MDQ6VXNlcjMxNTA3MTc=", "avatar_url": "https://avatars.githubusercontent.com/u/3150717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/huihuifan", "html_url": "https://github.com/huihuifan", "followers_url": "https://api.github.com/users/huihuifan/followers", "following_url": "https://api.github.com/users/huihuifan/following{/other_user}", "gists_url": "https://api.github.com/users/huihuifan/gists{/gist_id}", "starred_url": "https://api.github.com/users/huihuifan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/huihuifan/subscriptions", "organizations_url": "https://api.github.com/users/huihuifan/orgs", "repos_url": "https://api.github.com/users/huihuifan/repos", "events_url": "https://api.github.com/users/huihuifan/events{/privacy}", "received_events_url": "https://api.github.com/users/huihuifan/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-01-18T06:45:48Z", "updated_at": "2017-01-25T00:49:53Z", "closed_at": "2017-01-25T00:49:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "`Lda = gensim.models.LdaModel(corpus, id2word=dictionary, num_topics=20, alpha='auto', eta = 'auto')`\r\n\r\nproduces the error:\r\n\r\nTypeError: ufunc 'add' did not contain a loop with signature matching types dtype('S32') dtype('S32') dtype('S32')\r\n\r\n\r\nwhich does not appear to be related to the corpus or dictionary I generated. Leaving off the eta='auto' parameter runs fine. ", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1096/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1096/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1082", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1082/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1082/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1082/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/1082", "id": 199417282, "node_id": "MDU6SXNzdWUxOTk0MTcyODI=", "number": 1082, "title": "RandomState (Fix to issue #113) breaks backwards compatibility with old LDA models ", "user": {"login": "mattilyra", "id": 1055719, "node_id": "MDQ6VXNlcjEwNTU3MTk=", "avatar_url": "https://avatars.githubusercontent.com/u/1055719?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattilyra", "html_url": "https://github.com/mattilyra", "followers_url": "https://api.github.com/users/mattilyra/followers", "following_url": "https://api.github.com/users/mattilyra/following{/other_user}", "gists_url": "https://api.github.com/users/mattilyra/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattilyra/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattilyra/subscriptions", "organizations_url": "https://api.github.com/users/mattilyra/orgs", "repos_url": "https://api.github.com/users/mattilyra/repos", "events_url": "https://api.github.com/users/mattilyra/events{/privacy}", "received_events_url": "https://api.github.com/users/mattilyra/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 233081, "node_id": "MDU6TGFiZWwyMzMwODE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20easy", "name": "difficulty easy", "color": "00ff00", "default": false, "description": "Easy issue: required small fix"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 17, "created_at": "2017-01-08T11:42:33Z", "updated_at": "2017-10-03T17:35:13Z", "closed_at": "2017-05-26T05:46:09Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "LDA models saved before version 0.13.2 can not be used in version 0.13.2 and up because they do not contain `random_state` variable. This should be a pretty trivial fix in `load` functionality though.\r\n\r\nThe breaking PR is this one\r\nhttps://github.com/RaRe-Technologies/gensim/commit/2e0ed26c03bfa997c8748d03fafe313a05cd9741", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1082/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1082/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1069", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1069/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1069/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1069/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/1069", "id": 198467414, "node_id": "MDU6SXNzdWUxOTg0Njc0MTQ=", "number": 1069, "title": "Save and load methods generate KeyedVector warnings word2vec and doc2vec", "user": {"login": "tmylk", "id": 1261528, "node_id": "MDQ6VXNlcjEyNjE1Mjg=", "avatar_url": "https://avatars.githubusercontent.com/u/1261528?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tmylk", "html_url": "https://github.com/tmylk", "followers_url": "https://api.github.com/users/tmylk/followers", "following_url": "https://api.github.com/users/tmylk/following{/other_user}", "gists_url": "https://api.github.com/users/tmylk/gists{/gist_id}", "starred_url": "https://api.github.com/users/tmylk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tmylk/subscriptions", "organizations_url": "https://api.github.com/users/tmylk/orgs", "repos_url": "https://api.github.com/users/tmylk/repos", "events_url": "https://api.github.com/users/tmylk/events{/privacy}", "received_events_url": "https://api.github.com/users/tmylk/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2017-01-03T12:45:54Z", "updated_at": "2017-02-17T14:08:07Z", "closed_at": "2017-02-17T14:08:06Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Introduced in https://github.com/RaRe-Technologies/gensim/pull/980\r\nCC @anmol01gulati \r\n```\r\nmodel.save(temp_path)\r\nWARNING:gensim.models.word2vec:direct access to syn0norm will not be supported in future gensim releases, please use model.wv.syn0norm\r\nWARNING:gensim.models.word2vec:direct access to syn0norm will not be supported in future gensim releases, please use model.wv.syn0norm\r\nWARNING:gensim.models.word2vec:direct access to syn0norm will not be supported in future gensim releases, please use model.wv.syn0norm\r\nWARNING:gensim.models.word2vec:direct access to syn0norm will not be supported in future gensim releases, please use model.wv.syn0norm\r\n\r\nnew_model = gensim.models.Word2Vec.load(temp_path)  # open the model\r\nWARNING:gensim.models.word2vec:direct access to syn0norm will not be supported in future gensim releases, please use model.wv.syn0norm\r\nWARNING:gensim.models.word2vec:direct access to index2word will not be supported in future gensim releases, please use model.wv.index2word\r\n```", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1069/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1069/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1060", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1060/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1060/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1060/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/1060", "id": 197499431, "node_id": "MDU6SXNzdWUxOTc0OTk0MzE=", "number": 1060, "title": "OSX Python3.5 test failure loading pre-KeyedVectors", "user": {"login": "tmylk", "id": 1261528, "node_id": "MDQ6VXNlcjEyNjE1Mjg=", "avatar_url": "https://avatars.githubusercontent.com/u/1261528?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tmylk", "html_url": "https://github.com/tmylk", "followers_url": "https://api.github.com/users/tmylk/followers", "following_url": "https://api.github.com/users/tmylk/following{/other_user}", "gists_url": "https://api.github.com/users/tmylk/gists{/gist_id}", "starred_url": "https://api.github.com/users/tmylk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tmylk/subscriptions", "organizations_url": "https://api.github.com/users/tmylk/orgs", "repos_url": "https://api.github.com/users/tmylk/repos", "events_url": "https://api.github.com/users/tmylk/events{/privacy}", "received_events_url": "https://api.github.com/users/tmylk/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2016-12-25T12:37:35Z", "updated_at": "2017-01-05T14:51:23Z", "closed_at": "2017-01-05T14:51:23Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "See [build log](https://travis-ci.org/MacPython/gensim-wheels/jobs/186640404)\r\n\r\n```\r\n======================================================================\r\nERROR: Test loading pre-KeyedVectors word2vec model\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"/Users/travis/build/MacPython/gensim-wheels/venv/lib/python3.5/site-packages/gensim/test/test_word2vec.py\", line 203, in testLoadPreKeyedVectorModel\r\n    model = word2vec.Word2Vec.load(datapath(model_file))\r\n  File \"/Users/travis/build/MacPython/gensim-wheels/venv/lib/python3.5/site-packages/gensim/models/word2vec.py\", line 1439, in load\r\n    model = super(Word2Vec, cls).load(*args, **kwargs)\r\n  File \"/Users/travis/build/MacPython/gensim-wheels/venv/lib/python3.5/site-packages/gensim/utils.py\", line 251, in load\r\n    obj = unpickle(fname)\r\n  File \"/Users/travis/build/MacPython/gensim-wheels/venv/lib/python3.5/site-packages/gensim/utils.py\", line 916, in unpickle\r\n    return _pickle.load(f, encoding='latin1')\r\nImportError: No module named 'UserList'\r\n-------------------- >> begin captured logging << --------------------\r\ngensim.utils: INFO: loading Word2Vec object from /Users/travis/build/MacPython/gensim-wheels/venv/lib/python3.5/site-packages/gensim/test/test_data/word2vec_pre_kv_py3\r\n--------------------- >> end captured logging << ---------------------\r\n```", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1060/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1060/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1048", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1048/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1048/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1048/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/1048", "id": 196190644, "node_id": "MDU6SXNzdWUxOTYxOTA2NDQ=", "number": 1048, "title": "Wrapper for LDA form MALLET have a bug in convert format ", "user": {"login": "fann1993814", "id": 21119633, "node_id": "MDQ6VXNlcjIxMTE5NjMz", "avatar_url": "https://avatars.githubusercontent.com/u/21119633?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fann1993814", "html_url": "https://github.com/fann1993814", "followers_url": "https://api.github.com/users/fann1993814/followers", "following_url": "https://api.github.com/users/fann1993814/following{/other_user}", "gists_url": "https://api.github.com/users/fann1993814/gists{/gist_id}", "starred_url": "https://api.github.com/users/fann1993814/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fann1993814/subscriptions", "organizations_url": "https://api.github.com/users/fann1993814/orgs", "repos_url": "https://api.github.com/users/fann1993814/repos", "events_url": "https://api.github.com/users/fann1993814/events{/privacy}", "received_events_url": "https://api.github.com/users/fann1993814/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}], "state": "closed", "locked": false, "assignee": {"login": "tmylk", "id": 1261528, "node_id": "MDQ6VXNlcjEyNjE1Mjg=", "avatar_url": "https://avatars.githubusercontent.com/u/1261528?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tmylk", "html_url": "https://github.com/tmylk", "followers_url": "https://api.github.com/users/tmylk/followers", "following_url": "https://api.github.com/users/tmylk/following{/other_user}", "gists_url": "https://api.github.com/users/tmylk/gists{/gist_id}", "starred_url": "https://api.github.com/users/tmylk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tmylk/subscriptions", "organizations_url": "https://api.github.com/users/tmylk/orgs", "repos_url": "https://api.github.com/users/tmylk/repos", "events_url": "https://api.github.com/users/tmylk/events{/privacy}", "received_events_url": "https://api.github.com/users/tmylk/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tmylk", "id": 1261528, "node_id": "MDQ6VXNlcjEyNjE1Mjg=", "avatar_url": "https://avatars.githubusercontent.com/u/1261528?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tmylk", "html_url": "https://github.com/tmylk", "followers_url": "https://api.github.com/users/tmylk/followers", "following_url": "https://api.github.com/users/tmylk/following{/other_user}", "gists_url": "https://api.github.com/users/tmylk/gists{/gist_id}", "starred_url": "https://api.github.com/users/tmylk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tmylk/subscriptions", "organizations_url": "https://api.github.com/users/tmylk/orgs", "repos_url": "https://api.github.com/users/tmylk/repos", "events_url": "https://api.github.com/users/tmylk/events{/privacy}", "received_events_url": "https://api.github.com/users/tmylk/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2016-12-17T02:26:31Z", "updated_at": "2016-12-28T14:05:18Z", "closed_at": "2016-12-28T14:05:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "I cannot using the ldamallet to run LDA, so i check the code in gensim.\r\nI found the function \"convert_input\" in ldamallet.py.\r\nI think it will generate a proper format for mallet.\r\n\r\nIn line 147\r\ncmd = self.mallet_path + \" import-file --preserve-case --keep-sequence --remove-stopwords --token-regex '\\S+' --input %s --output %s\"\r\n\r\nthis code maybe result in wrong format.\r\nSo I found the problem happen from --token-regex '\\S+'\r\nIt cannot correct to token, so I change to this\r\n--token-regex \\\"\\S+\\\"\r\n\r\nIt just can run mallet normally.", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1048/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1048/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1046", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1046/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1046/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1046/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/1046", "id": 195575307, "node_id": "MDU6SXNzdWUxOTU1NzUzMDc=", "number": 1046, "title": "random slice of mm corpus broken on conda?", "user": {"login": "mattilyra", "id": 1055719, "node_id": "MDQ6VXNlcjEwNTU3MTk=", "avatar_url": "https://avatars.githubusercontent.com/u/1055719?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattilyra", "html_url": "https://github.com/mattilyra", "followers_url": "https://api.github.com/users/mattilyra/followers", "following_url": "https://api.github.com/users/mattilyra/following{/other_user}", "gists_url": "https://api.github.com/users/mattilyra/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattilyra/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattilyra/subscriptions", "organizations_url": "https://api.github.com/users/mattilyra/orgs", "repos_url": "https://api.github.com/users/mattilyra/repos", "events_url": "https://api.github.com/users/mattilyra/events{/privacy}", "received_events_url": "https://api.github.com/users/mattilyra/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-12-14T16:17:18Z", "updated_at": "2017-01-20T22:39:19Z", "closed_at": "2017-01-20T22:39:19Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I think there's an issue with the `conda` package of 13.3 - I can't take a random slice of an `mm` corpus\r\n\r\n    corpus = gensim.corpora.MmCorpus('./corpus.mm')\r\n    corpus[np.asarray([4, 10, 3, 16])]\r\n\r\nfails with an error\r\n\r\n> gensim/matutils.py in docbyoffset(self, offset)\r\n    677         previd, document = -1, []\r\n    678         for line in fin:\r\n--> 679             docid, termid, val = line.split()\r\n    680             if not self.transposed:\r\n    681                 termid, docid = docid, termid\r\nValueError: not enough values to unpack (expected 3, got 2)\r\n\r\nInstalling straight from github using `pip install` this problem goes away. Can anyone confirm this issue?\r\n\r\nUsing Ubuntu 16.04 and Python 3.5", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1046/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1046/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1045", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1045/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1045/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1045/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/1045", "id": 195239937, "node_id": "MDU6SXNzdWUxOTUyMzk5Mzc=", "number": 1045, "title": "PyPI misformatted", "user": {"login": "piskvorky", "id": 610412, "node_id": "MDQ6VXNlcjYxMDQxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/610412?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piskvorky", "html_url": "https://github.com/piskvorky", "followers_url": "https://api.github.com/users/piskvorky/followers", "following_url": "https://api.github.com/users/piskvorky/following{/other_user}", "gists_url": "https://api.github.com/users/piskvorky/gists{/gist_id}", "starred_url": "https://api.github.com/users/piskvorky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piskvorky/subscriptions", "organizations_url": "https://api.github.com/users/piskvorky/orgs", "repos_url": "https://api.github.com/users/piskvorky/repos", "events_url": "https://api.github.com/users/piskvorky/events{/privacy}", "received_events_url": "https://api.github.com/users/piskvorky/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}], "state": "closed", "locked": false, "assignee": {"login": "tmylk", "id": 1261528, "node_id": "MDQ6VXNlcjEyNjE1Mjg=", "avatar_url": "https://avatars.githubusercontent.com/u/1261528?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tmylk", "html_url": "https://github.com/tmylk", "followers_url": "https://api.github.com/users/tmylk/followers", "following_url": "https://api.github.com/users/tmylk/following{/other_user}", "gists_url": "https://api.github.com/users/tmylk/gists{/gist_id}", "starred_url": "https://api.github.com/users/tmylk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tmylk/subscriptions", "organizations_url": "https://api.github.com/users/tmylk/orgs", "repos_url": "https://api.github.com/users/tmylk/repos", "events_url": "https://api.github.com/users/tmylk/events{/privacy}", "received_events_url": "https://api.github.com/users/tmylk/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tmylk", "id": 1261528, "node_id": "MDQ6VXNlcjEyNjE1Mjg=", "avatar_url": "https://avatars.githubusercontent.com/u/1261528?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tmylk", "html_url": "https://github.com/tmylk", "followers_url": "https://api.github.com/users/tmylk/followers", "following_url": "https://api.github.com/users/tmylk/following{/other_user}", "gists_url": "https://api.github.com/users/tmylk/gists{/gist_id}", "starred_url": "https://api.github.com/users/tmylk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tmylk/subscriptions", "organizations_url": "https://api.github.com/users/tmylk/orgs", "repos_url": "https://api.github.com/users/tmylk/repos", "events_url": "https://api.github.com/users/tmylk/events{/privacy}", "received_events_url": "https://api.github.com/users/tmylk/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2016-12-13T12:25:06Z", "updated_at": "2017-01-20T01:41:08Z", "closed_at": "2017-01-18T00:04:00Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Changes in [this commit](https://github.com/RaRe-Technologies/gensim/commit/c746b7c2d13c422f5abb16d29b9cf671b6f753e6) messed up the way gensim displays at PyPI: https://pypi.python.org/pypi/gensim\r\n\r\nPyPI expects README in .rst format, not .md.\r\n\r\nWhy did that change happen? Please revert.", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1045/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1045/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1044", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1044/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1044/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1044/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/1044", "id": 195172903, "node_id": "MDU6SXNzdWUxOTUxNzI5MDM=", "number": 1044, "title": "Unable to load .bin file", "user": {"login": "amr1tv1rd1", "id": 8511305, "node_id": "MDQ6VXNlcjg1MTEzMDU=", "avatar_url": "https://avatars.githubusercontent.com/u/8511305?v=4", "gravatar_id": "", "url": "https://api.github.com/users/amr1tv1rd1", "html_url": "https://github.com/amr1tv1rd1", "followers_url": "https://api.github.com/users/amr1tv1rd1/followers", "following_url": "https://api.github.com/users/amr1tv1rd1/following{/other_user}", "gists_url": "https://api.github.com/users/amr1tv1rd1/gists{/gist_id}", "starred_url": "https://api.github.com/users/amr1tv1rd1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/amr1tv1rd1/subscriptions", "organizations_url": "https://api.github.com/users/amr1tv1rd1/orgs", "repos_url": "https://api.github.com/users/amr1tv1rd1/repos", "events_url": "https://api.github.com/users/amr1tv1rd1/events{/privacy}", "received_events_url": "https://api.github.com/users/amr1tv1rd1/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-12-13T06:29:16Z", "updated_at": "2017-01-20T22:49:18Z", "closed_at": "2017-01-20T22:49:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "I get this error whenever trying to load .bin file in word2vec model\r\n\r\n` File \"/usr/local/lib/python2.7/dist-packages/gensim/models/word2vec.py\", line 1211, in load_word2vec_format\r\n    weights = fromstring(fin.read(binary_len), dtype=REAL)\r\nValueError: string size must be a multiple of element size\r\n`\r\nKindly guide me what would be the possible cause of this", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1044/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1044/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1034", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1034/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1034/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1034/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/1034", "id": 193195986, "node_id": "MDU6SXNzdWUxOTMxOTU5ODY=", "number": 1034, "title": "Cannot make ldaseqmodel.py as part of CI", "user": {"login": "markroxor", "id": 11366315, "node_id": "MDQ6VXNlcjExMzY2MzE1", "avatar_url": "https://avatars.githubusercontent.com/u/11366315?v=4", "gravatar_id": "", "url": "https://api.github.com/users/markroxor", "html_url": "https://github.com/markroxor", "followers_url": "https://api.github.com/users/markroxor/followers", "following_url": "https://api.github.com/users/markroxor/following{/other_user}", "gists_url": "https://api.github.com/users/markroxor/gists{/gist_id}", "starred_url": "https://api.github.com/users/markroxor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/markroxor/subscriptions", "organizations_url": "https://api.github.com/users/markroxor/orgs", "repos_url": "https://api.github.com/users/markroxor/repos", "events_url": "https://api.github.com/users/markroxor/events{/privacy}", "received_events_url": "https://api.github.com/users/markroxor/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 175643, "node_id": "MDU6TGFiZWwxNzU2NDM=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/documentation", "name": "documentation", "color": "02d7e1", "default": true, "description": "Current issue related to documentation"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2016-12-02T19:20:49Z", "updated_at": "2017-10-02T11:31:50Z", "closed_at": "2017-10-02T11:31:50Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "In PR https://github.com/RaRe-Technologies/gensim/pull/982 the example notebook `ldaseqmodel.ipynb` was converted to a python file `ldaseqmodel.py` so that it can be made part of Travis continuous integration using sphinx-gallery and be checked for any errors/inconsistencies but as can be seen in line 1613 of the [travis output.](https://travis-ci.org/markroxor/gensim/jobs/179994004#L1613) The ldaseqmodel.py is taking over 45 minutes to execute which is more than the time Travis allocates for each build and thereby raising the error `The job exceeded the maximum time limit for jobs, and has been terminated.`\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1034/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1034/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1031", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1031/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1031/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1031/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/1031", "id": 193047772, "node_id": "MDU6SXNzdWUxOTMwNDc3NzI=", "number": 1031, "title": "Remove update argument from  scan_vocab() in Word2Vec as it is not used", "user": {"login": "CasiaFan", "id": 10608984, "node_id": "MDQ6VXNlcjEwNjA4OTg0", "avatar_url": "https://avatars.githubusercontent.com/u/10608984?v=4", "gravatar_id": "", "url": "https://api.github.com/users/CasiaFan", "html_url": "https://github.com/CasiaFan", "followers_url": "https://api.github.com/users/CasiaFan/followers", "following_url": "https://api.github.com/users/CasiaFan/following{/other_user}", "gists_url": "https://api.github.com/users/CasiaFan/gists{/gist_id}", "starred_url": "https://api.github.com/users/CasiaFan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/CasiaFan/subscriptions", "organizations_url": "https://api.github.com/users/CasiaFan/orgs", "repos_url": "https://api.github.com/users/CasiaFan/repos", "events_url": "https://api.github.com/users/CasiaFan/events{/privacy}", "received_events_url": "https://api.github.com/users/CasiaFan/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 233081, "node_id": "MDU6TGFiZWwyMzMwODE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20easy", "name": "difficulty easy", "color": "00ff00", "default": false, "description": "Easy issue: required small fix"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-12-02T06:58:38Z", "updated_at": "2016-12-19T18:32:57Z", "closed_at": "2016-12-19T18:32:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "I find the argument update  is accepted as an input of scan_vocab() function (word2vec.py, line 528), but it doesn't appear inside the function body. So it seems this argument doesn't make any sense for scan_vocab(). Is it a bug or argument update will be discarded?", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1031/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1031/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1022", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1022/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1022/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1022/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/1022", "id": 189687733, "node_id": "MDU6SXNzdWUxODk2ODc3MzM=", "number": 1022, "title": "model.wmdistance doesn't work after read model", "user": {"login": "slavadubrov", "id": 2249609, "node_id": "MDQ6VXNlcjIyNDk2MDk=", "avatar_url": "https://avatars.githubusercontent.com/u/2249609?v=4", "gravatar_id": "", "url": "https://api.github.com/users/slavadubrov", "html_url": "https://github.com/slavadubrov", "followers_url": "https://api.github.com/users/slavadubrov/followers", "following_url": "https://api.github.com/users/slavadubrov/following{/other_user}", "gists_url": "https://api.github.com/users/slavadubrov/gists{/gist_id}", "starred_url": "https://api.github.com/users/slavadubrov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/slavadubrov/subscriptions", "organizations_url": "https://api.github.com/users/slavadubrov/orgs", "repos_url": "https://api.github.com/users/slavadubrov/repos", "events_url": "https://api.github.com/users/slavadubrov/events{/privacy}", "received_events_url": "https://api.github.com/users/slavadubrov/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2016-11-16T12:22:29Z", "updated_at": "2017-03-19T01:16:49Z", "closed_at": "2017-03-19T01:16:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "### System ubuntu 16.04 LTS\r\n### Python 3.5 from Conda\r\n\r\n### I have some articles. I downloaded this text and preprocessed with next code:\r\n\r\n#### Import libraries\r\n\r\n```python\r\nimport pandas as pd\r\nimport numpy as np\r\nimport gensim\r\nimport nltk\r\n\r\nimport matplotlib.pyplot as plt\r\n%matplotlib inline\r\n```\r\n\r\n#### Read and preprocess text\r\n\r\n\r\n```python\r\ndf = pd.read_csv(\"/path/to/initial/text/file.csv\", sep=\"\\t\", error_bad_lines=False)\r\ndf = df.dropna()\r\n\r\n# Import various modules for string cleaning\r\nfrom bs4 import BeautifulSoup\r\nimport re\r\nfrom nltk.corpus import stopwords\r\n\r\ndef review_to_wordlist( review, remove_stopwords=False ):\r\n    # Function to convert a document to a sequence of words,\r\n    # optionally removing stop words.  Returns a list of words.\r\n    #\r\n    # 1. Remove HTML\r\n    review_text = BeautifulSoup(review).get_text()\r\n    #  \r\n    # 2. Remove non-letters\r\n    review_text = re.sub(\"[^a-zA-Z]\",\" \", review_text)\r\n    #\r\n    # 3. Convert words to lower case and split them\r\n    words = review_text.lower().split()\r\n    #\r\n    # 4. Optionally remove stop words (false by default)\r\n    if remove_stopwords:\r\n        stops = set(stopwords.words(\"english\"))\r\n        words = [w for w in words if not w in stops]\r\n    #\r\n    # 5. Return a list of words\r\n    return(words)\r\n\r\n# Download the punkt tokenizer for sentence splitting\r\nimport nltk.data\r\nnltk.download()   \r\n\r\n# Load the punkt tokenizer\r\ntokenizer = nltk.data.load('tokenizers/punkt/english.pickle')\r\n\r\n# Define a function to split a review into parsed sentences\r\ndef review_to_sentences( review, tokenizer, remove_stopwords=False ):\r\n    # Function to split a review into parsed sentences. Returns a \r\n    # list of sentences, where each sentence is a list of words\r\n    #\r\n    # 1. Use the NLTK tokenizer to split the paragraph into sentences\r\n    raw_sentences = tokenizer.tokenize(review.strip())\r\n    #\r\n    # 2. Loop over each sentence\r\n    sentences = []\r\n    for raw_sentence in raw_sentences:\r\n        # If a sentence is empty, skip it\r\n        if len(raw_sentence) > 0:\r\n            # Otherwise, call review_to_wordlist to get a list of words\r\n            sentences.append( review_to_wordlist( raw_sentence, \\\r\n              remove_stopwords ))\r\n    #\r\n    # Return the list of sentences (each sentence is a list of words,\r\n    # so this returns a list of lists\r\n    return sentences\r\n\r\nsentences = []  # Initialize an empty list of sentences\r\n\r\nprint(\"Parsing sentences from training set\")\r\nfor abstract in df[\"abstract\"]:\r\n    sentences += review_to_sentences(abstract, tokenizer, True)\r\n    \r\nds_sentences = pd.Series(sentences, name='sentences')\r\n\r\nds_sentences.to_csv(\"/path/to/preprocessed/text/file.csv\", index=False)\r\n```\r\n### After text preprocessing I trained word2vec model\r\n\r\n```python\r\n%%time\r\n# Import the built-in logging module and configure it so that Word2Vec \r\n# creates nice output messages\r\nimport logging\r\nlogging.basicConfig(format='%(asctime)s : %(levelname)s : %(message)s',\\\r\n    level=logging.INFO)\r\n\r\n# Set values for various parameters\r\nnum_features = 300    # Word vector dimensionality                      \r\nmin_word_count = 40   # Minimum word count                        \r\nnum_workers = 4       # Number of threads to run in parallel\r\ncontext = 10          # Context window size                                                                                    \r\ndownsampling = 1e-3   # Downsample setting for frequent words\r\n\r\n# Initialize and train the model (this will take some time)\r\nfrom gensim.models import word2vec\r\nprint(\"Training model...\")\r\nmodel = word2vec.Word2Vec(ds_sentences, workers=num_workers, \\\r\n            size=num_features, min_count = min_word_count, \\\r\n            window = context, sample = downsampling)\r\n\r\n# If you don't plan to train the model any further, calling \r\n# init_sims will make the model much more memory-efficient.\r\nmodel.init_sims(replace=True)\r\n\r\n# It can be helpful to create a meaningful model name and \r\n# save the model for later use. You can load it later using Word2Vec.load()\r\nmodel_name = \"300features_40minwords_10context\"\r\nmodel.save(\"/path/to/model/\" + model_name)\r\n```\r\n    CPU times: user 25min 38s, sys: 4.43 s, total: 25min 43s\r\n    Wall time: 7min 56s\r\n\r\n### And after training I can measure most similar words to some words\r\n\r\n```python\r\nmodel.most_similar(positive=[\"android\"])\r\n```\r\n\r\n    [('iphone', 0.6860567927360535),\r\n     ('app', 0.683183491230011),\r\n     ('ios', 0.6697854995727539),\r\n     ('symbian', 0.6537686586380005),\r\n     ('apps', 0.6434202194213867),\r\n     ('smartphone', 0.6431980133056641),\r\n     ('blackberry', 0.6421018838882446),\r\n     ('tizen', 0.6371567249298096),\r\n     ('xamarin', 0.6090145111083984),\r\n     ('phonegap', 0.6083793640136719)]\r\n\r\n### And also find wmdistance\r\n\r\n```python\r\nmodel.wmdistance(ds_sentences.iloc[10], ds_sentences.iloc[110])\r\n```\r\n    1.2963280259150474\r\n\r\n\r\n\r\n### BUT! after I close current notebook, open new and start use saved model there, I found a problem.\r\n\r\n### I downloaded the saved w2v model\r\n\r\n```python\r\nmodel_name = \"300features_40minwords_10context_initsims\"\r\nmodel = gensim.models.Word2Vec.load(\"/path/to/model/\" + model_name)\r\n```\r\n### I downloaded preprocessed text\r\n\r\n```python\r\nds_sentences = pd.read_csv(\"/path/to/preprocessed/text/file.csv\", header=None, names=[\"sentences\"])\r\nds_sentences.shape\r\n```\r\n    (5279750, 1)\r\n\r\n### with it I can even find most_similar -> all work good\r\n\r\n```python\r\nmodel.most_similar(positive=[\"android\"])\r\n```\r\n\r\n    [('iphone', 0.6860567927360535),\r\n     ('app', 0.683183491230011),\r\n     ('ios', 0.6697854995727539),\r\n     ('symbian', 0.6537686586380005),\r\n     ('apps', 0.6434202194213867),\r\n     ('smartphone', 0.6431980133056641),\r\n     ('blackberry', 0.6421018838882446),\r\n     ('tizen', 0.6371567249298096),\r\n     ('xamarin', 0.6090145111083984),\r\n     ('phonegap', 0.6083793640136719)]\r\n\r\n\r\n### But wmdistance doesn't work\r\n\r\n```python\r\nmodel.wmdistance(ds_sentences.iloc[10], ds_sentences.iloc[110])\r\n```\r\n\r\n    inf\r\n\r\n### I found out that wmdistance could work if I download initial text dataset and repeat all preprocess operations without train the model. But it's very long. And I can't understand how text preprocessing involve to the w2v model.\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1022/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1022/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1006", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1006/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1006/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1006/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/1006", "id": 188725678, "node_id": "MDU6SXNzdWUxODg3MjU2Nzg=", "number": 1006, "title": "Optimise LdaModel.show_topics performance to only call get_lambda once", "user": {"login": "nicolaslecrique", "id": 6695280, "node_id": "MDQ6VXNlcjY2OTUyODA=", "avatar_url": "https://avatars.githubusercontent.com/u/6695280?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nicolaslecrique", "html_url": "https://github.com/nicolaslecrique", "followers_url": "https://api.github.com/users/nicolaslecrique/followers", "following_url": "https://api.github.com/users/nicolaslecrique/following{/other_user}", "gists_url": "https://api.github.com/users/nicolaslecrique/gists{/gist_id}", "starred_url": "https://api.github.com/users/nicolaslecrique/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nicolaslecrique/subscriptions", "organizations_url": "https://api.github.com/users/nicolaslecrique/orgs", "repos_url": "https://api.github.com/users/nicolaslecrique/repos", "events_url": "https://api.github.com/users/nicolaslecrique/events{/privacy}", "received_events_url": "https://api.github.com/users/nicolaslecrique/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 233081, "node_id": "MDU6TGFiZWwyMzMwODE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20easy", "name": "difficulty easy", "color": "00ff00", "default": false, "description": "Easy issue: required small fix"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2016-11-11T10:04:52Z", "updated_at": "2017-02-11T09:52:54Z", "closed_at": "2016-11-27T15:13:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "This function calls show_topic for each topic, which calls get_topic_terms which calls self.state.get_lambda().\r\n\r\nself.state.get_lambda() call is very expensive, it is not dependent on a topic and can be called once for all.\r\nOn my setup (500 topics, 100k words, learned with 500k documents), calling show_topics takes 30sec, with 28sec inside the 500 get_lambda() calls", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1006/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/1006/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/993", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/993/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/993/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/993/events", "html_url": "https://github.com/RaRe-Technologies/gensim/pull/993", "id": 187512392, "node_id": "MDExOlB1bGxSZXF1ZXN0OTI0NjEzMzI=", "number": 993, "title": "The end index in list slicing is exclusive", "user": {"login": "Renata1995", "id": 12204588, "node_id": "MDQ6VXNlcjEyMjA0NTg4", "avatar_url": "https://avatars.githubusercontent.com/u/12204588?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Renata1995", "html_url": "https://github.com/Renata1995", "followers_url": "https://api.github.com/users/Renata1995/followers", "following_url": "https://api.github.com/users/Renata1995/following{/other_user}", "gists_url": "https://api.github.com/users/Renata1995/gists{/gist_id}", "starred_url": "https://api.github.com/users/Renata1995/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Renata1995/subscriptions", "organizations_url": "https://api.github.com/users/Renata1995/orgs", "repos_url": "https://api.github.com/users/Renata1995/repos", "events_url": "https://api.github.com/users/Renata1995/events{/privacy}", "received_events_url": "https://api.github.com/users/Renata1995/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 233081, "node_id": "MDU6TGFiZWwyMzMwODE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20easy", "name": "difficulty easy", "color": "00ff00", "default": false, "description": "Easy issue: required small fix"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2016-11-05T17:54:00Z", "updated_at": "2017-01-31T19:23:30Z", "closed_at": "2017-01-31T19:23:30Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/pulls/993", "html_url": "https://github.com/RaRe-Technologies/gensim/pull/993", "diff_url": "https://github.com/RaRe-Technologies/gensim/pull/993.diff", "patch_url": "https://github.com/RaRe-Technologies/gensim/pull/993.patch", "merged_at": "2017-01-31T19:23:30Z"}, "body": "", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/993/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/993/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/958", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/958/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/958/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/958/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/958", "id": 183518826, "node_id": "MDU6SXNzdWUxODM1MTg4MjY=", "number": 958, "title": "Error executing gensim_news_classification.ipynb ", "user": {"login": "mon95", "id": 5566004, "node_id": "MDQ6VXNlcjU1NjYwMDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/5566004?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mon95", "html_url": "https://github.com/mon95", "followers_url": "https://api.github.com/users/mon95/followers", "following_url": "https://api.github.com/users/mon95/following{/other_user}", "gists_url": "https://api.github.com/users/mon95/gists{/gist_id}", "starred_url": "https://api.github.com/users/mon95/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mon95/subscriptions", "organizations_url": "https://api.github.com/users/mon95/orgs", "repos_url": "https://api.github.com/users/mon95/repos", "events_url": "https://api.github.com/users/mon95/events{/privacy}", "received_events_url": "https://api.github.com/users/mon95/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 175643, "node_id": "MDU6TGFiZWwxNzU2NDM=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/documentation", "name": "documentation", "color": "02d7e1", "default": true, "description": "Current issue related to documentation"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 13, "created_at": "2016-10-17T20:28:34Z", "updated_at": "2016-11-08T08:48:36Z", "closed_at": "2016-10-28T14:52:25Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "gensim_news_classification.ipynb throws the following error while running the following cell under \"Topic Modelling using LDA\"\n`pyLDAvis.gensim.prepare(ldamodel, corpus, dictionary)`\n\n`TypeError: cannot sort an Index object in-place, use sort_values instead`\n\n```\n---------------------------------------------------------------------------\nTypeError                                 Traceback (most recent call last)\n<ipython-input-26-eb5f7004bc08> in <module>()\n----> 1 pyLDAvis.gensim.prepare(ldamodel, corpus, dictionary)\n\n/home/ssreehari10/anaconda2/envs/gensim1/lib/python2.7/site-packages/pyLDAvis/gensim.pyc in prepare(topic_model, corpus, dictionary, doc_topic_dist, **kwargs)\n    108     \"\"\"\n    109     opts = fp.merge(_extract_data(topic_model, corpus, dictionary, doc_topic_dist), kwargs)\n--> 110     return vis_prepare(**opts)\n\n/home/ssreehari10/anaconda2/envs/gensim1/lib/python2.7/site-packages/pyLDAvis/_prepare.pyc in prepare(topic_term_dists, doc_topic_dists, doc_lengths, vocab, term_frequency, R, lambda_step, mds, n_jobs, plot_opts, sort_topics)\n    396 \n    397    topic_info         = _topic_info(topic_term_dists, topic_proportion, term_frequency, term_topic_freq, vocab, lambda_step, R, n_jobs)\n--> 398    token_table        = _token_table(topic_info, term_topic_freq, vocab, term_frequency)\n    399    topic_coordinates = _topic_coordinates(mds, topic_term_dists, topic_proportion)\n    400    client_topic_order = [x + 1 for x in topic_order]\n\n/home/ssreehari10/anaconda2/envs/gensim1/lib/python2.7/site-packages/pyLDAvis/_prepare.pyc in _token_table(topic_info, term_topic_freq, vocab, term_frequency)\n    265    # term-topic frequency table of unique terms across all topics and all values of lambda\n    266    term_ix = topic_info.index.unique()\n--> 267    term_ix.sort()\n    268    top_topic_terms_freq = term_topic_freq[term_ix]\n    269    # use the new ordering for the topics\n\n/home/ssreehari10/anaconda2/envs/gensim1/lib/python2.7/site-packages/pandas/indexes/base.pyc in sort(self, *args, **kwargs)\n   1701 \n   1702     def sort(self, *args, **kwargs):\n-> 1703         raise TypeError(\"cannot sort an Index object in-place, use \"\n   1704                         \"sort_values instead\")\n   1705 \n\nTypeError: cannot sort an Index object in-place, use sort_values instead\n```\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/958/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/958/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/955", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/955/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/955/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/955/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/955", "id": 183269427, "node_id": "MDU6SXNzdWUxODMyNjk0Mjc=", "number": 955, "title": "Directory names on Windows 10 failing. ( '/tmp' )", "user": {"login": "Shabukc", "id": 3529477, "node_id": "MDQ6VXNlcjM1Mjk0Nzc=", "avatar_url": "https://avatars.githubusercontent.com/u/3529477?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Shabukc", "html_url": "https://github.com/Shabukc", "followers_url": "https://api.github.com/users/Shabukc/followers", "following_url": "https://api.github.com/users/Shabukc/following{/other_user}", "gists_url": "https://api.github.com/users/Shabukc/gists{/gist_id}", "starred_url": "https://api.github.com/users/Shabukc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Shabukc/subscriptions", "organizations_url": "https://api.github.com/users/Shabukc/orgs", "repos_url": "https://api.github.com/users/Shabukc/repos", "events_url": "https://api.github.com/users/Shabukc/events{/privacy}", "received_events_url": "https://api.github.com/users/Shabukc/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 233081, "node_id": "MDU6TGFiZWwyMzMwODE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20easy", "name": "difficulty easy", "color": "00ff00", "default": false, "description": "Easy issue: required small fix"}], "state": "closed", "locked": false, "assignee": {"login": "tmylk", "id": 1261528, "node_id": "MDQ6VXNlcjEyNjE1Mjg=", "avatar_url": "https://avatars.githubusercontent.com/u/1261528?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tmylk", "html_url": "https://github.com/tmylk", "followers_url": "https://api.github.com/users/tmylk/followers", "following_url": "https://api.github.com/users/tmylk/following{/other_user}", "gists_url": "https://api.github.com/users/tmylk/gists{/gist_id}", "starred_url": "https://api.github.com/users/tmylk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tmylk/subscriptions", "organizations_url": "https://api.github.com/users/tmylk/orgs", "repos_url": "https://api.github.com/users/tmylk/repos", "events_url": "https://api.github.com/users/tmylk/events{/privacy}", "received_events_url": "https://api.github.com/users/tmylk/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tmylk", "id": 1261528, "node_id": "MDQ6VXNlcjEyNjE1Mjg=", "avatar_url": "https://avatars.githubusercontent.com/u/1261528?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tmylk", "html_url": "https://github.com/tmylk", "followers_url": "https://api.github.com/users/tmylk/followers", "following_url": "https://api.github.com/users/tmylk/following{/other_user}", "gists_url": "https://api.github.com/users/tmylk/gists{/gist_id}", "starred_url": "https://api.github.com/users/tmylk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tmylk/subscriptions", "organizations_url": "https://api.github.com/users/tmylk/orgs", "repos_url": "https://api.github.com/users/tmylk/repos", "events_url": "https://api.github.com/users/tmylk/events{/privacy}", "received_events_url": "https://api.github.com/users/tmylk/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2016-10-16T14:18:32Z", "updated_at": "2016-12-05T07:55:18Z", "closed_at": "2016-12-05T07:55:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "I was trying to run \"gensim/docs/notebooks/word2vec.ipynb\" on windows 10 with Anaconda-Jupyter.\n\n![image](https://cloud.githubusercontent.com/assets/3529477/19418022/16923aea-93d9-11e6-9bbf-78ce3a03f815.png)\n\nCan we have a better way of handling folder/path  (especially temporary ) independent of Operating System ?\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/955/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/955/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/940", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/940/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/940/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/940/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/940", "id": 182497248, "node_id": "MDU6SXNzdWUxODI0OTcyNDg=", "number": 940, "title": "LDA Multicore Windows Error ", "user": {"login": "hiral2cool", "id": 4542790, "node_id": "MDQ6VXNlcjQ1NDI3OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/4542790?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hiral2cool", "html_url": "https://github.com/hiral2cool", "followers_url": "https://api.github.com/users/hiral2cool/followers", "following_url": "https://api.github.com/users/hiral2cool/following{/other_user}", "gists_url": "https://api.github.com/users/hiral2cool/gists{/gist_id}", "starred_url": "https://api.github.com/users/hiral2cool/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hiral2cool/subscriptions", "organizations_url": "https://api.github.com/users/hiral2cool/orgs", "repos_url": "https://api.github.com/users/hiral2cool/repos", "events_url": "https://api.github.com/users/hiral2cool/events{/privacy}", "received_events_url": "https://api.github.com/users/hiral2cool/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 233081, "node_id": "MDU6TGFiZWwyMzMwODE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20easy", "name": "difficulty easy", "color": "00ff00", "default": false, "description": "Easy issue: required small fix"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 13, "created_at": "2016-10-12T11:04:21Z", "updated_at": "2016-10-20T10:39:47Z", "closed_at": "2016-10-20T10:39:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "os : windows 10\nversion : Python 2.7.10 \nall latest numpy,scipy everything upgraded \n## when i start ldamulticore error is like this \n## PYTHON \n\nlda = gensim.models.LdaMulticore(corpus=corpus, id2word=id2word, num_topics=10)\n## ERROR\n\nFile \"C:\\Python27\\lib\\multiprocessing\\forking.py\", line 361, in get_command_line\n    is not going to be frozen to produce a Windows executable.''')\nRuntimeError:\n            Attempt to start a new process before the current process\n            has finished its bootstrapping phase.\n\n```\n        This probably means that you are on Windows and you have\n        forgotten to use the proper idiom in the main module:\n\n            if __name__ == '__main__':\n                freeze_support()\n                ...\n\n        The \"freeze_support()\" line can be omitted if the program\n        is not going to be frozen to produce a Windows executable.\n```\n\nworking perfect on Ubuntu but problem in windows version\nany help will be useful \n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/940/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/940/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/911", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/911/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/911/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/911/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/911", "id": 180558796, "node_id": "MDU6SXNzdWUxODA1NTg3OTY=", "number": 911, "title": "Distributed LDA \"ValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()\"", "user": {"login": "tmylk", "id": 1261528, "node_id": "MDQ6VXNlcjEyNjE1Mjg=", "avatar_url": "https://avatars.githubusercontent.com/u/1261528?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tmylk", "html_url": "https://github.com/tmylk", "followers_url": "https://api.github.com/users/tmylk/followers", "following_url": "https://api.github.com/users/tmylk/following{/other_user}", "gists_url": "https://api.github.com/users/tmylk/gists{/gist_id}", "starred_url": "https://api.github.com/users/tmylk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tmylk/subscriptions", "organizations_url": "https://api.github.com/users/tmylk/orgs", "repos_url": "https://api.github.com/users/tmylk/repos", "events_url": "https://api.github.com/users/tmylk/events{/privacy}", "received_events_url": "https://api.github.com/users/tmylk/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 234670, "node_id": "MDU6TGFiZWwyMzQ2NzA=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20medium", "name": "difficulty medium", "color": "00d000", "default": false, "description": "Medium issue: required good gensim understanding & python skills"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 15, "created_at": "2016-10-03T03:53:10Z", "updated_at": "2017-03-08T23:20:47Z", "closed_at": "2017-03-08T23:20:47Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Raised on the [mailing list](https://groups.google.com/d/msg/gensim/kMmLlD9lKGQ/Jur6yWkYIAAJ)\n\n```\nIn [16]: model = models.LdaModel(corpus, id2word=dictionary, num_topics=2, distributed=True)\n2016-10-03 09:21:04,056 : INFO : using symmetric alpha at 0.5\n2016-10-03 09:21:04,056 : INFO : using symmetric eta at 0.5\n2016-10-03 09:21:04,057 : DEBUG : looking for dispatcher at PYRO:gensim.lda_dispatcher@127.0.0.1:41212\n2016-10-03 09:21:04,089 : INFO : using distributed version with 3 workers\n2016-10-03 09:21:04,090 : INFO : running online LDA training, 2 topics, 1 passes over the supplied corpus of 9 documents, updating model once every 9 documents, evaluating perplexity every 9 documents, iterating 50x with a convergence threshold of 0.001000\n2016-10-03 09:21:04,090 : WARNING : too few updates, training might not converge; consider increasing the number of passes or iterations to improve accuracy\n2016-10-03 09:21:04,090 : INFO : initializing 3 workers\n2016-10-03 09:21:04,097 : DEBUG : bound: at document #0\n---------------------------------------------------------------------------\nValueError                                Traceback (most recent call last)\n<ipython-input-16-46e2552e21a7> in <module>()\n----> 1 model = models.LdaModel(corpus, id2word=dictionary, num_topics=2, distributed=True)\n\n/home/lev/Dropbox/raretech/os/release/gensim/gensim/models/ldamodel.py in __init__(self, corpus, num_topics, id2word, distributed, chunksize, passes, update_every, alpha, eta, decay, offset, eval_every, iterations, gamma_threshold, minimum_probability, random_state, ns_conf)\n    344         if corpus is not None:\n    345             use_numpy = self.dispatcher is not None\n--> 346             self.update(corpus, chunks_as_numpy=use_numpy)\n    347 \n    348     def init_dir_prior(self, prior, name):\n\n/home/lev/Dropbox/raretech/os/release/gensim/gensim/models/ldamodel.py in update(self, corpus, chunksize, decay, offset, passes, update_every, eval_every, iterations, gamma_threshold, chunks_as_numpy)\n    648 \n    649                 if eval_every and ((reallen == lencorpus) or ((chunk_no + 1) % (eval_every * self.numworkers) == 0)):\n--> 650                     self.log_perplexity(chunk, total_docs=lencorpus)\n    651 \n    652                 if self.dispatcher:\n\n/home/lev/Dropbox/raretech/os/release/gensim/gensim/models/ldamodel.py in log_perplexity(self, chunk, total_docs)\n    539         corpus_words = sum(cnt for document in chunk for _, cnt in document)\n    540         subsample_ratio = 1.0 * total_docs / len(chunk)\n--> 541         perwordbound = self.bound(chunk, subsample_ratio=subsample_ratio) / (subsample_ratio * corpus_words)\n    542         logger.info(\"%.3f per-word bound, %.1f perplexity estimate based on a held-out corpus of %i documents with %i words\" %\n    543                     (perwordbound, numpy.exp2(-perwordbound), len(chunk), corpus_words))\n\n/home/lev/Dropbox/raretech/os/release/gensim/gensim/models/ldamodel.py in bound(self, corpus, gamma, subsample_ratio)\n    740                 logger.debug(\"bound: at document #%i\", d)\n    741             if gamma is None:\n--> 742                 gammad, _ = self.inference([doc])\n    743             else:\n    744                 gammad = gamma[d]\n\n/home/lev/Dropbox/raretech/os/release/gensim/gensim/models/ldamodel.py in inference(self, chunk, collect_sstats)\n    438         # to Blei's original LDA-C code, cool!).\n    439         for d, doc in enumerate(chunk):\n--> 440             if doc and not isinstance(doc[0][0], six.integer_types):\n    441                 # make sure the term IDs are ints, otherwise numpy will get upset\n    442                 ids = [int(id) for id, _ in doc]\n\nValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()\n\n```\n\nA potential fix suggested on the mailing list:\n\n```\nWhat I was able to find out so far is that in LDA_dispatcher.py by printing the value for distributed in **modelparams equals False, although I passed True as the argument. \n\nSetting distributed as True manually in the dispatcher code makes the errormessage go away, but then I face other problems. Only one worker actually starts... can't tell what I am doing wrong.\n\n\n```\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/911/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/911/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/910", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/910/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/910/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/910/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/910", "id": 180509065, "node_id": "MDU6SXNzdWUxODA1MDkwNjU=", "number": 910, "title": "Remove \"No handlers could be found for logger \"gensim.models.word2vec\" message during import", "user": {"login": "tmylk", "id": 1261528, "node_id": "MDQ6VXNlcjEyNjE1Mjg=", "avatar_url": "https://avatars.githubusercontent.com/u/1261528?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tmylk", "html_url": "https://github.com/tmylk", "followers_url": "https://api.github.com/users/tmylk/followers", "following_url": "https://api.github.com/users/tmylk/following{/other_user}", "gists_url": "https://api.github.com/users/tmylk/gists{/gist_id}", "starred_url": "https://api.github.com/users/tmylk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tmylk/subscriptions", "organizations_url": "https://api.github.com/users/tmylk/orgs", "repos_url": "https://api.github.com/users/tmylk/repos", "events_url": "https://api.github.com/users/tmylk/events{/privacy}", "received_events_url": "https://api.github.com/users/tmylk/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 233081, "node_id": "MDU6TGFiZWwyMzMwODE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20easy", "name": "difficulty easy", "color": "00ff00", "default": false, "description": "Easy issue: required small fix"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2016-10-02T12:02:51Z", "updated_at": "2017-06-18T08:00:30Z", "closed_at": "2016-10-16T08:55:11Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Instead print the actual message that word2vec is trying to print\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/910/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/910/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/908", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/908/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/908/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/908/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/908", "id": 180499008, "node_id": "MDU6SXNzdWUxODA0OTkwMDg=", "number": 908, "title": "per_word_topics for a corpus", "user": {"login": "tmylk", "id": 1261528, "node_id": "MDQ6VXNlcjEyNjE1Mjg=", "avatar_url": "https://avatars.githubusercontent.com/u/1261528?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tmylk", "html_url": "https://github.com/tmylk", "followers_url": "https://api.github.com/users/tmylk/followers", "following_url": "https://api.github.com/users/tmylk/following{/other_user}", "gists_url": "https://api.github.com/users/tmylk/gists{/gist_id}", "starred_url": "https://api.github.com/users/tmylk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tmylk/subscriptions", "organizations_url": "https://api.github.com/users/tmylk/orgs", "repos_url": "https://api.github.com/users/tmylk/repos", "events_url": "https://api.github.com/users/tmylk/events{/privacy}", "received_events_url": "https://api.github.com/users/tmylk/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 233081, "node_id": "MDU6TGFiZWwyMzMwODE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20easy", "name": "difficulty easy", "color": "00ff00", "default": false, "description": "Easy issue: required small fix"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2016-10-02T06:57:26Z", "updated_at": "2016-11-11T13:34:39Z", "closed_at": "2016-11-11T13:34:39Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "As reported on the [mailing list](https://groups.google.com/d/msg/gensim/RgiN22vtPKU/3K3TpxjKBgAJ) \n`lda.get_document_topics(clipped_corpus, per_word_topics=True)` doesn't return per_word_topics.\n\nThis [line](https://github.com/RaRe-Technologies/gensim/blob/develop/gensim/models/ldamodel.py#L924) should be changed to pass all the params including `per_word_topics` through the `apply` call.\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/908/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/908/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/905", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/905/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/905/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/905/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/905", "id": 180211589, "node_id": "MDU6SXNzdWUxODAyMTE1ODk=", "number": 905, "title": "Update API ref documentation by adding RST files", "user": {"login": "tmylk", "id": 1261528, "node_id": "MDQ6VXNlcjEyNjE1Mjg=", "avatar_url": "https://avatars.githubusercontent.com/u/1261528?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tmylk", "html_url": "https://github.com/tmylk", "followers_url": "https://api.github.com/users/tmylk/followers", "following_url": "https://api.github.com/users/tmylk/following{/other_user}", "gists_url": "https://api.github.com/users/tmylk/gists{/gist_id}", "starred_url": "https://api.github.com/users/tmylk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tmylk/subscriptions", "organizations_url": "https://api.github.com/users/tmylk/orgs", "repos_url": "https://api.github.com/users/tmylk/repos", "events_url": "https://api.github.com/users/tmylk/events{/privacy}", "received_events_url": "https://api.github.com/users/tmylk/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 175643, "node_id": "MDU6TGFiZWwxNzU2NDM=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/documentation", "name": "documentation", "color": "02d7e1", "default": true, "description": "Current issue related to documentation"}, {"id": 233081, "node_id": "MDU6TGFiZWwyMzMwODE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20easy", "name": "difficulty easy", "color": "00ff00", "default": false, "description": "Easy issue: required small fix"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2016-09-30T03:22:37Z", "updated_at": "2016-10-19T11:56:08Z", "closed_at": "2016-10-19T11:56:08Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "There are a lot of classes that are not in the official [API reference](http://radimrehurek.com/gensim/apiref.html).\nRST files for them need to be added to [this folder](https://github.com/RaRe-Technologies/gensim/tree/develop/docs/src/). \nThey can be automatically generated with sphinx api-docs and manually editer later to fit the format.\n\nThe full list of files that need to be there is [here](https://github.com/RaRe-Technologies/gensim/blob/develop/docs/src/apiref.rst)\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/905/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/905/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/896", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/896/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/896/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/896/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/896", "id": 179764325, "node_id": "MDU6SXNzdWUxNzk3NjQzMjU=", "number": 896, "title": "Segmentation fault when creating a Word2Vec model.", "user": {"login": "AritzBi", "id": 2855849, "node_id": "MDQ6VXNlcjI4NTU4NDk=", "avatar_url": "https://avatars.githubusercontent.com/u/2855849?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AritzBi", "html_url": "https://github.com/AritzBi", "followers_url": "https://api.github.com/users/AritzBi/followers", "following_url": "https://api.github.com/users/AritzBi/following{/other_user}", "gists_url": "https://api.github.com/users/AritzBi/gists{/gist_id}", "starred_url": "https://api.github.com/users/AritzBi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AritzBi/subscriptions", "organizations_url": "https://api.github.com/users/AritzBi/orgs", "repos_url": "https://api.github.com/users/AritzBi/repos", "events_url": "https://api.github.com/users/AritzBi/events{/privacy}", "received_events_url": "https://api.github.com/users/AritzBi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2016-09-28T12:54:09Z", "updated_at": "2017-10-02T11:58:50Z", "closed_at": "2017-10-02T11:58:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi!\n\nI am creating a Word2Vec model using gensim and after few minutes, the program crashes and returns a segmentation fault.  Is there any log where I can check what is happening? The same source code is working properly in other computers. \n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/896/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/896/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/889", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/889/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/889/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/889/events", "html_url": "https://github.com/RaRe-Technologies/gensim/pull/889", "id": 179318256, "node_id": "MDExOlB1bGxSZXF1ZXN0ODY4MDUxNDE=", "number": 889, "title": "Throw exception if load() is called on instance rather than the class", "user": {"login": "aayux", "id": 6918743, "node_id": "MDQ6VXNlcjY5MTg3NDM=", "avatar_url": "https://avatars.githubusercontent.com/u/6918743?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aayux", "html_url": "https://github.com/aayux", "followers_url": "https://api.github.com/users/aayux/followers", "following_url": "https://api.github.com/users/aayux/following{/other_user}", "gists_url": "https://api.github.com/users/aayux/gists{/gist_id}", "starred_url": "https://api.github.com/users/aayux/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aayux/subscriptions", "organizations_url": "https://api.github.com/users/aayux/orgs", "repos_url": "https://api.github.com/users/aayux/repos", "events_url": "https://api.github.com/users/aayux/events{/privacy}", "received_events_url": "https://api.github.com/users/aayux/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 234670, "node_id": "MDU6TGFiZWwyMzQ2NzA=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20medium", "name": "difficulty medium", "color": "00d000", "default": false, "description": "Medium issue: required good gensim understanding & python skills"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 16, "created_at": "2016-09-26T19:38:10Z", "updated_at": "2016-12-22T08:26:11Z", "closed_at": "2016-12-22T00:13:21Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/pulls/889", "html_url": "https://github.com/RaRe-Technologies/gensim/pull/889", "diff_url": "https://github.com/RaRe-Technologies/gensim/pull/889.diff", "patch_url": "https://github.com/RaRe-Technologies/gensim/pull/889.patch", "merged_at": "2016-12-22T00:13:21Z"}, "body": "Addresses one out of four issues in [#692](https://github.com/RaRe-Technologies/gensim/issues/692)\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/889/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/889/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/865", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/865/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/865/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/865/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/865", "id": 178196052, "node_id": "MDU6SXNzdWUxNzgxOTYwNTI=", "number": 865, "title": "A numerical bug in word2vec make_cum_table ", "user": {"login": "pderkowski", "id": 2752575, "node_id": "MDQ6VXNlcjI3NTI1NzU=", "avatar_url": "https://avatars.githubusercontent.com/u/2752575?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pderkowski", "html_url": "https://github.com/pderkowski", "followers_url": "https://api.github.com/users/pderkowski/followers", "following_url": "https://api.github.com/users/pderkowski/following{/other_user}", "gists_url": "https://api.github.com/users/pderkowski/gists{/gist_id}", "starred_url": "https://api.github.com/users/pderkowski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pderkowski/subscriptions", "organizations_url": "https://api.github.com/users/pderkowski/orgs", "repos_url": "https://api.github.com/users/pderkowski/repos", "events_url": "https://api.github.com/users/pderkowski/events{/privacy}", "received_events_url": "https://api.github.com/users/pderkowski/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 233081, "node_id": "MDU6TGFiZWwyMzMwODE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20easy", "name": "difficulty easy", "color": "00ff00", "default": false, "description": "Easy issue: required small fix"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2016-09-20T22:23:30Z", "updated_at": "2018-12-11T16:45:27Z", "closed_at": "2018-12-11T16:45:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "A simple way of recreating:\n\n``` python\nfrom numpy import zeros, uint32\n\nclass Dummy(object):\n    count = 2;\n\nclass Issue(object):\n    def __init__(self):\n        reps = 10000000\n        self.index2word = [i for i in xrange(reps)]\n        self.vocab = { i: Dummy() for i in xrange(reps) }\n\n    def make_cum_table(self, power=0.75, domain=2**31 - 1):\n        vocab_size = len(self.index2word)\n        self.cum_table = zeros(vocab_size, dtype=uint32)\n        train_words_pow = float(sum([self.vocab[word].count**power for word in self.vocab]))\n        cumulative = 0.0\n        for word_index in range(vocab_size):\n            cumulative += self.vocab[self.index2word[word_index]].count**power / train_words_pow\n            self.cum_table[word_index] = round(cumulative * domain)\n        if len(self.cum_table) > 0:\n            assert self.cum_table[-1] == domain\n\ndef main():\n    issue = Issue()\n    issue.make_cum_table()\n\nif __name__==\"__main__\":\n    main()\n```\n\nOn my computer assertion in the last line of make_cum_table fails because self.cum_table[-1] is 2147483646 instead of expected 2147483647. The reason for this is the accumulated numerical error in the computation of `cumulative`.\n\nA simple way to fix this is to replace:\n\n``` python\n        for word_index in range(vocab_size):\n            cumulative += self.vocab[self.index2word[word_index]].count**power / train_words_pow\n            self.cum_table[word_index] = round(cumulative * domain)\n```\n\nwith:\n\n``` python\n        for word_index in range(vocab_size):\n            cumulative += self.vocab[self.index2word[word_index]].count**power\n            self.cum_table[word_index] = round(cumulative / train_words_pow * domain)\n```\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/865/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/865/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/851", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/851/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/851/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/851/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/851", "id": 175486815, "node_id": "MDU6SXNzdWUxNzU0ODY4MTU=", "number": 851, "title": "ZeroDivisionError: float division by zero in pagerank_weighted.py", "user": {"login": "bofinbabu", "id": 5749350, "node_id": "MDQ6VXNlcjU3NDkzNTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5749350?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bofinbabu", "html_url": "https://github.com/bofinbabu", "followers_url": "https://api.github.com/users/bofinbabu/followers", "following_url": "https://api.github.com/users/bofinbabu/following{/other_user}", "gists_url": "https://api.github.com/users/bofinbabu/gists{/gist_id}", "starred_url": "https://api.github.com/users/bofinbabu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bofinbabu/subscriptions", "organizations_url": "https://api.github.com/users/bofinbabu/orgs", "repos_url": "https://api.github.com/users/bofinbabu/repos", "events_url": "https://api.github.com/users/bofinbabu/events{/privacy}", "received_events_url": "https://api.github.com/users/bofinbabu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 233081, "node_id": "MDU6TGFiZWwyMzMwODE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20easy", "name": "difficulty easy", "color": "00ff00", "default": false, "description": "Easy issue: required small fix"}], "state": "closed", "locked": false, "assignee": {"login": "tmylk", "id": 1261528, "node_id": "MDQ6VXNlcjEyNjE1Mjg=", "avatar_url": "https://avatars.githubusercontent.com/u/1261528?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tmylk", "html_url": "https://github.com/tmylk", "followers_url": "https://api.github.com/users/tmylk/followers", "following_url": "https://api.github.com/users/tmylk/following{/other_user}", "gists_url": "https://api.github.com/users/tmylk/gists{/gist_id}", "starred_url": "https://api.github.com/users/tmylk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tmylk/subscriptions", "organizations_url": "https://api.github.com/users/tmylk/orgs", "repos_url": "https://api.github.com/users/tmylk/repos", "events_url": "https://api.github.com/users/tmylk/events{/privacy}", "received_events_url": "https://api.github.com/users/tmylk/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tmylk", "id": 1261528, "node_id": "MDQ6VXNlcjEyNjE1Mjg=", "avatar_url": "https://avatars.githubusercontent.com/u/1261528?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tmylk", "html_url": "https://github.com/tmylk", "followers_url": "https://api.github.com/users/tmylk/followers", "following_url": "https://api.github.com/users/tmylk/following{/other_user}", "gists_url": "https://api.github.com/users/tmylk/gists{/gist_id}", "starred_url": "https://api.github.com/users/tmylk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tmylk/subscriptions", "organizations_url": "https://api.github.com/users/tmylk/orgs", "repos_url": "https://api.github.com/users/tmylk/repos", "events_url": "https://api.github.com/users/tmylk/events{/privacy}", "received_events_url": "https://api.github.com/users/tmylk/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2016-09-07T12:13:07Z", "updated_at": "2016-09-29T08:30:01Z", "closed_at": "2016-09-29T08:30:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "Got ZeroDivisionError: float division by zero in **pagerank_weighted.py**\n\nInput Text: BYAnonymousArabe\n\nError thrown at:  `summarize(text_to_sum, word_count=50)`\n\n![gensim error](https://cloud.githubusercontent.com/assets/5749350/18311490/44da660a-7522-11e6-8812-7390ebca8ef6.png)\n\nI know word_count is 50 and I'm just giving a word. But ideally it should output that single word instead of throwing an error isn't it?\n\nPlease throw some light\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/851/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/851/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/839", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/839/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/839/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/839/events", "html_url": "https://github.com/RaRe-Technologies/gensim/pull/839", "id": 173198766, "node_id": "MDExOlB1bGxSZXF1ZXN0ODI3MTY1OTg=", "number": 839, "title": "Correct logic for iterating over SimilarityABC, ", "user": {"login": "MridulS", "id": 5363860, "node_id": "MDQ6VXNlcjUzNjM4NjA=", "avatar_url": "https://avatars.githubusercontent.com/u/5363860?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MridulS", "html_url": "https://github.com/MridulS", "followers_url": "https://api.github.com/users/MridulS/followers", "following_url": "https://api.github.com/users/MridulS/following{/other_user}", "gists_url": "https://api.github.com/users/MridulS/gists{/gist_id}", "starred_url": "https://api.github.com/users/MridulS/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MridulS/subscriptions", "organizations_url": "https://api.github.com/users/MridulS/orgs", "repos_url": "https://api.github.com/users/MridulS/repos", "events_url": "https://api.github.com/users/MridulS/events{/privacy}", "received_events_url": "https://api.github.com/users/MridulS/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 233081, "node_id": "MDU6TGFiZWwyMzMwODE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20easy", "name": "difficulty easy", "color": "00ff00", "default": false, "description": "Easy issue: required small fix"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2016-08-25T13:10:15Z", "updated_at": "2016-10-07T00:33:13Z", "closed_at": "2016-10-07T00:33:13Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/pulls/839", "html_url": "https://github.com/RaRe-Technologies/gensim/pull/839", "diff_url": "https://github.com/RaRe-Technologies/gensim/pull/839.diff", "patch_url": "https://github.com/RaRe-Technologies/gensim/pull/839.patch", "merged_at": "2016-10-07T00:33:12Z"}, "body": "Fixes https://github.com/RaRe-Technologies/gensim/issues/791\n\nIntroduced in https://github.com/RaRe-Technologies/gensim/commit/5eec39db43ee74e14a1b02a9ef8e115f1fd8b61a\n\n@tmylk \n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/839/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/839/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/838", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/838/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/838/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/838/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/838", "id": 173155568, "node_id": "MDU6SXNzdWUxNzMxNTU1Njg=", "number": 838, "title": "word2vec overflow when running", "user": {"login": "jackyjwwang", "id": 21238531, "node_id": "MDQ6VXNlcjIxMjM4NTMx", "avatar_url": "https://avatars.githubusercontent.com/u/21238531?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jackyjwwang", "html_url": "https://github.com/jackyjwwang", "followers_url": "https://api.github.com/users/jackyjwwang/followers", "following_url": "https://api.github.com/users/jackyjwwang/following{/other_user}", "gists_url": "https://api.github.com/users/jackyjwwang/gists{/gist_id}", "starred_url": "https://api.github.com/users/jackyjwwang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jackyjwwang/subscriptions", "organizations_url": "https://api.github.com/users/jackyjwwang/orgs", "repos_url": "https://api.github.com/users/jackyjwwang/repos", "events_url": "https://api.github.com/users/jackyjwwang/events{/privacy}", "received_events_url": "https://api.github.com/users/jackyjwwang/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 233081, "node_id": "MDU6TGFiZWwyMzMwODE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20easy", "name": "difficulty easy", "color": "00ff00", "default": false, "description": "Easy issue: required small fix"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2016-08-25T09:30:16Z", "updated_at": "2016-09-28T09:37:13Z", "closed_at": "2016-09-28T09:37:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "/gensim-0.13.1/gensim/models/word2vec.py:296: RuntimeWarning: overflow encountered in exp\n  fb = 1. / (1. + exp(-dot(l1, l2b.T)))  # propagate hidden -> output\n\nhow can fix it, thank you\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/838/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/838/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/822", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/822/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/822/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/822/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/822", "id": 170572393, "node_id": "MDU6SXNzdWUxNzA1NzIzOTM=", "number": 822, "title": "LdaMallet inference breaks when run in multiprocessing", "user": {"login": "davidjurgens", "id": 978477, "node_id": "MDQ6VXNlcjk3ODQ3Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/978477?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidjurgens", "html_url": "https://github.com/davidjurgens", "followers_url": "https://api.github.com/users/davidjurgens/followers", "following_url": "https://api.github.com/users/davidjurgens/following{/other_user}", "gists_url": "https://api.github.com/users/davidjurgens/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidjurgens/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidjurgens/subscriptions", "organizations_url": "https://api.github.com/users/davidjurgens/orgs", "repos_url": "https://api.github.com/users/davidjurgens/repos", "events_url": "https://api.github.com/users/davidjurgens/events{/privacy}", "received_events_url": "https://api.github.com/users/davidjurgens/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 175642, "node_id": "MDU6TGFiZWwxNzU2NDI=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/wishlist", "name": "wishlist", "color": "d7e102", "default": false, "description": "Feature request"}], "state": "closed", "locked": false, "assignee": {"login": "tmylk", "id": 1261528, "node_id": "MDQ6VXNlcjEyNjE1Mjg=", "avatar_url": "https://avatars.githubusercontent.com/u/1261528?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tmylk", "html_url": "https://github.com/tmylk", "followers_url": "https://api.github.com/users/tmylk/followers", "following_url": "https://api.github.com/users/tmylk/following{/other_user}", "gists_url": "https://api.github.com/users/tmylk/gists{/gist_id}", "starred_url": "https://api.github.com/users/tmylk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tmylk/subscriptions", "organizations_url": "https://api.github.com/users/tmylk/orgs", "repos_url": "https://api.github.com/users/tmylk/repos", "events_url": "https://api.github.com/users/tmylk/events{/privacy}", "received_events_url": "https://api.github.com/users/tmylk/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tmylk", "id": 1261528, "node_id": "MDQ6VXNlcjEyNjE1Mjg=", "avatar_url": "https://avatars.githubusercontent.com/u/1261528?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tmylk", "html_url": "https://github.com/tmylk", "followers_url": "https://api.github.com/users/tmylk/followers", "following_url": "https://api.github.com/users/tmylk/following{/other_user}", "gists_url": "https://api.github.com/users/tmylk/gists{/gist_id}", "starred_url": "https://api.github.com/users/tmylk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tmylk/subscriptions", "organizations_url": "https://api.github.com/users/tmylk/orgs", "repos_url": "https://api.github.com/users/tmylk/repos", "events_url": "https://api.github.com/users/tmylk/events{/privacy}", "received_events_url": "https://api.github.com/users/tmylk/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2016-08-11T05:22:47Z", "updated_at": "2016-10-18T14:36:59Z", "closed_at": "2016-10-18T14:36:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "I trained an LdaMallet model and was successfully able to use it to infer the topic distribution for new documents but when I try to parallelize the inference, the code crashes. \n\n``` python\n# standard imports go here\nfrom joblib import Parallel, delayed\n\ndef main():\n     # [Code that loads the models is here...] \n    topic_assignments = Parallel(n_jobs=4)(delayed(infer)(doc, loaded_dict, loaded_lda) for doc in docs)\n\ndef infer(doc, loaded_dict, loaded_lda):\n    vec = loaded_dict.doc2bow(doc)`\n    topics = loaded_lda[vec]`\n    return topics`\n```\n\nThe code above works flawlessly if `n_jobs=1`, when it runs single process.  However, once `n_jobs` is set so the code runs in multiple processes, it crashes.  I've seen a few different errors; below are the final log messages for two different ones:\n\n```\n$HOME/.local/lib/python2.7/site-packages/gensim/models/wrappers/ldamallet.py in __getitem__(self=<gensim.models.wrappers.ldamallet.LdaMallet object>, bow=[[(9, 1), (16, 1), (33, 1), (34, 1), (35, 1), (36, 1), (37, 1)]], iterations=100)\n    176         cmd = self.mallet_path + \" infer-topics --input %s --inferencer %s --output-doc-topics %s --num-iterations %s --doc-topics-threshold %s\"\n    177         cmd = cmd % (self.fcorpusmallet() + '.infer', self.finferencer(), self.fdoctopics() + '.infer', iterations, self.topic_threshold)\n    178         logger.info(\"inferring topics with MALLET LDA '%s'\", cmd)\n    179         check_output(cmd, shell=True)\n    180         result = list(self.read_doctopics(self.fdoctopics() + '.infer'))\n--> 181         return result if is_corpus else result[0]\n        result = []\n        is_corpus = False\n    182 \n    183     def load_word_topics(self):\n    184         logger.info(\"loading assigned topics from %s\", self.fstate())\n    185         wordtopics = numpy.zeros((self.num_topics, self.num_terms), dtype=numpy.float32)\n\nIndexError: list index out of range\n```\n\n```\n$HOME/.local/lib/python2.7/site-packages/gensim/utils.py in check_output(*popenargs=('mallet.infer --use-pipe-from /tmp/b40f33_corpus.mallet',), **kwargs={'shell': True})\n   1157             cmd = kwargs.get(\"args\")\n   1158             if cmd is None:\n   1159                 cmd = popenargs[0]\n   1160             error = subprocess.CalledProcessError(retcode, cmd)\n   1161             error.output = output\n-> 1162             raise error\n        error = CalledProcessError()\n   1163         return output\n   1164     except KeyboardInterrupt:\n   1165         process.terminate()\n   1166         raise\n\nCalledProcessError: Command 'bin/mallet import-file --preserve-case --keep-sequence --remove-stopwords --token-regex '\\S+' --input /tmp/b40f33_corpus.txt --output /tmp/b40f33_corpus.mallet.infer --use-pipe-from /tmp/b40f33_corpus.mallet' returned non-zero exit status 1\n```\n\nFor the second error, if I actually run the command itself `bin/mallet import-file --preserve-case --keep-sequence --remove-stopwords --token-regex '\\S+' --input /tmp/b40f33_corpus.txt --output /tmp/b40f33_corpus.mallet.infer --use-pipe-from /tmp/b40f33_corpus.mallet`  the command exits normally with exit code 0, which leads me to believe it has something to do with how the subprocess call is waited for.  \n\nI'm not sure how to track down the issue but I've attached two files that can be used to reproduce the error.  \n\n[lda_debug_infer_parallel.py.txt](https://github.com/RaRe-Technologies/gensim/files/412556/lda_debug_infer_parallel.py.txt)\n[lda_debug_train.py.txt](https://github.com/RaRe-Technologies/gensim/files/412557/lda_debug_train.py.txt)\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/822/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/822/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/807", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/807/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/807/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/807/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/807", "id": 167842146, "node_id": "MDU6SXNzdWUxNjc4NDIxNDY=", "number": 807, "title": "Lsi distributed fail", "user": {"login": "carlos386386", "id": 10063469, "node_id": "MDQ6VXNlcjEwMDYzNDY5", "avatar_url": "https://avatars.githubusercontent.com/u/10063469?v=4", "gravatar_id": "", "url": "https://api.github.com/users/carlos386386", "html_url": "https://github.com/carlos386386", "followers_url": "https://api.github.com/users/carlos386386/followers", "following_url": "https://api.github.com/users/carlos386386/following{/other_user}", "gists_url": "https://api.github.com/users/carlos386386/gists{/gist_id}", "starred_url": "https://api.github.com/users/carlos386386/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/carlos386386/subscriptions", "organizations_url": "https://api.github.com/users/carlos386386/orgs", "repos_url": "https://api.github.com/users/carlos386386/repos", "events_url": "https://api.github.com/users/carlos386386/events{/privacy}", "received_events_url": "https://api.github.com/users/carlos386386/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 233081, "node_id": "MDU6TGFiZWwyMzMwODE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20easy", "name": "difficulty easy", "color": "00ff00", "default": false, "description": "Easy issue: required small fix"}], "state": "closed", "locked": false, "assignee": {"login": "tmylk", "id": 1261528, "node_id": "MDQ6VXNlcjEyNjE1Mjg=", "avatar_url": "https://avatars.githubusercontent.com/u/1261528?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tmylk", "html_url": "https://github.com/tmylk", "followers_url": "https://api.github.com/users/tmylk/followers", "following_url": "https://api.github.com/users/tmylk/following{/other_user}", "gists_url": "https://api.github.com/users/tmylk/gists{/gist_id}", "starred_url": "https://api.github.com/users/tmylk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tmylk/subscriptions", "organizations_url": "https://api.github.com/users/tmylk/orgs", "repos_url": "https://api.github.com/users/tmylk/repos", "events_url": "https://api.github.com/users/tmylk/events{/privacy}", "received_events_url": "https://api.github.com/users/tmylk/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tmylk", "id": 1261528, "node_id": "MDQ6VXNlcjEyNjE1Mjg=", "avatar_url": "https://avatars.githubusercontent.com/u/1261528?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tmylk", "html_url": "https://github.com/tmylk", "followers_url": "https://api.github.com/users/tmylk/followers", "following_url": "https://api.github.com/users/tmylk/following{/other_user}", "gists_url": "https://api.github.com/users/tmylk/gists{/gist_id}", "starred_url": "https://api.github.com/users/tmylk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tmylk/subscriptions", "organizations_url": "https://api.github.com/users/tmylk/orgs", "repos_url": "https://api.github.com/users/tmylk/repos", "events_url": "https://api.github.com/users/tmylk/events{/privacy}", "received_events_url": "https://api.github.com/users/tmylk/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 12, "created_at": "2016-07-27T12:31:48Z", "updated_at": "2016-10-20T21:39:03Z", "closed_at": "2016-10-20T21:39:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, \nI've got a problem with the lsi distributed. When i executed the example:\n\nhttps://radimrehurek.com/gensim/dist_lsi.html\n\nFirst configure the server (enviroment variables), then i run  the server, worker and dispatcher.\n\nAnd all without errros. But when i executed the code. I have this fail:\n![image](https://cloud.githubusercontent.com/assets/10063469/17175207/799856c8-5406-11e6-8713-ca7ad342baf8.png)\n\nWhy does this happens? How can i solve?\n\nThank you in advance.\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/807/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/807/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/806", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/806/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/806/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/806/events", "html_url": "https://github.com/RaRe-Technologies/gensim/pull/806", "id": 167368449, "node_id": "MDExOlB1bGxSZXF1ZXN0Nzg2ODI3NDE=", "number": 806, "title": "Update dtmmodel.py", "user": {"login": "Eickho", "id": 9074995, "node_id": "MDQ6VXNlcjkwNzQ5OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/9074995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Eickho", "html_url": "https://github.com/Eickho", "followers_url": "https://api.github.com/users/Eickho/followers", "following_url": "https://api.github.com/users/Eickho/following{/other_user}", "gists_url": "https://api.github.com/users/Eickho/gists{/gist_id}", "starred_url": "https://api.github.com/users/Eickho/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Eickho/subscriptions", "organizations_url": "https://api.github.com/users/Eickho/orgs", "repos_url": "https://api.github.com/users/Eickho/repos", "events_url": "https://api.github.com/users/Eickho/events{/privacy}", "received_events_url": "https://api.github.com/users/Eickho/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2016-07-25T13:40:27Z", "updated_at": "2016-08-11T11:54:45Z", "closed_at": "2016-08-11T11:54:45Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/pulls/806", "html_url": "https://github.com/RaRe-Technologies/gensim/pull/806", "diff_url": "https://github.com/RaRe-Technologies/gensim/pull/806.diff", "patch_url": "https://github.com/RaRe-Technologies/gensim/pull/806.patch", "merged_at": "2016-08-11T11:54:45Z"}, "body": "Adds a check if any documents in the supplied corpus are empty, which breaks the DIM model without providing a usable error description to the user. It should be noted that this _only_ seems to cause errors with the DIM model and not the DTM model. However, I don't think there is any upside to having empty documents in the DTM anyway?\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/806/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/806/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/805", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/805/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/805/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/805/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/805", "id": 167358385, "node_id": "MDU6SXNzdWUxNjczNTgzODU=", "number": 805, "title": "Error while summarizing text", "user": {"login": "pedro-walter", "id": 5803022, "node_id": "MDQ6VXNlcjU4MDMwMjI=", "avatar_url": "https://avatars.githubusercontent.com/u/5803022?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pedro-walter", "html_url": "https://github.com/pedro-walter", "followers_url": "https://api.github.com/users/pedro-walter/followers", "following_url": "https://api.github.com/users/pedro-walter/following{/other_user}", "gists_url": "https://api.github.com/users/pedro-walter/gists{/gist_id}", "starred_url": "https://api.github.com/users/pedro-walter/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pedro-walter/subscriptions", "organizations_url": "https://api.github.com/users/pedro-walter/orgs", "repos_url": "https://api.github.com/users/pedro-walter/repos", "events_url": "https://api.github.com/users/pedro-walter/events{/privacy}", "received_events_url": "https://api.github.com/users/pedro-walter/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 234670, "node_id": "MDU6TGFiZWwyMzQ2NzA=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20medium", "name": "difficulty medium", "color": "00d000", "default": false, "description": "Medium issue: required good gensim understanding & python skills"}, {"id": 721000065, "node_id": "MDU6TGFiZWw3MjEwMDAwNjU=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/good%20first%20issue", "name": "good first issue", "color": "7057ff", "default": true, "description": "Issue for new contributors (not required gensim understanding + very simple)"}], "state": "closed", "locked": false, "assignee": {"login": "menshikh-iv", "id": 15094669, "node_id": "MDQ6VXNlcjE1MDk0NjY5", "avatar_url": "https://avatars.githubusercontent.com/u/15094669?v=4", "gravatar_id": "", "url": "https://api.github.com/users/menshikh-iv", "html_url": "https://github.com/menshikh-iv", "followers_url": "https://api.github.com/users/menshikh-iv/followers", "following_url": "https://api.github.com/users/menshikh-iv/following{/other_user}", "gists_url": "https://api.github.com/users/menshikh-iv/gists{/gist_id}", "starred_url": "https://api.github.com/users/menshikh-iv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/menshikh-iv/subscriptions", "organizations_url": "https://api.github.com/users/menshikh-iv/orgs", "repos_url": "https://api.github.com/users/menshikh-iv/repos", "events_url": "https://api.github.com/users/menshikh-iv/events{/privacy}", "received_events_url": "https://api.github.com/users/menshikh-iv/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "menshikh-iv", "id": 15094669, "node_id": "MDQ6VXNlcjE1MDk0NjY5", "avatar_url": "https://avatars.githubusercontent.com/u/15094669?v=4", "gravatar_id": "", "url": "https://api.github.com/users/menshikh-iv", "html_url": "https://github.com/menshikh-iv", "followers_url": "https://api.github.com/users/menshikh-iv/followers", "following_url": "https://api.github.com/users/menshikh-iv/following{/other_user}", "gists_url": "https://api.github.com/users/menshikh-iv/gists{/gist_id}", "starred_url": "https://api.github.com/users/menshikh-iv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/menshikh-iv/subscriptions", "organizations_url": "https://api.github.com/users/menshikh-iv/orgs", "repos_url": "https://api.github.com/users/menshikh-iv/repos", "events_url": "https://api.github.com/users/menshikh-iv/events{/privacy}", "received_events_url": "https://api.github.com/users/menshikh-iv/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 14, "created_at": "2016-07-25T12:51:13Z", "updated_at": "2017-10-26T11:08:41Z", "closed_at": "2017-10-26T11:08:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\n\nI've received the following error when trying to summarize the body of this news article:\n\nhttps://www.theguardian.com/media/2016/jun/19/sun-times-brexit-in-out-shake-it-all-about\n\nThe error follows:\n\n  File \"/home/apps/comment_parser/venv/local/lib/python2.7/site-packages/gensim/summarization/summarizer.py\", line 202, in summarize\n    most_important_docs = summarize_corpus(corpus, ratio=ratio if word_count is None else 1)\n  File \"/home/apps/comment_parser/venv/local/lib/python2.7/site-packages/gensim/summarization/summarizer.py\", line 161, in summarize_corpus\n    pagerank_scores = _pagerank(graph)\n  File \"/home/apps/comment_parser/venv/local/lib/python2.7/site-packages/gensim/summarization/pagerank_weighted.py\", line 24, in pagerank_weighted\n    vals, vecs = eigs(pagerank_matrix.T, k=1)  # TODO raise an error if matrix has complex eigenvectors?\n  File \"/usr/lib/python2.7/dist-packages/scipy/sparse/linalg/eigen/arpack/arpack.py\", line 1271, in eigs\n    ncv, v0, maxiter, which, tol)\n  File \"/usr/lib/python2.7/dist-packages/scipy/sparse/linalg/eigen/arpack/arpack.py\", line 685, in __init__\n    raise ValueError(\"k must be less than ndim(A)-1, k=%d\" % k)\nValueError: k must be less than ndim(A)-1, k=1\n\nRegards,\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/805/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/805/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/794", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/794/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/794/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/794/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/794", "id": 165945548, "node_id": "MDU6SXNzdWUxNjU5NDU1NDg=", "number": 794, "title": "Bug in Phrases.export_phrases()", "user": {"login": "jeradf", "id": 6843507, "node_id": "MDQ6VXNlcjY4NDM1MDc=", "avatar_url": "https://avatars.githubusercontent.com/u/6843507?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jeradf", "html_url": "https://github.com/jeradf", "followers_url": "https://api.github.com/users/jeradf/followers", "following_url": "https://api.github.com/users/jeradf/following{/other_user}", "gists_url": "https://api.github.com/users/jeradf/gists{/gist_id}", "starred_url": "https://api.github.com/users/jeradf/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jeradf/subscriptions", "organizations_url": "https://api.github.com/users/jeradf/orgs", "repos_url": "https://api.github.com/users/jeradf/repos", "events_url": "https://api.github.com/users/jeradf/events{/privacy}", "received_events_url": "https://api.github.com/users/jeradf/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 233081, "node_id": "MDU6TGFiZWwyMzMwODE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20easy", "name": "difficulty easy", "color": "00ff00", "default": false, "description": "Easy issue: required small fix"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2016-07-16T20:12:37Z", "updated_at": "2017-05-23T21:51:19Z", "closed_at": "2017-05-23T21:51:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "A small bug in `bigram.export_phrases(sentences)`  causes it to return a maximum of one bigram per sentence.\nFor example:\n\n```\nfrom gensim.models import Phrases\n\nsentences = [\n    ['human', 'interface', 'computer'],\n    ['survey', 'user', 'computer', 'system', 'response', 'time'],\n    ['eps', 'user', 'interface', 'system'],\n    ['system', 'human', 'system', 'eps'],\n    ['user', 'response', 'time'],\n    ['trees'],\n    ['graph', 'trees'],\n    ['graph', 'minors', 'trees'],\n    ['graph', 'minors', 'survey','human','interface']]\n\nbigram = Phrases(sentences, min_count=1, threshold=2)\nfor phrase, score in bigram.export_phrases(sentences):\n    print(u'{0}   {1}'.format(phrase, score))\n```\n\nReturns:\n\n```\n>>> human interface   3.44444444444\nresponse time   7.75\nresponse time   7.75\ngraph minors   5.16666666667\ngraph minors   5.16666666667\n```\n\nThe last sentence has two bigrams, but only the first is returned. This happens because this line\nhttps://github.com/RaRe-Technologies/gensim/blob/master/gensim/models/phrases.py#L216\nprevents further iteration within a sentence.\nIf it's commented out, it correctly returns:\n\n```\n>>> human interface   3.44444444444\nresponse time   7.75\nresponse time   7.75\ngraph minors   5.16666666667\ngraph minors   5.16666666667\nhuman interface   3.44444444444\n```\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/794/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/794/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/791", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/791/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/791/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/791/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/791", "id": 165741911, "node_id": "MDU6SXNzdWUxNjU3NDE5MTE=", "number": 791, "title": "Error while iterating over SimilarityABC with chunk.shape[0] == 1 ", "user": {"login": "hg-bauerc", "id": 13833847, "node_id": "MDQ6VXNlcjEzODMzODQ3", "avatar_url": "https://avatars.githubusercontent.com/u/13833847?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hg-bauerc", "html_url": "https://github.com/hg-bauerc", "followers_url": "https://api.github.com/users/hg-bauerc/followers", "following_url": "https://api.github.com/users/hg-bauerc/following{/other_user}", "gists_url": "https://api.github.com/users/hg-bauerc/gists{/gist_id}", "starred_url": "https://api.github.com/users/hg-bauerc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hg-bauerc/subscriptions", "organizations_url": "https://api.github.com/users/hg-bauerc/orgs", "repos_url": "https://api.github.com/users/hg-bauerc/repos", "events_url": "https://api.github.com/users/hg-bauerc/events{/privacy}", "received_events_url": "https://api.github.com/users/hg-bauerc/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 233081, "node_id": "MDU6TGFiZWwyMzMwODE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20easy", "name": "difficulty easy", "color": "00ff00", "default": false, "description": "Easy issue: required small fix"}], "state": "closed", "locked": false, "assignee": {"login": "tmylk", "id": 1261528, "node_id": "MDQ6VXNlcjEyNjE1Mjg=", "avatar_url": "https://avatars.githubusercontent.com/u/1261528?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tmylk", "html_url": "https://github.com/tmylk", "followers_url": "https://api.github.com/users/tmylk/followers", "following_url": "https://api.github.com/users/tmylk/following{/other_user}", "gists_url": "https://api.github.com/users/tmylk/gists{/gist_id}", "starred_url": "https://api.github.com/users/tmylk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tmylk/subscriptions", "organizations_url": "https://api.github.com/users/tmylk/orgs", "repos_url": "https://api.github.com/users/tmylk/repos", "events_url": "https://api.github.com/users/tmylk/events{/privacy}", "received_events_url": "https://api.github.com/users/tmylk/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tmylk", "id": 1261528, "node_id": "MDQ6VXNlcjEyNjE1Mjg=", "avatar_url": "https://avatars.githubusercontent.com/u/1261528?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tmylk", "html_url": "https://github.com/tmylk", "followers_url": "https://api.github.com/users/tmylk/followers", "following_url": "https://api.github.com/users/tmylk/following{/other_user}", "gists_url": "https://api.github.com/users/tmylk/gists{/gist_id}", "starred_url": "https://api.github.com/users/tmylk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tmylk/subscriptions", "organizations_url": "https://api.github.com/users/tmylk/orgs", "repos_url": "https://api.github.com/users/tmylk/repos", "events_url": "https://api.github.com/users/tmylk/events{/privacy}", "received_events_url": "https://api.github.com/users/tmylk/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2016-07-15T09:03:41Z", "updated_at": "2016-10-07T00:33:13Z", "closed_at": "2016-10-07T00:33:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "Having this code section of **SimilarityABC.__iter__** \n\n``` python\nif chunk.shape[0] > 1:\n    for sim in self[chunk]:\n        yield sim\nelse:\n    yield self[chunk]\n```\n\nWhen running this code and **chunk.shape[0] == 1** (i.e. `else` path) I get a ValueError (too many values to unpack).\nIf I'm right the above code has to be simply replaced by \n\n``` python\nfor sim in self[chunk]:\n    yield sim\n```\n\nThanks for verifying!\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/791/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/791/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/789", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/789/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/789/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/789/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/789", "id": 165362451, "node_id": "MDU6SXNzdWUxNjUzNjI0NTE=", "number": 789, "title": "Doc2Vec.DocvecsArray.doctag_syn0norm not ignored in save()", "user": {"login": "gojomo", "id": 1641, "node_id": "MDQ6VXNlcjE2NDE=", "avatar_url": "https://avatars.githubusercontent.com/u/1641?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gojomo", "html_url": "https://github.com/gojomo", "followers_url": "https://api.github.com/users/gojomo/followers", "following_url": "https://api.github.com/users/gojomo/following{/other_user}", "gists_url": "https://api.github.com/users/gojomo/gists{/gist_id}", "starred_url": "https://api.github.com/users/gojomo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gojomo/subscriptions", "organizations_url": "https://api.github.com/users/gojomo/orgs", "repos_url": "https://api.github.com/users/gojomo/repos", "events_url": "https://api.github.com/users/gojomo/events{/privacy}", "received_events_url": "https://api.github.com/users/gojomo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 233081, "node_id": "MDU6TGFiZWwyMzMwODE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20easy", "name": "difficulty easy", "color": "00ff00", "default": false, "description": "Easy issue: required small fix"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-07-13T16:18:35Z", "updated_at": "2017-01-25T10:40:32Z", "closed_at": "2017-01-25T10:40:32Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Unlike with Word2Vec.syn0norm, oversized `doctag_syn0norm` arrays aren't ignored during native `save()`. As a result, even if they're a shared-reference to `doctag_syn0` after an `init_sims(replace=True)`, both `doctag_syn0` and `doctag_syn0norm` will be written and then read back in, using more storage/RAM than necessary. (See https://groups.google.com/d/msg/gensim/fCcHoZCyV3M/djEZgNWEAAAJ )\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/789/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/789/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/737", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/737/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/737/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/737/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/737", "id": 158835789, "node_id": "MDU6SXNzdWUxNTg4MzU3ODk=", "number": 737, "title": "LDA and LSI consume so much RAM then makes my PC freeze", "user": {"login": "vampire1306", "id": 8722389, "node_id": "MDQ6VXNlcjg3MjIzODk=", "avatar_url": "https://avatars.githubusercontent.com/u/8722389?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vampire1306", "html_url": "https://github.com/vampire1306", "followers_url": "https://api.github.com/users/vampire1306/followers", "following_url": "https://api.github.com/users/vampire1306/following{/other_user}", "gists_url": "https://api.github.com/users/vampire1306/gists{/gist_id}", "starred_url": "https://api.github.com/users/vampire1306/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vampire1306/subscriptions", "organizations_url": "https://api.github.com/users/vampire1306/orgs", "repos_url": "https://api.github.com/users/vampire1306/repos", "events_url": "https://api.github.com/users/vampire1306/events{/privacy}", "received_events_url": "https://api.github.com/users/vampire1306/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 234670, "node_id": "MDU6TGFiZWwyMzQ2NzA=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20medium", "name": "difficulty medium", "color": "00d000", "default": false, "description": "Medium issue: required good gensim understanding & python skills"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2016-06-07T04:27:26Z", "updated_at": "2016-10-18T14:38:56Z", "closed_at": "2016-10-18T14:38:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "Here is my gensim info:\n\nMetadata-Version: 1.1\nName: gensim\nVersion: 0.12.4\n\n> View Gensim info\n> number of docs in raw data: 10000\n> Raw data file size on disk: 59959967 bytes (59.96 Mb)\n> ++++++++++++++++++++++++++++++++++\n> number of postID in list post ID file: 10000\n> Post ID file size on disk: 133709 bytes (0.13 Mb)\n> ++++++++++++++++++++++++++++++++++\n> begin to load dictionary\n> loading dictionary runtime: 0.222123 seconds\n> Dictionary(386051 unique tokens: [u'ki\\xeau h\\xe3nh', u'robot tr\\u1ebb qu\\u1ed1c t\\u1ebf', u'l\\u01b0\\u1ee3t', u'c\\xe1 \\u0111u\\u1ed1i', u'ng\\u01b0 s\\u01b0 merlion']...)\n> Dict memory usage: 64 bytes (0.00 Mb)\n> Dict file size on disk: 10966447 bytes (10.97 Mb)\n> ++++++++++++++++++++++++++++++++++\n> begin to load corpus\n> loading corpus runtime: 0.000898 seconds\n> MmCorpus(10000 documents, 385984 features, 2075105 non-zero entries)\n> Corpus memory usage: 64 bytes (0.00 Mb)\n> Corpus file size on disk: 24217158 bytes (24.22 Mb)\n> ++++++++++++++++++++++++++++++++++\n> number of stop words 77\n> Stop words memory usage: 776 bytes (0.00 Mb)\n> Stop words file size on disk: 688 bytes (0.00 Mb)\n\n`\n\n```\ndef get_corpus(self):\n    if(self.corpus == None):\n        print \"begin to load corpus\"\n        start = timeit.default_timer()\n        self.corpus = MmCorpus(self.corpus_file_path)\n        print(\"loading corpus runtime: %f seconds\" %((timeit.default_timer() - start)))\n    return self.corpus\n\ndef get_dict(self):\n    if(self.dict == None):\n        print \"begin to load dictionary\"\n        start = timeit.default_timer()\n        self.dict = Dictionary().load(self.dict_file_path)\n        print(\"loading dictionary runtime: %f seconds\" %((timeit.default_timer() - start)))\n    return self.dict\n\ndef find_topics_by_lda(self, num_topics):\n    print \"Begin to find %d topics by lda\" % num_topics\n    start = timeit.default_timer()\n    id2word = self.get_dict()\n    mm = self.get_corpus()\n    lda = ldamodel.LdaModel(corpus=mm, id2word=id2word, num_topics=num_topics, update_every=1, chunksize=2500, passes=1)\n    print(\"finding topics by lda runtime: %f seconds\" %((timeit.default_timer() - start)))\n    return lda\n\ndef find_topics_by_lsi(self, num_topics):\n    print \"Begin to find %d topics by lsi\" % num_topics\n    start = timeit.default_timer()\n    id2word = self.get_dict()\n    mm = self.get_corpus()\n    lsi = lsimodel.LsiModel(corpus=mm, id2word=id2word, num_topics=num_topics)\n    print(\"finding topics by lsi runtime: %f seconds\" %((timeit.default_timer() - start)))\n    return lsi\n```\n\n`\n\nWhen I try LSI, it consumes up to 1.8Gb Ram and just goes on forever.\nSo I try LDA, it consumes to 4.9 Gb Ram and freezes my PC\nWhy this happens, my data is much smaller than the test data in the tutorial document?\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/737/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/737/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/734", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/734/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/734/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/734/events", "html_url": "https://github.com/RaRe-Technologies/gensim/pull/734", "id": 158479522, "node_id": "MDExOlB1bGxSZXF1ZXN0NzI1ODgwOTM=", "number": 734, "title": "Changed keywords.py to make imports work for python2", "user": {"login": "peterg17", "id": 2456071, "node_id": "MDQ6VXNlcjI0NTYwNzE=", "avatar_url": "https://avatars.githubusercontent.com/u/2456071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/peterg17", "html_url": "https://github.com/peterg17", "followers_url": "https://api.github.com/users/peterg17/followers", "following_url": "https://api.github.com/users/peterg17/following{/other_user}", "gists_url": "https://api.github.com/users/peterg17/gists{/gist_id}", "starred_url": "https://api.github.com/users/peterg17/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/peterg17/subscriptions", "organizations_url": "https://api.github.com/users/peterg17/orgs", "repos_url": "https://api.github.com/users/peterg17/repos", "events_url": "https://api.github.com/users/peterg17/events{/privacy}", "received_events_url": "https://api.github.com/users/peterg17/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 233081, "node_id": "MDU6TGFiZWwyMzMwODE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20easy", "name": "difficulty easy", "color": "00ff00", "default": false, "description": "Easy issue: required small fix"}], "state": "closed", "locked": false, "assignee": {"login": "tmylk", "id": 1261528, "node_id": "MDQ6VXNlcjEyNjE1Mjg=", "avatar_url": "https://avatars.githubusercontent.com/u/1261528?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tmylk", "html_url": "https://github.com/tmylk", "followers_url": "https://api.github.com/users/tmylk/followers", "following_url": "https://api.github.com/users/tmylk/following{/other_user}", "gists_url": "https://api.github.com/users/tmylk/gists{/gist_id}", "starred_url": "https://api.github.com/users/tmylk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tmylk/subscriptions", "organizations_url": "https://api.github.com/users/tmylk/orgs", "repos_url": "https://api.github.com/users/tmylk/repos", "events_url": "https://api.github.com/users/tmylk/events{/privacy}", "received_events_url": "https://api.github.com/users/tmylk/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tmylk", "id": 1261528, "node_id": "MDQ6VXNlcjEyNjE1Mjg=", "avatar_url": "https://avatars.githubusercontent.com/u/1261528?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tmylk", "html_url": "https://github.com/tmylk", "followers_url": "https://api.github.com/users/tmylk/followers", "following_url": "https://api.github.com/users/tmylk/following{/other_user}", "gists_url": "https://api.github.com/users/tmylk/gists{/gist_id}", "starred_url": "https://api.github.com/users/tmylk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tmylk/subscriptions", "organizations_url": "https://api.github.com/users/tmylk/orgs", "repos_url": "https://api.github.com/users/tmylk/repos", "events_url": "https://api.github.com/users/tmylk/events{/privacy}", "received_events_url": "https://api.github.com/users/tmylk/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 7, "created_at": "2016-06-04T01:06:46Z", "updated_at": "2017-06-22T08:07:50Z", "closed_at": "2017-06-22T08:07:50Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/pulls/734", "html_url": "https://github.com/RaRe-Technologies/gensim/pull/734", "diff_url": "https://github.com/RaRe-Technologies/gensim/pull/734.diff", "patch_url": "https://github.com/RaRe-Technologies/gensim/pull/734.patch", "merged_at": null}, "body": "Changed keywords.py so that the imports work with python2, specifically for queue. Basically, just fixed this issue: http://stackoverflow.com/questions/29687837/queue-importerror-in-python-3\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/734/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/734/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/709", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/709/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/709/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/709/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/709", "id": 157215836, "node_id": "MDU6SXNzdWUxNTcyMTU4MzY=", "number": 709, "title": "nosetest failing on develop", "user": {"login": "devashishd12", "id": 9411999, "node_id": "MDQ6VXNlcjk0MTE5OTk=", "avatar_url": "https://avatars.githubusercontent.com/u/9411999?v=4", "gravatar_id": "", "url": "https://api.github.com/users/devashishd12", "html_url": "https://github.com/devashishd12", "followers_url": "https://api.github.com/users/devashishd12/followers", "following_url": "https://api.github.com/users/devashishd12/following{/other_user}", "gists_url": "https://api.github.com/users/devashishd12/gists{/gist_id}", "starred_url": "https://api.github.com/users/devashishd12/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/devashishd12/subscriptions", "organizations_url": "https://api.github.com/users/devashishd12/orgs", "repos_url": "https://api.github.com/users/devashishd12/repos", "events_url": "https://api.github.com/users/devashishd12/events{/privacy}", "received_events_url": "https://api.github.com/users/devashishd12/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}], "state": "closed", "locked": false, "assignee": {"login": "tmylk", "id": 1261528, "node_id": "MDQ6VXNlcjEyNjE1Mjg=", "avatar_url": "https://avatars.githubusercontent.com/u/1261528?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tmylk", "html_url": "https://github.com/tmylk", "followers_url": "https://api.github.com/users/tmylk/followers", "following_url": "https://api.github.com/users/tmylk/following{/other_user}", "gists_url": "https://api.github.com/users/tmylk/gists{/gist_id}", "starred_url": "https://api.github.com/users/tmylk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tmylk/subscriptions", "organizations_url": "https://api.github.com/users/tmylk/orgs", "repos_url": "https://api.github.com/users/tmylk/repos", "events_url": "https://api.github.com/users/tmylk/events{/privacy}", "received_events_url": "https://api.github.com/users/tmylk/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tmylk", "id": 1261528, "node_id": "MDQ6VXNlcjEyNjE1Mjg=", "avatar_url": "https://avatars.githubusercontent.com/u/1261528?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tmylk", "html_url": "https://github.com/tmylk", "followers_url": "https://api.github.com/users/tmylk/followers", "following_url": "https://api.github.com/users/tmylk/following{/other_user}", "gists_url": "https://api.github.com/users/tmylk/gists{/gist_id}", "starred_url": "https://api.github.com/users/tmylk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tmylk/subscriptions", "organizations_url": "https://api.github.com/users/tmylk/orgs", "repos_url": "https://api.github.com/users/tmylk/repos", "events_url": "https://api.github.com/users/tmylk/events{/privacy}", "received_events_url": "https://api.github.com/users/tmylk/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2016-05-27T14:13:07Z", "updated_at": "2016-10-05T13:13:20Z", "closed_at": "2016-10-05T13:13:20Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "One test is failing on my local machine in the develop branch. It is up to date with upstream/develop. I'm using ubuntu linux. Here's the traceback:\n\n```\nFAIL: test_getitem_sparse2sparse (gensim.test.test_sharded_corpus.TestShardedCorpus)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/home/devashish/gensim/gensim/test/test_sharded_corpus.py\", line 169, in test_getitem_sparse2sparse\n    self.assertTrue(isinstance(ilist, sparse.csr_matrix))\nAssertionError: False is not true\n-------------------- >> begin captured logging << --------------------\ngensim.corpora.sharded_corpus: INFO: Initializing sharded corpus with prefix test-temp-11967864/shcorp.11967864.tmp\ngensim.corpora.sharded_corpus: INFO: Building from corpus...\ngensim.corpora.sharded_corpus: WARNING: Couldn't find number of features, trusting supplied dimension (1000)\ngensim.corpora.sharded_corpus: INFO: Running init from corpus.\ngensim.corpora.sharded_corpus: INFO: Chunk no. 0 at 6.30000000115e-05 s\ngensim.corpora.sharded_corpus: DEBUG: Current chunk dimension: 100 x 1000\ngensim.corpora.sharded_corpus: INFO: Chunk no. 1 at 0.011418 s\ngensim.corpora.sharded_corpus: DEBUG: Current chunk dimension: 100 x 1000\ngensim.corpora.sharded_corpus: INFO: Chunk no. 2 at 0.022527 s\ngensim.corpora.sharded_corpus: DEBUG: Current chunk dimension: 100 x 1000\ngensim.corpora.sharded_corpus: INFO: Chunk no. 3 at 0.03352 s\ngensim.corpora.sharded_corpus: DEBUG: Current chunk dimension: 100 x 1000\ngensim.corpora.sharded_corpus: INFO: Chunk no. 4 at 0.044551 s\ngensim.corpora.sharded_corpus: DEBUG: Current chunk dimension: 100 x 1000\ngensim.corpora.sharded_corpus: INFO: Chunk no. 5 at 0.055306 s\ngensim.corpora.sharded_corpus: DEBUG: Current chunk dimension: 100 x 1000\ngensim.corpora.sharded_corpus: INFO: Chunk no. 6 at 0.06637 s\ngensim.corpora.sharded_corpus: DEBUG: Current chunk dimension: 100 x 1000\ngensim.corpora.sharded_corpus: INFO: Chunk no. 7 at 0.077533 s\ngensim.corpora.sharded_corpus: DEBUG: Current chunk dimension: 100 x 1000\ngensim.corpora.sharded_corpus: INFO: Chunk no. 8 at 0.088479 s\ngensim.corpora.sharded_corpus: DEBUG: Current chunk dimension: 100 x 1000\ngensim.corpora.sharded_corpus: INFO: Chunk no. 9 at 0.099604 s\ngensim.corpora.sharded_corpus: DEBUG: Current chunk dimension: 100 x 1000\ngensim.corpora.sharded_corpus: INFO: Built 10 shards in 0.11047 s.\ngensim.corpora.sharded_corpus: INFO: Saving ShardedCorpus object to test-temp-11967864/shcorp.11967864.tmp\ngensim.utils: INFO: saving ShardedCorpus object under test-temp-11967864/shcorp.11967864.tmp, separately None\ngensim.utils: INFO: not storing attribute current_shard\ngensim.utils: INFO: not storing attribute current_offset\ngensim.utils: INFO: not storing attribute current_shard_n\ngensim.corpora.sharded_corpus: INFO: Initializing sharded corpus with prefix test-temp-11967864/shcorp.11967864.tmp.sparse\ngensim.corpora.sharded_corpus: INFO: Building from corpus...\ngensim.corpora.sharded_corpus: WARNING: Couldn't find number of features, trusting supplied dimension (1000)\ngensim.corpora.sharded_corpus: INFO: Running init from corpus.\ngensim.corpora.sharded_corpus: INFO: Chunk no. 0 at 5.50000000317e-05 s\ngensim.corpora.sharded_corpus: DEBUG: Current chunk dimension: 100 x 1000\ngensim.corpora.sharded_corpus: INFO: Chunk no. 1 at 0.013801 s\ngensim.corpora.sharded_corpus: DEBUG: Current chunk dimension: 100 x 1000\ngensim.corpora.sharded_corpus: INFO: Chunk no. 2 at 0.027472 s\ngensim.corpora.sharded_corpus: DEBUG: Current chunk dimension: 100 x 1000\ngensim.corpora.sharded_corpus: INFO: Chunk no. 3 at 0.041387 s\ngensim.corpora.sharded_corpus: DEBUG: Current chunk dimension: 100 x 1000\ngensim.corpora.sharded_corpus: INFO: Chunk no. 4 at 0.055006 s\ngensim.corpora.sharded_corpus: DEBUG: Current chunk dimension: 100 x 1000\ngensim.corpora.sharded_corpus: INFO: Chunk no. 5 at 0.068989 s\ngensim.corpora.sharded_corpus: DEBUG: Current chunk dimension: 100 x 1000\ngensim.corpora.sharded_corpus: INFO: Chunk no. 6 at 0.082269 s\ngensim.corpora.sharded_corpus: DEBUG: Current chunk dimension: 100 x 1000\ngensim.corpora.sharded_corpus: INFO: Chunk no. 7 at 0.095535 s\ngensim.corpora.sharded_corpus: DEBUG: Current chunk dimension: 100 x 1000\ngensim.corpora.sharded_corpus: INFO: Chunk no. 8 at 0.108788 s\ngensim.corpora.sharded_corpus: DEBUG: Current chunk dimension: 100 x 1000\ngensim.corpora.sharded_corpus: INFO: Chunk no. 9 at 0.121748 s\ngensim.corpora.sharded_corpus: DEBUG: Current chunk dimension: 100 x 1000\ngensim.corpora.sharded_corpus: INFO: Built 10 shards in 0.134708 s.\ngensim.corpora.sharded_corpus: INFO: Saving ShardedCorpus object to test-temp-11967864/shcorp.11967864.tmp.sparse\ngensim.utils: INFO: saving ShardedCorpus object under test-temp-11967864/shcorp.11967864.tmp.sparse, separately None\ngensim.utils: INFO: not storing attribute current_shard\ngensim.utils: INFO: not storing attribute current_offset\ngensim.utils: INFO: not storing attribute current_shard_n\ngensim.corpora.sharded_corpus: INFO: Initializing sharded corpus with prefix test-temp-11967864/shcorp.11967864.tmp\ngensim.corpora.sharded_corpus: INFO: Cloning existing...\ngensim.utils: INFO: loading ShardedCorpus object from test-temp-11967864/shcorp.11967864.tmp\ngensim.utils: INFO: setting ignored attribute current_shard to None\ngensim.utils: INFO: setting ignored attribute current_offset to None\ngensim.utils: INFO: setting ignored attribute current_shard_n to None\n--------------------- >> end captured logging << ---------------------\n\n----------------------------------------------------------------------\nRan 286 tests in 196.972s\n\nFAILED (SKIP=8, failures=1)\n```\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/709/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/709/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/698", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/698/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/698/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/698/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/698", "id": 154439174, "node_id": "MDU6SXNzdWUxNTQ0MzkxNzQ=", "number": 698, "title": "TypeError: a bytes-like object is required, not 'str'", "user": {"login": "Tesfamariam", "id": 7804958, "node_id": "MDQ6VXNlcjc4MDQ5NTg=", "avatar_url": "https://avatars.githubusercontent.com/u/7804958?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Tesfamariam", "html_url": "https://github.com/Tesfamariam", "followers_url": "https://api.github.com/users/Tesfamariam/followers", "following_url": "https://api.github.com/users/Tesfamariam/following{/other_user}", "gists_url": "https://api.github.com/users/Tesfamariam/gists{/gist_id}", "starred_url": "https://api.github.com/users/Tesfamariam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Tesfamariam/subscriptions", "organizations_url": "https://api.github.com/users/Tesfamariam/orgs", "repos_url": "https://api.github.com/users/Tesfamariam/repos", "events_url": "https://api.github.com/users/Tesfamariam/events{/privacy}", "received_events_url": "https://api.github.com/users/Tesfamariam/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}], "state": "closed", "locked": false, "assignee": {"login": "tmylk", "id": 1261528, "node_id": "MDQ6VXNlcjEyNjE1Mjg=", "avatar_url": "https://avatars.githubusercontent.com/u/1261528?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tmylk", "html_url": "https://github.com/tmylk", "followers_url": "https://api.github.com/users/tmylk/followers", "following_url": "https://api.github.com/users/tmylk/following{/other_user}", "gists_url": "https://api.github.com/users/tmylk/gists{/gist_id}", "starred_url": "https://api.github.com/users/tmylk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tmylk/subscriptions", "organizations_url": "https://api.github.com/users/tmylk/orgs", "repos_url": "https://api.github.com/users/tmylk/repos", "events_url": "https://api.github.com/users/tmylk/events{/privacy}", "received_events_url": "https://api.github.com/users/tmylk/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tmylk", "id": 1261528, "node_id": "MDQ6VXNlcjEyNjE1Mjg=", "avatar_url": "https://avatars.githubusercontent.com/u/1261528?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tmylk", "html_url": "https://github.com/tmylk", "followers_url": "https://api.github.com/users/tmylk/followers", "following_url": "https://api.github.com/users/tmylk/following{/other_user}", "gists_url": "https://api.github.com/users/tmylk/gists{/gist_id}", "starred_url": "https://api.github.com/users/tmylk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tmylk/subscriptions", "organizations_url": "https://api.github.com/users/tmylk/orgs", "repos_url": "https://api.github.com/users/tmylk/repos", "events_url": "https://api.github.com/users/tmylk/events{/privacy}", "received_events_url": "https://api.github.com/users/tmylk/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 15, "created_at": "2016-05-12T09:39:16Z", "updated_at": "2019-12-12T04:33:21Z", "closed_at": "2016-07-01T16:25:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am trying to implement dynamic topic modeling with python Anaconda 3.4 distribution on Linux OS.However, I am having the following error:\nTypeError: a bytes-like object is required, not 'str'\nAny idea how I could solve this problem?\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/698/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/698/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/693", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/693/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/693/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/693/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/693", "id": 153638018, "node_id": "MDU6SXNzdWUxNTM2MzgwMTg=", "number": 693, "title": "PyPI stats", "user": {"login": "piskvorky", "id": 610412, "node_id": "MDQ6VXNlcjYxMDQxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/610412?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piskvorky", "html_url": "https://github.com/piskvorky", "followers_url": "https://api.github.com/users/piskvorky/followers", "following_url": "https://api.github.com/users/piskvorky/following{/other_user}", "gists_url": "https://api.github.com/users/piskvorky/gists{/gist_id}", "starred_url": "https://api.github.com/users/piskvorky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piskvorky/subscriptions", "organizations_url": "https://api.github.com/users/piskvorky/orgs", "repos_url": "https://api.github.com/users/piskvorky/repos", "events_url": "https://api.github.com/users/piskvorky/events{/privacy}", "received_events_url": "https://api.github.com/users/piskvorky/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}], "state": "closed", "locked": false, "assignee": {"login": "tmylk", "id": 1261528, "node_id": "MDQ6VXNlcjEyNjE1Mjg=", "avatar_url": "https://avatars.githubusercontent.com/u/1261528?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tmylk", "html_url": "https://github.com/tmylk", "followers_url": "https://api.github.com/users/tmylk/followers", "following_url": "https://api.github.com/users/tmylk/following{/other_user}", "gists_url": "https://api.github.com/users/tmylk/gists{/gist_id}", "starred_url": "https://api.github.com/users/tmylk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tmylk/subscriptions", "organizations_url": "https://api.github.com/users/tmylk/orgs", "repos_url": "https://api.github.com/users/tmylk/repos", "events_url": "https://api.github.com/users/tmylk/events{/privacy}", "received_events_url": "https://api.github.com/users/tmylk/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tmylk", "id": 1261528, "node_id": "MDQ6VXNlcjEyNjE1Mjg=", "avatar_url": "https://avatars.githubusercontent.com/u/1261528?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tmylk", "html_url": "https://github.com/tmylk", "followers_url": "https://api.github.com/users/tmylk/followers", "following_url": "https://api.github.com/users/tmylk/following{/other_user}", "gists_url": "https://api.github.com/users/tmylk/gists{/gist_id}", "starred_url": "https://api.github.com/users/tmylk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tmylk/subscriptions", "organizations_url": "https://api.github.com/users/tmylk/orgs", "repos_url": "https://api.github.com/users/tmylk/repos", "events_url": "https://api.github.com/users/tmylk/events{/privacy}", "received_events_url": "https://api.github.com/users/tmylk/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 7, "created_at": "2016-05-08T05:59:09Z", "updated_at": "2016-09-27T10:27:50Z", "closed_at": "2016-09-27T10:27:50Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "I just noticed gensim has had 0 downloads in the past week(s).\n\nThat is very unlikely, and probably points to some issue with download / install / PyPI repo / PyPI stats.\n\nLook into what's happening & fix ASAP.\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/693/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/693/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/682", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/682/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/682/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/682/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/682", "id": 150713779, "node_id": "MDU6SXNzdWUxNTA3MTM3Nzk=", "number": 682, "title": "Tutorial fixes ", "user": {"login": "jonasrla", "id": 4976959, "node_id": "MDQ6VXNlcjQ5NzY5NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/4976959?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonasrla", "html_url": "https://github.com/jonasrla", "followers_url": "https://api.github.com/users/jonasrla/followers", "following_url": "https://api.github.com/users/jonasrla/following{/other_user}", "gists_url": "https://api.github.com/users/jonasrla/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonasrla/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonasrla/subscriptions", "organizations_url": "https://api.github.com/users/jonasrla/orgs", "repos_url": "https://api.github.com/users/jonasrla/repos", "events_url": "https://api.github.com/users/jonasrla/events{/privacy}", "received_events_url": "https://api.github.com/users/jonasrla/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2016-04-24T23:41:53Z", "updated_at": "2016-04-28T06:11:31Z", "closed_at": "2016-04-28T06:11:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "On line input 13 of [Notebook 1](http://radimrehurek.com/topic_modeling_tutorial/1%20-%20Streamed%20Corpora.html)\nthere's this function\n\n```\ndef split_words(self, text, stopwords=STOPWORDS):\n    \"\"\"\n    Break text into a list of single words. Ignore any token that falls into\n    the `stopwords` set.\n\n    \"\"\"\n    return [word\n            for word in gensim.utils.tokenize(text, lower=True)\n            if word not in STOPWORDS and len(word) > 3]\n```\n\nAnd looking closely, stopwords is not used at all, instead it uses STOPWORDS.\n\nAlso, the corpora of the [Notebook 2](http://radimrehurek.com/topic_modeling_tutorial/2%20-%20Topic%20Modeling.html)\nthat is, this one simplewiki-20140623-pages-articles.xml.bz2, is no longer available, because it is too outdated\nThat can be fixed simply by referencing the lastest, [simplewiki-latest-pages-articles.xml.bz2](https://dumps.wikimedia.org/simplewiki/latest/simplewiki-latest-pages-articles.xml.bz2), that can be found here\n[https://dumps.wikimedia.org/simplewiki/latest/](https://dumps.wikimedia.org/simplewiki/latest/)\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/682/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/682/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/671", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/671/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/671/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/671/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/671", "id": 149095479, "node_id": "MDU6SXNzdWUxNDkwOTU0Nzk=", "number": 671, "title": "LDAmallet shows the same words repeated for all the topics", "user": {"login": "aaajjj333", "id": 17697271, "node_id": "MDQ6VXNlcjE3Njk3Mjcx", "avatar_url": "https://avatars.githubusercontent.com/u/17697271?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aaajjj333", "html_url": "https://github.com/aaajjj333", "followers_url": "https://api.github.com/users/aaajjj333/followers", "following_url": "https://api.github.com/users/aaajjj333/following{/other_user}", "gists_url": "https://api.github.com/users/aaajjj333/gists{/gist_id}", "starred_url": "https://api.github.com/users/aaajjj333/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aaajjj333/subscriptions", "organizations_url": "https://api.github.com/users/aaajjj333/orgs", "repos_url": "https://api.github.com/users/aaajjj333/repos", "events_url": "https://api.github.com/users/aaajjj333/events{/privacy}", "received_events_url": "https://api.github.com/users/aaajjj333/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 233081, "node_id": "MDU6TGFiZWwyMzMwODE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20easy", "name": "difficulty easy", "color": "00ff00", "default": false, "description": "Easy issue: required small fix"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2016-04-18T09:25:08Z", "updated_at": "2017-03-19T21:58:35Z", "closed_at": "2017-03-19T21:58:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "I run the LDAmallet to generate topics. The results show problem in the implementation.\n\n`# READ DOCUMENTS\n\n```\nfile_paths = [os.path.join(dir_data, fname) for fname in os.listdir(dir_data) if fname.endswith(\".txt\") ]\ndocuments = [codecs.open(file_path, 'r', encoding=\"utf8\", errors='ignore').read() for file_path in file_paths ]\n\n# USING NLTK TOKENIZER TO SEPERATE WORDS\n\ntokenizer = RegexpTokenizer(r'\\w+')\n\ntexts = []\nfor each in documents:\n    tokens = tokenizer.tokenize(each)\n    texts.append(tokens)\n\ndictionary = corpora.Dictionary(texts)\n\ncorpus = [dictionary.doc2bow(text) for text in texts]\n\nnum_topics=numberOfTopics\nmallet_path = \"C:/mallet-2.0.7/bin/mallet\"\nldamodel = gensim.models.wrappers.LdaMallet(mallet_path, corpus, num_topics, dictionary, 4, dir_data, 0 ,1000)\n\nresult = (ldamodel.show_topics(num_topics, num_words,formatted=False))\nfor each in result:\n    print each\n```\n\n`\nHowever, the output shows the same words repeated for all the topics and a warning for division by 0 when tries to normalize the weights. The output looks like this\n\n`Warning (from warnings module):\n  File \"C:\\Python27\\lib\\site-packages\\gensim\\models\\wrappers\\ldamallet.py\", line 239\n    topic = topic / topic.sum()  # normalize to probability dist\nRuntimeWarning: invalid value encountered in divide\n... LDA Model Trained ....\n[(nan, u'b1e'), (nan, u'mokak'), (nan, u'viyac'), (nan, u'stipu'), (nan, u'forchange'), (nan, u'dugayiynggu'), (nan, u'hayne'), (nan, u'enrichment'), (nan, u'boseley'), (nan, u'releasesfresh')]\n[(nan, u'b1e'), (nan, u'mokak'), (nan, u'viyac'), (nan, u'stipu'), (nan, u'forchange'), (nan, u'dugayiynggu'), (nan, u'hayne'), (nan, u'enrichment'), (nan, u'boseley'), (nan, u'releasesfresh')]\n[(nan, u'b1e'), (nan, u'mokak'), (nan, u'viyac'), (nan, u'stipu'), (nan, u'forchange'), (nan, u'dugayiynggu'), (nan, u'hayne'), (nan, u'enrichment'), (nan, u'boseley'), (nan, u'releasesfresh')]\n......\n`\n\nIt is also worth mentioning that the state.mallet.gz output file is almost empty it contains only:\n\n`#doc source pos typeindex type topic\n# alpha : 5.0 5.0 5.0 5.0 5.0 5.0 5.0 5.0 5.0 5.0\n# beta : 0.01\n\n`\n\nWhile the corpus.txt looks good \n\n`0 0 rest participate apply education attend motivate note application charge interest must local interstate natsiec complete form regional free train half day day day volunteer volunteer volunteer volunteer volunteer volunteer volunteer volunteer look receive\n1 0 education education education education train train train train train deputy relate national executive executive number general vocational robinson robinson robinson robinson service employment employment numerou responsible unite research field role role department department department department department include chri chri kingdom prime commissioner commissioner manage centre government government cabinet director director five minister child hold hold hold appoint asqa chief chief chief period officer position senior senior\n   .........`\n\nbut I am not sure about doctopics.txt output file \n\n`#doc name topic proportion ...\n0   0   5   0.11538461538461539 3   0.11538461538461539 9   0.09615384615384616 8   0.09615384615384616 7   0.09615384615384616 6   0.09615384615384616 4   0.09615384615384616 2   0.09615384615384616 1   0.09615384615384616 0   0.09615384615384616 \n`\n\nI thought the document name should be the complete name not ID? Any idea where I went wrong?\n\nThanks\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/671/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 1, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/671/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/670", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/670/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/670/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/670/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/670", "id": 148916147, "node_id": "MDU6SXNzdWUxNDg5MTYxNDc=", "number": 670, "title": "ImportError: numpy.core.multiarray failed to import", "user": {"login": "tengpeng", "id": 2724786, "node_id": "MDQ6VXNlcjI3MjQ3ODY=", "avatar_url": "https://avatars.githubusercontent.com/u/2724786?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tengpeng", "html_url": "https://github.com/tengpeng", "followers_url": "https://api.github.com/users/tengpeng/followers", "following_url": "https://api.github.com/users/tengpeng/following{/other_user}", "gists_url": "https://api.github.com/users/tengpeng/gists{/gist_id}", "starred_url": "https://api.github.com/users/tengpeng/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tengpeng/subscriptions", "organizations_url": "https://api.github.com/users/tengpeng/orgs", "repos_url": "https://api.github.com/users/tengpeng/repos", "events_url": "https://api.github.com/users/tengpeng/events{/privacy}", "received_events_url": "https://api.github.com/users/tengpeng/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}], "state": "closed", "locked": false, "assignee": {"login": "tmylk", "id": 1261528, "node_id": "MDQ6VXNlcjEyNjE1Mjg=", "avatar_url": "https://avatars.githubusercontent.com/u/1261528?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tmylk", "html_url": "https://github.com/tmylk", "followers_url": "https://api.github.com/users/tmylk/followers", "following_url": "https://api.github.com/users/tmylk/following{/other_user}", "gists_url": "https://api.github.com/users/tmylk/gists{/gist_id}", "starred_url": "https://api.github.com/users/tmylk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tmylk/subscriptions", "organizations_url": "https://api.github.com/users/tmylk/orgs", "repos_url": "https://api.github.com/users/tmylk/repos", "events_url": "https://api.github.com/users/tmylk/events{/privacy}", "received_events_url": "https://api.github.com/users/tmylk/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tmylk", "id": 1261528, "node_id": "MDQ6VXNlcjEyNjE1Mjg=", "avatar_url": "https://avatars.githubusercontent.com/u/1261528?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tmylk", "html_url": "https://github.com/tmylk", "followers_url": "https://api.github.com/users/tmylk/followers", "following_url": "https://api.github.com/users/tmylk/following{/other_user}", "gists_url": "https://api.github.com/users/tmylk/gists{/gist_id}", "starred_url": "https://api.github.com/users/tmylk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tmylk/subscriptions", "organizations_url": "https://api.github.com/users/tmylk/orgs", "repos_url": "https://api.github.com/users/tmylk/repos", "events_url": "https://api.github.com/users/tmylk/events{/privacy}", "received_events_url": "https://api.github.com/users/tmylk/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2016-04-17T03:57:43Z", "updated_at": "2016-04-27T16:47:48Z", "closed_at": "2016-04-27T16:47:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\n[pt@centos7 gensim]$ /bin/python\nPython 2.7.5 (default, Nov 20 2015, 02:00:19)\n[GCC 4.8.5 20150623 (Red Hat 4.8.5-4)] on linux2\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n>>> import gensim\nRuntimeError: module compiled against API version a but this version of numpy is 7\nTraceback (most recent call last):\n  File \"<stdin>\", line 1, in <module>\n  File \"gensim/__init__.py\", line 6, in <module>\n    from gensim import parsing, matutils, interfaces, corpora, models, similarities, summarization\n  File \"gensim/parsing/__init__.py\", line 7, in <module>\n    from .preprocessing import *\n  File \"gensim/parsing/preprocessing.py\", line 10, in <module>\n    from gensim import utils\n  File \"gensim/utils.py\", line 40, in <module>\n    import scipy.sparse\n  File \"/usr/lib/python2.7/site-packages/scipy/sparse/__init__.py\", line 214, in <module>\n    from .csr import *\n  File \"/usr/lib/python2.7/site-packages/scipy/sparse/csr.py\", line 13, in <module>\n    from ._sparsetools import csr_tocsc, csr_tobsr, csr_count_blocks, \\\nImportError: numpy.core.multiarray failed to import\n```\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/670/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/670/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/667", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/667/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/667/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/667/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/667", "id": 148179064, "node_id": "MDU6SXNzdWUxNDgxNzkwNjQ=", "number": 667, "title": "KeyError: Popping a non-existing value from `_keywords`", "user": {"login": "yitingyeh", "id": 6718855, "node_id": "MDQ6VXNlcjY3MTg4NTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6718855?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yitingyeh", "html_url": "https://github.com/yitingyeh", "followers_url": "https://api.github.com/users/yitingyeh/followers", "following_url": "https://api.github.com/users/yitingyeh/following{/other_user}", "gists_url": "https://api.github.com/users/yitingyeh/gists{/gist_id}", "starred_url": "https://api.github.com/users/yitingyeh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yitingyeh/subscriptions", "organizations_url": "https://api.github.com/users/yitingyeh/orgs", "repos_url": "https://api.github.com/users/yitingyeh/repos", "events_url": "https://api.github.com/users/yitingyeh/events{/privacy}", "received_events_url": "https://api.github.com/users/yitingyeh/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}], "state": "closed", "locked": false, "assignee": {"login": "tmylk", "id": 1261528, "node_id": "MDQ6VXNlcjEyNjE1Mjg=", "avatar_url": "https://avatars.githubusercontent.com/u/1261528?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tmylk", "html_url": "https://github.com/tmylk", "followers_url": "https://api.github.com/users/tmylk/followers", "following_url": "https://api.github.com/users/tmylk/following{/other_user}", "gists_url": "https://api.github.com/users/tmylk/gists{/gist_id}", "starred_url": "https://api.github.com/users/tmylk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tmylk/subscriptions", "organizations_url": "https://api.github.com/users/tmylk/orgs", "repos_url": "https://api.github.com/users/tmylk/repos", "events_url": "https://api.github.com/users/tmylk/events{/privacy}", "received_events_url": "https://api.github.com/users/tmylk/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tmylk", "id": 1261528, "node_id": "MDQ6VXNlcjEyNjE1Mjg=", "avatar_url": "https://avatars.githubusercontent.com/u/1261528?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tmylk", "html_url": "https://github.com/tmylk", "followers_url": "https://api.github.com/users/tmylk/followers", "following_url": "https://api.github.com/users/tmylk/following{/other_user}", "gists_url": "https://api.github.com/users/tmylk/gists{/gist_id}", "starred_url": "https://api.github.com/users/tmylk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tmylk/subscriptions", "organizations_url": "https://api.github.com/users/tmylk/orgs", "repos_url": "https://api.github.com/users/tmylk/repos", "events_url": "https://api.github.com/users/tmylk/events{/privacy}", "received_events_url": "https://api.github.com/users/tmylk/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2016-04-13T20:46:27Z", "updated_at": "2016-05-18T15:33:32Z", "closed_at": "2016-05-18T15:32:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "OS X 10.11.1\nPython 2.7.10\ngensim 0.12.4\n\nTo reproduce this in Python shell:\n\n```\n>>> import gensim.summarization\n>>> t = \"Victor S. Sage Compare Sage 50c Editions Find accounting software that's right for your business Every product comes with anytime, anywhere online access; automatic updates; access to unlimited support; access to built-in credit card processing and payroll; and advanced reporting. Three solutions for your business 1 user From $249/year Buy now Free Trial 1-5 users From $299/year Buy now Free Trial 3-40 users From $1,199/year Buy now Free Trial Essential Accounting Accounts payable, accounts receivable, cash management check check check open check check check check check check check check check check check check check check check check check check check check check check check check check check check check check check check check check check check check check check check check check check check check check check check check Advanced Accounting Automated tasks, audit trail, budgeting, change order processing check check open check check check check check check check check check check check check check check check check check check check check check check check check check check check check In-depth Accounting Fast processing, industry-specific features, workflow management check open check check check check check check check check check check check Disclaimers open * This product is backed by a no-risk guarantee for first-time Sage 50 customers. If, within 60 days of purchase, you are not convinced that Sage 50 is the best accounting program for your business, we will refund your money (less and rebate you have received for this purchase). Dated proof of purchase and return of product is required. For details, call 877-481-0341.\"\n>>> import gensim.summarization\n>>> keywords = gensim.summarization.keywords(t, pos_filter=[], ratio=0.2, lemmatize=True, scores=True)\nTraceback (most recent call last):\n  File \"<stdin>\", line 1, in <module>\n  File \"/usr/local/lib/python2.7/site-packages/gensim/summarization/keywords.py\", line 229, in keywords\n    combined_keywords = _get_combined_keywords(keywords, text.split())\n  File \"/usr/local/lib/python2.7/site-packages/gensim/summarization/keywords.py\", line 171, in _get_combined_keywords\n    _keywords.pop(keyword)\nKeyError: u'check'\n```\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/667/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/667/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/661", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/661/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/661/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/661/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/661", "id": 146355715, "node_id": "MDU6SXNzdWUxNDYzNTU3MTU=", "number": 661, "title": "TypeError: startswith first arg must be bytes or a tuple of bytes, not str", "user": {"login": "GSingh2014", "id": 9990923, "node_id": "MDQ6VXNlcjk5OTA5MjM=", "avatar_url": "https://avatars.githubusercontent.com/u/9990923?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GSingh2014", "html_url": "https://github.com/GSingh2014", "followers_url": "https://api.github.com/users/GSingh2014/followers", "following_url": "https://api.github.com/users/GSingh2014/following{/other_user}", "gists_url": "https://api.github.com/users/GSingh2014/gists{/gist_id}", "starred_url": "https://api.github.com/users/GSingh2014/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GSingh2014/subscriptions", "organizations_url": "https://api.github.com/users/GSingh2014/orgs", "repos_url": "https://api.github.com/users/GSingh2014/repos", "events_url": "https://api.github.com/users/GSingh2014/events{/privacy}", "received_events_url": "https://api.github.com/users/GSingh2014/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}], "state": "closed", "locked": false, "assignee": {"login": "tmylk", "id": 1261528, "node_id": "MDQ6VXNlcjEyNjE1Mjg=", "avatar_url": "https://avatars.githubusercontent.com/u/1261528?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tmylk", "html_url": "https://github.com/tmylk", "followers_url": "https://api.github.com/users/tmylk/followers", "following_url": "https://api.github.com/users/tmylk/following{/other_user}", "gists_url": "https://api.github.com/users/tmylk/gists{/gist_id}", "starred_url": "https://api.github.com/users/tmylk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tmylk/subscriptions", "organizations_url": "https://api.github.com/users/tmylk/orgs", "repos_url": "https://api.github.com/users/tmylk/repos", "events_url": "https://api.github.com/users/tmylk/events{/privacy}", "received_events_url": "https://api.github.com/users/tmylk/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tmylk", "id": 1261528, "node_id": "MDQ6VXNlcjEyNjE1Mjg=", "avatar_url": "https://avatars.githubusercontent.com/u/1261528?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tmylk", "html_url": "https://github.com/tmylk", "followers_url": "https://api.github.com/users/tmylk/followers", "following_url": "https://api.github.com/users/tmylk/following{/other_user}", "gists_url": "https://api.github.com/users/tmylk/gists{/gist_id}", "starred_url": "https://api.github.com/users/tmylk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tmylk/subscriptions", "organizations_url": "https://api.github.com/users/tmylk/orgs", "repos_url": "https://api.github.com/users/tmylk/repos", "events_url": "https://api.github.com/users/tmylk/events{/privacy}", "received_events_url": "https://api.github.com/users/tmylk/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2016-04-06T15:47:12Z", "updated_at": "2016-05-25T19:08:13Z", "closed_at": "2016-05-25T19:08:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "OS X 10.10.5\nPython 3.5\ngensim 0.12.4\n\nRunning the saved LDAMallet model on new documents is giving the error\n2016-04-06 11:33:47,410 : INFO : **loading Dictionary object from /gensim_Mallet/gensim_Mallet_LDA.dict**\n2016-04-06 11:33:47,411 : **INFO : loading LdaMallet object from /gensim_Mallet/gensim_Mallet_LDA.model**\n2016-04-06 11:33:47,411 : INFO : loading id2word recursively from /gensim_Mallet/gensim_Mallet_LDA.model.id2word.\\* with mmap=None\nbow created\n[(0, 5), (3, 8), (7, 99), (9, 6), (14, 1), (22, 1), (60, 3), (79, 1), (80, 1), (121, 3), (163, 2), (189, 1), (204, 6), (210, 5), (214, 6), (215, 5793)]\n2016-04-06 11:33:47,424 : INFO : serializing temporary corpus to /var/folders/50/dx53qks96x54d05lq4l5mqxr0000gn/T/134f2a_corpus.txt\n2016-04-06 11:33:47,425 : INFO : converting temporary corpus to MALLET format with /usr/local/Cellar/mallet-2.0.6/bin/mallet import-file --preserve-case --keep-sequence --remove-stopwords --token-regex '\\S+' --input /var/folders/50/dx53qks96x54d05lq4l5mqxr0000gn/T/134f2a_corpus.txt --output /var/folders/50/dx53qks96x54d05lq4l5mqxr0000gn/T/134f2a_corpus.mallet.infer --use-pipe-from /var/folders/50/dx53qks96x54d05lq4l5mqxr0000gn/T/134f2a_corpus.mallet\n2016-04-06 11:33:47,894 : INFO : inferring topics with MALLET LDA '/usr/local/Cellar/mallet-2.0.6/bin/mallet infer-topics --input /var/folders/50/dx53qks96x54d05lq4l5mqxr0000gn/T/134f2a_corpus.mallet.infer --inferencer /var/folders/50/dx53qks96x54d05lq4l5mqxr0000gn/T/134f2a_inferencer.mallet --output-doc-topics /var/folders/50/dx53qks96x54d05lq4l5mqxr0000gn/T/134f2a_doctopics.txt.infer --num-iterations 100'\nTraceback (most recent call last):\n  File \"/Py/LDAGensim_Mallet_Apply.py\", line 60, in <module>\n    **print(ldamodel[bow])**\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/gensim/models/wrappers/ldamallet.py\", line 173, in **getitem**\n    **result = list(self.read_doctopics(self.fdoctopics() + '.infer'))**\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/gensim/models/wrappers/ldamallet.py\", line 254, in read_doctopics\n    **if lineno == 0 and line.startswith(\"#doc \"):**\n**TypeError: startswith first arg must be bytes or a tuple of bytes, not str**\n\nMy code is as follows:\n\nutilDoc = utils.simple_preprocess(cleandocument)\ntokens = [bytes(word,'utf-8') for word in utilDoc if word not in mystopwords]\n\nmodeldict = gensim.corpora.Dictionary.load('/gensim_Mallet/gensim_Mallet_LDA.dict')\nldamodel = models.wrappers.ldamallet.LdaMallet.load('/gensim_Mallet/gensim_Mallet_LDA.model')\n\nbow = modeldict.doc2bow(tokens)\nprint(\"bow created\")\nprint(bow)\n\nprint(ldamodel[bow])\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/661/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/661/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/646", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/646/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/646/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/646/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/646", "id": 144269308, "node_id": "MDU6SXNzdWUxNDQyNjkzMDg=", "number": 646, "title": "SystemError when using ldamulticore on big corpus", "user": {"login": "hejunqing", "id": 5152663, "node_id": "MDQ6VXNlcjUxNTI2NjM=", "avatar_url": "https://avatars.githubusercontent.com/u/5152663?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hejunqing", "html_url": "https://github.com/hejunqing", "followers_url": "https://api.github.com/users/hejunqing/followers", "following_url": "https://api.github.com/users/hejunqing/following{/other_user}", "gists_url": "https://api.github.com/users/hejunqing/gists{/gist_id}", "starred_url": "https://api.github.com/users/hejunqing/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hejunqing/subscriptions", "organizations_url": "https://api.github.com/users/hejunqing/orgs", "repos_url": "https://api.github.com/users/hejunqing/repos", "events_url": "https://api.github.com/users/hejunqing/events{/privacy}", "received_events_url": "https://api.github.com/users/hejunqing/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}], "state": "closed", "locked": false, "assignee": {"login": "tmylk", "id": 1261528, "node_id": "MDQ6VXNlcjEyNjE1Mjg=", "avatar_url": "https://avatars.githubusercontent.com/u/1261528?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tmylk", "html_url": "https://github.com/tmylk", "followers_url": "https://api.github.com/users/tmylk/followers", "following_url": "https://api.github.com/users/tmylk/following{/other_user}", "gists_url": "https://api.github.com/users/tmylk/gists{/gist_id}", "starred_url": "https://api.github.com/users/tmylk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tmylk/subscriptions", "organizations_url": "https://api.github.com/users/tmylk/orgs", "repos_url": "https://api.github.com/users/tmylk/repos", "events_url": "https://api.github.com/users/tmylk/events{/privacy}", "received_events_url": "https://api.github.com/users/tmylk/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tmylk", "id": 1261528, "node_id": "MDQ6VXNlcjEyNjE1Mjg=", "avatar_url": "https://avatars.githubusercontent.com/u/1261528?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tmylk", "html_url": "https://github.com/tmylk", "followers_url": "https://api.github.com/users/tmylk/followers", "following_url": "https://api.github.com/users/tmylk/following{/other_user}", "gists_url": "https://api.github.com/users/tmylk/gists{/gist_id}", "starred_url": "https://api.github.com/users/tmylk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tmylk/subscriptions", "organizations_url": "https://api.github.com/users/tmylk/orgs", "repos_url": "https://api.github.com/users/tmylk/repos", "events_url": "https://api.github.com/users/tmylk/events{/privacy}", "received_events_url": "https://api.github.com/users/tmylk/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2016-03-29T13:44:38Z", "updated_at": "2016-03-31T03:37:25Z", "closed_at": "2016-03-31T03:37:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "I was running ldamulticore with default settings on a big corpus,and come up with following error:\nTraceback (most recent call last):\n  File \"/home/nlip/anaconda2/lib/python2.7/multiprocessing/queues.py\", line 268, in _feed\n    send(obj)\nSystemError: NULL result without error in PyObject_Call\n\nThe corpus was 533M,containing 5837527 documents,1037945 features, 77704086 non-zero entries.I have tried serializing it to MmCorpus and Bzip it,but doesn't work. When I take only 1000000 document, ldamulticore runs fine.\n\nIf it is a bug ,please fix it as soon as possible and inform me .If not,please tell me how to fix it.\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/646/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/646/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/635", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/635/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/635/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/635/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/635", "id": 142990446, "node_id": "MDU6SXNzdWUxNDI5OTA0NDY=", "number": 635, "title": "Garbage collector error with make_wiki script", "user": {"login": "erogol", "id": 1402048, "node_id": "MDQ6VXNlcjE0MDIwNDg=", "avatar_url": "https://avatars.githubusercontent.com/u/1402048?v=4", "gravatar_id": "", "url": "https://api.github.com/users/erogol", "html_url": "https://github.com/erogol", "followers_url": "https://api.github.com/users/erogol/followers", "following_url": "https://api.github.com/users/erogol/following{/other_user}", "gists_url": "https://api.github.com/users/erogol/gists{/gist_id}", "starred_url": "https://api.github.com/users/erogol/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/erogol/subscriptions", "organizations_url": "https://api.github.com/users/erogol/orgs", "repos_url": "https://api.github.com/users/erogol/repos", "events_url": "https://api.github.com/users/erogol/events{/privacy}", "received_events_url": "https://api.github.com/users/erogol/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}], "state": "closed", "locked": false, "assignee": {"login": "tmylk", "id": 1261528, "node_id": "MDQ6VXNlcjEyNjE1Mjg=", "avatar_url": "https://avatars.githubusercontent.com/u/1261528?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tmylk", "html_url": "https://github.com/tmylk", "followers_url": "https://api.github.com/users/tmylk/followers", "following_url": "https://api.github.com/users/tmylk/following{/other_user}", "gists_url": "https://api.github.com/users/tmylk/gists{/gist_id}", "starred_url": "https://api.github.com/users/tmylk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tmylk/subscriptions", "organizations_url": "https://api.github.com/users/tmylk/orgs", "repos_url": "https://api.github.com/users/tmylk/repos", "events_url": "https://api.github.com/users/tmylk/events{/privacy}", "received_events_url": "https://api.github.com/users/tmylk/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tmylk", "id": 1261528, "node_id": "MDQ6VXNlcjEyNjE1Mjg=", "avatar_url": "https://avatars.githubusercontent.com/u/1261528?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tmylk", "html_url": "https://github.com/tmylk", "followers_url": "https://api.github.com/users/tmylk/followers", "following_url": "https://api.github.com/users/tmylk/following{/other_user}", "gists_url": "https://api.github.com/users/tmylk/gists{/gist_id}", "starred_url": "https://api.github.com/users/tmylk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tmylk/subscriptions", "organizations_url": "https://api.github.com/users/tmylk/orgs", "repos_url": "https://api.github.com/users/tmylk/repos", "events_url": "https://api.github.com/users/tmylk/events{/privacy}", "received_events_url": "https://api.github.com/users/tmylk/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2016-03-23T15:21:06Z", "updated_at": "2016-10-06T05:09:21Z", "closed_at": "2016-10-06T05:09:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "I call:\n\n```\npython -m gensim.scripts.make_wiki trwiki-latest-pages-articles.xml.bz2 .\n```\n\nThe only difference is I used trwiki dump\n\nHere what I got:\n\n```\nError when tring to find the memory information on the GPU: initialization error\nError freeing device pointer 0x704b88000 (initialization error). Driver report 0 bytes free and 0 bytes total \nCudaNdarray_uninit: error freeing self->devdata. (self=0x7fc542c1e470, self->devata=0x704b88000)\nException MemoryError: 'error freeing device pointer 0x704b88000 (initialization error)' in 'garbage collection' ignored\nFatal Python error: unexpected exception during garbage collection\n```\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/635/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/635/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/621", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/621/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/621/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/621/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/621", "id": 137244486, "node_id": "MDU6SXNzdWUxMzcyNDQ0ODY=", "number": 621, "title": "CalledProcessError", "user": {"login": "aleissaf", "id": 6022515, "node_id": "MDQ6VXNlcjYwMjI1MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6022515?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aleissaf", "html_url": "https://github.com/aleissaf", "followers_url": "https://api.github.com/users/aleissaf/followers", "following_url": "https://api.github.com/users/aleissaf/following{/other_user}", "gists_url": "https://api.github.com/users/aleissaf/gists{/gist_id}", "starred_url": "https://api.github.com/users/aleissaf/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aleissaf/subscriptions", "organizations_url": "https://api.github.com/users/aleissaf/orgs", "repos_url": "https://api.github.com/users/aleissaf/repos", "events_url": "https://api.github.com/users/aleissaf/events{/privacy}", "received_events_url": "https://api.github.com/users/aleissaf/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}], "state": "closed", "locked": false, "assignee": {"login": "tmylk", "id": 1261528, "node_id": "MDQ6VXNlcjEyNjE1Mjg=", "avatar_url": "https://avatars.githubusercontent.com/u/1261528?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tmylk", "html_url": "https://github.com/tmylk", "followers_url": "https://api.github.com/users/tmylk/followers", "following_url": "https://api.github.com/users/tmylk/following{/other_user}", "gists_url": "https://api.github.com/users/tmylk/gists{/gist_id}", "starred_url": "https://api.github.com/users/tmylk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tmylk/subscriptions", "organizations_url": "https://api.github.com/users/tmylk/orgs", "repos_url": "https://api.github.com/users/tmylk/repos", "events_url": "https://api.github.com/users/tmylk/events{/privacy}", "received_events_url": "https://api.github.com/users/tmylk/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tmylk", "id": 1261528, "node_id": "MDQ6VXNlcjEyNjE1Mjg=", "avatar_url": "https://avatars.githubusercontent.com/u/1261528?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tmylk", "html_url": "https://github.com/tmylk", "followers_url": "https://api.github.com/users/tmylk/followers", "following_url": "https://api.github.com/users/tmylk/following{/other_user}", "gists_url": "https://api.github.com/users/tmylk/gists{/gist_id}", "starred_url": "https://api.github.com/users/tmylk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tmylk/subscriptions", "organizations_url": "https://api.github.com/users/tmylk/orgs", "repos_url": "https://api.github.com/users/tmylk/repos", "events_url": "https://api.github.com/users/tmylk/events{/privacy}", "received_events_url": "https://api.github.com/users/tmylk/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 7, "created_at": "2016-02-29T12:46:45Z", "updated_at": "2016-03-23T11:42:59Z", "closed_at": "2016-03-23T11:42:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have been trying to use the wrapper as follows:\n\n``` python\nmodel = gensim.models.wrappers.LdaMallet(\n    '/Users/f/Downloads/mallet-2.0.7/bin/mallet',\n    corpus, num_topics=10, id2word=dictionary)\n```\n\nAnd I keep getting an error\n\n_CalledProcessError: Command '/Users/f/Downloads/mallet-2.0.7/bin/mallet import-file --preserve-case --keep-sequence --remove-stopwords --token-regex '\\S+' --input /var/folders/ml/xbzdgxlj3hv5j358pj82ktr80000gn/T/10cc8c_corpus.txt --output /var/folders/ml/xbzdgxlj3hv5j358pj82ktr80000gn/T/10cc8c_corpus.mallet' returned non-zero exit status 2_\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/621/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/621/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/613", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/613/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/613/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/613/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/613", "id": 134758361, "node_id": "MDU6SXNzdWUxMzQ3NTgzNjE=", "number": 613, "title": "The parameter \"minimum_probability\" is not working, why?", "user": {"login": "wjwangjian", "id": 13194009, "node_id": "MDQ6VXNlcjEzMTk0MDA5", "avatar_url": "https://avatars.githubusercontent.com/u/13194009?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wjwangjian", "html_url": "https://github.com/wjwangjian", "followers_url": "https://api.github.com/users/wjwangjian/followers", "following_url": "https://api.github.com/users/wjwangjian/following{/other_user}", "gists_url": "https://api.github.com/users/wjwangjian/gists{/gist_id}", "starred_url": "https://api.github.com/users/wjwangjian/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wjwangjian/subscriptions", "organizations_url": "https://api.github.com/users/wjwangjian/orgs", "repos_url": "https://api.github.com/users/wjwangjian/repos", "events_url": "https://api.github.com/users/wjwangjian/events{/privacy}", "received_events_url": "https://api.github.com/users/wjwangjian/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2016-02-19T03:03:14Z", "updated_at": "2016-02-24T07:14:49Z", "closed_at": "2016-02-24T07:13:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "Os: Win7\nVersion: gensim 0.12.4\nIn ldamodel.py, the parameter \"minimum_probability\" of mothed \"get_document_topics\" is not working. anybody knows why?\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/613/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/613/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/605", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/605/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/605/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/605/events", "html_url": "https://github.com/RaRe-Technologies/gensim/pull/605", "id": 132621672, "node_id": "MDExOlB1bGxSZXF1ZXN0NTg4NTM0MDc=", "number": 605, "title": "Fix RP model loading for large Fortran-order arrays", "user": {"login": "piskvorky", "id": 610412, "node_id": "MDQ6VXNlcjYxMDQxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/610412?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piskvorky", "html_url": "https://github.com/piskvorky", "followers_url": "https://api.github.com/users/piskvorky/followers", "following_url": "https://api.github.com/users/piskvorky/following{/other_user}", "gists_url": "https://api.github.com/users/piskvorky/gists{/gist_id}", "starred_url": "https://api.github.com/users/piskvorky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piskvorky/subscriptions", "organizations_url": "https://api.github.com/users/piskvorky/orgs", "repos_url": "https://api.github.com/users/piskvorky/repos", "events_url": "https://api.github.com/users/piskvorky/events{/privacy}", "received_events_url": "https://api.github.com/users/piskvorky/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}], "state": "closed", "locked": false, "assignee": {"login": "tmylk", "id": 1261528, "node_id": "MDQ6VXNlcjEyNjE1Mjg=", "avatar_url": "https://avatars.githubusercontent.com/u/1261528?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tmylk", "html_url": "https://github.com/tmylk", "followers_url": "https://api.github.com/users/tmylk/followers", "following_url": "https://api.github.com/users/tmylk/following{/other_user}", "gists_url": "https://api.github.com/users/tmylk/gists{/gist_id}", "starred_url": "https://api.github.com/users/tmylk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tmylk/subscriptions", "organizations_url": "https://api.github.com/users/tmylk/orgs", "repos_url": "https://api.github.com/users/tmylk/repos", "events_url": "https://api.github.com/users/tmylk/events{/privacy}", "received_events_url": "https://api.github.com/users/tmylk/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tmylk", "id": 1261528, "node_id": "MDQ6VXNlcjEyNjE1Mjg=", "avatar_url": "https://avatars.githubusercontent.com/u/1261528?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tmylk", "html_url": "https://github.com/tmylk", "followers_url": "https://api.github.com/users/tmylk/followers", "following_url": "https://api.github.com/users/tmylk/following{/other_user}", "gists_url": "https://api.github.com/users/tmylk/gists{/gist_id}", "starred_url": "https://api.github.com/users/tmylk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tmylk/subscriptions", "organizations_url": "https://api.github.com/users/tmylk/orgs", "repos_url": "https://api.github.com/users/tmylk/repos", "events_url": "https://api.github.com/users/tmylk/events{/privacy}", "received_events_url": "https://api.github.com/users/tmylk/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2016-02-10T06:45:10Z", "updated_at": "2016-10-18T11:59:04Z", "closed_at": "2016-10-18T11:59:04Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/pulls/605", "html_url": "https://github.com/RaRe-Technologies/gensim/pull/605", "diff_url": "https://github.com/RaRe-Technologies/gensim/pull/605.diff", "patch_url": "https://github.com/RaRe-Technologies/gensim/pull/605.patch", "merged_at": "2016-10-18T11:59:04Z"}, "body": "...seems like a left-over bug from when `SaveLoad` started storing large arrays separately.\n\nRpModel overloads `__setstate__`, which expected all arrays to be loaded at once. The reason for this overload was to work around a bug in NumPy, which was causing segfaults on using loaded Fortran-order arrays. The fact that we're now loading some object attributes later broke this `__setstate__` functionality, causing an exception [reported by users on the mailing list](https://groups.google.com/forum/#!topic/gensim/BE3qDSNJs54).\n\nThe fix in this PR delays applying the bug workaround for when the loaded array is first _used_ (as opposed to _loaded_).\n\nMight also be worth checking if the NumPy bug (segfault) is still there in the first place, so we could remove the workaround altogether. In fact, NumPy has seen a lot of changes since 2010, so maybe we don't need to keep arrays in Fortran-order at all. Or maybe we still do -- check!\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/605/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/605/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/601", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/601/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/601/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/601/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/601", "id": 131017977, "node_id": "MDU6SXNzdWUxMzEwMTc5Nzc=", "number": 601, "title": "doc2vec most_similar using clip_start:  result indexes are not from clip_start ", "user": {"login": "voloviky", "id": 15631216, "node_id": "MDQ6VXNlcjE1NjMxMjE2", "avatar_url": "https://avatars.githubusercontent.com/u/15631216?v=4", "gravatar_id": "", "url": "https://api.github.com/users/voloviky", "html_url": "https://github.com/voloviky", "followers_url": "https://api.github.com/users/voloviky/followers", "following_url": "https://api.github.com/users/voloviky/following{/other_user}", "gists_url": "https://api.github.com/users/voloviky/gists{/gist_id}", "starred_url": "https://api.github.com/users/voloviky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/voloviky/subscriptions", "organizations_url": "https://api.github.com/users/voloviky/orgs", "repos_url": "https://api.github.com/users/voloviky/repos", "events_url": "https://api.github.com/users/voloviky/events{/privacy}", "received_events_url": "https://api.github.com/users/voloviky/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 233081, "node_id": "MDU6TGFiZWwyMzMwODE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20easy", "name": "difficulty easy", "color": "00ff00", "default": false, "description": "Easy issue: required small fix"}], "state": "closed", "locked": false, "assignee": {"login": "gojomo", "id": 1641, "node_id": "MDQ6VXNlcjE2NDE=", "avatar_url": "https://avatars.githubusercontent.com/u/1641?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gojomo", "html_url": "https://github.com/gojomo", "followers_url": "https://api.github.com/users/gojomo/followers", "following_url": "https://api.github.com/users/gojomo/following{/other_user}", "gists_url": "https://api.github.com/users/gojomo/gists{/gist_id}", "starred_url": "https://api.github.com/users/gojomo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gojomo/subscriptions", "organizations_url": "https://api.github.com/users/gojomo/orgs", "repos_url": "https://api.github.com/users/gojomo/repos", "events_url": "https://api.github.com/users/gojomo/events{/privacy}", "received_events_url": "https://api.github.com/users/gojomo/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gojomo", "id": 1641, "node_id": "MDQ6VXNlcjE2NDE=", "avatar_url": "https://avatars.githubusercontent.com/u/1641?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gojomo", "html_url": "https://github.com/gojomo", "followers_url": "https://api.github.com/users/gojomo/followers", "following_url": "https://api.github.com/users/gojomo/following{/other_user}", "gists_url": "https://api.github.com/users/gojomo/gists{/gist_id}", "starred_url": "https://api.github.com/users/gojomo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gojomo/subscriptions", "organizations_url": "https://api.github.com/users/gojomo/orgs", "repos_url": "https://api.github.com/users/gojomo/repos", "events_url": "https://api.github.com/users/gojomo/events{/privacy}", "received_events_url": "https://api.github.com/users/gojomo/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2016-02-03T13:00:45Z", "updated_at": "2016-11-09T13:03:30Z", "closed_at": "2016-11-09T13:03:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "gensim 0.12.1 doc2vec.\nWhen using clip_start, clip_end in most_similar function, the result gives keys from the start of dataset and not from clip_start.\nIn order to reproduce use:\nclip_start=5, clip_end=10,  topn=5. \nThe results should be items with keys: 5, 6, 7, 8,9.\nBut it gives items with keys: 0, 1, 2, 3, 4.\n\nLook at this part of code in doc2vec.py most_similar function:\n\n```\ndists = dot(self.doctag_syn0norm[clip_start:clip_end], mean)\nif not topn:\n return dists\nbest = matutils.argsort(dists, topn=topn + len(all_docs), reverse=True)\n# ignore (don't return) docs from the input\nresult = [(self._key_index(sim), float(dists[sim])) for sim in best if sim not in all_docs]\nreturn result[:topn]\n```\n\nThe issue is that self._key_index(sim) takes sim, whereas sim is index of best. best doesn't take into consideration clip_start. \nChanging this line solves the issue.\n       `result = [(self._key_index(sim + clip_start), float(dists[sim])) for sim in best if sim not in all_docs]`\nPlease review\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/601/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/601/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/599", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/599/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/599/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/599/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/599", "id": 130617663, "node_id": "MDU6SXNzdWUxMzA2MTc2NjM=", "number": 599, "title": "gensim==0.12.4 mallet wrapper is not compatible with mallet-2.0.7", "user": {"login": "janrygl", "id": 11831178, "node_id": "MDQ6VXNlcjExODMxMTc4", "avatar_url": "https://avatars.githubusercontent.com/u/11831178?v=4", "gravatar_id": "", "url": "https://api.github.com/users/janrygl", "html_url": "https://github.com/janrygl", "followers_url": "https://api.github.com/users/janrygl/followers", "following_url": "https://api.github.com/users/janrygl/following{/other_user}", "gists_url": "https://api.github.com/users/janrygl/gists{/gist_id}", "starred_url": "https://api.github.com/users/janrygl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/janrygl/subscriptions", "organizations_url": "https://api.github.com/users/janrygl/orgs", "repos_url": "https://api.github.com/users/janrygl/repos", "events_url": "https://api.github.com/users/janrygl/events{/privacy}", "received_events_url": "https://api.github.com/users/janrygl/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}], "state": "closed", "locked": false, "assignee": {"login": "tmylk", "id": 1261528, "node_id": "MDQ6VXNlcjEyNjE1Mjg=", "avatar_url": "https://avatars.githubusercontent.com/u/1261528?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tmylk", "html_url": "https://github.com/tmylk", "followers_url": "https://api.github.com/users/tmylk/followers", "following_url": "https://api.github.com/users/tmylk/following{/other_user}", "gists_url": "https://api.github.com/users/tmylk/gists{/gist_id}", "starred_url": "https://api.github.com/users/tmylk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tmylk/subscriptions", "organizations_url": "https://api.github.com/users/tmylk/orgs", "repos_url": "https://api.github.com/users/tmylk/repos", "events_url": "https://api.github.com/users/tmylk/events{/privacy}", "received_events_url": "https://api.github.com/users/tmylk/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tmylk", "id": 1261528, "node_id": "MDQ6VXNlcjEyNjE1Mjg=", "avatar_url": "https://avatars.githubusercontent.com/u/1261528?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tmylk", "html_url": "https://github.com/tmylk", "followers_url": "https://api.github.com/users/tmylk/followers", "following_url": "https://api.github.com/users/tmylk/following{/other_user}", "gists_url": "https://api.github.com/users/tmylk/gists{/gist_id}", "starred_url": "https://api.github.com/users/tmylk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tmylk/subscriptions", "organizations_url": "https://api.github.com/users/tmylk/orgs", "repos_url": "https://api.github.com/users/tmylk/repos", "events_url": "https://api.github.com/users/tmylk/events{/privacy}", "received_events_url": "https://api.github.com/users/tmylk/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 12, "created_at": "2016-02-02T08:57:44Z", "updated_at": "2016-10-06T05:46:37Z", "closed_at": "2016-10-06T05:46:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "Following error is raised for mallet-2.0.7. In mallet-2.0.8RC3, everything passes without any problems.\n\n``` python\nfor doc_no, (topics, stats) in enumerate(zip(model.load_document_topics(), docs.doc_stats)):\n  File \"/software/p27/local/lib/python2.7/site-packages/gensim/models/wrappers/ldamallet.py\", line 271, in read_doctopics\n    raise RuntimeError(\"invalid doc topics format at line %i in %s\" % (lineno + 1, fname))\nRuntimeError: invalid doc topics format at line 3 in /tmp/4303cb_doctopics.txt\n```\n\n``` bash\n$ head -n 5 /tmp/4303cb_doctopics.txt\n#doc name topic proportion ...\n0   0   0   0.9378669927812985  9   0.006903667468744601    8   0.006903667468744601    7   0.006903667468744601    6   0.006903667468744601    5   0.006903667468744601    40.006903667468744601   3   0.006903667468744601    2   0.006903667468744601    1   0.006903667468744601    \n1   1   0   1.0780612802674239  9   0.005575655428533364    8   0.005575655428533364    7   0.005575655428533364    6   0.005575655428533364    5   0.005575655428533364    30.005575655428533364   2   0.005575655428533364    1   0.005575655428533364    \n2   2   0   0.9184413079632608  9   0.009062076892971008    8   0.009062076892971008    7   0.009062076892971008    6   0.009062076892971008    5   0.009062076892971008    40.009062076892971008   3   0.009062076892971008    2   0.009062076892971008    1   0.009062076892971008    \n3   3   0   0.9184413079632608  9   0.009062076892971008    8   0.009062076892971008    7   0.009062076892971008    6   0.009062076892971008    5   0.009062076892971008    40.009062076892971008   3   0.009062076892971008    2   0.009062076892971008    1   0.009062076892971008    \n```\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/599/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/599/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/589", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/589/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/589/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/589/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/589", "id": 128039055, "node_id": "MDU6SXNzdWUxMjgwMzkwNTU=", "number": 589, "title": "Make n_similarity return nan if one of the vectors is empty", "user": {"login": "aewhatley", "id": 11060902, "node_id": "MDQ6VXNlcjExMDYwOTAy", "avatar_url": "https://avatars.githubusercontent.com/u/11060902?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aewhatley", "html_url": "https://github.com/aewhatley", "followers_url": "https://api.github.com/users/aewhatley/followers", "following_url": "https://api.github.com/users/aewhatley/following{/other_user}", "gists_url": "https://api.github.com/users/aewhatley/gists{/gist_id}", "starred_url": "https://api.github.com/users/aewhatley/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aewhatley/subscriptions", "organizations_url": "https://api.github.com/users/aewhatley/orgs", "repos_url": "https://api.github.com/users/aewhatley/repos", "events_url": "https://api.github.com/users/aewhatley/events{/privacy}", "received_events_url": "https://api.github.com/users/aewhatley/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 708355863, "node_id": "MDU6TGFiZWw3MDgzNTU4NjM=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/need%20info", "name": "need info", "color": "fbca04", "default": false, "description": "Not enough information for reproduce an issue, need more info from author"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-01-21T22:44:11Z", "updated_at": "2017-10-17T09:20:02Z", "closed_at": "2017-10-17T09:20:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "Right now, Word2vec.n_similarity will return an array of nan values if one of its inputs is an empty list. I think that for consistency, it should return only one nan element.\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/589/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/589/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/576", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/576/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/576/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/576/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/576", "id": 125782768, "node_id": "MDU6SXNzdWUxMjU3ODI3Njg=", "number": 576, "title": "LDA DeprecationWarning converting an array with ndim > 0 to an index will result in an error", "user": {"login": "tmylk", "id": 1261528, "node_id": "MDQ6VXNlcjEyNjE1Mjg=", "avatar_url": "https://avatars.githubusercontent.com/u/1261528?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tmylk", "html_url": "https://github.com/tmylk", "followers_url": "https://api.github.com/users/tmylk/followers", "following_url": "https://api.github.com/users/tmylk/following{/other_user}", "gists_url": "https://api.github.com/users/tmylk/gists{/gist_id}", "starred_url": "https://api.github.com/users/tmylk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tmylk/subscriptions", "organizations_url": "https://api.github.com/users/tmylk/orgs", "repos_url": "https://api.github.com/users/tmylk/repos", "events_url": "https://api.github.com/users/tmylk/events{/privacy}", "received_events_url": "https://api.github.com/users/tmylk/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2016-01-09T21:32:14Z", "updated_at": "2017-03-12T18:28:49Z", "closed_at": "2017-03-12T18:28:49Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "DeprecationWarning in Python 3 [build](https://travis-ci.org/piskvorky/gensim/jobs/99161647#L86) caused by https://github.com/piskvorky/gensim/blob/develop/gensim/models/ldamodel.py#L874\n\n```\ntestTopTopics (gensim.test.test_ldamodel.TestLdaModel) ... /home/travis/build/piskvorky/gensim/gensim/models/ldamodel.py:874: DeprecationWarning: converting an array with ndim > 0 to an index will result in an error in the future\n  for l in top_words[:m_index - 1]:\nok\n```\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/576/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/576/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/564", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/564/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/564/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/564/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/564", "id": 122672642, "node_id": "MDU6SXNzdWUxMjI2NzI2NDI=", "number": 564, "title": "DTMWrapper does not support Python 3", "user": {"login": "ashishbaghudana", "id": 3714983, "node_id": "MDQ6VXNlcjM3MTQ5ODM=", "avatar_url": "https://avatars.githubusercontent.com/u/3714983?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ashishbaghudana", "html_url": "https://github.com/ashishbaghudana", "followers_url": "https://api.github.com/users/ashishbaghudana/followers", "following_url": "https://api.github.com/users/ashishbaghudana/following{/other_user}", "gists_url": "https://api.github.com/users/ashishbaghudana/gists{/gist_id}", "starred_url": "https://api.github.com/users/ashishbaghudana/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ashishbaghudana/subscriptions", "organizations_url": "https://api.github.com/users/ashishbaghudana/orgs", "repos_url": "https://api.github.com/users/ashishbaghudana/repos", "events_url": "https://api.github.com/users/ashishbaghudana/events{/privacy}", "received_events_url": "https://api.github.com/users/ashishbaghudana/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-12-17T06:44:27Z", "updated_at": "2015-12-17T08:16:22Z", "closed_at": "2015-12-17T08:16:22Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "TypeError: 'str' does not support the buffer interface\n\n``` python\n/Library/Frameworks/Python.framework/Versions/3.4/lib/python3.4/site-packages/gensim/models/wrappers/dtmmodel.py in convert_input(self, corpus, time_slices)\n    173\n    174         with utils.smart_open(self.ftimeslices(), 'wb') as fout:\n--> 175             fout.write(str(len(self.time_slices)) + \"\\n\")\n    176             for sl in time_slices:\n    177                 fout.write(str(sl) + \"\\n\")\n\nTypeError: 'str' does not support the buffer interface\n```\n\nOn Python 3 this might need to be:\n\n``` python\nwith utils.smart_open(self.ftimeslices(), 'wb') as fout:\n    fout.write(bytes(str(len(self.time_slices))), 'utf-8'))\n    for sl in time_slices:\n        fout.write(bytes(str(sl)+'\\n'), 'utf-8'))\n```\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/564/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/564/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/562", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/562/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/562/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/562/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/562", "id": 122032172, "node_id": "MDU6SXNzdWUxMjIwMzIxNzI=", "number": 562, "title": "wrappers.LdaMallet not working ", "user": {"login": "LalaNguyen", "id": 2168614, "node_id": "MDQ6VXNlcjIxNjg2MTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/2168614?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LalaNguyen", "html_url": "https://github.com/LalaNguyen", "followers_url": "https://api.github.com/users/LalaNguyen/followers", "following_url": "https://api.github.com/users/LalaNguyen/following{/other_user}", "gists_url": "https://api.github.com/users/LalaNguyen/gists{/gist_id}", "starred_url": "https://api.github.com/users/LalaNguyen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LalaNguyen/subscriptions", "organizations_url": "https://api.github.com/users/LalaNguyen/orgs", "repos_url": "https://api.github.com/users/LalaNguyen/repos", "events_url": "https://api.github.com/users/LalaNguyen/events{/privacy}", "received_events_url": "https://api.github.com/users/LalaNguyen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2015-12-14T12:21:21Z", "updated_at": "2016-04-02T13:24:53Z", "closed_at": "2016-04-02T13:24:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hey there,\nI'm trying to reproduce the tutorial https://radimrehurek.com/gensim/models/ldamallet.html without success. I invoked the LdaMallet via gensim.models.wrappers.LdaMallet\n\nThe results was nothing.\n![screen shot 2015-12-14 at 7 19 47 pm](https://cloud.githubusercontent.com/assets/2168614/11780851/abc77f46-a297-11e5-8f10-931885e8dab2.png)\n\nI also brought the converted model dumped by gensim to test directly on mallet. They also produced nothing.\n\nIs there any chance that the process of converting gensim corpus to mallet corpus is incorrect ?\n\nLooking forward to seeing your replies ...\n\nMy python : 3.5.1, scipy 0.16.0, gensim 0.12.3, numpy 1-10-1,.\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/562/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/562/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/554", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/554/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/554/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/554/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/554", "id": 119490078, "node_id": "MDU6SXNzdWUxMTk0OTAwNzg=", "number": 554, "title": "python 3.5 support", "user": {"login": "anupamme", "id": 667857, "node_id": "MDQ6VXNlcjY2Nzg1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/667857?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anupamme", "html_url": "https://github.com/anupamme", "followers_url": "https://api.github.com/users/anupamme/followers", "following_url": "https://api.github.com/users/anupamme/following{/other_user}", "gists_url": "https://api.github.com/users/anupamme/gists{/gist_id}", "starred_url": "https://api.github.com/users/anupamme/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anupamme/subscriptions", "organizations_url": "https://api.github.com/users/anupamme/orgs", "repos_url": "https://api.github.com/users/anupamme/repos", "events_url": "https://api.github.com/users/anupamme/events{/privacy}", "received_events_url": "https://api.github.com/users/anupamme/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2015-11-30T13:19:29Z", "updated_at": "2015-12-05T04:41:55Z", "closed_at": "2015-12-05T04:41:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "I downloaded the latest code and ran (after cd into the directory)\n\npython3.5 setup.py test\n\nand I get an error:\n\n```\nFile \"/home/mediratta/gensim/gensim/parsing/preprocessing.py\", line 10, in <module>\n    from gensim import utils\n  File \"/home/mediratta/gensim/gensim/utils.py\", line 49, in <module>\n    from smart_open import smart_open\n  File \"/usr/local/lib/python3.5/dist-packages/smart_open/__init__.py\", line 1, in <module>\n    from .smart_open_lib import *\n  File \"/usr/local/lib/python3.5/dist-packages/smart_open/smart_open_lib.py\", line 35, in <module>\n    from boto.compat import BytesIO, urlsplit, six\n  File \"/usr/local/lib/python3.5/dist-packages/boto/__init__.py\", line 1216, in <module>\n    boto.plugin.load_plugins(config)\n  File \"/usr/local/lib/python3.5/dist-packages/boto/plugin.py\", line 92, in load_plugins\n    for file in glob.glob(os.path.join(directory, '*.py')):\n  File \"/usr/lib/python3.5/posixpath.py\", line 90, in join\n    genericpath._check_arg_types('join', a, *p)\n  File \"/usr/lib/python3.5/genericpath.py\", line 144, in _check_arg_types\n    (funcname, s.__class__.__name__)) from None\nTypeError: join() argument must be str or bytes, not 'NoneType'\n```\n\nAm I missing something here? Or gensim is not supported for python3.5?\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/554/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/554/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/553", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/553/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/553/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/553/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/553", "id": 119435581, "node_id": "MDU6SXNzdWUxMTk0MzU1ODE=", "number": 553, "title": "Problem with python 3.4.3 and gensim", "user": {"login": "nanounanue", "id": 494528, "node_id": "MDQ6VXNlcjQ5NDUyOA==", "avatar_url": "https://avatars.githubusercontent.com/u/494528?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nanounanue", "html_url": "https://github.com/nanounanue", "followers_url": "https://api.github.com/users/nanounanue/followers", "following_url": "https://api.github.com/users/nanounanue/following{/other_user}", "gists_url": "https://api.github.com/users/nanounanue/gists{/gist_id}", "starred_url": "https://api.github.com/users/nanounanue/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nanounanue/subscriptions", "organizations_url": "https://api.github.com/users/nanounanue/orgs", "repos_url": "https://api.github.com/users/nanounanue/repos", "events_url": "https://api.github.com/users/nanounanue/events{/privacy}", "received_events_url": "https://api.github.com/users/nanounanue/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2015-11-30T07:31:26Z", "updated_at": "2015-12-05T04:40:26Z", "closed_at": "2015-12-05T04:39:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "I installed `gensim` using \n\n```\n$ pip install gensim\n```\n\nAnd everythin works correctly:\n\n```\n$ pip list | grep gensim\ngensim (0.12.3)\n```\n\nBut when I tried to import it, the following error occurs:\n\n``` python\n\nIn [1]: import gensim\n===============================\n00001   #include <Python.h>\n00002   #include \"theano_mod_helper.h\"\n00003   #include \"structmember.h\"\n00004   #include <sys/time.h>\n00005\n00006   #if PY_VERSION_HEX >= 0x03000000\n00007   #include \"numpy/npy_3kcompat.h\"\n00008   #define PyCObject_AsVoidPtr  NpyCapsule_AsVoidPtr\n00009   #define PyCObject_GetDesc  NpyCapsule_GetDesc\n00010   #define PyCObject_Check NpyCapsule_Check\n00011   #endif\n00012\n00013   #ifndef Py_TYPE\n00014   #define Py_TYPE(obj) obj->ob_type\n00015   #endif\n00016\n00017   /**\n00018\n00019   TODO:\n00020   - Check max supported depth of recursion\n00021   - CLazyLinker should add context information to errors caught during evaluation. Say what node we were on, add the traceback attached to the node.\n00022   - Clear containers of fully-useed intermediate results if allow_gc is 1\n00023   - Add timers for profiling\n00024   - Add support for profiling space used.\n00025\n00026\n00027     */\n00028   static double pytime(const struct timeval * tv)\n00029   {\n00030     struct timeval t;\n00031     if (!tv)\n00032       {\n00033         tv = &t;\n00034         gettimeofday(&t, NULL);\n00035       }\n00036     return (double) tv->tv_sec + (double) tv->tv_usec / 1000000.0;\n00037   }\n00038\n00039   /**\n00040     Helper routine to convert a PyList of integers to a c array of integers.\n00041     */\n00042   static int unpack_list_of_ssize_t(PyObject * pylist, Py_ssize_t **dst, Py_ssize_t *len,\n00043                                     const char* kwname)\n00044   {\n00045     Py_ssize_t buflen, *buf;\n00046     if (!PyList_Check(pylist))\n00047       {\n00048         PyErr_Format(PyExc_TypeError, \"%s must be list\", kwname);\n00049         return -1;\n00050       }\n00051     assert (NULL == *dst);\n00052     *len = buflen = PyList_Size(pylist);\n00053     *dst = buf = (Py_ssize_t*)calloc(buflen, sizeof(Py_ssize_t));\n00054     assert(buf);\n00055     for (int ii = 0; ii < buflen; ++ii)\n00056       {\n00057         PyObject * el_i = PyList_GetItem(pylist, ii);\n00058         Py_ssize_t n_i = PyNumber_AsSsize_t(el_i, PyExc_IndexError);\n00059         if (PyErr_Occurred())\n00060           {\n00061             free(buf);\n00062             *dst = NULL;\n00063             return -1;\n00064           }\n00065         buf[ii] = n_i;\n00066       }\n00067     return 0;\n00068   }\n00069\n00070   /**\n00071\n00072     CLazyLinker\n00073\n00074\n00075     */\n00076   typedef struct {\n00077       PyObject_HEAD\n00078       /* Type-specific fields go here. */\n00079       PyObject * nodes; // the python list of nodes\n00080       PyObject * thunks; // python list of thunks\n00081       PyObject * pre_call_clear; //list of cells to clear on call.\n00082       int allow_gc;\n00083       Py_ssize_t n_applies;\n00084       int n_vars;    // number of variables in the graph\n00085       int * var_computed; // 1 or 0 for every variable\n00086       PyObject ** var_computed_cells;\n00087       PyObject ** var_value_cells;\n00088       Py_ssize_t **dependencies; // list of vars dependencies for GC\n00089       Py_ssize_t *n_dependencies;\n00090\n00091       Py_ssize_t n_output_vars;\n00092       Py_ssize_t * output_vars; // variables that *must* be evaluated by call\n00093\n00094       int * is_lazy; // 1 or 0 for every thunk\n00095\n00096       Py_ssize_t * var_owner; // nodes[[var_owner[var_idx]]] is var[var_idx]->owner\n00097       int * var_has_owner; //  1 or 0\n00098\n00099       Py_ssize_t * node_n_inputs;\n00100       Py_ssize_t * node_n_outputs;\n00101       Py_ssize_t ** node_inputs;\n00102       Py_ssize_t ** node_outputs;\n00103       Py_ssize_t * node_inputs_outputs_base; // node_inputs and node_outputs point into this\n00104       Py_ssize_t * node_n_prereqs;\n00105       Py_ssize_t ** node_prereqs;\n00106\n00107       Py_ssize_t * update_storage; // input cells to update with the last outputs in output_vars\n00108       Py_ssize_t n_updates;\n00109\n00110       void ** thunk_cptr_fn;\n00111       void ** thunk_cptr_data;\n00112       PyObject * call_times;\n00113       PyObject * call_counts;\n00114       int do_timing;\n00115       int need_update_inputs;\n00116       int position_of_error; // -1 for no error, otw the index into `thunks` that failed.\n00117   } CLazyLinker;\n00118\n00119\n00120   static void\n00121   CLazyLinker_dealloc(PyObject* _self)\n00122   {\n00123     CLazyLinker* self = (CLazyLinker *) _self;\n00124     free(self->thunk_cptr_fn);\n00125     free(self->thunk_cptr_data);\n00126\n00127     free(self->is_lazy);\n00128\n00129     free(self->update_storage);\n00130\n00131     if (self->node_n_prereqs)\n00132       {\n00133         for (int i = 0; i < self->n_applies; ++i)\n00134           {\n00135             free(self->node_prereqs[i]);\n00136           }\n00137       }\n00138     free(self->node_n_prereqs);\n00139     free(self->node_prereqs);\n00140     free(self->node_inputs_outputs_base);\n00141     free(self->node_n_inputs);\n00142     free(self->node_n_outputs);\n00143     free(self->node_inputs);\n00144     free(self->node_outputs);\n00145\n00146     if (self->dependencies)\n00147       {\n00148         for (int i = 0; i < self->n_vars; ++i)\n00149           {\n00150             free(self->dependencies[i]);\n00151           }\n00152         free(self->dependencies);\n00153         free(self->n_dependencies);\n00154       }\n00155\n00156     free(self->var_owner);\n00157     free(self->var_has_owner);\n00158     free(self->var_computed);\n00159     if (self->var_computed_cells)\n00160       {\n00161         for (int i = 0; i < self->n_vars; ++i)\n00162           {\n00163             Py_DECREF(self->var_computed_cells[i]);\n00164             Py_DECREF(self->var_value_cells[i]);\n00165           }\n00166       }\n00167     free(self->var_computed_cells);\n00168     free(self->var_value_cells);\n00169     free(self->output_vars);\n00170\n00171     Py_XDECREF(self->nodes);\n00172     Py_XDECREF(self->thunks);\n00173     Py_XDECREF(self->call_times);\n00174     Py_XDECREF(self->call_counts);\n00175     Py_XDECREF(self->pre_call_clear);\n00176     Py_TYPE(self)->tp_free((PyObject*)self);\n00177   }\n00178   static PyObject *\n00179   CLazyLinker_new(PyTypeObject *type, PyObject *args, PyObject *kwds)\n00180   {\n00181       CLazyLinker *self;\n00182\n00183       self = (CLazyLinker *)type->tp_alloc(type, 0);\n00184       if (self != NULL) {\n00185         self->nodes = NULL;\n00186         self->thunks = NULL;\n00187         self->pre_call_clear = NULL;\n00188\n00189         self->allow_gc = 1;\n00190         self->n_applies = 0;\n00191         self->n_vars = 0;\n00192         self->var_computed = NULL;\n00193         self->var_computed_cells = NULL;\n00194         self->var_value_cells = NULL;\n00195         self->dependencies = NULL;\n00196         self->n_dependencies = NULL;\n00197\n00198         self->n_output_vars = 0;\n00199         self->output_vars = NULL;\n00200\n00201         self->is_lazy = NULL;\n00202\n00203         self->var_owner = NULL;\n00204         self->var_has_owner = NULL;\n00205\n00206         self->node_n_inputs = NULL;\n00207         self->node_n_outputs = NULL;\n00208         self->node_inputs = NULL;\n00209         self->node_outputs = NULL;\n00210         self->node_inputs_outputs_base = NULL;\n00211         self->node_prereqs = NULL;\n00212         self->node_n_prereqs = NULL;\n00213\n00214         self->update_storage = NULL;\n00215         self->n_updates = 0;\n00216\n00217         self->thunk_cptr_data = NULL;\n00218         self->thunk_cptr_fn = NULL;\n00219         self->call_times = NULL;\n00220         self->call_counts = NULL;\n00221         self->do_timing = 0;\n00222\n00223         self->need_update_inputs = 0;\n00224         self->position_of_error = -1;\n00225       }\n00226       return (PyObject *)self;\n00227   }\n00228\n00229   static int\n00230   CLazyLinker_init(CLazyLinker *self, PyObject *args, PyObject *kwds)\n00231   {\n00232       static char *kwlist[] = {\n00233         (char*)\"nodes\",\n00234         (char*)\"thunks\",\n00235         (char*)\"pre_call_clear\",\n00236         (char*)\"allow_gc\",\n00237         (char*)\"call_counts\",\n00238         (char*)\"call_times\",\n00239         (char*)\"compute_map_list\",\n00240         (char*)\"storage_map_list\",\n00241         (char*)\"base_input_output_list\",\n00242         (char*)\"node_n_inputs\",\n00243         (char*)\"node_n_outputs\",\n00244         (char*)\"node_input_offset\",\n00245         (char*)\"node_output_offset\",\n00246         (char*)\"var_owner\",\n00247         (char*)\"is_lazy_list\",\n00248         (char*)\"output_vars\",\n00249         (char*)\"node_prereqs\",\n00250         (char*)\"node_output_size\",\n00251         (char*)\"update_storage\",\n00252         (char*)\"dependencies\",\n00253         NULL};\n00254\n00255       PyObject *compute_map_list=NULL,\n00256                *storage_map_list=NULL,\n00257                *base_input_output_list=NULL,\n00258                *node_n_inputs=NULL,\n00259                *node_n_outputs=NULL,\n00260                *node_input_offset=NULL,\n00261                *node_output_offset=NULL,\n00262                *var_owner=NULL,\n00263                *is_lazy=NULL,\n00264                *output_vars=NULL,\n00265                *node_prereqs=NULL,\n00266                *node_output_size=NULL,\n00267                *update_storage=NULL,\n00268                *dependencies=NULL;\n00269\n00270       assert(!self->nodes);\n00271       if (! PyArg_ParseTupleAndKeywords(args, kwds, \"OOOiOOOOOOOOOOOOOOOO\", kwlist,\n00272                                         &self->nodes,\n00273                                         &self->thunks,\n00274                                         &self->pre_call_clear,\n00275                                         &self->allow_gc,\n00276                                         &self->call_counts,\n00277                                         &self->call_times,\n00278                                         &compute_map_list,\n00279                                         &storage_map_list,\n00280                                         &base_input_output_list,\n00281                                         &node_n_inputs,\n00282                                         &node_n_outputs,\n00283                                         &node_input_offset,\n00284                                         &node_output_offset,\n00285                                         &var_owner,\n00286                                         &is_lazy,\n00287                                         &output_vars,\n00288                                         &node_prereqs,\n00289                                         &node_output_size,\n00290                                         &update_storage,\n00291                                         &dependencies\n00292                                         ))\n00293           return -1;\n00294       Py_INCREF(self->nodes);\n00295       Py_INCREF(self->thunks);\n00296       Py_INCREF(self->pre_call_clear);\n00297       Py_INCREF(self->call_counts);\n00298       Py_INCREF(self->call_times);\n00299\n00300       Py_ssize_t n_applies = PyList_Size(self->nodes);\n00301\n00302       self->n_applies = n_applies;\n00303       self->n_vars = PyList_Size(var_owner);\n00304\n00305       if (PyList_Size(self->thunks) != n_applies) return -1;\n00306       if (PyList_Size(self->call_counts) != n_applies) return -1;\n00307       if (PyList_Size(self->call_times) != n_applies) return -1;\n00308\n00309       // allocated and initialize thunk_cptr_data and thunk_cptr_fn\n00310       if (n_applies)\n00311         {\n00312           self->thunk_cptr_data = (void**)calloc(n_applies, sizeof(void*));\n00313           self->thunk_cptr_fn = (void**)calloc(n_applies, sizeof(void*));\n00314           self->is_lazy = (int*)calloc(n_applies, sizeof(int));\n00315           self->node_prereqs = (Py_ssize_t**)calloc(n_applies, sizeof(Py_ssize_t*));\n00316           self->node_n_prereqs = (Py_ssize_t*)calloc(n_applies, sizeof(Py_ssize_t));\n00317           assert(self->node_prereqs);\n00318           assert(self->node_n_prereqs);\n00319           assert(self->is_lazy);\n00320           assert(self->thunk_cptr_fn);\n00321           assert(self->thunk_cptr_data);\n00322\n00323           for (int i = 0; i < n_applies; ++i)\n00324             {\n00325               PyObject * thunk = PyList_GetItem(self->thunks, i);\n00326               //thunk is borrowed\n00327               if (PyObject_HasAttrString(thunk, \"cthunk\"))\n00328                 {\n00329                   PyObject * cthunk = PyObject_GetAttrString(thunk, \"cthunk\");\n00330                   //new reference\n00331                   assert (cthunk && PyCObject_Check(cthunk));\n00332                   self->thunk_cptr_fn[i] = PyCObject_AsVoidPtr(cthunk);\n00333                   self->thunk_cptr_data[i] = PyCObject_GetDesc(cthunk);\n00334                   Py_DECREF(cthunk);\n00335                   // cthunk is kept alive by membership in self->thunks\n00336                 }\n00337\n00338               PyObject * el_i = PyList_GetItem(is_lazy, i);\n00339               self->is_lazy[i] = PyNumber_AsSsize_t(el_i, NULL);\n00340\n00341               /* now get the prereqs */\n00342               el_i = PyList_GetItem(node_prereqs, i);\n00343               assert (PyList_Check(el_i));\n00344               self->node_n_prereqs[i] = PyList_Size(el_i);\n00345               if (self->node_n_prereqs[i])\n00346                 {\n00347                   self->node_prereqs[i] = (Py_ssize_t*)malloc(\n00348                                 PyList_Size(el_i)*sizeof(Py_ssize_t));\n00349                   for (int j = 0; j < PyList_Size(el_i); ++j)\n00350                     {\n00351                       PyObject * el_ij = PyList_GetItem(el_i, j);\n00352                       Py_ssize_t N = PyNumber_AsSsize_t(el_ij, PyExc_IndexError);\n00353                       if (PyErr_Occurred())\n00354                         return -1;\n00355                       // N < n. variables\n00356                       assert(N < PyList_Size(var_owner));\n00357                       self->node_prereqs[i][j] = N;\n00358                     }\n00359                 }\n00360             }\n00361         }\n00362       if (PyList_Check(base_input_output_list))\n00363         {\n00364           Py_ssize_t n_inputs_outputs_base = PyList_Size(base_input_output_list);\n00365           self->node_inputs_outputs_base = (Py_ssize_t*)calloc(n_inputs_outputs_base,sizeof(Py_ssize_t));\n00366           assert(self->node_inputs_outputs_base);\n00367           for (int i = 0; i < n_inputs_outputs_base; ++i)\n00368             {\n00369               PyObject *el_i = PyList_GetItem(base_input_output_list, i);\n00370               Py_ssize_t idx = PyNumber_AsSsize_t(el_i, PyExc_IndexError);\n00371               if (PyErr_Occurred()) return -1;\n00372               self->node_inputs_outputs_base[i] = idx;\n00373             }\n00374           self->node_n_inputs = (Py_ssize_t*)calloc(n_applies,sizeof(Py_ssize_t));\n00375           assert(self->node_n_inputs);\n00376           self->node_n_outputs = (Py_ssize_t*)calloc(n_applies,sizeof(Py_ssize_t));\n00377           assert(self->node_n_outputs);\n00378           self->node_inputs = (Py_ssize_t**)calloc(n_applies,sizeof(Py_ssize_t*));\n00379           assert(self->node_inputs);\n00380           self->node_outputs = (Py_ssize_t**)calloc(n_applies,sizeof(Py_ssize_t*));\n00381           assert(self->node_outputs);\n00382           for (int i = 0; i < n_applies; ++i)\n00383             {\n00384               Py_ssize_t N;\n00385               N = PyNumber_AsSsize_t(PyList_GetItem(node_n_inputs, i),PyExc_IndexError);\n00386               if (PyErr_Occurred()) return -1;\n00387               assert (N <= n_inputs_outputs_base);\n00388               self->node_n_inputs[i] = N;\n00389               N = PyNumber_AsSsize_t(PyList_GetItem(node_n_outputs, i),PyExc_IndexError);\n00390               if (PyErr_Occurred()) return -1;\n00391               assert (N <= n_inputs_outputs_base);\n00392               self->node_n_outputs[i] = N;\n00393               N = PyNumber_AsSsize_t(PyList_GetItem(node_input_offset, i),PyExc_IndexError);\n00394               if (PyErr_Occurred()) return -1;\n00395               assert (N <= n_inputs_outputs_base);\n00396               self->node_inputs[i] = &self->node_inputs_outputs_base[N];\n00397               N = PyNumber_AsSsize_t(PyList_GetItem(node_output_offset, i),PyExc_IndexError);\n00398               if (PyErr_Occurred()) return -1;\n00399               assert (N <= n_inputs_outputs_base);\n00400               self->node_outputs[i] = &self->node_inputs_outputs_base[N];\n00401             }\n00402         }\n00403       else\n00404         {\n00405           PyErr_SetString(PyExc_TypeError, \"base_input_output_list must be list\");\n00406           return -1;\n00407         }\n00408\n00409       // allocation for var_owner\n00410       if (PyList_Check(var_owner))\n00411         {\n00412           self->var_owner = (Py_ssize_t*)calloc(self->n_vars,sizeof(Py_ssize_t));\n00413           self->var_has_owner = (int*)calloc(self->n_vars,sizeof(int));\n00414           self->var_computed = (int*)calloc(self->n_vars,sizeof(int));\n00415           self->var_computed_cells = (PyObject**)calloc(self->n_vars,sizeof(PyObject*));\n00416           self->var_value_cells = (PyObject**)calloc(self->n_vars,sizeof(PyObject*));\n00417           for (int i = 0; i < self->n_vars; ++i)\n00418             {\n00419               PyObject * el_i = PyList_GetItem(var_owner, i);\n00420               if (el_i == Py_None)\n00421                 {\n00422                   self->var_has_owner[i] = 0;\n00423                 }\n00424               else\n00425                 {\n00426                   Py_ssize_t N = PyNumber_AsSsize_t(el_i, PyExc_IndexError);\n00427                   if (PyErr_Occurred()) return -1;\n00428                   assert (N <= n_applies);\n00429                   self->var_owner[i] = N;\n00430                   self->var_has_owner[i] = 1;\n00431                 }\n00432               self->var_computed_cells[i] = PyList_GetItem(compute_map_list, i);\n00433               Py_INCREF(self->var_computed_cells[i]);\n00434               self->var_value_cells[i] = PyList_GetItem(storage_map_list, i);\n00435               Py_INCREF(self->var_value_cells[i]);\n00436             }\n00437         }\n00438       else\n00439         {\n00440           PyErr_SetString(PyExc_TypeError, \"var_owner must be list\");\n00441           return -1;\n00442         }\n00443\n00444       if (dependencies != Py_None)\n00445         {\n00446           self->dependencies = (Py_ssize_t**)calloc(self->n_vars, sizeof(Py_ssize_t *));\n00447           self->n_dependencies = (Py_ssize_t*)calloc(self->n_vars, sizeof(Py_ssize_t));\n00448           assert(self->dependencies);\n00449           assert(self->n_dependencies);\n00450\n00451           for (int i = 0; i < self->n_vars; ++i)\n00452             {\n00453               PyObject *tmp = PyList_GetItem(dependencies, i);\n00454               // refcounting - tmp is borrowed\n00455               if (unpack_list_of_ssize_t(tmp, &self->dependencies[i], &self->n_dependencies[i],\n00456                                          \"dependencies\"))\n00457                 return -1;\n00458             }\n00459         }\n00460\n00461       if (unpack_list_of_ssize_t(output_vars, &self->output_vars, &self->n_output_vars,\n00462                                  \"output_vars\"))\n00463         return -1;\n00464       for (int i = 0; i < self->n_output_vars; ++i)\n00465         {\n00466           assert(self->output_vars[i] < self->n_vars);\n00467         }\n00468       if (unpack_list_of_ssize_t(update_storage, &self->update_storage, &self->n_updates,\n00469                                  \"updates_storage\"))\n00470         return -1;\n00471       return 0;\n00472   }\n00473   static void set_position_of_error(CLazyLinker * self, int owner_idx)\n00474   {\n00475     if (self->position_of_error == -1)\n00476       {\n00477         self->position_of_error = owner_idx;\n00478       }\n00479   }\n00480   static PyObject * pycall(CLazyLinker * self, Py_ssize_t node_idx, int verbose)\n00481   {\n00482     // call thunk to see which inputs it wants\n00483     PyObject * thunk = PyList_GetItem(self->thunks, node_idx);\n00484     // refcounting - thunk is borrowed\n00485     PyObject * rval = NULL;\n00486     if (self->do_timing)\n00487       {\n00488         double t0 = pytime(NULL);\n00489         if (verbose) fprintf(stderr, \"calling via Python (node %i)\\n\", (int)node_idx);\n00490         rval = PyObject_CallObject(thunk, NULL);\n00491         if (rval)\n00492           {\n00493             double t1 = pytime(NULL);\n00494             double ti = PyFloat_AsDouble(\n00495                            PyList_GetItem(self->call_times, node_idx));\n00496             PyList_SetItem(self->call_times, node_idx,\n00497                            PyFloat_FromDouble(t1 - t0 + ti));\n00498             PyObject * count = PyList_GetItem(self->call_counts, node_idx);\n00499             long icount = PyInt_AsLong(count);\n00500             PyList_SetItem(self->call_counts, node_idx,\n00501                            PyInt_FromLong(icount + 1));\n00502         }\n00503       }\n00504     else\n00505       {\n00506         if (verbose)\n00507           {\n00508             fprintf(stderr, \"calling via Python (node %i)\\n\", (int)node_idx);\n00509           }\n00510         rval = PyObject_CallObject(thunk, NULL);\n00511       }\n00512     return rval;\n00513   }\n00514   static int c_call(CLazyLinker * self, Py_ssize_t node_idx, int verbose)\n00515   {\n00516     void * ptr_addr = self->thunk_cptr_fn[node_idx];\n00517     int (*fn)(void*) = (int (*)(void*))(ptr_addr);\n00518     if (verbose) fprintf(stderr, \"calling non-lazy shortcut (node %i)\\n\", (int)node_idx);\n00519     int err = 0;\n00520     if (self->do_timing)\n00521       {\n00522         double t0 = pytime(NULL);\n00523         err = fn(self->thunk_cptr_data[node_idx]);\n00524         double t1 = pytime(NULL);\n00525         double ti = PyFloat_AsDouble(PyList_GetItem(self->call_times, node_idx));\n00526         PyList_SetItem(self->call_times, node_idx, PyFloat_FromDouble(t1 - t0 + ti));\n00527         PyObject * count = PyList_GetItem(self->call_counts, node_idx);\n00528         long icount = PyInt_AsLong(count);\n00529         PyList_SetItem(self->call_counts, node_idx, PyInt_FromLong(icount+1));\n00530       }\n00531     else\n00532       {\n00533         err = fn(self->thunk_cptr_data[node_idx]);\n00534       }\n00535\n00536     if (err)\n00537       {\n00538         // cast the argument to a PyList (as described near line 226 of cc.py)\n00539         PyObject * __ERROR = ((PyObject**)self->thunk_cptr_data[node_idx])[0];\n00540         assert (PyList_Check(__ERROR));\n00541         assert (PyList_Size(__ERROR) == 3);\n00542         PyObject * err_type = PyList_GetItem(__ERROR, 0); //stolen ref\n00543         PyObject * err_msg = PyList_GetItem(__ERROR, 1); //stolen ref\n00544         PyObject * err_trace = PyList_GetItem(__ERROR, 2); //stolen ref\n00545         PyList_SET_ITEM(__ERROR, 0, Py_None); Py_INCREF(Py_None); //clobbers old ref\n00546         PyList_SET_ITEM(__ERROR, 1, Py_None); Py_INCREF(Py_None); //clobbers old ref\n00547         PyList_SET_ITEM(__ERROR, 2, Py_None); Py_INCREF(Py_None); //clobbers old ref\n00548\n00549         assert(!PyErr_Occurred()); // because CLinker hid the exception in __ERROR aka data\n00550         PyErr_Restore(err_type, err_msg, err_trace); //steals refs to args\n00551       }\n00552     if (err) set_position_of_error(self, node_idx);\n00553     return err;\n00554   }\n00555   static\n00556   int lazy_rec_eval(CLazyLinker * self, Py_ssize_t var_idx, PyObject*one, PyObject*zero)\n00557   {\n00558     PyObject *rval = NULL;\n00559     int verbose = 0;\n00560     int err = 0;\n00561\n00562     if (verbose) fprintf(stderr, \"lazy_rec computing %i\\n\", (int)var_idx);\n00563\n00564     if (self->var_computed[var_idx] || !self->var_has_owner[var_idx])\n00565       return 0;\n00566\n00567     Py_ssize_t owner_idx = self->var_owner[var_idx];\n00568\n00569     // STEP 1: compute the pre-requirements of the node\n00570     // Includes input nodes for non-lazy ops.\n00571     for (int i = 0; i < self->node_n_prereqs[owner_idx]; ++i)\n00572       {\n00573         Py_ssize_t prereq_idx = self->node_prereqs[owner_idx][i];\n00574         if (!self->var_computed[prereq_idx])\n00575           {\n00576             err = lazy_rec_eval(self, prereq_idx, one, zero);\n00577             if (err) return err;\n00578           }\n00579         assert (self->var_computed[prereq_idx]);\n00580       }\n00581\n00582     // STEP 2: compute the node itself\n00583     if (self->is_lazy[owner_idx])\n00584       {\n00585         // update the compute_map cells corresponding to the inputs of this thunk\n00586         for (int i = 0; i < self->node_n_inputs[owner_idx]; ++i)\n00587           {\n00588             int in_idx = self->node_inputs[owner_idx][i];\n00589             if (self->var_computed[in_idx])\n00590               {\n00591                 Py_INCREF(one);\n00592                 err = PyList_SetItem(self->var_computed_cells[in_idx], 0, one);\n00593               }\n00594             else\n00595               {\n00596                 Py_INCREF(zero);\n00597                 err = PyList_SetItem(self->var_computed_cells[in_idx], 0, zero);\n00598               }\n00599             if (err) goto fail;\n00600           }\n00601\n00602         rval = pycall(self, owner_idx, verbose);\n00603         // refcounting - rval is new ref\n00604         //TODO: to prevent infinite loops\n00605         // - consider check that a thunk does not ask for an input that is already computed\n00606         if (rval == NULL)\n00607           {\n00608             assert (PyErr_Occurred());\n00609             err = 1;\n00610             goto fail;\n00611           }\n00612\n00613         //update the computed-ness of any output cells\n00614         for (int i = 0; i < self->node_n_outputs[owner_idx]; ++i)\n00615           {\n00616             int out_idx = self->node_outputs[owner_idx][i];\n00617             PyObject * el_i = PyList_GetItem(self->var_computed_cells[out_idx], 0);\n00618             Py_ssize_t N = PyNumber_AsSsize_t(el_i, PyExc_IndexError);\n00619             if (PyErr_Occurred())\n00620               {\n00621                 err = -1;\n00622                 goto pyfail;\n00623               }\n00624             assert (N==0 || N==1);\n00625             self->var_computed[out_idx] = N;\n00626           }\n00627         if (!self->var_computed[var_idx])\n00628           {\n00629             /*\n00630              * If self is not computed after the call, this means that some\n00631              * inputs are needed.  Compute the ones on the returned list\n00632              * and try to compute the current node again (with recursive call).\n00633              * This allows a node to request more nodes more than once before\n00634              * finally yielding a result.\n00635              */\n00636             if (!PyList_Check(rval))\n00637               {\n00638                 //TODO: More helpful error to help find *which node* made this\n00639                 // bad thunk\n00640                 PyErr_SetString(PyExc_TypeError,\n00641                                 \"lazy thunk should return a list\");\n00642                 err = 1;\n00643                 goto pyfail;\n00644               }\n00645\n00646             if (!PyList_Size(rval))\n00647               {\n00648                 PyErr_SetString(PyExc_ValueError,\n00649                                 \"lazy thunk returned empty list without computing output\");\n00650                 err = 1;\n00651                 goto pyfail;\n00652               }\n00653\n00654             for (int i = 0; i < PyList_Size(rval); ++i)\n00655               {\n00656                 PyObject * el_i = PyList_GetItem(rval, i);\n00657                 Py_ssize_t N = PyNumber_AsSsize_t(el_i, PyExc_IndexError);\n00658                 if (PyErr_Occurred())\n00659                   {\n00660                     err = 1;\n00661                     goto pyfail;\n00662                   }\n00663                 assert (N <= self->node_n_inputs[owner_idx]);\n00664                 Py_ssize_t input_idx = self->node_inputs[owner_idx][N];\n00665                 err = lazy_rec_eval(self, input_idx, one, zero);\n00666                 if (err) goto pyfail;\n00667               }\n00668\n00669             Py_DECREF(rval);\n00670             /*\n00671              * We intentionally skip all the end-of-function processing\n00672              * (mark outputs, GC) as it will be performed by the call\n00673              * that actually manages to compute the result.\n00674              */\n00675             return lazy_rec_eval(self, var_idx, one, zero);\n00676           }\n00677\n00678         Py_DECREF(rval);\n00679       }\n00680     else //owner is not a lazy op. Ensure all intputs are evaluated.\n00681       {\n00682         // loop over inputs to owner\n00683         // call lazy_rec_eval on each one that is not computed.\n00684         // if there's an error, pass it up the stack\n00685         for (int i = 0; i < self->node_n_inputs[owner_idx]; ++i)\n00686           {\n00687             Py_ssize_t input_idx = self->node_inputs[owner_idx][i];\n00688             if (!self->var_computed[input_idx])\n00689               {\n00690                 err = lazy_rec_eval(self, input_idx, one, zero);\n00691                 if (err) return err;\n00692               }\n00693             assert (self->var_computed[input_idx]);\n00694           }\n00695\n00696         // call the thunk for this owner.\n00697         if (self->thunk_cptr_fn[owner_idx])\n00698           {\n00699             err = c_call(self, owner_idx, verbose);\n00700             if (err) goto fail;\n00701           }\n00702         else\n00703           {\n00704             rval = pycall(self, owner_idx, verbose);\n00705             //rval is new ref\n00706             if (rval) //pycall returned normally (no exception)\n00707               {\n00708                 if (rval == Py_None)\n00709                   {\n00710                     Py_DECREF(rval); //ignore a return of None\n00711                   }\n00712                 else if (PyList_Check(rval))\n00713                   {\n00714                     PyErr_SetString(PyExc_TypeError,\n00715                                     \"non-lazy thunk should return None, not list\");\n00716                     err = 1;\n00717                     goto pyfail;\n00718                   }\n00719                 else // don't know what it returned, but it wasn't right.\n00720                   {\n00721                     PyErr_SetObject(PyExc_TypeError, rval);\n00722                     err = 1;\n00723                     // We don't release rval since we put it in the error above\n00724                     goto fail;\n00725                   }\n00726               }\n00727             else // pycall returned NULL (internal error)\n00728               {\n00729                 err = 1;\n00730                 goto fail;\n00731               }\n00732           }\n00733       }\n00734\n00735     // loop over all outputs and mark them as computed\n00736     for (int i = 0; i < self->node_n_outputs[owner_idx]; ++i)\n00737       {\n00738         self->var_computed[self->node_outputs[owner_idx][i]] = 1;\n00739       }\n00740\n00741     // Free vars that are not needed anymore\n00742     if (self->allow_gc)\n00743       {\n00744         for (int i = 0; i < self->node_n_inputs[owner_idx]; ++i)\n00745           {\n00746             int cleanup = 1;\n00747             Py_ssize_t i_idx = self->node_inputs[owner_idx][i];\n00748             if (!self->var_has_owner[i_idx])\n00749               continue;\n00750\n00751             for (int j = 0; j < self->n_output_vars; ++j)\n00752               {\n00753                 if (i_idx == self->output_vars[j])\n00754                   {\n00755                     cleanup = 0;\n00756                     break;\n00757                   }\n00758               }\n00759             if (!cleanup) continue;\n00760\n00761             for (int j = 0; j < self->n_dependencies[i_idx]; ++j)\n00762               {\n00763                 if (!self->var_computed[self->dependencies[i_idx][j]])\n00764                   {\n00765                     cleanup = 0;\n00766                     break;\n00767                   }\n00768               }\n00769             if (!cleanup) continue;\n00770\n00771             Py_INCREF(Py_None);\n00772             err = PyList_SetItem(self->var_value_cells[i_idx], 0, Py_None);\n00773   //See the Stack gc implementation for why we change it to 2 and not 0.\n00774             self->var_computed[i_idx] = 2;\n00775             if (err) goto fail;\n00776           }\n00777       }\n00778\n00779     return 0;\n00780    pyfail:\n00781     Py_DECREF(rval);\n00782    fail:\n00783     set_position_of_error(self, owner_idx);\n00784     return err;\n00785   }\n00786\n00787   static PyObject *\n00788   CLazyLinker_call(PyObject *_self, PyObject *args, PyObject *kwds)\n00789   {\n00790     CLazyLinker * self = (CLazyLinker*)_self;\n00791     static char *kwlist[] = {\n00792       (char*)\"time_thunks\",\n00793       (char *)\"n_calls\",\n00794       NULL};\n00795     int n_calls=1;\n00796     if (! PyArg_ParseTupleAndKeywords(args, kwds, \"|ii\", kwlist,\n00797                                       &self->do_timing,\n00798                                       &n_calls))\n00799       return NULL;\n00800     int err = 0;\n00801     self->position_of_error = -1;\n00802     // create constants used to fill the var_compute_cells\n00803     PyObject * one = PyInt_FromLong(1);\n00804     PyObject * zero = PyInt_FromLong(0);\n00805\n00806     // pre-allocate our return value\n00807     Py_INCREF(Py_None);\n00808     PyObject * rval = Py_None;\n00809     //clear storage of pre_call_clear elements\n00810     for (int call_i = 0; call_i < n_calls && (!err); ++call_i)\n00811       {\n00812         Py_ssize_t n_pre_call_clear = PyList_Size(self->pre_call_clear);\n00813         assert(PyList_Check(self->pre_call_clear));\n00814         for (int i = 0; i < n_pre_call_clear; ++i)\n00815           {\n00816             PyObject * el_i = PyList_GetItem(self->pre_call_clear, i);\n00817             Py_INCREF(Py_None);\n00818             PyList_SetItem(el_i, 0, Py_None);\n00819           }\n00820         //clear the computed flag out of all non-input vars\n00821         for (int i = 0; i < self->n_vars; ++i)\n00822           {\n00823             self->var_computed[i] = !self->var_has_owner[i];\n00824             if (self->var_computed[i])\n00825               {\n00826                 Py_INCREF(one);\n00827                 PyList_SetItem(self->var_computed_cells[i], 0, one);\n00828               }\n00829             else\n00830               {\n00831                 Py_INCREF(zero);\n00832                 PyList_SetItem(self->var_computed_cells[i], 0, zero);\n00833               }\n00834           }\n00835\n00836         for (int i = 0; i < self->n_output_vars && (!err); ++i)\n00837           {\n00838             err = lazy_rec_eval(self, self->output_vars[i], one, zero);\n00839           }\n00840\n00841         if (!err)\n00842           {\n00843             // save references to outputs prior to updating storage containers\n00844             assert (self->n_output_vars >= self->n_updates);\n00845             Py_DECREF(rval);\n00846             rval = PyList_New(self->n_output_vars);\n00847             for (int i = 0; i < (self->n_output_vars); ++i)\n00848               {\n00849                 Py_ssize_t src = self->output_vars[i];\n00850                 PyObject * item = PyList_GetItem(self->var_value_cells[src], 0);\n00851                 if (self->var_computed[src] != 1)\n00852                   {\n00853                     err = 1;\n00854                     PyErr_Format(PyExc_AssertionError,\n00855                                  \"The compute map of output %d should contain \"\n00856                                  \"1 at the end of execution, not %d.\",\n00857                                  i, self->var_computed[src]);\n00858                     break;\n00859                   }\n00860                 Py_INCREF(item);\n00861                 PyList_SetItem(rval, i, item);\n00862               }\n00863           }\n00864\n00865         if (!err)\n00866           {\n00867             // Update the inputs that have an update rule\n00868             for (int i = 0; i < self->n_updates; ++i)\n00869               {\n00870                 PyObject* tmp = PyList_GetItem(rval, self->n_output_vars - self->n_updates + i);\n00871                 Py_INCREF(tmp);\n00872                 Py_ssize_t dst = self->update_storage[i];\n00873                 PyList_SetItem(self->var_value_cells[dst], 0, tmp);\n00874               }\n00875           }\n00876       }\n00877\n00878     /*\n00879       Clear everything that is left and not an output.  This is needed\n00880       for lazy evaluation since the current GC algo is too conservative\n00881       with lazy graphs.\n00882     */\n00883     if (self->allow_gc && !err)\n00884       {\n00885         for (Py_ssize_t i = 0; i < self->n_vars; ++i)\n00886           {\n00887             int do_cleanup = 1;\n00888             if (!self->var_has_owner[i] || !self->var_computed[i])\n00889               continue;\n00890             for (int j = 0; j < self->n_output_vars; ++j)\n00891               {\n00892                 if (i == self->output_vars[j])\n00893                   {\n00894                     do_cleanup = 0;\n00895                     break;\n00896                   }\n00897               }\n00898             if (!do_cleanup)\n00899               continue;\n00900             Py_INCREF(Py_None);\n00901             PyList_SetItem(self->var_value_cells[i], 0, Py_None);\n00902           }\n00903       }\n00904     Py_DECREF(one);\n00905     Py_DECREF(zero);\n00906     if (err)\n00907       {\n00908         Py_DECREF(rval);\n00909         return NULL;\n00910       }\n00911     return rval;\n00912   }\n00913\n00914   #if 0\n00915   static PyMethodDef CLazyLinker_methods[] = {\n00916       {\n00917         //\"name\", (PyCFunction)CLazyLinker_accept, METH_VARARGS, \"Return the name, combining the first and last name\"\n00918       },\n00919       {NULL}  /* Sentinel */\n00920   };\n00921   #endif\n00922\n00923\n00924   static PyObject *\n00925   CLazyLinker_get_allow_gc(CLazyLinker *self, void *closure)\n00926   {\n00927       return PyBool_FromLong(self->allow_gc);\n00928   }\n00929\n00930   static int\n00931   CLazyLinker_set_allow_gc(CLazyLinker *self, PyObject *value, void *closure)\n00932   {\n00933     if(!PyBool_Check(value))\n00934       return -1;\n00935\n00936     if (value == Py_True)\n00937       self->allow_gc = true;\n00938     else\n00939       self->allow_gc = false;\n00940     return 0;\n00941   }\n00942\n00943   static PyGetSetDef CLazyLinker_getset[] = {\n00944     {(char*)\"allow_gc\",\n00945      (getter)CLazyLinker_get_allow_gc,\n00946      (setter)CLazyLinker_set_allow_gc,\n00947      (char*)\"do this function support allow_gc\",\n00948      NULL},\n00949     {NULL, NULL, NULL, NULL}  /* Sentinel */\n00950   };\n00951   static PyMemberDef CLazyLinker_members[] = {\n00952       {(char*)\"nodes\", T_OBJECT_EX, offsetof(CLazyLinker, nodes), 0,\n00953        (char*)\"list of nodes\"},\n00954       {(char*)\"thunks\", T_OBJECT_EX, offsetof(CLazyLinker, thunks), 0,\n00955        (char*)\"list of thunks in program\"},\n00956       {(char*)\"call_counts\", T_OBJECT_EX, offsetof(CLazyLinker, call_counts), 0,\n00957        (char*)\"number of calls of each thunk\"},\n00958       {(char*)\"call_times\", T_OBJECT_EX, offsetof(CLazyLinker, call_times), 0,\n00959        (char*)\"total runtime in each thunk\"},\n00960       {(char*)\"position_of_error\", T_INT, offsetof(CLazyLinker, position_of_error), 0,\n00961        (char*)\"position of failed thunk\"},\n00962       {(char*)\"time_thunks\", T_INT, offsetof(CLazyLinker, do_timing), 0,\n00963        (char*)\"bool: nonzero means call will time thunks\"},\n00964       {(char*)\"need_update_inputs\", T_INT, offsetof(CLazyLinker, need_update_inputs), 0,\n00965        (char*)\"bool: nonzero means Function.__call__ must implement update mechanism\"},\n00966       {NULL}  /* Sentinel */\n00967   };\n00968\n00969   static PyTypeObject lazylinker_ext_CLazyLinkerType = {\n00970   #if defined(NPY_PY3K)\n00971       PyVarObject_HEAD_INIT(NULL, 0)\n00972   #else\n00973       PyObject_HEAD_INIT(NULL)\n00974       0,                         /*ob_size*/\n00975   #endif\n00976       \"lazylinker_ext.CLazyLinker\",             /*tp_name*/\n00977       sizeof(CLazyLinker), /*tp_basicsize*/\n00978       0,                         /*tp_itemsize*/\n00979       CLazyLinker_dealloc,       /*tp_dealloc*/\n00980       0,                         /*tp_print*/\n00981       0,                         /*tp_getattr*/\n00982       0,                         /*tp_setattr*/\n00983       0,                         /*tp_compare*/\n00984       0,                         /*tp_repr*/\n00985       0,                         /*tp_as_number*/\n00986       0,                         /*tp_as_sequence*/\n00987       0,                         /*tp_as_mapping*/\n00988       0,                         /*tp_hash */\n00989       CLazyLinker_call,          /*tp_call*/\n00990       0,                         /*tp_str*/\n00991       0,                         /*tp_getattro*/\n00992       0,                         /*tp_setattro*/\n00993       0,                         /*tp_as_buffer*/\n00994       Py_TPFLAGS_DEFAULT|Py_TPFLAGS_BASETYPE,        /*tp_flags*/\n00995       \"CLazyLinker object\",      /* tp_doc */\n00996       0,                         /* tp_traverse */\n00997       0,                         /* tp_clear */\n00998       0,                         /* tp_richcompare */\n00999       0,                         /* tp_weaklistoffset */\n01000       0,                         /* tp_iter */\n01001       0,                         /* tp_iternext */\n01002       0,//CLazyLinker_methods,       /* tp_methods */\n01003       CLazyLinker_members,       /* tp_members */\n01004       CLazyLinker_getset,        /* tp_getset */\n01005       0,                         /* tp_base */\n01006       0,                         /* tp_dict */\n01007       0,                         /* tp_descr_get */\n01008       0,                         /* tp_descr_set */\n01009       0,                         /* tp_dictoffset */\n01010       (initproc)CLazyLinker_init,/* tp_init */\n01011       0,                         /* tp_alloc */\n01012       CLazyLinker_new,           /* tp_new */\n01013   };\n01014\n01015   static PyObject * get_version(PyObject *dummy, PyObject *args)\n01016   {\n01017     PyObject *result = PyFloat_FromDouble(0.21);\n01018     return result;\n01019   }\n01020\n01021   static PyMethodDef lazylinker_ext_methods[] = {\n01022     {\"get_version\",  get_version, METH_VARARGS, \"Get extension version.\"},\n01023     {NULL, NULL, 0, NULL}        /* Sentinel */\n01024   };\n01025\n01026   #if defined(NPY_PY3K)\n01027   static struct PyModuleDef moduledef = {\n01028           PyModuleDef_HEAD_INIT,\n01029           \"lazylinker_ext\",\n01030           NULL,\n01031           -1,\n01032           lazylinker_ext_methods,\n01033           NULL,\n01034           NULL,\n01035           NULL,\n01036           NULL\n01037   };\n01038   #endif\n01039   #if defined(NPY_PY3K)\n01040   #define RETVAL m\n01041   PyMODINIT_FUNC\n01042   PyInit_lazylinker_ext(void) {\n01043   #else\n01044   #define RETVAL\n01045   PyMODINIT_FUNC\n01046   initlazylinker_ext(void)\n01047   {\n01048   #endif\n01049       PyObject* m;\n01050\n01051       lazylinker_ext_CLazyLinkerType.tp_new = PyType_GenericNew;\n01052       if (PyType_Ready(&lazylinker_ext_CLazyLinkerType) < 0)\n01053           return RETVAL;\n01054   #if defined(NPY_PY3K)\n01055       m = PyModule_Create(&moduledef);\n01056   #else\n01057       m = Py_InitModule3(\"lazylinker_ext\", lazylinker_ext_methods,\n01058                          \"Example module that creates an extension type.\");\n01059   #endif\n01060       Py_INCREF(&lazylinker_ext_CLazyLinkerType);\n01061       PyModule_AddObject(m, \"CLazyLinker\", (PyObject *)&lazylinker_ext_CLazyLinkerType);\n01062\n01063       return RETVAL;\n01064   }\n01065\n===============================\nProblem occurred during compilation with the command line below:\n/usr/bin/g++ -shared -g -march=broadwell -mmmx -mno-3dnow -msse -msse2 -msse3 -mssse3 -mno-sse4a -mcx16 -msahf -mmovbe -maes -mno-sha -mpclmul -mpopcnt -mabm -mno-lwp -mfma -mno-fma4 -mno-xop -mbmi -mbmi2 -mno-tbm -mavx -mavx2 -msse4.2 -msse4.1 -mlzcnt -mno-rtm -mno-hle -mrdrnd -mf16c -mfsgsbase -mrdseed -mprfchw -madx -mfxsr -mxsave -mxsaveopt -mno-avx512f -mno-avx512er -mno-avx512cd -mno-avx512pf -mno-prefetchwt1 -mno-clflushopt -mno-xsavec -mno-xsaves -mno-avx512dq -mno-avx512bw -mno-avx512vl -mno-avx512ifma -mno-avx512vbmi -mno-clwb -mno-pcommit -mno-mwaitx --param l1-cache-size=32 --param l1-cache-line-size=64 --param l2-cache-size=4096 -mtune=broadwell -D NPY_NO_DEPRECATED_API=NPY_1_7_API_VERSION -m64 -fPIC -I/home/nanounanue/.pyenv/versions/3.4.3/lib/python3.4/site-packages/numpy/core/include -I/home/nanounanue/.pyenv/versions/3.4.3/include/python3.4m -I/home/nanounanue/.pyenv/versions/3.4.3/lib/python3.4/site-packages/theano/gof -fvisibility=hidden -o /home/nanounanue/.theano/compiledir_Linux-4.2--generic-x86_64-with-debian-jessie-sid-x86_64-3.4.3-64/lazylinker_ext/lazylinker_ext.so /home/nanounanue/.theano/compiledir_Linux-4.2--generic-x86_64-with-debian-jessie-sid-x86_64-3.4.3-64/lazylinker_ext/mod.cpp -L/home/nanounanue/.pyenv/versions/3.4.3/lib -lpython3.4m\n/usr/bin/ld: /home/nanounanue/.pyenv/versions/3.4.3/lib/libpython3.4m.a(abstract.o): no se puede usar la reubicaci\u00f3n R_X86_64_32S contra `_Py_NotImplementedStruct' cuando se hace un objeto compartido; recompile con -fPIC\n/home/nanounanue/.pyenv/versions/3.4.3/lib/libpython3.4m.a: error adding symbols: Valor err\u00f3neo\ncollect2: error: ld returned 1 exit status\n\n---------------------------------------------------------------------------\nImportError                               Traceback (most recent call last)\n/home/nanounanue/.pyenv/versions/3.4.3/lib/python3.4/site-packages/theano/gof/lazylinker_c.py in <module>()\n     73         if version != getattr(lazylinker_ext, '_version', None):\n---> 74             raise ImportError()\n     75 except ImportError:\n\nImportError:\n\nDuring handling of the above exception, another exception occurred:\n\nImportError                               Traceback (most recent call last)\n/home/nanounanue/.pyenv/versions/3.4.3/lib/python3.4/site-packages/theano/gof/lazylinker_c.py in <module>()\n     90             if version != getattr(lazylinker_ext, '_version', None):\n---> 91                 raise ImportError()\n     92         except ImportError:\n\nImportError:\n\nDuring handling of the above exception, another exception occurred:\n\nException                                 Traceback (most recent call last)\n<ipython-input-1-ec15f3ffe0f1> in <module>()\n----> 1 import gensim\n\n/home/nanounanue/.pyenv/versions/3.4.3/lib/python3.4/site-packages/gensim/__init__.py in <module>()\n      4 \"\"\"\n      5\n----> 6 from gensim import parsing, matutils, interfaces, corpora, models, similarities, summarization\n      7 import logging\n      8\n\n/home/nanounanue/.pyenv/versions/3.4.3/lib/python3.4/site-packages/gensim/corpora/__init__.py in <module>()\n     16 from .ucicorpus import UciCorpus\n     17 from .malletcorpus import MalletCorpus\n---> 18 from .sharded_corpus import ShardedCorpus\n\n/home/nanounanue/.pyenv/versions/3.4.3/lib/python3.4/site-packages/gensim/corpora/sharded_corpus.py in <module>()\n     32 _default_dtype = float\n     33 try:\n---> 34     import theano\n     35     _default_dtype = theano.config.floatX\n     36 except ImportError:\n\n/home/nanounanue/.pyenv/versions/3.4.3/lib/python3.4/site-packages/theano/__init__.py in <module>()\n     61     object2, utils)\n     62\n---> 63 from theano.compile import (\n     64     SymbolicInput, In,\n     65     SymbolicOutput, Out,\n\n/home/nanounanue/.pyenv/versions/3.4.3/lib/python3.4/site-packages/theano/compile/__init__.py in <module>()\n      7         SpecifyShape, specify_shape, register_specify_shape_c_code)\n      8\n----> 9 from theano.compile.function_module import *\n     10\n     11 from theano.compile.mode import *\n\n/home/nanounanue/.pyenv/versions/3.4.3/lib/python3.4/site-packages/theano/compile/function_module.py in <module>()\n     20 from theano.compat import izip\n     21 from theano.gof import graph\n---> 22 import theano.compile.mode\n     23 from theano.compile.io import (\n     24     In, SymbolicInput, SymbolicInputKit, SymbolicOutput)\n\n/home/nanounanue/.pyenv/versions/3.4.3/lib/python3.4/site-packages/theano/compile/mode.py in <module>()\n     10 import theano\n     11 from theano import gof\n---> 12 import theano.gof.vm\n     13 from theano.configparser import config, AddConfigVar, StrParam\n     14 from theano.compile.ops import _output_guard\n\n/home/nanounanue/.pyenv/versions/3.4.3/lib/python3.4/site-packages/theano/gof/vm.py in <module>()\n    670\n    671 try:\n--> 672     from . import lazylinker_c\n    673\n    674     class CVM(lazylinker_c.CLazyLinker, VM):\n\n/home/nanounanue/.pyenv/versions/3.4.3/lib/python3.4/site-packages/theano/gof/lazylinker_c.py in <module>()\n    124             args = cmodule.GCC_compiler.compile_args()\n    125             cmodule.GCC_compiler.compile_str(dirname, code, location=loc,\n--> 126                                              preargs=args)\n    127             # Save version into the __init__.py file.\n    128             init_py = os.path.join(loc, '__init__.py')\n\n/home/nanounanue/.pyenv/versions/3.4.3/lib/python3.4/site-packages/theano/gof/cmodule.py in compile_str(module_name, src_code, location, include_dirs, lib_dirs, libs, preargs, py_module, hide_symbols)\n   2172             # difficult to read.\n   2173             raise Exception('Compilation failed (return status=%s): %s' %\n-> 2174                             (status, compile_stderr.replace('\\n', '. ')))\n   2175         elif config.cmodule.compilation_warning and compile_stderr:\n   2176             # Print errors just below the command line.\n\nException: Compilation failed (return status=1): /usr/bin/ld: /home/nanounanue/.pyenv/versions/3.4.3/lib/libpython3.4m.a(abstract.o): no se puede usar la reubicaci\u00f3n R_X86_64_32S contra `_Py_NotImplementedStruct' cuando se hace un objeto compartido; recompile con -fPIC. /home/nanounanue/.pyenv/versions/3.4.3/lib/libpython3.4m.a: error adding symbols: Valor err\u00f3neo. collect2: error: ld returned 1 exit status.\n\nIn [2]:\n```\n\nIf try the same command the error changes:\n\n``` python\n\nIn [8]: import gensim\n---------------------------------------------------------------------------\nImportError                               Traceback (most recent call last)\n<ipython-input-8-ec15f3ffe0f1> in <module>()\n----> 1 import gensim\n\n/home/nanounanue/.pyenv/versions/3.4.3/lib/python3.4/site-packages/gensim/__init__.py in <module>()\n      4 \"\"\"\n      5\n----> 6 from gensim import parsing, matutils, interfaces, corpora, models, similarities, summarization\n      7 import logging\n      8\n\n/home/nanounanue/.pyenv/versions/3.4.3/lib/python3.4/site-packages/gensim/models/__init__.py in <module>()\n      5\n      6 # bring model classes directly into package namespace, to save some typing\n----> 7 from .hdpmodel import HdpModel\n      8 from .ldamodel import LdaModel\n      9 from .lsimodel import LsiModel\n\n/home/nanounanue/.pyenv/versions/3.4.3/lib/python3.4/site-packages/gensim/models/hdpmodel.py in <module>()\n     41 import scipy.special as sp\n     42\n---> 43 from gensim import interfaces, utils, matutils\n     44 from six.moves import xrange\n     45\n\nImportError: cannot import name 'interfaces'\n```\n\nMy environment is:\n\n```\n$ python -V\nPython 3.4.3\n```\n\n```\n$ pip list\nblaze (0.8.3)\nbokeh (0.10.0)\nboto (2.38.0)\nbz2file (0.98)\ncached-property (1.2.0)\ndatashape (0.4.7)\ndecorator (4.0.4)\ndocutils (0.12)\nFlask (0.10.1)\ngensim (0.12.3)\nhttpretty (0.8.6)\nipykernel (4.0.3)\nipython (4.0.0)\nipython-genutils (0.1.0)\nipywidgets (4.0.3)\nitsdangerous (0.24)\nJinja2 (2.8)\njsonschema (2.5.1)\njupyter (1.0.0)\njupyter-client (4.0.0)\njupyter-console (4.0.2)\njupyter-core (4.0.6)\nlockfile (0.11.0)\nluigi (2.0.0)\nMarkupSafe (0.23)\nmatplotlib (1.4.3)\nmistune (0.7.1)\nmultipledispatch (0.4.8)\nnbconvert (4.0.0)\nnbformat (4.0.0)\nnetworkx (1.10)\nnltk (3.1)\nnose (1.3.7)\nnotebook (4.0.5)\nnumpy (1.10.1)\nodo (0.3.4)\npandas (0.17.0)\npath.py (8.1.1)\npbr (0.11.0)\npexpect (3.3)\npickleshare (0.5)\npip (7.1.2)\nprotobuf (2.6.1)\npsutil (3.2.2)\nptyprocess (0.5)\nPygments (2.0.2)\npymc3 (3.0)\npyparsing (2.0.3)\nPyPDF2 (1.25.1)\npython-daemon (2.0.6)\npython-dateutil (2.4.2)\npytz (2015.6)\nPyYAML (3.11)\npyzmq (14.7.0)\nqtconsole (4.0.1)\nrequests (2.8.1)\nscikit-learn (0.16.1)\nscipy (0.16.1)\nseaborn (0.6.0)\nsetuptools (18.4)\nsimplegeneric (0.8.1)\nsix (1.10.0)\nsmart-open (1.3.0)\nSQLAlchemy (1.0.8)\nterminado (0.5)\ntextblob (0.11.0)\nTheano (0.7.0)\ntoolz (0.7.4)\ntornado (4.2.1)\ntraitlets (4.0.0)\nWerkzeug (0.10.4)\n\n```\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/553/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/553/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/532", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/532/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/532/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/532/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/532", "id": 117469942, "node_id": "MDU6SXNzdWUxMTc0Njk5NDI=", "number": 532, "title": "Doc2vec not parallelizing", "user": {"login": "fccoelho", "id": 140123, "node_id": "MDQ6VXNlcjE0MDEyMw==", "avatar_url": "https://avatars.githubusercontent.com/u/140123?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fccoelho", "html_url": "https://github.com/fccoelho", "followers_url": "https://api.github.com/users/fccoelho/followers", "following_url": "https://api.github.com/users/fccoelho/following{/other_user}", "gists_url": "https://api.github.com/users/fccoelho/gists{/gist_id}", "starred_url": "https://api.github.com/users/fccoelho/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fccoelho/subscriptions", "organizations_url": "https://api.github.com/users/fccoelho/orgs", "repos_url": "https://api.github.com/users/fccoelho/repos", "events_url": "https://api.github.com/users/fccoelho/events{/privacy}", "received_events_url": "https://api.github.com/users/fccoelho/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 233082, "node_id": "MDU6TGFiZWwyMzMwODI=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20hard", "name": "difficulty hard", "color": "00a000", "default": false, "description": "Hard issue: required deep gensim understanding & high python/cython skills"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 55, "created_at": "2015-11-17T22:51:19Z", "updated_at": "2017-10-10T07:48:54Z", "closed_at": "2017-10-10T07:48:54Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Doc2vec does not use all my cores despite my setting workers=8 when I instantiate it.\n\nMy install passes the assert below:\n\n``` python\nassert gensim.models.doc2vec.FAST_VERSION > -1\n```\n\nDo I have to do something else?\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/532/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/532/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/505", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/505/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/505/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/505/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/505", "id": 114389937, "node_id": "MDU6SXNzdWUxMTQzODk5Mzc=", "number": 505, "title": "numpy==1.7.1 and gensim", "user": {"login": "vlad17", "id": 5834964, "node_id": "MDQ6VXNlcjU4MzQ5NjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/5834964?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vlad17", "html_url": "https://github.com/vlad17", "followers_url": "https://api.github.com/users/vlad17/followers", "following_url": "https://api.github.com/users/vlad17/following{/other_user}", "gists_url": "https://api.github.com/users/vlad17/gists{/gist_id}", "starred_url": "https://api.github.com/users/vlad17/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vlad17/subscriptions", "organizations_url": "https://api.github.com/users/vlad17/orgs", "repos_url": "https://api.github.com/users/vlad17/repos", "events_url": "https://api.github.com/users/vlad17/events{/privacy}", "received_events_url": "https://api.github.com/users/vlad17/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 175986, "node_id": "MDU6TGFiZWwxNzU5ODY=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/testing", "name": "testing", "color": "444444", "default": false, "description": "Issue related with testing (code, documentation, etc)"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2015-10-31T06:00:39Z", "updated_at": "2015-12-02T12:21:24Z", "closed_at": "2015-12-02T12:21:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "On a bare environment with numpy==1.7.1 installed, gensim installs successfully but doesn't import. See the following transcript:\n\n``` bash\nvlad@vladT450s:~$ pip --version\npip 1.5.4 from /usr/lib/python3/dist-packages (python 3.4)\n\nvlad@vladT450s:~$ cd /tmp/\n\nvlad@vladT450s:/tmp$ virtualenv .\nUsing base prefix '/usr'\nNew python executable in ./bin/python3\nAlso creating executable in ./bin/python\nInstalling setuptools, pip, wheel...done.\n\nvlad@vladT450s:/tmp$ . bin/activate\n\n(tmp)vlad@vladT450s:/tmp$ pip install numpy==1.7.1\nCollecting numpy==1.7.1\n  Downloading numpy-1.7.1.tar.gz (2.8MB)\n    100% |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 2.8MB 251kB/s \nBuilding wheels for collected packages: numpy\n  Running setup.py bdist_wheel for numpy\n  Stored in directory: \n/home/vlad/.cache/pip/wheels/85/29/07/a25278230bd2788be0d5bfecca36422df8a1b1607d285d4cdf\nSuccessfully built numpy\nInstalling collected packages: numpy\nSuccessfully installed numpy-1.7.1\n\n(tmp)vlad@vladT450s:/tmp$ pip install gensim\nCollecting gensim\nCollecting six>=1.5.0 (from gensim)\n  Using cached six-1.10.0-py2.py3-none-any.whl\nRequirement already satisfied (use --upgrade to upgrade): numpy>=1.3 in ./lib/python3.4/site-packages (from gensim)\nCollecting smart-open>=1.2.1 (from gensim)\nCollecting scipy>=0.7.0 (from gensim)\n  Using cached scipy-0.16.1.tar.gz\nCollecting requests (from smart-open>=1.2.1->gensim)\n  Using cached requests-2.8.1-py2.py3-none-any.whl\nCollecting bz2file (from smart-open>=1.2.1->gensim)\nCollecting boto>=2.32 (from smart-open>=1.2.1->gensim)\n  Using cached boto-2.38.0-py2.py3-none-any.whl\nCollecting httpretty==0.8.6 (from smart-open>=1.2.1->gensim)\nBuilding wheels for collected packages: scipy\n  Running setup.py bdist_wheel for scipy\n  Stored in directory: /home/vlad/.cache/pip/wheels/84/d5/73/ad1d93891b39dcc3197feb26d56ae16eb004110379c215184b\nSuccessfully built scipy\nInstalling collected packages: scipy, gensim\nSuccessfully installed gensim-0.12.2 scipy-0.16.1\n\n(tmp)vlad@vladT450s:/tmp$ python\nPython 3.4.3 (default, Oct 14 2015, 20:28:29) \n[GCC 4.8.4] on linux\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n>>> import gensim\nTraceback (most recent call last):\n  File \"<stdin>\", line 1, in <module>\n  File \"/tmp/lib/python3.4/site-packages/gensim/__init__.py\", line 6, in <module>\n    from gensim import parsing, matutils, interfaces, corpora, models, similarities, summarization\n  File \"/tmp/lib/python3.4/site-packages/gensim/models/__init__.py\", line 13, in <module>\n    from .word2vec import Word2Vec\n  File \"/tmp/lib/python3.4/site-packages/gensim/models/word2vec.py\", line 100, in <module>\n    from gensim.models.word2vec_inner import train_sentence_sg, train_sentence_cbow, FAST_VERSION\n  File \"__init__.pxd\", line 864, in init gensim.models.word2vec_inner (./gensim/models/word2vec_inner.c:9265)\nValueError: numpy.ufunc has the wrong size, try recompiling\n```\n\nI was able to replicate this in two environments, Springdale 7 and Ubuntu 14.04\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/505/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/505/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/499", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/499/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/499/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/499/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/499", "id": 113161950, "node_id": "MDU6SXNzdWUxMTMxNjE5NTA=", "number": 499, "title": "Don't allow saving incomplete word2vec objects", "user": {"login": "piskvorky", "id": 610412, "node_id": "MDQ6VXNlcjYxMDQxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/610412?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piskvorky", "html_url": "https://github.com/piskvorky", "followers_url": "https://api.github.com/users/piskvorky/followers", "following_url": "https://api.github.com/users/piskvorky/following{/other_user}", "gists_url": "https://api.github.com/users/piskvorky/gists{/gist_id}", "starred_url": "https://api.github.com/users/piskvorky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piskvorky/subscriptions", "organizations_url": "https://api.github.com/users/piskvorky/orgs", "repos_url": "https://api.github.com/users/piskvorky/repos", "events_url": "https://api.github.com/users/piskvorky/events{/privacy}", "received_events_url": "https://api.github.com/users/piskvorky/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 233081, "node_id": "MDU6TGFiZWwyMzMwODE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20easy", "name": "difficulty easy", "color": "00ff00", "default": false, "description": "Easy issue: required small fix"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-10-24T14:01:37Z", "updated_at": "2015-11-25T02:48:52Z", "closed_at": "2015-11-25T02:48:52Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "From a [mailing list report](https://groups.google.com/forum/#!topic/gensim/1z0S8TBnkUA):\n\nCurrently, when a word2vec object is loaded from the C tool via `load_word2vec_format`, it can be saved with `model.save()`. But loading such saved model back with `load()` results in an error. Vital pieces of the object are missing, the C format is incomplete.\n\nThis is undesirable and unintuitive behaviour.\n\nSolution:\n- either refuse to save: throw an explicit exception that necessary structures are missing\n- or (better) make those structures not necessary. If the object serves its purpose after `load_word2vec_format`, without those structures, it might as well serve its purpose after `load`, again without those structures.\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/499/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/499/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/483", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/483/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/483/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/483/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/483", "id": 111796793, "node_id": "MDU6SXNzdWUxMTE3OTY3OTM=", "number": 483, "title": "Doc2Vec.infer_vector: AttributeError: 'Doc2Vec' object has no attribute 'syn1'", "user": {"login": "codingluke", "id": 643436, "node_id": "MDQ6VXNlcjY0MzQzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/643436?v=4", "gravatar_id": "", "url": "https://api.github.com/users/codingluke", "html_url": "https://github.com/codingluke", "followers_url": "https://api.github.com/users/codingluke/followers", "following_url": "https://api.github.com/users/codingluke/following{/other_user}", "gists_url": "https://api.github.com/users/codingluke/gists{/gist_id}", "starred_url": "https://api.github.com/users/codingluke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/codingluke/subscriptions", "organizations_url": "https://api.github.com/users/codingluke/orgs", "repos_url": "https://api.github.com/users/codingluke/repos", "events_url": "https://api.github.com/users/codingluke/events{/privacy}", "received_events_url": "https://api.github.com/users/codingluke/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 175643, "node_id": "MDU6TGFiZWwxNzU2NDM=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/documentation", "name": "documentation", "color": "02d7e1", "default": true, "description": "Current issue related to documentation"}, {"id": 233081, "node_id": "MDU6TGFiZWwyMzMwODE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20easy", "name": "difficulty easy", "color": "00ff00", "default": false, "description": "Easy issue: required small fix"}, {"id": 1584013467, "node_id": "MDU6TGFiZWwxNTg0MDEzNDY3", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/conda", "name": "conda", "color": "c9ef58", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "gojomo", "id": 1641, "node_id": "MDQ6VXNlcjE2NDE=", "avatar_url": "https://avatars.githubusercontent.com/u/1641?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gojomo", "html_url": "https://github.com/gojomo", "followers_url": "https://api.github.com/users/gojomo/followers", "following_url": "https://api.github.com/users/gojomo/following{/other_user}", "gists_url": "https://api.github.com/users/gojomo/gists{/gist_id}", "starred_url": "https://api.github.com/users/gojomo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gojomo/subscriptions", "organizations_url": "https://api.github.com/users/gojomo/orgs", "repos_url": "https://api.github.com/users/gojomo/repos", "events_url": "https://api.github.com/users/gojomo/events{/privacy}", "received_events_url": "https://api.github.com/users/gojomo/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gojomo", "id": 1641, "node_id": "MDQ6VXNlcjE2NDE=", "avatar_url": "https://avatars.githubusercontent.com/u/1641?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gojomo", "html_url": "https://github.com/gojomo", "followers_url": "https://api.github.com/users/gojomo/followers", "following_url": "https://api.github.com/users/gojomo/following{/other_user}", "gists_url": "https://api.github.com/users/gojomo/gists{/gist_id}", "starred_url": "https://api.github.com/users/gojomo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gojomo/subscriptions", "organizations_url": "https://api.github.com/users/gojomo/orgs", "repos_url": "https://api.github.com/users/gojomo/repos", "events_url": "https://api.github.com/users/gojomo/events{/privacy}", "received_events_url": "https://api.github.com/users/gojomo/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 19, "created_at": "2015-10-16T09:39:17Z", "updated_at": "2022-03-01T23:03:06Z", "closed_at": "2022-03-01T23:03:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi all,\nI trained a `Doc2Vec` model successfully with the data of the Kaggle Tutorial \"Bag of Words Meets Bags of Popcorn\" https://www.kaggle.com/c/word2vec-nlp-tutorial/data. The methods `most_similar` and `doesnt_match` are working like expected.\n\nHowever, when I use the `infer_vector` method, the error **AttributeError: 'Doc2Vec' object has no attribute 'syn1'** arises. When I check the model, there is just an model.syn0 available.\n\n**Systeminfo**\n\nMacOSX 10.10.5, \nPython 2.7.10\n\n**Packages** (I don't use Cyclone at the moment...)\n\nboto (2.38.0)\nbz2file (0.98)\ngensim (0.12.2)\nhttpretty (0.8.6)\nnumpy (1.10.1)\npip (7.1.2)\nrequests (2.8.1)\nscipy (0.16.0)\nsetuptools (18.2)\nsix (1.10.0)\nsmart-open (1.3.0)\nwheel (0.24.0\n\n**Example in IPython**\n\n``` ipython\nIn [5]: from gensim.models import Doc2Vec\nIn [6]: model = Doc2Vec.load('./Doc2Vec300features_40minwords_10context')\nIn [7]: model.infer_vector(\"hallo ich bin ein text\".split())\n---------------------------------------------------------------------------\nAttributeError                            Traceback (most recent call last)\n<ipython-input-7-c4a827fd56d1> in <module>()\n----> 1 model.infer_vector(\"hallo ich bin ein text\".split())\n\n/Users/{myuser}/Documents/Dev/virt_env2/lib/python2.7/site-packages/gensim/models/doc2vec.pyc in infer_vector(self, doc_words, alpha, min_alpha, steps)\n    694                 train_document_dm(self, doc_words, doctag_indexes, alpha, work, neu1,\n    695                                   learn_words=False, learn_hidden=False,\n--> 696                                   doctag_vectors=doctag_vectors, doctag_locks=doctag_locks)\n    697             alpha = ((alpha - min_alpha) / (steps - i)) + min_alpha\n    698\n\n/Users/{myuser}/Documents/Dev/virt_env2/lib/python2.7/site-packages/gensim/models/doc2vec_inner.pyx in gensim.models.doc2vec_inner.train_document_dm (./gensim/models/doc2vec_inner.c:4736)()\n    419\n    420     if hs:\n--> 421         syn1 = <REAL_t *>(np.PyArray_DATA(model.syn1))\n    422\n    423     if negative:\n\nAttributeError: 'Doc2Vec' object has no attribute 'syn1'\n```\n\nTHX for your Help! :)\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/483/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/483/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/462", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/462/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/462/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/462/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/462", "id": 107923553, "node_id": "MDU6SXNzdWUxMDc5MjM1NTM=", "number": 462, "title": "`scipy.sparse.sparsetools` deprecated", "user": {"login": "piskvorky", "id": 610412, "node_id": "MDQ6VXNlcjYxMDQxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/610412?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piskvorky", "html_url": "https://github.com/piskvorky", "followers_url": "https://api.github.com/users/piskvorky/followers", "following_url": "https://api.github.com/users/piskvorky/following{/other_user}", "gists_url": "https://api.github.com/users/piskvorky/gists{/gist_id}", "starred_url": "https://api.github.com/users/piskvorky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piskvorky/subscriptions", "organizations_url": "https://api.github.com/users/piskvorky/orgs", "repos_url": "https://api.github.com/users/piskvorky/repos", "events_url": "https://api.github.com/users/piskvorky/events{/privacy}", "received_events_url": "https://api.github.com/users/piskvorky/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 234670, "node_id": "MDU6TGFiZWwyMzQ2NzA=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20medium", "name": "difficulty medium", "color": "00d000", "default": false, "description": "Medium issue: required good gensim understanding & python skills"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2015-09-23T13:48:39Z", "updated_at": "2017-10-03T06:51:56Z", "closed_at": "2017-10-03T06:51:56Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Importing gensim prints this deprecation warning:\n\n``` bash\ngensim/home/ubuntu/.vew/ds26/lib/python2.6/site-packages/numpy/lib/utils.py:95: DeprecationWarning: `scipy.sparse.sparsetools` is deprecated!\nscipy.sparse.sparsetools is a private module for scipy.sparse, and should not be used.\n  warnings.warn(depdoc, DeprecationWarning)\n```\n\nFind out why it's deprecated and, most importantly, what is the replacement?\n\nWe rely on sparsetools rather heavily in gensim, so this is critical.\n\nResources: scipy release notes, scipy mailing list...\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/462/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/462/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/461", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/461/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/461/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/461/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/461", "id": 107919261, "node_id": "MDU6SXNzdWUxMDc5MTkyNjE=", "number": 461, "title": "'pattern' library getting automatically invoked if installed when using LdaModel.load()", "user": {"login": "deakkon", "id": 2361473, "node_id": "MDQ6VXNlcjIzNjE0NzM=", "avatar_url": "https://avatars.githubusercontent.com/u/2361473?v=4", "gravatar_id": "", "url": "https://api.github.com/users/deakkon", "html_url": "https://github.com/deakkon", "followers_url": "https://api.github.com/users/deakkon/followers", "following_url": "https://api.github.com/users/deakkon/following{/other_user}", "gists_url": "https://api.github.com/users/deakkon/gists{/gist_id}", "starred_url": "https://api.github.com/users/deakkon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/deakkon/subscriptions", "organizations_url": "https://api.github.com/users/deakkon/orgs", "repos_url": "https://api.github.com/users/deakkon/repos", "events_url": "https://api.github.com/users/deakkon/events{/privacy}", "received_events_url": "https://api.github.com/users/deakkon/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 233081, "node_id": "MDU6TGFiZWwyMzMwODE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20easy", "name": "difficulty easy", "color": "00ff00", "default": false, "description": "Easy issue: required small fix"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-09-23T13:29:29Z", "updated_at": "2015-11-15T01:36:03Z", "closed_at": "2015-11-15T01:36:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "While loading previously saved LDA model with LdaModel.load() 'pattern' library gets invoked automatically (if installed). \n\nError message:\n\n```\n2015-09-21 18:11:23,052 : INFO : loading LdaModel object from /Users/jurica/Documents/workspace/eclipse/pubMedUBS/HR_Corpus/ldaModel.lda\n\n2015-09-21 18:11:23,553 : INFO : loading id2word recursively from /Users/jurica/Documents/workspace/eclipse/pubMedUBS/HR_Corpus/ldaModel.lda.id2word.* with mmap=r\n\n2015-09-21 18:11:23,553 : INFO : loading expElogbeta from /Users/jurica/Documents/workspace/eclipse/pubMedUBS/HR_Corpus/ldaModel.lda.expElogbeta.npy with mmap=r\n\nTraceback (most recent call last):\n\n  File \"/Users/jurica/Documents/workspace/eclipse/pubMedUBS/UMLSdb/processMetaMappedMEDLINEBaseline.py\", line 372, in <module>\n\n    processResults.analyzeLDA()\n\n  File \"/Users/jurica/Documents/workspace/eclipse/pubMedUBS/UMLSdb/processMetaMappedMEDLINEBaseline.py\", line 348, in analyzeLDA\n\n    model = LdaModel.load(self.__destination+model,  mmap='r')\n\n  File \"/Users/jurica/Library/Enthought/Canopy_64bit/User/lib/python2.7/site-packages/gensim/models/ldamodel.py\", line 887, in load\n\n    result = super(LdaModel, cls).load(fname, *args, **kwargs)\n\n  File \"/Users/jurica/Library/Enthought/Canopy_64bit/User/lib/python2.7/site-packages/gensim/utils.py\", line 256, in load\n\n    obj._load_specials(fname, mmap, compress, subname)\n\n  File \"/Users/jurica/Library/Enthought/Canopy_64bit/User/lib/python2.7/site-packages/gensim/utils.py\", line 287, in _load_specials\n\n    val = numpy.load(subname(fname, attrib), mmap_mode=mmap)\n\n  File \"/Users/jurica/Library/Enthought/Canopy_64bit/User/lib/python2.7/site-packages/numpy/lib/npyio.py\", line 391, in load\n\n    return format.open_memmap(file, mode=mmap_mode)\n\n  File \"/Users/jurica/Library/Enthought/Canopy_64bit/User/lib/python2.7/site-packages/numpy/lib/format.py\", line 722, in open_memmap\n\n    shape, fortran_order, dtype = _read_array_header(fp, version)\n\n  File \"/Users/jurica/Library/Enthought/Canopy_64bit/User/lib/python2.7/site-packages/numpy/lib/format.py\", line 479, in _read_array_header\n\n    d = safe_eval(header)\n\n  File \"/Users/jurica/Library/Enthought/Canopy_64bit/User/lib/python2.7/site-packages/numpy/lib/utils.py\", line 1168, in safe_eval\n\n    ast = compiler.parse(source, mode=\"eval\")\n\n  File \"/Applications/Canopy.app/appdata/canopy-1.5.5.3123.macosx-x86_64/Canopy.app/Contents/lib/python2.7/compiler/transformer.py\", line 53, in parse\n\n    return Transformer().parseexpr(buf)\n\n  File \"/Applications/Canopy.app/appdata/canopy-1.5.5.3123.macosx-x86_64/Canopy.app/Contents/lib/python2.7/compiler/transformer.py\", line 132, in parseexpr\n\n    return self.transform(parser.expr(text))\n\nAttributeError: 'module' object has no attribute 'expr'\u00b8\n```\n\nEnvironment: \nOS X Yosemite (10.10.5) 64bit,\nCanopy Python distribution with: \npattern 2.6\ngensim 0.12.2\nnumpy 1.9.2\nscipy 0.16\nsklearn 0.16.1\n\nwith Python 2.7\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/461/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/461/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/459", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/459/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/459/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/459/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/459", "id": 107914702, "node_id": "MDU6SXNzdWUxMDc5MTQ3MDI=", "number": 459, "title": "dict.iteritems() usage breaks \"keywords\" function in python 3", "user": {"login": "wcbeard", "id": 379413, "node_id": "MDQ6VXNlcjM3OTQxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/379413?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wcbeard", "html_url": "https://github.com/wcbeard", "followers_url": "https://api.github.com/users/wcbeard/followers", "following_url": "https://api.github.com/users/wcbeard/following{/other_user}", "gists_url": "https://api.github.com/users/wcbeard/gists{/gist_id}", "starred_url": "https://api.github.com/users/wcbeard/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wcbeard/subscriptions", "organizations_url": "https://api.github.com/users/wcbeard/orgs", "repos_url": "https://api.github.com/users/wcbeard/repos", "events_url": "https://api.github.com/users/wcbeard/events{/privacy}", "received_events_url": "https://api.github.com/users/wcbeard/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 233081, "node_id": "MDU6TGFiZWwyMzMwODE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20easy", "name": "difficulty easy", "color": "00ff00", "default": false, "description": "Easy issue: required small fix"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2015-09-23T13:05:31Z", "updated_at": "2015-09-30T14:26:56Z", "closed_at": "2015-09-30T14:26:56Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Calling `gensim.summarization.keywords` in python3 results in `AttributeError: 'dict' object has no attribute 'iteritems'`.\n\nLooks like there are offenders [here](https://github.com/piskvorky/gensim/blob/485d024e119d0ff818ea6651042748a3bff21081/gensim/summarization/keywords.py#L35) and [here](https://github.com/piskvorky/gensim/blob/485d024e119d0ff818ea6651042748a3bff21081/gensim/summarization/keywords.py#L114). I assume these should be fixed with six.iteritems?\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/459/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/459/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/416", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/416/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/416/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/416/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/416", "id": 98626110, "node_id": "MDU6SXNzdWU5ODYyNjExMA==", "number": 416, "title": "Identical topics", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 234670, "node_id": "MDU6TGFiZWwyMzQ2NzA=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20medium", "name": "difficulty medium", "color": "00d000", "default": false, "description": "Medium issue: required good gensim understanding & python skills"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 30, "created_at": "2015-08-02T18:17:00Z", "updated_at": "2019-09-06T14:33:43Z", "closed_at": "2019-01-28T02:42:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "This doesn't seem right.. LDA training on enwiki with 1000 topics. (gensim unmodified)\n\n2015-08-02 12:09:07,550 : INFO : merging changes from 3750 documents into a model of 3831719 documents\n2015-08-02 12:09:35,378 : INFO : topic #938 (0.001): 0.037_census + 0.034_population + 0.027_unincorporated + 0.020_community + 0.017_households + 0.016_landmarks + 0.016_$\n2015-08-02 12:09:35,522 : INFO : topic #986 (0.001): 0.015_festival + 0.014_films + 0.013_documentary + 0.010_director + 0.009_award + 0.008_directed + 0.008_producer + 0.$\n2015-08-02 12:09:35,666 : INFO : topic #492 (0.001): 0.066_kaunas + 0.048_davidson + 0.037_rosenberg + 0.034_kalamazoo + 0.026_blood + 0.024_sha + 0.023_thorpe + 0.022_vei$\n2015-08-02 12:09:35,811 : INFO : topic #392 (0.001): 0.018_laser + 0.016_tucker + 0.015_optical + 0.014_forensic + 0.012_imaging + 0.011_pulse + 0.011_lab + 0.009_sample +$\n2015-08-02 12:09:35,954 : INFO : topic #890 (0.001): 0.126_dutch + 0.116_van + 0.071_netherlands + 0.069_amsterdam + 0.034_holland + 0.027_hague + 0.022_der + 0.021_willem$\n2015-08-02 12:09:36,098 : INFO : topic #769 (0.001): 0.064_icf + 0.053_cove + 0.050_newfoundland + 0.043_vancouver + 0.041_nunataks + 0.036_columbia + 0.030_labrador + 0.0$\n2015-08-02 12:09:36,242 : INFO : topic #75 (0.001): 0.043_dong + 0.042_xu + 0.042_yi + 0.025_narayana + 0.024_tao + 0.023_bingham + 0.023_fei + 0.020_parr + 0.020_ren + 0.$\n2015-08-02 12:09:36,386 : INFO : topic #742 (0.001): 0.040_peters + 0.031_leith + 0.030_kahn + 0.028_levy + 0.028_bart + 0.022_hedley + 0.019_bandit + 0.018_robyn + 0.017_$\n2015-08-02 12:09:36,529 : INFO : topic #438 (0.001): 0.035_editor + 0.035_newspaper + 0.034_magazine + 0.021_published + 0.018_news + 0.016_daily + 0.014_journalism + 0.01$\n2015-08-02 12:09:36,673 : INFO : topic #410 (0.001): 0.046_forest + 0.030_reserve + 0.028_forests + 0.024_species + 0.023_conservation + 0.020_habitat + 0.016_moist + 0.01$\n2015-08-02 12:09:36,816 : INFO : topic #322 (0.001): 0.000_jawbone + 0.000_antiochus + 0.000_ddr + 0.000_gault + 0.000_noon + 0.000_fahey + 0.000_toth + 0.000_toto + 0.000$\n2015-08-02 12:09:36,960 : INFO : topic #407 (0.001): 0.000_jawbone + 0.000_antiochus + 0.000_ddr + 0.000_gault + 0.000_noon + 0.000_fahey + 0.000_toth + 0.000_toto + 0.000$\n2015-08-02 12:09:37,103 : INFO : topic #808 (0.001): 0.091_sf + 0.067_jensen + 0.066_isaac + 0.056_slater + 0.047_informatics + 0.045_hospice + 0.045_rot + 0.042_koblenz +$\n2015-08-02 12:09:37,248 : INFO : topic #282 (0.001): 0.000_jawbone + 0.000_antiochus + 0.000_ddr + 0.000_gault + 0.000_noon + 0.000_fahey + 0.000_toth + 0.000_toto + 0.000$\n2015-08-02 12:09:37,391 : INFO : topic #894 (0.001): 0.000_jawbone + 0.000_antiochus + 0.000_ddr + 0.000_gault + 0.000_noon + 0.000_fahey + 0.000_toth + 0.000*toto + 0.000$\n2015-08-02 12:09:37,606 : INFO : topic diff=inf, rho=0.008998\n2015-08-02 12:09:37,902 : INFO : PROGRESS: pass 0, dispatched chunk #12366 = documents up to #3091750/3831719, outstanding queue size 3\n2015-08-02 12:09:55,582 : INFO : PROGRESS: pass 0, dispatched chunk #12367 = documents up to #3092000/3831719, outstanding queue size 2\n2015-08-02 12:10:03,008 : INFO : PROGRESS: pass 0, dispatched chunk #12368 = documents up to #3092250/3831719, outstanding queue size 3\n2015-08-02 12:10:17,426 : INFO : PROGRESS: pass 0, dispatched chunk #12369 = documents up to #3092500/3831719, outstanding queue size 3\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/416/reactions", "total_count": 5, "+1": 5, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/416/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/131", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/131/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/131/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/131/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/131", "id": 21605783, "node_id": "MDU6SXNzdWUyMTYwNTc4Mw==", "number": 131, "title": "Segmentation fault Word2Vec.most_similar", "user": {"login": "fbkarsdorp", "id": 294320, "node_id": "MDQ6VXNlcjI5NDMyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/294320?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fbkarsdorp", "html_url": "https://github.com/fbkarsdorp", "followers_url": "https://api.github.com/users/fbkarsdorp/followers", "following_url": "https://api.github.com/users/fbkarsdorp/following{/other_user}", "gists_url": "https://api.github.com/users/fbkarsdorp/gists{/gist_id}", "starred_url": "https://api.github.com/users/fbkarsdorp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fbkarsdorp/subscriptions", "organizations_url": "https://api.github.com/users/fbkarsdorp/orgs", "repos_url": "https://api.github.com/users/fbkarsdorp/repos", "events_url": "https://api.github.com/users/fbkarsdorp/events{/privacy}", "received_events_url": "https://api.github.com/users/fbkarsdorp/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2013-10-25T17:53:08Z", "updated_at": "2014-06-17T17:45:07Z", "closed_at": "2013-11-04T16:49:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "Word2Vec.most_similar results in a segmentation fault on a new install of OSX Mavericks. The problem seems to lie in \n\n```\nmean = matutils.unitvec(array(mean).mean(axis=0)).astype(REAL)\n```\n\nwhich caused dotblas to crash. Now if I turn off the float type, all is fine:\n\n```\nmean = matutils.unitvec(array(mean).mean(axis=0))#.astype(REAL)\n```\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/131/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/131/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/108", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/108/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/108/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/108/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/108", "id": 10383808, "node_id": "MDU6SXNzdWUxMDM4MzgwOA==", "number": 108, "title": "Segmentation fault when gensim is loaded after pyodbc", "user": {"login": "nucflash", "id": 392561, "node_id": "MDQ6VXNlcjM5MjU2MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/392561?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nucflash", "html_url": "https://github.com/nucflash", "followers_url": "https://api.github.com/users/nucflash/followers", "following_url": "https://api.github.com/users/nucflash/following{/other_user}", "gists_url": "https://api.github.com/users/nucflash/gists{/gist_id}", "starred_url": "https://api.github.com/users/nucflash/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nucflash/subscriptions", "organizations_url": "https://api.github.com/users/nucflash/orgs", "repos_url": "https://api.github.com/users/nucflash/repos", "events_url": "https://api.github.com/users/nucflash/events{/privacy}", "received_events_url": "https://api.github.com/users/nucflash/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2013-01-28T17:21:56Z", "updated_at": "2014-05-20T13:54:44Z", "closed_at": "2014-05-20T13:54:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "When I use the following setup, I get a segmentation fault when I try to connect to the database:\n\n```\nimport pyodbc\nfrom gensim import corpora, models\n\ncnxn = pyodbc.connect('DSN=DRIVER;UID=USER;PWD=PASS')\ncursor = cnxn.cursor()\n```\n\nI solved it by connecting to the database before loading `gensim`:\n\n```\nimport pyodbc\ncnxn = pyodbc.connect('DSN=DRIVER;UID=USER;PWD=PASS')\ncursor = cnxn.cursor()\n\nfrom gensim import corpora, models\n```\n\nI'm using EPD-7-3-2 on CentOS 6.3.\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/108/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/108/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/94", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/94/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/94/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/94/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/94", "id": 6189242, "node_id": "MDU6SXNzdWU2MTg5MjQy", "number": 94, "title": "importing gensim freezes computer on windows when pattern package is installed", "user": {"login": "auduno", "id": 1588066, "node_id": "MDQ6VXNlcjE1ODgwNjY=", "avatar_url": "https://avatars.githubusercontent.com/u/1588066?v=4", "gravatar_id": "", "url": "https://api.github.com/users/auduno", "html_url": "https://github.com/auduno", "followers_url": "https://api.github.com/users/auduno/followers", "following_url": "https://api.github.com/users/auduno/following{/other_user}", "gists_url": "https://api.github.com/users/auduno/gists{/gist_id}", "starred_url": "https://api.github.com/users/auduno/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/auduno/subscriptions", "organizations_url": "https://api.github.com/users/auduno/orgs", "repos_url": "https://api.github.com/users/auduno/repos", "events_url": "https://api.github.com/users/auduno/events{/privacy}", "received_events_url": "https://api.github.com/users/auduno/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2012-08-13T12:45:50Z", "updated_at": "2012-08-19T10:22:21Z", "closed_at": "2012-08-19T10:22:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "On windows, importing gensim will cause runaway creation of python processes, and eventually a totally frozen computer, when module Pattern is installed. This is because utils.py tries to set up paralellization of lemmatizer. However, multiprocessing paralellization is implemented differently on Windows and Unix. On Windows multiprocessing requires entry points to be protected as described here:\n\nhttp://docs.python.org/library/multiprocessing.html#windows\n\nI'm not aware of ways to protect the entry point when multiprocessing is used inside an module as here, so I'm not sure if it is possible to fix. The simplest solution is to just disable lemmatizer on Windows.\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/94/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/94/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/82", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/82/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/82/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/82/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/82", "id": 3791834, "node_id": "MDU6SXNzdWUzNzkxODM0", "number": 82, "title": "Distributed LDA raises exception", "user": {"login": "piskvorky", "id": 610412, "node_id": "MDQ6VXNlcjYxMDQxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/610412?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piskvorky", "html_url": "https://github.com/piskvorky", "followers_url": "https://api.github.com/users/piskvorky/followers", "following_url": "https://api.github.com/users/piskvorky/following{/other_user}", "gists_url": "https://api.github.com/users/piskvorky/gists{/gist_id}", "starred_url": "https://api.github.com/users/piskvorky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piskvorky/subscriptions", "organizations_url": "https://api.github.com/users/piskvorky/orgs", "repos_url": "https://api.github.com/users/piskvorky/repos", "events_url": "https://api.github.com/users/piskvorky/events{/privacy}", "received_events_url": "https://api.github.com/users/piskvorky/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2012-03-24T12:26:04Z", "updated_at": "2015-10-30T21:16:30Z", "closed_at": "2014-04-10T08:48:34Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Reported by Romain here http://groups.google.com/group/gensim/browse_thread/thread/c824cc3777c05a47 :\n\n```\n2012-03-19 16:05:05,937 : ERROR : failed to initialize distributed LDA \n(cannot connect: [Errno 22] Invalid argument) \nTraceback (most recent call last): \n  File \"lda_gensim.py\", line 12, in <module> \n    lda = gensim.models.ldamodel.LdaModel(corpus=mm, id2word=id2word, \nnum_topics=200, distributed=True) \n  File \"/usr/local/lib/python2.6/dist-packages/gensim-0.8.4-py2.6.egg/ \ngensim/models/ldamodel.py\", line 255, in __init__ \n    raise RuntimeError(\"failed to initialize distributed LDA (%s)\" % \nerr) \nRuntimeError: failed to initialize distributed LDA (cannot connect: \n[Errno 22] Invalid argument) \nI carefully followed the instructions, set up a Pyro name server, \nstarted with 2 workers and a dispatcher on the same machine. \nI also tried with LSI and it gives me the same error. \nI first followed the tutorial with Wikipedia, I prepared the corpus \nand everything seems to be ok. \nI also successfully installed the latest version of Pyro4, numpy and \nscipy with easy_install. \n\ngensim : 0.8.4 \nnumpy : 1.3.0 \nscipy : 0.7.0 \npyro4 : 4.12 \n```\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/82/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/82/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/75", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/75/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/75/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/75/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/75", "id": 3191869, "node_id": "MDU6SXNzdWUzMTkxODY5", "number": 75, "title": "respect stochastic SVD params in LsiModel", "user": {"login": "piskvorky", "id": 610412, "node_id": "MDQ6VXNlcjYxMDQxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/610412?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piskvorky", "html_url": "https://github.com/piskvorky", "followers_url": "https://api.github.com/users/piskvorky/followers", "following_url": "https://api.github.com/users/piskvorky/following{/other_user}", "gists_url": "https://api.github.com/users/piskvorky/gists{/gist_id}", "starred_url": "https://api.github.com/users/piskvorky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piskvorky/subscriptions", "organizations_url": "https://api.github.com/users/piskvorky/orgs", "repos_url": "https://api.github.com/users/piskvorky/repos", "events_url": "https://api.github.com/users/piskvorky/events{/privacy}", "received_events_url": "https://api.github.com/users/piskvorky/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 234670, "node_id": "MDU6TGFiZWwyMzQ2NzA=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/difficulty%20medium", "name": "difficulty medium", "color": "00d000", "default": false, "description": "Medium issue: required good gensim understanding & python skills"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2012-02-12T17:44:21Z", "updated_at": "2013-03-02T21:23:59Z", "closed_at": "2013-03-02T21:23:59Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Currently, the `extra_samples` and `power_iters` parameters to `LsiModel` are only used in the multi-pass variant (=when `onepass` is `False`).\n\nPass them also to the one-pass variant, for consistency and greater flexibility.\n\nAlternatively, mention explicitly in the docs that they are not used, to avoid confusion.\n\nThis issue was brought up by Brian Murphy at http://groups.google.com/group/gensim/browse_thread/thread/6de956d4300ab7da\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/75/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/75/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/68", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/68/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/68/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/68/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/68", "id": 2384009, "node_id": "MDU6SXNzdWUyMzg0MDA5", "number": 68, "title": "distributed LDA:  'NoneType' object is not subscriptable ", "user": {"login": "piskvorky", "id": 610412, "node_id": "MDQ6VXNlcjYxMDQxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/610412?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piskvorky", "html_url": "https://github.com/piskvorky", "followers_url": "https://api.github.com/users/piskvorky/followers", "following_url": "https://api.github.com/users/piskvorky/following{/other_user}", "gists_url": "https://api.github.com/users/piskvorky/gists{/gist_id}", "starred_url": "https://api.github.com/users/piskvorky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piskvorky/subscriptions", "organizations_url": "https://api.github.com/users/piskvorky/orgs", "repos_url": "https://api.github.com/users/piskvorky/repos", "events_url": "https://api.github.com/users/piskvorky/events{/privacy}", "received_events_url": "https://api.github.com/users/piskvorky/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2011-11-29T12:41:52Z", "updated_at": "2011-12-03T02:09:38Z", "closed_at": "2011-12-03T02:09:38Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Distributed LDA sometimes throws\n\n> 2011-11-23 21:19:58,881 : INFO : resetting worker #11 \n> Exception in thread Thread-19 \n> Traceback (most recent call last): \n>    File \"/bb/blaw/PYTHON/lib/python2.7/threading.py\", line 530, in \n> __bootstrap_inner \n>      self.run() \n>    File \"/bb/blaw/PYTHON/lib/python2.7/threading.py\", line 483, in run \n>      self.__target(_self.__args, *_self.__kwargs) \n>    File \n> \"/bb/blaw/tools/Python-2.7.1/lib/python2.7/site-packages/gensim-0.8.2-py2.7 .egg/gensim/models/lda_worker.py\", \n> line 58, in requestjob \n>      self.processjob(job) \n>    File \n> \"/bb/blaw/PYTHON/lib/python2.7/site-packages/gensim-0.8.2-py2.7.egg/gensim/ utils.py\", \n> line 49, in _synchronizer \n>      result = func(self, _args, *_kwargs) \n>    File \n> \"/bb/blaw/tools/Python-2.7.1/lib/python2.7/site-packages/gensim-0.8.2-py2.7 .egg/gensim/models/lda_worker.py\", \n> line 65, in processjob \n>      self.model.do_estep(job) \n>    File \n> \"/bb/blaw/PYTHON/lib/python2.7/site-packages/gensim-0.8.2-py2.7.egg/gensim/ models/ldamodel.py\", \n> line 371, in do_estep \n>      gamma, sstats = self.inference(chunk, collect_sstats=True) \n>    File \n> \"/bb/blaw/PYTHON/lib/python2.7/site-packages/gensim-0.8.2-py2.7.egg/gensim/ models/ldamodel.py\", \n> line 324, in inference \n>      expElogbetad = self.expElogbeta[:, ids] \n> TypeError: 'NoneType' object is not subscriptable \n\nReported by several people, e.g. by Dale here: http://groups.google.com/group/gensim/browse_thread/thread/a57c68342e58c7b2\n\nCheck the flow around the `clear()` method in distributed LDA, which is likely culprit.\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/68/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/68/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/65", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/65/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/65/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/65/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/65", "id": 2256771, "node_id": "MDU6SXNzdWUyMjU2Nzcx", "number": 65, "title": "Similarity sharding broken", "user": {"login": "piskvorky", "id": 610412, "node_id": "MDQ6VXNlcjYxMDQxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/610412?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piskvorky", "html_url": "https://github.com/piskvorky", "followers_url": "https://api.github.com/users/piskvorky/followers", "following_url": "https://api.github.com/users/piskvorky/following{/other_user}", "gists_url": "https://api.github.com/users/piskvorky/gists{/gist_id}", "starred_url": "https://api.github.com/users/piskvorky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piskvorky/subscriptions", "organizations_url": "https://api.github.com/users/piskvorky/orgs", "repos_url": "https://api.github.com/users/piskvorky/repos", "events_url": "https://api.github.com/users/piskvorky/events{/privacy}", "received_events_url": "https://api.github.com/users/piskvorky/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2011-11-16T14:36:33Z", "updated_at": "2011-11-29T12:38:50Z", "closed_at": "2011-11-29T12:38:50Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Paul Rudin found a bug in `Similarity` sharding: http://groups.google.com/group/gensim/browse_thread/thread/dc3fc4c0cd9e8814\n\nFix the bug, extend the unit tests.\n\n(and also print a warning when the requested `num_best` is greater than `shard_size` -- very rare, but potentially confusing combination when it does come up)\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/65/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/65/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/60", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/60/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/60/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/60/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/60", "id": 2088883, "node_id": "MDU6SXNzdWUyMDg4ODgz", "number": 60, "title": "rename README.txt", "user": {"login": "piskvorky", "id": 610412, "node_id": "MDQ6VXNlcjYxMDQxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/610412?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piskvorky", "html_url": "https://github.com/piskvorky", "followers_url": "https://api.github.com/users/piskvorky/followers", "following_url": "https://api.github.com/users/piskvorky/following{/other_user}", "gists_url": "https://api.github.com/users/piskvorky/gists{/gist_id}", "starred_url": "https://api.github.com/users/piskvorky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piskvorky/subscriptions", "organizations_url": "https://api.github.com/users/piskvorky/orgs", "repos_url": "https://api.github.com/users/piskvorky/repos", "events_url": "https://api.github.com/users/piskvorky/events{/privacy}", "received_events_url": "https://api.github.com/users/piskvorky/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}, {"id": 175643, "node_id": "MDU6TGFiZWwxNzU2NDM=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/documentation", "name": "documentation", "color": "02d7e1", "default": true, "description": "Current issue related to documentation"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2011-10-29T23:30:56Z", "updated_at": "2011-10-29T23:47:34Z", "closed_at": "2011-10-29T23:47:34Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "... to README.rst, so that github renders the welcome page properly.\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/60/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/60/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/59", "repository_url": "https://api.github.com/repos/RaRe-Technologies/gensim", "labels_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/59/labels{/name}", "comments_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/59/comments", "events_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/59/events", "html_url": "https://github.com/RaRe-Technologies/gensim/issues/59", "id": 2087501, "node_id": "MDU6SXNzdWUyMDg3NTAx", "number": 59, "title": "SVD accuracy suffers with many power iterations steps?", "user": {"login": "piskvorky", "id": 610412, "node_id": "MDQ6VXNlcjYxMDQxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/610412?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piskvorky", "html_url": "https://github.com/piskvorky", "followers_url": "https://api.github.com/users/piskvorky/followers", "following_url": "https://api.github.com/users/piskvorky/following{/other_user}", "gists_url": "https://api.github.com/users/piskvorky/gists{/gist_id}", "starred_url": "https://api.github.com/users/piskvorky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piskvorky/subscriptions", "organizations_url": "https://api.github.com/users/piskvorky/orgs", "repos_url": "https://api.github.com/users/piskvorky/repos", "events_url": "https://api.github.com/users/piskvorky/events{/privacy}", "received_events_url": "https://api.github.com/users/piskvorky/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 175641, "node_id": "MDU6TGFiZWwxNzU2NDE=", "url": "https://api.github.com/repos/RaRe-Technologies/gensim/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": "Issue described a bug"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2011-10-29T16:23:54Z", "updated_at": "2011-10-29T23:29:10Z", "closed_at": "2011-10-29T23:29:10Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "According to the experiments http://groups.google.com/group/gensim/browse_thread/thread/4b605b72f8062770 , accuracy of the randomized SVD algo actually **decreases** with more power iterations steps (with steps above a certain small threshold, such as 6 for that data).\n\nThat is not good, because in theory the algorithm can arrive at arbitrary precision, exactly by increasing the number of power iteration steps (=trading off run-time for greater accuracy).\n\nThe culprit seems to be matrix multiplications during the power iteration steps, which eventually cause numeric overflows for larger amount of steps.\n\nFind a fix so that SVD can be run to arbitrary precision.\n", "reactions": {"url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/59/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/RaRe-Technologies/gensim/issues/59/timeline", "performed_via_github_app": null, "state_reason": "completed"}]