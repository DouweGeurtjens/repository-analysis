[{"url": "https://api.github.com/repos/hankcs/HanLP/issues/1815", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/1815/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/1815/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/1815/events", "html_url": "https://github.com/hankcs/HanLP/issues/1815", "id": 1660154536, "node_id": "I_kwDOAX0dc85i8_Ko", "number": 1815, "title": "\u6210\u5206\u53e5\u6cd5\u5206\u6790\u7684sampler_builder\u3001batch_size\u53c2\u6570", "user": {"login": "FutureWithoutEnding", "id": 53685945, "node_id": "MDQ6VXNlcjUzNjg1OTQ1", "avatar_url": "https://avatars.githubusercontent.com/u/53685945?v=4", "gravatar_id": "", "url": "https://api.github.com/users/FutureWithoutEnding", "html_url": "https://github.com/FutureWithoutEnding", "followers_url": "https://api.github.com/users/FutureWithoutEnding/followers", "following_url": "https://api.github.com/users/FutureWithoutEnding/following{/other_user}", "gists_url": "https://api.github.com/users/FutureWithoutEnding/gists{/gist_id}", "starred_url": "https://api.github.com/users/FutureWithoutEnding/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/FutureWithoutEnding/subscriptions", "organizations_url": "https://api.github.com/users/FutureWithoutEnding/orgs", "repos_url": "https://api.github.com/users/FutureWithoutEnding/repos", "events_url": "https://api.github.com/users/FutureWithoutEnding/events{/privacy}", "received_events_url": "https://api.github.com/users/FutureWithoutEnding/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2023-04-10T03:01:54Z", "updated_at": "2023-04-14T05:36:05Z", "closed_at": "2023-04-14T05:36:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n\u611f\u8c22\u627e\u51fabug\uff0c\u8bf7\u8ba4\u771f\u586b\u5199\u4e0b\u8868\uff1a\r\n-->\r\n\r\n**Describe the bug**\r\n\u6307\u5b9abatch_size\u53c2\u6570\u4e0d\u8d77\u4f5c\u7528\r\n\r\n**Code to reproduce the issue**\r\n```python\r\nimport hanlp\r\nfrom hanlp import pretrained\r\n\r\ntokenizer_model = pretrained.tok.COARSE_ELECTRA_SMALL_ZH\r\ntokenizer = hanlp.load(tokenizer_model, devices=0)\r\nconstituency_model = pretrained.constituency.CTB9_CON_ELECTRA_SMALL\r\nparser = hanlp.load(constituency_model)\r\n\r\ns = \"\u680f\u76ee\u4e0b\u7684\u4e00\u4e2a\u8282\u76ee\uff0c\u8fd9\u4e2a\u8282\u76ee\u4e3b\u8981\u63a2\u8ba8\u7684\u662f\u82f1\u8bed\u53e3\u8bed\u7684\u5e38\u7528\u8868\u8fbe\u3001\u8bcd\u6c47\u7684\u8d77\u6e90\u548c\u5176\u80cc\u540e\u7684\u6545\u4e8b\u3002\"\r\nsentences = [s] * 100\r\ntokens = tokenizer(sentences, batch_size=bs)\r\nparseing_tree = parser(batch_tokens, batch_size=bs)\r\n```\r\n\r\n**Describe the current behavior**\r\n\u6307\u5b9abatch_size\u662f\u4e0d\u751f\u6548\u7684\uff0c\u4f1a\u81ea\u52a8\u52a0\u8f7dconfig\u4e2d\u7684sampler_builder\u3002\r\nsampler_builder\u4e2d\uff1a\r\n- Tokenizer\u7684batch_size\u662f32\r\n- constituency\u7684batch_size\u662f10\r\n\r\n\u5bf9\u4e8eTokenizer\uff0c\u6dfb\u52a0`sampler_builder=None`\u5c31\u53ef\u4ee5\u4f7fbatch_size\u751f\u6548: \r\n```\r\ntokens = tokenizer(sentences, sampler_builder=None, batch_size=bs)\r\n```\r\n\u5bf9\u4e8econstituency\uff0c\u5373\u4f7f\u6dfb\u52a0`sampler_builder=None`\uff0c\u4e5f\u4e0d\u4f1a\u4f7fbatch_size\u751f\u6548\uff0c\r\n```\r\nparseing_tree = parser(batch_tokens, sampler_builder=None, batch_size=bs)\r\n```\r\n\r\n**Expected behavior**\r\n\u5bf9\u4e8eTokenizer\u548cconstituency\uff1a\r\n- \u6307\u5b9a\u4e86batch_size\u53c2\u6570\u5c31\u8d77\u4f5c\u7528\uff0c\u4e0d\u9700\u8981\u548csampler_builder=None\u914d\u5408\r\n     - \uff08\u5373\u5f53\u6307\u5b9a\u4e86batch_size\u5c31\u8981\u5c4f\u853dconfig\u4e2d\u7684sampler_builder\uff09\r\n\r\n**System information**\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Ubuntu 20.04.4 LTS\r\n- Python version: Python 3.8.16\r\n- HanLP version: 2.1.0b48\r\n\r\n**Other info / logs**\r\nNone\r\n\r\n* [x] I've completed this form and searched the web for solutions.\r\n<!-- \u2b06\ufe0f\u6b64\u5904\u52a1\u5fc5\u52fe\u9009\uff0c\u5426\u5219\u4f60\u7684issue\u4f1a\u88ab\u673a\u5668\u4eba\u81ea\u52a8\u5220\u9664\uff01 -->\r\n<!-- \u2b06\ufe0f\u6b64\u5904\u52a1\u5fc5\u52fe\u9009\uff0c\u5426\u5219\u4f60\u7684issue\u4f1a\u88ab\u673a\u5668\u4eba\u81ea\u52a8\u5220\u9664\uff01 -->\r\n<!-- \u2b06\ufe0f\u6b64\u5904\u52a1\u5fc5\u52fe\u9009\uff0c\u5426\u5219\u4f60\u7684issue\u4f1a\u88ab\u673a\u5668\u4eba\u81ea\u52a8\u5220\u9664\uff01 -->", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1815/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/1815/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1811", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/1811/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/1811/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/1811/events", "html_url": "https://github.com/hankcs/HanLP/issues/1811", "id": 1659433420, "node_id": "I_kwDOAX0dc85i6PHM", "number": 1811, "title": "\u6210\u5206\u53e5\u6cd5\u5206\u6790\u4f1a\u4fee\u6539\u539f\u59cb\u6587\u672c\uff0c\u5982\u4fee\u6539\u4e2d\u6587\u7684\u6807\u70b9\u7b26\u53f7\uff1f", "user": {"login": "FutureWithoutEnding", "id": 53685945, "node_id": "MDQ6VXNlcjUzNjg1OTQ1", "avatar_url": "https://avatars.githubusercontent.com/u/53685945?v=4", "gravatar_id": "", "url": "https://api.github.com/users/FutureWithoutEnding", "html_url": "https://github.com/FutureWithoutEnding", "followers_url": "https://api.github.com/users/FutureWithoutEnding/followers", "following_url": "https://api.github.com/users/FutureWithoutEnding/following{/other_user}", "gists_url": "https://api.github.com/users/FutureWithoutEnding/gists{/gist_id}", "starred_url": "https://api.github.com/users/FutureWithoutEnding/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/FutureWithoutEnding/subscriptions", "organizations_url": "https://api.github.com/users/FutureWithoutEnding/orgs", "repos_url": "https://api.github.com/users/FutureWithoutEnding/repos", "events_url": "https://api.github.com/users/FutureWithoutEnding/events{/privacy}", "received_events_url": "https://api.github.com/users/FutureWithoutEnding/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2023-04-08T07:40:57Z", "updated_at": "2023-04-08T19:04:30Z", "closed_at": "2023-04-08T19:04:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n\u611f\u8c22\u627e\u51fabug\uff0c\u8bf7\u8ba4\u771f\u586b\u5199\u4e0b\u8868\uff1a\r\n-->\r\n\r\n**\u6210\u5206\u53e5\u6cd5\u5206\u6790\u4fee\u6539\u539f\u59cb\u6587\u672c**\r\n\r\nA clear and concise description of what the bug is.\r\n\r\n**Code to reproduce the issue**\r\n```python\r\nimport hanlp\r\nfrom hanlp import pretrained\r\n\r\ntokenizer_model = pretrained.tok.COARSE_ELECTRA_SMALL_ZH\r\ntokenizer = hanlp.load(tokenizer_model)\r\n\r\ntoks = tokenizer(\"\u680f\u76ee\u4e0b\u7684\u4e00\u4e2a\u8282\u76ee\uff0c\u8fd9\u4e2a\u8282\u76ee\u4e3b\u8981\u63a2\u8ba8\u7684\u662f\u82f1\u8bed\u53e3\u8bed\u7684\u5e38\u7528\u8868\u8fbe\u3001\u8bcd\u6c47\u7684\u8d77\u6e90\u548c\u5176\u80cc\u540e\u7684\u6545\u4e8b\u3002\")\r\nprint(toks)\r\n\r\nconstituency_model = pretrained.constituency.CTB9_CON_ELECTRA_SMALL\r\nparser = hanlp.load(constituency_model)\r\ntree = parser(toks)\r\nprint(tree)\r\n```\r\n\r\n**Describe the current behavior**\r\n![image](https://user-images.githubusercontent.com/53685945/230709750-3b17e2c4-4eb3-4fa2-a491-4da61f79a4d3.png)\r\n\u4e3a\u4e86\u597d\u5c55\u793a\uff0c\u4fee\u6539\u4e86token\u662f\u8f93\u51fa\u683c\u5f0f\uff08\u4e3a\u4e86\u4ee3\u7801\u7684\u7b80\u6d01\uff0c\u6ca1\u6709\u5305\u542b\u5728\u6f14\u793a\u4ee3\u7801\u4e2d\uff09\r\n\r\n\r\n\r\n**Expected behavior**\r\n\u4fdd\u6301\u539f\u6765\u7684\u4e2d\u6587\u6807\u70b9\u3002\r\n\r\n**System information**\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04):  CentOS Linux release 7.9.2009 (Core)\r\n- Python version: Python 3.8.16\r\n- HanLP version: 2.1.0b47\r\n\r\n**Other info / logs**\r\nNone\r\n\r\n* [x] I've completed this form and searched the web for solutions.\r\n<!-- \u2b06\ufe0f\u6b64\u5904\u52a1\u5fc5\u52fe\u9009\uff0c\u5426\u5219\u4f60\u7684issue\u4f1a\u88ab\u673a\u5668\u4eba\u81ea\u52a8\u5220\u9664\uff01 -->\r\n<!-- \u2b06\ufe0f\u6b64\u5904\u52a1\u5fc5\u52fe\u9009\uff0c\u5426\u5219\u4f60\u7684issue\u4f1a\u88ab\u673a\u5668\u4eba\u81ea\u52a8\u5220\u9664\uff01 -->\r\n<!-- \u2b06\ufe0f\u6b64\u5904\u52a1\u5fc5\u52fe\u9009\uff0c\u5426\u5219\u4f60\u7684issue\u4f1a\u88ab\u673a\u5668\u4eba\u81ea\u52a8\u5220\u9664\uff01 -->", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1811/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/1811/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1806", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/1806/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/1806/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/1806/events", "html_url": "https://github.com/hankcs/HanLP/issues/1806", "id": 1598653434, "node_id": "I_kwDOAX0dc85fSYP6", "number": 1806, "title": "\u6587\u4ef6\u6d41\u672a\u6b63\u786e\u5173\u95ed", "user": {"login": "zjqer", "id": 45357880, "node_id": "MDQ6VXNlcjQ1MzU3ODgw", "avatar_url": "https://avatars.githubusercontent.com/u/45357880?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zjqer", "html_url": "https://github.com/zjqer", "followers_url": "https://api.github.com/users/zjqer/followers", "following_url": "https://api.github.com/users/zjqer/following{/other_user}", "gists_url": "https://api.github.com/users/zjqer/gists{/gist_id}", "starred_url": "https://api.github.com/users/zjqer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zjqer/subscriptions", "organizations_url": "https://api.github.com/users/zjqer/orgs", "repos_url": "https://api.github.com/users/zjqer/repos", "events_url": "https://api.github.com/users/zjqer/events{/privacy}", "received_events_url": "https://api.github.com/users/zjqer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2023-02-24T13:40:24Z", "updated_at": "2023-02-25T01:02:15Z", "closed_at": "2023-02-24T17:52:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n\u611f\u8c22\u627e\u51fabug\uff0c\u8bf7\u8ba4\u771f\u586b\u5199\u4e0b\u8868\uff1a\r\n-->\r\n\r\n**Describe the bug**\r\nA clear and concise description of what the bug is.\r\nVectorsReader\u7c7b\u7684readVectorFile()\u65b9\u6cd5\u672a\u6b63\u786e\u5173\u95ed\u6587\u4ef6\u6d41\uff0c\u5bfc\u81f4\u8d44\u6e90\u6cc4\u6f0f\r\n**Code to reproduce the issue**\r\nProvide a reproducible test case that is the bare minimum necessary to generate the problem.\r\n\u4f7f\u7528Word2VecTrainer\u7684train\u65b9\u6cd5\uff0c\u6216\u8005new \u4e00\u4e2aWordVectorModel\u5bf9\u8c61\uff0c\u8fdb\u7a0b\u8fdb\u884c\u4e2d\uff0c\u5220\u9664\u6a21\u578b\u6587\u4ef6\u6bd4\u5982model.txt\uff0c\u4f1a\u65e0\u6cd5\u5220\u9664\r\n```java\r\n```\r\n\r\n**Describe the current behavior**\r\nA clear and concise description of what happened.\r\n\r\n**Expected behavior**\r\nA clear and concise description of what you expected to happen.\r\n\u6211\u5728\u4f7f\u7528\u8be5jar\u8fdb\u884c\u8bcd\u5411\u91cf\u6a21\u578b\u8bad\u7ec3\u6216\u8005\u6587\u6863\u8f6c\u6362\u4e3a\u5411\u91cf\u540e\uff0c\u6a21\u578b\u6587\u4ef6\u59cb\u7ec8\u5220\u9664\u4e0d\u6389\uff0c\u6587\u4ef6\u8d44\u6e90\u79ef\u538b\r\n**System information**\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04):\u4efb\u4f55\u7cfb\u7edf\u90fd\u4f1a\u51fa\u73b0\r\n- Python version:\r\n- HanLP version:\u76ee\u524d\u53d1\u73b01.5-1.8.3\u7684\u7248\u672c\u90fd\u4f1a\u51fa\u73b0\u8be5\u95ee\u9898\r\n\r\n**Other info / logs**\r\nInclude any logs or source code that would be helpful to diagnose the problem. If including tracebacks, please include the full traceback. Large logs and files should be attached.\r\n[VectorsReader.java](https://github.com/hankcs/HanLP/blob/v1.8.3/src/main/java/com/hankcs/hanlp/mining/word2vec/VectorsReader.java)\r\n* [x] I've completed this form and searched the web for solutions.\r\n<!-- \u2b06\ufe0f\u6b64\u5904\u52a1\u5fc5\u52fe\u9009\uff0c\u5426\u5219\u4f60\u7684issue\u4f1a\u88ab\u673a\u5668\u4eba\u81ea\u52a8\u5220\u9664\uff01 -->\r\n<!-- \u2b06\ufe0f\u6b64\u5904\u52a1\u5fc5\u52fe\u9009\uff0c\u5426\u5219\u4f60\u7684issue\u4f1a\u88ab\u673a\u5668\u4eba\u81ea\u52a8\u5220\u9664\uff01 -->\r\n<!-- \u2b06\ufe0f\u6b64\u5904\u52a1\u5fc5\u52fe\u9009\uff0c\u5426\u5219\u4f60\u7684issue\u4f1a\u88ab\u673a\u5668\u4eba\u81ea\u52a8\u5220\u9664\uff01 -->", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1806/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/1806/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1799", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/1799/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/1799/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/1799/events", "html_url": "https://github.com/hankcs/HanLP/issues/1799", "id": 1531914421, "node_id": "I_kwDOAX0dc85bTyi1", "number": 1799, "title": "\u4e3a\u5206\u8bcd\u5668\u6307\u5b9a\u4e00\u4efd\u4e0d\u540c\u7684\u8bcd\u5178\u4e0d\u751f\u6548", "user": {"login": "dance3366", "id": 71128756, "node_id": "MDQ6VXNlcjcxMTI4NzU2", "avatar_url": "https://avatars.githubusercontent.com/u/71128756?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dance3366", "html_url": "https://github.com/dance3366", "followers_url": "https://api.github.com/users/dance3366/followers", "following_url": "https://api.github.com/users/dance3366/following{/other_user}", "gists_url": "https://api.github.com/users/dance3366/gists{/gist_id}", "starred_url": "https://api.github.com/users/dance3366/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dance3366/subscriptions", "organizations_url": "https://api.github.com/users/dance3366/orgs", "repos_url": "https://api.github.com/users/dance3366/repos", "events_url": "https://api.github.com/users/dance3366/events{/privacy}", "received_events_url": "https://api.github.com/users/dance3366/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2023-01-13T08:35:53Z", "updated_at": "2023-01-13T15:03:40Z", "closed_at": "2023-01-13T15:03:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n\u611f\u8c22\u627e\u51fabug\uff0c\u8bf7\u8ba4\u771f\u586b\u5199\u4e0b\u8868\uff1a\r\n-->\r\n\r\n**Describe the bug**\r\nhttps://github.com/hankcs/HanLP/blob/1.x/src/test/java/com/hankcs/demo/DemoCustomDictionary.java\r\n\u4ee3\u780172\u884c\uff0c\u8bcd\u5178\u6307\u5b9a\u4e0d\u751f\u6548\r\n\r\n**Code to reproduce the issue**\r\nProvide a reproducible test case that is the bare minimum necessary to generate the problem.\r\n\r\n```Java\r\n// \u6bcf\u4e2a\u5206\u8bcd\u5668\u90fd\u6709\u4e00\u4efd\u8bcd\u5178\uff0c\u9ed8\u8ba4\u516c\u7528 CustomDictionary.DEFAULT\uff0c\u4f60\u53ef\u4ee5\u4e3a\u4efb\u4f55\u5206\u8bcd\u5668\u6307\u5b9a\u4e00\u4efd\u4e0d\u540c\u7684\u8bcd\u5178\r\n        DynamicCustomDictionary myDictionary = new DynamicCustomDictionary(\"data/dictionary/custom/CustomDictionary.txt\", \"data/dictionary/custom/\u673a\u6784\u540d\u8bcd\u5178.txt\");\r\n```\r\n\r\n**Describe the current behavior**\r\nA clear and concise description of what happened.\r\n\u65e0\u6cd5\u6307\u5b9a\u4e0d\u540c\u7684\u8bcd\u5178\uff0c\u6e90\u4ee3\u7801\u8bcd\u5178\u52a0\u8f7d\u53ea\u52a0\u8f7d`HanLP.Config.CustomDictionaryPath`\u914d\u7f6e\u76ee\u5f55\u4e0b\u7684\u7528\u6237\u8bcd\u5178\uff0c\u8be5\u65b9\u6cd5\u4f20\u53c2\u672a\u4f7f\u7528\r\n![image](https://user-images.githubusercontent.com/71128756/212274068-98991256-c1bc-46dd-9d29-351f5e6bf5c0.png)\r\n`src/main/java/com/hankcs/hanlp/dictionary/DynamicCustomDictionary.loadMainDictionary`\u3002\r\n\u83b7\u53d6\u672c\u5730\u8bcd\u5178\u66f4\u65b0\u72b6\u6001\u4e5f\u53ea\u4ece`HanLP.Config.CustomDictionaryPath`\u76ee\u5f55\u5224\u65ad\uff0c\u672a\u4f7f\u7528\u65b9\u6cd5\u53c2\u6570\u3002\r\n`src/main/java/com/hankcs/hanlp/dictionary/DynamicCustomDictionary.isDicNeedUpdate`\u3002\r\n![image](https://user-images.githubusercontent.com/71128756/212274394-d7b09aca-2378-4685-9fb4-1783d0ce6a1d.png)\r\n\r\n\r\n**Expected behavior**\r\n\u5e0c\u671b\u6307\u5b9a\u8bcd\u5178\u53ef\u4ee5\u751f\u6548\r\n\r\n**System information**\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04):\r\n- JDK version:1.8\r\n- HanLP version:portable-1.8.3\r\n\r\n**Other info / logs**\r\nInclude any logs or source code that would be helpful to diagnose the problem. If including tracebacks, please include the full traceback. Large logs and files should be attached.\r\n\r\n* [x] I've completed this form and searched the web for solutions.\r\n<!-- \u2b06\ufe0f\u6b64\u5904\u52a1\u5fc5\u52fe\u9009\uff0c\u5426\u5219\u4f60\u7684issue\u4f1a\u88ab\u673a\u5668\u4eba\u81ea\u52a8\u5220\u9664\uff01 -->\r\n<!-- \u2b06\ufe0f\u6b64\u5904\u52a1\u5fc5\u52fe\u9009\uff0c\u5426\u5219\u4f60\u7684issue\u4f1a\u88ab\u673a\u5668\u4eba\u81ea\u52a8\u5220\u9664\uff01 -->\r\n<!-- \u2b06\ufe0f\u6b64\u5904\u52a1\u5fc5\u52fe\u9009\uff0c\u5426\u5219\u4f60\u7684issue\u4f1a\u88ab\u673a\u5668\u4eba\u81ea\u52a8\u5220\u9664\uff01 -->", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1799/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/1799/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1785", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/1785/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/1785/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/1785/events", "html_url": "https://github.com/hankcs/HanLP/issues/1785", "id": 1374143310, "node_id": "I_kwDOAX0dc85R58NO", "number": 1785, "title": "CSV \u8bcd\u5178\u4e2d\u4e0d\u80fd\u5305\u542b\u9017\u53f7", "user": {"login": "elonzh", "id": 8749411, "node_id": "MDQ6VXNlcjg3NDk0MTE=", "avatar_url": "https://avatars.githubusercontent.com/u/8749411?v=4", "gravatar_id": "", "url": "https://api.github.com/users/elonzh", "html_url": "https://github.com/elonzh", "followers_url": "https://api.github.com/users/elonzh/followers", "following_url": "https://api.github.com/users/elonzh/following{/other_user}", "gists_url": "https://api.github.com/users/elonzh/gists{/gist_id}", "starred_url": "https://api.github.com/users/elonzh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/elonzh/subscriptions", "organizations_url": "https://api.github.com/users/elonzh/orgs", "repos_url": "https://api.github.com/users/elonzh/repos", "events_url": "https://api.github.com/users/elonzh/events{/privacy}", "received_events_url": "https://api.github.com/users/elonzh/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2022-09-15T08:32:13Z", "updated_at": "2022-09-15T20:04:14Z", "closed_at": "2022-09-15T20:04:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n\u63d0\u95ee\u8bf7\u4e0a\u8bba\u575b\uff0c\u4e0d\u8981\u53d1\u8fd9\u91cc\uff01\r\n\u63d0\u95ee\u8bf7\u4e0a\u8bba\u575b\uff0c\u4e0d\u8981\u53d1\u8fd9\u91cc\uff01\r\n\u63d0\u95ee\u8bf7\u4e0a\u8bba\u575b\uff0c\u4e0d\u8981\u53d1\u8fd9\u91cc\uff01\r\n\r\n\u4ee5\u4e0b\u5fc5\u586b\uff0c\u5426\u5219\u6055\u4e0d\u53d7\u7406\u3002\r\n-->\r\n\r\n**Describe the bug**\r\n\r\n\u4f7f\u7528 CSV \u6587\u4ef6\u4f5c\u4e3a\u8bcd\u5178\u65f6\uff0c\u7531\u4e8e\u90e8\u5206\u8bcd\u542b\u6709\u9017\u53f7\u4f1a\u5bfc\u81f4\u8bcd\u5178\u5931\u8d25\u3002\r\n\r\n\u4ece\u4ee3\u7801\u4e0a\u770b\uff0cHanLP \u53ea\u662f\u5355\u7eaf\u7684\u4f7f\u7528\u9017\u53f7\u5207\u5206\u6bcf\u4e00\u884c\uff0c\u5e76\u6ca1\u6709\u5904\u7406 CSV \u8f6c\u4e49\u7684\u60c5\u51b5\u3002\r\n\r\n\u5217\u6570\u636e\u4e2d\u5b58\u5728 `\"`, `,` \u7b26\u53f7\u65f6\u4f1a\u5c06\u8be5\u5217\u4f7f\u7528 `\"\"` \u8fdb\u884c\u8f6c\u4e49\u3002\r\n\r\n**Code to reproduce the issue**\r\n\r\n\u5c06\u4ee5\u4e0b\u6587\u672c\u76f4\u63a5\u4fdd\u5b58\u4e3a csv \u6587\u4ef6\u5e76\u52a0\u8f7d\u8bcd\u5178\u3002\r\n\r\n```csv\r\n19th century music\r\n20 century British history\r\n21st Century Music\r\n21st century science & technology\r\n2D Materials\r\n3 Biotech\r\n3D Printing and Additive Manufacturing\r\n3D Printing in Medicine\r\n3D Research\r\n\"3L: Language, Linguistics, Literature\"\r\n```\r\n\r\n**Describe the current behavior**\r\n\r\n```\r\nException in thread \"main\" java.lang.NumberFormatException: For input string: \" Linguistics\"\r\n\tat java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)\r\n\tat java.base/java.lang.Integer.parseInt(Integer.java:638)\r\n\tat java.base/java.lang.Integer.parseInt(Integer.java:770)\r\n\tat com.hankcs.hanlp.corpus.io.IOUtil.loadDictionary(IOUtil.java:794)\r\n\tat com.hankcs.hanlp.corpus.io.IOUtil.loadDictionary(IOUtil.java:752)\r\n\tat com.hankcs.hanlp.seg.Other.DoubleArrayTrieSegment.<init>(DoubleArrayTrieSegment.java:68)\r\n\tat org.grobid.core.lexicon.DictSegmenterKt.main(DictSegmenter.kt:6)\r\n\tat org.grobid.core.lexicon.DictSegmenterKt.main(DictSegmenter.kt)\r\n```\r\n\r\n**Expected behavior**\r\n\r\n\u6b63\u5e38\u52a0\u8f7d\r\n\r\n**System information**\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Ubuntu 22.04.1 LTS\r\n- HanLP version:  com.hankcs:hanlp:portable-1.8.3\r\n\r\n\r\n* [x] I've completed this form and searched the web for solutions.\r\n<!-- \u53d1\u8868\u524d\u5148\u641c\u7d22\uff0c\u6b64\u5904\u4e00\u5b9a\u8981\u52fe\u9009\uff01 -->\r\n<!-- \u53d1\u8868\u524d\u5148\u641c\u7d22\uff0c\u6b64\u5904\u4e00\u5b9a\u8981\u52fe\u9009\uff01 -->\r\n<!-- \u53d1\u8868\u524d\u5148\u641c\u7d22\uff0c\u6b64\u5904\u4e00\u5b9a\u8981\u52fe\u9009\uff01 -->", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1785/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/1785/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1778", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/1778/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/1778/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/1778/events", "html_url": "https://github.com/hankcs/HanLP/issues/1778", "id": 1351807939, "node_id": "I_kwDOAX0dc85QkvPD", "number": 1778, "title": "\u5217\u8868\u5f62\u5f0f\u7684\u8f93\u5165\uff0c\u4e0d\u540c\u6a21\u578b\u7684\u7ed3\u679c\u957f\u5ea6\u4e0d\u4e00\u81f4", "user": {"login": "jiauy", "id": 49192518, "node_id": "MDQ6VXNlcjQ5MTkyNTE4", "avatar_url": "https://avatars.githubusercontent.com/u/49192518?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jiauy", "html_url": "https://github.com/jiauy", "followers_url": "https://api.github.com/users/jiauy/followers", "following_url": "https://api.github.com/users/jiauy/following{/other_user}", "gists_url": "https://api.github.com/users/jiauy/gists{/gist_id}", "starred_url": "https://api.github.com/users/jiauy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jiauy/subscriptions", "organizations_url": "https://api.github.com/users/jiauy/orgs", "repos_url": "https://api.github.com/users/jiauy/repos", "events_url": "https://api.github.com/users/jiauy/events{/privacy}", "received_events_url": "https://api.github.com/users/jiauy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2022-08-26T06:23:08Z", "updated_at": "2022-08-27T01:05:35Z", "closed_at": "2022-08-26T07:01:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n\u63d0\u95ee\u8bf7\u4e0a\u8bba\u575b\uff0c\u4e0d\u8981\u53d1\u8fd9\u91cc\uff01\r\n\u63d0\u95ee\u8bf7\u4e0a\u8bba\u575b\uff0c\u4e0d\u8981\u53d1\u8fd9\u91cc\uff01\r\n\u63d0\u95ee\u8bf7\u4e0a\u8bba\u575b\uff0c\u4e0d\u8981\u53d1\u8fd9\u91cc\uff01\r\n\r\n\u4ee5\u4e0b\u5fc5\u586b\uff0c\u5426\u5219\u6055\u4e0d\u53d7\u7406\u3002\r\n-->\r\n\r\n**Describe the bug**\r\n\u5904\u7406\u5217\u8868\u5f62\u5f0f\u7684\u8f93\u5165\uff0ctok\u5bf9\u4e8e\u7a7a\u5b57\u7b26\u4e32\u6216\u5355\u4e2a\u6807\u70b9\u662f\u6709\u8fd4\u56de\u503c\u7684\uff0cpos \u548cdep\u5219\u6ca1\u6709\u8fd4\u56de\u503c\uff0c\u5bfc\u81f4tok\u7684\u7ed3\u679c\u4e0d\u80fd\u548cpos \u548c dep\u7684\u7ed3\u679c\u4e00\u4e00\u5bf9\u9f50\r\n**Code to reproduce the issue**\r\n\r\n```python\r\nimport hanlp\r\ntok  = hanlp.load(hanlp.pretrained.tok.COARSE_ELECTRA_SMALL_ZH)\r\npos = hanlp.load(hanlp.pretrained.pos.PKU_POS_ELECTRA_SMALL)\r\ndep = hanlp.load(hanlp.pretrained.dep.PMT1_DEP_ELECTRA_SMALL)\r\n\r\ntext = ['\u4f60\u597d', '']\r\ntok_r = tok(text)\r\n# [['\u4f60\u597d'], ['']]\r\npos_r = pos(tok_r)\r\n# [['l']]  \u671f\u671b\u7684\u8fd4\u56de\u5e94\u8be5\u662f [['l'], []]\r\ndep_r = dep(tok_r)\r\n# [[{'id': 1, 'form': '\u4f60\u597d', 'cpos': None, 'pos': None, 'head': 0, 'deprel': 'HED', 'lemma': None, 'feats': None, 'phead': None, 'pdeprel': None}]]\r\nlen(tok_r) != len(pos_r) ==len(dep_r)\r\n# True\r\n```\r\n\r\n**Describe the current behavior**\r\n\u5904\u7406\u5217\u8868\u5f62\u5f0f\u7684\u8f93\u5165\uff0ctok\u5bf9\u4e8e\u7a7a\u5b57\u7b26\u4e32\u6216\u5355\u4e2a\u6807\u70b9\u662f\u6709\u8fd4\u56de\u503c\u7684\uff0cpos \u548cdep\u5219\u6ca1\u6709\u8fd4\u56de\u503c\uff0c\u5bfc\u81f4tok\u7684\u7ed3\u679c\u4e0d\u80fd\u548cpos \u548c dep\u7684\u7ed3\u679c\u4e00\u4e00\u5bf9\u9f50\r\n\r\n**Expected behavior**\r\n\u5bf9\u4e8e\u7a7a\u5b57\u7b26\u4e32\u6216\u5355\u4e2a\u6807\u70b9\u7b49\uff0cpos \u548cdep\u4e5f\u9700\u8981\u6709\u4e2a\u7a7a\u5217\u8868\u7684\u7ed3\u679c\u8fdb\u884c\u5360\u4f4d\uff0c\u7528\u4e8e\u5bf9\u6587\u672c\u8fdb\u884c\u6807\u6ce8\u3002\r\n\r\n**System information**\r\n- macos 11.6 \r\n- Python version: 3.8.12\r\n- HanLP version: 2.1.0b37\r\n\r\n**Other info / logs**\r\nno\r\n\r\n* [x] I've completed this form and searched the web for solutions.\r\n<!-- \u53d1\u8868\u524d\u5148\u641c\u7d22\uff0c\u6b64\u5904\u4e00\u5b9a\u8981\u52fe\u9009\uff01 -->\r\n<!-- \u53d1\u8868\u524d\u5148\u641c\u7d22\uff0c\u6b64\u5904\u4e00\u5b9a\u8981\u52fe\u9009\uff01 -->\r\n<!-- \u53d1\u8868\u524d\u5148\u641c\u7d22\uff0c\u6b64\u5904\u4e00\u5b9a\u8981\u52fe\u9009\uff01 -->", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1778/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/1778/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1773", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/1773/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/1773/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/1773/events", "html_url": "https://github.com/hankcs/HanLP/issues/1773", "id": 1335390448, "node_id": "I_kwDOAX0dc85PmHDw", "number": 1773, "title": "demo\u811a\u672c\u65e0\u6cd5\u590d\u73b0sota\u6548\u679c", "user": {"login": "shixinglingguihua", "id": 22882285, "node_id": "MDQ6VXNlcjIyODgyMjg1", "avatar_url": "https://avatars.githubusercontent.com/u/22882285?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shixinglingguihua", "html_url": "https://github.com/shixinglingguihua", "followers_url": "https://api.github.com/users/shixinglingguihua/followers", "following_url": "https://api.github.com/users/shixinglingguihua/following{/other_user}", "gists_url": "https://api.github.com/users/shixinglingguihua/gists{/gist_id}", "starred_url": "https://api.github.com/users/shixinglingguihua/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shixinglingguihua/subscriptions", "organizations_url": "https://api.github.com/users/shixinglingguihua/orgs", "repos_url": "https://api.github.com/users/shixinglingguihua/repos", "events_url": "https://api.github.com/users/shixinglingguihua/events{/privacy}", "received_events_url": "https://api.github.com/users/shixinglingguihua/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-08-11T02:18:04Z", "updated_at": "2022-08-11T04:31:44Z", "closed_at": "2022-08-11T04:31:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n\u63d0\u95ee\u8bf7\u4e0a\u8bba\u575b\uff0c\u4e0d\u8981\u53d1\u8fd9\u91cc\uff01\r\n\u63d0\u95ee\u8bf7\u4e0a\u8bba\u575b\uff0c\u4e0d\u8981\u53d1\u8fd9\u91cc\uff01\r\n\u63d0\u95ee\u8bf7\u4e0a\u8bba\u575b\uff0c\u4e0d\u8981\u53d1\u8fd9\u91cc\uff01\r\n\r\n\u4ee5\u4e0b\u5fc5\u586b\uff0c\u5426\u5219\u6055\u4e0d\u53d7\u7406\u3002\r\n-->\r\n\r\n**Describe the bug**\r\n\u6267\u884csota\u811a\u672c\u65e0\u6cd5\u590d\u73b0\u6548\u679c\r\n\r\n**Code to reproduce the issue**\r\nProvide a reproducible test case that is the bare minimum necessary to generate the problem.\r\n\r\n```python\r\n```\r\n\r\n**Describe the current behavior**\r\n1\u3001\u4e0b\u8f7dsota\u811a\u672c HanLP/ plugins / hanlp_demo / hanlp_demo / zh / train_sota_bert_pku.py \r\n2\u3001\u6253\u5f00python shell \u6267\u884c \u811a\u672c\u4e2d\u7684python\u4ee3\u7801 \u4ee3\u7801\u5982\u4e0b\uff1a\r\nfrom hanlp.common.dataset import SortingSamplerBuilder\r\nfrom hanlp.components.tokenizers.transformer import TransformerTaggingTokenizer\r\nfrom hanlp.datasets.tokenization.sighan2005.pku import SIGHAN2005_PKU_TRAIN_ALL, SIGHAN2005_PKU_TEST\r\nfrom tests import cdroot\r\n\r\ncdroot()\r\ntokenizer = TransformerTaggingTokenizer()\r\nsave_dir = 'data/model/cws/sighan2005_pku_bert_base_96.66'\r\ntokenizer.fit(\r\n    SIGHAN2005_PKU_TRAIN_ALL,\r\n    SIGHAN2005_PKU_TEST,  # Conventionally, no devset is used. See Tian et al. (2020).\r\n    save_dir,\r\n    'bert-base-chinese',\r\n    max_seq_len=300,\r\n    char_level=True,\r\n    hard_constraint=True,\r\n    sampler_builder=SortingSamplerBuilder(batch_size=32),\r\n    epochs=10,\r\n    adam_epsilon=1e-6,\r\n    warmup_steps=0.1,\r\n    weight_decay=0.01,\r\n    word_dropout=0.1,\r\n    seed=1609422632,\r\n)\r\ntokenizer.evaluate(SIGHAN2005_PKU_TEST, save_dir)\r\n\r\n**Expected behavior**\r\nA clear and concise description of what you expected to happen.\r\n\r\n**System information**\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 20.04):\r\n- Python version: 3.8.8\r\n- HanLP version: 2.1.0b37\r\n\r\n**Other info / logs**\r\n623/623 loss: 1416.3794 P: 59.23% R: 65.39% F1: 62.16% ET: 2 m 6 s  \r\n  63/63 loss: 451.0509 P: 89.72% R: 89.54% F1: 89.63% ET: 4 s   \r\n2 m 9 s / 21 m 33 s ETA: 19 m 24 s (saved)\r\nEpoch 2 / 10:\r\n623/623 loss: 286.6173 P: 31.52% R: 63.34% F1: 42.09% ET: 2 m 8 s   \r\n  63/63 loss: 486.3771 P: 0.37% R: 8.27% F1: 0.71% ET: 4 s   \r\n4 m 22 s / 21 m 50 s ETA: 17 m 28 s (1)\r\nEpoch 3 / 10:\r\n623/623 loss: 211.5965 P: 21.55% R: 61.44% F1: 31.91% ET: 2 m 8 s   \r\n  63/63 loss: 470.1510 P: 0.39% R: 8.66% F1: 0.75% ET: 4 s   \r\n6 m 34 s / 21 m 53 s ETA: 15 m 19 s (2)\r\nEpoch 4 / 10:\r\n623/623 loss: 173.5003 P: 16.42% R: 59.68% F1: 25.75% ET: 2 m 9 s   \r\n  63/63 loss: 469.0070 P: 0.37% R: 8.32% F1: 0.71% ET: 4 s   \r\n8 m 47 s / 21 m 57 s ETA: 13 m 10 s (3)\r\nEpoch 5 / 10:\r\n623/623 loss: 149.7656 P: 13.30% R: 58.04% F1: 21.63% ET: 2 m 9 s  \r\n  63/63 loss: 482.1117 P: 0.38% R: 8.61% F1: 0.73% ET: 4 s   \r\n10 m 59 s / 21 m 59 s ETA: 10 m 59 s (4)\r\nEpoch 6 / 10:\r\n623/623 loss: 131.2736 P: 11.19% R: 56.51% F1: 18.69% ET: 2 m 9 s  \r\n  63/63 loss: 530.2560 P: 0.36% R: 8.13% F1: 0.69% ET: 4 s   \r\n13 m 12 s / 22 m 0 s ETA: 8 m 48 s (5) early stop\r\nMax score of dev is P: 89.72% R: 89.54% F1: 89.63% at epoch 1\r\nAverage time of each epoch is 2 m 12 s\r\n13 m 12 s elapsed\r\nP: 89.72% R: 89.54% F1: 89.63%\r\n>>> tokenizer.evaluate(SIGHAN2005_PKU_TEST, save_dir)\r\nPruned 0 (0.0%) samples out of 2004.                             \r\n63/63 loss: 451.0509 P: 89.72% R: 89.54% F1: 89.63% ET: 4 s   \r\nspeed: 531 samples/second\r\n(P: 89.72% R: 89.54% F1: 89.63%, (451.0508732871404, P: 89.72% R: 89.54% F1: 89.63%))\r\n\r\n* [x] I've completed this form and searched the web for solutions.\r\n<!-- \u53d1\u8868\u524d\u5148\u641c\u7d22\uff0c\u6b64\u5904\u4e00\u5b9a\u8981\u52fe\u9009\uff01 -->\r\n<!-- \u53d1\u8868\u524d\u5148\u641c\u7d22\uff0c\u6b64\u5904\u4e00\u5b9a\u8981\u52fe\u9009\uff01 -->\r\n<!-- \u53d1\u8868\u524d\u5148\u641c\u7d22\uff0c\u6b64\u5904\u4e00\u5b9a\u8981\u52fe\u9009\uff01 -->", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1773/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/1773/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1757", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/1757/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/1757/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/1757/events", "html_url": "https://github.com/hankcs/HanLP/issues/1757", "id": 1296656648, "node_id": "I_kwDOAX0dc85NSWkI", "number": 1757, "title": "Hanlp native\u65e0\u6cd5\u4e0b\u8f7d\u6a21\u578b", "user": {"login": "1312354o", "id": 78574705, "node_id": "MDQ6VXNlcjc4NTc0NzA1", "avatar_url": "https://avatars.githubusercontent.com/u/78574705?v=4", "gravatar_id": "", "url": "https://api.github.com/users/1312354o", "html_url": "https://github.com/1312354o", "followers_url": "https://api.github.com/users/1312354o/followers", "following_url": "https://api.github.com/users/1312354o/following{/other_user}", "gists_url": "https://api.github.com/users/1312354o/gists{/gist_id}", "starred_url": "https://api.github.com/users/1312354o/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/1312354o/subscriptions", "organizations_url": "https://api.github.com/users/1312354o/orgs", "repos_url": "https://api.github.com/users/1312354o/repos", "events_url": "https://api.github.com/users/1312354o/events{/privacy}", "received_events_url": "https://api.github.com/users/1312354o/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2022-07-07T01:01:44Z", "updated_at": "2022-07-07T05:50:19Z", "closed_at": "2022-07-07T05:50:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n\u63d0\u95ee\u8bf7\u4e0a\u8bba\u575b\uff0c\u4e0d\u8981\u53d1\u8fd9\u91cc\uff01\r\n\u63d0\u95ee\u8bf7\u4e0a\u8bba\u575b\uff0c\u4e0d\u8981\u53d1\u8fd9\u91cc\uff01\r\n\u63d0\u95ee\u8bf7\u4e0a\u8bba\u575b\uff0c\u4e0d\u8981\u53d1\u8fd9\u91cc\uff01\r\n\r\n\u4ee5\u4e0b\u5fc5\u586b\uff0c\u5426\u5219\u6055\u4e0d\u53d7\u7406\u3002\r\n-->\r\n\r\n**Describe the bug**\r\n\r\n\u65e0\u6cd5\u4e0b\u8f7dhanlp native\u6a21\u578b failed to download a hanlp native model\r\n\r\nDownload failed due to ConnectionError(MaxRetryError(\"HTTPSConnectionPool(host='file.hankcs.workers.dev', port=443): Max retries exceeded with url: /hanlp/transformers/electra_zh_base_20210706_125233.zip (Caused by NewConnectionError('<urllib3.connection.HTTPSConnection object at 0x0000024B8D5CA4C0>: Failed to establish a new connection: [WinError 10060] \u7531\u4e8e\u8fde\u63a5\u65b9\u5728\u4e00\u6bb5\u65f6\u95f4\u540e\u6ca1\u6709\u6b63\u786e\u7b54\u590d\u6216\u8fde\u63a5\u7684\u4e3b\u673a\u6ca1\u6709\u53cd\u5e94\uff0c\u8fde\u63a5\u5c1d\u8bd5\u5931\u8d25\u3002'))\")).\r\n\r\nFailed to load https://file.hankcs.com/hanlp/mtl/close_tok_pos_ner_srl_dep_sdp_con_electra_base_20210111_124519.zip.\r\n\r\n\r\n\r\n**Code to reproduce the issue**\r\nProvide a reproducible test case that is the bare minimum necessary to generate the problem.\r\n\r\n\r\n\r\n```python\r\nHanLP = hanlp.load(hanlp.pretrained.mtl.CLOSE_TOK_POS_NER_SRL_DEP_SDP_CON_ELECTRA_BASE_ZH)\r\n```\r\n\r\n\r\n**Describe the current behavior**\r\n\u6a21\u578b\u4e0b\u8f7d\u5931\u8d25\r\n\r\n**Expected behavior**\r\n\u6a21\u578b\u6210\u529f\u4e0b\u8f7d\r\n\r\n**System information**\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Windows 10\r\n- Python version:  Python 3.8.8 \r\n- HanLP version: 2.1.0b35\r\n\r\n**Other info / logs**\r\nInclude any logs or source code that would be helpful to diagnose the problem. If including tracebacks, please include the full traceback. Large logs and files should be attached.\r\nConnectionError                           Traceback (most recent call last)\r\n<ipython-input-33-7a52ebc07181> in <module>\r\n----> 1 HanLP = hanlp.load(hanlp.pretrained.mtl.CLOSE_TOK_POS_NER_SRL_DEP_SDP_CON_ELECTRA_BASE_ZH)\r\n\r\nE:\\anacoda\\lib\\site-packages\\hanlp\\__init__.py in load(save_dir, verbose, **kwargs)\r\n     41         from hanlp_common.constant import HANLP_VERBOSE\r\n     42         verbose = HANLP_VERBOSE\r\n---> 43     return load_from_meta_file(save_dir, 'meta.json', verbose=verbose, **kwargs)\r\n     44 \r\n     45 \r\n\r\nE:\\anacoda\\lib\\site-packages\\hanlp\\utils\\component_util.py in load_from_meta_file(save_dir, meta_filename, transform_only, verbose, **kwargs)\r\n     30     identifier = save_dir\r\n     31     load_path = save_dir\r\n---> 32     save_dir = get_resource(save_dir)\r\n     33     if save_dir.endswith('.json'):\r\n     34         meta_filename = os.path.basename(save_dir)\r\n\r\nE:\\anacoda\\lib\\site-packages\\hanlp\\utils\\io_util.py in get_resource(path, save_dir, extract, prefix, append_location, verbose)\r\n    338             realpath += compressed\r\n    339         if not os.path.isfile(realpath):\r\n--> 340             path = download(url=path, save_path=realpath, verbose=verbose)\r\n    341         else:\r\n    342             path = realpath\r\n\r\nE:\\anacoda\\lib\\site-packages\\hanlp\\utils\\io_util.py in download(url, save_path, save_dir, prefix, append_location, verbose)\r\n    183             elif hasattr(e, 'args') and e.args and isinstance(e.args, tuple) and isinstance(e.args[0], str):\r\n    184                 e.args = (e.args[0] + '\\n' + remove_color_tag(message),) + e.args[1:]\r\n--> 185             raise e from None\r\n    186         remove_file(save_path)\r\n    187         os.rename(tmp_path, save_path)\r\n\r\nE:\\anacoda\\lib\\site-packages\\hanlp\\utils\\io_util.py in download(url, save_path, save_dir, prefix, append_location, verbose)\r\n    153             if verbose:\r\n    154                 downloader.subscribe(DownloadCallback(show_header=False))\r\n--> 155             downloader.start_sync()\r\n    156         except BaseException as e:\r\n    157             remove_file(tmp_path)\r\n\r\nE:\\anacoda\\lib\\site-packages\\hanlp_downloader\\down.py in start_sync(self)\r\n    112             raise RuntimeError('Download has already been started.')\r\n    113 \r\n--> 114         self.run()\r\n    115 \r\n    116     def pause(self):\r\n\r\nE:\\anacoda\\lib\\site-packages\\hanlp_downloader\\down.py in run(self)\r\n    150         s.mount('https://', adapter)\r\n    151 \r\n--> 152         r = s.get(self.url, stream=True, headers=self.headers)\r\n    153         if r.status_code != 200:\r\n    154             raise HTTPError(self.url, r.status_code, f'Internet error', r.headers, None)\r\n\r\nE:\\anacoda\\lib\\site-packages\\requests\\sessions.py in get(self, url, **kwargs)\r\n    553 \r\n    554         kwargs.setdefault('allow_redirects', True)\r\n--> 555         return self.request('GET', url, **kwargs)\r\n    556 \r\n    557     def options(self, url, **kwargs):\r\n\r\nE:\\anacoda\\lib\\site-packages\\requests\\sessions.py in request(self, method, url, params, data, headers, cookies, files, auth, timeout, allow_redirects, proxies, hooks, stream, verify, cert, json)\r\n    540         }\r\n    541         send_kwargs.update(settings)\r\n--> 542         resp = self.send(prep, **send_kwargs)\r\n    543 \r\n    544         return resp\r\n\r\nE:\\anacoda\\lib\\site-packages\\requests\\sessions.py in send(self, request, **kwargs)\r\n    675             # Redirect resolving generator.\r\n    676             gen = self.resolve_redirects(r, request, **kwargs)\r\n--> 677             history = [resp for resp in gen]\r\n    678         else:\r\n    679             history = []\r\n\r\nE:\\anacoda\\lib\\site-packages\\requests\\sessions.py in <listcomp>(.0)\r\n    675             # Redirect resolving generator.\r\n    676             gen = self.resolve_redirects(r, request, **kwargs)\r\n--> 677             history = [resp for resp in gen]\r\n    678         else:\r\n    679             history = []\r\n\r\nE:\\anacoda\\lib\\site-packages\\requests\\sessions.py in resolve_redirects(self, resp, req, stream, timeout, verify, cert, proxies, yield_requests, **adapter_kwargs)\r\n    235             else:\r\n    236 \r\n--> 237                 resp = self.send(\r\n    238                     req,\r\n    239                     stream=stream,\r\n\r\nE:\\anacoda\\lib\\site-packages\\requests\\sessions.py in send(self, request, **kwargs)\r\n    653 \r\n    654         # Send the request\r\n--> 655         r = adapter.send(request, **kwargs)\r\n    656 \r\n    657         # Total elapsed time of the request (approximately)\r\n\r\nE:\\anacoda\\lib\\site-packages\\requests\\adapters.py in send(self, request, stream, timeout, verify, cert, proxies)\r\n    514                 raise SSLError(e, request=request)\r\n    515 \r\n--> 516             raise ConnectionError(e, request=request)\r\n    517 \r\n    518         except ClosedPoolError as e:\r\n\r\nConnectionError: HTTPSConnectionPool(host='file.hankcs.workers.dev', port=443): Max retries exceeded with url: /hanlp/mtl/close_tok_pos_ner_srl_dep_sdp_con_electra_base_20210111_124519.zip (Caused by NewConnectionError('<urllib3.connection.HTTPSConnection object at 0x0000024B8D6288E0>: Failed to establish a new connection: [WinError 10060] \u7531\u4e8e\u8fde\u63a5\u65b9\u5728\u4e00\u6bb5\u65f6\u95f4\u540e\u6ca1\u6709\u6b63\u786e\u7b54\u590d\u6216\u8fde\u63a5\u7684\u4e3b\u673a\u6ca1\u6709\u53cd\u5e94\uff0c\u8fde\u63a5\u5c1d\u8bd5\u5931\u8d25\u3002'))\r\n\r\n* [x] I've completed this form and searched the web for solutions.\r\n<!-- \u53d1\u8868\u524d\u5148\u641c\u7d22\uff0c\u6b64\u5904\u4e00\u5b9a\u8981\u52fe\u9009\uff01 -->\r\n<!-- \u53d1\u8868\u524d\u5148\u641c\u7d22\uff0c\u6b64\u5904\u4e00\u5b9a\u8981\u52fe\u9009\uff01 -->\r\n<!-- \u53d1\u8868\u524d\u5148\u641c\u7d22\uff0c\u6b64\u5904\u4e00\u5b9a\u8981\u52fe\u9009\uff01 -->", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1757/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/1757/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1756", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/1756/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/1756/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/1756/events", "html_url": "https://github.com/hankcs/HanLP/issues/1756", "id": 1294241096, "node_id": "I_kwDOAX0dc85NJI1I", "number": 1756, "title": "UD_ONTONOTES_TOK_POS_LEM_FEA_NER_SRL_DEP_SDP_CON_XLMR_BASE\u6a21\u578b\u5904\u7406\u6587\u672c\u65f6\u62a5\u9519", "user": {"login": "MacGuffin230", "id": 51467349, "node_id": "MDQ6VXNlcjUxNDY3MzQ5", "avatar_url": "https://avatars.githubusercontent.com/u/51467349?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MacGuffin230", "html_url": "https://github.com/MacGuffin230", "followers_url": "https://api.github.com/users/MacGuffin230/followers", "following_url": "https://api.github.com/users/MacGuffin230/following{/other_user}", "gists_url": "https://api.github.com/users/MacGuffin230/gists{/gist_id}", "starred_url": "https://api.github.com/users/MacGuffin230/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MacGuffin230/subscriptions", "organizations_url": "https://api.github.com/users/MacGuffin230/orgs", "repos_url": "https://api.github.com/users/MacGuffin230/repos", "events_url": "https://api.github.com/users/MacGuffin230/events{/privacy}", "received_events_url": "https://api.github.com/users/MacGuffin230/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2022-07-05T12:35:35Z", "updated_at": "2022-07-06T02:18:13Z", "closed_at": "2022-07-06T02:18:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n\u63d0\u95ee\u8bf7\u4e0a\u8bba\u575b\uff0c\u4e0d\u8981\u53d1\u8fd9\u91cc\uff01\r\n\u63d0\u95ee\u8bf7\u4e0a\u8bba\u575b\uff0c\u4e0d\u8981\u53d1\u8fd9\u91cc\uff01\r\n\u63d0\u95ee\u8bf7\u4e0a\u8bba\u575b\uff0c\u4e0d\u8981\u53d1\u8fd9\u91cc\uff01\r\n\r\n\u4ee5\u4e0b\u5fc5\u586b\uff0c\u5426\u5219\u6055\u4e0d\u53d7\u7406\u3002\r\n-->\r\n\r\n**Describe the bug**\r\nA clear and concise description of what the bug is.\r\nUD_ONTONOTES_TOK_POS_LEM_FEA_NER_SRL_DEP_SDP_CON_XLMR_BASE\u6a21\u578b\u5904\u7406\u6587\u672c\u65f6\u62a5\u9519\r\n\r\n**Code to reproduce the issue**\r\nProvide a reproducible test case that is the bare minimum necessary to generate the problem.\r\n\r\n```python\r\nimport hanlp\r\n\r\nmodel5 = hanlp.load(hanlp.pretrained.mtl.UD_ONTONOTES_TOK_POS_LEM_FEA_NER_SRL_DEP_SDP_CON_XLMR_BASE)\r\nmodel5('\u5f88\u597dbr ~%?\u2026;# *\u2019\u2606&\u2103$\ufe3f\u2605?')\r\n```\r\n\r\n**Describe the current behavior**\r\nA clear and concise description of what happened.\r\n---------------------------------------------------------------------------\r\nIndexError                                Traceback (most recent call last)\r\n<ipython-input-20-3ec54f8a3e83> in <module>\r\n----> 1 model5('\u5f88\u597dbr ~%?\u2026;# *\u2019\u2606&\u2103$\ufe3f\u2605?')\r\n\r\n~/.local/lib/python3.6/site-packages/hanlp/components/mtl/multi_task_learning.py in __call__(self, data, **kwargs)\r\n    769 \r\n    770     def __call__(self, data, **kwargs) -> Document:\r\n--> 771         return super().__call__(data, **kwargs)\r\n    772 \r\n    773     def __getitem__(self, task_name: str) -> Task:\r\n\r\n/opt/app/conda/lib/python3.6/site-packages/torch/autograd/grad_mode.py in decorate_context(*args, **kwargs)\r\n     26         def decorate_context(*args, **kwargs):\r\n     27             with self.__class__():\r\n---> 28                 return func(*args, **kwargs)\r\n     29         return cast(F, decorate_context)\r\n     30 \r\n\r\n~/.local/lib/python3.6/site-packages/hanlp/common/torch_component.py in __call__(self, *args, **kwargs)\r\n    636             **kwargs: Used in sub-classes.\r\n    637         \"\"\"\r\n--> 638         return super().__call__(*args, **merge_dict(self.config, overwrite=True, **kwargs))\r\n\r\n~/.local/lib/python3.6/site-packages/hanlp/common/component.py in __call__(self, *args, **kwargs)\r\n     34 \r\n     35         \"\"\"\r\n---> 36         return self.predict(*args, **kwargs)\r\n\r\n~/.local/lib/python3.6/site-packages/hanlp/components/mtl/multi_task_learning.py in predict(self, data, tasks, skip_tasks, resolved_tasks, **kwargs)\r\n    503             # Run the first task, let it make the initial batch for the successors\r\n    504             output_dict = self.predict_task(first_task, first_task_name, batch, results, run_transform=True,\r\n--> 505                                             cls_is_bos=cls_is_bos, sep_is_eos=sep_is_eos)\r\n    506             # Run each task group in order\r\n    507             for group_id, group in enumerate(target_tasks):\r\n\r\n~/.local/lib/python3.6/site-packages/hanlp/components/mtl/multi_task_learning.py in predict_task(self, task, output_key, batch, results, output_dict, run_transform, cls_is_bos, sep_is_eos)\r\n    593         output_dict, batch = self.feed_batch(batch, output_key, output_dict, run_transform, cls_is_bos, sep_is_eos,\r\n    594                                              results)\r\n--> 595         self.decode_output(output_dict, batch, output_key)\r\n    596         results[output_key].extend(task.prediction_to_result(output_dict[output_key]['prediction'], batch))\r\n    597         return output_dict\r\n\r\n~/.local/lib/python3.6/site-packages/hanlp/components/mtl/multi_task_learning.py in decode_output(self, output_dict, batch, task_name)\r\n    733                 output_per_task['mask'],\r\n    734                 batch,\r\n--> 735                 self.model.decoders[task_name])\r\n    736 \r\n    737     def update_metrics(self, batch: Dict[str, Any], output_dict: Dict[str, Any], metrics: MetricDict, task_name):\r\n\r\n~/.local/lib/python3.6/site-packages/hanlp/components/mtl/tasks/tok/tag_tok.py in decode_output(self, output, mask, batch, decoder, **kwargs)\r\n    122     def decode_output(self, output: Union[torch.Tensor, Dict[str, torch.Tensor], Iterable[torch.Tensor], Any],\r\n    123                       mask: torch.BoolTensor, batch: Dict[str, Any], decoder, **kwargs) -> Union[Dict[str, Any], Any]:\r\n--> 124         return TransformerTaggingTokenizer.decode_output(self, output, mask, batch, decoder)\r\n    125 \r\n    126     def update_metrics(self, batch: Dict[str, Any],\r\n\r\n~/.local/lib/python3.6/site-packages/hanlp/components/tokenizers/transformer.py in decode_output(self, logits, mask, batch, model)\r\n    111             output = output.tolist()\r\n    112         prediction = self.id_to_tags(output, [len(x) for x in batch['token']])\r\n--> 113         return self.tag_to_span(prediction, batch)\r\n    114 \r\n    115     def tag_to_span(self, batch_tags, batch: dict):\r\n\r\n~/.local/lib/python3.6/site-packages/hanlp/components/tokenizers/transformer.py in tag_to_span(self, batch_tags, batch)\r\n    129                     for start, end, label in custom_words:\r\n    130                         if end - start == 1:\r\n--> 131                             tags[start] = S\r\n    132                         else:\r\n    133                             tags[start] = 'B'\r\n\r\nIndexError: list assignment index out of range\r\n\r\n**Expected behavior**\r\nA clear and concise description of what you expected to happen.\r\n\r\n**System information**\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04):\r\n- Python version: 3.6.11\r\n- HanLP version: 2.1.0-beta.34\r\n\r\n**Other info / logs**\r\nInclude any logs or source code that would be helpful to diagnose the problem. If including tracebacks, please include the full traceback. Large logs and files should be attached.\r\n\r\n* [x] I've completed this form and searched the web for solutions.\r\n<!-- \u53d1\u8868\u524d\u5148\u641c\u7d22\uff0c\u6b64\u5904\u4e00\u5b9a\u8981\u52fe\u9009\uff01 -->\r\n<!-- \u53d1\u8868\u524d\u5148\u641c\u7d22\uff0c\u6b64\u5904\u4e00\u5b9a\u8981\u52fe\u9009\uff01 -->\r\n<!-- \u53d1\u8868\u524d\u5148\u641c\u7d22\uff0c\u6b64\u5904\u4e00\u5b9a\u8981\u52fe\u9009\uff01 -->", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1756/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/1756/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1754", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/1754/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/1754/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/1754/events", "html_url": "https://github.com/hankcs/HanLP/issues/1754", "id": 1294175784, "node_id": "I_kwDOAX0dc85NI44o", "number": 1754, "title": "UD_ONTONOTES_TOK_POS_LEM_FEA_NER_SRL_DEP_SDP_CON_MMINILMV2L6\u6a21\u578b\u5904\u7406\u6587\u672c\u65f6\u62a5\u9519", "user": {"login": "MacGuffin230", "id": 51467349, "node_id": "MDQ6VXNlcjUxNDY3MzQ5", "avatar_url": "https://avatars.githubusercontent.com/u/51467349?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MacGuffin230", "html_url": "https://github.com/MacGuffin230", "followers_url": "https://api.github.com/users/MacGuffin230/followers", "following_url": "https://api.github.com/users/MacGuffin230/following{/other_user}", "gists_url": "https://api.github.com/users/MacGuffin230/gists{/gist_id}", "starred_url": "https://api.github.com/users/MacGuffin230/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MacGuffin230/subscriptions", "organizations_url": "https://api.github.com/users/MacGuffin230/orgs", "repos_url": "https://api.github.com/users/MacGuffin230/repos", "events_url": "https://api.github.com/users/MacGuffin230/events{/privacy}", "received_events_url": "https://api.github.com/users/MacGuffin230/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2022-07-05T11:34:12Z", "updated_at": "2022-07-06T02:17:59Z", "closed_at": "2022-07-06T02:17:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n\u63d0\u95ee\u8bf7\u4e0a\u8bba\u575b\uff0c\u4e0d\u8981\u53d1\u8fd9\u91cc\uff01\r\n\u63d0\u95ee\u8bf7\u4e0a\u8bba\u575b\uff0c\u4e0d\u8981\u53d1\u8fd9\u91cc\uff01\r\n\u63d0\u95ee\u8bf7\u4e0a\u8bba\u575b\uff0c\u4e0d\u8981\u53d1\u8fd9\u91cc\uff01\r\n\r\n\u4ee5\u4e0b\u5fc5\u586b\uff0c\u5426\u5219\u6055\u4e0d\u53d7\u7406\u3002\r\n-->\r\n\r\n**Describe the bug**\r\nA clear and concise description of what the bug is.\r\nUD_ONTONOTES_TOK_POS_LEM_FEA_NER_SRL_DEP_SDP_CON_MMINILMV2L6\u6a21\u578b\u5904\u7406\u6587\u672c\u65f6\u62a5\u9519\r\n\r\n**Code to reproduce the issue**\r\nProvide a reproducible test case that is the bare minimum necessary to generate the problem.\r\n\r\n```python\r\nimport hanlp\r\n\r\nmodel4 = hanlp.load(hanlp.pretrained.mtl.UD_ONTONOTES_TOK_POS_LEM_FEA_NER_SRL_DEP_SDP_CON_MMINILMV2L6)\r\nmodel4(\"~(=^\u2025^)_ ~(=^\u2025^)_ ~(=^\u2025^)_\")\r\n```\r\n\r\n**Describe the current behavior**\r\nA clear and concise description of what happened.\r\n---------------------------------------------------------------------------\r\nIndexError                                Traceback (most recent call last)\r\n<ipython-input-12-d6c0a38fb7b1> in <module>\r\n----> 1 model4(\"~(=^\u2025^)_ ~(=^\u2025^)_ ~(=^\u2025^)_\")\r\n\r\n~/.local/lib/python3.6/site-packages/hanlp/components/mtl/multi_task_learning.py in __call__(self, data, **kwargs)\r\n    769 \r\n    770     def __call__(self, data, **kwargs) -> Document:\r\n--> 771         return super().__call__(data, **kwargs)\r\n    772 \r\n    773     def __getitem__(self, task_name: str) -> Task:\r\n\r\n/opt/app/conda/lib/python3.6/site-packages/torch/autograd/grad_mode.py in decorate_context(*args, **kwargs)\r\n     26         def decorate_context(*args, **kwargs):\r\n     27             with self.__class__():\r\n---> 28                 return func(*args, **kwargs)\r\n     29         return cast(F, decorate_context)\r\n     30 \r\n\r\n~/.local/lib/python3.6/site-packages/hanlp/common/torch_component.py in __call__(self, *args, **kwargs)\r\n    636             **kwargs: Used in sub-classes.\r\n    637         \"\"\"\r\n--> 638         return super().__call__(*args, **merge_dict(self.config, overwrite=True, **kwargs))\r\n\r\n~/.local/lib/python3.6/site-packages/hanlp/common/component.py in __call__(self, *args, **kwargs)\r\n     34 \r\n     35         \"\"\"\r\n---> 36         return self.predict(*args, **kwargs)\r\n\r\n~/.local/lib/python3.6/site-packages/hanlp/components/mtl/multi_task_learning.py in predict(self, data, tasks, skip_tasks, resolved_tasks, **kwargs)\r\n    503             # Run the first task, let it make the initial batch for the successors\r\n    504             output_dict = self.predict_task(first_task, first_task_name, batch, results, run_transform=True,\r\n--> 505                                             cls_is_bos=cls_is_bos, sep_is_eos=sep_is_eos)\r\n    506             # Run each task group in order\r\n    507             for group_id, group in enumerate(target_tasks):\r\n\r\n~/.local/lib/python3.6/site-packages/hanlp/components/mtl/multi_task_learning.py in predict_task(self, task, output_key, batch, results, output_dict, run_transform, cls_is_bos, sep_is_eos)\r\n    593         output_dict, batch = self.feed_batch(batch, output_key, output_dict, run_transform, cls_is_bos, sep_is_eos,\r\n    594                                              results)\r\n--> 595         self.decode_output(output_dict, batch, output_key)\r\n    596         results[output_key].extend(task.prediction_to_result(output_dict[output_key]['prediction'], batch))\r\n    597         return output_dict\r\n\r\n~/.local/lib/python3.6/site-packages/hanlp/components/mtl/multi_task_learning.py in decode_output(self, output_dict, batch, task_name)\r\n    733                 output_per_task['mask'],\r\n    734                 batch,\r\n--> 735                 self.model.decoders[task_name])\r\n    736 \r\n    737     def update_metrics(self, batch: Dict[str, Any], output_dict: Dict[str, Any], metrics: MetricDict, task_name):\r\n\r\n~/.local/lib/python3.6/site-packages/hanlp/components/mtl/tasks/tok/tag_tok.py in decode_output(self, output, mask, batch, decoder, **kwargs)\r\n    122     def decode_output(self, output: Union[torch.Tensor, Dict[str, torch.Tensor], Iterable[torch.Tensor], Any],\r\n    123                       mask: torch.BoolTensor, batch: Dict[str, Any], decoder, **kwargs) -> Union[Dict[str, Any], Any]:\r\n--> 124         return TransformerTaggingTokenizer.decode_output(self, output, mask, batch, decoder)\r\n    125 \r\n    126     def update_metrics(self, batch: Dict[str, Any],\r\n\r\n~/.local/lib/python3.6/site-packages/hanlp/components/tokenizers/transformer.py in decode_output(self, logits, mask, batch, model)\r\n    111             output = output.tolist()\r\n    112         prediction = self.id_to_tags(output, [len(x) for x in batch['token']])\r\n--> 113         return self.tag_to_span(prediction, batch)\r\n    114 \r\n    115     def tag_to_span(self, batch_tags, batch: dict):\r\n\r\n~/.local/lib/python3.6/site-packages/hanlp/components/tokenizers/transformer.py in tag_to_span(self, batch_tags, batch)\r\n    129                     for start, end, label in custom_words:\r\n    130                         if end - start == 1:\r\n--> 131                             tags[start] = S\r\n    132                         else:\r\n    133                             tags[start] = 'B'\r\n\r\nIndexError: list assignment index out of range\r\n\r\n**Expected behavior**\r\nA clear and concise description of what you expected to happen.\r\n\r\n**System information**\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04):\r\n- Python version: Python 3.6.11\r\n- HanLP version: 2.1.0-beta.34\r\n\r\n**Other info / logs**\r\nInclude any logs or source code that would be helpful to diagnose the problem. If including tracebacks, please include the full traceback. Large logs and files should be attached.\r\n\r\n* [x] I've completed this form and searched the web for solutions.\r\n<!-- \u53d1\u8868\u524d\u5148\u641c\u7d22\uff0c\u6b64\u5904\u4e00\u5b9a\u8981\u52fe\u9009\uff01 -->\r\n<!-- \u53d1\u8868\u524d\u5148\u641c\u7d22\uff0c\u6b64\u5904\u4e00\u5b9a\u8981\u52fe\u9009\uff01 -->\r\n<!-- \u53d1\u8868\u524d\u5148\u641c\u7d22\uff0c\u6b64\u5904\u4e00\u5b9a\u8981\u52fe\u9009\uff01 -->", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1754/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/1754/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1728", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/1728/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/1728/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/1728/events", "html_url": "https://github.com/hankcs/HanLP/issues/1728", "id": 1221826147, "node_id": "I_kwDOAX0dc85I05Zj", "number": 1728, "title": "TupleTrieDict\u7684len\u4e0d\u4e00\u81f4", "user": {"login": "weblearngit", "id": 10063515, "node_id": "MDQ6VXNlcjEwMDYzNTE1", "avatar_url": "https://avatars.githubusercontent.com/u/10063515?v=4", "gravatar_id": "", "url": "https://api.github.com/users/weblearngit", "html_url": "https://github.com/weblearngit", "followers_url": "https://api.github.com/users/weblearngit/followers", "following_url": "https://api.github.com/users/weblearngit/following{/other_user}", "gists_url": "https://api.github.com/users/weblearngit/gists{/gist_id}", "starred_url": "https://api.github.com/users/weblearngit/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/weblearngit/subscriptions", "organizations_url": "https://api.github.com/users/weblearngit/orgs", "repos_url": "https://api.github.com/users/weblearngit/repos", "events_url": "https://api.github.com/users/weblearngit/events{/privacy}", "received_events_url": "https://api.github.com/users/weblearngit/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2022-04-30T12:58:44Z", "updated_at": "2022-04-30T19:48:30Z", "closed_at": "2022-04-30T19:48:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n\u63d0\u95ee\u8bf7\u4e0a\u8bba\u575b\uff0c\u4e0d\u8981\u53d1\u8fd9\u91cc\uff01\r\n\u63d0\u95ee\u8bf7\u4e0a\u8bba\u575b\uff0c\u4e0d\u8981\u53d1\u8fd9\u91cc\uff01\r\n\u63d0\u95ee\u8bf7\u4e0a\u8bba\u575b\uff0c\u4e0d\u8981\u53d1\u8fd9\u91cc\uff01\r\n\r\n\u4ee5\u4e0b\u5fc5\u586b\uff0c\u5426\u5219\u6055\u4e0d\u53d7\u7406\u3002\r\n-->\r\n\r\n**Describe the bug**\r\nTupleTrieDict \u521d\u59cb\u5316\u524d\u5408\u5e76\u6570\u636e\uff0c\u4e0e\u521d\u59cb\u5316\u540e\u66f4\u65b0\u6570\u636e\uff0clen(TupleTrieDict)\u7684\u7ed3\u679c\u4e0d\u4e00\u81f4\r\n\r\n**Code to reproduce the issue**\r\n\u5206\u6279\u6dfb\u52a0\u6570\u636ekey\u6709643142\uff08dict1\u65b9\u5f0f\uff09\uff0c\u5408\u5e76\u540ekey\u7684\u91cf\u4e3a632400\uff08dict2\u65b9\u5f0f\uff09\u3002\r\n\u7a0b\u5e8f\u8fd0\u884c\u65f6\uff0c\u53d1\u73b0 dict1\u65b9\u5f0f \u8282\u7701\u4e86\u65f6\u95f4\uff0c\u8bf7\u95ee TupleTrieDict \u7684\u6b64\u79cd\u73b0\u8c61\uff0c\u662f\u7279\u6027\uff0c\u8fd8\u662fbug\uff1f\r\n\r\n```python\r\n    from hanlp_trie.dictionary import TupleTrieDict\r\n\r\n    dict1 = TupleTrieDict({\"aa\": 1})\r\n    print(len(dict1), dict1[\"aa\"])  # \u8f93\u51fa 1 1\r\n\r\n    dict1[\"aa\"] += 2\r\n    print(len(dict1), dict1[\"aa\"])  # \u8f93\u51fa 2 3\r\n\r\n    dict2 = TupleTrieDict({\"aa\": 4})\r\n    print(len(dict2), dict2[\"aa\"])  # \u8f93\u51fa 1 4\r\n```\r\n\r\n**Describe the current behavior**\r\nA clear and concise description of what happened.\r\n\r\n**Expected behavior**\r\nA clear and concise description of what you expected to happen.\r\n\r\n**System information**\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04):\r\n- Python version: 3.9.7\r\n- HanLP version: 2.1.0b27\r\n\r\n**Other info / logs**\r\nInclude any logs or source code that would be helpful to diagnose the problem. If including tracebacks, please include the full traceback. Large logs and files should be attached.\r\n\r\n* [x] I've completed this form and searched the web for solutions.\r\n<!-- \u53d1\u8868\u524d\u5148\u641c\u7d22\uff0c\u6b64\u5904\u4e00\u5b9a\u8981\u52fe\u9009\uff01 -->\r\n<!-- \u53d1\u8868\u524d\u5148\u641c\u7d22\uff0c\u6b64\u5904\u4e00\u5b9a\u8981\u52fe\u9009\uff01 -->\r\n<!-- \u53d1\u8868\u524d\u5148\u641c\u7d22\uff0c\u6b64\u5904\u4e00\u5b9a\u8981\u52fe\u9009\uff01 -->", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1728/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/1728/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1727", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/1727/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/1727/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/1727/events", "html_url": "https://github.com/hankcs/HanLP/issues/1727", "id": 1209402786, "node_id": "I_kwDOAX0dc85IFgWi", "number": 1727, "title": "\u542f\u7528\u7528\u6237\u8bcd\u5178\uff0c\u5206\u8bcd\u7ed3\u679c\u4e2d\u7684\u5750\u6807\u662f\u9519\u8bef\u7684", "user": {"login": "weblearngit", "id": 10063515, "node_id": "MDQ6VXNlcjEwMDYzNTE1", "avatar_url": "https://avatars.githubusercontent.com/u/10063515?v=4", "gravatar_id": "", "url": "https://api.github.com/users/weblearngit", "html_url": "https://github.com/weblearngit", "followers_url": "https://api.github.com/users/weblearngit/followers", "following_url": "https://api.github.com/users/weblearngit/following{/other_user}", "gists_url": "https://api.github.com/users/weblearngit/gists{/gist_id}", "starred_url": "https://api.github.com/users/weblearngit/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/weblearngit/subscriptions", "organizations_url": "https://api.github.com/users/weblearngit/orgs", "repos_url": "https://api.github.com/users/weblearngit/repos", "events_url": "https://api.github.com/users/weblearngit/events{/privacy}", "received_events_url": "https://api.github.com/users/weblearngit/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2022-04-20T09:13:08Z", "updated_at": "2022-04-20T16:07:50Z", "closed_at": "2022-04-20T16:07:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n\u63d0\u95ee\u8bf7\u4e0a\u8bba\u575b\uff0c\u4e0d\u8981\u53d1\u8fd9\u91cc\uff01\r\n\u63d0\u95ee\u8bf7\u4e0a\u8bba\u575b\uff0c\u4e0d\u8981\u53d1\u8fd9\u91cc\uff01\r\n\u63d0\u95ee\u8bf7\u4e0a\u8bba\u575b\uff0c\u4e0d\u8981\u53d1\u8fd9\u91cc\uff01\r\n\r\n\u4ee5\u4e0b\u5fc5\u586b\uff0c\u5426\u5219\u6055\u4e0d\u53d7\u7406\u3002\r\n-->\r\n\r\n**Describe the bug**\r\n\u542f\u7528\u7528\u6237\u8bcd\u5178\uff0c\u5206\u8bcd\u7ed3\u679c\u4e2d\u7684\u5750\u6807\u662f\u9519\u8bef\u7684\u3002\r\n\r\n**Code to reproduce the issue**\r\nProvide a reproducible test case that is the bare minimum necessary to generate the problem.\r\n\r\n```python\r\nimport hanlp\r\ntok = hanlp.load(hanlp.pretrained.tok.FINE_ELECTRA_SMALL_ZH)\r\n\r\ntok.config.output_spans = True\r\n\r\ntok.dict_force = None\r\ntok.dict_combine = None\r\nsent = '\u6211\u5148\u53bb\u770b\u533b\u751f'\r\nprint(tok(sent))\r\n\r\ntok.dict_combine = set({'\u5148\u53bb'})\r\nprint(tok(sent))\r\n\r\n# \u8f93\u51fa\uff0c\u5148\u53bb \u7684\u5750\u6807\u5e94\u8be5\u662f 1,3\uff1a\r\n[['\u6211', 0, 1], ['\u5148', 1, 2], ['\u53bb', 2, 3], ['\u770b', 3, 4], ['\u533b\u751f', 4, 6]]\r\n[['\u6211', 0, 1], ['\u5148\u53bb', 1, 2], ['\u770b', 2, 3], ['\u533b\u751f', 3, 4]]\r\n```\r\n\r\n**Describe the current behavior**\r\nA clear and concise description of what happened.\r\n\r\n**Expected behavior**\r\nA clear and concise description of what you expected to happen.\r\n\r\n**System information**\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04):  win10\r\n- Python version: python3.9.7\r\n- HanLP version: hanlp-2.1.0b26\r\n\r\n**Other info / logs**\r\nInclude any logs or source code that would be helpful to diagnose the problem. If including tracebacks, please include the full traceback. Large logs and files should be attached.\r\n\r\n* [x] I've completed this form and searched the web for solutions.\r\n<!-- \u53d1\u8868\u524d\u5148\u641c\u7d22\uff0c\u6b64\u5904\u4e00\u5b9a\u8981\u52fe\u9009\uff01 -->\r\n<!-- \u53d1\u8868\u524d\u5148\u641c\u7d22\uff0c\u6b64\u5904\u4e00\u5b9a\u8981\u52fe\u9009\uff01 -->\r\n<!-- \u53d1\u8868\u524d\u5148\u641c\u7d22\uff0c\u6b64\u5904\u4e00\u5b9a\u8981\u52fe\u9009\uff01 -->", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1727/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/1727/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1723", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/1723/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/1723/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/1723/events", "html_url": "https://github.com/hankcs/HanLP/issues/1723", "id": 1206022979, "node_id": "I_kwDOAX0dc85H4nND", "number": 1723, "title": "\u5728\u7ebf\u7248\u5206\u8bcd\u9519\u8bef", "user": {"login": "SoaringTiger", "id": 10105704, "node_id": "MDQ6VXNlcjEwMTA1NzA0", "avatar_url": "https://avatars.githubusercontent.com/u/10105704?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SoaringTiger", "html_url": "https://github.com/SoaringTiger", "followers_url": "https://api.github.com/users/SoaringTiger/followers", "following_url": "https://api.github.com/users/SoaringTiger/following{/other_user}", "gists_url": "https://api.github.com/users/SoaringTiger/gists{/gist_id}", "starred_url": "https://api.github.com/users/SoaringTiger/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SoaringTiger/subscriptions", "organizations_url": "https://api.github.com/users/SoaringTiger/orgs", "repos_url": "https://api.github.com/users/SoaringTiger/repos", "events_url": "https://api.github.com/users/SoaringTiger/events{/privacy}", "received_events_url": "https://api.github.com/users/SoaringTiger/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2022-04-16T05:45:49Z", "updated_at": "2022-04-16T05:51:57Z", "closed_at": "2022-04-16T05:51:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n\u63d0\u95ee\u8bf7\u4e0a\u8bba\u575b\uff0c\u4e0d\u8981\u53d1\u8fd9\u91cc\uff01\r\n\u63d0\u95ee\u8bf7\u4e0a\u8bba\u575b\uff0c\u4e0d\u8981\u53d1\u8fd9\u91cc\uff01\r\n\u63d0\u95ee\u8bf7\u4e0a\u8bba\u575b\uff0c\u4e0d\u8981\u53d1\u8fd9\u91cc\uff01\r\n\r\n\u4ee5\u4e0b\u5fc5\u586b\uff0c\u5426\u5219\u6055\u4e0d\u53d7\u7406\u3002\r\n-->\r\n\r\n**Describe the bug**\r\n\u4f8b\uff1a\u9a6c\u65af\u514b\u7a81\u7136\u653e\u8bdd\u6536\u8d2d\u63a8\u7279\uff0c\u51fa\u4ef72700\u4ebf\u8ba9\u5b83\u9000\u5e02\u3002\r\n![\u5c4f\u5e55\u5feb\u7167 2022-04-16 \u4e0b\u53481 35 30](https://user-images.githubusercontent.com/10105704/163663066-839e5542-25e5-47e9-8a6d-7e82bebffed1.png)\r\n\r\n\"**\u63a8\u7279\uff0c**\"   \r\n\r\n\r\n**Code to reproduce the issue**\r\nProvide a reproducible test case that is the bare minimum necessary to generate the problem.\r\n\r\n```python\r\n```\r\n\r\n**Describe the current behavior**\r\n\u4e0d\u53ea\u8fd9\u4e00\u4e2a\u53e5\u5b50\uff0c\u5728\u7ebf\u7248\u4e0a\u5df2\u89c1\u8fc7\u591a\u6b21 **\u628a\u8bcd\u4e0e\u6807\u70b9** \u5206\u5728\u4e00\u8d77\u7684\u60c5\u51b5\u3002\r\n\r\n---\r\n\u4f7f\u7528\u672c\u5730\u7248hanlp-2.1.0b24\uff0c tok\u6a21\u578b **FINE_ELECTRA_SMALL_ZH**\uff0c \u5bf9\u4f8b\u53e5\u5206\u8bcd\u7ed3\u679c**\u6b63\u786e**\u3002\r\n\r\n**Expected behavior**\r\nA clear and concise description of what you expected to happen.\r\n\r\n**System information**\r\n- OS Platform and Distribution (Linux Ubuntu 16.04):\r\n- Python version: 3.9\r\n- HanLP version: 2.1.0b24\r\n\r\n**Other info / logs**\r\nInclude any logs or source code that would be helpful to diagnose the problem. If including tracebacks, please include the full traceback. Large logs and files should be attached.\r\n\r\n* [x] I've completed this form and searched the web for solutions.\r\n<!-- \u53d1\u8868\u524d\u5148\u641c\u7d22\uff0c\u6b64\u5904\u4e00\u5b9a\u8981\u52fe\u9009\uff01 -->\r\n<!-- \u53d1\u8868\u524d\u5148\u641c\u7d22\uff0c\u6b64\u5904\u4e00\u5b9a\u8981\u52fe\u9009\uff01 -->\r\n<!-- \u53d1\u8868\u524d\u5148\u641c\u7d22\uff0c\u6b64\u5904\u4e00\u5b9a\u8981\u52fe\u9009\uff01 -->", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1723/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/1723/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1722", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/1722/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/1722/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/1722/events", "html_url": "https://github.com/hankcs/HanLP/issues/1722", "id": 1206022976, "node_id": "I_kwDOAX0dc85H4nNA", "number": 1722, "title": "\u5728\u7ebf\u7248\u5206\u8bcd\u9519\u8bef", "user": {"login": "SoaringTiger", "id": 10105704, "node_id": "MDQ6VXNlcjEwMTA1NzA0", "avatar_url": "https://avatars.githubusercontent.com/u/10105704?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SoaringTiger", "html_url": "https://github.com/SoaringTiger", "followers_url": "https://api.github.com/users/SoaringTiger/followers", "following_url": "https://api.github.com/users/SoaringTiger/following{/other_user}", "gists_url": "https://api.github.com/users/SoaringTiger/gists{/gist_id}", "starred_url": "https://api.github.com/users/SoaringTiger/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SoaringTiger/subscriptions", "organizations_url": "https://api.github.com/users/SoaringTiger/orgs", "repos_url": "https://api.github.com/users/SoaringTiger/repos", "events_url": "https://api.github.com/users/SoaringTiger/events{/privacy}", "received_events_url": "https://api.github.com/users/SoaringTiger/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2022-04-16T05:45:47Z", "updated_at": "2022-04-16T20:16:44Z", "closed_at": "2022-04-16T20:15:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n\u63d0\u95ee\u8bf7\u4e0a\u8bba\u575b\uff0c\u4e0d\u8981\u53d1\u8fd9\u91cc\uff01\r\n\u63d0\u95ee\u8bf7\u4e0a\u8bba\u575b\uff0c\u4e0d\u8981\u53d1\u8fd9\u91cc\uff01\r\n\u63d0\u95ee\u8bf7\u4e0a\u8bba\u575b\uff0c\u4e0d\u8981\u53d1\u8fd9\u91cc\uff01\r\n\r\n\u4ee5\u4e0b\u5fc5\u586b\uff0c\u5426\u5219\u6055\u4e0d\u53d7\u7406\u3002\r\n-->\r\n\r\n**Describe the bug**\r\n\u4f8b\uff1a\u9a6c\u65af\u514b\u7a81\u7136\u653e\u8bdd\u6536\u8d2d\u63a8\u7279\uff0c\u51fa\u4ef72700\u4ebf\u8ba9\u5b83\u9000\u5e02\u3002\r\n![\u5c4f\u5e55\u5feb\u7167 2022-04-16 \u4e0b\u53481 35 30](https://user-images.githubusercontent.com/10105704/163663066-839e5542-25e5-47e9-8a6d-7e82bebffed1.png)\r\n\r\n\"**\u63a8\u7279\uff0c**\"   \r\n\r\n\r\n**Code to reproduce the issue**\r\nProvide a reproducible test case that is the bare minimum necessary to generate the problem.\r\n\r\n```python\r\n```\r\n\r\n**Describe the current behavior**\r\n\u4e0d\u53ea\u8fd9\u4e00\u4e2a\u53e5\u5b50\uff0c\u5728\u7ebf\u7248\u4e0a\u5df2\u89c1\u8fc7\u591a\u6b21 **\u628a\u8bcd\u4e0e\u6807\u70b9** \u5206\u5728\u4e00\u8d77\u7684\u60c5\u51b5\u3002\r\n\r\n---\r\n\u4f7f\u7528\u672c\u5730\u7248hanlp-2.1.0b24\uff0c tok\u6a21\u578b **FINE_ELECTRA_SMALL_ZH**\uff0c \u5bf9\u4f8b\u53e5\u5206\u8bcd\u7ed3\u679c**\u6b63\u786e**\u3002\r\n\r\n**Expected behavior**\r\nA clear and concise description of what you expected to happen.\r\n\r\n**System information**\r\n- OS Platform and Distribution (Linux Ubuntu 16.04):\r\n- Python version: 3.9\r\n- HanLP version: 2.1.0b24\r\n\r\n**Other info / logs**\r\nInclude any logs or source code that would be helpful to diagnose the problem. If including tracebacks, please include the full traceback. Large logs and files should be attached.\r\n\r\n* [x] I've completed this form and searched the web for solutions.\r\n<!-- \u53d1\u8868\u524d\u5148\u641c\u7d22\uff0c\u6b64\u5904\u4e00\u5b9a\u8981\u52fe\u9009\uff01 -->\r\n<!-- \u53d1\u8868\u524d\u5148\u641c\u7d22\uff0c\u6b64\u5904\u4e00\u5b9a\u8981\u52fe\u9009\uff01 -->\r\n<!-- \u53d1\u8868\u524d\u5148\u641c\u7d22\uff0c\u6b64\u5904\u4e00\u5b9a\u8981\u52fe\u9009\uff01 -->", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1722/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/1722/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1718", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/1718/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/1718/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/1718/events", "html_url": "https://github.com/hankcs/HanLP/issues/1718", "id": 1198717307, "node_id": "I_kwDOAX0dc85Hcvl7", "number": 1718, "title": "HanLP1.x \u6587\u672c\u63a8\u8350 \u903b\u8f91\u9519\u8bef", "user": {"login": "QAQ516284797", "id": 44270701, "node_id": "MDQ6VXNlcjQ0MjcwNzAx", "avatar_url": "https://avatars.githubusercontent.com/u/44270701?v=4", "gravatar_id": "", "url": "https://api.github.com/users/QAQ516284797", "html_url": "https://github.com/QAQ516284797", "followers_url": "https://api.github.com/users/QAQ516284797/followers", "following_url": "https://api.github.com/users/QAQ516284797/following{/other_user}", "gists_url": "https://api.github.com/users/QAQ516284797/gists{/gist_id}", "starred_url": "https://api.github.com/users/QAQ516284797/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/QAQ516284797/subscriptions", "organizations_url": "https://api.github.com/users/QAQ516284797/orgs", "repos_url": "https://api.github.com/users/QAQ516284797/repos", "events_url": "https://api.github.com/users/QAQ516284797/events{/privacy}", "received_events_url": "https://api.github.com/users/QAQ516284797/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2022-04-09T17:12:34Z", "updated_at": "2022-04-09T17:41:40Z", "closed_at": "2022-04-09T17:41:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\nThank you for reporting a possible bug in HanLP.\r\nPlease fill in the template below to bypass our spam filter.  \r\n\u4ee5\u4e0b\u5fc5\u586b\uff0c\u5426\u5219\u6055\u4e0d\u53d7\u7406\u3002\r\n-->\r\n\r\n**Describe the bug**\r\n\u5728 Suggester \u7c7b\u7684suggest\u65b9\u6cd5\u4e2d\u5bf9\u4e8e\u4e0d\u540c\u8bc4\u4ef7\u5668\u6c42\u548c\u51fa\u9519\uff0cSuggester \u4f4d\u4e8epackage com.hankcs.hanlp.suggest;\r\n ` scoreMap.put(entry.getKey(), score / max + entry.getValue() * scorer.boost);`\r\n\u5176\u4e2dmax\u8868\u793a\u5f53\u524d\u8bc4\u4ef7\u5668\u7684\u6700\u4f18\u5f97\u5206\uff0c\u88ab\u9519\u8bef\u7684\u9664\u5728\u4e86\u4e4b\u524d\u8bc4\u4ef7\u5668\u5f97\u5206\u4e4b\u548c\u4e0a\uff0c\u5bfc\u81f4\u6700\u7ec8\u63a8\u8350\u7ed3\u679c\u4e0d\u51c6\u786e\r\n\u5e94\u6539\u4e3a\r\n` scoreMap.put(entry.getKey(), score  + entry.getValue() * scorer.boost/ max);`\r\n**Code to reproduce the issue**\r\n\u6d4b\u8bd5\u4ee3\u7801\r\n```public class TEST {\r\n   public static void main(String[] args)\r\n    {\r\n        Suggester suggester = new Suggester();\r\n        String[] titleArray =\r\n            (\r\n                \"wuqi\\n\" +\"\u670d\u52a1\u5668\"\r\n            ).split(\"\\\\n\");\r\n        for (String title : titleArray)\r\n        {\r\n            suggester.addSentence(title);\r\n        }\r\n        System.out.println(suggester.suggest(\"\u52a1\u5668\", 1));    \r\n    }\r\n}\r\n```\r\n\u5b9e\u9645\u8fd0\u884c\u7ed3\u679c\u63a8\u8350\u4e3awuqi\r\n\r\n**Describe the current behavior**\r\n\u56e0\u4e3a\u5bf9\u4e8e\u8bc4\u4ef7\u5668\u5206\u6570\u6c42\u548c\u9519\u8bef\u5bfc\u81f4\u4e86\u6a21\u578b\u5f97\u5206\u53d1\u751f\u504f\u5dee\uff0c\u66f4\u503e\u5411\u4e8e\u9009\u62e9\u62fc\u97f3\u68c0\u67e5\u5f97\u5206\u9ad8\u7684\u53e5\u5b50\r\n\r\n\r\n**Expected behavior**\r\n\u671f\u671b\u8fd0\u884c\u7ed3\u679c\u5e94\u5982\u4e0b\u6240\u793a\uff0c\u6bcf\u8f6e\u5f97\u5230\u7684\u8bc4\u5206\u5e94\u8be5\u4f4d\u4e8e\uff080,1\uff09\u4e4b\u95f4\uff0c\u6700\u540e\u6d4b\u8bd5\u7ed3\u679c\u5e94\u8be5\u4e3a\u670d\u52a1\u5668\r\n```\r\n---IdVectorScorer------\r\n\u5f53\u524d\u603b\u5f97\u5206 1.0 \u5f53\u524d\u8bc4\u4ef7\u5668\u7ed9\u51fa\u5f97\u5206 1.1457421786266213E-10 \u5f53\u524d\u8bc4\u4ef7\u5668\u7ed9\u51fa\u5f97\u5206\u6700\u5927\u503c 1.1457421786266213E-10 \u5019\u9009\u53e5\u5b50\u5185\u5bb9 \u670d\u52a1\u5668 \u672c\u8f6e\u589e\u957f\u5206\u6570 1.0\r\n---EditDistanceScorer------\r\n\u5f53\u524d\u603b\u5f97\u5206 2.0 \u5f53\u524d\u8bc4\u4ef7\u5668\u7ed9\u51fa\u5f97\u5206 0.5 \u5f53\u524d\u8bc4\u4ef7\u5668\u7ed9\u51fa\u5f97\u5206\u6700\u5927\u503c 0.5 \u5019\u9009\u53e5\u5b50\u5185\u5bb9 \u670d\u52a1\u5668 \u672c\u8f6e\u589e\u957f\u5206\u6570 1.0\r\n\u5f53\u524d\u603b\u5f97\u5206 0.4 \u5f53\u524d\u8bc4\u4ef7\u5668\u7ed9\u51fa\u5f97\u5206 0.2 \u5f53\u524d\u8bc4\u4ef7\u5668\u7ed9\u51fa\u5f97\u5206\u6700\u5927\u503c 0.5 \u5019\u9009\u53e5\u5b50\u5185\u5bb9 wuqi \u672c\u8f6e\u589e\u957f\u5206\u6570 0.4\r\n---PinyinScorer------\r\n\u5f53\u524d\u603b\u5f97\u5206 2.7 \u5f53\u524d\u8bc4\u4ef7\u5668\u7ed9\u51fa\u5f97\u5206 1.1666666666666665 \u5f53\u524d\u8bc4\u4ef7\u5668\u7ed9\u51fa\u5f97\u5206\u6700\u5927\u503c 1.6666666666666665 \u5019\u9009\u53e5\u5b50\u5185\u5bb9 \u670d\u52a1\u5668 \u672c\u8f6e\u589e\u957f\u5206\u6570 0.7000000000000002\r\n\u5f53\u524d\u603b\u5f97\u5206 1.4 \u5f53\u524d\u8bc4\u4ef7\u5668\u7ed9\u51fa\u5f97\u5206 1.6666666666666665 \u5f53\u524d\u8bc4\u4ef7\u5668\u7ed9\u51fa\u5f97\u5206\u6700\u5927\u503c 1.6666666666666665 \u5019\u9009\u53e5\u5b50\u5185\u5bb9 wuqi \u672c\u8f6e\u589e\u957f\u5206\u6570 0.9999999999999999\r\n```\r\n**System information**\r\n- Windows\r\n- jdk11.0.5\r\n- HanLP version:1.x\r\n\r\n**Other info / logs**\r\n\u5b9e\u9645\u8fd0\u884c\u7ed3\u679c\uff0c\u51fa\u73b0\u4e86\u8f6e\u6b21\u8bc4\u5206\u5927\u4e8e1\u7684\u60c5\u51b5\u3002\u8bc4\u4ef7\u5668\u8bc4\u5206\u53e0\u52a0\u5f02\u5e38\r\n```\r\n---IdVectorScorer------\r\n\u5f53\u524d\u603b\u5f97\u5206 1.1457421786266213E-10 \u5f53\u524d\u8bc4\u4ef7\u5668\u7ed9\u51fa\u5f97\u5206 1.1457421786266213E-10 \u5f53\u524d\u8bc4\u4ef7\u5668\u7ed9\u51fa\u5f97\u5206\u6700\u5927\u503c 1.1457421786266213E-10 \u5019\u9009\u53e5\u5b50\u5185\u5bb9 \u670d\u52a1\u5668 \u672c\u8f6e\u589e\u957f\u5206\u6570 1.1457421786266213E-10\r\n---EditDistanceScorer------\r\n\u5f53\u524d\u603b\u5f97\u5206 0.5000000002291485 \u5f53\u524d\u8bc4\u4ef7\u5668\u7ed9\u51fa\u5f97\u5206 0.5 \u5f53\u524d\u8bc4\u4ef7\u5668\u7ed9\u51fa\u5f97\u5206\u6700\u5927\u503c 0.5 \u5019\u9009\u53e5\u5b50\u5185\u5bb9 \u670d\u52a1\u5668 \u672c\u8f6e\u589e\u957f\u5206\u6570 0.5000000001145742\r\n\u5f53\u524d\u603b\u5f97\u5206 0.2 \u5f53\u524d\u8bc4\u4ef7\u5668\u7ed9\u51fa\u5f97\u5206 0.2 \u5f53\u524d\u8bc4\u4ef7\u5668\u7ed9\u51fa\u5f97\u5206\u6700\u5927\u503c 0.5 \u5019\u9009\u53e5\u5b50\u5185\u5bb9 wuqi \u672c\u8f6e\u589e\u957f\u5206\u6570 0.2\r\n---PinyinScorer------\r\n\u5f53\u524d\u603b\u5f97\u5206 1.4666666668041557 \u5f53\u524d\u8bc4\u4ef7\u5668\u7ed9\u51fa\u5f97\u5206 1.1666666666666665 \u5f53\u524d\u8bc4\u4ef7\u5668\u7ed9\u51fa\u5f97\u5206\u6700\u5927\u503c 1.6666666666666665 \u5019\u9009\u53e5\u5b50\u5185\u5bb9 \u670d\u52a1\u5668 \u672c\u8f6e\u589e\u957f\u5206\u6570 0.9666666665750072\r\n\u5f53\u524d\u603b\u5f97\u5206 1.7866666666666666 \u5f53\u524d\u8bc4\u4ef7\u5668\u7ed9\u51fa\u5f97\u5206 1.6666666666666665 \u5f53\u524d\u8bc4\u4ef7\u5668\u7ed9\u51fa\u5f97\u5206\u6700\u5927\u503c 1.6666666666666665 \u5019\u9009\u53e5\u5b50\u5185\u5bb9 wuqi \u672c\u8f6e\u589e\u957f\u5206\u6570 1.5866666666666667\r\n```\r\n* [x] I've completed this form and searched the web for solutions.\r\n", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1718/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/1718/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1713", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/1713/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/1713/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/1713/events", "html_url": "https://github.com/hankcs/HanLP/issues/1713", "id": 1147965774, "node_id": "I_kwDOAX0dc85EbJFO", "number": 1713, "title": "\u6267\u884cdemo 404", "user": {"login": "An0nymous0", "id": 6836030, "node_id": "MDQ6VXNlcjY4MzYwMzA=", "avatar_url": "https://avatars.githubusercontent.com/u/6836030?v=4", "gravatar_id": "", "url": "https://api.github.com/users/An0nymous0", "html_url": "https://github.com/An0nymous0", "followers_url": "https://api.github.com/users/An0nymous0/followers", "following_url": "https://api.github.com/users/An0nymous0/following{/other_user}", "gists_url": "https://api.github.com/users/An0nymous0/gists{/gist_id}", "starred_url": "https://api.github.com/users/An0nymous0/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/An0nymous0/subscriptions", "organizations_url": "https://api.github.com/users/An0nymous0/orgs", "repos_url": "https://api.github.com/users/An0nymous0/repos", "events_url": "https://api.github.com/users/An0nymous0/events{/privacy}", "received_events_url": "https://api.github.com/users/An0nymous0/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2022-02-23T11:20:44Z", "updated_at": "2022-02-23T14:32:41Z", "closed_at": "2022-02-23T14:32:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\n<img width=\"1322\" alt=\"image\" src=\"https://user-images.githubusercontent.com/6836030/155309692-da5a3604-55d7-43c2-b875-d8f38749e538.png\">\r\n\r\n**Code to reproduce the issue**\r\n```python\r\n# -*- coding:utf-8 -*-\r\n# Author: hankcs\r\n# Date: 2021-04-29 11:06\r\nimport hanlp\r\nfrom hanlp.components.mtl.tasks.ner.tag_ner import TaggingNamedEntityRecognition\r\nfrom hanlp.utils.io_util import get_resource\r\n\r\nHanLP = hanlp.load(hanlp.pretrained.mtl.CLOSE_TOK_POS_NER_SRL_DEP_SDP_CON_ERNIE_GRAM_ZH)\r\nner: TaggingNamedEntityRecognition = HanLP['ner/msra']\r\nner.dict_whitelist = {'\u5348\u996d\u540e': 'TIME'}\r\ndoc = HanLP('2021\u5e74\u6d4b\u8bd5\u9ad8\u8840\u538b\u662f138\uff0c\u65f6\u95f4\u662f\u5348\u996d\u540e2\u70b945\uff0c\u4f4e\u8840\u538b\u662f44', tasks='ner/msra')\r\ndoc.pretty_print()\r\nprint(doc['ner/msra'])\r\n\r\nner.dict_tags = {('\u540d\u5b57', '\u53eb', '\u91d1\u534e'): ('O', 'O', 'S-PERSON')}\r\nHanLP('\u4ed6\u5728\u6d59\u6c5f\u91d1\u534e\u51fa\u751f\uff0c\u4ed6\u7684\u540d\u5b57\u53eb\u91d1\u534e\u3002', tasks='ner/msra').pretty_print()\r\n\r\n# HanLP.save(get_resource(hanlp.pretrained.mtl.CLOSE_TOK_POS_NER_SRL_DEP_SDP_CON_ERNIE_GRAM_ZH))\r\n\r\n# \u9700\u8981\u7b97\u6cd5\u57fa\u7840\u624d\u80fd\u7406\u89e3\uff0c\u521d\u5b66\u8005\u53ef\u53c2\u8003 http://nlp.hankcs.com/book.php\r\n# See https://hanlp.hankcs.com/docs/api/hanlp/components/mtl/tasks/ner/tag_ner.html\r\n```\r\n\r\n**Describe the current behavior**\r\nA clear and concise description of what happened.\r\n\r\n**Expected behavior**\r\nA clear and concise description of what you expected to happen.\r\n\r\n**System information**\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): MAC\r\n- Python version: 3.9\r\n- HanLP version: 2.1.0B16\r\n\r\n**Other info / logs**\r\nInclude any logs or source code that would be helpful to diagnose the problem. If including tracebacks, please include the full traceback. Large logs and files should be attached.\r\n\r\n* [x] I've completed this form and searched the web for solutions.\r\n<!-- \u53d1\u8868\u524d\u5148\u641c\u7d22\uff0c\u6b64\u5904\u4e00\u5b9a\u8981\u52fe\u9009\uff01 -->\r\n<!-- \u53d1\u8868\u524d\u5148\u641c\u7d22\uff0c\u6b64\u5904\u4e00\u5b9a\u8981\u52fe\u9009\uff01 -->\r\n<!-- \u53d1\u8868\u524d\u5148\u641c\u7d22\uff0c\u6b64\u5904\u4e00\u5b9a\u8981\u52fe\u9009\uff01 -->", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1713/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/1713/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1712", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/1712/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/1712/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/1712/events", "html_url": "https://github.com/hankcs/HanLP/issues/1712", "id": 1145284941, "node_id": "I_kwDOAX0dc85EQ6lN", "number": 1712, "title": "ViterbiSegment \u81ea\u5b9a\u4e49 CustomDictionaryForcing \u65f6\u542f\u7528 enableCustomDictionaryForcing \u4e0d\u751f\u6548", "user": {"login": "XhstormR", "id": 10527522, "node_id": "MDQ6VXNlcjEwNTI3NTIy", "avatar_url": "https://avatars.githubusercontent.com/u/10527522?v=4", "gravatar_id": "", "url": "https://api.github.com/users/XhstormR", "html_url": "https://github.com/XhstormR", "followers_url": "https://api.github.com/users/XhstormR/followers", "following_url": "https://api.github.com/users/XhstormR/following{/other_user}", "gists_url": "https://api.github.com/users/XhstormR/gists{/gist_id}", "starred_url": "https://api.github.com/users/XhstormR/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/XhstormR/subscriptions", "organizations_url": "https://api.github.com/users/XhstormR/orgs", "repos_url": "https://api.github.com/users/XhstormR/repos", "events_url": "https://api.github.com/users/XhstormR/events{/privacy}", "received_events_url": "https://api.github.com/users/XhstormR/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2022-02-21T03:46:22Z", "updated_at": "2022-06-19T09:04:40Z", "closed_at": "2022-02-21T04:59:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n\u63d0\u95ee\u8bf7\u4e0a\u8bba\u575b\uff0c\u4e0d\u8981\u53d1\u8fd9\u91cc\uff01\r\n\u63d0\u95ee\u8bf7\u4e0a\u8bba\u575b\uff0c\u4e0d\u8981\u53d1\u8fd9\u91cc\uff01\r\n\u63d0\u95ee\u8bf7\u4e0a\u8bba\u575b\uff0c\u4e0d\u8981\u53d1\u8fd9\u91cc\uff01\r\n\r\n\u4ee5\u4e0b\u5fc5\u586b\uff0c\u5426\u5219\u6055\u4e0d\u53d7\u7406\u3002\r\n-->\r\n\r\n**Describe the bug**\r\nViterbiSegment \u4f7f\u7528 DynamicCustomDictionary \u65f6\uff0c\u540c\u65f6\u542f\u7528 enableCustomDictionaryForcing \u4e0d\u751f\u6548\u3002\r\n\r\n**Code to reproduce the issue**\r\nProvide a reproducible test case that is the bare minimum necessary to generate the problem.\r\n\r\n```java\r\nval dictionary = DynamicCustomDictionary()\r\ndictionary.insert(\"fuck\", \"ZH_CN_COMMON\")\r\n\r\nval segment = ViterbiSegment()\r\n    .enableCustomDictionaryForcing(true)\r\n    .enableCustomDictionary(dictionary)\r\nval text = \"fucking,fuckkkkkk,fuck123\"\r\n\r\n//\u81ea\u5b9a\u4e49Dictionary\u672a\u751f\u6548\r\nprintln(segment.seg(text))\r\n\r\n//\u5168\u5c40Dictionary\u624d\u4f1a\u751f\u6548\r\nCustomDictionary.add(\"fuck\")\r\nprintln(segment.seg(text))\r\n```\r\n\r\n\u8f93\u51fa\uff1a\r\n[fucking/nx, ,/w, fuckkkkkk/nx, ,/w, fuck/ZH_CN_COMMON, 123/m]\r\n[fuck/ZH_CN_COMMON, ing/nx, ,/w, fuck/ZH_CN_COMMON, kkkkk/nx, ,/w, fuck/ZH_CN_COMMON, 123/m]\r\n\r\n**Describe the current behavior**\r\n\u81ea\u5b9a\u4e49DynamicCustomDictionary\u4e0d\u751f\u6548\uff0c\u4f7f\u7528\u5168\u5c40\u7684CustomDictionary\u624d\u4f1a\u751f\u6548\u3002\r\n\r\n**Expected behavior**\r\n\u81ea\u5b9a\u4e49DynamicCustomDictionary\u751f\u6548\u3002\r\n\r\n**System information**\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04):MacOS\r\n- Python version:\r\n- HanLP version: <img width=\"219\" alt=\"image\" src=\"https://user-images.githubusercontent.com/10527522/154885763-bd0172d4-ac0f-4811-b279-a83dcb7a2410.png\">\r\n\r\n\r\n**Other info / logs**\r\nInclude any logs or source code that would be helpful to diagnose the problem. If including tracebacks, please include the full traceback. Large logs and files should be attached.\r\n\r\n* [x] I've completed this form and searched the web for solutions.\r\n<!-- \u53d1\u8868\u524d\u5148\u641c\u7d22\uff0c\u6b64\u5904\u4e00\u5b9a\u8981\u52fe\u9009\uff01 -->\r\n<!-- \u53d1\u8868\u524d\u5148\u641c\u7d22\uff0c\u6b64\u5904\u4e00\u5b9a\u8981\u52fe\u9009\uff01 -->\r\n<!-- \u53d1\u8868\u524d\u5148\u641c\u7d22\uff0c\u6b64\u5904\u4e00\u5b9a\u8981\u52fe\u9009\uff01 -->", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1712/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/1712/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1688", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/1688/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/1688/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/1688/events", "html_url": "https://github.com/hankcs/HanLP/issues/1688", "id": 1023576679, "node_id": "I_kwDOAX0dc849Aopn", "number": 1688, "title": "batch size \u65e0\u6cd5\u8bbe\u7f6e", "user": {"login": "sailist", "id": 25661058, "node_id": "MDQ6VXNlcjI1NjYxMDU4", "avatar_url": "https://avatars.githubusercontent.com/u/25661058?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sailist", "html_url": "https://github.com/sailist", "followers_url": "https://api.github.com/users/sailist/followers", "following_url": "https://api.github.com/users/sailist/following{/other_user}", "gists_url": "https://api.github.com/users/sailist/gists{/gist_id}", "starred_url": "https://api.github.com/users/sailist/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sailist/subscriptions", "organizations_url": "https://api.github.com/users/sailist/orgs", "repos_url": "https://api.github.com/users/sailist/repos", "events_url": "https://api.github.com/users/sailist/events{/privacy}", "received_events_url": "https://api.github.com/users/sailist/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2021-10-12T09:22:02Z", "updated_at": "2021-10-12T15:31:12Z", "closed_at": "2021-10-12T14:23:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\n\u5982\u9898\uff0cbs \u65e0\u6cd5\u8bbe\u7f6e\uff0c\u4e00\u76f4\u4e3a\u9ed8\u8ba4\u7684 32\uff0c\u5bfc\u81f4\u663e\u5b58\u5360\u7528\u548c\u5229\u7528\u7387\u65e0\u6cd5\u4e0a\u5347\r\n\r\n\r\n\r\n**Code to reproduce the issue**\r\nProvide a reproducible test case that is the bare minimum necessary to generate the problem.\r\n\r\n```python\r\nimport hanlp\r\nfrom hanlp.components.mtl.tasks.constituency import CRFConstituencyParsing\r\nfrom hanlp.components.mtl.multi_task_learning import MultiTaskLearning\r\n\r\n# hanlp.load()\r\nHanLP = hanlp.load(hanlp.pretrained.mtl.CLOSE_TOK_POS_NER_SRL_DEP_SDP_CON_ELECTRA_SMALL_ZH)  # \u4e16\u754c\u6700\u5927\u4e2d\u6587\u8bed\u6599\u5e93\r\nres = HanLP(['\u7ed3\u6784\u4e3aXP+\u5730\u7684\u77ed\u8bc4\uff0c\u7528\u4e8e\u4fee\u9970\u52a8\u8bcd\u77ed\u8bedVP'] * 128, batch_size=64, tasks=['con'])\r\n```\r\n\r\ndebug \u53ef\u4ee5\u770b\u5230\r\n![image](https://user-images.githubusercontent.com/25661058/136928619-6904a18a-9b71-4c7f-841b-0be312f249bc.png)\r\n\r\n![image](https://user-images.githubusercontent.com/25661058/136928645-a11ee331-3c24-4a40-bf77-61ebe6416bd2.png)\r\n\r\n\r\n\r\n**Describe the current behavior**\r\nA clear and concise description of what happened.\r\n\r\n**Expected behavior**\r\nA clear and concise description of what you expected to happen.\r\n\r\n**System information**\r\n- HanLP version: '2.1.0-alpha.61'\r\n\r\n**Other info / logs**\r\nInclude any logs or source code that would be helpful to diagnose the problem. If including tracebacks, please include the full traceback. Large logs and files should be attached.\r\n\r\n* [x] I've completed this form and searched the web for solutions.\r\n<!-- \u53d1\u8868\u524d\u5148\u641c\u7d22\uff0c\u6b64\u5904\u4e00\u5b9a\u8981\u52fe\u9009\uff01 -->\r\n<!-- \u53d1\u8868\u524d\u5148\u641c\u7d22\uff0c\u6b64\u5904\u4e00\u5b9a\u8981\u52fe\u9009\uff01 -->\r\n<!-- \u53d1\u8868\u524d\u5148\u641c\u7d22\uff0c\u6b64\u5904\u4e00\u5b9a\u8981\u52fe\u9009\uff01 -->", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1688/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/1688/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1679", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/1679/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/1679/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/1679/events", "html_url": "https://github.com/hankcs/HanLP/issues/1679", "id": 995992940, "node_id": "I_kwDOAX0dc847XaVs", "number": 1679, "title": "\u6709\u7684\u6a21\u578b\u5728windows\u65e0\u6cd5\u4f7f\u7528\uff0c\u56e0\u4e3awindows\u4e0d\u5141\u8bb8\u521b\u5efa\u540d\u4e3acon\u7684\u76ee\u5f55", "user": {"login": "BlinkDL", "id": 33809201, "node_id": "MDQ6VXNlcjMzODA5MjAx", "avatar_url": "https://avatars.githubusercontent.com/u/33809201?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BlinkDL", "html_url": "https://github.com/BlinkDL", "followers_url": "https://api.github.com/users/BlinkDL/followers", "following_url": "https://api.github.com/users/BlinkDL/following{/other_user}", "gists_url": "https://api.github.com/users/BlinkDL/gists{/gist_id}", "starred_url": "https://api.github.com/users/BlinkDL/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BlinkDL/subscriptions", "organizations_url": "https://api.github.com/users/BlinkDL/orgs", "repos_url": "https://api.github.com/users/BlinkDL/repos", "events_url": "https://api.github.com/users/BlinkDL/events{/privacy}", "received_events_url": "https://api.github.com/users/BlinkDL/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2021-09-14T13:02:38Z", "updated_at": "2021-09-14T19:08:10Z", "closed_at": "2021-09-14T19:07:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n\u63d0\u95ee\u8bf7\u4e0a\u8bba\u575b\uff0c\u4e0d\u8981\u53d1\u8fd9\u91cc\uff01\r\n\u63d0\u95ee\u8bf7\u4e0a\u8bba\u575b\uff0c\u4e0d\u8981\u53d1\u8fd9\u91cc\uff01\r\n\u63d0\u95ee\u8bf7\u4e0a\u8bba\u575b\uff0c\u4e0d\u8981\u53d1\u8fd9\u91cc\uff01\r\n\r\n\u4ee5\u4e0b\u5fc5\u586b\uff0c\u5426\u5219\u6055\u4e0d\u53d7\u7406\u3002\r\n-->\r\n\r\n**Describe the bug**\r\n\u6709\u7684\u6a21\u578b\u5728windows\u65e0\u6cd5\u4f7f\u7528\uff0c\u56e0\u4e3awindows\u4e0d\u5141\u8bb8\u521b\u5efa\u540d\u4e3acon\u7684\u76ee\u5f55\u3002\r\n\r\n\u8fd9\u662fwindows\u65e0\u6cd5\u4f7f\u7528\u7684\u76ee\u5f55\u540d\u5217\u8868\uff1a\r\nCON, PRN, AUX, NUL, COM1, COM2, COM3, COM4, COM5, COM6, COM7, COM8, COM9, LPT1, LPT2, LPT3, LPT4, LPT5, LPT6, LPT7, LPT8, and LPT9.\r\n\r\n\u7531\u4e8e NPCMJ_UD_KYOTO_TOK_POS_CON_BERT_BASE_CHAR_JA \u6a21\u578b\u4f1a\u8bd5\u56fe\u521b\u5efa\u4e00\u4e2a con \u76ee\u5f55\uff0c\u56e0\u6b64\u4f1a\u51fa\u73b0python\u9519\u8bef\uff1a\r\nNotADirectoryError: [WinError 267] \u76ee\u5f55\u540d\u79f0\u65e0\u6548\u3002:\r\n\r\n**Code to reproduce the issue**\r\n\u5728windows\u6267\u884c\u4e0b\u5217\u547d\u4ee4\uff0c\u5728\u4e0b\u8f7d\u5b8c\u6bd5\u540e\uff0c\u5c31\u4f1a\u770b\u5230\u4e0a\u8ff0\u9519\u8bef\u3002\r\n```python\r\nHanLP = hanlp.load(hanlp.pretrained.mtl.NPCMJ_UD_KYOTO_TOK_POS_CON_BERT_BASE_CHAR_JA)\r\n```\r\n\r\n* [x] I've completed this form and searched the web for solutions.\r\n<!-- \u53d1\u8868\u524d\u5148\u641c\u7d22\uff0c\u6b64\u5904\u4e00\u5b9a\u8981\u52fe\u9009\uff01 -->\r\n<!-- \u53d1\u8868\u524d\u5148\u641c\u7d22\uff0c\u6b64\u5904\u4e00\u5b9a\u8981\u52fe\u9009\uff01 -->\r\n<!-- \u53d1\u8868\u524d\u5148\u641c\u7d22\uff0c\u6b64\u5904\u4e00\u5b9a\u8981\u52fe\u9009\uff01 -->", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1679/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/1679/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1673", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/1673/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/1673/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/1673/events", "html_url": "https://github.com/hankcs/HanLP/issues/1673", "id": 977898039, "node_id": "MDU6SXNzdWU5Nzc4OTgwMzk=", "number": 1673, "title": "DoubleArrayTrie\u91cc\u7684LongestSearcher\u7684next\u65b9\u6cd5\uff0c\u5f53\u4f20\u5165\u7684treemap\u7684value\u4e3anull\u65f6\uff0c\u4f1a\u5f15\u53d1bug", "user": {"login": "tiandiweizun", "id": 13550295, "node_id": "MDQ6VXNlcjEzNTUwMjk1", "avatar_url": "https://avatars.githubusercontent.com/u/13550295?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tiandiweizun", "html_url": "https://github.com/tiandiweizun", "followers_url": "https://api.github.com/users/tiandiweizun/followers", "following_url": "https://api.github.com/users/tiandiweizun/following{/other_user}", "gists_url": "https://api.github.com/users/tiandiweizun/gists{/gist_id}", "starred_url": "https://api.github.com/users/tiandiweizun/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tiandiweizun/subscriptions", "organizations_url": "https://api.github.com/users/tiandiweizun/orgs", "repos_url": "https://api.github.com/users/tiandiweizun/repos", "events_url": "https://api.github.com/users/tiandiweizun/events{/privacy}", "received_events_url": "https://api.github.com/users/tiandiweizun/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2021-08-24T09:28:26Z", "updated_at": "2021-08-24T15:19:10Z", "closed_at": "2021-08-24T15:19:10Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "<!--\r\n\u63d0\u95ee\u8bf7\u4e0a\u8bba\u575b\uff0c\u4e0d\u8981\u53d1\u8fd9\u91cc\uff01\r\n\u63d0\u95ee\u8bf7\u4e0a\u8bba\u575b\uff0c\u4e0d\u8981\u53d1\u8fd9\u91cc\uff01\r\n\u63d0\u95ee\u8bf7\u4e0a\u8bba\u575b\uff0c\u4e0d\u8981\u53d1\u8fd9\u91cc\uff01\r\n\r\n\u4ee5\u4e0b\u5fc5\u586b\uff0c\u5426\u5219\u6055\u4e0d\u53d7\u7406\u3002\r\n-->\r\n\r\n**Describe the bug**\r\n\r\nDoubleArrayTrie\u91cc\u7684LongestSearcher\u7684next\u65b9\u6cd5\uff0c\u5f53\u4f20\u5165\u7684treemap\u7684value\u4e3anull\u65f6\uff0c\u4f1a\u5f15\u53d1bug\r\n![image](https://user-images.githubusercontent.com/13550295/130592417-32ae4155-0ea3-4c7a-ad17-9fd2c67e92a5.png)\r\n\r\n\r\n**Code to reproduce the issue**\r\n\r\n```java\r\n public void testLongestSearcherWithNullValue() {\r\n        TreeMap<String, String> buildFrom = new TreeMap<String, String>();\r\n        TreeMap<String, String> buildFromValueNull = new TreeMap<String, String>();\r\n        String[] keys = new String[]{\"he\", \"her\", \"his\"};\r\n        for (String key : keys) {\r\n            buildFrom.put(key, key);\r\n            buildFromValueNull.put(key, null);\r\n        }\r\n        DoubleArrayTrie<String> trie = new DoubleArrayTrie<String>(buildFrom);\r\n        DoubleArrayTrie<String> trieValueNull = new DoubleArrayTrie<String>(buildFromValueNull);\r\n\r\n        String text = \"her3he6his-hers! \";\r\n\r\n        DoubleArrayTrie<String>.LongestSearcher searcher = trie.getLongestSearcher(text.toCharArray(), 0);\r\n        DoubleArrayTrie<String>.LongestSearcher searcherValueNull = trieValueNull.getLongestSearcher(text.toCharArray(), 0);\r\n\r\n        while (true) {\r\n            boolean next = searcher.next();\r\n            boolean nextValueNull = searcherValueNull.next();\r\n\r\n            if (next && nextValueNull) {\r\n                assertTrue(searcher.begin == searcherValueNull.begin && searcher.length == searcherValueNull.length);\r\n            } else if (next || nextValueNull) {\r\n                assert false;\r\n                break;\r\n            } else {\r\n                break;\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\n**Describe the current behavior**\r\n\u7531\u4e8emap\u4f20\u5165\u7684value\u4e3anull\uff0c\u5373\u4f7f\u5b58\u5728\uff0c\u4e5f\u67e5\u4e0d\u5230\r\n\r\n**Expected behavior**\r\nA clear and concise description of what you expected to happen.\r\n\u6839\u636elength\u6216\u8005index\u8fdb\u884c\u5224\u65ad\r\n\u4fee\u590d\u53c2\u89c1pull request (https://github.com/hankcs/HanLP/pull/1674)\r\n\r\n**System information**\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): win10\r\n- Python version: xxx\r\n- HanLP version: 1.8.2\r\n\r\n**Other info / logs**\r\nInclude any logs or source code that would be helpful to diagnose the problem. If including tracebacks, please include the full traceback. Large logs and files should be attached.\r\n\r\n* [x] I've completed this form and searched the web for solutions.\r\n<!-- \u53d1\u8868\u524d\u5148\u641c\u7d22\uff0c\u6b64\u5904\u4e00\u5b9a\u8981\u52fe\u9009\uff01 -->\r\n<!-- \u53d1\u8868\u524d\u5148\u641c\u7d22\uff0c\u6b64\u5904\u4e00\u5b9a\u8981\u52fe\u9009\uff01 -->\r\n<!-- \u53d1\u8868\u524d\u5148\u641c\u7d22\uff0c\u6b64\u5904\u4e00\u5b9a\u8981\u52fe\u9009\uff01 -->", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1673/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/1673/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1661", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/1661/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/1661/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/1661/events", "html_url": "https://github.com/hankcs/HanLP/issues/1661", "id": 933280858, "node_id": "MDU6SXNzdWU5MzMyODA4NTg=", "number": 1661, "title": "Failed to load model", "user": {"login": "asd8095075", "id": 50102405, "node_id": "MDQ6VXNlcjUwMTAyNDA1", "avatar_url": "https://avatars.githubusercontent.com/u/50102405?v=4", "gravatar_id": "", "url": "https://api.github.com/users/asd8095075", "html_url": "https://github.com/asd8095075", "followers_url": "https://api.github.com/users/asd8095075/followers", "following_url": "https://api.github.com/users/asd8095075/following{/other_user}", "gists_url": "https://api.github.com/users/asd8095075/gists{/gist_id}", "starred_url": "https://api.github.com/users/asd8095075/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/asd8095075/subscriptions", "organizations_url": "https://api.github.com/users/asd8095075/orgs", "repos_url": "https://api.github.com/users/asd8095075/repos", "events_url": "https://api.github.com/users/asd8095075/events{/privacy}", "received_events_url": "https://api.github.com/users/asd8095075/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2021-06-30T03:57:35Z", "updated_at": "2021-06-30T15:00:45Z", "closed_at": "2021-06-30T15:00:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "\r\n**Describe the bug**\r\nFailed to load model\r\n\r\n**Code to reproduce the issue**\r\nHanLP = hanlp.load(hanlp.pretrained.classifiers.CHNSENTICORP_BERT_BASE_ZH)\r\n\r\n**Describe the current behavior**\r\nFailed to load model\r\n\r\n**Expected behavior**\r\nFailed to load model\r\n\r\n**System information**\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04):Windows-10-10.0.19041-SP0\r\n- Python version:3.8.3\r\n- HanLP version:2.1.0-alpha.50\r\n\r\n**Other info / logs**\r\nFailed to load https://file.hankcs.com/hanlp/classification/chnsenticorp_bert_base_20200104_164655.zip. See traceback below:\r\n================================ERROR LOG BEGINS================================\r\nTraceback (most recent call last):\r\n  File \"c:\\users\\admin\\envs\\work\\lib\\site-packages\\hanlp\\utils\\component_util.py\", line 81, in load_from_meta_file\r\n    obj.load(save_dir, verbose=verbose, **kwargs)\r\n  File \"c:\\users\\admin\\envs\\work\\lib\\site-packages\\hanlp\\common\\keras_component.py\", line 214, in load\r\n    self.build(**merge_dict(self.config, training=False, logger=logger, **kwargs, overwrite=True, inplace=True))\r\n  File \"c:\\users\\admin\\envs\\work\\lib\\site-packages\\hanlp\\common\\keras_component.py\", line 223, in build\r\n    self.transform.build_config()\r\n  File \"c:\\users\\admin\\envs\\work\\lib\\site-packages\\hanlp\\common\\transform_tf.py\", line 54, in build_config\r\n    self.output_types, self.output_shapes, self.padding_values = self.create_types_shapes_values()\r\n  File \"c:\\users\\admin\\envs\\work\\lib\\site-packages\\hanlp\\components\\classifiers\\transformer_classifier_tf.py\", line 78, in create_types_shapes_values\r\n    shapes = ([max_length], [max_length], [max_length]), [None, ] if self.config.multi_label else []\r\n  File \"c:\\users\\admin\\envs\\work\\lib\\site-packages\\hanlp_common\\structure.py\", line 95, in __getattr__\r\n    return self.__getitem__(key)\r\nKeyError: 'multi_label'\r\n=================================ERROR LOG ENDS=================================\r\nPlease upgrade hanlp with:\r\npip install --upgrade hanlp\r\n\r\nIf the problem still persists, please submit an issue to https://github.com/hankcs/HanLP/issues\r\nWhen reporting an issue, make sure to paste the FULL ERROR LOG above and the system info below.\r\nOS: Windows-10-10.0.19041-SP0\r\nPython: 3.8.3\r\nPyTorch: 1.8.1+cu102\r\nHanLP: 2.1.0-alpha.50\r\nERROR:root:Internal Python error in the inspect module.\r\nBelow is the traceback from this internal error.\r\n\r\n* [x] I've completed this form and searched the web for solutions.", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1661/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/1661/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1651", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/1651/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/1651/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/1651/events", "html_url": "https://github.com/hankcs/HanLP/issues/1651", "id": 892618247, "node_id": "MDU6SXNzdWU4OTI2MTgyNDc=", "number": 1651, "title": "\u57f7\u884c\u5206\u8a5e\u6703\u7522\u751f RuntimeError: cannot perform reduction function argmax on a tensor with no elements because the operation does not have an identity", "user": {"login": "u8621011", "id": 271116, "node_id": "MDQ6VXNlcjI3MTExNg==", "avatar_url": "https://avatars.githubusercontent.com/u/271116?v=4", "gravatar_id": "", "url": "https://api.github.com/users/u8621011", "html_url": "https://github.com/u8621011", "followers_url": "https://api.github.com/users/u8621011/followers", "following_url": "https://api.github.com/users/u8621011/following{/other_user}", "gists_url": "https://api.github.com/users/u8621011/gists{/gist_id}", "starred_url": "https://api.github.com/users/u8621011/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/u8621011/subscriptions", "organizations_url": "https://api.github.com/users/u8621011/orgs", "repos_url": "https://api.github.com/users/u8621011/repos", "events_url": "https://api.github.com/users/u8621011/events{/privacy}", "received_events_url": "https://api.github.com/users/u8621011/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2021-05-16T07:50:10Z", "updated_at": "2021-05-21T15:26:22Z", "closed_at": "2021-05-17T02:17:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n\u63d0\u95ee\u8bf7\u4e0a\u8bba\u575b\uff0c\u4e0d\u8981\u53d1\u8fd9\u91cc\uff01\r\n\u63d0\u95ee\u8bf7\u4e0a\u8bba\u575b\uff0c\u4e0d\u8981\u53d1\u8fd9\u91cc\uff01\r\n\u63d0\u95ee\u8bf7\u4e0a\u8bba\u575b\uff0c\u4e0d\u8981\u53d1\u8fd9\u91cc\uff01\r\n\r\n\u4ee5\u4e0b\u5fc5\u586b\uff0c\u5426\u5219\u6055\u4e0d\u53d7\u7406\u3002\r\n-->\r\n\r\n**Describe the bug**\r\n\u67d0\u500b\u5b57\u4e32\u4f7f\u7528\u57f7\u884c\u5206\u8a5e\u6703\u7522\u751f exception\u3002\r\n\r\n**Code to reproduce the issue**\r\n```python\r\nimport hanlp\r\nimport re\r\n\r\n\r\nHanLP = hanlp.load(hanlp.pretrained.mtl.CLOSE_TOK_POS_NER_SRL_DEP_SDP_CON_ELECTRA_SMALL_ZH) # \u9019\u500b\u4e0d\u6703\u6709 exception\r\n#HanLP = hanlp.load(hanlp.pretrained.mtl.CLOSE_TOK_POS_NER_SRL_DEP_SDP_CON_ELECTRA_BASE_ZH) # \u9019\u500b\u6703\u6709 exception\r\n\r\n\r\ndef segmenter_for_report(sentence):\r\n    import re\r\n\r\n    regex_patterns = {}\r\n    regex_patterns['patter1'] = re.compile('\\s+')\r\n    regex_patterns['patter2'] = re.compile('[^\\s]+')\r\n\r\n    tokens = []\r\n\r\n    s = sentence\r\n    cur_pos = 0\r\n    token_start_pos_base = cur_pos\r\n    while True:\r\n        max_matched_len = 0\r\n        next_token = None\r\n        token_type = None\r\n\r\n        # greedy search for the longest pattern from the beginning of 's'\r\n        print('Segmenting sentence: %s' % s)\r\n        for k, p in regex_patterns.items():\r\n            # return matchobject if matches\r\n            m = p.match(s)\r\n            if m:\r\n                print('\u3010%s\u3011 matched pattern: %s, start: %d, end: %d' %(s, k, m.start(0), m.end(0)))\r\n                cur_matched_len = m.end(0) - m.start(0)\r\n                if max_matched_len < cur_matched_len:\r\n                    max_matched_len = cur_matched_len\r\n                    next_token = m.group(0)\r\n                    token_type = k\r\n\r\n        if token_type:\r\n            print('longest matched pattern type: %s, token: %s' % (token_type, next_token))\r\n        else:\r\n            print('Cannot find the matched pattern. sentence: %s' % s)\r\n\r\n        # split off the longest token we found.\r\n        if next_token:\r\n            string_left = s[max_matched_len:]\r\n            string_left_trimmed = s[max_matched_len:].lstrip()\r\n\r\n            # process the token we found\r\n            token_start_pos = token_start_pos_base\r\n            token_end_pos = token_start_pos_base + max_matched_len\r\n            tokens.append(next_token)\r\n\r\n            s = string_left_trimmed\r\n            token_start_pos_base = token_end_pos + (\r\n                        len(string_left) - len(string_left_trimmed))  # the next base\r\n                \r\n        else:\r\n            if len(s.strip()) > 0:\r\n                print('Unprocessed substring: %s' % s)\r\n                break\r\n\r\n        if len(s) == 0:\r\n            break\r\n    return tokens\r\n\r\n\r\ntest_cases = [\r\n    '( \u0361\u00b0 \u035c\u0296 \u0361 \u00b0)',\r\n]    \r\n\r\nfor c in test_cases:\r\n    seg_phrases = segmenter_for_report(c)\r\n    for seg_text in seg_phrases:\r\n        tok_results = HanLP(seg_text, tasks=['tok/fine', 'pos/ctb'])\r\n        print('result: %s' % tok_results)\r\n```\r\n\r\n**Describe the current behavior**\r\n\u800c\u4e14\u4ee5\u4e0a\u72c0\u6cc1\u53ea\u6709\u4f7f\u7528 hanlp.pretrained.mtl.CLOSE_TOK_POS_NER_SRL_DEP_SDP_CON_ELECTRA_BASE_ZH \u624d\u6703\u767c\u751f\r\n\u4f7f\u7528 hanlp.pretrained.mtl.CLOSE_TOK_POS_NER_SRL_DEP_SDP_CON_ELECTRA_SMALL_ZH \u4e0d\u6703\u767c\u751f\r\n\r\n**Expected behavior**\r\n\u81f3\u5c11\u6b63\u5e38\u8fd4\u56de\u3002\r\n\r\n**System information**\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): windows 10\r\n- Python version: Python 3.7.3\r\n- HanLP version: 2.1.0a38\r\n\r\n**Other info / logs**\r\n```\r\nSegmenting sentence: ( \u0361\u00b0 \u035c\u0296 \u0361 \u00b0)\r\n\u3010( \u0361\u00b0 \u035c\u0296 \u0361 \u00b0)\u3011 matched pattern: patter2, start: 0, end: 1\r\nlongest matched pattern type: patter2, token: (\r\nSegmenting sentence: \u0361\u00b0 \u035c\u0296 \u0361 \u00b0)\r\n\u3010\u0361\u00b0 \u035c\u0296 \u0361 \u00b0)\u3011 matched pattern: patter2, start: 0, end: 2\r\nlongest matched pattern type: patter2, token: \u0361\u00b0\r\nSegmenting sentence: \u035c\u0296 \u0361 \u00b0)\r\n\u3010\u035c\u0296 \u0361 \u00b0)\u3011 matched pattern: patter2, start: 0, end: 2\r\nlongest matched pattern type: patter2, token: \u035c\u0296\r\nSegmenting sentence: \u0361 \u00b0)\r\n\u3010\u0361 \u00b0)\u3011 matched pattern: patter2, start: 0, end: 1\r\nlongest matched pattern type: patter2, token: \u0361\r\nSegmenting sentence: \u00b0)\r\n\u3010\u00b0)\u3011 matched pattern: patter2, start: 0, end: 2\r\nlongest matched pattern type: patter2, token: \u00b0)\r\nresult: {\r\n  \"tok/fine\": [\r\n    \"(\"\r\n  ],\r\n  \"pos/ctb\": [\r\n    \"PU\"\r\n  ]\r\n}\r\nresult: {\r\n  \"tok/fine\": [\r\n    \"\u00b0\"\r\n  ],\r\n  \"pos/ctb\": [\r\n    \"PU\"\r\n  ]\r\n}\r\nresult: {\r\n  \"tok/fine\": [\r\n    \"\u0296\"\r\n  ],\r\n  \"pos/ctb\": [\r\n    \"NN\"\r\n  ]\r\n}\r\nTraceback (most recent call last):\r\n  File \"tests\\report_hanlp.py\", line 75, in <module>\r\n    tok_results = HanLP(seg_text, tasks=['tok/fine', 'pos/ctb'])\r\n  File \"D:\\MyProjects\\boxservice\\env\\lib\\site-packages\\hanlp\\components\\mtl\\multi_task_learning.py\", line 768, in __call__\r\n    return super().__call__(data, batch_size, **kwargs)\r\n  File \"D:\\MyProjects\\boxservice\\env\\lib\\site-packages\\torch\\autograd\\grad_mode.py\", line 27, in decorate_context\r\n    return func(*args, **kwargs)\r\n  File \"D:\\MyProjects\\boxservice\\env\\lib\\site-packages\\hanlp\\common\\torch_component.py\", line 633, in __call__\r\n    **kwargs))\r\n  File \"D:\\MyProjects\\boxservice\\env\\lib\\site-packages\\hanlp\\common\\component.py\", line 36, in __call__\r\n    return self.predict(data, **kwargs)\r\n  File \"D:\\MyProjects\\boxservice\\env\\lib\\site-packages\\hanlp\\components\\mtl\\multi_task_learning.py\", line 505, in predict\r\n    cls_is_bos=cls_is_bos, sep_is_eos=sep_is_eos)\r\n  File \"D:\\MyProjects\\boxservice\\env\\lib\\site-packages\\hanlp\\components\\mtl\\multi_task_learning.py\", line 592, in predict_task\r\n    self.decode_output(output_dict, batch, output_key)\r\n  File \"D:\\MyProjects\\boxservice\\env\\lib\\site-packages\\hanlp\\components\\mtl\\multi_task_learning.py\", line 732, in decode_output\r\n    self.model.decoders[task_name])\r\n  File \"D:\\MyProjects\\boxservice\\env\\lib\\site-packages\\hanlp\\components\\mtl\\tasks\\tok\\tag_tok.py\", line 123, in decode_output\r\n    return TransformerTaggingTokenizer.decode_output(self, output, mask, batch, decoder)\r\n  File \"D:\\MyProjects\\boxservice\\env\\lib\\site-packages\\hanlp\\components\\tokenizers\\transformer.py\", line 97, in decode_output\r\n    output = super().decode_output(logits, mask, batch, model)\r\n  File \"D:\\MyProjects\\boxservice\\env\\lib\\site-packages\\hanlp\\components\\taggers\\tagger.py\", line 64, in decode_output\r\n    return logits.argmax(-1)\r\nRuntimeError: cannot perform reduction function argmax on a tensor with no elements because the operation does not have an identity\r\n```\r\n\r\n* [x] I've completed this form and searched the web for solutions.\r\n<!-- \u53d1\u8868\u524d\u5148\u641c\u7d22\uff0c\u6b64\u5904\u4e00\u5b9a\u8981\u52fe\u9009\uff01 -->\r\n<!-- \u53d1\u8868\u524d\u5148\u641c\u7d22\uff0c\u6b64\u5904\u4e00\u5b9a\u8981\u52fe\u9009\uff01 -->\r\n<!-- \u53d1\u8868\u524d\u5148\u641c\u7d22\uff0c\u6b64\u5904\u4e00\u5b9a\u8981\u52fe\u9009\uff01 -->", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1651/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/1651/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1644", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/1644/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/1644/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/1644/events", "html_url": "https://github.com/hankcs/HanLP/issues/1644", "id": 857599351, "node_id": "MDU6SXNzdWU4NTc1OTkzNTE=", "number": 1644, "title": "Pinyin.java \u4e2d \u90e8\u5206\u97f5\u6bcd\u9519\u8bef", "user": {"login": "iftaken", "id": 30135920, "node_id": "MDQ6VXNlcjMwMTM1OTIw", "avatar_url": "https://avatars.githubusercontent.com/u/30135920?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iftaken", "html_url": "https://github.com/iftaken", "followers_url": "https://api.github.com/users/iftaken/followers", "following_url": "https://api.github.com/users/iftaken/following{/other_user}", "gists_url": "https://api.github.com/users/iftaken/gists{/gist_id}", "starred_url": "https://api.github.com/users/iftaken/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iftaken/subscriptions", "organizations_url": "https://api.github.com/users/iftaken/orgs", "repos_url": "https://api.github.com/users/iftaken/repos", "events_url": "https://api.github.com/users/iftaken/events{/privacy}", "received_events_url": "https://api.github.com/users/iftaken/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2021-04-14T07:18:21Z", "updated_at": "2021-04-17T15:29:03Z", "closed_at": "2021-04-17T15:29:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nHello, hanlp developers, I found some bugs in the file Pinyin.java\r\n\r\nin commit 6b60684f447d4c9f4ad68016fd1b443ef50e9bb4\r\n\r\nlve3 's yunmu is ve \uff0c but lve4 's yunmu is ue .\r\n\r\nSource Code: \r\nhttps://github.com/hankcs/HanLP/blob/1.x/src/main/java/com/hankcs/hanlp/dictionary/py/Pinyin.java#L702\r\nhttps://github.com/hankcs/HanLP/blob/1.x/src/main/java/com/hankcs/hanlp/dictionary/py/Pinyin.java#L698\r\nhttps://github.com/hankcs/HanLP/blob/1.x/src/main/java/com/hankcs/hanlp/dictionary/py/Pinyin.java#L841\r\n\r\n**Code to reproduce the issue**\r\nProvide a reproducible test case that is the bare minimum necessary to generate the problem.\r\n\r\n```python\r\nfrom pyhanlp import *\r\nfrom multiprocessing import Pool, cpu_count\r\nPinyin = JClass(\"com.hankcs.hanlp.dictionary.py.Pinyin\")\r\n# hanlp \u6d4b\u8bd5\r\ntext = \"\u9a74\u5b50\uff0c\u7565\u5e26\uff0c\u759f\u75be\"       \r\npinyin_list = HanLP.convertToPinyinList(text)\r\nfor p in pinyin_list:\r\n    print(p.__str__(), end=\" \")\r\nprint()\r\nfor pinyin in pinyin_list:\r\n    print(\"%s,\" % pinyin.getYunmu(), end=\" \")\r\n```\r\n\r\n**Describe the current behavior**\r\n```text\r\nlv2 zi5 none5 lve4 dai4 none5 nve4 ji2 \r\nu, i, none, ue, ai, none, ue, i, \r\n```\r\n\r\n**Expected behavior**\r\n```text\r\nlv2 zi5 none5 lve4 dai4 none5 nve4 ji2 \r\nve, i, none, ve, ai, none, ve, i, \r\n```\r\n\r\n**System information**\r\n- OS Platform and Distribution : Linux Ubuntu 16.04\r\n- Python version: 3.6.12\r\n- HanLP version: 1.8.1\r\n\r\n**Other info / logs**\r\n\r\n* [x] I've completed this form and searched the web for solutions.\r\n", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1644/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/1644/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1635", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/1635/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/1635/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/1635/events", "html_url": "https://github.com/hankcs/HanLP/issues/1635", "id": 838485032, "node_id": "MDU6SXNzdWU4Mzg0ODUwMzI=", "number": 1635, "title": "\u8c03\u7528CustomDictionary.reload()\u8fd4\u56defalse\uff0c\u65e0\u6cd5\u66f4\u65b0\u8bcd\u5178", "user": {"login": "yixuan004", "id": 70429720, "node_id": "MDQ6VXNlcjcwNDI5NzIw", "avatar_url": "https://avatars.githubusercontent.com/u/70429720?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yixuan004", "html_url": "https://github.com/yixuan004", "followers_url": "https://api.github.com/users/yixuan004/followers", "following_url": "https://api.github.com/users/yixuan004/following{/other_user}", "gists_url": "https://api.github.com/users/yixuan004/gists{/gist_id}", "starred_url": "https://api.github.com/users/yixuan004/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yixuan004/subscriptions", "organizations_url": "https://api.github.com/users/yixuan004/orgs", "repos_url": "https://api.github.com/users/yixuan004/repos", "events_url": "https://api.github.com/users/yixuan004/events{/privacy}", "received_events_url": "https://api.github.com/users/yixuan004/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2021-03-23T08:37:58Z", "updated_at": "2021-03-26T06:50:48Z", "closed_at": "2021-03-23T15:02:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n\u63d0\u95ee\u8bf7\u4e0a\u8bba\u575b\uff0c\u4e0d\u8981\u53d1\u8fd9\u91cc\uff01\r\n\u63d0\u95ee\u8bf7\u4e0a\u8bba\u575b\uff0c\u4e0d\u8981\u53d1\u8fd9\u91cc\uff01\r\n\u63d0\u95ee\u8bf7\u4e0a\u8bba\u575b\uff0c\u4e0d\u8981\u53d1\u8fd9\u91cc\uff01\r\n\r\n\u4ee5\u4e0b\u5fc5\u586b\uff0c\u5426\u5219\u6055\u4e0d\u53d7\u7406\u3002\r\n-->\r\n\r\n**Describe the bug**\r\nA clear and concise description of what the bug is.\r\nfrom hanlp import CustomDictionary \u540e\uff0c\u8c03\u7528CustomDictionary.reload()\u8fd4\u56defalse\uff0c\u65e0\u6cd5\u66f4\u65b0\u8bcd\u5178\uff0c\u901a\u8fc7\u6253\u5370\u90e8\u5206\u65e5\u5fd7\u540e\u4ecd\u7136\u6ca1\u6709\u89e3\u51b3\u95ee\u9898\r\n![image](https://user-images.githubusercontent.com/70429720/112116759-92bc6280-8bf5-11eb-9518-2d554eccc8ae.png)\r\n\r\n**Code to reproduce the issue**\r\nProvide a reproducible test case that is the bare minimum necessary to generate the problem.\r\n\r\n>>> from pyhanlp import CustomDictionary, HanLP\r\n>>> print(HanLP.Config.CustomDictionaryPath)\r\n('/usr/local/python3/lib/python3.6/site-packages/pyhanlp/static/data/dictionary/custom/CustomDictionary.txt', '/usr/local/python3/lib/python3.6/site-packages/pyhanlp/static/data/dictionary/custom/\u73b0\u4ee3\u6c49\u8bed\u8865\u5145\u8bcd\u5e93.txt', '/usr/local/python3/lib/python3.6/site-packages/pyhanlp/static/data/dictionary/custom/\u5168\u56fd\u5730\u540d\u5927\u5168.txt ns', '/usr/local/python3/lib/python3.6/site-packages/pyhanlp/static/data/dictionary/custom/\u4eba\u540d\u8bcd\u5178.txt', '/usr/local/python3/lib/python3.6/site-packages/pyhanlp/static/data/dictionary/custom/\u673a\u6784\u540d\u8bcd\u5178.txt', '/usr/local/python3/lib/python3.6/site-packages/pyhanlp/static/data/dictionary/custom/\u4e0a\u6d77\u5730\u540d.txt ns', '/usr/local/python3/lib/python3.6/site-packages/pyhanlp/static/data/dictionary/person/nrf.txt nrf')\r\n>>> print(CustomDictionary.DEFAULT.path)\r\n()\r\n>>> print(CustomDictionary.reload())\r\nFalse\r\n\r\n\r\n**Describe the current behavior**\r\nA clear and concise description of what happened.\r\nreload\u6c38\u8fdc\u8fd4\u56defalse\uff0c\u6682\u65f6\u65e0\u6cd5\u5b9a\u4f4d\u5177\u4f53\u539f\u56e0\r\n\r\n**Expected behavior**\r\nA clear and concise description of what you expected to happen.\r\n\u671f\u671breload\u5f97\u5230True\u7684\u8fd4\u56de\u7ed3\u679c\uff0c\u6210\u529f\u66f4\u65b0\r\n\r\n**System information**\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Linux 3.10.0-957.el7.x86_64 #1 SMP Thu Nov 8 23:39:32 UTC 2018 x86_64 x86_64 x86_64 GNU/Linux\r\n- Python version: 3.6.8\r\n- HanLP version: 0.1.63\r\n\r\n\r\n**Other info / logs**\r\nInclude any logs or source code that would be helpful to diagnose the problem. If including tracebacks, please include the full traceback. Large logs and files should be attached.\r\n\u89c1\u4e0a\u8fb9\u7684\u622a\u56fe\u4e2d\r\n\r\n* [x] I've completed this form and searched the web for solutions.\r\n<!-- \u53d1\u8868\u524d\u5148\u641c\u7d22\uff0c\u6b64\u5904\u4e00\u5b9a\u8981\u52fe\u9009\uff01 -->\r\n<!-- \u53d1\u8868\u524d\u5148\u641c\u7d22\uff0c\u6b64\u5904\u4e00\u5b9a\u8981\u52fe\u9009\uff01 -->\r\n<!-- \u53d1\u8868\u524d\u5148\u641c\u7d22\uff0c\u6b64\u5904\u4e00\u5b9a\u8981\u52fe\u9009\uff01 -->", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1635/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/1635/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1634", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/1634/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/1634/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/1634/events", "html_url": "https://github.com/hankcs/HanLP/issues/1634", "id": 835638017, "node_id": "MDU6SXNzdWU4MzU2MzgwMTc=", "number": 1634, "title": "convertToPinyinList\u65b9\u6cd5\uff0c\u8fd4\u56de\u4e86\u6240\u6709\u540c\u97f3\u5b57\u7684\u62fc\u97f3\u3002", "user": {"login": "liuyan731", "id": 15249356, "node_id": "MDQ6VXNlcjE1MjQ5MzU2", "avatar_url": "https://avatars.githubusercontent.com/u/15249356?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liuyan731", "html_url": "https://github.com/liuyan731", "followers_url": "https://api.github.com/users/liuyan731/followers", "following_url": "https://api.github.com/users/liuyan731/following{/other_user}", "gists_url": "https://api.github.com/users/liuyan731/gists{/gist_id}", "starred_url": "https://api.github.com/users/liuyan731/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liuyan731/subscriptions", "organizations_url": "https://api.github.com/users/liuyan731/orgs", "repos_url": "https://api.github.com/users/liuyan731/repos", "events_url": "https://api.github.com/users/liuyan731/events{/privacy}", "received_events_url": "https://api.github.com/users/liuyan731/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2021-03-19T07:10:29Z", "updated_at": "2021-03-19T20:58:31Z", "closed_at": "2021-03-19T20:58:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n\u63d0\u95ee\u8bf7\u4e0a\u8bba\u575b\uff0c\u4e0d\u8981\u53d1\u8fd9\u91cc\uff01\r\n\u63d0\u95ee\u8bf7\u4e0a\u8bba\u575b\uff0c\u4e0d\u8981\u53d1\u8fd9\u91cc\uff01\r\n\u63d0\u95ee\u8bf7\u4e0a\u8bba\u575b\uff0c\u4e0d\u8981\u53d1\u8fd9\u91cc\uff01\r\n\r\n\u4ee5\u4e0b\u5fc5\u586b\uff0c\u5426\u5219\u6055\u4e0d\u53d7\u7406\u3002\r\n-->\r\n\r\n**Describe the bug**\r\nconvertToPinyinList\u65b9\u6cd5\uff0c\u8fd4\u56de\u4e86\u6240\u6709\u540c\u97f3\u5b57\u7684\u62fc\u97f3\u3002\r\n\r\n**Code to reproduce the issue**\r\nProvide a reproducible test case that is the bare minimum necessary to generate the problem.\r\n\r\n```Java\r\nSystem.out.println(HanLP.convertToPinyinString(\"\u4f60\u597d\", \" \", false));\r\n// ni hao hao\r\n```\r\n\r\n**Describe the current behavior**\r\nconvertToPinyinList\u65b9\u6cd5\u8fd4\u56de\u4e86\u591a\u97f3\u5b57\u6240\u6709\u7684\u62fc\u97f3\uff0c\u5bfc\u81f4\u8fd4\u56de\u7684\u62fc\u97f3\u5b57\u7b26\u4e32\u6709\u591a\u4f59\u7684\u591a\u97f3\u5b57\uff0c\u540c\u65f6\u5f53\u9700\u8981\u8f6c\u62fc\u97f3\u5b57\u7b26\u4e32\u6709\u4e2d\u82f1\u6df7\u6742\u65f6\uff0c\u4f1a\u51fa\u73b0\u62a5\u9519IndexOutOfBoundaryException\u30021.7.8\u65e0\u6b64\u95ee\u9898\u3002\r\n\r\n**Expected behavior**\r\n\u201c\u4f60\u597d\u201d\u8fd4\u56de\u201cni hao\u201d\u800c\u4e0d\u662f\u201cni hao hao\u201d\u3002\r\n\r\n**System information**\r\n- Linux\u3001Windows\r\n- Python version:\r\n- HanLP version:1.8.0\r\n\r\n**Other info / logs**\r\nInclude any logs or source code that would be helpful to diagnose the problem. If including tracebacks, please include the full traceback. Large logs and files should be attached.\r\n\r\n* [x] I've completed this form and searched the web for solutions.\r\n<!-- \u53d1\u8868\u524d\u5148\u641c\u7d22\uff0c\u6b64\u5904\u4e00\u5b9a\u8981\u52fe\u9009\uff01 -->\r\n<!-- \u53d1\u8868\u524d\u5148\u641c\u7d22\uff0c\u6b64\u5904\u4e00\u5b9a\u8981\u52fe\u9009\uff01 -->\r\n<!-- \u53d1\u8868\u524d\u5148\u641c\u7d22\uff0c\u6b64\u5904\u4e00\u5b9a\u8981\u52fe\u9009\uff01 -->", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1634/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/1634/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1628", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/1628/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/1628/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/1628/events", "html_url": "https://github.com/hankcs/HanLP/issues/1628", "id": 821986207, "node_id": "MDU6SXNzdWU4MjE5ODYyMDc=", "number": 1628, "title": "demo\u8bad\u7ec3\u6570\u636e\u4f4e\u4e0b", "user": {"login": "shixinglingguihua", "id": 22882285, "node_id": "MDQ6VXNlcjIyODgyMjg1", "avatar_url": "https://avatars.githubusercontent.com/u/22882285?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shixinglingguihua", "html_url": "https://github.com/shixinglingguihua", "followers_url": "https://api.github.com/users/shixinglingguihua/followers", "following_url": "https://api.github.com/users/shixinglingguihua/following{/other_user}", "gists_url": "https://api.github.com/users/shixinglingguihua/gists{/gist_id}", "starred_url": "https://api.github.com/users/shixinglingguihua/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shixinglingguihua/subscriptions", "organizations_url": "https://api.github.com/users/shixinglingguihua/orgs", "repos_url": "https://api.github.com/users/shixinglingguihua/repos", "events_url": "https://api.github.com/users/shixinglingguihua/events{/privacy}", "received_events_url": "https://api.github.com/users/shixinglingguihua/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 8, "created_at": "2021-03-04T10:21:09Z", "updated_at": "2021-03-08T01:37:25Z", "closed_at": "2021-03-05T18:32:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n\u63d0\u95ee\u8bf7\u4e0a\u8bba\u575b\uff0c\u4e0d\u8981\u53d1\u8fd9\u91cc\uff01\r\n\u63d0\u95ee\u8bf7\u4e0a\u8bba\u575b\uff0c\u4e0d\u8981\u53d1\u8fd9\u91cc\uff01\r\n\u63d0\u95ee\u8bf7\u4e0a\u8bba\u575b\uff0c\u4e0d\u8981\u53d1\u8fd9\u91cc\uff01\r\n\r\n\u4ee5\u4e0b\u5fc5\u586b\uff0c\u5426\u5219\u6055\u4e0d\u53d7\u7406\u3002\r\n-->\r\n\r\n**Describe the bug**\r\n\u8fd0\u884c\u7ed9\u51fa\u6765\u7684 \u8bad\u7ec3demo\uff0cgpu \u5229\u7528\u7387\u5f88\u4f4e\uff0c\r\n\r\n**Code to reproduce the issue**\r\nhttps://github.com/hankcs/HanLP/blob/master/plugins/hanlp_demo/hanlp_demo/zh/demo_custom_dict.py\r\n\r\n```python\r\n```\r\n\r\n**Describe the current behavior**\r\nA clear and concise description of what happened.\r\n\r\n**Expected behavior**\r\n![cuda](https://user-images.githubusercontent.com/22882285/109949146-00235480-7d16-11eb-89bd-32da15eff0f9.jpg)\r\n![hanlp](https://user-images.githubusercontent.com/22882285/109949170-05809f00-7d16-11eb-8709-6b1aed23e42f.jpg)\r\n![hanlp1](https://user-images.githubusercontent.com/22882285/109949193-0a455300-7d16-11eb-9f18-6653c562014c.jpg)\r\n\r\n\r\n**System information**\r\n- OS Platform and Distribution (e.g., win 10):\r\n- Python version: 3.6\r\n- HanLP version: 2.1\r\n- torch version:1.7.0\r\n- torchvision: 0.8.1\r\n\r\n**Other info / logs**\r\n\u8bf7\u786e\u4eba\u662f\u4e0d\u662f\u4f60\u4eec\u90a3\u8fb9\u6ca1\u6709\u5bf9win\u4f5c\u4f18\u5316\uff0c\u5bfc\u81f4 \u5728win 10\u4e0b\u66f4\u4e0d\u4e0a linux \u7684\u8bad\u7ec3\u901f\u5ea6\r\n\r\n* [x] I've completed this form and searched the web for solutions.\r\n<!-- \u53d1\u8868\u524d\u5148\u641c\u7d22\uff0c\u6b64\u5904\u4e00\u5b9a\u8981\u52fe\u9009\uff01 -->\r\n<!-- \u53d1\u8868\u524d\u5148\u641c\u7d22\uff0c\u6b64\u5904\u4e00\u5b9a\u8981\u52fe\u9009\uff01 -->\r\n<!-- \u53d1\u8868\u524d\u5148\u641c\u7d22\uff0c\u6b64\u5904\u4e00\u5b9a\u8981\u52fe\u9009\uff01 -->", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1628/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/1628/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1624", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/1624/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/1624/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/1624/events", "html_url": "https://github.com/hankcs/HanLP/issues/1624", "id": 818116186, "node_id": "MDU6SXNzdWU4MTgxMTYxODY=", "number": 1624, "title": "IndexError: The shape of the mask [86, 39, 39] at index 1 does not match the shape of the indexed tensor [86, 41, 41, 19] at index 1", "user": {"login": "withchencheng", "id": 6984229, "node_id": "MDQ6VXNlcjY5ODQyMjk=", "avatar_url": "https://avatars.githubusercontent.com/u/6984229?v=4", "gravatar_id": "", "url": "https://api.github.com/users/withchencheng", "html_url": "https://github.com/withchencheng", "followers_url": "https://api.github.com/users/withchencheng/followers", "following_url": "https://api.github.com/users/withchencheng/following{/other_user}", "gists_url": "https://api.github.com/users/withchencheng/gists{/gist_id}", "starred_url": "https://api.github.com/users/withchencheng/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/withchencheng/subscriptions", "organizations_url": "https://api.github.com/users/withchencheng/orgs", "repos_url": "https://api.github.com/users/withchencheng/repos", "events_url": "https://api.github.com/users/withchencheng/events{/privacy}", "received_events_url": "https://api.github.com/users/withchencheng/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2021-02-28T04:09:54Z", "updated_at": "2021-02-28T17:51:06Z", "closed_at": "2021-02-28T17:39:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n\u63d0\u95ee\u8bf7\u4e0a\u8bba\u575b\uff0c\u4e0d\u8981\u53d1\u8fd9\u91cc\uff01\r\n\u63d0\u95ee\u8bf7\u4e0a\u8bba\u575b\uff0c\u4e0d\u8981\u53d1\u8fd9\u91cc\uff01\r\n\u63d0\u95ee\u8bf7\u4e0a\u8bba\u575b\uff0c\u4e0d\u8981\u53d1\u8fd9\u91cc\uff01\r\n\r\n\u4ee5\u4e0b\u5fc5\u586b\uff0c\u5426\u5219\u6055\u4e0d\u53d7\u7406\u3002\r\n-->\r\n\r\n**Describe the bug**\r\nError when parsing 33082 english sentences.\r\n\r\n**Code to reproduce the issue**\r\ndata here:  \r\n[qtitles.zip](https://github.com/hankcs/HanLP/files/6056254/qtitles.zip)\r\n\r\n\r\n\r\n```python\r\nimport hanlp\r\nhan = hanlp.load(hanlp.pretrained.mtl.UD_ONTONOTES_TOK_POS_LEM_FEA_NER_SRL_DEP_SDP_CON_MT5_SMALL) # 'mt5 small version of joint tok, pos, lem, fea, ner, srl, dep, sdp and con model trained on UD and OntoNotes5 corpus.'\r\n\r\nwith open('/home1/qtitles','r')as ifile:\r\n    corpus = ifile.read().split('\\n')\r\n\r\nps=han(corpus)\r\n```\r\n\r\n**Describe the current behavior**\r\nError & Exit with the following output:\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"parse2.py\", line 14, in <module>\r\n    ps=han(corpus)\r\n  File \"/home1/data/cc/opt/anaconda3/lib/python3.8/site-packages/hanlp/components/mtl/multi_task_learning.py\", line 768, in __call__\r\n    return super().__call__(data, batch_size, **kwargs)\r\n  File \"/home1/data/cc/opt/anaconda3/lib/python3.8/site-packages/torch/autograd/grad_mode.py\", line 26, in decorate_context\r\n    return func(*args, **kwargs)\r\n  File \"/home1/data/cc/opt/anaconda3/lib/python3.8/site-packages/hanlp/common/torch_component.py\", line 629, in __call__\r\n    return super().__call__(data, **merge_dict(self.config, overwrite=True,\r\n  File \"/home1/data/cc/opt/anaconda3/lib/python3.8/site-packages/hanlp/common/component.py\", line 36, in __call__\r\n    return self.predict(data, **kwargs)\r\n  File \"/home1/data/cc/opt/anaconda3/lib/python3.8/site-packages/hanlp/components/mtl/multi_task_learning.py\", line 512, in predict\r\n    output_dict = self.predict_task(self.tasks[task_name], task_name, batch, results, output_dict,\r\n  File \"/home1/data/cc/opt/anaconda3/lib/python3.8/site-packages/hanlp/components/mtl/multi_task_learning.py\", line 590, in predict_task\r\n    output_dict, batch = self.feed_batch(batch, output_key, output_dict, run_transform, cls_is_bos, sep_is_eos,\r\n  File \"/home1/data/cc/opt/anaconda3/lib/python3.8/site-packages/hanlp/components/mtl/multi_task_learning.py\", line 682, in feed_batch\r\n    'output': task.feed_batch(h,\r\n  File \"/home1/data/cc/opt/anaconda3/lib/python3.8/site-packages/hanlp/components/mtl/tasks/__init__.py\", line 182, in feed_batch\r\n    return decoder(h, batch=batch, mask=mask)\r\n  File \"/home1/data/cc/opt/anaconda3/lib/python3.8/site-packages/torch/nn/modules/module.py\", line 727, in _call_impl\r\n    result = self.forward(*input, **kwargs)\r\n  File \"/home1/data/cc/opt/anaconda3/lib/python3.8/site-packages/hanlp/components/ner/biaffine_ner/biaffine_ner_model.py\", line 82, in forward\r\n    return self.decode(contextualized_embeddings, gold_starts, gold_ends, gold_labels, mask,\r\n  File \"/home1/data/cc/opt/anaconda3/lib/python3.8/site-packages/hanlp/components/ner/biaffine_ner/biaffine_ner_model.py\", line 116, in decode\r\n    candidate_ner_scores = candidate_ner_scores[candidate_scores_mask]\r\nIndexError: The shape of the mask [86, 39, 39] at index 1 does not match the shape of the indexed tensor [86, 41, 41, 19] at index 1\r\n\r\n```\r\n\r\n**Expected behavior**\r\nno output\r\n\r\n**System information**\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04):  CentOS Linux release 7.6.1810 (Core) \r\n- Python version: 3.8.3\r\n- HanLP version: '2.1.0-alpha.25'\r\n\r\n\r\n**Other info / logs**\r\n\r\n* [x] I've completed this form and searched the web for solutions.\r\n<!-- \u53d1\u8868\u524d\u5148\u641c\u7d22\uff0c\u6b64\u5904\u4e00\u5b9a\u8981\u52fe\u9009\uff01 -->\r\n<!-- \u53d1\u8868\u524d\u5148\u641c\u7d22\uff0c\u6b64\u5904\u4e00\u5b9a\u8981\u52fe\u9009\uff01 -->\r\n<!-- \u53d1\u8868\u524d\u5148\u641c\u7d22\uff0c\u6b64\u5904\u4e00\u5b9a\u8981\u52fe\u9009\uff01 -->", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1624/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/1624/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1622", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/1622/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/1622/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/1622/events", "html_url": "https://github.com/hankcs/HanLP/issues/1622", "id": 816268149, "node_id": "MDU6SXNzdWU4MTYyNjgxNDk=", "number": 1622, "title": "RecursionError: maximum recursion depth exceeded in comparison", "user": {"login": "withchencheng", "id": 6984229, "node_id": "MDQ6VXNlcjY5ODQyMjk=", "avatar_url": "https://avatars.githubusercontent.com/u/6984229?v=4", "gravatar_id": "", "url": "https://api.github.com/users/withchencheng", "html_url": "https://github.com/withchencheng", "followers_url": "https://api.github.com/users/withchencheng/followers", "following_url": "https://api.github.com/users/withchencheng/following{/other_user}", "gists_url": "https://api.github.com/users/withchencheng/gists{/gist_id}", "starred_url": "https://api.github.com/users/withchencheng/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/withchencheng/subscriptions", "organizations_url": "https://api.github.com/users/withchencheng/orgs", "repos_url": "https://api.github.com/users/withchencheng/repos", "events_url": "https://api.github.com/users/withchencheng/events{/privacy}", "received_events_url": "https://api.github.com/users/withchencheng/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2021-02-25T09:46:15Z", "updated_at": "2021-02-25T16:35:50Z", "closed_at": "2021-02-25T16:30:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n\u63d0\u95ee\u8bf7\u4e0a\u8bba\u575b\uff0c\u4e0d\u8981\u53d1\u8fd9\u91cc\uff01\r\n\u63d0\u95ee\u8bf7\u4e0a\u8bba\u575b\uff0c\u4e0d\u8981\u53d1\u8fd9\u91cc\uff01\r\n\u63d0\u95ee\u8bf7\u4e0a\u8bba\u575b\uff0c\u4e0d\u8981\u53d1\u8fd9\u91cc\uff01\r\n\r\n\u4ee5\u4e0b\u5fc5\u586b\uff0c\u5426\u5219\u6055\u4e0d\u53d7\u7406\u3002\r\n-->\r\n\r\n**Describe the bug**\r\n\u4f7f\u7528readme.md\u793a\u4f8b\u7684\u4ee3\u7801\u53bb\u89e3\u679020\u4e07\u884c\u81ea\u7136\u8bed\u8a00\u53e5\u5b50\u62a5\u6b64\u9519\u8bef\u3002\u6bcf\u4e2a\u53e5\u5b50\u7684length\u9650\u5236\u572840\u4ee5\u5185\u3002\r\n\r\n\r\n**Code to reproduce the issue**\r\n\u6570\u636e\u89c1 \r\n[sg_phone40.zip](https://github.com/hankcs/HanLP/files/6042006/sg_phone40.zip)\r\n\r\n\r\n```python\r\nimport hanlp\r\nfrom tqdm import tqdm\r\nhan = hanlp.load(hanlp.pretrained.mtl.CLOSE_TOK_POS_NER_SRL_DEP_SDP_CON_ELECTRA_SMALL_ZH) # \u4e16\u754c\u6700\u5927\u4e2d\u6587\u8bed\u6599\u5e93\r\n#p=han(['2021\u5e74HanLPv2.1\u4e3a\u751f\u4ea7\u73af\u5883\u5e26\u6765\u6b21\u4e16\u4ee3\u6700\u5148\u8fdb\u7684\u591a\u8bed\u79cdNLP\u6280\u672f\u3002', '\u963f\u5a46\u4e3b\u6765\u5230\u5317\u4eac\u7acb\u65b9\u5ead\u53c2\u89c2\u81ea\u7136\u8bed\u4e49\u79d1\u6280\u516c\u53f8\u3002'])\r\n#print(type(p))#<class 'hanlp_common.document.Document'>'\r\n#print(p)\r\n\r\n\r\nwith open('sg_phone40','r')as ifile:\r\n    corpus = ifile.read().split('\\n')     #\u76f4\u63a5\u8f93\u5165corpus\uff0c\u4e0d\u7528\u4e0b\u9762\u7684k\u505abatching\u4e5f\u4f1a\u62a5\u540c\u6837\u7684\u9519\uff0c\u4f46\u662f\u8981\u8dd1\u5230\u5927\u7ea67\u4e07\u591a\u884c\u7684\u65f6\u5019\u624d\u51fa\u9519\uff0c\u8981\u7b49\u5f88\u4e45\uff0c\u4e0d\u65b9\u4fbfdebug\r\n\r\nerr=73072\r\ncorpus=corpus[err-2000 : err+2000]\r\n\r\nn=len(corpus)\r\nk=1000\r\nps=[]\r\n\r\nbatch=[]\r\nfor s in tqdm(corpus):\r\n    if len(batch)<k:\r\n        batch.append(s)\r\n    else:\r\n        ptmp=han(batch)\r\n        ps.append(ptmp)\r\n        batch=[]\r\n\r\nif len(batch)>0:\r\n    ptmp=han(batch)\r\n    ps.append(ptmp)\r\n\r\nimport pickle\r\n\r\npickle.dump( ps, open( \"phone_hanlp_pipeline20210225_2.pkl\", \"wb\" ) )\r\n\r\n```\r\n\r\n\r\n**Describe the current behavior**\r\n\u62a5\u9519\u9000\u51fa\r\n```\r\n(base) [cc@localhost sg_phone]$ python parse2.py \r\n 50%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258c                                              | 2001/4000 [00:17<00:17, 111.90it/s]\r\nTraceback (most recent call last):\r\n  File \"parse2.py\", line 24, in <module>\r\n    ptmp=han(batch)\r\n  File \"/home1/data/cc/opt/anaconda3/lib/python3.8/site-packages/hanlp/components/mtl/multi_task_learning.py\", line 768, in __call__\r\n    return super().__call__(data, batch_size, **kwargs)\r\n  File \"/home1/data/cc/opt/anaconda3/lib/python3.8/site-packages/torch/autograd/grad_mode.py\", line 26, in decorate_context\r\n    return func(*args, **kwargs)\r\n  File \"/home1/data/cc/opt/anaconda3/lib/python3.8/site-packages/hanlp/common/torch_component.py\", line 629, in __call__\r\n    return super().__call__(data, **merge_dict(self.config, overwrite=True,\r\n  File \"/home1/data/cc/opt/anaconda3/lib/python3.8/site-packages/hanlp/common/component.py\", line 36, in __call__\r\n    return self.predict(data, **kwargs)\r\n  File \"/home1/data/cc/opt/anaconda3/lib/python3.8/site-packages/hanlp/components/mtl/multi_task_learning.py\", line 512, in predict\r\n    output_dict = self.predict_task(self.tasks[task_name], task_name, batch, results, output_dict,\r\n  File \"/home1/data/cc/opt/anaconda3/lib/python3.8/site-packages/hanlp/components/mtl/multi_task_learning.py\", line 592, in predict_task\r\n    self.decode_output(output_dict, batch, output_key)\r\n  File \"/home1/data/cc/opt/anaconda3/lib/python3.8/site-packages/hanlp/components/mtl/multi_task_learning.py\", line 728, in decode_output\r\n    output_per_task['prediction'] = self.tasks[task_name].decode_output(\r\n  File \"/home1/data/cc/opt/anaconda3/lib/python3.8/site-packages/hanlp/components/mtl/tasks/constituency.py\", line 135, in decode_output\r\n    return CRFConstituencyParser.decode_output(self, out, mask, batch, output.get('span_probs', None),\r\n  File \"/home1/data/cc/opt/anaconda3/lib/python3.8/site-packages/hanlp/components/parsers/constituency/crf_constituency_parser.py\", line 127, in decode_output\r\n    chart_preds = decoder.decode(s_span, s_label, mask)\r\n  File \"/home1/data/cc/opt/anaconda3/lib/python3.8/site-packages/hanlp/components/parsers/constituency/crf_constituency_model.py\", line 189, in decode\r\n    span_preds = cky(s_span, mask)\r\n  File \"/home1/data/cc/opt/anaconda3/lib/python3.8/site-packages/hanlp/components/parsers/alg.py\", line 313, in cky\r\n    trees = [backtrack(p[i], 0, length) for i, length in enumerate(lens.tolist())]\r\n  File \"/home1/data/cc/opt/anaconda3/lib/python3.8/site-packages/hanlp/components/parsers/alg.py\", line 313, in <listcomp>\r\n    trees = [backtrack(p[i], 0, length) for i, length in enumerate(lens.tolist())]\r\n  File \"/home1/data/cc/opt/anaconda3/lib/python3.8/site-packages/hanlp/components/parsers/alg.py\", line 308, in backtrack\r\n    ltree = backtrack(p, i, split)\r\n  File \"/home1/data/cc/opt/anaconda3/lib/python3.8/site-packages/hanlp/components/parsers/alg.py\", line 308, in backtrack\r\n    ltree = backtrack(p, i, split)\r\n  File \"/home1/data/cc/opt/anaconda3/lib/python3.8/site-packages/hanlp/components/parsers/alg.py\", line 308, in backtrack\r\n    ltree = backtrack(p, i, split)\r\n  [Previous line repeated 982 more times]\r\n  File \"/home1/data/cc/opt/anaconda3/lib/python3.8/site-packages/hanlp/components/parsers/alg.py\", line 305, in backtrack\r\n    if j == i + 1:\r\nRecursionError: maximum recursion depth exceeded in comparison\r\n```\r\n\r\n**Expected behavior**\r\n\u6b63\u5e38\u8dd1\u5b8c\r\n\r\n\r\n**System information**\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): CentOS Linux release 7.6.1810 (Core)\r\n- Python version: 3.8.3\r\n- HanLP version: 2.1.0-alpha.23\r\n\r\n**Other info / logs**\r\n\u590d\u73b0\u9519\u8bef\u7684\u4ee3\u7801\u4e0d\u8bbe\u7f6e`k`\u505abatching\uff0c\u76f4\u63a5\u8dd1\u4e5f\u4f1a\u51fa\u9519\u7684\u3002\r\n\r\n* [x] I've completed this form and searched the web for solutions.\r\n<!-- \u53d1\u8868\u524d\u5148\u641c\u7d22\uff0c\u6b64\u5904\u4e00\u5b9a\u8981\u52fe\u9009\uff01 -->\r\n<!-- \u53d1\u8868\u524d\u5148\u641c\u7d22\uff0c\u6b64\u5904\u4e00\u5b9a\u8981\u52fe\u9009\uff01 -->\r\n<!-- \u53d1\u8868\u524d\u5148\u641c\u7d22\uff0c\u6b64\u5904\u4e00\u5b9a\u8981\u52fe\u9009\uff01 -->", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1622/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/1622/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1621", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/1621/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/1621/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/1621/events", "html_url": "https://github.com/hankcs/HanLP/issues/1621", "id": 816065531, "node_id": "MDU6SXNzdWU4MTYwNjU1MzE=", "number": 1621, "title": "\u4f9d\u5b58\u6811\u7ed3\u6784\u9519\u8bef\uff0c\u67d0\u4e9bhead index\u6839\u672c\u4e0d\u5b58\u5728\uff08\u540cissue#1499\uff09", "user": {"login": "withchencheng", "id": 6984229, "node_id": "MDQ6VXNlcjY5ODQyMjk=", "avatar_url": "https://avatars.githubusercontent.com/u/6984229?v=4", "gravatar_id": "", "url": "https://api.github.com/users/withchencheng", "html_url": "https://github.com/withchencheng", "followers_url": "https://api.github.com/users/withchencheng/followers", "following_url": "https://api.github.com/users/withchencheng/following{/other_user}", "gists_url": "https://api.github.com/users/withchencheng/gists{/gist_id}", "starred_url": "https://api.github.com/users/withchencheng/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/withchencheng/subscriptions", "organizations_url": "https://api.github.com/users/withchencheng/orgs", "repos_url": "https://api.github.com/users/withchencheng/repos", "events_url": "https://api.github.com/users/withchencheng/events{/privacy}", "received_events_url": "https://api.github.com/users/withchencheng/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2021-02-25T04:12:27Z", "updated_at": "2021-02-25T04:44:14Z", "closed_at": "2021-02-25T04:44:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n\u63d0\u95ee\u8bf7\u4e0a\u8bba\u575b\uff0c\u4e0d\u8981\u53d1\u8fd9\u91cc\uff01\r\n\u63d0\u95ee\u8bf7\u4e0a\u8bba\u575b\uff0c\u4e0d\u8981\u53d1\u8fd9\u91cc\uff01\r\n\u63d0\u95ee\u8bf7\u4e0a\u8bba\u575b\uff0c\u4e0d\u8981\u53d1\u8fd9\u91cc\uff01\r\n\r\n\u4ee5\u4e0b\u5fc5\u586b\uff0c\u5426\u5219\u6055\u4e0d\u53d7\u7406\u3002\r\n-->\r\n\r\n**Describe the bug**\r\n\u590d\u73b0bug\u4ee3\u7801\uff0c\u6d4b\u8bd5\u6570\u636e\u89c1https://github.com/hankcs/HanLP/issues/1499#\r\n\u5f53\u65f6\u662f\u89e3\u51b3\u4e86\uff0c\u6211\u5b89\u88c5\u4e86\u6700\u65b0\u7684''2.1.0-alpha.23'\u7248\u672c\u53c8\u51fa\u73b0\u540c\u6837\u7684\u9519\u8bef\uff1a\u67d0\u4e9bhead index\u5927\u4e8emax possible token index\r\n\r\n**Code to reproduce the issue**\r\n\u590d\u73b0bug\u4ee3\u7801\uff0c\u6d4b\u8bd5\u6570\u636e\u540chttps://github.com/hankcs/HanLP/issues/1499#\r\n\r\n```python\r\nimport hanlp\r\n\r\ntokenizer = hanlp.load('PKU_NAME_MERGED_SIX_MONTHS_CONVSEG')\r\ntagger = hanlp.load(hanlp.pretrained.pos.CTB5_POS_RNN_FASTTEXT_ZH)\r\nsyntactic_parser = hanlp.load(hanlp.pretrained.dep.CTB7_BIAFFINE_DEP_ZH)\r\nsemantic_parser = hanlp.load(hanlp.pretrained.sdp.SEMEVAL16_NEWS_BIAFFINE_ZH)\r\nprint(semantic_parser([('\u8721\u70db', 'NN'), ('\u4e24', 'CD'), ('\u5934', 'NN'), ('\u70e7', 'VV')]))\r\n\r\npipeline = hanlp.pipeline() \\\r\n    .append(hanlp.utils.rules.split_sentence, output_key='sentences') \\\r\n    .append(tokenizer, output_key='tokens') \\\r\n    .append(tagger, output_key='part_of_speech_tags') \\\r\n    .append(syntactic_parser, input_key=('tokens', 'part_of_speech_tags'), output_key='syntactic_dependencies') \\\r\n    .append(semantic_parser, input_key=('tokens', 'part_of_speech_tags'), output_key='semantic_dependencies')\r\n\r\n\r\nwith open('hanlp_phones','r')as ifile:\r\n    corpus = ifile.read()\r\n\r\nprint(corpus[:200])\r\n\r\nprint('begin pipeline...')\r\np1=pipeline(corpus)\r\ntype(p1)  # hanlp.common.document.Document\r\n\r\nprint('pipeline done...')\r\n\r\nimport pickle\r\n\r\npickle.dump( p1, open( \"hanlp_pipeline0702.pkl\", \"wb\" ) )\r\n```\r\n\r\n\u68c0\u67e5head id\u8fc7\u5927\u7684\u9519\u8bef\uff1a\r\n```python\r\nprint('checking pickle')\r\nimport pickle\r\n\r\np2 = pickle.load(open(\"hanlp_pipeline0702.pkl\", \"rb\"))\r\n\r\n\r\ndef check2(s,n):\r\n    maxv=0\r\n    for w in s:\r\n        vid=w['id']\r\n        maxv=max(maxv,vid)\r\n    for w in s:\r\n        head_id=w['head']\r\n        if head_id>maxv:\r\n            print(f'{n}:{p2[\"sentences\"][n]}\\n')\r\n            print(str(s)+'\\n\\n')\r\n            break\r\n\r\nn=0\r\nfor sentence in p2[\"syntactic_dependencies\"]:\r\n    check2(sentence, n)\r\n    n+=1\r\n```\r\n\r\n\u5f97\u5230\u9519\u8bef\u8f93\u51fa\uff1a\r\n```\r\n20:neken\u5c3c\u51ef\u6069\u624b\u673aen8c\u600e\u6837\u5f00\u673a\r\n\r\n1       neken\u5c3c\u51ef\u6069     _       NR      _       _       3       nn      _       _\r\n2       \u624b\u673a    _       NN      _       _       3       nn      _       _\r\n3       en8c    _       NN      _       _       6       assmod  _       _\r\n4       \u600e\u6837    _       AD      _       _       3       assm    _       _\r\n5       \u5f00\u673a    _       VV      _       _       6       nn      _       _\r\n\r\n\r\n21:neken/\u5c3c\u51ef\u6069 en3\u4e09\u9632\u624b\u673a \u600e\u4e48\u6837\r\n\r\n1       neken/\u5c3c\u51ef\u6069    _       NR      _       _       2       nn      _       _\r\n2               _       CD      _       _       8       nsubj   _       _\r\n3       en3     _       NR      _       _       8       advmod  _       _\r\n4       \u4e09\u9632    _       JJ      _       _       8       ba      _       _\r\n5       \u624b\u673a    _       NN      _       _       7       assmod  _       _\r\n6               _       CD      _       _       5       assm    _       _\r\n7       \u600e\u4e48\u6837  _       AD      _       _       8       nsubj   _       _\r\n\r\n\r\n24:gigaset\u624b\u673a\u6b7b\u673a\u5f00\u4e0d\u4e86\u673a?\r\n\r\n1       gigaset _       NR      _       _       4       nn      _       _\r\n2       \u624b\u673a    _       NN      _       _       4       nn      _       _\r\n3       \u6b7b\u673a    _       NN      _       _       4       nn      _       _\r\n4       \u5f00      _       VV      _       _       5       top     _       _\r\n5       \u4e0d      _       AD      _       _       0       root    _       _\r\n6       \u4e86      _       VV      _       _       5       dobj    _       _\r\n7       \u673a      _       VV      _       _       9       cop     _       _\r\n8       ?       _       PU      _       _       9       advmod  _       _\r\n```\r\n\r\n**Describe the current behavior**\r\nWhen doing dependency parsing,  some head id > max possible head id. \r\n**Expected behavior**\r\nWhen doing dependency parsing,  all head id <= max possible head id. \r\n\r\n**System information**\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): CentOS Linux release 7.6.1810 (Core)  \r\n- Python version: 3.8.3 \r\n- HanLP version: 2.1.0-alpha.23\r\n\r\n**Other info / logs**\r\nInclude any logs or source code that would be helpful to diagnose the problem. If including tracebacks, please include the full traceback. Large logs and files should be attached.\r\n\r\n* [x] I've completed this form and searched the web for solutions.\r\n<!-- \u53d1\u8868\u524d\u5148\u641c\u7d22\uff0c\u6b64\u5904\u4e00\u5b9a\u8981\u52fe\u9009\uff01 -->\r\n<!-- \u53d1\u8868\u524d\u5148\u641c\u7d22\uff0c\u6b64\u5904\u4e00\u5b9a\u8981\u52fe\u9009\uff01 -->\r\n<!-- \u53d1\u8868\u524d\u5148\u641c\u7d22\uff0c\u6b64\u5904\u4e00\u5b9a\u8981\u52fe\u9009\uff01 -->", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1621/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/1621/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1618", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/1618/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/1618/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/1618/events", "html_url": "https://github.com/hankcs/HanLP/issues/1618", "id": 813731365, "node_id": "MDU6SXNzdWU4MTM3MzEzNjU=", "number": 1618, "title": "HanLP2.1\u5206\u8bcd\u62a5\u65b0\u7684\u9519\uff1aFailed to load https://file.hankcs.com/hanlp/mtl/close_tok_pos_ner_srl_dep_sdp_con_electra_small_20210111_124159.zip", "user": {"login": "hz7715", "id": 25348406, "node_id": "MDQ6VXNlcjI1MzQ4NDA2", "avatar_url": "https://avatars.githubusercontent.com/u/25348406?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hz7715", "html_url": "https://github.com/hz7715", "followers_url": "https://api.github.com/users/hz7715/followers", "following_url": "https://api.github.com/users/hz7715/following{/other_user}", "gists_url": "https://api.github.com/users/hz7715/gists{/gist_id}", "starred_url": "https://api.github.com/users/hz7715/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hz7715/subscriptions", "organizations_url": "https://api.github.com/users/hz7715/orgs", "repos_url": "https://api.github.com/users/hz7715/repos", "events_url": "https://api.github.com/users/hz7715/events{/privacy}", "received_events_url": "https://api.github.com/users/hz7715/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": true, "assignee": {"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 27, "created_at": "2021-02-22T18:02:22Z", "updated_at": "2021-02-23T15:19:25Z", "closed_at": "2021-02-23T15:19:10Z", "author_association": "NONE", "active_lock_reason": "off-topic", "body": "<!--\r\nThank you for reporting a possible bug in HanLP.\r\nPlease fill in the template below to bypass our spam filter.  \r\n\u4ee5\u4e0b\u5fc5\u586b\uff0c\u5426\u5219\u6055\u4e0d\u53d7\u7406\u3002\r\n-->\r\n\r\n**Describe the bug**\r\nA clear and concise description of what the bug is.\r\n\r\n\u60a8\u597d\uff0c\u611f\u8c22\u4f5c\u8005\u53ca\u65f6\u7684\u56de\u590d\u4e0a\u4e00\u4e2abug\uff01\r\n\r\n\u4f46\u6211\u521a\u521a\u91cd\u65b0pip install hanlp -U \u4e4b\u540e\uff0c\u5e76\u540c\u65f6\u5c1d\u8bd5\u672c\u5730git pull\uff0c\u518d\u8fd0\u884c\u540c\u6837\u7684\u4ee3\u7801\uff0c\u4f1a\u62a5\u5982\u4e0b\u65b0\u7684\u9519\u8bef\uff0c\u8bf4\u662f\u65e0\u6cd5load\u6a21\u578b\uff0c\u4f46\u6211\u4e4b\u524d\u5df2\u7ecf\u4e0b\u8f7d\u8fc7\u8fd9\u4e2a\u6a21\u578b\u5230\u6211\u672c\u5730\u4e86\uff1a\r\n\r\n(base) river@riverdeMacBook-Pro mtl % ll\r\ntotal 0\r\ndrwxr-xr-x 3 river staff 96 2 23 01:21 ./\r\ndrwxr-xr-x 4 river staff 128 2 22 21:36 ../\r\ndrwxr-xr-x 13 river staff 416 2 22 22:10 close_tok_pos_ner_srl_dep_sdp_con_electra_small_20210111_124159/\r\n\r\n\r\n**Code to reproduce the issue**\r\nProvide a reproducible test case that is the bare minimum necessary to generate the problem.\r\n\r\n\r\n\u5b8c\u6574\u4ee3\u7801\u5982\u4e0b\r\n\r\n\r\n```python\r\n\r\nimport hanlp\r\n\r\nHanLP = hanlp.load(hanlp.pretrained.mtl.CLOSE_TOK_POS_NER_SRL_DEP_SDP_CON_ELECTRA_SMALL_ZH) # \u4e16\u754c\u6700\u5927\u4e2d\u6587\u8bed\u6599\u5e93\r\ntok = HanLP[\u2018tok/coarse\u2019]\r\n\r\n# \u8bfb\u53d6\u81ea\u5b9a\u4e49\u8bcd\u8868\r\nbeauty_vocab = set()\r\nwith open(\u2019\u2026/data/userdict.txt\u2019, \u2018r\u2019, encoding=\u2018utf-8\u2019) as fin:\r\n    for line in fin:\r\n        beauty_vocab.add(line.strip())\r\ntok.dict_combine = beauty_vocab\r\n\r\ntext = \u2018\u6211\u6700\u5fc3\u6c34\u7684\u90a3\u4e9b \u7ea2\uff1a\u5bf9\u53e3\u7ea2\u8fd9\u79cd\u4e1c\u897f\u771f\u7684\u662f\u6beb\u65e0\u62b5\u6297\u529b\u554a \u6bcf\u6b21\u5165\u4e86\u65b0\u8272\u5c31\u5728\u84dd\u670b\u53cb\u624b\u81c2\u4e0a\u8bd5 \u4ed6\u603b\u4f1a\u8bf4 \u5973\u751f\u5230\u5e95\u9700\u8981\u6709\u591a\u5c11\u53e3\u7ea2\u554a \u8eab\u4e3a\u4e00\u4e2a\u76f4\u7537\u53ef\u80fd\u771f\u7684\u4e0d\u61c2 \u7ea2\u6709\u4e00\u767e\u79cd \u54c8\u54c8\u54c8\u54c8 \u8a00\u5f52\u6b63\u4f20 \u963f\u739b\u5c3c\u7ea2\u7ba1501 503 504 \u963f\u739b\u5c3c\u7ea2\u7ba1\u771f\u7684\u662f\u6211\u6700\u7231\u7684\u5507\u91c9\u4e86 \u5165\u7684\u7b2c\u4e00\u652f\u662f504 \u7b2c\u4e00\u6b21\u7528\u5c31\u88ab\u60ca\u8273\u5230\u4e86 \u7adf\u7136\u6709\u8fd9\u4e48\u4e1d\u6ed1\u7684\u5507\u91c9 \u5b8c\u5168\u662f\u5976\u6cb9\u6155\u65af\u8d28\u5730 \u8fd8\u5448\u73b0\u5f88\u9ad8\u7ea7\u7684\u54d1\u5149\u611f \u771f\u7684\u662f\u8d85\u7231 \u7231\u4e0d\u91ca\u624b \u540e\u6765\u53c8\u76f8\u7ee7\u6536\u4e86501\u548c503 \u4ee5\u540e\u4e00\u5b9a\u8fd8\u4f1a\u7ee7\u7eed\u6536 \u559c\u7231\u7a0b\u5ea6 ysl\u65b9\u7ba117 13 17\u662f\u6211\u6625\u590f\u7528\u7684\u6700\u591a\u6b21\u7684\u4e00\u652f \u51e0\u4e4e\u6bcf\u5929\u90fd\u5728\u7528 \u4e0d\u77e5\u9053\u4eca\u5929\u64e6\u4ec0\u4e48\u7684\u65f6\u5019\u5c31\u7528\u5b83 \u51c6\u6ca1\u9519 \u4e00\u4e2a\u590f\u5929\u8fc7\u53bb\u5c31\u4e0b\u53bb\u4e86\u4e00\u5927\u622a \u559c\u7231\u7a0b\u5ea6 13\u662f\u540e\u671f\u5165\u7684 \u76f8\u6bd417\u5229\u7528\u7387\u5c31\u6ca1\u6709\u90a3\u4e48\u9ad8 \u600e\u4e48\u8bf4\u5462 13\u8fd8\u662f\u6709\u4e9b\u6311\u76ae\u7684 \u7d20\u989c\u6d82\u80af\u5b9a\u662f\u571f\u7206\u4e86 \u559c\u7231\u7a0b\u5ea6 mac\u5b50\u5f39\u5934 see sheer\u4e5f\u662f\u6211\u7684\u5fc3\u5934\u7231 \u521a\u4e70\u7684\u65f6\u5019\u6bcf\u5929\u90fd\u653e\u5305\u91cc \u968f\u65f6\u8865 \u8d85\u7ea7\u6ecb\u6da6 \u989c\u8272\u7092\u9e21\u65e5\u5e38 \u4e0a\u73ed\u6d82\u5b8c\u5168\u4e0d\u4f1a\u663e\u5f97\u7a81\u5140 \u8d85\u7231 \u559c\u7231\u7a0b\u5ea6 chill\u5c0f\u8fa3\u6912 \u4e5f\u662f\u8d85\u7231\u7684\u4e00\u652f \u600e\u4e48\u6d82\u90fd\u597d\u770b \u6beb\u4e0d\u5938\u5f20 \u79cb\u51ac\u4e0d\u77e5\u9053\u6d82\u5565\u65f6 \u64e6\u5b83\u603b\u4e0d\u4f1a\u51fa\u9519 \u559c\u7231\u7a0b\u5ea6 \u96c5\u8bd7\u5170\u9edblove\u7cfb\u5217 300\u6a58\u7ea2\u8272 310\u6885\u5b50\u8272 \u90fd\u662f\u6211\u7231\u7684\u989c\u8272 \u5f88\u663e\u767d \u559c\u7231\u7a0b\u5ea6 \u963f\u739b\u5c3c\u5c0f\u80d6\u4e01504 \u5927\u540d\u9f0e\u9f0e\u7684\u5976\u6cb9\u6a58 \u5404\u79cd\u88ab\u5938 \u625b\u4e0d\u4f4f\u98ce\u79cd\u8349\u7684 \u4f46\u662f\uff01\u771f\u7684\u6ca1\u6709\u90a3\u4e48\u597d \u597d\u5417 \u65e0\u8bba\u540e\u6d82\u8584\u6d82\u611f\u89c9\u90fd\u4e0d\u662f\u5f88\u6ee1\u610f \u6211\u901a\u5e38\u662f\u53e0\u52a0\u54d1\u5149\u5176\u4ed6\u53e3\u7ea2\u4e0a\u9762\u7528 \u559c\u7231\u7a0b\u5ea6 tf16 \u98ce\u8001\u5927\u7684\u756a\u8304\u8272 \u5fcd\u4e0d\u4f4f\u5165\u7684 \u4f46\u662f\u4f7f\u7528\u7387\u5f88\u4f4e \u4e0d\u77e5\u9053\u4e3a\u5565 \u53ef\u80fd\u4e0d\u591f\u65e5\u5e38 \u4e5f\u53ef\u80fd\u662f\u4e0d\u820d\u5f97\u7528 \u5077\u7b11R \u559c\u7231\u7a0b\u5ea6 \u9999\u5948\u513f58 \u4e5f\u662f\u8ddf\u98ce\u5165\u7684 \u636e\u8bf4\u5404\u79cd\u9002\u5408\u79cb\u51ac \u9002\u5408\u9ec4\u76ae \u6beb\u4e0d\u72b9\u8c6b\u62ff\u4e0b but\u6709\u70b9\u65af\u671b \u5e76\u4e0d\u662f\u5f88\u597d\u9a7e\u9a6d\u554a \u800c\u4e14\u611f\u89c9\u4e0d\u663e\u767d\uff01 \u559c\u7231\u7a0b\u5ea6 ysl\u9ed1\u7ba1402 \u8fd9\u53ea\u662f\u76f2\u9009\u7684 \u9002\u5408\u6625\u590f \u611f\u89c9\u4e00\u822c \u4e2d\u89c4\u4e2d\u77e9 \u559c\u7231\u7a0b\u5ea6 ysl\u955c\u9762\u5507\u91c909 \u6c34\u7ea2\u8272 \u989c\u8272\u4e0d\u9519 \u4f46\u662f\u4f46\u662f \u8fd9\u4e2a\u5507\u91c9\u7684\u8d28\u5730\u6211\u771f\u7684\u662f\u7231\u4e0d\u8d77\u6765 \u4e0d\u80fd\u62bf\u5634 \u7c98\u7c98\u7684 \u5f88\u4e0d\u597d\u4e0a\u5747\u5300 \u559c\u7231\u7a0b\u5ea6 3ce \u5357\u74dc\u8272116 \u5e72\uff01\u5de8\u5e72\uff01\u7092\u9e21\u5e72\uff01\u6839\u672c\u4e0d\u80fd\u7528 \u4e70\u4e4b\u524d\u88ab\u989c\u8272\u5438\u5f15 \u5f88\u591a\u4eba\u90fd\u8bf4\u5b83\u5f88\u5e72 \u6211\u5fc3\u60f3 \u518d\u5e72\u80fd\u5e72\u6210\u5565\u6837 \u524d\u4e00\u5929\u665a\u4e0a\u505a\u5507\u819c \u65e9\u6668\u5148\u7528\u5507\u90e8\u6253\u5e95\u518d\u6d82 \u4e0a\u73ed\u4e0d\u5230\u4e24\u5c0f\u65f6 \u5634\u5c31\u5e72\u5230\u8d77\u76ae \u5357\u74dc\u8272\u53e3\u7ea2\u5f88\u591a \u5343\u4e07\u522b\u4e70\u8fd9\u4e00\u652f \u559c\u7231\u7a0b\u5ea6 \u6700\u540e\u8bf4\u4e00\u53e5 \u672c\u4eba\u9ec4\u76ae \u5507\u8272\u6d45 \u5e72\u8d77\u76ae\u5507\u7eb9\u91cd \u501f\u84dd\u7968\u7684\u80f3\u818a\u8bd5\u8272 \u4ec5\u4f9b\u53c2\u8003 \u7b2c\u4e00\u6b21\u5199\u8fd9\u4e48\u957f\u7684\u7b14\u8bb0 \u624b\u6307\u65ad\u4e86 \u597d\u4e86\u5c31\u9171 \u53f9\u6c14R\u2019\r\n\r\ncut_res = HanLP(text, tasks=\u2018tok/coarse\u2019)\r\nprint(cut_res)\r\n```\r\n\r\n**Describe the current behavior**\r\nA clear and concise description of what happened.\r\n\r\n\u6211\u521a\u521a\u91cd\u65b0pip install hanlp -U \u4e4b\u540e\uff0c\u5e76\u540c\u65f6\u5c1d\u8bd5\u672c\u5730git pull\uff0c\u518d\u8fd0\u884c\u540c\u6837\u7684\u4ee3\u7801\uff0c\u4f1a\u62a5\u5982\u4e0b\u65b0\u7684\u9519\u8bef\uff0c\u8bf4\u662f\u65e0\u6cd5load\u6a21\u578b\uff0c\u4f46\u6211\u4e4b\u524d\u5df2\u7ecf\u4e0b\u8f7d\u8fc7\u8fd9\u4e2a\u6a21\u578b\u5230\u6211\u672c\u5730\u4e86\uff1a\r\n\r\n(base) river@riverdeMacBook-Pro mtl % ll\r\ntotal 0\r\ndrwxr-xr-x 3 river staff 96 2 23 01:21 ./\r\ndrwxr-xr-x 4 river staff 128 2 22 21:36 ../\r\ndrwxr-xr-x 13 river staff 416 2 22 22:10 close_tok_pos_ner_srl_dep_sdp_con_electra_small_20210111_124159/\r\n\r\n\r\n\r\n**Expected behavior**\r\nA clear and concise description of what you expected to happen.\r\n\r\n\r\n1. \u8fd8\u8bf7\u6559\u539f\u4f5c\u8005\uff0c\u5982\u4f55\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u3002\u3002\u4e07\u5206\u611f\u8c22\uff01\r\n2. \u53e6\u5916\u8fd8\u6709\u4e2a\u95ee\u9898\uff1a\u662f\u5426\u4fee\u590d\u4e4b\u540e\u3001[\u81ea\u5b9a\u4e49\u8bcd\u8868]\u53ef\u4ee5\u7528\u4e8eopen\u6a21\u578b\u4ee5\u53caclose\u6a21\u578b\uff1f\u8fd9\u4e24\u79cd\u6a21\u578b\u7684\u4e3b\u8981\u533a\u522b\u662f\u4ec0\u4e48\uff1f \u56e0\u4e3a\u4e4b\u524d\u8bd5\u6587\u672c\u5206\u8bcd\u7684\u65f6\u5019\u6709\u4e9b\u6837\u672c\u78b0\u5230tok/fine\u4f1a\u62a5\u9519\uff0c\u6709\u4e9b\u78b0\u5230tok/coarse\u4f1a\u62a5\u9519\u3002\u3002\u3002open\u6a21\u578b\u53ea\u6709'tok'\u8fd9\u4e2akey\uff0c\u800cclose\u6a21\u578b\u6709'tok/fine'\u548c'tok/coarse'\u4e24\u79cd\uff0c\u662f\u5426\u81ea\u5b9a\u4e49\u8bcd\u8868\u4e5f\u90fd\u53ef\u4ee5\u7528\u4e8e\u8fd92\u79cd\u6a21\u5f0f\uff1f\u6211\u7684\u4e1a\u52a1\u573a\u666f\u9700\u8981\u7c92\u5ea6\u6bd4\u8f83\u7ec6\u7684\u3001\u8bed\u4e49\u4fe1\u606f\u66f4\u4e30\u5bcc\u7684(\u5206\u5272\u6210\u66f4\u957f\u7684)\u77ed\u8bed\uff0c\u662f\u4e0d\u662fclose\u6a21\u578b\u7684'tok/coarse'\u7684\u6548\u679c\u4f1a\u6700\u597d\uff1f\r\n\r\n**System information**\r\n\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04):\r\nmac OS 10.15.7\r\n\r\n- Python version:\r\npython 3.9.2\r\n\r\n- HanLP version:\r\nhanlp==2.1.0a20\r\nhanlp-common==0.0.6\r\nhanlp-trie==0.0.2\r\ntorch==1.7.1\r\n\r\n\r\n\r\n**Other info / logs**\r\nInclude any logs or source code that would be helpful to diagnose the problem. If including tracebacks, please include the full traceback. Large logs and files should be attached.\r\n\r\n\u5b8c\u6574\u62a5\u9519\u4fe1\u606f\u5982\u4e0b\uff1a\r\n\r\nFailed to load https://file.hankcs.com/hanlp/mtl/close_tok_pos_ner_srl_dep_sdp_con_electra_small_20210111_124159.zip. See traceback below:\r\n================================ERROR LOG BEGINS================================\r\nTraceback (most recent call last):\r\nFile \"/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/site-packages/hanlp/utils/component_util.py\", line 81, in load_from_meta_file\r\nobj.load(save_dir, verbose=verbose, **kwargs)\r\nFile \"/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/site-packages/hanlp/common/torch_component.py\", line 183, in load\r\nself.to(devices)\r\nFile \"/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/site-packages/hanlp/common/torch_component.py\", line 519, in to\r\ndevices = cuda_devices(devices)\r\nFile \"/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/site-packages/hanlp/utils/torch_util.py\", line 73, in cuda_devices\r\nquery = gpus_available()\r\nFile \"/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/site-packages/hanlp/utils/torch_util.py\", line 46, in gpus_available\r\nnvmlShutdown()\r\nFile \"/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/site-packages/pynvml/nvml.py\", line 772, in nvmlShutdown\r\nfn = get_func_pointer(\"nvmlShutdown\")\r\nFile \"/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/site-packages/pynvml/nvml.py\", line 387, in get_func_pointer\r\nraise NVMLError(NVML_ERROR_UNINITIALIZED)\r\npynvml.nvml.NVMLError_Uninitialized: Uninitialized\r\n=================================ERROR LOG ENDS=================================\r\nPlease upgrade hanlp with:\r\npip install --upgrade hanlp\r\n\r\nIf the problem still persists, please submit an issue to https://github.com/hankcs/HanLP/issues\r\nWhen reporting an issue, make sure to paste the FULL ERROR LOG above.\r\n\r\n* [x] I've completed this form and searched the web for solutions.\r\n", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1618/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/1618/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1616", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/1616/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/1616/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/1616/events", "html_url": "https://github.com/hankcs/HanLP/issues/1616", "id": 813629484, "node_id": "MDU6SXNzdWU4MTM2Mjk0ODQ=", "number": 1616, "title": "HanLP2.1\u5206\u8bcd\u65f6\u5927\u91cf\u6587\u672c\u4f1a\u62a5\u9519\uff1aRuntimeError: expected scalar type Float but found Long", "user": {"login": "hz7715", "id": 25348406, "node_id": "MDQ6VXNlcjI1MzQ4NDA2", "avatar_url": "https://avatars.githubusercontent.com/u/25348406?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hz7715", "html_url": "https://github.com/hz7715", "followers_url": "https://api.github.com/users/hz7715/followers", "following_url": "https://api.github.com/users/hz7715/following{/other_user}", "gists_url": "https://api.github.com/users/hz7715/gists{/gist_id}", "starred_url": "https://api.github.com/users/hz7715/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hz7715/subscriptions", "organizations_url": "https://api.github.com/users/hz7715/orgs", "repos_url": "https://api.github.com/users/hz7715/repos", "events_url": "https://api.github.com/users/hz7715/events{/privacy}", "received_events_url": "https://api.github.com/users/hz7715/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2021-02-22T15:56:50Z", "updated_at": "2021-02-22T17:59:18Z", "closed_at": "2021-02-22T17:23:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\nThank you for reporting a possible bug in HanLP.\r\nPlease fill in the template below to bypass our spam filter.  \r\n\u4ee5\u4e0b\u5fc5\u586b\uff0c\u5426\u5219\u6055\u4e0d\u53d7\u7406\u3002\r\n-->\r\n\r\n**Describe the bug**\r\n\u6211\u5728\u7528HanLP2.1\u5206\u8bcd\u65f6\u4f1a\u9047\u5230\u5927\u91cf\u6587\u672c\u62a5\u9519\uff1aRuntimeError: expected scalar type Float but found Long\r\n\u5f88\u591a\u957f\u6587\u672c\u5206\u8bcd\u65f6\u4f1a\u62a5\u8fd9\u4e2a\u9519\u3002\u3002\r\n\u8c37\u6b4c\u641c\u4e86\u534a\u5929\uff0c\u90fd\u8bf4\u662fpytorch\u91cc\u7684\u4ee3\u7801\u95ee\u9898\uff0c\u4e0d\u786e\u5b9a\u662f\u4e0d\u662f\u6e90\u7801\u7684\u95ee\u9898\uff0c\u8fd8\u662f\u6211\u8fd9\u8fb9\u7684\u539f\u56e0\u5bfc\u81f4\u3002\u3002\r\n\r\n**Code to reproduce the issue**\r\n\u5b8c\u6574\u4ee3\u7801\u5982\u4e0b\r\n\r\n```python\r\nimport hanlp\r\n\r\nHanLP = hanlp.load(hanlp.pretrained.mtl.CLOSE_TOK_POS_NER_SRL_DEP_SDP_CON_ELECTRA_SMALL_ZH) # \u4e16\u754c\u6700\u5927\u4e2d\u6587\u8bed\u6599\u5e93\r\ntok = HanLP[\u2018tok/coarse\u2019]\r\n\r\n# \u8bfb\u53d6\u81ea\u5b9a\u4e49\u8bcd\u8868\r\nbeauty_vocab = set()\r\nwith open(\u2019\u2026/data/userdict.txt\u2019, \u2018r\u2019, encoding=\u2018utf-8\u2019) as fin:\r\n    for line in fin:\r\n        beauty_vocab.add(line.strip())\r\ntok.dict_combine = beauty_vocab\r\n\r\ntext = \u2018\u6211\u6700\u5fc3\u6c34\u7684\u90a3\u4e9b \u7ea2\uff1a\u5bf9\u53e3\u7ea2\u8fd9\u79cd\u4e1c\u897f\u771f\u7684\u662f\u6beb\u65e0\u62b5\u6297\u529b\u554a \u6bcf\u6b21\u5165\u4e86\u65b0\u8272\u5c31\u5728\u84dd\u670b\u53cb\u624b\u81c2\u4e0a\u8bd5 \u4ed6\u603b\u4f1a\u8bf4 \u5973\u751f\u5230\u5e95\u9700\u8981\u6709\u591a\u5c11\u53e3\u7ea2\u554a \u8eab\u4e3a\u4e00\u4e2a\u76f4\u7537\u53ef\u80fd\u771f\u7684\u4e0d\u61c2 \u7ea2\u6709\u4e00\u767e\u79cd \u54c8\u54c8\u54c8\u54c8 \u8a00\u5f52\u6b63\u4f20 \u963f\u739b\u5c3c\u7ea2\u7ba1501 503 504 \u963f\u739b\u5c3c\u7ea2\u7ba1\u771f\u7684\u662f\u6211\u6700\u7231\u7684\u5507\u91c9\u4e86 \u5165\u7684\u7b2c\u4e00\u652f\u662f504 \u7b2c\u4e00\u6b21\u7528\u5c31\u88ab\u60ca\u8273\u5230\u4e86 \u7adf\u7136\u6709\u8fd9\u4e48\u4e1d\u6ed1\u7684\u5507\u91c9 \u5b8c\u5168\u662f\u5976\u6cb9\u6155\u65af\u8d28\u5730 \u8fd8\u5448\u73b0\u5f88\u9ad8\u7ea7\u7684\u54d1\u5149\u611f \u771f\u7684\u662f\u8d85\u7231 \u7231\u4e0d\u91ca\u624b \u540e\u6765\u53c8\u76f8\u7ee7\u6536\u4e86501\u548c503 \u4ee5\u540e\u4e00\u5b9a\u8fd8\u4f1a\u7ee7\u7eed\u6536 \u559c\u7231\u7a0b\u5ea6 ysl\u65b9\u7ba117 13 17\u662f\u6211\u6625\u590f\u7528\u7684\u6700\u591a\u6b21\u7684\u4e00\u652f \u51e0\u4e4e\u6bcf\u5929\u90fd\u5728\u7528 \u4e0d\u77e5\u9053\u4eca\u5929\u64e6\u4ec0\u4e48\u7684\u65f6\u5019\u5c31\u7528\u5b83 \u51c6\u6ca1\u9519 \u4e00\u4e2a\u590f\u5929\u8fc7\u53bb\u5c31\u4e0b\u53bb\u4e86\u4e00\u5927\u622a \u559c\u7231\u7a0b\u5ea6 13\u662f\u540e\u671f\u5165\u7684 \u76f8\u6bd417\u5229\u7528\u7387\u5c31\u6ca1\u6709\u90a3\u4e48\u9ad8 \u600e\u4e48\u8bf4\u5462 13\u8fd8\u662f\u6709\u4e9b\u6311\u76ae\u7684 \u7d20\u989c\u6d82\u80af\u5b9a\u662f\u571f\u7206\u4e86 \u559c\u7231\u7a0b\u5ea6 mac\u5b50\u5f39\u5934 see sheer\u4e5f\u662f\u6211\u7684\u5fc3\u5934\u7231 \u521a\u4e70\u7684\u65f6\u5019\u6bcf\u5929\u90fd\u653e\u5305\u91cc \u968f\u65f6\u8865 \u8d85\u7ea7\u6ecb\u6da6 \u989c\u8272\u7092\u9e21\u65e5\u5e38 \u4e0a\u73ed\u6d82\u5b8c\u5168\u4e0d\u4f1a\u663e\u5f97\u7a81\u5140 \u8d85\u7231 \u559c\u7231\u7a0b\u5ea6 chill\u5c0f\u8fa3\u6912 \u4e5f\u662f\u8d85\u7231\u7684\u4e00\u652f \u600e\u4e48\u6d82\u90fd\u597d\u770b \u6beb\u4e0d\u5938\u5f20 \u79cb\u51ac\u4e0d\u77e5\u9053\u6d82\u5565\u65f6 \u64e6\u5b83\u603b\u4e0d\u4f1a\u51fa\u9519 \u559c\u7231\u7a0b\u5ea6 \u96c5\u8bd7\u5170\u9edblove\u7cfb\u5217 300\u6a58\u7ea2\u8272 310\u6885\u5b50\u8272 \u90fd\u662f\u6211\u7231\u7684\u989c\u8272 \u5f88\u663e\u767d \u559c\u7231\u7a0b\u5ea6 \u963f\u739b\u5c3c\u5c0f\u80d6\u4e01504 \u5927\u540d\u9f0e\u9f0e\u7684\u5976\u6cb9\u6a58 \u5404\u79cd\u88ab\u5938 \u625b\u4e0d\u4f4f\u98ce\u79cd\u8349\u7684 \u4f46\u662f\uff01\u771f\u7684\u6ca1\u6709\u90a3\u4e48\u597d \u597d\u5417 \u65e0\u8bba\u540e\u6d82\u8584\u6d82\u611f\u89c9\u90fd\u4e0d\u662f\u5f88\u6ee1\u610f \u6211\u901a\u5e38\u662f\u53e0\u52a0\u54d1\u5149\u5176\u4ed6\u53e3\u7ea2\u4e0a\u9762\u7528 \u559c\u7231\u7a0b\u5ea6 tf16 \u98ce\u8001\u5927\u7684\u756a\u8304\u8272 \u5fcd\u4e0d\u4f4f\u5165\u7684 \u4f46\u662f\u4f7f\u7528\u7387\u5f88\u4f4e \u4e0d\u77e5\u9053\u4e3a\u5565 \u53ef\u80fd\u4e0d\u591f\u65e5\u5e38 \u4e5f\u53ef\u80fd\u662f\u4e0d\u820d\u5f97\u7528 \u5077\u7b11R \u559c\u7231\u7a0b\u5ea6 \u9999\u5948\u513f58 \u4e5f\u662f\u8ddf\u98ce\u5165\u7684 \u636e\u8bf4\u5404\u79cd\u9002\u5408\u79cb\u51ac \u9002\u5408\u9ec4\u76ae \u6beb\u4e0d\u72b9\u8c6b\u62ff\u4e0b but\u6709\u70b9\u65af\u671b \u5e76\u4e0d\u662f\u5f88\u597d\u9a7e\u9a6d\u554a \u800c\u4e14\u611f\u89c9\u4e0d\u663e\u767d\uff01 \u559c\u7231\u7a0b\u5ea6 ysl\u9ed1\u7ba1402 \u8fd9\u53ea\u662f\u76f2\u9009\u7684 \u9002\u5408\u6625\u590f \u611f\u89c9\u4e00\u822c \u4e2d\u89c4\u4e2d\u77e9 \u559c\u7231\u7a0b\u5ea6 ysl\u955c\u9762\u5507\u91c909 \u6c34\u7ea2\u8272 \u989c\u8272\u4e0d\u9519 \u4f46\u662f\u4f46\u662f \u8fd9\u4e2a\u5507\u91c9\u7684\u8d28\u5730\u6211\u771f\u7684\u662f\u7231\u4e0d\u8d77\u6765 \u4e0d\u80fd\u62bf\u5634 \u7c98\u7c98\u7684 \u5f88\u4e0d\u597d\u4e0a\u5747\u5300 \u559c\u7231\u7a0b\u5ea6 3ce \u5357\u74dc\u8272116 \u5e72\uff01\u5de8\u5e72\uff01\u7092\u9e21\u5e72\uff01\u6839\u672c\u4e0d\u80fd\u7528 \u4e70\u4e4b\u524d\u88ab\u989c\u8272\u5438\u5f15 \u5f88\u591a\u4eba\u90fd\u8bf4\u5b83\u5f88\u5e72 \u6211\u5fc3\u60f3 \u518d\u5e72\u80fd\u5e72\u6210\u5565\u6837 \u524d\u4e00\u5929\u665a\u4e0a\u505a\u5507\u819c \u65e9\u6668\u5148\u7528\u5507\u90e8\u6253\u5e95\u518d\u6d82 \u4e0a\u73ed\u4e0d\u5230\u4e24\u5c0f\u65f6 \u5634\u5c31\u5e72\u5230\u8d77\u76ae \u5357\u74dc\u8272\u53e3\u7ea2\u5f88\u591a \u5343\u4e07\u522b\u4e70\u8fd9\u4e00\u652f \u559c\u7231\u7a0b\u5ea6 \u6700\u540e\u8bf4\u4e00\u53e5 \u672c\u4eba\u9ec4\u76ae \u5507\u8272\u6d45 \u5e72\u8d77\u76ae\u5507\u7eb9\u91cd \u501f\u84dd\u7968\u7684\u80f3\u818a\u8bd5\u8272 \u4ec5\u4f9b\u53c2\u8003 \u7b2c\u4e00\u6b21\u5199\u8fd9\u4e48\u957f\u7684\u7b14\u8bb0 \u624b\u6307\u65ad\u4e86 \u597d\u4e86\u5c31\u9171 \u53f9\u6c14R\u2019\r\n\r\ncut_res = HanLP([text])[\u2018tok/coarse\u2019][0]\r\nprint(cut_res)\r\n```\r\n\r\n**Describe the current behavior**\r\n\u4ee3\u7801\u5982\u4e0a\uff0c\u78b0\u5230\u975e\u5e38\u591a\u5982\u4e0a\u7684text\u6587\u672c\uff0c\u5206\u8bcd\u5c31\u4f1a\u62a5\u9519\r\n\r\n**Expected behavior**\r\n\u8fd8\u8bf7\u6559\u539f\u4f5c\u8005\uff0c\u5982\u4f55\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u3002\u3002\u4e07\u5206\u611f\u8c22\uff01\r\n\r\n**System information**\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04):\r\nmac OS 10.15.7\r\n\r\n- Python version:\r\npython 3.9.2\r\n\r\n- HanLP version:\r\nhanlp==2.1.0a20\r\nhanlp-common==0.0.6\r\nhanlp-trie==0.0.2\r\ntorch==1.7.1\r\n\r\n**Other info / logs**\r\n\u5b8c\u6574\u7684\u62a5\u9519\u4fe1\u606f\u5982\u4e0b\uff1a\r\n\r\nTraceback (most recent call last):\r\nFile \u201c/Users/river/Desktop/1-tag-recall/note-tag/optimization/src/preprocess.py\u201d, line 27, in\r\ncut_res = HanLP([text])\r\nFile \u201c/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/site-packages/hanlp/components/mtl/multi_task_learning.py\u201d, line 768, in call\r\nreturn super().call(data, batch_size, **kwargs)\r\nFile \u201c/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/site-packages/torch/autograd/grad_mode.py\u201d, line 26, in decorate_context\r\nreturn func(*args, **kwargs)\r\nFile \u201c/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/site-packages/hanlp/common/torch_component.py\u201d, line 629, in call\r\nreturn super().call(data, **merge_dict(self.config, overwrite=True,\r\nFile \u201c/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/site-packages/hanlp/common/component.py\u201d, line 36, in call\r\nreturn self.predict(data, **kwargs)\r\nFile \u201c/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/site-packages/hanlp/components/mtl/multi_task_learning.py\u201d, line 512, in predict\r\noutput_dict = self.predict_task(self.tasks[task_name], task_name, batch, results, output_dict,\r\nFile \u201c/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/site-packages/hanlp/components/mtl/multi_task_learning.py\u201d, line 590, in predict_task\r\noutput_dict, batch = self.feed_batch(batch, output_key, output_dict, run_transform, cls_is_bos, sep_is_eos,\r\nFile \u201c/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/site-packages/hanlp/components/mtl/multi_task_learning.py\u201d, line 682, in feed_batch\r\n\u2018output\u2019: task.feed_batch(h,\r\nFile \u201c/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/site-packages/hanlp/components/mtl/tasks/init.py\u201d, line 182, in feed_batch\r\nreturn decoder(h, batch=batch, mask=mask)\r\nFile \u201c/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/site-packages/torch/nn/modules/module.py\u201d, line 727, in _call_impl\r\nresult = self.forward(*input, **kwargs)\r\nFile \u201c/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/site-packages/hanlp/components/mtl/tasks/ner/tag_ner.py\u201d, line 35, in forward\r\ncontextualized_embeddings = self.secondary_encoder(contextualized_embeddings, mask=mask)\r\nFile \u201c/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/site-packages/torch/nn/modules/module.py\u201d, line 727, in _call_impl\r\nresult = self.forward(*input, **kwargs)\r\nFile \u201c/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/site-packages/hanlp/layers/transformers/relative_transformer.py\u201d, line 310, in forward\r\nx = layer(x, mask)\r\nFile \u201c/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/site-packages/torch/nn/modules/module.py\u201d, line 727, in _call_impl\r\nresult = self.forward(*input, **kwargs)\r\nFile \u201c/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/site-packages/hanlp/layers/transformers/relative_transformer.py\u201d, line 264, in forward\r\nx = self.self_attn(x, mask)\r\nFile \u201c/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/site-packages/torch/nn/modules/module.py\u201d, line 727, in call_impl\r\nresult = self.forward(*input, **kwargs)\r\nFile \u201c/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/site-packages/hanlp/layers/transformers/relative_transformer.py\u201d, line 150, in forward\r\nD = torch.einsum(\u2018nd,ld->nl\u2019, self.r_w_bias, pos_embed)[None, :, None] # head x 2max_len, \u6bcf\u4e2ahead\u5bf9\u4f4d\u7f6e\u7684bias\r\nFile \u201c/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/site-packages/torch/functional.py\u201d, line 344, in einsum\r\nreturn _VF.einsum(equation, operands) # type: ignore\r\nRuntimeError: expected scalar type Float but found Long\r\n\r\n* [x] I've completed this form and searched the web for solutions.\r\n", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1616/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/1616/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1615", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/1615/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/1615/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/1615/events", "html_url": "https://github.com/hankcs/HanLP/issues/1615", "id": 813287995, "node_id": "MDU6SXNzdWU4MTMyODc5OTU=", "number": 1615, "title": "CharTabel \u5f52\u4e00\u5316\u90e8\u5206\u5b57\u7b26\u5b58\u5728\u9519\u8bef", "user": {"login": "tiandiweizun", "id": 13550295, "node_id": "MDQ6VXNlcjEzNTUwMjk1", "avatar_url": "https://avatars.githubusercontent.com/u/13550295?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tiandiweizun", "html_url": "https://github.com/tiandiweizun", "followers_url": "https://api.github.com/users/tiandiweizun/followers", "following_url": "https://api.github.com/users/tiandiweizun/following{/other_user}", "gists_url": "https://api.github.com/users/tiandiweizun/gists{/gist_id}", "starred_url": "https://api.github.com/users/tiandiweizun/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tiandiweizun/subscriptions", "organizations_url": "https://api.github.com/users/tiandiweizun/orgs", "repos_url": "https://api.github.com/users/tiandiweizun/repos", "events_url": "https://api.github.com/users/tiandiweizun/events{/privacy}", "received_events_url": "https://api.github.com/users/tiandiweizun/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2021-02-22T08:53:46Z", "updated_at": "2021-02-22T17:52:24Z", "closed_at": "2021-02-22T17:52:24Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "<!--\r\n\u63d0\u95ee\u8bf7\u4e0a\u8bba\u575b\uff0c\u4e0d\u8981\u53d1\u8fd9\u91cc\uff01\r\n\u63d0\u95ee\u8bf7\u4e0a\u8bba\u575b\uff0c\u4e0d\u8981\u53d1\u8fd9\u91cc\uff01\r\n\u63d0\u95ee\u8bf7\u4e0a\u8bba\u575b\uff0c\u4e0d\u8981\u53d1\u8fd9\u91cc\uff01\r\n\r\n\u4ee5\u4e0b\u5fc5\u586b\uff0c\u5426\u5219\u6055\u4e0d\u53d7\u7406\u3002\r\n-->\r\n\r\n**Describe the bug**\r\nA clear and concise description of what the bug is.\r\n1. \u6709\u4e2aissue\u5173\u4e8e\u8c03\u7528CharTabel\uff0c\u628a\u201c\u5e7a\u201d\u6539\u4e3a\u201c\u4e48\u201d\u4e0d\u5408\u7406portable\u4fee\u590d\u4e86\uff0c\u4f46\u662f\u4e0b\u8f7d1.7.5 zip\u5305\u6709\u95ee\u9898\uff0c\u540e\u53d1\u73b0CharTable.txt.bin md5\u4e0d\u4e00\u81f4\r\n2. \u4ee5\u4e0b\u5b57\u7b26\u6709\u95ee\u9898\uff1a\u5176\u4e2d\u7b2c\u4e00\u5217\u662f\u539f\u59cb\u5b57\u7b26\uff0c\u7b2c\u4e8c\u5217\u662f\u5f52\u4e00\u5316\u540e\u5b57\u7b26\uff0c\u62ec\u53f7\u8868\u793a \u5efa\u8bae\u53ef\u4ee5\u8003\u8651\u62ec\u53f7\u5185\u5b57\u7b26\u66ff\u6362\u539f\u6709\u5f52\u4e00\u5316\u5185\u5bb9\r\n\u731b \u52d0\r\n\u873a \u9713\r\n\u810a \u5d74\r\n\u9abc \u80f3\r\n\u62fe \u5341\r\n\u5288 \u567c\r\n\u6e9c \u7198\r\n\u5471 \u54cc\r\n\u6035 \u61b7\r\n\u7cf8 \u7e9f\uff08\u4e1d\uff09\r\n\u4e7e \u5e72\r\n\u8278 \u8279\uff08\u8349\uff09\r\n**Code to reproduce the issue**\r\nProvide a reproducible test case that is the bare minimum necessary to generate the problem.\r\n\r\n```java\r\npublic void testCharTable() {\r\n        Map<String, String> normalizationBadCase = new HashMap<>();\r\n        normalizationBadCase.put(\"\u731b\", \"\u731b\");\r\n        normalizationBadCase.put(\"\u873a\", \"\u873a\");\r\n        normalizationBadCase.put(\"\u810a\", \"\u810a\");\r\n        normalizationBadCase.put(\"\u9abc\", \"\u9abc\");\r\n        normalizationBadCase.put(\"\u62fe\", \"\u62fe\");\r\n        normalizationBadCase.put(\"\u5288\", \"\u5288\");\r\n        normalizationBadCase.put(\"\u6e9c\", \"\u6e9c\");\r\n        normalizationBadCase.put(\"\u5471\", \"\u5471\");\r\n        normalizationBadCase.put(\"\u6035\", \"\u6035\");\r\n        normalizationBadCase.put(\"\u7cf8\", \"\u4e1d\");\r\n        normalizationBadCase.put(\"\u4e7e\", \"\u4e7e\");\r\n        normalizationBadCase.put(\"\u8278\", \"\u8349\");\r\n        for (Map.Entry<String, String> entry : normalizationBadCase.entrySet()) {\r\n            assert CharTable.convert(entry.getKey()).equals(entry.getValue());\r\n        }\r\n    }\r\n```\r\n\r\n**System information**\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): win10\r\n- Python version:\r\n- HanLP version: 1.8.0\r\n\r\n* [x] I've completed this form and searched the web for solutions.\r\n<!-- \u53d1\u8868\u524d\u5148\u641c\u7d22\uff0c\u6b64\u5904\u4e00\u5b9a\u8981\u52fe\u9009\uff01 -->\r\n<!-- \u53d1\u8868\u524d\u5148\u641c\u7d22\uff0c\u6b64\u5904\u4e00\u5b9a\u8981\u52fe\u9009\uff01 -->\r\n<!-- \u53d1\u8868\u524d\u5148\u641c\u7d22\uff0c\u6b64\u5904\u4e00\u5b9a\u8981\u52fe\u9009\uff01 -->", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1615/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/1615/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1603", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/1603/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/1603/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/1603/events", "html_url": "https://github.com/hankcs/HanLP/issues/1603", "id": 787522170, "node_id": "MDU6SXNzdWU3ODc1MjIxNzA=", "number": 1603, "title": "CoreStopWordDictionary.dictionary.clear()\u7a7a\u6307\u9488", "user": {"login": "zerofancy", "id": 40628516, "node_id": "MDQ6VXNlcjQwNjI4NTE2", "avatar_url": "https://avatars.githubusercontent.com/u/40628516?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zerofancy", "html_url": "https://github.com/zerofancy", "followers_url": "https://api.github.com/users/zerofancy/followers", "following_url": "https://api.github.com/users/zerofancy/following{/other_user}", "gists_url": "https://api.github.com/users/zerofancy/gists{/gist_id}", "starred_url": "https://api.github.com/users/zerofancy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zerofancy/subscriptions", "organizations_url": "https://api.github.com/users/zerofancy/orgs", "repos_url": "https://api.github.com/users/zerofancy/repos", "events_url": "https://api.github.com/users/zerofancy/events{/privacy}", "received_events_url": "https://api.github.com/users/zerofancy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2021-01-16T18:10:18Z", "updated_at": "2021-01-16T18:20:18Z", "closed_at": "2021-01-16T18:20:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\nThank you for reporting a possible bug in HanLP.\r\nPlease fill in the template below to bypass our spam filter.  \r\n\u4ee5\u4e0b\u5fc5\u586b\uff0c\u5426\u5219\u6055\u4e0d\u53d7\u7406\u3002\r\n-->\r\n\r\n**Describe the bug**\r\nA clear and concise description of what the bug is.\r\n\r\n\u8c03\u7528`CoreStopWordDictionary.reload()`\u540e\u8c03\u7528`CoreStopWordDictionary.dictionary.clear()`\u4f1a\u7a7a\u6307\u9488\u3002\r\n\r\n**Code to reproduce the issue**\r\nProvide a reproducible test case that is the bare minimum necessary to generate the problem.\r\n\r\n```java\r\nCoreStopWordDictionary.reload()\r\nCoreStopWordDictionary.dictionary.clear()\r\n```\r\n\r\n**Describe the current behavior**\r\nA clear and concise description of what happened.\r\n\r\n\u6267\u884c`CoreStopWordDictionary.dictionary.clear()`\u65f6`equivalenceClassMDAGNodeHashMap`\u7a7a\u6307\u9488\u5f02\u5e38\u3002\r\n\r\n**Expected behavior**\r\nA clear and concise description of what you expected to happen.\r\n\r\n\u6b63\u786e\u6e05\u7a7a\u505c\u7528\u8bcd\u3002\r\n\r\n**System information**\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04):macOS Big Sur 11.0.1 20B29 x86_64.\r\n- Python version:\u975epython\u7248\u672c\r\n- HanLP version:1.7.8\r\n\r\n**Other info / logs**\r\nInclude any logs or source code that would be helpful to diagnose the problem. If including tracebacks, please include the full traceback. Large logs and files should be attached.\r\n\r\n\u5206\u6790\u539f\u56e0\u4e3a`StopWordDictionary.reload()`\u65f6\u6267\u884c\u4e86`MDAG.simplify()`\uff0c\u5176\u4e2d\u6709`equivalenceClassMDAGNodeHashMap = null;`\r\n\r\n`MDAGSet.clear()`\u65b9\u6cd5\u4e2d`equivalenceClassMDAGNodeHashMap.clear();`\u6ca1\u6709\u5224\u7a7a\u3002\r\n\r\n\u76f8\u5173\uff1a[https://github.com/hankcs/HanLP/commit/a57645c739b403b5fe8ae7cba0fb44d0dd992317](https://github.com/hankcs/HanLP/commit/a57645c739b403b5fe8ae7cba0fb44d0dd992317)\r\n\r\n* [x] I've completed this form and searched the web for solutions.\r\n", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1603/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/1603/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1602", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/1602/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/1602/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/1602/events", "html_url": "https://github.com/hankcs/HanLP/issues/1602", "id": 780413785, "node_id": "MDU6SXNzdWU3ODA0MTM3ODU=", "number": 1602, "title": "RuntimeError: Already borrowed using mtl model in Hanlp2.1.x  with multiple threads", "user": {"login": "Ritali", "id": 4964400, "node_id": "MDQ6VXNlcjQ5NjQ0MDA=", "avatar_url": "https://avatars.githubusercontent.com/u/4964400?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Ritali", "html_url": "https://github.com/Ritali", "followers_url": "https://api.github.com/users/Ritali/followers", "following_url": "https://api.github.com/users/Ritali/following{/other_user}", "gists_url": "https://api.github.com/users/Ritali/gists{/gist_id}", "starred_url": "https://api.github.com/users/Ritali/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Ritali/subscriptions", "organizations_url": "https://api.github.com/users/Ritali/orgs", "repos_url": "https://api.github.com/users/Ritali/repos", "events_url": "https://api.github.com/users/Ritali/events{/privacy}", "received_events_url": "https://api.github.com/users/Ritali/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2021-01-06T10:08:10Z", "updated_at": "2021-01-08T18:24:52Z", "closed_at": "2021-01-06T17:08:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nThe multiple task learning model in Hanlp2.1.x can not support multiple threads, a ```RuntimeError``` with ```Already borrowed``` is raised and can reproduce stably. Seem as this is a bug in transformers >3.5.0 with a fast tokenizer.\r\n\r\n**Code to reproduce the issue**\r\n```\r\nfrom multiprocessing.dummy import Pool as ThreadPool\r\nimport hanlp\r\n\r\nclass Hanlp(object):\r\n    def __init__(self):\r\n        self.model = hanlp.load(hanlp.pretrained.mtl.CLOSE_TOK_POS_NER_SRL_DEP_SDP_CON_ELECTRA_SMALL_ZH)\r\n    def get_batch(self, sentences):\r\n        return self.model(sentences)\r\n\r\nmodel = Hanlp()\r\ndef tokenizer_test(text):\r\n    print(model.get_batch(text)['tok/fine'])\r\n\r\npool = ThreadPool(10)  \r\ndata_list = ['\u6d4b\u8bd5\u8fd9\u662f\u6d4b\u8bd5'] * 100\r\npool.map(tokenizer_test, data_list)\r\npool.close()\r\npool.join()\r\n```\r\n\r\n**Describe the current behavior**\r\n```\r\nTraceback (most recent call last):\r\n  File \"mul_test.py\", line 17, in <module>\r\n    pool.map(tokenizer_test, data_list)\r\n  File \"/home/anaconda3/envs/tensorflow2-cpu/lib/python3.7/multiprocessing/pool.py\", line 290, in map\r\n    return self._map_async(func, iterable, mapstar, chunksize).get()\r\n  File \"/home/anaconda3/envs/tensorflow2-cpu/lib/python3.7/multiprocessing/pool.py\", line 683, in get\r\n    raise self._value\r\n  File \"/home/anaconda3/envs/tensorflow2-cpu/lib/python3.7/multiprocessing/pool.py\", line 121, in worker\r\n    result = (True, func(*args, **kwds))\r\n  File \"/home/anaconda3/envs/tensorflow2-cpu/lib/python3.7/multiprocessing/pool.py\", line 44, in mapstar\r\n    return list(map(*args))\r\n  File \"mul_test.py\", line 12, in tokenizer_test\r\n    print(model.get_batch(text)['tok/fine'])\r\n  File \"mul_test.py\", line 8, in get_batch\r\n    return self.model(sentences)\r\n  File \"/home/anaconda3/envs/tensorflow2-cpu/lib/python3.7/site-packages/hanlp/components/mtl/multi_task_learning.py\", line 748, in __call__\r\n    return super().__call__(data, batch_size, **kwargs)\r\n  File \"/home/anaconda3/envs/tensorflow2-cpu/lib/python3.7/site-packages/torch/autograd/grad_mode.py\", line 26, in decorate_context\r\n    return func(*args, **kwargs)\r\n  File \"/home/anaconda3/envs/tensorflow2-cpu/lib/python3.7/site-packages/hanlp/common/torch_component.py\", line 631, in __call__\r\n    **kwargs))\r\n  File \"/home/anaconda3/envs/tensorflow2-cpu/lib/python3.7/site-packages/hanlp/common/component.py\", line 36, in __call__\r\n    return self.predict(data, **kwargs)\r\n  File \"/home/anaconda3/envs/tensorflow2-cpu/lib/python3.7/site-packages/hanlp/components/mtl/multi_task_learning.py\", line 483, in predict\r\n    for batch in dataloader:\r\n  File \"/home/anaconda3/envs/tensorflow2-cpu/lib/python3.7/site-packages/hanlp/common/dataset.py\", line 429, in __iter__\r\n    for raw_batch in super(PadSequenceDataLoader, self).__iter__():\r\n  File \"/home/anaconda3/envs/tensorflow2-cpu/lib/python3.7/site-packages/torch/utils/data/dataloader.py\", line 435, in __next__\r\n    data = self._next_data()\r\n  File \"/home/anaconda3/envs/tensorflow2-cpu/lib/python3.7/site-packages/torch/utils/data/dataloader.py\", line 475, in _next_data\r\n    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration\r\n  File \"/home/anaconda3/envs/tensorflow2-cpu/lib/python3.7/site-packages/torch/utils/data/_utils/fetch.py\", line 44, in fetch\r\n    data = [self.dataset[idx] for idx in possibly_batched_index]\r\n  File \"/home/anaconda3/envs/tensorflow2-cpu/lib/python3.7/site-packages/torch/utils/data/_utils/fetch.py\", line 44, in <listcomp>\r\n    data = [self.dataset[idx] for idx in possibly_batched_index]\r\n  File \"/home/anaconda3/envs/tensorflow2-cpu/lib/python3.7/site-packages/hanlp/common/dataset.py\", line 206, in __getitem__\r\n    sample = self.transform_sample(sample)\r\n  File \"/home/anaconda3/envs/tensorflow2-cpu/lib/python3.7/site-packages/hanlp/common/dataset.py\", line 105, in transform_sample\r\n    sample = self.transform(sample)\r\n  File \"/home/anaconda3/envs/tensorflow2-cpu/lib/python3.7/site-packages/hanlp/common/transform.py\", line 319, in __call__\r\n    sample = t(sample)\r\n  File \"/home/anaconda3/envs/tensorflow2-cpu/lib/python3.7/site-packages/hanlp/transform/transformer_tokenizer.py\", line 309, in __call__\r\n    input_tokens, input_ids, subtoken_offsets = tokenize_str(input_tokens, add_special_tokens=True)\r\n  File \"/home/anaconda3/envs/tensorflow2-cpu/lib/python3.7/site-packages/hanlp/transform/transformer_tokenizer.py\", line 248, in tokenize_str\r\n    add_special_tokens=add_special_tokens).encodings[0]\r\n  File \"/home/anaconda3/envs/tensorflow2-cpu/lib/python3.7/site-packages/transformers/tokenization_utils_base.py\", line 2462, in encode_plus\r\n    **kwargs,\r\n  File \"/home/anaconda3/envs/tensorflow2-cpu/lib/python3.7/site-packages/transformers/tokenization_utils_fast.py\", line 465, in _encode_plus\r\n    **kwargs,\r\n  File \"/home/anaconda3/envs/tensorflow2-cpu/lib/python3.7/site-packages/transformers/tokenization_utils_fast.py\", line 372, in _batch_encode_plus\r\n    pad_to_multiple_of=pad_to_multiple_of,\r\n  File \"/home/anaconda3/envs/tensorflow2-cpu/lib/python3.7/site-packages/transformers/tokenization_utils_fast.py\", line 325, in set_truncation_and_padding\r\n    self._tokenizer.no_truncation()\r\nRuntimeError: Already borrowed\r\n```\r\n\r\nAfter search with Google, it seems as this is a bug in transformers >3.5.0 with a fast tokenizer.\r\nhttps://github.com/huggingface/tokenizers/issues/537\r\nI tried init an instance of the model for each thread as followed, the error is also occured, so confused. Whether there is bug in hanlp?\r\n```\r\nfrom multiprocessing.dummy import Pool as ThreadPool\r\nimport hanlp\r\nfrom numpy import array\r\n\r\nclass Hanlp(object):\r\n    def __init__(self):\r\n        self.model = hanlp.load(hanlp.pretrained.mtl.CLOSE_TOK_POS_NER_SRL_DEP_SDP_CON_ELECTRA_SMALL_ZH)\r\n    def get_batch(self, sentences):\r\n        return self.model(sentences)\r\n\r\ndef tokenizer_test(model, text):\r\n    print(model.get_batch(text)['tok/fine'])\r\n\r\npool = ThreadPool(10)\r\ndata_list = ['\u6d4b\u8bd5\u8fd9\u662f\u6d4b\u8bd5'] * 100\r\nmodels = list(array([Hanlp() for i in range(10)]).repeat(10))\r\nprint(models)\r\ndata = zip(models, data_list)\r\npool.starmap(tokenizer_test, data)\r\npool.close()\r\npool.join()\r\n```\r\nIf move model init in single thread as follows\uff0cthere is no error...but this solution is not effective because each data will init a model...\r\n```\r\ndef tokenizer_test(text):\r\n    model = Hanlp()\r\n    print(model.get_batch(text)['tok/fine'])\r\n```\r\n\r\n**Expected behavior**\r\nno error\r\n\r\n**System information**\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Linux\r\n- Python version: 3.7.1\r\n- HanLP version: 2.1.0\r\n- transformer version: 3.5.1\r\n\r\n**Other info / logs**\r\n* [x] I've completed this form and searched the web for solutions.", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1602/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/1602/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1601", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/1601/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/1601/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/1601/events", "html_url": "https://github.com/hankcs/HanLP/issues/1601", "id": 779859742, "node_id": "MDU6SXNzdWU3Nzk4NTk3NDI=", "number": 1601, "title": "install hanlp bug,demo run error", "user": {"login": "songsh", "id": 2272252, "node_id": "MDQ6VXNlcjIyNzIyNTI=", "avatar_url": "https://avatars.githubusercontent.com/u/2272252?v=4", "gravatar_id": "", "url": "https://api.github.com/users/songsh", "html_url": "https://github.com/songsh", "followers_url": "https://api.github.com/users/songsh/followers", "following_url": "https://api.github.com/users/songsh/following{/other_user}", "gists_url": "https://api.github.com/users/songsh/gists{/gist_id}", "starred_url": "https://api.github.com/users/songsh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/songsh/subscriptions", "organizations_url": "https://api.github.com/users/songsh/orgs", "repos_url": "https://api.github.com/users/songsh/repos", "events_url": "https://api.github.com/users/songsh/events{/privacy}", "received_events_url": "https://api.github.com/users/songsh/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2021-01-06T01:49:16Z", "updated_at": "2021-01-06T02:10:53Z", "closed_at": "2021-01-06T01:54:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "\r\n\r\n**Describe the bug**\r\nIf the problem still persists, please submit an issue to https://github.com/hankcs/HanLP/issues\r\nWhen reporting an issue, make sure to paste the FULL ERROR LOG above.\r\ndony222:test dony$ python3 testHanLP.py\r\n/usr/local/Cellar/python/3.7.2_2/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/tensorflow/python/framework/dtypes.py:516: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.\r\n  _np_qint8 = np.dtype([(\"qint8\", np.int8, 1)])\r\n/usr/local/Cellar/python/3.7.2_2/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/tensorflow/python/framework/dtypes.py:517: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.\r\n  _np_quint8 = np.dtype([(\"quint8\", np.uint8, 1)])\r\n/usr/local/Cellar/python/3.7.2_2/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/tensorflow/python/framework/dtypes.py:518: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.\r\n  _np_qint16 = np.dtype([(\"qint16\", np.int16, 1)])\r\n/usr/local/Cellar/python/3.7.2_2/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/tensorflow/python/framework/dtypes.py:519: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.\r\n  _np_quint16 = np.dtype([(\"quint16\", np.uint16, 1)])\r\n/usr/local/Cellar/python/3.7.2_2/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/tensorflow/python/framework/dtypes.py:520: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.\r\n  _np_qint32 = np.dtype([(\"qint32\", np.int32, 1)])\r\n/usr/local/Cellar/python/3.7.2_2/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/tensorflow/python/framework/dtypes.py:525: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.\r\n  np_resource = np.dtype([(\"resource\", np.ubyte, 1)])\r\nFailed to load https://file.hankcs.com/hanlp/mtl/close_tok_pos_ner_srl_dep_sdp_con_electra_small_zh_20201222_130611.zip. See traceback below:\r\n================================ERROR LOG BEGINS================================\r\nTraceback (most recent call last):\r\n  File \"/usr/local/Cellar/python/3.7.2_2/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/hanlp/utils/component_util.py\", line 74, in load_from_meta_file\r\n    obj: Component = object_from_classpath(cls)\r\n  File \"/usr/local/Cellar/python/3.7.2_2/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/hanlp_common/reflection.py\", line 27, in object_from_classpath\r\n    classpath = str_to_type(classpath)\r\n  File \"/usr/local/Cellar/python/3.7.2_2/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/hanlp_common/reflection.py\", line 44, in str_to_type\r\n    cls = getattr(importlib.import_module(module_name), class_name)\r\n  File \"/usr/local/Cellar/python/3.7.2_2/Frameworks/Python.framework/Versions/3.7/lib/python3.7/importlib/__init__.py\", line 127, in import_module\r\n    return _bootstrap._gcd_import(name[level:], package, level)\r\n  File \"<frozen importlib._bootstrap>\", line 1006, in _gcd_import\r\n  File \"<frozen importlib._bootstrap>\", line 983, in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 967, in _find_and_load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 677, in _load_unlocked\r\n  File \"<frozen importlib._bootstrap_external>\", line 728, in exec_module\r\n  File \"<frozen importlib._bootstrap>\", line 219, in _call_with_frames_removed\r\n  File \"/usr/local/Cellar/python/3.7.2_2/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/hanlp/components/mtl/multi_task_learning.py\", line 23, in <module>\r\n    from hanlp.components.mtl.tasks import Task\r\n  File \"/usr/local/Cellar/python/3.7.2_2/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/hanlp/components/mtl/tasks/__init__.py\", line 22, in <module>\r\n    from hanlp.transform.transformer_tokenizer import TransformerSequenceTokenizer\r\n  File \"/usr/local/Cellar/python/3.7.2_2/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/hanlp/transform/transformer_tokenizer.py\", line 9, in <module>\r\n    from hanlp.layers.transformers.pt_imports import PreTrainedTokenizer, PretrainedConfig, AutoTokenizer\r\n  File \"/usr/local/Cellar/python/3.7.2_2/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/hanlp/layers/transformers/pt_imports.py\", line 10, in <module>\r\n    from transformers import BertTokenizer, BertConfig, PretrainedConfig, \\\r\nImportError: cannot import name 'BertTokenizerFast' from 'transformers' (/usr/local/Cellar/python/3.7.2_2/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/transformers/__init__.py)\r\n=================================ERROR LOG ENDS=================================\r\n\r\n**Code to reproduce the issue**\r\nProvide a reproducible test case that is the bare minimum necessary to generate the problem.\r\n\r\n```\r\nimport hanlp\r\n\r\nHanLP = hanlp.load(hanlp.pretrained.mtl.CLOSE_TOK_POS_NER_SRL_DEP_SDP_CON_ELECTRA_SMALL_ZH)\r\nHanLP(['2021\u5e74HanLPv2.1\u4e3a\u751f\u4ea7\u73af\u5883\u5e26\u6765\u6b21\u4e16\u4ee3\u6700\u5148\u8fdb\u7684\u591a\u8bed\u79cdNLP\u6280\u672f\u3002', '\u963f\u5a46\u4e3b\u6765\u5230\u5317\u4eac\u7acb\u65b9\u5ead\u53c2\u89c2\u81ea\u7136\u8bed\u4e49\u79d1\u6280\u516c\u53f8\u3002']).pretty_print()\r\n```\r\n\r\n**Describe the current behavior**\r\nA clear and concise description of what happened.\r\n\r\n**Expected behavior**\r\nA clear and concise description of what you expected to happen.\r\n\r\n**System information**\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04):\r\n- Python version:3.7\r\n- HanLP version:2.1.0a5 \r\n\r\n**Other info / logs**\r\nInclude any logs or source code that would be helpful to diagnose the problem. If including tracebacks, please include the full traceback. Large logs and files should be attached.\r\n\r\n* [x] I've completed this form and searched the web for solutions.\r\n", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1601/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/1601/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1600", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/1600/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/1600/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/1600/events", "html_url": "https://github.com/hankcs/HanLP/issues/1600", "id": 777580627, "node_id": "MDU6SXNzdWU3Nzc1ODA2Mjc=", "number": 1600, "title": "TableTransform\u4e2d\uff0c\u8c03\u7528read_cells\u65f6\u6240\u7528\u7684\u53c2\u6570\u540d\uff0c\u548c\u51fd\u6570\u5b9a\u4e49\u4e2d\u7684\u53c2\u6570\u540d\u4e0d\u4e00\u81f4", "user": {"login": "zhufengyun", "id": 5113936, "node_id": "MDQ6VXNlcjUxMTM5MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/5113936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zhufengyun", "html_url": "https://github.com/zhufengyun", "followers_url": "https://api.github.com/users/zhufengyun/followers", "following_url": "https://api.github.com/users/zhufengyun/following{/other_user}", "gists_url": "https://api.github.com/users/zhufengyun/gists{/gist_id}", "starred_url": "https://api.github.com/users/zhufengyun/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zhufengyun/subscriptions", "organizations_url": "https://api.github.com/users/zhufengyun/orgs", "repos_url": "https://api.github.com/users/zhufengyun/repos", "events_url": "https://api.github.com/users/zhufengyun/events{/privacy}", "received_events_url": "https://api.github.com/users/zhufengyun/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2021-01-03T06:02:17Z", "updated_at": "2021-01-03T06:46:37Z", "closed_at": "2021-01-03T06:46:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n\u63d0\u95ee\u8bf7\u4e0a\u8bba\u575b\uff0c\u4e0d\u8981\u53d1\u8fd9\u91cc\uff01\r\n\u63d0\u95ee\u8bf7\u4e0a\u8bba\u575b\uff0c\u4e0d\u8981\u53d1\u8fd9\u91cc\uff01\r\n\u63d0\u95ee\u8bf7\u4e0a\u8bba\u575b\uff0c\u4e0d\u8981\u53d1\u8fd9\u91cc\uff01\r\n\r\n\u4ee5\u4e0b\u5fc5\u586b\uff0c\u5426\u5219\u6055\u4e0d\u53d7\u7406\u3002\r\n-->\r\n\r\n**Describe the bug**\r\nread_cells\u51fd\u6570\uff1a\u5728TableTransform\u4e2d\uff0c\u8c03\u7528read_cells\u65f6\u6240\u7528\u7684\u53c2\u6570\u540d\uff0c\u548c\u51fd\u6570\u5b9a\u4e49\u4e2d\u7684\u53c2\u6570\u540d\u4e0d\u4e00\u81f4\r\n\r\n**Code to reproduce the issue**\r\n\u8c03\u7528\u7684\u4f4d\u7f6e\uff1a\r\nclass TableTransform\r\ndef file_to_inputs\r\nfor cells in read_cells(filepath, **skip_header**=self.config.skip_header, delimiter=self.config.delimiter)\r\n\r\nread_cells\u51fd\u6570\u5728io_utils.py\u4e2d\u7684\u5b9a\u4e49\u4e3a\uff1a\r\ndef read_cells(filepath: str, delimiter='auto', strip=True, **skip_first_line**=False)\r\n\r\n**Describe the current behavior**\r\n\u65e0\u6cd5\u8c03\u7528read_cells\r\n\r\n**Expected behavior**\r\nNone\r\n\r\n**System information**\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): not related\r\n- Python version: not related\r\n- HanLP version: 2.1.0a0\r\n\r\n**Other info / logs**\r\nNone\r\n\r\n* [x] I've completed this form and searched the web for solutions.\r\n<!-- \u53d1\u8868\u524d\u5148\u641c\u7d22\uff0c\u6b64\u5904\u4e00\u5b9a\u8981\u52fe\u9009\uff01 -->\r\n<!-- \u53d1\u8868\u524d\u5148\u641c\u7d22\uff0c\u6b64\u5904\u4e00\u5b9a\u8981\u52fe\u9009\uff01 -->\r\n<!-- \u53d1\u8868\u524d\u5148\u641c\u7d22\uff0c\u6b64\u5904\u4e00\u5b9a\u8981\u52fe\u9009\uff01 -->", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1600/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/1600/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1594", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/1594/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/1594/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/1594/events", "html_url": "https://github.com/hankcs/HanLP/issues/1594", "id": 772050718, "node_id": "MDU6SXNzdWU3NzIwNTA3MTg=", "number": 1594, "title": "HanLP 1.x \u52a0\u8f7d bin \u7684\u9519\u8bef", "user": {"login": "zhuyuanxiang", "id": 22648903, "node_id": "MDQ6VXNlcjIyNjQ4OTAz", "avatar_url": "https://avatars.githubusercontent.com/u/22648903?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zhuyuanxiang", "html_url": "https://github.com/zhuyuanxiang", "followers_url": "https://api.github.com/users/zhuyuanxiang/followers", "following_url": "https://api.github.com/users/zhuyuanxiang/following{/other_user}", "gists_url": "https://api.github.com/users/zhuyuanxiang/gists{/gist_id}", "starred_url": "https://api.github.com/users/zhuyuanxiang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zhuyuanxiang/subscriptions", "organizations_url": "https://api.github.com/users/zhuyuanxiang/orgs", "repos_url": "https://api.github.com/users/zhuyuanxiang/repos", "events_url": "https://api.github.com/users/zhuyuanxiang/events{/privacy}", "received_events_url": "https://api.github.com/users/zhuyuanxiang/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-12-21T10:27:39Z", "updated_at": "2020-12-22T06:34:24Z", "closed_at": "2020-12-22T02:06:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\nThank you for reporting a possible bug in HanLP.\r\nPlease fill in the template below to bypass our spam filter.  \r\n\u4ee5\u4e0b\u5fc5\u586b\uff0c\u5426\u5219\u6055\u4e0d\u53d7\u7406\u3002\r\n-->\r\n\r\n**Describe the bug**\r\n\u8fde\u7eed\u52a0\u8f7d\u4e24\u6b21\u6a21\u578b\u65f6\uff0c\u7b2c\u4e8c\u6b21\u6ca1\u6709\u52a0\u8f7d\u800c\u662f\u76f4\u63a5\u4f7f\u7528\u7b2c\u4e00\u6b21\u52a0\u8f7d\u7684\u6a21\u578b\r\n\r\n**Code to reproduce the issue**\r\n\r\n```java\r\n    public static void main(String[] args) {\r\n        // \u7b2c\u4e00\u6b21\u6267\u884c\u4f1a\u62a5\u51fa\u8b66\u544a\uff0c\u7136\u540e\u4f1a\u8f6c\u6362 txt \u6587\u4ef6\u4e3a bin \u6587\u4ef6\uff0c\u540e\u9762\u5c31\u4e0d\u518d\u62a5\u9519\r\n        // \u8fde\u7eed\u6267\u884c\u4e24\u6b21\u65f6\uff0c\u7b2c\u4e8c\u6b21\u4f7f\u7528\u7684\u662f\u7b2c\u4e00\u6b21\u8f7d\u5165\u7684 bin \u6587\u4ef6\r\n        // \u4ea4\u6362\u4ee5\u4e0b\u73b0\u573a\u4ee3\u7801\u7684\u987a\u5e8f\u5c31\u53ef\u4ee5\u770b\u5230\u533a\u522b\r\n        show_subtitle(\"my_cws_model\");\r\n        trainBigram(MY_CWS_CORPUS_PATH, MY_MODEL_PATH);\r\n        loadBigram(MY_MODEL_PATH);\r\n        show_subtitle(\"msr_ngram\");\r\n        trainBigram(MSR_TRAIN_PATH, MSR_MODEL_PATH);\r\n        loadBigram(MSR_MODEL_PATH);\r\n    }\r\n```\r\n\r\n\u8be6\u60c5\u53ef\u4ee5\u53c2\u8003\uff1ahttps://github.com/zhuyuanxiang/Hanlp-Books-Examples/blob/main/src/main/java/ch03/sec03/DemoNgramSegment.java\r\n\r\n**Describe the current behavior**\r\n--------------->my_cws_model<---------------\r\n\u300c\u5546\u54c1\u300d\u7684\u8bcd\u9891\uff1a2\r\n\u300c\u5546\u54c1@\u548c\u300d\u7684\u9891\u6b21\uff1a1\r\n[\u5546\u54c1, \u548c, \u670d\u52a1]\r\n[\u8d27\u5e01, \u548c, \u670d\u52a1]\r\n--------------->msr_ngram<---------------\r\n\u300c\u5546\u54c1\u300d\u7684\u8bcd\u9891\uff1a2\r\n\u300c\u5546\u54c1@\u548c\u300d\u7684\u9891\u6b21\uff1a1\r\n[\u5546\u54c1, \u548c, \u670d\u52a1]\r\n[\u8d27\u5e01, \u548c, \u670d\u52a1]\r\n\r\n**Expected behavior**\r\n--------------->my_cws_model<---------------\r\n\u300c\u5546\u54c1\u300d\u7684\u8bcd\u9891\uff1a2\r\n\u300c\u5546\u54c1@\u548c\u300d\u7684\u9891\u6b21\uff1a1\r\n[\u5546\u54c1, \u548c, \u670d\u52a1]\r\n[\u8d27\u5e01, \u548c, \u670d\u52a1]\r\n--------------->msr_ngram<---------------\r\n\u300c\u5546\u54c1\u300d\u7684\u8bcd\u9891\uff1a1\r\n\u300c\u5546\u54c1@\u548c\u300d\u7684\u9891\u6b21\uff1a0\r\n[\u5546\u54c1, \u548c, \u670d\u52a1]\r\n[\u8d27\u5e01, \u548c, \u670d\u52a1]\r\n\r\n**System information**\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Windows 10\r\n- Python version:\r\n- Java version: 8.0\r\n- HanLP version: 1.7.8\r\n\r\n**Other info / logs**\r\nInclude any logs or source code that would be helpful to diagnose the problem. If including tracebacks, please include the full traceback. Large logs and files should be attached.\r\n\r\n* [x] I've completed this form and searched the web for solutions.\r\n", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1594/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/1594/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1592", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/1592/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/1592/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/1592/events", "html_url": "https://github.com/hankcs/HanLP/issues/1592", "id": 769128744, "node_id": "MDU6SXNzdWU3NjkxMjg3NDQ=", "number": 1592, "title": "unable to use mixed precision", "user": {"login": "callzhang", "id": 5102827, "node_id": "MDQ6VXNlcjUxMDI4Mjc=", "avatar_url": "https://avatars.githubusercontent.com/u/5102827?v=4", "gravatar_id": "", "url": "https://api.github.com/users/callzhang", "html_url": "https://github.com/callzhang", "followers_url": "https://api.github.com/users/callzhang/followers", "following_url": "https://api.github.com/users/callzhang/following{/other_user}", "gists_url": "https://api.github.com/users/callzhang/gists{/gist_id}", "starred_url": "https://api.github.com/users/callzhang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/callzhang/subscriptions", "organizations_url": "https://api.github.com/users/callzhang/orgs", "repos_url": "https://api.github.com/users/callzhang/repos", "events_url": "https://api.github.com/users/callzhang/events{/privacy}", "received_events_url": "https://api.github.com/users/callzhang/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2020-12-16T17:28:57Z", "updated_at": "2021-11-07T20:25:44Z", "closed_at": "2021-11-07T20:25:44Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "<!--\r\nThank you for reporting a possible bug in HanLP.\r\nPlease fill in the template below to bypass our spam filter.  \r\n\u4ee5\u4e0b\u5fc5\u586b\uff0c\u5426\u5219\u6055\u4e0d\u53d7\u7406\u3002\r\n-->\r\n\r\n**Describe the bug**\r\nUnable to use automatic mixed precision\r\n\r\n**Code to reproduce the issue**\r\n\r\n```\r\nif self.config.use_amp:\r\n     policy = mixed_precision.Policy('mixed_float16')\r\n     mixed_precision.set_policy(policy)\r\n```\r\n\r\n**Describe the current behavior**\r\n```\r\nTraceback (most recent call last):\r\n  File \"/usr/local/Cellar/python@3.8/3.8.5/Frameworks/Python.framework/Versions/3.8/lib/python3.8/runpy.py\", line 194, in _run_module_as_main\r\n    return _run_code(code, main_globals, None,\r\n  File \"/usr/local/Cellar/python@3.8/3.8.5/Frameworks/Python.framework/Versions/3.8/lib/python3.8/runpy.py\", line 87, in _run_code\r\n    exec(code, run_globals)\r\n  File \"/Users/lei/.vscode/extensions/ms-python.python-2020.11.371526539/pythonFiles/lib/python/debugpy/__main__.py\", line 45, in <module>\r\n    cli.main()\r\n  File \"/Users/lei/.vscode/extensions/ms-python.python-2020.11.371526539/pythonFiles/lib/python/debugpy/../debugpy/server/cli.py\", line 430, in main\r\n    run()\r\n  File \"/Users/lei/.vscode/extensions/ms-python.python-2020.11.371526539/pythonFiles/lib/python/debugpy/../debugpy/server/cli.py\", line 267, in run_file\r\n    runpy.run_path(options.target, run_name=compat.force_str(\"__main__\"))\r\n  File \"/usr/local/Cellar/python@3.8/3.8.5/Frameworks/Python.framework/Versions/3.8/lib/python3.8/runpy.py\", line 265, in run_path\r\n    return _run_module_code(code, init_globals, run_name,\r\n  File \"/usr/local/Cellar/python@3.8/3.8.5/Frameworks/Python.framework/Versions/3.8/lib/python3.8/runpy.py\", line 97, in _run_module_code\r\n    _run_code(code, mod_globals, init_globals,\r\n  File \"/usr/local/Cellar/python@3.8/3.8.5/Frameworks/Python.framework/Versions/3.8/lib/python3.8/runpy.py\", line 87, in _run_code\r\n    exec(code, run_globals)\r\n  File \"/Users/lei/Documents/Projects/NLP/\u65b0\u534e\u793eNLP/\u5206\u7c7b/hanlp_classification.py\", line 42, in <module>\r\n    history = classifier.fit(TRANIN_SET, DEV_SET, save_dir, **kwargs)\r\n  File \"/Users/lei/Documents/Projects/NLP/HanLP/hanlp/components/classifiers/transformer_classifier.py\", line 119, in fit\r\n    return super().fit(**merge_locals_kwargs(locals(), kwargs))\r\n  File \"/Users/lei/Documents/Projects/NLP/HanLP/hanlp/common/component.py\", line 341, in fit\r\n    model, optimizer, loss, metrics = self.build(**merge_dict(self.config, logger=logger, training=True))\r\n  File \"/Users/lei/Documents/Projects/NLP/HanLP/hanlp/common/component.py\", line 255, in build\r\n    self.model = self.build_model(**merge_dict(self.config, training=kwargs.get('training', None),\r\n  File \"/Users/lei/Documents/Projects/NLP/HanLP/hanlp/components/classifiers/transformer_classifier.py\", line 174, in build_model\r\n    model, self.transform.tokenizer = build_transformer(transformer, max_length, len(self.transform.label_vocab),\r\n  File \"/Users/lei/Documents/Projects/NLP/HanLP/hanlp/layers/transformers/loader.py\", line 66, in build_transformer\r\n    output = l_bert([l_input_ids, l_token_type_ids], mask=l_mask_ids)\r\n  File \"/usr/local/lib/python3.8/site-packages/tensorflow/python/keras/engine/base_layer.py\", line 925, in __call__\r\n    return self._functional_construction_call(inputs, args, kwargs,\r\n  File \"/usr/local/lib/python3.8/site-packages/tensorflow/python/keras/engine/base_layer.py\", line 1117, in _functional_construction_call\r\n    outputs = call_fn(cast_inputs, *args, **kwargs)\r\n  File \"/usr/local/lib/python3.8/site-packages/tensorflow/python/autograph/impl/api.py\", line 258, in wrapper\r\n    raise e.ag_error_metadata.to_exception(e)\r\nTypeError: in user code:\r\n\r\n    /usr/local/lib/python3.8/site-packages/bert/model.py:79 call  *\r\n        embedding_output = self.embeddings_layer(inputs, mask=mask, training=training)\r\n    /usr/local/lib/python3.8/site-packages/bert/embeddings.py:226 call  *\r\n        embedding_output += tf.reshape(pos_embeddings, broadcast_shape)\r\n    /usr/local/lib/python3.8/site-packages/tensorflow/python/ops/math_ops.py:1141 binary_op_wrapper\r\n        raise e\r\n    /usr/local/lib/python3.8/site-packages/tensorflow/python/ops/math_ops.py:1125 binary_op_wrapper\r\n        return func(x, y, name=name)\r\n    /usr/local/lib/python3.8/site-packages/tensorflow/python/util/dispatch.py:201 wrapper\r\n        return target(*args, **kwargs)\r\n    /usr/local/lib/python3.8/site-packages/tensorflow/python/ops/math_ops.py:1447 _add_dispatch\r\n        return gen_math_ops.add_v2(x, y, name=name)\r\n    /usr/local/lib/python3.8/site-packages/tensorflow/python/ops/gen_math_ops.py:495 add_v2\r\n        _, _, _op, _outputs = _op_def_library._apply_op_helper(\r\n    /usr/local/lib/python3.8/site-packages/tensorflow/python/framework/op_def_library.py:503 _apply_op_helper\r\n        raise TypeError(\r\n\r\n    TypeError: Input 'y' of 'AddV2' Op has type float16 that does not match type float32 of argument 'x'.\r\n```\r\n\r\n**Expected behavior**\r\namp mode enabled\r\n\r\n**System information**\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): MacOS\r\n- Python version: 3.8\r\n- HanLP version: LATEST\r\n\r\n**Other info / logs**\r\n\r\n\r\n* [x] I've completed this form and searched the web for solutions.\r\n", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1592/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/1592/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1589", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/1589/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/1589/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/1589/events", "html_url": "https://github.com/hankcs/HanLP/issues/1589", "id": 763574330, "node_id": "MDU6SXNzdWU3NjM1NzQzMzA=", "number": 1589, "title": "TypeError: build_callbacks() got multiple values for argument 'logger'", "user": {"login": "callzhang", "id": 5102827, "node_id": "MDQ6VXNlcjUxMDI4Mjc=", "avatar_url": "https://avatars.githubusercontent.com/u/5102827?v=4", "gravatar_id": "", "url": "https://api.github.com/users/callzhang", "html_url": "https://github.com/callzhang", "followers_url": "https://api.github.com/users/callzhang/followers", "following_url": "https://api.github.com/users/callzhang/following{/other_user}", "gists_url": "https://api.github.com/users/callzhang/gists{/gist_id}", "starred_url": "https://api.github.com/users/callzhang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/callzhang/subscriptions", "organizations_url": "https://api.github.com/users/callzhang/orgs", "repos_url": "https://api.github.com/users/callzhang/repos", "events_url": "https://api.github.com/users/callzhang/events{/privacy}", "received_events_url": "https://api.github.com/users/callzhang/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 16, "created_at": "2020-12-12T10:40:02Z", "updated_at": "2020-12-16T03:37:19Z", "closed_at": "2020-12-12T15:41:09Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "\r\n\r\n**Describe the bug**\r\nTypeError: build_callbacks() got multiple values for argument 'logger'\r\n\r\n**Code to reproduce the issue**\r\n```\r\nimport hanlp\r\nfrom hanlp.datasets.classification.sentiment import CHNSENTICORP_ERNIE_TRAIN, CHNSENTICORP_ERNIE_TEST, CHNSENTICORP_ERNIE_VALID\r\n\r\nclassifier = hanlp.load('LARGE_ALBERT_BASE')\r\n\r\n# Train classifer\r\nclassifier.fit(CHNSENTICORP_ERNIE_TRAIN, CHNSENTICORP_ERNIE_VALID, save_dir, transformer='albert_large_zh')\r\n\r\n```\r\n\r\n**Describe the current behavior**\r\nTypeError: build_callbacks() got multiple values for argument 'logger'\r\n\r\n**Expected behavior**\r\nModel got trained\r\n\r\n**System information**\r\n\r\n**Other info / logs**\r\nIn `components.py`L326, it is trying to create a redundant logger, which caused this problem. Please take a look \r\n\r\n* [x] I've completed this form and searched the web for solutions.", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1589/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/1589/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1585", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/1585/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/1585/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/1585/events", "html_url": "https://github.com/hankcs/HanLP/issues/1585", "id": 743247329, "node_id": "MDU6SXNzdWU3NDMyNDczMjk=", "number": 1585, "title": "KBeamArcEagerDependencyParser \u52a0\u8f7d\u6a21\u578b\u65f6\u8def\u5f84\u542b\"data\"\u4f1a\u5bfc\u81f4\u5f02\u5e38", "user": {"login": "ZZzeal", "id": 19574652, "node_id": "MDQ6VXNlcjE5NTc0NjUy", "avatar_url": "https://avatars.githubusercontent.com/u/19574652?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ZZzeal", "html_url": "https://github.com/ZZzeal", "followers_url": "https://api.github.com/users/ZZzeal/followers", "following_url": "https://api.github.com/users/ZZzeal/following{/other_user}", "gists_url": "https://api.github.com/users/ZZzeal/gists{/gist_id}", "starred_url": "https://api.github.com/users/ZZzeal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ZZzeal/subscriptions", "organizations_url": "https://api.github.com/users/ZZzeal/orgs", "repos_url": "https://api.github.com/users/ZZzeal/repos", "events_url": "https://api.github.com/users/ZZzeal/events{/privacy}", "received_events_url": "https://api.github.com/users/ZZzeal/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-11-15T12:32:59Z", "updated_at": "2020-11-15T16:37:26Z", "closed_at": "2020-11-15T16:37:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nKBeamArcEagerDependencyParser \u52a0\u8f7d\u6a21\u578b\u65f6\u8def\u5f84\u542b\"data\"\u4f1a\u5bfc\u81f4\u5f02\u5e38\r\n\r\n**Code to reproduce the issue**\r\n\r\n```python\r\nPerceptronPOSModelPath='G:/pythonProject/wikidata_django/env/Lib/site-packages/pyhanlp/static/data/model/perceptron/pku1998/pos.bin'\r\n# \u8c03\u7528\r\nparser = KBeamArcEagerDependencyParser()\r\n```\r\n\r\n**Describe the current behavior**\r\n\u8f7d\u5165\u6a21\u578b\u65f6\u76f4\u63a5\u5c06`PerceptronPOSModelPath`\u7684\u8def\u5f84\u4eceidata_django\u5f00\u59cb\u66ff\u6362\u4e3a`G:/pythonProject/wikidata/model/perceptron/ctb/pos.bin`\r\n\r\n**Expected behavior**\r\n\u4ece`pyhanlp/static/data`\u5f00\u59cb\u66ff\u6362\r\n\r\n**System information**\r\n- OS Platform and Distribution: Windows 10 20H2\r\n- Python version: 3.8.6\r\n- HanLP version: 1.7.8\r\n\r\n**Other info / logs**\r\n```java\r\npublic KBeamArcEagerDependencyParser(String modelPath) throws IOException, ClassNotFoundException\r\n{\r\n    this(new PerceptronLexicalAnalyzer(HanLP.Config.PerceptronCWSModelPath,\r\n                                       HanLP.Config.PerceptronPOSModelPath.replaceFirst(\"data.*?.bin\", \"data/model/perceptron/ctb/pos.bin\")\r\n    ).enableCustomDictionary(false), new KBeamArcEagerParser(modelPath));\r\n}\r\n```\r\n`com.hankcs.hanlp.dependency.perceptron.parser.KBeamArcEagerDependencyParser` 59\u884c replaceFirst\u5bfc\u81f4\r\n* [x] I've completed this form and searched the web for solutions.", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1585/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/1585/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1569", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/1569/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/1569/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/1569/events", "html_url": "https://github.com/hankcs/HanLP/issues/1569", "id": 717882874, "node_id": "MDU6SXNzdWU3MTc4ODI4NzQ=", "number": 1569, "title": "\u52a0\u8f7d\u6a21\u578bhanlp.pretrained.cws.LARGE_ALBERT_BASE\u65f6\u51fa\u9519", "user": {"login": "SimZhou", "id": 11748629, "node_id": "MDQ6VXNlcjExNzQ4NjI5", "avatar_url": "https://avatars.githubusercontent.com/u/11748629?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SimZhou", "html_url": "https://github.com/SimZhou", "followers_url": "https://api.github.com/users/SimZhou/followers", "following_url": "https://api.github.com/users/SimZhou/following{/other_user}", "gists_url": "https://api.github.com/users/SimZhou/gists{/gist_id}", "starred_url": "https://api.github.com/users/SimZhou/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SimZhou/subscriptions", "organizations_url": "https://api.github.com/users/SimZhou/orgs", "repos_url": "https://api.github.com/users/SimZhou/repos", "events_url": "https://api.github.com/users/SimZhou/events{/privacy}", "received_events_url": "https://api.github.com/users/SimZhou/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2020-10-09T06:14:32Z", "updated_at": "2020-10-10T04:17:50Z", "closed_at": "2020-10-10T04:17:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\nThank you for reporting a possible bug in HanLP.\r\nPlease fill in the template below to bypass our spam filter.  \r\n\u4ee5\u4e0b\u5fc5\u586b\uff0c\u5426\u5219\u6055\u4e0d\u53d7\u7406\u3002\r\n-->\r\n\r\n**Describe the bug**\r\nA clear and concise description of what the bug is.\r\n\u52a0\u8f7dcws\u6a21\u578balbert\u65f6\u51fa\u9519\r\n```bash\r\nDownloading https://file.hankcs.com/hanlp/embeddings/albert_base_zh.tar.gz to /home/yihuazhou/.hanlp/embeddings/albert_base_zh.tar.gz\r\n\r\n97.69%, 37.0 MB/37.9 MB, 92 KB/s, ETA 10 s      Failed to load https://file.hankcs.com/hanlp/cws/large_cws_albert_base_20200828_011451.zip. See traceback below:\r\n================================ERROR LOG BEGINS================================\r\nTraceback (most recent call last):\r\n  File \"/home/yihuazhou/miniconda3/lib/python3.8/site-packages/hanlp/utils/io_util.py\", line 201, in download\r\n    urlretrieve(url, tmp_path, reporthook)\r\n  File \"/home/yihuazhou/miniconda3/lib/python3.8/urllib/request.py\", line 286, in urlretrieve\r\n    raise ContentTooShortError(\r\nurllib.error.ContentTooShortError: <urlopen error retrieval incomplete: got only 38807364 out of 39731739 bytes>\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/home/yihuazhou/miniconda3/lib/python3.8/site-packages/hanlp/utils/component_util.py\", line 48, in load_from_meta_file\r\n    obj.load(save_dir, **load_kwargs)\r\n  File \"/home/yihuazhou/miniconda3/lib/python3.8/site-packages/hanlp/common/component.py\", line 244, in load\r\n    self.build(**merge_dict(self.config, training=False, logger=logger, **kwargs, overwrite=True, inplace=True))\r\n  File \"/home/yihuazhou/miniconda3/lib/python3.8/site-packages/hanlp/common/component.py\", line 254, in build\r\n    self.model = self.build_model(**merge_dict(self.config, training=kwargs.get('training', None),\r\n  File \"/home/yihuazhou/miniconda3/lib/python3.8/site-packages/hanlp/components/taggers/transformers/transformer_tagger.py\", line 34, in build_model\r\n    model, tokenizer = build_transformer(transformer, max_seq_length, len(self.transform.tag_vocab), tagging=True)\r\n  File \"/home/yihuazhou/miniconda3/lib/python3.8/site-packages/hanlp/layers/transformers/loader.py\", line 39, in build_transformer\r\n    bert_dir = get_resource(model_url)\r\n  File \"/home/yihuazhou/miniconda3/lib/python3.8/site-packages/hanlp/utils/io_util.py\", line 340, in get_resource\r\n    path = download(url=path, save_path=realpath)\r\n  File \"/home/yihuazhou/miniconda3/lib/python3.8/site-packages/hanlp/utils/io_util.py\", line 214, in download\r\n    installed_version, latest_version, latest_version_str = check_outdated()\r\nValueError: not enough values to unpack (expected 3, got 2)\r\n=================================ERROR LOG ENDS=================================\r\nWhen reporting an issue, make sure to paste the FULL ERROR LOG above.\r\n```\r\n\r\n**Code to reproduce the issue**\r\nProvide a reproducible test case that is the bare minimum necessary to generate the problem.\r\n\r\n```python\r\ntokenizer = hanlp.load(hanlp.pretrained.cws.LARGE_ALBERT_BASE)\r\n```\r\n\r\n**Describe the current behavior**\r\nA clear and concise description of what happened.\r\n\u76ee\u524d\u4e0b\u8f7d\u5b8calbert\u6a21\u578b\u540e\u52a0\u8f7d\u51fa\u9519\r\n\r\n**Expected behavior**\r\nA clear and concise description of what you expected to happen.\r\n\u5e0c\u671b\u80fd\u6b63\u5e38\u52a0\u8f7dALbert\u6a21\u578b\r\n\r\n**System information**\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): ubuntu 20.04\r\n- Python version: 3.8.3\r\n- HanLP version: '2.0.0-alpha.61'\r\n\r\n**Other info / logs**\r\nInclude any logs or source code that would be helpful to diagnose the problem. If including tracebacks, please include the full traceback. Large logs and files should be attached.\r\n\r\n* [x] I've completed this form and searched the web for solutions.\r\n", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1569/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/1569/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1564", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/1564/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/1564/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/1564/events", "html_url": "https://github.com/hankcs/HanLP/issues/1564", "id": 711159519, "node_id": "MDU6SXNzdWU3MTExNTk1MTk=", "number": 1564, "title": "Cannot process Supplementary Character in Java / \u65e0\u6cd5\u5728Java\u4e2d\u5904\u7406Supplementary\u5b57\u7b26", "user": {"login": "hurui200320", "id": 8587572, "node_id": "MDQ6VXNlcjg1ODc1NzI=", "avatar_url": "https://avatars.githubusercontent.com/u/8587572?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hurui200320", "html_url": "https://github.com/hurui200320", "followers_url": "https://api.github.com/users/hurui200320/followers", "following_url": "https://api.github.com/users/hurui200320/following{/other_user}", "gists_url": "https://api.github.com/users/hurui200320/gists{/gist_id}", "starred_url": "https://api.github.com/users/hurui200320/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hurui200320/subscriptions", "organizations_url": "https://api.github.com/users/hurui200320/orgs", "repos_url": "https://api.github.com/users/hurui200320/repos", "events_url": "https://api.github.com/users/hurui200320/events{/privacy}", "received_events_url": "https://api.github.com/users/hurui200320/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2020-09-29T14:20:01Z", "updated_at": "2021-01-31T04:01:06Z", "closed_at": "2021-01-31T04:01:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\nThank you for reporting a possible bug in HanLP.\r\nPlease fill in the template below to bypass our spam filter.  \r\n\u4ee5\u4e0b\u5fc5\u586b\uff0c\u5426\u5219\u6055\u4e0d\u53d7\u7406\u3002\r\n-->\r\n\r\n**Describe the bug**\r\nA clear and concise description of what the bug is.\r\n\r\nWhen handling supplementary character, HanLP(I tested with pinyin and word segmentation) couldn't handle the supplementary character properly. For short. Java represent a unicode character > 0xFFFF as two sepeprate char, thus HanLP treat them as two seperate Chinese character when getting Pinyin on it. However, those chars not assigned to any validate charset, so the pinyin result would be two 'none', rather than one 'none'.\r\n\r\nWord segmentation cannot recognize it, but would always keep them as a word.\r\n\r\n\u5904\u7406[Supplementary\u5b57\u7b26](https://www.oracle.com/technical-resources/articles/javase/supplementary.html)\u65f6\uff0cHanLP\uff08\u6211\u6d4b\u8bd5\u4e86\u62fc\u97f3\u6807\u6ce8\u548c\u5206\u8bcd\uff09\u4f3c\u4e4e\u6ca1\u6cd5\u6070\u5f53\u7684\u5904\u7406Supplementary\u5b57\u7b26\u3002\u7b80\u5355\u5730\u8bf4\uff0cJava\u5c060xFFFF\u4ee5\u4e0a\u7684Unicode\u5b57\u7b26\u8868\u793a\u4e3a\u4e24\u4e2achar\uff0c\u56e0\u6b64HanLP\u5728\u6807\u6ce8\u62fc\u97f3\u7684\u65f6\u5019\u4f1a\u5c06\u5176\u89c6\u4e3a\u4e24\u4e2a\u72ec\u7acb\u7684\u6c49\u5b57\u3002\u7136\u800c\u8fd9\u4e9bchar\u7684\u503c\u7279\u610f\u7684\u6ca1\u6709\u6307\u5b9a\u7ed9\u4efb\u610f\u6709\u6548\u7684\u5b57\u7b26\u96c6\uff0c\u56e0\u6b64\u62fc\u97f3\u6807\u6ce8\u7684\u7ed3\u679c\u662f\u4e24\u4e2a'none'\uff0c\u800c\u4e0d\u662f\u4e00\u4e2a'none'\r\n\r\n\u5206\u8bcd\u4e5f\u5e76\u4e0d\u80fd\u8bc6\u522b\u8fd9\u79cd\u5b57\u7b26\uff0c\u4f46\u662f\u5206\u8bcd\u603b\u4f1a\u786e\u4fdd\u8fd9\u4e9b\u5b57\u7b26\u662f\u4e00\u4e2a\u8bcd\uff0c\u7ed3\u679c\u4e2d\u4e0d\u4f1a\u4ea7\u751f\u7834\u788e\u7684char\u3002\r\n\r\n**Code to reproduce the issue**\r\nProvide a reproducible test case that is the bare minimum necessary to generate the problem.\r\n\r\n```kotlin\r\nprintln(HanLP.convertToPinyinList(\"\ud87e\ude1b\").map { it.pinyinWithToneMark })\r\n```\r\n\r\n**Describe the current behavior**\r\nA clear and concise description of what happened.\r\n\r\nGet: `[none, none]`\r\n`\ud87e\ude1b` would be represent as `\\uD87E\\uDE1B` in Java, none of them is validate Chinese character. So got 2 `none`.\r\n`\ud87e\ude1b`\u5728Java\u4e2d\u88ab\u8868\u793a\u4e3a `\\uD87E\\uDE1B`\uff0c\u6bcf\u4e00\u4e2a\u5355\u72ec\u7684char\u90fd\u4e0d\u662f\u6709\u6548\u7684\u4e2d\u6587\u5b57\u7b26\uff0c\u56e0\u6b64\u5f97\u5230\u4e86\u4e24\u4e2a`none`\u3002\r\n\r\n**Expected behavior**\r\nA clear and concise description of what you expected to happen.\r\n\r\nShould get: `[f\u00e9n]`, or at least a `[none]`\r\n\r\n**System information**\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Windows 10 2004\r\n- Python version: Not available\r\n- HanLP version: 1.7.8\r\n- Java Version: Java 11\r\n\r\n**Other info / logs**\r\nInclude any logs or source code that would be helpful to diagnose the problem. If including tracebacks, please include the full traceback. Large logs and files should be attached.\r\n\r\n* [x] I've completed this form and searched the web for solutions.\r\n", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1564/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/1564/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1552", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/1552/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/1552/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/1552/events", "html_url": "https://github.com/hankcs/HanLP/issues/1552", "id": 690164149, "node_id": "MDU6SXNzdWU2OTAxNjQxNDk=", "number": 1552, "title": "Albert_tokenination.py \u7f3a\u5931\u4e00\u4e2aimport ", "user": {"login": "hughimr", "id": 9780493, "node_id": "MDQ6VXNlcjk3ODA0OTM=", "avatar_url": "https://avatars.githubusercontent.com/u/9780493?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hughimr", "html_url": "https://github.com/hughimr", "followers_url": "https://api.github.com/users/hughimr/followers", "following_url": "https://api.github.com/users/hughimr/following{/other_user}", "gists_url": "https://api.github.com/users/hughimr/gists{/gist_id}", "starred_url": "https://api.github.com/users/hughimr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hughimr/subscriptions", "organizations_url": "https://api.github.com/users/hughimr/orgs", "repos_url": "https://api.github.com/users/hughimr/repos", "events_url": "https://api.github.com/users/hughimr/events{/privacy}", "received_events_url": "https://api.github.com/users/hughimr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-09-01T13:54:43Z", "updated_at": "2020-09-01T15:32:36Z", "closed_at": "2020-09-01T15:31:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "\u7f3a\u5931 import sentencepiece as spm", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1552/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/1552/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1551", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/1551/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/1551/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/1551/events", "html_url": "https://github.com/hankcs/HanLP/issues/1551", "id": 689059168, "node_id": "MDU6SXNzdWU2ODkwNTkxNjg=", "number": 1551, "title": "\u5728\u8fd0\u884c\"HanLP-doc-zh/HanLP-doc-zh/tests/train/zh/train_msra_ner_albert.py\"\u4ee3\u7801\u65f6\u62a5\u9519\u3002", "user": {"login": "advise2009899", "id": 42796904, "node_id": "MDQ6VXNlcjQyNzk2OTA0", "avatar_url": "https://avatars.githubusercontent.com/u/42796904?v=4", "gravatar_id": "", "url": "https://api.github.com/users/advise2009899", "html_url": "https://github.com/advise2009899", "followers_url": "https://api.github.com/users/advise2009899/followers", "following_url": "https://api.github.com/users/advise2009899/following{/other_user}", "gists_url": "https://api.github.com/users/advise2009899/gists{/gist_id}", "starred_url": "https://api.github.com/users/advise2009899/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/advise2009899/subscriptions", "organizations_url": "https://api.github.com/users/advise2009899/orgs", "repos_url": "https://api.github.com/users/advise2009899/repos", "events_url": "https://api.github.com/users/advise2009899/events{/privacy}", "received_events_url": "https://api.github.com/users/advise2009899/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-08-31T09:24:37Z", "updated_at": "2020-08-31T18:04:46Z", "closed_at": "2020-08-31T18:04:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\nThank you for reporting a possible bug in HanLP.\r\nPlease fill in the template below to bypass our spam filter.  \r\n\u4ee5\u4e0b\u5fc5\u586b\uff0c\u5426\u5219\u6055\u4e0d\u53d7\u7406\u3002\r\n-->\r\n\r\n**Describe the bug**\r\nA clear and concise description of what the bug is.\r\n\u5728\u8fd0\u884c\"HanLP-doc-zh/HanLP-doc-zh/tests/train/zh/train_msra_ner_albert.py\"\u4ee3\u7801\u65f6\u62a5\u9519\u3002\r\n**Code to reproduce the issue**\r\nProvide a reproducible test case that is the bare minimum necessary to generate the problem.\r\n\u8fd0\u884c\u8fd9\u4e2aHanLP-doc-zh/HanLP-doc-zh/tests/train/zh/train_msra_ner_albert.py\u811a\u672c\u3002\r\n```python\r\n```\r\n\r\n**Describe the current behavior**\r\nA clear and concise description of what happened.\r\n\u62a5\u9519\u4fe1\u606fTypeError: apply_gradients() got an unexpected keyword argument 'experimental_aggregate_gradients'\r\n**Expected behavior**\r\nA clear and concise description of what you expected to happen.\r\n\u6b63\u5e38\u8bad\u7ec3\r\n**System information**\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04):\r\n- Python version:python3.7\r\n- HanLP version:HanLP 2.0\r\n\r\n**Other info / logs**\r\nInclude any logs or source code that would be helpful to diagnose the problem. If including tracebacks, please include the full traceback. Large logs and files should be attached.\r\nTraceback (most recent call last):\r\n  File \"C:/Users/Administrator/Desktop/HanLP-doc-zh/HanLP-doc-zh/tests/train/zh/train_msra_ner_albert.py\", line 14, in <module>\r\n    metrics='f1')\r\n  File \"C:\\Users\\Administrator\\Desktop\\HanLP-doc-zh\\HanLP-doc-zh\\hanlp\\components\\ner.py\", line 83, in fit\r\n    return super().fit(**merge_locals_kwargs(locals(), kwargs))\r\n  File \"C:\\Users\\Administrator\\Desktop\\HanLP-doc-zh\\HanLP-doc-zh\\hanlp\\components\\taggers\\transformers\\transformer_tagger.py\", line 57, in fit\r\n    return super().fit(**merge_locals_kwargs(locals(), kwargs))\r\n  File \"C:\\Users\\Administrator\\Desktop\\HanLP-doc-zh\\HanLP-doc-zh\\hanlp\\common\\component.py\", line 352, in fit\r\n    metrics=metrics, overwrite=True))\r\n  File \"C:\\Users\\Administrator\\Desktop\\HanLP-doc-zh\\HanLP-doc-zh\\hanlp\\components\\taggers\\transformers\\transformer_tagger.py\", line 93, in train_loop\r\n    validation_steps=dev_steps,\r\n  File \"C:\\Users\\Administrator\\AppData\\Roaming\\Python\\Python37\\site-packages\\tensorflow\\python\\keras\\engine\\training.py\", line 108, in _method_wrapper\r\n    return method(self, *args, **kwargs)\r\n  File \"C:\\Users\\Administrator\\AppData\\Roaming\\Python\\Python37\\site-packages\\tensorflow\\python\\keras\\engine\\training.py\", line 1098, in fit\r\n    tmp_logs = train_function(iterator)\r\n  File \"C:\\Users\\Administrator\\AppData\\Roaming\\Python\\Python37\\site-packages\\tensorflow\\python\\keras\\engine\\training.py\", line 806, in train_function\r\n    return step_function(self, iterator)\r\n  File \"C:\\Users\\Administrator\\AppData\\Roaming\\Python\\Python37\\site-packages\\tensorflow\\python\\keras\\engine\\training.py\", line 796, in step_function\r\n    outputs = model.distribute_strategy.run(run_step, args=(data,))\r\n  File \"C:\\Users\\Administrator\\AppData\\Roaming\\Python\\Python37\\site-packages\\tensorflow\\python\\distribute\\distribute_lib.py\", line 1211, in run\r\n    return self._extended.call_for_each_replica(fn, args=args, kwargs=kwargs)\r\n  File \"C:\\Users\\Administrator\\AppData\\Roaming\\Python\\Python37\\site-packages\\tensorflow\\python\\distribute\\distribute_lib.py\", line 2585, in call_for_each_replica\r\n    return self._call_for_each_replica(fn, args, kwargs)\r\n  File \"C:\\Users\\Administrator\\AppData\\Roaming\\Python\\Python37\\site-packages\\tensorflow\\python\\distribute\\distribute_lib.py\", line 2945, in _call_for_each_replica\r\n    return fn(*args, **kwargs)\r\n  File \"C:\\Users\\Administrator\\AppData\\Roaming\\Python\\Python37\\site-packages\\tensorflow\\python\\autograph\\impl\\api.py\", line 275, in wrapper\r\n    return func(*args, **kwargs)\r\n  File \"C:\\Users\\Administrator\\AppData\\Roaming\\Python\\Python37\\site-packages\\tensorflow\\python\\keras\\engine\\training.py\", line 789, in run_step\r\n    outputs = model.train_step(data)\r\n  File \"C:\\Users\\Administrator\\AppData\\Roaming\\Python\\Python37\\site-packages\\tensorflow\\python\\keras\\engine\\training.py\", line 757, in train_step\r\n    self.trainable_variables)\r\n  File \"C:\\Users\\Administrator\\AppData\\Roaming\\Python\\Python37\\site-packages\\tensorflow\\python\\keras\\engine\\training.py\", line 2745, in _minimize\r\n    experimental_aggregate_gradients=False)\r\nTypeError: apply_gradients() got an unexpected keyword argument 'experimental_aggregate_gradients'\r\n* [x] I've completed this form and searched the web for solutions.\r\n", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1551/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/1551/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1542", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/1542/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/1542/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/1542/events", "html_url": "https://github.com/hankcs/HanLP/issues/1542", "id": 684012099, "node_id": "MDU6SXNzdWU2ODQwMTIwOTk=", "number": 1542, "title": "URLTokenizer \u4e0d\u80fd\u8bc6\u522b\u4e2d\u6587\u9876\u7ea7\u57df\u540d", "user": {"login": "XhstormR", "id": 10527522, "node_id": "MDQ6VXNlcjEwNTI3NTIy", "avatar_url": "https://avatars.githubusercontent.com/u/10527522?v=4", "gravatar_id": "", "url": "https://api.github.com/users/XhstormR", "html_url": "https://github.com/XhstormR", "followers_url": "https://api.github.com/users/XhstormR/followers", "following_url": "https://api.github.com/users/XhstormR/following{/other_user}", "gists_url": "https://api.github.com/users/XhstormR/gists{/gist_id}", "starred_url": "https://api.github.com/users/XhstormR/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/XhstormR/subscriptions", "organizations_url": "https://api.github.com/users/XhstormR/orgs", "repos_url": "https://api.github.com/users/XhstormR/repos", "events_url": "https://api.github.com/users/XhstormR/events{/privacy}", "received_events_url": "https://api.github.com/users/XhstormR/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 2293823475, "node_id": "MDU6TGFiZWwyMjkzODIzNDc1", "url": "https://api.github.com/repos/hankcs/HanLP/labels/wontfix", "name": "wontfix", "color": "e99695", "default": true, "description": "The problem described is a bug which will never be fixed."}], "state": "closed", "locked": false, "assignee": {"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2020-08-22T15:05:13Z", "updated_at": "2021-04-13T17:53:46Z", "closed_at": "2020-08-22T15:20:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\nThank you for reporting a possible bug in HanLP.\r\nPlease fill in the template below to bypass our spam filter.  \r\n\u4ee5\u4e0b\u5fc5\u586b\uff0c\u5426\u5219\u6055\u4e0d\u53d7\u7406\u3002\r\n-->\r\n\r\n**Describe the bug**\r\n\u8fd0\u884c\u6d4b\u8bd5 Demo https://github.com/hankcs/HanLP/blob/1.x/src/test/java/com/hankcs/demo/DemoURLRecognition.java \uff0c\u53d1\u73b0\u4e0d\u80fd\u8bc6\u522b\u51fa\u5e26\u4e2d\u6587\u9876\u7ea7\u57df\u540d\u7684\u7f51\u5740\u3002\r\n\r\n**Code to reproduce the issue**\r\n\r\n```python\r\n        String text =\r\n                \"HanLP\u7684\u9879\u76ee\u5730\u5740\u662fhttps://github.com/hankcs/HanLP\uff0c\" +\r\n                        \"\u53d1\u5e03\u5730\u5740\u662fhttps://github.com/hankcs/HanLP/releases\uff0c\" +\r\n                        \"\u6211\u6709\u65f6\u5019\u4f1a\u5728www.hankcs.com\u4e0a\u9762\u53d1\u5e03\u4e00\u4e9b\u6d88\u606f\uff0c\" +\r\n                        \"\u6211\u7684\u5fae\u535a\u662fhttp://weibo.com/hankcs/\uff0c\u4f1a\u540c\u6b65\u63a8\u9001hankcs.com\u7684\u65b0\u95fb\u3002\" +\r\n                        \"\u542c\u8bf4.\u4e2d\u56fd\u57df\u540d\u5f00\u653e\u7533\u8bf7\u4e86,\u4f46\u6211\u5e76\u6ca1\u6709\u7533\u8bf7hankcs.\u4e2d\u56fd,\u56e0\u4e3a\u7a77\u2026\u2026\";\r\n        List<Term> termList = URLTokenizer.segment(text);\r\n        System.out.println(termList);\r\n        for (Term term : termList)\r\n        {\r\n            if (term.nature == Nature.xu)\r\n                System.out.println(term.word);\r\n        }\r\n```\r\n\u8f93\u51fa\uff1a\r\n```\r\n[HanLP/nx, \u7684/uj, \u9879\u76ee/n, \u5730\u5740/n, \u662f/v, https://github.com/hankcs/HanLP/xu, \uff0c/w, \u53d1\u5e03/v, \u5730\u5740/n, \u662f/v, https://github.com/hankcs/HanLP/releases/xu, \uff0c/w, \u6211/r, \u6709\u65f6\u5019/d, \u4f1a/v, \u5728/p, www/nx, ./w, hankcs/nrf, ./w, com/nx, \u4e0a\u9762/f, \u53d1\u5e03/v, \u4e00\u4e9b/m, \u6d88\u606f/n, \uff0c/w, \u6211/r, \u7684/uj, \u5fae\u535a/n, \u662f/v, http://weibo.com/hankcs/xu, //w, \uff0c/w, \u4f1a/v, \u540c\u6b65/vd, \u63a8\u9001/nz, hankcs/nrf, ./w, com/nx, \u7684/uj, \u65b0\u95fb/n, \u3002/w, \u542c\u8bf4/v, ./w, \u4e2d\u56fd/ns, \u57df\u540d/n, \u5f00\u653e/v, \u7533\u8bf7/v, \u4e86/ul, ,/w, \u4f46/c, \u6211/r, \u5e76/c, \u6ca1\u6709/v, \u7533\u8bf7/v, hankcs/nrf, ./w, \u4e2d\u56fd/ns, ,/w, \u56e0\u4e3a/c, \u7a77/a, \u2026\u2026/w]\r\nhttps://github.com/hankcs/HanLP\r\nhttps://github.com/hankcs/HanLP/releases\r\nhttp://weibo.com/hankcs\r\n```\r\n\r\n**Describe the current behavior**\r\n\u4e0d\u80fd\u8bc6\u522b\u51fa\u5e26\u4e2d\u6587\u9876\u7ea7\u57df\u540d\u7684\u7f51\u5740\u3002\r\n\r\n**Expected behavior**\r\n\u80fd\u8bc6\u522b\u51fa\u5e26\u4e2d\u6587\u9876\u7ea7\u57df\u540d\u7684\u7f51\u5740\u3002\r\n\r\n**System information**\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04):\r\n- Python version:\r\n- HanLP version:\r\n\r\n**Other info / logs**\r\nInclude any logs or source code that would be helpful to diagnose the problem. If including tracebacks, please include the full traceback. Large logs and files should be attached.\r\n\r\n* [x] I've completed this form and searched the web for solutions.\r\n", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1542/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/1542/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1499", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/1499/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/1499/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/1499/events", "html_url": "https://github.com/hankcs/HanLP/issues/1499", "id": 648982352, "node_id": "MDU6SXNzdWU2NDg5ODIzNTI=", "number": 1499, "title": "\u4f9d\u5b58\u6811\u7ed3\u6784\u9519\u8bef\uff0c\u67d0\u4e9bhead index\u6839\u672c\u4e0d\u5b58\u5728", "user": {"login": "withchencheng", "id": 6984229, "node_id": "MDQ6VXNlcjY5ODQyMjk=", "avatar_url": "https://avatars.githubusercontent.com/u/6984229?v=4", "gravatar_id": "", "url": "https://api.github.com/users/withchencheng", "html_url": "https://github.com/withchencheng", "followers_url": "https://api.github.com/users/withchencheng/followers", "following_url": "https://api.github.com/users/withchencheng/following{/other_user}", "gists_url": "https://api.github.com/users/withchencheng/gists{/gist_id}", "starred_url": "https://api.github.com/users/withchencheng/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/withchencheng/subscriptions", "organizations_url": "https://api.github.com/users/withchencheng/orgs", "repos_url": "https://api.github.com/users/withchencheng/repos", "events_url": "https://api.github.com/users/withchencheng/events{/privacy}", "received_events_url": "https://api.github.com/users/withchencheng/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2020-07-01T13:28:29Z", "updated_at": "2020-07-03T02:44:47Z", "closed_at": "2020-07-03T02:44:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\nThank you for reporting a possible bug in HanLP.\r\nPlease fill in the template below to bypass our spam filter.  \r\n\u4ee5\u4e0b\u5fc5\u586b\uff0c\u5426\u5219\u76f4\u63a5\u5173\u95ed\u3002\r\n-->\r\n\r\n**Describe the bug**\r\n\u4f9d\u5b58\u6811\u7ed3\u6784\u9519\u8bef\uff0c\u67d0\u4e9bhead index\u6839\u672c\u4e0d\u5b58\u5728\r\n\r\n**Code to reproduce the issue**\r\n\r\n```python\r\n>>> syntactic_parser = hanlp.load(hanlp.pretrained.dep.CTB7_BIAFFINE_DEP_ZH)\r\n>>> print(syntactic_parser([(\u5c3c\u51ef\u6069, 'NR'), ('\u624b\u673a', 'NN'), ('\u600e\u4e48\u6837', 'AD'), ('\uff1f', 'PU')])) #\u8fd9\u662fhanlp\u5b98\u65b9demo pipeline\u8f93\u51fa\u7684\u5206\u8bcd\u7ed3\u679c\r\n1       \u5c3c\u51ef\u6069  _       NR      _       _       2       nn      _       _\r\n2       \u624b\u673a    _       NN      _       _       4       assmod  _       _\r\n3       \u600e\u4e48\u6837  _       AD      _       _       2       assm    _       _\r\n4       \uff1f      _       PU      _       _       7       nsubj   _       _\r\n```\r\n\r\n**Describe the current behavior**\r\n\u4e0a\u8ff0\u6837\u4f8b\u4e2d\uff0c\u2018\uff1f\u2019\u7684head\u8282\u70b97\u5b8c\u5168\u4e0d\u5b58\u5728\r\n\r\n**Expected behavior**\r\nhead index <=  mac vertex index\r\n\r\n\r\n**System information**\r\n- OS Platform and Distribution :centos 7\r\n- Python version: 3.7.6\r\n- HanLP version: hanlp-2.0.0a44\r\n\r\n**Other info / logs**\r\n\u597d\u591a\u90fd\u6709\u7ed3\u6784\u9519\u8bef\uff0c\u8be6\u89c1  [bug_syn.txt](https://github.com/hankcs/HanLP/files/4857936/bug_syn.txt)\r\n```\r\n\u5c3c\u51ef\u6069\u624b\u673a\u600e\u4e48\u6837\uff1f\r\n1       \u5c3c\u51ef\u6069  _       NR      _       _       2       nn      _       _\r\n2       \u624b\u673a    _       NN      _       _       4       assmod  _       _\r\n3       \u600e\u4e48\u6837  _       AD      _       _       2       assm    _       _\r\n4       \uff1f      _       PU      _       _       7       nsubj   _       _\r\n\r\n\u5c3c\u51ef\u6069\u8001\u4eba\u673a\u624b\u673a\u597d\u7528\u5417\r\n1       \u5c3c\u51ef\u6069  _       NR      _       _       3       nn      _       _\r\n2       \u8001\u4eba    _       NN      _       _       3       nummod  _       _\r\n3       \u673a\u624b\u673a  _       NN      _       _       5       nn      _       _\r\n4       \u597d      _       AD      _       _       5       nn      _       _\r\n5       \u7528      _       VV      _       _       7       nsubj   _       _\r\n6       \u5417      _       SP      _       _       7       mmod    _       _\r\n\r\n\u5929\u8bed\u624b\u673a\u5230\u5e95\u600e\u4e48\u6837\uff1f\r\n1       \u5929\u8bed    _       NN      _       _       4       dep     _       _\r\n2       \u624b\u673a    _       NN      _       _       4       punct   _       _\r\n3       \u5230\u5e95    _       AD      _       _       4       nummod  _       _\r\n4       \u600e\u4e48\u6837  _       AD      _       _       6       nsubj   _       _\r\n5       \uff1f      _       PU      _       _       6       nsubj   _       _\r\n\r\n\u5929\u8bed\u667a\u80fd\u624b\u673a\u600e\u4e48\u6837?\r\n1       \u5929\u8bed    _       NN      _       _       2       nn      _       _\r\n2       \u667a\u80fd    _       NN      _       _       6       nn      _       _\r\n3       \u624b\u673a    _       NN      _       _       6       nn      _       _\r\n4       \u600e\u4e48\u6837  _       AD      _       _       5       nn      _       _\r\n5       ?       _       PU      _       _       6       nn      _       _\r\n\r\n\r\n```\r\n\r\n\r\n* [x] I've completed this form and searched the web for solutions.\r\n", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1499/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/1499/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1472", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/1472/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/1472/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/1472/events", "html_url": "https://github.com/hankcs/HanLP/issues/1472", "id": 617232915, "node_id": "MDU6SXNzdWU2MTcyMzI5MTU=", "number": 1472, "title": "semantic parser\u7ed3\u679c\u65e0\u6cd5\u4f7f\u7528pickle\u8fdb\u884c\u6301\u4e45\u5316", "user": {"login": "luoy2", "id": 20626234, "node_id": "MDQ6VXNlcjIwNjI2MjM0", "avatar_url": "https://avatars.githubusercontent.com/u/20626234?v=4", "gravatar_id": "", "url": "https://api.github.com/users/luoy2", "html_url": "https://github.com/luoy2", "followers_url": "https://api.github.com/users/luoy2/followers", "following_url": "https://api.github.com/users/luoy2/following{/other_user}", "gists_url": "https://api.github.com/users/luoy2/gists{/gist_id}", "starred_url": "https://api.github.com/users/luoy2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/luoy2/subscriptions", "organizations_url": "https://api.github.com/users/luoy2/orgs", "repos_url": "https://api.github.com/users/luoy2/repos", "events_url": "https://api.github.com/users/luoy2/events{/privacy}", "received_events_url": "https://api.github.com/users/luoy2/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-05-13T08:01:30Z", "updated_at": "2020-05-13T14:51:00Z", "closed_at": "2020-05-13T14:50:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\nThank you for reporting a possible bug in HanLP.\r\nPlease fill in the template below to bypass our spam filter.  \r\n\u4ee5\u4e0b\u5fc5\u586b\uff0c\u5426\u5219\u76f4\u63a5\u5173\u95ed\u3002\r\n-->\r\n\r\n**Describe the bug**\r\n\u9274\u4e8e\u6df1\u5ea6\u5b66\u4e60\u6a21\u578b\u901f\u5ea6\u95ee\u9898\u4ee5\u53ca\u5df2\u77e5\u7684tf2\u5185\u5b58\u6cc4\u9732\u95ee\u9898\uff0c \u4e00\u4e2a\u89e3\u51b3\u529e\u6cd5\u662f\u4f7f\u7528\u79bb\u7ebf\u4efb\u52a1\u5904\u7406\u6570\u636e\uff0c \u7136\u540e\u6301\u4e45\u5316\u6570\u636e\u540e\u518d\u63a5\u5165\u4e0b\u6e38\u4efb\u52a1\u3002 \u7136\u800c\uff0c \u5728\u6d4b\u8bd5\u6301\u4e45\u5316\u8fc7\u7a0b\u4e2d\uff0c \u53d1\u73b0\u4f3c\u4e4e\u7531\u4e8e`SerializableDict`\u7c7b\u6ca1\u6709implement `__getstate__` method, \u5bfc\u81f4semantic analysis \u7ed3\u679c\u65e0\u6cd5\u88abpickle\u6301\u4e45\u5316\r\n\r\n**Code to reproduce the issue**\r\nProvide a reproducible test case that is the bare minimum necessary to generate the problem.\r\n\r\n```python\r\nimport os\r\nos.environ['CUDA_VISIBLE_DEVICES'] = \"-1\"\r\nimport hanlp\r\nimport pickle\r\nimport traceback\r\ntokenizer = hanlp.load(hanlp.pretrained.cws.PKU_NAME_MERGED_SIX_MONTHS_CONVSEG)\r\ntagger = hanlp.load(hanlp.pretrained.pos.CTB5_POS_RNN_FASTTEXT_ZH)\r\nsemantic_parser = hanlp.load(hanlp.pretrained.sdp.SEMEVAL16_NEWS_BIAFFINE_ZH)\r\ntext = \"\"\"HanLP\u662f\u4e00\u7cfb\u5217\u6a21\u578b\u4e0e\u7b97\u6cd5\u7ec4\u6210\u7684\u81ea\u7136\u8bed\u8a00\u5904\u7406\u5de5\u5177\u5305\uff0c\u76ee\u6807\u662f\u666e\u53ca\u81ea\u7136\u8bed\u8a00\u5904\u7406\u5728\u751f\u4ea7\u73af\u5883\u4e2d\u7684\u5e94\u7528\u3002\r\nHanLP\u5177\u5907\u529f\u80fd\u5b8c\u5584\u3001\u6027\u80fd\u9ad8\u6548\u3001\u67b6\u6784\u6e05\u6670\u3001\u8bed\u6599\u65f6\u65b0\u3001\u53ef\u81ea\u5b9a\u4e49\u7684\u7279\u70b9\u3002\u5185\u90e8\u7b97\u6cd5\u7ecf\u8fc7\u5de5\u4e1a\u754c\u548c\u5b66\u672f\u754c\u8003\u9a8c\uff0c\u914d\u5957\u4e66\u7c4d\u300a\u81ea\u7136\u8bed\u8a00\u5904\u7406\u5165\u95e8\u300b\u5df2\u7ecf\u51fa\u7248\u3002\"\"\"\r\n\r\npipeline = hanlp.pipeline() \\\r\n    .append(hanlp.utils.rules.split_sentence, output_key='sentences') \\\r\n    .append(tokenizer, output_key='tokens') \\\r\n    .append(tagger, output_key='part_of_speech_tags') \\\r\n    .append(semantic_parser, input_key=('tokens', 'part_of_speech_tags'), output_key='semantic_dependencies')\r\nres = pipeline(text)\r\n\r\nx = res['semantic_dependencies'][0]\r\n\r\nprint(\"direct dumping result....\")\r\ntry:\r\n    with open('tests/test_hanlp.pk', 'wb') as f:\r\n        pickle.dump(res, f)\r\nexcept Exception as e:\r\n    traceback.print_exc()\r\n\r\nprint(\"dumping dict(result) with semantic....\")\r\ntry:\r\n    with open('tests/test_hanlp.pk', 'wb') as f:\r\n        pickle.dump(dict(res), f)\r\n    print(\"dump succeeded\")\r\nexcept Exception as e:\r\n    traceback.print_exc()\r\n\r\nprint(\"dumping semantic result....\")\r\ntry:\r\n    with open('tests/test_hanlp.pk', 'wb') as f:\r\n        pickle.dump(x[0], f)\r\nexcept Exception as e:\r\n    traceback.print_exc()\r\n\r\nprint(\"direct dumping result without semantic....\")\r\ndel res['semantic_dependencies']\r\ntry:\r\n    with open('tests/test_hanlp.pk', 'wb') as f:\r\n        pickle.dump(res, f)\r\nexcept Exception as e:\r\n    traceback.print_exc()\r\n\r\nprint(\"dumping dict(result) without semantic....\")\r\ntry:\r\n    with open('tests/test_hanlp.pk', 'wb') as f:\r\n        pickle.dump(dict(res), f)\r\n    print(\"dump succeeded\")\r\nexcept Exception as e:\r\n    traceback.print_exc()\r\n```\r\n\r\n**Describe the current behavior**\r\n5\u4e2a\u5b9e\u9a8c\uff1a\r\n- \u76f4\u63a5pickle, \u5931\u8d25\r\n- \u7ed9pipeline result \u524d\u9762\u5c01\u88c5\u4e00\u5c42dict\uff0c \u5931\u8d25\r\n- \u53eapickle semantic parser result\uff0c \u5931\u8d25\r\n- \u5220\u6389result\u7684semantic parser\u90e8\u5206\uff0c \u76f4\u63a5dump\uff0c \u5931\u8d25\r\n- \u7ed9\u5220\u6389semantic parser\u90e8\u5206\u7684result\u5c01\u88c5\u4e00\u5c42dict\uff0c \u6210\u529f\r\n\r\n\r\n**Expected behavior**\r\n\u7ed9result \u5c01\u88c5\u4e00\u5c42dict\u540e\u5e94\u8be5\u90fd\u53ef\u4ee5\u7528pickle\u8fdb\u884c\u5e8f\u5217\u5316\u5e76dump?\r\n\r\n\r\n**System information**\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Windows 10\r\n- Python version: 3.7\r\n- HanLP version: 2.0.0-alpha.43\r\n\r\n\r\n**Other info / logs**\r\n```\r\ndirect dumping result....\r\nTraceback (most recent call last):\r\n  File \"<input>\", line 6, in <module>\r\nTypeError: 'list' object is not callable\r\ndumping dict(result) with semantic....\r\nTraceback (most recent call last):\r\n  File \"<input>\", line 13, in <module>\r\n  File \"C:\\ProgramData\\Anaconda3\\envs\\tf2_gpu\\lib\\site-packages\\hanlp\\common\\structure.py\", line 92, in __getattr__\r\n    return self.__getitem__(key)\r\nKeyError: '__getstate__'\r\ndumping semantic result....\r\nTraceback (most recent call last):\r\n  File \"<input>\", line 21, in <module>\r\n  File \"C:\\ProgramData\\Anaconda3\\envs\\tf2_gpu\\lib\\site-packages\\hanlp\\common\\structure.py\", line 92, in __getattr__\r\n    return self.__getitem__(key)\r\nKeyError: '__getstate__'\r\ndirect dumping result without semantic....\r\nTraceback (most recent call last):\r\n  File \"<input>\", line 29, in <module>\r\nTypeError: 'list' object is not callable\r\ndumping dict(result) without semantic....\r\ndump succeeded\r\n```\r\n\r\n* [x] I've completed this form and searched the web for solutions.\r\n", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1472/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/1472/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1445", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/1445/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/1445/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/1445/events", "html_url": "https://github.com/hankcs/HanLP/issues/1445", "id": 593276793, "node_id": "MDU6SXNzdWU1OTMyNzY3OTM=", "number": 1445, "title": "\u57fa\u4e8ebert\u81ea\u5b9a\u4e49\u5206\u8bcd\u8bad\u7ec3\u51fa\u9519", "user": {"login": "wodejiafeiyu", "id": 35161739, "node_id": "MDQ6VXNlcjM1MTYxNzM5", "avatar_url": "https://avatars.githubusercontent.com/u/35161739?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wodejiafeiyu", "html_url": "https://github.com/wodejiafeiyu", "followers_url": "https://api.github.com/users/wodejiafeiyu/followers", "following_url": "https://api.github.com/users/wodejiafeiyu/following{/other_user}", "gists_url": "https://api.github.com/users/wodejiafeiyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/wodejiafeiyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wodejiafeiyu/subscriptions", "organizations_url": "https://api.github.com/users/wodejiafeiyu/orgs", "repos_url": "https://api.github.com/users/wodejiafeiyu/repos", "events_url": "https://api.github.com/users/wodejiafeiyu/events{/privacy}", "received_events_url": "https://api.github.com/users/wodejiafeiyu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-04-03T10:19:59Z", "updated_at": "2020-04-04T01:00:39Z", "closed_at": "2020-04-04T01:00:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\nThank you for reporting a possible bug in HanLP.\r\nPlease fill in the template below to bypass our spam filter.  \r\n\u4ee5\u4e0b\u5fc5\u586b\uff0c\u5426\u5219\u76f4\u63a5\u5173\u95ed\u3002\r\n-->\r\n\r\n**Describe the bug**\r\ntests/train/zh/cws/train_msr_cws_bert.py \u8fd0\u884c\u51fa\u9519\r\nTypeError: `generator` yielded an element that did not match the expected structure. The expected structure was ((tf.int32, tf.int32, tf.int32), tf.int32), but the yielded element was (['\"', '\u4eba', '\u4eec', '\u5e38', '\u8bf4', '\u751f', '\u6d3b', '\u662f', '\u4e00', '\u90e8', '\u6559', '\u79d1', '\u4e66', ',', '\u800c', '\u8840', '\u4e0e', '\u706b', '\u7684', '\u6218', '\u4e89', '\u66f4', '\u662f', '\u4e0d', '\u53ef', '\u591a', '\u5f97', '\u7684', '\u6559', '\u79d1', '\u4e66', ',', '\u5979', '\u786e', '\u5b9e', '\u662f', '\u540d', '\u526f', '\u5176', '\u5b9e', '\u7684', '\u2018', '\u6211', '\u7684', '\u5927', '\u5b66', '\u2019', '\u3002'], ['S', 'B', 'E', 'S', 'S', 'B', 'E', 'S', 'S', 'S', 'B', 'M', 'E', 'S', 'S', 'S', 'S', 'S', 'S', 'B', 'E', 'S', 'S', 'B', 'M', 'M', 'E', 'S', 'B', 'M', 'E', 'S', 'S', 'B', 'E', 'S', 'B', 'M', 'M', 'E', 'S', 'S', 'S', 'S', 'B', 'E', 'S', 'S']).\r\n**Code to reproduce the issue**\r\nProvide a reproducible test case that is the bare minimum necessary to generate the problem.\r\n\r\n```# -*- coding:utf-8 -*-\r\n# Author: hankcs\r\n# Date: 2019-12-21 15:39\r\nfrom hanlp.components.tok import TransformerTokenizer\r\nfrom hanlp.datasets.cws.sighan2005.msr import SIGHAN2005_MSR_TRAIN, SIGHAN2005_MSR_VALID, SIGHAN2005_MSR_TEST\r\nfrom tests import cdroot\r\nfrom bert.loader import bert_models_google\r\nbert_models_google['bert-base-chinese']='/usr/cws/bert-base-chinese'\r\ncdroot()\r\ntokenizer = TransformerTokenizer()\r\nsave_dir = 'data/model/cws_bert_base_msra'\r\ntokenizer.fit(SIGHAN2005_MSR_TRAIN, SIGHAN2005_MSR_VALID, save_dir, transformer='bert-base-chinese',\r\n              metrics='f1')\r\n# tagger.load(save_dir)\r\nprint(tokenizer.predict(['\u4e2d\u592e\u6c11\u65cf\u4e50\u56e2\u79bb\u5f00\u5317\u4eac\u524d\u5f80\u7ef4\u4e5f\u7eb3', '\u5546\u54c1\u548c\u670d\u52a1']))\r\ntokenizer.evaluate(SIGHAN2005_MSR_TEST, save_dir=save_dir)\r\nprint(f'Model saved in {save_dir}')\r\n\r\n```\r\n\r\n**Describe the current behavior**\r\n\u6a21\u578b\u80fd\u591f\u52a0\u8f7d\u7684\uff0c\u4f46\u662fdataset\u91cc\u90fd\u662f\u4e2d\u6587\uff0c\u5e94\u8be5\u662f\u4e2d\u6587\u7684\u8bcd\u8f6c\u6210inputids\u6709\u9519\u8bef\uff0c\u6240\u4ee5\u62a5\u4e86`generator` yielded an element that did not match the expected structure. \u5b9a\u4f4d\u5230\u7684\u662fhanlp/common/transform.py \u91cc\u7684samples = self.inputs_to_samples(inputs, gold)\uff0cinputs_to_samples \u6ca1\u6709\u8c03\u7528\u7c7b\u4f3cconvert_examples_to_features\u8fd9\u79cd\u65b9\u6cd5\uff0c\u6240\u4ee5\u5168\u662f\u4e2d\u6587\u3002\r\n\u6211\u662f\u901a\u8fc7pip install hanlp \u5b89\u88c5\u7684\r\n**Expected behavior**\r\nA clear and concise description of what you expected to happen.\r\n\r\n**System information**\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04):\r\n- Python version: 3.6.8\r\n- HanLP version: hanlp-2.0.0a39\r\n\r\n**Other info / logs**\r\nInclude any logs or source code that would be helpful to diagnose the problem. If including tracebacks, please include the full traceback. Large logs and files should be attached.\r\n\r\n* [x] I've completed this form and searched the web for solutions.\r\n", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1445/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/1445/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1442", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/1442/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/1442/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/1442/events", "html_url": "https://github.com/hankcs/HanLP/issues/1442", "id": 588310521, "node_id": "MDU6SXNzdWU1ODgzMTA1MjE=", "number": 1442, "title": "\u4f9d\u5b58\u53e5\u6cd5\u5206\u6790\u52a0\u8f7d\u6a21\u578b\u51fa\u9519", "user": {"login": "menghuu", "id": 15952209, "node_id": "MDQ6VXNlcjE1OTUyMjA5", "avatar_url": "https://avatars.githubusercontent.com/u/15952209?v=4", "gravatar_id": "", "url": "https://api.github.com/users/menghuu", "html_url": "https://github.com/menghuu", "followers_url": "https://api.github.com/users/menghuu/followers", "following_url": "https://api.github.com/users/menghuu/following{/other_user}", "gists_url": "https://api.github.com/users/menghuu/gists{/gist_id}", "starred_url": "https://api.github.com/users/menghuu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/menghuu/subscriptions", "organizations_url": "https://api.github.com/users/menghuu/orgs", "repos_url": "https://api.github.com/users/menghuu/repos", "events_url": "https://api.github.com/users/menghuu/events{/privacy}", "received_events_url": "https://api.github.com/users/menghuu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2020-03-26T10:25:07Z", "updated_at": "2020-10-23T13:04:13Z", "closed_at": "2020-03-26T10:51:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\nThank you for reporting a possible bug in HanLP.\r\nPlease fill in the template below to bypass our spam filter.  \r\n\u4ee5\u4e0b\u5fc5\u586b\uff0c\u5426\u5219\u76f4\u63a5\u5173\u95ed\u3002\r\n-->\r\n\r\n**Describe the bug**\r\n\u4ece`hanlp.pretrained.dep.CTB7_BIAFFINE_DEP_ZH`\u52a0\u8f7d\u4f9d\u5b58\u5206\u6790\u6a21\u578b\u51fa\u9519\r\n\r\n**Code to reproduce the issue**\r\n```python\r\nimport hanlp\r\nhanlp.load(hanlp.pretrained.dep.CTB7_BIAFFINE_DEP_ZH)\r\n```\r\n\r\n**Describe the current behavior**\r\n\u4ece`hanlp.pretrained.dep.CTB7_BIAFFINE_DEP_ZH`\u52a0\u8f7d\u4f9d\u5b58\u5206\u6790\u6a21\u578b\u51fa\u9519\r\n\r\n**Expected behavior**\r\n\u6210\u529f\u52a0\u8f7d\r\n\r\n**System information**\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04):\r\n- Python version: Linux xxx 4.15.0-72-generic #81-Ubuntu SMP Tue Nov 26 12:20:02 UTC 2019 x86_64 x86_64 x86_64 GNU/Linux\r\n- HanLP version: 2.0.0a39\r\n\r\n**Other info / logs**\r\n```bash\r\nFailed to load https://file.hankcs.com/hanlp/dep/biaffine_ctb7_20200109_022431.zip. See stack trace below\r\nTraceback (most recent call last):\r\n  File \"/data/humeng/projs/extract_spo/.venv/lib/python3.7/site-packages/hanlp/utils/component_util.py\", line 48, in load_from_meta_file\r\n    obj.load(save_dir, **load_kwargs)\r\n  File \"/data/humeng/projs/extract_spo/.venv/lib/python3.7/site-packages/hanlp/common/component.py\", line 244, in load\r\n    self.build(**merge_dict(self.config, training=False, logger=logger, **kwargs, overwrite=True, inplace=True))\r\n  File \"/data/humeng/projs/extract_spo/.venv/lib/python3.7/site-packages/hanlp/common/component.py\", line 269, in build\r\n    self.model(sample_inputs)\r\n  File \"/data/humeng/projs/extract_spo/.venv/lib/python3.7/site-packages/tensorflow_core/python/keras/engine/base_layer.py\", line 822, in __call__\r\n    outputs = self.call(cast_inputs, *args, **kwargs)\r\n  File \"/data/humeng/projs/extract_spo/.venv/lib/python3.7/site-packages/hanlp/components/parsers/biaffine/model.py\", line 92, in call\r\n    x = self.lstm(embed, mask=mask)\r\n  File \"/data/humeng/projs/extract_spo/.venv/lib/python3.7/site-packages/tensorflow_core/python/keras/engine/base_layer.py\", line 822, in __call__\r\n    outputs = self.call(cast_inputs, *args, **kwargs)\r\n  File \"/data/humeng/projs/extract_spo/.venv/lib/python3.7/site-packages/tensorflow_core/python/keras/engine/sequential.py\", line 281, in call\r\n    outputs = layer(inputs, **kwargs)\r\n  File \"/data/humeng/projs/extract_spo/.venv/lib/python3.7/site-packages/tensorflow_core/python/keras/layers/wrappers.py\", line 543, in __call__\r\n    return super(Bidirectional, self).__call__(inputs, **kwargs)\r\n  File \"/data/humeng/projs/extract_spo/.venv/lib/python3.7/site-packages/tensorflow_core/python/keras/engine/base_layer.py\", line 822, in __call__\r\n    outputs = self.call(cast_inputs, *args, **kwargs)\r\n  File \"/data/humeng/projs/extract_spo/.venv/lib/python3.7/site-packages/tensorflow_core/python/keras/layers/wrappers.py\", line 657, in call\r\n    initial_state=forward_state, **kwargs)\r\n  File \"/data/humeng/projs/extract_spo/.venv/lib/python3.7/site-packages/tensorflow_core/python/keras/layers/recurrent.py\", line 644, in __call__\r\n    return super(RNN, self).__call__(inputs, **kwargs)\r\n  File \"/data/humeng/projs/extract_spo/.venv/lib/python3.7/site-packages/tensorflow_core/python/keras/engine/base_layer.py\", line 822, in __call__\r\n    outputs = self.call(cast_inputs, *args, **kwargs)\r\n  File \"/data/humeng/projs/extract_spo/.venv/lib/python3.7/site-packages/tensorflow_core/python/keras/layers/recurrent_v2.py\", line 1144, in call\r\n    **cudnn_lstm_kwargs)\r\n  File \"/data/humeng/projs/extract_spo/.venv/lib/python3.7/site-packages/tensorflow_core/python/keras/layers/recurrent_v2.py\", line 1362, in cudnn_lstm\r\n    time_major=time_major)\r\n  File \"/data/humeng/projs/extract_spo/.venv/lib/python3.7/site-packages/tensorflow_core/python/ops/gen_cudnn_rnn_ops.py\", line 1906, in cudnn_rnnv3\r\n    ctx=_ctx)\r\n  File \"/data/humeng/projs/extract_spo/.venv/lib/python3.7/site-packages/tensorflow_core/python/ops/gen_cudnn_rnn_ops.py\", line 2002, in cudnn_rnnv3_eager_fallback\r\n    attrs=_attrs, ctx=ctx, name=name)\r\n  File \"/data/humeng/projs/extract_spo/.venv/lib/python3.7/site-packages/tensorflow_core/python/eager/execute.py\", line 67, in quick_execute\r\n    six.raise_from(core._status_to_exception(e.code, message), None)\r\n  File \"<string>\", line 3, in raise_from\r\ntensorflow.python.framework.errors_impl.UnknownError: Fail to find the dnn implementation. [Op:CudnnRNNV3]\r\nhttps://file.hankcs.com/hanlp/dep/biaffine_ctb7_20200109_022431.zip was created with hanlp-2.0.0, while you are running 2.0.0-alpha.39. Try to upgrade hanlp with\r\npip install --upgrade hanlp\r\nIf the problem persists, please submit an issue to https://github.com/hankcs/HanLP/issues .\r\n```\r\n\r\n* [x] I've completed this form and searched the web for solutions.\r\n", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1442/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/1442/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1437", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/1437/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/1437/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/1437/events", "html_url": "https://github.com/hankcs/HanLP/issues/1437", "id": 581952640, "node_id": "MDU6SXNzdWU1ODE5NTI2NDA=", "number": 1437, "title": "pipeline\u6dfb\u52a0\u81ea\u5b9a\u4e49function\u540e\uff0c \u5faa\u73af\u4f7f\u7528\u5185\u5b58\u6ea2\u51fa", "user": {"login": "luoy2", "id": 20626234, "node_id": "MDQ6VXNlcjIwNjI2MjM0", "avatar_url": "https://avatars.githubusercontent.com/u/20626234?v=4", "gravatar_id": "", "url": "https://api.github.com/users/luoy2", "html_url": "https://github.com/luoy2", "followers_url": "https://api.github.com/users/luoy2/followers", "following_url": "https://api.github.com/users/luoy2/following{/other_user}", "gists_url": "https://api.github.com/users/luoy2/gists{/gist_id}", "starred_url": "https://api.github.com/users/luoy2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/luoy2/subscriptions", "organizations_url": "https://api.github.com/users/luoy2/orgs", "repos_url": "https://api.github.com/users/luoy2/repos", "events_url": "https://api.github.com/users/luoy2/events{/privacy}", "received_events_url": "https://api.github.com/users/luoy2/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 2293823475, "node_id": "MDU6TGFiZWwyMjkzODIzNDc1", "url": "https://api.github.com/repos/hankcs/HanLP/labels/wontfix", "name": "wontfix", "color": "e99695", "default": true, "description": "The problem described is a bug which will never be fixed."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 18, "created_at": "2020-03-16T02:42:52Z", "updated_at": "2021-01-01T06:49:33Z", "closed_at": "2021-01-01T06:49:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\nThank you for reporting a possible bug in HanLP.\r\nPlease fill in the template below to bypass our spam filter.  \r\n\u4ee5\u4e0b\u5fc5\u586b\uff0c\u5426\u5219\u76f4\u63a5\u5173\u95ed\u3002\r\n-->\r\n\r\n**Describe the bug**\r\n\u6211\u9700\u8981\u5728tokenizer\u548ctagger\u540e\uff0c \u76f4\u63a5\u53d6\u5230\u4e00\u4e2a\"token/tag\"\u62fc\u63a5\u7684\u8bcd\u3002\u6545\u6b64\u6dfb\u52a0\u4e86\u4e00\u4e2a`hanlp_get_tokens`\u7684function append\u5728pipline\u91cc\u3002 \u8be6\u60c5\u89c1\u4e0b\u65b9\u4ee3\u7801\u3002\r\n\r\n\u5b9e\u9645\u4efb\u52a1\u9700\u8981\u9884\u6d4b\u4e00\u4e07\u7bc7\u6587\u7ae0\u7684\u5206\u8bcd\u548ctag\uff1b \u7136\u800c\u5728gpu\u73af\u5883\u4e0b\u8dd1\u5927\u69821/10\u7684loop\u65f6oop\uff1b\r\ndisable\u4e86GPU\uff0c \u7528`tracemalloc`\u67e5\u770b\u53d1\u73b0`transform\\txt.py`\u5185\u5b58\u6ea2\u51fa\u3002\r\n\r\n\r\n**Code to reproduce the issue**\r\nProvide a reproducible test case that is the bare minimum necessary to generate the problem.\r\n\r\n```python\r\nimport pandas as pd\r\nfrom tqdm import tqdm\r\nimport os\r\nos.environ[\"CUDA_VISIBLE_DEVICES\"] = \"-1\"\r\nimport hanlp\r\nimport tensorflow as tf\r\n# Set CPU as available physical device\r\n# tf.config.set_visible_devices([], 'GPU')\r\ntf.config.list_physical_devices()\r\ntokenizer = hanlp.load('PKU_NAME_MERGED_SIX_MONTHS_CONVSEG')\r\ntagger = hanlp.load(hanlp.pretrained.pos.CTB5_POS_RNN_FASTTEXT_ZH)\r\ndef hanlp_get_tokens(tokens, tags, target_tag_list=[]):\r\n    res = []\r\n    for tokens, post in zip(tokens, tags):\r\n        for i, j in zip(tokens, post):\r\n            if i.strip():\r\n                if not target_tag_list:\r\n                    res.append(i + '/' + j)\r\n                else:\r\n                    if j in target_tag_list:\r\n                        res.append(i + '/' + j)\r\n    return res\r\n\r\npipeline = hanlp.pipeline() \\\r\n    .append(hanlp.utils.rules.split_sentence, output_key='sentences') \\\r\n    .append(tokenizer, output_key='tokens') \\\r\n    .append(tagger, output_key='tags') \\\r\n    .append(hanlp_get_tokens, input_key=('tokens', 'tags'), output_key='target_token')\r\n\r\nimport tracemalloc\r\nimport linecache\r\n\r\ndef display_top(snapshot, key_type='lineno', limit=3):\r\n    snapshot = snapshot.filter_traces((\r\n        tracemalloc.Filter(False, \"<frozen importlib._bootstrap>\"),\r\n        tracemalloc.Filter(False, \"<unknown>\"),\r\n    ))\r\n    top_stats = snapshot.statistics(key_type)\r\n\r\n    print(\"Top %s lines\" % limit)\r\n    for index, stat in enumerate(top_stats[:limit], 1):\r\n        frame = stat.traceback[0]\r\n        # replace \"/path/to/module/file.py\" with \"module/file.py\"\r\n        filename = os.sep.join(frame.filename.split(os.sep)[-2:])\r\n        print(\"#%s: %s:%s: %.1f KiB\"\r\n              % (index, filename, frame.lineno, stat.size / 1024))\r\n        line = linecache.getline(frame.filename, frame.lineno).strip()\r\n        if line:\r\n            print('    %s' % line)\r\n\r\n    other = top_stats[limit:]\r\n    if other:\r\n        size = sum(stat.size for stat in other)\r\n        print(\"%s other: %.1f KiB\" % (len(other), size / 1024))\r\n    total = sum(stat.size for stat in top_stats)\r\n    print(\"Total allocated size: %.1f KiB\" % (total / 1024))\r\n\r\n# \u83b7\u53d6\u6570\u636e\r\ntext = \"\u4eca\u5929\u6211\u56de\u5bb6\u4e70\u4e86\u4e2a\u5927\u897f\u74dc;\"*100\r\n# data_df = data_df.loc[data_df['doc_id'] >= 5150]\r\ntracemalloc.start()\r\nfor index, i in enumerate(tqdm([text]*20000)):\r\n    tokenized = {}\r\n    # title_counters = Counter(title_token)\r\n    res = pipeline(i)['target_token']\r\n    # content_counters = Counter(content_token)\r\n    snapshot = tracemalloc.take_snapshot()\r\n    display_top(snapshot)\r\n```\r\n\r\n**Describe the current behavior**\r\n\u53ef\u4ee5\u770b\u5230\u7684\u662f\uff0c \u968f\u7740iteration\u6570\u76ee\u589e\u52a0\uff0c `word += c`\u8fd9\u91cc\u7684\u5185\u5b58\u4e5f\u4e0d\u65ad\u589e\u52a0\u3002\u3002\u3002\u4f46\u662f\u6211\u7ffb\u6765\u8986\u53bb\u770b\u90a3\u6bb5\u4ee3\u7801\u5b8c\u5168\u6ca1\u770b\u51fa\u95ee\u9898\uff0c \u6545\u6b64\u53ea\u80fd\u63d0\u51faissue\uff0c \u671f\u5f85\u4f55\u8001\u5e08\u770b\u770b\u3002\u5177\u4f53log\u5df2\u7ecf\u9644\u4e0a\u3002\r\n\r\n**Expected behavior**\r\nloop prediction\u4e0d\u4f1a\u589e\u52a0\u5185\u5b58\u4f7f\u7528\r\n\r\n**System information**\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Windows 10\r\n- Python version: 3.7\r\n- HanLP version: 2.0.0-alpha.39\r\n\r\n**Other info / logs**\r\n[log gist](https://gist.github.com/luoy2/ee8256e6f90289e068695dcf661a14a6)\r\n\r\n\r\n* [x] I've completed this form and searched the web for solutions.\r\n", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1437/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/1437/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1431", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/1431/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/1431/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/1431/events", "html_url": "https://github.com/hankcs/HanLP/issues/1431", "id": 569735210, "node_id": "MDU6SXNzdWU1Njk3MzUyMTA=", "number": 1431, "title": "2.0.0a38\u7684\u7c7b\u597d\u50cf\u6709\u4e2a\u65b9\u6cd5\u4e0d\u5bf9", "user": {"login": "iamqiz", "id": 48077521, "node_id": "MDQ6VXNlcjQ4MDc3NTIx", "avatar_url": "https://avatars.githubusercontent.com/u/48077521?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iamqiz", "html_url": "https://github.com/iamqiz", "followers_url": "https://api.github.com/users/iamqiz/followers", "following_url": "https://api.github.com/users/iamqiz/following{/other_user}", "gists_url": "https://api.github.com/users/iamqiz/gists{/gist_id}", "starred_url": "https://api.github.com/users/iamqiz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iamqiz/subscriptions", "organizations_url": "https://api.github.com/users/iamqiz/orgs", "repos_url": "https://api.github.com/users/iamqiz/repos", "events_url": "https://api.github.com/users/iamqiz/events{/privacy}", "received_events_url": "https://api.github.com/users/iamqiz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-02-24T09:36:53Z", "updated_at": "2020-02-24T16:09:49Z", "closed_at": "2020-02-24T11:13:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\nThank you for reporting a possible bug in HanLP.\r\nPlease fill in the template below to bypass our spam filter.  \r\n\u4ee5\u4e0b\u5fc5\u586b\uff0c\u5426\u5219\u76f4\u63a5\u5173\u95ed\u3002\r\n-->\r\n\r\n**Describe the bug**\r\n\r\n\u6211\u5728\u770bhanlp\\common\\structure.py\u91cc\u9762\u7684Serializable\u7c7b\u4ee3\u7801,\u53d1\u73b0load\u65b9\u6cd5\u4e2d\u65e0\u8bba\u6587\u4ef6\u662f\u4e0d\u662fjson,\u90fd\u4f7f\u7528load_json\u53bb\u8bfb\u53d6\u6587\u4ef6 ,\r\n(\u5728save\u65f6\u4f1a\u4fdd\u5b58\u4e3ajson\u6216pickle\u6587\u4ef6,)\r\nload\u65f6\u5bf9\u4e8ejson\u5916\u7684\u683c\u5f0f\u6309\u7406\u8bf4\u5e94\u8be5\u4f7f\u7528load_pickle\u800c\u4e0d\u662fload_json\r\n(\u7c7b\u91cc\u9762\u6709\u5b9a\u4e49load_pickle\u51fd\u6570,\u4f46\u662f\u6ca1\u6709\u7528\u5230)\r\n\r\n\u7591\u4f3c\u6709\u95ee\u9898\u7684\u4ee3\u7801,\u89c1\u4e0b\u9762\u7684\u6ce8\u91ca\r\n\r\n**Code to reproduce the issue**\r\n\u4e0b\u9762\u662fSerializable\u7c7b\u7684\u90e8\u5206\u4ee3\u7801:\r\n\r\n```python\r\nclass Serializable(object):\r\n    \"\"\"\r\n    A super class for save/load operations.\r\n    \"\"\"\r\n\r\n    def save(self, path, fmt=None):\r\n        if not fmt:\r\n            if filename_is_json(path):\r\n                self.save_json(path)\r\n            else:\r\n                self.save_pickle(path)\r\n        elif fmt in ['json', 'jsonl']:\r\n            self.save_json(path)\r\n        else:\r\n            self.save_pickle(path)\r\n\r\n    def load(self, path, fmt=None):\r\n        if not fmt:\r\n            if filename_is_json(path):\r\n                self.load_json(path)\r\n            else:\r\n                self.load_json(path)   ######\u8fd9\u4e00\u884c\u6211\u89c9\u5f97\u6709\u95ee\u9898,\u611f\u89c9\u5e94\u8be5\u662fload_pickle\r\n        elif fmt in ['json', 'jsonl']:\r\n            self.load_json(path)\r\n        else:\r\n            self.load(path)\r\n```\r\n\r\n* [x] I've completed this form and searched the web for solutions.\r\n", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1431/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/1431/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1427", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/1427/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/1427/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/1427/events", "html_url": "https://github.com/hankcs/HanLP/issues/1427", "id": 566645704, "node_id": "MDU6SXNzdWU1NjY2NDU3MDQ=", "number": 1427, "title": "\u8c03\u7528CharTabel\uff0c\u628a\u201c\u5e7a\u201d\u6539\u4e3a\u201c\u4e48\u201d\u4e0d\u5408\u7406", "user": {"login": "tiandiweizun", "id": 13550295, "node_id": "MDQ6VXNlcjEzNTUwMjk1", "avatar_url": "https://avatars.githubusercontent.com/u/13550295?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tiandiweizun", "html_url": "https://github.com/tiandiweizun", "followers_url": "https://api.github.com/users/tiandiweizun/followers", "following_url": "https://api.github.com/users/tiandiweizun/following{/other_user}", "gists_url": "https://api.github.com/users/tiandiweizun/gists{/gist_id}", "starred_url": "https://api.github.com/users/tiandiweizun/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tiandiweizun/subscriptions", "organizations_url": "https://api.github.com/users/tiandiweizun/orgs", "repos_url": "https://api.github.com/users/tiandiweizun/repos", "events_url": "https://api.github.com/users/tiandiweizun/events{/privacy}", "received_events_url": "https://api.github.com/users/tiandiweizun/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-02-18T04:56:35Z", "updated_at": "2020-02-18T05:10:37Z", "closed_at": "2020-02-18T05:10:37Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "<!--\r\nThank you for reporting a possible bug in HanLP.\r\nPlease fill in the template below to bypass our spam filter.  \r\n\u4ee5\u4e0b\u5fc5\u586b\uff0c\u5426\u5219\u76f4\u63a5\u5173\u95ed\u3002\r\n-->\r\n\r\n**Describe the bug**\r\nA clear and concise description of what the bug is.\r\n\r\n\u8c03\u7528CharTabel\uff0c\u628a\u201c\u5e7a\u201d\u6539\u4e3a\u201c\u4e48\u201d\u4e0d\u5408\u7406\uff0c\u867d\u7136 \u4e48 \u4e5f\u67091\u7684\u610f\u601d\uff0c\u4e14\u4e5f\u6709\u53d1\u97f3\u4e3ayao\u7684\uff0c\u4f46\u662f\u4e48\u901a\u5e38\u4e0d\u4ee3\u8868\u5e7a\u7684\u610f\u601d\uff0c\u4e14\u5e7a\u5b57\u5df2\u7ecf\u662f\u6b63\u5219\u5316\u7684\uff0c\u6ca1\u6709\u5fc5\u8981\u8fdb\u4e00\u6b65\u6539\u53d8\uff0c\u9700\u8981\u53bb\u6389CharTable.txt\u91cc\u9762\u5e7a=\u4e48\r\n\r\n**Code to reproduce the issue**\r\nProvide a reproducible test case that is the bare minimum necessary to generate the problem.\r\n\r\n```python\r\n System.out.println(CharTable.convert(\"\u5e7a\u59b9\u7684\u624b\u673a\u53f7\u7801\u662f\u5e7a\u4e09\u4e8c\u5f00\u5934\u7684\"));\r\n```\r\n\r\n**Describe the current behavior**\r\nA clear and concise description of what happened.\r\n\r\n\u4e48\u59b9\u7684\u624b\u673a\u53f7\u7801\u662f\u4e48\u4e09\u4e8c\u5f00\u5934\u7684\r\n\r\n**Expected behavior**\r\nA clear and concise description of what you expected to happen.\r\n\r\n\u5e7a\u59b9\u7684\u624b\u673a\u53f7\u7801\u662f\u5e7a\u4e09\u4e8c\u5f00\u5934\u7684\r\n\r\n**System information**\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): win10\r\n- Python version: java\r\n- HanLP version: 1.7.6\r\n\r\n**Other info / logs**\r\nInclude any logs or source code that would be helpful to diagnose the problem. If including tracebacks, please include the full traceback. Large logs and files should be attached.\r\n\r\n* [x] I've completed this form and searched the web for solutions.\r\n", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1427/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/1427/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1423", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/1423/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/1423/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/1423/events", "html_url": "https://github.com/hankcs/HanLP/issues/1423", "id": 565352887, "node_id": "MDU6SXNzdWU1NjUzNTI4ODc=", "number": 1423, "title": "AbstractClassifier\u4e2d\u7684enableProbability\u65b9\u6cd5\u4f3c\u4e4e\u6709BUG", "user": {"login": "orangeclk", "id": 5905773, "node_id": "MDQ6VXNlcjU5MDU3NzM=", "avatar_url": "https://avatars.githubusercontent.com/u/5905773?v=4", "gravatar_id": "", "url": "https://api.github.com/users/orangeclk", "html_url": "https://github.com/orangeclk", "followers_url": "https://api.github.com/users/orangeclk/followers", "following_url": "https://api.github.com/users/orangeclk/following{/other_user}", "gists_url": "https://api.github.com/users/orangeclk/gists{/gist_id}", "starred_url": "https://api.github.com/users/orangeclk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/orangeclk/subscriptions", "organizations_url": "https://api.github.com/users/orangeclk/orgs", "repos_url": "https://api.github.com/users/orangeclk/repos", "events_url": "https://api.github.com/users/orangeclk/events{/privacy}", "received_events_url": "https://api.github.com/users/orangeclk/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-02-14T14:15:32Z", "updated_at": "2020-02-14T20:24:47Z", "closed_at": "2020-02-14T20:24:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\nThank you for reporting a possible bug in HanLP.\r\nPlease fill in the template below to bypass our spam filter.  \r\n\u4ee5\u4e0b\u5fc5\u586b\uff0c\u5426\u5219\u76f4\u63a5\u5173\u95ed\u3002\r\n-->\r\n\r\n**Describe the bug**\r\n\u7528\u6237\u8c03\u7528enableProbability(boolean enable)\u540e\uff0c\u4e0d\u7ba1\u4f20\u5165\u7684\u503c\u662ftrue\u8fd8\u662ffalse\uff0c\u90fd\u4e0d\u4f1a\u5f71\u54cd\u5230configProbabilityEnabled\u7684\u503c\uff0c\u4ece\u800c\u5bfc\u81f4 if (configProbabilityEnabled) MathUtility.normalizeExp(predictionScores); \u6c38\u8fdc\u6267\u884c\u3002\r\n\r\n\u5efa\u8bae\u5c06\r\n````java\r\n    @Override\r\n    public IClassifier enableProbability(boolean enable)\r\n    {\r\n        return this;\r\n    }\r\n````\r\n\u4fee\u6539\u4e3a\r\n````java\r\n    @Override\r\n    public IClassifier enableProbability(boolean enable)\r\n    {\r\n        configProbabilityEnabled = enable;\r\n        return this;\r\n    }\r\n````\r\n\r\n**Code to reproduce the issue**\r\nProvide a reproducible test case that is the bare minimum necessary to generate the problem.\r\n\r\n```java\r\n    public Map<String, Double> test() throws IOException {\r\n        IClassifier iClassifier = new NaiveBayesClassifier(trainOrLoadModel()).enableProbability(false);;\r\n        return iClassifier.predict(\"test java demo\"); \r\n}\r\n```\r\n\r\n**Describe the current behavior**\r\nenableProbability\u65b9\u6cd5\u5931\u6548\u3002\r\n\r\n**Expected behavior**\r\nenableProbability\u65b9\u6cd5\u751f\u6548\u3002\r\n\r\n**System information**\r\n- Windows 0\r\n- Java 1.8\r\n- HanLP 1.7.5\r\n\r\n**Other info / logs**\r\nInclude any logs or source code that would be helpful to diagnose the problem. If including tracebacks, please include the full traceback. Large logs and files should be attached.\r\n\r\n* [x] I've completed this form and searched the web for solutions.\r\n", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1423/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/1423/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1412", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/1412/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/1412/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/1412/events", "html_url": "https://github.com/hankcs/HanLP/issues/1412", "id": 557339714, "node_id": "MDU6SXNzdWU1NTczMzk3MTQ=", "number": 1412, "title": "hanlp 2.0.0a33 pipeline \u81ea\u5b9a\u4e49 output_key \u540e\uff0cjson \u5e8f\u5217\u5316\u7ed3\u679c\u6b8b\u7559sentences \u3001 tokens\u3001part_of_speech_tags \u7b49\u5b57\u6bb5", "user": {"login": "SoaringTiger", "id": 10105704, "node_id": "MDQ6VXNlcjEwMTA1NzA0", "avatar_url": "https://avatars.githubusercontent.com/u/10105704?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SoaringTiger", "html_url": "https://github.com/SoaringTiger", "followers_url": "https://api.github.com/users/SoaringTiger/followers", "following_url": "https://api.github.com/users/SoaringTiger/following{/other_user}", "gists_url": "https://api.github.com/users/SoaringTiger/gists{/gist_id}", "starred_url": "https://api.github.com/users/SoaringTiger/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SoaringTiger/subscriptions", "organizations_url": "https://api.github.com/users/SoaringTiger/orgs", "repos_url": "https://api.github.com/users/SoaringTiger/repos", "events_url": "https://api.github.com/users/SoaringTiger/events{/privacy}", "received_events_url": "https://api.github.com/users/SoaringTiger/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-01-30T08:34:11Z", "updated_at": "2020-01-30T15:20:00Z", "closed_at": "2020-01-30T15:20:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\nPlease carefully fill out this form to bypass our spam filter. Please make sure that this is a bug. We only address bugs and feature requests issues on GitHub. Other questions should be posted on stackoverflow or https://bbs.hankcs.com/\r\n\u4ee5\u4e0b\u5fc5\u586b\uff0c\u5426\u5219\u76f4\u63a5\u5173\u95ed\u3002\r\n-->\r\n\r\n**Describe the bug**\r\nhanlp 2.0.0a33 pipeline \u81ea\u5b9a\u4e49 output_key \u540e\uff0cjson \u5e8f\u5217\u5316\u7ed3\u679c\u6b8b\u7559**sentences \u3001 tokens\u3001part_of_speech_tags\u3001named_entities\u3001syntactic_dependencies\u3001semantic_dependencies** \u7b49\u5b57\u6bb5\r\n\r\n**Code to reproduce the issue**\r\nProvide a reproducible test case that is the bare minimum necessary to generate the problem.\r\n\r\n```python\r\nimport hanlp\r\nimport json\r\n\r\nprint('\u6b63\u5728\u52a0\u8f7d')\r\n\r\ntokenizer = hanlp.load('CTB6_CONVSEG')\r\ntagger = hanlp.load('CTB5_POS_RNN')\r\nsyntactic_parser = hanlp.load('CTB7_BIAFFINE_DEP_ZH')\r\nsemantic_parser = hanlp.load('SEMEVAL16_TEXT_BIAFFINE_ZH')\r\n\r\n# \u4e0b\u9762\u81ea\u5b9a\u4e49\u4e86 ouput_key\r\npipeline = hanlp.pipeline() \\\r\n    .append(hanlp.utils.rules.split_sentence, output_key='s') \\\r\n    .append(tokenizer, output_key='t') \\\r\n    .append(tagger, output_key='p') \\\r\n    .append(syntactic_parser, input_key=('t', 'p'), output_key='syn', conll=False) \\\r\n    .append(semantic_parser, input_key=('t', 'p'), output_key='sem', conll=False)\r\nprint(pipeline)\r\n\r\ntext = '''HanLP\u662f\u4e00\u7cfb\u5217\u6a21\u578b\u4e0e\u7b97\u6cd5\u7ec4\u6210\u7684\u81ea\u7136\u8bed\u8a00\u5904\u7406\u5de5\u5177\u5305\uff0c\u76ee\u6807\u662f\u666e\u53ca\u81ea\u7136\u8bed\u8a00\u5904\u7406\u5728\u751f\u4ea7\u73af\u5883\u4e2d\u7684\u5e94\u7528\u3002\r\nHanLP\u5177\u5907\u529f\u80fd\u5b8c\u5584\u3001\u6027\u80fd\u9ad8\u6548\u3001\u67b6\u6784\u6e05\u6670\u3001\u8bed\u6599\u65f6\u65b0\u3001\u53ef\u81ea\u5b9a\u4e49\u7684\u7279\u70b9\u3002\r\n\u5185\u90e8\u7b97\u6cd5\u7ecf\u8fc7\u5de5\u4e1a\u754c\u548c\u5b66\u672f\u754c\u8003\u9a8c\uff0c\u914d\u5957\u4e66\u7c4d\u300a\u81ea\u7136\u8bed\u8a00\u5904\u7406\u5165\u95e8\u300b\u5df2\u7ecf\u51fa\u7248\u3002\r\n'''\r\n\r\ndoc = pipeline(text)\r\nprint(doc)  # \u6253\u5370\u7ed3\u679c\u6b63\u5e38\uff0c\u6ca1\u6709\u6b8b\u7559\u5b57\u6bb5\r\n\r\nwith open('output.json',\"w\") as f:\r\n    json.dump(doc, f, indent=4, ensure_ascii=False)    # \u5e8f\u5217\u5316\u7684\u7ed3\u679c\u6709\u6b8b\u7559\u5b57\u6bb5\r\n```\r\n\r\n**Describe the current behavior**\r\njson \u5e8f\u5217\u5316\u540e\u7684\u7ed3\u679c\uff0c\u5b58\u5728\u4e0b\u9762\u4e00\u4e9b\u201c**\u672a\u5b9a\u4e49\u5b57\u6bb5**\u201d\r\n{\r\n    \"sentences\": [],\r\n    \"tokens\": [],\r\n    \"part_of_speech_tags\": [],\r\n    \"named_entities\": [],\r\n    \"syntactic_dependencies\": [],\r\n    \"semantic_dependencies\": [],\r\n    \"s\": [\r\n        \"HanLP\u662f\u4e00\u7cfb\u5217\u6a21\u578b\u4e0e\u7b97\u6cd5\u7ec4\u6210\u7684\u81ea\u7136\u8bed\u8a00\u5904\u7406\u5de5\u5177\u5305\uff0c\u76ee\u6807\u662f\u666e\u53ca\u81ea\u7136\u8bed\u8a00\u5904\u7406\u5728\u751f\u4ea7\u73af\u5883\u4e2d\u7684\u5e94\u7528\u3002\",\r\n        \"HanLP\u5177\u5907\u529f\u80fd\u5b8c\u5584\u3001\u6027\u80fd\u9ad8\u6548\u3001\u67b6\u6784\u6e05\u6670\u3001\u8bed\u6599\u65f6\u65b0\u3001\u53ef\u81ea\u5b9a\u4e49\u7684\u7279\u70b9\u3002\",\r\n        \"\u5185\u90e8\u7b97\u6cd5\u7ecf\u8fc7\u5de5\u4e1a\u754c\u548c\u5b66\u672f\u754c\u8003\u9a8c\uff0c\u914d\u5957\u4e66\u7c4d\u300a\u81ea\u7136\u8bed\u8a00\u5904\u7406\u5165\u95e8\u300b\u5df2\u7ecf\u51fa\u7248\u3002\"\r\n    ],\r\n...\r\n\r\n**Expected behavior**\r\n**\u672a\u5b9a\u4e49\u5b57\u6bb5\u4e0d\u51fa\u73b0**\r\n\r\n**System information**\r\n- OS Platform and Distribution:18.04\r\n- Python version:3.6\r\n- HanLP version:hanlp 2.0.0a33\r\n\r\n**Other info / logs**\r\nInclude any logs or source code that would be helpful to diagnose the problem. If including tracebacks, please include the full traceback. Large logs and files should be attached.\r\n\r\n* [x] I've completed this form and searched the web for solutions.\r\n", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1412/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/1412/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1410", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/1410/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/1410/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/1410/events", "html_url": "https://github.com/hankcs/HanLP/issues/1410", "id": 555178149, "node_id": "MDU6SXNzdWU1NTUxNzgxNDk=", "number": 1410, "title": "hanlp 2.0.0a31 CoNLLWord JSON \u5e8f\u5217\u5316\u7ed3\u679c \u4e0e \u6587\u6863\u8bf4\u660e\u4e0d\u4e00\u81f4", "user": {"login": "SoaringTiger", "id": 10105704, "node_id": "MDQ6VXNlcjEwMTA1NzA0", "avatar_url": "https://avatars.githubusercontent.com/u/10105704?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SoaringTiger", "html_url": "https://github.com/SoaringTiger", "followers_url": "https://api.github.com/users/SoaringTiger/followers", "following_url": "https://api.github.com/users/SoaringTiger/following{/other_user}", "gists_url": "https://api.github.com/users/SoaringTiger/gists{/gist_id}", "starred_url": "https://api.github.com/users/SoaringTiger/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SoaringTiger/subscriptions", "organizations_url": "https://api.github.com/users/SoaringTiger/orgs", "repos_url": "https://api.github.com/users/SoaringTiger/repos", "events_url": "https://api.github.com/users/SoaringTiger/events{/privacy}", "received_events_url": "https://api.github.com/users/SoaringTiger/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-01-26T04:58:14Z", "updated_at": "2020-01-26T10:22:21Z", "closed_at": "2020-01-26T05:11:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\nPlease carefully fill out this form to bypass our spam filter. Please make sure that this is a bug. We only address bugs and feature requests issues on GitHub. Other questions should be posted on stackoverflow or https://bbs.hankcs.com/\r\n\u4ee5\u4e0b\u5fc5\u586b\uff0c\u5426\u5219\u76f4\u63a5\u5173\u95ed\u3002\r\n-->\r\n\r\n**Describe the bug**\r\nCoNLLWord JSON \u5e8f\u5217\u5316\u7ed3\u679c \u4e0e \u6587\u6863\u8bf4\u660e\u4e0d\u4e00\u81f4\r\n\r\n**Code to reproduce the issue**\r\nProvide a reproducible test case that is the bare minimum necessary to generate the problem.\r\n\r\n```python\r\nimport hanlp\r\nimport json\r\n\r\ntokenizer = hanlp.load('CTB6_CONVSEG')\r\ntagger = hanlp.load('CTB5_POS_RNN')\r\nsyntactic_parser = hanlp.load('CTB7_BIAFFINE_DEP_ZH')\r\n\r\ntext = '\u5185\u90e8\u7b97\u6cd5\u7ecf\u8fc7\u5de5\u4e1a\u754c\u548c\u5b66\u672f\u754c\u8003\u9a8c\uff0c\u914d\u5957\u4e66\u7c4d\u300a\u81ea\u7136\u8bed\u8a00\u5904\u7406\u5165\u95e8\u300b\u5df2\u7ecf\u51fa\u7248\u3002'\r\n\r\npipeline = hanlp.pipeline() \\\r\n            .append(hanlp.utils.rules.split_sentence, output_key='sentences') \\\r\n            .append(tokenizer, output_key='tokens') \\\r\n            .append(tagger, output_key='part_of_speech_tags')\r\n            .append(syntactic_parser, input_key=('tokens', 'part_of_speech_tags'), output_key='syntactic_dependencies')\r\n\r\noutput = pipeline(text)\r\n\r\nprint(output)  \r\n\r\nwith open('output.json',\"w\") as f:\r\n    json.dump(output, f, indent=4, ensure_ascii=False)\r\n```\r\n\r\n**Describe the current behavior**\r\n# \u5f53\u524d\u8f93\u51fa\u7ed3\u679c\u5982\u4e0b\r\n```\r\n...\r\n\"syntactic_dependencies\": [\r\n    [{\"id\": 1, \"form\": \"\u5185\u90e8\", \"cpos\": \"NN\", \"pos\": null, \"head\": 2, \"deprel\": \"nn\", \"lemma\": null, \"feats\": null, \"phead\": null, \"pdeprel\": null}, {\"id\": 2, \"form\": \"\u7b97\u6cd5\", \"cpos\": \"NN\", \"pos\": null, \"head\": 18, \"deprel\": \"nsubj\", \"lemma\": null, \"feats\": null, \"phead\": null, \"pdeprel\": null}, {\"id\": 3, \"form\": \"\u7ecf\u8fc7\", \"cpos\": \"P\", \"pos\": null, \"head\": 18, \"deprel\": \"prep\", \"lemma\": null, \"feats\": null, \"phead\": null, \"pdeprel\": null}, {\"id\": 4, \"form\": \"\u5de5\u4e1a\u754c\", \"cpos\": \"NN\", \"pos\": null, \"head\": 6, \"deprel\": \"conj\", \"lemma\": null, \"feats\": null, \"phead\": null, \"pdeprel\": null}, {\"id\": 5, \"form\": \"\u548c\", \"cpos\": \"CC\", \"pos\": null, \"head\": 6, \"deprel\": \"cc\", \"lemma\": null, \"feats\": null, \"phead\": null, \"pdeprel\": null}, {\"id\": 6, \"form\": \"\u5b66\u672f\u754c\", \"cpos\": \"NN\", \"pos\": null, \"head\": 7, \"deprel\": \"nn\", \"lemma\": null, \"feats\": null, \"phead\": null, \"pdeprel\": null}, {\"id\": 7, \"form\": \"\u8003\u9a8c\", \"cpos\": \"NN\", \"pos\": null, \"head\": 3, \"deprel\": \"pobj\", \"lemma\": null, \"feats\": null, \"phead\": null, \"pdeprel\": null}, {\"id\": 8, \"form\": \"\uff0c\", \"cpos\": \"PU\", \"pos\": null, \"head\": 18, \"deprel\": \"punct\", \"lemma\": null, \"feats\": null, \"phead\": null, \"pdeprel\": null}, {\"id\": 9, \"form\": \"\u914d\u5957\", \"cpos\": \"NN\", \"pos\": null, \"head\": 10, \"deprel\": \"nn\", \"lemma\": null, \"feats\": null, \"phead\": null, \"pdeprel\": null}, {\"id\": 10, \"form\": \"\u4e66\u7c4d\", \"cpos\": \"NN\", \"pos\": null, \"head\": 14, \"deprel\": \"nsubj\", \"lemma\": null, \"feats\": null, \"phead\": null, \"pdeprel\": null}, {\"id\": 11, \"form\": \"\u300a\", \"cpos\": \"PU\", \"pos\": null, \"head\": 14, \"deprel\": \"punct\", \"lemma\": null, \"feats\": null, \"phead\": null, \"pdeprel\": null}, {\"id\": 12, \"form\": \"\u81ea\u7136\", \"cpos\": \"NN\", \"pos\": null, \"head\": 13, \"deprel\": \"nn\", \"lemma\": null, \"feats\": null, \"phead\": null, \"pdeprel\": null}, {\"id\": 13, \"form\": \"\u8bed\u8a00\", \"cpos\": \"NN\", \"pos\": null, \"head\": 14, \"deprel\": \"nsubj\", \"lemma\": null, \"feats\": null, \"phead\": null, \"pdeprel\": null}, {\"id\": 14, \"form\": \"\u5904\u7406\", \"cpos\": \"VV\", \"pos\": null, \"head\": 18, \"deprel\": \"dep\", \"lemma\": null, \"feats\": null, \"phead\": null, \"pdeprel\": null}, {\"id\": 15, \"form\": \"\u5165\u95e8\", \"cpos\": \"NN\", \"pos\": null, \"head\": 14, \"deprel\": \"dobj\", \"lemma\": null, \"feats\": null, \"phead\": null, \"pdeprel\": null}, {\"id\": 16, \"form\": \"\u300b\", \"cpos\": \"PU\", \"pos\": null, \"head\": 14, \"deprel\": \"punct\", \"lemma\": null, \"feats\": null, \"phead\": null, \"pdeprel\": null}, {\"id\": 17, \"form\": \"\u5df2\u7ecf\", \"cpos\": \"AD\", \"pos\": null, \"head\": 18, \"deprel\": \"advmod\", \"lemma\": null, \"feats\": null, \"phead\": null, \"pdeprel\": null}, {\"id\": 18, \"form\": \"\u51fa\u7248\", \"cpos\": \"VV\", \"pos\": null, \"head\": 0, \"deprel\": \"root\", \"lemma\": null, \"feats\": null, \"phead\": null, \"pdeprel\": null}, {\"id\": 19, \"form\": \"\u3002\", \"cpos\": \"PU\", \"pos\": null, \"head\": 18, \"deprel\": \"punct\", \"lemma\": null, \"feats\": null, \"phead\": null, \"pdeprel\": null}]\r\n  ],\r\n...\r\n```\r\n\r\n**Expected behavior**\r\n```\r\n...\r\n\"syntactic_dependencies\": [\r\n[[2, \"nn\"], [18, \"nsubj\"], [18, \"prep\"], [6, \"conj\"], [6, \"cc\"], [7, \"nn\"], [3, \"pobj\"], [18, \"punct\"], [10, \"rcmod\"], [15, \"nn\"], [15, \"punct\"], [15, \"nn\"], [15, \"nn\"], [15, \"nn\"], [18, \"nsubj\"], [15, \"punct\"], [18, \"advmod\"], [0, \"root\"], [18, \"punct\"]]\r\n]\r\n...\r\n```\r\n\r\n**System information**\r\n- OS Platform and Distribution: Ubuntu 18.04\r\n- Python version: 3.6\r\n- HanLP version: hanlp 2.0.0a31\r\n\r\n**Other info / logs**\r\nInclude any logs or source code that would be helpful to diagnose the problem. If including tracebacks, please include the full traceback. Large logs and files should be attached.\r\n\r\n* [x] I've completed this form and searched the web for solutions.\r\n", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1410/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/1410/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1409", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/1409/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/1409/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/1409/events", "html_url": "https://github.com/hankcs/HanLP/issues/1409", "id": 555059837, "node_id": "MDU6SXNzdWU1NTUwNTk4Mzc=", "number": 1409, "title": "pipeline Object of type 'CoNLLWord' is not JSON serializable", "user": {"login": "SoaringTiger", "id": 10105704, "node_id": "MDQ6VXNlcjEwMTA1NzA0", "avatar_url": "https://avatars.githubusercontent.com/u/10105704?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SoaringTiger", "html_url": "https://github.com/SoaringTiger", "followers_url": "https://api.github.com/users/SoaringTiger/followers", "following_url": "https://api.github.com/users/SoaringTiger/following{/other_user}", "gists_url": "https://api.github.com/users/SoaringTiger/gists{/gist_id}", "starred_url": "https://api.github.com/users/SoaringTiger/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SoaringTiger/subscriptions", "organizations_url": "https://api.github.com/users/SoaringTiger/orgs", "repos_url": "https://api.github.com/users/SoaringTiger/repos", "events_url": "https://api.github.com/users/SoaringTiger/events{/privacy}", "received_events_url": "https://api.github.com/users/SoaringTiger/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-01-25T08:37:11Z", "updated_at": "2020-01-25T17:30:19Z", "closed_at": "2020-01-25T17:30:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\nPlease carefully fill out this form to bypass our spam filter. Please make sure that this is a bug. We only address bugs and feature requests issues on GitHub. Other questions should be posted on stackoverflow or https://bbs.hankcs.com/\r\n\u4ee5\u4e0b\u5fc5\u586b\uff0c\u5426\u5219\u76f4\u63a5\u5173\u95ed\u3002\r\n-->\r\n\r\n**Describe the bug**\r\npipeline  syntactic_parser  \u8f93\u51fa\u7684\u7ed3\u679c \u901a\u8fc7 json dump \u5931\u8d25    .\r\n\r\n**Code to reproduce the issue**\r\nProvide a reproducible test case that is the bare minimum necessary to generate the problem.\r\n\r\n```python\r\nimport hanlp\r\nimport json\r\n\r\ntokenizer = hanlp.load('CTB6_CONVSEG')\r\ntagger = hanlp.load('CTB5_POS_RNN')\r\nsyntactic_parser = hanlp.load('CTB7_BIAFFINE_DEP_ZH')\r\n\r\ntext = '\u6d4b\u8bd5\u4e00\u4e0b\u8fd9\u4e2a\u65b9\u6cd5\u80fd\u5426\u4f7f\u7528\u3002'\r\n\r\npipeline = hanlp.pipeline() \\\r\n            .append(hanlp.utils.rules.split_sentence, output_key='sentences') \\\r\n            .append(tokenizer, output_key='tokens') \\\r\n            .append(tagger, output_key='part_of_speech_tags')\r\n            .append(syntactic_parser, input_key=('tokens', 'part_of_speech_tags'), output_key='syntactic_dependencies')\r\n\r\noutput = pipeline(text)\r\n\r\nprint(output)    # **\u7ed3\u679c\u80fd\u6b63\u5e38\u6253\u5370**\r\n\r\nwith open('output.json',\"w\") as f:\r\n    json.dump(output, f, indent=4, ensure_ascii=False)\r\n```\r\n\r\n**Describe the current behavior**\r\njson.dump \u5931\u8d25\r\n\r\n**Expected behavior**\r\n\u80fd\u6b63\u5e38 JSON serializable\r\n\r\n**System information**\r\n- OS Platform and Distribution: Ubuntu 18.04\r\n- Python version: 3.6\r\n- HanLP version: hanlp 2.0.0a30\r\n\r\n**Other info / logs**\r\nTraceback (most recent call last):\r\n  File \"down.py\", line 33, in <module>\r\n    json.dump(output, f, indent=4, ensure_ascii=False)\r\n  File \"/usr/lib/python3.6/json/__init__.py\", line 179, in dump\r\n    for chunk in iterable:\r\n  File \"/usr/lib/python3.6/json/encoder.py\", line 430, in _iterencode\r\n    yield from _iterencode_dict(o, _current_indent_level)\r\n  File \"/usr/lib/python3.6/json/encoder.py\", line 404, in _iterencode_dict\r\n    yield from chunks\r\n  File \"/usr/lib/python3.6/json/encoder.py\", line 325, in _iterencode_list\r\n    yield from chunks\r\n  File \"/usr/lib/python3.6/json/encoder.py\", line 325, in _iterencode_list\r\n    yield from chunks\r\n  File \"/usr/lib/python3.6/json/encoder.py\", line 437, in _iterencode\r\n    o = _default(o)\r\n  File \"/usr/lib/python3.6/json/encoder.py\", line 180, in default\r\n    o.__class__.__name__)\r\nTypeError: Object of type 'CoNLLWord' is not JSON serializable\r\n\r\n* [x] I've completed this form and searched the web for solutions.\r\n", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1409/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/1409/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1403", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/1403/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/1403/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/1403/events", "html_url": "https://github.com/hankcs/HanLP/issues/1403", "id": 549328013, "node_id": "MDU6SXNzdWU1NDkzMjgwMTM=", "number": 1403, "title": "2.0.0-alpha.25 \u52a0\u8f7d CTB5_POS_RNN \u51fa\u9519", "user": {"login": "SoaringTiger", "id": 10105704, "node_id": "MDQ6VXNlcjEwMTA1NzA0", "avatar_url": "https://avatars.githubusercontent.com/u/10105704?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SoaringTiger", "html_url": "https://github.com/SoaringTiger", "followers_url": "https://api.github.com/users/SoaringTiger/followers", "following_url": "https://api.github.com/users/SoaringTiger/following{/other_user}", "gists_url": "https://api.github.com/users/SoaringTiger/gists{/gist_id}", "starred_url": "https://api.github.com/users/SoaringTiger/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SoaringTiger/subscriptions", "organizations_url": "https://api.github.com/users/SoaringTiger/orgs", "repos_url": "https://api.github.com/users/SoaringTiger/repos", "events_url": "https://api.github.com/users/SoaringTiger/events{/privacy}", "received_events_url": "https://api.github.com/users/SoaringTiger/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-01-14T04:41:40Z", "updated_at": "2020-01-14T05:03:56Z", "closed_at": "2020-01-14T05:03:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\nPlease carefully fill out this form to bypass our spam filter. Please make sure that this is a bug. We only address bugs and feature requests issues on GitHub. Other questions should be posted on stackoverflow or https://bbs.hankcs.com/\r\n\u4ee5\u4e0b\u5fc5\u586b\uff0c\u5426\u5219\u76f4\u63a5\u5173\u95ed\u3002\r\n-->\r\n\r\n**Describe the bug**\r\n2.0.0-alpha.25 \u52a0\u8f7d CTB5_POS_RNN \u51fa\u9519\r\n\r\n**Code to reproduce the issue**\r\nProvide a reproducible test case that is the bare minimum necessary to generate the problem.\r\n\r\n```python\r\ntokenizer = hanlp.load('CTB5_POS_RNN')\r\nprint(tokenizer('\u5546\u54c1\u548c\u670d\u52a1'))\r\n```\r\n\r\n**Describe the current behavior**\r\n\u52a0\u8f7d CTB5_POS_RNN \u51fa\u9519\r\n\r\n\u8bd5\u4e86\u51e0\u6b21\uff0c\u6b64\u5904\u51fa\u9519\r\nDownloading **https://github.com/SUDA-LA/CIP/archive/master.zip#BPNN/data/embed.txt** to /root/.hanlp/thirdparty/github.com/SUDA-LA/CIP/archive/master.zip\r\n**100.00%, 4 KB/4 KB, 14.1 MB/s, ETA 0 s**     \r\n......\r\n**FileNotFoundError**: [Errno 2] No such file or directory: '/root/.hanlp/thirdparty/github.com/SUDA-LA/CIP/archive/master/BPNN/data/embed.txt'\r\n\r\n**Expected behavior**\r\n\u80fd\u591f\u8fd0\u884c\u6d4b\u8bd5\u4ee3\u7801\r\n\r\n**System information**\r\n- Ubuntu 18.04\r\n- Python version: 3.6\r\n- HanLP version: 2.0.0-alpha.25\r\n\r\n**Other info / logs**\r\nDownloading https://file.hankcs.com/hanlp/pos/ctb5_pos_rnn_20191229_015325.zip to /root/.hanlp/pos/ctb5_pos_rnn_20191229_015325.zip\r\n100.00%, 52.4 MB/52.4 MB, 4.2 MB/s, ETA 0 s        \r\nExtracting /root/.hanlp/pos/ctb5_pos_rnn_20191229_015325.zip to /root/.hanlp/pos\r\nDownloading https://github.com/SUDA-LA/CIP/archive/master.zip#BPNN/data/embed.txt to /root/.hanlp/thirdparty/github.com/SUDA-LA/CIP/archive/master.zip\r\n**100.00%, 4 KB/4 KB, 14.1 MB/s, ETA 0 s**      \r\nExtracting /root/.hanlp/thirdparty/github.com/SUDA-LA/CIP/archive/master.zip to /root/.hanlp/thirdparty/github.com/SUDA-LA/CIP/archive\r\nFailed to load https://file.hankcs.com/hanlp/pos/ctb5_pos_rnn_20191229_015325.zip. See stack trace below\r\nTraceback (most recent call last):\r\n  File \"/usr/local/lib/python3.6/dist-packages/hanlp/utils/component_util.py\", line 43, in load_from_meta_file\r\n    obj.load(save_dir, **load_kwargs)\r\n  File \"/usr/local/lib/python3.6/dist-packages/hanlp/common/component.py\", line 244, in load\r\n    self.build(**merge_dict(self.config, training=False, logger=logger, **kwargs, overwrite=True, inplace=True))\r\n  File \"/usr/local/lib/python3.6/dist-packages/hanlp/common/component.py\", line 255, in build\r\n    loss=kwargs.get('loss', None)))\r\n  File \"/usr/local/lib/python3.6/dist-packages/hanlp/components/taggers/rnn_tagger.py\", line 34, in build_model\r\n    embeddings = build_embedding(embeddings, self.transform.word_vocab, self.transform)\r\n  File \"/usr/local/lib/python3.6/dist-packages/hanlp/layers/embeddings/__init__.py\", line 53, in build_embedding\r\n    trainable=config.get('embedding_trainable', False))\r\n  File \"/usr/local/lib/python3.6/dist-packages/hanlp/layers/embeddings/word2vec.py\", line 22, in __init__\r\n    self.vocab, self.array_np = self._load(path, vocab, normalize)\r\n  File \"/usr/local/lib/python3.6/dist-packages/hanlp/layers/embeddings/word2vec.py\", line 50, in _load\r\n    word2vec, dim = load_word2vec(path)\r\n  File \"/usr/local/lib/python3.6/dist-packages/hanlp/utils/io_util.py\", line 420, in load_word2vec\r\n    with open(realpath, encoding='utf-8', errors='ignore') as f:\r\n**FileNotFoundError**: [Errno 2] No such file or directory: '/root/.hanlp/thirdparty/github.com/SUDA-LA/CIP/archive/master/BPNN/data/embed.txt'\r\nhttps://file.hankcs.com/hanlp/pos/ctb5_pos_rnn_20191229_015325.zip was created with hanlp-2.0.0, while you are running 2.0.0-alpha.25. Try to upgrade hanlp with\r\npip install --upgrade hanlp\r\n\r\n* [x] I've completed this form and searched the web for solutions.\r\n", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1403/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/1403/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1399", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/1399/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/1399/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/1399/events", "html_url": "https://github.com/hankcs/HanLP/issues/1399", "id": 548484956, "node_id": "MDU6SXNzdWU1NDg0ODQ5NTY=", "number": 1399, "title": "Error in component_util.py file. Should be sys.exit(), but instead it is exit(). Also need to import sys ", "user": {"login": "ElToro13", "id": 26636828, "node_id": "MDQ6VXNlcjI2NjM2ODI4", "avatar_url": "https://avatars.githubusercontent.com/u/26636828?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ElToro13", "html_url": "https://github.com/ElToro13", "followers_url": "https://api.github.com/users/ElToro13/followers", "following_url": "https://api.github.com/users/ElToro13/following{/other_user}", "gists_url": "https://api.github.com/users/ElToro13/gists{/gist_id}", "starred_url": "https://api.github.com/users/ElToro13/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ElToro13/subscriptions", "organizations_url": "https://api.github.com/users/ElToro13/orgs", "repos_url": "https://api.github.com/users/ElToro13/repos", "events_url": "https://api.github.com/users/ElToro13/events{/privacy}", "received_events_url": "https://api.github.com/users/ElToro13/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2020-01-11T21:54:43Z", "updated_at": "2020-01-11T22:29:09Z", "closed_at": "2020-01-11T22:29:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\nPlease carefully fill out this form to bypass our spam filter. Please make sure that this is a bug. We only address bugs and feature requests issues on GitHub. Other questions should be posted on stackoverflow or https://bbs.hankcs.com/\r\n\u4ee5\u4e0b\u5fc5\u586b\uff0c\u5426\u5219\u76f4\u63a5\u5173\u95ed\u3002\r\n-->\r\n\r\n**Describe the bug**\r\nI am trying to run NER with hanlp, but it is giving me an error. I am running the following comman in Google Colab with GPU\r\n\r\nrecognizer = hanlp.load(hanlp.pretrained.ner.CONLL03_NER_BERT_BASE_UNCASED_EN)\r\n\r\n**Code to reproduce the issue**\r\nFollowing were my Cell values in Colab\r\n!pip install --hanlp\r\nimport hanlp\r\nrecognizer = hanlp.load(hanlp.pretrained.ner.CONLL03_NER_BERT_BASE_UNCASED_EN)\r\n\r\n\r\n```python\r\n```\r\n\r\n**Describe the current behavior**\r\nWhen I run the said code, I get the follwoing error and point to this file \"component_util.py\"\r\nNameError: name 'exit' is not defined on line 56\r\n\r\n**Expected behavior**\r\nThe command should have ran successfully allowing me to Find Named Entity in  sentence\r\n\r\n**System information**\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Google Colab with GPU\r\n- Python version: 3.6\r\n- HanLP version: 2.0.0\r\n\r\n**Other info / logs**\r\nInclude any logs or source code that would be helpful to diagnose the problem. If including tracebacks, please include the full traceback. Large logs and files should be attached.\r\n\r\n* [x] I've completed this form and searched the web for solutions.\r\n", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1399/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/1399/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1397", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/1397/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/1397/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/1397/events", "html_url": "https://github.com/hankcs/HanLP/issues/1397", "id": 547945691, "node_id": "MDU6SXNzdWU1NDc5NDU2OTE=", "number": 1397, "title": "\u805a\u7c7b\u7b97\u6cd5-\u4f20\u5165\u7c07\u53c2\u6570\u5927\u4e8e\u6587\u6863\u4e2a\u6570\u65f6\u62a5\u7a7a\u6307\u9488", "user": {"login": "Mryang11", "id": 9442207, "node_id": "MDQ6VXNlcjk0NDIyMDc=", "avatar_url": "https://avatars.githubusercontent.com/u/9442207?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Mryang11", "html_url": "https://github.com/Mryang11", "followers_url": "https://api.github.com/users/Mryang11/followers", "following_url": "https://api.github.com/users/Mryang11/following{/other_user}", "gists_url": "https://api.github.com/users/Mryang11/gists{/gist_id}", "starred_url": "https://api.github.com/users/Mryang11/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Mryang11/subscriptions", "organizations_url": "https://api.github.com/users/Mryang11/orgs", "repos_url": "https://api.github.com/users/Mryang11/repos", "events_url": "https://api.github.com/users/Mryang11/events{/privacy}", "received_events_url": "https://api.github.com/users/Mryang11/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-01-10T08:51:48Z", "updated_at": "2020-01-10T18:50:14Z", "closed_at": "2020-01-10T18:50:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\nPlease carefully fill out this form to bypass our spam filter. Please make sure that this is a bug. We only address bugs and feature requests issues on GitHub. Other questions should be posted on stackoverflow or https://bbs.hankcs.com/\r\n\u4ee5\u4e0b\u5fc5\u586b\uff0c\u5426\u5219\u76f4\u63a5\u5173\u95ed\u3002\r\n-->\r\n\r\n**Describe the bug**\r\n\u4f20\u5165\u7c07\u53c2\u6570\u5927\u4e8e\u6587\u6863\u4e2a\u6570\u65f6\u62a5\u7a7a\u6307\u9488\r\n\r\n**Code to reproduce the issue**\r\nProvide a reproducible test case that is the bare minimum necessary to generate the problem.\r\n\r\n```\r\npublic static void main(String[] args) {\r\n\t\tString a = \"select * from table;\";\r\n\t\tString b = \"select * from table;\";\r\n\t\tString c = \"select * from table where id = 100;\";\r\n\t\tString d = \"select * from table;\";\r\n\t\tString e = \"delete from table;\";\r\n\t\tString f = \"update table set age = 1 where id = 9\";\r\n\t\tString g = \"update table set age = 1 where id = 88\";\r\n\t\tString h = \"update table set age = 1 where id = 10\";\r\n\r\n\t\tSet<Integer> set = new HashSet<>();\r\n\t\tList<String> list = new ArrayList<>();\r\n\t\tlist.add(a);\r\n\t\tlist.add(b);\r\n\t\tlist.add(c);\r\n\t\tlist.add(d);\r\n\t\tlist.add(e);\r\n\t\tlist.add(f);\r\n\t\tlist.add(g);\r\n\t\tlist.add(h);\r\n\t\tString[] array = list.toArray(new String[0]);\r\n\t\tset.add(0);\r\n\t\tset.add(1);\r\n\t\tset.add(3);\r\n\t\tset.add(5);\r\n\t\tset.add(6);\r\n\t\tset.add(7);\r\n\t\tSystem.out.println(\"================\u805a\u7c7b\u7b97\u6cd5==============\");\r\n\t\tClusterAnalyzer<String> analyzer = new ClusterAnalyzer<>();\r\n\t\tfor (Integer s: set) {\r\n\t\t\tanalyzer.addDocument(String.valueOf(s), array[s]);\r\n\t\t}\r\n\t\t// k\u5927\u4e8eset\u96c6\u5408\u5927\u5c0f\r\n\t\tint k = 10;\r\n\t\tSystem.out.println(analyzer.kmeans(k));\r\n\t\tSystem.out.println();\r\n\r\n\t\tSystem.out.println(analyzer.repeatedBisection(k));\r\n\t\tSystem.out.println(analyzer.repeatedBisection(1.0));\r\n\r\n\t}\r\n```\r\n\r\n**Describe the current behavior**\r\n```\r\nkmeans:\r\n================\u805a\u7c7b\u7b97\u6cd5==============\r\nException in thread \"main\" java.lang.NullPointerException\r\n\tat com.hankcs.hanlp.mining.cluster.ClusterAnalyzer.refine_clusters(ClusterAnalyzer.java:263)\r\n\tat com.hankcs.hanlp.mining.cluster.ClusterAnalyzer.kmeans(ClusterAnalyzer.java:147)\r\n```\r\n```\r\nrepeatedBisection:\r\n================\u805a\u7c7b\u7b97\u6cd5==============\r\n\r\nException in thread \"main\" java.lang.NullPointerException\r\n\tat com.hankcs.hanlp.mining.cluster.ClusterAnalyzer.repeatedBisection(ClusterAnalyzer.java:222)\r\n\tat com.hankcs.hanlp.mining.cluster.ClusterAnalyzer.repeatedBisection(ClusterAnalyzer.java:180)\r\n```\r\n**Expected behavior**\r\n\u7c07\u7c7b\u53c2\u6570\u4f20\u7684\u503c\u8d8a\u754c\u65f6\uff0c\u7a0b\u5e8f\u5e94\u5f53\u53cb\u597d\u5904\u7406\u4e3a\u6587\u6863\u4e2a\u6570\r\n**System information**\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Mac OS\r\n- Python version:\r\n- HanLP version: 1.7.6\r\n\r\n**Other info / logs**\r\nInclude any logs or source code that would be helpful to diagnose the problem. If including tracebacks, please include the full traceback. Large logs and files should be attached.\r\n\r\n* [x] I've completed this form and searched the web for solutions.\r\n", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1397/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/1397/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1396", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/1396/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/1396/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/1396/events", "html_url": "https://github.com/hankcs/HanLP/issues/1396", "id": 547866488, "node_id": "MDU6SXNzdWU1NDc4NjY0ODg=", "number": 1396, "title": "ModuleNotFoundError: No module named 'regex'", "user": {"login": "butlerwilson", "id": 18698493, "node_id": "MDQ6VXNlcjE4Njk4NDkz", "avatar_url": "https://avatars.githubusercontent.com/u/18698493?v=4", "gravatar_id": "", "url": "https://api.github.com/users/butlerwilson", "html_url": "https://github.com/butlerwilson", "followers_url": "https://api.github.com/users/butlerwilson/followers", "following_url": "https://api.github.com/users/butlerwilson/following{/other_user}", "gists_url": "https://api.github.com/users/butlerwilson/gists{/gist_id}", "starred_url": "https://api.github.com/users/butlerwilson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/butlerwilson/subscriptions", "organizations_url": "https://api.github.com/users/butlerwilson/orgs", "repos_url": "https://api.github.com/users/butlerwilson/repos", "events_url": "https://api.github.com/users/butlerwilson/events{/privacy}", "received_events_url": "https://api.github.com/users/butlerwilson/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 1776735654, "node_id": "MDU6TGFiZWwxNzc2NzM1NjU0", "url": "https://api.github.com/repos/hankcs/HanLP/labels/auto-replied", "name": "auto-replied", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 24, "created_at": "2020-01-10T04:59:29Z", "updated_at": "2020-01-10T05:33:38Z", "closed_at": "2020-01-10T05:33:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\nPlease carefully fill out this form to bypass our spam filter. Please make sure that this is a bug. We only address bugs and feature requests issues on GitHub. Other questions should be posted on stackoverflow or https://bbs.hankcs.com/\r\n\u4ee5\u4e0b\u5fc5\u586b\uff0c\u5426\u5219\u76f4\u63a5\u5173\u95ed\u3002\r\n-->\r\n\r\n**Describe the bug**\r\n\r\n**ModuleNotFoundError: No module named 'regex'**\r\n\r\n**Code to reproduce the issue**\r\nProvide a reproducible test case that is the bare minimum necessary to generate the problem.\r\n\r\n```python\r\nPython 3.7.5 (default, Jan  6 2020, 17:18:04)\r\n[Clang 11.0.0 (clang-1100.0.33.16)] on darwin\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> import hanlp\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/Users/user/.pyenv/versions/3.7.5/lib/python3.7/site-packages/hanlp/__init__.py\", line 6, in <module>\r\n    import hanlp.common\r\n  File \"/Users/user/.pyenv/versions/3.7.5/lib/python3.7/site-packages/hanlp/common/__init__.py\", line 4, in <module>\r\n    from . import component\r\n  File \"/Users/user/.pyenv/versions/3.7.5/lib/python3.7/site-packages/hanlp/common/component.py\", line 17, in <module>\r\n    from hanlp.common.structure import SerializableDict\r\n  File \"/Users/user/.pyenv/versions/3.7.5/lib/python3.7/site-packages/hanlp/common/structure.py\", line 6, in <module>\r\n    from hanlp.utils.io_util import save_json, save_pickle, load_pickle, load_json, filename_is_json\r\n  File \"/Users/user/.pyenv/versions/3.7.5/lib/python3.7/site-packages/hanlp/utils/__init__.py\", line 5, in <module>\r\n    from . import rules\r\n  File \"/Users/user/.pyenv/versions/3.7.5/lib/python3.7/site-packages/hanlp/utils/rules.py\", line 3, in <module>\r\n    from hanlp.utils.english_tokenizer import tokenize_english\r\n  File \"/Users/user/.pyenv/versions/3.7.5/lib/python3.7/site-packages/hanlp/utils/english_tokenizer.py\", line 12, in <module>\r\n    from regex import compile, DOTALL, UNICODE, VERBOSE\r\nModuleNotFoundError: No module named 'regex'\r\n```\r\n\r\n**Describe the current behavior**\r\nModuleNotFoundError: No module named 'regex'\r\n\r\n**Expected behavior**\r\nNo error, no warning.\r\n\r\n**System information**\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Darwin MacBook 19.2.0\r\n- Python version: 3.7.5\r\n- HanLP version: 2.0.0a10\r\n\r\n**Other info / logs**\r\n\r\n**Solved**\r\n\r\n```\r\npip install regex\r\n```", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1396/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/1396/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1394", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/1394/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/1394/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/1394/events", "html_url": "https://github.com/hankcs/HanLP/issues/1394", "id": 547281876, "node_id": "MDU6SXNzdWU1NDcyODE4NzY=", "number": 1394, "title": "\u4e0b\u8f7d\u53e5\u6cd5\u89e3\u6790\u65f6\u51fa\u9519", "user": {"login": "NLPpupil", "id": 32960135, "node_id": "MDQ6VXNlcjMyOTYwMTM1", "avatar_url": "https://avatars.githubusercontent.com/u/32960135?v=4", "gravatar_id": "", "url": "https://api.github.com/users/NLPpupil", "html_url": "https://github.com/NLPpupil", "followers_url": "https://api.github.com/users/NLPpupil/followers", "following_url": "https://api.github.com/users/NLPpupil/following{/other_user}", "gists_url": "https://api.github.com/users/NLPpupil/gists{/gist_id}", "starred_url": "https://api.github.com/users/NLPpupil/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/NLPpupil/subscriptions", "organizations_url": "https://api.github.com/users/NLPpupil/orgs", "repos_url": "https://api.github.com/users/NLPpupil/repos", "events_url": "https://api.github.com/users/NLPpupil/events{/privacy}", "received_events_url": "https://api.github.com/users/NLPpupil/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-01-09T06:40:41Z", "updated_at": "2020-01-09T07:31:24Z", "closed_at": "2020-01-09T07:31:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "\r\n\r\n**Describe the bug**\r\n\u4e0b\u8f7d\u53e5\u6cd5\u89e3\u6790\u65f6\u51fa\u9519\uff0c\u63d0\u793ahttps://file.hankcs.com/hanlp/dep/biaffine_ctb7_20191229_130325.zip was created with hanlp-2.0.0, but you are running 2.0.0-alpha.12. T\r\n\r\n**Code to reproduce the issue**\r\nProvide a reproducible test case that is the bare minimum necessary to generate the problem.\r\n\r\n```python\r\nimport hanlp\r\nsyntactic_parser = hanlp.load(hanlp.pretrained.dep.CTB7_BIAFFINE_DEP_ZH)\r\n```\r\n\r\n**Describe the current behavior**\r\n```\r\nDownloading https://file.hankcs.com/hanlp/dep/biaffine_ctb7_20191229_130325.zip to /Users/wuhaixu/.hanlp/dep/biaffine_ctb7_20191229_130325.zip\r\n100.00%, 65.8 MB/65.8 MB, 219 KB/s, ETA 0 s          \r\nExtracting /Users/wuhaixu/.hanlp/dep/biaffine_ctb7_20191229_130325.zip to /Users/wuhaixu/.hanlp/dep\r\nDownloading https://github.com/SUDA-LA/CIP/archive/master.zip#BPNN/data/embed.txt to /Users/wuhaixu/.hanlp/thirdparty/github.com/SUDA-LA/CIP/archive/master.zip\r\n100.00%, 0 KB/0 KB, 0 KB/s, ETA 0 s      \r\nExtracting /Users/wuhaixu/.hanlp/thirdparty/github.com/SUDA-LA/CIP/archive/master.zip to /Users/wuhaixu/.hanlp/thirdparty/github.com/SUDA-LA/CIP/archive\r\nFailed to load https://file.hankcs.com/hanlp/dep/biaffine_ctb7_20191229_130325.zip. See stack trace below\r\nTraceback (most recent call last):\r\n  File \"/Users/wuhaixu/anaconda3/lib/python3.6/site-packages/hanlp/utils/component_util.py\", line 36, in load_from_meta_file\r\n    obj.load(save_dir)\r\n  File \"/Users/wuhaixu/anaconda3/lib/python3.6/site-packages/hanlp/common/component.py\", line 231, in load\r\n    self.build(**merge_dict(self.config, training=False, logger=logger, **kwargs, overwrite=True, inplace=True))\r\n  File \"/Users/wuhaixu/anaconda3/lib/python3.6/site-packages/hanlp/common/component.py\", line 242, in build\r\n    loss=kwargs.get('loss', None)))\r\n  File \"/Users/wuhaixu/anaconda3/lib/python3.6/site-packages/hanlp/components/parsers/biaffine_parser.py\", line 35, in build_model\r\n    self.transform) if pretrained_embed else None\r\n  File \"/Users/wuhaixu/anaconda3/lib/python3.6/site-packages/hanlp/layers/embeddings/__init__.py\", line 33, in build_embedding\r\n    layer: tf.keras.layers.Embedding = tf.keras.utils.deserialize_keras_object(embeddings)\r\n  File \"/Users/wuhaixu/anaconda3/lib/python3.6/site-packages/tensorflow_core/python/keras/utils/generic_utils.py\", line 305, in deserialize_keras_object\r\n    return cls.from_config(cls_config)\r\n  File \"/Users/wuhaixu/anaconda3/lib/python3.6/site-packages/tensorflow_core/python/keras/engine/base_layer.py\", line 519, in from_config\r\n    return cls(**config)\r\n  File \"/Users/wuhaixu/anaconda3/lib/python3.6/site-packages/hanlp/layers/embeddings/word2vec.py\", line 119, in __init__\r\n    word2vec, _output_dim = load_word2vec(filepath)\r\n  File \"/Users/wuhaixu/anaconda3/lib/python3.6/site-packages/hanlp/utils/io_util.py\", line 410, in load_word2vec\r\n    with open(realpath, encoding='utf-8', errors='ignore') as f:\r\nFileNotFoundError: [Errno 2] No such file or directory: '/Users/wuhaixu/.hanlp/thirdparty/github.com/SUDA-LA/CIP/archive/master/BPNN/data/embed.txt'\r\nhttps://file.hankcs.com/hanlp/dep/biaffine_ctb7_20191229_130325.zip was created with hanlp-2.0.0, but you are running 2.0.0-alpha.12. Try to upgrade hanlp with\r\npip install --upgrade hanlp\r\n```\r\n\r\n\r\n**System information**\r\n- Mac OS\r\n- Python 3.6.9\r\n- HanLP version: 2.0.0-alpha.12\r\n\r\n\r\n\r\n* [x] I've completed this form and searched the web for solutions.\r\n", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1394/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/1394/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1393", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/1393/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/1393/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/1393/events", "html_url": "https://github.com/hankcs/HanLP/issues/1393", "id": 547249672, "node_id": "MDU6SXNzdWU1NDcyNDk2NzI=", "number": 1393, "title": "\u5b9e\u4f53\u8bc6\u522bAttributeError: 'FullTokenizer' object has no attribute 'unk_token'", "user": {"login": "NLPpupil", "id": 32960135, "node_id": "MDQ6VXNlcjMyOTYwMTM1", "avatar_url": "https://avatars.githubusercontent.com/u/32960135?v=4", "gravatar_id": "", "url": "https://api.github.com/users/NLPpupil", "html_url": "https://github.com/NLPpupil", "followers_url": "https://api.github.com/users/NLPpupil/followers", "following_url": "https://api.github.com/users/NLPpupil/following{/other_user}", "gists_url": "https://api.github.com/users/NLPpupil/gists{/gist_id}", "starred_url": "https://api.github.com/users/NLPpupil/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/NLPpupil/subscriptions", "organizations_url": "https://api.github.com/users/NLPpupil/orgs", "repos_url": "https://api.github.com/users/NLPpupil/repos", "events_url": "https://api.github.com/users/NLPpupil/events{/privacy}", "received_events_url": "https://api.github.com/users/NLPpupil/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-01-09T04:57:04Z", "updated_at": "2020-01-09T05:56:54Z", "closed_at": "2020-01-09T05:16:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\nPlease carefully fill out this form to bypass our spam filter. Please make sure that this is a bug. We only address bugs and feature requests issues on GitHub. Other questions should be posted on stackoverflow or https://bbs.hankcs.com/\r\n\u4ee5\u4e0b\u5fc5\u586b\uff0c\u5426\u5219\u76f4\u63a5\u5173\u95ed\u3002\r\n-->\r\n\r\n**Describe the bug**\r\n\u5b9e\u4f53\u8bc6\u522b\u8f93\u5165\u4ee5\u4e0b\u6587\u672c\u65f6\uff0c\u4f1a\u51fa\u73b0AttributeError: 'FullTokenizer' object has no attribute 'unk_token'\r\n\r\n**Code to reproduce the issue**\r\n```python\r\nimport hanlp\r\n\r\nrecognizer([list('\u5b7d\u503a \uff08\u4e0a\u6d77\u8bdd\uff09')])\r\nrecognizer([list('\u5173\u4e8e\u7231\u7684\u56db\u7bc7\u5c0f\u5c0f\u8bf4\u300a\u9c7c\u5934\u300b\u513f\u5b50\u4ece\u5c0f\u5c31\u8bb0\u5f97\uff0c\u4f46\u51e1\u5bb6\u91cc\u5403\u9c7c\uff0c\u5988\u5988\u603b\u662f\u628a\u9c7c\u5934\u5939\u81ea\u5df1\u7897\u91cc\uff0c\u56e0\u4e3a\u9c7c\u5934\u8089\u5c11\u3002\u540e\u6765\u6bcf\u6b21\u7238\u7238\u90fd\u628a\u9c7c\u5934\u5939\u7ed9\u5979\u3002\u76f4\u5230\u5988\u5988\u8001\u4e86\uff0c\u4f9d\u65e7\u5982\u6b64\u3002\u540e\u6765\uff0c\u5988\u5988\u75c5\u91cd\uff0c\u4e00\u5929\uff0c\u5bb6\u91cc\u53c8\u5403\u9c7c\u4e86\uff0c\u5988\u5988\u8ddf\u4ed6\u548c\u7238\u7238\u8bf4\uff1a\u6211\u5403\u4e86\u4e00\u8f88\u5b50\u9c7c\u5934\uff0c\u6211\u8981\u6b7b\u4e86\uff0c\u8ba9\u6211\u4e5f\u5403\u4e00\u6b21\u9c7c\u8089\u5427\u3002\u7238\u7238\u75db\u54ed\uff1a\u201c\u6211\u8fd9\u8f88\u5b50\u6700\u559c\u6b22\u7684\u5c31\u662f\u9c7c\u5934\u5c31\u9152\uff0c\u6211\u4ee5\u4e3a\u4f60\u771f\u7684\u7231\u5403\uff0c\u624d\u6bcf \u6b21\u5fcd\u7740\u53e3\u6c34\u628a\u9c7c\u5934\u8ba9\u7ed9\u4f60\u3002\u201d\u300a\u4e0b\u96e8\u300b\u4e00\u573a\u8f66\u7978\uff0c\u593a\u8d70\u4e86\u5973\u5b69\u5f88\u591a\u4e1c\u897f\uff0c\u5973\u5b69\u53d8\u5f97\u53c8\u804b\u53c8\u778e\uff0c\u7537\u670b\u53cb\u4e5f\u79bb\u5979\u800c\u53bb\uff0c\u53ea\u6709\u5988\u5988\u4e00\u76f4\u966a\u5728\u5979\u8eab\u8fb9\u3002\u5973\u5b69\u4ece\u5c0f\u5c31\u559c\u6b22\u4e0b\u96e8\u5929\uff0c\u5979\u559c\u6b22\u5728\u7ec6\u96e8\u4e2d\u6f2b\u6b65\u7684\u611f \u89c9\u3002\u5988\u5988\u77e5\u9053\u5979\u559c\u6b22\u96e8\uff0c\u5c31\u5e38\u6276\u5973\u5b69\u51fa\u53bb\uff0c\u8ba9\u5979\u611f\u53d7\u96e8\u6c34\u62cd\u6253\u53cc\u624b\u3002\u6240\u5e78\u7684\u662f\u4eca\u5e74\u96e8\u7279\u522b\u591a\u3002\u4e00\u5929\uff0c\u53c8\u4e0b\u96e8\u4e86\uff0c\u5988\u5988\u6276\u5973\u513f\u51fa\u53bb\u3002\u201c\u5988\uff0c\u6211\u60f3\u56de\u53bb\u4e86\u3002\u201d\"\u597d\u3002\u201d\u56de\u53bb\u65f6\u5973\u513f\u7684\u8033\u6735\u7a81\u7136\u6709\u4e86\u5267\u70c8\u7684\u75bc\u75db\u548c\u53cd\u5e94\uff0c\u6a21\u7cca\u4e2d\u9690\u7ea6\u542c\u5230\uff1a\u201c\u770b\uff0c\u53c8\u662f\u90a3\u4e24\u4e2a\u4eba\uff0c\u5927\u6674\u5929\u7684\u96c7\u4eba\u6d12\u6c34\uff0c\u771f\u53ef\u7b11\uff0c\u53c8\u4e0d\u662f\u62cd\u620f......\u201d\u6b64\u523b\uff0c\u5979\u5f3a\u5fcd\u6cea\u6c34\uff0c\u4e0d\u8ba9\u5988\u5988\u770b\u89c1\u3002\u00a0\u300a\u8001\u4f34\u300b\u9000\u4f11\u5728\u5bb6\u540e\uff0c\u8001\u4f34\u6700\u7231\u4ece\u65e9\u5230\u665a\u6570\u843d\u6211\u53c8 \u8001\u53c8\u80d6\u597d\u5403\u61d2\u505a\u3002\u4eca\u65e9\u8d77\u5e8a\u6211\u7a81\u7136\u54b3\u55fd\u5e76\u5410\u51fa\u4e00\u53e3\u9c9c\u8840\uff0c\u4ed6\u770b\u5230\u540e\u6574\u4e2a\u4e0a\u5348\u6ca1\u6709\u8bf4\u51fa\u4e00\u53e5\u8bdd\uff0c\u95f7\u95f7\u7684\u62bd\u70df\u3002\u4e2d\u5348\u62c9\u6211\u53bb\u4e86\u533b\u9662\uff0c\u6700\u540e\u5f97\u77e5\u90a3\u662f\u6211\u7259\u9f88\u53d1\u708e\u53e3\u8154\u51fa\u7684\u8840\uff0c\u4ed6\u7acb\u9a6c\u5c31\u7ad9\u5728\u533b\u9662\u6012\u9a82\u6211\uff1a\u201d\u4f60\u8fd9\u4e2a\u6ca1\u7528\u7684\u80d6\u8001\u592a\u5a46\u2026\u2026\u201d\u53ea\u662f\u6ca1\u9a82\u5b8c\uff0c\u4ed6\u7684\u773c\u7736\u5df2\u6ee1\u662f\u6cea\u6c34......\u300a\u5b58\u6298\u300b\u8001\u4eba\u5f97\u80ba\u764c\u4f4f\u9662\uff0c\u5bb6\u91cc\u51e0\u4e4e\u638f\u7a7a\u4e86\uff0c\u6700\u540e\u5b9e\u5728\u6ca1\u529e\u6cd5\uff0c\u5bb6\u4eba\u53ea\u80fd\u773c\u7741\u7741\u770b\u7740\u8001\u4eba\u53d7\u7740\u75c5\u75db\u7684\u6298\u78e8\u3002\u8001\u4eba\u4e34\u8d70\u524d\u7684\u4e00\u665a\uff0c\u5c06\u5b59\u5b50\u53eb\u5230\u5e8a\u524d\uff0c\u5c0f\u5fc3\u5730\u4ece\u6000\u4e2d\u638f\u51fa\u4e00\u672c\u5b58\u6298\uff0c\u5c0f\u58f0\u5bf9\u5b59\u5b50\u8bf4\uff1a\u8fd9\u662f\u6211\u7559\u7684\u4e00\u70b9\u79c1\u623f\u94b1\uff0c\u5c31\u77e5\u9053\u90a3\u50bb\u8001\u5a46\u5b50\u4f1a\u628a\u81ea\u5df1\u7684\u517b\u8001\u94b1\u62ff\u51fa\u6765\u7ed9\u6211\u770b\u75c5\uff0c\u8fd9\u94b1\u662f\u6211\u5077\u5077\u85cf\u7684\uff0c\u7b49\u6211\u8d70\u540e\u5c31\u7559\u7ed9\u5979\u517b\u8001\u5427\u2026\u2026\u5c0f\u58f0\u5bf9\u5b59\u5b50\u8bf4\uff1a\u8fd9\u662f\u6211\u7559\u7684\u4e00\u70b9\u79c1\u623f\u94b1\uff0c\u5c31\u77e5\u9053\u90a3\u50bb\u8001\u5a46\u5b50\u4f1a\u628a\u81ea\u5df1\u7684\u517b\u8001\u94b1\u62ff\u51fa\u6765\u7ed9\u6211\u770b\u75c5\uff0c\u8fd9\u94b1\u662f\u6211\u5077\u5077\u85cf\u7684\uff0c\u7b49\u6211\u8d70\u540e\u5c31\u7559\u7ed9\u5979\u517b\u8001\u5427\u2026\u2026')])\r\n```\r\n\r\n**Describe the current behavior**\r\nTraceback (most recent call last):\r\n  File \"/Users/wuhaixu/anaconda3/lib/python3.6/site-packages/tensorflow_core/python/eager/context.py\", line 1897, in execution_mode\r\n    yield\r\n  File \"/Users/wuhaixu/anaconda3/lib/python3.6/site-packages/tensorflow_core/python/data/ops/iterator_ops.py\", line 659, in _next_internal\r\n    output_shapes=self._flat_output_shapes)\r\n  File \"/Users/wuhaixu/anaconda3/lib/python3.6/site-packages/tensorflow_core/python/ops/gen_dataset_ops.py\", line 2479, in iterator_get_next_sync\r\n    _ops.raise_from_not_ok_status(e, name)\r\n  File \"/Users/wuhaixu/anaconda3/lib/python3.6/site-packages/tensorflow_core/python/framework/ops.py\", line 6606, in raise_from_not_ok_status\r\n    six.raise_from(core._status_to_exception(e.code, message), None)\r\n  File \"<string>\", line 3, in raise_from\r\ntensorflow.python.framework.errors_impl.UnknownError: AttributeError: 'FullTokenizer' object has no attribute 'unk_token'\r\nTraceback (most recent call last):\r\n\r\n  File \"/Users/wuhaixu/anaconda3/lib/python3.6/site-packages/tensorflow_core/python/ops/script_ops.py\", line 236, in __call__\r\n    ret = func(*args)\r\n\r\n  File \"/Users/wuhaixu/anaconda3/lib/python3.6/site-packages/tensorflow_core/python/data/ops/dataset_ops.py\", line 789, in generator_py_func\r\n    values = next(generator_state.get_iterator(iterator_id))\r\n\r\n  File \"/Users/wuhaixu/anaconda3/lib/python3.6/site-packages/hanlp/common/transform.py\", line 155, in generator\r\n    yield from samples\r\n\r\n  File \"/Users/wuhaixu/anaconda3/lib/python3.6/site-packages/hanlp/components/taggers/transformers/transformer_transform.py\", line 85, in inputs_to_samples\r\n    pad_token_label_id=pad_label_idx)\r\n\r\n  File \"/Users/wuhaixu/anaconda3/lib/python3.6/site-packages/hanlp/components/taggers/transformers/utils.py\", line 43, in convert_examples_to_features\r\n    word_tokens = [x] * len(word)\r\n\r\nAttributeError: 'FullTokenizer' object has no attribute 'unk_token'\r\n\r\n\r\n\t [[{{node PyFunc}}]] [Op:IteratorGetNextSync]\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/Users/wuhaixu/anaconda3/lib/python3.6/site-packages/hanlp/common/component.py\", line 51, in __call__\r\n    return self.predict(data, **kwargs)\r\n  File \"/Users/wuhaixu/anaconda3/lib/python3.6/site-packages/hanlp/common/component.py\", line 441, in predict\r\n    for idx, batch in enumerate(dataset):\r\n  File \"/Users/wuhaixu/anaconda3/lib/python3.6/site-packages/tensorflow_core/python/data/ops/iterator_ops.py\", line 630, in __next__\r\n    return self.next()\r\n  File \"/Users/wuhaixu/anaconda3/lib/python3.6/site-packages/tensorflow_core/python/data/ops/iterator_ops.py\", line 674, in next\r\n    return self._next_internal()\r\n  File \"/Users/wuhaixu/anaconda3/lib/python3.6/site-packages/tensorflow_core/python/data/ops/iterator_ops.py\", line 665, in _next_internal\r\n    return structure.from_compatible_tensor_list(self._element_spec, ret)\r\n  File \"/Users/wuhaixu/anaconda3/lib/python3.6/contextlib.py\", line 99, in __exit__\r\n    self.gen.throw(type, value, traceback)\r\n  File \"/Users/wuhaixu/anaconda3/lib/python3.6/site-packages/tensorflow_core/python/eager/context.py\", line 1900, in execution_mode\r\n    executor_new.wait()\r\n  File \"/Users/wuhaixu/anaconda3/lib/python3.6/site-packages/tensorflow_core/python/eager/executor.py\", line 67, in wait\r\n    pywrap_tensorflow.TFE_ExecutorWaitForAllPendingNodes(self._handle)\r\ntensorflow.python.framework.errors_impl.UnknownError: AttributeError: 'FullTokenizer' object has no attribute 'unk_token'\r\nTraceback (most recent call last):\r\n\r\n  File \"/Users/wuhaixu/anaconda3/lib/python3.6/site-packages/tensorflow_core/python/ops/script_ops.py\", line 236, in __call__\r\n    ret = func(*args)\r\n\r\n  File \"/Users/wuhaixu/anaconda3/lib/python3.6/site-packages/tensorflow_core/python/data/ops/dataset_ops.py\", line 789, in generator_py_func\r\n    values = next(generator_state.get_iterator(iterator_id))\r\n\r\n  File \"/Users/wuhaixu/anaconda3/lib/python3.6/site-packages/hanlp/common/transform.py\", line 155, in generator\r\n    yield from samples\r\n\r\n  File \"/Users/wuhaixu/anaconda3/lib/python3.6/site-packages/hanlp/components/taggers/transformers/transformer_transform.py\", line 85, in inputs_to_samples\r\n    pad_token_label_id=pad_label_idx)\r\n\r\n  File \"/Users/wuhaixu/anaconda3/lib/python3.6/site-packages/hanlp/components/taggers/transformers/utils.py\", line 43, in convert_examples_to_features\r\n    word_tokens = [tokenizer.unk_token] * len(word)\r\n\r\nAttributeError: 'FullTokenizer' object has no attribute 'unk_token'\r\n\r\n\r\n\t [[{{node PyFunc}}]]\r\n\r\n\r\n**Expected behavior**\r\n\u671f\u671b\u987a\u5229\u8fd4\u56de\u5b9e\u4f53\u8bc6\u522b\u7ed3\u679c\r\n\r\n**System information**\r\n- MacOS 10.14.6\r\n- python3.6.9\r\n- 2.0.0-alpha.10\r\n\r\n\r\n\r\n* [x] I've completed this form and searched the web for solutions.\r\n", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1393/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/1393/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1378", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/1378/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/1378/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/1378/events", "html_url": "https://github.com/hankcs/HanLP/issues/1378", "id": 545262116, "node_id": "MDU6SXNzdWU1NDUyNjIxMTY=", "number": 1378, "title": "\u8bcd\u6027\u5206\u6790\u7684\u8fc7\u7a0b\u4e2d\u62a5\u9519", "user": {"login": "lemonsuan", "id": 32639901, "node_id": "MDQ6VXNlcjMyNjM5OTAx", "avatar_url": "https://avatars.githubusercontent.com/u/32639901?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lemonsuan", "html_url": "https://github.com/lemonsuan", "followers_url": "https://api.github.com/users/lemonsuan/followers", "following_url": "https://api.github.com/users/lemonsuan/following{/other_user}", "gists_url": "https://api.github.com/users/lemonsuan/gists{/gist_id}", "starred_url": "https://api.github.com/users/lemonsuan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lemonsuan/subscriptions", "organizations_url": "https://api.github.com/users/lemonsuan/orgs", "repos_url": "https://api.github.com/users/lemonsuan/repos", "events_url": "https://api.github.com/users/lemonsuan/events{/privacy}", "received_events_url": "https://api.github.com/users/lemonsuan/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2020-01-04T09:12:55Z", "updated_at": "2020-01-05T09:29:23Z", "closed_at": "2020-01-05T09:29:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "python \u7248\u672c:3.7.4\r\nhanlp  \u7248\u672c:2.0.0a5\r\n\u62a5\u9519\u4fe1\u606f:\r\n`\r\nTraceback (most recent call last):\r\n  File \"/home/cy/liunx_work_26/hanlp_eg.py\", line 15, in <module>\r\n    print(tagger.predict(['\u6211', '\u7684', '\u5e0c\u671b', '\u662f', '\u5e0c\u671b', '\u548c\u5e73']))\r\n  File \"/home/cy/anaconda3/lib/python3.7/site-packages/hanlp/components/taggers/rnn_tagger.py\", line 47, in predict\r\n    return super().predict(sents, batch_size)\r\n  File \"/home/cy/anaconda3/lib/python3.7/site-packages/hanlp/common/component.py\", line 445, in predict\r\n    for output in self.predict_batch(batch, inputs=inputs):\r\n  File \"/home/cy/anaconda3/lib/python3.7/site-packages/hanlp/common/component.py\", line 455, in predict_batch\r\n    Y = self.model.predict_on_batch(X)\r\n  File \"/home/cy/anaconda3/lib/python3.7/site-packages/tensorflow_core/python/keras/engine/training.py\", line 1240, in predict_on_batch\r\n    return training_v2_utils.predict_on_batch(self, x, standalone=True)\r\n  File \"/home/cy/anaconda3/lib/python3.7/site-packages/tensorflow_core/python/keras/engine/training_v2_utils.py\", line 556, in predict_on_batch\r\n    return predict_on_batch_fn(inputs)  # pylint: disable=not-callable\r\n  File \"/home/cy/anaconda3/lib/python3.7/site-packages/tensorflow_core/python/keras/engine/base_layer.py\", line 822, in __call__\r\n    outputs = self.call(cast_inputs, *args, **kwargs)\r\n  File \"/home/cy/anaconda3/lib/python3.7/site-packages/tensorflow_core/python/keras/engine/sequential.py\", line 267, in call\r\n    return super(Sequential, self).call(inputs, training=training, mask=mask)\r\n  File \"/home/cy/anaconda3/lib/python3.7/site-packages/tensorflow_core/python/keras/engine/network.py\", line 717, in call\r\n    convert_kwargs_to_constants=base_layer_utils.call_context().saving)\r\n  File \"/home/cy/anaconda3/lib/python3.7/site-packages/tensorflow_core/python/keras/engine/network.py\", line 891, in _run_internal_graph\r\n    output_tensors = layer(computed_tensors, **kwargs)\r\n  File \"/home/cy/anaconda3/lib/python3.7/site-packages/tensorflow_core/python/keras/layers/wrappers.py\", line 543, in __call__\r\n    return super(Bidirectional, self).__call__(inputs, **kwargs)\r\n  File \"/home/cy/anaconda3/lib/python3.7/site-packages/tensorflow_core/python/keras/engine/base_layer.py\", line 822, in __call__\r\n    outputs = self.call(cast_inputs, *args, **kwargs)\r\n  File \"/home/cy/anaconda3/lib/python3.7/site-packages/tensorflow_core/python/keras/layers/wrappers.py\", line 657, in call\r\n    initial_state=forward_state, **kwargs)\r\n  File \"/home/cy/anaconda3/lib/python3.7/site-packages/tensorflow_core/python/keras/layers/recurrent.py\", line 644, in __call__\r\n    return super(RNN, self).__call__(inputs, **kwargs)\r\n  File \"/home/cy/anaconda3/lib/python3.7/site-packages/tensorflow_core/python/keras/engine/base_layer.py\", line 822, in __call__\r\n    outputs = self.call(cast_inputs, *args, **kwargs)\r\n  File \"/home/cy/anaconda3/lib/python3.7/site-packages/tensorflow_core/python/keras/layers/recurrent_v2.py\", line 1147, in call\r\n    **normal_lstm_kwargs)\r\n  File \"/home/cy/anaconda3/lib/python3.7/site-packages/tensorflow_core/python/keras/layers/recurrent_v2.py\", line 1281, in standard_lstm\r\n    if sequence_lengths is not None else timesteps)\r\n  File \"/home/cy/anaconda3/lib/python3.7/site-packages/tensorflow_core/python/keras/backend.py\", line 3897, in rnn\r\n    if mask.dtype != dtypes_module.bool:\r\nTypeError: data type not understood\r\n`", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1378/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/1378/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1366", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/1366/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/1366/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/1366/events", "html_url": "https://github.com/hankcs/HanLP/issues/1366", "id": 544076886, "node_id": "MDU6SXNzdWU1NDQwNzY4ODY=", "number": 1366, "title": "\u77ed\u8bed\u63d0\u53d6\uff1a\u5f53\u5de6\u71b5\u6216\u53f3\u71b5\u90fd\u662f0\u65f6\uff0cscore\u4e3aNaN", "user": {"login": "allen615", "id": 19548392, "node_id": "MDQ6VXNlcjE5NTQ4Mzky", "avatar_url": "https://avatars.githubusercontent.com/u/19548392?v=4", "gravatar_id": "", "url": "https://api.github.com/users/allen615", "html_url": "https://github.com/allen615", "followers_url": "https://api.github.com/users/allen615/followers", "following_url": "https://api.github.com/users/allen615/following{/other_user}", "gists_url": "https://api.github.com/users/allen615/gists{/gist_id}", "starred_url": "https://api.github.com/users/allen615/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/allen615/subscriptions", "organizations_url": "https://api.github.com/users/allen615/orgs", "repos_url": "https://api.github.com/users/allen615/repos", "events_url": "https://api.github.com/users/allen615/events{/privacy}", "received_events_url": "https://api.github.com/users/allen615/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-12-31T03:28:59Z", "updated_at": "2019-12-31T03:37:07Z", "closed_at": "2019-12-31T03:37:03Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "<!--\r\n\u6ce8\u610f\u4e8b\u9879\u548c\u7248\u672c\u53f7\u5fc5\u586b\uff0c\u5426\u5219\u4e0d\u56de\u590d\u3002\u82e5\u5e0c\u671b\u5c3d\u5feb\u5f97\u5230\u56de\u590d\uff0c\u8bf7\u6309\u6a21\u677f\u8ba4\u771f\u586b\u5199\uff0c\u8c22\u8c22\u5408\u4f5c\u3002\r\n-->\r\n\r\n## \u6ce8\u610f\u4e8b\u9879\r\n\u8bf7\u786e\u8ba4\u4e0b\u5217\u6ce8\u610f\u4e8b\u9879\uff1a\r\n\r\n* \u6211\u5df2\u4ed4\u7ec6\u9605\u8bfb\u4e0b\u5217\u6587\u6863\uff0c\u90fd\u6ca1\u6709\u627e\u5230\u7b54\u6848\uff1a\r\n  - [\u9996\u9875\u6587\u6863](https://github.com/hankcs/HanLP)\r\n  - [wiki](https://github.com/hankcs/HanLP/wiki)\r\n  - [\u5e38\u89c1\u95ee\u9898](https://github.com/hankcs/HanLP/wiki/FAQ)\r\n* \u6211\u5df2\u7ecf\u901a\u8fc7[Google](https://www.google.com/#newwindow=1&q=HanLP)\u548c[issue\u533a\u68c0\u7d22\u529f\u80fd](https://github.com/hankcs/HanLP/issues)\u641c\u7d22\u4e86\u6211\u7684\u95ee\u9898\uff0c\u4e5f\u6ca1\u6709\u627e\u5230\u7b54\u6848\u3002\r\n* \u6211\u660e\u767d\u5f00\u6e90\u793e\u533a\u662f\u51fa\u4e8e\u5174\u8da3\u7231\u597d\u805a\u96c6\u8d77\u6765\u7684\u81ea\u7531\u793e\u533a\uff0c\u4e0d\u627f\u62c5\u4efb\u4f55\u8d23\u4efb\u6216\u4e49\u52a1\u3002\u6211\u4f1a\u793c\u8c8c\u53d1\u8a00\uff0c\u5411\u6bcf\u4e00\u4e2a\u5e2e\u52a9\u6211\u7684\u4eba\u8868\u793a\u611f\u8c22\u3002\r\n* [x] \u6211\u5728\u6b64\u62ec\u53f7\u5185\u8f93\u5165x\u6253\u94a9\uff0c\u4ee3\u8868\u4e0a\u8ff0\u4e8b\u9879\u786e\u8ba4\u5b8c\u6bd5\u3002\r\n\r\n## \u7248\u672c\u53f7\r\n<!-- \u53d1\u884c\u7248\u8bf7\u6ce8\u660ejar\u6587\u4ef6\u540d\u53bb\u6389\u62d3\u5c55\u540d\u7684\u90e8\u5206\uff1bGitHub\u4ed3\u5e93\u7248\u8bf7\u6ce8\u660emaster\u8fd8\u662fportable\u5206\u652f -->\r\n\r\n\u5f53\u524d\u6700\u65b0\u7248\u672c\u53f7\u662f\uff1a1.7.5\r\n\u6211\u4f7f\u7528\u7684\u7248\u672c\u662f\uff1a1.7.5\r\n\r\n<!--\u4ee5\u4e0a\u5c5e\u4e8e\u5fc5\u586b\u9879\uff0c\u4ee5\u4e0b\u53ef\u81ea\u7531\u53d1\u6325-->\r\n\r\n## \u6211\u7684\u95ee\u9898\r\n\r\n<!-- \u8bf7\u8be6\u7ec6\u63cf\u8ff0\u95ee\u9898\uff0c\u8d8a\u8be6\u7ec6\u8d8a\u53ef\u80fd\u5f97\u5230\u89e3\u51b3 -->\r\n\u5bf9\u67d0\u7bc7\u6587\u7ae0\u8fdb\u884c\u5173\u952e\u77ed\u8bed\u63d0\u53d6\u65f6\uff0c\u53d1\u73b0\u77ed\u8bed\u7684score\u90fd\u662fNaN\uff0c\u8ddf\u8fdb\u53d1\u73b0\u662f\u8bcd\u8bed\u7684\u5de6\u71b5\u6216\u53f3\u71b5\u90fd\u662f0\u5bfc\u81f4\u7684\r\n\r\n### \u89e6\u53d1\u4ee3\u7801\r\n\u4ece MutualInformationEntropyPhraseExtractor.extractPhrase(text, size)  ->  occurrence.compute()\r\n```\r\npackage com.hankcs.hanlp.corpus.occurrence;\r\npublic class Occurrence\r\n{\r\n...\r\n    /**\r\n     * \u8f93\u5165\u6570\u636e\u5b8c\u6bd5\uff0c\u6267\u884c\u8ba1\u7b97\r\n     */\r\n    public void compute()\r\n    {\r\n        entrySetPair = triePair.entrySet();\r\n        double total_mi = 0;\r\n        double total_le = 0;\r\n        double total_re = 0;\r\n        for (Map.Entry<String, PairFrequency> entry : entrySetPair)\r\n        {\r\n            PairFrequency value = entry.getValue();\r\n            value.mi = computeMutualInformation(value);\r\n            value.le = computeLeftEntropy(value);\r\n            value.re = computeRightEntropy(value);\r\n            total_mi += value.mi;\r\n            total_le += value.le;\r\n            total_re += value.re;\r\n        }\r\n\r\n        for (Map.Entry<String, PairFrequency> entry : entrySetPair)\r\n        {\r\n            PairFrequency value = entry.getValue();\r\n            // \u95ee\u9898\u51fa\u5728\u4e0b\u9762\u8fd9\u53e5\uff0c\u5f53total_le\u6216total_re\u4e3a0\u65f6\uff0cscore\u4e3aNaN\r\n            // \u56e0\u5bf9\u5de6\u53f3\u4fe1\u606f\u71b5\u4e0d\u592a\u4e86\u89e3\uff0c\u4e0d\u786e\u5b9a\u4e0b\u9762\u7684\u5904\u7406\u65b9\u5f0f\u662f\u5426\u53ef\u884c\uff1a\r\n            // \u7ed9\u5206\u6bcd\u52a0\u4e00\u4e2a\u8db3\u591f\u5c0f\u7684\u6570\uff0c\u4f8b\u5982\uff1avalue.score = value.mi / total_mi + value.le / (total_le+0.0001)+ value.re / (total_re+0.0001);\r\n            value.score = value.mi / total_mi + value.le / total_le+ value.re / total_re;   // \u5f52\u4e00\u5316\r\n            value.score *= entrySetPair.size();\r\n        }\r\n    }\r\n}\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1366/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/1366/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1260", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/1260/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/1260/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/1260/events", "html_url": "https://github.com/hankcs/HanLP/issues/1260", "id": 477300285, "node_id": "MDU6SXNzdWU0NzczMDAyODU=", "number": 1260, "title": "java.lang.NullPointerException", "user": {"login": "liuchenbaidu", "id": 20473182, "node_id": "MDQ6VXNlcjIwNDczMTgy", "avatar_url": "https://avatars.githubusercontent.com/u/20473182?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liuchenbaidu", "html_url": "https://github.com/liuchenbaidu", "followers_url": "https://api.github.com/users/liuchenbaidu/followers", "following_url": "https://api.github.com/users/liuchenbaidu/following{/other_user}", "gists_url": "https://api.github.com/users/liuchenbaidu/gists{/gist_id}", "starred_url": "https://api.github.com/users/liuchenbaidu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liuchenbaidu/subscriptions", "organizations_url": "https://api.github.com/users/liuchenbaidu/orgs", "repos_url": "https://api.github.com/users/liuchenbaidu/repos", "events_url": "https://api.github.com/users/liuchenbaidu/events{/privacy}", "received_events_url": "https://api.github.com/users/liuchenbaidu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-08-06T10:30:49Z", "updated_at": "2019-08-08T15:14:01Z", "closed_at": "2019-08-08T15:13:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n\u6ce8\u610f\u4e8b\u9879\u548c\u7248\u672c\u53f7\u5fc5\u586b\uff0c\u5426\u5219\u4e0d\u56de\u590d\u3002\u82e5\u5e0c\u671b\u5c3d\u5feb\u5f97\u5230\u56de\u590d\uff0c\u8bf7\u6309\u6a21\u677f\u8ba4\u771f\u586b\u5199\uff0c\u8c22\u8c22\u5408\u4f5c\u3002\r\n-->\r\n\r\n## \u6ce8\u610f\u4e8b\u9879\r\n\u8bf7\u786e\u8ba4\u4e0b\u5217\u6ce8\u610f\u4e8b\u9879\uff1a\r\n\r\n* \u6211\u5df2\u4ed4\u7ec6\u9605\u8bfb\u4e0b\u5217\u6587\u6863\uff0c\u90fd\u6ca1\u6709\u627e\u5230\u7b54\u6848\uff1a\r\n  - [\u9996\u9875\u6587\u6863](https://github.com/hankcs/HanLP)\r\n  - [wiki](https://github.com/hankcs/HanLP/wiki)\r\n  - [\u5e38\u89c1\u95ee\u9898](https://github.com/hankcs/HanLP/wiki/FAQ)\r\n* \u6211\u5df2\u7ecf\u901a\u8fc7[Google](https://www.google.com/#newwindow=1&q=HanLP)\u548c[issue\u533a\u68c0\u7d22\u529f\u80fd](https://github.com/hankcs/HanLP/issues)\u641c\u7d22\u4e86\u6211\u7684\u95ee\u9898\uff0c\u4e5f\u6ca1\u6709\u627e\u5230\u7b54\u6848\u3002\r\n* \u6211\u660e\u767d\u5f00\u6e90\u793e\u533a\u662f\u51fa\u4e8e\u5174\u8da3\u7231\u597d\u805a\u96c6\u8d77\u6765\u7684\u81ea\u7531\u793e\u533a\uff0c\u4e0d\u627f\u62c5\u4efb\u4f55\u8d23\u4efb\u6216\u4e49\u52a1\u3002\u6211\u4f1a\u793c\u8c8c\u53d1\u8a00\uff0c\u5411\u6bcf\u4e00\u4e2a\u5e2e\u52a9\u6211\u7684\u4eba\u8868\u793a\u611f\u8c22\u3002\r\n* [x] \u6211\u5728\u6b64\u62ec\u53f7\u5185v\u8f93\u5165x\u6253\u94a9\uff0c\u4ee3\u8868\u4e0a\u8ff0\u4e8b\u9879\u786e\u8ba4\u5b8c\u6bd5\u3002\r\n\r\n## \u7248\u672c\u53f7\r\n<!-- \u53d1\u884c\u7248\u8bf7\u6ce8\u660ejar\u6587\u4ef6\u540d\u53bb\u6389\u62d3\u5c55\u540d\u7684\u90e8\u5206\uff1bGitHub\u4ed3\u5e93\u7248\u8bf7\u6ce8\u660emaster\u8fd8\u662fportable\u5206\u652f -->\r\n\r\n\u5f53\u524d\u6700\u65b0\u7248\u672c\u53f7\u662f\uff1apyhanlp 0.1.45\r\n\u6211\u4f7f\u7528\u7684\u7248\u672c\u662f\uff1apyhanlp 0.1.45\r\n\r\n<!--\u4ee5\u4e0a\u5c5e\u4e8e\u5fc5\u586b\u9879\uff0c\u4ee5\u4e0b\u53ef\u81ea\u7531\u53d1\u6325-->\r\n\r\n## \u6211\u7684\u95ee\u9898\r\n\r\n<!-- \u8bf7\u8be6\u7ec6\u63cf\u8ff0\u95ee\u9898\uff0c\u8d8a\u8be6\u7ec6\u8d8a\u53ef\u80fd\u5f97\u5230\u89e3\u51b3 -->\r\n\r\n## \u590d\u73b0\u95ee\u9898\r\n<!-- \u4f60\u662f\u5982\u4f55\u64cd\u4f5c\u5bfc\u81f4\u4ea7\u751f\u95ee\u9898\u7684\uff1f\u6bd4\u5982\u4fee\u6539\u4e86\u4ee3\u7801\uff1f\u4fee\u6539\u4e86\u8bcd\u5178\u6216\u6a21\u578b\uff1f-->\r\n\r\n### \u6b65\u9aa4\r\n\r\n1. \u9996\u5148\u2026\u2026\r\n2. \u7136\u540e\u2026\u2026\r\n3. \u63a5\u7740\u2026\u2026\r\n\r\n### \u89e6\u53d1\u4ee3\u7801\r\nres=analyzertxt.repeatedBisection(0.1)\r\n### \u671f\u671b\u8f93\u51fa\r\n\r\n<!-- \u4f60\u5e0c\u671b\u8f93\u51fa\u4ec0\u4e48\u6837\u7684\u6b63\u786e\u7ed3\u679c\uff1f-->\r\n\r\n```\r\n\u671f\u671b\u8f93\u51fa\r\n```\r\n\r\n### \u5b9e\u9645\u8f93\u51fa\r\n\r\n<!-- HanLP\u5b9e\u9645\u8f93\u51fa\u4e86\u4ec0\u4e48\uff1f\u4ea7\u751f\u4e86\u4ec0\u4e48\u6548\u679c\uff1f\u9519\u5728\u54ea\u91cc\uff1f-->\r\n\r\n```\r\n\u5b9e\u9645\u8f93\u51fa\r\n```\r\n\r\n## \u5176\u4ed6\u4fe1\u606f\r\nTraceback (most recent call last):\r\n  File \"test_cluster.py\", line 65, in <module>\r\n    res=cluster(filename)\r\n  File \"test_cluster.py\", line 60, in cluster\r\n    res=analyzertxt.repeatedBisection(0.3)\r\njpype._jexception.NullPointerExceptionPyRaisable: java.lang.NullPointerException\r\n\r\n\r\n<!-- \u4efb\u4f55\u53ef\u80fd\u6709\u7528\u7684\u4fe1\u606f\uff0c\u5305\u62ec\u622a\u56fe\u3001\u65e5\u5fd7\u3001\u914d\u7f6e\u6587\u4ef6\u3001\u76f8\u5173issue\u7b49\u7b49\u3002-->\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1260/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/1260/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1221", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/1221/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/1221/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/1221/events", "html_url": "https://github.com/hankcs/HanLP/issues/1221", "id": 464019886, "node_id": "MDU6SXNzdWU0NjQwMTk4ODY=", "number": 1221, "title": "pyhanlp\u4e2d\uff0cAnalyzer\u7c7b\u597d\u50cf\u4e0d\u80fd\u5728enableCustomDictionaryForcing(True)\u540e\u4f7f\u7528seg()\uff0c", "user": {"login": "qq184861643", "id": 20453470, "node_id": "MDQ6VXNlcjIwNDUzNDcw", "avatar_url": "https://avatars.githubusercontent.com/u/20453470?v=4", "gravatar_id": "", "url": "https://api.github.com/users/qq184861643", "html_url": "https://github.com/qq184861643", "followers_url": "https://api.github.com/users/qq184861643/followers", "following_url": "https://api.github.com/users/qq184861643/following{/other_user}", "gists_url": "https://api.github.com/users/qq184861643/gists{/gist_id}", "starred_url": "https://api.github.com/users/qq184861643/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/qq184861643/subscriptions", "organizations_url": "https://api.github.com/users/qq184861643/orgs", "repos_url": "https://api.github.com/users/qq184861643/repos", "events_url": "https://api.github.com/users/qq184861643/events{/privacy}", "received_events_url": "https://api.github.com/users/qq184861643/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-07-04T01:40:57Z", "updated_at": "2019-07-04T14:47:47Z", "closed_at": "2019-07-04T02:40:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n\u6ce8\u610f\u4e8b\u9879\u548c\u7248\u672c\u53f7\u5fc5\u586b\uff0c\u5426\u5219\u4e0d\u56de\u590d\u3002\u82e5\u5e0c\u671b\u5c3d\u5feb\u5f97\u5230\u56de\u590d\uff0c\u8bf7\u6309\u6a21\u677f\u8ba4\u771f\u586b\u5199\uff0c\u8c22\u8c22\u5408\u4f5c\u3002\r\n-->\r\n\r\n## \u6ce8\u610f\u4e8b\u9879\r\n\u8bf7\u786e\u8ba4\u4e0b\u5217\u6ce8\u610f\u4e8b\u9879\uff1a\r\n\r\n* \u6211\u5df2\u4ed4\u7ec6\u9605\u8bfb\u4e0b\u5217\u6587\u6863\uff0c\u90fd\u6ca1\u6709\u627e\u5230\u7b54\u6848\uff1a\r\n  - [\u9996\u9875\u6587\u6863](https://github.com/hankcs/HanLP)\r\n  - [wiki](https://github.com/hankcs/HanLP/wiki)\r\n  - [\u5e38\u89c1\u95ee\u9898](https://github.com/hankcs/HanLP/wiki/FAQ)\r\n* \u6211\u5df2\u7ecf\u901a\u8fc7[Google](https://www.google.com/#newwindow=1&q=HanLP)\u548c[issue\u533a\u68c0\u7d22\u529f\u80fd](https://github.com/hankcs/HanLP/issues)\u641c\u7d22\u4e86\u6211\u7684\u95ee\u9898\uff0c\u4e5f\u6ca1\u6709\u627e\u5230\u7b54\u6848\u3002\r\n* \u6211\u660e\u767d\u5f00\u6e90\u793e\u533a\u662f\u51fa\u4e8e\u5174\u8da3\u7231\u597d\u805a\u96c6\u8d77\u6765\u7684\u81ea\u7531\u793e\u533a\uff0c\u4e0d\u627f\u62c5\u4efb\u4f55\u8d23\u4efb\u6216\u4e49\u52a1\u3002\u6211\u4f1a\u793c\u8c8c\u53d1\u8a00\uff0c\u5411\u6bcf\u4e00\u4e2a\u5e2e\u52a9\u6211\u7684\u4eba\u8868\u793a\u611f\u8c22\u3002\r\n* [x] \u6211\u5728\u6b64\u62ec\u53f7\u5185\u8f93\u5165x\u6253\u94a9\uff0c\u4ee3\u8868\u4e0a\u8ff0\u4e8b\u9879\u786e\u8ba4\u5b8c\u6bd5\u3002\r\n\r\n## \u7248\u672c\u53f7\r\n<!-- \u53d1\u884c\u7248\u8bf7\u6ce8\u660ejar\u6587\u4ef6\u540d\u53bb\u6389\u62d3\u5c55\u540d\u7684\u90e8\u5206\uff1bGitHub\u4ed3\u5e93\u7248\u8bf7\u6ce8\u660emaster\u8fd8\u662fportable\u5206\u652f -->\r\n\r\n\u5f53\u524d\u6700\u65b0\u7248\u672c\u53f7\u662f\uff1ahanlp-1.7.4.jar\r\n\u6211\u4f7f\u7528\u7684\u7248\u672c\u662f\uff1ahanlp-1.7.4.jar\r\n\r\n<!--\u4ee5\u4e0a\u5c5e\u4e8e\u5fc5\u586b\u9879\uff0c\u4ee5\u4e0b\u53ef\u81ea\u7531\u53d1\u6325-->\r\n\r\n## \u6211\u7684\u95ee\u9898\r\n\r\n<!-- \u8bf7\u8be6\u7ec6\u63cf\u8ff0\u95ee\u9898\uff0c\u8d8a\u8be6\u7ec6\u8d8a\u53ef\u80fd\u5f97\u5230\u89e3\u51b3 -->\r\n1. \u6211\u60f3\u8981\u5728\u5206\u8bcd\u524d\u5f3a\u5236\u542f\u52a8\u81ea\u5b9a\u4e49\u8bcd\u5178\uff0c\u5206\u8bcd\u7ed3\u679c\u4f7f\u7528CoreStopWordDictionary\u7c7b\u8fc7\u6ee4\u505c\u7528\u8bcd\u3002Tokenizer\u7c7b\u6ca1\u6709enableCustomDictionaryForcing\u65b9\u6cd5\uff0c\u6240\u4ee5\u53ea\u80fd\u4f7f\u7528Analyzer\u7c7b\u5206\u8bcd\u3002Analyzer\u7c7b\u5b9e\u4f8b\u5316\u540e\u6709\u4e24\u4e2a\u5206\u8bcd\u65b9\u6cd5\uff0c\u4e00\u4e2aseg()\uff0c\u4e00\u4e2asegment()\u3002segment()\u65b9\u6cd5\u4ea7\u751f\u7684\u7ed3\u679c\u662fLinkedList\u7c7b\uff0c\u5bf9\u5b83\u8c03\u7528CoreStopWordDictionaryapply()\u4f1a\u62a5\u9519\u3002seg()\u65b9\u6cd5\u4ea7\u751f\u7684\u7ed3\u679c\u662fArrayList\u7c7b\uff0c\u53ef\u4ee5\u6b63\u5e38\u8fc7\u6ee4\u505c\u7528\u8bcd\u3002\u4f46\u662f\u5bf9\u5206\u8bcd\u5668\u4f7f\u7528#enableCustomDictionaryForcing\u540e\uff0c\u4f7f\u7528seg()\u65b9\u6cd5\u4f1a\u76f4\u63a5\u62a5java.util.NoSuchElementException\u3002\u8bf7\u95ee\u8fd9\u4e2a\u6709\u529e\u6cd5\u89e3\u51b3\u5417\uff1f\r\n\u5982\u679c\u4e0a\u8ff0\u95ee\u9898\u65e0\u6cd5\u89e3\u51b3\uff0c\u6709\u4ec0\u4e48\u65b9\u6848\u80fd\u5728pyhanlp\u91cc\uff0c\u540c\u65f6\u4f7f\u7528enableCustomDictionaryForcing\u548cCoreStopWordDictionary\u5417\uff1f\r\n\r\n2. \u5bf9\u9ed8\u8ba4\u5206\u8bcd\u5668\u7684\u5206\u8bcd\u7ed3\u679c\u6267\u884cCoreStopWordDictionary.apply()\u8fd4\u56de\u7684\u7ed3\u679c\u4e3aNone\uff0c1.7.3\u7248\u672c\u6ca1\u6709\u8fd9\u4e2a\u95ee\u9898\u3002\r\n\r\n## \u590d\u73b0\u95ee\u9898\r\n<!-- \u4f60\u662f\u5982\u4f55\u64cd\u4f5c\u5bfc\u81f4\u4ea7\u751f\u95ee\u9898\u7684\uff1f\u6bd4\u5982\u4fee\u6539\u4e86\u4ee3\u7801\uff1f\u4fee\u6539\u4e86\u8bcd\u5178\u6216\u6a21\u578b\uff1f-->\r\n![image](https://user-images.githubusercontent.com/20453470/60585884-5b73a580-9dc3-11e9-90a5-bad816737bf0.png)\r\n\r\n![image](https://user-images.githubusercontent.com/20453470/60634009-d11d5700-9e3f-11e9-8728-94c9e24b6516.png)\r\n\r\n\r\n\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1221/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/1221/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1188", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/1188/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/1188/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/1188/events", "html_url": "https://github.com/hankcs/HanLP/issues/1188", "id": 450596509, "node_id": "MDU6SXNzdWU0NTA1OTY1MDk=", "number": 1188, "title": "URLTokenizer.segment(text);\u4f1a\u5bfc\u81f4\u7a0b\u5e8f\u5361\u4f4f", "user": {"login": "hupengcool", "id": 6846028, "node_id": "MDQ6VXNlcjY4NDYwMjg=", "avatar_url": "https://avatars.githubusercontent.com/u/6846028?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hupengcool", "html_url": "https://github.com/hupengcool", "followers_url": "https://api.github.com/users/hupengcool/followers", "following_url": "https://api.github.com/users/hupengcool/following{/other_user}", "gists_url": "https://api.github.com/users/hupengcool/gists{/gist_id}", "starred_url": "https://api.github.com/users/hupengcool/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hupengcool/subscriptions", "organizations_url": "https://api.github.com/users/hupengcool/orgs", "repos_url": "https://api.github.com/users/hupengcool/repos", "events_url": "https://api.github.com/users/hupengcool/events{/privacy}", "received_events_url": "https://api.github.com/users/hupengcool/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-05-31T03:19:59Z", "updated_at": "2019-06-01T02:16:43Z", "closed_at": "2019-06-01T02:16:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n\u6ce8\u610f\u4e8b\u9879\u548c\u7248\u672c\u53f7\u5fc5\u586b\uff0c\u5426\u5219\u4e0d\u56de\u590d\u3002\u82e5\u5e0c\u671b\u5c3d\u5feb\u5f97\u5230\u56de\u590d\uff0c\u8bf7\u6309\u6a21\u677f\u8ba4\u771f\u586b\u5199\uff0c\u8c22\u8c22\u5408\u4f5c\u3002\r\n-->\r\n\r\n## \u6ce8\u610f\u4e8b\u9879\r\n\u8bf7\u786e\u8ba4\u4e0b\u5217\u6ce8\u610f\u4e8b\u9879\uff1a\r\n\r\n* \u6211\u5df2\u4ed4\u7ec6\u9605\u8bfb\u4e0b\u5217\u6587\u6863\uff0c\u90fd\u6ca1\u6709\u627e\u5230\u7b54\u6848\uff1a\r\n  - [\u9996\u9875\u6587\u6863](https://github.com/hankcs/HanLP)\r\n  - [wiki](https://github.com/hankcs/HanLP/wiki)\r\n  - [\u5e38\u89c1\u95ee\u9898](https://github.com/hankcs/HanLP/wiki/FAQ)\r\n* \u6211\u5df2\u7ecf\u901a\u8fc7[Google](https://www.google.com/#newwindow=1&q=HanLP)\u548c[issue\u533a\u68c0\u7d22\u529f\u80fd](https://github.com/hankcs/HanLP/issues)\u641c\u7d22\u4e86\u6211\u7684\u95ee\u9898\uff0c\u4e5f\u6ca1\u6709\u627e\u5230\u7b54\u6848\u3002\r\n* \u6211\u660e\u767d\u5f00\u6e90\u793e\u533a\u662f\u51fa\u4e8e\u5174\u8da3\u7231\u597d\u805a\u96c6\u8d77\u6765\u7684\u81ea\u7531\u793e\u533a\uff0c\u4e0d\u627f\u62c5\u4efb\u4f55\u8d23\u4efb\u6216\u4e49\u52a1\u3002\u6211\u4f1a\u793c\u8c8c\u53d1\u8a00\uff0c\u5411\u6bcf\u4e00\u4e2a\u5e2e\u52a9\u6211\u7684\u4eba\u8868\u793a\u611f\u8c22\u3002\r\n* [x] \u6211\u5728\u6b64\u62ec\u53f7\u5185\u8f93\u5165x\u6253\u94a9\uff0c\u4ee3\u8868\u4e0a\u8ff0\u4e8b\u9879\u786e\u8ba4\u5b8c\u6bd5\u3002\r\n\r\n## \u7248\u672c\u53f7\r\n<!-- \u53d1\u884c\u7248\u8bf7\u6ce8\u660ejar\u6587\u4ef6\u540d\u53bb\u6389\u62d3\u5c55\u540d\u7684\u90e8\u5206\uff1bGitHub\u4ed3\u5e93\u7248\u8bf7\u6ce8\u660emaster\u8fd8\u662fportable\u5206\u652f -->\r\n\r\n\u5f53\u524d\u6700\u65b0\u7248\u672c\u53f7\u662f\uff1aportable-1.7.3\r\n\u6211\u4f7f\u7528\u7684\u7248\u672c\u662f\uff1aportable-1.7.3\r\n\r\n<!--\u4ee5\u4e0a\u5c5e\u4e8e\u5fc5\u586b\u9879\uff0c\u4ee5\u4e0b\u53ef\u81ea\u7531\u53d1\u6325-->\r\n\r\n## \u6211\u7684\u95ee\u9898\r\n\r\n<!-- \u8bf7\u8be6\u7ec6\u63cf\u8ff0\u95ee\u9898\uff0c\u8d8a\u8be6\u7ec6\u8d8a\u53ef\u80fd\u5f97\u5230\u89e3\u51b3 -->\r\n\u5728\u4f7f\u7528URLTokenizer\u7684\u65f6\u5019\u4f1a\u9047\u5230\u7a0b\u5e8f\u5361\u4f4f\u7684\u60c5\u51b5\uff0cdubug\u4e86\u4e00\u4e0b\uff0c\u4f1a\u4e00\u76f4\u5361\u5728matcher.find()\r\n## \u590d\u73b0\u95ee\u9898\r\n<!-- \u4f60\u662f\u5982\u4f55\u64cd\u4f5c\u5bfc\u81f4\u4ea7\u751f\u95ee\u9898\u7684\uff1f\u6bd4\u5982\u4fee\u6539\u4e86\u4ee3\u7801\uff1f\u4fee\u6539\u4e86\u8bcd\u5178\u6216\u6a21\u578b\uff1f-->\r\n\r\n### \u6b65\u9aa4\r\n\r\n1. \u89c1\u4e0b\u9762\u4ee3\u7801\uff0c\u5fc5\u5b9a\u89e6\u53d1\r\n\r\n### \u89e6\u53d1\u4ee3\u7801\r\n\r\n```\r\n    public void testIssue() throws Exception\r\n    {\r\n        String text = \"\u968f\u4fbf\u5199\u70b9\u5565\u5427\uff1fabNfxbGRIAUQfGGgvesskbrhEfvCdOHyxfWBq\";\r\n        List< Term > terms = URLTokenizer.segment(text);\r\n    }\r\n```\r\n### \u671f\u671b\u8f93\u51fa\r\n\r\n<!-- \u4f60\u5e0c\u671b\u8f93\u51fa\u4ec0\u4e48\u6837\u7684\u6b63\u786e\u7ed3\u679c\uff1f-->\r\n\r\n```\r\n\u671f\u671b\u80fd\u591f\u6b63\u786e\u6267\u884c\u5b8c\r\n```\r\n\r\n### \u5b9e\u9645\u8f93\u51fa\r\n\r\n<!-- HanLP\u5b9e\u9645\u8f93\u51fa\u4e86\u4ec0\u4e48\uff1f\u4ea7\u751f\u4e86\u4ec0\u4e48\u6548\u679c\uff1f\u9519\u5728\u54ea\u91cc\uff1f-->\r\n\r\n```\r\n\u5b9e\u9645\u7a0b\u5e8f\u4f1a\u4e00\u76f4\u5361\u5728matcher.find()\r\n```\r\n\r\n## \u5176\u4ed6\u4fe1\u606f\r\n\r\n<!-- \u4efb\u4f55\u53ef\u80fd\u6709\u7528\u7684\u4fe1\u606f\uff0c\u5305\u62ec\u622a\u56fe\u3001\u65e5\u5fd7\u3001\u914d\u7f6e\u6587\u4ef6\u3001\u76f8\u5173issue\u7b49\u7b49\u3002-->\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1188/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/1188/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1172", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/1172/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/1172/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/1172/events", "html_url": "https://github.com/hankcs/HanLP/issues/1172", "id": 440592177, "node_id": "MDU6SXNzdWU0NDA1OTIxNzc=", "number": 1172, "title": "\u81ea\u5b9a\u4e49\u8bcd\u5178\u5b58\u5728\u957f\u8bcd\uff0c\u81ea\u5b9a\u4e49\u8bcd\u6027 \u4ee5m\u6216x \u5f00\u5934\uff0c\u4f1a\u88ab\u4fee\u6539\u8bcd\u6027", "user": {"login": "tiandiweizun", "id": 13550295, "node_id": "MDQ6VXNlcjEzNTUwMjk1", "avatar_url": "https://avatars.githubusercontent.com/u/13550295?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tiandiweizun", "html_url": "https://github.com/tiandiweizun", "followers_url": "https://api.github.com/users/tiandiweizun/followers", "following_url": "https://api.github.com/users/tiandiweizun/following{/other_user}", "gists_url": "https://api.github.com/users/tiandiweizun/gists{/gist_id}", "starred_url": "https://api.github.com/users/tiandiweizun/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tiandiweizun/subscriptions", "organizations_url": "https://api.github.com/users/tiandiweizun/orgs", "repos_url": "https://api.github.com/users/tiandiweizun/repos", "events_url": "https://api.github.com/users/tiandiweizun/events{/privacy}", "received_events_url": "https://api.github.com/users/tiandiweizun/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-05-06T08:26:12Z", "updated_at": "2019-05-07T03:17:04Z", "closed_at": "2019-05-06T16:05:42Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "<!--\r\n\u6ce8\u610f\u4e8b\u9879\u548c\u7248\u672c\u53f7\u5fc5\u586b\uff0c\u5426\u5219\u4e0d\u56de\u590d\u3002\u82e5\u5e0c\u671b\u5c3d\u5feb\u5f97\u5230\u56de\u590d\uff0c\u8bf7\u6309\u6a21\u677f\u8ba4\u771f\u586b\u5199\uff0c\u8c22\u8c22\u5408\u4f5c\u3002\r\n-->\r\n\r\n## \u6ce8\u610f\u4e8b\u9879\r\n\u8bf7\u786e\u8ba4\u4e0b\u5217\u6ce8\u610f\u4e8b\u9879\uff1a\r\n\r\n* \u6211\u5df2\u4ed4\u7ec6\u9605\u8bfb\u4e0b\u5217\u6587\u6863\uff0c\u90fd\u6ca1\u6709\u627e\u5230\u7b54\u6848\uff1a\r\n  - [\u9996\u9875\u6587\u6863](https://github.com/hankcs/HanLP)\r\n  - [wiki](https://github.com/hankcs/HanLP/wiki)\r\n  - [\u5e38\u89c1\u95ee\u9898](https://github.com/hankcs/HanLP/wiki/FAQ)\r\n* \u6211\u5df2\u7ecf\u901a\u8fc7[Google](https://www.google.com/#newwindow=1&q=HanLP)\u548c[issue\u533a\u68c0\u7d22\u529f\u80fd](https://github.com/hankcs/HanLP/issues)\u641c\u7d22\u4e86\u6211\u7684\u95ee\u9898\uff0c\u4e5f\u6ca1\u6709\u627e\u5230\u7b54\u6848\u3002\r\n* \u6211\u660e\u767d\u5f00\u6e90\u793e\u533a\u662f\u51fa\u4e8e\u5174\u8da3\u7231\u597d\u805a\u96c6\u8d77\u6765\u7684\u81ea\u7531\u793e\u533a\uff0c\u4e0d\u627f\u62c5\u4efb\u4f55\u8d23\u4efb\u6216\u4e49\u52a1\u3002\u6211\u4f1a\u793c\u8c8c\u53d1\u8a00\uff0c\u5411\u6bcf\u4e00\u4e2a\u5e2e\u52a9\u6211\u7684\u4eba\u8868\u793a\u611f\u8c22\u3002\r\n* [x] \u6211\u5728\u6b64\u62ec\u53f7\u5185\u8f93\u5165x\u6253\u94a9\uff0c\u4ee3\u8868\u4e0a\u8ff0\u4e8b\u9879\u786e\u8ba4\u5b8c\u6bd5\u3002\r\n\r\n## \u7248\u672c\u53f7\r\n<!-- \u53d1\u884c\u7248\u8bf7\u6ce8\u660ejar\u6587\u4ef6\u540d\u53bb\u6389\u62d3\u5c55\u540d\u7684\u90e8\u5206\uff1bGitHub\u4ed3\u5e93\u7248\u8bf7\u6ce8\u660emaster\u8fd8\u662fportable\u5206\u652f -->\r\n\r\n\u5f53\u524d\u6700\u65b0\u7248\u672c\u53f7\u662f\uff1a1.7.3\r\n\u6211\u4f7f\u7528\u7684\u7248\u672c\u662f\uff1a1.7.3\r\n\r\n<!--\u4ee5\u4e0a\u5c5e\u4e8e\u5fc5\u586b\u9879\uff0c\u4ee5\u4e0b\u53ef\u81ea\u7531\u53d1\u6325-->\r\n\r\n## \u6211\u7684\u95ee\u9898\r\n\u81ea\u5b9a\u4e49\u8bcd\u5178\u5b58\u5728\u957f\u8bcd\uff0c\u81ea\u5b9a\u4e49\u8bcd\u6027 \u4ee5m\u6216x \u5f00\u5934\uff0c\u4f1a\u88ab\u4fee\u6539\u8bcd\u6027\r\n<!-- \u8bf7\u8be6\u7ec6\u63cf\u8ff0\u95ee\u9898\uff0c\u8d8a\u8be6\u7ec6\u8d8a\u53ef\u80fd\u5f97\u5230\u89e3\u51b3 -->\r\n\r\n## \u590d\u73b0\u95ee\u9898\r\n<!-- \u4f60\u662f\u5982\u4f55\u64cd\u4f5c\u5bfc\u81f4\u4ea7\u751f\u95ee\u9898\u7684\uff1f\u6bd4\u5982\u4fee\u6539\u4e86\u4ee3\u7801\uff1f\u4fee\u6539\u4e86\u8bcd\u5178\u6216\u6a21\u578b\uff1f-->\r\n\r\n### \u6b65\u9aa4\r\n\r\n1. \u6dfb\u52a0\u5e26\u6709\u81ea\u5b9a\u4e49\u8bcd\u6027\u7684\u81ea\u5b9a\u4e49\u5206\u8bcd\u8bcd\u5178\uff0c\u81ea\u5b9a\u4e49.txt\r\n\r\n\u6211\u7684\u989d\u5ea6 xyz 1000\r\n\u63d0\u9ad8\u989d\u5ea6 my 1000\r\n\r\n2. \u4fee\u6539hanlp.properties\uff0c\u5728CustomDictionaryPath\u6dfb\u52a0\u81ea\u5b9a\u4e49\u8bcd\u5178(\u81ea\u5b9a\u4e49.txt)\r\n3. \u8c03\u7528HanLP.segment(\"\u6211\u7684\u989d\u5ea6\u4e0d\u591f\uff0c\u9700\u8981\u63d0\u9ad8\u989d\u5ea6\")\r\n\r\n### \u89e6\u53d1\u4ee3\u7801\r\n\r\n```\r\n\r\n```\r\n### \u671f\u671b\u8f93\u51fa\r\n\r\n<!-- \u4f60\u5e0c\u671b\u8f93\u51fa\u4ec0\u4e48\u6837\u7684\u6b63\u786e\u7ed3\u679c\uff1f-->\r\n\r\n```\r\n[\u6211\u7684\u989d\u5ea6/xyz, \u4e0d\u591f/a, \uff0c/w, \u9700\u8981/v, \u63d0\u9ad8\u989d\u5ea6/my]\r\n```\r\n\r\n### \u5b9e\u9645\u8f93\u51fa\r\n\r\n<!-- HanLP\u5b9e\u9645\u8f93\u51fa\u4e86\u4ec0\u4e48\uff1f\u4ea7\u751f\u4e86\u4ec0\u4e48\u6548\u679c\uff1f\u9519\u5728\u54ea\u91cc\uff1f-->\r\n\r\n```\r\n[\u6211\u7684\u989d\u5ea6/x, \u4e0d\u591f/a, \uff0c/w, \u9700\u8981/v, \u63d0\u9ad8\u989d\u5ea6/mq]\r\n```\r\n### \u539f\u56e0\u5206\u6790\r\n\u81ea\u5b9a\u4e49\u5206\u8bcd\u7684\u65f6\u5019\uff0c\u5728\u62fc\u63a5\u8bcd\u7684\u65f6\u5019\uff0cViterbiSegment\u7684combineWords\u65b9\u6cd5\u8c03\u7528Vertex\u7684compileRealWord\u65b9\u6cd5\uff0c\u5728\u8bcd\u6027\u4ee5x\u548cm\u5f00\u5934\u7684\u65f6\u5019\uff0c\u5bfc\u81f4\u8bcd\u6027\u4fee\u6539\r\n\r\n## \u5176\u4ed6\u4fe1\u606f\r\n\r\n<!-- \u4efb\u4f55\u53ef\u80fd\u6709\u7528\u7684\u4fe1\u606f\uff0c\u5305\u62ec\u622a\u56fe\u3001\u65e5\u5fd7\u3001\u914d\u7f6e\u6587\u4ef6\u3001\u76f8\u5173issue\u7b49\u7b49\u3002-->\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1172/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/1172/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1159", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/1159/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/1159/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/1159/events", "html_url": "https://github.com/hankcs/HanLP/issues/1159", "id": 436510440, "node_id": "MDU6SXNzdWU0MzY1MTA0NDA=", "number": 1159, "title": "CollectionUtility.sortMapByValue\u65b9\u6cd5\u5728\u5b58\u5728bug", "user": {"login": "wyuz1028", "id": 4648406, "node_id": "MDQ6VXNlcjQ2NDg0MDY=", "avatar_url": "https://avatars.githubusercontent.com/u/4648406?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wyuz1028", "html_url": "https://github.com/wyuz1028", "followers_url": "https://api.github.com/users/wyuz1028/followers", "following_url": "https://api.github.com/users/wyuz1028/following{/other_user}", "gists_url": "https://api.github.com/users/wyuz1028/gists{/gist_id}", "starred_url": "https://api.github.com/users/wyuz1028/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wyuz1028/subscriptions", "organizations_url": "https://api.github.com/users/wyuz1028/orgs", "repos_url": "https://api.github.com/users/wyuz1028/repos", "events_url": "https://api.github.com/users/wyuz1028/events{/privacy}", "received_events_url": "https://api.github.com/users/wyuz1028/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-04-24T05:59:53Z", "updated_at": "2019-04-27T22:08:32Z", "closed_at": "2019-04-27T22:08:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "v1.72\u7248\u672c\u5b58\u5728bug\uff0c\u6700\u65b0\u7248master\u4e2d\u4f9d\u7136\u5b58\u5728\r\ncom.hankcs.hanlp.classification.utilities.CollectionUtility\u4e2d\r\npublic static <K, V extends Comparable<V>> Map<K, V> sortMapByValue(Map<K, V> input, final boolean desc)\u65b9\u6cd5\u5b58\u5728bug\r\nArrayList<Map.Entry<K, V>> entryList = new ArrayList<Map.Entry<K, V>>(input.size());\r\n\u4e2d\u7684input.size()\u5e94\u8be5\u6539\u4e3ainput.entrySet()", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1159/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/1159/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1075", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/1075/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/1075/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/1075/events", "html_url": "https://github.com/hankcs/HanLP/issues/1075", "id": 396006780, "node_id": "MDU6SXNzdWUzOTYwMDY3ODA=", "number": 1075, "title": "chisquareScore = stats.n * Math.pow(N11 * N00 - N10 * N01, 2) / ((N11 + N01) * (N11 + N10) * (N10 + N00) * (N01 + N00))\u8ba1\u7b97\u503c\u6ea2\u51fa", "user": {"login": "sd1026203", "id": 12806125, "node_id": "MDQ6VXNlcjEyODA2MTI1", "avatar_url": "https://avatars.githubusercontent.com/u/12806125?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sd1026203", "html_url": "https://github.com/sd1026203", "followers_url": "https://api.github.com/users/sd1026203/followers", "following_url": "https://api.github.com/users/sd1026203/following{/other_user}", "gists_url": "https://api.github.com/users/sd1026203/gists{/gist_id}", "starred_url": "https://api.github.com/users/sd1026203/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sd1026203/subscriptions", "organizations_url": "https://api.github.com/users/sd1026203/orgs", "repos_url": "https://api.github.com/users/sd1026203/repos", "events_url": "https://api.github.com/users/sd1026203/events{/privacy}", "received_events_url": "https://api.github.com/users/sd1026203/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-01-04T17:32:08Z", "updated_at": "2019-01-04T18:01:09Z", "closed_at": "2019-01-04T18:00:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "ChiSquareFeatureExtractor\u4e2d\u7684\u8fd9\u884c\u4ee3\u7801N11\u7b49\u53d8\u91cf\u5747\u4e3aint\u578b\uff0c \u8ba1\u7b97\u65f6\u4f1a\u5f15\u53d1\u6570\u503c\u6ea2\u51fa\uff0c \u867d\u7136\u4e0d\u4f1a\u62a5\u9519\uff0c \u4f46\u662f\u8ba1\u7b97\u7ed3\u679c\u662f\u9519\u8bef\u7684\r\n2000L * 82 * 2001 * 3919 = 1286074716000\r\n\u4f46\u662f\u5b9e\u9645\u7a0b\u5e8f\u4e2d\uff1a\r\n2000 * 82 * 2001 * 3919 = 1879494496\uff0c\u8fd9\u4e2a\u503c\u662f\u9519\u8bef\u7684\uff0c \u5bfc\u81f4\u5361\u65b9\u68c0\u6d4b\u8fd0\u7b97\u7ed3\u679c\u5176\u5b9e\u662f\u9519\u8bef\u7684", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1075/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/1075/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1038", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/1038/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/1038/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/1038/events", "html_url": "https://github.com/hankcs/HanLP/issues/1038", "id": 385167967, "node_id": "MDU6SXNzdWUzODUxNjc5Njc=", "number": 1038, "title": "\u611f\u77e5\u673a\u4e2d\u53ef\u53d8DAT\u7684entrySet\u65b9\u6cd5\u6709bug", "user": {"login": "jimichan", "id": 1460308, "node_id": "MDQ6VXNlcjE0NjAzMDg=", "avatar_url": "https://avatars.githubusercontent.com/u/1460308?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jimichan", "html_url": "https://github.com/jimichan", "followers_url": "https://api.github.com/users/jimichan/followers", "following_url": "https://api.github.com/users/jimichan/following{/other_user}", "gists_url": "https://api.github.com/users/jimichan/gists{/gist_id}", "starred_url": "https://api.github.com/users/jimichan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jimichan/subscriptions", "organizations_url": "https://api.github.com/users/jimichan/orgs", "repos_url": "https://api.github.com/users/jimichan/repos", "events_url": "https://api.github.com/users/jimichan/events{/privacy}", "received_events_url": "https://api.github.com/users/jimichan/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-11-28T09:10:18Z", "updated_at": "2018-12-08T03:55:01Z", "closed_at": "2018-12-08T03:54:51Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "<!--\r\n\u6ce8\u610f\u4e8b\u9879\u548c\u7248\u672c\u53f7\u5fc5\u586b\uff0c\u5426\u5219\u4e0d\u56de\u590d\u3002\u82e5\u5e0c\u671b\u5c3d\u5feb\u5f97\u5230\u56de\u590d\uff0c\u8bf7\u6309\u6a21\u677f\u8ba4\u771f\u586b\u5199\uff0c\u8c22\u8c22\u5408\u4f5c\u3002\r\n-->\r\n\r\n## \u6ce8\u610f\u4e8b\u9879\r\n\u8bf7\u786e\u8ba4\u4e0b\u5217\u6ce8\u610f\u4e8b\u9879\uff1a\r\n\r\n* \u6211\u5df2\u4ed4\u7ec6\u9605\u8bfb\u4e0b\u5217\u6587\u6863\uff0c\u90fd\u6ca1\u6709\u627e\u5230\u7b54\u6848\uff1a\r\n  - [\u9996\u9875\u6587\u6863](https://github.com/hankcs/HanLP)\r\n  - [wiki](https://github.com/hankcs/HanLP/wiki)\r\n  - [\u5e38\u89c1\u95ee\u9898](https://github.com/hankcs/HanLP/wiki/FAQ)\r\n* \u6211\u5df2\u7ecf\u901a\u8fc7[Google](https://www.google.com/#newwindow=1&q=HanLP)\u548c[issue\u533a\u68c0\u7d22\u529f\u80fd](https://github.com/hankcs/HanLP/issues)\u641c\u7d22\u4e86\u6211\u7684\u95ee\u9898\uff0c\u4e5f\u6ca1\u6709\u627e\u5230\u7b54\u6848\u3002\r\n* \u6211\u660e\u767d\u5f00\u6e90\u793e\u533a\u662f\u51fa\u4e8e\u5174\u8da3\u7231\u597d\u805a\u96c6\u8d77\u6765\u7684\u81ea\u7531\u793e\u533a\uff0c\u4e0d\u627f\u62c5\u4efb\u4f55\u8d23\u4efb\u6216\u4e49\u52a1\u3002\u6211\u4f1a\u793c\u8c8c\u53d1\u8a00\uff0c\u5411\u6bcf\u4e00\u4e2a\u5e2e\u52a9\u6211\u7684\u4eba\u8868\u793a\u611f\u8c22\u3002\r\n* [ ] \u6211\u5728\u6b64\u62ec\u53f7\u5185\u8f93\u5165x\u6253\u94a9\uff0c\u4ee3\u8868\u4e0a\u8ff0\u4e8b\u9879\u786e\u8ba4\u5b8c\u6bd5\u3002\r\n\r\n## \u7248\u672c\u53f7\r\n<!-- \u53d1\u884c\u7248\u8bf7\u6ce8\u660ejar\u6587\u4ef6\u540d\u53bb\u6389\u62d3\u5c55\u540d\u7684\u90e8\u5206\uff1bGitHub\u4ed3\u5e93\u7248\u8bf7\u6ce8\u660emaster\u8fd8\u662fportable\u5206\u652f -->\r\n\r\n\u5f53\u524d\u6700\u65b0\u7248\u672c\u53f7\u662f\uff1a\r\n\u6211\u4f7f\u7528\u7684\u7248\u672c\u662f\uff1a\u6700\u65b0\u7248\r\n\r\n<!--\u4ee5\u4e0a\u5c5e\u4e8e\u5fc5\u586b\u9879\uff0c\u4ee5\u4e0b\u53ef\u81ea\u7531\u53d1\u6325-->\r\n\r\n## \u6211\u7684\u95ee\u9898\r\n\r\n\u611f\u77e5\u673a\u4e2d\u4f7f\u7528\u53ef\u53d8DAT\u52a0\u8f7d\u7279\u5f81\u96c6\u5408\uff0c\u52a0\u8f7dlarge/cws.bin\uff0c\u5728\u8c03\u8bd5\u8fc7\u7a0b\u4e2d\u53d1\u73b0\r\n```\r\n System.out.println(featureMap.size());\r\n \u8f93\u51fa\u503c\u4e3a8021239\r\n```\r\n\u4f46\u662f\u901a\u8fc7\r\n```\r\n Set<String> set = new HashSet<String>();\r\n\r\nSet<Map.Entry<String, Integer>> entries = featureMap.entrySet();\r\n\r\nfor (Map.Entry<String, Integer> m : entries) {\r\n                    set.add(m.getKey());\r\n }\r\n```\r\n\u6392\u9664\u91cd\u590d\u540eset.size() == 8021206 \u5c11\u6389\u4e8633\u4e2akey\u3002\r\n\u6bd4\u5982 \"\\u0001/\\u00014\" \u8fd9\u4e2akey\uff0c\r\n\u901a\u8fc7featureMap.idOf(\"\\u0001/\\u00014\") \u53ef\u4ee5\u8fd4\u56deid\u662f8\r\n\u4f46\u662ffeatureMap.entrySet()\u4e2d\u5e76\u5305\u62ec\u8fd9\u4e2aid=8\u7684\u9879\u3002\r\n\u4e5f\u5c31\u662fid=8\u5e76\u6ca1\u6709\u88ab\u6062\u590d\u51fa\u6765\u3002\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1038/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/1038/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1028", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/1028/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/1028/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/1028/events", "html_url": "https://github.com/hankcs/HanLP/issues/1028", "id": 382988328, "node_id": "MDU6SXNzdWUzODI5ODgzMjg=", "number": 1028, "title": "reload\u751f\u6210\u81ea\u5b9a\u4e49\u8bcd\u5178bin\u6587\u4ef6\u5728\u91cd\u65b0\u8f7d\u5165\u65f6\u629b\u51fa\u5f02\u5e38ArrayIndexOutOfBoundsException", "user": {"login": "BlackPoint-CX", "id": 4661989, "node_id": "MDQ6VXNlcjQ2NjE5ODk=", "avatar_url": "https://avatars.githubusercontent.com/u/4661989?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BlackPoint-CX", "html_url": "https://github.com/BlackPoint-CX", "followers_url": "https://api.github.com/users/BlackPoint-CX/followers", "following_url": "https://api.github.com/users/BlackPoint-CX/following{/other_user}", "gists_url": "https://api.github.com/users/BlackPoint-CX/gists{/gist_id}", "starred_url": "https://api.github.com/users/BlackPoint-CX/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BlackPoint-CX/subscriptions", "organizations_url": "https://api.github.com/users/BlackPoint-CX/orgs", "repos_url": "https://api.github.com/users/BlackPoint-CX/repos", "events_url": "https://api.github.com/users/BlackPoint-CX/events{/privacy}", "received_events_url": "https://api.github.com/users/BlackPoint-CX/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-11-21T07:25:09Z", "updated_at": "2018-11-24T17:18:50Z", "closed_at": "2018-11-24T17:18:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n\u6ce8\u610f\u4e8b\u9879\u548c\u7248\u672c\u53f7\u5fc5\u586b\uff0c\u5426\u5219\u4e0d\u56de\u590d\u3002\u82e5\u5e0c\u671b\u5c3d\u5feb\u5f97\u5230\u56de\u590d\uff0c\u8bf7\u6309\u6a21\u677f\u8ba4\u771f\u586b\u5199\uff0c\u8c22\u8c22\u5408\u4f5c\u3002\r\n-->\r\n\r\n## \u6ce8\u610f\u4e8b\u9879\r\n\u8bf7\u786e\u8ba4\u4e0b\u5217\u6ce8\u610f\u4e8b\u9879\uff1a\r\n\r\n* \u6211\u5df2\u4ed4\u7ec6\u9605\u8bfb\u4e0b\u5217\u6587\u6863\uff0c\u90fd\u6ca1\u6709\u627e\u5230\u7b54\u6848\uff1a\r\n  - [\u9996\u9875\u6587\u6863](https://github.com/hankcs/HanLP)\r\n  - [wiki](https://github.com/hankcs/HanLP/wiki)\r\n  - [\u5e38\u89c1\u95ee\u9898](https://github.com/hankcs/HanLP/wiki/FAQ)\r\n* \u6211\u5df2\u7ecf\u901a\u8fc7[Google](https://www.google.com/#newwindow=1&q=HanLP)\u548c[issue\u533a\u68c0\u7d22\u529f\u80fd](https://github.com/hankcs/HanLP/issues)\u641c\u7d22\u4e86\u6211\u7684\u95ee\u9898\uff0c\u4e5f\u6ca1\u6709\u627e\u5230\u7b54\u6848\u3002\r\n* \u6211\u660e\u767d\u5f00\u6e90\u793e\u533a\u662f\u51fa\u4e8e\u5174\u8da3\u7231\u597d\u805a\u96c6\u8d77\u6765\u7684\u81ea\u7531\u793e\u533a\uff0c\u4e0d\u627f\u62c5\u4efb\u4f55\u8d23\u4efb\u6216\u4e49\u52a1\u3002\u6211\u4f1a\u793c\u8c8c\u53d1\u8a00\uff0c\u5411\u6bcf\u4e00\u4e2a\u5e2e\u52a9\u6211\u7684\u4eba\u8868\u793a\u611f\u8c22\u3002\r\n* [x] \u6211\u5728\u6b64\u62ec\u53f7\u5185\u8f93\u5165x\u6253\u94a9\uff0c\u4ee3\u8868\u4e0a\u8ff0\u4e8b\u9879\u786e\u8ba4\u5b8c\u6bd5\u3002\r\n\r\n## \u7248\u672c\u53f7\r\n<!-- \u53d1\u884c\u7248\u8bf7\u6ce8\u660ejar\u6587\u4ef6\u540d\u53bb\u6389\u62d3\u5c55\u540d\u7684\u90e8\u5206\uff1bGitHub\u4ed3\u5e93\u7248\u8bf7\u6ce8\u660emaster\u8fd8\u662fportable\u5206\u652f -->\r\n\r\n\u5f53\u524d\u6700\u65b0\u7248\u672c\u53f7\u662f\uff1a1.7.0\r\n\u6211\u4f7f\u7528\u7684\u7248\u672c\u662f\uff1a1.6.8\r\n\r\n<!--\u4ee5\u4e0a\u5c5e\u4e8e\u5fc5\u586b\u9879\uff0c\u4ee5\u4e0b\u53ef\u81ea\u7531\u53d1\u6325-->\r\n\r\n## \u6211\u7684\u95ee\u9898\r\n\u5f53\u65b0\u589e\u81ea\u5b9a\u4e49\u8bcd\u5178\u6587\u4ef6\u65f6, \u901a\u8fc7\u8c03\u7528CustomDictionary\u4e2d\u7684reload\u65b9\u6cd5\u751f\u6210\u65b0\u7684CustomDictionary.txt.bin\u6587\u4ef6\u751f\u6210\u5e76\u52a0\u8f7d, \u4ece\u800c\u5b9e\u73b0\u5bf9\u65b0\u52a0\u81ea\u5b9a\u4e49\u8bcd\u5178\u4e2d\u7684\u8bcd\u7684\u5207\u5206\u529f\u80fd. \r\n\r\n\r\n\r\n## \u590d\u73b0\u95ee\u9898\r\n<!-- \u4f60\u662f\u5982\u4f55\u64cd\u4f5c\u5bfc\u81f4\u4ea7\u751f\u95ee\u9898\u7684\uff1f\u6bd4\u5982\u4fee\u6539\u4e86\u4ee3\u7801\uff1f\u4fee\u6539\u4e86\u8bcd\u5178\u6216\u6a21\u578b\uff1f-->\r\n\u76ee\u524d\u53d1\u73b0\u7684\u95ee\u9898\u662f : \u901a\u8fc7reload\u65b9\u6cd5\u751f\u6210\u7684\u65b0bin\u6587\u4ef6\u5728\u7b2c\u4e8c\u6b21\u7a0b\u5e8f\u542f\u52a8\u8fc7\u7a0b\u4e2d\u4e0d\u80fd\u591f\u88ab\u6b63\u786e\u8bc6\u522b, \u4f1a\u629b\u51fa\r\n```python\r\n\u5341\u4e00\u6708 21, 2018 2:41:38 \u4e0b\u5348 com.hankcs.hanlp.dictionary.CustomDictionary loadDat\r\n\u8b66\u544a: \u8bfb\u53d6\u5931\u8d25\uff0c\u95ee\u9898\u53d1\u751f\u5728java.lang.ArrayIndexOutOfBoundsException: 149\r\n\tat com.hankcs.hanlp.dictionary.CustomDictionary.loadDat(CustomDictionary.java:327)\r\n\tat com.hankcs.hanlp.dictionary.CustomDictionary.loadMainDictionary(CustomDictionary.java:64)\r\n\tat com.hankcs.hanlp.dictionary.CustomDictionary.<clinit>(CustomDictionary.java:51)\r\n\tat com.hankcs.hanlp.seg.Segment.combineByCustomDictionary(Segment.java:203)\r\n\tat com.hankcs.hanlp.seg.Viterbi.ViterbiSegment.segSentence(ViterbiSegment.java:57)\r\n\tat com.hankcs.hanlp.seg.Segment.seg(Segment.java:573)\r\n\tat com.hankcs.hanlp.tokenizer.StandardTokenizer.segment(StandardTokenizer.java:50)\r\n\tat com.hankcs.hanlp.HanLP.segment(HanLP.java:626)\r\n```\r\n\u4e14\u901a\u8fc7reload\u751f\u6210\u7684bin\u6587\u4ef6\u5927\u5c0f\u548c\u521d\u59cb\u5316HanLP\u751f\u6210\u7684bin\u6587\u4ef6\u5927\u5c0f\u4e0d\u4e00\u81f4.\r\n\u6211\u7684\u4f8b\u5b50\u4e2d, \u901a\u8fc7reload\u751f\u6210\u7684bin\u6587\u4ef6\u5927\u5c0f\u4e3a28788656, \u901a\u8fc7HanLP\u521d\u59cb\u5316\u751f\u6210\u7684bin\u6587\u4ef6\u5927\u5c0f\u4e3a28788888. \r\n\u5df2\u7ecf\u786e\u5b9a\u4e0d\u662f\u56e0\u4e3a\u8fdb\u7a0b\u63d0\u524d\u5173\u95ed\u5bfc\u81f4\u6587\u4ef6\u6ca1\u6709\u5199\u5b8c\u8fd9\u79cd\u60c5\u51b5.\r\n\r\n### \u6b65\u9aa4\r\n \r\n\r\n### \u89e6\u53d1\u4ee3\u7801\r\n\r\n```\r\nfrom jpype import JClass\r\nfrom pyhanlp import HanLP, SafeJClass\r\nfrom datetime import datetime\r\ncustom_dictionary = SafeJClass('com.hankcs.hanlp.dictionary.CustomDictionary')\r\ncustom_dictionary.reload()\r\nHanLP.segment('\u4eca\u5929\u5929\u6c14\u4e0d\u9519')\r\n```\r\n\u5728\u8fd0\u884c\u8fc7\u4e0a\u8ff0\u4ee3\u7801\u540e, \u4f1a\u751f\u6210\u4e00\u4e2abin\u6587\u4ef6, \u4e3a\u4e86\u4fbf\u4e8e\u533a\u5206\u7b80\u79f0\u4e3areload.bin\r\n```\r\nfrom jpype import JClass\r\nfrom pyhanlp import HanLP, SafeJClass\r\nfrom datetime import datetime\r\n#custom_dictionary = SafeJClass('com.hankcs.hanlp.dictionary.CustomDictionary')\r\n#custom_dictionary.reload()\r\nHanLP.segment('\u4eca\u5929\u5929\u6c14\u4e0d\u9519')\r\n```\r\n\u5728\u8fd0\u884c\u4e0a\u8ff0\u4ee3\u7801\u8fc7\u7a0b\u4e2d, \u4f1a\u629b\u51fa\u95ee\u9898\u4e2d\u9047\u5230\u7684\u5f02\u5e38, \u800c\u4e14\u4f1a\u751f\u6210\u65b0\u7684bin\u6587\u4ef6, \u79f0\u4e3ainit.bin\r\n\r\nreload.bin\u6587\u4ef6\u5927\u5c0f\u4e3a28788656\r\ninit.bin\u6587\u4ef6\u5927\u5c0f\u4e3a28788888\r\n\r\n### \u671f\u671b\u8f93\u51fa\r\n\r\n<!-- \u4f60\u5e0c\u671b\u8f93\u51fa\u4ec0\u4e48\u6837\u7684\u6b63\u786e\u7ed3\u679c\uff1f-->\r\n\r\n```\r\n\u671f\u671b\u8f93\u51fa\r\n```\r\n\r\n### \u5b9e\u9645\u8f93\u51fa\r\n\r\n<!-- HanLP\u5b9e\u9645\u8f93\u51fa\u4e86\u4ec0\u4e48\uff1f\u4ea7\u751f\u4e86\u4ec0\u4e48\u6548\u679c\uff1f\u9519\u5728\u54ea\u91cc\uff1f-->\r\n\r\n```\r\n\u5b9e\u9645\u8f93\u51fa\r\n```\r\n\r\n## \u5176\u4ed6\u4fe1\u606f\r\n\r\n<!-- \u4efb\u4f55\u53ef\u80fd\u6709\u7528\u7684\u4fe1\u606f\uff0c\u5305\u62ec\u622a\u56fe\u3001\u65e5\u5fd7\u3001\u914d\u7f6e\u6587\u4ef6\u3001\u76f8\u5173issue\u7b49\u7b49\u3002-->\r\n2018-11-21 17:00:55\r\n\u63a8\u6d4b\u53ef\u80fd\u662floadDat\u91cc\u9762\u6709\u4e9b\u903b\u8f91\u662f\u7a0b\u5e8f\u521d\u59cb\u5316\u4e2d\u4f1a\u8d70, \u4f46\u662freload\u4e0d\u4f1a\u8d70\u7684. \u6240\u4ee5\u5bfc\u81f4\u5199\u5165\u6587\u4ef6\u7684\u5185\u5bb9\u4e0d\u4e00\u81f4.\r\n\r\n2018-11-22 10:33:15\r\n\u91cd\u65b0\u590d\u73b0\u4e86\u4e00\u904d\u8fc7\u7a0b, \u67e5\u770b\u4e86\u5176\u4ed6\u7684issue. \u8fc7\u5f80\u7684issue\u90fd\u662f\u56e0\u4e3a\u8001\u7248\u672c\u7684\u53cd\u5c04\u673a\u5236\u5bfc\u81f4\u81ea\u5b9a\u4e49\u8bcd\u6027\u62a5\u9519. \u4f46\u662f\u76ee\u524d\u7528\u7684\u662f1.6.8\u7248\u672c, \u5e94\u8be5\u4e0d\u5b58\u5728\u8fd9\u4e2a\u95ee\u9898. \u540c\u65f6\u91c7\u53d6\u4e86\u4e0d\u540c\u7684\u7b56\u7565\u8fdb\u884c\u6d4b\u8bd5\r\n\r\n1) \u7b56\u7565:  \u672c\u5730\u6709init.bin  \u7ed3\u679c : \u6b63\u5e38\u8f7d\u5165 \u4e0d\u62a5\u9519 \u6b63\u5e38\u5206\u8bcd\r\n2) \u7b56\u7565: \u672c\u5730\u65e0init.bin \u7ed3\u679c : \u6b63\u5e38\u751f\u6210init.bin \u6b63\u5e38\u8f7d\u5165 \u4e0d\u62a5\u9519 \u6b63\u5e38\u5206\u8bcd.\r\n3) \u7b56\u7565: \u672c\u5730\u6709init.bin \u7b2c\u4e00\u6b21\u548c\u7b2c\u4e8c\u6b21\u5206\u8bcd\u4e4b\u95f4\u8fdb\u884creload \u7ed3\u679c : \u6b63\u5e38\u751f\u6210reload.bin \u4e24\u6b21\u5206\u8bcd\u5747\u6b63\u5e38 \u4efb\u52a1\u7ed3\u675f\u540e\u5728\u5176\u4ed6\u4efb\u52a1\u4e2d\u8fdb\u884c\u5206\u8bcd, \u65e0\u6cd5\u6b63\u5e38\u8f7d\u5165reload.bin, \u91cd\u65b0\u751f\u6210init.bin.\r\n\r\nreload\u4e2d\u4e5f\u662f\u901a\u8fc7\u5220\u9664\u672c\u5730bin\u6587\u4ef6\u540e\u91cd\u65b0\u8c03\u7528loadMainDictionary\u65b9\u6cd5\u8fdb\u884c\u65b0bin\u6587\u4ef6\u751f\u6210, \u548cinit\u8fc7\u7a0b\u4e2d\u7684\u903b\u8f91\u662f\u4e00\u6837\u7684, \u4f46\u662f\u751f\u6210\u7684\u6587\u4ef6\u5927\u5c0f\u4e0d\u4e00\u81f4, \u4e14\u4e0d\u80fd\u6b63\u5e38\u8bfb\u53d6. \u6000\u7591\u662f\u5728reload\u8fc7\u7a0b\u4e2d\u662f\u5426\u6ca1\u6709\u521d\u59cb\u5316\u4e00\u4e9b\u5168\u5c40\u53d8\u91cf\u7684\u503c\u5bfc\u81f4reaload\u751f\u6210\u7684bin\u6587\u4ef6\u7f3a\u5c11\u4e00\u4e9b\u5185\u5bb9.\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/1028/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/1028/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/966", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/966/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/966/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/966/events", "html_url": "https://github.com/hankcs/HanLP/issues/966", "id": 359763900, "node_id": "MDU6SXNzdWUzNTk3NjM5MDA=", "number": 966, "title": "DoubleArrayTrie\u7684LongestSearcher\u6709\u65f6\u5019\u5339\u914d\u9057\u6f0f", "user": {"login": "wawa8900", "id": 26922926, "node_id": "MDQ6VXNlcjI2OTIyOTI2", "avatar_url": "https://avatars.githubusercontent.com/u/26922926?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wawa8900", "html_url": "https://github.com/wawa8900", "followers_url": "https://api.github.com/users/wawa8900/followers", "following_url": "https://api.github.com/users/wawa8900/following{/other_user}", "gists_url": "https://api.github.com/users/wawa8900/gists{/gist_id}", "starred_url": "https://api.github.com/users/wawa8900/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wawa8900/subscriptions", "organizations_url": "https://api.github.com/users/wawa8900/orgs", "repos_url": "https://api.github.com/users/wawa8900/repos", "events_url": "https://api.github.com/users/wawa8900/events{/privacy}", "received_events_url": "https://api.github.com/users/wawa8900/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-09-13T06:48:05Z", "updated_at": "2018-09-15T15:42:43Z", "closed_at": "2018-09-15T15:42:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n\u6ce8\u610f\u4e8b\u9879\u548c\u7248\u672c\u53f7\u5fc5\u586b\uff0c\u5426\u5219\u4e0d\u56de\u590d\u3002\u82e5\u5e0c\u671b\u5c3d\u5feb\u5f97\u5230\u56de\u590d\uff0c\u8bf7\u6309\u6a21\u677f\u8ba4\u771f\u586b\u5199\uff0c\u8c22\u8c22\u5408\u4f5c\u3002\r\n-->\r\n\r\n## \u6ce8\u610f\u4e8b\u9879\r\n\u8bf7\u786e\u8ba4\u4e0b\u5217\u6ce8\u610f\u4e8b\u9879\uff1a\r\n\r\n* \u6211\u5df2\u4ed4\u7ec6\u9605\u8bfb\u4e0b\u5217\u6587\u6863\uff0c\u90fd\u6ca1\u6709\u627e\u5230\u7b54\u6848\uff1a\r\n  - [\u9996\u9875\u6587\u6863](https://github.com/hankcs/HanLP)\r\n  - [wiki](https://github.com/hankcs/HanLP/wiki)\r\n  - [\u5e38\u89c1\u95ee\u9898](https://github.com/hankcs/HanLP/wiki/FAQ)\r\n* \u6211\u5df2\u7ecf\u901a\u8fc7[Google](https://www.google.com/#newwindow=1&q=HanLP)\u548c[issue\u533a\u68c0\u7d22\u529f\u80fd](https://github.com/hankcs/HanLP/issues)\u641c\u7d22\u4e86\u6211\u7684\u95ee\u9898\uff0c\u4e5f\u6ca1\u6709\u627e\u5230\u7b54\u6848\u3002\r\n* \u6211\u660e\u767d\u5f00\u6e90\u793e\u533a\u662f\u51fa\u4e8e\u5174\u8da3\u7231\u597d\u805a\u96c6\u8d77\u6765\u7684\u81ea\u7531\u793e\u533a\uff0c\u4e0d\u627f\u62c5\u4efb\u4f55\u8d23\u4efb\u6216\u4e49\u52a1\u3002\u6211\u4f1a\u793c\u8c8c\u53d1\u8a00\uff0c\u5411\u6bcf\u4e00\u4e2a\u5e2e\u52a9\u6211\u7684\u4eba\u8868\u793a\u611f\u8c22\u3002\r\n* [x] \u6211\u5728\u6b64\u62ec\u53f7\u5185\u8f93\u5165x\u6253\u94a9\uff0c\u4ee3\u8868\u4e0a\u8ff0\u4e8b\u9879\u786e\u8ba4\u5b8c\u6bd5\u3002\r\n\r\n## \u7248\u672c\u53f7\r\n<!-- \u53d1\u884c\u7248\u8bf7\u6ce8\u660ejar\u6587\u4ef6\u540d\u53bb\u6389\u62d3\u5c55\u540d\u7684\u90e8\u5206\uff1bGitHub\u4ed3\u5e93\u7248\u8bf7\u6ce8\u660emaster\u8fd8\u662fportable\u5206\u652f -->\r\n\r\n\u5f53\u524d\u6700\u65b0\u7248\u672c\u53f7\u662f\uff1a1.6.8\r\n\u6211\u4f7f\u7528\u7684\u7248\u672c\u662f\uff1aportable-1.6.6\r\n\r\n## \u6211\u7684\u95ee\u9898\r\n\u5728\u4f7f\u7528DoubleArrayTrie\u7c7b\u7684LongestSearcher\u65b9\u6cd5\u65f6\uff0c\u6709\u4e9b\u8bcd\u5339\u914d\u4e0d\u5230\u3002\r\n\r\n## \u590d\u73b0\u95ee\u9898\r\n### \u6b65\u9aa4\r\n1. \u6784\u5efa\u4e00\u4e2aDoubleArrayTrie\uff0c\u5305\u542b\u4ee5\u4e0b\u5173\u952e\u8bcd\uff1a\r\n001\u4e61\u9053, \u5317\u4eac, \u5317\u4eac\u5e02\u901a\u4fe1\u516c\u53f8, \u6765\u5e7f\u8425\u4e61, \u901a\u5dde\u533a\r\n2. \u7528\u4e0a\u9762\u6784\u5efa\u7684DART\uff0c\u4f7f\u7528getLongestSearcher()\uff0c\u5339\u914d\u4e0b\u9762\u7684\u53e5\u5b50\uff1a\r\n\u5317\u4eac\u5e02\u901a\u5dde\u533a001\u4e61\u9053\u53d1\u751f\u4e86\u4e00\u4ef6\u6709\u610f\u601d\u7684\u4e8b\u60c5\uff0c\u6765\u5e7f\u8425\u4e61\u6b4c\u821e\u961f\u6b63\u5728\u8df3\u821e\r\n\r\n### \u89e6\u53d1\u4ee3\u7801\r\n\t\tDoubleArrayTrie<String>.LongestSearcher searcher = dart.getLongestSearcher(str, 0);\r\n\t\twhile (searcher.next())\r\n\t\t{\r\n                     ...\r\n\t\t}\r\n### \u671f\u671b\u8f93\u51fa\r\n\u671f\u671b\u80fd\u6309\u987a\u5e8f\u5339\u914d\u5230\u4e0b\u9762\u7684\u8bcd\uff1a\r\n\u5317\u4eac \u901a\u5dde\u533a 001\u4e61\u9053 \u6765\u5e7f\u8425\u4e61\r\n\r\n### \u5b9e\u9645\u8f93\u51fa\r\n\u53ea\u5339\u914d\u5230\u4e86\u4e0b\u9762\u7684\u8bcd\uff08\u901a\u5dde\u533a\u6ca1\u6709\u88ab\u5339\u914d\u5230\uff09\r\n\u5317\u4eac 001\u4e61\u9053 \u6765\u5e7f\u8425\u4e61\r\n\r\n## \u5176\u4ed6\u4fe1\u606f\r\n\u4f7f\u7528getSearcher()\u6ca1\u6709\u95ee\u9898\r\n", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/966/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/966/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/962", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/962/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/962/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/962/events", "html_url": "https://github.com/hankcs/HanLP/issues/962", "id": 357891631, "node_id": "MDU6SXNzdWUzNTc4OTE2MzE=", "number": 962, "title": "pyhanlp\u5728Debug\u65ad\u6389\u8c03\u8bd5\u6a21\u578b\u5c31\u4f1aPython\u505c\u6b62\u5de5\u4f5c", "user": {"login": "whaozl", "id": 6327360, "node_id": "MDQ6VXNlcjYzMjczNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/6327360?v=4", "gravatar_id": "", "url": "https://api.github.com/users/whaozl", "html_url": "https://github.com/whaozl", "followers_url": "https://api.github.com/users/whaozl/followers", "following_url": "https://api.github.com/users/whaozl/following{/other_user}", "gists_url": "https://api.github.com/users/whaozl/gists{/gist_id}", "starred_url": "https://api.github.com/users/whaozl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/whaozl/subscriptions", "organizations_url": "https://api.github.com/users/whaozl/orgs", "repos_url": "https://api.github.com/users/whaozl/repos", "events_url": "https://api.github.com/users/whaozl/events{/privacy}", "received_events_url": "https://api.github.com/users/whaozl/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-09-07T02:01:37Z", "updated_at": "2018-09-14T11:47:00Z", "closed_at": "2018-09-10T04:09:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n\u6ce8\u610f\u4e8b\u9879\u548c\u7248\u672c\u53f7\u5fc5\u586b\uff0c\u5426\u5219\u4e0d\u56de\u590d\u3002\u82e5\u5e0c\u671b\u5c3d\u5feb\u5f97\u5230\u56de\u590d\uff0c\u8bf7\u6309\u6a21\u677f\u8ba4\u771f\u586b\u5199\uff0c\u8c22\u8c22\u5408\u4f5c\u3002\r\n-->\r\n\r\n## \u6ce8\u610f\u4e8b\u9879\r\n\u8bf7\u786e\u8ba4\u4e0b\u5217\u6ce8\u610f\u4e8b\u9879\uff1a\r\n\r\n* \u6211\u5df2\u4ed4\u7ec6\u9605\u8bfb\u4e0b\u5217\u6587\u6863\uff0c\u90fd\u6ca1\u6709\u627e\u5230\u7b54\u6848\uff1a\r\n  - [\u9996\u9875\u6587\u6863](https://github.com/hankcs/HanLP)\r\n  - [wiki](https://github.com/hankcs/HanLP/wiki)\r\n  - [\u5e38\u89c1\u95ee\u9898](https://github.com/hankcs/HanLP/wiki/FAQ)\r\n* \u6211\u5df2\u7ecf\u901a\u8fc7[Google](https://www.google.com/#newwindow=1&q=HanLP)\u548c[issue\u533a\u68c0\u7d22\u529f\u80fd](https://github.com/hankcs/HanLP/issues)\u641c\u7d22\u4e86\u6211\u7684\u95ee\u9898\uff0c\u4e5f\u6ca1\u6709\u627e\u5230\u7b54\u6848\u3002\r\n* \u6211\u660e\u767d\u5f00\u6e90\u793e\u533a\u662f\u51fa\u4e8e\u5174\u8da3\u7231\u597d\u805a\u96c6\u8d77\u6765\u7684\u81ea\u7531\u793e\u533a\uff0c\u4e0d\u627f\u62c5\u4efb\u4f55\u8d23\u4efb\u6216\u4e49\u52a1\u3002\u6211\u4f1a\u793c\u8c8c\u53d1\u8a00\uff0c\u5411\u6bcf\u4e00\u4e2a\u5e2e\u52a9\u6211\u7684\u4eba\u8868\u793a\u611f\u8c22\u3002\r\n* [x] \u6211\u5728\u6b64\u62ec\u53f7\u5185\u8f93\u5165x\u6253\u94a9\uff0c\u4ee3\u8868\u4e0a\u8ff0\u4e8b\u9879\u786e\u8ba4\u5b8c\u6bd5\u3002\r\n\r\n## \u7248\u672c\u53f7\r\n<!-- \u53d1\u884c\u7248\u8bf7\u6ce8\u660ejar\u6587\u4ef6\u540d\u53bb\u6389\u62d3\u5c55\u540d\u7684\u90e8\u5206\uff1bGitHub\u4ed3\u5e93\u7248\u8bf7\u6ce8\u660emaster\u8fd8\u662fportable\u5206\u652f -->\r\n\r\n\u5f53\u524d\u6700\u65b0\u7248\u672c\u53f7\u662f\uff1a1.6.8\r\n\u6211\u4f7f\u7528\u7684\u7248\u672c\u662f\uff1a1.6.8\r\n\r\n<!--\u4ee5\u4e0a\u5c5e\u4e8e\u5fc5\u586b\u9879\uff0c\u4ee5\u4e0b\u53ef\u81ea\u7531\u53d1\u6325-->\r\n\r\n## \u6211\u7684\u95ee\u9898\r\n\r\n<!-- \u8bf7\u8be6\u7ec6\u63cf\u8ff0\u95ee\u9898\uff0c\u8d8a\u8be6\u7ec6\u8d8a\u53ef\u80fd\u5f97\u5230\u89e3\u51b3 -->\r\n\u5728\u4f7f\u7528pyhanlp\u8fc7\u7a0b\u4e2d\uff0c\u5982\u679c\u662fDebug\u6a21\u5f0f\uff0c\u4f7f\u7528IDEA\u65ad\u70b9\u8c03\u8bd5\uff0c\u5c31\u4f1a\u51fa\u73b0Python\u505c\u6b62\u5de5\u4f5c\r\n![1](https://user-images.githubusercontent.com/6327360/45194246-ced08780-b284-11e8-97c2-a519004e9fdd.png)\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/962/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/962/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/932", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/932/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/932/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/932/events", "html_url": "https://github.com/hankcs/HanLP/issues/932", "id": 352869872, "node_id": "MDU6SXNzdWUzNTI4Njk4NzI=", "number": 932, "title": "\u547d\u540d\u5b9e\u4f53\u8bc6\u522b\u62a5\u9519\uff0c\u4e0d\u77e5\u539f\u56e0", "user": {"login": "zibuyu28", "id": 36945916, "node_id": "MDQ6VXNlcjM2OTQ1OTE2", "avatar_url": "https://avatars.githubusercontent.com/u/36945916?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zibuyu28", "html_url": "https://github.com/zibuyu28", "followers_url": "https://api.github.com/users/zibuyu28/followers", "following_url": "https://api.github.com/users/zibuyu28/following{/other_user}", "gists_url": "https://api.github.com/users/zibuyu28/gists{/gist_id}", "starred_url": "https://api.github.com/users/zibuyu28/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zibuyu28/subscriptions", "organizations_url": "https://api.github.com/users/zibuyu28/orgs", "repos_url": "https://api.github.com/users/zibuyu28/repos", "events_url": "https://api.github.com/users/zibuyu28/events{/privacy}", "received_events_url": "https://api.github.com/users/zibuyu28/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-08-22T09:20:58Z", "updated_at": "2018-08-25T15:21:59Z", "closed_at": "2018-08-25T15:21:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n\u6ce8\u610f\u4e8b\u9879\u548c\u7248\u672c\u53f7\u5fc5\u586b\uff0c\u5426\u5219\u4e0d\u56de\u590d\u3002\u82e5\u5e0c\u671b\u5c3d\u5feb\u5f97\u5230\u56de\u590d\uff0c\u8bf7\u6309\u6a21\u677f\u8ba4\u771f\u586b\u5199\uff0c\u8c22\u8c22\u5408\u4f5c\u3002\r\n-->\r\n\r\n## \u6ce8\u610f\u4e8b\u9879\r\n\u8bf7\u786e\u8ba4\u4e0b\u5217\u6ce8\u610f\u4e8b\u9879\uff1a\r\n\r\n* \u6211\u5df2\u4ed4\u7ec6\u9605\u8bfb\u4e0b\u5217\u6587\u6863\uff0c\u90fd\u6ca1\u6709\u627e\u5230\u7b54\u6848\uff1a\r\n  - [\u9996\u9875\u6587\u6863](https://github.com/hankcs/HanLP)\r\n  - [wiki](https://github.com/hankcs/HanLP/wiki)\r\n  - [\u5e38\u89c1\u95ee\u9898](https://github.com/hankcs/HanLP/wiki/FAQ)\r\n* \u6211\u5df2\u7ecf\u901a\u8fc7[Google](https://www.google.com/#newwindow=1&q=HanLP)\u548c[issue\u533a\u68c0\u7d22\u529f\u80fd](https://github.com/hankcs/HanLP/issues)\u641c\u7d22\u4e86\u6211\u7684\u95ee\u9898\uff0c\u4e5f\u6ca1\u6709\u627e\u5230\u7b54\u6848\u3002\r\n* \u6211\u660e\u767d\u5f00\u6e90\u793e\u533a\u662f\u51fa\u4e8e\u5174\u8da3\u7231\u597d\u805a\u96c6\u8d77\u6765\u7684\u81ea\u7531\u793e\u533a\uff0c\u4e0d\u627f\u62c5\u4efb\u4f55\u8d23\u4efb\u6216\u4e49\u52a1\u3002\u6211\u4f1a\u793c\u8c8c\u53d1\u8a00\uff0c\u5411\u6bcf\u4e00\u4e2a\u5e2e\u52a9\u6211\u7684\u4eba\u8868\u793a\u611f\u8c22\u3002\r\n* [x] \u6211\u5728\u6b64\u62ec\u53f7\u5185\u8f93\u5165x\u6253\u94a9\uff0c\u4ee3\u8868\u4e0a\u8ff0\u4e8b\u9879\u786e\u8ba4\u5b8c\u6bd5\u3002\r\n\r\n## \u7248\u672c\u53f7\r\n<!-- \u53d1\u884c\u7248\u8bf7\u6ce8\u660ejar\u6587\u4ef6\u540d\u53bb\u6389\u62d3\u5c55\u540d\u7684\u90e8\u5206\uff1bGitHub\u4ed3\u5e93\u7248\u8bf7\u6ce8\u660emaster\u8fd8\u662fportable\u5206\u652f -->\r\n\r\n\u5f53\u524d\u6700\u65b0\u7248\u672c\u53f7\u662f\uff1aportable-1.6.7\r\n\u6211\u4f7f\u7528\u7684\u7248\u672c\u662f\uff1aportable-1.6.7\r\n\r\n<!--\u4ee5\u4e0a\u5c5e\u4e8e\u5fc5\u586b\u9879\uff0c\u4ee5\u4e0b\u53ef\u81ea\u7531\u53d1\u6325-->\r\n\r\n## \u6211\u7684\u95ee\u9898\r\n\r\n\u547d\u540d\u5b9e\u4f53\u8bc6\u522b\uff0c\u4e2a\u522b\u62a5\u9519java.util.NoSuchElementException\r\n\r\n## \u590d\u73b0\u95ee\u9898\r\n\u6b63\u5e38\u6d4b\u8bd5\r\n\r\n### \u6b65\u9aa4\r\n\r\n1. \u9996\u5148\u2026\u2026\r\n2. \u7136\u540e\u2026\u2026\r\n3. \u63a5\u7740\u2026\u2026\r\n\r\n### \u89e6\u53d1\u4ee3\u7801\r\n\r\n```\r\n           String s1 = \"\u6709\u9650\u516c\u53f8\";\r\n        String s2 = \"\u5de5\u7a0b\u6709\u9650\u516c\u53f8\";\r\n        String s3 = \"\u751f\u6001\u5de5\u7a0b\u6709\u9650\u516c\u53f8\";\r\n//        String s4 = \"\u6c5f\u5ddd\u751f\u6001\u5de5\u7a0b\u6709\u9650\u516c\u53f8\";\r\n//        String s4 = \"\u5143\u4ea8\u751f\u6001\u5de5\u7a0b\u6709\u9650\u516c\u53f8\";\r\n        String s4 = \"\u798f\u54c8\u751f\u6001\u5de5\u7a0b\u6709\u9650\u516c\u53f8\";\r\n\r\n        Segment segment = HanLP.newSegment().enableOrganizationRecognize(true);\r\n        List<Term> term1 =segment.seg(s1);\r\n        for (Term t :term1) {\r\n            System.out.print(t);\r\n        }\r\n        System.out.println(\"\");\r\n        List<Term> term2 =segment.seg(s2);\r\n        for (Term t :term2) {\r\n            System.out.print(t);\r\n        }\r\n        System.out.println(\"\");\r\n\r\n        List<Term> term3 =segment.seg(s3);\r\n        for (Term t :term3) {\r\n            System.out.print(t);\r\n        }\r\n        System.out.println(\"\");\r\n        List<Term> term4 =segment.seg(s4);\r\n        for (Term t :term4) {\r\n            System.out.print(t);\r\n        }\r\n        System.out.println(\"\");\r\n```\r\n### \u671f\u671b\u8f93\u51fa\r\n\r\n<!-- \u4f60\u5e0c\u671b\u8f93\u51fa\u4ec0\u4e48\u6837\u7684\u6b63\u786e\u7ed3\u679c\uff1f-->\r\n\r\n```\r\n\u6709\u9650\u516c\u53f8/nis\r\n\u5de5\u7a0b\u6709\u9650\u516c\u53f8/nt\r\n\u751f\u6001\u5de5\u7a0b/nz\u6709\u9650\u516c\u53f8/nis\r\n\u798f\u54c8/nr\u751f\u6001\u5de5\u7a0b/nz\u6709\u9650\u516c\u53f8/nis\r\n```\r\n\r\n### \u5b9e\u9645\u8f93\u51fa\r\n\r\n<!-- HanLP\u5b9e\u9645\u8f93\u51fa\u4e86\u4ec0\u4e48\uff1f\u4ea7\u751f\u4e86\u4ec0\u4e48\u6548\u679c\uff1f\u9519\u5728\u54ea\u91cc\uff1f-->\r\n\r\n```\r\n\u6709\u9650\u516c\u53f8/nis\r\n\u5de5\u7a0b\u6709\u9650\u516c\u53f8/nt\r\n\u751f\u6001\u5de5\u7a0b/nz\u6709\u9650\u516c\u53f8/nis\r\nException in thread \"main\" java.util.NoSuchElementException\r\n\tat java.util.LinkedList$ListItr.next(LinkedList.java:890)\r\n\tat com.hankcs.hanlp.algorithm.Viterbi.computeEnum(Viterbi.java:188)\r\n\tat com.hankcs.hanlp.recognition.nt.OrganizationRecognition.viterbiCompute(OrganizationRecognition.java:124)\r\n\tat com.hankcs.hanlp.recognition.nt.OrganizationRecognition.recognition(OrganizationRecognition.java:53)\r\n\tat com.hankcs.hanlp.seg.Viterbi.ViterbiSegment.segSentence(ViterbiSegment.java:100)\r\n\tat com.hankcs.hanlp.seg.Segment.seg(Segment.java:557)\r\n\tat com.cubr.slf.test.test.main(test.java:38)\r\n```\r\n\r\n## \u5176\u4ed6\u4fe1\u606f\r\n\r\n<!-- \u4efb\u4f55\u53ef\u80fd\u6709\u7528\u7684\u4fe1\u606f\uff0c\u5305\u62ec\u622a\u56fe\u3001\u65e5\u5fd7\u3001\u914d\u7f6e\u6587\u4ef6\u3001\u76f8\u5173issue\u7b49\u7b49\u3002-->\r\n![image](https://user-images.githubusercontent.com/36945916/44455017-99466000-a62f-11e8-9b32-2e09756a080f.png)\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/932/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/932/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/914", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/914/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/914/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/914/events", "html_url": "https://github.com/hankcs/HanLP/issues/914", "id": 348648230, "node_id": "MDU6SXNzdWUzNDg2NDgyMzA=", "number": 914, "title": " MaxEntDependencyParser\u57281.6.6\u7248\u672c\u629b\u51fa\u5f02\u5e38", "user": {"login": "rainson", "id": 8791777, "node_id": "MDQ6VXNlcjg3OTE3Nzc=", "avatar_url": "https://avatars.githubusercontent.com/u/8791777?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rainson", "html_url": "https://github.com/rainson", "followers_url": "https://api.github.com/users/rainson/followers", "following_url": "https://api.github.com/users/rainson/following{/other_user}", "gists_url": "https://api.github.com/users/rainson/gists{/gist_id}", "starred_url": "https://api.github.com/users/rainson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rainson/subscriptions", "organizations_url": "https://api.github.com/users/rainson/orgs", "repos_url": "https://api.github.com/users/rainson/repos", "events_url": "https://api.github.com/users/rainson/events{/privacy}", "received_events_url": "https://api.github.com/users/rainson/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-08-08T09:35:11Z", "updated_at": "2018-08-11T12:47:55Z", "closed_at": "2018-08-11T12:47:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n\u6ce8\u610f\u4e8b\u9879\u548c\u7248\u672c\u53f7\u5fc5\u586b\uff0c\u5426\u5219\u4e0d\u56de\u590d\u3002\u82e5\u5e0c\u671b\u5c3d\u5feb\u5f97\u5230\u56de\u590d\uff0c\u8bf7\u6309\u6a21\u677f\u8ba4\u771f\u586b\u5199\uff0c\u8c22\u8c22\u5408\u4f5c\u3002\r\n-->\r\n\r\n## \u6ce8\u610f\u4e8b\u9879\r\n\u8bf7\u786e\u8ba4\u4e0b\u5217\u6ce8\u610f\u4e8b\u9879\uff1a\r\n\r\n* \u6211\u5df2\u4ed4\u7ec6\u9605\u8bfb\u4e0b\u5217\u6587\u6863\uff0c\u90fd\u6ca1\u6709\u627e\u5230\u7b54\u6848\uff1a\r\n  - [\u9996\u9875\u6587\u6863](https://github.com/hankcs/HanLP)\r\n  - [wiki](https://github.com/hankcs/HanLP/wiki)\r\n  - [\u5e38\u89c1\u95ee\u9898](https://github.com/hankcs/HanLP/wiki/FAQ)\r\n* \u6211\u5df2\u7ecf\u901a\u8fc7[Google](https://www.google.com/#newwindow=1&q=HanLP)\u548c[issue\u533a\u68c0\u7d22\u529f\u80fd](https://github.com/hankcs/HanLP/issues)\u641c\u7d22\u4e86\u6211\u7684\u95ee\u9898\uff0c\u4e5f\u6ca1\u6709\u627e\u5230\u7b54\u6848\u3002\r\n* \u6211\u660e\u767d\u5f00\u6e90\u793e\u533a\u662f\u51fa\u4e8e\u5174\u8da3\u7231\u597d\u805a\u96c6\u8d77\u6765\u7684\u81ea\u7531\u793e\u533a\uff0c\u4e0d\u627f\u62c5\u4efb\u4f55\u8d23\u4efb\u6216\u4e49\u52a1\u3002\u6211\u4f1a\u793c\u8c8c\u53d1\u8a00\uff0c\u5411\u6bcf\u4e00\u4e2a\u5e2e\u52a9\u6211\u7684\u4eba\u8868\u793a\u611f\u8c22\u3002\r\n* [x] \u6211\u5728\u6b64\u62ec\u53f7\u5185\u8f93\u5165x\u6253\u94a9\uff0c\u4ee3\u8868\u4e0a\u8ff0\u4e8b\u9879\u786e\u8ba4\u5b8c\u6bd5\u3002\r\n\r\n## \u7248\u672c\u53f7\r\n\u5f53\u524d\u6700\u65b0\u7248\u672c\u53f7\u662f\uff1ahanlp-portable-1.6.6\r\n\u6211\u4f7f\u7528\u7684\u7248\u672c\u662f\uff1ahanlp-portable-1.6.6\r\n\r\n<!--\u4ee5\u4e0a\u5c5e\u4e8e\u5fc5\u586b\u9879\uff0c\u4ee5\u4e0b\u53ef\u81ea\u7531\u53d1\u6325-->\r\n\r\n## \u6211\u7684\u95ee\u9898\r\n\u4ee3\u7801\u4e3a\uff1a CoNLLSentence sent =  MaxEntDependencyParser.compute(text);\r\n\u57281.6.4\u7248\u672c\u8fd0\u884c\u6ca1\u95ee\u9898\r\n\u57281.6.6\u7248\u672c\u8fd0\u884c\u629b\u51fa\u5f02\u5e38\uff1a\r\nException in thread \"main\" java.lang.ExceptionInInitializerError\r\n\tat com.hankcs.hanlp.dependency.MinimumSpanningTreeParser.parse(MinimumSpanningTreeParser.java:41)\r\n\tat com.hankcs.hanlp.dependency.AbstractDependencyParser.parse(AbstractDependencyParser.java:56)\r\n\tat com.hankcs.hanlp.dependency.MaxEntDependencyParser.compute(MaxEntDependencyParser.java:86)\r\n\tat Test.main(Test.java:54)\r\nCaused by: java.lang.NullPointerException\r\n\tat com.hankcs.hanlp.dependency.common.Node.<init>(Node.java:113)\r\n\tat com.hankcs.hanlp.dependency.common.Node.<clinit>(Node.java:28)\r\n\t... 4 more\r\n", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/914/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/914/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/903", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/903/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/903/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/903/events", "html_url": "https://github.com/hankcs/HanLP/issues/903", "id": 346016948, "node_id": "MDU6SXNzdWUzNDYwMTY5NDg=", "number": 903, "title": " \u8bad\u7ec3\u7684word2vec \u6a21\u578b\uff0c\u653e\u5728hdfs\u4e0a\uff0c\u7528spark\u5206\u5e03\u5f0f\u7684\u52a0\u8f7d\u8c03\u7528\u5931\u8d25\u95ee\u9898\uff1f", "user": {"login": "tc620", "id": 38519960, "node_id": "MDQ6VXNlcjM4NTE5OTYw", "avatar_url": "https://avatars.githubusercontent.com/u/38519960?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tc620", "html_url": "https://github.com/tc620", "followers_url": "https://api.github.com/users/tc620/followers", "following_url": "https://api.github.com/users/tc620/following{/other_user}", "gists_url": "https://api.github.com/users/tc620/gists{/gist_id}", "starred_url": "https://api.github.com/users/tc620/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tc620/subscriptions", "organizations_url": "https://api.github.com/users/tc620/orgs", "repos_url": "https://api.github.com/users/tc620/repos", "events_url": "https://api.github.com/users/tc620/events{/privacy}", "received_events_url": "https://api.github.com/users/tc620/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-07-31T02:58:50Z", "updated_at": "2018-07-31T03:10:40Z", "closed_at": "2018-07-31T03:09:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n\u6ce8\u610f\u4e8b\u9879\u548c\u7248\u672c\u53f7\u5fc5\u586b\uff0c\u5426\u5219\u4e0d\u56de\u590d\u3002\u82e5\u5e0c\u671b\u5c3d\u5feb\u5f97\u5230\u56de\u590d\uff0c\u8bf7\u6309\u6a21\u677f\u8ba4\u771f\u586b\u5199\uff0c\u8c22\u8c22\u5408\u4f5c\u3002\r\n-->\r\n\r\n## \u6ce8\u610f\u4e8b\u9879\r\n\u8bf7\u786e\u8ba4\u4e0b\u5217\u6ce8\u610f\u4e8b\u9879\uff1a\r\n\r\n* \u6211\u5df2\u4ed4\u7ec6\u9605\u8bfb\u4e0b\u5217\u6587\u6863\uff0c\u90fd\u6ca1\u6709\u627e\u5230\u7b54\u6848\uff1a\r\n  - [\u9996\u9875\u6587\u6863](https://github.com/hankcs/HanLP)\r\n  - [wiki](https://github.com/hankcs/HanLP/wiki)\r\n  - [\u5e38\u89c1\u95ee\u9898](https://github.com/hankcs/HanLP/wiki/FAQ)\r\n* \u6211\u5df2\u7ecf\u901a\u8fc7[Google](https://www.google.com/#newwindow=1&q=HanLP)\u548c[issue\u533a\u68c0\u7d22\u529f\u80fd](https://github.com/hankcs/HanLP/issues)\u641c\u7d22\u4e86\u6211\u7684\u95ee\u9898\uff0c\u4e5f\u6ca1\u6709\u627e\u5230\u7b54\u6848\u3002\r\n* \u6211\u660e\u767d\u5f00\u6e90\u793e\u533a\u662f\u51fa\u4e8e\u5174\u8da3\u7231\u597d\u805a\u96c6\u8d77\u6765\u7684\u81ea\u7531\u793e\u533a\uff0c\u4e0d\u627f\u62c5\u4efb\u4f55\u8d23\u4efb\u6216\u4e49\u52a1\u3002\u6211\u4f1a\u793c\u8c8c\u53d1\u8a00\uff0c\u5411\u6bcf\u4e00\u4e2a\u5e2e\u52a9\u6211\u7684\u4eba\u8868\u793a\u611f\u8c22\u3002\r\n* [x] \u6211\u5728\u6b64\u62ec\u53f7\u5185\u8f93\u5165x\u6253\u94a9\uff0c\u4ee3\u8868\u4e0a\u8ff0\u4e8b\u9879\u786e\u8ba4\u5b8c\u6bd5\u3002\r\n\r\n## \u7248\u672c\u53f7\r\n<!-- \u53d1\u884c\u7248\u8bf7\u6ce8\u660ejar\u6587\u4ef6\u540d\u53bb\u6389\u62d3\u5c55\u540d\u7684\u90e8\u5206\uff1bGitHub\u4ed3\u5e93\u7248\u8bf7\u6ce8\u660emaster\u8fd8\u662fportable\u5206\u652f -->\r\n\r\n\u5f53\u524d\u6700\u65b0\u7248\u672c\u53f7\u662f\uff1aportable-1.6.6\r\n\u6211\u4f7f\u7528\u7684\u7248\u672c\u662f\uff1aportable-1.6.6\r\n\r\n<!--\u4ee5\u4e0a\u5c5e\u4e8e\u5fc5\u586b\u9879\uff0c\u4ee5\u4e0b\u53ef\u81ea\u7531\u53d1\u6325-->\r\n\r\n## \u6211\u7684\u95ee\u9898\r\n \u8bad\u7ec3\u7684word2vec \u6a21\u578b\uff0c\u653e\u5728hdfs\u4e0a\uff0c\u7528spark\u5206\u5e03\u5f0f\u7684\u52a0\u8f7d\u8c03\u7528\u5931\u8d25\u95ee\u9898\uff1f\r\n<!-- \u8bf7\u8be6\u7ec6\u63cf\u8ff0\u95ee\u9898\uff0c\u8d8a\u8be6\u7ec6\u8d8a\u53ef\u80fd\u5f97\u5230\u89e3\u51b3 -->\r\n\r\n\r\n\r\n### \u89e6\u53d1\u4ee3\u7801\r\n\r\n```\r\nrdd.mapPartitions(iteratos => myFunctions(iteratos, words))\r\ndef myFunctions(iterator: Iterator[String], word: String): Iterator[mutable.HashMap[Integer, Float]] = {\r\n    val wordVecModel = new WordVectorModel(\"data/model.txt\")\r\n    val docmentsModel = new DocVectorModel(wordVecModel)\r\n    val sets = mutable.Set[mutable.HashMap[Integer, Float]]()\r\n    for (iterm <- iterator) {\r\n      val arrays=iterm.split(\"\\t\")\r\n      val id=arrays(0).toInt\r\n      val contents =iterm\r\n      docmentsModel.addDocument(id, HanLP.convertToSimplifiedChinese(contents))\r\n      val list = docmentsModel.nearest(word)\r\n      import scala.collection.JavaConversions._\r\n      for (id <- list) {\r\n        val maps = mutable.HashMap[Integer, Float]()\r\n        maps.put(id.getKey, id.getValue)\r\n        sets.add(maps)\r\n      }\r\n    }\r\n    sets.iterator\r\n  }\r\n\r\n```\r\n\r\n### \u9519\u8bef\u8f93\u51fa\r\n\r\n<!-- HanLP\u5b9e\u9645\u8f93\u51fa\u4e86\u4ec0\u4e48\uff1f\u4ea7\u751f\u4e86\u4ec0\u4e48\u6548\u679c\uff1f\u9519\u5728\u54ea\u91cc\uff1f-->\r\n\r\n```\r\n \u7a7a\u6307\u9488\u5f02\u5e38\uff0c\u5728\u8bfb\u53d6\u6a21\u578b\u90a3\u884c\u4ee3\u7801\u4e0a\r\n```\r\n\r\n## \u5176\u4ed6\u4fe1\u606f\r\n\r\n<!-- \u4efb\u4f55\u53ef\u80fd\u6709\u7528\u7684\u4fe1\u606f\uff0c\u5305\u62ec\u622a\u56fe\u3001\u65e5\u5fd7\u3001\u914d\u7f6e\u6587\u4ef6\u3001\u76f8\u5173issue\u7b49\u7b49\u3002-->\r\n\u5355\u673a\u53ef\u4ee5\u52a0\u8f7d\uff0c\u653e\u5728\u96c6\u7fa4\u4e0a\u52a0\u8f7d\u5c31\u4e0d\u884c\r\n#\u9ed8\u8ba4\u7684IO\u9002\u914d\u5668\u5982\u4e0b\uff0c\u8be5\u9002\u914d\u5668\u662f\u57fa\u4e8e\u666e\u901a\u6587\u4ef6\u7cfb\u7edf\u7684\u3002\r\nIOAdapter=com.npl.spark.HadoopFileIoAdapter \u4e5f\u5df2\u7ecf\u91cd\u5199\u4e86\r\n", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/903/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/903/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/891", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/891/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/891/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/891/events", "html_url": "https://github.com/hankcs/HanLP/issues/891", "id": 342163229, "node_id": "MDU6SXNzdWUzNDIxNjMyMjk=", "number": 891, "title": "WordNet\u7c7b\u7684insert\u65b9\u6cd5\u62a5\u9519", "user": {"login": "sxjsxj1994", "id": 22607591, "node_id": "MDQ6VXNlcjIyNjA3NTkx", "avatar_url": "https://avatars.githubusercontent.com/u/22607591?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sxjsxj1994", "html_url": "https://github.com/sxjsxj1994", "followers_url": "https://api.github.com/users/sxjsxj1994/followers", "following_url": "https://api.github.com/users/sxjsxj1994/following{/other_user}", "gists_url": "https://api.github.com/users/sxjsxj1994/gists{/gist_id}", "starred_url": "https://api.github.com/users/sxjsxj1994/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sxjsxj1994/subscriptions", "organizations_url": "https://api.github.com/users/sxjsxj1994/orgs", "repos_url": "https://api.github.com/users/sxjsxj1994/repos", "events_url": "https://api.github.com/users/sxjsxj1994/events{/privacy}", "received_events_url": "https://api.github.com/users/sxjsxj1994/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-07-18T03:27:51Z", "updated_at": "2018-07-18T07:35:19Z", "closed_at": "2018-07-18T07:34:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n\u6ce8\u610f\u4e8b\u9879\u548c\u7248\u672c\u53f7\u5fc5\u586b\uff0c\u5426\u5219\u4e0d\u56de\u590d\u3002\u82e5\u5e0c\u671b\u5c3d\u5feb\u5f97\u5230\u56de\u590d\uff0c\u8bf7\u6309\u6a21\u677f\u8ba4\u771f\u586b\u5199\uff0c\u8c22\u8c22\u5408\u4f5c\u3002\r\n-->\r\n\r\n## \u6ce8\u610f\u4e8b\u9879\r\n\u8bf7\u786e\u8ba4\u4e0b\u5217\u6ce8\u610f\u4e8b\u9879\uff1a\r\n\r\n* \u6211\u5df2\u4ed4\u7ec6\u9605\u8bfb\u4e0b\u5217\u6587\u6863\uff0c\u90fd\u6ca1\u6709\u627e\u5230\u7b54\u6848\uff1a\r\n  - [\u9996\u9875\u6587\u6863](https://github.com/hankcs/HanLP)\r\n  - [wiki](https://github.com/hankcs/HanLP/wiki)\r\n  - [\u5e38\u89c1\u95ee\u9898](https://github.com/hankcs/HanLP/wiki/FAQ)\r\n* \u6211\u5df2\u7ecf\u901a\u8fc7[Google](https://www.google.com/#newwindow=1&q=HanLP)\u548c[issue\u533a\u68c0\u7d22\u529f\u80fd](https://github.com/hankcs/HanLP/issues)\u641c\u7d22\u4e86\u6211\u7684\u95ee\u9898\uff0c\u4e5f\u6ca1\u6709\u627e\u5230\u7b54\u6848\u3002\r\n* \u6211\u660e\u767d\u5f00\u6e90\u793e\u533a\u662f\u51fa\u4e8e\u5174\u8da3\u7231\u597d\u805a\u96c6\u8d77\u6765\u7684\u81ea\u7531\u793e\u533a\uff0c\u4e0d\u627f\u62c5\u4efb\u4f55\u8d23\u4efb\u6216\u4e49\u52a1\u3002\u6211\u4f1a\u793c\u8c8c\u53d1\u8a00\uff0c\u5411\u6bcf\u4e00\u4e2a\u5e2e\u52a9\u6211\u7684\u4eba\u8868\u793a\u611f\u8c22\u3002\r\n* [x] \u6211\u5728\u6b64\u62ec\u53f7\u5185\u8f93\u5165x\u6253\u94a9\uff0c\u4ee3\u8868\u4e0a\u8ff0\u4e8b\u9879\u786e\u8ba4\u5b8c\u6bd5\u3002\r\n\r\n## \u7248\u672c\u53f7\r\n<!-- \u53d1\u884c\u7248\u8bf7\u6ce8\u660ejar\u6587\u4ef6\u540d\u53bb\u6389\u62d3\u5c55\u540d\u7684\u90e8\u5206\uff1bGitHub\u4ed3\u5e93\u7248\u8bf7\u6ce8\u660emaster\u8fd8\u662fportable\u5206\u652f -->\r\n\r\n\u5f53\u524d\u6700\u65b0\u7248\u672c\u53f7\u662f\uff1a1.6.6\r\n\u6211\u4f7f\u7528\u7684\u7248\u672c\u662f\uff1a1.6.6\r\n\r\n<!--\u4ee5\u4e0a\u5c5e\u4e8e\u5fc5\u586b\u9879\uff0c\u4ee5\u4e0b\u53ef\u81ea\u7531\u53d1\u6325-->\r\n\r\n## \u6211\u7684\u95ee\u9898\r\n\r\n\u5728\u6267\u884cWordNet\u7c7b\u7684insert\u65b9\u6cd5\u62a5Exception in thread \"main\" java.util.ConcurrentModificationException\r\n\r\n## \u590d\u73b0\u95ee\u9898\r\n\u6267\u884cTest\u4e2d\u7684DemoSentimentAnalysis\u7684main\u65b9\u6cd5\u5373\u53ef\uff0c\u91cc\u9762\u4f1a\u8c03\u7528WordNet\u7684insert\u65b9\u6cd5\u7684\u3002\r\n\r\n## \u5176\u4ed6\r\n\u5176\u5b9e\u95ee\u9898\u5df2\u7ecf\u89e3\u51b3\u4e86\uff0c\u4f46\u662f\u4fee\u6539\u4e86\u6e90\u7801\u3002\u9519\u8bef\u539f\u56e0\u5927\u6982\u5c31\u662f\u4f60\u4e00\u8fb9\u8fed\u4ee3\u4e00\u8fb9\u5f80list\u4e2d\u6dfb\u52a0\u6570\u636e\r\n", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/891/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/891/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/870", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/870/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/870/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/870/events", "html_url": "https://github.com/hankcs/HanLP/issues/870", "id": 335635368, "node_id": "MDU6SXNzdWUzMzU2MzUzNjg=", "number": 870, "title": "DemoNShortSegment\u6570\u7ec4\u8d8a\u754c\u5f02\u5e38", "user": {"login": "godfatherzzx", "id": 15807974, "node_id": "MDQ6VXNlcjE1ODA3OTc0", "avatar_url": "https://avatars.githubusercontent.com/u/15807974?v=4", "gravatar_id": "", "url": "https://api.github.com/users/godfatherzzx", "html_url": "https://github.com/godfatherzzx", "followers_url": "https://api.github.com/users/godfatherzzx/followers", "following_url": "https://api.github.com/users/godfatherzzx/following{/other_user}", "gists_url": "https://api.github.com/users/godfatherzzx/gists{/gist_id}", "starred_url": "https://api.github.com/users/godfatherzzx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/godfatherzzx/subscriptions", "organizations_url": "https://api.github.com/users/godfatherzzx/orgs", "repos_url": "https://api.github.com/users/godfatherzzx/repos", "events_url": "https://api.github.com/users/godfatherzzx/events{/privacy}", "received_events_url": "https://api.github.com/users/godfatherzzx/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-06-26T02:32:07Z", "updated_at": "2018-06-26T03:04:51Z", "closed_at": "2018-06-26T03:04:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n\u6ce8\u610f\u4e8b\u9879\u548c\u7248\u672c\u53f7\u5fc5\u586b\uff0c\u5426\u5219\u4e0d\u56de\u590d\u3002\u82e5\u5e0c\u671b\u5c3d\u5feb\u5f97\u5230\u56de\u590d\uff0c\u8bf7\u6309\u6a21\u677f\u8ba4\u771f\u586b\u5199\uff0c\u8c22\u8c22\u5408\u4f5c\u3002\r\n-->\r\n\r\n## \u6ce8\u610f\u4e8b\u9879\r\n\u8bf7\u786e\u8ba4\u4e0b\u5217\u6ce8\u610f\u4e8b\u9879\uff1a\r\n\r\n* \u6211\u5df2\u4ed4\u7ec6\u9605\u8bfb\u4e0b\u5217\u6587\u6863\uff0c\u90fd\u6ca1\u6709\u627e\u5230\u7b54\u6848\uff1a\r\n  - [\u9996\u9875\u6587\u6863](https://github.com/hankcs/HanLP)\r\n  - [wiki](https://github.com/hankcs/HanLP/wiki)\r\n  - [\u5e38\u89c1\u95ee\u9898](https://github.com/hankcs/HanLP/wiki/FAQ)\r\n* \u6211\u5df2\u7ecf\u901a\u8fc7[Google](https://www.google.com/#newwindow=1&q=HanLP)\u548c[issue\u533a\u68c0\u7d22\u529f\u80fd](https://github.com/hankcs/HanLP/issues)\u641c\u7d22\u4e86\u6211\u7684\u95ee\u9898\uff0c\u4e5f\u6ca1\u6709\u627e\u5230\u7b54\u6848\u3002\r\n* \u6211\u660e\u767d\u5f00\u6e90\u793e\u533a\u662f\u51fa\u4e8e\u5174\u8da3\u7231\u597d\u805a\u96c6\u8d77\u6765\u7684\u81ea\u7531\u793e\u533a\uff0c\u4e0d\u627f\u62c5\u4efb\u4f55\u8d23\u4efb\u6216\u4e49\u52a1\u3002\u6211\u4f1a\u793c\u8c8c\u53d1\u8a00\uff0c\u5411\u6bcf\u4e00\u4e2a\u5e2e\u52a9\u6211\u7684\u4eba\u8868\u793a\u611f\u8c22\u3002\r\n* [x ] \u6211\u5728\u6b64\u62ec\u53f7\u5185\u8f93\u5165x\u6253\u94a9\uff0c\u4ee3\u8868\u4e0a\u8ff0\u4e8b\u9879\u786e\u8ba4\u5b8c\u6bd5\u3002\r\n\r\n## \u7248\u672c\u53f7\r\n<!-- \u53d1\u884c\u7248\u8bf7\u6ce8\u660ejar\u6587\u4ef6\u540d\u53bb\u6389\u62d3\u5c55\u540d\u7684\u90e8\u5206\uff1bGitHub\u4ed3\u5e93\u7248\u8bf7\u6ce8\u660emaster\u8fd8\u662fportable\u5206\u652f -->\r\n\r\n\u5f53\u524d\u6700\u65b0\u7248\u672c\u53f7\u662f\uff1aportable-1.6.5\r\n\u6211\u4f7f\u7528\u7684\u7248\u672c\u662f\uff1aportable-1.6.5\r\n\r\n<!--\u4ee5\u4e0a\u5c5e\u4e8e\u5fc5\u586b\u9879\uff0c\u4ee5\u4e0b\u53ef\u81ea\u7531\u53d1\u6325-->\r\n\r\n## \u6211\u7684\u95ee\u9898\r\n\r\n<!-- \u8bf7\u8be6\u7ec6\u63cf\u8ff0\u95ee\u9898\uff0c\u8d8a\u8be6\u7ec6\u8d8a\u53ef\u80fd\u5f97\u5230\u89e3\u51b3 -->\r\n\u76f4\u63a5checkout\u5de5\u7a0b\uff0c\u8fd0\u884ctest/java/com/hankcs/demo/DemoNShortSegment\u65f6\uff0c\u62a5ArrayIndexOutOfBoundsException\u3002\r\n\r\n## \u590d\u73b0\u95ee\u9898\r\n<!-- \u4f60\u662f\u5982\u4f55\u64cd\u4f5c\u5bfc\u81f4\u4ea7\u751f\u95ee\u9898\u7684\uff1f\u6bd4\u5982\u4fee\u6539\u4e86\u4ee3\u7801\uff1f\u4fee\u6539\u4e86\u8bcd\u5178\u6216\u6a21\u578b\uff1f-->\r\n\r\n### \u6b65\u9aa4\r\n\r\n1. \u9996\u5148\u2026\u2026\r\n2. \u7136\u540e\u2026\u2026\r\n3. \u63a5\u7740\u2026\u2026\r\n\r\n### \u89e6\u53d1\u4ee3\u7801\r\n\r\n```\r\n  public class DemoNShortSegment\r\n{\r\n    public static void main(String[] args)\r\n    {\r\n        Segment nShortSegment = new NShortSegment().enableCustomDictionary(false).enablePlaceRecognize(true).enableOrganizationRecognize(true);\r\n        Segment shortestSegment = new ViterbiSegment().enableCustomDictionary(false).enablePlaceRecognize(true).enableOrganizationRecognize(true);\r\n        String[] testCase = new String[]{\r\n                \"\u4eca\u5929\uff0c\u5218\u5fd7\u519b\u6848\u7684\u5173\u952e\u4eba\u7269,\u5c71\u897f\u5973\u5546\u4eba\u4e01\u4e66\u82d7\u5728\u5e02\u4e8c\u4e2d\u9662\u51fa\u5ead\u53d7\u5ba1\u3002\",\r\n                \"\u6c5f\u897f\u7701\u76d1\u72f1\u7ba1\u7406\u5c40\u4e0e\u4e2d\u56fd\u592a\u5e73\u6d0b\u8d22\u4ea7\u4fdd\u9669\u80a1\u4efd\u6709\u9650\u516c\u53f8\u5357\u660c\u4e2d\u5fc3\u652f\u516c\u53f8\u4fdd\u9669\u5408\u540c\u7ea0\u7eb7\u6848\",\r\n                \"\u65b0\u5317\u5546\u8d38\u6709\u9650\u516c\u53f8\",\r\n        };\r\n        for (String sentence : testCase)\r\n        {\r\n            System.out.println(\"N-\u6700\u77ed\u5206\u8bcd\uff1a\" + nShortSegment.seg(sentence) + \"\\n\u6700\u77ed\u8def\u5206\u8bcd\uff1a\" + shortestSegment.seg(sentence));\r\n        }\r\n    }\r\n}\r\n```\r\n### \u671f\u671b\u8f93\u51fa\r\n\r\n<!-- \u4f60\u5e0c\u671b\u8f93\u51fa\u4ec0\u4e48\u6837\u7684\u6b63\u786e\u7ed3\u679c\uff1f-->\r\n\r\n```\r\n\u671f\u671b\u8f93\u51fa\r\n```\r\n\r\n### \u5b9e\u9645\u8f93\u51fa\r\n\r\n<!-- HanLP\u5b9e\u9645\u8f93\u51fa\u4e86\u4ec0\u4e48\uff1f\u4ea7\u751f\u4e86\u4ec0\u4e48\u6548\u679c\uff1f\u9519\u5728\u54ea\u91cc\uff1f-->\r\n\r\n```\r\nException in thread \"main\" java.lang.ArrayIndexOutOfBoundsException: 40\r\n\tat com.hankcs.hanlp.seg.common.WordNet.get(WordNet.java:216)\r\n\tat com.hankcs.hanlp.seg.common.WordNet.insert(WordNet.java:168)\r\n\tat com.hankcs.hanlp.dictionary.nt.OrganizationDictionary$1.hit(OrganizationDictionary.java:3779)\r\n\tat com.hankcs.hanlp.dictionary.nt.OrganizationDictionary$1.hit(OrganizationDictionary.java:3756)\r\n\tat com.hankcs.hanlp.collection.AhoCorasick.AhoCorasickDoubleArrayTrie.parseText(AhoCorasickDoubleArrayTrie.java:115)\r\n\tat com.hankcs.hanlp.dictionary.nt.OrganizationDictionary.parsePattern(OrganizationDictionary.java:3755)\r\n\tat com.hankcs.hanlp.recognition.nt.OrganizationRecognition.recognition(OrganizationRecognition.java:71)\r\n\tat com.hankcs.hanlp.seg.NShort.NShortSegment.segSentence(NShortSegment.java:79)\r\n\tat com.hankcs.hanlp.seg.Segment.seg(Segment.java:557)\r\n\tat com.hankcs.demo.DemoNShortSegment.main(DemoNShortSegment.java:36)\r\n```\r\n\r\n## \u5176\u4ed6\u4fe1\u606f\r\n\r\n<!-- \u4efb\u4f55\u53ef\u80fd\u6709\u7528\u7684\u4fe1\u606f\uff0c\u5305\u62ec\u622a\u56fe\u3001\u65e5\u5fd7\u3001\u914d\u7f6e\u6587\u4ef6\u3001\u76f8\u5173issue\u7b49\u7b49\u3002-->\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/870/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/870/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/831", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/831/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/831/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/831/events", "html_url": "https://github.com/hankcs/HanLP/issues/831", "id": 323854416, "node_id": "MDU6SXNzdWUzMjM4NTQ0MTY=", "number": 831, "title": "\u89e6\u53d1\u5f02\u5e38  java.lang.AssertionError: \u6784\u9020\u7a7a\u767d\u8282\u70b9\u4f1a\u5bfc\u81f4\u6b7b\u5faa\u73af\uff01", "user": {"login": "hhxx2015", "id": 14951671, "node_id": "MDQ6VXNlcjE0OTUxNjcx", "avatar_url": "https://avatars.githubusercontent.com/u/14951671?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hhxx2015", "html_url": "https://github.com/hhxx2015", "followers_url": "https://api.github.com/users/hhxx2015/followers", "following_url": "https://api.github.com/users/hhxx2015/following{/other_user}", "gists_url": "https://api.github.com/users/hhxx2015/gists{/gist_id}", "starred_url": "https://api.github.com/users/hhxx2015/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hhxx2015/subscriptions", "organizations_url": "https://api.github.com/users/hhxx2015/orgs", "repos_url": "https://api.github.com/users/hhxx2015/repos", "events_url": "https://api.github.com/users/hhxx2015/events{/privacy}", "received_events_url": "https://api.github.com/users/hhxx2015/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2018-05-17T02:53:34Z", "updated_at": "2018-06-26T05:42:12Z", "closed_at": "2018-05-20T10:18:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n\u6ce8\u610f\u4e8b\u9879\u548c\u7248\u672c\u53f7\u5fc5\u586b\uff0c\u5426\u5219\u4e0d\u56de\u590d\u3002\u82e5\u5e0c\u671b\u5c3d\u5feb\u5f97\u5230\u56de\u590d\uff0c\u8bf7\u6309\u6a21\u677f\u8ba4\u771f\u586b\u5199\uff0c\u8c22\u8c22\u5408\u4f5c\u3002\r\n-->\r\n\r\n## \u6ce8\u610f\u4e8b\u9879\r\n\u8bf7\u786e\u8ba4\u4e0b\u5217\u6ce8\u610f\u4e8b\u9879\uff1a\r\n\r\n* \u6211\u5df2\u4ed4\u7ec6\u9605\u8bfb\u4e0b\u5217\u6587\u6863\uff0c\u90fd\u6ca1\u6709\u627e\u5230\u7b54\u6848\uff1a\r\n  - [\u9996\u9875\u6587\u6863](https://github.com/hankcs/HanLP)\r\n  - [wiki](https://github.com/hankcs/HanLP/wiki)\r\n  - [\u5e38\u89c1\u95ee\u9898](https://github.com/hankcs/HanLP/wiki/FAQ)\r\n* \u6211\u5df2\u7ecf\u901a\u8fc7[Google](https://www.google.com/#newwindow=1&q=HanLP)\u548c[issue\u533a\u68c0\u7d22\u529f\u80fd](https://github.com/hankcs/HanLP/issues)\u641c\u7d22\u4e86\u6211\u7684\u95ee\u9898\uff0c\u4e5f\u6ca1\u6709\u627e\u5230\u7b54\u6848\u3002\r\n* \u6211\u660e\u767d\u5f00\u6e90\u793e\u533a\u662f\u51fa\u4e8e\u5174\u8da3\u7231\u597d\u805a\u96c6\u8d77\u6765\u7684\u81ea\u7531\u793e\u533a\uff0c\u4e0d\u627f\u62c5\u4efb\u4f55\u8d23\u4efb\u6216\u4e49\u52a1\u3002\u6211\u4f1a\u793c\u8c8c\u53d1\u8a00\uff0c\u5411\u6bcf\u4e00\u4e2a\u5e2e\u52a9\u6211\u7684\u4eba\u8868\u793a\u611f\u8c22\u3002\r\n* [x] \u6211\u5728\u6b64\u62ec\u53f7\u5185\u8f93\u5165x\u6253\u94a9\uff0c\u4ee3\u8868\u4e0a\u8ff0\u4e8b\u9879\u786e\u8ba4\u5b8c\u6bd5\u3002\r\n\r\n## \u7248\u672c\u53f7\r\n<!-- \u53d1\u884c\u7248\u8bf7\u6ce8\u660ejar\u6587\u4ef6\u540d\u53bb\u6389\u62d3\u5c55\u540d\u7684\u90e8\u5206\uff1bGitHub\u4ed3\u5e93\u7248\u8bf7\u6ce8\u660emaster\u8fd8\u662fportable\u5206\u652f -->\r\n\r\n\u5f53\u524d\u6700\u65b0\u7248\u672c\u53f7\u662f\uff1a1.6.3\r\n\u6211\u4f7f\u7528\u7684\u7248\u672c\u662f\uff1a1.6.3\r\n\r\n<!--\u4ee5\u4e0a\u5c5e\u4e8e\u5fc5\u586b\u9879\uff0c\u4ee5\u4e0b\u53ef\u81ea\u7531\u53d1\u6325-->\r\n\r\n\u5207\u5206\u4ee5\u4e0b\u53e5\u5b50\u62a5\u9519\r\n```\r\n\u6700\u5927\u5510\u611f\u5973\u58f0\u53cc\u7b19\u672c\u4eba\u771f\u6b63\u7684\u7167\u7247 \u53cc\u7b19\u5b50\u662f\u8c01\u53cc\u7b19\u7684\u771f\u540d\u53eb\u4ec0\u4e48\r\n```\r\n\r\n\r\n### \u89e6\u53d1\u4ee3\u7801\r\n\r\n```\r\n   @Test\r\n    public void errTest(){\r\n        String eStr = \"\u6700\u5927\u5510\u611f\u5973\u58f0\u53cc\u7b19\u672c\u4eba\u771f\u6b63\u7684\u7167\u7247 \u53cc\u7b19\u5b50\u662f\u8c01\u53cc\u7b19\u7684\u771f\u540d\u53eb\u4ec0\u4e48\";\r\n        Segment seg = HanLP.newSegment().enableMultithreading(8);\r\n        System.out.println(seg.seg(eStr));\r\n    }\r\n```\r\n\r\n\r\n### \u5b9e\u9645\u8f93\u51fa\r\n\r\n<!-- HanLP\u5b9e\u9645\u8f93\u51fa\u4e86\u4ec0\u4e48\uff1f\u4ea7\u751f\u4e86\u4ec0\u4e48\u6548\u679c\uff1f\u9519\u5728\u54ea\u91cc\uff1f-->\r\n\r\n```\r\njava.lang.AssertionError: \u6784\u9020\u7a7a\u767d\u8282\u70b9\u4f1a\u5bfc\u81f4\u6b7b\u5faa\u73af\uff01\r\n\r\n\tat com.hankcs.hanlp.seg.common.Vertex.<init>(Vertex.java:91)\r\n\tat com.hankcs.hanlp.seg.common.Vertex.<init>(Vertex.java:82)\r\n\tat com.hankcs.hanlp.seg.common.Vertex.<init>(Vertex.java:214)\r\n\tat com.hankcs.hanlp.dictionary.nr.PersonDictionary.parsePattern(PersonDictionary.java:109)\r\n\tat com.hankcs.hanlp.recognition.nr.PersonRecognition.Recognition(PersonRecognition.java:67)\r\n\tat com.hankcs.hanlp.seg.Viterbi.ViterbiSegment.segSentence(ViterbiSegment.java:78)\r\n\tat com.hankcs.hanlp.seg.Segment.seg(Segment.java:557)\r\n\tat hanlp.CutWord.errTest(CutWord.java:59)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\r\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n\tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\r\n\tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n\tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\r\n\tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\r\n\tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n\tat org.junit.runner.JUnitCore.run(JUnitCore.java:137)\r\n\tat com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)\r\n\tat com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)\r\n\tat com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)\r\n\tat com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)\r\n```\r\n\r\n## \u5176\u4ed6\u4fe1\u606f\r\n\r\n<!-- \u4efb\u4f55\u53ef\u80fd\u6709\u7528\u7684\u4fe1\u606f\uff0c\u5305\u62ec\u622a\u56fe\u3001\u65e5\u5fd7\u3001\u914d\u7f6e\u6587\u4ef6\u3001\u76f8\u5173issue\u7b49\u7b49\u3002-->\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/831/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/831/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/821", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/821/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/821/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/821/events", "html_url": "https://github.com/hankcs/HanLP/issues/821", "id": 322216222, "node_id": "MDU6SXNzdWUzMjIyMTYyMjI=", "number": 821, "title": "\u91c7\u7528word2vec\u7684api\u63a5\u53e3\u8bad\u7ec3\u65b0\u6a21\u578b\u5b8c\u6210\u65f6\u62a5java.lang.ArrayIndexOutOfBoundsException: 200\u9519\u8bef", "user": {"login": "muzier", "id": 11387287, "node_id": "MDQ6VXNlcjExMzg3Mjg3", "avatar_url": "https://avatars.githubusercontent.com/u/11387287?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muzier", "html_url": "https://github.com/muzier", "followers_url": "https://api.github.com/users/muzier/followers", "following_url": "https://api.github.com/users/muzier/following{/other_user}", "gists_url": "https://api.github.com/users/muzier/gists{/gist_id}", "starred_url": "https://api.github.com/users/muzier/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muzier/subscriptions", "organizations_url": "https://api.github.com/users/muzier/orgs", "repos_url": "https://api.github.com/users/muzier/repos", "events_url": "https://api.github.com/users/muzier/events{/privacy}", "received_events_url": "https://api.github.com/users/muzier/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-05-11T08:43:36Z", "updated_at": "2018-05-12T08:33:04Z", "closed_at": "2018-05-12T03:38:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n\u6ce8\u610f\u4e8b\u9879\u548c\u7248\u672c\u53f7\u5fc5\u586b\uff0c\u5426\u5219\u4e0d\u56de\u590d\u3002\u82e5\u5e0c\u671b\u5c3d\u5feb\u5f97\u5230\u56de\u590d\uff0c\u8bf7\u6309\u6a21\u677f\u8ba4\u771f\u586b\u5199\uff0c\u8c22\u8c22\u5408\u4f5c\u3002\r\n-->\r\n\r\n## \u6ce8\u610f\u4e8b\u9879\r\n\u8bf7\u786e\u8ba4\u4e0b\u5217\u6ce8\u610f\u4e8b\u9879\uff1a\r\n\r\n* \u6211\u5df2\u4ed4\u7ec6\u9605\u8bfb\u4e0b\u5217\u6587\u6863\uff0c\u90fd\u6ca1\u6709\u627e\u5230\u7b54\u6848\uff1a\r\n  - [\u9996\u9875\u6587\u6863](https://github.com/hankcs/HanLP)\r\n  - [wiki](https://github.com/hankcs/HanLP/wiki)\r\n  - [\u5e38\u89c1\u95ee\u9898](https://github.com/hankcs/HanLP/wiki/FAQ)\r\n* \u6211\u5df2\u7ecf\u901a\u8fc7[Google](https://www.google.com/#newwindow=1&q=HanLP)\u548c[issue\u533a\u68c0\u7d22\u529f\u80fd](https://github.com/hankcs/HanLP/issues)\u641c\u7d22\u4e86\u6211\u7684\u95ee\u9898\uff0c\u4e5f\u6ca1\u6709\u627e\u5230\u7b54\u6848\u3002\r\n* \u6211\u660e\u767d\u5f00\u6e90\u793e\u533a\u662f\u51fa\u4e8e\u5174\u8da3\u7231\u597d\u805a\u96c6\u8d77\u6765\u7684\u81ea\u7531\u793e\u533a\uff0c\u4e0d\u627f\u62c5\u4efb\u4f55\u8d23\u4efb\u6216\u4e49\u52a1\u3002\u6211\u4f1a\u793c\u8c8c\u53d1\u8a00\uff0c\u5411\u6bcf\u4e00\u4e2a\u5e2e\u52a9\u6211\u7684\u4eba\u8868\u793a\u611f\u8c22\u3002\r\n* [x ] \u6211\u5728\u6b64\u62ec\u53f7\u5185\u8f93\u5165x\u6253\u94a9\uff0c\u4ee3\u8868\u4e0a\u8ff0\u4e8b\u9879\u786e\u8ba4\u5b8c\u6bd5\u3002\r\n\r\n## \u7248\u672c\u53f7\r\n<!-- \u53d1\u884c\u7248\u8bf7\u6ce8\u660ejar\u6587\u4ef6\u540d\u53bb\u6389\u62d3\u5c55\u540d\u7684\u90e8\u5206\uff1bGitHub\u4ed3\u5e93\u7248\u8bf7\u6ce8\u660emaster\u8fd8\u662fportable\u5206\u652f -->\r\n\r\n\u5f53\u524d\u6700\u65b0\u7248\u672c\u53f7\u662f\uff1a1.6.3\r\n\u6211\u4f7f\u7528\u7684\u7248\u672c\u662f\uff1a1.6.3\r\n\r\n<!--\u4ee5\u4e0a\u5c5e\u4e8e\u5fc5\u586b\u9879\uff0c\u4ee5\u4e0b\u53ef\u81ea\u7531\u53d1\u6325-->\r\n\r\n## \u91c7\u7528Word2VecTrainer\u8bad\u7ec3\u81ea\u5df1\u7684\u6a21\u578b\u65f6\uff0c\u867d\u7136\u80fd\u591f\u5b8c\u6210\u8bad\u7ec3\uff0c\u4f46\u6700\u540e\u4f1a\u6570\u7ec4\u8d8a\u754c\u9519\u8bef\uff0c\u6211\u4e5f\u7ffb\u9605\u4e86issues\u533a\u7684\u76f8\u5173\u6570\u7ec4\u8d8a\u754c\u7684\u8bdd\u9898\uff0c\u4f46\u8fd8\u662f\u6ca1\u6709\u627e\u5230\u89e3\u51b3\u529e\u6cd5\uff1b\u5728\u5f15\u7528\u65b0\u6a21\u578b\u8fdb\u884c\u6587\u672c\u5206\u7c7b\u65f6\u4e5f\u4f1a\u62a5\u6570\u7ec4\u8d8a\u754c\u7684\u9519\u8bef\uff0c\u6c42\u6307\u5bfc~\r\n\r\n<!-- \u8bf7\u8be6\u7ec6\u63cf\u8ff0\u95ee\u9898\uff0c\u8d8a\u8be6\u7ec6\u8d8a\u53ef\u80fd\u5f97\u5230\u89e3\u51b3 -->\r\n\r\n## \u590d\u73b0\u95ee\u9898\r\n<!-- \u4f60\u662f\u5982\u4f55\u64cd\u4f5c\u5bfc\u81f4\u4ea7\u751f\u95ee\u9898\u7684\uff1f\u6bd4\u5982\u4fee\u6539\u4e86\u4ee3\u7801\uff1f\u4fee\u6539\u4e86\u8bcd\u5178\u6216\u6a21\u578b\uff1f-->\r\n\r\n### \u6b65\u9aa4\r\n\r\n1. \u6211\u53c2\u8003wiki\u4e0a\u5199\u4e86\u4e00\u4e2aWord2VecTrain\u7684\u7c7b\uff1b\r\n2. \u91cc\u9762\u6ce8\u518c\u4e86\u4e00\u4e2a\u56de\u8c03\u51fd\u6570callbackLP\uff0c\u7136\u540e\u6784\u5efa\u4e86\u4e00\u4e2a\u8bad\u7ec3trainerBuilder\uff0c\u53ea\u8bbe\u7f6e\u4e86\u4e0a\u9762\u7684\u56de\u8c03\u51fd\u6570\u548c\u5e76\u884c\u7ebf\u7a0b\u6570\u4e3a4\uff08\u5728\u5355\u673a\u4e0a\u6d4b\u8bd5\uff0c\u5e0c\u671b\u80fd\u591f\u52a0\u5feb\u8bad\u7ec3\uff09\r\n3. \u5177\u4f53\u4ee3\u7801\u5982\u4e0b\uff1a\r\n\r\n### \u89e6\u53d1\u4ee3\u7801\r\n\r\n```\r\npublic class Word2VecTrain {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        TrainingCallback callbackLP = null;\r\n        final long timeStart = System.currentTimeMillis();\r\n        if (callbackLP == null){\r\n            callbackLP = new TrainingCallback() {\r\n                public void corpusLoading(float percent) {\r\n                    System.out.printf(\"\\r\u52a0\u8f7d\u8bad\u7ec3\u8bed\u6599\uff1a%.2f%%\", percent);\r\n                }\r\n\r\n                public void corpusLoaded(int vocWords, int trainWords, int totalWords) {\r\n                    System.out.println();\r\n                    System.out.printf(\"\u8bcd\u8868\u5927\u5c0f\uff1a%d\\n\", vocWords);\r\n                    System.out.printf(\"\u8bad\u7ec3\u8bcd\u6570\uff1a%d\\n\", trainWords);\r\n                    System.out.printf(\"\u8bed\u6599\u8bcd\u6570\uff1a%d\\n\", totalWords);\r\n                }\r\n\r\n                public void training(float alpha, float progress) {\r\n                    System.out.printf(\"\\r\u5b66\u4e60\u7387\uff1a%.6f  \u8fdb\u5ea6\uff1a%.2f%%\", alpha, progress);\r\n                    long timeNow = System.currentTimeMillis();\r\n                    long costTime = timeNow - timeStart + 1;\r\n                    progress /= 100;\r\n                    String etd = Utility.humanTime((long) (costTime / progress * (1.f - progress)));\r\n                    if (etd.length() > 0) System.out.printf(\"  \u5269\u4f59\u65f6\u95f4\uff1a%s\", etd);\r\n                    System.out.flush();\r\n                }\r\n            };\r\n        }\r\n\r\n//      \u6784\u5efa\u8bad\u7ec3\u65b9\u6cd5\r\n        Word2VecTrainer trainerBuilder = new Word2VecTrainer();\r\n\r\n        trainerBuilder.setCallback(callbackLP);\r\n        trainerBuilder.useNumThreads(4);\r\n\r\n        WordVectorModel wordVectorModel = trainerBuilder.train\r\n                (\"D://DESKTOP//20180427//data-for-1.6.2//data//test//koubei_classify_seg.txt\",\r\n                \"D://DESKTOP//20180427//data-for-1.6.2//data//test//msr_koubei_vectors_default.txt\");\r\n    }\r\n}\r\n\r\n```\r\n### \u671f\u671b\u8f93\u51fa\r\n\r\n<!-- \u4f60\u5e0c\u671b\u8f93\u51fa\u4ec0\u4e48\u6837\u7684\u6b63\u786e\u7ed3\u679c\uff1f-->\r\n\r\n```\r\n\u52a0\u8f7d\u8bad\u7ec3\u8bed\u6599\uff1a100.00%\r\n\u8bcd\u8868\u5927\u5c0f\uff1a24845\r\n\u8bad\u7ec3\u8bcd\u6570\uff1a2269300\r\n\u8bed\u6599\u8bcd\u6570\uff1a2368390\r\n\u5b66\u4e60\u7387\uff1a0.000163  \u8fdb\u5ea6\uff1a99.67%  \u5269\u4f59\u65f6\u95f4\uff1a01 s\r\n\u8bad\u7ec3\u7ed3\u675f\uff0c\u4e00\u5171\u8017\u65f6\uff1a1 m 54 s \r\n\u6b63\u5728\u4fdd\u5b58\u6a21\u578b\u5230\u78c1\u76d8\u4e2d\u2026\u2026\r\n\u6a21\u578b\u5df2\u4fdd\u5b58\u5230\uff1amsr_koubei_vectors_default.txt\r\n```\r\n\r\n### \u5b9e\u9645\u8f93\u51fa\r\n\r\n<!-- HanLP\u5b9e\u9645\u8f93\u51fa\u4e86\u4ec0\u4e48\uff1f\u4ea7\u751f\u4e86\u4ec0\u4e48\u6548\u679c\uff1f\u9519\u5728\u54ea\u91cc\uff1f-->\r\n\r\n```\r\n\u52a0\u8f7d\u8bad\u7ec3\u8bed\u6599\uff1a100.00%\r\n\u8bcd\u8868\u5927\u5c0f\uff1a176977\r\n\u8bad\u7ec3\u8bcd\u6570\uff1a32511717\r\n\u8bed\u6599\u8bcd\u6570\uff1a32511717\r\n\r\n\u5b66\u4e60\u7387\uff1a0.000005  \u8fdb\u5ea6\uff1a100.00%\r\n\r\n\u8bad\u7ec3\u7ed3\u675f\uff0c\u4e00\u5171\u8017\u65f6\uff1a1 h 48 m 15 s \r\nException in thread \"main\" java.lang.ArrayIndexOutOfBoundsException: 200\r\n\tat com.hankcs.hanlp.mining.word2vec.VectorsReader.readVectorFile(VectorsReader.java:50)\r\n\tat com.hankcs.hanlp.mining.word2vec.WordVectorModel.loadVectorMap(WordVectorModel.java:38)\r\n\tat com.hankcs.hanlp.mining.word2vec.WordVectorModel.<init>(WordVectorModel.java:32)\r\n\tat com.hankcs.hanlp.mining.word2vec.Word2VecTrainer.train(Word2VecTrainer.java:221)\r\n\tat com.autohome.Word2VecTrain.main(Word2VecTrain.java:53)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat com.intellij.rt.execution.application.AppMain.main(AppMain.java:144)\r\n\r\n\u5b9e\u9645\u8f93\u51fa\u5165\u4e0b\u56fe\r\n```\r\nhttp://attachbak.dataguru.cn/attachments/album/201805/11/163829w8bczfibvazzcbfu.png\r\n\r\n\r\n## \u5176\u4ed6\u4fe1\u606f\r\n\r\n<!-- \u4efb\u4f55\u53ef\u80fd\u6709\u7528\u7684\u4fe1\u606f\uff0c\u5305\u62ec\u622a\u56fe\u3001\u65e5\u5fd7\u3001\u914d\u7f6e\u6587\u4ef6\u3001\u76f8\u5173issue\u7b49\u7b49\u3002-->\r\na) \u4e2a\u4eba\u63a8\u6d4b\uff1a\u662f\u4e0d\u662f\u548c\u7f13\u5b58\u6709\u5173\uff1f\u56e0\u4e3a\u6211\u7b2c\u4e00\u6b21\u8fd0\u884c\u8bad\u7ec3\u7a0b\u5e8f\u65f6\uff0c\u8bbe\u7f6e\u4e86\u7ef4\u5ea6\u662f200\uff0c\u4f46\u4e5f\u62a5\u9519\uff0c\u540e\u6765\u6539\u4e3a\u9ed8\u8ba4\u8bbe\u7f6e\uff08\u9ed8\u8ba4\u7ef4\u5ea6\u5e94\u8be5\u662f100\uff09\uff0c\u4e5f\u662f\u62a5\u6570\u7ec4\u8d8a\u754c200\u7684\u5f02\u5e38\uff0c\u4e0d\u77e5\u9053\u662f\u5426\u548c\u8ba1\u7b97\u7f13\u5b58\u6709\u5173\uff1f\r\nb) \u53e6\u5916\uff0c\u5728\u8c03\u7528\u8fd9\u4e2a\u65b0\u6a21\u578b\u65f6\u4e5f\u4f1a\u62a5\u6570\u636e\u8d8a\u754c\u7684\u5f02\u5e38\uff0c\u6ca1\u6709\u53e6\u5f00issue\uff0c\u6211\u60f3\u662f\u6a21\u578b\u672c\u8eab\u6ca1\u6709\u8bad\u7ec3\u6210\u529f\u7684\u7f18\u6545\uff0c\u53ea\u662f\u770b\u672c\u5730\u6587\u4ef6\u8c8c\u4f3c\u4e5f\u6b63\u5e38\uff0c\u6240\u4ee5\u5c1d\u8bd5\u7740\u8c03\u7528\u4e86\u4e00\u4e0b\u65b0\u6a21\u578b\uff0c\u4f46\u540c\u6837\u62a5\u6570\u636e\u8d8a\u754c\u5f02\u5e38\u3002\r\nc) \u8fd8\u6709\u4e00\u4e2a\u95ee\u9898\uff0c\u5c31\u662fwiki\u91cc\u5199\u7684\u8bad\u7ec3\u6a21\u578b\u4fdd\u5b58\u6587\u4ef6\u683c\u5f0f\u662f .bin\uff0c\u4f46\u662f DemoWord2Vec\u91cc\u52a0\u8f7d\u6a21\u578b\u662f\u7528\u7684\u6587\u4ef6\u683c\u5f0f\u662f .txt\uff0c\u6240\u4ee5\u4e0d\u77e5\u9053\u8fd9\u4e24\u4e2a\u4e4b\u95f4\u6709\u6ca1\u6709\u5176\u4ed6\u65b9\u6cd5\u53ef\u4ee5\u8f6c\u6362\u6216\u8005\u751f\u6210\u5462\uff1f", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/821/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/821/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/790", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/790/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/790/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/790/events", "html_url": "https://github.com/hankcs/HanLP/issues/790", "id": 313942438, "node_id": "MDU6SXNzdWUzMTM5NDI0Mzg=", "number": 790, "title": "\u9ed8\u8ba4\u5206\u8bcd\u5668\u5f00\u5173\u8bbe\u7f6e\u5f02\u5e38", "user": {"login": "godfatherzzx", "id": 15807974, "node_id": "MDQ6VXNlcjE1ODA3OTc0", "avatar_url": "https://avatars.githubusercontent.com/u/15807974?v=4", "gravatar_id": "", "url": "https://api.github.com/users/godfatherzzx", "html_url": "https://github.com/godfatherzzx", "followers_url": "https://api.github.com/users/godfatherzzx/followers", "following_url": "https://api.github.com/users/godfatherzzx/following{/other_user}", "gists_url": "https://api.github.com/users/godfatherzzx/gists{/gist_id}", "starred_url": "https://api.github.com/users/godfatherzzx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/godfatherzzx/subscriptions", "organizations_url": "https://api.github.com/users/godfatherzzx/orgs", "repos_url": "https://api.github.com/users/godfatherzzx/repos", "events_url": "https://api.github.com/users/godfatherzzx/events{/privacy}", "received_events_url": "https://api.github.com/users/godfatherzzx/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-04-13T01:48:10Z", "updated_at": "2018-04-13T02:42:07Z", "closed_at": "2018-04-13T02:41:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n\u6ce8\u610f\u4e8b\u9879\u548c\u7248\u672c\u53f7\u5fc5\u586b\uff0c\u5426\u5219\u4e0d\u56de\u590d\u3002\u82e5\u5e0c\u671b\u5c3d\u5feb\u5f97\u5230\u56de\u590d\uff0c\u8bf7\u6309\u6a21\u677f\u8ba4\u771f\u586b\u5199\uff0c\u8c22\u8c22\u5408\u4f5c\u3002\r\n-->\r\n\r\n## \u6ce8\u610f\u4e8b\u9879\r\n\u8bf7\u786e\u8ba4\u4e0b\u5217\u6ce8\u610f\u4e8b\u9879\uff1a\r\n\r\n* \u6211\u5df2\u4ed4\u7ec6\u9605\u8bfb\u4e0b\u5217\u6587\u6863\uff0c\u90fd\u6ca1\u6709\u627e\u5230\u7b54\u6848\uff1a\r\n  - [\u9996\u9875\u6587\u6863](https://github.com/hankcs/HanLP)\r\n  - [wiki](https://github.com/hankcs/HanLP/wiki)\r\n  - [\u5e38\u89c1\u95ee\u9898](https://github.com/hankcs/HanLP/wiki/FAQ)\r\n* \u6211\u5df2\u7ecf\u901a\u8fc7[Google](https://www.google.com/#newwindow=1&q=HanLP)\u548c[issue\u533a\u68c0\u7d22\u529f\u80fd](https://github.com/hankcs/HanLP/issues)\u641c\u7d22\u4e86\u6211\u7684\u95ee\u9898\uff0c\u4e5f\u6ca1\u6709\u627e\u5230\u7b54\u6848\u3002\r\n* \u6211\u660e\u767d\u5f00\u6e90\u793e\u533a\u662f\u51fa\u4e8e\u5174\u8da3\u7231\u597d\u805a\u96c6\u8d77\u6765\u7684\u81ea\u7531\u793e\u533a\uff0c\u4e0d\u627f\u62c5\u4efb\u4f55\u8d23\u4efb\u6216\u4e49\u52a1\u3002\u6211\u4f1a\u793c\u8c8c\u53d1\u8a00\uff0c\u5411\u6bcf\u4e00\u4e2a\u5e2e\u52a9\u6211\u7684\u4eba\u8868\u793a\u611f\u8c22\u3002\r\n* [x ] \u6211\u5728\u6b64\u62ec\u53f7\u5185\u8f93\u5165x\u6253\u94a9\uff0c\u4ee3\u8868\u4e0a\u8ff0\u4e8b\u9879\u786e\u8ba4\u5b8c\u6bd5\u3002\r\n\r\n## \u7248\u672c\u53f7\r\n<!-- \u53d1\u884c\u7248\u8bf7\u6ce8\u660ejar\u6587\u4ef6\u540d\u53bb\u6389\u62d3\u5c55\u540d\u7684\u90e8\u5206\uff1bGitHub\u4ed3\u5e93\u7248\u8bf7\u6ce8\u660emaster\u8fd8\u662fportable\u5206\u652f -->\r\n\r\n\u5f53\u524d\u6700\u65b0\u7248\u672c\u53f7\u662f\uff1aportable-1.6.2\r\n\u6211\u4f7f\u7528\u7684\u7248\u672c\u662f\uff1aportable-1.6.2\r\n\r\n<!--\u4ee5\u4e0a\u5c5e\u4e8e\u5fc5\u586b\u9879\uff0c\u4ee5\u4e0b\u53ef\u81ea\u7531\u53d1\u6325-->\r\n\r\n## \u6211\u7684\u95ee\u9898\r\n\r\n<!-- \u8bf7\u8be6\u7ec6\u63cf\u8ff0\u95ee\u9898\uff0c\u8d8a\u8be6\u7ec6\u8d8a\u53ef\u80fd\u5f97\u5230\u89e3\u51b3 -->\r\n\u5728\u5229\u7528HanLP\u9ed8\u8ba4\u7684\u7ef4\u7279\u6bd4\u5206\u8bcd\u5668\u5206\u8bcd\u65f6\uff0c\u7cfb\u7edf\u629b\u51fajava.util.NoSuchElementException\u3002\r\n\r\n## \u590d\u73b0\u95ee\u9898\r\n<!-- \u4f60\u662f\u5982\u4f55\u64cd\u4f5c\u5bfc\u81f4\u4ea7\u751f\u95ee\u9898\u7684\uff1f\u6bd4\u5982\u4fee\u6539\u4e86\u4ee3\u7801\uff1f\u4fee\u6539\u4e86\u8bcd\u5178\u6216\u6a21\u578b\uff1f-->\r\n\r\n\r\n### \u6b65\u9aa4\r\n\r\n1. \u4e0b\u9762\u7684\u4ee3\u7801\uff0cenableNumberQuantifierRecognize\u6253\u5f00\u65f6\u4f1a\u629b\u51fa\u4e0a\u8ff0\u5f02\u5e38\u3002\r\n2. \u628a\u5176\u4ed6\u5f00\u5173\u90fd\u53bb\u6389\uff0c\u53ea\u6253\u5f00enableNumberQuantifierRecognize\u65f6\uff0c\u7a0b\u5e8f\u6b63\u5e38\u8fd0\u884c\u3002\r\n\r\n\r\n### \u89e6\u53d1\u4ee3\u7801\r\n\r\n```\r\n public static void main(String[] args) {\r\n        Segment seg = HanLP.newSegment();\r\n        seg.enablePartOfSpeechTagging(true);\r\n        seg.enableMultithreading(8);\r\n        seg.enableAllNamedEntityRecognize(true);\r\n        seg.enableNameRecognize(true);\r\n        seg.enableOrganizationRecognize(true);\r\n        seg.enablePlaceRecognize(true);\r\n        seg.enableNumberQuantifierRecognize(true);\r\n\r\n        String raw=\"\u4f59\u59da\u65e5\u62a5\u7535\u5b50\u7248\u4f59\u59da\u536b\u751f\u8ba1\u751f\u4e8b\u4e1a\u5355\u4f4d\u516c\u5f00\u62db\u8058121\u540d\u536b\u6280\u4eba\u54582018\u5e74\u4f59\u59da\u5e02\u536b\u751f\u8ba1\u751f\u4e8b\u4e1a\u5355\u4f4d\u516c\u5f00\u62db\u8058\u536b\u751f\u6280\u672f\u4eba\u5458\u7b80\u7ae0\u6839\u636e\u6709\u5173\u89c4\u5b9a\u548c\u536b\u751f\u8ba1\u751f\u4e8b\u4e1a\u53d1\u5c55\u9700\u8981\uff0c\u7ecf\u7814\u7a76\u51b3\u5b9a\uff0c\u6211\u5e02\u536b\u751f\u8ba1\u751f\u4e8b\u4e1a\u5355\u4f4d\u516c\u5f00\u62db\u8058\u536b\u6280\u4eba\u5458121\u540d\u3002\u73b0\u5c06\u6709\u5173\u4e8b\u9879\u516c\u544a\u5982\u4e0b\uff1a\u4e00\u3001\u62db\u8058\u804c\u4f4d\u53ca\u6307\u6807\u62db\u8058\u5355\u4f4d\u53ca\u62db\u8058\u6307\u6807 \u804c\u4f4d\u7f16\u7801 \u5355\u4f4d \u804c\u4f4d \u5b66\u5386 \u6570\u91cf \u804c\u4f4d\u8981\u6c42\u53ca\u5176\u4ed6 1 \u5e02\u4eba\u6c11\u533b\u9662 \u4e34\u5e8a \u7814\u7a76\u751f 1 \u80be\u5185\u79d1\u65b9\u5411 2 \u5e02\u4e2d\u533b\u533b\u9662 \u4e34\u5e8a \u7814\u7a76\u751f 1 \u5fc3\u8840\u7ba1\u5185\u79d1\u65b9\u5411 3 \u5e02\u4e2d\u533b\u533b\u9662 \u4e34\u5e8a \u7814\u7a76\u751f 1 \u5185\u5206\u6ccc\u79d1\u65b9\u5411 4 \u5e02\u4e8c\u9662 \u4e34\u5e8a \u7814\u7a76\u751f 1 \u513f\u79d1\u5b66\u4e13\u4e1a 5 \u5e02\u4e09\u9662 \u4e34\u5e8a \u7814\u7a76\u751f 1 \u4e34\u5e8a\u533b\u5b66\u3001\u7cbe\u795e\u75c5\u4e0e\u7cbe\u795e\u536b\u751f\u5b66\u4e13\u4e1a 6 \u5e02\u4eba\u6c11\u533b\u9662 \u4e34\u5e8a \u672c\u79d1\u53ca\u4ee5\u4e0a 8 \u4e34\u5e8a\u533b\u5b66\u4e13\u4e1a\uff0c\u7b2c\u4e00\u6279\u6b21\u5165\u5b66 7 \u5e02\u4eba\u6c11\u533b\u9662 \u4e34\u5e8a\uff08\u4ece\u4e8b\u9ebb\u9189\uff09 \u672c\u79d1\u53ca\u4ee5\u4e0a 1 \u4e34\u5e8a\u533b\u5b66\u3001\u9ebb\u9189\u5b66\u4e13\u4e1a\uff0c\u7b2c\u4e00\u6279\u6b21\u5165\u5b66 8 \u5e02\u4e2d\u533b\u533b\u9662 \u4e34\u5e8a \u672c\u79d1\u53ca\u4ee5\u4e0a 1 \u4e34\u5e8a\u533b\u5b66\u4e13\u4e1a\uff0c\u7b2c\u4e00\u6279\u6b21\u5165\u5b66 9 \u5e02\u4e8c\u9662 \u4e34\u5e8a \u672c\u79d1\u53ca\u4ee5\u4e0a 1 \u4e34\u5e8a\u533b\u5b66\u4e13\u4e1a\uff0c\u5177\u6709\u76f8\u5e94\u6267\u4e1a\u533b\u5e08\u8d44\u683c\uff0c\u6267\u4e1a\u6ce8\u518c\u8303\u56f4\u4e3a\u91cd\u75c7\u533b\u5b66 10 \u5e02\u4e8c\u9662 \u4e34\u5e8a\uff08\u4ece\u4e8b\u76ae\u80a4\u79d1\uff09 \u672c\u79d1\u53ca\u4ee5\u4e0a 1 \u4e34\u5e8a\u533b\u5b66\u4e13\u4e1a\uff0c\u5177\u6709\u76f8\u5e94\u6267\u4e1a\u533b\u5e08\u8d44\u683c 11 \u5e02\u4e8c\u9662 \u4e34\u5e8a\uff08\u4ece\u4e8b\u89c6\u5149\u95e8\u8bca\uff09 \u672c\u79d1\u53ca\u4ee5\u4e0a 1 \u4e34\u5e8a\u533b\u5b66\u3001\u773c\u89c6\u5149\u4e13\u4e1a 12 \u5e02\u4e09\u9662 \u4e34\u5e8a\uff08\u4ece\u4e8b\u7cbe\u795e\u79d1\uff09 \u672c\u79d1\u53ca\u4ee5\u4e0a 2 \u4e34\u5e8a\u533b\u5b66\u3001\u7cbe\u795e\u533b\u5b66\u4e13\u4e1a\uff0c\u7537\u6027 13 \u5e02\u4e09\u9662 \u4e34\u5e8a\uff08\u4ece\u4e8b\u7cbe\u795e\u79d1\uff09 \u672c\u79d1\u53ca\u4ee5\u4e0a 2 \u7cbe\u795e\u533b\u5b66\u4e13\u4e1a\uff0c\u5177\u6709\u76f8\u5e94\u6267\u4e1a\u533b\u5e08\u8d44\u683c\uff0c\u6267\u4e1a\u6ce8\u518c\u8303\u56f4\u4e3a\u7cbe\u795e\u536b\u751f 14 \u5e02\u56db\u9662 \u4e34\u5e8a\uff08\u4ece\u4e8b\u9aa8\u79d1\uff09 \u672c\u79d1\u53ca\u4ee5\u4e0a 1 \u4e34\u5e8a\u533b\u5b66\u4e13\u4e1a\uff0c\u5177\u6709\u76f8\u5e94\u6267\u4e1a\u533b\u5e08\u8d44\u683c 15 \u5e02\u56db\u9662 \u4e34\u5e8a\uff08\u4ece\u4e8b\u9ebb\u9189\uff09 \u672c\u79d1\u53ca\u4ee5\u4e0a 1 \u4e34\u5e8a\u533b\u5b66\u4e13\u4e1a\uff0c\u5177\u6709\u76f8\u5e94\u6267\u4e1a\u533b\u5e08\u8d44\u683c 16 \u5e02\u6025\u6551\u7ad9 \u4e34\u5e8a \u672c\u79d1\u53ca\u4ee5\u4e0a 2 \u4e34\u5e8a\u533b\u5b66\u4e13\u4e1a\uff0c\u7537\u6027 17 \u5e02\u536b\u6821 \u4e34\u5e8a\uff08\u4ece\u4e8b\u89e3\u5256\u6559\u5b66\uff09 \u672c\u79d1\u53ca\u4ee5\u4e0a 1 \u4e34\u5e8a\u533b\u5b66\u4e13\u4e1a\uff0c\u9002\u5408\u7537\u6027 18 \u5e02\u4eba\u6c11\u533b\u9662\u533b\u5171\u4f53\u6210\u5458\u5355\u4f4d \u4e34\u5e8a \u672c\u79d1\u53ca\u4ee5\u4e0a 3 \u4e34\u5e8a\u533b\u5b66\u4e13\u4e1a 19 \u5e02\u56db\u9662\u9ec4\u5bb6\u57e0\u5206\u9662\uff08\u9ec4\u5bb6\u57e0\u9547\u536b\u751f\u9662\uff09 \u4e34\u5e8a \u672c\u79d1\u53ca\u4ee5\u4e0a 1 \u4e34\u5e8a\u533b\u5b66\u4e13\u4e1a 20 \u5e02\u56db\u9662\uff08\u4e0b\u5c5e\u793e\u533a\u536b\u751f\u670d\u52a1\u7ad9\uff09 \u4e34\u5e8a\uff08\u4ece\u4e8b\u513f\u4fdd\uff09 \u5927\u4e13\u53ca\u4ee5\u4e0a 1 \u4e34\u5e8a\u533b\u5b66\u3001\u533b\u5b66\u5f71\u50cf\u5b66\u4e13\u4e1a\uff0c\u5177\u6709\u76f8\u5e94\u6267\u4e1a\uff08\u52a9\u7406\uff09\u533b\u5e08\u8d44\u683c 21 \u5e02\u56db\u9662\uff08\u4e0b\u5c5e\u793e\u533a\u536b\u751f\u670d\u52a1\u7ad9\uff09 \u4e34\u5e8a\uff08\u4ece\u4e8bB\u8d85\uff09 \u5927\u4e13\u53ca\u4ee5\u4e0a 1 \u4e34\u5e8a\u533b\u5b66\u3001\u533b\u5b66\u5f71\u50cf\u5b66\u4e13\u4e1a\uff0c\u5177\u6709\u76f8\u5e94\u6267\u4e1a\uff08\u52a9\u7406\uff09\u533b\u5e08\u8d44\u683c 22 \u5e02\u6025\u6551\u7ad9 \u4e34\u5e8a \u5927\u4e13\u53ca\u4ee5\u4e0a 4 \u4e34\u5e8a\u533b\u5b66\u4e13\u4e1a\uff0c\u5177\u6709\u76f8\u5e94\u6267\u4e1a\uff08\u52a9\u7406\uff09\u533b\u5e08\u8d44\u683c\uff0c\u9002\u5408\u7537\u6027 23 \u5e02\u4eba\u6c11\u533b\u9662\u6881\u5f04\u5206\u9662\uff08\u6881\u5f04\u4e2d\u5fc3\u536b\u751f\u9662\uff09 \u4e34\u5e8a\uff08\u4ece\u4e8b\u5987\u513f\u4fdd\uff09 \u5927\u4e13\u53ca\u4ee5\u4e0a 1 \u4e34\u5e8a\u533b\u5b66\u4e13\u4e1a 24 \u5e02\u56db\u9662\u533b\u5171\u4f53\u6210\u5458\u5355\u4f4d \u4e34\u5e8a\uff08\u4ece\u4e8b\u533b\u5b66\u5f71\u50cf\u8bca\u65ad\uff09 \u5927\u4e13\u53ca\u4ee5\u4e0a 3 \u4e34\u5e8a\u533b\u5b66\u3001\u533b\u5b66\u5f71\u50cf\u5b66\u4e13\u4e1a 25 \u5e02\u56db\u9662\u9ec4\u5bb6\u57e0\u5206\u9662\uff08\u9ec4\u5bb6\u57e0\u9547\u536b\u751f\u9662\uff09 \u4e34\u5e8a \u5927\u4e13\u53ca\u4ee5\u4e0a 1 \u4e34\u5e8a\u533b\u5b66\u4e13\u4e1a 26 \u5e02\u4e2d\u533b\u533b\u9662\u4e09\u4e03\u5e02\u5206\u9662\uff08\u4e09\u4e03\u5e02\u9547\u536b\u751f\u9662\uff09 \u4e34\u5e8a\uff08\u4ece\u4e8b\u533b\u5b66\u5f71\u50cf\u8bca\u65ad\uff09 \u5927\u4e13\u53ca\u4ee5\u4e0a 1 \u4e34\u5e8a\u533b\u5b66\u3001\u533b\u5b66\u5f71\u50cf\u5b66\u4e13\u4e1a 27 \u5e02\u4e2d\u533b\u533b\u9662\u5927\u9690\u5206\u9662\uff08\u5927\u9690\u9547\u536b\u751f\u9662\uff09 \u4e34\u5e8a\uff08\u4ece\u4e8b\u513f\u4fdd\uff09 \u5927\u4e13\u53ca\u4ee5\u4e0a 1 \u4e34\u5e8a\u533b\u5b66\u4e13\u4e1a\uff0c\u5177\u6709\u76f8\u5e94\u6267\u4e1a\uff08\u52a9\u7406\uff09\u533b\u5e08\u8d44\u683c\uff0c\u6267\u4e1a\u6ce8\u518c\u8303\u56f4\u4e3a\u5168\u79d1\u533b\u5b66\u6216\u513f\u79d1 28 \u5e02\u4e8c\u9662\u5927\u5c9a\u5206\u9662\uff08\u5927\u5c9a\u9547\u536b\u751f\u9662\uff09 \u4e34\u5e8a\uff08\u4ece\u4e8b\u533b\u5b66\u5f71\u50cf\u8bca\u65ad\uff09 \u5927\u4e13\u53ca\u4ee5\u4e0a 1 \u4e34\u5e8a\u533b\u5b66\u3001\u533b\u5b66\u5f71\u50cf\u5b66\u4e13\u4e1a 29 \u5e02\u4eba\u6c11\u533b\u9662 \u4e34\u5e8a\uff08\u4ece\u4e8b\u8033\u9f3b\u54bd\u5589\u79d1\uff09 \u672c\u79d1\u53ca\u4ee5\u4e0a 1 \u5b9a\u5411\u804c\u4f4d\uff0c\u4e34\u5e8a\u533b\u5b66\u4e13\u4e1a\uff0c\u5177\u6709\u76f8\u5e94\u4e3b\u6cbb\u533b\u5e08\u53ca\u4ee5\u4e0a\u8d44\u683c 30 \u5e02\u56db\u9662 \u4e34\u5e8a \u672c\u79d1\u53ca\u4ee5\u4e0a 1 \u5b9a\u5411\u804c\u4f4d\uff0c\u4e34\u5e8a\u533b\u5b66\u4e13\u4e1a\uff0c\u5177\u6709\u76f8\u5e94\u4e3b\u6cbb\u533b\u5e08\u53ca\u4ee5\u4e0a\u8d44\u683c 31 \u5e02\u56db\u9662\u5c0f\u66f9\u5a25\u5206\u9662\uff08\u5c0f\u66f9\u5a25\u9547\u536b\u751f\u9662\uff09 \u4e34\u5e8a \u672c\u79d1\u53ca\u4ee5\u4e0a 1 \u5b9a\u5411\u804c\u4f4d\uff0c\u4e34\u5e8a\u533b\u5b66\u4e13\u4e1a 32 \u5e02\u4eba\u6c11\u533b\u9662\u9a6c\u6e1a\u5206\u9662\uff08\u9a6c\u6e1a\u4e2d\u5fc3\u536b\u751f\u9662\uff09 \u4e34\u5e8a\uff08\u4ece\u4e8b\u5987\u4fdd\uff09 \u5927\u4e13\u53ca\u4ee5\u4e0a 1 \u5b9a\u5411\u804c\u4f4d\uff0c\u4e34\u5e8a\u533b\u5b66\u4e13\u4e1a\uff0c\u5973\u6027 33 \u5e02\u4e8c\u9662\u725f\u5c71\u5206\u9662\uff08\u725f\u5c71\u9547\u536b\u751f\u9662\uff09 \u4e34\u5e8a\uff08\u4ece\u4e8b\u5987\u513f\u4fdd\uff09 \u5927\u4e13\u53ca\u4ee5\u4e0a 1 \u5b9a\u5411\u804c\u4f4d\uff0c\u4e34\u5e8a\u533b\u5b66\u4e13\u4e1a\uff0c\u5973\u6027 34 \u5e02\u56db\u9662\u5c0f\u66f9\u5a25\u5206\u9662\uff08\u5c0f\u66f9\u5a25\u9547\u536b\u751f\u9662\uff09 \u4e34\u5e8a \u5927\u4e13\u53ca\u4ee5\u4e0a 1 \u5b9a\u5411\u804c\u4f4d\uff0c\u4e34\u5e8a\u533b\u5b66\u4e13\u4e1a 35 \u5e02\u4e2d\u533b\u533b\u9662 \u4e2d\u533b \u7814\u7a76\u751f 1 \u4e2d\u533b\u5916\u79d1\u5b66\u4e13\u4e1a 36 \u5e02\u4e2d\u533b\u533b\u9662 \u4e2d\u533b \u7814\u7a76\u751f 1 \u4e2d\u533b\u9aa8\u4f24\u79d1\u5b66\u4e13\u4e1a 37 \u5e02\u4e2d\u533b\u533b\u9662 \u4e2d\u533b \u7814\u7a76\u751f 1 \u4e2d\u533b\u5987\u79d1\u5b66\u4e13\u4e1a 38 \u5e02\u4e2d\u533b\u533b\u9662 \u4e2d\u533b \u7814\u7a76\u751f 1 \u9488\u7078\u63a8\u62ff\u5b66\u4e13\u4e1a 39 \u5e02\u4e2d\u533b\u533b\u9662 \u4e2d\u533b \u7814\u7a76\u751f 1 \u4e2d\u533b\u80bf\u7624\u5b66\u65b9\u5411 40 \u5e02\u4e2d\u533b\u533b\u9662 \u4e2d\u533b \u672c\u79d1\u53ca\u4ee5\u4e0a 7 \u4e2d\u533b\u5b66\u4e13\u4e1a\uff0c\u7b2c\u4e00\u6279\u6b21\u5165\u5b66 41 \u5e02\u56db\u9662 \u4e2d\u533b \u672c\u79d1\u53ca\u4ee5\u4e0a 1 \u4e2d\u533b\u5b66\u4e13\u4e1a 42 \u5e02\u4eba\u6c11\u533b\u9662\u9633\u660e\u8857\u9053\u5206\u9662\uff08\u9633\u660e\u8857\u9053\u536b\u751f\u9662\uff09 \u4e2d\u533b \u672c\u79d1\u53ca\u4ee5\u4e0a 1 \u4e2d\u533b\u5b66\u4e13\u4e1a 43 \u5e02\u56db\u9662\u9ec4\u5bb6\u57e0\u5206\u9662\uff08\u9ec4\u5bb6\u57e0\u9547\u536b\u751f\u9662\uff09 \u4e2d\u533b \u672c\u79d1\u53ca\u4ee5\u4e0a 1 \u4e2d\u533b\u5b66\u4e13\u4e1a 44 \u5e02\u56db\u9662 \u4e2d\u533b\uff08\u4ece\u4e8b\u9aa8\u4f24\uff09 \u672c\u79d1\u53ca\u4ee5\u4e0a 1 \u5b9a\u5411\u804c\u4f4d\uff0c\u4e2d\u533b\u5b66\u4e13\u4e1a 45 \u5e02\u4eba\u6c11\u533b\u9662 \u9488\u7078\u63a8\u62ff\uff08\u4ece\u4e8b\u63a8\u62ff\uff09 \u672c\u79d1\u53ca\u4ee5\u4e0a 1 \u9488\u7078\u63a8\u62ff\u4e13\u4e1a\uff0c\u9002\u5408\u7537\u6027 46 \u5176\u4ed6\u5e02\u7ea7\u533b\u9662 \u9488\u7078\u63a8\u62ff \u672c\u79d1\u53ca\u4ee5\u4e0a 2 \u9488\u7078\u63a8\u62ff\u4e13\u4e1a 47 \u5e02\u4e8c\u9662 \u53e3\u8154 \u7814\u7a76\u751f 1 \u53e3\u8154\u4e34\u5e8a\u533b\u5b66\u4e13\u4e1a 48 \u5e02\u4e8c\u9662 \u53e3\u8154 \u672c\u79d1\u53ca\u4ee5\u4e0a 1 \u53e3\u8154\u533b\u5b66\u4e13\u4e1a 49 \u5e02\u56db\u9662 \u53e3\u8154 \u672c\u79d1\u53ca\u4ee5\u4e0a 1 \u53e3\u8154\u533b\u5b66\u4e13\u4e1a 50 \u5e02\u4eba\u6c11\u533b\u9662\u4e08\u4ead\u5206\u9662\uff08\u4e08\u4ead\u4e2d\u5fc3\u536b\u751f\u9662\uff09 \u53e3\u8154 \u672c\u79d1\u53ca\u4ee5\u4e0a 1 \u53e3\u8154\u533b\u5b66\u4e13\u4e1a 51 \u5e02\u56db\u9662\u6717\u971e\u8857\u9053\u5206\u9662\uff08\u6717\u971e\u8857\u9053\u536b\u751f\u9662\uff09 \u53e3\u8154 \u672c\u79d1\u53ca\u4ee5\u4e0a 1 \u53e3\u8154\u533b\u5b66\u4e13\u4e1a 52 \u5e02\u4e2d\u533b\u533b\u9662\u4e09\u4e03\u5e02\u5206\u9662\uff08\u4e09\u4e03\u5e02\u9547\u536b\u751f\u9662\uff09 \u53e3\u8154 \u5927\u4e13\u53ca\u4ee5\u4e0a 1 \u53e3\u8154\u533b\u5b66\u4e13\u4e1a\uff0c\u5177\u6709\u76f8\u5e94\u6267\u4e1a\uff08\u52a9\u7406\uff09\u533b\u5e08\u8d44\u683c 53 \u5e02\u4e8c\u9662\u9e7f\u4ead\u5206\u9662\uff08\u9e7f\u4ead\u4e61\u536b\u751f\u9662\uff09 \u53e3\u8154 \u5927\u4e13\u53ca\u4ee5\u4e0a 1 \u53e3\u8154\u533b\u5b66\u4e13\u4e1a\uff0c\u5177\u6709\u76f8\u5e94\u6267\u4e1a\uff08\u52a9\u7406\uff09\u533b\u5e08\u8d44\u683c 54 \u5e02\u68a8\u6d32\u533b\u9662\uff08\u5eb7\u590d\u533b\u9662\uff09 \u53e3\u8154 \u672c\u79d1\u53ca\u4ee5\u4e0a 1 \u5b9a\u5411\u804c\u4f4d\uff0c\u53e3\u8154\u533b\u5b66\u4e13\u4e1a 55 \u5e02\u4e8c\u9662\u5927\u5c9a\u5206\u9662\uff08\u5927\u5c9a\u9547\u536b\u751f\u9662\uff09 \u53e3\u8154 \u5927\u4e13\u53ca\u4ee5\u4e0a 1 \u5b9a\u5411\u804c\u4f4d\uff0c\u53e3\u8154\u533b\u5b66\u4e13\u4e1a\uff0c\u5e74\u9f84\u653e\u5bbd\u81f31978\u5e741\u67081\u65e5\u53ca\u4ee5\u540e\u51fa\u751f 56 \u5e02\u4eba\u6c11\u533b\u9662\u533b\u5171\u4f53\u6210\u5458\u5355\u4f4d \u516c\u5171\u536b\u751f \u672c\u79d1\u53ca\u4ee5\u4e0a 3 \u9884\u9632\u533b\u5b66\u3001\u4e34\u5e8a\u533b\u5b66\u4e13\u4e1a 57 \u5e02\u56db\u9662\u9ec4\u5bb6\u57e0\u5206\u9662\uff08\u9ec4\u5bb6\u57e0\u9547\u536b\u751f\u9662\uff09 \u516c\u5171\u536b\u751f \u672c\u79d1\u53ca\u4ee5\u4e0a 1 \u9884\u9632\u533b\u5b66\u3001\u4e34\u5e8a\u533b\u5b66\u4e13\u4e1a 58 \u5e02\u4e8c\u9662\u56db\u660e\u5c71\u5206\u9662\uff08\u56db\u660e\u5c71\u9547\u536b\u751f\u9662\uff09 \u516c\u5171\u536b\u751f \u5927\u4e13\u53ca\u4ee5\u4e0a 1 \u5b9a\u5411\u804c\u4f4d\uff0c\u9884\u9632\u533b\u5b66\u3001\u4e34\u5e8a\u533b\u5b66\u4e13\u4e1a 59 \u5e02\u4eba\u6c11\u533b\u9662 \u533b\u5b66\u5f71\u50cf\u8bca\u65ad \u672c\u79d1\u53ca\u4ee5\u4e0a 1 \u533b\u5b66\u5f71\u50cf\u5b66\u3001\u4e34\u5e8a\u533b\u5b66\u4e13\u4e1a 60 \u5e02\u4eba\u6c11\u533b\u9662 DSA\u4ecb\u5165\u533b\u5e08 \u672c\u79d1\u53ca\u4ee5\u4e0a 1 \u533b\u5b66\u5f71\u50cf\u5b66\u3001\u4e34\u5e8a\u533b\u5b66\u4e13\u4e1a\uff0c\u9002\u5408\u7537\u6027 61 \u5e02\u4e2d\u533b\u533b\u9662 \u533b\u5b66\u5f71\u50cf\u8bca\u65ad \u672c\u79d1\u53ca\u4ee5\u4e0a 1 \u533b\u5b66\u5f71\u50cf\u5b66\u3001\u4e34\u5e8a\u533b\u5b66\u4e13\u4e1a 62 \u5e02\u4e09\u9662 \u533b\u5b66\u5f71\u50cf\u8bca\u65ad\uff08\u4ece\u4e8bB\u8d85\uff09 \u672c\u79d1\u53ca\u4ee5\u4e0a 1 \u533b\u5b66\u5f71\u50cf\u5b66\u4e13\u4e1a 63 \u5e02\u4eba\u6c11\u533b\u9662\u533b\u5171\u4f53\u6210\u5458\u5355\u4f4d \u533b\u5b66\u5f71\u50cf\u8bca\u65ad \u672c\u79d1\u53ca\u4ee5\u4e0a 4 \u533b\u5b66\u5f71\u50cf\u5b66\u3001\u4e34\u5e8a\u533b\u5b66\u4e13\u4e1a 64 \u5e02\u4eba\u6c11\u533b\u9662\u9633\u660e\u8857\u9053\u5206\u9662\uff08\u9633\u660e\u8857\u9053\u536b\u751f\u9662\uff09 \u533b\u5b66\u5f71\u50cf\u8bca\u65ad\uff08\u4ece\u4e8b\u5987\u79d1B\u8d85\uff09 \u672c\u79d1\u53ca\u4ee5\u4e0a 1 \u533b\u5b66\u5f71\u50cf\u5b66\u3001\u4e34\u5e8a\u533b\u5b66\u4e13\u4e1a\uff0c\u5973\u6027 65 \u5e02\u56db\u9662 \u533b\u5b66\u5f71\u50cf\u8bca\u65ad\uff08\u4ece\u4e8b\u653e\u5c04\uff09 \u672c\u79d1\u53ca\u4ee5\u4e0a 1 \u5b9a\u5411\u804c\u4f4d\uff0c\u533b\u5b66\u5f71\u50cf\u5b66\u3001\u4e34\u5e8a\u533b\u5b66\u4e13\u4e1a 66 \u5e02\u4eba\u6c11\u533b\u9662\u9646\u57e0\u5206\u9662\uff08\u9646\u57e0\u4e2d\u5fc3\u536b\u751f\u9662\uff09 \u533b\u5b66\u5f71\u50cf\u8bca\u65ad\uff08\u4ece\u4e8b\u5987\u79d1B\u8d85\uff09 \u5927\u4e13\u53ca\u4ee5\u4e0a 1 \u5b9a\u5411\u804c\u4f4d\uff0c\u533b\u5b66\u5f71\u50cf\u5b66\u3001\u4e34\u5e8a\u533b\u5b66\u4e13\u4e1a\uff0c\u5973\u6027 67 \u5e02\u4eba\u6c11\u533b\u9662 DSA\u4ecb\u5165\u6280\u5e08 \u672c\u79d1\u53ca\u4ee5\u4e0a 1 \u533b\u5b66\u5f71\u50cf\u6280\u672f\u3001\u533b\u5b66\u5f71\u50cf\u5b66\u4e13\u4e1a\uff0c\u9002\u5408\u7537\u6027 68 \u5e02\u4eba\u6c11\u533b\u9662 ECT\u6280\u5e08 \u672c\u79d1\u53ca\u4ee5\u4e0a 1 \u533b\u5b66\u5f71\u50cf\u6280\u672f\u3001\u533b\u5b66\u5f71\u50cf\u5b66\u4e13\u4e1a\uff0c\u9002\u5408\u7537\u6027 69 \u5e02\u4eba\u6c11\u533b\u9662 \u653e\u7597\u6280\u5e08 \u672c\u79d1\u53ca\u4ee5\u4e0a 1 \u533b\u5b66\u5f71\u50cf\u6280\u672f\u3001\u533b\u5b66\u5f71\u50cf\u5b66\u4e13\u4e1a\uff0c\u9002\u5408\u7537\u6027 70 \u5e02\u4e2d\u533b\u533b\u9662 \u533b\u5b66\u5f71\u50cf\u6280\u672f \u5927\u4e13\u53ca\u4ee5\u4e0a 1 \u533b\u5b66\u5f71\u50cf\u6280\u672f\u4e13\u4e1a 71 \u5e02\u4eba\u6c11\u533b\u9662\u4e08\u4ead\u5206\u9662\uff08\u4e08\u4ead\u4e2d\u5fc3\u536b\u751f\u9662\uff09 \u533b\u5b66\u68c0\u9a8c \u672c\u79d1\u53ca\u4ee5\u4e0a 1 \u533b\u5b66\u68c0\u9a8c\u3001\u4e34\u5e8a\u533b\u5b66\u4e13\u4e1a 72 \u5e02\u56db\u9662\u5c0f\u66f9\u5a25\u5206\u9662\uff08\u5c0f\u66f9\u5a25\u9547\u536b\u751f\u9662\uff09 \u533b\u5b66\u68c0\u9a8c \u672c\u79d1\u53ca\u4ee5\u4e0a 1 \u533b\u5b66\u68c0\u9a8c\u3001\u4e34\u5e8a\u533b\u5b66\u4e13\u4e1a 73 \u5e02\u4eba\u6c11\u533b\u9662 \u836f\u5242 \u7814\u7a76\u751f 1 \u836f\u5242\u5b66\u4e13\u4e1a 74 \u5e02\u4e2d\u533b\u533b\u9662 \u836f\u5242 \u672c\u79d1\u53ca\u4ee5\u4e0a 1 \u4e34\u5e8a\u836f\u5b66\u4e13\u4e1a 75 \u5e02\u4eba\u6c11\u533b\u9662\u6881\u5f04\u5206\u9662\uff08\u6881\u5f04\u4e2d\u5fc3\u536b\u751f\u9662\uff09 \u836f\u5242 \u672c\u79d1\u53ca\u4ee5\u4e0a 1 \u836f\u5b66\u4e13\u4e1a 76 \u5e02\u4e2d\u533b\u533b\u9662\u5927\u9690\u5206\u9662\uff08\u5927\u9690\u9547\u536b\u751f\u9662\uff09 \u836f\u5242 \u672c\u79d1\u53ca\u4ee5\u4e0a 1 \u836f\u5b66\u4e13\u4e1a 77 \u5e02\u4e8c\u9662 \u4e2d\u836f \u672c\u79d1\u53ca\u4ee5\u4e0a 1 \u4e2d\u836f\u5b66\u4e13\u4e1a 78 \u5e02\u4eba\u6c11\u533b\u9662\u6881\u5f04\u5206\u9662\uff08\u6881\u5f04\u4e2d\u5fc3\u536b\u751f\u9662\uff09 \u4e2d\u836f \u5927\u4e13\u53ca\u4ee5\u4e0a 1 \u4e2d\u836f\u5b66\u4e13\u4e1a 79 \u5e02\u4eba\u6c11\u533b\u9662 \u62a4\u7406 \u672c\u79d1\u53ca\u4ee5\u4e0a 1 \u62a4\u7406\u5b66\u3001\u52a9\u4ea7\u58eb\u4e13\u4e1a 80 \u5176\u4ed6\u5e02\u7ea7\u533b\u9662 \u62a4\u7406 \u672c\u79d1\u53ca\u4ee5\u4e0a 2 \u62a4\u7406\u5b66\u3001\u52a9\u4ea7\u58eb\u4e13\u4e1a 81 \u5e02\u4e2d\u533b\u533b\u9662 \u62a4\u7406 \u5927\u4e13\u53ca\u4ee5\u4e0a 1 \u62a4\u7406\u5b66\u3001\u52a9\u4ea7\u58eb\u4e13\u4e1a 82 \u5e02\u4e8c\u9662\u533b\u5171\u4f53\u6210\u5458\u5355\u4f4d \u62a4\u7406 \u5927\u4e13\u53ca\u4ee5\u4e0a 2 \u62a4\u7406\u5b66\u3001\u52a9\u4ea7\u58eb\u4e13\u4e1a\uff1b\u5177\u6709\u62a4\u58eb\u6267\u4e1a\u8d44\u683c\u8005\uff0c\u5b66\u5386\u653e\u5bbd\u81f3\u4e2d\u4e13 83 \u5e02\u4e09\u9662 \u62a4\u7406\uff08\u4ece\u4e8b\u7cbe\u795e\u79d1\uff09 \u5927\u4e13\u53ca\u4ee5\u4e0a 2 \u62a4\u7406\u5b66\u4e13\u4e1a\uff0c\u7537\u6027 84 \u5e02\u4e8c\u9662 \u52a9\u4ea7 \u5927\u4e13\u53ca\u4ee5\u4e0a 1 \u52a9\u4ea7\u58eb\u4e13\u4e1a\u6216\u5177\u6709\u5168\u65e5\u5236\u672c\u79d1\u5b66\u5386\u7684\u62a4\u7406\u5b66\uff08\u52a9\u4ea7\u65b9\u5411\uff09\u4e13\u4e1a 85 \u5e02\u4eba\u6c11\u533b\u9662 \u653e\u7597\u7269\u7406\u5e08 \u672c\u79d1\u53ca\u4ee5\u4e0a 1 \u533b\u5b66\u7269\u7406\u3001\u6838\u7269\u7406\u3001\u7269\u7406\u5b66\u4e13\u4e1a\uff0c\u7b2c\u4e00\u6279\u6b21\u5165\u5b66\uff0c\u9002\u5408\u7537\u6027 86 \u5e02\u4e8c\u9662 \u751f\u7269\u533b\u5b66\u5de5\u7a0b \u672c\u79d1\u53ca\u4ee5\u4e0a 2 \u751f\u7269\u533b\u5b66\u5de5\u7a0b\u4e13\u4e1a\uff0c\u9ad8\u7a7a\u4f5c\u4e1a\uff0c\u9002\u5408\u7537\u6027 87 \u5e02\u4e2d\u533b\u533b\u9662 \u5eb7\u590d\u533b\u5b66 \u672c\u79d1\u53ca\u4ee5\u4e0a 1 \u5eb7\u590d\u533b\u5b66\u3001\u4e34\u5e8a\u533b\u5b66\u4e13\u4e1a 88 \u5e02\u68a8\u6d32\u533b\u9662\uff08\u5eb7\u590d\u533b\u9662\uff09 \u5eb7\u590d\u6cbb\u7597 \u672c\u79d1\u53ca\u4ee5\u4e0a 1 \u5eb7\u590d\u6cbb\u7597\u5b66\u4e13\u4e1a \u5408\u8ba1 121 \u6ce8\uff1a1.\u5e94\u8058\u8005\u5e94\u5177\u6709\u4e0e\u62db\u8058\u804c\u4f4d\u5bf9\u53e3\u6216\u76f8\u5e94\u4e13\u4e1a\u6587\u51ed\uff0c\u6240\u5b66\u4e13\u4e1a\u9002\u5408\u62db\u8058\u804c\u4f4d\u5de5\u4f5c\u9700\u8981\uff0c\u5e76\u4e0e\u53c2\u52a0\u6267\u4e1a\u8d44\u683c\u8003\u8bd5\u3001\u4e13\u4e1a\u6280\u672f\u8d44\u683c\u8003\u8bd5\u7684\u4e13\u4e1a\u8981\u6c42\u76f8\u5339\u914d\uff0c\u4e0d\u5f3a\u8c03\u4e13\u4e1a\u540d\u79f0\u5b57\u9762\u5b8c\u5168\u4e00\u81f4\uff1b2.\u4e34\u5e8a\u804c\u4f4d\u6839\u636e\u5355\u4f4d\u9700\u8981\u4ece\u4e8b\u4e34\u5e8a\u7c7b\u522b\u5404\u4e13\u4e1a\u3002\u4e8c\u3001\u62db\u8058\u5bf9\u8c61\u548c\u6761\u4ef6(\u4e00)\u62db\u8058\u5bf9\u8c611.\u5168\u65e5\u5236\u666e\u901a\u9ad8\u6821\u6bd5\u4e1a\u7684\u7814\u7a76\u751f\uff0c\u4ee5\u53ca\u5168\u65e5\u5236\u666e\u901a\u9ad8\u6821\u533b\u5b66\u5f71\u50cf\u5b66\u3001\u9ebb\u9189\u5b66\u3001\u533b\u5b66\u7269\u7406\u3001\u6838\u7269\u7406\u3001\u7269\u7406\u5b66\u4e13\u4e1a\u672c\u79d1\u5b66\u5386\u7684\u6bd5\u4e1a\u751f\u30022.\u6d59\u6c5f\u7701\u751f\u6e90\u6216\u6d59\u6c5f\u7701\u5e38\u4f4f\u6237\u53e3\u7684\u5168\u65e5\u5236\u666e\u901a\u9ad8\u6821\u7b2c\u4e00\u6279\u6b21\u5165\u5b66\u7684\u4e34\u5e8a\u533b\u5b66\u4e13\u4e1a\u672c\u79d1\u5b66\u5386\u7684\u6bd5\u4e1a\u751f\u3001\u5168\u65e5\u5236\u666e\u901a\u9ad8\u6821\u9884\u9632\u533b\u5b66\u3001\u533b\u5b66\u5f71\u50cf\u6280\u672f\u4e13\u4e1a\u672c\u79d1\u5b66\u5386\u7684\u6bd5\u4e1a\u751f\u3001\u5177\u6709\u4e34\u5e8a\u6216\u516c\u5171\u536b\u751f\u7c7b\u522b\u6267\u4e1a\u533b\u5e08\u8d44\u683c\u7684\u6bd5\u4e1a\u751f\u30023.\u5b81\u6ce2\u5927\u5e02\u751f\u6e902018\u5e74\u5168\u65e5\u5236\u666e\u901a\u9ad8\u6821(\u542b\u666e\u901a\u4e2d\u7b49\u4e13\u4e1a\u5b66\u6821)\u5e94\u5c4a\u6bd5\u4e1a\u751f\u6216\u5b81\u6ce2\u5927\u5e02\u5e38\u4f4f\u6237\u53e3\u7684\u56fd\u6c11\u6559\u80b2\u7cfb\u5217\u6bd5\u4e1a\u751f(\u6211\u5e02\u5b9a\u5411\u57f9\u517b\u4e3a\u519c\u6751\u793e\u533a\u533b\u751f\u7684\u6bd5\u4e1a\u751f\u9650\u62a5\u9664\u4f59\u59da\u5e02\u7ea7\u533b\u7597\u536b\u751f\u5355\u4f4d\u4ee5\u5916\u7684\u5355\u4f4d)\u30024.\u5728\u6211\u5e02\u5404\u7c7b\u533b\u7597\u536b\u751f\u8ba1\u751f\u673a\u6784\u8fde\u7eed\u5de5\u4f5c\u6ee1\u4e24\u5e74\u5e76\u73b0\u5728\u5c97(\u5de5\u4f5c\u65f6\u95f4\u7b97\u81f32018\u5e744\u67084\u65e5\uff0c\u4e0b\u540c)\u3001\u6309\u89c4\u5b9a\u7b7e\u8ba2\u52b3\u52a8\u5408\u540c\u548c\u7f34\u7eb3\u517b\u8001\u4fdd\u9669\uff0c\u4e14\u5177\u6709\u6267\u4e1a(\u52a9\u7406)\u533b\u5e08\u3001\u6267\u4e1a\u62a4\u58eb\u3001\u521d\u7ea7(\u58eb)\u53ca\u4ee5\u4e0a\u8d44\u683c\u7684\u4eba\u5458\u6237\u7c4d\u4e0d\u9650\u3002\u5168\u65e5\u5236\u666e\u901a\u9ad8\u6821\u6bd5\u4e1a\u751f\u5305\u62ec2018\u5e74\u5e94\u5c4a\u6bd5\u4e1a\u751f\u548c\u5386\u5c4a\u6bd5\u4e1a\u751f\u3002\u62db\u8058\u804c\u4f4d\u53e6\u6709\u89c4\u5b9a\u7684\uff0c\u4ece\u5176\u89c4\u5b9a\uff1b\u5e38\u4f4f\u6237\u53e3\u5165\u6237\u65f6\u95f4\u622a\u6b622018\u5e744\u67084\u65e5\u3002\u4f59\u59da\u5e02\u536b\u751f\u8ba1\u751f\u7cfb\u7edf\u5728\u7f16\u548c\u5df2\u88ab\u786e\u5b9a\u4e3a\u62df\u8058\u7528\u3001\u5f55\u7528\u4eba\u5458\u4e0d\u5217\u5165\u672c\u6b21\u62db\u8058\u5bf9\u8c61\u8303\u56f4\u3002(\u4e8c)\u62db\u8058\u6761\u4ef61.\u62e5\u62a4\u515a\u7684\u8def\u7ebf\u3001\u65b9\u9488\u3001\u653f\u7b56\uff0c\u9075\u7eaa\u5b88\u6cd5\uff0c\u54c1\u884c\u7aef\u6b63\uff0c\u7231\u5c97\u656c\u4e1a\u30022.1988\u5e741\u67081\u65e5\u53ca\u4ee5\u540e\u51fa\u751f\uff0c\u8eab\u4f53\u5065\u5eb7\u30023.\u5177\u6709\u7b26\u5408\u62db\u8058\u804c\u4f4d\u8981\u6c42\u7684\u5b66\u5386\u3001\u4e13\u4e1a\u3014\u62a5\u8003\u8005\u6240\u6301\u7684\u5b66\u5386\u8bc1\u4e66\u987b\u7b26\u5408\u62db\u8058\u804c\u4f4d\u53c2\u52a0\u76f8\u5e94\u7684\u6267\u4e1a(\u52a9\u7406)\u533b\u5e08\u8d44\u683c\u8003\u8bd5\u3001\u6267\u4e1a\u62a4\u58eb\u8d44\u683c\u8003\u8bd5\u3001\u4e13\u4e1a\u6280\u672f\u8d44\u683c\u8003\u8bd5\u5bf9\u6587\u51ed\u7684\u76f8\u5173\u8981\u6c42\u3015\u30024.\u56fd\u5916\u3001\u6e2f\u6fb3\u53f0\u7559\u5b66\u56de\u56fd(\u5883)\u4eba\u5458\u5e94\u8058\u65f6\uff0c\u987b\u5df2\u53d6\u5f97\u56fd\u5bb6\u6559\u80b2\u90e8\u8ba4\u5b9a\u7684\u5b66\u5386(\u5b66\u4f4d)\u8bc1\u4e66\uff0c\u4e13\u4e1a\u76f8\u8fd1\u7684\u4ee5\u6240\u5b66\u8bfe\u7a0b\u4e13\u4e1a\u540d\u79f0\u4e3a\u51c6\u30025.\u5bf92016\u5e748\u670831\u65e5\u53ca\u4e4b\u524d\u6bd5\u4e1a\u7684\u62a5\u8003\u8005\u5e94\u6301\u6709\u4e0e\u62db\u8058\u804c\u4f4d\u76f8\u5bf9\u5e94\u7684\u6267\u4e1a\u8d44\u683c\u8bc1\u4e66(\u4e13\u4e1a\u6280\u672f\u8d44\u683c\u8bc1\u4e66)\u30026.\u5bf9\u62a5\u8003\u5e02\u7ea7\u533b\u7597\u536b\u751f\u5355\u4f4d\u5b66\u5386\u8981\u6c42\u4e3a\u672c\u79d1\u53ca\u4ee5\u4e0a\u804c\u4f4d\u8005(\u62a5\u8003\u5b9a\u5411\u804c\u4f4d\u8005\u9664\u5916)\uff0c\u8981\u6c42\u4e3a\u5168\u65e5\u5236\u666e\u901a\u9ad8\u6821\u6bd5\u4e1a\u751f\uff0c\u5e76\u5177\u6709\u76f8\u5e94\u4e13\u4e1a\u7684\u5b66\u58eb\u53ca\u4ee5\u4e0a\u5b66\u4f4d\u548c\u5916\u8bed\u56fd\u5bb6\u56db\u7ea7\u53ca\u4ee5\u4e0a\u6210\u7ee9\u5408\u683c\u5355\u30027.\u62a5\u8003\u5b9a\u5411\u804c\u4f4d\u8005\uff0c\u987b\u5177\u6709\u76f8\u5e94\u7684\u6267\u4e1a(\u52a9\u7406)\u533b\u5e08\u7b49\u8d44\u683c\uff0c\u5176\u4e2d\u62a5\u8003\u5e02\u7ea7\u533b\u7597\u5355\u4f4d\u4e34\u5e8a\u3001\u4e2d\u533b\u3001\u53e3\u8154\u3001\u533b\u5b66\u5f71\u50cf\u8bca\u65ad\u7b49\u5b9a\u5411\u804c\u4f4d\u8005\u987b\u5177\u6709\u76f8\u5e94\u7684\u6267\u4e1a\u533b\u5e08\u8d44\u683c\u30028.\u5bf9\u4e0b\u5217\u62a5\u8003\u8005\u5e74\u9f84\u53ef\u653e\u5bbd\uff1a\u5177\u6709\u7855\u58eb\u53ca\u4ee5\u4e0a\u5b66\u4f4d\u7684\u5168\u65e5\u5236\u666e\u901a\u9ad8\u6821\u6bd5\u4e1a\u7684\u7814\u7a76\u751f\u6216\u5177\u6709\u76f8\u5e94\u7684\u8d44\u683c\u5e76\u62a5\u8003\u5b9a\u5411\u804c\u4f4d\u8005\uff0c\u5e74\u9f84\u53ef\u653e\u5bbd\u81f31983\u5e741\u67081\u65e5\u53ca\u4ee5\u540e\u51fa\u751f\uff1b\u5177\u6709\u76f8\u5e94\u526f\u4e3b\u4efb\u533b\u5e08(\u836f\u5e08\u3001\u6280\u5e08\u3001\u62a4\u5e08)\u53ca\u4ee5\u4e0a\u8d44\u683c\u8005\uff0c\u5e74\u9f84\u53ef\u653e\u5bbd\u81f31973\u5e741\u67081\u65e5\u53ca\u4ee5\u540e\u51fa\u751f\u3002\u62db\u8058\u804c\u4f4d\u53e6\u6709\u89c4\u5b9a\u7684\uff0c\u4ece\u5176\u89c4\u5b9a\u3002\u4e09\u3001\u62db\u8058\u7a0b\u5e8f\u3001\u529e\u6cd5\u62db\u8058\u5de5\u4f5c\u8d2f\u5f7b\u516c\u5f00\u3001\u5e73\u7b49\u3001\u7ade\u4e89\u3001\u62e9\u4f18\u539f\u5219\uff0c\u91c7\u53d6\u516c\u5f00\u62a5\u540d\u3001\u7edf\u4e00\u8003\u8bd5\u3001\u4f53\u68c0\u3001\u8003\u5bdf\u3001\u62e9\u4f18\u8058\u7528\u7684\u529e\u6cd5\u8fdb\u884c\u3002\u5177\u4f53\u7a0b\u5e8f\u548c\u529e\u6cd5\uff1a(\u4e00)\u62a5\u540d\u65f6\u95f4\uff1a4\u670810\u65e5\u20154\u670811\u65e5(\u4e0a\u53488\uff1a45 \uff5e11\uff1a45\uff0c\u4e0b\u534813\uff1a45\uff5e16\uff1a45)\u3002\u5730\u70b9\uff1a\u5e02\u536b\u751f\u8fdb\u4fee\u5b66\u6821\u5185(\u4e16\u5357\u897f\u8def139\u53f7)\u3002\u529e\u6cd5\uff1a\u6301\u672c\u4eba\u6237\u53e3\u7c3f(\u6216\u6237\u7c4d\u8bc1\u660e)\u3001\u8eab\u4efd\u8bc1\u3001\u6bd5\u4e1a\u8bc1\u4e66(\u5e94\u5c4a\u6bd5\u4e1a\u751f\u9700\u6301\u5b66\u751f\u8bc1\u3001\u9ad8\u6821\u6838\u53d1\u7684\u5c31\u4e1a\u63a8\u8350\u8868\u3001\u5c31\u4e1a\u534f\u8bae\u4e66)\u548c\u804c\u4f4d\u62db\u8058\u6761\u4ef6\u6240\u8981\u6c42\u7684\u76f8\u5173\u8bc1\u4e66(\u8bc1\u660e)\u539f\u4ef6\u53ca\u590d\u5370\u4ef6\uff0c\u8fd1\u671f\u514d\u51a01\u5bf8\u7167\u72473\u5f20\uff0c\u5e76\u586b\u5199\u300a\u4f59\u59da\u5e02\u62db\u8058\u536b\u751f\u6280\u672f\u4eba\u5458\u62a5\u540d\u767b\u8bb0\u8868\u300b\u3002\u5230\u62a5\u540d\u73b0\u573a\u62a5\u540d\u5e76\u63a5\u53d7\u8d44\u683c\u521d\u5ba1\uff0c\u521d\u5ba1\u5408\u683c\u8005\uff0c\u7f34\u7eb3\u8003\u52a1\u8d39100\u5143\u3002\u4ec5\u7b26\u5408\u62db\u8058\u5bf9\u8c61\u7b2c4\u70b9\u5373\u5728\u6211\u5e02\u5404\u7c7b\u533b\u7597\u536b\u751f\u8ba1\u751f\u673a\u6784\u8fde\u7eed\u5de5\u4f5c\u6ee1\u4e24\u5e74\u5e76\u73b0\u5728\u5c97\u3001\u6309\u89c4\u5b9a\u7b7e\u8ba2\u52b3\u52a8\u5408\u540c\u548c\u7f34\u7eb3\u517b\u8001\u4fdd\u9669\uff0c\u4e14\u5177\u6709\u6267\u4e1a(\u52a9\u7406)\u533b\u5e08\u3001\u6267\u4e1a\u62a4\u58eb\u3001\u521d\u7ea7(\u58eb)\u53ca\u4ee5\u4e0a\u8d44\u683c\u7684\u62a5\u540d\u5bf9\u8c61\uff0c\u8fd8\u9700\u63d0\u4f9b\u5de5\u4f5c\u8bc1\u660e\u3001\u52b3\u52a8\u5408\u540c\u548c\u7f34\u7eb3\u517b\u8001\u4fdd\u9669\u8bc1\u660e\u3002\u6bcf\u4eba\u9650\u62a5\u4e00\u4e2a\u804c\u4f4d\uff0c\u591a\u62a5\u65e0\u6548\u3002\u51c6\u8003\u8bc1\u53d1\u653e\uff1a\u62a5\u540d\u8005\u51ed\u672c\u4eba\u8eab\u4efd\u8bc1\u5230\u5e02\u536b\u751f\u548c\u8ba1\u5212\u751f\u80b2\u5c40\u9633\u660e\u4e1c\u8def\u529e\u516c\u533a(\u9633\u660e\u4e1c\u8def127\u53f7)\u7ec4\u7ec7\u4eba\u4e8b\u79d1\u9886\u53d6\u3002\u51c6\u8003\u8bc1\u9886\u53d6\u65f6\u95f4\u62a5\u540d\u5f53\u5929\u53e6\u884c\u544a\u77e5\uff0c\u903e\u671f\u4e0d\u9886\u89c6\u4f5c\u653e\u5f03\u8003\u8bd5\u3002(\u4e8c)\u8003\u8bd5(\u5305\u62ec\u7b14\u8bd5\u548c\u9762\u8bd5)1.\u7b14\u8bd5\uff1a\u7b14\u8bd5\u79d1\u76ee\u4e3a\u536b\u751f\u76f8\u5173\u7efc\u5408\u57fa\u7840\u77e5\u8bc6\u548c\u76f8\u5e94\u804c\u4f4d\u4e13\u4e1a\u77e5\u8bc6\u4e24\u95e8\uff0c\u6bcf\u95e8\u6ee1\u5206\u6309100\u5206\u8ba1\u7b97\u3002\u536b\u751f\u76f8\u5173\u7efc\u5408\u57fa\u7840\u77e5\u8bc6\u5185\u5bb9\u5305\u62ec\u536b\u751f\u6cd5\u5f8b\u6cd5\u89c4\u3001\u533b\u5b66\u4f26\u7406\u5b66\u7b49\u77e5\u8bc6\uff1b\u76f8\u5e94\u804c\u4f4d\u4e13\u4e1a\u77e5\u8bc6\u5185\u5bb9\u4e3a\u62db\u8058\u804c\u4f4d\u6240\u8981\u6c42\u7684\u76f8\u5173\u4e13\u4e1a\u77e5\u8bc6\u3002\u7b14\u8bd5\u91c7\u53d6\u95ed\u5377\u5f62\u5f0f\u3002\u7b14\u8bd5\u5177\u4f53\u65f6\u95f4\u3001\u5730\u70b9\u4ee5\u51c6\u8003\u8bc1\u4e3a\u51c6\u3002\u5e94\u8058\u8005\u82e5\u7b14\u8bd5\u6210\u7ee9\u4e0d\u8db348\u5206(\u6298\u5408\u5206)\uff0c\u4e14\u4f4e\u4e8e\u540c\u7c7b\u804c\u4f4d\u6240\u6709\u5b9e\u9645\u53c2\u52a0\u7b14\u8bd5\u5e76\u53d6\u5f97\u6709\u6548\u5206\u6570\u4eba\u5458\u5e73\u5747\u6210\u7ee9(\u6298\u5408\u5206)\u768490%\u3014\u5e02\u6025\u6551\u7ad9\u4e34\u5e8a\u5927\u4e13\u53ca\u4ee5\u4e0a(\u804c\u4f4d22)\u653e\u5bbd\u81f360%\uff0c\u4fdd\u7559\u5c0f\u6570\u70b9\u540e\u4e24\u4f4d\u3015\uff0c\u5219\u6dd8\u6c70\uff0c\u53d6\u6d88\u9762\u8bd5\u8d44\u683c\u30022.\u9762\u8bd5\uff1a\u6309\u7167\u62db\u8058\u804c\u4f4d\u5148\u6839\u636e\u6298\u7b97\u540e\u7684\u7b14\u8bd5\u6210\u7ee9\u4ece\u9ad8\u5206\u5230\u4f4e\u5206\u8fdb\u884c\u6392\u540d\uff0c\u518d\u6309\u4ee5\u4e0b\u6bd4\u4f8b\u786e\u5b9a\u6392\u540d\u5728\u524d\u7684\u5e94\u8058\u8005\u4e3a\u9762\u8bd5\u5bf9\u8c61\uff1a\u62db\u8058\u804c\u4f4d\u9700\u6c42\u4eba\u6570\u4e3a1\u4eba\u7684\u6309\u804c\u4f4d\u6307\u6807\u4ee51\uff1a3\u7684\u6bd4\u4f8b\u786e\u5b9a\u9762\u8bd5\u5bf9\u8c61\uff0c\u62db\u8058\u804c\u4f4d\u9700\u6c42\u4eba\u6570\u4e3a2\u81f34\u4eba\u7684\u6309\u804c\u4f4d\u6307\u6807\u4ee51\uff1a2\u7684\u6bd4\u4f8b\u786e\u5b9a\u9762\u8bd5\u5bf9\u8c61\uff0c\u62db\u8058\u804c\u4f4d\u9700\u6c42\u4eba\u6570\u57285\u4eba\u53ca\u4ee5\u4e0a\u7684\u6309\u804c\u4f4d\u6307\u6807\u4ee51\uff1a1.5\u7684\u6bd4\u4f8b\u786e\u5b9a\u9762\u8bd5\u5bf9\u8c61(\u6309\u56db\u820d\u4e94\u5165\u4fdd\u7559\u6574\u6570\uff0c\u6bd4\u4f8b\u5185\u6700\u540e\u4e00\u540d\u5206\u6570\u5e76\u5217\u8005\u5168\u90e8\u5165\u95f1\u9762\u8bd5)\uff0c\u4e0d\u8db3\u89c4\u5b9a\u6bd4\u4f8b\u7684\u6309\u5b9e\u9645\u4eba\u6570\u786e\u5b9a\u3002\u62a4\u7406\u804c\u4f4d\u7684\u9762\u8bd5\u4ee5\u5b9e\u8df5\u8003\u8bd5\u5f62\u5f0f\u8fdb\u884c\uff1b\u5176\u5b83\u804c\u4f4d\u7684\u9762\u8bd5\u4e3b\u8981\u6d4b\u8bc4\u5e94\u8058\u8005\u53e3\u5934\u8868\u8fbe\u80fd\u529b\u3001\u73b0\u573a\u5e94\u53d8\u80fd\u529b\u3001\u7efc\u5408\u5206\u6790\u80fd\u529b\u3001\u56de\u7b54\u95ee\u9898\u51c6\u786e\u6027\u3001\u77e5\u8bc6\u9762\u548c\u4e3e\u6b62\u4eea\u8868\u7b49\u3002\u9762\u8bd5\u6210\u7ee9\u6ee1\u5206\u4e3a100\u5206\uff0c\u4e0d\u8db360\u5206\u8005\u6dd8\u6c70\u3002\u9762\u8bd5\u65f6\u95f4\u3001\u5730\u70b9\u53e6\u884c\u901a\u77e5\u3002\u8003\u8bd5\u6210\u7ee9=\u536b\u751f\u76f8\u5173\u7efc\u5408\u57fa\u7840\u77e5\u8bc6\u6210\u7ee9\u00d710%+\u76f8\u5e94\u804c\u4f4d\u4e13\u4e1a\u77e5\u8bc6\u6210\u7ee9\u00d770%+\u9762\u8bd5\u6210\u7ee9\u00d720%\u3002(\u4e09)\u4f53\u68c0\u6839\u636e\u8003\u8bd5\u6210\u7ee9\uff0c\u4ece\u9ad8\u5206\u5230\u4f4e\u5206(\u540c\u4e00\u62db\u8058\u804c\u4f4d\u5e94\u8058\u8005\u8003\u8bd5\u6210\u7ee9\u5e76\u5217\u7684\uff0c\u4f9d\u6b21\u6309\u7b14\u8bd5\u6210\u7ee9\u3001\u76f8\u5e94\u804c\u4f4d\u4e13\u4e1a\u77e5\u8bc6\u7b14\u8bd5\u6210\u7ee9\u9ad8\u8005\u6392\u540d\u5728\u5148\u3002\u4ecd\u4e0d\u80fd\u533a\u5206\u6392\u540d\u7684\uff0c\u5219\u53e6\u884c\u589e\u52a0\u6d4b\u8bd5\u5185\u5bb9\uff0c\u6d4b\u8bd5\u6210\u7ee9\u9ad8\u8005\u6392\u540d\u5728\u5148\uff0c\u4e0b\u540c)\u6309\u62db\u8058\u804c\u4f4d\u6307\u6807\u4ee51\uff1a1\u7684\u6bd4\u4f8b\u786e\u5b9a\u4f53\u68c0\u5bf9\u8c61\u3002\u540c\u7c7b\u804c\u4f4d\u5b9e\u9645\u53c2\u52a0\u7b14\u8bd5\u4ec5\u67091\u4eba\u7684\uff0c\u82e5\u5e94\u8058\u8005\u8003\u8bd5\u6210\u7ee9\u672a\u8fbe\u523060\u5206\uff0c\u53d6\u6d88\u4f53\u68c0\u8d44\u683c\u3002\u4f53\u68c0\u53c2\u7167\u5b81\u6ce2\u5e02\u8003\u5f55\u516c\u52a1\u5458\u7684\u76f8\u5173\u529e\u6cd5\u548c\u6807\u51c6\u6267\u884c(\u5982\u6709\u8865\u5145\u89c4\u5b9a\uff0c\u5219\u5728\u4f53\u68c0\u524d\u53e6\u884c\u516c\u5e03)\u3002\u653e\u5f03\u4f53\u68c0\u6216\u4f53\u68c0\u7ed3\u679c\u4e0d\u5408\u683c\u8005\u6dd8\u6c70\uff0c\u4f53\u68c0\u65f6\u95f4\u3001\u5730\u70b9\u53e6\u884c\u901a\u77e5\u3002(\u56db)\u8003\u5bdf\u4f53\u68c0\u5408\u683c\u8005\u4e3a\u8003\u5bdf\u5bf9\u8c61\uff0c\u4e3b\u8981\u8003\u5bdf\u88ab\u8003\u5bdf\u5bf9\u8c61\u7684\u5fb7\u624d\u8868\u73b0\u548c\u5e94\u8058\u8d44\u683c\u6761\u4ef6\u7b49\u60c5\u51b5\uff0c\u8003\u5bdf\u7ed3\u679c\u4e3a\u4e0d\u5b9c\u8058\u7528\u4e3a\u4e8b\u4e1a\u4eba\u5458\u8005\u6dd8\u6c70(\u8be6\u89c1\u9644\u4ef62)\u3002\u8003\u5bdf\u5bf9\u8c61\u4e3a2018\u5e74\u5e94\u5c4a\u6bd5\u4e1a\u7684\uff0c\u987b\u57282018\u5e747\u670830\u65e5\u524d\u5c06\u672c\u4eba\u7684\u6bd5\u4e1a\u8bc1\u4e66\u3001\u5b66\u4f4d\u8bc1\u4e66\u3001\u5916\u8bed\u6210\u7ee9\u5408\u683c\u5355\u3001\u5165\u5b66\u6279\u6b21\u8bc1\u660e\u7b49\u76f8\u5e94\u6750\u6599\u4ea4\u81f3\u4f59\u59da\u5e02\u536b\u751f\u548c\u8ba1\u5212\u751f\u80b2\u5c40\u8fdb\u884c\u9a8c\u8bc1\uff0c\u903e\u671f\u89c6\u4e3a\u653e\u5f03\u8058\u7528\u8d44\u683c\u3002(\u4e94)\u8058\u7528\u8003\u5bdf\u5408\u683c\u8005\u4e3a\u62df\u8058\u7528\u5bf9\u8c61\uff0c\u7ecf\u516c\u793a7\u5929\u65e0\u5f02\u8bae\u7684\uff0c\u6309\u6743\u9650\u6279\u51c6\u540e\u4e88\u4ee5\u8058\u7528(\u5df2\u53c2\u52a0\u5de5\u4f5c\u7684\u62df\u8058\u7528\u5bf9\u8c61\uff0c\u987b\u6309\u6709\u5173\u89c4\u5b9a\u529e\u7406\u597d\u4e0e\u539f\u5355\u4f4d\u7ec8\u6b62\u4eba\u4e8b\u5173\u7cfb\u7684\u624b\u7eed)\uff0c\u5e76\u529e\u7406\u62a5\u5230\u8058\u7528\u624b\u7eed\uff1b\u6709\u5f02\u8bae\u7684\uff0c\u7ecf\u6838\u5b9e\u5982\u4e0d\u5b9c\u8058\u7528\u4e3a\u4e8b\u4e1a\u4eba\u5458\u7684\uff0c\u53d6\u6d88\u8058\u7528\u8d44\u683c\u3002\u4f53\u68c0\u5408\u683c\u4eba\u5458\u56e0\u4e2a\u4eba\u539f\u56e0\u5728\u89c4\u5b9a\u65f6\u95f4\u5185\u4e0d\u80fd\u63d0\u4f9b\u4e2a\u4eba\u6863\u6848\u6216\u62df\u8058\u7528\u4eba\u5458\u903e\u671f\u4e0d\u6309\u89c4\u5b9a\u62a5\u5230\u7684\uff0c\u53d6\u6d88\u8058\u7528\u8d44\u683c\u3002\u672c\u6b21\u62db\u8058\uff0c\u56e0\u8003\u751f\u4e3b\u52a8\u653e\u5f03\u4f53\u68c0\u51fa\u73b0\u7684\u7a7a\u7f3a\u6309\u8003\u8bd5\u6210\u7ee9\u4ece\u9ad8\u5206\u5230\u4f4e\u5206\u4f9d\u6b21\u9012\u8865\uff0c\u5176\u5b83\u539f\u56e0\u51fa\u73b0\u7a7a\u7f3a\u4e0d\u8fdb\u884c\u9012\u8865\uff1b\u5982\u65e0\u5408\u9002\u5bf9\u8c61\uff0c\u5141\u8bb8\u62db\u8058\u4e0d\u8db3\u6216\u7a7a\u7f3a\u3002\u62db\u8058\u5de5\u4f5c\u76f8\u5173\u901a\u77e5\u3001\u8003\u8bd5\u6210\u7ee9\u3001\u4f53\u68c0\u7ed3\u679c\u53ca\u62df\u8058\u7528\u5bf9\u8c61\u540d\u5355\u5c06\u5728\u4f59\u59da\u4eba\u624d\u7f51( www.yyrc.com )\u548c\u4f59\u59da\u5e02\u536b\u751f\u548c\u8ba1\u5212\u751f\u80b2\u5c40\u7f51\u7ad9 ( www.yy.gov.cn/col/col73829/index.html) \u4e0a\u516c\u5e03\u3002\u65b0\u8058\u7528\u7684\u4e8b\u4e1a\u5355\u4f4d\u5de5\u4f5c\u4eba\u5458\uff0c\u6309\u6709\u5173\u89c4\u5b9a\u5b9e\u884c\u4eba\u4e8b\u4ee3\u7406\u548c\u8bd5\u7528\u671f(\u89c1\u4e60\u671f)\uff0c\u5e76\u6309\u89c4\u5b9a\u7b7e\u8ba2\u8058\u7528\u5408\u540c\u3002\u7ecf\u8bd5\u7528\u671f\u6216\u89c1\u4e60\u671f\u6ee1\u5e76\u7ecf\u8003\u6838\u5408\u683c\u540e\u4e88\u4ee5\u6b63\u5f0f\u8058\u7528\uff0c\u8003\u6838\u4e0d\u5408\u683c\u8005\u53d6\u6d88\u8058\u7528\u8d44\u683c\u30022016\u5e749\u67081\u65e5\u53ca\u4e4b\u540e\u6bd5\u4e1a\u672a\u53d6\u5f97\u6267\u4e1a\u8d44\u683c\u3001\u4e13\u4e1a\u6280\u672f\u8d44\u683c\u7684\u5e94\u8058\u8005\uff0c\u6309\u7167\u6b63\u5e38\u7684\u6267\u4e1a\u8d44\u683c\u8003\u8bd5\u3001\u4e13\u4e1a\u6280\u672f\u8d44\u683c\u8003\u8bd5\u7684\u65f6\u95f4\u89c4\u5b9a\uff0c\u8058\u7528\u540e\u57282019\u5e7412\u670831\u65e5\u524d\u672a\u80fd\u901a\u8fc7\u76f8\u5e94\u7684\u6267\u4e1a\u8d44\u683c\u8003\u8bd5\u3001\u4e13\u4e1a\u6280\u672f\u8d44\u683c\u8003\u8bd5\u7684\uff0c\u4f5c\u5f85\u5c97\u5904\u7406\uff1b\u57282020\u5e7412\u670831\u65e5\u524d\u4ecd\u672a\u80fd\u901a\u8fc7\u76f8\u5e94\u7684\u6267\u4e1a\u8d44\u683c\u8003\u8bd5\u3001\u4e13\u4e1a\u6280\u672f\u8d44\u683c\u8003\u8bd5\u7684\uff0c\u5219\u89e3\u9664\u8058\u7528\u5408\u540c\u3002\u5b9a\u5411\u804c\u4f4d\u5f55\u7528\u4eba\u5458\u5fc5\u987b\u5728\u5f55\u7528\u5355\u4f4d\u670d\u52a1\u4e03\u5e74\u4ee5\u4e0a\u3002\u5de5\u8d44\u798f\u5229\u5f85\u9047\u6309\u6709\u5173\u89c4\u5b9a\u6267\u884c\u3002\u672c\u7b80\u7ae0\u4e2d\u6240\u79f0\u7684\u5e02\u7ea7\u533b\u7597\u536b\u751f\u5355\u4f4d\u662f\u6307\u5e02\u4eba\u6c11\u533b\u9662\u3001\u5e02\u4e2d\u533b\u533b\u9662\u3001\u5e02\u7b2c\u4e8c\u4eba\u6c11\u533b\u9662\u3001\u5e02\u7b2c\u4e09\u4eba\u6c11\u533b\u9662\u3001\u5e02\u7b2c\u56db\u4eba\u6c11\u533b\u9662\u3001\u5e02\u68a8\u6d32\u533b\u9662(\u5eb7\u590d\u533b\u9662)\u3001\u5e02\u536b\u6821\u3001\u5e02\u6025\u6551\u7ad9\u3002\u5176\u4ed6\u5e02\u7ea7\u533b\u9662\u662f\u6307\u5e02\u4e2d\u533b\u533b\u9662\u3001\u5e02\u4e8c\u9662\u3001\u5e02\u4e09\u9662\u3001\u5e02\u68a8\u6d32\u533b\u9662(\u5eb7\u590d\u533b\u9662)\u3002\u672c\u7b80\u7ae0\u4e2d\u6240\u79f0\u7684\u540c\u7c7b\u804c\u4f4d\u5206\u4e3a\u4e34\u5e8a\u7c7b\u804c\u4f4d\u3001\u4e2d\u533b\u7c7b\u804c\u4f4d\u3001\u9488\u7078\u63a8\u62ff\u7c7b\u804c\u4f4d\u3001\u53e3\u8154\u7c7b\u804c\u4f4d\u3001\u516c\u5171\u536b\u751f\u7c7b\u804c\u4f4d\u3001\u533b\u5b66\u5f71\u50cf(DSA\u4ecb\u5165\u533b\u5e08\u3001DSA\u4ecb\u5165\u6280\u5e08\u3001ECT\u6280\u5e08\u3001\u653e\u7597\u6280\u5e08\u3001\u533b\u5b66\u5f71\u50cf\u6280\u672f)\u7c7b\u804c\u4f4d\u3001\u533b\u5b66\u68c0\u9a8c\u7c7b\u804c\u4f4d\u3001\u836f\u5242\u7c7b\u804c\u4f4d\u3001\u4e2d\u836f\u7c7b\u804c\u4f4d\u3001\u62a4\u7406(\u52a9\u4ea7)\u7c7b\u804c\u4f4d\u3001\u751f\u7269\u533b\u5b66\u5de5\u7a0b(\u653e\u7597\u7269\u7406\u5e08)\u7c7b\u804c\u4f4d\u3001\u5eb7\u590d\u533b\u5b66\u7c7b\u804c\u4f4d\u3001\u5eb7\u590d\u6cbb\u7597\u7c7b\u804c\u4f4d\u3002\u672c\u7b80\u7ae0\u53ca\u9644\u4ef6\u4e0d\u518d\u5728\u62a5\u540d\u73b0\u573a\u53d1\u653e\uff0c\u5e94\u8058\u8005\u8bf7\u5728\u4f59\u59da\u4eba\u624d\u7f51\u6216\u4f59\u59da\u5e02\u536b\u751f\u548c\u8ba1\u5212\u751f\u80b2\u5c40\u7f51\u7ad9\u4e0a\u81ea\u884c\u4e0b\u8f7d\u3002\u672c\u7b80\u7ae0\u7531\u4f59\u59da\u5e02\u536b\u751f\u548c\u8ba1\u5212\u751f\u80b2\u5c40\u8d1f\u8d23\u89e3\u91ca\u3002\u54a8\u8be2\u7535\u8bdd(\u5de5\u4f5c\u65e5)\uff1a62686886\u300162672605\uff1b\u76d1\u7763\u7535\u8bdd\uff1a62682597\u3002\u4f59\u59da\u5e02\u4eba\u529b\u8d44\u6e90\u548c\u793e\u4f1a\u4fdd\u969c\u5c40\u4f59\u59da\u5e02\u536b\u751f\u548c\u8ba1\u5212\u751f\u80b2\u5c40\u4e8c\u96f6\u4e00\u516b\u5e74\u56db\u6708\u56db\u65e5\";\r\n        StringBuilder sb = new StringBuilder();\r\n        for (Term term : seg.seg(raw)) {\r\n            sb.append(term.word).append(\" \");\r\n        }\r\n        System.out.println(sb.toString());\r\n    }\r\n```\r\n### \u671f\u671b\u8f93\u51fa\r\n\r\n<!-- \u4f60\u5e0c\u671b\u8f93\u51fa\u4ec0\u4e48\u6837\u7684\u6b63\u786e\u7ed3\u679c\uff1f-->\r\n\r\n```\r\n\u6253\u5370\u51fa\u6b63\u5e38\u7684\u5206\u8bcd\u7ed3\u679c\r\n```\r\n\r\n### \u5b9e\u9645\u8f93\u51fa\r\n\r\n<!-- HanLP\u5b9e\u9645\u8f93\u51fa\u4e86\u4ec0\u4e48\uff1f\u4ea7\u751f\u4e86\u4ec0\u4e48\u6548\u679c\uff1f\u9519\u5728\u54ea\u91cc\uff1f-->\r\n\r\n```\r\n\u629b\u51fa\u5f02\u5e38\r\n```\r\n\r\n## \u5176\u4ed6\u4fe1\u606f\r\n\r\n<!-- \u4efb\u4f55\u53ef\u80fd\u6709\u7528\u7684\u4fe1\u606f\uff0c\u5305\u62ec\u622a\u56fe\u3001\u65e5\u5fd7\u3001\u914d\u7f6e\u6587\u4ef6\u3001\u76f8\u5173issue\u7b49\u7b49\u3002-->\r\nException in thread \"main\" java.util.NoSuchElementException\r\n\tat java.util.LinkedList.getFirst(LinkedList.java:244)\r\n\tat com.hankcs.hanlp.seg.Viterbi.ViterbiSegment.viterbi(ViterbiSegment.java:148)\r\n\tat com.hankcs.hanlp.seg.Viterbi.ViterbiSegment.segSentence(ViterbiSegment.java:103)\r\n\tat com.hankcs.hanlp.seg.Segment.seg(Segment.java:507)\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/790/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/790/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/730", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/730/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/730/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/730/events", "html_url": "https://github.com/hankcs/HanLP/issues/730", "id": 285375155, "node_id": "MDU6SXNzdWUyODUzNzUxNTU=", "number": 730, "title": "\u8c03\u7528\u4f9d\u5b58\u8bed\u6cd5\u5206\u6790\u63a5\u53e3CRFDependencyParser.compute(sentence)\uff1b\u51fa\u73b0\u8fd4\u56de\u7ed3\u679c\u6b7b\u5faa\u73af\u60c5\u51b5", "user": {"login": "iwangkang", "id": 7834204, "node_id": "MDQ6VXNlcjc4MzQyMDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/7834204?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iwangkang", "html_url": "https://github.com/iwangkang", "followers_url": "https://api.github.com/users/iwangkang/followers", "following_url": "https://api.github.com/users/iwangkang/following{/other_user}", "gists_url": "https://api.github.com/users/iwangkang/gists{/gist_id}", "starred_url": "https://api.github.com/users/iwangkang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iwangkang/subscriptions", "organizations_url": "https://api.github.com/users/iwangkang/orgs", "repos_url": "https://api.github.com/users/iwangkang/repos", "events_url": "https://api.github.com/users/iwangkang/events{/privacy}", "received_events_url": "https://api.github.com/users/iwangkang/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 136114036, "node_id": "MDU6TGFiZWwxMzYxMTQwMzY=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/duplicated", "name": "duplicated", "color": "cccccc", "default": false, "description": ""}, {"id": 136114041, "node_id": "MDU6TGFiZWwxMzYxMTQwNDE=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/ignored", "name": "ignored", "color": "ffffff", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-01-02T08:19:02Z", "updated_at": "2018-01-03T02:32:54Z", "closed_at": "2018-01-03T02:32:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "## \u6ce8\u610f\u4e8b\u9879\r\n\u8bf7\u786e\u8ba4\u4e0b\u5217\u6ce8\u610f\u4e8b\u9879\uff1a\r\n\r\n* \u6211\u5df2\u4ed4\u7ec6\u9605\u8bfb\u4e0b\u5217\u6587\u6863\uff0c\u90fd\u6ca1\u6709\u627e\u5230\u7b54\u6848\uff1a\r\n  - [\u9996\u9875\u6587\u6863](https://github.com/hankcs/HanLP)\r\n  - [wiki](https://github.com/hankcs/HanLP/wiki)\r\n  - [\u5e38\u89c1\u95ee\u9898](https://github.com/hankcs/HanLP/wiki/FAQ)\r\n* \u6211\u5df2\u7ecf\u901a\u8fc7[Google](https://www.google.com/#newwindow=1&q=HanLP)\u548c[issue\u533a\u68c0\u7d22\u529f\u80fd](https://github.com/hankcs/HanLP/issues)\u641c\u7d22\u4e86\u6211\u7684\u95ee\u9898\uff0c\u4e5f\u6ca1\u6709\u627e\u5230\u7b54\u6848\u3002\r\n* \u6211\u660e\u767d\u5f00\u6e90\u793e\u533a\u662f\u51fa\u4e8e\u5174\u8da3\u7231\u597d\u805a\u96c6\u8d77\u6765\u7684\u81ea\u7531\u793e\u533a\uff0c\u4e0d\u627f\u62c5\u4efb\u4f55\u8d23\u4efb\u6216\u4e49\u52a1\u3002\u6211\u4f1a\u793c\u8c8c\u53d1\u8a00\uff0c\u5411\u6bcf\u4e00\u4e2a\u5e2e\u52a9\u6211\u7684\u4eba\u8868\u793a\u611f\u8c22\u3002\r\n* [x] \u6211\u5728\u6b64\u62ec\u53f7\u5185\u8f93\u5165x\u6253\u94a9\uff0c\u4ee3\u8868\u4e0a\u8ff0\u4e8b\u9879\u786e\u8ba4\u5b8c\u6bd5\u3002\r\n\r\n## \u7248\u672c\u53f7\r\n<!-- \u53d1\u884c\u7248\u8bf7\u6ce8\u660ejar\u6587\u4ef6\u540d\u53bb\u6389\u62d3\u5c55\u540d\u7684\u90e8\u5206\uff1bGitHub\u4ed3\u5e93\u7248\u8bf7\u6ce8\u660emaster\u8fd8\u662fportable\u5206\u652f -->\r\n\r\n\u5f53\u524d\u6700\u65b0\u7248\u672c\u53f7\u662f\uff1a1.5.2\r\n\u6211\u4f7f\u7528\u7684\u7248\u672c\u662f\uff1ahanlp-portable-1.5.2.jar\r\n\r\n<!--\u4ee5\u4e0a\u5c5e\u4e8e\u5fc5\u586b\u9879\uff0c\u4ee5\u4e0b\u53ef\u81ea\u7531\u53d1\u6325-->\r\n\r\n## \u6211\u7684\u95ee\u9898\r\n\u8c03\u7528\u4f9d\u5b58\u8bed\u6cd5\u5206\u6790\u63a5\u53e3CRFDependencyParser.compute(sentence)\uff1b\u51fa\u73b0\u8fd4\u56de\u7ed3\u679c\u6b7b\u5faa\u73af\u60c5\u51b5\r\n\u8fd4\u56de\u7ed3\u679c\u4e2did\u4e3a5\u7684CoNLLWord\u7684head\u4e3a6\uff0cid\u4e3a6\u7684CoNLLWord\u7684head\u4e3a5\u3002\r\n\r\n## \u590d\u73b0\u95ee\u9898\r\n\u6ca1\u6709\u4fee\u6539\u6e90\u7801\u76f4\u63a5\u8c03\u7528CRFDependencyParser.compute(sentence)\u63a5\u53e3\uff1b\r\n\r\n### \u89e6\u53d1\u4ee3\u7801\r\n\r\n```\r\n    public void testCompute() throws Exception\r\n    {\r\n        String sentence = \"\u7537\u5b50\u4ece\u53a6\u95e8\u6e38\u6cf3\u5230\u91d1\u95e8\";\r\n        CoNLLSentence cs = CRFDependencyParser.compute(sentence);\r\n        System.out.println(cs.word[4].HEAD.ID);\r\n        System.out.println(cs.word[5].HEAD.ID);\r\n    }\r\n```\r\n### \u671f\u671b\u8f93\u51fa\r\n\r\n```\r\n0\r\n5\r\n```\r\n\r\n### \u5b9e\u9645\u8f93\u51fa\r\n\r\n```\r\n6\r\n5\r\n```", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/730/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/730/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/718", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/718/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/718/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/718/events", "html_url": "https://github.com/hankcs/HanLP/issues/718", "id": 282854336, "node_id": "MDU6SXNzdWUyODI4NTQzMzY=", "number": 718, "title": "\u8bad\u7ec3\u6700\u65b0\u4e2d\u6587wiki\u95ee\u9898", "user": {"login": "zhengzhuangjie", "id": 3256720, "node_id": "MDQ6VXNlcjMyNTY3MjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3256720?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zhengzhuangjie", "html_url": "https://github.com/zhengzhuangjie", "followers_url": "https://api.github.com/users/zhengzhuangjie/followers", "following_url": "https://api.github.com/users/zhengzhuangjie/following{/other_user}", "gists_url": "https://api.github.com/users/zhengzhuangjie/gists{/gist_id}", "starred_url": "https://api.github.com/users/zhengzhuangjie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zhengzhuangjie/subscriptions", "organizations_url": "https://api.github.com/users/zhengzhuangjie/orgs", "repos_url": "https://api.github.com/users/zhengzhuangjie/repos", "events_url": "https://api.github.com/users/zhengzhuangjie/events{/privacy}", "received_events_url": "https://api.github.com/users/zhengzhuangjie/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-12-18T11:57:06Z", "updated_at": "2017-12-19T00:29:48Z", "closed_at": "2017-12-19T00:29:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n\u6ce8\u610f\u4e8b\u9879\u548c\u7248\u672c\u53f7\u5fc5\u586b\uff0c\u5426\u5219\u4e0d\u56de\u590d\u3002\u82e5\u5e0c\u671b\u5c3d\u5feb\u5f97\u5230\u56de\u590d\uff0c\u8bf7\u6309\u6a21\u677f\u8ba4\u771f\u586b\u5199\uff0c\u8c22\u8c22\u5408\u4f5c\u3002\r\n-->\r\n\r\n## \u6ce8\u610f\u4e8b\u9879\r\n\u8bf7\u786e\u8ba4\u4e0b\u5217\u6ce8\u610f\u4e8b\u9879\uff1a\r\n\r\n* \u6211\u5df2\u4ed4\u7ec6\u9605\u8bfb\u4e0b\u5217\u6587\u6863\uff0c\u90fd\u6ca1\u6709\u627e\u5230\u7b54\u6848\uff1a\r\n  - [\u9996\u9875\u6587\u6863](https://github.com/hankcs/HanLP)\r\n  - [wiki](https://github.com/hankcs/HanLP/wiki)\r\n  - [\u5e38\u89c1\u95ee\u9898](https://github.com/hankcs/HanLP/wiki/FAQ)\r\n* \u6211\u5df2\u7ecf\u901a\u8fc7[Google](https://www.google.com/#newwindow=1&q=HanLP)\u548c[issue\u533a\u68c0\u7d22\u529f\u80fd](https://github.com/hankcs/HanLP/issues)\u641c\u7d22\u4e86\u6211\u7684\u95ee\u9898\uff0c\u4e5f\u6ca1\u6709\u627e\u5230\u7b54\u6848\u3002\r\n* \u6211\u660e\u767d\u5f00\u6e90\u793e\u533a\u662f\u51fa\u4e8e\u5174\u8da3\u7231\u597d\u805a\u96c6\u8d77\u6765\u7684\u81ea\u7531\u793e\u533a\uff0c\u4e0d\u627f\u62c5\u4efb\u4f55\u8d23\u4efb\u6216\u4e49\u52a1\u3002\u6211\u4f1a\u793c\u8c8c\u53d1\u8a00\uff0c\u5411\u6bcf\u4e00\u4e2a\u5e2e\u52a9\u6211\u7684\u4eba\u8868\u793a\u611f\u8c22\u3002\r\n* [x] \u6211\u5728\u6b64\u62ec\u53f7\u5185\u8f93\u5165x\u6253\u94a9\uff0c\u4ee3\u8868\u4e0a\u8ff0\u4e8b\u9879\u786e\u8ba4\u5b8c\u6bd5\u3002\r\n\r\n## \u7248\u672c\u53f7\r\n<!-- \u53d1\u884c\u7248\u8bf7\u6ce8\u660ejar\u6587\u4ef6\u540d\u53bb\u6389\u62d3\u5c55\u540d\u7684\u90e8\u5206\uff1bGitHub\u4ed3\u5e93\u7248\u8bf7\u6ce8\u660emaster\u8fd8\u662fportable\u5206\u652f -->\r\n\r\n\u5f53\u524d\u6700\u65b0\u7248\u672c\u53f7\u662f\uff1a1.5.2\r\n\u6211\u4f7f\u7528\u7684\u7248\u672c\u662f\uff1a1.5.2\r\n\r\n<!--\u4ee5\u4e0a\u5c5e\u4e8e\u5fc5\u586b\u9879\uff0c\u4ee5\u4e0b\u53ef\u81ea\u7531\u53d1\u6325-->\r\n\r\n## \u6211\u7684\u95ee\u9898\r\n\r\n<!-- \u8bf7\u8be6\u7ec6\u63cf\u8ff0\u95ee\u9898\uff0c\u8d8a\u8be6\u7ec6\u8d8a\u53ef\u80fd\u5f97\u5230\u89e3\u51b3 -->\r\n\u8bad\u7ec3\u6700\u65b0\u7684zh wiki\u629b\u51fa\u6570\u7ec4\u8d8a\u754c\u5f02\u5e38\r\n## \u590d\u73b0\u95ee\u9898\r\n\r\n[hadoop@LOCAL-202-89 new]$ java -cp hanlp-portable-1.5.2.jar com.hankcs.hanlp.mining.word2vec.Train -input zhwiki-latest-pages-articles.xml.simplified -output zhwiki.txt\r\n\r\nException in thread \"main\" java.lang.ArrayIndexOutOfBoundsException: -3\r\n\tat com.hankcs.hanlp.mining.word2vec.TextFileCorpus.reduceVocab(TextFileCorpus.java:69)\r\n\tat com.hankcs.hanlp.mining.word2vec.TextFileCorpus.learnVocab(TextFileCorpus.java:142)\r\n\tat com.hankcs.hanlp.mining.word2vec.Word2VecTraining.trainModel(Word2VecTraining.java:326)\r\n\tat com.hankcs.hanlp.mining.word2vec.Train.execute(Train.java:33)\r\n\tat com.hankcs.hanlp.mining.word2vec.Train.main(Train.java:38)", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/718/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/718/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/703", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/703/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/703/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/703/events", "html_url": "https://github.com/hankcs/HanLP/issues/703", "id": 278913545, "node_id": "MDU6SXNzdWUyNzg5MTM1NDU=", "number": 703, "title": "\u8ba4\u4e3acrf\u91cc\u7684\u89e3\u7801tag\u65b9\u6cd5\u6709\u8bef\u3002\u6211\u4fee\u6539\u540e\u7684\u8bf7\u770b\u4e00\u4e0b\u3002", "user": {"login": "iterate7", "id": 15770759, "node_id": "MDQ6VXNlcjE1NzcwNzU5", "avatar_url": "https://avatars.githubusercontent.com/u/15770759?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iterate7", "html_url": "https://github.com/iterate7", "followers_url": "https://api.github.com/users/iterate7/followers", "following_url": "https://api.github.com/users/iterate7/following{/other_user}", "gists_url": "https://api.github.com/users/iterate7/gists{/gist_id}", "starred_url": "https://api.github.com/users/iterate7/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iterate7/subscriptions", "organizations_url": "https://api.github.com/users/iterate7/orgs", "repos_url": "https://api.github.com/users/iterate7/repos", "events_url": "https://api.github.com/users/iterate7/events{/privacy}", "received_events_url": "https://api.github.com/users/iterate7/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2017-12-04T08:42:01Z", "updated_at": "2018-01-05T16:40:34Z", "closed_at": "2017-12-08T18:52:17Z", "author_association": "NONE", "active_lock_reason": null, "body": " /**\r\n     * \u7ef4\u7279\u6bd4\u540e\u5411\u7b97\u6cd5\u6807\u6ce8\r\n     *\r\n     * @param table\r\n     */\r\n    public void tag(Table table)\r\n    {\r\n        int size = table.size();\r\n        if (size == 0) return;\r\n        int tagSize = id2tag.length;\r\n        double[][] net = new double[size][tagSize];\r\n        for (int i = 0; i < size; ++i)\r\n        {\r\n            LinkedList<double[]> scoreList = computeScoreList(table, i); //\u4e00\u4e2achar\u5bf9\u5e94\u7684\u72b6\u6001BMSE\u7684\u6982\u7387\u3002double[]\uff0c\u7279\u5f81\u4e2a\u6570\uff01\r\n            for (int tag = 0; tag < tagSize; ++tag)//4\u4e2a\u72b6\u6001\uff01\r\n            {\r\n                net[i][tag] = computeScore(scoreList, tag);\r\n            }\r\n        }\r\n\r\n        if (size == 1)\r\n        {\r\n            double maxScore = -1e10;\r\n            int bestTag = 0;\r\n            for (int tag = 0; tag < net[0].length; ++tag)\r\n            {\r\n                if (net[0][tag] > maxScore)\r\n                {\r\n                    maxScore = net[0][tag];\r\n                    bestTag = tag;\r\n                }\r\n            }\r\n            table.setLast(0, id2tag[bestTag]);\r\n            return;\r\n        }\r\n\r\n        //viterbi\u7684\u6838\u5fc3\u6b65\u9aa4\uff01\r\n        //note: \u6539\u8fdb\u4e86viterbi\u89e3\u7801\u7684\u7b97\u6cd5\u3002\u53d1\u73b0\u539f\u6765\u7684net\u7ed3\u6784\u4e0d\u591f\u6e05\u6670\u3002\r\n        int[][] from = new int[size][tagSize];//path\r\n        double pro[][] = new double[size][tagSize];\r\n        for (int i = 1; i < size; ++i)\r\n        {\r\n            for (int now = 0; now < tagSize; ++now)\r\n            {\r\n                double maxScore = -1e10;\r\n                for (int pre = 0; pre < tagSize; ++pre)\r\n                {\r\n                    double score = pro[i-1][pre] + matrix[pre][now] + net[i][now];//?net\u4ee3\u66ff\u4e86\u53d1\u5c04\u6982\u7387\uff0c\u80af\u5b9a\u662f\u4e0d\u51c6\u786e\u7684\u3002\r\n                    if (score > maxScore)\r\n                    {\r\n                        maxScore = score;\r\n                        from[i][now] = pre;\r\n                        pro[i][now] = maxScore; \r\n                    }\r\n                }\r\n            }\r\n        }\r\n    \t   \r\n    \t\r\n     \r\n    \t\r\n      double maxScore = -1e10;\r\n      int maxTag = 0;\r\n      for (int tag = 0; tag < net[size - 1].length; ++tag)\r\n      {\r\n          if (pro[size - 1][tag] > maxScore)\r\n          {\r\n              maxScore = pro[size - 1][tag];\r\n              maxTag = tag;\r\n          }\r\n      }\r\n    \ttable.setLast(size-1, id2tag[maxTag]);\r\n    \tfor (int i = size - 1; i >=1 ; --i)\r\n    \t{\r\n          table.setLast(i-1, id2tag[from[i][maxTag]]);\r\n          maxTag = from[i][maxTag];\r\n    \t }\r\n    \t\r\n        // \u53cd\u5411\u56de\u6eaf\u6700\u4f73\u8def\u5f84\r\n//        double maxScore = -1e10;\r\n//        int maxTag = 0;\r\n//        for (int tag = 0; tag < net[size - 1].length; ++tag)\r\n//        {\r\n//            if (net[size - 1][tag] > maxScore)\r\n//            {\r\n//                maxScore = net[size - 1][tag];\r\n//                maxTag = tag;\r\n//            }\r\n//        }\r\n//\r\n//        table.setLast(size - 1, id2tag[maxTag]);\r\n//        maxTag = from[size - 1][maxTag];\r\n//        for (int i = size - 2; i > 0; --i)\r\n//        {\r\n//            table.setLast(i, id2tag[maxTag]);\r\n//            maxTag = from[i][maxTag];\r\n//        }\r\n//        table.setLast(0, id2tag[maxTag]);\r\n    }", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/703/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/703/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/669", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/669/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/669/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/669/events", "html_url": "https://github.com/hankcs/HanLP/issues/669", "id": 272508955, "node_id": "MDU6SXNzdWUyNzI1MDg5NTU=", "number": 669, "title": "\u5173\u4e8eVector\u7c7b\u4ee5\u53ca\u76f8\u5173\u7684\u95ee\u9898", "user": {"login": "tiandiweizun", "id": 13550295, "node_id": "MDQ6VXNlcjEzNTUwMjk1", "avatar_url": "https://avatars.githubusercontent.com/u/13550295?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tiandiweizun", "html_url": "https://github.com/tiandiweizun", "followers_url": "https://api.github.com/users/tiandiweizun/followers", "following_url": "https://api.github.com/users/tiandiweizun/following{/other_user}", "gists_url": "https://api.github.com/users/tiandiweizun/gists{/gist_id}", "starred_url": "https://api.github.com/users/tiandiweizun/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tiandiweizun/subscriptions", "organizations_url": "https://api.github.com/users/tiandiweizun/orgs", "repos_url": "https://api.github.com/users/tiandiweizun/repos", "events_url": "https://api.github.com/users/tiandiweizun/events{/privacy}", "received_events_url": "https://api.github.com/users/tiandiweizun/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2017-11-09T10:16:40Z", "updated_at": "2017-11-29T06:18:24Z", "closed_at": "2017-11-09T16:42:06Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "<!--\r\n\u6ce8\u610f\u4e8b\u9879\u548c\u7248\u672c\u53f7\u5fc5\u586b\uff0c\u5426\u5219\u4e0d\u56de\u590d\u3002\u82e5\u5e0c\u671b\u5c3d\u5feb\u5f97\u5230\u56de\u590d\uff0c\u8bf7\u6309\u6a21\u677f\u8ba4\u771f\u586b\u5199\uff0c\u8c22\u8c22\u5408\u4f5c\u3002\r\n-->\r\n\r\n## \u6ce8\u610f\u4e8b\u9879\r\n\u8bf7\u786e\u8ba4\u4e0b\u5217\u6ce8\u610f\u4e8b\u9879\uff1a\r\n\r\n* \u6211\u5df2\u4ed4\u7ec6\u9605\u8bfb\u4e0b\u5217\u6587\u6863\uff0c\u90fd\u6ca1\u6709\u627e\u5230\u7b54\u6848\uff1a\r\n  - [\u9996\u9875\u6587\u6863](https://github.com/hankcs/HanLP)\r\n  - [wiki](https://github.com/hankcs/HanLP/wiki)\r\n  - [\u5e38\u89c1\u95ee\u9898](https://github.com/hankcs/HanLP/wiki/FAQ)\r\n* \u6211\u5df2\u7ecf\u901a\u8fc7[Google](https://www.google.com/#newwindow=1&q=HanLP)\u548c[issue\u533a\u68c0\u7d22\u529f\u80fd](https://github.com/hankcs/HanLP/issues)\u641c\u7d22\u4e86\u6211\u7684\u95ee\u9898\uff0c\u4e5f\u6ca1\u6709\u627e\u5230\u7b54\u6848\u3002\r\n* \u6211\u660e\u767d\u5f00\u6e90\u793e\u533a\u662f\u51fa\u4e8e\u5174\u8da3\u7231\u597d\u805a\u96c6\u8d77\u6765\u7684\u81ea\u7531\u793e\u533a\uff0c\u4e0d\u627f\u62c5\u4efb\u4f55\u8d23\u4efb\u6216\u4e49\u52a1\u3002\u6211\u4f1a\u793c\u8c8c\u53d1\u8a00\uff0c\u5411\u6bcf\u4e00\u4e2a\u5e2e\u52a9\u6211\u7684\u4eba\u8868\u793a\u611f\u8c22\u3002\r\n* [x] \u6211\u5728\u6b64\u62ec\u53f7\u5185\u8f93\u5165x\u6253\u94a9\uff0c\u4ee3\u8868\u4e0a\u8ff0\u4e8b\u9879\u786e\u8ba4\u5b8c\u6bd5\u3002\r\n\r\n## \u7248\u672c\u53f7\r\n<!-- \u53d1\u884c\u7248\u8bf7\u6ce8\u660ejar\u6587\u4ef6\u540d\u53bb\u6389\u62d3\u5c55\u540d\u7684\u90e8\u5206\uff1bGitHub\u4ed3\u5e93\u7248\u8bf7\u6ce8\u660emaster\u8fd8\u662fportable\u5206\u652f -->\r\n\r\n\u5f53\u524d\u6700\u65b0\u7248\u672c\u53f7\u662f\uff1a1.5.0\r\n\u6211\u4f7f\u7528\u7684\u7248\u672c\u662f\uff1a1.5.0\r\n\r\n<!--\u4ee5\u4e0a\u5c5e\u4e8e\u5fc5\u586b\u9879\uff0c\u4ee5\u4e0b\u53ef\u81ea\u7531\u53d1\u6325-->\r\n\r\n## \u6211\u7684\u95ee\u9898\r\n\r\n<!-- \u8bf7\u8be6\u7ec6\u63cf\u8ff0\u95ee\u9898\uff0c\u8d8a\u8be6\u7ec6\u8d8a\u53ef\u80fd\u5f97\u5230\u89e3\u51b3 -->\r\n1. \u5bf9\u4e8eVector\u7c7b\u91cc\u9762\u7684cosine\u65b9\u6cd5\u8868\u793a\u4e0d\u7406\u89e3\r\n\u4e3a\u4ec0\u4e48\u8ba1\u7b97dot\u7684\u7ed3\u679c\u518d\u5f00\u5e73\u65b9\uff0c\u52a0\u8f7d\u8bcd\u5411\u91cf\u7684\u65f6\u5019\u5df2\u7ecf\u662f\u5355\u4f4d\u5411\u91cf\uff0c\u4e5f\u5c31\u662f\u8bf4\u8ba1\u7b97cosine\u76f4\u63a5\u8fd4\u56de\u7ed3\u679c\u5373\u53ef\u3002\u6ca1\u660e\u767d\u4e3a\u4ec0\u4e48\u8fd9\u4e48\u505a\uff1f\r\n\r\n2. \u5bf9\u4e8eDocVectorModel\u7684query\u65b9\u6cd5\u7684\u4e0d\u7406\u89e3\uff08\u6587\u6863\u5411\u91cf\u751f\u6210\uff09\r\n\u7ed3\u679c\u9664\u4ee5n\u7684\u76ee\u7684\u662f\u4e3a\u4e86\u4ec0\u4e48\uff0c\u6c42\u671f\u671b\uff1f\u5982\u679c\u662f\u6c42\u671f\u671b\uff0c\u662f\u4e0d\u662f\u8ba1\u7b97\u5b8c\u6210\u4e4b\u540e\u5e94\u8be5\u8ba1\u7b97\u5355\u4f4d\u5411\u91cf\u3002\u4ee5\u4e0b\u8d34\u4e00\u6bb5\u6211\u7684\u6d4b\u8bd5\u4ee3\u7801\uff1a\r\n<pre><code>  \r\n    public static void main(String[] args) {\r\n        List<String> one = new ArrayList<>();\r\n        one.add(\"\u6211\");\r\n        one.add(\"\u662f\");\r\n        one.add(\"\u7a0b\u5e8f\u5458\");\r\n\r\n        List<String> other = new ArrayList<>();\r\n        other.add(\"\u7a0b\u5e8f\u5458\");\r\n        other.add(\"\u5f88\");\r\n        other.add(\"\u82e6\u903c\");\r\n\r\n        float[] senOne = new float[200];\r\n        for (String s : one) {\r\n            //\u901a\u8fc7ansj\u63d0\u4f9b\u7684\u6e90\u7801\u52a0\u8f7d\u7684\u4e8c\u8fdb\u5236\u8bcd\u5411\u91cf\u6587\u4ef6\r\n            float[] floats = WordSimilarity.getWordMap().get(s);\r\n            if (floats == null) {\r\n                System.out.println(s + \"\u672a\u627e\u5230\u8bcd\u5411\u91cf\");\r\n                continue;\r\n            }\r\n            for (int i = 0; i < floats.length; i++) {\r\n                senOne[i] += floats[i];\r\n            }\r\n        }\r\n        float[] senTwo = new float[200];\r\n        for (String s : other) {\r\n            //\u901a\u8fc7ansj\u63d0\u4f9b\u7684\u6e90\u7801\u52a0\u8f7d\u7684\u4e8c\u8fdb\u5236\u8bcd\u5411\u91cf\u6587\u4ef6\r\n            float[] floats = WordSimilarity.getWordMap().get(s);\r\n            if (floats == null) {\r\n                System.out.println(s + \"\u672a\u627e\u5230\u8bcd\u5411\u91cf\");\r\n                continue;\r\n            }\r\n            if (floats == null) {\r\n                System.out.println(s + \"\u672a\u627e\u5230\u8bcd\u5411\u91cf\");\r\n                continue;\r\n            }\r\n            for (int i = 0; i < floats.length; i++) {\r\n                senTwo[i] += floats[i];\r\n            }\r\n        }\r\n        System.out.println(\"\u8bcd\u5411\u91cf\u76f4\u63a5\u76f8\u52a0 + cosine \uff1a\" + cosine(senOne, senTwo));\r\n        System.out.println(\"DocVectorModel.query + Vector.cosine\uff1a\" + query(one).cosine(query(other)));\r\n        System.out.println(\"DocVectorModel.query + cosine\uff1a\" + cosine(query(one).elementArray, query(other).elementArray));\r\n    }\r\n\r\n    public static double cosine(float[] x, float[] y) {\r\n        double xx = 0;\r\n        double xy = 0;\r\n        double yy = 0;\r\n        for (int i = 0; i < x.length; i++) {\r\n            xx += x[i] * x[i];\r\n            xy += x[i] * y[i];\r\n            yy += y[i] * y[i];\r\n        }\r\n        return xy / Math.sqrt(xx * yy);\r\n    }\r\n\r\n\r\n    /**\r\n     * \u76f4\u63a5copy\u7684DocVectorModel\u7684query\u65b9\u6cd5\r\n     * @param words \u5206\u8bcd\u7ed3\u679c\r\n     * @return \u53e5\u5411\u91cf\r\n     */\r\n    public static Vector query(List<String> words) {\r\n        if (words == null || words.size() == 0) return null;\r\n        Vector result = new Vector(200);\r\n        int n = 0;\r\n        for (String word : words) {\r\n            float[] floats = WordSimilarity.getWordMap().get(word);\r\n\r\n            if (floats == null) {\r\n                continue;\r\n            }\r\n            result.addToSelf(new Vector(floats));\r\n            ++n;\r\n            if (n == 0) {\r\n                return null;\r\n            }\r\n        }\r\n        result.divideToSelf(n);\r\n        return result;\r\n    }\r\n</code></pre>\r\n## \u6d4b\u8bd5\u7ed3\u679c\r\n\u8bcd\u5411\u91cf\u76f4\u63a5\u76f8\u52a0 + cosine \uff1a0.7249490543441774\r\nDocVectorModel.query + Vector.cosine\uff1a0.5651151\r\nDocVectorModel.query + cosine\uff1a0.7249490499784463\r\n\r\n## \u7ed3\u8bba\r\n\u4e2a\u4eba\u611f\u89c91.\u6587\u6863\u5411\u91cf\u5e94\u8be5\u9664\u4ee5\u5411\u91cf\u7684\u6a21\uff0c2.Vector.cosine\u65b9\u6cd5\u5e94\u8be5\u76f4\u63a5\u8fd4\u56dedot\u7ed3\u679c\u3002\r\n\u4e0d\u77e5\u9053\u6211\u8bf4\u7684\u5bf9\u4e0d\u5bf9\u3002\u5e0c\u671b\u6307\u6b63\u3002", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/669/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/669/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/626", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/626/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/626/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/626/events", "html_url": "https://github.com/hankcs/HanLP/issues/626", "id": 257630367, "node_id": "MDU6SXNzdWUyNTc2MzAzNjc=", "number": 626, "title": "\u81ea\u5b9a\u4e49\u8bcd\u6027\u7684\u7528\u6237\u8bcd\u5178\u5bfc\u5165", "user": {"login": "AllyW", "id": 8137253, "node_id": "MDQ6VXNlcjgxMzcyNTM=", "avatar_url": "https://avatars.githubusercontent.com/u/8137253?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AllyW", "html_url": "https://github.com/AllyW", "followers_url": "https://api.github.com/users/AllyW/followers", "following_url": "https://api.github.com/users/AllyW/following{/other_user}", "gists_url": "https://api.github.com/users/AllyW/gists{/gist_id}", "starred_url": "https://api.github.com/users/AllyW/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AllyW/subscriptions", "organizations_url": "https://api.github.com/users/AllyW/orgs", "repos_url": "https://api.github.com/users/AllyW/repos", "events_url": "https://api.github.com/users/AllyW/events{/privacy}", "received_events_url": "https://api.github.com/users/AllyW/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-09-14T08:06:44Z", "updated_at": "2017-09-17T12:59:49Z", "closed_at": "2017-09-17T12:59:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "## \u7248\u672c\u53f7\r\n\r\n\u5f53\u524d\u6700\u65b0\u7248\u672c\u53f7\u662f\uff1a1.3.4\r\n\u6211\u4f7f\u7528\u7684\u7248\u672c\u662f\uff1aportable-1.3.4\r\n\r\n\r\n## \u6211\u7684\u95ee\u9898\r\n\u6839\u636e[issue243](https://github.com/hankcs/HanLP/issues/243)\r\n\r\n\u90a3\u53ef\u5426\u5728\u52a0\u8f7d\u7528\u6237\u81ea\u5b9a\u4e49\u8bcd\u5178\u6587\u4ef6\u524d\uff0c\u5148\u7528CustomNatureUtility.addNature(\u201c\u65b0\u8bcd\u6027\u201d);\u7136\u540e\u518d\u7528ACDoubleArrayTrieSegment.loadDistionary\u6765\u5bfc\u5165\u5e26\u6709\u81ea\u5b9a\u4e49\u8bcd\u6027\u7684\u7528\u6237\u81ea\u5b9a\u4e49\u8bcd\u5178\u6587\u4ef6\uff1f\r\n\u6211\u505a\u4e86\u5982\u4e0b\u64cd\u4f5c:\r\n```\r\nCustomNatureUtility.addNature(\u201c\u65b0\u8bcd\u60271\u201d);\r\nCustomNatureUtility.addNature(\"\u65b0\u8bcd\u60272\");\r\nAhoCorasickDoubleArrayTrieSegment segment = new AhoCorasickDoubleArrayTrieSegment()\r\n                .loadDictionary(HanLP.Config.CustomDictionaryPath[1]);\r\n```\r\n\u53d1\u73b0\u62a5\u9519\uff1a\r\njava.lang.IllegalArgumentException: No enum constant com.hankcs.hanlp.corpus.tag.Nature.\u65b0\u8bcd\u60272\r\n\r\n\u8ddf\u8e2a\u4e86\u4e00\u4e0b\u4ee3\u7801\u53d1\u73b0\u4e0a\u8ff0\u4ee3\u7801\u6dfb\u52a0\u8bcd\u6027\u4e4b\u540e\uff0c\u8bcd\u6027\u5e38\u91cf\u91cc\u9762\uff0c\u53ea\u6dfb\u52a0\u6210\u529f\u4e86\u65b0\u8bcd\u60271\uff0c\u6ca1\u6709\u65b0\u8bcd\u60272.\r\n\r\n\u5982\u679c\u53ea\u6dfb\u52a0\u4e00\u4e2a\u65b0\u8bcd\u60271\u5e76\u4e14\u8bcd\u5178\u6587\u4ef6\u4e2d\u53ea\u6709\u65b0\u8bcd\u60271\u7684\u8bdd\uff0c\u5c31\u53ef\u4ee5\u6b63\u786e\u5bf9\u5206\u8bcd\u7ed3\u679c\u6807\u6ce8\u7528\u6237\u5b9a\u4e49\u7684\u65b0\u8bcd\u60271\uff0c\u6dfb\u52a0\u4e24\u4e2a\u65b0\u8bcd\u6027\uff0c\u5c31\u4e0d\u53ef\u4ee5\uff0c\u4e0d\u77e5\u662f\u5426\u6709\u4eba\u9047\u5230\u7c7b\u4f3c\u95ee\u9898\uff1f\u8c22\u8c22\u3002\r\n\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/626/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/626/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/540", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/540/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/540/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/540/events", "html_url": "https://github.com/hankcs/HanLP/issues/540", "id": 230355694, "node_id": "MDU6SXNzdWUyMzAzNTU2OTQ=", "number": 540, "title": "remove\u81ea\u5b9a\u4e49\u6dfb\u52a0\u8bcd\u7684\u65f6\u5019\u9047\u5230\u4e00\u4e9b\u95ee\u9898", "user": {"login": "dengbojing", "id": 12322603, "node_id": "MDQ6VXNlcjEyMzIyNjAz", "avatar_url": "https://avatars.githubusercontent.com/u/12322603?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dengbojing", "html_url": "https://github.com/dengbojing", "followers_url": "https://api.github.com/users/dengbojing/followers", "following_url": "https://api.github.com/users/dengbojing/following{/other_user}", "gists_url": "https://api.github.com/users/dengbojing/gists{/gist_id}", "starred_url": "https://api.github.com/users/dengbojing/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dengbojing/subscriptions", "organizations_url": "https://api.github.com/users/dengbojing/orgs", "repos_url": "https://api.github.com/users/dengbojing/repos", "events_url": "https://api.github.com/users/dengbojing/events{/privacy}", "received_events_url": "https://api.github.com/users/dengbojing/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-05-22T10:44:25Z", "updated_at": "2017-05-22T12:58:18Z", "closed_at": "2017-05-22T12:58:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n\u8fd9\u662fHanLP\u7684issue\u6a21\u677f\uff0c\u7528\u4e8e\u89c4\u8303\u63d0\u95ee\u9898\u7684\u683c\u5f0f\u3002\u672c\u6765\u5e76\u4e0d\u6253\u7b97\u7528\u6b7b\u677f\u7684\u683c\u5f0f\u9650\u5236\u5927\u5bb6\uff0c\u4f46issue\u533a\u5b9e\u5728\u6709\u70b9\u6df7\u4e71\u3002\u6709\u65f6\u5019\u8bf4\u4e86\u534a\u5929\u624d\u641e\u6e05\u695a\u539f\u6765\u5bf9\u65b9\u7528\u7684\u662f\u65e7\u7248\u3001\u81ea\u5df1\u6539\u4e86\u4ee3\u7801\u4e4b\u7c7b\uff0c\u6d6a\u8d39\u53cc\u65b9\u5b9d\u8d35\u65f6\u95f4\u3002\u6240\u4ee5\u8fd9\u91cc\u7528\u4e00\u4e2a\u89c4\u8303\u7684\u6a21\u677f\u7edf\u4e00\u4e00\u4e0b\uff0c\u9020\u6210\u4e0d\u4fbf\u671b\u6d77\u6db5\u3002\u9664\u4e86\u6ce8\u610f\u4e8b\u9879\u5916\uff0c\u5176\u4ed6\u90e8\u5206\u53ef\u4ee5\u81ea\u884c\u6839\u636e\u5b9e\u9645\u60c5\u51b5\u505a\u9002\u91cf\u4fee\u6539\u3002\r\n-->\r\n\r\n## \u6ce8\u610f\u4e8b\u9879\r\n\u8bf7\u786e\u8ba4\u4e0b\u5217\u6ce8\u610f\u4e8b\u9879\uff1a\r\n\r\n* \u6211\u5df2\u4ed4\u7ec6\u9605\u8bfb\u4e0b\u5217\u6587\u6863\uff0c\u90fd\u6ca1\u6709\u627e\u5230\u7b54\u6848\uff1a\r\n  - [\u9996\u9875\u6587\u6863](https://github.com/hankcs/HanLP)\r\n  - [wiki](https://github.com/hankcs/HanLP/wiki)\r\n  - [\u5e38\u89c1\u95ee\u9898](https://github.com/hankcs/HanLP/wiki/FAQ)\r\n* \u6211\u5df2\u7ecf\u901a\u8fc7[Google](https://www.google.com/#newwindow=1&q=HanLP)\u548c[issue\u533a\u68c0\u7d22\u529f\u80fd](https://github.com/hankcs/HanLP/issues)\u641c\u7d22\u4e86\u6211\u7684\u95ee\u9898\uff0c\u4e5f\u6ca1\u6709\u627e\u5230\u7b54\u6848\u3002\r\n* \u6211\u660e\u767d\u5f00\u6e90\u793e\u533a\u662f\u51fa\u4e8e\u5174\u8da3\u7231\u597d\u805a\u96c6\u8d77\u6765\u7684\u81ea\u7531\u793e\u533a\uff0c\u4e0d\u627f\u62c5\u4efb\u4f55\u8d23\u4efb\u6216\u4e49\u52a1\u3002\u6211\u4f1a\u793c\u8c8c\u53d1\u8a00\uff0c\u5411\u6bcf\u4e00\u4e2a\u5e2e\u52a9\u6211\u7684\u4eba\u8868\u793a\u611f\u8c22\u3002\r\n* [ x] \u6211\u5728\u6b64\u62ec\u53f7\u5185\u8f93\u5165x\u6253\u94a9\uff0c\u4ee3\u8868\u4e0a\u8ff0\u4e8b\u9879\u786e\u8ba4\u5b8c\u6bd5\u3002\r\n\r\n## \u7248\u672c\u53f7\r\n<!-- \u53d1\u884c\u7248\u8bf7\u6ce8\u660ejar\u6587\u4ef6\u540d\u53bb\u6389\u62d3\u5c55\u540d\u7684\u90e8\u5206\uff1bGitHub\u4ed3\u5e93\u7248\u8bf7\u6ce8\u660emaster\u8fd8\u662fportable\u5206\u652f -->\r\n\r\n\u5f53\u524d\u6700\u65b0\u7248\u672c\u53f7\u662f\uff1aportable-1.3.4\r\n\u6211\u4f7f\u7528\u7684\u7248\u672c\u662f\uff1aportable-1.3.4\r\n\r\n\r\n## \u6211\u7684\u95ee\u9898\r\n\r\n\u5728\u81ea\u5b9a\u4e49\u6dfb\u52a0\u7528\u6237\u5b57\u5178\u4e4b\u540e\uff0c\u6267\u884c\u5220\u9664\u64cd\u4f5c\uff0c\u53d1\u73b0\u6709\u4e9b\u8bcd\u5220\u4e0d\u6389\uff0c\u6bd4\u5982\u201c\u529b\u5e06\u201d\uff0c\u201c\u6469\u6839\u201d\u3002\r\n\u6211\u505a\u4e86\u51e0\u6b21\u6d4b\u8bd5\u7ed3\u679c\u662f\uff1a\r\n1.\u5355\u72ecremove \u201c\u6469\u6839\u201d  --\u6210\u529f\u3002\r\n2.remove \u201c\u6469\u6839\u201d\uff0c\u201c123\uff08123\u8868\u793a\u4efb\u610f\u4e00\u4e2a\u5b57\u7b26\uff0c\u5373\u6211\u6dfb\u52a0\u4e862\u4e2a\u8bcd\uff0c\u73b0\u5728\u8981remove\u8fd9\u4e24\u4e2a\u8bcd\uff09 \u6b64\u65f6\u5931\u8d25\u3002\r\n3.remove \u201c\u6469\u6839\u201d\uff0c\u201c\u529b\u5e06\u201d \u6b64\u65f6\u53c8\u662f\u6210\u529f\u3002\r\n\r\n\u672c\u4eba\u662f\u65b0\u624b\u83dc\u9e1f\uff0c\u611f\u89c9\u662f\u4e0d\u662f\u67d0\u4e9b\u8bcd\u76f4\u63a5\u7684\u5173\u8054\u5173\u7cfb\u5bfc\u81f4\u7684\uff1f\u4e0d\u77e5\u9053\u6b64\u73b0\u8c61\u662f\u4e3a\u4f55\u539f\u56e0\uff0c\u53c8\u662f\u5982\u4f55\u53bb\u89e3\u51b3\uff0c\u671b\u5927\u795e\u6307\u70b9\u3002\r\n\r\n\u9644\u4e0a\u90e8\u5206\u4ee3\u7801\uff1a\r\nCustomDictionary.add(\"123\");\r\n\t\tCustomDictionary.add(\"\u6469\u6839\");\r\n\t\tCustomDictionary.remove(\"123\");\r\n\t\tCustomDictionary.remove(\"\u6469\u6839\");\r\n\u6b64\u65f6\u6700\u540e\u4e00\u884c remove\u6469\u6839\u62a5\u9519\u3002\r\n\t\tCustomDictionary.add(\"\u529b\u5e06\");\r\n\t\tCustomDictionary.add(\"\u6469\u6839\");\r\n\t\tCustomDictionary.remove(\"\u529b\u5e06\");\r\n\t\tCustomDictionary.remove(\"\u6469\u6839\");\r\n\r\n\u6b64\u65f6\u7a0b\u5e8f\u6267\u884c\u6b63\u5e38\u3002\r\n<!-- \u8bf7\u8be6\u7ec6\u63cf\u8ff0\u95ee\u9898\uff0c\u8d8a\u8be6\u7ec6\u8d8a\u53ef\u80fd\u5f97\u5230\u89e3\u51b3 -->\r\n\r\n## \u590d\u73b0\u95ee\u9898\r\n<!-- \u4f60\u662f\u5982\u4f55\u64cd\u4f5c\u5bfc\u81f4\u4ea7\u751f\u95ee\u9898\u7684\uff1f\u6bd4\u5982\u4fee\u6539\u4e86\u4ee3\u7801\uff1f\u4fee\u6539\u4e86\u8bcd\u5178\u6216\u6a21\u578b\uff1f-->\r\n\r\n### \u6b65\u9aa4\r\n\r\n1. \u9996\u5148\u2026\u2026\r\n2. \u7136\u540e\u2026\u2026\r\n3. \u63a5\u7740\u2026\u2026\r\n\r\n### \u89e6\u53d1\u4ee3\u7801\r\n\r\n```\r\n    public void testIssue1234() throws Exception\r\n    {\r\n        CustomDictionary.add(\"\u7528\u6237\u8bcd\u8bed\");\r\n        System.out.println(StandardTokenizer.segment(\"\u89e6\u53d1\u95ee\u9898\u7684\u53e5\u5b50\"));\r\n    }\r\n```\r\n### \u671f\u671b\u8f93\u51fa\r\n\r\n<!-- \u4f60\u5e0c\u671b\u8f93\u51fa\u4ec0\u4e48\u6837\u7684\u6b63\u786e\u7ed3\u679c\uff1f-->\r\n\r\n```\r\n\u671f\u671b\u8f93\u51fa\r\n```\r\n\r\n### \u5b9e\u9645\u8f93\u51fa\r\n\r\n<!-- HanLP\u5b9e\u9645\u8f93\u51fa\u4e86\u4ec0\u4e48\uff1f\u4ea7\u751f\u4e86\u4ec0\u4e48\u6548\u679c\uff1f\u9519\u5728\u54ea\u91cc\uff1f-->\r\n\r\n```\r\n\u5b9e\u9645\u8f93\u51fa\r\n```\r\n\r\n## \u5176\u4ed6\u4fe1\u606f\r\n\r\n<!-- \u4efb\u4f55\u53ef\u80fd\u6709\u7528\u7684\u4fe1\u606f\uff0c\u5305\u62ec\u622a\u56fe\u3001\u65e5\u5fd7\u3001\u914d\u7f6e\u6587\u4ef6\u3001\u76f8\u5173issue\u7b49\u7b49\u3002-->\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/540/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/540/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/530", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/530/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/530/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/530/events", "html_url": "https://github.com/hankcs/HanLP/issues/530", "id": 228173398, "node_id": "MDU6SXNzdWUyMjgxNzMzOTg=", "number": 530, "title": "stopword\u8bcd\u5178\u52a0\u8f7d\u95ee\u9898", "user": {"login": "cicido", "id": 16183080, "node_id": "MDQ6VXNlcjE2MTgzMDgw", "avatar_url": "https://avatars.githubusercontent.com/u/16183080?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cicido", "html_url": "https://github.com/cicido", "followers_url": "https://api.github.com/users/cicido/followers", "following_url": "https://api.github.com/users/cicido/following{/other_user}", "gists_url": "https://api.github.com/users/cicido/gists{/gist_id}", "starred_url": "https://api.github.com/users/cicido/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cicido/subscriptions", "organizations_url": "https://api.github.com/users/cicido/orgs", "repos_url": "https://api.github.com/users/cicido/repos", "events_url": "https://api.github.com/users/cicido/events{/privacy}", "received_events_url": "https://api.github.com/users/cicido/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 136114037, "node_id": "MDU6TGFiZWwxMzYxMTQwMzc=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/improvement", "name": "improvement", "color": "84b6eb", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-05-12T02:44:16Z", "updated_at": "2017-05-16T02:54:14Z", "closed_at": "2017-05-16T02:54:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "\u6211\u73b0\u5728\u7528\u7684\u662fhanlp 1.3.0\u7248\u672c. \u5728\u5206\u6790CoreStopWordDictionary.java\u53d1\u73b0\u4ee5\u4e0b\u8bcd\u5178\u52a0\u8f7d\u8bed\u53e5\uff1a\r\ndictionary = new StopWordDictionary(new File(HanLP.Config.CoreStopWordDictionaryPath));\r\n\r\n\u4e4b\u524d\u7684\u6838\u5fc3\u8bcd\u5178\uff0c\u7528\u6237\u81ea\u5b9a\u4e49\u8bcd\u5178\u7b49\u5747\u91c7\u7528\u4ee5\u4e0b\u65b9\u5f0f\u3002\u4ee5\u6838\u5fc3\u8bcd\u5178\u4e3a\u4f8b\uff1aCoreDictionary.java\r\nbr = new BufferedReader(new InputStreamReader(IOUtil.newInputStream(path), \"UTF-8\"));\r\n\u662f\u91c7\u7528IOUtil\u7684\u7edf\u4e00\u63a5\u53e3\u3002\r\n\u800cStopWordDictionary\u76f4\u63a5\u4f7f\u7528\u4e86File\u6765\u505a\uff0c\u9020\u6210\u4e86\u4e0d\u7edf\u4e00\u3002\u662f\u5426\u8003\u8651\u5bf9CoreStopWordDictionary\u5efa\u7acb\u7edf\u4e00\u6027\uff1f\r\n\u56e0\u4e3a\u6211\u81ea\u5df1\u5b9a\u4e49\u7684JarIOAdapter.java\uff1a\r\npublic class JarIOAdapter implements IIOAdapter\r\n{\r\n    @Override\r\n    public InputStream open(String path) throws FileNotFoundException\r\n    {\r\n        /*\r\n        \u91c7\u7528\u7b2c\u4e00\u884c\u7684\u65b9\u5f0f\u52a0\u8f7d\u8d44\u6599\u4f1a\u5728\u5206\u5e03\u5f0f\u73af\u5883\u62a5\u9519\r\n        \u6539\u7528\u7b2c\u4e8c\u884c\u7684\u65b9\u5f0f\r\n         */\r\n        //return ClassLoader.getSystemClassLoader().getResourceAsStream(path);\r\n        return JarIOAdapter.class.getClassLoader().getResourceAsStream(path);\r\n    }\r\n\r\n    @Override\r\n    public OutputStream create(String path) throws FileNotFoundException\r\n    {\r\n        return new FileOutputStream(path);\r\n    }\r\n}\r\n\u8fd9\u91cc\u662f\u5b9e\u73b0\u4ee3\u7801\u4e0e\u8bcd\u5178\u6570\u636e\u7684\u5206\u79bb\uff0c\u5355\u72ec\u628ahanlp.properties\u4e0edata\u76ee\u5f55\u505a\u6210\u4e00\u4e2ajar\u3002\u4f46\u7531\u4e8eCoreStopDictionary.java\u8bfb\u6587\u4ef6\u63a5\u53e3\u4e0d\u7edf\u4e00\uff0c\u5bfc\u81f4\u8bfb\u4e0d\u5230\u505c\u7528\u8bcd\u5178\u6587\u4ef6\u3002\r\n\u4f5c\u8005\u662f\u5426\u6709\u610f\u628a\u4ee3\u7801\u4e0e\u8bcd\u5178\u6570\u636e\u5206\u6210\u4e24\u4e2ajar\u5305\uff0c\u6211\u8fd9\u8fb9\u5df2\u5dee\u4e0d\u591a\u5b8c\u6210\uff0c\u53ef\u4ee5\u63d0\u4ea4\u4ee3\u7801", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/530/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/530/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/528", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/528/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/528/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/528/events", "html_url": "https://github.com/hankcs/HanLP/issues/528", "id": 227541999, "node_id": "MDU6SXNzdWUyMjc1NDE5OTk=", "number": 528, "title": "com.hankcs.hanlp.corpus.io.ByteArrayOtherStream.ensureAvailableBytes \u4e2d  int availableBytes = is.available();", "user": {"login": "realgzq", "id": 4182644, "node_id": "MDQ6VXNlcjQxODI2NDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/4182644?v=4", "gravatar_id": "", "url": "https://api.github.com/users/realgzq", "html_url": "https://github.com/realgzq", "followers_url": "https://api.github.com/users/realgzq/followers", "following_url": "https://api.github.com/users/realgzq/following{/other_user}", "gists_url": "https://api.github.com/users/realgzq/gists{/gist_id}", "starred_url": "https://api.github.com/users/realgzq/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/realgzq/subscriptions", "organizations_url": "https://api.github.com/users/realgzq/orgs", "repos_url": "https://api.github.com/users/realgzq/repos", "events_url": "https://api.github.com/users/realgzq/events{/privacy}", "received_events_url": "https://api.github.com/users/realgzq/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-05-10T01:21:23Z", "updated_at": "2017-05-10T17:27:57Z", "closed_at": "2017-05-10T17:25:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n\u8fd9\u662fHanLP\u7684issue\u6a21\u677f\uff0c\u7528\u4e8e\u89c4\u8303\u63d0\u95ee\u9898\u7684\u683c\u5f0f\u3002\u672c\u6765\u5e76\u4e0d\u6253\u7b97\u7528\u6b7b\u677f\u7684\u683c\u5f0f\u9650\u5236\u5927\u5bb6\uff0c\u4f46issue\u533a\u5b9e\u5728\u6709\u70b9\u6df7\u4e71\u3002\u6709\u65f6\u5019\u8bf4\u4e86\u534a\u5929\u624d\u641e\u6e05\u695a\u539f\u6765\u5bf9\u65b9\u7528\u7684\u662f\u65e7\u7248\u3001\u81ea\u5df1\u6539\u4e86\u4ee3\u7801\u4e4b\u7c7b\uff0c\u6d6a\u8d39\u53cc\u65b9\u5b9d\u8d35\u65f6\u95f4\u3002\u6240\u4ee5\u8fd9\u91cc\u7528\u4e00\u4e2a\u89c4\u8303\u7684\u6a21\u677f\u7edf\u4e00\u4e00\u4e0b\uff0c\u9020\u6210\u4e0d\u4fbf\u671b\u6d77\u6db5\u3002\u9664\u4e86\u6ce8\u610f\u4e8b\u9879\u5916\uff0c\u5176\u4ed6\u90e8\u5206\u53ef\u4ee5\u81ea\u884c\u6839\u636e\u5b9e\u9645\u60c5\u51b5\u505a\u9002\u91cf\u4fee\u6539\u3002\r\n-->\r\n\r\n## \u6ce8\u610f\u4e8b\u9879\r\n\u8bf7\u786e\u8ba4\u4e0b\u5217\u6ce8\u610f\u4e8b\u9879\uff1a\r\n\r\n* \u6211\u5df2\u4ed4\u7ec6\u9605\u8bfb\u4e0b\u5217\u6587\u6863\uff0c\u90fd\u6ca1\u6709\u627e\u5230\u7b54\u6848\uff1a\r\n  - [\u9996\u9875\u6587\u6863](https://github.com/hankcs/HanLP)\r\n  - [wiki](https://github.com/hankcs/HanLP/wiki)\r\n  - [\u5e38\u89c1\u95ee\u9898](https://github.com/hankcs/HanLP/wiki/FAQ)\r\n* \u6211\u5df2\u7ecf\u901a\u8fc7[Google](https://www.google.com/#newwindow=1&q=HanLP)\u548c[issue\u533a\u68c0\u7d22\u529f\u80fd](https://github.com/hankcs/HanLP/issues)\u641c\u7d22\u4e86\u6211\u7684\u95ee\u9898\uff0c\u4e5f\u6ca1\u6709\u627e\u5230\u7b54\u6848\u3002\r\n* \u6211\u660e\u767d\u5f00\u6e90\u793e\u533a\u662f\u51fa\u4e8e\u5174\u8da3\u7231\u597d\u805a\u96c6\u8d77\u6765\u7684\u81ea\u7531\u793e\u533a\uff0c\u4e0d\u627f\u62c5\u4efb\u4f55\u8d23\u4efb\u6216\u4e49\u52a1\u3002\u6211\u4f1a\u793c\u8c8c\u53d1\u8a00\uff0c\u5411\u6bcf\u4e00\u4e2a\u5e2e\u52a9\u6211\u7684\u4eba\u8868\u793a\u611f\u8c22\u3002\r\n* [ ] \u6211\u5728\u6b64\u62ec\u53f7\u5185\u8f93\u5165x\u6253\u94a9\uff0c\u4ee3\u8868\u4e0a\u8ff0\u4e8b\u9879\u786e\u8ba4\u5b8c\u6bd5\u3002\r\n\r\n## \u7248\u672c\u53f7\r\n<!-- \u53d1\u884c\u7248\u8bf7\u6ce8\u660ejar\u6587\u4ef6\u540d\u53bb\u6389\u62d3\u5c55\u540d\u7684\u90e8\u5206\uff1bGitHub\u4ed3\u5e93\u7248\u8bf7\u6ce8\u660emaster\u8fd8\u662fportable\u5206\u652f -->\r\n\r\n\u5f53\u524d\u6700\u65b0\u7248\u672c\u53f7\u662f\uff1aportable-1.3.3\r\n\u6211\u4f7f\u7528\u7684\u7248\u672c\u662f\uff1aportable-1.3.2\r\n\r\n\r\n## \u6211\u7684\u95ee\u9898\r\n\r\n\u5728resin\u4e0b\u90e8\u7f72HanLP \u52a0\u8f7d\u8bcd\u5178\u6587\u4ef6\u65f6, \u51fa\u73b0\u7a7a\u6307\u9488\u5f02\u5e38\r\n\r\n\t... 53 more\r\nCaused by: java.lang.NullPointerException\r\n\tat com.hankcs.hanlp.corpus.io.ByteArrayOtherStream.ensureAvailableBytes(ByteArrayOtherStream.java:72)\r\n\tat com.hankcs.hanlp.corpus.io.ByteArrayStream.nextInt(ByteArrayStream.java:56)\r\n\tat com.hankcs.hanlp.collection.trie.DoubleArrayTrie.load(DoubleArrayTrie.java:531)\r\n\tat com.hankcs.hanlp.collection.trie.DoubleArrayTrie.load(DoubleArrayTrie.java:516)\r\n\tat com.hankcs.hanlp.dictionary.common.CommonDictionary.loadDat(CommonDictionary.java:90)\r\n\tat com.hankcs.hanlp.dictionary.common.CommonDictionary.load(CommonDictionary.java:44)\r\n\tat com.hankcs.hanlp.dictionary.nr.PersonDictionary.<clinit>(PersonDictionary.java:57)\r\n\r\n## \u590d\u73b0\u95ee\u9898\r\n\r\n\u6bcf\u6b21\u90fd\u80fd\u590d\u73b0\r\n\r\n### \u6b65\u9aa4\r\n\r\n\u5728resin\u73af\u5883\u4e0b,  \u8c03\u7528\u5982\u4e0b\u4ee3\u7801, \u4f1a\u4ea7\u751f\u5f02\u5e38\r\n        List<com.hankcs.hanlp.seg.common.Term> segment = HanLP.segment(episodeName);\r\n\r\n### \u89e6\u53d1\u4ee3\u7801\r\n\r\ncom.hankcs.hanlp.corpus.io.ByteArrayOtherStream.ensureAvailableBytes(ByteArrayOtherStream.java:72)\r\n\r\n\u7ecf\u8fc7\u8c03\u8bd5, \u53d1\u73b0\u662f\u7531\u4e8eresin\u5bf9InputStream\u7684\u5b9e\u73b0is.available()\u6bcf\u6b21\u6700\u591a\u8bfb\u53d68192\u4e2a\u5b57\u8282, \u800c\u4e0d\u662f\u5c06\u6240\u6709\u7684\u6570\u636e\u90fd\u8bfb\u53d6.  \u7a0b\u5e8f\u7b2c\u4e00\u6b21\u5728\u8bfb\u53d68192\u5b57\u8282, \u6ca1\u6709\u8bfb\u53d6\u5b8c\u6574\u6570\u636e\u7684\u60c5\u51b5\u4e0b, \u5c06InputStream\u6d41\u9519\u8bef\u5173\u95ed, \u7b2c\u4e8c\u6b21\u8bfb\u53d6\u65f6\u62a5\u4e0a\u8ff0\u9519\u8bef\r\n                if (readBytes == availableBytes)\r\n                {\r\n                    is.close();\r\n                    is = null;\r\n                }\r\n\r\n\u4e0b\u9762\u662fInputStream available \u7684\u6587\u6863\r\n /**\r\n     * Returns an estimate of the number of bytes that can be read (or\r\n     * skipped over) from this input stream without blocking by the next\r\n     * invocation of a method for this input stream. The next invocation\r\n     * might be the same thread or another thread.  A single read or skip of this\r\n     * many bytes will not block, but may read or skip fewer bytes.\r\n     *\r\n    * \u8fd9\u91cc\u8bf4\u660e\u4e86\u53ef\u80fd\u4e0d\u4f1a\u8fd4\u56de\u6240\u6709\u5b57\u8282*\r\n     *** <p> Note that while some implementations of {@code InputStream} will return\r\n     * the total number of bytes in the stream, many will not.  It is\r\n     * never correct to use the return value of this method to allocate\r\n     * a buffer intended to hold all data in this stream.**\r\n     *\r\n     * <p> A subclass' implementation of this method may choose to throw an\r\n     * {@link IOException} if this input stream has been closed by\r\n     * invoking the {@link #close()} method.\r\n     *\r\n     * <p> The {@code available} method for class {@code InputStream} always\r\n     * returns {@code 0}.\r\n     *\r\n     * <p> This method should be overridden by subclasses.\r\n     *\r\n     * @return     an estimate of the number of bytes that can be read (or skipped\r\n     *             over) from this input stream without blocking or {@code 0} when\r\n     *             it reaches the end of the input stream.\r\n     * @exception  IOException if an I/O error occurs.\r\n     */\r\n\r\n\u5efa\u8bae\u4ee3\u7801\u4fee\u6539:\r\n              if(is.available()==0)\r\n              {\r\n                    is.close();\r\n                    is = null;\r\n                }\r\n\r\n### \u671f\u671b\u8f93\u51fa\r\n\r\n\r\n### \u5b9e\u9645\u8f93\u51fa\r\n\r\n\r\n## \u5176\u4ed6\u4fe1\u606f\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/528/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/528/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/526", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/526/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/526/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/526/events", "html_url": "https://github.com/hankcs/HanLP/issues/526", "id": 226979171, "node_id": "MDU6SXNzdWUyMjY5NzkxNzE=", "number": 526, "title": "\u53d1\u73b0TextUtility.isAllSingleByte\u7684bug\uff0c\u4e0d\u77e5\u9053\u5206\u8bcd\u8fc7\u7a0b\u4f1a\u8c03\u7528\u5417", "user": {"login": "junphine", "id": 4304230, "node_id": "MDQ6VXNlcjQzMDQyMzA=", "avatar_url": "https://avatars.githubusercontent.com/u/4304230?v=4", "gravatar_id": "", "url": "https://api.github.com/users/junphine", "html_url": "https://github.com/junphine", "followers_url": "https://api.github.com/users/junphine/followers", "following_url": "https://api.github.com/users/junphine/following{/other_user}", "gists_url": "https://api.github.com/users/junphine/gists{/gist_id}", "starred_url": "https://api.github.com/users/junphine/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/junphine/subscriptions", "organizations_url": "https://api.github.com/users/junphine/orgs", "repos_url": "https://api.github.com/users/junphine/repos", "events_url": "https://api.github.com/users/junphine/events{/privacy}", "received_events_url": "https://api.github.com/users/junphine/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-05-08T08:51:37Z", "updated_at": "2017-05-08T12:36:42Z", "closed_at": "2017-05-08T12:36:37Z", "author_association": "NONE", "active_lock_reason": null, "body": " while (i < len && b[i] < 128)\r\n            {\r\n                i++;\r\n            }\r\n\r\n----------------\r\n\r\nb[i] < 128 \u5e94\u8be5\u6539\u6210 b[i] >0.\r\n\r\nbyte\u7684\u53d6\u503c\u8303\u56f4\u662f-128\u5230127 \u548cchar\u4e0d\u4e00\u6837\r\n\r\n\u8fd8\u6709\u6211\u89c9\u5f97\u5e94\u8be5\u6ca1\u5fc5\u8981\u8f6c\u6362\u6210gbk\uff0c\u76f4\u63a5\u7528charAt(i)\u662f\u5426\u5c0f\u4e8e128\u5373\u53ef\u5224\u65ad\u3002\r\n\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/526/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/526/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/522", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/522/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/522/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/522/events", "html_url": "https://github.com/hankcs/HanLP/issues/522", "id": 226527071, "node_id": "MDU6SXNzdWUyMjY1MjcwNzE=", "number": 522, "title": "\u5728\u81ea\u5b9a\u4e49\u8bcd\u5e93\u4e2d\u589e\u52a0\u4e00\u4e2a\u8bcd\u540e\uff0c\u5728\u67d0\u4e9b\u7279\u6b8a\u5b57\u7b26\u4e32\u5206\u8bcd\u65f6\u62a5\u9519ArrayIndexOutOfBoundsException", "user": {"login": "panhaidong", "id": 628235, "node_id": "MDQ6VXNlcjYyODIzNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/628235?v=4", "gravatar_id": "", "url": "https://api.github.com/users/panhaidong", "html_url": "https://github.com/panhaidong", "followers_url": "https://api.github.com/users/panhaidong/followers", "following_url": "https://api.github.com/users/panhaidong/following{/other_user}", "gists_url": "https://api.github.com/users/panhaidong/gists{/gist_id}", "starred_url": "https://api.github.com/users/panhaidong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/panhaidong/subscriptions", "organizations_url": "https://api.github.com/users/panhaidong/orgs", "repos_url": "https://api.github.com/users/panhaidong/repos", "events_url": "https://api.github.com/users/panhaidong/events{/privacy}", "received_events_url": "https://api.github.com/users/panhaidong/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-05-05T10:02:05Z", "updated_at": "2017-05-05T14:08:04Z", "closed_at": "2017-05-05T14:08:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n\u8fd9\u662fHanLP\u7684issue\u6a21\u677f\uff0c\u7528\u4e8e\u89c4\u8303\u63d0\u95ee\u9898\u7684\u683c\u5f0f\u3002\u672c\u6765\u5e76\u4e0d\u6253\u7b97\u7528\u6b7b\u677f\u7684\u683c\u5f0f\u9650\u5236\u5927\u5bb6\uff0c\u4f46issue\u533a\u5b9e\u5728\u6709\u70b9\u6df7\u4e71\u3002\u6709\u65f6\u5019\u8bf4\u4e86\u534a\u5929\u624d\u641e\u6e05\u695a\u539f\u6765\u5bf9\u65b9\u7528\u7684\u662f\u65e7\u7248\u3001\u81ea\u5df1\u6539\u4e86\u4ee3\u7801\u4e4b\u7c7b\uff0c\u6d6a\u8d39\u53cc\u65b9\u5b9d\u8d35\u65f6\u95f4\u3002\u6240\u4ee5\u8fd9\u91cc\u7528\u4e00\u4e2a\u89c4\u8303\u7684\u6a21\u677f\u7edf\u4e00\u4e00\u4e0b\uff0c\u9020\u6210\u4e0d\u4fbf\u671b\u6d77\u6db5\u3002\u9664\u4e86\u6ce8\u610f\u4e8b\u9879\u5916\uff0c\u5176\u4ed6\u90e8\u5206\u53ef\u4ee5\u81ea\u884c\u6839\u636e\u5b9e\u9645\u60c5\u51b5\u505a\u9002\u91cf\u4fee\u6539\u3002\r\n-->\r\n\r\n## \u6ce8\u610f\u4e8b\u9879\r\n\u8bf7\u786e\u8ba4\u4e0b\u5217\u6ce8\u610f\u4e8b\u9879\uff1a\r\n\r\n* \u6211\u5df2\u4ed4\u7ec6\u9605\u8bfb\u4e0b\u5217\u6587\u6863\uff0c\u90fd\u6ca1\u6709\u627e\u5230\u7b54\u6848\uff1a\r\n  - [\u9996\u9875\u6587\u6863](https://github.com/hankcs/HanLP)\r\n  - [wiki](https://github.com/hankcs/HanLP/wiki)\r\n  - [\u5e38\u89c1\u95ee\u9898](https://github.com/hankcs/HanLP/wiki/FAQ)\r\n* \u6211\u5df2\u7ecf\u901a\u8fc7[Google](https://www.google.com/#newwindow=1&q=HanLP)\u548c[issue\u533a\u68c0\u7d22\u529f\u80fd](https://github.com/hankcs/HanLP/issues)\u641c\u7d22\u4e86\u6211\u7684\u95ee\u9898\uff0c\u4e5f\u6ca1\u6709\u627e\u5230\u7b54\u6848\u3002\r\n* \u6211\u660e\u767d\u5f00\u6e90\u793e\u533a\u662f\u51fa\u4e8e\u5174\u8da3\u7231\u597d\u805a\u96c6\u8d77\u6765\u7684\u81ea\u7531\u793e\u533a\uff0c\u4e0d\u627f\u62c5\u4efb\u4f55\u8d23\u4efb\u6216\u4e49\u52a1\u3002\u6211\u4f1a\u793c\u8c8c\u53d1\u8a00\uff0c\u5411\u6bcf\u4e00\u4e2a\u5e2e\u52a9\u6211\u7684\u4eba\u8868\u793a\u611f\u8c22\u3002\r\n* [x] \u6211\u5728\u6b64\u62ec\u53f7\u5185\u8f93\u5165x\u6253\u94a9\uff0c\u4ee3\u8868\u4e0a\u8ff0\u4e8b\u9879\u786e\u8ba4\u5b8c\u6bd5\u3002\r\n\r\n## \u7248\u672c\u53f7\r\n<!-- \u53d1\u884c\u7248\u8bf7\u6ce8\u660ejar\u6587\u4ef6\u540d\u53bb\u6389\u62d3\u5c55\u540d\u7684\u90e8\u5206\uff1bGitHub\u4ed3\u5e93\u7248\u8bf7\u6ce8\u660emaster\u8fd8\u662fportable\u5206\u652f -->\r\n\u4f7f\u7528\u7684Maven\u4ed3\u5e93\uff1a\r\n    <dependency>\r\n      <groupId>com.hankcs</groupId>\r\n      <artifactId>hanlp</artifactId>\r\n      <version>portable-1.3.2</version>\r\n    </dependency>\r\n\r\nJDK1.8.0_20\r\n\u5f53\u524d\u6700\u65b0\u7248\u672c\u53f7\u662f\uff1aportable-1.3.2\r\n\u6211\u4f7f\u7528\u7684\u7248\u672c\u662f\uff1aportable-1.3.2\r\n\r\n## \u6211\u7684\u95ee\u9898\r\n\u589e\u52a0\u81ea\u5b9a\u4e49\u8bcd\u5e93\u4e4b\u540e\uff0c\u5e76\u5f00\u542f\u4eba\u540d\u8bc6\u522b\uff0c\u5728\u67d0\u4e9b\u6587\u672c\u7684\u5206\u8bcd\u65f6\u4f1a\u62a5\u9519ArrayIndexOutOfBoundsException\u3002\r\n\r\n## \u590d\u73b0\u95ee\u9898\r\n\u81ea\u5b9a\u4e49\u8bcd\u5178\u4e2d\u589e\u52a0\u4e00\u4e2a\u8bcd\uff1a\r\nCustomDictionary.add(\"\u7b2c\u4e00\u5b63\", \"n 1\")\r\n\r\n\u5e76\u4e0d\u662f\u6240\u6709\u7684\u8bcd\u90fd\u4f1a\u89e6\u53d1\u8fd9\u4e2aException\uff0c\u540e\u9762\u7684\u4ee3\u7801\u4e2d\u662f\u627e\u5230\u7684\u4e00\u4e2a\u3002\r\n\r\n### \u6b65\u9aa4\r\n\u6267\u884c\u4e0b\u9762\u7684\u89e6\u53d1\u4ee3\u7801\u5373\u53ef\u3002\r\n\r\n### \u89e6\u53d1\u4ee3\u7801\r\n\r\n```\r\n\r\nimport com.hankcs.hanlp.HanLP;\r\nimport com.hankcs.hanlp.dictionary.CustomDictionary;\r\nimport com.hankcs.hanlp.seg.Segment;\r\nimport com.hankcs.hanlp.seg.common.Term;\r\n\r\n\r\nimport java.util.List;\r\n\r\npublic class Main {\r\n    public static void main(String[] args){\r\n        CustomDictionary.add(\"\u7b2c\u4e00\u5b63\", \"n 1\");\r\n\r\n        Segment seg = HanLP.newSegment().enableIndexMode(true)\r\n                .enableNameRecognize(true)\r\n                .enableNumberQuantifierRecognize(false)\r\n                .enableCustomDictionary(true)\r\n                .enableTranslatedNameRecognize(false)\r\n                .enableJapaneseNameRecognize(false)\r\n                .enableOrganizationRecognize(false)\r\n                .enablePlaceRecognize(false);\r\n\r\n        HanLP.Config.enableDebug();\r\n        List<Term> termList = seg.seg(\"\u4e58\u9f99\u602a\u5a7f\u7b2c\u4e00\u5b63\");\r\n        for (Term term : termList)\r\n        {\r\n            System.out.println(term + \" [\" + term.offset + \":\" + (term.offset + term.word.length()) + \"]\");\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n### \u5b9e\u9645\u8f93\u51fa\r\n```\r\nMay 05, 2017 5:55:11 PM com.hankcs.hanlp.dictionary.CoreDictionary load\r\nINFO: \u6838\u5fc3\u8bcd\u5178\u5f00\u59cb\u52a0\u8f7d:data/dictionary/CoreNatureDictionary.mini.txt\r\nMay 05, 2017 5:55:12 PM com.hankcs.hanlp.dictionary.CoreDictionary <clinit>\r\nINFO: data/dictionary/CoreNatureDictionary.mini.txt\u52a0\u8f7d\u6210\u529f\uff0c85585\u4e2a\u8bcd\u6761\uff0c\u8017\u65f6232ms\r\n\u7c97\u5206\u8bcd\u7f51\uff1a\r\n0:[ ]\r\n1:[\u4e58]\r\n2:[\u9f99]\r\n3:[\u602a]\r\n4:[\u5a7f]\r\n5:[\u7b2c, \u7b2c\u4e00]\r\n6:[]\r\n7:[\u5b63]\r\n8:[ ]\r\n\r\nMay 05, 2017 5:55:12 PM com.hankcs.hanlp.dictionary.CoreBiGramTableDictionary <clinit>\r\nINFO: \u5f00\u59cb\u52a0\u8f7d\u4e8c\u5143\u8bcd\u5178data/dictionary/CoreNatureDictionary.ngram.mini.txt.table\r\n\u7c97\u5206\u7ed3\u679c[\u4e58/v, \u9f99/n, \u602a/a, \u5a7f/ng, \u7b2c\u4e00\u5b63/n]\r\nMay 05, 2017 5:55:12 PM com.hankcs.hanlp.dictionary.CoreBiGramTableDictionary <clinit>\r\nINFO: data/dictionary/CoreNatureDictionary.ngram.mini.txt.table\u52a0\u8f7d\u6210\u529f\uff0c\u8017\u65f6136ms\r\nMay 05, 2017 5:55:12 PM com.hankcs.hanlp.dictionary.common.CommonDictionary load\r\nINFO: \u52a0\u8f7d\u503cdata/dictionary/person/nr.txt.value.dat\u6210\u529f\uff0c\u8017\u65f664ms\r\nMay 05, 2017 5:55:12 PM com.hankcs.hanlp.dictionary.common.CommonDictionary load\r\nINFO: \u52a0\u8f7d\u952edata/dictionary/person/nr.txt.trie.dat\u6210\u529f\uff0c\u8017\u65f678ms\r\nMay 05, 2017 5:55:12 PM com.hankcs.hanlp.dictionary.nr.PersonDictionary <clinit>\r\nINFO: data/dictionary/person/nr.txt\u52a0\u8f7d\u6210\u529f\uff0c\u8017\u65f6274ms\r\n\u4eba\u540d\u89d2\u8272\u89c2\u5bdf\uff1a[  A 22202445 ][\u4e58 K 15 C 7 L 5 E 1 M 1 ][\u9f99 D 1350 E 924 B 498 C 325 L 17 M 8 K 1 ][\u602a D 10 E 1 K 1 L 1 ][\u5a7f E 2 K 1 ][\u7b2c\u4e00\u5b63 K 1 U 1 ][  A 22202445 ]\r\n\u4eba\u540d\u89d2\u8272\u6807\u6ce8\uff1a[ /A ,\u4e58/K ,\u9f99/B ,\u602a/E ,\u5a7f/E ,\u7b2c\u4e00\u5b63/U , /A]\r\n\u8bc6\u522b\u51fa\u4eba\u540d\uff1a\u9f99\u602a BE\r\n\u8bc6\u522b\u51fa\u4eba\u540d\uff1a\u602a\u5a7f EE\r\n\u8bc6\u522b\u51fa\u4eba\u540d\uff1a\u9f99\u602a\u5a7f BEE\r\nException in thread \"main\" java.lang.ArrayIndexOutOfBoundsException: 9\r\n\tat com.hankcs.hanlp.seg.Viterbi.ViterbiSegment.viterbi(ViterbiSegment.java:142)\r\n\tat com.hankcs.hanlp.seg.Viterbi.ViterbiSegment.segSentence(ViterbiSegment.java:103)\r\n\tat com.hankcs.hanlp.seg.Segment.seg(Segment.java:558)\r\n\tat com.douban.solr.Main.main(Main.java:25)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:483)\r\n\tat com.intellij.rt.execution.application.AppMain.main(AppMain.java:144)\r\n\r\n```\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/522/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/522/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/513", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/513/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/513/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/513/events", "html_url": "https://github.com/hankcs/HanLP/issues/513", "id": 225585216, "node_id": "MDU6SXNzdWUyMjU1ODUyMTY=", "number": 513, "title": "\u7d22\u5f15\u5206\u8bcd\u51fa\u73b0\u4e86\u91cd\u590d\u7684\u8bcd", "user": {"login": "gxy0451", "id": 5125893, "node_id": "MDQ6VXNlcjUxMjU4OTM=", "avatar_url": "https://avatars.githubusercontent.com/u/5125893?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gxy0451", "html_url": "https://github.com/gxy0451", "followers_url": "https://api.github.com/users/gxy0451/followers", "following_url": "https://api.github.com/users/gxy0451/following{/other_user}", "gists_url": "https://api.github.com/users/gxy0451/gists{/gist_id}", "starred_url": "https://api.github.com/users/gxy0451/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gxy0451/subscriptions", "organizations_url": "https://api.github.com/users/gxy0451/orgs", "repos_url": "https://api.github.com/users/gxy0451/repos", "events_url": "https://api.github.com/users/gxy0451/events{/privacy}", "received_events_url": "https://api.github.com/users/gxy0451/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-05-02T04:01:14Z", "updated_at": "2017-05-02T05:05:52Z", "closed_at": "2017-05-02T05:05:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "hi hankcs\uff0c\u6709\u4e2a\u95ee\u9898\u8fd8\u9700\u8981\u9ebb\u70e6\u4f60\uff0c\u5173\u4e8e\u8fd9\u4e2a\u95ee\u9898\u6211\u770b\u4e86\u4e0b\u4ee3\u7801\uff0c\u4f46\u5177\u4f53\u7b97\u6cd5\u6ca1\u5f04\u61c2\u3002\r\n## \u7248\u672c\u53f7\r\nmaster\u5206\u652f\r\n\u5f53\u524d\u6700\u65b0\u7248\u672c\u53f7\u662f\uff1ad37f97c8d54acda7ca1c6a8baae5cf0ebbd6a775\r\n\u6211\u4f7f\u7528\u7684\u7248\u672c\u662f\uff1ad37f97c8d54acda7ca1c6a8baae5cf0ebbd6a775\r\n\r\n\r\n## \u6211\u7684\u95ee\u9898\r\n\u7d22\u5f15\u5206\u8bcd\u51fa\u73b0\u4e86\u91cd\u590d\u7684\u8bcd\r\n\r\n## \u590d\u73b0\u95ee\u9898\r\n\r\n### \u89e6\u53d1\u4ee3\u7801\r\n\r\n```\r\n        List<Term> termList = IndexTokenizer.segment(\"\u5357\u4eac\u5e02\u957f\u6c5f\u5927\u6865\");\r\n        for (Term term : termList)\r\n        {\r\n            System.out.println(term + \" [\" + term.offset + \":\" + (term.offset + term.word.length()) + \"]\");\r\n        }\r\n```\r\n\r\n### \u5b9e\u9645\u8f93\u51fa\r\n\u51fa\u73b0\u4e86\u4e24\u4e2a\u957f\u6c5f\u5927\u6865\r\n```\r\n\u5357\u4eac\u5e02/ns [0:3]\r\n\u5357\u4eac/ns [0:2]\r\n\u957f\u6c5f\u5927\u6865/nz [1:5]\r\n\u5e02\u957f/nnt [2:4]\r\n\u957f\u6c5f\u5927\u6865/nz [3:7]\r\n\u957f\u6c5f/ns [3:5]\r\n\u5927\u6865/n [5:7]\r\n```\r\n\r\n## \u5176\u4ed6\u4fe1\u606f\r\n\r\n\u770b\u4e86\u4e0b\u4ee3\u7801\uff0c\u662f\u5728ViterbiSegment\u8fd9\u4e2a\u7c7b\u768456\u884c\uff0c\u8c03\u7528\u8fd9\u4e2a\u65b9\u6cd5\u540e\u5bfc\u81f4\u7684combineByCustomDictionary(vertexList, wordNetAll);\r\n\u8c03\u7528\u5b8c\u540e\uff0c\u8bcd\u56fe\u8c8c\u4f3c\u5c31\u6709\u95ee\u9898\u4e86\r\n![qq20170502-115123](https://cloud.githubusercontent.com/assets/5125893/25603470/a55b1b3e-2f2e-11e7-8751-529a30eecafe.jpg)\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/513/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/513/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/358", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/358/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/358/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/358/events", "html_url": "https://github.com/hankcs/HanLP/issues/358", "id": 192749129, "node_id": "MDU6SXNzdWUxOTI3NDkxMjk=", "number": 358, "title": "WordNet\u6570\u7ec4\u8d8a\u754c\u5f02\u5e38", "user": {"login": "chenying99", "id": 4742305, "node_id": "MDQ6VXNlcjQ3NDIzMDU=", "avatar_url": "https://avatars.githubusercontent.com/u/4742305?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chenying99", "html_url": "https://github.com/chenying99", "followers_url": "https://api.github.com/users/chenying99/followers", "following_url": "https://api.github.com/users/chenying99/following{/other_user}", "gists_url": "https://api.github.com/users/chenying99/gists{/gist_id}", "starred_url": "https://api.github.com/users/chenying99/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chenying99/subscriptions", "organizations_url": "https://api.github.com/users/chenying99/orgs", "repos_url": "https://api.github.com/users/chenying99/repos", "events_url": "https://api.github.com/users/chenying99/events{/privacy}", "received_events_url": "https://api.github.com/users/chenying99/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-12-01T03:59:14Z", "updated_at": "2016-12-01T04:42:20Z", "closed_at": "2016-12-01T04:42:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "\u5927\u795e\u597d \u6211\u4ecegit\u4e0aclone\u4e86\u4eca\u5929\u7684\u7248\u672c\uff0c\u6628\u5929\u90a3\u591a\u7ebf\u7a0b\u5f02\u5e38\u6ca1\u51fa\u73b0\r\n\u4eca\u5929\u629b\u51fa\u4e00\u4e2a\u66f4\u91cd\u5927\u7684Exception\r\n\r\njava.lang.ArrayIndexOutOfBoundsException: 43\r\n\tat com.hankcs.hanlp.seg.common.WordNet.get(WordNet.java:214)\r\n\tat com.hankcs.hanlp.seg.common.WordNet.insert(WordNet.java:166)\r\n\tat com.hankcs.hanlp.dictionary.nt.OrganizationDictionary$1.hit(OrganizationDictionary.java:3777)\r\n\tat com.hankcs.hanlp.dictionary.nt.OrganizationDictionary$1.hit(OrganizationDictionary.java:3754)\r\n\tat com.hankcs.hanlp.collection.AhoCorasick.AhoCorasickDoubleArrayTrie.parseText(AhoCorasickDoubleArrayTrie.java:101)\r\n\tat com.hankcs.hanlp.dictionary.nt.OrganizationDictionary.parsePattern(OrganizationDictionary.java:3753)\r\n\tat com.hankcs.hanlp.recognition.nt.OrganizationRecognition.Recognition(OrganizationRecognition.java:70)\r\n\tat com.hankcs.hanlp.seg.Viterbi.ViterbiSegment.segSentence(ViterbiSegment.java:99)\r\n\tat com.hankcs.hanlp.seg.Segment.seg(Segment.java:558)\r\n\r\n\r\n\u6267\u884c\u4ee3\u7801\uff1a\r\n\r\npublic static void main(String[] args) {\r\n\t\t\r\n\t\tString str=\"\u53d7\u7ea6\u675f\uff0c\u9700\u8981\u9075\u5b88\u5fc3\u7406\u5b66\u4f1a\u6240\u5b9a\u7684\u9053\u5fb7\u539f\u5219\uff0c\u6240\u9700\u8981\u65f6\u987b\u8bf4\u660e\u8be5\u5b9e\u9a8c\u4e0e\u6240\u80fd\u5f97\u5230\u7684\u77e5\u8bc6\u7684\u5173\u7cfb\";\r\n\t\t\r\n\t\tSegment defaultSegment = StandardTokenizer.SEGMENT\r\n\t\t\t\t.enablePartOfSpeechTagging(true).enableOffset(true)\r\n\t\t\t\t.enableNameRecognize(true).enablePlaceRecognize(true)\r\n\t\t\t\t.enableOrganizationRecognize(true);\r\n\t\t\r\n\t\ttry {\r\n\t\t\tList<Term> list = defaultSegment.seg(str);\r\n\t\t} catch (Exception e) {\r\n\t\t\t// TODO: handle exception\r\n\t\t\t\r\n\t\t\te.printStackTrace();\r\n\t\t\tLOGGER.error(\"\u5206\u8bcd\u5f02\u5e38\",e);\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t}\r\n", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/358/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/358/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/357", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/357/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/357/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/357/events", "html_url": "https://github.com/hankcs/HanLP/issues/357", "id": 192482157, "node_id": "MDU6SXNzdWUxOTI0ODIxNTc=", "number": 357, "title": "Trie\u629b\u51fanullpoint\u5f02\u5e38", "user": {"login": "chenying99", "id": 4742305, "node_id": "MDQ6VXNlcjQ3NDIzMDU=", "avatar_url": "https://avatars.githubusercontent.com/u/4742305?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chenying99", "html_url": "https://github.com/chenying99", "followers_url": "https://api.github.com/users/chenying99/followers", "following_url": "https://api.github.com/users/chenying99/following{/other_user}", "gists_url": "https://api.github.com/users/chenying99/gists{/gist_id}", "starred_url": "https://api.github.com/users/chenying99/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chenying99/subscriptions", "organizations_url": "https://api.github.com/users/chenying99/orgs", "repos_url": "https://api.github.com/users/chenying99/repos", "events_url": "https://api.github.com/users/chenying99/events{/privacy}", "received_events_url": "https://api.github.com/users/chenying99/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2016-11-30T05:57:58Z", "updated_at": "2016-12-01T00:46:17Z", "closed_at": "2016-12-01T00:46:05Z", "author_association": "NONE", "active_lock_reason": null, "body": " \u5927\u795e\u597d\uff0c\u6211\u8c03\u7528hanlp\u5206\u8bcd\u65f6\uff0c \u629b\u51fa\u5982\u4e0b\u5f02\u5e38\uff1a\r\n\r\njava.lang.NullPointerException\r\n\tat com.hankcs.hanlp.algoritm.ahocorasick.trie.Trie.getState(Trie.java:212)\r\n\tat com.hankcs.hanlp.algoritm.ahocorasick.trie.Trie.parseText(Trie.java:140)\r\n\tat com.hankcs.hanlp.dictionary.nt.OrganizationDictionary.parsePattern(OrganizationDictionary.java:3749)\r\n\tat com.hankcs.hanlp.recognition.nt.OrganizationRecognition.Recognition(OrganizationRecognition.java:70)\r\n\tat com.hankcs.hanlp.seg.Viterbi.ViterbiSegment.segSentence(ViterbiSegment.java:97)\r\n\tat com.hankcs.hanlp.seg.Segment.seg(Segment.java:466)\r\n\t\r\n\u3010\u6d4b\u8bd5\u65f6\uff0c\u5982\u679c\u4e0d\u5f00\u542f\u547d\u540d\u5b9e\u4f53\u8bc6\u522b\u529f\u80fd\uff0c\u5219\u6b63\u5e38\u8fd0\u884c\u3011\r\n\r\n\u6211\u6d4b\u8bd5\u65f6\uff0c\u6253\u5370\u51fa\u6765\u662f\u4e0b\u9762\u7684\u5730\u65b9 currentState\u4e3anull\r\n\r\n\r\n/**\r\n     * \u8df3\u8f6c\u5230\u4e0b\u4e00\u4e2a\u72b6\u6001\r\n     *\r\n     * @param currentState \u5f53\u524d\u72b6\u6001\r\n     * @param character    \u63a5\u53d7\u5b57\u7b26\r\n     * @return \u8df3\u8f6c\u7ed3\u679c\r\n     */\r\n    private static State getState(State currentState, Character character)\r\n    {\r\n    \t\r\n        State newCurrentState = currentState.nextState(character);  // \u5148\u6309success\u8df3\u8f6c\r\n        while (newCurrentState == null) // \u8df3\u8f6c\u5931\u8d25\u7684\u8bdd\uff0c\u6309failure\u8df3\u8f6c\r\n        {\r\n        \t\r\n            currentState = currentState.failure();\r\n\r\n      **//\u8fd9\u91cc\u6211\u6253\u5370\u51fa currentState\u4e3anullpoint**\r\n           \r\n            newCurrentState = currentState.nextState(character);\r\n        }\r\n       \r\n        return newCurrentState;\r\n    }\r\n\r\n\r\n\u6211\u7684\u8c03\u7528\u65b9\u5f0f\u8fd9\u8fd9\u6837\u7684\uff1a\r\n\r\npublic HanlpTokenizer(String text) {\r\n\t\t//tokenizer = new StringTokenizer(tokens);\r\n\t\t//System.out.println(\"\u5f53\u524d\u6587\u672c:\"+text);\r\n\t\t\r\n\t\t//System.out.println(\"\u6784\u9020\u51fd\u6570\");\r\n\t\ttokens = new ArrayList<String>();\r\n\t\t\r\n\t\t\r\n\t\tSegment defaultSegment = StandardTokenizer.SEGMENT\r\n\t\t\t\t.enablePartOfSpeechTagging(true).enableOffset(true)\r\n\t\t\t\t.enableNameRecognize(true).enablePlaceRecognize(true)\r\n\t\t\t\t.enableOrganizationRecognize(true);\r\n\t\t\r\n\t\tif(text!=null&&text.trim().length()>0)\r\n\t\t{\r\n\t\t\t//System.out.println(text);\r\n\t\t\t//List<Term> list=null;\r\n\t\t\ttry {\r\n\t\t\t\t//System.out.println(\"\u8f93\u5165\uff1a\"+text);\r\n\t\t\t\tList<Term> list = defaultSegment.seg(text);\r\n\t\t\t\t//System.out.println(list);\t\t\t\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\t// TODO: handle exception\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t\tSystem.out.println(text);\r\n\t\t\t\t\r\n\t\t\t\t//System.out.println(e);\r\n\t\t\t}\r\n\t\t}\t\t\r\n\t\t\r\n\t}\r\n\r\n\r\n\r\n\u6700\u5916\u5c42\u662f\u5728\u591a\u7ebf\u7a0b\u91cc\u9762\u8c03\u7528\u7684 \u8c22\u8c22", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/357/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/357/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/322", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/322/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/322/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/322/events", "html_url": "https://github.com/hankcs/HanLP/issues/322", "id": 182166599, "node_id": "MDU6SXNzdWUxODIxNjY1OTk=", "number": 322, "title": "portable-1.2.11\u7248\u672c\u201c\u5de5\u4fe1\u5904\u201d\u5728index\u6a21\u5f0f\u5206\u8bcd\u5206\u6210\u201c\u5de5\u4fe1\u5904/n \u5de5\u4fe1\u5904/nt\u201d", "user": {"login": "konghuarukhr", "id": 3415315, "node_id": "MDQ6VXNlcjM0MTUzMTU=", "avatar_url": "https://avatars.githubusercontent.com/u/3415315?v=4", "gravatar_id": "", "url": "https://api.github.com/users/konghuarukhr", "html_url": "https://github.com/konghuarukhr", "followers_url": "https://api.github.com/users/konghuarukhr/followers", "following_url": "https://api.github.com/users/konghuarukhr/following{/other_user}", "gists_url": "https://api.github.com/users/konghuarukhr/gists{/gist_id}", "starred_url": "https://api.github.com/users/konghuarukhr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/konghuarukhr/subscriptions", "organizations_url": "https://api.github.com/users/konghuarukhr/orgs", "repos_url": "https://api.github.com/users/konghuarukhr/repos", "events_url": "https://api.github.com/users/konghuarukhr/events{/privacy}", "received_events_url": "https://api.github.com/users/konghuarukhr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-10-11T03:44:21Z", "updated_at": "2016-10-11T04:01:25Z", "closed_at": "2016-10-11T04:01:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "\u8bf7\u95ee\u4e00\u4e0b\uff0c\u4e3a\u4ec0\u4e48\u4f1a\u5206\u51fa\u6765\u4e24\u4e2a\u4e0d\u540c\u8bcd\u6027\u7684\u8bcd\uff1f\u800c\u4e14\u6211\u770b\u8bcd\u5178\u4e5f\u6ca1\u627e\u5230\u5de5\u4fe1\u5904\u8bcd\u6027\u4e3an\u7684\u8bcd\u6761\u3002\n", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/322/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/322/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/290", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/290/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/290/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/290/events", "html_url": "https://github.com/hankcs/HanLP/issues/290", "id": 169279759, "node_id": "MDU6SXNzdWUxNjkyNzk3NTk=", "number": 290, "title": "\u6c42\u52a9\uff1aViterbiSegment\u4e2a\u522b\u53e5\u5b50\u673a\u6784\u8bc6\u522b\u5f02\u5e38\uff0c\u62a5NoSuchElementException", "user": {"login": "flystarhe", "id": 5718508, "node_id": "MDQ6VXNlcjU3MTg1MDg=", "avatar_url": "https://avatars.githubusercontent.com/u/5718508?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flystarhe", "html_url": "https://github.com/flystarhe", "followers_url": "https://api.github.com/users/flystarhe/followers", "following_url": "https://api.github.com/users/flystarhe/following{/other_user}", "gists_url": "https://api.github.com/users/flystarhe/gists{/gist_id}", "starred_url": "https://api.github.com/users/flystarhe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flystarhe/subscriptions", "organizations_url": "https://api.github.com/users/flystarhe/orgs", "repos_url": "https://api.github.com/users/flystarhe/repos", "events_url": "https://api.github.com/users/flystarhe/events{/privacy}", "received_events_url": "https://api.github.com/users/flystarhe/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2016-08-04T02:50:52Z", "updated_at": "2018-04-13T06:00:24Z", "closed_at": "2016-08-04T04:07:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\nval txt = \"\u800c\u5176\u4ed6\u80a2\u89e3\u51fa\u53bb\u7684\u4e03\u4e2a\u8d1d\u5c14\u516c\u53f8\u5982\u897f\u5357\u8d1d\u5c14\u3001\u592a\u5e73\u6d0b\u8d1d\u5c14\u3001\u5927\u897f\u6d0b\u8d1d\u5c14\u3001\u5357\u65b9\u8d1d\u5c14\u7b49\u53ea\u80fd\u7ecf\u8425\u77ed\u9014\u7535\u8bdd\u4e1a\u52a1\u3002\"\nval seg_viterbi = new ViterbiSegment().enablePartOfSpeechTagging(true).enableOffset(true).enableNameRecognize(true).enablePlaceRecognize(true).enableOrganizationRecognize(true).enableNumberQuantifierRecognize(true)\nprintln(seg_viterbi.seg(txt))\n```\n\n```\nException in thread \"main\" java.util.NoSuchElementException\n    at java.util.LinkedList.getFirst(LinkedList.java:244)\n    at com.hankcs.hanlp.seg.Viterbi.ViterbiSegment.viterbi(ViterbiSegment.java:127)\n    at com.hankcs.hanlp.seg.Viterbi.ViterbiSegment.segSentence(ViterbiSegment.java:90)\n    at com.hankcs.hanlp.seg.Segment.seg(Segment.java:401)\n    at cn.com.cetc.lab.test.TestMulti$.main(TestMulti.scala:17)\n    at cn.com.cetc.lab.test.TestMulti.main(TestMulti.scala)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at com.intellij.rt.execution.application.AppMain.main(AppMain.java:144)\n```\n\n\u770b\u4e86\u4ee3\u7801\uff0c\u6ca1\u592a\u770b\u660e\u767d\uff0c\u4e0d\u77e5\u9053\u54ea\u513f\u7684\u95ee\u9898\u3002\u4e00\u822c\u53e5\u5b50\u6ca1\u6709\u95ee\u9898\uff0c\u4e2a\u522b\u53e5\u5b50\u4f1a\u8fd9\u6837\u3002\n", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/290/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/290/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/287", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/287/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/287/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/287/events", "html_url": "https://github.com/hankcs/HanLP/issues/287", "id": 169057526, "node_id": "MDU6SXNzdWUxNjkwNTc1MjY=", "number": 287, "title": "CRFSegment\u7684\u5b57\u7b26\u6b63\u89c4\u5316\u8868\u52a0\u8f7d\u5931\u8d25", "user": {"login": "tigerich", "id": 4729088, "node_id": "MDQ6VXNlcjQ3MjkwODg=", "avatar_url": "https://avatars.githubusercontent.com/u/4729088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tigerich", "html_url": "https://github.com/tigerich", "followers_url": "https://api.github.com/users/tigerich/followers", "following_url": "https://api.github.com/users/tigerich/following{/other_user}", "gists_url": "https://api.github.com/users/tigerich/gists{/gist_id}", "starred_url": "https://api.github.com/users/tigerich/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tigerich/subscriptions", "organizations_url": "https://api.github.com/users/tigerich/orgs", "repos_url": "https://api.github.com/users/tigerich/repos", "events_url": "https://api.github.com/users/tigerich/events{/privacy}", "received_events_url": "https://api.github.com/users/tigerich/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-08-03T06:26:53Z", "updated_at": "2016-08-03T06:41:43Z", "closed_at": "2016-08-03T06:41:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "\u4e0b\u9762\u8fd9\u884c\u4ee3\u7801\n`ObjectInputStream in = new ObjectInputStream(new FileInputStream(HanLP.Config.CharTablePath));\n`\n\u76f4\u63a5\u5bfc\u81f4\u4e86\u4e0b\u9762\u95ee\u9898\uff1a\n\n```\nAug 03, 2016 2:12:18 PM com.hankcs.hanlp.seg.CRF.CRFSegment$CharTable <clinit>\nSEVERE: \u5b57\u7b26\u6b63\u89c4\u5316\u8868\u52a0\u8f7d\u5931\u8d25\uff0c\u539f\u56e0\u5982\u4e0b\uff1a\njava.io.StreamCorruptedException: invalid stream header: 003D200A\n    at java.io.ObjectInputStream.readStreamHeader(ObjectInputStream.java:806)\n    at java.io.ObjectInputStream.<init>(ObjectInputStream.java:299)\n    at com.hankcs.hanlp.seg.CRF.CRFSegment$CharTable.<clinit>(CRFSegment.java:370)\n    at com.hankcs.hanlp.seg.CRF.CRFSegment.segSentence(CRFSegment.java:47)\n    at com.hankcs.hanlp.seg.Segment.seg(Segment.java:454)\n    at com.hankcs.demo.DemoCRFSegment.main(DemoCRFSegment.java:62)\n```\n\n\u8bf7\u5e2e\u5fd9\u67e5\u770b\u4e00\u4e0b\u3002\n", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/287/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/287/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/234", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/234/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/234/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/234/events", "html_url": "https://github.com/hankcs/HanLP/issues/234", "id": 159617624, "node_id": "MDU6SXNzdWUxNTk2MTc2MjQ=", "number": 234, "title": "\u81ea\u5b9a\u4e49\u8bcd\u5178\u5220\u9664\u8bcd\u8bed\u5931\u6548", "user": {"login": "scjiaer", "id": 9098597, "node_id": "MDQ6VXNlcjkwOTg1OTc=", "avatar_url": "https://avatars.githubusercontent.com/u/9098597?v=4", "gravatar_id": "", "url": "https://api.github.com/users/scjiaer", "html_url": "https://github.com/scjiaer", "followers_url": "https://api.github.com/users/scjiaer/followers", "following_url": "https://api.github.com/users/scjiaer/following{/other_user}", "gists_url": "https://api.github.com/users/scjiaer/gists{/gist_id}", "starred_url": "https://api.github.com/users/scjiaer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/scjiaer/subscriptions", "organizations_url": "https://api.github.com/users/scjiaer/orgs", "repos_url": "https://api.github.com/users/scjiaer/repos", "events_url": "https://api.github.com/users/scjiaer/events{/privacy}", "received_events_url": "https://api.github.com/users/scjiaer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-06-10T11:45:21Z", "updated_at": "2016-06-12T07:00:51Z", "closed_at": "2016-06-12T07:00:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "\u4f60\u597d\uff0c\u5728\u4f7f\u7528\u81ea\u5b9a\u4e49\u8bcd\u5178\u7684\u4f8b\u5b50\u65f6\uff0c\u53d1\u73b0\u5982\u4e0b\u95ee\u9898\uff1a\n\u52a0\u5165\u81ea\u5b9a\u4e49\u8bcd\u7ec4\u80fd\u591f\u4f7f\u539f\u5148\u88ab\u5206\u5272\u5f00\u7684\u56fa\u5b9a\u642d\u914d\u4fdd\u6301\u6574\u4f53\u4e0d\u5207\u5206\uff0c\u4f46\u662f\u5982\u679c\u4e4b\u540e\u518d\u4f7f\u7528remove\u7b49\u65b9\u6cd5\u79fb\u9664\u8be5\u7ec4\u5408\uff0c\u90a3\u4e48\u5c06\u4e0d\u8d77\u4f5c\u7528\u3002\n\n```\n    import com.hankcs.hanlp.HanLP;\n    import com.hankcs.hanlp.dictionary.CustomDictionary;\n\n    public class DemoCustomDictionary {\n      public static void main(String[] args) {\n        String customTerm = \"\u653b\u57ce\u72ee\";\n        String text = \"\u653b\u57ce\u72ee\u9006\u88ad\u5355\u8eab\u72d7\uff0c\u8fce\u5a36\u767d\u5bcc\u7f8e\uff0c\u8d70\u4e0a\u4eba\u751f\u5dc5\u5cf0\";\n        System.out.println(\"\u539f\u59cb\u5206\u8bcd\u7ed3\u679c\");\n        System.out.println(\"CustomDictionary.get(customTerm)=\" + CustomDictionary.get(customTerm));\n        System.out.println(HanLP.segment(text));\n        // \u52a8\u6001\u589e\u52a0\n        CustomDictionary.add(customTerm);\n        System.out.println(\"\u6dfb\u52a0\u81ea\u5b9a\u4e49\u8bcd\u7ec4\u5206\u8bcd\u7ed3\u679c\");\n        System.out.println(\"CustomDictionary.get(customTerm)=\" + CustomDictionary.get(customTerm));\n        System.out.println(HanLP.segment(text));\n        // \u5220\u9664\u8bcd\u8bed\n        CustomDictionary.remove(customTerm);\n        System.out.println(\"\u5220\u9664\u81ea\u5b9a\u4e49\u8bcd\u7ec4\u5206\u8bcd\u7ed3\u679c\");\n        System.out.println(\"CustomDictionary.get(customTerm)=\" + CustomDictionary.get(customTerm));\n        System.out.println(HanLP.segment(text));\n      }\n    }\n```\n\n\u6700\u540e\u8f93\u51fa\u7ed3\u679c\n\n```\n  \u539f\u59cb\u5206\u8bcd\u7ed3\u679c\n  CustomDictionary.get(customTerm)=null\n  [\u653b\u57ce/vi, \u72ee/ng, \u9006\u88ad/nz, \u5355\u8eab/n, \u72d7/n, \uff0c/w, \u8fce\u5a36/v, \u767d\u5bcc\u7f8e/nr, \uff0c/w, \u8d70\u4e0a/v, \u4eba\u751f/n, \u5dc5\u5cf0/n]\n  \u6dfb\u52a0\u81ea\u5b9a\u4e49\u8bcd\u7ec4\u5206\u8bcd\u7ed3\u679c\n  CustomDictionary.get(customTerm)=nz 1 \n  [\u653b\u57ce\u72ee/nz, \u9006\u88ad/nz, \u5355\u8eab/n, \u72d7/n, \uff0c/w, \u8fce\u5a36/v, \u767d\u5bcc\u7f8e/nr, \uff0c/w, \u8d70\u4e0a/v, \u4eba\u751f/n, \u5dc5\u5cf0/n]\n  \u5220\u9664\u81ea\u5b9a\u4e49\u8bcd\u7ec4\u5206\u8bcd\u7ed3\u679c\n  CustomDictionary.get(customTerm)=null\n  [\u653b\u57ce\u72ee/nz, \u9006\u88ad/nz, \u5355\u8eab/n, \u72d7/n, \uff0c/w, \u8fce\u5a36/v, \u767d\u5bcc\u7f8e/nr, \uff0c/w, \u8d70\u4e0a/v, \u4eba\u751f/n, \u5dc5\u5cf0/n]\n```\n\n\u60f3\u95ee\u4e0b\u662f\u4e0d\u5141\u8bb8\u8fd9\u79cd\u4e34\u65f6\u6027\u64cd\u4f5c\u5417\u8fd8\u662f\u53e6\u6709\u5176\u4ed6\uff1f\n\n\u53e6\u5916\uff0cHanLP\u662f\u5426\u652f\u6301\u7528\u6237\u81ea\u5b9a\u4e49\u5206\u8bcd\u7ed3\u679c(\u5df2\u7ecf\u8fc7\u4eba\u4e3a\u5206\u8bcd\u7684\u8bed\u53e5\u4e4b\u95f4\u4f7f\u7528\u7a7a\u683c\u6216\u8005###\u7b49\u7279\u6b8a\u7b26\u53f7\u95f4\u9694)\uff0c\u7136\u540e\u901a\u8fc7\u4e00\u79cd\u7279\u5b9a\u7684Tokenizer\u5206\u5272\u6210\u6570\u7ec4\u5f62\u5f0f\u7136\u540e\u4f20\u5165Segment\u8fdb\u884cPOS\u5206\u6790\u3002\n\u6bd4\u5982\u8fd9\u53e5`\u6211\u5f88\u60f3\u8981\u4e2a\u5b9d\u5b9d,\u4f46\u89c9\u5f97\u597d\u96be\u624d\u6709,\u65e9\u4e8c\u4e2a\u6708\u6000\u4e0a\u4e86,\u4f46\u6d41\u53bb\u4e86`\uff0c\n\u5047\u8bbe\"\u6b63\u786e\"\u7684\u5206\u8bcd\u7ed3\u679c\u4e3a\n`\u6211 \u5f88 \u60f3 \u8981 \u4e2a \u5b9d\u5b9d , \u4f46 \u89c9\u5f97 \u597d\u96be \u624d \u6709 , \u65e9 \u4e8c\u4e2a\u6708 \u6000\u4e0a \u4e86 , \u4f46 \u6d41\u53bb \u4e86`\uff0c\u4e0d\u77e5\u9053\u8be5\u5982\u4f55\u5728HanLP\u64cd\u4f5c\u5f97\u5230\u5206\u6790\u7ed3\u679c\u7b49\n\n\u611f\u8c22\uff01\n\n\u8fd0\u884c\u73af\u5883\nHanLP v1.2.9 \nUbuntu 14.04 x86_64\nJDK 1.8.0_73\n", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/234/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/234/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/230", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/230/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/230/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/230/events", "html_url": "https://github.com/hankcs/HanLP/issues/230", "id": 158590715, "node_id": "MDU6SXNzdWUxNTg1OTA3MTU=", "number": 230, "title": "NShortSegment\u8dd1\u98de\u95ee\u9898", "user": {"login": "So-Far-So-Good", "id": 3280650, "node_id": "MDQ6VXNlcjMyODA2NTA=", "avatar_url": "https://avatars.githubusercontent.com/u/3280650?v=4", "gravatar_id": "", "url": "https://api.github.com/users/So-Far-So-Good", "html_url": "https://github.com/So-Far-So-Good", "followers_url": "https://api.github.com/users/So-Far-So-Good/followers", "following_url": "https://api.github.com/users/So-Far-So-Good/following{/other_user}", "gists_url": "https://api.github.com/users/So-Far-So-Good/gists{/gist_id}", "starred_url": "https://api.github.com/users/So-Far-So-Good/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/So-Far-So-Good/subscriptions", "organizations_url": "https://api.github.com/users/So-Far-So-Good/orgs", "repos_url": "https://api.github.com/users/So-Far-So-Good/repos", "events_url": "https://api.github.com/users/So-Far-So-Good/events{/privacy}", "received_events_url": "https://api.github.com/users/So-Far-So-Good/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-06-06T02:33:53Z", "updated_at": "2016-06-06T09:12:00Z", "closed_at": "2016-06-06T09:12:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "\u4f7f\u7528new NShortSegment().enableAllNamedEntityRecognize(true)\u4f5c\u4e3atextcrank\u62bd\u53d6\u5173\u952e\u8bcd\u7684\u5206\u8bcd\u5668\uff0c\u6301\u7eed\u63d0\u53d6\u5173\u952e\u8bcd\u540e\uff0c\u4f1a\u53d1\u73b0\u5927\u91cfGC,\u7136\u540e\u76f4\u63a5\u6302\u6389\uff0c\u5728\u5806\u6808\u4e2d\uff0c\u4e00\u76f4\u5728running NShortPath.class 211\u884c\n", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/230/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/230/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/222", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/222/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/222/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/222/events", "html_url": "https://github.com/hankcs/HanLP/issues/222", "id": 157805449, "node_id": "MDU6SXNzdWUxNTc4MDU0NDk=", "number": 222, "title": "\u9ad8\u4eae\u641c\u7d22\u7ed3\u679c\u4f4d\u7f6e\u504f\u5dee", "user": {"login": "kj863257", "id": 15863805, "node_id": "MDQ6VXNlcjE1ODYzODA1", "avatar_url": "https://avatars.githubusercontent.com/u/15863805?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kj863257", "html_url": "https://github.com/kj863257", "followers_url": "https://api.github.com/users/kj863257/followers", "following_url": "https://api.github.com/users/kj863257/following{/other_user}", "gists_url": "https://api.github.com/users/kj863257/gists{/gist_id}", "starred_url": "https://api.github.com/users/kj863257/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kj863257/subscriptions", "organizations_url": "https://api.github.com/users/kj863257/orgs", "repos_url": "https://api.github.com/users/kj863257/repos", "events_url": "https://api.github.com/users/kj863257/events{/privacy}", "received_events_url": "https://api.github.com/users/kj863257/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2016-06-01T01:33:47Z", "updated_at": "2016-06-01T02:57:19Z", "closed_at": "2016-06-01T02:57:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "\u8fd9\u4e2a\u5e94\u8be5\u548c https://github.com/hankcs/hanlp-solr-plugin/commit/7a797a6ac899074f0725398ac00878eb178e6be4 \u8fd9\u4e2aissues \u6709\u5173\u7cfb\u5427\uff1f\n", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/222/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/222/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/220", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/220/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/220/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/220/events", "html_url": "https://github.com/hankcs/HanLP/issues/220", "id": 157346517, "node_id": "MDU6SXNzdWUxNTczNDY1MTc=", "number": 220, "title": "DoubleArrayTrie\u7684\u4e00\u4e2aresize bug", "user": {"login": "jimichan", "id": 1460308, "node_id": "MDQ6VXNlcjE0NjAzMDg=", "avatar_url": "https://avatars.githubusercontent.com/u/1460308?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jimichan", "html_url": "https://github.com/jimichan", "followers_url": "https://api.github.com/users/jimichan/followers", "following_url": "https://api.github.com/users/jimichan/following{/other_user}", "gists_url": "https://api.github.com/users/jimichan/gists{/gist_id}", "starred_url": "https://api.github.com/users/jimichan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jimichan/subscriptions", "organizations_url": "https://api.github.com/users/jimichan/orgs", "repos_url": "https://api.github.com/users/jimichan/repos", "events_url": "https://api.github.com/users/jimichan/events{/privacy}", "received_events_url": "https://api.github.com/users/jimichan/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-05-28T16:34:16Z", "updated_at": "2016-05-29T04:36:41Z", "closed_at": "2016-05-29T04:36:41Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "\u7531\u4e8e\u521d\u59cb\u5206\u914d\u5185\u5b58\u4f4d65536*32\u4e3a1M\u7a7a\u95f4\uff0c\u6240\u4ee5\u7a0b\u5e8f\u4e2d\u57fa\u672c\u6ca1\u6709\u51fa\u53d1resize\u65b9\u6cd5\n\u4f46\u662f\u5982\u679c\u5c06\u521d\u59cb\u5927\u5c0f\u8bbe\u7f6e\u4f4d10240 \u7136\u540e\u6267\u884ccore\u8bcd\u5178build\u7684\u65f6\u5019\n\u4f60\u4f1a\u53d1\u73b0\u4e0b\u9762\u8fd9\u4e2a\u4ee3\u7801\u7684 double l \u4f1a\u662f\u4e2a\u8d85\u7ea7\u5927\u6570 1\u4e07\u591a\uff0c\u4f1a\u5bfc\u81f4\u5185\u5b58\u7206\u70b9\u3002\n\u4f60\u68c0\u67e5\u4e00\u4e0b\u8fd9\u8fb9\u7684\u903b\u8f91\u662f\u5426\u6709\u95ee\u9898\n\n```\n    begin = pos - siblings.get(0).code; // \u5f53\u524d\u4f4d\u7f6e\u79bb\u7b2c\u4e00\u4e2a\u5144\u5f1f\u8282\u70b9\u7684\u8ddd\u79bb\n        if (allocSize <= (begin + siblings.get(siblings.size() - 1).code))\n        {\n            // progress can be zero // \u9632\u6b62progress\u4ea7\u751f\u9664\u96f6\u9519\u8bef\n            double l = (1.05 > 1.0 * keySize / (progress + 1)) ? 1.05 : 1.0\n                    * keySize / (progress + 1);\n            resize((int) (allocSize * l));\n        }\n```\n", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/220/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/220/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/199", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/199/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/199/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/199/events", "html_url": "https://github.com/hankcs/HanLP/issues/199", "id": 151599125, "node_id": "MDU6SXNzdWUxNTE1OTkxMjU=", "number": 199, "title": "CRF\u8bc6\u522b\u7684\u4e00\u4e2abug", "user": {"login": "lijianbo0130", "id": 11549093, "node_id": "MDQ6VXNlcjExNTQ5MDkz", "avatar_url": "https://avatars.githubusercontent.com/u/11549093?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lijianbo0130", "html_url": "https://github.com/lijianbo0130", "followers_url": "https://api.github.com/users/lijianbo0130/followers", "following_url": "https://api.github.com/users/lijianbo0130/following{/other_user}", "gists_url": "https://api.github.com/users/lijianbo0130/gists{/gist_id}", "starred_url": "https://api.github.com/users/lijianbo0130/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lijianbo0130/subscriptions", "organizations_url": "https://api.github.com/users/lijianbo0130/orgs", "repos_url": "https://api.github.com/users/lijianbo0130/repos", "events_url": "https://api.github.com/users/lijianbo0130/events{/privacy}", "received_events_url": "https://api.github.com/users/lijianbo0130/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-04-28T10:07:19Z", "updated_at": "2016-04-28T19:50:46Z", "closed_at": "2016-04-28T19:50:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "\u4ee3\u7801\uff1a\n        Segment segment = new CRFSegment();\n        segment.enableCustomDictionary(false);// \u5f00\u542f\u81ea\u5b9a\u4e49\u8bcd\u5178\n        segment.enablePartOfSpeechTagging(true);\n        List<Term> termList = segment.seg(\"\u66f4\u591a\u91c7\u8d2d\");\n        System.out.println(termList);\n        for (Term term : termList) {\n            if (term.nature == null) {\n                System.out.println(\"\u8bc6\u522b\u5230\u65b0\u8bcd\uff1a\" + term.word);\n            }\n        }\n\n\u7ed3\u679c\uff1a\n[\u66f4\u591a/ad, \u91c7\u8d2d/null]\n\u8bc6\u522b\u5230\u65b0\u8bcd\uff1a\u91c7\u8d2d\n\u4f46\u662f\u91c7\u8d2d\u8fd9\u4e2a\u8bcd\u5728\u8bcd\u5e93\u4e2d\u662f\u5b58\u5728\u7684\uff0c\u5e76\u4e0d\u662f\u65b0\u8bcd\u3002\n", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/199/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/199/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/193", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/193/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/193/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/193/events", "html_url": "https://github.com/hankcs/HanLP/issues/193", "id": 149675288, "node_id": "MDU6SXNzdWUxNDk2NzUyODg=", "number": 193, "title": "\u4e00\u4e2abug\u5982\u679c\u628a\u673a\u6784\u540d\u548c\u6570\u5b57\u8bc6\u522b\u540c\u65f6\u6253\u5f00", "user": {"login": "lijianbo0130", "id": 11549093, "node_id": "MDQ6VXNlcjExNTQ5MDkz", "avatar_url": "https://avatars.githubusercontent.com/u/11549093?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lijianbo0130", "html_url": "https://github.com/lijianbo0130", "followers_url": "https://api.github.com/users/lijianbo0130/followers", "following_url": "https://api.github.com/users/lijianbo0130/following{/other_user}", "gists_url": "https://api.github.com/users/lijianbo0130/gists{/gist_id}", "starred_url": "https://api.github.com/users/lijianbo0130/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lijianbo0130/subscriptions", "organizations_url": "https://api.github.com/users/lijianbo0130/orgs", "repos_url": "https://api.github.com/users/lijianbo0130/repos", "events_url": "https://api.github.com/users/lijianbo0130/events{/privacy}", "received_events_url": "https://api.github.com/users/lijianbo0130/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 136114036, "node_id": "MDU6TGFiZWwxMzYxMTQwMzY=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/duplicated", "name": "duplicated", "color": "cccccc", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 13, "created_at": "2016-04-20T06:47:55Z", "updated_at": "2016-05-19T04:11:59Z", "closed_at": "2016-04-20T15:42:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "\u5207\u5206\u4e0b\u9762\u8fd9\u53e5\u8bdd\u7684\u65f6\u5019\u4f1a\u51faexception\n\u4ee5\u6bcf\u53f0\u7ea6200\u5143\u7684\u4ef7\u683c\u9001\u5230\u82f9\u679c\u552e\u540e\u7ef4\u4fee\u4e2d\u5fc3\u6362\u65b0\u673a\uff08\u82f9\u679c\u7684\u4fdd\u4fee\u57fa\u672c\u662f\u514d\u8d39\u6362\u65b0\u673a\uff09\n", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/193/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/193/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/151", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/151/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/151/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/151/events", "html_url": "https://github.com/hankcs/HanLP/issues/151", "id": 140077002, "node_id": "MDU6SXNzdWUxNDAwNzcwMDI=", "number": 151, "title": "\u4eba\u540d\u8bc6\u522b\u5931\u8d25\uff1a\u4e60\u8fd1\u5e73\uff0d\uff0d\uff0dgit\u7248\u672c", "user": {"login": "sixmumy", "id": 7694274, "node_id": "MDQ6VXNlcjc2OTQyNzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/7694274?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sixmumy", "html_url": "https://github.com/sixmumy", "followers_url": "https://api.github.com/users/sixmumy/followers", "following_url": "https://api.github.com/users/sixmumy/following{/other_user}", "gists_url": "https://api.github.com/users/sixmumy/gists{/gist_id}", "starred_url": "https://api.github.com/users/sixmumy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sixmumy/subscriptions", "organizations_url": "https://api.github.com/users/sixmumy/orgs", "repos_url": "https://api.github.com/users/sixmumy/repos", "events_url": "https://api.github.com/users/sixmumy/events{/privacy}", "received_events_url": "https://api.github.com/users/sixmumy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-03-11T03:39:21Z", "updated_at": "2016-03-11T05:32:14Z", "closed_at": "2016-03-11T05:32:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "public class TestErrorSeg {\n    public static void main(String[] args) {\n        HanLP.Config.enableDebug();\n        String str = \"\u4e60\u8fd1\u5e73\u8bbf\u7f8e\u4e3a\u5168\u7403\u7ecf\u6d4e\u6ce8\u5165\u65b0\u52a8\u529b\";\n        List<Term> terms = HanLP.newSegment().enableCustomDictionary(true).enableAllNamedEntityRecognize(true).enableNumberQuantifierRecognize(true).seg(\n                str);\n        System.out.println(terms);\n    }\n}\n\n\u4eba\u540d\u89d2\u8272\u89c2\u5bdf\uff1a[  A 22202445 ][\u4e60\u8fd1\u5e73 null][\u8bbf\u7f8e L 3 ][\u4e3a L 1200 K 920 C 184 D 144 M 40 E 21 ][\u5168\u7403 L 11 K 1 ][\u7ecf\u6d4e L 19 K 2 ][\u6ce8\u5165 K 3 L 2 ][\u65b0\u52a8\u529b A 22202445 ][  A 22202445 ]\nException in thread \"main\" java.lang.NullPointerException\n    at com.hankcs.hanlp.algoritm.Viterbi.computeEnumSimply(Viterbi.java:254)\n    at com.hankcs.hanlp.recognition.nr.PersonRecognition.viterbiExCompute(PersonRecognition.java:171)\n    at com.hankcs.hanlp.recognition.nr.PersonRecognition.Recognition(PersonRecognition.java:50)\n    at com.hankcs.hanlp.seg.Viterbi.ViterbiSegment.segSentence(ViterbiSegment.java:76)\n    at com.hankcs.hanlp.seg.Segment.seg(Segment.java:422)\n    at org.nlp.segment.TestErrorSeg.main(TestErrorSeg.java:12)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:606)\n    at com.intellij.rt.execution.application.AppMain.main(AppMain.java:144)\n", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/151/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/151/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/150", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/150/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/150/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/150/events", "html_url": "https://github.com/hankcs/HanLP/issues/150", "id": 140068184, "node_id": "MDU6SXNzdWUxNDAwNjgxODQ=", "number": 150, "title": "\u6570\u7ec4\u904d\u5386\u8d8a\u754c\uff0dv1.2.8\u7248\u672c", "user": {"login": "sixmumy", "id": 7694274, "node_id": "MDQ6VXNlcjc2OTQyNzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/7694274?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sixmumy", "html_url": "https://github.com/sixmumy", "followers_url": "https://api.github.com/users/sixmumy/followers", "following_url": "https://api.github.com/users/sixmumy/following{/other_user}", "gists_url": "https://api.github.com/users/sixmumy/gists{/gist_id}", "starred_url": "https://api.github.com/users/sixmumy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sixmumy/subscriptions", "organizations_url": "https://api.github.com/users/sixmumy/orgs", "repos_url": "https://api.github.com/users/sixmumy/repos", "events_url": "https://api.github.com/users/sixmumy/events{/privacy}", "received_events_url": "https://api.github.com/users/sixmumy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2016-03-11T02:30:29Z", "updated_at": "2016-03-12T06:03:42Z", "closed_at": "2016-03-11T05:17:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "\u9700\u8981\u5206\u8bcd\u7684\u5b57\u7b26\u4e32\uff1a\u201c\u53cc\u5341\u4e8c\u201d\u52a0\u6cb9\u6709\u6298\u6263\u8fd8\u6709\u7ea2\u5305\n\u5206\u8bcd\u65b9\u5f0f\uff1a List<Term> terms = HanLP.newSegment().enableCustomDictionary(true).enableAllNamedEntityRecognize(true).enableNumberQuantifierRecognize(true).seg(\n                content.trim());\n\n\u9519\u8bef\u63d0\u793a\uff1aException in thread \"main\" java.lang.ArrayIndexOutOfBoundsException: 17\n    at com.hankcs.hanlp.seg.common.WordNet.add(WordNet.java:101)\n    at com.hankcs.hanlp.seg.common.WordNet.addAll(WordNet.java:201)\n    at com.hankcs.hanlp.seg.Viterbi.ViterbiSegment.segSentence(ViterbiSegment.java:95)\n    at com.hankcs.hanlp.seg.Segment.seg(Segment.java:422)\n    at org.nlp.sentiment.ModelUtilsByRuleMap.calSentimentScore(ModelUtilsByRuleMap.java:177)\n    at org.nlp.sentiment.ModelUtilsByRuleMap.calEmotionType(ModelUtilsByRuleMap.java:210)\n", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/150/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/150/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/97", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/97/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/97/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/97/events", "html_url": "https://github.com/hankcs/HanLP/issues/97", "id": 120985810, "node_id": "MDU6SXNzdWUxMjA5ODU4MTA=", "number": 97, "title": "\u60a8\u597d\uff0c\u6211\u5728\u4f7f\u7528\u6700\u65b0\u7248\u672c1.2.7\u7684\u4f9d\u5b58\u53e5\u6cd5\u5206\u6790\u7684\u65f6\u5019\u9047\u5230\u4e00\u4e2abug", "user": {"login": "XiliangSong", "id": 5780471, "node_id": "MDQ6VXNlcjU3ODA0NzE=", "avatar_url": "https://avatars.githubusercontent.com/u/5780471?v=4", "gravatar_id": "", "url": "https://api.github.com/users/XiliangSong", "html_url": "https://github.com/XiliangSong", "followers_url": "https://api.github.com/users/XiliangSong/followers", "following_url": "https://api.github.com/users/XiliangSong/following{/other_user}", "gists_url": "https://api.github.com/users/XiliangSong/gists{/gist_id}", "starred_url": "https://api.github.com/users/XiliangSong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/XiliangSong/subscriptions", "organizations_url": "https://api.github.com/users/XiliangSong/orgs", "repos_url": "https://api.github.com/users/XiliangSong/repos", "events_url": "https://api.github.com/users/XiliangSong/events{/privacy}", "received_events_url": "https://api.github.com/users/XiliangSong/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2015-12-08T11:12:23Z", "updated_at": "2015-12-10T08:53:34Z", "closed_at": "2015-12-08T12:28:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "\u4f7f\u7528\u7684\u662fCRF\u7684\u4f9d\u5b58\u53e5\u6cd5\u5206\u6790\uff0c\u51fa\u73b0\u4e86\u7a7a\u6307\u5411\u5f02\u5e38\uff1a\nException in thread \"main\" java.lang.NullPointerException\n    at com.hankcs.hanlp.collection.trie.DoubleArrayTrie.exactMatchSearch(DoubleArrayTrie.java:674)\n    at com.hankcs.hanlp.collection.trie.DoubleArrayTrie.exactMatchSearch(DoubleArrayTrie.java:660)\n    at com.hankcs.hanlp.collection.trie.DoubleArrayTrie.get(DoubleArrayTrie.java:949)\n    at com.hankcs.hanlp.model.bigram.BigramDependencyModel.get(BigramDependencyModel.java:108)\n    at com.hankcs.hanlp.model.bigram.BigramDependencyModel.get(BigramDependencyModel.java:121)\n    at com.hankcs.hanlp.dependency.CRFDependencyParser.parse(CRFDependencyParser.java:153)\n    at com.hankcs.hanlp.dependency.AbstractDependencyParser.parse(AbstractDependencyParser.java:46)\n    at com.hankcs.hanlp.dependency.CRFDependencyParser.compute(CRFDependencyParser.java:78)\n    at com.sxl.extractor.ParsingBaseNP.main(ParsingBaseNP.java:34)\n\n\u8bf7\u95ee\uff0c\u5982\u4f55\u89e3\u51b3\uff1f\n", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/97/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/97/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/75", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/75/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/75/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/75/events", "html_url": "https://github.com/hankcs/HanLP/issues/75", "id": 112738964, "node_id": "MDU6SXNzdWUxMTI3Mzg5NjQ=", "number": 75, "title": "\uff3bReopen\uff3dHightLighter\u5b9a\u4f4d\u4e0d\u51c6\u786e\u7684\u95ee\u9898", "user": {"login": "liucong315", "id": 14268210, "node_id": "MDQ6VXNlcjE0MjY4MjEw", "avatar_url": "https://avatars.githubusercontent.com/u/14268210?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liucong315", "html_url": "https://github.com/liucong315", "followers_url": "https://api.github.com/users/liucong315/followers", "following_url": "https://api.github.com/users/liucong315/following{/other_user}", "gists_url": "https://api.github.com/users/liucong315/gists{/gist_id}", "starred_url": "https://api.github.com/users/liucong315/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liucong315/subscriptions", "organizations_url": "https://api.github.com/users/liucong315/orgs", "repos_url": "https://api.github.com/users/liucong315/repos", "events_url": "https://api.github.com/users/liucong315/events{/privacy}", "received_events_url": "https://api.github.com/users/liucong315/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2015-10-22T06:21:37Z", "updated_at": "2015-10-23T12:17:50Z", "closed_at": "2015-10-23T11:03:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "lucene\u63d2\u4ef6\u5df2\u7ecf\u66f4\u65b0\u5230\u65b0\u7248\u672c\uff0c\u8fd0\u884cHighLighterTest.java\u6ca1\u6709\u95ee\u9898\u3002\n\u4f46\u662f\uff0c\u4fee\u6539HighLighterTest.java\u7684\u68c0\u7d22\u5185\u5bb9\u4e4b\u540e\uff0c\u8fd8\u662f\u4f1a\u51fa\u73b0\u5b9a\u4f4d\u95ee\u9898\uff0c\u9ebb\u70e6\u5e2e\u6211\u770b\u4e00\u4e0b\uff0c\u591a\u8c22\u3002\n\u4e0b\u9762\u662f\u4fee\u6539\u793a\u4f8b\u4ee3\u7801\u4e4b\u540e\u7684\u5185\u5bb9\uff0c\u53ea\u662f\u5728\u5185\u5bb9\u4e2d\u591a\u52a0\u4e86\u51e0\u4e2a \"\\n\"   \uff1a\n  IndexWriterConfig iwConfig = new IndexWriterConfig(analyzer);\n            iwConfig.setOpenMode(IndexWriterConfig.OpenMode.CREATE_OR_APPEND);\n            iwriter = new IndexWriter(directory, iwConfig);\n            {\n                // \u52a0\u5165\u4e00\u4e2a\u6587\u6863\n                Document doc = new Document();\n                doc.add(new TextField(fieldName, \"\u6211\u767d\u5929\u662f\u4e00\u540d\u8bed\u8a00\\n\\n\\n\\n\u5b66\u4e60\u8005\uff0c\u665a\u4e0a\u662f\u4e00\u540d\u521d\u7ea7\u7801\u519c\u3002\u7a7a\u7684\u65f6\u5019\u559c\u6b22\u770b\u7b97\u6cd5\u548c\u5e94\u7528\u6570\u5b66\u4e66\uff0c\u4e5f\u559c\u6b22\u60ac\u7591\u63a8\u7406\u5c0f\u8bf4\uff0cACG\u65b9\u9762\u559c\u6b22\u578b\u6708\u3001\u8f68\u8ff9\u3002\u559c\u6b22\u6709\\n\\n\\n\\n\\n\u601d\u60f3\u6df1\u5ea6\u7684\u4e8b\u7269\uff0c\u8ba8\u538c\u6025\u8e81\u3001\u62dc\u91d1\u4e0e\u5b89\u9038\u7684\u4eba\u3002\u76ee\u524d\u5728\u9b54\u90fd\u67d0\u5973\u6821\u5b66\u4e60\uff0c\u8fd9\u662f\u6211\u7684\u4e2a\u4eba\u535a\u5ba2\u3002\u95fb\u9053\u6709\u5148\u540e\uff0c\u672f\u4e1a\u6709\u4e13\u653b\uff0c\u8bf7\u591a\u591a\u5173\u7167\u3002\u4f60\u559c\u6b22\u5199\u4ee3\u7801\u5417\uff1f\", Field.Store.YES));\n                doc.add(new TextField(\"title\", \"\u5173\u4e8ehankcs\", Field.Store.YES));\n                iwriter.addDocument(doc);\n            }\n            {\n                // \u518d\u52a0\u5165\u4e00\u4e2a\n                Document doc = new Document();\n                doc.add(new TextField(fieldName, \"\\n\\n   \\n\\n\\n\\n\\n\\n\\n\\n\\n\u7a0b\u5e8f\u5458\u559c\u6b22\u9ed1\u591c\", Field.Store.YES));\n                doc.add(new TextField(\"title\", \"\u5173\u4e8e\u7a0b\u5e8f\u5458\", Field.Store.YES));\n                iwriter.addDocument(doc);\n            }\n            iwriter.close();\n\n\u8fd0\u884c\u7ed3\u679c\u5982\u4e0b\uff1a\n\ntest\nQuery = text:\u559c\u6b22\n\u547d\u4e2d\uff1a2\n\u5173\u4e8e\u7a0b\u5e8f\u5458 , 0.2972674\n\n\u7a0b\u5e8f\u5458<font color='red'>\u559c\u6b22</font>\u9ed1\u591c\n\u5173\u4e8ehankcs , 0.124633156\n\u6211\u767d\u5929\u662f\u4e00\u540d\u8bed\u8a00\n\n\u5b66\u4e60\u8005\uff0c\u665a\u4e0a\u662f\u4e00\u540d<font color='red'>\u521d\u7ea7</font>\u7801\u519c\u3002\u7a7a\u7684\u65f6\u5019\u559c\u6b22\u770b\u7b97<font color='red'>\u6cd5\u548c</font>\u5e94\u7528\u6570\u5b66\u4e66\uff0c\u4e5f\u559c\u6b22\u60ac\u7591\u63a8<font color='red'>\u7406\u5c0f</font>\u8bf4\uff0cACG\u65b9<font color='red'>\u9762\u559c</font>\u6b22\u578b\u6708\u3001\u8f68\u8ff9\u3002\u559c\u6b22<font color='red'>\u6709\n</font>\n\n\u601d\u60f3\u6df1\u5ea6\u7684\u4e8b\u7269\uff0c\u8ba8\u538c\u6025\u8e81\u3001\u62dc\u91d1\u4e0e\u5b89\u9038\u7684\u4eba\u3002\u76ee\u524d\u5728\u9b54\u90fd\u67d0\u5973\u6821\u5b66\u4e60\uff0c\u8fd9\u662f\u6211\u7684\u4e2a\u4eba\u535a\u5ba2\u3002\u95fb\u9053\u6709\u5148\u540e\uff0c\u672f\u4e1a\u6709\u4e13\u653b\uff0c\u8bf7\u591a\u591a\u5173\u7167\u3002\u4f60\u559c\u6b22\u5199\u4ee3\u7801\u5417\uff1f\n", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/75/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/75/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/74", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/74/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/74/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/74/events", "html_url": "https://github.com/hankcs/HanLP/issues/74", "id": 112608161, "node_id": "MDU6SXNzdWUxMTI2MDgxNjE=", "number": 74, "title": "Lucene5.3\u8c03\u7528HanLP\u5173\u952e\u8bcdHightLight\u5b9a\u4f4d\u9519\u8bef", "user": {"login": "liucong315", "id": 14268210, "node_id": "MDQ6VXNlcjE0MjY4MjEw", "avatar_url": "https://avatars.githubusercontent.com/u/14268210?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liucong315", "html_url": "https://github.com/liucong315", "followers_url": "https://api.github.com/users/liucong315/followers", "following_url": "https://api.github.com/users/liucong315/following{/other_user}", "gists_url": "https://api.github.com/users/liucong315/gists{/gist_id}", "starred_url": "https://api.github.com/users/liucong315/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liucong315/subscriptions", "organizations_url": "https://api.github.com/users/liucong315/orgs", "repos_url": "https://api.github.com/users/liucong315/repos", "events_url": "https://api.github.com/users/liucong315/events{/privacy}", "received_events_url": "https://api.github.com/users/liucong315/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-10-21T14:54:20Z", "updated_at": "2015-10-22T04:49:27Z", "closed_at": "2015-10-22T04:49:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "\u5728Lucene5.3\u4e2d\u8c03\u7528HanLP\u5bf9\u6307\u5b9a\u76ee\u5f55\u4e0b\u7684\u6587\u4ef6\u8fdb\u884c\u68c0\u7d22\uff08\u6587\u4ef6\u89e3\u6790\u7528\u7684Tika\uff09\uff0c\u5173\u952e\u5b57\u9ad8\u4eae\u4f4d\u7f6e\u5b9a\u4f4d\u4e0d\u5bf9\uff0c\u8c03\u7528IKAnalyzer5x\u5b9a\u4f4d\u5c31\u6ca1\u95ee\u9898\uff0c\u8bf7\u95ee\u662f\u4ec0\u4e48\u60c5\u51b5\uff1f\u591a\u8c22\u3002\n\u4ee3\u7801\u5982\u4e0b\uff1a\npackage com.std.test;\n\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.IOException;\nimport java.io.StringReader;\nimport java.nio.file.Paths;\n\nimport org.apache.lucene.analysis.Analyzer;\nimport org.apache.lucene.analysis.TokenStream;\nimport org.apache.lucene.document.Document;\nimport org.apache.lucene.document.TextField;\nimport org.apache.lucene.document.Field.Store;\nimport org.apache.lucene.index.DirectoryReader;\nimport org.apache.lucene.index.IndexWriter;\nimport org.apache.lucene.index.IndexWriterConfig;\nimport org.apache.lucene.queryparser.classic.QueryParser;\nimport org.apache.lucene.search.IndexSearcher;\nimport org.apache.lucene.search.Query;\nimport org.apache.lucene.search.ScoreDoc;\nimport org.apache.lucene.search.TopDocs;\nimport org.apache.lucene.search.highlight.Highlighter;\nimport org.apache.lucene.search.highlight.QueryScorer;\nimport org.apache.lucene.search.highlight.SimpleFragmenter;\nimport org.apache.lucene.search.highlight.SimpleHTMLFormatter;\nimport org.apache.lucene.store.Directory;\nimport org.apache.lucene.store.FSDirectory;\nimport org.apache.tika.exception.TikaException;\nimport org.apache.tika.metadata.Metadata;\nimport org.apache.tika.parser.AutoDetectParser;\nimport org.apache.tika.parser.ParseContext;\nimport org.apache.tika.parser.Parser;\nimport org.apache.tika.sax.BodyContentHandler;\nimport org.xml.sax.SAXException;\n\nimport com.hankcs.lucene5.HanLPAnalyzer;\nimport com.std.core.ik5x.IKAnalyzer5x;\n\npublic class TikaFileSearch {\n    /**\n     \\* \u591a\u683c\u5f0f\u6587\u4ef6\u5185\u5bb9\u89e3\u6790\n     \\* \n     \\* @param file\n     \\* @return\n     \\* @throws IOException\n     \\* @throws SAXException\n     \\* @throws TikaException\n     */\n    public static String parseFile(File file) throws IOException, SAXException,\n            TikaException {\n        FileInputStream fs = new FileInputStream(file);\n        Parser parse = new AutoDetectParser();// \u81ea\u52a8\u83b7\u53d6\u4e00\u4e2a\u5408\u9002\u7684\u89e3\u6790\u5668\u7c7b\u578b\n        // \u5982\u679c\u6587\u4ef6\u5f88\u5927\uff0c\u90a3\u4e48\u8fd9\u4e2a\u503c\u53ef\u4ee5\u9002\u5f53\u8c03\u5927\n        BodyContentHandler handler = new BodyContentHandler(10000);\n        Metadata metadata = new Metadata();\n        ParseContext parseContext = new ParseContext();\n        parse.parse(fs, handler, metadata, parseContext);\n        System.out.println(\"\u76ee\u6807\u6587\u4ef6\u540d\u79f0\uff1a\" + file.getAbsolutePath());\n        System.out.println(\"\u76ee\u6807\u6587\u4ef6\u5185\u5bb9\uff1a\" + handler.toString());\n\n```\n    return handler.toString();\n}\n\n/**\n * \u4e3a\u76ee\u6807\u6587\u6863\u521b\u5efa\u7d22\u5f15\n * \n * @throws Exception\n */\npublic static void indexDoc() throws Exception {\n    File[] files = new File(\"/Projects/IS/filesPath/\").listFiles();\n    for (File file : files) {\n        String content = parseFile(file);\n\n        Analyzer analyzer = new HanLPAnalyzer();\n        // \u6784\u9020\u5b57\u6bb5\n        TextField contentField = new TextField(\"content\", content,\n                Store.YES);\n        TextField nameField = new TextField(\"name\", file.getName(),\n                Store.YES);\n        TextField pathField = new TextField(\"path\", file.getAbsolutePath(),\n                Store.YES);\n\n        // \u6dfb\u52a0\u5b57\u6bb5\n        Document doc = new Document();\n        doc.add(contentField);\n        doc.add(nameField);\n        doc.add(pathField);\n        IndexWriterConfig iwConfig = new IndexWriterConfig(analyzer);\n        iwConfig.setOpenMode(IndexWriterConfig.OpenMode.CREATE_OR_APPEND);\n        try {\n            Directory fsDirectory = FSDirectory.open(Paths.get(\n                    \"/Projects/IS/filesIndexPath/\", new String[0]));\n            IndexWriter indexWriter = new IndexWriter(fsDirectory, iwConfig);\n            indexWriter.addDocument(doc);\n\n            indexWriter.close();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n\n/**\n * \u641c\u7d22\u6587\u4ef6\n * \n * @param field\n * @param keyword\n */\npublic static void search(String field, String keyword) {\n    Analyzer analyzer = new HanLPAnalyzer();\n    try {\n        Directory fsDirectory = FSDirectory.open(Paths.get(\n                \"/Projects/IS/filesIndexPath/\", new String[0]));\n        DirectoryReader ireader = DirectoryReader.open(fsDirectory);\n\n        IndexSearcher isearcher = new IndexSearcher(ireader);\n\n        QueryParser qp = new QueryParser(field, analyzer); // \u4f7f\u7528QueryParser\u67e5\u8be2\u5206\u6790\u5668\u6784\u9020Query\u5bf9\u8c61\n        qp.setDefaultOperator(QueryParser.AND_OPERATOR);\n        Query query = qp.parse(keyword);\n        TopDocs topDocs = isearcher.search(query, 5); // \u641c\u7d22\u76f8\u4f3c\u5ea6\u6700\u9ad8\u76845\u6761\u8bb0\u5f55\n        System.out.println(\"\u547d\u4e2d:\" + topDocs.totalHits);\n\n        SimpleHTMLFormatter simpleHTMLFormatter = new SimpleHTMLFormatter(\n                \"<span style='color:green'>\", \"</span>\");\n        Highlighter highlighter = new Highlighter(simpleHTMLFormatter,\n                new QueryScorer(query));\n        // \u9ad8\u4eaehtmlFormatter\u5bf9\u8c61\n        // \u8bbe\u7f6e\u9ad8\u4eae\u9644\u8fd1\u7684\u5b57\u6570\n        highlighter.setTextFragmenter(new SimpleFragmenter(200));\n\n        ScoreDoc[] scoreDocs = topDocs.scoreDocs;\n        for (int i = 0; i < topDocs.totalHits; i++) {\n            Document targetDoc = isearcher.doc(scoreDocs[i].doc);\n            String value = targetDoc.get(\"content\");\n            TokenStream tokenStream = analyzer.tokenStream(value,\n                    new StringReader(value));\n            String freg = highlighter.getBestFragment(tokenStream, value);\n\n            System.out.println(freg);\n\n        }\n\n    } catch (Exception e) {\n\n    }\n}\n\npublic static void main(String[] args) throws Exception {\n\n    indexDoc();\n    search(\"content\", \"\u6c11\u65cf\");\n}\n```\n\n}\n\n\u8fd0\u884c\u622a\u56fe\u5982\u4e0b\uff1a\n![079da201-023c-4232-a856-80fb063a7476](https://cloud.githubusercontent.com/assets/14268210/10640239/78728792-7846-11e5-8b93-443ca970dda1.png)\n\n\u8c03\u7528IK\u7684\u8fd0\u884c\u7ed3\u679c\u5982\u4e0b\uff1a\n![56e95ae2-12c8-4b04-a58c-10d00ed28921](https://cloud.githubusercontent.com/assets/14268210/10640257/8818074e-7846-11e5-85f9-208098472519.png)\n", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/74/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/74/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/71", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/71/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/71/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/71/events", "html_url": "https://github.com/hankcs/HanLP/issues/71", "id": 111090141, "node_id": "MDU6SXNzdWUxMTEwOTAxNDE=", "number": 71, "title": "\u62a5\u9519\uff1aenableNumberQuantifierRecognize \u548c enableAllNamedEntityRecognize \u540c\u65f6\u7528, \u7248\u672c1.2.4", "user": {"login": "jkl5515", "id": 1955011, "node_id": "MDQ6VXNlcjE5NTUwMTE=", "avatar_url": "https://avatars.githubusercontent.com/u/1955011?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jkl5515", "html_url": "https://github.com/jkl5515", "followers_url": "https://api.github.com/users/jkl5515/followers", "following_url": "https://api.github.com/users/jkl5515/following{/other_user}", "gists_url": "https://api.github.com/users/jkl5515/gists{/gist_id}", "starred_url": "https://api.github.com/users/jkl5515/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jkl5515/subscriptions", "organizations_url": "https://api.github.com/users/jkl5515/orgs", "repos_url": "https://api.github.com/users/jkl5515/repos", "events_url": "https://api.github.com/users/jkl5515/events{/privacy}", "received_events_url": "https://api.github.com/users/jkl5515/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2015-10-13T02:19:05Z", "updated_at": "2015-10-13T10:14:24Z", "closed_at": "2015-10-13T07:34:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "Segment segment = HanLP.newSegment();\nsegment = segment.enableAllNamedEntityRecognize(true);\nsegment = segment.enableNumberQuantifierRecognize(true);\nSystem.out.println(segment.seg(\"\u66fe\u5e7b\u60f3\u8fc7\uff0c\u82e5\u5e72\u5e74\u540e\u7684\u6211\u5c31\u662f\u8fd9\u4e2a\u6837\u5b50\u7684\u5417\"));\n\nException in thread \"main\" java.lang.ArrayIndexOutOfBoundsException: 21\n    at com.hankcs.hanlp.seg.common.WordNet.add(WordNet.java:101)\n    at com.hankcs.hanlp.seg.common.WordNet.addAll(WordNet.java:201)\n    at com.hankcs.hanlp.seg.Viterbi.ViterbiSegment.segSentence(ViterbiSegment.java:95)\n    at com.hankcs.hanlp.seg.Segment.seg(Segment.java:420)\n    at hanlpdemo.HanlpDemo.main(HanlpDemo.java:41)\n", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/71/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/71/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/66", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/66/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/66/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/66/events", "html_url": "https://github.com/hankcs/HanLP/issues/66", "id": 109992806, "node_id": "MDU6SXNzdWUxMDk5OTI4MDY=", "number": 66, "title": "ArrayIndexOutOfBoundsException", "user": {"login": "jdb110", "id": 441776, "node_id": "MDQ6VXNlcjQ0MTc3Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/441776?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jdb110", "html_url": "https://github.com/jdb110", "followers_url": "https://api.github.com/users/jdb110/followers", "following_url": "https://api.github.com/users/jdb110/following{/other_user}", "gists_url": "https://api.github.com/users/jdb110/gists{/gist_id}", "starred_url": "https://api.github.com/users/jdb110/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jdb110/subscriptions", "organizations_url": "https://api.github.com/users/jdb110/orgs", "repos_url": "https://api.github.com/users/jdb110/repos", "events_url": "https://api.github.com/users/jdb110/events{/privacy}", "received_events_url": "https://api.github.com/users/jdb110/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2015-10-06T11:55:52Z", "updated_at": "2015-10-09T02:18:20Z", "closed_at": "2015-10-09T02:18:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "Exception in thread \"main\" java.lang.reflect.InvocationTargetException\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:606)\n        at org.eclipse.jdt.internal.jarinjarloader.JarRsrcLoader.main(JarRsrcLoader.java:58)\nCaused by: java.lang.ArrayIndexOutOfBoundsException: 65535\n        at com.hankcs.hanlp.collection.trie.bintrie.BinTrie.getChild(BinTrie.java:322)\n        at com.hankcs.hanlp.collection.trie.bintrie.BaseNode.transition(BaseNode.java:56)\n        at com.hankcs.hanlp.seg.Segment.combineByCustomDictionary(Segment.java:239)\n        at com.hankcs.hanlp.seg.Viterbi.ViterbiSegment.segSentence(ViterbiSegment.java:55)\n        at com.hankcs.hanlp.seg.Segment.seg(Segment.java:436)\n        at com.hankcs.hanlp.tokenizer.StandardTokenizer.segment(StandardTokenizer.java:50)\n        at com.hankcs.hanlp.HanLP.segment(HanLP.java:371)\n", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/66/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/66/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/65", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/65/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/65/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/65/events", "html_url": "https://github.com/hankcs/HanLP/issues/65", "id": 109420441, "node_id": "MDU6SXNzdWUxMDk0MjA0NDE=", "number": 65, "title": "CustomDictionary.txt\u7b2c\u4e00\u884c\u4e0d\u80fd\u52a0\u5165\u8bcd\u5178", "user": {"login": "laoyang945", "id": 1274399, "node_id": "MDQ6VXNlcjEyNzQzOTk=", "avatar_url": "https://avatars.githubusercontent.com/u/1274399?v=4", "gravatar_id": "", "url": "https://api.github.com/users/laoyang945", "html_url": "https://github.com/laoyang945", "followers_url": "https://api.github.com/users/laoyang945/followers", "following_url": "https://api.github.com/users/laoyang945/following{/other_user}", "gists_url": "https://api.github.com/users/laoyang945/gists{/gist_id}", "starred_url": "https://api.github.com/users/laoyang945/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/laoyang945/subscriptions", "organizations_url": "https://api.github.com/users/laoyang945/orgs", "repos_url": "https://api.github.com/users/laoyang945/repos", "events_url": "https://api.github.com/users/laoyang945/events{/privacy}", "received_events_url": "https://api.github.com/users/laoyang945/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-10-02T02:40:07Z", "updated_at": "2015-10-09T02:18:57Z", "closed_at": "2015-10-09T02:18:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "\u4e0d\u77e5\u9053\u662f\u4e3a\u4ec0\u4e48\u2026\u2026\n\u89e3\u51b3\u65b9\u6cd5\uff1a\u524d\u4e24\u884c\u91cd\u590d\u4e00\u4e0b\n", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/65/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/65/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/33", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/33/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/33/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/33/events", "html_url": "https://github.com/hankcs/HanLP/issues/33", "id": 92888574, "node_id": "MDU6SXNzdWU5Mjg4ODU3NA==", "number": 33, "title": "\u673a\u6784\u540d\u8bc6\u522b\u5bfc\u81f4\u7684\u5207\u8bcd\u9519\u8bef", "user": {"login": "liuia", "id": 998215, "node_id": "MDQ6VXNlcjk5ODIxNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/998215?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liuia", "html_url": "https://github.com/liuia", "followers_url": "https://api.github.com/users/liuia/followers", "following_url": "https://api.github.com/users/liuia/following{/other_user}", "gists_url": "https://api.github.com/users/liuia/gists{/gist_id}", "starred_url": "https://api.github.com/users/liuia/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liuia/subscriptions", "organizations_url": "https://api.github.com/users/liuia/orgs", "repos_url": "https://api.github.com/users/liuia/repos", "events_url": "https://api.github.com/users/liuia/events{/privacy}", "received_events_url": "https://api.github.com/users/liuia/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2015-07-03T14:41:53Z", "updated_at": "2015-07-04T08:40:18Z", "closed_at": "2015-07-04T08:38:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "\u6309\u7167\u8981\u6c42\uff0c\u57ce\u9547\u5c45\u6c11\u533b\u4fdd\u548c\u65b0\u519c\u5408\u653f\u7b56\u8303\u56f4\u5185\u4f4f\u9662\u8d39\u7528\u652f\u4ed8\u6bd4\u4f8b\u5206\u522b\u8fbe\u523070%\u4ee5\u4e0a\u548c75%\u5de6\u53f3\u3002\u9002\u5f53\u63d0\u9ad8\u57ce\u9547\u5c45\u6c11\u533b\u4fdd\u548c\u65b0\u519c\u5408\u95e8\u8bca\u7edf\u7b79\u5f85\u9047\u6c34\u5e73\u3002 \u56fd\u52a1\u9662\u533b\u6539\u529e\u653f\u7b56\u7ec4\u8d1f\u8d23\u4eba\u5085\u536b\u5728\u63a5\u53d7\u8bb0\u8005\u91c7\u8bbf\u65f6\u8868\u793a\uff0c\u4ece\u6df1\u5316\u533b\u6539\u4ee5\u6765\uff0c\u57fa\u672c\u533b\u7597\u4fdd\u969c\u5236\u5ea6\u5efa\u8bbe\u52a0\u5feb\u63a8\u8fdb\uff0c\u533b\u4fdd\u4fdd\u969c\u6c34\u5e73\u4e5f\u5728\u4e0d\u65ad\u63d0\u9ad8\uff0c\u5404\u7ea7\u653f\u5e9c\u5bf9\u57ce\u9547\u5c45\u6c11\u533b\u4fdd\u548c\u65b0\u519c\u5408\u7684\u8865\u52a9\u6807\u51c6\u4ece2008\u5e74\u7684\u4eba\u574780\u5143\u63d0\u9ad8\u5230\u4e862013\u5e74\u7684280\u5143\u3002\u52302015\u5e74\uff0c\u57ce\u9547\u5c45\u6c11\u533b\u4fdd\u548c\u65b0\u519c\u5408\u653f\u5e9c\u8865\u52a9\u6807\u51c6\u5c06\u63d0\u9ad8\u5230\u6bcf\u4eba\u6bcf\u5e74360\u5143\u4ee5\u4e0a\u3002 \u4e0d\u8fc7\uff0c\u4e5f\u6709\u4e13\u5bb6\u62c5\u5fc3\uff0c\u968f\u7740\u4fdd\u969c\u6c34\u5e73\u63d0\u5347\uff0c\u4e0d\u65ad\u589e\u52a0\u7684\u533b\u4fdd\u57fa\u91d1\u652f\u51fa\u6b63\u5bf9\u533b\u4fdd\u57fa\u91d1\u201c\u6536\u652f\u5e73\u8861\u3001\u7565\u6709\u7ed3\u4f59\u201d\u7684\u8fd0\u884c\u539f\u5219\u5f62\u6210\u538b\u529b\uff0c\u751a\u81f3\u5728\u4e00\u4e9b\u5730\u533a\u9020\u6210\u8d85\u652f\u98ce\u9669\u3002 \u8bb0\u8005\u4e86\u89e3\u5230\uff0c\u56fd\u52a1\u9662\u6b64\u524d\u53d1\u6587\u8981\u6c42\uff0c\u5728\u4eca\u5e746\u6708\u5e95\u524d\u5404\u7701\u8981\u5168\u9762\u542f\u52a8\u57ce\u4e61\u5c45\u6c11\u5927\u75c5\u4fdd\u9669\u8bd5\u70b9\u5de5\u4f5c\u3002\u5927\u75c5\u533b\u4fdd\u7684\u8d44\u91d1\u6765\u6e90\u4e8e\u73b0\u6709\u533b\u4fdd\u57fa\u91d1\u7684\u7ed3\u4f59\uff0c\u5373\u4ece\u57ce\u9547\u5c45\u6c11\u533b\u4fdd\u57fa\u91d1\u3001\u65b0\u519c\u5408\u57fa\u91d1\u4e2d\u5212\u51fa\uff0c\u91c7\u53d6\u5411\u5546\u4e1a\u4fdd\u9669\u673a\u6784\u8d2d\u4e70\u4fdd\u9669\u7684\u65b9\u5f0f\uff0c\u4e0d\u518d\u989d\u5916\u589e\u52a0\u7fa4\u4f17\u4e2a\u4eba\u7f34\u8d39\u8d1f\u62c5\u3002 \u8d22\u7ecf\u8bc4\u8bba\u5458\u4f59\u4e30\u6167\u8ba4\u4e3a\uff0c\u5982\u679c\u63d0\u9ad8\u5927\u75c5\u4fdd\u9669\u4fdd\u969c\u6c34\u5e73\uff0c\u6269\u5927\u62a5\u9500\u79cd\u7c7b\uff0c\u63d0\u9ad8\u62a5\u9500\u6bd4\u4f8b\uff0c\u800c\u53ea\u5728\u533b\u4fdd\u57fa\u91d1\u7ed3\u4f59\u7684\u5b58\u91cf\u4e0a\u8981\u8d44\u91d1\u6765\u6e90\uff0c\u5f88\u5feb\u5c06\u9020\u6210\u4e24\u4e2a\u65b9\u9762\u7684\u95ee\u9898\uff1a\u4e00\u662f\u53ef\u80fd\u5f71\u54cd\u5230\u533b\u4fdd\u7684\u8d44\u91d1\u652f\u4ed8\uff0c\u4e8c\u662f\u7ed3\u4f59\u8d44\u91d1\u8fdc\u8fdc\u4e0d\u591f\u3002 \u5bf9\u6b64\uff0c\u300a\u4efb\u52a1\u300b\u8981\u6c42\uff0c\u63a8\u8fdb\u57ce\u4e61\u5c45\u6c11\u57fa\u672c\u533b\u4fdd\u5236\u5ea6\u6574\u5408\u548c\u5b8c\u5584\u7b79\u8d44\u673a\u5236\u3002\u5b8c\u5584\u653f\u5e9c\u3001\u5355\u4f4d\u548c\u4e2a\u4eba\u5408\u7406\u5206\u62c5\u7684\u57fa\u672c\u533b\u4fdd\u7b79\u8d44\u673a\u5236\u3002\u6b64\u5916\uff0c\u7814\u7a76\u5efa\u7acb\u7a33\u5b9a\u53ef\u6301\u7eed\u3001\u52a8\u6001\u8c03\u6574\u7684\u7b79\u8d44\u673a\u5236\uff0c\u5728\u9010\u6b65\u63d0\u9ad8\u6574\u4f53\u7b79\u8d44\u6807\u51c6\u7684\u540c\u65f6\uff0c\u6309\u7167\u79ef\u6781\u7a33\u59a5\u3001\u9010\u6b65\u5230\u4f4d\u7684\u539f\u5219\uff0c\u9010\u6b65\u63d0\u9ad8\u4e2a\u4eba\u7f34\u8d39\u5360\u6574\u4f53\u7b79\u8d44\u7684\u6bd4\u91cd\u3002 \u800c\u6839\u636e\u6b64\u524d\u76f8\u5173\u8981\u6c42\uff0c\u57ce\u9547\u5c45\u6c11\u533b\u7597\u4fdd\u9669\u4e2a\u4eba\u7f34\u8d39\u5e94\u968f\u603b\u7b79\u8d44\u6c34\u5e73\u4f5c\u76f8\u5e94\u8c03\u6574\uff0c\u4e2a\u4eba\u7f34\u8d39\u5e94\u5360\u4eba\u5747\u603b\u7b79\u8d4420%\u5de6\u53f3\u3002\u5bf9\u6b64\uff0c\u4e2d\u592e\u8d22\u7ecf\u5927\u5b66\u6559\u6388\u891a\u798f\u7075\u5728\u63a5\u53d7\u8bb0\u8005\u91c7\u8bbf\u65f6\u8868\u793a\uff0c\u76ee\u524d\u5404\u5730\u6b63\u7814\u7a76\u5efa\u7acb\u57ce\u9547\u5c45\u6c11\u533b\u7597\u4fdd\u9669\u8d22\u653f\u8865\u52a9\u548c\u4e2a\u4eba\u7f34\u8d39\u79d1\u5b66\u5408\u7406\u3001\u534f\u540c\u589e\u957f\u7684\u673a\u5236\uff0c\u5f3a\u5316\u4e2a\u4eba\u7f34\u8d39\u4e49\u52a1\u3002 \u60e0\u6c11\u56de\u8d2d\u5927\u578b\u533b\u7597\u8bbe\u5907\u964d\u4f4e\u68c0\u67e5\u8d39 \u300a\u4efb\u52a1\u300b\u6307\u51fa\uff0c\u964d\u4f4e\u836f\u54c1\u548c\u9ad8\u503c\u533b\u7528\u8017\u6750\u4ef7\u683c\uff0c\u964d\u4f4e\u5927\u578b\u533b\u7528\u8bbe\u5907\u68c0\u67e5\u3001\u6cbb\u7597\u4ef7\u683c\uff0c\u5df2\u8d37\u6b3e\u6216\u96c6\u8d44\u8d2d\u4e70\u7684\u5927\u578b\u8bbe\u5907\u539f\u5219\u4e0a\u7531\u653f\u5e9c\u56de\u8d2d\uff0c\u56de\u8d2d\u6709\u56f0\u96be\u7684\u9650\u671f\u964d\u4f4e\u4ef7\u683c\u3002\u4ef7\u683c\u8c03\u6574\u653f\u7b56\u8981\u4e0e\u533b\u4fdd\u652f\u4ed8\u653f\u7b56\u76f8\u8854\u63a5\u3002 \u201c\u8001\u767e\u59d3\u62b1\u6028\u770b\u75c5\u8d35\u7684\u95ee\u9898\u80fd\u591f\u771f\u6b63\u7f13\u89e3\u4e86\u3002\u201d\u4e00\u4f4d\u4e0d\u613f\u900f\u9732\u59d3\u540d\u7684\u4e1a\u5185\u4eba\u58eb\u6307\u51fa\uff0c\u591a\u5e74\u6765\u60a3\u8005\u62b1\u6028\u770b\u75c5\u8d35\uff0c\u4e3b\u8981\u96c6\u4e2d\u5728\u8bca\u7597\u8d39\u7528\u4e0a\u5305\u62ec\u5927\u578b\u8bbe\u5907\u7684\u68c0\u67e5\u8d39\u7528\u7b49\u65b9\u9762\u3002\u653f\u5e9c\u4e5f\u8ba9\u533b\u9662\u964d\u4ef7\uff0c\u5f53\u5927\u578b\u8bbe\u5907\u7684\u6210\u672c\u3001\u7ef4\u4fee\u8d39\u7528\u90fd\u6446\u5728\u90a3\u91cc\uff0c\u6210\u672c\u5fc5\u7136\u5206\u644a\u5230\u60a3\u8005\u7684\u68c0\u67e5\u8d39\u7528\u4e2d\u3002 \u8bb0\u80055\u670828\u65e5\u81f4\u7535\u536b\u8ba1\u59d4\u65b0\u95fb\u5ba3\u4f20\u53f8\u526f\u53f8\u957f\u5b8b\u6811\u7acb\u4e86\u89e3\u5177\u4f53\u7684\u56de\u8d2d\u653f\u7b56\uff0c\u4f46\u622a\u81f3\u8bb0\u8005\u53d1\u7a3f\u524d\uff0c\u7535\u8bdd\u4e00\u76f4\u65e0\u6cd5\u63a5\u901a\u3002 \u8bb0\u8005\u4ece\u98df\u836f\u603b\u5c40\u4e3b\u529e\u7684\u533b\u7597\u5668\u68b0\u8d28\u91cf\u4e07\u91cc\u884c\u6d3b\u52a8\u4e2d\u4e86\u89e3\u5230\uff0c\u56fd\u5185\u5927\u7ea6\u8fd170%\u7684\u5927\u578b\u533b\u7597\u8bbe\u5907\u4ece\u9500\u552e\u5230\u552e\u540e\u670d\u52a1\u5747\u88abGE\u3001\u897f\u95e8\u5b50\u3001\u98de\u5229\u6d66\u7b49\u8de8\u56fd\u516c\u53f8\u5784\u65ad\u3002\u8fd9\u4f53\u73b0\u5728\u6280\u672f\u548c\u8017\u6750\u4e0a\u7684\u5784\u65ad\u76f4\u63a5\u5bfc\u81f4\u5e02\u573a\u7ade\u4e89\u4e0d\u5145\u5206\uff0c\u4ef7\u683c\u865a\u9ad8\u3002\u4e3a\u4e86\u8ffd\u6c42\u66f4\u9ad8\u7684\u5229\u6da6\uff0c\u751f\u4ea7\u5382\u5bb6\u4ece\u63d0\u4f9b\u7ef4\u4fee\u7684\u914d\u4ef6\u4e2d\u8d5a\u53d6\u9ad8\u989d\u5dee\u4ef7\u6210\u4e3a\u4e3b\u8981\u76c8\u5229\u624b\u6bb5\uff0c\u552e\u540e\u670d\u52a1\u63d0\u4f9b\u5546\u5b9e\u9645\u4e0a\u53d8\u6210\u4e86\u533b\u7597\u8bbe\u5907\u914d\u4ef6\u9500\u552e\u5546\u3002 \u636e\u5bf9\u5c71\u4e1c\u83cf\u6cfd\u4e00\u5bb6\u533b\u9662\u7684\u8c03\u67e5\uff0c\u76ee\u524d\u533b\u7597\u8bbe\u5907\u5382\u5bb6\u552e\u540e\u4fdd\u8d28\u671f\u4e00\u822c\u90fd\u662f\u4e00\u5e74\uff0c\u4e4b\u540e\u7684\u7ef4\u4fee\u6709\u5168\u4fdd\u3001\u6280\u672f\u4fdd\u548c\u5355\u6b21\u7ef4\u4fee3\u79cd\u60c5\u51b5\u3002\u5382\u5bb6\u5bf9\u51e0\u79cd\u8bbe\u5907\u7684\u7ef4\u4fee\u62a5\u4ef7\u5982\u4e0b\uff1a\u7f8e\u56fd\u4ea764\u6392VCT\uff0c\u4e00\u5e74\u5168\u4fdd38\u4e07\u5143\uff0c\u4e00\u5e74\u6280\u672f\u4fdd15\u4e07\u5143\uff0c\u5355\u6b21\u4eba\u5de5\u8d393.1\u4e07\u5143\uff1b\u7f8e\u56fd\u4ea7\u5355\u6392CT\u4e00\u5e74\u5168\u4fdd30\u4e07\u5143\uff0c\u4e00\u5e74\u6280\u672f\u4fdd13.6\u4e07\u5143\uff0c\u5355\u6b21\u4eba\u5de5\u8d391.1\u4e07\u5143\u2026\u2026\u7531\u4e8e\u76ee\u524d\u56fd\u5bb6\u6ca1\u6709\u4e00\u4e2a\u5927\u81f4\u7edf\u4e00\u7684\u5b9a\u4ef7\u6807\u51c6\uff0c\u57fa\u672c\u4e0a\u7531\u533b\u9662\u548c\u5382\u5bb6\u8c08\u5224\uff0c\u6700\u540e\u8fd8\u662f\u5382\u5bb6\u8bf4\u4e86\u7b97\u3002 \u201c\u4e0d\u5c11\u8fdb\u53e3\u7684\u5927\u578b\u533b\u7597\u8bbe\u5907\u7ef4\u4fee\u8d39\u7528\u5360\u4ea7\u54c1\u672c\u8eab\u8d39\u7528\u7684\u4e09\u5206\u4e4b\u4e00\u6216\u4e8c\u5206\u4e4b\u4e00\uff0c\u751a\u81f3\u6709\u7684\u5df2\u7ecf\u8d85\u8fc7\u4e86\u4ea7\u54c1\u4ef7\u683c\u3002\u56e0\u6b64\uff0c\u536b\u751f\u5c40\u8ba9\u533b\u9662\u964d\u4f4e\u68c0\u67e5\u8d39\u7528\u4ef7\u683c\uff0c\u6839\u672c\u5c31\u4e0d\u53ef\u80fd\uff0c\u800c\u7528\u56de\u8d2d\u8fd9\u4e00\u624b\u6bb5\u89e3\u51b3\u4e86\u8bca\u7597\u8d39\u7528\u9ad8\u7684\u95ee\u9898\u3002\u201d\u4e0a\u8ff0\u4eba\u58eb\u6307\u51fa\u3002 \u9f13\u52b1\u5b9e\u73b0\u8de8\u7701\u8054\u5408\u62db\u6807\u964d\u4f4e\u836f\u4ef7 \u201c\u5c3d\u7ba1\u8de8\u7701\u62db\u6807\u5728\u653f\u5e9c\u91c7\u8d2d\u4e2d\u5e76\u4e0d\u662f\u4e00\u4e2a\u65b0\u9c9c\u4e8b\uff0c\u4f46\u8fd9\u662f\u836f\u54c1\u884c\u4e1a\u7b2c\u4e00\u6b21\u63d0\u51fa\u3002\u201d\u4e2d\u56fd\u533b\u836f\u4f01\u4e1a\u7ba1\u7406\u534f\u4f1a\u526f\u4f1a\u957f\u725b\u6b63\u4e7e28\u65e5\u8868\u793a\uff0c\u8de8\u7701\u8054\u5408\u62db\u6807\u53ef\u80fd\u63a8\u8fdb\u62db\u6807\u73af\u8282\u7684\u516c\u5f00\u3001\u900f\u660e\u3002 \u300a\u4efb\u52a1\u300b\u5728\u201c\u52a0\u5feb\u63a8\u884c\u516c\u7acb\u533b\u9662\u6539\u9769\u201d\u4e2d\u6307\u51fa\uff0c\u9f13\u52b1\u8de8\u7701\u8054\u5408\u62db\u6807\u91c7\u8d2d\u4fdd\u8bc1\u836f\u54c1\u8d28\u91cf\u5b89\u5168\uff0c\u5207\u5b9e\u964d\u4f4e\u836f\u54c1\u4ef7\u683c\uff0c\u6709\u6761\u4ef6\u7684\u5730\u533a\u8981\u5efa\u7acb\u4e0e\u57fa\u5c42\u57fa\u672c\u836f\u7269\u91c7\u8d2d\u8054\u52a8\u7684\u673a\u5236\u3002\u9010\u6b65\u89c4\u8303\u96c6\u4e2d\u91c7\u8d2d\u836f\u54c1\u7684\u5242\u578b\u3001\u89c4\u683c\u548c\u5305\u88c5\u3002\u63a8\u8fdb\u9ad8\u503c\u533b\u7528\u8017\u6750\u516c\u5f00\u900f\u660e\u3001\u516c\u5e73\u7ade\u4e89\u7f51\u4e0a\u9633\u5149\u91c7\u8d2d\u3002\u836f\u54c1\u548c\u9ad8\u503c\u533b\u7528\u8017\u6750\u91c7\u8d2d\u6570\u636e\u5b9e\u884c\u90e8\u95e8\u548c\u533a\u57df\u5171\u4eab\u3002 \u4e2d\u6295\u987e\u95ee\u533b\u836f\u884c\u4e1a\u7814\u7a76\u5458\u8bb8\u73b2\u59ae\u6307\u51fa\uff0c\u53bf\u7ea7\u533b\u9662\u8054\u5408\u62db\u6807\u80fd\u591f\u964d\u4f4e\u836f\u54c1\u914d\u9001\u8d39\u7528\uff0c\u8fd9\u90e8\u5206\u5dee\u4ef7\u5206\u644a\u5230\u836f\u54c1\u4e0a\u6709\u5229\u4e8e\u964d\u4f4e\u836f\u54c1\u4ef7\u683c\uff0c\u800c\u4e14\u6709\u5229\u4e8e\u5e73\u8861\u62db\u6807\u836f\u54c1\u7684\u8d28\u91cf\u548c\u4ef7\u683c\uff0c\u6539\u53d8\u4ee5\u5f80\u5907\u53d7\u4e1a\u754c\u8bdf\u75c5\u201c\u552f\u4f4e\u4ef7\u662f\u53d6\u201d\u7684\u62db\u6807\u89c4\u5219\u3002 \u4e0d\u5c11\u533b\u836f\u4f01\u4e1a\u7684\u8463\u4e8b\u957f\u90fd\u5411\u8bb0\u8005\u8868\u793a\uff0c\u73b0\u884c\u4ee5\u7701\u4e3a\u5355\u4f4d\u7684\u836f\u54c1\u96c6\u4e2d\u62db\u6807\u91c7\u8d2d\u5236\u5ea6\u5b58\u5728\u4e0d\u5c11\u5f0a\u7aef\uff0c\u52b3\u6c11\u4f24\u8d22\uff0c\u5e94\u8be5\u8fdb\u884c\u6539\u9769\u3002 \u8bb8\u73b2\u59ae\u6307\u51fa\uff0c\u836f\u54c1\u62db\u6807\u91c7\u8d2d\u89c4\u5219\u5b58\u5728\u6f0f\u6d1e\uff0c\u7f3a\u4e4f\u7531\u653f\u5e9c\u90e8\u95e8\u63d0\u4f9b\u5fc5\u8981\u7684\u3001\u8f83\u5168\u9762\u7684\u836f\u54c1\u4fe1\u606f\u3002\u4e8c\u662f\u836f\u54c1\u96c6\u4e2d\u62db\u6807\u91c7\u8d2d\u76d1\u7763\u7ba1\u7406\u96be\u4ee5\u5230\u4f4d\uff0c\u62db\u6807\u540e\u6ca1\u6709\u89c4\u8303\u7684\u4fe1\u606f\u53cd\u9988\u7a0b\u5e8f\uff0c\u76d1\u7ba1\u90e8\u95e8\u65e0\u6cd5\u5bf9\u62db\u6807\u4eba\u5408\u540c\u5c65\u884c\u60c5\u51b5\u8fdb\u884c\u6709\u6548\u76d1\u7ba1\uff0c\u4f7f\u96c6\u4e2d\u62db\u6807\u91c7\u8d2d\u6d3b\u52a8\u201c\u5148\u70ed\u540e\u51c9\uff0c\u6d41\u4e8e\u5f62\u5f0f\u201d\u3002 \u201c\u62db\u6295\u6807\u672c\u6765\u662f\u56fd\u9645\u4e0a\u901a\u884c\u7684\u4e00\u79cd\u6bd4\u8f83\u597d\u7684\u5e02\u573a\u5316\u91c7\u8d2d\u65b9\u5f0f\uff0c\u4f46\u76ee\u524d\u6211\u56fd\u653f\u5e9c\u5305\u529e\u7684\u836f\u54c1\u62db\u6807\u653f\u7b56\u4e25\u91cd\u5f02\u5316\uff0c\u6210\u4e3a\u836f\u54c1\u8fdb\u5165\u5e02\u573a\u6240\u6267\u884c\u7684\u4e8c\u6b21\u884c\u653f\u7ba1\u5236\u3002\u201d\u8475\u82b1\u836f\u4e1a\u96c6\u56e2\u8463\u4e8b\u957f\u5173\u5f66\u658c\u6307\u51fa\uff0c\u73b0\u884c\u836f\u54c1\u62db\u6295\u6807\u7684\u5b9e\u8d28\u662f\u628a\u836f\u54c1\u8fdb\u5165\u533b\u7597\u673a\u6784\u4f7f\u7528\u7684\u6b63\u5e38\u5e02\u573a\u884c\u4e3a\u53d8\u6210\u4e86\u884c\u653f\u5ba1\u6279\uff0c\u5e76\u4e14\u540c\u79cd\u4ea7\u54c1\u4e0d\u540c\u533a\u57df\u5e74\u5e74\u5ba1\u6279\uff0c\u62db\u6807\u4e3b\u7ba1\u90e8\u95e8\u6210\u4e86\u836f\u54c1\u9886\u57df\u7684\u6700\u5927\u5ba1\u6279\u6743\u673a\u6784\u3002 \u4e0d\u8fc7\uff0c\u8bb8\u73b2\u59ae\u4e5f\u6307\u51fa\uff0c\u836f\u54c1\u8de8\u7701\u8054\u5408\u62db\u6807\u91c7\u8d2d\u662f\u5426\u53ef\u884c\u4e0e\u5404\u7701\u7684\u533a\u4f4d\u6709\u5173\uff0c\u56e0\u4e3a\u836f\u4f01\u8981\u627f\u62c5\u8fd0\u8f93\u6210\u672c\uff0c\u5982\u679c\u5230\u4e24\u7701\u8ddd\u79bb\u4e0d\u4e00\u6837\uff0c\u627f\u62c5\u7684\u8fd0\u8d39\u6210\u672c\u660e\u663e\u4e0d\u540c\uff0c\u5982\u679c\u6309\u7167\u7edf\u4e00\u62db\u6807\u5e76\u4e0d\u5408\u7406\u3002\u201c\u6bd4\u5982\u5317\u4eac\u3001\u5929\u6d25\u8fd9\u4e24\u4e2a\u76f4\u8f96\u5e02\uff0c\u8f96\u533a\u8f83\u5c0f\uff0c\u836f\u4f01\u7edf\u4e00\u914d\u9001\u627f\u62c5\u7684\u8d39\u7528\u5dee\u4e0d\u591a\u7684\u60c5\u51b5\u4e0b\uff0c\u8de8\u7701\u8054\u5408\u62db\u6807\u91c7\u8d2d\u662f\u53ef\u884c\u7684\u3002\u201d\n\n\u542f\u7528\u673a\u6784\u540d\u8bc6\u522b\u540e\uff0c\u5207\u8bcd\u7ed3\u679c\u4f1a\u628a  \"\u8475\u82b1  \u5f53\u505a\u673a\u6784\u540d\n", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/33/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/33/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/22", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/22/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/22/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/22/events", "html_url": "https://github.com/hankcs/HanLP/issues/22", "id": 81302331, "node_id": "MDU6SXNzdWU4MTMwMjMzMQ==", "number": 22, "title": "\u5206\u8bcd\u5668\u5bf9\"\u4e09\u5e74\"\u7684\u5206\u8bcd\u7ed3\u679c\u4e0d\u662f\u5f88\u7406\u60f3", "user": {"login": "a198720", "id": 6447018, "node_id": "MDQ6VXNlcjY0NDcwMTg=", "avatar_url": "https://avatars.githubusercontent.com/u/6447018?v=4", "gravatar_id": "", "url": "https://api.github.com/users/a198720", "html_url": "https://github.com/a198720", "followers_url": "https://api.github.com/users/a198720/followers", "following_url": "https://api.github.com/users/a198720/following{/other_user}", "gists_url": "https://api.github.com/users/a198720/gists{/gist_id}", "starred_url": "https://api.github.com/users/a198720/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/a198720/subscriptions", "organizations_url": "https://api.github.com/users/a198720/orgs", "repos_url": "https://api.github.com/users/a198720/repos", "events_url": "https://api.github.com/users/a198720/events{/privacy}", "received_events_url": "https://api.github.com/users/a198720/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2015-05-27T06:25:41Z", "updated_at": "2015-05-27T10:19:56Z", "closed_at": "2015-05-27T08:32:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "\u6d4b\u8bd5\u4ee3\u7801:\nList<Term> termList = StandardTokenizer.segment(\"\u4e09\u5e74\");\nSystem.out.println(termList);\ntermList = StandardTokenizer.segment(\"3\u5e74\");\nSystem.out.println(termList);\ntermList = StandardTokenizer.segment(\"\u4e09 \u5e74\");\nSystem.out.println(termList);\ntermList = StandardTokenizer.segment(\"\u4e09\u5143\");\nSystem.out.println(termList);\ntermList = StandardTokenizer.segment(\"3\u5143\");\nSystem.out.println(termList);\n======================\u5206\u8bcd\u7ed3\u679c======================================\n[\u4e09/m, \u5e74/n]\n[3\u5e74/m]\n[\u4e09/m,  /w, \u5e74/q]\n[\u4e09\u5143/nz]\n[3\u5143/mq]\n\n\u9996\u5148\u67e5\u770b\u8bcd\u5e93,\u627e\u5230\u5173\u4e8e\u5e74\u548c\u5143\u7684\u76f8\u5173\u4fe1\u606f:\n\u5e74 D 219 B 61 C 42 L 20 K 12 E 8  \n\u5e74 B 105 D 57 A 11 X 1 \n\u5e74 q   2421    n   95  m   1  \n\u5e74 qt 14340    \n\n\u5143 P 47 D 2 A 1  \n\u5143 D 957 C 672 E 60 B 22 K 3 L 1  \n\u5143 q   1536    tg  5   n   1\n\n\u8bcd\u5e93\u4e2d\u5bf9\u5e74\u7684\u7edf\u8ba1,\u660e\u663e\u91cf\u8bcd\u7684\u8bcd\u9891\u6bd4\u8f83\u9ad8,\u4f46\u662f\u4e3a\u4ec0\u4e48\u5206\u51fa\u6765\u662f\u540d\u8bcd\u5462.\u6211\u7684\u4ee3\u7801\u5df2\u7ecf\u662f\u6700\u65b0\u7684\u4ee3\u7801\u4e86.\n", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/22/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/22/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/21", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/21/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/21/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/21/events", "html_url": "https://github.com/hankcs/HanLP/issues/21", "id": 80840297, "node_id": "MDU6SXNzdWU4MDg0MDI5Nw==", "number": 21, "title": "\u5206\u8bcdbug", "user": {"login": "bluedesire", "id": 2919910, "node_id": "MDQ6VXNlcjI5MTk5MTA=", "avatar_url": "https://avatars.githubusercontent.com/u/2919910?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bluedesire", "html_url": "https://github.com/bluedesire", "followers_url": "https://api.github.com/users/bluedesire/followers", "following_url": "https://api.github.com/users/bluedesire/following{/other_user}", "gists_url": "https://api.github.com/users/bluedesire/gists{/gist_id}", "starred_url": "https://api.github.com/users/bluedesire/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bluedesire/subscriptions", "organizations_url": "https://api.github.com/users/bluedesire/orgs", "repos_url": "https://api.github.com/users/bluedesire/repos", "events_url": "https://api.github.com/users/bluedesire/events{/privacy}", "received_events_url": "https://api.github.com/users/bluedesire/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2015-05-26T07:39:43Z", "updated_at": "2018-11-22T01:37:49Z", "closed_at": "2015-05-26T08:20:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "\u5bf9\u4e00\u7247\u6587\u672c\u8fdb\u884c\u5206\u8bcd\uff0c\u53d1\u73b0\u4f1a\u629bIllegalArgumentException\u5f02\u5e38\uff0c\u6bcf\u6b21\u5fc5\u73b0\u3002\u4e0d\u77e5\u9053\u662f\u4ec0\u4e48\u539f\u56e0\uff0c\u80fd\u89e3\u91ca\u4e00\u4e0b\u5417\uff1f\u662f\u6211\u4f7f\u7528\u7684\u65b9\u6cd5\u4e0d\u5bf9\u5417\uff1f\u6211\u8dd1\u4e86\u51e0\u5343\u7bc7\u6587\u7ae0\u90fd\u6ca1\u95ee\u9898\uff0c\u53ea\u6709\u8fd9\u7bc7\u6587\u7ae0\u6709\u95ee\u9898\u3002\n\n\u6d4b\u8bd5\u6587\u672c\uff1a\n\u3000\u3000\u6628\u65e5\uff0c\u9648\u71d5\u548c\u5bfc\u76f2\u72ac\u5230\u8fbe\u96cd\u548c\u5bab\u7ad9\u51c6\u5907\u6362\u4e582\u53f7\u7ebf\u3002\u6839\u636e\u5f53\u5929\u8d77\u5b9e\u65bd\u7684\u65b0\u89c4\uff0c\u5bfc\u76f2\u72ac\u88ab\u5141\u8bb8\u4e58\u5750\u5730\u94c1\u548c\u706b\u8f66\u3002\u65b0\u4eac\u62a5\u8bb0\u8005 \u738b\u8d35\u5f6c \u6444\n\u3000\u3000 \n\u3000\u3000\u5730\u94c1\u5185\u4e00\u4f4d\u5c0f\u5973\u5b69\u89c1\u5230\u5bfc\u76f2\u72ac\u6709\u4e9b\u5bb3\u6015\uff0c\u9648\u71d5\u8868\u793a\u5bfc\u76f2\u72ac\u5f88\u5b89\u5168\uff0c\u201c\u5c31\u662f\u8e29\u5230\u5b83\u7684\u811a\uff0c\u5b83\u4e5f\u4e0d\u4f1a\u54ac\u4f60\u3002\u201d\u65b0\u4eac\u62a5\u8bb0\u8005 \u738b\u8d35\u5f6c \u6444\n\u3000\u3000 \n\u3000\u3000\u6628\u65e5\uff0c\u5730\u94c1\u897f\u76f4\u95e8\u7ad9\uff0c\u6d41\u52a8\u5de1\u67e5\u7684\u5317\u4eac\u5e02\u8f68\u9053\u4ea4\u901a\u6267\u6cd5\u5927\u961f\u6267\u6cd5\u4eba\u5458\uff0c\u80f8\u524d\u4f69\u6234\u6267\u6cd5\u8bb0\u5f55\u4eea\u3002\n\u3000\u3000\u5b9e\u4e60\u751f \u5f6d\u5b50\u6d0b \u6444\n\u3000\u3000\u8f68\u9053\u4ea4\u901a\u6267\u6cd5\u961f\u6267\u6cd5\u9996\u65e5\u672a\u5f00\u7f5a\u5355\n\u3000\u3000\u300a\u5317\u4eac\u5e02\u8f68\u9053\u4ea4\u901a\u8fd0\u8425\u5b89\u5168\u6761\u4f8b\u300b\u5b9e\u65bd\uff0c\u521d\u671f\u5bf9\u4e5e\u8ba8\u5356\u827a\u4ee5\u529d\u5bfc\u4e3a\u4e3b\uff1b\u88ab\u62d211\u6b21\u5bfc\u76f2\u72ac\u7ec8\u4e58\u5730\u94c1\n\u3000\u3000\u65b0\u4eac\u62a5\u8baf \u5b9e\u65bd\u9996\u65e5\uff0c\u5317\u4eac\u9996\u652f\u8f68\u9053\u4ea4\u901a\u6267\u6cd5\u961f\u4e5f\u4e8e\u5f53\u5929\u5f00\u59cb\u8fdb\u5730\u94c1\u6267\u6cd5\uff0c\u5f53\u5929\u5e76\u672a\u5f00\u51fa\u7f5a\u5355\u3002\u4ea4\u901a\u6267\u6cd5\u90e8\u95e8\u76f8\u5173\u8d1f\u8d23\u4eba\u8868\u793a\uff0c\u6cd5\u89c4\u5b9e\u65bd\u524d\u671f\u4ee5\u529d\u5bfc\u4e3a\u4e3b\u3002\n\u3000\u3000\u6700\u7ec8\u76ee\u6807\uff1a\u7ad9\u5747\u4e24\u540d\u6267\u6cd5\u4eba\u5458\n\u3000\u3000\u6839\u636e\u300a\u6761\u4f8b\u300b\u89c4\u5b9a\uff0c\u5728\u5730\u94c1\u91cc\u4e5e\u8ba8\u3001\u5356\u827a\u5c06\u88ab\u5904\u4ee550\u5143\u4ee5\u4e0a1000\u5143\u4ee5\u4e0b\u7f5a\u6b3e\u3002\u5728\u8f66\u7ad9\u3001\u8f66\u53a2\u5185\u6d3e\u53d1\u5e7f\u544a\u7b49\u7269\u54c1\u7684\uff0c\u9762\u4e34\u6700\u9ad81\u4e07\u5143\u7684\u7f5a\u6b3e\u3002\u4f5c\u4e3a\u4f9d\u7167\u6cd5\u89c4\u6267\u6cd5\u7684\u5317\u4eac\u5e02\u8f68\u9053\u4ea4\u901a\u6267\u6cd5\u5927\u961f\u6628\u5929\u9996\u6b21\u8fdb\u5730\u94c1\u5de5\u4f5c\uff0c\u5f53\u5929\u4e0a\u5348\uff0c\u8bb0\u8005\u5728\u897f\u76f4\u95e8\u7b49\u5730\u94c1\u8f66\u7ad9\u770b\u5230\uff0c\u5728\u95f8\u673a\u5904\u548c\u6362\u4e58\u901a\u9053\u5185\uff0c\u8eab\u7740\u4ea4\u901a\u6267\u6cd5\u5236\u670d\u7684\u6267\u6cd5\u4eba\u5458\u4e24\u4eba\u4e00\u7ec4\u6d41\u52a8\u5de1\u67e5\u3002\n\u3000\u3000\u6267\u6cd5\u961f\u76f8\u5173\u8d1f\u8d23\u4eba\u544a\u8bc9\u8bb0\u8005\uff0c\u76ee\u524d\u6d41\u52a8\u5de1\u67e5\u5bf9\u4e8e\u53d1\u73b0\u8fdd\u89c4\u7684\u4eba\u5458\uff0c\u53ef\u80fd\u9996\u5148\u8fdb\u884c\u529d\u5bfc\u8be2\u95ee\uff0c\u4e00\u5f00\u59cb\u4e0d\u4f1a\u8fdb\u884c\u5904\u7f5a\u3002\u82e5\u51fa\u73b0\u4e25\u91cd\u60c5\u8282\uff0c\u5982\u4e0d\u505c\u6b62\u8fdd\u6cd5\u8fdd\u89c4\u884c\u4e3a\u7684\uff0c\u4f1a\u91c7\u53d6\u5f3a\u5236\u63aa\u65bd\u4ee5\u53ca\u5904\u7f5a\uff0c\u201c\u6267\u6cd5\u4eba\u5458\u90fd\u8981\u8fdb\u884c\u73b0\u573a\u53d6\u8bc1\u201d\u3002\n\u3000\u3000\u636e\u7edf\u8ba1\uff0c\u8f68\u9053\u4ea4\u901a\u6267\u6cd5\u5927\u961f\u6b63\u5f0f\u4e0a\u5c97\u7684\u7b2c\u4e00\u5929\uff0c\u5927\u961f\u5168\u5458\u4e0a\u5c97\uff0c\u5728\u517c\u987e\u5730\u94c1\u5168\u7ebf\u7f51\u7684\u60c5\u51b5\u4e0b\uff0c\u91cd\u70b9\u5bf91\u53f7\u7ebf\u30012\u53f7\u7ebf\u30014\u53f7\u7ebf\u30015\u53f7\u7ebf\u300110\u53f7\u7ebf\u768470\u4e2a\u91cd\u70b9\u8f66\u7ad9\u8fdb\u884c\u76d1\u7ba1\uff0c\u5de1\u89c6\u8f66\u7ad997\u5ea7\uff0c\u529d\u963b\u5728\u5730\u94c1\u7ad9\u5185\u73a9\u8f6e\u6ed1\u884c\u4e3a3\u8d77\uff1b\u529d\u963b\u6446\u644a\u5c0f\u5546\u8d294\u8d77\uff1b\u529d\u963b\u6563\u53d1\u5c0f\u5e7f\u544a1\u8d77\uff1b\u529d\u963b\u7ffb\u8d8a\u95f8\u673a2\u8d77\u3002\n\u3000\u3000\u4ea4\u901a\u6267\u6cd5\u603b\u961f\u526f\u603b\u961f\u957f\u6881\u5efa\u4f1f\u4ecb\u7ecd\uff0c\u8f68\u9053\u4ea4\u901a\u6267\u6cd5\u5927\u961f\u73b0\u6b63\u5f0f\u7f16\u5236\u5171\u670988\u4eba\uff0c\u6309\u7167\u5730\u94c1\u8fd0\u8425\u516c\u53f8\u7ba1\u7406\u8303\u56f4\u5206\u4e3a5\u4e2a\u4e2d\u961f\uff0c\u548c\u4e00\u4e2a\u4e13\u95e8\u8d1f\u8d23\u5e94\u5bf9\u91cd\u70b9\u8f66\u7ad9\u91cd\u70b9\u65f6\u6bb5\u6216\u5927\u5ba2\u6d41\u51b2\u51fb\u65f6\u5b89\u5168\u4fdd\u969c\u7684\u673a\u52a8\u4e2d\u961f\u3002\n\u3000\u3000\u201c\u6211\u4eec\u7684\u6700\u7ec8\u76ee\u6807\u662f318\u4e2a\u7ad9\uff0c\u5e73\u5747\u6bcf\u7ad9\u4e24\u540d\u6267\u6cd5\u4eba\u5458\u201d\uff0c\u6881\u5efa\u4f1f\u8bf4\uff0c\u6267\u6cd5\u5927\u961f\u540e\u7eed\u8fd8\u4f1a\u62db\u8058\u4eba\u5458\u8f85\u52a9\u6267\u6cd5\uff0c\u540c\u65f6\u501f\u52a9\u5730\u94c1\u8fd0\u8425\u65b9\u4e3a\u6267\u6cd5\u63d0\u4f9b\u4fdd\u969c\u3002\n\u3000\u3000\u6ed1\u677f\u8f66\u7b49\u6216\u5c06\u7981\u5165\u5730\u94c1\n\u3000\u3000\u6881\u5efa\u4f1f\u4ecb\u7ecd\uff0c\u6267\u6cd5\u961f\u5458\u804c\u8d23\u5305\u62ec\u5bf9\u5371\u5bb3\u8f68\u9053\u4ea4\u901a\u8bbe\u5907\u8bbe\u65bd\u5b89\u5168\u7684\u884c\u4e3a\u3001\u5371\u5bb3\u8f68\u9053\u4ea4\u901a\u8fd0\u8425\u5b89\u5168\u7684\u884c\u4e3a\u53ca\u8f68\u9053\u4ea4\u901a\u76f8\u5173\u5355\u4f4d\u4e0d\u843d\u5b9e\u5b89\u5168\u751f\u4ea7\u4e3b\u4f53\u8d23\u4efb\u7684\u884c\u4e3a\u5b9e\u65bd\u884c\u653f\u5904\u7f5a\uff0c\u5176\u4e2d\u670941\u9879\u884c\u653f\u5904\u7f5a\uff0c5\u9879\u884c\u653f\u5f3a\u5236\u3002\n\u3000\u3000\u201c\u6cd5\u89c4\u5b9e\u65bd\u524d\u671f\uff0c\u6211\u4eec\u8fd8\u662f\u4ee5\u529d\u963b\u4e3a\u4e3b\u3002\u201d\u6881\u5efa\u4f1f\u8bf4\uff0c\u6761\u4f8b\u5bf9\u5728\u8f66\u7ad9\u3001\u8f66\u53a2\u5185\u4e5e\u8ba8\u5356\u827a\u3001\u6d3e\u53d1\u5e7f\u544a\u4ee5\u53ca\u5176\u4ed6\u5371\u5bb3\u5730\u94c1\u5b89\u5168\u7684\u884c\u4e3a\u90fd\u6709\u4e86\u89c4\u5b9a\uff0c\u4f46\u5b9e\u65bd\u4e0a\u6709\u5177\u4f53\u95ee\u9898\uff0c\u8fd8\u9700\u8981\u5236\u5b9a\u7ec6\u5219\u6765\u8fdb\u4e00\u6b65\u660e\u786e\uff0c\u76ee\u524d\u7ec6\u5219\u6b63\u5728\u7814\u7a76\u4e2d\uff0c\u5c06\u4e8e1\u4e2a\u6708\u52302\u4e2a\u6708\u5185\u51fa\u53f0\u3002\n\u3000\u3000\u5317\u4eac\u5730\u94c1\u8fd0\u8425\u516c\u53f8\u76f8\u5173\u8d1f\u8d23\u4eba\u8868\u793a\uff0c\u300a\u6761\u4f8b\u300b\u4e2d\u63d0\u5230\uff0c\u5728\u8f66\u7ad9\u5185\u7981\u6b62\u4ece\u4e8b\u6ed1\u677f\u3001\u8f6e\u6ed1\u3001\u81ea\u884c\u8f66\u7b49\u8fd0\u52a8\u3002\u4e0b\u4e00\u6b65\uff0c\u6ed1\u677f\u3001\u8f6e\u6ed1\u7b49\u8fd0\u52a8\u5668\u5177\u53ef\u80fd\u7981\u6b62\u5e26\u5165\u5730\u94c1\u3002\u76ee\u524d\uff0c\u6709\u5173\u7981\u5e26\u7269\u54c1\u7684\u76ee\u5f55\u76f8\u5173\u90e8\u95e8\u8fd8\u5728\u8fdb\u4e00\u6b65\u5b8c\u5584\uff0c\u4e4b\u524d\u5141\u8bb8\u5e26\u7684\u5927\u578b\u5de5\u5177\u7b49\u7b49\uff0c\u672a\u6765\u6216\u5217\u5165\u8fdd\u7981\u540d\u5355\u4e2d\u3002\n\u3000\u3000\u25a0 \u63a2\u8bbf\n\u3000\u3000\u4e58\u5ba2\uff1a\u6253\u51fb\u4e5e\u8ba8\u4e0d\u80fd\u4ec5\u9760\u7f5a\u6b3e\n\u3000\u3000\u6628\u65e5\u4e2d\u53481\u65f6\u8bb8\uff0c\u8bb0\u8005\u5728\u5730\u94c12\u53f7\u7ebf\u5ba3\u6b66\u95e8\u7ad9\u770b\u5230\u4e00\u4f4d\u5987\u5973\u62ff\u7740\u4e00\u4e2a\u97f3\u7bb1\uff0c\u4e00\u8fb9\u653e\u97f3\u4e50\u4e00\u8fb9\u5411\u4e58\u5ba2\u4e5e\u8ba8\uff0c\u4e00\u8282\u8f66\u53a2\u5185\uff0c\u53ea\u6709\u4e00\u4f4d\u5e74\u8f7b\u7684\u5973\u4e58\u5ba2\u7ed9\u4e86\u59791\u5143\u94b1\u3002\u6839\u636e\u300a\u5317\u4eac\u5e02\u8f68\u9053\u4ea4\u901a\u8fd0\u8425\u5b89\u5168\u6761\u4f8b\u300b\uff0c\u5bf9\u5730\u94c1\u4e5e\u8ba8\u5356\u827a\u7b49\u5371\u5bb3\u5730\u94c1\u8fd0\u8425\u5b89\u5168\u7684\u884c\u4e3a\uff0c\u8f68\u9053\u4ea4\u901a\u6267\u6cd5\u4eba\u5458\u53ef\u5b9e\u65bd\u884c\u653f\u5904\u7f5a\u3002\n\u3000\u3000\u8bb0\u8005\u968f\u540e\u62e8\u6253\u4e86\u5730\u94c1\u8f66\u53a2\u5185\u8d34\u7740\u7684\u5317\u4eac\u5730\u94c1\u76d1\u7763\u7535\u8bdd96165\u3002\u5f97\u77e5\u662f\u4e3e\u62a5\u4e5e\u8ba8\u5356\u827a\u884c\u4e3a\u540e\uff0c\u63a5\u7ebf\u5458\u8be2\u95ee\u4e86\u7ebf\u8def\u3001\u8f66\u7ad9\u3001\u5217\u8f66\u8fd0\u884c\u65b9\u5411\u3001\u6240\u5728\u8f66\u53a2\u4ee5\u53ca\u4e5e\u8ba8\u4eba\u5458\u884c\u8fdb\u7684\u65b9\u5411\u7b49\u4fe1\u606f\uff0c\u5e76\u8868\u793a\u4f1a\u9a6c\u4e0a\u8054\u7cfb\u8f66\u7ad9\u5de5\u4f5c\u4eba\u5458\u3002\n\u3000\u3000\u201c\u4e5e\u8ba8\u5356\u827a\u884c\u4e3a\u8ba9\u4eba\u611f\u5230\u538c\u70e6\u201d\uff0c\u540c\u8f66\u4e58\u5ba2\u8c22\u5973\u58eb\u8868\u793a\uff0c\u81ea\u5df1\u66fe\u6709\u8fc7\u591a\u6b21\u5728\u5730\u94c1\u4e0a\u7761\u7740\u540e\u88ab\u4e5e\u8ba8\u8005\u5435\u9192\u7684\u7ecf\u5386\uff0c\u4f46\u5979\u540c\u65f6\u8ba4\u4e3a\u5bf9\u8fd9\u4e9b\u4eba\u5458\u8fd8\u662f\u5e94\u4ee5\u529d\u5bfc\u4e3a\u4e3b\u3002\u540c\u8f66\u5927\u591a\u6570\u4e58\u5ba2\u4e5f\u8ba4\u4e3a\uff0c\u5730\u94c1\u4e2d\u7684\u4e5e\u8ba8\u884c\u4e3a\u4e00\u822c\u90fd\u6709\u7ec4\u7ec7\uff0c\u4e0d\u5904\u7f5a\u4e5e\u8ba8\u5356\u827a\u7ec4\u7ec7\u8005\uff0c\u4f46\u9760\u7f5a\u6b3e\u96be\u4ee5\u675c\u7edd\u8fd9\u6837\u7684\u884c\u4e3a\u3002\n\u3000\u3000\u6b64\u5916\uff0c\u5927\u591a\u6570\u4e58\u5ba2\u5bf9\u4e8e\u6563\u53d1\u5c0f\u5e7f\u544a\u201c\u6df1\u6076\u75db\u7edd\u201d\uff0c\u79f0\u8be5\u884c\u4e3a\u4f7f\u5730\u94c1\u8f66\u53a2\u5185\u73af\u5883\u810f\u4e71\u3002\u4eac\u6e2f\u5730\u94c1\u5b89\u5168\u90e8\u95e8\u8d1f\u8d23\u4eba\u4ecb\u7ecd\uff0c\u4ed6\u4eec\u5de5\u4f5c\u4eba\u5458\u5bf9\u5730\u94c1\u5185\u6563\u53d1\u5c0f\u5e7f\u544a\u7684\u884c\u4e3a\u53ea\u80fd\u529d\u963b\uff0c\u800c\u4e0d\u80fd\u6ca1\u6536\u4ed6\u4eec\u7684\u5c0f\u5e7f\u544a\u30025\u67081\u65e5\u4ee5\u540e\uff0c\u6709\u4e86\u6761\u4f8b\u7684\u652f\u6301\uff0c\u4f1a\u5728\u8fd9\u65b9\u9762\u52a0\u5f3a\u7ba1\u7406\u3002\n\u3000\u3000\u5bfc\u76f2\u72ac\u73cd\u59ae\u7ec8\u4e8e\u201c\u83b7\u51c6\u201d\u4e58\u5730\u94c1\n\u3000\u3000\u6b64\u524d\u88ab\u62d211\u6b21\uff1b\u300a\u6761\u4f8b\u300b\u660e\u786e\u89c6\u529b\u6b8b\u969c\u8005\u53ef\u643a\u5e26\u5bfc\u76f2\u72ac\u8fdb\u7ad9\u4e58\u8f66\n\u3000\u3000\u5728\u7ecf\u5386\u4e8611\u6b21\u88ab\u62d2\u7edd\u4ee5\u540e\uff0c\u5bfc\u76f2\u72ac\u73cd\u59ae\u6628\u5929\u7ec8\u4e8e\u611f\u53d7\u4e86\u4e00\u628a\u5317\u4eac\u5730\u94c1\u3002\u6b64\u6b21\u300a\u6761\u4f8b\u300b\u660e\u786e\uff0c\u89c6\u529b\u6b8b\u969c\u8005\u53ef\u643a\u5e26\u5bfc\u76f2\u72ac\u8fdb\u7ad9\u4e58\u8f66\u3002\n\u3000\u3000\u6628\u5929\u4e0a\u5348\uff0c\u5730\u94c15\u53f7\u7ebf\u5929\u901a\u82d1\u7ad9\uff0c\u89c6\u969c\u4eba\u58eb\u9648\u71d5\u7275\u7740\u5bfc\u76f2\u72ac\u73cd\u59ae\uff0c\u6765\u5230\u5730\u94c1\u5929\u901a\u82d1\u7ad9\uff0c\u8f66\u7ad9\u5de5\u4f5c\u4eba\u5458\u68c0\u67e5\u4e86\u89c6\u529b\u6b8b\u969c\u8bc1\u4ef6\u3001\u5bfc\u76f2\u72ac\u8bc1\u4ef6\u540e\uff0c\u5411\u9648\u71d5\u53d1\u653e\u4e86\u798f\u5229\u7968\u3002\n\u3000\u3000\u5728\u5de5\u4f5c\u4eba\u5458\u5f15\u5bfc\u4e0b\uff0c\u9648\u71d5\u548c\u5bfc\u76f2\u72ac\u987a\u5229\u8fdb\u7ad9\u3002\u7ad9\u5728\u5e26\u65e0\u969c\u788d\u6807\u5fd7\u7684\u5019\u8f66\u95e8\u524d\uff0c\u9648\u71d5\u53cd\u590d\u6307\u4e00\u4e0b\u6807\u5fd7\uff0c\u53c8\u62cd\u4e00\u4e0b\u73cd\u59ae\u7684\u5934\uff0c\u544a\u8bc9\u5b83\u8981\u8bb0\u4f4f\u8fd9\u4e2a\u4f4d\u7f6e\u3002\n\u3000\u3000\u5600\u5600\u5600\uff0c\u5730\u94c1\u95e8\u6253\u5f00\uff0c\u73cd\u59ae\u5c0f\u5fc3\u7ffc\u7ffc\u5730\u8d70\u8fdb\u8f66\u53a2\uff0c\u5b83\u5f15\u5bfc\u9648\u71d5\u627e\u5230\u8f66\u53a2\u63a5\u53e3\u5904\u7684\u7a7a\u4f4d\u7f6e\u540e\u505c\u4f4f\uff0c\u7b49\u9648\u71d5\u7ad9\u5b9a\u540e\uff0c\u73cd\u59ae\u9759\u9759\u7684\u8db4\u5728\u811a\u8fb9\u3002\u8f66\u53a2\u91cc\u5176\u4ed6\u4e58\u5ba2\u5bf9\u5bfc\u76f2\u72ac\u4e58\u8f66\u975e\u5e38\u611f\u5174\u8da3\uff0c\u4f46\u5e76\u6ca1\u6709\u4eba\u5f15\u9017\uff0c\u73cd\u59ae\u4e5f\u4e1d\u6beb\u6ca1\u6709\u8e81\u52a8\u884c\u4e3a\u30025\u53f7\u7ebf\u6362\u4e582\u53f7\u7ebf\u4e5f\u6709\u5de5\u4f5c\u4eba\u5458\u5f15\u5bfc\uff0c\u8fd9\u6b21\uff0c\u9648\u71d5\u627e\u5230\u4e00\u4e2a\u5ea7\u4f4d\u5750\u4e0b\uff0c\u73cd\u59ae\u4f9d\u65e7\u5367\u5728\u5979\u811a\u8fb9\u3002\n\u3000\u3000\u9648\u71d5\u8bf4\uff0c\u4e58\u5750\u516c\u5171\u4ea4\u901a\u5de5\u5177\u7684\u80fd\u529b\uff0c\u662f\u5bfc\u76f2\u72ac\u5728\u8bad\u7ec3\u65f6\u7684\u5fc5\u4fee\u8bfe\u3002\u73cd\u59ae\u6628\u5929\u7684\u8868\u73b0\u5f88\u597d\uff0c\u5e76\u6ca1\u6709\u5bf9\u4eba\u7fa4\u6709\u6050\u60e7\u611f\u3002\u5979\u5e0c\u671b\uff0c\u901a\u8fc7\u8fd9\u4e00\u6b21\u7684\u5b9e\u8df5\uff0c\u8ba9\u66f4\u591a\u4eba\u4e86\u89e3\u89c6\u529b\u6b8b\u969c\u4eba\u58eb\u5bf9\u516c\u5171\u51fa\u884c\u7684\u9700\u6c42\uff0c\u4e86\u89e3\u5bfc\u76f2\u72ac\u3002\u76ee\u524d\u5168\u56fd\u201c\u6301\u8bc1\u201d\u7684\u5bfc\u76f2\u72ac\u4e5f\u4e0d\u8fc7\u4e03\u516b\u5341\u53ea\uff0c\u5317\u4eac\u5e02\u76ee\u524d\u5171\u67099\u53ea\uff0c\u5e02\u533a\u67097\u53ea\uff0c\u90ca\u533a\u67092\u53ea\u3002\n\n\u4ee3\u7801\u5982\u4e0b\uff1a\n        StringBuffer article = new StringBuffer();\n        String line;\n        try(BufferedReader out = new BufferedReader(new FileReader(\"C:/Users/huan.wang/Desktop/corpus.txt\"))) {\n            while((line = out.readLine()) != null) {\n                article.append(line);\n            }\n        } catch (IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n        List<Term> words = HanLP.segment(article.toString());\n        for(Term w : words) {\n            System.out.println(w);\n        }\n\n\u5f02\u5e38\u6808\u4fe1\u606f\uff1a\nException in thread \"main\" java.lang.IllegalArgumentException: Illegal Capacity: -1\n    at java.util.ArrayList.<init>(Unknown Source)\n    at com.hankcs.hanlp.seg.WordBasedGenerativeModelSegment.convert(WordBasedGenerativeModelSegment.java:241)\n    at com.hankcs.hanlp.seg.Viterbi.ViterbiSegment.segSentence(ViterbiSegment.java:114)\n    at com.hankcs.hanlp.seg.Segment.seg(Segment.java:384)\n    at com.hankcs.hanlp.tokenizer.StandardTokenizer.segment(StandardTokenizer.java:50)\n    at com.hankcs.hanlp.HanLP.segment(HanLP.java:371)\n", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/21/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/21/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/17", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/17/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/17/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/17/events", "html_url": "https://github.com/hankcs/HanLP/issues/17", "id": 78016109, "node_id": "MDU6SXNzdWU3ODAxNjEwOQ==", "number": 17, "title": "\u5173\u4e8e\u5206\u8bcd\u5668\u5bf9\u7a7a\u683c\u7684\u5904\u7406!", "user": {"login": "a198720", "id": 6447018, "node_id": "MDQ6VXNlcjY0NDcwMTg=", "avatar_url": "https://avatars.githubusercontent.com/u/6447018?v=4", "gravatar_id": "", "url": "https://api.github.com/users/a198720", "html_url": "https://github.com/a198720", "followers_url": "https://api.github.com/users/a198720/followers", "following_url": "https://api.github.com/users/a198720/following{/other_user}", "gists_url": "https://api.github.com/users/a198720/gists{/gist_id}", "starred_url": "https://api.github.com/users/a198720/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/a198720/subscriptions", "organizations_url": "https://api.github.com/users/a198720/orgs", "repos_url": "https://api.github.com/users/a198720/repos", "events_url": "https://api.github.com/users/a198720/events{/privacy}", "received_events_url": "https://api.github.com/users/a198720/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 136114037, "node_id": "MDU6TGFiZWwxMzYxMTQwMzc=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/improvement", "name": "improvement", "color": "84b6eb", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2015-05-19T09:42:52Z", "updated_at": "2015-05-20T09:04:36Z", "closed_at": "2015-05-19T10:09:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "\u5148\u4e3e\u4f8b:\n\u4ee3\u7801:\nStandardTokenizer.SEGMENT.enableNumberQuantifierRecognize(true);\nList<Term> termList = StandardTokenizer.segment(\"4\u670830\u53f7 9\u70b9\u949f\");\nSystem.out.println(termList);\ntermList = StandardTokenizer.segment(\"4\u670830\u53f79\u70b9\u949f\");\nSystem.out.println(termList);\ntermList = StandardTokenizer.segment(\"4\u670830\u65e59\u70b9\u949f\");\nSystem.out.println(termList);\n===========================\u7ed3\u679c====================================\n[4\u6708/mq, 30/m, \u53f7null/nz, 9\u70b9/m, \u949f/n]\n[4\u6708/mq, 30\u53f79\u70b9/m, \u949f/n]\n[4\u6708/mq, 30\u65e5/mq, 9\u70b9/m, \u949f/n]\n\n\u5176\u5b9e \u6211\u7406\u60f3\u4e2d\u7684\u6548\u679c\u5e94\u8be5\u662f:\n[4\u6708/mq, 30\u53f7/mq, 9\u70b9\u949f/mq]\n[4\u6708/mq, 30\u53f7/mq, 9\u70b9\u949f/mq]\n[4\u6708/mq, 30\u65e5/mq, 9\u70b9\u949f/mq]\n\n\u8bf7\u6559\u535a\u4e3b,\u8fd9\u4e2a\u95ee\u9898  \u8be5\u5982\u4f55\u53bb\u89e3\u51b3\u5462?\n", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/17/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/17/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/10", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/10/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/10/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/10/events", "html_url": "https://github.com/hankcs/HanLP/issues/10", "id": 74211503, "node_id": "MDU6SXNzdWU3NDIxMTUwMw==", "number": 10, "title": "\u540c\u65f6\u5f00\u542f\u6807\u51c6\u5206\u8bcd\u548c\u7d22\u5f15\u5206\u8bcd\u7684\u6570\u91cf\u8bcd\u8bc6\u522b,\u7136\u540e\u7d22\u5f15\u6570\u91cf\u8bcd\u65f6\u53d1\u751f\u6570\u7ec4\u8d8a\u754c\u5f02\u5e38.", "user": {"login": "a198720", "id": 6447018, "node_id": "MDQ6VXNlcjY0NDcwMTg=", "avatar_url": "https://avatars.githubusercontent.com/u/6447018?v=4", "gravatar_id": "", "url": "https://api.github.com/users/a198720", "html_url": "https://github.com/a198720", "followers_url": "https://api.github.com/users/a198720/followers", "following_url": "https://api.github.com/users/a198720/following{/other_user}", "gists_url": "https://api.github.com/users/a198720/gists{/gist_id}", "starred_url": "https://api.github.com/users/a198720/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/a198720/subscriptions", "organizations_url": "https://api.github.com/users/a198720/orgs", "repos_url": "https://api.github.com/users/a198720/repos", "events_url": "https://api.github.com/users/a198720/events{/privacy}", "received_events_url": "https://api.github.com/users/a198720/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-05-08T03:21:05Z", "updated_at": "2015-05-08T03:49:06Z", "closed_at": "2015-05-08T03:48:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "\u6d4b\u8bd5\u4ee3\u7801:\npublic class TestHanLP {\n    @Test\n    public void test1(){\n        StandardTokenizer.SEGMENT.enableNumberQuantifierRecognize(true);\n        IndexTokenizer.SEGMENT.enableNumberQuantifierRecognize(true);\n        List<Term> termList = StandardTokenizer.segment(\"\u6b64\u5e10\u53f7\u6709\u6b20\u8d39\u4e1a\u52a1\u662f\u4ec0\u4e48\");\n        termList = IndexTokenizer.segment(\"\u6b64\u5e10\u53f7\u6709\u6b20\u8d39\u4e1a\u52a1\u662f\u4ec0\u4e48\");\n        termList = StandardTokenizer.segment(\"15307971214\u8bdd\u8d39\u8fd8\u6709\u591a\u5c11\");\n        termList = IndexTokenizer.segment(\"15307971214\u8bdd\u8d39\u8fd8\u6709\u591a\u5c11\");\n        System.out.println(termList);\n    }\n}  \n\u5728\u5bf9\"\u6b64\u5e10\u53f7\u6709\u6b20\u8d39\u4e1a\u52a1\u662f\u4ec0\u4e48\"\u5206\u8bcd\u65f6\u5f88\u6b63\u5e38.\n\u5bf9\"\"15307971214\u8bdd\u8d39\u8fd8\u6709\u591a\u5c11\"\u5206\u8bcd\u65f6\u53d1\u751f\u6570\u7ec4\u8d8a\u754c\u5f02\u5e38\u9519\u8bef.\n# \u5f02\u5e38\u9519\u8bef:\n\njava.lang.ArrayIndexOutOfBoundsException: 19\n    at com.hankcs.hanlp.seg.common.WordNet.get(WordNet.java:214)\n    at com.hankcs.hanlp.seg.WordBasedGenerativeModelSegment.decorateResultForIndexMode(WordBasedGenerativeModelSegment.java:489)\n    at com.hankcs.hanlp.seg.Viterbi.ViterbiSegment.segSentence(ViterbiSegment.java:105)\n    at com.hankcs.hanlp.seg.Segment.seg(Segment.java:291)\n    at com.hankcs.hanlp.tokenizer.IndexTokenizer.segment(IndexTokenizer.java:33)\n    at com.xin.file.FileTest.test4(FileTest.java:93)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.lang.reflect.Method.invoke(Unknown Source)\n", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/10/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/10/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/4", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/4/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/4/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/4/events", "html_url": "https://github.com/hankcs/HanLP/issues/4", "id": 67285996, "node_id": "MDU6SXNzdWU2NzI4NTk5Ng==", "number": 4, "title": "\u5927\u8d5e\uff0c\u4e0d\u8fc7\u6458\u8981\u6548\u679c\u6709\u70b9\u95ee\u9898", "user": {"login": "lipiji", "id": 1300085, "node_id": "MDQ6VXNlcjEzMDAwODU=", "avatar_url": "https://avatars.githubusercontent.com/u/1300085?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lipiji", "html_url": "https://github.com/lipiji", "followers_url": "https://api.github.com/users/lipiji/followers", "following_url": "https://api.github.com/users/lipiji/following{/other_user}", "gists_url": "https://api.github.com/users/lipiji/gists{/gist_id}", "starred_url": "https://api.github.com/users/lipiji/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lipiji/subscriptions", "organizations_url": "https://api.github.com/users/lipiji/orgs", "repos_url": "https://api.github.com/users/lipiji/repos", "events_url": "https://api.github.com/users/lipiji/events{/privacy}", "received_events_url": "https://api.github.com/users/lipiji/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-04-09T05:40:29Z", "updated_at": "2015-04-11T05:45:17Z", "closed_at": "2015-04-09T05:44:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "\u63d0\u4f9b\u7684\u4f8b\u5b50\u7ed3\u679c\u662f\uff1a\n[\u65e0\u9650\u7b97\u6cd5\u7684\u4ea7\u751f\u662f\u7531\u4e8e\u672a\u80fd\u786e\u5b9a\u7684\u5b9a\u4e49\u7ec8\u6b62\u6761\u4ef6, \u8fd9\u7c7b\u7b97\u6cd5\u5728\u6709\u9650\u7684\u65f6\u95f4\u5185\u7ec8\u6b62, \u8fd9\u7c7b\u7b97\u6cd5\u5728\u6709\u9650\u7684\u4e00\u6bb5\u65f6\u95f4\u5185\u7ec8\u6b62]\n\n\u770b\u6765\u8fd8\u662f\u6709\u5f88\u591a\u4f18\u5316\u7a7a\u95f4\u7684\u3002\n\n\u4e0d\u8fc7\u8fd9\u4e48\u5168\u9762\u7684NLP package\u5df2\u7ecf\u5f88\u8d5e\u4e86\uff0c\u5269\u4e0b\u7684\u4f18\u5316\u8fc7\u7a0b\u5176\u5b9e\u76f8\u5bf9\u5bb9\u6613\u4e00\u4e9b\u5566~\n", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/4/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/4/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/hankcs/HanLP/issues/2", "repository_url": "https://api.github.com/repos/hankcs/HanLP", "labels_url": "https://api.github.com/repos/hankcs/HanLP/issues/2/labels{/name}", "comments_url": "https://api.github.com/repos/hankcs/HanLP/issues/2/comments", "events_url": "https://api.github.com/repos/hankcs/HanLP/issues/2/events", "html_url": "https://github.com/hankcs/HanLP/issues/2", "id": 65821077, "node_id": "MDU6SXNzdWU2NTgyMTA3Nw==", "number": 2, "title": "\u6269\u5c55\u8bcd\u5e93\u52a0\u5165\u82f1\u6587\uff0c\u8f93\u5165\u6269\u5c55\u82f1\u6587\u8fde\u63a5\u53e6\u4e00\u82f1\u6587\uff0c\u5206\u8bcd\u4f1a\u62a5\u9519\u3002", "user": {"login": "timlincool", "id": 5269547, "node_id": "MDQ6VXNlcjUyNjk1NDc=", "avatar_url": "https://avatars.githubusercontent.com/u/5269547?v=4", "gravatar_id": "", "url": "https://api.github.com/users/timlincool", "html_url": "https://github.com/timlincool", "followers_url": "https://api.github.com/users/timlincool/followers", "following_url": "https://api.github.com/users/timlincool/following{/other_user}", "gists_url": "https://api.github.com/users/timlincool/gists{/gist_id}", "starred_url": "https://api.github.com/users/timlincool/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/timlincool/subscriptions", "organizations_url": "https://api.github.com/users/timlincool/orgs", "repos_url": "https://api.github.com/users/timlincool/repos", "events_url": "https://api.github.com/users/timlincool/events{/privacy}", "received_events_url": "https://api.github.com/users/timlincool/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 136114035, "node_id": "MDU6TGFiZWwxMzYxMTQwMzU=", "url": "https://api.github.com/repos/hankcs/HanLP/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-04-02T02:27:26Z", "updated_at": "2015-04-02T09:14:55Z", "closed_at": "2015-04-02T09:12:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "\u6269\u5c55\u8bcd\u5e93\u52a0\u5165\u82f1\u6587\uff0c\u8f93\u5165\u6269\u5c55\u82f1\u6587\u8fde\u63a5\u53e6\u4e00\u82f1\u6587\uff0c\u5206\u8bcd\u4f1a\u62a5\u9519\u3002\n\u539f\u672c\u4ee5\u4e3a\u662f\u81ea\u5b9a\u8bcd\u6027\u7684\u95ee\u9898\uff0c\u4f46\u5c06\u8bcd\u6027\u6539\u4e3an\uff0c\u4ecd\u4f1a\u62a5\u9519\n\n\u8bcd\u5e93\u5185\u5bb9\u4e3a\nBENQ    n   1024\nBENTLEY n   1024\n\n\u8f93\u5165\"BENQphone\";\n\u4f7f\u7528\u6807\u51c6\u5206\u8bcd   HanLP.segment(text)\n\n\u5f00\u542fdebug\u5982\u4e0b\uff1a\n\n\u7c97\u5206\u8bcd\u7f51\uff1a\n0:[ ]\n1:[BENQ]\n2:[ENQphone]\n3:[]\n4:[]\n5:[]\n6:[]\n7:[]\n8:[]\n9:[]\n10:[ ]\n\n\u4f1a\u62a5\u51fa\u8fd9\u6837\u7684\u9519\u8bef \n\nException in thread \"main\" java.lang.IllegalArgumentException: Illegal Capacity: -1\n    at java.util.ArrayList.<init>(ArrayList.java:142)\n    at com.hankcs.hanlp.seg.HiddenMarkovModelSegment.convert(HiddenMarkovModelSegment.java:238)\n    at com.hankcs.hanlp.seg.Viterbi.ViterbiSegment.segSentence(ViterbiSegment.java:50)\n    at com.hankcs.hanlp.seg.Segment.seg(Segment.java:144)\n    at com.hankcs.hanlp.tokenizer.StandardTokenizer.segment(StandardTokenizer.java:39)\n    at com.hankcs.hanlp.HanLP.segment(HanLP.java:354)\n\n\u539f\u56e0\u662f  com.hankcs.hanlp.seg.Viterbi.ViterbiSegment  \u4e2d 47\u884c\n List<Vertex> vertexList = viterbi(wordNetAll);\n\n\u8fd4\u56de\u7ed3\u679c\nvertexList =[ ]\nvertexList.size() = 1\n\n\u4f46\u8f93\u5165 \"BENQBENTLEYphone\"  \n\n\u5219\u8f93\u51fa\u6ca1\u62a5\u9519\uff0c\u4f46\u7ed3\u679c\u4e0d\u662f\u60f3\u8981\u7684\n\n\u4eba\u540d\u89d2\u8272\u89c2\u5bdf\uff1a[  A 42634591 ][BENQ A 42634591 ][B L 3 ][ENTLEYphone A 42634591 ][  A 42634591 ]\n\u4eba\u540d\u89d2\u8272\u6807\u6ce8\uff1a[ /A ,BENQ/A ,B/L ,ENTLEYphone/A , /A]\n[BENQ/n, B/nx, ENTLEYphone/nx]\n\n\u8bf7\u95ee\u8be5\u5982\u4f55\u4fee\u6539\u624d\u80fd\u6dfb\u52a0\u82f1\u6587\u8bcd\u5e93\u5462\uff1f\n", "reactions": {"url": "https://api.github.com/repos/hankcs/HanLP/issues/2/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/hankcs/HanLP/issues/2/timeline", "performed_via_github_app": null, "state_reason": "completed"}]